<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Server-side page fragment composition | hyunyoun's Blog</title><meta name=keywords content="System-and-Software-Architecture,MSA-Patterns,UI,Server-side-page-fragment-composition"><meta name=description content="마이크로서비스 아키텍처(MSA)에서 여러 서비스로부터 HTML 조각(프래그먼트)을 수집하여 서버에서 최종 웹 페이지를 구성하는 패턴"><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/use-cases/integration-patterns/ui-integration/server-side-page-fragment-composition/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/use-cases/integration-patterns/ui-integration/server-side-page-fragment-composition/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/software-engineering/design-and-architecture/use-cases/integration-patterns/ui-integration/server-side-page-fragment-composition/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Server-side page fragment composition"><meta property="og:description" content="마이크로서비스 아키텍처(MSA)에서 여러 서비스로부터 HTML 조각(프래그먼트)을 수집하여 서버에서 최종 웹 페이지를 구성하는 패턴"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-11-19T11:07:00+00:00"><meta property="article:modified_time" content="2024-11-19T11:07:00+00:00"><meta property="article:tag" content="System-and-Software-Architecture"><meta property="article:tag" content="MSA-Patterns"><meta property="article:tag" content="UI"><meta property="article:tag" content="Server-Side-Page-Fragment-Composition"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Server-side page fragment composition"><meta name=twitter:description content="마이크로서비스 아키텍처(MSA)에서 여러 서비스로부터 HTML 조각(프래그먼트)을 수집하여 서버에서 최종 웹 페이지를 구성하는 패턴"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Computer Science and Engineering","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Software Engineering","item":"https://buenhyden.github.io/posts/software-engineering/"},{"@type":"ListItem","position":3,"name":"Design and Architecture","item":""},{"@type":"ListItem","position":4,"name":"Use Cases","item":""},{"@type":"ListItem","position":6,"name":"UI","item":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/use-cases/integration-patterns/ui-integration/"},{"@type":"ListItem","position":7,"name":"Server-side page fragment composition","item":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/use-cases/integration-patterns/ui-integration/server-side-page-fragment-composition/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Server-side page fragment composition","name":"Server-side page fragment composition","description":"마이크로서비스 아키텍처(MSA)에서 여러 서비스로부터 HTML 조각(프래그먼트)을 수집하여 서버에서 최종 웹 페이지를 구성하는 패턴","keywords":["System-and-Software-Architecture","MSA-Patterns","UI","Server-side-page-fragment-composition"],"articleBody":"Server-side Page Fragment Composition Server-side page fragment composition은 마이크로서비스 아키텍처(MSA)에서 여러 서비스로부터 HTML 조각(프래그먼트)을 수집하여 서버에서 최종 웹 페이지를 구성하는 패턴이다. 이 패턴은 각 서비스가 독립적으로 개발되고 배포될 수 있도록 하면서도, 최종 사용자에게는 통합된 사용자 경험을 제공한다.\nServer-side page fragment composition은 여러 마이크로서비스가 생성한 HTML 조각을 서버에서 조합하여 최종 웹 페이지를 만드는 방식이다. 각 마이크로서비스는 특정 비즈니스 기능이나 도메인에 해당하는 UI 컴포넌트를 제공하며, 이러한 컴포넌트는 서버에서 통합되어 클라이언트에 전달된다.\n예를 들어, 전자상거래 사이트의 상품 상세 페이지를 구성할 때, 상품 정보, 사용자 리뷰, 추천 상품 등의 데이터는 각각 다른 서비스에서 제공되며, 서버는 이들을 조합하여 하나의 페이지로 렌더링한다.\nServer-side page fragment composition은 마이크로서비스 아키텍처에서 다양한 서비스를 통합하여 일관된 사용자 경험을 제공하는 효과적인 방법이다. 이 패턴은 성능과 SEO 최적화 측면에서 많은 장점을 가지고 있지만, 네트워크 지연 및 서버 복잡성 증가와 같은 단점도 고려해야 한다. 따라서 프로젝트의 요구사항과 환경에 따라 적절히 선택하고 구현하는 것이 중요하다.\n작동 방식 클라이언트 요청: 클라이언트(브라우저)는 특정 페이지에 대한 요청을 서버에 보낸다. 프래그먼트 요청: 서버는 필요한 여러 마이크로서비스에 요청을 보내 각 서비스로부터 HTML 프래그먼트를 가져온다. 프래그먼트 조합: 서버는 수집한 프래그먼트를 조합하여 최종 HTML 페이지를 생성한다. 응답 반환: 최종 페이지가 클라이언트에 반환되어 사용자가 볼 수 있게 된다. 장점 성능 향상:\n서버에서 모든 프래그먼트를 조합하여 클라이언트에 전달하므로, 클라이언트 측에서 추가적인 네트워크 요청이 필요하지 않는다. 이는 초기 로딩 속도를 개선하고 사용자 경험을 향상시킨다. SEO 최적화:\n서버에서 이미 조합된 HTML이 클라이언트에 전달되므로 검색 엔진 크롤러가 콘텐츠를 쉽게 인식할 수 있다. 이는 SEO에 긍정적인 영향을 미친다. 비즈니스 기능의 독립성:\n각 마이크로서비스는 독립적으로 개발 및 배포될 수 있어, 팀 간의 협업이 용이하고 변경 사항이 다른 서비스에 미치는 영향을 최소화한다. 일관된 사용자 경험:\n여러 서비스의 UI 컴포넌트를 통합하여 일관된 디자인과 사용자 경험을 제공한다. 단점 지연 시간 증가:\n여러 서비스에 대한 요청을 처리해야 하므로, 네트워크 지연 시간이 발생할 수 있다. 특히 서비스 간 연결이 느린 경우 성능 저하가 우려된다. 서버 복잡성 증가:\n프래그먼트를 조합하는 서버 측 로직이 복잡해질 수 있으며, 이를 관리하기 위한 추가적인 코드와 인프라가 필요하다. 장애 전파 위험:\n하나의 서비스가 장애를 일으킬 경우 전체 페이지 로딩에 영향을 줄 수 있다. 따라서 각 서비스의 가용성을 높이는 것이 중요하다. 사용 사례 전자상거래 사이트: 상품 정보, 리뷰, 추천 등을 각각 다른 서비스로부터 가져와 보여주는 경우. 대시보드 애플리케이션: 여러 데이터 소스에서 정보를 통합하여 시각화하는 경우. 관리자 패널: 다양한 기능이 여러 백엔드 시스템과 연결되어 있는 경우. 참고 및 출처 ","wordCount":"368","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-11-19T11:07:00Z","dateModified":"2024-11-19T11:07:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/use-cases/integration-patterns/ui-integration/server-side-page-fragment-composition/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>Computer Science and Engineering</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-engineering/>Software Engineering</a>&nbsp;»&nbsp;<a href>Design and Architecture</a>&nbsp;»&nbsp;<a href>Use Cases</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/use-cases/integration-patterns/ui-integration/>UI</a></div><h1 class="post-title entry-hint-parent">Server-side page fragment composition</h1><div class=post-description>마이크로서비스 아키텍처(MSA)에서 여러 서비스로부터 HTML 조각(프래그먼트)을 수집하여 서버에서 최종 웹 페이지를 구성하는 패턴</div><div class=post-meta><span title='2024-11-19 11:07:00 +0000 UTC'>November 19, 2024</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Software%20Engineering/Design%20and%20Architecture/Use%20Cases/Integration%20Patterns/UI%20integration/Server-side-page-fragment-composition.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#server-side-page-fragment-composition>Server-side Page Fragment Composition</a><ul><li><a href=#작동-방식>작동 방식</a></li><li><a href=#장점>장점</a></li><li><a href=#단점>단점</a></li><li><a href=#사용-사례>사용 사례</a></li></ul></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=server-side-page-fragment-composition>Server-side Page Fragment Composition<a hidden class=anchor aria-hidden=true href=#server-side-page-fragment-composition>#</a></h2><p><strong>Server-side page fragment composition</strong>은 마이크로서비스 아키텍처(MSA)에서 여러 서비스로부터 HTML 조각(프래그먼트)을 수집하여 서버에서 최종 웹 페이지를 구성하는 패턴이다. 이 패턴은 각 서비스가 독립적으로 개발되고 배포될 수 있도록 하면서도, 최종 사용자에게는 통합된 사용자 경험을 제공한다.</p><p>Server-side page fragment composition은 여러 마이크로서비스가 생성한 HTML 조각을 서버에서 조합하여 최종 웹 페이지를 만드는 방식이다. 각 마이크로서비스는 특정 비즈니스 기능이나 도메인에 해당하는 UI 컴포넌트를 제공하며, 이러한 컴포넌트는 서버에서 통합되어 클라이언트에 전달된다.</p><p>예를 들어, 전자상거래 사이트의 상품 상세 페이지를 구성할 때, 상품 정보, 사용자 리뷰, 추천 상품 등의 데이터는 각각 다른 서비스에서 제공되며, 서버는 이들을 조합하여 하나의 페이지로 렌더링한다.</p><p>Server-side page fragment composition은 마이크로서비스 아키텍처에서 다양한 서비스를 통합하여 일관된 사용자 경험을 제공하는 효과적인 방법이다. 이 패턴은 성능과 SEO 최적화 측면에서 많은 장점을 가지고 있지만, 네트워크 지연 및 서버 복잡성 증가와 같은 단점도 고려해야 한다. 따라서 프로젝트의 요구사항과 환경에 따라 적절히 선택하고 구현하는 것이 중요하다.</p><h3 id=작동-방식>작동 방식<a hidden class=anchor aria-hidden=true href=#작동-방식>#</a></h3><ol><li><strong>클라이언트 요청</strong>: 클라이언트(브라우저)는 특정 페이지에 대한 요청을 서버에 보낸다.</li><li><strong>프래그먼트 요청</strong>: 서버는 필요한 여러 마이크로서비스에 요청을 보내 각 서비스로부터 HTML 프래그먼트를 가져온다.</li><li><strong>프래그먼트 조합</strong>: 서버는 수집한 프래그먼트를 조합하여 최종 HTML 페이지를 생성한다.</li><li><strong>응답 반환</strong>: 최종 페이지가 클라이언트에 반환되어 사용자가 볼 수 있게 된다.</li></ol><h3 id=장점>장점<a hidden class=anchor aria-hidden=true href=#장점>#</a></h3><ol><li><p><strong>성능 향상</strong>:</p><ul><li>서버에서 모든 프래그먼트를 조합하여 클라이언트에 전달하므로, 클라이언트 측에서 추가적인 네트워크 요청이 필요하지 않는다. 이는 초기 로딩 속도를 개선하고 사용자 경험을 향상시킨다.</li></ul></li><li><p><strong>SEO 최적화</strong>:</p><ul><li>서버에서 이미 조합된 HTML이 클라이언트에 전달되므로 검색 엔진 크롤러가 콘텐츠를 쉽게 인식할 수 있다. 이는 SEO에 긍정적인 영향을 미친다.</li></ul></li><li><p><strong>비즈니스 기능의 독립성</strong>:</p><ul><li>각 마이크로서비스는 독립적으로 개발 및 배포될 수 있어, 팀 간의 협업이 용이하고 변경 사항이 다른 서비스에 미치는 영향을 최소화한다.</li></ul></li><li><p><strong>일관된 사용자 경험</strong>:</p><ul><li>여러 서비스의 UI 컴포넌트를 통합하여 일관된 디자인과 사용자 경험을 제공한다.</li></ul></li></ol><h3 id=단점>단점<a hidden class=anchor aria-hidden=true href=#단점>#</a></h3><ol><li><p><strong>지연 시간 증가</strong>:</p><ul><li>여러 서비스에 대한 요청을 처리해야 하므로, 네트워크 지연 시간이 발생할 수 있다. 특히 서비스 간 연결이 느린 경우 성능 저하가 우려된다.</li></ul></li><li><p><strong>서버 복잡성 증가</strong>:</p><ul><li>프래그먼트를 조합하는 서버 측 로직이 복잡해질 수 있으며, 이를 관리하기 위한 추가적인 코드와 인프라가 필요하다.</li></ul></li><li><p><strong>장애 전파 위험</strong>:</p><ul><li>하나의 서비스가 장애를 일으킬 경우 전체 페이지 로딩에 영향을 줄 수 있다. 따라서 각 서비스의 가용성을 높이는 것이 중요하다.</li></ul></li></ol><h3 id=사용-사례>사용 사례<a hidden class=anchor aria-hidden=true href=#사용-사례>#</a></h3><ul><li><strong>전자상거래 사이트</strong>: 상품 정보, 리뷰, 추천 등을 각각 다른 서비스로부터 가져와 보여주는 경우.</li><li><strong>대시보드 애플리케이션</strong>: 여러 데이터 소스에서 정보를 통합하여 시각화하는 경우.</li><li><strong>관리자 패널</strong>: 다양한 기능이 여러 백엔드 시스템과 연결되어 있는 경우.</li></ul><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/system-and-software-architecture/>System-and-Software-Architecture</a></li><li><a href=https://buenhyden.github.io/tags/msa-patterns/>MSA-Patterns</a></li><li><a href=https://buenhyden.github.io/tags/ui/>UI</a></li><li><a href=https://buenhyden.github.io/tags/server-side-page-fragment-composition/>Server-Side-Page-Fragment-Composition</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/use-cases/integration-patterns/ui-integration/client-side-ui-composition/><span class=title>« Prev</span><br><span>Client-side UI composition</span>
</a><a class=next href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/architecture-styles-and-patterns/architecture-patterns/security/api-key-authentication/><span class=title>Next »</span><br><span>API Key Authentication</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>