<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Facade Pattern | hyunyoun's Blog</title><meta name=keywords content="Software-Engineering,Design-and-Architecture,Software-Design-Patterns,GoF,Structural,Facade-Pattern"><meta name=description content="Facade Pattern(퍼사드 패턴) 은 복잡한 서브시스템의 인터페이스들을 통합하여 단순화된 단일 인터페이스를 제공하는 구조적 디자인 패턴이다. 클라이언트가 복잡한 시스템의 내부 구조를 알지 않고도 쉽게 사용할 수 있도록 하며, 시스템 간의 결합도를 낮추고 유지보수성을 향상시킨다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/gof/structural/facade-pattern/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/gof/structural/facade-pattern/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/gof/structural/facade-pattern/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/gof/structural/facade-pattern/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Facade Pattern"><meta property="og:description" content="Facade Pattern(퍼사드 패턴) 은 복잡한 서브시스템의 인터페이스들을 통합하여 단순화된 단일 인터페이스를 제공하는 구조적 디자인 패턴이다. 클라이언트가 복잡한 시스템의 내부 구조를 알지 않고도 쉽게 사용할 수 있도록 하며, 시스템 간의 결합도를 낮추고 유지보수성을 향상시킨다."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Facade Pattern"><meta name=twitter:description content="Facade Pattern(퍼사드 패턴) 은 복잡한 서브시스템의 인터페이스들을 통합하여 단순화된 단일 인터페이스를 제공하는 구조적 디자인 패턴이다. 클라이언트가 복잡한 시스템의 내부 구조를 알지 않고도 쉽게 사용할 수 있도록 하며, 시스템 간의 결합도를 낮추고 유지보수성을 향상시킨다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"기록하고 기억하고 활용하자.","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Software Engineering","item":"https://buenhyden.github.io/posts/software-engineering/"},{"@type":"ListItem","position":3,"name":"Design and Architecture","item":""},{"@type":"ListItem","position":4,"name":"Software Design Patterns","item":""},{"@type":"ListItem","position":5,"name":"GoF","item":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/gof/"},{"@type":"ListItem","position":6,"name":"Structural","item":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/gof/structural/"},{"@type":"ListItem","position":7,"name":"Facade Pattern","item":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/gof/structural/facade-pattern/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>기록하고 기억하고 활용하자.</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-engineering/>Software Engineering</a>&nbsp;»&nbsp;<a href>Design and Architecture</a>&nbsp;»&nbsp;<a href>Software Design Patterns</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/gof/>GoF</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/gof/structural/>Structural</a></div><h1>Facade Pattern</h1><div class=post-description>Facade Pattern(퍼사드 패턴) 은 복잡한 서브시스템의 인터페이스들을 통합하여 단순화된 단일 인터페이스를 제공하는 구조적 디자인 패턴이다. 클라이언트가 복잡한 시스템의 내부 구조를 알지 않고도 쉽게 사용할 수 있도록 하며, 시스템 간의 결합도를 낮추고 유지보수성을 향상시킨다.</div></header><div class=post-content><h2 id=facade-pattern>Facade Pattern<a hidden class=anchor aria-hidden=true href=#facade-pattern>#</a></h2><p>Facade Pattern 은 여러 서브시스템이나 복잡한 내부 구조를 하나의 단순한 인터페이스로 감싸서 클라이언트가 쉽게 사용할 수 있도록 하는 구조적 디자인 패턴이다. 퍼사드 객체 (Facade) 는 내부 시스템의 복잡한 동작을 캡슐화하고, 클라이언트는 퍼사드만 알면 다양한 기능을 손쉽게 사용할 수 있다. 이를 통해 결합도를 낮추고, 코드의 가독성과 유지보수성을 크게 향상시킬 수 있다. 실제로 프레임워크, 라이브러리, 대형 시스템의 진입점, 외부 API 연동 등 다양한 분야에서 활용된다.</p><h3 id=배경>배경<a hidden class=anchor aria-hidden=true href=#배경>#</a></h3><p>퍼사드 패턴이 등장한 배경은 다음과 같다:</p><ol><li><p><strong>소프트웨어 복잡성 증가</strong></p><ul><li>시스템 규모 확대로 인한 클래스 수 증가</li><li>서브시스템 간 복잡한 상호작용</li><li>새로운 개발자의 학습 곡선 가파름</li></ul></li><li><p><strong>결합도 문제</strong></p><ul><li>클라이언트와 서브시스템 간 강한 결합</li><li>변경 사항이 전체 시스템에 미치는 파급효과</li><li>테스트의 어려움</li></ul></li><li><p><strong>재사용성 제약</strong></p><ul><li>복잡한 인터페이스로 인한 재사용 어려움</li><li>컴포넌트의 독립성 부족</li></ul></li></ol><h3 id=목적-및-필요성>목적 및 필요성<a hidden class=anchor aria-hidden=true href=#목적-및-필요성>#</a></h3><p><strong>주요 목적</strong>:</p><ol><li><strong>복잡성 관리</strong>: 서브시스템의 복잡성을 클라이언트로부터 숨김</li><li><strong>결합도 감소</strong>: 클라이언트와 서브시스템 간 느슨한 결합 구현</li><li><strong>사용성 향상</strong>: 직관적이고 사용하기 쉬운 인터페이스 제공</li><li><strong>유지보수성</strong>: 코드 변경 시 영향 범위 최소화</li></ol><p><strong>필요성</strong>:</p><ul><li>레거시 시스템 (Legacy System) 통합 시</li><li>복잡한 라이브러리나 프레임워크 사용 시</li><li>마이크로서비스 간 통신 복잡성 해결 시</li><li>써드파티 API (Third-party API) 통합 시</li></ul><h3 id=핵심-개념>핵심 개념<a hidden class=anchor aria-hidden=true href=#핵심-개념>#</a></h3><p><strong>Facade Pattern</strong>은 복잡한 서브시스템에 대해 간단한 인터페이스를 제공하는 디자인 패턴이다. 클라이언트는 내부 시스템의 상세 구현을 몰라도 <code>Facade</code> 클래스만을 통해 기능을 사용할 수 있으며, 이는 시스템의 결합도를 줄이고 유지보수성을 향상시킨다.</p><ol><li><p><strong>인터페이스 단순화 (Interface Simplification)</strong></p><ul><li>복잡한 서브시스템들을 하나의 간단한 인터페이스로 통합</li><li>클라이언트가 알아야 할 세부사항을 최소화</li><li>높은 수준의 추상화 제공</li></ul></li><li><p><strong>서브시스템 캡슐화 (Subsystem Encapsulation)</strong></p><ul><li>내부 구현 세부사항을 외부로부터 숨김</li><li>서브시스템 간의 복잡한 의존성 관리</li><li>변경 사항의 영향 범위 제한</li></ul></li><li><p><strong>통합 진입점 (Unified Entry Point)</strong></p><ul><li>시스템에 대한 단일 접근 지점 제공</li><li>일관된 인터페이스 스타일 유지</li><li>사용자 경험의 일관성 보장</li></ul></li></ol><h4 id=기본-개념>기본 개념<a hidden class=anchor aria-hidden=true href=#기본-개념>#</a></h4><ul><li><strong>통합 인터페이스</strong>: 여러 서브시스템의 복잡한 인터페이스들을 하나의 단순한 인터페이스로 통합</li><li><strong>복잡성 은닉</strong>: 클라이언트로부터 시스템의 내부 구조와 복잡성을 숨김</li><li><strong>위임 (Delegation)</strong>: Facade 는 실제 작업을 서브시스템 구성요소들에게 위임</li><li><strong>느슨한 결합</strong>: 클라이언트와 서브시스템 간의 직접적인 의존성을 제거</li></ul><h4 id=심화-개념>심화 개념<a hidden class=anchor aria-hidden=true href=#심화-개념>#</a></h4><ul><li><strong>컴포지션과 집약</strong>: Facade 는 서브시스템 객체들을 포함하거나 참조</li><li><strong>단일 책임 원칙</strong>: 각 서브시스템은 고유한 기능을 담당하고 Facade 는 조율 역할</li><li><strong>최소 지식 원칙 (Law of Demeter)</strong>: 객체는 자신과 직접적으로 관련된 객체만을 알아야 함</li></ul><h4 id=실무-구현을-위한-연관성-분석>실무 구현을 위한 연관성 분석<a hidden class=anchor aria-hidden=true href=#실무-구현을-위한-연관성-분석>#</a></h4><p><strong>코드 구조 측면</strong>:</p><ul><li>클래스 설계 시 역할과 책임의 명확한 분리</li><li>인터페이스 정의와 구현체 분리</li><li>의존성 주입 패턴과의 연계</li></ul><p><strong>아키텍처 측면</strong>:</p><ul><li>마이크로서비스 아키텍처에서의 API 게이트웨이 (API Gateway) 역할</li><li>레이어드 아키텍처 (Layered Architecture) 에서의 서비스 계층</li><li>모듈화와 패키지 구조 설계</li></ul><p><strong>운영 측면</strong>:</p><ul><li>로그 중앙화 및 모니터링 연계점</li><li>보안 정책 적용 지점</li><li>성능 최적화 및 캐싱 전략 적용점</li></ul><h4 id=실무에서-구현하기-위해-필요한-내용>실무에서 구현하기 위해 필요한 내용<a hidden class=anchor aria-hidden=true href=#실무에서-구현하기-위해-필요한-내용>#</a></h4><ul><li><strong>서브시스템 분석:</strong> 복잡한 서브시스템의 구조와 기능을 명확히 파악.</li><li><strong>Facade 클래스 설계:</strong> 클라이언트가 필요로 하는 기능을 단순화하여 Facade 클래스로 제공.</li><li><strong>결합도 최소화:</strong> 클라이언트는 Facade 만을 통해 서브시스템에 접근하도록 설계.</li><li><strong>유지보수 및 확장성 고려:</strong> 서브시스템 변경 시 Facade 만 수정하면 클라이언트 영향 최소화.</li></ul><h4 id=의도-intent>의도 (Intent)<a hidden class=anchor aria-hidden=true href=#의도-intent>#</a></h4><ul><li>복잡한 서브시스템에 대한 단순화된 인터페이스를 제공하여, 클라이언트가 시스템의 내부 세부 사항을 알지 않고도 기능을 사용할 수 있게 한다.</li></ul><h4 id=다른-이름-also-known-as>다른 이름 (Also Known As)<a hidden class=anchor aria-hidden=true href=#다른-이름-also-known-as>#</a></h4><ul><li><strong>Wrapper</strong>라고도 불린다.<br>하지만 Wrapper 는 일반적으로 단일 클래스에 대한 인터페이스를 감쌀 때 사용하는 용어이며, Facade 는 여러 클래스나 서브시스템 전체를 감싼다.</li></ul><h4 id=동기-motivation--forces>동기 (Motivation / Forces)<a hidden class=anchor aria-hidden=true href=#동기-motivation--forces>#</a></h4><ul><li>시스템이 점점 커지면 내부 구성 요소의 복잡도가 증가한다.</li><li>여러 서브시스템이 존재하면, 클라이언트는 이 모든 구성 요소에 대해 이해하고 조작해야 한다.</li><li>이에 대한 해결책으로 <strong>Facade</strong>를 통해 단일 인터페이스를 제공하여 <strong>서브시스템을 은닉하고 추상화</strong>한다.</li></ul><h4 id=적용-가능성-applicability>적용 가능성 (Applicability)<a hidden class=anchor aria-hidden=true href=#적용-가능성-applicability>#</a></h4><p>다음과 같은 경우에 Facade Pattern 을 적용할 수 있다:</p><table><thead><tr><th>상황</th><th>설명</th></tr></thead><tbody><tr><td>복잡한 시스템을 단순화해야 할 때</td><td>클라이언트가 서브시스템에 대한 세부 구현을 알 필요 없이 간단한 인터페이스만 필요할 경우</td></tr><tr><td>레이어 간 결합도를 낮추고 싶을 때</td><td>예: UI → Service → Data Layer 간의 인터페이스 정리</td></tr><tr><td>테스트 또는 유지보수를 쉽게 만들고 싶을 때</td><td>복잡한 구성 요소들의 사용을 통제하여 영향도를 줄이고자 할 때</td></tr></tbody></table><h3 id=주요-기능-및-역할>주요 기능 및 역할<a hidden class=anchor aria-hidden=true href=#주요-기능-및-역할>#</a></h3><p><strong>핵심 기능</strong></p><ol><li><strong>인터페이스 통합</strong>: 여러 서브시스템의 인터페이스를 하나로 통합</li><li><strong>요청 위임</strong>: 클라이언트 요청을 적절한 서브시스템 구성요소에 전달</li><li><strong>라이프사이클 관리</strong>: 서브시스템 객체들의 생성과 소멸 관리</li><li><strong>오류 처리</strong>: 서브시스템에서 발생하는 예외를 적절히 처리</li></ol><p><strong>주요 역할</strong></p><ul><li><strong>중재자</strong>: 클라이언트와 서브시스템 간의 중간 역할</li><li><strong>단순화 도구</strong>: 복잡한 API 를 사용하기 쉬운 형태로 변환</li><li><strong>보호막</strong>: 서브시스템의 변경으로부터 클라이언트 코드를 보호</li></ul><h3 id=특징>특징<a hidden class=anchor aria-hidden=true href=#특징>#</a></h3><p><strong>구조적 특징</strong>:</p><ul><li><strong>단일 진입점</strong>: 클라이언트는 Facade 를 통해서만 시스템에 접근</li><li><strong>컴포지션 기반</strong>: 서브시스템 객체들을 포함하거나 참조</li><li><strong>위임 패턴</strong>: 실제 작업을 서브시스템에 위임</li><li><strong>선택적 접근</strong>: 필요한 기능만을 노출</li></ul><p><strong>동작 특징</strong></p><ul><li><strong>투명성</strong>: 클라이언트는 서브시스템의 존재를 인식하지 못함</li><li><strong>단방향 통신</strong>: Facade 에서 서브시스템으로의 일방향 호출</li><li><strong>상태 없음</strong>: 일반적으로 Facade 는 상태를 유지하지 않음</li></ul><h3 id=핵심-원칙>핵심 원칙<a hidden class=anchor aria-hidden=true href=#핵심-원칙>#</a></h3><ol><li><p><strong>단일 책임 원칙 (Single Responsibility Principle)</strong></p><ul><li>서브시스템 통합이라는 단일 목적 수행</li><li>각 서브시스템의 고유 기능은 변경하지 않음</li></ul></li><li><p><strong>개방 - 폐쇄 원칙 (Open-Closed Principle)</strong></p><ul><li>새로운 기능 추가 시 확장에 열려있음</li><li>기존 클라이언트 코드 변경 없이 기능 추가 가능</li></ul></li><li><p><strong>의존성 역전 원칙 (Dependency Inversion Principle)</strong></p><ul><li>구체적인 구현보다는 추상화에 의존</li><li>인터페이스를 통한 서브시스템 접근</li></ul></li><li><p><strong>최소 지식 원칙 (Law of Demeter)</strong></p><ul><li>클라이언트는 Facade 만 알면 되고, 서브시스템의 세부사항을 알 필요가 없다.</li></ul></li></ol><h3 id=작동-원리-및-방식>작동 원리 및 방식<a hidden class=anchor aria-hidden=true href=#작동-원리-및-방식>#</a></h3><p>클라이언트는 복잡한 서브시스템의 내부 로직을 몰라도 <code>Facade</code> 객체를 통해 일관된 인터페이스를 사용하여 간단히 기능을 수행할 수 있다.</p><ul><li><code>Client</code> 는 <code>Facade</code> 를 호출하고,</li><li><code>Facade</code> 는 내부적으로 <code>Subsystem A</code>, <code>Subsystem B</code> 등의 다양한 컴포넌트를 조합하여 기능을 제공한다.</li></ul><pre class=mermaid>sequenceDiagram
    participant Client as 클라이언트
    participant Facade as 퍼사드
    participant SubA as 서브시스템 A
    participant SubB as 서브시스템 B
    participant SubC as 서브시스템 C
    
    Client-&gt;&gt;Facade: 통합 요청
    Facade-&gt;&gt;SubA: 초기화
    Facade-&gt;&gt;SubB: 설정
    Facade-&gt;&gt;SubC: 데이터 처리
    SubC--&gt;&gt;Facade: 결과
    SubB--&gt;&gt;Facade: 완료
    SubA--&gt;&gt;Facade: 정리
    Facade--&gt;&gt;Client: 통합 결과
</pre><p><strong>작동 원리</strong>:</p><ol><li>클라이언트가 퍼사드에 요청 전송</li><li>퍼사드가 요청을 분석하여 필요한 서브시스템 결정</li><li>적절한 순서로 서브시스템 메서드 호출</li><li>각 서브시스템 결과를 수집 및 가공</li><li>통합된 결과를 클라이언트에 반환</li></ol><h3 id=구조-및-아키텍처>구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#구조-및-아키텍처>#</a></h3><pre class=mermaid>classDiagram
    class Client {
        +useService()
    }
    
    class Facade {
        -subsystemA: SubsystemA
        -subsystemB: SubsystemB
        -subsystemC: SubsystemC
        +simpleOperation()
        +complexOperation()
    }
    
    class SubsystemA {
        +operationA1()
        +operationA2()
    }
    
    class SubsystemB {
        +operationB1()
        +operationB2()
    }
    
    class SubsystemC {
        +operationC1()
        +operationC2()
    }
    
    Client --&gt; Facade
    Facade --&gt; SubsystemA
    Facade --&gt; SubsystemB
    Facade --&gt; SubsystemC
</pre><h4 id=구성-요소>구성 요소<a hidden class=anchor aria-hidden=true href=#구성-요소>#</a></h4><table><thead><tr><th><strong>구성요소</strong></th><th><strong>분류</strong></th><th><strong>기능</strong></th><th><strong>역할</strong></th><th><strong>특징</strong></th></tr></thead><tbody><tr><td><strong>Facade (퍼사드)</strong></td><td>필수</td><td>복잡한 서브시스템을 숨기고, 클라이언트에게 단순화된 인터페이스 제공</td><td>클라이언트 요청을 받아 서브시스템에 위임하고 결과를 반환</td><td>서브시스템 객체 참조 유지, 위임 패턴 사용, 일관된 접근점 제공</td></tr><tr><td><strong>Subsystems (서브시스템들)</strong></td><td>필수</td><td>실제 비즈니스 로직 수행</td><td>기능 단위로 세분화된 작업 처리</td><td>퍼사드 존재를 모르며 독립적 동작, 복잡하거나 서로 의존 관계가 있을 수 있음</td></tr><tr><td><strong>Client (클라이언트)</strong></td><td>필수</td><td>Facade 인터페이스를 통해 시스템 기능 사용</td><td>퍼사드를 통해 시스템을 단순하게 사용</td><td>서브시스템 내부 구조를 알 필요 없고, 퍼사드에만 의존함</td></tr><tr><td><strong>Configuration Manager</strong></td><td>선택</td><td>서브시스템의 설정 및 초기화 관리</td><td>설정 일관성을 유지하고 퍼사드 초기화 복잡도를 낮춤</td><td>DB 연결, API 키 등 전역 설정 관리, 퍼사드 외부 또는 내부 보조 객체로 구성 가능</td></tr><tr><td><strong>Logger (로거)</strong></td><td>선택</td><td>통합 로깅 및 시스템 동작 모니터링</td><td>요청 흐름 추적 및 진단 정보 제공</td><td>요청/응답, 예외, 성능 메트릭 등 로깅, AOP 또는 데코레이터와 결합 가능</td></tr><tr><td><strong>Cache Manager (캐시 관리자)</strong></td><td>선택</td><td>빈번히 접근되는 데이터를 캐싱하여 응답 속도 향상</td><td>성능 최적화 역할, 서브시스템 부담 완화</td><td>Redis, MemoryCache 등과 연계 가능, 퍼사드 내부 또는 외부 구성 가능</td></tr><tr><td><strong>Additional Facade (보조 퍼사드)</strong></td><td>선택</td><td>퍼사드가 과도하게 복잡해졌을 때 기능 분리용 인터페이스 제공</td><td>기능별 퍼사드를 나누어 역할 분담</td><td>기능 단위로 책임을 분리한 서브 퍼사드, 다른 퍼사드 또는 클라이언트에서 활용 가능</td></tr></tbody></table><h3 id=구현-기법>구현 기법<a hidden class=anchor aria-hidden=true href=#구현-기법>#</a></h3><table><thead><tr><th><strong>구현 기법</strong></th><th><strong>정의</strong></th><th><strong>구성</strong></th><th><strong>주요 목적</strong></th><th><strong>예시/활용 방식</strong></th></tr></thead><tbody><tr><td><strong>단순 위임 기법</strong></td><td>클라이언트 요청을 서브시스템에 단순 전달</td><td><code>Facade → Subsystem</code></td><td>복잡한 API 를 단순한 메서드로 감싸기</td><td><code>DatabaseFacade.save_user()</code> → DB 연결, 쿼리 빌더 감싸기</td></tr><tr><td><strong>복합 작업 기법</strong></td><td>여러 서브시스템의 호출을 조합하여 하나의 고수준 작업 수행</td><td><code>Facade → Multiple Subsystems</code></td><td>복잡한 워크플로우를 추상화한 단일 메서드 제공</td><td><code>processOrder()</code> 에서 재고, 결제, 배송까지 순차 처리</td></tr><tr><td><strong>어댑터 통합 기법</strong></td><td>서로 다른 인터페이스를 가진 서브시스템들을 퍼사드와 어댑터로 통합</td><td><code>Facade + Adapters → Heterogeneous Systems</code></td><td>이질적인 시스템을 단일한 API 로 통합</td><td>결제 API (PayPal, 계좌이체 등) 를 단일 결제 API 로 래핑</td></tr><tr><td><strong>프록시 결합 기법</strong></td><td>퍼사드가 인증, 로깅, 캐싱 등 프록시 역할까지 수행</td><td><code>Facade + Proxy Logic → Subsystems</code></td><td>보안, 성능, 로깅 등 부가 기능 통합</td><td>API 게이트웨이에서 인증, 트래픽 관리, 로깅 담당</td></tr><tr><td><strong>팩토리 통합 기법</strong></td><td>퍼사드가 필요한 객체 생성 (Factory) 과 사용 모두 담당</td><td><code>Facade + Factory → Subsystems</code></td><td>객체 생성과 호출 책임을 분리 없이 하나로 통합</td><td><code>MediaProcessorFacade.processVideo()</code> 내에서 Codec 생성과 처리 모두 수행</td></tr><tr><td><strong>계층형 퍼사드 기법</strong></td><td>각 아키텍처 계층마다 퍼사드를 구성하여 상호 호출</td><td><code>UI → AppFacade → DataFacade → Subsystems</code></td><td>계층별 책임 분리 및 구조적 명료성 확보</td><td><code>PresentationFacade → BusinessLogicFacade → DataAccessFacade</code></td></tr><tr><td><strong>인터페이스 추상화</strong></td><td>서브시스템 내부를 숨기고 통일된 인터페이스만 외부에 노출</td><td><code>Facade → Abstract Interface Only</code></td><td>내부 구조 변경에 강한 구조, 클라이언트 복잡성 감소</td><td><code>ServiceFacade.getUserReport()</code> 등으로 서비스 복잡성 은폐</td></tr><tr><td><strong>조합 및 캡슐화</strong></td><td>여러 기능을 조합하여 하나의 단일 호출로 캡슐화</td><td><code>Facade → Combined Operation</code></td><td>복합 기능에 대한 단일 접근점 제공</td><td><code>generateReport()</code> → DAO + Formatter + Emailer 조합 처리</td></tr><tr><td><strong>의존성 주입 기반 구성</strong></td><td>DI 컨테이너나 생성자를 통해 서브시스템 의존성을 주입</td><td><code>Constructor Injection or DI Container</code></td><td>테스트 용이성, 변경 유연성 확보</td><td>Spring Bean 주입, Python Constructor Injection 등</td></tr><tr><td><strong>유연한 버전 확장</strong></td><td>퍼사드만 새로 정의하여 내부 시스템 변경 없이 API 버전 관리</td><td><code>FacadeV1</code>, <code>FacadeV2</code> 등으로 구분</td><td>변화 대응 및 하위 호환성 유지</td><td><code>UserFacadeV1.getUser()</code> vs <code>UserFacadeV2.getUserProfile()</code></td></tr></tbody></table><h4 id=단순-위임-기법-simple-delegation>단순 위임 기법 (Simple Delegation)<a hidden class=anchor aria-hidden=true href=#단순-위임-기법-simple-delegation>#</a></h4><p><strong>설명</strong>: 클라이언트 요청을 단순히 내부 서브시스템으로 전달</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1> 1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2> 2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3> 3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4> 4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5> 5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6> 6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7> 7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8> 8</a>
</span><span class=lnt id=hl-2-9><a class=lnlinks href=#hl-2-9> 9</a>
</span><span class=lnt id=hl-2-10><a class=lnlinks href=#hl-2-10>10</a>
</span><span class=lnt id=hl-2-11><a class=lnlinks href=#hl-2-11>11</a>
</span><span class=lnt id=hl-2-12><a class=lnlinks href=#hl-2-12>12</a>
</span><span class=lnt id=hl-2-13><a class=lnlinks href=#hl-2-13>13</a>
</span><span class=lnt id=hl-2-14><a class=lnlinks href=#hl-2-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>PaymentGateway</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amount</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[PG] 결제 처리: </span><span class=si>{</span><span class=n>amount</span><span class=si>}</span><span class=s2>원&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PaymentFacade</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>gateway</span> <span class=o>=</span> <span class=n>PaymentGateway</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pay</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amount</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>gateway</span><span class=o>.</span><span class=n>process</span><span class=p>(</span><span class=n>amount</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 클라이언트</span>
</span></span><span class=line><span class=cl><span class=n>facade</span> <span class=o>=</span> <span class=n>PaymentFacade</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>facade</span><span class=o>.</span><span class=n>pay</span><span class=p>(</span><span class=mi>10000</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><strong>포인트</strong>: 인터페이스를 단순화하여 호출을 간결하게 제공.</li></ul><h4 id=복합-작업-기법-composite-operation>복합 작업 기법 (Composite Operation)<a hidden class=anchor aria-hidden=true href=#복합-작업-기법-composite-operation>#</a></h4><p><strong>설명</strong>: 여러 서브시스템을 조합하여 고수준 작업을 하나로 추상화</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span><span class=lnt id=hl-3-12><a class=lnlinks href=#hl-3-12>12</a>
</span><span class=lnt id=hl-3-13><a class=lnlinks href=#hl-3-13>13</a>
</span><span class=lnt id=hl-3-14><a class=lnlinks href=#hl-3-14>14</a>
</span><span class=lnt id=hl-3-15><a class=lnlinks href=#hl-3-15>15</a>
</span><span class=lnt id=hl-3-16><a class=lnlinks href=#hl-3-16>16</a>
</span><span class=lnt id=hl-3-17><a class=lnlinks href=#hl-3-17>17</a>
</span><span class=lnt id=hl-3-18><a class=lnlinks href=#hl-3-18>18</a>
</span><span class=lnt id=hl-3-19><a class=lnlinks href=#hl-3-19>19</a>
</span><span class=lnt id=hl-3-20><a class=lnlinks href=#hl-3-20>20</a>
</span><span class=lnt id=hl-3-21><a class=lnlinks href=#hl-3-21>21</a>
</span><span class=lnt id=hl-3-22><a class=lnlinks href=#hl-3-22>22</a>
</span><span class=lnt id=hl-3-23><a class=lnlinks href=#hl-3-23>23</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Inventory</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>reserve</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>item</span><span class=p>):</span> <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[Inventory] </span><span class=si>{</span><span class=n>item</span><span class=si>}</span><span class=s2> 예약 완료&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Payment</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>charge</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amount</span><span class=p>):</span> <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[Payment] </span><span class=si>{</span><span class=n>amount</span><span class=si>}</span><span class=s2>원 결제 성공&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Shipping</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>deliver</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>address</span><span class=p>):</span> <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[Shipping] </span><span class=si>{</span><span class=n>address</span><span class=si>}</span><span class=s2>로 배송 시작&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>OrderFacade</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>inventory</span> <span class=o>=</span> <span class=n>Inventory</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>payment</span> <span class=o>=</span> <span class=n>Payment</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>shipping</span> <span class=o>=</span> <span class=n>Shipping</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process_order</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>item</span><span class=p>,</span> <span class=n>amount</span><span class=p>,</span> <span class=n>address</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>inventory</span><span class=o>.</span><span class=n>reserve</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>payment</span><span class=o>.</span><span class=n>charge</span><span class=p>(</span><span class=n>amount</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>shipping</span><span class=o>.</span><span class=n>deliver</span><span class=p>(</span><span class=n>address</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 클라이언트</span>
</span></span><span class=line><span class=cl><span class=n>facade</span> <span class=o>=</span> <span class=n>OrderFacade</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>facade</span><span class=o>.</span><span class=n>process_order</span><span class=p>(</span><span class=s2>&#34;노트북&#34;</span><span class=p>,</span> <span class=mi>2000000</span><span class=p>,</span> <span class=s2>&#34;서울시 강남구&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><strong>포인트</strong>: 전체 비즈니스 로직을 하나의 퍼사드로 단순화.</li></ul><h4 id=어댑터-통합-기법-adapter-integration>어댑터 통합 기법 (Adapter Integration)<a hidden class=anchor aria-hidden=true href=#어댑터-통합-기법-adapter-integration>#</a></h4><p><strong>설명</strong>: 서로 다른 인터페이스를 퍼사드와 어댑터로 통합</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1> 1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2> 2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3> 3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4> 4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5> 5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6> 6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7> 7</a>
</span><span class=lnt id=hl-4-8><a class=lnlinks href=#hl-4-8> 8</a>
</span><span class=lnt id=hl-4-9><a class=lnlinks href=#hl-4-9> 9</a>
</span><span class=lnt id=hl-4-10><a class=lnlinks href=#hl-4-10>10</a>
</span><span class=lnt id=hl-4-11><a class=lnlinks href=#hl-4-11>11</a>
</span><span class=lnt id=hl-4-12><a class=lnlinks href=#hl-4-12>12</a>
</span><span class=lnt id=hl-4-13><a class=lnlinks href=#hl-4-13>13</a>
</span><span class=lnt id=hl-4-14><a class=lnlinks href=#hl-4-14>14</a>
</span><span class=lnt id=hl-4-15><a class=lnlinks href=#hl-4-15>15</a>
</span><span class=lnt id=hl-4-16><a class=lnlinks href=#hl-4-16>16</a>
</span><span class=lnt id=hl-4-17><a class=lnlinks href=#hl-4-17>17</a>
</span><span class=lnt id=hl-4-18><a class=lnlinks href=#hl-4-18>18</a>
</span><span class=lnt id=hl-4-19><a class=lnlinks href=#hl-4-19>19</a>
</span><span class=lnt id=hl-4-20><a class=lnlinks href=#hl-4-20>20</a>
</span><span class=lnt id=hl-4-21><a class=lnlinks href=#hl-4-21>21</a>
</span><span class=lnt id=hl-4-22><a class=lnlinks href=#hl-4-22>22</a>
</span><span class=lnt id=hl-4-23><a class=lnlinks href=#hl-4-23>23</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>PayPal</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pay</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>dollars</span><span class=p>):</span> <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[PayPal] $</span><span class=si>{</span><span class=n>dollars</span><span class=si>}</span><span class=s2> 결제&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CreditCard</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>charge_krw</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amount</span><span class=p>):</span> <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[CreditCard] </span><span class=si>{</span><span class=n>amount</span><span class=si>}</span><span class=s2>원 결제&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 어댑터</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PayPalAdapter</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amount</span><span class=p>):</span> <span class=n>PayPal</span><span class=p>()</span><span class=o>.</span><span class=n>pay</span><span class=p>(</span><span class=n>amount</span> <span class=o>/</span> <span class=mi>1300</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CreditCardAdapter</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amount</span><span class=p>):</span> <span class=n>CreditCard</span><span class=p>()</span><span class=o>.</span><span class=n>charge_krw</span><span class=p>(</span><span class=n>amount</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PaymentFacade</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>adapter</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>adapter</span> <span class=o>=</span> <span class=n>adapter</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pay</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amount</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>adapter</span><span class=o>.</span><span class=n>process</span><span class=p>(</span><span class=n>amount</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 클라이언트</span>
</span></span><span class=line><span class=cl><span class=n>facade</span> <span class=o>=</span> <span class=n>PaymentFacade</span><span class=p>(</span><span class=n>PayPalAdapter</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=n>facade</span><span class=o>.</span><span class=n>pay</span><span class=p>(</span><span class=mi>130000</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><strong>포인트</strong>: 인터페이스가 다른 서브시스템들을 공통 구조로 통합.</li></ul><h4 id=프록시-결합-기법-proxy-combined>프록시 결합 기법 (Proxy Combined)<a hidden class=anchor aria-hidden=true href=#프록시-결합-기법-proxy-combined>#</a></h4><p><strong>설명</strong>: 퍼사드에 로깅, 보안, 캐싱 등의 프록시 기능을 통합</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1> 1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2> 2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3> 3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4> 4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5> 5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6> 6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7> 7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8> 8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9> 9</a>
</span><span class=lnt id=hl-5-10><a class=lnlinks href=#hl-5-10>10</a>
</span><span class=lnt id=hl-5-11><a class=lnlinks href=#hl-5-11>11</a>
</span><span class=lnt id=hl-5-12><a class=lnlinks href=#hl-5-12>12</a>
</span><span class=lnt id=hl-5-13><a class=lnlinks href=#hl-5-13>13</a>
</span><span class=lnt id=hl-5-14><a class=lnlinks href=#hl-5-14>14</a>
</span><span class=lnt id=hl-5-15><a class=lnlinks href=#hl-5-15>15</a>
</span><span class=lnt id=hl-5-16><a class=lnlinks href=#hl-5-16>16</a>
</span><span class=lnt id=hl-5-17><a class=lnlinks href=#hl-5-17>17</a>
</span><span class=lnt id=hl-5-18><a class=lnlinks href=#hl-5-18>18</a>
</span><span class=lnt id=hl-5-19><a class=lnlinks href=#hl-5-19>19</a>
</span><span class=lnt id=hl-5-20><a class=lnlinks href=#hl-5-20>20</a>
</span><span class=lnt id=hl-5-21><a class=lnlinks href=#hl-5-21>21</a>
</span><span class=lnt id=hl-5-22><a class=lnlinks href=#hl-5-22>22</a>
</span><span class=lnt id=hl-5-23><a class=lnlinks href=#hl-5-23>23</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>UserService</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_profile</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[UserService] 사용자 정보 조회: </span><span class=si>{</span><span class=n>user_id</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;현윤&#34;</span><span class=p>,</span> <span class=s2>&#34;id&#34;</span><span class=p>:</span> <span class=n>user_id</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>UserFacade</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>service</span> <span class=o>=</span> <span class=n>UserService</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>cache</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_user</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>user_id</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>cache</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;[Cache] 캐시에서 사용자 정보 반환&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>cache</span><span class=p>[</span><span class=n>user_id</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;[Log] 사용자 정보 요청 로그 기록&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>service</span><span class=o>.</span><span class=n>get_profile</span><span class=p>(</span><span class=n>user_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>cache</span><span class=p>[</span><span class=n>user_id</span><span class=p>]</span> <span class=o>=</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 클라이언트</span>
</span></span><span class=line><span class=cl><span class=n>facade</span> <span class=o>=</span> <span class=n>UserFacade</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>facade</span><span class=o>.</span><span class=n>get_user</span><span class=p>(</span><span class=s2>&#34;user-123&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>facade</span><span class=o>.</span><span class=n>get_user</span><span class=p>(</span><span class=s2>&#34;user-123&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><strong>포인트</strong>: 퍼사드가 프록시 역할까지 병행 → 로깅, 캐싱 등 부가기능 제공.</li></ul><h4 id=팩토리-통합-기법-factory-integration>팩토리 통합 기법 (Factory Integration)<a hidden class=anchor aria-hidden=true href=#팩토리-통합-기법-factory-integration>#</a></h4><p><strong>설명</strong>: 퍼사드가 서브시스템 객체 생성 (팩토리 포함) 까지 캡슐화</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a>
</span><span class=lnt id=hl-6-13><a class=lnlinks href=#hl-6-13>13</a>
</span><span class=lnt id=hl-6-14><a class=lnlinks href=#hl-6-14>14</a>
</span><span class=lnt id=hl-6-15><a class=lnlinks href=#hl-6-15>15</a>
</span><span class=lnt id=hl-6-16><a class=lnlinks href=#hl-6-16>16</a>
</span><span class=lnt id=hl-6-17><a class=lnlinks href=#hl-6-17>17</a>
</span><span class=lnt id=hl-6-18><a class=lnlinks href=#hl-6-18>18</a>
</span><span class=lnt id=hl-6-19><a class=lnlinks href=#hl-6-19>19</a>
</span><span class=lnt id=hl-6-20><a class=lnlinks href=#hl-6-20>20</a>
</span><span class=lnt id=hl-6-21><a class=lnlinks href=#hl-6-21>21</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>CodecFactory</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nd>@staticmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create</span><span class=p>(</span><span class=n>filetype</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>filetype</span> <span class=o>==</span> <span class=s1>&#39;mp4&#39;</span><span class=p>:</span> <span class=k>return</span> <span class=s2>&#34;H&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>filetype</span> <span class=o>==</span> <span class=s1>&#39;avi&#39;</span><span class=p>:</span> <span class=k>return</span> <span class=s2>&#34;MPEG-4&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;Unknown&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>VideoProcessor</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>codec</span><span class=p>):</span> <span class=bp>self</span><span class=o>.</span><span class=n>codec</span> <span class=o>=</span> <span class=n>codec</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>file</span><span class=p>):</span> <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[VideoProcessor] </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>codec</span><span class=si>}</span><span class=s2>로 </span><span class=si>{</span><span class=n>file</span><span class=si>}</span><span class=s2> 처리&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MediaFacade</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process_video</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>filename</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>filetype</span> <span class=o>=</span> <span class=n>filename</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>codec</span> <span class=o>=</span> <span class=n>CodecFactory</span><span class=o>.</span><span class=n>create</span><span class=p>(</span><span class=n>filetype</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>processor</span> <span class=o>=</span> <span class=n>VideoProcessor</span><span class=p>(</span><span class=n>codec</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>processor</span><span class=o>.</span><span class=n>process</span><span class=p>(</span><span class=n>filename</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 클라이언트</span>
</span></span><span class=line><span class=cl><span class=n>facade</span> <span class=o>=</span> <span class=n>MediaFacade</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>facade</span><span class=o>.</span><span class=n>process_video</span><span class=p>(</span><span class=s2>&#34;movie.mp4&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><strong>포인트</strong>: 객체 생성과 사용까지 하나의 퍼사드로 처리.</li></ul><h4 id=계층형-퍼사드-기법-layered-facade>계층형 퍼사드 기법 (Layered Facade)<a hidden class=anchor aria-hidden=true href=#계층형-퍼사드-기법-layered-facade>#</a></h4><p><strong>설명</strong>: 계층별로 퍼사드를 둬서 전체 시스템을 추상화 계층으로 구성</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1> 1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2> 2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3> 3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4> 4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5> 5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6> 6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7> 7</a>
</span><span class=lnt id=hl-7-8><a class=lnlinks href=#hl-7-8> 8</a>
</span><span class=lnt id=hl-7-9><a class=lnlinks href=#hl-7-9> 9</a>
</span><span class=lnt id=hl-7-10><a class=lnlinks href=#hl-7-10>10</a>
</span><span class=lnt id=hl-7-11><a class=lnlinks href=#hl-7-11>11</a>
</span><span class=lnt id=hl-7-12><a class=lnlinks href=#hl-7-12>12</a>
</span><span class=lnt id=hl-7-13><a class=lnlinks href=#hl-7-13>13</a>
</span><span class=lnt id=hl-7-14><a class=lnlinks href=#hl-7-14>14</a>
</span><span class=lnt id=hl-7-15><a class=lnlinks href=#hl-7-15>15</a>
</span><span class=lnt id=hl-7-16><a class=lnlinks href=#hl-7-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>DataAccessLayer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>fetch_user</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;id&#34;</span><span class=p>:</span> <span class=s2>&#34;A1&#34;</span><span class=p>,</span> <span class=s2>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;현윤&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>BusinessLogicLayer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>DataAccessLayer</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_user_display</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>user</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>fetch_user</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;사용자 이름: </span><span class=si>{</span><span class=n>user</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PresentationLayer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=bp>self</span><span class=o>.</span><span class=n>logic</span> <span class=o>=</span> <span class=n>BusinessLogicLayer</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>render</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=nb>print</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>logic</span><span class=o>.</span><span class=n>get_user_display</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 클라이언트</span>
</span></span><span class=line><span class=cl><span class=n>facade</span> <span class=o>=</span> <span class=n>PresentationLayer</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>facade</span><span class=o>.</span><span class=n>render</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><strong>포인트</strong>: 각 계층을 퍼사드로 캡슐화하여 명확한 책임 분리 달성.</li></ul><h3 id=facade-vs-adapter-vs-proxy>Facade vs. Adapter vs. Proxy<a hidden class=anchor aria-hidden=true href=#facade-vs-adapter-vs-proxy>#</a></h3><table><thead><tr><th><strong>항목</strong></th><th><strong>Facade</strong></th><th><strong>Adapter</strong></th><th><strong>Proxy</strong></th></tr></thead><tbody><tr><td><strong>주요 목적</strong></td><td>복잡한 서브시스템을 단순한 인터페이스로 감싸기</td><td>클라이언트와 호환되지 않는 인터페이스 연결</td><td>실제 객체에 접근하기 전에 제어 또는 부가기능 추가</td></tr><tr><td><strong>적용 대상</strong></td><td>다수의 복잡한 서브시스템</td><td>호환되지 않는 기존 클래스</td><td>네트워크, 리소스, 접근 제어 등 중간 제어가 필요한 객체</td></tr><tr><td><strong>사용 시점</strong></td><td>클라이언트에 단순한 API 제공이 필요할 때</td><td>기존 클래스를 새 시스템에 통합할 때</td><td>객체 접근 시 제어/로깅/캐싱/보안이 필요할 때</td></tr><tr><td><strong>기능적 초점</strong></td><td>인터페이스 단순화</td><td>인터페이스 호환성 해결</td><td>접근 제어, 캐싱, 지연 로딩, 로깅 등 부가 기능 주입</td></tr><tr><td><strong>클라이언트 의존</strong></td><td>클라이언트는 Facade 에만 의존</td><td>클라이언트는 새 인터페이스를 사용</td><td>클라이언트는 Proxy 를 실제 객체처럼 사용</td></tr><tr><td><strong>서브시스템 의존성</strong></td><td>존재 (내부적으로 여러 구성 객체 참조)</td><td>존재 (변환 대상 객체에 위임)</td><td>존재 (실제 객체를 포함하거나 생성)</td></tr><tr><td><strong>구조적 관계</strong></td><td>여러 객체 조합 → 통합 메서드 제공</td><td>하나의 객체 감싸기 → 인터페이스만 맞춤</td><td>하나의 객체 감싸기 → 동작 일부 가로채기 또는 제어</td></tr><tr><td><strong>실제 객체의 변경</strong></td><td>숨김 (숨겨진 복잡성만 위임)</td><td>기존 클래스 변경 없이 적용</td><td>실제 객체는 동일하며 프록시만 추가됨</td></tr><tr><td><strong>개방/폐쇄 원칙</strong></td><td>변경 최소화, 서브시스템 캡슐화</td><td>기존 클래스 변경 없이 인터페이스 변환</td><td>기존 객체 변경 없이 기능 확장 가능</td></tr><tr><td><strong>대표 사례</strong></td><td><code>API Gateway</code>, <code>UI Facade</code>, <code>BFF</code></td><td><code>JDBC → Hibernate Adapter</code>, <code>USB to Ethernet</code></td><td><code>Virtual Proxy</code>, <code>Smart Proxy</code>, <code>Protection Proxy</code></td></tr><tr><td><strong>패턴 계열</strong></td><td>구조 패턴</td><td>구조 패턴</td><td>구조 패턴</td></tr><tr><td><strong>결합도 관점</strong></td><td>클라이언트 ↔ 서브시스템 결합도 낮춤</td><td>클라이언트 ↔ 적응 대상 클래스 결합도 낮춤</td><td>클라이언트 ↔ 실제 객체 결합도 유지하면서 기능 추가</td></tr><tr><td><strong>의도 요약</strong></td><td>복잡한 것을 감춘다</td><td>맞지 않는 것을 맞춘다</td><td>접근을 제어하거나 감시한다</td></tr></tbody></table><h4 id=공통-주제-외부-결제-시스템-연동>공통 주제: 외부 결제 시스템 연동<a hidden class=anchor aria-hidden=true href=#공통-주제-외부-결제-시스템-연동>#</a></h4><table><thead><tr><th>항목</th><th>Facade</th><th>Adapter</th><th>Proxy</th></tr></thead><tbody><tr><td><strong>목적</strong></td><td>복잡한 API 를 단순화</td><td>인터페이스 호환성 확보</td><td>접근 제어 및 부가기능 추가</td></tr><tr><td><strong>관심사</strong></td><td>클라이언트 인터페이스 단순화</td><td>클라이언트 ↔ 기존 시스템 연결</td><td>객체 접근 제어, 로깅, 캐싱 등 기능 확장</td></tr><tr><td><strong>내부 위임</strong></td><td>여러 서브시스템을 하나로 묶음</td><td>외부 객체 메서드를 공통 인터페이스로 감쌈</td><td>실제 객체 호출 전/후 로직 삽입</td></tr><tr><td><strong>대표 사용처</strong></td><td>API Gateway, BFF</td><td>레거시 연동, 외부 API 통합</td><td>리소스 보호, 트래픽 제어, Lazy Loading</td></tr><tr><td><strong>확장성</strong></td><td>내부 시스템 확장시 Facade 변경</td><td>외부 API 변경에 어댑터만 수정</td><td>로깅/보안 요구 변경 시 프록시만 수정</td></tr></tbody></table><h5 id=facade-pattern-1>Facade Pattern<a hidden class=anchor aria-hidden=true href=#facade-pattern-1>#</a></h5><blockquote><p>복잡한 여러 결제 시스템 호출을 하나의 단순한 인터페이스로 감싼다.</p></blockquote><p><strong>목적</strong>:</p><ul><li>클라이언트는 결제 처리 과정에 대해 알 필요 없이 <code>PaymentFacade</code> 하나만 사용.</li></ul><p><strong>구조</strong>:</p><ul><li>여러 결제 모듈을 내부에 감추고, 고수준 메서드로 통합 제공</li></ul><p><strong>구현 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span><span class=lnt id=hl-8-11><a class=lnlinks href=#hl-8-11>11</a>
</span><span class=lnt id=hl-8-12><a class=lnlinks href=#hl-8-12>12</a>
</span><span class=lnt id=hl-8-13><a class=lnlinks href=#hl-8-13>13</a>
</span><span class=lnt id=hl-8-14><a class=lnlinks href=#hl-8-14>14</a>
</span><span class=lnt id=hl-8-15><a class=lnlinks href=#hl-8-15>15</a>
</span><span class=lnt id=hl-8-16><a class=lnlinks href=#hl-8-16>16</a>
</span><span class=lnt id=hl-8-17><a class=lnlinks href=#hl-8-17>17</a>
</span><span class=lnt id=hl-8-18><a class=lnlinks href=#hl-8-18>18</a>
</span><span class=lnt id=hl-8-19><a class=lnlinks href=#hl-8-19>19</a>
</span><span class=lnt id=hl-8-20><a class=lnlinks href=#hl-8-20>20</a>
</span><span class=lnt id=hl-8-21><a class=lnlinks href=#hl-8-21>21</a>
</span><span class=lnt id=hl-8-22><a class=lnlinks href=#hl-8-22>22</a>
</span><span class=lnt id=hl-8-23><a class=lnlinks href=#hl-8-23>23</a>
</span><span class=lnt id=hl-8-24><a class=lnlinks href=#hl-8-24>24</a>
</span><span class=lnt id=hl-8-25><a class=lnlinks href=#hl-8-25>25</a>
</span><span class=lnt id=hl-8-26><a class=lnlinks href=#hl-8-26>26</a>
</span><span class=lnt id=hl-8-27><a class=lnlinks href=#hl-8-27>27</a>
</span><span class=lnt id=hl-8-28><a class=lnlinks href=#hl-8-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 서브시스템 클래스들</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PayPal</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pay</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amount</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;PayPal 결제 처리: </span><span class=si>{</span><span class=n>amount</span><span class=si>}</span><span class=s2>원&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>KakaoPay</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>charge</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amount</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;KakaoPay 결제 처리: </span><span class=si>{</span><span class=n>amount</span><span class=si>}</span><span class=s2>원&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Stripe</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amount</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Stripe 결제 처리: </span><span class=si>{</span><span class=n>amount</span><span class=si>}</span><span class=s2>원&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Facade 클래스</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PaymentFacade</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>paypal</span> <span class=o>=</span> <span class=n>PayPal</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>kakao</span> <span class=o>=</span> <span class=n>KakaoPay</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>stripe</span> <span class=o>=</span> <span class=n>Stripe</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pay_all</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amount</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>paypal</span><span class=o>.</span><span class=n>pay</span><span class=p>(</span><span class=n>amount</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>kakao</span><span class=o>.</span><span class=n>charge</span><span class=p>(</span><span class=n>amount</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>stripe</span><span class=o>.</span><span class=n>process</span><span class=p>(</span><span class=n>amount</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 클라이언트</span>
</span></span><span class=line><span class=cl><span class=n>facade</span> <span class=o>=</span> <span class=n>PaymentFacade</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>facade</span><span class=o>.</span><span class=n>pay_all</span><span class=p>(</span><span class=mi>10000</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>클라이언트 입장에서 <code>결제 방식</code> 이나 <code>내부 API</code> 를 몰라도 사용 가능</li><li>복잡한 호출 과정을 감춰줌</li></ul><h5 id=adapter-pattern>Adapter Pattern<a hidden class=anchor aria-hidden=true href=#adapter-pattern>#</a></h5><blockquote><p>서로 다른 외부 결제 API 들을 공통 인터페이스로 변환</p></blockquote><p><strong>목적</strong>:</p><ul><li>클라이언트는 <code>PaymentGateway</code> 인터페이스만 알면 됨</li><li>기존 시스템과 외부 시스템의 <strong>호환성</strong> 확보</li></ul><p><strong>구조</strong>:</p><ul><li>공통 인터페이스에 따라 각 API 어댑터 생성</li></ul><p><strong>구현 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11>11</a>
</span><span class=lnt id=hl-9-12><a class=lnlinks href=#hl-9-12>12</a>
</span><span class=lnt id=hl-9-13><a class=lnlinks href=#hl-9-13>13</a>
</span><span class=lnt id=hl-9-14><a class=lnlinks href=#hl-9-14>14</a>
</span><span class=lnt id=hl-9-15><a class=lnlinks href=#hl-9-15>15</a>
</span><span class=lnt id=hl-9-16><a class=lnlinks href=#hl-9-16>16</a>
</span><span class=lnt id=hl-9-17><a class=lnlinks href=#hl-9-17>17</a>
</span><span class=lnt id=hl-9-18><a class=lnlinks href=#hl-9-18>18</a>
</span><span class=lnt id=hl-9-19><a class=lnlinks href=#hl-9-19>19</a>
</span><span class=lnt id=hl-9-20><a class=lnlinks href=#hl-9-20>20</a>
</span><span class=lnt id=hl-9-21><a class=lnlinks href=#hl-9-21>21</a>
</span><span class=lnt id=hl-9-22><a class=lnlinks href=#hl-9-22>22</a>
</span><span class=lnt id=hl-9-23><a class=lnlinks href=#hl-9-23>23</a>
</span><span class=lnt id=hl-9-24><a class=lnlinks href=#hl-9-24>24</a>
</span><span class=lnt id=hl-9-25><a class=lnlinks href=#hl-9-25>25</a>
</span><span class=lnt id=hl-9-26><a class=lnlinks href=#hl-9-26>26</a>
</span><span class=lnt id=hl-9-27><a class=lnlinks href=#hl-9-27>27</a>
</span><span class=lnt id=hl-9-28><a class=lnlinks href=#hl-9-28>28</a>
</span><span class=lnt id=hl-9-29><a class=lnlinks href=#hl-9-29>29</a>
</span><span class=lnt id=hl-9-30><a class=lnlinks href=#hl-9-30>30</a>
</span><span class=lnt id=hl-9-31><a class=lnlinks href=#hl-9-31>31</a>
</span><span class=lnt id=hl-9-32><a class=lnlinks href=#hl-9-32>32</a>
</span><span class=lnt id=hl-9-33><a class=lnlinks href=#hl-9-33>33</a>
</span><span class=lnt id=hl-9-34><a class=lnlinks href=#hl-9-34>34</a>
</span><span class=lnt id=hl-9-35><a class=lnlinks href=#hl-9-35>35</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 타사 API 클래스들</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ExternalPayPal</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pay_with_paypal</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amount</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;PayPal 처리: </span><span class=si>{</span><span class=n>amount</span><span class=si>}</span><span class=s2>원&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ExternalKakaoPay</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>kakao_charge</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amount</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;KakaoPay 처리: </span><span class=si>{</span><span class=n>amount</span><span class=si>}</span><span class=s2>원&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 공통 인터페이스</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PaymentGateway</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pay</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amount</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 어댑터들</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PayPalAdapter</span><span class=p>(</span><span class=n>PaymentGateway</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>service</span> <span class=o>=</span> <span class=n>ExternalPayPal</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pay</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amount</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>service</span><span class=o>.</span><span class=n>pay_with_paypal</span><span class=p>(</span><span class=n>amount</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>KakaoPayAdapter</span><span class=p>(</span><span class=n>PaymentGateway</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>service</span> <span class=o>=</span> <span class=n>ExternalKakaoPay</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pay</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amount</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>service</span><span class=o>.</span><span class=n>kakao_charge</span><span class=p>(</span><span class=n>amount</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 클라이언트 코드</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>execute_payment</span><span class=p>(</span><span class=n>gateway</span><span class=p>:</span> <span class=n>PaymentGateway</span><span class=p>,</span> <span class=n>amount</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>gateway</span><span class=o>.</span><span class=n>pay</span><span class=p>(</span><span class=n>amount</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>execute_payment</span><span class=p>(</span><span class=n>PayPalAdapter</span><span class=p>(),</span> <span class=mi>5000</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>execute_payment</span><span class=p>(</span><span class=n>KakaoPayAdapter</span><span class=p>(),</span> <span class=mi>7000</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>기존 클라이언트 로직은 그대로 두고, 다양한 외부 API 와 호환 가능</li><li>인터페이스 변환에 집중</li></ul><h5 id=proxy-pattern>Proxy Pattern<a hidden class=anchor aria-hidden=true href=#proxy-pattern>#</a></h5><blockquote><p>결제 API 접근 전에 부가기능 (예: 로깅, 인증, 캐싱 등) 추가</p></blockquote><p><strong>목적</strong>:</p><ul><li>실제 결제 객체 앞에 중간 객체 (프록시) 를 두어 접근 제어</li></ul><p><strong>구조</strong>:</p><ul><li>동일 인터페이스를 구현하며, 실제 객체 호출 전후 부가기능 수행</li></ul><p><strong>구현 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1> 1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2> 2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3> 3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4> 4</a>
</span><span class=lnt id=hl-10-5><a class=lnlinks href=#hl-10-5> 5</a>
</span><span class=lnt id=hl-10-6><a class=lnlinks href=#hl-10-6> 6</a>
</span><span class=lnt id=hl-10-7><a class=lnlinks href=#hl-10-7> 7</a>
</span><span class=lnt id=hl-10-8><a class=lnlinks href=#hl-10-8> 8</a>
</span><span class=lnt id=hl-10-9><a class=lnlinks href=#hl-10-9> 9</a>
</span><span class=lnt id=hl-10-10><a class=lnlinks href=#hl-10-10>10</a>
</span><span class=lnt id=hl-10-11><a class=lnlinks href=#hl-10-11>11</a>
</span><span class=lnt id=hl-10-12><a class=lnlinks href=#hl-10-12>12</a>
</span><span class=lnt id=hl-10-13><a class=lnlinks href=#hl-10-13>13</a>
</span><span class=lnt id=hl-10-14><a class=lnlinks href=#hl-10-14>14</a>
</span><span class=lnt id=hl-10-15><a class=lnlinks href=#hl-10-15>15</a>
</span><span class=lnt id=hl-10-16><a class=lnlinks href=#hl-10-16>16</a>
</span><span class=lnt id=hl-10-17><a class=lnlinks href=#hl-10-17>17</a>
</span><span class=lnt id=hl-10-18><a class=lnlinks href=#hl-10-18>18</a>
</span><span class=lnt id=hl-10-19><a class=lnlinks href=#hl-10-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 실제 결제 클래스</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>RealPayment</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pay</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amount</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;실제 결제 수행: </span><span class=si>{</span><span class=n>amount</span><span class=si>}</span><span class=s2>원&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 프록시 클래스</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PaymentProxy</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>real_payment</span> <span class=o>=</span> <span class=n>RealPayment</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pay</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amount</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;[로그] 결제 요청 발생&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 권한 검사 또는 캐싱 로직 삽입 가능</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>real_payment</span><span class=o>.</span><span class=n>pay</span><span class=p>(</span><span class=n>amount</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;[로그] 결제 완료 기록 저장&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 클라이언트 코드</span>
</span></span><span class=line><span class=cl><span class=n>proxy</span> <span class=o>=</span> <span class=n>PaymentProxy</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>proxy</span><span class=o>.</span><span class=n>pay</span><span class=p>(</span><span class=mi>10000</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>실제 객체 접근을 감싸면서 로깅, 권한, 캐시 등 추가 기능 제공</li><li>접근 제어나 부가 처리에 유리</li></ul><h3 id=facade-vs-mediator>Facade vs. Mediator<a hidden class=anchor aria-hidden=true href=#facade-vs-mediator>#</a></h3><table><thead><tr><th>항목</th><th><strong>Facade Pattern</strong></th><th><strong>Mediator Pattern</strong></th></tr></thead><tbody><tr><td><strong>목적</strong></td><td>복잡한 서브시스템을 간단한 고수준 인터페이스로 추상화</td><td>객체들 간의 직접적인 의존성을 제거하고 통신을 중재하는 중심 객체 제공</td></tr><tr><td><strong>적용 대상</strong></td><td>클라이언트 ↔ 복잡한 서브시스템 간 인터페이스 단순화</td><td>여러 객체 간의 복잡한 상호작용 관리 및 메시지 흐름 조정</td></tr><tr><td><strong>구조 중심</strong></td><td>서브시스템을 감싸는 하나의 Wrapper 역할</td><td>여러 객체 간 상호작용을 중앙에서 조정하는 Mediator 객체 사용</td></tr><tr><td><strong>의존성 방향</strong></td><td>클라이언트 → Facade → 서브시스템 (단방향, 단순화된 흐름)</td><td>모든 참가자 (Colleague) 는 Mediator 를 통해 통신 (양방향 또는 중심 연결)</td></tr><tr><td><strong>중재 (Intervention)</strong></td><td>없음. 단순 인터페이스 제공만 수행</td><td>객체 간 통신을 제어하고 중재함</td></tr><tr><td><strong>변경 영향</strong></td><td>서브시스템 변경 시 Facade 만 수정하면 되므로 변경 영향이 적음</td><td>참가자 객체의 상호작용 변경 시 Mediator 의 변경이 필요</td></tr><tr><td><strong>책임 범위</strong></td><td>시스템 진입점, 클라이언트와 서브시스템 간 인터페이스 추상화</td><td>객체 간 관계, 이벤트 흐름, 동기화 등의 조율</td></tr><tr><td><strong>결합도 감소 방식</strong></td><td>클라이언트와 내부 시스템 간 결합도 감소 (외부에서 내부 구조 숨김)</td><td>객체 간 직접 결합 제거, Mediator 를 통한 간접 결합</td></tr><tr><td><strong>디자인 포인트</strong></td><td>외부 인터페이스 통일, 진입점 간소화</td><td>내부 객체 간 복잡한 관계 해소, 통신 책임 위임</td></tr><tr><td><strong>유사점</strong></td><td>모두 복잡성을 감추거나 완화하기 위한 추상화 계층 제공</td><td>모두 객체 간 직접 결합을 방지하고 유지보수성을 향상시키는 역할 수행</td></tr><tr><td><strong>예시</strong></td><td>API Gateway, Kafka Facade, JDBC Template</td><td>채팅 앱의 메시지 라우팅, UI 컴포넌트 간 이벤트 전달기, Pub-Sub 중앙허브</td></tr><tr><td><strong>적합한 시나리오</strong></td><td>외부 시스템, API, 복잡한 서비스 호출을 단순하게 감싸고자 할 때</td><td>여러 객체가 서로 메시지를 주고받거나 상태에 따라 행동을 조정해야 할 때</td></tr><tr><td><strong>구현 난이도</strong></td><td>상대적으로 단순: 인터페이스 + 위임 구성</td><td>상대적으로 복잡: 이벤트 조율, 상태 관리, 메시지 전파 처리 등 포함</td></tr></tbody></table><h4 id=공통-스마트-홈-시스템-제어>공통: <strong>스마트 홈 시스템 제어</strong><a hidden class=anchor aria-hidden=true href=#공통-스마트-홈-시스템-제어>#</a></h4><p>스마트 홈 시스템에는 다음과 같은 구성요소가 있다고 가정한다:</p><ul><li>조명 (Light)</li><li>에어컨 (AirConditioner)</li><li>보안 시스템 (SecuritySystem)</li></ul><table><thead><tr><th>항목</th><th><strong>Facade Pattern</strong></th><th><strong>Mediator Pattern</strong></th></tr></thead><tbody><tr><td><strong>사용 위치</strong></td><td>클라이언트와 서브시스템 사이 (외부 진입점)</td><td>서브시스템 내부 구성 요소 사이 (내부 관계 조율)</td></tr><tr><td><strong>초점</strong></td><td>단순화된 인터페이스 제공</td><td>구성요소 간 복잡한 상호작용 중재</td></tr><tr><td><strong>제어 방식</strong></td><td>클라이언트가 명시적으로 행동 호출</td><td>특정 이벤트에 따라 중앙에서 자동 제어</td></tr><tr><td><strong>조직 방식</strong></td><td>절차적 호출 기반</td><td>이벤트 기반 흐름 처리</td></tr><tr><td><strong>의존성 구조</strong></td><td>Facade 가 서브시스템에 의존</td><td>모든 구성 요소는 Mediator 에만 의존</td></tr></tbody></table><ul><li><strong>Facade</strong>는 <strong>외부 진입점</strong>을 단순화하는 데 탁월</li><li><strong>Mediator</strong>는 <strong>내부 컴포넌트 간의 관계 복잡성</strong>을 해소하는 데 적합</li></ul><h5 id=facade-패턴>Facade 패턴<a hidden class=anchor aria-hidden=true href=#facade-패턴>#</a></h5><p><strong>목적</strong>: 클라이언트가 복잡한 서브시스템을 알 필요 없이, 하나의 인터페이스 (Facade) 를 통해 조작 가능</p><p><strong>구조</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[Client] --&gt; [HomeAutomationFacade] --&gt; [Light / AC / SecuritySystem]
</span></span></code></pre></td></tr></table></div></div><p><strong>코드 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1> 1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2> 2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3> 3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4> 4</a>
</span><span class=lnt id=hl-12-5><a class=lnlinks href=#hl-12-5> 5</a>
</span><span class=lnt id=hl-12-6><a class=lnlinks href=#hl-12-6> 6</a>
</span><span class=lnt id=hl-12-7><a class=lnlinks href=#hl-12-7> 7</a>
</span><span class=lnt id=hl-12-8><a class=lnlinks href=#hl-12-8> 8</a>
</span><span class=lnt id=hl-12-9><a class=lnlinks href=#hl-12-9> 9</a>
</span><span class=lnt id=hl-12-10><a class=lnlinks href=#hl-12-10>10</a>
</span><span class=lnt id=hl-12-11><a class=lnlinks href=#hl-12-11>11</a>
</span><span class=lnt id=hl-12-12><a class=lnlinks href=#hl-12-12>12</a>
</span><span class=lnt id=hl-12-13><a class=lnlinks href=#hl-12-13>13</a>
</span><span class=lnt id=hl-12-14><a class=lnlinks href=#hl-12-14>14</a>
</span><span class=lnt id=hl-12-15><a class=lnlinks href=#hl-12-15>15</a>
</span><span class=lnt id=hl-12-16><a class=lnlinks href=#hl-12-16>16</a>
</span><span class=lnt id=hl-12-17><a class=lnlinks href=#hl-12-17>17</a>
</span><span class=lnt id=hl-12-18><a class=lnlinks href=#hl-12-18>18</a>
</span><span class=lnt id=hl-12-19><a class=lnlinks href=#hl-12-19>19</a>
</span><span class=lnt id=hl-12-20><a class=lnlinks href=#hl-12-20>20</a>
</span><span class=lnt id=hl-12-21><a class=lnlinks href=#hl-12-21>21</a>
</span><span class=lnt id=hl-12-22><a class=lnlinks href=#hl-12-22>22</a>
</span><span class=lnt id=hl-12-23><a class=lnlinks href=#hl-12-23>23</a>
</span><span class=lnt id=hl-12-24><a class=lnlinks href=#hl-12-24>24</a>
</span><span class=lnt id=hl-12-25><a class=lnlinks href=#hl-12-25>25</a>
</span><span class=lnt id=hl-12-26><a class=lnlinks href=#hl-12-26>26</a>
</span><span class=lnt id=hl-12-27><a class=lnlinks href=#hl-12-27>27</a>
</span><span class=lnt id=hl-12-28><a class=lnlinks href=#hl-12-28>28</a>
</span><span class=lnt id=hl-12-29><a class=lnlinks href=#hl-12-29>29</a>
</span><span class=lnt id=hl-12-30><a class=lnlinks href=#hl-12-30>30</a>
</span><span class=lnt id=hl-12-31><a class=lnlinks href=#hl-12-31>31</a>
</span><span class=lnt id=hl-12-32><a class=lnlinks href=#hl-12-32>32</a>
</span><span class=lnt id=hl-12-33><a class=lnlinks href=#hl-12-33>33</a>
</span><span class=lnt id=hl-12-34><a class=lnlinks href=#hl-12-34>34</a>
</span><span class=lnt id=hl-12-35><a class=lnlinks href=#hl-12-35>35</a>
</span><span class=lnt id=hl-12-36><a class=lnlinks href=#hl-12-36>36</a>
</span><span class=lnt id=hl-12-37><a class=lnlinks href=#hl-12-37>37</a>
</span><span class=lnt id=hl-12-38><a class=lnlinks href=#hl-12-38>38</a>
</span><span class=lnt id=hl-12-39><a class=lnlinks href=#hl-12-39>39</a>
</span><span class=lnt id=hl-12-40><a class=lnlinks href=#hl-12-40>40</a>
</span><span class=lnt id=hl-12-41><a class=lnlinks href=#hl-12-41>41</a>
</span><span class=lnt id=hl-12-42><a class=lnlinks href=#hl-12-42>42</a>
</span><span class=lnt id=hl-12-43><a class=lnlinks href=#hl-12-43>43</a>
</span><span class=lnt id=hl-12-44><a class=lnlinks href=#hl-12-44>44</a>
</span><span class=lnt id=hl-12-45><a class=lnlinks href=#hl-12-45>45</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 서브 시스템 클래스들</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Light</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>on</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;💡 조명 켜기&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>off</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;💡 조명 끄기&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>AirConditioner</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>turn_on</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;❄️ 에어컨 켜기&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>turn_off</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;❄️ 에어컨 끄기&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SecuritySystem</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>arm</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;🔒 보안 시스템 활성화&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>disarm</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;🔓 보안 시스템 비활성화&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Facade 클래스</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>HomeAutomationFacade</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>light</span> <span class=o>=</span> <span class=n>Light</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>ac</span> <span class=o>=</span> <span class=n>AirConditioner</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>security</span> <span class=o>=</span> <span class=n>SecuritySystem</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>leave_home</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>🏠 집을 나갈 때:&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>light</span><span class=o>.</span><span class=n>off</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>ac</span><span class=o>.</span><span class=n>turn_off</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>security</span><span class=o>.</span><span class=n>arm</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>come_home</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>🏠 집에 돌아올 때:&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>security</span><span class=o>.</span><span class=n>disarm</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>light</span><span class=o>.</span><span class=n>on</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>ac</span><span class=o>.</span><span class=n>turn_on</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 클라이언트 사용</span>
</span></span><span class=line><span class=cl><span class=n>facade</span> <span class=o>=</span> <span class=n>HomeAutomationFacade</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>facade</span><span class=o>.</span><span class=n>leave_home</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>facade</span><span class=o>.</span><span class=n>come_home</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>클라이언트는 개별 시스템의 복잡한 API 호출을 몰라도 됨</li><li>진입점이 단일화되어 <em>" 기능 묶음 단위의 추상화 &ldquo;</em> 제공</li></ul><h5 id=mediator-패턴>Mediator 패턴<a hidden class=anchor aria-hidden=true href=#mediator-패턴>#</a></h5><p><strong>목적</strong>: 시스템 내 구성 요소들 간의 <strong>직접적인 의존을 없애고</strong>, 중재자 (Mediator) 를 통해 상호작용을 조정</p><p><strong>구조</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1>1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2>2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[Light]     \
</span></span><span class=line><span class=cl>[AC] ------&gt; [SmartHomeMediator] &lt;------ [SecuritySystem]
</span></span><span class=line><span class=cl>[Client]     /
</span></span></code></pre></td></tr></table></div></div><p><strong>코드 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1> 1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2> 2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3> 3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4> 4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5> 5</a>
</span><span class=lnt id=hl-14-6><a class=lnlinks href=#hl-14-6> 6</a>
</span><span class=lnt id=hl-14-7><a class=lnlinks href=#hl-14-7> 7</a>
</span><span class=lnt id=hl-14-8><a class=lnlinks href=#hl-14-8> 8</a>
</span><span class=lnt id=hl-14-9><a class=lnlinks href=#hl-14-9> 9</a>
</span><span class=lnt id=hl-14-10><a class=lnlinks href=#hl-14-10>10</a>
</span><span class=lnt id=hl-14-11><a class=lnlinks href=#hl-14-11>11</a>
</span><span class=lnt id=hl-14-12><a class=lnlinks href=#hl-14-12>12</a>
</span><span class=lnt id=hl-14-13><a class=lnlinks href=#hl-14-13>13</a>
</span><span class=lnt id=hl-14-14><a class=lnlinks href=#hl-14-14>14</a>
</span><span class=lnt id=hl-14-15><a class=lnlinks href=#hl-14-15>15</a>
</span><span class=lnt id=hl-14-16><a class=lnlinks href=#hl-14-16>16</a>
</span><span class=lnt id=hl-14-17><a class=lnlinks href=#hl-14-17>17</a>
</span><span class=lnt id=hl-14-18><a class=lnlinks href=#hl-14-18>18</a>
</span><span class=lnt id=hl-14-19><a class=lnlinks href=#hl-14-19>19</a>
</span><span class=lnt id=hl-14-20><a class=lnlinks href=#hl-14-20>20</a>
</span><span class=lnt id=hl-14-21><a class=lnlinks href=#hl-14-21>21</a>
</span><span class=lnt id=hl-14-22><a class=lnlinks href=#hl-14-22>22</a>
</span><span class=lnt id=hl-14-23><a class=lnlinks href=#hl-14-23>23</a>
</span><span class=lnt id=hl-14-24><a class=lnlinks href=#hl-14-24>24</a>
</span><span class=lnt id=hl-14-25><a class=lnlinks href=#hl-14-25>25</a>
</span><span class=lnt id=hl-14-26><a class=lnlinks href=#hl-14-26>26</a>
</span><span class=lnt id=hl-14-27><a class=lnlinks href=#hl-14-27>27</a>
</span><span class=lnt id=hl-14-28><a class=lnlinks href=#hl-14-28>28</a>
</span><span class=lnt id=hl-14-29><a class=lnlinks href=#hl-14-29>29</a>
</span><span class=lnt id=hl-14-30><a class=lnlinks href=#hl-14-30>30</a>
</span><span class=lnt id=hl-14-31><a class=lnlinks href=#hl-14-31>31</a>
</span><span class=lnt id=hl-14-32><a class=lnlinks href=#hl-14-32>32</a>
</span><span class=lnt id=hl-14-33><a class=lnlinks href=#hl-14-33>33</a>
</span><span class=lnt id=hl-14-34><a class=lnlinks href=#hl-14-34>34</a>
</span><span class=lnt id=hl-14-35><a class=lnlinks href=#hl-14-35>35</a>
</span><span class=lnt id=hl-14-36><a class=lnlinks href=#hl-14-36>36</a>
</span><span class=lnt id=hl-14-37><a class=lnlinks href=#hl-14-37>37</a>
</span><span class=lnt id=hl-14-38><a class=lnlinks href=#hl-14-38>38</a>
</span><span class=lnt id=hl-14-39><a class=lnlinks href=#hl-14-39>39</a>
</span><span class=lnt id=hl-14-40><a class=lnlinks href=#hl-14-40>40</a>
</span><span class=lnt id=hl-14-41><a class=lnlinks href=#hl-14-41>41</a>
</span><span class=lnt id=hl-14-42><a class=lnlinks href=#hl-14-42>42</a>
</span><span class=lnt id=hl-14-43><a class=lnlinks href=#hl-14-43>43</a>
</span><span class=lnt id=hl-14-44><a class=lnlinks href=#hl-14-44>44</a>
</span><span class=lnt id=hl-14-45><a class=lnlinks href=#hl-14-45>45</a>
</span><span class=lnt id=hl-14-46><a class=lnlinks href=#hl-14-46>46</a>
</span><span class=lnt id=hl-14-47><a class=lnlinks href=#hl-14-47>47</a>
</span><span class=lnt id=hl-14-48><a class=lnlinks href=#hl-14-48>48</a>
</span><span class=lnt id=hl-14-49><a class=lnlinks href=#hl-14-49>49</a>
</span><span class=lnt id=hl-14-50><a class=lnlinks href=#hl-14-50>50</a>
</span><span class=lnt id=hl-14-51><a class=lnlinks href=#hl-14-51>51</a>
</span><span class=lnt id=hl-14-52><a class=lnlinks href=#hl-14-52>52</a>
</span><span class=lnt id=hl-14-53><a class=lnlinks href=#hl-14-53>53</a>
</span><span class=lnt id=hl-14-54><a class=lnlinks href=#hl-14-54>54</a>
</span><span class=lnt id=hl-14-55><a class=lnlinks href=#hl-14-55>55</a>
</span><span class=lnt id=hl-14-56><a class=lnlinks href=#hl-14-56>56</a>
</span><span class=lnt id=hl-14-57><a class=lnlinks href=#hl-14-57>57</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Mediator 인터페이스</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SmartHomeMediator</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>notify</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>sender</span><span class=p>,</span> <span class=n>event</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 구성 요소들 (Colleagues)</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Light</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>mediator</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>mediator</span> <span class=o>=</span> <span class=n>mediator</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>on</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;💡 조명 켜기&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>off</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;💡 조명 끄기&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>AirConditioner</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>mediator</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>mediator</span> <span class=o>=</span> <span class=n>mediator</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>turn_on</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;❄️ 에어컨 켜기&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>turn_off</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;❄️ 에어컨 끄기&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SecuritySystem</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>mediator</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>mediator</span> <span class=o>=</span> <span class=n>mediator</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>arm</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;🔒 보안 시스템 활성화&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>mediator</span><span class=o>.</span><span class=n>notify</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=s2>&#34;armed&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>disarm</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;🔓 보안 시스템 비활성화&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>mediator</span><span class=o>.</span><span class=n>notify</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=s2>&#34;disarmed&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Concrete Mediator</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ConcreteSmartHomeMediator</span><span class=p>(</span><span class=n>SmartHomeMediator</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>light</span> <span class=o>=</span> <span class=n>Light</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>ac</span> <span class=o>=</span> <span class=n>AirConditioner</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>security</span> <span class=o>=</span> <span class=n>SecuritySystem</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>notify</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>sender</span><span class=p>,</span> <span class=n>event</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>event</span> <span class=o>==</span> <span class=s2>&#34;armed&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>light</span><span class=o>.</span><span class=n>off</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>ac</span><span class=o>.</span><span class=n>turn_off</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=n>event</span> <span class=o>==</span> <span class=s2>&#34;disarmed&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>light</span><span class=o>.</span><span class=n>on</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>ac</span><span class=o>.</span><span class=n>turn_on</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용 예시</span>
</span></span><span class=line><span class=cl><span class=n>mediator</span> <span class=o>=</span> <span class=n>ConcreteSmartHomeMediator</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>mediator</span><span class=o>.</span><span class=n>security</span><span class=o>.</span><span class=n>arm</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>mediator</span><span class=o>.</span><span class=n>security</span><span class=o>.</span><span class=n>disarm</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>각 컴포넌트는 <strong>서로를 직접 참조하지 않음</strong></li><li>보안 시스템이 작동하면 <strong>자동으로 조명과 에어컨도 반응</strong>, 이벤트 흐름 기반의 상호작용</li></ul><h3 id=facade-vs-builder>Facade vs. Builder<a hidden class=anchor aria-hidden=true href=#facade-vs-builder>#</a></h3><table><thead><tr><th>항목</th><th><strong>Facade Pattern</strong></th><th><strong>Builder Pattern</strong></th></tr></thead><tbody><tr><td><strong>주요 목적</strong></td><td>복잡한 서브시스템의 사용을 간단한 인터페이스로 감추기</td><td>복잡한 객체 생성을 단계적으로 구성하고 제어</td></tr><tr><td><strong>적용 시점</strong></td><td>시스템의 <strong>사용 흐름</strong>이 복잡할 때 사용</td><td>객체의 <strong>구성이 복잡하고 다양한 옵션</strong>이 있을 때 사용</td></tr><tr><td><strong>대상</strong></td><td><strong>클래스 조합과 호출 순서</strong>를 단순화</td><td><strong>하나의 복합 객체 구성 과정</strong>을 캡슐화</td></tr><tr><td><strong>구현 초점</strong></td><td>클라이언트와 서브시스템 간의 인터페이스 통합</td><td>내부 필드 설정, 조립, 유효성 검사를 분리된 Builder 로 담당</td></tr><tr><td><strong>변경 영향</strong></td><td>서브시스템 변경 시 <strong>Facade 클래스만 수정</strong></td><td>생성 로직 변경 시 <strong>Builder 만 수정</strong></td></tr><tr><td><strong>대표 구성요소</strong></td><td>Facade, Subsystems, Client</td><td>Builder, Director (선택), Product</td></tr><tr><td><strong>장점</strong></td><td>사용자 입장에서 <strong>API 단순화</strong>, <strong>결합도 감소</strong></td><td><strong>가독성 향상</strong>, <strong>불변 객체 생성</strong>, <strong>선택적 필드 처리 용이</strong></td></tr><tr><td><strong>단점</strong></td><td>기능이 많아지면 Facade 자체가 복잡해질 수 있음</td><td>Builder 가 많아질 경우 <strong>클래스 수 증가</strong> 가능성</td></tr><tr><td><strong>유형</strong></td><td>구조 패턴 (Structural)</td><td>생성 패턴 (Creational)</td></tr><tr><td><strong>사용 예</strong></td><td>UI 컨트롤러, API Gateway, 미디어 컨트롤러 등</td><td>HTTP 요청 객체, Query Builder, 복잡한 폼 구성 객체 등</td></tr></tbody></table><h4 id=공통-주제-복잡한-html-문서-생성-및-렌더링>공통 주제: 복잡한 HTML 문서 생성 및 렌더링<a hidden class=anchor aria-hidden=true href=#공통-주제-복잡한-html-문서-생성-및-렌더링>#</a></h4><table><thead><tr><th>관점</th><th><strong>Facade</strong></th><th><strong>Builder</strong></th></tr></thead><tbody><tr><td><strong>주제 초점</strong></td><td>복잡한 <strong>사용 흐름 단순화</strong></td><td>복잡한 <strong>객체 구성 절차 추상화</strong></td></tr><tr><td><strong>사용 시기</strong></td><td>여러 하위 시스템을 한꺼번에 호출하거나 연동할 때</td><td>객체의 필드가 많고, 일부만 선택적으로 조립할 때 사용</td></tr><tr><td><strong>유연성</strong></td><td>전체 구성 고정, 내부 변경에 의존</td><td>구성 순서 유연, 조건부 조합 가능</td></tr><tr><td><strong>결합도</strong></td><td>낮춤 (Facade 가 중개자 역할)</td><td>낮춤 (Builder 가 생성 분리)</td></tr><tr><td><strong>재사용성</strong></td><td>클라이언트 로직 단순화에 집중</td><td>다양한 조합/옵션 기반 객체 생성에 유리</td></tr></tbody></table><h5 id=facade-pattern-2>Facade Pattern<a hidden class=anchor aria-hidden=true href=#facade-pattern-2>#</a></h5><blockquote><p>HTML 생성에 필요한 다양한 서브 컴포넌트 호출을 단순화</p></blockquote><p><strong>예시 코드</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1> 1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2> 2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3> 3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4> 4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5> 5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6> 6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7> 7</a>
</span><span class=lnt id=hl-15-8><a class=lnlinks href=#hl-15-8> 8</a>
</span><span class=lnt id=hl-15-9><a class=lnlinks href=#hl-15-9> 9</a>
</span><span class=lnt id=hl-15-10><a class=lnlinks href=#hl-15-10>10</a>
</span><span class=lnt id=hl-15-11><a class=lnlinks href=#hl-15-11>11</a>
</span><span class=lnt id=hl-15-12><a class=lnlinks href=#hl-15-12>12</a>
</span><span class=lnt id=hl-15-13><a class=lnlinks href=#hl-15-13>13</a>
</span><span class=lnt id=hl-15-14><a class=lnlinks href=#hl-15-14>14</a>
</span><span class=lnt id=hl-15-15><a class=lnlinks href=#hl-15-15>15</a>
</span><span class=lnt id=hl-15-16><a class=lnlinks href=#hl-15-16>16</a>
</span><span class=lnt id=hl-15-17><a class=lnlinks href=#hl-15-17>17</a>
</span><span class=lnt id=hl-15-18><a class=lnlinks href=#hl-15-18>18</a>
</span><span class=lnt id=hl-15-19><a class=lnlinks href=#hl-15-19>19</a>
</span><span class=lnt id=hl-15-20><a class=lnlinks href=#hl-15-20>20</a>
</span><span class=lnt id=hl-15-21><a class=lnlinks href=#hl-15-21>21</a>
</span><span class=lnt id=hl-15-22><a class=lnlinks href=#hl-15-22>22</a>
</span><span class=lnt id=hl-15-23><a class=lnlinks href=#hl-15-23>23</a>
</span><span class=lnt id=hl-15-24><a class=lnlinks href=#hl-15-24>24</a>
</span><span class=lnt id=hl-15-25><a class=lnlinks href=#hl-15-25>25</a>
</span><span class=lnt id=hl-15-26><a class=lnlinks href=#hl-15-26>26</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 서브시스템 클래스들</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>HTMLHeader</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>render</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;&lt;header&gt;Welcome&lt;/header&gt;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>HTMLBody</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>render</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;&lt;body&gt;&lt;p&gt;Content&lt;/p&gt;&lt;/body&gt;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>HTMLFooter</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>render</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;&lt;footer&gt;Goodbye&lt;/footer&gt;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Facade 클래스</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>HTMLPageFacade</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>header</span> <span class=o>=</span> <span class=n>HTMLHeader</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>body</span> <span class=o>=</span> <span class=n>HTMLBody</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>footer</span> <span class=o>=</span> <span class=n>HTMLFooter</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>render_page</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>header</span><span class=o>.</span><span class=n>render</span><span class=p>()</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>body</span><span class=o>.</span><span class=n>render</span><span class=p>()</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>footer</span><span class=o>.</span><span class=n>render</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 클라이언트 사용</span>
</span></span><span class=line><span class=cl><span class=n>page</span> <span class=o>=</span> <span class=n>HTMLPageFacade</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>page</span><span class=o>.</span><span class=n>render_page</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>클라이언트는 <code>HTMLPageFacade</code> 만 사용하면 전체 페이지 생성 가능</li><li>구성 요소들 (Header/Body/Footer) 을 직접 다루지 않음</li></ul><h5 id=builder-pattern>Builder Pattern<a hidden class=anchor aria-hidden=true href=#builder-pattern>#</a></h5><blockquote><p>HTML 페이지 객체를 단계적으로 구성</p></blockquote><p><strong>예시 코드</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1> 1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2> 2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3> 3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4> 4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5> 5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6> 6</a>
</span><span class=lnt id=hl-16-7><a class=lnlinks href=#hl-16-7> 7</a>
</span><span class=lnt id=hl-16-8><a class=lnlinks href=#hl-16-8> 8</a>
</span><span class=lnt id=hl-16-9><a class=lnlinks href=#hl-16-9> 9</a>
</span><span class=lnt id=hl-16-10><a class=lnlinks href=#hl-16-10>10</a>
</span><span class=lnt id=hl-16-11><a class=lnlinks href=#hl-16-11>11</a>
</span><span class=lnt id=hl-16-12><a class=lnlinks href=#hl-16-12>12</a>
</span><span class=lnt id=hl-16-13><a class=lnlinks href=#hl-16-13>13</a>
</span><span class=lnt id=hl-16-14><a class=lnlinks href=#hl-16-14>14</a>
</span><span class=lnt id=hl-16-15><a class=lnlinks href=#hl-16-15>15</a>
</span><span class=lnt id=hl-16-16><a class=lnlinks href=#hl-16-16>16</a>
</span><span class=lnt id=hl-16-17><a class=lnlinks href=#hl-16-17>17</a>
</span><span class=lnt id=hl-16-18><a class=lnlinks href=#hl-16-18>18</a>
</span><span class=lnt id=hl-16-19><a class=lnlinks href=#hl-16-19>19</a>
</span><span class=lnt id=hl-16-20><a class=lnlinks href=#hl-16-20>20</a>
</span><span class=lnt id=hl-16-21><a class=lnlinks href=#hl-16-21>21</a>
</span><span class=lnt id=hl-16-22><a class=lnlinks href=#hl-16-22>22</a>
</span><span class=lnt id=hl-16-23><a class=lnlinks href=#hl-16-23>23</a>
</span><span class=lnt id=hl-16-24><a class=lnlinks href=#hl-16-24>24</a>
</span><span class=lnt id=hl-16-25><a class=lnlinks href=#hl-16-25>25</a>
</span><span class=lnt id=hl-16-26><a class=lnlinks href=#hl-16-26>26</a>
</span><span class=lnt id=hl-16-27><a class=lnlinks href=#hl-16-27>27</a>
</span><span class=lnt id=hl-16-28><a class=lnlinks href=#hl-16-28>28</a>
</span><span class=lnt id=hl-16-29><a class=lnlinks href=#hl-16-29>29</a>
</span><span class=lnt id=hl-16-30><a class=lnlinks href=#hl-16-30>30</a>
</span><span class=lnt id=hl-16-31><a class=lnlinks href=#hl-16-31>31</a>
</span><span class=lnt id=hl-16-32><a class=lnlinks href=#hl-16-32>32</a>
</span><span class=lnt id=hl-16-33><a class=lnlinks href=#hl-16-33>33</a>
</span><span class=lnt id=hl-16-34><a class=lnlinks href=#hl-16-34>34</a>
</span><span class=lnt id=hl-16-35><a class=lnlinks href=#hl-16-35>35</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Product 클래스</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>HTMLPage</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parts</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>part</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parts</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>part</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>render</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;&#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>parts</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Builder 클래스</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>HTMLPageBuilder</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>page</span> <span class=o>=</span> <span class=n>HTMLPage</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add_header</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>page</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=s2>&#34;&lt;header&gt;Welcome&lt;/header&gt;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add_body</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>page</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=s2>&#34;&lt;body&gt;&lt;p&gt;Content&lt;/p&gt;&lt;/body&gt;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add_footer</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>page</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=s2>&#34;&lt;footer&gt;Goodbye&lt;/footer&gt;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>build</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>page</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 클라이언트 사용</span>
</span></span><span class=line><span class=cl><span class=n>builder</span> <span class=o>=</span> <span class=n>HTMLPageBuilder</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>page</span> <span class=o>=</span> <span class=n>builder</span><span class=o>.</span><span class=n>add_header</span><span class=p>()</span><span class=o>.</span><span class=n>add_body</span><span class=p>()</span><span class=o>.</span><span class=n>add_footer</span><span class=p>()</span><span class=o>.</span><span class=n>build</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>page</span><span class=o>.</span><span class=n>render</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>각 부분을 <strong>체계적으로 선택 및 조합</strong> 가능</li><li>선택적 생략, 조립 순서 유연함 (<code>add_footer()</code> 생략도 가능)</li></ul><h3 id=facade-vs-decorator>Facade vs. Decorator<a hidden class=anchor aria-hidden=true href=#facade-vs-decorator>#</a></h3><table><thead><tr><th>항목</th><th><strong>Facade Pattern</strong></th><th><strong>Decorator Pattern</strong></th></tr></thead><tbody><tr><td><strong>목적</strong></td><td>복잡한 서브시스템을 감추고 단순화된 인터페이스 제공</td><td>객체에 기능을 동적으로 추가 (런타임에 유연한 기능 조합)</td></tr><tr><td><strong>초점</strong></td><td><strong>사용 편의성</strong>: 클라이언트가 서브시스템을 쉽게 사용하도록 돕는 인터페이스 제공</td><td><strong>기능 확장성</strong>: 객체의 내부 변경 없이 새로운 기능을 유연하게 추가</td></tr><tr><td><strong>적용 위치</strong></td><td>클라이언트와 서브시스템 사이 (외부 인터페이스 역할)</td><td>컴포넌트와 기능 클래스 사이 (객체 내부 또는 래핑 구조)</td></tr><tr><td><strong>기능 확장</strong></td><td>확장이 아닌 단순화 목적, 기능 추가는 주 목적 아님</td><td>다양한 기능을 조합할 수 있도록 <strong>확장성 중심</strong> 설계</td></tr><tr><td><strong>의존성 방향</strong></td><td>Facade → 서브시스템</td><td>Decorator → Component 인터페이스 → 원본 객체</td></tr><tr><td><strong>설계 원칙 강조</strong></td><td>SRP(단일 책임 원칙), Law of Demeter (최소 지식 원칙)</td><td>OCP(개방/폐쇄 원칙), 컴포지션을 통한 동적 확장</td></tr><tr><td><strong>실전 적용 예시</strong></td><td>API Gateway, UI/Service 레이어, 외부 API 래핑</td><td>로깅, 보안, 캐싱, 입력검증, 트랜잭션 등 기능별 모듈화</td></tr><tr><td><strong>관심사 분리</strong></td><td>시스템 외부와의 인터페이스 추상화</td><td>개별 기능 단위로 책임 분리, 데코레이터 중첩으로 조합</td></tr></tbody></table><h4 id=공통-주제-파일-다운로드-기능>공통 주제: <strong>파일 다운로드 기능</strong><a hidden class=anchor aria-hidden=true href=#공통-주제-파일-다운로드-기능>#</a></h4><p><strong>상황</strong>: 사용자는 서버에서 파일을 다운로드할 수 있음.</p><ul><li>파일 다운로드 기능을 클라이언트에게 단순하게 노출하고 싶고, 필요에 따라 압축, 암호화 등의 기능을 확장하고 싶음.</li></ul><table><thead><tr><th>공통 주제</th><th><strong>Facade 적용</strong></th><th><strong>Decorator 적용</strong></th></tr></thead><tbody><tr><td>파일 다운로드 인터페이스 제공</td><td>내부 시스템을 감춘 단일 메서드 제공</td><td>기능 조합이 가능한 유연한 구조 (압축 + 암호화 등)</td></tr><tr><td>내부 API 호출 관리</td><td>호출 순서를 Facade 가 담당</td><td>각 기능은 데코레이터로 분리, 순서 조합은 클라이언트가 결정</td></tr><tr><td>코드 변경 범위</td><td>클라이언트는 바뀌지 않음, 내부 로직만 변경 가능</td><td>데코레이터 추가/변경 시 클라이언트에 래핑 구조만 반영하면 됨</td></tr><tr><td>유연성</td><td>고정된 로직으로 동작</td><td>매우 유연하게 기능 조합 가능</td></tr></tbody></table><ul><li><strong>Facade</strong>는 복잡한 흐름을 감추고 클라이언트에 단순화된 API 를 제공</li><li><strong>Decorator</strong>는 객체의 기능을 동적으로 확장하면서 조합 가능한 구조 제공</li></ul><h5 id=facade-패턴-예제-단순화된-파일-다운로드-인터페이스>Facade 패턴 예제: <strong>단순화된 파일 다운로드 인터페이스</strong><a hidden class=anchor aria-hidden=true href=#facade-패턴-예제-단순화된-파일-다운로드-인터페이스>#</a></h5><p><strong>설명</strong>:</p><ul><li><code>Downloader</code> 가 복잡한 내부 API (<code>FileFetcher</code>, <code>Compressor</code>, <code>Encryptor</code>) 를 감춤</li><li>클라이언트는 복잡한 순서를 몰라도 <code>Downloader.download()</code> 만 호출하면 끝</li></ul><p><strong>코드 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1> 1</a>
</span><span class=lnt id=hl-17-2><a class=lnlinks href=#hl-17-2> 2</a>
</span><span class=lnt id=hl-17-3><a class=lnlinks href=#hl-17-3> 3</a>
</span><span class=lnt id=hl-17-4><a class=lnlinks href=#hl-17-4> 4</a>
</span><span class=lnt id=hl-17-5><a class=lnlinks href=#hl-17-5> 5</a>
</span><span class=lnt id=hl-17-6><a class=lnlinks href=#hl-17-6> 6</a>
</span><span class=lnt id=hl-17-7><a class=lnlinks href=#hl-17-7> 7</a>
</span><span class=lnt id=hl-17-8><a class=lnlinks href=#hl-17-8> 8</a>
</span><span class=lnt id=hl-17-9><a class=lnlinks href=#hl-17-9> 9</a>
</span><span class=lnt id=hl-17-10><a class=lnlinks href=#hl-17-10>10</a>
</span><span class=lnt id=hl-17-11><a class=lnlinks href=#hl-17-11>11</a>
</span><span class=lnt id=hl-17-12><a class=lnlinks href=#hl-17-12>12</a>
</span><span class=lnt id=hl-17-13><a class=lnlinks href=#hl-17-13>13</a>
</span><span class=lnt id=hl-17-14><a class=lnlinks href=#hl-17-14>14</a>
</span><span class=lnt id=hl-17-15><a class=lnlinks href=#hl-17-15>15</a>
</span><span class=lnt id=hl-17-16><a class=lnlinks href=#hl-17-16>16</a>
</span><span class=lnt id=hl-17-17><a class=lnlinks href=#hl-17-17>17</a>
</span><span class=lnt id=hl-17-18><a class=lnlinks href=#hl-17-18>18</a>
</span><span class=lnt id=hl-17-19><a class=lnlinks href=#hl-17-19>19</a>
</span><span class=lnt id=hl-17-20><a class=lnlinks href=#hl-17-20>20</a>
</span><span class=lnt id=hl-17-21><a class=lnlinks href=#hl-17-21>21</a>
</span><span class=lnt id=hl-17-22><a class=lnlinks href=#hl-17-22>22</a>
</span><span class=lnt id=hl-17-23><a class=lnlinks href=#hl-17-23>23</a>
</span><span class=lnt id=hl-17-24><a class=lnlinks href=#hl-17-24>24</a>
</span><span class=lnt id=hl-17-25><a class=lnlinks href=#hl-17-25>25</a>
</span><span class=lnt id=hl-17-26><a class=lnlinks href=#hl-17-26>26</a>
</span><span class=lnt id=hl-17-27><a class=lnlinks href=#hl-17-27>27</a>
</span><span class=lnt id=hl-17-28><a class=lnlinks href=#hl-17-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 복잡한 서브시스템</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>FileFetcher</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>fetch</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>filename</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;📥 </span><span class=si>{</span><span class=n>filename</span><span class=si>}</span><span class=s2> 파일 다운로드&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Compressor</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>compress</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>filename</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;🗜️ </span><span class=si>{</span><span class=n>filename</span><span class=si>}</span><span class=s2> 압축&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Encryptor</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>encrypt</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>filename</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;🔐 </span><span class=si>{</span><span class=n>filename</span><span class=si>}</span><span class=s2> 암호화&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Facade</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Downloader</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>fetcher</span> <span class=o>=</span> <span class=n>FileFetcher</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>compressor</span> <span class=o>=</span> <span class=n>Compressor</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>encryptor</span> <span class=o>=</span> <span class=n>Encryptor</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>download</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>filename</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>fetcher</span><span class=o>.</span><span class=n>fetch</span><span class=p>(</span><span class=n>filename</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>compressor</span><span class=o>.</span><span class=n>compress</span><span class=p>(</span><span class=n>filename</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>encryptor</span><span class=o>.</span><span class=n>encrypt</span><span class=p>(</span><span class=n>filename</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 클라이언트</span>
</span></span><span class=line><span class=cl><span class=n>downloader</span> <span class=o>=</span> <span class=n>Downloader</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>downloader</span><span class=o>.</span><span class=n>download</span><span class=p>(</span><span class=s2>&#34;report.pdf&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><code>Downloader</code> 는 파일 다운로드 프로세스를 단일 진입점으로 단순화</li><li>클라이언트는 내부 흐름을 몰라도 됨</li></ul><h5 id=decorator-패턴-예제-동적으로-기능을-조합할-수-있는-파일-다운로드>Decorator 패턴 예제: 동적으로 기능을 조합할 수 있는 파일 다운로드<a hidden class=anchor aria-hidden=true href=#decorator-패턴-예제-동적으로-기능을-조합할-수-있는-파일-다운로드>#</a></h5><p><strong>설명</strong>:</p><ul><li><code>Downloader</code> 는 기본 기능만 제공</li><li>기능을 <strong>중첩 래핑하여</strong> 다운로드 시 압축, 암호화 등을 동적으로 조합 가능</li></ul><p><strong>코드 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1> 1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2> 2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3> 3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4> 4</a>
</span><span class=lnt id=hl-18-5><a class=lnlinks href=#hl-18-5> 5</a>
</span><span class=lnt id=hl-18-6><a class=lnlinks href=#hl-18-6> 6</a>
</span><span class=lnt id=hl-18-7><a class=lnlinks href=#hl-18-7> 7</a>
</span><span class=lnt id=hl-18-8><a class=lnlinks href=#hl-18-8> 8</a>
</span><span class=lnt id=hl-18-9><a class=lnlinks href=#hl-18-9> 9</a>
</span><span class=lnt id=hl-18-10><a class=lnlinks href=#hl-18-10>10</a>
</span><span class=lnt id=hl-18-11><a class=lnlinks href=#hl-18-11>11</a>
</span><span class=lnt id=hl-18-12><a class=lnlinks href=#hl-18-12>12</a>
</span><span class=lnt id=hl-18-13><a class=lnlinks href=#hl-18-13>13</a>
</span><span class=lnt id=hl-18-14><a class=lnlinks href=#hl-18-14>14</a>
</span><span class=lnt id=hl-18-15><a class=lnlinks href=#hl-18-15>15</a>
</span><span class=lnt id=hl-18-16><a class=lnlinks href=#hl-18-16>16</a>
</span><span class=lnt id=hl-18-17><a class=lnlinks href=#hl-18-17>17</a>
</span><span class=lnt id=hl-18-18><a class=lnlinks href=#hl-18-18>18</a>
</span><span class=lnt id=hl-18-19><a class=lnlinks href=#hl-18-19>19</a>
</span><span class=lnt id=hl-18-20><a class=lnlinks href=#hl-18-20>20</a>
</span><span class=lnt id=hl-18-21><a class=lnlinks href=#hl-18-21>21</a>
</span><span class=lnt id=hl-18-22><a class=lnlinks href=#hl-18-22>22</a>
</span><span class=lnt id=hl-18-23><a class=lnlinks href=#hl-18-23>23</a>
</span><span class=lnt id=hl-18-24><a class=lnlinks href=#hl-18-24>24</a>
</span><span class=lnt id=hl-18-25><a class=lnlinks href=#hl-18-25>25</a>
</span><span class=lnt id=hl-18-26><a class=lnlinks href=#hl-18-26>26</a>
</span><span class=lnt id=hl-18-27><a class=lnlinks href=#hl-18-27>27</a>
</span><span class=lnt id=hl-18-28><a class=lnlinks href=#hl-18-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 기본 인터페이스</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Downloader</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>download</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>filename</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;📥 </span><span class=si>{</span><span class=n>filename</span><span class=si>}</span><span class=s2> 파일 다운로드&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 추상 데코레이터</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DownloaderDecorator</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>downloader</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>downloader</span> <span class=o>=</span> <span class=n>downloader</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>download</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>filename</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>downloader</span><span class=o>.</span><span class=n>download</span><span class=p>(</span><span class=n>filename</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 구체 데코레이터</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CompressionDecorator</span><span class=p>(</span><span class=n>DownloaderDecorator</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>download</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>filename</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>download</span><span class=p>(</span><span class=n>filename</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;🗜️ </span><span class=si>{</span><span class=n>filename</span><span class=si>}</span><span class=s2> 압축&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>EncryptionDecorator</span><span class=p>(</span><span class=n>DownloaderDecorator</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>download</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>filename</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>download</span><span class=p>(</span><span class=n>filename</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;🔐 </span><span class=si>{</span><span class=n>filename</span><span class=si>}</span><span class=s2> 암호화&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 데코레이터 조합</span>
</span></span><span class=line><span class=cl><span class=n>basic</span> <span class=o>=</span> <span class=n>Downloader</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>secure_download</span> <span class=o>=</span> <span class=n>EncryptionDecorator</span><span class=p>(</span><span class=n>CompressionDecorator</span><span class=p>(</span><span class=n>basic</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>secure_download</span><span class=o>.</span><span class=n>download</span><span class=p>(</span><span class=s2>&#34;report.pdf&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><code>Compression</code>, <code>Encryption</code> 기능은 <strong>동적으로 선택적으로 조합 가능</strong></li><li>기능 변화가 있어도 기존 객체를 변경하지 않고 새로운 데코레이터로 확장 가능</li></ul><h3 id=facade-vs-abstract-factory>Facade vs. Abstract Factory<a hidden class=anchor aria-hidden=true href=#facade-vs-abstract-factory>#</a></h3><table><thead><tr><th>항목</th><th><strong>Facade Pattern</strong></th><th><strong>Abstract Factory Pattern</strong></th></tr></thead><tbody><tr><td><strong>주요 목적</strong></td><td>복잡한 서브시스템에 대한 <strong>단순화된 인터페이스 제공</strong></td><td>관련된 객체 제품군을 <strong>일관된 방식으로 생성</strong></td></tr><tr><td><strong>분류</strong></td><td>구조 패턴 (Structural Pattern)</td><td>생성 패턴 (Creational Pattern)</td></tr><tr><td><strong>핵심 기능</strong></td><td>여러 클래스를 조합한 기능을 <strong>하나의 API</strong>로 제공</td><td>객체 생성을 캡슐화하여, <strong>구현체를 숨기고 통일된 방식으로 생성</strong></td></tr><tr><td><strong>클라이언트 역할</strong></td><td>서브시스템 세부 사항 몰라도 됨</td><td>객체 생성 방법을 몰라도, 원하는 제품군을 일관되게 생성</td></tr><tr><td><strong>응집도</strong></td><td>서브시스템과의 결합도를 줄이고, 단일 인터페이스 제공</td><td>제품군 간의 응집도를 유지하면서, 교체 가능하도록 설계</td></tr><tr><td><strong>주로 다루는 대상</strong></td><td><strong>기능 호출의 흐름 제어</strong></td><td><strong>객체 생성의 일관성 보장</strong></td></tr><tr><td><strong>확장성</strong></td><td>기능이 추가될수록 Facade 내부 메서드가 복잡해질 수 있음</td><td>제품군 확장은 쉽지만, 새로운 제품군 추가는 <strong>새 Factory 가 필요</strong></td></tr><tr><td><strong>예시</strong></td><td>미디어 플레이어, API 게이트웨이, UI 페이지 컨트롤러</td><td>GUI 플랫폼 위젯 팩토리, 테마 기반 UI 팩토리, DB 연결 드라이버 팩토리 등</td></tr><tr><td><strong>대표 구성요소</strong></td><td><code>Facade</code>, <code>Subsystem</code>, <code>Client</code></td><td><code>AbstractFactory</code>, <code>ConcreteFactory</code>, <code>ProductA/B</code>, <code>Client</code></td></tr></tbody></table><h4 id=공통-주제-ui-위젯-시스템>공통 주제: <strong>UI 위젯 시스템</strong><a hidden class=anchor aria-hidden=true href=#공통-주제-ui-위젯-시스템>#</a></h4><blockquote><p>플랫폼 (예: Windows, Mac) 에 따라 UI 위젯의 생김새나 동작을 다르게 하되, 클라이언트는 일관된 방식으로 사용</p></blockquote><table><thead><tr><th>비교 항목</th><th><strong>Facade</strong></th><th><strong>Abstract Factory</strong></th></tr></thead><tbody><tr><td><strong>주제 초점</strong></td><td>내부 로직의 <strong>복잡한 흐름 숨기기</strong></td><td>제품 구성 요소들의 <strong>생성 규칙 일관화</strong></td></tr><tr><td><strong>사용 목적</strong></td><td>기능의 <strong>간편한 호출을 위한 인터페이스 통합</strong></td><td>제품군 생성의 <strong>표준화된 방식 제공</strong></td></tr><tr><td><strong>대표적 쓰임새</strong></td><td>API 게이트웨이, 미디어 컨트롤, 서브시스템 실행 정리</td><td>테마/OS 기반 GUI 구성, DB 연결 드라이버 팩토리</td></tr><tr><td><strong>확장 시 고려사항</strong></td><td>메서드 추가 시 Facade 복잡도 증가 가능</td><td>제품군 추가는 새 Factory 필요</td></tr><tr><td><strong>장점</strong></td><td>복잡한 사용 흐름을 단일 API 로 감춤</td><td>제품군 구성 일관성 확보, 클라이언트 코드 재사용 가능</td></tr></tbody></table><ul><li><strong>Facade</strong>는 서브시스템을 묶어서 <strong>사용 흐름을 단순화</strong>하고,</li><li><strong>Abstract Factory</strong>는 객체 생성에서 <strong>제품 간 일관성과 교체 가능성</strong>을 보장한다.</li></ul><h5 id=facade-pattern-예시>Facade Pattern 예시<a hidden class=anchor aria-hidden=true href=#facade-pattern-예시>#</a></h5><blockquote><p>UI 초기화에 필요한 여러 로직을 감추고, <code>UIFacade</code> 하나로 초기화 처리</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1> 1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2> 2</a>
</span><span class=lnt id=hl-19-3><a class=lnlinks href=#hl-19-3> 3</a>
</span><span class=lnt id=hl-19-4><a class=lnlinks href=#hl-19-4> 4</a>
</span><span class=lnt id=hl-19-5><a class=lnlinks href=#hl-19-5> 5</a>
</span><span class=lnt id=hl-19-6><a class=lnlinks href=#hl-19-6> 6</a>
</span><span class=lnt id=hl-19-7><a class=lnlinks href=#hl-19-7> 7</a>
</span><span class=lnt id=hl-19-8><a class=lnlinks href=#hl-19-8> 8</a>
</span><span class=lnt id=hl-19-9><a class=lnlinks href=#hl-19-9> 9</a>
</span><span class=lnt id=hl-19-10><a class=lnlinks href=#hl-19-10>10</a>
</span><span class=lnt id=hl-19-11><a class=lnlinks href=#hl-19-11>11</a>
</span><span class=lnt id=hl-19-12><a class=lnlinks href=#hl-19-12>12</a>
</span><span class=lnt id=hl-19-13><a class=lnlinks href=#hl-19-13>13</a>
</span><span class=lnt id=hl-19-14><a class=lnlinks href=#hl-19-14>14</a>
</span><span class=lnt id=hl-19-15><a class=lnlinks href=#hl-19-15>15</a>
</span><span class=lnt id=hl-19-16><a class=lnlinks href=#hl-19-16>16</a>
</span><span class=lnt id=hl-19-17><a class=lnlinks href=#hl-19-17>17</a>
</span><span class=lnt id=hl-19-18><a class=lnlinks href=#hl-19-18>18</a>
</span><span class=lnt id=hl-19-19><a class=lnlinks href=#hl-19-19>19</a>
</span><span class=lnt id=hl-19-20><a class=lnlinks href=#hl-19-20>20</a>
</span><span class=lnt id=hl-19-21><a class=lnlinks href=#hl-19-21>21</a>
</span><span class=lnt id=hl-19-22><a class=lnlinks href=#hl-19-22>22</a>
</span><span class=lnt id=hl-19-23><a class=lnlinks href=#hl-19-23>23</a>
</span><span class=lnt id=hl-19-24><a class=lnlinks href=#hl-19-24>24</a>
</span><span class=lnt id=hl-19-25><a class=lnlinks href=#hl-19-25>25</a>
</span><span class=lnt id=hl-19-26><a class=lnlinks href=#hl-19-26>26</a>
</span><span class=lnt id=hl-19-27><a class=lnlinks href=#hl-19-27>27</a>
</span><span class=lnt id=hl-19-28><a class=lnlinks href=#hl-19-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 서브시스템 클래스들</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Window</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Create window&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Button</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Create button&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>InputBox</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Create input box&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Facade</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>UIFacade</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>window</span> <span class=o>=</span> <span class=n>Window</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>button</span> <span class=o>=</span> <span class=n>Button</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>input_box</span> <span class=o>=</span> <span class=n>InputBox</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>initialize_ui</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>window</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>button</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>input_box</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용</span>
</span></span><span class=line><span class=cl><span class=n>ui</span> <span class=o>=</span> <span class=n>UIFacade</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>ui</span><span class=o>.</span><span class=n>initialize_ui</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>여러 UI 요소 초기화를 클라이언트는 <code>initialize_ui()</code> 하나만 호출하면 됨</li><li>내부 로직 변경돼도 클라이언트 영향 없음</li></ul><h5 id=abstract-factory-pattern>Abstract Factory Pattern<a hidden class=anchor aria-hidden=true href=#abstract-factory-pattern>#</a></h5><blockquote><p>UI 테마 또는 플랫폼에 따라 위젯 클래스 군을 다르게 제공</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-20-1><a class=lnlinks href=#hl-20-1> 1</a>
</span><span class=lnt id=hl-20-2><a class=lnlinks href=#hl-20-2> 2</a>
</span><span class=lnt id=hl-20-3><a class=lnlinks href=#hl-20-3> 3</a>
</span><span class=lnt id=hl-20-4><a class=lnlinks href=#hl-20-4> 4</a>
</span><span class=lnt id=hl-20-5><a class=lnlinks href=#hl-20-5> 5</a>
</span><span class=lnt id=hl-20-6><a class=lnlinks href=#hl-20-6> 6</a>
</span><span class=lnt id=hl-20-7><a class=lnlinks href=#hl-20-7> 7</a>
</span><span class=lnt id=hl-20-8><a class=lnlinks href=#hl-20-8> 8</a>
</span><span class=lnt id=hl-20-9><a class=lnlinks href=#hl-20-9> 9</a>
</span><span class=lnt id=hl-20-10><a class=lnlinks href=#hl-20-10>10</a>
</span><span class=lnt id=hl-20-11><a class=lnlinks href=#hl-20-11>11</a>
</span><span class=lnt id=hl-20-12><a class=lnlinks href=#hl-20-12>12</a>
</span><span class=lnt id=hl-20-13><a class=lnlinks href=#hl-20-13>13</a>
</span><span class=lnt id=hl-20-14><a class=lnlinks href=#hl-20-14>14</a>
</span><span class=lnt id=hl-20-15><a class=lnlinks href=#hl-20-15>15</a>
</span><span class=lnt id=hl-20-16><a class=lnlinks href=#hl-20-16>16</a>
</span><span class=lnt id=hl-20-17><a class=lnlinks href=#hl-20-17>17</a>
</span><span class=lnt id=hl-20-18><a class=lnlinks href=#hl-20-18>18</a>
</span><span class=lnt id=hl-20-19><a class=lnlinks href=#hl-20-19>19</a>
</span><span class=lnt id=hl-20-20><a class=lnlinks href=#hl-20-20>20</a>
</span><span class=lnt id=hl-20-21><a class=lnlinks href=#hl-20-21>21</a>
</span><span class=lnt id=hl-20-22><a class=lnlinks href=#hl-20-22>22</a>
</span><span class=lnt id=hl-20-23><a class=lnlinks href=#hl-20-23>23</a>
</span><span class=lnt id=hl-20-24><a class=lnlinks href=#hl-20-24>24</a>
</span><span class=lnt id=hl-20-25><a class=lnlinks href=#hl-20-25>25</a>
</span><span class=lnt id=hl-20-26><a class=lnlinks href=#hl-20-26>26</a>
</span><span class=lnt id=hl-20-27><a class=lnlinks href=#hl-20-27>27</a>
</span><span class=lnt id=hl-20-28><a class=lnlinks href=#hl-20-28>28</a>
</span><span class=lnt id=hl-20-29><a class=lnlinks href=#hl-20-29>29</a>
</span><span class=lnt id=hl-20-30><a class=lnlinks href=#hl-20-30>30</a>
</span><span class=lnt id=hl-20-31><a class=lnlinks href=#hl-20-31>31</a>
</span><span class=lnt id=hl-20-32><a class=lnlinks href=#hl-20-32>32</a>
</span><span class=lnt id=hl-20-33><a class=lnlinks href=#hl-20-33>33</a>
</span><span class=lnt id=hl-20-34><a class=lnlinks href=#hl-20-34>34</a>
</span><span class=lnt id=hl-20-35><a class=lnlinks href=#hl-20-35>35</a>
</span><span class=lnt id=hl-20-36><a class=lnlinks href=#hl-20-36>36</a>
</span><span class=lnt id=hl-20-37><a class=lnlinks href=#hl-20-37>37</a>
</span><span class=lnt id=hl-20-38><a class=lnlinks href=#hl-20-38>38</a>
</span><span class=lnt id=hl-20-39><a class=lnlinks href=#hl-20-39>39</a>
</span><span class=lnt id=hl-20-40><a class=lnlinks href=#hl-20-40>40</a>
</span><span class=lnt id=hl-20-41><a class=lnlinks href=#hl-20-41>41</a>
</span><span class=lnt id=hl-20-42><a class=lnlinks href=#hl-20-42>42</a>
</span><span class=lnt id=hl-20-43><a class=lnlinks href=#hl-20-43>43</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 추상 제품 인터페이스들</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Button</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>render</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>InputBox</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>render</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 구체적 제품들</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>WinButton</span><span class=p>(</span><span class=n>Button</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>render</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Windows Button&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MacButton</span><span class=p>(</span><span class=n>Button</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>render</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Mac Button&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>WinInputBox</span><span class=p>(</span><span class=n>InputBox</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>render</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Windows InputBox&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MacInputBox</span><span class=p>(</span><span class=n>InputBox</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>render</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Mac InputBox&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 추상 팩토리</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>WidgetFactory</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_button</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=k>pass</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_inputbox</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 구체 팩토리들</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>WindowsFactory</span><span class=p>(</span><span class=n>WidgetFactory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_button</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=k>return</span> <span class=n>WinButton</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_inputbox</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=k>return</span> <span class=n>WinInputBox</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MacFactory</span><span class=p>(</span><span class=n>WidgetFactory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_button</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=k>return</span> <span class=n>MacButton</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_inputbox</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=k>return</span> <span class=n>MacInputBox</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 클라이언트 코드</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>render_ui</span><span class=p>(</span><span class=n>factory</span><span class=p>:</span> <span class=n>WidgetFactory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>btn</span> <span class=o>=</span> <span class=n>factory</span><span class=o>.</span><span class=n>create_button</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>box</span> <span class=o>=</span> <span class=n>factory</span><span class=o>.</span><span class=n>create_inputbox</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>btn</span><span class=o>.</span><span class=n>render</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>box</span><span class=o>.</span><span class=n>render</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>render_ui</span><span class=p>(</span><span class=n>WindowsFactory</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=n>render_ui</span><span class=p>(</span><span class=n>MacFactory</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>제품군 간 일관성 보장 (MacFactory 는 Mac 스타일 위젯만 반환)</li><li>테마/플랫폼 교체가 간단하며, <code>render_ui()</code> 는 변경 불필요</li></ul><h3 id=장점>장점<a hidden class=anchor aria-hidden=true href=#장점>#</a></h3><table><thead><tr><th>카테고리</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>단순화</strong></td><td>인터페이스 단순화</td><td>복잡한 서브시스템을 감추고, 일관된 고수준 API 제공으로 사용을 직관화함</td></tr><tr><td></td><td>복잡성 은닉</td><td>클라이언트는 내부 구현을 몰라도 되며, 시스템 사용이 쉬워짐</td></tr><tr><td><strong>유지보수성</strong></td><td>변경 영향 최소화</td><td>서브시스템이 변경되더라도 Facade 만 수정하면 클라이언트 코드 변경 불필요</td></tr><tr><td></td><td>설계 안정성</td><td>변화에 유연한 구조로 설계되어 장기적으로 안정적인 유지보수가 가능</td></tr><tr><td><strong>결합도 완화</strong></td><td>낮은 결합도</td><td>클라이언트와 서브시스템 간 직접 의존성을 제거하여 모듈 간 유연한 통합 가능</td></tr><tr><td></td><td>캡슐화</td><td>내부 구현을 숨기고 인터페이스만 노출하여 시스템의 응집도를 높이고, 결합도를 낮춤</td></tr><tr><td><strong>재사용성과 확장성</strong></td><td>코드 재사용성 증대</td><td>공통적인 로직을 캡슐화하여 여러 클라이언트에서 재사용 가능</td></tr><tr><td></td><td>확장 용이성</td><td>새로운 기능 추가 시에도 Facade 레이어만 확장하면 되므로 시스템 확장에 유리</td></tr><tr><td><strong>아키텍처 품질</strong></td><td>계층화 구조 지원</td><td>시스템을 계층적으로 나누어 관리하며 아키텍처의 가독성, 모듈화, 품질 향상에 기여</td></tr><tr><td></td><td>아키텍처 정리</td><td>복잡한 모듈간 관계를 단일 진입점으로 정리하여 아키텍처 이해와 관리 용이</td></tr><tr><td><strong>테스트 용이성</strong></td><td>모킹 (Mock) 가능</td><td>Facade 인터페이스만 모킹하면 되어 테스트 코드 작성과 단위 테스트 자동화가 용이함</td></tr><tr><td><strong>사용성 향상</strong></td><td>일관된 API 제공</td><td>다양한 내부 모듈을 하나의 명확한 API 로 통합하여 사용자 경험 향상</td></tr><tr><td></td><td>빠른 온보딩</td><td>단순한 진입점 제공으로 새로운 개발자가 시스템에 빠르게 적응 가능</td></tr></tbody></table><h3 id=단점과-문제점-그리고-해결방안>단점과 문제점 그리고 해결방안<a hidden class=anchor aria-hidden=true href=#단점과-문제점-그리고-해결방안>#</a></h3><table><thead><tr><th>구분</th><th>카테고리</th><th>항목</th><th>설명</th><th>원인/영향</th><th>해결 방안 및 기법</th></tr></thead><tbody><tr><td><strong>단점</strong></td><td>구조적 복잡성</td><td>Facade 복잡성 증가</td><td>너무 많은 기능을 Facade 가 담당하면 유지보수가 어려워지고 책임이 과중됨</td><td>단일 책임 원칙 위반, 변경 시 영향도 증가</td><td>역할 기반 Facade 분할, 서브 Facade 도입, 기능별 클래스로 책임 분산</td></tr><tr><td></td><td>인터페이스 제약</td><td>기능 제한</td><td>Facade 가 내부 기능 전체를 노출하지 않아 고급 클라이언트 사용에 제약</td><td>사용성 저하, 우회 접근 발생 가능</td><td>세부 기능을 위한 인터페이스 별도 제공, 확장 가능한 설계</td></tr><tr><td></td><td>아키텍처 성능</td><td>오버헤드 발생</td><td>중간 계층으로 인해 불필요한 호출, 복잡성, 비용이 증가될 수 있음</td><td>응답 지연, 시스템 병목 가능성</td><td>직접 접근 허용, 캐싱, 중요 기능은 Bypass 설계</td></tr><tr><td></td><td>안정성</td><td>단일 장애점</td><td>Facade 가 모든 요청의 진입점일 경우, 장애 시 전체 시스템 영향</td><td>신뢰성 저하, 장애 전파 가능성</td><td>다중 Facade 구성, Circuit Breaker, Fallback 등 회복탄력성 패턴 적용</td></tr><tr><td><strong>문제점</strong></td><td>성능/리소스</td><td>병목 및 메모리 누수</td><td>모든 요청이 집중되면 병목 발생, 리소스 해제 누락 시 성능 저하/장애 발생</td><td>처리량 한계, GC 부하 증가</td><td>비동기/병렬 처리, 캐싱, 명시적 자원 관리 (RAII, Context Manager 등)</td></tr><tr><td></td><td>동시성/스레드</td><td>상태 공유 문제</td><td>멀티스레드 환경에서 Facade 가 상태를 공유하면 데이터 충돌, 데드락 발생 가능</td><td>데이터 불일치, 장애 가능성</td><td>불변 객체, 스레드 로컬 저장소, 락 - 프리 알고리즘, 동기화 전략 적용</td></tr><tr><td></td><td>설계 유연성</td><td>과도한 추상화</td><td>내부를 지나치게 숨기면 확장성과 테스트 유연성이 저하됨</td><td>사용성 감소, 테스트 어려움</td><td>필요한 범위의 직접 접근 허용, 인터페이스 기반 설계</td></tr><tr><td></td><td>유지보수</td><td>기능 누락</td><td>Facade 가 클라이언트 요구를 충분히 반영하지 못하면 기능 접근 제한</td><td>요구사항 충족 실패</td><td>요구사항 기반 기능 확장, 동적 구성 지원</td></tr><tr><td></td><td>의존성 관리</td><td>서브시스템 순환 의존성</td><td>내부 의존성이 복잡해질 경우 초기화 순서 문제 및 예측 불가능한 동작 발생</td><td>시스템 시작 실패, 의존성 꼬임</td><td>지연 초기화 (Lazy Init), 의존성 주입 (DI), 팩토리 패턴 도입 등으로 결합도 관리</td></tr></tbody></table><ul><li><strong>구조적 단점</strong>은 주로 Facade 가 <strong>기능 과부하 또는 단일 장애점</strong>이 되는 경우 발생</li><li><strong>기능적 제약</strong>은 <strong>유연성 부족과 접근 제한</strong>으로 나타남</li><li><strong>성능과 동시성 문제</strong>는 <strong>리소스 집중, 병목, 상태 공유 문제</strong>에서 유발됨</li><li><strong>설계 및 유지보수 문제</strong>는 <strong>변경 용이성, 확장성, 테스트성</strong>에 영향을 미침</li></ul><h3 id=도전-과제>도전 과제<a hidden class=anchor aria-hidden=true href=#도전-과제>#</a></h3><table><thead><tr><th>카테고리</th><th>도전 과제 (문제)</th><th>원인/영향</th><th>해결 방안 및 기법</th></tr></thead><tbody><tr><td><strong>설계 복잡성</strong></td><td>God Object 현상</td><td>Facade 가 과도한 책임을 가져 단일 클래스가 거대화됨</td><td>기능별 Sub-Facade 분할, SRP 적용, 계층형 Facade 구조 도입</td></tr><tr><td></td><td>모든 기능 감싸기 어려움</td><td>내부 기능이 복잡하거나 너무 방대하여 일관된 인터페이스 제공 한계</td><td>자주 쓰는 기능만 Facade 에 제공, 고급 사용자는 직접 서브시스템 접근 허용</td></tr><tr><td></td><td>기능 노출 범위 결정의 어려움</td><td>어떤 기능을 외부에 노출할지 판단이 어려움</td><td>사용자 시나리오 기반 인터페이스 설계, 우회 경로 제공, 점진적 확장 가능 설계 적용</td></tr><tr><td><strong>운영 복잡성</strong></td><td>마이크로서비스 환경의 네트워크 실패</td><td>분산 환경에서 Facade 가 여러 서비스와 통신, 실패 가능성 존재</td><td>Circuit Breaker, 서비스 메시, 분산 추적 (Distributed Tracing) 도입</td></tr><tr><td></td><td>클라우드 네이티브 환경의 동적 구성</td><td>컨테이너 기반 환경에서 서비스 위치가 수시로 바뀜</td><td>외부 설정 구성 (Config Externalization), Health Check, Graceful Shutdown 적용</td></tr><tr><td></td><td>Facade 과잉 사용으로 인한 구조 복잡화</td><td>무분별한 Facade 추가로 체계가 없고 중복 많아짐</td><td>역할 기반 설계 명확화, 문서화, 책임 분리</td></tr><tr><td><strong>성능 최적화</strong></td><td>오버헤드 및 병목</td><td>중간 계층으로 인한 메서드 호출 비용 증가, 병목 현상 가능성</td><td>캐싱 도입, Lazy Loading, 비동기 처리, 중요 기능은 직접 접근 허용</td></tr><tr><td></td><td>단일 장애점</td><td>모든 요청이 하나의 Facade 에 집중되어 시스템 전체 영향</td><td>다중 Facade 구성, Fallback/Recovery 전략, Circuit Breaker 패턴 적용</td></tr><tr><td><strong>보안 강화</strong></td><td>보안 취약점</td><td>인증·인가 처리 없이 외부에 기능 노출</td><td>Zero Trust Architecture, OAuth2.0/JWT, API Rate Limiting 적용</td></tr><tr><td><strong>확장성/유지보수</strong></td><td>내부 구현 변경 시 Facade 동기화 필요</td><td>서브시스템 변경 시 Facade 도 수정되어야 함</td><td>SRP 원칙 적용, 인터페이스 분리, 유연한 인터페이스 설계</td></tr><tr><td></td><td>Facade 자체가 변경점이 될 위험</td><td>다수 컴포넌트가 동일 Facade 에 의존 시 확산</td><td>모듈화 및 도메인 별 분리, 변경 전파 최소화 설계</td></tr><tr><td><strong>테스트/품질</strong></td><td>내부 컴포넌트 은닉으로 테스트 어려움</td><td>Facade 가 서브시스템 감추어 단위 테스트 접근 제한</td><td>Mocking 기반 단위 테스트 작성, 서브시스템 직접 테스트 허용</td></tr><tr><td></td><td>설계 변경 시 테스트 영향 범위 확대</td><td>기능 확장/변경 시 테스트 대상 증가</td><td>정적 분석 도구 사용, 테스트 커버리지 점검, 테스트 코드 계층 구조화</td></tr></tbody></table><ul><li><strong>설계 관점</strong>: 단일 책임, 서브 Facade 도입으로 복잡성 완화</li><li><strong>운영 관점</strong>: 서비스 메시와 분산 추적으로 안정성 확보</li><li><strong>성능 관점</strong>: 캐싱·비동기 처리를 통해 병목 해소</li><li><strong>보안 관점</strong>: 인증·인가·레이트 리밋 적용 필수</li><li><strong>확장/유지보수</strong>: 인터페이스 분리와 변경 전파 최소화 설계 필요</li><li><strong>테스트 관점</strong>: Mock 및 컴포넌트 단위 테스트 전략 수립</li></ul><h3 id=분류-기준에-따른-종류-및-유형>분류 기준에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#분류-기준에-따른-종류-및-유형>#</a></h3><table><thead><tr><th><strong>분류 기준</strong></th><th><strong>유형/종류</strong></th><th><strong>설명</strong></th><th><strong>주요 특징/사용 사례</strong></th></tr></thead><tbody><tr><td><strong>적용 범위</strong></td><td>API Facade</td><td>외부 API 또는 서드파티 API 를 래핑하여 통합된 인터페이스 제공</td><td>외부 시스템 연동, 인증/결제 통합 등</td></tr><tr><td></td><td>Business Logic Facade</td><td>복잡한 도메인 로직을 캡슐화하여 고수준 비즈니스 흐름 제공</td><td>주문 처리, 워크플로우, 업무 서비스 계층</td></tr><tr><td></td><td>Presentation Facade</td><td>UI 계층의 여러 ViewModel 또는 컴포넌트를 통합</td><td>프론트엔드 컴포넌트 간 복잡도 감소</td></tr><tr><td></td><td>Gateway Facade</td><td>클라이언트 요청을 다수의 마이크로서비스로 분기 처리</td><td>API Gateway, BFF 등</td></tr><tr><td><strong>복잡성 수준</strong></td><td>Simple Facade</td><td>단순한 API 또는 메서드 위임 중심</td><td>라이브러리 래핑, 단일 시스템 추상화</td></tr><tr><td></td><td>Complex Facade</td><td>여러 서브시스템을 조합하고 내부 로직을 포함</td><td>복합 비즈니스 시나리오, 시스템 통합</td></tr><tr><td><strong>구현 방식</strong></td><td>정적 Facade</td><td>정적으로 구성된 인터페이스로 클래스 바인딩</td><td>유틸리티성 클래스, 컴파일 타임 구성</td></tr><tr><td></td><td>동적 Facade</td><td>런타임 시점에서 구성되며 유연하게 동작</td><td>플러그인, 설정 기반 모듈 로딩</td></tr><tr><td><strong>구성 구조</strong></td><td>단일 Facade</td><td>하나의 Facade 가 모든 기능을 담당</td><td>작은 시스템, 단일 책임 설계</td></tr><tr><td></td><td>다중 Facade</td><td>기능 또는 도메인별로 여러 Facade 분리</td><td>대규모 시스템, 역할 기반 분리</td></tr><tr><td><strong>계층 구조</strong></td><td>Presentation Facade</td><td>UI/View 계층을 위한 Facade 설계</td><td>프론트엔드/모바일 앱에서 다중 컴포넌트 통합</td></tr><tr><td></td><td>Business Facade</td><td>비즈니스 계층에서 도메인 로직을 감싸는 구조</td><td>Service 계층 또는 워크플로우 통합</td></tr><tr><td></td><td>Data Facade</td><td>데이터 액세스 및 저장 기능을 통합</td><td>DAO, Repository 패턴과 함께 사용</td></tr><tr><td><strong>운영 범위</strong></td><td>Subsystem Facade</td><td>하나의 특정 서브시스템을 중심으로 기능 캡슐화</td><td>알림 모듈, 로깅 모듈, 인증 모듈 등</td></tr><tr><td></td><td>System Facade</td><td>여러 서브시스템을 아우르는 전체 시스템에 대한 진입점 제공</td><td>시스템 초기화, 애플리케이션 통합 포인트</td></tr><tr><td><strong>아키텍처 구조</strong></td><td>로컬 Facade</td><td>단일 애플리케이션 또는 모놀리식 구조 내의 통합</td><td>모듈 간 통합, 컴포넌트 캡슐화</td></tr><tr><td></td><td>분산 Facade</td><td>네트워크 기반 시스템 (마이크로서비스 등) 에서 서비스 간 통합</td><td>API Gateway, 클라우드 환경</td></tr><tr><td><strong>접근 방식</strong></td><td>내부 전용 Facade</td><td>내부 모듈 또는 레이어 간 통합용</td><td>모듈 간 API 추상화, 내부 인터페이스</td></tr><tr><td></td><td>외부 공개 Facade</td><td>외부 API 또는 SDK 인터페이스 제공용</td><td>외부 사용자 대상 인터페이스, SaaS 플랫폼</td></tr><tr><td><strong>상태 관리</strong></td><td>상태 없는 Facade</td><td>Stateless 요청 처리 중심</td><td>RESTful API, 단일 요청 - 응답 구조</td></tr><tr><td></td><td>상태 있는 Facade</td><td>세션 또는 사용자 상태를 관리하며 처리</td><td>사용자 프로필/쇼핑카트 등 상태 기반 기능</td></tr><tr><td><strong>목적/특수성</strong></td><td>Legacy Facade</td><td>레거시 시스템을 감싸 현대 시스템과의 연동 지원</td><td>마이그레이션, 단계적 리팩토링</td></tr><tr><td></td><td>Security Facade</td><td>인증, 인가, 접근 제어 등의 보안 기능을 통합</td><td>JWT, OAuth2, 접근 제한 API</td></tr></tbody></table><ul><li><strong>비즈니스 규모</strong>, <strong>계층 구조</strong>, <strong>기능 복잡도</strong>, <strong>외부 연동</strong> 등 다양한 설계 요소를 기준으로 유형을 구분 가능.</li><li><strong>단일 Facade</strong>로 시작하되, <strong>역할 기반 분리</strong> 및 <strong>다중 Facade 구조</strong>로 점진적 확장 가능.</li><li>마이크로서비스 환경에선 <strong>Gateway / API Facade</strong>, 모놀리식 환경에선 <strong>Business / Subsystem Facade</strong>가 효과적.</li></ul><h3 id=실무-적용-예시>실무 적용 예시<a hidden class=anchor aria-hidden=true href=#실무-적용-예시>#</a></h3><table><thead><tr><th>도메인</th><th>적용 예시</th><th>설명</th><th>기대 효과</th></tr></thead><tbody><tr><td><strong>웹 개발</strong></td><td>jQuery, Express.js 미들웨어</td><td>복잡한 DOM 조작 또는 미들웨어 체인을 단순 API 로 추상화</td><td>크로스 브라우저 호환, 개발 생산성 향상</td></tr><tr><td><strong>백엔드 프레임워크</strong></td><td>Spring Facade, JPA Facade</td><td>복잡한 비즈니스 로직 및 데이터 액세스를 Facade 로 단순화</td><td>컨트롤러 로직 단순화, 유지보수성 향상</td></tr><tr><td><strong>마이크로서비스</strong></td><td>API Gateway, BFF (Backend For Frontend)</td><td>다양한 마이크로서비스를 단일 진입점으로 통합</td><td>서비스 디스커버리, 인증, 로드밸런싱, 내부 시스템 은닉</td></tr><tr><td><strong>클라우드/인프라</strong></td><td>AWS SDK, Azure SDK, Kubernetes API</td><td>다양한 클라우드 서비스 및 자원 제어 API 를 통합된 인터페이스로 제공</td><td>벤더 종속성 감소, 클라우드 운영 자동화</td></tr><tr><td><strong>결제 시스템</strong></td><td>PaymentFacade, Stripe/PayPal Wrapper</td><td>여러 결제 모듈의 공통 인터페이스 제공</td><td>결제 로직 통합, 멀티게이트웨이 대응</td></tr><tr><td><strong>데이터 계층</strong></td><td>ORM (Hibernate, Mongoose, EF)</td><td>SQL, DB 트랜잭션 처리 등을 추상화한 고수준 인터페이스 제공</td><td>DB 처리 단순화, 유지보수 용이</td></tr><tr><td><strong>멀티미디어</strong></td><td>FFmpeg Wrapper</td><td>복잡한 비디오/오디오 처리 로직을 메서드 단위로 추상화</td><td>미디어 처리 단순화, 생산성 향상</td></tr><tr><td><strong>운영체제/시스템 API</strong></td><td>System Call Wrapper</td><td>복잡한 커널/하드웨어 제어 API 를 추상화한 사용자 수준 인터페이스 제공</td><td>플랫폼 독립성 확보, 개발 편의성 향상</td></tr><tr><td><strong>게임/엔진</strong></td><td>GameEngineFacade (Renderer, Audio 등)</td><td>렌더링, 물리, 오디오 모듈을 통합 제어하는 고수준 인터페이스 제공</td><td>게임 개발 생산성 증가, 테스트 용이성</td></tr><tr><td><strong>ETL 파이프라인</strong></td><td>runETLPipeline() Wrapper</td><td>Extract, Transform, Load 단계를 고수준 메서드로 통합</td><td>사용자 관점에서 간단한 인터페이스 제공, 복잡성 은닉</td></tr><tr><td><strong>IoT/임베디드</strong></td><td>SmartHomeFacade (조명, 온도, 보안 등)</td><td>여러 가전기기를 통합 제어하는 스마트 홈 인터페이스 구현</td><td>사용자 편의성 향상, 디바이스 제어 통일</td></tr><tr><td><strong>시스템 초기화</strong></td><td>ApplicationFacade</td><td>복잡한 설정 및 초기화를 단일 메서드에서 처리</td><td>설정 오류 감소, 초기화 자동화</td></tr><tr><td><strong>API 연동</strong></td><td>3rd Party API Wrapper</td><td>외부 API 호출 로직을 내부 시스템과 일관된 인터페이스로 감싸서 제공</td><td>외부 API 변경 최소화, 내부 영향 감소</td></tr></tbody></table><ul><li><strong>도메인 전반</strong>에서 Facade 는 <strong>복잡한 서브시스템을 단순화</strong>하고, <strong>일관된 인터페이스</strong>를 제공하는 데 강력한 역할 수행.</li><li>특히 <strong>멀티 API 환경</strong>, <strong>비즈니스 로직 캡슐화</strong>, <strong>서브시스템 통합</strong>이 필요한 곳에서 높은 효율성 제공.</li><li>설계 시 <strong>역할 기반 분할</strong> 및 <strong>SRP(단일 책임 원칙)</strong> 고려 필수.</li></ul><h3 id=활용-사례>활용 사례<a hidden class=anchor aria-hidden=true href=#활용-사례>#</a></h3><h4 id=사례-1-웹-애플리케이션의-인증인가-서브시스템-단순화>사례 1: 웹 애플리케이션의 인증/인가 서브시스템 단순화<a hidden class=anchor aria-hidden=true href=#사례-1-웹-애플리케이션의-인증인가-서브시스템-단순화>#</a></h4><p><strong>시스템 구성:</strong></p><ul><li><strong>Facade:</strong> AuthFacade (인증/인가 관련 API 제공)</li><li><strong>Subsystem:</strong> UserService, RoleService, PermissionService 등</li><li><strong>Client:</strong> 웹 애플리케이션의 컨트롤러/서비스</li></ul><p><strong>Workflow 다이어그램:</strong></p><pre class=mermaid>graph TD
Client --&gt; AuthFacade
AuthFacade --&gt; UserService
AuthFacade --&gt; RoleService
AuthFacade --&gt; PermissionService
</pre><p><strong>역할:</strong></p><ul><li><strong>AuthFacade:</strong> 인증/인가 관련 기능을 단순화된 API 로 제공.</li><li><strong>Subsystem:</strong> 실제 인증/인가 기능 구현.</li><li><strong>Client:</strong> AuthFacade 만을 통해 인증/인가 기능 사용.</li></ul><p><strong>차이점:</strong></p><ul><li><strong>패턴 미적용 시:</strong> 클라이언트가 여러 서브시스템을 직접 호출해야 함.</li><li><strong>패턴 적용 시:</strong> 클라이언트는 AuthFacade 만을 통해 인증/인가 기능을 쉽게 사용.</li></ul><h4 id=사례-2-홈시어터-시스템-통합>사례 2: 홈시어터 시스템 통합<a hidden class=anchor aria-hidden=true href=#사례-2-홈시어터-시스템-통합>#</a></h4><p><strong>시스템 구성</strong>:</p><ul><li>Subsystem: DVDPlayer, Projector, Amplifier, Lights</li><li>Facade: HomeTheaterFacade</li><li>Client: 사용자</li></ul><p><strong>Workflow</strong>:</p><ol><li>Client 는 HomeTheaterFacade 의 watchMovie() 호출</li><li>Facade 가 내부적으로 각 서브시스템의 메서드 호출 (전원, 조명, 앰프, DVD 등)</li><li>Client 는 복잡한 순서를 몰라도 영화 감상 시작 가능</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[Client] → [HomeTheaterFacade] → [DVDPlayer, Projector, Amplifier, Lights]
</span></span></code></pre></td></tr></table></div></div><h4 id=사례-3-전자상거래-플랫폼의-주문-처리-시스템>사례 3: 전자상거래 플랫폼의 주문 처리 시스템<a hidden class=anchor aria-hidden=true href=#사례-3-전자상거래-플랫폼의-주문-처리-시스템>#</a></h4><p><strong>시스템 구성</strong></p><pre class=mermaid>graph TB
    Client[웹/모바일 클라이언트] --&gt; OrderFacade[주문 퍼사드]
    
    OrderFacade --&gt; InventoryService[재고 관리 서비스]
    OrderFacade --&gt; PaymentService[결제 서비스]
    OrderFacade --&gt; ShippingService[배송 서비스]
    OrderFacade --&gt; NotificationService[알림 서비스]
    OrderFacade --&gt; LoyaltyService[적립금 서비스]
    
    InventoryService --&gt; InventoryDB[(재고 DB)]
    PaymentService --&gt; PaymentGateway[결제 게이트웨이]
    ShippingService --&gt; LogisticsAPI[물류 API]
    NotificationService --&gt; EmailService[이메일 서비스]
    NotificationService --&gt; SMSService[SMS 서비스]
    LoyaltyService --&gt; LoyaltyDB[(적립금 DB)]
</pre><p><strong>워크플로우</strong></p><pre class=mermaid>sequenceDiagram
    participant C as 클라이언트
    participant OF as 주문 퍼사드
    participant IS as 재고 서비스
    participant PS as 결제 서비스
    participant SS as 배송 서비스
    participant NS as 알림 서비스
    participant LS as 적립금 서비스
    
    C-&gt;&gt;OF: 주문 생성 요청
    OF-&gt;&gt;IS: 재고 확인 및 예약
    IS--&gt;&gt;OF: 재고 예약 완료
    OF-&gt;&gt;PS: 결제 처리
    PS--&gt;&gt;OF: 결제 성공
    OF-&gt;&gt;SS: 배송 스케줄링
    SS--&gt;&gt;OF: 배송 등록 완료
    OF-&gt;&gt;LS: 적립금 적립
    LS--&gt;&gt;OF: 적립 완료
    OF-&gt;&gt;NS: 주문 확인 알림
    NS--&gt;&gt;OF: 알림 발송 완료
    OF--&gt;&gt;C: 주문 처리 완료
</pre><p><strong>퍼사드의 역할</strong>:</p><ol><li><strong>복잡한 비즈니스 프로세스 단순화</strong>: 5 개 서비스의 복잡한 상호작용을 하나의 메서드로 추상화</li><li><strong>트랜잭션 관리</strong>: 전체 주문 과정의 일관성 보장</li><li><strong>오류 처리</strong>: 부분 실패 시 롤백 로직 구현</li><li><strong>성능 최적화</strong>: 병렬 처리 가능한 작업들의 조정</li></ol><p><strong>퍼사드 유무에 따른 차이점</strong></p><ul><li><strong>퍼사드 없는 경우</strong>:<ul><li>클라이언트가 5 개 서비스와 직접 통신</li><li>복잡한 오류 처리 로직을 클라이언트에서 구현</li><li>서비스 변경 시 모든 클라이언트 코드 수정 필요</li><li>비즈니스 로직이 클라이언트에 분산되어 일관성 저하</li></ul></li><li><strong>퍼사드 있는 경우</strong>:<ul><li>단일 인터페이스를 통한 간편한 주문 처리</li><li>중앙화된 오류 처리 및 로깅</li><li>서비스 변경의 영향이 퍼사드 내부로 제한</li><li>비즈니스 로직의 중앙 집중화</li></ul></li></ul><h3 id=구현-예시>구현 예시<a hidden class=anchor aria-hidden=true href=#구현-예시>#</a></h3><h4 id=python-전자상거래-주문-처리-시스템>Python: 전자상거래 주문 처리 시스템<a hidden class=anchor aria-hidden=true href=#python-전자상거래-주문-처리-시스템>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1>  1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2>  2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3>  3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4>  4</a>
</span><span class=lnt id=hl-25-5><a class=lnlinks href=#hl-25-5>  5</a>
</span><span class=lnt id=hl-25-6><a class=lnlinks href=#hl-25-6>  6</a>
</span><span class=lnt id=hl-25-7><a class=lnlinks href=#hl-25-7>  7</a>
</span><span class=lnt id=hl-25-8><a class=lnlinks href=#hl-25-8>  8</a>
</span><span class=lnt id=hl-25-9><a class=lnlinks href=#hl-25-9>  9</a>
</span><span class=lnt id=hl-25-10><a class=lnlinks href=#hl-25-10> 10</a>
</span><span class=lnt id=hl-25-11><a class=lnlinks href=#hl-25-11> 11</a>
</span><span class=lnt id=hl-25-12><a class=lnlinks href=#hl-25-12> 12</a>
</span><span class=lnt id=hl-25-13><a class=lnlinks href=#hl-25-13> 13</a>
</span><span class=lnt id=hl-25-14><a class=lnlinks href=#hl-25-14> 14</a>
</span><span class=lnt id=hl-25-15><a class=lnlinks href=#hl-25-15> 15</a>
</span><span class=lnt id=hl-25-16><a class=lnlinks href=#hl-25-16> 16</a>
</span><span class=lnt id=hl-25-17><a class=lnlinks href=#hl-25-17> 17</a>
</span><span class=lnt id=hl-25-18><a class=lnlinks href=#hl-25-18> 18</a>
</span><span class=lnt id=hl-25-19><a class=lnlinks href=#hl-25-19> 19</a>
</span><span class=lnt id=hl-25-20><a class=lnlinks href=#hl-25-20> 20</a>
</span><span class=lnt id=hl-25-21><a class=lnlinks href=#hl-25-21> 21</a>
</span><span class=lnt id=hl-25-22><a class=lnlinks href=#hl-25-22> 22</a>
</span><span class=lnt id=hl-25-23><a class=lnlinks href=#hl-25-23> 23</a>
</span><span class=lnt id=hl-25-24><a class=lnlinks href=#hl-25-24> 24</a>
</span><span class=lnt id=hl-25-25><a class=lnlinks href=#hl-25-25> 25</a>
</span><span class=lnt id=hl-25-26><a class=lnlinks href=#hl-25-26> 26</a>
</span><span class=lnt id=hl-25-27><a class=lnlinks href=#hl-25-27> 27</a>
</span><span class=lnt id=hl-25-28><a class=lnlinks href=#hl-25-28> 28</a>
</span><span class=lnt id=hl-25-29><a class=lnlinks href=#hl-25-29> 29</a>
</span><span class=lnt id=hl-25-30><a class=lnlinks href=#hl-25-30> 30</a>
</span><span class=lnt id=hl-25-31><a class=lnlinks href=#hl-25-31> 31</a>
</span><span class=lnt id=hl-25-32><a class=lnlinks href=#hl-25-32> 32</a>
</span><span class=lnt id=hl-25-33><a class=lnlinks href=#hl-25-33> 33</a>
</span><span class=lnt id=hl-25-34><a class=lnlinks href=#hl-25-34> 34</a>
</span><span class=lnt id=hl-25-35><a class=lnlinks href=#hl-25-35> 35</a>
</span><span class=lnt id=hl-25-36><a class=lnlinks href=#hl-25-36> 36</a>
</span><span class=lnt id=hl-25-37><a class=lnlinks href=#hl-25-37> 37</a>
</span><span class=lnt id=hl-25-38><a class=lnlinks href=#hl-25-38> 38</a>
</span><span class=lnt id=hl-25-39><a class=lnlinks href=#hl-25-39> 39</a>
</span><span class=lnt id=hl-25-40><a class=lnlinks href=#hl-25-40> 40</a>
</span><span class=lnt id=hl-25-41><a class=lnlinks href=#hl-25-41> 41</a>
</span><span class=lnt id=hl-25-42><a class=lnlinks href=#hl-25-42> 42</a>
</span><span class=lnt id=hl-25-43><a class=lnlinks href=#hl-25-43> 43</a>
</span><span class=lnt id=hl-25-44><a class=lnlinks href=#hl-25-44> 44</a>
</span><span class=lnt id=hl-25-45><a class=lnlinks href=#hl-25-45> 45</a>
</span><span class=lnt id=hl-25-46><a class=lnlinks href=#hl-25-46> 46</a>
</span><span class=lnt id=hl-25-47><a class=lnlinks href=#hl-25-47> 47</a>
</span><span class=lnt id=hl-25-48><a class=lnlinks href=#hl-25-48> 48</a>
</span><span class=lnt id=hl-25-49><a class=lnlinks href=#hl-25-49> 49</a>
</span><span class=lnt id=hl-25-50><a class=lnlinks href=#hl-25-50> 50</a>
</span><span class=lnt id=hl-25-51><a class=lnlinks href=#hl-25-51> 51</a>
</span><span class=lnt id=hl-25-52><a class=lnlinks href=#hl-25-52> 52</a>
</span><span class=lnt id=hl-25-53><a class=lnlinks href=#hl-25-53> 53</a>
</span><span class=lnt id=hl-25-54><a class=lnlinks href=#hl-25-54> 54</a>
</span><span class=lnt id=hl-25-55><a class=lnlinks href=#hl-25-55> 55</a>
</span><span class=lnt id=hl-25-56><a class=lnlinks href=#hl-25-56> 56</a>
</span><span class=lnt id=hl-25-57><a class=lnlinks href=#hl-25-57> 57</a>
</span><span class=lnt id=hl-25-58><a class=lnlinks href=#hl-25-58> 58</a>
</span><span class=lnt id=hl-25-59><a class=lnlinks href=#hl-25-59> 59</a>
</span><span class=lnt id=hl-25-60><a class=lnlinks href=#hl-25-60> 60</a>
</span><span class=lnt id=hl-25-61><a class=lnlinks href=#hl-25-61> 61</a>
</span><span class=lnt id=hl-25-62><a class=lnlinks href=#hl-25-62> 62</a>
</span><span class=lnt id=hl-25-63><a class=lnlinks href=#hl-25-63> 63</a>
</span><span class=lnt id=hl-25-64><a class=lnlinks href=#hl-25-64> 64</a>
</span><span class=lnt id=hl-25-65><a class=lnlinks href=#hl-25-65> 65</a>
</span><span class=lnt id=hl-25-66><a class=lnlinks href=#hl-25-66> 66</a>
</span><span class=lnt id=hl-25-67><a class=lnlinks href=#hl-25-67> 67</a>
</span><span class=lnt id=hl-25-68><a class=lnlinks href=#hl-25-68> 68</a>
</span><span class=lnt id=hl-25-69><a class=lnlinks href=#hl-25-69> 69</a>
</span><span class=lnt id=hl-25-70><a class=lnlinks href=#hl-25-70> 70</a>
</span><span class=lnt id=hl-25-71><a class=lnlinks href=#hl-25-71> 71</a>
</span><span class=lnt id=hl-25-72><a class=lnlinks href=#hl-25-72> 72</a>
</span><span class=lnt id=hl-25-73><a class=lnlinks href=#hl-25-73> 73</a>
</span><span class=lnt id=hl-25-74><a class=lnlinks href=#hl-25-74> 74</a>
</span><span class=lnt id=hl-25-75><a class=lnlinks href=#hl-25-75> 75</a>
</span><span class=lnt id=hl-25-76><a class=lnlinks href=#hl-25-76> 76</a>
</span><span class=lnt id=hl-25-77><a class=lnlinks href=#hl-25-77> 77</a>
</span><span class=lnt id=hl-25-78><a class=lnlinks href=#hl-25-78> 78</a>
</span><span class=lnt id=hl-25-79><a class=lnlinks href=#hl-25-79> 79</a>
</span><span class=lnt id=hl-25-80><a class=lnlinks href=#hl-25-80> 80</a>
</span><span class=lnt id=hl-25-81><a class=lnlinks href=#hl-25-81> 81</a>
</span><span class=lnt id=hl-25-82><a class=lnlinks href=#hl-25-82> 82</a>
</span><span class=lnt id=hl-25-83><a class=lnlinks href=#hl-25-83> 83</a>
</span><span class=lnt id=hl-25-84><a class=lnlinks href=#hl-25-84> 84</a>
</span><span class=lnt id=hl-25-85><a class=lnlinks href=#hl-25-85> 85</a>
</span><span class=lnt id=hl-25-86><a class=lnlinks href=#hl-25-86> 86</a>
</span><span class=lnt id=hl-25-87><a class=lnlinks href=#hl-25-87> 87</a>
</span><span class=lnt id=hl-25-88><a class=lnlinks href=#hl-25-88> 88</a>
</span><span class=lnt id=hl-25-89><a class=lnlinks href=#hl-25-89> 89</a>
</span><span class=lnt id=hl-25-90><a class=lnlinks href=#hl-25-90> 90</a>
</span><span class=lnt id=hl-25-91><a class=lnlinks href=#hl-25-91> 91</a>
</span><span class=lnt id=hl-25-92><a class=lnlinks href=#hl-25-92> 92</a>
</span><span class=lnt id=hl-25-93><a class=lnlinks href=#hl-25-93> 93</a>
</span><span class=lnt id=hl-25-94><a class=lnlinks href=#hl-25-94> 94</a>
</span><span class=lnt id=hl-25-95><a class=lnlinks href=#hl-25-95> 95</a>
</span><span class=lnt id=hl-25-96><a class=lnlinks href=#hl-25-96> 96</a>
</span><span class=lnt id=hl-25-97><a class=lnlinks href=#hl-25-97> 97</a>
</span><span class=lnt id=hl-25-98><a class=lnlinks href=#hl-25-98> 98</a>
</span><span class=lnt id=hl-25-99><a class=lnlinks href=#hl-25-99> 99</a>
</span><span class=lnt id=hl-25-100><a class=lnlinks href=#hl-25-100>100</a>
</span><span class=lnt id=hl-25-101><a class=lnlinks href=#hl-25-101>101</a>
</span><span class=lnt id=hl-25-102><a class=lnlinks href=#hl-25-102>102</a>
</span><span class=lnt id=hl-25-103><a class=lnlinks href=#hl-25-103>103</a>
</span><span class=lnt id=hl-25-104><a class=lnlinks href=#hl-25-104>104</a>
</span><span class=lnt id=hl-25-105><a class=lnlinks href=#hl-25-105>105</a>
</span><span class=lnt id=hl-25-106><a class=lnlinks href=#hl-25-106>106</a>
</span><span class=lnt id=hl-25-107><a class=lnlinks href=#hl-25-107>107</a>
</span><span class=lnt id=hl-25-108><a class=lnlinks href=#hl-25-108>108</a>
</span><span class=lnt id=hl-25-109><a class=lnlinks href=#hl-25-109>109</a>
</span><span class=lnt id=hl-25-110><a class=lnlinks href=#hl-25-110>110</a>
</span><span class=lnt id=hl-25-111><a class=lnlinks href=#hl-25-111>111</a>
</span><span class=lnt id=hl-25-112><a class=lnlinks href=#hl-25-112>112</a>
</span><span class=lnt id=hl-25-113><a class=lnlinks href=#hl-25-113>113</a>
</span><span class=lnt id=hl-25-114><a class=lnlinks href=#hl-25-114>114</a>
</span><span class=lnt id=hl-25-115><a class=lnlinks href=#hl-25-115>115</a>
</span><span class=lnt id=hl-25-116><a class=lnlinks href=#hl-25-116>116</a>
</span><span class=lnt id=hl-25-117><a class=lnlinks href=#hl-25-117>117</a>
</span><span class=lnt id=hl-25-118><a class=lnlinks href=#hl-25-118>118</a>
</span><span class=lnt id=hl-25-119><a class=lnlinks href=#hl-25-119>119</a>
</span><span class=lnt id=hl-25-120><a class=lnlinks href=#hl-25-120>120</a>
</span><span class=lnt id=hl-25-121><a class=lnlinks href=#hl-25-121>121</a>
</span><span class=lnt id=hl-25-122><a class=lnlinks href=#hl-25-122>122</a>
</span><span class=lnt id=hl-25-123><a class=lnlinks href=#hl-25-123>123</a>
</span><span class=lnt id=hl-25-124><a class=lnlinks href=#hl-25-124>124</a>
</span><span class=lnt id=hl-25-125><a class=lnlinks href=#hl-25-125>125</a>
</span><span class=lnt id=hl-25-126><a class=lnlinks href=#hl-25-126>126</a>
</span><span class=lnt id=hl-25-127><a class=lnlinks href=#hl-25-127>127</a>
</span><span class=lnt id=hl-25-128><a class=lnlinks href=#hl-25-128>128</a>
</span><span class=lnt id=hl-25-129><a class=lnlinks href=#hl-25-129>129</a>
</span><span class=lnt id=hl-25-130><a class=lnlinks href=#hl-25-130>130</a>
</span><span class=lnt id=hl-25-131><a class=lnlinks href=#hl-25-131>131</a>
</span><span class=lnt id=hl-25-132><a class=lnlinks href=#hl-25-132>132</a>
</span><span class=lnt id=hl-25-133><a class=lnlinks href=#hl-25-133>133</a>
</span><span class=lnt id=hl-25-134><a class=lnlinks href=#hl-25-134>134</a>
</span><span class=lnt id=hl-25-135><a class=lnlinks href=#hl-25-135>135</a>
</span><span class=lnt id=hl-25-136><a class=lnlinks href=#hl-25-136>136</a>
</span><span class=lnt id=hl-25-137><a class=lnlinks href=#hl-25-137>137</a>
</span><span class=lnt id=hl-25-138><a class=lnlinks href=#hl-25-138>138</a>
</span><span class=lnt id=hl-25-139><a class=lnlinks href=#hl-25-139>139</a>
</span><span class=lnt id=hl-25-140><a class=lnlinks href=#hl-25-140>140</a>
</span><span class=lnt id=hl-25-141><a class=lnlinks href=#hl-25-141>141</a>
</span><span class=lnt id=hl-25-142><a class=lnlinks href=#hl-25-142>142</a>
</span><span class=lnt id=hl-25-143><a class=lnlinks href=#hl-25-143>143</a>
</span><span class=lnt id=hl-25-144><a class=lnlinks href=#hl-25-144>144</a>
</span><span class=lnt id=hl-25-145><a class=lnlinks href=#hl-25-145>145</a>
</span><span class=lnt id=hl-25-146><a class=lnlinks href=#hl-25-146>146</a>
</span><span class=lnt id=hl-25-147><a class=lnlinks href=#hl-25-147>147</a>
</span><span class=lnt id=hl-25-148><a class=lnlinks href=#hl-25-148>148</a>
</span><span class=lnt id=hl-25-149><a class=lnlinks href=#hl-25-149>149</a>
</span><span class=lnt id=hl-25-150><a class=lnlinks href=#hl-25-150>150</a>
</span><span class=lnt id=hl-25-151><a class=lnlinks href=#hl-25-151>151</a>
</span><span class=lnt id=hl-25-152><a class=lnlinks href=#hl-25-152>152</a>
</span><span class=lnt id=hl-25-153><a class=lnlinks href=#hl-25-153>153</a>
</span><span class=lnt id=hl-25-154><a class=lnlinks href=#hl-25-154>154</a>
</span><span class=lnt id=hl-25-155><a class=lnlinks href=#hl-25-155>155</a>
</span><span class=lnt id=hl-25-156><a class=lnlinks href=#hl-25-156>156</a>
</span><span class=lnt id=hl-25-157><a class=lnlinks href=#hl-25-157>157</a>
</span><span class=lnt id=hl-25-158><a class=lnlinks href=#hl-25-158>158</a>
</span><span class=lnt id=hl-25-159><a class=lnlinks href=#hl-25-159>159</a>
</span><span class=lnt id=hl-25-160><a class=lnlinks href=#hl-25-160>160</a>
</span><span class=lnt id=hl-25-161><a class=lnlinks href=#hl-25-161>161</a>
</span><span class=lnt id=hl-25-162><a class=lnlinks href=#hl-25-162>162</a>
</span><span class=lnt id=hl-25-163><a class=lnlinks href=#hl-25-163>163</a>
</span><span class=lnt id=hl-25-164><a class=lnlinks href=#hl-25-164>164</a>
</span><span class=lnt id=hl-25-165><a class=lnlinks href=#hl-25-165>165</a>
</span><span class=lnt id=hl-25-166><a class=lnlinks href=#hl-25-166>166</a>
</span><span class=lnt id=hl-25-167><a class=lnlinks href=#hl-25-167>167</a>
</span><span class=lnt id=hl-25-168><a class=lnlinks href=#hl-25-168>168</a>
</span><span class=lnt id=hl-25-169><a class=lnlinks href=#hl-25-169>169</a>
</span><span class=lnt id=hl-25-170><a class=lnlinks href=#hl-25-170>170</a>
</span><span class=lnt id=hl-25-171><a class=lnlinks href=#hl-25-171>171</a>
</span><span class=lnt id=hl-25-172><a class=lnlinks href=#hl-25-172>172</a>
</span><span class=lnt id=hl-25-173><a class=lnlinks href=#hl-25-173>173</a>
</span><span class=lnt id=hl-25-174><a class=lnlinks href=#hl-25-174>174</a>
</span><span class=lnt id=hl-25-175><a class=lnlinks href=#hl-25-175>175</a>
</span><span class=lnt id=hl-25-176><a class=lnlinks href=#hl-25-176>176</a>
</span><span class=lnt id=hl-25-177><a class=lnlinks href=#hl-25-177>177</a>
</span><span class=lnt id=hl-25-178><a class=lnlinks href=#hl-25-178>178</a>
</span><span class=lnt id=hl-25-179><a class=lnlinks href=#hl-25-179>179</a>
</span><span class=lnt id=hl-25-180><a class=lnlinks href=#hl-25-180>180</a>
</span><span class=lnt id=hl-25-181><a class=lnlinks href=#hl-25-181>181</a>
</span><span class=lnt id=hl-25-182><a class=lnlinks href=#hl-25-182>182</a>
</span><span class=lnt id=hl-25-183><a class=lnlinks href=#hl-25-183>183</a>
</span><span class=lnt id=hl-25-184><a class=lnlinks href=#hl-25-184>184</a>
</span><span class=lnt id=hl-25-185><a class=lnlinks href=#hl-25-185>185</a>
</span><span class=lnt id=hl-25-186><a class=lnlinks href=#hl-25-186>186</a>
</span><span class=lnt id=hl-25-187><a class=lnlinks href=#hl-25-187>187</a>
</span><span class=lnt id=hl-25-188><a class=lnlinks href=#hl-25-188>188</a>
</span><span class=lnt id=hl-25-189><a class=lnlinks href=#hl-25-189>189</a>
</span><span class=lnt id=hl-25-190><a class=lnlinks href=#hl-25-190>190</a>
</span><span class=lnt id=hl-25-191><a class=lnlinks href=#hl-25-191>191</a>
</span><span class=lnt id=hl-25-192><a class=lnlinks href=#hl-25-192>192</a>
</span><span class=lnt id=hl-25-193><a class=lnlinks href=#hl-25-193>193</a>
</span><span class=lnt id=hl-25-194><a class=lnlinks href=#hl-25-194>194</a>
</span><span class=lnt id=hl-25-195><a class=lnlinks href=#hl-25-195>195</a>
</span><span class=lnt id=hl-25-196><a class=lnlinks href=#hl-25-196>196</a>
</span><span class=lnt id=hl-25-197><a class=lnlinks href=#hl-25-197>197</a>
</span><span class=lnt id=hl-25-198><a class=lnlinks href=#hl-25-198>198</a>
</span><span class=lnt id=hl-25-199><a class=lnlinks href=#hl-25-199>199</a>
</span><span class=lnt id=hl-25-200><a class=lnlinks href=#hl-25-200>200</a>
</span><span class=lnt id=hl-25-201><a class=lnlinks href=#hl-25-201>201</a>
</span><span class=lnt id=hl-25-202><a class=lnlinks href=#hl-25-202>202</a>
</span><span class=lnt id=hl-25-203><a class=lnlinks href=#hl-25-203>203</a>
</span><span class=lnt id=hl-25-204><a class=lnlinks href=#hl-25-204>204</a>
</span><span class=lnt id=hl-25-205><a class=lnlinks href=#hl-25-205>205</a>
</span><span class=lnt id=hl-25-206><a class=lnlinks href=#hl-25-206>206</a>
</span><span class=lnt id=hl-25-207><a class=lnlinks href=#hl-25-207>207</a>
</span><span class=lnt id=hl-25-208><a class=lnlinks href=#hl-25-208>208</a>
</span><span class=lnt id=hl-25-209><a class=lnlinks href=#hl-25-209>209</a>
</span><span class=lnt id=hl-25-210><a class=lnlinks href=#hl-25-210>210</a>
</span><span class=lnt id=hl-25-211><a class=lnlinks href=#hl-25-211>211</a>
</span><span class=lnt id=hl-25-212><a class=lnlinks href=#hl-25-212>212</a>
</span><span class=lnt id=hl-25-213><a class=lnlinks href=#hl-25-213>213</a>
</span><span class=lnt id=hl-25-214><a class=lnlinks href=#hl-25-214>214</a>
</span><span class=lnt id=hl-25-215><a class=lnlinks href=#hl-25-215>215</a>
</span><span class=lnt id=hl-25-216><a class=lnlinks href=#hl-25-216>216</a>
</span><span class=lnt id=hl-25-217><a class=lnlinks href=#hl-25-217>217</a>
</span><span class=lnt id=hl-25-218><a class=lnlinks href=#hl-25-218>218</a>
</span><span class=lnt id=hl-25-219><a class=lnlinks href=#hl-25-219>219</a>
</span><span class=lnt id=hl-25-220><a class=lnlinks href=#hl-25-220>220</a>
</span><span class=lnt id=hl-25-221><a class=lnlinks href=#hl-25-221>221</a>
</span><span class=lnt id=hl-25-222><a class=lnlinks href=#hl-25-222>222</a>
</span><span class=lnt id=hl-25-223><a class=lnlinks href=#hl-25-223>223</a>
</span><span class=lnt id=hl-25-224><a class=lnlinks href=#hl-25-224>224</a>
</span><span class=lnt id=hl-25-225><a class=lnlinks href=#hl-25-225>225</a>
</span><span class=lnt id=hl-25-226><a class=lnlinks href=#hl-25-226>226</a>
</span><span class=lnt id=hl-25-227><a class=lnlinks href=#hl-25-227>227</a>
</span><span class=lnt id=hl-25-228><a class=lnlinks href=#hl-25-228>228</a>
</span><span class=lnt id=hl-25-229><a class=lnlinks href=#hl-25-229>229</a>
</span><span class=lnt id=hl-25-230><a class=lnlinks href=#hl-25-230>230</a>
</span><span class=lnt id=hl-25-231><a class=lnlinks href=#hl-25-231>231</a>
</span><span class=lnt id=hl-25-232><a class=lnlinks href=#hl-25-232>232</a>
</span><span class=lnt id=hl-25-233><a class=lnlinks href=#hl-25-233>233</a>
</span><span class=lnt id=hl-25-234><a class=lnlinks href=#hl-25-234>234</a>
</span><span class=lnt id=hl-25-235><a class=lnlinks href=#hl-25-235>235</a>
</span><span class=lnt id=hl-25-236><a class=lnlinks href=#hl-25-236>236</a>
</span><span class=lnt id=hl-25-237><a class=lnlinks href=#hl-25-237>237</a>
</span><span class=lnt id=hl-25-238><a class=lnlinks href=#hl-25-238>238</a>
</span><span class=lnt id=hl-25-239><a class=lnlinks href=#hl-25-239>239</a>
</span><span class=lnt id=hl-25-240><a class=lnlinks href=#hl-25-240>240</a>
</span><span class=lnt id=hl-25-241><a class=lnlinks href=#hl-25-241>241</a>
</span><span class=lnt id=hl-25-242><a class=lnlinks href=#hl-25-242>242</a>
</span><span class=lnt id=hl-25-243><a class=lnlinks href=#hl-25-243>243</a>
</span><span class=lnt id=hl-25-244><a class=lnlinks href=#hl-25-244>244</a>
</span><span class=lnt id=hl-25-245><a class=lnlinks href=#hl-25-245>245</a>
</span><span class=lnt id=hl-25-246><a class=lnlinks href=#hl-25-246>246</a>
</span><span class=lnt id=hl-25-247><a class=lnlinks href=#hl-25-247>247</a>
</span><span class=lnt id=hl-25-248><a class=lnlinks href=#hl-25-248>248</a>
</span><span class=lnt id=hl-25-249><a class=lnlinks href=#hl-25-249>249</a>
</span><span class=lnt id=hl-25-250><a class=lnlinks href=#hl-25-250>250</a>
</span><span class=lnt id=hl-25-251><a class=lnlinks href=#hl-25-251>251</a>
</span><span class=lnt id=hl-25-252><a class=lnlinks href=#hl-25-252>252</a>
</span><span class=lnt id=hl-25-253><a class=lnlinks href=#hl-25-253>253</a>
</span><span class=lnt id=hl-25-254><a class=lnlinks href=#hl-25-254>254</a>
</span><span class=lnt id=hl-25-255><a class=lnlinks href=#hl-25-255>255</a>
</span><span class=lnt id=hl-25-256><a class=lnlinks href=#hl-25-256>256</a>
</span><span class=lnt id=hl-25-257><a class=lnlinks href=#hl-25-257>257</a>
</span><span class=lnt id=hl-25-258><a class=lnlinks href=#hl-25-258>258</a>
</span><span class=lnt id=hl-25-259><a class=lnlinks href=#hl-25-259>259</a>
</span><span class=lnt id=hl-25-260><a class=lnlinks href=#hl-25-260>260</a>
</span><span class=lnt id=hl-25-261><a class=lnlinks href=#hl-25-261>261</a>
</span><span class=lnt id=hl-25-262><a class=lnlinks href=#hl-25-262>262</a>
</span><span class=lnt id=hl-25-263><a class=lnlinks href=#hl-25-263>263</a>
</span><span class=lnt id=hl-25-264><a class=lnlinks href=#hl-25-264>264</a>
</span><span class=lnt id=hl-25-265><a class=lnlinks href=#hl-25-265>265</a>
</span><span class=lnt id=hl-25-266><a class=lnlinks href=#hl-25-266>266</a>
</span><span class=lnt id=hl-25-267><a class=lnlinks href=#hl-25-267>267</a>
</span><span class=lnt id=hl-25-268><a class=lnlinks href=#hl-25-268>268</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>abc</span> <span class=kn>import</span> <span class=n>ABC</span><span class=p>,</span> <span class=n>abstractmethod</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Dict</span><span class=p>,</span> <span class=n>List</span><span class=p>,</span> <span class=n>Optional</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>dataclasses</span> <span class=kn>import</span> <span class=n>dataclass</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>enum</span> <span class=kn>import</span> <span class=n>Enum</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>logging</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 주문 상태 열거형</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>OrderStatus</span><span class=p>(</span><span class=n>Enum</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>PENDING</span> <span class=o>=</span> <span class=s2>&#34;pending&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>CONFIRMED</span> <span class=o>=</span> <span class=s2>&#34;confirmed&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>FAILED</span> <span class=o>=</span> <span class=s2>&#34;failed&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>CANCELLED</span> <span class=o>=</span> <span class=s2>&#34;cancelled&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 주문 정보 데이터 클래스</span>
</span></span><span class=line><span class=cl><span class=nd>@dataclass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>OrderInfo</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;주문 정보를 담는 데이터 클래스&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>order_id</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>customer_id</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>items</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>Dict</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>total_amount</span><span class=p>:</span> <span class=nb>float</span>
</span></span><span class=line><span class=cl>    <span class=n>status</span><span class=p>:</span> <span class=n>OrderStatus</span> <span class=o>=</span> <span class=n>OrderStatus</span><span class=o>.</span><span class=n>PENDING</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 서브시스템 인터페이스들</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>InventoryService</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;재고 관리 서비스 - 상품 재고 확인 및 예약 처리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>check_availability</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>items</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>Dict</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;재고 가용성 확인&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># 실제 구현에서는 데이터베이스 조회</span>
</span></span><span class=line><span class=cl>        <span class=n>logging</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;재고 확인 중: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>items</span><span class=p>)</span><span class=si>}</span><span class=s2>개 상품&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>reserve_items</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>items</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>Dict</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;상품 재고 예약&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>reservation_id</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;RES_</span><span class=si>{</span><span class=nb>hash</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>items</span><span class=p>))</span> <span class=o>%</span> <span class=mi>10000</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>logging</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;재고 예약 완료: </span><span class=si>{</span><span class=n>reservation_id</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>reservation_id</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>release_reservation</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>reservation_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;재고 예약 해제 (실패 시 롤백용)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>logging</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;재고 예약 해제: </span><span class=si>{</span><span class=n>reservation_id</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PaymentService</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;결제 서비스 - 다양한 결제 수단 처리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process_payment</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amount</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>payment_method</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;결제 처리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># 실제 구현에서는 결제 게이트웨이 API 호출</span>
</span></span><span class=line><span class=cl>        <span class=n>transaction_id</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;TXN_</span><span class=si>{</span><span class=nb>hash</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>amount</span><span class=p>))</span> <span class=o>%</span> <span class=mi>10000</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>logging</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;결제 처리 완료: </span><span class=si>{</span><span class=n>transaction_id</span><span class=si>}</span><span class=s2>, 금액: </span><span class=si>{</span><span class=n>amount</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;transaction_id&#34;</span><span class=p>:</span> <span class=n>transaction_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;success&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;amount&#34;</span><span class=p>:</span> <span class=n>amount</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>refund_payment</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>transaction_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;결제 환불 (실패 시 롤백용)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>logging</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;결제 환불 처리: </span><span class=si>{</span><span class=n>transaction_id</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ShippingService</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;배송 서비스 - 배송 스케줄 관리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>schedule_delivery</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order_info</span><span class=p>:</span> <span class=n>Dict</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;배송 스케줄 등록&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>delivery_id</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;DEL_</span><span class=si>{</span><span class=nb>hash</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>order_info</span><span class=p>))</span> <span class=o>%</span> <span class=mi>10000</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>logging</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;배송 스케줄 등록: </span><span class=si>{</span><span class=n>delivery_id</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>delivery_id</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>cancel_delivery</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>delivery_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;배송 취소 (실패 시 롤백용)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>logging</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;배송 취소: </span><span class=si>{</span><span class=n>delivery_id</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>NotificationService</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;알림 서비스 - 이메일, SMS 등 다중 채널 알림&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>send_order_confirmation</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>customer_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>order_info</span><span class=p>:</span> <span class=n>Dict</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;주문 확인 알림 발송&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>logging</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;주문 확인 알림 발송 완료 - 고객: </span><span class=si>{</span><span class=n>customer_id</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>send_failure_notification</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>customer_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>reason</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;주문 실패 알림 발송&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>logging</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;주문 실패 알림 발송 - 고객: </span><span class=si>{</span><span class=n>customer_id</span><span class=si>}</span><span class=s2>, 사유: </span><span class=si>{</span><span class=n>reason</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>LoyaltyService</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;적립금 서비스 - 포인트 적립 및 관리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>calculate_points</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amount</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;적립금 계산 (구매액의 1%)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>int</span><span class=p>(</span><span class=n>amount</span> <span class=o>*</span> <span class=mf>0.01</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add_points</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>customer_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>points</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;적립금 적립&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>logging</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;적립금 적립 완료 - 고객: </span><span class=si>{</span><span class=n>customer_id</span><span class=si>}</span><span class=s2>, 포인트: </span><span class=si>{</span><span class=n>points</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 퍼사드 패턴 구현</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>OrderProcessingFacade</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    주문 처리 퍼사드 - 복잡한 주문 처리 과정을 단순화
</span></span></span><span class=line><span class=cl><span class=s2>    
</span></span></span><span class=line><span class=cl><span class=s2>    여러 서브시스템들의 복잡한 상호작용을 클라이언트로부터 숨기고,
</span></span></span><span class=line><span class=cl><span class=s2>    일관된 인터페이스를 통해 주문 처리 기능을 제공합니다.
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># 서브시스템 인스턴스 초기화</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>inventory_service</span> <span class=o>=</span> <span class=n>InventoryService</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>payment_service</span> <span class=o>=</span> <span class=n>PaymentService</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>shipping_service</span> <span class=o>=</span> <span class=n>ShippingService</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>notification_service</span> <span class=o>=</span> <span class=n>NotificationService</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>loyalty_service</span> <span class=o>=</span> <span class=n>LoyaltyService</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 로깅 설정</span>
</span></span><span class=line><span class=cl>        <span class=n>logging</span><span class=o>.</span><span class=n>basicConfig</span><span class=p>(</span><span class=n>level</span><span class=o>=</span><span class=n>logging</span><span class=o>.</span><span class=n>INFO</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process_order</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order_info</span><span class=p>:</span> <span class=n>OrderInfo</span><span class=p>,</span> <span class=n>payment_method</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&#34;card&#34;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        통합 주문 처리 메서드
</span></span></span><span class=line><span class=cl><span class=s2>        
</span></span></span><span class=line><span class=cl><span class=s2>        복잡한 주문 처리 과정을 하나의 메서드로 통합:
</span></span></span><span class=line><span class=cl><span class=s2>        1. 재고 확인 및 예약
</span></span></span><span class=line><span class=cl><span class=s2>        2. 결제 처리
</span></span></span><span class=line><span class=cl><span class=s2>        3. 배송 스케줄링
</span></span></span><span class=line><span class=cl><span class=s2>        4. 적립금 적립
</span></span></span><span class=line><span class=cl><span class=s2>        5. 알림 발송
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;주문 처리 시작: </span><span class=si>{</span><span class=n>order_info</span><span class=o>.</span><span class=n>order_id</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 실행 상태 추적을 위한 변수들</span>
</span></span><span class=line><span class=cl>        <span class=n>reservation_id</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=n>transaction_result</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=n>delivery_id</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># 1단계: 재고 확인 및 예약</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>inventory_service</span><span class=o>.</span><span class=n>check_availability</span><span class=p>(</span><span class=n>order_info</span><span class=o>.</span><span class=n>items</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=k>raise</span> <span class=ne>Exception</span><span class=p>(</span><span class=s2>&#34;재고 부족&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=n>reservation_id</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>inventory_service</span><span class=o>.</span><span class=n>reserve_items</span><span class=p>(</span><span class=n>order_info</span><span class=o>.</span><span class=n>items</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 2단계: 결제 처리</span>
</span></span><span class=line><span class=cl>            <span class=n>transaction_result</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>payment_service</span><span class=o>.</span><span class=n>process_payment</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=n>order_info</span><span class=o>.</span><span class=n>total_amount</span><span class=p>,</span> <span class=n>payment_method</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>transaction_result</span><span class=p>[</span><span class=s2>&#34;status&#34;</span><span class=p>]</span> <span class=o>!=</span> <span class=s2>&#34;success&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>raise</span> <span class=ne>Exception</span><span class=p>(</span><span class=s2>&#34;결제 실패&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 3단계: 배송 스케줄링</span>
</span></span><span class=line><span class=cl>            <span class=n>delivery_id</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>shipping_service</span><span class=o>.</span><span class=n>schedule_delivery</span><span class=p>({</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_id&#34;</span><span class=p>:</span> <span class=n>order_info</span><span class=o>.</span><span class=n>order_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;customer_id&#34;</span><span class=p>:</span> <span class=n>order_info</span><span class=o>.</span><span class=n>customer_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;items&#34;</span><span class=p>:</span> <span class=n>order_info</span><span class=o>.</span><span class=n>items</span>
</span></span><span class=line><span class=cl>            <span class=p>})</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 4단계: 적립금 적립</span>
</span></span><span class=line><span class=cl>            <span class=n>points</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>loyalty_service</span><span class=o>.</span><span class=n>calculate_points</span><span class=p>(</span><span class=n>order_info</span><span class=o>.</span><span class=n>total_amount</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>loyalty_service</span><span class=o>.</span><span class=n>add_points</span><span class=p>(</span><span class=n>order_info</span><span class=o>.</span><span class=n>customer_id</span><span class=p>,</span> <span class=n>points</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 5단계: 성공 알림 발송</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>notification_service</span><span class=o>.</span><span class=n>send_order_confirmation</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=n>order_info</span><span class=o>.</span><span class=n>customer_id</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>order_info</span><span class=o>.</span><span class=vm>__dict__</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 주문 상태 업데이트</span>
</span></span><span class=line><span class=cl>            <span class=n>order_info</span><span class=o>.</span><span class=n>status</span> <span class=o>=</span> <span class=n>OrderStatus</span><span class=o>.</span><span class=n>CONFIRMED</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;주문 처리 완료: </span><span class=si>{</span><span class=n>order_info</span><span class=o>.</span><span class=n>order_id</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;success&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_id&#34;</span><span class=p>:</span> <span class=n>order_info</span><span class=o>.</span><span class=n>order_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;transaction_id&#34;</span><span class=p>:</span> <span class=n>transaction_result</span><span class=p>[</span><span class=s2>&#34;transaction_id&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;delivery_id&#34;</span><span class=p>:</span> <span class=n>delivery_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;points_earned&#34;</span><span class=p>:</span> <span class=n>points</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># 실패 시 롤백 처리</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;주문 처리 실패: </span><span class=si>{</span><span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_rollback_order</span><span class=p>(</span><span class=n>reservation_id</span><span class=p>,</span> <span class=n>transaction_result</span><span class=p>,</span> <span class=n>delivery_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 실패 알림 발송</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>notification_service</span><span class=o>.</span><span class=n>send_failure_notification</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=n>order_info</span><span class=o>.</span><span class=n>customer_id</span><span class=p>,</span> <span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=n>order_info</span><span class=o>.</span><span class=n>status</span> <span class=o>=</span> <span class=n>OrderStatus</span><span class=o>.</span><span class=n>FAILED</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;failed&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_id&#34;</span><span class=p>:</span> <span class=n>order_info</span><span class=o>.</span><span class=n>order_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;error&#34;</span><span class=p>:</span> <span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_rollback_order</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>reservation_id</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span> 
</span></span><span class=line><span class=cl>                       <span class=n>transaction_result</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Dict</span><span class=p>],</span> 
</span></span><span class=line><span class=cl>                       <span class=n>delivery_id</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        주문 실패 시 롤백 처리
</span></span></span><span class=line><span class=cl><span class=s2>        
</span></span></span><span class=line><span class=cl><span class=s2>        부분적으로 처리된 작업들을 안전하게 되돌립니다.
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&#34;주문 롤백 처리 시작&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 배송 취소</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>delivery_id</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>shipping_service</span><span class=o>.</span><span class=n>cancel_delivery</span><span class=p>(</span><span class=n>delivery_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 결제 환불</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>transaction_result</span> <span class=ow>and</span> <span class=n>transaction_result</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;transaction_id&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>payment_service</span><span class=o>.</span><span class=n>refund_payment</span><span class=p>(</span><span class=n>transaction_result</span><span class=p>[</span><span class=s2>&#34;transaction_id&#34;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 재고 예약 해제</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>reservation_id</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>inventory_service</span><span class=o>.</span><span class=n>release_reservation</span><span class=p>(</span><span class=n>reservation_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&#34;주문 롤백 처리 완료&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_order_status</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;주문 상태 조회 (추가 기능)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># 실제 구현에서는 데이터베이스 조회</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;order_id&#34;</span><span class=p>:</span> <span class=n>order_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;confirmed&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;last_updated&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-01-15T10:30:00Z&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용 예시</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;퍼사드 패턴 사용 예시&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 주문 처리 퍼사드 생성</span>
</span></span><span class=line><span class=cl>    <span class=n>order_facade</span> <span class=o>=</span> <span class=n>OrderProcessingFacade</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 주문 정보 생성</span>
</span></span><span class=line><span class=cl>    <span class=n>order</span> <span class=o>=</span> <span class=n>OrderInfo</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>order_id</span><span class=o>=</span><span class=s2>&#34;ORD_001&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>customer_id</span><span class=o>=</span><span class=s2>&#34;CUST_123&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>items</span><span class=o>=</span><span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span><span class=s2>&#34;product_id&#34;</span><span class=p>:</span> <span class=s2>&#34;PROD_001&#34;</span><span class=p>,</span> <span class=s2>&#34;quantity&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;price&#34;</span><span class=p>:</span> <span class=mf>29.99</span><span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span><span class=s2>&#34;product_id&#34;</span><span class=p>:</span> <span class=s2>&#34;PROD_002&#34;</span><span class=p>,</span> <span class=s2>&#34;quantity&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;price&#34;</span><span class=p>:</span> <span class=mf>15.50</span><span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=n>total_amount</span><span class=o>=</span><span class=mf>75.48</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 클라이언트는 복잡한 서브시스템 상호작용을 알 필요 없이</span>
</span></span><span class=line><span class=cl>    <span class=c1># 간단한 메서드 호출로 전체 주문 처리 과정을 수행</span>
</span></span><span class=line><span class=cl>    <span class=n>result</span> <span class=o>=</span> <span class=n>order_facade</span><span class=o>.</span><span class=n>process_order</span><span class=p>(</span><span class=n>order</span><span class=p>,</span> <span class=s2>&#34;credit_card&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;=&#34;</span> <span class=o>*</span> <span class=mi>50</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;주문 처리 결과:&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;상태: </span><span class=si>{</span><span class=n>result</span><span class=p>[</span><span class=s1>&#39;status&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;주문 ID: </span><span class=si>{</span><span class=n>result</span><span class=p>[</span><span class=s1>&#39;order_id&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>result</span><span class=p>[</span><span class=s2>&#34;status&#34;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&#34;success&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;거래 ID: </span><span class=si>{</span><span class=n>result</span><span class=p>[</span><span class=s1>&#39;transaction_id&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;배송 ID: </span><span class=si>{</span><span class=n>result</span><span class=p>[</span><span class=s1>&#39;delivery_id&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;적립 포인트: </span><span class=si>{</span><span class=n>result</span><span class=p>[</span><span class=s1>&#39;points_earned&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;오류: </span><span class=si>{</span><span class=n>result</span><span class=p>[</span><span class=s1>&#39;error&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=python-인증인가-정보>Python: 인증/인가 정보<a hidden class=anchor aria-hidden=true href=#python-인증인가-정보>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1> 1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2> 2</a>
</span><span class=lnt id=hl-26-3><a class=lnlinks href=#hl-26-3> 3</a>
</span><span class=lnt id=hl-26-4><a class=lnlinks href=#hl-26-4> 4</a>
</span><span class=lnt id=hl-26-5><a class=lnlinks href=#hl-26-5> 5</a>
</span><span class=lnt id=hl-26-6><a class=lnlinks href=#hl-26-6> 6</a>
</span><span class=lnt id=hl-26-7><a class=lnlinks href=#hl-26-7> 7</a>
</span><span class=lnt id=hl-26-8><a class=lnlinks href=#hl-26-8> 8</a>
</span><span class=lnt id=hl-26-9><a class=lnlinks href=#hl-26-9> 9</a>
</span><span class=lnt id=hl-26-10><a class=lnlinks href=#hl-26-10>10</a>
</span><span class=lnt id=hl-26-11><a class=lnlinks href=#hl-26-11>11</a>
</span><span class=lnt id=hl-26-12><a class=lnlinks href=#hl-26-12>12</a>
</span><span class=lnt id=hl-26-13><a class=lnlinks href=#hl-26-13>13</a>
</span><span class=lnt id=hl-26-14><a class=lnlinks href=#hl-26-14>14</a>
</span><span class=lnt id=hl-26-15><a class=lnlinks href=#hl-26-15>15</a>
</span><span class=lnt id=hl-26-16><a class=lnlinks href=#hl-26-16>16</a>
</span><span class=lnt id=hl-26-17><a class=lnlinks href=#hl-26-17>17</a>
</span><span class=lnt id=hl-26-18><a class=lnlinks href=#hl-26-18>18</a>
</span><span class=lnt id=hl-26-19><a class=lnlinks href=#hl-26-19>19</a>
</span><span class=lnt id=hl-26-20><a class=lnlinks href=#hl-26-20>20</a>
</span><span class=lnt id=hl-26-21><a class=lnlinks href=#hl-26-21>21</a>
</span><span class=lnt id=hl-26-22><a class=lnlinks href=#hl-26-22>22</a>
</span><span class=lnt id=hl-26-23><a class=lnlinks href=#hl-26-23>23</a>
</span><span class=lnt id=hl-26-24><a class=lnlinks href=#hl-26-24>24</a>
</span><span class=lnt id=hl-26-25><a class=lnlinks href=#hl-26-25>25</a>
</span><span class=lnt id=hl-26-26><a class=lnlinks href=#hl-26-26>26</a>
</span><span class=lnt id=hl-26-27><a class=lnlinks href=#hl-26-27>27</a>
</span><span class=lnt id=hl-26-28><a class=lnlinks href=#hl-26-28>28</a>
</span><span class=lnt id=hl-26-29><a class=lnlinks href=#hl-26-29>29</a>
</span><span class=lnt id=hl-26-30><a class=lnlinks href=#hl-26-30>30</a>
</span><span class=lnt id=hl-26-31><a class=lnlinks href=#hl-26-31>31</a>
</span><span class=lnt id=hl-26-32><a class=lnlinks href=#hl-26-32>32</a>
</span><span class=lnt id=hl-26-33><a class=lnlinks href=#hl-26-33>33</a>
</span><span class=lnt id=hl-26-34><a class=lnlinks href=#hl-26-34>34</a>
</span><span class=lnt id=hl-26-35><a class=lnlinks href=#hl-26-35>35</a>
</span><span class=lnt id=hl-26-36><a class=lnlinks href=#hl-26-36>36</a>
</span><span class=lnt id=hl-26-37><a class=lnlinks href=#hl-26-37>37</a>
</span><span class=lnt id=hl-26-38><a class=lnlinks href=#hl-26-38>38</a>
</span><span class=lnt id=hl-26-39><a class=lnlinks href=#hl-26-39>39</a>
</span><span class=lnt id=hl-26-40><a class=lnlinks href=#hl-26-40>40</a>
</span><span class=lnt id=hl-26-41><a class=lnlinks href=#hl-26-41>41</a>
</span><span class=lnt id=hl-26-42><a class=lnlinks href=#hl-26-42>42</a>
</span><span class=lnt id=hl-26-43><a class=lnlinks href=#hl-26-43>43</a>
</span><span class=lnt id=hl-26-44><a class=lnlinks href=#hl-26-44>44</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 서브시스템 클래스들</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>UserService</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_user</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;UserService: 사용자 정보 조회 (ID: </span><span class=si>{</span><span class=n>user_id</span><span class=si>}</span><span class=s2>)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;id&#34;</span><span class=p>:</span> <span class=n>user_id</span><span class=p>,</span> <span class=s2>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;홍길동&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>RoleService</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_roles</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;RoleService: 사용자 역할 조회 (ID: </span><span class=si>{</span><span class=n>user_id</span><span class=si>}</span><span class=s2>)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>[</span><span class=s2>&#34;admin&#34;</span><span class=p>,</span> <span class=s2>&#34;user&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PermissionService</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_permissions</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;PermissionService: 사용자 권한 조회 (ID: </span><span class=si>{</span><span class=n>user_id</span><span class=si>}</span><span class=s2>)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>[</span><span class=s2>&#34;read&#34;</span><span class=p>,</span> <span class=s2>&#34;write&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Facade 클래스</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>AuthFacade</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>user_service</span> <span class=o>=</span> <span class=n>UserService</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>role_service</span> <span class=o>=</span> <span class=n>RoleService</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>permission_service</span> <span class=o>=</span> <span class=n>PermissionService</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_user_auth_info</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>user</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>user_service</span><span class=o>.</span><span class=n>get_user</span><span class=p>(</span><span class=n>user_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>roles</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>role_service</span><span class=o>.</span><span class=n>get_roles</span><span class=p>(</span><span class=n>user_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>permissions</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>permission_service</span><span class=o>.</span><span class=n>get_permissions</span><span class=p>(</span><span class=n>user_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;user&#34;</span><span class=p>:</span> <span class=n>user</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;roles&#34;</span><span class=p>:</span> <span class=n>roles</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;permissions&#34;</span><span class=p>:</span> <span class=n>permissions</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 클라이언트</span>
</span></span><span class=line><span class=cl><span class=n>auth_facade</span> <span class=o>=</span> <span class=n>AuthFacade</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>auth_info</span> <span class=o>=</span> <span class=n>auth_facade</span><span class=o>.</span><span class=n>get_user_auth_info</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>auth_info</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>UserService: 사용자 정보 조회 (ID: 1)
</span></span></span><span class=line><span class=cl><span class=s2>RoleService: 사용자 역할 조회 (ID: 1)
</span></span></span><span class=line><span class=cl><span class=s2>PermissionService: 사용자 권한 조회 (ID: 1)
</span></span></span><span class=line><span class=cl><span class=s2>{&#39;user&#39;: {&#39;id&#39;: 1, &#39;name&#39;: &#39;홍길동&#39;}, &#39;roles&#39;: [&#39;admin&#39;, &#39;user&#39;], &#39;permissions&#39;: [&#39;read&#39;, &#39;write&#39;]}
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><strong>주석:</strong><ul><li><strong>UserService, RoleService, PermissionService:</strong> 서브시스템 클래스.</li><li><strong>AuthFacade:</strong> 인증/인가 관련 기능을 단순화된 API 로 제공하는 Facade 클래스.</li><li><strong>클라이언트:</strong> AuthFacade 만을 통해 인증/인가 정보를 쉽게 조회.</li></ul></li></ul><h4 id=python>Python<a hidden class=anchor aria-hidden=true href=#python>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1> 1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2> 2</a>
</span><span class=lnt id=hl-27-3><a class=lnlinks href=#hl-27-3> 3</a>
</span><span class=lnt id=hl-27-4><a class=lnlinks href=#hl-27-4> 4</a>
</span><span class=lnt id=hl-27-5><a class=lnlinks href=#hl-27-5> 5</a>
</span><span class=lnt id=hl-27-6><a class=lnlinks href=#hl-27-6> 6</a>
</span><span class=lnt id=hl-27-7><a class=lnlinks href=#hl-27-7> 7</a>
</span><span class=lnt id=hl-27-8><a class=lnlinks href=#hl-27-8> 8</a>
</span><span class=lnt id=hl-27-9><a class=lnlinks href=#hl-27-9> 9</a>
</span><span class=lnt id=hl-27-10><a class=lnlinks href=#hl-27-10>10</a>
</span><span class=lnt id=hl-27-11><a class=lnlinks href=#hl-27-11>11</a>
</span><span class=lnt id=hl-27-12><a class=lnlinks href=#hl-27-12>12</a>
</span><span class=lnt id=hl-27-13><a class=lnlinks href=#hl-27-13>13</a>
</span><span class=lnt id=hl-27-14><a class=lnlinks href=#hl-27-14>14</a>
</span><span class=lnt id=hl-27-15><a class=lnlinks href=#hl-27-15>15</a>
</span><span class=lnt id=hl-27-16><a class=lnlinks href=#hl-27-16>16</a>
</span><span class=lnt id=hl-27-17><a class=lnlinks href=#hl-27-17>17</a>
</span><span class=lnt id=hl-27-18><a class=lnlinks href=#hl-27-18>18</a>
</span><span class=lnt id=hl-27-19><a class=lnlinks href=#hl-27-19>19</a>
</span><span class=lnt id=hl-27-20><a class=lnlinks href=#hl-27-20>20</a>
</span><span class=lnt id=hl-27-21><a class=lnlinks href=#hl-27-21>21</a>
</span><span class=lnt id=hl-27-22><a class=lnlinks href=#hl-27-22>22</a>
</span><span class=lnt id=hl-27-23><a class=lnlinks href=#hl-27-23>23</a>
</span><span class=lnt id=hl-27-24><a class=lnlinks href=#hl-27-24>24</a>
</span><span class=lnt id=hl-27-25><a class=lnlinks href=#hl-27-25>25</a>
</span><span class=lnt id=hl-27-26><a class=lnlinks href=#hl-27-26>26</a>
</span><span class=lnt id=hl-27-27><a class=lnlinks href=#hl-27-27>27</a>
</span><span class=lnt id=hl-27-28><a class=lnlinks href=#hl-27-28>28</a>
</span><span class=lnt id=hl-27-29><a class=lnlinks href=#hl-27-29>29</a>
</span><span class=lnt id=hl-27-30><a class=lnlinks href=#hl-27-30>30</a>
</span><span class=lnt id=hl-27-31><a class=lnlinks href=#hl-27-31>31</a>
</span><span class=lnt id=hl-27-32><a class=lnlinks href=#hl-27-32>32</a>
</span><span class=lnt id=hl-27-33><a class=lnlinks href=#hl-27-33>33</a>
</span><span class=lnt id=hl-27-34><a class=lnlinks href=#hl-27-34>34</a>
</span><span class=lnt id=hl-27-35><a class=lnlinks href=#hl-27-35>35</a>
</span><span class=lnt id=hl-27-36><a class=lnlinks href=#hl-27-36>36</a>
</span><span class=lnt id=hl-27-37><a class=lnlinks href=#hl-27-37>37</a>
</span><span class=lnt id=hl-27-38><a class=lnlinks href=#hl-27-38>38</a>
</span><span class=lnt id=hl-27-39><a class=lnlinks href=#hl-27-39>39</a>
</span><span class=lnt id=hl-27-40><a class=lnlinks href=#hl-27-40>40</a>
</span><span class=lnt id=hl-27-41><a class=lnlinks href=#hl-27-41>41</a>
</span><span class=lnt id=hl-27-42><a class=lnlinks href=#hl-27-42>42</a>
</span><span class=lnt id=hl-27-43><a class=lnlinks href=#hl-27-43>43</a>
</span><span class=lnt id=hl-27-44><a class=lnlinks href=#hl-27-44>44</a>
</span><span class=lnt id=hl-27-45><a class=lnlinks href=#hl-27-45>45</a>
</span><span class=lnt id=hl-27-46><a class=lnlinks href=#hl-27-46>46</a>
</span><span class=lnt id=hl-27-47><a class=lnlinks href=#hl-27-47>47</a>
</span><span class=lnt id=hl-27-48><a class=lnlinks href=#hl-27-48>48</a>
</span><span class=lnt id=hl-27-49><a class=lnlinks href=#hl-27-49>49</a>
</span><span class=lnt id=hl-27-50><a class=lnlinks href=#hl-27-50>50</a>
</span><span class=lnt id=hl-27-51><a class=lnlinks href=#hl-27-51>51</a>
</span><span class=lnt id=hl-27-52><a class=lnlinks href=#hl-27-52>52</a>
</span><span class=lnt id=hl-27-53><a class=lnlinks href=#hl-27-53>53</a>
</span><span class=lnt id=hl-27-54><a class=lnlinks href=#hl-27-54>54</a>
</span><span class=lnt id=hl-27-55><a class=lnlinks href=#hl-27-55>55</a>
</span><span class=lnt id=hl-27-56><a class=lnlinks href=#hl-27-56>56</a>
</span><span class=lnt id=hl-27-57><a class=lnlinks href=#hl-27-57>57</a>
</span><span class=lnt id=hl-27-58><a class=lnlinks href=#hl-27-58>58</a>
</span><span class=lnt id=hl-27-59><a class=lnlinks href=#hl-27-59>59</a>
</span><span class=lnt id=hl-27-60><a class=lnlinks href=#hl-27-60>60</a>
</span><span class=lnt id=hl-27-61><a class=lnlinks href=#hl-27-61>61</a>
</span><span class=lnt id=hl-27-62><a class=lnlinks href=#hl-27-62>62</a>
</span><span class=lnt id=hl-27-63><a class=lnlinks href=#hl-27-63>63</a>
</span><span class=lnt id=hl-27-64><a class=lnlinks href=#hl-27-64>64</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 복잡한 서브시스템 클래스들</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>VideoFile</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>filename</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>filename</span> <span class=o>=</span> <span class=n>filename</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>codec</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>detect_codec</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>detect_codec</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>filename</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&#34;.&#34;</span><span class=p>)[</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CompressionCodec</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=nb>type</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>type</span> <span class=o>=</span> <span class=nb>type</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MPEG4CompressionCodec</span><span class=p>(</span><span class=n>CompressionCodec</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=s2>&#34;mp4&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>OGGCompressionCodec</span><span class=p>(</span><span class=n>CompressionCodec</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=s2>&#34;ogg&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CodecFactory</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nd>@staticmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>extract_codec</span><span class=p>(</span><span class=n>file</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>type</span> <span class=o>=</span> <span class=n>file</span><span class=o>.</span><span class=n>codec</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nb>type</span> <span class=o>==</span> <span class=s2>&#34;mp4&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>MPEG4CompressionCodec</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>OGGCompressionCodec</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>BitrateReader</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nd>@staticmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>read</span><span class=p>(</span><span class=n>filename</span><span class=p>,</span> <span class=n>codec</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;BitrateReader: reading file </span><span class=si>{</span><span class=n>filename</span><span class=si>}</span><span class=s2> with codec </span><span class=si>{</span><span class=n>codec</span><span class=o>.</span><span class=n>type</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;video_data_</span><span class=si>{</span><span class=n>filename</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@staticmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>convert</span><span class=p>(</span><span class=n>buffer</span><span class=p>,</span> <span class=n>codec</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;BitrateReader: writing file with codec </span><span class=si>{</span><span class=n>codec</span><span class=o>.</span><span class=n>type</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;converted_data_</span><span class=si>{</span><span class=n>buffer</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Facade 클래스</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>VideoConverter</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>convert</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>filename</span><span class=p>,</span> <span class=n>target_format</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>video_file</span> <span class=o>=</span> <span class=n>VideoFile</span><span class=p>(</span><span class=n>filename</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>source_codec</span> <span class=o>=</span> <span class=n>CodecFactory</span><span class=o>.</span><span class=n>extract_codec</span><span class=p>(</span><span class=n>video_file</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>target_format</span> <span class=o>==</span> <span class=s2>&#34;mp4&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>destination_codec</span> <span class=o>=</span> <span class=n>MPEG4CompressionCodec</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>destination_codec</span> <span class=o>=</span> <span class=n>OGGCompressionCodec</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>buffer</span> <span class=o>=</span> <span class=n>BitrateReader</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=n>filename</span><span class=p>,</span> <span class=n>source_codec</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=n>BitrateReader</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=n>buffer</span><span class=p>,</span> <span class=n>destination_codec</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 클라이언트 코드</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>converter</span> <span class=o>=</span> <span class=n>VideoConverter</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>mp4</span> <span class=o>=</span> <span class=n>converter</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=s2>&#34;funny-cats.ogg&#34;</span><span class=p>,</span> <span class=s2>&#34;mp4&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;VideoConverter: conversion completed -&gt; </span><span class=si>{</span><span class=n>mp4</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=javascript>Javascript<a hidden class=anchor aria-hidden=true href=#javascript>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-28-1><a class=lnlinks href=#hl-28-1> 1</a>
</span><span class=lnt id=hl-28-2><a class=lnlinks href=#hl-28-2> 2</a>
</span><span class=lnt id=hl-28-3><a class=lnlinks href=#hl-28-3> 3</a>
</span><span class=lnt id=hl-28-4><a class=lnlinks href=#hl-28-4> 4</a>
</span><span class=lnt id=hl-28-5><a class=lnlinks href=#hl-28-5> 5</a>
</span><span class=lnt id=hl-28-6><a class=lnlinks href=#hl-28-6> 6</a>
</span><span class=lnt id=hl-28-7><a class=lnlinks href=#hl-28-7> 7</a>
</span><span class=lnt id=hl-28-8><a class=lnlinks href=#hl-28-8> 8</a>
</span><span class=lnt id=hl-28-9><a class=lnlinks href=#hl-28-9> 9</a>
</span><span class=lnt id=hl-28-10><a class=lnlinks href=#hl-28-10>10</a>
</span><span class=lnt id=hl-28-11><a class=lnlinks href=#hl-28-11>11</a>
</span><span class=lnt id=hl-28-12><a class=lnlinks href=#hl-28-12>12</a>
</span><span class=lnt id=hl-28-13><a class=lnlinks href=#hl-28-13>13</a>
</span><span class=lnt id=hl-28-14><a class=lnlinks href=#hl-28-14>14</a>
</span><span class=lnt id=hl-28-15><a class=lnlinks href=#hl-28-15>15</a>
</span><span class=lnt id=hl-28-16><a class=lnlinks href=#hl-28-16>16</a>
</span><span class=lnt id=hl-28-17><a class=lnlinks href=#hl-28-17>17</a>
</span><span class=lnt id=hl-28-18><a class=lnlinks href=#hl-28-18>18</a>
</span><span class=lnt id=hl-28-19><a class=lnlinks href=#hl-28-19>19</a>
</span><span class=lnt id=hl-28-20><a class=lnlinks href=#hl-28-20>20</a>
</span><span class=lnt id=hl-28-21><a class=lnlinks href=#hl-28-21>21</a>
</span><span class=lnt id=hl-28-22><a class=lnlinks href=#hl-28-22>22</a>
</span><span class=lnt id=hl-28-23><a class=lnlinks href=#hl-28-23>23</a>
</span><span class=lnt id=hl-28-24><a class=lnlinks href=#hl-28-24>24</a>
</span><span class=lnt id=hl-28-25><a class=lnlinks href=#hl-28-25>25</a>
</span><span class=lnt id=hl-28-26><a class=lnlinks href=#hl-28-26>26</a>
</span><span class=lnt id=hl-28-27><a class=lnlinks href=#hl-28-27>27</a>
</span><span class=lnt id=hl-28-28><a class=lnlinks href=#hl-28-28>28</a>
</span><span class=lnt id=hl-28-29><a class=lnlinks href=#hl-28-29>29</a>
</span><span class=lnt id=hl-28-30><a class=lnlinks href=#hl-28-30>30</a>
</span><span class=lnt id=hl-28-31><a class=lnlinks href=#hl-28-31>31</a>
</span><span class=lnt id=hl-28-32><a class=lnlinks href=#hl-28-32>32</a>
</span><span class=lnt id=hl-28-33><a class=lnlinks href=#hl-28-33>33</a>
</span><span class=lnt id=hl-28-34><a class=lnlinks href=#hl-28-34>34</a>
</span><span class=lnt id=hl-28-35><a class=lnlinks href=#hl-28-35>35</a>
</span><span class=lnt id=hl-28-36><a class=lnlinks href=#hl-28-36>36</a>
</span><span class=lnt id=hl-28-37><a class=lnlinks href=#hl-28-37>37</a>
</span><span class=lnt id=hl-28-38><a class=lnlinks href=#hl-28-38>38</a>
</span><span class=lnt id=hl-28-39><a class=lnlinks href=#hl-28-39>39</a>
</span><span class=lnt id=hl-28-40><a class=lnlinks href=#hl-28-40>40</a>
</span><span class=lnt id=hl-28-41><a class=lnlinks href=#hl-28-41>41</a>
</span><span class=lnt id=hl-28-42><a class=lnlinks href=#hl-28-42>42</a>
</span><span class=lnt id=hl-28-43><a class=lnlinks href=#hl-28-43>43</a>
</span><span class=lnt id=hl-28-44><a class=lnlinks href=#hl-28-44>44</a>
</span><span class=lnt id=hl-28-45><a class=lnlinks href=#hl-28-45>45</a>
</span><span class=lnt id=hl-28-46><a class=lnlinks href=#hl-28-46>46</a>
</span><span class=lnt id=hl-28-47><a class=lnlinks href=#hl-28-47>47</a>
</span><span class=lnt id=hl-28-48><a class=lnlinks href=#hl-28-48>48</a>
</span><span class=lnt id=hl-28-49><a class=lnlinks href=#hl-28-49>49</a>
</span><span class=lnt id=hl-28-50><a class=lnlinks href=#hl-28-50>50</a>
</span><span class=lnt id=hl-28-51><a class=lnlinks href=#hl-28-51>51</a>
</span><span class=lnt id=hl-28-52><a class=lnlinks href=#hl-28-52>52</a>
</span><span class=lnt id=hl-28-53><a class=lnlinks href=#hl-28-53>53</a>
</span><span class=lnt id=hl-28-54><a class=lnlinks href=#hl-28-54>54</a>
</span><span class=lnt id=hl-28-55><a class=lnlinks href=#hl-28-55>55</a>
</span><span class=lnt id=hl-28-56><a class=lnlinks href=#hl-28-56>56</a>
</span><span class=lnt id=hl-28-57><a class=lnlinks href=#hl-28-57>57</a>
</span><span class=lnt id=hl-28-58><a class=lnlinks href=#hl-28-58>58</a>
</span><span class=lnt id=hl-28-59><a class=lnlinks href=#hl-28-59>59</a>
</span><span class=lnt id=hl-28-60><a class=lnlinks href=#hl-28-60>60</a>
</span><span class=lnt id=hl-28-61><a class=lnlinks href=#hl-28-61>61</a>
</span><span class=lnt id=hl-28-62><a class=lnlinks href=#hl-28-62>62</a>
</span><span class=lnt id=hl-28-63><a class=lnlinks href=#hl-28-63>63</a>
</span><span class=lnt id=hl-28-64><a class=lnlinks href=#hl-28-64>64</a>
</span><span class=lnt id=hl-28-65><a class=lnlinks href=#hl-28-65>65</a>
</span><span class=lnt id=hl-28-66><a class=lnlinks href=#hl-28-66>66</a>
</span><span class=lnt id=hl-28-67><a class=lnlinks href=#hl-28-67>67</a>
</span><span class=lnt id=hl-28-68><a class=lnlinks href=#hl-28-68>68</a>
</span><span class=lnt id=hl-28-69><a class=lnlinks href=#hl-28-69>69</a>
</span><span class=lnt id=hl-28-70><a class=lnlinks href=#hl-28-70>70</a>
</span><span class=lnt id=hl-28-71><a class=lnlinks href=#hl-28-71>71</a>
</span><span class=lnt id=hl-28-72><a class=lnlinks href=#hl-28-72>72</a>
</span><span class=lnt id=hl-28-73><a class=lnlinks href=#hl-28-73>73</a>
</span><span class=lnt id=hl-28-74><a class=lnlinks href=#hl-28-74>74</a>
</span><span class=lnt id=hl-28-75><a class=lnlinks href=#hl-28-75>75</a>
</span><span class=lnt id=hl-28-76><a class=lnlinks href=#hl-28-76>76</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 복잡한 서브시스템 클래스들
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>VideoFile</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>(</span><span class=nx>filename</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>filename</span> <span class=o>=</span> <span class=nx>filename</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>codec</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>detectCodec</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>detectCodec</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>filename</span><span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s2>&#34;.&#34;</span><span class=p>)[</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>CompressionCodec</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>(</span><span class=nx>type</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>type</span> <span class=o>=</span> <span class=nx>type</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>MPEG4CompressionCodec</span> <span class=kr>extends</span> <span class=nx>CompressionCodec</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>super</span><span class=p>(</span><span class=s2>&#34;mp4&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>OGGCompressionCodec</span> <span class=kr>extends</span> <span class=nx>CompressionCodec</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>super</span><span class=p>(</span><span class=s2>&#34;ogg&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>CodecFactory</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>static</span> <span class=nx>extractCodec</span><span class=p>(</span><span class=nx>file</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>type</span> <span class=o>=</span> <span class=nx>file</span><span class=p>.</span><span class=nx>codec</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>type</span> <span class=o>===</span> <span class=s2>&#34;mp4&#34;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=k>new</span> <span class=nx>MPEG4CompressionCodec</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=nx>OGGCompressionCodec</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>BitrateReader</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>static</span> <span class=nx>read</span><span class=p>(</span><span class=nx>filename</span><span class=p>,</span> <span class=nx>codec</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`BitrateReader: reading file </span><span class=si>${</span><span class=nx>filename</span><span class=si>}</span><span class=sb> with codec </span><span class=si>${</span><span class=nx>codec</span><span class=p>.</span><span class=nx>type</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sb>`video_data_</span><span class=si>${</span><span class=nx>filename</span><span class=si>}</span><span class=sb>`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>static</span> <span class=nx>convert</span><span class=p>(</span><span class=nx>buffer</span><span class=p>,</span> <span class=nx>codec</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`BitrateReader: writing file with codec </span><span class=si>${</span><span class=nx>codec</span><span class=p>.</span><span class=nx>type</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sb>`converted_data_</span><span class=si>${</span><span class=nx>buffer</span><span class=si>}</span><span class=sb>`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Facade 클래스
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>VideoConverter</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>convert</span><span class=p>(</span><span class=nx>filename</span><span class=p>,</span> <span class=nx>targetFormat</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>videoFile</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>VideoFile</span><span class=p>(</span><span class=nx>filename</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>sourceCodec</span> <span class=o>=</span> <span class=nx>CodecFactory</span><span class=p>.</span><span class=nx>extractCodec</span><span class=p>(</span><span class=nx>videoFile</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>destinationCodec</span> <span class=o>=</span> <span class=nx>targetFormat</span> <span class=o>===</span> <span class=s2>&#34;mp4&#34;</span> 
</span></span><span class=line><span class=cl>            <span class=o>?</span> <span class=k>new</span> <span class=nx>MPEG4CompressionCodec</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=o>:</span> <span class=k>new</span> <span class=nx>OGGCompressionCodec</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>buffer</span> <span class=o>=</span> <span class=nx>BitrateReader</span><span class=p>.</span><span class=nx>read</span><span class=p>(</span><span class=nx>filename</span><span class=p>,</span> <span class=nx>sourceCodec</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>BitrateReader</span><span class=p>.</span><span class=nx>convert</span><span class=p>(</span><span class=nx>buffer</span><span class=p>,</span> <span class=nx>destinationCodec</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 클라이언트 코드
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>converter</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>VideoConverter</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>mp4</span> <span class=o>=</span> <span class=nx>converter</span><span class=p>.</span><span class=nx>convert</span><span class=p>(</span><span class=s2>&#34;funny-cats.ogg&#34;</span><span class=p>,</span> <span class=s2>&#34;mp4&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`VideoConverter: conversion completed -&gt; </span><span class=si>${</span><span class=nx>mp4</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>main</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=java>Java<a hidden class=anchor aria-hidden=true href=#java>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-29-1><a class=lnlinks href=#hl-29-1> 1</a>
</span><span class=lnt id=hl-29-2><a class=lnlinks href=#hl-29-2> 2</a>
</span><span class=lnt id=hl-29-3><a class=lnlinks href=#hl-29-3> 3</a>
</span><span class=lnt id=hl-29-4><a class=lnlinks href=#hl-29-4> 4</a>
</span><span class=lnt id=hl-29-5><a class=lnlinks href=#hl-29-5> 5</a>
</span><span class=lnt id=hl-29-6><a class=lnlinks href=#hl-29-6> 6</a>
</span><span class=lnt id=hl-29-7><a class=lnlinks href=#hl-29-7> 7</a>
</span><span class=lnt id=hl-29-8><a class=lnlinks href=#hl-29-8> 8</a>
</span><span class=lnt id=hl-29-9><a class=lnlinks href=#hl-29-9> 9</a>
</span><span class=lnt id=hl-29-10><a class=lnlinks href=#hl-29-10>10</a>
</span><span class=lnt id=hl-29-11><a class=lnlinks href=#hl-29-11>11</a>
</span><span class=lnt id=hl-29-12><a class=lnlinks href=#hl-29-12>12</a>
</span><span class=lnt id=hl-29-13><a class=lnlinks href=#hl-29-13>13</a>
</span><span class=lnt id=hl-29-14><a class=lnlinks href=#hl-29-14>14</a>
</span><span class=lnt id=hl-29-15><a class=lnlinks href=#hl-29-15>15</a>
</span><span class=lnt id=hl-29-16><a class=lnlinks href=#hl-29-16>16</a>
</span><span class=lnt id=hl-29-17><a class=lnlinks href=#hl-29-17>17</a>
</span><span class=lnt id=hl-29-18><a class=lnlinks href=#hl-29-18>18</a>
</span><span class=lnt id=hl-29-19><a class=lnlinks href=#hl-29-19>19</a>
</span><span class=lnt id=hl-29-20><a class=lnlinks href=#hl-29-20>20</a>
</span><span class=lnt id=hl-29-21><a class=lnlinks href=#hl-29-21>21</a>
</span><span class=lnt id=hl-29-22><a class=lnlinks href=#hl-29-22>22</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Washing</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>wash</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;Washing…&#34;</span><span class=p>);</span><span class=w> </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>Rinsing</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>rinse</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;Rinsing…&#34;</span><span class=p>);</span><span class=w> </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>Spinning</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>spin</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;Spinning…&#34;</span><span class=p>);</span><span class=w> </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>WashingMachineFacade</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Washing</span><span class=w> </span><span class=n>washing</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Washing</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Rinsing</span><span class=w> </span><span class=n>rinsing</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Rinsing</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Spinning</span><span class=w> </span><span class=n>spinning</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Spinning</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>startWashing</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>washing</span><span class=p>.</span><span class=na>wash</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>rinsing</span><span class=p>.</span><span class=na>rinse</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>spinning</span><span class=p>.</span><span class=na>spin</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// Client</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>WashingMachineFacade</span><span class=w> </span><span class=n>machine</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>WashingMachineFacade</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>machine</span><span class=p>.</span><span class=na>startWashing</span><span class=p>();</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>고려사항</strong></th><th><strong>설명</strong></th><th><strong>권장사항</strong></th></tr></thead><tbody><tr><td><strong>설계 원칙</strong></td><td>단일 책임 원칙 (SRP)</td><td>Facade 에 너무 많은 기능이 집중되지 않도록 기능/도메인별로 분리</td><td>기능별 또는 계층별 Facade 분할, 역할에 따라 클래스 분리</td></tr><tr><td></td><td>적절한 추상화 수준</td><td>너무 단순하거나 과도하게 추상화되면 사용성과 유지보수성 저하</td><td>사용자 중심 인터페이스 설계, 실제 사용 시나리오에 맞춘 API 노출</td></tr><tr><td></td><td>인터페이스 일관성</td><td>명명 규칙, 입력/출력 구조 통일성이 없으면 API 사용 혼란</td><td>직관적 명명, 파라미터 일관성, REST 원칙 준수 등</td></tr><tr><td></td><td>기능 범위 설정</td><td>모든 기능을 Facade 로 감싸기 어려움 → 필요한 핵심 기능만 집중</td><td>사용 빈도가 높은 기능 위주로 제공, 고급 기능은 직접 접근 허용</td></tr><tr><td><strong>유연성/확장성</strong></td><td>서브시스템 변경 대응</td><td>서브시스템 변경 시 Facade 만 수정하면 되도록 느슨한 결합 구조</td><td>의존성 주입 (DI), 인터페이스 기반 설계</td></tr><tr><td></td><td>새로운 기능 확장</td><td>확장성 고려 없이 설계하면 기능 추가 시 파급 효과 커짐</td><td>전략 패턴, 플러그인 구조 적용, 점진적 확장 가능 구조 유지</td></tr><tr><td></td><td>직접 접근 허용 여부</td><td>Facade 로 감싸지 않은 기능은 직접 접근이 필요할 수 있음</td><td>외부 API 에서 우회 경로 제공, 내부 SDK 또는 Service Registry 활용</td></tr><tr><td><strong>성능 최적화</strong></td><td>동기 호출 병목</td><td>동기식 호출이 많을 경우 응답 지연 발생 가능</td><td>비동기 처리, 병렬 호출 적용, 필요 시 캐싱 또는 큐 활용</td></tr><tr><td></td><td>응답 시간 최적화</td><td>Facade 계층 추가로 인한 오버헤드 가능성</td><td>경량화 설계, 성능 민감 로직은 직접 접근 허용</td></tr><tr><td><strong>오류/안정성</strong></td><td>부분 실패 대응 전략</td><td>일부 서브시스템 오류 발생 시 전체 흐름 중단 위험</td><td>트랜잭션/보상 트랜잭션, Circuit Breaker, 오류 분리 처리</td></tr><tr><td></td><td>단일 장애점 방지</td><td>모든 흐름이 하나의 Facade 에 집중되면 장애 시 전체 시스템 영향</td><td>다중 Facade 구성, 기능 분산, 역할 기반 라우팅 구성</td></tr><tr><td><strong>보안 관리</strong></td><td>인증·인가 중앙화</td><td>Facade 에 인증 처리가 집중되면 보안 취약점 발생 가능</td><td>인증 모듈 분리, Zero Trust 적용, 최소 권한 원칙 적용</td></tr><tr><td><strong>테스트/운영</strong></td><td>테스트 용이성</td><td>내부 서브시스템 감춤으로 인한 테스트 어려움</td><td>의존성 주입 및 Mock 객체 사용, 인터페이스 중심 테스트 설계</td></tr><tr><td></td><td>모니터링 및 추적</td><td>복잡한 흐름으로 서브시스템 별 로그 추적 어려움</td><td>통합 로깅, 상관 ID (Correlation ID), 분산 트레이싱 (OpenTelemetry 등) 도입</td></tr><tr><td><strong>문서화</strong></td><td>명확한 사용 문서 제공</td><td>내부 구조가 감춰지므로 인터페이스와 사용 방법에 대한 명확한 가이드 필요</td><td>예제 코드 포함 문서화, 사용 제한사항 명시, API 스펙 및 JSON 예시 제공</td></tr><tr><td><strong>버전/호환성</strong></td><td>인터페이스 버전 관리</td><td>기존 클라이언트 호환을 유지하면서 Facade 변경 필요</td><td>버전별 Facade 클래스 제공, 하위 호환 인터페이스 유지, 점진적 전환 지원</td></tr></tbody></table><ul><li><strong>설계는 SRP 원칙</strong>에 따라 역할 기반으로 구조화하고, <strong>외부와 내부 결합도 최소화</strong>해야 함</li><li><strong>확장성과 유연성</strong>을 위해 인터페이스 기반 + 전략 패턴/플러그인 구조 활용</li><li><strong>성능 병목, 오류 전파, 보안 취약</strong>을 방지하기 위해 <strong>비동기/분산 트레이싱/중앙 인증</strong> 등 운영 전략 수립 필요</li><li><strong>문서화 및 테스트 가능성</strong> 확보는 실무 유지보수성과 팀 협업 효율을 좌우함</li></ul><h3 id=최적화하기-위한-고려사항-및-주의할-점>최적화하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#최적화하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>최적화 항목</strong></th><th><strong>설명</strong></th><th><strong>권장사항</strong></th></tr></thead><tbody><tr><td><strong>성능 최적화</strong></td><td>지연 로딩 (Lazy Load)</td><td>서브시스템 객체를 사용 시점에 생성하여 초기 비용 절감</td><td>Lazy Initialization 패턴 적용, Factory + Proxy 패턴 결합</td></tr><tr><td></td><td>병렬 처리</td><td>독립적인 서브시스템 호출을 병렬로 실행하여 응답 시간 단축</td><td>비동기 프로그래밍, 멀티스레딩, 스레드풀 또는 <code>async/await</code> 활용</td></tr><tr><td></td><td>호출 최소화</td><td>반복적/불필요한 호출 최소화로 비용 및 지연 절감</td><td>벌크 오퍼레이션 (Batch), 캐싱, 집계 API 제공</td></tr><tr><td></td><td>계층 오버헤드</td><td>Facade 추가로 메서드 호출 스택이 깊어져 오버헤드 유발 가능</td><td>필요 시 서브시스템 직접 호출 허용, 최소 책임 단위로 분할</td></tr><tr><td><strong>리소스 관리</strong></td><td>메모리 사용량 관리</td><td>객체 과다 생성 방지 및 GC 유도</td><td>싱글톤, Flyweight 패턴, SoftReference 활용</td></tr><tr><td></td><td>커넥션/객체 풀링</td><td>반복적인 리소스 초기화 방지, 효율적 재사용</td><td>Connection Pool, Object Pool 적용</td></tr><tr><td><strong>캐싱 전략</strong></td><td>반복 작업 결과 캐싱</td><td>빈번한 결과 재사용으로 성능 향상</td><td>Redis/Memcached 등 활용, TTL 설정, 캐시 무효화 정책 수립</td></tr><tr><td><strong>네트워크 최적화</strong></td><td>요청 전송 최적화</td><td>원격 API 호출 시 전송량 및 대기 시간 최소화</td><td>요청 압축 (gzip), 데이터 최소화, GraphQL 활용</td></tr><tr><td></td><td>연결 재사용</td><td>HTTP 연결 또는 TCP 연결의 재사용을 통한 지연 감소</td><td>커넥션 풀 사용, Keep-Alive, 타임아웃 설정</td></tr><tr><td><strong>예외/안정성</strong></td><td>예외 처리 분리</td><td>모든 예외를 포괄하면 문제 분석 어려움</td><td>예외 분류 및 위임 처리, 의미 있는 메시지 제공</td></tr><tr><td></td><td>병목 및 단일 장애 지점</td><td>Facade 에 모든 로직 집중 시 단일 실패점 가능</td><td>로드밸런싱, 서브 Facade 분리, Circuit Breaker 도입</td></tr><tr><td><strong>로깅/모니터링</strong></td><td>통합 로그 및 추적</td><td>Facade 호출 흐름 추적, 문제 진단을 위한 가시성 확보</td><td>APM 도구 (Jaeger, Zipkin), Correlation ID, 로그 구조화</td></tr><tr><td><strong>테스트 자동화</strong></td><td>조합 테스트 가능성</td><td>다양한 서브시스템 조합 테스트의 어려움</td><td>Mock 객체 활용, Facade 레벨의 단위/통합 테스트 자동화</td></tr><tr><td><strong>설계 전략</strong></td><td>Facade 분할/모듈화</td><td>하나의 Facade 에 많은 책임이 집중되면 복잡성 증가</td><td>도메인/기능별 분할, 하위 Facade 계층화</td></tr><tr><td><strong>전략적 패턴 결합</strong></td><td>패턴 조합 최적화</td><td>비동기, Flyweight, 전략 패턴 등과 조합하여 복잡도 최소화 및 유연성 강화</td><td>상황에 따라 Decorator/Proxy/Composite 패턴 적용 고려</td></tr></tbody></table><ul><li><strong>성능 측면</strong>: Lazy Load + 병렬 실행 + 캐싱을 기반으로 최소 호출 및 비동기화</li><li><strong>리소스 측면</strong>: 커넥션/객체 풀링으로 리소스 누수 방지, GC 최적화</li><li><strong>네트워크/트레이싱</strong>: 압축/연결 재사용 + 통합 로깅/분산 추적으로 전체 시스템 투명성 확보</li><li><strong>설계 확장성</strong>: 역할 기반 모듈화 + 테스트 자동화를 통해 실무 적용성과 유지보수성 확보</li></ul><h3 id=주제와-관련하여-주목할-내용>주제와 관련하여 주목할 내용<a hidden class=anchor aria-hidden=true href=#주제와-관련하여-주목할-내용>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>주제</strong></th><th><strong>항목</strong></th><th><strong>설명</strong></th></tr></thead><tbody><tr><td><strong>설계 원칙 및 패턴</strong></td><td>구조 패턴</td><td>Facade</td><td>복잡한 시스템을 단순한 인터페이스로 감싸서 제공</td></tr><tr><td></td><td>비교 패턴</td><td>Adapter / Proxy / Decorator</td><td>구조는 유사하지만 목적 (호환성 / 접근제어 / 기능확장) 이 서로 다름</td></tr><tr><td></td><td>단일 책임 원칙 (SRP)</td><td>책임 분리</td><td>하나의 퍼사드는 한 종류의 기능만 감싸야 하며, 변경 이유도 하나여야 함</td></tr><tr><td></td><td>개방 - 폐쇄 원칙 (OCP)</td><td>기능 확장 시 영향 최소화</td><td>서브시스템 수정 없이 Facade 단에서 확장 처리 가능</td></tr><tr><td></td><td>디미터 법칙</td><td>최소 지식 원칙</td><td>클라이언트는 서브시스템 세부 구현을 몰라도 동작 가능</td></tr><tr><td><strong>아키텍처 적용</strong></td><td>마이크로서비스</td><td>API Gateway / BFF 구조</td><td>마이크로서비스에서 단일 진입점으로 동작하며 클라이언트 종속 로직 추상화</td></tr><tr><td></td><td>레이어드 아키텍처</td><td>서비스 계층 Facade</td><td>계층 간 역할 분리 및 복잡한 도메인 로직 캡슐화</td></tr><tr><td></td><td>클라우드 아키텍처</td><td>클라우드 추상화 Facade</td><td>멀티 클라우드 환경에서 특정 서비스 종속성을 숨기고 통합된 API 제공</td></tr><tr><td></td><td>서비스 메시</td><td>인프라 간 통신 추상화</td><td>메시 기반 시스템에서 통신 계층을 감싼 퍼사드 구현 가능</td></tr><tr><td><strong>기술 스택 및 응용</strong></td><td>프레임워크</td><td>Spring Boot / Express.js</td><td>퍼사드 구현에 적합한 프레임워크로 DI, API 구성이 용이</td></tr><tr><td></td><td>오픈 API & 문서화</td><td>OpenAPI</td><td>REST 기반 퍼사드에서 문서 자동화 및 검증에 활용 가능</td></tr><tr><td></td><td>보안 대응</td><td>GDPR / CCPA 대응 Facade</td><td>민감 정보 추상화, 마스킹, 필터링 기능 포함한 퍼사드 구조</td></tr><tr><td><strong>테스트 및 유지보수</strong></td><td>테스트 전략</td><td>Mocking / 단위 테스트</td><td>서브시스템을 분리한 채로 퍼사드 자체 테스트 가능</td></tr><tr><td></td><td>유지보수성</td><td>Facade 수정만으로 영향 최소화</td><td>시스템 변경 시 클라이언트 변경 없이 대응 가능</td></tr><tr><td></td><td>확장성</td><td>기능 추가 시 영향 최소화</td><td>내부 구조 변경 없이 퍼사드만 확장 가능</td></tr><tr><td><strong>운영 및 DevOps</strong></td><td>성능 모니터링</td><td>APM / 로그 수집 통합</td><td>퍼사드 경로 중심으로 모니터링 및 성능 분석 용이</td></tr><tr><td></td><td>DevOps 통합</td><td>CI/CD 자동화</td><td>퍼사드 기준으로 테스트 및 배포 파이프라인 구성 가능</td></tr><tr><td></td><td>캐시 & 로깅</td><td>프록시형 퍼사드 구현 가능</td><td>요청 캐싱, 로깅, 인증 처리 등 프록시 기능을 Facade 내 포함 가능</td></tr><tr><td><strong>AI 및 프론트엔드 연계</strong></td><td>AI 시스템 통합</td><td>AI Facade</td><td>복잡한 AI 시스템을 감싸 사용성을 높이는 API 추상화 제공</td></tr><tr><td></td><td>프론트엔드 최적화</td><td>상태 관리 Facade</td><td>상태 로직을 컴포넌트 외부에서 관리하여 프론트엔드 복잡도 감소</td></tr><tr><td></td><td>코드 생성 도구</td><td>AI 기반 코드 자동화</td><td>퍼사드 코드 자동 생성/보일러플레이트 제거</td></tr></tbody></table><h3 id=추가로-학습해야할-내용>추가로 학습해야할 내용<a hidden class=anchor aria-hidden=true href=#추가로-학습해야할-내용>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>주제</strong></th><th><strong>설명</strong></th></tr></thead><tbody><tr><td><strong>1. 관련 디자인 패턴</strong></td><td>Adapter Pattern</td><td>기존 인터페이스를 클라이언트에 맞게 변환하며, 기존 코드 재사용을 목적으로 함</td></tr><tr><td></td><td>Proxy Pattern</td><td>객체 접근을 제어하는 대리 객체 제공. 보안, 성능, 로깅 목적에 주로 사용</td></tr><tr><td></td><td>Mediator Pattern</td><td>객체 간 통신을 중재하는 중앙 허브 역할. Facade 와 달리 양방향 통신과 이벤트 중심 구조에 적합</td></tr><tr><td></td><td>Builder Pattern</td><td>복잡한 객체 생성 로직을 캡슐화하며, Facade 와 결합하여 사용자 편의성 향상</td></tr><tr><td><strong>2. 소프트웨어 아키텍처</strong></td><td>Microservices Pattern</td><td>마이크로서비스 간 API Gateway 또는 BFF 형태로 Facade 가 활용됨</td></tr><tr><td></td><td>Layered Architecture</td><td>프레젠테이션 → 비즈니스 → 데이터 계층에서 계층 간 인터페이스로 Facade 적용</td></tr><tr><td></td><td>Event-Driven Architecture</td><td>이벤트 발행 - 구독 모델에서 이벤트 트리거에 대한 추상화 계층으로 사용됨</td></tr><tr><td></td><td>Hexagonal Architecture</td><td>포트/어댑터 구조에서 어댑터 계층에 Facade 를 배치하여 외부 시스템과 연결</td></tr><tr><td></td><td>Clean Architecture</td><td>비즈니스 로직 중심의 내부 → 외부 의존성 구조에서 진입점 인터페이스로 활용</td></tr><tr><td><strong>3. 기술 스택 적용</strong></td><td>Spring Framework</td><td><code>@Service</code>, <code>@Component</code> 를 이용한 Facade 계층 분리 구현 가능</td></tr><tr><td></td><td>Node.js / Express.js</td><td>라우터, 미들웨어를 조합하여 API Facade 형태 구현</td></tr><tr><td></td><td>GraphQL</td><td>GraphQL 스키마가 여러 서브시스템을 감추는 Facade 역할 수행 가능</td></tr><tr><td></td><td>Kubernetes + Ingress</td><td>Ingress Controller 가 외부 진입점 역할로 Facade 에 대응</td></tr><tr><td><strong>4. 실무 적용 및 설계</strong></td><td>BFF (Backend For Frontend)</td><td>프론트엔드 타입별 API 최적화를 위해 맞춤화된 Facade 구성</td></tr><tr><td></td><td>API Gateway</td><td>클라이언트 요청을 통합 처리하고 라우팅, 보안, 캐싱 등을 담당하는 고수준 인터페이스 구조</td></tr><tr><td></td><td>Mock Facade / 테스트 자동화</td><td>테스트 환경에서 실제 서브시스템을 대체할 수 있는 Mock Facade 설계 필요</td></tr><tr><td></td><td>결합도 최소화 / 유지보수성</td><td>클라이언트와 서브시스템의 변경을 Facade 내부에 캡슐화하여 유지보수성 향상</td></tr><tr><td></td><td>Facade 진입점 분리 설계</td><td>대형 시스템에서 기능별 Facade 모듈화 및 책임 분리</td></tr><tr><td><strong>5. 성능 및 보안 고려</strong></td><td>Caching / Redis</td><td>자주 호출되는 Facade 경로에 캐싱 계층 적용으로 응답 속도 개선</td></tr><tr><td></td><td>Rate Limiting / Throttling</td><td>API 보안 및 성능 보존을 위한 트래픽 제어 기법 Facade 에 통합</td></tr><tr><td></td><td>Load Balancing</td><td>Facade 계층에서 백엔드 호출 분산 처리 구조 적용</td></tr><tr><td></td><td>Circuit Breaker</td><td>서브시스템 장애 전파 방지를 위해 Facade 가 회로 차단자 역할 수행</td></tr><tr><td></td><td>Performance Monitoring / APM</td><td>Facade 의 병목 및 장애 탐지를 위한 성능 모니터링 적용</td></tr><tr><td><strong>6. 필수 이론 및 개념</strong></td><td>GoF Design Patterns</td><td>Facade 포함 23 가지 객체지향 설계 패턴 이해</td></tr><tr><td></td><td>SOLID / ISP 원칙</td><td>Interface Segregation 원칙 준수를 통해 Facade 의 과도한 책임 방지</td></tr><tr><td></td><td>REST API / OAuth2</td><td>Facade API 보안 설계 시 REST, 인증 토큰, 인가 흐름 고려</td></tr><tr><td></td><td>트랜잭션 / CQRS / Event Sourcing</td><td>복잡한 트랜잭션 분리 및 이벤트 흐름을 감추는 API Facade 설계 가능</td></tr><tr><td></td><td>Domain-Driven Design (DDD)</td><td>바운디드 컨텍스트 내에서 Facade 를 통해 도메인 로직 외부 노출 제한</td></tr></tbody></table><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td><strong>설계 패턴</strong></td><td>Facade Pattern</td><td>복잡한 서브시스템을 단순화된 고수준 인터페이스로 감싸는 구조 패턴</td></tr><tr><td></td><td>Subsystem</td><td>복잡한 기능을 담당하는 내부 클래스 또는 모듈들의 집합</td></tr><tr><td></td><td>Client</td><td>Facade 를 통해 서브시스템을 사용하는 외부 객체</td></tr><tr><td><strong>설계 원칙</strong></td><td>SRP (단일 책임 원칙)</td><td>클래스는 하나의 책임만 가져야 하며 변경 사유는 하나뿐이어야 한다</td></tr><tr><td></td><td>위임 (Delegation)</td><td>작업을 다른 객체에게 위임하여 책임을 분산하는 메커니즘</td></tr><tr><td></td><td>캡슐화 (Encapsulation)</td><td>내부 구현을 외부로부터 숨기고 인터페이스만 제공하는 정보 은닉 기법</td></tr><tr><td></td><td>최소 지식 원칙 (Law of Demeter)</td><td>객체는 자신과 직접 연관된 객체만 알아야 한다는 결합도 최소화 원칙</td></tr><tr><td></td><td>결합도 (Coupling)</td><td>객체 또는 모듈 간 의존 관계의 강도. 낮을수록 유지보수와 확장에 유리함</td></tr><tr><td></td><td>느슨한 결합 (Loose Coupling)</td><td>모듈 간 의존성을 최소화하여 변경에 유연하게 대응할 수 있는 설계</td></tr><tr><td><strong>아키텍처</strong></td><td>API Gateway</td><td>마이크로서비스 외부 요청을 수렴하는 단일 진입점 컴포넌트</td></tr><tr><td></td><td>BFF (Backend For Frontend)</td><td>프론트엔드 유형별 맞춤화된 백엔드 계층으로 클라이언트 요구를 추상화함</td></tr><tr><td></td><td>서비스 메시 (Service Mesh)</td><td>마이크로서비스 간 통신을 위한 인프라 계층. 보안, 라우팅, 모니터링을 담당</td></tr><tr><td></td><td>바운디드 컨텍스트 (Bounded Context)</td><td>DDD 에서 모델이 의미를 가지는 책임 있는 경계 영역</td></tr><tr><td></td><td>분산 추적 (Distributed Tracing)</td><td>마이크로서비스 아키텍처에서 요청 흐름 전체를 추적하는 관찰성 기술</td></tr><tr><td><strong>기술 구현</strong></td><td>캐싱 (Caching)</td><td>자주 사용되는 데이터를 저장하여 접근 속도와 성능을 향상시키는 기술</td></tr><tr><td></td><td>지연 로딩 (Lazy Loading)</td><td>실제 필요 시점까지 리소스 초기화를 미루는 최적화 기법</td></tr><tr><td></td><td>회로 차단기 (Circuit Breaker)</td><td>장애 발생 시 시스템 보호를 위한 트래픽 차단 기법</td></tr><tr><td></td><td>텔레메트리 (Telemetry)</td><td>원격 시스템 상태를 수집 및 모니터링하는 기술</td></tr><tr><td></td><td>의존성 주입 (Dependency Injection)</td><td>객체의 의존성을 외부에서 주입받아 결합도를 줄이는 기법</td></tr><tr><td></td><td>지연 초기화 (Lazy Initialization)</td><td>사용 시점까지 객체 생성을 지연하여 자원 효율화</td></tr><tr><td></td><td>불변 객체 (Immutable Object)</td><td>생성 이후 상태 변경이 불가능한 객체로, 스레드 안전성에 유리</td></tr><tr><td><strong>특수 응용</strong></td><td>AI 기반 Facade</td><td>복잡한 AI 파이프라인 또는 추론 로직을 감추고 단일 인터페이스로 제공하는 구조</td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><ul><li><a href=https://www.amazon.com/Design-Patterns-Elements-Reusable-Object-Oriented/dp/0201633612>Design Patterns: Elements of Reusable Object-Oriented Software</a></li><li><a href=https://refactoring.guru/design-patterns/facade>Refactoring.Guru - Facade Pattern</a></li><li><a href=https://docs.microsoft.com/en-us/azure/architecture/patterns/facade>Microsoft Docs - Facade Pattern</a></li><li><a href=https://martinfowler.com/articles/gateway-pattern.html>Martin Fowler&rsquo;s Blog - Gateway Pattern</a></li><li><a href=https://spring.io/guides>Spring Framework Documentation</a></li><li><a href=https://www.geeksforgeeks.org/facade-design-pattern-introduction/>GeeksforGeeks - Facade Method Design Pattern</a></li><li><a href=https://www.tutorialspoint.com/design_pattern/facade_pattern.htm>TutorialsPoint - Facade Pattern</a></li><li><a href=https://en.wikipedia.org/wiki/Facade_pattern>Facade pattern - Wikipedia</a></li><li><a href=https://www.gofpattern.com/structural/patterns/facade-pattern.php>The Facade Pattern: Role and Function in Structural Patterns - GofPatterns</a></li><li><a href=https://www.baeldung.com/java-facade-pattern>Facade pattern in Java - Baeldung</a></li><li><a href=https://www.geeksforgeeks.org/facade-method-python-design-patterns/>Facade Method Design Pattern in Python - GeeksforGeeks</a></li><li><a href=https://www.geeksforgeeks.org/facade-design-patterns-javascript-design-pattern/>Facade Design Pattern in JavaScript - GeeksforGeeks</a></li><li><a href=https://dev.to/ared/simplifying-complex-systems-the-facade-pattern-explained-3lf5>Simplifying Complex Systems: The Facade Pattern Explained - DEV Community</a></li><li><a href=https://dev.to/kwnaidoo/facade-design-pattern-what-is-it-and-why-is-it-useful-32gn>Facade design pattern. What is it and why is it useful? - Dev.to</a></li></ul><hr></div></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>