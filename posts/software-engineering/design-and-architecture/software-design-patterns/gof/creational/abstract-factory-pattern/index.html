<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Abstract Factory Pattern | hyunyoun's Blog</title><meta name=keywords content="Software-Engineering,Design-and-Architecture,Software-Design-Patterns,GoF,Creational,Abstract-Factory-Pattern,Abstract-Factory"><meta name=description content="Abstract Factory Pattern 은 관련된 객체들의 패밀리를 구체적인 클래스를 명시하지 않고 생성할 수 있게 하는 생성형 디자인 패턴이다. 제품군의 일관성을 보장하며, 시스템의 독립성과 확장성을 제공하여 다양한 플랫폼이나 환경에서 동일한 인터페이스로 서로 다른 구현체를 생성할 수 있게 한다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/gof/creational/abstract-factory-pattern/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/gof/creational/abstract-factory-pattern/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/gof/creational/abstract-factory-pattern/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/gof/creational/abstract-factory-pattern/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Abstract Factory Pattern"><meta property="og:description" content="Abstract Factory Pattern 은 관련된 객체들의 패밀리를 구체적인 클래스를 명시하지 않고 생성할 수 있게 하는 생성형 디자인 패턴이다. 제품군의 일관성을 보장하며, 시스템의 독립성과 확장성을 제공하여 다양한 플랫폼이나 환경에서 동일한 인터페이스로 서로 다른 구현체를 생성할 수 있게 한다."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Abstract Factory Pattern"><meta name=twitter:description content="Abstract Factory Pattern 은 관련된 객체들의 패밀리를 구체적인 클래스를 명시하지 않고 생성할 수 있게 하는 생성형 디자인 패턴이다. 제품군의 일관성을 보장하며, 시스템의 독립성과 확장성을 제공하여 다양한 플랫폼이나 환경에서 동일한 인터페이스로 서로 다른 구현체를 생성할 수 있게 한다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Computer Science and Engineering","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Software Engineering","item":"https://buenhyden.github.io/posts/software-engineering/"},{"@type":"ListItem","position":3,"name":"Design and Architecture","item":""},{"@type":"ListItem","position":4,"name":"Software Design Patterns","item":""},{"@type":"ListItem","position":5,"name":"GoF","item":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/gof/"},{"@type":"ListItem","position":6,"name":"Creational","item":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/gof/creational/"},{"@type":"ListItem","position":7,"name":"Abstract Factory Pattern","item":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/gof/creational/abstract-factory-pattern/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>Computer Science and Engineering</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-engineering/>Software Engineering</a>&nbsp;»&nbsp;<a href>Design and Architecture</a>&nbsp;»&nbsp;<a href>Software Design Patterns</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/gof/>GoF</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/gof/creational/>Creational</a></div><h1>Abstract Factory Pattern</h1><div class=post-description>Abstract Factory Pattern 은 관련된 객체들의 패밀리를 구체적인 클래스를 명시하지 않고 생성할 수 있게 하는 생성형 디자인 패턴이다. 제품군의 일관성을 보장하며, 시스템의 독립성과 확장성을 제공하여 다양한 플랫폼이나 환경에서 동일한 인터페이스로 서로 다른 구현체를 생성할 수 있게 한다.</div></header><div class=post-content><h2 id=abstract-factory-pattern>Abstract Factory Pattern<a hidden class=anchor aria-hidden=true href=#abstract-factory-pattern>#</a></h2><p>Abstract Factory Pattern 는 관련 객체들의 계열 (Product Family) 생성을 추상화하는 패턴으로, 클라이언트는 구체 클래스에 의존하지 않고 팩토리 인터페이스에만 의존해 객체를 생성한다. Abstract Factory 와 Concrete Factory, Abstract Product 와 Concrete Product, Client 로 구성되며, 클라이언트는 Abstract Factory 에 팩토리 구현체를 주입받아 원하는 제품 계열을 생성할 수 있다. 이는 제품 간 일관성 유지, 다양한 제품군 전환, 테스트 유연성 향상 등에 강점을 제공한다.</p><h3 id=핵심-개념>핵심 개념<a hidden class=anchor aria-hidden=true href=#핵심-개념>#</a></h3><p>Abstract Factory Pattern(추상 팩토리 패턴) 은 관련된 객체들의 집합을 구체 클래스를 지정하지 않고 생성할 수 있는 인터페이스를 제공하는 생성 패턴이다.</p><h4 id=기본-개념>기본 개념<a hidden class=anchor aria-hidden=true href=#기본-개념>#</a></h4><ol><li><strong>추상 팩토리 (Abstract Factory)</strong>: 관련 객체들의 패밀리를 생성하는 인터페이스</li><li><strong>구체 팩토리 (Concrete Factory)</strong>: 특정 제품군을 생성하는 구현체</li><li><strong>추상 제품 (Abstract Product)</strong>: 제품들의 공통 인터페이스</li><li><strong>구체 제품 (Concrete Product)</strong>: 실제 생성되는 객체들</li><li><strong>제품군 (Product Family)</strong>: 함께 사용되도록 설계된 관련 객체들의 집합</li><li><strong>클라이언트 (Client)</strong>: 팩토리를 통해 객체를 사용하는 코드</li><li><strong>클라이언트 분리</strong>: 구체적인 구현부로부터 독립적인 클라이언트 코드</li></ol><h4 id=심화-개념>심화 개념<a hidden class=anchor aria-hidden=true href=#심화-개념>#</a></h4><ul><li><strong>팩토리의 팩토리</strong>: 여러 팩토리를 관리하는 상위 수준의 추상화</li><li><strong>제품 일관성 (Product Consistency)</strong>: 같은 패밀리 내 객체들의 호환성 보장</li><li><strong>런타임 구성</strong>: 실행 시점에서의 동적 팩토리 선택</li><li><strong>확장성 캡슐화</strong>: 새로운 제품군 추가 시 기존 코드 변경 최소화</li></ul><h4 id=의도-intent>의도 (Intent)<a hidden class=anchor aria-hidden=true href=#의도-intent>#</a></h4><p>구체 클래스를 지정하지 않고, 관련된 객체들의 집합 (제품군) 을 생성할 수 있는 인터페이스를 제공하되, 구체적인 클래스는 명시하지 않는다.</p><h4 id=다른-이름-also-known-as>다른 이름 (Also Known As)<a hidden class=anchor aria-hidden=true href=#다른-이름-also-known-as>#</a></h4><ul><li>Kit Pattern</li><li>Family Factory Pattern</li><li>Toolkit Pattern</li></ul><h4 id=동기-motivation--forces>동기 (Motivation / Forces)<a hidden class=anchor aria-hidden=true href=#동기-motivation--forces>#</a></h4><ul><li><strong>제품군 일관성</strong>: 관련된 제품들이 함께 사용되어야 하는 제약</li><li><strong>플랫폼 독립성</strong>: 다양한 환경에서 동일한 인터페이스 제공 필요</li><li><strong>확장성 요구</strong>: 새로운 제품군 추가 시 기존 코드 영향 최소화</li><li><strong>구현 은닉</strong>: 클라이언트가 구체적인 구현에 의존하지 않도록 하는 필요성</li></ul><h4 id=적용-가능성-applicability>적용 가능성 (Applicability)<a hidden class=anchor aria-hidden=true href=#적용-가능성-applicability>#</a></h4><ol><li><strong>시스템 독립성</strong>: 객체 생성, 구성, 표현 방식과 무관한 시스템 구축</li><li><strong>제품군 선택</strong>: 여러 제품군 중 하나를 선택하여 시스템 구성</li><li><strong>제품 일관성</strong>: 관련 제품들이 함께 사용되도록 제약 적용</li><li><strong>라이브러리 제공</strong>: 구현이 아닌 인터페이스만 노출하는 라이브러리</li></ol><h4 id=패턴이-해결하고자-하는-설계-문제>패턴이 해결하고자 하는 설계 문제<a hidden class=anchor aria-hidden=true href=#패턴이-해결하고자-하는-설계-문제>#</a></h4><ol><li><strong>플랫폼 종속성</strong>: 특정 플랫폼에 종속된 객체 생성 로직</li><li><strong>제품군 불일치</strong>: 서로 다른 제품군의 객체들이 혼재하여 사용되는 문제</li><li><strong>확장성 부족</strong>: 새로운 제품군 추가 시 기존 코드의 광범위한 수정</li><li><strong>객체 생성 복잡성</strong>: 관련 객체들의 복잡한 생성 과정과 의존성</li></ol><h4 id=협력-collaboration>협력 (Collaboration)<a hidden class=anchor aria-hidden=true href=#협력-collaboration>#</a></h4><ul><li><strong>런타임 인스턴스</strong>: ConcreteFactory 클래스의 인스턴스가 런타임에 생성</li><li><strong>제품 생성</strong>: 구체적 팩토리가 특정 구현을 갖는 제품 객체 생성</li><li><strong>팩토리 선택</strong>: 서로 다른 제품 객체를 위해 다른 구체적 팩토리 사용</li><li><strong>책임 위임</strong>: AbstractFactory 가 제품 생성 책임을 ConcreteFactory 에 위임</li></ul><h4 id=실무-구현-연관성>실무 구현 연관성<a hidden class=anchor aria-hidden=true href=#실무-구현-연관성>#</a></h4><p>핵심 개념들이 실무 구현과 연결되는 측면:</p><ul><li><strong>인터페이스 분리 원칙 (Interface Segregation Principle)</strong>: 각 제품군별로 독립적인 인터페이스 제공</li><li><strong>의존성 역전 원칙 (Dependency Inversion Principle)</strong>: 구체 클래스가 아닌 추상화에 의존</li><li><strong>개방 - 폐쇄 원칙 (Open-Closed Principle)</strong>: 새로운 제품군 추가 시 기존 코드 수정 불필요</li><li><strong>단일 책임 원칙 (Single Responsibility Principle)</strong>: 각 팩토리는 하나의 제품군만 담당</li></ul><h3 id=배경>배경<a hidden class=anchor aria-hidden=true href=#배경>#</a></h3><p>객체 지향 시스템에서 관련 객체들의 패밀리를 생성해야 할 때, 구체적인 클래스를 명시하면 코드가 환경에 종속되고 확장성이 떨어짐. 이를 해결하기 위해 객체 생성 로직을 추상화하는 패턴이 필요해짐.</p><h3 id=목적-및-필요성>목적 및 필요성<a hidden class=anchor aria-hidden=true href=#목적-및-필요성>#</a></h3><ul><li><strong>제품군의 일관성 보장</strong>: 관련된 객체들이 함께 사용될 수 있도록 보장</li><li><strong>플랫폼 독립성</strong>: 다양한 플랫폼에서 동일한 인터페이스로 서로 다른 구현 제공</li><li><strong>확장성</strong>: 새로운 제품군 추가 시 기존 코드 수정 최소화</li><li><strong>의존성 분리</strong>: 클라이언트 코드와 구체적인 구현 간의 결합도 감소</li></ul><h3 id=주요-기능-및-역할>주요 기능 및 역할<a hidden class=anchor aria-hidden=true href=#주요-기능-및-역할>#</a></h3><h4 id=기능>기능<a hidden class=anchor aria-hidden=true href=#기능>#</a></h4><ol><li><strong>객체 생성 캡슐화</strong>: 객체 생성 과정을 캡슐화하여 클라이언트로부터 숨김</li><li><strong>제품군 일관성 보장</strong>: 동일한 제품군 내의 객체들만 함께 사용되도록 보장</li><li><strong>런타임 제품군 교체</strong>: 실행 중에 사용할 제품군을 변경 가능</li><li><strong>확장성 제공</strong>: 새로운 제품군 추가 시 기존 코드 수정 최소화</li></ol><h4 id=역할>역할<a hidden class=anchor aria-hidden=true href=#역할>#</a></h4><ul><li><strong>AbstractFactory</strong>: 제품 생성 메서드들의 인터페이스 정의</li><li><strong>ConcreteFactory</strong>: 특정 제품군의 객체들을 실제로 생성</li><li><strong>AbstractProduct</strong>: 제품들의 공통 인터페이스 정의</li><li><strong>ConcreteProduct</strong>: 실제 제품 객체들의 구현</li><li><strong>Client</strong>: 팩토리와 제품 인터페이스만 사용하여 비즈니스 로직 수행</li></ul><h3 id=특징>특징<a hidden class=anchor aria-hidden=true href=#특징>#</a></h3><ul><li><strong>인터페이스 기반</strong>: 모든 상호작용이 추상 인터페이스를 통해 이루어짐</li><li><strong>제품군 단위 생성</strong>: 개별 객체가 아닌 관련 객체들의 집합을 생성</li><li><strong>런타임 결정</strong>: 실행 시점에 구체적인 팩토리 결정</li><li><strong>확장 가능</strong>: 새로운 제품군 추가가 용이</li></ul><h3 id=핵심-원칙>핵심 원칙<a hidden class=anchor aria-hidden=true href=#핵심-원칙>#</a></h3><ol><li><strong>추상화 원칙</strong>: 구체적인 구현보다는 추상 인터페이스에 의존</li><li><strong>캡슐화 원칙</strong>: 객체 생성 과정을 팩토리 내부에 숨김</li><li><strong>일관성 원칙</strong>: 동일한 제품군 내의 객체들만 함께 사용</li><li><strong>확장성 원칙</strong>: 기존 코드 수정 없이 새로운 기능 추가 가능</li></ol><h4 id=solid-원칙의-관계>SOLID 원칙의 관계<a hidden class=anchor aria-hidden=true href=#solid-원칙의-관계>#</a></h4><table><thead><tr><th>원칙</th><th>적용 예시</th></tr></thead><tbody><tr><td>SRP (Single Responsibility Principle)</td><td>각 팩토리는 생성 책임만 수행</td></tr><tr><td>OCP (Open/Closed Principle)</td><td>새로운 팩토리 추가 시 기존 클라이언트 변경 불필요</td></tr><tr><td>DIP (Dependency Inversion Principle)</td><td>클라이언트는 추상 팩토리 인터페이스에 의존</td></tr><tr><td>ISP (Interface Segregation Principle)</td><td>팩토리 인터페이스는 제품군 단위로 분리 가능</td></tr><tr><td>LSP (Liskov Substitution Principle)</td><td>추상 팩토리 대체에 있어 기능 보장 가능</td></tr></tbody></table><h3 id=주요-원리>주요 원리<a hidden class=anchor aria-hidden=true href=#주요-원리>#</a></h3><ol><li>클라이언트는 AbstractFactory 인터페이스를 통해 객체 생성</li><li>구체 팩토리 (ConcreteFactory) 는 제품군별 객체를 생성해 반환</li><li>클라이언트는 추상 제품 타입만 사용하며, 구체 클래스는 몰라도 됨</li><li>제품군 교체 시 ConcreteFactory 만 교체하면 됨</li></ol><h4 id=참여자들-간의-상호작용-방식>참여자들 간의 상호작용 방식<a hidden class=anchor aria-hidden=true href=#참여자들-간의-상호작용-방식>#</a></h4><pre class=mermaid>graph LR
    A[Client Request] --&gt; B{Factory Selection}
    B --&gt; C[Windows Factory]
    B --&gt; D[macOS Factory]
    B --&gt; E[Linux Factory]
    C --&gt; F[Windows Products]
    D --&gt; G[macOS Products]
    E --&gt; H[Linux Products]
    F --&gt; I[Client Usage]
    G --&gt; I
    H --&gt; I
    I --&gt; J[Consistent Interface]
</pre><p><strong>상호작용 패턴:</strong></p><ol><li><strong>초기화 단계</strong>: 환경 감지 후 적절한 팩토리 선택</li><li><strong>생성 단계</strong>: 팩토리를 통한 관련 제품들의 일괄 생성</li><li><strong>사용 단계</strong>: 추상 인터페이스를 통한 제품 조작</li><li><strong>교체 단계</strong>: 필요시 다른 팩토리로 전환</li></ol><h4 id=문제를-해결하기-위한-설계-구조와-관계>문제를 해결하기 위한 설계 구조와 관계<a hidden class=anchor aria-hidden=true href=#문제를-해결하기-위한-설계-구조와-관계>#</a></h4><pre class=mermaid>sequenceDiagram
    participant Client
    participant AbstractFactory
    participant ConcreteFactory
    participant AbstractProduct
    participant ConcreteProduct

    Client-&gt;&gt;AbstractFactory: getFactory()
    AbstractFactory--&gt;&gt;ConcreteFactory: returns instance
    Client-&gt;&gt;ConcreteFactory: createProduct()
    ConcreteFactory--&gt;&gt;ConcreteProduct: instantiate
    ConcreteProduct--&gt;&gt;Client: returns as AbstractProduct
    Client-&gt;&gt;AbstractProduct: use()
</pre><p><strong>설계 구조의 핵심 관계:</strong></p><ul><li><strong>위임 관계</strong>: 클라이언트가 구체적 생성을 팩토리에 위임</li><li><strong>상속 관계</strong>: 구체적 팩토리가 추상 팩토리를 상속하여 구현</li><li><strong>구현 관계</strong>: 구체적 제품이 추상 제품 인터페이스를 구현</li><li><strong>조합 관계</strong>: 팩토리가 여러 관련 제품들을 함께 생성</li></ul><h4 id=작동-메커니즘>작동 메커니즘<a hidden class=anchor aria-hidden=true href=#작동-메커니즘>#</a></h4><pre class=mermaid>sequenceDiagram
    participant Client
    participant AbstractFactory
    participant ConcreteFactoryA
    participant ConcreteProductA1
    participant ConcreteProductA2
    participant ConcreteFactoryB
    participant ConcreteProductB1
    participant ConcreteProductB2
    
    Note over Client: 팩토리 선택 및 초기화
    Client-&gt;&gt;ConcreteFactoryA: new ConcreteFactoryA()
    ConcreteFactoryA--&gt;&gt;Client: ConcreteFactoryA 인스턴스
    
    Note over Client: 제품군 A의 제품들 생성
    Client-&gt;&gt;ConcreteFactoryA: createProductType1()
    ConcreteFactoryA-&gt;&gt;ConcreteProductA1: new ConcreteProductA1()
    ConcreteProductA1--&gt;&gt;ConcreteFactoryA: ConcreteProductA1 인스턴스
    ConcreteFactoryA--&gt;&gt;Client: ProductType1 인터페이스로 반환
    
    Client-&gt;&gt;ConcreteFactoryA: createProductType2()
    ConcreteFactoryA-&gt;&gt;ConcreteProductA2: new ConcreteProductA2()
    ConcreteProductA2--&gt;&gt;ConcreteFactoryA: ConcreteProductA2 인스턴스
    ConcreteFactoryA--&gt;&gt;Client: ProductType2 인터페이스로 반환
    
    Note over Client: 다른 제품군으로 전환
    Client-&gt;&gt;ConcreteFactoryB: new ConcreteFactoryB()
    ConcreteFactoryB--&gt;&gt;Client: ConcreteFactoryB 인스턴스
    
    Note over Client: 제품군 B의 제품들 생성
    Client-&gt;&gt;ConcreteFactoryB: createProductType1()
    ConcreteFactoryB-&gt;&gt;ConcreteProductB1: new ConcreteProductB1()
    ConcreteProductB1--&gt;&gt;ConcreteFactoryB: ConcreteProductB1 인스턴스
    ConcreteFactoryB--&gt;&gt;Client: ProductType1 인터페이스로 반환
    
    Client-&gt;&gt;ConcreteFactoryB: createProductType2()
    ConcreteFactoryB-&gt;&gt;ConcreteProductB2: new ConcreteProductB2()
    ConcreteProductB2--&gt;&gt;ConcreteFactoryB: ConcreteProductB2 인스턴스
    ConcreteFactoryB--&gt;&gt;Client: ProductType2 인터페이스로 반환
</pre><ul><li><strong>팩토리 선택</strong>: 클라이언트가 필요한 제품군에 맞는 구체 팩토리를 선택</li><li><strong>제품 생성 요청</strong>: 추상 인터페이스를 통해 제품 생성 메서드 호출</li><li><strong>구체 제품 생성</strong>: 각 팩토리가 자신의 제품군에 맞는 구체 제품들을 생성</li><li><strong>인터페이스 반환</strong>: 클라이언트에게는 추상 인터페이스로 제품을 반환</li></ul><h4 id=패턴-적용의-결과와-트레이드오프>패턴 적용의 결과와 트레이드오프<a hidden class=anchor aria-hidden=true href=#패턴-적용의-결과와-트레이드오프>#</a></h4><h5 id=긍정적-결과>긍정적 결과<a hidden class=anchor aria-hidden=true href=#긍정적-결과>#</a></h5><ul><li><strong>유연성 증가</strong>: 런타임에 제품군 교체 가능</li><li><strong>일관성 보장</strong>: 제품군 내 객체들의 호환성 확보</li><li><strong>확장성 향상</strong>: 새로운 제품군 추가가 기존 코드에 미치는 영향 최소화</li></ul><h5 id=트레이드오프>트레이드오프<a hidden class=anchor aria-hidden=true href=#트레이드오프>#</a></h5><ul><li><strong>복잡성 vs 유연성</strong>: 코드 구조가 복잡해지지만 높은 유연성 획득</li><li><strong>초기 비용 vs 장기 이익</strong>: 초기 개발 시간이 증가하지만 유지보수성 향상</li><li><strong>성능 vs 추상화</strong>: 간접 호출로 인한 성능 오버헤드 vs 높은 추상화 수준</li></ul><h4 id=패턴에-참여하는-클래스와-객체들>패턴에 참여하는 클래스와 객체들<a hidden class=anchor aria-hidden=true href=#패턴에-참여하는-클래스와-객체들>#</a></h4><table><thead><tr><th>구성 요소</th><th>역할</th><th>책임</th><th>특징</th></tr></thead><tbody><tr><td><strong>AbstractFactory</strong></td><td>제품 생성 메서드들의 인터페이스 정의</td><td>제품군 생성의 계약 명시</td><td>제품군별 생성 메서드를 순수 가상 함수로 정의</td></tr><tr><td><strong>ConcreteFactory</strong></td><td>특정 제품군의 실제 생성 구현</td><td>관련 제품들 (Button, Checkbox 등) 의 일관된 생성</td><td>하나의 제품군에 특화되어 동작</td></tr><tr><td><strong>AbstractProduct</strong></td><td>제품의 공통 인터페이스 정의</td><td>제품 간의 표준 동작 정의</td><td>제품 타입별 (Button, Checkbox 등) 로 별도 정의</td></tr><tr><td><strong>ConcreteProduct</strong></td><td>실제 제품의 구현</td><td>추상 제품 인터페이스의 기능 구현, 플랫폼별 차별화 제공</td><td>특정 팩토리에서만 생성되며, 기능은 추상 제품을 기반으로 확장</td></tr><tr><td><strong>Client</strong></td><td>추상 인터페이스를 통해 제품을 사용</td><td>팩토리를 이용해 제품을 생성하고 비즈니스 로직 수행</td><td>구체적 팩토리/제품에 대한 의존 없이 추상화에만 의존</td></tr></tbody></table><h3 id=구현-기법>구현 기법<a hidden class=anchor aria-hidden=true href=#구현-기법>#</a></h3><table><thead><tr><th>구현 기법</th><th>정의</th><th>구성 요소</th><th>목적</th><th>실제 예시</th></tr></thead><tbody><tr><td>** 기본 구현 기법**</td><td>인터페이스 기반의 고정된 팩토리 클래스와 제품군 구조</td><td>추상 팩토리, 구체 팩토리, 제품 인터페이스, 구체 제품</td><td>제품군 간 일관된 생성 구조 제공</td><td>GUI 위젯 (MacButton, WinButton)</td></tr><tr><td>** 팩토리 등록 기법**</td><td>팩토리를 레지스트리에 등록하고, 조건에 따라 런타임에 팩토리를 선택</td><td>팩토리 맵, 등록 API, 조건 분기 로직</td><td>플러그인 구조, 런타임 확장성</td><td>JDBC 드라이버, 브라우저 플러그인</td></tr><tr><td>** 파라미터화된 팩토리**</td><td>파라미터 (키) 를 받아 하나의 팩토리 메서드에서 다양한 제품을 생성</td><td>조건문/딕셔너리, 제품 식별자, 단일 팩토리 메서드</td><td>코드 수 감소, 분기 로직 통합</td><td>몬스터 생성 팩토리, DB 커넥션 팩토리</td></tr><tr><td>** 싱글톤 팩토리**</td><td>팩토리를 애플리케이션 전역에서 하나만 생성하고 공유하는 구조</td><td>정적 인스턴스, getInstance(), 비공개 생성자</td><td>전역 상태 공유, 메모리 절감</td><td>LoggerFactory, ConfigFactory</td></tr><tr><td>** Reflection 기반 기법**</td><td>클래스명을 문자열로 받아 동적으로 팩토리 또는 제품 객체를 생성</td><td>클래스 매핑, <code>getattr()</code> 또는 <code>__import__()</code> 등</td><td>동적 생성, 제품 추가 시 코드 수정 최소화</td><td>Python 모듈 로딩, 자바의 Class.forName</td></tr><tr><td>** 프로토타입 기반 기법**</td><td>초기 템플릿 객체를 복제하여 새 객체 생성 (복잡한 객체 복사에 적합)</td><td>원형 객체, <code>copy()</code> 혹은 <code>.clone()</code> 메서드</td><td>복잡한 객체 복사 비용 절감</td><td>게임 캐릭터, UI 템플릿 복사</td></tr><tr><td><strong>DSL 기반 팩토리</strong></td><td>선언적 구성 (DSL) 으로 팩토리 로직 정의 후 런타임에 파싱하여 객체 생성</td><td>구성 파일 (JSON/YAML), 파서, 런타임 생성기</td><td>설정 기반 확장 가능, UI/워크플로우 제너레이터</td><td>템플릿 엔진, UI DSL (Flutter, Unity 등)</td></tr></tbody></table><h4 id=기본-구현-기법-standard>기본 구현 기법 (Standard)<a hidden class=anchor aria-hidden=true href=#기본-구현-기법-standard>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span><span class=lnt id=hl-3-12><a class=lnlinks href=#hl-3-12>12</a>
</span><span class=lnt id=hl-3-13><a class=lnlinks href=#hl-3-13>13</a>
</span><span class=lnt id=hl-3-14><a class=lnlinks href=#hl-3-14>14</a>
</span><span class=lnt id=hl-3-15><a class=lnlinks href=#hl-3-15>15</a>
</span><span class=lnt id=hl-3-16><a class=lnlinks href=#hl-3-16>16</a>
</span><span class=lnt id=hl-3-17><a class=lnlinks href=#hl-3-17>17</a>
</span><span class=lnt id=hl-3-18><a class=lnlinks href=#hl-3-18>18</a>
</span><span class=lnt id=hl-3-19><a class=lnlinks href=#hl-3-19>19</a>
</span><span class=lnt id=hl-3-20><a class=lnlinks href=#hl-3-20>20</a>
</span><span class=lnt id=hl-3-21><a class=lnlinks href=#hl-3-21>21</a>
</span><span class=lnt id=hl-3-22><a class=lnlinks href=#hl-3-22>22</a>
</span><span class=lnt id=hl-3-23><a class=lnlinks href=#hl-3-23>23</a>
</span><span class=lnt id=hl-3-24><a class=lnlinks href=#hl-3-24>24</a>
</span><span class=lnt id=hl-3-25><a class=lnlinks href=#hl-3-25>25</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Abstract Factory</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>UIFactory</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_button</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=k>pass</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_checkbox</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Concrete Factory</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MacUIFactory</span><span class=p>(</span><span class=n>UIFactory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_button</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=k>return</span> <span class=n>MacButton</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_checkbox</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=k>return</span> <span class=n>MacCheckbox</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Abstract Products</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Button</span><span class=p>:</span> <span class=k>pass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Checkbox</span><span class=p>:</span> <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Concrete Products</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MacButton</span><span class=p>(</span><span class=n>Button</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>render</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Mac Button&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MacCheckbox</span><span class=p>(</span><span class=n>Checkbox</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>render</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Mac Checkbox&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Client</span>
</span></span><span class=line><span class=cl><span class=n>factory</span> <span class=o>=</span> <span class=n>MacUIFactory</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>btn</span> <span class=o>=</span> <span class=n>factory</span><span class=o>.</span><span class=n>create_button</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>btn</span><span class=o>.</span><span class=n>render</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=팩토리-등록-기법-registry>팩토리 등록 기법 (Registry)<a hidden class=anchor aria-hidden=true href=#팩토리-등록-기법-registry>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1> 1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2> 2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3> 3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4> 4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5> 5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6> 6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7> 7</a>
</span><span class=lnt id=hl-4-8><a class=lnlinks href=#hl-4-8> 8</a>
</span><span class=lnt id=hl-4-9><a class=lnlinks href=#hl-4-9> 9</a>
</span><span class=lnt id=hl-4-10><a class=lnlinks href=#hl-4-10>10</a>
</span><span class=lnt id=hl-4-11><a class=lnlinks href=#hl-4-11>11</a>
</span><span class=lnt id=hl-4-12><a class=lnlinks href=#hl-4-12>12</a>
</span><span class=lnt id=hl-4-13><a class=lnlinks href=#hl-4-13>13</a>
</span><span class=lnt id=hl-4-14><a class=lnlinks href=#hl-4-14>14</a>
</span><span class=lnt id=hl-4-15><a class=lnlinks href=#hl-4-15>15</a>
</span><span class=lnt id=hl-4-16><a class=lnlinks href=#hl-4-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>factory_registry</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>register_factory</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>factory_cls</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>factory_registry</span><span class=p>[</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=n>factory_cls</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>get_factory</span><span class=p>(</span><span class=n>name</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>factory_registry</span><span class=p>[</span><span class=n>name</span><span class=p>]()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 등록</span>
</span></span><span class=line><span class=cl><span class=n>register_factory</span><span class=p>(</span><span class=s2>&#34;mac&#34;</span><span class=p>,</span> <span class=n>MacUIFactory</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>register_factory</span><span class=p>(</span><span class=s2>&#34;win&#34;</span><span class=p>,</span> <span class=k>lambda</span><span class=p>:</span> <span class=n>WindowsUIFactory</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용</span>
</span></span><span class=line><span class=cl><span class=n>factory</span> <span class=o>=</span> <span class=n>get_factory</span><span class=p>(</span><span class=s2>&#34;mac&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>btn</span> <span class=o>=</span> <span class=n>factory</span><span class=o>.</span><span class=n>create_button</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>btn</span><span class=o>.</span><span class=n>render</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=파라미터화된-팩토리>파라미터화된 팩토리<a hidden class=anchor aria-hidden=true href=#파라미터화된-팩토리>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2>2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3>3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4>4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5>5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6>6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7>7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8>8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>UIFactory</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_component</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>component_type</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>component_type</span> <span class=o>==</span> <span class=s2>&#34;button&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>MacButton</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=n>component_type</span> <span class=o>==</span> <span class=s2>&#34;checkbox&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>MacCheckbox</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>factory</span> <span class=o>=</span> <span class=n>UIFactory</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>factory</span><span class=o>.</span><span class=n>create_component</span><span class=p>(</span><span class=s2>&#34;button&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>render</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=싱글톤-팩토리>싱글톤 팩토리<a hidden class=anchor aria-hidden=true href=#싱글톤-팩토리>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>ConfigFactory</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>_instance</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;env&#34;</span><span class=p>:</span> <span class=s2>&#34;production&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>config1</span> <span class=o>=</span> <span class=n>ConfigFactory</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>config2</span> <span class=o>=</span> <span class=n>ConfigFactory</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=k>assert</span> <span class=n>config1</span> <span class=ow>is</span> <span class=n>config2</span>  <span class=c1># 동일 인스턴스</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=리플렉션-기반>리플렉션 기반<a hidden class=anchor aria-hidden=true href=#리플렉션-기반>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2>2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3>3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4>4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5>5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6>6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7>7</a>
</span><span class=lnt id=hl-7-8><a class=lnlinks href=#hl-7-8>8</a>
</span><span class=lnt id=hl-7-9><a class=lnlinks href=#hl-7-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>MacButton</span><span class=p>:</span> <span class=k>pass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>WinButton</span><span class=p>:</span> <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>create_button</span><span class=p>(</span><span class=n>class_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=bp>cls</span> <span class=o>=</span> <span class=nb>globals</span><span class=p>()[</span><span class=n>class_name</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=bp>cls</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>btn</span> <span class=o>=</span> <span class=n>create_button</span><span class=p>(</span><span class=s2>&#34;MacButton&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>btn</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=프로토타입-기반-기법>프로토타입 기반 기법<a hidden class=anchor aria-hidden=true href=#프로토타입-기반-기법>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1>1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2>2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3>3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4>4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5>5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6>6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7>7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8>8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>copy</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Monster</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span> <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>clone</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=k>return</span> <span class=n>copy</span><span class=o>.</span><span class=n>deepcopy</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>base_monster</span> <span class=o>=</span> <span class=n>Monster</span><span class=p>(</span><span class=s2>&#34;Orc&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>monster1</span> <span class=o>=</span> <span class=n>base_monster</span><span class=o>.</span><span class=n>clone</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>monster1</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=dsl-기반-팩토리>DSL 기반 팩토리<a hidden class=anchor aria-hidden=true href=#dsl-기반-팩토리>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11>11</a>
</span><span class=lnt id=hl-9-12><a class=lnlinks href=#hl-9-12>12</a>
</span><span class=lnt id=hl-9-13><a class=lnlinks href=#hl-9-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># config.json = {&#34;ui_type&#34;: &#34;mac&#34;}</span>
</span></span><span class=line><span class=cl><span class=n>config</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=s1>&#39;{&#34;ui_type&#34;: &#34;mac&#34;}&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>factory_from_config</span><span class=p>(</span><span class=n>conf</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>conf</span><span class=p>[</span><span class=s2>&#34;ui_type&#34;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&#34;mac&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>MacUIFactory</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>elif</span> <span class=n>conf</span><span class=p>[</span><span class=s2>&#34;ui_type&#34;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&#34;win&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>WindowsUIFactory</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>factory</span> <span class=o>=</span> <span class=n>factory_from_config</span><span class=p>(</span><span class=n>config</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>factory</span><span class=o>.</span><span class=n>create_button</span><span class=p>()</span><span class=o>.</span><span class=n>render</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=열거형-기반-팩토리-선택>열거형 기반 팩토리 선택<a hidden class=anchor aria-hidden=true href=#열거형-기반-팩토리-선택>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1> 1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2> 2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3> 3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4> 4</a>
</span><span class=lnt id=hl-10-5><a class=lnlinks href=#hl-10-5> 5</a>
</span><span class=lnt id=hl-10-6><a class=lnlinks href=#hl-10-6> 6</a>
</span><span class=lnt id=hl-10-7><a class=lnlinks href=#hl-10-7> 7</a>
</span><span class=lnt id=hl-10-8><a class=lnlinks href=#hl-10-8> 8</a>
</span><span class=lnt id=hl-10-9><a class=lnlinks href=#hl-10-9> 9</a>
</span><span class=lnt id=hl-10-10><a class=lnlinks href=#hl-10-10>10</a>
</span><span class=lnt id=hl-10-11><a class=lnlinks href=#hl-10-11>11</a>
</span><span class=lnt id=hl-10-12><a class=lnlinks href=#hl-10-12>12</a>
</span><span class=lnt id=hl-10-13><a class=lnlinks href=#hl-10-13>13</a>
</span><span class=lnt id=hl-10-14><a class=lnlinks href=#hl-10-14>14</a>
</span><span class=lnt id=hl-10-15><a class=lnlinks href=#hl-10-15>15</a>
</span><span class=lnt id=hl-10-16><a class=lnlinks href=#hl-10-16>16</a>
</span><span class=lnt id=hl-10-17><a class=lnlinks href=#hl-10-17>17</a>
</span><span class=lnt id=hl-10-18><a class=lnlinks href=#hl-10-18>18</a>
</span><span class=lnt id=hl-10-19><a class=lnlinks href=#hl-10-19>19</a>
</span><span class=lnt id=hl-10-20><a class=lnlinks href=#hl-10-20>20</a>
</span><span class=lnt id=hl-10-21><a class=lnlinks href=#hl-10-21>21</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>enum</span> <span class=kn>import</span> <span class=n>Enum</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PlatformType</span><span class=p>(</span><span class=n>Enum</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>WINDOWS</span> <span class=o>=</span> <span class=s2>&#34;windows&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>MACOS</span> <span class=o>=</span> <span class=s2>&#34;macos&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>LINUX</span> <span class=o>=</span> <span class=s2>&#34;linux&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>FactoryRegistry</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>_factories</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@classmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>register</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>platform</span><span class=p>:</span> <span class=n>PlatformType</span><span class=p>,</span> <span class=n>factory</span><span class=p>:</span> <span class=n>UIComponentFactory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>cls</span><span class=o>.</span><span class=n>_factories</span><span class=p>[</span><span class=n>platform</span><span class=p>]</span> <span class=o>=</span> <span class=n>factory</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@classmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_factory</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>platform</span><span class=p>:</span> <span class=n>PlatformType</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>UIComponentFactory</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_factories</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>platform</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Registration</span>
</span></span><span class=line><span class=cl><span class=n>FactoryRegistry</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=n>PlatformType</span><span class=o>.</span><span class=n>WINDOWS</span><span class=p>,</span> <span class=n>WindowsUIFactory</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=n>FactoryRegistry</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=n>PlatformType</span><span class=o>.</span><span class=n>MACOS</span><span class=p>,</span> <span class=n>MacOSUIFactory</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=설정-기반-팩토리-로딩>설정 기반 팩토리 로딩<a hidden class=anchor aria-hidden=true href=#설정-기반-팩토리-로딩>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1> 1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2> 2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3> 3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4> 4</a>
</span><span class=lnt id=hl-11-5><a class=lnlinks href=#hl-11-5> 5</a>
</span><span class=lnt id=hl-11-6><a class=lnlinks href=#hl-11-6> 6</a>
</span><span class=lnt id=hl-11-7><a class=lnlinks href=#hl-11-7> 7</a>
</span><span class=lnt id=hl-11-8><a class=lnlinks href=#hl-11-8> 8</a>
</span><span class=lnt id=hl-11-9><a class=lnlinks href=#hl-11-9> 9</a>
</span><span class=lnt id=hl-11-10><a class=lnlinks href=#hl-11-10>10</a>
</span><span class=lnt id=hl-11-11><a class=lnlinks href=#hl-11-11>11</a>
</span><span class=lnt id=hl-11-12><a class=lnlinks href=#hl-11-12>12</a>
</span><span class=lnt id=hl-11-13><a class=lnlinks href=#hl-11-13>13</a>
</span><span class=lnt id=hl-11-14><a class=lnlinks href=#hl-11-14>14</a>
</span><span class=lnt id=hl-11-15><a class=lnlinks href=#hl-11-15>15</a>
</span><span class=lnt id=hl-11-16><a class=lnlinks href=#hl-11-16>16</a>
</span><span class=lnt id=hl-11-17><a class=lnlinks href=#hl-11-17>17</a>
</span><span class=lnt id=hl-11-18><a class=lnlinks href=#hl-11-18>18</a>
</span><span class=lnt id=hl-11-19><a class=lnlinks href=#hl-11-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Dict</span><span class=p>,</span> <span class=n>Any</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ConfigurableFactory</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>config_file</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>config_file</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_factory</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>UIComponentFactory</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>factory_type</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;ui_factory_type&#39;</span><span class=p>,</span> <span class=s1>&#39;default&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>factory_map</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;windows&#39;</span><span class=p>:</span> <span class=n>WindowsUIFactory</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;macos&#39;</span><span class=p>:</span> <span class=n>MacOSUIFactory</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;cross_platform&#39;</span><span class=p>:</span> <span class=n>CrossPlatformUIFactory</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>factory_class</span> <span class=o>=</span> <span class=n>factory_map</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>factory_type</span><span class=p>,</span> <span class=n>WindowsUIFactory</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>factory_class</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=유사하거나-관련된-패턴들>유사하거나 관련된 패턴들<a hidden class=anchor aria-hidden=true href=#유사하거나-관련된-패턴들>#</a></h3><table><thead><tr><th>구분</th><th>패턴</th><th>관계 타입</th><th>설명</th><th>주요 차이점</th><th>조합 시나리오</th></tr></thead><tbody><tr><td>객체 생성</td><td>Factory Method</td><td>협력/구성 관계</td><td>Abstract Factory 의 구성 요소로 활용</td><td>단일 제품 vs 제품군 생성</td><td>Abstract Factory 내부에서 Factory Method 패턴 사용</td></tr><tr><td>객체 생성/조립</td><td>Builder</td><td>협력/조합 관계</td><td>복잡한 제품 생성 시 함께 사용</td><td>제품군 선택 vs 제품 조립</td><td>GUI 프레임워크에서 컴포넌트 생성 및 조립</td></tr><tr><td>객체 생성/관리</td><td>Prototype</td><td>협력/대체 관계</td><td>팩토리 내부에서 복제 기반 생성</td><td>새 인스턴스 vs 복제 기반 생성</td><td>비용이 큰 객체의 효율적 생성</td></tr><tr><td>객체 생명주기</td><td>Singleton</td><td>협력/보완 관계</td><td>팩토리 인스턴스의 유일성 보장</td><td>다중 인스턴스 vs 단일 인스턴스</td><td>전역 팩토리 접근점 제공</td></tr><tr><td>인터페이스 단순화</td><td>Facade</td><td>대안/경쟁 관계</td><td>간단한 객체 생성 시 대안</td><td>복잡한 제품군 vs 단순 인터페이스</td><td>서브시스템 객체 생성 단순화</td></tr></tbody></table><h4 id=factory-method>Factory Method<a hidden class=anchor aria-hidden=true href=#factory-method>#</a></h4><p>Abstract Factory 는 여러 Factory Method 들의 집합으로 구현되며, 각 제품 생성 메서드가 Factory Method 패턴을 따른다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1> 1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2> 2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3> 3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4> 4</a>
</span><span class=lnt id=hl-12-5><a class=lnlinks href=#hl-12-5> 5</a>
</span><span class=lnt id=hl-12-6><a class=lnlinks href=#hl-12-6> 6</a>
</span><span class=lnt id=hl-12-7><a class=lnlinks href=#hl-12-7> 7</a>
</span><span class=lnt id=hl-12-8><a class=lnlinks href=#hl-12-8> 8</a>
</span><span class=lnt id=hl-12-9><a class=lnlinks href=#hl-12-9> 9</a>
</span><span class=lnt id=hl-12-10><a class=lnlinks href=#hl-12-10>10</a>
</span><span class=lnt id=hl-12-11><a class=lnlinks href=#hl-12-11>11</a>
</span><span class=lnt id=hl-12-12><a class=lnlinks href=#hl-12-12>12</a>
</span><span class=lnt id=hl-12-13><a class=lnlinks href=#hl-12-13>13</a>
</span><span class=lnt id=hl-12-14><a class=lnlinks href=#hl-12-14>14</a>
</span><span class=lnt id=hl-12-15><a class=lnlinks href=#hl-12-15>15</a>
</span><span class=lnt id=hl-12-16><a class=lnlinks href=#hl-12-16>16</a>
</span><span class=lnt id=hl-12-17><a class=lnlinks href=#hl-12-17>17</a>
</span><span class=lnt id=hl-12-18><a class=lnlinks href=#hl-12-18>18</a>
</span><span class=lnt id=hl-12-19><a class=lnlinks href=#hl-12-19>19</a>
</span><span class=lnt id=hl-12-20><a class=lnlinks href=#hl-12-20>20</a>
</span><span class=lnt id=hl-12-21><a class=lnlinks href=#hl-12-21>21</a>
</span><span class=lnt id=hl-12-22><a class=lnlinks href=#hl-12-22>22</a>
</span><span class=lnt id=hl-12-23><a class=lnlinks href=#hl-12-23>23</a>
</span><span class=lnt id=hl-12-24><a class=lnlinks href=#hl-12-24>24</a>
</span><span class=lnt id=hl-12-25><a class=lnlinks href=#hl-12-25>25</a>
</span><span class=lnt id=hl-12-26><a class=lnlinks href=#hl-12-26>26</a>
</span><span class=lnt id=hl-12-27><a class=lnlinks href=#hl-12-27>27</a>
</span><span class=lnt id=hl-12-28><a class=lnlinks href=#hl-12-28>28</a>
</span><span class=lnt id=hl-12-29><a class=lnlinks href=#hl-12-29>29</a>
</span><span class=lnt id=hl-12-30><a class=lnlinks href=#hl-12-30>30</a>
</span><span class=lnt id=hl-12-31><a class=lnlinks href=#hl-12-31>31</a>
</span><span class=lnt id=hl-12-32><a class=lnlinks href=#hl-12-32>32</a>
</span><span class=lnt id=hl-12-33><a class=lnlinks href=#hl-12-33>33</a>
</span><span class=lnt id=hl-12-34><a class=lnlinks href=#hl-12-34>34</a>
</span><span class=lnt id=hl-12-35><a class=lnlinks href=#hl-12-35>35</a>
</span><span class=lnt id=hl-12-36><a class=lnlinks href=#hl-12-36>36</a>
</span><span class=lnt id=hl-12-37><a class=lnlinks href=#hl-12-37>37</a>
</span><span class=lnt id=hl-12-38><a class=lnlinks href=#hl-12-38>38</a>
</span><span class=lnt id=hl-12-39><a class=lnlinks href=#hl-12-39>39</a>
</span><span class=lnt id=hl-12-40><a class=lnlinks href=#hl-12-40>40</a>
</span><span class=lnt id=hl-12-41><a class=lnlinks href=#hl-12-41>41</a>
</span><span class=lnt id=hl-12-42><a class=lnlinks href=#hl-12-42>42</a>
</span><span class=lnt id=hl-12-43><a class=lnlinks href=#hl-12-43>43</a>
</span><span class=lnt id=hl-12-44><a class=lnlinks href=#hl-12-44>44</a>
</span><span class=lnt id=hl-12-45><a class=lnlinks href=#hl-12-45>45</a>
</span><span class=lnt id=hl-12-46><a class=lnlinks href=#hl-12-46>46</a>
</span><span class=lnt id=hl-12-47><a class=lnlinks href=#hl-12-47>47</a>
</span><span class=lnt id=hl-12-48><a class=lnlinks href=#hl-12-48>48</a>
</span><span class=lnt id=hl-12-49><a class=lnlinks href=#hl-12-49>49</a>
</span><span class=lnt id=hl-12-50><a class=lnlinks href=#hl-12-50>50</a>
</span><span class=lnt id=hl-12-51><a class=lnlinks href=#hl-12-51>51</a>
</span><span class=lnt id=hl-12-52><a class=lnlinks href=#hl-12-52>52</a>
</span><span class=lnt id=hl-12-53><a class=lnlinks href=#hl-12-53>53</a>
</span><span class=lnt id=hl-12-54><a class=lnlinks href=#hl-12-54>54</a>
</span><span class=lnt id=hl-12-55><a class=lnlinks href=#hl-12-55>55</a>
</span><span class=lnt id=hl-12-56><a class=lnlinks href=#hl-12-56>56</a>
</span><span class=lnt id=hl-12-57><a class=lnlinks href=#hl-12-57>57</a>
</span><span class=lnt id=hl-12-58><a class=lnlinks href=#hl-12-58>58</a>
</span><span class=lnt id=hl-12-59><a class=lnlinks href=#hl-12-59>59</a>
</span><span class=lnt id=hl-12-60><a class=lnlinks href=#hl-12-60>60</a>
</span><span class=lnt id=hl-12-61><a class=lnlinks href=#hl-12-61>61</a>
</span><span class=lnt id=hl-12-62><a class=lnlinks href=#hl-12-62>62</a>
</span><span class=lnt id=hl-12-63><a class=lnlinks href=#hl-12-63>63</a>
</span><span class=lnt id=hl-12-64><a class=lnlinks href=#hl-12-64>64</a>
</span><span class=lnt id=hl-12-65><a class=lnlinks href=#hl-12-65>65</a>
</span><span class=lnt id=hl-12-66><a class=lnlinks href=#hl-12-66>66</a>
</span><span class=lnt id=hl-12-67><a class=lnlinks href=#hl-12-67>67</a>
</span><span class=lnt id=hl-12-68><a class=lnlinks href=#hl-12-68>68</a>
</span><span class=lnt id=hl-12-69><a class=lnlinks href=#hl-12-69>69</a>
</span><span class=lnt id=hl-12-70><a class=lnlinks href=#hl-12-70>70</a>
</span><span class=lnt id=hl-12-71><a class=lnlinks href=#hl-12-71>71</a>
</span><span class=lnt id=hl-12-72><a class=lnlinks href=#hl-12-72>72</a>
</span><span class=lnt id=hl-12-73><a class=lnlinks href=#hl-12-73>73</a>
</span><span class=lnt id=hl-12-74><a class=lnlinks href=#hl-12-74>74</a>
</span><span class=lnt id=hl-12-75><a class=lnlinks href=#hl-12-75>75</a>
</span><span class=lnt id=hl-12-76><a class=lnlinks href=#hl-12-76>76</a>
</span><span class=lnt id=hl-12-77><a class=lnlinks href=#hl-12-77>77</a>
</span><span class=lnt id=hl-12-78><a class=lnlinks href=#hl-12-78>78</a>
</span><span class=lnt id=hl-12-79><a class=lnlinks href=#hl-12-79>79</a>
</span><span class=lnt id=hl-12-80><a class=lnlinks href=#hl-12-80>80</a>
</span><span class=lnt id=hl-12-81><a class=lnlinks href=#hl-12-81>81</a>
</span><span class=lnt id=hl-12-82><a class=lnlinks href=#hl-12-82>82</a>
</span><span class=lnt id=hl-12-83><a class=lnlinks href=#hl-12-83>83</a>
</span><span class=lnt id=hl-12-84><a class=lnlinks href=#hl-12-84>84</a>
</span><span class=lnt id=hl-12-85><a class=lnlinks href=#hl-12-85>85</a>
</span><span class=lnt id=hl-12-86><a class=lnlinks href=#hl-12-86>86</a>
</span><span class=lnt id=hl-12-87><a class=lnlinks href=#hl-12-87>87</a>
</span><span class=lnt id=hl-12-88><a class=lnlinks href=#hl-12-88>88</a>
</span><span class=lnt id=hl-12-89><a class=lnlinks href=#hl-12-89>89</a>
</span><span class=lnt id=hl-12-90><a class=lnlinks href=#hl-12-90>90</a>
</span><span class=lnt id=hl-12-91><a class=lnlinks href=#hl-12-91>91</a>
</span><span class=lnt id=hl-12-92><a class=lnlinks href=#hl-12-92>92</a>
</span><span class=lnt id=hl-12-93><a class=lnlinks href=#hl-12-93>93</a>
</span><span class=lnt id=hl-12-94><a class=lnlinks href=#hl-12-94>94</a>
</span><span class=lnt id=hl-12-95><a class=lnlinks href=#hl-12-95>95</a>
</span><span class=lnt id=hl-12-96><a class=lnlinks href=#hl-12-96>96</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>abc</span> <span class=kn>import</span> <span class=n>ABC</span><span class=p>,</span> <span class=n>abstractmethod</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>List</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Abstract Products</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DatabaseConnection</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>connect</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DatabaseQuery</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>execute</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>sql</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Concrete Products - MySQL</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MySQLConnection</span><span class=p>(</span><span class=n>DatabaseConnection</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>connect</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;Connected to MySQL database&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MySQLQuery</span><span class=p>(</span><span class=n>DatabaseQuery</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>execute</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>sql</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;Executing MySQL query: </span><span class=si>{</span><span class=n>sql</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Concrete Products - PostgreSQL</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PostgreSQLConnection</span><span class=p>(</span><span class=n>DatabaseConnection</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>connect</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;Connected to PostgreSQL database&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PostgreSQLQuery</span><span class=p>(</span><span class=n>DatabaseQuery</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>execute</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>sql</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;Executing PostgreSQL query: </span><span class=si>{</span><span class=n>sql</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Abstract Factory using Factory Methods</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DatabaseFactory</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># Factory Method for Connection</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_connection</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>DatabaseConnection</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Factory Method for Query</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_query</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>DatabaseQuery</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Template Method using Factory Methods</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_database_toolkit</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;템플릿 메서드로 팩토리 메서드들을 조합&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;connection&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_connection</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;query&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_query</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Concrete Factories implementing Factory Methods</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MySQLFactory</span><span class=p>(</span><span class=n>DatabaseFactory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_connection</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>DatabaseConnection</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;Factory Method 구현&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Creating MySQL connection using Factory Method&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>MySQLConnection</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_query</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>DatabaseQuery</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;Factory Method 구현&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Creating MySQL query handler using Factory Method&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>MySQLQuery</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PostgreSQLFactory</span><span class=p>(</span><span class=n>DatabaseFactory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_connection</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>DatabaseConnection</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;Factory Method 구현&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Creating PostgreSQL connection using Factory Method&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>PostgreSQLConnection</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_query</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>DatabaseQuery</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;Factory Method 구현&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Creating PostgreSQL query handler using Factory Method&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>PostgreSQLQuery</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Usage Example</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>demonstrate_factory_method_relationship</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;=== Abstract Factory + Factory Method 협력 관계 ===&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># MySQL 팩토리 사용</span>
</span></span><span class=line><span class=cl>    <span class=n>mysql_factory</span> <span class=o>=</span> <span class=n>MySQLFactory</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>mysql_toolkit</span> <span class=o>=</span> <span class=n>mysql_factory</span><span class=o>.</span><span class=n>create_database_toolkit</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>mysql_toolkit</span><span class=p>[</span><span class=s1>&#39;connection&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>connect</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>mysql_toolkit</span><span class=p>[</span><span class=s1>&#39;query&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&#34;SELECT * FROM users&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span> <span class=o>+</span> <span class=s2>&#34;-&#34;</span><span class=o>*</span><span class=mi>50</span> <span class=o>+</span> <span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># PostgreSQL 팩토리 사용</span>
</span></span><span class=line><span class=cl>    <span class=n>postgres_factory</span> <span class=o>=</span> <span class=n>PostgreSQLFactory</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>postgres_toolkit</span> <span class=o>=</span> <span class=n>postgres_factory</span><span class=o>.</span><span class=n>create_database_toolkit</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>postgres_toolkit</span><span class=p>[</span><span class=s1>&#39;connection&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>connect</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>postgres_toolkit</span><span class=p>[</span><span class=s1>&#39;query&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&#34;SELECT * FROM products&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>demonstrate_factory_method_relationship</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>Abstract Factory 의 각 <code>create_*</code> 메서드가 Factory Method 패턴을 구현</li><li>템플릿 메서드 <code>create_database_toolkit()</code> 이 여러 Factory Method 를 조합하여 완전한 제품군 생성</li><li>각 구체적 팩토리에서 Factory Method 들을 오버라이드하여 특정 제품군 생성</li></ul><h4 id=prototype>Prototype<a hidden class=anchor aria-hidden=true href=#prototype>#</a></h4><p>Abstract Factory 에서 Prototype 을 사용하여 미리 구성된 객체들을 복제하는 방식으로 제품을 생성한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1>  1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2>  2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3>  3</a>
</span><span class=lnt id=hl-13-4><a class=lnlinks href=#hl-13-4>  4</a>
</span><span class=lnt id=hl-13-5><a class=lnlinks href=#hl-13-5>  5</a>
</span><span class=lnt id=hl-13-6><a class=lnlinks href=#hl-13-6>  6</a>
</span><span class=lnt id=hl-13-7><a class=lnlinks href=#hl-13-7>  7</a>
</span><span class=lnt id=hl-13-8><a class=lnlinks href=#hl-13-8>  8</a>
</span><span class=lnt id=hl-13-9><a class=lnlinks href=#hl-13-9>  9</a>
</span><span class=lnt id=hl-13-10><a class=lnlinks href=#hl-13-10> 10</a>
</span><span class=lnt id=hl-13-11><a class=lnlinks href=#hl-13-11> 11</a>
</span><span class=lnt id=hl-13-12><a class=lnlinks href=#hl-13-12> 12</a>
</span><span class=lnt id=hl-13-13><a class=lnlinks href=#hl-13-13> 13</a>
</span><span class=lnt id=hl-13-14><a class=lnlinks href=#hl-13-14> 14</a>
</span><span class=lnt id=hl-13-15><a class=lnlinks href=#hl-13-15> 15</a>
</span><span class=lnt id=hl-13-16><a class=lnlinks href=#hl-13-16> 16</a>
</span><span class=lnt id=hl-13-17><a class=lnlinks href=#hl-13-17> 17</a>
</span><span class=lnt id=hl-13-18><a class=lnlinks href=#hl-13-18> 18</a>
</span><span class=lnt id=hl-13-19><a class=lnlinks href=#hl-13-19> 19</a>
</span><span class=lnt id=hl-13-20><a class=lnlinks href=#hl-13-20> 20</a>
</span><span class=lnt id=hl-13-21><a class=lnlinks href=#hl-13-21> 21</a>
</span><span class=lnt id=hl-13-22><a class=lnlinks href=#hl-13-22> 22</a>
</span><span class=lnt id=hl-13-23><a class=lnlinks href=#hl-13-23> 23</a>
</span><span class=lnt id=hl-13-24><a class=lnlinks href=#hl-13-24> 24</a>
</span><span class=lnt id=hl-13-25><a class=lnlinks href=#hl-13-25> 25</a>
</span><span class=lnt id=hl-13-26><a class=lnlinks href=#hl-13-26> 26</a>
</span><span class=lnt id=hl-13-27><a class=lnlinks href=#hl-13-27> 27</a>
</span><span class=lnt id=hl-13-28><a class=lnlinks href=#hl-13-28> 28</a>
</span><span class=lnt id=hl-13-29><a class=lnlinks href=#hl-13-29> 29</a>
</span><span class=lnt id=hl-13-30><a class=lnlinks href=#hl-13-30> 30</a>
</span><span class=lnt id=hl-13-31><a class=lnlinks href=#hl-13-31> 31</a>
</span><span class=lnt id=hl-13-32><a class=lnlinks href=#hl-13-32> 32</a>
</span><span class=lnt id=hl-13-33><a class=lnlinks href=#hl-13-33> 33</a>
</span><span class=lnt id=hl-13-34><a class=lnlinks href=#hl-13-34> 34</a>
</span><span class=lnt id=hl-13-35><a class=lnlinks href=#hl-13-35> 35</a>
</span><span class=lnt id=hl-13-36><a class=lnlinks href=#hl-13-36> 36</a>
</span><span class=lnt id=hl-13-37><a class=lnlinks href=#hl-13-37> 37</a>
</span><span class=lnt id=hl-13-38><a class=lnlinks href=#hl-13-38> 38</a>
</span><span class=lnt id=hl-13-39><a class=lnlinks href=#hl-13-39> 39</a>
</span><span class=lnt id=hl-13-40><a class=lnlinks href=#hl-13-40> 40</a>
</span><span class=lnt id=hl-13-41><a class=lnlinks href=#hl-13-41> 41</a>
</span><span class=lnt id=hl-13-42><a class=lnlinks href=#hl-13-42> 42</a>
</span><span class=lnt id=hl-13-43><a class=lnlinks href=#hl-13-43> 43</a>
</span><span class=lnt id=hl-13-44><a class=lnlinks href=#hl-13-44> 44</a>
</span><span class=lnt id=hl-13-45><a class=lnlinks href=#hl-13-45> 45</a>
</span><span class=lnt id=hl-13-46><a class=lnlinks href=#hl-13-46> 46</a>
</span><span class=lnt id=hl-13-47><a class=lnlinks href=#hl-13-47> 47</a>
</span><span class=lnt id=hl-13-48><a class=lnlinks href=#hl-13-48> 48</a>
</span><span class=lnt id=hl-13-49><a class=lnlinks href=#hl-13-49> 49</a>
</span><span class=lnt id=hl-13-50><a class=lnlinks href=#hl-13-50> 50</a>
</span><span class=lnt id=hl-13-51><a class=lnlinks href=#hl-13-51> 51</a>
</span><span class=lnt id=hl-13-52><a class=lnlinks href=#hl-13-52> 52</a>
</span><span class=lnt id=hl-13-53><a class=lnlinks href=#hl-13-53> 53</a>
</span><span class=lnt id=hl-13-54><a class=lnlinks href=#hl-13-54> 54</a>
</span><span class=lnt id=hl-13-55><a class=lnlinks href=#hl-13-55> 55</a>
</span><span class=lnt id=hl-13-56><a class=lnlinks href=#hl-13-56> 56</a>
</span><span class=lnt id=hl-13-57><a class=lnlinks href=#hl-13-57> 57</a>
</span><span class=lnt id=hl-13-58><a class=lnlinks href=#hl-13-58> 58</a>
</span><span class=lnt id=hl-13-59><a class=lnlinks href=#hl-13-59> 59</a>
</span><span class=lnt id=hl-13-60><a class=lnlinks href=#hl-13-60> 60</a>
</span><span class=lnt id=hl-13-61><a class=lnlinks href=#hl-13-61> 61</a>
</span><span class=lnt id=hl-13-62><a class=lnlinks href=#hl-13-62> 62</a>
</span><span class=lnt id=hl-13-63><a class=lnlinks href=#hl-13-63> 63</a>
</span><span class=lnt id=hl-13-64><a class=lnlinks href=#hl-13-64> 64</a>
</span><span class=lnt id=hl-13-65><a class=lnlinks href=#hl-13-65> 65</a>
</span><span class=lnt id=hl-13-66><a class=lnlinks href=#hl-13-66> 66</a>
</span><span class=lnt id=hl-13-67><a class=lnlinks href=#hl-13-67> 67</a>
</span><span class=lnt id=hl-13-68><a class=lnlinks href=#hl-13-68> 68</a>
</span><span class=lnt id=hl-13-69><a class=lnlinks href=#hl-13-69> 69</a>
</span><span class=lnt id=hl-13-70><a class=lnlinks href=#hl-13-70> 70</a>
</span><span class=lnt id=hl-13-71><a class=lnlinks href=#hl-13-71> 71</a>
</span><span class=lnt id=hl-13-72><a class=lnlinks href=#hl-13-72> 72</a>
</span><span class=lnt id=hl-13-73><a class=lnlinks href=#hl-13-73> 73</a>
</span><span class=lnt id=hl-13-74><a class=lnlinks href=#hl-13-74> 74</a>
</span><span class=lnt id=hl-13-75><a class=lnlinks href=#hl-13-75> 75</a>
</span><span class=lnt id=hl-13-76><a class=lnlinks href=#hl-13-76> 76</a>
</span><span class=lnt id=hl-13-77><a class=lnlinks href=#hl-13-77> 77</a>
</span><span class=lnt id=hl-13-78><a class=lnlinks href=#hl-13-78> 78</a>
</span><span class=lnt id=hl-13-79><a class=lnlinks href=#hl-13-79> 79</a>
</span><span class=lnt id=hl-13-80><a class=lnlinks href=#hl-13-80> 80</a>
</span><span class=lnt id=hl-13-81><a class=lnlinks href=#hl-13-81> 81</a>
</span><span class=lnt id=hl-13-82><a class=lnlinks href=#hl-13-82> 82</a>
</span><span class=lnt id=hl-13-83><a class=lnlinks href=#hl-13-83> 83</a>
</span><span class=lnt id=hl-13-84><a class=lnlinks href=#hl-13-84> 84</a>
</span><span class=lnt id=hl-13-85><a class=lnlinks href=#hl-13-85> 85</a>
</span><span class=lnt id=hl-13-86><a class=lnlinks href=#hl-13-86> 86</a>
</span><span class=lnt id=hl-13-87><a class=lnlinks href=#hl-13-87> 87</a>
</span><span class=lnt id=hl-13-88><a class=lnlinks href=#hl-13-88> 88</a>
</span><span class=lnt id=hl-13-89><a class=lnlinks href=#hl-13-89> 89</a>
</span><span class=lnt id=hl-13-90><a class=lnlinks href=#hl-13-90> 90</a>
</span><span class=lnt id=hl-13-91><a class=lnlinks href=#hl-13-91> 91</a>
</span><span class=lnt id=hl-13-92><a class=lnlinks href=#hl-13-92> 92</a>
</span><span class=lnt id=hl-13-93><a class=lnlinks href=#hl-13-93> 93</a>
</span><span class=lnt id=hl-13-94><a class=lnlinks href=#hl-13-94> 94</a>
</span><span class=lnt id=hl-13-95><a class=lnlinks href=#hl-13-95> 95</a>
</span><span class=lnt id=hl-13-96><a class=lnlinks href=#hl-13-96> 96</a>
</span><span class=lnt id=hl-13-97><a class=lnlinks href=#hl-13-97> 97</a>
</span><span class=lnt id=hl-13-98><a class=lnlinks href=#hl-13-98> 98</a>
</span><span class=lnt id=hl-13-99><a class=lnlinks href=#hl-13-99> 99</a>
</span><span class=lnt id=hl-13-100><a class=lnlinks href=#hl-13-100>100</a>
</span><span class=lnt id=hl-13-101><a class=lnlinks href=#hl-13-101>101</a>
</span><span class=lnt id=hl-13-102><a class=lnlinks href=#hl-13-102>102</a>
</span><span class=lnt id=hl-13-103><a class=lnlinks href=#hl-13-103>103</a>
</span><span class=lnt id=hl-13-104><a class=lnlinks href=#hl-13-104>104</a>
</span><span class=lnt id=hl-13-105><a class=lnlinks href=#hl-13-105>105</a>
</span><span class=lnt id=hl-13-106><a class=lnlinks href=#hl-13-106>106</a>
</span><span class=lnt id=hl-13-107><a class=lnlinks href=#hl-13-107>107</a>
</span><span class=lnt id=hl-13-108><a class=lnlinks href=#hl-13-108>108</a>
</span><span class=lnt id=hl-13-109><a class=lnlinks href=#hl-13-109>109</a>
</span><span class=lnt id=hl-13-110><a class=lnlinks href=#hl-13-110>110</a>
</span><span class=lnt id=hl-13-111><a class=lnlinks href=#hl-13-111>111</a>
</span><span class=lnt id=hl-13-112><a class=lnlinks href=#hl-13-112>112</a>
</span><span class=lnt id=hl-13-113><a class=lnlinks href=#hl-13-113>113</a>
</span><span class=lnt id=hl-13-114><a class=lnlinks href=#hl-13-114>114</a>
</span><span class=lnt id=hl-13-115><a class=lnlinks href=#hl-13-115>115</a>
</span><span class=lnt id=hl-13-116><a class=lnlinks href=#hl-13-116>116</a>
</span><span class=lnt id=hl-13-117><a class=lnlinks href=#hl-13-117>117</a>
</span><span class=lnt id=hl-13-118><a class=lnlinks href=#hl-13-118>118</a>
</span><span class=lnt id=hl-13-119><a class=lnlinks href=#hl-13-119>119</a>
</span><span class=lnt id=hl-13-120><a class=lnlinks href=#hl-13-120>120</a>
</span><span class=lnt id=hl-13-121><a class=lnlinks href=#hl-13-121>121</a>
</span><span class=lnt id=hl-13-122><a class=lnlinks href=#hl-13-122>122</a>
</span><span class=lnt id=hl-13-123><a class=lnlinks href=#hl-13-123>123</a>
</span><span class=lnt id=hl-13-124><a class=lnlinks href=#hl-13-124>124</a>
</span><span class=lnt id=hl-13-125><a class=lnlinks href=#hl-13-125>125</a>
</span><span class=lnt id=hl-13-126><a class=lnlinks href=#hl-13-126>126</a>
</span><span class=lnt id=hl-13-127><a class=lnlinks href=#hl-13-127>127</a>
</span><span class=lnt id=hl-13-128><a class=lnlinks href=#hl-13-128>128</a>
</span><span class=lnt id=hl-13-129><a class=lnlinks href=#hl-13-129>129</a>
</span><span class=lnt id=hl-13-130><a class=lnlinks href=#hl-13-130>130</a>
</span><span class=lnt id=hl-13-131><a class=lnlinks href=#hl-13-131>131</a>
</span><span class=lnt id=hl-13-132><a class=lnlinks href=#hl-13-132>132</a>
</span><span class=lnt id=hl-13-133><a class=lnlinks href=#hl-13-133>133</a>
</span><span class=lnt id=hl-13-134><a class=lnlinks href=#hl-13-134>134</a>
</span><span class=lnt id=hl-13-135><a class=lnlinks href=#hl-13-135>135</a>
</span><span class=lnt id=hl-13-136><a class=lnlinks href=#hl-13-136>136</a>
</span><span class=lnt id=hl-13-137><a class=lnlinks href=#hl-13-137>137</a>
</span><span class=lnt id=hl-13-138><a class=lnlinks href=#hl-13-138>138</a>
</span><span class=lnt id=hl-13-139><a class=lnlinks href=#hl-13-139>139</a>
</span><span class=lnt id=hl-13-140><a class=lnlinks href=#hl-13-140>140</a>
</span><span class=lnt id=hl-13-141><a class=lnlinks href=#hl-13-141>141</a>
</span><span class=lnt id=hl-13-142><a class=lnlinks href=#hl-13-142>142</a>
</span><span class=lnt id=hl-13-143><a class=lnlinks href=#hl-13-143>143</a>
</span><span class=lnt id=hl-13-144><a class=lnlinks href=#hl-13-144>144</a>
</span><span class=lnt id=hl-13-145><a class=lnlinks href=#hl-13-145>145</a>
</span><span class=lnt id=hl-13-146><a class=lnlinks href=#hl-13-146>146</a>
</span><span class=lnt id=hl-13-147><a class=lnlinks href=#hl-13-147>147</a>
</span><span class=lnt id=hl-13-148><a class=lnlinks href=#hl-13-148>148</a>
</span><span class=lnt id=hl-13-149><a class=lnlinks href=#hl-13-149>149</a>
</span><span class=lnt id=hl-13-150><a class=lnlinks href=#hl-13-150>150</a>
</span><span class=lnt id=hl-13-151><a class=lnlinks href=#hl-13-151>151</a>
</span><span class=lnt id=hl-13-152><a class=lnlinks href=#hl-13-152>152</a>
</span><span class=lnt id=hl-13-153><a class=lnlinks href=#hl-13-153>153</a>
</span><span class=lnt id=hl-13-154><a class=lnlinks href=#hl-13-154>154</a>
</span><span class=lnt id=hl-13-155><a class=lnlinks href=#hl-13-155>155</a>
</span><span class=lnt id=hl-13-156><a class=lnlinks href=#hl-13-156>156</a>
</span><span class=lnt id=hl-13-157><a class=lnlinks href=#hl-13-157>157</a>
</span><span class=lnt id=hl-13-158><a class=lnlinks href=#hl-13-158>158</a>
</span><span class=lnt id=hl-13-159><a class=lnlinks href=#hl-13-159>159</a>
</span><span class=lnt id=hl-13-160><a class=lnlinks href=#hl-13-160>160</a>
</span><span class=lnt id=hl-13-161><a class=lnlinks href=#hl-13-161>161</a>
</span><span class=lnt id=hl-13-162><a class=lnlinks href=#hl-13-162>162</a>
</span><span class=lnt id=hl-13-163><a class=lnlinks href=#hl-13-163>163</a>
</span><span class=lnt id=hl-13-164><a class=lnlinks href=#hl-13-164>164</a>
</span><span class=lnt id=hl-13-165><a class=lnlinks href=#hl-13-165>165</a>
</span><span class=lnt id=hl-13-166><a class=lnlinks href=#hl-13-166>166</a>
</span><span class=lnt id=hl-13-167><a class=lnlinks href=#hl-13-167>167</a>
</span><span class=lnt id=hl-13-168><a class=lnlinks href=#hl-13-168>168</a>
</span><span class=lnt id=hl-13-169><a class=lnlinks href=#hl-13-169>169</a>
</span><span class=lnt id=hl-13-170><a class=lnlinks href=#hl-13-170>170</a>
</span><span class=lnt id=hl-13-171><a class=lnlinks href=#hl-13-171>171</a>
</span><span class=lnt id=hl-13-172><a class=lnlinks href=#hl-13-172>172</a>
</span><span class=lnt id=hl-13-173><a class=lnlinks href=#hl-13-173>173</a>
</span><span class=lnt id=hl-13-174><a class=lnlinks href=#hl-13-174>174</a>
</span><span class=lnt id=hl-13-175><a class=lnlinks href=#hl-13-175>175</a>
</span><span class=lnt id=hl-13-176><a class=lnlinks href=#hl-13-176>176</a>
</span><span class=lnt id=hl-13-177><a class=lnlinks href=#hl-13-177>177</a>
</span><span class=lnt id=hl-13-178><a class=lnlinks href=#hl-13-178>178</a>
</span><span class=lnt id=hl-13-179><a class=lnlinks href=#hl-13-179>179</a>
</span><span class=lnt id=hl-13-180><a class=lnlinks href=#hl-13-180>180</a>
</span><span class=lnt id=hl-13-181><a class=lnlinks href=#hl-13-181>181</a>
</span><span class=lnt id=hl-13-182><a class=lnlinks href=#hl-13-182>182</a>
</span><span class=lnt id=hl-13-183><a class=lnlinks href=#hl-13-183>183</a>
</span><span class=lnt id=hl-13-184><a class=lnlinks href=#hl-13-184>184</a>
</span><span class=lnt id=hl-13-185><a class=lnlinks href=#hl-13-185>185</a>
</span><span class=lnt id=hl-13-186><a class=lnlinks href=#hl-13-186>186</a>
</span><span class=lnt id=hl-13-187><a class=lnlinks href=#hl-13-187>187</a>
</span><span class=lnt id=hl-13-188><a class=lnlinks href=#hl-13-188>188</a>
</span><span class=lnt id=hl-13-189><a class=lnlinks href=#hl-13-189>189</a>
</span><span class=lnt id=hl-13-190><a class=lnlinks href=#hl-13-190>190</a>
</span><span class=lnt id=hl-13-191><a class=lnlinks href=#hl-13-191>191</a>
</span><span class=lnt id=hl-13-192><a class=lnlinks href=#hl-13-192>192</a>
</span><span class=lnt id=hl-13-193><a class=lnlinks href=#hl-13-193>193</a>
</span><span class=lnt id=hl-13-194><a class=lnlinks href=#hl-13-194>194</a>
</span><span class=lnt id=hl-13-195><a class=lnlinks href=#hl-13-195>195</a>
</span><span class=lnt id=hl-13-196><a class=lnlinks href=#hl-13-196>196</a>
</span><span class=lnt id=hl-13-197><a class=lnlinks href=#hl-13-197>197</a>
</span><span class=lnt id=hl-13-198><a class=lnlinks href=#hl-13-198>198</a>
</span><span class=lnt id=hl-13-199><a class=lnlinks href=#hl-13-199>199</a>
</span><span class=lnt id=hl-13-200><a class=lnlinks href=#hl-13-200>200</a>
</span><span class=lnt id=hl-13-201><a class=lnlinks href=#hl-13-201>201</a>
</span><span class=lnt id=hl-13-202><a class=lnlinks href=#hl-13-202>202</a>
</span><span class=lnt id=hl-13-203><a class=lnlinks href=#hl-13-203>203</a>
</span><span class=lnt id=hl-13-204><a class=lnlinks href=#hl-13-204>204</a>
</span><span class=lnt id=hl-13-205><a class=lnlinks href=#hl-13-205>205</a>
</span><span class=lnt id=hl-13-206><a class=lnlinks href=#hl-13-206>206</a>
</span><span class=lnt id=hl-13-207><a class=lnlinks href=#hl-13-207>207</a>
</span><span class=lnt id=hl-13-208><a class=lnlinks href=#hl-13-208>208</a>
</span><span class=lnt id=hl-13-209><a class=lnlinks href=#hl-13-209>209</a>
</span><span class=lnt id=hl-13-210><a class=lnlinks href=#hl-13-210>210</a>
</span><span class=lnt id=hl-13-211><a class=lnlinks href=#hl-13-211>211</a>
</span><span class=lnt id=hl-13-212><a class=lnlinks href=#hl-13-212>212</a>
</span><span class=lnt id=hl-13-213><a class=lnlinks href=#hl-13-213>213</a>
</span><span class=lnt id=hl-13-214><a class=lnlinks href=#hl-13-214>214</a>
</span><span class=lnt id=hl-13-215><a class=lnlinks href=#hl-13-215>215</a>
</span><span class=lnt id=hl-13-216><a class=lnlinks href=#hl-13-216>216</a>
</span><span class=lnt id=hl-13-217><a class=lnlinks href=#hl-13-217>217</a>
</span><span class=lnt id=hl-13-218><a class=lnlinks href=#hl-13-218>218</a>
</span><span class=lnt id=hl-13-219><a class=lnlinks href=#hl-13-219>219</a>
</span><span class=lnt id=hl-13-220><a class=lnlinks href=#hl-13-220>220</a>
</span><span class=lnt id=hl-13-221><a class=lnlinks href=#hl-13-221>221</a>
</span><span class=lnt id=hl-13-222><a class=lnlinks href=#hl-13-222>222</a>
</span><span class=lnt id=hl-13-223><a class=lnlinks href=#hl-13-223>223</a>
</span><span class=lnt id=hl-13-224><a class=lnlinks href=#hl-13-224>224</a>
</span><span class=lnt id=hl-13-225><a class=lnlinks href=#hl-13-225>225</a>
</span><span class=lnt id=hl-13-226><a class=lnlinks href=#hl-13-226>226</a>
</span><span class=lnt id=hl-13-227><a class=lnlinks href=#hl-13-227>227</a>
</span><span class=lnt id=hl-13-228><a class=lnlinks href=#hl-13-228>228</a>
</span><span class=lnt id=hl-13-229><a class=lnlinks href=#hl-13-229>229</a>
</span><span class=lnt id=hl-13-230><a class=lnlinks href=#hl-13-230>230</a>
</span><span class=lnt id=hl-13-231><a class=lnlinks href=#hl-13-231>231</a>
</span><span class=lnt id=hl-13-232><a class=lnlinks href=#hl-13-232>232</a>
</span><span class=lnt id=hl-13-233><a class=lnlinks href=#hl-13-233>233</a>
</span><span class=lnt id=hl-13-234><a class=lnlinks href=#hl-13-234>234</a>
</span><span class=lnt id=hl-13-235><a class=lnlinks href=#hl-13-235>235</a>
</span><span class=lnt id=hl-13-236><a class=lnlinks href=#hl-13-236>236</a>
</span><span class=lnt id=hl-13-237><a class=lnlinks href=#hl-13-237>237</a>
</span><span class=lnt id=hl-13-238><a class=lnlinks href=#hl-13-238>238</a>
</span><span class=lnt id=hl-13-239><a class=lnlinks href=#hl-13-239>239</a>
</span><span class=lnt id=hl-13-240><a class=lnlinks href=#hl-13-240>240</a>
</span><span class=lnt id=hl-13-241><a class=lnlinks href=#hl-13-241>241</a>
</span><span class=lnt id=hl-13-242><a class=lnlinks href=#hl-13-242>242</a>
</span><span class=lnt id=hl-13-243><a class=lnlinks href=#hl-13-243>243</a>
</span><span class=lnt id=hl-13-244><a class=lnlinks href=#hl-13-244>244</a>
</span><span class=lnt id=hl-13-245><a class=lnlinks href=#hl-13-245>245</a>
</span><span class=lnt id=hl-13-246><a class=lnlinks href=#hl-13-246>246</a>
</span><span class=lnt id=hl-13-247><a class=lnlinks href=#hl-13-247>247</a>
</span><span class=lnt id=hl-13-248><a class=lnlinks href=#hl-13-248>248</a>
</span><span class=lnt id=hl-13-249><a class=lnlinks href=#hl-13-249>249</a>
</span><span class=lnt id=hl-13-250><a class=lnlinks href=#hl-13-250>250</a>
</span><span class=lnt id=hl-13-251><a class=lnlinks href=#hl-13-251>251</a>
</span><span class=lnt id=hl-13-252><a class=lnlinks href=#hl-13-252>252</a>
</span><span class=lnt id=hl-13-253><a class=lnlinks href=#hl-13-253>253</a>
</span><span class=lnt id=hl-13-254><a class=lnlinks href=#hl-13-254>254</a>
</span><span class=lnt id=hl-13-255><a class=lnlinks href=#hl-13-255>255</a>
</span><span class=lnt id=hl-13-256><a class=lnlinks href=#hl-13-256>256</a>
</span><span class=lnt id=hl-13-257><a class=lnlinks href=#hl-13-257>257</a>
</span><span class=lnt id=hl-13-258><a class=lnlinks href=#hl-13-258>258</a>
</span><span class=lnt id=hl-13-259><a class=lnlinks href=#hl-13-259>259</a>
</span><span class=lnt id=hl-13-260><a class=lnlinks href=#hl-13-260>260</a>
</span><span class=lnt id=hl-13-261><a class=lnlinks href=#hl-13-261>261</a>
</span><span class=lnt id=hl-13-262><a class=lnlinks href=#hl-13-262>262</a>
</span><span class=lnt id=hl-13-263><a class=lnlinks href=#hl-13-263>263</a>
</span><span class=lnt id=hl-13-264><a class=lnlinks href=#hl-13-264>264</a>
</span><span class=lnt id=hl-13-265><a class=lnlinks href=#hl-13-265>265</a>
</span><span class=lnt id=hl-13-266><a class=lnlinks href=#hl-13-266>266</a>
</span><span class=lnt id=hl-13-267><a class=lnlinks href=#hl-13-267>267</a>
</span><span class=lnt id=hl-13-268><a class=lnlinks href=#hl-13-268>268</a>
</span><span class=lnt id=hl-13-269><a class=lnlinks href=#hl-13-269>269</a>
</span><span class=lnt id=hl-13-270><a class=lnlinks href=#hl-13-270>270</a>
</span><span class=lnt id=hl-13-271><a class=lnlinks href=#hl-13-271>271</a>
</span><span class=lnt id=hl-13-272><a class=lnlinks href=#hl-13-272>272</a>
</span><span class=lnt id=hl-13-273><a class=lnlinks href=#hl-13-273>273</a>
</span><span class=lnt id=hl-13-274><a class=lnlinks href=#hl-13-274>274</a>
</span><span class=lnt id=hl-13-275><a class=lnlinks href=#hl-13-275>275</a>
</span><span class=lnt id=hl-13-276><a class=lnlinks href=#hl-13-276>276</a>
</span><span class=lnt id=hl-13-277><a class=lnlinks href=#hl-13-277>277</a>
</span><span class=lnt id=hl-13-278><a class=lnlinks href=#hl-13-278>278</a>
</span><span class=lnt id=hl-13-279><a class=lnlinks href=#hl-13-279>279</a>
</span><span class=lnt id=hl-13-280><a class=lnlinks href=#hl-13-280>280</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>copy</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>abc</span> <span class=kn>import</span> <span class=n>ABC</span><span class=p>,</span> <span class=n>abstractmethod</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Dict</span><span class=p>,</span> <span class=n>Any</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Prototype Interface</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Prototype</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>clone</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;Prototype&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Concrete Products implementing Prototype</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>UITheme</span><span class=p>(</span><span class=n>Prototype</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>primary_color</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>secondary_color</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>font_family</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>primary_color</span> <span class=o>=</span> <span class=n>primary_color</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>secondary_color</span> <span class=o>=</span> <span class=n>secondary_color</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>font_family</span> <span class=o>=</span> <span class=n>font_family</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>custom_properties</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>clone</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;UITheme&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;Deep copy를 통한 프로토타입 복제&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>cloned</span> <span class=o>=</span> <span class=n>UITheme</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>primary_color</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>secondary_color</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>font_family</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>cloned</span><span class=o>.</span><span class=n>custom_properties</span> <span class=o>=</span> <span class=n>copy</span><span class=o>.</span><span class=n>deepcopy</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>custom_properties</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>cloned</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>customize</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;복제된 객체의 커스터마이징&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=nb>setattr</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>custom_properties</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;Theme: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> (</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>primary_color</span><span class=si>}</span><span class=s2>/</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>secondary_color</span><span class=si>}</span><span class=s2>)&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>UIComponent</span><span class=p>(</span><span class=n>Prototype</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>component_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>width</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>height</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>component_type</span> <span class=o>=</span> <span class=n>component_type</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>width</span> <span class=o>=</span> <span class=n>width</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>height</span> <span class=o>=</span> <span class=n>height</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>style_properties</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>clone</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;UIComponent&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;Shallow copy로 충분한 경우의 프로토타입 복제&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>cloned</span> <span class=o>=</span> <span class=n>UIComponent</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>component_type</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>width</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>height</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>cloned</span><span class=o>.</span><span class=n>style_properties</span> <span class=o>=</span> <span class=n>copy</span><span class=o>.</span><span class=n>copy</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>style_properties</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>cloned</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>apply_theme</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>theme</span><span class=p>:</span> <span class=n>UITheme</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;테마 적용&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>style_properties</span><span class=o>.</span><span class=n>update</span><span class=p>({</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;primary_color&#39;</span><span class=p>:</span> <span class=n>theme</span><span class=o>.</span><span class=n>primary_color</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;secondary_color&#39;</span><span class=p>:</span> <span class=n>theme</span><span class=o>.</span><span class=n>secondary_color</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;font_family&#39;</span><span class=p>:</span> <span class=n>theme</span><span class=o>.</span><span class=n>font_family</span>
</span></span><span class=line><span class=cl>        <span class=p>})</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>component_type</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>width</span><span class=si>}</span><span class=s2>x</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>height</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Prototype Registry</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PrototypeRegistry</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_prototypes</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Prototype</span><span class=p>]</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>register</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>prototype</span><span class=p>:</span> <span class=n>Prototype</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;프로토타입 등록&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_prototypes</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>prototype</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Prototype</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;등록된 프로토타입으로부터 복제 생성&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>prototype</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_prototypes</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>prototype</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>prototype</span><span class=o>.</span><span class=n>clone</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Prototype with key &#39;</span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>&#39; not found&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Abstract Factory using Prototypes</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>UIComponentFactory</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>theme_registry</span> <span class=o>=</span> <span class=n>PrototypeRegistry</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>component_registry</span> <span class=o>=</span> <span class=n>PrototypeRegistry</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_initialize_prototypes</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_initialize_prototypes</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;각 팩토리별 프로토타입 초기화&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_theme</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>theme_name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&#34;default&#34;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>UITheme</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;프로토타입 기반 테마 생성&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>theme_registry</span><span class=o>.</span><span class=n>create</span><span class=p>(</span><span class=n>theme_name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_component</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>component_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>UIComponent</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;프로토타입 기반 컴포넌트 생성&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>component_registry</span><span class=o>.</span><span class=n>create</span><span class=p>(</span><span class=n>component_type</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_themed_component</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>component_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>theme_name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&#34;default&#34;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>UIComponent</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;테마가 적용된 컴포넌트 생성&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>component</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_component</span><span class=p>(</span><span class=n>component_type</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>theme</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_theme</span><span class=p>(</span><span class=n>theme_name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>component</span><span class=o>.</span><span class=n>apply_theme</span><span class=p>(</span><span class=n>theme</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>component</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Concrete Factory for Mobile UI</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MobileUIFactory</span><span class=p>(</span><span class=n>UIComponentFactory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_initialize_prototypes</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;모바일 특화 프로토타입들 등록&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># Mobile Themes</span>
</span></span><span class=line><span class=cl>        <span class=n>mobile_light_theme</span> <span class=o>=</span> <span class=n>UITheme</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Mobile Light&#34;</span><span class=p>,</span> <span class=s2>&#34;#007AFF&#34;</span><span class=p>,</span> <span class=s2>&#34;#34C759&#34;</span><span class=p>,</span> <span class=s2>&#34;SF Pro Display&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>mobile_light_theme</span><span class=o>.</span><span class=n>custom_properties</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;corner_radius&#34;</span><span class=p>:</span> <span class=mi>12</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;shadow_enabled&#34;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;haptic_feedback&#34;</span><span class=p>:</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>mobile_dark_theme</span> <span class=o>=</span> <span class=n>UITheme</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Mobile Dark&#34;</span><span class=p>,</span> <span class=s2>&#34;#0A84FF&#34;</span><span class=p>,</span> <span class=s2>&#34;#32D74B&#34;</span><span class=p>,</span> <span class=s2>&#34;SF Pro Display&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>mobile_dark_theme</span><span class=o>.</span><span class=n>custom_properties</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;corner_radius&#34;</span><span class=p>:</span> <span class=mi>12</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;shadow_enabled&#34;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;haptic_feedback&#34;</span><span class=p>:</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>theme_registry</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=s2>&#34;default&#34;</span><span class=p>,</span> <span class=n>mobile_light_theme</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>theme_registry</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=s2>&#34;light&#34;</span><span class=p>,</span> <span class=n>mobile_light_theme</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>theme_registry</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=s2>&#34;dark&#34;</span><span class=p>,</span> <span class=n>mobile_dark_theme</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># Mobile Components</span>
</span></span><span class=line><span class=cl>        <span class=n>mobile_button</span> <span class=o>=</span> <span class=n>UIComponent</span><span class=p>(</span><span class=s2>&#34;Mobile Button&#34;</span><span class=p>,</span> <span class=mi>280</span><span class=p>,</span> <span class=mi>44</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>mobile_button</span><span class=o>.</span><span class=n>style_properties</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;corner_radius&#34;</span><span class=p>:</span> <span class=mi>12</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;touch_target_size&#34;</span><span class=p>:</span> <span class=mi>44</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;animation_duration&#34;</span><span class=p>:</span> <span class=mf>0.2</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>mobile_card</span> <span class=o>=</span> <span class=n>UIComponent</span><span class=p>(</span><span class=s2>&#34;Mobile Card&#34;</span><span class=p>,</span> <span class=mi>320</span><span class=p>,</span> <span class=mi>120</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>mobile_card</span><span class=o>.</span><span class=n>style_properties</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;corner_radius&#34;</span><span class=p>:</span> <span class=mi>16</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;elevation&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;margin&#34;</span><span class=p>:</span> <span class=mi>16</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>component_registry</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=s2>&#34;button&#34;</span><span class=p>,</span> <span class=n>mobile_button</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>component_registry</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=s2>&#34;card&#34;</span><span class=p>,</span> <span class=n>mobile_card</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Concrete Factory for Desktop UI</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DesktopUIFactory</span><span class=p>(</span><span class=n>UIComponentFactory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_initialize_prototypes</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;데스크톱 특화 프로토타입들 등록&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># Desktop Themes</span>
</span></span><span class=line><span class=cl>        <span class=n>desktop_light_theme</span> <span class=o>=</span> <span class=n>UITheme</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Desktop Light&#34;</span><span class=p>,</span> <span class=s2>&#34;#0078D4&#34;</span><span class=p>,</span> <span class=s2>&#34;#107C10&#34;</span><span class=p>,</span> <span class=s2>&#34;Segoe UI&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>desktop_light_theme</span><span class=o>.</span><span class=n>custom_properties</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;corner_radius&#34;</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;shadow_enabled&#34;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;hover_effects&#34;</span><span class=p>:</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>desktop_dark_theme</span> <span class=o>=</span> <span class=n>UITheme</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Desktop Dark&#34;</span><span class=p>,</span> <span class=s2>&#34;#4CC2FF&#34;</span><span class=p>,</span> <span class=s2>&#34;#6CCB5F&#34;</span><span class=p>,</span> <span class=s2>&#34;Segoe UI&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>desktop_dark_theme</span><span class=o>.</span><span class=n>custom_properties</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;corner_radius&#34;</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;shadow_enabled&#34;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;hover_effects&#34;</span><span class=p>:</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>theme_registry</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=s2>&#34;default&#34;</span><span class=p>,</span> <span class=n>desktop_light_theme</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>theme_registry</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=s2>&#34;light&#34;</span><span class=p>,</span> <span class=n>desktop_light_theme</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>theme_registry</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=s2>&#34;dark&#34;</span><span class=p>,</span> <span class=n>desktop_dark_theme</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># Desktop Components</span>
</span></span><span class=line><span class=cl>        <span class=n>desktop_button</span> <span class=o>=</span> <span class=n>UIComponent</span><span class=p>(</span><span class=s2>&#34;Desktop Button&#34;</span><span class=p>,</span> <span class=mi>120</span><span class=p>,</span> <span class=mi>32</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>desktop_button</span><span class=o>.</span><span class=n>style_properties</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;corner_radius&#34;</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;hover_animation&#34;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;keyboard_navigation&#34;</span><span class=p>:</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>desktop_card</span> <span class=o>=</span> <span class=n>UIComponent</span><span class=p>(</span><span class=s2>&#34;Desktop Card&#34;</span><span class=p>,</span> <span class=mi>400</span><span class=p>,</span> <span class=mi>200</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>desktop_card</span><span class=o>.</span><span class=n>style_properties</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;corner_radius&#34;</span><span class=p>:</span> <span class=mi>8</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;shadow_depth&#34;</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;resize_handles&#34;</span><span class=p>:</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>component_registry</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=s2>&#34;button&#34;</span><span class=p>,</span> <span class=n>desktop_button</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>component_registry</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=s2>&#34;card&#34;</span><span class=p>,</span> <span class=n>desktop_card</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Client code demonstrating the pattern combination</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>UIApplicationBuilder</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>factory</span><span class=p>:</span> <span class=n>UIComponentFactory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>factory</span> <span class=o>=</span> <span class=n>factory</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_login_screen</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>theme</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&#34;default&#34;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>UIComponent</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;로그인 화면 구성 요소들 생성&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>components</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 프로토타입 기반으로 컴포넌트들 생성 및 커스터마이징</span>
</span></span><span class=line><span class=cl>        <span class=n>login_button</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>factory</span><span class=o>.</span><span class=n>create_themed_component</span><span class=p>(</span><span class=s2>&#34;button&#34;</span><span class=p>,</span> <span class=n>theme</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>login_button</span><span class=o>.</span><span class=n>component_type</span> <span class=o>=</span> <span class=s2>&#34;Login Button&#34;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>user_card</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>factory</span><span class=o>.</span><span class=n>create_themed_component</span><span class=p>(</span><span class=s2>&#34;card&#34;</span><span class=p>,</span> <span class=n>theme</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>user_card</span><span class=o>.</span><span class=n>component_type</span> <span class=o>=</span> <span class=s2>&#34;User Input Card&#34;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>components</span><span class=p>[</span><span class=s1>&#39;login_button&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>login_button</span>
</span></span><span class=line><span class=cl>        <span class=n>components</span><span class=p>[</span><span class=s1>&#39;user_card&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>user_card</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>components</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Usage Example</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>demonstrate_prototype_relationship</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;=== Abstract Factory + Prototype 협력 관계 ===&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Mobile UI Factory with Prototypes</span>
</span></span><span class=line><span class=cl>    <span class=n>mobile_factory</span> <span class=o>=</span> <span class=n>MobileUIFactory</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>mobile_builder</span> <span class=o>=</span> <span class=n>UIApplicationBuilder</span><span class=p>(</span><span class=n>mobile_factory</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;--- Mobile 로그인 화면 (Light Theme) ---&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>mobile_light_components</span> <span class=o>=</span> <span class=n>mobile_builder</span><span class=o>.</span><span class=n>create_login_screen</span><span class=p>(</span><span class=s2>&#34;light&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>component</span> <span class=ow>in</span> <span class=n>mobile_light_components</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>component</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;  Style Properties: </span><span class=si>{</span><span class=n>component</span><span class=o>.</span><span class=n>style_properties</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>--- Mobile 로그인 화면 (Dark Theme) ---&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>mobile_dark_components</span> <span class=o>=</span> <span class=n>mobile_builder</span><span class=o>.</span><span class=n>create_login_screen</span><span class=p>(</span><span class=s2>&#34;dark&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>component</span> <span class=ow>in</span> <span class=n>mobile_dark_components</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>component</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;  Style Properties: </span><span class=si>{</span><span class=n>component</span><span class=o>.</span><span class=n>style_properties</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span> <span class=o>+</span> <span class=s2>&#34;-&#34;</span><span class=o>*</span><span class=mi>50</span> <span class=o>+</span> <span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Desktop UI Factory with Prototypes</span>
</span></span><span class=line><span class=cl>    <span class=n>desktop_factory</span> <span class=o>=</span> <span class=n>DesktopUIFactory</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>desktop_builder</span> <span class=o>=</span> <span class=n>UIApplicationBuilder</span><span class=p>(</span><span class=n>desktop_factory</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;--- Desktop 로그인 화면 (Light Theme) ---&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>desktop_components</span> <span class=o>=</span> <span class=n>desktop_builder</span><span class=o>.</span><span class=n>create_login_screen</span><span class=p>(</span><span class=s2>&#34;light&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>component</span> <span class=ow>in</span> <span class=n>desktop_components</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>component</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;  Style Properties: </span><span class=si>{</span><span class=n>component</span><span class=o>.</span><span class=n>style_properties</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Prototype의 장점 - 성능 테스트</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>--- 프로토타입 성능 비교 ---&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 프로토타입 기반 생성 (빠름)</span>
</span></span><span class=line><span class=cl>    <span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1000</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>mobile_factory</span><span class=o>.</span><span class=n>create_component</span><span class=p>(</span><span class=s2>&#34;button&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>prototype_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start_time</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;프로토타입 기반 1000개 버튼 생성: </span><span class=si>{</span><span class=n>prototype_time</span><span class=si>:</span><span class=s2>f</span><span class=si>}</span><span class=s2>초&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 직접 생성과 비교해보기 위한 데모</span>
</span></span><span class=line><span class=cl>    <span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1000</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>component</span> <span class=o>=</span> <span class=n>UIComponent</span><span class=p>(</span><span class=s2>&#34;Mobile Button&#34;</span><span class=p>,</span> <span class=mi>280</span><span class=p>,</span> <span class=mi>44</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>component</span><span class=o>.</span><span class=n>style_properties</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;corner_radius&#34;</span><span class=p>:</span> <span class=mi>12</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;touch_target_size&#34;</span><span class=p>:</span> <span class=mi>44</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;animation_duration&#34;</span><span class=p>:</span> <span class=mf>0.2</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>direct_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start_time</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;직접 생성 1000개 버튼 생성: </span><span class=si>{</span><span class=n>direct_time</span><span class=si>:</span><span class=s2>f</span><span class=si>}</span><span class=s2>초&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;성능 개선: </span><span class=si>{</span><span class=p>((</span><span class=n>direct_time</span> <span class=o>-</span> <span class=n>prototype_time</span><span class=p>)</span> <span class=o>/</span> <span class=n>direct_time</span> <span class=o>*</span> <span class=mi>100</span><span class=p>)</span><span class=si>:</span><span class=s2>f</span><span class=si>}</span><span class=s2>%&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>demonstrate_prototype_relationship</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>Abstract Factory 가 플랫폼별 UI 컴포넌트 생성을 담당</li><li>Prototype Registry 가 미리 구성된 템플릿 객체들을 관리</li><li>객체 생성 시 새로 인스턴스를 만드는 대신 프로토타입을 복제하여 성능 향상</li><li>복제된 객체를 필요에 따라 커스터마이징하여 다양한 변형 생성</li></ul><h4 id=singleton>Singleton<a hidden class=anchor aria-hidden=true href=#singleton>#</a></h4><p>구체적 팩토리 인스턴스는 보통 싱글톤으로 구현되어 시스템 전체에서 하나의 팩토리만 사용하도록 보장한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1>  1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2>  2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3>  3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4>  4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5>  5</a>
</span><span class=lnt id=hl-14-6><a class=lnlinks href=#hl-14-6>  6</a>
</span><span class=lnt id=hl-14-7><a class=lnlinks href=#hl-14-7>  7</a>
</span><span class=lnt id=hl-14-8><a class=lnlinks href=#hl-14-8>  8</a>
</span><span class=lnt id=hl-14-9><a class=lnlinks href=#hl-14-9>  9</a>
</span><span class=lnt id=hl-14-10><a class=lnlinks href=#hl-14-10> 10</a>
</span><span class=lnt id=hl-14-11><a class=lnlinks href=#hl-14-11> 11</a>
</span><span class=lnt id=hl-14-12><a class=lnlinks href=#hl-14-12> 12</a>
</span><span class=lnt id=hl-14-13><a class=lnlinks href=#hl-14-13> 13</a>
</span><span class=lnt id=hl-14-14><a class=lnlinks href=#hl-14-14> 14</a>
</span><span class=lnt id=hl-14-15><a class=lnlinks href=#hl-14-15> 15</a>
</span><span class=lnt id=hl-14-16><a class=lnlinks href=#hl-14-16> 16</a>
</span><span class=lnt id=hl-14-17><a class=lnlinks href=#hl-14-17> 17</a>
</span><span class=lnt id=hl-14-18><a class=lnlinks href=#hl-14-18> 18</a>
</span><span class=lnt id=hl-14-19><a class=lnlinks href=#hl-14-19> 19</a>
</span><span class=lnt id=hl-14-20><a class=lnlinks href=#hl-14-20> 20</a>
</span><span class=lnt id=hl-14-21><a class=lnlinks href=#hl-14-21> 21</a>
</span><span class=lnt id=hl-14-22><a class=lnlinks href=#hl-14-22> 22</a>
</span><span class=lnt id=hl-14-23><a class=lnlinks href=#hl-14-23> 23</a>
</span><span class=lnt id=hl-14-24><a class=lnlinks href=#hl-14-24> 24</a>
</span><span class=lnt id=hl-14-25><a class=lnlinks href=#hl-14-25> 25</a>
</span><span class=lnt id=hl-14-26><a class=lnlinks href=#hl-14-26> 26</a>
</span><span class=lnt id=hl-14-27><a class=lnlinks href=#hl-14-27> 27</a>
</span><span class=lnt id=hl-14-28><a class=lnlinks href=#hl-14-28> 28</a>
</span><span class=lnt id=hl-14-29><a class=lnlinks href=#hl-14-29> 29</a>
</span><span class=lnt id=hl-14-30><a class=lnlinks href=#hl-14-30> 30</a>
</span><span class=lnt id=hl-14-31><a class=lnlinks href=#hl-14-31> 31</a>
</span><span class=lnt id=hl-14-32><a class=lnlinks href=#hl-14-32> 32</a>
</span><span class=lnt id=hl-14-33><a class=lnlinks href=#hl-14-33> 33</a>
</span><span class=lnt id=hl-14-34><a class=lnlinks href=#hl-14-34> 34</a>
</span><span class=lnt id=hl-14-35><a class=lnlinks href=#hl-14-35> 35</a>
</span><span class=lnt id=hl-14-36><a class=lnlinks href=#hl-14-36> 36</a>
</span><span class=lnt id=hl-14-37><a class=lnlinks href=#hl-14-37> 37</a>
</span><span class=lnt id=hl-14-38><a class=lnlinks href=#hl-14-38> 38</a>
</span><span class=lnt id=hl-14-39><a class=lnlinks href=#hl-14-39> 39</a>
</span><span class=lnt id=hl-14-40><a class=lnlinks href=#hl-14-40> 40</a>
</span><span class=lnt id=hl-14-41><a class=lnlinks href=#hl-14-41> 41</a>
</span><span class=lnt id=hl-14-42><a class=lnlinks href=#hl-14-42> 42</a>
</span><span class=lnt id=hl-14-43><a class=lnlinks href=#hl-14-43> 43</a>
</span><span class=lnt id=hl-14-44><a class=lnlinks href=#hl-14-44> 44</a>
</span><span class=lnt id=hl-14-45><a class=lnlinks href=#hl-14-45> 45</a>
</span><span class=lnt id=hl-14-46><a class=lnlinks href=#hl-14-46> 46</a>
</span><span class=lnt id=hl-14-47><a class=lnlinks href=#hl-14-47> 47</a>
</span><span class=lnt id=hl-14-48><a class=lnlinks href=#hl-14-48> 48</a>
</span><span class=lnt id=hl-14-49><a class=lnlinks href=#hl-14-49> 49</a>
</span><span class=lnt id=hl-14-50><a class=lnlinks href=#hl-14-50> 50</a>
</span><span class=lnt id=hl-14-51><a class=lnlinks href=#hl-14-51> 51</a>
</span><span class=lnt id=hl-14-52><a class=lnlinks href=#hl-14-52> 52</a>
</span><span class=lnt id=hl-14-53><a class=lnlinks href=#hl-14-53> 53</a>
</span><span class=lnt id=hl-14-54><a class=lnlinks href=#hl-14-54> 54</a>
</span><span class=lnt id=hl-14-55><a class=lnlinks href=#hl-14-55> 55</a>
</span><span class=lnt id=hl-14-56><a class=lnlinks href=#hl-14-56> 56</a>
</span><span class=lnt id=hl-14-57><a class=lnlinks href=#hl-14-57> 57</a>
</span><span class=lnt id=hl-14-58><a class=lnlinks href=#hl-14-58> 58</a>
</span><span class=lnt id=hl-14-59><a class=lnlinks href=#hl-14-59> 59</a>
</span><span class=lnt id=hl-14-60><a class=lnlinks href=#hl-14-60> 60</a>
</span><span class=lnt id=hl-14-61><a class=lnlinks href=#hl-14-61> 61</a>
</span><span class=lnt id=hl-14-62><a class=lnlinks href=#hl-14-62> 62</a>
</span><span class=lnt id=hl-14-63><a class=lnlinks href=#hl-14-63> 63</a>
</span><span class=lnt id=hl-14-64><a class=lnlinks href=#hl-14-64> 64</a>
</span><span class=lnt id=hl-14-65><a class=lnlinks href=#hl-14-65> 65</a>
</span><span class=lnt id=hl-14-66><a class=lnlinks href=#hl-14-66> 66</a>
</span><span class=lnt id=hl-14-67><a class=lnlinks href=#hl-14-67> 67</a>
</span><span class=lnt id=hl-14-68><a class=lnlinks href=#hl-14-68> 68</a>
</span><span class=lnt id=hl-14-69><a class=lnlinks href=#hl-14-69> 69</a>
</span><span class=lnt id=hl-14-70><a class=lnlinks href=#hl-14-70> 70</a>
</span><span class=lnt id=hl-14-71><a class=lnlinks href=#hl-14-71> 71</a>
</span><span class=lnt id=hl-14-72><a class=lnlinks href=#hl-14-72> 72</a>
</span><span class=lnt id=hl-14-73><a class=lnlinks href=#hl-14-73> 73</a>
</span><span class=lnt id=hl-14-74><a class=lnlinks href=#hl-14-74> 74</a>
</span><span class=lnt id=hl-14-75><a class=lnlinks href=#hl-14-75> 75</a>
</span><span class=lnt id=hl-14-76><a class=lnlinks href=#hl-14-76> 76</a>
</span><span class=lnt id=hl-14-77><a class=lnlinks href=#hl-14-77> 77</a>
</span><span class=lnt id=hl-14-78><a class=lnlinks href=#hl-14-78> 78</a>
</span><span class=lnt id=hl-14-79><a class=lnlinks href=#hl-14-79> 79</a>
</span><span class=lnt id=hl-14-80><a class=lnlinks href=#hl-14-80> 80</a>
</span><span class=lnt id=hl-14-81><a class=lnlinks href=#hl-14-81> 81</a>
</span><span class=lnt id=hl-14-82><a class=lnlinks href=#hl-14-82> 82</a>
</span><span class=lnt id=hl-14-83><a class=lnlinks href=#hl-14-83> 83</a>
</span><span class=lnt id=hl-14-84><a class=lnlinks href=#hl-14-84> 84</a>
</span><span class=lnt id=hl-14-85><a class=lnlinks href=#hl-14-85> 85</a>
</span><span class=lnt id=hl-14-86><a class=lnlinks href=#hl-14-86> 86</a>
</span><span class=lnt id=hl-14-87><a class=lnlinks href=#hl-14-87> 87</a>
</span><span class=lnt id=hl-14-88><a class=lnlinks href=#hl-14-88> 88</a>
</span><span class=lnt id=hl-14-89><a class=lnlinks href=#hl-14-89> 89</a>
</span><span class=lnt id=hl-14-90><a class=lnlinks href=#hl-14-90> 90</a>
</span><span class=lnt id=hl-14-91><a class=lnlinks href=#hl-14-91> 91</a>
</span><span class=lnt id=hl-14-92><a class=lnlinks href=#hl-14-92> 92</a>
</span><span class=lnt id=hl-14-93><a class=lnlinks href=#hl-14-93> 93</a>
</span><span class=lnt id=hl-14-94><a class=lnlinks href=#hl-14-94> 94</a>
</span><span class=lnt id=hl-14-95><a class=lnlinks href=#hl-14-95> 95</a>
</span><span class=lnt id=hl-14-96><a class=lnlinks href=#hl-14-96> 96</a>
</span><span class=lnt id=hl-14-97><a class=lnlinks href=#hl-14-97> 97</a>
</span><span class=lnt id=hl-14-98><a class=lnlinks href=#hl-14-98> 98</a>
</span><span class=lnt id=hl-14-99><a class=lnlinks href=#hl-14-99> 99</a>
</span><span class=lnt id=hl-14-100><a class=lnlinks href=#hl-14-100>100</a>
</span><span class=lnt id=hl-14-101><a class=lnlinks href=#hl-14-101>101</a>
</span><span class=lnt id=hl-14-102><a class=lnlinks href=#hl-14-102>102</a>
</span><span class=lnt id=hl-14-103><a class=lnlinks href=#hl-14-103>103</a>
</span><span class=lnt id=hl-14-104><a class=lnlinks href=#hl-14-104>104</a>
</span><span class=lnt id=hl-14-105><a class=lnlinks href=#hl-14-105>105</a>
</span><span class=lnt id=hl-14-106><a class=lnlinks href=#hl-14-106>106</a>
</span><span class=lnt id=hl-14-107><a class=lnlinks href=#hl-14-107>107</a>
</span><span class=lnt id=hl-14-108><a class=lnlinks href=#hl-14-108>108</a>
</span><span class=lnt id=hl-14-109><a class=lnlinks href=#hl-14-109>109</a>
</span><span class=lnt id=hl-14-110><a class=lnlinks href=#hl-14-110>110</a>
</span><span class=lnt id=hl-14-111><a class=lnlinks href=#hl-14-111>111</a>
</span><span class=lnt id=hl-14-112><a class=lnlinks href=#hl-14-112>112</a>
</span><span class=lnt id=hl-14-113><a class=lnlinks href=#hl-14-113>113</a>
</span><span class=lnt id=hl-14-114><a class=lnlinks href=#hl-14-114>114</a>
</span><span class=lnt id=hl-14-115><a class=lnlinks href=#hl-14-115>115</a>
</span><span class=lnt id=hl-14-116><a class=lnlinks href=#hl-14-116>116</a>
</span><span class=lnt id=hl-14-117><a class=lnlinks href=#hl-14-117>117</a>
</span><span class=lnt id=hl-14-118><a class=lnlinks href=#hl-14-118>118</a>
</span><span class=lnt id=hl-14-119><a class=lnlinks href=#hl-14-119>119</a>
</span><span class=lnt id=hl-14-120><a class=lnlinks href=#hl-14-120>120</a>
</span><span class=lnt id=hl-14-121><a class=lnlinks href=#hl-14-121>121</a>
</span><span class=lnt id=hl-14-122><a class=lnlinks href=#hl-14-122>122</a>
</span><span class=lnt id=hl-14-123><a class=lnlinks href=#hl-14-123>123</a>
</span><span class=lnt id=hl-14-124><a class=lnlinks href=#hl-14-124>124</a>
</span><span class=lnt id=hl-14-125><a class=lnlinks href=#hl-14-125>125</a>
</span><span class=lnt id=hl-14-126><a class=lnlinks href=#hl-14-126>126</a>
</span><span class=lnt id=hl-14-127><a class=lnlinks href=#hl-14-127>127</a>
</span><span class=lnt id=hl-14-128><a class=lnlinks href=#hl-14-128>128</a>
</span><span class=lnt id=hl-14-129><a class=lnlinks href=#hl-14-129>129</a>
</span><span class=lnt id=hl-14-130><a class=lnlinks href=#hl-14-130>130</a>
</span><span class=lnt id=hl-14-131><a class=lnlinks href=#hl-14-131>131</a>
</span><span class=lnt id=hl-14-132><a class=lnlinks href=#hl-14-132>132</a>
</span><span class=lnt id=hl-14-133><a class=lnlinks href=#hl-14-133>133</a>
</span><span class=lnt id=hl-14-134><a class=lnlinks href=#hl-14-134>134</a>
</span><span class=lnt id=hl-14-135><a class=lnlinks href=#hl-14-135>135</a>
</span><span class=lnt id=hl-14-136><a class=lnlinks href=#hl-14-136>136</a>
</span><span class=lnt id=hl-14-137><a class=lnlinks href=#hl-14-137>137</a>
</span><span class=lnt id=hl-14-138><a class=lnlinks href=#hl-14-138>138</a>
</span><span class=lnt id=hl-14-139><a class=lnlinks href=#hl-14-139>139</a>
</span><span class=lnt id=hl-14-140><a class=lnlinks href=#hl-14-140>140</a>
</span><span class=lnt id=hl-14-141><a class=lnlinks href=#hl-14-141>141</a>
</span><span class=lnt id=hl-14-142><a class=lnlinks href=#hl-14-142>142</a>
</span><span class=lnt id=hl-14-143><a class=lnlinks href=#hl-14-143>143</a>
</span><span class=lnt id=hl-14-144><a class=lnlinks href=#hl-14-144>144</a>
</span><span class=lnt id=hl-14-145><a class=lnlinks href=#hl-14-145>145</a>
</span><span class=lnt id=hl-14-146><a class=lnlinks href=#hl-14-146>146</a>
</span><span class=lnt id=hl-14-147><a class=lnlinks href=#hl-14-147>147</a>
</span><span class=lnt id=hl-14-148><a class=lnlinks href=#hl-14-148>148</a>
</span><span class=lnt id=hl-14-149><a class=lnlinks href=#hl-14-149>149</a>
</span><span class=lnt id=hl-14-150><a class=lnlinks href=#hl-14-150>150</a>
</span><span class=lnt id=hl-14-151><a class=lnlinks href=#hl-14-151>151</a>
</span><span class=lnt id=hl-14-152><a class=lnlinks href=#hl-14-152>152</a>
</span><span class=lnt id=hl-14-153><a class=lnlinks href=#hl-14-153>153</a>
</span><span class=lnt id=hl-14-154><a class=lnlinks href=#hl-14-154>154</a>
</span><span class=lnt id=hl-14-155><a class=lnlinks href=#hl-14-155>155</a>
</span><span class=lnt id=hl-14-156><a class=lnlinks href=#hl-14-156>156</a>
</span><span class=lnt id=hl-14-157><a class=lnlinks href=#hl-14-157>157</a>
</span><span class=lnt id=hl-14-158><a class=lnlinks href=#hl-14-158>158</a>
</span><span class=lnt id=hl-14-159><a class=lnlinks href=#hl-14-159>159</a>
</span><span class=lnt id=hl-14-160><a class=lnlinks href=#hl-14-160>160</a>
</span><span class=lnt id=hl-14-161><a class=lnlinks href=#hl-14-161>161</a>
</span><span class=lnt id=hl-14-162><a class=lnlinks href=#hl-14-162>162</a>
</span><span class=lnt id=hl-14-163><a class=lnlinks href=#hl-14-163>163</a>
</span><span class=lnt id=hl-14-164><a class=lnlinks href=#hl-14-164>164</a>
</span><span class=lnt id=hl-14-165><a class=lnlinks href=#hl-14-165>165</a>
</span><span class=lnt id=hl-14-166><a class=lnlinks href=#hl-14-166>166</a>
</span><span class=lnt id=hl-14-167><a class=lnlinks href=#hl-14-167>167</a>
</span><span class=lnt id=hl-14-168><a class=lnlinks href=#hl-14-168>168</a>
</span><span class=lnt id=hl-14-169><a class=lnlinks href=#hl-14-169>169</a>
</span><span class=lnt id=hl-14-170><a class=lnlinks href=#hl-14-170>170</a>
</span><span class=lnt id=hl-14-171><a class=lnlinks href=#hl-14-171>171</a>
</span><span class=lnt id=hl-14-172><a class=lnlinks href=#hl-14-172>172</a>
</span><span class=lnt id=hl-14-173><a class=lnlinks href=#hl-14-173>173</a>
</span><span class=lnt id=hl-14-174><a class=lnlinks href=#hl-14-174>174</a>
</span><span class=lnt id=hl-14-175><a class=lnlinks href=#hl-14-175>175</a>
</span><span class=lnt id=hl-14-176><a class=lnlinks href=#hl-14-176>176</a>
</span><span class=lnt id=hl-14-177><a class=lnlinks href=#hl-14-177>177</a>
</span><span class=lnt id=hl-14-178><a class=lnlinks href=#hl-14-178>178</a>
</span><span class=lnt id=hl-14-179><a class=lnlinks href=#hl-14-179>179</a>
</span><span class=lnt id=hl-14-180><a class=lnlinks href=#hl-14-180>180</a>
</span><span class=lnt id=hl-14-181><a class=lnlinks href=#hl-14-181>181</a>
</span><span class=lnt id=hl-14-182><a class=lnlinks href=#hl-14-182>182</a>
</span><span class=lnt id=hl-14-183><a class=lnlinks href=#hl-14-183>183</a>
</span><span class=lnt id=hl-14-184><a class=lnlinks href=#hl-14-184>184</a>
</span><span class=lnt id=hl-14-185><a class=lnlinks href=#hl-14-185>185</a>
</span><span class=lnt id=hl-14-186><a class=lnlinks href=#hl-14-186>186</a>
</span><span class=lnt id=hl-14-187><a class=lnlinks href=#hl-14-187>187</a>
</span><span class=lnt id=hl-14-188><a class=lnlinks href=#hl-14-188>188</a>
</span><span class=lnt id=hl-14-189><a class=lnlinks href=#hl-14-189>189</a>
</span><span class=lnt id=hl-14-190><a class=lnlinks href=#hl-14-190>190</a>
</span><span class=lnt id=hl-14-191><a class=lnlinks href=#hl-14-191>191</a>
</span><span class=lnt id=hl-14-192><a class=lnlinks href=#hl-14-192>192</a>
</span><span class=lnt id=hl-14-193><a class=lnlinks href=#hl-14-193>193</a>
</span><span class=lnt id=hl-14-194><a class=lnlinks href=#hl-14-194>194</a>
</span><span class=lnt id=hl-14-195><a class=lnlinks href=#hl-14-195>195</a>
</span><span class=lnt id=hl-14-196><a class=lnlinks href=#hl-14-196>196</a>
</span><span class=lnt id=hl-14-197><a class=lnlinks href=#hl-14-197>197</a>
</span><span class=lnt id=hl-14-198><a class=lnlinks href=#hl-14-198>198</a>
</span><span class=lnt id=hl-14-199><a class=lnlinks href=#hl-14-199>199</a>
</span><span class=lnt id=hl-14-200><a class=lnlinks href=#hl-14-200>200</a>
</span><span class=lnt id=hl-14-201><a class=lnlinks href=#hl-14-201>201</a>
</span><span class=lnt id=hl-14-202><a class=lnlinks href=#hl-14-202>202</a>
</span><span class=lnt id=hl-14-203><a class=lnlinks href=#hl-14-203>203</a>
</span><span class=lnt id=hl-14-204><a class=lnlinks href=#hl-14-204>204</a>
</span><span class=lnt id=hl-14-205><a class=lnlinks href=#hl-14-205>205</a>
</span><span class=lnt id=hl-14-206><a class=lnlinks href=#hl-14-206>206</a>
</span><span class=lnt id=hl-14-207><a class=lnlinks href=#hl-14-207>207</a>
</span><span class=lnt id=hl-14-208><a class=lnlinks href=#hl-14-208>208</a>
</span><span class=lnt id=hl-14-209><a class=lnlinks href=#hl-14-209>209</a>
</span><span class=lnt id=hl-14-210><a class=lnlinks href=#hl-14-210>210</a>
</span><span class=lnt id=hl-14-211><a class=lnlinks href=#hl-14-211>211</a>
</span><span class=lnt id=hl-14-212><a class=lnlinks href=#hl-14-212>212</a>
</span><span class=lnt id=hl-14-213><a class=lnlinks href=#hl-14-213>213</a>
</span><span class=lnt id=hl-14-214><a class=lnlinks href=#hl-14-214>214</a>
</span><span class=lnt id=hl-14-215><a class=lnlinks href=#hl-14-215>215</a>
</span><span class=lnt id=hl-14-216><a class=lnlinks href=#hl-14-216>216</a>
</span><span class=lnt id=hl-14-217><a class=lnlinks href=#hl-14-217>217</a>
</span><span class=lnt id=hl-14-218><a class=lnlinks href=#hl-14-218>218</a>
</span><span class=lnt id=hl-14-219><a class=lnlinks href=#hl-14-219>219</a>
</span><span class=lnt id=hl-14-220><a class=lnlinks href=#hl-14-220>220</a>
</span><span class=lnt id=hl-14-221><a class=lnlinks href=#hl-14-221>221</a>
</span><span class=lnt id=hl-14-222><a class=lnlinks href=#hl-14-222>222</a>
</span><span class=lnt id=hl-14-223><a class=lnlinks href=#hl-14-223>223</a>
</span><span class=lnt id=hl-14-224><a class=lnlinks href=#hl-14-224>224</a>
</span><span class=lnt id=hl-14-225><a class=lnlinks href=#hl-14-225>225</a>
</span><span class=lnt id=hl-14-226><a class=lnlinks href=#hl-14-226>226</a>
</span><span class=lnt id=hl-14-227><a class=lnlinks href=#hl-14-227>227</a>
</span><span class=lnt id=hl-14-228><a class=lnlinks href=#hl-14-228>228</a>
</span><span class=lnt id=hl-14-229><a class=lnlinks href=#hl-14-229>229</a>
</span><span class=lnt id=hl-14-230><a class=lnlinks href=#hl-14-230>230</a>
</span><span class=lnt id=hl-14-231><a class=lnlinks href=#hl-14-231>231</a>
</span><span class=lnt id=hl-14-232><a class=lnlinks href=#hl-14-232>232</a>
</span><span class=lnt id=hl-14-233><a class=lnlinks href=#hl-14-233>233</a>
</span><span class=lnt id=hl-14-234><a class=lnlinks href=#hl-14-234>234</a>
</span><span class=lnt id=hl-14-235><a class=lnlinks href=#hl-14-235>235</a>
</span><span class=lnt id=hl-14-236><a class=lnlinks href=#hl-14-236>236</a>
</span><span class=lnt id=hl-14-237><a class=lnlinks href=#hl-14-237>237</a>
</span><span class=lnt id=hl-14-238><a class=lnlinks href=#hl-14-238>238</a>
</span><span class=lnt id=hl-14-239><a class=lnlinks href=#hl-14-239>239</a>
</span><span class=lnt id=hl-14-240><a class=lnlinks href=#hl-14-240>240</a>
</span><span class=lnt id=hl-14-241><a class=lnlinks href=#hl-14-241>241</a>
</span><span class=lnt id=hl-14-242><a class=lnlinks href=#hl-14-242>242</a>
</span><span class=lnt id=hl-14-243><a class=lnlinks href=#hl-14-243>243</a>
</span><span class=lnt id=hl-14-244><a class=lnlinks href=#hl-14-244>244</a>
</span><span class=lnt id=hl-14-245><a class=lnlinks href=#hl-14-245>245</a>
</span><span class=lnt id=hl-14-246><a class=lnlinks href=#hl-14-246>246</a>
</span><span class=lnt id=hl-14-247><a class=lnlinks href=#hl-14-247>247</a>
</span><span class=lnt id=hl-14-248><a class=lnlinks href=#hl-14-248>248</a>
</span><span class=lnt id=hl-14-249><a class=lnlinks href=#hl-14-249>249</a>
</span><span class=lnt id=hl-14-250><a class=lnlinks href=#hl-14-250>250</a>
</span><span class=lnt id=hl-14-251><a class=lnlinks href=#hl-14-251>251</a>
</span><span class=lnt id=hl-14-252><a class=lnlinks href=#hl-14-252>252</a>
</span><span class=lnt id=hl-14-253><a class=lnlinks href=#hl-14-253>253</a>
</span><span class=lnt id=hl-14-254><a class=lnlinks href=#hl-14-254>254</a>
</span><span class=lnt id=hl-14-255><a class=lnlinks href=#hl-14-255>255</a>
</span><span class=lnt id=hl-14-256><a class=lnlinks href=#hl-14-256>256</a>
</span><span class=lnt id=hl-14-257><a class=lnlinks href=#hl-14-257>257</a>
</span><span class=lnt id=hl-14-258><a class=lnlinks href=#hl-14-258>258</a>
</span><span class=lnt id=hl-14-259><a class=lnlinks href=#hl-14-259>259</a>
</span><span class=lnt id=hl-14-260><a class=lnlinks href=#hl-14-260>260</a>
</span><span class=lnt id=hl-14-261><a class=lnlinks href=#hl-14-261>261</a>
</span><span class=lnt id=hl-14-262><a class=lnlinks href=#hl-14-262>262</a>
</span><span class=lnt id=hl-14-263><a class=lnlinks href=#hl-14-263>263</a>
</span><span class=lnt id=hl-14-264><a class=lnlinks href=#hl-14-264>264</a>
</span><span class=lnt id=hl-14-265><a class=lnlinks href=#hl-14-265>265</a>
</span><span class=lnt id=hl-14-266><a class=lnlinks href=#hl-14-266>266</a>
</span><span class=lnt id=hl-14-267><a class=lnlinks href=#hl-14-267>267</a>
</span><span class=lnt id=hl-14-268><a class=lnlinks href=#hl-14-268>268</a>
</span><span class=lnt id=hl-14-269><a class=lnlinks href=#hl-14-269>269</a>
</span><span class=lnt id=hl-14-270><a class=lnlinks href=#hl-14-270>270</a>
</span><span class=lnt id=hl-14-271><a class=lnlinks href=#hl-14-271>271</a>
</span><span class=lnt id=hl-14-272><a class=lnlinks href=#hl-14-272>272</a>
</span><span class=lnt id=hl-14-273><a class=lnlinks href=#hl-14-273>273</a>
</span><span class=lnt id=hl-14-274><a class=lnlinks href=#hl-14-274>274</a>
</span><span class=lnt id=hl-14-275><a class=lnlinks href=#hl-14-275>275</a>
</span><span class=lnt id=hl-14-276><a class=lnlinks href=#hl-14-276>276</a>
</span><span class=lnt id=hl-14-277><a class=lnlinks href=#hl-14-277>277</a>
</span><span class=lnt id=hl-14-278><a class=lnlinks href=#hl-14-278>278</a>
</span><span class=lnt id=hl-14-279><a class=lnlinks href=#hl-14-279>279</a>
</span><span class=lnt id=hl-14-280><a class=lnlinks href=#hl-14-280>280</a>
</span><span class=lnt id=hl-14-281><a class=lnlinks href=#hl-14-281>281</a>
</span><span class=lnt id=hl-14-282><a class=lnlinks href=#hl-14-282>282</a>
</span><span class=lnt id=hl-14-283><a class=lnlinks href=#hl-14-283>283</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>threading</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>abc</span> <span class=kn>import</span> <span class=n>ABC</span><span class=p>,</span> <span class=n>abstractmethod</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Dict</span><span class=p>,</span> <span class=n>Optional</span><span class=p>,</span> <span class=n>Type</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Thread-safe Singleton Metaclass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SingletonMeta</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;스레드 안전한 싱글톤 메타클래스&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>_instances</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=n>Type</span><span class=p>,</span> <span class=nb>object</span><span class=p>]</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=n>_lock</span><span class=p>:</span> <span class=n>threading</span><span class=o>.</span><span class=n>Lock</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Lock</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>cls</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instances</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>with</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_lock</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=c1># Double-checked locking pattern</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=bp>cls</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instances</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>instance</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__call__</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=bp>cls</span><span class=o>.</span><span class=n>_instances</span><span class=p>[</span><span class=bp>cls</span><span class=p>]</span> <span class=o>=</span> <span class=n>instance</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instances</span><span class=p>[</span><span class=bp>cls</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Products</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Logger</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>log</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>message</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>level</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&#34;INFO&#34;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ConfigManager</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_config</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>set_config</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Concrete Products</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>FileLogger</span><span class=p>(</span><span class=n>Logger</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>filename</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>filename</span> <span class=o>=</span> <span class=n>filename</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>file_handle</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>log</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>message</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>level</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&#34;INFO&#34;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>log_entry</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;[</span><span class=si>{</span><span class=n>level</span><span class=si>}</span><span class=s2>] </span><span class=si>{</span><span class=n>message</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;File Logger (</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>filename</span><span class=si>}</span><span class=s2>): </span><span class=si>{</span><span class=n>log_entry</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DatabaseLogger</span><span class=p>(</span><span class=n>Logger</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>connection_string</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>connection_string</span> <span class=o>=</span> <span class=n>connection_string</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>log</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>message</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>level</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&#34;INFO&#34;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>log_entry</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;[</span><span class=si>{</span><span class=n>level</span><span class=si>}</span><span class=s2>] </span><span class=si>{</span><span class=n>message</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Database Logger (</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>connection_string</span><span class=si>}</span><span class=s2>): </span><span class=si>{</span><span class=n>log_entry</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>JSONConfigManager</span><span class=p>(</span><span class=n>ConfigManager</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>config_file</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config_file</span> <span class=o>=</span> <span class=n>config_file</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config_data</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_config</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>config_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>set_config</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config_data</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;JSON Config: Set </span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2> = </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DatabaseConfigManager</span><span class=p>(</span><span class=n>ConfigManager</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>connection_string</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>connection_string</span> <span class=o>=</span> <span class=n>connection_string</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config_cache</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_config</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>config_cache</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>set_config</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config_cache</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Database Config (</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>connection_string</span><span class=si>}</span><span class=s2>): Set </span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2> = </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Abstract Factory</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SystemComponentFactory</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_logger</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Logger</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_config_manager</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>ConfigManager</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_system_bundle</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>object</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;시스템 구성 요소들을 묶어서 반환&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;logger&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_logger</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;config_manager&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_config_manager</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Singleton Concrete Factories</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DevelopmentSystemFactory</span><span class=p>(</span><span class=n>SystemComponentFactory</span><span class=p>,</span> <span class=n>metaclass</span><span class=o>=</span><span class=n>SingletonMeta</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;개발 환경용 싱글톤 팩토리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=s1>&#39;_initialized&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_initialized</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_logger_instance</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Logger</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_config_manager_instance</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>ConfigManager</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Development System Factory initialized (Singleton)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_logger</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Logger</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;싱글톤 팩토리가 동일한 로거 인스턴스 반환&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_logger_instance</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_logger_instance</span> <span class=o>=</span> <span class=n>FileLogger</span><span class=p>(</span><span class=s2>&#34;dev.log&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Created new FileLogger for development&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_logger_instance</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_config_manager</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>ConfigManager</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;싱글톤 팩토리가 동일한 설정 관리자 인스턴스 반환&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_config_manager_instance</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_config_manager_instance</span> <span class=o>=</span> <span class=n>JSONConfigManager</span><span class=p>(</span><span class=s2>&#34;dev_config.json&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Created new JSONConfigManager for development&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_config_manager_instance</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ProductionSystemFactory</span><span class=p>(</span><span class=n>SystemComponentFactory</span><span class=p>,</span> <span class=n>metaclass</span><span class=o>=</span><span class=n>SingletonMeta</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;운영 환경용 싱글톤 팩토리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=s1>&#39;_initialized&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_initialized</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_logger_instance</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Logger</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_config_manager_instance</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>ConfigManager</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Production System Factory initialized (Singleton)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_logger</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Logger</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_logger_instance</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_logger_instance</span> <span class=o>=</span> <span class=n>DatabaseLogger</span><span class=p>(</span><span class=s2>&#34;prod://logging-db:5432&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Created new DatabaseLogger for production&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_logger_instance</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_config_manager</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>ConfigManager</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_config_manager_instance</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_config_manager_instance</span> <span class=o>=</span> <span class=n>DatabaseConfigManager</span><span class=p>(</span><span class=s2>&#34;prod://config-db:5432&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Created new DatabaseConfigManager for production&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_config_manager_instance</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Factory Provider (also Singleton)</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SystemFactoryProvider</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>SingletonMeta</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;시스템 팩토리 제공자 - 환경별 적절한 팩토리 반환&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=s1>&#39;_initialized&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_initialized</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_current_environment</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&#34;development&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_factories</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Type</span><span class=p>[</span><span class=n>SystemComponentFactory</span><span class=p>]]</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;development&#34;</span><span class=p>:</span> <span class=n>DevelopmentSystemFactory</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;production&#34;</span><span class=p>:</span> <span class=n>ProductionSystemFactory</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;System Factory Provider initialized (Singleton)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>set_environment</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>environment</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;환경 설정 변경&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>environment</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_factories</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_current_environment</span> <span class=o>=</span> <span class=n>environment</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Environment switched to: </span><span class=si>{</span><span class=n>environment</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Unknown environment: </span><span class=si>{</span><span class=n>environment</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_factory</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>SystemComponentFactory</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;현재 환경에 맞는 팩토리 반환 (싱글톤)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>factory_class</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_factories</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>_current_environment</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>factory_class</span><span class=p>()</span>  <span class=c1># 메타클래스에 의해 싱글톤 보장</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Application Service using the pattern</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ApplicationService</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>factory_provider</span> <span class=o>=</span> <span class=n>SystemFactoryProvider</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>system_components</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>object</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>initialize_system</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>environment</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&#34;development&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;시스템 초기화&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>factory_provider</span><span class=o>.</span><span class=n>set_environment</span><span class=p>(</span><span class=n>environment</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>factory</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>factory_provider</span><span class=o>.</span><span class=n>get_factory</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>system_components</span> <span class=o>=</span> <span class=n>factory</span><span class=o>.</span><span class=n>create_system_bundle</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 초기 설정</span>
</span></span><span class=line><span class=cl>        <span class=n>config_manager</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>system_components</span><span class=p>[</span><span class=s1>&#39;config_manager&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>config_manager</span><span class=o>.</span><span class=n>set_config</span><span class=p>(</span><span class=s2>&#34;app_name&#34;</span><span class=p>,</span> <span class=s2>&#34;MyApplication&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>config_manager</span><span class=o>.</span><span class=n>set_config</span><span class=p>(</span><span class=s2>&#34;version&#34;</span><span class=p>,</span> <span class=s2>&#34;1.0.0&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 초기 로그</span>
</span></span><span class=line><span class=cl>        <span class=n>logger</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>system_components</span><span class=p>[</span><span class=s1>&#39;logger&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>logger</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;System initialized in </span><span class=si>{</span><span class=n>environment</span><span class=si>}</span><span class=s2> mode&#34;</span><span class=p>,</span> <span class=s2>&#34;INFO&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>perform_operation</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>operation_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;비즈니스 로직 수행&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>system_components</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=ne>RuntimeError</span><span class=p>(</span><span class=s2>&#34;System not initialized&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>logger</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>system_components</span><span class=p>[</span><span class=s1>&#39;logger&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>config_manager</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>system_components</span><span class=p>[</span><span class=s1>&#39;config_manager&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>app_name</span> <span class=o>=</span> <span class=n>config_manager</span><span class=o>.</span><span class=n>get_config</span><span class=p>(</span><span class=s2>&#34;app_name&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>logger</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>app_name</span><span class=si>}</span><span class=s2>: Performing </span><span class=si>{</span><span class=n>operation_name</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>,</span> <span class=s2>&#34;INFO&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Multi-threaded usage demonstration</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>worker_thread</span><span class=p>(</span><span class=n>thread_id</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>environment</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;스레드별 작업 시뮬레이션&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>--- Thread </span><span class=si>{</span><span class=n>thread_id</span><span class=si>}</span><span class=s2> started ---&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>service</span> <span class=o>=</span> <span class=n>ApplicationService</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>service</span><span class=o>.</span><span class=n>initialize_system</span><span class=p>(</span><span class=n>environment</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>service</span><span class=o>.</span><span class=n>perform_operation</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Task-</span><span class=si>{</span><span class=n>thread_id</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 팩토리 인스턴스 확인</span>
</span></span><span class=line><span class=cl>    <span class=n>provider</span> <span class=o>=</span> <span class=n>SystemFactoryProvider</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>factory</span> <span class=o>=</span> <span class=n>provider</span><span class=o>.</span><span class=n>get_factory</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Thread </span><span class=si>{</span><span class=n>thread_id</span><span class=si>}</span><span class=s2>: Factory instance ID = </span><span class=si>{</span><span class=nb>id</span><span class=p>(</span><span class=n>factory</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;--- Thread </span><span class=si>{</span><span class=n>thread_id</span><span class=si>}</span><span class=s2> completed ---&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Usage Example</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>demonstrate_singleton_relationship</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;=== Abstract Factory + Singleton 협력 관계 ===&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Single-threaded usage</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;--- 단일 스레드 사용 ---&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>service1</span> <span class=o>=</span> <span class=n>ApplicationService</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>service1</span><span class=o>.</span><span class=n>initialize_system</span><span class=p>(</span><span class=s2>&#34;development&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>service1</span><span class=o>.</span><span class=n>perform_operation</span><span class=p>(</span><span class=s2>&#34;User Registration&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 동일한 팩토리 인스턴스 사용 확인</span>
</span></span><span class=line><span class=cl>    <span class=n>service2</span> <span class=o>=</span> <span class=n>ApplicationService</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>service2</span><span class=o>.</span><span class=n>initialize_system</span><span class=p>(</span><span class=s2>&#34;development&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>service2</span><span class=o>.</span><span class=n>perform_operation</span><span class=p>(</span><span class=s2>&#34;User Login&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 팩토리 인스턴스 비교</span>
</span></span><span class=line><span class=cl>    <span class=n>provider1</span> <span class=o>=</span> <span class=n>SystemFactoryProvider</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>provider2</span> <span class=o>=</span> <span class=n>SystemFactoryProvider</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>Provider instances are same: </span><span class=si>{</span><span class=nb>id</span><span class=p>(</span><span class=n>provider1</span><span class=p>)</span> <span class=o>==</span> <span class=nb>id</span><span class=p>(</span><span class=n>provider2</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>factory1</span> <span class=o>=</span> <span class=n>provider1</span><span class=o>.</span><span class=n>get_factory</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>factory2</span> <span class=o>=</span> <span class=n>provider2</span><span class=o>.</span><span class=n>get_factory</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Factory instances are same: </span><span class=si>{</span><span class=nb>id</span><span class=p>(</span><span class=n>factory1</span><span class=p>)</span> <span class=o>==</span> <span class=nb>id</span><span class=p>(</span><span class=n>factory2</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span> <span class=o>+</span> <span class=s2>&#34;-&#34;</span><span class=o>*</span><span class=mi>50</span> <span class=o>+</span> <span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Multi-threaded usage</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;--- 멀티 스레드 사용 (Singleton 스레드 안전성 테스트) ---&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=kn>import</span> <span class=nn>threading</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>threads</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>3</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>thread</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>target</span><span class=o>=</span><span class=n>worker_thread</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>            <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;production&#34;</span> <span class=k>if</span> <span class=n>i</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span> <span class=k>else</span> <span class=s2>&#34;development&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>threads</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>thread</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>thread</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 모든 스레드 완료 대기</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>thread</span> <span class=ow>in</span> <span class=n>threads</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>thread</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>--- 환경 전환 테스트 ---&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>provider</span> <span class=o>=</span> <span class=n>SystemFactoryProvider</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 개발 환경</span>
</span></span><span class=line><span class=cl>    <span class=n>provider</span><span class=o>.</span><span class=n>set_environment</span><span class=p>(</span><span class=s2>&#34;development&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>dev_factory</span> <span class=o>=</span> <span class=n>provider</span><span class=o>.</span><span class=n>get_factory</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>dev_components</span> <span class=o>=</span> <span class=n>dev_factory</span><span class=o>.</span><span class=n>create_system_bundle</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>dev_components</span><span class=p>[</span><span class=s1>&#39;logger&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=s2>&#34;Development environment active&#34;</span><span class=p>,</span> <span class=s2>&#34;INFO&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 운영 환경으로 전환</span>
</span></span><span class=line><span class=cl>    <span class=n>provider</span><span class=o>.</span><span class=n>set_environment</span><span class=p>(</span><span class=s2>&#34;production&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>prod_factory</span> <span class=o>=</span> <span class=n>provider</span><span class=o>.</span><span class=n>get_factory</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>prod_components</span> <span class=o>=</span> <span class=n>prod_factory</span><span class=o>.</span><span class=n>create_system_bundle</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>prod_components</span><span class=p>[</span><span class=s1>&#39;logger&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=s2>&#34;Production environment active&#34;</span><span class=p>,</span> <span class=s2>&#34;INFO&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 팩토리 인스턴스 비교 (환경별로 다른 싱글톤)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>Different environment factories: </span><span class=si>{</span><span class=nb>id</span><span class=p>(</span><span class=n>dev_factory</span><span class=p>)</span> <span class=o>!=</span> <span class=nb>id</span><span class=p>(</span><span class=n>prod_factory</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>demonstrate_singleton_relationship</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>Abstract Factory 의 구체적 구현체들이 Singleton 패턴을 적용하여 시스템 전체에서 단일 인스턴스만 존재</li><li>스레드 안전한 Singleton 구현으로 멀티스레드 환경에서도 안전하게 동작</li><li>Factory Provider 도 Singleton 으로 구현하여 환경별 팩토리 관리의 일관성 보장</li><li>메모리 효율성과 상태 일관성을 통한 시스템 안정성 확보</li></ul><h4 id=builder>Builder<a hidden class=anchor aria-hidden=true href=#builder>#</a></h4><p>Abstract Factory 가 제품군 선택을 담당하고, Builder 가 각 제품의 복잡한 조립 과정을 담당한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1>  1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2>  2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3>  3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4>  4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5>  5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6>  6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7>  7</a>
</span><span class=lnt id=hl-15-8><a class=lnlinks href=#hl-15-8>  8</a>
</span><span class=lnt id=hl-15-9><a class=lnlinks href=#hl-15-9>  9</a>
</span><span class=lnt id=hl-15-10><a class=lnlinks href=#hl-15-10> 10</a>
</span><span class=lnt id=hl-15-11><a class=lnlinks href=#hl-15-11> 11</a>
</span><span class=lnt id=hl-15-12><a class=lnlinks href=#hl-15-12> 12</a>
</span><span class=lnt id=hl-15-13><a class=lnlinks href=#hl-15-13> 13</a>
</span><span class=lnt id=hl-15-14><a class=lnlinks href=#hl-15-14> 14</a>
</span><span class=lnt id=hl-15-15><a class=lnlinks href=#hl-15-15> 15</a>
</span><span class=lnt id=hl-15-16><a class=lnlinks href=#hl-15-16> 16</a>
</span><span class=lnt id=hl-15-17><a class=lnlinks href=#hl-15-17> 17</a>
</span><span class=lnt id=hl-15-18><a class=lnlinks href=#hl-15-18> 18</a>
</span><span class=lnt id=hl-15-19><a class=lnlinks href=#hl-15-19> 19</a>
</span><span class=lnt id=hl-15-20><a class=lnlinks href=#hl-15-20> 20</a>
</span><span class=lnt id=hl-15-21><a class=lnlinks href=#hl-15-21> 21</a>
</span><span class=lnt id=hl-15-22><a class=lnlinks href=#hl-15-22> 22</a>
</span><span class=lnt id=hl-15-23><a class=lnlinks href=#hl-15-23> 23</a>
</span><span class=lnt id=hl-15-24><a class=lnlinks href=#hl-15-24> 24</a>
</span><span class=lnt id=hl-15-25><a class=lnlinks href=#hl-15-25> 25</a>
</span><span class=lnt id=hl-15-26><a class=lnlinks href=#hl-15-26> 26</a>
</span><span class=lnt id=hl-15-27><a class=lnlinks href=#hl-15-27> 27</a>
</span><span class=lnt id=hl-15-28><a class=lnlinks href=#hl-15-28> 28</a>
</span><span class=lnt id=hl-15-29><a class=lnlinks href=#hl-15-29> 29</a>
</span><span class=lnt id=hl-15-30><a class=lnlinks href=#hl-15-30> 30</a>
</span><span class=lnt id=hl-15-31><a class=lnlinks href=#hl-15-31> 31</a>
</span><span class=lnt id=hl-15-32><a class=lnlinks href=#hl-15-32> 32</a>
</span><span class=lnt id=hl-15-33><a class=lnlinks href=#hl-15-33> 33</a>
</span><span class=lnt id=hl-15-34><a class=lnlinks href=#hl-15-34> 34</a>
</span><span class=lnt id=hl-15-35><a class=lnlinks href=#hl-15-35> 35</a>
</span><span class=lnt id=hl-15-36><a class=lnlinks href=#hl-15-36> 36</a>
</span><span class=lnt id=hl-15-37><a class=lnlinks href=#hl-15-37> 37</a>
</span><span class=lnt id=hl-15-38><a class=lnlinks href=#hl-15-38> 38</a>
</span><span class=lnt id=hl-15-39><a class=lnlinks href=#hl-15-39> 39</a>
</span><span class=lnt id=hl-15-40><a class=lnlinks href=#hl-15-40> 40</a>
</span><span class=lnt id=hl-15-41><a class=lnlinks href=#hl-15-41> 41</a>
</span><span class=lnt id=hl-15-42><a class=lnlinks href=#hl-15-42> 42</a>
</span><span class=lnt id=hl-15-43><a class=lnlinks href=#hl-15-43> 43</a>
</span><span class=lnt id=hl-15-44><a class=lnlinks href=#hl-15-44> 44</a>
</span><span class=lnt id=hl-15-45><a class=lnlinks href=#hl-15-45> 45</a>
</span><span class=lnt id=hl-15-46><a class=lnlinks href=#hl-15-46> 46</a>
</span><span class=lnt id=hl-15-47><a class=lnlinks href=#hl-15-47> 47</a>
</span><span class=lnt id=hl-15-48><a class=lnlinks href=#hl-15-48> 48</a>
</span><span class=lnt id=hl-15-49><a class=lnlinks href=#hl-15-49> 49</a>
</span><span class=lnt id=hl-15-50><a class=lnlinks href=#hl-15-50> 50</a>
</span><span class=lnt id=hl-15-51><a class=lnlinks href=#hl-15-51> 51</a>
</span><span class=lnt id=hl-15-52><a class=lnlinks href=#hl-15-52> 52</a>
</span><span class=lnt id=hl-15-53><a class=lnlinks href=#hl-15-53> 53</a>
</span><span class=lnt id=hl-15-54><a class=lnlinks href=#hl-15-54> 54</a>
</span><span class=lnt id=hl-15-55><a class=lnlinks href=#hl-15-55> 55</a>
</span><span class=lnt id=hl-15-56><a class=lnlinks href=#hl-15-56> 56</a>
</span><span class=lnt id=hl-15-57><a class=lnlinks href=#hl-15-57> 57</a>
</span><span class=lnt id=hl-15-58><a class=lnlinks href=#hl-15-58> 58</a>
</span><span class=lnt id=hl-15-59><a class=lnlinks href=#hl-15-59> 59</a>
</span><span class=lnt id=hl-15-60><a class=lnlinks href=#hl-15-60> 60</a>
</span><span class=lnt id=hl-15-61><a class=lnlinks href=#hl-15-61> 61</a>
</span><span class=lnt id=hl-15-62><a class=lnlinks href=#hl-15-62> 62</a>
</span><span class=lnt id=hl-15-63><a class=lnlinks href=#hl-15-63> 63</a>
</span><span class=lnt id=hl-15-64><a class=lnlinks href=#hl-15-64> 64</a>
</span><span class=lnt id=hl-15-65><a class=lnlinks href=#hl-15-65> 65</a>
</span><span class=lnt id=hl-15-66><a class=lnlinks href=#hl-15-66> 66</a>
</span><span class=lnt id=hl-15-67><a class=lnlinks href=#hl-15-67> 67</a>
</span><span class=lnt id=hl-15-68><a class=lnlinks href=#hl-15-68> 68</a>
</span><span class=lnt id=hl-15-69><a class=lnlinks href=#hl-15-69> 69</a>
</span><span class=lnt id=hl-15-70><a class=lnlinks href=#hl-15-70> 70</a>
</span><span class=lnt id=hl-15-71><a class=lnlinks href=#hl-15-71> 71</a>
</span><span class=lnt id=hl-15-72><a class=lnlinks href=#hl-15-72> 72</a>
</span><span class=lnt id=hl-15-73><a class=lnlinks href=#hl-15-73> 73</a>
</span><span class=lnt id=hl-15-74><a class=lnlinks href=#hl-15-74> 74</a>
</span><span class=lnt id=hl-15-75><a class=lnlinks href=#hl-15-75> 75</a>
</span><span class=lnt id=hl-15-76><a class=lnlinks href=#hl-15-76> 76</a>
</span><span class=lnt id=hl-15-77><a class=lnlinks href=#hl-15-77> 77</a>
</span><span class=lnt id=hl-15-78><a class=lnlinks href=#hl-15-78> 78</a>
</span><span class=lnt id=hl-15-79><a class=lnlinks href=#hl-15-79> 79</a>
</span><span class=lnt id=hl-15-80><a class=lnlinks href=#hl-15-80> 80</a>
</span><span class=lnt id=hl-15-81><a class=lnlinks href=#hl-15-81> 81</a>
</span><span class=lnt id=hl-15-82><a class=lnlinks href=#hl-15-82> 82</a>
</span><span class=lnt id=hl-15-83><a class=lnlinks href=#hl-15-83> 83</a>
</span><span class=lnt id=hl-15-84><a class=lnlinks href=#hl-15-84> 84</a>
</span><span class=lnt id=hl-15-85><a class=lnlinks href=#hl-15-85> 85</a>
</span><span class=lnt id=hl-15-86><a class=lnlinks href=#hl-15-86> 86</a>
</span><span class=lnt id=hl-15-87><a class=lnlinks href=#hl-15-87> 87</a>
</span><span class=lnt id=hl-15-88><a class=lnlinks href=#hl-15-88> 88</a>
</span><span class=lnt id=hl-15-89><a class=lnlinks href=#hl-15-89> 89</a>
</span><span class=lnt id=hl-15-90><a class=lnlinks href=#hl-15-90> 90</a>
</span><span class=lnt id=hl-15-91><a class=lnlinks href=#hl-15-91> 91</a>
</span><span class=lnt id=hl-15-92><a class=lnlinks href=#hl-15-92> 92</a>
</span><span class=lnt id=hl-15-93><a class=lnlinks href=#hl-15-93> 93</a>
</span><span class=lnt id=hl-15-94><a class=lnlinks href=#hl-15-94> 94</a>
</span><span class=lnt id=hl-15-95><a class=lnlinks href=#hl-15-95> 95</a>
</span><span class=lnt id=hl-15-96><a class=lnlinks href=#hl-15-96> 96</a>
</span><span class=lnt id=hl-15-97><a class=lnlinks href=#hl-15-97> 97</a>
</span><span class=lnt id=hl-15-98><a class=lnlinks href=#hl-15-98> 98</a>
</span><span class=lnt id=hl-15-99><a class=lnlinks href=#hl-15-99> 99</a>
</span><span class=lnt id=hl-15-100><a class=lnlinks href=#hl-15-100>100</a>
</span><span class=lnt id=hl-15-101><a class=lnlinks href=#hl-15-101>101</a>
</span><span class=lnt id=hl-15-102><a class=lnlinks href=#hl-15-102>102</a>
</span><span class=lnt id=hl-15-103><a class=lnlinks href=#hl-15-103>103</a>
</span><span class=lnt id=hl-15-104><a class=lnlinks href=#hl-15-104>104</a>
</span><span class=lnt id=hl-15-105><a class=lnlinks href=#hl-15-105>105</a>
</span><span class=lnt id=hl-15-106><a class=lnlinks href=#hl-15-106>106</a>
</span><span class=lnt id=hl-15-107><a class=lnlinks href=#hl-15-107>107</a>
</span><span class=lnt id=hl-15-108><a class=lnlinks href=#hl-15-108>108</a>
</span><span class=lnt id=hl-15-109><a class=lnlinks href=#hl-15-109>109</a>
</span><span class=lnt id=hl-15-110><a class=lnlinks href=#hl-15-110>110</a>
</span><span class=lnt id=hl-15-111><a class=lnlinks href=#hl-15-111>111</a>
</span><span class=lnt id=hl-15-112><a class=lnlinks href=#hl-15-112>112</a>
</span><span class=lnt id=hl-15-113><a class=lnlinks href=#hl-15-113>113</a>
</span><span class=lnt id=hl-15-114><a class=lnlinks href=#hl-15-114>114</a>
</span><span class=lnt id=hl-15-115><a class=lnlinks href=#hl-15-115>115</a>
</span><span class=lnt id=hl-15-116><a class=lnlinks href=#hl-15-116>116</a>
</span><span class=lnt id=hl-15-117><a class=lnlinks href=#hl-15-117>117</a>
</span><span class=lnt id=hl-15-118><a class=lnlinks href=#hl-15-118>118</a>
</span><span class=lnt id=hl-15-119><a class=lnlinks href=#hl-15-119>119</a>
</span><span class=lnt id=hl-15-120><a class=lnlinks href=#hl-15-120>120</a>
</span><span class=lnt id=hl-15-121><a class=lnlinks href=#hl-15-121>121</a>
</span><span class=lnt id=hl-15-122><a class=lnlinks href=#hl-15-122>122</a>
</span><span class=lnt id=hl-15-123><a class=lnlinks href=#hl-15-123>123</a>
</span><span class=lnt id=hl-15-124><a class=lnlinks href=#hl-15-124>124</a>
</span><span class=lnt id=hl-15-125><a class=lnlinks href=#hl-15-125>125</a>
</span><span class=lnt id=hl-15-126><a class=lnlinks href=#hl-15-126>126</a>
</span><span class=lnt id=hl-15-127><a class=lnlinks href=#hl-15-127>127</a>
</span><span class=lnt id=hl-15-128><a class=lnlinks href=#hl-15-128>128</a>
</span><span class=lnt id=hl-15-129><a class=lnlinks href=#hl-15-129>129</a>
</span><span class=lnt id=hl-15-130><a class=lnlinks href=#hl-15-130>130</a>
</span><span class=lnt id=hl-15-131><a class=lnlinks href=#hl-15-131>131</a>
</span><span class=lnt id=hl-15-132><a class=lnlinks href=#hl-15-132>132</a>
</span><span class=lnt id=hl-15-133><a class=lnlinks href=#hl-15-133>133</a>
</span><span class=lnt id=hl-15-134><a class=lnlinks href=#hl-15-134>134</a>
</span><span class=lnt id=hl-15-135><a class=lnlinks href=#hl-15-135>135</a>
</span><span class=lnt id=hl-15-136><a class=lnlinks href=#hl-15-136>136</a>
</span><span class=lnt id=hl-15-137><a class=lnlinks href=#hl-15-137>137</a>
</span><span class=lnt id=hl-15-138><a class=lnlinks href=#hl-15-138>138</a>
</span><span class=lnt id=hl-15-139><a class=lnlinks href=#hl-15-139>139</a>
</span><span class=lnt id=hl-15-140><a class=lnlinks href=#hl-15-140>140</a>
</span><span class=lnt id=hl-15-141><a class=lnlinks href=#hl-15-141>141</a>
</span><span class=lnt id=hl-15-142><a class=lnlinks href=#hl-15-142>142</a>
</span><span class=lnt id=hl-15-143><a class=lnlinks href=#hl-15-143>143</a>
</span><span class=lnt id=hl-15-144><a class=lnlinks href=#hl-15-144>144</a>
</span><span class=lnt id=hl-15-145><a class=lnlinks href=#hl-15-145>145</a>
</span><span class=lnt id=hl-15-146><a class=lnlinks href=#hl-15-146>146</a>
</span><span class=lnt id=hl-15-147><a class=lnlinks href=#hl-15-147>147</a>
</span><span class=lnt id=hl-15-148><a class=lnlinks href=#hl-15-148>148</a>
</span><span class=lnt id=hl-15-149><a class=lnlinks href=#hl-15-149>149</a>
</span><span class=lnt id=hl-15-150><a class=lnlinks href=#hl-15-150>150</a>
</span><span class=lnt id=hl-15-151><a class=lnlinks href=#hl-15-151>151</a>
</span><span class=lnt id=hl-15-152><a class=lnlinks href=#hl-15-152>152</a>
</span><span class=lnt id=hl-15-153><a class=lnlinks href=#hl-15-153>153</a>
</span><span class=lnt id=hl-15-154><a class=lnlinks href=#hl-15-154>154</a>
</span><span class=lnt id=hl-15-155><a class=lnlinks href=#hl-15-155>155</a>
</span><span class=lnt id=hl-15-156><a class=lnlinks href=#hl-15-156>156</a>
</span><span class=lnt id=hl-15-157><a class=lnlinks href=#hl-15-157>157</a>
</span><span class=lnt id=hl-15-158><a class=lnlinks href=#hl-15-158>158</a>
</span><span class=lnt id=hl-15-159><a class=lnlinks href=#hl-15-159>159</a>
</span><span class=lnt id=hl-15-160><a class=lnlinks href=#hl-15-160>160</a>
</span><span class=lnt id=hl-15-161><a class=lnlinks href=#hl-15-161>161</a>
</span><span class=lnt id=hl-15-162><a class=lnlinks href=#hl-15-162>162</a>
</span><span class=lnt id=hl-15-163><a class=lnlinks href=#hl-15-163>163</a>
</span><span class=lnt id=hl-15-164><a class=lnlinks href=#hl-15-164>164</a>
</span><span class=lnt id=hl-15-165><a class=lnlinks href=#hl-15-165>165</a>
</span><span class=lnt id=hl-15-166><a class=lnlinks href=#hl-15-166>166</a>
</span><span class=lnt id=hl-15-167><a class=lnlinks href=#hl-15-167>167</a>
</span><span class=lnt id=hl-15-168><a class=lnlinks href=#hl-15-168>168</a>
</span><span class=lnt id=hl-15-169><a class=lnlinks href=#hl-15-169>169</a>
</span><span class=lnt id=hl-15-170><a class=lnlinks href=#hl-15-170>170</a>
</span><span class=lnt id=hl-15-171><a class=lnlinks href=#hl-15-171>171</a>
</span><span class=lnt id=hl-15-172><a class=lnlinks href=#hl-15-172>172</a>
</span><span class=lnt id=hl-15-173><a class=lnlinks href=#hl-15-173>173</a>
</span><span class=lnt id=hl-15-174><a class=lnlinks href=#hl-15-174>174</a>
</span><span class=lnt id=hl-15-175><a class=lnlinks href=#hl-15-175>175</a>
</span><span class=lnt id=hl-15-176><a class=lnlinks href=#hl-15-176>176</a>
</span><span class=lnt id=hl-15-177><a class=lnlinks href=#hl-15-177>177</a>
</span><span class=lnt id=hl-15-178><a class=lnlinks href=#hl-15-178>178</a>
</span><span class=lnt id=hl-15-179><a class=lnlinks href=#hl-15-179>179</a>
</span><span class=lnt id=hl-15-180><a class=lnlinks href=#hl-15-180>180</a>
</span><span class=lnt id=hl-15-181><a class=lnlinks href=#hl-15-181>181</a>
</span><span class=lnt id=hl-15-182><a class=lnlinks href=#hl-15-182>182</a>
</span><span class=lnt id=hl-15-183><a class=lnlinks href=#hl-15-183>183</a>
</span><span class=lnt id=hl-15-184><a class=lnlinks href=#hl-15-184>184</a>
</span><span class=lnt id=hl-15-185><a class=lnlinks href=#hl-15-185>185</a>
</span><span class=lnt id=hl-15-186><a class=lnlinks href=#hl-15-186>186</a>
</span><span class=lnt id=hl-15-187><a class=lnlinks href=#hl-15-187>187</a>
</span><span class=lnt id=hl-15-188><a class=lnlinks href=#hl-15-188>188</a>
</span><span class=lnt id=hl-15-189><a class=lnlinks href=#hl-15-189>189</a>
</span><span class=lnt id=hl-15-190><a class=lnlinks href=#hl-15-190>190</a>
</span><span class=lnt id=hl-15-191><a class=lnlinks href=#hl-15-191>191</a>
</span><span class=lnt id=hl-15-192><a class=lnlinks href=#hl-15-192>192</a>
</span><span class=lnt id=hl-15-193><a class=lnlinks href=#hl-15-193>193</a>
</span><span class=lnt id=hl-15-194><a class=lnlinks href=#hl-15-194>194</a>
</span><span class=lnt id=hl-15-195><a class=lnlinks href=#hl-15-195>195</a>
</span><span class=lnt id=hl-15-196><a class=lnlinks href=#hl-15-196>196</a>
</span><span class=lnt id=hl-15-197><a class=lnlinks href=#hl-15-197>197</a>
</span><span class=lnt id=hl-15-198><a class=lnlinks href=#hl-15-198>198</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>abc</span> <span class=kn>import</span> <span class=n>ABC</span><span class=p>,</span> <span class=n>abstractmethod</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Optional</span><span class=p>,</span> <span class=n>Dict</span><span class=p>,</span> <span class=n>Any</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Product classes</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DatabaseConfiguration</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>host</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>port</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>database</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>ssl_enabled</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>connection_pool_size</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>timeout</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>30</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>connection_string</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;Database Config: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>connection_string</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>QueryOptimizer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>cache_enabled</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>cache_size</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>1000</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>query_timeout</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>30</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parallel_execution</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>optimization_level</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&#34;basic&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;Query Optimizer: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>optimization_level</span><span class=si>}</span><span class=s2> level&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Abstract Builder</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DatabaseBuilder</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>build_configuration</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;DatabaseBuilder&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>build_optimizer</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;DatabaseBuilder&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_result</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Concrete Builders</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MySQLBuilder</span><span class=p>(</span><span class=n>DatabaseBuilder</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>reset</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>reset</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=n>DatabaseConfiguration</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>optimizer</span> <span class=o>=</span> <span class=n>QueryOptimizer</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>build_configuration</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;MySQLBuilder&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;MySQL 특화 설정 구성&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>host</span> <span class=o>=</span> <span class=s2>&#34;mysql-server&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>port</span> <span class=o>=</span> <span class=mi>3306</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>ssl_enabled</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>connection_pool_size</span> <span class=o>=</span> <span class=mi>20</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>connection_string</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;mysql://</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>host</span><span class=si>}</span><span class=s2>:</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>port</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Building MySQL configuration with optimized settings&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>build_optimizer</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;MySQLBuilder&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;MySQL 특화 최적화 설정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>optimizer</span><span class=o>.</span><span class=n>cache_enabled</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>optimizer</span><span class=o>.</span><span class=n>cache_size</span> <span class=o>=</span> <span class=mi>2000</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>optimizer</span><span class=o>.</span><span class=n>optimization_level</span> <span class=o>=</span> <span class=s2>&#34;advanced&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>optimizer</span><span class=o>.</span><span class=n>parallel_execution</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Building MySQL query optimizer with advanced features&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_result</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;configuration&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;optimizer&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>optimizer</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>reset</span><span class=p>()</span>  <span class=c1># Builder 재사용을 위한 리셋</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PostgreSQLBuilder</span><span class=p>(</span><span class=n>DatabaseBuilder</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>reset</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>reset</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=n>DatabaseConfiguration</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>optimizer</span> <span class=o>=</span> <span class=n>QueryOptimizer</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>build_configuration</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;PostgreSQLBuilder&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;PostgreSQL 특화 설정 구성&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>host</span> <span class=o>=</span> <span class=s2>&#34;postgres-server&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>port</span> <span class=o>=</span> <span class=mi>5432</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>ssl_enabled</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>connection_pool_size</span> <span class=o>=</span> <span class=mi>15</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>timeout</span> <span class=o>=</span> <span class=mi>60</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>connection_string</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;postgresql://</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>host</span><span class=si>}</span><span class=s2>:</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>port</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Building PostgreSQL configuration with enterprise settings&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>build_optimizer</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;PostgreSQLBuilder&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;PostgreSQL 특화 최적화 설정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>optimizer</span><span class=o>.</span><span class=n>cache_enabled</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>optimizer</span><span class=o>.</span><span class=n>cache_size</span> <span class=o>=</span> <span class=mi>5000</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>optimizer</span><span class=o>.</span><span class=n>optimization_level</span> <span class=o>=</span> <span class=s2>&#34;enterprise&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>optimizer</span><span class=o>.</span><span class=n>parallel_execution</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>optimizer</span><span class=o>.</span><span class=n>query_timeout</span> <span class=o>=</span> <span class=mi>120</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Building PostgreSQL query optimizer with enterprise features&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_result</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;configuration&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;optimizer&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>optimizer</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>reset</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Abstract Factory + Builder 조합</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DatabaseSystemFactory</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_builder</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>DatabaseBuilder</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;Builder 인스턴스 생성 (Factory Method)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_complete_database_system</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;Template Method: Builder를 사용한 완전한 시스템 구성&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>builder</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_builder</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># Builder 패턴의 Director 역할 수행</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>(</span><span class=n>builder</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=n>build_configuration</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=n>build_optimizer</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=n>get_result</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MySQLSystemFactory</span><span class=p>(</span><span class=n>DatabaseSystemFactory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_builder</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>DatabaseBuilder</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>MySQLBuilder</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PostgreSQLSystemFactory</span><span class=p>(</span><span class=n>DatabaseSystemFactory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_builder</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>DatabaseBuilder</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>PostgreSQLBuilder</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Director class for complex building scenarios</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DatabaseSystemDirector</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>factory</span><span class=p>:</span> <span class=n>DatabaseSystemFactory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>factory</span> <span class=o>=</span> <span class=n>factory</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_development_system</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;개발 환경용 간단한 구성&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>builder</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>factory</span><span class=o>.</span><span class=n>create_builder</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>builder</span><span class=o>.</span><span class=n>build_configuration</span><span class=p>()</span><span class=o>.</span><span class=n>get_result</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_production_system</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;운영 환경용 완전한 구성&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>factory</span><span class=o>.</span><span class=n>create_complete_database_system</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_high_performance_system</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;고성능 환경용 커스텀 구성&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>builder</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>factory</span><span class=o>.</span><span class=n>create_builder</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=p>(</span><span class=n>builder</span>
</span></span><span class=line><span class=cl>                 <span class=o>.</span><span class=n>build_configuration</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                 <span class=o>.</span><span class=n>build_optimizer</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                 <span class=o>.</span><span class=n>get_result</span><span class=p>())</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 추가 고성능 설정</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span><span class=p>[</span><span class=s1>&#39;configuration&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>connection_pool_size</span> <span class=o>*=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span><span class=p>[</span><span class=s1>&#39;optimizer&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>cache_size</span> <span class=o>*=</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Applied high-performance enhancements&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Usage Example</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>demonstrate_builder_relationship</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;=== Abstract Factory + Builder 조합 관계 ===&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># MySQL 시스템 구성</span>
</span></span><span class=line><span class=cl>    <span class=n>mysql_factory</span> <span class=o>=</span> <span class=n>MySQLSystemFactory</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>mysql_director</span> <span class=o>=</span> <span class=n>DatabaseSystemDirector</span><span class=p>(</span><span class=n>mysql_factory</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;--- MySQL 운영 시스템 구성 ---&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>mysql_prod_system</span> <span class=o>=</span> <span class=n>mysql_director</span><span class=o>.</span><span class=n>create_production_system</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Configuration: </span><span class=si>{</span><span class=n>mysql_prod_system</span><span class=p>[</span><span class=s1>&#39;configuration&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Optimizer: </span><span class=si>{</span><span class=n>mysql_prod_system</span><span class=p>[</span><span class=s1>&#39;optimizer&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>--- MySQL 고성능 시스템 구성 ---&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>mysql_hp_system</span> <span class=o>=</span> <span class=n>mysql_director</span><span class=o>.</span><span class=n>create_high_performance_system</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Enhanced Configuration: </span><span class=si>{</span><span class=n>mysql_hp_system</span><span class=p>[</span><span class=s1>&#39;configuration&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Enhanced Optimizer: </span><span class=si>{</span><span class=n>mysql_hp_system</span><span class=p>[</span><span class=s1>&#39;optimizer&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span> <span class=o>+</span> <span class=s2>&#34;-&#34;</span><span class=o>*</span><span class=mi>50</span> <span class=o>+</span> <span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># PostgreSQL 시스템 구성</span>
</span></span><span class=line><span class=cl>    <span class=n>postgres_factory</span> <span class=o>=</span> <span class=n>PostgreSQLSystemFactory</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>postgres_director</span> <span class=o>=</span> <span class=n>DatabaseSystemDirector</span><span class=p>(</span><span class=n>postgres_factory</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;--- PostgreSQL 개발 시스템 구성 ---&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>postgres_dev_system</span> <span class=o>=</span> <span class=n>postgres_director</span><span class=o>.</span><span class=n>create_development_system</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Dev Configuration: </span><span class=si>{</span><span class=n>postgres_dev_system</span><span class=p>[</span><span class=s1>&#39;configuration&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>demonstrate_builder_relationship</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>Abstract Factory 가 어떤 데이터베이스 시스템 (MySQL/PostgreSQL) 을 구성할지 결정</li><li>Builder 가 선택된 시스템의 복잡한 설정과 최적화 과정을 단계별로 수행</li><li>Director 가 다양한 구성 시나리오 (개발/운영/고성능) 에 따른 빌드 과정 조율</li></ul><h4 id=factory-method-1>Factory Method<a hidden class=anchor aria-hidden=true href=#factory-method-1>#</a></h4><p>복잡한 서브시스템의 객체 생성을 단순화하고 싶을 때 Abstract Factory 대신 Facade Pattern 을 사용할 수 있다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1>  1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2>  2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3>  3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4>  4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5>  5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6>  6</a>
</span><span class=lnt id=hl-16-7><a class=lnlinks href=#hl-16-7>  7</a>
</span><span class=lnt id=hl-16-8><a class=lnlinks href=#hl-16-8>  8</a>
</span><span class=lnt id=hl-16-9><a class=lnlinks href=#hl-16-9>  9</a>
</span><span class=lnt id=hl-16-10><a class=lnlinks href=#hl-16-10> 10</a>
</span><span class=lnt id=hl-16-11><a class=lnlinks href=#hl-16-11> 11</a>
</span><span class=lnt id=hl-16-12><a class=lnlinks href=#hl-16-12> 12</a>
</span><span class=lnt id=hl-16-13><a class=lnlinks href=#hl-16-13> 13</a>
</span><span class=lnt id=hl-16-14><a class=lnlinks href=#hl-16-14> 14</a>
</span><span class=lnt id=hl-16-15><a class=lnlinks href=#hl-16-15> 15</a>
</span><span class=lnt id=hl-16-16><a class=lnlinks href=#hl-16-16> 16</a>
</span><span class=lnt id=hl-16-17><a class=lnlinks href=#hl-16-17> 17</a>
</span><span class=lnt id=hl-16-18><a class=lnlinks href=#hl-16-18> 18</a>
</span><span class=lnt id=hl-16-19><a class=lnlinks href=#hl-16-19> 19</a>
</span><span class=lnt id=hl-16-20><a class=lnlinks href=#hl-16-20> 20</a>
</span><span class=lnt id=hl-16-21><a class=lnlinks href=#hl-16-21> 21</a>
</span><span class=lnt id=hl-16-22><a class=lnlinks href=#hl-16-22> 22</a>
</span><span class=lnt id=hl-16-23><a class=lnlinks href=#hl-16-23> 23</a>
</span><span class=lnt id=hl-16-24><a class=lnlinks href=#hl-16-24> 24</a>
</span><span class=lnt id=hl-16-25><a class=lnlinks href=#hl-16-25> 25</a>
</span><span class=lnt id=hl-16-26><a class=lnlinks href=#hl-16-26> 26</a>
</span><span class=lnt id=hl-16-27><a class=lnlinks href=#hl-16-27> 27</a>
</span><span class=lnt id=hl-16-28><a class=lnlinks href=#hl-16-28> 28</a>
</span><span class=lnt id=hl-16-29><a class=lnlinks href=#hl-16-29> 29</a>
</span><span class=lnt id=hl-16-30><a class=lnlinks href=#hl-16-30> 30</a>
</span><span class=lnt id=hl-16-31><a class=lnlinks href=#hl-16-31> 31</a>
</span><span class=lnt id=hl-16-32><a class=lnlinks href=#hl-16-32> 32</a>
</span><span class=lnt id=hl-16-33><a class=lnlinks href=#hl-16-33> 33</a>
</span><span class=lnt id=hl-16-34><a class=lnlinks href=#hl-16-34> 34</a>
</span><span class=lnt id=hl-16-35><a class=lnlinks href=#hl-16-35> 35</a>
</span><span class=lnt id=hl-16-36><a class=lnlinks href=#hl-16-36> 36</a>
</span><span class=lnt id=hl-16-37><a class=lnlinks href=#hl-16-37> 37</a>
</span><span class=lnt id=hl-16-38><a class=lnlinks href=#hl-16-38> 38</a>
</span><span class=lnt id=hl-16-39><a class=lnlinks href=#hl-16-39> 39</a>
</span><span class=lnt id=hl-16-40><a class=lnlinks href=#hl-16-40> 40</a>
</span><span class=lnt id=hl-16-41><a class=lnlinks href=#hl-16-41> 41</a>
</span><span class=lnt id=hl-16-42><a class=lnlinks href=#hl-16-42> 42</a>
</span><span class=lnt id=hl-16-43><a class=lnlinks href=#hl-16-43> 43</a>
</span><span class=lnt id=hl-16-44><a class=lnlinks href=#hl-16-44> 44</a>
</span><span class=lnt id=hl-16-45><a class=lnlinks href=#hl-16-45> 45</a>
</span><span class=lnt id=hl-16-46><a class=lnlinks href=#hl-16-46> 46</a>
</span><span class=lnt id=hl-16-47><a class=lnlinks href=#hl-16-47> 47</a>
</span><span class=lnt id=hl-16-48><a class=lnlinks href=#hl-16-48> 48</a>
</span><span class=lnt id=hl-16-49><a class=lnlinks href=#hl-16-49> 49</a>
</span><span class=lnt id=hl-16-50><a class=lnlinks href=#hl-16-50> 50</a>
</span><span class=lnt id=hl-16-51><a class=lnlinks href=#hl-16-51> 51</a>
</span><span class=lnt id=hl-16-52><a class=lnlinks href=#hl-16-52> 52</a>
</span><span class=lnt id=hl-16-53><a class=lnlinks href=#hl-16-53> 53</a>
</span><span class=lnt id=hl-16-54><a class=lnlinks href=#hl-16-54> 54</a>
</span><span class=lnt id=hl-16-55><a class=lnlinks href=#hl-16-55> 55</a>
</span><span class=lnt id=hl-16-56><a class=lnlinks href=#hl-16-56> 56</a>
</span><span class=lnt id=hl-16-57><a class=lnlinks href=#hl-16-57> 57</a>
</span><span class=lnt id=hl-16-58><a class=lnlinks href=#hl-16-58> 58</a>
</span><span class=lnt id=hl-16-59><a class=lnlinks href=#hl-16-59> 59</a>
</span><span class=lnt id=hl-16-60><a class=lnlinks href=#hl-16-60> 60</a>
</span><span class=lnt id=hl-16-61><a class=lnlinks href=#hl-16-61> 61</a>
</span><span class=lnt id=hl-16-62><a class=lnlinks href=#hl-16-62> 62</a>
</span><span class=lnt id=hl-16-63><a class=lnlinks href=#hl-16-63> 63</a>
</span><span class=lnt id=hl-16-64><a class=lnlinks href=#hl-16-64> 64</a>
</span><span class=lnt id=hl-16-65><a class=lnlinks href=#hl-16-65> 65</a>
</span><span class=lnt id=hl-16-66><a class=lnlinks href=#hl-16-66> 66</a>
</span><span class=lnt id=hl-16-67><a class=lnlinks href=#hl-16-67> 67</a>
</span><span class=lnt id=hl-16-68><a class=lnlinks href=#hl-16-68> 68</a>
</span><span class=lnt id=hl-16-69><a class=lnlinks href=#hl-16-69> 69</a>
</span><span class=lnt id=hl-16-70><a class=lnlinks href=#hl-16-70> 70</a>
</span><span class=lnt id=hl-16-71><a class=lnlinks href=#hl-16-71> 71</a>
</span><span class=lnt id=hl-16-72><a class=lnlinks href=#hl-16-72> 72</a>
</span><span class=lnt id=hl-16-73><a class=lnlinks href=#hl-16-73> 73</a>
</span><span class=lnt id=hl-16-74><a class=lnlinks href=#hl-16-74> 74</a>
</span><span class=lnt id=hl-16-75><a class=lnlinks href=#hl-16-75> 75</a>
</span><span class=lnt id=hl-16-76><a class=lnlinks href=#hl-16-76> 76</a>
</span><span class=lnt id=hl-16-77><a class=lnlinks href=#hl-16-77> 77</a>
</span><span class=lnt id=hl-16-78><a class=lnlinks href=#hl-16-78> 78</a>
</span><span class=lnt id=hl-16-79><a class=lnlinks href=#hl-16-79> 79</a>
</span><span class=lnt id=hl-16-80><a class=lnlinks href=#hl-16-80> 80</a>
</span><span class=lnt id=hl-16-81><a class=lnlinks href=#hl-16-81> 81</a>
</span><span class=lnt id=hl-16-82><a class=lnlinks href=#hl-16-82> 82</a>
</span><span class=lnt id=hl-16-83><a class=lnlinks href=#hl-16-83> 83</a>
</span><span class=lnt id=hl-16-84><a class=lnlinks href=#hl-16-84> 84</a>
</span><span class=lnt id=hl-16-85><a class=lnlinks href=#hl-16-85> 85</a>
</span><span class=lnt id=hl-16-86><a class=lnlinks href=#hl-16-86> 86</a>
</span><span class=lnt id=hl-16-87><a class=lnlinks href=#hl-16-87> 87</a>
</span><span class=lnt id=hl-16-88><a class=lnlinks href=#hl-16-88> 88</a>
</span><span class=lnt id=hl-16-89><a class=lnlinks href=#hl-16-89> 89</a>
</span><span class=lnt id=hl-16-90><a class=lnlinks href=#hl-16-90> 90</a>
</span><span class=lnt id=hl-16-91><a class=lnlinks href=#hl-16-91> 91</a>
</span><span class=lnt id=hl-16-92><a class=lnlinks href=#hl-16-92> 92</a>
</span><span class=lnt id=hl-16-93><a class=lnlinks href=#hl-16-93> 93</a>
</span><span class=lnt id=hl-16-94><a class=lnlinks href=#hl-16-94> 94</a>
</span><span class=lnt id=hl-16-95><a class=lnlinks href=#hl-16-95> 95</a>
</span><span class=lnt id=hl-16-96><a class=lnlinks href=#hl-16-96> 96</a>
</span><span class=lnt id=hl-16-97><a class=lnlinks href=#hl-16-97> 97</a>
</span><span class=lnt id=hl-16-98><a class=lnlinks href=#hl-16-98> 98</a>
</span><span class=lnt id=hl-16-99><a class=lnlinks href=#hl-16-99> 99</a>
</span><span class=lnt id=hl-16-100><a class=lnlinks href=#hl-16-100>100</a>
</span><span class=lnt id=hl-16-101><a class=lnlinks href=#hl-16-101>101</a>
</span><span class=lnt id=hl-16-102><a class=lnlinks href=#hl-16-102>102</a>
</span><span class=lnt id=hl-16-103><a class=lnlinks href=#hl-16-103>103</a>
</span><span class=lnt id=hl-16-104><a class=lnlinks href=#hl-16-104>104</a>
</span><span class=lnt id=hl-16-105><a class=lnlinks href=#hl-16-105>105</a>
</span><span class=lnt id=hl-16-106><a class=lnlinks href=#hl-16-106>106</a>
</span><span class=lnt id=hl-16-107><a class=lnlinks href=#hl-16-107>107</a>
</span><span class=lnt id=hl-16-108><a class=lnlinks href=#hl-16-108>108</a>
</span><span class=lnt id=hl-16-109><a class=lnlinks href=#hl-16-109>109</a>
</span><span class=lnt id=hl-16-110><a class=lnlinks href=#hl-16-110>110</a>
</span><span class=lnt id=hl-16-111><a class=lnlinks href=#hl-16-111>111</a>
</span><span class=lnt id=hl-16-112><a class=lnlinks href=#hl-16-112>112</a>
</span><span class=lnt id=hl-16-113><a class=lnlinks href=#hl-16-113>113</a>
</span><span class=lnt id=hl-16-114><a class=lnlinks href=#hl-16-114>114</a>
</span><span class=lnt id=hl-16-115><a class=lnlinks href=#hl-16-115>115</a>
</span><span class=lnt id=hl-16-116><a class=lnlinks href=#hl-16-116>116</a>
</span><span class=lnt id=hl-16-117><a class=lnlinks href=#hl-16-117>117</a>
</span><span class=lnt id=hl-16-118><a class=lnlinks href=#hl-16-118>118</a>
</span><span class=lnt id=hl-16-119><a class=lnlinks href=#hl-16-119>119</a>
</span><span class=lnt id=hl-16-120><a class=lnlinks href=#hl-16-120>120</a>
</span><span class=lnt id=hl-16-121><a class=lnlinks href=#hl-16-121>121</a>
</span><span class=lnt id=hl-16-122><a class=lnlinks href=#hl-16-122>122</a>
</span><span class=lnt id=hl-16-123><a class=lnlinks href=#hl-16-123>123</a>
</span><span class=lnt id=hl-16-124><a class=lnlinks href=#hl-16-124>124</a>
</span><span class=lnt id=hl-16-125><a class=lnlinks href=#hl-16-125>125</a>
</span><span class=lnt id=hl-16-126><a class=lnlinks href=#hl-16-126>126</a>
</span><span class=lnt id=hl-16-127><a class=lnlinks href=#hl-16-127>127</a>
</span><span class=lnt id=hl-16-128><a class=lnlinks href=#hl-16-128>128</a>
</span><span class=lnt id=hl-16-129><a class=lnlinks href=#hl-16-129>129</a>
</span><span class=lnt id=hl-16-130><a class=lnlinks href=#hl-16-130>130</a>
</span><span class=lnt id=hl-16-131><a class=lnlinks href=#hl-16-131>131</a>
</span><span class=lnt id=hl-16-132><a class=lnlinks href=#hl-16-132>132</a>
</span><span class=lnt id=hl-16-133><a class=lnlinks href=#hl-16-133>133</a>
</span><span class=lnt id=hl-16-134><a class=lnlinks href=#hl-16-134>134</a>
</span><span class=lnt id=hl-16-135><a class=lnlinks href=#hl-16-135>135</a>
</span><span class=lnt id=hl-16-136><a class=lnlinks href=#hl-16-136>136</a>
</span><span class=lnt id=hl-16-137><a class=lnlinks href=#hl-16-137>137</a>
</span><span class=lnt id=hl-16-138><a class=lnlinks href=#hl-16-138>138</a>
</span><span class=lnt id=hl-16-139><a class=lnlinks href=#hl-16-139>139</a>
</span><span class=lnt id=hl-16-140><a class=lnlinks href=#hl-16-140>140</a>
</span><span class=lnt id=hl-16-141><a class=lnlinks href=#hl-16-141>141</a>
</span><span class=lnt id=hl-16-142><a class=lnlinks href=#hl-16-142>142</a>
</span><span class=lnt id=hl-16-143><a class=lnlinks href=#hl-16-143>143</a>
</span><span class=lnt id=hl-16-144><a class=lnlinks href=#hl-16-144>144</a>
</span><span class=lnt id=hl-16-145><a class=lnlinks href=#hl-16-145>145</a>
</span><span class=lnt id=hl-16-146><a class=lnlinks href=#hl-16-146>146</a>
</span><span class=lnt id=hl-16-147><a class=lnlinks href=#hl-16-147>147</a>
</span><span class=lnt id=hl-16-148><a class=lnlinks href=#hl-16-148>148</a>
</span><span class=lnt id=hl-16-149><a class=lnlinks href=#hl-16-149>149</a>
</span><span class=lnt id=hl-16-150><a class=lnlinks href=#hl-16-150>150</a>
</span><span class=lnt id=hl-16-151><a class=lnlinks href=#hl-16-151>151</a>
</span><span class=lnt id=hl-16-152><a class=lnlinks href=#hl-16-152>152</a>
</span><span class=lnt id=hl-16-153><a class=lnlinks href=#hl-16-153>153</a>
</span><span class=lnt id=hl-16-154><a class=lnlinks href=#hl-16-154>154</a>
</span><span class=lnt id=hl-16-155><a class=lnlinks href=#hl-16-155>155</a>
</span><span class=lnt id=hl-16-156><a class=lnlinks href=#hl-16-156>156</a>
</span><span class=lnt id=hl-16-157><a class=lnlinks href=#hl-16-157>157</a>
</span><span class=lnt id=hl-16-158><a class=lnlinks href=#hl-16-158>158</a>
</span><span class=lnt id=hl-16-159><a class=lnlinks href=#hl-16-159>159</a>
</span><span class=lnt id=hl-16-160><a class=lnlinks href=#hl-16-160>160</a>
</span><span class=lnt id=hl-16-161><a class=lnlinks href=#hl-16-161>161</a>
</span><span class=lnt id=hl-16-162><a class=lnlinks href=#hl-16-162>162</a>
</span><span class=lnt id=hl-16-163><a class=lnlinks href=#hl-16-163>163</a>
</span><span class=lnt id=hl-16-164><a class=lnlinks href=#hl-16-164>164</a>
</span><span class=lnt id=hl-16-165><a class=lnlinks href=#hl-16-165>165</a>
</span><span class=lnt id=hl-16-166><a class=lnlinks href=#hl-16-166>166</a>
</span><span class=lnt id=hl-16-167><a class=lnlinks href=#hl-16-167>167</a>
</span><span class=lnt id=hl-16-168><a class=lnlinks href=#hl-16-168>168</a>
</span><span class=lnt id=hl-16-169><a class=lnlinks href=#hl-16-169>169</a>
</span><span class=lnt id=hl-16-170><a class=lnlinks href=#hl-16-170>170</a>
</span><span class=lnt id=hl-16-171><a class=lnlinks href=#hl-16-171>171</a>
</span><span class=lnt id=hl-16-172><a class=lnlinks href=#hl-16-172>172</a>
</span><span class=lnt id=hl-16-173><a class=lnlinks href=#hl-16-173>173</a>
</span><span class=lnt id=hl-16-174><a class=lnlinks href=#hl-16-174>174</a>
</span><span class=lnt id=hl-16-175><a class=lnlinks href=#hl-16-175>175</a>
</span><span class=lnt id=hl-16-176><a class=lnlinks href=#hl-16-176>176</a>
</span><span class=lnt id=hl-16-177><a class=lnlinks href=#hl-16-177>177</a>
</span><span class=lnt id=hl-16-178><a class=lnlinks href=#hl-16-178>178</a>
</span><span class=lnt id=hl-16-179><a class=lnlinks href=#hl-16-179>179</a>
</span><span class=lnt id=hl-16-180><a class=lnlinks href=#hl-16-180>180</a>
</span><span class=lnt id=hl-16-181><a class=lnlinks href=#hl-16-181>181</a>
</span><span class=lnt id=hl-16-182><a class=lnlinks href=#hl-16-182>182</a>
</span><span class=lnt id=hl-16-183><a class=lnlinks href=#hl-16-183>183</a>
</span><span class=lnt id=hl-16-184><a class=lnlinks href=#hl-16-184>184</a>
</span><span class=lnt id=hl-16-185><a class=lnlinks href=#hl-16-185>185</a>
</span><span class=lnt id=hl-16-186><a class=lnlinks href=#hl-16-186>186</a>
</span><span class=lnt id=hl-16-187><a class=lnlinks href=#hl-16-187>187</a>
</span><span class=lnt id=hl-16-188><a class=lnlinks href=#hl-16-188>188</a>
</span><span class=lnt id=hl-16-189><a class=lnlinks href=#hl-16-189>189</a>
</span><span class=lnt id=hl-16-190><a class=lnlinks href=#hl-16-190>190</a>
</span><span class=lnt id=hl-16-191><a class=lnlinks href=#hl-16-191>191</a>
</span><span class=lnt id=hl-16-192><a class=lnlinks href=#hl-16-192>192</a>
</span><span class=lnt id=hl-16-193><a class=lnlinks href=#hl-16-193>193</a>
</span><span class=lnt id=hl-16-194><a class=lnlinks href=#hl-16-194>194</a>
</span><span class=lnt id=hl-16-195><a class=lnlinks href=#hl-16-195>195</a>
</span><span class=lnt id=hl-16-196><a class=lnlinks href=#hl-16-196>196</a>
</span><span class=lnt id=hl-16-197><a class=lnlinks href=#hl-16-197>197</a>
</span><span class=lnt id=hl-16-198><a class=lnlinks href=#hl-16-198>198</a>
</span><span class=lnt id=hl-16-199><a class=lnlinks href=#hl-16-199>199</a>
</span><span class=lnt id=hl-16-200><a class=lnlinks href=#hl-16-200>200</a>
</span><span class=lnt id=hl-16-201><a class=lnlinks href=#hl-16-201>201</a>
</span><span class=lnt id=hl-16-202><a class=lnlinks href=#hl-16-202>202</a>
</span><span class=lnt id=hl-16-203><a class=lnlinks href=#hl-16-203>203</a>
</span><span class=lnt id=hl-16-204><a class=lnlinks href=#hl-16-204>204</a>
</span><span class=lnt id=hl-16-205><a class=lnlinks href=#hl-16-205>205</a>
</span><span class=lnt id=hl-16-206><a class=lnlinks href=#hl-16-206>206</a>
</span><span class=lnt id=hl-16-207><a class=lnlinks href=#hl-16-207>207</a>
</span><span class=lnt id=hl-16-208><a class=lnlinks href=#hl-16-208>208</a>
</span><span class=lnt id=hl-16-209><a class=lnlinks href=#hl-16-209>209</a>
</span><span class=lnt id=hl-16-210><a class=lnlinks href=#hl-16-210>210</a>
</span><span class=lnt id=hl-16-211><a class=lnlinks href=#hl-16-211>211</a>
</span><span class=lnt id=hl-16-212><a class=lnlinks href=#hl-16-212>212</a>
</span><span class=lnt id=hl-16-213><a class=lnlinks href=#hl-16-213>213</a>
</span><span class=lnt id=hl-16-214><a class=lnlinks href=#hl-16-214>214</a>
</span><span class=lnt id=hl-16-215><a class=lnlinks href=#hl-16-215>215</a>
</span><span class=lnt id=hl-16-216><a class=lnlinks href=#hl-16-216>216</a>
</span><span class=lnt id=hl-16-217><a class=lnlinks href=#hl-16-217>217</a>
</span><span class=lnt id=hl-16-218><a class=lnlinks href=#hl-16-218>218</a>
</span><span class=lnt id=hl-16-219><a class=lnlinks href=#hl-16-219>219</a>
</span><span class=lnt id=hl-16-220><a class=lnlinks href=#hl-16-220>220</a>
</span><span class=lnt id=hl-16-221><a class=lnlinks href=#hl-16-221>221</a>
</span><span class=lnt id=hl-16-222><a class=lnlinks href=#hl-16-222>222</a>
</span><span class=lnt id=hl-16-223><a class=lnlinks href=#hl-16-223>223</a>
</span><span class=lnt id=hl-16-224><a class=lnlinks href=#hl-16-224>224</a>
</span><span class=lnt id=hl-16-225><a class=lnlinks href=#hl-16-225>225</a>
</span><span class=lnt id=hl-16-226><a class=lnlinks href=#hl-16-226>226</a>
</span><span class=lnt id=hl-16-227><a class=lnlinks href=#hl-16-227>227</a>
</span><span class=lnt id=hl-16-228><a class=lnlinks href=#hl-16-228>228</a>
</span><span class=lnt id=hl-16-229><a class=lnlinks href=#hl-16-229>229</a>
</span><span class=lnt id=hl-16-230><a class=lnlinks href=#hl-16-230>230</a>
</span><span class=lnt id=hl-16-231><a class=lnlinks href=#hl-16-231>231</a>
</span><span class=lnt id=hl-16-232><a class=lnlinks href=#hl-16-232>232</a>
</span><span class=lnt id=hl-16-233><a class=lnlinks href=#hl-16-233>233</a>
</span><span class=lnt id=hl-16-234><a class=lnlinks href=#hl-16-234>234</a>
</span><span class=lnt id=hl-16-235><a class=lnlinks href=#hl-16-235>235</a>
</span><span class=lnt id=hl-16-236><a class=lnlinks href=#hl-16-236>236</a>
</span><span class=lnt id=hl-16-237><a class=lnlinks href=#hl-16-237>237</a>
</span><span class=lnt id=hl-16-238><a class=lnlinks href=#hl-16-238>238</a>
</span><span class=lnt id=hl-16-239><a class=lnlinks href=#hl-16-239>239</a>
</span><span class=lnt id=hl-16-240><a class=lnlinks href=#hl-16-240>240</a>
</span><span class=lnt id=hl-16-241><a class=lnlinks href=#hl-16-241>241</a>
</span><span class=lnt id=hl-16-242><a class=lnlinks href=#hl-16-242>242</a>
</span><span class=lnt id=hl-16-243><a class=lnlinks href=#hl-16-243>243</a>
</span><span class=lnt id=hl-16-244><a class=lnlinks href=#hl-16-244>244</a>
</span><span class=lnt id=hl-16-245><a class=lnlinks href=#hl-16-245>245</a>
</span><span class=lnt id=hl-16-246><a class=lnlinks href=#hl-16-246>246</a>
</span><span class=lnt id=hl-16-247><a class=lnlinks href=#hl-16-247>247</a>
</span><span class=lnt id=hl-16-248><a class=lnlinks href=#hl-16-248>248</a>
</span><span class=lnt id=hl-16-249><a class=lnlinks href=#hl-16-249>249</a>
</span><span class=lnt id=hl-16-250><a class=lnlinks href=#hl-16-250>250</a>
</span><span class=lnt id=hl-16-251><a class=lnlinks href=#hl-16-251>251</a>
</span><span class=lnt id=hl-16-252><a class=lnlinks href=#hl-16-252>252</a>
</span><span class=lnt id=hl-16-253><a class=lnlinks href=#hl-16-253>253</a>
</span><span class=lnt id=hl-16-254><a class=lnlinks href=#hl-16-254>254</a>
</span><span class=lnt id=hl-16-255><a class=lnlinks href=#hl-16-255>255</a>
</span><span class=lnt id=hl-16-256><a class=lnlinks href=#hl-16-256>256</a>
</span><span class=lnt id=hl-16-257><a class=lnlinks href=#hl-16-257>257</a>
</span><span class=lnt id=hl-16-258><a class=lnlinks href=#hl-16-258>258</a>
</span><span class=lnt id=hl-16-259><a class=lnlinks href=#hl-16-259>259</a>
</span><span class=lnt id=hl-16-260><a class=lnlinks href=#hl-16-260>260</a>
</span><span class=lnt id=hl-16-261><a class=lnlinks href=#hl-16-261>261</a>
</span><span class=lnt id=hl-16-262><a class=lnlinks href=#hl-16-262>262</a>
</span><span class=lnt id=hl-16-263><a class=lnlinks href=#hl-16-263>263</a>
</span><span class=lnt id=hl-16-264><a class=lnlinks href=#hl-16-264>264</a>
</span><span class=lnt id=hl-16-265><a class=lnlinks href=#hl-16-265>265</a>
</span><span class=lnt id=hl-16-266><a class=lnlinks href=#hl-16-266>266</a>
</span><span class=lnt id=hl-16-267><a class=lnlinks href=#hl-16-267>267</a>
</span><span class=lnt id=hl-16-268><a class=lnlinks href=#hl-16-268>268</a>
</span><span class=lnt id=hl-16-269><a class=lnlinks href=#hl-16-269>269</a>
</span><span class=lnt id=hl-16-270><a class=lnlinks href=#hl-16-270>270</a>
</span><span class=lnt id=hl-16-271><a class=lnlinks href=#hl-16-271>271</a>
</span><span class=lnt id=hl-16-272><a class=lnlinks href=#hl-16-272>272</a>
</span><span class=lnt id=hl-16-273><a class=lnlinks href=#hl-16-273>273</a>
</span><span class=lnt id=hl-16-274><a class=lnlinks href=#hl-16-274>274</a>
</span><span class=lnt id=hl-16-275><a class=lnlinks href=#hl-16-275>275</a>
</span><span class=lnt id=hl-16-276><a class=lnlinks href=#hl-16-276>276</a>
</span><span class=lnt id=hl-16-277><a class=lnlinks href=#hl-16-277>277</a>
</span><span class=lnt id=hl-16-278><a class=lnlinks href=#hl-16-278>278</a>
</span><span class=lnt id=hl-16-279><a class=lnlinks href=#hl-16-279>279</a>
</span><span class=lnt id=hl-16-280><a class=lnlinks href=#hl-16-280>280</a>
</span><span class=lnt id=hl-16-281><a class=lnlinks href=#hl-16-281>281</a>
</span><span class=lnt id=hl-16-282><a class=lnlinks href=#hl-16-282>282</a>
</span><span class=lnt id=hl-16-283><a class=lnlinks href=#hl-16-283>283</a>
</span><span class=lnt id=hl-16-284><a class=lnlinks href=#hl-16-284>284</a>
</span><span class=lnt id=hl-16-285><a class=lnlinks href=#hl-16-285>285</a>
</span><span class=lnt id=hl-16-286><a class=lnlinks href=#hl-16-286>286</a>
</span><span class=lnt id=hl-16-287><a class=lnlinks href=#hl-16-287>287</a>
</span><span class=lnt id=hl-16-288><a class=lnlinks href=#hl-16-288>288</a>
</span><span class=lnt id=hl-16-289><a class=lnlinks href=#hl-16-289>289</a>
</span><span class=lnt id=hl-16-290><a class=lnlinks href=#hl-16-290>290</a>
</span><span class=lnt id=hl-16-291><a class=lnlinks href=#hl-16-291>291</a>
</span><span class=lnt id=hl-16-292><a class=lnlinks href=#hl-16-292>292</a>
</span><span class=lnt id=hl-16-293><a class=lnlinks href=#hl-16-293>293</a>
</span><span class=lnt id=hl-16-294><a class=lnlinks href=#hl-16-294>294</a>
</span><span class=lnt id=hl-16-295><a class=lnlinks href=#hl-16-295>295</a>
</span><span class=lnt id=hl-16-296><a class=lnlinks href=#hl-16-296>296</a>
</span><span class=lnt id=hl-16-297><a class=lnlinks href=#hl-16-297>297</a>
</span><span class=lnt id=hl-16-298><a class=lnlinks href=#hl-16-298>298</a>
</span><span class=lnt id=hl-16-299><a class=lnlinks href=#hl-16-299>299</a>
</span><span class=lnt id=hl-16-300><a class=lnlinks href=#hl-16-300>300</a>
</span><span class=lnt id=hl-16-301><a class=lnlinks href=#hl-16-301>301</a>
</span><span class=lnt id=hl-16-302><a class=lnlinks href=#hl-16-302>302</a>
</span><span class=lnt id=hl-16-303><a class=lnlinks href=#hl-16-303>303</a>
</span><span class=lnt id=hl-16-304><a class=lnlinks href=#hl-16-304>304</a>
</span><span class=lnt id=hl-16-305><a class=lnlinks href=#hl-16-305>305</a>
</span><span class=lnt id=hl-16-306><a class=lnlinks href=#hl-16-306>306</a>
</span><span class=lnt id=hl-16-307><a class=lnlinks href=#hl-16-307>307</a>
</span><span class=lnt id=hl-16-308><a class=lnlinks href=#hl-16-308>308</a>
</span><span class=lnt id=hl-16-309><a class=lnlinks href=#hl-16-309>309</a>
</span><span class=lnt id=hl-16-310><a class=lnlinks href=#hl-16-310>310</a>
</span><span class=lnt id=hl-16-311><a class=lnlinks href=#hl-16-311>311</a>
</span><span class=lnt id=hl-16-312><a class=lnlinks href=#hl-16-312>312</a>
</span><span class=lnt id=hl-16-313><a class=lnlinks href=#hl-16-313>313</a>
</span><span class=lnt id=hl-16-314><a class=lnlinks href=#hl-16-314>314</a>
</span><span class=lnt id=hl-16-315><a class=lnlinks href=#hl-16-315>315</a>
</span><span class=lnt id=hl-16-316><a class=lnlinks href=#hl-16-316>316</a>
</span><span class=lnt id=hl-16-317><a class=lnlinks href=#hl-16-317>317</a>
</span><span class=lnt id=hl-16-318><a class=lnlinks href=#hl-16-318>318</a>
</span><span class=lnt id=hl-16-319><a class=lnlinks href=#hl-16-319>319</a>
</span><span class=lnt id=hl-16-320><a class=lnlinks href=#hl-16-320>320</a>
</span><span class=lnt id=hl-16-321><a class=lnlinks href=#hl-16-321>321</a>
</span><span class=lnt id=hl-16-322><a class=lnlinks href=#hl-16-322>322</a>
</span><span class=lnt id=hl-16-323><a class=lnlinks href=#hl-16-323>323</a>
</span><span class=lnt id=hl-16-324><a class=lnlinks href=#hl-16-324>324</a>
</span><span class=lnt id=hl-16-325><a class=lnlinks href=#hl-16-325>325</a>
</span><span class=lnt id=hl-16-326><a class=lnlinks href=#hl-16-326>326</a>
</span><span class=lnt id=hl-16-327><a class=lnlinks href=#hl-16-327>327</a>
</span><span class=lnt id=hl-16-328><a class=lnlinks href=#hl-16-328>328</a>
</span><span class=lnt id=hl-16-329><a class=lnlinks href=#hl-16-329>329</a>
</span><span class=lnt id=hl-16-330><a class=lnlinks href=#hl-16-330>330</a>
</span><span class=lnt id=hl-16-331><a class=lnlinks href=#hl-16-331>331</a>
</span><span class=lnt id=hl-16-332><a class=lnlinks href=#hl-16-332>332</a>
</span><span class=lnt id=hl-16-333><a class=lnlinks href=#hl-16-333>333</a>
</span><span class=lnt id=hl-16-334><a class=lnlinks href=#hl-16-334>334</a>
</span><span class=lnt id=hl-16-335><a class=lnlinks href=#hl-16-335>335</a>
</span><span class=lnt id=hl-16-336><a class=lnlinks href=#hl-16-336>336</a>
</span><span class=lnt id=hl-16-337><a class=lnlinks href=#hl-16-337>337</a>
</span><span class=lnt id=hl-16-338><a class=lnlinks href=#hl-16-338>338</a>
</span><span class=lnt id=hl-16-339><a class=lnlinks href=#hl-16-339>339</a>
</span><span class=lnt id=hl-16-340><a class=lnlinks href=#hl-16-340>340</a>
</span><span class=lnt id=hl-16-341><a class=lnlinks href=#hl-16-341>341</a>
</span><span class=lnt id=hl-16-342><a class=lnlinks href=#hl-16-342>342</a>
</span><span class=lnt id=hl-16-343><a class=lnlinks href=#hl-16-343>343</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>abc</span> <span class=kn>import</span> <span class=n>ABC</span><span class=p>,</span> <span class=n>abstractmethod</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>List</span><span class=p>,</span> <span class=n>Dict</span><span class=p>,</span> <span class=n>Any</span><span class=p>,</span> <span class=n>Optional</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Complex Subsystem Components</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DatabaseConnection</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>host</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>port</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>database</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>host</span> <span class=o>=</span> <span class=n>host</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>port</span> <span class=o>=</span> <span class=n>port</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>database</span> <span class=o>=</span> <span class=n>database</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>is_connected</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>connect</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Connecting to database: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>host</span><span class=si>}</span><span class=s2>:</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>port</span><span class=si>}</span><span class=s2>/</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>database</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>is_connected</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>disconnect</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Disconnecting from database: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>database</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>is_connected</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CacheManager</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>cache_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>max_size</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>cache_type</span> <span class=o>=</span> <span class=n>cache_type</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>max_size</span> <span class=o>=</span> <span class=n>max_size</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>cache_data</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>initialize</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Initializing </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>cache_type</span><span class=si>}</span><span class=s2> cache with max size </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>max_size</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>set</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>cache_data</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Cache set: </span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Any</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>cache_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MessageQueue</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>queue_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>max_messages</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>queue_name</span> <span class=o>=</span> <span class=n>queue_name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>max_messages</span> <span class=o>=</span> <span class=n>max_messages</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>messages</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>initialize</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Initializing message queue: </span><span class=si>{</span><span class=n>queue_name</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>send_message</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>message</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>messages</span><span class=p>)</span> <span class=o>&lt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>max_messages</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>messages</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>message</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Message sent to </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>queue_name</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>message</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SecurityManager</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>encryption_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>encryption_type</span> <span class=o>=</span> <span class=n>encryption_type</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>is_initialized</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>initialize</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Initializing security with </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>encryption_type</span><span class=si>}</span><span class=s2> encryption&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>is_initialized</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>encrypt</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;encrypted(</span><span class=si>{</span><span class=n>data</span><span class=si>}</span><span class=s2>)&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>decrypt</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>data</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&#34;encrypted(&#34;</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&#34;)&#34;</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===== Abstract Factory Approach =====</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SystemComponentFactory</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_database_connection</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>DatabaseConnection</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_cache_manager</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>CacheManager</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_message_queue</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>MessageQueue</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_security_manager</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>SecurityManager</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DevelopmentSystemFactory</span><span class=p>(</span><span class=n>SystemComponentFactory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_database_connection</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>DatabaseConnection</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>conn</span> <span class=o>=</span> <span class=n>DatabaseConnection</span><span class=p>(</span><span class=s2>&#34;localhost&#34;</span><span class=p>,</span> <span class=mi>5432</span><span class=p>,</span> <span class=s2>&#34;dev_db&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>conn</span><span class=o>.</span><span class=n>connect</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>conn</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_cache_manager</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>CacheManager</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>cache</span> <span class=o>=</span> <span class=n>CacheManager</span><span class=p>(</span><span class=s2>&#34;Redis&#34;</span><span class=p>,</span> <span class=mi>1000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>cache</span><span class=o>.</span><span class=n>initialize</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>cache</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_message_queue</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>MessageQueue</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>queue</span> <span class=o>=</span> <span class=n>MessageQueue</span><span class=p>(</span><span class=s2>&#34;dev_queue&#34;</span><span class=p>,</span> <span class=mi>100</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>queue</span><span class=o>.</span><span class=n>initialize</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>queue</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_security_manager</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>SecurityManager</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>security</span> <span class=o>=</span> <span class=n>SecurityManager</span><span class=p>(</span><span class=s2>&#34;AES256&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>security</span><span class=o>.</span><span class=n>initialize</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>security</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ProductionSystemFactory</span><span class=p>(</span><span class=n>SystemComponentFactory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_database_connection</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>DatabaseConnection</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>conn</span> <span class=o>=</span> <span class=n>DatabaseConnection</span><span class=p>(</span><span class=s2>&#34;prod-db-cluster&#34;</span><span class=p>,</span> <span class=mi>5432</span><span class=p>,</span> <span class=s2>&#34;prod_db&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>conn</span><span class=o>.</span><span class=n>connect</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>conn</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_cache_manager</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>CacheManager</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>cache</span> <span class=o>=</span> <span class=n>CacheManager</span><span class=p>(</span><span class=s2>&#34;Redis Cluster&#34;</span><span class=p>,</span> <span class=mi>10000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>cache</span><span class=o>.</span><span class=n>initialize</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>cache</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_message_queue</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>MessageQueue</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>queue</span> <span class=o>=</span> <span class=n>MessageQueue</span><span class=p>(</span><span class=s2>&#34;prod_queue&#34;</span><span class=p>,</span> <span class=mi>10000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>queue</span><span class=o>.</span><span class=n>initialize</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>queue</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_security_manager</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>SecurityManager</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>security</span> <span class=o>=</span> <span class=n>SecurityManager</span><span class=p>(</span><span class=s2>&#34;AES256-GCM&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>security</span><span class=o>.</span><span class=n>initialize</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>security</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Client using Abstract Factory (Complex)</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ComplexSystemClient</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>factory</span><span class=p>:</span> <span class=n>SystemComponentFactory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>factory</span> <span class=o>=</span> <span class=n>factory</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>components</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>initialize_system</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;복잡한 시스템 초기화 과정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;=== Complex System Initialization (Abstract Factory) ===&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 각 컴포넌트를 개별적으로 생성하고 설정</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>components</span><span class=p>[</span><span class=s1>&#39;database&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>factory</span><span class=o>.</span><span class=n>create_database_connection</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>components</span><span class=p>[</span><span class=s1>&#39;cache&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>factory</span><span class=o>.</span><span class=n>create_cache_manager</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>components</span><span class=p>[</span><span class=s1>&#39;queue&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>factory</span><span class=o>.</span><span class=n>create_message_queue</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>components</span><span class=p>[</span><span class=s1>&#39;security&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>factory</span><span class=o>.</span><span class=n>create_security_manager</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 복잡한 상호 의존성 설정</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>configure_dependencies</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>configure_dependencies</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;컴포넌트 간 복잡한 의존성 설정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Configuring complex dependencies…&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 실제로는 매우 복잡한 설정 과정이 필요할 수 있음</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>cache</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>components</span><span class=p>[</span><span class=s1>&#39;cache&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>cache</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=s2>&#34;db_connection_string&#34;</span><span class=p>,</span> <span class=nb>str</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>components</span><span class=p>[</span><span class=s1>&#39;database&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>host</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>queue</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>components</span><span class=p>[</span><span class=s1>&#39;queue&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>queue</span><span class=o>.</span><span class=n>send_message</span><span class=p>(</span><span class=s2>&#34;System initialized&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ===== Facade Approach (Simpler Alternative) =====</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SystemFacade</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;복잡한 서브시스템을 단순화된 인터페이스로 제공&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>environment</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&#34;development&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>environment</span> <span class=o>=</span> <span class=n>environment</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_database</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>DatabaseConnection</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>CacheManager</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_queue</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>MessageQueue</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_security</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>SecurityManager</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>initialize_system</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;단순화된 시스템 초기화&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;=== Simple System Initialization (Facade) - </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>environment</span><span class=si>}</span><span class=s2> ===&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 환경에 따른 적절한 설정으로 모든 컴포넌트를 한번에 초기화</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>environment</span> <span class=o>==</span> <span class=s2>&#34;development&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_initialize_development_system</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>environment</span> <span class=o>==</span> <span class=s2>&#34;production&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_initialize_production_system</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Unknown environment: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>environment</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 복잡한 의존성 설정을 Facade 내부에서 처리</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_configure_system</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;System fully initialized and configured&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_initialize_development_system</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;개발 환경 시스템 초기화&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_database</span> <span class=o>=</span> <span class=n>DatabaseConnection</span><span class=p>(</span><span class=s2>&#34;localhost&#34;</span><span class=p>,</span> <span class=mi>5432</span><span class=p>,</span> <span class=s2>&#34;dev_db&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_database</span><span class=o>.</span><span class=n>connect</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span> <span class=o>=</span> <span class=n>CacheManager</span><span class=p>(</span><span class=s2>&#34;Redis&#34;</span><span class=p>,</span> <span class=mi>1000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span><span class=o>.</span><span class=n>initialize</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_queue</span> <span class=o>=</span> <span class=n>MessageQueue</span><span class=p>(</span><span class=s2>&#34;dev_queue&#34;</span><span class=p>,</span> <span class=mi>100</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_queue</span><span class=o>.</span><span class=n>initialize</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_security</span> <span class=o>=</span> <span class=n>SecurityManager</span><span class=p>(</span><span class=s2>&#34;AES256&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_security</span><span class=o>.</span><span class=n>initialize</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_initialize_production_system</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;운영 환경 시스템 초기화&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_database</span> <span class=o>=</span> <span class=n>DatabaseConnection</span><span class=p>(</span><span class=s2>&#34;prod-db-cluster&#34;</span><span class=p>,</span> <span class=mi>5432</span><span class=p>,</span> <span class=s2>&#34;prod_db&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_database</span><span class=o>.</span><span class=n>connect</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span> <span class=o>=</span> <span class=n>CacheManager</span><span class=p>(</span><span class=s2>&#34;Redis Cluster&#34;</span><span class=p>,</span> <span class=mi>10000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span><span class=o>.</span><span class=n>initialize</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_queue</span> <span class=o>=</span> <span class=n>MessageQueue</span><span class=p>(</span><span class=s2>&#34;prod_queue&#34;</span><span class=p>,</span> <span class=mi>10000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_queue</span><span class=o>.</span><span class=n>initialize</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_security</span> <span class=o>=</span> <span class=n>SecurityManager</span><span class=p>(</span><span class=s2>&#34;AES256-GCM&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_security</span><span class=o>.</span><span class=n>initialize</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_configure_system</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;시스템 설정 - 복잡한 로직을 Facade 내부에서 처리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># 캐시 설정</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=s2>&#34;db_host&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>_database</span><span class=o>.</span><span class=n>host</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=s2>&#34;environment&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>environment</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 초기 메시지 전송</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_queue</span><span class=o>.</span><span class=n>send_message</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;System initialized in </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>environment</span><span class=si>}</span><span class=s2> mode&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 보안 설정 검증</span>
</span></span><span class=line><span class=cl>        <span class=n>test_data</span> <span class=o>=</span> <span class=s2>&#34;test_security&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>encrypted</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_security</span><span class=o>.</span><span class=n>encrypt</span><span class=p>(</span><span class=n>test_data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>decrypted</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_security</span><span class=o>.</span><span class=n>decrypt</span><span class=p>(</span><span class=n>encrypted</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>assert</span> <span class=n>decrypted</span> <span class=o>==</span> <span class=n>test_data</span><span class=p>,</span> <span class=s2>&#34;Security system validation failed&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 단순화된 인터페이스 메서드들</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>store_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;데이터 저장 - 캐시와 보안을 내부적으로 처리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>encrypted_value</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_security</span><span class=o>.</span><span class=n>encrypt</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>encrypted_value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_queue</span><span class=o>.</span><span class=n>send_message</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Data stored: </span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>retrieve_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;데이터 조회 - 복호화까지 내부적으로 처리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>encrypted_value</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>encrypted_value</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_security</span><span class=o>.</span><span class=n>decrypt</span><span class=p>(</span><span class=n>encrypted_value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>send_notification</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>message</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;알림 전송 - 큐 시스템을 내부적으로 사용&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_queue</span><span class=o>.</span><span class=n>send_message</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;NOTIFICATION: </span><span class=si>{</span><span class=n>message</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_system_status</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>str</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;시스템 상태 조회 - 모든 컴포넌트 상태를 한번에 확인&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;database&#34;</span><span class=p>:</span> <span class=s2>&#34;connected&#34;</span> <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_database</span><span class=o>.</span><span class=n>is_connected</span> <span class=k>else</span> <span class=s2>&#34;disconnected&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;cache&#34;</span><span class=p>:</span> <span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>_cache</span><span class=o>.</span><span class=n>cache_type</span><span class=si>}</span><span class=s2> initialized&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;queue&#34;</span><span class=p>:</span> <span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_queue</span><span class=o>.</span><span class=n>messages</span><span class=p>)</span><span class=si>}</span><span class=s2> messages in queue&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;security&#34;</span><span class=p>:</span> <span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>_security</span><span class=o>.</span><span class=n>encryption_type</span><span class=si>}</span><span class=s2> encryption active&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;environment&#34;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>environment</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>shutdown_system</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;시스템 종료 - 모든 컴포넌트를 안전하게 종료&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Shutting down system…&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_database</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_database</span><span class=o>.</span><span class=n>disconnect</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_queue</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_queue</span><span class=o>.</span><span class=n>send_message</span><span class=p>(</span><span class=s2>&#34;System shutting down&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;System shutdown complete&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Client using Facade (Simple)</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SimpleSystemClient</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>environment</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&#34;development&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>facade</span> <span class=o>=</span> <span class=n>SystemFacade</span><span class=p>(</span><span class=n>environment</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>run_application</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;단순화된 애플리케이션 실행&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;=== Running Application with Facade ===&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 한 줄로 전체 시스템 초기화</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>facade</span><span class=o>.</span><span class=n>initialize_system</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 단순한 비즈니스 로직</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>facade</span><span class=o>.</span><span class=n>store_data</span><span class=p>(</span><span class=s2>&#34;user_1&#34;</span><span class=p>,</span> <span class=s2>&#34;John Doe&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>facade</span><span class=o>.</span><span class=n>store_data</span><span class=p>(</span><span class=s2>&#34;user_2&#34;</span><span class=p>,</span> <span class=s2>&#34;Jane Smith&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>user_data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>facade</span><span class=o>.</span><span class=n>retrieve_data</span><span class=p>(</span><span class=s2>&#34;user_1&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Retrieved user data: </span><span class=si>{</span><span class=n>user_data</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>facade</span><span class=o>.</span><span class=n>send_notification</span><span class=p>(</span><span class=s2>&#34;New user registered&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 시스템 상태 확인</span>
</span></span><span class=line><span class=cl>        <span class=n>status</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>facade</span><span class=o>.</span><span class=n>get_system_status</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;System Status: </span><span class=si>{</span><span class=n>status</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 정리</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>facade</span><span class=o>.</span><span class=n>shutdown_system</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Comparison Demo</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>demonstrate_facade_vs_abstract_factory</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;=== Facade vs Abstract Factory 비교 ===</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;1. Abstract Factory 방식 (복잡하지만 유연함)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;-&#34;</span> <span class=o>*</span> <span class=mi>50</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Abstract Factory 사용</span>
</span></span><span class=line><span class=cl>    <span class=n>dev_factory</span> <span class=o>=</span> <span class=n>DevelopmentSystemFactory</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>complex_client</span> <span class=o>=</span> <span class=n>ComplexSystemClient</span><span class=p>(</span><span class=n>dev_factory</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>complex_client</span><span class=o>.</span><span class=n>initialize_system</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 클라이언트가 모든 컴포넌트를 직접 다뤄야 함</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;클라이언트가 직접 컴포넌트 조작:&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>cache</span> <span class=o>=</span> <span class=n>complex_client</span><span class=o>.</span><span class=n>components</span><span class=p>[</span><span class=s1>&#39;cache&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>cache</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=s2>&#34;manual_key&#34;</span><span class=p>,</span> <span class=s2>&#34;manual_value&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>queue</span> <span class=o>=</span> <span class=n>complex_client</span><span class=o>.</span><span class=n>components</span><span class=p>[</span><span class=s1>&#39;queue&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>queue</span><span class=o>.</span><span class=n>send_message</span><span class=p>(</span><span class=s2>&#34;Manual message from client&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span> <span class=o>+</span> <span class=s2>&#34;=&#34;</span><span class=o>*</span><span class=mi>60</span> <span class=o>+</span> <span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;2. Facade 방식 (간단하지만 덜 유연함)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;-&#34;</span> <span class=o>*</span> <span class=mi>50</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Facade 사용</span>
</span></span><span class=line><span class=cl>    <span class=n>simple_client</span> <span class=o>=</span> <span class=n>SimpleSystemClient</span><span class=p>(</span><span class=s2>&#34;development&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>simple_client</span><span class=o>.</span><span class=n>run_application</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span> <span class=o>+</span> <span class=s2>&#34;=&#34;</span><span class=o>*</span><span class=mi>60</span> <span class=o>+</span> <span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;3. 비교 결과&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;-&#34;</span> <span class=o>*</span> <span class=mi>50</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Abstract Factory:&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;  + 높은 유연성 - 각 컴포넌트를 독립적으로 제어 가능&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;  + 확장성 - 새로운 제품군 추가 용이&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;  - 복잡성 - 클라이언트가 많은 것을 알아야 함&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;  - 초기 설정 복잡 - 의존성 관리가 클라이언트 책임&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>Facade:&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;  + 단순성 - 클라이언트가 간단한 인터페이스만 사용&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;  + 사용 편의성 - 복잡한 로직이 Facade 내부에 숨겨짐&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;  - 유연성 제한 - 미리 정의된 시나리오만 지원&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;  - 확장성 제한 - 새로운 요구사항 시 Facade 수정 필요&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>추천 사용 케이스:&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Abstract Factory: 다양한 플랫폼/환경 지원, 고도의 커스터마이징 필요&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Facade: 복잡한 서브시스템의 단순화된 사용, 일반적인 사용 패턴&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>demonstrate_facade_vs_abstract_factory</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><strong>Abstract Factory</strong>: 높은 유연성과 확장성을 제공하지만 클라이언트가 복잡한 구조를 이해해야 함</li><li><strong>Facade</strong>: 복잡한 서브시스템을 단순한 인터페이스로 감싸서 사용성을 높이지만 유연성이 제한됨</li><li><strong>선택 기준</strong>:<ul><li>다양한 제품군과 높은 커스터마이징이 필요한 경우 → Abstract Factory</li><li>복잡한 시스템의 일반적인 사용 패턴만 필요한 경우 → Facade</li></ul></li></ul><h3 id=장점>장점<a hidden class=anchor aria-hidden=true href=#장점>#</a></h3><table><thead><tr><th>항목</th><th>설명</th><th>관련 원인 또는 기반 원칙</th></tr></thead><tbody><tr><td><strong>제품군 일관성 보장</strong></td><td>동일 팩토리에서 생성된 객체들이 스타일·기능적으로 호환되어 UI/UX 및 동작 일관성 유지</td><td>추상 팩토리 인터페이스가 동일 제품군 생성만 허용</td></tr><tr><td><strong>구체 클래스 은닉</strong></td><td>클라이언트가 구체 클래스 이름이나 생성 방식에 대해 알 필요 없이 사용 가능</td><td>추상 인터페이스 기반 접근</td></tr><tr><td><strong>결합도 감소</strong></td><td>클라이언트가 인터페이스에만 의존하므로 구체 구현과의 결합이 줄어듬</td><td>DIP(의존성 역전 원칙), SRP(단일 책임 원칙)</td></tr><tr><td><strong>확장성 향상</strong></td><td>새로운 제품군을 추가할 때 기존 클라이언트 코드 수정 없이 확장 가능</td><td>OCP(개방 폐쇄 원칙) 준수, 팩토리 교체로 확장 가능</td></tr><tr><td><strong>플랫폼 독립성 확보</strong></td><td>동일 클라이언트 코드로 Windows, Mac, Linux 등 다양한 플랫폼 대상의 객체 생성 가능</td><td>추상화된 팩토리 구성</td></tr><tr><td><strong>유지보수성 향상</strong></td><td>객체 생성 로직이 팩토리에 집중되므로 수정이 용이하고 영향 범위가 제한됨</td><td>생성 책임의 분리 (SRP), 팩토리 캡슐화 구조</td></tr><tr><td><strong>테스트 용이성 증가</strong></td><td>DI(의존성 주입) 를 통해 Mock Factory 또는 Stub 으로 테스트 가능</td><td>객체 생성 제어권이 클라이언트 외부에 있음</td></tr><tr><td><strong>제품군 교체 용이성</strong></td><td>팩토리 인스턴스만 변경하면 전체 제품군 교체가 가능하여 UI/엔진/테마 전환에 용이</td><td>런타임 팩토리 교체 구조</td></tr><tr><td><strong>타입 안전성 제공</strong></td><td>컴파일 타임에 제품군 간 타입 불일치 방지 가능</td><td>팩토리 메서드 시그니처로 타입 고정</td></tr><tr><td><strong>모듈화 및 재사용성 증가</strong></td><td>제품 생성 책임을 별도 팩토리로 분리함으로써 클라이언트 모듈의 독립성과 재사용성 향상</td><td>객체 생성 코드의 집중화와 구조적 분리</td></tr></tbody></table><ul><li><strong>일관성</strong>: 제품군 단위의 호환성 유지</li><li><strong>유연성</strong>: 교체와 확장이 클라이언트 영향 없이 가능</li><li><strong>테스트성</strong>: 주입 기반 테스트 전략 지원</li><li><strong>설계 원칙 준수</strong>: SRP, OCP, DIP 등 주요 원칙 내재</li></ul><h3 id=단점과-문제점-그리고-해결방안>단점과 문제점 그리고 해결방안<a hidden class=anchor aria-hidden=true href=#단점과-문제점-그리고-해결방안>#</a></h3><h4 id=단점>단점<a hidden class=anchor aria-hidden=true href=#단점>#</a></h4><table><thead><tr><th>항목</th><th>설명</th><th>해결 방안</th></tr></thead><tbody><tr><td>클래스 수 증가</td><td>팩토리, 제품 등 관련 클래스와 인터페이스 수가 많아져 복잡도 증가</td><td>코드 제너레이션 도구 활용, 모듈 구조 및 네이밍 일관성 유지</td></tr><tr><td>구조 복잡성</td><td>추상 계층과 관계 구조가 복잡하여 초급 개발자 이해 어려움</td><td>도식화된 문서, 예제 중심 교육, 디자인 가이드 제공</td></tr><tr><td>과도한 추상화</td><td>간단한 문제에 적용 시 오히려 설계 과잉이 되어 유지보수 어려움</td><td>요구 사항 및 시스템 규모에 따라 Factory Method 로 대체 검토</td></tr><tr><td>확장 어려움</td><td>제품군 추가 시 인터페이스 및 모든 팩토리 구현체를 수정해야 하는 부담</td><td>디폴트 구현 또는 Optional 인터페이스 메서드 제공, 유연한 인터페이스 설계</td></tr><tr><td>메모리 오버헤드</td><td>불필요한 객체 생성으로 인한 리소스 낭비 가능</td><td>객체 풀링 (Pooling), Flyweight Pattern 적용</td></tr></tbody></table><h4 id=문제점>문제점<a hidden class=anchor aria-hidden=true href=#문제점>#</a></h4><table><thead><tr><th>항목</th><th>원인</th><th>영향</th><th>탐지 및 진단</th><th>예방 방법</th><th>해결 방법 및 기법</th></tr></thead><tbody><tr><td>팩토리 선택 오류</td><td>설정값 오류, 조건문 잘못된 분기</td><td>의도하지 않은 제품군 생성</td><td>유닛 테스트, 로깅</td><td>조건 로직 검증, 타입 기반 분기 명확화</td><td>팩토리 검증 로직 추가, 레지스트리 기반 팩토리 매핑 적용</td></tr><tr><td>제품 불일치</td><td>서로 다른 제품군의 객체를 혼용</td><td>런타임 호환성 오류</td><td>정적 타입 체크, 컴파일 오류 탐지</td><td>동일 제품군 전용 팩토리만 사용, 생성 책임 명확화</td><td>제품군 태그 기반 검증 메커니즘, 타입 안전한 팩토리 구성</td></tr><tr><td>인터페이스 변경 부담</td><td>추상 팩토리에 메서드 추가 필요 시 전체 구현체 영향</td><td>구현체 재작성 필요</td><td>코드 리뷰 및 인터페이스 변경 추적 도구</td><td>확장 고려한 분리 인터페이스 설계, 인터페이스 안정성 확보</td><td>인터페이스 버전 관리, 파라미터화된 팩토리 사용</td></tr><tr><td>순환 의존성</td><td>팩토리 간 상호 참조 및 의존 관계 형성</td><td>객체 생성 실패, 사이클 오류</td><td>의존성 분석 도구, DI 컨테이너 확인</td><td>의존 방향 단방향 유지, 책임 분리 설계</td><td>계층화된 팩토리 구조 설계, DI/IoC 컨테이너 활용</td></tr><tr><td>팩토리 난립/폭주</td><td>제품군 수 증가로 다양한 팩토리 생김</td><td>관리 어려움, 유지보수 비용 증가</td><td>구조 시각화, 구성도 분석</td><td>팩토리 그룹화 및 메타팩토리 도입</td><td>추상화 계층 통합, 팩토리 컴포지션 또는 Provider 패턴 적용</td></tr><tr><td>메모리 누수</td><td>팩토리 또는 제품 객체의 라이프사이클 미관리</td><td>성능 저하 및 리소스 부족</td><td>메모리 프로파일링, GC 로그 분석</td><td>객체 생명주기 명시적 관리</td><td>자원 해제 로직 추가, GC 친화적 설계, WeakRef 활용 등</td></tr></tbody></table><h3 id=도전-과제>도전 과제<a hidden class=anchor aria-hidden=true href=#도전-과제>#</a></h3><table><thead><tr><th>도전 과제</th><th>원인</th><th>영향</th><th>예방 방법</th><th>해결 방법 및 기법</th></tr></thead><tbody><tr><td>제품군 확장 시 모든 팩토리 수정 필요</td><td>추상 팩토리 인터페이스가 고정되어 새로운 제품 추가 시 전면 수정 필요</td><td>구현 클래스의 확장 부담, 코드 변경 범위 확장</td><td>유연한 인터페이스 분리 설계, Optional 메서드 활용</td><td>파라미터화된 팩토리, default method, Fallback 구조 적용</td></tr><tr><td>클래스 수 증가로 인한 구조 복잡도</td><td>제품군 + 팩토리 수 증가, 세분화된 인터페이스 구성</td><td>코드 가독성 저하, 유지보수성 저하</td><td>문서화 및 패키지 구조 명확화, 네이밍 컨벤션 통일</td><td>코드 생성 도구 활용, DI 컨테이너 조합, 구조 시각화 도구 도입</td></tr><tr><td>런타임 팩토리 선택의 복잡도 증가</td><td>동적 환경에서 조건문 또는 설정 기반으로 팩토리 선택 필요</td><td>팩토리 선택 오류 발생 가능성, 테스트 난이도 증가</td><td>설정 기반 매핑, 타입 기반 팩토리 선택 기준 마련</td><td>FactoryProvider 또는 레지스트리 기반 팩토리 매핑 전략</td></tr><tr><td>마이크로서비스/클라우드 환경과의 결합 어려움</td><td>서비스 분산 환경, 컨테이너 기반 아키텍처의 동적 스케일링</td><td>전역 팩토리 관리 어려움, 인스턴스 상태 불일치 발생 가능</td><td>Stateless 설계, DI 기반 팩토리 구성</td><td>서비스 레지스트리 및 클라우드 서비스와 연동된 분산 팩토리 구현</td></tr><tr><td>실시간 시스템에서의 객체 생성 오버헤드</td><td>객체 생성 비용 및 초기화 지연</td><td>성능 저하, 응답 시간 증가</td><td>최소 생성 전략 도입, 미리 준비된 객체 활용</td><td>객체 풀링 (Pooling), 지연 초기화 (Lazy Initialization) 적용</td></tr><tr><td>테스트 환경에서의 Mock 객체 주입 어려움</td><td>팩토리 내부에 생성 로직이 고정되어 테스트 주입 어려움</td><td>테스트 격리 어려움, 테스트 신뢰도 저하</td><td>인터페이스 기반 팩토리 추상화, 테스트 전용 팩토리 설계</td><td>DI 컨테이너 활용, Mock Factory 또는 Factory Override 전략 적용</td></tr><tr><td>인터페이스 변경 시 전체 구현체 영향</td><td>단일 인터페이스에 다수의 제품 생성 메서드 포함</td><td>모든 팩토리 구현체에 영향 발생</td><td>인터페이스 분리 원칙 (ISP) 적용, 단일 책임 유지</td><td>인터페이스 세분화 및 버전 관리, 플러그인 기반 구조 도입</td></tr><tr><td>순환 의존성 문제</td><td>서로 다른 팩토리가 내부적으로 참조 관계 형성</td><td>객체 생성 시 오류, 의존성 꼬임</td><td>DI 원칙 적용, 참조 방향 일관화</td><td>계층화된 팩토리 구성, Service Locator 또는 Factory Chain 패턴 적용</td></tr><tr><td>오버엔지니어링 위험</td><td>간단한 구조에도 무리하게 추상 팩토리 적용</td><td>불필요한 복잡성, 생산성 저하</td><td>요구사항 기반 사전 설계 검토</td><td>Factory Method → 필요 시 Abstract Factory 로 확장 전략 사용</td></tr><tr><td>유지보수 및 확장성 저하</td><td>과도한 수작업 클래스 추가, 인터페이스 의존</td><td>확장 어려움, 유지보수 비용 증가</td><td>제품군 증가 예측에 기반한 팩토리 추상화 수준 조절</td><td>코드 템플릿 자동화, 유닛 테스트 기반 리팩토링 루틴 확보</td></tr></tbody></table><h3 id=분류-기준에-따른-종류-및-유형>분류 기준에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#분류-기준에-따른-종류-및-유형>#</a></h3><table><thead><tr><th>분류 기준</th><th>유형</th><th>설명</th><th>특징</th></tr></thead><tbody><tr><td>구현 방식</td><td>클래스 기반</td><td>클래스 상속을 통한 구현</td><td>정적 타입 안정성, 컴파일 타임 검증</td></tr><tr><td>구현 방식</td><td>인터페이스 기반</td><td>인터페이스 구현을 통한 구현</td><td>유연성, 다중 상속 효과</td></tr><tr><td>팩토리 생성</td><td>정적 팩토리</td><td>컴파일 타임에 팩토리 결정</td><td>성능 우수, 타입 안정성</td></tr><tr><td>팩토리 생성</td><td>동적 팩토리</td><td>런타임에 팩토리 결정</td><td>유연성, 확장성</td></tr><tr><td>제품 생성</td><td>즉시 생성</td><td>요청 즉시 객체 생성</td><td>단순함, 메모리 사용량 예측 가능</td></tr><tr><td>제품 생성</td><td>지연 생성</td><td>실제 사용 시점에 객체 생성</td><td>메모리 효율성, 초기화 시간 단축</td></tr></tbody></table><h3 id=실무-사용-예시>실무 사용 예시<a hidden class=anchor aria-hidden=true href=#실무-사용-예시>#</a></h3><table><thead><tr><th>분야</th><th>사용 사례</th><th>조합 기술/패턴</th><th>목적 및 효과</th></tr></thead><tbody><tr><td><strong>1. UI/GUI 개발</strong></td><td>운영체제별 위젯/컴포넌트 생성</td><td>Factory Method, Builder, MVC</td><td>플랫폼별 UI 일관성, 크로스 플랫폼 호환성</td></tr><tr><td></td><td>Java Swing / Look & Feel</td><td>Abstract Factory</td><td>테마 기반 UI 구성 지원</td></tr><tr><td></td><td>웹 UI 프레임워크 구성</td><td>DI Container, AOP</td><td>다중 환경 대응 UI 로직 구성</td></tr><tr><td></td><td>게임 UI 테마 적용</td><td>Unity/Unreal + Theme Factory</td><td>게임 내 UI 아트 스타일 일관성</td></tr><tr><td><strong>2. 데이터베이스</strong></td><td>RDBMS 커넥션 객체 팩토리</td><td>JDBC, DAO, ORM</td><td>DB 벤더 독립성, DB 변경 유연성</td></tr><tr><td></td><td>NoSQL/RDB 동시 대응 드라이버</td><td>Parameterized Factory</td><td>복수 DB 대응 및 런타임 DB 선택</td></tr><tr><td></td><td>ADO.NET Provider 구성</td><td>.NET 기반 Factory + Adapter</td><td>DB 액세스 계층 캡슐화</td></tr><tr><td><strong>3. 클라우드/백엔드</strong></td><td>클라우드 벤더별 클라이언트 구성</td><td>Adapter, Strategy, Bridge</td><td>AWS/Azure 등 SDK 독립성 확보</td></tr><tr><td></td><td>API 버전별 핸들러 추상화</td><td>Abstract Factory + Version Mapper</td><td>API 버전 전환 시 코드 변경 최소화</td></tr><tr><td></td><td>로깅 시스템 백엔드 구성</td><td>Strategy Pattern + Factory</td><td>콘솔/파일/원격 로거 교체 유연성</td></tr><tr><td><strong>4. 게임 개발</strong></td><td>레벨/테마 기반 적 캐릭터 생성</td><td>Factory + Strategy, State Pattern</td><td>게임 밸런싱, 다양성 보장</td></tr><tr><td></td><td>아이템/무기 스타일팩 생성</td><td>Theme-aware Factory</td><td>테마별 일관된 게임 요소 생성</td></tr><tr><td><strong>5. 웹 애플리케이션</strong></td><td>템플릿 엔진/렌더링 컴포넌트 구성</td><td>Template Engine + Factory</td><td>다양한 템플릿 엔진과 통합 가능</td></tr><tr><td></td><td>멀티 테넌시 서비스 객체 주입</td><td>DI, Plugin 기반 FactoryProvider</td><td>테넌트별 환경 맞춤 서비스 제공</td></tr><tr><td><strong>6. IoT/임베디드</strong></td><td>디바이스 타입별 드라이버 팩토리</td><td>Protocol Factory (MQTT/CoAP)</td><td>하드웨어 독립성, 통신 최적화</td></tr><tr><td></td><td>제조사별 센서 인터페이스 관리</td><td>Adapter + Factory</td><td>센서 교체 시 호환성 보장</td></tr><tr><td><strong>7. 테스트 환경</strong></td><td>Mock 객체 vs 실제 객체 팩토리</td><td>DI 기반 Test Factory, Stub Factory</td><td>테스트 유연성 향상, 테스트 코드 분리</td></tr><tr><td></td><td>테스트 환경 구성용 팩토리 교체</td><td>환경 프로파일 기반 구성</td><td>테스트/운영 환경 간 분리 및 검증 용이성</td></tr></tbody></table><h3 id=활용-사례>활용 사례<a hidden class=anchor aria-hidden=true href=#활용-사례>#</a></h3><h4 id=사례-1-전자상거래-결제-시스템>사례 1: 전자상거래 결제 시스템<a hidden class=anchor aria-hidden=true href=#사례-1-전자상거래-결제-시스템>#</a></h4><p>대형 전자상거래 플랫폼에서 국가별로 다른 결제 시스템을 지원해야 하는 상황. 한국은 KakaoPay 와 Toss, 미국은 PayPal 과 Stripe, 일본은 Rakuten Pay 와 LINE Pay 를 지원해야 함.</p><p><strong>시스템 구성</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1> 1</a>
</span><span class=lnt id=hl-17-2><a class=lnlinks href=#hl-17-2> 2</a>
</span><span class=lnt id=hl-17-3><a class=lnlinks href=#hl-17-3> 3</a>
</span><span class=lnt id=hl-17-4><a class=lnlinks href=#hl-17-4> 4</a>
</span><span class=lnt id=hl-17-5><a class=lnlinks href=#hl-17-5> 5</a>
</span><span class=lnt id=hl-17-6><a class=lnlinks href=#hl-17-6> 6</a>
</span><span class=lnt id=hl-17-7><a class=lnlinks href=#hl-17-7> 7</a>
</span><span class=lnt id=hl-17-8><a class=lnlinks href=#hl-17-8> 8</a>
</span><span class=lnt id=hl-17-9><a class=lnlinks href=#hl-17-9> 9</a>
</span><span class=lnt id=hl-17-10><a class=lnlinks href=#hl-17-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>PaymentFactory (추상 팩토리)
</span></span><span class=line><span class=cl>├── KoreaPaymentFactory (한국 결제 팩토리)
</span></span><span class=line><span class=cl>│   ├── KakaoPayProcessor
</span></span><span class=line><span class=cl>│   └── TossPayProcessor
</span></span><span class=line><span class=cl>├── USPaymentFactory (미국 결제 팩토리)
</span></span><span class=line><span class=cl>│   ├── PayPalProcessor
</span></span><span class=line><span class=cl>│   └── StripeProcessor
</span></span><span class=line><span class=cl>└── JapanPaymentFactory (일본 결제 팩토리)
</span></span><span class=line><span class=cl>    ├── RakutenPayProcessor
</span></span><span class=line><span class=cl>    └── LinePayProcessor
</span></span></code></pre></td></tr></table></div></div><p><strong>시스템 다이어그램</strong></p><pre class=mermaid>graph TB
    A[E-Commerce Platform] --&gt; B[PaymentFactoryProvider]
    B --&gt; C[KoreaPaymentFactory]
    B --&gt; D[USPaymentFactory]
    B --&gt; E[JapanPaymentFactory]
    
    C --&gt; F[KakaoPayProcessor]
    C --&gt; G[TossPayProcessor]
    D --&gt; H[PayPalProcessor]
    D --&gt; I[StripeProcessor]
    E --&gt; J[RakutenPayProcessor]
    E --&gt; K[LinePayProcessor]
    
    F --&gt; L[PaymentProcessor Interface]
    G --&gt; L
    H --&gt; L
    I --&gt; L
    J --&gt; L
    K --&gt; L
</pre><p><strong>Workflow</strong>:</p><ol><li><strong>사용자 접속</strong>: 사용자의 국가 정보 확인 (IP 기반 또는 계정 설정)</li><li><strong>팩토리 선택</strong>: 국가별 결제 팩토리 선택 (KoreaPaymentFactory)</li><li><strong>결제 수단 선택</strong>: 사용자가 원하는 결제 수단 선택 (KakaoPay)</li><li><strong>프로세서 생성</strong>: 팩토리에서 해당 결제 프로세서 객체 생성</li><li><strong>결제 처리</strong>: 통일된 인터페이스를 통한 결제 진행</li><li><strong>결과 처리</strong>: 성공/실패 결과를 표준화된 형태로 반환</li></ol><h4 id=사례-2-gui-테마-시스템-구현-사례>사례 2: GUI 테마 시스템 구현 사례<a hidden class=anchor aria-hidden=true href=#사례-2-gui-테마-시스템-구현-사례>#</a></h4><p><strong>시스템 구성</strong></p><pre class=mermaid>graph TB
    Client[애플리케이션 클라이언트]
    ThemeFactory[테마 팩토리 인터페이스]
    LightFactory[라이트 테마 팩토리]
    DarkFactory[다크 테마 팩토리]
    ButtonInterface[버튼 인터페이스]
    PanelInterface[패널 인터페이스]
    LightButton[라이트 버튼]
    LightPanel[라이트 패널]
    DarkButton[다크 버튼]
    DarkPanel[다크 패널]
    
    Client --&gt; ThemeFactory
    ThemeFactory --&gt; LightFactory
    ThemeFactory --&gt; DarkFactory
    LightFactory --&gt; LightButton
    LightFactory --&gt; LightPanel
    DarkFactory --&gt; DarkButton
    DarkFactory --&gt; DarkPanel
    ButtonInterface --&gt; LightButton
    ButtonInterface --&gt; DarkButton
    PanelInterface --&gt; LightPanel
    PanelInterface --&gt; DarkPanel
</pre><p><strong>Workflow</strong></p><ol><li><strong>사용자 테마 선택</strong>: 사용자가 설정에서 라이트/다크 테마 선택</li><li><strong>팩토리 결정</strong>: 설정값에 따라 적절한 테마 팩토리 선택</li><li><strong>UI 컴포넌트 생성</strong>: 선택된 팩토리를 통해 일관된 테마의 컴포넌트 생성</li><li><strong>화면 렌더링</strong>: 생성된 컴포넌트들로 일관된 Look & Feel 의 UI 구성</li></ol><p><strong>Abstract Factory Pattern 의 역할</strong></p><ul><li><strong>일관성 보장</strong>: 같은 테마 내의 모든 컴포넌트가 동일한 스타일 적용</li><li><strong>테마 교체 용이성</strong>: 팩토리만 변경하면 전체 UI 테마 변경</li><li><strong>확장성</strong>: 새로운 테마 추가 시 기존 코드 수정 불필요</li></ul><p><strong>패턴 유무에 따른 차이점</strong></p><ul><li><strong>패턴 적용 시</strong>:<ul><li>테마별 일관성 자동 보장</li><li>새 테마 추가 시 최소 코드 변경</li><li>컴포넌트간 호환성 문제 없음</li></ul></li><li><strong>패턴 미적용 시</strong>:<ul><li>각 컴포넌트별로 개별 테마 관리 필요</li><li>테마 변경 시 모든 컴포넌트 코드 수정</li><li>컴포넌트간 스타일 불일치 위험</li></ul></li></ul><h4 id=사례-3-크로스-플랫폼-gui-애플리케이션>사례 3: 크로스 플랫폼 GUI 애플리케이션<a hidden class=anchor aria-hidden=true href=#사례-3-크로스-플랫폼-gui-애플리케이션>#</a></h4><p>온라인 상거래 플랫폼에서 Windows, macOS, Linux 를 지원하는 데스크톱 애플리케이션을 개발하는 경우</p><p><strong>시스템 구성</strong></p><pre class=mermaid>graph TB
    subgraph &#34;Client Application&#34;
        A[Order Management UI]
        B[Product Catalog UI]
        C[Payment Processing UI]
    end
    
    subgraph &#34;Abstract Factory Layer&#34;
        D[UI Component Factory]
    end
    
    subgraph &#34;Platform Factories&#34;
        E[Windows Factory]
        F[macOS Factory]
        G[Linux Factory]
    end
    
    subgraph &#34;Platform Components&#34;
        H[Windows Button]
        I[Windows Dialog]
        J[macOS Button]
        K[macOS Dialog]
        L[Linux Button]
        M[Linux Dialog]
    end
    
    A --&gt; D
    B --&gt; D
    C --&gt; D
    D --&gt; E
    D --&gt; F
    D --&gt; G
    E --&gt; H
    E --&gt; I
    F --&gt; J
    F --&gt; K
    G --&gt; L
    G --&gt; M
</pre><p><strong>Workflow</strong></p><ol><li><strong>초기화 단계</strong>: 플랫폼 감지 후 적절한 팩토리 선택</li><li><strong>UI 구성 단계</strong>: Abstract Factory 를 통해 플랫폼별 컴포넌트 생성</li><li><strong>이벤트 처리 단계</strong>: 공통 인터페이스를 통한 이벤트 처리</li><li><strong>렌더링 단계</strong>: 플랫폼별 최적화된 렌더링 수행</li></ol><p><strong>Abstract Factory Pattern 의 역할</strong></p><ul><li><strong>플랫폼 추상화</strong>: 각 플랫폼의 특성을 숨기고 통일된 인터페이스 제공</li><li><strong>일관성 보장</strong>: 동일 플랫폼 내 모든 컴포넌트가 일관된 룩앤필 유지</li><li><strong>확장성 제공</strong>: 새로운 플랫폼 추가 시 기존 코드 수정 최소화</li></ul><p><strong>패턴 유무에 따른 차이점</strong></p><ul><li><strong>패턴 적용 전:</strong><ul><li>플랫폼별 조건문이 코드 전체에 산재</li><li>새 플랫폼 추가 시 모든 UI 코드 수정 필요</li><li>플랫폼 간 컴포넌트 호환성 문제 발생 가능</li></ul></li><li><strong>패턴 적용 후:</strong><ul><li>깔끔한 추상화로 플랫폼 독립적 코드 작성 가능</li><li>새 플랫폼 추가 시 팩토리 구현만으로 확장 가능</li><li>컴파일 타임에 호환성 검증으로 안정성 향상</li></ul></li></ul><h3 id=구현-예시>구현 예시<a hidden class=anchor aria-hidden=true href=#구현-예시>#</a></h3><h4 id=python>Python<a hidden class=anchor aria-hidden=true href=#python>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1>  1</a>
</span><span class=lnt id=hl-21-2><a class=lnlinks href=#hl-21-2>  2</a>
</span><span class=lnt id=hl-21-3><a class=lnlinks href=#hl-21-3>  3</a>
</span><span class=lnt id=hl-21-4><a class=lnlinks href=#hl-21-4>  4</a>
</span><span class=lnt id=hl-21-5><a class=lnlinks href=#hl-21-5>  5</a>
</span><span class=lnt id=hl-21-6><a class=lnlinks href=#hl-21-6>  6</a>
</span><span class=lnt id=hl-21-7><a class=lnlinks href=#hl-21-7>  7</a>
</span><span class=lnt id=hl-21-8><a class=lnlinks href=#hl-21-8>  8</a>
</span><span class=lnt id=hl-21-9><a class=lnlinks href=#hl-21-9>  9</a>
</span><span class=lnt id=hl-21-10><a class=lnlinks href=#hl-21-10> 10</a>
</span><span class=lnt id=hl-21-11><a class=lnlinks href=#hl-21-11> 11</a>
</span><span class=lnt id=hl-21-12><a class=lnlinks href=#hl-21-12> 12</a>
</span><span class=lnt id=hl-21-13><a class=lnlinks href=#hl-21-13> 13</a>
</span><span class=lnt id=hl-21-14><a class=lnlinks href=#hl-21-14> 14</a>
</span><span class=lnt id=hl-21-15><a class=lnlinks href=#hl-21-15> 15</a>
</span><span class=lnt id=hl-21-16><a class=lnlinks href=#hl-21-16> 16</a>
</span><span class=lnt id=hl-21-17><a class=lnlinks href=#hl-21-17> 17</a>
</span><span class=lnt id=hl-21-18><a class=lnlinks href=#hl-21-18> 18</a>
</span><span class=lnt id=hl-21-19><a class=lnlinks href=#hl-21-19> 19</a>
</span><span class=lnt id=hl-21-20><a class=lnlinks href=#hl-21-20> 20</a>
</span><span class=lnt id=hl-21-21><a class=lnlinks href=#hl-21-21> 21</a>
</span><span class=lnt id=hl-21-22><a class=lnlinks href=#hl-21-22> 22</a>
</span><span class=lnt id=hl-21-23><a class=lnlinks href=#hl-21-23> 23</a>
</span><span class=lnt id=hl-21-24><a class=lnlinks href=#hl-21-24> 24</a>
</span><span class=lnt id=hl-21-25><a class=lnlinks href=#hl-21-25> 25</a>
</span><span class=lnt id=hl-21-26><a class=lnlinks href=#hl-21-26> 26</a>
</span><span class=lnt id=hl-21-27><a class=lnlinks href=#hl-21-27> 27</a>
</span><span class=lnt id=hl-21-28><a class=lnlinks href=#hl-21-28> 28</a>
</span><span class=lnt id=hl-21-29><a class=lnlinks href=#hl-21-29> 29</a>
</span><span class=lnt id=hl-21-30><a class=lnlinks href=#hl-21-30> 30</a>
</span><span class=lnt id=hl-21-31><a class=lnlinks href=#hl-21-31> 31</a>
</span><span class=lnt id=hl-21-32><a class=lnlinks href=#hl-21-32> 32</a>
</span><span class=lnt id=hl-21-33><a class=lnlinks href=#hl-21-33> 33</a>
</span><span class=lnt id=hl-21-34><a class=lnlinks href=#hl-21-34> 34</a>
</span><span class=lnt id=hl-21-35><a class=lnlinks href=#hl-21-35> 35</a>
</span><span class=lnt id=hl-21-36><a class=lnlinks href=#hl-21-36> 36</a>
</span><span class=lnt id=hl-21-37><a class=lnlinks href=#hl-21-37> 37</a>
</span><span class=lnt id=hl-21-38><a class=lnlinks href=#hl-21-38> 38</a>
</span><span class=lnt id=hl-21-39><a class=lnlinks href=#hl-21-39> 39</a>
</span><span class=lnt id=hl-21-40><a class=lnlinks href=#hl-21-40> 40</a>
</span><span class=lnt id=hl-21-41><a class=lnlinks href=#hl-21-41> 41</a>
</span><span class=lnt id=hl-21-42><a class=lnlinks href=#hl-21-42> 42</a>
</span><span class=lnt id=hl-21-43><a class=lnlinks href=#hl-21-43> 43</a>
</span><span class=lnt id=hl-21-44><a class=lnlinks href=#hl-21-44> 44</a>
</span><span class=lnt id=hl-21-45><a class=lnlinks href=#hl-21-45> 45</a>
</span><span class=lnt id=hl-21-46><a class=lnlinks href=#hl-21-46> 46</a>
</span><span class=lnt id=hl-21-47><a class=lnlinks href=#hl-21-47> 47</a>
</span><span class=lnt id=hl-21-48><a class=lnlinks href=#hl-21-48> 48</a>
</span><span class=lnt id=hl-21-49><a class=lnlinks href=#hl-21-49> 49</a>
</span><span class=lnt id=hl-21-50><a class=lnlinks href=#hl-21-50> 50</a>
</span><span class=lnt id=hl-21-51><a class=lnlinks href=#hl-21-51> 51</a>
</span><span class=lnt id=hl-21-52><a class=lnlinks href=#hl-21-52> 52</a>
</span><span class=lnt id=hl-21-53><a class=lnlinks href=#hl-21-53> 53</a>
</span><span class=lnt id=hl-21-54><a class=lnlinks href=#hl-21-54> 54</a>
</span><span class=lnt id=hl-21-55><a class=lnlinks href=#hl-21-55> 55</a>
</span><span class=lnt id=hl-21-56><a class=lnlinks href=#hl-21-56> 56</a>
</span><span class=lnt id=hl-21-57><a class=lnlinks href=#hl-21-57> 57</a>
</span><span class=lnt id=hl-21-58><a class=lnlinks href=#hl-21-58> 58</a>
</span><span class=lnt id=hl-21-59><a class=lnlinks href=#hl-21-59> 59</a>
</span><span class=lnt id=hl-21-60><a class=lnlinks href=#hl-21-60> 60</a>
</span><span class=lnt id=hl-21-61><a class=lnlinks href=#hl-21-61> 61</a>
</span><span class=lnt id=hl-21-62><a class=lnlinks href=#hl-21-62> 62</a>
</span><span class=lnt id=hl-21-63><a class=lnlinks href=#hl-21-63> 63</a>
</span><span class=lnt id=hl-21-64><a class=lnlinks href=#hl-21-64> 64</a>
</span><span class=lnt id=hl-21-65><a class=lnlinks href=#hl-21-65> 65</a>
</span><span class=lnt id=hl-21-66><a class=lnlinks href=#hl-21-66> 66</a>
</span><span class=lnt id=hl-21-67><a class=lnlinks href=#hl-21-67> 67</a>
</span><span class=lnt id=hl-21-68><a class=lnlinks href=#hl-21-68> 68</a>
</span><span class=lnt id=hl-21-69><a class=lnlinks href=#hl-21-69> 69</a>
</span><span class=lnt id=hl-21-70><a class=lnlinks href=#hl-21-70> 70</a>
</span><span class=lnt id=hl-21-71><a class=lnlinks href=#hl-21-71> 71</a>
</span><span class=lnt id=hl-21-72><a class=lnlinks href=#hl-21-72> 72</a>
</span><span class=lnt id=hl-21-73><a class=lnlinks href=#hl-21-73> 73</a>
</span><span class=lnt id=hl-21-74><a class=lnlinks href=#hl-21-74> 74</a>
</span><span class=lnt id=hl-21-75><a class=lnlinks href=#hl-21-75> 75</a>
</span><span class=lnt id=hl-21-76><a class=lnlinks href=#hl-21-76> 76</a>
</span><span class=lnt id=hl-21-77><a class=lnlinks href=#hl-21-77> 77</a>
</span><span class=lnt id=hl-21-78><a class=lnlinks href=#hl-21-78> 78</a>
</span><span class=lnt id=hl-21-79><a class=lnlinks href=#hl-21-79> 79</a>
</span><span class=lnt id=hl-21-80><a class=lnlinks href=#hl-21-80> 80</a>
</span><span class=lnt id=hl-21-81><a class=lnlinks href=#hl-21-81> 81</a>
</span><span class=lnt id=hl-21-82><a class=lnlinks href=#hl-21-82> 82</a>
</span><span class=lnt id=hl-21-83><a class=lnlinks href=#hl-21-83> 83</a>
</span><span class=lnt id=hl-21-84><a class=lnlinks href=#hl-21-84> 84</a>
</span><span class=lnt id=hl-21-85><a class=lnlinks href=#hl-21-85> 85</a>
</span><span class=lnt id=hl-21-86><a class=lnlinks href=#hl-21-86> 86</a>
</span><span class=lnt id=hl-21-87><a class=lnlinks href=#hl-21-87> 87</a>
</span><span class=lnt id=hl-21-88><a class=lnlinks href=#hl-21-88> 88</a>
</span><span class=lnt id=hl-21-89><a class=lnlinks href=#hl-21-89> 89</a>
</span><span class=lnt id=hl-21-90><a class=lnlinks href=#hl-21-90> 90</a>
</span><span class=lnt id=hl-21-91><a class=lnlinks href=#hl-21-91> 91</a>
</span><span class=lnt id=hl-21-92><a class=lnlinks href=#hl-21-92> 92</a>
</span><span class=lnt id=hl-21-93><a class=lnlinks href=#hl-21-93> 93</a>
</span><span class=lnt id=hl-21-94><a class=lnlinks href=#hl-21-94> 94</a>
</span><span class=lnt id=hl-21-95><a class=lnlinks href=#hl-21-95> 95</a>
</span><span class=lnt id=hl-21-96><a class=lnlinks href=#hl-21-96> 96</a>
</span><span class=lnt id=hl-21-97><a class=lnlinks href=#hl-21-97> 97</a>
</span><span class=lnt id=hl-21-98><a class=lnlinks href=#hl-21-98> 98</a>
</span><span class=lnt id=hl-21-99><a class=lnlinks href=#hl-21-99> 99</a>
</span><span class=lnt id=hl-21-100><a class=lnlinks href=#hl-21-100>100</a>
</span><span class=lnt id=hl-21-101><a class=lnlinks href=#hl-21-101>101</a>
</span><span class=lnt id=hl-21-102><a class=lnlinks href=#hl-21-102>102</a>
</span><span class=lnt id=hl-21-103><a class=lnlinks href=#hl-21-103>103</a>
</span><span class=lnt id=hl-21-104><a class=lnlinks href=#hl-21-104>104</a>
</span><span class=lnt id=hl-21-105><a class=lnlinks href=#hl-21-105>105</a>
</span><span class=lnt id=hl-21-106><a class=lnlinks href=#hl-21-106>106</a>
</span><span class=lnt id=hl-21-107><a class=lnlinks href=#hl-21-107>107</a>
</span><span class=lnt id=hl-21-108><a class=lnlinks href=#hl-21-108>108</a>
</span><span class=lnt id=hl-21-109><a class=lnlinks href=#hl-21-109>109</a>
</span><span class=lnt id=hl-21-110><a class=lnlinks href=#hl-21-110>110</a>
</span><span class=lnt id=hl-21-111><a class=lnlinks href=#hl-21-111>111</a>
</span><span class=lnt id=hl-21-112><a class=lnlinks href=#hl-21-112>112</a>
</span><span class=lnt id=hl-21-113><a class=lnlinks href=#hl-21-113>113</a>
</span><span class=lnt id=hl-21-114><a class=lnlinks href=#hl-21-114>114</a>
</span><span class=lnt id=hl-21-115><a class=lnlinks href=#hl-21-115>115</a>
</span><span class=lnt id=hl-21-116><a class=lnlinks href=#hl-21-116>116</a>
</span><span class=lnt id=hl-21-117><a class=lnlinks href=#hl-21-117>117</a>
</span><span class=lnt id=hl-21-118><a class=lnlinks href=#hl-21-118>118</a>
</span><span class=lnt id=hl-21-119><a class=lnlinks href=#hl-21-119>119</a>
</span><span class=lnt id=hl-21-120><a class=lnlinks href=#hl-21-120>120</a>
</span><span class=lnt id=hl-21-121><a class=lnlinks href=#hl-21-121>121</a>
</span><span class=lnt id=hl-21-122><a class=lnlinks href=#hl-21-122>122</a>
</span><span class=lnt id=hl-21-123><a class=lnlinks href=#hl-21-123>123</a>
</span><span class=lnt id=hl-21-124><a class=lnlinks href=#hl-21-124>124</a>
</span><span class=lnt id=hl-21-125><a class=lnlinks href=#hl-21-125>125</a>
</span><span class=lnt id=hl-21-126><a class=lnlinks href=#hl-21-126>126</a>
</span><span class=lnt id=hl-21-127><a class=lnlinks href=#hl-21-127>127</a>
</span><span class=lnt id=hl-21-128><a class=lnlinks href=#hl-21-128>128</a>
</span><span class=lnt id=hl-21-129><a class=lnlinks href=#hl-21-129>129</a>
</span><span class=lnt id=hl-21-130><a class=lnlinks href=#hl-21-130>130</a>
</span><span class=lnt id=hl-21-131><a class=lnlinks href=#hl-21-131>131</a>
</span><span class=lnt id=hl-21-132><a class=lnlinks href=#hl-21-132>132</a>
</span><span class=lnt id=hl-21-133><a class=lnlinks href=#hl-21-133>133</a>
</span><span class=lnt id=hl-21-134><a class=lnlinks href=#hl-21-134>134</a>
</span><span class=lnt id=hl-21-135><a class=lnlinks href=#hl-21-135>135</a>
</span><span class=lnt id=hl-21-136><a class=lnlinks href=#hl-21-136>136</a>
</span><span class=lnt id=hl-21-137><a class=lnlinks href=#hl-21-137>137</a>
</span><span class=lnt id=hl-21-138><a class=lnlinks href=#hl-21-138>138</a>
</span><span class=lnt id=hl-21-139><a class=lnlinks href=#hl-21-139>139</a>
</span><span class=lnt id=hl-21-140><a class=lnlinks href=#hl-21-140>140</a>
</span><span class=lnt id=hl-21-141><a class=lnlinks href=#hl-21-141>141</a>
</span><span class=lnt id=hl-21-142><a class=lnlinks href=#hl-21-142>142</a>
</span><span class=lnt id=hl-21-143><a class=lnlinks href=#hl-21-143>143</a>
</span><span class=lnt id=hl-21-144><a class=lnlinks href=#hl-21-144>144</a>
</span><span class=lnt id=hl-21-145><a class=lnlinks href=#hl-21-145>145</a>
</span><span class=lnt id=hl-21-146><a class=lnlinks href=#hl-21-146>146</a>
</span><span class=lnt id=hl-21-147><a class=lnlinks href=#hl-21-147>147</a>
</span><span class=lnt id=hl-21-148><a class=lnlinks href=#hl-21-148>148</a>
</span><span class=lnt id=hl-21-149><a class=lnlinks href=#hl-21-149>149</a>
</span><span class=lnt id=hl-21-150><a class=lnlinks href=#hl-21-150>150</a>
</span><span class=lnt id=hl-21-151><a class=lnlinks href=#hl-21-151>151</a>
</span><span class=lnt id=hl-21-152><a class=lnlinks href=#hl-21-152>152</a>
</span><span class=lnt id=hl-21-153><a class=lnlinks href=#hl-21-153>153</a>
</span><span class=lnt id=hl-21-154><a class=lnlinks href=#hl-21-154>154</a>
</span><span class=lnt id=hl-21-155><a class=lnlinks href=#hl-21-155>155</a>
</span><span class=lnt id=hl-21-156><a class=lnlinks href=#hl-21-156>156</a>
</span><span class=lnt id=hl-21-157><a class=lnlinks href=#hl-21-157>157</a>
</span><span class=lnt id=hl-21-158><a class=lnlinks href=#hl-21-158>158</a>
</span><span class=lnt id=hl-21-159><a class=lnlinks href=#hl-21-159>159</a>
</span><span class=lnt id=hl-21-160><a class=lnlinks href=#hl-21-160>160</a>
</span><span class=lnt id=hl-21-161><a class=lnlinks href=#hl-21-161>161</a>
</span><span class=lnt id=hl-21-162><a class=lnlinks href=#hl-21-162>162</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>abc</span> <span class=kn>import</span> <span class=n>ABC</span><span class=p>,</span> <span class=n>abstractmethod</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Protocol</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Abstract Products</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Button</span><span class=p>(</span><span class=n>Protocol</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>render</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>on_click</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>handler</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Dialog</span><span class=p>(</span><span class=n>Protocol</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>show</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>close</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Abstract Factory</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>UIComponentFactory</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_button</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Button</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_dialog</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dialog</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Concrete Products - Windows</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>WindowsButton</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_handlers</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>render</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;Rendering Windows-style button with native controls&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>on_click</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>handler</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_handlers</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>handler</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Windows button click event registered&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>WindowsDialog</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_visible</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>show</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_visible</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;Displaying Windows modal dialog with system theme&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>close</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_visible</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Windows dialog closed&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Concrete Products - macOS</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MacOSButton</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_handlers</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>render</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;Rendering macOS-style button with Cocoa controls&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>on_click</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>handler</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_handlers</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>handler</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;macOS button click event registered&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MacOSDialog</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_visible</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>show</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_visible</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;Displaying macOS sheet dialog with native appearance&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>close</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_visible</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;macOS dialog closed&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Concrete Factories</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>WindowsUIFactory</span><span class=p>(</span><span class=n>UIComponentFactory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_button</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Button</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>WindowsButton</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_dialog</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dialog</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>WindowsDialog</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MacOSUIFactory</span><span class=p>(</span><span class=n>UIComponentFactory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_button</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Button</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>MacOSButton</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_dialog</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dialog</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>MacOSDialog</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Factory Provider (선택적 구성요소)</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>UIFactoryProvider</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nd>@staticmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_factory</span><span class=p>(</span><span class=n>platform</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>UIComponentFactory</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>factories</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;windows&#34;</span><span class=p>:</span> <span class=n>WindowsUIFactory</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;macos&#34;</span><span class=p>:</span> <span class=n>MacOSUIFactory</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>factory</span> <span class=o>=</span> <span class=n>factories</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>platform</span><span class=o>.</span><span class=n>lower</span><span class=p>())</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>factory</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Unsupported platform: </span><span class=si>{</span><span class=n>platform</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>factory</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Client Code</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>OrderManagementApp</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>ui_factory</span><span class=p>:</span> <span class=n>UIComponentFactory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_factory</span> <span class=o>=</span> <span class=n>ui_factory</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_submit_button</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_confirmation_dialog</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>initialize_ui</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># Create UI components using the factory</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_submit_button</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_factory</span><span class=o>.</span><span class=n>create_button</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_confirmation_dialog</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_factory</span><span class=o>.</span><span class=n>create_dialog</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># Configure components</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_submit_button</span><span class=o>.</span><span class=n>on_click</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_handle_submit</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_handle_submit</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Order submission initiated&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>dialog_message</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_confirmation_dialog</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>dialog_message</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>run</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Initializing Order Management Application&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>initialize_ui</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># Simulate user interaction</span>
</span></span><span class=line><span class=cl>        <span class=n>button_render</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_submit_button</span><span class=o>.</span><span class=n>render</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>button_render</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># Simulate button click</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_handle_submit</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Usage Example</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=kn>import</span> <span class=nn>platform</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Detect platform and create appropriate factory</span>
</span></span><span class=line><span class=cl>    <span class=n>current_platform</span> <span class=o>=</span> <span class=n>platform</span><span class=o>.</span><span class=n>system</span><span class=p>()</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>platform_map</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;windows&#34;</span><span class=p>:</span> <span class=s2>&#34;windows&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;darwin&#34;</span><span class=p>:</span> <span class=s2>&#34;macos&#34;</span>  <span class=c1># macOS system name</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>mapped_platform</span> <span class=o>=</span> <span class=n>platform_map</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>current_platform</span><span class=p>,</span> <span class=s2>&#34;windows&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>factory</span> <span class=o>=</span> <span class=n>UIFactoryProvider</span><span class=o>.</span><span class=n>get_factory</span><span class=p>(</span><span class=n>mapped_platform</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>app</span> <span class=o>=</span> <span class=n>OrderManagementApp</span><span class=p>(</span><span class=n>factory</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>app</span><span class=o>.</span><span class=n>run</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>Application running on </span><span class=si>{</span><span class=n>mapped_platform</span><span class=si>}</span><span class=s2> with native UI components&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=javascript>Javascript<a hidden class=anchor aria-hidden=true href=#javascript>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1>  1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2>  2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3>  3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4>  4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5>  5</a>
</span><span class=lnt id=hl-22-6><a class=lnlinks href=#hl-22-6>  6</a>
</span><span class=lnt id=hl-22-7><a class=lnlinks href=#hl-22-7>  7</a>
</span><span class=lnt id=hl-22-8><a class=lnlinks href=#hl-22-8>  8</a>
</span><span class=lnt id=hl-22-9><a class=lnlinks href=#hl-22-9>  9</a>
</span><span class=lnt id=hl-22-10><a class=lnlinks href=#hl-22-10> 10</a>
</span><span class=lnt id=hl-22-11><a class=lnlinks href=#hl-22-11> 11</a>
</span><span class=lnt id=hl-22-12><a class=lnlinks href=#hl-22-12> 12</a>
</span><span class=lnt id=hl-22-13><a class=lnlinks href=#hl-22-13> 13</a>
</span><span class=lnt id=hl-22-14><a class=lnlinks href=#hl-22-14> 14</a>
</span><span class=lnt id=hl-22-15><a class=lnlinks href=#hl-22-15> 15</a>
</span><span class=lnt id=hl-22-16><a class=lnlinks href=#hl-22-16> 16</a>
</span><span class=lnt id=hl-22-17><a class=lnlinks href=#hl-22-17> 17</a>
</span><span class=lnt id=hl-22-18><a class=lnlinks href=#hl-22-18> 18</a>
</span><span class=lnt id=hl-22-19><a class=lnlinks href=#hl-22-19> 19</a>
</span><span class=lnt id=hl-22-20><a class=lnlinks href=#hl-22-20> 20</a>
</span><span class=lnt id=hl-22-21><a class=lnlinks href=#hl-22-21> 21</a>
</span><span class=lnt id=hl-22-22><a class=lnlinks href=#hl-22-22> 22</a>
</span><span class=lnt id=hl-22-23><a class=lnlinks href=#hl-22-23> 23</a>
</span><span class=lnt id=hl-22-24><a class=lnlinks href=#hl-22-24> 24</a>
</span><span class=lnt id=hl-22-25><a class=lnlinks href=#hl-22-25> 25</a>
</span><span class=lnt id=hl-22-26><a class=lnlinks href=#hl-22-26> 26</a>
</span><span class=lnt id=hl-22-27><a class=lnlinks href=#hl-22-27> 27</a>
</span><span class=lnt id=hl-22-28><a class=lnlinks href=#hl-22-28> 28</a>
</span><span class=lnt id=hl-22-29><a class=lnlinks href=#hl-22-29> 29</a>
</span><span class=lnt id=hl-22-30><a class=lnlinks href=#hl-22-30> 30</a>
</span><span class=lnt id=hl-22-31><a class=lnlinks href=#hl-22-31> 31</a>
</span><span class=lnt id=hl-22-32><a class=lnlinks href=#hl-22-32> 32</a>
</span><span class=lnt id=hl-22-33><a class=lnlinks href=#hl-22-33> 33</a>
</span><span class=lnt id=hl-22-34><a class=lnlinks href=#hl-22-34> 34</a>
</span><span class=lnt id=hl-22-35><a class=lnlinks href=#hl-22-35> 35</a>
</span><span class=lnt id=hl-22-36><a class=lnlinks href=#hl-22-36> 36</a>
</span><span class=lnt id=hl-22-37><a class=lnlinks href=#hl-22-37> 37</a>
</span><span class=lnt id=hl-22-38><a class=lnlinks href=#hl-22-38> 38</a>
</span><span class=lnt id=hl-22-39><a class=lnlinks href=#hl-22-39> 39</a>
</span><span class=lnt id=hl-22-40><a class=lnlinks href=#hl-22-40> 40</a>
</span><span class=lnt id=hl-22-41><a class=lnlinks href=#hl-22-41> 41</a>
</span><span class=lnt id=hl-22-42><a class=lnlinks href=#hl-22-42> 42</a>
</span><span class=lnt id=hl-22-43><a class=lnlinks href=#hl-22-43> 43</a>
</span><span class=lnt id=hl-22-44><a class=lnlinks href=#hl-22-44> 44</a>
</span><span class=lnt id=hl-22-45><a class=lnlinks href=#hl-22-45> 45</a>
</span><span class=lnt id=hl-22-46><a class=lnlinks href=#hl-22-46> 46</a>
</span><span class=lnt id=hl-22-47><a class=lnlinks href=#hl-22-47> 47</a>
</span><span class=lnt id=hl-22-48><a class=lnlinks href=#hl-22-48> 48</a>
</span><span class=lnt id=hl-22-49><a class=lnlinks href=#hl-22-49> 49</a>
</span><span class=lnt id=hl-22-50><a class=lnlinks href=#hl-22-50> 50</a>
</span><span class=lnt id=hl-22-51><a class=lnlinks href=#hl-22-51> 51</a>
</span><span class=lnt id=hl-22-52><a class=lnlinks href=#hl-22-52> 52</a>
</span><span class=lnt id=hl-22-53><a class=lnlinks href=#hl-22-53> 53</a>
</span><span class=lnt id=hl-22-54><a class=lnlinks href=#hl-22-54> 54</a>
</span><span class=lnt id=hl-22-55><a class=lnlinks href=#hl-22-55> 55</a>
</span><span class=lnt id=hl-22-56><a class=lnlinks href=#hl-22-56> 56</a>
</span><span class=lnt id=hl-22-57><a class=lnlinks href=#hl-22-57> 57</a>
</span><span class=lnt id=hl-22-58><a class=lnlinks href=#hl-22-58> 58</a>
</span><span class=lnt id=hl-22-59><a class=lnlinks href=#hl-22-59> 59</a>
</span><span class=lnt id=hl-22-60><a class=lnlinks href=#hl-22-60> 60</a>
</span><span class=lnt id=hl-22-61><a class=lnlinks href=#hl-22-61> 61</a>
</span><span class=lnt id=hl-22-62><a class=lnlinks href=#hl-22-62> 62</a>
</span><span class=lnt id=hl-22-63><a class=lnlinks href=#hl-22-63> 63</a>
</span><span class=lnt id=hl-22-64><a class=lnlinks href=#hl-22-64> 64</a>
</span><span class=lnt id=hl-22-65><a class=lnlinks href=#hl-22-65> 65</a>
</span><span class=lnt id=hl-22-66><a class=lnlinks href=#hl-22-66> 66</a>
</span><span class=lnt id=hl-22-67><a class=lnlinks href=#hl-22-67> 67</a>
</span><span class=lnt id=hl-22-68><a class=lnlinks href=#hl-22-68> 68</a>
</span><span class=lnt id=hl-22-69><a class=lnlinks href=#hl-22-69> 69</a>
</span><span class=lnt id=hl-22-70><a class=lnlinks href=#hl-22-70> 70</a>
</span><span class=lnt id=hl-22-71><a class=lnlinks href=#hl-22-71> 71</a>
</span><span class=lnt id=hl-22-72><a class=lnlinks href=#hl-22-72> 72</a>
</span><span class=lnt id=hl-22-73><a class=lnlinks href=#hl-22-73> 73</a>
</span><span class=lnt id=hl-22-74><a class=lnlinks href=#hl-22-74> 74</a>
</span><span class=lnt id=hl-22-75><a class=lnlinks href=#hl-22-75> 75</a>
</span><span class=lnt id=hl-22-76><a class=lnlinks href=#hl-22-76> 76</a>
</span><span class=lnt id=hl-22-77><a class=lnlinks href=#hl-22-77> 77</a>
</span><span class=lnt id=hl-22-78><a class=lnlinks href=#hl-22-78> 78</a>
</span><span class=lnt id=hl-22-79><a class=lnlinks href=#hl-22-79> 79</a>
</span><span class=lnt id=hl-22-80><a class=lnlinks href=#hl-22-80> 80</a>
</span><span class=lnt id=hl-22-81><a class=lnlinks href=#hl-22-81> 81</a>
</span><span class=lnt id=hl-22-82><a class=lnlinks href=#hl-22-82> 82</a>
</span><span class=lnt id=hl-22-83><a class=lnlinks href=#hl-22-83> 83</a>
</span><span class=lnt id=hl-22-84><a class=lnlinks href=#hl-22-84> 84</a>
</span><span class=lnt id=hl-22-85><a class=lnlinks href=#hl-22-85> 85</a>
</span><span class=lnt id=hl-22-86><a class=lnlinks href=#hl-22-86> 86</a>
</span><span class=lnt id=hl-22-87><a class=lnlinks href=#hl-22-87> 87</a>
</span><span class=lnt id=hl-22-88><a class=lnlinks href=#hl-22-88> 88</a>
</span><span class=lnt id=hl-22-89><a class=lnlinks href=#hl-22-89> 89</a>
</span><span class=lnt id=hl-22-90><a class=lnlinks href=#hl-22-90> 90</a>
</span><span class=lnt id=hl-22-91><a class=lnlinks href=#hl-22-91> 91</a>
</span><span class=lnt id=hl-22-92><a class=lnlinks href=#hl-22-92> 92</a>
</span><span class=lnt id=hl-22-93><a class=lnlinks href=#hl-22-93> 93</a>
</span><span class=lnt id=hl-22-94><a class=lnlinks href=#hl-22-94> 94</a>
</span><span class=lnt id=hl-22-95><a class=lnlinks href=#hl-22-95> 95</a>
</span><span class=lnt id=hl-22-96><a class=lnlinks href=#hl-22-96> 96</a>
</span><span class=lnt id=hl-22-97><a class=lnlinks href=#hl-22-97> 97</a>
</span><span class=lnt id=hl-22-98><a class=lnlinks href=#hl-22-98> 98</a>
</span><span class=lnt id=hl-22-99><a class=lnlinks href=#hl-22-99> 99</a>
</span><span class=lnt id=hl-22-100><a class=lnlinks href=#hl-22-100>100</a>
</span><span class=lnt id=hl-22-101><a class=lnlinks href=#hl-22-101>101</a>
</span><span class=lnt id=hl-22-102><a class=lnlinks href=#hl-22-102>102</a>
</span><span class=lnt id=hl-22-103><a class=lnlinks href=#hl-22-103>103</a>
</span><span class=lnt id=hl-22-104><a class=lnlinks href=#hl-22-104>104</a>
</span><span class=lnt id=hl-22-105><a class=lnlinks href=#hl-22-105>105</a>
</span><span class=lnt id=hl-22-106><a class=lnlinks href=#hl-22-106>106</a>
</span><span class=lnt id=hl-22-107><a class=lnlinks href=#hl-22-107>107</a>
</span><span class=lnt id=hl-22-108><a class=lnlinks href=#hl-22-108>108</a>
</span><span class=lnt id=hl-22-109><a class=lnlinks href=#hl-22-109>109</a>
</span><span class=lnt id=hl-22-110><a class=lnlinks href=#hl-22-110>110</a>
</span><span class=lnt id=hl-22-111><a class=lnlinks href=#hl-22-111>111</a>
</span><span class=lnt id=hl-22-112><a class=lnlinks href=#hl-22-112>112</a>
</span><span class=lnt id=hl-22-113><a class=lnlinks href=#hl-22-113>113</a>
</span><span class=lnt id=hl-22-114><a class=lnlinks href=#hl-22-114>114</a>
</span><span class=lnt id=hl-22-115><a class=lnlinks href=#hl-22-115>115</a>
</span><span class=lnt id=hl-22-116><a class=lnlinks href=#hl-22-116>116</a>
</span><span class=lnt id=hl-22-117><a class=lnlinks href=#hl-22-117>117</a>
</span><span class=lnt id=hl-22-118><a class=lnlinks href=#hl-22-118>118</a>
</span><span class=lnt id=hl-22-119><a class=lnlinks href=#hl-22-119>119</a>
</span><span class=lnt id=hl-22-120><a class=lnlinks href=#hl-22-120>120</a>
</span><span class=lnt id=hl-22-121><a class=lnlinks href=#hl-22-121>121</a>
</span><span class=lnt id=hl-22-122><a class=lnlinks href=#hl-22-122>122</a>
</span><span class=lnt id=hl-22-123><a class=lnlinks href=#hl-22-123>123</a>
</span><span class=lnt id=hl-22-124><a class=lnlinks href=#hl-22-124>124</a>
</span><span class=lnt id=hl-22-125><a class=lnlinks href=#hl-22-125>125</a>
</span><span class=lnt id=hl-22-126><a class=lnlinks href=#hl-22-126>126</a>
</span><span class=lnt id=hl-22-127><a class=lnlinks href=#hl-22-127>127</a>
</span><span class=lnt id=hl-22-128><a class=lnlinks href=#hl-22-128>128</a>
</span><span class=lnt id=hl-22-129><a class=lnlinks href=#hl-22-129>129</a>
</span><span class=lnt id=hl-22-130><a class=lnlinks href=#hl-22-130>130</a>
</span><span class=lnt id=hl-22-131><a class=lnlinks href=#hl-22-131>131</a>
</span><span class=lnt id=hl-22-132><a class=lnlinks href=#hl-22-132>132</a>
</span><span class=lnt id=hl-22-133><a class=lnlinks href=#hl-22-133>133</a>
</span><span class=lnt id=hl-22-134><a class=lnlinks href=#hl-22-134>134</a>
</span><span class=lnt id=hl-22-135><a class=lnlinks href=#hl-22-135>135</a>
</span><span class=lnt id=hl-22-136><a class=lnlinks href=#hl-22-136>136</a>
</span><span class=lnt id=hl-22-137><a class=lnlinks href=#hl-22-137>137</a>
</span><span class=lnt id=hl-22-138><a class=lnlinks href=#hl-22-138>138</a>
</span><span class=lnt id=hl-22-139><a class=lnlinks href=#hl-22-139>139</a>
</span><span class=lnt id=hl-22-140><a class=lnlinks href=#hl-22-140>140</a>
</span><span class=lnt id=hl-22-141><a class=lnlinks href=#hl-22-141>141</a>
</span><span class=lnt id=hl-22-142><a class=lnlinks href=#hl-22-142>142</a>
</span><span class=lnt id=hl-22-143><a class=lnlinks href=#hl-22-143>143</a>
</span><span class=lnt id=hl-22-144><a class=lnlinks href=#hl-22-144>144</a>
</span><span class=lnt id=hl-22-145><a class=lnlinks href=#hl-22-145>145</a>
</span><span class=lnt id=hl-22-146><a class=lnlinks href=#hl-22-146>146</a>
</span><span class=lnt id=hl-22-147><a class=lnlinks href=#hl-22-147>147</a>
</span><span class=lnt id=hl-22-148><a class=lnlinks href=#hl-22-148>148</a>
</span><span class=lnt id=hl-22-149><a class=lnlinks href=#hl-22-149>149</a>
</span><span class=lnt id=hl-22-150><a class=lnlinks href=#hl-22-150>150</a>
</span><span class=lnt id=hl-22-151><a class=lnlinks href=#hl-22-151>151</a>
</span><span class=lnt id=hl-22-152><a class=lnlinks href=#hl-22-152>152</a>
</span><span class=lnt id=hl-22-153><a class=lnlinks href=#hl-22-153>153</a>
</span><span class=lnt id=hl-22-154><a class=lnlinks href=#hl-22-154>154</a>
</span><span class=lnt id=hl-22-155><a class=lnlinks href=#hl-22-155>155</a>
</span><span class=lnt id=hl-22-156><a class=lnlinks href=#hl-22-156>156</a>
</span><span class=lnt id=hl-22-157><a class=lnlinks href=#hl-22-157>157</a>
</span><span class=lnt id=hl-22-158><a class=lnlinks href=#hl-22-158>158</a>
</span><span class=lnt id=hl-22-159><a class=lnlinks href=#hl-22-159>159</a>
</span><span class=lnt id=hl-22-160><a class=lnlinks href=#hl-22-160>160</a>
</span><span class=lnt id=hl-22-161><a class=lnlinks href=#hl-22-161>161</a>
</span><span class=lnt id=hl-22-162><a class=lnlinks href=#hl-22-162>162</a>
</span><span class=lnt id=hl-22-163><a class=lnlinks href=#hl-22-163>163</a>
</span><span class=lnt id=hl-22-164><a class=lnlinks href=#hl-22-164>164</a>
</span><span class=lnt id=hl-22-165><a class=lnlinks href=#hl-22-165>165</a>
</span><span class=lnt id=hl-22-166><a class=lnlinks href=#hl-22-166>166</a>
</span><span class=lnt id=hl-22-167><a class=lnlinks href=#hl-22-167>167</a>
</span><span class=lnt id=hl-22-168><a class=lnlinks href=#hl-22-168>168</a>
</span><span class=lnt id=hl-22-169><a class=lnlinks href=#hl-22-169>169</a>
</span><span class=lnt id=hl-22-170><a class=lnlinks href=#hl-22-170>170</a>
</span><span class=lnt id=hl-22-171><a class=lnlinks href=#hl-22-171>171</a>
</span><span class=lnt id=hl-22-172><a class=lnlinks href=#hl-22-172>172</a>
</span><span class=lnt id=hl-22-173><a class=lnlinks href=#hl-22-173>173</a>
</span><span class=lnt id=hl-22-174><a class=lnlinks href=#hl-22-174>174</a>
</span><span class=lnt id=hl-22-175><a class=lnlinks href=#hl-22-175>175</a>
</span><span class=lnt id=hl-22-176><a class=lnlinks href=#hl-22-176>176</a>
</span><span class=lnt id=hl-22-177><a class=lnlinks href=#hl-22-177>177</a>
</span><span class=lnt id=hl-22-178><a class=lnlinks href=#hl-22-178>178</a>
</span><span class=lnt id=hl-22-179><a class=lnlinks href=#hl-22-179>179</a>
</span><span class=lnt id=hl-22-180><a class=lnlinks href=#hl-22-180>180</a>
</span><span class=lnt id=hl-22-181><a class=lnlinks href=#hl-22-181>181</a>
</span><span class=lnt id=hl-22-182><a class=lnlinks href=#hl-22-182>182</a>
</span><span class=lnt id=hl-22-183><a class=lnlinks href=#hl-22-183>183</a>
</span><span class=lnt id=hl-22-184><a class=lnlinks href=#hl-22-184>184</a>
</span><span class=lnt id=hl-22-185><a class=lnlinks href=#hl-22-185>185</a>
</span><span class=lnt id=hl-22-186><a class=lnlinks href=#hl-22-186>186</a>
</span><span class=lnt id=hl-22-187><a class=lnlinks href=#hl-22-187>187</a>
</span><span class=lnt id=hl-22-188><a class=lnlinks href=#hl-22-188>188</a>
</span><span class=lnt id=hl-22-189><a class=lnlinks href=#hl-22-189>189</a>
</span><span class=lnt id=hl-22-190><a class=lnlinks href=#hl-22-190>190</a>
</span><span class=lnt id=hl-22-191><a class=lnlinks href=#hl-22-191>191</a>
</span><span class=lnt id=hl-22-192><a class=lnlinks href=#hl-22-192>192</a>
</span><span class=lnt id=hl-22-193><a class=lnlinks href=#hl-22-193>193</a>
</span><span class=lnt id=hl-22-194><a class=lnlinks href=#hl-22-194>194</a>
</span><span class=lnt id=hl-22-195><a class=lnlinks href=#hl-22-195>195</a>
</span><span class=lnt id=hl-22-196><a class=lnlinks href=#hl-22-196>196</a>
</span><span class=lnt id=hl-22-197><a class=lnlinks href=#hl-22-197>197</a>
</span><span class=lnt id=hl-22-198><a class=lnlinks href=#hl-22-198>198</a>
</span><span class=lnt id=hl-22-199><a class=lnlinks href=#hl-22-199>199</a>
</span><span class=lnt id=hl-22-200><a class=lnlinks href=#hl-22-200>200</a>
</span><span class=lnt id=hl-22-201><a class=lnlinks href=#hl-22-201>201</a>
</span><span class=lnt id=hl-22-202><a class=lnlinks href=#hl-22-202>202</a>
</span><span class=lnt id=hl-22-203><a class=lnlinks href=#hl-22-203>203</a>
</span><span class=lnt id=hl-22-204><a class=lnlinks href=#hl-22-204>204</a>
</span><span class=lnt id=hl-22-205><a class=lnlinks href=#hl-22-205>205</a>
</span><span class=lnt id=hl-22-206><a class=lnlinks href=#hl-22-206>206</a>
</span><span class=lnt id=hl-22-207><a class=lnlinks href=#hl-22-207>207</a>
</span><span class=lnt id=hl-22-208><a class=lnlinks href=#hl-22-208>208</a>
</span><span class=lnt id=hl-22-209><a class=lnlinks href=#hl-22-209>209</a>
</span><span class=lnt id=hl-22-210><a class=lnlinks href=#hl-22-210>210</a>
</span><span class=lnt id=hl-22-211><a class=lnlinks href=#hl-22-211>211</a>
</span><span class=lnt id=hl-22-212><a class=lnlinks href=#hl-22-212>212</a>
</span><span class=lnt id=hl-22-213><a class=lnlinks href=#hl-22-213>213</a>
</span><span class=lnt id=hl-22-214><a class=lnlinks href=#hl-22-214>214</a>
</span><span class=lnt id=hl-22-215><a class=lnlinks href=#hl-22-215>215</a>
</span><span class=lnt id=hl-22-216><a class=lnlinks href=#hl-22-216>216</a>
</span><span class=lnt id=hl-22-217><a class=lnlinks href=#hl-22-217>217</a>
</span><span class=lnt id=hl-22-218><a class=lnlinks href=#hl-22-218>218</a>
</span><span class=lnt id=hl-22-219><a class=lnlinks href=#hl-22-219>219</a>
</span><span class=lnt id=hl-22-220><a class=lnlinks href=#hl-22-220>220</a>
</span><span class=lnt id=hl-22-221><a class=lnlinks href=#hl-22-221>221</a>
</span><span class=lnt id=hl-22-222><a class=lnlinks href=#hl-22-222>222</a>
</span><span class=lnt id=hl-22-223><a class=lnlinks href=#hl-22-223>223</a>
</span><span class=lnt id=hl-22-224><a class=lnlinks href=#hl-22-224>224</a>
</span><span class=lnt id=hl-22-225><a class=lnlinks href=#hl-22-225>225</a>
</span><span class=lnt id=hl-22-226><a class=lnlinks href=#hl-22-226>226</a>
</span><span class=lnt id=hl-22-227><a class=lnlinks href=#hl-22-227>227</a>
</span><span class=lnt id=hl-22-228><a class=lnlinks href=#hl-22-228>228</a>
</span><span class=lnt id=hl-22-229><a class=lnlinks href=#hl-22-229>229</a>
</span><span class=lnt id=hl-22-230><a class=lnlinks href=#hl-22-230>230</a>
</span><span class=lnt id=hl-22-231><a class=lnlinks href=#hl-22-231>231</a>
</span><span class=lnt id=hl-22-232><a class=lnlinks href=#hl-22-232>232</a>
</span><span class=lnt id=hl-22-233><a class=lnlinks href=#hl-22-233>233</a>
</span><span class=lnt id=hl-22-234><a class=lnlinks href=#hl-22-234>234</a>
</span><span class=lnt id=hl-22-235><a class=lnlinks href=#hl-22-235>235</a>
</span><span class=lnt id=hl-22-236><a class=lnlinks href=#hl-22-236>236</a>
</span><span class=lnt id=hl-22-237><a class=lnlinks href=#hl-22-237>237</a>
</span><span class=lnt id=hl-22-238><a class=lnlinks href=#hl-22-238>238</a>
</span><span class=lnt id=hl-22-239><a class=lnlinks href=#hl-22-239>239</a>
</span><span class=lnt id=hl-22-240><a class=lnlinks href=#hl-22-240>240</a>
</span><span class=lnt id=hl-22-241><a class=lnlinks href=#hl-22-241>241</a>
</span><span class=lnt id=hl-22-242><a class=lnlinks href=#hl-22-242>242</a>
</span><span class=lnt id=hl-22-243><a class=lnlinks href=#hl-22-243>243</a>
</span><span class=lnt id=hl-22-244><a class=lnlinks href=#hl-22-244>244</a>
</span><span class=lnt id=hl-22-245><a class=lnlinks href=#hl-22-245>245</a>
</span><span class=lnt id=hl-22-246><a class=lnlinks href=#hl-22-246>246</a>
</span><span class=lnt id=hl-22-247><a class=lnlinks href=#hl-22-247>247</a>
</span><span class=lnt id=hl-22-248><a class=lnlinks href=#hl-22-248>248</a>
</span><span class=lnt id=hl-22-249><a class=lnlinks href=#hl-22-249>249</a>
</span><span class=lnt id=hl-22-250><a class=lnlinks href=#hl-22-250>250</a>
</span><span class=lnt id=hl-22-251><a class=lnlinks href=#hl-22-251>251</a>
</span><span class=lnt id=hl-22-252><a class=lnlinks href=#hl-22-252>252</a>
</span><span class=lnt id=hl-22-253><a class=lnlinks href=#hl-22-253>253</a>
</span><span class=lnt id=hl-22-254><a class=lnlinks href=#hl-22-254>254</a>
</span><span class=lnt id=hl-22-255><a class=lnlinks href=#hl-22-255>255</a>
</span><span class=lnt id=hl-22-256><a class=lnlinks href=#hl-22-256>256</a>
</span><span class=lnt id=hl-22-257><a class=lnlinks href=#hl-22-257>257</a>
</span><span class=lnt id=hl-22-258><a class=lnlinks href=#hl-22-258>258</a>
</span><span class=lnt id=hl-22-259><a class=lnlinks href=#hl-22-259>259</a>
</span><span class=lnt id=hl-22-260><a class=lnlinks href=#hl-22-260>260</a>
</span><span class=lnt id=hl-22-261><a class=lnlinks href=#hl-22-261>261</a>
</span><span class=lnt id=hl-22-262><a class=lnlinks href=#hl-22-262>262</a>
</span><span class=lnt id=hl-22-263><a class=lnlinks href=#hl-22-263>263</a>
</span><span class=lnt id=hl-22-264><a class=lnlinks href=#hl-22-264>264</a>
</span><span class=lnt id=hl-22-265><a class=lnlinks href=#hl-22-265>265</a>
</span><span class=lnt id=hl-22-266><a class=lnlinks href=#hl-22-266>266</a>
</span><span class=lnt id=hl-22-267><a class=lnlinks href=#hl-22-267>267</a>
</span><span class=lnt id=hl-22-268><a class=lnlinks href=#hl-22-268>268</a>
</span><span class=lnt id=hl-22-269><a class=lnlinks href=#hl-22-269>269</a>
</span><span class=lnt id=hl-22-270><a class=lnlinks href=#hl-22-270>270</a>
</span><span class=lnt id=hl-22-271><a class=lnlinks href=#hl-22-271>271</a>
</span><span class=lnt id=hl-22-272><a class=lnlinks href=#hl-22-272>272</a>
</span><span class=lnt id=hl-22-273><a class=lnlinks href=#hl-22-273>273</a>
</span><span class=lnt id=hl-22-274><a class=lnlinks href=#hl-22-274>274</a>
</span><span class=lnt id=hl-22-275><a class=lnlinks href=#hl-22-275>275</a>
</span><span class=lnt id=hl-22-276><a class=lnlinks href=#hl-22-276>276</a>
</span><span class=lnt id=hl-22-277><a class=lnlinks href=#hl-22-277>277</a>
</span><span class=lnt id=hl-22-278><a class=lnlinks href=#hl-22-278>278</a>
</span><span class=lnt id=hl-22-279><a class=lnlinks href=#hl-22-279>279</a>
</span><span class=lnt id=hl-22-280><a class=lnlinks href=#hl-22-280>280</a>
</span><span class=lnt id=hl-22-281><a class=lnlinks href=#hl-22-281>281</a>
</span><span class=lnt id=hl-22-282><a class=lnlinks href=#hl-22-282>282</a>
</span><span class=lnt id=hl-22-283><a class=lnlinks href=#hl-22-283>283</a>
</span><span class=lnt id=hl-22-284><a class=lnlinks href=#hl-22-284>284</a>
</span><span class=lnt id=hl-22-285><a class=lnlinks href=#hl-22-285>285</a>
</span><span class=lnt id=hl-22-286><a class=lnlinks href=#hl-22-286>286</a>
</span><span class=lnt id=hl-22-287><a class=lnlinks href=#hl-22-287>287</a>
</span><span class=lnt id=hl-22-288><a class=lnlinks href=#hl-22-288>288</a>
</span><span class=lnt id=hl-22-289><a class=lnlinks href=#hl-22-289>289</a>
</span><span class=lnt id=hl-22-290><a class=lnlinks href=#hl-22-290>290</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Abstract Factory Pattern in JavaScript with ES6+ features
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// Abstract Products using Symbol for private methods
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>_render</span> <span class=o>=</span> <span class=nx>Symbol</span><span class=p>(</span><span class=s1>&#39;render&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>_onClick</span> <span class=o>=</span> <span class=nx>Symbol</span><span class=p>(</span><span class=s1>&#39;onClick&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>AbstractButton</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=k>new</span><span class=p>.</span><span class=nx>target</span> <span class=o>===</span> <span class=nx>AbstractButton</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=k>new</span> <span class=nx>TypeError</span><span class=p>(</span><span class=s2>&#34;Cannot construct AbstractButton instances directly&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=nx>_render</span><span class=p>]()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s2>&#34;render method must be implemented&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=nx>_onClick</span><span class=p>](</span><span class=nx>handler</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s2>&#34;onClick method must be implemented&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// Public interface
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>render</span><span class=p>()</span> <span class=p>{</span> <span class=k>return</span> <span class=k>this</span><span class=p>[</span><span class=nx>_render</span><span class=p>]();</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>onClick</span><span class=p>(</span><span class=nx>handler</span><span class=p>)</span> <span class=p>{</span> <span class=k>return</span> <span class=k>this</span><span class=p>[</span><span class=nx>_onClick</span><span class=p>](</span><span class=nx>handler</span><span class=p>);</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>AbstractDialog</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=k>new</span><span class=p>.</span><span class=nx>target</span> <span class=o>===</span> <span class=nx>AbstractDialog</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=k>new</span> <span class=nx>TypeError</span><span class=p>(</span><span class=s2>&#34;Cannot construct AbstractDialog instances directly&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>show</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s2>&#34;show method must be implemented&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>close</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s2>&#34;close method must be implemented&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Concrete Products - Windows Implementation
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>WindowsButton</span> <span class=kr>extends</span> <span class=nx>AbstractButton</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>super</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>handlers</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>isPressed</span> <span class=o>=</span> <span class=kc>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=nx>_render</span><span class=p>]()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;windows-button&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>style</span><span class=o>:</span> <span class=s1>&#39;native-windows-theme&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>state</span><span class=o>:</span> <span class=k>this</span><span class=p>.</span><span class=nx>isPressed</span> <span class=o>?</span> <span class=s1>&#39;pressed&#39;</span> <span class=o>:</span> <span class=s1>&#39;normal&#39;</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=nx>_onClick</span><span class=p>](</span><span class=nx>handler</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>handlers</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>handler</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Windows button click handler registered&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// Windows-specific methods
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>setWindowsTheme</span><span class=p>(</span><span class=nx>theme</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>theme</span> <span class=o>=</span> <span class=nx>theme</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>WindowsDialog</span> <span class=kr>extends</span> <span class=nx>AbstractDialog</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>super</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>isModal</span> <span class=o>=</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>visible</span> <span class=o>=</span> <span class=kc>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>show</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>visible</span> <span class=o>=</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;windows-dialog&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>modal</span><span class=o>:</span> <span class=k>this</span><span class=p>.</span><span class=nx>isModal</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>theme</span><span class=o>:</span> <span class=s1>&#39;system-theme&#39;</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>close</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>visible</span> <span class=o>=</span> <span class=kc>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Windows dialog closed with animation&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>setModal</span><span class=p>(</span><span class=nx>isModal</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>isModal</span> <span class=o>=</span> <span class=nx>isModal</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Concrete Products - macOS Implementation
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>MacOSButton</span> <span class=kr>extends</span> <span class=nx>AbstractButton</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>super</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>handlers</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>cornerRadius</span> <span class=o>=</span> <span class=mi>8</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=nx>_render</span><span class=p>]()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;macos-button&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>style</span><span class=o>:</span> <span class=s1>&#39;cocoa-theme&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>cornerRadius</span><span class=o>:</span> <span class=k>this</span><span class=p>.</span><span class=nx>cornerRadius</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>animation</span><span class=o>:</span> <span class=s1>&#39;fade-in&#39;</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=nx>_onClick</span><span class=p>](</span><span class=nx>handler</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>handlers</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>handler</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;macOS button click handler registered with Core Animation&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// macOS-specific methods
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>setCornerRadius</span><span class=p>(</span><span class=nx>radius</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>cornerRadius</span> <span class=o>=</span> <span class=nx>radius</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>MacOSDialog</span> <span class=kr>extends</span> <span class=nx>AbstractDialog</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>super</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>style</span> <span class=o>=</span> <span class=s1>&#39;sheet&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>visible</span> <span class=o>=</span> <span class=kc>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>show</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>visible</span> <span class=o>=</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;macos-dialog&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>style</span><span class=o>:</span> <span class=k>this</span><span class=p>.</span><span class=nx>style</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>animation</span><span class=o>:</span> <span class=s1>&#39;slide-down&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>backdrop</span><span class=o>:</span> <span class=s1>&#39;blur&#39;</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>close</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>visible</span> <span class=o>=</span> <span class=kc>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;macOS dialog closed with slide-up animation&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>setStyle</span><span class=p>(</span><span class=nx>style</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>style</span> <span class=o>=</span> <span class=nx>style</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Abstract Factory
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>UIComponentFactory</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>createButton</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s2>&#34;createButton method must be implemented&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>createDialog</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s2>&#34;createDialog method must be implemented&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// Template method for creating a complete UI set
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>createUISet</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>button</span><span class=o>:</span> <span class=k>this</span><span class=p>.</span><span class=nx>createButton</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>            <span class=nx>dialog</span><span class=o>:</span> <span class=k>this</span><span class=p>.</span><span class=nx>createDialog</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Concrete Factories
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>WindowsUIFactory</span> <span class=kr>extends</span> <span class=nx>UIComponentFactory</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>createButton</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=nx>WindowsButton</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>createDialog</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=nx>WindowsDialog</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>MacOSUIFactory</span> <span class=kr>extends</span> <span class=nx>UIComponentFactory</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>createButton</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=nx>MacOSButton</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>createDialog</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=nx>MacOSDialog</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Factory Provider with Singleton pattern
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>UIFactoryProvider</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>static</span> <span class=nx>instance</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kr>static</span> <span class=nx>factories</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Map</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>static</span> <span class=nx>getInstance</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>UIFactoryProvider</span><span class=p>.</span><span class=nx>instance</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>UIFactoryProvider</span><span class=p>.</span><span class=nx>instance</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>UIFactoryProvider</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>UIFactoryProvider</span><span class=p>.</span><span class=nx>instance</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>static</span> <span class=nx>registerFactory</span><span class=p>(</span><span class=nx>platform</span><span class=p>,</span> <span class=nx>factory</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>UIFactoryProvider</span><span class=p>.</span><span class=nx>factories</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=nx>platform</span><span class=p>,</span> <span class=nx>factory</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>static</span> <span class=nx>getFactory</span><span class=p>(</span><span class=nx>platform</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>factory</span> <span class=o>=</span> <span class=nx>UIFactoryProvider</span><span class=p>.</span><span class=nx>factories</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>platform</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>factory</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=sb>`No factory registered for platform: </span><span class=si>${</span><span class=nx>platform</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>factory</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>static</span> <span class=nx>detectPlatform</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>userAgent</span> <span class=o>=</span> <span class=nx>navigator</span><span class=p>.</span><span class=nx>userAgent</span><span class=p>.</span><span class=nx>toLowerCase</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>userAgent</span><span class=p>.</span><span class=nx>includes</span><span class=p>(</span><span class=s1>&#39;win&#39;</span><span class=p>))</span> <span class=k>return</span> <span class=s1>&#39;windows&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>userAgent</span><span class=p>.</span><span class=nx>includes</span><span class=p>(</span><span class=s1>&#39;mac&#39;</span><span class=p>))</span> <span class=k>return</span> <span class=s1>&#39;macos&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s1>&#39;windows&#39;</span><span class=p>;</span> <span class=c1>// default fallback
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Registration
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>UIFactoryProvider</span><span class=p>.</span><span class=nx>registerFactory</span><span class=p>(</span><span class=s1>&#39;windows&#39;</span><span class=p>,</span> <span class=k>new</span> <span class=nx>WindowsUIFactory</span><span class=p>());</span>
</span></span><span class=line><span class=cl><span class=nx>UIFactoryProvider</span><span class=p>.</span><span class=nx>registerFactory</span><span class=p>(</span><span class=s1>&#39;macos&#39;</span><span class=p>,</span> <span class=k>new</span> <span class=nx>MacOSUIFactory</span><span class=p>());</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Client Application
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>ECommerceApp</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>platform</span> <span class=o>=</span> <span class=nx>UIFactoryProvider</span><span class=p>.</span><span class=nx>detectPlatform</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>factory</span> <span class=o>=</span> <span class=nx>UIFactoryProvider</span><span class=p>.</span><span class=nx>getFactory</span><span class=p>(</span><span class=nx>platform</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>components</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>initialize</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Initializing E-Commerce Application…&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>components</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>factory</span><span class=p>.</span><span class=nx>createUISet</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// Configure components
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>setupEventHandlers</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>setupEventHandlers</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>components</span><span class=p>.</span><span class=nx>button</span><span class=p>.</span><span class=nx>onClick</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Purchase button clicked&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>showConfirmation</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>showConfirmation</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>dialogInfo</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>components</span><span class=p>.</span><span class=nx>dialog</span><span class=p>.</span><span class=nx>show</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Confirmation dialog displayed:&#39;</span><span class=p>,</span> <span class=nx>dialogInfo</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>render</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>buttonInfo</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>components</span><span class=p>.</span><span class=nx>button</span><span class=p>.</span><span class=nx>render</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Button rendered:&#39;</span><span class=p>,</span> <span class=nx>buttonInfo</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>button</span><span class=o>:</span> <span class=nx>buttonInfo</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>dialog</span><span class=o>:</span> <span class=k>this</span><span class=p>.</span><span class=nx>components</span><span class=p>.</span><span class=nx>dialog</span><span class=p>.</span><span class=nx>visible</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Usage and Testing
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>runExample</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>ECommerceApp</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=nx>app</span><span class=p>.</span><span class=nx>initialize</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>renderInfo</span> <span class=o>=</span> <span class=nx>app</span><span class=p>.</span><span class=nx>render</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Application rendered successfully:&#39;</span><span class=p>,</span> <span class=nx>renderInfo</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// Simulate user interaction
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>app</span><span class=p>.</span><span class=nx>showConfirmation</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;Application error:&#39;</span><span class=p>,</span> <span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Execute example
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>runExample</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=java>Java<a hidden class=anchor aria-hidden=true href=#java>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1> 1</a>
</span><span class=lnt id=hl-23-2><a class=lnlinks href=#hl-23-2> 2</a>
</span><span class=lnt id=hl-23-3><a class=lnlinks href=#hl-23-3> 3</a>
</span><span class=lnt id=hl-23-4><a class=lnlinks href=#hl-23-4> 4</a>
</span><span class=lnt id=hl-23-5><a class=lnlinks href=#hl-23-5> 5</a>
</span><span class=lnt id=hl-23-6><a class=lnlinks href=#hl-23-6> 6</a>
</span><span class=lnt id=hl-23-7><a class=lnlinks href=#hl-23-7> 7</a>
</span><span class=lnt id=hl-23-8><a class=lnlinks href=#hl-23-8> 8</a>
</span><span class=lnt id=hl-23-9><a class=lnlinks href=#hl-23-9> 9</a>
</span><span class=lnt id=hl-23-10><a class=lnlinks href=#hl-23-10>10</a>
</span><span class=lnt id=hl-23-11><a class=lnlinks href=#hl-23-11>11</a>
</span><span class=lnt id=hl-23-12><a class=lnlinks href=#hl-23-12>12</a>
</span><span class=lnt id=hl-23-13><a class=lnlinks href=#hl-23-13>13</a>
</span><span class=lnt id=hl-23-14><a class=lnlinks href=#hl-23-14>14</a>
</span><span class=lnt id=hl-23-15><a class=lnlinks href=#hl-23-15>15</a>
</span><span class=lnt id=hl-23-16><a class=lnlinks href=#hl-23-16>16</a>
</span><span class=lnt id=hl-23-17><a class=lnlinks href=#hl-23-17>17</a>
</span><span class=lnt id=hl-23-18><a class=lnlinks href=#hl-23-18>18</a>
</span><span class=lnt id=hl-23-19><a class=lnlinks href=#hl-23-19>19</a>
</span><span class=lnt id=hl-23-20><a class=lnlinks href=#hl-23-20>20</a>
</span><span class=lnt id=hl-23-21><a class=lnlinks href=#hl-23-21>21</a>
</span><span class=lnt id=hl-23-22><a class=lnlinks href=#hl-23-22>22</a>
</span><span class=lnt id=hl-23-23><a class=lnlinks href=#hl-23-23>23</a>
</span><span class=lnt id=hl-23-24><a class=lnlinks href=#hl-23-24>24</a>
</span><span class=lnt id=hl-23-25><a class=lnlinks href=#hl-23-25>25</a>
</span><span class=lnt id=hl-23-26><a class=lnlinks href=#hl-23-26>26</a>
</span><span class=lnt id=hl-23-27><a class=lnlinks href=#hl-23-27>27</a>
</span><span class=lnt id=hl-23-28><a class=lnlinks href=#hl-23-28>28</a>
</span><span class=lnt id=hl-23-29><a class=lnlinks href=#hl-23-29>29</a>
</span><span class=lnt id=hl-23-30><a class=lnlinks href=#hl-23-30>30</a>
</span><span class=lnt id=hl-23-31><a class=lnlinks href=#hl-23-31>31</a>
</span><span class=lnt id=hl-23-32><a class=lnlinks href=#hl-23-32>32</a>
</span><span class=lnt id=hl-23-33><a class=lnlinks href=#hl-23-33>33</a>
</span><span class=lnt id=hl-23-34><a class=lnlinks href=#hl-23-34>34</a>
</span><span class=lnt id=hl-23-35><a class=lnlinks href=#hl-23-35>35</a>
</span><span class=lnt id=hl-23-36><a class=lnlinks href=#hl-23-36>36</a>
</span><span class=lnt id=hl-23-37><a class=lnlinks href=#hl-23-37>37</a>
</span><span class=lnt id=hl-23-38><a class=lnlinks href=#hl-23-38>38</a>
</span><span class=lnt id=hl-23-39><a class=lnlinks href=#hl-23-39>39</a>
</span><span class=lnt id=hl-23-40><a class=lnlinks href=#hl-23-40>40</a>
</span><span class=lnt id=hl-23-41><a class=lnlinks href=#hl-23-41>41</a>
</span><span class=lnt id=hl-23-42><a class=lnlinks href=#hl-23-42>42</a>
</span><span class=lnt id=hl-23-43><a class=lnlinks href=#hl-23-43>43</a>
</span><span class=lnt id=hl-23-44><a class=lnlinks href=#hl-23-44>44</a>
</span><span class=lnt id=hl-23-45><a class=lnlinks href=#hl-23-45>45</a>
</span><span class=lnt id=hl-23-46><a class=lnlinks href=#hl-23-46>46</a>
</span><span class=lnt id=hl-23-47><a class=lnlinks href=#hl-23-47>47</a>
</span><span class=lnt id=hl-23-48><a class=lnlinks href=#hl-23-48>48</a>
</span><span class=lnt id=hl-23-49><a class=lnlinks href=#hl-23-49>49</a>
</span><span class=lnt id=hl-23-50><a class=lnlinks href=#hl-23-50>50</a>
</span><span class=lnt id=hl-23-51><a class=lnlinks href=#hl-23-51>51</a>
</span><span class=lnt id=hl-23-52><a class=lnlinks href=#hl-23-52>52</a>
</span><span class=lnt id=hl-23-53><a class=lnlinks href=#hl-23-53>53</a>
</span><span class=lnt id=hl-23-54><a class=lnlinks href=#hl-23-54>54</a>
</span><span class=lnt id=hl-23-55><a class=lnlinks href=#hl-23-55>55</a>
</span><span class=lnt id=hl-23-56><a class=lnlinks href=#hl-23-56>56</a>
</span><span class=lnt id=hl-23-57><a class=lnlinks href=#hl-23-57>57</a>
</span><span class=lnt id=hl-23-58><a class=lnlinks href=#hl-23-58>58</a>
</span><span class=lnt id=hl-23-59><a class=lnlinks href=#hl-23-59>59</a>
</span><span class=lnt id=hl-23-60><a class=lnlinks href=#hl-23-60>60</a>
</span><span class=lnt id=hl-23-61><a class=lnlinks href=#hl-23-61>61</a>
</span><span class=lnt id=hl-23-62><a class=lnlinks href=#hl-23-62>62</a>
</span><span class=lnt id=hl-23-63><a class=lnlinks href=#hl-23-63>63</a>
</span><span class=lnt id=hl-23-64><a class=lnlinks href=#hl-23-64>64</a>
</span><span class=lnt id=hl-23-65><a class=lnlinks href=#hl-23-65>65</a>
</span><span class=lnt id=hl-23-66><a class=lnlinks href=#hl-23-66>66</a>
</span><span class=lnt id=hl-23-67><a class=lnlinks href=#hl-23-67>67</a>
</span><span class=lnt id=hl-23-68><a class=lnlinks href=#hl-23-68>68</a>
</span><span class=lnt id=hl-23-69><a class=lnlinks href=#hl-23-69>69</a>
</span><span class=lnt id=hl-23-70><a class=lnlinks href=#hl-23-70>70</a>
</span><span class=lnt id=hl-23-71><a class=lnlinks href=#hl-23-71>71</a>
</span><span class=lnt id=hl-23-72><a class=lnlinks href=#hl-23-72>72</a>
</span><span class=lnt id=hl-23-73><a class=lnlinks href=#hl-23-73>73</a>
</span><span class=lnt id=hl-23-74><a class=lnlinks href=#hl-23-74>74</a>
</span><span class=lnt id=hl-23-75><a class=lnlinks href=#hl-23-75>75</a>
</span><span class=lnt id=hl-23-76><a class=lnlinks href=#hl-23-76>76</a>
</span><span class=lnt id=hl-23-77><a class=lnlinks href=#hl-23-77>77</a>
</span><span class=lnt id=hl-23-78><a class=lnlinks href=#hl-23-78>78</a>
</span><span class=lnt id=hl-23-79><a class=lnlinks href=#hl-23-79>79</a>
</span><span class=lnt id=hl-23-80><a class=lnlinks href=#hl-23-80>80</a>
</span><span class=lnt id=hl-23-81><a class=lnlinks href=#hl-23-81>81</a>
</span><span class=lnt id=hl-23-82><a class=lnlinks href=#hl-23-82>82</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// 추상 팩토리</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>interface</span> <span class=nc>GUIFactory</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>Button</span><span class=w> </span><span class=nf>createButton</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>Checkbox</span><span class=w> </span><span class=nf>createCheckbox</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 구체적 팩토리 - Windows</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>WindowsFactory</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>GUIFactory</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Button</span><span class=w> </span><span class=nf>createButton</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>WindowsButton</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Checkbox</span><span class=w> </span><span class=nf>createCheckbox</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>WindowsCheckbox</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 구체적 팩토리 - Mac</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>MacFactory</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>GUIFactory</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Button</span><span class=w> </span><span class=nf>createButton</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>MacButton</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Checkbox</span><span class=w> </span><span class=nf>createCheckbox</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>MacCheckbox</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 추상 제품</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>interface</span> <span class=nc>Button</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>paint</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>interface</span> <span class=nc>Checkbox</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>paint</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 구체적 제품</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>WindowsButton</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>Button</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>paint</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;Windows 스타일 버튼 렌더링&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>MacButton</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>Button</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>paint</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;Mac 스타일 버튼 렌더링&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 클라이언트 코드</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Application</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Button</span><span class=w> </span><span class=n>button</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Checkbox</span><span class=w> </span><span class=n>checkbox</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>Application</span><span class=p>(</span><span class=n>GUIFactory</span><span class=w> </span><span class=n>factory</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>button</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>factory</span><span class=p>.</span><span class=na>createButton</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>checkbox</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>factory</span><span class=p>.</span><span class=na>createCheckbox</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>paint</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>button</span><span class=p>.</span><span class=na>paint</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>checkbox</span><span class=p>.</span><span class=na>paint</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 사용 예시</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Demo</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>GUIFactory</span><span class=w> </span><span class=n>factory</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>String</span><span class=w> </span><span class=n>osName</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>System</span><span class=p>.</span><span class=na>getProperty</span><span class=p>(</span><span class=s>&#34;os.name&#34;</span><span class=p>).</span><span class=na>toLowerCase</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>osName</span><span class=p>.</span><span class=na>contains</span><span class=p>(</span><span class=s>&#34;mac&#34;</span><span class=p>))</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>factory</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>MacFactory</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>factory</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>WindowsFactory</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Application</span><span class=w> </span><span class=n>app</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Application</span><span class=p>(</span><span class=n>factory</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>app</span><span class=p>.</span><span class=na>paint</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td><strong>설계 단계</strong></td><td>제품군 정의</td><td>관련 객체들을 논리적으로 그룹화하고, 제품군 간 역할과 책임을 명확히 정의</td><td>도메인 전문가와 협업하여 실제 사용 케이스 기반 설계</td></tr><tr><td></td><td>인터페이스 안정성</td><td>추상 인터페이스는 자주 변경되지 않도록 최소 기능만 정의</td><td>확장 가능한 구조와 신중한 초기 설계</td></tr><tr><td></td><td>복잡도 관리</td><td>과도한 추상화와 불필요한 클래스 생성은 오히려 유지보수 어려움으로 이어짐</td><td>필요 시에만 적용, 단순한 문제에는 단순한 해결책</td></tr><tr><td></td><td>확장 계획</td><td>새로운 제품군 추가를 고려한 구조를 갖추지 않으면 변경이 전체에 영향을 미침</td><td>확장 포인트를 사전에 정의하거나 기본 구현 제공</td></tr><tr><td></td><td>플랫폼/환경 다양성</td><td>다양한 OS, 클라우드, 테스트 환경 등에서의 적용 가능성</td><td>DI 컨테이너 및 설정 기반 팩토리 선택 구조 활용</td></tr><tr><td><strong>구현 단계</strong></td><td>인터페이스 설계</td><td>클래스 간 의존을 줄이고, 클라이언트는 추상 인터페이스만 알게 설계</td><td>구체 구현을 숨기고 인터페이스 중심 설계</td></tr><tr><td></td><td>팩토리 등록/선택 메커니즘</td><td>런타임 환경에 따라 다른 팩토리를 선택해야 하는 경우가 많음</td><td>설정 파일, 전략 패턴, FactoryProvider 활용</td></tr><tr><td></td><td>예외 처리</td><td>잘못된 팩토리 인스턴스나 제품 생성 실패 시 적절한 핸들링 필요</td><td>검증 로직 추가 및 기본/디폴트 처리 제공</td></tr><tr><td></td><td>클래스 수 증가</td><td>제품군/팩토리 수만큼 클래스 수 증가 → 유지보수 부담 가능</td><td>코드 생성기, 공통 로직 추출, 패키지 구조 체계화</td></tr><tr><td><strong>운영 단계</strong></td><td>성능 최적화</td><td>무거운 객체나 빈번히 생성되는 객체의 경우 성능에 악영향</td><td>지연 초기화 (Lazy Initialization), 객체 풀링 적용</td></tr><tr><td></td><td>로깅 및 추적</td><td>어떤 팩토리/제품이 사용되었는지 운영 환경에서 확인이 어려울 수 있음</td><td>팩토리 사용 로그, 제품 생성 이벤트 추적 로깅 구현</td></tr><tr><td></td><td>모니터링</td><td>팩토리 기반 시스템에서 성능 병목이나 메모리 누수가 발생할 수 있음</td><td>메모리/GC 프로파일링 도구, 팩토리별 사용량 수집</td></tr><tr><td><strong>테스트 단계</strong></td><td>테스트 전략</td><td>제품 객체가 많고 상태가 다양한 경우 테스트 코드가 복잡해질 수 있음</td><td>인터페이스 기반 설계 + Mock 팩토리 분리 구현</td></tr><tr><td></td><td>DI 활용</td><td>테스트 환경에서 팩토리를 쉽게 바꿀 수 있어야 함</td><td>DI 컨테이너/환경 프로파일 기반 객체 주입</td></tr><tr><td></td><td>제품군별 격리 테스트</td><td>제품군 간 의존이나 혼용 시 버그 가능성 존재</td><td>제품군별 독립적인 테스트와 타입 검증 체계 설계</td></tr></tbody></table><ul><li><strong>설계 시에는</strong> 제품군을 실제 도메인 기반으로 명확히 정의하고, 인터페이스 최소화에 집중해야 함.</li><li><strong>구현 시에는</strong> 팩토리 등록/선택 로직과 예외 처리 로직을 구조화하고 클래스 수 증가에 유의해야 함.</li><li><strong>운영 시에는</strong> 성능 최적화와 추적성 확보를 위한 로깅/모니터링 체계를 마련해야 함.</li><li><strong>테스트 시에는</strong> DI 기반 Mock 전략과 제품군 단위 테스트를 병행하는 구조가 권장됨.</li></ul><h4 id=관련-기술과-연계>관련 기술과 연계<a hidden class=anchor aria-hidden=true href=#관련-기술과-연계>#</a></h4><table><thead><tr><th>기술 영역</th><th>연계 방식</th><th>설명</th></tr></thead><tbody><tr><td>Dependency Injection (DI)</td><td>Factory 주입</td><td>Spring, Guice 등에서 팩토리를 DI 로 관리 가능</td></tr><tr><td>Configuration Management</td><td>설정 기반 팩토리 선택</td><td>설정값에 따라 팩토리 동적 선택 (e.g. properties, YAML)</td></tr><tr><td>Plugin Architecture</td><td>팩토리 등록 방식</td><td>외부 모듈의 제품군을 플러그인 팩토리로 등록/로딩</td></tr><tr><td>GUI Toolkits</td><td>테마별 제품군 제공</td><td>각 OS 별 버튼, 메뉴 등 GUI 컴포넌트를 팩토리로 구성</td></tr></tbody></table><h4 id=abstract-factory-패턴-활용-시-흔한-실수>Abstract Factory 패턴 활용 시 흔한 실수<a hidden class=anchor aria-hidden=true href=#abstract-factory-패턴-활용-시-흔한-실수>#</a></h4><table><thead><tr><th>실수</th><th>설명</th><th>개선 방안</th></tr></thead><tbody><tr><td>팩토리 기능 과도 집중</td><td>Factory 클래스에 논리 추가로 SRP 위반</td><td>팩토리는 오직 객체 생성만 담당</td></tr><tr><td>팩토리 간 결합 발생</td><td>팩토리 내부에서 다른 팩토리 직접 생성</td><td>DI 또는 서비스 로케이터 패턴 적용</td></tr><tr><td>제품군 확장 시 인터페이스 확장 반복</td><td>인터페이스 변경이 연쇄 영향을 줌</td><td>인터페이스의 최소화를 유지, 여러 인터페이스로 분리 고려</td></tr></tbody></table><h5 id=팩토리-기능-과도-집중-srp-위반>팩토리 기능 과도 집중 (SRP 위반)<a hidden class=anchor aria-hidden=true href=#팩토리-기능-과도-집중-srp-위반>#</a></h5><h6 id=잘못된-예시>잘못된 예시<a hidden class=anchor aria-hidden=true href=#잘못된-예시>#</a></h6><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1> 1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2> 2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3> 3</a>
</span><span class=lnt id=hl-24-4><a class=lnlinks href=#hl-24-4> 4</a>
</span><span class=lnt id=hl-24-5><a class=lnlinks href=#hl-24-5> 5</a>
</span><span class=lnt id=hl-24-6><a class=lnlinks href=#hl-24-6> 6</a>
</span><span class=lnt id=hl-24-7><a class=lnlinks href=#hl-24-7> 7</a>
</span><span class=lnt id=hl-24-8><a class=lnlinks href=#hl-24-8> 8</a>
</span><span class=lnt id=hl-24-9><a class=lnlinks href=#hl-24-9> 9</a>
</span><span class=lnt id=hl-24-10><a class=lnlinks href=#hl-24-10>10</a>
</span><span class=lnt id=hl-24-11><a class=lnlinks href=#hl-24-11>11</a>
</span><span class=lnt id=hl-24-12><a class=lnlinks href=#hl-24-12>12</a>
</span><span class=lnt id=hl-24-13><a class=lnlinks href=#hl-24-13>13</a>
</span><span class=lnt id=hl-24-14><a class=lnlinks href=#hl-24-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>UIFactory</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_button</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>WindowsButton</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_window</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>WindowsWindow</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># ❌ 잘못: 팩토리 내부에 UI 논리까지 포함 → SRP 위반</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>render_ui</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>button</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_button</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>window</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_window</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Rendering UI...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>button</span><span class=o>.</span><span class=n>draw</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>window</span><span class=o>.</span><span class=n>open</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p><strong>문제점</strong>: 팩토리가 객체 생성뿐 아니라 <strong>렌더링 로직까지 담당</strong>하며, 단일 책임 원칙 (SRP) 을 위반하고 있음.</p></blockquote><h6 id=개선된-예시>개선된 예시<a hidden class=anchor aria-hidden=true href=#개선된-예시>#</a></h6><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1> 1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2> 2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3> 3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4> 4</a>
</span><span class=lnt id=hl-25-5><a class=lnlinks href=#hl-25-5> 5</a>
</span><span class=lnt id=hl-25-6><a class=lnlinks href=#hl-25-6> 6</a>
</span><span class=lnt id=hl-25-7><a class=lnlinks href=#hl-25-7> 7</a>
</span><span class=lnt id=hl-25-8><a class=lnlinks href=#hl-25-8> 8</a>
</span><span class=lnt id=hl-25-9><a class=lnlinks href=#hl-25-9> 9</a>
</span><span class=lnt id=hl-25-10><a class=lnlinks href=#hl-25-10>10</a>
</span><span class=lnt id=hl-25-11><a class=lnlinks href=#hl-25-11>11</a>
</span><span class=lnt id=hl-25-12><a class=lnlinks href=#hl-25-12>12</a>
</span><span class=lnt id=hl-25-13><a class=lnlinks href=#hl-25-13>13</a>
</span><span class=lnt id=hl-25-14><a class=lnlinks href=#hl-25-14>14</a>
</span><span class=lnt id=hl-25-15><a class=lnlinks href=#hl-25-15>15</a>
</span><span class=lnt id=hl-25-16><a class=lnlinks href=#hl-25-16>16</a>
</span><span class=lnt id=hl-25-17><a class=lnlinks href=#hl-25-17>17</a>
</span><span class=lnt id=hl-25-18><a class=lnlinks href=#hl-25-18>18</a>
</span><span class=lnt id=hl-25-19><a class=lnlinks href=#hl-25-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 순수한 팩토리: 생성 책임만 가짐</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>UIFactory</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_button</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>WindowsButton</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_window</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>WindowsWindow</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 클라이언트가 비즈니스 로직과 UI 사용을 담당</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>UIClient</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>factory</span><span class=p>:</span> <span class=n>UIFactory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>factory</span> <span class=o>=</span> <span class=n>factory</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>render_ui</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>button</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>factory</span><span class=o>.</span><span class=n>create_button</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>window</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>factory</span><span class=o>.</span><span class=n>create_window</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Rendering UI...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>button</span><span class=o>.</span><span class=n>draw</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>window</span><span class=o>.</span><span class=n>open</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=팩토리-간-결합-발생>팩토리 간 결합 발생<a hidden class=anchor aria-hidden=true href=#팩토리-간-결합-발생>#</a></h5><h6 id=잘못된-예시-1>잘못된 예시<a hidden class=anchor aria-hidden=true href=#잘못된-예시-1>#</a></h6><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1>1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2>2</a>
</span><span class=lnt id=hl-26-3><a class=lnlinks href=#hl-26-3>3</a>
</span><span class=lnt id=hl-26-4><a class=lnlinks href=#hl-26-4>4</a>
</span><span class=lnt id=hl-26-5><a class=lnlinks href=#hl-26-5>5</a>
</span><span class=lnt id=hl-26-6><a class=lnlinks href=#hl-26-6>6</a>
</span><span class=lnt id=hl-26-7><a class=lnlinks href=#hl-26-7>7</a>
</span><span class=lnt id=hl-26-8><a class=lnlinks href=#hl-26-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>UIFactory</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># ❌ 잘못: 팩토리 내부에서 직접 다른 팩토리 생성 → 결합도 상승</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>theme_factory</span> <span class=o>=</span> <span class=n>ThemeFactory</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_button</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>theme</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>theme_factory</span><span class=o>.</span><span class=n>get_theme</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ThemedButton</span><span class=p>(</span><span class=n>theme</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>📛 <strong>문제점</strong>: 팩토리 안에서 또 다른 팩토리를 직접 생성하고 있어, <strong>결합도 증가 및 테스트 어려움</strong> 초래</p></blockquote><h6 id=개선된-예시-di-적용>개선된 예시 (DI 적용)<a hidden class=anchor aria-hidden=true href=#개선된-예시-di-적용>#</a></h6><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1> 1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2> 2</a>
</span><span class=lnt id=hl-27-3><a class=lnlinks href=#hl-27-3> 3</a>
</span><span class=lnt id=hl-27-4><a class=lnlinks href=#hl-27-4> 4</a>
</span><span class=lnt id=hl-27-5><a class=lnlinks href=#hl-27-5> 5</a>
</span><span class=lnt id=hl-27-6><a class=lnlinks href=#hl-27-6> 6</a>
</span><span class=lnt id=hl-27-7><a class=lnlinks href=#hl-27-7> 7</a>
</span><span class=lnt id=hl-27-8><a class=lnlinks href=#hl-27-8> 8</a>
</span><span class=lnt id=hl-27-9><a class=lnlinks href=#hl-27-9> 9</a>
</span><span class=lnt id=hl-27-10><a class=lnlinks href=#hl-27-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>UIFactory</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>theme_factory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>theme_factory</span> <span class=o>=</span> <span class=n>theme_factory</span>  <span class=c1># DI (의존성 주입)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_button</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>theme</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>theme_factory</span><span class=o>.</span><span class=n>get_theme</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ThemedButton</span><span class=p>(</span><span class=n>theme</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 주입 시점에서 팩토리를 구성</span>
</span></span><span class=line><span class=cl><span class=n>ui_factory</span> <span class=o>=</span> <span class=n>UIFactory</span><span class=p>(</span><span class=n>theme_factory</span><span class=o>=</span><span class=n>ThemeFactory</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><p>또는 <strong>서비스 로케이터 패턴</strong> 사용 예시:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-28-1><a class=lnlinks href=#hl-28-1> 1</a>
</span><span class=lnt id=hl-28-2><a class=lnlinks href=#hl-28-2> 2</a>
</span><span class=lnt id=hl-28-3><a class=lnlinks href=#hl-28-3> 3</a>
</span><span class=lnt id=hl-28-4><a class=lnlinks href=#hl-28-4> 4</a>
</span><span class=lnt id=hl-28-5><a class=lnlinks href=#hl-28-5> 5</a>
</span><span class=lnt id=hl-28-6><a class=lnlinks href=#hl-28-6> 6</a>
</span><span class=lnt id=hl-28-7><a class=lnlinks href=#hl-28-7> 7</a>
</span><span class=lnt id=hl-28-8><a class=lnlinks href=#hl-28-8> 8</a>
</span><span class=lnt id=hl-28-9><a class=lnlinks href=#hl-28-9> 9</a>
</span><span class=lnt id=hl-28-10><a class=lnlinks href=#hl-28-10>10</a>
</span><span class=lnt id=hl-28-11><a class=lnlinks href=#hl-28-11>11</a>
</span><span class=lnt id=hl-28-12><a class=lnlinks href=#hl-28-12>12</a>
</span><span class=lnt id=hl-28-13><a class=lnlinks href=#hl-28-13>13</a>
</span><span class=lnt id=hl-28-14><a class=lnlinks href=#hl-28-14>14</a>
</span><span class=lnt id=hl-28-15><a class=lnlinks href=#hl-28-15>15</a>
</span><span class=lnt id=hl-28-16><a class=lnlinks href=#hl-28-16>16</a>
</span><span class=lnt id=hl-28-17><a class=lnlinks href=#hl-28-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>ServiceLocator</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>_services</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@classmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>register</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>service</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>cls</span><span class=o>.</span><span class=n>_services</span><span class=p>[</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=n>service</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@classmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>resolve</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_services</span><span class=p>[</span><span class=n>name</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 등록</span>
</span></span><span class=line><span class=cl><span class=n>ServiceLocator</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=s2>&#34;theme_factory&#34;</span><span class=p>,</span> <span class=n>ThemeFactory</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용</span>
</span></span><span class=line><span class=cl><span class=n>theme_factory</span> <span class=o>=</span> <span class=n>ServiceLocator</span><span class=o>.</span><span class=n>resolve</span><span class=p>(</span><span class=s2>&#34;theme_factory&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>ui_factory</span> <span class=o>=</span> <span class=n>UIFactory</span><span class=p>(</span><span class=n>theme_factory</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=제품군-확장-시-인터페이스-확장-반복>제품군 확장 시 인터페이스 확장 반복<a hidden class=anchor aria-hidden=true href=#제품군-확장-시-인터페이스-확장-반복>#</a></h5><h6 id=잘못된-예시-2>잘못된 예시<a hidden class=anchor aria-hidden=true href=#잘못된-예시-2>#</a></h6><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-29-1><a class=lnlinks href=#hl-29-1>1</a>
</span><span class=lnt id=hl-29-2><a class=lnlinks href=#hl-29-2>2</a>
</span><span class=lnt id=hl-29-3><a class=lnlinks href=#hl-29-3>3</a>
</span><span class=lnt id=hl-29-4><a class=lnlinks href=#hl-29-4>4</a>
</span><span class=lnt id=hl-29-5><a class=lnlinks href=#hl-29-5>5</a>
</span><span class=lnt id=hl-29-6><a class=lnlinks href=#hl-29-6>6</a>
</span><span class=lnt id=hl-29-7><a class=lnlinks href=#hl-29-7>7</a>
</span><span class=lnt id=hl-29-8><a class=lnlinks href=#hl-29-8>8</a>
</span><span class=lnt id=hl-29-9><a class=lnlinks href=#hl-29-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 초기에는 버튼만 있었음</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>AbstractFactory</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_button</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=ne>NotImplementedError</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 이후 창(Window) 추가 → 인터페이스 변경</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>AbstractFactoryV2</span><span class=p>(</span><span class=n>AbstractFactory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_window</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=ne>NotImplementedError</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>📛 <strong>문제점</strong>: 인터페이스 변경이 연쇄적으로 영향을 미쳐 <strong>기존 구현체까지 수정</strong> 필요</p></blockquote><h6 id=개선된-예시-인터페이스-최소화--분리>개선된 예시 (인터페이스 최소화 & 분리)<a hidden class=anchor aria-hidden=true href=#개선된-예시-인터페이스-최소화--분리>#</a></h6><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-30-1><a class=lnlinks href=#hl-30-1> 1</a>
</span><span class=lnt id=hl-30-2><a class=lnlinks href=#hl-30-2> 2</a>
</span><span class=lnt id=hl-30-3><a class=lnlinks href=#hl-30-3> 3</a>
</span><span class=lnt id=hl-30-4><a class=lnlinks href=#hl-30-4> 4</a>
</span><span class=lnt id=hl-30-5><a class=lnlinks href=#hl-30-5> 5</a>
</span><span class=lnt id=hl-30-6><a class=lnlinks href=#hl-30-6> 6</a>
</span><span class=lnt id=hl-30-7><a class=lnlinks href=#hl-30-7> 7</a>
</span><span class=lnt id=hl-30-8><a class=lnlinks href=#hl-30-8> 8</a>
</span><span class=lnt id=hl-30-9><a class=lnlinks href=#hl-30-9> 9</a>
</span><span class=lnt id=hl-30-10><a class=lnlinks href=#hl-30-10>10</a>
</span><span class=lnt id=hl-30-11><a class=lnlinks href=#hl-30-11>11</a>
</span><span class=lnt id=hl-30-12><a class=lnlinks href=#hl-30-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 역할 별로 인터페이스 분리</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ButtonFactory</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_button</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=ne>NotImplementedError</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>WindowFactory</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_window</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=ne>NotImplementedError</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 필요 시 조합</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>UIFactory</span><span class=p>(</span><span class=n>ButtonFactory</span><span class=p>,</span> <span class=n>WindowFactory</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>✅ 각 기능이 독립된 인터페이스로 구성되어 있어 <strong>제품군 확장 시 영향 최소화</strong>됨</p></blockquote><h4 id=테스트-전략>테스트 전략<a hidden class=anchor aria-hidden=true href=#테스트-전략>#</a></h4><table><thead><tr><th>전략</th><th>설명</th><th>장점</th></tr></thead><tbody><tr><td><strong>Mock 팩토리 사용</strong></td><td>테스트 전용 팩토리 구현으로 실제 제품 대신 Mock 객체 생성</td><td>단위 테스트 간소화, 외부 의존 제거</td></tr><tr><td><strong>DI 기반 팩토리 주입</strong></td><td>팩토리를 외부에서 주입받아 테스트 시 원하는 객체 생성</td><td>테스트 유연성 향상, 의존성 제어 가능</td></tr><tr><td><strong>팩토리 인터페이스 추상화</strong></td><td>테스트 대상이 인터페이스만 참조</td><td>테스트 시 다양한 구현 객체로 대체 용이</td></tr></tbody></table><h4 id=리팩토링-전략>리팩토링 전략<a hidden class=anchor aria-hidden=true href=#리팩토링-전략>#</a></h4><table><thead><tr><th>시나리오</th><th>전략</th><th>설명</th></tr></thead><tbody><tr><td>제품군이 많아짐</td><td>서브팩토리 분리</td><td>제품 계열별로 인터페이스를 나누고 소형 팩토리로 분리</td></tr><tr><td>생성 메서드 중복 증가</td><td>공통 로직 유틸리티화</td><td>생성 로직 공통화 또는 헬퍼 함수 추출</td></tr><tr><td>팩토리 중복 사용</td><td>싱글톤 패턴 적용</td><td>팩토리의 재사용성과 메모리 사용 최적화</td></tr><tr><td>팩토리 난립</td><td>팩토리 레지스트리 패턴 도입</td><td>팩토리들을 Map 등으로 관리하여 팩토리 폭주 방지</td></tr></tbody></table><h4 id=패턴-확장-적용-시-고려-사항>패턴 확장 적용 시 고려 사항<a hidden class=anchor aria-hidden=true href=#패턴-확장-적용-시-고려-사항>#</a></h4><table><thead><tr><th>고려 항목</th><th>설명</th><th>주의점</th></tr></thead><tbody><tr><td><strong>서비스 구성 전략</strong></td><td>팩토리 기반으로 모듈 분리 가능</td><td>모듈 경계 명확히, 경합 상황 방지</td></tr><tr><td><strong>제품군 확장 전략</strong></td><td>기존 인터페이스 유지하면서 새로운 제품군 추가</td><td>SRP 위반하지 않도록 인터페이스 분리 고려</td></tr><tr><td><strong>상호 운용성</strong></td><td>여러 제품군 조합의 인터페이스 통합 여부 판단</td><td>공통 추상화 계층 정의 필요</td></tr><tr><td><strong>제품군 제거 전략</strong></td><td>사용되지 않는 제품군 관리</td><td>의존도 파악 및 자동화 도구 활용 (e.g., 코드 커버리지 분석)</td></tr></tbody></table><h3 id=최적화하기-위한-고려사항-및-주의점>최적화하기 위한 고려사항 및 주의점<a hidden class=anchor aria-hidden=true href=#최적화하기-위한-고려사항-및-주의점>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th><th>권장사항</th><th></th></tr></thead><tbody><tr><td><strong>설계 및 구현</strong></td><td>인터페이스 설계</td><td>확장성 있는 구조로 설계되어야 하며, 불필요한 메서드 추가는 피해야 함</td><td>파라미터화된 팩토리 적용, 인터페이스 최소화</td><td></td></tr><tr><td></td><td>팩토리 재사용 구조</td><td>팩토리를 반복 생성하면 성능 저하와 메모리 낭비 발생</td><td>싱글톤 또는 DI 컨테이너를 통한 공유 관리</td><td></td></tr><tr><td></td><td>코드 반복 최소화</td><td>제품군이 많을수록 유사 코드가 많아짐</td><td>제네릭, 템플릿, 코드 생성기 활용</td><td></td></tr><tr><td><strong>실행 성능</strong></td><td>지연 초기화</td><td>무거운 객체를 불필요하게 즉시 생성하면 응답 지연, 자원 낭비 초래</td><td>프록시 패턴과 결합한 Lazy Loading</td><td></td></tr><tr><td></td><td>객체 풀링</td><td>빈번히 재사용되는 객체는 매번 생성하지 않고 재사용 가능</td><td>Object Pool 패턴 도입</td><td></td></tr><tr><td></td><td>조건 분기 최소화</td><td>팩토리 선택 로직이 많아질수록 if/switch 가 복잡해짐</td><td>맵 기반 룩업 테이블 적용 (Key → 팩토리)</td><td></td></tr><tr><td></td><td>팩토리 캐싱</td><td>동일한 팩토리를 매번 생성하면 리소스 낭비</td><td>팩토리 인스턴스 캐시 저장 또는 DI 주입</td><td></td></tr><tr><td><strong>메모리 관리</strong></td><td>객체 수명 주기 관리</td><td>생성된 객체가 참조되지 않고 남아 있으면 GC 부하 및 누수 가능성 있음</td><td>약한 참조 (WeakRef), 명확한 범위 지정, 명시적 해제</td><td></td></tr><tr><td></td><td>불필요 객체 생성 방지</td><td>모든 제품을 사전에 만들 경우 메모리 낭비</td><td>필요 시점에만 생성 (On-demand)</td><td></td></tr><tr><td></td><td>GC/메모리 누수 대응</td><td>팩토리나 제품이 불필요하게 메모리에 남아 있으면 리소스 부족으로 이어질 수 있음</td><td>주기적 정리, 팩토리 수명주기 모니터링</td><td></td></tr><tr><td><strong>확장성</strong></td><td>런타임 팩토리 변경</td><td>동적 로딩, 설정 파일 기반으로 팩토리를 교체해야 할 수 있음</td><td>Reflection, 플러그인 아키텍처, 전략 패턴 적용</td><td></td></tr><tr><td></td><td>병렬 처리 지원</td><td>멀티스레드 환경에서는 상태 공유가 위험할 수 있음</td><td>불변 객체 사용, ThreadLocal 팩토리 활용</td><td></td></tr><tr><td></td><td>분산 시스템 대응</td><td>팩토리 인스턴스를 서비스 별로 분산해야 하는 요구 발생</td><td>서비스 레지스트리와 연계한 팩토리 분산 설계</td><td></td></tr><tr><td><strong>유지보수 및 모니터링</strong></td><td>사용 패턴 추적 및 성능 테스트</td><td>팩토리 변경이 전체 시스템 성능에 영향을 줄 수 있으므로 사전 검증과 추적 필요</td><td>팩토리 단위 성능 로깅, 사용 메트릭 수집</td><td></td></tr><tr><td></td><td>클래스 증가 관리</td><td>제품/팩토리 수에 따라 클래스 수 급증 → 관리 부담</td><td>구조적 패키징, 코드 생성기 사용, 문서화</td><td></td></tr><tr><td></td><td>디버깅 및 테스트 용이성</td><td>테스트용 객체 생성이 어려울 수 있음</td><td>Mock 팩토리 또는 테스트 전용 팩토리 도입</td><td></td></tr></tbody></table><ul><li><strong>설계 단계</strong>에서는 <strong>인터페이스 최소화</strong>, <strong>공통 로직 추출</strong>, <strong>템플릿/제네릭</strong> 활용으로 코드 확장성과 단순성 확보.</li><li><strong>성능 최적화</strong>는 <strong>지연 로딩</strong>, <strong>객체 풀링</strong>, <strong>캐싱</strong>을 기반으로, 런타임 리소스를 절약.</li><li><strong>확장성과 병렬성</strong>을 위해 <strong>스레드 안전성</strong>과 <strong>동적 설정/로딩</strong> 전략을 고려.</li><li><strong>운영/테스트</strong> 단계에서는 <strong>팩토리 모니터링</strong>, <strong>성능 분석</strong>, <strong>Mock 구조 설계</strong>가 필수.</li></ul><h3 id=주제와-관련하여-주목할-내용>주제와 관련하여 주목할 내용<a hidden class=anchor aria-hidden=true href=#주제와-관련하여-주목할-내용>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>주제</strong></th><th><strong>항목</strong></th><th><strong>설명</strong></th></tr></thead><tbody><tr><td><strong>설계 원칙 및 아키텍처</strong></td><td>객체 생성 원칙</td><td>생성 로직 캡슐화</td><td>객체 생성 책임 분리로 유연성과 재사용성 향상</td></tr><tr><td></td><td>DIP / OCP 적용</td><td>느슨한 결합 / 확장성</td><td>의존성 역전 및 확장 가능한 구조 설계 가능</td></tr><tr><td></td><td>SRP 적용</td><td>단일 책임 부여</td><td>팩토리는 제품 생성에만 집중</td></tr><tr><td></td><td>플랫폼 독립성</td><td>인터페이스 기반 설계</td><td>플랫폼에 의존하지 않는 구조 실현 가능</td></tr><tr><td></td><td>레이어드 아키텍처</td><td>계층 기반 배치</td><td>팩토리를 계층별로 구성해 역할 분리</td></tr><tr><td></td><td>디자인 일관성</td><td>UI 구성요소 일관성 유지</td><td>Theme 기반 UI 구성 시 효과적</td></tr><tr><td><strong>구현 전략</strong></td><td>인터페이스 기반</td><td>추상 팩토리</td><td>제품군 생성 인터페이스 제공</td></tr><tr><td></td><td>클래스 기반</td><td>구체 팩토리</td><td>실제 객체 생성 로직 구현</td></tr><tr><td></td><td>팩토리 셀렉터</td><td>런타임 팩토리 결정</td><td>조건 (운영체제, 지역 등) 에 따라 동적 선택</td></tr><tr><td></td><td>DI 통합</td><td>DI/IoC 자동 주입</td><td>프레임워크가 팩토리를 주입하여 관리</td></tr><tr><td></td><td>제네릭 팩토리</td><td>타입 안전성 보장</td><td>컴파일 타임 타입 체크 가능 (Java, C# 등)</td></tr><tr><td></td><td>리플렉션 활용</td><td>런타임 동적 생성</td><td>팩토리를 리플렉션 기반으로 동적 구성</td></tr><tr><td><strong>성능 최적화</strong></td><td>Lazy Initialization</td><td>지연 초기화</td><td>객체가 실제 필요할 때 생성</td></tr><tr><td></td><td>Object Pooling</td><td>객체 재사용</td><td>비용이 큰 객체 재활용으로 메모리 절약</td></tr><tr><td></td><td>Thread-safe Factory</td><td>스레드 안전성</td><td>멀티스레드 환경에서 안전한 객체 생성 보장</td></tr><tr><td></td><td>Async Factory</td><td>비동기 팩토리 구현</td><td><code>async/await</code>, <code>Future</code> 기반 처리</td></tr><tr><td></td><td>JIT 최적화 설계</td><td>인라인화 고려</td><td>JIT 최적화를 고려한 팩토리 구성</td></tr><tr><td><strong>테스트 전략</strong></td><td>Mock Factory</td><td>테스트용 객체 생성</td><td>테스트 대상 대체용 객체 구성</td></tr><tr><td></td><td>Test Doubles</td><td>Stub / Spy 등</td><td>다양한 유형의 테스트 더블 지원</td></tr><tr><td></td><td>통합 테스트 전략</td><td>실환경 시뮬레이션 테스트</td><td>실제 제품군/팩토리 기반 테스트 수행</td></tr><tr><td><strong>현대적 응용</strong></td><td>마이크로서비스</td><td>Service Factory</td><td>서비스 단위 객체를 생성하는 팩토리</td></tr><tr><td></td><td>클라우드 환경</td><td>Provider Factory / Dynamic Loading</td><td>클라우드 제공업체별 객체 생성 및 런타임 팩토리 로딩</td></tr><tr><td></td><td>UI/UX</td><td>Theme Factory</td><td>테마 기반 UI 요소 일관 생성</td></tr><tr><td></td><td>디자인 시스템</td><td>컴포넌트 일관성 유지</td><td>UI 구성요소 표준화 및 확장성 확보</td></tr><tr><td></td><td>보안</td><td>Secure Factory</td><td>권한 기반 객체 생성 제어</td></tr><tr><td></td><td>프레임워크 통합</td><td>Spring,.NET 등</td><td>DI 컨테이너와 팩토리 자동 연계</td></tr><tr><td><strong>프로그래밍 패러다임</strong></td><td>함수형 프로그래밍</td><td>고차 함수 기반 팩토리</td><td>클로저와 커링을 활용한 팩토리 생성</td></tr><tr><td></td><td>리액티브 프로그래밍</td><td>스트림 기반 팩토리</td><td>RxJava, Reactor 기반으로 구성</td></tr><tr><td></td><td>불변성</td><td>Immutable 객체 팩토리</td><td>불변 객체 생성을 위한 빌더 조합</td></tr><tr><td><strong>적용 사례</strong></td><td>GUI 컴포넌트</td><td>운영체제별 UI 구성</td><td>OS 별 GUI 를 각각 생성</td></tr><tr><td></td><td>DB 연결</td><td>DB 별 커넥션 객체 생성</td><td>DB 종류에 따라 팩토리 분리 설계</td></tr><tr><td></td><td>테스트 / 모킹</td><td>Mock / Stub 팩토리</td><td>테스트 편의성을 위한 구조</td></tr><tr><td></td><td>제품군 간 호환성 제어</td><td>제한된 조합만 허용</td><td>동일 제품군끼리만 상호작용 가능하게 설계</td></tr></tbody></table><h3 id=반드시-학습해야할-내용>반드시 학습해야할 내용<a hidden class=anchor aria-hidden=true href=#반드시-학습해야할-내용>#</a></h3><h4 id=핵심-개념-및-구조>핵심 개념 및 구조<a hidden class=anchor aria-hidden=true href=#핵심-개념-및-구조>#</a></h4><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>기본 개념</td><td>Abstract Factory</td><td>객체군 생성 인터페이스</td><td>관련 제품군을 생성하기 위한 추상 인터페이스</td></tr><tr><td></td><td>Concrete Factory</td><td>구체 팩토리 구현</td><td>특정 제품군을 실제로 생성하는 클래스</td></tr><tr><td></td><td>Product Family</td><td>제품군 개념</td><td>함께 사용되는 객체들의 논리적 집합</td></tr><tr><td></td><td>Client</td><td>클라이언트 역할</td><td>추상 인터페이스를 통해 객체를 생성하고 사용하는 코드</td></tr><tr><td></td><td>Factory Method</td><td>단일 제품군 생성</td><td>Abstract Factory 의 하위/보완 패턴</td></tr><tr><td></td><td>Builder</td><td>복합 객체 생성 패턴</td><td>생성 과정 단계 분리, Abstract Factory 와 조합 가능</td></tr><tr><td></td><td>Singleton</td><td>인스턴스 제어</td><td>팩토리 인스턴스의 유일성 보장</td></tr><tr><td></td><td>Factory Registry</td><td>팩토리 관리 체계</td><td>다양한 팩토리를 중앙화하여 등록/선택 가능</td></tr></tbody></table><h4 id=객체지향-및-설계-원칙>객체지향 및 설계 원칙<a hidden class=anchor aria-hidden=true href=#객체지향-및-설계-원칙>#</a></h4><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>객체지향 설계</td><td>SOLID 원칙</td><td>DIP, OCP 등</td><td>추상화, 확장성, 변경 최소화 등 핵심 설계 원칙</td></tr><tr><td></td><td>의존성 역전 / 의존성 주입</td><td>DI, IoC</td><td>추상화 중심 의존성 관리 방식</td></tr><tr><td></td><td>인터페이스 설계</td><td>인터페이스 분리, 일관성</td><td>변경 최소화, 확장 용이성 확보</td></tr><tr><td></td><td>느슨한 결합 & 높은 응집도</td><td>결합도/응집도 관리</td><td>클래스 간 의존성을 낮추고 내부 일관성을 높임</td></tr><tr><td></td><td>리플렉션</td><td>동적 객체 생성</td><td>런타임 팩토리 생성/바인딩 전략에 활용 가능</td></tr></tbody></table><h4 id=구현-전략-및-최적화>구현 전략 및 최적화<a hidden class=anchor aria-hidden=true href=#구현-전략-및-최적화>#</a></h4><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>객체 수명/리소스</td><td>Lazy Initialization</td><td>지연 초기화</td><td>필요한 시점에 객체를 생성하여 메모리 효율화</td></tr><tr><td></td><td>Object Pooling</td><td>객체 재사용</td><td>비용 높은 객체에 대해 풀링 전략 적용</td></tr><tr><td>동시성 환경</td><td>Thread-Safe Factory</td><td>스레드 안전성 보장</td><td>멀티스레드 환경에서 안전한 객체 생성</td></tr><tr><td>비동기 처리</td><td>Async Factory</td><td>비동기 생성 처리</td><td><code>async/await</code>, <code>CompletableFuture</code> 등</td></tr><tr><td>성능 최적화</td><td>GC 최적화</td><td>가비지 컬렉션 이해</td><td>객체 수명 주기와 메모리 회수 전략 연계</td></tr></tbody></table><h4 id=테스트-및-품질-전략>테스트 및 품질 전략<a hidden class=anchor aria-hidden=true href=#테스트-및-품질-전략>#</a></h4><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>테스트 전략</td><td>Mock Factory</td><td>테스트용 팩토리 구성</td><td>실제 객체 대신 사용할 가짜 객체 생성</td></tr><tr><td></td><td>Test Doubles</td><td>Stub, Spy, Fake 등</td><td>다양한 테스트 더블 유형 적용</td></tr><tr><td></td><td>TDD 적용 전략</td><td>테스트 우선 개발 방식</td><td>팩토리 기반 객체 생성을 테스트 주도 방식으로 설계</td></tr><tr><td></td><td>통합 테스트</td><td>실제 의존성 기반 테스트</td><td>팩토리 패턴을 통해 구성된 전체 시스템 테스트</td></tr></tbody></table><h4 id=패턴-조합-및-아키텍처-연계>패턴 조합 및 아키텍처 연계<a hidden class=anchor aria-hidden=true href=#패턴-조합-및-아키텍처-연계>#</a></h4><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>패턴 연계</td><td>Strategy Pattern</td><td>런타임 팩토리 선택 전략</td><td>클라이언트에서 전략적으로 팩토리 선택</td></tr><tr><td></td><td>Composite Pattern</td><td>제품 계층 구조 구현</td><td>제품군이 트리 구조일 때 조합 사용</td></tr><tr><td></td><td>Prototype Pattern</td><td>객체 복제 기반 생성</td><td>기존 객체 복사를 통한 새로운 제품 생성</td></tr><tr><td>아키텍처 설계</td><td>Layered Architecture</td><td>계층화된 설계 구조 적용</td><td>추상 팩토리를 각 계층에 배치 가능</td></tr><tr><td></td><td>Plugin Architecture</td><td>기능 확장 유연성 확보</td><td>팩토리를 플러그인 형태로 등록/교체 가능</td></tr><tr><td>프레임워크 통합</td><td>Spring, Guice,.NET Core</td><td>DI 기반 객체 생성 관리</td><td>프레임워크 DI 컨테이너와 팩토리 통합</td></tr><tr><td>플랫폼 전략</td><td>Cross-platform</td><td>클라이언트 코드 불변성</td><td>인터페이스 기반 구현으로 플랫폼 독립성 확보</td></tr></tbody></table><h4 id=학습-및-실무-고려사항>학습 및 실무 고려사항<a hidden class=anchor aria-hidden=true href=#학습-및-실무-고려사항>#</a></h4><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>설계 원칙</td><td>확장성</td><td>제품군 확장 방식</td><td>새로운 객체군을 쉽게 추가 가능해야 함</td></tr><tr><td></td><td>유지보수성</td><td>변경 최소화 전략</td><td>클라이언트 수정 없이 내부 확장 가능</td></tr><tr><td>실무 비용 분석</td><td>초기 구현 비용</td><td>도입 전 분석 요소</td><td>클래스 수 증가, 설계 복잡도 고려</td></tr><tr><td>코드 복잡성 관리</td><td>모듈화</td><td>구성요소 수 관리</td><td>클래스/팩토리 수 증가를 분리/캡슐화로 관리</td></tr><tr><td>도구 활용</td><td>코드 생성기, 플러그인</td><td>자동 팩토리 생성 등</td><td>코드 템플릿/도구 활용으로 생산성 향상</td></tr></tbody></table><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td><strong>패턴 구성요소</strong></td><td><strong>Abstract Factory</strong></td><td>관련 제품군을 생성하기 위한 추상 인터페이스 또는 클래스</td></tr><tr><td></td><td><strong>Concrete Factory</strong></td><td>특정 제품군 생성을 실제로 구현한 클래스</td></tr><tr><td></td><td><strong>Abstract Product</strong></td><td>제품군 내 객체들의 공통 인터페이스</td></tr><tr><td></td><td><strong>Concrete Product</strong></td><td>실제로 생성되는 구체 객체, Abstract Product 구현체</td></tr><tr><td></td><td><strong>Client</strong></td><td>추상 인터페이스를 통해 제품을 생성하고 사용하는 비즈니스 로직 주체</td></tr><tr><td></td><td><strong>Product Family</strong></td><td>함께 사용되도록 설계된 관련 객체들의 집합 (예: MacButton, MacCheckbox)</td></tr><tr><td></td><td><strong>FactoryProducer / FactoryProvider</strong></td><td>조건에 따라 팩토리를 선택하거나 제공하는 클래스 또는 유틸</td></tr><tr><td></td><td><strong>Factory Method</strong></td><td>객체 생성을 캡슐화한 메서드, Abstract Factory 와 함께 사용 가능</td></tr><tr><td></td><td><strong>Builder</strong></td><td>복잡한 객체 생성을 위한 패턴, Abstract Factory 와 병행 사용 가능</td></tr><tr><td></td><td><strong>Singleton</strong></td><td>팩토리 인스턴스의 유일성 보장을 위한 보조 패턴</td></tr><tr><td><strong>설계 원칙</strong></td><td><strong>DIP (Dependency Inversion Principle)</strong></td><td>고수준 모듈이 저수준 모듈에 의존하지 않고 추상화에 의존해야 한다는 원칙</td></tr><tr><td></td><td><strong>OCP (Open/Closed Principle)</strong></td><td>소프트웨어 요소는 확장에는 열려 있고 변경에는 닫혀 있어야 함</td></tr><tr><td></td><td><strong>Loose Coupling (느슨한 결합)</strong></td><td>클래스 간 의존성을 줄이는 설계 방식</td></tr><tr><td></td><td><strong>High Cohesion (높은 응집도)</strong></td><td>모듈이나 클래스 내 구성 요소들이 밀접하게 관련된 상태</td></tr><tr><td></td><td><strong>Runtime Binding</strong></td><td>실행 시점에 실제 사용할 구체 팩토리나 제품을 결정하는 방식</td></tr><tr><td></td><td><strong>Cross-Platform</strong></td><td>다양한 플랫폼에서 공통 코드로 작동하는 소프트웨어 특성</td></tr><tr><td><strong>구현 및 기술 전략</strong></td><td><strong>DI (Dependency Injection)</strong></td><td>외부에서 의존 객체를 주입받는 방식, 테스트 용이성 향상</td></tr><tr><td></td><td><strong>Mock Object</strong></td><td>테스트 시 실제 객체를 대신하는 시뮬레이션 객체</td></tr><tr><td></td><td><strong>Factory Registry</strong></td><td>다양한 팩토리를 등록하고 관리하는 중앙 시스템</td></tr><tr><td></td><td><strong>Lazy Initialization</strong></td><td>객체가 필요할 때까지 생성을 지연하는 기법</td></tr><tr><td></td><td><strong>Service Locator</strong></td><td>런타임에 필요한 서비스를 찾아서 제공하는 구조</td></tr><tr><td></td><td><strong>SPI (Service Provider Interface)</strong></td><td>외부 모듈을 통해 팩토리 구현체를 교체할 수 있도록 하는 아키텍처 방식</td></tr><tr><td></td><td><strong>Prototype</strong></td><td>객체를 복제하여 새로운 인스턴스를 생성하는 패턴</td></tr><tr><td><strong>일반 개념/기초 용어</strong></td><td><strong>Concrete Class</strong></td><td>추상 클래스나 인터페이스를 실제로 구현한 클래스</td></tr><tr><td></td><td><strong>Polymorphism (다형성)</strong></td><td>동일한 인터페이스로 다양한 구현체를 사용할 수 있는 객체지향 특징</td></tr><tr><td></td><td><strong>GoF (Gang of Four)</strong></td><td>디자인 패턴 서적을 집필한 4 인의 저자 (Erich Gamma 외)</td></tr><tr><td></td><td><strong>Creational Pattern (생성 패턴)</strong></td><td>객체 생성과 관련된 디자인 패턴의 분류군 (Abstract Factory, Builder 등 포함)</td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><ul><li><a href=https://refactoring.guru/design-patterns/abstract-factory>Refactoring Guru – Abstract Factory Pattern</a></li><li><a href=https://www.geeksforgeeks.org/system-design/abstract-factory-design-pattern-in-java/>GeeksforGeeks – Abstract Factory Pattern in Java</a></li><li><a href=https://www.baeldung.com/java-factory-pattern>Baeldung – Java Factory & Abstract Factory Patterns</a></li><li><a href=https://docs.spring.io/spring-framework/reference/core/beans/introduction.html>Spring Framework – BeanFactory & IoC Container</a></li><li><a href=https://learn.microsoft.com/en-us/dotnet/core/extensions/dependency-injection>Microsoft – Dependency Injection in .NET</a></li><li><a href=https://en.wikipedia.org/wiki/Abstract_factory_pattern>Wikipedia – Abstract Factory Pattern</a></li></ul><hr></div></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>