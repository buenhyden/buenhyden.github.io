<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Decorator Pattern | hyunyoun's Blog</title><meta name=keywords content="Software-Engineering,Design-and-Architecture,Software-Design-Patterns,GoF,Structural,Decorator-Pattern"><meta name=description content="Decorator Pattern 은 기존 객체에 동적으로 추가 기능을 부여하기 위해 사용되는 GoF 구조 패턴이다. 컴포넌트 인터페이스를 유지하면서 기능을 래핑하는 Decorator 클래스들을 체인 형태로 조합해, 상속 대신 조합을 통해 유연한 확장이 가능하게 한다. 주로 입력/출력 스트림, UI 요소, 로깅, 트랜잭션 처리 등에서 활용된다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/classic-design-patterns/gof/structural/decorator-pattern/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/classic-design-patterns/gof/structural/decorator-pattern/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/classic-design-patterns/gof/structural/decorator-pattern/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/classic-design-patterns/gof/structural/decorator-pattern/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Decorator Pattern"><meta property="og:description" content="Decorator Pattern 은 기존 객체에 동적으로 추가 기능을 부여하기 위해 사용되는 GoF 구조 패턴이다. 컴포넌트 인터페이스를 유지하면서 기능을 래핑하는 Decorator 클래스들을 체인 형태로 조합해, 상속 대신 조합을 통해 유연한 확장이 가능하게 한다. 주로 입력/출력 스트림, UI 요소, 로깅, 트랜잭션 처리 등에서 활용된다."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Decorator Pattern"><meta name=twitter:description content="Decorator Pattern 은 기존 객체에 동적으로 추가 기능을 부여하기 위해 사용되는 GoF 구조 패턴이다. 컴포넌트 인터페이스를 유지하면서 기능을 래핑하는 Decorator 클래스들을 체인 형태로 조합해, 상속 대신 조합을 통해 유연한 확장이 가능하게 한다. 주로 입력/출력 스트림, UI 요소, 로깅, 트랜잭션 처리 등에서 활용된다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"기록하고 기억하고 활용하자.","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Software Engineering","item":"https://buenhyden.github.io/posts/software-engineering/"},{"@type":"ListItem","position":3,"name":"Design and Architecture","item":""},{"@type":"ListItem","position":4,"name":"Software Design Patterns","item":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/"},{"@type":"ListItem","position":5,"name":"Classic Design Patterns","item":""},{"@type":"ListItem","position":6,"name":"GoF","item":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/classic-design-patterns/gof/"},{"@type":"ListItem","position":7,"name":"Structural","item":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/classic-design-patterns/gof/structural/"},{"@type":"ListItem","position":8,"name":"Decorator Pattern","item":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/classic-design-patterns/gof/structural/decorator-pattern/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>기록하고 기억하고 활용하자.</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-engineering/>Software Engineering</a>&nbsp;»&nbsp;<a href>Design and Architecture</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/>Software Design Patterns</a>&nbsp;»&nbsp;<a href>Classic Design Patterns</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/classic-design-patterns/gof/>GoF</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/software-design-patterns/classic-design-patterns/gof/structural/>Structural</a></div><h1>Decorator Pattern</h1><div class=post-description>Decorator Pattern 은 기존 객체에 동적으로 추가 기능을 부여하기 위해 사용되는 GoF 구조 패턴이다. 컴포넌트 인터페이스를 유지하면서 기능을 래핑하는 Decorator 클래스들을 체인 형태로 조합해, 상속 대신 조합을 통해 유연한 확장이 가능하게 한다. 주로 입력/출력 스트림, UI 요소, 로깅, 트랜잭션 처리 등에서 활용된다.</div></header><div class=post-content><h2 id=decorator-pattern>Decorator Pattern<a hidden class=anchor aria-hidden=true href=#decorator-pattern>#</a></h2><p>Decorator Pattern 은 객체에 새로운 책임을 동적으로 추가할 수 있도록 설계된 구조 패턴이다. Component 인터페이스를 구현한 ConcreteComponent 를 래핑하는 Decorator 는 <code>Component</code> 인터페이스를 동일하게 구현하며, 내부에 참조할 Component 를 갖는다. 이를 통해 런타임에 서로 다른 Decorator 들을 조합하여 기능을 확장하거나 수정할 수 있다. 상속을 최소화하고, Open–Closed 원칙을 준수하는 유연한 확장 구조가 특징이다. 입출력 스트림 (I/O), UI 스타일링, 로깅, 인증, 트랜잭션 등 다양한 실무에 적용되며, 단방향 책임 분리 및 동적 기능 조합이 핵심 장점이다.</p><h3 id=배경>배경<a hidden class=anchor aria-hidden=true href=#배경>#</a></h3><p>데코레이터 패턴은 다음과 같은 문제를 해결하기 위해 개발되었다:</p><p><strong>전통적인 상속의 문제점:</strong></p><ul><li>클래스 폭발 (Class Explosion): 기능 조합마다 새로운 클래스 필요</li><li>컴파일 타임 결정: 런타임에 기능 변경 불가</li><li>단일 상속 제약: 여러 기능을 동시에 상속받기 어려움</li></ul><p><strong>해결 배경:</strong></p><ul><li>1994 년 GoF 의 &ldquo;Design Patterns&rdquo; 책에서 정식화</li><li>Smalltalk 의 래퍼 개념에서 영감</li><li>함수형 프로그래밍의 고차 함수 개념과 유사</li></ul><h3 id=목적-및-필요성>목적 및 필요성<a hidden class=anchor aria-hidden=true href=#목적-및-필요성>#</a></h3><h4 id=주요-목적>주요 목적<a hidden class=anchor aria-hidden=true href=#주요-목적>#</a></h4><ol><li><strong>동적 기능 추가</strong>: 런타임에 객체의 기능을 동적으로 확장</li><li><strong>유연한 조합</strong>: 여러 기능을 자유롭게 조합</li><li><strong>코드 재사용성</strong>: 기존 코드 수정 없이 기능 확장</li><li><strong>단일 책임 원칙</strong>: 각 데코레이터가 하나의 책임만 담당</li></ol><h4 id=필요성>필요성<a hidden class=anchor aria-hidden=true href=#필요성>#</a></h4><ul><li><strong>확장성</strong>: 새로운 기능 추가 시 기존 코드 변경 최소화</li><li><strong>유지보수성</strong>: 기능별로 분리된 코드로 관리 용이</li><li><strong>테스트 용이성</strong>: 각 기능을 독립적으로 테스트 가능</li></ul><h3 id=핵심-개념>핵심 개념<a hidden class=anchor aria-hidden=true href=#핵심-개념>#</a></h3><p>Decorator Pattern 은 기존 객체의 구조를 변경하지 않고 기능을 동적으로 추가하거나 확장하는 구조 (Structural) 디자인 패턴이다. <strong>조합 (Composition)</strong> 을 기반으로 하여 <strong>상속의 한계를 보완</strong>한다.</p><h4 id=기본-개념>기본 개념<a hidden class=anchor aria-hidden=true href=#기본-개념>#</a></h4><ul><li><strong>동적 행위 확장</strong>: 런타임에 객체의 행동을 동적으로 수정</li><li><strong>래퍼 (Wrapper)</strong>: 기존 객체를 감싸는 객체로 패턴의 핵심</li><li><strong>컴포지션 기반</strong>: 상속 대신 컴포지션을 활용한 유연한 설계</li><li><strong>인터페이스 투명성</strong>: 데코레이터와 원본 객체가 동일한 인터페이스 유지</li></ul><h4 id=심화-개념>심화 개념<a hidden class=anchor aria-hidden=true href=#심화-개념>#</a></h4><ul><li><strong>재귀적 컴포지션</strong>: 데코레이터를 중첩하여 여러 기능 조합</li><li><strong>개방 - 폐쇄 원칙</strong>: 확장에는 열려있고 수정에는 닫힌 설계</li><li><strong>단일 책임 원칙</strong>: 각 데코레이터가 하나의 특정 기능만 담당</li></ul><h4 id=실무-구현을-위한-필수-개념들>실무 구현을 위한 필수 개념들<a hidden class=anchor aria-hidden=true href=#실무-구현을-위한-필수-개념들>#</a></h4><ol><li><p><strong>컴포넌트 인터페이스 (Component Interface)</strong></p><ul><li>기본 기능을 정의하는 공통 인터페이스</li><li>모든 구체적 컴포넌트와 데코레이터가 구현해야 함</li><li>클라이언트가 일관된 방식으로 객체를 사용할 수 있게 함</li></ul></li><li><p><strong>구체적 컴포넌트 (Concrete Component)</strong></p><ul><li>기본 기능을 구현하는 원본 객체</li><li>데코레이터로 감쌀 수 있는 핵심 객체</li></ul></li><li><p><strong>기본 데코레이터 (Base Decorator)</strong></p><ul><li>컴포넌트 인터페이스를 구현하면서 다른 컴포넌트를 래핑</li><li>기본적으로는 래핑된 객체에 작업을 위임</li></ul></li><li><p><strong>구체적 데코레이터 (Concrete Decorator)</strong></p><ul><li>실제 추가 기능을 구현하는 클래스</li><li>기본 데코레이터를 상속받아 특정 기능을 추가</li></ul></li></ol><h4 id=의도-intent>의도 (Intent)<a hidden class=anchor aria-hidden=true href=#의도-intent>#</a></h4><p>객체에 동적으로 새로운 책임을 추가할 수 있게 하며, 기능 확장에 있어 서브클래싱보다 융통성 있는 방법을 제공한다.</p><h4 id=다른-이름-also-known-as>다른 이름 (Also Known As)<a hidden class=anchor aria-hidden=true href=#다른-이름-also-known-as>#</a></h4><ul><li>Wrapper Pattern</li><li>Shell Pattern</li></ul><h4 id=동기-motivation--forces>동기 (Motivation / Forces)<a hidden class=anchor aria-hidden=true href=#동기-motivation--forces>#</a></h4><ul><li>상속을 통한 기능 확장의 경직성 극복</li><li>런타임에 객체의 책임을 동적으로 추가/제거 필요</li><li>다양한 기능 조합의 효율적 구현</li></ul><h4 id=적용-가능성-applicability>적용 가능성 (Applicability)<a hidden class=anchor aria-hidden=true href=#적용-가능성-applicability>#</a></h4><ul><li>다른 객체에 영향을 주지 않고 개별 객체에 책임을 추가해야 할 때</li><li>철회 가능한 책임이 필요할 때</li><li>서브클래싱이 비실용적일 때</li></ul><h4 id=패턴이-해결하고자-하는-설계-문제>패턴이 해결하고자 하는 설계 문제<a hidden class=anchor aria-hidden=true href=#패턴이-해결하고자-하는-설계-문제>#</a></h4><table><thead><tr><th><strong>문제 유형</strong></th><th><strong>문제 상황</strong></th><th><strong>주요 원인</strong></th><th><strong>영향 및 한계점</strong></th></tr></thead><tbody><tr><td><strong>클래스 폭발 문제</strong></td><td>기능 조합마다 새로운 클래스를 생성해야 함예: 텍스트에 볼드/이탤릭/밑줄 조합 시 2³ = 8 클래스 필요</td><td>기능을 조합하는 방식이 <strong>상속 기반의 정적 조합</strong>에 의존</td><td>클래스 수가 <strong>지수적으로 증가</strong>, 설계 복잡도 및 유지보수 부담 증가</td></tr><tr><td><strong>상속의 한계</strong></td><td>상속 구조에서는 <strong>동적 기능 조합이 불가능</strong>, 런타임 변경 불가</td><td>정적 상속 모델의 제약다중 상속의 복잡성</td><td>유연성 부족, 기능 확장 시 코드 변경 불가, <strong>OCP(Open-Closed) 위배</strong></td></tr><tr><td><strong>기능별 관심사 분리</strong></td><td>하나의 클래스가 여러 기능 (책임) 을 동시에 가짐예: 렌더링 + 로깅 + 검증 로직이 한 클래스에 포함됨</td><td><strong>SRP(Single Responsibility Principle)</strong> 위반</td><td>기능 단위 테스트 어려움, 코드 중복 증가, <strong>재사용성과 유지보수성 저하</strong></td></tr></tbody></table><h4 id=문제를-해결하기-위한-설계-구조와-관계>문제를 해결하기 위한 설계 구조와 관계<a hidden class=anchor aria-hidden=true href=#문제를-해결하기-위한-설계-구조와-관계>#</a></h4><h5 id=설계-구조>설계 구조<a hidden class=anchor aria-hidden=true href=#설계-구조>#</a></h5><pre class=mermaid>graph LR
    subgraph &#34;Traditional Inheritance Problem&#34;
        A[Text] --&gt; B[BoldText]
        A --&gt; C[ItalicText] 
        A --&gt; D[UnderlineText]
        A --&gt; E[BoldItalicText]
        A --&gt; F[BoldUnderlineText]
        A --&gt; G[ItalicUnderlineText]
        A --&gt; H[BoldItalicUnderlineText]
    end
    
    subgraph &#34;Decorator Pattern Solution&#34;
        I[Text] --&gt; J[TextDecorator]
        J --&gt; K[BoldDecorator]
        J --&gt; L[ItalicDecorator]
        J --&gt; M[UnderlineDecorator]
        
        N[text] --&gt; O[BoldDecorator]
        O --&gt; P[ItalicDecorator]
        P --&gt; Q[UnderlineDecorator]
    end
</pre><h5 id=해결-방식>해결 방식<a hidden class=anchor aria-hidden=true href=#해결-방식>#</a></h5><ol><li><strong>컴포지션 활용</strong>: 상속 대신 객체 래핑으로 기능 조합</li><li><strong>동적 구성</strong>: 런타임에 필요한 기능만 선택적 적용</li><li><strong>재귀적 구조</strong>: 데코레이터가 다른 데코레이터를 래핑 가능</li></ol><h3 id=주요-기능-및-역할>주요 기능 및 역할<a hidden class=anchor aria-hidden=true href=#주요-기능-및-역할>#</a></h3><h4 id=핵심-기능>핵심 기능<a hidden class=anchor aria-hidden=true href=#핵심-기능>#</a></h4><ol><li><strong>투명한 래핑</strong>: 클라이언트는 원본과 데코레이터를 구분하지 않음</li><li><strong>연쇄적 래핑</strong>: 여러 데코레이터를 중첩하여 사용 가능</li><li><strong>선택적 기능</strong>: 필요한 기능만 조합하여 사용</li><li><strong>런타임 구성</strong>: 실행 시점에 객체 구성 결정</li></ol><h4 id=주요-역할>주요 역할<a hidden class=anchor aria-hidden=true href=#주요-역할>#</a></h4><ul><li><strong>기능 확장자</strong>: 기존 객체에 새로운 기능 추가</li><li><strong>조합 관리자</strong>: 여러 기능의 조합을 관리</li><li><strong>인터페이스 통합자</strong>: 복잡한 기능도 단순한 인터페이스로 제공</li></ul><h3 id=특징>특징<a hidden class=anchor aria-hidden=true href=#특징>#</a></h3><ul><li><strong>구조적 패턴</strong>: 객체 간의 관계를 정의하는 구조적 설계 패턴</li><li><strong>컴포지션 활용</strong>: 상속 대신 객체 합성을 통한 기능 확장</li><li><strong>런타임 결정</strong>: 컴파일 타임이 아닌 런타임에 기능 결정</li><li><strong>무제한 중첩</strong>: 이론적으로 무제한 데코레이터 중첩 가능</li></ul><h3 id=핵심-원칙>핵심 원칙<a hidden class=anchor aria-hidden=true href=#핵심-원칙>#</a></h3><ol><li><strong>개방 - 폐쇄 원칙 (Open-Closed Principle)</strong>: 확장에는 열려있고 수정에는 닫힘</li><li><strong>단일 책임 원칙 (Single Responsibility Principle)</strong>: 각 데코레이터가 하나의 책임만 담당</li><li><strong>컴포지션 우선 원칙</strong>: 상속보다 컴포지션 활용</li><li><strong>인터페이스 분리 원칙</strong>: 클라이언트가 사용하지 않는 인터페이스에 의존하지 않음</li></ol><h3 id=주요-원리-및-작동-원리>주요 원리 및 작동 원리<a hidden class=anchor aria-hidden=true href=#주요-원리-및-작동-원리>#</a></h3><ol><li>Client 는 Component 인터페이스로 객체를 사용</li><li>Decorator 는 Component 를 감싸고, 기능 호출을 내부 Component 에 위임</li><li>ConcreteDecorator 는 위임 전후로 추가 기능을 수행</li><li>여러 Decorator 를 중첩해 다양한 기능 조합 가능</li></ol><h4 id=작동-원리>작동 원리<a hidden class=anchor aria-hidden=true href=#작동-원리>#</a></h4><pre class=mermaid>sequenceDiagram
    participant Client
    participant ConcreteDecoratorB
    participant ConcreteDecoratorA
    participant ConcreteComponent
    
    Client-&gt;&gt;ConcreteDecoratorB: operation()
    ConcreteDecoratorB-&gt;&gt;ConcreteDecoratorB: addedBehavior()
    ConcreteDecoratorB-&gt;&gt;ConcreteDecoratorA: operation()
    ConcreteDecoratorA-&gt;&gt;ConcreteDecoratorA: addedBehavior()
    ConcreteDecoratorA-&gt;&gt;ConcreteComponent: operation()
    ConcreteComponent-&gt;&gt;ConcreteDecoratorA: result
    ConcreteDecoratorA-&gt;&gt;ConcreteDecoratorB: enhanced result
    ConcreteDecoratorB-&gt;&gt;Client: final result
</pre><p>데코레이터 패턴의 작동 원리는 <strong>연쇄적 위임 (Chain of Delegation)</strong> 이다. 각 데코레이터는 자신의 기능을 수행한 후 다음 컴포넌트에게 작업을 위임하거나, 반대로 위임받은 결과를 가공하여 반환한다.</p><h4 id=패턴-적용의-결과와-트레이드오프>패턴 적용의 결과와 트레이드오프<a hidden class=anchor aria-hidden=true href=#패턴-적용의-결과와-트레이드오프>#</a></h4><h5 id=긍정적-결과>긍정적 결과<a hidden class=anchor aria-hidden=true href=#긍정적-결과>#</a></h5><ul><li><strong>유연성 증대</strong>: 런타임 기능 조합 및 변경 가능</li><li><strong>코드 재사용성</strong>: 개별 데코레이터의 독립적 재사용</li><li><strong>확장성</strong>: 새로운 기능 추가 시 기존 코드 수정 불필요</li><li><strong>테스트 용이성</strong>: 각 기능을 독립적으로 테스트 가능</li></ul><h5 id=트레이드오프>트레이드오프<a hidden class=anchor aria-hidden=true href=#트레이드오프>#</a></h5><ul><li><strong>성능 비용</strong>: 메서드 호출 체인으로 인한 오버헤드</li><li><strong>복잡성 증가</strong>: 객체 구조가 복잡해져 디버깅 어려움</li><li><strong>메모리 사용량</strong>: 래퍼 객체들로 인한 메모리 증가</li><li><strong>순서 의존성</strong>: 데코레이터 적용 순서에 따른 결과 차이</li></ul><h3 id=구조-및-아키텍처>구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#구조-및-아키텍처>#</a></h3><p>Decorator 패턴은 기본 객체를 데코레이터 객체로 감싸는 구조를 통해 기능을 확장한다. 각 데코레이터는 동일한 인터페이스를 구현하여, 클라이언트는 데코레이터와 기본 객체를 동일하게 취급할 수 있다. 이러한 구조는 기능의 조합과 확장을 유연하게 만들어 준다.</p><h4 id=전체-구조>전체 구조<a hidden class=anchor aria-hidden=true href=#전체-구조>#</a></h4><pre class=mermaid>classDiagram
    class Component {
        &lt;&lt;interface&gt;&gt;
        +operation()
    }
    
    class ConcreteComponent {
        +operation()
    }
    
    class BaseDecorator {
        -Component wrappee
        +BaseDecorator(Component c)
        +operation()
    }
    
    class ConcreteDecoratorA {
        +operation()
        +extraBehavior()
    }
    
    class ConcreteDecoratorB {
        -String addedState
        +operation()
        +anotherBehavior()
    }
    
    Component &lt;|-- ConcreteComponent
    Component &lt;|-- BaseDecorator
    BaseDecorator &lt;|-- ConcreteDecoratorA
    BaseDecorator &lt;|-- ConcreteDecoratorB
    BaseDecorator o-- Component : wraps
</pre><h4 id=구성요소>구성요소<a hidden class=anchor aria-hidden=true href=#구성요소>#</a></h4><table><thead><tr><th>구분</th><th><strong>구성요소</strong></th><th><strong>기능</strong></th><th><strong>역할</strong></th><th><strong>특징</strong></th></tr></thead><tbody><tr><td>필수</td><td><strong>Component</strong>(컴포넌트 인터페이스)</td><td>기본 작업을 정의하는 공통 인터페이스</td><td>클라이언트와 구현체 간의 계약 정의</td><td>모든 구체적 컴포넌트와 데코레이터가 구현함</td></tr><tr><td></td><td><strong>ConcreteComponent</strong>(구체적 컴포넌트)</td><td>기본 동작을 구현</td><td>데코레이터로 래핑될 수 있는 원본 객체</td><td>추가 기능 없이 <strong>순수한 기본 기능</strong>만 제공</td></tr><tr><td></td><td><strong>BaseDecorator</strong>(기본 데코레이터)</td><td>Component 인터페이스 구현 + Component 객체 래핑</td><td>모든 구체적 데코레이터의 기본 구조 제공</td><td>래핑된 객체에게 기본 작업을 <strong>위임</strong></td></tr><tr><td></td><td><strong>ConcreteDecorator</strong>(구체적 데코레이터)</td><td>실제 추가 기능 구현</td><td>특정 기능을 기존 객체에 추가</td><td>기존 기능 <strong>확장</strong> 또는 <strong>새로운 상태/행동 추가</strong> 가능</td></tr><tr><td>선택</td><td><strong>DecoratorFactory</strong>(데코레이터 팩토리)</td><td>데코레이터 생성을 관리</td><td>복잡한 데코레이터 조합을 캡슐화</td><td>선택적 사용, <strong>객체 생성 복잡성 감소</strong></td></tr><tr><td></td><td><strong>ConfigurableDecorator</strong>(설정 가능한 데코레이터)</td><td>런타임에 데코레이터의 동작을 설정 가능</td><td>유연한 기능 조정 제공</td><td><strong>매개변수 기반 동작 변경</strong> 가능, 전략 패턴과 병행 가능</td></tr></tbody></table><h4 id=참여자들-간의-상호작용-방식>참여자들 간의 상호작용 방식<a hidden class=anchor aria-hidden=true href=#참여자들-간의-상호작용-방식>#</a></h4><h5 id=호출-흐름>호출 흐름<a hidden class=anchor aria-hidden=true href=#호출-흐름>#</a></h5><pre class=mermaid>sequenceDiagram
    participant C as Client
    participant D1 as DecoratorA
    participant D2 as DecoratorB
    participant CC as ConcreteComponent
    
    C-&gt;&gt;D1: operation()
    Note over D1: Pre-processing
    D1-&gt;&gt;D2: operation()
    Note over D2: Pre-processing
    D2-&gt;&gt;CC: operation()
    CC-&gt;&gt;D2: result
    Note over D2: Post-processing
    D2-&gt;&gt;D1: enhanced result
    Note over D1: Post-processing
    D1-&gt;&gt;C: final result
</pre><h3 id=구현-기법>구현 기법<a hidden class=anchor aria-hidden=true href=#구현-기법>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>구현 방식</strong></th><th><strong>핵심 구성 요소</strong></th><th><strong>주요 목적 / 특징</strong></th><th><strong>예시</strong></th></tr></thead><tbody><tr><td><strong>1. 객체지향 기반</strong></td><td>클래식 구조 기반</td><td>인터페이스, 기본 클래스, 추상 데코레이터, 구체 데코레이터</td><td>타입 안정성, 명확한 구조, 확장 가능한 계층화 구조</td><td>Java I/O Stream, Python Class 기반 데코레이터</td></tr><tr><td></td><td>컴포지션 + 위임 구조</td><td>내부에 Component 참조, operation() 위임</td><td>상속 대신 합성을 통한 유연한 기능 조합</td><td><code>ConcreteDecoratorA(Component)</code></td></tr><tr><td></td><td>중첩 조합 구성</td><td>여러 데코레이터 연속 조합</td><td>다단계 기능 확장 및 체이닝 구현</td><td><code>DecoratorB(DecoratorA(Component))</code></td></tr><tr><td><strong>2. 함수형/고차 함수</strong></td><td>함수형 데코레이터</td><td>고차 함수, 클로저, 데코레이터 함수</td><td>간결한 문법, 동적 적용, 실행 전후 기능 삽입</td><td>Python <code>@decorator</code>, JavaScript wrapper 함수</td></tr><tr><td><strong>3. 메타데이터 기반</strong></td><td>어노테이션/리플렉션 기반</td><td>어노테이션 + 리플렉션, AOP 컨테이너</td><td>선언적 구성, 관심사 분리, 자동 적용</td><td>Java Annotation, Spring AOP, NestJS Decorator</td></tr><tr><td><strong>4. 프록시 기반</strong></td><td>프록시 + 인터셉터 구성</td><td>프록시 객체, 인터셉터, 핸들러 (핵심 기능과 추가 기능 분리)</td><td>호출 흐름 캡처 및 투명한 기능 확장</td><td>Spring Proxy,.NET Castle Proxy</td></tr><tr><td><strong>5. DI 기반 구조</strong></td><td>의존성 주입 + 자동 조합</td><td>IoC 컨테이너, 데코레이터 체인 자동 등록</td><td>생명주기 관리, 동적 구성 및 테스트 유연성</td><td>Scrutor(.NET), Spring Bean PostProcessor</td></tr><tr><td><strong>6. 실행 시점 제어</strong></td><td>런타임 적용 / 지연 평가</td><td>데코레이터 인스턴스를 실행 중 동적으로 구성</td><td>동적 구성 가능, 구성 유연성 극대화</td><td>전략 변경 가능한 런타임 래퍼 구성</td></tr></tbody></table><ul><li><strong>정적 구현</strong>: 컴파일 타임 구조 결정 (클래식 구조, 어노테이션 기반)</li><li><strong>동적 구현</strong>: 런타임 중 조합 및 변경 가능 (함수형, 프록시 기반, DI 기반)</li><li><strong>구조 중심</strong>: 클래식, 컴포지션, 프록시 기반</li><li><strong>선언형/자동화 중심</strong>: 어노테이션, DI 기반</li><li><strong>실행 제어 중심</strong>: 함수형 데코레이터, 런타임 중첩 구성</li></ul><h4 id=클래식-oop-기반-데코레이터-구현-기법>클래식 OOP 기반 데코레이터 구현 기법<a hidden class=anchor aria-hidden=true href=#클래식-oop-기반-데코레이터-구현-기법>#</a></h4><ul><li>객체 지향 방식에서 인터페이스 혹은 추상 클래스를 기반으로 데코레이터 계층을 구성한다.</li><li>컴포넌트 → 추상 데코레이터 → 구체 데코레이터 구조로 구성된다.</li><li>Java, C#, Python 등 객체지향 언어에서 일반적으로 사용된다.</li></ul><p><strong>코드 예시</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1> 1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2> 2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3> 3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4> 4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5> 5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6> 6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7> 7</a>
</span><span class=lnt id=hl-4-8><a class=lnlinks href=#hl-4-8> 8</a>
</span><span class=lnt id=hl-4-9><a class=lnlinks href=#hl-4-9> 9</a>
</span><span class=lnt id=hl-4-10><a class=lnlinks href=#hl-4-10>10</a>
</span><span class=lnt id=hl-4-11><a class=lnlinks href=#hl-4-11>11</a>
</span><span class=lnt id=hl-4-12><a class=lnlinks href=#hl-4-12>12</a>
</span><span class=lnt id=hl-4-13><a class=lnlinks href=#hl-4-13>13</a>
</span><span class=lnt id=hl-4-14><a class=lnlinks href=#hl-4-14>14</a>
</span><span class=lnt id=hl-4-15><a class=lnlinks href=#hl-4-15>15</a>
</span><span class=lnt id=hl-4-16><a class=lnlinks href=#hl-4-16>16</a>
</span><span class=lnt id=hl-4-17><a class=lnlinks href=#hl-4-17>17</a>
</span><span class=lnt id=hl-4-18><a class=lnlinks href=#hl-4-18>18</a>
</span><span class=lnt id=hl-4-19><a class=lnlinks href=#hl-4-19>19</a>
</span><span class=lnt id=hl-4-20><a class=lnlinks href=#hl-4-20>20</a>
</span><span class=lnt id=hl-4-21><a class=lnlinks href=#hl-4-21>21</a>
</span><span class=lnt id=hl-4-22><a class=lnlinks href=#hl-4-22>22</a>
</span><span class=lnt id=hl-4-23><a class=lnlinks href=#hl-4-23>23</a>
</span><span class=lnt id=hl-4-24><a class=lnlinks href=#hl-4-24>24</a>
</span><span class=lnt id=hl-4-25><a class=lnlinks href=#hl-4-25>25</a>
</span><span class=lnt id=hl-4-26><a class=lnlinks href=#hl-4-26>26</a>
</span><span class=lnt id=hl-4-27><a class=lnlinks href=#hl-4-27>27</a>
</span><span class=lnt id=hl-4-28><a class=lnlinks href=#hl-4-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 기본 컴포넌트</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Coffee</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>cost</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>BasicCoffee</span><span class=p>(</span><span class=n>Coffee</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>cost</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 데코레이터 기본 구조</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CoffeeDecorator</span><span class=p>(</span><span class=n>Coffee</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>coffee</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_coffee</span> <span class=o>=</span> <span class=n>coffee</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>cost</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_coffee</span><span class=o>.</span><span class=n>cost</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 구체 데코레이터</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MilkDecorator</span><span class=p>(</span><span class=n>CoffeeDecorator</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>cost</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_coffee</span><span class=o>.</span><span class=n>cost</span><span class=p>()</span> <span class=o>+</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SugarDecorator</span><span class=p>(</span><span class=n>CoffeeDecorator</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>cost</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_coffee</span><span class=o>.</span><span class=n>cost</span><span class=p>()</span> <span class=o>+</span> <span class=mf>0.5</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용 예시</span>
</span></span><span class=line><span class=cl><span class=n>coffee</span> <span class=o>=</span> <span class=n>SugarDecorator</span><span class=p>(</span><span class=n>MilkDecorator</span><span class=p>(</span><span class=n>BasicCoffee</span><span class=p>()))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>coffee</span><span class=o>.</span><span class=n>cost</span><span class=p>())</span>  <span class=c1># 출력: 3.5</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=함수형-데코레이터-functional-decorator>함수형 데코레이터 (Functional Decorator)<a hidden class=anchor aria-hidden=true href=#함수형-데코레이터-functional-decorator>#</a></h4><ul><li>Python, JavaScript 등 함수가 일급 객체인 언어에서 주로 사용된다.</li><li>고차 함수 (Higher-order Function) 를 통해 기존 함수의 기능을 래핑한다.</li><li>매우 간결하며 런타임 동적 확장이 가능하다.</li></ul><p><strong>코드 예시</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1> 1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2> 2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3> 3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4> 4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5> 5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6> 6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7> 7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8> 8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9> 9</a>
</span><span class=lnt id=hl-5-10><a class=lnlinks href=#hl-5-10>10</a>
</span><span class=lnt id=hl-5-11><a class=lnlinks href=#hl-5-11>11</a>
</span><span class=lnt id=hl-5-12><a class=lnlinks href=#hl-5-12>12</a>
</span><span class=lnt id=hl-5-13><a class=lnlinks href=#hl-5-13>13</a>
</span><span class=lnt id=hl-5-14><a class=lnlinks href=#hl-5-14>14</a>
</span><span class=lnt id=hl-5-15><a class=lnlinks href=#hl-5-15>15</a>
</span><span class=lnt id=hl-5-16><a class=lnlinks href=#hl-5-16>16</a>
</span><span class=lnt id=hl-5-17><a class=lnlinks href=#hl-5-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>timing_decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;실행 시간: </span><span class=si>{</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span><span class=si>:</span><span class=s2>f</span><span class=si>}</span><span class=s2>초&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>wrapper</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@timing_decorator</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>slow_function</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s2>&#34;완료&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용 예시</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>slow_function</span><span class=p>())</span>  <span class=c1># 출력: 완료 (실행 시간: 약 1초)</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=어노테이션-기반-데코레이터>어노테이션 기반 데코레이터<a hidden class=anchor aria-hidden=true href=#어노테이션-기반-데코레이터>#</a></h4><ul><li>선언적으로 기능을 부여하는 방식</li><li>메타데이터 (Annotation, Attribute) 를 기반으로 런타임 시 기능 주입</li><li>AOP(Aspect-Oriented Programming) 와 자주 결합됨</li></ul><p><strong>구현 예시</strong></p><ul><li>Java + Spring AOP</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a>
</span><span class=lnt id=hl-6-13><a class=lnlinks href=#hl-6-13>13</a>
</span><span class=lnt id=hl-6-14><a class=lnlinks href=#hl-6-14>14</a>
</span><span class=lnt id=hl-6-15><a class=lnlinks href=#hl-6-15>15</a>
</span><span class=lnt id=hl-6-16><a class=lnlinks href=#hl-6-16>16</a>
</span><span class=lnt id=hl-6-17><a class=lnlinks href=#hl-6-17>17</a>
</span><span class=lnt id=hl-6-18><a class=lnlinks href=#hl-6-18>18</a>
</span><span class=lnt id=hl-6-19><a class=lnlinks href=#hl-6-19>19</a>
</span><span class=lnt id=hl-6-20><a class=lnlinks href=#hl-6-20>20</a>
</span><span class=lnt id=hl-6-21><a class=lnlinks href=#hl-6-21>21</a>
</span><span class=lnt id=hl-6-22><a class=lnlinks href=#hl-6-22>22</a>
</span><span class=lnt id=hl-6-23><a class=lnlinks href=#hl-6-23>23</a>
</span><span class=lnt id=hl-6-24><a class=lnlinks href=#hl-6-24>24</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// 공통 관심사를 정의한 Aspect</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@Aspect</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@Component</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>LoggingAspect</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Before</span><span class=p>(</span><span class=s>&#34;@annotation(LogExecution)&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>logBefore</span><span class=p>(</span><span class=n>JoinPoint</span><span class=w> </span><span class=n>joinPoint</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;메서드 실행 전: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>joinPoint</span><span class=p>.</span><span class=na>getSignature</span><span class=p>().</span><span class=na>getName</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 어노테이션 정의</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@Retention</span><span class=p>(</span><span class=n>RetentionPolicy</span><span class=p>.</span><span class=na>RUNTIME</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@Target</span><span class=p>(</span><span class=n>ElementType</span><span class=p>.</span><span class=na>METHOD</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=nd>@interface</span><span class=w> </span><span class=n>LogExecution</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 사용</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@Service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>UserService</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@LogExecution</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>registerUser</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;사용자 등록 중…&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li><code>@LogExecution</code> 으로 기능 선언</li><li>실행 시 AOP 로 자동 기능 삽입</li></ul><h4 id=프록시-기반-데코레이터-proxy-based-decorator><strong>프록시 기반 데코레이터 (Proxy-Based Decorator)</strong><a hidden class=anchor aria-hidden=true href=#프록시-기반-데코레이터-proxy-based-decorator>#</a></h4><ul><li>동적 프록시 (예: Java <code>Proxy</code>,.NET <code>DispatchProxy</code>) 를 사용해 객체에 기능을 삽입</li><li>주로 런타임에서 인터셉터 방식으로 처리</li><li>메서드 호출 전후 로직 삽입에 탁월</li></ul><p><strong>구현 예시</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1> 1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2> 2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3> 3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4> 4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5> 5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6> 6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7> 7</a>
</span><span class=lnt id=hl-7-8><a class=lnlinks href=#hl-7-8> 8</a>
</span><span class=lnt id=hl-7-9><a class=lnlinks href=#hl-7-9> 9</a>
</span><span class=lnt id=hl-7-10><a class=lnlinks href=#hl-7-10>10</a>
</span><span class=lnt id=hl-7-11><a class=lnlinks href=#hl-7-11>11</a>
</span><span class=lnt id=hl-7-12><a class=lnlinks href=#hl-7-12>12</a>
</span><span class=lnt id=hl-7-13><a class=lnlinks href=#hl-7-13>13</a>
</span><span class=lnt id=hl-7-14><a class=lnlinks href=#hl-7-14>14</a>
</span><span class=lnt id=hl-7-15><a class=lnlinks href=#hl-7-15>15</a>
</span><span class=lnt id=hl-7-16><a class=lnlinks href=#hl-7-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Service</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;실제 서비스 처리&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>LoggingProxy</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>target</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_target</span> <span class=o>=</span> <span class=n>target</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;[로그] 호출 전&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_target</span><span class=o>.</span><span class=n>process</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;[로그] 호출 후&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용</span>
</span></span><span class=line><span class=cl><span class=n>service</span> <span class=o>=</span> <span class=n>LoggingProxy</span><span class=p>(</span><span class=n>Service</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=n>service</span><span class=o>.</span><span class=n>process</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1>1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2>2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[로그] 호출 전
</span></span><span class=line><span class=cl>실제 서비스 처리
</span></span><span class=line><span class=cl>[로그] 호출 후
</span></span></code></pre></td></tr></table></div></div><h4 id=의존성-주입-기반-데코레이터-dependency-injection-decorator><strong>의존성 주입 기반 데코레이터 (Dependency Injection Decorator)</strong><a hidden class=anchor aria-hidden=true href=#의존성-주입-기반-데코레이터-dependency-injection-decorator>#</a></h4><ul><li>IoC 컨테이너가 여러 데코레이터를 조합하여 자동 주입</li><li>라이프사이클 관리, 데코레이터 체인 구성 자동화</li></ul><p><strong>구현 예시</strong></p><ul><li>Spring</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11>11</a>
</span><span class=lnt id=hl-9-12><a class=lnlinks href=#hl-9-12>12</a>
</span><span class=lnt id=hl-9-13><a class=lnlinks href=#hl-9-13>13</a>
</span><span class=lnt id=hl-9-14><a class=lnlinks href=#hl-9-14>14</a>
</span><span class=lnt id=hl-9-15><a class=lnlinks href=#hl-9-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Component</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@Primary</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>CachingUserService</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>UserService</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>UserService</span><span class=w> </span><span class=n>delegate</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>CachingUserService</span><span class=p>(</span><span class=nd>@Qualifier</span><span class=p>(</span><span class=s>&#34;userServiceImpl&#34;</span><span class=p>)</span><span class=w> </span><span class=n>UserService</span><span class=w> </span><span class=n>delegate</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>delegate</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>delegate</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>User</span><span class=w> </span><span class=nf>findUser</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>id</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 캐시 검사</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>delegate</span><span class=p>.</span><span class=na>findUser</span><span class=p>(</span><span class=n>id</span><span class=p>);</span><span class=w> </span><span class=c1>// 원본 호출</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li><code>@Primary</code> 데코레이터가 기본 주입 대상</li><li><code>delegate</code> 는 원본 구현을 위임 받음</li></ul><h4 id=런타임-플러그인-기반-데코레이터-dynamic-plugin-decorator>런타임 플러그인 기반 데코레이터 (Dynamic Plugin Decorator)<a hidden class=anchor aria-hidden=true href=#런타임-플러그인-기반-데코레이터-dynamic-plugin-decorator>#</a></h4><ul><li>런타임 시점에 데코레이터를 동적으로 추가/제거</li><li>전략 패턴이나 플러그인 시스템과 결합 가능</li></ul><p><strong>구현 예시</strong></p><ul><li>JavaScript</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1> 1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2> 2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3> 3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4> 4</a>
</span><span class=lnt id=hl-10-5><a class=lnlinks href=#hl-10-5> 5</a>
</span><span class=lnt id=hl-10-6><a class=lnlinks href=#hl-10-6> 6</a>
</span><span class=lnt id=hl-10-7><a class=lnlinks href=#hl-10-7> 7</a>
</span><span class=lnt id=hl-10-8><a class=lnlinks href=#hl-10-8> 8</a>
</span><span class=lnt id=hl-10-9><a class=lnlinks href=#hl-10-9> 9</a>
</span><span class=lnt id=hl-10-10><a class=lnlinks href=#hl-10-10>10</a>
</span><span class=lnt id=hl-10-11><a class=lnlinks href=#hl-10-11>11</a>
</span><span class=lnt id=hl-10-12><a class=lnlinks href=#hl-10-12>12</a>
</span><span class=lnt id=hl-10-13><a class=lnlinks href=#hl-10-13>13</a>
</span><span class=lnt id=hl-10-14><a class=lnlinks href=#hl-10-14>14</a>
</span><span class=lnt id=hl-10-15><a class=lnlinks href=#hl-10-15>15</a>
</span><span class=lnt id=hl-10-16><a class=lnlinks href=#hl-10-16>16</a>
</span><span class=lnt id=hl-10-17><a class=lnlinks href=#hl-10-17>17</a>
</span><span class=lnt id=hl-10-18><a class=lnlinks href=#hl-10-18>18</a>
</span><span class=lnt id=hl-10-19><a class=lnlinks href=#hl-10-19>19</a>
</span><span class=lnt id=hl-10-20><a class=lnlinks href=#hl-10-20>20</a>
</span><span class=lnt id=hl-10-21><a class=lnlinks href=#hl-10-21>21</a>
</span><span class=lnt id=hl-10-22><a class=lnlinks href=#hl-10-22>22</a>
</span><span class=lnt id=hl-10-23><a class=lnlinks href=#hl-10-23>23</a>
</span><span class=lnt id=hl-10-24><a class=lnlinks href=#hl-10-24>24</a>
</span><span class=lnt id=hl-10-25><a class=lnlinks href=#hl-10-25>25</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Processor</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>run</span><span class=p>(</span><span class=nx>data</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>logDecorator</span><span class=p>(</span><span class=nx>processor</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>run</span><span class=o>:</span> <span class=p>(</span><span class=nx>data</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;입력:&#34;</span><span class=p>,</span> <span class=nx>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>processor</span><span class=p>.</span><span class=nx>run</span><span class=p>(</span><span class=nx>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;출력:&#34;</span><span class=p>,</span> <span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 동적 조합
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>base</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Processor</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>base</span> <span class=o>=</span> <span class=nx>logDecorator</span><span class=p>(</span><span class=nx>base</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>base</span><span class=p>.</span><span class=nx>run</span><span class=p>(</span><span class=s2>&#34;Hello&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// 출력:
</span></span></span><span class=line><span class=cl><span class=c1>// 입력: Hello
</span></span></span><span class=line><span class=cl><span class=c1>// 출력: Hello
</span></span></span></code></pre></td></tr></table></div></div><h3 id=decorator-vs-composite-vs-proxy>Decorator vs. Composite vs. Proxy<a hidden class=anchor aria-hidden=true href=#decorator-vs-composite-vs-proxy>#</a></h3><table><thead><tr><th>항목</th><th>Decorator (데코레이터)</th><th>Composite (컴포지트)</th><th>Proxy (프록시)</th></tr></thead><tbody><tr><td><strong>목적</strong></td><td>객체의 기능을 동적으로 확장</td><td>객체의 계층 구조 표현 및 일관된 방식으로 처리</td><td>객체 접근 제어 또는 지연 초기화</td></tr><tr><td><strong>구조적 핵심</strong></td><td>객체를 래핑 (wrapping) 하여 새로운 기능 추가</td><td>트리 구조 구성 (Leaf/Composite)</td><td>실제 객체에 대한 인터페이스를 동일하게 유지</td></tr><tr><td><strong>사용 조건</strong></td><td>런타임 중 기능 확장이 필요할 때</td><td>계층적 구조를 동일한 방식으로 처리할 때</td><td>접근 제어, 로깅, 캐싱, 원격 호출 등이 필요할 때</td></tr><tr><td><strong>동적 기능 변경</strong></td><td>가능 (조합 순서에 따라 변화)</td><td>불가 (계층 구조 고정적)</td><td>제한적 (기능 위임 중심)</td></tr><tr><td><strong>클래스 수 증가</strong></td><td>많아짐 (데코레이터마다 클래스 필요)</td><td>중간 수준 (Leaf/Composite 구분)</td><td>적음 (프록시와 실제 객체 1:1)</td></tr><tr><td><strong>대표 사용 사례</strong></td><td>스트림 처리 (Java I/O), 인증, 캐싱</td><td>폴더 - 파일 트리 구조, UI 컴포넌트</td><td>Virtual Proxy, Remote Proxy, Protection Proxy</td></tr><tr><td><strong>조합/중첩</strong></td><td>중첩 가능 (계속 감싸기)</td><td>자식들을 포함하는 구조</td><td>중첩보단 단일 위임 중심</td></tr><tr><td><strong>대표 원칙 기반</strong></td><td>개방 - 폐쇄 원칙 (OCP), 책임 연쇄</td><td>전체 - 부분 계층 구조</td><td>대리 제어 (Surrogate Control)</td></tr></tbody></table><ul><li>기능을 확장하면서 객체를 감싸고 싶은 경우 Decorator</li><li>여러 객체들을 동일한 방식으로 반복 처리하고 싶은 경우 Composite</li><li>실제 객체를 감추고, 접근을 통제하고 싶은 경우 Proxy</li></ul><h4 id=공통된-주제-도형shape-그리기-시스템>공통된 주제: <code>도형(Shape)</code> 그리기 시스템<a hidden class=anchor aria-hidden=true href=#공통된-주제-도형shape-그리기-시스템>#</a></h4><p><strong>공통 설정: <code>Shape</code> 인터페이스</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1>1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2>2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3>3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4>4</a>
</span><span class=lnt id=hl-11-5><a class=lnlinks href=#hl-11-5>5</a>
</span><span class=lnt id=hl-11-6><a class=lnlinks href=#hl-11-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>abc</span> <span class=kn>import</span> <span class=n>ABC</span><span class=p>,</span> <span class=n>abstractmethod</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Shape</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>draw</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span></code></pre></td></tr></table></div></div><table><thead><tr><th>패턴</th><th>목적</th><th>구성 구조</th><th>기능 추가 방식</th><th>공통 인터페이스</th><th>내부 객체 참조 여부</th></tr></thead><tbody><tr><td><strong>Composite</strong></td><td>전체 - 부분 관계 표현 및 계층 구조 처리</td><td>객체 트리 구성 (<code>ShapeGroup</code> 이 하위 <code>Shape</code> 포함)</td><td>재귀적으로 구조화됨 (기능 조합 아님)</td><td>✅</td><td>✅ (자식 목록 참조)</td></tr><tr><td><strong>Decorator</strong></td><td>객체에 기능을 동적으로 추가</td><td>래퍼 객체 (<code>Decorator</code>) 가 원본 객체 감싸기</td><td>기능을 계층적으로 누적 (연쇄 호출)</td><td>✅</td><td>✅ (하나의 객체 참조)</td></tr><tr><td><strong>Proxy</strong></td><td>접근 제어, 로깅, 보안, 지연 로딩 등</td><td>프록시 객체가 진짜 객체 대신 요청 처리</td><td>실제 객체의 기능 호출 전/후 가로채기</td><td>✅</td><td>✅ (진짜 객체 참조)</td></tr></tbody></table><ul><li><strong>계층 구조가 필요하면 Composite</strong></li><li><strong>기능 확장이 목적이면 Decorator</strong></li><li><strong>접근 제어나 로깅, 보안 등 제어가 목적이면 Proxy</strong></li></ul><h5 id=composite-pattern>Composite Pattern<a hidden class=anchor aria-hidden=true href=#composite-pattern>#</a></h5><p><strong>목적</strong>: 개별 객체와 복합 객체 (트리 구조) 를 <strong>동일하게 처리</strong> (부분 - 전체 계층 구조)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1> 1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2> 2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3> 3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4> 4</a>
</span><span class=lnt id=hl-12-5><a class=lnlinks href=#hl-12-5> 5</a>
</span><span class=lnt id=hl-12-6><a class=lnlinks href=#hl-12-6> 6</a>
</span><span class=lnt id=hl-12-7><a class=lnlinks href=#hl-12-7> 7</a>
</span><span class=lnt id=hl-12-8><a class=lnlinks href=#hl-12-8> 8</a>
</span><span class=lnt id=hl-12-9><a class=lnlinks href=#hl-12-9> 9</a>
</span><span class=lnt id=hl-12-10><a class=lnlinks href=#hl-12-10>10</a>
</span><span class=lnt id=hl-12-11><a class=lnlinks href=#hl-12-11>11</a>
</span><span class=lnt id=hl-12-12><a class=lnlinks href=#hl-12-12>12</a>
</span><span class=lnt id=hl-12-13><a class=lnlinks href=#hl-12-13>13</a>
</span><span class=lnt id=hl-12-14><a class=lnlinks href=#hl-12-14>14</a>
</span><span class=lnt id=hl-12-15><a class=lnlinks href=#hl-12-15>15</a>
</span><span class=lnt id=hl-12-16><a class=lnlinks href=#hl-12-16>16</a>
</span><span class=lnt id=hl-12-17><a class=lnlinks href=#hl-12-17>17</a>
</span><span class=lnt id=hl-12-18><a class=lnlinks href=#hl-12-18>18</a>
</span><span class=lnt id=hl-12-19><a class=lnlinks href=#hl-12-19>19</a>
</span><span class=lnt id=hl-12-20><a class=lnlinks href=#hl-12-20>20</a>
</span><span class=lnt id=hl-12-21><a class=lnlinks href=#hl-12-21>21</a>
</span><span class=lnt id=hl-12-22><a class=lnlinks href=#hl-12-22>22</a>
</span><span class=lnt id=hl-12-23><a class=lnlinks href=#hl-12-23>23</a>
</span><span class=lnt id=hl-12-24><a class=lnlinks href=#hl-12-24>24</a>
</span><span class=lnt id=hl-12-25><a class=lnlinks href=#hl-12-25>25</a>
</span><span class=lnt id=hl-12-26><a class=lnlinks href=#hl-12-26>26</a>
</span><span class=lnt id=hl-12-27><a class=lnlinks href=#hl-12-27>27</a>
</span><span class=lnt id=hl-12-28><a class=lnlinks href=#hl-12-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Circle</span><span class=p>(</span><span class=n>Shape</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>draw</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Draw Circle&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Rectangle</span><span class=p>(</span><span class=n>Shape</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>draw</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Draw Rectangle&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ShapeGroup</span><span class=p>(</span><span class=n>Shape</span><span class=p>):</span>  <span class=c1># Composite</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>children</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>shape</span><span class=p>:</span> <span class=n>Shape</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>children</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>shape</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>draw</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Draw Group Start&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>child</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>children</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>child</span><span class=o>.</span><span class=n>draw</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Draw Group End&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용 예</span>
</span></span><span class=line><span class=cl><span class=n>circle</span> <span class=o>=</span> <span class=n>Circle</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>rect</span> <span class=o>=</span> <span class=n>Rectangle</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>group</span> <span class=o>=</span> <span class=n>ShapeGroup</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>group</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>circle</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>group</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>rect</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>group</span><span class=o>.</span><span class=n>draw</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>특징</strong>:</p><ul><li><code>ShapeGroup</code> 은 <code>Shape</code> 를 구현하면서 하위에 <code>Shape</code> 를 포함 (재귀 구조)</li><li><strong>부분과 전체를 동일한 방식으로 처리 가능</strong></li></ul><h5 id=decorator-pattern-1>Decorator Pattern<a hidden class=anchor aria-hidden=true href=#decorator-pattern-1>#</a></h5><p><strong>목적</strong>: 기존 객체에 <strong>동적으로 새로운 기능을 추가</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1> 1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2> 2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3> 3</a>
</span><span class=lnt id=hl-13-4><a class=lnlinks href=#hl-13-4> 4</a>
</span><span class=lnt id=hl-13-5><a class=lnlinks href=#hl-13-5> 5</a>
</span><span class=lnt id=hl-13-6><a class=lnlinks href=#hl-13-6> 6</a>
</span><span class=lnt id=hl-13-7><a class=lnlinks href=#hl-13-7> 7</a>
</span><span class=lnt id=hl-13-8><a class=lnlinks href=#hl-13-8> 8</a>
</span><span class=lnt id=hl-13-9><a class=lnlinks href=#hl-13-9> 9</a>
</span><span class=lnt id=hl-13-10><a class=lnlinks href=#hl-13-10>10</a>
</span><span class=lnt id=hl-13-11><a class=lnlinks href=#hl-13-11>11</a>
</span><span class=lnt id=hl-13-12><a class=lnlinks href=#hl-13-12>12</a>
</span><span class=lnt id=hl-13-13><a class=lnlinks href=#hl-13-13>13</a>
</span><span class=lnt id=hl-13-14><a class=lnlinks href=#hl-13-14>14</a>
</span><span class=lnt id=hl-13-15><a class=lnlinks href=#hl-13-15>15</a>
</span><span class=lnt id=hl-13-16><a class=lnlinks href=#hl-13-16>16</a>
</span><span class=lnt id=hl-13-17><a class=lnlinks href=#hl-13-17>17</a>
</span><span class=lnt id=hl-13-18><a class=lnlinks href=#hl-13-18>18</a>
</span><span class=lnt id=hl-13-19><a class=lnlinks href=#hl-13-19>19</a>
</span><span class=lnt id=hl-13-20><a class=lnlinks href=#hl-13-20>20</a>
</span><span class=lnt id=hl-13-21><a class=lnlinks href=#hl-13-21>21</a>
</span><span class=lnt id=hl-13-22><a class=lnlinks href=#hl-13-22>22</a>
</span><span class=lnt id=hl-13-23><a class=lnlinks href=#hl-13-23>23</a>
</span><span class=lnt id=hl-13-24><a class=lnlinks href=#hl-13-24>24</a>
</span><span class=lnt id=hl-13-25><a class=lnlinks href=#hl-13-25>25</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>BaseCircle</span><span class=p>(</span><span class=n>Shape</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>draw</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Draw Circle&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ShapeDecorator</span><span class=p>(</span><span class=n>Shape</span><span class=p>):</span>  <span class=c1># Decorator (추상)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>shape</span><span class=p>:</span> <span class=n>Shape</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_shape</span> <span class=o>=</span> <span class=n>shape</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>draw</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_shape</span><span class=o>.</span><span class=n>draw</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>BorderDecorator</span><span class=p>(</span><span class=n>ShapeDecorator</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>draw</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_shape</span><span class=o>.</span><span class=n>draw</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Add Border&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ShadowDecorator</span><span class=p>(</span><span class=n>ShapeDecorator</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>draw</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_shape</span><span class=o>.</span><span class=n>draw</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Add Shadow&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용 예</span>
</span></span><span class=line><span class=cl><span class=n>circle</span> <span class=o>=</span> <span class=n>BaseCircle</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>decorated</span> <span class=o>=</span> <span class=n>ShadowDecorator</span><span class=p>(</span><span class=n>BorderDecorator</span><span class=p>(</span><span class=n>circle</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>decorated</span><span class=o>.</span><span class=n>draw</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>특징</strong>:</p><ul><li>데코레이터는 동일 인터페이스 (<code>Shape</code>) 를 구현</li><li>내부에 <code>Shape</code> 를 <strong>참조</strong>하여 기능을 <strong>래핑</strong></li><li><strong>기능을 계층적으로 누적</strong></li></ul><h5 id=proxy-pattern>Proxy Pattern<a hidden class=anchor aria-hidden=true href=#proxy-pattern>#</a></h5><p><strong>목적</strong>: <strong>접근 제어 또는 부가 기능을 대신 수행</strong>하는 객체</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1> 1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2> 2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3> 3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4> 4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5> 5</a>
</span><span class=lnt id=hl-14-6><a class=lnlinks href=#hl-14-6> 6</a>
</span><span class=lnt id=hl-14-7><a class=lnlinks href=#hl-14-7> 7</a>
</span><span class=lnt id=hl-14-8><a class=lnlinks href=#hl-14-8> 8</a>
</span><span class=lnt id=hl-14-9><a class=lnlinks href=#hl-14-9> 9</a>
</span><span class=lnt id=hl-14-10><a class=lnlinks href=#hl-14-10>10</a>
</span><span class=lnt id=hl-14-11><a class=lnlinks href=#hl-14-11>11</a>
</span><span class=lnt id=hl-14-12><a class=lnlinks href=#hl-14-12>12</a>
</span><span class=lnt id=hl-14-13><a class=lnlinks href=#hl-14-13>13</a>
</span><span class=lnt id=hl-14-14><a class=lnlinks href=#hl-14-14>14</a>
</span><span class=lnt id=hl-14-15><a class=lnlinks href=#hl-14-15>15</a>
</span><span class=lnt id=hl-14-16><a class=lnlinks href=#hl-14-16>16</a>
</span><span class=lnt id=hl-14-17><a class=lnlinks href=#hl-14-17>17</a>
</span><span class=lnt id=hl-14-18><a class=lnlinks href=#hl-14-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>RealCircle</span><span class=p>(</span><span class=n>Shape</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>draw</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Draw Circle&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CircleProxy</span><span class=p>(</span><span class=n>Shape</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_real_circle</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>draw</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_real_circle</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Initializing RealCircle…&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_real_circle</span> <span class=o>=</span> <span class=n>RealCircle</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Access granted to RealCircle&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_real_circle</span><span class=o>.</span><span class=n>draw</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용 예</span>
</span></span><span class=line><span class=cl><span class=n>proxy</span> <span class=o>=</span> <span class=n>CircleProxy</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>proxy</span><span class=o>.</span><span class=n>draw</span><span class=p>()</span>  <span class=c1># 실제 객체는 내부에서 생성됨</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>특징</strong>:</p><ul><li>프록시는 <code>RealCircle</code> 접근을 <strong>제어하거나 지연</strong></li><li>주로 <strong>접근 제어, 로깅, 지연 로딩, 보안 등 목적</strong></li><li>내부에 진짜 객체를 감싸고 <code>draw()</code> 호출을 대신함</li></ul><h3 id=장점>장점<a hidden class=anchor aria-hidden=true href=#장점>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>항목</strong></th><th><strong>설명</strong></th></tr></thead><tbody><tr><td><strong>확장성 (유연한 구조)</strong></td><td>동적 기능 확장</td><td>컴파일이 아닌 런타임 시점에 기능을 동적으로 추가/변경/조합할 수 있어 높은 유연성을 제공함</td></tr><tr><td></td><td>무제한 기능 조합 가능</td><td>다양한 데코레이터를 조합해 복잡한 기능 구성 가능. 기능 요구사항에 따라 손쉽게 확장 가능</td></tr><tr><td></td><td>계층 구조 최소화</td><td>상속 기반 설계보다 컴포지션 기반으로 계층 구조를 단순화할 수 있음</td></tr><tr><td><strong>설계 원칙 준수</strong></td><td>개방 - 폐쇄 원칙 (OCP) 준수</td><td>기존 코드를 변경하지 않고 새로운 기능을 확장할 수 있어 유지보수성과 확장성 모두 확보 가능</td></tr><tr><td></td><td>단일 책임 원칙 (SRP) 준수</td><td>각 데코레이터가 하나의 기능만을 담당하도록 설계하여 모듈화와 응집도를 높임</td></tr><tr><td><strong>재사용성</strong></td><td>코드 재사용성</td><td>기능 단위 데코레이터를 다양한 컴포넌트에 조합하여 활용할 수 있어 코드 중복 최소화 및 유지보수 효율화</td></tr><tr><td></td><td>모듈화된 기능 제공</td><td>공통 기능을 별도 클래스로 분리하여 범용적으로 재사용 가능</td></tr><tr><td><strong>일관성 및 유지보수</strong></td><td>인터페이스 일관성</td><td>모든 데코레이터는 동일한 인터페이스를 구현하여 클라이언트 입장에서 사용 방식이 일관되고 예측 가능함</td></tr><tr><td></td><td>테스트 용이성</td><td>각 데코레이터가 독립적으로 구현되므로 단위 테스트와 조합 테스트 모두 수행 가능</td></tr><tr><td><strong>성능 및 구조적 효율성</strong></td><td>메모리 효율성</td><td>복잡한 상속 트리 대신 객체 합성을 사용하여 메모리 사용을 절감하고 더 가벼운 구조 제공</td></tr><tr><td></td><td>독립적 배포/교체 가능</td><td>데코레이터 간 결합도가 낮아 특정 기능만 분리하거나 교체하기 쉬움</td></tr></tbody></table><ul><li><strong>확장성과 유연성</strong>: 런타임 기능 조합 및 무한 확장</li><li><strong>SOLID 원칙 준수</strong>: OCP + SRP 기반 설계 가능</li><li><strong>재사용성 강화</strong>: 모듈화 + 인터페이스 통일로 코드 효율화</li><li><strong>유지보수 용이성</strong>: 독립 테스트 가능하고 인터페이스 일관됨</li></ul><h3 id=단점과-문제점-그리고-해결방안>단점과 문제점 그리고 해결방안<a hidden class=anchor aria-hidden=true href=#단점과-문제점-그리고-해결방안>#</a></h3><h4 id=단점>단점<a hidden class=anchor aria-hidden=true href=#단점>#</a></h4><table><thead><tr><th><strong>카테고리</strong></th><th><strong>단점 항목</strong></th><th><strong>설명</strong></th><th><strong>해결 방안</strong></th></tr></thead><tbody><tr><td><strong>구조적 복잡성</strong></td><td>객체 계층 복잡도</td><td>여러 데코레이터가 중첩되면 객체 구조가 복잡해지고 추적이 어려움</td><td>빌더/팩토리 패턴 활용으로 객체 생성 책임 분리, 구조 시각화 도구 도입</td></tr><tr><td><strong>디버깅/식별성</strong></td><td>원본 객체 식별 어려움</td><td>데코레이터가 래핑된 객체는 타입 식별이 어려움</td><td><code>instanceof</code>, Visitor 패턴, 명시적 메타데이터 포함</td></tr><tr><td></td><td>호출 흐름 추적 어려움</td><td>중첩 호출로 인해 디버깅 시 흐름 분석이 어려움</td><td>상세 로깅, 체인 추적 도구 활용</td></tr><tr><td><strong>유지보수 비용</strong></td><td>클래스 수 증가</td><td>기능 단위로 데코레이터가 분리되며 클래스 수 증가</td><td>기능 분류 기준 정의, 공통 데코레이터 통합</td></tr><tr><td><strong>성능 이슈</strong></td><td>성능 오버헤드</td><td>각 데코레이터마다 메서드 호출이 누적되어 성능 저하 발생</td><td>프록시 패턴 연계, 캐싱/지연 평가 적용</td></tr><tr><td><strong>설계 민감도</strong></td><td>순서 의존성</td><td>데코레이터 적용 순서에 따라 결과가 달라짐</td><td>적용 순서 규칙 정의 및 문서화, 체인 명시적 구성</td></tr></tbody></table><h4 id=문제점>문제점<a hidden class=anchor aria-hidden=true href=#문제점>#</a></h4><table><thead><tr><th><strong>카테고리</strong></th><th><strong>문제 항목</strong></th><th><strong>원인</strong></th><th><strong>영향</strong></th><th><strong>탐지/진단 방법</strong></th><th><strong>예방 및 해결 방안</strong></th></tr></thead><tbody><tr><td><strong>성능/안정성</strong></td><td>무의미한 중첩</td><td>기능적 필요 없는 데코레이터 조합</td><td>호출 오버헤드, 성능 저하</td><td>프로파일링 도구, 체인 분석 도구</td><td>불필요 조합 제거, 표준 조합 가이드 정의</td></tr><tr><td></td><td>스택 오버플로우</td><td>과도한 중첩으로 재귀 호출 스택 초과</td><td>애플리케이션 크래시</td><td>스택 깊이 모니터링, 재귀 트레이스 분석</td><td>반복적 처리 방식 변경, 트램폴린 기법, 최대 깊이 제한</td></tr><tr><td></td><td>메모리 누수</td><td>순환 참조로 인해 GC 되지 않는 객체 발생</td><td>메모리 사용량 증가, 성능 저하</td><td>메모리 프로파일러, 참조 체인 분석</td><td><code>WeakReference</code> 활용, 명시적 해제 메서드 도입</td></tr><tr><td><strong>설정/구성 충돌</strong></td><td>설정 충돌</td><td>여러 데코레이터가 동일 속성에 대해 상이한 설정을 적용</td><td>예외, 예측 불가한 동작, 버그</td><td>테스트 (Unit, Integration), 설정 충돌 검사</td><td>설정 우선순위 규칙 정의, 설정 병합 전략 구현, 네임스페이스 분리</td></tr><tr><td><strong>설계 유연성</strong></td><td>인터페이스 종속성</td><td>모든 데코레이터가 동일 인터페이스를 구현해야 하므로 구조적 제한 발생</td><td>추상화 유연성 감소</td><td>설계 리뷰, 인터페이스 정적 분석</td><td>인터페이스 설계 명확화, 어댑터 패턴 병행 적용</td></tr></tbody></table><h3 id=도전-과제>도전 과제<a hidden class=anchor aria-hidden=true href=#도전-과제>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>주제</strong></th><th><strong>설명</strong></th><th><strong>주요 원인</strong></th><th><strong>대표 해결책</strong></th></tr></thead><tbody><tr><td><strong>성능 최적화</strong></td><td>과도한 호출 체인 오버헤드</td><td>데코레이터 중첩으로 인해 메서드 호출 비용 증가</td><td>다중 래핑, 반복 호출, 체인 길이 증가</td><td>- 호출 경로 캐싱<br>- 지연 로딩/프록시 적용<br>- 성능 중요 영역에서는 최소화</td></tr><tr><td><strong>설계 복잡성</strong></td><td>중첩 구조 추적의 어려움</td><td>데코레이터 체인이 깊어질수록 구조와 동작 흐름 파악이 어려워짐</td><td>재귀적 호출, 구조적 분리 부족</td><td>- 구조 시각화 도구 활용<br>- 역할 분리 명확화<br>- 명명 규칙 적용</td></tr><tr><td><strong>설계 복잡성</strong></td><td>데코레이터 순서 의존성</td><td>데코레이터 적용 순서에 따라 결과가 달라지는 문제</td><td>의존 순서 불명확, 책임 충돌</td><td>- 순서 규칙 정의 및 문서화<br>- 순서 독립형 설계<br>- 테스트 케이스로 명시적 검증</td></tr><tr><td><strong>유지보수</strong></td><td>데코레이터 책임 중복</td><td>유사한 기능이 여러 데코레이터에 중복 정의되어 혼란 발생</td><td>SRP 위반, 모듈 경계 모호화</td><td>- 공통 데코레이터 추상화<br>- 역할 단일화<br>- 데코레이터 분류 체계 수립</td></tr><tr><td><strong>디버깅/테스트</strong></td><td>디버깅/테스트 어려움</td><td>중첩된 데코레이터 구조로 인해 테스트 및 디버깅이 어려움</td><td>내부 동작 추적 어려움, 예외 처리 불명확</td><td>- 로깅 데코레이터 도입<br>- 독립적 단위 테스트<br>- 호출 체인 시각화 및 추적</td></tr><tr><td><strong>문서화/이해도</strong></td><td>구조 가시성 부족</td><td>수십~수백 개 데코레이터가 조합된 경우 시스템 전반의 구조 파악이 어려움</td><td>자동화된 문서 부재, 도구 부족</td><td>- 자동 문서화 도구 사용<br>- 계층 구조로 분류<br>- 시각화 및 예시 코드 병행</td></tr><tr><td><strong>대규모 시스템</strong></td><td>데코레이터 스케일 관리</td><td>수많은 데코레이터 조합 시 유지보수성과 일관성 확보 필요</td><td>무분별한 추가/중복, 카테고리화 미비</td><td>- 계층적 구조 설계<br>- 공통 추상 계층 도입<br>- 공통 인터페이스 및 정책 적용</td></tr><tr><td><strong>분산 시스템</strong></td><td>서비스 간 데코레이터 적용 문제</td><td>마이크로서비스 환경에서 요청이 서비스 경계를 넘으며 데코레이터 적용 필요</td><td>네트워크 지연, 트레이싱 부족, 분산 상태 관리 어려움</td><td>- 서비스 메시 (Ambassador, Sidecar) 활용<br>- OpenTelemetry<br>- 회로 차단기 패턴 적용</td></tr></tbody></table><ul><li><strong>구조적 복잡성</strong>은 <strong>명확한 계층화 + 시각화 + 문서화</strong>로 완화할 수 있음.</li><li><strong>성능 저하</strong>는 <strong>호출 비용 최소화 + 캐싱 + 프록시 결합</strong>으로 대응 가능.</li><li><strong>테스트 전략</strong>은 <strong>각 데코레이터의 단일 책임 유지 + 독립 테스트</strong>가 핵심.</li><li><strong>대규모/분산 환경</strong>에서는 <strong>서비스 메시 및 추적 도구</strong>와 함께 전략적으로 사용해야 함.</li></ul><h3 id=분류에-따른-종류-및-유형>분류에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#분류에-따른-종류-및-유형>#</a></h3><table><thead><tr><th><strong>분류 기준</strong></th><th><strong>세부 유형</strong></th><th><strong>설명</strong></th><th><strong>적용 예시</strong></th></tr></thead><tbody><tr><td><strong>적용 시점</strong></td><td>정적 데코레이터</td><td>컴파일 타임에 구조가 고정되는 방식</td><td>Java Annotation, 템플릿 기반 구현</td></tr><tr><td></td><td>동적 데코레이터</td><td>런타임에 객체에 동적으로 기능을 추가</td><td>Proxy 기반 데코레이터, 리플렉션 활용</td></tr><tr><td><strong>기능 추가 시점</strong></td><td>전처리형</td><td>핵심 기능 실행 전에 동작 수행</td><td>로깅, 인증, 입력 유효성 검사</td></tr><tr><td></td><td>후처리형</td><td>핵심 기능 실행 후에 동작 수행</td><td>캐싱, 결과 압축, 응답 암호화</td></tr><tr><td></td><td>래핑형</td><td>핵심 기능 전체를 감싸고 새로운 흐름으로 구성</td><td>트랜잭션 관리, 예외 래핑</td></tr><tr><td><strong>기능 범위</strong></td><td>행위 데코레이터</td><td>객체의 행동 (메서드 등) 을 확장 또는 변경</td><td>로깅, 리트라이, 에러 처리</td></tr><tr><td></td><td>상태 데코레이터</td><td>객체의 속성/상태 값을 확장</td><td>캐시 카운터, 플래그 추가</td></tr><tr><td><strong>상태 보유 여부</strong></td><td>상태 없는 데코레이터</td><td>내부 상태를 저장하지 않음</td><td>단순 로그 기록, 조건 분기 기능</td></tr><tr><td></td><td>상태 있는 데코레이터</td><td>상태 저장을 통해 실행 결과에 영향을 줌</td><td>요청 횟수 카운팅, 동적 구성 관리</td></tr><tr><td><strong>구현 방식</strong></td><td>상속 기반</td><td>기능 확장을 위해 클래스 상속 구조 사용</td><td>전통 GoF 데코레이터 패턴</td></tr><tr><td></td><td>컴포지션 기반</td><td>객체 합성을 통해 기능을 위임하고 래핑</td><td>현대적인 데코레이터 구현 (e.g. Java I/O)</td></tr><tr><td></td><td>함수형</td><td>함수를 데코레이터로 활용</td><td>Python <code>@decorator</code> 함수</td></tr><tr><td><strong>적용 범위</strong></td><td>메서드 레벨</td><td>특정 메서드에만 데코레이터를 적용</td><td>Python <code>@decorator</code>, Java Method Annotation</td></tr><tr><td></td><td>클래스 레벨</td><td>클래스 전체에 영향을 주는 방식</td><td>Spring AOP, Java Proxy 클래스</td></tr></tbody></table><ul><li><strong>적용 시점</strong>과 <strong>기능 범위</strong>는 실제 설계 시 기능 배치 전략에 영향을 줌.</li><li><strong>상태 보유 여부</strong>와 <strong>구현 방식</strong>은 성능 및 테스트 전략에 밀접한 관련이 있음.</li><li><strong>메서드/클래스 레벨 적용 여부</strong>는 <strong>프레임워크 특성과 책임 범위</strong>에 따라 구분됨.</li></ul><h3 id=실무-사용-예시>실무 사용 예시<a hidden class=anchor aria-hidden=true href=#실무-사용-예시>#</a></h3><table><thead><tr><th><strong>도메인</strong></th><th><strong>적용 목적</strong></th><th><strong>기술 스택 / 기본 구성요소</strong></th><th><strong>데코레이터 활용 방식 예시</strong></th></tr></thead><tbody><tr><td><strong>웹 프레임워크</strong></td><td>HTTP 요청/응답 파이프라인 구성</td><td>Express.js, FastAPI Middleware, Spring Filter</td><td>인증/인가, 로깅, 예외 처리, 성능 측정 등을 미들웨어 형태로 계층화</td></tr><tr><td><strong>보안 시스템</strong></td><td>인증, 인가, 권한 검증</td><td>Spring Security, OAuth, JWT</td><td><code>AuthenticationDecorator</code>, <code>AuthorizationDecorator</code> 등으로 보안 로직 조합</td></tr><tr><td><strong>로깅/모니터링</strong></td><td>동적 로깅, 필터링, 다중 출력</td><td>SLF4J, Logback, Log4j</td><td><code>TimeStampedLogger</code>, <code>LevelFilterLogger</code>, <code>FileLoggerDecorator</code> 등으로 계층화</td></tr><tr><td><strong>데이터 처리</strong></td><td>포맷 변환, 필터, 정제, 캐싱 적용</td><td>Pandas, JSON Parser, Stream Processor</td><td><code>SanitizerDecorator</code>, <code>DataFormatDecorator</code>, <code>CachingDecorator</code> 등으로 데이터 처리 강화</td></tr><tr><td><strong>UI 개발</strong></td><td>기능 및 스타일 확장</td><td>React HOC, Vue 플러그인</td><td><code>withTooltip()</code>, <code>withBorder()</code>, <code>withStyle()</code> 등 고차 컴포넌트 또는 함수형 데코레이터 사용</td></tr><tr><td><strong>스트림 I/O</strong></td><td>성능 개선, 인코딩, 압축, 암호화</td><td>Java <code>InputStream</code>, Python <code>file-like object</code></td><td><code>BufferedInputStream</code>, <code>GZIPInputStream</code>, <code>EncryptingDecorator</code> 등으로 기능 중첩 구현</td></tr><tr><td><strong>게임 개발</strong></td><td>캐릭터 능력 확장, 무기 강화</td><td>Unity, Unreal, Custom Class-Based Systems</td><td><code>DamageBoostDecorator</code>, <code>MagicEffectDecorator</code>, <code>SpeedEnhancerDecorator</code> 등으로 동적 능력 추가</td></tr><tr><td><strong>GUI 컴포넌트</strong></td><td>UI 위젯 확장</td><td>Java Swing, Windows API, Flutter 등</td><td><code>ScrollBarDecorator</code>, <code>BorderDecorator</code>, <code>ShadowDecorator</code> 등으로 레이아웃 구성 요소 확장</td></tr><tr><td><strong>메시징 시스템</strong></td><td>알림 채널 다중화, 메시지 필터링 적용</td><td>Apache Kafka, RabbitMQ, Custom Notifier Pattern</td><td><code>SlackDecorator</code>, <code>SMSDecorator</code>, <code>EmailLoggerDecorator</code> 등으로 다양한 채널과 기능 조합</td></tr><tr><td><strong>데이터베이스</strong></td><td>연결 풀 관리, 트랜잭션 확장</td><td>JDBC, Hibernate, SQLAlchemy, Connection Pooling</td><td><code>PooledConnectionDecorator</code>, <code>TransactionalDecorator</code>, <code>LoggingConnectionDecorator</code> 등 적용 가능</td></tr></tbody></table><ul><li><strong>웹/보안/로깅/스트림/GUI</strong> 등 다양한 영역에서 <strong>기능 중첩 + 유연성</strong>을 얻기 위해 활용됨.</li><li><strong>핵심 구성요소</strong>는 단일 책임을 갖고, 데코레이터는 계층적으로 기능을 래핑하는 방식으로 설계됨.</li><li>특히 <strong>I/O, 메시징, 인증, UI 컴포넌트</strong>에서는 <strong>Decorator 패턴의 대표적 활용 사례</strong>가 매우 많음.</li></ul><h3 id=활용-사례>활용 사례<a hidden class=anchor aria-hidden=true href=#활용-사례>#</a></h3><h4 id=사례-1-스트리밍-서비스의-비디오-처리-시스템>사례 1: 스트리밍 서비스의 비디오 처리 시스템<a hidden class=anchor aria-hidden=true href=#사례-1-스트리밍-서비스의-비디오-처리-시스템>#</a></h4><p>대규모 비디오 스트리밍 플랫폼에서 사용자별 맞춤 비디오 처리가 필요한 상황</p><p><strong>시스템 구성</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1>1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2>2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3>3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4>4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>VideoProcessor (기본 컴포넌트)
</span></span><span class=line><span class=cl>├── SubtitleDecorator (자막 추가)
</span></span><span class=line><span class=cl>├── QualityEnhancer (화질 향상)
</span></span><span class=line><span class=cl>├── CompressionDecorator (압축 처리)
</span></span><span class=line><span class=cl>└── AnalyticsDecorator (시청 분석)
</span></span></code></pre></td></tr></table></div></div><p><strong>시스템 구성 다이어그램</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1> 1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2> 2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3> 3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4> 4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5> 5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6> 6</a>
</span><span class=lnt id=hl-16-7><a class=lnlinks href=#hl-16-7> 7</a>
</span><span class=lnt id=hl-16-8><a class=lnlinks href=#hl-16-8> 8</a>
</span><span class=lnt id=hl-16-9><a class=lnlinks href=#hl-16-9> 9</a>
</span><span class=lnt id=hl-16-10><a class=lnlinks href=#hl-16-10>10</a>
</span><span class=lnt id=hl-16-11><a class=lnlinks href=#hl-16-11>11</a>
</span><span class=lnt id=hl-16-12><a class=lnlinks href=#hl-16-12>12</a>
</span><span class=lnt id=hl-16-13><a class=lnlinks href=#hl-16-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[Client Request] 
</span></span><span class=line><span class=cl>       ↓
</span></span><span class=line><span class=cl>[AnalyticsDecorator] ← 시청 데이터 수집
</span></span><span class=line><span class=cl>       ↓
</span></span><span class=line><span class=cl>[CompressionDecorator] ← 대역폭에 따른 압축
</span></span><span class=line><span class=cl>       ↓
</span></span><span class=line><span class=cl>[QualityEnhancer] ← AI 기반 화질 향상
</span></span><span class=line><span class=cl>       ↓
</span></span><span class=line><span class=cl>[SubtitleDecorator] ← 언어별 자막 추가
</span></span><span class=line><span class=cl>       ↓
</span></span><span class=line><span class=cl>[VideoProcessor] ← 기본 비디오 처리
</span></span><span class=line><span class=cl>       ↓
</span></span><span class=line><span class=cl>[Processed Video Stream]
</span></span></code></pre></td></tr></table></div></div><p><strong>Workflow</strong>:</p><ol><li><strong>요청 수신</strong>: 클라이언트가 비디오 스트리밍 요청</li><li><strong>분석 시작</strong>: AnalyticsDecorator 가 시청 패턴 분석 시작</li><li><strong>압축 적용</strong>: 사용자 네트워크 환경에 따른 압축 레벨 결정</li><li><strong>화질 향상</strong>: AI 알고리즘을 통한 실시간 화질 개선</li><li><strong>자막 처리</strong>: 사용자 언어 설정에 따른 자막 오버레이</li><li><strong>기본 처리</strong>: 핵심 비디오 디코딩 및 스트리밍 준비</li><li><strong>결과 전송</strong>: 최종 처리된 비디오 스트림 전송</li></ol><p><strong>데코레이터별 역할</strong>:</p><ul><li><strong>AnalyticsDecorator</strong>: 시청 시간, 일시정지 패턴, 화질 변경 등 분석 데이터 수집</li><li><strong>CompressionDecorator</strong>: 실시간 네트워크 상태 모니터링 및 동적 압축률 조정</li><li><strong>QualityEnhancer</strong>: 머신러닝 기반 노이즈 제거 및 해상도 향상</li><li><strong>SubtitleDecorator</strong>: 다국어 자막 렌더링 및 동기화</li></ul><h4 id=사례-2-커피-주문-시스템>사례 2: 커피 주문 시스템<a hidden class=anchor aria-hidden=true href=#사례-2-커피-주문-시스템>#</a></h4><p><strong>시스템 구성</strong>:</p><ul><li>Component: Coffee</li><li>ConcreteComponent: SimpleCoffee</li><li>Decorator: CoffeeDecorator</li><li>ConcreteDecorator: WhippedCreamDecorator, SyrupDecorator 등</li></ul><p><strong>Workflow</strong>:</p><ol><li>SimpleCoffee 객체 생성</li><li>WhippedCreamDecorator 로 감쌈</li><li>SyrupDecorator 로 추가 감쌈</li><li>cost()/description() 호출 시 각 Decorator 가 기능 추가</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[Client] → [SyrupDecorator] → [WhippedCreamDecorator] → [SimpleCoffee]
</span></span></code></pre></td></tr></table></div></div><h4 id=사례-3-웹-요청-필터-체인-구성-expressjs>사례 3: 웹 요청 필터 체인 구성 (Express.js)<a hidden class=anchor aria-hidden=true href=#사례-3-웹-요청-필터-체인-구성-expressjs>#</a></h4><p><strong>사용 목적</strong>: 인증 → 로깅 → 데이터 파싱 순으로 요청 전처리</p><p><strong>시스템 구성</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1>1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2>2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3>3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Client -&gt; MiddlewareChain -&gt; RouteHandler -&gt; Response
</span></span><span class=line><span class=cl>         └─ AuthMiddleware
</span></span><span class=line><span class=cl>         └─ LoggerMiddleware
</span></span><span class=line><span class=cl>         └─ BodyParser
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1>1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2>2</a>
</span><span class=lnt id=hl-19-3><a class=lnlinks href=#hl-19-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>authMiddleware</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>loggerMiddleware</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>bodyParser</span><span class=p>.</span><span class=nx>json</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><strong>Decorator 역할</strong>: 각 Middleware 가 요청 객체 (req) 를 감싸서 기능 추가</li><li><strong>Decorator 미사용 시</strong>: 각 기능을 컨트롤러에 중복 삽입 → 재사용성 저하</li></ul><h4 id=사례-4-spring-framework-의-aop-aspect-oriented-programming-구현>사례 4: Spring Framework 의 AOP (Aspect-Oriented Programming) 구현<a hidden class=anchor aria-hidden=true href=#사례-4-spring-framework-의-aop-aspect-oriented-programming-구현>#</a></h4><p>Spring Framework 에서는 데코레이터 패턴을 활용하여 AOP 를 구현한다.<br>이는 횡단 관심사 (Cross-cutting Concerns) 를 분리하여 코드의 모듈성을 높이는 사례.</p><p><strong>시스템 구성</strong>:</p><pre class=mermaid>graph TB
    subgraph &#34;Spring AOP Architecture&#34;
        Client[Client Code]
        Proxy[Spring Proxy]
        Advisor[Advisor]
        Pointcut[Pointcut]
        Advice[Advice]
        Target[Target Object]
        
        Client --&gt; Proxy
        Proxy --&gt; Advisor
        Advisor --&gt; Pointcut
        Advisor --&gt; Advice
        Proxy --&gt; Target
    end
    
    subgraph &#34;Decorator Chain&#34;
        LoggingDecorator[Logging Decorator]
        SecurityDecorator[Security Decorator]
        TransactionDecorator[Transaction Decorator]
        BusinessLogic[Business Logic]
        
        LoggingDecorator --&gt; SecurityDecorator
        SecurityDecorator --&gt; TransactionDecorator
        TransactionDecorator --&gt; BusinessLogic
    end
</pre><p><strong>Workflow</strong>:</p><ol><li><strong>클라이언트 요청</strong>: 클라이언트가 비즈니스 메서드 호출</li><li><strong>프록시 인터셉션</strong>: Spring 프록시가 호출을 가로챔</li><li><strong>어드바이스 체인 실행</strong>: 로깅 → 보안 → 트랜잭션 순서로 데코레이터 실행</li><li><strong>비즈니스 로직 수행</strong>: 최종적으로 실제 비즈니스 로직 실행</li><li><strong>후처리</strong>: 역순으로 데코레이터들의 후처리 작업 수행</li></ol><p><strong>데코레이터 패턴의 역할</strong>:</p><ul><li><strong>관심사 분리</strong>: 비즈니스 로직과 횡단 관심사 분리</li><li><strong>코드 재사용</strong>: 동일한 어드바이스를 여러 클래스에 적용</li><li><strong>유연한 조합</strong>: 필요한 어드바이스만 선택적으로 적용</li><li><strong>투명성</strong>: 클라이언트는 프록시와 원본 객체를 구분하지 않음</li></ul><p><strong>데코레이터 유무에 따른 차이점</strong></p><ul><li><strong>데코레이터 적용 전:</strong><ul><li>비즈니스 로직에 로깅, 보안, 트랜잭션 코드가 뒤섞임</li><li>중복 코드 발생</li><li>테스트 어려움</li><li>유지보수 복잡성 증가</li></ul></li><li><strong>데코레이터 적용 후:</strong><ul><li>깔끔한 비즈니스 로직</li><li>재사용 가능한 횡단 관심사</li><li>독립적 테스트 가능</li><li>유연한 기능 조합</li></ul></li></ul><h3 id=구현-예시>구현 예시<a hidden class=anchor aria-hidden=true href=#구현-예시>#</a></h3><h4 id=python>Python<a hidden class=anchor aria-hidden=true href=#python>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1> 1</a>
</span><span class=lnt id=hl-21-2><a class=lnlinks href=#hl-21-2> 2</a>
</span><span class=lnt id=hl-21-3><a class=lnlinks href=#hl-21-3> 3</a>
</span><span class=lnt id=hl-21-4><a class=lnlinks href=#hl-21-4> 4</a>
</span><span class=lnt id=hl-21-5><a class=lnlinks href=#hl-21-5> 5</a>
</span><span class=lnt id=hl-21-6><a class=lnlinks href=#hl-21-6> 6</a>
</span><span class=lnt id=hl-21-7><a class=lnlinks href=#hl-21-7> 7</a>
</span><span class=lnt id=hl-21-8><a class=lnlinks href=#hl-21-8> 8</a>
</span><span class=lnt id=hl-21-9><a class=lnlinks href=#hl-21-9> 9</a>
</span><span class=lnt id=hl-21-10><a class=lnlinks href=#hl-21-10>10</a>
</span><span class=lnt id=hl-21-11><a class=lnlinks href=#hl-21-11>11</a>
</span><span class=lnt id=hl-21-12><a class=lnlinks href=#hl-21-12>12</a>
</span><span class=lnt id=hl-21-13><a class=lnlinks href=#hl-21-13>13</a>
</span><span class=lnt id=hl-21-14><a class=lnlinks href=#hl-21-14>14</a>
</span><span class=lnt id=hl-21-15><a class=lnlinks href=#hl-21-15>15</a>
</span><span class=lnt id=hl-21-16><a class=lnlinks href=#hl-21-16>16</a>
</span><span class=lnt id=hl-21-17><a class=lnlinks href=#hl-21-17>17</a>
</span><span class=lnt id=hl-21-18><a class=lnlinks href=#hl-21-18>18</a>
</span><span class=lnt id=hl-21-19><a class=lnlinks href=#hl-21-19>19</a>
</span><span class=lnt id=hl-21-20><a class=lnlinks href=#hl-21-20>20</a>
</span><span class=lnt id=hl-21-21><a class=lnlinks href=#hl-21-21>21</a>
</span><span class=lnt id=hl-21-22><a class=lnlinks href=#hl-21-22>22</a>
</span><span class=lnt id=hl-21-23><a class=lnlinks href=#hl-21-23>23</a>
</span><span class=lnt id=hl-21-24><a class=lnlinks href=#hl-21-24>24</a>
</span><span class=lnt id=hl-21-25><a class=lnlinks href=#hl-21-25>25</a>
</span><span class=lnt id=hl-21-26><a class=lnlinks href=#hl-21-26>26</a>
</span><span class=lnt id=hl-21-27><a class=lnlinks href=#hl-21-27>27</a>
</span><span class=lnt id=hl-21-28><a class=lnlinks href=#hl-21-28>28</a>
</span><span class=lnt id=hl-21-29><a class=lnlinks href=#hl-21-29>29</a>
</span><span class=lnt id=hl-21-30><a class=lnlinks href=#hl-21-30>30</a>
</span><span class=lnt id=hl-21-31><a class=lnlinks href=#hl-21-31>31</a>
</span><span class=lnt id=hl-21-32><a class=lnlinks href=#hl-21-32>32</a>
</span><span class=lnt id=hl-21-33><a class=lnlinks href=#hl-21-33>33</a>
</span><span class=lnt id=hl-21-34><a class=lnlinks href=#hl-21-34>34</a>
</span><span class=lnt id=hl-21-35><a class=lnlinks href=#hl-21-35>35</a>
</span><span class=lnt id=hl-21-36><a class=lnlinks href=#hl-21-36>36</a>
</span><span class=lnt id=hl-21-37><a class=lnlinks href=#hl-21-37>37</a>
</span><span class=lnt id=hl-21-38><a class=lnlinks href=#hl-21-38>38</a>
</span><span class=lnt id=hl-21-39><a class=lnlinks href=#hl-21-39>39</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Component 인터페이스</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Coffee</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>cost</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ConcreteComponent</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SimpleCoffee</span><span class=p>(</span><span class=n>Coffee</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>cost</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Decorator</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CoffeeDecorator</span><span class=p>(</span><span class=n>Coffee</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>coffee</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_coffee</span> <span class=o>=</span> <span class=n>coffee</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>cost</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_coffee</span><span class=o>.</span><span class=n>cost</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ConcreteDecorator</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MilkDecorator</span><span class=p>(</span><span class=n>CoffeeDecorator</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>cost</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_coffee</span><span class=o>.</span><span class=n>cost</span><span class=p>()</span> <span class=o>+</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SugarDecorator</span><span class=p>(</span><span class=n>CoffeeDecorator</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>cost</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_coffee</span><span class=o>.</span><span class=n>cost</span><span class=p>()</span> <span class=o>+</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용 예시</span>
</span></span><span class=line><span class=cl><span class=n>coffee</span> <span class=o>=</span> <span class=n>SimpleCoffee</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Simple coffee: </span><span class=si>{</span><span class=n>coffee</span><span class=o>.</span><span class=n>cost</span><span class=p>()</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>  <span class=c1># 5</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>coffee</span> <span class=o>=</span> <span class=n>MilkDecorator</span><span class=p>(</span><span class=n>coffee</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Coffee with milk: </span><span class=si>{</span><span class=n>coffee</span><span class=o>.</span><span class=n>cost</span><span class=p>()</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>  <span class=c1># 7</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>coffee</span> <span class=o>=</span> <span class=n>SugarDecorator</span><span class=p>(</span><span class=n>coffee</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Coffee with milk and sugar: </span><span class=si>{</span><span class=n>coffee</span><span class=o>.</span><span class=n>cost</span><span class=p>()</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>  <span class=c1># 8</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 주석: 위 코드는 커피에 우유, 설탕을 동적으로 추가하는 예시입니다.</span>
</span></span><span class=line><span class=cl><span class=c1># 데코레이터 패턴을 사용해 객체에 기능을 유연하게 추가할 수 있습니다.</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=python-spring-aop-방식의-데코레이터-패턴>Python: Spring AOP 방식의 데코레이터 패턴<a hidden class=anchor aria-hidden=true href=#python-spring-aop-방식의-데코레이터-패턴>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1>  1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2>  2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3>  3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4>  4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5>  5</a>
</span><span class=lnt id=hl-22-6><a class=lnlinks href=#hl-22-6>  6</a>
</span><span class=lnt id=hl-22-7><a class=lnlinks href=#hl-22-7>  7</a>
</span><span class=lnt id=hl-22-8><a class=lnlinks href=#hl-22-8>  8</a>
</span><span class=lnt id=hl-22-9><a class=lnlinks href=#hl-22-9>  9</a>
</span><span class=lnt id=hl-22-10><a class=lnlinks href=#hl-22-10> 10</a>
</span><span class=lnt id=hl-22-11><a class=lnlinks href=#hl-22-11> 11</a>
</span><span class=lnt id=hl-22-12><a class=lnlinks href=#hl-22-12> 12</a>
</span><span class=lnt id=hl-22-13><a class=lnlinks href=#hl-22-13> 13</a>
</span><span class=lnt id=hl-22-14><a class=lnlinks href=#hl-22-14> 14</a>
</span><span class=lnt id=hl-22-15><a class=lnlinks href=#hl-22-15> 15</a>
</span><span class=lnt id=hl-22-16><a class=lnlinks href=#hl-22-16> 16</a>
</span><span class=lnt id=hl-22-17><a class=lnlinks href=#hl-22-17> 17</a>
</span><span class=lnt id=hl-22-18><a class=lnlinks href=#hl-22-18> 18</a>
</span><span class=lnt id=hl-22-19><a class=lnlinks href=#hl-22-19> 19</a>
</span><span class=lnt id=hl-22-20><a class=lnlinks href=#hl-22-20> 20</a>
</span><span class=lnt id=hl-22-21><a class=lnlinks href=#hl-22-21> 21</a>
</span><span class=lnt id=hl-22-22><a class=lnlinks href=#hl-22-22> 22</a>
</span><span class=lnt id=hl-22-23><a class=lnlinks href=#hl-22-23> 23</a>
</span><span class=lnt id=hl-22-24><a class=lnlinks href=#hl-22-24> 24</a>
</span><span class=lnt id=hl-22-25><a class=lnlinks href=#hl-22-25> 25</a>
</span><span class=lnt id=hl-22-26><a class=lnlinks href=#hl-22-26> 26</a>
</span><span class=lnt id=hl-22-27><a class=lnlinks href=#hl-22-27> 27</a>
</span><span class=lnt id=hl-22-28><a class=lnlinks href=#hl-22-28> 28</a>
</span><span class=lnt id=hl-22-29><a class=lnlinks href=#hl-22-29> 29</a>
</span><span class=lnt id=hl-22-30><a class=lnlinks href=#hl-22-30> 30</a>
</span><span class=lnt id=hl-22-31><a class=lnlinks href=#hl-22-31> 31</a>
</span><span class=lnt id=hl-22-32><a class=lnlinks href=#hl-22-32> 32</a>
</span><span class=lnt id=hl-22-33><a class=lnlinks href=#hl-22-33> 33</a>
</span><span class=lnt id=hl-22-34><a class=lnlinks href=#hl-22-34> 34</a>
</span><span class=lnt id=hl-22-35><a class=lnlinks href=#hl-22-35> 35</a>
</span><span class=lnt id=hl-22-36><a class=lnlinks href=#hl-22-36> 36</a>
</span><span class=lnt id=hl-22-37><a class=lnlinks href=#hl-22-37> 37</a>
</span><span class=lnt id=hl-22-38><a class=lnlinks href=#hl-22-38> 38</a>
</span><span class=lnt id=hl-22-39><a class=lnlinks href=#hl-22-39> 39</a>
</span><span class=lnt id=hl-22-40><a class=lnlinks href=#hl-22-40> 40</a>
</span><span class=lnt id=hl-22-41><a class=lnlinks href=#hl-22-41> 41</a>
</span><span class=lnt id=hl-22-42><a class=lnlinks href=#hl-22-42> 42</a>
</span><span class=lnt id=hl-22-43><a class=lnlinks href=#hl-22-43> 43</a>
</span><span class=lnt id=hl-22-44><a class=lnlinks href=#hl-22-44> 44</a>
</span><span class=lnt id=hl-22-45><a class=lnlinks href=#hl-22-45> 45</a>
</span><span class=lnt id=hl-22-46><a class=lnlinks href=#hl-22-46> 46</a>
</span><span class=lnt id=hl-22-47><a class=lnlinks href=#hl-22-47> 47</a>
</span><span class=lnt id=hl-22-48><a class=lnlinks href=#hl-22-48> 48</a>
</span><span class=lnt id=hl-22-49><a class=lnlinks href=#hl-22-49> 49</a>
</span><span class=lnt id=hl-22-50><a class=lnlinks href=#hl-22-50> 50</a>
</span><span class=lnt id=hl-22-51><a class=lnlinks href=#hl-22-51> 51</a>
</span><span class=lnt id=hl-22-52><a class=lnlinks href=#hl-22-52> 52</a>
</span><span class=lnt id=hl-22-53><a class=lnlinks href=#hl-22-53> 53</a>
</span><span class=lnt id=hl-22-54><a class=lnlinks href=#hl-22-54> 54</a>
</span><span class=lnt id=hl-22-55><a class=lnlinks href=#hl-22-55> 55</a>
</span><span class=lnt id=hl-22-56><a class=lnlinks href=#hl-22-56> 56</a>
</span><span class=lnt id=hl-22-57><a class=lnlinks href=#hl-22-57> 57</a>
</span><span class=lnt id=hl-22-58><a class=lnlinks href=#hl-22-58> 58</a>
</span><span class=lnt id=hl-22-59><a class=lnlinks href=#hl-22-59> 59</a>
</span><span class=lnt id=hl-22-60><a class=lnlinks href=#hl-22-60> 60</a>
</span><span class=lnt id=hl-22-61><a class=lnlinks href=#hl-22-61> 61</a>
</span><span class=lnt id=hl-22-62><a class=lnlinks href=#hl-22-62> 62</a>
</span><span class=lnt id=hl-22-63><a class=lnlinks href=#hl-22-63> 63</a>
</span><span class=lnt id=hl-22-64><a class=lnlinks href=#hl-22-64> 64</a>
</span><span class=lnt id=hl-22-65><a class=lnlinks href=#hl-22-65> 65</a>
</span><span class=lnt id=hl-22-66><a class=lnlinks href=#hl-22-66> 66</a>
</span><span class=lnt id=hl-22-67><a class=lnlinks href=#hl-22-67> 67</a>
</span><span class=lnt id=hl-22-68><a class=lnlinks href=#hl-22-68> 68</a>
</span><span class=lnt id=hl-22-69><a class=lnlinks href=#hl-22-69> 69</a>
</span><span class=lnt id=hl-22-70><a class=lnlinks href=#hl-22-70> 70</a>
</span><span class=lnt id=hl-22-71><a class=lnlinks href=#hl-22-71> 71</a>
</span><span class=lnt id=hl-22-72><a class=lnlinks href=#hl-22-72> 72</a>
</span><span class=lnt id=hl-22-73><a class=lnlinks href=#hl-22-73> 73</a>
</span><span class=lnt id=hl-22-74><a class=lnlinks href=#hl-22-74> 74</a>
</span><span class=lnt id=hl-22-75><a class=lnlinks href=#hl-22-75> 75</a>
</span><span class=lnt id=hl-22-76><a class=lnlinks href=#hl-22-76> 76</a>
</span><span class=lnt id=hl-22-77><a class=lnlinks href=#hl-22-77> 77</a>
</span><span class=lnt id=hl-22-78><a class=lnlinks href=#hl-22-78> 78</a>
</span><span class=lnt id=hl-22-79><a class=lnlinks href=#hl-22-79> 79</a>
</span><span class=lnt id=hl-22-80><a class=lnlinks href=#hl-22-80> 80</a>
</span><span class=lnt id=hl-22-81><a class=lnlinks href=#hl-22-81> 81</a>
</span><span class=lnt id=hl-22-82><a class=lnlinks href=#hl-22-82> 82</a>
</span><span class=lnt id=hl-22-83><a class=lnlinks href=#hl-22-83> 83</a>
</span><span class=lnt id=hl-22-84><a class=lnlinks href=#hl-22-84> 84</a>
</span><span class=lnt id=hl-22-85><a class=lnlinks href=#hl-22-85> 85</a>
</span><span class=lnt id=hl-22-86><a class=lnlinks href=#hl-22-86> 86</a>
</span><span class=lnt id=hl-22-87><a class=lnlinks href=#hl-22-87> 87</a>
</span><span class=lnt id=hl-22-88><a class=lnlinks href=#hl-22-88> 88</a>
</span><span class=lnt id=hl-22-89><a class=lnlinks href=#hl-22-89> 89</a>
</span><span class=lnt id=hl-22-90><a class=lnlinks href=#hl-22-90> 90</a>
</span><span class=lnt id=hl-22-91><a class=lnlinks href=#hl-22-91> 91</a>
</span><span class=lnt id=hl-22-92><a class=lnlinks href=#hl-22-92> 92</a>
</span><span class=lnt id=hl-22-93><a class=lnlinks href=#hl-22-93> 93</a>
</span><span class=lnt id=hl-22-94><a class=lnlinks href=#hl-22-94> 94</a>
</span><span class=lnt id=hl-22-95><a class=lnlinks href=#hl-22-95> 95</a>
</span><span class=lnt id=hl-22-96><a class=lnlinks href=#hl-22-96> 96</a>
</span><span class=lnt id=hl-22-97><a class=lnlinks href=#hl-22-97> 97</a>
</span><span class=lnt id=hl-22-98><a class=lnlinks href=#hl-22-98> 98</a>
</span><span class=lnt id=hl-22-99><a class=lnlinks href=#hl-22-99> 99</a>
</span><span class=lnt id=hl-22-100><a class=lnlinks href=#hl-22-100>100</a>
</span><span class=lnt id=hl-22-101><a class=lnlinks href=#hl-22-101>101</a>
</span><span class=lnt id=hl-22-102><a class=lnlinks href=#hl-22-102>102</a>
</span><span class=lnt id=hl-22-103><a class=lnlinks href=#hl-22-103>103</a>
</span><span class=lnt id=hl-22-104><a class=lnlinks href=#hl-22-104>104</a>
</span><span class=lnt id=hl-22-105><a class=lnlinks href=#hl-22-105>105</a>
</span><span class=lnt id=hl-22-106><a class=lnlinks href=#hl-22-106>106</a>
</span><span class=lnt id=hl-22-107><a class=lnlinks href=#hl-22-107>107</a>
</span><span class=lnt id=hl-22-108><a class=lnlinks href=#hl-22-108>108</a>
</span><span class=lnt id=hl-22-109><a class=lnlinks href=#hl-22-109>109</a>
</span><span class=lnt id=hl-22-110><a class=lnlinks href=#hl-22-110>110</a>
</span><span class=lnt id=hl-22-111><a class=lnlinks href=#hl-22-111>111</a>
</span><span class=lnt id=hl-22-112><a class=lnlinks href=#hl-22-112>112</a>
</span><span class=lnt id=hl-22-113><a class=lnlinks href=#hl-22-113>113</a>
</span><span class=lnt id=hl-22-114><a class=lnlinks href=#hl-22-114>114</a>
</span><span class=lnt id=hl-22-115><a class=lnlinks href=#hl-22-115>115</a>
</span><span class=lnt id=hl-22-116><a class=lnlinks href=#hl-22-116>116</a>
</span><span class=lnt id=hl-22-117><a class=lnlinks href=#hl-22-117>117</a>
</span><span class=lnt id=hl-22-118><a class=lnlinks href=#hl-22-118>118</a>
</span><span class=lnt id=hl-22-119><a class=lnlinks href=#hl-22-119>119</a>
</span><span class=lnt id=hl-22-120><a class=lnlinks href=#hl-22-120>120</a>
</span><span class=lnt id=hl-22-121><a class=lnlinks href=#hl-22-121>121</a>
</span><span class=lnt id=hl-22-122><a class=lnlinks href=#hl-22-122>122</a>
</span><span class=lnt id=hl-22-123><a class=lnlinks href=#hl-22-123>123</a>
</span><span class=lnt id=hl-22-124><a class=lnlinks href=#hl-22-124>124</a>
</span><span class=lnt id=hl-22-125><a class=lnlinks href=#hl-22-125>125</a>
</span><span class=lnt id=hl-22-126><a class=lnlinks href=#hl-22-126>126</a>
</span><span class=lnt id=hl-22-127><a class=lnlinks href=#hl-22-127>127</a>
</span><span class=lnt id=hl-22-128><a class=lnlinks href=#hl-22-128>128</a>
</span><span class=lnt id=hl-22-129><a class=lnlinks href=#hl-22-129>129</a>
</span><span class=lnt id=hl-22-130><a class=lnlinks href=#hl-22-130>130</a>
</span><span class=lnt id=hl-22-131><a class=lnlinks href=#hl-22-131>131</a>
</span><span class=lnt id=hl-22-132><a class=lnlinks href=#hl-22-132>132</a>
</span><span class=lnt id=hl-22-133><a class=lnlinks href=#hl-22-133>133</a>
</span><span class=lnt id=hl-22-134><a class=lnlinks href=#hl-22-134>134</a>
</span><span class=lnt id=hl-22-135><a class=lnlinks href=#hl-22-135>135</a>
</span><span class=lnt id=hl-22-136><a class=lnlinks href=#hl-22-136>136</a>
</span><span class=lnt id=hl-22-137><a class=lnlinks href=#hl-22-137>137</a>
</span><span class=lnt id=hl-22-138><a class=lnlinks href=#hl-22-138>138</a>
</span><span class=lnt id=hl-22-139><a class=lnlinks href=#hl-22-139>139</a>
</span><span class=lnt id=hl-22-140><a class=lnlinks href=#hl-22-140>140</a>
</span><span class=lnt id=hl-22-141><a class=lnlinks href=#hl-22-141>141</a>
</span><span class=lnt id=hl-22-142><a class=lnlinks href=#hl-22-142>142</a>
</span><span class=lnt id=hl-22-143><a class=lnlinks href=#hl-22-143>143</a>
</span><span class=lnt id=hl-22-144><a class=lnlinks href=#hl-22-144>144</a>
</span><span class=lnt id=hl-22-145><a class=lnlinks href=#hl-22-145>145</a>
</span><span class=lnt id=hl-22-146><a class=lnlinks href=#hl-22-146>146</a>
</span><span class=lnt id=hl-22-147><a class=lnlinks href=#hl-22-147>147</a>
</span><span class=lnt id=hl-22-148><a class=lnlinks href=#hl-22-148>148</a>
</span><span class=lnt id=hl-22-149><a class=lnlinks href=#hl-22-149>149</a>
</span><span class=lnt id=hl-22-150><a class=lnlinks href=#hl-22-150>150</a>
</span><span class=lnt id=hl-22-151><a class=lnlinks href=#hl-22-151>151</a>
</span><span class=lnt id=hl-22-152><a class=lnlinks href=#hl-22-152>152</a>
</span><span class=lnt id=hl-22-153><a class=lnlinks href=#hl-22-153>153</a>
</span><span class=lnt id=hl-22-154><a class=lnlinks href=#hl-22-154>154</a>
</span><span class=lnt id=hl-22-155><a class=lnlinks href=#hl-22-155>155</a>
</span><span class=lnt id=hl-22-156><a class=lnlinks href=#hl-22-156>156</a>
</span><span class=lnt id=hl-22-157><a class=lnlinks href=#hl-22-157>157</a>
</span><span class=lnt id=hl-22-158><a class=lnlinks href=#hl-22-158>158</a>
</span><span class=lnt id=hl-22-159><a class=lnlinks href=#hl-22-159>159</a>
</span><span class=lnt id=hl-22-160><a class=lnlinks href=#hl-22-160>160</a>
</span><span class=lnt id=hl-22-161><a class=lnlinks href=#hl-22-161>161</a>
</span><span class=lnt id=hl-22-162><a class=lnlinks href=#hl-22-162>162</a>
</span><span class=lnt id=hl-22-163><a class=lnlinks href=#hl-22-163>163</a>
</span><span class=lnt id=hl-22-164><a class=lnlinks href=#hl-22-164>164</a>
</span><span class=lnt id=hl-22-165><a class=lnlinks href=#hl-22-165>165</a>
</span><span class=lnt id=hl-22-166><a class=lnlinks href=#hl-22-166>166</a>
</span><span class=lnt id=hl-22-167><a class=lnlinks href=#hl-22-167>167</a>
</span><span class=lnt id=hl-22-168><a class=lnlinks href=#hl-22-168>168</a>
</span><span class=lnt id=hl-22-169><a class=lnlinks href=#hl-22-169>169</a>
</span><span class=lnt id=hl-22-170><a class=lnlinks href=#hl-22-170>170</a>
</span><span class=lnt id=hl-22-171><a class=lnlinks href=#hl-22-171>171</a>
</span><span class=lnt id=hl-22-172><a class=lnlinks href=#hl-22-172>172</a>
</span><span class=lnt id=hl-22-173><a class=lnlinks href=#hl-22-173>173</a>
</span><span class=lnt id=hl-22-174><a class=lnlinks href=#hl-22-174>174</a>
</span><span class=lnt id=hl-22-175><a class=lnlinks href=#hl-22-175>175</a>
</span><span class=lnt id=hl-22-176><a class=lnlinks href=#hl-22-176>176</a>
</span><span class=lnt id=hl-22-177><a class=lnlinks href=#hl-22-177>177</a>
</span><span class=lnt id=hl-22-178><a class=lnlinks href=#hl-22-178>178</a>
</span><span class=lnt id=hl-22-179><a class=lnlinks href=#hl-22-179>179</a>
</span><span class=lnt id=hl-22-180><a class=lnlinks href=#hl-22-180>180</a>
</span><span class=lnt id=hl-22-181><a class=lnlinks href=#hl-22-181>181</a>
</span><span class=lnt id=hl-22-182><a class=lnlinks href=#hl-22-182>182</a>
</span><span class=lnt id=hl-22-183><a class=lnlinks href=#hl-22-183>183</a>
</span><span class=lnt id=hl-22-184><a class=lnlinks href=#hl-22-184>184</a>
</span><span class=lnt id=hl-22-185><a class=lnlinks href=#hl-22-185>185</a>
</span><span class=lnt id=hl-22-186><a class=lnlinks href=#hl-22-186>186</a>
</span><span class=lnt id=hl-22-187><a class=lnlinks href=#hl-22-187>187</a>
</span><span class=lnt id=hl-22-188><a class=lnlinks href=#hl-22-188>188</a>
</span><span class=lnt id=hl-22-189><a class=lnlinks href=#hl-22-189>189</a>
</span><span class=lnt id=hl-22-190><a class=lnlinks href=#hl-22-190>190</a>
</span><span class=lnt id=hl-22-191><a class=lnlinks href=#hl-22-191>191</a>
</span><span class=lnt id=hl-22-192><a class=lnlinks href=#hl-22-192>192</a>
</span><span class=lnt id=hl-22-193><a class=lnlinks href=#hl-22-193>193</a>
</span><span class=lnt id=hl-22-194><a class=lnlinks href=#hl-22-194>194</a>
</span><span class=lnt id=hl-22-195><a class=lnlinks href=#hl-22-195>195</a>
</span><span class=lnt id=hl-22-196><a class=lnlinks href=#hl-22-196>196</a>
</span><span class=lnt id=hl-22-197><a class=lnlinks href=#hl-22-197>197</a>
</span><span class=lnt id=hl-22-198><a class=lnlinks href=#hl-22-198>198</a>
</span><span class=lnt id=hl-22-199><a class=lnlinks href=#hl-22-199>199</a>
</span><span class=lnt id=hl-22-200><a class=lnlinks href=#hl-22-200>200</a>
</span><span class=lnt id=hl-22-201><a class=lnlinks href=#hl-22-201>201</a>
</span><span class=lnt id=hl-22-202><a class=lnlinks href=#hl-22-202>202</a>
</span><span class=lnt id=hl-22-203><a class=lnlinks href=#hl-22-203>203</a>
</span><span class=lnt id=hl-22-204><a class=lnlinks href=#hl-22-204>204</a>
</span><span class=lnt id=hl-22-205><a class=lnlinks href=#hl-22-205>205</a>
</span><span class=lnt id=hl-22-206><a class=lnlinks href=#hl-22-206>206</a>
</span><span class=lnt id=hl-22-207><a class=lnlinks href=#hl-22-207>207</a>
</span><span class=lnt id=hl-22-208><a class=lnlinks href=#hl-22-208>208</a>
</span><span class=lnt id=hl-22-209><a class=lnlinks href=#hl-22-209>209</a>
</span><span class=lnt id=hl-22-210><a class=lnlinks href=#hl-22-210>210</a>
</span><span class=lnt id=hl-22-211><a class=lnlinks href=#hl-22-211>211</a>
</span><span class=lnt id=hl-22-212><a class=lnlinks href=#hl-22-212>212</a>
</span><span class=lnt id=hl-22-213><a class=lnlinks href=#hl-22-213>213</a>
</span><span class=lnt id=hl-22-214><a class=lnlinks href=#hl-22-214>214</a>
</span><span class=lnt id=hl-22-215><a class=lnlinks href=#hl-22-215>215</a>
</span><span class=lnt id=hl-22-216><a class=lnlinks href=#hl-22-216>216</a>
</span><span class=lnt id=hl-22-217><a class=lnlinks href=#hl-22-217>217</a>
</span><span class=lnt id=hl-22-218><a class=lnlinks href=#hl-22-218>218</a>
</span><span class=lnt id=hl-22-219><a class=lnlinks href=#hl-22-219>219</a>
</span><span class=lnt id=hl-22-220><a class=lnlinks href=#hl-22-220>220</a>
</span><span class=lnt id=hl-22-221><a class=lnlinks href=#hl-22-221>221</a>
</span><span class=lnt id=hl-22-222><a class=lnlinks href=#hl-22-222>222</a>
</span><span class=lnt id=hl-22-223><a class=lnlinks href=#hl-22-223>223</a>
</span><span class=lnt id=hl-22-224><a class=lnlinks href=#hl-22-224>224</a>
</span><span class=lnt id=hl-22-225><a class=lnlinks href=#hl-22-225>225</a>
</span><span class=lnt id=hl-22-226><a class=lnlinks href=#hl-22-226>226</a>
</span><span class=lnt id=hl-22-227><a class=lnlinks href=#hl-22-227>227</a>
</span><span class=lnt id=hl-22-228><a class=lnlinks href=#hl-22-228>228</a>
</span><span class=lnt id=hl-22-229><a class=lnlinks href=#hl-22-229>229</a>
</span><span class=lnt id=hl-22-230><a class=lnlinks href=#hl-22-230>230</a>
</span><span class=lnt id=hl-22-231><a class=lnlinks href=#hl-22-231>231</a>
</span><span class=lnt id=hl-22-232><a class=lnlinks href=#hl-22-232>232</a>
</span><span class=lnt id=hl-22-233><a class=lnlinks href=#hl-22-233>233</a>
</span><span class=lnt id=hl-22-234><a class=lnlinks href=#hl-22-234>234</a>
</span><span class=lnt id=hl-22-235><a class=lnlinks href=#hl-22-235>235</a>
</span><span class=lnt id=hl-22-236><a class=lnlinks href=#hl-22-236>236</a>
</span><span class=lnt id=hl-22-237><a class=lnlinks href=#hl-22-237>237</a>
</span><span class=lnt id=hl-22-238><a class=lnlinks href=#hl-22-238>238</a>
</span><span class=lnt id=hl-22-239><a class=lnlinks href=#hl-22-239>239</a>
</span><span class=lnt id=hl-22-240><a class=lnlinks href=#hl-22-240>240</a>
</span><span class=lnt id=hl-22-241><a class=lnlinks href=#hl-22-241>241</a>
</span><span class=lnt id=hl-22-242><a class=lnlinks href=#hl-22-242>242</a>
</span><span class=lnt id=hl-22-243><a class=lnlinks href=#hl-22-243>243</a>
</span><span class=lnt id=hl-22-244><a class=lnlinks href=#hl-22-244>244</a>
</span><span class=lnt id=hl-22-245><a class=lnlinks href=#hl-22-245>245</a>
</span><span class=lnt id=hl-22-246><a class=lnlinks href=#hl-22-246>246</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>abc</span> <span class=kn>import</span> <span class=n>ABC</span><span class=p>,</span> <span class=n>abstractmethod</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>functools</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Any</span><span class=p>,</span> <span class=n>Callable</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 1. 컴포넌트 인터페이스 정의</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>BusinessService</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;비즈니스 서비스를 위한 공통 인터페이스&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;데이터 처리를 위한 핵심 메서드&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2. 구체적 컴포넌트 구현</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>UserService</span><span class=p>(</span><span class=n>BusinessService</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;사용자 관련 비즈니스 로직을 처리하는 구체적 컴포넌트&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;실제 사용자 데이터 처리 로직&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># 실제 비즈니스 로직 수행</span>
</span></span><span class=line><span class=cl>        <span class=n>processed_data</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;User data processed: </span><span class=si>{</span><span class=n>data</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>processed_data</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3. 기본 데코레이터 클래스</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ServiceDecorator</span><span class=p>(</span><span class=n>BusinessService</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;모든 서비스 데코레이터의 기본 클래스&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>service</span><span class=p>:</span> <span class=n>BusinessService</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;래핑할 서비스 객체를 받아 초기화&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_service</span> <span class=o>=</span> <span class=n>service</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;기본적으로는 래핑된 서비스에게 작업을 위임&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_service</span><span class=o>.</span><span class=n>process_data</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 4. 구체적 데코레이터들</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>LoggingDecorator</span><span class=p>(</span><span class=n>ServiceDecorator</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;로깅 기능을 추가하는 데코레이터&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;메서드 실행 전후로 로깅 기능 추가&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[LOG] Starting to process data: </span><span class=si>{</span><span class=n>data</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 래핑된 서비스의 메서드 호출</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_service</span><span class=o>.</span><span class=n>process_data</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[LOG] Finished processing. Result: </span><span class=si>{</span><span class=n>result</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SecurityDecorator</span><span class=p>(</span><span class=n>ServiceDecorator</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;보안 검증 기능을 추가하는 데코레이터&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>service</span><span class=p>:</span> <span class=n>BusinessService</span><span class=p>,</span> <span class=n>required_role</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&#34;USER&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;보안 데코레이터 초기화 - 필요한 권한 설정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>service</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>required_role</span> <span class=o>=</span> <span class=n>required_role</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>current_user_role</span> <span class=o>=</span> <span class=s2>&#34;ADMIN&#34;</span>  <span class=c1># 실제로는 인증 시스템에서 가져옴</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;보안 검증 후 데이터 처리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[SECURITY] Checking access for role: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>required_role</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 권한 검증 로직</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_has_permission</span><span class=p>():</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=ne>PermissionError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Access denied. Required role: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>required_role</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[SECURITY] Access granted for user with role: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>current_user_role</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 검증 통과 후 다음 단계로 진행</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_service</span><span class=o>.</span><span class=n>process_data</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_has_permission</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;권한 검증 로직 (실제로는 더 복잡한 로직)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>role_hierarchy</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;ADMIN&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>&#34;USER&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;GUEST&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>role_hierarchy</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>current_user_role</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span> <span class=o>&gt;=</span> <span class=n>role_hierarchy</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>required_role</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>TransactionDecorator</span><span class=p>(</span><span class=n>ServiceDecorator</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;트랜잭션 관리 기능을 추가하는 데코레이터&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;트랜잭션 내에서 데이터 처리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>transaction_id</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_begin_transaction</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[TRANSACTION] Started transaction: </span><span class=si>{</span><span class=n>transaction_id</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 실제 비즈니스 로직 실행</span>
</span></span><span class=line><span class=cl>            <span class=n>result</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_service</span><span class=o>.</span><span class=n>process_data</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_commit_transaction</span><span class=p>(</span><span class=n>transaction_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[TRANSACTION] Committed transaction: </span><span class=si>{</span><span class=n>transaction_id</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_rollback_transaction</span><span class=p>(</span><span class=n>transaction_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[TRANSACTION] Rolled back transaction: </span><span class=si>{</span><span class=n>transaction_id</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=n>e</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_begin_transaction</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;트랜잭션 시작&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>transaction_id</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;tx_</span><span class=si>{</span><span class=nb>int</span><span class=p>(</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>*</span> <span class=mi>1000</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># 실제로는 데이터베이스 트랜잭션 시작</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>transaction_id</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_commit_transaction</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>transaction_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;트랜잭션 커밋&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># 실제로는 데이터베이스 커밋 수행</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_rollback_transaction</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>transaction_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;트랜잭션 롤백&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># 실제로는 데이터베이스 롤백 수행</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PerformanceDecorator</span><span class=p>(</span><span class=n>ServiceDecorator</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;성능 측정 기능을 추가하는 데코레이터&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;실행 시간을 측정하여 성능 모니터링&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[PERFORMANCE] Starting execution measurement&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 래핑된 서비스 실행</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_service</span><span class=o>.</span><span class=n>process_data</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>end_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>execution_time</span> <span class=o>=</span> <span class=p>(</span><span class=n>end_time</span> <span class=o>-</span> <span class=n>start_time</span><span class=p>)</span> <span class=o>*</span> <span class=mi>1000</span>  <span class=c1># 밀리초 단위</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[PERFORMANCE] Execution completed in </span><span class=si>{</span><span class=n>execution_time</span><span class=si>:</span><span class=s2>f</span><span class=si>}</span><span class=s2>ms&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 성능 임계값 검사</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>execution_time</span> <span class=o>&gt;</span> <span class=mi>1000</span><span class=p>:</span>  <span class=c1># 1초 초과시 경고</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[PERFORMANCE] WARNING: Slow execution detected!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 5. 함수형 데코레이터 구현 (Python의 함수 데코레이터 활용)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>timing_decorator</span><span class=p>(</span><span class=n>func</span><span class=p>:</span> <span class=n>Callable</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Callable</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;함수 실행 시간을 측정하는 함수형 데코레이터&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@functools.wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>end_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[TIMING] </span><span class=si>{</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2> executed in </span><span class=si>{</span><span class=p>(</span><span class=n>end_time</span> <span class=o>-</span> <span class=n>start_time</span><span class=p>)</span><span class=o>*</span><span class=mi>1000</span><span class=si>:</span><span class=s2>f</span><span class=si>}</span><span class=s2>ms&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>wrapper</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>logging_decorator</span><span class=p>(</span><span class=n>func</span><span class=p>:</span> <span class=n>Callable</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Callable</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;함수 호출을 로깅하는 함수형 데코레이터&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@functools.wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[FUNC_LOG] Calling </span><span class=si>{</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2> with args: </span><span class=si>{</span><span class=n>args</span><span class=si>}</span><span class=s2>, kwargs: </span><span class=si>{</span><span class=n>kwargs</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[FUNC_LOG] </span><span class=si>{</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2> returned: </span><span class=si>{</span><span class=n>result</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>wrapper</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 6. 데코레이터 팩토리 패턴</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ServiceDecoratorFactory</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;데코레이터 조합을 쉽게 생성하기 위한 팩토리 클래스&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@staticmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_full_stack_service</span><span class=p>(</span><span class=n>base_service</span><span class=p>:</span> <span class=n>BusinessService</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>BusinessService</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;모든 기능이 포함된 서비스 스택을 생성&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># 데코레이터를 순서대로 적용 (안쪽부터 바깥쪽으로)</span>
</span></span><span class=line><span class=cl>        <span class=n>decorated_service</span> <span class=o>=</span> <span class=n>base_service</span>
</span></span><span class=line><span class=cl>        <span class=n>decorated_service</span> <span class=o>=</span> <span class=n>TransactionDecorator</span><span class=p>(</span><span class=n>decorated_service</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>decorated_service</span> <span class=o>=</span> <span class=n>SecurityDecorator</span><span class=p>(</span><span class=n>decorated_service</span><span class=p>,</span> <span class=s2>&#34;USER&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>decorated_service</span> <span class=o>=</span> <span class=n>LoggingDecorator</span><span class=p>(</span><span class=n>decorated_service</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>decorated_service</span> <span class=o>=</span> <span class=n>PerformanceDecorator</span><span class=p>(</span><span class=n>decorated_service</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>decorated_service</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@staticmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_basic_service</span><span class=p>(</span><span class=n>base_service</span><span class=p>:</span> <span class=n>BusinessService</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>BusinessService</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;기본 로깅과 성능 측정만 포함된 서비스&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>decorated_service</span> <span class=o>=</span> <span class=n>base_service</span>
</span></span><span class=line><span class=cl>        <span class=n>decorated_service</span> <span class=o>=</span> <span class=n>LoggingDecorator</span><span class=p>(</span><span class=n>decorated_service</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>decorated_service</span> <span class=o>=</span> <span class=n>PerformanceDecorator</span><span class=p>(</span><span class=n>decorated_service</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>decorated_service</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 7. 사용 예시</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;데코레이터 패턴 사용 예시&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;=== Decorator Pattern 구현 예시 ===</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 기본 서비스 생성</span>
</span></span><span class=line><span class=cl>    <span class=n>user_service</span> <span class=o>=</span> <span class=n>UserService</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;1. 기본 서비스 실행:&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;-&#34;</span> <span class=o>*</span> <span class=mi>40</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>result1</span> <span class=o>=</span> <span class=n>user_service</span><span class=o>.</span><span class=n>process_data</span><span class=p>(</span><span class=s2>&#34;John Doe&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;결과: </span><span class=si>{</span><span class=n>result1</span><span class=si>}</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;2. 로깅 데코레이터 적용:&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;-&#34;</span> <span class=o>*</span> <span class=mi>40</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>logged_service</span> <span class=o>=</span> <span class=n>LoggingDecorator</span><span class=p>(</span><span class=n>user_service</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>result2</span> <span class=o>=</span> <span class=n>logged_service</span><span class=o>.</span><span class=n>process_data</span><span class=p>(</span><span class=s2>&#34;Jane Smith&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;결과: </span><span class=si>{</span><span class=n>result2</span><span class=si>}</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;3. 여러 데코레이터 조합 (수동):&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;-&#34;</span> <span class=o>*</span> <span class=mi>40</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># 중첩하여 여러 데코레이터 적용</span>
</span></span><span class=line><span class=cl>    <span class=n>complex_service</span> <span class=o>=</span> <span class=n>PerformanceDecorator</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>LoggingDecorator</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>SecurityDecorator</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=n>TransactionDecorator</span><span class=p>(</span><span class=n>user_service</span><span class=p>),</span> 
</span></span><span class=line><span class=cl>                <span class=s2>&#34;USER&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>result3</span> <span class=o>=</span> <span class=n>complex_service</span><span class=o>.</span><span class=n>process_data</span><span class=p>(</span><span class=s2>&#34;Bob Johnson&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;결과: </span><span class=si>{</span><span class=n>result3</span><span class=si>}</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;4. 팩토리를 사용한 서비스 생성:&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;-&#34;</span> <span class=o>*</span> <span class=mi>40</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>full_stack_service</span> <span class=o>=</span> <span class=n>ServiceDecoratorFactory</span><span class=o>.</span><span class=n>create_full_stack_service</span><span class=p>(</span><span class=n>user_service</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>result4</span> <span class=o>=</span> <span class=n>full_stack_service</span><span class=o>.</span><span class=n>process_data</span><span class=p>(</span><span class=s2>&#34;Alice Brown&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;결과: </span><span class=si>{</span><span class=n>result4</span><span class=si>}</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;5. 함수형 데코레이터 예시:&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;-&#34;</span> <span class=o>*</span> <span class=mi>40</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@timing_decorator</span>
</span></span><span class=line><span class=cl>    <span class=nd>@logging_decorator</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>simple_function</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;간단한 함수에 데코레이터 적용&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>  <span class=c1># 시뮬레이션을 위한 지연</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;Hello, </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>!&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>result5</span> <span class=o>=</span> <span class=n>simple_function</span><span class=p>(</span><span class=s2>&#34;Charlie&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;결과: </span><span class=si>{</span><span class=n>result5</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=javascript-웹-미들웨어-체인>JavaScript: 웹 미들웨어 체인<a hidden class=anchor aria-hidden=true href=#javascript-웹-미들웨어-체인>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1> 1</a>
</span><span class=lnt id=hl-23-2><a class=lnlinks href=#hl-23-2> 2</a>
</span><span class=lnt id=hl-23-3><a class=lnlinks href=#hl-23-3> 3</a>
</span><span class=lnt id=hl-23-4><a class=lnlinks href=#hl-23-4> 4</a>
</span><span class=lnt id=hl-23-5><a class=lnlinks href=#hl-23-5> 5</a>
</span><span class=lnt id=hl-23-6><a class=lnlinks href=#hl-23-6> 6</a>
</span><span class=lnt id=hl-23-7><a class=lnlinks href=#hl-23-7> 7</a>
</span><span class=lnt id=hl-23-8><a class=lnlinks href=#hl-23-8> 8</a>
</span><span class=lnt id=hl-23-9><a class=lnlinks href=#hl-23-9> 9</a>
</span><span class=lnt id=hl-23-10><a class=lnlinks href=#hl-23-10>10</a>
</span><span class=lnt id=hl-23-11><a class=lnlinks href=#hl-23-11>11</a>
</span><span class=lnt id=hl-23-12><a class=lnlinks href=#hl-23-12>12</a>
</span><span class=lnt id=hl-23-13><a class=lnlinks href=#hl-23-13>13</a>
</span><span class=lnt id=hl-23-14><a class=lnlinks href=#hl-23-14>14</a>
</span><span class=lnt id=hl-23-15><a class=lnlinks href=#hl-23-15>15</a>
</span><span class=lnt id=hl-23-16><a class=lnlinks href=#hl-23-16>16</a>
</span><span class=lnt id=hl-23-17><a class=lnlinks href=#hl-23-17>17</a>
</span><span class=lnt id=hl-23-18><a class=lnlinks href=#hl-23-18>18</a>
</span><span class=lnt id=hl-23-19><a class=lnlinks href=#hl-23-19>19</a>
</span><span class=lnt id=hl-23-20><a class=lnlinks href=#hl-23-20>20</a>
</span><span class=lnt id=hl-23-21><a class=lnlinks href=#hl-23-21>21</a>
</span><span class=lnt id=hl-23-22><a class=lnlinks href=#hl-23-22>22</a>
</span><span class=lnt id=hl-23-23><a class=lnlinks href=#hl-23-23>23</a>
</span><span class=lnt id=hl-23-24><a class=lnlinks href=#hl-23-24>24</a>
</span><span class=lnt id=hl-23-25><a class=lnlinks href=#hl-23-25>25</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Base Handler
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>baseHandler</span><span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>send</span><span class=p>(</span><span class=s2>&#34;요청 처리 완료&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Decorator 생성
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>loggerDecorator</span><span class=p>(</span><span class=nx>handler</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`[LOG] </span><span class=si>${</span><span class=nx>req</span><span class=p>.</span><span class=nx>url</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>handler</span><span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>authDecorator</span><span class=p>(</span><span class=nx>handler</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>req</span><span class=p>.</span><span class=nx>headers</span><span class=p>.</span><span class=nx>authorization</span> <span class=o>!==</span> <span class=s2>&#34;secret&#34;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>403</span><span class=p>).</span><span class=nx>send</span><span class=p>(</span><span class=s2>&#34;Forbidden&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>handler</span><span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 데코레이터 체인 적용
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>finalHandler</span> <span class=o>=</span> <span class=nx>loggerDecorator</span><span class=p>(</span><span class=nx>authDecorator</span><span class=p>(</span><span class=nx>baseHandler</span><span class=p>));</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=python-커피-주문-시스템템>Python: 커피 주문 시스템템<a hidden class=anchor aria-hidden=true href=#python-커피-주문-시스템템>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1>  1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2>  2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3>  3</a>
</span><span class=lnt id=hl-24-4><a class=lnlinks href=#hl-24-4>  4</a>
</span><span class=lnt id=hl-24-5><a class=lnlinks href=#hl-24-5>  5</a>
</span><span class=lnt id=hl-24-6><a class=lnlinks href=#hl-24-6>  6</a>
</span><span class=lnt id=hl-24-7><a class=lnlinks href=#hl-24-7>  7</a>
</span><span class=lnt id=hl-24-8><a class=lnlinks href=#hl-24-8>  8</a>
</span><span class=lnt id=hl-24-9><a class=lnlinks href=#hl-24-9>  9</a>
</span><span class=lnt id=hl-24-10><a class=lnlinks href=#hl-24-10> 10</a>
</span><span class=lnt id=hl-24-11><a class=lnlinks href=#hl-24-11> 11</a>
</span><span class=lnt id=hl-24-12><a class=lnlinks href=#hl-24-12> 12</a>
</span><span class=lnt id=hl-24-13><a class=lnlinks href=#hl-24-13> 13</a>
</span><span class=lnt id=hl-24-14><a class=lnlinks href=#hl-24-14> 14</a>
</span><span class=lnt id=hl-24-15><a class=lnlinks href=#hl-24-15> 15</a>
</span><span class=lnt id=hl-24-16><a class=lnlinks href=#hl-24-16> 16</a>
</span><span class=lnt id=hl-24-17><a class=lnlinks href=#hl-24-17> 17</a>
</span><span class=lnt id=hl-24-18><a class=lnlinks href=#hl-24-18> 18</a>
</span><span class=lnt id=hl-24-19><a class=lnlinks href=#hl-24-19> 19</a>
</span><span class=lnt id=hl-24-20><a class=lnlinks href=#hl-24-20> 20</a>
</span><span class=lnt id=hl-24-21><a class=lnlinks href=#hl-24-21> 21</a>
</span><span class=lnt id=hl-24-22><a class=lnlinks href=#hl-24-22> 22</a>
</span><span class=lnt id=hl-24-23><a class=lnlinks href=#hl-24-23> 23</a>
</span><span class=lnt id=hl-24-24><a class=lnlinks href=#hl-24-24> 24</a>
</span><span class=lnt id=hl-24-25><a class=lnlinks href=#hl-24-25> 25</a>
</span><span class=lnt id=hl-24-26><a class=lnlinks href=#hl-24-26> 26</a>
</span><span class=lnt id=hl-24-27><a class=lnlinks href=#hl-24-27> 27</a>
</span><span class=lnt id=hl-24-28><a class=lnlinks href=#hl-24-28> 28</a>
</span><span class=lnt id=hl-24-29><a class=lnlinks href=#hl-24-29> 29</a>
</span><span class=lnt id=hl-24-30><a class=lnlinks href=#hl-24-30> 30</a>
</span><span class=lnt id=hl-24-31><a class=lnlinks href=#hl-24-31> 31</a>
</span><span class=lnt id=hl-24-32><a class=lnlinks href=#hl-24-32> 32</a>
</span><span class=lnt id=hl-24-33><a class=lnlinks href=#hl-24-33> 33</a>
</span><span class=lnt id=hl-24-34><a class=lnlinks href=#hl-24-34> 34</a>
</span><span class=lnt id=hl-24-35><a class=lnlinks href=#hl-24-35> 35</a>
</span><span class=lnt id=hl-24-36><a class=lnlinks href=#hl-24-36> 36</a>
</span><span class=lnt id=hl-24-37><a class=lnlinks href=#hl-24-37> 37</a>
</span><span class=lnt id=hl-24-38><a class=lnlinks href=#hl-24-38> 38</a>
</span><span class=lnt id=hl-24-39><a class=lnlinks href=#hl-24-39> 39</a>
</span><span class=lnt id=hl-24-40><a class=lnlinks href=#hl-24-40> 40</a>
</span><span class=lnt id=hl-24-41><a class=lnlinks href=#hl-24-41> 41</a>
</span><span class=lnt id=hl-24-42><a class=lnlinks href=#hl-24-42> 42</a>
</span><span class=lnt id=hl-24-43><a class=lnlinks href=#hl-24-43> 43</a>
</span><span class=lnt id=hl-24-44><a class=lnlinks href=#hl-24-44> 44</a>
</span><span class=lnt id=hl-24-45><a class=lnlinks href=#hl-24-45> 45</a>
</span><span class=lnt id=hl-24-46><a class=lnlinks href=#hl-24-46> 46</a>
</span><span class=lnt id=hl-24-47><a class=lnlinks href=#hl-24-47> 47</a>
</span><span class=lnt id=hl-24-48><a class=lnlinks href=#hl-24-48> 48</a>
</span><span class=lnt id=hl-24-49><a class=lnlinks href=#hl-24-49> 49</a>
</span><span class=lnt id=hl-24-50><a class=lnlinks href=#hl-24-50> 50</a>
</span><span class=lnt id=hl-24-51><a class=lnlinks href=#hl-24-51> 51</a>
</span><span class=lnt id=hl-24-52><a class=lnlinks href=#hl-24-52> 52</a>
</span><span class=lnt id=hl-24-53><a class=lnlinks href=#hl-24-53> 53</a>
</span><span class=lnt id=hl-24-54><a class=lnlinks href=#hl-24-54> 54</a>
</span><span class=lnt id=hl-24-55><a class=lnlinks href=#hl-24-55> 55</a>
</span><span class=lnt id=hl-24-56><a class=lnlinks href=#hl-24-56> 56</a>
</span><span class=lnt id=hl-24-57><a class=lnlinks href=#hl-24-57> 57</a>
</span><span class=lnt id=hl-24-58><a class=lnlinks href=#hl-24-58> 58</a>
</span><span class=lnt id=hl-24-59><a class=lnlinks href=#hl-24-59> 59</a>
</span><span class=lnt id=hl-24-60><a class=lnlinks href=#hl-24-60> 60</a>
</span><span class=lnt id=hl-24-61><a class=lnlinks href=#hl-24-61> 61</a>
</span><span class=lnt id=hl-24-62><a class=lnlinks href=#hl-24-62> 62</a>
</span><span class=lnt id=hl-24-63><a class=lnlinks href=#hl-24-63> 63</a>
</span><span class=lnt id=hl-24-64><a class=lnlinks href=#hl-24-64> 64</a>
</span><span class=lnt id=hl-24-65><a class=lnlinks href=#hl-24-65> 65</a>
</span><span class=lnt id=hl-24-66><a class=lnlinks href=#hl-24-66> 66</a>
</span><span class=lnt id=hl-24-67><a class=lnlinks href=#hl-24-67> 67</a>
</span><span class=lnt id=hl-24-68><a class=lnlinks href=#hl-24-68> 68</a>
</span><span class=lnt id=hl-24-69><a class=lnlinks href=#hl-24-69> 69</a>
</span><span class=lnt id=hl-24-70><a class=lnlinks href=#hl-24-70> 70</a>
</span><span class=lnt id=hl-24-71><a class=lnlinks href=#hl-24-71> 71</a>
</span><span class=lnt id=hl-24-72><a class=lnlinks href=#hl-24-72> 72</a>
</span><span class=lnt id=hl-24-73><a class=lnlinks href=#hl-24-73> 73</a>
</span><span class=lnt id=hl-24-74><a class=lnlinks href=#hl-24-74> 74</a>
</span><span class=lnt id=hl-24-75><a class=lnlinks href=#hl-24-75> 75</a>
</span><span class=lnt id=hl-24-76><a class=lnlinks href=#hl-24-76> 76</a>
</span><span class=lnt id=hl-24-77><a class=lnlinks href=#hl-24-77> 77</a>
</span><span class=lnt id=hl-24-78><a class=lnlinks href=#hl-24-78> 78</a>
</span><span class=lnt id=hl-24-79><a class=lnlinks href=#hl-24-79> 79</a>
</span><span class=lnt id=hl-24-80><a class=lnlinks href=#hl-24-80> 80</a>
</span><span class=lnt id=hl-24-81><a class=lnlinks href=#hl-24-81> 81</a>
</span><span class=lnt id=hl-24-82><a class=lnlinks href=#hl-24-82> 82</a>
</span><span class=lnt id=hl-24-83><a class=lnlinks href=#hl-24-83> 83</a>
</span><span class=lnt id=hl-24-84><a class=lnlinks href=#hl-24-84> 84</a>
</span><span class=lnt id=hl-24-85><a class=lnlinks href=#hl-24-85> 85</a>
</span><span class=lnt id=hl-24-86><a class=lnlinks href=#hl-24-86> 86</a>
</span><span class=lnt id=hl-24-87><a class=lnlinks href=#hl-24-87> 87</a>
</span><span class=lnt id=hl-24-88><a class=lnlinks href=#hl-24-88> 88</a>
</span><span class=lnt id=hl-24-89><a class=lnlinks href=#hl-24-89> 89</a>
</span><span class=lnt id=hl-24-90><a class=lnlinks href=#hl-24-90> 90</a>
</span><span class=lnt id=hl-24-91><a class=lnlinks href=#hl-24-91> 91</a>
</span><span class=lnt id=hl-24-92><a class=lnlinks href=#hl-24-92> 92</a>
</span><span class=lnt id=hl-24-93><a class=lnlinks href=#hl-24-93> 93</a>
</span><span class=lnt id=hl-24-94><a class=lnlinks href=#hl-24-94> 94</a>
</span><span class=lnt id=hl-24-95><a class=lnlinks href=#hl-24-95> 95</a>
</span><span class=lnt id=hl-24-96><a class=lnlinks href=#hl-24-96> 96</a>
</span><span class=lnt id=hl-24-97><a class=lnlinks href=#hl-24-97> 97</a>
</span><span class=lnt id=hl-24-98><a class=lnlinks href=#hl-24-98> 98</a>
</span><span class=lnt id=hl-24-99><a class=lnlinks href=#hl-24-99> 99</a>
</span><span class=lnt id=hl-24-100><a class=lnlinks href=#hl-24-100>100</a>
</span><span class=lnt id=hl-24-101><a class=lnlinks href=#hl-24-101>101</a>
</span><span class=lnt id=hl-24-102><a class=lnlinks href=#hl-24-102>102</a>
</span><span class=lnt id=hl-24-103><a class=lnlinks href=#hl-24-103>103</a>
</span><span class=lnt id=hl-24-104><a class=lnlinks href=#hl-24-104>104</a>
</span><span class=lnt id=hl-24-105><a class=lnlinks href=#hl-24-105>105</a>
</span><span class=lnt id=hl-24-106><a class=lnlinks href=#hl-24-106>106</a>
</span><span class=lnt id=hl-24-107><a class=lnlinks href=#hl-24-107>107</a>
</span><span class=lnt id=hl-24-108><a class=lnlinks href=#hl-24-108>108</a>
</span><span class=lnt id=hl-24-109><a class=lnlinks href=#hl-24-109>109</a>
</span><span class=lnt id=hl-24-110><a class=lnlinks href=#hl-24-110>110</a>
</span><span class=lnt id=hl-24-111><a class=lnlinks href=#hl-24-111>111</a>
</span><span class=lnt id=hl-24-112><a class=lnlinks href=#hl-24-112>112</a>
</span><span class=lnt id=hl-24-113><a class=lnlinks href=#hl-24-113>113</a>
</span><span class=lnt id=hl-24-114><a class=lnlinks href=#hl-24-114>114</a>
</span><span class=lnt id=hl-24-115><a class=lnlinks href=#hl-24-115>115</a>
</span><span class=lnt id=hl-24-116><a class=lnlinks href=#hl-24-116>116</a>
</span><span class=lnt id=hl-24-117><a class=lnlinks href=#hl-24-117>117</a>
</span><span class=lnt id=hl-24-118><a class=lnlinks href=#hl-24-118>118</a>
</span><span class=lnt id=hl-24-119><a class=lnlinks href=#hl-24-119>119</a>
</span><span class=lnt id=hl-24-120><a class=lnlinks href=#hl-24-120>120</a>
</span><span class=lnt id=hl-24-121><a class=lnlinks href=#hl-24-121>121</a>
</span><span class=lnt id=hl-24-122><a class=lnlinks href=#hl-24-122>122</a>
</span><span class=lnt id=hl-24-123><a class=lnlinks href=#hl-24-123>123</a>
</span><span class=lnt id=hl-24-124><a class=lnlinks href=#hl-24-124>124</a>
</span><span class=lnt id=hl-24-125><a class=lnlinks href=#hl-24-125>125</a>
</span><span class=lnt id=hl-24-126><a class=lnlinks href=#hl-24-126>126</a>
</span><span class=lnt id=hl-24-127><a class=lnlinks href=#hl-24-127>127</a>
</span><span class=lnt id=hl-24-128><a class=lnlinks href=#hl-24-128>128</a>
</span><span class=lnt id=hl-24-129><a class=lnlinks href=#hl-24-129>129</a>
</span><span class=lnt id=hl-24-130><a class=lnlinks href=#hl-24-130>130</a>
</span><span class=lnt id=hl-24-131><a class=lnlinks href=#hl-24-131>131</a>
</span><span class=lnt id=hl-24-132><a class=lnlinks href=#hl-24-132>132</a>
</span><span class=lnt id=hl-24-133><a class=lnlinks href=#hl-24-133>133</a>
</span><span class=lnt id=hl-24-134><a class=lnlinks href=#hl-24-134>134</a>
</span><span class=lnt id=hl-24-135><a class=lnlinks href=#hl-24-135>135</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>abc</span> <span class=kn>import</span> <span class=n>ABC</span><span class=p>,</span> <span class=n>abstractmethod</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>List</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Component interface</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Coffee</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Base Coffee interface&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_cost</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_ingredients</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_description</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Concrete component</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SimpleCoffee</span><span class=p>(</span><span class=n>Coffee</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Basic coffee implementation&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_cost</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=mf>2.0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_ingredients</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>[</span><span class=s2>&#34;Coffee&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_description</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;Simple coffee&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Base decorator</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CoffeeDecorator</span><span class=p>(</span><span class=n>Coffee</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Base decorator class&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>coffee</span><span class=p>:</span> <span class=n>Coffee</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_coffee</span> <span class=o>=</span> <span class=n>coffee</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_cost</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_coffee</span><span class=o>.</span><span class=n>get_cost</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_ingredients</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_coffee</span><span class=o>.</span><span class=n>get_ingredients</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_description</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_coffee</span><span class=o>.</span><span class=n>get_description</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Concrete decorators</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MilkDecorator</span><span class=p>(</span><span class=n>CoffeeDecorator</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Adds milk to the coffee&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_cost</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>get_cost</span><span class=p>()</span> <span class=o>+</span> <span class=mf>0.5</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_ingredients</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>get_ingredients</span><span class=p>()</span> <span class=o>+</span> <span class=p>[</span><span class=s2>&#34;Milk&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_description</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>get_description</span><span class=p>()</span><span class=si>}</span><span class=s2>, with steamed milk&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>WhipDecorator</span><span class=p>(</span><span class=n>CoffeeDecorator</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Adds whipped cream to the coffee&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_cost</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>get_cost</span><span class=p>()</span> <span class=o>+</span> <span class=mf>0.7</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_ingredients</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>get_ingredients</span><span class=p>()</span> <span class=o>+</span> <span class=p>[</span><span class=s2>&#34;Whipped Cream&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_description</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>get_description</span><span class=p>()</span><span class=si>}</span><span class=s2>, topped with whipped cream&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CaramelDecorator</span><span class=p>(</span><span class=n>CoffeeDecorator</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Adds caramel to the coffee&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_cost</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>get_cost</span><span class=p>()</span> <span class=o>+</span> <span class=mf>0.6</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_ingredients</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>get_ingredients</span><span class=p>()</span> <span class=o>+</span> <span class=p>[</span><span class=s2>&#34;Caramel&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_description</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>get_description</span><span class=p>()</span><span class=si>}</span><span class=s2>, drizzled with caramel&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ExtraShotDecorator</span><span class=p>(</span><span class=n>CoffeeDecorator</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Adds an extra shot of espresso&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_cost</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>get_cost</span><span class=p>()</span> <span class=o>+</span> <span class=mf>1.0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_ingredients</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>get_ingredients</span><span class=p>()</span> <span class=o>+</span> <span class=p>[</span><span class=s2>&#34;Extra Espresso Shot&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_description</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>get_description</span><span class=p>()</span><span class=si>}</span><span class=s2>, with an extra shot&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Order management</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CoffeeOrder</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Manages coffee orders and provides order summary&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>coffee</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_order</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;Creates a new coffee order starting with simple coffee&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>coffee</span> <span class=o>=</span> <span class=n>SimpleCoffee</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add_milk</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>coffee</span> <span class=o>=</span> <span class=n>MilkDecorator</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>coffee</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add_whip</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>coffee</span> <span class=o>=</span> <span class=n>WhipDecorator</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>coffee</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add_caramel</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>coffee</span> <span class=o>=</span> <span class=n>CaramelDecorator</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>coffee</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add_extra_shot</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>coffee</span> <span class=o>=</span> <span class=n>ExtraShotDecorator</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>coffee</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_order_summary</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;Generates a summary of the current order&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        Order Summary:
</span></span></span><span class=line><span class=cl><span class=s2>        Description: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>coffee</span><span class=o>.</span><span class=n>get_description</span><span class=p>()</span><span class=si>}</span><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>        Ingredients: </span><span class=si>{</span><span class=s1>&#39;, &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>coffee</span><span class=o>.</span><span class=n>get_ingredients</span><span class=p>())</span><span class=si>}</span><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>        Total Cost: $</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>coffee</span><span class=o>.</span><span class=n>get_cost</span><span class=p>()</span><span class=si>:</span><span class=s2>f</span><span class=si>}</span><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Usage example</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># Create a new order</span>
</span></span><span class=line><span class=cl>    <span class=n>order</span> <span class=o>=</span> <span class=n>CoffeeOrder</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>order</span><span class=o>.</span><span class=n>create_order</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Customize the coffee with various additions</span>
</span></span><span class=line><span class=cl>    <span class=n>order</span><span class=o>.</span><span class=n>add_milk</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>order</span><span class=o>.</span><span class=n>add_extra_shot</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>order</span><span class=o>.</span><span class=n>add_whip</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>order</span><span class=o>.</span><span class=n>add_caramel</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Print the order summary</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>order</span><span class=o>.</span><span class=n>get_order_summary</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=javascript-text-processing>Javascript: Text Processing<a hidden class=anchor aria-hidden=true href=#javascript-text-processing>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1>  1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2>  2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3>  3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4>  4</a>
</span><span class=lnt id=hl-25-5><a class=lnlinks href=#hl-25-5>  5</a>
</span><span class=lnt id=hl-25-6><a class=lnlinks href=#hl-25-6>  6</a>
</span><span class=lnt id=hl-25-7><a class=lnlinks href=#hl-25-7>  7</a>
</span><span class=lnt id=hl-25-8><a class=lnlinks href=#hl-25-8>  8</a>
</span><span class=lnt id=hl-25-9><a class=lnlinks href=#hl-25-9>  9</a>
</span><span class=lnt id=hl-25-10><a class=lnlinks href=#hl-25-10> 10</a>
</span><span class=lnt id=hl-25-11><a class=lnlinks href=#hl-25-11> 11</a>
</span><span class=lnt id=hl-25-12><a class=lnlinks href=#hl-25-12> 12</a>
</span><span class=lnt id=hl-25-13><a class=lnlinks href=#hl-25-13> 13</a>
</span><span class=lnt id=hl-25-14><a class=lnlinks href=#hl-25-14> 14</a>
</span><span class=lnt id=hl-25-15><a class=lnlinks href=#hl-25-15> 15</a>
</span><span class=lnt id=hl-25-16><a class=lnlinks href=#hl-25-16> 16</a>
</span><span class=lnt id=hl-25-17><a class=lnlinks href=#hl-25-17> 17</a>
</span><span class=lnt id=hl-25-18><a class=lnlinks href=#hl-25-18> 18</a>
</span><span class=lnt id=hl-25-19><a class=lnlinks href=#hl-25-19> 19</a>
</span><span class=lnt id=hl-25-20><a class=lnlinks href=#hl-25-20> 20</a>
</span><span class=lnt id=hl-25-21><a class=lnlinks href=#hl-25-21> 21</a>
</span><span class=lnt id=hl-25-22><a class=lnlinks href=#hl-25-22> 22</a>
</span><span class=lnt id=hl-25-23><a class=lnlinks href=#hl-25-23> 23</a>
</span><span class=lnt id=hl-25-24><a class=lnlinks href=#hl-25-24> 24</a>
</span><span class=lnt id=hl-25-25><a class=lnlinks href=#hl-25-25> 25</a>
</span><span class=lnt id=hl-25-26><a class=lnlinks href=#hl-25-26> 26</a>
</span><span class=lnt id=hl-25-27><a class=lnlinks href=#hl-25-27> 27</a>
</span><span class=lnt id=hl-25-28><a class=lnlinks href=#hl-25-28> 28</a>
</span><span class=lnt id=hl-25-29><a class=lnlinks href=#hl-25-29> 29</a>
</span><span class=lnt id=hl-25-30><a class=lnlinks href=#hl-25-30> 30</a>
</span><span class=lnt id=hl-25-31><a class=lnlinks href=#hl-25-31> 31</a>
</span><span class=lnt id=hl-25-32><a class=lnlinks href=#hl-25-32> 32</a>
</span><span class=lnt id=hl-25-33><a class=lnlinks href=#hl-25-33> 33</a>
</span><span class=lnt id=hl-25-34><a class=lnlinks href=#hl-25-34> 34</a>
</span><span class=lnt id=hl-25-35><a class=lnlinks href=#hl-25-35> 35</a>
</span><span class=lnt id=hl-25-36><a class=lnlinks href=#hl-25-36> 36</a>
</span><span class=lnt id=hl-25-37><a class=lnlinks href=#hl-25-37> 37</a>
</span><span class=lnt id=hl-25-38><a class=lnlinks href=#hl-25-38> 38</a>
</span><span class=lnt id=hl-25-39><a class=lnlinks href=#hl-25-39> 39</a>
</span><span class=lnt id=hl-25-40><a class=lnlinks href=#hl-25-40> 40</a>
</span><span class=lnt id=hl-25-41><a class=lnlinks href=#hl-25-41> 41</a>
</span><span class=lnt id=hl-25-42><a class=lnlinks href=#hl-25-42> 42</a>
</span><span class=lnt id=hl-25-43><a class=lnlinks href=#hl-25-43> 43</a>
</span><span class=lnt id=hl-25-44><a class=lnlinks href=#hl-25-44> 44</a>
</span><span class=lnt id=hl-25-45><a class=lnlinks href=#hl-25-45> 45</a>
</span><span class=lnt id=hl-25-46><a class=lnlinks href=#hl-25-46> 46</a>
</span><span class=lnt id=hl-25-47><a class=lnlinks href=#hl-25-47> 47</a>
</span><span class=lnt id=hl-25-48><a class=lnlinks href=#hl-25-48> 48</a>
</span><span class=lnt id=hl-25-49><a class=lnlinks href=#hl-25-49> 49</a>
</span><span class=lnt id=hl-25-50><a class=lnlinks href=#hl-25-50> 50</a>
</span><span class=lnt id=hl-25-51><a class=lnlinks href=#hl-25-51> 51</a>
</span><span class=lnt id=hl-25-52><a class=lnlinks href=#hl-25-52> 52</a>
</span><span class=lnt id=hl-25-53><a class=lnlinks href=#hl-25-53> 53</a>
</span><span class=lnt id=hl-25-54><a class=lnlinks href=#hl-25-54> 54</a>
</span><span class=lnt id=hl-25-55><a class=lnlinks href=#hl-25-55> 55</a>
</span><span class=lnt id=hl-25-56><a class=lnlinks href=#hl-25-56> 56</a>
</span><span class=lnt id=hl-25-57><a class=lnlinks href=#hl-25-57> 57</a>
</span><span class=lnt id=hl-25-58><a class=lnlinks href=#hl-25-58> 58</a>
</span><span class=lnt id=hl-25-59><a class=lnlinks href=#hl-25-59> 59</a>
</span><span class=lnt id=hl-25-60><a class=lnlinks href=#hl-25-60> 60</a>
</span><span class=lnt id=hl-25-61><a class=lnlinks href=#hl-25-61> 61</a>
</span><span class=lnt id=hl-25-62><a class=lnlinks href=#hl-25-62> 62</a>
</span><span class=lnt id=hl-25-63><a class=lnlinks href=#hl-25-63> 63</a>
</span><span class=lnt id=hl-25-64><a class=lnlinks href=#hl-25-64> 64</a>
</span><span class=lnt id=hl-25-65><a class=lnlinks href=#hl-25-65> 65</a>
</span><span class=lnt id=hl-25-66><a class=lnlinks href=#hl-25-66> 66</a>
</span><span class=lnt id=hl-25-67><a class=lnlinks href=#hl-25-67> 67</a>
</span><span class=lnt id=hl-25-68><a class=lnlinks href=#hl-25-68> 68</a>
</span><span class=lnt id=hl-25-69><a class=lnlinks href=#hl-25-69> 69</a>
</span><span class=lnt id=hl-25-70><a class=lnlinks href=#hl-25-70> 70</a>
</span><span class=lnt id=hl-25-71><a class=lnlinks href=#hl-25-71> 71</a>
</span><span class=lnt id=hl-25-72><a class=lnlinks href=#hl-25-72> 72</a>
</span><span class=lnt id=hl-25-73><a class=lnlinks href=#hl-25-73> 73</a>
</span><span class=lnt id=hl-25-74><a class=lnlinks href=#hl-25-74> 74</a>
</span><span class=lnt id=hl-25-75><a class=lnlinks href=#hl-25-75> 75</a>
</span><span class=lnt id=hl-25-76><a class=lnlinks href=#hl-25-76> 76</a>
</span><span class=lnt id=hl-25-77><a class=lnlinks href=#hl-25-77> 77</a>
</span><span class=lnt id=hl-25-78><a class=lnlinks href=#hl-25-78> 78</a>
</span><span class=lnt id=hl-25-79><a class=lnlinks href=#hl-25-79> 79</a>
</span><span class=lnt id=hl-25-80><a class=lnlinks href=#hl-25-80> 80</a>
</span><span class=lnt id=hl-25-81><a class=lnlinks href=#hl-25-81> 81</a>
</span><span class=lnt id=hl-25-82><a class=lnlinks href=#hl-25-82> 82</a>
</span><span class=lnt id=hl-25-83><a class=lnlinks href=#hl-25-83> 83</a>
</span><span class=lnt id=hl-25-84><a class=lnlinks href=#hl-25-84> 84</a>
</span><span class=lnt id=hl-25-85><a class=lnlinks href=#hl-25-85> 85</a>
</span><span class=lnt id=hl-25-86><a class=lnlinks href=#hl-25-86> 86</a>
</span><span class=lnt id=hl-25-87><a class=lnlinks href=#hl-25-87> 87</a>
</span><span class=lnt id=hl-25-88><a class=lnlinks href=#hl-25-88> 88</a>
</span><span class=lnt id=hl-25-89><a class=lnlinks href=#hl-25-89> 89</a>
</span><span class=lnt id=hl-25-90><a class=lnlinks href=#hl-25-90> 90</a>
</span><span class=lnt id=hl-25-91><a class=lnlinks href=#hl-25-91> 91</a>
</span><span class=lnt id=hl-25-92><a class=lnlinks href=#hl-25-92> 92</a>
</span><span class=lnt id=hl-25-93><a class=lnlinks href=#hl-25-93> 93</a>
</span><span class=lnt id=hl-25-94><a class=lnlinks href=#hl-25-94> 94</a>
</span><span class=lnt id=hl-25-95><a class=lnlinks href=#hl-25-95> 95</a>
</span><span class=lnt id=hl-25-96><a class=lnlinks href=#hl-25-96> 96</a>
</span><span class=lnt id=hl-25-97><a class=lnlinks href=#hl-25-97> 97</a>
</span><span class=lnt id=hl-25-98><a class=lnlinks href=#hl-25-98> 98</a>
</span><span class=lnt id=hl-25-99><a class=lnlinks href=#hl-25-99> 99</a>
</span><span class=lnt id=hl-25-100><a class=lnlinks href=#hl-25-100>100</a>
</span><span class=lnt id=hl-25-101><a class=lnlinks href=#hl-25-101>101</a>
</span><span class=lnt id=hl-25-102><a class=lnlinks href=#hl-25-102>102</a>
</span><span class=lnt id=hl-25-103><a class=lnlinks href=#hl-25-103>103</a>
</span><span class=lnt id=hl-25-104><a class=lnlinks href=#hl-25-104>104</a>
</span><span class=lnt id=hl-25-105><a class=lnlinks href=#hl-25-105>105</a>
</span><span class=lnt id=hl-25-106><a class=lnlinks href=#hl-25-106>106</a>
</span><span class=lnt id=hl-25-107><a class=lnlinks href=#hl-25-107>107</a>
</span><span class=lnt id=hl-25-108><a class=lnlinks href=#hl-25-108>108</a>
</span><span class=lnt id=hl-25-109><a class=lnlinks href=#hl-25-109>109</a>
</span><span class=lnt id=hl-25-110><a class=lnlinks href=#hl-25-110>110</a>
</span><span class=lnt id=hl-25-111><a class=lnlinks href=#hl-25-111>111</a>
</span><span class=lnt id=hl-25-112><a class=lnlinks href=#hl-25-112>112</a>
</span><span class=lnt id=hl-25-113><a class=lnlinks href=#hl-25-113>113</a>
</span><span class=lnt id=hl-25-114><a class=lnlinks href=#hl-25-114>114</a>
</span><span class=lnt id=hl-25-115><a class=lnlinks href=#hl-25-115>115</a>
</span><span class=lnt id=hl-25-116><a class=lnlinks href=#hl-25-116>116</a>
</span><span class=lnt id=hl-25-117><a class=lnlinks href=#hl-25-117>117</a>
</span><span class=lnt id=hl-25-118><a class=lnlinks href=#hl-25-118>118</a>
</span><span class=lnt id=hl-25-119><a class=lnlinks href=#hl-25-119>119</a>
</span><span class=lnt id=hl-25-120><a class=lnlinks href=#hl-25-120>120</a>
</span><span class=lnt id=hl-25-121><a class=lnlinks href=#hl-25-121>121</a>
</span><span class=lnt id=hl-25-122><a class=lnlinks href=#hl-25-122>122</a>
</span><span class=lnt id=hl-25-123><a class=lnlinks href=#hl-25-123>123</a>
</span><span class=lnt id=hl-25-124><a class=lnlinks href=#hl-25-124>124</a>
</span><span class=lnt id=hl-25-125><a class=lnlinks href=#hl-25-125>125</a>
</span><span class=lnt id=hl-25-126><a class=lnlinks href=#hl-25-126>126</a>
</span><span class=lnt id=hl-25-127><a class=lnlinks href=#hl-25-127>127</a>
</span><span class=lnt id=hl-25-128><a class=lnlinks href=#hl-25-128>128</a>
</span><span class=lnt id=hl-25-129><a class=lnlinks href=#hl-25-129>129</a>
</span><span class=lnt id=hl-25-130><a class=lnlinks href=#hl-25-130>130</a>
</span><span class=lnt id=hl-25-131><a class=lnlinks href=#hl-25-131>131</a>
</span><span class=lnt id=hl-25-132><a class=lnlinks href=#hl-25-132>132</a>
</span><span class=lnt id=hl-25-133><a class=lnlinks href=#hl-25-133>133</a>
</span><span class=lnt id=hl-25-134><a class=lnlinks href=#hl-25-134>134</a>
</span><span class=lnt id=hl-25-135><a class=lnlinks href=#hl-25-135>135</a>
</span><span class=lnt id=hl-25-136><a class=lnlinks href=#hl-25-136>136</a>
</span><span class=lnt id=hl-25-137><a class=lnlinks href=#hl-25-137>137</a>
</span><span class=lnt id=hl-25-138><a class=lnlinks href=#hl-25-138>138</a>
</span><span class=lnt id=hl-25-139><a class=lnlinks href=#hl-25-139>139</a>
</span><span class=lnt id=hl-25-140><a class=lnlinks href=#hl-25-140>140</a>
</span><span class=lnt id=hl-25-141><a class=lnlinks href=#hl-25-141>141</a>
</span><span class=lnt id=hl-25-142><a class=lnlinks href=#hl-25-142>142</a>
</span><span class=lnt id=hl-25-143><a class=lnlinks href=#hl-25-143>143</a>
</span><span class=lnt id=hl-25-144><a class=lnlinks href=#hl-25-144>144</a>
</span><span class=lnt id=hl-25-145><a class=lnlinks href=#hl-25-145>145</a>
</span><span class=lnt id=hl-25-146><a class=lnlinks href=#hl-25-146>146</a>
</span><span class=lnt id=hl-25-147><a class=lnlinks href=#hl-25-147>147</a>
</span><span class=lnt id=hl-25-148><a class=lnlinks href=#hl-25-148>148</a>
</span><span class=lnt id=hl-25-149><a class=lnlinks href=#hl-25-149>149</a>
</span><span class=lnt id=hl-25-150><a class=lnlinks href=#hl-25-150>150</a>
</span><span class=lnt id=hl-25-151><a class=lnlinks href=#hl-25-151>151</a>
</span><span class=lnt id=hl-25-152><a class=lnlinks href=#hl-25-152>152</a>
</span><span class=lnt id=hl-25-153><a class=lnlinks href=#hl-25-153>153</a>
</span><span class=lnt id=hl-25-154><a class=lnlinks href=#hl-25-154>154</a>
</span><span class=lnt id=hl-25-155><a class=lnlinks href=#hl-25-155>155</a>
</span><span class=lnt id=hl-25-156><a class=lnlinks href=#hl-25-156>156</a>
</span><span class=lnt id=hl-25-157><a class=lnlinks href=#hl-25-157>157</a>
</span><span class=lnt id=hl-25-158><a class=lnlinks href=#hl-25-158>158</a>
</span><span class=lnt id=hl-25-159><a class=lnlinks href=#hl-25-159>159</a>
</span><span class=lnt id=hl-25-160><a class=lnlinks href=#hl-25-160>160</a>
</span><span class=lnt id=hl-25-161><a class=lnlinks href=#hl-25-161>161</a>
</span><span class=lnt id=hl-25-162><a class=lnlinks href=#hl-25-162>162</a>
</span><span class=lnt id=hl-25-163><a class=lnlinks href=#hl-25-163>163</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Component interface
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>TextProcessor</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>constructor</span> <span class=o>===</span> <span class=nx>TextProcessor</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s2>&#34;Abstract class cannot be instantiated&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>process</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s2>&#34;Method &#39;process&#39; must be implemented&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Concrete component
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>SimpleTextProcessor</span> <span class=kr>extends</span> <span class=nx>TextProcessor</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>process</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>text</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Base decorator
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>TextProcessorDecorator</span> <span class=kr>extends</span> <span class=nx>TextProcessor</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>(</span><span class=nx>processor</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>super</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>_processor</span> <span class=o>=</span> <span class=nx>processor</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>process</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>_processor</span><span class=p>.</span><span class=nx>process</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Concrete decorators
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>CapitalizeDecorator</span> <span class=kr>extends</span> <span class=nx>TextProcessorDecorator</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>process</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>processedText</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>_processor</span><span class=p>.</span><span class=nx>process</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>processedText</span><span class=p>.</span><span class=nx>toUpperCase</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>TrimDecorator</span> <span class=kr>extends</span> <span class=nx>TextProcessorDecorator</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>process</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>processedText</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>_processor</span><span class=p>.</span><span class=nx>process</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>processedText</span><span class=p>.</span><span class=nx>trim</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>HTMLEscapeDecorator</span> <span class=kr>extends</span> <span class=nx>TextProcessorDecorator</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>process</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>processedText</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>_processor</span><span class=p>.</span><span class=nx>process</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>processedText</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=sr>/&amp;/g</span><span class=p>,</span> <span class=s2>&#34;&amp;amp;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=sr>/&lt;/g</span><span class=p>,</span> <span class=s2>&#34;&amp;lt;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=sr>/&gt;/g</span><span class=p>,</span> <span class=s2>&#34;&amp;gt;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=sr>/&#34;/g</span><span class=p>,</span> <span class=s2>&#34;&amp;quot;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=sr>/&#39;/g</span><span class=p>,</span> <span class=s2>&#34;&amp;#039;&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>MarkdownToHTMLDecorator</span> <span class=kr>extends</span> <span class=nx>TextProcessorDecorator</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>process</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>processedText</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>_processor</span><span class=p>.</span><span class=nx>process</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>processedText</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=sr>/\*\*(.*?)\*\*/g</span><span class=p>,</span> <span class=s1>&#39;&lt;strong&gt;$1&lt;/strong&gt;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=sr>/\*(.*?)\*/g</span><span class=p>,</span> <span class=s1>&#39;&lt;em&gt;$1&lt;/em&gt;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=sr>/\[(.*?)\]\((.*?)\)/g</span><span class=p>,</span> <span class=s1>&#39;&lt;a href=&#34;$2&#34;&gt;$1&lt;/a&gt;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=sr>/^# (.*$)/gm</span><span class=p>,</span> <span class=s1>&#39;&lt;h1&gt;$1&lt;/h1&gt;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=sr>/^## (.*$)/gm</span><span class=p>,</span> <span class=s1>&#39;&lt;h2&gt;$1&lt;/h2&gt;&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>ValidationDecorator</span> <span class=kr>extends</span> <span class=nx>TextProcessorDecorator</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>(</span><span class=nx>processor</span><span class=p>,</span> <span class=nx>maxLength</span> <span class=o>=</span> <span class=mi>1000</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>super</span><span class=p>(</span><span class=nx>processor</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>maxLength</span> <span class=o>=</span> <span class=nx>maxLength</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>process</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s2>&#34;Text cannot be empty&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>text</span><span class=p>.</span><span class=nx>length</span> <span class=o>&gt;</span> <span class=k>this</span><span class=p>.</span><span class=nx>maxLength</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=sb>`Text length exceeds maximum limit of </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>maxLength</span><span class=si>}</span><span class=sb> characters`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>_processor</span><span class=p>.</span><span class=nx>process</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Text processing manager
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>TextProcessingManager</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>processor</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>SimpleTextProcessor</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>history</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>addCapitalization</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>processor</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>CapitalizeDecorator</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>processor</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>addTrimming</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>processor</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>TrimDecorator</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>processor</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>addHTMLEscaping</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>processor</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>HTMLEscapeDecorator</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>processor</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>addMarkdownProcessing</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>processor</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>MarkdownToHTMLDecorator</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>processor</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>addValidation</span><span class=p>(</span><span class=nx>maxLength</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>processor</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>ValidationDecorator</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>processor</span><span class=p>,</span> <span class=nx>maxLength</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>process</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>processor</span><span class=p>.</span><span class=nx>process</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>history</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span>
</span></span><span class=line><span class=cl>            <span class=nx>input</span><span class=o>:</span> <span class=nx>text</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>output</span><span class=o>:</span> <span class=nx>result</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>timestamp</span><span class=o>:</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>getProcessingHistory</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>history</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Usage example
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>manager</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>TextProcessingManager</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Configure text processing chain
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>manager</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>addValidation</span><span class=p>(</span><span class=mi>2000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>addTrimming</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>addMarkdownProcessing</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>addHTMLEscaping</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Process some text
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>input</span> <span class=o>=</span> <span class=sb>`
</span></span></span><span class=line><span class=cl><span class=sb>    # Welcome to Text Processing
</span></span></span><span class=line><span class=cl><span class=sb>    
</span></span></span><span class=line><span class=cl><span class=sb>    This is a **bold** and *italic* text example.
</span></span></span><span class=line><span class=cl><span class=sb>    [Click here](https://example.com) to learn more.
</span></span></span><span class=line><span class=cl><span class=sb>    `</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>manager</span><span class=p>.</span><span class=nx>process</span><span class=p>(</span><span class=nx>input</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Processed text:&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;\nProcessing history:&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>manager</span><span class=p>.</span><span class=nx>getProcessingHistory</span><span class=p>());</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s2>&#34;Error processing text:&#34;</span><span class=p>,</span> <span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=실무에서-효과적으로-적용하기-위한-고려사항>실무에서 효과적으로 적용하기 위한 고려사항<a hidden class=anchor aria-hidden=true href=#실무에서-효과적으로-적용하기-위한-고려사항>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>고려사항</strong></th><th><strong>설명</strong></th><th><strong>권장사항</strong></th></tr></thead><tbody><tr><td><strong>설계</strong></td><td>인터페이스 설계 안정성</td><td>미래 확장을 고려한 추상화 수준 결정</td><td>변경 가능성이 낮은 핵심 인터페이스로 설계</td></tr><tr><td></td><td>책임 분리 (SRP)</td><td>각 데코레이터는 하나의 책임만 가지도록 구성</td><td>단일 책임 원칙 (SRP) 준수</td></tr><tr><td></td><td>데코레이터 명명 규칙</td><td>기능이 명확하게 드러나도록 클래스 명 지정</td><td>예: <code>AuthLoggerDecorator</code>, <code>EncryptedMessageDecorator</code></td></tr><tr><td></td><td>중복 기능 방지</td><td>여러 데코레이터에서 동일한 기능 중복 구현 방지</td><td>기능 구성 시 중복 여부 검토, 공통 베이스 추상화</td></tr><tr><td></td><td>데코레이터 적용 순서</td><td>순서에 따라 실행 결과가 달라질 수 있음</td><td>적용 순서 정의, 설계 문서화, 테스트 기반 검증</td></tr><tr><td><strong>구현</strong></td><td>예외 처리 전략</td><td>체인 중간에서 발생하는 예외의 전파 및 복구 관리 필요</td><td>각 데코레이터별 예외 처리 책임 명확화</td></tr><tr><td></td><td>의존성 최소화</td><td>데코레이터 간 불필요한 결합을 방지하여 유연성 확보</td><td>느슨한 결합, 인터페이스 기반 구성</td></tr><tr><td></td><td>메모리 생명주기 관리</td><td>중첩 구조가 많아질 경우 GC 대상이 아닌 객체가 남을 수 있음</td><td>가비지 컬렉션 최적화, 참조 해제 고려</td></tr><tr><td><strong>성능 최적화</strong></td><td>체인 깊이 제한</td><td>중첩이 깊어질수록 호출 오버헤드 발생 가능</td><td>최대 4~5 단계 이내로 구성, 캐싱/프록시/지연 평가 등 활용</td></tr><tr><td></td><td>불필요한 데코레이터 최소화</td><td>기능이 겹치거나 필요하지 않은 데코레이터를 제거하여 성능 유지</td><td>런타임 조건 기반으로 적용 여부 판단</td></tr><tr><td><strong>테스트 전략</strong></td><td>단위 테스트 가능성</td><td>개별 데코레이터 기능 테스트 용이성 확보</td><td>Mock, Stub 활용한 독립 테스트 구성</td></tr><tr><td></td><td>조합 테스트</td><td>여러 데코레이터를 조합한 전체 동작 검증 필요</td><td>통합 테스트 케이스 설계</td></tr><tr><td><strong>유지보수/문서화</strong></td><td>조합 구조 문서화</td><td>어떤 데코레이터가 어떤 순서로 어떤 기능을 제공하는지 명확히 설명 필요</td><td>클래스 다이어그램, 시퀀스 다이어그램, 예시 코드 포함</td></tr><tr><td></td><td>사용 가이드 작성</td><td>팀원 간의 적용 방식 일관성 유지</td><td>적용 순서 매트릭스, 제한 사항, 사용 방법 명세</td></tr><tr><td><strong>배포/운영</strong></td><td>의존성 관리</td><td>데코레이터 간 결합으로 인한 배포/빌드 복잡성 발생 가능</td><td>구성 설정 기반 적용, DI 컨테이너를 통한 주입 구조로 분리</td></tr></tbody></table><ul><li><strong>설계</strong>: SRP 와 확장성 고려한 추상화가 핵심</li><li><strong>구현</strong>: 체인 구조와 예외, 생명주기 관리</li><li><strong>성능</strong>: 체인 깊이 제한, 중복 최소화</li><li><strong>테스트</strong>: 단위/조합 테스트 병행</li><li><strong>운영</strong>: 의존성 관리와 문서화 필요</li></ul><h4 id=테스트-전략>테스트 전략<a hidden class=anchor aria-hidden=true href=#테스트-전략>#</a></h4><h5 id=단위-테스트>단위 테스트<a hidden class=anchor aria-hidden=true href=#단위-테스트>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1>1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2>2</a>
</span><span class=lnt id=hl-26-3><a class=lnlinks href=#hl-26-3>3</a>
</span><span class=lnt id=hl-26-4><a class=lnlinks href=#hl-26-4>4</a>
</span><span class=lnt id=hl-26-5><a class=lnlinks href=#hl-26-5>5</a>
</span><span class=lnt id=hl-26-6><a class=lnlinks href=#hl-26-6>6</a>
</span><span class=lnt id=hl-26-7><a class=lnlinks href=#hl-26-7>7</a>
</span><span class=lnt id=hl-26-8><a class=lnlinks href=#hl-26-8>8</a>
</span><span class=lnt id=hl-26-9><a class=lnlinks href=#hl-26-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>test_individual_decorator</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># 각 데코레이터를 독립적으로 테스트</span>
</span></span><span class=line><span class=cl>    <span class=n>base_service</span> <span class=o>=</span> <span class=n>MockService</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>logging_service</span> <span class=o>=</span> <span class=n>LoggingDecorator</span><span class=p>(</span><span class=n>base_service</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>result</span> <span class=o>=</span> <span class=n>logging_service</span><span class=o>.</span><span class=n>process</span><span class=p>(</span><span class=s2>&#34;test&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>assert</span> <span class=n>result</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>    <span class=k>assert</span> <span class=n>base_service</span><span class=o>.</span><span class=n>was_called</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=통합-테스트>통합 테스트<a hidden class=anchor aria-hidden=true href=#통합-테스트>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1>1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2>2</a>
</span><span class=lnt id=hl-27-3><a class=lnlinks href=#hl-27-3>3</a>
</span><span class=lnt id=hl-27-4><a class=lnlinks href=#hl-27-4>4</a>
</span><span class=lnt id=hl-27-5><a class=lnlinks href=#hl-27-5>5</a>
</span><span class=lnt id=hl-27-6><a class=lnlinks href=#hl-27-6>6</a>
</span><span class=lnt id=hl-27-7><a class=lnlinks href=#hl-27-7>7</a>
</span><span class=lnt id=hl-27-8><a class=lnlinks href=#hl-27-8>8</a>
</span><span class=lnt id=hl-27-9><a class=lnlinks href=#hl-27-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>test_decorator_chain</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># 데코레이터 체인 전체 테스트</span>
</span></span><span class=line><span class=cl>    <span class=n>service</span> <span class=o>=</span> <span class=n>create_decorated_service</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>result</span> <span class=o>=</span> <span class=n>service</span><span class=o>.</span><span class=n>process</span><span class=p>(</span><span class=s2>&#34;integration_test&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>assert_logging_occurred</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>assert_security_checked</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>assert_transaction_managed</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=성능-테스트>성능 테스트<a hidden class=anchor aria-hidden=true href=#성능-테스트>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-28-1><a class=lnlinks href=#hl-28-1>1</a>
</span><span class=lnt id=hl-28-2><a class=lnlinks href=#hl-28-2>2</a>
</span><span class=lnt id=hl-28-3><a class=lnlinks href=#hl-28-3>3</a>
</span><span class=lnt id=hl-28-4><a class=lnlinks href=#hl-28-4>4</a>
</span><span class=lnt id=hl-28-5><a class=lnlinks href=#hl-28-5>5</a>
</span><span class=lnt id=hl-28-6><a class=lnlinks href=#hl-28-6>6</a>
</span><span class=lnt id=hl-28-7><a class=lnlinks href=#hl-28-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>test_performance_overhead</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># 데코레이터로 인한 성능 영향 측정</span>
</span></span><span class=line><span class=cl>    <span class=n>base_time</span> <span class=o>=</span> <span class=n>measure_execution_time</span><span class=p>(</span><span class=n>base_service</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>decorated_time</span> <span class=o>=</span> <span class=n>measure_execution_time</span><span class=p>(</span><span class=n>decorated_service</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>overhead</span> <span class=o>=</span> <span class=p>(</span><span class=n>decorated_time</span> <span class=o>-</span> <span class=n>base_time</span><span class=p>)</span> <span class=o>/</span> <span class=n>base_time</span>
</span></span><span class=line><span class=cl>    <span class=k>assert</span> <span class=n>overhead</span> <span class=o>&lt;</span> <span class=mf>0.1</span>  <span class=c1># 10% 이하 오버헤드</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=리팩토링-전략>리팩토링 전략<a hidden class=anchor aria-hidden=true href=#리팩토링-전략>#</a></h4><h5 id=상속에서-데코레이터로-리팩토링>상속에서 데코레이터로 리팩토링<a hidden class=anchor aria-hidden=true href=#상속에서-데코레이터로-리팩토링>#</a></h5><p><strong>Before (상속 기반):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-29-1><a class=lnlinks href=#hl-29-1>1</a>
</span><span class=lnt id=hl-29-2><a class=lnlinks href=#hl-29-2>2</a>
</span><span class=lnt id=hl-29-3><a class=lnlinks href=#hl-29-3>3</a>
</span><span class=lnt id=hl-29-4><a class=lnlinks href=#hl-29-4>4</a>
</span><span class=lnt id=hl-29-5><a class=lnlinks href=#hl-29-5>5</a>
</span><span class=lnt id=hl-29-6><a class=lnlinks href=#hl-29-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>LoggingUserService</span><span class=p>(</span><span class=n>UserService</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>log</span><span class=p>(</span><span class=s2>&#34;Processing started&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>process</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>log</span><span class=p>(</span><span class=s2>&#34;Processing completed&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>After (데코레이터 기반):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-30-1><a class=lnlinks href=#hl-30-1>1</a>
</span><span class=lnt id=hl-30-2><a class=lnlinks href=#hl-30-2>2</a>
</span><span class=lnt id=hl-30-3><a class=lnlinks href=#hl-30-3>3</a>
</span><span class=lnt id=hl-30-4><a class=lnlinks href=#hl-30-4>4</a>
</span><span class=lnt id=hl-30-5><a class=lnlinks href=#hl-30-5>5</a>
</span><span class=lnt id=hl-30-6><a class=lnlinks href=#hl-30-6>6</a>
</span><span class=lnt id=hl-30-7><a class=lnlinks href=#hl-30-7>7</a>
</span><span class=lnt id=hl-30-8><a class=lnlinks href=#hl-30-8>8</a>
</span><span class=lnt id=hl-30-9><a class=lnlinks href=#hl-30-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>LoggingDecorator</span><span class=p>(</span><span class=n>ServiceDecorator</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>log</span><span class=p>(</span><span class=s2>&#34;Processing started&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_service</span><span class=o>.</span><span class=n>process</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>log</span><span class=p>(</span><span class=s2>&#34;Processing completed&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용</span>
</span></span><span class=line><span class=cl><span class=n>service</span> <span class=o>=</span> <span class=n>LoggingDecorator</span><span class=p>(</span><span class=n>UserService</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=점진적-마이그레이션>점진적 마이그레이션<a hidden class=anchor aria-hidden=true href=#점진적-마이그레이션>#</a></h5><ol><li><strong>1 단계</strong>: 기존 클래스를 래핑하는 데코레이터 생성</li><li><strong>2 단계</strong>: 클라이언트 코드를 데코레이터 사용으로 변경</li><li><strong>3 단계</strong>: 기존 상속 구조 제거</li></ol><h4 id=활용-시-흔한-실수>활용 시 흔한 실수<a hidden class=anchor aria-hidden=true href=#활용-시-흔한-실수>#</a></h4><h5 id=순서-의존성-간과>순서 의존성 간과<a hidden class=anchor aria-hidden=true href=#순서-의존성-간과>#</a></h5><p><strong>문제</strong>: 데코레이터 적용 순서에 따라 결과가 달라짐</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-31-1><a class=lnlinks href=#hl-31-1>1</a>
</span><span class=lnt id=hl-31-2><a class=lnlinks href=#hl-31-2>2</a>
</span><span class=lnt id=hl-31-3><a class=lnlinks href=#hl-31-3>3</a>
</span><span class=lnt id=hl-31-4><a class=lnlinks href=#hl-31-4>4</a>
</span><span class=lnt id=hl-31-5><a class=lnlinks href=#hl-31-5>5</a>
</span><span class=lnt id=hl-31-6><a class=lnlinks href=#hl-31-6>6</a>
</span><span class=lnt id=hl-31-7><a class=lnlinks href=#hl-31-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 잘못된 순서</span>
</span></span><span class=line><span class=cl><span class=n>service</span> <span class=o>=</span> <span class=n>SecurityDecorator</span><span class=p>(</span><span class=n>LoggingDecorator</span><span class=p>(</span><span class=n>base_service</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1># 보안 검사 전에 로깅이 발생</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 올바른 순서  </span>
</span></span><span class=line><span class=cl><span class=n>service</span> <span class=o>=</span> <span class=n>LoggingDecorator</span><span class=p>(</span><span class=n>SecurityDecorator</span><span class=p>(</span><span class=n>base_service</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1># 보안 검사 후에만 로깅 발생</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=과도한-래핑>과도한 래핑<a hidden class=anchor aria-hidden=true href=#과도한-래핑>#</a></h5><p><strong>문제</strong>: 불필요하게 많은 데코레이터 적용<br><strong>해결책</strong>: 필요한 기능만 선별적으로 적용</p><h5 id=타입-안전성-무시>타입 안전성 무시<a hidden class=anchor aria-hidden=true href=#타입-안전성-무시>#</a></h5><p><strong>문제</strong>: 런타임에만 오류 발견<br><strong>해결책</strong>: 제네릭스나 타입 힌트 활용</p><h5 id=메모리-누수>메모리 누수<a hidden class=anchor aria-hidden=true href=#메모리-누수>#</a></h5><p><strong>문제</strong>: 순환 참조로 인한 메모리 누수<br><strong>해결책</strong>: 약한 참조 사용, 명시적 정리 메서드 제공</p><h3 id=최적화하기-위한-고려사항-및-주의할-점>최적화하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#최적화하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>최적화 항목</strong></th><th><strong>설명</strong></th><th><strong>권장사항</strong></th></tr></thead><tbody><tr><td><strong>설계/구조 최적화</strong></td><td>데코레이터 중첩 제한</td><td>과도한 중첩은 호출 스택 증가 및 유지보수 복잡도 초래</td><td>최대 중첩 깊이 제한, 경고 시스템 구축</td></tr><tr><td></td><td>데코레이터 조합 최적화</td><td>동일 조합 반복 시 성능 저하 및 코드 중복 발생 가능</td><td>자주 사용되는 조합을 위한 전용 데코레이터 클래스 정의</td></tr><tr><td></td><td>필요 최소한의 데코레이터 사용</td><td>모든 기능을 데코레이터로 분리 시 복잡도/오버헤드 증가</td><td>기능 간소화 및 단일 책임 원칙 준수</td></tr><tr><td><strong>성능 개선 전략</strong></td><td>호출 오버헤드 최적화</td><td>메서드 호출 체인 깊어질수록 실행 성능 저하</td><td>인라인 최적화, 프록시 캐싱, 불필요한 체인 제거</td></tr><tr><td></td><td>Lazy Initialization</td><td>필요 시점에만 데코레이터 활성화하여 리소스 절약</td><td>Lazy 로딩 기법 적용 (<code>@lazy</code>, <code>Supplier</code> 패턴 등)</td></tr><tr><td></td><td>비동기 데코레이터 실행</td><td>독립적인 데코레이터는 병렬로 실행 가능</td><td><code>async</code>, <code>CompletableFuture</code>, <code>Promise</code> 등 활용</td></tr><tr><td></td><td>캐싱 및 메모이제이션</td><td>동일 입력에 대한 중복 계산 제거로 응답 시간 단축</td><td>데코레이터 캐싱 전략 설계 (예: LRU, TTL 기반 캐시)</td></tr><tr><td><strong>메모리 관리</strong></td><td>객체 풀링</td><td>동일한 데코레이터 인스턴스를 재사용하여 메모리 소모 최소화</td><td>객체 풀 관리 또는 싱글턴 적용 (Thread-safe 고려 필요)</td></tr><tr><td></td><td>GC 유도 / 수명 관리</td><td>사용 후 데코레이터의 불필요 참조로 인해 메모리 누수 발생 가능</td><td>약한 참조 (WeakReference), 수명 관리 및 명시적 제거</td></tr><tr><td><strong>테스트 및 품질</strong></td><td>테스트 용이성 확보</td><td>데코레이터 체인 내 개별 요소의 검증 필요</td><td>Mock 객체 기반 단위 테스트, 체인 조합 자동 테스트</td></tr><tr><td></td><td>중복 기능 제거</td><td>유사 기능의 데코레이터가 중복 정의될 수 있음</td><td>공통 기능을 상위 데코레이터로 통합</td></tr><tr><td><strong>개발 생산성</strong></td><td>반복 코드 자동화</td><td>유사한 데코레이터 코드가 반복될 경우 개발 효율 저하</td><td>어노테이션 프로세서, 코드 생성기 (CodeGen), 메타프로그래밍 활용</td></tr><tr><td><strong>모니터링/분석</strong></td><td>성능 추적 및 프로파일링</td><td>데코레이터 체인에서 병목 구간 식별 필요</td><td>APM 도구 (NewRelic, Datadog 등), OpenTelemetry 연동</td></tr><tr><td></td><td>실행 시간 측정</td><td>데코레이터별 처리 시간 또는 리소스 사용량 확인 필요</td><td>데코레이터 단위 측정 로직 삽입 (로깅, 타이머 등)</td></tr><tr><td></td><td>디버깅 지원</td><td>중첩 구조에서 오류 추적이 어려울 수 있음</td><td>체인 구조 시각화, 로깅 레벨 세분화, 디버그 플래그 제공</td></tr></tbody></table><h3 id=주제와-관련하여-주목할-내용>주제와 관련하여 주목할 내용<a hidden class=anchor aria-hidden=true href=#주제와-관련하여-주목할-내용>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>주제</strong></th><th><strong>항목</strong></th><th><strong>설명</strong></th></tr></thead><tbody><tr><td><strong>설계 패턴 핵심</strong></td><td>데코레이터 패턴</td><td>유연성</td><td>런타임에 기능 추가/제거 가능</td></tr><tr><td></td><td></td><td>확장성</td><td>새로운 기능을 기존 객체 변경 없이 확장 가능</td></tr><tr><td></td><td></td><td>일관성</td><td>기본 객체와 데코레이터가 동일한 인터페이스를 공유</td></tr><tr><td></td><td></td><td>스트림/UI 활용</td><td>Java I/O, UI 컴포넌트 구조 등에서 대표적으로 활용됨</td></tr><tr><td><strong>객체지향 원칙/구조</strong></td><td>SOLID 원칙</td><td>OCP / SRP</td><td>개방 - 폐쇄 원칙 및 단일 책임 원칙의 대표 적용 사례</td></tr><tr><td></td><td>상속 vs 합성</td><td>합성/위임 구조 사용</td><td>상속 대신 객체 포함과 위임을 통해 기능을 확장</td></tr><tr><td></td><td>책임 분리</td><td>기능 계층화</td><td>각 데코레이터는 하나의 책임만 가지도록 설계</td></tr><tr><td><strong>관련 디자인 패턴 비교</strong></td><td>구조적 패턴 비교</td><td>프록시 / 어댑터 / 컴포지트 / 전략 패턴</td><td>구조는 유사하지만 목적과 사용 방식이 다른 유사 패턴들과의 비교 분석</td></tr><tr><td></td><td>AOP 와의 차이</td><td>데코레이터 vs AOP</td><td>AOP 는 런타임 자동 처리 / 데코레이터는 명시적 정적 조합</td></tr><tr><td><strong>구현 전략</strong></td><td>컴포지션</td><td>객체 포함 기반 구조</td><td>위임을 통해 기능을 조합하고 확장</td></tr><tr><td></td><td>위임</td><td>내부 객체에게 기능 위임</td><td>데코레이터는 실제 기능을 포함된 객체에게 위임함</td></tr><tr><td></td><td>재귀적 컴포지션</td><td>중첩된 구조</td><td>다단계 데코레이터를 계층적으로 조합</td></tr><tr><td></td><td>투명성</td><td>클라이언트 관점에서 원본/데코레이터 구분 없음</td><td>API 일관성 유지</td></tr><tr><td></td><td>동적 프록시</td><td>런타임 데코레이터 생성</td><td>Java DynamicProxy, Python decorators, CGLib 등 활용</td></tr><tr><td><strong>함수형 프로그래밍</strong></td><td>고차 함수</td><td>함수형 데코레이터</td><td>함수를 인자로 받아 확장된 함수를 반환 (JS, Python 등)</td></tr><tr><td></td><td>커링</td><td>함수 분리와 데코레이터 결합</td><td>함수를 부분 적용하여 데코레이터로 응용</td></tr><tr><td><strong>메타프로그래밍/리플렉션</strong></td><td>어노테이션 / 리플렉션 기반</td><td>선언적 데코레이터 구성</td><td>Spring AOP, NestJS 데코레이터 등에서 활용되는 기반 기술</td></tr><tr><td></td><td>IoC 통합</td><td>DI 컨테이너 내 데코레이터 자동 등록</td><td>Autofac, Scrutor 등에서의 데코레이터 스캔 및 구성</td></tr><tr><td><strong>성능 및 최적화</strong></td><td>캐싱</td><td>메모이제이션 적용</td><td>계산 결과를 캐싱하여 성능 향상</td></tr><tr><td></td><td>호출 오버헤드</td><td>체인 수 증가에 따른 성능 저하 가능성</td><td>경량 구조 설계, 체인 최소화</td></tr><tr><td></td><td>성능 모니터링</td><td>관찰성 도구 연계</td><td>OpenTelemetry 등으로 성능 측정 및 추적</td></tr><tr><td><strong>동시성 및 안정성</strong></td><td>스레드 안전성</td><td>Thread-safe 데코레이터 구현</td><td>멀티스레드 환경에서의 동시 접근 보호</td></tr><tr><td><strong>클라우드/아키텍처 적용</strong></td><td>서버리스 / 메시 구조</td><td>데코레이터 기반 미들웨어 처리 구조</td><td>API Gateway, Serverless 미들웨어, Filter Chain 등 구조화</td></tr><tr><td></td><td>서비스 메시 / 사이드카 패턴</td><td>횡단 관심사 분리 처리</td><td>로깅, 인증, 트래픽 제어 등을 보조 컴포넌트로 위임</td></tr><tr><td><strong>테스트 전략</strong></td><td>단위 테스트 / 모킹</td><td>데코레이터 객체의 개별/조합 테스트 방법</td><td>Mock Decorator 설계 및 의존성 격리를 통한 테스트</td></tr><tr><td></td><td>테스트 자동화</td><td>데코레이터 체인의 테스트 시나리오 구성</td><td>시나리오 기반 테스트 및 성능 테스트 적용 가능</td></tr><tr><td><strong>프레임워크 적용 예시</strong></td><td>Java I/O Stream</td><td>InputStream 데코레이터 구조</td><td>Java 에서의 데코레이터 대표적 사례 (BufferedInputStream 등)</td></tr><tr><td></td><td>Express / NestJS</td><td>요청 흐름을 장식하는 데코레이터 구조</td><td>Request/Response 전후 처리 미들웨어 구조</td></tr><tr><td></td><td>Spring AOP</td><td>Aspect 기반 선언적 데코레이터 적용</td><td>횡단 관심사 로직을 어노테이션으로 분리 적용</td></tr></tbody></table><h3 id=반드시-학습해야할-내용들>반드시 학습해야할 내용들<a hidden class=anchor aria-hidden=true href=#반드시-학습해야할-내용들>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>주제</strong></th><th><strong>세부 항목/설명</strong></th></tr></thead><tbody><tr><td><strong>디자인 패턴 비교</strong></td><td>구조적 패턴 차이 이해</td><td>Decorator vs Proxy / Adapter / Composite / Bridge 비교 분석</td></tr><tr><td></td><td>책임 연쇄 패턴과 비교</td><td>Chain of Responsibility 패턴과의 흐름/의도/연결 방식 비교</td></tr><tr><td><strong>객체지향 설계 원칙</strong></td><td>SOLID 원칙 적용</td><td>SRP (단일 책임 원칙), OCP (개방 - 폐쇄 원칙) 의 실제 적용 배경 및 코드 구조 영향</td></tr><tr><td></td><td>상속 vs 합성</td><td>컴포지션 기반 위임 구조가 상속 대비 가지는 유연성과 적용 시점</td></tr><tr><td><strong>구현 기법 및 구조</strong></td><td>합성 / 위임</td><td>데코레이터의 내부 위임 구조, 인터페이스 기반 위임 설계 이해</td></tr><tr><td></td><td>투명성 / 메서드 체이닝 / 지연 평가</td><td>데코레이터의 구조적 특성과 최적화 기법 (Chaining, Lazy Evaluation 등)</td></tr><tr><td></td><td>재귀적 컴포지션</td><td>데코레이터 중첩 적용 구조의 설계 방법 및 장단점 분석</td></tr><tr><td></td><td>동적 프록시</td><td>런타임에 프록시 생성하여 데코레이터 적용하는 기술 (예: Java Dynamic Proxy)</td></tr><tr><td><strong>프레임워크 활용 및 연계</strong></td><td>AOP 와의 관계</td><td>AOP (관점 지향 프로그래밍) 와 Decorator 의 유사점/차이점 및 결합 구조</td></tr><tr><td></td><td>미들웨어/필터 체인</td><td>웹 프레임워크에서 데코레이터 유사 구조인 필터 체인과의 관계</td></tr><tr><td></td><td>플러그인 시스템</td><td>확장 가능한 시스템 설계에서 데코레이터 기반 모듈 주입 방식 이해</td></tr><tr><td></td><td>NestJS / Spring AOP 활용</td><td>메타프로그래밍 기반 데코레이터 구현 및 횡단 관심사 적용 사례</td></tr><tr><td></td><td>프레임워크 내 활용</td><td>Java I/O Stream, Express 미들웨어, Python 데코레이터 등 실무 예제 분석</td></tr><tr><td><strong>함수형 프로그래밍 연계</strong></td><td>고차 함수 (HOF)</td><td>함수형 언어에서 데코레이터와 유사한 고차 함수 구조 이해 (Python, JS)</td></tr><tr><td></td><td>함수 vs 클래스 데코레이터</td><td>Python 등에서 함수와 클래스 데코레이터의 차이점 및 적용법</td></tr><tr><td><strong>성능 및 최적화 전략</strong></td><td>호출 오버헤드 / 메모리 최적화</td><td>데코레이터 체인 구성 시 성능 비용 최소화 전략, 메모이제이션 활용</td></tr><tr><td></td><td>Flyweight 패턴 결합</td><td>상태 공유를 통해 데코레이터의 메모리 오버헤드를 줄이는 방법</td></tr><tr><td><strong>테스트 및 실무 전략</strong></td><td>단위 테스트 / Mock Decorator</td><td>데코레이터 적용 객체의 테스트 전략, 의존성 분리 (Mock) 기법</td></tr><tr><td></td><td>데코레이터 조합 테스트 전략</td><td>여러 데코레이터를 조합한 객체 테스트 및 책임 분리 검증 방법</td></tr><tr><td><strong>소프트웨어 아키텍처</strong></td><td>마이크로서비스 / 서버리스</td><td>서비스 간의 횡단 관심사 처리 (로깅, 인증 등) 에서 데코레이터 기반 미들웨어 적용</td></tr><tr><td></td><td>계층 간 데코레이터 활용</td><td>클린 아키텍처에서 인터페이스/어댑터 계층의 공통 로직 삽입 방식으로서의 활용</td></tr><tr><td></td><td>코드 생성 및 관리 도구</td><td>데코레이터 자동 생성 도구 또는 관리 프레임워크 활용 (예: Swagger, Lombok 등)</td></tr></tbody></table><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th><strong>카테고리</strong></th><th><strong>용어</strong></th><th><strong>설명</strong></th></tr></thead><tbody><tr><td><strong>설계 패턴 요소</strong></td><td><strong>Decorator Pattern</strong></td><td>객체에 <strong>동적으로 기능을 추가</strong>할 수 있게 해주는 구조적 디자인 패턴</td></tr><tr><td></td><td><strong>Component</strong></td><td>기본 객체와 데코레이터가 <strong>공통으로 구현하는 인터페이스 또는 추상 클래스</strong></td></tr><tr><td></td><td><strong>ConcreteComponent</strong></td><td>실제 기능을 구현한 <strong>기본 객체 (기능의 대상)</strong></td></tr><tr><td></td><td><strong>Decorator</strong></td><td>Component 를 확장하고 내부에 Component 를 <strong>참조하는 추상 클래스</strong></td></tr><tr><td></td><td><strong>ConcreteDecorator</strong></td><td>Decorator 를 상속받아 <strong>실제 기능을 확장하는 클래스</strong></td></tr><tr><td><strong>객체지향 개념</strong></td><td><strong>Composition (합성)</strong></td><td>객체를 포함하여 기능을 확장하는 방식 (<strong>상속보다 유연함</strong>)</td></tr><tr><td></td><td><strong>Delegation (위임)</strong></td><td>한 객체가 작업을 <strong>다른 객체에게 위임</strong>하여 처리하는 방식</td></tr><tr><td></td><td><strong>Recursive Composition</strong></td><td>데코레이터가 <strong>중첩 구조로 구성되어 계층적으로 기능을 조합</strong>하는 방식</td></tr><tr><td><strong>설계 원칙</strong></td><td><strong>OCP (Open-Closed Principle)</strong></td><td><strong>확장에는 열려 있고, 변경에는 닫혀 있어야 한다</strong>는 소프트웨어 설계 원칙</td></tr><tr><td></td><td><strong>SRP (Single Responsibility Principle)</strong></td><td>하나의 클래스는 <strong>단 하나의 책임</strong>만을 가져야 한다는 원칙</td></tr><tr><td><strong>구현 기법</strong></td><td><strong>Transparency (투명성)</strong></td><td>클라이언트가 <strong>원본 객체와 데코레이터를 구분하지 않도록</strong> 설계하는 특성</td></tr><tr><td></td><td><strong>Method Chaining (연쇄 호출)</strong></td><td>메서드를 <strong>연속적으로 호출할 수 있도록 반환 객체를 this/self 로 설정</strong></td></tr><tr><td></td><td><strong>Lazy Evaluation (지연 평가)</strong></td><td><strong>필요한 시점에만 계산 또는 로직 실행</strong>하는 기법</td></tr><tr><td></td><td><strong>Method Interception (메소드 인터셉션)</strong></td><td>메서드 호출 시점에 <strong>로직을 가로채서 부가 기능을 실행</strong>하는 기술</td></tr><tr><td><strong>프레임워크/패러다임</strong></td><td><strong>AOP (Aspect-Oriented Programming)</strong></td><td>횡단 관심사를 모듈화하여 <strong>핵심 로직과 분리</strong>하는 프로그래밍 패러다임</td></tr><tr><td></td><td><strong>Cross-cutting Concerns (횡단 관심사)</strong></td><td>여러 모듈에 걸쳐 나타나는 <strong>공통 기능 (로깅, 인증, 트랜잭션 등)</strong></td></tr><tr><td></td><td><strong>Sidecar Pattern</strong></td><td>보조 기능을 <strong>애플리케이션과 분리된 별도 컨테이너</strong>로 처리하는 패턴</td></tr><tr><td></td><td><strong>Proxy Pattern</strong></td><td>접근을 제어하는 구조적 패턴으로, <strong>구조적으로 Decorator 와 유사</strong></td></tr><tr><td><strong>성능 및 부작용</strong></td><td><strong>Call Overhead (호출 오버헤드)</strong></td><td>메서드 호출이 <strong>중첩됨에 따라 발생하는 성능 비용</strong></td></tr><tr><td></td><td><strong>Memoization (메모이제이션)</strong></td><td>계산 결과를 <strong>캐시하여 중복 연산을 피하는 기법</strong>, Decorator 내 캐싱 적용 시 활용 가능</td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><ul><li><a href=https://refactoring.guru/design-patterns/decorator>Decorator Pattern - Refactoring.Guru</a></li><li><a href=https://www.geeksforgeeks.org/decorator-pattern/>Decorator Pattern - GeeksforGeeks</a></li><li><a href=https://en.wikipedia.org/wiki/Decorator_pattern>Decorator Pattern - Wikipedia</a></li><li><a href=https://www.baeldung.com/java-decorator-pattern>Understanding the Decorator Pattern - Baeldung</a></li><li><a href=https://www.visual-paradigm.com/tutorials/decoratordesignpattern.jsp>Decorator Design Pattern Tutorial - Visual Paradigm</a></li><li><a href=https://daily.dev/blog/decorator-pattern-explained-basics-to-advanced>Decorator Pattern Explained - Daily.dev</a></li><li><a href=https://softwareengineering.stackexchange.com/questions/240281/how-is-the-decorator-pattern-actually-used-in-practice>Decorator Pattern in Practice - Software Engineering Stack Exchange</a></li><li><a href=https://sourcemaking.com/design_patterns/decorator>Decorator Pattern - SourceMaking</a></li><li><a href=https://www.baeldung.com/java-decorator-pattern>The Decorator Pattern in Java - Baeldung</a></li><li><a href=https://realpython.com/primer-on-python-decorators/>Python Decorator Primer - Real Python</a></li><li><a href=https://docs.nestjs.com/custom-decorators>NestJS Custom Decorators - 공식 문서</a></li><li><a href=https://docs.python.org/3/glossary.html#term-decorator>Python Glossary - Decorator</a></li><li><a href=https://docs.oracle.com/javase/tutorial/essential/io/streams.html>Java I/O Streams - Oracle</a></li><li><a href=https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop>Spring Framework AOP Documentation</a></li><li><a href=https://www.oreilly.com/library/view/design-patterns-elements/0201633612/>Design Patterns: Elements of Reusable Object-Oriented Software (GoF)</a></li><li><a href=https://springframework.guru/gang-of-four-design-patterns/>Gang of Four Design Patterns - Spring Framework Guru</a></li><li><a href=https://wikidocs.net/272947>Design Pattern | Decorator - WikiDocs</a></li></ul><hr></div></main><script type=module>
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
  </script><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>