<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Hexagonal Architecture | hyunyoun's Blog</title><meta name=keywords content="Backend Development,Backend-Architecture,Hexagonal-Architecture,Ports-and-Adapters-Architecture"><meta name=description content="애플리케이션의 핵심 비즈니스 로직을 외부 요소로부터 분리하여 유연하고 유지보수가 용이한 시스템을 구축하는 것을 목표로 한다"><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/architecture-styles-and-patterns/architecture-styles/structural-architecture/clean-architecture/hexagonal-architecture/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/architecture-styles-and-patterns/architecture-styles/structural-architecture/clean-architecture/hexagonal-architecture/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/architecture-styles-and-patterns/architecture-styles/structural-architecture/clean-architecture/hexagonal-architecture/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/software-engineering/design-and-architecture/architecture-styles-and-patterns/architecture-styles/structural-architecture/clean-architecture/hexagonal-architecture/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Hexagonal Architecture"><meta property="og:description" content="애플리케이션의 핵심 비즈니스 로직을 외부 요소로부터 분리하여 유연하고 유지보수가 용이한 시스템을 구축하는 것을 목표로 한다"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Hexagonal Architecture"><meta name=twitter:description content="애플리케이션의 핵심 비즈니스 로직을 외부 요소로부터 분리하여 유연하고 유지보수가 용이한 시스템을 구축하는 것을 목표로 한다"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Hexagonal Architecture","item":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/architecture-styles-and-patterns/architecture-styles/structural-architecture/clean-architecture/hexagonal-architecture/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a></div><h1>Hexagonal Architecture</h1><div class=post-description>애플리케이션의 핵심 비즈니스 로직을 외부 요소로부터 분리하여 유연하고 유지보수가 용이한 시스템을 구축하는 것을 목표로 한다</div></header><div class=post-content><h2 id=hexagonal-architecture>Hexagonal Architecture<a hidden class=anchor aria-hidden=true href=#hexagonal-architecture>#</a></h2><p>아래는 &ldquo;Hexagonal Architecture(헥사고날 아키텍처)&rdquo; 에 대한 체계적인 조사 결과입니다.</p><hr><h2 id=1-태그>1. 태그<a hidden class=anchor aria-hidden=true href=#1-태그>#</a></h2><ul><li><strong>Hexagonal-Architecture</strong></li><li><strong>Ports-and-Adapters</strong></li><li><strong>Domain-Driven-Design</strong></li><li><strong>Software-Design-Patterns</strong></li></ul><hr><h2 id=2-분류-구조-분석>2. 분류 구조 분석<a hidden class=anchor aria-hidden=true href=#2-분류-구조-분석>#</a></h2><p><strong>계층 구조:</strong><br>Computer Science and Engineering > Software Engineering > Design and Architecture > Architecture Styles and Patterns > Architecture Patterns</p><p><strong>분석 및 근거:</strong><br>Hexagonal Architecture 는 소프트웨어 엔지니어링의 설계 및 아키텍처 분야에서 널리 사용되는 아키텍처 패턴 (Architecture Pattern) 으로, 의존성 역전과 인터페이스 기반 설계를 통해 결합도를 낮추고 유지보수성과 확장성을 높이는 것이 목적입니다. 이는 &ldquo;Architecture Styles and Patterns&rdquo; 하위의 &ldquo;Architecture Patterns&rdquo; 에 적합하게 분류됩니다. 실제로 Hexagonal Architecture 는 레이어드 (Layered) 구조와 도메인 중심 설계 (Domain-Driven Design) 의 영향을 받아 설계되었으며, 소프트웨어 엔지니어링의 핵심 설계 원칙에 부합합니다 <a href="https://dev.to/buarki/hexagonal-architectureports-and-adapters-clarifying-key-concepts-using-go-14oo?utm_source=chatgpt.com" title="Hexagonal Architecture/Ports And Adapters - DEV Community">1</a><a href="https://www.reddit.com/r/softwarearchitecture/comments/1brqh4t/a_very_simple_question_about_hexagonalclear/?utm_source=chatgpt.com" title="A very simple question about Hexagonal/Clear architecture - Reddit">3</a>.</p><hr><h2 id=3-요약-200-자-내외>3. 요약 (200 자 내외)<a hidden class=anchor aria-hidden=true href=#3-요약-200-자-내외>#</a></h2><p>Hexagonal Architecture 는 비즈니스 로직을 중심에 두고, 포트와 어댑터를 통해 외부 기술 의존성을 분리해 결합도를 낮추고 유지보수성과 테스트 용이성을 높이는 아키텍처 패턴이다 <a href="https://dev.to/buarki/hexagonal-architectureports-and-adapters-clarifying-key-concepts-using-go-14oo?utm_source=chatgpt.com" title="Hexagonal Architecture/Ports And Adapters - DEV Community">1</a><a href="https://medium.com/%40erickzanetti/understanding-hexagonal-architecture-ports-and-adapters-8945fc3e3dc0?utm_source=chatgpt.com" title="Understanding Hexagonal Architecture: Ports and Adapters - Medium">4</a>.</p><hr><h2 id=4-개요-250-자-내외>4. 개요 (250 자 내외)<a hidden class=anchor aria-hidden=true href=#4-개요-250-자-내외>#</a></h2><p>Hexagonal Architecture(포트와 어댑터 아키텍처) 는 애플리케이션의 핵심 비즈니스 로직을 외부 프레임워크, 데이터베이스, UI 등과 분리해, 변경에 유연하고 테스트가 용이하며, 장기적으로 유지보수와 확장이 쉬운 구조를 제공하는 설계 방법론이다 <a href="https://dev.to/buarki/hexagonal-architectureports-and-adapters-clarifying-key-concepts-using-go-14oo?utm_source=chatgpt.com" title="Hexagonal Architecture/Ports And Adapters - DEV Community">1</a><a href="https://medium.com/%40erickzanetti/understanding-hexagonal-architecture-ports-and-adapters-8945fc3e3dc0?utm_source=chatgpt.com" title="Understanding Hexagonal Architecture: Ports and Adapters - Medium">4</a>.</p><hr><h2 id=5-핵심-개념>5. 핵심 개념<a hidden class=anchor aria-hidden=true href=#5-핵심-개념>#</a></h2><ul><li><strong>비즈니스 로직 중심 설계:</strong> 도메인 (비즈니스 엔티티와 규칙) 을 시스템의 중심에 배치하여, 외부 기술 변화에 영향을 받지 않도록 설계 <a href="https://medium.com/%40erickzanetti/understanding-hexagonal-architecture-ports-and-adapters-8945fc3e3dc0?utm_source=chatgpt.com" title="Understanding Hexagonal Architecture: Ports and Adapters - Medium">5</a><a href="https://softwareengineering.stackexchange.com/questions/386102/arent-domain-driven-design-hexagonal-architecture-with-real-world-constraints?utm_source=chatgpt.com" title='Aren&#39;t Domain Driven Design/"hexagonal architecture" with real …'>6</a>.</li><li><strong>포트 (Port):</strong> 외부와의 상호작용을 위한 인터페이스. 인바운드 (외부→내부), 아웃바운드 (내부→외부) 로 구분 <a href="https://medium.com/%40erickzanetti/understanding-hexagonal-architecture-ports-and-adapters-8945fc3e3dc0?utm_source=chatgpt.com" title="Understanding Hexagonal Architecture: Ports and Adapters - Medium">5</a><a href="https://netflixtechblog.com/ready-for-changes-with-hexagonal-architecture-b315ec967749?utm_source=chatgpt.com" title="Ready for changes with Hexagonal Architecture - Netflix Tech Blog">7</a>.</li><li><strong>어댑터 (Adapter):</strong> 외부 시스템과의 통합을 담당하는 구현체. 인바운드 (입력), 아웃바운드 (출력) 어댑터로 구분 <a href="https://medium.com/%40erickzanetti/understanding-hexagonal-architecture-ports-and-adapters-8945fc3e3dc0?utm_source=chatgpt.com" title="Understanding Hexagonal Architecture: Ports and Adapters - Medium">5</a><a href="https://netflixtechblog.com/ready-for-changes-with-hexagonal-architecture-b315ec967749?utm_source=chatgpt.com" title="Ready for changes with Hexagonal Architecture - Netflix Tech Blog">7</a>.</li><li><strong>의존성 역전 (Dependency Inversion):</strong> 내부 (코어) 가 외부 (인프라) 에 의존하지 않고, 인터페이스를 통해 느슨하게 결합 <a href="https://www.reddit.com/r/softwarearchitecture/comments/1brqh4t/a_very_simple_question_about_hexagonalclear/?utm_source=chatgpt.com" title="A very simple question about Hexagonal/Clear architecture - Reddit">6</a>.</li><li><strong>테스트 용이성:</strong> 도메인과 유스케이스는 외부 의존 없이 독립적으로 테스트 가능 <a href="https://medium.com/%40erickzanetti/understanding-hexagonal-architecture-ports-and-adapters-8945fc3e3dc0?utm_source=chatgpt.com" title="Understanding Hexagonal Architecture: Ports and Adapters - Medium">1</a><a href="https://en.wikipedia.org/wiki/Hexagonal_architecture_%28software%29?utm_source=chatgpt.com" title="Hexagonal architecture (software)">8</a>.</li></ul><p><strong>실무 구현 요소</strong></p><ul><li><strong>도메인 (Domain):</strong> 비즈니스 엔티티와 규칙</li><li><strong>포트 (Port):</strong> 외부와의 상호작용 인터페이스</li><li><strong>어댑터 (Adapter):</strong> 외부 시스템과의 통합 구현체</li><li><strong>서비스 (Service):</strong> 비즈니스 로직 구현 (유스케이스)</li></ul><hr><h2 id=6-조사-내용-주요-항목별-정리>6. 조사 내용 (주요 항목별 정리)<a hidden class=anchor aria-hidden=true href=#6-조사-내용-주요-항목별-정리>#</a></h2><h3 id=배경>배경<a hidden class=anchor aria-hidden=true href=#배경>#</a></h3><p>Hexagonal Architecture 는 계층형 아키텍처의 단점 (계층 간 의존성, 비즈니스 로직과 UI/DB 코드 혼재) 을 보완하기 위해 Alistair Cockburn 이 2005 년에 제안한 아키텍처 패턴입니다 <a href="https://medium.com/%40pedrolisboa_10855/hexagonal-architecture-benefits-and-drawbacks-70c79f8c2c40?utm_source=chatgpt.com" title="Hexagonal Architecture: Benefits and Drawbacks | by Pedro Torres">1</a><a href="https://www.reddit.com/r/softwarearchitecture/comments/1brqh4t/a_very_simple_question_about_hexagonalclear/?utm_source=chatgpt.com" title="A very simple question about Hexagonal/Clear architecture - Reddit">3</a>.</p><h3 id=목적-및-필요성>목적 및 필요성<a hidden class=anchor aria-hidden=true href=#목적-및-필요성>#</a></h3><ul><li><strong>비즈니스 로직의 독립성:</strong> 외부 기술 변화에 영향을 받지 않도록 도메인을 격리 <a href="https://medium.com/%40erickzanetti/understanding-hexagonal-architecture-ports-and-adapters-8945fc3e3dc0?utm_source=chatgpt.com" title="Understanding Hexagonal Architecture: Ports and Adapters - Medium">1</a><a href="https://softwareengineering.stackexchange.com/questions/386102/arent-domain-driven-design-hexagonal-architecture-with-real-world-constraints?utm_source=chatgpt.com" title='Aren&#39;t Domain Driven Design/"hexagonal architecture" with real …'>6</a>.</li><li><strong>유지보수성과 확장성:</strong> 변경이 용이하고, 장기적으로 관리가 쉬움 <a href="https://en.wikipedia.org/wiki/Hexagonal_architecture_%28software%29?utm_source=chatgpt.com" title="Hexagonal architecture (software)">1</a><a href="https://netflixtechblog.com/ready-for-changes-with-hexagonal-architecture-b315ec967749?utm_source=chatgpt.com" title="Ready for changes with Hexagonal Architecture - Netflix Tech Blog">7</a>.</li><li><strong>테스트 용이성:</strong> 도메인과 유스케이스가 독립적으로 테스트 가능 <a href="https://medium.com/%40erickzanetti/understanding-hexagonal-architecture-ports-and-adapters-8945fc3e3dc0?utm_source=chatgpt.com" title="Understanding Hexagonal Architecture: Ports and Adapters - Medium">1</a><a href="https://en.wikipedia.org/wiki/Hexagonal_architecture_%28software%29?utm_source=chatgpt.com" title="Hexagonal architecture (software)">8</a>.</li></ul><h3 id=주요-기능-및-역할>주요 기능 및 역할<a hidden class=anchor aria-hidden=true href=#주요-기능-및-역할>#</a></h3><ul><li><strong>도메인:</strong> 비즈니스 엔티티와 규칙 정의</li><li><strong>포트:</strong> 외부와의 상호작용 인터페이스</li><li><strong>어댑터:</strong> 외부 시스템과의 통합 구현체</li><li><strong>서비스:</strong> 비즈니스 로직 구현</li></ul><h3 id=특징>특징<a hidden class=anchor aria-hidden=true href=#특징>#</a></h3><ul><li><strong>포트와 어댑터 구조:</strong> 외부와의 연결을 인터페이스와 구현체로 분리 <a href="https://medium.com/%40erickzanetti/understanding-hexagonal-architecture-ports-and-adapters-8945fc3e3dc0?utm_source=chatgpt.com" title="Understanding Hexagonal Architecture: Ports and Adapters - Medium">1</a><a href="https://softwareengineering.stackexchange.com/questions/386102/arent-domain-driven-design-hexagonal-architecture-with-real-world-constraints?utm_source=chatgpt.com" title='Aren&#39;t Domain Driven Design/"hexagonal architecture" with real …'>6</a>.</li><li><strong>의존성 역전:</strong> 내부가 외부에 의존하지 않음 <a href="https://www.reddit.com/r/softwarearchitecture/comments/1brqh4t/a_very_simple_question_about_hexagonalclear/?utm_source=chatgpt.com" title="A very simple question about Hexagonal/Clear architecture - Reddit">6</a>.</li><li><strong>테스트 용이성:</strong> 독립적 테스트 가능 <a href="https://medium.com/%40erickzanetti/understanding-hexagonal-architecture-ports-and-adapters-8945fc3e3dc0?utm_source=chatgpt.com" title="Understanding Hexagonal Architecture: Ports and Adapters - Medium">1</a><a href="https://en.wikipedia.org/wiki/Hexagonal_architecture_%28software%29?utm_source=chatgpt.com" title="Hexagonal architecture (software)">8</a>.</li></ul><h3 id=핵심-원칙>핵심 원칙<a hidden class=anchor aria-hidden=true href=#핵심-원칙>#</a></h3><ul><li><strong>DIP(의존성 역전 원칙):</strong> 상위 계층이 하위 계층에 직접 의존하지 않고 인터페이스를 통해 의존성 역전 <a href="https://www.reddit.com/r/softwarearchitecture/comments/1brqh4t/a_very_simple_question_about_hexagonalclear/?utm_source=chatgpt.com" title="A very simple question about Hexagonal/Clear architecture - Reddit">6</a>.</li><li><strong>ISP(인터페이스 분리 원칙):</strong> 클라이언트가 필요 없는 인터페이스에 의존하지 않음 <a href="https://softwareengineering.stackexchange.com/questions/386102/arent-domain-driven-design-hexagonal-architecture-with-real-world-constraints?utm_source=chatgpt.com" title='Aren&#39;t Domain Driven Design/"hexagonal architecture" with real …'>6</a>.</li><li><strong>SRP(단일 책임 원칙):</strong> 각 계층과 모듈이 단일 책임을 가짐 <a href="https://softwareengineering.stackexchange.com/questions/386102/arent-domain-driven-design-hexagonal-architecture-with-real-world-constraints?utm_source=chatgpt.com" title='Aren&#39;t Domain Driven Design/"hexagonal architecture" with real …'>6</a>.</li></ul><h3 id=주요-원리-및-작동-원리>주요 원리 및 작동 원리<a hidden class=anchor aria-hidden=true href=#주요-원리-및-작동-원리>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14>14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15>15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16>16</a>
</span><span class=lnt id=hl-0-17><a class=lnlinks href=#hl-0-17>17</a>
</span><span class=lnt id=hl-0-18><a class=lnlinks href=#hl-0-18>18</a>
</span><span class=lnt id=hl-0-19><a class=lnlinks href=#hl-0-19>19</a>
</span><span class=lnt id=hl-0-20><a class=lnlinks href=#hl-0-20>20</a>
</span><span class=lnt id=hl-0-21><a class=lnlinks href=#hl-0-21>21</a>
</span><span class=lnt id=hl-0-22><a class=lnlinks href=#hl-0-22>22</a>
</span><span class=lnt id=hl-0-23><a class=lnlinks href=#hl-0-23>23</a>
</span><span class=lnt id=hl-0-24><a class=lnlinks href=#hl-0-24>24</a>
</span><span class=lnt id=hl-0-25><a class=lnlinks href=#hl-0-25>25</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[Diagram: Hexagonal Architecture Layers]
</span></span><span class=line><span class=cl>       +-------------------------------+
</span></span><span class=line><span class=cl>       |        Adapter (Inbound)      |
</span></span><span class=line><span class=cl>       | (e.g. REST API, UI, Message)  |
</span></span><span class=line><span class=cl>       +---------------+---------------+
</span></span><span class=line><span class=cl>                       |
</span></span><span class=line><span class=cl>       +---------------v---------------+
</span></span><span class=line><span class=cl>       |           Port (Inbound)      |
</span></span><span class=line><span class=cl>       | (Interface for Core Service)  |
</span></span><span class=line><span class=cl>       +---------------+---------------+
</span></span><span class=line><span class=cl>                       |
</span></span><span class=line><span class=cl>       +---------------v---------------+
</span></span><span class=line><span class=cl>       |           Core (Domain)       |
</span></span><span class=line><span class=cl>       | (Business Logic, Entities)    |
</span></span><span class=line><span class=cl>       +---------------+---------------+
</span></span><span class=line><span class=cl>                       |
</span></span><span class=line><span class=cl>       +---------------v---------------+
</span></span><span class=line><span class=cl>       |           Port (Outbound)     |
</span></span><span class=line><span class=cl>       | (Interface for Infra Service) |
</span></span><span class=line><span class=cl>       +---------------+---------------+
</span></span><span class=line><span class=cl>                       |
</span></span><span class=line><span class=cl>       +---------------v---------------+
</span></span><span class=line><span class=cl>       |        Adapter (Outbound)     |
</span></span><span class=line><span class=cl>       | (e.g. DB, External Service)   |
</span></span><span class=line><span class=cl>       +-------------------------------+
</span></span></code></pre></td></tr></table></div></div><p>의존성은 항상 안쪽 (코어) 으로 향함. 외부 (어댑터) 가 내부 (코어) 를 호출하거나 사용할 수 있지만, 내부 (코어) 는 외부 (어댑터) 를 알지 못함 <a href="https://medium.com/%40erickzanetti/understanding-hexagonal-architecture-ports-and-adapters-8945fc3e3dc0?utm_source=chatgpt.com" title="Understanding Hexagonal Architecture: Ports and Adapters - Medium">5</a><a href="https://softwareengineering.stackexchange.com/questions/386102/arent-domain-driven-design-hexagonal-architecture-with-real-world-constraints?utm_source=chatgpt.com" title='Aren&#39;t Domain Driven Design/"hexagonal architecture" with real …'>6</a>.</p><h3 id=구조-및-아키텍처>구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#구조-및-아키텍처>#</a></h3><ul><li><strong>Core(코어):</strong> 비즈니스 엔티티와 규칙 (필수)</li><li><strong>Port(포트):</strong> 외부와의 상호작용 인터페이스 (필수)</li><li><strong>Adapter(어댑터):</strong> 외부 시스템과의 통합 구현체 (필수)</li><li><strong>Service(서비스):</strong> 비즈니스 로직 구현 (필수, 코어 내 포함)</li></ul><p><strong>각 계층의 역할</strong></p><ul><li><strong>Core:</strong> 도메인 모델, 비즈니스 규칙</li><li><strong>Port:</strong> 외부와의 상호작용 인터페이스</li><li><strong>Adapter:</strong> 외부 시스템과의 통합 구현체</li><li><strong>Service:</strong> 비즈니스 로직 구현 (유스케이스)</li></ul><h3 id=구현-기법>구현 기법<a hidden class=anchor aria-hidden=true href=#구현-기법>#</a></h3><ul><li><strong>의존성 역전 (Dependency Inversion):</strong> 인터페이스를 통해 내부가 외부를 모르도록 설계 <a href="https://www.reddit.com/r/softwarearchitecture/comments/1brqh4t/a_very_simple_question_about_hexagonalclear/?utm_source=chatgpt.com" title="A very simple question about Hexagonal/Clear architecture - Reddit">6</a>.</li><li><strong>포트와 어댑터 분리:</strong> 인바운드/아웃바운드 포트와 어댑터로 명확히 분리 <a href="https://medium.com/%40erickzanetti/understanding-hexagonal-architecture-ports-and-adapters-8945fc3e3dc0?utm_source=chatgpt.com" title="Understanding Hexagonal Architecture: Ports and Adapters - Medium">5</a><a href="https://netflixtechblog.com/ready-for-changes-with-hexagonal-architecture-b315ec967749?utm_source=chatgpt.com" title="Ready for changes with Hexagonal Architecture - Netflix Tech Blog">7</a>.</li><li><strong>테스트 코드 작성:</strong> 도메인과 유스케이스는 외부 의존 없이 테스트 가능 <a href="https://medium.com/%40erickzanetti/understanding-hexagonal-architecture-ports-and-adapters-8945fc3e3dc0?utm_source=chatgpt.com" title="Understanding Hexagonal Architecture: Ports and Adapters - Medium">1</a><a href="https://en.wikipedia.org/wiki/Hexagonal_architecture_%28software%29?utm_source=chatgpt.com" title="Hexagonal architecture (software)">8</a>.</li><li><strong>모듈화:</strong> 각 계층별로 모듈화하여 유지보수성 향상 <a href="https://stackoverflow.com/questions/29576344/drawbacks-of-hexagonal-architecture?utm_source=chatgpt.com" title="Drawbacks of Hexagonal Architecture - Stack Overflow">10</a>.</li></ul><h3 id=장점>장점<a hidden class=anchor aria-hidden=true href=#장점>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th><th>특성 원인</th></tr></thead><tbody><tr><td>장점</td><td>유지보수성</td><td>변경이 용이하고, 장기적으로 관리가 쉬움</td><td>도메인과 기술 분리, 포트 - 어댑터 구조</td></tr><tr><td>장점</td><td>확장성</td><td>새로운 기능 추가 및 기술 교체가 쉬움</td><td>인터페이스 활용, 의존성 역전</td></tr><tr><td>장점</td><td>테스트 용이성</td><td>도메인과 유스케이스가 독립적으로 테스트 가능</td><td>외부 의존성 분리</td></tr><tr><td>장점</td><td>프레임워크 독립성</td><td>프레임워크 교체가 쉬움</td><td>도메인과 기술 분리</td></tr></tbody></table><h3 id=단점과-문제점-그리고-해결방안>단점과 문제점 그리고 해결방안<a hidden class=anchor aria-hidden=true href=#단점과-문제점-그리고-해결방안>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th><th>해결책</th></tr></thead><tbody><tr><td>단점</td><td>초기 설계 복잡성</td><td>계층 구조 설계와 인터페이스 정의가 필요</td><td>경험 축적, 도메인 중심 설계 강조</td></tr><tr><td>단점</td><td>학습 곡선</td><td>개발자 교육 및 이해 필요</td><td>교육, 문서화, 예시 코드 제공</td></tr></tbody></table><table><thead><tr><th>구분</th><th>항목</th><th>원인</th><th>영향</th><th>탐지 및 진단</th><th>예방 방법</th><th>해결 방법 및 기법</th></tr></thead><tbody><tr><td>문제점</td><td>계층 간 혼합</td><td>설계 미흡, 인터페이스 미정의</td><td>테스트 및 유지보수 어려움</td><td>코드 리뷰, 정적 분석</td><td>인터페이스 명확화, 계층 분리</td><td>리팩토링, 계층 재설계</td></tr><tr><td>문제점</td><td>포트 경계 모호</td><td>도메인 정의 미흡, 포트 설계 부족</td><td>비즈니스 로직과 인프라 혼재</td><td>코드 리뷰, 아키텍처 리뷰</td><td>도메인 모델링 강화, 포트 설계 명확화</td><td>도메인 중심 설계, 포트 리팩토링</td></tr></tbody></table><h3 id=도전-과제>도전 과제<a hidden class=anchor aria-hidden=true href=#도전-과제>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>원인</th><th>영향</th><th>탐지 및 진단</th><th>예방 방법</th><th>해결 방법 및 기법</th></tr></thead><tbody><tr><td>도전 과제</td><td>대규모 시스템 적용</td><td>계층 간 통신 및 관리 복잡</td><td>성능 저하, 유지보수 어려움</td><td>모니터링, 프로파일링</td><td>모듈화, 마이크로서비스 전환</td><td>마이크로서비스 아키텍처 적용, 도메인 분리</td></tr><tr><td>도전 과제</td><td>팀 온보딩 및 코드 관리</td><td>아키텍처 복잡성, 팀원 이해 부족</td><td>개발 비용 증가, 일관성 저하</td><td>코드 리뷰, 문서화</td><td>교육, 예시 코드 제공, 멘토링</td><td>문서화, 코드 리뷰, 멘토링</td></tr></tbody></table><h3 id=분류-기준에-따른-종류-및-유형>분류 기준에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#분류-기준에-따른-종류-및-유형>#</a></h3><table><thead><tr><th>분류 기준</th><th>종류/유형</th><th>설명</th></tr></thead><tbody><tr><td>계층 구조</td><td>포트 - 어댑터 구조</td><td>외부와의 연결을 포트와 어댑터로 분리</td></tr><tr><td>설계 패턴</td><td>Hexagonal Architecture</td><td>의존성 역전, 인터페이스 활용, 도메인 중심 설계</td></tr><tr><td>적용 범위</td><td>모노리틱, 마이크로서비스</td><td>둘 다 적용 가능, 마이크로서비스에 적합</td></tr></tbody></table><h3 id=실무-사용-예시>실무 사용 예시<a hidden class=anchor aria-hidden=true href=#실무-사용-예시>#</a></h3><table><thead><tr><th>사용 목적</th><th>함께 사용하는 기술</th><th>효과</th></tr></thead><tbody><tr><td>유지보수성 향상</td><td>Spring, Django, Node.js</td><td>도메인과 기술 분리로 변경 용이</td></tr><tr><td>테스트 용이성</td><td>JUnit, pytest</td><td>도메인과 유스케이스 독립 테스트</td></tr><tr><td>프레임워크 교체</td><td>다양한 ORM, DB</td><td>인터페이스 활용으로 교체 용이</td></tr></tbody></table><h3 id=활용-사례>활용 사례<a hidden class=anchor aria-hidden=true href=#활용-사례>#</a></h3><p><strong>카카오페이 홈 서버:</strong><br>Hexagonal Architecture 를 적용해 도메인과 기술을 분리하여, 다양한 연동 API 에 유연하게 대응. 시스템 구성은 도메인 (비즈니스 규칙), 포트 (외부와의 인터페이스), 어댑터 (외부 시스템 통합) 로 계층화됨.<br><strong>Workflow:</strong><br>외부 API → 인바운드 어댑터 → 인바운드 포트 → 코어 (도메인) → 아웃바운드 포트 → 아웃바운드 어댑터 → 외부 시스템<br><strong>역할:</strong><br>도메인: 비즈니스 규칙, 포트: 외부와의 인터페이스, 어댑터: 외부 시스템 통합 <a href="https://jdriven.com/blog/2022/10/Why-you-should-NOT-use-Hexagonal-architecture?utm_source=chatgpt.com" title="Why you should NOT use Hexagonal architecture - JDriven Blog">11</a>.</p><h3 id=구현-예시-python>구현 예시 (Python)<a hidden class=anchor aria-hidden=true href=#구현-예시-python>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11>11</a>
</span><span class=lnt id=hl-1-12><a class=lnlinks href=#hl-1-12>12</a>
</span><span class=lnt id=hl-1-13><a class=lnlinks href=#hl-1-13>13</a>
</span><span class=lnt id=hl-1-14><a class=lnlinks href=#hl-1-14>14</a>
</span><span class=lnt id=hl-1-15><a class=lnlinks href=#hl-1-15>15</a>
</span><span class=lnt id=hl-1-16><a class=lnlinks href=#hl-1-16>16</a>
</span><span class=lnt id=hl-1-17><a class=lnlinks href=#hl-1-17>17</a>
</span><span class=lnt id=hl-1-18><a class=lnlinks href=#hl-1-18>18</a>
</span><span class=lnt id=hl-1-19><a class=lnlinks href=#hl-1-19>19</a>
</span><span class=lnt id=hl-1-20><a class=lnlinks href=#hl-1-20>20</a>
</span><span class=lnt id=hl-1-21><a class=lnlinks href=#hl-1-21>21</a>
</span><span class=lnt id=hl-1-22><a class=lnlinks href=#hl-1-22>22</a>
</span><span class=lnt id=hl-1-23><a class=lnlinks href=#hl-1-23>23</a>
</span><span class=lnt id=hl-1-24><a class=lnlinks href=#hl-1-24>24</a>
</span><span class=lnt id=hl-1-25><a class=lnlinks href=#hl-1-25>25</a>
</span><span class=lnt id=hl-1-26><a class=lnlinks href=#hl-1-26>26</a>
</span><span class=lnt id=hl-1-27><a class=lnlinks href=#hl-1-27>27</a>
</span><span class=lnt id=hl-1-28><a class=lnlinks href=#hl-1-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># domain/user.py</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>User</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=nb>id</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>id</span> <span class=o>=</span> <span class=nb>id</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># port/user_port.py</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>UserPort</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_user</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>):</span> <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># adapter/user_adapter.py</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>UserAdapter</span><span class=p>(</span><span class=n>UserPort</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_user</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># 실제로는 DB나 외부 API에서 데이터를 가져옴</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>User</span><span class=p>(</span><span class=n>user_id</span><span class=p>,</span> <span class=s2>&#34;Alice&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># service/user_service.py</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>UserService</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_port</span><span class=p>:</span> <span class=n>UserPort</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>user_port</span> <span class=o>=</span> <span class=n>user_port</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_user</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>user_port</span><span class=o>.</span><span class=n>get_user</span><span class=p>(</span><span class=n>user_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># main.py</span>
</span></span><span class=line><span class=cl><span class=n>adapter</span> <span class=o>=</span> <span class=n>UserAdapter</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>service</span> <span class=o>=</span> <span class=n>UserService</span><span class=p>(</span><span class=n>adapter</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>user</span> <span class=o>=</span> <span class=n>service</span><span class=o>.</span><span class=n>get_user</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>user</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>  <span class=c1># Alice</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>항목</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>도메인 중심 설계</td><td>도메인을 명확히 정의하고, 비즈니스 규칙을 도메인에 포함</td><td>도메인 모델링 강화</td></tr><tr><td>인터페이스 활용</td><td>계층 간 인터페이스로 결합도 낮춤</td><td>인터페이스 명확화</td></tr><tr><td>테스트 코드 작성</td><td>도메인과 유스케이스는 독립적으로 테스트</td><td>TDD, 단위 테스트 강화</td></tr><tr><td>계층 분리</td><td>계층 간 혼합 방지</td><td>코드 리뷰, 정적 분석</td></tr></tbody></table><h3 id=최적화하기-위한-고려사항-및-주의할-점>최적화하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#최적화하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>항목</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>모듈화</td><td>각 계층별로 모듈화하여 관리</td><td>마이크로서비스 적용 고려</td></tr><tr><td>성능 최적화</td><td>계층 간 통신 최소화, 캐싱 활용</td><td>프로파일링, 캐싱 전략 적용</td></tr><tr><td>유지보수성</td><td>문서화, 코드 리뷰</td><td>문서화, 코드 리뷰 강화</td></tr></tbody></table><h3 id=기타-사항>기타 사항<a hidden class=anchor aria-hidden=true href=#기타-사항>#</a></h3><ul><li><strong>마이크로서비스와의 연계:</strong> Hexagonal Architecture 는 모노리틱과 마이크로서비스 모두에 적용 가능하며, 마이크로서비스 환경에서 도메인 분리와 독립적 배포에 유리 <a href="https://jdriven.com/blog/2022/10/Why-you-should-NOT-use-Hexagonal-architecture?utm_source=chatgpt.com" title="Why you should NOT use Hexagonal architecture - JDriven Blog">12</a>.</li><li><strong>도메인 주도 설계 (DDD) 와의 연계:</strong> Hexagonal Architecture 는 DDD 와 상호보완적이며, 도메인 모델링과 계층 분리에 강점이 있음 <a href="https://softwareengineering.stackexchange.com/questions/386102/arent-domain-driven-design-hexagonal-architecture-with-real-world-constraints?utm_source=chatgpt.com" title='Aren&#39;t Domain Driven Design/"hexagonal architecture" with real …'>9</a>.</li><li><strong>실무 적용 시:</strong> 초기 설계 복잡성과 학습 곡선이 있으나, 장기적으로 유지보수성과 확장성이 뛰어남 [11][13].</li></ul><hr><h2 id=7-추가-조사-내용>7. 추가 조사 내용<a hidden class=anchor aria-hidden=true href=#7-추가-조사-내용>#</a></h2><ul><li><strong>Hexagonal Architecture 와 Layered Architecture, Clean Architecture 비교:</strong><ul><li><strong>Layered Architecture:</strong> 계층 간 직접 의존, 비즈니스 로직과 인프라 혼재 [9]<a href="https://softwareengineering.stackexchange.com/questions/386102/arent-domain-driven-design-hexagonal-architecture-with-real-world-constraints?utm_source=chatgpt.com" title='Aren&#39;t Domain Driven Design/"hexagonal architecture" with real …'>14</a>.</li><li><strong>Clean Architecture:</strong> 의존성 규칙, 인터페이스 활용, 도메인 중심 설계. Hexagonal 과 유사하지만 용어와 계층 구조가 다름 [9][15].</li></ul></li><li><strong>실무 적용 시 마이크로서비스와의 연계:</strong><ul><li>Hexagonal Architecture 는 마이크로서비스 환경에서 서비스 간 통신과 독립적 배포에 적합 <a href="https://jdriven.com/blog/2022/10/Why-you-should-NOT-use-Hexagonal-architecture?utm_source=chatgpt.com" title="Why you should NOT use Hexagonal architecture - JDriven Blog">12</a>.</li></ul></li><li><strong>테스트 전략:</strong><ul><li>도메인과 유스케이스는 외부 의존 없이 독립적으로 테스트 가능하며, 어댑터는 통합 테스트로 검증 <a href="https://medium.com/%40erickzanetti/understanding-hexagonal-architecture-ports-and-adapters-8945fc3e3dc0?utm_source=chatgpt.com" title="Understanding Hexagonal Architecture: Ports and Adapters - Medium">1</a><a href="https://en.wikipedia.org/wiki/Hexagonal_architecture_%28software%29?utm_source=chatgpt.com" title="Hexagonal architecture (software)">8</a>.</li></ul></li></ul><hr><h2 id=8-주목할-내용>8. 주목할 내용<a hidden class=anchor aria-hidden=true href=#8-주목할-내용>#</a></h2><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>설계 패턴</td><td>Hexagonal Architecture</td><td>도메인 중심</td><td>비즈니스 로직을 중심에 두고 외부 기술과 분리</td></tr><tr><td>설계 패턴</td><td>Hexagonal Architecture</td><td>포트 - 어댑터 구조</td><td>외부와의 연결을 인터페이스와 구현체로 분리</td></tr><tr><td>실무 적용</td><td>Hexagonal Architecture</td><td>마이크로서비스</td><td>도메인 분리, 독립적 배포에 유리</td></tr><tr><td>실무 적용</td><td>Hexagonal Architecture</td><td>테스트 전략</td><td>도메인과 유스케이스 독립 테스트</td></tr></tbody></table><hr><h2 id=9-반드시-학습해야-할-내용>9. 반드시 학습해야 할 내용<a hidden class=anchor aria-hidden=true href=#9-반드시-학습해야-할-내용>#</a></h2><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>설계 원칙</td><td>Hexagonal Architecture</td><td>의존성 역전</td><td>내부가 외부에 의존하지 않음</td></tr><tr><td>설계 원칙</td><td>Hexagonal Architecture</td><td>인터페이스 활용</td><td>계층 간 결합도 낮춤</td></tr><tr><td>실무 적용</td><td>Hexagonal Architecture</td><td>도메인 모델링</td><td>비즈니스 규칙 명확화</td></tr><tr><td>실무 적용</td><td>Hexagonal Architecture</td><td>테스트 코드 작성</td><td>도메인과 유스케이스 독립 테스트</td></tr></tbody></table><hr><h2 id=10-용어-정리>10. 용어 정리<a hidden class=anchor aria-hidden=true href=#10-용어-정리>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>설계 패턴</td><td>Hexagonal Architecture</td><td>도메인 중심, 포트 - 어댑터 구조, 의존성 역전을 갖춘 소프트웨어 설계 패턴</td></tr><tr><td>설계 원칙</td><td>의존성 역전 (Dependency Inversion)</td><td>고수준 모듈이 저수준 모듈에 의존하지 않도록 인터페이스 활용</td></tr><tr><td>설계 원칙</td><td>인터페이스 분리 (Interface Segregation)</td><td>인터페이스를 최소 단위로 분리하여 결합도 낮춤</td></tr><tr><td>실무 적용</td><td>도메인 (Domain)</td><td>비즈니스 엔티티와 규칙을 포함하는 계층</td></tr><tr><td>실무 적용</td><td>포트 (Port)</td><td>외부와의 상호작용을 위한 인터페이스</td></tr><tr><td>실무 적용</td><td>어댑터 (Adapter)</td><td>외부 시스템과의 통합을 담당하는 구현체</td></tr></tbody></table><hr><h2 id=11-참고-및-출처>11. 참고 및 출처<a hidden class=anchor aria-hidden=true href=#11-참고-및-출처>#</a></h2><ul><li><a href=https://cantcoding.tistory.com/107>헥사고날 아키텍처란 - 코딩못하는사람</a></li><li><a href=https://bettershinny.tistory.com/4>헥사고날 아키텍처(Hexagonal Architecture) 란? - bettershinny</a></li><li><a href=https://unit-15.tistory.com/183>Hexagonal Architecture이란? 기본 개발 방법 - unit-15</a></li><li><a href=https://velog.io/@mino_dev/%EC%9C%A1%EA%B0%81%ED%98%95-%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90Hexagonal-Architecture>육각형 아키텍쳐(Hexagonal Architecture) - velog</a></li><li><a href=https://starryeye.tistory.com/152>Hexagonal Architecture 정리 - Space pioneer</a></li><li><a href=https://kha0213.github.io/architecture/Hexagonal-Architecture/>헥사고날 아키텍처(Hexagonal Architecture) - 어제보다 더 나은 개발자</a></li><li><a href=https://tech.kakaopay.com/post/home-hexagonal-architecture/>Hexagonal Architecture, 진짜 하실 건가요? - 카카오페이 기술 블로그</a></li><li><a href=https://remocon33.tistory.com/706>Hexagonal Architecture 소개 - 혼새미로의 블로그</a><br>아래는 <strong>Hexagonal Architecture</strong> 주제에 대한 1 차 정리입니다.</li></ul><hr><h2 id=1-태그-1>1. 태그<a hidden class=anchor aria-hidden=true href=#1-태그-1>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Hexagonal-Architecture, Ports-and-Adapters, Clean-Software-Design, Domain-Isolation
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=2-분류-계층-적절성-분석>2. 분류 계층 적절성 분석<a hidden class=anchor aria-hidden=true href=#2-분류-계층-적절성-분석>#</a></h2><ul><li><p>현재 분류:</p><blockquote><p>Computer Science and Engineering → Software Engineering → Design and Architecture → Architecture Styles and Patterns → Architecture Patterns</p></blockquote></li><li><p><strong>분석</strong>: 적절합니다.</p><ul><li>Hexagonal Architecture 는 계층 패턴의 일종으로 외부와 내부를 추상화 계층 (Port/Adapter) 로 분리하므로, &lsquo;Architecture Patterns&rsquo; 범주에 가장 잘 부합합니다. (<a href="https://en.wikipedia.org/wiki/Hexagonal_architecture_%28software%29?utm_source=chatgpt.com" title="Hexagonal architecture (software)">en.wikipedia.org</a>)</li></ul></li></ul><hr><h2 id=3-200-자-요약>3. 200 자 요약<a hidden class=anchor aria-hidden=true href=#3-200-자-요약>#</a></h2><p>Hexagonal Architecture(Ports & Adapters) 는 비즈니스 로직을 핵심 (Core) 에 집중시키고, 외부 입출력 모듈 (UI, DB, 메시징 등) 을 포트와 어댑터로 연결해 의존성을 내부로만 흐르게 하는 아키텍처입니다. 테스트 용이성과 유연성을 확보하고, 외부 기술 변화에도 핵심 코드 비침투성을 보장합니다.</p><hr><h2 id=4-250-자-개요>4. 250 자 개요<a hidden class=anchor aria-hidden=true href=#4-250-자-개요>#</a></h2><p>Hexagonal Architecture 는 Alistair Cockburn(2005) 가 제안한 Ports & Adapters 패턴으로, 핵심 비즈니스 로직 (Core) 을 중심에 두고 외부 시스템 (UI, DB, API, 메시지 등) 을 포트 (인터페이스) 와 어댑터 (구현) 로 분리하는 구조입니다. 내부 코드는 외부 기술에 전혀 의존하지 않으며, 외부 변화에도 유연하게 대응 가능한 설계가 가능합니다. 또한, 단위 테스트가 쉽고 마이크로서비스 설계 시 모듈화가 용이합니다. 테스트 및 기술 변경 비용을 크게 줄이는 동시에, 비즈니스 중심 개발을 촉진합니다. (<a href="https://en.wikipedia.org/wiki/Hexagonal_architecture_%28software%29?utm_source=chatgpt.com" title="Hexagonal architecture (software)">en.wikipedia.org</a>)</p><hr><h2 id=5-핵심-개념-및-실무-구현-요소>5. 핵심 개념 및 실무 구현 요소<a hidden class=anchor aria-hidden=true href=#5-핵심-개념-및-실무-구현-요소>#</a></h2><h3 id=핵심-개념>핵심 개념<a hidden class=anchor aria-hidden=true href=#핵심-개념>#</a></h3><ul><li><strong>Core/Domain</strong>: 비즈니스 로직, 도메인 모델이 위치하며 외부 종속 없음</li><li><strong>Port</strong>: 핵심이 외부와 소통하기 위한 추상 인터페이스 (Primary/Secondary) (<a href="https://dev.to/buarki/hexagonal-architectureports-and-adapters-clarifying-key-concepts-using-go-14oo?utm_source=chatgpt.com" title="Hexagonal Architecture/Ports And Adapters - DEV Community">dev.to</a>)</li><li><strong>Adapter</strong>: Port 를 구현하는 외부 계층의 컴포넌트 (REST API, DB 구현, 메시징 등) (<a href="https://dev.to/buarki/hexagonal-architectureports-and-adapters-clarifying-key-concepts-using-go-14oo?utm_source=chatgpt.com" title="Hexagonal Architecture/Ports And Adapters - DEV Community">dev.to</a>)</li><li><strong>Dependency Inversion Principle (DIP)</strong>: 내부는 외부 모듈 정보를 몰라야 하며, 흐름은 외부 → 내부 방향으로만 (<a href="https://www.reddit.com/r/softwarearchitecture/comments/1brqh4t/a_very_simple_question_about_hexagonalclear/?utm_source=chatgpt.com" title="A very simple question about Hexagonal/Clear architecture - Reddit">reddit.com</a>)</li></ul><h3 id=51-실무-구현-요소>5.1 실무 구현 요소<a hidden class=anchor aria-hidden=true href=#51-실무-구현-요소>#</a></h3><ul><li><strong>인터페이스 정의</strong>: 사용자가 핵심에 접근하고, 인프라가 핵심에 동작할 수 있도록 Port 정의</li><li><strong>Adapter 구현</strong>: HTTP 컨트롤러, CLI, 메시지 소비자 등 Primary Adapter, DB Access, 외부 API 호출 등 Secondary Adapter 구현</li><li><strong>의존성 주입 (DI)</strong>: 런타임에 Adapter 구현체를 Core 에 주입, DIP 보장</li><li><strong>유닛 테스트</strong>: Core(Use Case, 도메인) 를 Adapter 없이 Port 만으로 테스트</li><li><strong>구성 레이어 분리</strong>: 모듈/패키지 구조 (core, ports, adapters, infrastructure 등)</li></ul><hr><p>다음 단계로:</p><ul><li>" 구조 및 아키텍처 + 구성 요소 "</li><li>" 주요 원리 & 작동 원리 " 다이어그램<br>등 원하시는 방향을 선택해주시면 이어서 작성합니다.</li></ul><p><a href=https://wata.es/hexagonal-architecture-introduction-and-structure/><figure><img alt="Hexagonal architecture: introduction and structure - WATA Factory" loading=lazy src="https://tse1.mm.bing.net/th/id/OIP.qLoZNml3irtoBkUT9q7K5wHaFw?r=0\\&pid=Api"></figure></a></p><hr><h2 id=5-구조-및-아키텍처-structure--architecture>5. 구조 및 아키텍처 (Structure & Architecture)<a hidden class=anchor aria-hidden=true href=#5-구조-및-아키텍처-structure--architecture>#</a></h2><p>Hexagonal Architecture 는 <strong>Ports & Adapters</strong>라 불리며, 내부 비즈니스 로직 (Core/Domain) 을 ** 포트 (Ports)** 라는 인터페이스로 외부와 연결하고, 실제 구현은 <strong>어댑터 (Adapters)</strong> 형태로 외부에 둡니다 (<a href="https://en.wikipedia.org/wiki/Hexagonal_architecture_%28software%29?utm_source=chatgpt.com" title="Hexagonal architecture (software)">en.wikipedia.org</a>).</p><h3 id=계층-구조-및-구성-요소>계층 구조 및 구성 요소<a hidden class=anchor aria-hidden=true href=#계층-구조-및-구성-요소>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span><span class=lnt id=hl-3-12><a class=lnlinks href=#hl-3-12>12</a>
</span><span class=lnt id=hl-3-13><a class=lnlinks href=#hl-3-13>13</a>
</span><span class=lnt id=hl-3-14><a class=lnlinks href=#hl-3-14>14</a>
</span><span class=lnt id=hl-3-15><a class=lnlinks href=#hl-3-15>15</a>
</span><span class=lnt id=hl-3-16><a class=lnlinks href=#hl-3-16>16</a>
</span><span class=lnt id=hl-3-17><a class=lnlinks href=#hl-3-17>17</a>
</span><span class=lnt id=hl-3-18><a class=lnlinks href=#hl-3-18>18</a>
</span><span class=lnt id=hl-3-19><a class=lnlinks href=#hl-3-19>19</a>
</span><span class=lnt id=hl-3-20><a class=lnlinks href=#hl-3-20>20</a>
</span><span class=lnt id=hl-3-21><a class=lnlinks href=#hl-3-21>21</a>
</span><span class=lnt id=hl-3-22><a class=lnlinks href=#hl-3-22>22</a>
</span><span class=lnt id=hl-3-23><a class=lnlinks href=#hl-3-23>23</a>
</span><span class=lnt id=hl-3-24><a class=lnlinks href=#hl-3-24>24</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>             +----------------------------+
</span></span><span class=line><span class=cl>             |      Primary Adapters      |
</span></span><span class=line><span class=cl>   UI/API →  |   (REST controllers, CLI) |
</span></span><span class=line><span class=cl>             +------------+---------------+
</span></span><span class=line><span class=cl>                          |
</span></span><span class=line><span class=cl>                 +--------v--------+
</span></span><span class=line><span class=cl>                 |   Inbound Port   |
</span></span><span class=line><span class=cl>                 +--------+--------+
</span></span><span class=line><span class=cl>                          ↓
</span></span><span class=line><span class=cl>          +---------------+------------------+
</span></span><span class=line><span class=cl>          |                                      |
</span></span><span class=line><span class=cl>          |       Domain / Application Core     |
</span></span><span class=line><span class=cl>          | (Entities, Use Cases, Domain Logic) |
</span></span><span class=line><span class=cl>          |                                      |
</span></span><span class=line><span class=cl>          +---------------+------------------+
</span></span><span class=line><span class=cl>                          ↑
</span></span><span class=line><span class=cl>                 +--------+--------+
</span></span><span class=line><span class=cl>                 |   Outbound Port  |
</span></span><span class=line><span class=cl>                 +--------+--------+
</span></span><span class=line><span class=cl>                          |
</span></span><span class=line><span class=cl>             +------------v---------------+
</span></span><span class=line><span class=cl>             |     Secondary Adapters     |
</span></span><span class=line><span class=cl>             | (DB, MQ, External API...) |
</span></span><span class=line><span class=cl>             +----------------------------+
</span></span></code></pre></td></tr></table></div></div><ul><li><strong>Domain/Core</strong>: 비즈니스 규칙을 구현한 순수 코드—외부 종속 없음</li><li><strong>Inbound Ports</strong> (Primary): UI, API, 메시지 및 테스트 호출을 위한 인터페이스 (<a href="https://dev.to/buarki/hexagonal-architectureports-and-adapters-clarifying-key-concepts-using-go-14oo?utm_source=chatgpt.com" title="Hexagonal Architecture/Ports And Adapters - DEV Community">marcolenzo.eu</a>)</li><li><strong>Outbound Ports</strong> (Secondary): DB, 메시징, API 호출 등 외부 연동을 위한 인터페이스 (<a href="https://dev.to/buarki/hexagonal-architectureports-and-adapters-clarifying-key-concepts-using-go-14oo?utm_source=chatgpt.com" title="Hexagonal Architecture/Ports And Adapters - DEV Community">marcolenzo.eu</a>)</li><li><strong>Primary Adapters</strong>: REST 엔드포인트, 콘솔, 테스트 스크립트 등 Port 구현체이며, Port 호출을 Core 에 전달 (<a href="https://dev.to/buarki/hexagonal-architectureports-and-adapters-clarifying-key-concepts-using-go-14oo?utm_source=chatgpt.com" title="Hexagonal Architecture/Ports And Adapters - DEV Community">marcolenzo.eu</a>)</li><li><strong>Secondary Adapters</strong>: DB 드라이버, HTTP 클라이언트, 메시지 큐 클라이언트 등 Core 호출에 대응하는 구현체 (<a href="https://www.reddit.com/r/softwarearchitecture/comments/1brqh4t/a_very_simple_question_about_hexagonalclear/?utm_source=chatgpt.com" title="A very simple question about Hexagonal/Clear architecture - Reddit">geeksforgeeks.org</a>)</li></ul><h3 id=필수-구성요소-vs-선택-구성요소>필수 구성요소 Vs 선택 구성요소<a hidden class=anchor aria-hidden=true href=#필수-구성요소-vs-선택-구성요소>#</a></h3><ul><li><strong>필수</strong>: Domain Core, Ports (Inbound/Outbound), 최소 하나의 Primary 및 Secondary Adapter</li><li><strong>선택</strong>: 다양한 Adapter (예: 테스트 스크립트), 커뮤니케이션 인터셉터 (로깅, 인증), 메시지 브로커 어댑터 등</li></ul><hr><h2 id=6-주요-원리--작동-원리>6. 주요 원리 & 작동 원리<a hidden class=anchor aria-hidden=true href=#6-주요-원리--작동-원리>#</a></h2><h3 id=핵심-원리>핵심 원리<a hidden class=anchor aria-hidden=true href=#핵심-원리>#</a></h3><ul><li><strong>의존성 역전 규칙 (DIP)</strong>: 내부 (Core) 는 추상인 Port 만 알고, 구현체 (Adapter) 는 외부에서 주입 (<a href="https://medium.com/%40erickzanetti/understanding-hexagonal-architecture-ports-and-adapters-8945fc3e3dc0?utm_source=chatgpt.com" title="Understanding Hexagonal Architecture: Ports and Adapters - Medium">medium.com</a>)</li><li><strong>포트와 어댑터 분리</strong>: 핵심은 외부와 계약만 정의하며, 실제 기술 구현은 어댑터에 위임</li><li><strong>단방향 의존성</strong>: 어느 구현체도 Core 로직을 직접 참조하지 않음—테스트, 유연성, 확장성 확보 (<a href="https://scalastic.io/en/hexagonal-architecture/?utm_source=chatgpt.com" title="Everything You Need to Know About Hexagonal Architecture: Kernel …">scalastic.io</a>)</li></ul><h3 id=작동-흐름-다이어그램>작동 흐름 (다이어그램)<a hidden class=anchor aria-hidden=true href=#작동-흐름-다이어그램>#</a></h3><pre class=mermaid>flowchart LR
  A[UI/API/CLI/Test] --&gt;|calls| IP[Input Port Interface]
  IP --&gt;|executes| UA[Use Case in Core]
  UA --&gt;|calls| OP[Output Port Interface]
  OP --&gt;|delegates to| SA[Secondary Adapter]
  SA --&gt;|interacts with| Svc[DB / MQ / External API]
  UA --&gt;|returns result| IP
  IP --&gt;|responds to| A
</pre><ul><li><strong>입력 흐름</strong>: Primary Adapter → Input Port → Core → Output Port → Secondary Adapter → 외부 시스템</li><li><strong>출력 흐름</strong>: Core → Output Port → Adapter → 외부 시스템 의 결과 반영</li><li><strong>테스트 흐름</strong>: 어댑터 없이 Port 만으로 Core 유닛 테스트 가능</li></ul><hr><h2 id=7-구성-요소-기능-요약>7. 구성 요소 기능 요약<a hidden class=anchor aria-hidden=true href=#7-구성-요소-기능-요약>#</a></h2><table><thead><tr><th>구성 요소</th><th>역할</th></tr></thead><tbody><tr><td>Domain/Core</td><td>순수 비즈니스 로직, 상태 유지</td></tr><tr><td>Input Port</td><td>외부 요청 인터페이스 계약</td></tr><tr><td>Use Cases</td><td>유스케이스 단위 실행 로직</td></tr><tr><td>Output Port</td><td>외부 호출 인터페이스 계약</td></tr><tr><td>Primary Adapter</td><td>사용자 요청을 Port 호출로 변환</td></tr><tr><td>Secondary Adapter</td><td>Port 호출을 외부 기술로 실행</td></tr><tr><td>DI 구성 모듈</td><td>Port 와 Adapter 를 연결하는 설정 코드</td></tr></tbody></table><hr><p>아래는 <strong>8. 구현 기법</strong>, <strong>9. 장단점 분석</strong>, <strong>10. 문제점 상세 분석</strong>, <strong>11. 실무 사용 예시</strong>, <strong>12. 활용 사례</strong>, <strong>13. 구현 예시</strong> 섹션입니다.</p><hr><h2 id=8-구현-기법-implementation-techniques>8. 구현 기법 (Implementation Techniques)<a hidden class=anchor aria-hidden=true href=#8-구현-기법-implementation-techniques>#</a></h2><ul><li><p><strong>Port 인터페이스 정의</strong></p><ul><li>Inbound Port: <code>OrderService.createOrder(request)</code></li><li>Outbound Port: <code>PaymentGateway.process(paymentInfo)</code></li></ul></li><li><p><strong>Use Case Interactor 작성</strong></p><ul><li>예: <code>CreateOrderInteractor implements OrderService</code>, 내부에서 도메인 엔티티 생성 및 포트 호출</li></ul></li><li><p><strong>Primary Adapter 구현</strong></p><ul><li>예: REST 컨트롤러 (<code>Spring @RestController</code>, <code>FastAPI router</code>) 에서 Inbound Port 호출</li></ul></li><li><p><strong>Secondary Adapter 구현</strong></p><ul><li>JDBC, JPA, HTTP 클라이언트 사용하여 Outbound Port 구현 (예: <code>RestPaymentAdapter</code>)</li></ul></li><li><p><strong>의존성 주입 설정</strong></p><ul><li>Spring, NestJS, Dagger, Spring DI 설정 또는 FastAPI <code>Depends()</code> 사용</li></ul></li><li><p><strong>테스트 작성</strong></p><ul><li>Core 테스트: Port 만 Mock 사용 → Logic 검증</li><li>Adapter 테스트: 실제 DB/API 외부 호출 모킹 혹은 인메모리 구현</li></ul></li><li><p><strong>모듈화 구조</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2>2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3>3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4>4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5>5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6>6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7>7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8>8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>/core
</span></span><span class=line><span class=cl>  /domain
</span></span><span class=line><span class=cl>  /usecase
</span></span><span class=line><span class=cl>  /port
</span></span><span class=line><span class=cl>/adapters
</span></span><span class=line><span class=cl>  /inbound
</span></span><span class=line><span class=cl>  /outbound
</span></span><span class=line><span class=cl>/config
</span></span><span class=line><span class=cl>  di 설정
</span></span></code></pre></td></tr></table></div></div></li></ul><hr><h2 id=9-장단점-분석>9. 장단점 분석<a hidden class=anchor aria-hidden=true href=#9-장단점-분석>#</a></h2><h3 id=-장점>✅ 장점<a hidden class=anchor aria-hidden=true href=#-장점>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>장점</td><td>독립성</td><td>핵심 로직은 외부 기술에 무관함</td></tr><tr><td></td><td>테스트 용이성</td><td>핵심 Port 만 모킹하면 유닛 테스트 가능</td></tr><tr><td></td><td>유연성</td><td>새로운 Adapter 추가 시 Core 무변경 가능</td></tr><tr><td></td><td>모듈화</td><td>마이크로서비스 설계 및 배포 단위 조직 가능</td></tr><tr><td></td><td>유지보수성</td><td>의존성 흐름 내부 집중, 외부 변화 영향 최소화</td></tr></tbody></table><h3 id=-단점>❌ 단점<a hidden class=anchor aria-hidden=true href=#-단점>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th><th>해결책</th></tr></thead><tbody><tr><td>단점</td><td>초기 복잡도</td><td>Port/Adapter 계층 도입으로 구조 복잡</td><td>단순 프로젝트엔 Vertical Slice 방식 or Onion 구조 병행</td></tr><tr><td></td><td>설정·DI 오버헤드</td><td>DI 설정 및 모듈 구성 필요</td><td>DI 컨테이너 자동 구성 기능 or 컴파일타임 DI 사용</td></tr><tr><td></td><td>Boilerplate 증가</td><td>Port/Adapter 양식 반복</td><td>코드 생성 스크립트, 공통 유틸 라이브러리 활용</td></tr></tbody></table><hr><h2 id=10-문제점-상세-분석>10. 문제점 상세 분석<a hidden class=anchor aria-hidden=true href=#10-문제점-상세-분석>#</a></h2><table><thead><tr><th>구분</th><th>항목</th><th>원인</th><th>영향</th><th>탐지</th><th>예방</th><th>해결</th></tr></thead><tbody><tr><td>문제점</td><td>Port 남발</td><td>핵심이 아닌 부분까지 추상화 대상 설정</td><td>Adapter 수 급증, 이해도 저하</td><td>코드 리뷰 시 계층 과도 확인</td><td>필요 부분만 Port 도입, 가이드 정책 설정</td><td>Port 정리 리팩토링, 코드 컨벤션 강화</td></tr><tr><td>문제점</td><td>Adapter 복잡도</td><td>외부 API 변화로 복잡한 매핑 처리</td><td>Core 호출 실패, 버그 증가</td><td>테스트 실패, 예외 로그 증가</td><td>Adapter Unit 테스트 자동화</td><td>Mapper 추상 추출, 오류 대응 유틸 추가</td></tr></tbody></table><hr><h2 id=11-실무-사용-예시>11. 실무 사용 예시<a hidden class=anchor aria-hidden=true href=#11-실무-사용-예시>#</a></h2><table><thead><tr><th>기술 조합</th><th>목적</th><th>효과</th></tr></thead><tbody><tr><td>Java Spring + Hexagonal</td><td>레거시 Monolith → 모듈화 리팩토링</td><td>도메인 분리, Adapter 변경 용이</td></tr><tr><td>NestJS + TypeORM + RabbitMQ</td><td>이벤트 기반 주문 처리</td><td>Handler/test 분리, 비동기 기능 개선</td></tr><tr><td>Python FastAPI + SQLAlchemy</td><td>API 서버에서 비즈니스 모듈 분리</td><td>Port 테스트 가능, DB 교체 쉬움</td></tr></tbody></table><hr><h2 id=12-활용-사례-이벤트-기반-주문-시스템>12. 활용 사례: 이벤트 기반 주문 시스템<a hidden class=anchor aria-hidden=true href=#12-활용-사례-이벤트-기반-주문-시스템>#</a></h2><h3 id=-시스템-구성>🏗️ 시스템 구성<a hidden class=anchor aria-hidden=true href=#-시스템-구성>#</a></h3><pre class=mermaid>graph LR
  REST[REST API] --&gt; IP[OrderService Port]
  IP --&gt; UC[CreateOrderInteractor]
  UC --&gt; OP1[PaymentGateway Port]
  OP1 --&gt; Adp1[StripeAdapter]
  UC --&gt; OP2[OrderRepo Port]
  OP2 --&gt; Adp2[PostgresAdapter]
  UC --&gt; OP3[EventPort]
  OP3 --&gt; Adp3[RabbitMQAdapter]
</pre><ul><li><strong>Use Case</strong>: 주문 생성, 결제 처리, DB 저장, 이벤트 발행</li><li><strong>Adapter</strong>: HTTP 컨트롤러, Stripe API, PostgreSQL, RabbitMQ</li></ul><h3 id=-워크플로우>📋 워크플로우<a hidden class=anchor aria-hidden=true href=#-워크플로우>#</a></h3><ol><li><p>REST 요청 → Inbound Port 호출</p></li><li><p>Interactor:</p><ul><li>결제 처리 via StripeAdapter</li><li>주문 저장 via PostgresAdapter</li><li>이벤트 발행 via RabbitMQAdapter</li></ul></li><li><p>각 Adapter 는 해당 외부 서비스를 호출</p></li><li><p>Core 로직은 Port 만 참고하여 외부 독립적</p></li></ol><hr><h2 id=13-구현-예시-python--fastapi>13. 구현 예시 (Python + FastAPI)<a hidden class=anchor aria-hidden=true href=#13-구현-예시-python--fastapi>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1> 1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2> 2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3> 3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4> 4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5> 5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6> 6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7> 7</a>
</span><span class=lnt id=hl-7-8><a class=lnlinks href=#hl-7-8> 8</a>
</span><span class=lnt id=hl-7-9><a class=lnlinks href=#hl-7-9> 9</a>
</span><span class=lnt id=hl-7-10><a class=lnlinks href=#hl-7-10>10</a>
</span><span class=lnt id=hl-7-11><a class=lnlinks href=#hl-7-11>11</a>
</span><span class=lnt id=hl-7-12><a class=lnlinks href=#hl-7-12>12</a>
</span><span class=lnt id=hl-7-13><a class=lnlinks href=#hl-7-13>13</a>
</span><span class=lnt id=hl-7-14><a class=lnlinks href=#hl-7-14>14</a>
</span><span class=lnt id=hl-7-15><a class=lnlinks href=#hl-7-15>15</a>
</span><span class=lnt id=hl-7-16><a class=lnlinks href=#hl-7-16>16</a>
</span><span class=lnt id=hl-7-17><a class=lnlinks href=#hl-7-17>17</a>
</span><span class=lnt id=hl-7-18><a class=lnlinks href=#hl-7-18>18</a>
</span><span class=lnt id=hl-7-19><a class=lnlinks href=#hl-7-19>19</a>
</span><span class=lnt id=hl-7-20><a class=lnlinks href=#hl-7-20>20</a>
</span><span class=lnt id=hl-7-21><a class=lnlinks href=#hl-7-21>21</a>
</span><span class=lnt id=hl-7-22><a class=lnlinks href=#hl-7-22>22</a>
</span><span class=lnt id=hl-7-23><a class=lnlinks href=#hl-7-23>23</a>
</span><span class=lnt id=hl-7-24><a class=lnlinks href=#hl-7-24>24</a>
</span><span class=lnt id=hl-7-25><a class=lnlinks href=#hl-7-25>25</a>
</span><span class=lnt id=hl-7-26><a class=lnlinks href=#hl-7-26>26</a>
</span><span class=lnt id=hl-7-27><a class=lnlinks href=#hl-7-27>27</a>
</span><span class=lnt id=hl-7-28><a class=lnlinks href=#hl-7-28>28</a>
</span><span class=lnt id=hl-7-29><a class=lnlinks href=#hl-7-29>29</a>
</span><span class=lnt id=hl-7-30><a class=lnlinks href=#hl-7-30>30</a>
</span><span class=lnt id=hl-7-31><a class=lnlinks href=#hl-7-31>31</a>
</span><span class=lnt id=hl-7-32><a class=lnlinks href=#hl-7-32>32</a>
</span><span class=lnt id=hl-7-33><a class=lnlinks href=#hl-7-33>33</a>
</span><span class=lnt id=hl-7-34><a class=lnlinks href=#hl-7-34>34</a>
</span><span class=lnt id=hl-7-35><a class=lnlinks href=#hl-7-35>35</a>
</span><span class=lnt id=hl-7-36><a class=lnlinks href=#hl-7-36>36</a>
</span><span class=lnt id=hl-7-37><a class=lnlinks href=#hl-7-37>37</a>
</span><span class=lnt id=hl-7-38><a class=lnlinks href=#hl-7-38>38</a>
</span><span class=lnt id=hl-7-39><a class=lnlinks href=#hl-7-39>39</a>
</span><span class=lnt id=hl-7-40><a class=lnlinks href=#hl-7-40>40</a>
</span><span class=lnt id=hl-7-41><a class=lnlinks href=#hl-7-41>41</a>
</span><span class=lnt id=hl-7-42><a class=lnlinks href=#hl-7-42>42</a>
</span><span class=lnt id=hl-7-43><a class=lnlinks href=#hl-7-43>43</a>
</span><span class=lnt id=hl-7-44><a class=lnlinks href=#hl-7-44>44</a>
</span><span class=lnt id=hl-7-45><a class=lnlinks href=#hl-7-45>45</a>
</span><span class=lnt id=hl-7-46><a class=lnlinks href=#hl-7-46>46</a>
</span><span class=lnt id=hl-7-47><a class=lnlinks href=#hl-7-47>47</a>
</span><span class=lnt id=hl-7-48><a class=lnlinks href=#hl-7-48>48</a>
</span><span class=lnt id=hl-7-49><a class=lnlinks href=#hl-7-49>49</a>
</span><span class=lnt id=hl-7-50><a class=lnlinks href=#hl-7-50>50</a>
</span><span class=lnt id=hl-7-51><a class=lnlinks href=#hl-7-51>51</a>
</span><span class=lnt id=hl-7-52><a class=lnlinks href=#hl-7-52>52</a>
</span><span class=lnt id=hl-7-53><a class=lnlinks href=#hl-7-53>53</a>
</span><span class=lnt id=hl-7-54><a class=lnlinks href=#hl-7-54>54</a>
</span><span class=lnt id=hl-7-55><a class=lnlinks href=#hl-7-55>55</a>
</span><span class=lnt id=hl-7-56><a class=lnlinks href=#hl-7-56>56</a>
</span><span class=lnt id=hl-7-57><a class=lnlinks href=#hl-7-57>57</a>
</span><span class=lnt id=hl-7-58><a class=lnlinks href=#hl-7-58>58</a>
</span><span class=lnt id=hl-7-59><a class=lnlinks href=#hl-7-59>59</a>
</span><span class=lnt id=hl-7-60><a class=lnlinks href=#hl-7-60>60</a>
</span><span class=lnt id=hl-7-61><a class=lnlinks href=#hl-7-61>61</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># core/port.py</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>abc</span> <span class=kn>import</span> <span class=n>ABC</span><span class=p>,</span> <span class=n>abstractmethod</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pydantic</span> <span class=kn>import</span> <span class=n>BaseModel</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PaymentPort</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>charge</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amount</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span> <span class=o>...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>OrderPort</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order</span><span class=p>):</span> <span class=o>...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># core/usecase.py</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CreateOrderUseCase</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>pay</span><span class=p>:</span> <span class=n>PaymentPort</span><span class=p>,</span> <span class=n>repo</span><span class=p>:</span> <span class=n>OrderPort</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>pay</span> <span class=o>=</span> <span class=n>pay</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>repo</span> <span class=o>=</span> <span class=n>repo</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>execute</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order_data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>tx</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>pay</span><span class=o>.</span><span class=n>charge</span><span class=p>(</span><span class=n>order_data</span><span class=o>.</span><span class=n>amount</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>order</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;id&#34;</span><span class=p>:</span> <span class=n>order_data</span><span class=o>.</span><span class=n>id</span><span class=p>,</span> <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;PAID&#34;</span><span class=p>,</span> <span class=s2>&#34;tx&#34;</span><span class=p>:</span> <span class=n>tx</span><span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>repo</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=n>order</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>order</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># adapters/payment_stripe.py</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>StripePaymentAdapter</span><span class=p>(</span><span class=n>PaymentPort</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>charge</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amount</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># 실제 Stripe 라이브러리 호출</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;stripe_tx_123&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># adapters/order_repo.py</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>InMemoryOrderRepo</span><span class=p>(</span><span class=n>OrderPort</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>db</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>db</span><span class=p>[</span><span class=n>order</span><span class=p>[</span><span class=s2>&#34;id&#34;</span><span class=p>]]</span> <span class=o>=</span> <span class=n>order</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># app.py FastAPI 설정</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>fastapi</span> <span class=kn>import</span> <span class=n>FastAPI</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>core.usecase</span> <span class=kn>import</span> <span class=n>CreateOrderUseCase</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>core.port</span> <span class=kn>import</span> <span class=n>PaymentPort</span><span class=p>,</span> <span class=n>OrderPort</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>adapters.payment_stripe</span> <span class=kn>import</span> <span class=n>StripePaymentAdapter</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>adapters.order_repo</span> <span class=kn>import</span> <span class=n>InMemoryOrderRepo</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pydantic</span> <span class=kn>import</span> <span class=n>BaseModel</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>uuid</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>FastAPI</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>pay_adapter</span> <span class=o>=</span> <span class=n>StripePaymentAdapter</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>order_repo</span> <span class=o>=</span> <span class=n>InMemoryOrderRepo</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>usecase</span> <span class=o>=</span> <span class=n>CreateOrderUseCase</span><span class=p>(</span><span class=n>pay_adapter</span><span class=p>,</span> <span class=n>order_repo</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>OrderRequest</span><span class=p>(</span><span class=n>BaseModel</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>amount</span><span class=p>:</span> <span class=nb>float</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.post</span><span class=p>(</span><span class=s2>&#34;/orders&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>create_order</span><span class=p>(</span><span class=n>req</span><span class=p>:</span> <span class=n>OrderRequest</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>order_data</span> <span class=o>=</span> <span class=n>req</span>
</span></span><span class=line><span class=cl>    <span class=n>order_data</span><span class=o>.</span><span class=n>id</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>uuid</span><span class=o>.</span><span class=n>uuid4</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    <span class=n>order</span> <span class=o>=</span> <span class=n>usecase</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>order_data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>order</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>Port 정의 → UseCase 구현</li><li>Adapter 를 주입하여 외부 연동 구성</li><li>Core 테스트 용이, Adapter 만 단위 테스트 가능</li></ul><hr><p>다음은 요청하신 <strong>도전 과제</strong>, <strong>실무 적용 고려사항 및 주의할 점</strong>, <strong>최적화 고려사항 및 주의할 점</strong>, <strong>용어 정리</strong>, <strong>참고 및 출처</strong> 항목입니다.</p><hr><h2 id=-14-도전-과제-challenges>🎯 14. 도전 과제 (Challenges)<a hidden class=anchor aria-hidden=true href=#-14-도전-과제-challenges>#</a></h2><ol><li><p><strong>빈약한 도메인 모델 (Anemic Domain Model)</strong></p><ul><li><strong>원인</strong>: 도메인 로직이 Core 가 아닌 Adapter 에 흩어짐</li><li><strong>영향</strong>: 객체지향 설계 원칙 위반, 유지보수성 저하 (<a href="https://en.wikipedia.org/wiki/Hexagonal_architecture_%28software%29?utm_source=chatgpt.com" title="Hexagonal architecture (software)">medium.com</a>, <a href="https://dev.to/buarki/hexagonal-architectureports-and-adapters-clarifying-key-concepts-using-go-14oo?utm_source=chatgpt.com" title="Hexagonal Architecture/Ports And Adapters - DEV Community">geeksforgeeks.org</a>)</li><li><strong>탐지/진단</strong>: 도메인 객체가 단순 데이터 보관자일 경우</li><li><strong>예방</strong>: <code>Tell‑don’t‑ask</code> 패턴, 도메인 내 로직 집중</li><li><strong>해결</strong>: 도메인 모델로 비즈니스 로직 이동 후 테스트 자동화</li></ul></li><li><p><strong>ORM 및 데이터 피그 (Primitive Obsession)</strong></p><ul><li><strong>원인</strong>: 도메인 모델과 DB 간 불일치, ORM 직접 노출</li><li><strong>영향</strong>: 테스트 어려움, 데이터 중복 변환 발생 (<a href="https://en.wikipedia.org/wiki/Hexagonal_architecture_%28software%29?utm_source=chatgpt.com" title="Hexagonal architecture (software)">medium.com</a>, <a href="https://www.reddit.com/r/softwarearchitecture/comments/1brqh4t/a_very_simple_question_about_hexagonalclear/?utm_source=chatgpt.com" title="A very simple question about Hexagonal/Clear architecture - Reddit">medium.com</a>)</li><li><strong>탐지</strong>: DB 전용 속성 증가</li><li><strong>예방</strong>: Value Object 사용, domain‑first 디자인</li><li><strong>해결</strong>: Adapter 에서 DTO 매핑, 도메인 순수성 유지</li></ul></li><li><p><strong>Adapter 간 상호 호출 (오용)</strong></p><ul><li><strong>원인</strong>: Adapter 들 간 직접 종속 생김</li><li><strong>영향</strong>: 계층 분리 무너짐, 복잡도 상승 (<a href="https://medium.com/%40erickzanetti/understanding-hexagonal-architecture-ports-and-adapters-8945fc3e3dc0?utm_source=chatgpt.com" title="Understanding Hexagonal Architecture: Ports and Adapters - Medium">reddit.com</a>, <a href="https://scalastic.io/en/hexagonal-architecture/?utm_source=chatgpt.com" title="Everything You Need to Know About Hexagonal Architecture: Kernel …">tpierrain.blogspot.com</a>, <a href="https://softwareengineering.stackexchange.com/questions/386102/arent-domain-driven-design-hexagonal-architecture-with-real-world-constraints?utm_source=chatgpt.com" title='Aren&#39;t Domain Driven Design/"hexagonal architecture" with real …'>softwareengineering.stackexchange.com</a>, <a href="https://netflixtechblog.com/ready-for-changes-with-hexagonal-architecture-b315ec967749?utm_source=chatgpt.com" title="Ready for changes with Hexagonal Architecture - Netflix Tech Blog">netflixtechblog.com</a>)</li><li><strong>탐지</strong>: 코드 리뷰 및 의존성 분석</li><li><strong>예방</strong>: " 항상 중심 (Core) 을 통해 통신 " 원칙 고수</li><li><strong>해결</strong>: refactoring, 코드 리뷰 기반 개선</li></ul></li><li><p><strong>프로젝트 스캐터 (분산화 복잡도)</strong></p><ul><li><strong>원인</strong>: 과도한 패키지 및 계층 분리</li><li><strong>영향</strong>: 초기 진입 장벽, 코드 탐색 어려움</li><li><strong>탐지</strong>: 디렉터리 및 모듈 수 증가</li><li><strong>예방</strong>: 패키징 정책 수립, 문서화, 코드 템플릿 활용</li><li><strong>해결</strong>: 리팩토링, 템플릿 기반 초기세팅</li></ul></li></ol><hr><h2 id=-15-실무-적용-고려사항-및-주의할-점>📋 15. 실무 적용 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#-15-실무-적용-고려사항-및-주의할-점>#</a></h2><table><thead><tr><th>항목</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>프로젝트 규모</td><td>단순한 CRUD 에는 과도한 구조</td><td>Vertical Slice 또는 Onion 구조 사용</td></tr><tr><td>개발 역량</td><td>패턴 숙지 부족 시 오남용 위험</td><td>코드 컨벤션, 설계 리뷰, 교육 병행</td></tr><tr><td>포트 정립</td><td>과도한 Port 정의</td><td>핵심 흐름만 Port 로 정의, 모듈화</td></tr><tr><td>DI 도구 선택</td><td>무거운 DI 도구 사용 시 개념 복잡</td><td>컴파일타임 DI(AOT) 또는 경량 프레임워크</td></tr><tr><td>테스트 범위</td><td>유닛 테스트만으로는 부족</td><td>End-to-end, Contract Testing 병행</td></tr><tr><td>문서화</td><td>구조 복잡으로 팀 혼돈 발생</td><td>다이어그램 + 코드 매핑 문서화 필수</td></tr></tbody></table><hr><h2 id=-16-최적화-고려사항-및-주의할-점>⚙️ 16. 최적화 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#-16-최적화-고려사항-및-주의할-점>#</a></h2><table><thead><tr><th>항목</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>성능 오버헤드</td><td>DI 호출, 포트/어댑터 레이어 소모</td><td>AOT DI, 캐싱, 매핑 최소화</td></tr><tr><td>빌드 병목</td><td>모듈 분리 많으면 CI 빌드 지연</td><td>병렬/증분 빌드 지원, 모노레포 구조 고려</td></tr><tr><td>코드량 증가</td><td>Port/Adapter 코드 반복</td><td>코드 생성 도구, 템플릿 활용</td></tr><tr><td>테스트 유지관리</td><td>Adapter 불일치로 유지 단점 발생</td><td>Contract Tests + Mock 자동화</td></tr><tr><td>패키징 복잡도</td><td>모듈 수 증가로 탐색 어려움</td><td>기능 기반 패키징, 의존 관계 문서화</td></tr></tbody></table><hr><h2 id=-용어-정리>📌 용어 정리<a hidden class=anchor aria-hidden=true href=#-용어-정리>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>패턴</td><td>Anemic Domain Model</td><td>도메인 객체가 로직 없이 데이터만 보관</td></tr><tr><td>패턴</td><td>Tell‑don&rsquo;t‑ask</td><td>도메인 메시징 중심 설계, 로직 캡슐화 강화</td></tr><tr><td>개념</td><td>Value Object</td><td>불변 객제로 도메인 속성 표현</td></tr><tr><td>설계원칙</td><td>Contract Testing</td><td>사용자의 기대 인터페이스를 테스트로 보증</td></tr><tr><td>도구</td><td>AOT DI</td><td>컴파일 시점 의존성 주입 구조 생성</td></tr></tbody></table><hr><h2 id=-참고-및-출처>📚 참고 및 출처<a hidden class=anchor aria-hidden=true href=#-참고-및-출처>#</a></h2><ul><li>Albert Llousas, <em>Hexagonal Architecture: Common pitfalls</em> (<a href="https://softwareengineering.stackexchange.com/questions/386102/arent-domain-driven-design-hexagonal-architecture-with-real-world-constraints?utm_source=chatgpt.com" title='Aren&#39;t Domain Driven Design/"hexagonal architecture" with real …'>softwareengineering.stackexchange.com</a>, <a href="https://en.wikipedia.org/wiki/Hexagonal_architecture_%28software%29?utm_source=chatgpt.com" title="Hexagonal architecture (software)">en.wikipedia.org</a>, <a href="https://medium.com/%40erickzanetti/understanding-hexagonal-architecture-ports-and-adapters-8945fc3e3dc0?utm_source=chatgpt.com" title="Understanding Hexagonal Architecture: Ports and Adapters - Medium">reddit.com</a>, <a href="https://netflixtechblog.com/ready-for-changes-with-hexagonal-architecture-b315ec967749?utm_source=chatgpt.com" title="Ready for changes with Hexagonal Architecture - Netflix Tech Blog">netflixtechblog.com</a>, <a href="https://medium.com/%40pedrolisboa_10855/hexagonal-architecture-benefits-and-drawbacks-70c79f8c2c40?utm_source=chatgpt.com" title="Hexagonal Architecture: Benefits and Drawbacks | by Pedro Torres">medium.com</a>, <a href="https://en.wikipedia.org/wiki/Hexagonal_architecture_%28software%29?utm_source=chatgpt.com" title="Hexagonal architecture (software)">medium.com</a>)</li><li>StackOverflow 답변 <em>Drawbacks of Hexagonal Architecture</em> (<a href="https://stackoverflow.com/questions/29576344/drawbacks-of-hexagonal-architecture?utm_source=chatgpt.com" title="Drawbacks of Hexagonal Architecture - Stack Overflow">stackoverflow.com</a>)</li><li>Morteza Tavakoli, <em>Practical Review of Hexagonal Architecture</em> (<a href="https://www.reddit.com/r/softwarearchitecture/comments/1brqh4t/a_very_simple_question_about_hexagonalclear/?utm_source=chatgpt.com" title="A very simple question about Hexagonal/Clear architecture - Reddit">medium.com</a>)</li><li>Pedro Torres, <em>Benefits and Drawbacks</em> (<a href="https://medium.com/%40pedrolisboa_10855/hexagonal-architecture-benefits-and-drawbacks-70c79f8c2c40?utm_source=chatgpt.com" title="Hexagonal Architecture: Benefits and Drawbacks | by Pedro Torres">medium.com</a>)</li><li>JDriven Blog, <em>Why you should NOT use Hexagonal architecture</em> (<a href="https://jdriven.com/blog/2022/10/Why-you-should-NOT-use-Hexagonal-architecture?utm_source=chatgpt.com" title="Why you should NOT use Hexagonal architecture - JDriven Blog">jdriven.com</a>)</li><li>Netflix Tech Blog, <em>Ready for changes with Hexagonal Architecture</em> (<a href="https://netflixtechblog.com/ready-for-changes-with-hexagonal-architecture-b315ec967749?utm_source=chatgpt.com" title="Ready for changes with Hexagonal Architecture - Netflix Tech Blog">netflixtechblog.com</a>)</li><li>Wikipedia, <em>Hexagonal architecture (software)</em> (<a href="https://en.wikipedia.org/wiki/Hexagonal_architecture_%28software%29?utm_source=chatgpt.com" title="Hexagonal architecture (software)">en.wikipedia.org</a>)</li></ul><hr><p>해당 내용까지 Hexagonal Architecture 의 이론과 실무 가이드라인을 모두 정리했습니다. 추가 코드 최적화, 프레임워크별 적용 전략 등을 원하시면 언제든 요청해 주세요!</p><p>안녕하세요! 헥사고날 아키텍처 (Hexagonal Architecture) 에 대한 포괄적인 조사를 시작하겠습니다. 먼저 관련 정보를 웹에서 검색하여 최신 자료를 수집한 후 체계적으로 정리해드리겠습니다.</p><h2 id=헥사고날-아키텍처-hexagonal-architecture-포괄적-조사>헥사고날 아키텍처 (Hexagonal Architecture) 포괄적 조사<a hidden class=anchor aria-hidden=true href=#헥사고날-아키텍처-hexagonal-architecture-포괄적-조사>#</a></h2><h3 id=1-태그-및-분류>1. 태그 및 분류<a hidden class=anchor aria-hidden=true href=#1-태그-및-분류>#</a></h3><p><strong>태그</strong>: <code>Hexagonal-Architecture</code>, <code>Ports-and-Adapters</code>, <code>Software-Design-Pattern</code>, <code>Domain-Driven-Design</code></p><p><strong>주제 분류 적절성 검토</strong>:<br>제시된 분류 &ldquo;Computer Science and Engineering&rdquo; > &ldquo;Software Engineering&rdquo; > &ldquo;Design and Architecture&rdquo; > &ldquo;Architecture Styles and Patterns&rdquo; > &ldquo;Architecture Patterns&rdquo; 는 매우 적절합니다. 헥사고날 아키텍처는 소프트웨어 설계 패턴 중 아키텍처 패턴에 해당하며, 시스템의 전체적인 구조를 정의하는 설계 원칙이므로 이 분류가 정확합니다.</p><p><strong>요약 문장</strong>: 헥사고날 아키텍처는 비즈니스 로직을 외부 의존성으로부터 격리하여 포트 (Ports) 와 어댑터 (Adapters) 를 통해 통신하게 함으로써 테스트 용이성, 유연성, 유지보수성을 향상시키는 소프트웨어 설계 패턴입니다.</p><p><strong>개요</strong>: 2005 년 Alistair Cockburn 이 창안한 헥사고날 아키텍처는 포트와 어댑터 패턴이라고도 불리며, 애플리케이션의 핵심 비즈니스 로직을 중앙에 배치하고 외부 시스템과의 상호작용을 표준화된 인터페이스를 통해 처리합니다. 이를 통해 기술적 의존성 없이 독립적으로 테스트 가능하고 유연한 시스템을 구축할 수 있습니다.</p><hr><h3 id=2-첫-번째-부분-기본-개념-및-배경>2. 첫 번째 부분: 기본 개념 및 배경<a hidden class=anchor aria-hidden=true href=#2-첫-번째-부분-기본-개념-및-배경>#</a></h3><h4 id=핵심-개념-1>핵심 개념<a hidden class=anchor aria-hidden=true href=#핵심-개념-1>#</a></h4><p>헥사고날 아키텍처의 핵심 개념들과 실무 구현 요소:</p><p><strong>이론적 핵심 개념</strong>:</p><ul><li><strong>포트 (Ports)</strong>: 애플리케이션과 외부 세계 간의 통신을 위한 인터페이스 또는 계약</li><li><strong>어댑터 (Adapters)</strong>: 포트의 구체적인 구현체로 특정 기술과 도메인을 연결</li><li><strong>도메인 (Domain)</strong>: 비즈니스 로직이 포함된 애플리케이션의 핵심 부분</li><li><strong>의존성 역전 (Dependency Inversion)</strong>: 고수준 모듈이 저수준 모듈에 의존하지 않도록 하는 원칙</li></ul><p><strong>실무 구현 요소</strong>:</p><ul><li><strong>Primary Ports (Driver Ports)</strong>: 애플리케이션을 구동하는 외부 액터용 인터페이스 (REST API, CLI 등)</li><li><strong>Secondary Ports (Driven Ports)</strong>: 애플리케이션이 외부 서비스를 호출하기 위한 인터페이스 (데이터베이스, 외부 API 등)</li><li><strong>Primary Adapters (Driver Adapters)</strong>: 웹 컨트롤러, CLI 인터페이스 등</li><li><strong>Secondary Adapters (Driven Adapters)</strong>: 데이터베이스 리포지토리, 외부 API 클라이언트 등</li><li><strong>컨피규레이터 (Configurator)</strong>: 의존성 주입을 통해 포트와 어댑터를 연결하는 구성 요소</li></ul><h4 id=배경-1>배경<a hidden class=anchor aria-hidden=true href=#배경-1>#</a></h4><p>헥사고날 아키텍처는 2005 년 Alistair Cockburn 에 의해 창안되었습니다. 전통적인 계층형 아키텍처 (Layered Architecture) 의 한계를 극복하기 위해 개발되었으며, 특히 다음과 같은 문제점들을 해결하고자 했습니다:</p><ul><li>계층 간 원하지 않는 의존성</li><li>사용자 인터페이스 코드와 비즈니스 로직의 오염</li><li>데이터베이스 중심의 설계로 인한 비즈니스 로직 경시</li><li>테스트의 어려움과 기술적 종속성</li></ul><h4 id=목적-및-필요성-1>목적 및 필요성<a hidden class=anchor aria-hidden=true href=#목적-및-필요성-1>#</a></h4><p><strong>주요 목적</strong>:</p><ol><li>비즈니스 로직을 외부 기술적 관심사로부터 격리</li><li>애플리케이션이 사용자, 프로그램, 자동화된 테스트, 배치 스크립트에 의해 동등하게 구동될 수 있도록 함</li><li>런타임 디바이스와 데이터베이스로부터 독립적으로 개발 및 테스트 가능하도록 함</li></ol><p><strong>필요성</strong>:</p><ul><li><strong>기술적 유연성</strong>: 기술 스택 변경 시 비즈니스 로직에 영향을 주지 않음</li><li><strong>테스트 용이성</strong>: 외부 의존성 없이 단위 테스트 가능</li><li><strong>병렬 개발</strong>: 팀별로 독립적인 개발 가능</li><li><strong>유지보수성</strong>: 명확한 책임 분리로 코드 이해도 향상</li></ul><h4 id=주요-기능-및-역할-1>주요 기능 및 역할<a hidden class=anchor aria-hidden=true href=#주요-기능-및-역할-1>#</a></h4><p>헥사고날 아키텍처의 주요 기능:</p><ol><li><strong>비즈니스 로직 보호</strong>: 도메인 계층을 외부 변화로부터 보호</li><li><strong>인터페이스 표준화</strong>: 포트를 통한 일관된 통신 방식 제공</li><li><strong>기술적 독립성</strong>: 특정 프레임워크나 라이브러리에 종속되지 않음</li><li><strong>확장성</strong>: 새로운 어댑터 추가로 기능 확장 용이</li><li><strong>테스트 격리</strong>: 목 (Mock) 객체를 통한 독립적 테스트</li></ol><h4 id=특징-1>특징<a hidden class=anchor aria-hidden=true href=#특징-1>#</a></h4><p><strong>핵심 특징</strong>:</p><ul><li><strong>대칭성과 비대칭성의 공존</strong>: 모든 어댑터가 헥사곤에 의존하지만, 의존성 방향은 다름</li><li><strong>기술 무관성</strong>: 도메인 계층은 특정 기술에 의존하지 않음</li><li><strong>포트의 다중성</strong>: 하나의 포트에 여러 어댑터 연결 가능</li><li><strong>계층 없는 구조</strong>: 전통적인 상하 계층 구조 대신 중심 - 외곽 구조</li></ul><hr><h3 id=3-두-번째-부분-원칙과-구조>3. 두 번째 부분: 원칙과 구조<a hidden class=anchor aria-hidden=true href=#3-두-번째-부분-원칙과-구조>#</a></h3><h4 id=핵심-원칙-1>핵심 원칙<a hidden class=anchor aria-hidden=true href=#핵심-원칙-1>#</a></h4><ol><li><strong>의존성 역전 원칙 (Dependency Inversion Principle)</strong>: 고수준 모듈이 저수준 모듈에 의존하지 않음</li><li><strong>단일 책임 원칙 (Single Responsibility Principle)</strong>: 각 구성 요소는 하나의 명확한 책임을 가짐</li><li><strong>인터페이스 분리 원칙 (Interface Segregation Principle)</strong>: 클라이언트가 사용하지 않는 인터페이스에 의존하지 않음</li><li><strong>개방 - 폐쇄 원칙 (Open-Closed Principle)</strong>: 확장에는 열려있고 수정에는 닫혀있음</li></ol><h4 id=주요-원리>주요 원리<a hidden class=anchor aria-hidden=true href=#주요-원리>#</a></h4><p><strong>작동 원리 다이어그램</strong>:</p><pre class=mermaid>graph TD
    subgraph &#34;External World&#34;
        UI[User Interface]
        CLI[Command Line]
        Test[Test Scripts]
        DB[(Database)]
        API[External API]
        Queue[Message Queue]
    end
    
    subgraph &#34;Hexagonal Architecture&#34;
        subgraph &#34;Adapters Layer&#34;
            PA1[Primary Adapter&lt;br/&gt;Web Controller]
            PA2[Primary Adapter&lt;br/&gt;CLI Handler]
            SA1[Secondary Adapter&lt;br/&gt;DB Repository]
            SA2[Secondary Adapter&lt;br/&gt;API Client]
        end
        
        subgraph &#34;Ports Layer&#34;
            PP1[Primary Port&lt;br/&gt;UseCase Interface]
            PP2[Primary Port&lt;br/&gt;Command Interface]
            SP1[Secondary Port&lt;br/&gt;Repository Interface]
            SP2[Secondary Port&lt;br/&gt;External Service Interface]
        end
        
        subgraph &#34;Core Domain&#34;
            BL[Business Logic&lt;br/&gt;Domain Services&lt;br/&gt;Entities&lt;br/&gt;Value Objects]
        end
    end
    
    UI --&gt; PA1
    CLI --&gt; PA2
    Test --&gt; PA1
    
    PA1 --&gt; PP1
    PA2 --&gt; PP2
    PP1 --&gt; BL
    PP2 --&gt; BL
    
    BL --&gt; SP1
    BL --&gt; SP2
    SP1 --&gt; SA1
    SP2 --&gt; SA2
    
    SA1 --&gt; DB
    SA2 --&gt; API
    SA1 --&gt; Queue
</pre><h4 id=구조-및-아키텍처-1>구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#구조-및-아키텍처-1>#</a></h4><p><strong>구조 다이어그램</strong>:</p><pre class=mermaid>graph LR
    subgraph &#34;Outside World&#34;
        subgraph &#34;Left Side (Drivers)&#34;
            W[Web UI]
            M[Mobile App]
            T[Tests]
            C[CLI]
        end
        
        subgraph &#34;Right Side (Driven)&#34;
            D[(Database)]
            E[External API]
            F[File System]
            Q[Message Queue]
        end
    end
    
    subgraph &#34;Hexagon&#34;
        subgraph &#34;Primary Adapters&#34;
            WA[Web Adapter]
            MA[Mobile Adapter]
            TA[Test Adapter]
            CA[CLI Adapter]
        end
        
        subgraph &#34;Ports&#34;
            PP[Primary Ports&lt;br/&gt;Inbound]
            SP[Secondary Ports&lt;br/&gt;Outbound]
        end
        
        subgraph &#34;Application Core&#34;
            AC[Application Services&lt;br/&gt;Use Cases&lt;br/&gt;Domain Logic&lt;br/&gt;Business Rules]
        end
        
        subgraph &#34;Secondary Adapters&#34;
            DA[Database Adapter]
            EA[API Adapter]
            FA[File Adapter]
            QA[Queue Adapter]
        end
    end
    
    W --&gt; WA
    M --&gt; MA
    T --&gt; TA
    C --&gt; CA
    
    WA --&gt; PP
    MA --&gt; PP
    TA --&gt; PP
    CA --&gt; PP
    
    PP --&gt; AC
    AC --&gt; SP
    
    SP --&gt; DA
    SP --&gt; EA
    SP --&gt; FA
    SP --&gt; QA
    
    DA --&gt; D
    EA --&gt; E
    FA --&gt; F
    QA --&gt; Q
</pre><p><strong>필수 구성요소</strong>:</p><ol><li><p><strong>애플리케이션 코어 (Application Core)</strong></p><ul><li>기능: 비즈니스 로직과 도메인 규칙 포함</li><li>역할: 애플리케이션의 핵심 기능 수행</li><li>특징: 외부 기술에 의존하지 않는 순수한 비즈니스 로직</li></ul></li><li><p><strong>포트 (Ports)</strong></p><ul><li><p><strong>Primary Ports (Inbound Ports)</strong></p><ul><li>기능: 외부에서 애플리케이션으로의 진입점 정의</li><li>역할: 사용 사례 인터페이스 제공</li><li>특징: 애플리케이션이 제공하는 서비스 명세</li></ul></li><li><p><strong>Secondary Ports (Outbound Ports)</strong></p><ul><li>기능: 애플리케이션에서 외부 시스템으로의 진출점 정의</li><li>역할: 외부 서비스 의존성 추상화</li><li>특징: 애플리케이션이 필요로 하는 외부 서비스 계약</li></ul></li></ul></li><li><p><strong>어댑터 (Adapters)</strong></p><ul><li><p><strong>Primary Adapters (Driver Adapters)</strong></p><ul><li>기능: 외부 시스템의 요청을 애플리케이션 포트로 변환</li><li>역할: 사용자 인터페이스, API 엔드포인트 등 제공</li><li>특징: 포트에 의존하며 외부 기술과 결합</li></ul></li><li><p><strong>Secondary Adapters (Driven Adapters)</strong></p><ul><li>기능: 애플리케이션의 요청을 외부 시스템 호출로 변환</li><li>역할: 데이터베이스 접근, 외부 API 호출 등 수행</li><li>특징: 포트를 구현하며 구체적인 기술 사용</li></ul></li></ul></li></ol><p><strong>선택 구성요소</strong>:</p><ol><li><strong>컨피규레이터 (Configurator)</strong><ul><li>기능: 의존성 주입을 통한 포트와 어댑터 연결</li><li>역할: 애플리케이션 시작 시 구성 요소들을 조립</li><li>특징: 보통 프레임워크나 DI 컨테이너가 담당</li></ul></li></ol><h4 id=구현-기법-1>구현 기법<a hidden class=anchor aria-hidden=true href=#구현-기법-1>#</a></h4><p><strong>1. 의존성 주입 (Dependency Injection)</strong></p><ul><li><strong>정의</strong>: 객체의 의존성을 외부에서 주입하는 기법</li><li><strong>구성</strong>: 인터페이스 정의, 구현체 작성, 주입 설정</li><li><strong>목적</strong>: 느슨한 결합과 테스트 용이성 확보</li><li><strong>실제 예시</strong>: Spring Framework 의 @Autowired, 생성자 주입</li></ul><p><strong>2. 인터페이스 분리 (Interface Segregation)</strong></p><ul><li><strong>정의</strong>: 클라이언트별로 특화된 인터페이스 제공</li><li><strong>구성</strong>: 기능별 인터페이스 분리, 역할별 포트 정의</li><li><strong>목적</strong>: 불필요한 의존성 제거 및 결합도 감소</li><li><strong>실제 예시</strong>: UserRepository, OrderService 등 도메인별 인터페이스</li></ul><p><strong>3. 어댑터 패턴 (Adapter Pattern)</strong></p><ul><li><strong>정의</strong>: 호환되지 않는 인터페이스를 연결하는 패턴</li><li><strong>구성</strong>: 타겟 인터페이스, 어댑티, 어댑터 클래스</li><li><strong>목적</strong>: 기존 시스템과의 호환성 확보</li><li><strong>실제 예시</strong>: 레거시 시스템 연동, 서드파티 라이브러리 통합</li></ul><hr><h3 id=4-세-번째-부분-장단점-및-활용>4. 세 번째 부분: 장단점 및 활용<a hidden class=anchor aria-hidden=true href=#4-세-번째-부분-장단점-및-활용>#</a></h3><h4 id=장점-1>장점<a hidden class=anchor aria-hidden=true href=#장점-1>#</a></h4><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>장점</td><td>테스트 용이성</td><td>포트 인터페이스를 통한 목 객체 사용으로 독립적인 단위 테스트 가능</td></tr><tr><td>장점</td><td>기술적 유연성</td><td>어댑터 교체만으로 다른 기술 스택 사용 가능</td></tr><tr><td>장점</td><td>비즈니스 로직 보호</td><td>도메인 계층의 격리로 비즈니스 규칙 안정성 확보</td></tr><tr><td>장점</td><td>병렬 개발 지원</td><td>포트 정의 후 팀별 독립적 개발 가능</td></tr><tr><td>장점</td><td>유지보수성 향상</td><td>명확한 책임 분리로 코드 이해도 및 수정 용이성 증대</td></tr><tr><td>장점</td><td>확장성</td><td>새로운 어댑터 추가로 기능 확장 시 기존 코드 영향 최소화</td></tr></tbody></table><h4 id=단점과-문제점-그리고-해결방안-1>단점과 문제점 그리고 해결방안<a hidden class=anchor aria-hidden=true href=#단점과-문제점-그리고-해결방안-1>#</a></h4><p><strong>단점</strong></p><table><thead><tr><th>구분</th><th>항목</th><th>설명</th><th>해결책</th></tr></thead><tbody><tr><td>단점</td><td>초기 복잡성 증가</td><td>포트와 어댑터 계층 추가로 인한 구조 복잡성</td><td>단계적 도입, 명확한 문서화, 팀 교육</td></tr><tr><td>단점</td><td>학습 곡선</td><td>새로운 패턴 적용을 위한 팀의 학습 시간 필요</td><td>실습 위주 교육, 멘토링, 점진적 적용</td></tr><tr><td>단점</td><td>과도한 추상화</td><td>단순한 애플리케이션에 대한 불필요한 복잡성</td><td>프로젝트 규모 및 복잡성 평가 후 적용 여부 결정</td></tr><tr><td>단점</td><td>성능 오버헤드</td><td>간접 호출 계층으로 인한 약간의 성능 저하</td><td>성능 크리티컬 부분 식별 및 최적화</td></tr></tbody></table><p><strong>문제점</strong></p><table><thead><tr><th>구분</th><th>항목</th><th>원인</th><th>영향</th><th>탐지 및 진단</th><th>예방 방법</th><th>해결 방법 및 기법</th></tr></thead><tbody><tr><td>문제점</td><td>매핑 복잡성</td><td>도메인 모델과 외부 모델 간 변환</td><td>개발 시간 증가, 버그 발생 위험</td><td>코드 리뷰, 자동화 테스트</td><td>명확한 매핑 규칙 정의</td><td>매핑 라이브러리 사용, 자동 생성 도구</td></tr><tr><td>문제점</td><td>디버깅 어려움</td><td>간접 호출로 인한 호출 스택 추적 복잡성</td><td>문제 해결 시간 증가</td><td>로깅 강화, 트레이싱 도구</td><td>적절한 로깅 전략 수립</td><td>분산 트레이싱, 상세 로깅</td></tr><tr><td>문제점</td><td>포트 설계 오류</td><td>부적절한 인터페이스 설계</td><td>잦은 인터페이스 변경, 결합도 증가</td><td>인터페이스 안정성 분석</td><td>도메인 이해 선행, 프로토타이핑</td><td>리팩토링, 인터페이스 재설계</td></tr></tbody></table><h4 id=도전-과제-1>도전 과제<a hidden class=anchor aria-hidden=true href=#도전-과제-1>#</a></h4><p><strong>기술적 도전 과제</strong>:</p><ol><li><p><strong>마이크로서비스 환경에서의 적용</strong></p><ul><li>원인: 분산 시스템의 복잡성과 네트워크 통신</li><li>영향: 트랜잭션 관리, 데이터 일관성 문제</li><li>해결 방법: 이벤트 소싱, CQRS 패턴, 분산 트레이싱</li></ul></li><li><p><strong>레거시 시스템 통합</strong></p><ul><li>원인: 기존 시스템의 구조적 제약</li><li>영향: 어댑터 복잡성 증가, 성능 저하</li><li>해결 방법: 단계적 마이그레이션, Anti-Corruption Layer 패턴</li></ul></li><li><p><strong>실시간 성능 요구사항</strong></p><ul><li>원인: 간접 호출로 인한 지연시간</li><li>영향: 응답 시간 증가, 처리량 감소</li><li>해결 방법: 성능 프로파일링, 캐싱 전략, 비동기 처리</li></ul></li></ol><h4 id=분류-기준에-따른-종류-및-유형-1>분류 기준에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#분류-기준에-따른-종류-및-유형-1>#</a></h4><table><thead><tr><th>분류 기준</th><th>종류/유형</th><th>설명</th></tr></thead><tbody><tr><td>포트 방향성</td><td>Primary Ports (Inbound)</td><td>외부에서 애플리케이션으로의 진입점</td></tr><tr><td>포트 방향성</td><td>Secondary Ports (Outbound)</td><td>애플리케이션에서 외부로의 진출점</td></tr><tr><td>어댑터 유형</td><td>Driver Adapters</td><td>애플리케이션을 구동하는 외부 시스템용</td></tr><tr><td>어댑터 유형</td><td>Driven Adapters</td><td>애플리케이션이 구동하는 외부 시스템용</td></tr><tr><td>기술별 분류</td><td>Web Adapters</td><td>HTTP, REST API, GraphQL 등</td></tr><tr><td>기술별 분류</td><td>Database Adapters</td><td>RDBMS, NoSQL, 파일 시스템 등</td></tr><tr><td>기술별 분류</td><td>Messaging Adapters</td><td>메시지 큐, 이벤트 스트림 등</td></tr></tbody></table><h4 id=실무-사용-예시-1>실무 사용 예시<a hidden class=anchor aria-hidden=true href=#실무-사용-예시-1>#</a></h4><table><thead><tr><th>구분</th><th>사용 목적</th><th>함께 사용되는 기술</th><th>효과</th></tr></thead><tbody><tr><td>E-commerce</td><td>결제 시스템 독립성</td><td>다양한 결제 게이트웨이 API</td><td>결제 업체 변경 시 비즈니스 로직 무변경</td></tr><tr><td>금융 서비스</td><td>규제 대응</td><td>레거시 시스템, 신규 API</td><td>규제 변경 시 빠른 대응, 시스템 안정성</td></tr><tr><td>콘텐츠 관리</td><td>다중 채널 지원</td><td>웹, 모바일, API</td><td>채널별 독립적 개발, 일관된 비즈니스 로직</td></tr><tr><td>IoT 플랫폼</td><td>디바이스 다양성</td><td>다양한 통신 프로토콜</td><td>새로운 디바이스 추가 시 유연성</td></tr></tbody></table><h4 id=활용-사례-1>활용 사례<a hidden class=anchor aria-hidden=true href=#활용-사례-1>#</a></h4><p><strong>사례: E-commerce 주문 관리 시스템</strong></p><p><strong>시스템 구성</strong>:</p><ul><li>Primary Adapters: REST API Controller, 관리자 웹 인터페이스</li><li>Secondary Adapters: MySQL Database, Redis Cache, 결제 API, 배송 API</li><li>Core Domain: 주문 처리 로직, 재고 관리, 가격 계산</li></ul><p><strong>시스템 구성 다이어그램</strong>:</p><pre class=mermaid>graph TB
    subgraph &#34;External Systems&#34;
        Customer[고객 웹사이트]
        Admin[관리자 대시보드]
        PaymentGW[결제 게이트웨이]
        ShippingAPI[배송 API]
        InventoryDB[(재고 DB)]
    end
    
    subgraph &#34;Primary Adapters&#34;
        WebAPI[Web API Controller]
        AdminWeb[Admin Web Controller]
    end
    
    subgraph &#34;Application Core&#34;
        OrderService[주문 서비스]
        InventoryService[재고 서비스]
        PricingService[가격 서비스]
    end
    
    subgraph &#34;Secondary Adapters&#34;
        PaymentAdapter[결제 어댑터]
        ShippingAdapter[배송 어댑터]
        DBAdapter[데이터베이스 어댑터]
    end
    
    Customer --&gt; WebAPI
    Admin --&gt; AdminWeb
    
    WebAPI --&gt; OrderService
    AdminWeb --&gt; OrderService
    OrderService --&gt; InventoryService
    OrderService --&gt; PricingService
    
    OrderService --&gt; PaymentAdapter
    OrderService --&gt; ShippingAdapter
    OrderService --&gt; DBAdapter
    
    PaymentAdapter --&gt; PaymentGW
    ShippingAdapter --&gt; ShippingAPI
    DBAdapter --&gt; InventoryDB
</pre><p><strong>Workflow</strong>:</p><ol><li>고객이 웹사이트에서 주문 요청</li><li>Web API Controller 가 요청을 받아 주문 서비스 호출</li><li>주문 서비스가 재고 확인, 가격 계산 수행</li><li>주문 서비스가 결제 어댑터를 통해 결제 처리</li><li>결제 완료 후 배송 어댑터를 통해 배송 요청</li><li>데이터베이스 어댑터를 통해 주문 정보 저장</li><li>고객에게 주문 완료 응답 반환</li></ol><p><strong>기존 시스템과의 차이점</strong>:</p><ul><li><strong>전통적 계층형</strong>: 컨트롤러 → 서비스 → 리포지토리 순차적 의존</li><li><strong>헥사고날</strong>: 도메인 중심으로 포트를 통한 양방향 통신</li><li><strong>유연성</strong>: 결제 업체 변경 시 어댑터만 교체하면 됨</li><li><strong>테스트</strong>: 모든 외부 의존성을 목 객체로 대체 가능</li></ul><h4 id=구현-예시>구현 예시<a hidden class=anchor aria-hidden=true href=#구현-예시>#</a></h4><p><strong>Python 을 사용한 주문 관리 시스템 구현</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1>  1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2>  2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3>  3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4>  4</a>
</span><span class=lnt id=hl-11-5><a class=lnlinks href=#hl-11-5>  5</a>
</span><span class=lnt id=hl-11-6><a class=lnlinks href=#hl-11-6>  6</a>
</span><span class=lnt id=hl-11-7><a class=lnlinks href=#hl-11-7>  7</a>
</span><span class=lnt id=hl-11-8><a class=lnlinks href=#hl-11-8>  8</a>
</span><span class=lnt id=hl-11-9><a class=lnlinks href=#hl-11-9>  9</a>
</span><span class=lnt id=hl-11-10><a class=lnlinks href=#hl-11-10> 10</a>
</span><span class=lnt id=hl-11-11><a class=lnlinks href=#hl-11-11> 11</a>
</span><span class=lnt id=hl-11-12><a class=lnlinks href=#hl-11-12> 12</a>
</span><span class=lnt id=hl-11-13><a class=lnlinks href=#hl-11-13> 13</a>
</span><span class=lnt id=hl-11-14><a class=lnlinks href=#hl-11-14> 14</a>
</span><span class=lnt id=hl-11-15><a class=lnlinks href=#hl-11-15> 15</a>
</span><span class=lnt id=hl-11-16><a class=lnlinks href=#hl-11-16> 16</a>
</span><span class=lnt id=hl-11-17><a class=lnlinks href=#hl-11-17> 17</a>
</span><span class=lnt id=hl-11-18><a class=lnlinks href=#hl-11-18> 18</a>
</span><span class=lnt id=hl-11-19><a class=lnlinks href=#hl-11-19> 19</a>
</span><span class=lnt id=hl-11-20><a class=lnlinks href=#hl-11-20> 20</a>
</span><span class=lnt id=hl-11-21><a class=lnlinks href=#hl-11-21> 21</a>
</span><span class=lnt id=hl-11-22><a class=lnlinks href=#hl-11-22> 22</a>
</span><span class=lnt id=hl-11-23><a class=lnlinks href=#hl-11-23> 23</a>
</span><span class=lnt id=hl-11-24><a class=lnlinks href=#hl-11-24> 24</a>
</span><span class=lnt id=hl-11-25><a class=lnlinks href=#hl-11-25> 25</a>
</span><span class=lnt id=hl-11-26><a class=lnlinks href=#hl-11-26> 26</a>
</span><span class=lnt id=hl-11-27><a class=lnlinks href=#hl-11-27> 27</a>
</span><span class=lnt id=hl-11-28><a class=lnlinks href=#hl-11-28> 28</a>
</span><span class=lnt id=hl-11-29><a class=lnlinks href=#hl-11-29> 29</a>
</span><span class=lnt id=hl-11-30><a class=lnlinks href=#hl-11-30> 30</a>
</span><span class=lnt id=hl-11-31><a class=lnlinks href=#hl-11-31> 31</a>
</span><span class=lnt id=hl-11-32><a class=lnlinks href=#hl-11-32> 32</a>
</span><span class=lnt id=hl-11-33><a class=lnlinks href=#hl-11-33> 33</a>
</span><span class=lnt id=hl-11-34><a class=lnlinks href=#hl-11-34> 34</a>
</span><span class=lnt id=hl-11-35><a class=lnlinks href=#hl-11-35> 35</a>
</span><span class=lnt id=hl-11-36><a class=lnlinks href=#hl-11-36> 36</a>
</span><span class=lnt id=hl-11-37><a class=lnlinks href=#hl-11-37> 37</a>
</span><span class=lnt id=hl-11-38><a class=lnlinks href=#hl-11-38> 38</a>
</span><span class=lnt id=hl-11-39><a class=lnlinks href=#hl-11-39> 39</a>
</span><span class=lnt id=hl-11-40><a class=lnlinks href=#hl-11-40> 40</a>
</span><span class=lnt id=hl-11-41><a class=lnlinks href=#hl-11-41> 41</a>
</span><span class=lnt id=hl-11-42><a class=lnlinks href=#hl-11-42> 42</a>
</span><span class=lnt id=hl-11-43><a class=lnlinks href=#hl-11-43> 43</a>
</span><span class=lnt id=hl-11-44><a class=lnlinks href=#hl-11-44> 44</a>
</span><span class=lnt id=hl-11-45><a class=lnlinks href=#hl-11-45> 45</a>
</span><span class=lnt id=hl-11-46><a class=lnlinks href=#hl-11-46> 46</a>
</span><span class=lnt id=hl-11-47><a class=lnlinks href=#hl-11-47> 47</a>
</span><span class=lnt id=hl-11-48><a class=lnlinks href=#hl-11-48> 48</a>
</span><span class=lnt id=hl-11-49><a class=lnlinks href=#hl-11-49> 49</a>
</span><span class=lnt id=hl-11-50><a class=lnlinks href=#hl-11-50> 50</a>
</span><span class=lnt id=hl-11-51><a class=lnlinks href=#hl-11-51> 51</a>
</span><span class=lnt id=hl-11-52><a class=lnlinks href=#hl-11-52> 52</a>
</span><span class=lnt id=hl-11-53><a class=lnlinks href=#hl-11-53> 53</a>
</span><span class=lnt id=hl-11-54><a class=lnlinks href=#hl-11-54> 54</a>
</span><span class=lnt id=hl-11-55><a class=lnlinks href=#hl-11-55> 55</a>
</span><span class=lnt id=hl-11-56><a class=lnlinks href=#hl-11-56> 56</a>
</span><span class=lnt id=hl-11-57><a class=lnlinks href=#hl-11-57> 57</a>
</span><span class=lnt id=hl-11-58><a class=lnlinks href=#hl-11-58> 58</a>
</span><span class=lnt id=hl-11-59><a class=lnlinks href=#hl-11-59> 59</a>
</span><span class=lnt id=hl-11-60><a class=lnlinks href=#hl-11-60> 60</a>
</span><span class=lnt id=hl-11-61><a class=lnlinks href=#hl-11-61> 61</a>
</span><span class=lnt id=hl-11-62><a class=lnlinks href=#hl-11-62> 62</a>
</span><span class=lnt id=hl-11-63><a class=lnlinks href=#hl-11-63> 63</a>
</span><span class=lnt id=hl-11-64><a class=lnlinks href=#hl-11-64> 64</a>
</span><span class=lnt id=hl-11-65><a class=lnlinks href=#hl-11-65> 65</a>
</span><span class=lnt id=hl-11-66><a class=lnlinks href=#hl-11-66> 66</a>
</span><span class=lnt id=hl-11-67><a class=lnlinks href=#hl-11-67> 67</a>
</span><span class=lnt id=hl-11-68><a class=lnlinks href=#hl-11-68> 68</a>
</span><span class=lnt id=hl-11-69><a class=lnlinks href=#hl-11-69> 69</a>
</span><span class=lnt id=hl-11-70><a class=lnlinks href=#hl-11-70> 70</a>
</span><span class=lnt id=hl-11-71><a class=lnlinks href=#hl-11-71> 71</a>
</span><span class=lnt id=hl-11-72><a class=lnlinks href=#hl-11-72> 72</a>
</span><span class=lnt id=hl-11-73><a class=lnlinks href=#hl-11-73> 73</a>
</span><span class=lnt id=hl-11-74><a class=lnlinks href=#hl-11-74> 74</a>
</span><span class=lnt id=hl-11-75><a class=lnlinks href=#hl-11-75> 75</a>
</span><span class=lnt id=hl-11-76><a class=lnlinks href=#hl-11-76> 76</a>
</span><span class=lnt id=hl-11-77><a class=lnlinks href=#hl-11-77> 77</a>
</span><span class=lnt id=hl-11-78><a class=lnlinks href=#hl-11-78> 78</a>
</span><span class=lnt id=hl-11-79><a class=lnlinks href=#hl-11-79> 79</a>
</span><span class=lnt id=hl-11-80><a class=lnlinks href=#hl-11-80> 80</a>
</span><span class=lnt id=hl-11-81><a class=lnlinks href=#hl-11-81> 81</a>
</span><span class=lnt id=hl-11-82><a class=lnlinks href=#hl-11-82> 82</a>
</span><span class=lnt id=hl-11-83><a class=lnlinks href=#hl-11-83> 83</a>
</span><span class=lnt id=hl-11-84><a class=lnlinks href=#hl-11-84> 84</a>
</span><span class=lnt id=hl-11-85><a class=lnlinks href=#hl-11-85> 85</a>
</span><span class=lnt id=hl-11-86><a class=lnlinks href=#hl-11-86> 86</a>
</span><span class=lnt id=hl-11-87><a class=lnlinks href=#hl-11-87> 87</a>
</span><span class=lnt id=hl-11-88><a class=lnlinks href=#hl-11-88> 88</a>
</span><span class=lnt id=hl-11-89><a class=lnlinks href=#hl-11-89> 89</a>
</span><span class=lnt id=hl-11-90><a class=lnlinks href=#hl-11-90> 90</a>
</span><span class=lnt id=hl-11-91><a class=lnlinks href=#hl-11-91> 91</a>
</span><span class=lnt id=hl-11-92><a class=lnlinks href=#hl-11-92> 92</a>
</span><span class=lnt id=hl-11-93><a class=lnlinks href=#hl-11-93> 93</a>
</span><span class=lnt id=hl-11-94><a class=lnlinks href=#hl-11-94> 94</a>
</span><span class=lnt id=hl-11-95><a class=lnlinks href=#hl-11-95> 95</a>
</span><span class=lnt id=hl-11-96><a class=lnlinks href=#hl-11-96> 96</a>
</span><span class=lnt id=hl-11-97><a class=lnlinks href=#hl-11-97> 97</a>
</span><span class=lnt id=hl-11-98><a class=lnlinks href=#hl-11-98> 98</a>
</span><span class=lnt id=hl-11-99><a class=lnlinks href=#hl-11-99> 99</a>
</span><span class=lnt id=hl-11-100><a class=lnlinks href=#hl-11-100>100</a>
</span><span class=lnt id=hl-11-101><a class=lnlinks href=#hl-11-101>101</a>
</span><span class=lnt id=hl-11-102><a class=lnlinks href=#hl-11-102>102</a>
</span><span class=lnt id=hl-11-103><a class=lnlinks href=#hl-11-103>103</a>
</span><span class=lnt id=hl-11-104><a class=lnlinks href=#hl-11-104>104</a>
</span><span class=lnt id=hl-11-105><a class=lnlinks href=#hl-11-105>105</a>
</span><span class=lnt id=hl-11-106><a class=lnlinks href=#hl-11-106>106</a>
</span><span class=lnt id=hl-11-107><a class=lnlinks href=#hl-11-107>107</a>
</span><span class=lnt id=hl-11-108><a class=lnlinks href=#hl-11-108>108</a>
</span><span class=lnt id=hl-11-109><a class=lnlinks href=#hl-11-109>109</a>
</span><span class=lnt id=hl-11-110><a class=lnlinks href=#hl-11-110>110</a>
</span><span class=lnt id=hl-11-111><a class=lnlinks href=#hl-11-111>111</a>
</span><span class=lnt id=hl-11-112><a class=lnlinks href=#hl-11-112>112</a>
</span><span class=lnt id=hl-11-113><a class=lnlinks href=#hl-11-113>113</a>
</span><span class=lnt id=hl-11-114><a class=lnlinks href=#hl-11-114>114</a>
</span><span class=lnt id=hl-11-115><a class=lnlinks href=#hl-11-115>115</a>
</span><span class=lnt id=hl-11-116><a class=lnlinks href=#hl-11-116>116</a>
</span><span class=lnt id=hl-11-117><a class=lnlinks href=#hl-11-117>117</a>
</span><span class=lnt id=hl-11-118><a class=lnlinks href=#hl-11-118>118</a>
</span><span class=lnt id=hl-11-119><a class=lnlinks href=#hl-11-119>119</a>
</span><span class=lnt id=hl-11-120><a class=lnlinks href=#hl-11-120>120</a>
</span><span class=lnt id=hl-11-121><a class=lnlinks href=#hl-11-121>121</a>
</span><span class=lnt id=hl-11-122><a class=lnlinks href=#hl-11-122>122</a>
</span><span class=lnt id=hl-11-123><a class=lnlinks href=#hl-11-123>123</a>
</span><span class=lnt id=hl-11-124><a class=lnlinks href=#hl-11-124>124</a>
</span><span class=lnt id=hl-11-125><a class=lnlinks href=#hl-11-125>125</a>
</span><span class=lnt id=hl-11-126><a class=lnlinks href=#hl-11-126>126</a>
</span><span class=lnt id=hl-11-127><a class=lnlinks href=#hl-11-127>127</a>
</span><span class=lnt id=hl-11-128><a class=lnlinks href=#hl-11-128>128</a>
</span><span class=lnt id=hl-11-129><a class=lnlinks href=#hl-11-129>129</a>
</span><span class=lnt id=hl-11-130><a class=lnlinks href=#hl-11-130>130</a>
</span><span class=lnt id=hl-11-131><a class=lnlinks href=#hl-11-131>131</a>
</span><span class=lnt id=hl-11-132><a class=lnlinks href=#hl-11-132>132</a>
</span><span class=lnt id=hl-11-133><a class=lnlinks href=#hl-11-133>133</a>
</span><span class=lnt id=hl-11-134><a class=lnlinks href=#hl-11-134>134</a>
</span><span class=lnt id=hl-11-135><a class=lnlinks href=#hl-11-135>135</a>
</span><span class=lnt id=hl-11-136><a class=lnlinks href=#hl-11-136>136</a>
</span><span class=lnt id=hl-11-137><a class=lnlinks href=#hl-11-137>137</a>
</span><span class=lnt id=hl-11-138><a class=lnlinks href=#hl-11-138>138</a>
</span><span class=lnt id=hl-11-139><a class=lnlinks href=#hl-11-139>139</a>
</span><span class=lnt id=hl-11-140><a class=lnlinks href=#hl-11-140>140</a>
</span><span class=lnt id=hl-11-141><a class=lnlinks href=#hl-11-141>141</a>
</span><span class=lnt id=hl-11-142><a class=lnlinks href=#hl-11-142>142</a>
</span><span class=lnt id=hl-11-143><a class=lnlinks href=#hl-11-143>143</a>
</span><span class=lnt id=hl-11-144><a class=lnlinks href=#hl-11-144>144</a>
</span><span class=lnt id=hl-11-145><a class=lnlinks href=#hl-11-145>145</a>
</span><span class=lnt id=hl-11-146><a class=lnlinks href=#hl-11-146>146</a>
</span><span class=lnt id=hl-11-147><a class=lnlinks href=#hl-11-147>147</a>
</span><span class=lnt id=hl-11-148><a class=lnlinks href=#hl-11-148>148</a>
</span><span class=lnt id=hl-11-149><a class=lnlinks href=#hl-11-149>149</a>
</span><span class=lnt id=hl-11-150><a class=lnlinks href=#hl-11-150>150</a>
</span><span class=lnt id=hl-11-151><a class=lnlinks href=#hl-11-151>151</a>
</span><span class=lnt id=hl-11-152><a class=lnlinks href=#hl-11-152>152</a>
</span><span class=lnt id=hl-11-153><a class=lnlinks href=#hl-11-153>153</a>
</span><span class=lnt id=hl-11-154><a class=lnlinks href=#hl-11-154>154</a>
</span><span class=lnt id=hl-11-155><a class=lnlinks href=#hl-11-155>155</a>
</span><span class=lnt id=hl-11-156><a class=lnlinks href=#hl-11-156>156</a>
</span><span class=lnt id=hl-11-157><a class=lnlinks href=#hl-11-157>157</a>
</span><span class=lnt id=hl-11-158><a class=lnlinks href=#hl-11-158>158</a>
</span><span class=lnt id=hl-11-159><a class=lnlinks href=#hl-11-159>159</a>
</span><span class=lnt id=hl-11-160><a class=lnlinks href=#hl-11-160>160</a>
</span><span class=lnt id=hl-11-161><a class=lnlinks href=#hl-11-161>161</a>
</span><span class=lnt id=hl-11-162><a class=lnlinks href=#hl-11-162>162</a>
</span><span class=lnt id=hl-11-163><a class=lnlinks href=#hl-11-163>163</a>
</span><span class=lnt id=hl-11-164><a class=lnlinks href=#hl-11-164>164</a>
</span><span class=lnt id=hl-11-165><a class=lnlinks href=#hl-11-165>165</a>
</span><span class=lnt id=hl-11-166><a class=lnlinks href=#hl-11-166>166</a>
</span><span class=lnt id=hl-11-167><a class=lnlinks href=#hl-11-167>167</a>
</span><span class=lnt id=hl-11-168><a class=lnlinks href=#hl-11-168>168</a>
</span><span class=lnt id=hl-11-169><a class=lnlinks href=#hl-11-169>169</a>
</span><span class=lnt id=hl-11-170><a class=lnlinks href=#hl-11-170>170</a>
</span><span class=lnt id=hl-11-171><a class=lnlinks href=#hl-11-171>171</a>
</span><span class=lnt id=hl-11-172><a class=lnlinks href=#hl-11-172>172</a>
</span><span class=lnt id=hl-11-173><a class=lnlinks href=#hl-11-173>173</a>
</span><span class=lnt id=hl-11-174><a class=lnlinks href=#hl-11-174>174</a>
</span><span class=lnt id=hl-11-175><a class=lnlinks href=#hl-11-175>175</a>
</span><span class=lnt id=hl-11-176><a class=lnlinks href=#hl-11-176>176</a>
</span><span class=lnt id=hl-11-177><a class=lnlinks href=#hl-11-177>177</a>
</span><span class=lnt id=hl-11-178><a class=lnlinks href=#hl-11-178>178</a>
</span><span class=lnt id=hl-11-179><a class=lnlinks href=#hl-11-179>179</a>
</span><span class=lnt id=hl-11-180><a class=lnlinks href=#hl-11-180>180</a>
</span><span class=lnt id=hl-11-181><a class=lnlinks href=#hl-11-181>181</a>
</span><span class=lnt id=hl-11-182><a class=lnlinks href=#hl-11-182>182</a>
</span><span class=lnt id=hl-11-183><a class=lnlinks href=#hl-11-183>183</a>
</span><span class=lnt id=hl-11-184><a class=lnlinks href=#hl-11-184>184</a>
</span><span class=lnt id=hl-11-185><a class=lnlinks href=#hl-11-185>185</a>
</span><span class=lnt id=hl-11-186><a class=lnlinks href=#hl-11-186>186</a>
</span><span class=lnt id=hl-11-187><a class=lnlinks href=#hl-11-187>187</a>
</span><span class=lnt id=hl-11-188><a class=lnlinks href=#hl-11-188>188</a>
</span><span class=lnt id=hl-11-189><a class=lnlinks href=#hl-11-189>189</a>
</span><span class=lnt id=hl-11-190><a class=lnlinks href=#hl-11-190>190</a>
</span><span class=lnt id=hl-11-191><a class=lnlinks href=#hl-11-191>191</a>
</span><span class=lnt id=hl-11-192><a class=lnlinks href=#hl-11-192>192</a>
</span><span class=lnt id=hl-11-193><a class=lnlinks href=#hl-11-193>193</a>
</span><span class=lnt id=hl-11-194><a class=lnlinks href=#hl-11-194>194</a>
</span><span class=lnt id=hl-11-195><a class=lnlinks href=#hl-11-195>195</a>
</span><span class=lnt id=hl-11-196><a class=lnlinks href=#hl-11-196>196</a>
</span><span class=lnt id=hl-11-197><a class=lnlinks href=#hl-11-197>197</a>
</span><span class=lnt id=hl-11-198><a class=lnlinks href=#hl-11-198>198</a>
</span><span class=lnt id=hl-11-199><a class=lnlinks href=#hl-11-199>199</a>
</span><span class=lnt id=hl-11-200><a class=lnlinks href=#hl-11-200>200</a>
</span><span class=lnt id=hl-11-201><a class=lnlinks href=#hl-11-201>201</a>
</span><span class=lnt id=hl-11-202><a class=lnlinks href=#hl-11-202>202</a>
</span><span class=lnt id=hl-11-203><a class=lnlinks href=#hl-11-203>203</a>
</span><span class=lnt id=hl-11-204><a class=lnlinks href=#hl-11-204>204</a>
</span><span class=lnt id=hl-11-205><a class=lnlinks href=#hl-11-205>205</a>
</span><span class=lnt id=hl-11-206><a class=lnlinks href=#hl-11-206>206</a>
</span><span class=lnt id=hl-11-207><a class=lnlinks href=#hl-11-207>207</a>
</span><span class=lnt id=hl-11-208><a class=lnlinks href=#hl-11-208>208</a>
</span><span class=lnt id=hl-11-209><a class=lnlinks href=#hl-11-209>209</a>
</span><span class=lnt id=hl-11-210><a class=lnlinks href=#hl-11-210>210</a>
</span><span class=lnt id=hl-11-211><a class=lnlinks href=#hl-11-211>211</a>
</span><span class=lnt id=hl-11-212><a class=lnlinks href=#hl-11-212>212</a>
</span><span class=lnt id=hl-11-213><a class=lnlinks href=#hl-11-213>213</a>
</span><span class=lnt id=hl-11-214><a class=lnlinks href=#hl-11-214>214</a>
</span><span class=lnt id=hl-11-215><a class=lnlinks href=#hl-11-215>215</a>
</span><span class=lnt id=hl-11-216><a class=lnlinks href=#hl-11-216>216</a>
</span><span class=lnt id=hl-11-217><a class=lnlinks href=#hl-11-217>217</a>
</span><span class=lnt id=hl-11-218><a class=lnlinks href=#hl-11-218>218</a>
</span><span class=lnt id=hl-11-219><a class=lnlinks href=#hl-11-219>219</a>
</span><span class=lnt id=hl-11-220><a class=lnlinks href=#hl-11-220>220</a>
</span><span class=lnt id=hl-11-221><a class=lnlinks href=#hl-11-221>221</a>
</span><span class=lnt id=hl-11-222><a class=lnlinks href=#hl-11-222>222</a>
</span><span class=lnt id=hl-11-223><a class=lnlinks href=#hl-11-223>223</a>
</span><span class=lnt id=hl-11-224><a class=lnlinks href=#hl-11-224>224</a>
</span><span class=lnt id=hl-11-225><a class=lnlinks href=#hl-11-225>225</a>
</span><span class=lnt id=hl-11-226><a class=lnlinks href=#hl-11-226>226</a>
</span><span class=lnt id=hl-11-227><a class=lnlinks href=#hl-11-227>227</a>
</span><span class=lnt id=hl-11-228><a class=lnlinks href=#hl-11-228>228</a>
</span><span class=lnt id=hl-11-229><a class=lnlinks href=#hl-11-229>229</a>
</span><span class=lnt id=hl-11-230><a class=lnlinks href=#hl-11-230>230</a>
</span><span class=lnt id=hl-11-231><a class=lnlinks href=#hl-11-231>231</a>
</span><span class=lnt id=hl-11-232><a class=lnlinks href=#hl-11-232>232</a>
</span><span class=lnt id=hl-11-233><a class=lnlinks href=#hl-11-233>233</a>
</span><span class=lnt id=hl-11-234><a class=lnlinks href=#hl-11-234>234</a>
</span><span class=lnt id=hl-11-235><a class=lnlinks href=#hl-11-235>235</a>
</span><span class=lnt id=hl-11-236><a class=lnlinks href=#hl-11-236>236</a>
</span><span class=lnt id=hl-11-237><a class=lnlinks href=#hl-11-237>237</a>
</span><span class=lnt id=hl-11-238><a class=lnlinks href=#hl-11-238>238</a>
</span><span class=lnt id=hl-11-239><a class=lnlinks href=#hl-11-239>239</a>
</span><span class=lnt id=hl-11-240><a class=lnlinks href=#hl-11-240>240</a>
</span><span class=lnt id=hl-11-241><a class=lnlinks href=#hl-11-241>241</a>
</span><span class=lnt id=hl-11-242><a class=lnlinks href=#hl-11-242>242</a>
</span><span class=lnt id=hl-11-243><a class=lnlinks href=#hl-11-243>243</a>
</span><span class=lnt id=hl-11-244><a class=lnlinks href=#hl-11-244>244</a>
</span><span class=lnt id=hl-11-245><a class=lnlinks href=#hl-11-245>245</a>
</span><span class=lnt id=hl-11-246><a class=lnlinks href=#hl-11-246>246</a>
</span><span class=lnt id=hl-11-247><a class=lnlinks href=#hl-11-247>247</a>
</span><span class=lnt id=hl-11-248><a class=lnlinks href=#hl-11-248>248</a>
</span><span class=lnt id=hl-11-249><a class=lnlinks href=#hl-11-249>249</a>
</span><span class=lnt id=hl-11-250><a class=lnlinks href=#hl-11-250>250</a>
</span><span class=lnt id=hl-11-251><a class=lnlinks href=#hl-11-251>251</a>
</span><span class=lnt id=hl-11-252><a class=lnlinks href=#hl-11-252>252</a>
</span><span class=lnt id=hl-11-253><a class=lnlinks href=#hl-11-253>253</a>
</span><span class=lnt id=hl-11-254><a class=lnlinks href=#hl-11-254>254</a>
</span><span class=lnt id=hl-11-255><a class=lnlinks href=#hl-11-255>255</a>
</span><span class=lnt id=hl-11-256><a class=lnlinks href=#hl-11-256>256</a>
</span><span class=lnt id=hl-11-257><a class=lnlinks href=#hl-11-257>257</a>
</span><span class=lnt id=hl-11-258><a class=lnlinks href=#hl-11-258>258</a>
</span><span class=lnt id=hl-11-259><a class=lnlinks href=#hl-11-259>259</a>
</span><span class=lnt id=hl-11-260><a class=lnlinks href=#hl-11-260>260</a>
</span><span class=lnt id=hl-11-261><a class=lnlinks href=#hl-11-261>261</a>
</span><span class=lnt id=hl-11-262><a class=lnlinks href=#hl-11-262>262</a>
</span><span class=lnt id=hl-11-263><a class=lnlinks href=#hl-11-263>263</a>
</span><span class=lnt id=hl-11-264><a class=lnlinks href=#hl-11-264>264</a>
</span><span class=lnt id=hl-11-265><a class=lnlinks href=#hl-11-265>265</a>
</span><span class=lnt id=hl-11-266><a class=lnlinks href=#hl-11-266>266</a>
</span><span class=lnt id=hl-11-267><a class=lnlinks href=#hl-11-267>267</a>
</span><span class=lnt id=hl-11-268><a class=lnlinks href=#hl-11-268>268</a>
</span><span class=lnt id=hl-11-269><a class=lnlinks href=#hl-11-269>269</a>
</span><span class=lnt id=hl-11-270><a class=lnlinks href=#hl-11-270>270</a>
</span><span class=lnt id=hl-11-271><a class=lnlinks href=#hl-11-271>271</a>
</span><span class=lnt id=hl-11-272><a class=lnlinks href=#hl-11-272>272</a>
</span><span class=lnt id=hl-11-273><a class=lnlinks href=#hl-11-273>273</a>
</span><span class=lnt id=hl-11-274><a class=lnlinks href=#hl-11-274>274</a>
</span><span class=lnt id=hl-11-275><a class=lnlinks href=#hl-11-275>275</a>
</span><span class=lnt id=hl-11-276><a class=lnlinks href=#hl-11-276>276</a>
</span><span class=lnt id=hl-11-277><a class=lnlinks href=#hl-11-277>277</a>
</span><span class=lnt id=hl-11-278><a class=lnlinks href=#hl-11-278>278</a>
</span><span class=lnt id=hl-11-279><a class=lnlinks href=#hl-11-279>279</a>
</span><span class=lnt id=hl-11-280><a class=lnlinks href=#hl-11-280>280</a>
</span><span class=lnt id=hl-11-281><a class=lnlinks href=#hl-11-281>281</a>
</span><span class=lnt id=hl-11-282><a class=lnlinks href=#hl-11-282>282</a>
</span><span class=lnt id=hl-11-283><a class=lnlinks href=#hl-11-283>283</a>
</span><span class=lnt id=hl-11-284><a class=lnlinks href=#hl-11-284>284</a>
</span><span class=lnt id=hl-11-285><a class=lnlinks href=#hl-11-285>285</a>
</span><span class=lnt id=hl-11-286><a class=lnlinks href=#hl-11-286>286</a>
</span><span class=lnt id=hl-11-287><a class=lnlinks href=#hl-11-287>287</a>
</span><span class=lnt id=hl-11-288><a class=lnlinks href=#hl-11-288>288</a>
</span><span class=lnt id=hl-11-289><a class=lnlinks href=#hl-11-289>289</a>
</span><span class=lnt id=hl-11-290><a class=lnlinks href=#hl-11-290>290</a>
</span><span class=lnt id=hl-11-291><a class=lnlinks href=#hl-11-291>291</a>
</span><span class=lnt id=hl-11-292><a class=lnlinks href=#hl-11-292>292</a>
</span><span class=lnt id=hl-11-293><a class=lnlinks href=#hl-11-293>293</a>
</span><span class=lnt id=hl-11-294><a class=lnlinks href=#hl-11-294>294</a>
</span><span class=lnt id=hl-11-295><a class=lnlinks href=#hl-11-295>295</a>
</span><span class=lnt id=hl-11-296><a class=lnlinks href=#hl-11-296>296</a>
</span><span class=lnt id=hl-11-297><a class=lnlinks href=#hl-11-297>297</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Domain Layer - 비즈니스 로직</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>abc</span> <span class=kn>import</span> <span class=n>ABC</span><span class=p>,</span> <span class=n>abstractmethod</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>dataclasses</span> <span class=kn>import</span> <span class=n>dataclass</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>List</span><span class=p>,</span> <span class=n>Optional</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>datetime</span> <span class=kn>import</span> <span class=n>datetime</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@dataclass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Order</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;주문 엔티티&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>order_id</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>customer_id</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>items</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>dict</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>total_amount</span><span class=p>:</span> <span class=nb>float</span>
</span></span><span class=line><span class=cl>    <span class=n>status</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&#34;PENDING&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>created_at</span><span class=p>:</span> <span class=n>datetime</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>__post_init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>created_at</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>created_at</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>calculate_total</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;총 금액 계산&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>sum</span><span class=p>(</span><span class=n>item</span><span class=p>[</span><span class=s1>&#39;price&#39;</span><span class=p>]</span> <span class=o>*</span> <span class=n>item</span><span class=p>[</span><span class=s1>&#39;quantity&#39;</span><span class=p>]</span> <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>confirm_payment</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;결제 확인&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>status</span> <span class=o>=</span> <span class=s2>&#34;PAID&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>ship_order</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;배송 처리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>status</span> <span class=o>==</span> <span class=s2>&#34;PAID&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>status</span> <span class=o>=</span> <span class=s2>&#34;SHIPPED&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&#34;결제되지 않은 주문은 배송할 수 없습니다&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Secondary Ports (Outbound Ports)</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>OrderRepository</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;주문 저장소 포트&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order</span><span class=p>:</span> <span class=n>Order</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Order</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>find_by_id</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Order</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PaymentService</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;결제 서비스 포트&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process_payment</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>amount</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ShippingService</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;배송 서비스 포트&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>request_shipping</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order</span><span class=p>:</span> <span class=n>Order</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Primary Ports (Inbound Ports)</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>OrderUseCase</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;주문 사용 사례 포트&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_order</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>customer_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>items</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>dict</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>Order</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process_order</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Order</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Application Service - 도메인 로직 조율</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>OrderService</span><span class=p>(</span><span class=n>OrderUseCase</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;주문 서비스 - 사용 사례 구현&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                 <span class=n>order_repository</span><span class=p>:</span> <span class=n>OrderRepository</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                 <span class=n>payment_service</span><span class=p>:</span> <span class=n>PaymentService</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                 <span class=n>shipping_service</span><span class=p>:</span> <span class=n>ShippingService</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>order_repository</span> <span class=o>=</span> <span class=n>order_repository</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>payment_service</span> <span class=o>=</span> <span class=n>payment_service</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>shipping_service</span> <span class=o>=</span> <span class=n>shipping_service</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_order</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>customer_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>items</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>dict</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>Order</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;주문 생성&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=kn>import</span> <span class=nn>uuid</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>order</span> <span class=o>=</span> <span class=n>Order</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>order_id</span><span class=o>=</span><span class=nb>str</span><span class=p>(</span><span class=n>uuid</span><span class=o>.</span><span class=n>uuid4</span><span class=p>()),</span>
</span></span><span class=line><span class=cl>            <span class=n>customer_id</span><span class=o>=</span><span class=n>customer_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>items</span><span class=o>=</span><span class=n>items</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>total_amount</span><span class=o>=</span><span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>order</span><span class=o>.</span><span class=n>total_amount</span> <span class=o>=</span> <span class=n>order</span><span class=o>.</span><span class=n>calculate_total</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 주문 저장</span>
</span></span><span class=line><span class=cl>        <span class=n>saved_order</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>order_repository</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=n>order</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>saved_order</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process_order</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Order</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;주문 처리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># 주문 조회</span>
</span></span><span class=line><span class=cl>        <span class=n>order</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>order_repository</span><span class=o>.</span><span class=n>find_by_id</span><span class=p>(</span><span class=n>order_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>order</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;주문을 찾을 수 없습니다: </span><span class=si>{</span><span class=n>order_id</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 결제 처리</span>
</span></span><span class=line><span class=cl>        <span class=n>payment_success</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>payment_service</span><span class=o>.</span><span class=n>process_payment</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>order</span><span class=o>.</span><span class=n>order_id</span><span class=p>,</span> <span class=n>order</span><span class=o>.</span><span class=n>total_amount</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>payment_success</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>order</span><span class=o>.</span><span class=n>confirm_payment</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 배송 요청</span>
</span></span><span class=line><span class=cl>            <span class=n>shipping_id</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>shipping_service</span><span class=o>.</span><span class=n>request_shipping</span><span class=p>(</span><span class=n>order</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>order</span><span class=o>.</span><span class=n>ship_order</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 주문 상태 업데이트 저장</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>order_repository</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=n>order</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>order</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Secondary Adapters (Driven Adapters)</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MySQLOrderRepository</span><span class=p>(</span><span class=n>OrderRepository</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;MySQL 주문 저장소 어댑터&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>connection_string</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>connection_string</span> <span class=o>=</span> <span class=n>connection_string</span>
</span></span><span class=line><span class=cl>        <span class=c1># 실제 구현에서는 데이터베이스 연결 초기화</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order</span><span class=p>:</span> <span class=n>Order</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Order</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;주문 저장&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># 실제 구현에서는 SQL INSERT/UPDATE 수행</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;MySQL에 주문 저장: </span><span class=si>{</span><span class=n>order</span><span class=o>.</span><span class=n>order_id</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>order</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>find_by_id</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Order</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;주문 조회&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># 실제 구현에서는 SQL SELECT 수행</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;MySQL에서 주문 조회: </span><span class=si>{</span><span class=n>order_id</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 임시 데이터 반환</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>Order</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>order_id</span><span class=o>=</span><span class=n>order_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>customer_id</span><span class=o>=</span><span class=s2>&#34;customer123&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>items</span><span class=o>=</span><span class=p>[{</span><span class=s2>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;상품A&#34;</span><span class=p>,</span> <span class=s2>&#34;price&#34;</span><span class=p>:</span> <span class=mi>10000</span><span class=p>,</span> <span class=s2>&#34;quantity&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>}],</span>
</span></span><span class=line><span class=cl>            <span class=n>total_amount</span><span class=o>=</span><span class=mi>20000</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>StripePaymentAdapter</span><span class=p>(</span><span class=n>PaymentService</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Stripe 결제 어댑터&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>api_key</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>api_key</span> <span class=o>=</span> <span class=n>api_key</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process_payment</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>amount</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;Stripe를 통한 결제 처리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Stripe 결제 처리: 주문 </span><span class=si>{</span><span class=n>order_id</span><span class=si>}</span><span class=s2>, 금액 </span><span class=si>{</span><span class=n>amount</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 실제 구현에서는 Stripe API 호출</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>True</span>  <span class=c1># 성공 가정</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CourierShippingAdapter</span><span class=p>(</span><span class=n>ShippingService</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;택배 배송 어댑터&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>api_endpoint</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>api_endpoint</span> <span class=o>=</span> <span class=n>api_endpoint</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>request_shipping</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order</span><span class=p>:</span> <span class=n>Order</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;배송 요청&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;택배 배송 요청: 주문 </span><span class=si>{</span><span class=n>order</span><span class=o>.</span><span class=n>order_id</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 실제 구현에서는 택배사 API 호출</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;SHIP123456&#34;</span>  <span class=c1># 배송 추적 번호</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Primary Adapters (Driver Adapters)</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>flask</span> <span class=kn>import</span> <span class=n>Flask</span><span class=p>,</span> <span class=n>request</span><span class=p>,</span> <span class=n>jsonify</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>OrderWebController</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;웹 API 컨트롤러 어댑터&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order_service</span><span class=p>:</span> <span class=n>OrderUseCase</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>order_service</span> <span class=o>=</span> <span class=n>order_service</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>app</span> <span class=o>=</span> <span class=n>Flask</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_setup_routes</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_setup_routes</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;라우트 설정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nd>@self.app.route</span><span class=p>(</span><span class=s1>&#39;/orders&#39;</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;POST&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>create_order</span><span class=p>():</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;&#34;&#34;주문 생성 엔드포인트&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>data</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>json</span>
</span></span><span class=line><span class=cl>                <span class=n>order</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>order_service</span><span class=o>.</span><span class=n>create_order</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                    <span class=n>customer_id</span><span class=o>=</span><span class=n>data</span><span class=p>[</span><span class=s1>&#39;customer_id&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>                    <span class=n>items</span><span class=o>=</span><span class=n>data</span><span class=p>[</span><span class=s1>&#39;items&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                <span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>jsonify</span><span class=p>({</span>
</span></span><span class=line><span class=cl>                    <span class=s1>&#39;order_id&#39;</span><span class=p>:</span> <span class=n>order</span><span class=o>.</span><span class=n>order_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=s1>&#39;status&#39;</span><span class=p>:</span> <span class=n>order</span><span class=o>.</span><span class=n>status</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=s1>&#39;total_amount&#39;</span><span class=p>:</span> <span class=n>order</span><span class=o>.</span><span class=n>total_amount</span>
</span></span><span class=line><span class=cl>                <span class=p>}),</span> <span class=mi>201</span>
</span></span><span class=line><span class=cl>            <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>jsonify</span><span class=p>({</span><span class=s1>&#39;error&#39;</span><span class=p>:</span> <span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>)}),</span> <span class=mi>400</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nd>@self.app.route</span><span class=p>(</span><span class=s1>&#39;/orders/&lt;order_id&gt;/process&#39;</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;POST&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>process_order</span><span class=p>(</span><span class=n>order_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;&#34;&#34;주문 처리 엔드포인트&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>order</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>order_service</span><span class=o>.</span><span class=n>process_order</span><span class=p>(</span><span class=n>order_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>jsonify</span><span class=p>({</span>
</span></span><span class=line><span class=cl>                    <span class=s1>&#39;order_id&#39;</span><span class=p>:</span> <span class=n>order</span><span class=o>.</span><span class=n>order_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=s1>&#39;status&#39;</span><span class=p>:</span> <span class=n>order</span><span class=o>.</span><span class=n>status</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=s1>&#39;total_amount&#39;</span><span class=p>:</span> <span class=n>order</span><span class=o>.</span><span class=n>total_amount</span>
</span></span><span class=line><span class=cl>                <span class=p>}),</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>            <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>jsonify</span><span class=p>({</span><span class=s1>&#39;error&#39;</span><span class=p>:</span> <span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>)}),</span> <span class=mi>400</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Configuration - 의존성 주입 설정</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ApplicationConfig</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;애플리케이션 구성&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@staticmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_order_service</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>OrderService</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;주문 서비스 생성 및 의존성 주입&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># Secondary Adapters 생성</span>
</span></span><span class=line><span class=cl>        <span class=n>order_repository</span> <span class=o>=</span> <span class=n>MySQLOrderRepository</span><span class=p>(</span><span class=s2>&#34;mysql://localhost/orders&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>payment_service</span> <span class=o>=</span> <span class=n>StripePaymentAdapter</span><span class=p>(</span><span class=s2>&#34;sk_test_123456&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>shipping_service</span> <span class=o>=</span> <span class=n>CourierShippingAdapter</span><span class=p>(</span><span class=s2>&#34;https://api.courier.com&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 주문 서비스 생성</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>OrderService</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>order_repository</span><span class=o>=</span><span class=n>order_repository</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>payment_service</span><span class=o>=</span><span class=n>payment_service</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>shipping_service</span><span class=o>=</span><span class=n>shipping_service</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@staticmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_web_app</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Flask</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;웹 애플리케이션 생성&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>order_service</span> <span class=o>=</span> <span class=n>ApplicationConfig</span><span class=o>.</span><span class=n>create_order_service</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>controller</span> <span class=o>=</span> <span class=n>OrderWebController</span><span class=p>(</span><span class=n>order_service</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>controller</span><span class=o>.</span><span class=n>app</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 애플리케이션 실행</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span> <span class=o>=</span> <span class=n>ApplicationConfig</span><span class=o>.</span><span class=n>create_web_app</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>debug</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 테스트 예시</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>unittest</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>unittest.mock</span> <span class=kn>import</span> <span class=n>Mock</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>TestOrderService</span><span class=p>(</span><span class=n>unittest</span><span class=o>.</span><span class=n>TestCase</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;주문 서비스 테스트&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>setUp</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;테스트 설정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>mock_repository</span> <span class=o>=</span> <span class=n>Mock</span><span class=p>(</span><span class=n>spec</span><span class=o>=</span><span class=n>OrderRepository</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>mock_payment</span> <span class=o>=</span> <span class=n>Mock</span><span class=p>(</span><span class=n>spec</span><span class=o>=</span><span class=n>PaymentService</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>mock_shipping</span> <span class=o>=</span> <span class=n>Mock</span><span class=p>(</span><span class=n>spec</span><span class=o>=</span><span class=n>ShippingService</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>order_service</span> <span class=o>=</span> <span class=n>OrderService</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>mock_repository</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>mock_payment</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>mock_shipping</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>test_create_order</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;주문 생성 테스트&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># Given</span>
</span></span><span class=line><span class=cl>        <span class=n>items</span> <span class=o>=</span> <span class=p>[{</span><span class=s2>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;상품A&#34;</span><span class=p>,</span> <span class=s2>&#34;price&#34;</span><span class=p>:</span> <span class=mi>10000</span><span class=p>,</span> <span class=s2>&#34;quantity&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>}]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>mock_repository</span><span class=o>.</span><span class=n>save</span><span class=o>.</span><span class=n>return_value</span> <span class=o>=</span> <span class=n>Mock</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># When</span>
</span></span><span class=line><span class=cl>        <span class=n>order</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>order_service</span><span class=o>.</span><span class=n>create_order</span><span class=p>(</span><span class=s2>&#34;customer123&#34;</span><span class=p>,</span> <span class=n>items</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># Then</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>assertEqual</span><span class=p>(</span><span class=n>order</span><span class=o>.</span><span class=n>total_amount</span><span class=p>,</span> <span class=mi>20000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>mock_repository</span><span class=o>.</span><span class=n>save</span><span class=o>.</span><span class=n>assert_called_once</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>test_process_order_success</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;주문 처리 성공 테스트&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># Given</span>
</span></span><span class=line><span class=cl>        <span class=n>order</span> <span class=o>=</span> <span class=n>Order</span><span class=p>(</span><span class=s2>&#34;order123&#34;</span><span class=p>,</span> <span class=s2>&#34;customer123&#34;</span><span class=p>,</span> <span class=p>[],</span> <span class=mi>20000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>mock_repository</span><span class=o>.</span><span class=n>find_by_id</span><span class=o>.</span><span class=n>return_value</span> <span class=o>=</span> <span class=n>order</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>mock_payment</span><span class=o>.</span><span class=n>process_payment</span><span class=o>.</span><span class=n>return_value</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>mock_shipping</span><span class=o>.</span><span class=n>request_shipping</span><span class=o>.</span><span class=n>return_value</span> <span class=o>=</span> <span class=s2>&#34;SHIP123&#34;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># When</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>order_service</span><span class=o>.</span><span class=n>process_order</span><span class=p>(</span><span class=s2>&#34;order123&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># Then</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>assertEqual</span><span class=p>(</span><span class=n>result</span><span class=o>.</span><span class=n>status</span><span class=p>,</span> <span class=s2>&#34;SHIPPED&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>mock_payment</span><span class=o>.</span><span class=n>process_payment</span><span class=o>.</span><span class=n>assert_called_once</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>mock_shipping</span><span class=o>.</span><span class=n>request_shipping</span><span class=o>.</span><span class=n>assert_called_once</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=4-네-번째-부분-최적화-및-고려사항>4. 네 번째 부분: 최적화 및 고려사항<a hidden class=anchor aria-hidden=true href=#4-네-번째-부분-최적화-및-고려사항>#</a></h3><h4 id=실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점-1>실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점-1>#</a></h4><table><thead><tr><th>구분</th><th>고려사항</th><th>주의할 점</th><th>권장사항</th></tr></thead><tbody><tr><td>프로젝트 규모</td><td>복잡한 비즈니스 로직이 있는 중대형 프로젝트</td><td>단순한 CRUD 애플리케이션에는 과도한 복잡성</td><td>프로젝트 복잡도 평가 후 적용 결정</td></tr><tr><td>팀 역량</td><td>팀의 아키텍처 패턴 이해도와 경험</td><td>학습 곡선으로 인한 초기 생산성 저하</td><td>점진적 도입과 지속적인 교육</td></tr><tr><td>포트 설계</td><td>안정적이고 명확한 인터페이스 정의</td><td>잦은 인터페이스 변경으로 인한 불안정성</td><td>도메인 모델링 선행, 프로토타이핑</td></tr><tr><td>테스트 전략</td><td>포트별 독립적인 테스트 케이스 작성</td><td>통합 테스트 복잡성 증가</td><td>테스트 피라미드 전략 수립</td></tr><tr><td>성능 최적화</td><td>간접 호출로 인한 성능 오버헤드</td><td>과도한 추상화로 인한 성능 저하</td><td>성능 크리티컬 경로 식별 및 최적화</td></tr></tbody></table><h4 id=최적화하기-위한-고려사항-및-주의할-점-1>최적화하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#최적화하기-위한-고려사항-및-주의할-점-1>#</a></h4><table><thead><tr><th>구분</th><th>최적화 방법</th><th>주의사항</th><th>권장사항</th></tr></thead><tbody><tr><td>포트 설계</td><td>응집도 높은 인터페이스 설계</td><td>너무 세분화된 포트로 인한 복잡성</td><td>단일 책임 원칙 기반 포트 설계</td></tr><tr><td>어댑터 관리</td><td>어댑터별 독립적인 라이프사이클 관리</td><td>어댑터 간 의존성 발생</td><td>컨테이너 기반 의존성 관리</td></tr><tr><td>매핑 최적화</td><td>도메인 -DTO 간 효율적인 매핑</td><td>과도한 매핑 로직으로 인한 성능 저하</td><td>매핑 라이브러리 활용, 자동화</td></tr><tr><td>캐싱 전략</td><td>포트 레벨에서의 캐싱 적용</td><td>캐시 무효화 복잡성 증가</td><td>적절한 캐시 범위 설정</td></tr><tr><td>모니터링</td><td>포트별 성능 및 에러 모니터링</td><td>분산된 로깅으로 인한 추적 어려움</td><td>통합 모니터링 시스템 구축</td></tr></tbody></table><h4 id=주제와-관련하여-주목할-내용>주제와 관련하여 주목할 내용<a hidden class=anchor aria-hidden=true href=#주제와-관련하여-주목할-내용>#</a></h4><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>관련 패턴</td><td>Clean Architecture</td><td>동심원 구조</td><td>헥사고날 아키텍처를 확장한 계층형 구조</td></tr><tr><td>관련 패턴</td><td>Onion Architecture</td><td>계층 분리</td><td>의존성 역전을 통한 도메인 중심 설계</td></tr><tr><td>관련 패턴</td><td>Domain-Driven Design</td><td>도메인 모델링</td><td>비즈니스 도메인 중심의 소프트웨어 설계</td></tr><tr><td>구현 기술</td><td>Dependency Injection</td><td>의존성 주입</td><td>느슨한 결합을 위한 핵심 기술</td></tr><tr><td>구현 기술</td><td>Interface Segregation</td><td>인터페이스 분리</td><td>클라이언트별 특화된 인터페이스 제공</td></tr><tr><td>테스트 전략</td><td>Test Doubles</td><td>목 객체</td><td>외부 의존성 격리를 위한 테스트 기법</td></tr><tr><td>마이크로서비스</td><td>Anti-Corruption Layer</td><td>부패 방지 계층</td><td>레거시 시스템과의 통합 패턴</td></tr><tr><td>마이크로서비스</td><td>Event-Driven Architecture</td><td>이벤트 기반 통신</td><td>비동기 메시징을 통한 서비스 간 통신</td></tr></tbody></table><h4 id=주제와-관련하여-반드시-학습해야할-내용>주제와 관련하여 반드시 학습해야할 내용<a hidden class=anchor aria-hidden=true href=#주제와-관련하여-반드시-학습해야할-내용>#</a></h4><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>설계 원칙</td><td>SOLID 원칙</td><td>객체지향 설계</td><td>의존성 역전, 단일 책임 등 핵심 원칙</td></tr><tr><td>설계 패턴</td><td>Adapter Pattern</td><td>구조 패턴</td><td>호환되지 않는 인터페이스 연결</td></tr><tr><td>설계 패턴</td><td>Strategy Pattern</td><td>행위 패턴</td><td>알고리즘 캡슐화 및 교체 가능성</td></tr><tr><td>아키텍처</td><td>Layered Architecture</td><td>계층형 구조</td><td>전통적 아키텍처와의 차이점 이해</td></tr><tr><td>구현 기술</td><td>Dependency Injection</td><td>IoC 컨테이너</td><td>Spring, Guice 등 DI 프레임워크</td></tr><tr><td>테스트 기법</td><td>Unit Testing</td><td>단위 테스트</td><td>Mock, Stub 을 활용한 독립적 테스트</td></tr><tr><td>도메인 모델링</td><td>Domain-Driven Design</td><td>전술적 설계</td><td>Entity, Value Object, Aggregate</td></tr><tr><td>마이크로서비스</td><td>Service Decomposition</td><td>서비스 분할</td><td>비즈니스 역량 기반 서비스 경계 설정</td></tr></tbody></table><h4 id=기타-사항-1>기타 사항<a hidden class=anchor aria-hidden=true href=#기타-사항-1>#</a></h4><p><strong>최신 트렌드와 발전 방향</strong>:</p><ol><li><p><strong>클라우드 네이티브 환경</strong></p><ul><li>컨테이너화를 통한 어댑터 독립적 배포</li><li>서비스 메시와의 통합</li><li>FaaS (Function as a Service) 환경에서의 적용</li></ul></li><li><p><strong>마이크로서비스 아키텍처와의 융합</strong></p><ul><li>서비스별 헥사고날 아키텍처 적용</li><li>API 게이트웨이를 통한 포트 표준화</li><li>이벤트 소싱과의 결합</li></ul></li><li><p><strong>AI/ML 시스템과의 통합</strong></p><ul><li>머신러닝 모델을 어댑터로 활용</li><li>데이터 파이프라인과의 연동</li><li>실시간 추론 시스템 구축</li></ul></li></ol><p><strong>도구 및 프레임워크 지원</strong>:</p><ul><li><strong>Java</strong>: Spring Boot, Quarkus, Micronaut</li><li><strong>Python</strong>: FastAPI, Django, Flask</li><li><strong>JavaScript/TypeScript</strong>: NestJS, Express</li><li><strong>C#</strong>:.NET Core, ASP.NET</li></ul><p><strong>성공적인 도입을 위한 체크리스트</strong>:</p><ol><li>명확한 도메인 모델 정의</li><li>안정적인 포트 인터페이스 설계</li><li>효율적인 어댑터 구현</li><li>포괄적인 테스트 전략</li><li>지속적인 리팩토링 및 개선</li></ol><hr><h3 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h3><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>핵심 개념</td><td>Port (포트)</td><td>애플리케이션과 외부 세계 간의 통신 인터페이스</td></tr><tr><td>핵심 개념</td><td>Adapter (어댑터)</td><td>포트의 구체적인 구현체로 특정 기술과 연결</td></tr><tr><td>핵심 개념</td><td>Hexagon (헥사곤)</td><td>비즈니스 로직이 포함된 애플리케이션 핵심 부분</td></tr><tr><td>포트 유형</td><td>Primary Port</td><td>외부에서 애플리케이션으로의 진입점 인터페이스</td></tr><tr><td>포트 유형</td><td>Secondary Port</td><td>애플리케이션에서 외부 시스템으로의 진출점 인터페이스</td></tr><tr><td>어댑터 유형</td><td>Driver Adapter</td><td>애플리케이션을 구동하는 외부 시스템용 어댑터</td></tr><tr><td>어댑터 유형</td><td>Driven Adapter</td><td>애플리케이션이 구동하는 외부 시스템용 어댑터</td></tr><tr><td>설계 원칙</td><td>Dependency Inversion</td><td>고수준 모듈이 저수준 모듈에 의존하지 않는 원칙</td></tr><tr><td>설계 원칙</td><td>Separation of Concerns</td><td>관심사의 분리를 통한 모듈화 원칙</td></tr><tr><td>구현 기법</td><td>Dependency Injection</td><td>객체의 의존성을 외부에서 주입하는 기법</td></tr><tr><td>테스트 기법</td><td>Test Double</td><td>테스트 목적으로 실제 객체를 대체하는 객체</td></tr><tr><td>테스트 기법</td><td>Mock Object</td><td>호출을 검증하기 위한 테스트 더블</td></tr></tbody></table><hr><h3 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h3><ul><li><a href=https://en.wikipedia.org/wiki/Hexagonal_architecture_(software)>Hexagonal Architecture (Wikipedia)</a></li><li><a href=https://alistair.cockburn.us/hexagonal-architecture>Original Hexagonal Architecture Article by Alistair Cockburn</a></li><li><a href=https://codesoapbox.dev/ports-adapters-aka-hexagonal-architecture-explained/>Ports & Adapters Architecture Explained – Code Soapbox</a></li><li><a href=https://docs.aws.amazon.com/prescriptive-guidance/latest/cloud-design-patterns/hexagonal-architecture.html>AWS Prescriptive Guidance - Hexagonal Architecture Pattern</a></li><li><a href=https://8thlight.com/insights/a-color-coded-guide-to-ports-and-adapters>A Color Coded Guide to Ports and Adapters | 8th Light</a></li><li><a href=https://blog.allegro.tech/2020/05/hexagonal-architecture-by-example.html>Hexagonal Architecture by example - Allegro Tech Blog</a></li><li><a href=https://blog.szymonmiks.pl/p/hexagonal-architecture-in-python/>Hexagonal Architecture in Python Implementation Examples</a></li><li><a href=https://scalastic.io/en/hexagonal-architecture/>Everything You Need to Know About Hexagonal Architecture - Scalastic</a></li><li><a href=https://www.geeksforgeeks.org/hexagonal-architecture-system-design/>Hexagonal Architecture - System Design - GeeksforGeeks</a></li><li><a href=https://cardoai.com/hexagonal-architecture-what-is-it-and-why-should-you-use-it/>Hexagonal Architecture: What is it and why should you use it? - Cardo AI</a></li></ul><hr><p>헥사고날 아키텍처 (Hexagonal Architecture) 는 소프트웨어 설계 패턴 중 하나로, 애플리케이션의 핵심 비즈니스 로직을 외부 요소로부터 분리하여 유연하고 유지보수가 용이한 시스템을 구축하는 것을 목표로 한다.<br>이 아키텍처는 Alistair Cockburn 에 의해 제안되었으며, &rsquo; 포트와 어댑터 아키텍처 (Ports and Adapters Architecture)&rsquo; 라고도 불린다.</p><h4 id=핵심-원칙-2>핵심 원칙<a hidden class=anchor aria-hidden=true href=#핵심-원칙-2>#</a></h4><ol><li>의존성 방향:<br>모든 의존성은 도메인 계층을 향해 안쪽으로 흐른다.<br>도메인 계층은 외부를 전혀 알지 못하며, 포트를 통해서만 통신한다.</li><li>관심사의 분리:<br>각 계층은 명확한 책임을 가지며, 다른 계층의 구현 세부사항을 알지 못한다.<br>이는 시스템의 유지보수성과 테스트 용이성을 향상시킨다.</li><li>인터페이스 기반 설계:<br>포트는 인터페이스로 정의되어, 구체적인 구현체 (어댑터) 를 쉽게 교체할 수 있게 한다.</li></ol><h4 id=주요-구성-요소>주요 구성 요소<a hidden class=anchor aria-hidden=true href=#주요-구성-요소>#</a></h4><p><figure><img loading=lazy src=/img/1682416486628.png><figcaption>https://www.linkedin.com/pulse/whats-hexagonal-architecture-luis-soares-m-sc-/</figcaption></figure></p><p>헥사고날 아키텍처는 크게 세 가지 주요 구성 요소로 이루어져 있다:</p><ol><li><p><strong>핵심 비즈니스 로직 (도메인)</strong>: 애플리케이션의 중심에 위치하며, 순수한 비즈니스 로직을 포함한다.</p></li><li><p><strong>포트 (Ports)</strong>: 애플리케이션의 내부와 외부를 연결하는 인터페이스 역할을 한다. 두 가지 유형이 있다:</p><ul><li>인바운드 포트: 외부에서 애플리케이션을 사용하기 위한 API</li><li>아웃바운드 포트: 애플리케이션이 외부 시스템을 사용하기 위한 API</li></ul></li><li><p><strong>어댑터 (Adapters)</strong>: 포트를 구현하여 실제로 외부 시스템과 통신하는 역할을 한다. 두 가지 유형이 있다:</p><ul><li>Primary (Driving) Adapters: 애플리케이션을 구동하는 역할 (예: UI)</li><li>Secondary (Driven) Adapters: 애플리케이션에 의해 구동되는 역할 (예: 데이터베이스)</li></ul></li></ol><h4 id=작동-방식>작동 방식<a hidden class=anchor aria-hidden=true href=#작동-방식>#</a></h4><ol><li>외부 요청이 Primary Adapter 를 통해 들어온다.</li><li>Primary Adapter 는 인바운드 포트를 통해 핵심 비즈니스 로직과 통신한다.</li><li>비즈니스 로직은 필요한 경우 아웃바운드 포트를 통해 Secondary Adapter 와 통신한다.</li><li>Secondary Adapter 는 외부 시스템 (예: 데이터베이스) 과 상호작용한다.</li></ol><h4 id=장점-2>장점<a hidden class=anchor aria-hidden=true href=#장점-2>#</a></h4><ol><li><strong>유연성</strong>: 외부 시스템이나 인프라와의 의존성이 낮아 구성요소를 쉽게 교체하거나 업데이트할 수 있다.</li><li><strong>테스트 용이성</strong>: 비즈니스 로직을 독립적으로 테스트할 수 있어 테스트가 더 안정적이고 쉬워진다.</li><li><strong>유지보수성</strong>: 책임이 명확히 분리되어 있어 코드의 이해와 수정이 용이하다.</li><li><strong>확장성</strong>: 새로운 어댑터를 추가하거나 기존 어댑터를 수정하여 시스템을 쉽게 확장할 수 있다.</li></ol><h4 id=단점>단점<a hidden class=anchor aria-hidden=true href=#단점>#</a></h4><ol><li><strong>구현 복잡성</strong>: 포트와 어댑터를 구성하고 관리하는 데 복잡성이 증가할 수 있다.</li><li><strong>초기 개발 시간 증가</strong>: 아키텍처를 설계하고 구현하는 데 초기에 더 많은 시간이 소요될 수 있다.</li></ol><h4 id=구현-예시-1>구현 예시<a hidden class=anchor aria-hidden=true href=#구현-예시-1>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1>  1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2>  2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3>  3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4>  4</a>
</span><span class=lnt id=hl-12-5><a class=lnlinks href=#hl-12-5>  5</a>
</span><span class=lnt id=hl-12-6><a class=lnlinks href=#hl-12-6>  6</a>
</span><span class=lnt id=hl-12-7><a class=lnlinks href=#hl-12-7>  7</a>
</span><span class=lnt id=hl-12-8><a class=lnlinks href=#hl-12-8>  8</a>
</span><span class=lnt id=hl-12-9><a class=lnlinks href=#hl-12-9>  9</a>
</span><span class=lnt id=hl-12-10><a class=lnlinks href=#hl-12-10> 10</a>
</span><span class=lnt id=hl-12-11><a class=lnlinks href=#hl-12-11> 11</a>
</span><span class=lnt id=hl-12-12><a class=lnlinks href=#hl-12-12> 12</a>
</span><span class=lnt id=hl-12-13><a class=lnlinks href=#hl-12-13> 13</a>
</span><span class=lnt id=hl-12-14><a class=lnlinks href=#hl-12-14> 14</a>
</span><span class=lnt id=hl-12-15><a class=lnlinks href=#hl-12-15> 15</a>
</span><span class=lnt id=hl-12-16><a class=lnlinks href=#hl-12-16> 16</a>
</span><span class=lnt id=hl-12-17><a class=lnlinks href=#hl-12-17> 17</a>
</span><span class=lnt id=hl-12-18><a class=lnlinks href=#hl-12-18> 18</a>
</span><span class=lnt id=hl-12-19><a class=lnlinks href=#hl-12-19> 19</a>
</span><span class=lnt id=hl-12-20><a class=lnlinks href=#hl-12-20> 20</a>
</span><span class=lnt id=hl-12-21><a class=lnlinks href=#hl-12-21> 21</a>
</span><span class=lnt id=hl-12-22><a class=lnlinks href=#hl-12-22> 22</a>
</span><span class=lnt id=hl-12-23><a class=lnlinks href=#hl-12-23> 23</a>
</span><span class=lnt id=hl-12-24><a class=lnlinks href=#hl-12-24> 24</a>
</span><span class=lnt id=hl-12-25><a class=lnlinks href=#hl-12-25> 25</a>
</span><span class=lnt id=hl-12-26><a class=lnlinks href=#hl-12-26> 26</a>
</span><span class=lnt id=hl-12-27><a class=lnlinks href=#hl-12-27> 27</a>
</span><span class=lnt id=hl-12-28><a class=lnlinks href=#hl-12-28> 28</a>
</span><span class=lnt id=hl-12-29><a class=lnlinks href=#hl-12-29> 29</a>
</span><span class=lnt id=hl-12-30><a class=lnlinks href=#hl-12-30> 30</a>
</span><span class=lnt id=hl-12-31><a class=lnlinks href=#hl-12-31> 31</a>
</span><span class=lnt id=hl-12-32><a class=lnlinks href=#hl-12-32> 32</a>
</span><span class=lnt id=hl-12-33><a class=lnlinks href=#hl-12-33> 33</a>
</span><span class=lnt id=hl-12-34><a class=lnlinks href=#hl-12-34> 34</a>
</span><span class=lnt id=hl-12-35><a class=lnlinks href=#hl-12-35> 35</a>
</span><span class=lnt id=hl-12-36><a class=lnlinks href=#hl-12-36> 36</a>
</span><span class=lnt id=hl-12-37><a class=lnlinks href=#hl-12-37> 37</a>
</span><span class=lnt id=hl-12-38><a class=lnlinks href=#hl-12-38> 38</a>
</span><span class=lnt id=hl-12-39><a class=lnlinks href=#hl-12-39> 39</a>
</span><span class=lnt id=hl-12-40><a class=lnlinks href=#hl-12-40> 40</a>
</span><span class=lnt id=hl-12-41><a class=lnlinks href=#hl-12-41> 41</a>
</span><span class=lnt id=hl-12-42><a class=lnlinks href=#hl-12-42> 42</a>
</span><span class=lnt id=hl-12-43><a class=lnlinks href=#hl-12-43> 43</a>
</span><span class=lnt id=hl-12-44><a class=lnlinks href=#hl-12-44> 44</a>
</span><span class=lnt id=hl-12-45><a class=lnlinks href=#hl-12-45> 45</a>
</span><span class=lnt id=hl-12-46><a class=lnlinks href=#hl-12-46> 46</a>
</span><span class=lnt id=hl-12-47><a class=lnlinks href=#hl-12-47> 47</a>
</span><span class=lnt id=hl-12-48><a class=lnlinks href=#hl-12-48> 48</a>
</span><span class=lnt id=hl-12-49><a class=lnlinks href=#hl-12-49> 49</a>
</span><span class=lnt id=hl-12-50><a class=lnlinks href=#hl-12-50> 50</a>
</span><span class=lnt id=hl-12-51><a class=lnlinks href=#hl-12-51> 51</a>
</span><span class=lnt id=hl-12-52><a class=lnlinks href=#hl-12-52> 52</a>
</span><span class=lnt id=hl-12-53><a class=lnlinks href=#hl-12-53> 53</a>
</span><span class=lnt id=hl-12-54><a class=lnlinks href=#hl-12-54> 54</a>
</span><span class=lnt id=hl-12-55><a class=lnlinks href=#hl-12-55> 55</a>
</span><span class=lnt id=hl-12-56><a class=lnlinks href=#hl-12-56> 56</a>
</span><span class=lnt id=hl-12-57><a class=lnlinks href=#hl-12-57> 57</a>
</span><span class=lnt id=hl-12-58><a class=lnlinks href=#hl-12-58> 58</a>
</span><span class=lnt id=hl-12-59><a class=lnlinks href=#hl-12-59> 59</a>
</span><span class=lnt id=hl-12-60><a class=lnlinks href=#hl-12-60> 60</a>
</span><span class=lnt id=hl-12-61><a class=lnlinks href=#hl-12-61> 61</a>
</span><span class=lnt id=hl-12-62><a class=lnlinks href=#hl-12-62> 62</a>
</span><span class=lnt id=hl-12-63><a class=lnlinks href=#hl-12-63> 63</a>
</span><span class=lnt id=hl-12-64><a class=lnlinks href=#hl-12-64> 64</a>
</span><span class=lnt id=hl-12-65><a class=lnlinks href=#hl-12-65> 65</a>
</span><span class=lnt id=hl-12-66><a class=lnlinks href=#hl-12-66> 66</a>
</span><span class=lnt id=hl-12-67><a class=lnlinks href=#hl-12-67> 67</a>
</span><span class=lnt id=hl-12-68><a class=lnlinks href=#hl-12-68> 68</a>
</span><span class=lnt id=hl-12-69><a class=lnlinks href=#hl-12-69> 69</a>
</span><span class=lnt id=hl-12-70><a class=lnlinks href=#hl-12-70> 70</a>
</span><span class=lnt id=hl-12-71><a class=lnlinks href=#hl-12-71> 71</a>
</span><span class=lnt id=hl-12-72><a class=lnlinks href=#hl-12-72> 72</a>
</span><span class=lnt id=hl-12-73><a class=lnlinks href=#hl-12-73> 73</a>
</span><span class=lnt id=hl-12-74><a class=lnlinks href=#hl-12-74> 74</a>
</span><span class=lnt id=hl-12-75><a class=lnlinks href=#hl-12-75> 75</a>
</span><span class=lnt id=hl-12-76><a class=lnlinks href=#hl-12-76> 76</a>
</span><span class=lnt id=hl-12-77><a class=lnlinks href=#hl-12-77> 77</a>
</span><span class=lnt id=hl-12-78><a class=lnlinks href=#hl-12-78> 78</a>
</span><span class=lnt id=hl-12-79><a class=lnlinks href=#hl-12-79> 79</a>
</span><span class=lnt id=hl-12-80><a class=lnlinks href=#hl-12-80> 80</a>
</span><span class=lnt id=hl-12-81><a class=lnlinks href=#hl-12-81> 81</a>
</span><span class=lnt id=hl-12-82><a class=lnlinks href=#hl-12-82> 82</a>
</span><span class=lnt id=hl-12-83><a class=lnlinks href=#hl-12-83> 83</a>
</span><span class=lnt id=hl-12-84><a class=lnlinks href=#hl-12-84> 84</a>
</span><span class=lnt id=hl-12-85><a class=lnlinks href=#hl-12-85> 85</a>
</span><span class=lnt id=hl-12-86><a class=lnlinks href=#hl-12-86> 86</a>
</span><span class=lnt id=hl-12-87><a class=lnlinks href=#hl-12-87> 87</a>
</span><span class=lnt id=hl-12-88><a class=lnlinks href=#hl-12-88> 88</a>
</span><span class=lnt id=hl-12-89><a class=lnlinks href=#hl-12-89> 89</a>
</span><span class=lnt id=hl-12-90><a class=lnlinks href=#hl-12-90> 90</a>
</span><span class=lnt id=hl-12-91><a class=lnlinks href=#hl-12-91> 91</a>
</span><span class=lnt id=hl-12-92><a class=lnlinks href=#hl-12-92> 92</a>
</span><span class=lnt id=hl-12-93><a class=lnlinks href=#hl-12-93> 93</a>
</span><span class=lnt id=hl-12-94><a class=lnlinks href=#hl-12-94> 94</a>
</span><span class=lnt id=hl-12-95><a class=lnlinks href=#hl-12-95> 95</a>
</span><span class=lnt id=hl-12-96><a class=lnlinks href=#hl-12-96> 96</a>
</span><span class=lnt id=hl-12-97><a class=lnlinks href=#hl-12-97> 97</a>
</span><span class=lnt id=hl-12-98><a class=lnlinks href=#hl-12-98> 98</a>
</span><span class=lnt id=hl-12-99><a class=lnlinks href=#hl-12-99> 99</a>
</span><span class=lnt id=hl-12-100><a class=lnlinks href=#hl-12-100>100</a>
</span><span class=lnt id=hl-12-101><a class=lnlinks href=#hl-12-101>101</a>
</span><span class=lnt id=hl-12-102><a class=lnlinks href=#hl-12-102>102</a>
</span><span class=lnt id=hl-12-103><a class=lnlinks href=#hl-12-103>103</a>
</span><span class=lnt id=hl-12-104><a class=lnlinks href=#hl-12-104>104</a>
</span><span class=lnt id=hl-12-105><a class=lnlinks href=#hl-12-105>105</a>
</span><span class=lnt id=hl-12-106><a class=lnlinks href=#hl-12-106>106</a>
</span><span class=lnt id=hl-12-107><a class=lnlinks href=#hl-12-107>107</a>
</span><span class=lnt id=hl-12-108><a class=lnlinks href=#hl-12-108>108</a>
</span><span class=lnt id=hl-12-109><a class=lnlinks href=#hl-12-109>109</a>
</span><span class=lnt id=hl-12-110><a class=lnlinks href=#hl-12-110>110</a>
</span><span class=lnt id=hl-12-111><a class=lnlinks href=#hl-12-111>111</a>
</span><span class=lnt id=hl-12-112><a class=lnlinks href=#hl-12-112>112</a>
</span><span class=lnt id=hl-12-113><a class=lnlinks href=#hl-12-113>113</a>
</span><span class=lnt id=hl-12-114><a class=lnlinks href=#hl-12-114>114</a>
</span><span class=lnt id=hl-12-115><a class=lnlinks href=#hl-12-115>115</a>
</span><span class=lnt id=hl-12-116><a class=lnlinks href=#hl-12-116>116</a>
</span><span class=lnt id=hl-12-117><a class=lnlinks href=#hl-12-117>117</a>
</span><span class=lnt id=hl-12-118><a class=lnlinks href=#hl-12-118>118</a>
</span><span class=lnt id=hl-12-119><a class=lnlinks href=#hl-12-119>119</a>
</span><span class=lnt id=hl-12-120><a class=lnlinks href=#hl-12-120>120</a>
</span><span class=lnt id=hl-12-121><a class=lnlinks href=#hl-12-121>121</a>
</span><span class=lnt id=hl-12-122><a class=lnlinks href=#hl-12-122>122</a>
</span><span class=lnt id=hl-12-123><a class=lnlinks href=#hl-12-123>123</a>
</span><span class=lnt id=hl-12-124><a class=lnlinks href=#hl-12-124>124</a>
</span><span class=lnt id=hl-12-125><a class=lnlinks href=#hl-12-125>125</a>
</span><span class=lnt id=hl-12-126><a class=lnlinks href=#hl-12-126>126</a>
</span><span class=lnt id=hl-12-127><a class=lnlinks href=#hl-12-127>127</a>
</span><span class=lnt id=hl-12-128><a class=lnlinks href=#hl-12-128>128</a>
</span><span class=lnt id=hl-12-129><a class=lnlinks href=#hl-12-129>129</a>
</span><span class=lnt id=hl-12-130><a class=lnlinks href=#hl-12-130>130</a>
</span><span class=lnt id=hl-12-131><a class=lnlinks href=#hl-12-131>131</a>
</span><span class=lnt id=hl-12-132><a class=lnlinks href=#hl-12-132>132</a>
</span><span class=lnt id=hl-12-133><a class=lnlinks href=#hl-12-133>133</a>
</span><span class=lnt id=hl-12-134><a class=lnlinks href=#hl-12-134>134</a>
</span><span class=lnt id=hl-12-135><a class=lnlinks href=#hl-12-135>135</a>
</span><span class=lnt id=hl-12-136><a class=lnlinks href=#hl-12-136>136</a>
</span><span class=lnt id=hl-12-137><a class=lnlinks href=#hl-12-137>137</a>
</span><span class=lnt id=hl-12-138><a class=lnlinks href=#hl-12-138>138</a>
</span><span class=lnt id=hl-12-139><a class=lnlinks href=#hl-12-139>139</a>
</span><span class=lnt id=hl-12-140><a class=lnlinks href=#hl-12-140>140</a>
</span><span class=lnt id=hl-12-141><a class=lnlinks href=#hl-12-141>141</a>
</span><span class=lnt id=hl-12-142><a class=lnlinks href=#hl-12-142>142</a>
</span><span class=lnt id=hl-12-143><a class=lnlinks href=#hl-12-143>143</a>
</span><span class=lnt id=hl-12-144><a class=lnlinks href=#hl-12-144>144</a>
</span><span class=lnt id=hl-12-145><a class=lnlinks href=#hl-12-145>145</a>
</span><span class=lnt id=hl-12-146><a class=lnlinks href=#hl-12-146>146</a>
</span><span class=lnt id=hl-12-147><a class=lnlinks href=#hl-12-147>147</a>
</span><span class=lnt id=hl-12-148><a class=lnlinks href=#hl-12-148>148</a>
</span><span class=lnt id=hl-12-149><a class=lnlinks href=#hl-12-149>149</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>abc</span> <span class=kn>import</span> <span class=n>ABC</span><span class=p>,</span> <span class=n>abstractmethod</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>dataclasses</span> <span class=kn>import</span> <span class=n>dataclass</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>datetime</span> <span class=kn>import</span> <span class=n>datetime</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>List</span><span class=p>,</span> <span class=n>Optional</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>uuid</span> <span class=kn>import</span> <span class=n>UUID</span><span class=p>,</span> <span class=n>uuid4</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Domain(핵심 비즈니스 로직)</span>
</span></span><span class=line><span class=cl><span class=nd>@dataclass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Product</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>id</span><span class=p>:</span> <span class=n>UUID</span>
</span></span><span class=line><span class=cl>    <span class=n>name</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>price</span><span class=p>:</span> <span class=nb>float</span>
</span></span><span class=line><span class=cl>    <span class=n>stock</span><span class=p>:</span> <span class=nb>int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>decrease_stock</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>quantity</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>stock</span> <span class=o>&lt;</span> <span class=n>quantity</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&#34;Insufficient stock&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>stock</span> <span class=o>-=</span> <span class=n>quantity</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Ports(포트) - 내부에서 외부로 향하는 인터페이스</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ProductRepository</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>product</span><span class=p>:</span> <span class=n>Product</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>find_by_id</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>product_id</span><span class=p>:</span> <span class=n>UUID</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Product</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>find_all</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=n>Product</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ProductNotificationService</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>notify_low_stock</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>product</span><span class=p>:</span> <span class=n>Product</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Application Service(응용 서비스)</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ProductService</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>        <span class=n>product_repository</span><span class=p>:</span> <span class=n>ProductRepository</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>notification_service</span><span class=p>:</span> <span class=n>ProductNotificationService</span>
</span></span><span class=line><span class=cl>    <span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>product_repository</span> <span class=o>=</span> <span class=n>product_repository</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>notification_service</span> <span class=o>=</span> <span class=n>notification_service</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_product</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>price</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>stock</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>UUID</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>product</span> <span class=o>=</span> <span class=n>Product</span><span class=p>(</span><span class=nb>id</span><span class=o>=</span><span class=n>uuid4</span><span class=p>(),</span> <span class=n>name</span><span class=o>=</span><span class=n>name</span><span class=p>,</span> <span class=n>price</span><span class=o>=</span><span class=n>price</span><span class=p>,</span> <span class=n>stock</span><span class=o>=</span><span class=n>stock</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>product_repository</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=n>product</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>product</span><span class=o>.</span><span class=n>id</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>update_stock</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>product_id</span><span class=p>:</span> <span class=n>UUID</span><span class=p>,</span> <span class=n>quantity</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>product</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>product_repository</span><span class=o>.</span><span class=n>find_by_id</span><span class=p>(</span><span class=n>product_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>product</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&#34;Product not found&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>product</span><span class=o>.</span><span class=n>decrease_stock</span><span class=p>(</span><span class=n>quantity</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 재고가 10개 미만이면 알림 발송</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>product</span><span class=o>.</span><span class=n>stock</span> <span class=o>&lt;</span> <span class=mi>10</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>notification_service</span><span class=o>.</span><span class=n>notify_low_stock</span><span class=p>(</span><span class=n>product</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>product_repository</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=n>product</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Adapters(어댑터) - 외부 시스템과의 연동</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PostgresProductRepository</span><span class=p>(</span><span class=n>ProductRepository</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>db_connection</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>db</span> <span class=o>=</span> <span class=n>db_connection</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>product</span><span class=p>:</span> <span class=n>Product</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># PostgreSQL 데이터베이스에 제품 저장</span>
</span></span><span class=line><span class=cl>        <span class=n>query</span> <span class=o>=</span> <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>            INSERT INTO products (id, name, price, stock)
</span></span></span><span class=line><span class=cl><span class=s2>            VALUES (</span><span class=si>%s</span><span class=s2>, </span><span class=si>%s</span><span class=s2>, </span><span class=si>%s</span><span class=s2>, </span><span class=si>%s</span><span class=s2>)
</span></span></span><span class=line><span class=cl><span class=s2>            ON CONFLICT (id) DO UPDATE
</span></span></span><span class=line><span class=cl><span class=s2>            SET name = excluded.name,
</span></span></span><span class=line><span class=cl><span class=s2>                price = excluded.price,
</span></span></span><span class=line><span class=cl><span class=s2>                stock = excluded.stock
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>db</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>query</span><span class=p>,</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=nb>str</span><span class=p>(</span><span class=n>product</span><span class=o>.</span><span class=n>id</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>product</span><span class=o>.</span><span class=n>name</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>product</span><span class=o>.</span><span class=n>price</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>product</span><span class=o>.</span><span class=n>stock</span>
</span></span><span class=line><span class=cl>        <span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>find_by_id</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>product_id</span><span class=p>:</span> <span class=n>UUID</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Product</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=c1># PostgreSQL 데이터베이스에서 제품 조회</span>
</span></span><span class=line><span class=cl>        <span class=n>query</span> <span class=o>=</span> <span class=s2>&#34;SELECT id, name, price, stock FROM products WHERE id = </span><span class=si>%s</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>db</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>query</span><span class=p>,</span> <span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>product_id</span><span class=p>),))</span><span class=o>.</span><span class=n>fetchone</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>result</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>Product</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=nb>id</span><span class=o>=</span><span class=n>UUID</span><span class=p>(</span><span class=n>result</span><span class=p>[</span><span class=mi>0</span><span class=p>]),</span>
</span></span><span class=line><span class=cl>                <span class=n>name</span><span class=o>=</span><span class=n>result</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=n>price</span><span class=o>=</span><span class=n>result</span><span class=p>[</span><span class=mi>2</span><span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=n>stock</span><span class=o>=</span><span class=n>result</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>find_all</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=n>Product</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 모든 제품 조회</span>
</span></span><span class=line><span class=cl>        <span class=n>query</span> <span class=o>=</span> <span class=s2>&#34;SELECT id, name, price, stock FROM products&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>results</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>db</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>query</span><span class=p>)</span><span class=o>.</span><span class=n>fetchall</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=n>Product</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=nb>id</span><span class=o>=</span><span class=n>UUID</span><span class=p>(</span><span class=n>row</span><span class=p>[</span><span class=mi>0</span><span class=p>]),</span>
</span></span><span class=line><span class=cl>                <span class=n>name</span><span class=o>=</span><span class=n>row</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=n>price</span><span class=o>=</span><span class=n>row</span><span class=p>[</span><span class=mi>2</span><span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=n>stock</span><span class=o>=</span><span class=n>row</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=n>results</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>EmailNotificationService</span><span class=p>(</span><span class=n>ProductNotificationService</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>email_client</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>email_client</span> <span class=o>=</span> <span class=n>email_client</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>notify_low_stock</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>product</span><span class=p>:</span> <span class=n>Product</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>message</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;Low stock alert: </span><span class=si>{</span><span class=n>product</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> has only </span><span class=si>{</span><span class=n>product</span><span class=o>.</span><span class=n>stock</span><span class=si>}</span><span class=s2> items remaining&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>email_client</span><span class=o>.</span><span class=n>send_email</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>to</span><span class=o>=</span><span class=s2>&#34;warehouse@example.com&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>subject</span><span class=o>=</span><span class=s2>&#34;Low Stock Alert&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>body</span><span class=o>=</span><span class=n>message</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># REST API Adapter</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>fastapi</span> <span class=kn>import</span> <span class=n>FastAPI</span><span class=p>,</span> <span class=n>HTTPException</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>FastAPI</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.post</span><span class=p>(</span><span class=s2>&#34;/products&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>create_product</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>price</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>stock</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>product_id</span> <span class=o>=</span> <span class=n>product_service</span><span class=o>.</span><span class=n>create_product</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>price</span><span class=p>,</span> <span class=n>stock</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;product_id&#34;</span><span class=p>:</span> <span class=n>product_id</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=n>HTTPException</span><span class=p>(</span><span class=n>status_code</span><span class=o>=</span><span class=mi>400</span><span class=p>,</span> <span class=n>detail</span><span class=o>=</span><span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.put</span><span class=p>(</span><span class=s2>&#34;/products/</span><span class=si>{product_id}</span><span class=s2>/stock&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>update_product_stock</span><span class=p>(</span><span class=n>product_id</span><span class=p>:</span> <span class=n>UUID</span><span class=p>,</span> <span class=n>quantity</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>product_service</span><span class=o>.</span><span class=n>update_stock</span><span class=p>(</span><span class=n>product_id</span><span class=p>,</span> <span class=n>quantity</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;message&#34;</span><span class=p>:</span> <span class=s2>&#34;Stock updated successfully&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=n>HTTPException</span><span class=p>(</span><span class=n>status_code</span><span class=o>=</span><span class=mi>404</span><span class=p>,</span> <span class=n>detail</span><span class=o>=</span><span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=용어-정리-1>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-1>#</a></h3><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><hr><h3 id=참고-및-출처-1>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-1>#</a></h3><hr></div></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>