<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Microservices Architecture | hyunyoun's Blog</title><meta name=keywords content="System-and-Software-Architecture,Architecture,Architectue-Styles,Service-Oriented,Microservices-Architecture"><meta name=description content="마이크로서비스 아키텍처는 단일 애플리케이션을 작고 독립적인 서비스 집합으로 개발하는 접근 방식이다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/architecture-styles-and-patterns/architecture-styles/service-oriented-family/microservices-architecture/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/architecture-styles-and-patterns/architecture-styles/service-oriented-family/microservices-architecture/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/architecture-styles-and-patterns/architecture-styles/service-oriented-family/microservices-architecture/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/software-engineering/design-and-architecture/architecture-styles-and-patterns/architecture-styles/service-oriented-family/microservices-architecture/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Microservices Architecture"><meta property="og:description" content="마이크로서비스 아키텍처는 단일 애플리케이션을 작고 독립적인 서비스 집합으로 개발하는 접근 방식이다."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Microservices Architecture"><meta name=twitter:description content="마이크로서비스 아키텍처는 단일 애플리케이션을 작고 독립적인 서비스 집합으로 개발하는 접근 방식이다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Microservices Architecture","item":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/architecture-styles-and-patterns/architecture-styles/service-oriented-family/microservices-architecture/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a></div><h1>Microservices Architecture</h1><div class=post-description>마이크로서비스 아키텍처는 단일 애플리케이션을 작고 독립적인 서비스 집합으로 개발하는 접근 방식이다.</div></header><div class=post-content><h2 id=microservices-architecture>Microservices Architecture<a hidden class=anchor aria-hidden=true href=#microservices-architecture>#</a></h2><h3 id=1-주제-분류의-적절성-분석>1. 주제 분류의 적절성 분석<a hidden class=anchor aria-hidden=true href=#1-주제-분류의-적절성-분석>#</a></h3><p>&ldquo;Microservices Architecture(마이크로서비스 아키텍처)&rdquo; 는 &ldquo;Computer Science and Engineering > System and Software Architecture > Architecture > Architecture Styles > Service-Oriented&rdquo; 분류에 매우 적합합니다. 마이크로서비스 아키텍처는 서비스 지향 아키텍처 (Service-Oriented Architecture, SOA) 의 진화된 형태로, 시스템을 독립적으로 배포 가능한 작은 서비스 단위로 분해하는 대표적인 아키텍처 스타일입니다. 이는 현대 소프트웨어 아키텍처의 핵심 트렌드로, 서비스 지향적 특성을 극대화합니다 [1][2][16].</p><hr><h3 id=2-200-자-요약>2. 200 자 요약<a hidden class=anchor aria-hidden=true href=#2-200-자-요약>#</a></h3><p>마이크로서비스 아키텍처는 애플리케이션을 작고 독립적으로 배포 가능한 서비스들의 집합으로 분해하는 아키텍처 스타일입니다. 각 서비스는 자체 데이터와 비즈니스 로직을 가지며, API 를 통해 통신합니다. 이는 확장성, 장애 격리, 신속한 배포, 기술 다양성 등에서 강점을 가집니다 [1][4][5][16].</p><hr><h3 id=3-전체-개요-250-자-내외>3. 전체 개요 (250 자 내외)<a hidden class=anchor aria-hidden=true href=#3-전체-개요-250-자-내외>#</a></h3><p>Microservices Architecture(마이크로서비스 아키텍처) 는 복잡한 애플리케이션을 작고 독립적으로 배포 가능한 서비스 단위로 분해하여, 각 서비스가 자체 데이터와 비즈니스 로직을 관리하고, API 를 통해 상호작용하는 아키텍처 스타일입니다. 이 구조는 확장성과 장애 격리, 빠른 배포, 기술 스택의 다양화, 팀별 독립 개발 등 다양한 이점을 제공합니다. 반면, 서비스 간 통신, 데이터 일관성, 운영 관리 복잡성 등 새로운 도전 과제도 동반합니다. Netflix, Amazon 등 글로벌 IT 기업들이 대표적으로 적용하고 있습니다 [1][4][10][16].</p><hr><h2 id=i-핵심-개념>I. 핵심 개념<a hidden class=anchor aria-hidden=true href=#i-핵심-개념>#</a></h2><ul><li><strong>정의</strong>: Microservices Architecture 는 대규모 애플리케이션을 작고 독립적으로 배포 가능한 서비스들의 집합으로 분해하는 아키텍처 스타일입니다 [1][2][16].</li><li><strong>서비스 (Service)</strong>: 각 서비스는 특정 비즈니스 기능을 담당하며, 자체 데이터베이스와 비즈니스 로직을 가짐 [5][17].</li><li><strong>API 중심 통신</strong>: 서비스 간 통신은 REST, gRPC, 메시지 큐 등 경량화된 API 를 통해 이루어짐 [1][4][7][18].</li><li><strong>독립적 배포</strong>: 각 서비스는 별도의 배포, 확장, 장애 격리가 가능 [1][2][4][10].</li><li><strong>기술 다양성</strong>: 서비스별로 프로그래밍 언어, 데이터베이스, 프레임워크를 자유롭게 선택 가능 [19].</li><li><strong>도메인 중심 설계</strong>: 도메인 주도 설계 (DDD) 와 경계 컨텍스트 (Bounded Context) 개념을 적극 활용 [5][8].</li></ul><hr><h2 id=ii-구조-및-아키텍처>II. 구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#ii-구조-및-아키텍처>#</a></h2><h3 id=1-필수-구성요소>1. 필수 구성요소<a hidden class=anchor aria-hidden=true href=#1-필수-구성요소>#</a></h3><table><thead><tr><th>구성 요소</th><th>기능 및 역할</th></tr></thead><tbody><tr><td>개별 서비스</td><td>독립적 비즈니스 기능, 자체 데이터/로직 관리</td></tr><tr><td>API 게이트웨이</td><td>클라이언트 요청 라우팅, 인증, 통합 API 제공</td></tr><tr><td>서비스 레지스트리</td><td>서비스 등록/검색, 동적 라우팅 지원</td></tr><tr><td>메시지 브로커</td><td>서비스 간 비동기 통신, 이벤트 기반 아키텍처 구현</td></tr><tr><td>데이터베이스</td><td>서비스별 독립 데이터 저장소, 데이터 일관성/격리</td></tr><tr><td>모니터링/로깅</td><td>서비스 상태/성능 모니터링, 장애 탐지</td></tr><tr><td>컨테이너/오케스트레이션</td><td>배포 자동화, 확장성/가용성 보장 (Docker, Kubernetes 등)</td></tr></tbody></table><h3 id=2-선택-구성요소>2. 선택 구성요소<a hidden class=anchor aria-hidden=true href=#2-선택-구성요소>#</a></h3><table><thead><tr><th>구성 요소</th><th>기능 및 역할</th></tr></thead><tbody><tr><td>서비스 메시 (Service Mesh)</td><td>서비스 간 통신 추상화, 보안, 트래픽 관리, 장애 복구</td></tr><tr><td>CI/CD 파이프라인</td><td>자동화된 빌드, 테스트, 배포</td></tr><tr><td>API 문서화 도구</td><td>Swagger, OpenAPI 등 API 문서 자동화</td></tr></tbody></table><h3 id=3-아키텍처-다이어그램>3. 아키텍처 다이어그램<a hidden class=anchor aria-hidden=true href=#3-아키텍처-다이어그램>#</a></h3><pre class=mermaid>graph TD
  subgraph Microservices Architecture
    Client--&gt;|API 호출|APIGW[API Gateway]
    APIGW--&gt;|REST/gRPC|UserService[User Service]
    APIGW--&gt;|REST/gRPC|ProductService[Product Service]
    APIGW--&gt;|REST/gRPC|OrderService[Order Service]
    UserService--&gt;|DB 연결|UserDB[(User DB)]
    ProductService--&gt;|DB 연결|ProductDB[(Product DB)]
    OrderService--&gt;|DB 연결|OrderDB[(Order DB)]
    UserService--&gt;|메시지|MQ[Message Broker]
    ProductService--&gt;|메시지|MQ
    OrderService--&gt;|메시지|MQ
    APIGW--&gt;|서비스 검색|Registry[Service Registry]
    UserService--&gt;|모니터링|Monitoring[Monitoring/Logging]
    ProductService--&gt;|모니터링|Monitoring
    OrderService--&gt;|모니터링|Monitoring
  end
</pre><h3 id=4-주요-원리-및-작동-원리-다이어그램>4. 주요 원리 및 작동 원리 다이어그램<a hidden class=anchor aria-hidden=true href=#4-주요-원리-및-작동-원리-다이어그램>#</a></h3><pre class=mermaid>sequenceDiagram
    participant Client
    participant APIGateway
    participant UserService
    participant OrderService
    participant ProductService

    Client-&gt;&gt;APIGateway: 주문 요청
    APIGateway-&gt;&gt;UserService: 사용자 인증
    APIGateway-&gt;&gt;OrderService: 주문 생성
    OrderService-&gt;&gt;ProductService: 재고 확인
    ProductService--&gt;&gt;OrderService: 재고 정보 응답
    OrderService--&gt;&gt;APIGateway: 주문 결과 반환
    APIGateway--&gt;&gt;Client: 최종 응답
</pre><hr><h2 id=iii-구현-기법>III. 구현 기법<a hidden class=anchor aria-hidden=true href=#iii-구현-기법>#</a></h2><table><thead><tr><th>구현 기법</th><th>정의/구성</th><th>목적/예시</th></tr></thead><tbody><tr><td>도메인 중심 서비스 분할</td><td>비즈니스 도메인별로 서비스 경계 정의</td><td>사용자, 상품, 주문, 결제 등</td></tr><tr><td>API 게이트웨이 패턴</td><td>클라이언트 요청을 단일 진입점에서 라우팅</td><td>인증, 로깅, 트래픽 관리</td></tr><tr><td>서비스 디스커버리</td><td>서비스 동적 등록/검색</td><td>Consul, Eureka 등</td></tr><tr><td>메시지 기반 통신</td><td>비동기 이벤트/메시지 큐 활용</td><td>RabbitMQ, Kafka 등</td></tr><tr><td>데이터베이스 분리</td><td>서비스별 독립 데이터베이스</td><td>각 서비스가 자체 DB 관리</td></tr><tr><td>컨테이너화 및 오케스트레이션</td><td>서비스별 배포 자동화, 확장성/가용성 보장</td><td>Docker, Kubernetes 등</td></tr><tr><td>트랜잭션 관리</td><td>분산 트랜잭션, Saga/CQRS 패턴</td><td>데이터 일관성 보장</td></tr></tbody></table><h3 id=python-fastapi-예시-간단-사용자-서비스>Python FastAPI 예시 (간단 사용자 서비스)<a hidden class=anchor aria-hidden=true href=#python-fastapi-예시-간단-사용자-서비스>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1> 1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2> 2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3> 3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4> 4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5> 5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6> 6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7> 7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8> 8</a>
</span><span class=lnt id=hl-2-9><a class=lnlinks href=#hl-2-9> 9</a>
</span><span class=lnt id=hl-2-10><a class=lnlinks href=#hl-2-10>10</a>
</span><span class=lnt id=hl-2-11><a class=lnlinks href=#hl-2-11>11</a>
</span><span class=lnt id=hl-2-12><a class=lnlinks href=#hl-2-12>12</a>
</span><span class=lnt id=hl-2-13><a class=lnlinks href=#hl-2-13>13</a>
</span><span class=lnt id=hl-2-14><a class=lnlinks href=#hl-2-14>14</a>
</span><span class=lnt id=hl-2-15><a class=lnlinks href=#hl-2-15>15</a>
</span><span class=lnt id=hl-2-16><a class=lnlinks href=#hl-2-16>16</a>
</span><span class=lnt id=hl-2-17><a class=lnlinks href=#hl-2-17>17</a>
</span><span class=lnt id=hl-2-18><a class=lnlinks href=#hl-2-18>18</a>
</span><span class=lnt id=hl-2-19><a class=lnlinks href=#hl-2-19>19</a>
</span><span class=lnt id=hl-2-20><a class=lnlinks href=#hl-2-20>20</a>
</span><span class=lnt id=hl-2-21><a class=lnlinks href=#hl-2-21>21</a>
</span><span class=lnt id=hl-2-22><a class=lnlinks href=#hl-2-22>22</a>
</span><span class=lnt id=hl-2-23><a class=lnlinks href=#hl-2-23>23</a>
</span><span class=lnt id=hl-2-24><a class=lnlinks href=#hl-2-24>24</a>
</span><span class=lnt id=hl-2-25><a class=lnlinks href=#hl-2-25>25</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>fastapi</span> <span class=kn>import</span> <span class=n>FastAPI</span><span class=p>,</span> <span class=n>HTTPException</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pydantic</span> <span class=kn>import</span> <span class=n>BaseModel</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>FastAPI</span><span class=p>(</span><span class=n>title</span><span class=o>=</span><span class=s2>&#34;User Microservice&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>User</span><span class=p>(</span><span class=n>BaseModel</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>id</span><span class=p>:</span> <span class=nb>int</span>
</span></span><span class=line><span class=cl>    <span class=n>username</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>email</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>users</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.post</span><span class=p>(</span><span class=s2>&#34;/users/&#34;</span><span class=p>,</span> <span class=n>response_model</span><span class=o>=</span><span class=n>User</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>create_user</span><span class=p>(</span><span class=n>user</span><span class=p>:</span> <span class=n>User</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>user</span><span class=o>.</span><span class=n>id</span> <span class=ow>in</span> <span class=n>users</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=n>HTTPException</span><span class=p>(</span><span class=n>status_code</span><span class=o>=</span><span class=mi>400</span><span class=p>,</span> <span class=n>detail</span><span class=o>=</span><span class=s2>&#34;User already exists&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>users</span><span class=p>[</span><span class=n>user</span><span class=o>.</span><span class=n>id</span><span class=p>]</span> <span class=o>=</span> <span class=n>user</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>user</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.get</span><span class=p>(</span><span class=s2>&#34;/users/</span><span class=si>{user_id}</span><span class=s2>&#34;</span><span class=p>,</span> <span class=n>response_model</span><span class=o>=</span><span class=n>User</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>read_user</span><span class=p>(</span><span class=n>user_id</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>user</span> <span class=o>=</span> <span class=n>users</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>user_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=ow>not</span> <span class=n>user</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=n>HTTPException</span><span class=p>(</span><span class=n>status_code</span><span class=o>=</span><span class=mi>404</span><span class=p>,</span> <span class=n>detail</span><span class=o>=</span><span class=s2>&#34;User not found&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>user</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=iv-장점과-단점>IV. 장점과 단점<a hidden class=anchor aria-hidden=true href=#iv-장점과-단점>#</a></h2><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>✅ 장점</td><td>독립적 배포</td><td>서비스별로 독립적 배포/업데이트 가능</td></tr><tr><td></td><td>확장성</td><td>서비스별로 개별 확장 (Scale-out) 가능</td></tr><tr><td></td><td>장애 격리</td><td>한 서비스 장애가 전체 시스템에 영향 최소화</td></tr><tr><td></td><td>기술 다양성</td><td>서비스별로 언어/프레임워크/DB 자유롭게 선택 가능</td></tr><tr><td></td><td>빠른 개발/배포</td><td>팀별 병렬 개발, 빠른 릴리즈 가능</td></tr><tr><td>⚠ 단점</td><td>관리 복잡성</td><td>서비스 수 증가로 운영/모니터링/배포 복잡성 증가</td></tr><tr><td></td><td>데이터 일관성</td><td>서비스별 DB 분리로 데이터 정합성 보장 어려움</td></tr><tr><td></td><td>통신 오버헤드</td><td>서비스 간 네트워크 통신 비용/지연</td></tr><tr><td></td><td>테스트 어려움</td><td>통합/엔드투엔드 테스트 복잡</td></tr></tbody></table><p><strong>단점 해결 방법</strong></p><ul><li>서비스 메시, API 게이트웨이, 통합 모니터링 도구, 분산 트랜잭션 패턴 (Saga, CQRS), 자동화된 CI/CD 파이프라인 도입, 문서화 및 표준화 강화 [7][11][12][18].</li></ul><hr><h2 id=v-도전-과제-및-해결책>V. 도전 과제 및 해결책<a hidden class=anchor aria-hidden=true href=#v-도전-과제-및-해결책>#</a></h2><table><thead><tr><th>도전 과제</th><th>설명</th><th>해결책/도구</th></tr></thead><tbody><tr><td>서비스 통신 복잡성</td><td>서비스 간 동기/비동기 통신, 장애 대응</td><td>API 게이트웨이, 메시지 브로커, 서비스 메시</td></tr><tr><td>데이터 일관성</td><td>서비스별 DB 분리로 트랜잭션/정합성 문제</td><td>Saga, CQRS, 이벤트 소싱</td></tr><tr><td>배포/운영 복잡성</td><td>다수 서비스의 배포/모니터링/로그 관리</td><td>컨테이너 오케스트레이션 (Kubernetes), 통합 모니터링</td></tr><tr><td>보안</td><td>서비스 간 인증/인가, 데이터 보호</td><td>인증/인가 체계, 암호화, API Gateway</td></tr><tr><td>테스트</td><td>통합/엔드투엔드 테스트 복잡</td><td>자동화 테스트, Mock/Stub, 테스트 환경 분리</td></tr></tbody></table><hr><h2 id=vi-분류-기준에-따른-종류-및-유형>VI. 분류 기준에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#vi-분류-기준에-따른-종류-및-유형>#</a></h2><table><thead><tr><th>분류 기준</th><th>유형/모델</th><th>설명 및 특징</th></tr></thead><tbody><tr><td>통신 방식</td><td>동기 (REST/gRPC)</td><td>요청 - 응답 기반, 실시간 처리</td></tr><tr><td></td><td>비동기 (Message Queue/Event)</td><td>메시지 큐, 이벤트 기반 통신, 느슨한 결합</td></tr><tr><td>배포 방식</td><td>온프레미스</td><td>자체 인프라에 서비스 배포</td></tr><tr><td></td><td>클라우드</td><td>클라우드 환경에 서비스 배포</td></tr><tr><td>서비스 경계</td><td>도메인 기반</td><td>도메인 주도 설계 (DDD) 기반 서비스 분할</td></tr><tr><td></td><td>기능 기반</td><td>기능별로 서비스 분할 (사용자, 주문, 결제 등)</td></tr></tbody></table><hr><h2 id=vii-실무-적용-예시>VII. 실무 적용 예시<a hidden class=anchor aria-hidden=true href=#vii-실무-적용-예시>#</a></h2><table><thead><tr><th>적용 분야</th><th>적용 예시</th><th>설명</th></tr></thead><tbody><tr><td>전자상거래</td><td>사용자, 상품, 주문, 결제 서비스</td><td>각 기능을 독립 서비스로 분리, 확장성/장애 격리</td></tr><tr><td>스트리밍 서비스</td><td>Netflix, YouTube</td><td>대규모 트래픽, 글로벌 서비스 지원</td></tr><tr><td>금융</td><td>계좌, 결제, 인증 서비스</td><td>보안/확장성/장애 격리 강화</td></tr><tr><td>공공기관</td><td>지능형 고객지원, 데이터 분석</td><td>AI 마이크로서비스, 자동화/분석 서비스 분리</td></tr></tbody></table><hr><h2 id=viii-활용-사례>VIII. 활용 사례<a hidden class=anchor aria-hidden=true href=#viii-활용-사례>#</a></h2><p><strong>사례: Netflix 마이크로서비스 아키텍처</strong></p><ul><li><strong>시스템 구성</strong>: 수백 개의 독립 서비스 (회원, 추천, 결제, 스트리밍 등), API 게이트웨이, 서비스 레지스트리, 메시지 브로커, 각 서비스별 DB, 컨테이너 오케스트레이션</li><li><strong>아키텍처 다이어그램</strong></li></ul><pre class=mermaid>graph TD
  User--&gt;|API Gateway|AG[API Gateway]
  AG--&gt;|회원 서비스|Member[Membership Service]
  AG--&gt;|추천 서비스|Rec[Recommendation Service]
  AG--&gt;|결제 서비스|Pay[Payment Service]
  AG--&gt;|스트리밍 서비스|Stream[Streaming Service]
  Member--&gt;|DB|MemberDB[(DB)]
  Rec--&gt;|DB|RecDB[(DB)]
  Pay--&gt;|DB|PayDB[(DB)]
  Stream--&gt;|DB|StreamDB[(DB)]
  AG--&gt;|메시지 브로커|MQ[Kafka/RabbitMQ]
  Member--&gt;|모니터링|Mon[Monitoring]
  Rec--&gt;|모니터링|Mon
  Pay--&gt;|모니터링|Mon
  Stream--&gt;|모니터링|Mon
</pre><ul><li><p><strong>Workflow</strong></p><ol><li>사용자가 API Gateway 를 통해 서비스 요청</li><li>API Gateway 가 각 서비스에 요청 라우팅</li><li>서비스 간 메시지 브로커를 통한 비동기 통신</li><li>각 서비스는 독립적으로 DB/로직 관리, 장애 발생 시 격리</li><li>모니터링 시스템으로 상태/성능 실시간 감시</li></ol></li><li><p><strong>역할</strong>: 대규모 트래픽 처리, 장애 격리, 빠른 배포/확장, 글로벌 서비스 지원</p></li></ul><hr><h2 id=ix-실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>IX. 실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#ix-실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>#</a></h2><table><thead><tr><th>고려사항</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>서비스 경계 정의</td><td>도메인/비즈니스 기능별로 명확히 분리</td><td>도메인 주도 설계 (DDD) 적용</td></tr><tr><td>데이터 관리</td><td>서비스별 DB 분리, 일관성 전략 수립</td><td>CQRS, Saga, 이벤트 소싱 활용</td></tr><tr><td>통신 패턴</td><td>동기/비동기 통신 패턴 조합</td><td>REST/gRPC, 메시지 큐 병행 활용</td></tr><tr><td>배포/운영 자동화</td><td>CI/CD, 컨테이너 오케스트레이션 적용</td><td>Kubernetes, Jenkins 등 도입</td></tr><tr><td>보안/인증</td><td>서비스 간 인증/암호화, 접근 제어 강화</td><td>API Gateway, OAuth, JWT</td></tr><tr><td>모니터링/로깅</td><td>통합 모니터링, 분산 트레이싱 도입</td><td>Prometheus, Grafana, Jaeger 등</td></tr></tbody></table><hr><h2 id=x-최적화하기-위한-고려사항-및-주의할-점>X. 최적화하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#x-최적화하기-위한-고려사항-및-주의할-점>#</a></h2><table><thead><tr><th>고려사항</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>성능 최적화</td><td>네트워크 지연, 통신 병목 최소화</td><td>캐싱, 비동기 메시징, 로드밸런싱</td></tr><tr><td>장애 대응</td><td>장애 격리, 자동 복구 체계 구축</td><td>헬스체크, Circuit Breaker</td></tr><tr><td>비용 관리</td><td>리소스 효율적 사용, 인프라 최적화</td><td>오토스케일링, 클라우드 활용</td></tr><tr><td>테스트 자동화</td><td>서비스별/통합 테스트 자동화</td><td>Mock/Stub, E2E 테스트</td></tr><tr><td>문서화</td><td>API/아키텍처/운영 문서화</td><td>Swagger, OpenAPI, Wiki 등</td></tr></tbody></table><hr><h2 id=xi-기타-사항>XI. 기타 사항<a hidden class=anchor aria-hidden=true href=#xi-기타-사항>#</a></h2><table><thead><tr><th>문제</th><th>원인</th><th>영향</th><th>탐지/진단</th><th>예방/해결 방법</th></tr></thead><tbody><tr><td>데이터 불일치</td><td>서비스별 DB 분리</td><td>데이터 오류, 정합성 문제</td><td>모니터링, 이벤트 추적</td><td>CQRS, Saga, 이벤트 소싱 적용</td></tr><tr><td>통신 장애</td><td>네트워크/메시지 브로커</td><td>서비스 중단, 지연</td><td>헬스체크, 로깅, 알림</td><td>Circuit Breaker, 재시도, 장애 격리</td></tr><tr><td>관리 복잡성</td><td>서비스/인프라 증가</td><td>운영 비용 증가, 장애 대응 지연</td><td>자동화 도구, 대시보드</td><td>오케스트레이션, 자동화 관리</td></tr><tr><td>보안 위협</td><td>인증/암호화 미흡</td><td>데이터 유출, 서비스 마비</td><td>보안 로그, 침입 탐지</td><td>API Gateway, 암호화, 인증 강화</td></tr></tbody></table><hr><h2 id=xii-주제와-관련하여-주목할-내용>XII. 주제와 관련하여 주목할 내용<a hidden class=anchor aria-hidden=true href=#xii-주제와-관련하여-주목할-내용>#</a></h2><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>도메인 주도 설계</td><td>서비스 경계</td><td>비즈니스 도메인별로 서비스 분할, 결합도 최소화</td></tr><tr><td>서비스 메시</td><td>통신 추상화</td><td>서비스 간 통신, 보안, 트래픽 관리 자동화</td></tr><tr><td>컨테이너/오케스트레이션</td><td>배포 자동화</td><td>Docker, Kubernetes 로 배포/확장 자동화</td></tr><tr><td>이벤트 기반 아키텍처</td><td>비동기 처리</td><td>메시지 큐, 이벤트 소싱 등 활용</td></tr><tr><td>분산 트랜잭션</td><td>데이터 일관성</td><td>Saga, CQRS, 이벤트 소싱 등 패턴 적용</td></tr></tbody></table><hr><h2 id=xiii-추가로-알아야-할-내용>XIII. 추가로 알아야 할 내용<a hidden class=anchor aria-hidden=true href=#xiii-추가로-알아야-할-내용>#</a></h2><table><thead><tr><th>카테고리</th><th>간략한 설명</th><th>주제</th></tr></thead><tbody><tr><td>도메인 주도 설계 (DDD)</td><td>서비스 경계 정의, 복잡성 관리</td><td>마이크로서비스 설계 원칙</td></tr><tr><td>서비스 메시</td><td>서비스 간 통신/보안/관찰성 강화</td><td>Istio, Linkerd 등</td></tr><tr><td>이벤트 소싱</td><td>상태 변경을 이벤트로 기록/재생</td><td>데이터 일관성/복구</td></tr><tr><td>CQRS</td><td>명령/조회 책임 분리, 성능/확장성 강화</td><td>데이터 관리 패턴</td></tr><tr><td>오케스트레이션</td><td>서비스 배포/확장/복구 자동화</td><td>Kubernetes, Docker 등</td></tr></tbody></table><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>아키텍처</td><td>마이크로서비스 아키텍처 (Microservices Architecture)</td><td>독립적으로 배포 가능한 작은 서비스 집합으로 시스템을 구성하는 아키텍처 스타일</td></tr><tr><td>아키텍처</td><td>API 게이트웨이 (API Gateway)</td><td>클라이언트 요청을 각 서비스로 라우팅하는 진입점 역할</td></tr><tr><td>아키텍처</td><td>서비스 메시 (Service Mesh)</td><td>서비스 간 통신, 보안, 관찰성, 트래픽 관리 추상화 계층</td></tr><tr><td>아키텍처</td><td>서비스 레지스트리 (Service Registry)</td><td>서비스 등록/검색, 동적 라우팅 지원 시스템</td></tr><tr><td>아키텍처</td><td>메시지 브로커 (Message Broker)</td><td>서비스 간 비동기 메시지/이벤트 전달 시스템</td></tr><tr><td>아키텍처</td><td>도메인 주도 설계 (DDD)</td><td>비즈니스 도메인별로 서비스 경계 정의하는 설계 방법론</td></tr><tr><td>아키텍처</td><td>CQRS</td><td>명령과 조회 책임을 분리하는 데이터 관리 패턴</td></tr><tr><td>아키텍처</td><td>이벤트 소싱 (Event Sourcing)</td><td>상태 변경을 이벤트로 기록/재생하는 패턴</td></tr><tr><td>아키텍처</td><td>컨테이너 (Container)</td><td>서비스 실행 환경을 패키징하는 기술 (Docker 등)</td></tr><tr><td>아키텍처</td><td>오케스트레이션 (Orchestration)</td><td>컨테이너 배포/확장/복구 자동화 (Kubernetes 등)</td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><ul><li><a href=https://payproglobal.com/ko/%EB%8B%B5%EB%B3%80/%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%EB%9E%80/>마이크로서비스 아키텍처란? 주요 개념 및 예제 - PayPro Global</a></li><li><a href=https://hahahoho5915.tistory.com/71>MSA란?(등장배경, 특징, 장단점) - 넌 잘하고 있어 - 티스토리</a></li><li><a href=https://aws.amazon.com/ko/microservices/>마이크로서비스란 무엇입니까? - AWS</a></li><li><a href=https://wikidocs.net/230938>1.2 MSA의 특징 - 위키독스</a></li><li><a href=https://mmp2022.tistory.com/entry/MicroservicePattern%EC%A0%95%EC%9D%98%ED%8A%B9%EC%A7%95%EC%84%A4%EB%AA%85%EA%B5%AC%ED%98%84%EB%B0%A9%EB%B2%95%EC%9E%A5%EC%A0%90%EA%B3%BC%EB%8B%A8%EC%A0%90>Microservice Pattern 정의, 특징, 설명, 구현 방법, 장점과 단점</a></li><li><a href=https://f-lab.kr/insight/understanding-microservices-architecture-20240517>마이크로서비스 아키텍처 이해하기 - F-Lab</a></li><li><a href=https://www.redhat.com/ko/topics/microservices>마이크로서비스(Microservice) 개념, 장점, 아키텍처, 적용 사례 - Red Hat</a></li><li><a href=https://www.processon.io/ko/blog/what-is-microservice-architecture-diagram>Microservices Architecture Diagram Guide - ProcessOn</a></li><li><a href=https://www.jaenung.net/tree/16154>마이크로서비스 아키텍처: Python으로 구현하는 현대적 시스템 설계와 &mldr; - 재능넷</a></li><li><a href=https://www.atlassian.com/ko/microservices/cloud-computing/advantages-of-microservices>마이크로서비스의 장점 및 알아야 할 단점 - Atlassian</a></li><li><a href=https://www.lgcns.com/blog/cns-tech/36171/>실패하지 않는 MSA 전환, 두 가지만 기억하세요! 1편 - LG CNS</a></li><li><a href=https://andongmin.com/docs/nest/ch7/ch7-1>마이크로서비스 개념과 NestJS 적용 - 안동민 개발노트</a></li><li><a href=https://learn.microsoft.com/ko-kr/azure/architecture/microservices/design/data-considerations>마이크로 서비스에 대한 데이터 고려 사항 - Azure Architecture Center</a></li><li><a href=https://www.msap.ai/blog/public-ai-microservices/>공공기관 지능형 마이크로서비스 적용 방안 - MSAP.ai</a></li><li>[MSA 개념 정립하기] MSA 의 개념과 장단점](<a href=https://waspro.tistory.com/429>https://waspro.tistory.com/429</a>)</li><li>[MSA] 마이크로서비스 아키텍처 (MSA) 란 뭘까? - 우당탕탕 - 티스토리](<a href=https://mozzi-devlog.tistory.com/34>https://mozzi-devlog.tistory.com/34</a>)</li><li><a href=https://unclekevin.tistory.com/entry/MSA-%EC%8B%AC%EC%B8%B5-%EC%84%9C%EC%88%A0%ED%98%95-%EC%98%88%EC%83%81-%EB%AC%B8%EC%A0%9C>MSA 심층 서술형 예상 문제</a></li></ul><hr><p>[1] <a href=https://payproglobal.com/ko/%EB%8B%B5%EB%B3%80/%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%EB%9E%80/>https://payproglobal.com/ko/%EB%8B%B5%EB%B3%80/%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%EB%9E%80/</a><br>[2] <a href=https://hahahoho5915.tistory.com/71>https://hahahoho5915.tistory.com/71</a><br>[3] <a href=https://waspro.tistory.com/429>https://waspro.tistory.com/429</a><br>[4] <a href=https://aws.amazon.com/ko/microservices/>https://aws.amazon.com/ko/microservices/</a><br>[5] <a href=https://wikidocs.net/230938>https://wikidocs.net/230938</a><br>[6] <a href=https://velog.io/@mrcocoball2/MSA-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0-5.-%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EB%82%B4%EB%B6%80-%EA%B5%AC%EC%A1%B0>https://velog.io/@mrcocoball2/MSA-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0-5.-%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EB%82%B4%EB%B6%80-%EA%B5%AC%EC%A1%B0</a><br>[7] <a href=https://wonit.tistory.com/490>https://wonit.tistory.com/490</a><br>[8] <a href=https://mmp2022.tistory.com/entry/MicroservicePattern%EC%A0%95%EC%9D%98%ED%8A%B9%EC%A7%95%EC%84%A4%EB%AA%85%EA%B5%AC%ED%98%84%EB%B0%A9%EB%B2%95%EC%9E%A5%EC%A0%90%EA%B3%BC%EB%8B%A8%EC%A0%90>https://mmp2022.tistory.com/entry/MicroservicePattern%EC%A0%95%EC%9D%98%ED%8A%B9%EC%A7%95%EC%84%A4%EB%AA%85%EA%B5%AC%ED%98%84%EB%B0%A9%EB%B2%95%EC%9E%A5%EC%A0%90%EA%B3%BC%EB%8B%A8%EC%A0%90</a><br>[9] <a href=https://www.processon.io/ko/view/aws-microservices-architecture-diagram/67b59f451068724114febdeb>https://www.processon.io/ko/view/aws-microservices-architecture-diagram/67b59f451068724114febdeb</a><br>[10] <a href=https://www.atlassian.com/ko/microservices/cloud-computing/advantages-of-microservices>https://www.atlassian.com/ko/microservices/cloud-computing/advantages-of-microservices</a><br>[11] <a href=https://f-lab.kr/insight/understanding-microservices-architecture-20240517>https://f-lab.kr/insight/understanding-microservices-architecture-20240517</a><br>[12] <a href=https://www.lgcns.com/blog/cns-tech/36171/>https://www.lgcns.com/blog/cns-tech/36171/</a><br>[13] <a href=https://mozzi-devlog.tistory.com/34>https://mozzi-devlog.tistory.com/34</a><br>[14] <a href=https://www.jaenung.net/tree/16154>https://www.jaenung.net/tree/16154</a><br>[15] <a href=https://www.msap.ai/blog/public-ai-microservices/>https://www.msap.ai/blog/public-ai-microservices/</a><br>[16] <a href=https://www.redhat.com/ko/topics/microservices>https://www.redhat.com/ko/topics/microservices</a><br>[17] <a href=https://learn.microsoft.com/ko-kr/azure/architecture/microservices/design/data-considerations>https://learn.microsoft.com/ko-kr/azure/architecture/microservices/design/data-considerations</a><br>[18] <a href=https://andongmin.com/docs/nest/ch7/ch7-1>https://andongmin.com/docs/nest/ch7/ch7-1</a><br>[19] <a href=https://unclekevin.tistory.com/entry/MSA-%EC%8B%AC%EC%B8%B5-%EC%84%9C%EC%88%A0%ED%98%95-%EC%98%88%EC%83%81-%EB%AC%B8%EC%A0%9C>https://unclekevin.tistory.com/entry/MSA-%EC%8B%AC%EC%B8%B5-%EC%84%9C%EC%88%A0%ED%98%95-%EC%98%88%EC%83%81-%EB%AC%B8%EC%A0%9C</a><br>[20] <a href=https://www.processon.io/ko/blog/what-is-microservice-architecture-diagram>https://www.processon.io/ko/blog/what-is-microservice-architecture-diagram</a><br>[21] <a href="https://metanetglobal.com/bbs/board.php?bo_table=tech&amp;wr_id=135">https://metanetglobal.com/bbs/board.php?bo_table=tech&amp;wr_id=135</a><br>[22] <a href=https://www.msap.ai/docs/msa-expert-from-concepts-to-practice/part-1-msa-fundamentals/chapter-1-introduction-to-msa/section-1-2-what-is-microservices-architecture/subsection-1-2-1-msa-definition-characteristics-differences/>https://www.msap.ai/docs/msa-expert-from-concepts-to-practice/part-1-msa-fundamentals/chapter-1-introduction-to-msa/section-1-2-what-is-microservices-architecture/subsection-1-2-1-msa-definition-characteristics-differences/</a><br>[23] <a href=https://velog.io/@cosmo_numm/MSA-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%EC%9D%98-%EB%8F%99%EC%9E%91-%EB%B0%A9%EC%8B%9D>https://velog.io/@cosmo_numm/MSA-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%EC%9D%98-%EB%8F%99%EC%9E%91-%EB%B0%A9%EC%8B%9D</a><br>[24] <a href=https://www.redhat.com/ko/topics/microservices/what-are-microservices>https://www.redhat.com/ko/topics/microservices/what-are-microservices</a><br>[25] <a href=https://gamedev-nomad.tistory.com/12>https://gamedev-nomad.tistory.com/12</a><br>[26] <a href=https://wso2.com/ko/whitepapers/microservices-in-practice-key-architectural-concepts-of-an-msa/>https://wso2.com/ko/whitepapers/microservices-in-practice-key-architectural-concepts-of-an-msa/</a><br>[27] <a href=https://terry-some.tistory.com/188>https://terry-some.tistory.com/188</a><br>[28] <a href=https://waspro.tistory.com/751>https://waspro.tistory.com/751</a><br>[29] <a href=https://12bme.tistory.com/499>https://12bme.tistory.com/499</a><br>[30] <a href=https://learn.microsoft.com/ko-kr/azure/architecture/guide/architecture-styles/microservices>https://learn.microsoft.com/ko-kr/azure/architecture/guide/architecture-styles/microservices</a><br>[31] <a href=https://www.msap.ai/docs/msa-expert-from-concepts-to-practice/part-1-msa-fundamentals/chapter-1-introduction-to-msa/section-1-2-what-is-microservices-architecture/>https://www.msap.ai/docs/msa-expert-from-concepts-to-practice/part-1-msa-fundamentals/chapter-1-introduction-to-msa/section-1-2-what-is-microservices-architecture/</a><br>[32] <a href="https://metanetglobal.com/bbs/board.php?bo_table=tech&amp;wr_id=136">https://metanetglobal.com/bbs/board.php?bo_table=tech&amp;wr_id=136</a><br>[33] <a href=https://freeend.tistory.com/115>https://freeend.tistory.com/115</a><br>[34] <a href=https://yourusername.tistory.com/410>https://yourusername.tistory.com/410</a><br>[35] <a href=https://channy.creation.net/articles/microservices-by-james_lewes-martin_fowler>https://channy.creation.net/articles/microservices-by-james_lewes-martin_fowler</a><br>[36] <a href=https://junhyunny.github.io/msa/msa-pros-and-cons/>https://junhyunny.github.io/msa/msa-pros-and-cons/</a><br>[37] <a href=https://yozm.wishket.com/magazine/detail/644/>https://yozm.wishket.com/magazine/detail/644/</a><br>[38] <a href="https://m.hanbit.co.kr/channel/view.html?cmscode=CMS7041033157">https://m.hanbit.co.kr/channel/view.html?cmscode=CMS7041033157</a><br>[39] <a href=https://www.ibm.com/kr-ko/topics/microservices>https://www.ibm.com/kr-ko/topics/microservices</a><br>[40] <a href=https://www.osckorea.com/post/msa-micro-service-architecture-neun-mueosimyeo-wae-pilyohalggayo>https://www.osckorea.com/post/msa-micro-service-architecture-neun-mueosimyeo-wae-pilyohalggayo</a><br>[41] <a href=https://chance-story.tistory.com/34>https://chance-story.tistory.com/34</a><br>[42] <a href=https://velog.io/@sorzzzzy/MSA-MSAMicroService-Architecture%EB%9E%80>https://velog.io/@sorzzzzy/MSA-MSAMicroService-Architecture%EB%9E%80</a><br>[43] <a href=https://velog.io/@juhyeon1114/Micro-Service-Architecture-%EA%B0%9C%EB%85%90-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0>https://velog.io/@juhyeon1114/Micro-Service-Architecture-%EA%B0%9C%EB%85%90-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0</a><br>[44] <a href=https://learn.microsoft.com/ko-kr/dotnet/architecture/microservices/architect-microservice-container-applications/communication-in-microservice-architecture>https://learn.microsoft.com/ko-kr/dotnet/architecture/microservices/architect-microservice-container-applications/communication-in-microservice-architecture</a><br>[45] <a href=https://wookkl.tistory.com/68>https://wookkl.tistory.com/68</a><br>[46] <a href=https://yummy0102.tistory.com/363>https://yummy0102.tistory.com/363</a><br>[47] <a href=https://velog.io/@dobecom/msa2>https://velog.io/@dobecom/msa2</a><br>[48] <a href=https://lareale.tistory.com/351>https://lareale.tistory.com/351</a><br>[49] <a href=https://f-lab.kr/insight/understanding-microservices-architecture-20240716>https://f-lab.kr/insight/understanding-microservices-architecture-20240716</a><br>[50] <a href=https://bestdevelop-lab.tistory.com/149>https://bestdevelop-lab.tistory.com/149</a><br>[51] <a href=https://www.atlassian.com/ko/microservices/microservices-architecture/building-microservices>https://www.atlassian.com/ko/microservices/microservices-architecture/building-microservices</a><br>[52] <a href=https://cloud.google.com/learn/what-is-microservices-architecture>https://cloud.google.com/learn/what-is-microservices-architecture</a><br>[53] <a href=https://www.icia.co.kr/community/board/view/2/1/90>https://www.icia.co.kr/community/board/view/2/1/90</a></p><p>마이크로서비스 아키텍처 (Microservices Architecture) 는 현대 소프트웨어 개발에서 핵심적인 아키텍처 스타일로, 대규모 애플리케이션을 독립적으로 배포 및 확장 가능한 작은 서비스들의 집합으로 구성하는 접근 방식입니다. 이러한 아키텍처는 민첩성, 확장성, 유지보수성을 향상시키며, 클라우드 및 DevOps 환경에 적합합니다.</p><hr><h2 id=-1-주제-분류의-적절성-분석>🧭 1. 주제 분류의 적절성 분석<a hidden class=anchor aria-hidden=true href=#-1-주제-분류의-적절성-분석>#</a></h2><p><strong>분류</strong>: &ldquo;Computer Science and Engineering&rdquo; > &ldquo;System and Software Architecture&rdquo; > &ldquo;Architecture&rdquo; > &ldquo;Architecture Styles&rdquo; > &ldquo;Service-Oriented&rdquo;</p><p><strong>분석</strong>: 마이크로서비스 아키텍처는 서비스 지향 아키텍처 (SOA) 의 발전된 형태로, 독립적인 서비스들이 모여 전체 시스템을 구성합니다. 따라서 &ldquo;Service-Oriented&rdquo; 하위 분류에 포함하는 것이 적절합니다. 그러나 마이크로서비스는 SOA 와는 다른 특징을 가지므로, 별도의 하위 분류로 구분하는 것도 고려할 수 있습니다.</p><hr><h2 id=-2-요약-문장-200-자-내외>🧾 2. 요약 문장 (200 자 내외)<a hidden class=anchor aria-hidden=true href=#-2-요약-문장-200-자-내외>#</a></h2><p>마이크로서비스 아키텍처는 애플리케이션을 독립적으로 배포 및 확장 가능한 작은 서비스들로 구성하여, 민첩성과 확장성을 높이는 현대적인 소프트웨어 설계 방식입니다.</p><hr><h2 id=-3-전체-개요-250-자-내외>📘 3. 전체 개요 (250 자 내외)<a hidden class=anchor aria-hidden=true href=#-3-전체-개요-250-자-내외>#</a></h2><p>마이크로서비스 아키텍처는 단일 애플리케이션을 독립적인 서비스들의 집합으로 구성하여, 각 서비스가 특정 비즈니스 기능을 담당하고 자체적으로 배포 및 확장될 수 있도록 합니다. 이러한 접근 방식은 개발 속도 향상, 시스템 유연성 증가, 장애 격리 등을 가능하게 하며, 클라우드 및 DevOps 환경에 적합합니다.</p><hr><h2 id=-4-핵심-개념>🧩 4. 핵심 개념<a hidden class=anchor aria-hidden=true href=#-4-핵심-개념>#</a></h2><ul><li><p><strong>정의</strong>: 마이크로서비스 아키텍처는 애플리케이션을 작고 독립적인 서비스들로 분해하여, 각 서비스가 특정 비즈니스 기능을 수행하고 독립적으로 배포 및 확장될 수 있도록 하는 아키텍처 스타일입니다.</p></li><li><p><strong>특징</strong>:</p><ul><li><p><strong>독립성</strong>: 각 서비스는 독립적으로 개발, 배포, 확장 가능</p></li><li><p><strong>경량 통신</strong>: RESTful API, gRPC 등을 통한 통신</p></li><li><p><strong>분산 데이터 관리</strong>: 서비스별로 데이터 저장소를 가짐</p></li><li><p><strong>자동화된 배포</strong>: CI/CD 파이프라인을 통한 자동화</p></li><li><p><strong>폴리글랏 프로그래밍</strong>: 서비스별로 적합한 언어 및 프레임워크 사용</p></li></ul></li></ul><hr><h2 id=-5-주요-원리-및-작동-원리>🛠️ 5. 주요 원리 및 작동 원리<a hidden class=anchor aria-hidden=true href=#-5-주요-원리-및-작동-원리>#</a></h2><h3 id=주요-원리>주요 원리<a hidden class=anchor aria-hidden=true href=#주요-원리>#</a></h3><ul><li><p><strong>단일 책임 원칙 (Single Responsibility Principle)</strong>: 각 서비스는 하나의 비즈니스 기능에 집중</p></li><li><p><strong>독립 배포 (Independent Deployment)</strong>: 서비스는 다른 서비스에 영향을 주지 않고 배포 가능</p></li><li><p><strong>자동화된 배포 및 테스트</strong>: CI/CD 를 통한 빠른 배포 및 테스트</p></li><li><p><strong>분산 거버넌스</strong>: 서비스별로 기술 스택 및 데이터베이스 선택 가능</p></li></ul><h3 id=작동-원리-다이어그램>작동 원리 다이어그램<a hidden class=anchor aria-hidden=true href=#작동-원리-다이어그램>#</a></h3><pre class=mermaid>graph TD
  Client --&gt;|HTTP/gRPC| API_Gateway
  API_Gateway --&gt;|Route| Service_A
  API_Gateway --&gt;|Route| Service_B
  Service_A --&gt;|DB Access| Database_A
  Service_B --&gt;|DB Access| Database_B
</pre><hr><h2 id=-6-구조-및-아키텍처>🧱 6. 구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#-6-구조-및-아키텍처>#</a></h2><h3 id=구성-요소>구성 요소<a hidden class=anchor aria-hidden=true href=#구성-요소>#</a></h3><ul><li><p><strong>API Gateway</strong>: 클라이언트 요청을 적절한 서비스로 라우팅하고, 인증 및 로깅 등을 처리합니다.</p></li><li><p><strong>Service Registry & Discovery</strong>: 서비스의 위치를 등록하고 검색할 수 있도록 지원합니다.</p></li><li><p><strong>Configuration Server</strong>: 서비스의 설정 정보를 중앙에서 관리합니다.</p></li><li><p><strong>Monitoring & Logging</strong>: 서비스의 상태를 모니터링하고 로그를 수집합니다.</p></li><li><p><strong>Message Broker</strong>: 서비스 간 비동기 통신을 지원합니다.</p></li></ul><h3 id=아키텍처-다이어그램>아키텍처 다이어그램<a hidden class=anchor aria-hidden=true href=#아키텍처-다이어그램>#</a></h3><pre class=mermaid>graph TD
  Client --&gt; API_Gateway
  API_Gateway --&gt; Service_A
  API_Gateway --&gt; Service_B
  Service_A --&gt; Database_A
  Service_B --&gt; Database_B
  Service_A --&gt;|Publish/Subscribe| Message_Broker
  Service_B --&gt;|Publish/Subscribe| Message_Broker
  Service_A --&gt; Monitoring
  Service_B --&gt; Monitoring
</pre><hr><h2 id=-7-구현-기법>🧪 7. 구현 기법<a hidden class=anchor aria-hidden=true href=#-7-구현-기법>#</a></h2><h3 id=1-restful-api>1. <strong>RESTful API</strong><a hidden class=anchor aria-hidden=true href=#1-restful-api>#</a></h3><ul><li><p><strong>정의</strong>: HTTP 프로토콜을 기반으로 한 API 설계 방식</p></li><li><p><strong>구성</strong>: GET, POST, PUT, DELETE 등의 HTTP 메서드 사용</p></li><li><p><strong>목적</strong>: 서비스 간 통신을 간단하고 표준화된 방식으로 구현</p></li><li><p><strong>예시</strong>: 사용자 서비스에서 <code>/users/{id}</code> 엔드포인트를 통해 사용자 정보 제공</p></li></ul><h3 id=2-grpc>2. <strong>gRPC</strong><a hidden class=anchor aria-hidden=true href=#2-grpc>#</a></h3><ul><li><p><strong>정의</strong>: Google 에서 개발한 고성능, 오픈소스 RPC 프레임워크</p></li><li><p><strong>구성</strong>: Protocol Buffers 를 사용한 인터페이스 정의</p></li><li><p><strong>목적</strong>: 서비스 간 고성능 통신 구현</p></li><li><p><strong>예시</strong>: 주문 서비스와 결제 서비스 간의 실시간 통신</p></li></ul><h3 id=3-이벤트-기반-아키텍처>3. <strong>이벤트 기반 아키텍처</strong><a hidden class=anchor aria-hidden=true href=#3-이벤트-기반-아키텍처>#</a></h3><ul><li><p><strong>정의</strong>: 이벤트를 통해 서비스 간 비동기 통신을 구현하는 방식</p></li><li><p><strong>구성</strong>: 이벤트 발행자, 이벤트 브로커, 이벤트 수신자로 구성</p></li><li><p><strong>목적</strong>: 서비스 간 결합도를 낮추고 확장성을 높임</p></li><li><p><strong>예시</strong>: 상품 서비스에서 재고 부족 이벤트를 발행하면, 알림 서비스가 이를 수신하여 관리자에게 알림 전송</p></li></ul><hr><h2 id=-8-장점과-단점>✅ 8. 장점과 단점<a hidden class=anchor aria-hidden=true href=#-8-장점과-단점>#</a></h2><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>✅ 장점</td><td>확장성</td><td>서비스 단위로 독립적인 확장 가능</td></tr><tr><td></td><td>민첩성</td><td>작은 단위의 서비스로 빠른 개발 및 배포 가능</td></tr><tr><td></td><td>장애 격리</td><td>하나의 서비스 장애가 전체 시스템에 영향을 주지 않음</td></tr><tr><td>⚠ 단점</td><td>복잡성 증가</td><td>서비스 수 증가로 인한 운영 및 관리 복잡성</td></tr><tr><td></td><td>데이터 일관성</td><td>분산된 데이터 관리로 인한 일관성 유지 어려움</td></tr><tr><td></td><td>테스트 어려움</td><td>서비스 간 통합 테스트의 복잡성 증가</td></tr></tbody></table><p><strong>단점 해결 방법</strong>:</p><ul><li><p><strong>복잡성 증가</strong>: 서비스 메시 (Service Mesh) 및 중앙 집중형 로깅/모니터링 도구 도입</p></li><li><p><strong>데이터 일관성</strong>: 이벤트 소싱 (Event Sourcing) 및 최종 일관성 (Final Consistency) 모델 적용</p></li><li><p><strong>테스트 어려움</strong>: 계약 기반 테스트 (Contract Testing) 및 통합 테스트 자동화</p></li></ul><hr><h2 id=-9-도전-과제-및-해결책>🧗 9. 도전 과제 및 해결책<a hidden class=anchor aria-hidden=true href=#-9-도전-과제-및-해결책>#</a></h2><ul><li><p><strong>서비스 경계 정의</strong>: 도메인 주도 설계 (DDD) 를 통해 명확한 서비스 경계 설정</p></li><li><p><strong>데이터 관리</strong>: CQRS(Command Query Responsibility Segregation) 및 이벤트 소싱 적용</p></li><li><p><strong>배포 자동화</strong>: CI/CD 파이프라인 구축 및 컨테이너 오케스트레이션 도구 (Kubernetes 등) 활용</p></li><li><p><strong>모니터링 및 로깅</strong>: 중앙 집중형 모니터링 도구 (Prometheus, ELK Stack 등) 도입</p></li></ul><hr><h2 id=-10-분류-기준에-따른-종류-및-유형>🧬 10. 분류 기준에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#-10-분류-기준에-따른-종류-및-유형>#</a></h2><table><thead><tr><th>분류 기준</th><th>유형</th><th>설명</th></tr></thead><tbody><tr><td>통신 방식</td><td>동기식</td><td>RESTful API, gRPC 등을 통한 실시간 통신</td></tr><tr><td></td><td>비동기식</td><td>메시지 큐 (Kafka, RabbitMQ 등) 를 통한 비동기 통신</td></tr><tr><td>배포 방식</td><td>컨테이너 기반</td><td>Docker, Kubernetes 등을 활용한 배포</td></tr><tr><td></td><td>서버리스</td><td>AWS Lambda, Azure Functions 등을 활용한 배포</td></tr><tr><td>데이터 저장소</td><td>공유 데이터베이스</td><td>여러 서비스가 하나의 데이터베이스를 공유</td></tr><tr><td></td><td>개별 데이터베이스</td><td>각 서비스가 독립적인 데이터베이스를 가짐</td></tr></tbody></table><hr><h2 id=-11-구현-예시-python>💻 11. 구현 예시 (Python)<a hidden class=anchor aria-hidden=true href=#-11-구현-예시-python>#</a></h2><p>다음은 Flask 를 사용한 간단한 사용자 서비스의 예시입니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a>
</span><span class=lnt id=hl-6-13><a class=lnlinks href=#hl-6-13>13</a>
</span><span class=lnt id=hl-6-14><a class=lnlinks href=#hl-6-14>14</a>
</span><span class=lnt id=hl-6-15><a class=lnlinks href=#hl-6-15>15</a>
</span><span class=lnt id=hl-6-16><a class=lnlinks href=#hl-6-16>16</a>
</span><span class=lnt id=hl-6-17><a class=lnlinks href=#hl-6-17>17</a>
</span><span class=lnt id=hl-6-18><a class=lnlinks href=#hl-6-18>18</a>
</span><span class=lnt id=hl-6-19><a class=lnlinks href=#hl-6-19>19</a>
</span><span class=lnt id=hl-6-20><a class=lnlinks href=#hl-6-20>20</a>
</span><span class=lnt id=hl-6-21><a class=lnlinks href=#hl-6-21>21</a>
</span><span class=lnt id=hl-6-22><a class=lnlinks href=#hl-6-22>22</a>
</span><span class=lnt id=hl-6-23><a class=lnlinks href=#hl-6-23>23</a>
</span><span class=lnt id=hl-6-24><a class=lnlinks href=#hl-6-24>24</a>
</span><span class=lnt id=hl-6-25><a class=lnlinks href=#hl-6-25>25</a>
</span><span class=lnt id=hl-6-26><a class=lnlinks href=#hl-6-26>26</a>
</span><span class=lnt id=hl-6-27><a class=lnlinks href=#hl-6-27>27</a>
</span><span class=lnt id=hl-6-28><a class=lnlinks href=#hl-6-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용자 마이크로서비스 예제 (User Service)</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>flask</span> <span class=kn>import</span> <span class=n>Flask</span><span class=p>,</span> <span class=n>request</span><span class=p>,</span> <span class=n>jsonify</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>Flask</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 가상의 사용자 데이터베이스</span>
</span></span><span class=line><span class=cl><span class=n>users</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=mi>1</span><span class=p>:</span> <span class=p>{</span><span class=s2>&#34;id&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Alice&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=mi>2</span><span class=p>:</span> <span class=p>{</span><span class=s2>&#34;id&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Bob&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.route</span><span class=p>(</span><span class=s1>&#39;/users/&lt;int:user_id&gt;&#39;</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;GET&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>get_user</span><span class=p>(</span><span class=n>user_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>user</span> <span class=o>=</span> <span class=n>users</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>user_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>user</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>jsonify</span><span class=p>(</span><span class=n>user</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>jsonify</span><span class=p>({</span><span class=s2>&#34;error&#34;</span><span class=p>:</span> <span class=s2>&#34;User not found&#34;</span><span class=p>}),</span> <span class=mi>404</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.route</span><span class=p>(</span><span class=s1>&#39;/users&#39;</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;POST&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>create_user</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>data</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>get_json</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>new_id</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>users</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span> <span class=o>+</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=n>users</span><span class=p>[</span><span class=n>new_id</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;id&#34;</span><span class=p>:</span> <span class=n>new_id</span><span class=p>,</span> <span class=s2>&#34;name&#34;</span><span class=p>:</span> <span class=n>data</span><span class=p>[</span><span class=s2>&#34;name&#34;</span><span class=p>]}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>jsonify</span><span class=p>(</span><span class=n>users</span><span class=p>[</span><span class=n>new_id</span><span class=p>]),</span> <span class=mi>201</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>port</span><span class=o>=</span><span class=mi>5000</span><span class=p>,</span> <span class=n>debug</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=-12-실무-적용-예시>🏢 12. 실무 적용 예시<a hidden class=anchor aria-hidden=true href=#-12-실무-적용-예시>#</a></h2><table><thead><tr><th>분야</th><th>시스템 구성 예시</th><th>설명</th></tr></thead><tbody><tr><td>이커머스</td><td>사용자, 상품, 주문, 결제, 재고 서비스 분리</td><td>독립 배포 및 장애 격리 가능</td></tr><tr><td>금융</td><td>고객, 계좌, 거래, 인증 서비스</td><td>민감 데이터 분리와 보안 관리 유리</td></tr><tr><td>미디어/OTT</td><td>사용자, 영상 메타, 스트리밍, 추천 서비스</td><td>확장성과 트래픽 분산에 유리</td></tr><tr><td>물류/배송</td><td>주문, 배송, 운송 추적, 고객 서비스</td><td>이벤트 기반 실시간 처리에 적합</td></tr><tr><td>교육 플랫폼</td><td>사용자, 강의, 결제, 알림 서비스</td><td>각 도메인 기능 독립적 운영 가능</td></tr></tbody></table><hr><h2 id=-13-활용-사례>🚀 13. 활용 사례<a hidden class=anchor aria-hidden=true href=#-13-활용-사례>#</a></h2><h3 id=netflix-마이크로서비스-아키텍처-사례>Netflix 마이크로서비스 아키텍처 사례<a hidden class=anchor aria-hidden=true href=#netflix-마이크로서비스-아키텍처-사례>#</a></h3><ul><li><p><strong>시나리오</strong>: 전 세계 수억 명 사용자에게 안정적인 스트리밍 제공</p></li><li><p><strong>구성요소</strong>:</p><ul><li><p>API Gateway (Zuul → Kong)</p></li><li><p>수백 개의 마이크로서비스 (Auth, Catalog, Recommendation, Streaming 등)</p></li><li><p>Hystrix (서킷 브레이커), Eureka (서비스 레지스트리), Ribbon (클라이언트 로드 밸런서)</p></li><li><p>Kafka (비동기 메시징), Cassandra (데이터 저장소)</p></li></ul></li></ul><pre class=mermaid>graph TD
  User --&gt; API_Gateway
  API_Gateway --&gt; Auth_Service
  API_Gateway --&gt; Video_Catalog_Service
  API_Gateway --&gt; Recommendation_Service
  Recommendation_Service --&gt; Kafka
  Kafka --&gt; ML_Model_Service
  Video_Catalog_Service --&gt; Streaming_Service
  Streaming_Service --&gt; CDN
</pre><h3 id=워크플로우>워크플로우<a hidden class=anchor aria-hidden=true href=#워크플로우>#</a></h3><ol><li><p>사용자가 로그인 요청 → Auth_Service</p></li><li><p>API Gateway → Catalog 및 추천 정보 제공</p></li><li><p>추천 결과 → ML 서비스 → Kafka 통해 비동기 처리</p></li><li><p>최종 콘텐츠 → CDN 통해 스트리밍</p></li></ol><hr><h2 id=-14-실무-적용-시-고려사항-및-주의점>🧷 14. 실무 적용 시 고려사항 및 주의점<a hidden class=anchor aria-hidden=true href=#-14-실무-적용-시-고려사항-및-주의점>#</a></h2><table><thead><tr><th>항목</th><th>고려사항</th><th>권장 사항</th></tr></thead><tbody><tr><td>서비스 분할</td><td>비즈니스 도메인 기준으로 설계 필요</td><td>DDD 기반 설계</td></tr><tr><td>DB 구조</td><td>서비스별 독립적인 데이터베이스 필요</td><td>이벤트 기반 동기화</td></tr><tr><td>통신 복잡도</td><td>API 호출 증가로 트래픽/성능 저하 발생</td><td>gRPC, 캐시, API Gateway</td></tr><tr><td>장애 관리</td><td>개별 서비스 장애 시 전체 시스템 영향 가능</td><td>Circuit Breaker, Retry 패턴</td></tr><tr><td>보안</td><td>각 서비스별 인증 및 권한 관리 필요</td><td>OAuth2, mTLS 적용</td></tr></tbody></table><hr><h2 id=-15-최적화-고려사항-및-권장-사항>🛠️ 15. 최적화 고려사항 및 권장 사항<a hidden class=anchor aria-hidden=true href=#-15-최적화-고려사항-및-권장-사항>#</a></h2><table><thead><tr><th>항목</th><th>고려사항</th><th>권장 사항</th></tr></thead><tbody><tr><td>성능</td><td>네트워크 비용, I/O 병목</td><td>In-memory Cache(Redis), Load Balancing</td></tr><tr><td>배포 자동화</td><td>빠른 릴리즈 및 복구 필요</td><td>CI/CD, Canary 배포 적용</td></tr><tr><td>모니터링</td><td>서비스 수 증가에 따른 추적 필요</td><td>Prometheus, Grafana, ELK</td></tr><tr><td>로그/트레이싱</td><td>요청 흐름 파악 어려움</td><td>Distributed Tracing (Jaeger, Zipkin)</td></tr><tr><td>용량 관리</td><td>피크 트래픽 대응</td><td>Auto-scaling, Rate Limiting</td></tr></tbody></table><hr><h2 id=-16-기타-사항문제-상황-및-해결-전략>🧯 16. 기타 사항–문제 상황 및 해결 전략<a hidden class=anchor aria-hidden=true href=#-16-기타-사항문제-상황-및-해결-전략>#</a></h2><table><thead><tr><th>문제 유형</th><th>원인</th><th>영향</th><th>탐지 및 진단</th><th>해결 방법</th></tr></thead><tbody><tr><td>서비스 경계 모호</td><td>도메인 설계 부족</td><td>중복 서비스, 협업 혼선</td><td>이벤트 분석, DDD 워크샵</td><td>컨텍스트 재정의</td></tr><tr><td>배포 실패</td><td>의존성 오류, 환경 변수 누락</td><td>서비스 간 API 오류 발생</td><td>로그, APM</td><td>블루그린/롤백 전략</td></tr><tr><td>데이터 불일치</td><td>비동기 이벤트 지연, 이벤트 유실</td><td>사용자 혼란, 상태 불일치</td><td>모니터링, DLQ</td><td>이벤트 리플레이, Retry 큐</td></tr><tr><td>인증 실패</td><td>JWT 만료, 서비스 간 인증 누락</td><td>인증 거부, 보안 위험</td><td>Access 로그 분석</td><td>인증 토큰 재설계, mTLS 적용</td></tr></tbody></table><hr><h2 id=-17-주제-관련-주목할-기술-및-개념>🧠 17. 주제 관련 주목할 기술 및 개념<a hidden class=anchor aria-hidden=true href=#-17-주제-관련-주목할-기술-및-개념>#</a></h2><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>배포 전략</td><td>블루그린, 카나리 배포</td><td>점진적 배포 및 장애 최소화 전략</td></tr><tr><td>통신 최적화</td><td>gRPC, HTTP/2</td><td>경량, 고속 통신 프레임워크</td></tr><tr><td>보안</td><td>OAuth2, mTLS</td><td>서비스 간 인증/암호화</td></tr><tr><td>모니터링</td><td>OpenTelemetry</td><td>표준화된 분산 추적 시스템</td></tr><tr><td>데이터 전략</td><td>CQRS, Event Sourcing</td><td>데이터 일관성 및 감사 로그 확보</td></tr></tbody></table><hr><h2 id=-18-학습-및-보완-항목>📚 18. 학습 및 보완 항목<a hidden class=anchor aria-hidden=true href=#-18-학습-및-보완-항목>#</a></h2><table><thead><tr><th>카테고리</th><th>간략한 설명</th><th>주제</th></tr></thead><tbody><tr><td>DDD</td><td>마이크로서비스 경계 설계를 위한 도메인 기반 설계 접근법</td><td>Bounded Context, Aggregates</td></tr><tr><td>이벤트 기반 처리</td><td>비동기 통신 및 확장성 확보</td><td>Kafka, RabbitMQ</td></tr><tr><td>배포 자동화</td><td>안정적인 마이크로서비스 배포 체계 구축</td><td>GitOps, ArgoCD</td></tr><tr><td>보안</td><td>마이크로서비스 간 안전한 인증/통신 체계 구축</td><td>OAuth2, JWT, TLS</td></tr><tr><td>장애 대응 전략</td><td>실패 복구 및 리트라이, 서킷브레이커 적용</td><td>Hystrix, Resilience4j</td></tr></tbody></table><hr><h2 id=용어-정리-1>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-1>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>아키텍처</td><td>Microservices</td><td>독립적으로 배포 가능한 소형 서비스들의 집합 아키텍처</td></tr><tr><td>통신</td><td>gRPC, REST, Event Bus</td><td>서비스 간 통신 프로토콜/메시지 방식</td></tr><tr><td>설계</td><td>DDD, Bounded Context</td><td>도메인 기반 서비스 경계 설계 원칙</td></tr><tr><td>운영</td><td>API Gateway, Service Mesh</td><td>트래픽 관리 및 서비스 간 통신 제어 도구</td></tr><tr><td>배포</td><td>CI/CD, Canary Release</td><td>자동화된 연속 배포 및 안전한 릴리스 전략</td></tr></tbody></table><hr><h2 id=참고-및-출처-1>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-1>#</a></h2><ul><li><p><a href=https://aws.amazon.com/microservices/>AWS - What is Microservices Architecture?</a></p></li><li><p><a href=https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/microservices>Microsoft Azure - Microservices Architecture Guide</a></p></li><li><p><a href=https://www.redhat.com/en/topics/microservices>RedHat - Microservices Explained</a></p></li><li><p><a href=https://cloud.google.com/architecture/microservices>Google Cloud - Microservices Best Practices</a></p></li></ul><hr><p>다음 주제로 넘어가거나, 위에서 다룬 특정 항목 (예: DDD, 이벤트 기반 처리, 서비스 메시 구현 등) 을 더 깊이 다루고 싶으시면 알려주세요.</p><p><strong>마이크로서비스 아키텍처 (Microservices Architecture)</strong> 에 대한 포괄적인 분석을 진행하겠습니다.</p><h2 id=1-주제-분류-적절성-검토>1. 주제 분류 적절성 검토<a hidden class=anchor aria-hidden=true href=#1-주제-분류-적절성-검토>#</a></h2><p><strong>분류: &ldquo;Computer Science and Engineering&rdquo; > &ldquo;System and Software Architecture&rdquo; > &ldquo;Architecture&rdquo; > &ldquo;Architecture Styles&rdquo; > &ldquo;Service-Oriented&rdquo;</strong></p><p>이 분류는 매우 적절합니다. 마이크로서비스 아키텍처는:</p><ul><li>SOA (Service-Oriented Architecture) 의 진화된 형태</li><li>서비스 지향적 접근 방식을 기반으로 함</li><li>컴퓨터 시스템과 소프트웨어 아키텍처의 핵심 스타일</li><li>분산 시스템 아키텍처 패턴의 대표적 사례</li></ul><h2 id=2-요약-문장-200-자-내외>2. 요약 문장 (200 자 내외)<a hidden class=anchor aria-hidden=true href=#2-요약-문장-200-자-내외>#</a></h2><p>마이크로서비스 아키텍처는 애플리케이션을 독립적으로 배포 가능한 소규모 서비스 집합으로 구성하는 아키텍처 스타일로, 각 서비스가 고유한 비즈니스 기능을 담당하며 API 를 통해 통신하여 확장성, 개발 속도, 장애 격리를 제공하는 클라우드 네이티브 접근 방식입니다.</p><h2 id=3-전체-개요-250-자-내외-1>3. 전체 개요 (250 자 내외)<a hidden class=anchor aria-hidden=true href=#3-전체-개요-250-자-내외-1>#</a></h2><p>마이크로서비스 아키텍처는 모놀리식 아키텍처의 한계를 극복하기 위해 등장한 분산 시스템 설계 패턴입니다. 단일 애플리케이션을 여러 독립적인 서비스로 분해하여 각각이 특정 비즈니스 도메인을 담당하도록 하며, API 게이트웨이, 서비스 메시, 컨테이너 오케스트레이션 등의 기술과 함께 사용됩니다. Netflix, Amazon, Uber 등 대규모 인터넷 기업들이 성공적으로 도입하여 개발 민첩성과 시스템 확장성을 크게 향상시켰습니다.</p><h2 id=4-핵심-개념>4. 핵심 개념<a hidden class=anchor aria-hidden=true href=#4-핵심-개념>#</a></h2><h3 id=기본-개념>기본 개념<a hidden class=anchor aria-hidden=true href=#기본-개념>#</a></h3><ul><li><strong>서비스 분해 (Service Decomposition)</strong>: 도메인 경계에 따른 서비스 분리</li><li><strong>느슨한 결합 (Loose Coupling)</strong>: 서비스 간 독립성 보장</li><li><strong>높은 응집도 (High Cohesion)</strong>: 서비스 내부 기능의 응집성</li><li><strong>독립적 배포 (Independent Deployment)</strong>: 서비스별 독립적 배포와 확장</li></ul><h3 id=핵심-원칙>핵심 원칙<a hidden class=anchor aria-hidden=true href=#핵심-원칙>#</a></h3><ul><li><strong>단일 책임 원칙</strong>: 하나의 서비스는 하나의 비즈니스 기능 담당</li><li><strong>데이터베이스 분리</strong>: 서비스별 독립적인 데이터 저장소 운영</li><li><strong>API 우선 설계</strong>: 명확한 인터페이스 정의와 계약</li><li><strong>장애 격리</strong>: 개별 서비스 실패가 전체 시스템에 영향을 주지 않음</li></ul><h2 id=5-상세-내용-분석>5. 상세 내용 분석<a hidden class=anchor aria-hidden=true href=#5-상세-내용-분석>#</a></h2><h3 id=배경-및-필요성>배경 및 필요성<a hidden class=anchor aria-hidden=true href=#배경-및-필요성>#</a></h3><p>마이크로서비스 아키텍처는 다음과 같은 배경에서 등장했습니다:</p><ol><li><p><strong>모놀리식 아키텍처의 한계</strong></p><ul><li>대규모 애플리케이션의 복잡성 증가</li><li>배포와 확장의 어려움</li><li>기술 스택의 제약</li><li>팀 간 개발 병목현상</li></ul></li><li><p><strong>비즈니스 요구사항 변화</strong></p><ul><li>빠른 변화에 대한 민첩한 대응 필요</li><li>글로벌 서비스 확장</li><li>다양한 디바이스와 플랫폼 지원</li></ul></li><li><p><strong>기술 발전</strong></p><ul><li>클라우드 컴퓨팅의 보편화</li><li>컨테이너 기술의 성숙</li><li>DevOps 문화의 확산</li></ul></li></ol><h3 id=주요-원리-및-작동-원리>주요 원리 및 작동 원리<a hidden class=anchor aria-hidden=true href=#주요-원리-및-작동-원리>#</a></h3><pre class=mermaid>graph TB
    subgraph &#34;마이크로서비스 아키텍처&#34;
        A[클라이언트] --&gt; B[API 게이트웨이]
        B --&gt; C[인증/인가 서비스]
        B --&gt; D[사용자 서비스]
        B --&gt; E[주문 서비스]
        B --&gt; F[결제 서비스]
        B --&gt; G[상품 서비스]
        
        D --&gt; H[(사용자 DB)]
        E --&gt; I[(주문 DB)]
        F --&gt; J[(결제 DB)]
        G --&gt; K[(상품 DB)]
        
        L[서비스 디스커버리] --&gt; B
        L --&gt; D
        L --&gt; E
        L --&gt; F
        L --&gt; G
        
        M[모니터링/로깅] --&gt; B
        M --&gt; D
        M --&gt; E
        M --&gt; F
        M --&gt; G
    end
</pre><h3 id=구조-및-아키텍처>구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#구조-및-아키텍처>#</a></h3><h4 id=필수-구성요소>필수 구성요소<a hidden class=anchor aria-hidden=true href=#필수-구성요소>#</a></h4><table><thead><tr><th>구성요소</th><th>기능</th><th>역할</th></tr></thead><tbody><tr><td><strong>API 게이트웨이</strong></td><td>단일 진입점 제공</td><td>라우팅, 인증, 로드밸런싱, 프로토콜 변환</td></tr><tr><td><strong>서비스 레지스트리</strong></td><td>서비스 위치 관리</td><td>서비스 등록, 발견, 헬스체크</td></tr><tr><td><strong>마이크로서비스</strong></td><td>비즈니스 로직 처리</td><td>특정 도메인 기능 구현</td></tr><tr><td><strong>데이터베이스</strong></td><td>서비스별 데이터 저장</td><td>독립적 데이터 관리</td></tr></tbody></table><h4 id=선택-구성요소>선택 구성요소<a hidden class=anchor aria-hidden=true href=#선택-구성요소>#</a></h4><table><thead><tr><th>구성요소</th><th>기능</th><th>특징</th></tr></thead><tbody><tr><td><strong>서비스 메시</strong></td><td>서비스 간 통신 관리</td><td>네트워크 추상화, 보안, 모니터링</td></tr><tr><td><strong>컨피그 서버</strong></td><td>중앙집중식 설정 관리</td><td>환경별 설정 외부화</td></tr><tr><td><strong>이벤트 버스</strong></td><td>비동기 통신 지원</td><td>이벤트 주도 아키텍처 구현</td></tr><tr><td><strong>써킷 브레이커</strong></td><td>장애 전파 방지</td><td>연쇄 장애 차단</td></tr></tbody></table><h3 id=구현-기법>구현 기법<a hidden class=anchor aria-hidden=true href=#구현-기법>#</a></h3><h4 id=1-domain-driven-design-ddd>1. Domain-Driven Design (DDD)<a hidden class=anchor aria-hidden=true href=#1-domain-driven-design-ddd>#</a></h4><ul><li><strong>정의</strong>: 비즈니스 도메인을 중심으로 서비스 경계 정의</li><li><strong>구성</strong>: 바운디드 컨텍스트, 애그리거트, 엔티티</li><li><strong>목적</strong>: 비즈니스 로직과 기술 구현의 명확한 분리</li><li><strong>실제 예시</strong>: 전자상거래에서 주문, 결제, 배송 도메인으로 분리</li></ul><h4 id=2-saga-패턴>2. SAGA 패턴<a hidden class=anchor aria-hidden=true href=#2-saga-패턴>#</a></h4><ul><li><strong>정의</strong>: 분산 트랜잭션을 여러 로컬 트랜잭션으로 분해</li><li><strong>구성</strong>: 코레오그래피 사가, 오케스트레이션 사가</li><li><strong>목적</strong>: 데이터 일관성 보장</li><li><strong>실제 예시</strong>: 주문 → 재고확인 → 결제 → 배송 프로세스</li></ul><h4 id=3-cqrs-command-query-responsibility-segregation>3. CQRS (Command Query Responsibility Segregation)<a hidden class=anchor aria-hidden=true href=#3-cqrs-command-query-responsibility-segregation>#</a></h4><ul><li><strong>정의</strong>: 읽기와 쓰기 모델 분리</li><li><strong>구성</strong>: 커맨드 모델, 쿼리 모델</li><li><strong>목적</strong>: 성능 최적화와 확장성 향상</li><li><strong>실제 예시</strong>: 주문 처리 (Command) 와 주문 조회 (Query) 분리</li></ul><h4 id=4-event-sourcing>4. Event Sourcing<a hidden class=anchor aria-hidden=true href=#4-event-sourcing>#</a></h4><ul><li><strong>정의</strong>: 상태 변경을 이벤트로 저장</li><li><strong>구성</strong>: 이벤트 스토어, 이벤트 스트림</li><li><strong>목적</strong>: 완전한 감사 추적과 상태 재구성</li><li><strong>실제 예시</strong>: 계좌 거래 내역을 이벤트로 저장</li></ul><h3 id=장점과-단점>장점과 단점<a hidden class=anchor aria-hidden=true href=#장점과-단점>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>✅ 장점</td><td><strong>독립적 배포</strong></td><td>서비스별 독립적인 배포와 버전 관리</td></tr><tr><td></td><td><strong>기술 다양성</strong></td><td>서비스별 최적 기술 스택 선택 가능</td></tr><tr><td></td><td><strong>확장성</strong></td><td>필요한 서비스만 선택적 확장</td></tr><tr><td></td><td><strong>장애 격리</strong></td><td>개별 서비스 장애가 전체에 미치는 영향 최소화</td></tr><tr><td></td><td><strong>팀 자율성</strong></td><td>작은 팀이 독립적으로 서비스 개발/운영</td></tr><tr><td>⚠ 단점</td><td><strong>복잡성 증가</strong></td><td>분산 시스템 관리의 복잡성</td></tr><tr><td></td><td><strong>네트워크 지연</strong></td><td>서비스 간 통신으로 인한 성능 오버헤드</td></tr><tr><td></td><td><strong>운영 부담</strong></td><td>모니터링, 로깅, 배포 파이프라인 복잡성</td></tr><tr><td></td><td><strong>일관성 문제</strong></td><td>분산 트랜잭션과 데이터 일관성 관리 어려움</td></tr><tr><td></td><td><strong>테스트 복잡성</strong></td><td>통합 테스트와 엔드투엔드 테스트의 어려움</td></tr></tbody></table><h4 id=단점-해결-방법>단점 해결 방법<a hidden class=anchor aria-hidden=true href=#단점-해결-방법>#</a></h4><ol><li><strong>서비스 메시 도입</strong>: 서비스 간 통신 복잡성 해결</li><li><strong>옵저버빌리티 플랫폼</strong>: 통합 모니터링과 로깅</li><li><strong>자동화 도구</strong>: CI/CD 파이프라인과 인프라 자동화</li><li><strong>이벤트 주도 아키텍처</strong>: 느슨한 결합과 비동기 처리</li><li><strong>컨테이너 오케스트레이션</strong>: 배포와 관리 자동화</li></ol><h3 id=도전-과제>도전 과제<a hidden class=anchor aria-hidden=true href=#도전-과제>#</a></h3><table><thead><tr><th>도전 과제</th><th>설명</th><th>해결책</th></tr></thead><tbody><tr><td><strong>서비스 분해</strong></td><td>적절한 서비스 경계 정의</td><td>DDD 방법론, 이벤트 스토밍</td></tr><tr><td><strong>데이터 일관성</strong></td><td>분산 환경에서의 트랜잭션 관리</td><td>SAGA 패턴, 이벤트 소싱</td></tr><tr><td><strong>서비스 통신</strong></td><td>네트워크 실패와 지연 처리</td><td>써킷 브레이커, 재시도 패턴</td></tr><tr><td><strong>모니터링</strong></td><td>분산 시스템의 가시성 확보</td><td>분산 추적, 중앙집중식 로깅</td></tr><tr><td><strong>배포 복잡성</strong></td><td>여러 서비스의 배포 조정</td><td>컨테이너화, GitOps</td></tr></tbody></table><h3 id=분류-기준에-따른-종류-및-유형>분류 기준에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#분류-기준에-따른-종류-및-유형>#</a></h3><table><thead><tr><th>분류 기준</th><th>유형</th><th>특징</th></tr></thead><tbody><tr><td><strong>배포 방식</strong></td><td>컨테이너 기반</td><td>Docker, Kubernetes 활용</td></tr><tr><td></td><td>서버리스 기반</td><td>Lambda, Cloud Functions 활용</td></tr><tr><td></td><td>VM 기반</td><td>전통적인 가상머신 배포</td></tr><tr><td><strong>통신 방식</strong></td><td>동기 통신</td><td>REST API, gRPC</td></tr><tr><td></td><td>비동기 통신</td><td>메시지 큐, 이벤트 스트리밍</td></tr><tr><td></td><td>하이브리드</td><td>동기/비동기 혼합</td></tr><tr><td><strong>데이터 관리</strong></td><td>Database per Service</td><td>서비스별 독립 데이터베이스</td></tr><tr><td></td><td>Shared Database</td><td>공유 데이터베이스 사용</td></tr><tr><td></td><td>Event Sourcing</td><td>이벤트 기반 데이터 관리</td></tr></tbody></table><h3 id=구현-예시-javascriptnodejs>구현 예시 (JavaScript/Node.js)<a hidden class=anchor aria-hidden=true href=#구현-예시-javascriptnodejs>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1>  1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2>  2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3>  3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4>  4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5>  5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6>  6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7>  7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8>  8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9>  9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10> 10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11> 11</a>
</span><span class=lnt id=hl-9-12><a class=lnlinks href=#hl-9-12> 12</a>
</span><span class=lnt id=hl-9-13><a class=lnlinks href=#hl-9-13> 13</a>
</span><span class=lnt id=hl-9-14><a class=lnlinks href=#hl-9-14> 14</a>
</span><span class=lnt id=hl-9-15><a class=lnlinks href=#hl-9-15> 15</a>
</span><span class=lnt id=hl-9-16><a class=lnlinks href=#hl-9-16> 16</a>
</span><span class=lnt id=hl-9-17><a class=lnlinks href=#hl-9-17> 17</a>
</span><span class=lnt id=hl-9-18><a class=lnlinks href=#hl-9-18> 18</a>
</span><span class=lnt id=hl-9-19><a class=lnlinks href=#hl-9-19> 19</a>
</span><span class=lnt id=hl-9-20><a class=lnlinks href=#hl-9-20> 20</a>
</span><span class=lnt id=hl-9-21><a class=lnlinks href=#hl-9-21> 21</a>
</span><span class=lnt id=hl-9-22><a class=lnlinks href=#hl-9-22> 22</a>
</span><span class=lnt id=hl-9-23><a class=lnlinks href=#hl-9-23> 23</a>
</span><span class=lnt id=hl-9-24><a class=lnlinks href=#hl-9-24> 24</a>
</span><span class=lnt id=hl-9-25><a class=lnlinks href=#hl-9-25> 25</a>
</span><span class=lnt id=hl-9-26><a class=lnlinks href=#hl-9-26> 26</a>
</span><span class=lnt id=hl-9-27><a class=lnlinks href=#hl-9-27> 27</a>
</span><span class=lnt id=hl-9-28><a class=lnlinks href=#hl-9-28> 28</a>
</span><span class=lnt id=hl-9-29><a class=lnlinks href=#hl-9-29> 29</a>
</span><span class=lnt id=hl-9-30><a class=lnlinks href=#hl-9-30> 30</a>
</span><span class=lnt id=hl-9-31><a class=lnlinks href=#hl-9-31> 31</a>
</span><span class=lnt id=hl-9-32><a class=lnlinks href=#hl-9-32> 32</a>
</span><span class=lnt id=hl-9-33><a class=lnlinks href=#hl-9-33> 33</a>
</span><span class=lnt id=hl-9-34><a class=lnlinks href=#hl-9-34> 34</a>
</span><span class=lnt id=hl-9-35><a class=lnlinks href=#hl-9-35> 35</a>
</span><span class=lnt id=hl-9-36><a class=lnlinks href=#hl-9-36> 36</a>
</span><span class=lnt id=hl-9-37><a class=lnlinks href=#hl-9-37> 37</a>
</span><span class=lnt id=hl-9-38><a class=lnlinks href=#hl-9-38> 38</a>
</span><span class=lnt id=hl-9-39><a class=lnlinks href=#hl-9-39> 39</a>
</span><span class=lnt id=hl-9-40><a class=lnlinks href=#hl-9-40> 40</a>
</span><span class=lnt id=hl-9-41><a class=lnlinks href=#hl-9-41> 41</a>
</span><span class=lnt id=hl-9-42><a class=lnlinks href=#hl-9-42> 42</a>
</span><span class=lnt id=hl-9-43><a class=lnlinks href=#hl-9-43> 43</a>
</span><span class=lnt id=hl-9-44><a class=lnlinks href=#hl-9-44> 44</a>
</span><span class=lnt id=hl-9-45><a class=lnlinks href=#hl-9-45> 45</a>
</span><span class=lnt id=hl-9-46><a class=lnlinks href=#hl-9-46> 46</a>
</span><span class=lnt id=hl-9-47><a class=lnlinks href=#hl-9-47> 47</a>
</span><span class=lnt id=hl-9-48><a class=lnlinks href=#hl-9-48> 48</a>
</span><span class=lnt id=hl-9-49><a class=lnlinks href=#hl-9-49> 49</a>
</span><span class=lnt id=hl-9-50><a class=lnlinks href=#hl-9-50> 50</a>
</span><span class=lnt id=hl-9-51><a class=lnlinks href=#hl-9-51> 51</a>
</span><span class=lnt id=hl-9-52><a class=lnlinks href=#hl-9-52> 52</a>
</span><span class=lnt id=hl-9-53><a class=lnlinks href=#hl-9-53> 53</a>
</span><span class=lnt id=hl-9-54><a class=lnlinks href=#hl-9-54> 54</a>
</span><span class=lnt id=hl-9-55><a class=lnlinks href=#hl-9-55> 55</a>
</span><span class=lnt id=hl-9-56><a class=lnlinks href=#hl-9-56> 56</a>
</span><span class=lnt id=hl-9-57><a class=lnlinks href=#hl-9-57> 57</a>
</span><span class=lnt id=hl-9-58><a class=lnlinks href=#hl-9-58> 58</a>
</span><span class=lnt id=hl-9-59><a class=lnlinks href=#hl-9-59> 59</a>
</span><span class=lnt id=hl-9-60><a class=lnlinks href=#hl-9-60> 60</a>
</span><span class=lnt id=hl-9-61><a class=lnlinks href=#hl-9-61> 61</a>
</span><span class=lnt id=hl-9-62><a class=lnlinks href=#hl-9-62> 62</a>
</span><span class=lnt id=hl-9-63><a class=lnlinks href=#hl-9-63> 63</a>
</span><span class=lnt id=hl-9-64><a class=lnlinks href=#hl-9-64> 64</a>
</span><span class=lnt id=hl-9-65><a class=lnlinks href=#hl-9-65> 65</a>
</span><span class=lnt id=hl-9-66><a class=lnlinks href=#hl-9-66> 66</a>
</span><span class=lnt id=hl-9-67><a class=lnlinks href=#hl-9-67> 67</a>
</span><span class=lnt id=hl-9-68><a class=lnlinks href=#hl-9-68> 68</a>
</span><span class=lnt id=hl-9-69><a class=lnlinks href=#hl-9-69> 69</a>
</span><span class=lnt id=hl-9-70><a class=lnlinks href=#hl-9-70> 70</a>
</span><span class=lnt id=hl-9-71><a class=lnlinks href=#hl-9-71> 71</a>
</span><span class=lnt id=hl-9-72><a class=lnlinks href=#hl-9-72> 72</a>
</span><span class=lnt id=hl-9-73><a class=lnlinks href=#hl-9-73> 73</a>
</span><span class=lnt id=hl-9-74><a class=lnlinks href=#hl-9-74> 74</a>
</span><span class=lnt id=hl-9-75><a class=lnlinks href=#hl-9-75> 75</a>
</span><span class=lnt id=hl-9-76><a class=lnlinks href=#hl-9-76> 76</a>
</span><span class=lnt id=hl-9-77><a class=lnlinks href=#hl-9-77> 77</a>
</span><span class=lnt id=hl-9-78><a class=lnlinks href=#hl-9-78> 78</a>
</span><span class=lnt id=hl-9-79><a class=lnlinks href=#hl-9-79> 79</a>
</span><span class=lnt id=hl-9-80><a class=lnlinks href=#hl-9-80> 80</a>
</span><span class=lnt id=hl-9-81><a class=lnlinks href=#hl-9-81> 81</a>
</span><span class=lnt id=hl-9-82><a class=lnlinks href=#hl-9-82> 82</a>
</span><span class=lnt id=hl-9-83><a class=lnlinks href=#hl-9-83> 83</a>
</span><span class=lnt id=hl-9-84><a class=lnlinks href=#hl-9-84> 84</a>
</span><span class=lnt id=hl-9-85><a class=lnlinks href=#hl-9-85> 85</a>
</span><span class=lnt id=hl-9-86><a class=lnlinks href=#hl-9-86> 86</a>
</span><span class=lnt id=hl-9-87><a class=lnlinks href=#hl-9-87> 87</a>
</span><span class=lnt id=hl-9-88><a class=lnlinks href=#hl-9-88> 88</a>
</span><span class=lnt id=hl-9-89><a class=lnlinks href=#hl-9-89> 89</a>
</span><span class=lnt id=hl-9-90><a class=lnlinks href=#hl-9-90> 90</a>
</span><span class=lnt id=hl-9-91><a class=lnlinks href=#hl-9-91> 91</a>
</span><span class=lnt id=hl-9-92><a class=lnlinks href=#hl-9-92> 92</a>
</span><span class=lnt id=hl-9-93><a class=lnlinks href=#hl-9-93> 93</a>
</span><span class=lnt id=hl-9-94><a class=lnlinks href=#hl-9-94> 94</a>
</span><span class=lnt id=hl-9-95><a class=lnlinks href=#hl-9-95> 95</a>
</span><span class=lnt id=hl-9-96><a class=lnlinks href=#hl-9-96> 96</a>
</span><span class=lnt id=hl-9-97><a class=lnlinks href=#hl-9-97> 97</a>
</span><span class=lnt id=hl-9-98><a class=lnlinks href=#hl-9-98> 98</a>
</span><span class=lnt id=hl-9-99><a class=lnlinks href=#hl-9-99> 99</a>
</span><span class=lnt id=hl-9-100><a class=lnlinks href=#hl-9-100>100</a>
</span><span class=lnt id=hl-9-101><a class=lnlinks href=#hl-9-101>101</a>
</span><span class=lnt id=hl-9-102><a class=lnlinks href=#hl-9-102>102</a>
</span><span class=lnt id=hl-9-103><a class=lnlinks href=#hl-9-103>103</a>
</span><span class=lnt id=hl-9-104><a class=lnlinks href=#hl-9-104>104</a>
</span><span class=lnt id=hl-9-105><a class=lnlinks href=#hl-9-105>105</a>
</span><span class=lnt id=hl-9-106><a class=lnlinks href=#hl-9-106>106</a>
</span><span class=lnt id=hl-9-107><a class=lnlinks href=#hl-9-107>107</a>
</span><span class=lnt id=hl-9-108><a class=lnlinks href=#hl-9-108>108</a>
</span><span class=lnt id=hl-9-109><a class=lnlinks href=#hl-9-109>109</a>
</span><span class=lnt id=hl-9-110><a class=lnlinks href=#hl-9-110>110</a>
</span><span class=lnt id=hl-9-111><a class=lnlinks href=#hl-9-111>111</a>
</span><span class=lnt id=hl-9-112><a class=lnlinks href=#hl-9-112>112</a>
</span><span class=lnt id=hl-9-113><a class=lnlinks href=#hl-9-113>113</a>
</span><span class=lnt id=hl-9-114><a class=lnlinks href=#hl-9-114>114</a>
</span><span class=lnt id=hl-9-115><a class=lnlinks href=#hl-9-115>115</a>
</span><span class=lnt id=hl-9-116><a class=lnlinks href=#hl-9-116>116</a>
</span><span class=lnt id=hl-9-117><a class=lnlinks href=#hl-9-117>117</a>
</span><span class=lnt id=hl-9-118><a class=lnlinks href=#hl-9-118>118</a>
</span><span class=lnt id=hl-9-119><a class=lnlinks href=#hl-9-119>119</a>
</span><span class=lnt id=hl-9-120><a class=lnlinks href=#hl-9-120>120</a>
</span><span class=lnt id=hl-9-121><a class=lnlinks href=#hl-9-121>121</a>
</span><span class=lnt id=hl-9-122><a class=lnlinks href=#hl-9-122>122</a>
</span><span class=lnt id=hl-9-123><a class=lnlinks href=#hl-9-123>123</a>
</span><span class=lnt id=hl-9-124><a class=lnlinks href=#hl-9-124>124</a>
</span><span class=lnt id=hl-9-125><a class=lnlinks href=#hl-9-125>125</a>
</span><span class=lnt id=hl-9-126><a class=lnlinks href=#hl-9-126>126</a>
</span><span class=lnt id=hl-9-127><a class=lnlinks href=#hl-9-127>127</a>
</span><span class=lnt id=hl-9-128><a class=lnlinks href=#hl-9-128>128</a>
</span><span class=lnt id=hl-9-129><a class=lnlinks href=#hl-9-129>129</a>
</span><span class=lnt id=hl-9-130><a class=lnlinks href=#hl-9-130>130</a>
</span><span class=lnt id=hl-9-131><a class=lnlinks href=#hl-9-131>131</a>
</span><span class=lnt id=hl-9-132><a class=lnlinks href=#hl-9-132>132</a>
</span><span class=lnt id=hl-9-133><a class=lnlinks href=#hl-9-133>133</a>
</span><span class=lnt id=hl-9-134><a class=lnlinks href=#hl-9-134>134</a>
</span><span class=lnt id=hl-9-135><a class=lnlinks href=#hl-9-135>135</a>
</span><span class=lnt id=hl-9-136><a class=lnlinks href=#hl-9-136>136</a>
</span><span class=lnt id=hl-9-137><a class=lnlinks href=#hl-9-137>137</a>
</span><span class=lnt id=hl-9-138><a class=lnlinks href=#hl-9-138>138</a>
</span><span class=lnt id=hl-9-139><a class=lnlinks href=#hl-9-139>139</a>
</span><span class=lnt id=hl-9-140><a class=lnlinks href=#hl-9-140>140</a>
</span><span class=lnt id=hl-9-141><a class=lnlinks href=#hl-9-141>141</a>
</span><span class=lnt id=hl-9-142><a class=lnlinks href=#hl-9-142>142</a>
</span><span class=lnt id=hl-9-143><a class=lnlinks href=#hl-9-143>143</a>
</span><span class=lnt id=hl-9-144><a class=lnlinks href=#hl-9-144>144</a>
</span><span class=lnt id=hl-9-145><a class=lnlinks href=#hl-9-145>145</a>
</span><span class=lnt id=hl-9-146><a class=lnlinks href=#hl-9-146>146</a>
</span><span class=lnt id=hl-9-147><a class=lnlinks href=#hl-9-147>147</a>
</span><span class=lnt id=hl-9-148><a class=lnlinks href=#hl-9-148>148</a>
</span><span class=lnt id=hl-9-149><a class=lnlinks href=#hl-9-149>149</a>
</span><span class=lnt id=hl-9-150><a class=lnlinks href=#hl-9-150>150</a>
</span><span class=lnt id=hl-9-151><a class=lnlinks href=#hl-9-151>151</a>
</span><span class=lnt id=hl-9-152><a class=lnlinks href=#hl-9-152>152</a>
</span><span class=lnt id=hl-9-153><a class=lnlinks href=#hl-9-153>153</a>
</span><span class=lnt id=hl-9-154><a class=lnlinks href=#hl-9-154>154</a>
</span><span class=lnt id=hl-9-155><a class=lnlinks href=#hl-9-155>155</a>
</span><span class=lnt id=hl-9-156><a class=lnlinks href=#hl-9-156>156</a>
</span><span class=lnt id=hl-9-157><a class=lnlinks href=#hl-9-157>157</a>
</span><span class=lnt id=hl-9-158><a class=lnlinks href=#hl-9-158>158</a>
</span><span class=lnt id=hl-9-159><a class=lnlinks href=#hl-9-159>159</a>
</span><span class=lnt id=hl-9-160><a class=lnlinks href=#hl-9-160>160</a>
</span><span class=lnt id=hl-9-161><a class=lnlinks href=#hl-9-161>161</a>
</span><span class=lnt id=hl-9-162><a class=lnlinks href=#hl-9-162>162</a>
</span><span class=lnt id=hl-9-163><a class=lnlinks href=#hl-9-163>163</a>
</span><span class=lnt id=hl-9-164><a class=lnlinks href=#hl-9-164>164</a>
</span><span class=lnt id=hl-9-165><a class=lnlinks href=#hl-9-165>165</a>
</span><span class=lnt id=hl-9-166><a class=lnlinks href=#hl-9-166>166</a>
</span><span class=lnt id=hl-9-167><a class=lnlinks href=#hl-9-167>167</a>
</span><span class=lnt id=hl-9-168><a class=lnlinks href=#hl-9-168>168</a>
</span><span class=lnt id=hl-9-169><a class=lnlinks href=#hl-9-169>169</a>
</span><span class=lnt id=hl-9-170><a class=lnlinks href=#hl-9-170>170</a>
</span><span class=lnt id=hl-9-171><a class=lnlinks href=#hl-9-171>171</a>
</span><span class=lnt id=hl-9-172><a class=lnlinks href=#hl-9-172>172</a>
</span><span class=lnt id=hl-9-173><a class=lnlinks href=#hl-9-173>173</a>
</span><span class=lnt id=hl-9-174><a class=lnlinks href=#hl-9-174>174</a>
</span><span class=lnt id=hl-9-175><a class=lnlinks href=#hl-9-175>175</a>
</span><span class=lnt id=hl-9-176><a class=lnlinks href=#hl-9-176>176</a>
</span><span class=lnt id=hl-9-177><a class=lnlinks href=#hl-9-177>177</a>
</span><span class=lnt id=hl-9-178><a class=lnlinks href=#hl-9-178>178</a>
</span><span class=lnt id=hl-9-179><a class=lnlinks href=#hl-9-179>179</a>
</span><span class=lnt id=hl-9-180><a class=lnlinks href=#hl-9-180>180</a>
</span><span class=lnt id=hl-9-181><a class=lnlinks href=#hl-9-181>181</a>
</span><span class=lnt id=hl-9-182><a class=lnlinks href=#hl-9-182>182</a>
</span><span class=lnt id=hl-9-183><a class=lnlinks href=#hl-9-183>183</a>
</span><span class=lnt id=hl-9-184><a class=lnlinks href=#hl-9-184>184</a>
</span><span class=lnt id=hl-9-185><a class=lnlinks href=#hl-9-185>185</a>
</span><span class=lnt id=hl-9-186><a class=lnlinks href=#hl-9-186>186</a>
</span><span class=lnt id=hl-9-187><a class=lnlinks href=#hl-9-187>187</a>
</span><span class=lnt id=hl-9-188><a class=lnlinks href=#hl-9-188>188</a>
</span><span class=lnt id=hl-9-189><a class=lnlinks href=#hl-9-189>189</a>
</span><span class=lnt id=hl-9-190><a class=lnlinks href=#hl-9-190>190</a>
</span><span class=lnt id=hl-9-191><a class=lnlinks href=#hl-9-191>191</a>
</span><span class=lnt id=hl-9-192><a class=lnlinks href=#hl-9-192>192</a>
</span><span class=lnt id=hl-9-193><a class=lnlinks href=#hl-9-193>193</a>
</span><span class=lnt id=hl-9-194><a class=lnlinks href=#hl-9-194>194</a>
</span><span class=lnt id=hl-9-195><a class=lnlinks href=#hl-9-195>195</a>
</span><span class=lnt id=hl-9-196><a class=lnlinks href=#hl-9-196>196</a>
</span><span class=lnt id=hl-9-197><a class=lnlinks href=#hl-9-197>197</a>
</span><span class=lnt id=hl-9-198><a class=lnlinks href=#hl-9-198>198</a>
</span><span class=lnt id=hl-9-199><a class=lnlinks href=#hl-9-199>199</a>
</span><span class=lnt id=hl-9-200><a class=lnlinks href=#hl-9-200>200</a>
</span><span class=lnt id=hl-9-201><a class=lnlinks href=#hl-9-201>201</a>
</span><span class=lnt id=hl-9-202><a class=lnlinks href=#hl-9-202>202</a>
</span><span class=lnt id=hl-9-203><a class=lnlinks href=#hl-9-203>203</a>
</span><span class=lnt id=hl-9-204><a class=lnlinks href=#hl-9-204>204</a>
</span><span class=lnt id=hl-9-205><a class=lnlinks href=#hl-9-205>205</a>
</span><span class=lnt id=hl-9-206><a class=lnlinks href=#hl-9-206>206</a>
</span><span class=lnt id=hl-9-207><a class=lnlinks href=#hl-9-207>207</a>
</span><span class=lnt id=hl-9-208><a class=lnlinks href=#hl-9-208>208</a>
</span><span class=lnt id=hl-9-209><a class=lnlinks href=#hl-9-209>209</a>
</span><span class=lnt id=hl-9-210><a class=lnlinks href=#hl-9-210>210</a>
</span><span class=lnt id=hl-9-211><a class=lnlinks href=#hl-9-211>211</a>
</span><span class=lnt id=hl-9-212><a class=lnlinks href=#hl-9-212>212</a>
</span><span class=lnt id=hl-9-213><a class=lnlinks href=#hl-9-213>213</a>
</span><span class=lnt id=hl-9-214><a class=lnlinks href=#hl-9-214>214</a>
</span><span class=lnt id=hl-9-215><a class=lnlinks href=#hl-9-215>215</a>
</span><span class=lnt id=hl-9-216><a class=lnlinks href=#hl-9-216>216</a>
</span><span class=lnt id=hl-9-217><a class=lnlinks href=#hl-9-217>217</a>
</span><span class=lnt id=hl-9-218><a class=lnlinks href=#hl-9-218>218</a>
</span><span class=lnt id=hl-9-219><a class=lnlinks href=#hl-9-219>219</a>
</span><span class=lnt id=hl-9-220><a class=lnlinks href=#hl-9-220>220</a>
</span><span class=lnt id=hl-9-221><a class=lnlinks href=#hl-9-221>221</a>
</span><span class=lnt id=hl-9-222><a class=lnlinks href=#hl-9-222>222</a>
</span><span class=lnt id=hl-9-223><a class=lnlinks href=#hl-9-223>223</a>
</span><span class=lnt id=hl-9-224><a class=lnlinks href=#hl-9-224>224</a>
</span><span class=lnt id=hl-9-225><a class=lnlinks href=#hl-9-225>225</a>
</span><span class=lnt id=hl-9-226><a class=lnlinks href=#hl-9-226>226</a>
</span><span class=lnt id=hl-9-227><a class=lnlinks href=#hl-9-227>227</a>
</span><span class=lnt id=hl-9-228><a class=lnlinks href=#hl-9-228>228</a>
</span><span class=lnt id=hl-9-229><a class=lnlinks href=#hl-9-229>229</a>
</span><span class=lnt id=hl-9-230><a class=lnlinks href=#hl-9-230>230</a>
</span><span class=lnt id=hl-9-231><a class=lnlinks href=#hl-9-231>231</a>
</span><span class=lnt id=hl-9-232><a class=lnlinks href=#hl-9-232>232</a>
</span><span class=lnt id=hl-9-233><a class=lnlinks href=#hl-9-233>233</a>
</span><span class=lnt id=hl-9-234><a class=lnlinks href=#hl-9-234>234</a>
</span><span class=lnt id=hl-9-235><a class=lnlinks href=#hl-9-235>235</a>
</span><span class=lnt id=hl-9-236><a class=lnlinks href=#hl-9-236>236</a>
</span><span class=lnt id=hl-9-237><a class=lnlinks href=#hl-9-237>237</a>
</span><span class=lnt id=hl-9-238><a class=lnlinks href=#hl-9-238>238</a>
</span><span class=lnt id=hl-9-239><a class=lnlinks href=#hl-9-239>239</a>
</span><span class=lnt id=hl-9-240><a class=lnlinks href=#hl-9-240>240</a>
</span><span class=lnt id=hl-9-241><a class=lnlinks href=#hl-9-241>241</a>
</span><span class=lnt id=hl-9-242><a class=lnlinks href=#hl-9-242>242</a>
</span><span class=lnt id=hl-9-243><a class=lnlinks href=#hl-9-243>243</a>
</span><span class=lnt id=hl-9-244><a class=lnlinks href=#hl-9-244>244</a>
</span><span class=lnt id=hl-9-245><a class=lnlinks href=#hl-9-245>245</a>
</span><span class=lnt id=hl-9-246><a class=lnlinks href=#hl-9-246>246</a>
</span><span class=lnt id=hl-9-247><a class=lnlinks href=#hl-9-247>247</a>
</span><span class=lnt id=hl-9-248><a class=lnlinks href=#hl-9-248>248</a>
</span><span class=lnt id=hl-9-249><a class=lnlinks href=#hl-9-249>249</a>
</span><span class=lnt id=hl-9-250><a class=lnlinks href=#hl-9-250>250</a>
</span><span class=lnt id=hl-9-251><a class=lnlinks href=#hl-9-251>251</a>
</span><span class=lnt id=hl-9-252><a class=lnlinks href=#hl-9-252>252</a>
</span><span class=lnt id=hl-9-253><a class=lnlinks href=#hl-9-253>253</a>
</span><span class=lnt id=hl-9-254><a class=lnlinks href=#hl-9-254>254</a>
</span><span class=lnt id=hl-9-255><a class=lnlinks href=#hl-9-255>255</a>
</span><span class=lnt id=hl-9-256><a class=lnlinks href=#hl-9-256>256</a>
</span><span class=lnt id=hl-9-257><a class=lnlinks href=#hl-9-257>257</a>
</span><span class=lnt id=hl-9-258><a class=lnlinks href=#hl-9-258>258</a>
</span><span class=lnt id=hl-9-259><a class=lnlinks href=#hl-9-259>259</a>
</span><span class=lnt id=hl-9-260><a class=lnlinks href=#hl-9-260>260</a>
</span><span class=lnt id=hl-9-261><a class=lnlinks href=#hl-9-261>261</a>
</span><span class=lnt id=hl-9-262><a class=lnlinks href=#hl-9-262>262</a>
</span><span class=lnt id=hl-9-263><a class=lnlinks href=#hl-9-263>263</a>
</span><span class=lnt id=hl-9-264><a class=lnlinks href=#hl-9-264>264</a>
</span><span class=lnt id=hl-9-265><a class=lnlinks href=#hl-9-265>265</a>
</span><span class=lnt id=hl-9-266><a class=lnlinks href=#hl-9-266>266</a>
</span><span class=lnt id=hl-9-267><a class=lnlinks href=#hl-9-267>267</a>
</span><span class=lnt id=hl-9-268><a class=lnlinks href=#hl-9-268>268</a>
</span><span class=lnt id=hl-9-269><a class=lnlinks href=#hl-9-269>269</a>
</span><span class=lnt id=hl-9-270><a class=lnlinks href=#hl-9-270>270</a>
</span><span class=lnt id=hl-9-271><a class=lnlinks href=#hl-9-271>271</a>
</span><span class=lnt id=hl-9-272><a class=lnlinks href=#hl-9-272>272</a>
</span><span class=lnt id=hl-9-273><a class=lnlinks href=#hl-9-273>273</a>
</span><span class=lnt id=hl-9-274><a class=lnlinks href=#hl-9-274>274</a>
</span><span class=lnt id=hl-9-275><a class=lnlinks href=#hl-9-275>275</a>
</span><span class=lnt id=hl-9-276><a class=lnlinks href=#hl-9-276>276</a>
</span><span class=lnt id=hl-9-277><a class=lnlinks href=#hl-9-277>277</a>
</span><span class=lnt id=hl-9-278><a class=lnlinks href=#hl-9-278>278</a>
</span><span class=lnt id=hl-9-279><a class=lnlinks href=#hl-9-279>279</a>
</span><span class=lnt id=hl-9-280><a class=lnlinks href=#hl-9-280>280</a>
</span><span class=lnt id=hl-9-281><a class=lnlinks href=#hl-9-281>281</a>
</span><span class=lnt id=hl-9-282><a class=lnlinks href=#hl-9-282>282</a>
</span><span class=lnt id=hl-9-283><a class=lnlinks href=#hl-9-283>283</a>
</span><span class=lnt id=hl-9-284><a class=lnlinks href=#hl-9-284>284</a>
</span><span class=lnt id=hl-9-285><a class=lnlinks href=#hl-9-285>285</a>
</span><span class=lnt id=hl-9-286><a class=lnlinks href=#hl-9-286>286</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 사용자 서비스 (User Service) - Express.js 기반
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>express</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;express&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>eureka</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;eureka-js-client&#39;</span><span class=p>).</span><span class=nx>Eureka</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>winston</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;winston&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>circuit</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;opossum&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>UserService</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>app</span> <span class=o>=</span> <span class=nx>express</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>port</span> <span class=o>=</span> <span class=nx>process</span><span class=p>.</span><span class=nx>env</span><span class=p>.</span><span class=nx>PORT</span> <span class=o>||</span> <span class=mi>3001</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>setupMiddleware</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>setupRoutes</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>setupServiceDiscovery</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>setupCircuitBreaker</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>setupLogging</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 미들웨어 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>setupMiddleware</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>express</span><span class=p>.</span><span class=nx>json</span><span class=p>());</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>express</span><span class=p>.</span><span class=nx>urlencoded</span><span class=p>({</span> <span class=nx>extended</span><span class=o>:</span> <span class=kc>true</span> <span class=p>}));</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// CORS 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>((</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>,</span> <span class=nx>next</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>res</span><span class=p>.</span><span class=nx>header</span><span class=p>(</span><span class=s1>&#39;Access-Control-Allow-Origin&#39;</span><span class=p>,</span> <span class=s1>&#39;*&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=nx>res</span><span class=p>.</span><span class=nx>header</span><span class=p>(</span><span class=s1>&#39;Access-Control-Allow-Headers&#39;</span><span class=p>,</span> <span class=s1>&#39;Content-Type, Authorization&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=nx>res</span><span class=p>.</span><span class=nx>header</span><span class=p>(</span><span class=s1>&#39;Access-Control-Allow-Methods&#39;</span><span class=p>,</span> <span class=s1>&#39;GET, POST, PUT, DELETE&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=nx>next</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 라우트 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>setupRoutes</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 헬스 체크 엔드포인트
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/health&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>200</span><span class=p>).</span><span class=nx>json</span><span class=p>({</span>
</span></span><span class=line><span class=cl>                <span class=nx>service</span><span class=o>:</span> <span class=s1>&#39;user-service&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>status</span><span class=o>:</span> <span class=s1>&#39;healthy&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>timestamp</span><span class=o>:</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>().</span><span class=nx>toISOString</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// 사용자 생성
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>app</span><span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=s1>&#39;/users&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=kr>const</span> <span class=p>{</span> <span class=nx>name</span><span class=p>,</span> <span class=nx>email</span><span class=p>,</span> <span class=nx>password</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=c1>// 입력 검증
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>name</span> <span class=o>||</span> <span class=o>!</span><span class=nx>email</span> <span class=o>||</span> <span class=o>!</span><span class=nx>password</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>400</span><span class=p>).</span><span class=nx>json</span><span class=p>({</span>
</span></span><span class=line><span class=cl>                        <span class=nx>error</span><span class=o>:</span> <span class=s1>&#39;Missing required fields&#39;</span>
</span></span><span class=line><span class=cl>                    <span class=p>});</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>createUser</span><span class=p>({</span> <span class=nx>name</span><span class=p>,</span> <span class=nx>email</span><span class=p>,</span> <span class=nx>password</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=c1>// 이벤트 발행 (다른 서비스에 알림)
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>publishEvent</span><span class=p>(</span><span class=s1>&#39;user.created&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>userId</span><span class=o>:</span> <span class=nx>user</span><span class=p>.</span><span class=nx>id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nx>email</span><span class=o>:</span> <span class=nx>user</span><span class=p>.</span><span class=nx>email</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nx>timestamp</span><span class=o>:</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>().</span><span class=nx>toISOString</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>201</span><span class=p>).</span><span class=nx>json</span><span class=p>(</span><span class=nx>user</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=k>this</span><span class=p>.</span><span class=nx>logger</span><span class=p>.</span><span class=nx>info</span><span class=p>(</span><span class=sb>`User created: </span><span class=si>${</span><span class=nx>user</span><span class=p>.</span><span class=nx>id</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>this</span><span class=p>.</span><span class=nx>logger</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;Error creating user:&#39;</span><span class=p>,</span> <span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>json</span><span class=p>({</span> <span class=nx>error</span><span class=o>:</span> <span class=s1>&#39;Internal server error&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// 사용자 조회
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/users/:id&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=kr>const</span> <span class=p>{</span> <span class=nx>id</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>params</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>getUserById</span><span class=p>(</span><span class=nx>id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>user</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>404</span><span class=p>).</span><span class=nx>json</span><span class=p>({</span> <span class=nx>error</span><span class=o>:</span> <span class=s1>&#39;User not found&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>(</span><span class=nx>user</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>this</span><span class=p>.</span><span class=nx>logger</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;Error fetching user:&#39;</span><span class=p>,</span> <span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>json</span><span class=p>({</span> <span class=nx>error</span><span class=o>:</span> <span class=s1>&#39;Internal server error&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// 사용자 목록 조회
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/users&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=kr>const</span> <span class=p>{</span> <span class=nx>page</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=nx>limit</span> <span class=o>=</span> <span class=mi>10</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>query</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=kr>const</span> <span class=nx>users</span> <span class=o>=</span> <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>getUsers</span><span class=p>(</span><span class=nx>page</span><span class=p>,</span> <span class=nx>limit</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>(</span><span class=nx>users</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>this</span><span class=p>.</span><span class=nx>logger</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;Error fetching users:&#39;</span><span class=p>,</span> <span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>json</span><span class=p>({</span> <span class=nx>error</span><span class=o>:</span> <span class=s1>&#39;Internal server error&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// 다른 서비스 호출 예시 (주문 서비스)
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/users/:id/orders&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=kr>const</span> <span class=p>{</span> <span class=nx>id</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>params</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=c1>// 써킷 브레이커를 통한 외부 서비스 호출
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=kr>const</span> <span class=nx>orders</span> <span class=o>=</span> <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>orderServiceBreaker</span><span class=p>.</span><span class=nx>fire</span><span class=p>(</span><span class=nx>id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>(</span><span class=nx>orders</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>this</span><span class=p>.</span><span class=nx>logger</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;Error fetching user orders:&#39;</span><span class=p>,</span> <span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=c1>// 써킷 브레이커가 열린 경우 기본값 반환
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>({</span> <span class=nx>orders</span><span class=o>:</span> <span class=p>[],</span> <span class=nx>message</span><span class=o>:</span> <span class=s1>&#39;Orders service unavailable&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 서비스 디스커버리 설정 (Eureka)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>setupServiceDiscovery</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>eurekaClient</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>eureka</span><span class=p>({</span>
</span></span><span class=line><span class=cl>            <span class=nx>instance</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>app</span><span class=o>:</span> <span class=s1>&#39;user-service&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>hostName</span><span class=o>:</span> <span class=s1>&#39;localhost&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>ipAddr</span><span class=o>:</span> <span class=s1>&#39;127.0.0.1&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>port</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=s1>&#39;$&#39;</span><span class=o>:</span> <span class=k>this</span><span class=p>.</span><span class=nx>port</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=s1>&#39;@enabled&#39;</span><span class=o>:</span> <span class=s1>&#39;true&#39;</span>
</span></span><span class=line><span class=cl>                <span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=nx>vipAddress</span><span class=o>:</span> <span class=s1>&#39;user-service&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>dataCenterInfo</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=s1>&#39;@class&#39;</span><span class=o>:</span> <span class=s1>&#39;com.netflix.appinfo.InstanceInfo$DefaultDataCenterInfo&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;MyOwn&#39;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=nx>eureka</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>host</span><span class=o>:</span> <span class=nx>process</span><span class=p>.</span><span class=nx>env</span><span class=p>.</span><span class=nx>EUREKA_HOST</span> <span class=o>||</span> <span class=s1>&#39;localhost&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>port</span><span class=o>:</span> <span class=nx>process</span><span class=p>.</span><span class=nx>env</span><span class=p>.</span><span class=nx>EUREKA_PORT</span> <span class=o>||</span> <span class=mi>8761</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>servicePath</span><span class=o>:</span> <span class=s1>&#39;/eureka/apps/&#39;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 써킷 브레이커 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>setupCircuitBreaker</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>options</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>timeout</span><span class=o>:</span> <span class=mi>3000</span><span class=p>,</span>        <span class=c1>// 3초 타임아웃
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>errorThresholdPercentage</span><span class=o>:</span> <span class=mi>50</span><span class=p>,</span> <span class=c1>// 50% 실패율
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>resetTimeout</span><span class=o>:</span> <span class=mi>30000</span>   <span class=c1>// 30초 후 재시도
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// 주문 서비스 호출을 위한 써킷 브레이커
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>orderServiceBreaker</span> <span class=o>=</span> <span class=nx>circuit</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>callOrderService</span><span class=p>.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>),</span> <span class=nx>options</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 써킷 브레이커 이벤트 핸들링
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>orderServiceBreaker</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;open&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>logger</span><span class=p>.</span><span class=nx>warn</span><span class=p>(</span><span class=s1>&#39;Circuit breaker opened for order service&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>orderServiceBreaker</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;halfOpen&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>logger</span><span class=p>.</span><span class=nx>info</span><span class=p>(</span><span class=s1>&#39;Circuit breaker half-open for order service&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 로깅 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>setupLogging</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>logger</span> <span class=o>=</span> <span class=nx>winston</span><span class=p>.</span><span class=nx>createLogger</span><span class=p>({</span>
</span></span><span class=line><span class=cl>            <span class=nx>level</span><span class=o>:</span> <span class=s1>&#39;info&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>format</span><span class=o>:</span> <span class=nx>winston</span><span class=p>.</span><span class=nx>format</span><span class=p>.</span><span class=nx>combine</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=nx>winston</span><span class=p>.</span><span class=nx>format</span><span class=p>.</span><span class=nx>timestamp</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>                <span class=nx>winston</span><span class=p>.</span><span class=nx>format</span><span class=p>.</span><span class=nx>errors</span><span class=p>({</span> <span class=nx>stack</span><span class=o>:</span> <span class=kc>true</span> <span class=p>}),</span>
</span></span><span class=line><span class=cl>                <span class=nx>winston</span><span class=p>.</span><span class=nx>format</span><span class=p>.</span><span class=nx>json</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=nx>transports</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=k>new</span> <span class=nx>winston</span><span class=p>.</span><span class=nx>transports</span><span class=p>.</span><span class=nx>Console</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>                <span class=k>new</span> <span class=nx>winston</span><span class=p>.</span><span class=nx>transports</span><span class=p>.</span><span class=nx>File</span><span class=p>({</span> <span class=nx>filename</span><span class=o>:</span> <span class=s1>&#39;user-service.log&#39;</span> <span class=p>})</span>
</span></span><span class=line><span class=cl>            <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 사용자 생성 (데이터베이스 로직)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>async</span> <span class=nx>createUser</span><span class=p>(</span><span class=nx>userData</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 실제 구현에서는 데이터베이스 연동
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>id</span><span class=o>:</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>random</span><span class=p>().</span><span class=nx>toString</span><span class=p>(</span><span class=mi>36</span><span class=p>).</span><span class=nx>substr</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>9</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=nx>name</span><span class=o>:</span> <span class=nx>userData</span><span class=p>.</span><span class=nx>name</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>email</span><span class=o>:</span> <span class=nx>userData</span><span class=p>.</span><span class=nx>email</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>createdAt</span><span class=o>:</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>().</span><span class=nx>toISOString</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 데이터베이스 저장 로직
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// await this.userRepository.save(user);
</span></span></span><span class=line><span class=cl><span class=c1></span>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>user</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 사용자 조회
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>async</span> <span class=nx>getUserById</span><span class=p>(</span><span class=nx>id</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 실제 구현에서는 데이터베이스 조회
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// return await this.userRepository.findById(id);
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;John Doe&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>email</span><span class=o>:</span> <span class=s1>&#39;john@example.com&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>createdAt</span><span class=o>:</span> <span class=s1>&#39;2023-01-01T00:00:00Z&#39;</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 사용자 목록 조회
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>async</span> <span class=nx>getUsers</span><span class=p>(</span><span class=nx>page</span><span class=p>,</span> <span class=nx>limit</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 실제 구현에서는 페이징 처리
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// return await this.userRepository.findAll(page, limit);
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>users</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span> <span class=nx>id</span><span class=o>:</span> <span class=s1>&#39;1&#39;</span><span class=p>,</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;John Doe&#39;</span><span class=p>,</span> <span class=nx>email</span><span class=o>:</span> <span class=s1>&#39;john@example.com&#39;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span> <span class=nx>id</span><span class=o>:</span> <span class=s1>&#39;2&#39;</span><span class=p>,</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;Jane Smith&#39;</span><span class=p>,</span> <span class=nx>email</span><span class=o>:</span> <span class=s1>&#39;jane@example.com&#39;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=nx>total</span><span class=o>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>page</span><span class=o>:</span> <span class=nb>parseInt</span><span class=p>(</span><span class=nx>page</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=nx>limit</span><span class=o>:</span> <span class=nb>parseInt</span><span class=p>(</span><span class=nx>limit</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 외부 서비스 호출 (주문 서비스)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>async</span> <span class=nx>callOrderService</span><span class=p>(</span><span class=nx>userId</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>fetch</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;node-fetch&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 서비스 디스커버리를 통해 주문 서비스 URL 획득
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kr>const</span> <span class=nx>orderServiceUrl</span> <span class=o>=</span> <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>getServiceUrl</span><span class=p>(</span><span class=s1>&#39;order-service&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>response</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>fetch</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=nx>orderServiceUrl</span><span class=si>}</span><span class=sb>/orders/user/</span><span class=si>${</span><span class=nx>userId</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>response</span><span class=p>.</span><span class=nx>ok</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=sb>`Order service error: </span><span class=si>${</span><span class=nx>response</span><span class=p>.</span><span class=nx>status</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kr>await</span> <span class=nx>response</span><span class=p>.</span><span class=nx>json</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 서비스 URL 획득 (서비스 디스커버리)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>async</span> <span class=nx>getServiceUrl</span><span class=p>(</span><span class=nx>serviceName</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 실제 구현에서는 Eureka 클라이언트 사용
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kr>const</span> <span class=nx>services</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;order-service&#39;</span><span class=o>:</span> <span class=s1>&#39;http://localhost:3002&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;payment-service&#39;</span><span class=o>:</span> <span class=s1>&#39;http://localhost:3003&#39;</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>services</span><span class=p>[</span><span class=nx>serviceName</span><span class=p>]</span> <span class=o>||</span> <span class=s1>&#39;http://localhost:3000&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 이벤트 발행 (메시지 큐를 통한 비동기 통신)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>async</span> <span class=nx>publishEvent</span><span class=p>(</span><span class=nx>eventType</span><span class=p>,</span> <span class=nx>data</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 실제 구현에서는 RabbitMQ, Apache Kafka 등 사용
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>logger</span><span class=p>.</span><span class=nx>info</span><span class=p>(</span><span class=sb>`Publishing event: </span><span class=si>${</span><span class=nx>eventType</span><span class=si>}</span><span class=sb>`</span><span class=p>,</span> <span class=nx>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 예시: 메시지 큐에 이벤트 발행
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// await this.messageQueue.publish(eventType, data);
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 서비스 시작
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>start</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>app</span><span class=p>.</span><span class=nx>listen</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>port</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>logger</span><span class=p>.</span><span class=nx>info</span><span class=p>(</span><span class=sb>`User service running on port </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>port</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1>// 서비스 디스커버리에 등록
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>this</span><span class=p>.</span><span class=nx>eurekaClient</span><span class=p>.</span><span class=nx>start</span><span class=p>((</span><span class=nx>error</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=k>this</span><span class=p>.</span><span class=nx>logger</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;Error starting Eureka client:&#39;</span><span class=p>,</span> <span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=k>this</span><span class=p>.</span><span class=nx>logger</span><span class=p>.</span><span class=nx>info</span><span class=p>(</span><span class=s1>&#39;User service registered with Eureka&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// graceful shutdown 처리
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>process</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;SIGTERM&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>logger</span><span class=p>.</span><span class=nx>info</span><span class=p>(</span><span class=s1>&#39;Received SIGTERM, shutting down gracefully&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>eurekaClient</span><span class=p>.</span><span class=nx>stop</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=nx>process</span><span class=p>.</span><span class=nx>exit</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 서비스 인스턴스 생성 및 시작
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>userService</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>UserService</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>userService</span><span class=p>.</span><span class=nx>start</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=nx>UserService</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=실무-적용-예시>실무 적용 예시<a hidden class=anchor aria-hidden=true href=#실무-적용-예시>#</a></h3><table><thead><tr><th>산업 분야</th><th>사용 사례</th><th>적용 서비스</th><th>효과</th></tr></thead><tbody><tr><td><strong>전자상거래</strong></td><td>온라인 쇼핑몰</td><td>상품, 주문, 결제, 배송, 사용자 관리</td><td>트래픽 급증 대응, 개발 속도 향상</td></tr><tr><td><strong>핀테크</strong></td><td>디지털 뱅킹</td><td>계좌, 거래, 대출, 카드, 인증 서비스</td><td>규제 준수, 보안 강화</td></tr><tr><td><strong>미디어</strong></td><td>스트리밍 서비스</td><td>콘텐츠, 사용자, 추천, 결제, 분석</td><td>글로벌 확장, 개인화 서비스</td></tr><tr><td><strong>모빌리티</strong></td><td>라이드셰어링</td><td>위치, 매칭, 결제, 평가, 드라이버 관리</td><td>실시간 처리, 지역별 확장</td></tr></tbody></table><h3 id=활용-사례-netflix-의-마이크로서비스-전환>활용 사례: Netflix 의 마이크로서비스 전환<a hidden class=anchor aria-hidden=true href=#활용-사례-netflix-의-마이크로서비스-전환>#</a></h3><h4 id=시스템-구성>시스템 구성<a hidden class=anchor aria-hidden=true href=#시스템-구성>#</a></h4><ul><li><strong>600 개 이상의 마이크로서비스</strong></li><li><strong>AWS 클라우드 기반 인프라</strong></li><li><strong>수평적 확장 가능한 아키텍처</strong></li></ul><h4 id=시스템-구성-다이어그램>시스템 구성 다이어그램<a hidden class=anchor aria-hidden=true href=#시스템-구성-다이어그램>#</a></h4><pre class=mermaid>graph TB
    subgraph &#34;Netflix 마이크로서비스 아키텍처&#34;
        A[사용자] --&gt; B[CDN/Edge Locations]
        B --&gt; C[API Gateway/Zuul]
        
        C --&gt; D[인증 서비스]
        C --&gt; E[사용자 프로필 서비스]
        C --&gt; F[콘텐츠 카탈로그 서비스]
        C --&gt; G[추천 서비스]
        C --&gt; H[시청 이력 서비스]
        C --&gt; I[결제 서비스]
        
        J[Eureka 서비스 디스커버리] --&gt; C
        J --&gt; D
        J --&gt; E
        J --&gt; F
        J --&gt; G
        J --&gt; H
        J --&gt; I
        
        K[Hystrix 써킷 브레이커] --&gt; C
        L[Ribbon 로드 밸런서] --&gt; C
        M[Config Server] --&gt; ALL_SERVICES[모든 서비스]
        
        N[Cassandra] --&gt; F
        O[MySQL] --&gt; E
        P[ElasticSearch] --&gt; G
        Q[Redis] --&gt; H
    end
</pre><h4 id=활용-사례-workflow>활용 사례 Workflow<a hidden class=anchor aria-hidden=true href=#활용-사례-workflow>#</a></h4><ol><li><strong>사용자 요청</strong>: 클라이언트에서 Netflix 앱 접속</li><li><strong>API 게이트웨이</strong>: Zuul 을 통한 라우팅 및 인증</li><li><strong>서비스 디스커버리</strong>: Eureka 를 통한 서비스 위치 확인</li><li><strong>콘텐츠 조회</strong>: 개인화된 추천 콘텐츠 제공</li><li><strong>스트리밍</strong>: CDN 을 통한 콘텐츠 전송</li><li><strong>모니터링</strong>: 실시간 시청 패턴 분석</li></ol><h4 id=netflix-의-역할>Netflix 의 역할<a hidden class=anchor aria-hidden=true href=#netflix-의-역할>#</a></h4><ul><li><strong>글로벌 확장</strong>: 130 개국 동시 서비스 제공</li><li><strong>개발 민첩성</strong>: 하루 수천 번의 독립적 배포</li><li><strong>장애 복구</strong>: Chaos Engineering 을 통한 회복력 강화</li><li><strong>개인화</strong>: 머신러닝 기반 개인화 추천 시스템</li></ul><h3 id=실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>단계</th><th>고려사항</th><th>권장사항</th></tr></thead><tbody><tr><td><strong>계획 단계</strong></td><td>서비스 경계 정의</td><td>DDD 방법론 적용, 이벤트 스토밍 수행</td></tr><tr><td><strong>설계 단계</strong></td><td>API 설계</td><td>API-First 접근법, 버전 관리 전략 수립</td></tr><tr><td><strong>개발 단계</strong></td><td>데이터 관리</td><td>서비스별 독립 데이터베이스 설계</td></tr><tr><td><strong>테스트 단계</strong></td><td>통합 테스트</td><td>컨트랙트 테스트, 서비스 가상화 도구 활용</td></tr><tr><td><strong>배포 단계</strong></td><td>배포 전략</td><td>Blue-Green, Canary 배포 적용</td></tr><tr><td><strong>운영 단계</strong></td><td>모니터링</td><td>분산 추적, 중앙집중식 로깅 구축</td></tr></tbody></table><h3 id=최적화하기-위한-고려사항-및-주의할-점>최적화하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#최적화하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>영역</th><th>고려사항</th><th>권장사항</th></tr></thead><tbody><tr><td><strong>성능 최적화</strong></td><td>네트워크 지연 최소화</td><td>캐싱 전략, 데이터 지역성 고려, gRPC 사용</td></tr><tr><td><strong>리소스 최적화</strong></td><td>컨테이너 리소스 관리</td><td>적절한 CPU/메모리 할당, 오토스케일링</td></tr><tr><td><strong>데이터 최적화</strong></td><td>데이터 중복 최소화</td><td>이벤트 소싱, CQRS 패턴 적용</td></tr><tr><td><strong>통신 최적화</strong></td><td>서비스 간 통신 효율화</td><td>비동기 메시징, 이벤트 드리븐 아키텍처</td></tr><tr><td><strong>보안 최적화</strong></td><td>Zero Trust 보안 모델</td><td>서비스 메시, mTLS, JWT 토큰</td></tr><tr><td><strong>개발 최적화</strong></td><td>CI/CD 파이프라인</td><td>GitOps, 자동화된 테스트, 인프라 코드화</td></tr></tbody></table><h2 id=6-기타-사항>6. 기타 사항<a hidden class=anchor aria-hidden=true href=#6-기타-사항>#</a></h2><h3 id=마이크로서비스-아키텍처-관련-문제-및-해결방안>마이크로서비스 아키텍처 관련 문제 및 해결방안<a hidden class=anchor aria-hidden=true href=#마이크로서비스-아키텍처-관련-문제-및-해결방안>#</a></h3><h4 id=주요-문제점>주요 문제점<a hidden class=anchor aria-hidden=true href=#주요-문제점>#</a></h4><ol><li><p><strong>분산 시스템 복잡성</strong></p><ul><li><strong>원인</strong>: 여러 서비스 간 상호작용, 네트워크 통신</li><li><strong>영향</strong>: 디버깅 어려움, 성능 저하</li><li><strong>탐지 및 진단</strong>: 분산 추적 (Jaeger, Zipkin), APM 도구</li><li><strong>예방 방법</strong>: 서비스 메시 도입, 표준화된 로깅</li><li><strong>해결 방법</strong>: 옵저버빌리티 플랫폼 구축, 카오스 엔지니어링</li></ul></li><li><p><strong>데이터 일관성 문제</strong></p><ul><li><strong>원인</strong>: 분산 데이터베이스, 네트워크 분할</li><li><strong>영향</strong>: 데이터 불일치, 비즈니스 로직 오류</li><li><strong>탐지 및 진단</strong>: 데이터 검증 도구, 모니터링 대시보드</li><li><strong>예방 방법</strong>: SAGA 패턴, 이벤트 소싱</li><li><strong>해결 방법</strong>: 보상 트랜잭션, Eventually Consistent 모델</li></ul></li><li><p><strong>서비스 간 의존성 관리</strong></p><ul><li><strong>원인</strong>: 강한 결합, 순환 의존성</li><li><strong>영향</strong>: 배포 복잡성, 장애 전파</li><li><strong>탐지 및 진단</strong>: 의존성 그래프 분석, 써킷 브레이커 메트릭</li><li><strong>예방 방법</strong>: 느슨한 결합 설계, 이벤트 드리븐 아키텍처</li><li><strong>해결 방법</strong>: 써킷 브레이커, 벌크헤드 패턴</li></ul></li><li><p><strong>네트워크 지연 및 장애</strong></p><ul><li><strong>원인</strong>: 서비스 간 네트워크 통신, 외부 의존성</li><li><strong>영향</strong>: 응답 시간 증가, 사용자 경험 저하</li><li><strong>탐지 및 진단</strong>: 네트워크 모니터링, 성능 메트릭</li><li><strong>예방 방법</strong>: 지역적 배포, 캐싱 전략</li><li><strong>해결 방법</strong>: 재시도 패턴, 타임아웃 설정, 비동기 처리</li></ul></li><li><p><strong>보안 복잡성</strong></p><ul><li><strong>원인</strong>: 여러 서비스 엔드포인트, 네트워크 경계</li><li><strong>영향</strong>: 보안 취약점 증가, 관리 부담</li><li><strong>탐지 및 진단</strong>: 보안 스캐닝, 취약점 분석</li><li><strong>예방 방법</strong>: Zero Trust 모델, 서비스 메시 보안</li><li><strong>해결 방법</strong>: mTLS, API 게이트웨이 보안, 토큰 기반 인증</li></ul></li></ol><h2 id=7-주제와-관련하여-주목할-내용>7. 주제와 관련하여 주목할 내용<a hidden class=anchor aria-hidden=true href=#7-주제와-관련하여-주목할-내용>#</a></h2><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>클라우드 네이티브</strong></td><td>Kubernetes</td><td>컨테이너 오케스트레이션 플랫폼</td></tr><tr><td></td><td>Service Mesh</td><td>Istio, Linkerd 등 서비스 간 통신 관리</td></tr><tr><td></td><td>Serverless</td><td>FaaS 기반 마이크로서비스</td></tr><tr><td><strong>데이터 관리</strong></td><td>Event Sourcing</td><td>이벤트 기반 데이터 저장</td></tr><tr><td></td><td>CQRS</td><td>읽기/쓰기 모델 분리</td></tr><tr><td></td><td>Polyglot Persistence</td><td>서비스별 최적 데이터베이스 선택</td></tr><tr><td><strong>통신 패턴</strong></td><td>Synchronous</td><td>REST API, GraphQL, gRPC</td></tr><tr><td></td><td>Asynchronous</td><td>Message Queue, Event Streaming</td></tr><tr><td></td><td>API Gateway</td><td>Kong, Ambassador, Istio Gateway</td></tr><tr><td><strong>모니터링</strong></td><td>Observability</td><td>Metrics, Logs, Traces</td></tr><tr><td></td><td>APM</td><td>Application Performance Monitoring</td></tr><tr><td></td><td>Chaos Engineering</td><td>시스템 회복력 테스트</td></tr><tr><td><strong>보안</strong></td><td>Zero Trust</td><td>모든 요청 검증 원칙</td></tr><tr><td></td><td>mTLS</td><td>상호 TLS 인증</td></tr><tr><td></td><td>RBAC</td><td>역할 기반 접근 제어</td></tr></tbody></table><h2 id=8-추가로-학습해야-할-내용>8. 추가로 학습해야 할 내용<a hidden class=anchor aria-hidden=true href=#8-추가로-학습해야-할-내용>#</a></h2><table><thead><tr><th>카테고리</th><th>간략한 설명</th><th>주제</th></tr></thead><tbody><tr><td><strong>컨테이너 기술</strong></td><td>마이크로서비스 배포 기반 기술</td><td>Docker, Kubernetes, Helm</td></tr><tr><td><strong>서비스 메시</strong></td><td>서비스 간 통신 인프라</td><td>Istio, Linkerd, Consul Connect</td></tr><tr><td><strong>메시징 시스템</strong></td><td>비동기 통신 지원</td><td>Apache Kafka, RabbitMQ, Redis</td></tr><tr><td><strong>API 관리</strong></td><td>API 게이트웨이 및 관리 도구</td><td>Kong, Zuul, AWS API Gateway</td></tr><tr><td><strong>모니터링 도구</strong></td><td>시스템 가시성 확보</td><td>Prometheus, Grafana, Jaeger</td></tr><tr><td><strong>CI/CD 도구</strong></td><td>지속적 통합/배포</td><td>Jenkins, GitLab CI, ArgoCD</td></tr><tr><td><strong>클라우드 플랫폼</strong></td><td>인프라 및 관리형 서비스</td><td>AWS, Azure, GCP</td></tr><tr><td><strong>보안 도구</strong></td><td>마이크로서비스 보안</td><td>Vault, Cert-Manager, OPA</td></tr></tbody></table><hr><h2 id=용어-정리-2>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-2>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td><strong>아키텍처 패턴</strong></td><td>SOA</td><td>Service-Oriented Architecture 의 줄임말로 서비스 지향 아키텍처</td></tr><tr><td></td><td>Monolith</td><td>모든 기능이 하나의 배포 단위로 구성된 아키텍처</td></tr><tr><td></td><td>Bounded Context</td><td>DDD 에서 특정 도메인 모델이 적용되는 명시적 경계</td></tr><tr><td><strong>통신 기술</strong></td><td>gRPC</td><td>Google 이 개발한 고성능 RPC (Remote Procedure Call) 프레임워크</td></tr><tr><td></td><td>REST</td><td>Representational State Transfer 의 줄임말로 웹 API 설계 원칙</td></tr><tr><td></td><td>GraphQL</td><td>Facebook 이 개발한 쿼리 언어 및 런타임</td></tr><tr><td><strong>데이터 패턴</strong></td><td>Polyglot Persistence</td><td>서비스별로 최적의 데이터베이스 기술을 선택하는 접근법</td></tr><tr><td></td><td>Event Sourcing</td><td>상태 변경을 이벤트 시퀀스로 저장하는 패턴</td></tr><tr><td></td><td>CQRS</td><td>Command Query Responsibility Segregation 으로 읽기/쓰기 분리</td></tr><tr><td><strong>인프라 기술</strong></td><td>Container Orchestration</td><td>컨테이너 생명주기를 관리하는 시스템</td></tr><tr><td></td><td>Service Discovery</td><td>동적으로 서비스 위치를 찾는 메커니즘</td></tr><tr><td></td><td>Circuit Breaker</td><td>서비스 호출 실패 시 연쇄 장애를 방지하는 패턴</td></tr><tr><td><strong>보안 개념</strong></td><td>mTLS</td><td>Mutual Transport Layer Security 로 양방향 TLS 인증</td></tr><tr><td></td><td>Zero Trust</td><td>모든 네트워크 트래픽을 기본적으로 신뢰하지 않는 보안 모델</td></tr><tr><td></td><td>JWT</td><td>JSON Web Token 으로 안전한 정보 전송을 위한 토큰</td></tr><tr><td><strong>운영 도구</strong></td><td>APM</td><td>Application Performance Monitoring 으로 애플리케이션 성능 모니터링</td></tr><tr><td></td><td>Distributed Tracing</td><td>분산 시스템에서 요청 흐름을 추적하는 기술</td></tr><tr><td></td><td>Chaos Engineering</td><td>시스템의 회복력을 테스트하기 위해 의도적으로 장애를 주입하는 방법</td></tr></tbody></table><hr><h2 id=참고-및-출처-2>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-2>#</a></h2><ul><li><a href=https://www.redhat.com/ko/topics/microservices/what-are-microservices>마이크로서비스 아키텍처 개념 - Red Hat</a></li><li><a href=https://aws.amazon.com/ko/microservices/>AWS 마이크로서비스 가이드</a></li><li><a href=https://learn.microsoft.com/ko-kr/azure/architecture/microservices/>Microsoft 마이크로서비스 아키텍처 설계</a></li><li><a href=https://about.netflix.com/ko/news/completing-the-netflix-cloud-migration>Netflix 클라우드 마이그레이션 완료 사례</a></li><li><a href=https://thebook.io/007035/>마이크로서비스 패턴 - 크리스 리처드슨</a></li><li><a href="https://cloud.google.com/learn/what-is-microservices-architecture?hl=ko">Google Cloud 마이크로서비스 아키텍처</a></li><li><a href=https://learn.microsoft.com/ko-kr/dotnet/architecture/microservices/microservice-ddd-cqrs-patterns/>DDD 및 마이크로서비스 패턴 - Microsoft Learn</a></li></ul><hr><p>마이크로서비스 아키텍처는 단일 애플리케이션을 작고 독립적인 서비스 집합으로 개발하는 접근 방식이다. 각 서비스는 자체 프로세스에서 실행되며, 가벼운 메커니즘 (주로 HTTP/REST API) 을 통해 통신한다. 이 아키텍처는 전통적인 모놀리식 (Monolithic) 접근 방식과 대비된다.</p><h3 id=마이크로서비스의-핵심-특성>마이크로서비스의 핵심 특성<a hidden class=anchor aria-hidden=true href=#마이크로서비스의-핵심-특성>#</a></h3><ol><li><strong>단일 책임 원칙</strong>: 각 서비스는 특정 비즈니스 기능이나 도메인에 집중한다.</li><li><strong>독립적 배포</strong>: 각 서비스는 다른 서비스에 영향을 주지 않고 독립적으로 배포할 수 있다.</li><li><strong>기술적 다양성</strong>: 각 서비스는 적합한 기술 스택을 자유롭게 선택할 수 있다.</li><li><strong>자율성</strong>: 개발 팀은 서비스의 설계부터 배포까지 전체 라이프사이클을 책임진다.</li><li><strong>분산 데이터 관리</strong>: 각 서비스는 자체 데이터베이스를 가질 수 있으며, 다른 서비스의 데이터를 직접 접근하지 않는다.</li><li><strong>장애 격리</strong>: 한 서비스의 장애가 전체 시스템에 영향을 미치지 않도록 설계된다.</li><li><strong>API 중심 통신</strong>: 서비스 간 통신은 명확하게 정의된 API 를 통해 이루어진다.</li></ol><h3 id=api-통합-패턴으로서의-마이크로서비스>API 통합 패턴으로서의 마이크로서비스<a hidden class=anchor aria-hidden=true href=#api-통합-패턴으로서의-마이크로서비스>#</a></h3><p>마이크로서비스 아키텍처에서 API 는 단순한 인터페이스 이상의 의미를 갖는다. API 는 서비스 간 통신의 핵심이자 시스템 통합의 주요 메커니즘이다. 다음은 마이크로서비스 기반 API 통합의 주요 패턴들이다.</p><h4 id=api-게이트웨이-패턴>API 게이트웨이 패턴<a hidden class=anchor aria-hidden=true href=#api-게이트웨이-패턴>#</a></h4><p>API 게이트웨이는 클라이언트와 내부 마이크로서비스 사이의 중개자 역할을 한다. 클라이언트는 게이트웨이에만 요청을 보내고, 게이트웨이는 요청을 적절한 마이크로서비스로 라우팅한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>클라이언트 → API 게이트웨이 → 마이크로서비스 A/B/C
</span></span></code></pre></td></tr></table></div></div><p><strong>주요 장점:</strong></p><ul><li>클라이언트 요구에 맞게 API 인터페이스 최적화</li><li>인증 및 권한 부여의 중앙 집중화</li><li>속도 제한, 캐싱 등 공통 기능 구현</li><li>내부 서비스 아키텍처 추상화</li></ul><p><strong>구현 예시 (Node.js/Express):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1> 1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2> 2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3> 3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4> 4</a>
</span><span class=lnt id=hl-12-5><a class=lnlinks href=#hl-12-5> 5</a>
</span><span class=lnt id=hl-12-6><a class=lnlinks href=#hl-12-6> 6</a>
</span><span class=lnt id=hl-12-7><a class=lnlinks href=#hl-12-7> 7</a>
</span><span class=lnt id=hl-12-8><a class=lnlinks href=#hl-12-8> 8</a>
</span><span class=lnt id=hl-12-9><a class=lnlinks href=#hl-12-9> 9</a>
</span><span class=lnt id=hl-12-10><a class=lnlinks href=#hl-12-10>10</a>
</span><span class=lnt id=hl-12-11><a class=lnlinks href=#hl-12-11>11</a>
</span><span class=lnt id=hl-12-12><a class=lnlinks href=#hl-12-12>12</a>
</span><span class=lnt id=hl-12-13><a class=lnlinks href=#hl-12-13>13</a>
</span><span class=lnt id=hl-12-14><a class=lnlinks href=#hl-12-14>14</a>
</span><span class=lnt id=hl-12-15><a class=lnlinks href=#hl-12-15>15</a>
</span><span class=lnt id=hl-12-16><a class=lnlinks href=#hl-12-16>16</a>
</span><span class=lnt id=hl-12-17><a class=lnlinks href=#hl-12-17>17</a>
</span><span class=lnt id=hl-12-18><a class=lnlinks href=#hl-12-18>18</a>
</span><span class=lnt id=hl-12-19><a class=lnlinks href=#hl-12-19>19</a>
</span><span class=lnt id=hl-12-20><a class=lnlinks href=#hl-12-20>20</a>
</span><span class=lnt id=hl-12-21><a class=lnlinks href=#hl-12-21>21</a>
</span><span class=lnt id=hl-12-22><a class=lnlinks href=#hl-12-22>22</a>
</span><span class=lnt id=hl-12-23><a class=lnlinks href=#hl-12-23>23</a>
</span><span class=lnt id=hl-12-24><a class=lnlinks href=#hl-12-24>24</a>
</span><span class=lnt id=hl-12-25><a class=lnlinks href=#hl-12-25>25</a>
</span><span class=lnt id=hl-12-26><a class=lnlinks href=#hl-12-26>26</a>
</span><span class=lnt id=hl-12-27><a class=lnlinks href=#hl-12-27>27</a>
</span><span class=lnt id=hl-12-28><a class=lnlinks href=#hl-12-28>28</a>
</span><span class=lnt id=hl-12-29><a class=lnlinks href=#hl-12-29>29</a>
</span><span class=lnt id=hl-12-30><a class=lnlinks href=#hl-12-30>30</a>
</span><span class=lnt id=hl-12-31><a class=lnlinks href=#hl-12-31>31</a>
</span><span class=lnt id=hl-12-32><a class=lnlinks href=#hl-12-32>32</a>
</span><span class=lnt id=hl-12-33><a class=lnlinks href=#hl-12-33>33</a>
</span><span class=lnt id=hl-12-34><a class=lnlinks href=#hl-12-34>34</a>
</span><span class=lnt id=hl-12-35><a class=lnlinks href=#hl-12-35>35</a>
</span><span class=lnt id=hl-12-36><a class=lnlinks href=#hl-12-36>36</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>express</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;express&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>httpProxy</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;express-http-proxy&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=nx>express</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 인증 미들웨어
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>authenticate</span><span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>,</span> <span class=nx>next</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>authHeader</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>headers</span><span class=p>.</span><span class=nx>authorization</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>authHeader</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>401</span><span class=p>).</span><span class=nx>json</span><span class=p>({</span> <span class=nx>error</span><span class=o>:</span> <span class=s1>&#39;인증 토큰이 필요합니다&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 실제 인증 로직…
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>next</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 공통 미들웨어 적용
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>express</span><span class=p>.</span><span class=nx>json</span><span class=p>());</span>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>authenticate</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 서비스별 라우팅 및 프록시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=s1>&#39;/users&#39;</span><span class=p>,</span> <span class=nx>httpProxy</span><span class=p>(</span><span class=s1>&#39;http://user-service:8080&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>proxyReqPathResolver</span><span class=o>:</span> <span class=p>(</span><span class=nx>req</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=sb>`/api/v1/users</span><span class=si>${</span><span class=nx>req</span><span class=p>.</span><span class=nx>url</span><span class=si>}</span><span class=sb>`</span>
</span></span><span class=line><span class=cl><span class=p>}));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=s1>&#39;/orders&#39;</span><span class=p>,</span> <span class=nx>httpProxy</span><span class=p>(</span><span class=s1>&#39;http://order-service:8081&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>proxyReqPathResolver</span><span class=o>:</span> <span class=p>(</span><span class=nx>req</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=sb>`/api/v1/orders</span><span class=si>${</span><span class=nx>req</span><span class=p>.</span><span class=nx>url</span><span class=si>}</span><span class=sb>`</span>
</span></span><span class=line><span class=cl><span class=p>}));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=s1>&#39;/products&#39;</span><span class=p>,</span> <span class=nx>httpProxy</span><span class=p>(</span><span class=s1>&#39;http://product-service:8082&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>proxyReqPathResolver</span><span class=o>:</span> <span class=p>(</span><span class=nx>req</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=sb>`/api/v1/products</span><span class=si>${</span><span class=nx>req</span><span class=p>.</span><span class=nx>url</span><span class=si>}</span><span class=sb>`</span>
</span></span><span class=line><span class=cl><span class=p>}));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// API 게이트웨이 서버 시작
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>app</span><span class=p>.</span><span class=nx>listen</span><span class=p>(</span><span class=mi>3000</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;API Gateway running on port 3000&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=서비스-메시-패턴>서비스 메시 패턴<a hidden class=anchor aria-hidden=true href=#서비스-메시-패턴>#</a></h4><p>서비스 메시는 마이크로서비스 간의 통신을 관리하는 인프라 계층으로, 서비스 간 네트워크 호출의 신뢰성, 보안, 관측 가능성을 향상시킨다.</p><p><strong>주요 구성 요소:</strong></p><ul><li><strong>데이터 영역</strong>: 각 서비스와 함께 실행되는 프록시 (사이드카)</li><li><strong>제어 영역</strong>: 시스템 전체의 정책 및 구성 관리</li></ul><p><strong>주요 기능:</strong></p><ul><li>서비스 검색 및 로드 밸런싱</li><li>서킷 브레이킹 및 재시도</li><li>암호화된 통신 (mTLS)</li><li>분산 추적</li><li>트래픽 관리 및 제어</li></ul><p><strong>인기 있는 서비스 메시 구현:</strong></p><ul><li>Istio</li><li>Linkerd</li><li>Consul</li><li>AWS App Mesh</li></ul><p><strong>Istio 를 사용한 구성 예시:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1> 1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2> 2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3> 3</a>
</span><span class=lnt id=hl-13-4><a class=lnlinks href=#hl-13-4> 4</a>
</span><span class=lnt id=hl-13-5><a class=lnlinks href=#hl-13-5> 5</a>
</span><span class=lnt id=hl-13-6><a class=lnlinks href=#hl-13-6> 6</a>
</span><span class=lnt id=hl-13-7><a class=lnlinks href=#hl-13-7> 7</a>
</span><span class=lnt id=hl-13-8><a class=lnlinks href=#hl-13-8> 8</a>
</span><span class=lnt id=hl-13-9><a class=lnlinks href=#hl-13-9> 9</a>
</span><span class=lnt id=hl-13-10><a class=lnlinks href=#hl-13-10>10</a>
</span><span class=lnt id=hl-13-11><a class=lnlinks href=#hl-13-11>11</a>
</span><span class=lnt id=hl-13-12><a class=lnlinks href=#hl-13-12>12</a>
</span><span class=lnt id=hl-13-13><a class=lnlinks href=#hl-13-13>13</a>
</span><span class=lnt id=hl-13-14><a class=lnlinks href=#hl-13-14>14</a>
</span><span class=lnt id=hl-13-15><a class=lnlinks href=#hl-13-15>15</a>
</span><span class=lnt id=hl-13-16><a class=lnlinks href=#hl-13-16>16</a>
</span><span class=lnt id=hl-13-17><a class=lnlinks href=#hl-13-17>17</a>
</span><span class=lnt id=hl-13-18><a class=lnlinks href=#hl-13-18>18</a>
</span><span class=lnt id=hl-13-19><a class=lnlinks href=#hl-13-19>19</a>
</span><span class=lnt id=hl-13-20><a class=lnlinks href=#hl-13-20>20</a>
</span><span class=lnt id=hl-13-21><a class=lnlinks href=#hl-13-21>21</a>
</span><span class=lnt id=hl-13-22><a class=lnlinks href=#hl-13-22>22</a>
</span><span class=lnt id=hl-13-23><a class=lnlinks href=#hl-13-23>23</a>
</span><span class=lnt id=hl-13-24><a class=lnlinks href=#hl-13-24>24</a>
</span><span class=lnt id=hl-13-25><a class=lnlinks href=#hl-13-25>25</a>
</span><span class=lnt id=hl-13-26><a class=lnlinks href=#hl-13-26>26</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.istio.io/v1alpha3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>VirtualService</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>order-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>order-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>route</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>destination</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>order-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>subset</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>weight</span><span class=p>:</span><span class=w> </span><span class=m>90</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>destination</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>order-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>subset</span><span class=p>:</span><span class=w> </span><span class=l>v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>weight</span><span class=p>:</span><span class=w> </span><span class=m>10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>fault</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>delay</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>percentage</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=m>0.1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>fixedDelay</span><span class=p>:</span><span class=w> </span><span class=l>5s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>route</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>destination</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>order-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>subset</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=애그리게이터-패턴>애그리게이터 패턴<a hidden class=anchor aria-hidden=true href=#애그리게이터-패턴>#</a></h4><p>여러 마이크로서비스의 데이터를 조합하여 클라이언트에게 제공해야 하는 경우, 애그리게이터 패턴을 활용한다. 이 패턴은 여러 서비스에 걸친 데이터를 조합하는 책임을 가진 특별한 서비스를 만든다.</p><p><strong>구현 예시 (Spring Boot):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1> 1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2> 2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3> 3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4> 4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5> 5</a>
</span><span class=lnt id=hl-14-6><a class=lnlinks href=#hl-14-6> 6</a>
</span><span class=lnt id=hl-14-7><a class=lnlinks href=#hl-14-7> 7</a>
</span><span class=lnt id=hl-14-8><a class=lnlinks href=#hl-14-8> 8</a>
</span><span class=lnt id=hl-14-9><a class=lnlinks href=#hl-14-9> 9</a>
</span><span class=lnt id=hl-14-10><a class=lnlinks href=#hl-14-10>10</a>
</span><span class=lnt id=hl-14-11><a class=lnlinks href=#hl-14-11>11</a>
</span><span class=lnt id=hl-14-12><a class=lnlinks href=#hl-14-12>12</a>
</span><span class=lnt id=hl-14-13><a class=lnlinks href=#hl-14-13>13</a>
</span><span class=lnt id=hl-14-14><a class=lnlinks href=#hl-14-14>14</a>
</span><span class=lnt id=hl-14-15><a class=lnlinks href=#hl-14-15>15</a>
</span><span class=lnt id=hl-14-16><a class=lnlinks href=#hl-14-16>16</a>
</span><span class=lnt id=hl-14-17><a class=lnlinks href=#hl-14-17>17</a>
</span><span class=lnt id=hl-14-18><a class=lnlinks href=#hl-14-18>18</a>
</span><span class=lnt id=hl-14-19><a class=lnlinks href=#hl-14-19>19</a>
</span><span class=lnt id=hl-14-20><a class=lnlinks href=#hl-14-20>20</a>
</span><span class=lnt id=hl-14-21><a class=lnlinks href=#hl-14-21>21</a>
</span><span class=lnt id=hl-14-22><a class=lnlinks href=#hl-14-22>22</a>
</span><span class=lnt id=hl-14-23><a class=lnlinks href=#hl-14-23>23</a>
</span><span class=lnt id=hl-14-24><a class=lnlinks href=#hl-14-24>24</a>
</span><span class=lnt id=hl-14-25><a class=lnlinks href=#hl-14-25>25</a>
</span><span class=lnt id=hl-14-26><a class=lnlinks href=#hl-14-26>26</a>
</span><span class=lnt id=hl-14-27><a class=lnlinks href=#hl-14-27>27</a>
</span><span class=lnt id=hl-14-28><a class=lnlinks href=#hl-14-28>28</a>
</span><span class=lnt id=hl-14-29><a class=lnlinks href=#hl-14-29>29</a>
</span><span class=lnt id=hl-14-30><a class=lnlinks href=#hl-14-30>30</a>
</span><span class=lnt id=hl-14-31><a class=lnlinks href=#hl-14-31>31</a>
</span><span class=lnt id=hl-14-32><a class=lnlinks href=#hl-14-32>32</a>
</span><span class=lnt id=hl-14-33><a class=lnlinks href=#hl-14-33>33</a>
</span><span class=lnt id=hl-14-34><a class=lnlinks href=#hl-14-34>34</a>
</span><span class=lnt id=hl-14-35><a class=lnlinks href=#hl-14-35>35</a>
</span><span class=lnt id=hl-14-36><a class=lnlinks href=#hl-14-36>36</a>
</span><span class=lnt id=hl-14-37><a class=lnlinks href=#hl-14-37>37</a>
</span><span class=lnt id=hl-14-38><a class=lnlinks href=#hl-14-38>38</a>
</span><span class=lnt id=hl-14-39><a class=lnlinks href=#hl-14-39>39</a>
</span><span class=lnt id=hl-14-40><a class=lnlinks href=#hl-14-40>40</a>
</span><span class=lnt id=hl-14-41><a class=lnlinks href=#hl-14-41>41</a>
</span><span class=lnt id=hl-14-42><a class=lnlinks href=#hl-14-42>42</a>
</span><span class=lnt id=hl-14-43><a class=lnlinks href=#hl-14-43>43</a>
</span><span class=lnt id=hl-14-44><a class=lnlinks href=#hl-14-44>44</a>
</span><span class=lnt id=hl-14-45><a class=lnlinks href=#hl-14-45>45</a>
</span><span class=lnt id=hl-14-46><a class=lnlinks href=#hl-14-46>46</a>
</span><span class=lnt id=hl-14-47><a class=lnlinks href=#hl-14-47>47</a>
</span><span class=lnt id=hl-14-48><a class=lnlinks href=#hl-14-48>48</a>
</span><span class=lnt id=hl-14-49><a class=lnlinks href=#hl-14-49>49</a>
</span><span class=lnt id=hl-14-50><a class=lnlinks href=#hl-14-50>50</a>
</span><span class=lnt id=hl-14-51><a class=lnlinks href=#hl-14-51>51</a>
</span><span class=lnt id=hl-14-52><a class=lnlinks href=#hl-14-52>52</a>
</span><span class=lnt id=hl-14-53><a class=lnlinks href=#hl-14-53>53</a>
</span><span class=lnt id=hl-14-54><a class=lnlinks href=#hl-14-54>54</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@RestController</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&#34;/api/v1/order-details&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>OrderDetailsAggregator</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>RestTemplate</span><span class=w> </span><span class=n>restTemplate</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Autowired</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>OrderDetailsAggregator</span><span class=p>(</span><span class=n>RestTemplate</span><span class=w> </span><span class=n>restTemplate</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>restTemplate</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>restTemplate</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&#34;/{orderId}&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>OrderDetailsDTO</span><span class=w> </span><span class=nf>getOrderDetails</span><span class=p>(</span><span class=nd>@PathVariable</span><span class=w> </span><span class=n>Long</span><span class=w> </span><span class=n>orderId</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 주문 정보 조회</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>OrderDTO</span><span class=w> </span><span class=n>order</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>restTemplate</span><span class=p>.</span><span class=na>getForObject</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=s>&#34;http://order-service/api/v1/orders/{id}&#34;</span><span class=p>,</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>OrderDTO</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>orderId</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>order</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ResourceNotFoundException</span><span class=p>(</span><span class=s>&#34;주문을 찾을 수 없습니다: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>orderId</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 고객 정보 조회</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>CustomerDTO</span><span class=w> </span><span class=n>customer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>restTemplate</span><span class=p>.</span><span class=na>getForObject</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=s>&#34;http://customer-service/api/v1/customers/{id}&#34;</span><span class=p>,</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>CustomerDTO</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>order</span><span class=p>.</span><span class=na>getCustomerId</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 주문 항목별 상품 정보 조회</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>List</span><span class=o>&lt;</span><span class=n>OrderItemDetailsDTO</span><span class=o>&gt;</span><span class=w> </span><span class=n>itemDetails</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>OrderItemDTO</span><span class=w> </span><span class=n>item</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>order</span><span class=p>.</span><span class=na>getItems</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>ProductDTO</span><span class=w> </span><span class=n>product</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>restTemplate</span><span class=p>.</span><span class=na>getForObject</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=s>&#34;http://product-service/api/v1/products/{id}&#34;</span><span class=p>,</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>ProductDTO</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>item</span><span class=p>.</span><span class=na>getProductId</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>itemDetails</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>OrderItemDetailsDTO</span><span class=p>(</span><span class=n>item</span><span class=p>,</span><span class=w> </span><span class=n>product</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 배송 정보 조회</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>ShippingDTO</span><span class=w> </span><span class=n>shipping</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>restTemplate</span><span class=p>.</span><span class=na>getForObject</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=s>&#34;http://shipping-service/api/v1/shipments/order/{orderId}&#34;</span><span class=p>,</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>ShippingDTO</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>orderId</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 종합 정보 반환</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>OrderDetailsDTO</span><span class=p>(</span><span class=n>order</span><span class=p>,</span><span class=w> </span><span class=n>customer</span><span class=p>,</span><span class=w> </span><span class=n>itemDetails</span><span class=p>,</span><span class=w> </span><span class=n>shipping</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=비동기-메시징-패턴>비동기 메시징 패턴<a hidden class=anchor aria-hidden=true href=#비동기-메시징-패턴>#</a></h4><p>마이크로서비스 간의 통신은 동기식 (요청 - 응답) 뿐만 아니라 비동기식 (이벤트 기반) 으로도 이루어질 수 있다. 비동기 메시징은 서비스 간 느슨한 결합을 촉진하고 시스템의 확장성을 향상시킨다.</p><p><strong>주요 메시징 패턴:</strong></p><ul><li><strong>발행 - 구독 (Publish-Subscribe)</strong>: 이벤트 생산자는 이벤트를 발행하고, 관심 있는 소비자들이 구독</li><li><strong>이벤트 소싱 (Event Sourcing)</strong>: 상태 변화를 이벤트 시퀀스로 저장</li><li><strong>명령 쿼리 책임 분리 (CQRS)</strong>: 상태 변경 (명령) 과 상태 조회 (쿼리) 를 분리</li></ul><p><strong>구현 예시 (Kafka 와 Spring Boot):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1> 1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2> 2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3> 3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4> 4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5> 5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6> 6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7> 7</a>
</span><span class=lnt id=hl-15-8><a class=lnlinks href=#hl-15-8> 8</a>
</span><span class=lnt id=hl-15-9><a class=lnlinks href=#hl-15-9> 9</a>
</span><span class=lnt id=hl-15-10><a class=lnlinks href=#hl-15-10>10</a>
</span><span class=lnt id=hl-15-11><a class=lnlinks href=#hl-15-11>11</a>
</span><span class=lnt id=hl-15-12><a class=lnlinks href=#hl-15-12>12</a>
</span><span class=lnt id=hl-15-13><a class=lnlinks href=#hl-15-13>13</a>
</span><span class=lnt id=hl-15-14><a class=lnlinks href=#hl-15-14>14</a>
</span><span class=lnt id=hl-15-15><a class=lnlinks href=#hl-15-15>15</a>
</span><span class=lnt id=hl-15-16><a class=lnlinks href=#hl-15-16>16</a>
</span><span class=lnt id=hl-15-17><a class=lnlinks href=#hl-15-17>17</a>
</span><span class=lnt id=hl-15-18><a class=lnlinks href=#hl-15-18>18</a>
</span><span class=lnt id=hl-15-19><a class=lnlinks href=#hl-15-19>19</a>
</span><span class=lnt id=hl-15-20><a class=lnlinks href=#hl-15-20>20</a>
</span><span class=lnt id=hl-15-21><a class=lnlinks href=#hl-15-21>21</a>
</span><span class=lnt id=hl-15-22><a class=lnlinks href=#hl-15-22>22</a>
</span><span class=lnt id=hl-15-23><a class=lnlinks href=#hl-15-23>23</a>
</span><span class=lnt id=hl-15-24><a class=lnlinks href=#hl-15-24>24</a>
</span><span class=lnt id=hl-15-25><a class=lnlinks href=#hl-15-25>25</a>
</span><span class=lnt id=hl-15-26><a class=lnlinks href=#hl-15-26>26</a>
</span><span class=lnt id=hl-15-27><a class=lnlinks href=#hl-15-27>27</a>
</span><span class=lnt id=hl-15-28><a class=lnlinks href=#hl-15-28>28</a>
</span><span class=lnt id=hl-15-29><a class=lnlinks href=#hl-15-29>29</a>
</span><span class=lnt id=hl-15-30><a class=lnlinks href=#hl-15-30>30</a>
</span><span class=lnt id=hl-15-31><a class=lnlinks href=#hl-15-31>31</a>
</span><span class=lnt id=hl-15-32><a class=lnlinks href=#hl-15-32>32</a>
</span><span class=lnt id=hl-15-33><a class=lnlinks href=#hl-15-33>33</a>
</span><span class=lnt id=hl-15-34><a class=lnlinks href=#hl-15-34>34</a>
</span><span class=lnt id=hl-15-35><a class=lnlinks href=#hl-15-35>35</a>
</span><span class=lnt id=hl-15-36><a class=lnlinks href=#hl-15-36>36</a>
</span><span class=lnt id=hl-15-37><a class=lnlinks href=#hl-15-37>37</a>
</span><span class=lnt id=hl-15-38><a class=lnlinks href=#hl-15-38>38</a>
</span><span class=lnt id=hl-15-39><a class=lnlinks href=#hl-15-39>39</a>
</span><span class=lnt id=hl-15-40><a class=lnlinks href=#hl-15-40>40</a>
</span><span class=lnt id=hl-15-41><a class=lnlinks href=#hl-15-41>41</a>
</span><span class=lnt id=hl-15-42><a class=lnlinks href=#hl-15-42>42</a>
</span><span class=lnt id=hl-15-43><a class=lnlinks href=#hl-15-43>43</a>
</span><span class=lnt id=hl-15-44><a class=lnlinks href=#hl-15-44>44</a>
</span><span class=lnt id=hl-15-45><a class=lnlinks href=#hl-15-45>45</a>
</span><span class=lnt id=hl-15-46><a class=lnlinks href=#hl-15-46>46</a>
</span><span class=lnt id=hl-15-47><a class=lnlinks href=#hl-15-47>47</a>
</span><span class=lnt id=hl-15-48><a class=lnlinks href=#hl-15-48>48</a>
</span><span class=lnt id=hl-15-49><a class=lnlinks href=#hl-15-49>49</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// 이벤트 프로듀서 (주문 서비스)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@Service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>OrderEventPublisher</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>KafkaTemplate</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>OrderEvent</span><span class=o>&gt;</span><span class=w> </span><span class=n>kafkaTemplate</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Autowired</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>OrderEventPublisher</span><span class=p>(</span><span class=n>KafkaTemplate</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>OrderEvent</span><span class=o>&gt;</span><span class=w> </span><span class=n>kafkaTemplate</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>kafkaTemplate</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>kafkaTemplate</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>publishOrderCreatedEvent</span><span class=p>(</span><span class=n>Order</span><span class=w> </span><span class=n>order</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>OrderCreatedEvent</span><span class=w> </span><span class=n>event</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>OrderCreatedEvent</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>order</span><span class=p>.</span><span class=na>getId</span><span class=p>(),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>order</span><span class=p>.</span><span class=na>getCustomerId</span><span class=p>(),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>order</span><span class=p>.</span><span class=na>getItems</span><span class=p>(),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>order</span><span class=p>.</span><span class=na>getTotalAmount</span><span class=p>(),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>LocalDateTime</span><span class=p>.</span><span class=na>now</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>kafkaTemplate</span><span class=p>.</span><span class=na>send</span><span class=p>(</span><span class=s>&#34;order-events&#34;</span><span class=p>,</span><span class=w> </span><span class=n>event</span><span class=p>.</span><span class=na>getOrderId</span><span class=p>().</span><span class=na>toString</span><span class=p>(),</span><span class=w> </span><span class=n>event</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>log</span><span class=p>.</span><span class=na>info</span><span class=p>(</span><span class=s>&#34;OrderCreatedEvent published for order: {}&#34;</span><span class=p>,</span><span class=w> </span><span class=n>order</span><span class=p>.</span><span class=na>getId</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 이벤트 컨슈머 (재고 서비스)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@Service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>OrderEventConsumer</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>InventoryService</span><span class=w> </span><span class=n>inventoryService</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Autowired</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>OrderEventConsumer</span><span class=p>(</span><span class=n>InventoryService</span><span class=w> </span><span class=n>inventoryService</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>inventoryService</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>inventoryService</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@KafkaListener</span><span class=p>(</span><span class=n>topics</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;order-events&#34;</span><span class=p>,</span><span class=w> </span><span class=n>groupId</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;inventory-service&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>processOrderEvent</span><span class=p>(</span><span class=n>OrderEvent</span><span class=w> </span><span class=n>event</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>event</span><span class=w> </span><span class=k>instanceof</span><span class=w> </span><span class=n>OrderCreatedEvent</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>OrderCreatedEvent</span><span class=w> </span><span class=n>orderCreated</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>OrderCreatedEvent</span><span class=p>)</span><span class=w> </span><span class=n>event</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>log</span><span class=p>.</span><span class=na>info</span><span class=p>(</span><span class=s>&#34;Processing OrderCreatedEvent for order: {}&#34;</span><span class=p>,</span><span class=w> </span><span class=n>orderCreated</span><span class=p>.</span><span class=na>getOrderId</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 재고 차감 처리</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>OrderItem</span><span class=w> </span><span class=n>item</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>orderCreated</span><span class=p>.</span><span class=na>getItems</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>inventoryService</span><span class=p>.</span><span class=na>reduceStock</span><span class=p>(</span><span class=n>item</span><span class=p>.</span><span class=na>getProductId</span><span class=p>(),</span><span class=w> </span><span class=n>item</span><span class=p>.</span><span class=na>getQuantity</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=api-계약-테스트-패턴>API 계약 테스트 패턴<a hidden class=anchor aria-hidden=true href=#api-계약-테스트-패턴>#</a></h4><p>마이크로서비스 환경에서는 서비스 간 API 계약을 명확히 정의하고 검증하는 것이 중요하다. 계약 테스트는 서비스 제공자와 소비자 간의 인터페이스 호환성을 보장한다.</p><p><strong>주요 계약 테스트 도구:</strong></p><ul><li>Pact</li><li>Spring Cloud Contract</li><li>Swagger/OpenAPI</li></ul><p><strong>Spring Cloud Contract 예시:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1> 1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2> 2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3> 3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4> 4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5> 5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6> 6</a>
</span><span class=lnt id=hl-16-7><a class=lnlinks href=#hl-16-7> 7</a>
</span><span class=lnt id=hl-16-8><a class=lnlinks href=#hl-16-8> 8</a>
</span><span class=lnt id=hl-16-9><a class=lnlinks href=#hl-16-9> 9</a>
</span><span class=lnt id=hl-16-10><a class=lnlinks href=#hl-16-10>10</a>
</span><span class=lnt id=hl-16-11><a class=lnlinks href=#hl-16-11>11</a>
</span><span class=lnt id=hl-16-12><a class=lnlinks href=#hl-16-12>12</a>
</span><span class=lnt id=hl-16-13><a class=lnlinks href=#hl-16-13>13</a>
</span><span class=lnt id=hl-16-14><a class=lnlinks href=#hl-16-14>14</a>
</span><span class=lnt id=hl-16-15><a class=lnlinks href=#hl-16-15>15</a>
</span><span class=lnt id=hl-16-16><a class=lnlinks href=#hl-16-16>16</a>
</span><span class=lnt id=hl-16-17><a class=lnlinks href=#hl-16-17>17</a>
</span><span class=lnt id=hl-16-18><a class=lnlinks href=#hl-16-18>18</a>
</span><span class=lnt id=hl-16-19><a class=lnlinks href=#hl-16-19>19</a>
</span><span class=lnt id=hl-16-20><a class=lnlinks href=#hl-16-20>20</a>
</span><span class=lnt id=hl-16-21><a class=lnlinks href=#hl-16-21>21</a>
</span><span class=lnt id=hl-16-22><a class=lnlinks href=#hl-16-22>22</a>
</span><span class=lnt id=hl-16-23><a class=lnlinks href=#hl-16-23>23</a>
</span><span class=lnt id=hl-16-24><a class=lnlinks href=#hl-16-24>24</a>
</span><span class=lnt id=hl-16-25><a class=lnlinks href=#hl-16-25>25</a>
</span><span class=lnt id=hl-16-26><a class=lnlinks href=#hl-16-26>26</a>
</span><span class=lnt id=hl-16-27><a class=lnlinks href=#hl-16-27>27</a>
</span><span class=lnt id=hl-16-28><a class=lnlinks href=#hl-16-28>28</a>
</span><span class=lnt id=hl-16-29><a class=lnlinks href=#hl-16-29>29</a>
</span><span class=lnt id=hl-16-30><a class=lnlinks href=#hl-16-30>30</a>
</span><span class=lnt id=hl-16-31><a class=lnlinks href=#hl-16-31>31</a>
</span><span class=lnt id=hl-16-32><a class=lnlinks href=#hl-16-32>32</a>
</span><span class=lnt id=hl-16-33><a class=lnlinks href=#hl-16-33>33</a>
</span><span class=lnt id=hl-16-34><a class=lnlinks href=#hl-16-34>34</a>
</span><span class=lnt id=hl-16-35><a class=lnlinks href=#hl-16-35>35</a>
</span><span class=lnt id=hl-16-36><a class=lnlinks href=#hl-16-36>36</a>
</span><span class=lnt id=hl-16-37><a class=lnlinks href=#hl-16-37>37</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-groovy data-lang=groovy><span class=line><span class=cl><span class=c1>// Groovy DSL로 작성된 계약
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>Contract</span><span class=o>.</span><span class=na>make</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>description</span> <span class=s2>&#34;주문 생성 요청 시 주문 정보 반환&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>request</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>method</span> <span class=nf>POST</span><span class=o>()</span>
</span></span><span class=line><span class=cl>        <span class=n>url</span> <span class=s2>&#34;/api/v1/orders&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>body</span><span class=o>([</span>
</span></span><span class=line><span class=cl>            <span class=nl>customerId:</span> <span class=mi>12345</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=nl>items:</span> <span class=o>[</span>
</span></span><span class=line><span class=cl>                <span class=o>[</span><span class=nl>productId:</span> <span class=mi>1</span><span class=o>,</span> <span class=nl>quantity:</span> <span class=mi>2</span><span class=o>],</span>
</span></span><span class=line><span class=cl>                <span class=o>[</span><span class=nl>productId:</span> <span class=mi>3</span><span class=o>,</span> <span class=nl>quantity:</span> <span class=mi>1</span><span class=o>]</span>
</span></span><span class=line><span class=cl>            <span class=o>],</span>
</span></span><span class=line><span class=cl>            <span class=nl>shippingAddress:</span> <span class=o>[</span>
</span></span><span class=line><span class=cl>                <span class=nl>street:</span> <span class=s2>&#34;123 Main St&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>                <span class=nl>city:</span> <span class=s2>&#34;Seoul&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>                <span class=nl>zipCode:</span> <span class=s2>&#34;12345&#34;</span>
</span></span><span class=line><span class=cl>            <span class=o>]</span>
</span></span><span class=line><span class=cl>        <span class=o>])</span>
</span></span><span class=line><span class=cl>        <span class=n>headers</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>contentType</span><span class=o>(</span><span class=s1>&#39;application/json&#39;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>response</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>status</span> <span class=mi>201</span>
</span></span><span class=line><span class=cl>        <span class=n>body</span><span class=o>([</span>
</span></span><span class=line><span class=cl>            <span class=nl>orderId:</span> <span class=n>$</span><span class=o>(</span><span class=n>consumer</span><span class=o>(</span><span class=n>anyNumber</span><span class=o>()),</span> <span class=n>producer</span><span class=o>(</span><span class=mi>1001</span><span class=o>)),</span>
</span></span><span class=line><span class=cl>            <span class=nl>status:</span> <span class=s2>&#34;CREATED&#34;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>            <span class=nl>totalAmount:</span> <span class=n>$</span><span class=o>(</span><span class=n>consumer</span><span class=o>(</span><span class=n>anyNumber</span><span class=o>()),</span> <span class=n>producer</span><span class=o>(</span><span class=mf>45.98</span><span class=o>))</span>
</span></span><span class=line><span class=cl>        <span class=o>])</span>
</span></span><span class=line><span class=cl>        <span class=n>headers</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>contentType</span><span class=o>(</span><span class=s1>&#39;application/json&#39;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>            <span class=n>header</span><span class=o>(</span><span class=s1>&#39;Location&#39;</span><span class=o>,</span> <span class=n>$</span><span class=o>(</span><span class=n>consumer</span><span class=o>(</span><span class=n>anyUrl</span><span class=o>()),</span> <span class=n>producer</span><span class=o>(</span><span class=s1>&#39;/api/v1/orders/1001&#39;</span><span class=o>)))</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=마이크로서비스-아키텍처의-설계-원칙>마이크로서비스 아키텍처의 설계 원칙<a hidden class=anchor aria-hidden=true href=#마이크로서비스-아키텍처의-설계-원칙>#</a></h3><p>마이크로서비스 기반 API 를 설계할 때 고려해야 할 핵심 원칙들이다.</p><h4 id=도메인-주도-설계-ddd>도메인 주도 설계 (DDD)<a hidden class=anchor aria-hidden=true href=#도메인-주도-설계-ddd>#</a></h4><p>마이크로서비스 경계를 정의하는 가장 효과적인 방법 중 하나는 비즈니스 도메인을 기반으로 하는 것이다. 도메인 주도 설계는 이러한 접근 방식을 제공한다.</p><p><strong>핵심 개념:</strong></p><ul><li><strong>바운디드 컨텍스트 (Bounded Context)</strong>: 특정 도메인 모델이 적용되는 명확한 경계</li><li><strong>컨텍스트 맵 (Context Map)</strong>: 다양한 바운디드 컨텍스트와 그 관계를 시각화</li><li><strong>공유 커널 (Shared Kernel)</strong>: 여러 바운디드 컨텍스트 간에 공유되는 모델 부분</li><li><strong>안티코럽션 계층 (Anticorruption Layer)</strong>: 서로 다른 모델 간의 변환을 담당</li></ul><h4 id=api-우선-설계-api-first-design>API 우선 설계 (API-First Design)<a hidden class=anchor aria-hidden=true href=#api-우선-설계-api-first-design>#</a></h4><p>API 를 구현하기 전에 API 를 먼저 설계하는 접근 방식으로, 클라이언트와 서버 개발 팀이 독립적으로 작업할 수 있게 한다.</p><p><strong>프로세스:</strong></p><ol><li>API 명세 작성 (OpenAPI/Swagger 등)</li><li>API 계약에 대한 이해관계자 동의 확보</li><li>모의 서버 (Mock Server) 생성으로 병렬 개발 지원</li><li>API 구현 및 계약 테스트</li></ol><p><strong>OpenAPI 명세 예시:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1> 1</a>
</span><span class=lnt id=hl-17-2><a class=lnlinks href=#hl-17-2> 2</a>
</span><span class=lnt id=hl-17-3><a class=lnlinks href=#hl-17-3> 3</a>
</span><span class=lnt id=hl-17-4><a class=lnlinks href=#hl-17-4> 4</a>
</span><span class=lnt id=hl-17-5><a class=lnlinks href=#hl-17-5> 5</a>
</span><span class=lnt id=hl-17-6><a class=lnlinks href=#hl-17-6> 6</a>
</span><span class=lnt id=hl-17-7><a class=lnlinks href=#hl-17-7> 7</a>
</span><span class=lnt id=hl-17-8><a class=lnlinks href=#hl-17-8> 8</a>
</span><span class=lnt id=hl-17-9><a class=lnlinks href=#hl-17-9> 9</a>
</span><span class=lnt id=hl-17-10><a class=lnlinks href=#hl-17-10>10</a>
</span><span class=lnt id=hl-17-11><a class=lnlinks href=#hl-17-11>11</a>
</span><span class=lnt id=hl-17-12><a class=lnlinks href=#hl-17-12>12</a>
</span><span class=lnt id=hl-17-13><a class=lnlinks href=#hl-17-13>13</a>
</span><span class=lnt id=hl-17-14><a class=lnlinks href=#hl-17-14>14</a>
</span><span class=lnt id=hl-17-15><a class=lnlinks href=#hl-17-15>15</a>
</span><span class=lnt id=hl-17-16><a class=lnlinks href=#hl-17-16>16</a>
</span><span class=lnt id=hl-17-17><a class=lnlinks href=#hl-17-17>17</a>
</span><span class=lnt id=hl-17-18><a class=lnlinks href=#hl-17-18>18</a>
</span><span class=lnt id=hl-17-19><a class=lnlinks href=#hl-17-19>19</a>
</span><span class=lnt id=hl-17-20><a class=lnlinks href=#hl-17-20>20</a>
</span><span class=lnt id=hl-17-21><a class=lnlinks href=#hl-17-21>21</a>
</span><span class=lnt id=hl-17-22><a class=lnlinks href=#hl-17-22>22</a>
</span><span class=lnt id=hl-17-23><a class=lnlinks href=#hl-17-23>23</a>
</span><span class=lnt id=hl-17-24><a class=lnlinks href=#hl-17-24>24</a>
</span><span class=lnt id=hl-17-25><a class=lnlinks href=#hl-17-25>25</a>
</span><span class=lnt id=hl-17-26><a class=lnlinks href=#hl-17-26>26</a>
</span><span class=lnt id=hl-17-27><a class=lnlinks href=#hl-17-27>27</a>
</span><span class=lnt id=hl-17-28><a class=lnlinks href=#hl-17-28>28</a>
</span><span class=lnt id=hl-17-29><a class=lnlinks href=#hl-17-29>29</a>
</span><span class=lnt id=hl-17-30><a class=lnlinks href=#hl-17-30>30</a>
</span><span class=lnt id=hl-17-31><a class=lnlinks href=#hl-17-31>31</a>
</span><span class=lnt id=hl-17-32><a class=lnlinks href=#hl-17-32>32</a>
</span><span class=lnt id=hl-17-33><a class=lnlinks href=#hl-17-33>33</a>
</span><span class=lnt id=hl-17-34><a class=lnlinks href=#hl-17-34>34</a>
</span><span class=lnt id=hl-17-35><a class=lnlinks href=#hl-17-35>35</a>
</span><span class=lnt id=hl-17-36><a class=lnlinks href=#hl-17-36>36</a>
</span><span class=lnt id=hl-17-37><a class=lnlinks href=#hl-17-37>37</a>
</span><span class=lnt id=hl-17-38><a class=lnlinks href=#hl-17-38>38</a>
</span><span class=lnt id=hl-17-39><a class=lnlinks href=#hl-17-39>39</a>
</span><span class=lnt id=hl-17-40><a class=lnlinks href=#hl-17-40>40</a>
</span><span class=lnt id=hl-17-41><a class=lnlinks href=#hl-17-41>41</a>
</span><span class=lnt id=hl-17-42><a class=lnlinks href=#hl-17-42>42</a>
</span><span class=lnt id=hl-17-43><a class=lnlinks href=#hl-17-43>43</a>
</span><span class=lnt id=hl-17-44><a class=lnlinks href=#hl-17-44>44</a>
</span><span class=lnt id=hl-17-45><a class=lnlinks href=#hl-17-45>45</a>
</span><span class=lnt id=hl-17-46><a class=lnlinks href=#hl-17-46>46</a>
</span><span class=lnt id=hl-17-47><a class=lnlinks href=#hl-17-47>47</a>
</span><span class=lnt id=hl-17-48><a class=lnlinks href=#hl-17-48>48</a>
</span><span class=lnt id=hl-17-49><a class=lnlinks href=#hl-17-49>49</a>
</span><span class=lnt id=hl-17-50><a class=lnlinks href=#hl-17-50>50</a>
</span><span class=lnt id=hl-17-51><a class=lnlinks href=#hl-17-51>51</a>
</span><span class=lnt id=hl-17-52><a class=lnlinks href=#hl-17-52>52</a>
</span><span class=lnt id=hl-17-53><a class=lnlinks href=#hl-17-53>53</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>openapi</span><span class=p>:</span><span class=w> </span><span class=m>3.0.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>info</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>주문 API</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>1.0.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>주문 관리 마이크로서비스 API</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>/orders</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>post</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=l>새 주문 생성</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>requestBody</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>content</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>application/json</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>schema</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>$ref</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;#/components/schemas/OrderRequest&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>responses</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>&#39;201&#39;</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>주문 생성 성공</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>headers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>Location</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>schema</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>생성된 주문 리소스 URL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>content</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>application/json</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>schema</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>$ref</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;#/components/schemas/OrderResponse&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>components</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>schemas</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>OrderRequest</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>object</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>required</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>customerId</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>items</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>properties</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>customerId</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>integer</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>items</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>array</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>items</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>$ref</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;#/components/schemas/OrderItem&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>shippingAddress</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>$ref</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;#/components/schemas/Address&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>OrderItem</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>object</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>required</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>productId</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>quantity</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>properties</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>productId</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>integer</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>quantity</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>integer</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>minimum</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=자율성과-느슨한-결합>자율성과 느슨한 결합<a hidden class=anchor aria-hidden=true href=#자율성과-느슨한-결합>#</a></h4><p>마이크로서비스의 핵심 가치 중 하나는 서비스 팀의 자율성이다. 이를 위해 서비스 간의 느슨한 결합이 필수적이다.</p><p><strong>원칙:</strong></p><ul><li>동기적 호출 최소화</li><li>API 버전 관리 전략 수립</li><li>공유 데이터베이스 지양</li><li>비동기 통신 활용</li><li>서비스별 독립적인 배포 파이프라인 구축</li></ul><h4 id=내결함성-설계>내결함성 설계<a hidden class=anchor aria-hidden=true href=#내결함성-설계>#</a></h4><p>분산 시스템에서는 네트워크 지연, 서비스 장애 등 다양한 장애 상황이 발생할 수 있다. 마이크로서비스는 이러한 장애에 대비한 설계가 필요하다.</p><p><strong>패턴:</strong></p><ul><li><strong>서킷 브레이커 (Circuit Breaker)</strong>: 장애 서비스로의 호출을 차단하여 시스템 보호</li><li><strong>타임아웃 (Timeout)</strong>: 응답 지연에 대한 방어 메커니즘</li><li><strong>재시도 (Retry)</strong>: 일시적 장애에 대응하기 위한 자동 재시도</li><li><strong>폴백 (Fallback)</strong>: 서비스 호출 실패 시 대체 응답 제공</li><li><strong>벌크헤드 (Bulkhead)</strong>: 장애 격리를 위한 리소스 할당 제한</li></ul><p><strong>Java(Spring Cloud Circuit Breaker) 구현 예시:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1> 1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2> 2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3> 3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4> 4</a>
</span><span class=lnt id=hl-18-5><a class=lnlinks href=#hl-18-5> 5</a>
</span><span class=lnt id=hl-18-6><a class=lnlinks href=#hl-18-6> 6</a>
</span><span class=lnt id=hl-18-7><a class=lnlinks href=#hl-18-7> 7</a>
</span><span class=lnt id=hl-18-8><a class=lnlinks href=#hl-18-8> 8</a>
</span><span class=lnt id=hl-18-9><a class=lnlinks href=#hl-18-9> 9</a>
</span><span class=lnt id=hl-18-10><a class=lnlinks href=#hl-18-10>10</a>
</span><span class=lnt id=hl-18-11><a class=lnlinks href=#hl-18-11>11</a>
</span><span class=lnt id=hl-18-12><a class=lnlinks href=#hl-18-12>12</a>
</span><span class=lnt id=hl-18-13><a class=lnlinks href=#hl-18-13>13</a>
</span><span class=lnt id=hl-18-14><a class=lnlinks href=#hl-18-14>14</a>
</span><span class=lnt id=hl-18-15><a class=lnlinks href=#hl-18-15>15</a>
</span><span class=lnt id=hl-18-16><a class=lnlinks href=#hl-18-16>16</a>
</span><span class=lnt id=hl-18-17><a class=lnlinks href=#hl-18-17>17</a>
</span><span class=lnt id=hl-18-18><a class=lnlinks href=#hl-18-18>18</a>
</span><span class=lnt id=hl-18-19><a class=lnlinks href=#hl-18-19>19</a>
</span><span class=lnt id=hl-18-20><a class=lnlinks href=#hl-18-20>20</a>
</span><span class=lnt id=hl-18-21><a class=lnlinks href=#hl-18-21>21</a>
</span><span class=lnt id=hl-18-22><a class=lnlinks href=#hl-18-22>22</a>
</span><span class=lnt id=hl-18-23><a class=lnlinks href=#hl-18-23>23</a>
</span><span class=lnt id=hl-18-24><a class=lnlinks href=#hl-18-24>24</a>
</span><span class=lnt id=hl-18-25><a class=lnlinks href=#hl-18-25>25</a>
</span><span class=lnt id=hl-18-26><a class=lnlinks href=#hl-18-26>26</a>
</span><span class=lnt id=hl-18-27><a class=lnlinks href=#hl-18-27>27</a>
</span><span class=lnt id=hl-18-28><a class=lnlinks href=#hl-18-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>ProductServiceClient</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>RestTemplate</span><span class=w> </span><span class=n>restTemplate</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>CircuitBreakerFactory</span><span class=w> </span><span class=n>circuitBreakerFactory</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Autowired</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>ProductServiceClient</span><span class=p>(</span><span class=n>RestTemplate</span><span class=w> </span><span class=n>restTemplate</span><span class=p>,</span><span class=w> </span><span class=n>CircuitBreakerFactory</span><span class=w> </span><span class=n>circuitBreakerFactory</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>restTemplate</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>restTemplate</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>circuitBreakerFactory</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>circuitBreakerFactory</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>ProductDTO</span><span class=w> </span><span class=nf>getProduct</span><span class=p>(</span><span class=n>Long</span><span class=w> </span><span class=n>productId</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>CircuitBreaker</span><span class=w> </span><span class=n>circuitBreaker</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>circuitBreakerFactory</span><span class=p>.</span><span class=na>create</span><span class=p>(</span><span class=s>&#34;productService&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>circuitBreaker</span><span class=p>.</span><span class=na>run</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>restTemplate</span><span class=p>.</span><span class=na>getForObject</span><span class=p>(</span><span class=s>&#34;http://product-service/api/v1/products/{id}&#34;</span><span class=p>,</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>                   </span><span class=n>ProductDTO</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> </span><span class=n>productId</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>throwable</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>getProductFallback</span><span class=p>(</span><span class=n>productId</span><span class=p>,</span><span class=w> </span><span class=n>throwable</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>ProductDTO</span><span class=w> </span><span class=nf>getProductFallback</span><span class=p>(</span><span class=n>Long</span><span class=w> </span><span class=n>productId</span><span class=p>,</span><span class=w> </span><span class=n>Throwable</span><span class=w> </span><span class=n>throwable</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>log</span><span class=p>.</span><span class=na>warn</span><span class=p>(</span><span class=s>&#34;Product service call failed for product {}: {}&#34;</span><span class=p>,</span><span class=w> </span><span class=n>productId</span><span class=p>,</span><span class=w> </span><span class=n>throwable</span><span class=p>.</span><span class=na>getMessage</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 캐시된 데이터 반환 또는 기본 데이터 생성</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ProductDTO</span><span class=p>(</span><span class=n>productId</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Unknown Product&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;No description available&#34;</span><span class=p>,</span><span class=w> </span><span class=n>0</span><span class=p>.</span><span class=na>0</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=마이크로서비스-아키텍처의-구현-도전과제>마이크로서비스 아키텍처의 구현 도전과제<a hidden class=anchor aria-hidden=true href=#마이크로서비스-아키텍처의-구현-도전과제>#</a></h3><p>마이크로서비스 아키텍처는 많은 이점을 제공하지만, 구현 과정에서 다양한 도전과제가 발생한다.</p><h4 id=분산-데이터-관리>분산 데이터 관리<a hidden class=anchor aria-hidden=true href=#분산-데이터-관리>#</a></h4><p>각 마이크로서비스가 자체 데이터베이스를 가질 경우, 데이터 일관성과 트랜잭션 관리가 복잡해진다.</p><p><strong>해결 전략:</strong></p><ul><li><strong>사가 (Saga) 패턴</strong>: 분산 트랜잭션 관리를 위한 패턴</li><li><strong>이벤트 소싱 (Event Sourcing)</strong>: 이벤트 기반 상태 변경 추적</li><li><strong>CQRS(Command Query Responsibility Segregation)</strong>: 읽기와 쓰기 모델 분리</li><li><strong>데이터 복제 (Replication)</strong>: 필요한 데이터를 서비스 간에 복제</li></ul><p><strong>사가 패턴 구현 예시:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1> 1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2> 2</a>
</span><span class=lnt id=hl-19-3><a class=lnlinks href=#hl-19-3> 3</a>
</span><span class=lnt id=hl-19-4><a class=lnlinks href=#hl-19-4> 4</a>
</span><span class=lnt id=hl-19-5><a class=lnlinks href=#hl-19-5> 5</a>
</span><span class=lnt id=hl-19-6><a class=lnlinks href=#hl-19-6> 6</a>
</span><span class=lnt id=hl-19-7><a class=lnlinks href=#hl-19-7> 7</a>
</span><span class=lnt id=hl-19-8><a class=lnlinks href=#hl-19-8> 8</a>
</span><span class=lnt id=hl-19-9><a class=lnlinks href=#hl-19-9> 9</a>
</span><span class=lnt id=hl-19-10><a class=lnlinks href=#hl-19-10>10</a>
</span><span class=lnt id=hl-19-11><a class=lnlinks href=#hl-19-11>11</a>
</span><span class=lnt id=hl-19-12><a class=lnlinks href=#hl-19-12>12</a>
</span><span class=lnt id=hl-19-13><a class=lnlinks href=#hl-19-13>13</a>
</span><span class=lnt id=hl-19-14><a class=lnlinks href=#hl-19-14>14</a>
</span><span class=lnt id=hl-19-15><a class=lnlinks href=#hl-19-15>15</a>
</span><span class=lnt id=hl-19-16><a class=lnlinks href=#hl-19-16>16</a>
</span><span class=lnt id=hl-19-17><a class=lnlinks href=#hl-19-17>17</a>
</span><span class=lnt id=hl-19-18><a class=lnlinks href=#hl-19-18>18</a>
</span><span class=lnt id=hl-19-19><a class=lnlinks href=#hl-19-19>19</a>
</span><span class=lnt id=hl-19-20><a class=lnlinks href=#hl-19-20>20</a>
</span><span class=lnt id=hl-19-21><a class=lnlinks href=#hl-19-21>21</a>
</span><span class=lnt id=hl-19-22><a class=lnlinks href=#hl-19-22>22</a>
</span><span class=lnt id=hl-19-23><a class=lnlinks href=#hl-19-23>23</a>
</span><span class=lnt id=hl-19-24><a class=lnlinks href=#hl-19-24>24</a>
</span><span class=lnt id=hl-19-25><a class=lnlinks href=#hl-19-25>25</a>
</span><span class=lnt id=hl-19-26><a class=lnlinks href=#hl-19-26>26</a>
</span><span class=lnt id=hl-19-27><a class=lnlinks href=#hl-19-27>27</a>
</span><span class=lnt id=hl-19-28><a class=lnlinks href=#hl-19-28>28</a>
</span><span class=lnt id=hl-19-29><a class=lnlinks href=#hl-19-29>29</a>
</span><span class=lnt id=hl-19-30><a class=lnlinks href=#hl-19-30>30</a>
</span><span class=lnt id=hl-19-31><a class=lnlinks href=#hl-19-31>31</a>
</span><span class=lnt id=hl-19-32><a class=lnlinks href=#hl-19-32>32</a>
</span><span class=lnt id=hl-19-33><a class=lnlinks href=#hl-19-33>33</a>
</span><span class=lnt id=hl-19-34><a class=lnlinks href=#hl-19-34>34</a>
</span><span class=lnt id=hl-19-35><a class=lnlinks href=#hl-19-35>35</a>
</span><span class=lnt id=hl-19-36><a class=lnlinks href=#hl-19-36>36</a>
</span><span class=lnt id=hl-19-37><a class=lnlinks href=#hl-19-37>37</a>
</span><span class=lnt id=hl-19-38><a class=lnlinks href=#hl-19-38>38</a>
</span><span class=lnt id=hl-19-39><a class=lnlinks href=#hl-19-39>39</a>
</span><span class=lnt id=hl-19-40><a class=lnlinks href=#hl-19-40>40</a>
</span><span class=lnt id=hl-19-41><a class=lnlinks href=#hl-19-41>41</a>
</span><span class=lnt id=hl-19-42><a class=lnlinks href=#hl-19-42>42</a>
</span><span class=lnt id=hl-19-43><a class=lnlinks href=#hl-19-43>43</a>
</span><span class=lnt id=hl-19-44><a class=lnlinks href=#hl-19-44>44</a>
</span><span class=lnt id=hl-19-45><a class=lnlinks href=#hl-19-45>45</a>
</span><span class=lnt id=hl-19-46><a class=lnlinks href=#hl-19-46>46</a>
</span><span class=lnt id=hl-19-47><a class=lnlinks href=#hl-19-47>47</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>OrderSaga</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>OrderService</span><span class=w> </span><span class=n>orderService</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>PaymentService</span><span class=w> </span><span class=n>paymentService</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>InventoryService</span><span class=w> </span><span class=n>inventoryService</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>ShippingService</span><span class=w> </span><span class=n>shippingService</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>SagaEventPublisher</span><span class=w> </span><span class=n>eventPublisher</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Transactional</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>createOrder</span><span class=p>(</span><span class=n>OrderRequest</span><span class=w> </span><span class=n>request</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 1. 주문 생성</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Order</span><span class=w> </span><span class=n>order</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>orderService</span><span class=p>.</span><span class=na>createOrder</span><span class=p>(</span><span class=n>request</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>try</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 2. 재고 확인 및 예약</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>inventoryService</span><span class=p>.</span><span class=na>reserveInventory</span><span class=p>(</span><span class=n>order</span><span class=p>.</span><span class=na>getItems</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 3. 결제 처리</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>Payment</span><span class=w> </span><span class=n>payment</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>paymentService</span><span class=p>.</span><span class=na>processPayment</span><span class=p>(</span><span class=n>order</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>payment</span><span class=p>.</span><span class=na>isSuccessful</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=c1>// 4. 배송 정보 생성</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>shippingService</span><span class=p>.</span><span class=na>createShipment</span><span class=p>(</span><span class=n>order</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=c1>// 5. 주문 완료 처리</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>orderService</span><span class=p>.</span><span class=na>completeOrder</span><span class=p>(</span><span class=n>order</span><span class=p>.</span><span class=na>getId</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=c1>// 성공 이벤트 발행</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>eventPublisher</span><span class=p>.</span><span class=na>publish</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>OrderCompletedEvent</span><span class=p>(</span><span class=n>order</span><span class=p>.</span><span class=na>getId</span><span class=p>()));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=c1>// 결제 실패 - 보상 트랜잭션</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>inventoryService</span><span class=p>.</span><span class=na>releaseInventory</span><span class=p>(</span><span class=n>order</span><span class=p>.</span><span class=na>getItems</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>orderService</span><span class=p>.</span><span class=na>cancelOrder</span><span class=p>(</span><span class=n>order</span><span class=p>.</span><span class=na>getId</span><span class=p>(),</span><span class=w> </span><span class=s>&#34;Payment failed&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>eventPublisher</span><span class=p>.</span><span class=na>publish</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>OrderFailedEvent</span><span class=p>(</span><span class=n>order</span><span class=p>.</span><span class=na>getId</span><span class=p>(),</span><span class=w> </span><span class=s>&#34;Payment failed&#34;</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>InventoryException</span><span class=w> </span><span class=n>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 재고 부족 - 주문 취소</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>orderService</span><span class=p>.</span><span class=na>cancelOrder</span><span class=p>(</span><span class=n>order</span><span class=p>.</span><span class=na>getId</span><span class=p>(),</span><span class=w> </span><span class=s>&#34;Insufficient inventory&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>eventPublisher</span><span class=p>.</span><span class=na>publish</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>OrderFailedEvent</span><span class=p>(</span><span class=n>order</span><span class=p>.</span><span class=na>getId</span><span class=p>(),</span><span class=w> </span><span class=s>&#34;Insufficient inventory&#34;</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>Exception</span><span class=w> </span><span class=n>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 기타 오류 - 보상 트랜잭션</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>inventoryService</span><span class=p>.</span><span class=na>releaseInventory</span><span class=p>(</span><span class=n>order</span><span class=p>.</span><span class=na>getItems</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>orderService</span><span class=p>.</span><span class=na>cancelOrder</span><span class=p>(</span><span class=n>order</span><span class=p>.</span><span class=na>getId</span><span class=p>(),</span><span class=w> </span><span class=n>e</span><span class=p>.</span><span class=na>getMessage</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>eventPublisher</span><span class=p>.</span><span class=na>publish</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>OrderFailedEvent</span><span class=p>(</span><span class=n>order</span><span class=p>.</span><span class=na>getId</span><span class=p>(),</span><span class=w> </span><span class=n>e</span><span class=p>.</span><span class=na>getMessage</span><span class=p>()));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=분산-시스템-모니터링>분산 시스템 모니터링<a hidden class=anchor aria-hidden=true href=#분산-시스템-모니터링>#</a></h4><p>마이크로서비스 환경에서는 수많은 서비스와 복잡한 상호작용으로 인해 모니터링과 문제 해결이 어려워진다.</p><p><strong>해결 전략:</strong></p><ul><li><strong>집중화된 로깅 (Centralized Logging)</strong>: 모든 서비스의 로그를 중앙 집중화</li><li><strong>분산 추적 (Distributed Tracing)</strong>: 서비스 간 요청 흐름 추적</li><li><strong>헬스 체크 (Health Checks)</strong>: 서비스 상태 모니터링</li><li><strong>메트릭 수집 (Metrics Collection)</strong>: 성능 및 리소스 사용량 모니터링</li></ul><p><strong>분산 추적 구현 예시 (Spring Cloud Sleuth + Zipkin):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-20-1><a class=lnlinks href=#hl-20-1> 1</a>
</span><span class=lnt id=hl-20-2><a class=lnlinks href=#hl-20-2> 2</a>
</span><span class=lnt id=hl-20-3><a class=lnlinks href=#hl-20-3> 3</a>
</span><span class=lnt id=hl-20-4><a class=lnlinks href=#hl-20-4> 4</a>
</span><span class=lnt id=hl-20-5><a class=lnlinks href=#hl-20-5> 5</a>
</span><span class=lnt id=hl-20-6><a class=lnlinks href=#hl-20-6> 6</a>
</span><span class=lnt id=hl-20-7><a class=lnlinks href=#hl-20-7> 7</a>
</span><span class=lnt id=hl-20-8><a class=lnlinks href=#hl-20-8> 8</a>
</span><span class=lnt id=hl-20-9><a class=lnlinks href=#hl-20-9> 9</a>
</span><span class=lnt id=hl-20-10><a class=lnlinks href=#hl-20-10>10</a>
</span><span class=lnt id=hl-20-11><a class=lnlinks href=#hl-20-11>11</a>
</span><span class=lnt id=hl-20-12><a class=lnlinks href=#hl-20-12>12</a>
</span><span class=lnt id=hl-20-13><a class=lnlinks href=#hl-20-13>13</a>
</span><span class=lnt id=hl-20-14><a class=lnlinks href=#hl-20-14>14</a>
</span><span class=lnt id=hl-20-15><a class=lnlinks href=#hl-20-15>15</a>
</span><span class=lnt id=hl-20-16><a class=lnlinks href=#hl-20-16>16</a>
</span><span class=lnt id=hl-20-17><a class=lnlinks href=#hl-20-17>17</a>
</span><span class=lnt id=hl-20-18><a class=lnlinks href=#hl-20-18>18</a>
</span><span class=lnt id=hl-20-19><a class=lnlinks href=#hl-20-19>19</a>
</span><span class=lnt id=hl-20-20><a class=lnlinks href=#hl-20-20>20</a>
</span><span class=lnt id=hl-20-21><a class=lnlinks href=#hl-20-21>21</a>
</span><span class=lnt id=hl-20-22><a class=lnlinks href=#hl-20-22>22</a>
</span><span class=lnt id=hl-20-23><a class=lnlinks href=#hl-20-23>23</a>
</span><span class=lnt id=hl-20-24><a class=lnlinks href=#hl-20-24>24</a>
</span><span class=lnt id=hl-20-25><a class=lnlinks href=#hl-20-25>25</a>
</span><span class=lnt id=hl-20-26><a class=lnlinks href=#hl-20-26>26</a>
</span><span class=lnt id=hl-20-27><a class=lnlinks href=#hl-20-27>27</a>
</span><span class=lnt id=hl-20-28><a class=lnlinks href=#hl-20-28>28</a>
</span><span class=lnt id=hl-20-29><a class=lnlinks href=#hl-20-29>29</a>
</span><span class=lnt id=hl-20-30><a class=lnlinks href=#hl-20-30>30</a>
</span><span class=lnt id=hl-20-31><a class=lnlinks href=#hl-20-31>31</a>
</span><span class=lnt id=hl-20-32><a class=lnlinks href=#hl-20-32>32</a>
</span><span class=lnt id=hl-20-33><a class=lnlinks href=#hl-20-33>33</a>
</span><span class=lnt id=hl-20-34><a class=lnlinks href=#hl-20-34>34</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@RestController</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@RequestMapping</span><span class=p>(</span><span class=s>&#34;/api/v1/orders&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>OrderController</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>OrderService</span><span class=w> </span><span class=n>orderService</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>RestTemplate</span><span class=w> </span><span class=n>restTemplate</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>Tracer</span><span class=w> </span><span class=n>tracer</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Autowired</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>OrderController</span><span class=p>(</span><span class=n>OrderService</span><span class=w> </span><span class=n>orderService</span><span class=p>,</span><span class=w> </span><span class=n>RestTemplate</span><span class=w> </span><span class=n>restTemplate</span><span class=p>,</span><span class=w> </span><span class=n>Tracer</span><span class=w> </span><span class=n>tracer</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>orderService</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>orderService</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>restTemplate</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>restTemplate</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>tracer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>tracer</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@PostMapping</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>ResponseEntity</span><span class=o>&lt;</span><span class=n>OrderResponse</span><span class=o>&gt;</span><span class=w> </span><span class=nf>createOrder</span><span class=p>(</span><span class=nd>@RequestBody</span><span class=w> </span><span class=n>OrderRequest</span><span class=w> </span><span class=n>request</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Span</span><span class=w> </span><span class=n>span</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>tracer</span><span class=p>.</span><span class=na>currentSpan</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>span</span><span class=p>.</span><span class=na>tag</span><span class=p>(</span><span class=s>&#34;customer.id&#34;</span><span class=p>,</span><span class=w> </span><span class=n>request</span><span class=p>.</span><span class=na>getCustomerId</span><span class=p>().</span><span class=na>toString</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>span</span><span class=p>.</span><span class=na>tag</span><span class=p>(</span><span class=s>&#34;order.items.count&#34;</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=p>.</span><span class=na>valueOf</span><span class=p>(</span><span class=n>request</span><span class=p>.</span><span class=na>getItems</span><span class=p>().</span><span class=na>size</span><span class=p>()));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>log</span><span class=p>.</span><span class=na>info</span><span class=p>(</span><span class=s>&#34;Creating new order for customer: {}&#34;</span><span class=p>,</span><span class=w> </span><span class=n>request</span><span class=p>.</span><span class=na>getCustomerId</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Order</span><span class=w> </span><span class=n>order</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>orderService</span><span class=p>.</span><span class=na>createOrder</span><span class=p>(</span><span class=n>request</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 추적 ID 로그 출력</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>log</span><span class=p>.</span><span class=na>info</span><span class=p>(</span><span class=s>&#34;Order created with ID: {}, Trace ID: {}&#34;</span><span class=p>,</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>order</span><span class=p>.</span><span class=na>getId</span><span class=p>(),</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>span</span><span class=p>.</span><span class=na>context</span><span class=p>().</span><span class=na>traceIdString</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>ResponseEntity</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>.</span><span class=na>created</span><span class=p>(</span><span class=n>URI</span><span class=p>.</span><span class=na>create</span><span class=p>(</span><span class=s>&#34;/api/v1/orders/&#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>order</span><span class=p>.</span><span class=na>getId</span><span class=p>()))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>.</span><span class=na>body</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>OrderResponse</span><span class=p>(</span><span class=n>order</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=서비스-검색-및-구성-관리>서비스 검색 및 구성 관리<a hidden class=anchor aria-hidden=true href=#서비스-검색-및-구성-관리>#</a></h4><p>수십 또는 수백 개의 서비스가 존재하는 환경에서 서비스의 위치를 동적으로 찾고 구성을 관리하는 것은 중요한 과제이다.</p><p><strong>해결 전략:</strong></p><ul><li><strong>서비스 레지스트리 (Service Registry)</strong>: 서비스 인스턴스의 등록 및 검색</li><li><strong>구성 서버 (Configuration Server)</strong>: 중앙 집중식 구성 관리</li><li><strong>클라이언트 측 로드 밸런싱 (Client-Side Load Balancing)</strong>: 클라이언트에서 서비스 인스턴스 선택</li></ul><p><strong>Spring Cloud Netflix 예시:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1> 1</a>
</span><span class=lnt id=hl-21-2><a class=lnlinks href=#hl-21-2> 2</a>
</span><span class=lnt id=hl-21-3><a class=lnlinks href=#hl-21-3> 3</a>
</span><span class=lnt id=hl-21-4><a class=lnlinks href=#hl-21-4> 4</a>
</span><span class=lnt id=hl-21-5><a class=lnlinks href=#hl-21-5> 5</a>
</span><span class=lnt id=hl-21-6><a class=lnlinks href=#hl-21-6> 6</a>
</span><span class=lnt id=hl-21-7><a class=lnlinks href=#hl-21-7> 7</a>
</span><span class=lnt id=hl-21-8><a class=lnlinks href=#hl-21-8> 8</a>
</span><span class=lnt id=hl-21-9><a class=lnlinks href=#hl-21-9> 9</a>
</span><span class=lnt id=hl-21-10><a class=lnlinks href=#hl-21-10>10</a>
</span><span class=lnt id=hl-21-11><a class=lnlinks href=#hl-21-11>11</a>
</span><span class=lnt id=hl-21-12><a class=lnlinks href=#hl-21-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// application.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nl>spring</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>application</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=p>:</span><span class=w> </span><span class=n>order</span><span class=o>-</span><span class=n>service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>cloud</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>config</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=n>uri</span><span class=p>:</span><span class=w> </span><span class=n>http</span><span class=p>:</span><span class=c1>//config-server:8888</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nl>eureka</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>client</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>serviceUrl</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=n>defaultZone</span><span class=p>:</span><span class=w> </span><span class=n>http</span><span class=p>:</span><span class=c1>//eureka-server:8761/eureka/</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1> 1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2> 2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3> 3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4> 4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5> 5</a>
</span><span class=lnt id=hl-22-6><a class=lnlinks href=#hl-22-6> 6</a>
</span><span class=lnt id=hl-22-7><a class=lnlinks href=#hl-22-7> 7</a>
</span><span class=lnt id=hl-22-8><a class=lnlinks href=#hl-22-8> 8</a>
</span><span class=lnt id=hl-22-9><a class=lnlinks href=#hl-22-9> 9</a>
</span><span class=lnt id=hl-22-10><a class=lnlinks href=#hl-22-10>10</a>
</span><span class=lnt id=hl-22-11><a class=lnlinks href=#hl-22-11>11</a>
</span><span class=lnt id=hl-22-12><a class=lnlinks href=#hl-22-12>12</a>
</span><span class=lnt id=hl-22-13><a class=lnlinks href=#hl-22-13>13</a>
</span><span class=lnt id=hl-22-14><a class=lnlinks href=#hl-22-14>14</a>
</span><span class=lnt id=hl-22-15><a class=lnlinks href=#hl-22-15>15</a>
</span><span class=lnt id=hl-22-16><a class=lnlinks href=#hl-22-16>16</a>
</span><span class=lnt id=hl-22-17><a class=lnlinks href=#hl-22-17>17</a>
</span><span class=lnt id=hl-22-18><a class=lnlinks href=#hl-22-18>18</a>
</span><span class=lnt id=hl-22-19><a class=lnlinks href=#hl-22-19>19</a>
</span><span class=lnt id=hl-22-20><a class=lnlinks href=#hl-22-20>20</a>
</span><span class=lnt id=hl-22-21><a class=lnlinks href=#hl-22-21>21</a>
</span><span class=lnt id=hl-22-22><a class=lnlinks href=#hl-22-22>22</a>
</span><span class=lnt id=hl-22-23><a class=lnlinks href=#hl-22-23>23</a>
</span><span class=lnt id=hl-22-24><a class=lnlinks href=#hl-22-24>24</a>
</span><span class=lnt id=hl-22-25><a class=lnlinks href=#hl-22-25>25</a>
</span><span class=lnt id=hl-22-26><a class=lnlinks href=#hl-22-26>26</a>
</span><span class=lnt id=hl-22-27><a class=lnlinks href=#hl-22-27>27</a>
</span><span class=lnt id=hl-22-28><a class=lnlinks href=#hl-22-28>28</a>
</span><span class=lnt id=hl-22-29><a class=lnlinks href=#hl-22-29>29</a>
</span><span class=lnt id=hl-22-30><a class=lnlinks href=#hl-22-30>30</a>
</span><span class=lnt id=hl-22-31><a class=lnlinks href=#hl-22-31>31</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@SpringBootApplication</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@EnableDiscoveryClient</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>OrderServiceApplication</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>SpringApplication</span><span class=p>.</span><span class=na>run</span><span class=p>(</span><span class=n>OrderServiceApplication</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> </span><span class=n>args</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Bean</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@LoadBalanced</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>RestTemplate</span><span class=w> </span><span class=nf>restTemplate</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>RestTemplate</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@Service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>ProductClient</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>RestTemplate</span><span class=w> </span><span class=n>restTemplate</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Autowired</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>ProductClient</span><span class=p>(</span><span class=n>RestTemplate</span><span class=w> </span><span class=n>restTemplate</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>restTemplate</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>restTemplate</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>ProductDTO</span><span class=w> </span><span class=nf>getProduct</span><span class=p>(</span><span class=n>Long</span><span class=w> </span><span class=n>id</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 서비스 이름으로 호출 (Eureka + Ribbon)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>restTemplate</span><span class=p>.</span><span class=na>getForObject</span><span class=p>(</span><span class=s>&#34;http://product-service/api/v1/products/{id}&#34;</span><span class=p>,</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>                                         </span><span class=n>ProductDTO</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> </span><span class=n>id</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=마이크로서비스-아키텍처-도입-전략>마이크로서비스 아키텍처 도입 전략<a hidden class=anchor aria-hidden=true href=#마이크로서비스-아키텍처-도입-전략>#</a></h3><p>마이크로서비스 아키텍처로의 전환은 복잡한 과정이다. 성공적인 도입을 위한 전략적 접근이 필요하다.</p><h4 id=점진적-전환-전략>점진적 전환 전략<a hidden class=anchor aria-hidden=true href=#점진적-전환-전략>#</a></h4><p>모놀리식 애플리케이션을 한 번에 마이크로서비스로 전환하는 것은 위험하다. 점진적인 접근 방식이 더 효과적이다.</p><p><strong>주요 전략:</strong></p><ol><li><strong>스트랭글러 패턴 (Strangler Pattern)</strong>: 기존 시스템을 단계적으로 대체<ul><li>새로운 기능을 마이크로서비스로 구현</li><li>기존 기능을 점진적으로 마이크로서비스로 마이그레이션</li><li>API 게이트웨이를 사용하여 요청을 적절히 라우팅</li></ul></li><li><strong>도메인별 분해</strong>: 비즈니스 도메인을 기준으로 서비스 경계 설정<ul><li>도메인 전문가와 함께 바운디드 컨텍스트 식별</li><li>느슨하게 결합된 서비스로 분할</li></ul></li><li><strong>우선순위 설정</strong>: 가장 가치 있는 부분부터 시작<ul><li>비즈니스 가치가 높거나 변경이 잦은 영역 우선</li><li>기술적 부채가 많은 부분 고려</li></ul></li></ol><h4 id=마이크로서비스-성숙도-모델>마이크로서비스 성숙도 모델<a hidden class=anchor aria-hidden=true href=#마이크로서비스-성숙도-모델>#</a></h4><p>마이크로서비스 아키텍처로의 전환은 연속적인 여정이다. 다음과 같은 성숙도 모델을 통해 진행 상황을 추적할 수 있다.</p><p><strong>레벨 1: 기초 단계</strong></p><ul><li>REST API 구현</li><li>서비스별 독립 데이터 저장소</li><li>기본적인 CI/CD 파이프라인</li></ul><p><strong>레벨 2: 중급 단계</strong></p><ul><li>API 게이트웨이 도입</li><li>서비스 검색 메커니즘 구현</li><li>중앙 집중식 로깅 및 모니터링</li><li>컨테이너화 및 기본 오케스트레이션</li></ul><p><strong>레벨 3: 고급 단계</strong></p><ul><li>비동기 통신 패턴 구현</li><li>서비스 메시 도입</li><li>고급 배포 전략 (카나리/블루 - 그린)</li><li>자동화된 테스트 및 품질 검증</li></ul><p><strong>레벨 4: 최적화 단계</strong></p><ul><li>자가 치유 시스템</li><li>고급 보안 메커니즘</li><li>실시간 분석 및 비즈니스 인텔리전스</li><li>카오스 엔지니어링 및 회복력 테스트</li></ul><h4 id=조직-구조-및-문화-변화>조직 구조 및 문화 변화<a hidden class=anchor aria-hidden=true href=#조직-구조-및-문화-변화>#</a></h4><p>마이크로서비스는 기술적 변화뿐만 아니라 조직 구조와 문화의 변화도 요구한다.</p><p><strong>주요 변화:</strong></p><ul><li><strong>다기능 팀 구성</strong>: 서비스별로 독립적인 다기능 팀 운영</li><li><strong>DevOps 문화 채택</strong>: 개발과 운영의 협업 강화</li><li><strong>자율성과 책임</strong>: 팀에 더 많은 자율성과 책임 부여</li><li><strong>지속적인 학습</strong>: 새로운 기술과 방법론에 대한 지속적인 학습</li></ul><h3 id=마이크로서비스-api-설계-모범-사례>마이크로서비스 API 설계 모범 사례<a hidden class=anchor aria-hidden=true href=#마이크로서비스-api-설계-모범-사례>#</a></h3><p>효과적인 마이크로서비스 API 설계를 위한 모범 사례들이다.</p><h4 id=api-설계-원칙>API 설계 원칙<a hidden class=anchor aria-hidden=true href=#api-설계-원칙>#</a></h4><ul><li><strong>단순성 추구</strong>: 복잡성을 최소화하고 이해하기 쉬운 API 설계</li><li><strong>일관성 유지</strong>: 모든 서비스에서 일관된 이름 지정, 오류 처리, 인증 메커니즘 적용</li><li><strong>자체 설명적 설계</strong>: 문서 없이도 이해할 수 있는 직관적인 API</li><li><strong>점진적 개선</strong>: 필요에 따라 API 를 진화시키고 버전 관리</li><li><strong>보안 우선</strong>: 설계 단계부터 보안 고려</li></ul><h4 id=url-및-리소스-설계>URL 및 리소스 설계<a hidden class=anchor aria-hidden=true href=#url-및-리소스-설계>#</a></h4><ul><li><p><strong>리소스 중심 URL</strong>: 명사 기반의 리소스 식별자 사용</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>/customers/{id}/orders/{id}/products/{id}/reviews
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>일관된 복수형 사용</strong>: 컬렉션은 복수형, 단일 리소스는 ID 로 식별</p></li><li><p><strong>계층 구조 표현</strong>: 중첩된 리소스 관계 명확히 표현</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>/customers/{id}/addresses/{addressId}
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>쿼리 파라미터 활용</strong>: 필터링, 정렬, 페이징에 쿼리 파라미터 사용</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>/products?category=electronics&amp;sort=price&amp;page=2&amp;size=20
</span></span></code></pre></td></tr></table></div></div></li></ul><h4 id=http-메서드-활용>HTTP 메서드 활용<a hidden class=anchor aria-hidden=true href=#http-메서드-활용>#</a></h4><ul><li><strong>적절한 HTTP 메서드 사용</strong>:<ul><li>GET: 리소스 조회</li><li>POST: 리소스 생성</li><li>PUT: 리소스 전체 업데이트</li><li>PATCH: 리소스 부분 업데이트</li><li>DELETE: 리소스 삭제</li></ul></li><li><strong>멱등성 (Idempotency) 보장</strong>: GET, PUT, DELETE 는 멱등성 보장</li><li><strong>안전한 메서드 (Safe Methods)</strong>: GET 은 상태 변경 없이 안전하게 사용</li></ul><h4 id=오류-처리-및-상태-코드>오류 처리 및 상태 코드<a hidden class=anchor aria-hidden=true href=#오류-처리-및-상태-코드>#</a></h4><ul><li><p><strong>적절한 HTTP 상태 코드 사용</strong>:</p><ul><li>2xx: 성공 (200 OK, 201 Created, 204 No Content)</li><li>3xx: 리다이렉션 (301 Moved Permanently, 304 Not Modified)</li><li>4xx: 클라이언트 오류 (400 Bad Request, 401 Unauthorized, 404 Not Found)</li><li>5xx: 서버 오류 (500 Internal Server Error, 503 Service Unavailable)</li></ul></li><li><p><strong>일관된 오류 응답 형식</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>  <span class=nt>&#34;status&#34;</span><span class=p>:</span> <span class=mi>400</span><span class=p>,</span>  <span class=nt>&#34;code&#34;</span><span class=p>:</span> <span class=s2>&#34;INVALID_INPUT&#34;</span><span class=p>,</span>  <span class=nt>&#34;message&#34;</span><span class=p>:</span> <span class=s2>&#34;Invalid input parameters&#34;</span><span class=p>,</span>  <span class=nt>&#34;details&#34;</span><span class=p>:</span> <span class=p>[</span>    <span class=p>{</span>      <span class=nt>&#34;field&#34;</span><span class=p>:</span> <span class=s2>&#34;email&#34;</span><span class=p>,</span>      <span class=nt>&#34;message&#34;</span><span class=p>:</span> <span class=s2>&#34;Invalid email format&#34;</span>    <span class=p>},</span>    <span class=p>{</span>      <span class=nt>&#34;field&#34;</span><span class=p>:</span> <span class=s2>&#34;password&#34;</span><span class=p>,</span>      <span class=nt>&#34;message&#34;</span><span class=p>:</span> <span class=s2>&#34;Password must be at least 8 characters&#34;</span>    <span class=p>}</span>  <span class=p>],</span>  <span class=nt>&#34;timestamp&#34;</span><span class=p>:</span> <span class=s2>&#34;2023-03-15T08:30:45Z&#34;</span><span class=p>,</span>  <span class=nt>&#34;traceId&#34;</span><span class=p>:</span> <span class=s2>&#34;abc123def456&#34;</span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><h4 id=api-버전-관리>API 버전 관리<a hidden class=anchor aria-hidden=true href=#api-버전-관리>#</a></h4><ul><li><p><strong>URL 경로 버전 관리</strong>: 가장 단순하고 직관적인 방법</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>/api/v1/customers/api/v2/customers
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>헤더 기반 버전 관리</strong>: URL 을 깔끔하게 유지</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-28-1><a class=lnlinks href=#hl-28-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Accept: application/vnd.company.app-v1+json
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>쿼리 파라미터 버전 관리</strong>: 간단하지만 덜 RESTful</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-29-1><a class=lnlinks href=#hl-29-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>/api/customers?version=1
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>호환성 유지</strong>: 가능한 한 하위 호환성 유지</p></li><li><p><strong>버전 전환 지원</strong>: 적절한 마이그레이션 경로 제공</p></li></ul><hr><h2 id=용어-정리-3>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-3>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><hr><h2 id=참고-및-출처-3>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-3>#</a></h2></div><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Saga Pattern</h2></header><div class=entry-content><p>Saga Pattern 아래는 “Saga(사가)” 패턴에 대한 체계적이고 포괄적인 조사 결과입니다.
1. 태그 Saga-Pattern Distributed-Transactions Event-Driven-Architecture Microservices 2. 분류 구조 분석 계층 구조:
Computer Science and Engineering > Software Engineering > Design and Architecture > Architecture Styles and Patterns > Architecture Patterns > Data Management
분석 및 근거:
Saga 패턴은 마이크로서비스, 분산 시스템 환경에서 여러 서비스에 걸친 트랜잭션의 데이터 일관성을 보장하기 위한 아키텍처 패턴으로, “Architecture Styles and Patterns” 하위의 “Architecture Patterns” 에 적합합니다. 또한, 데이터 관리 (Data Management) 와도 밀접하게 연관되어 있으므로 하위로 포함하는 것이 타당합니다 13.
...</p></div><footer class=entry-footer><span title='2024-11-15 10:06:00 +0000 UTC'>November 15, 2024</span>&nbsp;·&nbsp;35 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Saga Pattern" href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/architecture-styles-and-patterns/architecture-styles/service-oriented-family/microservices-architecture/saga/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>CQRS</h2></header><div class=entry-content><p>CQRS 아래는 “CQRS(Command Query Responsibility Segregation)”에 대한 체계적이고 포괄적인 조사 결과입니다.
1. 태그 CQRS-Pattern Command-Query-Separation Event-Sourcing Scalable-Architecture 2. 분류 구조 분석 계층 구조:
Computer Science and Engineering > Software Engineering > Design and Architecture > Architecture Styles and Patterns > Architecture Patterns > Data Management
분석 및 근거:
CQRS는 소프트웨어 아키텍처 패턴으로, 데이터 읽기(Query)와 쓰기(Command) 작업을 분리하여 각각 최적화된 모델로 처리하는 설계 원칙입니다. 이는 “Architecture Styles and Patterns” 하위의 “Architecture Patterns”에 적합하게 분류되며, 데이터 관리(Data Management)와도 밀접하게 연관되어 있으므로 하위로 포함하는 것이 타당합니다. 실제로 CQRS는 도메인 주도 설계(DDD), 이벤트 소싱(Event Sourcing)과 함께 사용되어 데이터 처리와 확장성, 유지보수성을 높이는 데 활용됩니다13.
...</p></div><footer class=entry-footer><span title='2024-11-16 10:06:00 +0000 UTC'>November 16, 2024</span>&nbsp;·&nbsp;39 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to CQRS" href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/architecture-styles-and-patterns/architecture-styles/service-oriented-family/microservices-architecture/cqrs/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Event Sourcing</h2></header><div class=entry-content><p>Event Sourcing 아래는 “Event Sourcing(이벤트 소싱)”에 대한 체계적이고 포괄적인 조사 결과입니다.
1. 태그 Event-Sourcing Event-Driven-Architecture CQRS-Pattern Data-Management 2. 분류 구조 분석 계층 구조:
Computer Science and Engineering > Software Engineering > Design and Architecture > Architecture Styles and Patterns > Architecture Patterns > Data Management
분석 및 근거:
이벤트 소싱은 시스템의 모든 상태 변경을 이벤트로 기록하고, 이를 통해 상태를 재구성하는 아키텍처 패턴입니다. 이는 “Architecture Styles and Patterns” 하위의 “Architecture Patterns”에 적합하며, 데이터 관리(Data Management)와도 밀접하게 연관되어 있으므로 하위로 포함하는 것이 타당합니다13.
이벤트 소싱은 이벤트 기반 아키텍처(Event-Driven Architecture), CQRS, 마이크로서비스 등과 함께 사용되어 확장성, 유지보수성, 감사 추적, 장애 복구 등 다양한 이점을 제공합니다.
...</p></div><footer class=entry-footer><span title='2024-11-15 01:54:00 +0000 UTC'>November 15, 2024</span>&nbsp;·&nbsp;36 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Event Sourcing" href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/architecture-styles-and-patterns/architecture-styles/service-oriented-family/microservices-architecture/event-sourcing/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Backend for Frontend Architecture</h2></header><div class=entry-content><p>Backend for Frontend Architecture 용어 정리 용어 설명 참고 및 출처 Backend for Frontend (BFF) 아키텍처 개요 Backend for Frontend (BFF)는 프론트엔드 클라이언트별로 전용 백엔드 서비스를 생성하는 아키텍처 패턴입니다. 각 클라이언트(웹, 모바일, IoT 등)의 특정 요구사항에 맞춰 데이터 처리, API 최적화, 비즈니스 로직 조정을 수행하며, 프론트엔드와 백엔드의 결합도를 최소화하여 유연성과 성능을 향상시킵니다. 2025년 기준으로 AI 통합, 엣지 컴퓨팅, GraphQL 확장 등 최신 기술과 결합되며 진화 중입니다1410.
핵심 개념 및 상세 설명 1. 목적 클라이언트별 최적화: 모바일/데스크톱 등 장치별 데이터 형식, 성능 요구사항 충족16.
...</p></div><footer class=entry-footer><span title='2024-11-14 10:07:00 +0000 UTC'>November 14, 2024</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Backend for Frontend Architecture" href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/architecture-styles-and-patterns/architecture-styles/service-oriented-family/microservices-architecture/backend-for-frontend/></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>