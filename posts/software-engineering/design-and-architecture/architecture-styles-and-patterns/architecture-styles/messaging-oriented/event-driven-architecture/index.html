<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Event-Driven Architecture | hyunyoun's Blog</title><meta name=keywords content="System-and-Software-Architecture,Architecture,Architecture-Styles,Event-Driven-Architecture"><meta name=description content="이벤트 기반 아키텍처는 시스템 내에서 발생하는 상태 변화나 중요한 사건을 '이벤트'로 정의하고, 이러한 이벤트의 생성, 전송, 처리를 중심으로 시스템을 구성하는 방식이다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/architecture-styles-and-patterns/architecture-styles/messaging-oriented/event-driven-architecture/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/architecture-styles-and-patterns/architecture-styles/messaging-oriented/event-driven-architecture/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/architecture-styles-and-patterns/architecture-styles/messaging-oriented/event-driven-architecture/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/software-engineering/design-and-architecture/architecture-styles-and-patterns/architecture-styles/messaging-oriented/event-driven-architecture/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Event-Driven Architecture"><meta property="og:description" content="이벤트 기반 아키텍처는 시스템 내에서 발생하는 상태 변화나 중요한 사건을 '이벤트'로 정의하고, 이러한 이벤트의 생성, 전송, 처리를 중심으로 시스템을 구성하는 방식이다."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Event-Driven Architecture"><meta name=twitter:description content="이벤트 기반 아키텍처는 시스템 내에서 발생하는 상태 변화나 중요한 사건을 '이벤트'로 정의하고, 이러한 이벤트의 생성, 전송, 처리를 중심으로 시스템을 구성하는 방식이다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Event-Driven Architecture","item":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/architecture-styles-and-patterns/architecture-styles/messaging-oriented/event-driven-architecture/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a></div><h1>Event-Driven Architecture</h1><div class=post-description>이벤트 기반 아키텍처는 시스템 내에서 발생하는 상태 변화나 중요한 사건을 &lsquo;이벤트&rsquo;로 정의하고, 이러한 이벤트의 생성, 전송, 처리를 중심으로 시스템을 구성하는 방식이다.</div></header><div class=post-content><h2 id=event-driven-architecture>Event-Driven Architecture<a hidden class=anchor aria-hidden=true href=#event-driven-architecture>#</a></h2><p>아래는 요청하신 &ldquo;Event-Driven Architecture(이벤트 기반 아키텍처)&rdquo; 에 대한 체계적인 조사와 분석 결과입니다.</p><hr><h2 id=1-태그>1. 태그<a hidden class=anchor aria-hidden=true href=#1-태그>#</a></h2><ul><li><strong>Event-Driven</strong></li><li><strong>Message-Broker</strong></li><li><strong>Distributed-Systems</strong></li><li><strong>Microservices</strong></li></ul><hr><h2 id=2-분류-구조-적합성-분석>2. 분류 구조 적합성 분석<a hidden class=anchor aria-hidden=true href=#2-분류-구조-적합성-분석>#</a></h2><p>현재 분류 구조에서 주제는<br><code>Computer Science and Engineering > Software Engineering > Design and Architecture > Architecture Styles and Patterns > Architecture Styles > Messaging-Oriented Styles</code><br>로 분류되어 있습니다.</p><p><strong>적합성 근거</strong></p><ul><li>**Event-Driven Architecture(EDA)**는 소프트웨어 아키텍처 패턴 중 하나로, 디커플링된 컴포넌트들이 이벤트를 통해 비동기적으로 상호작용하는 구조입니다 <a href="https://en.wikipedia.org/wiki/Apache_Storm?utm_source=chatgpt.com" title="Apache Storm">1</a><a href="https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven?utm_source=chatgpt.com" title="Event-driven architecture style - Azure - Learn Microsoft">3</a>.</li><li><strong>Messaging-Oriented Styles</strong>는 메시지 기반 비동기 통신을 중심으로 한 아키텍처 스타일로서, EDA 가 이에 해당합니다 <a href="https://solace.com/what-is-event-driven-architecture/?utm_source=chatgpt.com" title="The Complete Guide to Event-Driven Architecture - Solace">3</a>.</li><li><strong>Software Engineering > Design and Architecture</strong> 아래에 위치하는 것이 논리적으로 적합하며, <strong>Architecture Styles and Patterns</strong>에서 <strong>Architecture Styles</strong>의 하위로 분류하는 것도 타당합니다.</li></ul><p><strong>결론</strong><br>현재 분류 구조는 적합하며, 추가적으로 <strong>Distributed Systems</strong> 또는 <strong>Microservices</strong>와의 연관성을 고려해 하위 분류를 확장할 수 있으나, 기본 구조는 충분히 합리적입니다 <a href="https://en.wikipedia.org/wiki/Apache_Storm?utm_source=chatgpt.com" title="Apache Storm">1</a><a href="https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven?utm_source=chatgpt.com" title="Event-driven architecture style - Azure - Learn Microsoft">3</a>.</p><hr><h2 id=3-요약-설명-200-자-내외>3. 요약 설명 (200 자 내외)<a hidden class=anchor aria-hidden=true href=#3-요약-설명-200-자-내외>#</a></h2><p>이벤트 기반 아키텍처 (Event-Driven Architecture, EDA) 는 시스템 내에서 발생하는 이벤트를 중심으로 디커플링된 컴포넌트들이 비동기적으로 상호작용하여 실시간 처리, 확장성, 유연성을 제공하는 소프트웨어 설계 패턴입니다 <a href="https://en.wikipedia.org/wiki/Apache_Storm?utm_source=chatgpt.com" title="Apache Storm">1</a><a href="https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven?utm_source=chatgpt.com" title="Event-driven architecture style - Azure - Learn Microsoft">3</a>.</p><hr><h2 id=4-개요-250-자-내외>4. 개요 (250 자 내외)<a hidden class=anchor aria-hidden=true href=#4-개요-250-자-내외>#</a></h2><p>이벤트 기반 아키텍처는 이벤트 생산자, 이벤트 버스, 이벤트 소비자로 구성되며, 이벤트가 발생하면 관련 정보가 실시간으로 필요한 시스템에 전달되어 처리됩니다. 이 구조는 확장성, 유연성, 실시간 처리, 결함 허용성을 제공하며, 마이크로서비스, IoT, 금융 등 다양한 분야에 활용됩니다 <a href="https://en.wikipedia.org/wiki/Apache_Storm?utm_source=chatgpt.com" title="Apache Storm">1</a><a href="https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven?utm_source=chatgpt.com" title="Event-driven architecture style - Azure - Learn Microsoft">3</a>.</p><hr><h2 id=5-핵심-개념>5. 핵심 개념<a hidden class=anchor aria-hidden=true href=#5-핵심-개념>#</a></h2><p><strong>이론 및 실무에서 반드시 알아야 할 내용</strong></p><ul><li><strong>이벤트 (Event):</strong> 시스템 내에서 발생하는 상태 변화 또는 중요한 사건. 예: 주문 생성, 결제 완료, 센서 데이터 수신 등 <a href="https://en.wikipedia.org/wiki/Observer_pattern?utm_source=chatgpt.com" title="Observer pattern">1</a><a href="https://en.wikipedia.org/wiki/Event-driven_architecture?utm_source=chatgpt.com" title="Event-driven architecture">6</a>.</li><li><strong>이벤트 생산자 (Event Producer):</strong> 이벤트를 감지하고 생성하는 컴포넌트 <a href="https://aws.amazon.com/event-driven-architecture/?utm_source=chatgpt.com" title="Event-Driven Architecture - AWS">2</a><a href="https://solace.com/blog/event-driven-architecture-pros-and-cons/?utm_source=chatgpt.com" title="A Guide to Event-Driven Architecture Pros and Cons - Solace">8</a>.</li><li><strong>이벤트 버스/이벤트 브로커 (Event Bus/Broker):</strong> 이벤트를 중계, 라우팅, 저장하는 미들웨어 (예: Apache Kafka, RabbitMQ)<a href="https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven?utm_source=chatgpt.com" title="Event-driven architecture style - Azure - Learn Microsoft">2</a><a href="https://risingwave.com/blog/the-comprehensive-guide-to-event-driven-architecture/?utm_source=chatgpt.com" title="The Comprehensive Guide to Event-Driven Architecture - RisingWave">9</a>.</li><li><strong>이벤트 소비자 (Event Consumer):</strong> 이벤트를 구독하고 처리하는 컴포넌트 <a href="https://aws.amazon.com/event-driven-architecture/?utm_source=chatgpt.com" title="Event-Driven Architecture - AWS">2</a><a href="https://solace.com/blog/event-driven-architecture-pros-and-cons/?utm_source=chatgpt.com" title="A Guide to Event-Driven Architecture Pros and Cons - Solace">8</a>.</li><li><strong>비동기 통신 (Asynchronous Communication):</strong> 컴포넌트 간 직접적인 호출 없이 이벤트를 통해 상호작용 [1]<a href="https://en.wikipedia.org/wiki/Event-driven_architecture?utm_source=chatgpt.com" title="Event-driven architecture">10</a>.</li><li><strong>디커플링 (Loose Coupling):</strong> 컴포넌트 간 의존성이 낮아 독립적으로 개발, 배포, 확장 가능 [1]<a href="https://en.wikipedia.org/wiki/Event-driven_architecture?utm_source=chatgpt.com" title="Event-driven architecture">10</a>.</li><li><strong>이벤트 주도 설계 (Event-Driven Design):</strong> 시스템의 흐름이 이벤트에 의해 주도되는 설계 패턴 <a href="https://en.wikipedia.org/wiki/Event-driven_architecture?utm_source=chatgpt.com" title="Event-driven architecture">1</a>.</li><li><strong>이벤트 소싱 (Event Sourcing), CQRS(Command Query Responsibility Segregation):</strong> 상태 변화를 이벤트로 기록하고, 명령과 조회를 분리하는 패턴 <a href="https://en.wikipedia.org/wiki/Event-driven_architecture?utm_source=chatgpt.com" title="Event-driven architecture">1</a>.</li></ul><p><strong>실무 구현 시 연관성</strong></p><ul><li><strong>확장성:</strong> 컴포넌트별 독립적 확장 가능 [1][11][12].</li><li><strong>실시간 처리:</strong> 이벤트 발생 즉시 처리 및 전파 <a href="https://en.wikipedia.org/wiki/Apache_Storm?utm_source=chatgpt.com" title="Apache Storm">1</a><a href="https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven?utm_source=chatgpt.com" title="Event-driven architecture style - Azure - Learn Microsoft">3</a>.</li><li><strong>결함 허용성:</strong> 이벤트 브로커가 이벤트를 버퍼링하여 장애 시 복구 지원 <a href="https://risingwave.com/blog/the-comprehensive-guide-to-event-driven-architecture/?utm_source=chatgpt.com" title="The Comprehensive Guide to Event-Driven Architecture - RisingWave">10</a>.</li><li><strong>통합:</strong> 다양한 언어, 시스템, 프로토콜 간 통합 용이 <a href="https://en.wikipedia.org/wiki/Apache_Storm?utm_source=chatgpt.com" title="Apache Storm">1</a><a href="https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven?utm_source=chatgpt.com" title="Event-driven architecture style - Azure - Learn Microsoft">3</a>.</li><li><strong>유지보수:</strong> 디커플링으로 인해 변경 및 유지보수 용이 [1]<a href="https://en.wikipedia.org/wiki/Event-driven_architecture?utm_source=chatgpt.com" title="Event-driven architecture">10</a>.</li></ul><hr><h2 id=6-조사-및-분석-주요-항목별-정리>6. 조사 및 분석 (주요 항목별 정리)<a hidden class=anchor aria-hidden=true href=#6-조사-및-분석-주요-항목별-정리>#</a></h2><h3 id=1-배경>1. 배경<a hidden class=anchor aria-hidden=true href=#1-배경>#</a></h3><ul><li><strong>기존 아키텍처 한계:</strong> 모놀리식, 동기식 호출 구조는 확장성, 실시간 처리, 통합에 한계가 있음 <a href="https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven?utm_source=chatgpt.com" title="Event-driven architecture style - Azure - Learn Microsoft">1</a>[13].</li><li><strong>실시간 데이터 처리 요구 증가:</strong> IoT, 금융, e-commerce 등에서 실시간 반응 필요 [1][14][13].</li></ul><h3 id=2-목적-및-필요성>2. 목적 및 필요성<a hidden class=anchor aria-hidden=true href=#2-목적-및-필요성>#</a></h3><ul><li><strong>실시간 처리 및 반응:</strong> 이벤트 발생 즉시 처리 및 전파 <a href="https://en.wikipedia.org/wiki/Apache_Storm?utm_source=chatgpt.com" title="Apache Storm">1</a><a href="https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven?utm_source=chatgpt.com" title="Event-driven architecture style - Azure - Learn Microsoft">3</a>.</li><li><strong>확장성 및 유연성:</strong> 컴포넌트별 독립적 확장 및 변경 용이 [1][11][12].</li><li><strong>통합 및 상호운용성:</strong> 다양한 시스템, 언어, 프로토콜 간 통합 <a href="https://en.wikipedia.org/wiki/Apache_Storm?utm_source=chatgpt.com" title="Apache Storm">1</a><a href="https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven?utm_source=chatgpt.com" title="Event-driven architecture style - Azure - Learn Microsoft">3</a>.</li></ul><h3 id=3-주요-기능-및-역할>3. 주요 기능 및 역할<a hidden class=anchor aria-hidden=true href=#3-주요-기능-및-역할>#</a></h3><ul><li><strong>이벤트 감지 및 생성:</strong> 이벤트 생산자가 상태 변화 감지 및 이벤트 생성 <a href="https://aws.amazon.com/event-driven-architecture/?utm_source=chatgpt.com" title="Event-Driven Architecture - AWS">2</a><a href="https://solace.com/blog/event-driven-architecture-pros-and-cons/?utm_source=chatgpt.com" title="A Guide to Event-Driven Architecture Pros and Cons - Solace">8</a>.</li><li><strong>이벤트 전달 및 라우팅:</strong> 이벤트 버스/브로커가 이벤트를 소비자에게 전달 <a href="https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven?utm_source=chatgpt.com" title="Event-driven architecture style - Azure - Learn Microsoft">2</a><a href="https://risingwave.com/blog/the-comprehensive-guide-to-event-driven-architecture/?utm_source=chatgpt.com" title="The Comprehensive Guide to Event-Driven Architecture - RisingWave">9</a>.</li><li><strong>이벤트 처리 및 반응:</strong> 이벤트 소비자가 이벤트를 처리 및 반응 <a href="https://aws.amazon.com/event-driven-architecture/?utm_source=chatgpt.com" title="Event-Driven Architecture - AWS">2</a><a href="https://solace.com/blog/event-driven-architecture-pros-and-cons/?utm_source=chatgpt.com" title="A Guide to Event-Driven Architecture Pros and Cons - Solace">8</a>.</li></ul><h3 id=4-특징>4. 특징<a hidden class=anchor aria-hidden=true href=#4-특징>#</a></h3><ul><li><strong>비동기 통신:</strong> 컴포넌트 간 직접 호출 없이 이벤트로 상호작용 [1]<a href="https://en.wikipedia.org/wiki/Event-driven_architecture?utm_source=chatgpt.com" title="Event-driven architecture">10</a>.</li><li><strong>디커플링:</strong> 컴포넌트 간 의존성 최소화 [1]<a href="https://en.wikipedia.org/wiki/Event-driven_architecture?utm_source=chatgpt.com" title="Event-driven architecture">10</a>.</li><li><strong>확장성:</strong> 컴포넌트별 독립적 확장 가능 [1][11][12].</li><li><strong>실시간 처리:</strong> 이벤트 발생 즉시 처리 및 전파 <a href="https://en.wikipedia.org/wiki/Apache_Storm?utm_source=chatgpt.com" title="Apache Storm">1</a><a href="https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven?utm_source=chatgpt.com" title="Event-driven architecture style - Azure - Learn Microsoft">3</a>.</li><li><strong>결함 허용성:</strong> 이벤트 브로커가 이벤트를 버퍼링하여 장애 시 복구 지원 <a href="https://risingwave.com/blog/the-comprehensive-guide-to-event-driven-architecture/?utm_source=chatgpt.com" title="The Comprehensive Guide to Event-Driven Architecture - RisingWave">10</a>.</li></ul><h3 id=5-핵심-원칙>5. 핵심 원칙<a hidden class=anchor aria-hidden=true href=#5-핵심-원칙>#</a></h3><ul><li><strong>Loose Coupling(디커플링):</strong> 컴포넌트 간 의존성 최소화 [1]<a href="https://en.wikipedia.org/wiki/Event-driven_architecture?utm_source=chatgpt.com" title="Event-driven architecture">10</a>.</li><li><strong>Asynchronous Communication(비동기 통신):</strong> 이벤트 기반 비동기 상호작용 [1]<a href="https://en.wikipedia.org/wiki/Event-driven_architecture?utm_source=chatgpt.com" title="Event-driven architecture">10</a>.</li><li><strong>Single Responsibility(단일 책임):</strong> 각 컴포넌트는 한 가지 역할만 담당 <a href="https://en.wikipedia.org/wiki/Event-driven_architecture?utm_source=chatgpt.com" title="Event-driven architecture">6</a>.</li><li><strong>Eventual Consistency(최종 일관성):</strong> 시스템 전체가 일관성 있게 수렴 [1]<a href="https://en.wikipedia.org/wiki/Event-driven_architecture?utm_source=chatgpt.com" title="Event-driven architecture">12</a>.</li><li><strong>Resilience(탄력성):</strong> 장애 시에도 시스템 복구 및 운영 가능 <a href="https://risingwave.com/blog/the-comprehensive-guide-to-event-driven-architecture/?utm_source=chatgpt.com" title="The Comprehensive Guide to Event-Driven Architecture - RisingWave">10</a><a href="https://en.wikipedia.org/wiki/Event-driven_architecture?utm_source=chatgpt.com" title="Event-driven architecture">6</a>.</li></ul><h3 id=6-주요-원리>6. 주요 원리<a hidden class=anchor aria-hidden=true href=#6-주요-원리>#</a></h3><ul><li><strong>이벤트 발생 → 이벤트 전파 → 이벤트 처리 → 반응</strong><ul><li>이벤트 생산자가 이벤트를 생성</li><li>이벤트 버스/브로커가 이벤트를 라우팅</li><li>이벤트 소비자가 이벤트를 처리 및 반응 <a href="https://aws.amazon.com/event-driven-architecture/?utm_source=chatgpt.com" title="Event-Driven Architecture - AWS">2</a><a href="https://solace.com/blog/event-driven-architecture-pros-and-cons/?utm_source=chatgpt.com" title="A Guide to Event-Driven Architecture Pros and Cons - Solace">8</a>.</li></ul></li></ul><h3 id=7-작동-원리-다이어그램-및-설명>7. 작동 원리 (다이어그램 및 설명)<a hidden class=anchor aria-hidden=true href=#7-작동-원리-다이어그램-및-설명>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[Event Producer] → [Event Bus/Broker] → [Event Consumers]
</span></span></code></pre></td></tr></table></div></div><ul><li><strong>Event Producer:</strong> 이벤트 생성 및 발행</li><li><strong>Event Bus/Broker:</strong> 이벤트 중계 및 라우팅</li><li><strong>Event Consumers:</strong> 이벤트 구독 및 처리</li></ul><p><strong>mermaid 다이어그램 예시</strong></p><pre class=mermaid>flowchart TD
    A[Event Producer] --&gt; B[Event Bus/Broker]
    B --&gt; C[Event Consumer 1]
    B --&gt; D[Event Consumer 2]
    B --&gt; E[Event Consumer 3]
</pre><ul><li><strong>설명:</strong><br>이벤트 생산자가 이벤트를 생성하면, 이벤트 버스/브로커가 이를 구독한 모든 소비자에게 전달합니다. 각 소비자는 독립적으로 이벤트를 처리합니다 <a href="https://aws.amazon.com/event-driven-architecture/?utm_source=chatgpt.com" title="Event-Driven Architecture - AWS">2</a><a href="https://solace.com/blog/event-driven-architecture-pros-and-cons/?utm_source=chatgpt.com" title="A Guide to Event-Driven Architecture Pros and Cons - Solace">8</a>.</li></ul><h3 id=8-구조-및-아키텍처-구성-요소-포함>8. 구조 및 아키텍처 (구성 요소 포함)<a hidden class=anchor aria-hidden=true href=#8-구조-및-아키텍처-구성-요소-포함>#</a></h3><ul><li><strong>필수 구성요소</strong><ul><li><strong>Event Producer:</strong> 이벤트를 감지하고 생성하는 컴포넌트</li><li><strong>Event Bus/Broker:</strong> 이벤트를 중계, 라우팅, 저장하는 미들웨어</li><li><strong>Event Consumer:</strong> 이벤트를 구독하고 처리하는 컴포넌트 <a href="https://aws.amazon.com/event-driven-architecture/?utm_source=chatgpt.com" title="Event-Driven Architecture - AWS">2</a><a href="https://solace.com/blog/event-driven-architecture-pros-and-cons/?utm_source=chatgpt.com" title="A Guide to Event-Driven Architecture Pros and Cons - Solace">8</a></li></ul></li><li><strong>선택 구성요소</strong><ul><li><strong>Event Portal:</strong> 이벤트 및 서비스 관계 관리 도구</li><li><strong>Event Mesh:</strong> 분산된 이벤트 브로커 네트워크</li><li><strong>Schema Registry:</strong> 이벤트 데이터 구조 관리 <a href="https://risingwave.com/blog/the-comprehensive-guide-to-event-driven-architecture/?utm_source=chatgpt.com" title="The Comprehensive Guide to Event-Driven Architecture - RisingWave">3</a></li></ul></li><li><strong>각 구성요소의 기능 및 역할</strong><ul><li><strong>Event Producer:</strong> 시스템 내 상태 변화 감지 및 이벤트 생성</li><li><strong>Event Bus/Broker:</strong> 이벤트를 구독자에게 전달, 라우팅, 저장</li><li><strong>Event Consumer:</strong> 이벤트를 구독 및 처리, 비즈니스 로직 실행 <a href="https://aws.amazon.com/event-driven-architecture/?utm_source=chatgpt.com" title="Event-Driven Architecture - AWS">2</a><a href="https://solace.com/blog/event-driven-architecture-pros-and-cons/?utm_source=chatgpt.com" title="A Guide to Event-Driven Architecture Pros and Cons - Solace">8</a></li></ul></li></ul><h3 id=9-구현-기법>9. 구현 기법<a hidden class=anchor aria-hidden=true href=#9-구현-기법>#</a></h3><ul><li><strong>Pub/Sub(발행/구독) 모델:</strong> 이벤트 브로커가 이벤트를 구독자에게 전달 <a href="https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven?utm_source=chatgpt.com" title="Event-driven architecture style - Azure - Learn Microsoft">2</a><a href="https://solace.com/what-is-event-driven-architecture/?utm_source=chatgpt.com" title="The Complete Guide to Event-Driven Architecture - Solace">4</a></li><li><strong>Event Streaming:</strong> 이벤트를 스트림으로 저장 및 재생 <a href="https://solace.com/what-is-event-driven-architecture/?utm_source=chatgpt.com" title="The Complete Guide to Event-Driven Architecture - Solace">3</a></li><li><strong>Event Sourcing:</strong> 상태 변화를 이벤트로 기록, 시스템 재구성 가능 <a href="https://en.wikipedia.org/wiki/Event-driven_architecture?utm_source=chatgpt.com" title="Event-driven architecture">1</a></li><li><strong>CQRS:</strong> 명령과 조회 역할 분리 <a href="https://en.wikipedia.org/wiki/Event-driven_architecture?utm_source=chatgpt.com" title="Event-driven architecture">1</a></li><li><strong>Event Mesh:</strong> 분산된 이벤트 브로커 네트워크 구성 <a href="https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven?utm_source=chatgpt.com" title="Event-driven architecture style - Azure - Learn Microsoft">15</a></li></ul><p><strong>실제 예시 (시스템 구성, 시나리오)</strong></p><ul><li><strong>e-commerce 주문 처리:</strong><ul><li>주문 생성 → 이벤트 발행 → 재고 관리, 결제, 배송 처리 시스템이 각각 이벤트 구독 및 처리 [7][14][13]</li></ul></li><li><strong>IoT 센서 데이터 처리:</strong><ul><li>센서 데이터 수신 → 이벤트 발행 → 모니터링, 분석 시스템이 이벤트 구독 및 처리 [1][14][13]</li></ul></li></ul><h3 id=10-장점>10. 장점<a hidden class=anchor aria-hidden=true href=#10-장점>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>장점</td><td>확장성</td><td>컴포넌트별 독립적 확장 가능, 리소스 효율적 활용</td></tr><tr><td></td><td>유연성</td><td>컴포넌트 간 디커플링으로 변경 및 유지보수 용이</td></tr><tr><td></td><td>실시간 처리</td><td>이벤트 발생 즉시 처리 및 전파, 실시간 반응 가능</td></tr><tr><td></td><td>결함 허용성</td><td>이벤트 브로커가 이벤트를 버퍼링하여 장애 시 복구 지원</td></tr><tr><td></td><td>통합</td><td>다양한 시스템, 언어, 프로토콜 간 통합 용이</td></tr></tbody></table><h3 id=11-단점과-문제점-그리고-해결방안>11. 단점과 문제점 그리고 해결방안<a hidden class=anchor aria-hidden=true href=#11-단점과-문제점-그리고-해결방안>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th><th>해결책</th></tr></thead><tbody><tr><td>단점</td><td>복잡성</td><td>시스템 설계, 구현, 관리가 복잡함</td><td>이벤트 포털, 문서화, 표준화 도구 활용</td></tr><tr><td></td><td>테스트 어려움</td><td>비동기 이벤트 흐름 테스트가 어려움</td><td>테스트 자동화, 이벤트 시뮬레이션 도구 활용</td></tr><tr><td></td><td>이벤트 순서</td><td>분산 환경에서 이벤트 순서 보장 어려움</td><td>이벤트 버전 관리, 순서 보장 메커니즘 (예: Kafka 의 키 기반 순서)</td></tr><tr><td></td><td>지연</td><td>대량 이벤트 처리 시 지연 발생 가능</td><td>스케일 아웃, 병렬 처리, 리소스 최적화</td></tr><tr><td></td><td>에러 처리</td><td>에러 발생 시 원인 추적 및 복구 어려움</td><td>에러 로깅, 이벤트 재처리, 트랜잭션 모니터링</td></tr></tbody></table><table><thead><tr><th>구분</th><th>항목</th><th>원인</th><th>영향</th><th>탐지 및 진단</th><th>예방 방법</th><th>해결 방법 및 기법</th></tr></thead><tbody><tr><td>문제점</td><td>이벤트 유실</td><td>네트워크/브로커 장애</td><td>데이터 불일치</td><td>모니터링, 로깅</td><td>장애 대응 계획</td><td>이벤트 재처리, 복구</td></tr><tr><td></td><td>이벤트 순서</td><td>분산 환경</td><td>비즈니스 로직 오류</td><td>이벤트 버전 관리</td><td>순서 보장 메커니즘</td><td>키 기반 순서, 트랜잭션</td></tr></tbody></table><h3 id=12-도전-과제>12. 도전 과제<a hidden class=anchor aria-hidden=true href=#12-도전-과제>#</a></h3><ul><li><strong>이벤트 순서 보장:</strong> 분산 환경에서 이벤트 순서 보장 필요 [16][12]</li><li><strong>이벤트 유실 방지:</strong> 네트워크/브로커 장애 시 이벤트 유실 방지 [16][12]</li><li><strong>대용량 이벤트 처리:</strong> 대량 이벤트 실시간 처리 및 확장성 확보 [12]</li><li><strong>에러 처리 및 복구:</strong> 에러 발생 시 원인 추적 및 복구 [16][12]</li><li><strong>시스템 통합:</strong> 다양한 시스템, 언어, 프로토콜 간 통합 <a href="https://en.wikipedia.org/wiki/Apache_Storm?utm_source=chatgpt.com" title="Apache Storm">1</a><a href="https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven?utm_source=chatgpt.com" title="Event-driven architecture style - Azure - Learn Microsoft">3</a></li></ul><h3 id=13-분류-기준에-따른-종류-및-유형>13. 분류 기준에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#13-분류-기준에-따른-종류-및-유형>#</a></h3><table><thead><tr><th>구분</th><th>유형/종류</th><th>설명</th></tr></thead><tbody><tr><td>통신 방식</td><td>Pub/Sub</td><td>이벤트 브로커가 이벤트를 구독자에게 전달</td></tr><tr><td></td><td>Event Streaming</td><td>이벤트를 스트림으로 저장 및 재생</td></tr><tr><td>배포 구조</td><td>Centralized Event Hub</td><td>중앙 집중형 이벤트 브로커</td></tr><tr><td></td><td>Decentralized Event Hub</td><td>분산형 이벤트 브로커 네트워크</td></tr><tr><td></td><td>Hybrid</td><td>중앙/분산 혼합 구조</td></tr><tr><td>패턴</td><td>Event Sourcing</td><td>상태 변화를 이벤트로 기록, 시스템 재구성 가능</td></tr><tr><td></td><td>CQRS</td><td>명령과 조회 역할 분리</td></tr><tr><td></td><td>Event Carried State Transfer</td><td>이벤트에 상태 정보 포함, 서비스 간 상태 동기화</td></tr></tbody></table><h3 id=14-실무-사용-예시>14. 실무 사용 예시<a hidden class=anchor aria-hidden=true href=#14-실무-사용-예시>#</a></h3><table><thead><tr><th>사용 예시</th><th>목적</th><th>효과</th></tr></thead><tbody><tr><td>e-commerce 주문 처리</td><td>주문, 결제, 배송 처리</td><td>실시간 처리, 확장성, 통합</td></tr><tr><td>IoT 센서 데이터 처리</td><td>실시간 모니터링</td><td>실시간 분석, 자동화</td></tr><tr><td>금융 트레이딩</td><td>실시간 거래 실행</td><td>실시간 반응, 확장성</td></tr><tr><td>채팅 어플리케이션</td><td>실시간 메시지 전달</td><td>실시간 통신, 확장성</td></tr></tbody></table><h3 id=15-활용-사례>15. 활용 사례<a hidden class=anchor aria-hidden=true href=#15-활용-사례>#</a></h3><p><strong>Netflix 의 금융 데이터 처리</strong></p><ul><li><strong>시스템 구성:</strong><ul><li>이벤트 생산자: 금융 데이터 생성 시스템</li><li>이벤트 브로커: Apache Kafka</li><li>이벤트 소비자: Spring Boot 기반 마이크로서비스</li></ul></li><li><strong>워크플로우:</strong><ul><li>금융 데이터 생성 → Kafka 로 이벤트 발행 → 마이크로서비스가 이벤트 구독 및 처리</li><li>데이터 통합, 분석, 리포트 생성</li></ul></li><li><strong>EDA 의 역할:</strong><ul><li>실시간 데이터 처리, 확장성, 통합, 데이터 일관성 보장</li></ul></li><li><strong>EDA 유무 차이:</strong><ul><li>EDA 미적용 시: 데이터 동기화 지연, 확장성 한계, 통합 어려움</li><li>EDA 적용 시: 실시간 처리, 확장성, 통합, 데이터 일관성 보장 [14]</li></ul></li></ul><p><strong>mermaid 다이어그램 예시</strong></p><pre class=mermaid>flowchart TD
    A[Finance Data Generator] --&gt; B[Apache Kafka]
    B --&gt; C[Spring Boot Microservice 1]
    B --&gt; D[Spring Boot Microservice 2]
    B --&gt; E[Spring Boot Microservice 3]
</pre><hr><h2 id=16-구현-예시-python>16. 구현 예시 (Python)<a hidden class=anchor aria-hidden=true href=#16-구현-예시-python>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span><span class=lnt id=hl-3-12><a class=lnlinks href=#hl-3-12>12</a>
</span><span class=lnt id=hl-3-13><a class=lnlinks href=#hl-3-13>13</a>
</span><span class=lnt id=hl-3-14><a class=lnlinks href=#hl-3-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>kafka</span> <span class=kn>import</span> <span class=n>KafkaProducer</span><span class=p>,</span> <span class=n>KafkaConsumer</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 이벤트 생산자</span>
</span></span><span class=line><span class=cl><span class=n>producer</span> <span class=o>=</span> <span class=n>KafkaProducer</span><span class=p>(</span><span class=n>bootstrap_servers</span><span class=o>=</span><span class=s1>&#39;localhost:9092&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                         <span class=n>value_serializer</span><span class=o>=</span><span class=k>lambda</span> <span class=n>v</span><span class=p>:</span> <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>v</span><span class=p>)</span><span class=o>.</span><span class=n>encode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>producer</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=s1>&#39;order_events&#39;</span><span class=p>,</span> <span class=p>{</span><span class=s1>&#39;order_id&#39;</span><span class=p>:</span> <span class=s1>&#39;ORD-12345&#39;</span><span class=p>,</span> <span class=s1>&#39;customer_id&#39;</span><span class=p>:</span> <span class=s1>&#39;CUST-6789&#39;</span><span class=p>,</span> <span class=s1>&#39;amount&#39;</span><span class=p>:</span> <span class=mf>109.97</span><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 이벤트 소비자</span>
</span></span><span class=line><span class=cl><span class=n>consumer</span> <span class=o>=</span> <span class=n>KafkaConsumer</span><span class=p>(</span><span class=s1>&#39;order_events&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                         <span class=n>bootstrap_servers</span><span class=o>=</span><span class=s1>&#39;localhost:9092&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                         <span class=n>value_deserializer</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>x</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>)))</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>msg</span> <span class=ow>in</span> <span class=n>consumer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;주문 처리: </span><span class=si>{</span><span class=n>msg</span><span class=o>.</span><span class=n>value</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=17-도전-과제>17. 도전 과제<a hidden class=anchor aria-hidden=true href=#17-도전-과제>#</a></h2><table><thead><tr><th>카테고리</th><th>항목</th><th>원인</th><th>영향</th><th>탐지 및 진단</th><th>예방 방법</th><th>해결 방법 및 기법</th></tr></thead><tbody><tr><td>확장성</td><td>대용량 이벤트 처리</td><td>이벤트 볼륨 증가</td><td>시스템 부하, 지연</td><td>모니터링, 로깅</td><td>스케일 아웃</td><td>병렬 처리, 리소스 최적화</td></tr><tr><td>일관성</td><td>이벤트 순서 보장</td><td>분산 환경</td><td>비즈니스 로직 오류</td><td>이벤트 버전 관리</td><td>순서 보장 메커니즘</td><td>키 기반 순서, 트랜잭션</td></tr><tr><td>에러 처리</td><td>에러 추적 및 복구</td><td>비동기 흐름</td><td>데이터 불일치</td><td>에러 로깅</td><td>장애 대응 계획</td><td>이벤트 재처리, 복구</td></tr><tr><td>통합</td><td>다양한 시스템 통합</td><td>이기종 시스템</td><td>통합 어려움</td><td>표준화, 문서화</td><td>API 게이트웨이</td><td>이벤트 메시, 브리지</td></tr></tbody></table><hr><h2 id=18-실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>18. 실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#18-실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>#</a></h2><table><thead><tr><th>고려사항/주의점</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>이벤트 정의 및 표준화</td><td>이벤트 구조, 포맷, 네이밍 표준화</td><td>이벤트 포털, 문서화 도구 활용</td></tr><tr><td>이벤트 흐름 관리</td><td>이벤트 흐름 추적, 모니터링, 로깅</td><td>모니터링, 로깅 도구 활용</td></tr><tr><td>에러 처리 및 복구</td><td>에러 발생 시 원인 추적 및 복구 방안 마련</td><td>에러 로깅, 재처리 메커니즘</td></tr><tr><td>확장성 고려</td><td>대용량 이벤트 처리, 시스템 확장성 고려</td><td>스케일 아웃, 병렬 처리</td></tr><tr><td>보안 및 접근 제어</td><td>이벤트 브로커, 소비자 보안, 접근 제어</td><td>인증/인가, 암호화 적용</td></tr></tbody></table><hr><h2 id=19-최적화하기-위한-고려사항-및-주의할-점>19. 최적화하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#19-최적화하기-위한-고려사항-및-주의할-점>#</a></h2><table><thead><tr><th>고려사항/주의점</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>이벤트 브로커 성능</td><td>브로커 성능 튜닝, 리소스 할당 최적화</td><td>모니터링, 튜닝 도구 활용</td></tr><tr><td>이벤트 처리 병렬화</td><td>이벤트 소비자 병렬 처리, 파티셔닝</td><td>파티셔닝, 병렬 처리 적용</td></tr><tr><td>이벤트 데이터 최소화</td><td>불필요한 데이터 전송 최소화, 압축 적용</td><td>데이터 압축, 필터링 적용</td></tr><tr><td>이벤트 순서 보장</td><td>분산 환경에서 이벤트 순서 보장</td><td>키 기반 순서, 트랜잭션 적용</td></tr><tr><td>장애 대응 및 복구</td><td>장애 발생 시 빠른 복구, 이벤트 재처리</td><td>장애 대응 계획, 재처리 메커니즘</td></tr></tbody></table><hr><h2 id=20-주제와-관련하여-주목할-내용>20. 주제와 관련하여 주목할 내용<a hidden class=anchor aria-hidden=true href=#20-주제와-관련하여-주목할-내용>#</a></h2><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>패턴</td><td>Event Sourcing</td><td>상태 변화 기록</td><td>시스템 상태를 이벤트로 기록, 재구성 가능</td></tr><tr><td>패턴</td><td>CQRS</td><td>명령/조회 분리</td><td>명령과 조회 역할 분리, 성능 및 확장성 향상</td></tr><tr><td>패턴</td><td>Event Carried State Transfer</td><td>상태 전파</td><td>이벤트에 상태 정보 포함, 서비스 간 상태 동기화</td></tr><tr><td>도구</td><td>Apache Kafka</td><td>이벤트 브로커</td><td>대용량 이벤트 처리, 확장성, 결함 허용성</td></tr><tr><td>도구</td><td>RabbitMQ</td><td>이벤트 브로커</td><td>실시간 모니터링, 고가용성</td></tr><tr><td>아키텍처</td><td>Event Mesh</td><td>분산 브로커 네트워크</td><td>다양한 시스템, 환경 간 이벤트 통합</td></tr></tbody></table><hr><h2 id=21-반드시-학습해야할-내용>21. 반드시 학습해야할 내용<a hidden class=anchor aria-hidden=true href=#21-반드시-학습해야할-내용>#</a></h2><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>아키텍처</td><td>Event-Driven Architecture</td><td>핵심 개념</td><td>이벤트, 생산자, 브로커, 소비자, 비동기 통신, 디커플링</td></tr><tr><td>패턴</td><td>Event Sourcing</td><td>상태 변화 기록</td><td>시스템 상태를 이벤트로 기록, 재구성 가능</td></tr><tr><td>패턴</td><td>CQRS</td><td>명령/조회 분리</td><td>명령과 조회 역할 분리, 성능 및 확장성 향상</td></tr><tr><td>도구</td><td>Apache Kafka</td><td>이벤트 브로커</td><td>대용량 이벤트 처리, 확장성, 결함 허용성</td></tr><tr><td>도구</td><td>RabbitMQ</td><td>이벤트 브로커</td><td>실시간 모니터링, 고가용성</td></tr><tr><td>아키텍처</td><td>Event Mesh</td><td>분산 브로커 네트워크</td><td>다양한 시스템, 환경 간 이벤트 통합</td></tr><tr><td>실무</td><td>이벤트 흐름 관리</td><td>모니터링, 로깅</td><td>이벤트 흐름 추적, 에러 처리, 복구</td></tr></tbody></table><hr><h2 id=22-용어-정리>22. 용어 정리<a hidden class=anchor aria-hidden=true href=#22-용어-정리>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>아키텍처</td><td>Event-Driven Architecture</td><td>이벤트를 중심으로 디커플링된 컴포넌트들이 비동기적으로 상호작용하는 구조</td></tr><tr><td>구성요소</td><td>Event Producer</td><td>이벤트를 감지하고 생성하는 컴포넌트</td></tr><tr><td>구성요소</td><td>Event Bus/Broker</td><td>이벤트를 중계, 라우팅, 저장하는 미들웨어</td></tr><tr><td>구성요소</td><td>Event Consumer</td><td>이벤트를 구독하고 처리하는 컴포넌트</td></tr><tr><td>패턴</td><td>Event Sourcing</td><td>상태 변화를 이벤트로 기록, 시스템 재구성 가능</td></tr><tr><td>패턴</td><td>CQRS</td><td>명령과 조회 역할 분리, 성능 및 확장성 향상</td></tr><tr><td>도구</td><td>Apache Kafka</td><td>대용량 이벤트 처리, 확장성, 결함 허용성</td></tr><tr><td>도구</td><td>RabbitMQ</td><td>실시간 모니터링, 고가용성</td></tr><tr><td>아키텍처</td><td>Event Mesh</td><td>분산된 이벤트 브로커 네트워크</td></tr></tbody></table><hr><h2 id=23-참고-및-출처>23. 참고 및 출처<a hidden class=anchor aria-hidden=true href=#23-참고-및-출처>#</a></h2><ul><li><a href=https://www.confluent.io/learn/event-driven-architecture/>Event-Driven Architecture (EDA): A Complete Introduction - Confluent</a><a href="https://tyk.io/learning-center/what-is-event-driven-architecture/?utm_source=chatgpt.com" title="What is event-driven architecture? - Tyk API Management">1</a></li><li><a href=https://www.techtarget.com/searchAppArchitecture/tip/Managing-complexity-Event-driven-architecture-explained>Managing complexity: Event-driven architecture explained - TechTarget</a><a href="https://en.wikipedia.org/wiki/Apache_Storm?utm_source=chatgpt.com" title="Apache Storm">2</a></li><li><a href=https://victorleungtw.com/2024/03/08/event/>Pros and Cons of Event-Driven Architecture - Continuous Improvement</a>[11]</li><li><a href=https://solace.com/event-driven-architecture-patterns/>The Ultimate Guide to Event-Driven Architecture Patterns - Solace</a>[15]</li><li><a href=https://medium.com/memphis-dev/journey-to-event-driven-part-2-programming-models-for-the-event-driven-architecture-933360eb58fd>Journey to Event Driven — Part 2: Programming Models for the Event-Driven Architecture - Medium</a><a href="https://aws.amazon.com/event-driven-architecture/?utm_source=chatgpt.com" title="Event-Driven Architecture - AWS">7</a></li><li><a href=https://en.wikipedia.org/wiki/Event-driven_architecture>Event-driven architecture - Wikipedia</a><a href="https://en.wikipedia.org/wiki/Observer_pattern?utm_source=chatgpt.com" title="Observer pattern">5</a></li><li><a href=https://dev.to/dev_habib_nuhu/understanding-event-driven-architecture-5abg>Understanding Event-Driven Architecture - dev.to</a><a href="https://solace.com/blog/event-driven-architecture-pros-and-cons/?utm_source=chatgpt.com" title="A Guide to Event-Driven Architecture Pros and Cons - Solace">8</a></li><li><a href=https://estuary.dev/event-driven-architecture-examples/>10 Event-Driven Architecture Examples: Real-World Use Cases - Estuary</a>[14]</li><li><a href=https://peerdh.com/blogs/programming-insights/event-driven-architecture-in-python-applications>Event-driven Architecture In Python Applications - peerdh.com</a>[17]</li><li><a href=https://github.com/devmahmud/advanced-javascript-programming/blob/main/module-6.7-event-driven-architecture.md>Event-Driven Architecture - advanced-javascript-programming - GitHub</a>[18]</li><li><a href=https://www.spiceworks.com/tech/tech-general/articles/event-driven-architecture/>Event-Driven Architecture: Meaning, Types, Uses, and Benefits - Spiceworks</a>[19]</li><li><a href=https://medium.com/event-driven-times/a-guide-to-event-driven-architecture-pros-and-cons-6071394c4549>A Guide to Event-Driven Architecture Pros and Cons - Medium</a>[10]</li><li><a href=https://www.tencentcloud.com/techpedia/107662>What are the main disadvantages of the event-driven architecture pattern? - Tencent Cloud</a>[16]</li><li><a href=https://www.analyticsinsight.net/latest-news/scaling-event-driven-architectures-challenges-and-solutions>Scaling Event-Driven Architectures: Challenges and Solutions - Analytics Insight</a>[12]</li><li><a href=https://solace.com/what-is-event-driven-architecture/>The Complete Guide to Event-Driven Architecture - Solace</a><a href="https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven?utm_source=chatgpt.com" title="Event-driven architecture style - Azure - Learn Microsoft">3</a></li><li><a href=https://dev.to/stack-labs/serverless-day-10-principles-for-your-event-driven-architecture-2lb7>10 principles for your event driven architecture - DEV Community</a><a href="https://risingwave.com/blog/the-comprehensive-guide-to-event-driven-architecture/?utm_source=chatgpt.com" title="The Comprehensive Guide to Event-Driven Architecture - RisingWave">9</a></li><li><a href=https://ably.com/topic/event-driven-architecture-use-cases>4 event-driven architecture use cases (with examples) - Ably Realtime</a>[13]</li><li><a href=https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven>Event-driven architecture style - Azure - Learn Microsoft</a><a href="https://solace.com/what-is-event-driven-architecture/?utm_source=chatgpt.com" title="The Complete Guide to Event-Driven Architecture - Solace">4</a></li><li><a href=https://ataiva.com/event-driven-architecture-patterns/>Event-Driven Architecture Patterns: Building Responsive and Scalable Systems - ataiva.com</a><a href="https://en.wikipedia.org/wiki/Event-driven_architecture?utm_source=chatgpt.com" title="Event-driven architecture">6</a></li><li><a href=https://www.reddit.com/r/microservices/comments/lwdraq/example_use_cases_of_eventdriven_microservice/>Example use cases of Event-Driven Microservice Architecture - Reddit</a>[20]</li></ul><hr><h2 id=24-기타-사항>24. 기타 사항<a hidden class=anchor aria-hidden=true href=#24-기타-사항>#</a></h2><ul><li>**Event-Driven Architecture(이벤트 기반 아키텍처)**는 마이크로서비스, IoT, 금융, e-commerce 등 다양한 분야에서 실시간 처리, 확장성, 통합, 결함 허용성을 제공하는 핵심 아키텍처 패턴입니다.</li><li><strong>실무에서는 이벤트 정의, 표준화, 흐름 관리, 에러 처리, 확장성, 보안 등 다양한 측면에서 신중한 설계와 운영이 필요합니다.</strong></li><li><strong>최신 트렌드로는 Event Mesh, Serverless, Cloud-Native 환경에서의 EDA 적용이 활발히 진행되고 있습니다.</strong>[15]<a href="https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven?utm_source=chatgpt.com" title="Event-driven architecture style - Azure - Learn Microsoft">12</a></li></ul><hr><h2 id=-작업-1-태그-34-개-영문-공백은-하이픈으로-표시>✅ 작업 1: 태그 3~4 개 (영문, 공백은 하이픈으로 표시)<a hidden class=anchor aria-hidden=true href=#-작업-1-태그-34-개-영문-공백은-하이픈으로-표시>#</a></h2><ul><li>Event-Driven-Architecture</li><li>Messaging-Oriented-Architecture</li><li>Asynchronous-Communication</li><li>Event-Driven-Microservices</li></ul><hr><h2 id=-작업-2-분류-구조-검토>✅ 작업 2: 분류 구조 검토<a hidden class=anchor aria-hidden=true href=#-작업-2-분류-구조-검토>#</a></h2><h3 id=기존-분류>기존 분류<a hidden class=anchor aria-hidden=true href=#기존-분류>#</a></h3><p><code>Computer Science and Engineering > Software Engineering > Design and Architecture > Architecture Styles and Patterns > Architecture Styles > Messaging-Oriented Styles</code></p><h3 id=분석-및-의견>분석 및 의견<a hidden class=anchor aria-hidden=true href=#분석-및-의견>#</a></h3><ul><li><strong>적절성</strong>: 이벤트 기반 아키텍처 (Event-Driven Architecture, EDA) 는 &ldquo;Messaging‑Oriented Styles&rdquo; 범주에 자연스럽게 속함.</li><li><strong>제안</strong>: EDA 는 비동기 메시징뿐 아니라 이벤트 스트리밍, CQRS, 이벤트 소싱 등으로 확장되므로, <code>Messaging‑Oriented Styles</code> 하위에 하위 카테고리로 유지하되,<ul><li><code>Event‑Driven Patterns</code> 또는</li><li><code>Asynchronous/Event‑Driven Architectures</code><br>등의 보다 명확한 태그 추가를 제안함.</li></ul></li></ul><hr><h2 id=-작업-3-200-자-요약>✅ 작업 3: 200 자 요약<a hidden class=anchor aria-hidden=true href=#-작업-3-200-자-요약>#</a></h2><p>이벤트 기반 아키텍처 (EDA) 는 상태 변경이나 시스템 내부/외부 이벤트를 중심으로 비동기 방식으로 구성 요소들이 상호작용하는 아키텍처 스타일입니다. 주요 특징은 확장성, 느슨한 결합, 반응형 설계이며, 메시지 큐, 이벤트 버스, 스트림 플랫폼을 이용해 구현됩니다.</p><hr><h2 id=-작업-4-250-자-개요>✅ 작업 4: 250 자 개요<a hidden class=anchor aria-hidden=true href=#-작업-4-250-자-개요>#</a></h2><p>이벤트 기반 아키텍처는 메시지 기반 통신을 활용해 시스템 구성 요소 간 결합도를 낮추고 비동기 처리를 통해 확장성과 반응성을 갖춘 설계 방식입니다. 주요 구성 요소로는 이벤트 프로듀서, 이벤트 브로커, 이벤트 컨슈머, 이벤트 저장소 등이 있으며, Apache Kafka, RabbitMQ 같은 메시지 스트리밍 플랫폼을 기반으로 구현됩니다. 실무에서는 마이크로서비스, IoT, 실시간 분석 등에 활용되며, 이벤트 소싱 (Event Sourcing), CQRS 패턴, 데이터 파이프라인 설계가 자주 병행됩니다.</p><hr><h2 id=-작업-5-핵심-개념>✅ 작업 5: 핵심 개념<a hidden class=anchor aria-hidden=true href=#-작업-5-핵심-개념>#</a></h2><ul><li><strong>이벤트 (Event)</strong>: 시스템 내 변화나 상태를 나타내는 사실 (예: 주문 생성됨).</li><li><strong>프로듀서/퍼블리셔 (Producer/Publisher)</strong>: 이벤트를 생성하고 브로커에 전송.</li><li><strong>브로커 (Broker/Event Bus)</strong>: 이벤트 수신, 라우팅, 저장, 전달 기능.</li><li><strong>컨슈머/구독자 (Consumer/Subscriber)</strong>: 이벤트를 처리.</li><li><strong>토픽/채널 (Topic/Stream)</strong>: 이벤트 흐름을 분류하는 경로.</li><li><strong>이벤트 소싱 (Event Sourcing)</strong>: 상태를 이벤트 로그로 저장하고 재생해 재현.</li><li><strong>CQRS (Command Query Responsibility Segregation)</strong>: 쓰기 (커맨드) 와 읽기 (쿼리) 를 분리.</li><li><strong>비동기 통신 (Asynchronous Communication)</strong>: 응답 없이 이벤트를 비동기 처리.</li><li><strong>먼저 보기 - 구독 패턴 (Pub/Sub)</strong>: 발행/구독을 통해 구성 요소 간 느슨한 결합.</li></ul><h3 id=51-실무-구현-관점>5.1 실무 구현 관점<a hidden class=anchor aria-hidden=true href=#51-실무-구현-관점>#</a></h3><ul><li>이벤트 메시지 포맷 (예: JSON, Avro), 스키마 관리</li><li>브로커 선택 (Kafka, RabbitMQ, Pulsar 등)</li><li>메시지 내구성 설정 (정합성, 재처리 전략)</li><li>모니터링, 장애 대응, 보안 (인증/인가)</li></ul><hr><h2 id=-작업-6--6-주제와-관련하여-조사할-내용--반영>✅ 작업 6: &ldquo;## 6. 주제와 관련하여 조사할 내용 " 반영<a hidden class=anchor aria-hidden=true href=#-작업-6--6-주제와-관련하여-조사할-내용--반영>#</a></h2><p>(중요 항목 목차: 배경/필요성, 특징, 구조/구성요소, 구현기법, 장단점, 분류, 실무 적용, 최적화)<br>이후 메시지에서 각 항목별 상세 정리 및 다이어그램/표 포함해 순차 진행 예정입니다.</p><hr><h3 id=-다음-진행-방향>🧭 다음 진행 방향<a hidden class=anchor aria-hidden=true href=#-다음-진행-방향>#</a></h3><ol><li><strong>배경 및 목적</strong>: EDA 가 부상한 이유, 기존 구조의 한계</li><li><strong>구조 및 구성요소</strong>: mermaid 다이어그램으로 브로커, 프로듀서, 컨슈머 등 설명</li><li><strong>작동 원리</strong>: 이벤트 흐름, Pub/Sub, 스트리밍 설명 및 다이어그램</li><li><strong>장단점</strong>, <strong>도전과제</strong>: 표 포함</li><li><strong>실무 예시</strong>: Kafka 기반 주문 처리, IoT, CQRS/ES</li><li><strong>구현 예시</strong>: Python/Kafka 예제 코드</li><li><strong>최적화/주의</strong>: 고려사항 테이블</li></ol><p>우선 이렇게 초기 네 부분을 정리했습니다. 이후 어떤 부분부터 더 깊게 원하시는지 알려주시면, 해당 항목을 우선적으로 심화 설명드릴게요.</p><hr><h2 id=-작업-6-1-배경-background-및-필요성-purpose--need>✅ 작업 6-1: 배경 (Background) 및 필요성 (Purpose / Need)<a hidden class=anchor aria-hidden=true href=#-작업-6-1-배경-background-및-필요성-purpose--need>#</a></h2><p><strong>배경</strong>
전통적인 단일 시스템 또는 레이어드 아키텍처는 각 컴포넌트가 동기 호출로 연결돼 있어 확장성과 높은 가용성 확보에 한계가 있음. 파티션 오프(PoP) 방식이 증가하고, 실시간 처리 및 분산 확산이 일반화되며, 시스템 간 느슨한 연결이 요구됨.</p><p><strong>필요성</strong></p><ul><li><strong>확장성 향상</strong>: 대량 이벤트를 비동기 방식으로 처리해 확장성 확보</li><li><strong>유지보수 용이성</strong>: 독립적인 컴포넌트 배포로 서비스 지속적 업데이트 가능</li><li><strong>실시간 응답성</strong>: 이벤트 발생 즉시 처리 및 소비자 알림 가능</li><li><strong>장애 격리</strong>: 특정 컴포넌트 장애시 전체 시스템 영향 최소화</li></ul><hr><h2 id=-작업-6-2-구조-및-아키텍처-architecture--components>✅ 작업 6-2: 구조 및 아키텍처 (Architecture & Components)<a hidden class=anchor aria-hidden=true href=#-작업-6-2-구조-및-아키텍처-architecture--components>#</a></h2><h3 id=-필수-구성-요소-essential-components>✅ 필수 구성 요소 (Essential Components)<a hidden class=anchor aria-hidden=true href=#-필수-구성-요소-essential-components>#</a></h3><ul><li><strong>Producer (이벤트 생성자)</strong>: 이벤트를 생성하고 브로커에 전송</li><li><strong>Broker/Event Bus</strong>: 이벤트 라우팅, 저장, 전달</li><li><strong>Topic / Channel</strong>: 이벤트 흐름을 분류하는 스트림 단위</li><li><strong>Consumer (이벤트 소비자)</strong>: 이벤트를 구독하고 처리</li><li><strong>Event Store (선택적)</strong>: 이벤트 로그 저장소 (Event Sourcing용)</li><li><strong>Schema Registry (선택적)</strong>: 메시지 포맷 및 변경 관리</li></ul><h3 id=-선택-구성-요소-optional-components>🛠 선택 구성 요소 (Optional Components)<a hidden class=anchor aria-hidden=true href=#-선택-구성-요소-optional-components>#</a></h3><ul><li><strong>Event Processor</strong>: 필터링, 집계, 변환</li><li><strong>Monitoring & Alerting</strong>: 메트릭 수집, 대시보드, 경보</li><li><strong>Security Layer</strong>: 인증·인가 (TLS, JWT)</li><li><strong>Dead Letter Queue (DLQ)</strong>: 처리 실패 메시지 관리</li></ul><h3 id=구조-다이어그램>구조 다이어그램<a hidden class=anchor aria-hidden=true href=#구조-다이어그램>#</a></h3><pre class=mermaid>flowchart LR
  A[Producer] --&gt;|Publish Event| B[Broker / Event Bus]
  B --&gt;|Store in Topic| C[Event Store]
  B --&gt;|Distribute| D[Consumer 1]
  B --&gt;|Distribute| E[Consumer 2]
  B --&gt;|Failed →| F[DLQ]
  subgraph Optional Layer
    G[Schema Registry]
    H[Monitoring / Security]
  end
  B --- G
  B --- H
</pre><p><strong>설명</strong>:</p><ul><li>Producer는 이벤트를 전송</li><li>Broker는 메시지 라우팅과 내구성 보증</li><li>Consumer는 각자 관심 있는 이벤트를 구독</li><li>실패 메시지는 DLQ로 이동</li><li>Schema Registry와 Monitoring은 품질 및 운영 안정성 강화</li></ul><hr><h2 id=-작업-6-3-주요-원리-key-principles-및-작동-원리-how-it-works>✅ 작업 6-3: 주요 원리 (Key Principles) 및 작동 원리 (How It Works)<a hidden class=anchor aria-hidden=true href=#-작업-6-3-주요-원리-key-principles-및-작동-원리-how-it-works>#</a></h2><h3 id=-주요-원리>✅ 주요 원리<a hidden class=anchor aria-hidden=true href=#-주요-원리>#</a></h3><ul><li><strong>Loose Coupling (느슨한 결합)</strong>: 프로듀서 및 컨슈머 간 직접 의존 제거</li><li><strong>Asynchronous Messaging (비동기 메시징)</strong>: 즉시 응답 없이 이벤트 처리</li><li><strong>Event-First Design</strong>: 도메인 핵심 변화는 이벤트를 통해 표현</li><li><strong>Idempotency (멱등성)</strong>: 중복 처리 발생 시 동일 결과 유지</li><li><strong>Time-Travel through Event Store</strong>: 이벤트 재생으로 현재 상태 복원</li></ul><h3 id=-작동-원리-다이어그램>✅ 작동 원리 다이어그램<a hidden class=anchor aria-hidden=true href=#-작동-원리-다이어그램>#</a></h3><pre class=mermaid>sequenceDiagram
  participant P as Producer
  participant B as Broker
  participant C as Consumer
  P-&gt;&gt;B: Emit &#34;OrderCreated&#34;
  B-&gt;&gt;C: Notify event
  C-&gt;&gt;C: Process order
  alt Processing error
    C-&gt;&gt;B: Send to DLQ
  end
  note over B,C: 메시징 내구성 &amp; 중복 방지
</pre><p><strong>설명</strong>:</p><ol><li>Producer가 이벤트를 브로커에 발행</li><li>Broker는 이벤트 저장 및 메시징</li><li>Consumer가 이벤트를 수신 후 처리</li><li>오류 발생 시 DLQ 또는 재시도 처리</li></ol><hr><h2 id=-다음-단계-계획>🧭 다음 단계 (계획)<a hidden class=anchor aria-hidden=true href=#-다음-단계-계획>#</a></h2><p>다음에는 아래 항목들을 표 및 다이어그램과 함께 상세히 정리하겠습니다.</p><ul><li>✅ “구현 기법” 및 “분류 기준에 따른 종류 및 유형”</li><li>✅ “장점”, “단점과 문제점 및 해결방안”, “도전 과제”</li><li>✅ “실무 사용 예시” 및 “활용 사례”, “구현 예시”</li><li>✅ “실무 적용/최적화 고려사항 및 권장사항”</li></ul><p>원하시는 내용 우선순위를 말씀해주시면, 해당 내용부터 집중적으로 다뤄드리겠습니다!</p><hr><h2 id=-작업-6-4-구현-기법-implementation-techniques>✅ 작업 6-4: 구현 기법 (Implementation Techniques)<a hidden class=anchor aria-hidden=true href=#-작업-6-4-구현-기법-implementation-techniques>#</a></h2><table><thead><tr><th>기법</th><th>정의</th><th>구성</th><th>목적</th><th>실제 예시</th></tr></thead><tbody><tr><td>1. 메시지 큐 기반</td><td>RabbitMQ, ActiveMQ 활용</td><td>Producer→Exchange(라우팅)→Queue→Consumer</td><td>비동기 메시징, 라우팅</td><td>RabbitMQ에서 ‘direct’, ‘topic’ 라우팅</td></tr><tr><td>2. 스트림 플랫폼</td><td>Kafka, Pulsar 사용</td><td>Topic, Partition, Consumer Group</td><td>고성능, 내구성</td><td>Kafka로 주문스트림 처리, 소비자 그룹 확장</td></tr><tr><td>3. 이벤트 소싱 + CQRS</td><td>이벤트 저장소 + 커맨드/쿼리 서비스 분리</td><td>Event Store, Read Model</td><td>내역 재생, 높은 읽기 성능</td><td>Axon Framework 기반 주문관리</td></tr><tr><td>4. 서버리스 이벤트 처리</td><td>AWS SNS/SQS, Azure Event Grid</td><td>Topic, Subscription</td><td>Managed 비동기</td><td>SNS→SQS→Lambda 이벤트 처리</td></tr><tr><td>5. 스트림 처리 엔진</td><td>Flink, Kafka Streams, Spark Streaming</td><td>Stream Processor</td><td>실시간 변환/집계</td><td>Kafka Streams로 클릭 로그 실시간 분석</td></tr></tbody></table><hr><h2 id=-작업-6-5-분류-기준에-따른-종류-및-유형-classification-by-criteria>✅ 작업 6-5: 분류 기준에 따른 종류 및 유형 (Classification by Criteria)<a hidden class=anchor aria-hidden=true href=#-작업-6-5-분류-기준에-따른-종류-및-유형-classification-by-criteria>#</a></h2><table><thead><tr><th>분류 기준</th><th>유형</th><th>설명</th></tr></thead><tbody><tr><td>메시징 모델</td><td>Pub/Sub vs Message Queue</td><td>Pub/Sub: 브로드캐스트, Message Queue: 포인트-투-포인트</td></tr><tr><td>내구성</td><td>Transient vs Persisted</td><td>Transient: 메모리, Persisted: 디스크 저장</td></tr><tr><td>소비자 구조</td><td>Fan-out vs Competing Consumers</td><td>Fan-out: 다수 옵저버, Competing: 컨슈머 그룹</td></tr><tr><td>배포 방식</td><td>On-prem vs Cloud Managed</td><td>Kafka on-prem, AWS MSK or Confluent Cloud</td></tr></tbody></table><hr><h3 id=-explanation>📌 Explanation<a hidden class=anchor aria-hidden=true href=#-explanation>#</a></h3><ul><li><strong>Pub/Sub</strong>은 브로커가 여러 컨슈머에게 이벤트를 전달하는 모델</li><li><strong>Message Queue</strong>는 하나의 작업을 하나의 컨슈머에 전달하는 큐 기반 모델</li><li><strong>내구성</strong> 차원에서 디스크 기반 저장 여부에 따라 분류됨</li><li><strong>Fan-out</strong>은 Broadcast, <strong>Competing</strong>은 작업 분산 처리 방식</li><li><strong>클라우드 매니지드</strong>는 운영 복잡도 감소 및 SLA 제공</li></ul><hr><h2 id=-다음-단계>🧭 다음 단계<a hidden class=anchor aria-hidden=true href=#-다음-단계>#</a></h2><p>다음 메시지에서는 아래 내용을 표와 그림 중심으로 정리하겠습니다:</p><ul><li>✅ 장점</li><li>✅ 단점 및 문제점 ➜ 해결방안</li><li>✅ 도전 과제</li><li>✅ 실무 사용 예시 & 활용 사례 & 코드 구현</li></ul><p>필요하신 부분을 우선으로 말씀해 주세요!</p><hr><h2 id=-작업-6-6-장점-advantages>✅ 작업 6-6: 장점 (Advantages)<a hidden class=anchor aria-hidden=true href=#-작업-6-6-장점-advantages>#</a></h2><p>이벤트 기반 아키텍처의 주요 장점과 해당 특성이 나타나는 이유를 아래 표에 정리했습니다:</p><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>장점</td><td>확장성</td><td>비동기 메시징으로 시스템 부하를 개별 서비스로 분산 처리 가능</td></tr><tr><td></td><td>느슨한 결합</td><td>Producer와 Consumer가 직접 연결되지 않아 독립 개발/배포 가능</td></tr><tr><td></td><td>고가용성</td><td>메시지 내구성과 장애 격리가 가능해 부분 장애 시에도 시스템 유지 가능</td></tr><tr><td></td><td>실시간 반응성</td><td>이벤트 발생 즉시 처리 및 알림이 가능해 대기 시간 최소화</td></tr><tr><td></td><td>재현성 (재작업 가능)</td><td>이벤트 저장 및 재생을 통해 특정 시점 상태 복원, 감사지원 가능</td></tr><tr><td></td><td>유연성</td><td>새로운 서비스 추가 시 이벤트를 구독만 하면 되므로 확장·변경 용이</td></tr></tbody></table><hr><h2 id=-작업-6-7-단점-문제점-및-해결방안-disadvantages--issues>✅ 작업 6-7: 단점, 문제점 및 해결방안 (Disadvantages & Issues)<a hidden class=anchor aria-hidden=true href=#-작업-6-7-단점-문제점-및-해결방안-disadvantages--issues>#</a></h2><h3 id=-단점>📌 단점<a hidden class=anchor aria-hidden=true href=#-단점>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th><th>해결책</th></tr></thead><tbody><tr><td>단점</td><td>복잡한 운영</td><td>브로커, 스키마 레지스트리, DLQ 등 구성요소가 많음</td><td>관리 자동화, IaC, 모니터링 툴 활용</td></tr><tr><td></td><td>디버깅·추적 어려움</td><td>비동기 호출로 인해 호출의 흐름을 추적하기 어려움</td><td>분산 트레이싱, 중앙 로깅, Correlation ID 활용</td></tr><tr><td></td><td>메시지 중복 가능성</td><td>재시도나 네트워크 오류로 중복 수신 가능</td><td>멱등성 구현, 시퀀싱, 고유 메시지 ID 활용</td></tr><tr><td></td><td>데이터 일관성 이슈</td><td>eventual consistency로 인한 일관성 지연 가능</td><td>Saga 패턴, 모니터링 및 경보 시스템 강화</td></tr></tbody></table><h3 id=-문제점>📌 문제점<a hidden class=anchor aria-hidden=true href=#-문제점>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>원인</th><th>영향</th><th>탐지 및 진단</th><th>예방 방법</th><th>해결 방법 및 기법</th></tr></thead><tbody><tr><td>문제점</td><td>메시지 지연</td><td>브로커 과부하, 네트워크 이슈</td><td>처리 지연, 알람 누락</td><td>메트릭 기반 지연 시간 모니터링</td><td>메시징 시스템 용량 설계, QoS 설정</td><td>스케일 아웃, 백프레셔 정책 적용, 우선순위 큐 도입</td></tr><tr><td></td><td>메시지 유실</td><td>브로커 DSG 미설정, 네트워크 장애</td><td>중요한 이벤트 누락, 장애 발생</td><td>브로커 ACK 확인 실패 모니터링, 메시지 추적</td><td>메시지 보증(Ack, Persisted) 구성</td><td>재시도 로직, DLQ 서버, 재프로세스 스크립트 구현</td></tr><tr><td></td><td>오작동 루프</td><td>잘못된 라우팅 구성, 무한 이벤트 순환</td><td>시스템 부하, 메시징 실패</td><td>순환 탐지 트레이싱, 메시지 TTL 설정</td><td>라우팅 정책 체계적 설계, 백프레셔 계획</td><td>무한 루프 감지 로직, 큐 TTL 및 DLQ 설정 적용</td></tr></tbody></table><hr><h2 id=-작업-6-8-도전-과제-challenges>✅ 작업 6-8: 도전 과제 (Challenges)<a hidden class=anchor aria-hidden=true href=#-작업-6-8-도전-과제-challenges>#</a></h2><p>현재 실무 및 기술 트렌드를 반영해 남아 있는 고민들을 다음과 같이 정리했습니다:</p><ol><li><p><strong>글로벌 멀티 리전 메시징</strong></p><ul><li><strong>원인</strong>: 지리적으로 분산된 시스템 트래픽 처리</li><li><strong>영향</strong>: 토픽 복제, 레이턴시, 홍수 트래픽 우려</li><li><strong>대응 기법</strong>: Cross-region replication, Geo-partitioning, Conflict-free 데이터 구조 (CRDT), Orchestration</li></ul></li><li><p><strong>Schema Evolution 관리</strong></p><ul><li><strong>원인</strong>: 메시지 포맷이 변경될 경우 시스템 간 불일치</li><li><strong>영향</strong>: 계약 위반, 구독자 처리 오류</li><li><strong>대응 기법</strong>: Schema Registry 활용, backward/forward 호환성 유지, 호환성 검증 파이프라인 구축</li></ul></li><li><p><strong>복잡한 거래 관리 (Distributed Transaction)</strong></p><ul><li><strong>원인</strong>: 서로 다른 서비스에 걸친 업무 흐름</li><li><strong>영향</strong>: 트랜잭션 실패 시 데이터 불일치, 롤백 어려움</li><li><strong>대응 기법</strong>: Saga 패턴, 2PC 도입 검토, Compensating Transaction 설계</li></ul></li><li><p><strong>보안 및 규제 준수</strong></p><ul><li><strong>원인</strong>: 민감한 데이터가 이벤트로 흐를 경우 노출 위험</li><li><strong>영향</strong>: 법률 위반, 생체정보 유출 위험</li><li><strong>대응 기법</strong>: TLS, OAuth/JWT 인증구현, PII 암호화, 감사로그 보관</li></ul></li></ol><hr><h3 id=-다음-단계-1>✅ 다음 단계<a hidden class=anchor aria-hidden=true href=#-다음-단계-1>#</a></h3><p>다음에는 아래 항목 순으로 작성 예정입니다:</p><ul><li>📌 실무 사용 예시 & 활용 사례 (표 + 하나 사례 심화 + 다이어그램)</li><li>📌 구현 예시 (Python 또는 JS 코드)</li><li>📌 실무 적용 고려사항 및 권장사항 + 최적화 테이블</li></ul><p>우선 어떤 항목부터 먼저 다뤄드릴까요?</p><hr><h2 id=-작업-6-9-실무-사용-예시-use-cases>✅ 작업 6-9: 실무 사용 예시 (Use Cases)<a hidden class=anchor aria-hidden=true href=#-작업-6-9-실무-사용-예시-use-cases>#</a></h2><table><thead><tr><th>솔루션 영역</th><th>목적</th><th>설명</th></tr></thead><tbody><tr><td>주문 처리 시스템</td><td>비동기 주문, 재고, 청구 연동</td><td>주문 생성 → 이벤트 발행 → 재고/청구/알림 서비스 병렬처리</td></tr><tr><td>IoT 데이터 처리</td><td>실시간 센서 데이터 수집 및 분석</td><td>각 센서 장치에서 데이터 스트림을 Kafka로 수집, 실시간 집계</td></tr><tr><td>클릭스트림 분석</td><td>사용자 행동 실시간 수집</td><td>웹앱에서 클릭 이벤트 발행, 분석 스트림으로 처리 및 시각화</td></tr><tr><td>은행 거래 및 감사</td><td>트랜잭션 기록 및 재생 지원</td><td>모든 거래를 이벤트로 저장해 감사지원, 이후 복원 및 분석 가능</td></tr><tr><td>마이크로서비스 통합</td><td>서비스 간 느슨한 결합과 확장성</td><td>서비스간 이벤트 유도를 통한 상태 전파, 신기능 추가 용이</td></tr></tbody></table><hr><h2 id=-작업-6-10-활용-사례--kafka-기반-주문-처리-시스템->✅ 작업 6-10: 활용 사례 – Kafka 기반 주문 처리 시스템 🌟<a hidden class=anchor aria-hidden=true href=#-작업-6-10-활용-사례--kafka-기반-주문-처리-시스템->#</a></h2><h3 id=-시스템-구성>✅ 시스템 구성<a hidden class=anchor aria-hidden=true href=#-시스템-구성>#</a></h3><pre class=mermaid>flowchart TB
  subgraph WebApp
    U[User 주문 요청] --&gt; API[Order API]
  end
  API --&gt; KafkaTopic[OrderCreated Topic]
  subgraph 미판매 서비스
    InventorySvc --&gt; KafkaTopic
  end
  subgraph 소비자들
    InventorySvc[재고 검사] --&gt; PaymentSvc[청구 서비스]
    NotificationSvc[알림 발송]
    AnalyticsSvc[로그 분석]
  end  
  KafkaTopic --&gt; InventorySvc
  KafkaTopic --&gt; PaymentSvc
  KafkaTopic --&gt; NotificationSvc
  KafkaTopic --&gt; AnalyticsSvc
</pre><h3 id=-workflow>✅ Workflow<a hidden class=anchor aria-hidden=true href=#-workflow>#</a></h3><ol><li>WebApp → API 서버가 <code>OrderCreated</code> 이벤트 발행</li><li>Kafka는 이벤트를 <code>InventorySvc</code>, <code>PaymentSvc</code>, <code>NotificationSvc</code>, <code>AnalyticsSvc</code> 등 컨슈머에게 전달</li><li>각 컨슈머는 독립적으로 처리 수행</li><li>장애 발생 시 DLQ 처리 및 자동 복구 가능</li></ol><h3 id=-핵심-역할>✅ 핵심 역할<a hidden class=anchor aria-hidden=true href=#-핵심-역할>#</a></h3><ul><li>주문 상태 비동기 전파 → 다른 서비스 의존성 최소화</li><li>확장성: 소비자별 오토스케일링 가능</li><li>장애 격리: 한 서비스 장애가 전체 시스템 영향 최소화</li></ul><hr><h2 id=-작업-6-11-구현-예시-python--kafka>✅ 작업 6-11: 구현 예시 (Python & Kafka)<a hidden class=anchor aria-hidden=true href=#-작업-6-11-구현-예시-python--kafka>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1> 1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2> 2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3> 3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4> 4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5> 5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6> 6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7> 7</a>
</span><span class=lnt id=hl-7-8><a class=lnlinks href=#hl-7-8> 8</a>
</span><span class=lnt id=hl-7-9><a class=lnlinks href=#hl-7-9> 9</a>
</span><span class=lnt id=hl-7-10><a class=lnlinks href=#hl-7-10>10</a>
</span><span class=lnt id=hl-7-11><a class=lnlinks href=#hl-7-11>11</a>
</span><span class=lnt id=hl-7-12><a class=lnlinks href=#hl-7-12>12</a>
</span><span class=lnt id=hl-7-13><a class=lnlinks href=#hl-7-13>13</a>
</span><span class=lnt id=hl-7-14><a class=lnlinks href=#hl-7-14>14</a>
</span><span class=lnt id=hl-7-15><a class=lnlinks href=#hl-7-15>15</a>
</span><span class=lnt id=hl-7-16><a class=lnlinks href=#hl-7-16>16</a>
</span><span class=lnt id=hl-7-17><a class=lnlinks href=#hl-7-17>17</a>
</span><span class=lnt id=hl-7-18><a class=lnlinks href=#hl-7-18>18</a>
</span><span class=lnt id=hl-7-19><a class=lnlinks href=#hl-7-19>19</a>
</span><span class=lnt id=hl-7-20><a class=lnlinks href=#hl-7-20>20</a>
</span><span class=lnt id=hl-7-21><a class=lnlinks href=#hl-7-21>21</a>
</span><span class=lnt id=hl-7-22><a class=lnlinks href=#hl-7-22>22</a>
</span><span class=lnt id=hl-7-23><a class=lnlinks href=#hl-7-23>23</a>
</span><span class=lnt id=hl-7-24><a class=lnlinks href=#hl-7-24>24</a>
</span><span class=lnt id=hl-7-25><a class=lnlinks href=#hl-7-25>25</a>
</span><span class=lnt id=hl-7-26><a class=lnlinks href=#hl-7-26>26</a>
</span><span class=lnt id=hl-7-27><a class=lnlinks href=#hl-7-27>27</a>
</span><span class=lnt id=hl-7-28><a class=lnlinks href=#hl-7-28>28</a>
</span><span class=lnt id=hl-7-29><a class=lnlinks href=#hl-7-29>29</a>
</span><span class=lnt id=hl-7-30><a class=lnlinks href=#hl-7-30>30</a>
</span><span class=lnt id=hl-7-31><a class=lnlinks href=#hl-7-31>31</a>
</span><span class=lnt id=hl-7-32><a class=lnlinks href=#hl-7-32>32</a>
</span><span class=lnt id=hl-7-33><a class=lnlinks href=#hl-7-33>33</a>
</span><span class=lnt id=hl-7-34><a class=lnlinks href=#hl-7-34>34</a>
</span><span class=lnt id=hl-7-35><a class=lnlinks href=#hl-7-35>35</a>
</span><span class=lnt id=hl-7-36><a class=lnlinks href=#hl-7-36>36</a>
</span><span class=lnt id=hl-7-37><a class=lnlinks href=#hl-7-37>37</a>
</span><span class=lnt id=hl-7-38><a class=lnlinks href=#hl-7-38>38</a>
</span><span class=lnt id=hl-7-39><a class=lnlinks href=#hl-7-39>39</a>
</span><span class=lnt id=hl-7-40><a class=lnlinks href=#hl-7-40>40</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># requirements: confluent-kafka==2.0.0</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>confluent_kafka</span> <span class=kn>import</span> <span class=n>Producer</span><span class=p>,</span> <span class=n>Consumer</span><span class=p>,</span> <span class=n>KafkaException</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span><span class=o>,</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 1. 프로듀서 설정 및 이벤트 발행</span>
</span></span><span class=line><span class=cl><span class=n>producer_conf</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;bootstrap.servers&#39;</span><span class=p>:</span> <span class=s1>&#39;kafka:9092&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>producer</span> <span class=o>=</span> <span class=n>Producer</span><span class=p>(</span><span class=n>producer_conf</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>publish_order</span><span class=p>(</span><span class=n>order</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>producer</span><span class=o>.</span><span class=n>produce</span><span class=p>(</span><span class=s1>&#39;OrderCreated&#39;</span><span class=p>,</span> <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>order</span><span class=p>)</span><span class=o>.</span><span class=n>encode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=n>producer</span><span class=o>.</span><span class=n>flush</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2. 컨슈머 설정 및 이벤트 처리</span>
</span></span><span class=line><span class=cl><span class=n>consumer_conf</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;bootstrap.servers&#39;</span><span class=p>:</span> <span class=s1>&#39;kafka:9092&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;group.id&#39;</span><span class=p>:</span> <span class=s1>&#39;inventory-service&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;auto.offset.reset&#39;</span><span class=p>:</span> <span class=s1>&#39;earliest&#39;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>consumer</span> <span class=o>=</span> <span class=n>Consumer</span><span class=p>(</span><span class=n>consumer_conf</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>consumer</span><span class=o>.</span><span class=n>subscribe</span><span class=p>([</span><span class=s1>&#39;OrderCreated&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>process_inventory</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>msg</span> <span class=o>=</span> <span class=n>consumer</span><span class=o>.</span><span class=n>poll</span><span class=p>(</span><span class=mf>1.0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>msg</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span> <span class=k>continue</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>msg</span><span class=o>.</span><span class=n>error</span><span class=p>():</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Error: </span><span class=si>{</span><span class=n>msg</span><span class=o>.</span><span class=n>error</span><span class=p>()</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>continue</span>
</span></span><span class=line><span class=cl>        <span class=n>event</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>msg</span><span class=o>.</span><span class=n>value</span><span class=p>()</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;InventoryService 처리 중: 주문ID=</span><span class=si>{</span><span class=n>event</span><span class=p>[</span><span class=s1>&#39;order_id&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 실제 재고 검사/예외 시 DLQ logic</span>
</span></span><span class=line><span class=cl>        <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=kn>import</span> <span class=nn>threading</span>
</span></span><span class=line><span class=cl>    <span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>process_inventory</span><span class=p>,</span> <span class=n>daemon</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=c1># 예시 주문 발행</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>publish_order</span><span class=p>({</span><span class=s1>&#39;order_id&#39;</span><span class=p>:</span> <span class=n>i</span><span class=p>,</span> <span class=s1>&#39;item&#39;</span><span class=p>:</span> <span class=sa>f</span><span class=s1>&#39;product_</span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>,</span> <span class=s1>&#39;qty&#39;</span><span class=p>:</span> <span class=n>i</span><span class=o>*</span><span class=mi>2</span><span class=p>})</span>
</span></span><span class=line><span class=cl>        <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.5</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=-작업-6-12-실무-및-최적화-고려사항>✅ 작업 6-12: 실무 및 최적화 고려사항<a hidden class=anchor aria-hidden=true href=#-작업-6-12-실무-및-최적화-고려사항>#</a></h2><table><thead><tr><th>고려사항</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td><strong>메시지 스키마 안정성</strong></td><td>스키마 변경 시 소비자 재배포 문제</td><td>Schema Registry 이용하고 backward/forward 호환 설계</td></tr><tr><td><strong>모니터링 및 트레이싱</strong></td><td>비동기 특성으로 디버깅 어려움</td><td>OpenTelemetry, Prometheus, Kafka Exporter, Correlation ID 적용</td></tr><tr><td><strong>DLQ 정책 설계</strong></td><td>반복 실패 메시지 누적 위험</td><td>재시도 카운트, TTL, 알림 포함 DLQ 규칙 설계</td></tr><tr><td><strong>오더링(ordering) 보장 여부</strong></td><td>파티션 설계에 따라 순서 보장 여부 결정</td><td>Key 기반 파티셔닝으로 연관 메시지 정렬 유지</td></tr><tr><td><strong>스케일링 전략</strong></td><td>부하/지연 대응을 위한 소비자 수 조정 필요</td><td>Consumer Group 수평 확장, Kafka 리밸런싱 계획 수립</td></tr><tr><td><strong>보안 및 접근 권한 관리</strong></td><td>이벤트 노출·위조 및 구독권한 제어 필요</td><td>TLS, ACL, OAuth/JWT 적용 및 최소 권한 정책 구축</td></tr></tbody></table><hr><h2 id=-요약>✅ 요약<a hidden class=anchor aria-hidden=true href=#-요약>#</a></h2><p>이어서 &ldquo;실무 사용 예시&rdquo;, &ldquo;활용 사례&rdquo;, &ldquo;코드 구현 예시&rdquo;, &ldquo;실무 및 최적화 고려사항"까지 정리했습니다.
다음으로 원하시는 주제는 <strong>테스트 전략</strong>, <strong>퍼블리싱 전달 보증 수준</strong>, <strong>컴플라이언스 보장</strong>, 또는 다른 특정 영역이 있으시면 말씀주세요. 요청하시면 해당 내용 심화 정리해 드립니다 😉</p><hr><h2 id=-키워드-정리>🧠 키워드 정리<a hidden class=anchor aria-hidden=true href=#-키워드-정리>#</a></h2><p>EDA, Kafka, RabbitMQ, Event Sourcing, CQRS, DLQ, Schema Registry, Infra Monitoring, Consumer Group, Partition, Idempotency, Correlation ID</p><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>메시징</td><td>DLQ</td><td>Dead Letter Queue: 처리 실패 메시지 임시 저장소</td></tr><tr><td>메시징</td><td>Partition</td><td>Kafka 내 메시지 순서와 확장성을 위한 단위</td></tr><tr><td>메시징</td><td>Correlation ID</td><td>요청-응답 트레이싱을 위한 고유 식별자</td></tr><tr><td>패턴</td><td>Event Sourcing</td><td>상태 변화를 이벤트 이력으로 저장하고 재현하는 방식</td></tr><tr><td>패턴</td><td>CQRS</td><td>쓰기/읽기 책임 분리 아키텍처 패턴</td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><ul><li><a href=https://kafka.apache.org>Apache Kafka 공식 문서</a></li><li><a href=https://www.confluent.io/blog/event-sourcing-cqrs-apache-kafka/>Confluent Blog: Why use Event Sourcing?</a></li></ul><p>다른 심화 영역이 필요하시면 언제든지 말씀해주세요!</p><hr><h2 id=-작업-6-13-테스트-전략-testing-strategies>✅ 작업 6-13: 테스트 전략 (Testing Strategies)<a hidden class=anchor aria-hidden=true href=#-작업-6-13-테스트-전략-testing-strategies>#</a></h2><p>이벤트 기반 아키텍처의 특성을 고려한 테스트 전략은 다음과 같습니다:</p><table><thead><tr><th>테스트 유형</th><th>목적</th><th>방법 및 툴</th></tr></thead><tbody><tr><td><strong>단위 테스트</strong></td><td>메시지 발행/구독 유효성 보장</td><td>Producer와 Consumer 로직을 Mock 브로커로 독립 검증</td></tr><tr><td><strong>통합 테스트</strong></td><td>메시지 흐름 및 구성요소 간 연동 검증</td><td>Testcontainers로 Kafka, RabbitMQ 환경 구성 후 E2E 검증</td></tr><tr><td><strong>계약 테스트 (Contract Testing)</strong></td><td>프로듀서-컨슈머 메시지 스키마 계약 보장</td><td>Pact, Postman, Kafka Schema Registry 테스트 유닛</td></tr><tr><td><strong>성능 테스트</strong></td><td>지연, 처리량, 파티션 전략 성능 확인</td><td>Gatling, k6, JMeter를 통한 지속부하 및 스트레스 테스트</td></tr><tr><td><strong>혼합 테스트 (Chaos Testing)</strong></td><td>장애 복구/장애격리 보장</td><td>Gremlin, Chaos Monkey를 통해 브로커/Consumer 장애 시나리오</td></tr></tbody></table><p>🔧 <strong>권장 접근</strong>:</p><ul><li><strong>계약 테스트</strong>로 메시지 스키마 안정성 확보</li><li><strong>통합 테스트</strong> 환경에 Testcontainers 활용</li><li><strong>퍼포먼스 테스트</strong> 하드웨어/네트워크 특성 반영</li><li><strong>Chaos 테스트</strong>로 장애 복원력 확보</li></ul><hr><h2 id=-작업-6-14-퍼블리싱-전달-보증-수준-delivery-guarantees>✅ 작업 6-14: 퍼블리싱 전달 보증 수준 (Delivery Guarantees)<a hidden class=anchor aria-hidden=true href=#-작업-6-14-퍼블리싱-전달-보증-수준-delivery-guarantees>#</a></h2><p>각 메시징 시스템은 서로 다른 전달 보증 수준을 제공하며, 보증 수준 설계 시 중요한 고려사항입니다:</p><table><thead><tr><th>보증 수준</th><th>정의</th><th>구현 방식</th><th>예시</th></tr></thead><tbody><tr><td><strong>At-most-once</strong></td><td>한 번 이하 전달 (손실 허용)</td><td>Ack 없이 전송 후 삭제</td><td>알림성 이벤트, 로그 전송</td></tr><tr><td><strong>At-least-once</strong></td><td>최소 한 번 이상 전달 (중복 허용)</td><td>Producer 재시도, Consumer ack</td><td>핵심 비즈니스 트랜잭션</td></tr><tr><td><strong>Exactly-once</strong></td><td>정확히 한 번 전달 보장</td><td>idempotent producer + 트랜잭션</td><td>Kafka의 EOS 및 Tranactional Writes</td></tr></tbody></table><h3 id=구현-팁>구현 팁<a hidden class=anchor aria-hidden=true href=#구현-팁>#</a></h3><ul><li><code>idempotent producer</code> 설정 (<code>enable.idempotence = true</code>)</li><li><code>transactional.id</code> 설정으로 트랜잭션 활용</li><li>메시지 구조에 고유 메시지 ID 포함 → Consumer 멱등 처리</li></ul><hr><h2 id=-작업-6-15-컴플라이언스-보장-compliance-assurance>✅ 작업 6-15: 컴플라이언스 보장 (Compliance Assurance)<a hidden class=anchor aria-hidden=true href=#-작업-6-15-컴플라이언스-보장-compliance-assurance>#</a></h2><p>이벤트 기반 시스템 운영 시 법적·보안적 요구사항을 만족하기 위한 설계 요건:</p><ol><li><p><strong>이력 관리 (Audit Trail)</strong></p><ul><li>모든 이벤트 기록 및 재생 기능 → 감사 대응</li><li>예시 도구: Kafka-Connect, Event Store</li></ul></li><li><p><strong>민감정보 보호 (PII / PHI)</strong></p><ul><li>이벤트 내 PII 암호화 또는 토큰화</li><li>Schema Registry로 스키마 정책 적용</li></ul></li><li><p><strong>접근 제어 및 인증/인가</strong></p><ul><li>Kafka ACL, IAM 역할, OAuth/JWT 활용</li></ul></li><li><p><strong>데이터 보존 정책</strong></p><ul><li>규제 요구사항에 맞춘 이벤트 보존기간 설정 (예: 7년 아카이브)</li><li>Tiered Storage, S3 Life Cycle 활용</li></ul></li><li><p><strong>감사 로깅 및 모니터링</strong></p><ul><li>누가, 언제, 어떤 이벤트를 발행·소비했는지 로깅</li><li>SIEM 연동 및 경보 시스템 구성</li></ul></li><li><p><strong>규제 지역 준수</strong></p><ul><li>GDPR, HIPAA, SOC2 등 규정에 따른 데이터 주권 준수</li><li>Cross‑Region Replication 시 암호화 및 지역 격리 보장</li></ul></li></ol><hr><h2 id=-작업-6-16-실무-적용-고려사항--최적화-권장사항>✅ 작업 6-16: 실무 적용 고려사항 & 최적화 권장사항<a hidden class=anchor aria-hidden=true href=#-작업-6-16-실무-적용-고려사항--최적화-권장사항>#</a></h2><table><thead><tr><th>항목</th><th>고려사항 및 위험 요소</th><th>권장사항</th></tr></thead><tbody><tr><td><strong>스키마 관리</strong></td><td>호환성 안맞을 시 시스템 장애</td><td>Registry와 CI/CD 연동 → 자동 검증 및 강제 적용</td></tr><tr><td><strong>모니터링 지연/지표 부족</strong></td><td>지연 감지·원인 파악 어려움</td><td>Prometheus + Grafana + 로그 중앙집중 구축</td></tr><tr><td><strong>재처리 및 재생 전략</strong></td><td>재플레이 중중복, 순서 꼬임 위험</td><td>Event Store 버전관리, offset checkpoint 사용</td></tr><tr><td><strong>파트션 설계 및 데이터 할당 전략</strong></td><td>불균형 트래픽 → 핫 파티션, 지연 발생</td><td>Key 기반 파티셔닝, Partition 수 고려 통한 균형</td></tr><tr><td><strong>보안 및 인증 구성</strong></td><td>데이터 노출 또는 중간자 공격 가능</td><td>TLS, ACL 설정, RBAC/IAM 최소 권한 확대</td></tr><tr><td><strong>오토스케일링 및 백프레셔 대응</strong></td><td>갑작스런 트래픽 급증 시 Consumer 처리 지연</td><td>Consumer Group 자동 확장, Kafka 리밸런싱</td></tr><tr><td><strong>비용 효율 최적화</strong></td><td>디스크 용량, 클라우드 스토리지 비용 증가</td><td>Tiered Storage, 압축, retention 정책 조정</td></tr></tbody></table><p>⭐ <strong>권장사항 요약</strong>:</p><ul><li><strong>자동화 및 CI/CD 통합</strong>: 스키마 검증, 테라폼(Infrastructure as Code)</li><li><strong>모니터링 및 알람 체계 구축</strong>: SLO 기반 로깅/트레이싱</li><li><strong>재생 구조 설계</strong>: 재처리 시 순서/중복 대비</li><li><strong>보안 전반 강화</strong>: TLS/ACL, 개인정보 암호화/토큰화 적용</li><li><strong>비용 최적화</strong>: Tiered Storage, retention 정책, 데이터 압축</li></ul><hr><h3 id=-마무리>✅ 마무리<a hidden class=anchor aria-hidden=true href=#-마무리>#</a></h3><p>이로써 테스트, 보증 수준, 컴플라이언스, 실무 적용/최적화 항목까지 심도 있게 정리했습니다.
다음으로 원하시는 영역이 있다면 말씀해 주세요. 예: <strong>Event Sourcing 실전 예제</strong>, <strong>Kafka vs Pulsar 비교</strong>, <strong>Cross‑Region Replication 설계</strong>, <strong>성능 튜닝 상세 가이드</strong>, 등 원하시는 주제를 추가 심화 가능합니다 😊</p><p>Event-Driven Architecture에 대한 체계적인 조사를 시작하겠습니다. 먼저 관련 정보를 수집하여 분석하겠습니다.Event-Driven Architecture에 대한 체계적인 조사 결과를 제시하겠습니다.</p><h2 id=1-태그-및-분류-구조-분석>1. 태그 및 분류 구조 분석<a hidden class=anchor aria-hidden=true href=#1-태그-및-분류-구조-분석>#</a></h2><h3 id=적절한-태그>적절한 태그<a hidden class=anchor aria-hidden=true href=#적절한-태그>#</a></h3><ul><li>Event-Driven-Architecture</li><li>Microservices-Communication</li><li>Asynchronous-Processing</li><li>Message-Driven-Systems</li></ul><h3 id=분류-구조-적절성-분석>분류 구조 적절성 분석<a hidden class=anchor aria-hidden=true href=#분류-구조-적절성-분석>#</a></h3><p>제시된 분류 &ldquo;Computer Science and Engineering > Software Engineering > Design and Architecture > Architecture Styles and Patterns > Architecture Styles > Messaging-Oriented Styles"는 <strong>적절합니다</strong>.</p><p><strong>근거:</strong></p><ul><li>Event-Driven Architecture는 본질적으로 메시지 기반 통신을 활용하는 아키텍처 스타일</li><li>비동기 메시징과 이벤트 기반 통신을 핵심으로 하여 Messaging-Oriented Styles에 속함</li><li>SOA(Service-Oriented Architecture)와 Microservices Architecture의 발전된 형태로서 아키텍처 패턴의 범주에 속함</li></ul><h2 id=2-요약-설명-200자-내외>2. 요약 설명 (200자 내외)<a hidden class=anchor aria-hidden=true href=#2-요약-설명-200자-내외>#</a></h2><p>Event-Driven Architecture는 시스템 구성 요소들이 이벤트의 생성, 감지, 소비, 반응을 통해 비동기적으로 통신하는 소프트웨어 아키텍처 패턴입니다. 이벤트 프로듀서, 이벤트 라우터, 이벤트 컨슈머로 구성되어 느슨한 결합, 확장성, 실시간 처리를 가능하게 하며, 마이크로서비스 환경에서 특히 효과적입니다.</p><h2 id=3-개요-250자-내외>3. 개요 (250자 내외)<a hidden class=anchor aria-hidden=true href=#3-개요-250자-내외>#</a></h2><p>Event-Driven Architecture는 전통적인 요청-응답 패턴을 벗어나 이벤트 중심의 비동기 통신을 통해 시스템의 유연성과 확장성을 극대화하는 아키텍처입니다. Netflix, Uber, Amazon과 같은 대규모 플랫폼에서 실제 운영되고 있으며, CQRS와 Event Sourcing 패턴과 결합하여 복잡한 비즈니스 로직을 효율적으로 처리합니다. 실시간 데이터 처리와 장애 복구 능력을 제공하지만, 복잡성 증가와 이벤트 순서 보장 등의 도전 과제도 함께 고려해야 합니다.</p><h2 id=4-핵심-개념>4. 핵심 개념<a hidden class=anchor aria-hidden=true href=#4-핵심-개념>#</a></h2><h3 id=기본-개념>기본 개념<a hidden class=anchor aria-hidden=true href=#기본-개념>#</a></h3><ul><li><strong>이벤트 (Event)</strong>: 시스템 내에서 발생하는 중요한 상태 변화나 사건</li><li><strong>이벤트 프로듀서 (Event Producer)</strong>: 이벤트를 생성하고 발행하는 구성 요소</li><li><strong>이벤트 컨슈머 (Event Consumer)</strong>: 이벤트를 구독하고 처리하는 구성 요소</li><li><strong>이벤트 브로커 (Event Broker)</strong>: 이벤트 라우팅과 전달을 담당하는 중간 매개체</li><li><strong>비동기 통신 (Asynchronous Communication)</strong>: 요청과 응답이 동기화되지 않는 통신 방식</li></ul><h3 id=심화-개념>심화 개념<a hidden class=anchor aria-hidden=true href=#심화-개념>#</a></h3><ul><li><strong>이벤트 스트림 (Event Stream)</strong>: 연속적인 이벤트의 흐름</li><li><strong>이벤트 소싱 (Event Sourcing)</strong>: 모든 상태 변화를 이벤트로 저장하는 패턴</li><li><strong>CQRS (Command Query Responsibility Segregation)</strong>: 명령과 조회 책임 분리 패턴</li><li><strong>이벤트 코리오그래피 (Event Choreography)</strong>: 중앙 조정자 없이 이벤트를 통한 워크플로우 관리</li><li><strong>이벤트 오케스트레이션 (Event Orchestration)</strong>: 중앙 조정자를 통한 이벤트 워크플로우 관리</li></ul><h3 id=실무-연관성>실무 연관성<a hidden class=anchor aria-hidden=true href=#실무-연관성>#</a></h3><ul><li><strong>마이크로서비스 통신</strong>: 서비스 간 느슨한 결합을 통한 독립적 배포와 확장</li><li><strong>실시간 데이터 처리</strong>: 스트리밍 데이터 분석 및 즉시 응답 시스템</li><li><strong>시스템 통합</strong>: 레거시 시스템과 신규 시스템 간의 유연한 연결</li><li><strong>장애 복구</strong>: 이벤트 재처리를 통한 시스템 복구 메커니즘</li></ul><h2 id=5-배경>5. 배경<a hidden class=anchor aria-hidden=true href=#5-배경>#</a></h2><p>Event-Driven Architecture는 전통적인 모놀리식 아키텍처의 한계를 극복하기 위해 등장했습니다. 2000년대 초반 SOA(Service-Oriented Architecture)의 발전과 함께 비동기 메시징의 중요성이 대두되었고, 클라우드 컴퓨팅과 마이크로서비스 아키텍처의 확산으로 EDA가 주목받게 되었습니다. 특히 빅데이터와 실시간 처리에 대한 요구가 증가하면서 Netflix, Uber, Amazon 등의 대규모 플랫폼에서 적극적으로 도입되었습니다.</p><h2 id=6-목적-및-필요성>6. 목적 및 필요성<a hidden class=anchor aria-hidden=true href=#6-목적-및-필요성>#</a></h2><h3 id=목적>목적<a hidden class=anchor aria-hidden=true href=#목적>#</a></h3><ul><li><strong>시스템 분리 (Decoupling)</strong>: 구성 요소 간 독립성 확보</li><li><strong>확장성 (Scalability)</strong>: 개별 구성 요소의 독립적 확장</li><li><strong>실시간 처리 (Real-time Processing)</strong>: 이벤트 발생 즉시 처리</li><li><strong>유연성 (Flexibility)</strong>: 비즈니스 요구 변화에 대한 빠른 적응</li></ul><h3 id=필요성>필요성<a hidden class=anchor aria-hidden=true href=#필요성>#</a></h3><ul><li><strong>마이크로서비스 환경</strong>: 서비스 간 효율적 통신 필요</li><li><strong>고가용성 요구</strong>: 24/7 서비스 운영 요구사항</li><li><strong>대용량 데이터 처리</strong>: 실시간 스트리밍 데이터 처리 필요</li><li><strong>비즈니스 민첩성</strong>: 빠른 기능 개발과 배포 필요</li></ul><h2 id=7-주요-기능-및-역할>7. 주요 기능 및 역할<a hidden class=anchor aria-hidden=true href=#7-주요-기능-및-역할>#</a></h2><h3 id=주요-기능>주요 기능<a hidden class=anchor aria-hidden=true href=#주요-기능>#</a></h3><ul><li><strong>이벤트 발행 (Event Publishing)</strong>: 상태 변화를 이벤트로 알림</li><li><strong>이벤트 구독 (Event Subscription)</strong>: 관심 있는 이벤트 수신</li><li><strong>이벤트 라우팅 (Event Routing)</strong>: 적절한 컨슈머에게 이벤트 전달</li><li><strong>이벤트 필터링 (Event Filtering)</strong>: 조건에 따른 이벤트 선별</li><li><strong>이벤트 변환 (Event Transformation)</strong>: 이벤트 형태 변환</li></ul><h3 id=핵심-역할>핵심 역할<a hidden class=anchor aria-hidden=true href=#핵심-역할>#</a></h3><ul><li><strong>시스템 통합</strong>: 이기종 시스템 간 통신 중재</li><li><strong>워크플로우 관리</strong>: 비즈니스 프로세스 조정</li><li><strong>모니터링 및 알림</strong>: 시스템 상태 감시 및 경고</li><li><strong>데이터 동기화</strong>: 여러 시스템 간 데이터 일관성 유지</li></ul><h2 id=8-특징>8. 특징<a hidden class=anchor aria-hidden=true href=#8-특징>#</a></h2><h3 id=기술적-특징>기술적 특징<a hidden class=anchor aria-hidden=true href=#기술적-특징>#</a></h3><ul><li><strong>비동기 처리</strong>: 논블로킹 방식의 이벤트 처리</li><li><strong>느슨한 결합</strong>: 구성 요소 간 독립성 보장</li><li><strong>푸시 기반</strong>: 이벤트 발생 시 즉시 처리</li><li><strong>확장 가능</strong>: 수평적 확장 지원</li></ul><h3 id=구조적-특징>구조적 특징<a hidden class=anchor aria-hidden=true href=#구조적-특징>#</a></h3><ul><li><strong>분산 시스템</strong>: 여러 노드에 걸친 이벤트 처리</li><li><strong>계층화</strong>: 이벤트 프로듀서, 브로커, 컨슈머의 계층 구조</li><li><strong>메시지 지향</strong>: 이벤트를 메시지로 전달</li><li><strong>상태 무관</strong>: 이전 상태에 독립적인 이벤트 처리</li></ul><h2 id=9-핵심-원칙>9. 핵심 원칙<a hidden class=anchor aria-hidden=true href=#9-핵심-원칙>#</a></h2><ol><li><strong>단일 책임 원칙</strong>: 각 이벤트는 하나의 명확한 목적을 가짐</li><li><strong>이벤트 불변성</strong>: 발행된 이벤트는 변경되지 않음</li><li><strong>멱등성</strong>: 동일한 이벤트의 반복 처리가 안전해야 함</li><li><strong>순서 보장</strong>: 필요 시 이벤트 처리 순서 보장</li><li><strong>장애 격리</strong>: 한 구성 요소의 장애가 전체 시스템에 영향을 주지 않음</li><li><strong>결과적 일관성</strong>: 모든 시스템이 최종적으로 일관된 상태를 유지</li></ol><h2 id=10-주요-원리>10. 주요 원리<a hidden class=anchor aria-hidden=true href=#10-주요-원리>#</a></h2><h3 id=이벤트-기반-통신-원리>이벤트 기반 통신 원리<a hidden class=anchor aria-hidden=true href=#이벤트-기반-통신-원리>#</a></h3><pre class=mermaid>graph TD
    A[Event Producer] --&gt;|Publish Event| B[Event Broker]
    B --&gt;|Route Event| C[Event Consumer 1]
    B --&gt;|Route Event| D[Event Consumer 2]
    B --&gt;|Route Event| E[Event Consumer 3]
    
    subgraph &#34;Event Processing&#34;
        F[Event Store] --&gt; G[Event Stream]
        G --&gt; H[Event Handler]
        H --&gt; I[Business Logic]
    end
    
    B --&gt; F
</pre><h3 id=작동-원리>작동 원리<a hidden class=anchor aria-hidden=true href=#작동-원리>#</a></h3><pre class=mermaid>sequenceDiagram
    participant Producer
    participant Broker
    participant Consumer1
    participant Consumer2
    
    Producer-&gt;&gt;Broker: Publish Event
    Broker-&gt;&gt;Broker: Route &amp; Filter
    Broker-&gt;&gt;Consumer1: Deliver Event
    Broker-&gt;&gt;Consumer2: Deliver Event
    Consumer1-&gt;&gt;Consumer1: Process Event
    Consumer2-&gt;&gt;Consumer2: Process Event
    Consumer1--&gt;&gt;Broker: Acknowledge
    Consumer2--&gt;&gt;Broker: Acknowledge
</pre><p>이벤트 기반 통신은 다음 단계로 진행됩니다:</p><ol><li><strong>이벤트 생성</strong>: 프로듀서가 비즈니스 이벤트 발생 감지</li><li><strong>이벤트 발행</strong>: 브로커에 이벤트 전송</li><li><strong>이벤트 라우팅</strong>: 브로커가 구독자에게 이벤트 전달</li><li><strong>이벤트 처리</strong>: 컨슈머가 비즈니스 로직 실행</li><li><strong>확인 응답</strong>: 처리 완료 확인</li></ol><h2 id=11-구조-및-아키텍처>11. 구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#11-구조-및-아키텍처>#</a></h2><h3 id=전체-아키텍처>전체 아키텍처<a hidden class=anchor aria-hidden=true href=#전체-아키텍처>#</a></h3><pre class=mermaid>graph TB
    subgraph &#34;Event Producers&#34;
        EP1[Web App]
        EP2[Mobile App]
        EP3[IoT Devices]
        EP4[External APIs]
    end
    
    subgraph &#34;Event Infrastructure&#34;
        EB[Event Broker/Router]
        ES[Event Store]
        EQ[Event Queue]
    end
    
    subgraph &#34;Event Consumers&#34;
        EC1[Analytics Service]
        EC2[Notification Service]
        EC3[Payment Service]
        EC4[Audit Service]
    end
    
    subgraph &#34;Supporting Services&#34;
        EM[Event Monitoring]
        EG[Event Gateway]
        ES2[Event Schema Registry]
    end
    
    EP1 --&gt; EB
    EP2 --&gt; EB
    EP3 --&gt; EB
    EP4 --&gt; EB
    
    EB --&gt; ES
    EB --&gt; EQ
    EB --&gt; EC1
    EB --&gt; EC2
    EB --&gt; EC3
    EB --&gt; EC4
    
    EM --&gt; EB
    EG --&gt; EB
    ES2 --&gt; EB
</pre><h3 id=필수-구성요소>필수 구성요소<a hidden class=anchor aria-hidden=true href=#필수-구성요소>#</a></h3><table><thead><tr><th>구성요소</th><th>기능</th><th>역할</th><th>특징</th></tr></thead><tbody><tr><td><strong>Event Producer</strong></td><td>이벤트 생성 및 발행</td><td>비즈니스 이벤트 감지 및 알림</td><td>이벤트 스키마 소유, 발행 보장</td></tr><tr><td><strong>Event Broker</strong></td><td>이벤트 라우팅 및 전달</td><td>프로듀서와 컨슈머 간 중재</td><td>필터링, 변환, 보증 전달</td></tr><tr><td><strong>Event Consumer</strong></td><td>이벤트 수신 및 처리</td><td>비즈니스 로직 실행</td><td>멱등성, 오류 처리</td></tr><tr><td><strong>Event Store</strong></td><td>이벤트 영구 저장</td><td>이벤트 히스토리 관리</td><td>불변성, 순서 보장</td></tr></tbody></table><h3 id=선택-구성요소>선택 구성요소<a hidden class=anchor aria-hidden=true href=#선택-구성요소>#</a></h3><table><thead><tr><th>구성요소</th><th>기능</th><th>역할</th><th>특징</th></tr></thead><tbody><tr><td><strong>Event Gateway</strong></td><td>API 관리 및 보안</td><td>외부 시스템 통합</td><td>인증, 권한, 변환</td></tr><tr><td><strong>Schema Registry</strong></td><td>이벤트 스키마 관리</td><td>호환성 보장</td><td>버전 관리, 검증</td></tr><tr><td><strong>Event Monitoring</strong></td><td>시스템 모니터링</td><td>성능 및 장애 감시</td><td>메트릭, 알람, 추적</td></tr><tr><td><strong>Dead Letter Queue</strong></td><td>실패 이벤트 처리</td><td>오류 이벤트 격리</td><td>재처리, 분석</td></tr></tbody></table><h2 id=12-구현-기법>12. 구현 기법<a hidden class=anchor aria-hidden=true href=#12-구현-기법>#</a></h2><h3 id=event-sourcing-패턴>Event Sourcing 패턴<a hidden class=anchor aria-hidden=true href=#event-sourcing-패턴>#</a></h3><p><strong>정의</strong>: 모든 상태 변화를 이벤트로 저장하여 애플리케이션 상태를 관리하는 기법</p><p><strong>구성</strong>:</p><ul><li>Event Store (이벤트 저장소)</li><li>Event Stream (이벤트 스트림)</li><li>Aggregate (집계)</li><li>Snapshot (스냅샷)</li></ul><p><strong>목적</strong>: 완전한 감사 추적, 시점 복구, 복잡한 비즈니스 로직 처리</p><p><strong>실제 예시</strong>:</p><ul><li>은행 계좌 관리 시스템에서 모든 거래 내역을 이벤트로 저장</li><li>잔액은 이벤트 스트림을 재생하여 계산</li></ul><h3 id=cqrs-command-query-responsibility-segregation-패턴>CQRS (Command Query Responsibility Segregation) 패턴<a hidden class=anchor aria-hidden=true href=#cqrs-command-query-responsibility-segregation-패턴>#</a></h3><p><strong>정의</strong>: 명령(쓰기)과 조회(읽기) 모델을 분리하여 성능과 확장성을 향상시키는 기법</p><p><strong>구성</strong>:</p><ul><li>Command Model (명령 모델)</li><li>Query Model (조회 모델)</li><li>Event Bus (이벤트 버스)</li><li>Read Database (읽기 데이터베이스)</li></ul><p><strong>목적</strong>: 읽기/쓰기 워크로드 최적화, 독립적 확장, 복잡한 조회 지원</p><p><strong>실제 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1>1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2>2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>주문 처리 시스템:
</span></span><span class=line><span class=cl>- Command: 주문 생성, 수정, 취소
</span></span><span class=line><span class=cl>- Query: 주문 조회, 통계, 리포트
</span></span></code></pre></td></tr></table></div></div><h3 id=publish-subscribe-패턴>Publish-Subscribe 패턴<a hidden class=anchor aria-hidden=true href=#publish-subscribe-패턴>#</a></h3><p><strong>정의</strong>: 발행자가 구독자에게 직접 메시지를 전송하지 않고 중간 브로커를 통해 전달하는 기법</p><p><strong>구성</strong>:</p><ul><li>Publisher (발행자)</li><li>Subscriber (구독자)</li><li>Topic/Channel (주제/채널)</li><li>Message Broker (메시지 브로커)</li></ul><p><strong>목적</strong>: 느슨한 결합, 동적 구독, 확장성</p><p><strong>실제 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1>1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2>2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3>3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>뉴스 구독 시스템:
</span></span><span class=line><span class=cl>- Publisher: 뉴스 에디터
</span></span><span class=line><span class=cl>- Topic: &#34;스포츠&#34;, &#34;정치&#34;, &#34;경제&#34;
</span></span><span class=line><span class=cl>- Subscriber: 모바일 앱, 웹사이트, 이메일 서비스
</span></span></code></pre></td></tr></table></div></div><h3 id=saga-패턴>Saga 패턴<a hidden class=anchor aria-hidden=true href=#saga-패턴>#</a></h3><p><strong>정의</strong>: 분산 트랜잭션을 일련의 로컬 트랜잭션으로 분해하여 관리하는 기법</p><p><strong>구성</strong>:</p><ul><li>Saga Orchestrator (조정자)</li><li>Compensating Actions (보상 액션)</li><li>Transaction Steps (트랜잭션 단계)</li></ul><p><strong>목적</strong>: 분산 시스템에서 데이터 일관성 보장</p><p><strong>실제 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1>1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2>2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>온라인 쇼핑 주문 처리:
</span></span><span class=line><span class=cl>1. 재고 확인 → 2. 결제 처리 → 3. 배송 준비
</span></span><span class=line><span class=cl>실패 시: 보상 액션으로 이전 단계 롤백
</span></span></code></pre></td></tr></table></div></div><h2 id=13-장점>13. 장점<a hidden class=anchor aria-hidden=true href=#13-장점>#</a></h2><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>장점</td><td><strong>확장성</strong></td><td>개별 구성 요소의 독립적 확장이 가능하며, 부하에 따라 컨슈머 인스턴스를 동적으로 조정할 수 있음</td></tr><tr><td>장점</td><td><strong>느슨한 결합</strong></td><td>프로듀서와 컨슈머가 직접 연결되지 않아 서로의 변경에 영향을 받지 않으며, 독립적인 개발과 배포가 가능함</td></tr><tr><td>장점</td><td><strong>실시간 처리</strong></td><td>이벤트 발생 즉시 처리되어 빠른 응답성을 제공하며, 스트리밍 데이터를 효율적으로 처리함</td></tr><tr><td>장점</td><td><strong>장애 복원력</strong></td><td>한 구성 요소의 장애가 전체 시스템에 영향을 주지 않으며, 이벤트 재처리를 통한 복구가 가능함</td></tr><tr><td>장점</td><td><strong>유연성</strong></td><td>새로운 이벤트 컨슈머 추가가 용이하며, 비즈니스 요구사항 변화에 빠른 대응이 가능함</td></tr><tr><td>장점</td><td><strong>비용 효율성</strong></td><td>이벤트 발생 시에만 리소스를 사용하여 유휴 자원을 최소화하고, 클라우드 환경에서 비용을 절약함</td></tr></tbody></table><h2 id=14-단점과-문제점-그리고-해결방안>14. 단점과 문제점 그리고 해결방안<a hidden class=anchor aria-hidden=true href=#14-단점과-문제점-그리고-해결방안>#</a></h2><h3 id=단점>단점<a hidden class=anchor aria-hidden=true href=#단점>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th><th>해결책</th></tr></thead><tbody><tr><td>단점</td><td><strong>복잡성 증가</strong></td><td>분산 시스템의 복잡성으로 디버깅과 추적이 어려움</td><td>통합 모니터링 도구, 분산 추적 시스템 도입</td></tr><tr><td>단점</td><td><strong>결과적 일관성</strong></td><td>즉시 일관성을 보장하지 않아 데이터 불일치 가능성</td><td>보상 트랜잭션, Saga 패턴 적용</td></tr><tr><td>단점</td><td><strong>운영 오버헤드</strong></td><td>이벤트 브로커, 모니터링 등 추가 인프라 관리 필요</td><td>관리형 서비스 활용, 자동화 도구 도입</td></tr><tr><td>단점</td><td><strong>학습 곡선</strong></td><td>개발팀의 새로운 패러다임 학습 필요</td><td>점진적 도입, 교육 프로그램 운영</td></tr></tbody></table><h3 id=문제점>문제점<a hidden class=anchor aria-hidden=true href=#문제점>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>원인</th><th>영향</th><th>탐지 및 진단</th><th>예방 방법</th><th>해결 방법 및 기법</th></tr></thead><tbody><tr><td>문제점</td><td><strong>이벤트 순서 보장</strong></td><td>분산 환경에서 네트워크 지연</td><td>비즈니스 로직 오류</td><td>이벤트 타임스탬프 모니터링</td><td>파티셔닝, 키 기반 순서 보장</td><td>Event Ordering 패턴, Single Writer Principle</td></tr><tr><td>문제점</td><td><strong>중복 이벤트 처리</strong></td><td>네트워크 재시도, 시스템 장애</td><td>데이터 중복, 비즈니스 로직 오류</td><td>중복 처리 메트릭 모니터링</td><td>멱등성 키 사용</td><td>Idempotency 패턴, Deduplication</td></tr><tr><td>문제점</td><td><strong>이벤트 스키마 진화</strong></td><td>비즈니스 요구사항 변화</td><td>호환성 문제, 시스템 장애</td><td>스키마 호환성 검사</td><td>Schema Registry 활용</td><td>Forward/Backward Compatibility</td></tr><tr><td>문제점</td><td><strong>컨슈머 지연</strong></td><td>처리 성능 부족, 리소스 부족</td><td>실시간성 저하, 사용자 경험 악화</td><td>지연 시간 메트릭</td><td>적절한 리소스 할당, Auto Scaling</td><td>Competing Consumer 패턴</td></tr></tbody></table><h2 id=15-도전-과제>15. 도전 과제<a hidden class=anchor aria-hidden=true href=#15-도전-과제>#</a></h2><h3 id=기술적-도전-과제>기술적 도전 과제<a hidden class=anchor aria-hidden=true href=#기술적-도전-과제>#</a></h3><p><strong>이벤트 스토어 관리</strong></p><ul><li><strong>원인</strong>: 대용량 이벤트 데이터 축적, 성능 저하</li><li><strong>영향</strong>: 조회 성능 악화, 스토리지 비용 증가</li><li><strong>탐지 및 진단</strong>: 스토리지 사용량 모니터링, 쿼리 성능 추적</li><li><strong>예방 방법</strong>: 아카이빙 정책, 스냅샷 생성, 파티셔닝</li><li><strong>해결 방법</strong>: Event Store Archiving, CQRS 적용</li></ul><p><strong>분산 시스템 추적</strong></p><ul><li><strong>원인</strong>: 여러 서비스에 걸친 이벤트 플로우</li><li><strong>영향</strong>: 디버깅 어려움, 장애 원인 파악 지연</li><li><strong>탐지 및 진단</strong>: 분산 추적 시스템, 상관관계 ID</li><li><strong>예방 방법</strong>: 표준화된 로깅, 추적 메타데이터</li><li><strong>해결 방법</strong>: OpenTracing, Jaeger, Zipkin 도입</li></ul><h3 id=운영적-도전-과제>운영적 도전 과제<a hidden class=anchor aria-hidden=true href=#운영적-도전-과제>#</a></h3><p><strong>멀티 테넌시 지원</strong></p><ul><li><strong>원인</strong>: 다중 고객 환경에서 이벤트 격리 필요</li><li><strong>영향</strong>: 데이터 누수, 성능 간섭</li><li><strong>탐지 및 진단</strong>: 테넌트별 메트릭 분리</li><li><strong>예방 방법</strong>: 네임스페이스 분리, 권한 관리</li><li><strong>해결 방법</strong>: 테넌트별 이벤트 스트림 분리</li></ul><h2 id=16-분류-기준에-따른-종류-및-유형>16. 분류 기준에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#16-분류-기준에-따른-종류-및-유형>#</a></h2><table><thead><tr><th>분류 기준</th><th>유형</th><th>설명</th><th>특징</th></tr></thead><tbody><tr><td><strong>토폴로지</strong></td><td>Broker Topology</td><td>중앙 집중식 이벤트 브로커 사용</td><td>높은 성능, 복잡한 라우팅</td></tr><tr><td></td><td>Mediator Topology</td><td>중재자를 통한 이벤트 조정</td><td>워크플로우 제어, 중앙화된 관리</td></tr><tr><td><strong>통신 방식</strong></td><td>Point-to-Point</td><td>일대일 이벤트 전달</td><td>직접 통신, 간단한 구조</td></tr><tr><td></td><td>Publish-Subscribe</td><td>일대다 이벤트 전달</td><td>브로드캐스트, 동적 구독</td></tr><tr><td><strong>처리 방식</strong></td><td>Simple Event Processing</td><td>단일 이벤트 처리</td><td>실시간 반응, 낮은 지연시간</td></tr><tr><td></td><td>Complex Event Processing</td><td>복합 이벤트 패턴 분석</td><td>패턴 매칭, 집계 분석</td></tr><tr><td><strong>구현 방식</strong></td><td>Event Sourcing</td><td>이벤트를 영구 저장</td><td>완전한 히스토리, 감사 추적</td></tr><tr><td></td><td>Event Streaming</td><td>연속적 이벤트 스트림</td><td>실시간 처리, 높은 처리량</td></tr></tbody></table><h2 id=17-실무-사용-예시>17. 실무 사용 예시<a hidden class=anchor aria-hidden=true href=#17-실무-사용-예시>#</a></h2><table><thead><tr><th>사용 목적</th><th>함께 사용되는 기술</th><th>효과</th><th>예시</th></tr></thead><tbody><tr><td><strong>마이크로서비스 통신</strong></td><td>Apache Kafka, RabbitMQ, AWS EventBridge</td><td>서비스 간 느슨한 결합, 독립적 배포</td><td>전자상거래 주문-결제-배송 연동</td></tr><tr><td><strong>실시간 분석</strong></td><td>Apache Flink, AWS Kinesis, Google Dataflow</td><td>즉시 인사이트, 실시간 대응</td><td>사용자 행동 분석, 추천 시스템</td></tr><tr><td><strong>IoT 데이터 처리</strong></td><td>MQTT, AWS IoT Core, Azure IoT Hub</td><td>대용량 센서 데이터 처리, 실시간 모니터링</td><td>스마트 시티, 산업 IoT</td></tr><tr><td><strong>금융 거래 시스템</strong></td><td>Apache Pulsar, Chronicle Queue</td><td>높은 처리량, 지연시간 최소화</td><td>주식 거래, 결제 처리</td></tr><tr><td><strong>모니터링 및 알림</strong></td><td>Prometheus, Grafana, PagerDuty</td><td>즉시 장애 감지, 자동 대응</td><td>시스템 모니터링, SLA 관리</td></tr></tbody></table><h2 id=18-활용-사례-netflix-콘텐츠-추천-시스템>18. 활용 사례: Netflix 콘텐츠 추천 시스템<a hidden class=anchor aria-hidden=true href=#18-활용-사례-netflix-콘텐츠-추천-시스템>#</a></h2><h3 id=시스템-구성>시스템 구성<a hidden class=anchor aria-hidden=true href=#시스템-구성>#</a></h3><p>Netflix는 사용자의 시청 행동을 실시간으로 분석하여 개인화된 콘텐츠를 추천하는 Event-Driven Architecture를 구현했습니다.</p><pre class=mermaid>graph TB
    subgraph &#34;Event Producers&#34;
        UP[User Playback]
        UR[User Rating]
        UV[User Views]
        US[User Search]
    end
    
    subgraph &#34;Event Infrastructure&#34;
        K[Apache Kafka]
        KS[Kafka Streams]
    end
    
    subgraph &#34;Event Consumers&#34;
        RS[Recommendation Service]
        AS[Analytics Service]
        PS[Personalization Service]
        CS[Content Service]
    end
    
    subgraph &#34;Data Storage&#34;
        ES[Event Store]
        RDB[Recommendation DB]
        UDB[User Profile DB]
    end
    
    UP --&gt; K
    UR --&gt; K
    UV --&gt; K
    US --&gt; K
    
    K --&gt; KS
    KS --&gt; RS
    KS --&gt; AS
    KS --&gt; PS
    KS --&gt; CS
    
    RS --&gt; RDB
    PS --&gt; UDB
    AS --&gt; ES
</pre><h3 id=workflow>Workflow<a hidden class=anchor aria-hidden=true href=#workflow>#</a></h3><ol><li><strong>이벤트 생성</strong>: 사용자의 시청, 평가, 검색 활동이 실시간 이벤트로 생성</li><li><strong>이벤트 스트리밍</strong>: Apache Kafka를 통해 초당 수백만 개의 이벤트 처리</li><li><strong>실시간 분석</strong>: Kafka Streams를 활용한 실시간 패턴 분석</li><li><strong>추천 업데이트</strong>: 머신러닝 모델을 통한 즉시 추천 알고리즘 업데이트</li><li><strong>개인화 제공</strong>: 사용자별 맞춤 콘텐츠 실시간 제공</li></ol><h3 id=event-driven-architecture의-역할>Event-Driven Architecture의 역할<a hidden class=anchor aria-hidden=true href=#event-driven-architecture의-역할>#</a></h3><ul><li><strong>실시간 반응</strong>: 사용자 행동 즉시 반영</li><li><strong>확장성</strong>: 전 세계 2억 이상 사용자 동시 처리</li><li><strong>장애 복원</strong>: 개별 서비스 장애 시에도 서비스 지속</li><li><strong>데이터 일관성</strong>: 이벤트 소싱을 통한 완전한 사용자 히스토리 관리</li></ul><h3 id=eda-유무에-따른-차이점>EDA 유무에 따른 차이점<a hidden class=anchor aria-hidden=true href=#eda-유무에-따른-차이점>#</a></h3><p><strong>EDA 적용 전</strong>:</p><ul><li>배치 처리 기반 추천 (하루 1-2회 업데이트)</li><li>높은 서비스 간 결합도</li><li>장애 시 전체 시스템 영향</li><li>확장 시 전체 시스템 재배포 필요</li></ul><p><strong>EDA 적용 후</strong>:</p><ul><li>실시간 추천 업데이트 (밀리초 단위)</li><li>느슨한 결합으로 독립적 서비스 운영</li><li>장애 격리 및 빠른 복구</li><li>개별 서비스 독립적 확장 및 배포</li></ul><h2 id=19-구현-예시-python>19. 구현 예시 (Python)<a hidden class=anchor aria-hidden=true href=#19-구현-예시-python>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1>  1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2>  2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3>  3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4>  4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5>  5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6>  6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7>  7</a>
</span><span class=lnt id=hl-15-8><a class=lnlinks href=#hl-15-8>  8</a>
</span><span class=lnt id=hl-15-9><a class=lnlinks href=#hl-15-9>  9</a>
</span><span class=lnt id=hl-15-10><a class=lnlinks href=#hl-15-10> 10</a>
</span><span class=lnt id=hl-15-11><a class=lnlinks href=#hl-15-11> 11</a>
</span><span class=lnt id=hl-15-12><a class=lnlinks href=#hl-15-12> 12</a>
</span><span class=lnt id=hl-15-13><a class=lnlinks href=#hl-15-13> 13</a>
</span><span class=lnt id=hl-15-14><a class=lnlinks href=#hl-15-14> 14</a>
</span><span class=lnt id=hl-15-15><a class=lnlinks href=#hl-15-15> 15</a>
</span><span class=lnt id=hl-15-16><a class=lnlinks href=#hl-15-16> 16</a>
</span><span class=lnt id=hl-15-17><a class=lnlinks href=#hl-15-17> 17</a>
</span><span class=lnt id=hl-15-18><a class=lnlinks href=#hl-15-18> 18</a>
</span><span class=lnt id=hl-15-19><a class=lnlinks href=#hl-15-19> 19</a>
</span><span class=lnt id=hl-15-20><a class=lnlinks href=#hl-15-20> 20</a>
</span><span class=lnt id=hl-15-21><a class=lnlinks href=#hl-15-21> 21</a>
</span><span class=lnt id=hl-15-22><a class=lnlinks href=#hl-15-22> 22</a>
</span><span class=lnt id=hl-15-23><a class=lnlinks href=#hl-15-23> 23</a>
</span><span class=lnt id=hl-15-24><a class=lnlinks href=#hl-15-24> 24</a>
</span><span class=lnt id=hl-15-25><a class=lnlinks href=#hl-15-25> 25</a>
</span><span class=lnt id=hl-15-26><a class=lnlinks href=#hl-15-26> 26</a>
</span><span class=lnt id=hl-15-27><a class=lnlinks href=#hl-15-27> 27</a>
</span><span class=lnt id=hl-15-28><a class=lnlinks href=#hl-15-28> 28</a>
</span><span class=lnt id=hl-15-29><a class=lnlinks href=#hl-15-29> 29</a>
</span><span class=lnt id=hl-15-30><a class=lnlinks href=#hl-15-30> 30</a>
</span><span class=lnt id=hl-15-31><a class=lnlinks href=#hl-15-31> 31</a>
</span><span class=lnt id=hl-15-32><a class=lnlinks href=#hl-15-32> 32</a>
</span><span class=lnt id=hl-15-33><a class=lnlinks href=#hl-15-33> 33</a>
</span><span class=lnt id=hl-15-34><a class=lnlinks href=#hl-15-34> 34</a>
</span><span class=lnt id=hl-15-35><a class=lnlinks href=#hl-15-35> 35</a>
</span><span class=lnt id=hl-15-36><a class=lnlinks href=#hl-15-36> 36</a>
</span><span class=lnt id=hl-15-37><a class=lnlinks href=#hl-15-37> 37</a>
</span><span class=lnt id=hl-15-38><a class=lnlinks href=#hl-15-38> 38</a>
</span><span class=lnt id=hl-15-39><a class=lnlinks href=#hl-15-39> 39</a>
</span><span class=lnt id=hl-15-40><a class=lnlinks href=#hl-15-40> 40</a>
</span><span class=lnt id=hl-15-41><a class=lnlinks href=#hl-15-41> 41</a>
</span><span class=lnt id=hl-15-42><a class=lnlinks href=#hl-15-42> 42</a>
</span><span class=lnt id=hl-15-43><a class=lnlinks href=#hl-15-43> 43</a>
</span><span class=lnt id=hl-15-44><a class=lnlinks href=#hl-15-44> 44</a>
</span><span class=lnt id=hl-15-45><a class=lnlinks href=#hl-15-45> 45</a>
</span><span class=lnt id=hl-15-46><a class=lnlinks href=#hl-15-46> 46</a>
</span><span class=lnt id=hl-15-47><a class=lnlinks href=#hl-15-47> 47</a>
</span><span class=lnt id=hl-15-48><a class=lnlinks href=#hl-15-48> 48</a>
</span><span class=lnt id=hl-15-49><a class=lnlinks href=#hl-15-49> 49</a>
</span><span class=lnt id=hl-15-50><a class=lnlinks href=#hl-15-50> 50</a>
</span><span class=lnt id=hl-15-51><a class=lnlinks href=#hl-15-51> 51</a>
</span><span class=lnt id=hl-15-52><a class=lnlinks href=#hl-15-52> 52</a>
</span><span class=lnt id=hl-15-53><a class=lnlinks href=#hl-15-53> 53</a>
</span><span class=lnt id=hl-15-54><a class=lnlinks href=#hl-15-54> 54</a>
</span><span class=lnt id=hl-15-55><a class=lnlinks href=#hl-15-55> 55</a>
</span><span class=lnt id=hl-15-56><a class=lnlinks href=#hl-15-56> 56</a>
</span><span class=lnt id=hl-15-57><a class=lnlinks href=#hl-15-57> 57</a>
</span><span class=lnt id=hl-15-58><a class=lnlinks href=#hl-15-58> 58</a>
</span><span class=lnt id=hl-15-59><a class=lnlinks href=#hl-15-59> 59</a>
</span><span class=lnt id=hl-15-60><a class=lnlinks href=#hl-15-60> 60</a>
</span><span class=lnt id=hl-15-61><a class=lnlinks href=#hl-15-61> 61</a>
</span><span class=lnt id=hl-15-62><a class=lnlinks href=#hl-15-62> 62</a>
</span><span class=lnt id=hl-15-63><a class=lnlinks href=#hl-15-63> 63</a>
</span><span class=lnt id=hl-15-64><a class=lnlinks href=#hl-15-64> 64</a>
</span><span class=lnt id=hl-15-65><a class=lnlinks href=#hl-15-65> 65</a>
</span><span class=lnt id=hl-15-66><a class=lnlinks href=#hl-15-66> 66</a>
</span><span class=lnt id=hl-15-67><a class=lnlinks href=#hl-15-67> 67</a>
</span><span class=lnt id=hl-15-68><a class=lnlinks href=#hl-15-68> 68</a>
</span><span class=lnt id=hl-15-69><a class=lnlinks href=#hl-15-69> 69</a>
</span><span class=lnt id=hl-15-70><a class=lnlinks href=#hl-15-70> 70</a>
</span><span class=lnt id=hl-15-71><a class=lnlinks href=#hl-15-71> 71</a>
</span><span class=lnt id=hl-15-72><a class=lnlinks href=#hl-15-72> 72</a>
</span><span class=lnt id=hl-15-73><a class=lnlinks href=#hl-15-73> 73</a>
</span><span class=lnt id=hl-15-74><a class=lnlinks href=#hl-15-74> 74</a>
</span><span class=lnt id=hl-15-75><a class=lnlinks href=#hl-15-75> 75</a>
</span><span class=lnt id=hl-15-76><a class=lnlinks href=#hl-15-76> 76</a>
</span><span class=lnt id=hl-15-77><a class=lnlinks href=#hl-15-77> 77</a>
</span><span class=lnt id=hl-15-78><a class=lnlinks href=#hl-15-78> 78</a>
</span><span class=lnt id=hl-15-79><a class=lnlinks href=#hl-15-79> 79</a>
</span><span class=lnt id=hl-15-80><a class=lnlinks href=#hl-15-80> 80</a>
</span><span class=lnt id=hl-15-81><a class=lnlinks href=#hl-15-81> 81</a>
</span><span class=lnt id=hl-15-82><a class=lnlinks href=#hl-15-82> 82</a>
</span><span class=lnt id=hl-15-83><a class=lnlinks href=#hl-15-83> 83</a>
</span><span class=lnt id=hl-15-84><a class=lnlinks href=#hl-15-84> 84</a>
</span><span class=lnt id=hl-15-85><a class=lnlinks href=#hl-15-85> 85</a>
</span><span class=lnt id=hl-15-86><a class=lnlinks href=#hl-15-86> 86</a>
</span><span class=lnt id=hl-15-87><a class=lnlinks href=#hl-15-87> 87</a>
</span><span class=lnt id=hl-15-88><a class=lnlinks href=#hl-15-88> 88</a>
</span><span class=lnt id=hl-15-89><a class=lnlinks href=#hl-15-89> 89</a>
</span><span class=lnt id=hl-15-90><a class=lnlinks href=#hl-15-90> 90</a>
</span><span class=lnt id=hl-15-91><a class=lnlinks href=#hl-15-91> 91</a>
</span><span class=lnt id=hl-15-92><a class=lnlinks href=#hl-15-92> 92</a>
</span><span class=lnt id=hl-15-93><a class=lnlinks href=#hl-15-93> 93</a>
</span><span class=lnt id=hl-15-94><a class=lnlinks href=#hl-15-94> 94</a>
</span><span class=lnt id=hl-15-95><a class=lnlinks href=#hl-15-95> 95</a>
</span><span class=lnt id=hl-15-96><a class=lnlinks href=#hl-15-96> 96</a>
</span><span class=lnt id=hl-15-97><a class=lnlinks href=#hl-15-97> 97</a>
</span><span class=lnt id=hl-15-98><a class=lnlinks href=#hl-15-98> 98</a>
</span><span class=lnt id=hl-15-99><a class=lnlinks href=#hl-15-99> 99</a>
</span><span class=lnt id=hl-15-100><a class=lnlinks href=#hl-15-100>100</a>
</span><span class=lnt id=hl-15-101><a class=lnlinks href=#hl-15-101>101</a>
</span><span class=lnt id=hl-15-102><a class=lnlinks href=#hl-15-102>102</a>
</span><span class=lnt id=hl-15-103><a class=lnlinks href=#hl-15-103>103</a>
</span><span class=lnt id=hl-15-104><a class=lnlinks href=#hl-15-104>104</a>
</span><span class=lnt id=hl-15-105><a class=lnlinks href=#hl-15-105>105</a>
</span><span class=lnt id=hl-15-106><a class=lnlinks href=#hl-15-106>106</a>
</span><span class=lnt id=hl-15-107><a class=lnlinks href=#hl-15-107>107</a>
</span><span class=lnt id=hl-15-108><a class=lnlinks href=#hl-15-108>108</a>
</span><span class=lnt id=hl-15-109><a class=lnlinks href=#hl-15-109>109</a>
</span><span class=lnt id=hl-15-110><a class=lnlinks href=#hl-15-110>110</a>
</span><span class=lnt id=hl-15-111><a class=lnlinks href=#hl-15-111>111</a>
</span><span class=lnt id=hl-15-112><a class=lnlinks href=#hl-15-112>112</a>
</span><span class=lnt id=hl-15-113><a class=lnlinks href=#hl-15-113>113</a>
</span><span class=lnt id=hl-15-114><a class=lnlinks href=#hl-15-114>114</a>
</span><span class=lnt id=hl-15-115><a class=lnlinks href=#hl-15-115>115</a>
</span><span class=lnt id=hl-15-116><a class=lnlinks href=#hl-15-116>116</a>
</span><span class=lnt id=hl-15-117><a class=lnlinks href=#hl-15-117>117</a>
</span><span class=lnt id=hl-15-118><a class=lnlinks href=#hl-15-118>118</a>
</span><span class=lnt id=hl-15-119><a class=lnlinks href=#hl-15-119>119</a>
</span><span class=lnt id=hl-15-120><a class=lnlinks href=#hl-15-120>120</a>
</span><span class=lnt id=hl-15-121><a class=lnlinks href=#hl-15-121>121</a>
</span><span class=lnt id=hl-15-122><a class=lnlinks href=#hl-15-122>122</a>
</span><span class=lnt id=hl-15-123><a class=lnlinks href=#hl-15-123>123</a>
</span><span class=lnt id=hl-15-124><a class=lnlinks href=#hl-15-124>124</a>
</span><span class=lnt id=hl-15-125><a class=lnlinks href=#hl-15-125>125</a>
</span><span class=lnt id=hl-15-126><a class=lnlinks href=#hl-15-126>126</a>
</span><span class=lnt id=hl-15-127><a class=lnlinks href=#hl-15-127>127</a>
</span><span class=lnt id=hl-15-128><a class=lnlinks href=#hl-15-128>128</a>
</span><span class=lnt id=hl-15-129><a class=lnlinks href=#hl-15-129>129</a>
</span><span class=lnt id=hl-15-130><a class=lnlinks href=#hl-15-130>130</a>
</span><span class=lnt id=hl-15-131><a class=lnlinks href=#hl-15-131>131</a>
</span><span class=lnt id=hl-15-132><a class=lnlinks href=#hl-15-132>132</a>
</span><span class=lnt id=hl-15-133><a class=lnlinks href=#hl-15-133>133</a>
</span><span class=lnt id=hl-15-134><a class=lnlinks href=#hl-15-134>134</a>
</span><span class=lnt id=hl-15-135><a class=lnlinks href=#hl-15-135>135</a>
</span><span class=lnt id=hl-15-136><a class=lnlinks href=#hl-15-136>136</a>
</span><span class=lnt id=hl-15-137><a class=lnlinks href=#hl-15-137>137</a>
</span><span class=lnt id=hl-15-138><a class=lnlinks href=#hl-15-138>138</a>
</span><span class=lnt id=hl-15-139><a class=lnlinks href=#hl-15-139>139</a>
</span><span class=lnt id=hl-15-140><a class=lnlinks href=#hl-15-140>140</a>
</span><span class=lnt id=hl-15-141><a class=lnlinks href=#hl-15-141>141</a>
</span><span class=lnt id=hl-15-142><a class=lnlinks href=#hl-15-142>142</a>
</span><span class=lnt id=hl-15-143><a class=lnlinks href=#hl-15-143>143</a>
</span><span class=lnt id=hl-15-144><a class=lnlinks href=#hl-15-144>144</a>
</span><span class=lnt id=hl-15-145><a class=lnlinks href=#hl-15-145>145</a>
</span><span class=lnt id=hl-15-146><a class=lnlinks href=#hl-15-146>146</a>
</span><span class=lnt id=hl-15-147><a class=lnlinks href=#hl-15-147>147</a>
</span><span class=lnt id=hl-15-148><a class=lnlinks href=#hl-15-148>148</a>
</span><span class=lnt id=hl-15-149><a class=lnlinks href=#hl-15-149>149</a>
</span><span class=lnt id=hl-15-150><a class=lnlinks href=#hl-15-150>150</a>
</span><span class=lnt id=hl-15-151><a class=lnlinks href=#hl-15-151>151</a>
</span><span class=lnt id=hl-15-152><a class=lnlinks href=#hl-15-152>152</a>
</span><span class=lnt id=hl-15-153><a class=lnlinks href=#hl-15-153>153</a>
</span><span class=lnt id=hl-15-154><a class=lnlinks href=#hl-15-154>154</a>
</span><span class=lnt id=hl-15-155><a class=lnlinks href=#hl-15-155>155</a>
</span><span class=lnt id=hl-15-156><a class=lnlinks href=#hl-15-156>156</a>
</span><span class=lnt id=hl-15-157><a class=lnlinks href=#hl-15-157>157</a>
</span><span class=lnt id=hl-15-158><a class=lnlinks href=#hl-15-158>158</a>
</span><span class=lnt id=hl-15-159><a class=lnlinks href=#hl-15-159>159</a>
</span><span class=lnt id=hl-15-160><a class=lnlinks href=#hl-15-160>160</a>
</span><span class=lnt id=hl-15-161><a class=lnlinks href=#hl-15-161>161</a>
</span><span class=lnt id=hl-15-162><a class=lnlinks href=#hl-15-162>162</a>
</span><span class=lnt id=hl-15-163><a class=lnlinks href=#hl-15-163>163</a>
</span><span class=lnt id=hl-15-164><a class=lnlinks href=#hl-15-164>164</a>
</span><span class=lnt id=hl-15-165><a class=lnlinks href=#hl-15-165>165</a>
</span><span class=lnt id=hl-15-166><a class=lnlinks href=#hl-15-166>166</a>
</span><span class=lnt id=hl-15-167><a class=lnlinks href=#hl-15-167>167</a>
</span><span class=lnt id=hl-15-168><a class=lnlinks href=#hl-15-168>168</a>
</span><span class=lnt id=hl-15-169><a class=lnlinks href=#hl-15-169>169</a>
</span><span class=lnt id=hl-15-170><a class=lnlinks href=#hl-15-170>170</a>
</span><span class=lnt id=hl-15-171><a class=lnlinks href=#hl-15-171>171</a>
</span><span class=lnt id=hl-15-172><a class=lnlinks href=#hl-15-172>172</a>
</span><span class=lnt id=hl-15-173><a class=lnlinks href=#hl-15-173>173</a>
</span><span class=lnt id=hl-15-174><a class=lnlinks href=#hl-15-174>174</a>
</span><span class=lnt id=hl-15-175><a class=lnlinks href=#hl-15-175>175</a>
</span><span class=lnt id=hl-15-176><a class=lnlinks href=#hl-15-176>176</a>
</span><span class=lnt id=hl-15-177><a class=lnlinks href=#hl-15-177>177</a>
</span><span class=lnt id=hl-15-178><a class=lnlinks href=#hl-15-178>178</a>
</span><span class=lnt id=hl-15-179><a class=lnlinks href=#hl-15-179>179</a>
</span><span class=lnt id=hl-15-180><a class=lnlinks href=#hl-15-180>180</a>
</span><span class=lnt id=hl-15-181><a class=lnlinks href=#hl-15-181>181</a>
</span><span class=lnt id=hl-15-182><a class=lnlinks href=#hl-15-182>182</a>
</span><span class=lnt id=hl-15-183><a class=lnlinks href=#hl-15-183>183</a>
</span><span class=lnt id=hl-15-184><a class=lnlinks href=#hl-15-184>184</a>
</span><span class=lnt id=hl-15-185><a class=lnlinks href=#hl-15-185>185</a>
</span><span class=lnt id=hl-15-186><a class=lnlinks href=#hl-15-186>186</a>
</span><span class=lnt id=hl-15-187><a class=lnlinks href=#hl-15-187>187</a>
</span><span class=lnt id=hl-15-188><a class=lnlinks href=#hl-15-188>188</a>
</span><span class=lnt id=hl-15-189><a class=lnlinks href=#hl-15-189>189</a>
</span><span class=lnt id=hl-15-190><a class=lnlinks href=#hl-15-190>190</a>
</span><span class=lnt id=hl-15-191><a class=lnlinks href=#hl-15-191>191</a>
</span><span class=lnt id=hl-15-192><a class=lnlinks href=#hl-15-192>192</a>
</span><span class=lnt id=hl-15-193><a class=lnlinks href=#hl-15-193>193</a>
</span><span class=lnt id=hl-15-194><a class=lnlinks href=#hl-15-194>194</a>
</span><span class=lnt id=hl-15-195><a class=lnlinks href=#hl-15-195>195</a>
</span><span class=lnt id=hl-15-196><a class=lnlinks href=#hl-15-196>196</a>
</span><span class=lnt id=hl-15-197><a class=lnlinks href=#hl-15-197>197</a>
</span><span class=lnt id=hl-15-198><a class=lnlinks href=#hl-15-198>198</a>
</span><span class=lnt id=hl-15-199><a class=lnlinks href=#hl-15-199>199</a>
</span><span class=lnt id=hl-15-200><a class=lnlinks href=#hl-15-200>200</a>
</span><span class=lnt id=hl-15-201><a class=lnlinks href=#hl-15-201>201</a>
</span><span class=lnt id=hl-15-202><a class=lnlinks href=#hl-15-202>202</a>
</span><span class=lnt id=hl-15-203><a class=lnlinks href=#hl-15-203>203</a>
</span><span class=lnt id=hl-15-204><a class=lnlinks href=#hl-15-204>204</a>
</span><span class=lnt id=hl-15-205><a class=lnlinks href=#hl-15-205>205</a>
</span><span class=lnt id=hl-15-206><a class=lnlinks href=#hl-15-206>206</a>
</span><span class=lnt id=hl-15-207><a class=lnlinks href=#hl-15-207>207</a>
</span><span class=lnt id=hl-15-208><a class=lnlinks href=#hl-15-208>208</a>
</span><span class=lnt id=hl-15-209><a class=lnlinks href=#hl-15-209>209</a>
</span><span class=lnt id=hl-15-210><a class=lnlinks href=#hl-15-210>210</a>
</span><span class=lnt id=hl-15-211><a class=lnlinks href=#hl-15-211>211</a>
</span><span class=lnt id=hl-15-212><a class=lnlinks href=#hl-15-212>212</a>
</span><span class=lnt id=hl-15-213><a class=lnlinks href=#hl-15-213>213</a>
</span><span class=lnt id=hl-15-214><a class=lnlinks href=#hl-15-214>214</a>
</span><span class=lnt id=hl-15-215><a class=lnlinks href=#hl-15-215>215</a>
</span><span class=lnt id=hl-15-216><a class=lnlinks href=#hl-15-216>216</a>
</span><span class=lnt id=hl-15-217><a class=lnlinks href=#hl-15-217>217</a>
</span><span class=lnt id=hl-15-218><a class=lnlinks href=#hl-15-218>218</a>
</span><span class=lnt id=hl-15-219><a class=lnlinks href=#hl-15-219>219</a>
</span><span class=lnt id=hl-15-220><a class=lnlinks href=#hl-15-220>220</a>
</span><span class=lnt id=hl-15-221><a class=lnlinks href=#hl-15-221>221</a>
</span><span class=lnt id=hl-15-222><a class=lnlinks href=#hl-15-222>222</a>
</span><span class=lnt id=hl-15-223><a class=lnlinks href=#hl-15-223>223</a>
</span><span class=lnt id=hl-15-224><a class=lnlinks href=#hl-15-224>224</a>
</span><span class=lnt id=hl-15-225><a class=lnlinks href=#hl-15-225>225</a>
</span><span class=lnt id=hl-15-226><a class=lnlinks href=#hl-15-226>226</a>
</span><span class=lnt id=hl-15-227><a class=lnlinks href=#hl-15-227>227</a>
</span><span class=lnt id=hl-15-228><a class=lnlinks href=#hl-15-228>228</a>
</span><span class=lnt id=hl-15-229><a class=lnlinks href=#hl-15-229>229</a>
</span><span class=lnt id=hl-15-230><a class=lnlinks href=#hl-15-230>230</a>
</span><span class=lnt id=hl-15-231><a class=lnlinks href=#hl-15-231>231</a>
</span><span class=lnt id=hl-15-232><a class=lnlinks href=#hl-15-232>232</a>
</span><span class=lnt id=hl-15-233><a class=lnlinks href=#hl-15-233>233</a>
</span><span class=lnt id=hl-15-234><a class=lnlinks href=#hl-15-234>234</a>
</span><span class=lnt id=hl-15-235><a class=lnlinks href=#hl-15-235>235</a>
</span><span class=lnt id=hl-15-236><a class=lnlinks href=#hl-15-236>236</a>
</span><span class=lnt id=hl-15-237><a class=lnlinks href=#hl-15-237>237</a>
</span><span class=lnt id=hl-15-238><a class=lnlinks href=#hl-15-238>238</a>
</span><span class=lnt id=hl-15-239><a class=lnlinks href=#hl-15-239>239</a>
</span><span class=lnt id=hl-15-240><a class=lnlinks href=#hl-15-240>240</a>
</span><span class=lnt id=hl-15-241><a class=lnlinks href=#hl-15-241>241</a>
</span><span class=lnt id=hl-15-242><a class=lnlinks href=#hl-15-242>242</a>
</span><span class=lnt id=hl-15-243><a class=lnlinks href=#hl-15-243>243</a>
</span><span class=lnt id=hl-15-244><a class=lnlinks href=#hl-15-244>244</a>
</span><span class=lnt id=hl-15-245><a class=lnlinks href=#hl-15-245>245</a>
</span><span class=lnt id=hl-15-246><a class=lnlinks href=#hl-15-246>246</a>
</span><span class=lnt id=hl-15-247><a class=lnlinks href=#hl-15-247>247</a>
</span><span class=lnt id=hl-15-248><a class=lnlinks href=#hl-15-248>248</a>
</span><span class=lnt id=hl-15-249><a class=lnlinks href=#hl-15-249>249</a>
</span><span class=lnt id=hl-15-250><a class=lnlinks href=#hl-15-250>250</a>
</span><span class=lnt id=hl-15-251><a class=lnlinks href=#hl-15-251>251</a>
</span><span class=lnt id=hl-15-252><a class=lnlinks href=#hl-15-252>252</a>
</span><span class=lnt id=hl-15-253><a class=lnlinks href=#hl-15-253>253</a>
</span><span class=lnt id=hl-15-254><a class=lnlinks href=#hl-15-254>254</a>
</span><span class=lnt id=hl-15-255><a class=lnlinks href=#hl-15-255>255</a>
</span><span class=lnt id=hl-15-256><a class=lnlinks href=#hl-15-256>256</a>
</span><span class=lnt id=hl-15-257><a class=lnlinks href=#hl-15-257>257</a>
</span><span class=lnt id=hl-15-258><a class=lnlinks href=#hl-15-258>258</a>
</span><span class=lnt id=hl-15-259><a class=lnlinks href=#hl-15-259>259</a>
</span><span class=lnt id=hl-15-260><a class=lnlinks href=#hl-15-260>260</a>
</span><span class=lnt id=hl-15-261><a class=lnlinks href=#hl-15-261>261</a>
</span><span class=lnt id=hl-15-262><a class=lnlinks href=#hl-15-262>262</a>
</span><span class=lnt id=hl-15-263><a class=lnlinks href=#hl-15-263>263</a>
</span><span class=lnt id=hl-15-264><a class=lnlinks href=#hl-15-264>264</a>
</span><span class=lnt id=hl-15-265><a class=lnlinks href=#hl-15-265>265</a>
</span><span class=lnt id=hl-15-266><a class=lnlinks href=#hl-15-266>266</a>
</span><span class=lnt id=hl-15-267><a class=lnlinks href=#hl-15-267>267</a>
</span><span class=lnt id=hl-15-268><a class=lnlinks href=#hl-15-268>268</a>
</span><span class=lnt id=hl-15-269><a class=lnlinks href=#hl-15-269>269</a>
</span><span class=lnt id=hl-15-270><a class=lnlinks href=#hl-15-270>270</a>
</span><span class=lnt id=hl-15-271><a class=lnlinks href=#hl-15-271>271</a>
</span><span class=lnt id=hl-15-272><a class=lnlinks href=#hl-15-272>272</a>
</span><span class=lnt id=hl-15-273><a class=lnlinks href=#hl-15-273>273</a>
</span><span class=lnt id=hl-15-274><a class=lnlinks href=#hl-15-274>274</a>
</span><span class=lnt id=hl-15-275><a class=lnlinks href=#hl-15-275>275</a>
</span><span class=lnt id=hl-15-276><a class=lnlinks href=#hl-15-276>276</a>
</span><span class=lnt id=hl-15-277><a class=lnlinks href=#hl-15-277>277</a>
</span><span class=lnt id=hl-15-278><a class=lnlinks href=#hl-15-278>278</a>
</span><span class=lnt id=hl-15-279><a class=lnlinks href=#hl-15-279>279</a>
</span><span class=lnt id=hl-15-280><a class=lnlinks href=#hl-15-280>280</a>
</span><span class=lnt id=hl-15-281><a class=lnlinks href=#hl-15-281>281</a>
</span><span class=lnt id=hl-15-282><a class=lnlinks href=#hl-15-282>282</a>
</span><span class=lnt id=hl-15-283><a class=lnlinks href=#hl-15-283>283</a>
</span><span class=lnt id=hl-15-284><a class=lnlinks href=#hl-15-284>284</a>
</span><span class=lnt id=hl-15-285><a class=lnlinks href=#hl-15-285>285</a>
</span><span class=lnt id=hl-15-286><a class=lnlinks href=#hl-15-286>286</a>
</span><span class=lnt id=hl-15-287><a class=lnlinks href=#hl-15-287>287</a>
</span><span class=lnt id=hl-15-288><a class=lnlinks href=#hl-15-288>288</a>
</span><span class=lnt id=hl-15-289><a class=lnlinks href=#hl-15-289>289</a>
</span><span class=lnt id=hl-15-290><a class=lnlinks href=#hl-15-290>290</a>
</span><span class=lnt id=hl-15-291><a class=lnlinks href=#hl-15-291>291</a>
</span><span class=lnt id=hl-15-292><a class=lnlinks href=#hl-15-292>292</a>
</span><span class=lnt id=hl-15-293><a class=lnlinks href=#hl-15-293>293</a>
</span><span class=lnt id=hl-15-294><a class=lnlinks href=#hl-15-294>294</a>
</span><span class=lnt id=hl-15-295><a class=lnlinks href=#hl-15-295>295</a>
</span><span class=lnt id=hl-15-296><a class=lnlinks href=#hl-15-296>296</a>
</span><span class=lnt id=hl-15-297><a class=lnlinks href=#hl-15-297>297</a>
</span><span class=lnt id=hl-15-298><a class=lnlinks href=#hl-15-298>298</a>
</span><span class=lnt id=hl-15-299><a class=lnlinks href=#hl-15-299>299</a>
</span><span class=lnt id=hl-15-300><a class=lnlinks href=#hl-15-300>300</a>
</span><span class=lnt id=hl-15-301><a class=lnlinks href=#hl-15-301>301</a>
</span><span class=lnt id=hl-15-302><a class=lnlinks href=#hl-15-302>302</a>
</span><span class=lnt id=hl-15-303><a class=lnlinks href=#hl-15-303>303</a>
</span><span class=lnt id=hl-15-304><a class=lnlinks href=#hl-15-304>304</a>
</span><span class=lnt id=hl-15-305><a class=lnlinks href=#hl-15-305>305</a>
</span><span class=lnt id=hl-15-306><a class=lnlinks href=#hl-15-306>306</a>
</span><span class=lnt id=hl-15-307><a class=lnlinks href=#hl-15-307>307</a>
</span><span class=lnt id=hl-15-308><a class=lnlinks href=#hl-15-308>308</a>
</span><span class=lnt id=hl-15-309><a class=lnlinks href=#hl-15-309>309</a>
</span><span class=lnt id=hl-15-310><a class=lnlinks href=#hl-15-310>310</a>
</span><span class=lnt id=hl-15-311><a class=lnlinks href=#hl-15-311>311</a>
</span><span class=lnt id=hl-15-312><a class=lnlinks href=#hl-15-312>312</a>
</span><span class=lnt id=hl-15-313><a class=lnlinks href=#hl-15-313>313</a>
</span><span class=lnt id=hl-15-314><a class=lnlinks href=#hl-15-314>314</a>
</span><span class=lnt id=hl-15-315><a class=lnlinks href=#hl-15-315>315</a>
</span><span class=lnt id=hl-15-316><a class=lnlinks href=#hl-15-316>316</a>
</span><span class=lnt id=hl-15-317><a class=lnlinks href=#hl-15-317>317</a>
</span><span class=lnt id=hl-15-318><a class=lnlinks href=#hl-15-318>318</a>
</span><span class=lnt id=hl-15-319><a class=lnlinks href=#hl-15-319>319</a>
</span><span class=lnt id=hl-15-320><a class=lnlinks href=#hl-15-320>320</a>
</span><span class=lnt id=hl-15-321><a class=lnlinks href=#hl-15-321>321</a>
</span><span class=lnt id=hl-15-322><a class=lnlinks href=#hl-15-322>322</a>
</span><span class=lnt id=hl-15-323><a class=lnlinks href=#hl-15-323>323</a>
</span><span class=lnt id=hl-15-324><a class=lnlinks href=#hl-15-324>324</a>
</span><span class=lnt id=hl-15-325><a class=lnlinks href=#hl-15-325>325</a>
</span><span class=lnt id=hl-15-326><a class=lnlinks href=#hl-15-326>326</a>
</span><span class=lnt id=hl-15-327><a class=lnlinks href=#hl-15-327>327</a>
</span><span class=lnt id=hl-15-328><a class=lnlinks href=#hl-15-328>328</a>
</span><span class=lnt id=hl-15-329><a class=lnlinks href=#hl-15-329>329</a>
</span><span class=lnt id=hl-15-330><a class=lnlinks href=#hl-15-330>330</a>
</span><span class=lnt id=hl-15-331><a class=lnlinks href=#hl-15-331>331</a>
</span><span class=lnt id=hl-15-332><a class=lnlinks href=#hl-15-332>332</a>
</span><span class=lnt id=hl-15-333><a class=lnlinks href=#hl-15-333>333</a>
</span><span class=lnt id=hl-15-334><a class=lnlinks href=#hl-15-334>334</a>
</span><span class=lnt id=hl-15-335><a class=lnlinks href=#hl-15-335>335</a>
</span><span class=lnt id=hl-15-336><a class=lnlinks href=#hl-15-336>336</a>
</span><span class=lnt id=hl-15-337><a class=lnlinks href=#hl-15-337>337</a>
</span><span class=lnt id=hl-15-338><a class=lnlinks href=#hl-15-338>338</a>
</span><span class=lnt id=hl-15-339><a class=lnlinks href=#hl-15-339>339</a>
</span><span class=lnt id=hl-15-340><a class=lnlinks href=#hl-15-340>340</a>
</span><span class=lnt id=hl-15-341><a class=lnlinks href=#hl-15-341>341</a>
</span><span class=lnt id=hl-15-342><a class=lnlinks href=#hl-15-342>342</a>
</span><span class=lnt id=hl-15-343><a class=lnlinks href=#hl-15-343>343</a>
</span><span class=lnt id=hl-15-344><a class=lnlinks href=#hl-15-344>344</a>
</span><span class=lnt id=hl-15-345><a class=lnlinks href=#hl-15-345>345</a>
</span><span class=lnt id=hl-15-346><a class=lnlinks href=#hl-15-346>346</a>
</span><span class=lnt id=hl-15-347><a class=lnlinks href=#hl-15-347>347</a>
</span><span class=lnt id=hl-15-348><a class=lnlinks href=#hl-15-348>348</a>
</span><span class=lnt id=hl-15-349><a class=lnlinks href=#hl-15-349>349</a>
</span><span class=lnt id=hl-15-350><a class=lnlinks href=#hl-15-350>350</a>
</span><span class=lnt id=hl-15-351><a class=lnlinks href=#hl-15-351>351</a>
</span><span class=lnt id=hl-15-352><a class=lnlinks href=#hl-15-352>352</a>
</span><span class=lnt id=hl-15-353><a class=lnlinks href=#hl-15-353>353</a>
</span><span class=lnt id=hl-15-354><a class=lnlinks href=#hl-15-354>354</a>
</span><span class=lnt id=hl-15-355><a class=lnlinks href=#hl-15-355>355</a>
</span><span class=lnt id=hl-15-356><a class=lnlinks href=#hl-15-356>356</a>
</span><span class=lnt id=hl-15-357><a class=lnlinks href=#hl-15-357>357</a>
</span><span class=lnt id=hl-15-358><a class=lnlinks href=#hl-15-358>358</a>
</span><span class=lnt id=hl-15-359><a class=lnlinks href=#hl-15-359>359</a>
</span><span class=lnt id=hl-15-360><a class=lnlinks href=#hl-15-360>360</a>
</span><span class=lnt id=hl-15-361><a class=lnlinks href=#hl-15-361>361</a>
</span><span class=lnt id=hl-15-362><a class=lnlinks href=#hl-15-362>362</a>
</span><span class=lnt id=hl-15-363><a class=lnlinks href=#hl-15-363>363</a>
</span><span class=lnt id=hl-15-364><a class=lnlinks href=#hl-15-364>364</a>
</span><span class=lnt id=hl-15-365><a class=lnlinks href=#hl-15-365>365</a>
</span><span class=lnt id=hl-15-366><a class=lnlinks href=#hl-15-366>366</a>
</span><span class=lnt id=hl-15-367><a class=lnlinks href=#hl-15-367>367</a>
</span><span class=lnt id=hl-15-368><a class=lnlinks href=#hl-15-368>368</a>
</span><span class=lnt id=hl-15-369><a class=lnlinks href=#hl-15-369>369</a>
</span><span class=lnt id=hl-15-370><a class=lnlinks href=#hl-15-370>370</a>
</span><span class=lnt id=hl-15-371><a class=lnlinks href=#hl-15-371>371</a>
</span><span class=lnt id=hl-15-372><a class=lnlinks href=#hl-15-372>372</a>
</span><span class=lnt id=hl-15-373><a class=lnlinks href=#hl-15-373>373</a>
</span><span class=lnt id=hl-15-374><a class=lnlinks href=#hl-15-374>374</a>
</span><span class=lnt id=hl-15-375><a class=lnlinks href=#hl-15-375>375</a>
</span><span class=lnt id=hl-15-376><a class=lnlinks href=#hl-15-376>376</a>
</span><span class=lnt id=hl-15-377><a class=lnlinks href=#hl-15-377>377</a>
</span><span class=lnt id=hl-15-378><a class=lnlinks href=#hl-15-378>378</a>
</span><span class=lnt id=hl-15-379><a class=lnlinks href=#hl-15-379>379</a>
</span><span class=lnt id=hl-15-380><a class=lnlinks href=#hl-15-380>380</a>
</span><span class=lnt id=hl-15-381><a class=lnlinks href=#hl-15-381>381</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>Event-Driven Architecture 구현 예시
</span></span></span><span class=line><span class=cl><span class=s2>Netflix 스타일 콘텐츠 추천 시스템
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>asyncio</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>datetime</span> <span class=kn>import</span> <span class=n>datetime</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Dict</span><span class=p>,</span> <span class=n>List</span><span class=p>,</span> <span class=n>Optional</span><span class=p>,</span> <span class=n>Callable</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>dataclasses</span> <span class=kn>import</span> <span class=n>dataclass</span><span class=p>,</span> <span class=n>asdict</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>abc</span> <span class=kn>import</span> <span class=n>ABC</span><span class=p>,</span> <span class=n>abstractmethod</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>uuid</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ============================================================================</span>
</span></span><span class=line><span class=cl><span class=c1># 1. 이벤트 정의 (Event Definitions)</span>
</span></span><span class=line><span class=cl><span class=c1># ============================================================================</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@dataclass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Event</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;기본 이벤트 클래스&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>event_id</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>event_type</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>timestamp</span><span class=p>:</span> <span class=n>datetime</span>
</span></span><span class=line><span class=cl>    <span class=n>user_id</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>data</span><span class=p>:</span> <span class=n>Dict</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>to_json</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;이벤트를 JSON으로 직렬화&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>event_dict</span> <span class=o>=</span> <span class=n>asdict</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>event_dict</span><span class=p>[</span><span class=s1>&#39;timestamp&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>timestamp</span><span class=o>.</span><span class=n>isoformat</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>event_dict</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@classmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>from_json</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>json_str</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;Event&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;JSON에서 이벤트 역직렬화&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>data</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>json_str</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>data</span><span class=p>[</span><span class=s1>&#39;timestamp&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>fromisoformat</span><span class=p>(</span><span class=n>data</span><span class=p>[</span><span class=s1>&#39;timestamp&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>cls</span><span class=p>(</span><span class=o>**</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@dataclass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>UserViewEvent</span><span class=p>(</span><span class=n>Event</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;사용자 시청 이벤트&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>content_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>duration</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>rating</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>float</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>event_id</span><span class=o>=</span><span class=nb>str</span><span class=p>(</span><span class=n>uuid</span><span class=o>.</span><span class=n>uuid4</span><span class=p>()),</span>
</span></span><span class=line><span class=cl>            <span class=n>event_type</span><span class=o>=</span><span class=s2>&#34;user_view&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>timestamp</span><span class=o>=</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>            <span class=n>user_id</span><span class=o>=</span><span class=n>user_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>data</span><span class=o>=</span><span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;content_id&#34;</span><span class=p>:</span> <span class=n>content_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;duration&#34;</span><span class=p>:</span> <span class=n>duration</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;rating&#34;</span><span class=p>:</span> <span class=n>rating</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@dataclass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ContentRecommendationEvent</span><span class=p>(</span><span class=n>Event</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;콘텐츠 추천 이벤트&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>recommendations</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>event_id</span><span class=o>=</span><span class=nb>str</span><span class=p>(</span><span class=n>uuid</span><span class=o>.</span><span class=n>uuid4</span><span class=p>()),</span>
</span></span><span class=line><span class=cl>            <span class=n>event_type</span><span class=o>=</span><span class=s2>&#34;content_recommendation&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>timestamp</span><span class=o>=</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>            <span class=n>user_id</span><span class=o>=</span><span class=n>user_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>data</span><span class=o>=</span><span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;recommendations&#34;</span><span class=p>:</span> <span class=n>recommendations</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ============================================================================</span>
</span></span><span class=line><span class=cl><span class=c1># 2. 이벤트 브로커 (Event Broker)</span>
</span></span><span class=line><span class=cl><span class=c1># ============================================================================</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>EventBroker</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;이벤트 브로커 - 이벤트 라우팅 및 전달 담당&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>subscribers</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>List</span><span class=p>[</span><span class=n>Callable</span><span class=p>]]</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>event_store</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>Event</span><span class=p>]</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>async</span> <span class=k>def</span> <span class=nf>publish</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event</span><span class=p>:</span> <span class=n>Event</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;이벤트 발행&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># 이벤트 저장 (Event Sourcing)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>event_store</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>event</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 구독자들에게 이벤트 전달</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>event</span><span class=o>.</span><span class=n>event_type</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>subscribers</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>tasks</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>handler</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>subscribers</span><span class=p>[</span><span class=n>event</span><span class=o>.</span><span class=n>event_type</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>                <span class=n>tasks</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_safe_handle</span><span class=p>(</span><span class=n>handler</span><span class=p>,</span> <span class=n>event</span><span class=p>))</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>tasks</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>gather</span><span class=p>(</span><span class=o>*</span><span class=n>tasks</span><span class=p>,</span> <span class=n>return_exceptions</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>subscribe</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>handler</span><span class=p>:</span> <span class=n>Callable</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;이벤트 구독&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>event_type</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>subscribers</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>subscribers</span><span class=p>[</span><span class=n>event_type</span><span class=p>]</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>subscribers</span><span class=p>[</span><span class=n>event_type</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>handler</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>async</span> <span class=k>def</span> <span class=nf>_safe_handle</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>handler</span><span class=p>:</span> <span class=n>Callable</span><span class=p>,</span> <span class=n>event</span><span class=p>:</span> <span class=n>Event</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;안전한 이벤트 핸들러 실행&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>iscoroutinefunction</span><span class=p>(</span><span class=n>handler</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=k>await</span> <span class=n>handler</span><span class=p>(</span><span class=n>event</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>handler</span><span class=p>(</span><span class=n>event</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;이벤트 처리 오류: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_events_by_user</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=n>Event</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;사용자별 이벤트 조회&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>[</span><span class=n>event</span> <span class=k>for</span> <span class=n>event</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>event_store</span> <span class=k>if</span> <span class=n>event</span><span class=o>.</span><span class=n>user_id</span> <span class=o>==</span> <span class=n>user_id</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_events_by_type</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=n>Event</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;타입별 이벤트 조회&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>[</span><span class=n>event</span> <span class=k>for</span> <span class=n>event</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>event_store</span> <span class=k>if</span> <span class=n>event</span><span class=o>.</span><span class=n>event_type</span> <span class=o>==</span> <span class=n>event_type</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ============================================================================</span>
</span></span><span class=line><span class=cl><span class=c1># 3. 이벤트 컨슈머 (Event Consumers)</span>
</span></span><span class=line><span class=cl><span class=c1># ============================================================================</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>EventConsumer</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;이벤트 컨슈머 기본 클래스&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>broker</span><span class=p>:</span> <span class=n>EventBroker</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>broker</span> <span class=o>=</span> <span class=n>broker</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>register_handlers</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>register_handlers</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;이벤트 핸들러 등록&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>RecommendationService</span><span class=p>(</span><span class=n>EventConsumer</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;추천 서비스 - 사용자 시청 이벤트를 기반으로 추천 생성&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>broker</span><span class=p>:</span> <span class=n>EventBroker</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>user_preferences</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Dict</span><span class=p>]</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>content_database</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;movie_1&#34;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&#34;genre&#34;</span><span class=p>:</span> <span class=s2>&#34;action&#34;</span><span class=p>,</span> <span class=s2>&#34;rating&#34;</span><span class=p>:</span> <span class=mf>4.5</span><span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;movie_2&#34;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&#34;genre&#34;</span><span class=p>:</span> <span class=s2>&#34;comedy&#34;</span><span class=p>,</span> <span class=s2>&#34;rating&#34;</span><span class=p>:</span> <span class=mf>4.2</span><span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;movie_3&#34;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&#34;genre&#34;</span><span class=p>:</span> <span class=s2>&#34;action&#34;</span><span class=p>,</span> <span class=s2>&#34;rating&#34;</span><span class=p>:</span> <span class=mf>4.7</span><span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;movie_4&#34;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&#34;genre&#34;</span><span class=p>:</span> <span class=s2>&#34;drama&#34;</span><span class=p>,</span> <span class=s2>&#34;rating&#34;</span><span class=p>:</span> <span class=mf>4.3</span><span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;movie_5&#34;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&#34;genre&#34;</span><span class=p>:</span> <span class=s2>&#34;comedy&#34;</span><span class=p>,</span> <span class=s2>&#34;rating&#34;</span><span class=p>:</span> <span class=mf>4.1</span><span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>broker</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>register_handlers</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;이벤트 핸들러 등록&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>broker</span><span class=o>.</span><span class=n>subscribe</span><span class=p>(</span><span class=s2>&#34;user_view&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>handle_user_view</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>async</span> <span class=k>def</span> <span class=nf>handle_user_view</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event</span><span class=p>:</span> <span class=n>Event</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;사용자 시청 이벤트 처리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>user_id</span> <span class=o>=</span> <span class=n>event</span><span class=o>.</span><span class=n>user_id</span>
</span></span><span class=line><span class=cl>        <span class=n>content_id</span> <span class=o>=</span> <span class=n>event</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&#34;content_id&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>duration</span> <span class=o>=</span> <span class=n>event</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&#34;duration&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>rating</span> <span class=o>=</span> <span class=n>event</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;rating&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 사용자 선호도 업데이트</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_update_user_preferences</span><span class=p>(</span><span class=n>user_id</span><span class=p>,</span> <span class=n>content_id</span><span class=p>,</span> <span class=n>duration</span><span class=p>,</span> <span class=n>rating</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 새로운 추천 생성</span>
</span></span><span class=line><span class=cl>        <span class=n>recommendations</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_generate_recommendations</span><span class=p>(</span><span class=n>user_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 추천 이벤트 발행</span>
</span></span><span class=line><span class=cl>        <span class=n>recommendation_event</span> <span class=o>=</span> <span class=n>ContentRecommendationEvent</span><span class=p>(</span><span class=n>user_id</span><span class=p>,</span> <span class=n>recommendations</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>broker</span><span class=o>.</span><span class=n>publish</span><span class=p>(</span><span class=n>recommendation_event</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[추천 서비스] 사용자 </span><span class=si>{</span><span class=n>user_id</span><span class=si>}</span><span class=s2>에게 새로운 추천 생성: </span><span class=si>{</span><span class=n>recommendations</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_update_user_preferences</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>content_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>duration</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>rating</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>float</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;사용자 선호도 업데이트&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>user_id</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>user_preferences</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>user_preferences</span><span class=p>[</span><span class=n>user_id</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;viewed_content&#34;</span><span class=p>:</span> <span class=p>[],</span> <span class=s2>&#34;preferred_genres&#34;</span><span class=p>:</span> <span class=p>{}}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 시청한 콘텐츠 추가</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>user_preferences</span><span class=p>[</span><span class=n>user_id</span><span class=p>][</span><span class=s2>&#34;viewed_content&#34;</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>({</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;content_id&#34;</span><span class=p>:</span> <span class=n>content_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;duration&#34;</span><span class=p>:</span> <span class=n>duration</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;rating&#34;</span><span class=p>:</span> <span class=n>rating</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;timestamp&#34;</span><span class=p>:</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span><span class=o>.</span><span class=n>isoformat</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>})</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 장르 선호도 업데이트 (간단한 로직)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>content_id</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>content_database</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>genre</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>content_database</span><span class=p>[</span><span class=n>content_id</span><span class=p>][</span><span class=s2>&#34;genre&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>genre</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>user_preferences</span><span class=p>[</span><span class=n>user_id</span><span class=p>][</span><span class=s2>&#34;preferred_genres&#34;</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>user_preferences</span><span class=p>[</span><span class=n>user_id</span><span class=p>][</span><span class=s2>&#34;preferred_genres&#34;</span><span class=p>][</span><span class=n>genre</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 시청 시간과 평점을 기반으로 선호도 점수 계산</span>
</span></span><span class=line><span class=cl>            <span class=n>preference_score</span> <span class=o>=</span> <span class=n>duration</span> <span class=o>/</span> <span class=mi>100</span>  <span class=c1># 기본 점수</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>rating</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>preference_score</span> <span class=o>*=</span> <span class=n>rating</span> <span class=o>/</span> <span class=mi>5</span>  <span class=c1># 평점 반영</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>user_preferences</span><span class=p>[</span><span class=n>user_id</span><span class=p>][</span><span class=s2>&#34;preferred_genres&#34;</span><span class=p>][</span><span class=n>genre</span><span class=p>]</span> <span class=o>+=</span> <span class=n>preference_score</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_generate_recommendations</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;추천 콘텐츠 생성&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>user_id</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>user_preferences</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=p>[</span><span class=s2>&#34;movie_1&#34;</span><span class=p>,</span> <span class=s2>&#34;movie_2&#34;</span><span class=p>]</span>  <span class=c1># 기본 추천</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 사용자가 본 콘텐츠</span>
</span></span><span class=line><span class=cl>        <span class=n>viewed_content</span> <span class=o>=</span> <span class=p>{</span><span class=n>item</span><span class=p>[</span><span class=s2>&#34;content_id&#34;</span><span class=p>]</span> <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>user_preferences</span><span class=p>[</span><span class=n>user_id</span><span class=p>][</span><span class=s2>&#34;viewed_content&#34;</span><span class=p>]}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 선호 장르 기반 추천 (간단한 협업 필터링)</span>
</span></span><span class=line><span class=cl>        <span class=n>preferred_genres</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>user_preferences</span><span class=p>[</span><span class=n>user_id</span><span class=p>][</span><span class=s2>&#34;preferred_genres&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>recommendations</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>content_id</span><span class=p>,</span> <span class=n>content_info</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>content_database</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>content_id</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>viewed_content</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>genre</span> <span class=o>=</span> <span class=n>content_info</span><span class=p>[</span><span class=s2>&#34;genre&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>genre</span> <span class=ow>in</span> <span class=n>preferred_genres</span> <span class=ow>and</span> <span class=n>preferred_genres</span><span class=p>[</span><span class=n>genre</span><span class=p>]</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>recommendations</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>content_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>recommendations</span><span class=p>[:</span><span class=mi>3</span><span class=p>]</span>  <span class=c1># 상위 3개 추천</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>AnalyticsService</span><span class=p>(</span><span class=n>EventConsumer</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;분석 서비스 - 이벤트 데이터를 수집하고 분석&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>broker</span><span class=p>:</span> <span class=n>EventBroker</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>analytics_data</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>List</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;user_engagement&#34;</span><span class=p>:</span> <span class=p>[],</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;content_performance&#34;</span><span class=p>:</span> <span class=p>[],</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;recommendation_effectiveness&#34;</span><span class=p>:</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>broker</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>register_handlers</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;이벤트 핸들러 등록&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>broker</span><span class=o>.</span><span class=n>subscribe</span><span class=p>(</span><span class=s2>&#34;user_view&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>analyze_user_engagement</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>broker</span><span class=o>.</span><span class=n>subscribe</span><span class=p>(</span><span class=s2>&#34;content_recommendation&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>analyze_recommendation</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>async</span> <span class=k>def</span> <span class=nf>analyze_user_engagement</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event</span><span class=p>:</span> <span class=n>Event</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;사용자 참여도 분석&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>engagement_data</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;user_id&#34;</span><span class=p>:</span> <span class=n>event</span><span class=o>.</span><span class=n>user_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;content_id&#34;</span><span class=p>:</span> <span class=n>event</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&#34;content_id&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;duration&#34;</span><span class=p>:</span> <span class=n>event</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&#34;duration&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;timestamp&#34;</span><span class=p>:</span> <span class=n>event</span><span class=o>.</span><span class=n>timestamp</span><span class=o>.</span><span class=n>isoformat</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>analytics_data</span><span class=p>[</span><span class=s2>&#34;user_engagement&#34;</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>engagement_data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[분석 서비스] 사용자 참여도 데이터 수집: </span><span class=si>{</span><span class=n>engagement_data</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>async</span> <span class=k>def</span> <span class=nf>analyze_recommendation</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event</span><span class=p>:</span> <span class=n>Event</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;추천 효과성 분석&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>recommendation_data</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;user_id&#34;</span><span class=p>:</span> <span class=n>event</span><span class=o>.</span><span class=n>user_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;recommendations&#34;</span><span class=p>:</span> <span class=n>event</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&#34;recommendations&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;timestamp&#34;</span><span class=p>:</span> <span class=n>event</span><span class=o>.</span><span class=n>timestamp</span><span class=o>.</span><span class=n>isoformat</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>analytics_data</span><span class=p>[</span><span class=s2>&#34;recommendation_effectiveness&#34;</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>recommendation_data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[분석 서비스] 추천 데이터 수집: </span><span class=si>{</span><span class=n>recommendation_data</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_analytics_summary</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;분석 요약 정보 반환&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;total_user_views&#34;</span><span class=p>:</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>analytics_data</span><span class=p>[</span><span class=s2>&#34;user_engagement&#34;</span><span class=p>]),</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;total_recommendations&#34;</span><span class=p>:</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>analytics_data</span><span class=p>[</span><span class=s2>&#34;recommendation_effectiveness&#34;</span><span class=p>]),</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;unique_users&#34;</span><span class=p>:</span> <span class=nb>len</span><span class=p>(</span><span class=nb>set</span><span class=p>(</span><span class=n>item</span><span class=p>[</span><span class=s2>&#34;user_id&#34;</span><span class=p>]</span> <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>analytics_data</span><span class=p>[</span><span class=s2>&#34;user_engagement&#34;</span><span class=p>]))</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>NotificationService</span><span class=p>(</span><span class=n>EventConsumer</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;알림 서비스 - 사용자에게 알림 전송&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>register_handlers</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;이벤트 핸들러 등록&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>broker</span><span class=o>.</span><span class=n>subscribe</span><span class=p>(</span><span class=s2>&#34;content_recommendation&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>send_recommendation_notification</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>async</span> <span class=k>def</span> <span class=nf>send_recommendation_notification</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event</span><span class=p>:</span> <span class=n>Event</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;추천 알림 전송&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>user_id</span> <span class=o>=</span> <span class=n>event</span><span class=o>.</span><span class=n>user_id</span>
</span></span><span class=line><span class=cl>        <span class=n>recommendations</span> <span class=o>=</span> <span class=n>event</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&#34;recommendations&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 실제로는 푸시 알림, 이메일 등을 전송</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[알림 서비스] 사용자 </span><span class=si>{</span><span class=n>user_id</span><span class=si>}</span><span class=s2>에게 알림 전송: 새로운 추천 콘텐츠 </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>recommendations</span><span class=p>)</span><span class=si>}</span><span class=s2>개&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ============================================================================</span>
</span></span><span class=line><span class=cl><span class=c1># 4. 이벤트 프로듀서 (Event Producers)</span>
</span></span><span class=line><span class=cl><span class=c1># ============================================================================</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>UserInteractionProducer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;사용자 상호작용 이벤트 프로듀서&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>broker</span><span class=p>:</span> <span class=n>EventBroker</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>broker</span> <span class=o>=</span> <span class=n>broker</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>async</span> <span class=k>def</span> <span class=nf>user_watches_content</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>content_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>duration</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>rating</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>float</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;사용자 콘텐츠 시청 이벤트 생성&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>event</span> <span class=o>=</span> <span class=n>UserViewEvent</span><span class=p>(</span><span class=n>user_id</span><span class=p>,</span> <span class=n>content_id</span><span class=p>,</span> <span class=n>duration</span><span class=p>,</span> <span class=n>rating</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>broker</span><span class=o>.</span><span class=n>publish</span><span class=p>(</span><span class=n>event</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[이벤트 생성] 사용자 </span><span class=si>{</span><span class=n>user_id</span><span class=si>}</span><span class=s2>가 </span><span class=si>{</span><span class=n>content_id</span><span class=si>}</span><span class=s2> 시청 (시간: </span><span class=si>{</span><span class=n>duration</span><span class=si>}</span><span class=s2>분)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ============================================================================</span>
</span></span><span class=line><span class=cl><span class=c1># 5. 메인 실행 코드</span>
</span></span><span class=line><span class=cl><span class=c1># ============================================================================</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;메인 실행 함수 - Event-Driven Architecture 데모&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;=== Event-Driven Architecture 데모 시작 ===</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 1. 이벤트 브로커 초기화</span>
</span></span><span class=line><span class=cl>    <span class=n>broker</span> <span class=o>=</span> <span class=n>EventBroker</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 2. 이벤트 컨슈머 초기화 (서비스들)</span>
</span></span><span class=line><span class=cl>    <span class=n>recommendation_service</span> <span class=o>=</span> <span class=n>RecommendationService</span><span class=p>(</span><span class=n>broker</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>analytics_service</span> <span class=o>=</span> <span class=n>AnalyticsService</span><span class=p>(</span><span class=n>broker</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>notification_service</span> <span class=o>=</span> <span class=n>NotificationService</span><span class=p>(</span><span class=n>broker</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 3. 이벤트 프로듀서 초기화</span>
</span></span><span class=line><span class=cl>    <span class=n>user_producer</span> <span class=o>=</span> <span class=n>UserInteractionProducer</span><span class=p>(</span><span class=n>broker</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;모든 서비스가 초기화되었습니다.</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 4. 사용자 상호작용 시뮬레이션</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;=== 사용자 상호작용 시뮬레이션 ===&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 사용자 1의 시청 패턴</span>
</span></span><span class=line><span class=cl>    <span class=k>await</span> <span class=n>user_producer</span><span class=o>.</span><span class=n>user_watches_content</span><span class=p>(</span><span class=s2>&#34;user_1&#34;</span><span class=p>,</span> <span class=s2>&#34;movie_1&#34;</span><span class=p>,</span> <span class=mi>120</span><span class=p>,</span> <span class=mf>4.5</span><span class=p>)</span>  <span class=c1># 액션 영화</span>
</span></span><span class=line><span class=cl>    <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>  <span class=c1># 짧은 지연</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>await</span> <span class=n>user_producer</span><span class=o>.</span><span class=n>user_watches_content</span><span class=p>(</span><span class=s2>&#34;user_1&#34;</span><span class=p>,</span> <span class=s2>&#34;movie_3&#34;</span><span class=p>,</span> <span class=mi>110</span><span class=p>,</span> <span class=mf>4.7</span><span class=p>)</span>  <span class=c1># 액션 영화</span>
</span></span><span class=line><span class=cl>    <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 사용자 2의 시청 패턴</span>
</span></span><span class=line><span class=cl>    <span class=k>await</span> <span class=n>user_producer</span><span class=o>.</span><span class=n>user_watches_content</span><span class=p>(</span><span class=s2>&#34;user_2&#34;</span><span class=p>,</span> <span class=s2>&#34;movie_2&#34;</span><span class=p>,</span> <span class=mi>95</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>)</span>   <span class=c1># 코미디 영화</span>
</span></span><span class=line><span class=cl>    <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>await</span> <span class=n>user_producer</span><span class=o>.</span><span class=n>user_watches_content</span><span class=p>(</span><span class=s2>&#34;user_2&#34;</span><span class=p>,</span> <span class=s2>&#34;movie_5&#34;</span><span class=p>,</span> <span class=mi>88</span><span class=p>,</span> <span class=mf>3.8</span><span class=p>)</span>   <span class=c1># 코미디 영화</span>
</span></span><span class=line><span class=cl>    <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 사용자 1이 추가로 시청</span>
</span></span><span class=line><span class=cl>    <span class=k>await</span> <span class=n>user_producer</span><span class=o>.</span><span class=n>user_watches_content</span><span class=p>(</span><span class=s2>&#34;user_1&#34;</span><span class=p>,</span> <span class=s2>&#34;movie_4&#34;</span><span class=p>,</span> <span class=mi>130</span><span class=p>,</span> <span class=mf>4.2</span><span class=p>)</span>  <span class=c1># 드라마 영화</span>
</span></span><span class=line><span class=cl>    <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>=== 분석 결과 ===&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>summary</span> <span class=o>=</span> <span class=n>analytics_service</span><span class=o>.</span><span class=n>get_analytics_summary</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;총 시청 횟수: </span><span class=si>{</span><span class=n>summary</span><span class=p>[</span><span class=s1>&#39;total_user_views&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;총 추천 생성 수: </span><span class=si>{</span><span class=n>summary</span><span class=p>[</span><span class=s1>&#39;total_recommendations&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;고유 사용자 수: </span><span class=si>{</span><span class=n>summary</span><span class=p>[</span><span class=s1>&#39;unique_users&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>=== 사용자별 추천 결과 확인 ===&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># 사용자별 추천 결과 확인</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>user_id</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>&#34;user_1&#34;</span><span class=p>,</span> <span class=s2>&#34;user_2&#34;</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=n>recommendations</span> <span class=o>=</span> <span class=n>recommendation_service</span><span class=o>.</span><span class=n>_generate_recommendations</span><span class=p>(</span><span class=n>user_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;사용자 </span><span class=si>{</span><span class=n>user_id</span><span class=si>}</span><span class=s2> 최종 추천: </span><span class=si>{</span><span class=n>recommendations</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 사용자 선호도 확인</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>user_id</span> <span class=ow>in</span> <span class=n>recommendation_service</span><span class=o>.</span><span class=n>user_preferences</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>preferred_genres</span> <span class=o>=</span> <span class=n>recommendation_service</span><span class=o>.</span><span class=n>user_preferences</span><span class=p>[</span><span class=n>user_id</span><span class=p>][</span><span class=s2>&#34;preferred_genres&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;사용자 </span><span class=si>{</span><span class=n>user_id</span><span class=si>}</span><span class=s2> 선호 장르: </span><span class=si>{</span><span class=n>preferred_genres</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>=== 이벤트 저장소 확인 ===&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;총 저장된 이벤트 수: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>broker</span><span class=o>.</span><span class=n>event_store</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 이벤트 타입별 통계</span>
</span></span><span class=line><span class=cl>    <span class=n>event_types</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>event</span> <span class=ow>in</span> <span class=n>broker</span><span class=o>.</span><span class=n>event_store</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>event_type</span> <span class=o>=</span> <span class=n>event</span><span class=o>.</span><span class=n>event_type</span>
</span></span><span class=line><span class=cl>        <span class=n>event_types</span><span class=p>[</span><span class=n>event_type</span><span class=p>]</span> <span class=o>=</span> <span class=n>event_types</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>event_type</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span> <span class=o>+</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;이벤트 타입별 통계:&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>event_type</span><span class=p>,</span> <span class=n>count</span> <span class=ow>in</span> <span class=n>event_types</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;  </span><span class=si>{</span><span class=n>event_type</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>count</span><span class=si>}</span><span class=s2>개&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>=== Event-Driven Architecture 데모 완료 ===&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 실행</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>asyncio</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>main</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=20-실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>20. 실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#20-실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>#</a></h2><table><thead><tr><th>영역</th><th>고려사항</th><th>주의할 점</th><th>권장사항</th></tr></thead><tbody><tr><td><strong>아키텍처 설계</strong></td><td>이벤트 스키마 정의, 토폴로지 선택</td><td>과도한 복잡성, 순환 의존성</td><td>단순한 구조로 시작, 점진적 확장</td></tr><tr><td><strong>기술 선택</strong></td><td>메시지 브로커 선정, 개발 언어 호환성</td><td>벤더 종속성, 성능 병목점</td><td>표준 프로토콜 사용, 성능 테스트</td></tr><tr><td><strong>데이터 관리</strong></td><td>이벤트 순서 보장, 중복 처리</td><td>데이터 불일치, 이벤트 유실</td><td>멱등성 보장, 재시도 메커니즘</td></tr><tr><td><strong>모니터링</strong></td><td>분산 추적, 성능 메트릭</td><td>가시성 부족, 디버깅 어려움</td><td>통합 모니터링 도구, 로그 표준화</td></tr><tr><td><strong>보안</strong></td><td>이벤트 암호화, 접근 제어</td><td>데이터 노출, 무단 접근</td><td>End-to-End 암호화, 세밀한 권한 관리</td></tr><tr><td><strong>운영</strong></td><td>자동 스케일링, 장애 복구</td><td>운영 복잡성, 리소스 낭비</td><td>자동화 도구, 용량 계획</td></tr><tr><td><strong>조직</strong></td><td>팀 간 협업, 표준화</td><td>의사소통 문제, 일관성 부족</td><td>이벤트 카탈로그, 거버넌스 체계</td></tr></tbody></table><h2 id=21-최적화하기-위한-고려사항-및-주의할-점>21. 최적화하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#21-최적화하기-위한-고려사항-및-주의할-점>#</a></h2><table><thead><tr><th>영역</th><th>최적화 방법</th><th>주의사항</th><th>권장사항</th></tr></thead><tbody><tr><td><strong>성능</strong></td><td>배치 처리, 압축, 캐싱</td><td>지연시간 증가, 메모리 부족</td><td>적응적 배치 크기, 지능형 캐싱</td></tr><tr><td><strong>처리량</strong></td><td>파티셔닝, 병렬 처리</td><td>순서 보장 문제, 핫스팟</td><td>적절한 파티션 키, 로드 밸런싱</td></tr><tr><td><strong>저장소</strong></td><td>압축, 아카이빙, 정리</td><td>데이터 유실, 복구 시간</td><td>자동 정리 정책, 백업 전략</td></tr><tr><td><strong>네트워크</strong></td><td>프로토콜 최적화, 압축</td><td>호환성 문제, CPU 오버헤드</td><td>효율적 직렬화, 적응적 압축</td></tr><tr><td><strong>리소스</strong></td><td>오토스케일링, 예약 인스턴스</td><td>비용 증가, 응답성 저하</td><td>예측적 스케일링, 비용 모니터링</td></tr><tr><td><strong>가용성</strong></td><td>복제, 페일오버</td><td>일관성 문제, 복잡성</td><td>적절한 복제 수준, 자동 페일오버</td></tr></tbody></table><h2 id=22-주제와-관련하여-주목할-내용>22. 주제와 관련하여 주목할 내용<a hidden class=anchor aria-hidden=true href=#22-주제와-관련하여-주목할-내용>#</a></h2><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>기술 트렌드</strong></td><td>Serverless EDA</td><td>AWS Lambda, Azure Functions</td><td>이벤트 기반 서버리스 아키텍처</td></tr><tr><td><strong>기술 트렌드</strong></td><td>Event Mesh</td><td>Solace, Confluent</td><td>분산 이벤트 브로커 네트워크</td></tr><tr><td><strong>패턴</strong></td><td>Saga Pattern</td><td>Orchestration, Choreography</td><td>분산 트랜잭션 관리 패턴</td></tr><tr><td><strong>패턴</strong></td><td>Event Sourcing</td><td>Event Store, Snapshots</td><td>이벤트 기반 상태 관리</td></tr><tr><td><strong>도구</strong></td><td>Apache Kafka</td><td>Streams, Connect, KSQL</td><td>분산 스트리밍 플랫폼</td></tr><tr><td><strong>도구</strong></td><td>Apache Pulsar</td><td>Multi-tenancy, Geo-replication</td><td>클라우드 네이티브 메시징</td></tr><tr><td><strong>모니터링</strong></td><td>Distributed Tracing</td><td>Jaeger, Zipkin, OpenTracing</td><td>분산 시스템 추적</td></tr><tr><td><strong>보안</strong></td><td>Event Security</td><td>Encryption, Access Control</td><td>이벤트 보안 및 프라이버시</td></tr></tbody></table><h2 id=23-반드시-학습해야할-내용>23. 반드시 학습해야할 내용<a hidden class=anchor aria-hidden=true href=#23-반드시-학습해야할-내용>#</a></h2><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>핵심 개념</strong></td><td>메시징 패턴</td><td>Pub/Sub, Point-to-Point</td><td>기본 메시징 통신 패턴</td></tr><tr><td><strong>핵심 개념</strong></td><td>비동기 처리</td><td>Callbacks, Promises, Futures</td><td>비동기 프로그래밍 기법</td></tr><tr><td><strong>아키텍처 패턴</strong></td><td>CQRS</td><td>Command, Query 분리</td><td>읽기/쓰기 모델 분리 패턴</td></tr><tr><td><strong>아키텍처 패턴</strong></td><td>Event Sourcing</td><td>Event Log, Replay</td><td>이벤트 기반 상태 관리</td></tr><tr><td><strong>기술 스택</strong></td><td>Message Brokers</td><td>Kafka, RabbitMQ, Pulsar</td><td>메시지 브로커 기술</td></tr><tr><td><strong>기술 스택</strong></td><td>Stream Processing</td><td>Flink, Kafka Streams</td><td>실시간 스트림 처리 기술</td></tr><tr><td><strong>운영</strong></td><td>Monitoring</td><td>Metrics, Logging, Tracing</td><td>분산 시스템 모니터링</td></tr><tr><td><strong>운영</strong></td><td>Resilience</td><td>Circuit Breaker, Retry</td><td>장애 처리 및 복원력 패턴</td></tr></tbody></table><hr><h2 id=용어-정리-1>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-1>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td><strong>핵심 개념</strong></td><td>Event (이벤트)</td><td>시스템에서 발생하는 중요한 상태 변화나 사건을 나타내는 불변 객체</td></tr><tr><td><strong>핵심 개념</strong></td><td>Event Producer (이벤트 프로듀서)</td><td>이벤트를 생성하고 발행하는 시스템 구성 요소</td></tr><tr><td><strong>핵심 개념</strong></td><td>Event Consumer (이벤트 컨슈머)</td><td>이벤트를 구독하고 처리하는 시스템 구성 요소</td></tr><tr><td><strong>인프라</strong></td><td>Event Broker (이벤트 브로커)</td><td>이벤트 라우팅과 전달을 담당하는 중간 매개체</td></tr><tr><td><strong>인프라</strong></td><td>Event Store (이벤트 저장소)</td><td>이벤트를 영구적으로 저장하는 데이터베이스</td></tr><tr><td><strong>패턴</strong></td><td>CQRS</td><td>Command Query Responsibility Segregation, 명령과 조회의 책임 분리</td></tr><tr><td><strong>패턴</strong></td><td>Event Sourcing (이벤트 소싱)</td><td>모든 상태 변화를 이벤트로 저장하여 애플리케이션 상태를 관리하는 패턴</td></tr><tr><td><strong>패턴</strong></td><td>Saga Pattern (사가 패턴)</td><td>분산 시스템에서 장기 실행 트랜잭션을 관리하는 패턴</td></tr><tr><td><strong>기술</strong></td><td>Stream Processing (스트림 처리)</td><td>연속적인 데이터 스트림을 실시간으로 처리하는 기술</td></tr><tr><td><strong>기술</strong></td><td>Message Queue (메시지 큐)</td><td>비동기 메시지 전달을 위한 임시 저장소</td></tr><tr><td><strong>품질</strong></td><td>Idempotency (멱등성)</td><td>동일한 작업을 여러 번 수행해도 결과가 같은 성질</td></tr><tr><td><strong>품질</strong></td><td>Eventual Consistency (결과적 일관성)</td><td>시간이 지나면서 모든 노드가 일관된 상태에 도달하는 특성</td></tr></tbody></table><hr><h2 id=참고-및-출처-1>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-1>#</a></h2><ul><li><a href=https://aws.amazon.com/event-driven-architecture/>Event-Driven Architecture - AWS</a></li><li><a href=https://learn.microsoft.com/en-us/azure/architecture/patterns/event-sourcing>Event-Driven Architecture Pattern - Microsoft Azure</a></li><li><a href=https://kafka.apache.org/documentation/>Apache Kafka Documentation</a></li><li><a href=https://martinfowler.com/articles/201701-event-driven.html>Event-Driven Architecture - Martin Fowler</a></li><li><a href=https://www.oreilly.com/library/view/building-microservices/9781491950340/>Building Microservices - Sam Newman</a></li><li><a href=https://dataintensive.net/>Designing Data-Intensive Applications - Martin Kleppmann</a></li><li><a href=https://www.eventstorming.com/>Event Storming - Alberto Brandolini</a></li><li><a href=https://www.reactivemanifesto.org/>Reactive Systems Design</a></li></ul><hr><p>아래는 &ldquo;Event-Driven Architecture(이벤트 기반 아키텍처, EDA)&rdquo; 에 대한 IT 백엔드 개발자의 관점에서 이론과 실무를 아우르는 체계적 조사 및 정리입니다.</p><hr><h2 id=1-태그-tag>1. 태그 (Tag)<a hidden class=anchor aria-hidden=true href=#1-태그-tag>#</a></h2><p>Event-Driven-Architecture, Messaging-Broker, Asynchronous-Processing, Distributed-Systems</p><hr><h2 id=2-분류-계층-구조-타당성-분석>2. 분류 계층 구조 타당성 분석<a hidden class=anchor aria-hidden=true href=#2-분류-계층-구조-타당성-분석>#</a></h2><p><strong>분류:</strong><br>Computer Science and Engineering > Software Engineering > Design and Architecture > Architecture Styles and Patterns > Architecture Styles > Messaging</p><p><strong>근거:</strong><br>이벤트 기반 아키텍처 (EDA) 는 메시징 (Messaging) 기반의 아키텍처 스타일로, 이벤트 (상태 변화, 액션 등) 를 중심으로 시스템이 동작하며, 서비스 간 비동기 통신과 메시지 브로커 (예: Kafka, RabbitMQ) 를 핵심 요소로 사용합니다. 메시징 계층에 분류하는 것은 EDA 의 핵심 구조와 구현 방식에 부합합니다 <a href="https://en.wikipedia.org/wiki/Apache_Storm?utm_source=chatgpt.com" title="Apache Storm">1</a><a href="https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven?utm_source=chatgpt.com" title="Event-driven architecture style - Azure - Learn Microsoft">3</a>.</p><hr><h2 id=3-요약-문장-200-자-내외>3. 요약 문장 (200 자 내외)<a hidden class=anchor aria-hidden=true href=#3-요약-문장-200-자-내외>#</a></h2><p>이벤트 기반 아키텍처는 시스템 내 상태 변화를 이벤트로 캡처하고, 비동기적으로 처리하며, 서비스 간 결합도를 낮추어 확장성과 실시간 대응력을 높이는 구조입니다.</p><hr><h2 id=4-개요-250-자-내외-1>4. 개요 (250 자 내외)<a hidden class=anchor aria-hidden=true href=#4-개요-250-자-내외-1>#</a></h2><p>이벤트 기반 아키텍처는 시스템 내에서 발생하는 다양한 이벤트를 중심으로 서비스가 동작하며, 이벤트 생산자와 소비자가 메시지 브로커를 통해 비동기적으로 통신합니다. 이로써 실시간 처리, 확장성, 결합도 저하, 결함 격리, 유연성 등이 강화되어 현대 분산 시스템에서 널리 활용됩니다 <a href="https://tyk.io/learning-center/what-is-event-driven-architecture/?utm_source=chatgpt.com" title="What is event-driven architecture? - Tyk API Management">4</a><a href="https://en.wikipedia.org/wiki/Observer_pattern?utm_source=chatgpt.com" title="Observer pattern">5</a>.</p><hr><h2 id=5-핵심-개념-1>5. 핵심 개념<a hidden class=anchor aria-hidden=true href=#5-핵심-개념-1>#</a></h2><ul><li><strong>정의:</strong><ul><li>이벤트 기반 아키텍처 (EDA) 는 시스템 내에서 발생하는 이벤트 (상태 변화, 액션 등) 를 중심으로 서비스가 동작하며, 이벤트 생산자 (Producer) 와 소비자 (Consumer) 가 메시지 브로커 (Broker) 를 통해 비동기적으로 통신하는 소프트웨어 설계 패턴입니다 <a href="https://tyk.io/learning-center/what-is-event-driven-architecture/?utm_source=chatgpt.com" title="What is event-driven architecture? - Tyk API Management">4</a><a href="https://en.wikipedia.org/wiki/Observer_pattern?utm_source=chatgpt.com" title="Observer pattern">5</a>.</li></ul></li><li><strong>실무 구현 요소:</strong><ul><li>이벤트 생산자 (Producer): 이벤트를 생성 및 발행</li><li>이벤트 소비자 (Consumer): 이벤트를 구독 및 처리</li><li>메시지 브로커 (Broker): 이벤트를 중계 및 라우팅 (예: Kafka, RabbitMQ)</li><li>이벤트 스토어 (Event Store): 이벤트 내역 저장 및 재생 (옵션)</li><li>이벤트 처리 및 오케스트레이션: 이벤트에 따라 비즈니스 로직 실행</li></ul></li></ul><hr><h2 id=6-조사-내용>6. 조사 내용<a hidden class=anchor aria-hidden=true href=#6-조사-내용>#</a></h2><h3 id=1-배경-1>(1) 배경<a hidden class=anchor aria-hidden=true href=#1-배경-1>#</a></h3><p>EDA 는 기존의 동기적 요청 - 응답 방식의 한계 (확장성, 결합도, 실시간 처리 등) 를 극복하기 위해 등장했습니다. 분산 시스템, 마이크로서비스, IoT, 실시간 애플리케이션 등에서 널리 활용되며, 클라우드 네이티브 환경에서 필수적인 아키텍처로 자리잡았습니다 <a href="https://tyk.io/learning-center/what-is-event-driven-architecture/?utm_source=chatgpt.com" title="What is event-driven architecture? - Tyk API Management">4</a><a href="https://en.wikipedia.org/wiki/Apache_Storm?utm_source=chatgpt.com" title="Apache Storm">2</a>.</p><h3 id=2-목적-및-필요성-1>(2) 목적 및 필요성<a hidden class=anchor aria-hidden=true href=#2-목적-및-필요성-1>#</a></h3><ul><li><strong>목적:</strong><ul><li>실시간 처리 및 비동기 통신 지원</li><li>서비스 간 결합도 저하 및 확장성 증대</li><li>장애 격리 및 시스템 유연성 확보</li></ul></li><li><strong>필요성:</strong><ul><li>대규모 분산 시스템에서 효율적 데이터 흐름 관리</li><li>실시간 분석, 트랜잭션, 알림 등 다양한 비즈니스 요구 충족</li></ul></li></ul><h3 id=3-주요-기능-및-역할-1>(3) 주요 기능 및 역할<a hidden class=anchor aria-hidden=true href=#3-주요-기능-및-역할-1>#</a></h3><ul><li><strong>기능:</strong><ul><li>이벤트 생성, 발행, 구독, 처리</li><li>비동기 메시지 전달 및 처리</li><li>실시간 데이터 흐름 관리</li></ul></li><li><strong>역할:</strong><ul><li>서비스 간 결합도 낮춤</li><li>확장성 및 실시간 처리 지원</li><li>장애 격리 및 시스템 유연성 증대</li></ul></li></ul><h3 id=4-특징-1>(4) 특징<a hidden class=anchor aria-hidden=true href=#4-특징-1>#</a></h3><ul><li><strong>비동기 통신</strong></li><li><strong>서비스 간 결합도 저하</strong></li><li><strong>실시간 처리</strong></li><li><strong>확장성 및 유연성</strong></li><li><strong>장애 격리 및 내결함성</strong></li></ul><h3 id=5-핵심-원칙-및-주요-원리>(5) 핵심 원칙 및 주요 원리<a hidden class=anchor aria-hidden=true href=#5-핵심-원칙-및-주요-원리>#</a></h3><ul><li><strong>핵심 원칙:</strong><ul><li>이벤트 중심의 시스템 설계</li><li>서비스 간 결합도 최소화</li><li>비동기적 이벤트 처리</li></ul></li><li><strong>주요 원리:</strong><ul><li>이벤트 생산자와 소비자는 서로를 알 필요 없음</li><li>메시지 브로커를 통한 이벤트 라우팅</li><li>이벤트는 불변 (Immutable) 하며, 재생 가능</li></ul></li></ul><h4 id=주요-원리작동-원리-다이어그램-mermaidtext>주요 원리/작동 원리 다이어그램 (Mermaid/Text)<a hidden class=anchor aria-hidden=true href=#주요-원리작동-원리-다이어그램-mermaidtext>#</a></h4><pre class=mermaid>flowchart TD
    A[Event Producer] --&gt; B[Event Broker]
    B --&gt; C[Event Consumer 1]
    B --&gt; D[Event Consumer 2]
</pre><blockquote><p>이벤트 생산자가 이벤트를 브로커에 발행하면, 브로커가 이벤트를 소비자에게 비동기적으로 전달합니다 <a href="https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven?utm_source=chatgpt.com" title="Event-driven architecture style - Azure - Learn Microsoft">1</a><a href="https://en.wikipedia.org/wiki/Observer_pattern?utm_source=chatgpt.com" title="Observer pattern">5</a>.</p></blockquote><hr><h3 id=6-구조-및-아키텍처>(6) 구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#6-구조-및-아키텍처>#</a></h3><p><strong>구성 요소 및 기능/역할</strong></p><table><thead><tr><th>구성 요소</th><th>기능/역할</th><th>필수/선택</th></tr></thead><tbody><tr><td>이벤트 생산자</td><td>이벤트 생성 및 발행</td><td>필수</td></tr><tr><td>이벤트 브로커</td><td>이벤트 라우팅 및 전달</td><td>필수</td></tr><tr><td>이벤트 소비자</td><td>이벤트 구독 및 처리</td><td>필수</td></tr><tr><td>이벤트 스토어</td><td>이벤트 내역 저장 및 재생</td><td>선택</td></tr><tr><td>이벤트 프로세서</td><td>이벤트 처리 및 비즈니스 로직 실행</td><td>선택</td></tr></tbody></table><p><strong>구조 다이어그램 (Mermaid/Text)</strong></p><pre class=mermaid>flowchart LR
    Producer --&gt; Broker
    Broker --&gt; Consumer1
    Broker --&gt; Consumer2
    Broker --&gt; EventStore
</pre><hr><h3 id=7-구현-기법>(7) 구현 기법<a hidden class=anchor aria-hidden=true href=#7-구현-기법>#</a></h3><ul><li><strong>이벤트 브로커 선택:</strong><ul><li>Kafka, RabbitMQ, AWS SNS/SQS 등</li><li>목적에 따라 선택 (지연 시간, 확장성, 내구성 등)</li></ul></li><li><strong>이벤트 스키마 정의:</strong><ul><li>이벤트 타입, 페이로드, 메타데이터 등 명확한 스키마 설계 <a href="https://en.wikipedia.org/wiki/Event-driven_architecture?utm_source=chatgpt.com" title="Event-driven architecture">6</a></li></ul></li><li><strong>이벤트 생산자/소비자 구현:</strong><ul><li>비동기 이벤트 발행/구독 로직 구현</li></ul></li><li><strong>이벤트 소싱 (Event Sourcing):</strong><ul><li>모든 상태 변화를 이벤트로 저장, 시스템 상태 재구성 가능 <a href="https://en.wikipedia.org/wiki/Observer_pattern?utm_source=chatgpt.com" title="Observer pattern">3</a></li></ul></li><li><strong>실제 예시:</strong><ul><li>이커머스 시스템에서 주문 생성 시 &ldquo;OrderCreated&rdquo; 이벤트 발행, 재고/결제 서비스가 이벤트 구독 및 처리 <a href="https://solace.com/blog/event-driven-architecture-pros-and-cons/?utm_source=chatgpt.com" title="A Guide to Event-Driven Architecture Pros and Cons - Solace">7</a></li></ul></li></ul><hr><h3 id=8-장점>(8) 장점<a hidden class=anchor aria-hidden=true href=#8-장점>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th><th>특성 원인</th></tr></thead><tbody><tr><td>장점</td><td>실시간 처리</td><td>이벤트 발생 즉시 처리 가능</td><td>비동기 메시징, 브로커</td></tr><tr><td></td><td>결합도 저하</td><td>서비스 간 직접 통신 없이 이벤트로만 연동</td><td>이벤트 브로커</td></tr><tr><td></td><td>확장성</td><td>서비스별 독립적 확장 가능</td><td>비동기, 분산 구조</td></tr><tr><td></td><td>내결함성</td><td>일부 서비스 장애 시에도 전체 시스템 영향 최소화</td><td>결합도 저하, 브로커</td></tr><tr><td></td><td>유연성</td><td>신규 서비스 추가/변경 시 기존 시스템 영향 최소화</td><td>이벤트 중심 구조</td></tr></tbody></table><hr><h3 id=9-단점과-문제점-그리고-해결방안>(9) 단점과 문제점 그리고 해결방안<a hidden class=anchor aria-hidden=true href=#9-단점과-문제점-그리고-해결방안>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th><th>해결책</th></tr></thead><tbody><tr><td>단점</td><td>복잡성</td><td>이벤트 흐름 추적 및 관리가 어려움</td><td>모니터링, 문서화</td></tr><tr><td></td><td>테스트 어려움</td><td>이벤트 시퀀스 및 비동기 처리 테스트 복잡</td><td>테스트 자동화, 시뮬레이션</td></tr><tr><td></td><td>이벤트 순서 보장</td><td>분산 환경에서 이벤트 순서 보장 어려움</td><td>브로커 설정, 시퀀스 관리</td></tr><tr><td></td><td>중복 처리</td><td>동일 이벤트 중복 처리 가능성</td><td>멱등성 (Idempotency) 설계</td></tr><tr><td></td><td>지연 시간</td><td>대량 이벤트 처리 시 지연 발생 가능</td><td>브로커 튜닝, 스케일 아웃</td></tr></tbody></table><table><thead><tr><th>구분</th><th>항목</th><th>원인</th><th>영향</th><th>탐지 및 진단</th><th>예방 방법</th><th>해결 방법 및 기법</th></tr></thead><tbody><tr><td>문제점</td><td>이벤트 흐름 추적</td><td>비동기, 분산 구조</td><td>디버깅/모니터링 어려움</td><td>로깅, 모니터링</td><td>문서화, 이벤트 추적</td><td>모니터링 도구 도입</td></tr><tr><td></td><td>이벤트 순서 보장</td><td>분산 환경</td><td>데이터 불일치 가능</td><td>이벤트 시퀀스 로그</td><td>브로커 설정</td><td>시퀀스 관리, 브로커 설정</td></tr><tr><td></td><td>중복 처리</td><td>네트워크/브로커 이슈</td><td>데이터 중복/불일치</td><td>로깅, 모니터링</td><td>멱등성 설계</td><td>멱등성 로직 구현</td></tr></tbody></table><hr><h3 id=10-도전-과제>(10) 도전 과제<a hidden class=anchor aria-hidden=true href=#10-도전-과제>#</a></h3><table><thead><tr><th>과제</th><th>원인</th><th>영향</th><th>탐지 및 진단</th><th>예방 방법</th><th>해결 방법 및 기법</th></tr></thead><tbody><tr><td>대량 이벤트 처리</td><td>이벤트 폭증</td><td>지연, 장애 가능</td><td>모니터링, 로깅</td><td>브로커 튜닝</td><td>스케일 아웃, 브로커 최적화</td></tr><tr><td>이벤트 흐름 추적</td><td>비동기, 분산 구조</td><td>디버깅 어려움</td><td>로깅, 모니터링</td><td>문서화</td><td>모니터링 도구 도입</td></tr><tr><td>신기술 도입</td><td>복잡성 증가</td><td>운영/유지보수 어려움</td><td>기술 트렌드 분석</td><td>표준화</td><td>교육, 문서화</td></tr></tbody></table><hr><h3 id=11-분류-기준에-따른-종류-및-유형>(11) 분류 기준에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#11-분류-기준에-따른-종류-및-유형>#</a></h3><table><thead><tr><th>분류 기준</th><th>종류/유형</th><th>설명</th></tr></thead><tbody><tr><td>이벤트 타입</td><td>Volatile</td><td>실시간 전달, 저장 불필요</td></tr><tr><td></td><td>Durable</td><td>모든 소비자에게 전달 전까지 저장</td></tr><tr><td></td><td>Replayable</td><td>이벤트 재생 가능, 지속 저장</td></tr><tr><td>패턴</td><td>Publish-Subscribe</td><td>브로커를 통한 이벤트 발행/구독</td></tr><tr><td></td><td>Event Sourcing</td><td>모든 상태 변화를 이벤트로 저장</td></tr><tr><td></td><td>CQRS</td><td>명령/조회 분리, 이벤트 소싱과 결합</td></tr></tbody></table><hr><h3 id=12-실무-사용-예시>(12) 실무 사용 예시<a hidden class=anchor aria-hidden=true href=#12-실무-사용-예시>#</a></h3><table><thead><tr><th>사용 목적</th><th>함께 사용하는 기술/시스템</th><th>효과</th></tr></thead><tbody><tr><td>실시간 알림</td><td>Kafka, RabbitMQ</td><td>실시간 알림 전달</td></tr><tr><td>이커머스 트랜잭션</td><td>Event Sourcing, CQRS</td><td>데이터 일관성 유지</td></tr><tr><td>IoT 데이터 처리</td><td>AWS Kinesis, MQTT</td><td>실시간 데이터 처리</td></tr></tbody></table><hr><h3 id=13-활용-사례>(13) 활용 사례<a hidden class=anchor aria-hidden=true href=#13-활용-사례>#</a></h3><p><strong>사례: 이커머스 주문 처리 시스템</strong></p><ul><li><strong>시스템 구성:</strong><ul><li>주문 서비스 (이벤트 생산자): 주문 생성 시 &ldquo;OrderCreated&rdquo; 이벤트 발행</li><li>재고 서비스 (이벤트 소비자): &ldquo;OrderCreated&rdquo; 이벤트 구독, 재고 차감</li><li>결제 서비스 (이벤트 소비자): &ldquo;OrderCreated&rdquo; 이벤트 구독, 결제 처리</li><li>메시지 브로커: Kafka</li></ul></li><li><strong>Workflow:</strong><ul><li>사용자 → 주문 생성 → 주문 서비스 → &ldquo;OrderCreated&rdquo; 이벤트 발행 → 브로커<br>→ 재고/결제 서비스 구독 및 처리 → 결과 이벤트 발행 (옵션)</li></ul></li><li><strong>역할:</strong><ul><li>각 서비스는 독립적으로 동작하며, 이벤트를 통해 연동</li></ul></li><li><strong>차이점:</strong><ul><li>모놀리식은 모든 로직이 하나의 서비스에 집중, EDA 는 서비스별 독립적 처리</li></ul></li></ul><p><strong>구조 다이어그램 (Mermaid/Text)</strong></p><pre class=mermaid>flowchart LR
    OrderService --&gt;|OrderCreated| Kafka
    Kafka --&gt; InventoryService
    Kafka --&gt; PaymentService
</pre><hr><h3 id=14-구현-예시-python>(14) 구현 예시 (Python)<a hidden class=anchor aria-hidden=true href=#14-구현-예시-python>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1> 1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2> 2</a>
</span><span class=lnt id=hl-19-3><a class=lnlinks href=#hl-19-3> 3</a>
</span><span class=lnt id=hl-19-4><a class=lnlinks href=#hl-19-4> 4</a>
</span><span class=lnt id=hl-19-5><a class=lnlinks href=#hl-19-5> 5</a>
</span><span class=lnt id=hl-19-6><a class=lnlinks href=#hl-19-6> 6</a>
</span><span class=lnt id=hl-19-7><a class=lnlinks href=#hl-19-7> 7</a>
</span><span class=lnt id=hl-19-8><a class=lnlinks href=#hl-19-8> 8</a>
</span><span class=lnt id=hl-19-9><a class=lnlinks href=#hl-19-9> 9</a>
</span><span class=lnt id=hl-19-10><a class=lnlinks href=#hl-19-10>10</a>
</span><span class=lnt id=hl-19-11><a class=lnlinks href=#hl-19-11>11</a>
</span><span class=lnt id=hl-19-12><a class=lnlinks href=#hl-19-12>12</a>
</span><span class=lnt id=hl-19-13><a class=lnlinks href=#hl-19-13>13</a>
</span><span class=lnt id=hl-19-14><a class=lnlinks href=#hl-19-14>14</a>
</span><span class=lnt id=hl-19-15><a class=lnlinks href=#hl-19-15>15</a>
</span><span class=lnt id=hl-19-16><a class=lnlinks href=#hl-19-16>16</a>
</span><span class=lnt id=hl-19-17><a class=lnlinks href=#hl-19-17>17</a>
</span><span class=lnt id=hl-19-18><a class=lnlinks href=#hl-19-18>18</a>
</span><span class=lnt id=hl-19-19><a class=lnlinks href=#hl-19-19>19</a>
</span><span class=lnt id=hl-19-20><a class=lnlinks href=#hl-19-20>20</a>
</span><span class=lnt id=hl-19-21><a class=lnlinks href=#hl-19-21>21</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 간단한 이벤트 기반 시스템 예시 (Kafka 사용 가정, 실제는 Kafka-Python 등 라이브러리 필요)</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>kafka</span> <span class=kn>import</span> <span class=n>KafkaProducer</span><span class=p>,</span> <span class=n>KafkaConsumer</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 이벤트 생산자</span>
</span></span><span class=line><span class=cl><span class=n>producer</span> <span class=o>=</span> <span class=n>KafkaProducer</span><span class=p>(</span><span class=n>bootstrap_servers</span><span class=o>=</span><span class=s1>&#39;localhost:9092&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                         <span class=n>value_serializer</span><span class=o>=</span><span class=k>lambda</span> <span class=n>v</span><span class=p>:</span> <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>v</span><span class=p>)</span><span class=o>.</span><span class=n>encode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>producer</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=s1>&#39;order-events&#39;</span><span class=p>,</span> <span class=p>{</span><span class=s1>&#39;type&#39;</span><span class=p>:</span> <span class=s1>&#39;OrderCreated&#39;</span><span class=p>,</span> <span class=s1>&#39;orderId&#39;</span><span class=p>:</span> <span class=s1>&#39;12345&#39;</span><span class=p>,</span> <span class=s1>&#39;userId&#39;</span><span class=p>:</span> <span class=s1>&#39;user1&#39;</span><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 이벤트 소비자 (재고 서비스)</span>
</span></span><span class=line><span class=cl><span class=n>consumer</span> <span class=o>=</span> <span class=n>KafkaConsumer</span><span class=p>(</span><span class=s1>&#39;order-events&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                         <span class=n>group_id</span><span class=o>=</span><span class=s1>&#39;inventory-group&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                         <span class=n>bootstrap_servers</span><span class=o>=</span><span class=s1>&#39;localhost:9092&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                         <span class=n>value_deserializer</span><span class=o>=</span><span class=k>lambda</span> <span class=n>m</span><span class=p>:</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>m</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>message</span> <span class=ow>in</span> <span class=n>consumer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>event</span> <span class=o>=</span> <span class=n>message</span><span class=o>.</span><span class=n>value</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>event</span><span class=p>[</span><span class=s1>&#39;type&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;OrderCreated&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;InventoryService: 처리할 주문 </span><span class=si>{</span><span class=n>event</span><span class=p>[</span><span class=s1>&#39;orderId&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 재고 차감 로직 실행</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>이 예시는 주문 생성 이벤트를 Kafka 로 발행하고, 재고 서비스가 이벤트를 구독해 처리하는 구조를 보여줍니다 <a href="https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven?utm_source=chatgpt.com" title="Event-driven architecture style - Azure - Learn Microsoft">6</a><a href="https://solace.com/blog/event-driven-architecture-pros-and-cons/?utm_source=chatgpt.com" title="A Guide to Event-Driven Architecture Pros and Cons - Solace">8</a>.</p></blockquote><hr><h3 id=15-실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>(15) 실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#15-실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>고려사항/주의점</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>이벤트 스키마 관리</td><td>이벤트 타입, 페이로드 명확히 정의</td><td>스키마 버전 관리</td></tr><tr><td>브로커 선택</td><td>목적에 맞는 브로커 선택</td><td>확장성, 내구성 고려</td></tr><tr><td>멱등성 설계</td><td>중복 이벤트 처리 방지</td><td>멱등성 로직 구현</td></tr><tr><td>모니터링/로깅</td><td>이벤트 흐름 추적 및 장애 탐지</td><td>모니터링 도구 도입</td></tr></tbody></table><hr><h3 id=16-최적화하기-위한-고려사항-및-주의할-점>(16) 최적화하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#16-최적화하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>고려사항/주의점</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>브로커 튜닝</td><td>대량 이벤트 처리 시 성능 최적화</td><td>파티셔닝, 스케일 아웃</td></tr><tr><td>이벤트 필터링</td><td>불필요한 이벤트 전달 최소화</td><td>브로커 필터링 기능 활용</td></tr><tr><td>캐싱</td><td>자주 사용되는 데이터 캐싱</td><td>캐시 만료/무효화 관리</td></tr><tr><td>이벤트 순서 보장</td><td>분산 환경에서 순서 보장 필요 시</td><td>브로커 설정, 시퀀스 관리</td></tr></tbody></table><hr><h3 id=17-기타-사항>(17) 기타 사항<a hidden class=anchor aria-hidden=true href=#17-기타-사항>#</a></h3><ul><li><strong>이벤트 기반 아키텍처는 실시간 처리, 확장성, 결합도 저하 등 현대 분산 시스템의 핵심 요구를 충족</strong></li><li><strong>이벤트 소싱, CQRS 등과 결합해 데이터 일관성, 감사, 재생 등 다양한 이점 제공</strong></li><li><strong>모니터링, 문서화, 테스트 자동화 등 운영 측면에서의 관리가 중요</strong></li></ul><hr><h2 id=6-추가-조사-내용>6. 추가 조사 내용<a hidden class=anchor aria-hidden=true href=#6-추가-조사-내용>#</a></h2><ul><li><strong>이벤트 기반 아키텍처와 마이크로서비스:</strong><ul><li>EDA 는 마이크로서비스 간 통신의 표준 방식으로 자리잡고 있으며, 서비스 간 결합도를 낮추고 확장성을 높입니다 <a href="https://aws.amazon.com/event-driven-architecture/?utm_source=chatgpt.com" title="Event-Driven Architecture - AWS">9</a><a href="https://en.wikipedia.org/wiki/Apache_Storm?utm_source=chatgpt.com" title="Apache Storm">2</a>.</li></ul></li><li><strong>클라우드 네이티브 환경에서의 EDA:</strong><ul><li>클라우드 기반 메시징 서비스 (AWS SNS/SQS, Azure Event Grid 등) 와 연동해 손쉽게 분산 시스템 구축 가능</li></ul></li><li><strong>이벤트 기반 아키텍처의 진화:</strong><ul><li>이벤트 메쉬 (Event Mesh) 등 새로운 패턴 등장, 복잡한 분산 환경에서 이벤트 라우팅 및 관리 효율화 <a href="https://en.wikipedia.org/wiki/Apache_Storm?utm_source=chatgpt.com" title="Apache Storm">1</a></li></ul></li></ul><hr><h2 id=7-주제와-관련하여-주목할-내용>7. 주제와 관련하여 주목할 내용<a hidden class=anchor aria-hidden=true href=#7-주제와-관련하여-주목할-내용>#</a></h2><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>아키텍처</td><td>EDA vs 모놀리식</td><td>비교</td><td>EDA 는 비동기, 결합도 저하, 확장성 우수</td></tr><tr><td>개발 방법론</td><td>이벤트 소싱</td><td>상태 변화 이벤트화</td><td>시스템 상태 재구성, 감사 가능</td></tr><tr><td>운영</td><td>모니터링/로깅</td><td>이벤트 흐름 추적</td><td>디버깅, 장애 탐지 용이</td></tr><tr><td>기술 트렌드</td><td>이벤트 메쉬</td><td>분산 이벤트 라우팅</td><td>복잡한 분산 환경에서 이벤트 관리 효율화</td></tr></tbody></table><hr><h2 id=8-반드시-학습해야-할-내용>8. 반드시 학습해야 할 내용<a hidden class=anchor aria-hidden=true href=#8-반드시-학습해야-할-내용>#</a></h2><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>소프트웨어 아키텍처</td><td>이벤트 기반 아키텍처</td><td>정의/특징</td><td>비동기, 결합도 저하, 확장성</td></tr><tr><td>개발 방법론</td><td>이벤트 소싱, CQRS</td><td>상태 변화 이벤트화</td><td>시스템 상태 재구성, 명령/조회 분리</td></tr><tr><td>운영</td><td>모니터링/로깅</td><td>이벤트 흐름 추적</td><td>디버깅, 장애 탐지</td></tr><tr><td>기술 트렌드</td><td>이벤트 메쉬</td><td>분산 이벤트 라우팅</td><td>복잡한 분산 환경에서 이벤트 관리</td></tr></tbody></table><hr><h2 id=용어-정리-2>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-2>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>아키텍처</td><td>이벤트 기반 아키텍처</td><td>이벤트 중심의 비동기 시스템 설계</td></tr><tr><td>개발 방법론</td><td>이벤트 소싱</td><td>모든 상태 변화를 이벤트로 저장</td></tr><tr><td>운영</td><td>이벤트 브로커</td><td>이벤트 라우팅 및 전달을 담당하는 미들웨어</td></tr><tr><td>기술 트렌드</td><td>이벤트 메쉬</td><td>분산 환경에서 이벤트 라우팅 및 관리</td></tr></tbody></table><hr><h2 id=참고-및-출처-2>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-2>#</a></h2><ul><li><a href=https://www.birlasoft.com/articles/embracing-event-driven-architecture-core-principles-patterns-and-best-practices>Birlasoft: Embracing Event-Driven Architecture</a></li><li><a href=https://www.ibm.com/think/topics/event-driven-architecture>IBM: What Is Event-Driven Architecture?</a></li><li><a href=https://estuary.dev/blog/event-driven-architecture/>Estuary: Event-Driven Architecture Guide</a></li><li><a href=https://hazelcast.com/foundations/event-driven-architecture/event-driven-architecture/>Hazelcast: Event-Driven Architecture</a></li><li><a href=https://dev.to/tejastn10/mastering-event-driven-architecture-when-and-why-to-use-it-268l>Dev.to: Mastering Event-Driven Architecture</a></li><li><a href=https://risingwave.com/blog/the-comprehensive-guide-to-event-driven-architecture/>RisingWave: Comprehensive Guide to EDA</a></li><li><a href=https://microservices.io/patterns/data/event-driven-architecture.html>Microservices.io: Event-Driven Architecture Pattern</a></li><li><a href=https://www.3pillarglobal.com/insights/blog/components-of-event-driven-architecture/>3Pillar Global: Components of EDA</a></li><li><a href=https://icepanel.io/blog/2024-10-01-how-to-diagram-events-icepanel>IcePanel: How to Diagram EDA</a></li><li><a href=https://talent500.com/blog/how-to-implement-event-driven-architecture-for-complex-backend-systems/>Talent500: Implementing EDA for Backend</a></li><li><a href=https://www.pubnub.com/blog/the-benefits-of-event-driven-architecture/>PubNub: Benefits of EDA</a></li><li><a href=https://victorleungtw.com/2024/03/08/event/>Victor Leung: Pros and Cons of EDA</a></li><li><a href=https://moldstud.com/articles/p-optimize-event-driven-microservices-for-peak-performance>MoldStud: Optimizing EDA for Performance</a></li><li><a href=https://www.linkedin.com/pulse/complex-tools-best-practices-building-event-driven-architectures-xfaue>LinkedIn: Best Practices for EDA</a></li><li><a href=http://www.kurrent.io/event-driven-architecture>Kurrent: Beginner’s Guide to EDA</a><br>아래는 **Event-Driven Architecture (EDA)** 에 대한 전문적이고 실무 지향적인 조사 결과입니다.</li></ul><hr><h2 id=1-태그-1>1. 태그<a hidden class=anchor aria-hidden=true href=#1-태그-1>#</a></h2><ul><li>Event-Driven-Architecture</li><li>Pub-Sub</li><li>Event-Sourcing</li><li>Event-Mesh</li></ul><hr><h2 id=2-분류-계층-구조-분석>2. 분류 계층 구조 분석<a hidden class=anchor aria-hidden=true href=#2-분류-계층-구조-분석>#</a></h2><p>지정된 분류:</p><blockquote><p>Computer Science and Engineering > Software Engineering > Design and Architecture > Architecture Styles and Patterns > Architecture Styles > Messaging</p></blockquote><p><strong>분석</strong>: Event‑Driven Architecture 는 메시징 기반의 분산 시스템 구조 스타일로, 이 분류 구조는 매우 적절합니다. 구체적으로 이벤트 생산자, 브로커, 소비자 간 비동기 메시징을 통한 탈동기화 설계가 중심이므로 &ldquo;Messaging&rdquo; 하위 스타일로 정의하는 것이 맞습니다. (<a href="https://tyk.io/learning-center/what-is-event-driven-architecture/?utm_source=chatgpt.com" title="What is event-driven architecture? - Tyk API Management">tyk.io</a>, <a href="https://en.wikipedia.org/wiki/Apache_Storm?utm_source=chatgpt.com" title="Apache Storm">en.wikipedia.org</a>, <a href="https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven?utm_source=chatgpt.com" title="Event-driven architecture style - Azure - Learn Microsoft">learn.microsoft.com</a>)</p><hr><h2 id=3-200-자-요약>3. 200 자 요약<a hidden class=anchor aria-hidden=true href=#3-200-자-요약>#</a></h2><p>Event‑Driven Architecture 는 시스템 내부 또는 서비스 간 발생한 상태 변화를 <strong>이벤트</strong>로 캡처하여 비동기 방식으로 전달하고 처리한다. 이벤트 브로커 기반으로 Loose Coupling, 실시간 처리, 확장성과 복원력을 제공하며, 마이크로서비스, IoT, 실시간 분석에서 주로 사용된다.</p><hr><h2 id=4-250-자-개요>4. 250 자 개요<a hidden class=anchor aria-hidden=true href=#4-250-자-개요>#</a></h2><p>Event‑Driven Architecture(EDA) 는 이벤트 중심 설계 방식으로, 상태 변화 또는 비즈니스 사건을 이벤트로 나타내고, 이를 Event Producer → Event Broker → Event Consumer 로 비동기 전달한다. 이를 통해 서비스 간 결합도를 낮추고, 리얼타임 처리와 수평 확장이 가능해진다. Pub/Sub 또는 Event Sourcing 패턴을 활용하며, 마이크로서비스, IoT, Stream Processing, CQRS 등 다양한 실무 시나리오에 적용된다. 단점은 복잡성 증가, 장애 추적 어려움, eventual consistency 와 에러 핸들링 설계의 부담 등이 있다.</p><hr><h2 id=5-핵심-개념-2>5. 핵심 개념<a hidden class=anchor aria-hidden=true href=#5-핵심-개념-2>#</a></h2><ol><li><strong>Event</strong>: 시스템 내 상태 변경을 나타내는 불변 메시지</li><li><strong>Event Producer & Consumer</strong>: 생성자와 수신자, 서로를 인식하지 않음 (<a href="https://tyk.io/learning-center/what-is-event-driven-architecture/?utm_source=chatgpt.com" title="What is event-driven architecture? - Tyk API Management">tyk.io</a>)</li><li><strong>Event Broker / Bus</strong>: 중앙 또는 분산 브로커로, 토픽 기반 라우팅과 퍼시스턴스 제공 (<a href="https://solace.com/what-is-event-driven-architecture/?utm_source=chatgpt.com" title="The Complete Guide to Event-Driven Architecture - Solace">solace.com</a>)</li><li><strong>Pub/Sub Pattern</strong>: Topic 기반 메시지 필터링과 브로드캐스트 (<a href="https://en.wikipedia.org/wiki/Observer_pattern?utm_source=chatgpt.com" title="Observer pattern">en.wikipedia.org</a>)</li><li><strong>Event Mesh</strong>: 다중 브로커의 동적 네트워크 (<a href="https://solace.com/what-is-event-driven-architecture/?utm_source=chatgpt.com" title="The Complete Guide to Event-Driven Architecture - Solace">solace.com</a>)</li><li><strong>Deferred Execution / Eventual Consistency</strong>: 비동기 처리 특성 (<a href="https://solace.com/what-is-event-driven-architecture/?utm_source=chatgpt.com" title="The Complete Guide to Event-Driven Architecture - Solace">solace.com</a>)</li><li><strong>Topologies</strong>: Broker topology vs Mediator (Orchestration) (<a href="https://en.wikipedia.org/wiki/Event-driven_architecture?utm_source=chatgpt.com" title="Event-driven architecture">en.wikipedia.org</a>)</li><li><strong>Event Sourcing</strong>: 상태 대신 이벤트 저장 기반 패턴 (<a href="https://tyk.io/learning-center/what-is-event-driven-architecture/?utm_source=chatgpt.com" title="What is event-driven architecture? - Tyk API Management">tyk.io</a>)</li><li><strong>CQRS</strong>: 읽기/쓰기 분리, EDA 와 주로 연계 (<a href="https://solace.com/what-is-event-driven-architecture/?utm_source=chatgpt.com" title="The Complete Guide to Event-Driven Architecture - Solace">solace.com</a>)</li></ol><h3 id=51-구현-요소>5.1 구현 요소<a hidden class=anchor aria-hidden=true href=#51-구현-요소>#</a></h3><ul><li><strong>Kafka, RabbitMQ, Amazon EventBridge</strong>, <strong>Azure Service Bus</strong> 등의 브로커</li><li><strong>AsyncAPI</strong>로 이벤트 계약 문서화</li><li><strong>Distributed tracing/OpenTelemetry</strong> 등 운영 툴</li><li><strong>Event schema & versioning</strong> 설계</li></ul><hr><h2 id=6-주제-관련-핵심-내용-요약>6. 주제 관련 핵심 내용 요약<a hidden class=anchor aria-hidden=true href=#6-주제-관련-핵심-내용-요약>#</a></h2><h3 id=배경>배경<a hidden class=anchor aria-hidden=true href=#배경>#</a></h3><p>전통적인 동기 호출의 한계를 극복하기 위한 비동기 설계로 IoT, 분산환경에서 주목 받음 (<a href="https://aws.amazon.com/event-driven-architecture/?utm_source=chatgpt.com" title="Event-Driven Architecture - AWS">aws.amazon.com</a>, <a href="https://solace.com/blog/event-driven-architecture-pros-and-cons/?utm_source=chatgpt.com" title="A Guide to Event-Driven Architecture Pros and Cons - Solace">solace.com</a>, <a href="https://en.wikipedia.org/wiki/Event-driven_architecture?utm_source=chatgpt.com" title="Event-driven architecture">en.wikipedia.org</a>)</p><h3 id=목적-및-필요성>목적 및 필요성<a hidden class=anchor aria-hidden=true href=#목적-및-필요성>#</a></h3><ul><li>이벤트 기반 비즈니스 로직 캡처</li><li>Loose coupling 과 실시간 처리</li><li>시스템 확장성, 복원력 확보 (<a href="https://risingwave.com/blog/the-comprehensive-guide-to-event-driven-architecture/?utm_source=chatgpt.com" title="The Comprehensive Guide to Event-Driven Architecture - RisingWave">risingwave.com</a>)</li></ul><h3 id=주요-기능역할>주요 기능/역할<a hidden class=anchor aria-hidden=true href=#주요-기능역할>#</a></h3><ul><li><strong>Producer</strong>: 이벤트 생성</li><li><strong>Broker</strong>: 이벤트 라우팅/퍼시스턴스</li><li><strong>Consumer</strong>: 이벤트 처리</li><li><strong>Event Portal</strong>: 설계 문서화 및 카탈로그화 (<a href="https://solace.com/what-is-event-driven-architecture/?utm_source=chatgpt.com" title="The Complete Guide to Event-Driven Architecture - Solace">solace.com</a>, <a href="https://en.wikipedia.org/wiki/Event-driven_architecture?utm_source=chatgpt.com" title="Event-driven architecture">en.wikipedia.org</a>)</li></ul><h3 id=특징>특징<a hidden class=anchor aria-hidden=true href=#특징>#</a></h3><ul><li>비동기, 느슨한 결합, 확장 가능</li><li>실시간 대응, 장애 격리</li><li>데이터 일관성은 Eventual</li></ul><hr><h3 id=주요-원리--작동-원리-다이어그램>주요 원리 & 작동 원리 다이어그램<a hidden class=anchor aria-hidden=true href=#주요-원리--작동-원리-다이어그램>#</a></h3><pre class=mermaid>sequenceDiagram
    Producer-&gt;&gt;Broker: Event{topic, payload}
    Broker--&gt;&gt;ConsumerA: Event
    Broker--&gt;&gt;ConsumerB: Event
    ConsumerA-&gt;&gt;Broker: ack
    ConsumerB-&gt;&gt;Broker: ack
</pre><ul><li><strong>Deferred execution</strong>: Producer 는 ack 없이 즉시 리턴 (<a href="https://risingwave.com/blog/the-comprehensive-guide-to-event-driven-architecture/?utm_source=chatgpt.com" title="The Comprehensive Guide to Event-Driven Architecture - RisingWave">risingwave.com</a>)</li><li><strong>Eventual consistency</strong>가 보장됨</li></ul><hr><h2 id=7-진행-내용-및-기타>7. 진행 내용 및 기타<a hidden class=anchor aria-hidden=true href=#7-진행-내용-및-기타>#</a></h2><p>다음 단계에는 다음 항목들을 이어서 작성합니다:</p><ul><li>구조 및 아키텍처 + 구성 요소</li><li>구현 기법</li><li>장/단점 + 문제점 및 해결방안</li><li>도전 과제</li><li>분류 기준</li><li>실무 사용 예시 + 사례</li><li>구현 예시 (Python/JS 코드)</li><li>고려사항 및 최적화 내용.</li></ul><p>어떤 항목부터 자세히 보고 싶으신지 알려주시면, 해당 부분을 먼저 작성하거나 바로 이어갈 수 있습니다.</p><p>이어서 **Event-Driven Architecture (EDA)** 의 " 구조 및 아키텍처 &ldquo;, " 구현 기법 &ldquo;, " 장점 &ldquo;, " 단점 및 문제점과 해결방안 &ldquo;, " 도전 과제 " 를 정리합니다.</p><hr><h2 id=구조-및-아키텍처>구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#구조-및-아키텍처>#</a></h2><h3 id=기본-아키텍처-다이어그램>기본 아키텍처 다이어그램<a hidden class=anchor aria-hidden=true href=#기본-아키텍처-다이어그램>#</a></h3><pre class=mermaid>graph LR
    A[Event Producer] --&gt;|Publish Event| B[Event Broker]
    B --&gt;|Dispatch| C[Event Consumer 1]
    B --&gt;|Dispatch| D[Event Consumer 2]
    B --&gt;|Persist Event| E[(Event Store)]
</pre><h3 id=구성-요소-및-역할>구성 요소 및 역할<a hidden class=anchor aria-hidden=true href=#구성-요소-및-역할>#</a></h3><table><thead><tr><th>구성 요소</th><th>역할</th><th>필수 여부</th><th>특징</th></tr></thead><tbody><tr><td>Event Producer</td><td>이벤트 발생 및 발행</td><td>필수</td><td>독립적, REST 또는 SDK 에서 이벤트 발생</td></tr><tr><td>Event Broker</td><td>이벤트 수집 및 라우팅</td><td>필수</td><td>Kafka, RabbitMQ, SNS 등</td></tr><tr><td>Event Consumer</td><td>이벤트 처리</td><td>필수</td><td>동기 또는 비동기 방식, 하나 이상 존재 가능</td></tr><tr><td>Event Store</td><td>이벤트 기록</td><td>선택</td><td>Event Sourcing 또는 Replay 용</td></tr><tr><td>Event Schema Registry</td><td>이벤트 구조 관리</td><td>선택</td><td>스키마 호환성 검증 및 버전 관리</td></tr><tr><td>Dead Letter Queue (DLQ)</td><td>실패 이벤트 보관</td><td>선택</td><td>에러 트러블슈팅 용이</td></tr></tbody></table><hr><h2 id=구현-기법>구현 기법<a hidden class=anchor aria-hidden=true href=#구현-기법>#</a></h2><table><thead><tr><th>구현 기법</th><th>정의</th><th>목적</th><th>예시 시나리오</th></tr></thead><tbody><tr><td>Pub/Sub</td><td>Producer 가 Topic 에 Publish, Consumer 는 Subscribe</td><td>비동기 처리, 다중 구독</td><td>주문 생성 → 알림, 재고 차감, 분석</td></tr><tr><td>Event Sourcing</td><td>모든 상태 변경을 이벤트로 저장</td><td>상태 복원, 추적 가능성</td><td>금융거래, 로그 기록 재생</td></tr><tr><td>CQRS (Command Query Responsibility Segregation)</td><td>읽기/쓰기 모델 분리</td><td>성능 최적화, 확장성</td><td>읽기 집중형 대시보드 시스템</td></tr><tr><td>Outbox Pattern</td><td>DB 트랜잭션과 이벤트 발행 분리</td><td>데이터 정합성 보장</td><td>주문 테이블에 insert → outbox row publish</td></tr><tr><td>Event Mesh</td><td>여러 브로커를 연계</td><td>글로벌 확장성</td><td>AWS+Kafka+Edge 등 분산 환경 연동</td></tr></tbody></table><hr><h2 id=장점>장점<a hidden class=anchor aria-hidden=true href=#장점>#</a></h2><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>장점</td><td>비동기 처리</td><td>Producer 는 Consumer 처리 여부에 상관없이 작업 가능</td></tr><tr><td>장점</td><td>느슨한 결합</td><td>Producer 와 Consumer 간 직접 의존 제거</td></tr><tr><td>장점</td><td>확장성</td><td>Consumer 를 독립적으로 수평 확장 가능</td></tr><tr><td>장점</td><td>장애 격리</td><td>하나의 Consumer 장애가 시스템 전체에 영향 없음</td></tr><tr><td>장점</td><td>실시간 반응</td><td>이벤트 기반 실시간 알림/처리 가능</td></tr></tbody></table><hr><h2 id=단점과-문제점-그리고-해결방안>단점과 문제점 그리고 해결방안<a hidden class=anchor aria-hidden=true href=#단점과-문제점-그리고-해결방안>#</a></h2><h3 id=단점-1>단점<a hidden class=anchor aria-hidden=true href=#단점-1>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th><th>해결책</th></tr></thead><tbody><tr><td>단점</td><td>복잡도 증가</td><td>이벤트 흐름 추적 및 관리가 어려움</td><td>Event Tracing, 통합 모니터링 도입</td></tr><tr><td>단점</td><td>일관성 문제</td><td>eventual consistency 로 인한 상태 불일치 가능성</td><td>Saga, Outbox Pattern 적용</td></tr><tr><td>단점</td><td>장애 진단 어려움</td><td>이벤트 실패의 원인을 파악하기 어려움</td><td>DLQ 설정, Logging 강화</td></tr><tr><td>단점</td><td>이벤트 폭증 시 처리 지연</td><td>브로커의 처리량 초과 가능성</td><td>메시지 파티셔닝, 백프레셔 적용</td></tr></tbody></table><h3 id=문제점-1>문제점<a hidden class=anchor aria-hidden=true href=#문제점-1>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>원인</th><th>영향</th><th>탐지 및 진단</th><th>예방 방법</th><th>해결 방법 및 기법</th></tr></thead><tbody><tr><td>문제점</td><td>메시지 손실</td><td>브로커 미설정, 비영속 처리</td><td>데이터 유실</td><td>메시지 로그 미존재</td><td>Durable Queue 설정</td><td>Kafka Acknowledgement 적용</td></tr><tr><td>문제점</td><td>중복 처리</td><td>재시도 시 Consumer 가 idempotent 하지 않음</td><td>데이터 이중 처리</td><td>로직 추적</td><td>Idempotent 처리</td><td>이벤트 ID 기반 deduplication</td></tr><tr><td>문제점</td><td>순서 보장 실패</td><td>병렬 소비 환경</td><td>상태 불일치</td><td>파티션 로그 분석</td><td>순서 보장 설정</td><td>Kafka 파티션 Key 사용</td></tr><tr><td>문제점</td><td>스키마 불일치</td><td>이벤트 구조 변경 시 Consumer 오류</td><td>처리 실패</td><td>이벤트 실패 분석</td><td>Schema Registry 도입</td><td>Version 관리 기반 호환 설계</td></tr></tbody></table><hr><p>이어서 **Event-Driven Architecture (EDA)** 의 실무 적용 사례, 구현 예시, 분류 기준, 최적화 고려사항 등을 정리합니다.</p><hr><h2 id=분류-기준에-따른-종류-및-유형>분류 기준에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#분류-기준에-따른-종류-및-유형>#</a></h2><table><thead><tr><th>분류 기준</th><th>유형</th><th>설명</th></tr></thead><tbody><tr><td>이벤트 전달 방식</td><td>Pub/Sub, Point-to-Point</td><td>Pub/Sub 은 브로드캐스트, P2P 는 큐 기반</td></tr><tr><td>브로커 구조</td><td>중앙 집중형, 분산형 (Event Mesh)</td><td>Kafka, RabbitMQ vs Solace, NATS Streaming</td></tr><tr><td>저장 전략</td><td>Stateless, Event Sourcing</td><td>상태 비저장/이벤트 기반 저장소 구성</td></tr><tr><td>패턴 통합</td><td>단일 EDA, CQRS + EDA, DDD + EDA</td><td>다양한 아키텍처와 결합 가능</td></tr><tr><td>통신 방향</td><td>단방향, 양방향</td><td>요청 - 응답 기반 이벤트 흐름 (ex: WebSocket, gRPC)</td></tr></tbody></table><hr><h2 id=실무-사용-예시>실무 사용 예시<a hidden class=anchor aria-hidden=true href=#실무-사용-예시>#</a></h2><table><thead><tr><th>목적</th><th>사용된 기술</th><th>적용 대상</th><th>효과</th></tr></thead><tbody><tr><td>주문 처리</td><td>Kafka, Spring Boot</td><td>커머스 주문 시스템</td><td>실시간 처리, 분산 확장</td></tr><tr><td>IoT 센서 이벤트 처리</td><td>MQTT, Node-RED</td><td>제조 IoT 데이터 수집</td><td>비동기 수집 및 실시간 분석</td></tr><tr><td>사용자 알림 시스템</td><td>Redis Pub/Sub</td><td>SaaS 알림 전송</td><td>지연 없이 사용자 반응 유도</td></tr><tr><td>금융 거래 로그 기록</td><td>Event Sourcing</td><td>결제 기록 시스템</td><td>추적 가능성과 복구 용이</td></tr><tr><td>대시보드 실시간 업데이트</td><td>WebSocket + Kafka</td><td>실시간 BI 시스템</td><td>데이터 분석 지연 최소화</td></tr></tbody></table><hr><h2 id=활용-사례>활용 사례<a hidden class=anchor aria-hidden=true href=#활용-사례>#</a></h2><h3 id=사례-전자상거래-주문-시스템-실시간-처리>사례: 전자상거래 주문 시스템 실시간 처리<a hidden class=anchor aria-hidden=true href=#사례-전자상거래-주문-시스템-실시간-처리>#</a></h3><p><strong>시스템 구성 요소</strong></p><ul><li><strong>Event Producer</strong>: OrderService (Spring Boot)</li><li><strong>Event Broker</strong>: Kafka</li><li><strong>Event Consumer</strong>: InventoryService, NotificationService</li><li><strong>Event Store</strong>: PostgreSQL Outbox Table + Kafka Connect</li></ul><h3 id=아키텍처-다이어그램>아키텍처 다이어그램<a hidden class=anchor aria-hidden=true href=#아키텍처-다이어그램>#</a></h3><pre class=mermaid>graph TD
    UI[Frontend SPA] --&gt; API[Order API]
    API --&gt; SVC[OrderService]
    SVC --&gt; DB[(Order DB)]
    SVC --&gt; OUTBOX[(Outbox Table)]
    OUTBOX --&gt; CONNECT[Kafka Connect CDC]
    CONNECT --&gt; KAFKA[(Kafka)]
    KAFKA --&gt; INV[Inventory Service]
    KAFKA --&gt; NOTIF[Notification Service]
</pre><h3 id=workflow-1>Workflow<a hidden class=anchor aria-hidden=true href=#workflow-1>#</a></h3><ol><li>사용자 주문 → DB 저장 + Outbox insert</li><li>Kafka Connect 가 Outbox 변경 감지 → Kafka 로 publish</li><li>InventoryService 와 NotificationService 가 이벤트 수신 후 처리</li></ol><h3 id=차이점-비교>차이점 비교<a hidden class=anchor aria-hidden=true href=#차이점-비교>#</a></h3><table><thead><tr><th>항목</th><th>전통적 방식</th><th>EDA 방식</th></tr></thead><tbody><tr><td>처리 흐름</td><td>동기 호출 → 트랜잭션 결합</td><td>비동기 이벤트 흐름</td></tr><tr><td>확장성</td><td>단일 트랜잭션 내 처리</td><td>서비스별 독립 확장</td></tr><tr><td>장애 복원</td><td>하나 실패 시 전체 롤백</td><td>실패한 서비스만 재처리</td></tr></tbody></table><hr><h2 id=구현-예시-python--kafka>구현 예시 (Python + Kafka)<a hidden class=anchor aria-hidden=true href=#구현-예시-python--kafka>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1> 1</a>
</span><span class=lnt id=hl-23-2><a class=lnlinks href=#hl-23-2> 2</a>
</span><span class=lnt id=hl-23-3><a class=lnlinks href=#hl-23-3> 3</a>
</span><span class=lnt id=hl-23-4><a class=lnlinks href=#hl-23-4> 4</a>
</span><span class=lnt id=hl-23-5><a class=lnlinks href=#hl-23-5> 5</a>
</span><span class=lnt id=hl-23-6><a class=lnlinks href=#hl-23-6> 6</a>
</span><span class=lnt id=hl-23-7><a class=lnlinks href=#hl-23-7> 7</a>
</span><span class=lnt id=hl-23-8><a class=lnlinks href=#hl-23-8> 8</a>
</span><span class=lnt id=hl-23-9><a class=lnlinks href=#hl-23-9> 9</a>
</span><span class=lnt id=hl-23-10><a class=lnlinks href=#hl-23-10>10</a>
</span><span class=lnt id=hl-23-11><a class=lnlinks href=#hl-23-11>11</a>
</span><span class=lnt id=hl-23-12><a class=lnlinks href=#hl-23-12>12</a>
</span><span class=lnt id=hl-23-13><a class=lnlinks href=#hl-23-13>13</a>
</span><span class=lnt id=hl-23-14><a class=lnlinks href=#hl-23-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 이벤트 발행 (Producer)</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>kafka</span> <span class=kn>import</span> <span class=n>KafkaProducer</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>producer</span> <span class=o>=</span> <span class=n>KafkaProducer</span><span class=p>(</span><span class=n>bootstrap_servers</span><span class=o>=</span><span class=s1>&#39;localhost:9092&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                         <span class=n>value_serializer</span><span class=o>=</span><span class=k>lambda</span> <span class=n>v</span><span class=p>:</span> <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>v</span><span class=p>)</span><span class=o>.</span><span class=n>encode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>event</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;order_id&#34;</span><span class=p>:</span> <span class=s2>&#34;ORD-123&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;ORDER_CREATED&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;timestamp&#34;</span><span class=p>:</span> <span class=s2>&#34;2025-06-14T12:00:00Z&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>producer</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=s1>&#39;order-events&#39;</span><span class=p>,</span> <span class=n>value</span><span class=o>=</span><span class=n>event</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>producer</span><span class=o>.</span><span class=n>flush</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1> 1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2> 2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3> 3</a>
</span><span class=lnt id=hl-24-4><a class=lnlinks href=#hl-24-4> 4</a>
</span><span class=lnt id=hl-24-5><a class=lnlinks href=#hl-24-5> 5</a>
</span><span class=lnt id=hl-24-6><a class=lnlinks href=#hl-24-6> 6</a>
</span><span class=lnt id=hl-24-7><a class=lnlinks href=#hl-24-7> 7</a>
</span><span class=lnt id=hl-24-8><a class=lnlinks href=#hl-24-8> 8</a>
</span><span class=lnt id=hl-24-9><a class=lnlinks href=#hl-24-9> 9</a>
</span><span class=lnt id=hl-24-10><a class=lnlinks href=#hl-24-10>10</a>
</span><span class=lnt id=hl-24-11><a class=lnlinks href=#hl-24-11>11</a>
</span><span class=lnt id=hl-24-12><a class=lnlinks href=#hl-24-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 이벤트 수신 (Consumer)</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>kafka</span> <span class=kn>import</span> <span class=n>KafkaConsumer</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>consumer</span> <span class=o>=</span> <span class=n>KafkaConsumer</span><span class=p>(</span><span class=s1>&#39;order-events&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                         <span class=n>bootstrap_servers</span><span class=o>=</span><span class=s1>&#39;localhost:9092&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                         <span class=n>auto_offset_reset</span><span class=o>=</span><span class=s1>&#39;earliest&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                         <span class=n>group_id</span><span class=o>=</span><span class=s1>&#39;inventory-group&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                         <span class=n>value_deserializer</span><span class=o>=</span><span class=k>lambda</span> <span class=n>m</span><span class=p>:</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>m</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>msg</span> <span class=ow>in</span> <span class=n>consumer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>event</span> <span class=o>=</span> <span class=n>msg</span><span class=o>.</span><span class=n>value</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Inventory 처리 중: </span><span class=si>{</span><span class=n>event</span><span class=p>[</span><span class=s1>&#39;order_id&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2> → 상태: </span><span class=si>{</span><span class=n>event</span><span class=p>[</span><span class=s1>&#39;status&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>#</a></h2><table><thead><tr><th>항목</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>메시지 스키마 설계</td><td>구조 변경 시 하위 호환성 필요</td><td>Schema Registry 도입 (Avro, Protobuf)</td></tr><tr><td>실패 처리</td><td>이벤트 누락 및 실패 처리 필요</td><td>DLQ, Retry 전략 명확화</td></tr><tr><td>트랜잭션 관리</td><td>데이터베이스와 브로커 일관성 보장</td><td>Outbox + CDC 패턴 적용</td></tr><tr><td>추적성 확보</td><td>장애 발생 시 원인 파악 어려움</td><td>Distributed tracing, Correlation ID</td></tr><tr><td>모니터링</td><td>브로커 상태 및 소비 지연 감시</td><td>Prometheus, Grafana, Kafka JMX 활용</td></tr></tbody></table><hr><h2 id=최적화하기-위한-고려사항-및-주의할-점>최적화하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#최적화하기-위한-고려사항-및-주의할-점>#</a></h2><table><thead><tr><th>항목</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>메시지 처리량</td><td>고속 메시징 환경에서 처리 지연</td><td>파티셔닝, Consumer group 사용</td></tr><tr><td>중복 이벤트 방지</td><td>재전송 등으로 인한 이중 처리 위험</td><td>이벤트 ID, Idempotent 처리</td></tr><tr><td>순서 보장</td><td>동일 키 기반 순서 유지</td><td>Kafka 파티션 Key 설정</td></tr><tr><td>이벤트 폭증 대응</td><td>Burst 이벤트 수용 능력 필요</td><td>배압 처리, 메시지 버퍼링 적용</td></tr><tr><td>Consumer 병렬성</td><td>단일 Consumer 의 처리 병목</td><td>여러 Consumer 로 그룹 구성, Auto-scaling 연동</td></tr></tbody></table><hr><p>이어서 **Event-Driven Architecture (EDA)**와 관련된 주목할 기술 및 학습 필수 항목, 용어 정리, 참고 출처를 정리합니다.</p><hr><h2 id=주제와-관련하여-주목할-내용>주제와 관련하여 주목할 내용<a hidden class=anchor aria-hidden=true href=#주제와-관련하여-주목할-내용>#</a></h2><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>메시징 플랫폼</td><td>Apache Kafka</td><td>고성능 분산 스트리밍 플랫폼</td><td>고가용성, 파티셔닝, 이벤트 재처리 등에 최적</td></tr><tr><td>메시징 패턴</td><td>Pub/Sub</td><td>이벤트를 여러 구독자에 전달</td><td>느슨한 결합, 비동기 아키텍처 핵심</td></tr><tr><td>데이터 일관성</td><td>Outbox Pattern</td><td>DB 트랜잭션 내 이벤트 기록</td><td>Kafka Connect 로 안전하게 퍼블리시</td></tr><tr><td>이벤트 저장소</td><td>Event Sourcing</td><td>이벤트 기반 상태 관리</td><td>재생 가능, 상태 추적 가능성 확보</td></tr><tr><td>시스템 연계</td><td>Event Mesh</td><td>다수 브로커 연결</td><td>글로벌 메시지 유통 및 통합</td></tr><tr><td>추적 및 진단</td><td>OpenTelemetry</td><td>분산 추적 프레임워크</td><td>이벤트 기반 트랜잭션 추적에 유용</td></tr></tbody></table><hr><h2 id=주제와-관련하여-반드시-학습해야-할-내용>주제와 관련하여 반드시 학습해야 할 내용<a hidden class=anchor aria-hidden=true href=#주제와-관련하여-반드시-학습해야-할-내용>#</a></h2><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>아키텍처 패턴</td><td>EDA + CQRS</td><td>명령과 조회의 분리</td><td>성능 최적화 및 확장성 강화</td></tr><tr><td>트랜잭션 설계</td><td>Outbox, Saga Pattern</td><td>분산 트랜잭션 대체</td><td>롤백 불가 환경에서 보상 처리 설계</td></tr><tr><td>메시지 브로커</td><td>Kafka, RabbitMQ, NATS</td><td>대표 메시징 기술</td><td>실무 환경에 따른 선택 기준 이해 필요</td></tr><tr><td>이벤트 설계</td><td>이벤트 모델링</td><td>Domain Event, Integration Event 구분</td><td>도메인 캡슐화와 시스템 통합을 위한 이벤트 설계 전략</td></tr><tr><td>모니터링</td><td>메시지 추적, DLQ 처리</td><td>안정적 운영 기반</td><td>문제 발생 시 원인 파악 및 대응을 위한 필수 항목</td></tr></tbody></table><hr><h2 id=용어-정리-3>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-3>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>메시징</td><td>Event</td><td>상태 변화 또는 비즈니스 사건을 나타내는 불변 메시지</td></tr><tr><td>메시징</td><td>Producer / Consumer</td><td>이벤트를 생성하거나 소비하는 역할의 컴포넌트</td></tr><tr><td>메시징</td><td>Broker</td><td>이벤트를 중계하고 전달하는 플랫폼 (Kafka 등)</td></tr><tr><td>아키텍처</td><td>Event Sourcing</td><td>상태 대신 이벤트 로그로 시스템 상태 재구성</td></tr><tr><td>아키텍처</td><td>CQRS</td><td>명령 (Command) 과 조회 (Query) 의 처리 경로 분리</td></tr><tr><td>통합</td><td>Event Mesh</td><td>여러 브로커를 연계한 메시징 네트워크</td></tr><tr><td>운영</td><td>Outbox Pattern</td><td>DB 와 이벤트 발행 간 트랜잭션 정합성 확보를 위한 설계</td></tr></tbody></table><hr><h2 id=참고-및-출처-3>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-3>#</a></h2><ul><li><p><a href=https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven>Microsoft - Event-driven architecture style</a></p></li><li><p><a href=https://martinfowler.com/eaaDev/EventSourcing.html>Martin Fowler - Event Sourcing</a></p></li><li><p><a href=https://docs.confluent.io/platform/current/kafka/index.html>Confluent - Apache Kafka Documentation</a></p></li><li><p><a href=https://www.asyncapi.com/>AsyncAPI - Event Contract Design</a></p></li><li><p><a href=https://developers.redhat.com/articles/event-driven-architecture-overview>Red Hat - Event-driven architecture</a></p></li><li><p><a href=https://aws.amazon.com/event-driven-architecture/>AWS - Building Event-Driven Architectures</a></p></li></ul><hr><p>이로써 Event-Driven Architecture 에 대한 이론적 분석부터 실무 적용까지 모든 관점에서의 내용을 마무리했습니다.</p><p>원하시는 경우, 특정 항목 (예: EDA 기반 SaaS 설계 전략, Kafka 실전 구성, 이벤트 테스트 전략 등) 을 주제로 더 확장해 드릴 수 있습니다. 추가로 확인하고 싶은 주제가 있다면 알려주세요.</p><p>아래는 <strong>Event-Driven Architecture (EDA)</strong> 기반 SaaS 설계 전략과 이벤트 테스트 전략을 실무적으로 정리한 내용입니다.</p><hr><h2 id=eda-기반-saas-설계-전략>EDA 기반 SaaS 설계 전략<a hidden class=anchor aria-hidden=true href=#eda-기반-saas-설계-전략>#</a></h2><h3 id=1-saas-와-eda-결합-시-설계-목적>1. SaaS 와 EDA 결합 시 설계 목적<a hidden class=anchor aria-hidden=true href=#1-saas-와-eda-결합-시-설계-목적>#</a></h3><ul><li><strong>테넌트 간 격리</strong>와 <strong>이벤트 흐름의 재사용성 확보</strong></li><li><strong>확장성 높은 모듈화</strong>, 이벤트 기반 플러그인/모듈 구성</li><li><strong>멀티테넌시 (Multi-tenancy)</strong> 환경에서도 <strong>비동기 확장</strong> 가능</li></ul><h3 id=2-설계-아키텍처>2. 설계 아키텍처<a hidden class=anchor aria-hidden=true href=#2-설계-아키텍처>#</a></h3><pre class=mermaid>graph TD
    CLIENT[Multi-Tenant UI/API]
    CLIENT --&gt; SVC[Domain Service (Order/Invoice/Auth)]
    SVC --&gt; OUTBOX[(Outbox Table)]
    OUTBOX --&gt; CONNECT[CDC/Kafka Connect]
    CONNECT --&gt; BROKER[Kafka Broker]
    BROKER --&gt; AUDIT[Audit Service]
    BROKER --&gt; TENANT1[Tenant-1 Invoice Service]
    BROKER --&gt; TENANT2[Tenant-2 Invoice Service]
    BROKER --&gt; ML[Anomaly Detection ML Model]
</pre><h3 id=3-saas-설계-핵심-전략>3. SaaS 설계 핵심 전략<a hidden class=anchor aria-hidden=true href=#3-saas-설계-핵심-전략>#</a></h3><table><thead><tr><th>전략 항목</th><th>설명</th><th>적용 예시</th></tr></thead><tbody><tr><td>멀티테넌시 처리</td><td>이벤트에 <code>tenant_id</code> 필수 포함</td><td>Kafka Topic 내 Header 또는 Payload</td></tr><tr><td>도메인 분리</td><td>기능 단위 마이크로서비스 구성</td><td>주문, 결제, 알림을 분리</td></tr><tr><td>Outbox Pattern</td><td>데이터 정합성과 메시지 일관성 확보</td><td>DB → Outbox Table → Kafka</td></tr><tr><td>동적 Subscription</td><td>테넌트에 따라 동적 Consumer 구성</td><td>Runtime Topic Routing (Spring Cloud Stream 등)</td></tr><tr><td>확장성 기반 이벤트 필터링</td><td>토픽 필터, Consumer 분리</td><td>Kafka Streams, Kafka Router 활용</td></tr></tbody></table><hr><h2 id=이벤트-테스트-전략>이벤트 테스트 전략<a hidden class=anchor aria-hidden=true href=#이벤트-테스트-전략>#</a></h2><h3 id=1-테스트-유형별-분류>1. 테스트 유형별 분류<a hidden class=anchor aria-hidden=true href=#1-테스트-유형별-분류>#</a></h3><table><thead><tr><th>테스트 유형</th><th>대상</th><th>전략</th><th>도구</th></tr></thead><tbody><tr><td>유닛 테스트</td><td>이벤트 핸들러</td><td>가짜 이벤트 객체 주입</td><td>JUnit + MockKafkaConsumer</td></tr><tr><td>통합 테스트</td><td>브로커 ↔ Consumer</td><td>임베디드 브로커 사용</td><td>Testcontainers Kafka, Embedded Kafka</td></tr><tr><td>계약 테스트</td><td>Producer ↔ Consumer 간 메시지 계약</td><td>AsyncAPI, Pact (event messaging extension)</td><td></td></tr><tr><td>회귀 테스트</td><td>과거 이벤트 재처리</td><td>Event Replay 기능</td><td>Kafka Replay, Event Store replay</td></tr><tr><td>부하 테스트</td><td>Broker 처리량, Consumer 안정성</td><td>대량 이벤트 발행</td><td>K6, Locust, kafka-producer-perf-test.sh</td></tr></tbody></table><h3 id=2-예시-코드-python---유닛-테스트용-이벤트-핸들러-테스트>2. 예시 코드 (Python - 유닛 테스트용 이벤트 핸들러 테스트)<a hidden class=anchor aria-hidden=true href=#2-예시-코드-python---유닛-테스트용-이벤트-핸들러-테스트>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1> 1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2> 2</a>
</span><span class=lnt id=hl-26-3><a class=lnlinks href=#hl-26-3> 3</a>
</span><span class=lnt id=hl-26-4><a class=lnlinks href=#hl-26-4> 4</a>
</span><span class=lnt id=hl-26-5><a class=lnlinks href=#hl-26-5> 5</a>
</span><span class=lnt id=hl-26-6><a class=lnlinks href=#hl-26-6> 6</a>
</span><span class=lnt id=hl-26-7><a class=lnlinks href=#hl-26-7> 7</a>
</span><span class=lnt id=hl-26-8><a class=lnlinks href=#hl-26-8> 8</a>
</span><span class=lnt id=hl-26-9><a class=lnlinks href=#hl-26-9> 9</a>
</span><span class=lnt id=hl-26-10><a class=lnlinks href=#hl-26-10>10</a>
</span><span class=lnt id=hl-26-11><a class=lnlinks href=#hl-26-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>handle_order_created</span><span class=p>(</span><span class=n>event</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>event</span><span class=p>[</span><span class=s2>&#34;status&#34;</span><span class=p>]</span> <span class=o>!=</span> <span class=s2>&#34;ORDER_CREATED&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&#34;Invalid event status&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># 로직 실행 (예: 재고 차감 등)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;Handled order </span><span class=si>{</span><span class=n>event</span><span class=p>[</span><span class=s1>&#39;order_id&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 테스트</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>test_handle_order_created_valid</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>event</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;order_id&#34;</span><span class=p>:</span> <span class=s2>&#34;ORD-001&#34;</span><span class=p>,</span> <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;ORDER_CREATED&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>result</span> <span class=o>=</span> <span class=n>handle_order_created</span><span class=p>(</span><span class=n>event</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>assert</span> <span class=n>result</span> <span class=o>==</span> <span class=s2>&#34;Handled order ORD-001&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=3-테스트-전략-적용-포인트>3. 테스트 전략 적용 포인트<a hidden class=anchor aria-hidden=true href=#3-테스트-전략-적용-포인트>#</a></h3><table><thead><tr><th>항목</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>이벤트 스키마 고정</td><td>테스트 시 스키마 변경으로 인한 실패 방지</td><td>Schema Registry Mock 사용</td></tr><tr><td>Consumer 동시성 테스트</td><td>병렬 처리에 따른 Race Condition 탐지</td><td>Consumer Group 동시 실행 시나리오</td></tr><tr><td>이벤트 순서 테스트</td><td>순서 보장 여부 확인</td><td>동일 Partition Key 로 연속 발행</td></tr><tr><td>장애 복원 테스트</td><td>Consumer 실패 → 재시도 시나리오</td><td>DLQ + Retry Simulation</td></tr></tbody></table><hr><p><strong>요약</strong>:<br>EDA 기반 SaaS 는 테넌트 중심 이벤트 처리 전략을 기반으로 확장성과 격리성을 확보하며, 이벤트 테스트는 단위 테스트부터 계약, 회귀, 장애 테스트까지 계층별로 계획적으로 구성되어야 합니다.</p><p>추가로 원하시는 경우, 예: <code>Kafka 기반 Outbox + CDC 예시 구현</code>, <code>DLQ 처리 흐름 시나리오</code>, <code>멀티테넌시 Kafka 클러스터 운영 전략</code> 도 정리해 드릴 수 있습니다. 어떤 항목이 더 궁금하신가요?</p><hr><p>안녕하세요! Event-Driven Architecture (이벤트 기반 아키텍처) 에 대해 포괄적으로 조사하겠습니다. 먼저 웹에서 최신 정보를 검색하여 조사를 시작하겠습니다.이제 충분한 정보를 수집했으므로 Event-Driven Architecture 에 대한 포괄적인 조사 내용을 작성하겠습니다.</p><h2 id=event-driven-architecture-이벤트-기반-아키텍처-조사-결과>Event-Driven Architecture (이벤트 기반 아키텍처) 조사 결과<a hidden class=anchor aria-hidden=true href=#event-driven-architecture-이벤트-기반-아키텍처-조사-결과>#</a></h2><h3 id=1-주제-태그>1. 주제 태그<a hidden class=anchor aria-hidden=true href=#1-주제-태그>#</a></h3><ul><li>Event-Driven-Architecture</li><li>Microservices-Communication</li><li>Asynchronous-Processing</li><li>Real-Time-Systems</li></ul><h3 id=2-주제-분류-분석>2. 주제 분류 분석<a hidden class=anchor aria-hidden=true href=#2-주제-분류-분석>#</a></h3><p>제시된 카테고리 계층 구조 &ldquo;Computer Science and Engineering&rdquo; > &ldquo;Software Engineering&rdquo; > &ldquo;Design and Architecture&rdquo; > &ldquo;Architecture Styles and Patterns&rdquo; > &ldquo;Architecture Styles&rdquo; > &ldquo;Messaging&rdquo; 는 적절합니다.</p><p><strong>근거:</strong></p><ul><li>EDA 는 소프트웨어 엔지니어링의 아키텍처 설계 패턴에 해당</li><li>메시징을 기반으로 한 아키텍처 스타일로 분류됨</li><li>분산 시스템과 마이크로서비스에서 널리 사용되는 패턴임</li></ul><h3 id=3-요약-문장-200-자-내외-1>3. 요약 문장 (200 자 내외)<a hidden class=anchor aria-hidden=true href=#3-요약-문장-200-자-내외-1>#</a></h3><p>이벤트 기반 아키텍처는 시스템 구성 요소들이 이벤트의 생성, 전파, 소비를 통해 비동기적으로 통신하는 소프트웨어 설계 패턴입니다. 느슨한 결합, 확장성, 실시간 응답성을 제공하며 마이크로서비스 아키텍처에서 핵심적인 역할을 담당합니다.</p><h3 id=4-개요-250-자-내외-2>4. 개요 (250 자 내외)<a hidden class=anchor aria-hidden=true href=#4-개요-250-자-내외-2>#</a></h3><p>Event-Driven Architecture (EDA) 는 이벤트 생산자, 이벤트 브로커, 이벤트 소비자로 구성된 비동기 통신 아키텍처입니다. 브로커 토폴로지와 중재자 토폴로지의 두 가지 주요 형태로 구현되며, CQRS, 사가 패턴, 이벤트 소싱과 함께 사용되어 분산 시스템의 데이터 일관성과 확장성을 보장합니다.</p><hr><h3 id=5-핵심-개념-3>5. 핵심 개념<a hidden class=anchor aria-hidden=true href=#5-핵심-개념-3>#</a></h3><h4 id=51-기본-개념>5.1 기본 개념<a hidden class=anchor aria-hidden=true href=#51-기본-개념>#</a></h4><p>Event-Driven Architecture 의 핵심 개념들:</p><ol><li><strong>Event (이벤트)</strong>: 시스템 내에서 발생하는 중요한 상태 변화나 사건</li><li><strong>Event Producer/Publisher (이벤트 생산자)</strong>: 이벤트를 생성하고 발행하는 구성 요소</li><li><strong>Event Consumer/Subscriber (이벤트 소비자)</strong>: 이벤트를 수신하고 처리하는 구성 요소</li><li><strong>Event Channel/Broker (이벤트 채널/브로커)</strong>: 이벤트를 중계하고 라우팅하는 미들웨어</li><li><strong>Asynchronous Communication (비동기 통신)</strong>: 즉시 응답을 기다리지 않는 통신 방식</li><li><strong>Loose Coupling (느슨한 결합)</strong>: 구성 요소 간의 독립성을 보장하는 설계 원칙</li></ol><h4 id=52-실무-구현-요소>5.2 실무 구현 요소<a hidden class=anchor aria-hidden=true href=#52-실무-구현-요소>#</a></h4><ul><li><strong>Message Queues (메시지 큐)</strong>: Apache Kafka, RabbitMQ, Amazon SQS</li><li><strong>Event Streaming Platforms (이벤트 스트리밍 플랫폼)</strong>: Apache Kafka, Amazon Kinesis</li><li><strong>Service Mesh (서비스 메시)</strong>: Istio, Linkerd</li><li><strong>Monitoring Tools (모니터링 도구)</strong>: Grafana, Splunk, Jaeger</li><li><strong>Schema Registry (스키마 레지스트리)</strong>: Confluent Schema Registry</li></ul><hr><h3 id=6-배경>6. 배경<a hidden class=anchor aria-hidden=true href=#6-배경>#</a></h3><p>Event-Driven Architecture 는 전통적인 요청 - 응답 기반 아키텍처의 한계를 극복하기 위해 등장했습니다. 구글, 아마존, 이베이와 같은 대규모 웹 서비스들이 초기 도입자였으며, 마이크로서비스 아키텍처의 확산과 함께 인기를 얻었습니다.</p><p><strong>역사적 발전:</strong></p><ul><li><strong>1960 년대</strong>: 이벤트 기반 프로그래밍의 초기 개념 등장</li><li><strong>1990 년대</strong>: Message-Oriented Middleware (MOM) 발전</li><li><strong>2000 년대</strong>: 대규모 웹 서비스에서의 적용 시작</li><li><strong>2010 년대</strong>: 마이크로서비스와 함께 주류 아키텍처로 발전</li></ul><hr><h3 id=7-목적-및-필요성>7. 목적 및 필요성<a hidden class=anchor aria-hidden=true href=#7-목적-및-필요성>#</a></h3><h4 id=목적-1>목적<a hidden class=anchor aria-hidden=true href=#목적-1>#</a></h4><ol><li><strong>확장성 향상</strong>: 구성 요소 독립적 확장 가능</li><li><strong>응답성 개선</strong>: 실시간 이벤트 처리</li><li><strong>시스템 복원력</strong>: 장애 격리 및 복구</li><li><strong>개발 생산성</strong>: 독립적 개발 및 배포</li></ol><h4 id=필요성-1>필요성<a hidden class=anchor aria-hidden=true href=#필요성-1>#</a></h4><ul><li><strong>대용량 데이터 처리</strong>: 초당 수백만 건의 이벤트 처리 필요</li><li><strong>실시간 요구사항</strong>: 즉시 응답이 필요한 비즈니스 요구</li><li><strong>시스템 복잡성 관리</strong>: 분산 시스템의 복잡성 해결</li><li><strong>비즈니스 민첩성</strong>: 빠른 기능 추가 및 변경</li></ul><hr><h3 id=8-주요-기능-및-역할>8. 주요 기능 및 역할<a hidden class=anchor aria-hidden=true href=#8-주요-기능-및-역할>#</a></h3><h4 id=81-주요-기능>8.1 주요 기능<a hidden class=anchor aria-hidden=true href=#81-주요-기능>#</a></h4><ol><li><strong>Event Publishing (이벤트 발행)</strong>: 비즈니스 이벤트 생성 및 전파</li><li><strong>Event Routing (이벤트 라우팅)</strong>: 관심 있는 소비자에게 이벤트 전달</li><li><strong>Event Processing (이벤트 처리)</strong>: 수신된 이벤트에 대한 비즈니스 로직 실행</li><li><strong>Event Storage (이벤트 저장)</strong>: 이벤트 이력 및 재처리를 위한 저장</li></ol><h4 id=82-역할>8.2 역할<a hidden class=anchor aria-hidden=true href=#82-역할>#</a></h4><ul><li><strong>Decoupling (분리)</strong>: 서비스 간 직접적 의존성 제거</li><li><strong>Integration (통합)</strong>: 이기종 시스템 간 통합</li><li><strong>Orchestration (오케스트레이션)</strong>: 복잡한 비즈니스 프로세스 조정</li><li><strong>Monitoring (모니터링)</strong>: 시스템 상태 및 성능 추적</li></ul><hr><h3 id=9-특징>9. 특징<a hidden class=anchor aria-hidden=true href=#9-특징>#</a></h3><ol><li><strong>비동기 통신</strong>: Fire-and-forget 방식의 이벤트 처리</li><li><strong>느슨한 결합</strong>: 생산자와 소비자 간 독립성</li><li><strong>확장성</strong>: 수평적 확장 용이</li><li><strong>탄력성</strong>: 부분 장애에 대한 내성</li><li><strong>실시간성</strong>: 이벤트 발생 즉시 처리</li><li><strong>이벤트 중심</strong>: 비즈니스 로직이 이벤트를 중심으로 구성</li></ol><hr><h3 id=10-핵심-원칙>10. 핵심 원칙<a hidden class=anchor aria-hidden=true href=#10-핵심-원칙>#</a></h3><ol><li><strong>Event-First Design (이벤트 우선 설계)</strong>: 이벤트를 중심으로 시스템 설계</li><li><strong>Single Responsibility (단일 책임)</strong>: 각 서비스는 특정 이벤트에 대한 명확한 책임</li><li><strong>Idempotency (멱등성)</strong>: 동일한 이벤트의 중복 처리 안전성</li><li><strong>Eventually Consistent (최종 일관성)</strong>: 분산 시스템에서의 데이터 일관성</li><li><strong>Schema Evolution (스키마 진화)</strong>: 하위 호환성 유지하는 이벤트 스키마 변경</li></ol><hr><h3 id=11-주요-원리-및-작동-원리>11. 주요 원리 및 작동 원리<a hidden class=anchor aria-hidden=true href=#11-주요-원리-및-작동-원리>#</a></h3><h4 id=111-작동-원리-다이어그램>11.1 작동 원리 다이어그램<a hidden class=anchor aria-hidden=true href=#111-작동-원리-다이어그램>#</a></h4><pre class=mermaid>graph TB
    A[Event Producer] --&gt;|Publish Event| B[Event Channel/Broker]
    B --&gt;|Route Event| C[Event Consumer 1]
    B --&gt;|Route Event| D[Event Consumer 2]
    B --&gt;|Route Event| E[Event Consumer N]
    
    subgraph &#34;Event Flow&#34;
        F[Event Generation] --&gt; G[Event Publication]
        G --&gt; H[Event Routing]
        H --&gt; I[Event Consumption]
        I --&gt; J[Event Processing]
    end
</pre><h4 id=112-주요-원리>11.2 주요 원리<a hidden class=anchor aria-hidden=true href=#112-주요-원리>#</a></h4><ol><li><p><strong>Publish-Subscribe Pattern (발행 - 구독 패턴)</strong></p><ul><li>이벤트 생산자가 이벤트를 발행</li><li>관심 있는 소비자들이 구독하여 수신</li></ul></li><li><p><strong>Event Sourcing (이벤트 소싱)</strong></p><ul><li>상태 변경을 이벤트 시퀀스로 저장</li><li>현재 상태를 이벤트 재생으로 복원</li></ul></li><li><p><strong>Deferred Execution (지연 실행)</strong></p><ul><li>이벤트 발생과 처리가 시간적으로 분리</li><li>비동기적 워크플로우 실현</li></ul></li></ol><hr><h3 id=12-구조-및-아키텍처>12. 구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#12-구조-및-아키텍처>#</a></h3><h4 id=121-기본-구조>12.1 기본 구조<a hidden class=anchor aria-hidden=true href=#121-기본-구조>#</a></h4><pre class=mermaid>graph LR
    subgraph &#34;Event Producers&#34;
        A1[User Interface]
        A2[Microservice A]
        A3[External System]
    end
    
    subgraph &#34;Event Infrastructure&#34;
        B1[Event Broker]
        B2[Event Store]
        B3[Event Router]
    end
    
    subgraph &#34;Event Consumers&#34;
        C1[Microservice B]
        C2[Analytics Service]
        C3[Notification Service]
    end
    
    A1 --&gt; B1
    A2 --&gt; B1
    A3 --&gt; B1
    
    B1 --&gt; B2
    B1 --&gt; B3
    
    B3 --&gt; C1
    B3 --&gt; C2
    B3 --&gt; C3
</pre><h4 id=122-필수-구성요소>12.2 필수 구성요소<a hidden class=anchor aria-hidden=true href=#122-필수-구성요소>#</a></h4><ol><li><p><strong>Event Sources (이벤트 소스)</strong></p><ul><li>기능: 이벤트 생성 및 발행</li><li>역할: 비즈니스 로직 실행 후 상태 변경 알림</li></ul></li><li><p><strong>Event Channels (이벤트 채널)</strong></p><ul><li>기능: 이벤트 전송 및 라우팅</li><li>역할: 생산자와 소비자 간 통신 매개</li></ul></li><li><p><strong>Event Processors (이벤트 프로세서)</strong></p><ul><li>기능: 이벤트 수신 및 처리</li><li>역할: 비즈니스 로직 실행 및 후속 이벤트 생성</li></ul></li></ol><h4 id=123-선택-구성요소>12.3 선택 구성요소<a hidden class=anchor aria-hidden=true href=#123-선택-구성요소>#</a></h4><ol><li><p><strong>Event Store (이벤트 저장소)</strong></p><ul><li>기능: 이벤트 영구 저장 및 이력 관리</li><li>특징: 감사, 복제, 재처리 지원</li></ul></li><li><p><strong>Event Mediator (이벤트 중재자)</strong></p><ul><li>기능: 복잡한 워크플로우 오케스트레이션</li><li>특징: 중앙 집중식 제어 및 오류 처리</li></ul></li><li><p><strong>Schema Registry (스키마 레지스트리)</strong></p><ul><li>기능: 이벤트 스키마 버전 관리</li><li>특징: 호환성 검증 및 진화 지원</li></ul></li></ol><hr><h3 id=13-구현-기법>13. 구현 기법<a hidden class=anchor aria-hidden=true href=#13-구현-기법>#</a></h3><h4 id=131-broker-topology-브로커-토폴로지>13.1 Broker Topology (브로커 토폴로지)<a hidden class=anchor aria-hidden=true href=#131-broker-topology-브로커-토폴로지>#</a></h4><p><strong>정의</strong>: 중앙 중재자 없이 이벤트 프로세서들이 체인 형태로 연결된 구조</p><p><strong>구성</strong>:</p><ul><li>Event Broker (이벤트 브로커)</li><li>Event Processors (이벤트 프로세서)</li><li>Processing Events (처리 이벤트)</li></ul><p><strong>목적</strong>: 단순한 이벤트 플로우에서 높은 성능과 확장성 제공</p><p><strong>실제 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-29-1><a class=lnlinks href=#hl-29-1> 1</a>
</span><span class=lnt id=hl-29-2><a class=lnlinks href=#hl-29-2> 2</a>
</span><span class=lnt id=hl-29-3><a class=lnlinks href=#hl-29-3> 3</a>
</span><span class=lnt id=hl-29-4><a class=lnlinks href=#hl-29-4> 4</a>
</span><span class=lnt id=hl-29-5><a class=lnlinks href=#hl-29-5> 5</a>
</span><span class=lnt id=hl-29-6><a class=lnlinks href=#hl-29-6> 6</a>
</span><span class=lnt id=hl-29-7><a class=lnlinks href=#hl-29-7> 7</a>
</span><span class=lnt id=hl-29-8><a class=lnlinks href=#hl-29-8> 8</a>
</span><span class=lnt id=hl-29-9><a class=lnlinks href=#hl-29-9> 9</a>
</span><span class=lnt id=hl-29-10><a class=lnlinks href=#hl-29-10>10</a>
</span><span class=lnt id=hl-29-11><a class=lnlinks href=#hl-29-11>11</a>
</span><span class=lnt id=hl-29-12><a class=lnlinks href=#hl-29-12>12</a>
</span><span class=lnt id=hl-29-13><a class=lnlinks href=#hl-29-13>13</a>
</span><span class=lnt id=hl-29-14><a class=lnlinks href=#hl-29-14>14</a>
</span><span class=lnt id=hl-29-15><a class=lnlinks href=#hl-29-15>15</a>
</span><span class=lnt id=hl-29-16><a class=lnlinks href=#hl-29-16>16</a>
</span><span class=lnt id=hl-29-17><a class=lnlinks href=#hl-29-17>17</a>
</span><span class=lnt id=hl-29-18><a class=lnlinks href=#hl-29-18>18</a>
</span><span class=lnt id=hl-29-19><a class=lnlinks href=#hl-29-19>19</a>
</span><span class=lnt id=hl-29-20><a class=lnlinks href=#hl-29-20>20</a>
</span><span class=lnt id=hl-29-21><a class=lnlinks href=#hl-29-21>21</a>
</span><span class=lnt id=hl-29-22><a class=lnlinks href=#hl-29-22>22</a>
</span><span class=lnt id=hl-29-23><a class=lnlinks href=#hl-29-23>23</a>
</span><span class=lnt id=hl-29-24><a class=lnlinks href=#hl-29-24>24</a>
</span><span class=lnt id=hl-29-25><a class=lnlinks href=#hl-29-25>25</a>
</span><span class=lnt id=hl-29-26><a class=lnlinks href=#hl-29-26>26</a>
</span><span class=lnt id=hl-29-27><a class=lnlinks href=#hl-29-27>27</a>
</span><span class=lnt id=hl-29-28><a class=lnlinks href=#hl-29-28>28</a>
</span><span class=lnt id=hl-29-29><a class=lnlinks href=#hl-29-29>29</a>
</span><span class=lnt id=hl-29-30><a class=lnlinks href=#hl-29-30>30</a>
</span><span class=lnt id=hl-29-31><a class=lnlinks href=#hl-29-31>31</a>
</span><span class=lnt id=hl-29-32><a class=lnlinks href=#hl-29-32>32</a>
</span><span class=lnt id=hl-29-33><a class=lnlinks href=#hl-29-33>33</a>
</span><span class=lnt id=hl-29-34><a class=lnlinks href=#hl-29-34>34</a>
</span><span class=lnt id=hl-29-35><a class=lnlinks href=#hl-29-35>35</a>
</span><span class=lnt id=hl-29-36><a class=lnlinks href=#hl-29-36>36</a>
</span><span class=lnt id=hl-29-37><a class=lnlinks href=#hl-29-37>37</a>
</span><span class=lnt id=hl-29-38><a class=lnlinks href=#hl-29-38>38</a>
</span><span class=lnt id=hl-29-39><a class=lnlinks href=#hl-29-39>39</a>
</span><span class=lnt id=hl-29-40><a class=lnlinks href=#hl-29-40>40</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Node.js를 사용한 브로커 토폴로지 구현
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>EventEmitter</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;events&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>EventBroker</span> <span class=kr>extends</span> <span class=nx>EventEmitter</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>super</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>processors</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>registerProcessor</span><span class=p>(</span><span class=nx>processor</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>processors</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>processor</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>publishEvent</span><span class=p>(</span><span class=nx>eventType</span><span class=p>,</span> <span class=nx>eventData</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Publishing event: </span><span class=si>${</span><span class=nx>eventType</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>emit</span><span class=p>(</span><span class=nx>eventType</span><span class=p>,</span> <span class=nx>eventData</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>OrderProcessor</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>(</span><span class=nx>broker</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>broker</span> <span class=o>=</span> <span class=nx>broker</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>broker</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;orderPlaced&#39;</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>handleOrderPlaced</span><span class=p>.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>handleOrderPlaced</span><span class=p>(</span><span class=nx>orderData</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Processing order: </span><span class=si>${</span><span class=nx>orderData</span><span class=p>.</span><span class=nx>orderId</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 주문 처리 로직
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>broker</span><span class=p>.</span><span class=nx>publishEvent</span><span class=p>(</span><span class=s1>&#39;orderProcessed&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>orderId</span><span class=o>:</span> <span class=nx>orderData</span><span class=p>.</span><span class=nx>orderId</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>status</span><span class=o>:</span> <span class=s1>&#39;processed&#39;</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 사용 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>broker</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>EventBroker</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>orderProcessor</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>OrderProcessor</span><span class=p>(</span><span class=nx>broker</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>broker</span><span class=p>.</span><span class=nx>publishEvent</span><span class=p>(</span><span class=s1>&#39;orderPlaced&#39;</span><span class=p>,</span> <span class=p>{</span> <span class=nx>orderId</span><span class=o>:</span> <span class=s1>&#39;12345&#39;</span><span class=p>,</span> <span class=nx>amount</span><span class=o>:</span> <span class=mi>100</span> <span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=132-mediator-topology-중재자-토폴로지>13.2 Mediator Topology (중재자 토폴로지)<a hidden class=anchor aria-hidden=true href=#132-mediator-topology-중재자-토폴로지>#</a></h4><p><strong>정의</strong>: 중앙 이벤트 중재자가 복잡한 워크플로우를 조정하는 구조</p><p><strong>구성</strong>:</p><ul><li>Event Queue (이벤트 큐)</li><li>Event Mediator (이벤트 중재자)</li><li>Event Channels (이벤트 채널)</li><li>Event Processors (이벤트 프로세서)</li></ul><p><strong>목적</strong>: 복잡한 비즈니스 프로세스의 오케스트레이션 및 오류 처리</p><p><strong>실제 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-30-1><a class=lnlinks href=#hl-30-1> 1</a>
</span><span class=lnt id=hl-30-2><a class=lnlinks href=#hl-30-2> 2</a>
</span><span class=lnt id=hl-30-3><a class=lnlinks href=#hl-30-3> 3</a>
</span><span class=lnt id=hl-30-4><a class=lnlinks href=#hl-30-4> 4</a>
</span><span class=lnt id=hl-30-5><a class=lnlinks href=#hl-30-5> 5</a>
</span><span class=lnt id=hl-30-6><a class=lnlinks href=#hl-30-6> 6</a>
</span><span class=lnt id=hl-30-7><a class=lnlinks href=#hl-30-7> 7</a>
</span><span class=lnt id=hl-30-8><a class=lnlinks href=#hl-30-8> 8</a>
</span><span class=lnt id=hl-30-9><a class=lnlinks href=#hl-30-9> 9</a>
</span><span class=lnt id=hl-30-10><a class=lnlinks href=#hl-30-10>10</a>
</span><span class=lnt id=hl-30-11><a class=lnlinks href=#hl-30-11>11</a>
</span><span class=lnt id=hl-30-12><a class=lnlinks href=#hl-30-12>12</a>
</span><span class=lnt id=hl-30-13><a class=lnlinks href=#hl-30-13>13</a>
</span><span class=lnt id=hl-30-14><a class=lnlinks href=#hl-30-14>14</a>
</span><span class=lnt id=hl-30-15><a class=lnlinks href=#hl-30-15>15</a>
</span><span class=lnt id=hl-30-16><a class=lnlinks href=#hl-30-16>16</a>
</span><span class=lnt id=hl-30-17><a class=lnlinks href=#hl-30-17>17</a>
</span><span class=lnt id=hl-30-18><a class=lnlinks href=#hl-30-18>18</a>
</span><span class=lnt id=hl-30-19><a class=lnlinks href=#hl-30-19>19</a>
</span><span class=lnt id=hl-30-20><a class=lnlinks href=#hl-30-20>20</a>
</span><span class=lnt id=hl-30-21><a class=lnlinks href=#hl-30-21>21</a>
</span><span class=lnt id=hl-30-22><a class=lnlinks href=#hl-30-22>22</a>
</span><span class=lnt id=hl-30-23><a class=lnlinks href=#hl-30-23>23</a>
</span><span class=lnt id=hl-30-24><a class=lnlinks href=#hl-30-24>24</a>
</span><span class=lnt id=hl-30-25><a class=lnlinks href=#hl-30-25>25</a>
</span><span class=lnt id=hl-30-26><a class=lnlinks href=#hl-30-26>26</a>
</span><span class=lnt id=hl-30-27><a class=lnlinks href=#hl-30-27>27</a>
</span><span class=lnt id=hl-30-28><a class=lnlinks href=#hl-30-28>28</a>
</span><span class=lnt id=hl-30-29><a class=lnlinks href=#hl-30-29>29</a>
</span><span class=lnt id=hl-30-30><a class=lnlinks href=#hl-30-30>30</a>
</span><span class=lnt id=hl-30-31><a class=lnlinks href=#hl-30-31>31</a>
</span><span class=lnt id=hl-30-32><a class=lnlinks href=#hl-30-32>32</a>
</span><span class=lnt id=hl-30-33><a class=lnlinks href=#hl-30-33>33</a>
</span><span class=lnt id=hl-30-34><a class=lnlinks href=#hl-30-34>34</a>
</span><span class=lnt id=hl-30-35><a class=lnlinks href=#hl-30-35>35</a>
</span><span class=lnt id=hl-30-36><a class=lnlinks href=#hl-30-36>36</a>
</span><span class=lnt id=hl-30-37><a class=lnlinks href=#hl-30-37>37</a>
</span><span class=lnt id=hl-30-38><a class=lnlinks href=#hl-30-38>38</a>
</span><span class=lnt id=hl-30-39><a class=lnlinks href=#hl-30-39>39</a>
</span><span class=lnt id=hl-30-40><a class=lnlinks href=#hl-30-40>40</a>
</span><span class=lnt id=hl-30-41><a class=lnlinks href=#hl-30-41>41</a>
</span><span class=lnt id=hl-30-42><a class=lnlinks href=#hl-30-42>42</a>
</span><span class=lnt id=hl-30-43><a class=lnlinks href=#hl-30-43>43</a>
</span><span class=lnt id=hl-30-44><a class=lnlinks href=#hl-30-44>44</a>
</span><span class=lnt id=hl-30-45><a class=lnlinks href=#hl-30-45>45</a>
</span><span class=lnt id=hl-30-46><a class=lnlinks href=#hl-30-46>46</a>
</span><span class=lnt id=hl-30-47><a class=lnlinks href=#hl-30-47>47</a>
</span><span class=lnt id=hl-30-48><a class=lnlinks href=#hl-30-48>48</a>
</span><span class=lnt id=hl-30-49><a class=lnlinks href=#hl-30-49>49</a>
</span><span class=lnt id=hl-30-50><a class=lnlinks href=#hl-30-50>50</a>
</span><span class=lnt id=hl-30-51><a class=lnlinks href=#hl-30-51>51</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 중재자 토폴로지 구현
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>EventMediator</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>workflows</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Map</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>processors</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Map</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>registerWorkflow</span><span class=p>(</span><span class=nx>eventType</span><span class=p>,</span> <span class=nx>steps</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>workflows</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=nx>eventType</span><span class=p>,</span> <span class=nx>steps</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>registerProcessor</span><span class=p>(</span><span class=nx>processorType</span><span class=p>,</span> <span class=nx>processor</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>processors</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=nx>processorType</span><span class=p>,</span> <span class=nx>processor</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>async</span> <span class=nx>processEvent</span><span class=p>(</span><span class=nx>eventType</span><span class=p>,</span> <span class=nx>eventData</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>workflow</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>workflows</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>eventType</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>workflow</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=sb>`No workflow found for event type: </span><span class=si>${</span><span class=nx>eventType</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>context</span> <span class=o>=</span> <span class=p>{</span> <span class=p>...</span><span class=nx>eventData</span><span class=p>,</span> <span class=nx>steps</span><span class=o>:</span> <span class=p>[]</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kr>const</span> <span class=nx>step</span> <span class=k>of</span> <span class=nx>workflow</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=kr>const</span> <span class=nx>processor</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>processors</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>step</span><span class=p>.</span><span class=nx>processorType</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>processor</span><span class=p>.</span><span class=nx>process</span><span class=p>(</span><span class=nx>step</span><span class=p>,</span> <span class=nx>context</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=nx>context</span><span class=p>.</span><span class=nx>steps</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span> <span class=nx>step</span><span class=o>:</span> <span class=nx>step</span><span class=p>.</span><span class=nx>name</span><span class=p>,</span> <span class=nx>result</span><span class=p>,</span> <span class=nx>status</span><span class=o>:</span> <span class=s1>&#39;success&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>context</span><span class=p>.</span><span class=nx>steps</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span> <span class=nx>step</span><span class=o>:</span> <span class=nx>step</span><span class=p>.</span><span class=nx>name</span><span class=p>,</span> <span class=nx>error</span><span class=p>,</span> <span class=nx>status</span><span class=o>:</span> <span class=s1>&#39;failed&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>                <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>handleFailure</span><span class=p>(</span><span class=nx>workflow</span><span class=p>,</span> <span class=nx>context</span><span class=p>,</span> <span class=nx>step</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>context</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>async</span> <span class=nx>handleFailure</span><span class=p>(</span><span class=nx>workflow</span><span class=p>,</span> <span class=nx>context</span><span class=p>,</span> <span class=nx>failedStep</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 보상 트랜잭션 실행
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kr>const</span> <span class=nx>completedSteps</span> <span class=o>=</span> <span class=nx>context</span><span class=p>.</span><span class=nx>steps</span><span class=p>.</span><span class=nx>filter</span><span class=p>(</span><span class=nx>s</span> <span class=p>=&gt;</span> <span class=nx>s</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=s1>&#39;success&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kr>const</span> <span class=nx>completedStep</span> <span class=k>of</span> <span class=nx>completedSteps</span><span class=p>.</span><span class=nx>reverse</span><span class=p>())</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=kr>const</span> <span class=nx>processor</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>processors</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>completedStep</span><span class=p>.</span><span class=nx>processorType</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=kr>await</span> <span class=nx>processor</span><span class=p>.</span><span class=nx>compensate</span><span class=p>(</span><span class=nx>completedStep</span><span class=p>,</span> <span class=nx>context</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>compensationError</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;Compensation failed:&#39;</span><span class=p>,</span> <span class=nx>compensationError</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=133-event-sourcing-이벤트-소싱>13.3 Event Sourcing (이벤트 소싱)<a hidden class=anchor aria-hidden=true href=#133-event-sourcing-이벤트-소싱>#</a></h4><p><strong>정의</strong>: 상태 변경을 이벤트 시퀀스로 저장하여 상태를 재구성하는 패턴</p><p><strong>구성</strong>:</p><ul><li>Event Store (이벤트 저장소)</li><li>Aggregate (집계)</li><li>Event Stream (이벤트 스트림)</li></ul><p><strong>목적</strong>: 완전한 감사 로그, 시점 복원, 이벤트 재처리 지원</p><h4 id=134-cqrs-command-query-responsibility-segregation>13.4 CQRS (Command Query Responsibility Segregation)<a hidden class=anchor aria-hidden=true href=#134-cqrs-command-query-responsibility-segregation>#</a></h4><p><strong>정의</strong>: 명령 (쓰기) 과 조회 (읽기) 모델을 분리하는 패턴</p><p><strong>구성</strong>:</p><ul><li>Command Model (명령 모델)</li><li>Query Model (조회 모델)</li><li>Event Store (이벤트 저장소)</li></ul><p><strong>목적</strong>: 읽기와 쓰기 성능 최적화</p><hr><h3 id=14-장점>14. 장점<a hidden class=anchor aria-hidden=true href=#14-장점>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>장점</td><td>확장성</td><td>구성 요소별 독립적 확장 가능, 수평적 확장 용이</td></tr><tr><td></td><td>응답성</td><td>비동기 처리로 빠른 응답 시간, 실시간 이벤트 처리</td></tr><tr><td></td><td>탄력성</td><td>부분 장애 격리, 자동 복구 메커니즘</td></tr><tr><td></td><td>느슨한 결합</td><td>서비스 간 독립성, 변경 영향 최소화</td></tr><tr><td></td><td>개발 생산성</td><td>독립적 개발/배포, 팀 간 협업 효율성</td></tr><tr><td></td><td>실시간 처리</td><td>이벤트 기반 즉시 반응, 스트리밍 처리</td></tr><tr><td></td><td>통합 용이성</td><td>이기종 시스템 간 통합, API 독립성</td></tr><tr><td></td><td>비용 효율성</td><td>리소스 사용량 최적화, 온디맨드 처리</td></tr></tbody></table><hr><h3 id=15-단점과-문제점-그리고-해결방안>15. 단점과 문제점 그리고 해결방안<a hidden class=anchor aria-hidden=true href=#15-단점과-문제점-그리고-해결방안>#</a></h3><h4 id=단점-2>단점<a hidden class=anchor aria-hidden=true href=#단점-2>#</a></h4><table><thead><tr><th>구분</th><th>항목</th><th>설명</th><th>해결책</th></tr></thead><tbody><tr><td>단점</td><td>복잡성 증가</td><td>분산 시스템의 복잡한 디버깅과 모니터링</td><td>통합 모니터링 도구 도입, 분산 추적 시스템 구축</td></tr><tr><td></td><td>최종 일관성</td><td>데이터 일관성 보장의 어려움</td><td>Saga 패턴, 보상 트랜잭션 구현</td></tr><tr><td></td><td>운영 오버헤드</td><td>추가적인 인프라 관리 부담</td><td>클라우드 관리형 서비스 활용, 자동화 도구 도입</td></tr><tr><td></td><td>학습 곡선</td><td>새로운 개발 패러다임 습득 필요</td><td>팀 교육, 점진적 도입, 베스트 프랙티스 수립</td></tr></tbody></table><h4 id=문제점-2>문제점<a hidden class=anchor aria-hidden=true href=#문제점-2>#</a></h4><table><thead><tr><th>구분</th><th>항목</th><th>원인</th><th>영향</th><th>탐지 및 진단</th><th>예방 방법</th><th>해결 방법 및 기법</th></tr></thead><tbody><tr><td>문제점</td><td>이벤트 중복 처리</td><td>네트워크 재시도, 브로커 장애</td><td>데이터 불일치, 비즈니스 로직 오류</td><td>이벤트 ID 추적, 로그 분석</td><td>멱등성 설계, 중복 검사</td><td>이벤트 순서 보장, 트랜잭션 로그</td></tr><tr><td></td><td>이벤트 순서 문제</td><td>병렬 처리, 네트워크 지연</td><td>비즈니스 규칙 위반</td><td>타임스탬프 분석, 순서 검증</td><td>파티셔닝, 순서 보장 큐</td><td>버전 벡터, 라미포트 타임스탬프</td></tr><tr><td></td><td>메시지 유실</td><td>브로커 장애, 네트워크 실패</td><td>데이터 누락, 프로세스 중단</td><td>메시지 추적, 헬스 체크</td><td>영속성 보장, 복제</td><td>At-least-once 배달, 재시도 메커니즘</td></tr><tr><td></td><td>백프레셰 문제</td><td>소비자 처리 속도 저하</td><td>메모리 증가, 성능 저하</td><td>큐 깊이 모니터링</td><td>적응적 처리, 로드 밸런싱</td><td>우선순위 큐, 스로틀링</td></tr></tbody></table><hr><h3 id=16-도전-과제>16. 도전 과제<a hidden class=anchor aria-hidden=true href=#16-도전-과제>#</a></h3><h4 id=기술적-도전-과제-1>기술적 도전 과제<a hidden class=anchor aria-hidden=true href=#기술적-도전-과제-1>#</a></h4><ol><li><p><strong>Schema Evolution (스키마 진화)</strong></p><ul><li>원인: 비즈니스 요구사항 변화, 시스템 진화</li><li>영향: 호환성 문제, 시스템 중단</li><li>해결방법: 스키마 레지스트리, 점진적 마이그레이션</li></ul></li><li><p><strong>Event Ordering (이벤트 순서 보장)</strong></p><ul><li>원인: 분산 환경의 동시성</li><li>영향: 데이터 일관성 문제</li><li>해결방법: 파티셔닝, 벡터 클록</li></ul></li></ol><h4 id=운영적-도전-과제-1>운영적 도전 과제<a hidden class=anchor aria-hidden=true href=#운영적-도전-과제-1>#</a></h4><ol><li><p><strong>Observability (관찰 가능성)</strong></p><ul><li>원인: 분산된 이벤트 플로우</li><li>영향: 디버깅 어려움</li><li>해결방법: 분산 추적, 로그 집계</li></ul></li><li><p><strong>Security (보안)</strong></p><ul><li>원인: 다중 네트워크 통신</li><li>영향: 데이터 유출 위험</li><li>해결방법: 암호화, 인증/인가</li></ul></li></ol><hr><h3 id=17-분류-기준에-따른-종류-및-유형>17. 분류 기준에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#17-분류-기준에-따른-종류-및-유형>#</a></h3><table><thead><tr><th>분류 기준</th><th>유형</th><th>설명</th><th>특징</th></tr></thead><tbody><tr><td>토폴로지</td><td>Broker Topology</td><td>중앙 중재자 없는 체인 구조</td><td>높은 성능, 단순한 플로우</td></tr><tr><td></td><td>Mediator Topology</td><td>중앙 중재자 기반 구조</td><td>복잡한 오케스트레이션, 오류 처리</td></tr><tr><td>처리 방식</td><td>Simple Event Processing</td><td>단순한 이벤트 반응</td><td>1:1 이벤트 처리</td></tr><tr><td></td><td>Complex Event Processing</td><td>복합 이벤트 분석</td><td>패턴 매칭, 집계</td></tr><tr><td>일관성 모델</td><td>Strong Consistency</td><td>강한 일관성 보장</td><td>동기 처리, 성능 저하</td></tr><tr><td></td><td>Eventual Consistency</td><td>최종 일관성</td><td>비동기 처리, 높은 성능</td></tr><tr><td>배달 보장</td><td>At-most-once</td><td>최대 한 번 배달</td><td>메시지 유실 가능</td></tr><tr><td></td><td>At-least-once</td><td>최소 한 번 배달</td><td>중복 처리 가능</td></tr><tr><td></td><td>Exactly-once</td><td>정확히 한 번 배달</td><td>높은 복잡성, 완벽한 보장</td></tr></tbody></table><hr><h3 id=18-실무-사용-예시>18. 실무 사용 예시<a hidden class=anchor aria-hidden=true href=#18-실무-사용-예시>#</a></h3><table><thead><tr><th>분야</th><th>용도</th><th>함께 사용되는 기술</th><th>효과</th></tr></thead><tbody><tr><td>E-Commerce</td><td>주문 처리, 재고 관리</td><td>Apache Kafka, Redis</td><td>실시간 재고 업데이트, 확장 가능한 주문 처리</td></tr><tr><td>금융 서비스</td><td>실시간 거래, 사기 탐지</td><td>Apache Flink, Kafka Streams</td><td>밀리초 단위 거래 처리, 즉시 사기 탐지</td></tr><tr><td>IoT</td><td>센서 데이터 처리, 모니터링</td><td>MQTT, InfluxDB</td><td>대용량 센서 데이터 실시간 처리</td></tr><tr><td>소셜 미디어</td><td>피드 업데이트, 알림</td><td>Redis Streams, RabbitMQ</td><td>실시간 소셜 피드, 즉시 알림</td></tr><tr><td>게임</td><td>플레이어 액션, 리더보드</td><td>Apache Pulsar, MongoDB</td><td>실시간 게임 상태 동기화</td></tr><tr><td>스트리밍</td><td>콘텐츠 배달, 분석</td><td>Kafka, Apache Storm</td><td>개인화된 추천, 실시간 시청 분석</td></tr></tbody></table><hr><h3 id=19-활용-사례-netflix-의-콘텐츠-파이낸스-시스템>19. 활용 사례: Netflix 의 콘텐츠 파이낸스 시스템<a hidden class=anchor aria-hidden=true href=#19-활용-사례-netflix-의-콘텐츠-파이낸스-시스템>#</a></h3><h4 id=시스템-구성-1>시스템 구성<a hidden class=anchor aria-hidden=true href=#시스템-구성-1>#</a></h4><pre class=mermaid>graph TB
    subgraph &#34;Content Finance System&#34;
        A[Content Planning Service] --&gt;|Budget Events| B[Event Bus - Kafka]
        C[Spending Tracking Service] --&gt;|Expense Events| B
        D[Catalog Service] --&gt;|Content Events| B
        
        B --&gt;|Financial Events| E[Finance Analytics Service]
        B --&gt;|Budget Events| F[Budget Management Service]
        B --&gt;|Report Events| G[Reporting Service]
        
        E --&gt; H[Financial Dashboard]
        F --&gt; I[Budget Alerts]
        G --&gt; J[Executive Reports]
    end
    
    subgraph &#34;External Systems&#34;
        K[Production Systems] --&gt;|Production Events| B
        L[Content Acquisition] --&gt;|Acquisition Events| B
    end
</pre><h4 id=workflow-2>Workflow<a hidden class=anchor aria-hidden=true href=#workflow-2>#</a></h4><ol><li><p><strong>콘텐츠 기획 단계</strong></p><ul><li>콘텐츠 기획 서비스에서 예산 이벤트 발행</li><li>예산 관리 서비스에서 예산 할당 처리</li></ul></li><li><p><strong>제작 진행 단계</strong></p><ul><li>제작 시스템에서 지출 이벤트 실시간 발행</li><li>지출 추적 서비스에서 예산 대비 진행률 계산</li></ul></li><li><p><strong>분석 및 보고 단계</strong></p><ul><li>금융 분석 서비스에서 트렌드 분석</li><li>보고 서비스에서 경영진 대시보드 업데이트</li></ul></li></ol><h4 id=eda-의-역할>EDA 의 역할<a hidden class=anchor aria-hidden=true href=#eda-의-역할>#</a></h4><ul><li><strong>실시간 예산 추적</strong>: 제작 비용의 즉시 반영</li><li><strong>확장성</strong>: 글로벌 제작 프로젝트 지원</li><li><strong>데이터 일관성</strong>: 복수의 시스템 간 동기화</li><li><strong>감사 가능성</strong>: 모든 금융 활동의 이벤트 로그</li></ul><h4 id=기존-시스템과의-차이점>기존 시스템과의 차이점<a hidden class=anchor aria-hidden=true href=#기존-시스템과의-차이점>#</a></h4><table><thead><tr><th>구분</th><th>기존 배치 시스템</th><th>EDA 기반 시스템</th></tr></thead><tbody><tr><td>데이터 갱신</td><td>일일 배치 처리</td><td>실시간 이벤트 처리</td></tr><tr><td>확장성</td><td>수직 확장 제한</td><td>수평 확장 용이</td></tr><tr><td>장애 복구</td><td>전체 시스템 재시작</td><td>부분 서비스 복구</td></tr><tr><td>개발 속도</td><td>통합 배포 필요</td><td>독립적 서비스 배포</td></tr></tbody></table><hr><h3 id=20-구현-예시>20. 구현 예시<a hidden class=anchor aria-hidden=true href=#20-구현-예시>#</a></h3><h4 id=netflix-콘텐츠-파이낸스-시스템-구현-javascript>Netflix 콘텐츠 파이낸스 시스템 구현 (JavaScript)<a hidden class=anchor aria-hidden=true href=#netflix-콘텐츠-파이낸스-시스템-구현-javascript>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-32-1><a class=lnlinks href=#hl-32-1>  1</a>
</span><span class=lnt id=hl-32-2><a class=lnlinks href=#hl-32-2>  2</a>
</span><span class=lnt id=hl-32-3><a class=lnlinks href=#hl-32-3>  3</a>
</span><span class=lnt id=hl-32-4><a class=lnlinks href=#hl-32-4>  4</a>
</span><span class=lnt id=hl-32-5><a class=lnlinks href=#hl-32-5>  5</a>
</span><span class=lnt id=hl-32-6><a class=lnlinks href=#hl-32-6>  6</a>
</span><span class=lnt id=hl-32-7><a class=lnlinks href=#hl-32-7>  7</a>
</span><span class=lnt id=hl-32-8><a class=lnlinks href=#hl-32-8>  8</a>
</span><span class=lnt id=hl-32-9><a class=lnlinks href=#hl-32-9>  9</a>
</span><span class=lnt id=hl-32-10><a class=lnlinks href=#hl-32-10> 10</a>
</span><span class=lnt id=hl-32-11><a class=lnlinks href=#hl-32-11> 11</a>
</span><span class=lnt id=hl-32-12><a class=lnlinks href=#hl-32-12> 12</a>
</span><span class=lnt id=hl-32-13><a class=lnlinks href=#hl-32-13> 13</a>
</span><span class=lnt id=hl-32-14><a class=lnlinks href=#hl-32-14> 14</a>
</span><span class=lnt id=hl-32-15><a class=lnlinks href=#hl-32-15> 15</a>
</span><span class=lnt id=hl-32-16><a class=lnlinks href=#hl-32-16> 16</a>
</span><span class=lnt id=hl-32-17><a class=lnlinks href=#hl-32-17> 17</a>
</span><span class=lnt id=hl-32-18><a class=lnlinks href=#hl-32-18> 18</a>
</span><span class=lnt id=hl-32-19><a class=lnlinks href=#hl-32-19> 19</a>
</span><span class=lnt id=hl-32-20><a class=lnlinks href=#hl-32-20> 20</a>
</span><span class=lnt id=hl-32-21><a class=lnlinks href=#hl-32-21> 21</a>
</span><span class=lnt id=hl-32-22><a class=lnlinks href=#hl-32-22> 22</a>
</span><span class=lnt id=hl-32-23><a class=lnlinks href=#hl-32-23> 23</a>
</span><span class=lnt id=hl-32-24><a class=lnlinks href=#hl-32-24> 24</a>
</span><span class=lnt id=hl-32-25><a class=lnlinks href=#hl-32-25> 25</a>
</span><span class=lnt id=hl-32-26><a class=lnlinks href=#hl-32-26> 26</a>
</span><span class=lnt id=hl-32-27><a class=lnlinks href=#hl-32-27> 27</a>
</span><span class=lnt id=hl-32-28><a class=lnlinks href=#hl-32-28> 28</a>
</span><span class=lnt id=hl-32-29><a class=lnlinks href=#hl-32-29> 29</a>
</span><span class=lnt id=hl-32-30><a class=lnlinks href=#hl-32-30> 30</a>
</span><span class=lnt id=hl-32-31><a class=lnlinks href=#hl-32-31> 31</a>
</span><span class=lnt id=hl-32-32><a class=lnlinks href=#hl-32-32> 32</a>
</span><span class=lnt id=hl-32-33><a class=lnlinks href=#hl-32-33> 33</a>
</span><span class=lnt id=hl-32-34><a class=lnlinks href=#hl-32-34> 34</a>
</span><span class=lnt id=hl-32-35><a class=lnlinks href=#hl-32-35> 35</a>
</span><span class=lnt id=hl-32-36><a class=lnlinks href=#hl-32-36> 36</a>
</span><span class=lnt id=hl-32-37><a class=lnlinks href=#hl-32-37> 37</a>
</span><span class=lnt id=hl-32-38><a class=lnlinks href=#hl-32-38> 38</a>
</span><span class=lnt id=hl-32-39><a class=lnlinks href=#hl-32-39> 39</a>
</span><span class=lnt id=hl-32-40><a class=lnlinks href=#hl-32-40> 40</a>
</span><span class=lnt id=hl-32-41><a class=lnlinks href=#hl-32-41> 41</a>
</span><span class=lnt id=hl-32-42><a class=lnlinks href=#hl-32-42> 42</a>
</span><span class=lnt id=hl-32-43><a class=lnlinks href=#hl-32-43> 43</a>
</span><span class=lnt id=hl-32-44><a class=lnlinks href=#hl-32-44> 44</a>
</span><span class=lnt id=hl-32-45><a class=lnlinks href=#hl-32-45> 45</a>
</span><span class=lnt id=hl-32-46><a class=lnlinks href=#hl-32-46> 46</a>
</span><span class=lnt id=hl-32-47><a class=lnlinks href=#hl-32-47> 47</a>
</span><span class=lnt id=hl-32-48><a class=lnlinks href=#hl-32-48> 48</a>
</span><span class=lnt id=hl-32-49><a class=lnlinks href=#hl-32-49> 49</a>
</span><span class=lnt id=hl-32-50><a class=lnlinks href=#hl-32-50> 50</a>
</span><span class=lnt id=hl-32-51><a class=lnlinks href=#hl-32-51> 51</a>
</span><span class=lnt id=hl-32-52><a class=lnlinks href=#hl-32-52> 52</a>
</span><span class=lnt id=hl-32-53><a class=lnlinks href=#hl-32-53> 53</a>
</span><span class=lnt id=hl-32-54><a class=lnlinks href=#hl-32-54> 54</a>
</span><span class=lnt id=hl-32-55><a class=lnlinks href=#hl-32-55> 55</a>
</span><span class=lnt id=hl-32-56><a class=lnlinks href=#hl-32-56> 56</a>
</span><span class=lnt id=hl-32-57><a class=lnlinks href=#hl-32-57> 57</a>
</span><span class=lnt id=hl-32-58><a class=lnlinks href=#hl-32-58> 58</a>
</span><span class=lnt id=hl-32-59><a class=lnlinks href=#hl-32-59> 59</a>
</span><span class=lnt id=hl-32-60><a class=lnlinks href=#hl-32-60> 60</a>
</span><span class=lnt id=hl-32-61><a class=lnlinks href=#hl-32-61> 61</a>
</span><span class=lnt id=hl-32-62><a class=lnlinks href=#hl-32-62> 62</a>
</span><span class=lnt id=hl-32-63><a class=lnlinks href=#hl-32-63> 63</a>
</span><span class=lnt id=hl-32-64><a class=lnlinks href=#hl-32-64> 64</a>
</span><span class=lnt id=hl-32-65><a class=lnlinks href=#hl-32-65> 65</a>
</span><span class=lnt id=hl-32-66><a class=lnlinks href=#hl-32-66> 66</a>
</span><span class=lnt id=hl-32-67><a class=lnlinks href=#hl-32-67> 67</a>
</span><span class=lnt id=hl-32-68><a class=lnlinks href=#hl-32-68> 68</a>
</span><span class=lnt id=hl-32-69><a class=lnlinks href=#hl-32-69> 69</a>
</span><span class=lnt id=hl-32-70><a class=lnlinks href=#hl-32-70> 70</a>
</span><span class=lnt id=hl-32-71><a class=lnlinks href=#hl-32-71> 71</a>
</span><span class=lnt id=hl-32-72><a class=lnlinks href=#hl-32-72> 72</a>
</span><span class=lnt id=hl-32-73><a class=lnlinks href=#hl-32-73> 73</a>
</span><span class=lnt id=hl-32-74><a class=lnlinks href=#hl-32-74> 74</a>
</span><span class=lnt id=hl-32-75><a class=lnlinks href=#hl-32-75> 75</a>
</span><span class=lnt id=hl-32-76><a class=lnlinks href=#hl-32-76> 76</a>
</span><span class=lnt id=hl-32-77><a class=lnlinks href=#hl-32-77> 77</a>
</span><span class=lnt id=hl-32-78><a class=lnlinks href=#hl-32-78> 78</a>
</span><span class=lnt id=hl-32-79><a class=lnlinks href=#hl-32-79> 79</a>
</span><span class=lnt id=hl-32-80><a class=lnlinks href=#hl-32-80> 80</a>
</span><span class=lnt id=hl-32-81><a class=lnlinks href=#hl-32-81> 81</a>
</span><span class=lnt id=hl-32-82><a class=lnlinks href=#hl-32-82> 82</a>
</span><span class=lnt id=hl-32-83><a class=lnlinks href=#hl-32-83> 83</a>
</span><span class=lnt id=hl-32-84><a class=lnlinks href=#hl-32-84> 84</a>
</span><span class=lnt id=hl-32-85><a class=lnlinks href=#hl-32-85> 85</a>
</span><span class=lnt id=hl-32-86><a class=lnlinks href=#hl-32-86> 86</a>
</span><span class=lnt id=hl-32-87><a class=lnlinks href=#hl-32-87> 87</a>
</span><span class=lnt id=hl-32-88><a class=lnlinks href=#hl-32-88> 88</a>
</span><span class=lnt id=hl-32-89><a class=lnlinks href=#hl-32-89> 89</a>
</span><span class=lnt id=hl-32-90><a class=lnlinks href=#hl-32-90> 90</a>
</span><span class=lnt id=hl-32-91><a class=lnlinks href=#hl-32-91> 91</a>
</span><span class=lnt id=hl-32-92><a class=lnlinks href=#hl-32-92> 92</a>
</span><span class=lnt id=hl-32-93><a class=lnlinks href=#hl-32-93> 93</a>
</span><span class=lnt id=hl-32-94><a class=lnlinks href=#hl-32-94> 94</a>
</span><span class=lnt id=hl-32-95><a class=lnlinks href=#hl-32-95> 95</a>
</span><span class=lnt id=hl-32-96><a class=lnlinks href=#hl-32-96> 96</a>
</span><span class=lnt id=hl-32-97><a class=lnlinks href=#hl-32-97> 97</a>
</span><span class=lnt id=hl-32-98><a class=lnlinks href=#hl-32-98> 98</a>
</span><span class=lnt id=hl-32-99><a class=lnlinks href=#hl-32-99> 99</a>
</span><span class=lnt id=hl-32-100><a class=lnlinks href=#hl-32-100>100</a>
</span><span class=lnt id=hl-32-101><a class=lnlinks href=#hl-32-101>101</a>
</span><span class=lnt id=hl-32-102><a class=lnlinks href=#hl-32-102>102</a>
</span><span class=lnt id=hl-32-103><a class=lnlinks href=#hl-32-103>103</a>
</span><span class=lnt id=hl-32-104><a class=lnlinks href=#hl-32-104>104</a>
</span><span class=lnt id=hl-32-105><a class=lnlinks href=#hl-32-105>105</a>
</span><span class=lnt id=hl-32-106><a class=lnlinks href=#hl-32-106>106</a>
</span><span class=lnt id=hl-32-107><a class=lnlinks href=#hl-32-107>107</a>
</span><span class=lnt id=hl-32-108><a class=lnlinks href=#hl-32-108>108</a>
</span><span class=lnt id=hl-32-109><a class=lnlinks href=#hl-32-109>109</a>
</span><span class=lnt id=hl-32-110><a class=lnlinks href=#hl-32-110>110</a>
</span><span class=lnt id=hl-32-111><a class=lnlinks href=#hl-32-111>111</a>
</span><span class=lnt id=hl-32-112><a class=lnlinks href=#hl-32-112>112</a>
</span><span class=lnt id=hl-32-113><a class=lnlinks href=#hl-32-113>113</a>
</span><span class=lnt id=hl-32-114><a class=lnlinks href=#hl-32-114>114</a>
</span><span class=lnt id=hl-32-115><a class=lnlinks href=#hl-32-115>115</a>
</span><span class=lnt id=hl-32-116><a class=lnlinks href=#hl-32-116>116</a>
</span><span class=lnt id=hl-32-117><a class=lnlinks href=#hl-32-117>117</a>
</span><span class=lnt id=hl-32-118><a class=lnlinks href=#hl-32-118>118</a>
</span><span class=lnt id=hl-32-119><a class=lnlinks href=#hl-32-119>119</a>
</span><span class=lnt id=hl-32-120><a class=lnlinks href=#hl-32-120>120</a>
</span><span class=lnt id=hl-32-121><a class=lnlinks href=#hl-32-121>121</a>
</span><span class=lnt id=hl-32-122><a class=lnlinks href=#hl-32-122>122</a>
</span><span class=lnt id=hl-32-123><a class=lnlinks href=#hl-32-123>123</a>
</span><span class=lnt id=hl-32-124><a class=lnlinks href=#hl-32-124>124</a>
</span><span class=lnt id=hl-32-125><a class=lnlinks href=#hl-32-125>125</a>
</span><span class=lnt id=hl-32-126><a class=lnlinks href=#hl-32-126>126</a>
</span><span class=lnt id=hl-32-127><a class=lnlinks href=#hl-32-127>127</a>
</span><span class=lnt id=hl-32-128><a class=lnlinks href=#hl-32-128>128</a>
</span><span class=lnt id=hl-32-129><a class=lnlinks href=#hl-32-129>129</a>
</span><span class=lnt id=hl-32-130><a class=lnlinks href=#hl-32-130>130</a>
</span><span class=lnt id=hl-32-131><a class=lnlinks href=#hl-32-131>131</a>
</span><span class=lnt id=hl-32-132><a class=lnlinks href=#hl-32-132>132</a>
</span><span class=lnt id=hl-32-133><a class=lnlinks href=#hl-32-133>133</a>
</span><span class=lnt id=hl-32-134><a class=lnlinks href=#hl-32-134>134</a>
</span><span class=lnt id=hl-32-135><a class=lnlinks href=#hl-32-135>135</a>
</span><span class=lnt id=hl-32-136><a class=lnlinks href=#hl-32-136>136</a>
</span><span class=lnt id=hl-32-137><a class=lnlinks href=#hl-32-137>137</a>
</span><span class=lnt id=hl-32-138><a class=lnlinks href=#hl-32-138>138</a>
</span><span class=lnt id=hl-32-139><a class=lnlinks href=#hl-32-139>139</a>
</span><span class=lnt id=hl-32-140><a class=lnlinks href=#hl-32-140>140</a>
</span><span class=lnt id=hl-32-141><a class=lnlinks href=#hl-32-141>141</a>
</span><span class=lnt id=hl-32-142><a class=lnlinks href=#hl-32-142>142</a>
</span><span class=lnt id=hl-32-143><a class=lnlinks href=#hl-32-143>143</a>
</span><span class=lnt id=hl-32-144><a class=lnlinks href=#hl-32-144>144</a>
</span><span class=lnt id=hl-32-145><a class=lnlinks href=#hl-32-145>145</a>
</span><span class=lnt id=hl-32-146><a class=lnlinks href=#hl-32-146>146</a>
</span><span class=lnt id=hl-32-147><a class=lnlinks href=#hl-32-147>147</a>
</span><span class=lnt id=hl-32-148><a class=lnlinks href=#hl-32-148>148</a>
</span><span class=lnt id=hl-32-149><a class=lnlinks href=#hl-32-149>149</a>
</span><span class=lnt id=hl-32-150><a class=lnlinks href=#hl-32-150>150</a>
</span><span class=lnt id=hl-32-151><a class=lnlinks href=#hl-32-151>151</a>
</span><span class=lnt id=hl-32-152><a class=lnlinks href=#hl-32-152>152</a>
</span><span class=lnt id=hl-32-153><a class=lnlinks href=#hl-32-153>153</a>
</span><span class=lnt id=hl-32-154><a class=lnlinks href=#hl-32-154>154</a>
</span><span class=lnt id=hl-32-155><a class=lnlinks href=#hl-32-155>155</a>
</span><span class=lnt id=hl-32-156><a class=lnlinks href=#hl-32-156>156</a>
</span><span class=lnt id=hl-32-157><a class=lnlinks href=#hl-32-157>157</a>
</span><span class=lnt id=hl-32-158><a class=lnlinks href=#hl-32-158>158</a>
</span><span class=lnt id=hl-32-159><a class=lnlinks href=#hl-32-159>159</a>
</span><span class=lnt id=hl-32-160><a class=lnlinks href=#hl-32-160>160</a>
</span><span class=lnt id=hl-32-161><a class=lnlinks href=#hl-32-161>161</a>
</span><span class=lnt id=hl-32-162><a class=lnlinks href=#hl-32-162>162</a>
</span><span class=lnt id=hl-32-163><a class=lnlinks href=#hl-32-163>163</a>
</span><span class=lnt id=hl-32-164><a class=lnlinks href=#hl-32-164>164</a>
</span><span class=lnt id=hl-32-165><a class=lnlinks href=#hl-32-165>165</a>
</span><span class=lnt id=hl-32-166><a class=lnlinks href=#hl-32-166>166</a>
</span><span class=lnt id=hl-32-167><a class=lnlinks href=#hl-32-167>167</a>
</span><span class=lnt id=hl-32-168><a class=lnlinks href=#hl-32-168>168</a>
</span><span class=lnt id=hl-32-169><a class=lnlinks href=#hl-32-169>169</a>
</span><span class=lnt id=hl-32-170><a class=lnlinks href=#hl-32-170>170</a>
</span><span class=lnt id=hl-32-171><a class=lnlinks href=#hl-32-171>171</a>
</span><span class=lnt id=hl-32-172><a class=lnlinks href=#hl-32-172>172</a>
</span><span class=lnt id=hl-32-173><a class=lnlinks href=#hl-32-173>173</a>
</span><span class=lnt id=hl-32-174><a class=lnlinks href=#hl-32-174>174</a>
</span><span class=lnt id=hl-32-175><a class=lnlinks href=#hl-32-175>175</a>
</span><span class=lnt id=hl-32-176><a class=lnlinks href=#hl-32-176>176</a>
</span><span class=lnt id=hl-32-177><a class=lnlinks href=#hl-32-177>177</a>
</span><span class=lnt id=hl-32-178><a class=lnlinks href=#hl-32-178>178</a>
</span><span class=lnt id=hl-32-179><a class=lnlinks href=#hl-32-179>179</a>
</span><span class=lnt id=hl-32-180><a class=lnlinks href=#hl-32-180>180</a>
</span><span class=lnt id=hl-32-181><a class=lnlinks href=#hl-32-181>181</a>
</span><span class=lnt id=hl-32-182><a class=lnlinks href=#hl-32-182>182</a>
</span><span class=lnt id=hl-32-183><a class=lnlinks href=#hl-32-183>183</a>
</span><span class=lnt id=hl-32-184><a class=lnlinks href=#hl-32-184>184</a>
</span><span class=lnt id=hl-32-185><a class=lnlinks href=#hl-32-185>185</a>
</span><span class=lnt id=hl-32-186><a class=lnlinks href=#hl-32-186>186</a>
</span><span class=lnt id=hl-32-187><a class=lnlinks href=#hl-32-187>187</a>
</span><span class=lnt id=hl-32-188><a class=lnlinks href=#hl-32-188>188</a>
</span><span class=lnt id=hl-32-189><a class=lnlinks href=#hl-32-189>189</a>
</span><span class=lnt id=hl-32-190><a class=lnlinks href=#hl-32-190>190</a>
</span><span class=lnt id=hl-32-191><a class=lnlinks href=#hl-32-191>191</a>
</span><span class=lnt id=hl-32-192><a class=lnlinks href=#hl-32-192>192</a>
</span><span class=lnt id=hl-32-193><a class=lnlinks href=#hl-32-193>193</a>
</span><span class=lnt id=hl-32-194><a class=lnlinks href=#hl-32-194>194</a>
</span><span class=lnt id=hl-32-195><a class=lnlinks href=#hl-32-195>195</a>
</span><span class=lnt id=hl-32-196><a class=lnlinks href=#hl-32-196>196</a>
</span><span class=lnt id=hl-32-197><a class=lnlinks href=#hl-32-197>197</a>
</span><span class=lnt id=hl-32-198><a class=lnlinks href=#hl-32-198>198</a>
</span><span class=lnt id=hl-32-199><a class=lnlinks href=#hl-32-199>199</a>
</span><span class=lnt id=hl-32-200><a class=lnlinks href=#hl-32-200>200</a>
</span><span class=lnt id=hl-32-201><a class=lnlinks href=#hl-32-201>201</a>
</span><span class=lnt id=hl-32-202><a class=lnlinks href=#hl-32-202>202</a>
</span><span class=lnt id=hl-32-203><a class=lnlinks href=#hl-32-203>203</a>
</span><span class=lnt id=hl-32-204><a class=lnlinks href=#hl-32-204>204</a>
</span><span class=lnt id=hl-32-205><a class=lnlinks href=#hl-32-205>205</a>
</span><span class=lnt id=hl-32-206><a class=lnlinks href=#hl-32-206>206</a>
</span><span class=lnt id=hl-32-207><a class=lnlinks href=#hl-32-207>207</a>
</span><span class=lnt id=hl-32-208><a class=lnlinks href=#hl-32-208>208</a>
</span><span class=lnt id=hl-32-209><a class=lnlinks href=#hl-32-209>209</a>
</span><span class=lnt id=hl-32-210><a class=lnlinks href=#hl-32-210>210</a>
</span><span class=lnt id=hl-32-211><a class=lnlinks href=#hl-32-211>211</a>
</span><span class=lnt id=hl-32-212><a class=lnlinks href=#hl-32-212>212</a>
</span><span class=lnt id=hl-32-213><a class=lnlinks href=#hl-32-213>213</a>
</span><span class=lnt id=hl-32-214><a class=lnlinks href=#hl-32-214>214</a>
</span><span class=lnt id=hl-32-215><a class=lnlinks href=#hl-32-215>215</a>
</span><span class=lnt id=hl-32-216><a class=lnlinks href=#hl-32-216>216</a>
</span><span class=lnt id=hl-32-217><a class=lnlinks href=#hl-32-217>217</a>
</span><span class=lnt id=hl-32-218><a class=lnlinks href=#hl-32-218>218</a>
</span><span class=lnt id=hl-32-219><a class=lnlinks href=#hl-32-219>219</a>
</span><span class=lnt id=hl-32-220><a class=lnlinks href=#hl-32-220>220</a>
</span><span class=lnt id=hl-32-221><a class=lnlinks href=#hl-32-221>221</a>
</span><span class=lnt id=hl-32-222><a class=lnlinks href=#hl-32-222>222</a>
</span><span class=lnt id=hl-32-223><a class=lnlinks href=#hl-32-223>223</a>
</span><span class=lnt id=hl-32-224><a class=lnlinks href=#hl-32-224>224</a>
</span><span class=lnt id=hl-32-225><a class=lnlinks href=#hl-32-225>225</a>
</span><span class=lnt id=hl-32-226><a class=lnlinks href=#hl-32-226>226</a>
</span><span class=lnt id=hl-32-227><a class=lnlinks href=#hl-32-227>227</a>
</span><span class=lnt id=hl-32-228><a class=lnlinks href=#hl-32-228>228</a>
</span><span class=lnt id=hl-32-229><a class=lnlinks href=#hl-32-229>229</a>
</span><span class=lnt id=hl-32-230><a class=lnlinks href=#hl-32-230>230</a>
</span><span class=lnt id=hl-32-231><a class=lnlinks href=#hl-32-231>231</a>
</span><span class=lnt id=hl-32-232><a class=lnlinks href=#hl-32-232>232</a>
</span><span class=lnt id=hl-32-233><a class=lnlinks href=#hl-32-233>233</a>
</span><span class=lnt id=hl-32-234><a class=lnlinks href=#hl-32-234>234</a>
</span><span class=lnt id=hl-32-235><a class=lnlinks href=#hl-32-235>235</a>
</span><span class=lnt id=hl-32-236><a class=lnlinks href=#hl-32-236>236</a>
</span><span class=lnt id=hl-32-237><a class=lnlinks href=#hl-32-237>237</a>
</span><span class=lnt id=hl-32-238><a class=lnlinks href=#hl-32-238>238</a>
</span><span class=lnt id=hl-32-239><a class=lnlinks href=#hl-32-239>239</a>
</span><span class=lnt id=hl-32-240><a class=lnlinks href=#hl-32-240>240</a>
</span><span class=lnt id=hl-32-241><a class=lnlinks href=#hl-32-241>241</a>
</span><span class=lnt id=hl-32-242><a class=lnlinks href=#hl-32-242>242</a>
</span><span class=lnt id=hl-32-243><a class=lnlinks href=#hl-32-243>243</a>
</span><span class=lnt id=hl-32-244><a class=lnlinks href=#hl-32-244>244</a>
</span><span class=lnt id=hl-32-245><a class=lnlinks href=#hl-32-245>245</a>
</span><span class=lnt id=hl-32-246><a class=lnlinks href=#hl-32-246>246</a>
</span><span class=lnt id=hl-32-247><a class=lnlinks href=#hl-32-247>247</a>
</span><span class=lnt id=hl-32-248><a class=lnlinks href=#hl-32-248>248</a>
</span><span class=lnt id=hl-32-249><a class=lnlinks href=#hl-32-249>249</a>
</span><span class=lnt id=hl-32-250><a class=lnlinks href=#hl-32-250>250</a>
</span><span class=lnt id=hl-32-251><a class=lnlinks href=#hl-32-251>251</a>
</span><span class=lnt id=hl-32-252><a class=lnlinks href=#hl-32-252>252</a>
</span><span class=lnt id=hl-32-253><a class=lnlinks href=#hl-32-253>253</a>
</span><span class=lnt id=hl-32-254><a class=lnlinks href=#hl-32-254>254</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 이벤트 정의
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>BudgetAllocatedEvent</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>(</span><span class=nx>projectId</span><span class=p>,</span> <span class=nx>amount</span><span class=p>,</span> <span class=nx>department</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>eventId</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>generateId</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>eventType</span> <span class=o>=</span> <span class=s1>&#39;BudgetAllocated&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>timestamp</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>().</span><span class=nx>toISOString</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>data</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>projectId</span><span class=p>,</span> <span class=nx>amount</span><span class=p>,</span> <span class=nx>department</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>generateId</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s1>&#39;evt_&#39;</span> <span class=o>+</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>random</span><span class=p>().</span><span class=nx>toString</span><span class=p>(</span><span class=mi>36</span><span class=p>).</span><span class=nx>substr</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>9</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>ExpenseRecordedEvent</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>(</span><span class=nx>projectId</span><span class=p>,</span> <span class=nx>amount</span><span class=p>,</span> <span class=nx>category</span><span class=p>,</span> <span class=nx>vendor</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>eventId</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>generateId</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>eventType</span> <span class=o>=</span> <span class=s1>&#39;ExpenseRecorded&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>timestamp</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>().</span><span class=nx>toISOString</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>data</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>projectId</span><span class=p>,</span> <span class=nx>amount</span><span class=p>,</span> <span class=nx>category</span><span class=p>,</span> <span class=nx>vendor</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>generateId</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s1>&#39;evt_&#39;</span> <span class=o>+</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>random</span><span class=p>().</span><span class=nx>toString</span><span class=p>(</span><span class=mi>36</span><span class=p>).</span><span class=nx>substr</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>9</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 이벤트 브로커
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>EventBroker</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>subscribers</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Map</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>eventStore</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>subscribe</span><span class=p>(</span><span class=nx>eventType</span><span class=p>,</span> <span class=nx>handler</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=k>this</span><span class=p>.</span><span class=nx>subscribers</span><span class=p>.</span><span class=nx>has</span><span class=p>(</span><span class=nx>eventType</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>subscribers</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=nx>eventType</span><span class=p>,</span> <span class=p>[]);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>subscribers</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>eventType</span><span class=p>).</span><span class=nx>push</span><span class=p>(</span><span class=nx>handler</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>async</span> <span class=nx>publish</span><span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 이벤트 저장 (Event Sourcing)
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>eventStore</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>event</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 구독자들에게 이벤트 전달
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kr>const</span> <span class=nx>handlers</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>subscribers</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>eventType</span><span class=p>)</span> <span class=o>||</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kr>const</span> <span class=nx>handler</span> <span class=k>of</span> <span class=nx>handlers</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=kr>await</span> <span class=nx>handler</span><span class=p>(</span><span class=nx>event</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=sb>`Error processing event </span><span class=si>${</span><span class=nx>event</span><span class=p>.</span><span class=nx>eventId</span><span class=si>}</span><span class=sb>:`</span><span class=p>,</span> <span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=c1>// 에러 처리 로직 (Dead Letter Queue 등)
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>handleEventProcessingError</span><span class=p>(</span><span class=nx>event</span><span class=p>,</span> <span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>async</span> <span class=nx>handleEventProcessingError</span><span class=p>(</span><span class=nx>event</span><span class=p>,</span> <span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 실패한 이벤트를 별도 큐로 전송
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Moving event </span><span class=si>${</span><span class=nx>event</span><span class=p>.</span><span class=nx>eventId</span><span class=si>}</span><span class=sb> to dead letter queue`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 예산 관리 서비스
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>BudgetManagementService</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>(</span><span class=nx>eventBroker</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>eventBroker</span> <span class=o>=</span> <span class=nx>eventBroker</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>budgets</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Map</span><span class=p>();</span> <span class=c1>// projectId -&gt; budget info
</span></span></span><span class=line><span class=cl><span class=c1></span>        
</span></span><span class=line><span class=cl>        <span class=c1>// 이벤트 구독
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>eventBroker</span><span class=p>.</span><span class=nx>subscribe</span><span class=p>(</span><span class=s1>&#39;BudgetAllocated&#39;</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>handleBudgetAllocated</span><span class=p>.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>));</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>eventBroker</span><span class=p>.</span><span class=nx>subscribe</span><span class=p>(</span><span class=s1>&#39;ExpenseRecorded&#39;</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>handleExpenseRecorded</span><span class=p>.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>async</span> <span class=nx>allocateBudget</span><span class=p>(</span><span class=nx>projectId</span><span class=p>,</span> <span class=nx>amount</span><span class=p>,</span> <span class=nx>department</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 예산 할당 비즈니스 로직
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>budgets</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=nx>projectId</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>totalBudget</span><span class=o>:</span> <span class=nx>amount</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>spentAmount</span><span class=o>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>department</span><span class=o>:</span> <span class=nx>department</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>createdAt</span><span class=o>:</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 이벤트 발행
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kr>const</span> <span class=nx>event</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>BudgetAllocatedEvent</span><span class=p>(</span><span class=nx>projectId</span><span class=p>,</span> <span class=nx>amount</span><span class=p>,</span> <span class=nx>department</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>eventBroker</span><span class=p>.</span><span class=nx>publish</span><span class=p>(</span><span class=nx>event</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Budget allocated: </span><span class=si>${</span><span class=nx>amount</span><span class=si>}</span><span class=sb> for project </span><span class=si>${</span><span class=nx>projectId</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>async</span> <span class=nx>handleBudgetAllocated</span><span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 예산 할당 이벤트 처리 (이미 allocateBudget에서 처리됨)
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Budget allocation confirmed for project </span><span class=si>${</span><span class=nx>event</span><span class=p>.</span><span class=nx>data</span><span class=p>.</span><span class=nx>projectId</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>async</span> <span class=nx>handleExpenseRecorded</span><span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=p>{</span> <span class=nx>projectId</span><span class=p>,</span> <span class=nx>amount</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>event</span><span class=p>.</span><span class=nx>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>budget</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>budgets</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>projectId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>budget</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>budget</span><span class=p>.</span><span class=nx>spentAmount</span> <span class=o>+=</span> <span class=nx>amount</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1>// 예산 초과 체크
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>if</span> <span class=p>(</span><span class=nx>budget</span><span class=p>.</span><span class=nx>spentAmount</span> <span class=o>&gt;</span> <span class=nx>budget</span><span class=p>.</span><span class=nx>totalBudget</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>publishBudgetExceededAlert</span><span class=p>(</span><span class=nx>projectId</span><span class=p>,</span> <span class=nx>budget</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Updated spent amount for project </span><span class=si>${</span><span class=nx>projectId</span><span class=si>}</span><span class=sb>: </span><span class=si>${</span><span class=nx>budget</span><span class=p>.</span><span class=nx>spentAmount</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>async</span> <span class=nx>publishBudgetExceededAlert</span><span class=p>(</span><span class=nx>projectId</span><span class=p>,</span> <span class=nx>budget</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>alertEvent</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>eventId</span><span class=o>:</span> <span class=s1>&#39;alert_&#39;</span> <span class=o>+</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>random</span><span class=p>().</span><span class=nx>toString</span><span class=p>(</span><span class=mi>36</span><span class=p>).</span><span class=nx>substr</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>9</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=nx>eventType</span><span class=o>:</span> <span class=s1>&#39;BudgetExceeded&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>timestamp</span><span class=o>:</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>().</span><span class=nx>toISOString</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>            <span class=nx>data</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>projectId</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>totalBudget</span><span class=o>:</span> <span class=nx>budget</span><span class=p>.</span><span class=nx>totalBudget</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>spentAmount</span><span class=o>:</span> <span class=nx>budget</span><span class=p>.</span><span class=nx>spentAmount</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>overage</span><span class=o>:</span> <span class=nx>budget</span><span class=p>.</span><span class=nx>spentAmount</span> <span class=o>-</span> <span class=nx>budget</span><span class=p>.</span><span class=nx>totalBudget</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>eventBroker</span><span class=p>.</span><span class=nx>publish</span><span class=p>(</span><span class=nx>alertEvent</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 지출 추적 서비스
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>ExpenseTrackingService</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>(</span><span class=nx>eventBroker</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>eventBroker</span> <span class=o>=</span> <span class=nx>eventBroker</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>expenses</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Map</span><span class=p>();</span> <span class=c1>// projectId -&gt; expenses[]
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>async</span> <span class=nx>recordExpense</span><span class=p>(</span><span class=nx>projectId</span><span class=p>,</span> <span class=nx>amount</span><span class=p>,</span> <span class=nx>category</span><span class=p>,</span> <span class=nx>vendor</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 지출 기록 비즈니스 로직
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=k>this</span><span class=p>.</span><span class=nx>expenses</span><span class=p>.</span><span class=nx>has</span><span class=p>(</span><span class=nx>projectId</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>expenses</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=nx>projectId</span><span class=p>,</span> <span class=p>[]);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>expense</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>id</span><span class=o>:</span> <span class=s1>&#39;exp_&#39;</span> <span class=o>+</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>random</span><span class=p>().</span><span class=nx>toString</span><span class=p>(</span><span class=mi>36</span><span class=p>).</span><span class=nx>substr</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>9</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=nx>projectId</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>amount</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>category</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>vendor</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>recordedAt</span><span class=o>:</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>expenses</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>projectId</span><span class=p>).</span><span class=nx>push</span><span class=p>(</span><span class=nx>expense</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 이벤트 발행
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kr>const</span> <span class=nx>event</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>ExpenseRecordedEvent</span><span class=p>(</span><span class=nx>projectId</span><span class=p>,</span> <span class=nx>amount</span><span class=p>,</span> <span class=nx>category</span><span class=p>,</span> <span class=nx>vendor</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>eventBroker</span><span class=p>.</span><span class=nx>publish</span><span class=p>(</span><span class=nx>event</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Expense recorded: </span><span class=si>${</span><span class=nx>amount</span><span class=si>}</span><span class=sb> for project </span><span class=si>${</span><span class=nx>projectId</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 분석 서비스
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>AnalyticsService</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>(</span><span class=nx>eventBroker</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>eventBroker</span> <span class=o>=</span> <span class=nx>eventBroker</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>projectMetrics</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Map</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 이벤트 구독
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>eventBroker</span><span class=p>.</span><span class=nx>subscribe</span><span class=p>(</span><span class=s1>&#39;BudgetAllocated&#39;</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>updateMetrics</span><span class=p>.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>));</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>eventBroker</span><span class=p>.</span><span class=nx>subscribe</span><span class=p>(</span><span class=s1>&#39;ExpenseRecorded&#39;</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>updateMetrics</span><span class=p>.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>));</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>eventBroker</span><span class=p>.</span><span class=nx>subscribe</span><span class=p>(</span><span class=s1>&#39;BudgetExceeded&#39;</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>handleBudgetExceeded</span><span class=p>.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>async</span> <span class=nx>updateMetrics</span><span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>projectId</span> <span class=o>=</span> <span class=nx>event</span><span class=p>.</span><span class=nx>data</span><span class=p>.</span><span class=nx>projectId</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=k>this</span><span class=p>.</span><span class=nx>projectMetrics</span><span class=p>.</span><span class=nx>has</span><span class=p>(</span><span class=nx>projectId</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>projectMetrics</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=nx>projectId</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>totalEvents</span><span class=o>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>budgetEvents</span><span class=o>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>expenseEvents</span><span class=o>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>lastUpdated</span><span class=o>:</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>metrics</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>projectMetrics</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>projectId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>metrics</span><span class=p>.</span><span class=nx>totalEvents</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>eventType</span> <span class=o>===</span> <span class=s1>&#39;BudgetAllocated&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>metrics</span><span class=p>.</span><span class=nx>budgetEvents</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>eventType</span> <span class=o>===</span> <span class=s1>&#39;ExpenseRecorded&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>metrics</span><span class=p>.</span><span class=nx>expenseEvents</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nx>metrics</span><span class=p>.</span><span class=nx>lastUpdated</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Analytics updated for project </span><span class=si>${</span><span class=nx>projectId</span><span class=si>}</span><span class=sb>:`</span><span class=p>,</span> <span class=nx>metrics</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>async</span> <span class=nx>handleBudgetExceeded</span><span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`ALERT: Budget exceeded for project </span><span class=si>${</span><span class=nx>event</span><span class=p>.</span><span class=nx>data</span><span class=p>.</span><span class=nx>projectId</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 알림 서비스로 이벤트 전달, 대시보드 업데이트 등
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>getProjectMetrics</span><span class=p>(</span><span class=nx>projectId</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>projectMetrics</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>projectId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 시스템 사용 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>async</span> <span class=kd>function</span> <span class=nx>demonstrateNetflixFinanceSystem</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 이벤트 브로커 초기화
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>eventBroker</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>EventBroker</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 서비스들 초기화
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>budgetService</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>BudgetManagementService</span><span class=p>(</span><span class=nx>eventBroker</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>expenseService</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>ExpenseTrackingService</span><span class=p>(</span><span class=nx>eventBroker</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>analyticsService</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>AnalyticsService</span><span class=p>(</span><span class=nx>eventBroker</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 시나리오 실행
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;=== Netflix Content Finance System Demo ===\n&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 1. 새로운 콘텐츠 프로젝트 예산 할당
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>await</span> <span class=nx>budgetService</span><span class=p>.</span><span class=nx>allocateBudget</span><span class=p>(</span><span class=s1>&#39;project_001&#39;</span><span class=p>,</span> <span class=mi>1000000</span><span class=p>,</span> <span class=s1>&#39;Original Content&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 잠시 대기 (이벤트 처리 시간)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>await</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>(</span><span class=nx>resolve</span> <span class=p>=&gt;</span> <span class=nx>setTimeout</span><span class=p>(</span><span class=nx>resolve</span><span class=p>,</span> <span class=mi>100</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 2. 제작 비용 기록
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>await</span> <span class=nx>expenseService</span><span class=p>.</span><span class=nx>recordExpense</span><span class=p>(</span><span class=s1>&#39;project_001&#39;</span><span class=p>,</span> <span class=mi>250000</span><span class=p>,</span> <span class=s1>&#39;Production&#39;</span><span class=p>,</span> <span class=s1>&#39;Studio A&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kr>await</span> <span class=nx>expenseService</span><span class=p>.</span><span class=nx>recordExpense</span><span class=p>(</span><span class=s1>&#39;project_001&#39;</span><span class=p>,</span> <span class=mi>150000</span><span class=p>,</span> <span class=s1>&#39;Post-Production&#39;</span><span class=p>,</span> <span class=s1>&#39;Edit House B&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kr>await</span> <span class=nx>expenseService</span><span class=p>.</span><span class=nx>recordExpense</span><span class=p>(</span><span class=s1>&#39;project_001&#39;</span><span class=p>,</span> <span class=mi>300000</span><span class=p>,</span> <span class=s1>&#39;Marketing&#39;</span><span class=p>,</span> <span class=s1>&#39;Agency C&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>await</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>(</span><span class=nx>resolve</span> <span class=p>=&gt;</span> <span class=nx>setTimeout</span><span class=p>(</span><span class=nx>resolve</span><span class=p>,</span> <span class=mi>100</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 3. 예산 초과 상황 시뮬레이션
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>await</span> <span class=nx>expenseService</span><span class=p>.</span><span class=nx>recordExpense</span><span class=p>(</span><span class=s1>&#39;project_001&#39;</span><span class=p>,</span> <span class=mi>400000</span><span class=p>,</span> <span class=s1>&#39;Additional Scenes&#39;</span><span class=p>,</span> <span class=s1>&#39;Studio A&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>await</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>(</span><span class=nx>resolve</span> <span class=p>=&gt;</span> <span class=nx>setTimeout</span><span class=p>(</span><span class=nx>resolve</span><span class=p>,</span> <span class=mi>100</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 4. 분석 결과 확인
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;\n=== Final Analytics ===&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>analyticsService</span><span class=p>.</span><span class=nx>getProjectMetrics</span><span class=p>(</span><span class=s1>&#39;project_001&#39;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 5. 이벤트 저장소 확인 (Event Sourcing)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;\n=== Event Store (First 5 events) ===&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>eventBroker</span><span class=p>.</span><span class=nx>eventStore</span><span class=p>.</span><span class=nx>slice</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>5</span><span class=p>).</span><span class=nx>forEach</span><span class=p>((</span><span class=nx>event</span><span class=p>,</span> <span class=nx>index</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=nx>index</span> <span class=o>+</span> <span class=mi>1</span><span class=si>}</span><span class=sb>. </span><span class=si>${</span><span class=nx>event</span><span class=p>.</span><span class=nx>eventType</span><span class=si>}</span><span class=sb> - </span><span class=si>${</span><span class=nx>event</span><span class=p>.</span><span class=nx>timestamp</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 데모 실행
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>demonstrateNetflixFinanceSystem</span><span class=p>().</span><span class=k>catch</span><span class=p>(</span><span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=21-실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>21. 실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#21-실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>구분</th><th>고려사항</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>설계</td><td>이벤트 스키마 설계</td><td>명확하고 진화 가능한 이벤트 구조</td><td>JSON Schema, Avro 스키마 사용</td></tr><tr><td></td><td>이벤트 크기 관리</td><td>네트워크 효율성과 처리 성능 고려</td><td>페이로드 최소화, 참조 기반 설계</td></tr><tr><td></td><td>멱등성 보장</td><td>중복 처리에 안전한 설계</td><td>이벤트 ID 기반 중복 검사</td></tr><tr><td>구현</td><td>에러 처리 전략</td><td>실패한 이벤트 처리 방안</td><td>Dead Letter Queue, 재시도 정책</td></tr><tr><td></td><td>모니터링 구축</td><td>이벤트 플로우 가시성 확보</td><td>분산 추적, 메트릭 수집</td></tr><tr><td></td><td>백프레셔 처리</td><td>소비자 과부하 방지</td><td>적응적 처리, 큐 깊이 모니터링</td></tr><tr><td>운영</td><td>스키마 진화 관리</td><td>호환성 유지하며 스키마 변경</td><td>점진적 배포, 버전 관리</td></tr><tr><td></td><td>보안 정책 수립</td><td>이벤트 데이터 보호</td><td>암호화, 접근 제어, 감사 로그</td></tr><tr><td></td><td>성능 튜닝</td><td>처리량과 지연시간 최적화</td><td>파티셔닝, 배치 처리, 압축</td></tr></tbody></table><hr><h3 id=22-최적화하기-위한-고려사항-및-주의할-점>22. 최적화하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#22-최적화하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>구분</th><th>최적화 요소</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>성능</td><td>파티셔닝 전략</td><td>이벤트 분산 및 병렬 처리</td><td>비즈니스 키 기반 파티셔닝</td></tr><tr><td></td><td>배치 처리</td><td>처리량 향상을 위한 배치 크기 조정</td><td>지연시간과 처리량 균형</td></tr><tr><td></td><td>압축 적용</td><td>네트워크 대역폭 절약</td><td>Snappy, LZ4 압축 알고리즘</td></tr><tr><td>확장성</td><td>오토 스케일링</td><td>부하에 따른 자동 확장</td><td>큐 깊이, CPU 메트릭 기반</td></tr><tr><td></td><td>로드 밸런싱</td><td>고르게 분산된 이벤트 처리</td><td>라운드 로빈, 가중치 기반</td></tr><tr><td></td><td>캐싱 전략</td><td>반복 처리 최적화</td><td>Redis, Hazelcast 활용</td></tr><tr><td>안정성</td><td>복제 설정</td><td>데이터 손실 방지</td><td>최소 3 개 복제본 유지</td></tr><tr><td></td><td>장애 복구</td><td>빠른 복구를 위한 준비</td><td>백업, 재해 복구 계획</td></tr><tr><td></td><td>모니터링 강화</td><td>장애 예방을 위한 감시</td><td>실시간 알림, 대시보드</td></tr></tbody></table><hr><h3 id=23-주제와-관련하여-주목할-내용>23. 주제와 관련하여 주목할 내용<a hidden class=anchor aria-hidden=true href=#23-주제와-관련하여-주목할-내용>#</a></h3><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>신기술</td><td>Serverless EDA</td><td>AWS Lambda, Azure Functions</td><td>서버리스 기반 이벤트 처리</td></tr><tr><td></td><td>Edge Computing</td><td>IoT, 5G 환경</td><td>엣지에서의 실시간 이벤트 처리</td></tr><tr><td></td><td>AI/ML 통합</td><td>실시간 추론, 스트림 ML</td><td>이벤트 스트림에서 ML 모델 적용</td></tr><tr><td>플랫폼</td><td>Cloud Native</td><td>Kubernetes, Service Mesh</td><td>클라우드 네이티브 EDA 구현</td></tr><tr><td></td><td>Multi-Cloud</td><td>하이브리드 클라우드</td><td>다중 클라우드 환경에서 EDA</td></tr><tr><td>패턴</td><td>Event Sourcing</td><td>이벤트 기반 데이터 저장</td><td>상태 재구성, 감사 로그</td></tr><tr><td></td><td>CQRS</td><td>명령/조회 분리</td><td>읽기/쓰기 최적화</td></tr><tr><td></td><td>Saga Pattern</td><td>분산 트랜잭션</td><td>마이크로서비스 간 데이터 일관성</td></tr><tr><td>도구</td><td>Apache Kafka</td><td>이벤트 스트리밍 플랫폼</td><td>대용량 실시간 이벤트 처리</td></tr><tr><td></td><td>Apache Pulsar</td><td>차세대 메시징 시스템</td><td>다중 테넌시, 지리적 복제</td></tr><tr><td></td><td>NATS</td><td>고성능 메시징</td><td>마이크로서비스 통신</td></tr></tbody></table><hr><h3 id=24-주제와-관련하여-반드시-학습해야할-내용>24. 주제와 관련하여 반드시 학습해야할 내용<a hidden class=anchor aria-hidden=true href=#24-주제와-관련하여-반드시-학습해야할-내용>#</a></h3><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>기초 개념</td><td>분산 시스템</td><td>CAP 정리, ACID vs BASE</td><td>분산 환경의 기본 원리</td></tr><tr><td></td><td>메시징 패턴</td><td>Pub/Sub, Point-to-Point</td><td>메시지 전달 방식 이해</td></tr><tr><td></td><td>동시성 제어</td><td>락, 세마포어, 원자성</td><td>동시 처리 메커니즘</td></tr><tr><td>아키텍처</td><td>마이크로서비스</td><td>서비스 분해, API 설계</td><td>EDA 와 마이크로서비스 연계</td></tr><tr><td></td><td>Domain-Driven Design</td><td>바운디드 컨텍스트, 집계</td><td>도메인 중심 설계 방법론</td></tr><tr><td></td><td>데이터 관리</td><td>데이터 일관성, 분산 DB</td><td>분산 데이터 관리 전략</td></tr><tr><td>기술 스택</td><td>Apache Kafka</td><td>토픽, 파티션, 컨슈머 그룹</td><td>핵심 이벤트 스트리밍 플랫폼</td></tr><tr><td></td><td>Spring Cloud Stream</td><td>바인더, 프로세서</td><td>Java 기반 EDA 프레임워크</td></tr><tr><td></td><td>Docker & Kubernetes</td><td>컨테이너, 오케스트레이션</td><td>현대적 배포 환경</td></tr><tr><td>운영</td><td>모니터링</td><td>메트릭, 로깅, 추적</td><td>시스템 관찰 가능성</td></tr><tr><td></td><td>보안</td><td>암호화, 인증, 권한 부여</td><td>이벤트 보안 관리</td></tr><tr><td></td><td>DevOps</td><td>CI/CD, IaC</td><td>지속적 통합/배포</td></tr></tbody></table><hr><h3 id=용어-정리-4>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-4>#</a></h3><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>핵심 개념</td><td>Event (이벤트)</td><td>시스템 내에서 발생하는 중요한 상태 변화나 사건</td></tr><tr><td></td><td>Producer (프로듀서)</td><td>이벤트를 생성하고 발행하는 구성 요소</td></tr><tr><td></td><td>Consumer (컨슈머)</td><td>이벤트를 수신하고 처리하는 구성 요소</td></tr><tr><td></td><td>Broker (브로커)</td><td>이벤트를 중계하고 라우팅하는 미들웨어</td></tr><tr><td>아키텍처</td><td>Mediator Topology</td><td>중앙 중재자가 워크플로우를 조정하는 토폴로지</td></tr><tr><td></td><td>Broker Topology</td><td>중앙 중재자 없이 체인 형태로 연결된 토폴로지</td></tr><tr><td></td><td>Event Sourcing</td><td>상태 변경을 이벤트 시퀀스로 저장하는 패턴</td></tr><tr><td>기술 용어</td><td>Idempotency (멱등성)</td><td>동일한 작업을 여러 번 수행해도 결과가 같은 성질</td></tr><tr><td></td><td>Backpressure (백프레셔)</td><td>시스템 과부하 시 처리 속도를 조절하는 메커니즘</td></tr><tr><td></td><td>Dead Letter Queue</td><td>처리 실패한 메시지를 저장하는 특별한 큐</td></tr><tr><td></td><td>Circuit Breaker</td><td>장애 전파를 막기 위한 회로 차단기 패턴</td></tr><tr><td>품질 속성</td><td>Eventual Consistency</td><td>분산 시스템에서 모든 노드가 최종적으로 일관된 상태</td></tr><tr><td></td><td>Exactly-once Delivery</td><td>메시지가 정확히 한 번만 전달되는 보장</td></tr><tr><td></td><td>Schema Evolution</td><td>기존 호환성을 유지하며 스키마를 변경하는 과정</td></tr></tbody></table><hr><h3 id=참고-및-출처-4>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-4>#</a></h3><ul><li><a href=https://en.wikipedia.org/wiki/Event-driven_architecture>Event-driven architecture - Wikipedia</a></li><li><a href=https://aws.amazon.com/event-driven-architecture/>AWS Event-Driven Architecture</a></li><li><a href=https://www.geeksforgeeks.org/event-driven-architecture-system-design/>Event-Driven Architecture System Design - GeeksforGeeks</a></li><li><a href=https://risingwave.com/blog/the-comprehensive-guide-to-event-driven-architecture/>The Comprehensive Guide to Event-Driven Architecture - RisingWave</a></li><li><a href=https://www.confluent.io/learn/event-driven-architecture/>Event-Driven Architecture: A Complete Introduction - Confluent</a></li><li><a href=https://www.3pillarglobal.com/insights/blog/event-driven-architecture-topologies-broker-and-mediator/>Event-Driven Architecture Topologies - 3Pillar</a></li><li><a href=https://www.oreilly.com/library/view/software-architecture-patterns/9781491971437/ch02.html>Software Architecture Patterns - O&rsquo;Reilly</a></li><li><a href=https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven>Event-driven architecture style - Azure Architecture Center</a></li><li><a href=https://solace.com/event-driven-architecture-patterns/>The Ultimate Guide to Event-Driven Architecture Patterns - Solace</a></li><li><a href=https://microservices.io/patterns/data/saga.html>Microservices Pattern: Saga</a></li><li><a href=https://microservices.io/patterns/data/event-sourcing.html>Microservices Pattern: Event sourcing</a></li><li><a href=https://estuary.dev/blog/event-driven-architecture-examples/>10 Event-Driven Architecture Examples - Estuary</a></li><li><a href=https://risingwave.com/blog/real-world-applications-of-event-driven-architecture-10-examples/>Real-World Applications of Event-Driven Architecture - RisingWave</a></li></ul><hr><p>이벤트 기반 아키텍처 (Event-Driven Architecture, EDA) 는 현대 API 설계에서 중요한 통합 패턴으로서, 시스템 간의 효율적인 통신과 확장성을 크게 향상시킬 수 있는 접근 방식이다.</p><p>이벤트 기반 아키텍처는 현대적인 API 통합 패턴으로, 특히 복잡하고 확장 가능한 분산 시스템에서 큰 가치를 제공한다. 이 접근 방식은 시스템 구성 요소 간의 느슨한 결합을 촉진하고, 실시간 데이터 처리와 확장성을 향상시키며, 변화하는 비즈니스 요구사항에 더 유연하게 대응할 수 있게 한다.</p><p>성공적인 이벤트 기반 아키텍처 구현을 위해서는 적절한 이벤트 설계, 명확한 문서화, 효과적인 오류 처리 및 복원력 전략, 그리고 일관된 이벤트 스키마 관리가 필수적이다. 이러한 원칙과 패턴을 적용함으로써, 개발자는 확장 가능하고 유연하며 반응성이 뛰어난 시스템을 구축할 수 있다.</p><h4 id=이벤트-기반-아키텍처의-핵심-개념>이벤트 기반 아키텍처의 핵심 개념<a hidden class=anchor aria-hidden=true href=#이벤트-기반-아키텍처의-핵심-개념>#</a></h4><p>이벤트 기반 아키텍처는 시스템 내에서 발생하는 상태 변화나 중요한 사건을 &rsquo; 이벤트 &rsquo; 로 정의하고, 이러한 이벤트의 생성, 전송, 처리를 중심으로 시스템을 구성하는 방식이다.</p><p>이벤트는 " 무엇이 일어났는가 " 에 대한 통지이며, 이벤트를 생성하는 생산자 (Producer) 와 이벤트를 수신하는 소비자 (Consumer) 사이의 느슨한 결합 (Loose Coupling) 을 통해 시스템의 유연성과 확장성을 제공한다.</p><h4 id=이벤트-기반-아키텍처의-주요-구성-요소>이벤트 기반 아키텍처의 주요 구성 요소<a hidden class=anchor aria-hidden=true href=#이벤트-기반-아키텍처의-주요-구성-요소>#</a></h4><ol><li><p>이벤트 생산자 (Event Producer)</p><ul><li>시스템 내에서 상태 변화를 감지하고 이벤트를 생성하는 역할</li><li>예: 사용자 등록 서비스, 주문 처리 시스템, IoT 센서 등</li></ul></li><li><p>이벤트 채널 (Event Channel)</p><ul><li>생산자로부터 소비자로 이벤트를 전달하는 통로</li><li>구현 형태: 메시지 큐, 이벤트 버스, 스트림 처리 플랫폼</li></ul></li><li><p>이벤트 소비자 (Event Consumer)</p><ul><li>이벤트를 수신하고 적절한 처리를 수행하는 서비스</li><li>이벤트에 반응하여 비즈니스 로직을 실행</li></ul></li><li><p>이벤트 스토어 (Event Store)</p><ul><li>이벤트의 지속적인 저장소로서, 이벤트 소싱 (Event Sourcing) 패턴에서 중요한 역할</li><li>시스템의 상태 변화 이력을 이벤트 시퀀스로 보존</li></ul></li></ol><h4 id=api-통합에서의-이벤트-기반-아키텍처-구현-방식>API 통합에서의 이벤트 기반 아키텍처 구현 방식<a hidden class=anchor aria-hidden=true href=#api-통합에서의-이벤트-기반-아키텍처-구현-방식>#</a></h4><h5 id=웹훅-webhook-기반-이벤트-전달>웹훅 (Webhook) 기반 이벤트 전달<a hidden class=anchor aria-hidden=true href=#웹훅-webhook-기반-이벤트-전달>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-33-1><a class=lnlinks href=#hl-33-1> 1</a>
</span><span class=lnt id=hl-33-2><a class=lnlinks href=#hl-33-2> 2</a>
</span><span class=lnt id=hl-33-3><a class=lnlinks href=#hl-33-3> 3</a>
</span><span class=lnt id=hl-33-4><a class=lnlinks href=#hl-33-4> 4</a>
</span><span class=lnt id=hl-33-5><a class=lnlinks href=#hl-33-5> 5</a>
</span><span class=lnt id=hl-33-6><a class=lnlinks href=#hl-33-6> 6</a>
</span><span class=lnt id=hl-33-7><a class=lnlinks href=#hl-33-7> 7</a>
</span><span class=lnt id=hl-33-8><a class=lnlinks href=#hl-33-8> 8</a>
</span><span class=lnt id=hl-33-9><a class=lnlinks href=#hl-33-9> 9</a>
</span><span class=lnt id=hl-33-10><a class=lnlinks href=#hl-33-10>10</a>
</span><span class=lnt id=hl-33-11><a class=lnlinks href=#hl-33-11>11</a>
</span><span class=lnt id=hl-33-12><a class=lnlinks href=#hl-33-12>12</a>
</span><span class=lnt id=hl-33-13><a class=lnlinks href=#hl-33-13>13</a>
</span><span class=lnt id=hl-33-14><a class=lnlinks href=#hl-33-14>14</a>
</span><span class=lnt id=hl-33-15><a class=lnlinks href=#hl-33-15>15</a>
</span><span class=lnt id=hl-33-16><a class=lnlinks href=#hl-33-16>16</a>
</span><span class=lnt id=hl-33-17><a class=lnlinks href=#hl-33-17>17</a>
</span><span class=lnt id=hl-33-18><a class=lnlinks href=#hl-33-18>18</a>
</span><span class=lnt id=hl-33-19><a class=lnlinks href=#hl-33-19>19</a>
</span><span class=lnt id=hl-33-20><a class=lnlinks href=#hl-33-20>20</a>
</span><span class=lnt id=hl-33-21><a class=lnlinks href=#hl-33-21>21</a>
</span><span class=lnt id=hl-33-22><a class=lnlinks href=#hl-33-22>22</a>
</span><span class=lnt id=hl-33-23><a class=lnlinks href=#hl-33-23>23</a>
</span><span class=lnt id=hl-33-24><a class=lnlinks href=#hl-33-24>24</a>
</span><span class=lnt id=hl-33-25><a class=lnlinks href=#hl-33-25>25</a>
</span><span class=lnt id=hl-33-26><a class=lnlinks href=#hl-33-26>26</a>
</span><span class=lnt id=hl-33-27><a class=lnlinks href=#hl-33-27>27</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 웹훅 이벤트 수신 엔드포인트 예시 (Node.js/Express)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>app</span><span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=s1>&#39;/api/webhooks/orders&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>event</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 이벤트 유효성 검증
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>event</span><span class=p>.</span><span class=nx>type</span> <span class=o>||</span> <span class=o>!</span><span class=nx>event</span><span class=p>.</span><span class=nx>payload</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>400</span><span class=p>).</span><span class=nx>send</span><span class=p>(</span><span class=s1>&#39;Invalid event format&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 이벤트 타입에 따른 처리
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>switch</span> <span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>type</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=s1>&#39;order.created&#39;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=nx>processNewOrder</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>payload</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=s1>&#39;order.updated&#39;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=nx>updateOrderStatus</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>payload</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=s1>&#39;order.cancelled&#39;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=nx>handleOrderCancellation</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>payload</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Unhandled event type: </span><span class=si>${</span><span class=nx>event</span><span class=p>.</span><span class=nx>type</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 202 Accepted 응답 (비동기 처리를 나타냄)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>202</span><span class=p>).</span><span class=nx>end</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=서버---전송-이벤트-server-sent-events-sse>서버 - 전송 이벤트 (Server-Sent Events, SSE)<a hidden class=anchor aria-hidden=true href=#서버---전송-이벤트-server-sent-events-sse>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-34-1><a class=lnlinks href=#hl-34-1> 1</a>
</span><span class=lnt id=hl-34-2><a class=lnlinks href=#hl-34-2> 2</a>
</span><span class=lnt id=hl-34-3><a class=lnlinks href=#hl-34-3> 3</a>
</span><span class=lnt id=hl-34-4><a class=lnlinks href=#hl-34-4> 4</a>
</span><span class=lnt id=hl-34-5><a class=lnlinks href=#hl-34-5> 5</a>
</span><span class=lnt id=hl-34-6><a class=lnlinks href=#hl-34-6> 6</a>
</span><span class=lnt id=hl-34-7><a class=lnlinks href=#hl-34-7> 7</a>
</span><span class=lnt id=hl-34-8><a class=lnlinks href=#hl-34-8> 8</a>
</span><span class=lnt id=hl-34-9><a class=lnlinks href=#hl-34-9> 9</a>
</span><span class=lnt id=hl-34-10><a class=lnlinks href=#hl-34-10>10</a>
</span><span class=lnt id=hl-34-11><a class=lnlinks href=#hl-34-11>11</a>
</span><span class=lnt id=hl-34-12><a class=lnlinks href=#hl-34-12>12</a>
</span><span class=lnt id=hl-34-13><a class=lnlinks href=#hl-34-13>13</a>
</span><span class=lnt id=hl-34-14><a class=lnlinks href=#hl-34-14>14</a>
</span><span class=lnt id=hl-34-15><a class=lnlinks href=#hl-34-15>15</a>
</span><span class=lnt id=hl-34-16><a class=lnlinks href=#hl-34-16>16</a>
</span><span class=lnt id=hl-34-17><a class=lnlinks href=#hl-34-17>17</a>
</span><span class=lnt id=hl-34-18><a class=lnlinks href=#hl-34-18>18</a>
</span><span class=lnt id=hl-34-19><a class=lnlinks href=#hl-34-19>19</a>
</span><span class=lnt id=hl-34-20><a class=lnlinks href=#hl-34-20>20</a>
</span><span class=lnt id=hl-34-21><a class=lnlinks href=#hl-34-21>21</a>
</span><span class=lnt id=hl-34-22><a class=lnlinks href=#hl-34-22>22</a>
</span><span class=lnt id=hl-34-23><a class=lnlinks href=#hl-34-23>23</a>
</span><span class=lnt id=hl-34-24><a class=lnlinks href=#hl-34-24>24</a>
</span><span class=lnt id=hl-34-25><a class=lnlinks href=#hl-34-25>25</a>
</span><span class=lnt id=hl-34-26><a class=lnlinks href=#hl-34-26>26</a>
</span><span class=lnt id=hl-34-27><a class=lnlinks href=#hl-34-27>27</a>
</span><span class=lnt id=hl-34-28><a class=lnlinks href=#hl-34-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 서버 측 코드 (Node.js/Express)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/api/events/stream&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// SSE 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>res</span><span class=p>.</span><span class=nx>setHeader</span><span class=p>(</span><span class=s1>&#39;Content-Type&#39;</span><span class=p>,</span> <span class=s1>&#39;text/event-stream&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>setHeader</span><span class=p>(</span><span class=s1>&#39;Cache-Control&#39;</span><span class=p>,</span> <span class=s1>&#39;no-cache&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>setHeader</span><span class=p>(</span><span class=s1>&#39;Connection&#39;</span><span class=p>,</span> <span class=s1>&#39;keep-alive&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 클라이언트에 이벤트 전송 함수
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>sendEvent</span> <span class=o>=</span> <span class=p>(</span><span class=nx>eventType</span><span class=p>,</span> <span class=nx>data</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>res</span><span class=p>.</span><span class=nx>write</span><span class=p>(</span><span class=sb>`event: </span><span class=si>${</span><span class=nx>eventType</span><span class=si>}</span><span class=sb>\n`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>res</span><span class=p>.</span><span class=nx>write</span><span class=p>(</span><span class=sb>`data: </span><span class=si>${</span><span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>data</span><span class=p>)</span><span class=si>}</span><span class=sb>\n\n`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 주기적인 이벤트 전송 예시
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>intervalId</span> <span class=o>=</span> <span class=nx>setInterval</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>sendEvent</span><span class=p>(</span><span class=s1>&#39;heartbeat&#39;</span><span class=p>,</span> <span class=p>{</span> <span class=nx>timestamp</span><span class=o>:</span> <span class=nb>Date</span><span class=p>.</span><span class=nx>now</span><span class=p>()</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=mi>30000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 새 주문 발생 시 이벤트 전송 (가상의 이벤트 리스너)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>orderEmitter</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;new-order&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>order</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>sendEvent</span><span class=p>(</span><span class=s1>&#39;order.created&#39;</span><span class=p>,</span> <span class=nx>order</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 연결 종료 시 정리
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>req</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;close&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>clearInterval</span><span class=p>(</span><span class=nx>intervalId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=메시지-브로커를-활용한-이벤트-기반-통합>메시지 브로커를 활용한 이벤트 기반 통합<a hidden class=anchor aria-hidden=true href=#메시지-브로커를-활용한-이벤트-기반-통합>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-35-1><a class=lnlinks href=#hl-35-1> 1</a>
</span><span class=lnt id=hl-35-2><a class=lnlinks href=#hl-35-2> 2</a>
</span><span class=lnt id=hl-35-3><a class=lnlinks href=#hl-35-3> 3</a>
</span><span class=lnt id=hl-35-4><a class=lnlinks href=#hl-35-4> 4</a>
</span><span class=lnt id=hl-35-5><a class=lnlinks href=#hl-35-5> 5</a>
</span><span class=lnt id=hl-35-6><a class=lnlinks href=#hl-35-6> 6</a>
</span><span class=lnt id=hl-35-7><a class=lnlinks href=#hl-35-7> 7</a>
</span><span class=lnt id=hl-35-8><a class=lnlinks href=#hl-35-8> 8</a>
</span><span class=lnt id=hl-35-9><a class=lnlinks href=#hl-35-9> 9</a>
</span><span class=lnt id=hl-35-10><a class=lnlinks href=#hl-35-10>10</a>
</span><span class=lnt id=hl-35-11><a class=lnlinks href=#hl-35-11>11</a>
</span><span class=lnt id=hl-35-12><a class=lnlinks href=#hl-35-12>12</a>
</span><span class=lnt id=hl-35-13><a class=lnlinks href=#hl-35-13>13</a>
</span><span class=lnt id=hl-35-14><a class=lnlinks href=#hl-35-14>14</a>
</span><span class=lnt id=hl-35-15><a class=lnlinks href=#hl-35-15>15</a>
</span><span class=lnt id=hl-35-16><a class=lnlinks href=#hl-35-16>16</a>
</span><span class=lnt id=hl-35-17><a class=lnlinks href=#hl-35-17>17</a>
</span><span class=lnt id=hl-35-18><a class=lnlinks href=#hl-35-18>18</a>
</span><span class=lnt id=hl-35-19><a class=lnlinks href=#hl-35-19>19</a>
</span><span class=lnt id=hl-35-20><a class=lnlinks href=#hl-35-20>20</a>
</span><span class=lnt id=hl-35-21><a class=lnlinks href=#hl-35-21>21</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 이벤트 생산자 예시 (Python with Kafka)</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>kafka</span> <span class=kn>import</span> <span class=n>KafkaProducer</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>producer</span> <span class=o>=</span> <span class=n>KafkaProducer</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>bootstrap_servers</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;kafka:9092&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=n>value_serializer</span><span class=o>=</span><span class=k>lambda</span> <span class=n>v</span><span class=p>:</span> <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>v</span><span class=p>)</span><span class=o>.</span><span class=n>encode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>publish_order_event</span><span class=p>(</span><span class=n>order_id</span><span class=p>,</span> <span class=n>event_type</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>event</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;event_id&#39;</span><span class=p>:</span> <span class=nb>str</span><span class=p>(</span><span class=n>uuid</span><span class=o>.</span><span class=n>uuid4</span><span class=p>()),</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;event_type&#39;</span><span class=p>:</span> <span class=n>event_type</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;timestamp&#39;</span><span class=p>:</span> <span class=n>datetime</span><span class=o>.</span><span class=n>utcnow</span><span class=p>()</span><span class=o>.</span><span class=n>isoformat</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;order_id&#39;</span><span class=p>:</span> <span class=n>order_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;data&#39;</span><span class=p>:</span> <span class=n>data</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 주문 이벤트 토픽으로 메시지 전송</span>
</span></span><span class=line><span class=cl>    <span class=n>producer</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=s1>&#39;order-events&#39;</span><span class=p>,</span> <span class=n>event</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>producer</span><span class=o>.</span><span class=n>flush</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-36-1><a class=lnlinks href=#hl-36-1> 1</a>
</span><span class=lnt id=hl-36-2><a class=lnlinks href=#hl-36-2> 2</a>
</span><span class=lnt id=hl-36-3><a class=lnlinks href=#hl-36-3> 3</a>
</span><span class=lnt id=hl-36-4><a class=lnlinks href=#hl-36-4> 4</a>
</span><span class=lnt id=hl-36-5><a class=lnlinks href=#hl-36-5> 5</a>
</span><span class=lnt id=hl-36-6><a class=lnlinks href=#hl-36-6> 6</a>
</span><span class=lnt id=hl-36-7><a class=lnlinks href=#hl-36-7> 7</a>
</span><span class=lnt id=hl-36-8><a class=lnlinks href=#hl-36-8> 8</a>
</span><span class=lnt id=hl-36-9><a class=lnlinks href=#hl-36-9> 9</a>
</span><span class=lnt id=hl-36-10><a class=lnlinks href=#hl-36-10>10</a>
</span><span class=lnt id=hl-36-11><a class=lnlinks href=#hl-36-11>11</a>
</span><span class=lnt id=hl-36-12><a class=lnlinks href=#hl-36-12>12</a>
</span><span class=lnt id=hl-36-13><a class=lnlinks href=#hl-36-13>13</a>
</span><span class=lnt id=hl-36-14><a class=lnlinks href=#hl-36-14>14</a>
</span><span class=lnt id=hl-36-15><a class=lnlinks href=#hl-36-15>15</a>
</span><span class=lnt id=hl-36-16><a class=lnlinks href=#hl-36-16>16</a>
</span><span class=lnt id=hl-36-17><a class=lnlinks href=#hl-36-17>17</a>
</span><span class=lnt id=hl-36-18><a class=lnlinks href=#hl-36-18>18</a>
</span><span class=lnt id=hl-36-19><a class=lnlinks href=#hl-36-19>19</a>
</span><span class=lnt id=hl-36-20><a class=lnlinks href=#hl-36-20>20</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 이벤트 소비자 예시 (Python with Kafka)</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>kafka</span> <span class=kn>import</span> <span class=n>KafkaConsumer</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>consumer</span> <span class=o>=</span> <span class=n>KafkaConsumer</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;order-events&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>bootstrap_servers</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;kafka:9092&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=n>value_deserializer</span><span class=o>=</span><span class=k>lambda</span> <span class=n>m</span><span class=p>:</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>m</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>)),</span>
</span></span><span class=line><span class=cl>    <span class=n>group_id</span><span class=o>=</span><span class=s1>&#39;order-processing-service&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>auto_offset_reset</span><span class=o>=</span><span class=s1>&#39;earliest&#39;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>message</span> <span class=ow>in</span> <span class=n>consumer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>event</span> <span class=o>=</span> <span class=n>message</span><span class=o>.</span><span class=n>value</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 이벤트 타입에 따른 처리</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>event</span><span class=p>[</span><span class=s1>&#39;event_type&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;order.created&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>process_new_order</span><span class=p>(</span><span class=n>event</span><span class=p>[</span><span class=s1>&#39;data&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>    <span class=k>elif</span> <span class=n>event</span><span class=p>[</span><span class=s1>&#39;event_type&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;order.payment_confirmed&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>initiate_shipment</span><span class=p>(</span><span class=n>event</span><span class=p>[</span><span class=s1>&#39;data&#39;</span><span class=p>])</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=이벤트-기반-api-의-설계-원칙>이벤트 기반 API 의 설계 원칙<a hidden class=anchor aria-hidden=true href=#이벤트-기반-api-의-설계-원칙>#</a></h4><h5 id=이벤트-스키마-정의와-버전-관리>이벤트 스키마 정의와 버전 관리<a hidden class=anchor aria-hidden=true href=#이벤트-스키마-정의와-버전-관리>#</a></h5><p>이벤트의 구조와 의미를 명확히 정의하고 버전 관리하여 생산자와 소비자 간의 호환성을 유지한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-37-1><a class=lnlinks href=#hl-37-1> 1</a>
</span><span class=lnt id=hl-37-2><a class=lnlinks href=#hl-37-2> 2</a>
</span><span class=lnt id=hl-37-3><a class=lnlinks href=#hl-37-3> 3</a>
</span><span class=lnt id=hl-37-4><a class=lnlinks href=#hl-37-4> 4</a>
</span><span class=lnt id=hl-37-5><a class=lnlinks href=#hl-37-5> 5</a>
</span><span class=lnt id=hl-37-6><a class=lnlinks href=#hl-37-6> 6</a>
</span><span class=lnt id=hl-37-7><a class=lnlinks href=#hl-37-7> 7</a>
</span><span class=lnt id=hl-37-8><a class=lnlinks href=#hl-37-8> 8</a>
</span><span class=lnt id=hl-37-9><a class=lnlinks href=#hl-37-9> 9</a>
</span><span class=lnt id=hl-37-10><a class=lnlinks href=#hl-37-10>10</a>
</span><span class=lnt id=hl-37-11><a class=lnlinks href=#hl-37-11>11</a>
</span><span class=lnt id=hl-37-12><a class=lnlinks href=#hl-37-12>12</a>
</span><span class=lnt id=hl-37-13><a class=lnlinks href=#hl-37-13>13</a>
</span><span class=lnt id=hl-37-14><a class=lnlinks href=#hl-37-14>14</a>
</span><span class=lnt id=hl-37-15><a class=lnlinks href=#hl-37-15>15</a>
</span><span class=lnt id=hl-37-16><a class=lnlinks href=#hl-37-16>16</a>
</span><span class=lnt id=hl-37-17><a class=lnlinks href=#hl-37-17>17</a>
</span><span class=lnt id=hl-37-18><a class=lnlinks href=#hl-37-18>18</a>
</span><span class=lnt id=hl-37-19><a class=lnlinks href=#hl-37-19>19</a>
</span><span class=lnt id=hl-37-20><a class=lnlinks href=#hl-37-20>20</a>
</span><span class=lnt id=hl-37-21><a class=lnlinks href=#hl-37-21>21</a>
</span><span class=lnt id=hl-37-22><a class=lnlinks href=#hl-37-22>22</a>
</span><span class=lnt id=hl-37-23><a class=lnlinks href=#hl-37-23>23</a>
</span><span class=lnt id=hl-37-24><a class=lnlinks href=#hl-37-24>24</a>
</span><span class=lnt id=hl-37-25><a class=lnlinks href=#hl-37-25>25</a>
</span><span class=lnt id=hl-37-26><a class=lnlinks href=#hl-37-26>26</a>
</span><span class=lnt id=hl-37-27><a class=lnlinks href=#hl-37-27>27</a>
</span><span class=lnt id=hl-37-28><a class=lnlinks href=#hl-37-28>28</a>
</span><span class=lnt id=hl-37-29><a class=lnlinks href=#hl-37-29>29</a>
</span><span class=lnt id=hl-37-30><a class=lnlinks href=#hl-37-30>30</a>
</span><span class=lnt id=hl-37-31><a class=lnlinks href=#hl-37-31>31</a>
</span><span class=lnt id=hl-37-32><a class=lnlinks href=#hl-37-32>32</a>
</span><span class=lnt id=hl-37-33><a class=lnlinks href=#hl-37-33>33</a>
</span><span class=lnt id=hl-37-34><a class=lnlinks href=#hl-37-34>34</a>
</span><span class=lnt id=hl-37-35><a class=lnlinks href=#hl-37-35>35</a>
</span><span class=lnt id=hl-37-36><a class=lnlinks href=#hl-37-36>36</a>
</span><span class=lnt id=hl-37-37><a class=lnlinks href=#hl-37-37>37</a>
</span><span class=lnt id=hl-37-38><a class=lnlinks href=#hl-37-38>38</a>
</span><span class=lnt id=hl-37-39><a class=lnlinks href=#hl-37-39>39</a>
</span><span class=lnt id=hl-37-40><a class=lnlinks href=#hl-37-40>40</a>
</span><span class=lnt id=hl-37-41><a class=lnlinks href=#hl-37-41>41</a>
</span><span class=lnt id=hl-37-42><a class=lnlinks href=#hl-37-42>42</a>
</span><span class=lnt id=hl-37-43><a class=lnlinks href=#hl-37-43>43</a>
</span><span class=lnt id=hl-37-44><a class=lnlinks href=#hl-37-44>44</a>
</span><span class=lnt id=hl-37-45><a class=lnlinks href=#hl-37-45>45</a>
</span><span class=lnt id=hl-37-46><a class=lnlinks href=#hl-37-46>46</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=c1>// 이벤트 스키마 예시 (JSON Schema)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;$schema&#34;</span><span class=p>:</span> <span class=s2>&#34;http://json-schema.org/draft-07/schema#&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;OrderCreatedEvent&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;version&#34;</span><span class=p>:</span> <span class=s2>&#34;1.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;object&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;required&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;event_id&#34;</span><span class=p>,</span> <span class=s2>&#34;event_type&#34;</span><span class=p>,</span> <span class=s2>&#34;timestamp&#34;</span><span class=p>,</span> <span class=s2>&#34;data&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;properties&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;event_id&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;string&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;format&#34;</span><span class=p>:</span> <span class=s2>&#34;uuid&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;이벤트의 고유 식별자&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;event_type&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;string&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;enum&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;order.created&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;이벤트 유형&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;timestamp&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;string&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;format&#34;</span><span class=p>:</span> <span class=s2>&#34;date-time&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;이벤트 발생 시간 (ISO 8601 형식)&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;object&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;required&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;order_id&#34;</span><span class=p>,</span> <span class=s2>&#34;customer_id&#34;</span><span class=p>,</span> <span class=s2>&#34;items&#34;</span><span class=p>,</span> <span class=s2>&#34;total_amount&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;properties&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;order_id&#34;</span><span class=p>:</span> <span class=p>{</span> <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;string&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;customer_id&#34;</span><span class=p>:</span> <span class=p>{</span> <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;string&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;items&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;array&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;items&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;object&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;required&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;product_id&#34;</span><span class=p>,</span> <span class=s2>&#34;quantity&#34;</span><span class=p>,</span> <span class=s2>&#34;price&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;properties&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=nt>&#34;product_id&#34;</span><span class=p>:</span> <span class=p>{</span> <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;string&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>              <span class=nt>&#34;quantity&#34;</span><span class=p>:</span> <span class=p>{</span> <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;integer&#34;</span><span class=p>,</span> <span class=nt>&#34;minimum&#34;</span><span class=p>:</span> <span class=mi>1</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>              <span class=nt>&#34;price&#34;</span><span class=p>:</span> <span class=p>{</span> <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;number&#34;</span><span class=p>,</span> <span class=nt>&#34;minimum&#34;</span><span class=p>:</span> <span class=mi>0</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;total_amount&#34;</span><span class=p>:</span> <span class=p>{</span> <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;number&#34;</span><span class=p>,</span> <span class=nt>&#34;minimum&#34;</span><span class=p>:</span> <span class=mi>0</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=이벤트-기반-api-문서화>이벤트 기반 API 문서화<a hidden class=anchor aria-hidden=true href=#이벤트-기반-api-문서화>#</a></h5><p>이벤트 기반 API 의 효과적인 문서화는 이벤트 타입, 페이로드 구조, 발생 조건 등을 명확하게 설명해야 한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-38-1><a class=lnlinks href=#hl-38-1> 1</a>
</span><span class=lnt id=hl-38-2><a class=lnlinks href=#hl-38-2> 2</a>
</span><span class=lnt id=hl-38-3><a class=lnlinks href=#hl-38-3> 3</a>
</span><span class=lnt id=hl-38-4><a class=lnlinks href=#hl-38-4> 4</a>
</span><span class=lnt id=hl-38-5><a class=lnlinks href=#hl-38-5> 5</a>
</span><span class=lnt id=hl-38-6><a class=lnlinks href=#hl-38-6> 6</a>
</span><span class=lnt id=hl-38-7><a class=lnlinks href=#hl-38-7> 7</a>
</span><span class=lnt id=hl-38-8><a class=lnlinks href=#hl-38-8> 8</a>
</span><span class=lnt id=hl-38-9><a class=lnlinks href=#hl-38-9> 9</a>
</span><span class=lnt id=hl-38-10><a class=lnlinks href=#hl-38-10>10</a>
</span><span class=lnt id=hl-38-11><a class=lnlinks href=#hl-38-11>11</a>
</span><span class=lnt id=hl-38-12><a class=lnlinks href=#hl-38-12>12</a>
</span><span class=lnt id=hl-38-13><a class=lnlinks href=#hl-38-13>13</a>
</span><span class=lnt id=hl-38-14><a class=lnlinks href=#hl-38-14>14</a>
</span><span class=lnt id=hl-38-15><a class=lnlinks href=#hl-38-15>15</a>
</span><span class=lnt id=hl-38-16><a class=lnlinks href=#hl-38-16>16</a>
</span><span class=lnt id=hl-38-17><a class=lnlinks href=#hl-38-17>17</a>
</span><span class=lnt id=hl-38-18><a class=lnlinks href=#hl-38-18>18</a>
</span><span class=lnt id=hl-38-19><a class=lnlinks href=#hl-38-19>19</a>
</span><span class=lnt id=hl-38-20><a class=lnlinks href=#hl-38-20>20</a>
</span><span class=lnt id=hl-38-21><a class=lnlinks href=#hl-38-21>21</a>
</span><span class=lnt id=hl-38-22><a class=lnlinks href=#hl-38-22>22</a>
</span><span class=lnt id=hl-38-23><a class=lnlinks href=#hl-38-23>23</a>
</span><span class=lnt id=hl-38-24><a class=lnlinks href=#hl-38-24>24</a>
</span><span class=lnt id=hl-38-25><a class=lnlinks href=#hl-38-25>25</a>
</span><span class=lnt id=hl-38-26><a class=lnlinks href=#hl-38-26>26</a>
</span><span class=lnt id=hl-38-27><a class=lnlinks href=#hl-38-27>27</a>
</span><span class=lnt id=hl-38-28><a class=lnlinks href=#hl-38-28>28</a>
</span><span class=lnt id=hl-38-29><a class=lnlinks href=#hl-38-29>29</a>
</span><span class=lnt id=hl-38-30><a class=lnlinks href=#hl-38-30>30</a>
</span><span class=lnt id=hl-38-31><a class=lnlinks href=#hl-38-31>31</a>
</span><span class=lnt id=hl-38-32><a class=lnlinks href=#hl-38-32>32</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># AsyncAPI 명세 예시</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>asyncapi</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;2.4.0&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>info</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>주문 관리 시스템 이벤트 API</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;1.0.0&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>주문 처리 워크플로우에서 발생하는 이벤트</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>channels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>order/events</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>publish</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=l>주문 관련 이벤트를 발행하는 채널</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>operationId</span><span class=p>:</span><span class=w> </span><span class=l>publishOrderEvent</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>message</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>oneOf</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=nt>$ref</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;#/components/messages/OrderCreated&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=nt>$ref</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;#/components/messages/OrderPaid&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=nt>$ref</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;#/components/messages/OrderShipped&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>components</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>messages</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>OrderCreated</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>order.created</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>주문 생성 이벤트</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>contentType</span><span class=p>:</span><span class=w> </span><span class=l>application/json</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>payload</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>$ref</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;#/components/schemas/OrderCreatedPayload&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>schemas</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>OrderCreatedPayload</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>object</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>properties</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>order_id</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>생성된 주문의 고유 식별자</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c># 추가 필드...</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=멱등성-idempotency-보장>멱등성 (Idempotency) 보장<a hidden class=anchor aria-hidden=true href=#멱등성-idempotency-보장>#</a></h5><p>동일 이벤트가 중복 처리되는 것을 방지하기 위한 멱등성 구현은 이벤트 기반 시스템에서 중요하다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-39-1><a class=lnlinks href=#hl-39-1> 1</a>
</span><span class=lnt id=hl-39-2><a class=lnlinks href=#hl-39-2> 2</a>
</span><span class=lnt id=hl-39-3><a class=lnlinks href=#hl-39-3> 3</a>
</span><span class=lnt id=hl-39-4><a class=lnlinks href=#hl-39-4> 4</a>
</span><span class=lnt id=hl-39-5><a class=lnlinks href=#hl-39-5> 5</a>
</span><span class=lnt id=hl-39-6><a class=lnlinks href=#hl-39-6> 6</a>
</span><span class=lnt id=hl-39-7><a class=lnlinks href=#hl-39-7> 7</a>
</span><span class=lnt id=hl-39-8><a class=lnlinks href=#hl-39-8> 8</a>
</span><span class=lnt id=hl-39-9><a class=lnlinks href=#hl-39-9> 9</a>
</span><span class=lnt id=hl-39-10><a class=lnlinks href=#hl-39-10>10</a>
</span><span class=lnt id=hl-39-11><a class=lnlinks href=#hl-39-11>11</a>
</span><span class=lnt id=hl-39-12><a class=lnlinks href=#hl-39-12>12</a>
</span><span class=lnt id=hl-39-13><a class=lnlinks href=#hl-39-13>13</a>
</span><span class=lnt id=hl-39-14><a class=lnlinks href=#hl-39-14>14</a>
</span><span class=lnt id=hl-39-15><a class=lnlinks href=#hl-39-15>15</a>
</span><span class=lnt id=hl-39-16><a class=lnlinks href=#hl-39-16>16</a>
</span><span class=lnt id=hl-39-17><a class=lnlinks href=#hl-39-17>17</a>
</span><span class=lnt id=hl-39-18><a class=lnlinks href=#hl-39-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 멱등성 처리 예시 (Python)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>process_order_event</span><span class=p>(</span><span class=n>event</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>event_id</span> <span class=o>=</span> <span class=n>event</span><span class=p>[</span><span class=s1>&#39;event_id&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 이미 처리된 이벤트인지 확인</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>redis_client</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;processed_event:</span><span class=si>{</span><span class=n>event_id</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;이벤트 </span><span class=si>{</span><span class=n>event_id</span><span class=si>}</span><span class=s2>는 이미 처리되었습니다. 건너뜁니다.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 이벤트 처리 로직</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>event</span><span class=p>[</span><span class=s1>&#39;event_type&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;order.created&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>process_new_order</span><span class=p>(</span><span class=n>event</span><span class=p>[</span><span class=s1>&#39;data&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 처리 완료 표시 (24시간 동안 유지)</span>
</span></span><span class=line><span class=cl>        <span class=n>redis_client</span><span class=o>.</span><span class=n>setex</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;processed_event:</span><span class=si>{</span><span class=n>event_id</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>,</span> <span class=mi>86400</span><span class=p>,</span> <span class=s2>&#34;1&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;이벤트 처리 실패: </span><span class=si>{</span><span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=이벤트-기반-아키텍처의-실제-활용-사례>이벤트 기반 아키텍처의 실제 활용 사례<a hidden class=anchor aria-hidden=true href=#이벤트-기반-아키텍처의-실제-활용-사례>#</a></h4><ol><li><p>마이크로서비스 간 통합<br>여러 마이크로서비스가 이벤트를 통해 느슨하게 결합되어 독립적으로 개발, 배포, 확장될 수 있다.</p></li><li><p>실시간 대시보드 및 분석<br>시스템에서 발생하는 이벤트를 실시간으로 수집, 분석하여 비즈니스 인사이트를 제공한다.</p></li><li><p>IoT 애플리케이션<br>수많은 IoT 장치에서 생성되는 센서 데이터를 이벤트로 처리하여 확장성 있는 시스템을 구축한다.</p></li></ol><h4 id=이벤트-기반-아키텍처의-장점>이벤트 기반 아키텍처의 장점<a hidden class=anchor aria-hidden=true href=#이벤트-기반-아키텍처의-장점>#</a></h4><ol><li><p>느슨한 결합 (Loose Coupling)<br>서비스 간의 직접적인 의존성을 제거하여 변경이 다른 서비스에 미치는 영향을 최소화한다.</p></li><li><p>확장성 (Scalability)<br>이벤트 소비자를 독립적으로 확장할 수 있으며, 새로운 기능을 기존 시스템에 영향 없이 추가할 수 있다.</p></li><li><p>회복력 (Resilience)<br>서비스 간 비동기 통신으로 일부 서비스 장애가 전체 시스템에 미치는 영향을 제한한다.</p></li><li><p>실시간 처리 (Real-time Processing)<br>이벤트가 발생하는 즉시 처리하여 실시간 반응성을 제공한다.</p></li></ol><h4 id=이벤트-기반-아키텍처의-과제와-해결-방안>이벤트 기반 아키텍처의 과제와 해결 방안<a hidden class=anchor aria-hidden=true href=#이벤트-기반-아키텍처의-과제와-해결-방안>#</a></h4><ol><li><p>복잡성 관리<br><strong>과제:</strong> 이벤트 흐름이 복잡해지면 시스템 동작 이해와 디버깅이 어려워질 수 있다.<br><strong>해결 방안:</strong></p><ul><li>이벤트 스키마 레지스트리 구축</li><li>분산 추적 (Distributed Tracing) 시스템 도입</li><li>이벤트 흐름 시각화 도구 활용</li></ul></li><li><p>이벤트 순서 보장<br><strong>과제:</strong> 분산 시스템에서 이벤트 순서 보장이 어려울 수 있다.<br><strong>해결 방안:</strong></p><ul><li>이벤트에 순차적 번호나 타임스탬프 포함</li><li>단일 파티션 키를 사용하여 관련 이벤트의 순서 보장</li><li>이벤트 소싱 패턴 적용</li></ul></li><li><p>데이터 일관성<br><strong>과제:</strong> 분산 시스템에서 즉각적인 일관성 달성이 어려울 수 있다.<br><strong>해결 방안:</strong></p><ul><li>결과적 일관성 (Eventual Consistency) 모델 채택</li><li>SAGA 패턴을 통한 분산 트랜잭션 관리</li><li>보상 트랜잭션 (Compensating Transaction) 구현</li></ul></li></ol><h4 id=이벤트-기반-아키텍처-구현을-위한-기술-스택>이벤트 기반 아키텍처 구현을 위한 기술 스택<a hidden class=anchor aria-hidden=true href=#이벤트-기반-아키텍처-구현을-위한-기술-스택>#</a></h4><h5 id=메시지-브로커-및-이벤트-스트리밍-플랫폼>메시지 브로커 및 이벤트 스트리밍 플랫폼<a hidden class=anchor aria-hidden=true href=#메시지-브로커-및-이벤트-스트리밍-플랫폼>#</a></h5><ul><li>Apache Kafka: 고성능 분산 이벤트 스트리밍 플랫폼</li><li>RabbitMQ: 다양한 메시징 패턴을 지원하는 메시지 브로커</li><li>Amazon SNS/SQS: AWS 의 메시징 서비스</li><li>Google Pub/Sub: GCP 의 메시징 서비스</li></ul><h5 id=이벤트-처리-프레임워크>이벤트 처리 프레임워크<a hidden class=anchor aria-hidden=true href=#이벤트-처리-프레임워크>#</a></h5><ul><li>Spring Cloud Stream: 스프링 기반 이벤트 처리 추상화</li><li>Akka: 액터 모델 기반 분산 이벤트 처리</li><li>Apache Flink: 스트림 처리 및 이벤트 시간 처리</li><li>Serverless Functions: AWS Lambda, Google Cloud Functions 등</li></ul><h5 id=이벤트-스키마-관리>이벤트 스키마 관리<a hidden class=anchor aria-hidden=true href=#이벤트-스키마-관리>#</a></h5><ul><li>Schema Registry: 이벤트 스키마 버전 관리</li><li>Protocol Buffers, Avro: 효율적인 이벤트 직렬화/역직렬화</li><li>AsyncAPI: 이벤트 기반 API 명세</li></ul><hr><h3 id=용어-정리-5>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-5>#</a></h3><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><hr><h3 id=참고-및-출처-5>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-5>#</a></h3></div><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Event-Driven Pattern</h2></header><div class=entry-content><p>Event-Driven Pattern 이 패턴은 시스템의 상태 변화를 이벤트로 표현하고, 이를 기반으로 서비스 간 통신을 구현하는 방식이다.
Event-Driven Pattern은 시스템에서 발생하는 중요한 변화나 행동을 이벤트로 정의하고, 이를 중심으로 시스템을 설계하는 아키텍처 패턴이다.
이 패턴에서는 이벤트의 생성, 전파, 처리가 시스템의 핵심 동작이 된다.
주요 특징:
비동기 통신을 기반으로 함 서비스 간 느슨한 결합 제공 실시간 데이터 처리와 반응성 향상 확장성과 유연성 증대 주요 구성 요소 Event-Driven Pattern의 주요 구성 요소는 다음과 같다:
...</p></div><footer class=entry-footer><span title='2024-12-28 10:05:00 +0000 UTC'>December 28, 2024</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Event-Driven Pattern" href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/architecture-styles-and-patterns/architecture-styles/messaging-oriented/event-driven-architecture/event-driven-pattern/></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>