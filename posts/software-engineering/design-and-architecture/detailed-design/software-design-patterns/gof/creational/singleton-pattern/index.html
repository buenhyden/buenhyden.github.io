<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Singleton Pattern | hyunyoun's Blog</title><meta name=keywords content="System-and-Software-Architecture,Design-Patterns,GoF,Creational,Singleton-Pattern,lazy-initialization"><meta name=description content="클래스의 인스턴스가 프로그램 전체에서 오직 하나만 생성되도록 보장하는 소프트웨어 디자인 패턴."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/detailed-design/software-design-patterns/gof/creational/singleton-pattern/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/detailed-design/software-design-patterns/gof/creational/singleton-pattern/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/detailed-design/software-design-patterns/gof/creational/singleton-pattern/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/software-engineering/design-and-architecture/detailed-design/software-design-patterns/gof/creational/singleton-pattern/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Singleton Pattern"><meta property="og:description" content="클래스의 인스턴스가 프로그램 전체에서 오직 하나만 생성되도록 보장하는 소프트웨어 디자인 패턴."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Singleton Pattern"><meta name=twitter:description content="클래스의 인스턴스가 프로그램 전체에서 오직 하나만 생성되도록 보장하는 소프트웨어 디자인 패턴."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Singleton Pattern","item":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/detailed-design/software-design-patterns/gof/creational/singleton-pattern/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a></div><h1>Singleton Pattern</h1><div class=post-description>클래스의 인스턴스가 프로그램 전체에서 오직 하나만 생성되도록 보장하는 소프트웨어 디자인 패턴.</div></header><div class=post-content><h2 id=singleton-pattern>Singleton Pattern<a hidden class=anchor aria-hidden=true href=#singleton-pattern>#</a></h2><p>클래스의 인스턴스가 프로그램 전체에서 오직 하나만 생성되도록 보장하는 소프트웨어 디자인 패턴.<br>공유 리소스나 전역 상태를 관리할 때 특히 유용하다.</p><h3 id=특징>특징<a hidden class=anchor aria-hidden=true href=#특징>#</a></h3><ul><li>클래스는 자신의 유일한 인스턴스를 직접 관리합니다.</li><li>전역적인 접근점을 제공합니다.</li><li>인스턴스의 생성을 지연시킬 수 있습니다 (lazy initialization).</li><li>생성자가 private 이나 protected 로 선언되어 외부에서 직접 인스턴스를 생성할 수 없습니다.</li></ul><h4 id=지연-초기화-lazy-initialization>지연 초기화 (lazy initialization)<a hidden class=anchor aria-hidden=true href=#지연-초기화-lazy-initialization>#</a></h4><p>객체의 생성이나 값의 계산 또는 비용이 많이 드는 프로세스를 필요한 시점까지 미루는 프로그래밍 기법<br>리소스를 많이 사용하는 객체나 초기화에 시간이 많이 걸리는 객체를 다룰 대 유용하다.<br>특정 프로그래밍 패<br>사용 사례:</p><ol><li><p>데이터베이스 연결</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3>3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4>4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5>5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6>6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7>7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8>8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Database</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_connection</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@property</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>connection</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_connection</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_connection</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_create_connection</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_connection</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>설정 로딩</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2>2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3>3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4>4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5>5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6>6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7>7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8>8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Configuration</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_settings</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@property</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>settings</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_settings</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_settings</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_load_settings</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_settings</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>이미지 처리</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1> 1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2> 2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3> 3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4> 4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5> 5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6> 6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7> 7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8> 8</a>
</span><span class=lnt id=hl-2-9><a class=lnlinks href=#hl-2-9> 9</a>
</span><span class=lnt id=hl-2-10><a class=lnlinks href=#hl-2-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>ImageProcessor</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>path</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>path</span> <span class=o>=</span> <span class=n>path</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_image</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@property</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>image</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_image</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_image</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_load_image</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_image</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><p>장점:<br>4. 성능 최적화<br>- 초기 로딩 시간 단축<br>- 메모리 사용량 감소<br>- 불필요한 연산 방지<br>5. 리소스 효율성<br>- 필요한 시점에만 리소스 할당<br>- 시스템 자원의 효율적 사용<br>- 에너지 효율성 향상<br>6. 사용성 향상<br>- 애플리케이션 응답성 개선<br>- 사용자 경험 향상</p><p>단점:</p><ol><li>복잡성 증가<ul><li>코드 구조가 복잡해질 수 있음</li><li>디버깅이 어려워질 수 있음</li></ul></li><li>성능 오버헤드<ul><li>초기화 시점의 지연</li><li>추가적인 검사 로직 필요</li></ul></li><li>동시성 이슈<ul><li>스레드 안전성 고려 필요</li><li>동기화 메커니즘 구현 필요</li></ul></li></ol><p>주의사항 및 고려사항:</p><ol><li><strong>스레드 안전성:</strong><ul><li>동기화 메커니즘 필요성 검토</li><li>데드락 방지 전략 수립</li><li>원자성 보장 방안 고려</li></ul></li><li><strong>메모리 관리:</strong><ul><li>메모리 누수 방지</li><li>캐시 크기 제한</li><li>주기적인 리소스 정리</li></ul></li><li><strong>예외 처리:</strong><ul><li>초기화 실패 대응</li><li>재시도 메커니즘 구현</li><li>오류 상태 전파 방식</li></ul></li><li><strong>성능 모니터링:</strong><ul><li>초기화 시간 측정</li><li>메모리 사용량 추적</li><li>캐시 히트율 모니터링</li></ul></li></ol><p>최적화 기법:</p><ol><li><p>필요한 경우에만 사용: 실제로 이점이 있는 경우에만 사용한다.</p></li><li><p>프로파일링: 애플리케이션의 성능을 모니터링하고 분석하여 최적의 지연 초기화 지점을 찾는다.</p></li><li><p>캐싱 전략: 한 번 초기화된 값을 캐시하여 재사용한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2>2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3>3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4>4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5>5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6>6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>functools</span> <span class=kn>import</span> <span class=n>lru_cache</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DataProcessor</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nd>@lru_cache</span><span class=p>(</span><span class=n>maxsize</span><span class=o>=</span><span class=mi>128</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># 복잡한 처리 로직</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;Processed </span><span class=si>{</span><span class=n>data</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>Weak Reference 사용:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1> 1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2> 2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3> 3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4> 4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5> 5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6> 6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7> 7</a>
</span><span class=lnt id=hl-4-8><a class=lnlinks href=#hl-4-8> 8</a>
</span><span class=lnt id=hl-4-9><a class=lnlinks href=#hl-4-9> 9</a>
</span><span class=lnt id=hl-4-10><a class=lnlinks href=#hl-4-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>weakref</span> <span class=kn>import</span> <span class=n>WeakKeyDictionary</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CacheManager</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span> <span class=o>=</span> <span class=n>WeakKeyDictionary</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>key</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_load_data</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span><span class=p>[</span><span class=n>key</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>Batch Loading:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1> 1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2> 2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3> 3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4> 4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5> 5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6> 6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7> 7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8> 8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9> 9</a>
</span><span class=lnt id=hl-5-10><a class=lnlinks href=#hl-5-10>10</a>
</span><span class=lnt id=hl-5-11><a class=lnlinks href=#hl-5-11>11</a>
</span><span class=lnt id=hl-5-12><a class=lnlinks href=#hl-5-12>12</a>
</span><span class=lnt id=hl-5-13><a class=lnlinks href=#hl-5-13>13</a>
</span><span class=lnt id=hl-5-14><a class=lnlinks href=#hl-5-14>14</a>
</span><span class=lnt id=hl-5-15><a class=lnlinks href=#hl-5-15>15</a>
</span><span class=lnt id=hl-5-16><a class=lnlinks href=#hl-5-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>BatchLoader</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_batch_size</span> <span class=o>=</span> <span class=mi>100</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_pending</span> <span class=o>=</span> <span class=nb>set</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_item</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=nb>id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nb>id</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_pending</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=nb>id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_pending</span><span class=p>)</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_batch_size</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>_load_batch</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=nb>id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_load_batch</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># 배치 로딩 로직</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=사용사례>사용사례<a hidden class=anchor aria-hidden=true href=#사용사례>#</a></h3><ul><li>데이터베이스 연결 관리</li><li>로깅 시스템</li><li>설정 관리</li><li>캐시 관리</li><li>프린터 스풀러와 같은 공유 리소스 관리</li><li>전역 상태 관리 (Redux store 등)</li></ul><h3 id=장점>장점<a hidden class=anchor aria-hidden=true href=#장점>#</a></h3><ul><li>인스턴스가 하나만 존재함을 보장하여 리소스 절약</li><li>전역 접근이 가능하여 어디서든 동일한 인스턴스에 접근 가능</li><li>지연 초기화를 통한 성능 최적화 가능</li><li>상태 공유가 필요한 경우 유용</li></ul><h3 id=단점>단점<a hidden class=anchor aria-hidden=true href=#단점>#</a></h3><ul><li>단일 책임 원칙 (SRP) 을 위반할 수 있음</li><li>전역 상태로 인한 코드의 결합도 증가</li><li>테스트가 어려울 수 있음</li><li>멀티스레드 환경에서 동기화 문제 발생 가능</li></ul><h3 id=주의사항-및-고려사항>주의사항 및 고려사항<a hidden class=anchor aria-hidden=true href=#주의사항-및-고려사항>#</a></h3><ul><li>멀티스레드 환경<ul><li>동시성 문제를 고려하여 적절한 동기화 메커니즘 구현 필요</li><li>Double-checked locking 패턴 등을 사용하여 성능 최적화</li></ul></li><li>테스트 용이성<ul><li>Mock 객체로 대체할 수 있는 방법 제공</li><li>의존성 주입을 고려한 설계</li></ul></li><li>유지보수성<ul><li>단일 책임 원칙을 최대한 지키도록 설계</li><li>과도한 전역 상태 사용 지양</li></ul></li><li>메모리 관리<ul><li>필요한 경우 인스턴스 해제 메커니즘 구현</li><li>리소스 누수 방지</li></ul></li><li>확장성<ul><li>향후 요구사항 변경을 고려한 유연한 설계</li><li>설정 변경이나 상태 관리를 위한 인터페이스 제공</li></ul></li></ul><h4 id=thread-safety>Thread Safety<a hidden class=anchor aria-hidden=true href=#thread-safety>#</a></h4><p>여러 스레드가 동시에 같은 리소스에 접근할 때도 프로그램이 정확하게 동작하도록 보장하는 것을 의미한다.<br>이를 위해 여러가지 방법이 존재한다.</p><ol><li><p>Eager Initialization (Early Loading)<br>클래스가 로드될 때 즉시 인스턴스를 생성한다.<br>프로그램 시작 시점에 인스턴스가 생성되므로 thread Safety 가 자연스럽게 보장된다.<br>장점:<br>- 구현이 매우 단순하다<br>- Thread safety 가 완벽하게 보장된다.<br>- 초기화 과정에서 예외가 발생할 수 있는 상황을 쉽게 처리할 수 있다.<br>단점:<br>- 인스턴스가 필요하지 않은 경우에도 메모리를 차지한다.<br>- 초기화에 많은 리소스가 필요한 경우 프로그램 시작 시간이 길어질 수 있다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a>
</span><span class=lnt id=hl-6-13><a class=lnlinks href=#hl-6-13>13</a>
</span><span class=lnt id=hl-6-14><a class=lnlinks href=#hl-6-14>14</a>
</span><span class=lnt id=hl-6-15><a class=lnlinks href=#hl-6-15>15</a>
</span><span class=lnt id=hl-6-16><a class=lnlinks href=#hl-6-16>16</a>
</span><span class=lnt id=hl-6-17><a class=lnlinks href=#hl-6-17>17</a>
</span><span class=lnt id=hl-6-18><a class=lnlinks href=#hl-6-18>18</a>
</span><span class=lnt id=hl-6-19><a class=lnlinks href=#hl-6-19>19</a>
</span><span class=lnt id=hl-6-20><a class=lnlinks href=#hl-6-20>20</a>
</span><span class=lnt id=hl-6-21><a class=lnlinks href=#hl-6-21>21</a>
</span><span class=lnt id=hl-6-22><a class=lnlinks href=#hl-6-22>22</a>
</span><span class=lnt id=hl-6-23><a class=lnlinks href=#hl-6-23>23</a>
</span><span class=lnt id=hl-6-24><a class=lnlinks href=#hl-6-24>24</a>
</span><span class=lnt id=hl-6-25><a class=lnlinks href=#hl-6-25>25</a>
</span><span class=lnt id=hl-6-26><a class=lnlinks href=#hl-6-26>26</a>
</span><span class=lnt id=hl-6-27><a class=lnlinks href=#hl-6-27>27</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>EagerSingleton</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># 클래스 로드 시점에 인스턴스 생성</span>
</span></span><span class=line><span class=cl>    <span class=n>_instance</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>EagerSingleton</span><span class=o>.</span><span class=n>_instance</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Initializing EagerSingleton&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>            <span class=n>EagerSingleton</span><span class=o>.</span><span class=n>_instance</span> <span class=o>=</span> <span class=bp>self</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@classmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_instance</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span> <span class=o>=</span> <span class=bp>cls</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용 예시</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>worker</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>singleton</span> <span class=o>=</span> <span class=n>EagerSingleton</span><span class=o>.</span><span class=n>get_instance</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Worker accessing singleton: </span><span class=si>{</span><span class=nb>id</span><span class=p>(</span><span class=n>singleton</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>threading</span>
</span></span><span class=line><span class=cl><span class=n>threads</span> <span class=o>=</span> <span class=p>[</span><span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>worker</span><span class=p>)</span> <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>)]</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>threads</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>t</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>threads</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>t</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1> 1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2> 2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3> 3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4> 4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5> 5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6> 6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7> 7</a>
</span><span class=lnt id=hl-7-8><a class=lnlinks href=#hl-7-8> 8</a>
</span><span class=lnt id=hl-7-9><a class=lnlinks href=#hl-7-9> 9</a>
</span><span class=lnt id=hl-7-10><a class=lnlinks href=#hl-7-10>10</a>
</span><span class=lnt id=hl-7-11><a class=lnlinks href=#hl-7-11>11</a>
</span><span class=lnt id=hl-7-12><a class=lnlinks href=#hl-7-12>12</a>
</span><span class=lnt id=hl-7-13><a class=lnlinks href=#hl-7-13>13</a>
</span><span class=lnt id=hl-7-14><a class=lnlinks href=#hl-7-14>14</a>
</span><span class=lnt id=hl-7-15><a class=lnlinks href=#hl-7-15>15</a>
</span><span class=lnt id=hl-7-16><a class=lnlinks href=#hl-7-16>16</a>
</span><span class=lnt id=hl-7-17><a class=lnlinks href=#hl-7-17>17</a>
</span><span class=lnt id=hl-7-18><a class=lnlinks href=#hl-7-18>18</a>
</span><span class=lnt id=hl-7-19><a class=lnlinks href=#hl-7-19>19</a>
</span><span class=lnt id=hl-7-20><a class=lnlinks href=#hl-7-20>20</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>class</span> <span class=nx>EagerSingleton</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>EagerSingleton</span><span class=p>.</span><span class=nx>instance</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>data</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>            <span class=nx>EagerSingleton</span><span class=p>.</span><span class=nx>instance</span> <span class=o>=</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>EagerSingleton</span><span class=p>.</span><span class=nx>instance</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 즉시 인스턴스 생성
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>instance</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>EagerSingleton</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nb>Object</span><span class=p>.</span><span class=nx>freeze</span><span class=p>(</span><span class=nx>instance</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=nx>instance</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 사용 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>singleton1</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;./eagerSingleton&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>singleton2</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;./eagerSingleton&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>singleton1</span> <span class=o>===</span> <span class=nx>singleton2</span><span class=p>);</span> <span class=c1>// true
</span></span></span></code></pre></td></tr></table></div></div></li><li><p>Lazy Initialization with Double-Checked Locking<br>인스턴스의 존재를 두 번 확인하여 락킹 오버헤드를 최소화하는 방식.<br>첫 번째 검사로 인스턴스가 이미 존재하는 경우 락을 획득하지 않는다.<br>장점:<br>- 필요한 시점에 인스턴스를 생성할 수 있다 (lazy initialization).<br>- 락킹 오버헤드를 최소화할 수 있다.<br>- 메모리 사용을 효율적으로 관리할 수 있다.<br>단점:<br>- 구현이 복잡하다.<br>- 일부 언어나 환경에서는 메모리 모델 때문에 완벽하게 동작하지 않을 수 있다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span><span class=lnt id=hl-8-11><a class=lnlinks href=#hl-8-11>11</a>
</span><span class=lnt id=hl-8-12><a class=lnlinks href=#hl-8-12>12</a>
</span><span class=lnt id=hl-8-13><a class=lnlinks href=#hl-8-13>13</a>
</span><span class=lnt id=hl-8-14><a class=lnlinks href=#hl-8-14>14</a>
</span><span class=lnt id=hl-8-15><a class=lnlinks href=#hl-8-15>15</a>
</span><span class=lnt id=hl-8-16><a class=lnlinks href=#hl-8-16>16</a>
</span><span class=lnt id=hl-8-17><a class=lnlinks href=#hl-8-17>17</a>
</span><span class=lnt id=hl-8-18><a class=lnlinks href=#hl-8-18>18</a>
</span><span class=lnt id=hl-8-19><a class=lnlinks href=#hl-8-19>19</a>
</span><span class=lnt id=hl-8-20><a class=lnlinks href=#hl-8-20>20</a>
</span><span class=lnt id=hl-8-21><a class=lnlinks href=#hl-8-21>21</a>
</span><span class=lnt id=hl-8-22><a class=lnlinks href=#hl-8-22>22</a>
</span><span class=lnt id=hl-8-23><a class=lnlinks href=#hl-8-23>23</a>
</span><span class=lnt id=hl-8-24><a class=lnlinks href=#hl-8-24>24</a>
</span><span class=lnt id=hl-8-25><a class=lnlinks href=#hl-8-25>25</a>
</span><span class=lnt id=hl-8-26><a class=lnlinks href=#hl-8-26>26</a>
</span><span class=lnt id=hl-8-27><a class=lnlinks href=#hl-8-27>27</a>
</span><span class=lnt id=hl-8-28><a class=lnlinks href=#hl-8-28>28</a>
</span><span class=lnt id=hl-8-29><a class=lnlinks href=#hl-8-29>29</a>
</span><span class=lnt id=hl-8-30><a class=lnlinks href=#hl-8-30>30</a>
</span><span class=lnt id=hl-8-31><a class=lnlinks href=#hl-8-31>31</a>
</span><span class=lnt id=hl-8-32><a class=lnlinks href=#hl-8-32>32</a>
</span><span class=lnt id=hl-8-33><a class=lnlinks href=#hl-8-33>33</a>
</span><span class=lnt id=hl-8-34><a class=lnlinks href=#hl-8-34>34</a>
</span><span class=lnt id=hl-8-35><a class=lnlinks href=#hl-8-35>35</a>
</span><span class=lnt id=hl-8-36><a class=lnlinks href=#hl-8-36>36</a>
</span><span class=lnt id=hl-8-37><a class=lnlinks href=#hl-8-37>37</a>
</span><span class=lnt id=hl-8-38><a class=lnlinks href=#hl-8-38>38</a>
</span><span class=lnt id=hl-8-39><a class=lnlinks href=#hl-8-39>39</a>
</span><span class=lnt id=hl-8-40><a class=lnlinks href=#hl-8-40>40</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>threading</span> <span class=kn>import</span> <span class=n>Lock</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DoubleCheckedSingleton</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>_instance</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>    <span class=n>_lock</span> <span class=o>=</span> <span class=n>Lock</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># 첫 번째 검사</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>with</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_lock</span><span class=p>:</span>  <span class=c1># 락 획득</span>
</span></span><span class=line><span class=cl>                <span class=c1># 두 번째 검사</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=ow>not</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Creating new instance&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># 초기화 코드가 한 번만 실행되도록 보장</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>hasattr</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=s1>&#39;initialized&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>_lock</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=ow>not</span> <span class=nb>hasattr</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=s1>&#39;initialized&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                    <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>                    <span class=bp>self</span><span class=o>.</span><span class=n>initialized</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>item</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>_lock</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용 예시</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>worker</span><span class=p>(</span><span class=nb>id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>singleton</span> <span class=o>=</span> <span class=n>DoubleCheckedSingleton</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>singleton</span><span class=o>.</span><span class=n>add_data</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Data from worker </span><span class=si>{</span><span class=nb>id</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Worker </span><span class=si>{</span><span class=nb>id</span><span class=si>}</span><span class=s2> using singleton: </span><span class=si>{</span><span class=nb>id</span><span class=p>(</span><span class=n>singleton</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>threading</span>
</span></span><span class=line><span class=cl><span class=n>threads</span> <span class=o>=</span> <span class=p>[</span><span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>worker</span><span class=p>,</span> <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=n>i</span><span class=p>,))</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>)]</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>threads</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>t</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>threads</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>t</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11>11</a>
</span><span class=lnt id=hl-9-12><a class=lnlinks href=#hl-9-12>12</a>
</span><span class=lnt id=hl-9-13><a class=lnlinks href=#hl-9-13>13</a>
</span><span class=lnt id=hl-9-14><a class=lnlinks href=#hl-9-14>14</a>
</span><span class=lnt id=hl-9-15><a class=lnlinks href=#hl-9-15>15</a>
</span><span class=lnt id=hl-9-16><a class=lnlinks href=#hl-9-16>16</a>
</span><span class=lnt id=hl-9-17><a class=lnlinks href=#hl-9-17>17</a>
</span><span class=lnt id=hl-9-18><a class=lnlinks href=#hl-9-18>18</a>
</span><span class=lnt id=hl-9-19><a class=lnlinks href=#hl-9-19>19</a>
</span><span class=lnt id=hl-9-20><a class=lnlinks href=#hl-9-20>20</a>
</span><span class=lnt id=hl-9-21><a class=lnlinks href=#hl-9-21>21</a>
</span><span class=lnt id=hl-9-22><a class=lnlinks href=#hl-9-22>22</a>
</span><span class=lnt id=hl-9-23><a class=lnlinks href=#hl-9-23>23</a>
</span><span class=lnt id=hl-9-24><a class=lnlinks href=#hl-9-24>24</a>
</span><span class=lnt id=hl-9-25><a class=lnlinks href=#hl-9-25>25</a>
</span><span class=lnt id=hl-9-26><a class=lnlinks href=#hl-9-26>26</a>
</span><span class=lnt id=hl-9-27><a class=lnlinks href=#hl-9-27>27</a>
</span><span class=lnt id=hl-9-28><a class=lnlinks href=#hl-9-28>28</a>
</span><span class=lnt id=hl-9-29><a class=lnlinks href=#hl-9-29>29</a>
</span><span class=lnt id=hl-9-30><a class=lnlinks href=#hl-9-30>30</a>
</span><span class=lnt id=hl-9-31><a class=lnlinks href=#hl-9-31>31</a>
</span><span class=lnt id=hl-9-32><a class=lnlinks href=#hl-9-32>32</a>
</span><span class=lnt id=hl-9-33><a class=lnlinks href=#hl-9-33>33</a>
</span><span class=lnt id=hl-9-34><a class=lnlinks href=#hl-9-34>34</a>
</span><span class=lnt id=hl-9-35><a class=lnlinks href=#hl-9-35>35</a>
</span><span class=lnt id=hl-9-36><a class=lnlinks href=#hl-9-36>36</a>
</span><span class=lnt id=hl-9-37><a class=lnlinks href=#hl-9-37>37</a>
</span><span class=lnt id=hl-9-38><a class=lnlinks href=#hl-9-38>38</a>
</span><span class=lnt id=hl-9-39><a class=lnlinks href=#hl-9-39>39</a>
</span><span class=lnt id=hl-9-40><a class=lnlinks href=#hl-9-40>40</a>
</span><span class=lnt id=hl-9-41><a class=lnlinks href=#hl-9-41>41</a>
</span><span class=lnt id=hl-9-42><a class=lnlinks href=#hl-9-42>42</a>
</span><span class=lnt id=hl-9-43><a class=lnlinks href=#hl-9-43>43</a>
</span><span class=lnt id=hl-9-44><a class=lnlinks href=#hl-9-44>44</a>
</span><span class=lnt id=hl-9-45><a class=lnlinks href=#hl-9-45>45</a>
</span><span class=lnt id=hl-9-46><a class=lnlinks href=#hl-9-46>46</a>
</span><span class=lnt id=hl-9-47><a class=lnlinks href=#hl-9-47>47</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>class</span> <span class=nx>DoubleCheckedSingleton</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;Use getInstance()&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>static</span> <span class=kr>async</span> <span class=nx>getInstance</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=k>this</span><span class=p>.</span><span class=nx>instance</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// 비동기 락 시뮬레이션
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=k>this</span><span class=p>.</span><span class=nx>lock</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>this</span><span class=p>.</span><span class=nx>lock</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>(</span><span class=kr>async</span> <span class=p>(</span><span class=nx>resolve</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=k>this</span><span class=p>.</span><span class=nx>instance</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Creating new instance&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                        <span class=k>this</span><span class=p>.</span><span class=nx>instance</span> <span class=o>=</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>create</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>prototype</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                        <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>initialize</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>instance</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                    <span class=p>}</span>
</span></span><span class=line><span class=cl>                    <span class=nx>resolve</span><span class=p>();</span>
</span></span><span class=line><span class=cl>                <span class=p>});</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>lock</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>instance</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>static</span> <span class=kr>async</span> <span class=nx>initialize</span><span class=p>(</span><span class=nx>instance</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>instance</span><span class=p>.</span><span class=nx>data</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>instance</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 사용 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>async</span> <span class=kd>function</span> <span class=nx>test</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 여러 비동기 작업 동시 실행
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kr>const</span> <span class=nx>instances</span> <span class=o>=</span> <span class=kr>await</span> <span class=nb>Promise</span><span class=p>.</span><span class=nx>all</span><span class=p>([</span>
</span></span><span class=line><span class=cl>            <span class=nx>DoubleCheckedSingleton</span><span class=p>.</span><span class=nx>getInstance</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>            <span class=nx>DoubleCheckedSingleton</span><span class=p>.</span><span class=nx>getInstance</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>            <span class=nx>DoubleCheckedSingleton</span><span class=p>.</span><span class=nx>getInstance</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// 모든 인스턴스가 동일한지 확인
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>instances</span><span class=p>.</span><span class=nx>every</span><span class=p>(</span><span class=nx>instance</span> <span class=p>=&gt;</span> <span class=nx>instance</span> <span class=o>===</span> <span class=nx>instances</span><span class=p>[</span><span class=mi>0</span><span class=p>]));</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>test</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>Thread-Safe Static Initialization<br>정적 초기화 블록을 사용하여 인스턴스를 생성한다.<br>대부분의 언어에서 정적 초기화의 thread safety 를 보장한다.<br>장점:<br>- 구현이 간단하다<br>- 언어 레벨에서 thread safety 를 보장한다.<br>- 예외 처리가 용이하다.<br>단점:<br>- 초기화 시점을 세밀하게 제어할 수 없다.<br>- 일부 언어에서는 지원하지 않을 수 있다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1> 1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2> 2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3> 3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4> 4</a>
</span><span class=lnt id=hl-10-5><a class=lnlinks href=#hl-10-5> 5</a>
</span><span class=lnt id=hl-10-6><a class=lnlinks href=#hl-10-6> 6</a>
</span><span class=lnt id=hl-10-7><a class=lnlinks href=#hl-10-7> 7</a>
</span><span class=lnt id=hl-10-8><a class=lnlinks href=#hl-10-8> 8</a>
</span><span class=lnt id=hl-10-9><a class=lnlinks href=#hl-10-9> 9</a>
</span><span class=lnt id=hl-10-10><a class=lnlinks href=#hl-10-10>10</a>
</span><span class=lnt id=hl-10-11><a class=lnlinks href=#hl-10-11>11</a>
</span><span class=lnt id=hl-10-12><a class=lnlinks href=#hl-10-12>12</a>
</span><span class=lnt id=hl-10-13><a class=lnlinks href=#hl-10-13>13</a>
</span><span class=lnt id=hl-10-14><a class=lnlinks href=#hl-10-14>14</a>
</span><span class=lnt id=hl-10-15><a class=lnlinks href=#hl-10-15>15</a>
</span><span class=lnt id=hl-10-16><a class=lnlinks href=#hl-10-16>16</a>
</span><span class=lnt id=hl-10-17><a class=lnlinks href=#hl-10-17>17</a>
</span><span class=lnt id=hl-10-18><a class=lnlinks href=#hl-10-18>18</a>
</span><span class=lnt id=hl-10-19><a class=lnlinks href=#hl-10-19>19</a>
</span><span class=lnt id=hl-10-20><a class=lnlinks href=#hl-10-20>20</a>
</span><span class=lnt id=hl-10-21><a class=lnlinks href=#hl-10-21>21</a>
</span><span class=lnt id=hl-10-22><a class=lnlinks href=#hl-10-22>22</a>
</span><span class=lnt id=hl-10-23><a class=lnlinks href=#hl-10-23>23</a>
</span><span class=lnt id=hl-10-24><a class=lnlinks href=#hl-10-24>24</a>
</span><span class=lnt id=hl-10-25><a class=lnlinks href=#hl-10-25>25</a>
</span><span class=lnt id=hl-10-26><a class=lnlinks href=#hl-10-26>26</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>StaticSingleton</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>class</span> <span class=nc>__StaticSingleton</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 정적 인스턴스</span>
</span></span><span class=line><span class=cl>    <span class=n>instance</span> <span class=o>=</span> <span class=n>__StaticSingleton</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__getattr__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>getattr</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>instance</span><span class=p>,</span> <span class=n>name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>item</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>instance</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용 예시</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>worker</span><span class=p>(</span><span class=nb>id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>singleton</span> <span class=o>=</span> <span class=n>StaticSingleton</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>singleton</span><span class=o>.</span><span class=n>add_data</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Data from worker </span><span class=si>{</span><span class=nb>id</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Worker </span><span class=si>{</span><span class=nb>id</span><span class=si>}</span><span class=s2> using singleton: </span><span class=si>{</span><span class=nb>id</span><span class=p>(</span><span class=n>singleton</span><span class=o>.</span><span class=n>instance</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>threading</span>
</span></span><span class=line><span class=cl><span class=n>threads</span> <span class=o>=</span> <span class=p>[</span><span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>worker</span><span class=p>,</span> <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=n>i</span><span class=p>,))</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>)]</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>threads</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>t</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>threads</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>t</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1> 1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2> 2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3> 3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4> 4</a>
</span><span class=lnt id=hl-11-5><a class=lnlinks href=#hl-11-5> 5</a>
</span><span class=lnt id=hl-11-6><a class=lnlinks href=#hl-11-6> 6</a>
</span><span class=lnt id=hl-11-7><a class=lnlinks href=#hl-11-7> 7</a>
</span><span class=lnt id=hl-11-8><a class=lnlinks href=#hl-11-8> 8</a>
</span><span class=lnt id=hl-11-9><a class=lnlinks href=#hl-11-9> 9</a>
</span><span class=lnt id=hl-11-10><a class=lnlinks href=#hl-11-10>10</a>
</span><span class=lnt id=hl-11-11><a class=lnlinks href=#hl-11-11>11</a>
</span><span class=lnt id=hl-11-12><a class=lnlinks href=#hl-11-12>12</a>
</span><span class=lnt id=hl-11-13><a class=lnlinks href=#hl-11-13>13</a>
</span><span class=lnt id=hl-11-14><a class=lnlinks href=#hl-11-14>14</a>
</span><span class=lnt id=hl-11-15><a class=lnlinks href=#hl-11-15>15</a>
</span><span class=lnt id=hl-11-16><a class=lnlinks href=#hl-11-16>16</a>
</span><span class=lnt id=hl-11-17><a class=lnlinks href=#hl-11-17>17</a>
</span><span class=lnt id=hl-11-18><a class=lnlinks href=#hl-11-18>18</a>
</span><span class=lnt id=hl-11-19><a class=lnlinks href=#hl-11-19>19</a>
</span><span class=lnt id=hl-11-20><a class=lnlinks href=#hl-11-20>20</a>
</span><span class=lnt id=hl-11-21><a class=lnlinks href=#hl-11-21>21</a>
</span><span class=lnt id=hl-11-22><a class=lnlinks href=#hl-11-22>22</a>
</span><span class=lnt id=hl-11-23><a class=lnlinks href=#hl-11-23>23</a>
</span><span class=lnt id=hl-11-24><a class=lnlinks href=#hl-11-24>24</a>
</span><span class=lnt id=hl-11-25><a class=lnlinks href=#hl-11-25>25</a>
</span><span class=lnt id=hl-11-26><a class=lnlinks href=#hl-11-26>26</a>
</span><span class=lnt id=hl-11-27><a class=lnlinks href=#hl-11-27>27</a>
</span><span class=lnt id=hl-11-28><a class=lnlinks href=#hl-11-28>28</a>
</span><span class=lnt id=hl-11-29><a class=lnlinks href=#hl-11-29>29</a>
</span><span class=lnt id=hl-11-30><a class=lnlinks href=#hl-11-30>30</a>
</span><span class=lnt id=hl-11-31><a class=lnlinks href=#hl-11-31>31</a>
</span><span class=lnt id=hl-11-32><a class=lnlinks href=#hl-11-32>32</a>
</span><span class=lnt id=hl-11-33><a class=lnlinks href=#hl-11-33>33</a>
</span><span class=lnt id=hl-11-34><a class=lnlinks href=#hl-11-34>34</a>
</span><span class=lnt id=hl-11-35><a class=lnlinks href=#hl-11-35>35</a>
</span><span class=lnt id=hl-11-36><a class=lnlinks href=#hl-11-36>36</a>
</span><span class=lnt id=hl-11-37><a class=lnlinks href=#hl-11-37>37</a>
</span><span class=lnt id=hl-11-38><a class=lnlinks href=#hl-11-38>38</a>
</span><span class=lnt id=hl-11-39><a class=lnlinks href=#hl-11-39>39</a>
</span><span class=lnt id=hl-11-40><a class=lnlinks href=#hl-11-40>40</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>StaticSingleton</span> <span class=o>=</span> <span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 클로저를 사용한 정적 초기화
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>instance</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>function</span> <span class=nx>createInstance</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>object</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Object</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=nx>object</span><span class=p>.</span><span class=nx>data</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>        <span class=nx>object</span><span class=p>.</span><span class=nx>addData</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>item</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>data</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>item</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>object</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>getInstance</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>instance</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>instance</span> <span class=o>=</span> <span class=nx>createInstance</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=nx>instance</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>})();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 사용 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>async</span> <span class=kd>function</span> <span class=nx>worker</span><span class=p>(</span><span class=nx>id</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>singleton</span> <span class=o>=</span> <span class=nx>StaticSingleton</span><span class=p>.</span><span class=nx>getInstance</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>singleton</span><span class=p>.</span><span class=nx>addData</span><span class=p>(</span><span class=sb>`Data from worker </span><span class=si>${</span><span class=nx>id</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Worker </span><span class=si>${</span><span class=nx>id</span><span class=si>}</span><span class=sb> using singleton`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>singleton</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 여러 작업 동시 실행
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>Promise</span><span class=p>.</span><span class=nx>all</span><span class=p>([</span>
</span></span><span class=line><span class=cl>    <span class=nx>worker</span><span class=p>(</span><span class=mi>1</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=nx>worker</span><span class=p>(</span><span class=mi>2</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=nx>worker</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>]).</span><span class=nx>then</span><span class=p>(</span><span class=nx>instances</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 모든 인스턴스가 동일한지 확인
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>instances</span><span class=p>.</span><span class=nx>every</span><span class=p>(</span><span class=nx>instance</span> <span class=p>=&gt;</span> <span class=nx>instance</span> <span class=o>===</span> <span class=nx>instances</span><span class=p>[</span><span class=mi>0</span><span class=p>]));</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=예시>예시<a hidden class=anchor aria-hidden=true href=#예시>#</a></h3><p>특징과 고려사항</p><ol><li>Thread Safety<ul><li>Python: Lock 을 사용한 동기화</li><li>Node.js: 이벤트 기반 비동기 처리</li></ul></li><li>리소스 관리<ul><li>안전한 연결 관리</li><li>메모리 누수 방지</li><li>자원 정리 메커니즘</li></ul></li><li>에러 처리<ul><li>상세한 로깅</li><li>예외 처리</li><li>재시도 메커니즘</li></ul></li><li>확장성<ul><li>이벤트 기반 통신</li><li>옵저버 패턴 통합</li><li>설정 변경 이력 관리</li></ul></li><li>테스트 용이성<ul><li>리셋 메커니즘 제공</li><li>상태 모니터링 기능</li><li>목 객체로 대체 가능한 구조</li></ul></li><li>유지보수성<ul><li>명확한 책임 분리</li><li>상세한 주석</li><li>타입 힌트 (Python)</li></ul></li></ol><h4 id=python>Python<a hidden class=anchor aria-hidden=true href=#python>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1>  1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2>  2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3>  3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4>  4</a>
</span><span class=lnt id=hl-12-5><a class=lnlinks href=#hl-12-5>  5</a>
</span><span class=lnt id=hl-12-6><a class=lnlinks href=#hl-12-6>  6</a>
</span><span class=lnt id=hl-12-7><a class=lnlinks href=#hl-12-7>  7</a>
</span><span class=lnt id=hl-12-8><a class=lnlinks href=#hl-12-8>  8</a>
</span><span class=lnt id=hl-12-9><a class=lnlinks href=#hl-12-9>  9</a>
</span><span class=lnt id=hl-12-10><a class=lnlinks href=#hl-12-10> 10</a>
</span><span class=lnt id=hl-12-11><a class=lnlinks href=#hl-12-11> 11</a>
</span><span class=lnt id=hl-12-12><a class=lnlinks href=#hl-12-12> 12</a>
</span><span class=lnt id=hl-12-13><a class=lnlinks href=#hl-12-13> 13</a>
</span><span class=lnt id=hl-12-14><a class=lnlinks href=#hl-12-14> 14</a>
</span><span class=lnt id=hl-12-15><a class=lnlinks href=#hl-12-15> 15</a>
</span><span class=lnt id=hl-12-16><a class=lnlinks href=#hl-12-16> 16</a>
</span><span class=lnt id=hl-12-17><a class=lnlinks href=#hl-12-17> 17</a>
</span><span class=lnt id=hl-12-18><a class=lnlinks href=#hl-12-18> 18</a>
</span><span class=lnt id=hl-12-19><a class=lnlinks href=#hl-12-19> 19</a>
</span><span class=lnt id=hl-12-20><a class=lnlinks href=#hl-12-20> 20</a>
</span><span class=lnt id=hl-12-21><a class=lnlinks href=#hl-12-21> 21</a>
</span><span class=lnt id=hl-12-22><a class=lnlinks href=#hl-12-22> 22</a>
</span><span class=lnt id=hl-12-23><a class=lnlinks href=#hl-12-23> 23</a>
</span><span class=lnt id=hl-12-24><a class=lnlinks href=#hl-12-24> 24</a>
</span><span class=lnt id=hl-12-25><a class=lnlinks href=#hl-12-25> 25</a>
</span><span class=lnt id=hl-12-26><a class=lnlinks href=#hl-12-26> 26</a>
</span><span class=lnt id=hl-12-27><a class=lnlinks href=#hl-12-27> 27</a>
</span><span class=lnt id=hl-12-28><a class=lnlinks href=#hl-12-28> 28</a>
</span><span class=lnt id=hl-12-29><a class=lnlinks href=#hl-12-29> 29</a>
</span><span class=lnt id=hl-12-30><a class=lnlinks href=#hl-12-30> 30</a>
</span><span class=lnt id=hl-12-31><a class=lnlinks href=#hl-12-31> 31</a>
</span><span class=lnt id=hl-12-32><a class=lnlinks href=#hl-12-32> 32</a>
</span><span class=lnt id=hl-12-33><a class=lnlinks href=#hl-12-33> 33</a>
</span><span class=lnt id=hl-12-34><a class=lnlinks href=#hl-12-34> 34</a>
</span><span class=lnt id=hl-12-35><a class=lnlinks href=#hl-12-35> 35</a>
</span><span class=lnt id=hl-12-36><a class=lnlinks href=#hl-12-36> 36</a>
</span><span class=lnt id=hl-12-37><a class=lnlinks href=#hl-12-37> 37</a>
</span><span class=lnt id=hl-12-38><a class=lnlinks href=#hl-12-38> 38</a>
</span><span class=lnt id=hl-12-39><a class=lnlinks href=#hl-12-39> 39</a>
</span><span class=lnt id=hl-12-40><a class=lnlinks href=#hl-12-40> 40</a>
</span><span class=lnt id=hl-12-41><a class=lnlinks href=#hl-12-41> 41</a>
</span><span class=lnt id=hl-12-42><a class=lnlinks href=#hl-12-42> 42</a>
</span><span class=lnt id=hl-12-43><a class=lnlinks href=#hl-12-43> 43</a>
</span><span class=lnt id=hl-12-44><a class=lnlinks href=#hl-12-44> 44</a>
</span><span class=lnt id=hl-12-45><a class=lnlinks href=#hl-12-45> 45</a>
</span><span class=lnt id=hl-12-46><a class=lnlinks href=#hl-12-46> 46</a>
</span><span class=lnt id=hl-12-47><a class=lnlinks href=#hl-12-47> 47</a>
</span><span class=lnt id=hl-12-48><a class=lnlinks href=#hl-12-48> 48</a>
</span><span class=lnt id=hl-12-49><a class=lnlinks href=#hl-12-49> 49</a>
</span><span class=lnt id=hl-12-50><a class=lnlinks href=#hl-12-50> 50</a>
</span><span class=lnt id=hl-12-51><a class=lnlinks href=#hl-12-51> 51</a>
</span><span class=lnt id=hl-12-52><a class=lnlinks href=#hl-12-52> 52</a>
</span><span class=lnt id=hl-12-53><a class=lnlinks href=#hl-12-53> 53</a>
</span><span class=lnt id=hl-12-54><a class=lnlinks href=#hl-12-54> 54</a>
</span><span class=lnt id=hl-12-55><a class=lnlinks href=#hl-12-55> 55</a>
</span><span class=lnt id=hl-12-56><a class=lnlinks href=#hl-12-56> 56</a>
</span><span class=lnt id=hl-12-57><a class=lnlinks href=#hl-12-57> 57</a>
</span><span class=lnt id=hl-12-58><a class=lnlinks href=#hl-12-58> 58</a>
</span><span class=lnt id=hl-12-59><a class=lnlinks href=#hl-12-59> 59</a>
</span><span class=lnt id=hl-12-60><a class=lnlinks href=#hl-12-60> 60</a>
</span><span class=lnt id=hl-12-61><a class=lnlinks href=#hl-12-61> 61</a>
</span><span class=lnt id=hl-12-62><a class=lnlinks href=#hl-12-62> 62</a>
</span><span class=lnt id=hl-12-63><a class=lnlinks href=#hl-12-63> 63</a>
</span><span class=lnt id=hl-12-64><a class=lnlinks href=#hl-12-64> 64</a>
</span><span class=lnt id=hl-12-65><a class=lnlinks href=#hl-12-65> 65</a>
</span><span class=lnt id=hl-12-66><a class=lnlinks href=#hl-12-66> 66</a>
</span><span class=lnt id=hl-12-67><a class=lnlinks href=#hl-12-67> 67</a>
</span><span class=lnt id=hl-12-68><a class=lnlinks href=#hl-12-68> 68</a>
</span><span class=lnt id=hl-12-69><a class=lnlinks href=#hl-12-69> 69</a>
</span><span class=lnt id=hl-12-70><a class=lnlinks href=#hl-12-70> 70</a>
</span><span class=lnt id=hl-12-71><a class=lnlinks href=#hl-12-71> 71</a>
</span><span class=lnt id=hl-12-72><a class=lnlinks href=#hl-12-72> 72</a>
</span><span class=lnt id=hl-12-73><a class=lnlinks href=#hl-12-73> 73</a>
</span><span class=lnt id=hl-12-74><a class=lnlinks href=#hl-12-74> 74</a>
</span><span class=lnt id=hl-12-75><a class=lnlinks href=#hl-12-75> 75</a>
</span><span class=lnt id=hl-12-76><a class=lnlinks href=#hl-12-76> 76</a>
</span><span class=lnt id=hl-12-77><a class=lnlinks href=#hl-12-77> 77</a>
</span><span class=lnt id=hl-12-78><a class=lnlinks href=#hl-12-78> 78</a>
</span><span class=lnt id=hl-12-79><a class=lnlinks href=#hl-12-79> 79</a>
</span><span class=lnt id=hl-12-80><a class=lnlinks href=#hl-12-80> 80</a>
</span><span class=lnt id=hl-12-81><a class=lnlinks href=#hl-12-81> 81</a>
</span><span class=lnt id=hl-12-82><a class=lnlinks href=#hl-12-82> 82</a>
</span><span class=lnt id=hl-12-83><a class=lnlinks href=#hl-12-83> 83</a>
</span><span class=lnt id=hl-12-84><a class=lnlinks href=#hl-12-84> 84</a>
</span><span class=lnt id=hl-12-85><a class=lnlinks href=#hl-12-85> 85</a>
</span><span class=lnt id=hl-12-86><a class=lnlinks href=#hl-12-86> 86</a>
</span><span class=lnt id=hl-12-87><a class=lnlinks href=#hl-12-87> 87</a>
</span><span class=lnt id=hl-12-88><a class=lnlinks href=#hl-12-88> 88</a>
</span><span class=lnt id=hl-12-89><a class=lnlinks href=#hl-12-89> 89</a>
</span><span class=lnt id=hl-12-90><a class=lnlinks href=#hl-12-90> 90</a>
</span><span class=lnt id=hl-12-91><a class=lnlinks href=#hl-12-91> 91</a>
</span><span class=lnt id=hl-12-92><a class=lnlinks href=#hl-12-92> 92</a>
</span><span class=lnt id=hl-12-93><a class=lnlinks href=#hl-12-93> 93</a>
</span><span class=lnt id=hl-12-94><a class=lnlinks href=#hl-12-94> 94</a>
</span><span class=lnt id=hl-12-95><a class=lnlinks href=#hl-12-95> 95</a>
</span><span class=lnt id=hl-12-96><a class=lnlinks href=#hl-12-96> 96</a>
</span><span class=lnt id=hl-12-97><a class=lnlinks href=#hl-12-97> 97</a>
</span><span class=lnt id=hl-12-98><a class=lnlinks href=#hl-12-98> 98</a>
</span><span class=lnt id=hl-12-99><a class=lnlinks href=#hl-12-99> 99</a>
</span><span class=lnt id=hl-12-100><a class=lnlinks href=#hl-12-100>100</a>
</span><span class=lnt id=hl-12-101><a class=lnlinks href=#hl-12-101>101</a>
</span><span class=lnt id=hl-12-102><a class=lnlinks href=#hl-12-102>102</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>threading</span> <span class=kn>import</span> <span class=n>Lock</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>logging</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Optional</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>datetime</span> <span class=kn>import</span> <span class=n>datetime</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DatabaseConnection</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    데이터베이스 연결을 관리하는 Singleton 클래스
</span></span></span><span class=line><span class=cl><span class=s2>    Thread-safe하고 지연 초기화를 지원합니다.
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>_instance</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=s1>&#39;DatabaseConnection&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>    <span class=n>_lock</span><span class=p>:</span> <span class=n>Lock</span> <span class=o>=</span> <span class=n>Lock</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>_logger</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>logging</span><span class=o>.</span><span class=n>Logger</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;DatabaseConnection&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># Double-checked locking pattern으로 thread safety 보장</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>with</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_lock</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 초기화가 한 번만 실행되도록 보장</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>hasattr</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=s1>&#39;_initialized&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>_lock</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=ow>not</span> <span class=nb>hasattr</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=s1>&#39;_initialized&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                    <span class=c1># 로깅 설정</span>
</span></span><span class=line><span class=cl>                    <span class=bp>self</span><span class=o>.</span><span class=n>_setup_logging</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                    
</span></span><span class=line><span class=cl>                    <span class=c1># 데이터베이스 설정</span>
</span></span><span class=line><span class=cl>                    <span class=bp>self</span><span class=o>.</span><span class=n>_connection</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>                    <span class=bp>self</span><span class=o>.</span><span class=n>_retry_count</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>                    <span class=bp>self</span><span class=o>.</span><span class=n>_max_retries</span> <span class=o>=</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl>                    <span class=bp>self</span><span class=o>.</span><span class=n>_last_connection_time</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>                    
</span></span><span class=line><span class=cl>                    <span class=c1># 설정 초기화</span>
</span></span><span class=line><span class=cl>                    <span class=bp>self</span><span class=o>.</span><span class=n>_config</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                        <span class=s1>&#39;host&#39;</span><span class=p>:</span> <span class=s1>&#39;localhost&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                        <span class=s1>&#39;port&#39;</span><span class=p>:</span> <span class=mi>5432</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                        <span class=s1>&#39;database&#39;</span><span class=p>:</span> <span class=s1>&#39;mydb&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                        <span class=s1>&#39;user&#39;</span><span class=p>:</span> <span class=s1>&#39;admin&#39;</span>
</span></span><span class=line><span class=cl>                    <span class=p>}</span>
</span></span><span class=line><span class=cl>                    
</span></span><span class=line><span class=cl>                    <span class=bp>self</span><span class=o>.</span><span class=n>_initialized</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>                    <span class=bp>self</span><span class=o>.</span><span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&#34;DatabaseConnection 인스턴스가 초기화되었습니다.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_setup_logging</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;로깅 설정을 초기화합니다.&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s1>&#39;DatabaseConnection&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>handler</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>StreamHandler</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>formatter</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>Formatter</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%(asctime)s</span><span class=s1> - </span><span class=si>%(name)s</span><span class=s1> - </span><span class=si>%(levelname)s</span><span class=s1> - </span><span class=si>%(message)s</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>handler</span><span class=o>.</span><span class=n>setFormatter</span><span class=p>(</span><span class=n>formatter</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_logger</span><span class=o>.</span><span class=n>addHandler</span><span class=p>(</span><span class=n>handler</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_logger</span><span class=o>.</span><span class=n>setLevel</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>INFO</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>connect</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        데이터베이스 연결을 수행합니다.
</span></span></span><span class=line><span class=cl><span class=s2>        재시도 메커니즘과 에러 처리가 포함되어 있습니다.
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>_lock</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_connection</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=c1># 실제 연결 로직은 여기에 구현</span>
</span></span><span class=line><span class=cl>                    <span class=bp>self</span><span class=o>.</span><span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&#34;데이터베이스에 연결 중...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=bp>self</span><span class=o>.</span><span class=n>_connection</span> <span class=o>=</span> <span class=s2>&#34;Connected&#34;</span>  <span class=c1># 실제로는 실제 연결 객체가 들어갑니다</span>
</span></span><span class=line><span class=cl>                    <span class=bp>self</span><span class=o>.</span><span class=n>_last_connection_time</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                    <span class=bp>self</span><span class=o>.</span><span class=n>_retry_count</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>                    <span class=k>return</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>            <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>_retry_count</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;연결 실패 (시도 </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>_retry_count</span><span class=si>}</span><span class=s2>/</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>_max_retries</span><span class=si>}</span><span class=s2>): </span><span class=si>{</span><span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_retry_count</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_max_retries</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=k>raise</span> <span class=ne>Exception</span><span class=p>(</span><span class=s2>&#34;최대 재시도 횟수를 초과했습니다.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>disconnect</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;안전한 연결 종료를 보장합니다.&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>_lock</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_connection</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=c1># 실제 연결 종료 로직</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>_connection</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>_last_connection_time</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&#34;데이터베이스 연결이 종료되었습니다.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_connection_status</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;현재 연결 상태 정보를 반환합니다.&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;connected&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>_connection</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;last_connection_time&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>_last_connection_time</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;retry_count&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>_retry_count</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;config&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>_config</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>  <span class=c1># 설정 정보의 안전한 복사본 반환</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 테스트를 위한 리셋 메서드</span>
</span></span><span class=line><span class=cl>    <span class=nd>@classmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_reset</span><span class=p>(</span><span class=bp>cls</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;테스트 목적으로만 사용되어야 합니다.&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span><span class=o>.</span><span class=n>disconnect</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span> <span class=o>=</span> <span class=kc>None</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=javascript>Javascript<a hidden class=anchor aria-hidden=true href=#javascript>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1>  1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2>  2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3>  3</a>
</span><span class=lnt id=hl-13-4><a class=lnlinks href=#hl-13-4>  4</a>
</span><span class=lnt id=hl-13-5><a class=lnlinks href=#hl-13-5>  5</a>
</span><span class=lnt id=hl-13-6><a class=lnlinks href=#hl-13-6>  6</a>
</span><span class=lnt id=hl-13-7><a class=lnlinks href=#hl-13-7>  7</a>
</span><span class=lnt id=hl-13-8><a class=lnlinks href=#hl-13-8>  8</a>
</span><span class=lnt id=hl-13-9><a class=lnlinks href=#hl-13-9>  9</a>
</span><span class=lnt id=hl-13-10><a class=lnlinks href=#hl-13-10> 10</a>
</span><span class=lnt id=hl-13-11><a class=lnlinks href=#hl-13-11> 11</a>
</span><span class=lnt id=hl-13-12><a class=lnlinks href=#hl-13-12> 12</a>
</span><span class=lnt id=hl-13-13><a class=lnlinks href=#hl-13-13> 13</a>
</span><span class=lnt id=hl-13-14><a class=lnlinks href=#hl-13-14> 14</a>
</span><span class=lnt id=hl-13-15><a class=lnlinks href=#hl-13-15> 15</a>
</span><span class=lnt id=hl-13-16><a class=lnlinks href=#hl-13-16> 16</a>
</span><span class=lnt id=hl-13-17><a class=lnlinks href=#hl-13-17> 17</a>
</span><span class=lnt id=hl-13-18><a class=lnlinks href=#hl-13-18> 18</a>
</span><span class=lnt id=hl-13-19><a class=lnlinks href=#hl-13-19> 19</a>
</span><span class=lnt id=hl-13-20><a class=lnlinks href=#hl-13-20> 20</a>
</span><span class=lnt id=hl-13-21><a class=lnlinks href=#hl-13-21> 21</a>
</span><span class=lnt id=hl-13-22><a class=lnlinks href=#hl-13-22> 22</a>
</span><span class=lnt id=hl-13-23><a class=lnlinks href=#hl-13-23> 23</a>
</span><span class=lnt id=hl-13-24><a class=lnlinks href=#hl-13-24> 24</a>
</span><span class=lnt id=hl-13-25><a class=lnlinks href=#hl-13-25> 25</a>
</span><span class=lnt id=hl-13-26><a class=lnlinks href=#hl-13-26> 26</a>
</span><span class=lnt id=hl-13-27><a class=lnlinks href=#hl-13-27> 27</a>
</span><span class=lnt id=hl-13-28><a class=lnlinks href=#hl-13-28> 28</a>
</span><span class=lnt id=hl-13-29><a class=lnlinks href=#hl-13-29> 29</a>
</span><span class=lnt id=hl-13-30><a class=lnlinks href=#hl-13-30> 30</a>
</span><span class=lnt id=hl-13-31><a class=lnlinks href=#hl-13-31> 31</a>
</span><span class=lnt id=hl-13-32><a class=lnlinks href=#hl-13-32> 32</a>
</span><span class=lnt id=hl-13-33><a class=lnlinks href=#hl-13-33> 33</a>
</span><span class=lnt id=hl-13-34><a class=lnlinks href=#hl-13-34> 34</a>
</span><span class=lnt id=hl-13-35><a class=lnlinks href=#hl-13-35> 35</a>
</span><span class=lnt id=hl-13-36><a class=lnlinks href=#hl-13-36> 36</a>
</span><span class=lnt id=hl-13-37><a class=lnlinks href=#hl-13-37> 37</a>
</span><span class=lnt id=hl-13-38><a class=lnlinks href=#hl-13-38> 38</a>
</span><span class=lnt id=hl-13-39><a class=lnlinks href=#hl-13-39> 39</a>
</span><span class=lnt id=hl-13-40><a class=lnlinks href=#hl-13-40> 40</a>
</span><span class=lnt id=hl-13-41><a class=lnlinks href=#hl-13-41> 41</a>
</span><span class=lnt id=hl-13-42><a class=lnlinks href=#hl-13-42> 42</a>
</span><span class=lnt id=hl-13-43><a class=lnlinks href=#hl-13-43> 43</a>
</span><span class=lnt id=hl-13-44><a class=lnlinks href=#hl-13-44> 44</a>
</span><span class=lnt id=hl-13-45><a class=lnlinks href=#hl-13-45> 45</a>
</span><span class=lnt id=hl-13-46><a class=lnlinks href=#hl-13-46> 46</a>
</span><span class=lnt id=hl-13-47><a class=lnlinks href=#hl-13-47> 47</a>
</span><span class=lnt id=hl-13-48><a class=lnlinks href=#hl-13-48> 48</a>
</span><span class=lnt id=hl-13-49><a class=lnlinks href=#hl-13-49> 49</a>
</span><span class=lnt id=hl-13-50><a class=lnlinks href=#hl-13-50> 50</a>
</span><span class=lnt id=hl-13-51><a class=lnlinks href=#hl-13-51> 51</a>
</span><span class=lnt id=hl-13-52><a class=lnlinks href=#hl-13-52> 52</a>
</span><span class=lnt id=hl-13-53><a class=lnlinks href=#hl-13-53> 53</a>
</span><span class=lnt id=hl-13-54><a class=lnlinks href=#hl-13-54> 54</a>
</span><span class=lnt id=hl-13-55><a class=lnlinks href=#hl-13-55> 55</a>
</span><span class=lnt id=hl-13-56><a class=lnlinks href=#hl-13-56> 56</a>
</span><span class=lnt id=hl-13-57><a class=lnlinks href=#hl-13-57> 57</a>
</span><span class=lnt id=hl-13-58><a class=lnlinks href=#hl-13-58> 58</a>
</span><span class=lnt id=hl-13-59><a class=lnlinks href=#hl-13-59> 59</a>
</span><span class=lnt id=hl-13-60><a class=lnlinks href=#hl-13-60> 60</a>
</span><span class=lnt id=hl-13-61><a class=lnlinks href=#hl-13-61> 61</a>
</span><span class=lnt id=hl-13-62><a class=lnlinks href=#hl-13-62> 62</a>
</span><span class=lnt id=hl-13-63><a class=lnlinks href=#hl-13-63> 63</a>
</span><span class=lnt id=hl-13-64><a class=lnlinks href=#hl-13-64> 64</a>
</span><span class=lnt id=hl-13-65><a class=lnlinks href=#hl-13-65> 65</a>
</span><span class=lnt id=hl-13-66><a class=lnlinks href=#hl-13-66> 66</a>
</span><span class=lnt id=hl-13-67><a class=lnlinks href=#hl-13-67> 67</a>
</span><span class=lnt id=hl-13-68><a class=lnlinks href=#hl-13-68> 68</a>
</span><span class=lnt id=hl-13-69><a class=lnlinks href=#hl-13-69> 69</a>
</span><span class=lnt id=hl-13-70><a class=lnlinks href=#hl-13-70> 70</a>
</span><span class=lnt id=hl-13-71><a class=lnlinks href=#hl-13-71> 71</a>
</span><span class=lnt id=hl-13-72><a class=lnlinks href=#hl-13-72> 72</a>
</span><span class=lnt id=hl-13-73><a class=lnlinks href=#hl-13-73> 73</a>
</span><span class=lnt id=hl-13-74><a class=lnlinks href=#hl-13-74> 74</a>
</span><span class=lnt id=hl-13-75><a class=lnlinks href=#hl-13-75> 75</a>
</span><span class=lnt id=hl-13-76><a class=lnlinks href=#hl-13-76> 76</a>
</span><span class=lnt id=hl-13-77><a class=lnlinks href=#hl-13-77> 77</a>
</span><span class=lnt id=hl-13-78><a class=lnlinks href=#hl-13-78> 78</a>
</span><span class=lnt id=hl-13-79><a class=lnlinks href=#hl-13-79> 79</a>
</span><span class=lnt id=hl-13-80><a class=lnlinks href=#hl-13-80> 80</a>
</span><span class=lnt id=hl-13-81><a class=lnlinks href=#hl-13-81> 81</a>
</span><span class=lnt id=hl-13-82><a class=lnlinks href=#hl-13-82> 82</a>
</span><span class=lnt id=hl-13-83><a class=lnlinks href=#hl-13-83> 83</a>
</span><span class=lnt id=hl-13-84><a class=lnlinks href=#hl-13-84> 84</a>
</span><span class=lnt id=hl-13-85><a class=lnlinks href=#hl-13-85> 85</a>
</span><span class=lnt id=hl-13-86><a class=lnlinks href=#hl-13-86> 86</a>
</span><span class=lnt id=hl-13-87><a class=lnlinks href=#hl-13-87> 87</a>
</span><span class=lnt id=hl-13-88><a class=lnlinks href=#hl-13-88> 88</a>
</span><span class=lnt id=hl-13-89><a class=lnlinks href=#hl-13-89> 89</a>
</span><span class=lnt id=hl-13-90><a class=lnlinks href=#hl-13-90> 90</a>
</span><span class=lnt id=hl-13-91><a class=lnlinks href=#hl-13-91> 91</a>
</span><span class=lnt id=hl-13-92><a class=lnlinks href=#hl-13-92> 92</a>
</span><span class=lnt id=hl-13-93><a class=lnlinks href=#hl-13-93> 93</a>
</span><span class=lnt id=hl-13-94><a class=lnlinks href=#hl-13-94> 94</a>
</span><span class=lnt id=hl-13-95><a class=lnlinks href=#hl-13-95> 95</a>
</span><span class=lnt id=hl-13-96><a class=lnlinks href=#hl-13-96> 96</a>
</span><span class=lnt id=hl-13-97><a class=lnlinks href=#hl-13-97> 97</a>
</span><span class=lnt id=hl-13-98><a class=lnlinks href=#hl-13-98> 98</a>
</span><span class=lnt id=hl-13-99><a class=lnlinks href=#hl-13-99> 99</a>
</span><span class=lnt id=hl-13-100><a class=lnlinks href=#hl-13-100>100</a>
</span><span class=lnt id=hl-13-101><a class=lnlinks href=#hl-13-101>101</a>
</span><span class=lnt id=hl-13-102><a class=lnlinks href=#hl-13-102>102</a>
</span><span class=lnt id=hl-13-103><a class=lnlinks href=#hl-13-103>103</a>
</span><span class=lnt id=hl-13-104><a class=lnlinks href=#hl-13-104>104</a>
</span><span class=lnt id=hl-13-105><a class=lnlinks href=#hl-13-105>105</a>
</span><span class=lnt id=hl-13-106><a class=lnlinks href=#hl-13-106>106</a>
</span><span class=lnt id=hl-13-107><a class=lnlinks href=#hl-13-107>107</a>
</span><span class=lnt id=hl-13-108><a class=lnlinks href=#hl-13-108>108</a>
</span><span class=lnt id=hl-13-109><a class=lnlinks href=#hl-13-109>109</a>
</span><span class=lnt id=hl-13-110><a class=lnlinks href=#hl-13-110>110</a>
</span><span class=lnt id=hl-13-111><a class=lnlinks href=#hl-13-111>111</a>
</span><span class=lnt id=hl-13-112><a class=lnlinks href=#hl-13-112>112</a>
</span><span class=lnt id=hl-13-113><a class=lnlinks href=#hl-13-113>113</a>
</span><span class=lnt id=hl-13-114><a class=lnlinks href=#hl-13-114>114</a>
</span><span class=lnt id=hl-13-115><a class=lnlinks href=#hl-13-115>115</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-node.js data-lang=node.js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>EventEmitter</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;events&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>logger</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;./logger&#39;</span><span class=p>);</span>  <span class=c1>// 가정된 로깅 모듈
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>ConfigManager</span> <span class=kr>extends</span> <span class=nx>EventEmitter</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Singleton 패턴 구현
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=nx>ConfigManager</span><span class=p>.</span><span class=nx>instance</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=nx>ConfigManager</span><span class=p>.</span><span class=nx>instance</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=kr>super</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=nx>ConfigManager</span><span class=p>.</span><span class=nx>instance</span> <span class=o>=</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 초기화
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>initialize</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>initialize</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 프라이빗 속성 정의
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>_config</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Map</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>_lastUpdate</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>_observers</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Set</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 설정 변경 이력
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>_history</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 기본 설정 로드
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>loadDefaults</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nx>logger</span><span class=p>.</span><span class=nx>info</span><span class=p>(</span><span class=s1>&#39;ConfigManager가 초기화되었습니다.&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>loadDefaults</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>defaults</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>environment</span><span class=o>:</span> <span class=nx>process</span><span class=p>.</span><span class=nx>env</span><span class=p>.</span><span class=nx>NODE_ENV</span> <span class=o>||</span> <span class=s1>&#39;development&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>port</span><span class=o>:</span> <span class=mi>3000</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>database</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>host</span><span class=o>:</span> <span class=s1>&#39;localhost&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>port</span><span class=o>:</span> <span class=mi>5432</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nb>Object</span><span class=p>.</span><span class=nx>entries</span><span class=p>(</span><span class=nx>defaults</span><span class=p>).</span><span class=nx>forEach</span><span class=p>(([</span><span class=nx>key</span><span class=p>,</span> <span class=nx>value</span><span class=p>])</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=nx>key</span><span class=p>,</span> <span class=nx>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>set</span><span class=p>(</span><span class=nx>key</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 값 변경 전 유효성 검사
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>validateValue</span><span class=p>(</span><span class=nx>key</span><span class=p>,</span> <span class=nx>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>oldValue</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>_config</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>key</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>_config</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=nx>key</span><span class=p>,</span> <span class=nx>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 변경 이력 기록
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>_history</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span>
</span></span><span class=line><span class=cl>            <span class=nx>timestamp</span><span class=o>:</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>            <span class=nx>key</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>oldValue</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>newValue</span><span class=o>:</span> <span class=nx>value</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>_lastUpdate</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 이벤트 발생
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>emit</span><span class=p>(</span><span class=s1>&#39;configChanged&#39;</span><span class=p>,</span> <span class=p>{</span> <span class=nx>key</span><span class=p>,</span> <span class=nx>oldValue</span><span class=p>,</span> <span class=nx>newValue</span><span class=o>:</span> <span class=nx>value</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nx>logger</span><span class=p>.</span><span class=nx>info</span><span class=p>(</span><span class=sb>`설정이 변경되었습니다: </span><span class=si>${</span><span class=nx>key</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>get</span><span class=p>(</span><span class=nx>key</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=k>this</span><span class=p>.</span><span class=nx>_config</span><span class=p>.</span><span class=nx>has</span><span class=p>(</span><span class=nx>key</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>logger</span><span class=p>.</span><span class=nx>warn</span><span class=p>(</span><span class=sb>`존재하지 않는 설정에 접근했습니다: </span><span class=si>${</span><span class=nx>key</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=kc>undefined</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 객체인 경우 깊은 복사본 반환
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kr>const</span> <span class=nx>value</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>_config</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>key</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>deepClone</span><span class=p>(</span><span class=nx>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>validateValue</span><span class=p>(</span><span class=nx>key</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 설정값 유효성 검사
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=nx>key</span> <span class=o>===</span> <span class=s1>&#39;port&#39;</span> <span class=o>&amp;&amp;</span> <span class=p>(</span><span class=k>typeof</span> <span class=nx>value</span> <span class=o>!==</span> <span class=s1>&#39;number&#39;</span> <span class=o>||</span> <span class=nx>value</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=o>||</span> <span class=nx>value</span> <span class=o>&gt;</span> <span class=mi>65535</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;포트 번호가 유효하지 않습니다.&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>addObserver</span><span class=p>(</span><span class=nx>observer</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>_observers</span><span class=p>.</span><span class=nx>add</span><span class=p>(</span><span class=nx>observer</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>logger</span><span class=p>.</span><span class=nx>info</span><span class=p>(</span><span class=s1>&#39;새로운 옵저버가 추가되었습니다.&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>removeObserver</span><span class=p>(</span><span class=nx>observer</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>_observers</span><span class=p>.</span><span class=k>delete</span><span class=p>(</span><span class=nx>observer</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>getHistory</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>[...</span><span class=k>this</span><span class=p>.</span><span class=nx>_history</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>deepClone</span><span class=p>(</span><span class=nx>obj</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>obj</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 테스트를 위한 리셋 메서드
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>static</span> <span class=nx>resetInstance</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>ConfigManager</span><span class=p>.</span><span class=nx>instance</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>ConfigManager</span><span class=p>.</span><span class=nx>instance</span><span class=p>.</span><span class=nx>removeAllListeners</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=nx>ConfigManager</span><span class=p>.</span><span class=nx>instance</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 모듈로 내보내기
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=nx>ConfigManager</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><hr><h3 id=1-주제의-분류가-적절한지에-대한-조사>1. 주제의 분류가 적절한지에 대한 조사<a hidden class=anchor aria-hidden=true href=#1-주제의-분류가-적절한지에-대한-조사>#</a></h3><p>Singleton Pattern(싱글톤 패턴) 은 &ldquo;Computer Science and Engineering > Software Design and Architecture > Software Design Patterns > GoF > Creational Design Patterns&rdquo; 분류에 완벽하게 부합합니다. GoF(Gang of Four) 에서 정의한 대표적인 생성 (Creational) 패턴 중 하나로, 인스턴스의 유일성을 보장하는 패턴입니다 [1][8][15].</p><hr><h3 id=2-200-자-요약>2. 200 자 요약<a hidden class=anchor aria-hidden=true href=#2-200-자-요약>#</a></h3><p>싱글톤 패턴은 클래스의 인스턴스를 단 하나만 생성하고, 어디서든 동일한 인스턴스에 접근할 수 있도록 보장하는 생성 패턴입니다. DB 연결, 설정, 로깅, 캐시 등 전역적으로 공유해야 하는 리소스 관리에 적합하며, 메모리 절약과 데이터 일관성을 확보할 수 있습니다 [1][2][3][6].</p><hr><h3 id=3-250-자-개요>3. 250 자 개요<a hidden class=anchor aria-hidden=true href=#3-250-자-개요>#</a></h3><p>싱글톤 패턴은 클래스 인스턴스가 오직 하나만 존재하도록 보장하고, 전역적으로 접근할 수 있는 인터페이스를 제공하는 생성 패턴입니다. 객체의 중복 생성을 방지해 메모리 사용을 최적화하고, 여러 모듈에서 동일한 인스턴스를 공유함으로써 데이터 일관성과 관리의 효율성을 높입니다. DB 커넥션 풀, 설정, 로깅, 캐시, 이벤트 버스 등 시스템 전반에 걸쳐 공통적으로 사용되는 객체 관리에 널리 활용됩니다. 멀티스레드 환경에서는 동기화와 성능 저하, 테스트 어려움 등 주의가 필요합니다 [1][3][4][6][8].</p><hr><h2 id=핵심-개념>핵심 개념<a hidden class=anchor aria-hidden=true href=#핵심-개념>#</a></h2><ul><li><strong>정의</strong>: 싱글톤 패턴은 클래스의 인스턴스를 단 하나만 생성하고, 전역적으로 접근할 수 있도록 보장하는 생성 패턴입니다 [1][2][3][4][9][16].</li><li><strong>목적 및 필요성</strong>: 중복 인스턴스 생성을 방지해 메모리 절약, 데이터 일관성 확보, 전역적 리소스 관리, 의존성 단순화 [1][3][4][6][8][14].</li><li><strong>주요 기능 및 역할</strong>:<ul><li>인스턴스의 유일성 보장</li><li>전역 접근 인터페이스 제공</li><li>리소스 관리 효율화</li></ul></li><li><strong>특징</strong>:<ul><li>private 생성자, static 인스턴스, getInstance() 메서드 [1][2][7][16][18]</li><li>메모리 절약, 전역 데이터 공유, 객체 재사용</li></ul></li><li><strong>핵심 원칙</strong>: SRP(단일 책임 원칙), DIP(의존성 역전 원칙) 일부 실현. 단, 전역 상태 공유로 OCP(개방/폐쇄 원칙) 위배 가능 [17].</li></ul><hr><h2 id=주요-내용-정리>주요 내용 정리<a hidden class=anchor aria-hidden=true href=#주요-내용-정리>#</a></h2><h3 id=패턴-이름과-분류>패턴 이름과 분류<a hidden class=anchor aria-hidden=true href=#패턴-이름과-분류>#</a></h3><table><thead><tr><th>항목</th><th>내용</th></tr></thead><tbody><tr><td>패턴 이름</td><td>Singleton Pattern(싱글톤 패턴)</td></tr><tr><td>분류</td><td>GoF 생성 (Creational) 패턴</td></tr></tbody></table><hr><h3 id=의도-intent>의도 (Intent)<a hidden class=anchor aria-hidden=true href=#의도-intent>#</a></h3><p>클래스 인스턴스를 오직 하나만 생성하고, 어디서든 동일한 인스턴스에 접근할 수 있도록 한다 [1][2][3][4][6][16].</p><hr><h3 id=다른-이름-also-known-as>다른 이름 (Also Known As)<a hidden class=anchor aria-hidden=true href=#다른-이름-also-known-as>#</a></h3><ul><li>유일 객체 패턴 (Unique Instance Pattern)</li><li>전역 인스턴스 패턴 (Global Instance Pattern)</li></ul><hr><h3 id=동기-motivation--forces>동기 (Motivation / Forces)<a hidden class=anchor aria-hidden=true href=#동기-motivation--forces>#</a></h3><ul><li>DB 연결, 설정, 로깅, 캐시 등 전역적으로 공유해야 하는 리소스를 효율적으로 관리하고, 중복 인스턴스 생성으로 인한 데이터 불일치, 리소스 낭비, 동기화 문제를 예방 [1][3][6][12][16][18].</li></ul><hr><h3 id=적용-가능성-applicability>적용 가능성 (Applicability)<a hidden class=anchor aria-hidden=true href=#적용-가능성-applicability>#</a></h3><ul><li>시스템 전역에서 동일한 객체를 공유해야 할 때</li><li>리소스가 한정되어 있고, 중복 생성 시 문제가 발생하는 경우 (DB, 캐시, 설정, 이벤트 버스 등)</li><li>상태 일관성과 자원 관리가 중요한 경우</li></ul><hr><h3 id=구조-및-아키텍처>구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#구조-및-아키텍처>#</a></h3><h4 id=구조-다이어그램>구조 다이어그램<a hidden class=anchor aria-hidden=true href=#구조-다이어그램>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1>1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2>2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3>3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4>4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5>5</a>
</span><span class=lnt id=hl-14-6><a class=lnlinks href=#hl-14-6>6</a>
</span><span class=lnt id=hl-14-7><a class=lnlinks href=#hl-14-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>+-------------------+
</span></span><span class=line><span class=cl>|   Singleton       |
</span></span><span class=line><span class=cl>+-------------------+
</span></span><span class=line><span class=cl>| - instance        |  (static)
</span></span><span class=line><span class=cl>| - Singleton()     |  (private)
</span></span><span class=line><span class=cl>| + getInstance()   |  (static)
</span></span><span class=line><span class=cl>+-------------------+
</span></span></code></pre></td></tr></table></div></div><h4 id=구성-요소-및-역할>구성 요소 및 역할<a hidden class=anchor aria-hidden=true href=#구성-요소-및-역할>#</a></h4><table><thead><tr><th>구성 요소</th><th>기능 및 역할</th></tr></thead><tbody><tr><td>Singleton</td><td>유일 인스턴스 관리, private 생성자, static instance, getInstance() 제공</td></tr><tr><td>Client</td><td>getInstance() 로 Singleton 인스턴스 획득, 전역적으로 사용</td></tr></tbody></table><h4 id=필수선택-구성요소>필수/선택 구성요소<a hidden class=anchor aria-hidden=true href=#필수선택-구성요소>#</a></h4><table><thead><tr><th>구분</th><th>구성 요소</th><th>기능 및 특징</th></tr></thead><tbody><tr><td>필수</td><td>Singleton</td><td>유일 인스턴스 관리, private 생성자, getInstance() 제공</td></tr><tr><td>선택</td><td>Thread Safety</td><td>멀티스레드 환경에서 동기화, Double-Check Locking, Lazy Holder 등</td></tr></tbody></table><hr><h3 id=주요-원리-및-작동-원리>주요 원리 및 작동 원리<a hidden class=anchor aria-hidden=true href=#주요-원리-및-작동-원리>#</a></h3><ol><li>Singleton 클래스의 생성자는 private 으로 외부에서 인스턴스 생성 불가</li><li>static 변수로 유일 인스턴스 (instance) 보관</li><li>getInstance() 메서드로 최초 1 회만 인스턴스 생성, 이후 동일 인스턴스 반환</li><li>멀티스레드 환경에서는 동기화 필요</li></ol><h4 id=작동-원리-다이어그램>작동 원리 다이어그램<a hidden class=anchor aria-hidden=true href=#작동-원리-다이어그램>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[Client] → [Singleton.getInstance()] → [Singleton instance]
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=구현-기법>구현 기법<a hidden class=anchor aria-hidden=true href=#구현-기법>#</a></h3><ul><li><strong>기본 구현</strong>: private 생성자, static instance, getInstance() 메서드 [1][2][7][16][18]</li><li><strong>Thread-Safe 구현</strong>: synchronized, Double-Checked Locking, Lazy Holder 등 [7][17][18]</li><li><strong>언어별 구현</strong>: Java, Python, JS, Swift 등 다양한 언어에서 지원 [6][10][19]</li></ul><h4 id=예시-코드-java>예시 코드 (Java)<a hidden class=anchor aria-hidden=true href=#예시-코드-java>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1> 1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2> 2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3> 3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4> 4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5> 5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6> 6</a>
</span><span class=lnt id=hl-16-7><a class=lnlinks href=#hl-16-7> 7</a>
</span><span class=lnt id=hl-16-8><a class=lnlinks href=#hl-16-8> 8</a>
</span><span class=lnt id=hl-16-9><a class=lnlinks href=#hl-16-9> 9</a>
</span><span class=lnt id=hl-16-10><a class=lnlinks href=#hl-16-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Singleton</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>Singleton</span><span class=w> </span><span class=n>instance</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=nf>Singleton</span><span class=p>()</span><span class=w> </span><span class=p>{}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>synchronized</span><span class=w> </span><span class=n>Singleton</span><span class=w> </span><span class=nf>getInstance</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>instance</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>instance</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Singleton</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>instance</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=예시-코드-python>예시 코드 (Python)<a hidden class=anchor aria-hidden=true href=#예시-코드-python>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1>1</a>
</span><span class=lnt id=hl-17-2><a class=lnlinks href=#hl-17-2>2</a>
</span><span class=lnt id=hl-17-3><a class=lnlinks href=#hl-17-3>3</a>
</span><span class=lnt id=hl-17-4><a class=lnlinks href=#hl-17-4>4</a>
</span><span class=lnt id=hl-17-5><a class=lnlinks href=#hl-17-5>5</a>
</span><span class=lnt id=hl-17-6><a class=lnlinks href=#hl-17-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Singleton</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>_instance</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=장점과-단점>장점과 단점<a hidden class=anchor aria-hidden=true href=#장점과-단점>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>✅ 장점</td><td>메모리 절약</td><td>객체를 한 번만 생성, 자원 효율화 [1][3][4][6][16][18]</td></tr><tr><td></td><td>데이터 일관성</td><td>동일 인스턴스 공유로 상태 일관성 보장 [1][3][4][6][16][18]</td></tr><tr><td></td><td>전역 접근</td><td>전역적으로 동일 객체 사용, 의존성 관리 단순화 [1][3][4][6][14][16][18]</td></tr><tr><td></td><td>객체 생성 비용 감소</td><td>무거운 객체도 한 번만 생성 [1][3][4][6][16][18]</td></tr><tr><td>⚠ 단점</td><td>테스트 어려움</td><td>전역 인스턴스 공유로 단위 테스트/Mocking 어려움 [4][10][13]</td></tr><tr><td></td><td>결합도 증가</td><td>전역 객체 사용으로 의존성 숨겨짐, 코드 복잡성 증가 [13][17]</td></tr><tr><td></td><td>멀티스레드 안전성</td><td>동기화 미흡 시 인스턴스 중복 생성 위험 [7][17][18]</td></tr><tr><td></td><td>메모리 해제 어려움</td><td>앱 종료 전까지 인스턴스 해제 불가, 메모리 누수 위험 [19]</td></tr></tbody></table><hr><h3 id=도전-과제-및-해결책>도전 과제 및 해결책<a hidden class=anchor aria-hidden=true href=#도전-과제-및-해결책>#</a></h3><ul><li><strong>문제</strong>: 멀티스레드 환경에서 인스턴스 중복 생성<br><strong>해결책</strong>: synchronized, Double-Checked Locking, Lazy Holder 등 동기화 기법 적용 [7][17][18]</li><li><strong>문제</strong>: 테스트 어려움, 결합도 증가<br><strong>해결책</strong>: 의존성 주입 (DI) 활용, 전역 상태 최소화, Mock 객체 설계 [4][10][13][14]</li><li><strong>문제</strong>: 메모리 해제 어려움<br><strong>해결책</strong>: 필요시 WeakReference, 수명 관리, 불필요한 데이터 최소화 [19]</li></ul><hr><h3 id=분류에-따른-종류-및-유형>분류에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#분류에-따른-종류-및-유형>#</a></h3><table><thead><tr><th>분류 기준</th><th>종류/유형</th><th>설명</th></tr></thead><tbody><tr><td>초기화 시점</td><td>Eager Initialization</td><td>클래스 로딩 시 즉시 인스턴스 생성</td></tr><tr><td></td><td>Lazy Initialization</td><td>최초 요청 시 인스턴스 생성</td></tr><tr><td>동기화 방식</td><td>Synchronized</td><td>getInstance() 에 동기화 적용</td></tr><tr><td></td><td>Double-Checked Locking</td><td>동기화 최소화, 성능 최적화</td></tr><tr><td></td><td>Lazy Holder</td><td>JVM Class Loader 활용, Thread Safe</td></tr></tbody></table><hr><h3 id=실무-적용-예시>실무 적용 예시<a hidden class=anchor aria-hidden=true href=#실무-적용-예시>#</a></h3><table><thead><tr><th>분야</th><th>적용 예시</th><th>설명</th></tr></thead><tbody><tr><td>DB 연결</td><td>커넥션 풀, DB 매니저</td><td>여러 모듈에서 동일 DB 연결 공유</td></tr><tr><td>환경 설정</td><td>Config 객체</td><td>설정 값 전역 관리, 일관성 유지</td></tr><tr><td>로깅 시스템</td><td>Logger</td><td>모든 모듈에서 동일 Logger 사용</td></tr><tr><td>캐시</td><td>Cache Manager</td><td>전역 캐시 관리, 데이터 일관성 유지</td></tr><tr><td>이벤트 버스</td><td>EventBus</td><td>시스템 전역 이벤트 관리</td></tr></tbody></table><hr><h3 id=활용-사례-시나리오-기반>활용 사례 (시나리오 기반)<a hidden class=anchor aria-hidden=true href=#활용-사례-시나리오-기반>#</a></h3><h4 id=상황-가정-전역-logger-관리>상황 가정: 전역 Logger 관리<a hidden class=anchor aria-hidden=true href=#상황-가정-전역-logger-관리>#</a></h4><ul><li><strong>시스템 구성</strong>:<ul><li>Logger(Singleton) → 여러 모듈에서 getInstance() 로 동일 Logger 사용</li></ul></li><li><strong>Workflow</strong>:<ol><li>Logger.getInstance() 로 인스턴스 획득</li><li>모든 모듈에서 동일 Logger 로 로그 기록</li><li>로그 파일/DB 일관성, 성능 최적화</li></ol></li><li><strong>역할</strong>: Logger 인스턴스의 유일성 보장, 로그 일관성/중복 방지</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1>1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2>2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[Module1] → [Logger.getInstance()] ← [Module2]
</span></span><span class=line><span class=cl>                                 ↓
</span></span><span class=line><span class=cl>                           [Logger Instance]
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=실무에서-효과적으로-적용하기-위한-고려사항-및-주의점>실무에서 효과적으로 적용하기 위한 고려사항 및 주의점<a hidden class=anchor aria-hidden=true href=#실무에서-효과적으로-적용하기-위한-고려사항-및-주의점>#</a></h3><table><thead><tr><th>항목</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>멀티스레드 안전성</td><td>동기화 미흡 시 인스턴스 중복 위험</td><td>Double-Checked Locking, Lazy Holder 사용</td></tr><tr><td>테스트 용이성</td><td>전역 인스턴스 공유로 테스트 어려움</td><td>DI, Mock 객체 활용, 상태 최소화</td></tr><tr><td>결합도 관리</td><td>전역 상태 공유로 의존성 증가</td><td>전역 데이터 최소화, 인터페이스 활용</td></tr><tr><td>메모리 관리</td><td>인스턴스 해제 어려움, 누수 위험</td><td>불필요 데이터 최소화, 수명 관리</td></tr></tbody></table><hr><h3 id=최적화하기-위한-고려사항-및-주의점>최적화하기 위한 고려사항 및 주의점<a hidden class=anchor aria-hidden=true href=#최적화하기-위한-고려사항-및-주의점>#</a></h3><table><thead><tr><th>항목</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>동기화 오버헤드</td><td>synchronized 사용 시 성능 저하</td><td>Double-Checked Locking, Lazy Holder 적용</td></tr><tr><td>객체 생성 비용</td><td>무거운 객체는 한 번만 생성</td><td>필요 시 Eager Initialization 적용</td></tr><tr><td>메모리 사용</td><td>인스턴스 해제 불가, 누수 위험</td><td>불필요 데이터 최소화, GC 활용</td></tr><tr><td>상태 관리</td><td>전역 상태 변경 시 영향 범위 큼</td><td>불변 객체 설계, 상태 최소화</td></tr></tbody></table><hr><h3 id=2025-년-기준-최신-동향>2025 년 기준 최신 동향<a hidden class=anchor aria-hidden=true href=#2025-년-기준-최신-동향>#</a></h3><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>멀티스레드</td><td>Lazy Holder</td><td>JVM Class Loader 활용, Thread Safe 구현 확산</td></tr><tr><td>DI/IoC</td><td>싱글톤 Bean 관리</td><td>Spring 등에서 싱글톤 Bean 자동 관리 표준화</td></tr><tr><td>테스트</td><td>Mock/Proxy 싱글톤</td><td>테스트/모킹을 위한 Proxy 싱글톤 활용 증가</td></tr><tr><td>성능</td><td>동기화 최적화</td><td>Double-Checked Locking, Lazy Holder 활용</td></tr></tbody></table><hr><h3 id=주제와-관련하여-주목할-내용>주제와 관련하여 주목할 내용<a hidden class=anchor aria-hidden=true href=#주제와-관련하여-주목할-내용>#</a></h3><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>Lazy Holder</td><td>Thread Safe</td><td>JVM Class Loader 활용, 동기화 오버헤드 최소화</td></tr><tr><td>DI/IoC</td><td>싱글톤 Bean</td><td>Spring 등에서 싱글톤 Bean 자동 관리</td></tr><tr><td>비교 패턴</td><td>전역 변수, 팩토리</td><td>전역 변수와 유사, 팩토리 패턴과 결합 가능</td></tr><tr><td>테스트</td><td>Mock/Proxy 싱글톤</td><td>테스트/모킹 용이, 유지보수성 향상</td></tr></tbody></table><hr><h3 id=앞으로의-전망>앞으로의 전망<a hidden class=anchor aria-hidden=true href=#앞으로의-전망>#</a></h3><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>자동화</td><td>싱글톤 Bean 관리</td><td>DI/IoC 에서 싱글톤 자동 관리 확산</td></tr><tr><td>멀티스레드</td><td>동기화 최적화</td><td>동기화 오버헤드 최소화 기법 발전</td></tr><tr><td>테스트</td><td>Mock/Proxy 싱글톤</td><td>테스트 자동화, Mock/Proxy 활용 증가</td></tr><tr><td>성능</td><td>메모리/GC 최적화</td><td>불필요 데이터 최소화, GC 관리 강화</td></tr></tbody></table><hr><h3 id=하위-주제별-추가-학습-필요-내용>하위 주제별 추가 학습 필요 내용<a hidden class=anchor aria-hidden=true href=#하위-주제별-추가-학습-필요-내용>#</a></h3><table><thead><tr><th>카테고리</th><th>주제</th><th>간략 설명</th></tr></thead><tbody><tr><td>구현 기법</td><td>Double-Checked Locking</td><td>동기화 오버헤드 최소화 기법</td></tr><tr><td>테스트</td><td>Mock/Proxy 싱글톤</td><td>테스트/모킹용 싱글톤 설계</td></tr><tr><td>비교 패턴</td><td>전역 변수/팩토리 패턴</td><td>전역 변수, 팩토리 패턴과의 차이</td></tr><tr><td>DI/IoC</td><td>싱글톤 Bean 관리</td><td>DI/IoC 에서 싱글톤 자동 관리</td></tr></tbody></table><hr><h3 id=추가-학습알아야-할-내용>추가 학습/알아야 할 내용<a hidden class=anchor aria-hidden=true href=#추가-학습알아야-할-내용>#</a></h3><table><thead><tr><th>카테고리</th><th>주제</th><th>간략 설명</th></tr></thead><tbody><tr><td>소프트웨어 아키텍처</td><td>싱글톤/전역 객체 관리</td><td>전역 객체, 싱글톤 관리 전략</td></tr><tr><td>성능</td><td>동기화 최적화</td><td>동기화 오버헤드 최소화 기법</td></tr><tr><td>프레임워크</td><td>Spring 싱글톤 Bean</td><td>Spring 등에서의 싱글톤 관리</td></tr><tr><td>실무 도구</td><td>Mock/Proxy 싱글톤</td><td>테스트 자동화, Mock/Proxy 활용</td></tr></tbody></table><hr><h2 id=용어-정리-1>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-1>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>Singleton(싱글톤)</td><td>인스턴스가 단 하나만 존재하도록 보장하는 패턴 또는 클래스</td></tr><tr><td>getInstance()</td><td>싱글톤 인스턴스를 반환하는 정적 메서드</td></tr><tr><td>Lazy Initialization</td><td>최초 사용 시 인스턴스 생성 방식</td></tr><tr><td>Eager Initialization</td><td>클래스 로딩 시 인스턴스 즉시 생성 방식</td></tr><tr><td>Double-Checked Locking</td><td>동기화 오버헤드 최소화 기법</td></tr><tr><td>Lazy Holder</td><td>JVM Class Loader 활용 Thread Safe 기법</td></tr><tr><td>DI(Dependency Injection)</td><td>의존성 주입, 객체 생성/관리를 외부에서 담당</td></tr></tbody></table><hr><h2 id=참고-및-출처-1>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-1>#</a></h2><ul><li>[GoF Design Patterns] Singleton - 프로그래뭄 - 티스토리 [1]</li><li>Singleton Pattern - soobarkbar.tistory[2]</li><li>가볍게 알아보는 디자인 패턴 - 싱글톤 패턴 (Singleton Pattern)[3]</li><li>[JavaScript 디자인 패턴] 싱글톤 패턴: 장단점과 구현 방법 알아보기 [4]</li><li>Singleton 패턴을 활용하는 경우를 예를 들어 설명하시오. - velog[5]</li><li>싱글톤 패턴이란? Node.js 와 함께 배우는 구현과 활용법 [6]</li><li>싱글톤 패턴이 필요한 이유와 실제 서비스에 적용까지 [7]</li><li>[Spring] 디자인 패턴 (1) - Overview, Singleton Pattern - velog[8]</li><li>싱글톤 (Singleton) 패턴 - 꼼꼼하게 알아보자 [9]</li><li>프론트엔드 디자인 패턴 - #2 싱글톤 패턴 (Singleton pattern) - velog[10]</li><li>[디자인 패턴] 싱글톤 패턴 (Singleton Pattern) - 코끼리와 딩가딩가 [11]</li><li>[생성 패턴] 싱글톤 패턴 (Singleton Pattern) - 개발하는만두 [12]</li><li>TIL: 2023-06-07 Singleton Pattern - 데굴데굴 - 티스토리 [13]</li><li>[디자인 패턴] 싱글톤 패턴 (Singleton Pattern) 이란?[14]</li><li>[Design pattern] 많이 쓰는 14 가지 핵심 GoF 디자인 패턴의 종류 - 한빛 +[15]</li><li>[용어] Singleton pattern (싱글톤 패턴) - 개념: 네이버 블로그 [16]</li><li>싱글톤 패턴 (Singleton pattern) 을 쓰는 이유와 문제점 [17]</li><li>디자인패턴 - 싱글턴 패턴, singleton pattern - SCB 개발자이야기 [18]</li><li>[디자인패턴] (Swift) Singleton Pattern (싱글톤 패턴 구현해보기)[19]</li></ul><p>Citations:<br>[1] <a href=https://littlemoom.tistory.com/71>https://littlemoom.tistory.com/71</a><br>[2] <a href=https://soobarkbar.tistory.com/236>https://soobarkbar.tistory.com/236</a><br>[3] <a href=https://curiousjinan.tistory.com/entry/spring-singleton-patterns-explained>https://curiousjinan.tistory.com/entry/spring-singleton-patterns-explained</a><br>[4] <a href=https://simpleweb.tistory.com/8>https://simpleweb.tistory.com/8</a><br>[5] <a href=https://velog.io/@hayeon/Singleton-%ED%8C%A8%ED%84%B4%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%98%EB%8A%94-%EA%B2%BD%EC%9A%B0%EB%A5%BC-%EC%98%88%EB%A5%BC-%EB%93%A4%EC%96%B4-%EC%84%A4%EB%AA%85%ED%95%98%EC%8B%9C%EC%98%A4>https://velog.io/@hayeon/Singleton-%ED%8C%A8%ED%84%B4%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%98%EB%8A%94-%EA%B2%BD%EC%9A%B0%EB%A5%BC-%EC%98%88%EB%A5%BC-%EB%93%A4%EC%96%B4-%EC%84%A4%EB%AA%85%ED%95%98%EC%8B%9C%EC%98%A4</a><br>[6] <a href=https://imwh0im.tistory.com/entry/singleton-pattern-nodejs-guide>https://imwh0im.tistory.com/entry/singleton-pattern-nodejs-guide</a><br>[7] <a href=https://injae-kim.github.io/dev/2020/08/06/singleton-pattern-usage.html>https://injae-kim.github.io/dev/2020/08/06/singleton-pattern-usage.html</a><br>[8] <a href=https://velog.io/@developer_khj/Spring-Design-Pattern-1-Overview-And-Singleton>https://velog.io/@developer_khj/Spring-Design-Pattern-1-Overview-And-Singleton</a><br>[9] <a href=https://inpa.tistory.com/entry/GOF-%F0%9F%92%A0-%EC%8B%B1%EA%B8%80%ED%86%A4Singleton-%ED%8C%A8%ED%84%B4-%EA%BC%BC%EA%BC%BC%ED%95%98%EA%B2%8C-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90>https://inpa.tistory.com/entry/GOF-%F0%9F%92%A0-%EC%8B%B1%EA%B8%80%ED%86%A4Singleton-%ED%8C%A8%ED%84%B4-%EA%BC%BC%EA%BC%BC%ED%95%98%EA%B2%8C-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90</a><br>[10] <a href=https://velog.io/@wiostz98kr/%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C-%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4-2-%EC%8B%B1%EA%B8%80%ED%86%A4-%ED%8C%A8%ED%84%B4Singleton-pattern>https://velog.io/@wiostz98kr/%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C-%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4-2-%EC%8B%B1%EA%B8%80%ED%86%A4-%ED%8C%A8%ED%84%B4Singleton-pattern</a><br>[11] <a href=https://codingga-dingga.tistory.com/253>https://codingga-dingga.tistory.com/253</a><br>[12] <a href=https://dev-youngjun.tistory.com/194>https://dev-youngjun.tistory.com/194</a><br>[13] <a href=https://haruisshort.tistory.com/280>https://haruisshort.tistory.com/280</a><br>[14] <a href=https://gun-oo.tistory.com/11>https://gun-oo.tistory.com/11</a><br>[15] <a href="https://m.hanbit.co.kr/channel/view.html?cmscode=CMS8616098823">https://m.hanbit.co.kr/channel/view.html?cmscode=CMS8616098823</a><br>[16] <a href=https://blog.naver.com/jysaa5/221801979100>https://blog.naver.com/jysaa5/221801979100</a><br>[17] <a href=https://jeong-pro.tistory.com/86>https://jeong-pro.tistory.com/86</a><br>[18] <a href=https://devscb.tistory.com/132>https://devscb.tistory.com/132</a><br>[19] <a href=https://didu-story.tistory.com/405>https://didu-story.tistory.com/405</a><br>[20] <a href=https://zuzu.network/resource/blog/venture-investment-2024/>https://zuzu.network/resource/blog/venture-investment-2024/</a><br>[21] <a href=https://starting-coding.tistory.com/629>https://starting-coding.tistory.com/629</a><br>[22] <a href=https://refactoring.guru/design-patterns/singleton>https://refactoring.guru/design-patterns/singleton</a><br>[23] <a href=https://ittrue.tistory.com/563>https://ittrue.tistory.com/563</a><br>[24] <a href=https://potatocompletion.tistory.com/21>https://potatocompletion.tistory.com/21</a><br>[25] <a href=https://skianything.tistory.com/24>https://skianything.tistory.com/24</a><br>[26] <a href=https://jiseok-zip.tistory.com/entry/iOS%EC%8B%B1%EA%B8%80%ED%86%A4-%ED%8C%A8%ED%84%B4Singleton-Pattern>https://jiseok-zip.tistory.com/entry/iOS%EC%8B%B1%EA%B8%80%ED%86%A4-%ED%8C%A8%ED%84%B4Singleton-Pattern</a><br>[27] <a href=https://www.digitalocean.com/community/tutorials/gangs-of-four-gof-design-patterns>https://www.digitalocean.com/community/tutorials/gangs-of-four-gof-design-patterns</a><br>[28] <a href=https://stormstudy.tistory.com/39>https://stormstudy.tistory.com/39</a><br>[29] <a href=https://howudong.tistory.com/135>https://howudong.tistory.com/135</a><br>[30] <a href=https://gngsn.tistory.com/133>https://gngsn.tistory.com/133</a><br>[31] <a href=https://oobwrite.com/entry/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4-%EC%8B%B1%EA%B8%80%ED%84%B4-%ED%8C%A8%ED%84%B4-%EA%B0%9D%EC%B2%B4-%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%EC%9D%98-%EC%A0%84%EC%97%AD-%EB%B3%80%EC%88%98>https://oobwrite.com/entry/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4-%EC%8B%B1%EA%B8%80%ED%84%B4-%ED%8C%A8%ED%84%B4-%EA%B0%9D%EC%B2%B4-%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%EC%9D%98-%EC%A0%84%EC%97%AD-%EB%B3%80%EC%88%98</a><br>[32] <a href=https://velog.io/@aal2525/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8-%EC%8B%B1%EA%B8%80%ED%86%A4>https://velog.io/@aal2525/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8-%EC%8B%B1%EA%B8%80%ED%86%A4</a><br>[33] <a href=https://velog.io/@sunhwa508/GOF-%EB%8C%80%ED%91%9C%EC%A0%81%EC%9D%B8-10-%EA%B0%80%EC%A7%80-Design-patterns>https://velog.io/@sunhwa508/GOF-%EB%8C%80%ED%91%9C%EC%A0%81%EC%9D%B8-10-%EA%B0%80%EC%A7%80-Design-patterns</a><br>[34] <a href=https://doing-programming.tistory.com/entry/Singleton-Pattern-vs-Dependency-Injection>https://doing-programming.tistory.com/entry/Singleton-Pattern-vs-Dependency-Injection</a><br>[35] <a href=https://hwanu-developer.tistory.com/26>https://hwanu-developer.tistory.com/26</a><br>[36] <a href=https://blog.naver.com/crowdark7/105856379>https://blog.naver.com/crowdark7/105856379</a><br>[37] <a href=https://kdong0712.tistory.com/13>https://kdong0712.tistory.com/13</a><br>[38] <a href=https://ajdkfl6445.gitbook.io/study/typescript/singleton-pattern>https://ajdkfl6445.gitbook.io/study/typescript/singleton-pattern</a><br>[39] <a href=https://gmlwjd9405.github.io/2018/07/06/singleton-pattern.html>https://gmlwjd9405.github.io/2018/07/06/singleton-pattern.html</a><br>[40] <a href=https://blog.naver.com/ruvendix/222039561864>https://blog.naver.com/ruvendix/222039561864</a><br>[41] <a href=https://velog.io/@softpeanut/%EC%8B%B1%EA%B8%80%ED%86%A4Singleton-%ED%8C%A8%ED%84%B4>https://velog.io/@softpeanut/%EC%8B%B1%EA%B8%80%ED%86%A4Singleton-%ED%8C%A8%ED%84%B4</a><br>[42] <a href=https://unialgames.tistory.com/entry/UnityTipSingleTonPattern>https://unialgames.tistory.com/entry/UnityTipSingleTonPattern</a><br>[43] <a href=https://jaimemin.tistory.com/2525>https://jaimemin.tistory.com/2525</a><br>[44] <a href=https://7357.tistory.com/195>https://7357.tistory.com/195</a><br>[45] <a href=https://kimgaegul.tistory.com/30>https://kimgaegul.tistory.com/30</a><br>[46] <a href="https://www.dbpia.co.kr/journal/articleDetail?nodeId=NODE12036469">https://www.dbpia.co.kr/journal/articleDetail?nodeId=NODE12036469</a><br>[47] <a href=https://subinto.tistory.com>https://subinto.tistory.com</a><br>[48] <a href=https://www.vogue.co.kr/2025/02/28/1990%EB%85%84%EB%8C%80-%EA%B0%90%EC%84%B1%EC%9D%98-%EC%9D%B4-%ED%8C%A8%ED%84%B4%EC%9D%B4-2025%EB%85%84-%EB%B4%84%EC%97%90-%EB%A7%9E%EC%B6%B0-%EB%8F%8C%EC%95%84%EC%99%94%EC%8A%B5%EB%8B%88%EB%8B%A4/>https://www.vogue.co.kr/2025/02/28/1990%EB%85%84%EB%8C%80-%EA%B0%90%EC%84%B1%EC%9D%98-%EC%9D%B4-%ED%8C%A8%ED%84%B4%EC%9D%B4-2025%EB%85%84-%EB%B4%84%EC%97%90-%EB%A7%9E%EC%B6%B0-%EB%8F%8C%EC%95%84%EC%99%94%EC%8A%B5%EB%8B%88%EB%8B%A4/</a><br>[49] <a href=https://www.letr.ai/ko/blog/tech-20210723>https://www.letr.ai/ko/blog/tech-20210723</a><br>[50] <a href=https://m.yes24.com/Goods/Detail/10845916>https://m.yes24.com/Goods/Detail/10845916</a><br>[51] <a href=https://www.eugenefn.com/common/files/amail/20250205_B3010_jinwookim_2.pdf>https://www.eugenefn.com/common/files/amail/20250205_B3010_jinwookim_2.pdf</a><br>[52] <a href=https://blog.naver.com/hermet/67347490>https://blog.naver.com/hermet/67347490</a><br>[53] <a href=https://camelsource.tistory.com/84>https://camelsource.tistory.com/84</a><br>[54] <a href=https://junyoung-developer.tistory.com/192>https://junyoung-developer.tistory.com/192</a></p><hr><p>Perplexity 로부터의 답변: pplx.ai/share</p><p>다음은 **Singleton Pattern (싱글톤 패턴)**에 대한 실무 중심 정리입니다.</p><hr><h2 id=1-주제의-분류-적절성>1. 주제의 분류 적절성<a hidden class=anchor aria-hidden=true href=#1-주제의-분류-적절성>#</a></h2><ul><li><p><strong>분류</strong><br><code>Computer Science and Engineering</code> > <code>Software Design and Architecture</code> > <code>Software Design Patterns</code> > <code>GoF</code> > <code>Creational Design Patterns</code></p></li><li><p><strong>검토 결과</strong><br>✅ 적절합니다. Singleton 은 인스턴스를 하나만 생성해 전역적으로 공유하는 대표적인 <strong>생성 (Creational) 패턴</strong>입니다.</p></li></ul><hr><h2 id=2-요약-설명-200-자-내외>2. 요약 설명 (200 자 내외)<a hidden class=anchor aria-hidden=true href=#2-요약-설명-200-자-내외>#</a></h2><p>Singleton 패턴은 클래스의 인스턴스를 하나만 생성하고, 어디서든 이 인스턴스를 공유하도록 보장하는 패턴이다. 전역 상태 관리, 설정 객체, 로깅, 캐시 등에서 활용되며, thread-safe 구현이 핵심이다.</p><hr><h2 id=3-개요-설명-250-자-내외>3. 개요 설명 (250 자 내외)<a hidden class=anchor aria-hidden=true href=#3-개요-설명-250-자-내외>#</a></h2><p>Singleton Pattern 은 클래스의 인스턴스를 하나만 만들고 전역에서 접근할 수 있도록 보장하는 디자인 패턴이다. 일반적으로 정적 메서드를 통해 인스턴스를 생성하며, 생성자 접근 제한 (private constructor), 정적 참조 (static instance), 동기화 처리가 핵심이다. 설정 객체, 로깅 시스템, 캐시, 데이터베이스 커넥션 풀 등 리소스를 공유해야 하는 경우에 자주 사용된다. 다만, 잘못된 사용은 테스트 어려움과 결합도 증가를 초래할 수 있다.</p><hr><h2 id=4-핵심-개념>4. 핵심 개념<a hidden class=anchor aria-hidden=true href=#4-핵심-개념>#</a></h2><table><thead><tr><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>정의</td><td>인스턴스가 하나만 존재함을 보장하는 디자인 패턴</td></tr><tr><td>목적</td><td>전역적으로 하나의 인스턴스 공유 및 상태 유지</td></tr><tr><td>구조</td><td>생성자를 private 으로 숨기고, 정적 메서드로 접근</td></tr><tr><td>주요 사용처</td><td>설정 객체 (Config), 로깅, 캐시, DB 커넥션 풀 등</td></tr><tr><td>특징</td><td>전역 접근 + 인스턴스 단 하나 보장 + Lazy or Eager 방식</td></tr></tbody></table><hr><p>다음 단계에서는 구조, 구현, 장단점, 실무 적용까지 이어서 정리하겠습니다. 계속 진행할까요?</p><p>이어서 **Singleton Pattern (싱글톤 패턴)**의 실무 적용 중심 심화 내용을 정리합니다.</p><hr><h2 id=5-주요-원리-및-작동-원리>5. 주요 원리 및 작동 원리<a hidden class=anchor aria-hidden=true href=#5-주요-원리-및-작동-원리>#</a></h2><h3 id=-다이어그램>📌 다이어그램<a hidden class=anchor aria-hidden=true href=#-다이어그램>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1>1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2>2</a>
</span><span class=lnt id=hl-19-3><a class=lnlinks href=#hl-19-3>3</a>
</span><span class=lnt id=hl-19-4><a class=lnlinks href=#hl-19-4>4</a>
</span><span class=lnt id=hl-19-5><a class=lnlinks href=#hl-19-5>5</a>
</span><span class=lnt id=hl-19-6><a class=lnlinks href=#hl-19-6>6</a>
</span><span class=lnt id=hl-19-7><a class=lnlinks href=#hl-19-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>+---------------------------+
</span></span><span class=line><span class=cl>|       Singleton           |
</span></span><span class=line><span class=cl>+---------------------------+
</span></span><span class=line><span class=cl>| - instance: Singleton     |  ← 정적 필드 (단 하나의 인스턴스)
</span></span><span class=line><span class=cl>+---------------------------+
</span></span><span class=line><span class=cl>| + getInstance(): Singleton|  ← 정적 메서드로 인스턴스 반환
</span></span><span class=line><span class=cl>+---------------------------+
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=6-구조-및-아키텍처>6. 구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#6-구조-및-아키텍처>#</a></h2><table><thead><tr><th>구성 요소</th><th>역할</th></tr></thead><tbody><tr><td><strong>Singleton Class</strong></td><td>인스턴스를 하나만 생성하도록 제한</td></tr><tr><td><strong>Private Constructor</strong></td><td>외부에서 new 로 인스턴스 생성을 막음</td></tr><tr><td><strong>Static Instance</strong></td><td>클래스 수준에서 유일 인스턴스 저장</td></tr><tr><td><strong>Public getInstance()</strong></td><td>인스턴스 접근 메서드, Lazy/Thread-Safe 구현 가능</td></tr></tbody></table><h3 id=-필수-구성요소>✅ 필수 구성요소<a hidden class=anchor aria-hidden=true href=#-필수-구성요소>#</a></h3><ul><li><p>private 생성자</p></li><li><p>static 필드</p></li><li><p>static getter 메서드</p></li></ul><h3 id=-선택-구성요소>✅ 선택 구성요소<a hidden class=anchor aria-hidden=true href=#-선택-구성요소>#</a></h3><ul><li><p>thread-safe 동기화 처리 (<code>synchronized</code>)</p></li><li><p>지연 초기화 (Lazy initialization)</p></li><li><p>enum 기반 구현 (Java)</p></li></ul><hr><h2 id=7-구현-기법>7. 구현 기법<a hidden class=anchor aria-hidden=true href=#7-구현-기법>#</a></h2><table><thead><tr><th>방식</th><th>설명</th><th>예시</th></tr></thead><tbody><tr><td><strong>Eager Initialization</strong></td><td>클래스 로딩 시 인스턴스를 생성</td><td><code>private static final Singleton instance = new Singleton();</code></td></tr><tr><td><strong>Lazy Initialization</strong></td><td>처음 getInstance 호출 시 생성</td><td><code>if (instance == null) instance = new Singleton();</code></td></tr><tr><td><strong>Thread-Safe Lazy</strong></td><td><code>synchronized</code> 또는 <code>Double-Checked Locking</code> 사용</td><td>성능과 안정성 모두 고려</td></tr><tr><td><strong>Enum Singleton (Java)</strong></td><td>enum 으로 구현 시 직렬화, 리플렉션 모두 안전</td><td><code>enum Singleton { INSTANCE; }</code></td></tr></tbody></table><hr><h2 id=8-장점과-단점>8. 장점과 단점<a hidden class=anchor aria-hidden=true href=#8-장점과-단점>#</a></h2><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>✅ 장점</td><td>글로벌 접근성</td><td>전역에서 하나의 인스턴스를 일관되게 사용 가능</td></tr><tr><td></td><td>메모리 절약</td><td>동일 객체 재사용으로 메모리 절감</td></tr><tr><td></td><td>동기화 용이</td><td>공유 자원 관리 시 유용 (ex. 캐시, 설정)</td></tr><tr><td>⚠ 단점</td><td>테스트 어려움</td><td>상태 공유로 테스트 격리 어려움</td></tr><tr><td></td><td>결합도 증가</td><td>코드 전체에서 Singleton 직접 참조 시 유연성 하락</td></tr><tr><td></td><td>멀티스레드 이슈</td><td>동기화 미흡 시 race condition 발생 가능</td></tr></tbody></table><hr><h2 id=9-도전-과제-및-해결-방안>9. 도전 과제 및 해결 방안<a hidden class=anchor aria-hidden=true href=#9-도전-과제-및-해결-방안>#</a></h2><table><thead><tr><th>도전 과제</th><th>설명</th><th>해결 방안</th></tr></thead><tbody><tr><td>멀티스레드 환경</td><td>동시 접근 시 두 개 이상의 인스턴스 생성 위험</td><td><code>synchronized</code>, <code>volatile</code>, Double-Check Locking</td></tr><tr><td>리플렉션/직렬화 우회</td><td>리플렉션/역직렬화로 인스턴스 복제 가능</td><td>enum 사용 또는 readResolve(), 방어 코드 추가</td></tr><tr><td>테스트 불가능</td><td>상태 공유로 테스트 독립성 저하</td><td>DI 기반으로 대체 가능한 구조 권장 (Spring Scope)</td></tr><tr><td>결합도 높음</td><td>Singleton 에 직접 접근하는 코드 증가</td><td>인터페이스 추상화 또는 Provider 패턴 도입</td></tr></tbody></table><hr><h2 id=10-분류에-따른-종류-및-유형>10. 분류에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#10-분류에-따른-종류-및-유형>#</a></h2><table><thead><tr><th>분류 기준</th><th>유형</th><th>설명</th></tr></thead><tbody><tr><td>초기화 시점</td><td>Eager</td><td>클래스 로딩 시 인스턴스 생성</td></tr><tr><td></td><td>Lazy</td><td>실제 사용 시점에 생성</td></tr><tr><td>스레드 안전성</td><td>Thread-safe</td><td><code>synchronized</code>, DCL 등으로 동기화</td></tr><tr><td></td><td>Not Thread-safe</td><td>단일 스레드 환경에서만 안전</td></tr><tr><td>구현 기법</td><td>Enum Singleton</td><td>자바에서 권장, serialization-safe</td></tr><tr><td></td><td>Static Block</td><td>클래스 로딩 시 정적 블록 내에서 생성</td></tr></tbody></table><hr><h2 id=11-실무-적용-예시>11. 실무 적용 예시<a hidden class=anchor aria-hidden=true href=#11-실무-적용-예시>#</a></h2><table><thead><tr><th>분야</th><th>사례</th><th>설명</th></tr></thead><tbody><tr><td>로깅</td><td>LogManager, SLF4J</td><td>공통 로거 인스턴스 관리</td></tr><tr><td>설정 관리</td><td>ConfigManager</td><td>YAML, JSON 기반 설정 객체 공유</td></tr><tr><td>캐시 시스템</td><td>RedisClient Singleton</td><td>커넥션 풀 공유 및 재사용</td></tr><tr><td>DB 연결</td><td>DataSource</td><td>JDBC 또는 ORM 연결 풀 제공</td></tr><tr><td>메시징</td><td>KafkaProducer</td><td>Producer 싱글톤으로 사용 (thread-safe 필수)</td></tr></tbody></table><hr><h2 id=12-활용-사례시나리오-기반>12. 활용 사례–시나리오 기반<a hidden class=anchor aria-hidden=true href=#12-활용-사례시나리오-기반>#</a></h2><h3 id=-시나리오-kafka-producer-를-싱글톤으로-구성>📌 시나리오: Kafka Producer 를 싱글톤으로 구성<a hidden class=anchor aria-hidden=true href=#-시나리오-kafka-producer-를-싱글톤으로-구성>#</a></h3><h4 id=요구사항>요구사항<a hidden class=anchor aria-hidden=true href=#요구사항>#</a></h4><ul><li><p>KafkaProducer 객체는 생성 비용이 크고 thread-safe</p></li><li><p>애플리케이션 전체에서 동일 인스턴스 사용 필요</p></li></ul><h4 id=구현-구조-java-예시>구현 구조 (Java 예시)<a hidden class=anchor aria-hidden=true href=#구현-구조-java-예시>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-20-1><a class=lnlinks href=#hl-20-1> 1</a>
</span><span class=lnt id=hl-20-2><a class=lnlinks href=#hl-20-2> 2</a>
</span><span class=lnt id=hl-20-3><a class=lnlinks href=#hl-20-3> 3</a>
</span><span class=lnt id=hl-20-4><a class=lnlinks href=#hl-20-4> 4</a>
</span><span class=lnt id=hl-20-5><a class=lnlinks href=#hl-20-5> 5</a>
</span><span class=lnt id=hl-20-6><a class=lnlinks href=#hl-20-6> 6</a>
</span><span class=lnt id=hl-20-7><a class=lnlinks href=#hl-20-7> 7</a>
</span><span class=lnt id=hl-20-8><a class=lnlinks href=#hl-20-8> 8</a>
</span><span class=lnt id=hl-20-9><a class=lnlinks href=#hl-20-9> 9</a>
</span><span class=lnt id=hl-20-10><a class=lnlinks href=#hl-20-10>10</a>
</span><span class=lnt id=hl-20-11><a class=lnlinks href=#hl-20-11>11</a>
</span><span class=lnt id=hl-20-12><a class=lnlinks href=#hl-20-12>12</a>
</span><span class=lnt id=hl-20-13><a class=lnlinks href=#hl-20-13>13</a>
</span><span class=lnt id=hl-20-14><a class=lnlinks href=#hl-20-14>14</a>
</span><span class=lnt id=hl-20-15><a class=lnlinks href=#hl-20-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>KafkaProducerSingleton</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>KafkaProducer</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>producer</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=nf>KafkaProducerSingleton</span><span class=p>()</span><span class=w> </span><span class=p>{}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>synchronized</span><span class=w> </span><span class=n>KafkaProducer</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=nf>getInstance</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>producer</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>Properties</span><span class=w> </span><span class=n>props</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Properties</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>props</span><span class=p>.</span><span class=na>put</span><span class=p>(</span><span class=s>&#34;bootstrap.servers&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;localhost:9092&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 기타 설정</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>producer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>KafkaProducer</span><span class=o>&lt;&gt;</span><span class=p>(</span><span class=n>props</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>producer</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=시스템-구조>시스템 구조<a hidden class=anchor aria-hidden=true href=#시스템-구조>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1>1</a>
</span><span class=lnt id=hl-21-2><a class=lnlinks href=#hl-21-2>2</a>
</span><span class=lnt id=hl-21-3><a class=lnlinks href=#hl-21-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Service A ─┐
</span></span><span class=line><span class=cl>           ├── KafkaProducerSingleton.getInstance() → KafkaProducer
</span></span><span class=line><span class=cl>Service B ─┘
</span></span></code></pre></td></tr></table></div></div><h4 id=역할>역할<a hidden class=anchor aria-hidden=true href=#역할>#</a></h4><ul><li>Service A/B 에서 동일한 producer 인스턴스를 활용하여 Kafka 로 메시지 전송</li></ul><hr><p>이후 내용으로는 다음을 제공합니다:</p><ul><li><p>✅ 실무에서 효과적으로 적용하기 위한 고려사항</p></li><li><p>✅ 성능 최적화를 위한 고려사항</p></li><li><p>✅ 최신 동향 및 향후 전망</p></li><li><p>✅ Singleton 패턴 비교 (ex. DI 기반 구조)</p></li></ul><p>이어서 **Singleton Pattern (싱글톤 패턴)**에 대한 나머지 항목을 실무 중심으로 정리합니다.</p><hr><h2 id=13-실무에서-효과적으로-적용하기-위한-고려사항>13. 실무에서 효과적으로 적용하기 위한 고려사항<a hidden class=anchor aria-hidden=true href=#13-실무에서-효과적으로-적용하기-위한-고려사항>#</a></h2><table><thead><tr><th>고려사항</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>스레드 안정성 확보</td><td>멀티스레드 환경에서 인스턴스 중복 생성 방지</td><td><code>synchronized</code>, Double-Checked Locking 적용</td></tr><tr><td>테스트 분리성 유지</td><td>상태 공유로 인해 테스트 독립성 저하 가능</td><td>DI(Container) 로 Singleton 을 주입받는 구조 채택</td></tr><tr><td>리플렉션/직렬화 우회 방지</td><td><code>clone()</code> 또는 역직렬화로 인스턴스 복제 우려</td><td>enum Singleton, <code>readResolve()</code> 메서드 추가</td></tr><tr><td>접근 추상화</td><td>직접 호출은 결합도 높임</td><td>인터페이스 또는 Provider 추상화 적용</td></tr><tr><td>초기화 제어</td><td>외부 설정 등 필요할 경우 초기화 커스터마이징</td><td>LazyHolder 방식 또는 postInit() 패턴 도입</td></tr></tbody></table><hr><h2 id=14-성능을-최적화하기-위한-고려사항>14. 성능을 최적화하기 위한 고려사항<a hidden class=anchor aria-hidden=true href=#14-성능을-최적화하기-위한-고려사항>#</a></h2><table><thead><tr><th>고려사항</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>지연 초기화</td><td>사용 시점에만 초기화하여 리소스 절약</td><td>Lazy Initialization, Holder 패턴</td></tr><tr><td>동기화 최소화</td><td>모든 접근에 동기화 적용은 성능 저하</td><td>Double-Checked Locking 적용</td></tr><tr><td>enum 사용</td><td>기본적으로 thread-safe + 직렬화 문제 해결</td><td>Java 에서는 <code>enum Singleton</code> 이 최적</td></tr><tr><td>GC 고려</td><td>GC 로 인한 해제 방지 필요</td><td>Singleton 은 강한 참조 유지 구조 유지 필요</td></tr><tr><td>DI 프레임워크 연계</td><td>Singleton 을 관리하도록 위임</td><td>Spring 의 Singleton Scope 사용 권장</td></tr></tbody></table><hr><h2 id=15-최신-동향-2025-년-기준>15. 최신 동향 (2025 년 기준)<a hidden class=anchor aria-hidden=true href=#15-최신-동향-2025-년-기준>#</a></h2><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>DI 기반 Singleton 관리</td><td>프레임워크에서 Singleton 관리</td><td>Spring, NestJS 등에서 Scope 기반 관리</td></tr><tr><td>Enum Singleton 선호</td><td>자바에서 직렬화/리플렉션 대응 가능</td><td><code>enum Singleton { INSTANCE; }</code></td></tr><tr><td>Cloud 환경 대응</td><td>Stateless Singleton 패턴 회피</td><td>외부 상태 보관 지양, Singleton 은 내부 로직에만 제한</td></tr><tr><td>테스트 주입 기술 강화</td><td>Singleton 테스트 대체 어려움 해소</td><td>JUnit5 + Spring TestContext + @MockBean 활용</td></tr></tbody></table><hr><h2 id=16-주제와-관련한-주목할-내용>16. 주제와 관련한 주목할 내용<a hidden class=anchor aria-hidden=true href=#16-주제와-관련한-주목할-내용>#</a></h2><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>DI 와 Singleton 차이</td><td>프레임워크가 관리하는 Singleton vs 직접 구현</td><td>DI 기반 관리가 유지보수에 유리</td></tr><tr><td>Thread-safe 구현법</td><td>synchronized vs DCL vs volatile vs enum</td><td>성능과 안정성 고려 필요</td></tr><tr><td>Spring Scope</td><td>기본 Scope 가 Singleton</td><td>웹에서는 Request, Session Scope 도 존재</td></tr><tr><td>테스트 격리 문제</td><td>전역 객체는 테스트 충돌 발생 가능</td><td>DI 로 전환 후 Mockito, SpyBean 등 활용 권장</td></tr></tbody></table><hr><h2 id=17-향후-전망>17. 향후 전망<a hidden class=anchor aria-hidden=true href=#17-향후-전망>#</a></h2><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>DI 와 Singleton 통합</td><td>프레임워크 중심 구조 확대</td><td>애플리케이션 전반에 DI Container 적용 확대 예상</td></tr><tr><td>Stateless 구조 선호</td><td>글로벌 상태 공유 최소화 방향</td><td>마이크로서비스에서 상태 없는 Singleton 제한적 사용</td></tr><tr><td>Enum 기반 사용 확대</td><td>Java 환경에서 더 안전한 Singleton 구조 채택</td><td>안정성과 간결성을 모두 만족</td></tr><tr><td>싱글톤 최소화</td><td>테스트 편의성과 유연성 확보 위해 Singleton 의존 감소</td><td>서비스 레이어에서는 사용 억제 추세</td></tr></tbody></table><hr><h2 id=18-하위-학습-주제-분류>18. 하위 학습 주제 분류<a hidden class=anchor aria-hidden=true href=#18-하위-학습-주제-분류>#</a></h2><table><thead><tr><th>카테고리</th><th>주제</th><th>설명</th></tr></thead><tbody><tr><td>구현 기법</td><td>Lazy vs Eager Singleton</td><td>생성 시점에 따른 구현 방법 이해</td></tr><tr><td>멀티스레드 제어</td><td>DCL, synchronized</td><td>스레드 안전성을 위한 다양한 방식 학습</td></tr><tr><td>테스트 전략</td><td>Singleton 객체의 테스트 대체</td><td>Mockito/DI/Spy 등 사용법 익히기</td></tr><tr><td>Spring Scope</td><td>Bean 관리 범위</td><td>Singleton, Prototype, Request Scope 등 이해</td></tr></tbody></table><hr><h2 id=19-확장-학습-주제>19. 확장 학습 주제<a hidden class=anchor aria-hidden=true href=#19-확장-학습-주제>#</a></h2><table><thead><tr><th>카테고리</th><th>주제</th><th>설명</th></tr></thead><tbody><tr><td>DI 기반 구조</td><td>Singleton 대체 아키텍처</td><td>Spring, NestJS 등 DI Container 이해</td></tr><tr><td>Provider Pattern</td><td>Singleton 간접 제공 구조</td><td>외부에서 Provider 를 통해 Singleton 공급</td></tr><tr><td>Static vs Singleton</td><td>차이점 및 적용 기준</td><td>static 유틸리티와 인스턴스 간 책임 구분 학습</td></tr><tr><td>Singleton + Factory</td><td>Singleton 객체를 Factory 로 감싸기</td><td>객체 생성을 Factory 로 추상화하여 결합도 분리</td></tr></tbody></table><hr><h2 id=용어-정리-2>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-2>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>Eager Initialization</td><td>클래스 로딩 시 즉시 인스턴스를 생성하는 방식</td></tr><tr><td>Lazy Initialization</td><td>필요할 때까지 인스턴스 생성을 미루는 방식</td></tr><tr><td>Double-Checked Locking</td><td>동기화 성능을 고려한 싱글톤 구현 기법</td></tr><tr><td>Enum Singleton</td><td>자바에서 안전하게 Singleton 을 구현하는 방법</td></tr><tr><td>Dependency Injection (DI)</td><td>객체 의존성을 외부에서 주입받는 설계 방식</td></tr></tbody></table><hr><h2 id=참고-및-출처-2>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-2>#</a></h2><ul><li><p><a href=https://refactoring.guru/design-patterns/singleton>Refactoring Guru – Singleton Pattern</a></p></li><li><p><a href=https://www.geeksforgeeks.org/singleton-design-pattern/>GeeksForGeeks – Singleton Pattern</a></p></li><li><p><a href=https://www.baeldung.com/java-singleton>Baeldung – Java Singleton</a></p></li><li><p><a href=https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html>Oracle Docs – Java Enum Singleton</a></p></li><li><p><a href=https://docs.spring.io/spring-framework/reference/core/beans/factory-scopes.html>Spring Documentation – Bean Scopes</a></p></li></ul><hr><p>필요하시면 아래 추가 자료도 제공 가능합니다:</p><ul><li><p>✅ Singleton vs Static 비교</p></li><li><p>✅ Java/Kotlin/Node.js 에서의 Singleton 구현 예제</p></li><li><p>✅ Spring 에서의 Singleton Bean Lifecycle 설명</p></li></ul><p>이제 수집한 정보를 바탕으로 싱글톤 패턴에 대한 포괄적인 분석을 시작하겠습니다.</p><h2 id=singleton-pattern-싱글톤-패턴-심화-분석>Singleton Pattern (싱글톤 패턴) 심화 분석<a hidden class=anchor aria-hidden=true href=#singleton-pattern-싱글톤-패턴-심화-분석>#</a></h2><h3 id=1-주제-분류-검증-및-개요>1. 주제 분류 검증 및 개요<a hidden class=anchor aria-hidden=true href=#1-주제-분류-검증-및-개요>#</a></h3><p><strong>주제 분류</strong>: &ldquo;Computer Science and Engineering&rdquo; > &ldquo;Software Design and Architecture&rdquo; > &ldquo;Software Design Patterns&rdquo; > &ldquo;GoF&rdquo; > &ldquo;Creational Design Patterns&rdquo;</p><p>이 분류는 적절하며 정확합니다. 싱글톤 패턴은 GoF(Gang of Four) 가 정의한 23 개의 디자인 패턴 중 생성 패턴 (Creational Design Patterns) 범주에 속하는 핵심적인 소프트웨어 설계 패턴입니다.</p><p><strong>개요 (250 자 내외)</strong>: 싱글톤 패턴은 클래스의 인스턴스가 오직 하나만 생성되도록 보장하면서 해당 인스턴스에 대한 전역 접근점을 제공하는 생성 디자인 패턴입니다. 메모리 효율성, 공유 자원 관리, 중앙 집중식 제어가 필요한 상황에서 활용되며, 데이터베이스 연결 풀, 로거, 설정 관리자 등에서 널리 사용됩니다. 단순해 보이지만 멀티스레드 안전성, 테스트 용이성, 의존성 관리 등 다양한 고려사항이 있어 신중한 구현이 필요한 패턴입니다.</p><p><strong>요약 문장 (200 자 내외)</strong>: 싱글톤 패턴은 애플리케이션 전역에서 하나의 인스턴스만 존재하도록 보장하고 이에 대한 전역 접근을 제공하는 GoF 생성 패턴으로, 공유 자원 관리와 메모리 효율성을 위해 사용되지만 멀티스레드 환경과 테스트 용이성 측면에서 신중한 구현이 요구됩니다.</p><h3 id=2-핵심-개념>2. 핵심 개념<a hidden class=anchor aria-hidden=true href=#2-핵심-개념>#</a></h3><p><strong>싱글톤 패턴의 핵심 개념들:</strong></p><ol><li><strong>단일 인스턴스 보장 (Unique Instance Guarantee)</strong>: 클래스의 인스턴스가 애플리케이션 전체에서 오직 하나만 생성되도록 보장</li><li><strong>전역 접근점 (Global Access Point)</strong>: 어디서든 해당 인스턴스에 접근할 수 있는 정적 메서드 제공</li><li><strong>지연 초기화 (Lazy Initialization)</strong>: 필요한 시점에만 인스턴스를 생성하는 방식</li><li><strong>즉시 초기화 (Eager Initialization)</strong>: 클래스 로딩 시점에 미리 인스턴스를 생성하는 방식</li><li><strong>스레드 안전성 (Thread Safety)</strong>: 멀티스레드 환경에서 단일 인스턴스 보장을 위한 동기화 메커니즘</li><li><strong>캡슐화된 생성자 (Private Constructor)</strong>: 외부에서 임의로 인스턴스를 생성하지 못하도록 하는 제어 메커니즘</li></ol><h3 id=3-배경-및-필요성>3. 배경 및 필요성<a hidden class=anchor aria-hidden=true href=#3-배경-및-필요성>#</a></h3><p><strong>배경</strong>:</p><ul><li>1995 년 GoF 의 &ldquo;Design Patterns: Elements of Reusable Object-Oriented Software&rdquo; 에서 공식적으로 정의</li><li>전역 변수의 문제점을 해결하면서도 전역 접근성을 제공하기 위해 고안</li><li>객체지향 프로그래밍에서 자원 관리와 상태 공유의 필요성에서 출발</li></ul><p><strong>목적 및 필요성</strong>:</p><ol><li><strong>자원 관리</strong>: 데이터베이스 연결 풀, 파일 시스템, 하드웨어 장치 등 제한된 자원의 효율적 관리</li><li><strong>메모리 효율성</strong>: 동일한 기능을 수행하는 여러 인스턴스 생성으로 인한 메모리 낭비 방지</li><li><strong>일관성 보장</strong>: 전역 상태나 설정 정보의 일관성 유지</li><li><strong>중앙 집중식 제어</strong>: 로깅, 캐싱, 스레드 풀 등의 중앙 집중식 관리</li></ol><h3 id=4-주요-기능-및-역할>4. 주요 기능 및 역할<a hidden class=anchor aria-hidden=true href=#4-주요-기능-및-역할>#</a></h3><p><strong>주요 기능</strong>:</p><ul><li>인스턴스 생성 제어 및 관리</li><li>전역 접근점 제공 (getInstance() 메서드)</li><li>인스턴스 생명주기 관리</li><li>상태 정보 중앙 집중 관리</li></ul><p><strong>역할</strong>:</p><ul><li><strong>Creator (생성자)</strong>: 유일한 인스턴스 생성 및 관리</li><li><strong>Access Point (접근점)</strong>: 전역에서 인스턴스에 접근할 수 있는 인터페이스 제공</li><li><strong>State Manager (상태 관리자)</strong>: 공유 상태 정보의 중앙 집중 관리</li></ul><h3 id=5-특징-및-핵심-원칙>5. 특징 및 핵심 원칙<a hidden class=anchor aria-hidden=true href=#5-특징-및-핵심-원칙>#</a></h3><p><strong>특징</strong>:</p><ol><li><strong>유일성 (Uniqueness)</strong>: 애플리케이션 전체에서 단 하나의 인스턴스만 존재</li><li><strong>전역성 (Global Access)</strong>: 어디서든 접근 가능한 전역 접근점 제공</li><li><strong>지연 로딩 (Lazy Loading)</strong>: 필요 시점에만 인스턴스 생성 (선택적)</li><li><strong>상태 공유 (State Sharing)</strong>: 모든 클라이언트가 동일한 인스턴스와 상태 공유</li></ol><p><strong>핵심 원칙</strong>:</p><ul><li><strong>단일 책임 원칙 (SRP)</strong>: 인스턴스 생성과 전역 접근이라는 두 가지 책임을 가짐 (일부 위반 소지)</li><li><strong>개방 - 폐쇄 원칙 (OCP)</strong>: 확장에는 열려있고 수정에는 닫혀있어야 함</li><li><strong>의존성 역전 원칙 (DIP)</strong>: 구체 클래스에 직접 의존하게 되어 위반 가능성 존재</li></ul><h3 id=6-구조-및-아키텍처-1>6. 구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#6-구조-및-아키텍처-1>#</a></h3><h4 id=필수-구성요소>필수 구성요소<a hidden class=anchor aria-hidden=true href=#필수-구성요소>#</a></h4><ol><li><p><strong>Singleton Class</strong></p><ul><li><strong>기능</strong>: 유일한 인스턴스 생성 및 관리</li><li><strong>역할</strong>: 자기 자신의 인스턴스를 하나만 생성하고 전역 접근점 제공</li><li><strong>특징</strong>: private 생성자, static 인스턴스 변수, public static getInstance() 메서드</li></ul></li><li><p><strong>Private Constructor</strong></p><ul><li><strong>기능</strong>: 외부에서의 인스턴스 생성 방지</li><li><strong>역할</strong>: 클래스 외부에서 new 연산자를 통한 인스턴스 생성 차단</li><li><strong>특징</strong>: 접근 제어자가 private 으로 설정</li></ul></li><li><p><strong>Static Instance Variable</strong></p><ul><li><strong>기능</strong>: 유일한 인스턴스 저장</li><li><strong>역할</strong>: 클래스 레벨에서 인스턴스 보관</li><li><strong>특징</strong>: static 으로 선언되어 클래스당 하나만 존재</li></ul></li><li><p><strong>getInstance() Method</strong></p><ul><li><strong>기능</strong>: 인스턴스에 대한 전역 접근점 제공</li><li><strong>역할</strong>: 인스턴스가 없으면 생성하고, 있으면 기존 인스턴스 반환</li><li><strong>특징</strong>: public static 으로 선언</li></ul></li></ol><h4 id=선택-구성요소>선택 구성요소<a hidden class=anchor aria-hidden=true href=#선택-구성요소>#</a></h4><ol><li><p><strong>Synchronization Mechanism (동기화 메커니즘)</strong></p><ul><li><strong>기능</strong>: 멀티스레드 환경에서 스레드 안전성 보장</li><li><strong>역할</strong>: 여러 스레드가 동시에 인스턴스 생성을 시도할 때 동기화</li><li><strong>특징</strong>: synchronized 키워드, volatile 키워드, Lock 등 사용</li></ul></li><li><p><strong>Lazy Holder (지연 홀더)</strong></p><ul><li><strong>기능</strong>: JVM 의 클래스 로딩 메커니즘을 활용한 지연 초기화</li><li><strong>역할</strong>: 필요할 때만 인스턴스 생성하면서 스레드 안전성 보장</li><li><strong>특징</strong>: 내부 정적 클래스를 활용</li></ul></li></ol><h3 id=7-구현-기법-1>7. 구현 기법<a hidden class=anchor aria-hidden=true href=#7-구현-기법-1>#</a></h3><h4 id=1-eager-initialization-즉시-초기화>1. Eager Initialization (즉시 초기화)<a hidden class=anchor aria-hidden=true href=#1-eager-initialization-즉시-초기화>#</a></h4><p><strong>정의</strong>: 클래스 로딩 시점에 즉시 인스턴스를 생성하는 방식 <strong>구성</strong>: static final 변수로 인스턴스 선언과 동시에 초기화 <strong>목적</strong>: 구현의 단순성과 스레드 안전성 보장 <strong>실제 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1>1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2>2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3>3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4>4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5>5</a>
</span><span class=lnt id=hl-22-6><a class=lnlinks href=#hl-22-6>6</a>
</span><span class=lnt id=hl-22-7><a class=lnlinks href=#hl-22-7>7</a>
</span><span class=lnt id=hl-22-8><a class=lnlinks href=#hl-22-8>8</a>
</span><span class=lnt id=hl-22-9><a class=lnlinks href=#hl-22-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>EagerSingleton</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>EagerSingleton</span><span class=w> </span><span class=n>instance</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>EagerSingleton</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=nf>EagerSingleton</span><span class=p>()</span><span class=w> </span><span class=p>{}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>EagerSingleton</span><span class=w> </span><span class=nf>getInstance</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>instance</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=2-lazy-initialization-지연-초기화>2. Lazy Initialization (지연 초기화)<a hidden class=anchor aria-hidden=true href=#2-lazy-initialization-지연-초기화>#</a></h4><p><strong>정의</strong>: 실제로 필요한 시점에 인스턴스를 생성하는 방식 <strong>구성</strong>: getInstance() 메서드 내에서 null 체크 후 인스턴스 생성 <strong>목적</strong>: 메모리 효율성과 불필요한 인스턴스 생성 방지 <strong>실제 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1> 1</a>
</span><span class=lnt id=hl-23-2><a class=lnlinks href=#hl-23-2> 2</a>
</span><span class=lnt id=hl-23-3><a class=lnlinks href=#hl-23-3> 3</a>
</span><span class=lnt id=hl-23-4><a class=lnlinks href=#hl-23-4> 4</a>
</span><span class=lnt id=hl-23-5><a class=lnlinks href=#hl-23-5> 5</a>
</span><span class=lnt id=hl-23-6><a class=lnlinks href=#hl-23-6> 6</a>
</span><span class=lnt id=hl-23-7><a class=lnlinks href=#hl-23-7> 7</a>
</span><span class=lnt id=hl-23-8><a class=lnlinks href=#hl-23-8> 8</a>
</span><span class=lnt id=hl-23-9><a class=lnlinks href=#hl-23-9> 9</a>
</span><span class=lnt id=hl-23-10><a class=lnlinks href=#hl-23-10>10</a>
</span><span class=lnt id=hl-23-11><a class=lnlinks href=#hl-23-11>11</a>
</span><span class=lnt id=hl-23-12><a class=lnlinks href=#hl-23-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>LazySingleton</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>LazySingleton</span><span class=w> </span><span class=n>instance</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=nf>LazySingleton</span><span class=p>()</span><span class=w> </span><span class=p>{}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>LazySingleton</span><span class=w> </span><span class=nf>getInstance</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>instance</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>instance</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>LazySingleton</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>instance</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=3-thread-safe-lazy-initialization-스레드-안전-지연-초기화>3. Thread-Safe Lazy Initialization (스레드 안전 지연 초기화)<a hidden class=anchor aria-hidden=true href=#3-thread-safe-lazy-initialization-스레드-안전-지연-초기화>#</a></h4><p><strong>정의</strong>: 멀티스레드 환경에서 안전한 지연 초기화 방식 <strong>구성</strong>: synchronized 키워드를 사용한 동기화 처리 <strong>목적</strong>: 멀티스레드 환경에서 단일 인스턴스 보장 <strong>실제 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1> 1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2> 2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3> 3</a>
</span><span class=lnt id=hl-24-4><a class=lnlinks href=#hl-24-4> 4</a>
</span><span class=lnt id=hl-24-5><a class=lnlinks href=#hl-24-5> 5</a>
</span><span class=lnt id=hl-24-6><a class=lnlinks href=#hl-24-6> 6</a>
</span><span class=lnt id=hl-24-7><a class=lnlinks href=#hl-24-7> 7</a>
</span><span class=lnt id=hl-24-8><a class=lnlinks href=#hl-24-8> 8</a>
</span><span class=lnt id=hl-24-9><a class=lnlinks href=#hl-24-9> 9</a>
</span><span class=lnt id=hl-24-10><a class=lnlinks href=#hl-24-10>10</a>
</span><span class=lnt id=hl-24-11><a class=lnlinks href=#hl-24-11>11</a>
</span><span class=lnt id=hl-24-12><a class=lnlinks href=#hl-24-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>ThreadSafeSingleton</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>ThreadSafeSingleton</span><span class=w> </span><span class=n>instance</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=nf>ThreadSafeSingleton</span><span class=p>()</span><span class=w> </span><span class=p>{}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>synchronized</span><span class=w> </span><span class=n>ThreadSafeSingleton</span><span class=w> </span><span class=nf>getInstance</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>instance</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>instance</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ThreadSafeSingleton</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>instance</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=4-double-checked-locking-이중-확인-잠금>4. Double-Checked Locking (이중 확인 잠금)<a hidden class=anchor aria-hidden=true href=#4-double-checked-locking-이중-확인-잠금>#</a></h4><p><strong>정의</strong>: 성능 향상을 위해 두 번의 null 체크를 수행하는 방식 <strong>구성</strong>: volatile 키워드와 synchronized 블록 조합 <strong>목적</strong>: 동기화 오버헤드 최소화와 스레드 안전성 보장 <strong>실제 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1> 1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2> 2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3> 3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4> 4</a>
</span><span class=lnt id=hl-25-5><a class=lnlinks href=#hl-25-5> 5</a>
</span><span class=lnt id=hl-25-6><a class=lnlinks href=#hl-25-6> 6</a>
</span><span class=lnt id=hl-25-7><a class=lnlinks href=#hl-25-7> 7</a>
</span><span class=lnt id=hl-25-8><a class=lnlinks href=#hl-25-8> 8</a>
</span><span class=lnt id=hl-25-9><a class=lnlinks href=#hl-25-9> 9</a>
</span><span class=lnt id=hl-25-10><a class=lnlinks href=#hl-25-10>10</a>
</span><span class=lnt id=hl-25-11><a class=lnlinks href=#hl-25-11>11</a>
</span><span class=lnt id=hl-25-12><a class=lnlinks href=#hl-25-12>12</a>
</span><span class=lnt id=hl-25-13><a class=lnlinks href=#hl-25-13>13</a>
</span><span class=lnt id=hl-25-14><a class=lnlinks href=#hl-25-14>14</a>
</span><span class=lnt id=hl-25-15><a class=lnlinks href=#hl-25-15>15</a>
</span><span class=lnt id=hl-25-16><a class=lnlinks href=#hl-25-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>DoubleCheckedSingleton</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>volatile</span><span class=w> </span><span class=n>DoubleCheckedSingleton</span><span class=w> </span><span class=n>instance</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=nf>DoubleCheckedSingleton</span><span class=p>()</span><span class=w> </span><span class=p>{}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>DoubleCheckedSingleton</span><span class=w> </span><span class=nf>getInstance</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>instance</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kd>synchronized</span><span class=w> </span><span class=p>(</span><span class=n>DoubleCheckedSingleton</span><span class=p>.</span><span class=na>class</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>instance</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>instance</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>DoubleCheckedSingleton</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>instance</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=5-bill-pugh-solution-lazy-holder>5. Bill Pugh Solution (Lazy Holder)<a hidden class=anchor aria-hidden=true href=#5-bill-pugh-solution-lazy-holder>#</a></h4><p><strong>정의</strong>: JVM 의 클래스 로딩 메커니즘을 활용한 지연 초기화 <strong>구성</strong>: 내부 정적 클래스 (Inner Static Class) 를 활용 <strong>목적</strong>: 동기화 없이 지연 로딩과 스레드 안전성 동시 달성 <strong>실제 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1> 1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2> 2</a>
</span><span class=lnt id=hl-26-3><a class=lnlinks href=#hl-26-3> 3</a>
</span><span class=lnt id=hl-26-4><a class=lnlinks href=#hl-26-4> 4</a>
</span><span class=lnt id=hl-26-5><a class=lnlinks href=#hl-26-5> 5</a>
</span><span class=lnt id=hl-26-6><a class=lnlinks href=#hl-26-6> 6</a>
</span><span class=lnt id=hl-26-7><a class=lnlinks href=#hl-26-7> 7</a>
</span><span class=lnt id=hl-26-8><a class=lnlinks href=#hl-26-8> 8</a>
</span><span class=lnt id=hl-26-9><a class=lnlinks href=#hl-26-9> 9</a>
</span><span class=lnt id=hl-26-10><a class=lnlinks href=#hl-26-10>10</a>
</span><span class=lnt id=hl-26-11><a class=lnlinks href=#hl-26-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>BillPughSingleton</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=nf>BillPughSingleton</span><span class=p>()</span><span class=w> </span><span class=p>{}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>class</span> <span class=nc>SingletonHolder</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>BillPughSingleton</span><span class=w> </span><span class=n>INSTANCE</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>BillPughSingleton</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>BillPughSingleton</span><span class=w> </span><span class=nf>getInstance</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>SingletonHolder</span><span class=p>.</span><span class=na>INSTANCE</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=6-enum-singleton-열거형-싱글톤>6. Enum Singleton (열거형 싱글톤)<a hidden class=anchor aria-hidden=true href=#6-enum-singleton-열거형-싱글톤>#</a></h4><p><strong>정의</strong>: Java 의 Enum 을 활용한 싱글톤 구현 <strong>구성</strong>: enum 타입으로 싱글톤 클래스 정의 <strong>목적</strong>: 직렬화/역직렬화 문제와 리플렉션 공격 방지 <strong>실제 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1>1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2>2</a>
</span><span class=lnt id=hl-27-3><a class=lnlinks href=#hl-27-3>3</a>
</span><span class=lnt id=hl-27-4><a class=lnlinks href=#hl-27-4>4</a>
</span><span class=lnt id=hl-27-5><a class=lnlinks href=#hl-27-5>5</a>
</span><span class=lnt id=hl-27-6><a class=lnlinks href=#hl-27-6>6</a>
</span><span class=lnt id=hl-27-7><a class=lnlinks href=#hl-27-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=kd>enum</span><span class=w> </span><span class=n>EnumSingleton</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>INSTANCE</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>doSomething</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 비즈니스 로직</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=8-장점과-단점-1>8. 장점과 단점<a hidden class=anchor aria-hidden=true href=#8-장점과-단점-1>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>✅ 장점</td><td>메모리 효율성</td><td>단일 인스턴스로 인한 메모리 사용량 최소화</td></tr><tr><td></td><td>전역 접근 가능</td><td>애플리케이션 어디서든 쉽게 접근 가능한 전역 접근점 제공</td></tr><tr><td></td><td>리소스 공유</td><td>데이터베이스 연결, 파일 핸들 등 제한된 자원의 효율적 공유</td></tr><tr><td></td><td>일관성 보장</td><td>전역 상태나 설정 정보의 일관성 유지</td></tr><tr><td></td><td>지연 초기화 지원</td><td>필요한 시점에만 인스턴스 생성으로 초기화 비용 절약</td></tr><tr><td>⚠ 단점</td><td>테스트 어려움</td><td>Mock 객체 생성 어려움과 테스트 간 상태 공유로 인한 독립성 저해</td></tr><tr><td></td><td>높은 결합도</td><td>전역 접근으로 인한 클래스 간 강결합과 의존성 증가</td></tr><tr><td></td><td>멀티스레드 복잡성</td><td>스레드 안전성 보장을 위한 추가적인 동기화 메커니즘 필요</td></tr><tr><td></td><td>확장성 제한</td><td>상속이 어렵고 인터페이스 구현 시 제약 존재</td></tr><tr><td></td><td>숨겨진 의존성</td><td>명시적이지 않은 의존성으로 인한 코드 이해도 저하</td></tr></tbody></table><h3 id=9-도전-과제>9. 도전 과제<a hidden class=anchor aria-hidden=true href=#9-도전-과제>#</a></h3><p><strong>1. 멀티스레드 동시성 문제</strong></p><ul><li><strong>설명</strong>: 여러 스레드가 동시에 getInstance() 를 호출할 때 여러 인스턴스가 생성될 수 있음</li><li><strong>해결책</strong>: synchronized 키워드, Double-Checked Locking, Lazy Holder 패턴 등 활용</li></ul><p><strong>2. 테스트 용이성 문제</strong></p><ul><li><strong>설명</strong>: 싱글톤 인스턴스의 전역 상태로 인한 테스트 간 간섭과 Mock 객체 생성 어려움</li><li><strong>해결책</strong>: Dependency Injection 사용, 테스트용 리셋 메서드 제공, 인터페이스 기반 설계</li></ul><p><strong>3. 직렬화/역직렬화 문제</strong></p><ul><li><strong>설명</strong>: 직렬화 후 역직렬화 시 새로운 인스턴스가 생성될 수 있음</li><li><strong>해결책</strong>: readResolve() 메서드 구현, Enum 싱글톤 사용</li></ul><p><strong>4. 리플렉션 공격</strong></p><ul><li><strong>설명</strong>: 리플렉션 API 를 통해 private 생성자를 호출하여 여러 인스턴스 생성 가능</li><li><strong>해결책</strong>: 생성자에서 중복 생성 방지 로직 추가, Enum 싱글톤 사용</li></ul><p><strong>5. 클래스 로더 문제</strong></p><ul><li><strong>설명</strong>: 서로 다른 클래스 로더에서 로딩될 때 여러 인스턴스 생성 가능</li><li><strong>해결책</strong>: 클래스 로더 고려한 설계, 컨테이너 기반 싱글톤 사용</li></ul><h3 id=10-분류에-따른-종류-및-유형-1>10. 분류에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#10-분류에-따른-종류-및-유형-1>#</a></h3><table><thead><tr><th>분류 기준</th><th>유형</th><th>특징</th><th>사용 시기</th></tr></thead><tbody><tr><td>초기화 시점</td><td>Eager Initialization</td><td>클래스 로딩 시 즉시 생성</td><td>항상 사용되는 경우</td></tr><tr><td></td><td>Lazy Initialization</td><td>필요 시점에 생성</td><td>선택적으로 사용되는 경우</td></tr><tr><td>스레드 안전성</td><td>Thread-Safe</td><td>멀티스레드 환경에서 안전</td><td>멀티스레드 애플리케이션</td></tr><tr><td></td><td>Non Thread-Safe</td><td>단일 스레드에서만 안전</td><td>단일 스레드 애플리케이션</td></tr><tr><td>구현 방식</td><td>Classic Singleton</td><td>전통적인 방식의 구현</td><td>간단한 요구사항</td></tr><tr><td></td><td>Double-Checked Locking</td><td>성능 최적화된 구현</td><td>성능이 중요한 경우</td></tr><tr><td></td><td>Bill Pugh Solution</td><td>JVM 클래스 로딩 활용</td><td>최적의 성능과 안전성 필요</td></tr><tr><td></td><td>Enum Singleton</td><td>열거형 기반 구현</td><td>직렬화와 리플렉션 방어 필요</td></tr><tr><td>상태 관리</td><td>Stateful Singleton</td><td>내부 상태를 가지는 싱글톤</td><td>설정 관리, 캐시 등</td></tr><tr><td></td><td>Stateless Singleton</td><td>상태를 가지지 않는 싱글톤</td><td>유틸리티, 팩토리 등</td></tr></tbody></table><h3 id=11-실무-적용-예시-1>11. 실무 적용 예시<a hidden class=anchor aria-hidden=true href=#11-실무-적용-예시-1>#</a></h3><table><thead><tr><th>분야</th><th>예시</th><th>적용 이유</th><th>구현 방식</th></tr></thead><tbody><tr><td>로깅</td><td>Logger</td><td>전역 로깅 관리, 파일 핸들 절약</td><td>Thread-Safe Lazy</td></tr><tr><td>데이터베이스</td><td>Connection Pool</td><td>연결 자원 관리, 성능 최적화</td><td>Bill Pugh Solution</td></tr><tr><td>설정 관리</td><td>Configuration Manager</td><td>전역 설정 일관성, 메모리 효율성</td><td>Eager Initialization</td></tr><tr><td>캐싱</td><td>Cache Manager</td><td>메모리 효율성, 전역 캐시 접근</td><td>Double-Checked Locking</td></tr><tr><td>하드웨어 제어</td><td>Printer Controller</td><td>하드웨어 자원 독점, 충돌 방지</td><td>Synchronized</td></tr><tr><td>스레드 풀</td><td>Thread Pool Manager</td><td>스레드 자원 관리, 성능 최적화</td><td>Thread-Safe</td></tr></tbody></table><h3 id=12-활용-사례>12. 활용 사례<a hidden class=anchor aria-hidden=true href=#12-활용-사례>#</a></h3><p><strong>시나리오</strong>: 대규모 웹 애플리케이션의 로깅 시스템 구축</p><p><strong>시스템 구성</strong>:</p><ul><li><strong>웹 서버</strong>: Tomcat 기반 멀티스레드 환경</li><li><strong>애플리케이션</strong>: Spring Framework 기반</li><li><strong>로깅</strong>: 파일과 데이터베이스 동시 로깅</li></ul><p><strong>Singleton 활용</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-28-1><a class=lnlinks href=#hl-28-1> 1</a>
</span><span class=lnt id=hl-28-2><a class=lnlinks href=#hl-28-2> 2</a>
</span><span class=lnt id=hl-28-3><a class=lnlinks href=#hl-28-3> 3</a>
</span><span class=lnt id=hl-28-4><a class=lnlinks href=#hl-28-4> 4</a>
</span><span class=lnt id=hl-28-5><a class=lnlinks href=#hl-28-5> 5</a>
</span><span class=lnt id=hl-28-6><a class=lnlinks href=#hl-28-6> 6</a>
</span><span class=lnt id=hl-28-7><a class=lnlinks href=#hl-28-7> 7</a>
</span><span class=lnt id=hl-28-8><a class=lnlinks href=#hl-28-8> 8</a>
</span><span class=lnt id=hl-28-9><a class=lnlinks href=#hl-28-9> 9</a>
</span><span class=lnt id=hl-28-10><a class=lnlinks href=#hl-28-10>10</a>
</span><span class=lnt id=hl-28-11><a class=lnlinks href=#hl-28-11>11</a>
</span><span class=lnt id=hl-28-12><a class=lnlinks href=#hl-28-12>12</a>
</span><span class=lnt id=hl-28-13><a class=lnlinks href=#hl-28-13>13</a>
</span><span class=lnt id=hl-28-14><a class=lnlinks href=#hl-28-14>14</a>
</span><span class=lnt id=hl-28-15><a class=lnlinks href=#hl-28-15>15</a>
</span><span class=lnt id=hl-28-16><a class=lnlinks href=#hl-28-16>16</a>
</span><span class=lnt id=hl-28-17><a class=lnlinks href=#hl-28-17>17</a>
</span><span class=lnt id=hl-28-18><a class=lnlinks href=#hl-28-18>18</a>
</span><span class=lnt id=hl-28-19><a class=lnlinks href=#hl-28-19>19</a>
</span><span class=lnt id=hl-28-20><a class=lnlinks href=#hl-28-20>20</a>
</span><span class=lnt id=hl-28-21><a class=lnlinks href=#hl-28-21>21</a>
</span><span class=lnt id=hl-28-22><a class=lnlinks href=#hl-28-22>22</a>
</span><span class=lnt id=hl-28-23><a class=lnlinks href=#hl-28-23>23</a>
</span><span class=lnt id=hl-28-24><a class=lnlinks href=#hl-28-24>24</a>
</span><span class=lnt id=hl-28-25><a class=lnlinks href=#hl-28-25>25</a>
</span><span class=lnt id=hl-28-26><a class=lnlinks href=#hl-28-26>26</a>
</span><span class=lnt id=hl-28-27><a class=lnlinks href=#hl-28-27>27</a>
</span><span class=lnt id=hl-28-28><a class=lnlinks href=#hl-28-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>ApplicationLogger</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>volatile</span><span class=w> </span><span class=n>ApplicationLogger</span><span class=w> </span><span class=n>instance</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>FileWriter</span><span class=w> </span><span class=n>fileWriter</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>DatabaseLogger</span><span class=w> </span><span class=n>dbLogger</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=nf>ApplicationLogger</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>fileWriter</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>FileWriter</span><span class=p>(</span><span class=s>&#34;app.log&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>dbLogger</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>DatabaseLogger</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>ApplicationLogger</span><span class=w> </span><span class=nf>getInstance</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>instance</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kd>synchronized</span><span class=w> </span><span class=p>(</span><span class=n>ApplicationLogger</span><span class=p>.</span><span class=na>class</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>instance</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>instance</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ApplicationLogger</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>instance</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>log</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>level</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>message</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>String</span><span class=w> </span><span class=n>logEntry</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>String</span><span class=p>.</span><span class=na>format</span><span class=p>(</span><span class=s>&#34;[%s] %s: %s&#34;</span><span class=p>,</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>new</span><span class=w> </span><span class=n>Date</span><span class=p>(),</span><span class=w> </span><span class=n>level</span><span class=p>,</span><span class=w> </span><span class=n>message</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>fileWriter</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=n>logEntry</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>dbLogger</span><span class=p>.</span><span class=na>save</span><span class=p>(</span><span class=n>level</span><span class=p>,</span><span class=w> </span><span class=n>message</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>시스템 구성 다이어그램</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-29-1><a class=lnlinks href=#hl-29-1> 1</a>
</span><span class=lnt id=hl-29-2><a class=lnlinks href=#hl-29-2> 2</a>
</span><span class=lnt id=hl-29-3><a class=lnlinks href=#hl-29-3> 3</a>
</span><span class=lnt id=hl-29-4><a class=lnlinks href=#hl-29-4> 4</a>
</span><span class=lnt id=hl-29-5><a class=lnlinks href=#hl-29-5> 5</a>
</span><span class=lnt id=hl-29-6><a class=lnlinks href=#hl-29-6> 6</a>
</span><span class=lnt id=hl-29-7><a class=lnlinks href=#hl-29-7> 7</a>
</span><span class=lnt id=hl-29-8><a class=lnlinks href=#hl-29-8> 8</a>
</span><span class=lnt id=hl-29-9><a class=lnlinks href=#hl-29-9> 9</a>
</span><span class=lnt id=hl-29-10><a class=lnlinks href=#hl-29-10>10</a>
</span><span class=lnt id=hl-29-11><a class=lnlinks href=#hl-29-11>11</a>
</span><span class=lnt id=hl-29-12><a class=lnlinks href=#hl-29-12>12</a>
</span><span class=lnt id=hl-29-13><a class=lnlinks href=#hl-29-13>13</a>
</span><span class=lnt id=hl-29-14><a class=lnlinks href=#hl-29-14>14</a>
</span><span class=lnt id=hl-29-15><a class=lnlinks href=#hl-29-15>15</a>
</span><span class=lnt id=hl-29-16><a class=lnlinks href=#hl-29-16>16</a>
</span><span class=lnt id=hl-29-17><a class=lnlinks href=#hl-29-17>17</a>
</span><span class=lnt id=hl-29-18><a class=lnlinks href=#hl-29-18>18</a>
</span><span class=lnt id=hl-29-19><a class=lnlinks href=#hl-29-19>19</a>
</span><span class=lnt id=hl-29-20><a class=lnlinks href=#hl-29-20>20</a>
</span><span class=lnt id=hl-29-21><a class=lnlinks href=#hl-29-21>21</a>
</span><span class=lnt id=hl-29-22><a class=lnlinks href=#hl-29-22>22</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐
</span></span><span class=line><span class=cl>│   Web Layer     │───▶│  Service Layer   │───▶│  Data Layer     │
</span></span><span class=line><span class=cl>│ (Controllers)   │    │ (Business Logic) │    │ (Repositories)  │
</span></span><span class=line><span class=cl>└─────────────────┘    └──────────────────┘    └─────────────────┘
</span></span><span class=line><span class=cl>         │                       │                       │
</span></span><span class=line><span class=cl>         └───────────────────────┼───────────────────────┘
</span></span><span class=line><span class=cl>                                 ▼
</span></span><span class=line><span class=cl>                    ┌─────────────────────────┐
</span></span><span class=line><span class=cl>                    │   ApplicationLogger     │
</span></span><span class=line><span class=cl>                    │    (Singleton)          │
</span></span><span class=line><span class=cl>                    │                         │
</span></span><span class=line><span class=cl>                    │ - fileWriter            │
</span></span><span class=line><span class=cl>                    │ - dbLogger              │
</span></span><span class=line><span class=cl>                    │ + getInstance()         │
</span></span><span class=line><span class=cl>                    │ + log()                 │
</span></span><span class=line><span class=cl>                    └─────────────────────────┘
</span></span><span class=line><span class=cl>                                 │
</span></span><span class=line><span class=cl>                    ┌─────────────┼─────────────┐
</span></span><span class=line><span class=cl>                    ▼             ▼             ▼
</span></span><span class=line><span class=cl>            ┌──────────────┐ ┌──────────┐ ┌──────────────┐
</span></span><span class=line><span class=cl>            │  File System │ │ Database │ │ Console Out  │
</span></span><span class=line><span class=cl>            └──────────────┘ └──────────┘ └──────────────┘
</span></span></code></pre></td></tr></table></div></div><p><strong>활용 사례 Workflow</strong>:</p><ol><li><strong>애플리케이션 시작</strong>: 첫 번째 로그 요청 시 싱글톤 인스턴스 생성</li><li><strong>로깅 요청</strong>: 각 레이어에서 ApplicationLogger.getInstance().log() 호출</li><li><strong>동시 처리</strong>: 멀티스레드 환경에서 동기화된 로깅 처리</li><li><strong>자원 관리</strong>: 파일 핸들과 DB 연결 효율적 관리</li></ol><p><strong>역할</strong>:</p><ul><li><strong>중앙 집중식 로깅</strong>: 모든 컴포넌트가 동일한 로거 인스턴스 사용</li><li><strong>자원 효율성</strong>: 파일 핸들과 DB 연결 재사용</li><li><strong>일관성 보장</strong>: 로그 형식과 레벨의 일관된 관리</li></ul><h3 id=13-실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>13. 실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#13-실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>구분</th><th>고려사항</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>설계</td><td>의존성 관리</td><td>싱글톤에 대한 직접 의존성 최소화</td><td>인터페이스 기반 설계, DI 컨테이너 활용</td></tr><tr><td>구현</td><td>스레드 안전성</td><td>멀티스레드 환경에서의 동시성 문제</td><td>Bill Pugh Solution 또는 Enum 방식 사용</td></tr><tr><td>테스트</td><td>테스트 용이성</td><td>Mock 객체 생성과 테스트 격리</td><td>인터페이스 추출, 테스트용 리셋 메서드 제공</td></tr><tr><td>성능</td><td>초기화 전략</td><td>Eager vs Lazy 초기화 선택</td><td>사용 패턴에 따른 적절한 전략 선택</td></tr><tr><td>확장성</td><td>확장 가능성</td><td>싱글톤의 제약사항 고려</td><td>필요시 팩토리 패턴으로 전환 가능하도록 설계</td></tr><tr><td>유지보수</td><td>코드 복잡성</td><td>구현 방식에 따른 복잡성 관리</td><td>가장 단순하면서 요구사항을 만족하는 방식 선택</td></tr></tbody></table><h3 id=14-성능을-최적화하기-위한-고려사항-및-주의할-점>14. 성능을 최적화하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#14-성능을-최적화하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>구분</th><th>고려사항</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>메모리</td><td>인스턴스 크기</td><td>싱글톤 인스턴스의 메모리 사용량</td><td>필요한 상태만 보관, 지연 로딩 활용</td></tr><tr><td>동기화</td><td>동기화 오버헤드</td><td>synchronized 키워드의 성능 영향</td><td>Double-Checked Locking, Bill Pugh Solution 활용</td></tr><tr><td>초기화</td><td>초기화 비용</td><td>인스턴스 생성 시점과 비용</td><td>생성 비용이 높으면 Lazy, 낮으면 Eager 방식</td></tr><tr><td>접근</td><td>접근 빈도</td><td>getInstance() 호출 빈도</td><td>자주 사용되면 로컬 캐싱 고려</td></tr><tr><td>상태</td><td>상태 관리</td><td>내부 상태 변경의 동기화 비용</td><td>불변 객체 사용, 상태 최소화</td></tr><tr><td>확장성</td><td>스케일링</td><td>분산 환경에서의 싱글톤 한계</td><td>분산 캐시, 클러스터 고려 설계</td></tr></tbody></table><h3 id=15-2025-년-기준-최신-동향>15. 2025 년 기준 최신 동향<a hidden class=anchor aria-hidden=true href=#15-2025-년-기준-최신-동향>#</a></h3><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>마이크로서비스</td><td>분산 싱글톤</td><td>서비스 간 상태 공유를 위한 분산 싱글톤 패턴 연구</td></tr><tr><td>클라우드 네이티브</td><td>컨테이너 기반</td><td>Kubernetes 환경에서의 싱글톤 라이프사이클 관리</td></tr><tr><td>의존성 주입</td><td>DI 프레임워크</td><td>Spring, Dagger, Hilt 등에서의 싱글톤 스코프 관리</td></tr><tr><td>함수형 프로그래밍</td><td>불변성 강조</td><td>함수형 패러다임에서의 싱글톤 대안 패턴 연구</td></tr><tr><td>테스트 주도 개발</td><td>테스트 용이성</td><td>테스트하기 쉬운 싱글톤 대안 패턴들의 등장</td></tr><tr><td>성능 최적화</td><td>JVM 최적화</td><td>JIT 컴파일러와 GC 를 고려한 싱글톤 구현 방식</td></tr></tbody></table><h3 id=16-주제와-관련하여-주목할-내용>16. 주제와 관련하여 주목할 내용<a hidden class=anchor aria-hidden=true href=#16-주제와-관련하여-주목할-내용>#</a></h3><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>안티패턴 논쟁</td><td>싱글톤의 문제점</td><td>전역 상태, 테스트 어려움 등으로 안티패턴으로 간주되는 경향</td></tr><tr><td>대안 패턴</td><td>Dependency Injection</td><td>IoC 컨테이너를 통한 싱글톤 관리로 문제점 해결</td></tr><tr><td>모바일 개발</td><td>안드로이드 싱글톤</td><td>액티비티 생명주기와 메모리 관리를 고려한 구현</td></tr><tr><td>웹 개발</td><td>세션 관리</td><td>웹 애플리케이션에서의 사용자별 상태 관리 vs 전역 상태</td></tr><tr><td>게임 개발</td><td>게임 매니저</td><td>게임 상태, 리소스 관리를 위한 싱글톤 활용</td></tr><tr><td>보안</td><td>스레드 안전성</td><td>멀티스레드 보안 취약점과 동기화 메커니즘</td></tr></tbody></table><h3 id=17-앞으로의-전망>17. 앞으로의 전망<a hidden class=anchor aria-hidden=true href=#17-앞으로의-전망>#</a></h3><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>패러다임 변화</td><td>함수형 지향</td><td>불변성과 순수 함수를 선호하는 추세로 싱글톤 사용 감소</td></tr><tr><td>아키텍처 진화</td><td>마이크로서비스</td><td>서비스 간 독립성을 위해 전역 상태 지양</td></tr><tr><td>테스트 문화</td><td>TDD/BDD 확산</td><td>테스트 용이성 중시로 의존성 주입 선호</td></tr><tr><td>클라우드 컴퓨팅</td><td>서버리스</td><td>상태 비저장 (Stateless) 아키텍처 선호</td></tr><tr><td>개발 도구</td><td>정적 분석</td><td>코드 분석 도구들의 싱글톤 패턴 문제점 탐지 기능 강화</td></tr><tr><td>교육 변화</td><td>패턴 교육</td><td>싱글톤의 문제점과 대안 패턴을 함께 교육하는 추세</td></tr></tbody></table><h3 id=18-하위-주제로-분류한-추가-학습-내용>18. 하위 주제로 분류한 추가 학습 내용<a hidden class=anchor aria-hidden=true href=#18-하위-주제로-분류한-추가-학습-내용>#</a></h3><table><thead><tr><th>카테고리</th><th>주제</th><th>설명</th></tr></thead><tbody><tr><td>구현 기법</td><td>Thread-Safe Patterns</td><td>멀티스레드 환경에서의 안전한 싱글톤 구현</td></tr><tr><td>성능 최적화</td><td>Memory Management</td><td>JVM 메모리 모델과 싱글톤 인스턴스 관리</td></tr><tr><td>테스트 전략</td><td>Testable Singleton</td><td>테스트 가능한 싱글톤 설계 패턴</td></tr><tr><td>대안 패턴</td><td>Service Locator</td><td>싱글톤의 대안으로 사용되는 서비스 로케이터 패턴</td></tr><tr><td>프레임워크 통합</td><td>Spring Singleton</td><td>Spring Framework 에서의 싱글톤 스코프 관리</td></tr><tr><td>분산 시스템</td><td>Distributed Singleton</td><td>분산 환경에서의 싱글톤 구현 방법</td></tr></tbody></table><h3 id=19-추가로-알아야-하거나-학습해야-할-내용>19. 추가로 알아야 하거나 학습해야 할 내용<a hidden class=anchor aria-hidden=true href=#19-추가로-알아야-하거나-학습해야-할-내용>#</a></h3><table><thead><tr><th>관련 분야</th><th>주제</th><th>설명</th></tr></thead><tbody><tr><td>동시성 프로그래밍</td><td>Java Memory Model</td><td>volatile, synchronized 의 작동 원리</td></tr><tr><td>디자인 패턴</td><td>Factory Pattern</td><td>싱글톤과 함께 사용되는 팩토리 패턴</td></tr><tr><td>아키텍처 패턴</td><td>Dependency Injection</td><td>IoC 와 DI 컨테이너를 통한 싱글톤 관리</td></tr><tr><td>테스트 기법</td><td>Mocking Framework</td><td>Mockito, PowerMock 을 이용한 싱글톤 테스트</td></tr><tr><td>JVM 내부 구조</td><td>Class Loading</td><td>클래스 로더와 싱글톤 인스턴스 생명주기</td></tr><tr><td>함수형 프로그래밍</td><td>Immutable Objects</td><td>불변 객체를 이용한 싱글톤 대안</td></tr><tr><td>리액티브 프로그래밍</td><td>State Management</td><td>반응형 시스템에서의 상태 관리 패턴</td></tr><tr><td>마이크로서비스</td><td>Service Discovery</td><td>분산 환경에서의 서비스 인스턴스 관리</td></tr></tbody></table><h3 id=20-gof-디자인-패턴의-추가-조사-내용>20. GoF 디자인 패턴의 추가 조사 내용<a hidden class=anchor aria-hidden=true href=#20-gof-디자인-패턴의-추가-조사-내용>#</a></h3><h4 id=패턴-이름과-분류-1>패턴 이름과 분류<a hidden class=anchor aria-hidden=true href=#패턴-이름과-분류-1>#</a></h4><ul><li><strong>이름</strong>: Singleton Pattern (싱글톤 패턴)</li><li><strong>분류</strong>: Creational Design Pattern (생성 패턴)</li><li><strong>GoF 카테고리</strong>: Object Creational Pattern</li></ul><h4 id=의도-intent-1>의도 (Intent)<a hidden class=anchor aria-hidden=true href=#의도-intent-1>#</a></h4><p>클래스에 인스턴스가 하나만 있도록 하면서 이 인스턴스에 대한 전역 접근점을 제공합니다.</p><h4 id=다른-이름-also-known-as-1>다른 이름 (Also Known As)<a hidden class=anchor aria-hidden=true href=#다른-이름-also-known-as-1>#</a></h4><ul><li>Single Instance Pattern</li><li>Global Access Pattern</li></ul><h4 id=동기-motivation--forces-1>동기 (Motivation / Forces)<a hidden class=anchor aria-hidden=true href=#동기-motivation--forces-1>#</a></h4><ul><li>시스템에서 정확히 하나의 인스턴스만 필요한 클래스들이 존재</li><li>전역 변수보다 더 나은 해결책 필요</li><li>인스턴스에 대한 제어된 접근 필요</li><li>네임스페이스를 좁히지 않으면서 전역 접근점 제공</li></ul><h4 id=적용-가능성-applicability-1>적용 가능성 (Applicability)<a hidden class=anchor aria-hidden=true href=#적용-가능성-applicability-1>#</a></h4><p>다음과 같은 경우에 싱글톤 패턴을 사용합니다:</p><ul><li>클래스의 인스턴스가 오직 하나만 존재해야 하고, 잘 알려진 접근점에서 클라이언트들이 이를 접근할 수 있어야 할 때</li><li>유일한 인스턴스가 서브클래싱으로 확장되어야 하고, 클라이언트들이 코드의 수정 없이 확장된 인스턴스를 사용할 수 있어야 할 때</li></ul><h4 id=구조-structure>구조 (Structure)<a hidden class=anchor aria-hidden=true href=#구조-structure>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-30-1><a class=lnlinks href=#hl-30-1> 1</a>
</span><span class=lnt id=hl-30-2><a class=lnlinks href=#hl-30-2> 2</a>
</span><span class=lnt id=hl-30-3><a class=lnlinks href=#hl-30-3> 3</a>
</span><span class=lnt id=hl-30-4><a class=lnlinks href=#hl-30-4> 4</a>
</span><span class=lnt id=hl-30-5><a class=lnlinks href=#hl-30-5> 5</a>
</span><span class=lnt id=hl-30-6><a class=lnlinks href=#hl-30-6> 6</a>
</span><span class=lnt id=hl-30-7><a class=lnlinks href=#hl-30-7> 7</a>
</span><span class=lnt id=hl-30-8><a class=lnlinks href=#hl-30-8> 8</a>
</span><span class=lnt id=hl-30-9><a class=lnlinks href=#hl-30-9> 9</a>
</span><span class=lnt id=hl-30-10><a class=lnlinks href=#hl-30-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>┌─────────────────────────┐
</span></span><span class=line><span class=cl>│      Singleton          │
</span></span><span class=line><span class=cl>├─────────────────────────┤
</span></span><span class=line><span class=cl>│ - instance: Singleton   │
</span></span><span class=line><span class=cl>├─────────────────────────┤
</span></span><span class=line><span class=cl>│ - Singleton()           │
</span></span><span class=line><span class=cl>│ + getInstance()         │
</span></span><span class=line><span class=cl>│ + singletonOperation()  │
</span></span><span class=line><span class=cl>│ + getSingletonData()    │
</span></span><span class=line><span class=cl>└─────────────────────────┘
</span></span></code></pre></td></tr></table></div></div><h4 id=참여자-participants>참여자 (Participants)<a hidden class=anchor aria-hidden=true href=#참여자-participants>#</a></h4><ul><li><strong>Singleton</strong>: 자신의 유일한 인스턴스로의 접근을 정의하고 제어하는 클래스</li></ul><h4 id=협력-collaboration>협력 (Collaboration)<a hidden class=anchor aria-hidden=true href=#협력-collaboration>#</a></h4><p>클라이언트들은 Singleton 인스턴스에 getInstance() 연산을 통해서만 접근할 수 있습니다.</p><h4 id=결과-consequences>결과 (Consequences)<a hidden class=anchor aria-hidden=true href=#결과-consequences>#</a></h4><p><strong>장점</strong>:</p><ol><li><strong>유일한 인스턴스로의 제어된 접근</strong>: Singleton 클래스 자체가 인스턴스를 캡슐화하므로 언제 어떻게 사용자가 인스턴스에 접근할지를 제어할 수 있습니다.</li><li><strong>축소된 네임 공간</strong>: 전역 변수를 사용함으로써 발생하는 네임 공간의 오염을 방지합니다.</li><li><strong>연산 및 표현의 정제를 허용</strong>: Singleton 클래스는 상속될 수 있으므로, 이 확장된 클래스의 인스턴스로 응용프로그램을 구성할 수 있습니다.</li><li><strong>인스턴스의 개수를 변경하기가 자유로움</strong>: 마음이 바뀌어서 Singleton 클래스의 인스턴스가 하나 이상 존재하도록 할 때도 쉽게 변경할 수 있습니다.</li><li><strong>클래스 연산을 사용하는 것보다 훨씬 유연함</strong>: 클래스의 인터페이스를 바꾸지 않고도 싱글톤 클래스가 동작하는 방법을 바꿀 수 있습니다.</li></ol><p><strong>단점</strong>:</p><ol><li><strong>확장의 어려움</strong>: private 생성자를 가지므로 상속할 수 없습니다.</li><li><strong>테스트의 어려움</strong>: 인터페이스를 구현하지 않는 경우 mock 객체로 대체하기 어렵습니다.</li><li><strong>의존 관계상 클라이언트가 구체 클래스에 의존</strong>: DIP 를 위반할 수 있습니다.</li></ol><h4 id=구현-implementation>구현 (Implementation)<a hidden class=anchor aria-hidden=true href=#구현-implementation>#</a></h4><p><strong>구현시 고려할 점들</strong>:</p><ol><li><p><strong>유일한 인스턴스임을 보장</strong>: 가장 일반적인 방법은 인스턴스를 생성하는 연산을 클래스 연산 (정적 멤버 함수) 으로 숨기는 것입니다.</p></li><li><p><strong>Singleton 클래스를 서브클래싱</strong>: 주요 이슈는 클라이언트가 어떤 Singleton 클래스의 인스턴스를 사용할지를 결정하는 것입니다. 이를 위해 레지스트리를 사용할 수 있습니다.</p></li></ol><h4 id=샘플-코드-sample-code>샘플 코드 (Sample Code)<a hidden class=anchor aria-hidden=true href=#샘플-코드-sample-code>#</a></h4><p><strong>Java 구현</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-31-1><a class=lnlinks href=#hl-31-1> 1</a>
</span><span class=lnt id=hl-31-2><a class=lnlinks href=#hl-31-2> 2</a>
</span><span class=lnt id=hl-31-3><a class=lnlinks href=#hl-31-3> 3</a>
</span><span class=lnt id=hl-31-4><a class=lnlinks href=#hl-31-4> 4</a>
</span><span class=lnt id=hl-31-5><a class=lnlinks href=#hl-31-5> 5</a>
</span><span class=lnt id=hl-31-6><a class=lnlinks href=#hl-31-6> 6</a>
</span><span class=lnt id=hl-31-7><a class=lnlinks href=#hl-31-7> 7</a>
</span><span class=lnt id=hl-31-8><a class=lnlinks href=#hl-31-8> 8</a>
</span><span class=lnt id=hl-31-9><a class=lnlinks href=#hl-31-9> 9</a>
</span><span class=lnt id=hl-31-10><a class=lnlinks href=#hl-31-10>10</a>
</span><span class=lnt id=hl-31-11><a class=lnlinks href=#hl-31-11>11</a>
</span><span class=lnt id=hl-31-12><a class=lnlinks href=#hl-31-12>12</a>
</span><span class=lnt id=hl-31-13><a class=lnlinks href=#hl-31-13>13</a>
</span><span class=lnt id=hl-31-14><a class=lnlinks href=#hl-31-14>14</a>
</span><span class=lnt id=hl-31-15><a class=lnlinks href=#hl-31-15>15</a>
</span><span class=lnt id=hl-31-16><a class=lnlinks href=#hl-31-16>16</a>
</span><span class=lnt id=hl-31-17><a class=lnlinks href=#hl-31-17>17</a>
</span><span class=lnt id=hl-31-18><a class=lnlinks href=#hl-31-18>18</a>
</span><span class=lnt id=hl-31-19><a class=lnlinks href=#hl-31-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Singleton</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>Singleton</span><span class=w> </span><span class=n>uniqueInstance</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 다른 클래스에서 인스턴스를 생성하지 못하도록 생성자를 private으로 선언</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=nf>Singleton</span><span class=p>()</span><span class=w> </span><span class=p>{}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 인스턴스가 필요할 때는 이 메소드를 통해서만 생성/접근 가능</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>Singleton</span><span class=w> </span><span class=nf>getInstance</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>uniqueInstance</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>uniqueInstance</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Singleton</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>uniqueInstance</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 기타 메소드들...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>doSomething</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;Something is done.&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>멀티스레드 안전 버전</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-32-1><a class=lnlinks href=#hl-32-1> 1</a>
</span><span class=lnt id=hl-32-2><a class=lnlinks href=#hl-32-2> 2</a>
</span><span class=lnt id=hl-32-3><a class=lnlinks href=#hl-32-3> 3</a>
</span><span class=lnt id=hl-32-4><a class=lnlinks href=#hl-32-4> 4</a>
</span><span class=lnt id=hl-32-5><a class=lnlinks href=#hl-32-5> 5</a>
</span><span class=lnt id=hl-32-6><a class=lnlinks href=#hl-32-6> 6</a>
</span><span class=lnt id=hl-32-7><a class=lnlinks href=#hl-32-7> 7</a>
</span><span class=lnt id=hl-32-8><a class=lnlinks href=#hl-32-8> 8</a>
</span><span class=lnt id=hl-32-9><a class=lnlinks href=#hl-32-9> 9</a>
</span><span class=lnt id=hl-32-10><a class=lnlinks href=#hl-32-10>10</a>
</span><span class=lnt id=hl-32-11><a class=lnlinks href=#hl-32-11>11</a>
</span><span class=lnt id=hl-32-12><a class=lnlinks href=#hl-32-12>12</a>
</span><span class=lnt id=hl-32-13><a class=lnlinks href=#hl-32-13>13</a>
</span><span class=lnt id=hl-32-14><a class=lnlinks href=#hl-32-14>14</a>
</span><span class=lnt id=hl-32-15><a class=lnlinks href=#hl-32-15>15</a>
</span><span class=lnt id=hl-32-16><a class=lnlinks href=#hl-32-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>ThreadSafeSingleton</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>volatile</span><span class=w> </span><span class=n>ThreadSafeSingleton</span><span class=w> </span><span class=n>uniqueInstance</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=nf>ThreadSafeSingleton</span><span class=p>()</span><span class=w> </span><span class=p>{}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>ThreadSafeSingleton</span><span class=w> </span><span class=nf>getInstance</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>uniqueInstance</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kd>synchronized</span><span class=w> </span><span class=p>(</span><span class=n>ThreadSafeSingleton</span><span class=p>.</span><span class=na>class</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>uniqueInstance</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>uniqueInstance</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ThreadSafeSingleton</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>uniqueInstance</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=알려진-사용-known-uses>알려진 사용 (Known Uses)<a hidden class=anchor aria-hidden=true href=#알려진-사용-known-uses>#</a></h4><ul><li><strong>Java Runtime</strong>: <code>Runtime.getRuntime()</code></li><li><strong>Logger 구현체</strong>: Log4j, SLF4J 등의 로거 팩토리</li><li><strong>데이터베이스 연결 풀</strong>: 커넥션 풀 관리자</li><li><strong>애플리케이션 설정</strong>: 설정 정보 관리자</li><li><strong>윈도우 매니저</strong>: GUI 시스템의 윈도우 관리자</li><li><strong>파일 시스템</strong>: 파일 시스템 접근 관리자</li></ul><h4 id=관련-패턴-related-patterns>관련 패턴 (Related Patterns)<a hidden class=anchor aria-hidden=true href=#관련-패턴-related-patterns>#</a></h4><p><strong>함께 사용되는 패턴들</strong>:</p><ul><li><strong>Abstract Factory</strong>: 팩토리 자체를 싱글톤으로 구현</li><li><strong>Builder</strong>: 빌더를 싱글톤으로 구현하여 객체 생성 과정 관리</li><li><strong>Prototype</strong>: 프로토타입 레지스트리를 싱글톤으로 관리</li></ul><p><strong>대체 가능한 패턴들</strong>:</p><ul><li><strong>Monostate</strong>: 싱글톤과 유사한 효과를 가지지만 여러 인스턴스 허용</li><li><strong>Dependency Injection</strong>: IoC 컨테이너가 싱글톤 생명주기 관리</li><li><strong>Service Locator</strong>: 서비스 인스턴스들의 중앙 집중 관리</li></ul><hr><h3 id=용어-정리-3>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-3>#</a></h3><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>인스턴스 (Instance)</td><td>클래스로부터 생성된 실제 객체</td></tr><tr><td>지연 초기화 (Lazy Initialization)</td><td>실제 사용될 때까지 객체 생성을 미루는 기법</td></tr><tr><td>즉시 초기화 (Eager Initialization)</td><td>클래스 로딩 시점에 즉시 객체를 생성하는 기법</td></tr><tr><td>동시성 (Concurrency)</td><td>여러 스레드가 동시에 실행되는 상황</td></tr><tr><td>스레드 안전성 (Thread Safety)</td><td>멀티스레드 환경에서 올바르게 동작하는 속성</td></tr><tr><td>동기화 (Synchronization)</td><td>여러 스레드 간의 협력과 조정을 위한 메커니즘</td></tr><tr><td>volatile</td><td>Java 에서 변수의 가시성을 보장하는 키워드</td></tr><tr><td>더블 체크 락킹 (Double-Checked Locking)</td><td>성능 최적화를 위한 동기화 기법</td></tr><tr><td>직렬화 (Serialization)</td><td>객체를 바이트 스트림으로 변환하는 과정</td></tr><tr><td>리플렉션 (Reflection)</td><td>런타임에 클래스 정보를 조사하고 조작하는 기능</td></tr><tr><td>의존성 주입 (Dependency Injection)</td><td>객체의 의존성을 외부에서 주입하는 설계 패턴</td></tr><tr><td>IoC 컨테이너 (Inversion of Control Container)</td><td>객체의 생성과 생명주기를 관리하는 컨테이너</td></tr></tbody></table><hr><h3 id=참고-및-출처-3>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-3>#</a></h3><ul><li><a href=https://product.kyobobook.co.kr/detail/S000001962303>GoF의 디자인 패턴: 재사용성을 지닌 객체지향 소프트웨어의 핵심요소</a></li><li><a href=https://ko.wikipedia.org/wiki/%EC%8B%B1%EA%B8%80%ED%84%B4_%ED%8C%A8%ED%84%B4>싱글톤 패턴 - 위키백과</a></li><li><a href=https://yaboong.github.io/design-pattern/2018/09/28/thread-safe-singleton-patterns/>자바 싱글톤 패턴 구현 방법들</a></li><li><a href=https://refactoring.guru/ko/design-patterns/singleton>Singleton Pattern - Refactoring Guru</a></li><li><a href=https://gmlwjd9405.github.io/2018/07/06/singleton-pattern.html>Design Pattern - Heee&rsquo;s Development Blog</a></li><li><a href=https://stackoverflow.com/questions/2662842/dependency-injection-singleton-design-pattern>Dependency Injection vs Singleton Pattern - Stack Overflow</a></li><li><a href=https://www.linkedin.com/advice/0/how-can-you-use-singleton-pattern-microservices>Singleton Pattern in Microservices - LinkedIn</a></li><li><a href=https://www.digitalocean.com/community/tutorials/java-singleton-design-pattern-best-practices-examples>Java Singleton Design Pattern Best Practices</a></li></ul></div></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>