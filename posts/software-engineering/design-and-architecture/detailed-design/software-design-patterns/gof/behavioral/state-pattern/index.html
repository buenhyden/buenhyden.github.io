<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>State Pattern | hyunyoun's Blog</title><meta name=keywords content="System-and-Software-Architecture,Design-Patterns,GoF,Behavioral,State-Pattern"><meta name=description content="객체의 내부 상태가 변경될 때 객체의 행동이 변경되도록 하는 행동 디자인 패턴"><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/detailed-design/software-design-patterns/gof/behavioral/state-pattern/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/detailed-design/software-design-patterns/gof/behavioral/state-pattern/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/detailed-design/software-design-patterns/gof/behavioral/state-pattern/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/software-engineering/design-and-architecture/detailed-design/software-design-patterns/gof/behavioral/state-pattern/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="State Pattern"><meta property="og:description" content="객체의 내부 상태가 변경될 때 객체의 행동이 변경되도록 하는 행동 디자인 패턴"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="State Pattern"><meta name=twitter:description content="객체의 내부 상태가 변경될 때 객체의 행동이 변경되도록 하는 행동 디자인 패턴"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Computer Science and Engineering","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Software Engineering","item":"https://buenhyden.github.io/posts/software-engineering/"},{"@type":"ListItem","position":3,"name":"Design and Architecture","item":""},{"@type":"ListItem","position":5,"name":"Software Design Patterns","item":""},{"@type":"ListItem","position":6,"name":"GoF","item":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/detailed-design/software-design-patterns/gof/"},{"@type":"ListItem","position":7,"name":"Behavioral Design Patterns","item":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/detailed-design/software-design-patterns/gof/behavioral/"},{"@type":"ListItem","position":8,"name":"State Pattern","item":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/detailed-design/software-design-patterns/gof/behavioral/state-pattern/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>Computer Science and Engineering</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-engineering/>Software Engineering</a>&nbsp;»&nbsp;<a href>Design and Architecture</a>&nbsp;»&nbsp;<a href>Software Design Patterns</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/detailed-design/software-design-patterns/gof/>GoF</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/detailed-design/software-design-patterns/gof/behavioral/>Behavioral Design Patterns</a></div><h1>State Pattern</h1><div class=post-description>객체의 내부 상태가 변경될 때 객체의 행동이 변경되도록 하는 행동 디자인 패턴</div></header><div class=post-content><h2 id=state-pattern>State Pattern<a hidden class=anchor aria-hidden=true href=#state-pattern>#</a></h2><p>객체의 내부 상태가 변경될 때 객체의 행동이 변경되도록 하는 행동 디자인 패턴<br>상태별 동작을 별도의 클래스로 분리하고, 현재 상태를 나타내는 객체에게 행동을 위임하는 것</p><h3 id=특징>특징<a hidden class=anchor aria-hidden=true href=#특징>#</a></h3><ul><li>객체의 내부 상태에 따라 행동을 변경할 수 있게 합니다.</li><li>상태 전이를 명시적으로 표현합니다.</li><li>각 상태를 별도의 클래스로 캡슐화합니다.</li><li>유한 상태 기계 (Finite-State Machine) 의 개념과 유사합니다.</li></ul><h3 id=사용사례>사용사례<a hidden class=anchor aria-hidden=true href=#사용사례>#</a></h3><ul><li>문서 처리 시스템: 문서가 초안, 검토 중, 승인됨, 게시됨 등의 상태를 가지며 각 상태에서 허용되는 작업이 다릅니다.</li><li>주문 처리 시스템: 주문이 생성됨, 결제 완료, 배송 중, 배송 완료 등의 상태를 거치며, 각 상태에서 가능한 작업이 달라집니다.</li><li>게임 캐릭터: 캐릭터가 서있음, 걷기, 달리기, 점프 등 다양한 상태를 가지며, 각 상태에서의 동작이 다릅니다.</li><li>네트워크 연결: 연결 중, 연결됨, 연결 끊김 등의 상태에 따라 다른 동작을 수행합니다.</li></ul><h3 id=장점>장점<a hidden class=anchor aria-hidden=true href=#장점>#</a></h3><ul><li>상태별 동작의 명확한 분리: 각 상태의 동작이 별도의 클래스로 캡슐화되어 코드의 구조가 명확해집니다.</li><li>상태 전환 로직의 체계화: 상태 전환이 명시적으로 이루어지며, 각 상태 클래스에서 가능한 전환을 정의할 수 있습니다.</li><li>새로운 상태 추가의 용이성: 기존 코드를 수정하지 않고도 새로운 상태를 추가할 수 있어 개방 - 폐쇄 원칙을 만족합니다.</li></ul><h3 id=단점>단점<a hidden class=anchor aria-hidden=true href=#단점>#</a></h3><ul><li>클래스 수의 증가: 각 상태마다 새로운 클래스가 필요하므로 클래스 수가 많아질 수 있습니다.</li><li>상태 전환 로직의 복잡성: 상태 간의 전환이 복잡할 경우 관리가 어려워질 수 있습니다.</li><li>Context 와 State 간의 결합: State 클래스들이 Context 를 참조해야 하는 경우가 있어 결합도가 높아질 수 있습니다.</li></ul><h3 id=주의사항-및-고려사항>주의사항 및 고려사항<a hidden class=anchor aria-hidden=true href=#주의사항-및-고려사항>#</a></h3><ul><li>상태 전환의 일관성: 상태 전환이 일관되게 이루어지도록 주의해야 하며, 잘못된 전환을 방지해야 합니다.</li><li>메모리 관리: 상태 객체들을 적절히 재사용하거나 관리하지 않으면 메모리 사용량이 증가할 수 있습니다.</li><li>순환 참조 방지: Context 와 State 간의 순환 참조가 발생하지 않도록 주의해야 합니다.</li></ul><h3 id=예시>예시<a hidden class=anchor aria-hidden=true href=#예시>#</a></h3><h4 id=python>Python<a hidden class=anchor aria-hidden=true href=#python>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>  1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>  2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3>  3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4>  4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5>  5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6>  6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7>  7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8>  8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9>  9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10> 10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11> 11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12> 12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13> 13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14> 14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15> 15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16> 16</a>
</span><span class=lnt id=hl-0-17><a class=lnlinks href=#hl-0-17> 17</a>
</span><span class=lnt id=hl-0-18><a class=lnlinks href=#hl-0-18> 18</a>
</span><span class=lnt id=hl-0-19><a class=lnlinks href=#hl-0-19> 19</a>
</span><span class=lnt id=hl-0-20><a class=lnlinks href=#hl-0-20> 20</a>
</span><span class=lnt id=hl-0-21><a class=lnlinks href=#hl-0-21> 21</a>
</span><span class=lnt id=hl-0-22><a class=lnlinks href=#hl-0-22> 22</a>
</span><span class=lnt id=hl-0-23><a class=lnlinks href=#hl-0-23> 23</a>
</span><span class=lnt id=hl-0-24><a class=lnlinks href=#hl-0-24> 24</a>
</span><span class=lnt id=hl-0-25><a class=lnlinks href=#hl-0-25> 25</a>
</span><span class=lnt id=hl-0-26><a class=lnlinks href=#hl-0-26> 26</a>
</span><span class=lnt id=hl-0-27><a class=lnlinks href=#hl-0-27> 27</a>
</span><span class=lnt id=hl-0-28><a class=lnlinks href=#hl-0-28> 28</a>
</span><span class=lnt id=hl-0-29><a class=lnlinks href=#hl-0-29> 29</a>
</span><span class=lnt id=hl-0-30><a class=lnlinks href=#hl-0-30> 30</a>
</span><span class=lnt id=hl-0-31><a class=lnlinks href=#hl-0-31> 31</a>
</span><span class=lnt id=hl-0-32><a class=lnlinks href=#hl-0-32> 32</a>
</span><span class=lnt id=hl-0-33><a class=lnlinks href=#hl-0-33> 33</a>
</span><span class=lnt id=hl-0-34><a class=lnlinks href=#hl-0-34> 34</a>
</span><span class=lnt id=hl-0-35><a class=lnlinks href=#hl-0-35> 35</a>
</span><span class=lnt id=hl-0-36><a class=lnlinks href=#hl-0-36> 36</a>
</span><span class=lnt id=hl-0-37><a class=lnlinks href=#hl-0-37> 37</a>
</span><span class=lnt id=hl-0-38><a class=lnlinks href=#hl-0-38> 38</a>
</span><span class=lnt id=hl-0-39><a class=lnlinks href=#hl-0-39> 39</a>
</span><span class=lnt id=hl-0-40><a class=lnlinks href=#hl-0-40> 40</a>
</span><span class=lnt id=hl-0-41><a class=lnlinks href=#hl-0-41> 41</a>
</span><span class=lnt id=hl-0-42><a class=lnlinks href=#hl-0-42> 42</a>
</span><span class=lnt id=hl-0-43><a class=lnlinks href=#hl-0-43> 43</a>
</span><span class=lnt id=hl-0-44><a class=lnlinks href=#hl-0-44> 44</a>
</span><span class=lnt id=hl-0-45><a class=lnlinks href=#hl-0-45> 45</a>
</span><span class=lnt id=hl-0-46><a class=lnlinks href=#hl-0-46> 46</a>
</span><span class=lnt id=hl-0-47><a class=lnlinks href=#hl-0-47> 47</a>
</span><span class=lnt id=hl-0-48><a class=lnlinks href=#hl-0-48> 48</a>
</span><span class=lnt id=hl-0-49><a class=lnlinks href=#hl-0-49> 49</a>
</span><span class=lnt id=hl-0-50><a class=lnlinks href=#hl-0-50> 50</a>
</span><span class=lnt id=hl-0-51><a class=lnlinks href=#hl-0-51> 51</a>
</span><span class=lnt id=hl-0-52><a class=lnlinks href=#hl-0-52> 52</a>
</span><span class=lnt id=hl-0-53><a class=lnlinks href=#hl-0-53> 53</a>
</span><span class=lnt id=hl-0-54><a class=lnlinks href=#hl-0-54> 54</a>
</span><span class=lnt id=hl-0-55><a class=lnlinks href=#hl-0-55> 55</a>
</span><span class=lnt id=hl-0-56><a class=lnlinks href=#hl-0-56> 56</a>
</span><span class=lnt id=hl-0-57><a class=lnlinks href=#hl-0-57> 57</a>
</span><span class=lnt id=hl-0-58><a class=lnlinks href=#hl-0-58> 58</a>
</span><span class=lnt id=hl-0-59><a class=lnlinks href=#hl-0-59> 59</a>
</span><span class=lnt id=hl-0-60><a class=lnlinks href=#hl-0-60> 60</a>
</span><span class=lnt id=hl-0-61><a class=lnlinks href=#hl-0-61> 61</a>
</span><span class=lnt id=hl-0-62><a class=lnlinks href=#hl-0-62> 62</a>
</span><span class=lnt id=hl-0-63><a class=lnlinks href=#hl-0-63> 63</a>
</span><span class=lnt id=hl-0-64><a class=lnlinks href=#hl-0-64> 64</a>
</span><span class=lnt id=hl-0-65><a class=lnlinks href=#hl-0-65> 65</a>
</span><span class=lnt id=hl-0-66><a class=lnlinks href=#hl-0-66> 66</a>
</span><span class=lnt id=hl-0-67><a class=lnlinks href=#hl-0-67> 67</a>
</span><span class=lnt id=hl-0-68><a class=lnlinks href=#hl-0-68> 68</a>
</span><span class=lnt id=hl-0-69><a class=lnlinks href=#hl-0-69> 69</a>
</span><span class=lnt id=hl-0-70><a class=lnlinks href=#hl-0-70> 70</a>
</span><span class=lnt id=hl-0-71><a class=lnlinks href=#hl-0-71> 71</a>
</span><span class=lnt id=hl-0-72><a class=lnlinks href=#hl-0-72> 72</a>
</span><span class=lnt id=hl-0-73><a class=lnlinks href=#hl-0-73> 73</a>
</span><span class=lnt id=hl-0-74><a class=lnlinks href=#hl-0-74> 74</a>
</span><span class=lnt id=hl-0-75><a class=lnlinks href=#hl-0-75> 75</a>
</span><span class=lnt id=hl-0-76><a class=lnlinks href=#hl-0-76> 76</a>
</span><span class=lnt id=hl-0-77><a class=lnlinks href=#hl-0-77> 77</a>
</span><span class=lnt id=hl-0-78><a class=lnlinks href=#hl-0-78> 78</a>
</span><span class=lnt id=hl-0-79><a class=lnlinks href=#hl-0-79> 79</a>
</span><span class=lnt id=hl-0-80><a class=lnlinks href=#hl-0-80> 80</a>
</span><span class=lnt id=hl-0-81><a class=lnlinks href=#hl-0-81> 81</a>
</span><span class=lnt id=hl-0-82><a class=lnlinks href=#hl-0-82> 82</a>
</span><span class=lnt id=hl-0-83><a class=lnlinks href=#hl-0-83> 83</a>
</span><span class=lnt id=hl-0-84><a class=lnlinks href=#hl-0-84> 84</a>
</span><span class=lnt id=hl-0-85><a class=lnlinks href=#hl-0-85> 85</a>
</span><span class=lnt id=hl-0-86><a class=lnlinks href=#hl-0-86> 86</a>
</span><span class=lnt id=hl-0-87><a class=lnlinks href=#hl-0-87> 87</a>
</span><span class=lnt id=hl-0-88><a class=lnlinks href=#hl-0-88> 88</a>
</span><span class=lnt id=hl-0-89><a class=lnlinks href=#hl-0-89> 89</a>
</span><span class=lnt id=hl-0-90><a class=lnlinks href=#hl-0-90> 90</a>
</span><span class=lnt id=hl-0-91><a class=lnlinks href=#hl-0-91> 91</a>
</span><span class=lnt id=hl-0-92><a class=lnlinks href=#hl-0-92> 92</a>
</span><span class=lnt id=hl-0-93><a class=lnlinks href=#hl-0-93> 93</a>
</span><span class=lnt id=hl-0-94><a class=lnlinks href=#hl-0-94> 94</a>
</span><span class=lnt id=hl-0-95><a class=lnlinks href=#hl-0-95> 95</a>
</span><span class=lnt id=hl-0-96><a class=lnlinks href=#hl-0-96> 96</a>
</span><span class=lnt id=hl-0-97><a class=lnlinks href=#hl-0-97> 97</a>
</span><span class=lnt id=hl-0-98><a class=lnlinks href=#hl-0-98> 98</a>
</span><span class=lnt id=hl-0-99><a class=lnlinks href=#hl-0-99> 99</a>
</span><span class=lnt id=hl-0-100><a class=lnlinks href=#hl-0-100>100</a>
</span><span class=lnt id=hl-0-101><a class=lnlinks href=#hl-0-101>101</a>
</span><span class=lnt id=hl-0-102><a class=lnlinks href=#hl-0-102>102</a>
</span><span class=lnt id=hl-0-103><a class=lnlinks href=#hl-0-103>103</a>
</span><span class=lnt id=hl-0-104><a class=lnlinks href=#hl-0-104>104</a>
</span><span class=lnt id=hl-0-105><a class=lnlinks href=#hl-0-105>105</a>
</span><span class=lnt id=hl-0-106><a class=lnlinks href=#hl-0-106>106</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>abc</span> <span class=kn>import</span> <span class=n>ABC</span><span class=p>,</span> <span class=n>abstractmethod</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># State 인터페이스</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MediaPlayerState</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>play</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>player</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pause</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>player</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>stop</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>player</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_state_name</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 구체적인 State 클래스들</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PlayingState</span><span class=p>(</span><span class=n>MediaPlayerState</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>play</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>player</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;이미 재생 중입니다.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pause</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>player</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;재생을 일시정지합니다.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>player</span><span class=o>.</span><span class=n>change_state</span><span class=p>(</span><span class=n>PausedState</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>stop</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>player</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;재생을 중지합니다.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>player</span><span class=o>.</span><span class=n>change_state</span><span class=p>(</span><span class=n>StoppedState</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_state_name</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;재생 중&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PausedState</span><span class=p>(</span><span class=n>MediaPlayerState</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>play</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>player</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;재생을 재개합니다.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>player</span><span class=o>.</span><span class=n>change_state</span><span class=p>(</span><span class=n>PlayingState</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pause</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>player</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;이미 일시정지 상태입니다.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>stop</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>player</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;재생을 중지합니다.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>player</span><span class=o>.</span><span class=n>change_state</span><span class=p>(</span><span class=n>StoppedState</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_state_name</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;일시정지&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>StoppedState</span><span class=p>(</span><span class=n>MediaPlayerState</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>play</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>player</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;재생을 시작합니다.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>player</span><span class=o>.</span><span class=n>change_state</span><span class=p>(</span><span class=n>PlayingState</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pause</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>player</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;중지 상태에서는 일시정지할 수 없습니다.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>stop</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>player</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;이미 중지 상태입니다.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_state_name</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;중지됨&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Context 클래스</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MediaPlayer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># 초기 상태는 중지 상태</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_state</span> <span class=o>=</span> <span class=n>StoppedState</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;미디어 플레이어가 </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>_state</span><span class=o>.</span><span class=n>get_state_name</span><span class=p>()</span><span class=si>}</span><span class=s2> 상태로 시작됩니다.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>change_state</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>state</span><span class=p>:</span> <span class=n>MediaPlayerState</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_state</span> <span class=o>=</span> <span class=n>state</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;상태가 </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>_state</span><span class=o>.</span><span class=n>get_state_name</span><span class=p>()</span><span class=si>}</span><span class=s2>(으)로 변경되었습니다.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>play</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_state</span><span class=o>.</span><span class=n>play</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pause</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_state</span><span class=o>.</span><span class=n>pause</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>stop</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_state</span><span class=o>.</span><span class=n>stop</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용 예시</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>player</span> <span class=o>=</span> <span class=n>MediaPlayer</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 재생 시작</span>
</span></span><span class=line><span class=cl>    <span class=n>player</span><span class=o>.</span><span class=n>play</span><span class=p>()</span>  <span class=c1># 중지 -&gt; 재생</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 일시정지</span>
</span></span><span class=line><span class=cl>    <span class=n>player</span><span class=o>.</span><span class=n>pause</span><span class=p>()</span>  <span class=c1># 재생 -&gt; 일시정지</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 재생 재개</span>
</span></span><span class=line><span class=cl>    <span class=n>player</span><span class=o>.</span><span class=n>play</span><span class=p>()</span>  <span class=c1># 일시정지 -&gt; 재생</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 중지</span>
</span></span><span class=line><span class=cl>    <span class=n>player</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>  <span class=c1># 재생 -&gt; 중지</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 일시정지 시도 (중지 상태에서는 불가능)</span>
</span></span><span class=line><span class=cl>    <span class=n>player</span><span class=o>.</span><span class=n>pause</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=javascript>Javascript<a hidden class=anchor aria-hidden=true href=#javascript>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>  1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2>  2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3>  3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4>  4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5>  5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6>  6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7>  7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8>  8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9>  9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10> 10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11> 11</a>
</span><span class=lnt id=hl-1-12><a class=lnlinks href=#hl-1-12> 12</a>
</span><span class=lnt id=hl-1-13><a class=lnlinks href=#hl-1-13> 13</a>
</span><span class=lnt id=hl-1-14><a class=lnlinks href=#hl-1-14> 14</a>
</span><span class=lnt id=hl-1-15><a class=lnlinks href=#hl-1-15> 15</a>
</span><span class=lnt id=hl-1-16><a class=lnlinks href=#hl-1-16> 16</a>
</span><span class=lnt id=hl-1-17><a class=lnlinks href=#hl-1-17> 17</a>
</span><span class=lnt id=hl-1-18><a class=lnlinks href=#hl-1-18> 18</a>
</span><span class=lnt id=hl-1-19><a class=lnlinks href=#hl-1-19> 19</a>
</span><span class=lnt id=hl-1-20><a class=lnlinks href=#hl-1-20> 20</a>
</span><span class=lnt id=hl-1-21><a class=lnlinks href=#hl-1-21> 21</a>
</span><span class=lnt id=hl-1-22><a class=lnlinks href=#hl-1-22> 22</a>
</span><span class=lnt id=hl-1-23><a class=lnlinks href=#hl-1-23> 23</a>
</span><span class=lnt id=hl-1-24><a class=lnlinks href=#hl-1-24> 24</a>
</span><span class=lnt id=hl-1-25><a class=lnlinks href=#hl-1-25> 25</a>
</span><span class=lnt id=hl-1-26><a class=lnlinks href=#hl-1-26> 26</a>
</span><span class=lnt id=hl-1-27><a class=lnlinks href=#hl-1-27> 27</a>
</span><span class=lnt id=hl-1-28><a class=lnlinks href=#hl-1-28> 28</a>
</span><span class=lnt id=hl-1-29><a class=lnlinks href=#hl-1-29> 29</a>
</span><span class=lnt id=hl-1-30><a class=lnlinks href=#hl-1-30> 30</a>
</span><span class=lnt id=hl-1-31><a class=lnlinks href=#hl-1-31> 31</a>
</span><span class=lnt id=hl-1-32><a class=lnlinks href=#hl-1-32> 32</a>
</span><span class=lnt id=hl-1-33><a class=lnlinks href=#hl-1-33> 33</a>
</span><span class=lnt id=hl-1-34><a class=lnlinks href=#hl-1-34> 34</a>
</span><span class=lnt id=hl-1-35><a class=lnlinks href=#hl-1-35> 35</a>
</span><span class=lnt id=hl-1-36><a class=lnlinks href=#hl-1-36> 36</a>
</span><span class=lnt id=hl-1-37><a class=lnlinks href=#hl-1-37> 37</a>
</span><span class=lnt id=hl-1-38><a class=lnlinks href=#hl-1-38> 38</a>
</span><span class=lnt id=hl-1-39><a class=lnlinks href=#hl-1-39> 39</a>
</span><span class=lnt id=hl-1-40><a class=lnlinks href=#hl-1-40> 40</a>
</span><span class=lnt id=hl-1-41><a class=lnlinks href=#hl-1-41> 41</a>
</span><span class=lnt id=hl-1-42><a class=lnlinks href=#hl-1-42> 42</a>
</span><span class=lnt id=hl-1-43><a class=lnlinks href=#hl-1-43> 43</a>
</span><span class=lnt id=hl-1-44><a class=lnlinks href=#hl-1-44> 44</a>
</span><span class=lnt id=hl-1-45><a class=lnlinks href=#hl-1-45> 45</a>
</span><span class=lnt id=hl-1-46><a class=lnlinks href=#hl-1-46> 46</a>
</span><span class=lnt id=hl-1-47><a class=lnlinks href=#hl-1-47> 47</a>
</span><span class=lnt id=hl-1-48><a class=lnlinks href=#hl-1-48> 48</a>
</span><span class=lnt id=hl-1-49><a class=lnlinks href=#hl-1-49> 49</a>
</span><span class=lnt id=hl-1-50><a class=lnlinks href=#hl-1-50> 50</a>
</span><span class=lnt id=hl-1-51><a class=lnlinks href=#hl-1-51> 51</a>
</span><span class=lnt id=hl-1-52><a class=lnlinks href=#hl-1-52> 52</a>
</span><span class=lnt id=hl-1-53><a class=lnlinks href=#hl-1-53> 53</a>
</span><span class=lnt id=hl-1-54><a class=lnlinks href=#hl-1-54> 54</a>
</span><span class=lnt id=hl-1-55><a class=lnlinks href=#hl-1-55> 55</a>
</span><span class=lnt id=hl-1-56><a class=lnlinks href=#hl-1-56> 56</a>
</span><span class=lnt id=hl-1-57><a class=lnlinks href=#hl-1-57> 57</a>
</span><span class=lnt id=hl-1-58><a class=lnlinks href=#hl-1-58> 58</a>
</span><span class=lnt id=hl-1-59><a class=lnlinks href=#hl-1-59> 59</a>
</span><span class=lnt id=hl-1-60><a class=lnlinks href=#hl-1-60> 60</a>
</span><span class=lnt id=hl-1-61><a class=lnlinks href=#hl-1-61> 61</a>
</span><span class=lnt id=hl-1-62><a class=lnlinks href=#hl-1-62> 62</a>
</span><span class=lnt id=hl-1-63><a class=lnlinks href=#hl-1-63> 63</a>
</span><span class=lnt id=hl-1-64><a class=lnlinks href=#hl-1-64> 64</a>
</span><span class=lnt id=hl-1-65><a class=lnlinks href=#hl-1-65> 65</a>
</span><span class=lnt id=hl-1-66><a class=lnlinks href=#hl-1-66> 66</a>
</span><span class=lnt id=hl-1-67><a class=lnlinks href=#hl-1-67> 67</a>
</span><span class=lnt id=hl-1-68><a class=lnlinks href=#hl-1-68> 68</a>
</span><span class=lnt id=hl-1-69><a class=lnlinks href=#hl-1-69> 69</a>
</span><span class=lnt id=hl-1-70><a class=lnlinks href=#hl-1-70> 70</a>
</span><span class=lnt id=hl-1-71><a class=lnlinks href=#hl-1-71> 71</a>
</span><span class=lnt id=hl-1-72><a class=lnlinks href=#hl-1-72> 72</a>
</span><span class=lnt id=hl-1-73><a class=lnlinks href=#hl-1-73> 73</a>
</span><span class=lnt id=hl-1-74><a class=lnlinks href=#hl-1-74> 74</a>
</span><span class=lnt id=hl-1-75><a class=lnlinks href=#hl-1-75> 75</a>
</span><span class=lnt id=hl-1-76><a class=lnlinks href=#hl-1-76> 76</a>
</span><span class=lnt id=hl-1-77><a class=lnlinks href=#hl-1-77> 77</a>
</span><span class=lnt id=hl-1-78><a class=lnlinks href=#hl-1-78> 78</a>
</span><span class=lnt id=hl-1-79><a class=lnlinks href=#hl-1-79> 79</a>
</span><span class=lnt id=hl-1-80><a class=lnlinks href=#hl-1-80> 80</a>
</span><span class=lnt id=hl-1-81><a class=lnlinks href=#hl-1-81> 81</a>
</span><span class=lnt id=hl-1-82><a class=lnlinks href=#hl-1-82> 82</a>
</span><span class=lnt id=hl-1-83><a class=lnlinks href=#hl-1-83> 83</a>
</span><span class=lnt id=hl-1-84><a class=lnlinks href=#hl-1-84> 84</a>
</span><span class=lnt id=hl-1-85><a class=lnlinks href=#hl-1-85> 85</a>
</span><span class=lnt id=hl-1-86><a class=lnlinks href=#hl-1-86> 86</a>
</span><span class=lnt id=hl-1-87><a class=lnlinks href=#hl-1-87> 87</a>
</span><span class=lnt id=hl-1-88><a class=lnlinks href=#hl-1-88> 88</a>
</span><span class=lnt id=hl-1-89><a class=lnlinks href=#hl-1-89> 89</a>
</span><span class=lnt id=hl-1-90><a class=lnlinks href=#hl-1-90> 90</a>
</span><span class=lnt id=hl-1-91><a class=lnlinks href=#hl-1-91> 91</a>
</span><span class=lnt id=hl-1-92><a class=lnlinks href=#hl-1-92> 92</a>
</span><span class=lnt id=hl-1-93><a class=lnlinks href=#hl-1-93> 93</a>
</span><span class=lnt id=hl-1-94><a class=lnlinks href=#hl-1-94> 94</a>
</span><span class=lnt id=hl-1-95><a class=lnlinks href=#hl-1-95> 95</a>
</span><span class=lnt id=hl-1-96><a class=lnlinks href=#hl-1-96> 96</a>
</span><span class=lnt id=hl-1-97><a class=lnlinks href=#hl-1-97> 97</a>
</span><span class=lnt id=hl-1-98><a class=lnlinks href=#hl-1-98> 98</a>
</span><span class=lnt id=hl-1-99><a class=lnlinks href=#hl-1-99> 99</a>
</span><span class=lnt id=hl-1-100><a class=lnlinks href=#hl-1-100>100</a>
</span><span class=lnt id=hl-1-101><a class=lnlinks href=#hl-1-101>101</a>
</span><span class=lnt id=hl-1-102><a class=lnlinks href=#hl-1-102>102</a>
</span><span class=lnt id=hl-1-103><a class=lnlinks href=#hl-1-103>103</a>
</span><span class=lnt id=hl-1-104><a class=lnlinks href=#hl-1-104>104</a>
</span><span class=lnt id=hl-1-105><a class=lnlinks href=#hl-1-105>105</a>
</span><span class=lnt id=hl-1-106><a class=lnlinks href=#hl-1-106>106</a>
</span><span class=lnt id=hl-1-107><a class=lnlinks href=#hl-1-107>107</a>
</span><span class=lnt id=hl-1-108><a class=lnlinks href=#hl-1-108>108</a>
</span><span class=lnt id=hl-1-109><a class=lnlinks href=#hl-1-109>109</a>
</span><span class=lnt id=hl-1-110><a class=lnlinks href=#hl-1-110>110</a>
</span><span class=lnt id=hl-1-111><a class=lnlinks href=#hl-1-111>111</a>
</span><span class=lnt id=hl-1-112><a class=lnlinks href=#hl-1-112>112</a>
</span><span class=lnt id=hl-1-113><a class=lnlinks href=#hl-1-113>113</a>
</span><span class=lnt id=hl-1-114><a class=lnlinks href=#hl-1-114>114</a>
</span><span class=lnt id=hl-1-115><a class=lnlinks href=#hl-1-115>115</a>
</span><span class=lnt id=hl-1-116><a class=lnlinks href=#hl-1-116>116</a>
</span><span class=lnt id=hl-1-117><a class=lnlinks href=#hl-1-117>117</a>
</span><span class=lnt id=hl-1-118><a class=lnlinks href=#hl-1-118>118</a>
</span><span class=lnt id=hl-1-119><a class=lnlinks href=#hl-1-119>119</a>
</span><span class=lnt id=hl-1-120><a class=lnlinks href=#hl-1-120>120</a>
</span><span class=lnt id=hl-1-121><a class=lnlinks href=#hl-1-121>121</a>
</span><span class=lnt id=hl-1-122><a class=lnlinks href=#hl-1-122>122</a>
</span><span class=lnt id=hl-1-123><a class=lnlinks href=#hl-1-123>123</a>
</span><span class=lnt id=hl-1-124><a class=lnlinks href=#hl-1-124>124</a>
</span><span class=lnt id=hl-1-125><a class=lnlinks href=#hl-1-125>125</a>
</span><span class=lnt id=hl-1-126><a class=lnlinks href=#hl-1-126>126</a>
</span><span class=lnt id=hl-1-127><a class=lnlinks href=#hl-1-127>127</a>
</span><span class=lnt id=hl-1-128><a class=lnlinks href=#hl-1-128>128</a>
</span><span class=lnt id=hl-1-129><a class=lnlinks href=#hl-1-129>129</a>
</span><span class=lnt id=hl-1-130><a class=lnlinks href=#hl-1-130>130</a>
</span><span class=lnt id=hl-1-131><a class=lnlinks href=#hl-1-131>131</a>
</span><span class=lnt id=hl-1-132><a class=lnlinks href=#hl-1-132>132</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// State 인터페이스
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>interface</span> <span class=nx>OrderState</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>processPayment</span><span class=p>(</span><span class=nx>order</span><span class=o>:</span> <span class=nx>Order</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>shipOrder</span><span class=p>(</span><span class=nx>order</span><span class=o>:</span> <span class=nx>Order</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>cancelOrder</span><span class=p>(</span><span class=nx>order</span><span class=o>:</span> <span class=nx>Order</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>getStateName</span><span class=p>()</span><span class=o>:</span> <span class=nx>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 구체적인 State 클래스들
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>PendingState</span> <span class=kr>implements</span> <span class=nx>OrderState</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>processPayment</span><span class=p>(</span><span class=nx>order</span><span class=o>:</span> <span class=nx>Order</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;결제를 진행합니다.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>order</span><span class=p>.</span><span class=nx>changeState</span><span class=p>(</span><span class=k>new</span> <span class=nx>PaidState</span><span class=p>());</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>shipOrder</span><span class=p>(</span><span class=nx>order</span><span class=o>:</span> <span class=nx>Order</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;결제가 필요합니다. 배송을 시작할 수 없습니다.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>cancelOrder</span><span class=p>(</span><span class=nx>order</span><span class=o>:</span> <span class=nx>Order</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;주문이 취소되었습니다.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>order</span><span class=p>.</span><span class=nx>changeState</span><span class=p>(</span><span class=k>new</span> <span class=nx>CancelledState</span><span class=p>());</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>getStateName</span><span class=p>()</span><span class=o>:</span> <span class=nx>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;결제 대기&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>PaidState</span> <span class=kr>implements</span> <span class=nx>OrderState</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>processPayment</span><span class=p>(</span><span class=nx>order</span><span class=o>:</span> <span class=nx>Order</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;이미 결제가 완료되었습니다.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>shipOrder</span><span class=p>(</span><span class=nx>order</span><span class=o>:</span> <span class=nx>Order</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;배송을 시작합니다.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>order</span><span class=p>.</span><span class=nx>changeState</span><span class=p>(</span><span class=k>new</span> <span class=nx>ShippedState</span><span class=p>());</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>cancelOrder</span><span class=p>(</span><span class=nx>order</span><span class=o>:</span> <span class=nx>Order</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;결제가 환불되었습니다. 주문이 취소되었습니다.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>order</span><span class=p>.</span><span class=nx>changeState</span><span class=p>(</span><span class=k>new</span> <span class=nx>CancelledState</span><span class=p>());</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>getStateName</span><span class=p>()</span><span class=o>:</span> <span class=nx>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;결제 완료&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>ShippedState</span> <span class=kr>implements</span> <span class=nx>OrderState</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>processPayment</span><span class=p>(</span><span class=nx>order</span><span class=o>:</span> <span class=nx>Order</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;이미 결제가 완료되었습니다.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>shipOrder</span><span class=p>(</span><span class=nx>order</span><span class=o>:</span> <span class=nx>Order</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;이미 배송 중입니다.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>cancelOrder</span><span class=p>(</span><span class=nx>order</span><span class=o>:</span> <span class=nx>Order</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;배송이 시작된 주문은 취소할 수 없습니다.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>getStateName</span><span class=p>()</span><span class=o>:</span> <span class=nx>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;배송 중&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>CancelledState</span> <span class=kr>implements</span> <span class=nx>OrderState</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>processPayment</span><span class=p>(</span><span class=nx>order</span><span class=o>:</span> <span class=nx>Order</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;취소된 주문은 결제할 수 없습니다.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>shipOrder</span><span class=p>(</span><span class=nx>order</span><span class=o>:</span> <span class=nx>Order</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;취소된 주문은 배송할 수 없습니다.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>cancelOrder</span><span class=p>(</span><span class=nx>order</span><span class=o>:</span> <span class=nx>Order</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;이미 취소된 주문입니다.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>getStateName</span><span class=p>()</span><span class=o>:</span> <span class=nx>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;주문 취소&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Context 클래스
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>Order</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>private</span> <span class=nx>state</span><span class=o>:</span> <span class=nx>OrderState</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kr>private</span> <span class=nx>readonly</span> <span class=nx>orderId</span><span class=o>:</span> <span class=nx>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>(</span><span class=nx>orderId</span><span class=o>:</span> <span class=nx>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>orderId</span> <span class=o>=</span> <span class=nx>orderId</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>state</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>PendingState</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`주문 </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>orderId</span><span class=si>}</span><span class=sb>가 </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>getStateName</span><span class=p>()</span><span class=si>}</span><span class=sb> 상태로 생성되었습니다.`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>public</span> <span class=nx>changeState</span><span class=p>(</span><span class=nx>state</span><span class=o>:</span> <span class=nx>OrderState</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>state</span> <span class=o>=</span> <span class=nx>state</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`주문 </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>orderId</span><span class=si>}</span><span class=sb>가 </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>getStateName</span><span class=p>()</span><span class=si>}</span><span class=sb> 상태로 변경되었습니다.`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>public</span> <span class=nx>processPayment</span><span class=p>()</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>processPayment</span><span class=p>(</span><span class=k>this</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>public</span> <span class=nx>shipOrder</span><span class=p>()</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>shipOrder</span><span class=p>(</span><span class=k>this</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>public</span> <span class=nx>cancelOrder</span><span class=p>()</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>cancelOrder</span><span class=p>(</span><span class=k>this</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 사용 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>order</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Order</span><span class=p>(</span><span class=s2>&#34;ORD-2024-001&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 정상적인 주문 프로세스
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;\n=== 정상적인 주문 프로세스 ===&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>order</span><span class=p>.</span><span class=nx>processPayment</span><span class=p>();</span>  <span class=c1>// 결제 대기 -&gt; 결제 완료
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>order</span><span class=p>.</span><span class=nx>shipOrder</span><span class=p>();</span>       <span class=c1>// 결제 완료 -&gt; 배송 중
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=c1>// 취소된 주문 시나리오
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;\n=== 취소된 주문 시나리오 ===&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>cancelledOrder</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Order</span><span class=p>(</span><span class=s2>&#34;ORD-2024-002&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>cancelledOrder</span><span class=p>.</span><span class=nx>cancelOrder</span><span class=p>();</span>  <span class=c1>// 결제 대기 -&gt; 취소됨
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>cancelledOrder</span><span class=p>.</span><span class=nx>processPayment</span><span class=p>();</span>  <span class=c1>// 결제 시도 (실패)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>cancelledOrder</span><span class=p>.</span><span class=nx>shipOrder</span><span class=p>();</span>       <span class=c1>// 배송 시도 (실패)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>main</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><hr><h3 id=1-주제의-분류가-적절한지에-대한-조사>1. 주제의 분류가 적절한지에 대한 조사<a hidden class=anchor aria-hidden=true href=#1-주제의-분류가-적절한지에-대한-조사>#</a></h3><p>State Pattern(상태 패턴) 은 &ldquo;Computer Science and Engineering > Software Design and Architecture > Software Design Patterns > GoF > Behavioral Design Patterns&rdquo; 분류에 정확히 부합합니다. GoF(Gang of Four) 에서 정의한 23 가지 디자인 패턴 중 하나로, 객체의 상태 변화에 따른 동작 변경을 다루는 대표적인 행동 (Behavioral) 패턴입니다 [1][7][14].</p><hr><h3 id=2-200-자-요약>2. 200 자 요약<a hidden class=anchor aria-hidden=true href=#2-200-자-요약>#</a></h3><p>State Pattern 은 객체의 내부 상태에 따라 동작이 달라지도록 하며, 각 상태별 동작을 별도의 클래스로 분리해 관리합니다. 조건문 없이 객체가 상태에 따라 행동을 바꿀 수 있어 코드의 유지보수성과 확장성이 높아집니다. 대표적으로 자판기, 트래픽 신호등, 워크플로우 등에서 활용됩니다 [1][4][6].</p><hr><h3 id=3-250-자-개요>3. 250 자 개요<a hidden class=anchor aria-hidden=true href=#3-250-자-개요>#</a></h3><p>State Pattern 은 객체의 행동이 내부 상태에 따라 달라지는 경우, 상태별 동작을 별도의 클래스로 캡슐화하여 관리하는 행동 패턴입니다. Context 객체는 현재 상태를 참조하며, 모든 상태 관련 작업을 해당 상태 객체에 위임합니다. 이를 통해 조건문 (if/switch) 없이 상태 전이에 따른 행동 변경이 가능해지고, 새로운 상태 추가나 기존 상태 변경이 용이해집니다. 주로 복잡한 상태 전이와 다양한 상태별 동작이 필요한 시스템에서 활용됩니다 [1][4][5][6][12][14].</p><hr><h2 id=핵심-개념>핵심 개념<a hidden class=anchor aria-hidden=true href=#핵심-개념>#</a></h2><ul><li><strong>정의</strong>: State Pattern 은 객체의 내부 상태에 따라 동작이 달라지도록 하며, 상태별 동작을 별도의 클래스로 분리해 관리하는 행동 패턴입니다 [1][2][4][11].</li><li><strong>목적 및 필요성</strong>: 조건문 (if-else, switch-case) 으로 상태별 동작을 관리하는 복잡성을 줄이고, 상태별 행동을 명확하게 분리해 코드의 확장성과 유지보수성을 높입니다 [2][3][5][12].</li><li><strong>주요 기능 및 역할</strong>:<ul><li>Context 는 현재 상태를 참조하고, 상태 관련 작업을 상태 객체에 위임</li><li>State 인터페이스는 상태별 동작을 정의</li><li>ConcreteState 는 각 상태별 구체 동작과 전이 로직 구현 [1][9][14]</li></ul></li><li><strong>특징</strong>:<ul><li>상태별 행동의 캡슐화</li><li>조건문 제거</li><li>동적 상태 전이</li><li>OCP(개방/폐쇄 원칙), SRP(단일 책임 원칙) 준수 [2][5][15]</li></ul></li><li><strong>핵심 원칙</strong>: 각 상태별 행동을 별도 클래스로 분리해 단일 책임 원칙 (SRP) 과 개방/폐쇄 원칙 (OCP) 실현 [15].</li></ul><hr><h2 id=주요-내용-정리>주요 내용 정리<a hidden class=anchor aria-hidden=true href=#주요-내용-정리>#</a></h2><h3 id=패턴-이름과-분류>패턴 이름과 분류<a hidden class=anchor aria-hidden=true href=#패턴-이름과-분류>#</a></h3><table><thead><tr><th>항목</th><th>내용</th></tr></thead><tbody><tr><td>패턴 이름</td><td>State Pattern (상태 패턴)</td></tr><tr><td>분류</td><td>GoF 행동 (Behavioral) 패턴</td></tr></tbody></table><hr><h3 id=의도-intent>의도 (Intent)<a hidden class=anchor aria-hidden=true href=#의도-intent>#</a></h3><p>객체의 내부 상태에 따라 행동을 변경할 수 있도록 하여, 객체가 마치 클래스를 바꾼 것처럼 보이게 한다 [1][4][14].</p><hr><h3 id=다른-이름-also-known-as>다른 이름 (Also Known As)<a hidden class=anchor aria-hidden=true href=#다른-이름-also-known-as>#</a></h3><ul><li>상태 객체 패턴 (State Object Pattern)</li><li>상태 전이 패턴 (State Transition Pattern)</li></ul><hr><h3 id=동기-motivation--forces>동기 (Motivation / Forces)<a hidden class=anchor aria-hidden=true href=#동기-motivation--forces>#</a></h3><ul><li>내부 상태에 따라 동작이 달라지는 객체의 복잡한 조건문을 제거하고, 상태별 행동을 명확하게 분리해 코드의 유지보수성과 확장성을 높이기 위함 [2][4][5][12].</li></ul><hr><h3 id=적용-가능성-applicability>적용 가능성 (Applicability)<a hidden class=anchor aria-hidden=true href=#적용-가능성-applicability>#</a></h3><ul><li>객체의 동작이 상태에 따라 달라질 때</li><li>조건문 (if/switch) 이 많아질 때</li><li>상태별 행동이 자주 추가/변경될 때</li><li>상태 전이가 명확하게 정의되어야 할 때 [1][4][6][9][13][14].</li></ul><hr><h3 id=구조-및-아키텍처>구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#구조-및-아키텍처>#</a></h3><h4 id=구조-다이어그램>구조 다이어그램<a hidden class=anchor aria-hidden=true href=#구조-다이어그램>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3>3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4>4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5>5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6>6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7>7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8>8</a>
</span><span class=lnt id=hl-2-9><a class=lnlinks href=#hl-2-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>+-----------------+        +-------------------+
</span></span><span class=line><span class=cl>|    Context      ||     State         |
</span></span><span class=line><span class=cl>+-----------------+        +-------------------+
</span></span><span class=line><span class=cl>        |                          ^
</span></span><span class=line><span class=cl>        |                          |
</span></span><span class=line><span class=cl>        v                    +-------------------+
</span></span><span class=line><span class=cl>+-----------------+          | ConcreteStateA    |
</span></span><span class=line><span class=cl>| ConcreteStateB  |&lt;---------+-------------------+
</span></span><span class=line><span class=cl>+-----------------+
</span></span></code></pre></td></tr></table></div></div><h4 id=구성-요소-및-역할>구성 요소 및 역할<a hidden class=anchor aria-hidden=true href=#구성-요소-및-역할>#</a></h4><table><thead><tr><th>구성 요소</th><th>기능 및 역할</th></tr></thead><tbody><tr><td>Context</td><td>현재 상태 (State) 를 참조, 상태 관련 작업을 상태 객체에 위임</td></tr><tr><td>State</td><td>상태별 동작을 정의하는 인터페이스/추상 클래스</td></tr><tr><td>ConcreteState</td><td>각 상태별 구체 동작 및 상태 전이 로직 구현</td></tr></tbody></table><h4 id=필수선택-구성요소>필수/선택 구성요소<a hidden class=anchor aria-hidden=true href=#필수선택-구성요소>#</a></h4><table><thead><tr><th>구분</th><th>구성 요소</th><th>기능 및 특징</th></tr></thead><tbody><tr><td>필수</td><td>Context</td><td>현재 상태 객체 참조, 상태별 동작 위임</td></tr><tr><td>필수</td><td>State</td><td>상태별 동작 정의 인터페이스/추상 클래스</td></tr><tr><td>필수</td><td>ConcreteState</td><td>상태별 동작 및 전이 구현, 필요시 Context 참조</td></tr><tr><td>선택</td><td>상태 전이 테이블</td><td>상태 전이 규칙을 별도 테이블로 관리 (복잡한 전이 시)</td></tr></tbody></table><hr><h3 id=주요-원리-및-작동-원리>주요 원리 및 작동 원리<a hidden class=anchor aria-hidden=true href=#주요-원리-및-작동-원리>#</a></h3><ol><li>Context 는 현재 상태 (State) 를 참조</li><li>클라이언트가 Context 의 메서드 호출 시, Context 는 해당 작업을 현재 상태 객체에 위임</li><li>상태 객체는 필요에 따라 Context 의 상태를 다른 상태로 전이</li><li>각 상태별로 동작과 전이 규칙을 캡슐화</li></ol><h4 id=작동-원리-다이어그램>작동 원리 다이어그램<a hidden class=anchor aria-hidden=true href=#작동-원리-다이어그램>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2>2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3>3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[Client] → [Context] → [Current State]
</span></span><span class=line><span class=cl>                         |
</span></span><span class=line><span class=cl>                         v
</span></span><span class=line><span class=cl>                [다음 상태로 전이]
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=구현-기법>구현 기법<a hidden class=anchor aria-hidden=true href=#구현-기법>#</a></h3><ul><li><strong>상태 인터페이스/추상 클래스</strong>: 각 상태별 동작을 정의</li><li><strong>상태별 클래스 분리</strong>: 각 상태별로 별도 클래스 구현 (ConcreteState)</li><li><strong>Context 의 상태 참조</strong>: Context 는 현재 상태 객체를 참조하고, 상태 변경 시 상태 객체를 교체</li><li><strong>상태 전이 로직</strong>: 상태 객체 내부 또는 별도 전이 테이블에서 관리 가능</li><li><strong>상태 객체의 Context 참조</strong>: 필요시 상태 객체가 Context 를 참조해 상태 전이 수행</li></ul><h4 id=예시-코드-python>예시 코드 (Python)<a hidden class=anchor aria-hidden=true href=#예시-코드-python>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1> 1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2> 2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3> 3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4> 4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5> 5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6> 6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7> 7</a>
</span><span class=lnt id=hl-4-8><a class=lnlinks href=#hl-4-8> 8</a>
</span><span class=lnt id=hl-4-9><a class=lnlinks href=#hl-4-9> 9</a>
</span><span class=lnt id=hl-4-10><a class=lnlinks href=#hl-4-10>10</a>
</span><span class=lnt id=hl-4-11><a class=lnlinks href=#hl-4-11>11</a>
</span><span class=lnt id=hl-4-12><a class=lnlinks href=#hl-4-12>12</a>
</span><span class=lnt id=hl-4-13><a class=lnlinks href=#hl-4-13>13</a>
</span><span class=lnt id=hl-4-14><a class=lnlinks href=#hl-4-14>14</a>
</span><span class=lnt id=hl-4-15><a class=lnlinks href=#hl-4-15>15</a>
</span><span class=lnt id=hl-4-16><a class=lnlinks href=#hl-4-16>16</a>
</span><span class=lnt id=hl-4-17><a class=lnlinks href=#hl-4-17>17</a>
</span><span class=lnt id=hl-4-18><a class=lnlinks href=#hl-4-18>18</a>
</span><span class=lnt id=hl-4-19><a class=lnlinks href=#hl-4-19>19</a>
</span><span class=lnt id=hl-4-20><a class=lnlinks href=#hl-4-20>20</a>
</span><span class=lnt id=hl-4-21><a class=lnlinks href=#hl-4-21>21</a>
</span><span class=lnt id=hl-4-22><a class=lnlinks href=#hl-4-22>22</a>
</span><span class=lnt id=hl-4-23><a class=lnlinks href=#hl-4-23>23</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>State</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>handle</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>context</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ConcreteStateA</span><span class=p>(</span><span class=n>State</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>handle</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>context</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;State A 동작&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>context</span><span class=o>.</span><span class=n>state</span> <span class=o>=</span> <span class=n>ConcreteStateB</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ConcreteStateB</span><span class=p>(</span><span class=n>State</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>handle</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>context</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;State B 동작&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>context</span><span class=o>.</span><span class=n>state</span> <span class=o>=</span> <span class=n>ConcreteStateA</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Context</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>state</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>state</span> <span class=o>=</span> <span class=n>state</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>request</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>state</span><span class=o>.</span><span class=n>handle</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>context</span> <span class=o>=</span> <span class=n>Context</span><span class=p>(</span><span class=n>ConcreteStateA</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=n>context</span><span class=o>.</span><span class=n>request</span><span class=p>()</span>  <span class=c1># State A 동작</span>
</span></span><span class=line><span class=cl><span class=n>context</span><span class=o>.</span><span class=n>request</span><span class=p>()</span>  <span class=c1># State B 동작</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=장점과-단점>장점과 단점<a hidden class=anchor aria-hidden=true href=#장점과-단점>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>✅ 장점</td><td>조건문 제거</td><td>if/switch 없이 상태별 동작 관리, 코드 가독성/유지보수성 향상</td></tr><tr><td></td><td>확장성</td><td>새로운 상태 추가/변경 용이, OCP 준수</td></tr><tr><td></td><td>SRP</td><td>상태별 책임 분리, 코드 모듈화</td></tr><tr><td></td><td>상태 전이 명확</td><td>전이 규칙이 명확, 상태별 행동 추적 용이</td></tr><tr><td>⚠ 단점</td><td>클래스 수 증가</td><td>상태별로 클래스가 많아져 복잡성 증가</td></tr><tr><td></td><td>초기 설계 부담</td><td>상태/전이 설계가 복잡할 수 있음</td></tr><tr><td></td><td>오버엔지니어링</td><td>단순한 상태 관리엔 과도한 구조가 될 수 있음</td></tr></tbody></table><hr><h3 id=도전-과제-및-해결책>도전 과제 및 해결책<a hidden class=anchor aria-hidden=true href=#도전-과제-및-해결책>#</a></h3><ul><li><strong>문제</strong>: 상태가 많아지면 클래스 수 증가<br><strong>해결책</strong>: 상태 전이 테이블 활용, 공통 동작 추상화</li><li><strong>문제</strong>: 상태별 동작 변경 시 중복 코드 발생<br><strong>해결책</strong>: 추상 클래스/공통 베이스 활용</li><li><strong>문제</strong>: 상태 전이 관리 복잡<br><strong>해결책</strong>: 전이 로직을 별도 테이블/매니저에서 관리</li></ul><hr><h3 id=분류에-따른-종류-및-유형>분류에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#분류에-따른-종류-및-유형>#</a></h3><table><thead><tr><th>분류 기준</th><th>종류/유형</th><th>설명</th></tr></thead><tbody><tr><td>전이 관리</td><td>상태 객체 내부 전이</td><td>상태 객체가 직접 전이 결정</td></tr><tr><td></td><td>전이 테이블 기반 전이</td><td>별도 전이 테이블로 전이 관리</td></tr><tr><td>상태 공유</td><td>상태 객체 공유</td><td>여러 Context 가 상태 객체 공유</td></tr><tr><td></td><td>상태 객체 독립</td><td>각 Context 가 독립적으로 상태 관리</td></tr></tbody></table><hr><h3 id=실무-적용-예시>실무 적용 예시<a hidden class=anchor aria-hidden=true href=#실무-적용-예시>#</a></h3><table><thead><tr><th>분야</th><th>적용 예시</th><th>설명</th></tr></thead><tbody><tr><td>자판기</td><td>동전 투입/상품 선택/거스름돈 반환 등</td><td>상태별 동작 분리, 상태 전이 명확화</td></tr><tr><td>트래픽 신호등</td><td>빨간불/초록불/노란불</td><td>각 신호별 동작 및 전이 관리</td></tr><tr><td>워크플로우</td><td>문서 승인/반려/검토</td><td>단계별 상태 및 전이 관리</td></tr><tr><td>미디어 플레이어</td><td>재생/일시정지/정지</td><td>상태별 동작 및 전이 구현</td></tr></tbody></table><hr><h3 id=활용-사례-시나리오-기반>활용 사례 (시나리오 기반)<a hidden class=anchor aria-hidden=true href=#활용-사례-시나리오-기반>#</a></h3><h4 id=상황-가정-온라인-주문-처리-시스템>상황 가정: 온라인 주문 처리 시스템<a hidden class=anchor aria-hidden=true href=#상황-가정-온라인-주문-처리-시스템>#</a></h4><ul><li><strong>시스템 구성</strong>:<ul><li>Order(Context) → 상태별 클래스 (OrderPlaced, PaymentPending, Shipped, Delivered 등)</li></ul></li><li><strong>Workflow</strong>:<ol><li>주문 생성 시 OrderPlaced 상태</li><li>결제 완료 시 PaymentPending → Shipped 상태로 전이</li><li>배송 완료 시 Delivered 상태로 전이</li></ol></li><li><strong>역할</strong>: 각 상태별로 주문 처리 로직 분리, 상태별 행동 및 전이 관리</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[OrderPlaced] → [PaymentPending] → [Shipped] → [Delivered]
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>항목</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>클래스 수 관리</td><td>상태가 많아질수록 클래스 증가</td><td>공통 동작 추상화, 전이 테이블 활용</td></tr><tr><td>전이 로직 명확화</td><td>상태 전이 규칙이 복잡해질 수 있음</td><td>전이 테이블/매니저로 전이 관리</td></tr><tr><td>테스트 용이성</td><td>상태별 동작/전이 테스트 필요</td><td>단위 테스트, 상태별 테스트 강화</td></tr><tr><td>SRP/OCP 준수</td><td>상태별 책임 분리/확장성 유지 필요</td><td>인터페이스/추상 클래스 활용</td></tr></tbody></table><hr><h3 id=최적화하기-위한-고려사항-및-주의할-점>최적화하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#최적화하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>항목</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>상태 객체 재사용</td><td>상태 객체 공유 시 메모리 최적화</td><td>상태 객체 싱글턴/공유 전략 적용</td></tr><tr><td>전이 테이블 최적화</td><td>전이 테이블 조회 성능 고려</td><td>해시맵/배열 등 효율적 자료구조 활용</td></tr><tr><td>상태 변경 최소화</td><td>불필요한 상태 전이 방지</td><td>상태 변경 조건 명확화</td></tr><tr><td>GC 관리</td><td>상태 객체 누수 방지</td><td>약한 참조, 객체 수명 관리</td></tr></tbody></table><hr><h3 id=2025-년-기준-최신-동향>2025 년 기준 최신 동향<a hidden class=anchor aria-hidden=true href=#2025-년-기준-최신-동향>#</a></h3><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>상태 관리</td><td>FSM(유한 상태 기계)</td><td>FSM 기반 워크플로우, 상태 패턴 결합 확산</td></tr><tr><td>분산 시스템</td><td>상태 기반 오케스트레이션</td><td>마이크로서비스 워크플로우에 상태 패턴 적용 증가</td></tr><tr><td>코드 생성</td><td>상태 패턴 코드 생성기</td><td>자동화 도구로 상태 패턴 코드 생성 지원</td></tr><tr><td>성능</td><td>상태 객체 공유 최적화</td><td>상태 객체 재사용 및 메모리 관리 강화</td></tr></tbody></table><hr><h3 id=주제와-관련하여-주목할-내용>주제와 관련하여 주목할 내용<a hidden class=anchor aria-hidden=true href=#주제와-관련하여-주목할-내용>#</a></h3><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>FSM</td><td>유한 상태 기계</td><td>상태 패턴과 FSM 결합, 복잡한 상태 관리</td></tr><tr><td>상태 전이 테이블</td><td>전이 규칙 관리</td><td>전이 로직을 테이블로 분리, 유지보수성 향상</td></tr><tr><td>비교 패턴</td><td>Strategy, Command</td><td>구조 유사하나 의도/상태 전이 방식 다름</td></tr><tr><td>SRP/OCP</td><td>단일 책임/확장성</td><td>상태별 책임 분리, 확장성 강화</td></tr></tbody></table><hr><h3 id=앞으로의-전망>앞으로의 전망<a hidden class=anchor aria-hidden=true href=#앞으로의-전망>#</a></h3><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>자동화</td><td>상태 패턴 코드 생성</td><td>상태 전이 자동화 도구/프레임워크 확산</td></tr><tr><td>대규모 시스템</td><td>상태 관리 최적화</td><td>대규모 워크플로우/분산 시스템에서 활용 증가</td></tr><tr><td>성능</td><td>상태 객체 최적화</td><td>메모리/성능 최적화 연구 활발</td></tr><tr><td>확장성</td><td>동적 상태 추가</td><td>런타임 상태 추가/변경 지원 도구 증가</td></tr></tbody></table><hr><h3 id=하위-주제별-추가-학습-필요-내용>하위 주제별 추가 학습 필요 내용<a hidden class=anchor aria-hidden=true href=#하위-주제별-추가-학습-필요-내용>#</a></h3><table><thead><tr><th>카테고리</th><th>주제</th><th>간략 설명</th></tr></thead><tbody><tr><td>패턴 구조</td><td>FSM(유한 상태 기계)</td><td>상태 패턴과 FSM 연계 설계법</td></tr><tr><td>전이 관리</td><td>상태 전이 테이블</td><td>전이 규칙 테이블 설계/활용법</td></tr><tr><td>테스트</td><td>상태별 단위 테스트</td><td>상태별 동작/전이 테스트 전략</td></tr><tr><td>확장성</td><td>동적 상태 추가</td><td>런타임 상태 추가/변경 구현법</td></tr></tbody></table><hr><h3 id=추가-학습알아야-할-내용>추가 학습/알아야 할 내용<a hidden class=anchor aria-hidden=true href=#추가-학습알아야-할-내용>#</a></h3><table><thead><tr><th>카테고리</th><th>주제</th><th>간략 설명</th></tr></thead><tbody><tr><td>소프트웨어 아키텍처</td><td>상태 기반 워크플로우</td><td>대규모 시스템의 상태 관리 전략</td></tr><tr><td>성능</td><td>상태 객체 최적화</td><td>객체 공유/싱글턴/GC 관리</td></tr><tr><td>프레임워크</td><td>상태 패턴 자동화 도구</td><td>코드 생성기, 워크플로우 엔진 활용법</td></tr><tr><td>실무 도구</td><td>상태 시각화/모니터링</td><td>상태 전이 시각화 및 모니터링 도구</td></tr></tbody></table><hr><h2 id=용어-정리-1>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-1>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>Context(컨텍스트)</td><td>현재 상태를 참조하고, 상태별 동작을 위임하는 객체</td></tr><tr><td>State(상태)</td><td>상태별 동작을 정의하는 인터페이스/추상 클래스</td></tr><tr><td>ConcreteState(구체 상태)</td><td>각 상태별 동작 및 전이 로직을 구현한 클래스</td></tr><tr><td>FSM(유한 상태 기계)</td><td>유한한 상태와 전이 규칙으로 동작하는 모델</td></tr><tr><td>상태 전이 테이블</td><td>상태 전이 규칙을 테이블 형태로 관리하는 구조</td></tr></tbody></table><hr><h2 id=참고-및-출처-1>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-1>#</a></h2><ul><li><a href=https://refactoring.guru/design-patterns/state>Refactoring.Guru - State Pattern 설명</a></li><li><a href=https://wisdomtic.tistory.com/173>디자인패턴 - State Pattern 개념 및 구조</a></li><li><a href=https://cs.uwaterloo.ca/~m2nagapp/courses/CS446/1181/Arch_Design_Activity/State.pdf>State Pattern 구조와 장단점 PDF</a></li><li><a href=https://www.scholarhat.com/tutorial/designpatterns/state-design-pattern>ScholarHat - State Pattern 설명 및 예시</a></li><li><a href=https://www.linkedin.com/pulse/understanding-state-design-pattern-comprehensive-guide-ali-mousavi-k3yff>LinkedIn - State Pattern 종합 가이드</a></li><li><a href=https://www.linkedin.com/pulse/state-design-pattern-comprehensive-overview-popular-examples-essmat-4ob8c>LinkedIn - State Pattern 개요 및 예시</a></li><li><a href=https://www.digitalocean.com/community/tutorials/gangs-of-four-gof-design-patterns>DigitalOcean - GoF 디자인 패턴</a></li><li><a href=https://deviq.com/design-patterns/state-design-pattern/>DevIQ - State Pattern 개념</a></li><li><a href=https://dotnettutorials.net/lesson/state-design-pattern-in-java/>Dot Net Tutorials - State Pattern in Java</a></li><li><a href=https://dev.to/moh_moh701/understanding-the-state-design-pattern-p1-52m5>DEV.to - State Pattern 설명</a></li><li><a href=https://www.gofpattern.com/behavioral/patterns/state-pattern.php>GofPattern - State Pattern 구조</a></li><li><a href=https://curatepartners.com/blogs/skills-tools-platforms/mastering-the-state-design-pattern-flexible-software-solutions-for-dynamic-systems/>Curate Partners - State Pattern 실무 적용</a></li><li><a href=https://incusdata.com/blog/design-patterns-state-pattern>Incusdata - State Pattern 가이드</a></li><li><a href=https://has3ong.github.io/programming/designpattern-state/>디자인 패턴 톺아보기 - State Pattern</a></li><li><a href=https://www.carloscaballero.io/design-patterns-state/>Carlos Caballero - State Pattern 설명</a></li><li><a href=https://dev.to/alexmercedcoder/oop-design-patterns-in-javascript-3i98>OOP Design Patterns in Javascript</a></li></ul><p><strong>State Pattern (상태 패턴)</strong> 에 대해 실무 중심으로 아래와 같이 상세 정리했습니다.</p><hr><h2 id=1-주제의-분류-적절성-검토>1. 주제의 분류 적절성 검토<a hidden class=anchor aria-hidden=true href=#1-주제의-분류-적절성-검토>#</a></h2><ul><li><p><strong>현재 분류</strong>:<br>&ldquo;Computer Science and Engineering&rdquo; > &ldquo;Software Design and Architecture&rdquo; > &ldquo;Software Design Patterns&rdquo; > &ldquo;GoF&rdquo; > &ldquo;Behavioral Design Patterns&rdquo;</p></li><li><p><strong>검토 결과</strong>:<br>✅ 적절합니다. 상태 패턴은 GoF(Gang of Four) 에서 정의한 행동 패턴 (Behavioral Design Patterns) 의 한 유형으로, 객체의 상태에 따라 행동을 변경할 수 있도록 합니다.</p></li></ul><hr><h2 id=2-주제-요약-200-자-내외>2. 주제 요약 (200 자 내외)<a hidden class=anchor aria-hidden=true href=#2-주제-요약-200-자-내외>#</a></h2><p>State Pattern 은 객체가 상태에 따라 서로 다른 동작을 수행하도록 하는 디자인 패턴이다. 상태 전이와 행동의 캡슐화를 통해 조건문을 제거하고, 객체의 유연성과 가독성을 높인다.</p><hr><h2 id=3-전체-개요-250-자-내외>3. 전체 개요 (250 자 내외)<a hidden class=anchor aria-hidden=true href=#3-전체-개요-250-자-내외>#</a></h2><p>상태 패턴 (State Pattern) 은 객체의 내부 상태가 변경될 때 객체의 행동도 함께 바뀌도록 하여, 상태 관련 코드를 각 상태 클래스로 분리하는 구조를 제공합니다. 이를 통해 복잡한 조건문을 줄이고, 상태 전이 로직을 캡슐화하며, 유지보수성과 확장성을 높입니다. 게임, 워크플로우 엔진, UI 컴포넌트 등 상태 기반 동작을 구현할 때 유용하게 쓰입니다.</p><hr><h2 id=4-핵심-개념>4. 핵심 개념<a hidden class=anchor aria-hidden=true href=#4-핵심-개념>#</a></h2><h3 id=정의>정의<a hidden class=anchor aria-hidden=true href=#정의>#</a></h3><p>State Pattern 은 객체의 내부 상태를 객체로 캡슐화하여 상태에 따른 행위를 객체가 스스로 변경할 수 있도록 하는 디자인 패턴입니다.</p><h3 id=기본-원리>기본 원리<a hidden class=anchor aria-hidden=true href=#기본-원리>#</a></h3><ul><li><p>객체의 상태를 클래스로 분리</p></li><li><p>상태 전이를 명시적으로 수행</p></li><li><p>상태에 따른 행위 변경을 인터페이스 기반으로 처리</p></li></ul><h3 id=실무-핵심>실무 핵심<a hidden class=anchor aria-hidden=true href=#실무-핵심>#</a></h3><ul><li><p><strong>if-else 나 switch-case 문 제거</strong> → 유지보수성 향상</p></li><li><p><strong>Context 는 상태 객체에게 처리를 위임</strong> → 코드 일관성 증가</p></li><li><p><strong>상태 추가가 용이</strong> → OCP (Open-Closed Principle) 준수</p></li></ul><hr><h2 id=5-필수-조사-내용-정리>5. 필수 조사 내용 정리<a hidden class=anchor aria-hidden=true href=#5-필수-조사-내용-정리>#</a></h2><h3 id=목적-및-필요성>목적 및 필요성<a hidden class=anchor aria-hidden=true href=#목적-및-필요성>#</a></h3><ul><li><p>상태 전이 로직을 각 상태 클래스에 분산하여 복잡한 조건문을 제거</p></li><li><p>객체의 상태에 따라 동작을 유연하게 변경 가능</p></li></ul><h3 id=주요-기능-및-역할>주요 기능 및 역할<a hidden class=anchor aria-hidden=true href=#주요-기능-및-역할>#</a></h3><ul><li><p>상태 전이</p></li><li><p>상태 기반 동작 캡슐화</p></li><li><p>런타임에 객체의 행동 변경 가능</p></li></ul><h3 id=특징-1>특징<a hidden class=anchor aria-hidden=true href=#특징-1>#</a></h3><ul><li><p>상태 클래스는 공통 인터페이스 구현</p></li><li><p>상태 간 전이는 명시적으로 수행</p></li><li><p>내부 상태 변경 시 행동도 변경됨</p></li></ul><hr><h2 id=주요-원리-및-작동-원리-다이어그램-포함>주요 원리 및 작동 원리 (다이어그램 포함)<a hidden class=anchor aria-hidden=true href=#주요-원리-및-작동-원리-다이어그램-포함>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>+-------------+         +-----------------+
</span></span><span class=line><span class=cl>|  Context    |&lt;-------&gt;|   State (인터페이스)   |
</span></span><span class=line><span class=cl>+-------------+         +-----------------+
</span></span><span class=line><span class=cl>        |                          ^
</span></span><span class=line><span class=cl>        |                          |
</span></span><span class=line><span class=cl>        v                          v
</span></span><span class=line><span class=cl>+---------------+       +----------------+
</span></span><span class=line><span class=cl>| StateA        |       | StateB         |
</span></span><span class=line><span class=cl>+---------------+       +----------------+
</span></span><span class=line><span class=cl>| handle()      |       | handle()       |
</span></span><span class=line><span class=cl>+---------------+       +----------------+
</span></span></code></pre></td></tr></table></div></div><ul><li><p>Context 는 현재 상태를 참조</p></li><li><p>상태 객체는 행동을 정의하고, 필요시 상태 전이를 수행</p></li></ul><hr><h2 id=구조-및-아키텍처-1>구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#구조-및-아키텍처-1>#</a></h2><h3 id=구성-요소>구성 요소<a hidden class=anchor aria-hidden=true href=#구성-요소>#</a></h3><table><thead><tr><th>구성요소</th><th>설명</th></tr></thead><tbody><tr><td>Context</td><td>상태에 따라 동작을 위임하며, 현재 상태를 저장</td></tr><tr><td>State (Interface)</td><td>상태별 공통 인터페이스 정의</td></tr><tr><td>ConcreteState</td><td>각 상태별 동작 정의 및 상태 전이 포함</td></tr></tbody></table><h3 id=필수-구성-요소>필수 구성 요소<a hidden class=anchor aria-hidden=true href=#필수-구성-요소>#</a></h3><ul><li><p>Context</p></li><li><p>State 인터페이스</p></li><li><p>1 개 이상의 ConcreteState</p></li></ul><h3 id=선택-구성-요소>선택 구성 요소<a hidden class=anchor aria-hidden=true href=#선택-구성-요소>#</a></h3><ul><li>상태 전이 로직을 외부로 분리한 상태 전이 관리자 (State Transition Manager)</li></ul><hr><h2 id=구현-기법-1>구현 기법<a hidden class=anchor aria-hidden=true href=#구현-기법-1>#</a></h2><h3 id=구성>구성<a hidden class=anchor aria-hidden=true href=#구성>#</a></h3><ul><li><p>Context 클래스는 상태 객체를 필드로 가지며, 행동을 상태 객체에 위임</p></li><li><p>상태 객체는 자신의 행동과 전이 조건을 포함</p></li></ul><h3 id=목적>목적<a hidden class=anchor aria-hidden=true href=#목적>#</a></h3><ul><li><p>상태 전이와 상태별 행동 분리</p></li><li><p>런타임 유연성 확보</p></li></ul><h3 id=실제-예시>실제 예시<a hidden class=anchor aria-hidden=true href=#실제-예시>#</a></h3><ul><li><p><strong>ATM 기기 상태</strong>: 카드 삽입됨, 비밀번호 입력됨, 인출 가능 등</p></li><li><p><strong>TCP 연결 상태</strong>: 연결 전, 연결됨, 닫힘</p></li><li><p><strong>게임 캐릭터 상태</strong>: Idle, Walk, Run, Attack</p></li></ul><hr><h2 id=장단점>장단점<a hidden class=anchor aria-hidden=true href=#장단점>#</a></h2><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>✅ 장점</td><td>조건문 제거</td><td>if-else/switch 문을 제거해 코드 가독성과 유지보수성 향상</td></tr><tr><td></td><td>상태 전이 명확화</td><td>상태 변경이 구조적으로 분리되어 관리가 쉬움</td></tr><tr><td></td><td>OCP 준수</td><td>상태 추가 시 기존 코드 변경 없이 확장 가능</td></tr><tr><td>⚠ 단점</td><td>클래스 수 증가</td><td>상태 수에 비례해 클래스가 많아짐</td></tr><tr><td></td><td>상태 전이 로직 분산</td><td>상태 간 전이 로직이 흩어질 수 있어 추적 어려움</td></tr><tr><td></td><td>메모리 사용 증가</td><td>많은 상태 인스턴스를 관리해야 할 경우 메모리 사용 증가</td></tr></tbody></table><hr><h2 id=도전-과제>도전 과제<a hidden class=anchor aria-hidden=true href=#도전-과제>#</a></h2><table><thead><tr><th>도전 과제</th><th>설명</th><th>해결책</th></tr></thead><tbody><tr><td>상태 간 의존성 증가</td><td>상태 전이 조건이 복잡해질 수 있음</td><td>상태 전이를 외부 트랜지션 매니저로 분리</td></tr><tr><td>객체 수 증가</td><td>상태 수가 많아지면 클래스 관리 부담 증가</td><td>상태 공유 또는 싱글턴 적용</td></tr><tr><td>디버깅 난이도 증가</td><td>전이 로직이 분산되면 흐름 파악 어려움</td><td>상태 전이 로깅 및 시각화 도구 사용</td></tr></tbody></table><hr><h2 id=분류에-따른-종류-및-유형-1>분류에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#분류에-따른-종류-및-유형-1>#</a></h2><table><thead><tr><th>분류 기준</th><th>유형</th><th>설명</th></tr></thead><tbody><tr><td>전이 트리거</td><td>명시적 전이, 암시적 전이</td><td>명시적: 코드에서 전이 직접 수행 / 암시적: 상태 내부 조건에 따라 전이</td></tr><tr><td>상태 저장 방식</td><td>내부 저장, 외부 주입</td><td>Context 내에 상태 저장하거나 외부에서 상태를 관리 및 주입</td></tr><tr><td>상태 객체</td><td>Singleton, Dynamic</td><td>공유 상태 vs 매 요청마다 새 인스턴스 생성</td></tr></tbody></table><hr><h2 id=실무-적용-예시-1>실무 적용 예시<a hidden class=anchor aria-hidden=true href=#실무-적용-예시-1>#</a></h2><table><thead><tr><th>분야</th><th>적용 사례</th><th>설명</th></tr></thead><tbody><tr><td>게임 엔진</td><td>캐릭터 상태 관리</td><td>IDLE, RUN, ATTACK 상태에 따른 스킬/이동 변경</td></tr><tr><td>네트워크</td><td>TCP 상태머신</td><td>SYN_SENT, ESTABLISHED, TIME_WAIT 등 상태별 프로토콜 처리</td></tr><tr><td>워크플로우 시스템</td><td>승인/거절 프로세스</td><td>상태 전이에 따라 업무 처리 로직 변화</td></tr><tr><td>UI/UX</td><td>버튼 활성화 상태</td><td>ENABLED, DISABLED, HOVERED, PRESSED 등 상태별 동작 처리</td></tr></tbody></table><hr><p>이어서 <strong>State Pattern (상태 패턴)</strong> 에 대한 심화 정리를 계속합니다.</p><hr><h2 id=6-활용-사례-시나리오-기반>6. 활용 사례 (시나리오 기반)<a hidden class=anchor aria-hidden=true href=#6-활용-사례-시나리오-기반>#</a></h2><h3 id=-시나리오-atm-기기-상태-관리-시스템>📌 시나리오: <strong>ATM 기기 상태 관리 시스템</strong><a hidden class=anchor aria-hidden=true href=#-시나리오-atm-기기-상태-관리-시스템>#</a></h3><h4 id=-시스템-구성-요소>🧩 시스템 구성 요소<a hidden class=anchor aria-hidden=true href=#-시스템-구성-요소>#</a></h4><table><thead><tr><th>컴포넌트</th><th>설명</th></tr></thead><tbody><tr><td>ATMContext</td><td>현재 상태를 가지고 있으며 사용자 요청을 상태 객체에 위임</td></tr><tr><td>ATMState (인터페이스)</td><td>공통 상태 인터페이스, 각 상태의 행동 정의</td></tr><tr><td>NoCardState</td><td>카드가 삽입되지 않은 상태</td></tr><tr><td>HasCardState</td><td>카드가 삽입된 상태</td></tr><tr><td>CorrectPinState</td><td>핀이 확인된 상태</td></tr><tr><td>NoCashState</td><td>인출 불가 상태 (잔액 부족)</td></tr></tbody></table><h4 id=-시스템-다이어그램>📊 시스템 다이어그램<a hidden class=anchor aria-hidden=true href=#-시스템-다이어그램>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1> 1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2> 2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3> 3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4> 4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5> 5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6> 6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7> 7</a>
</span><span class=lnt id=hl-7-8><a class=lnlinks href=#hl-7-8> 8</a>
</span><span class=lnt id=hl-7-9><a class=lnlinks href=#hl-7-9> 9</a>
</span><span class=lnt id=hl-7-10><a class=lnlinks href=#hl-7-10>10</a>
</span><span class=lnt id=hl-7-11><a class=lnlinks href=#hl-7-11>11</a>
</span><span class=lnt id=hl-7-12><a class=lnlinks href=#hl-7-12>12</a>
</span><span class=lnt id=hl-7-13><a class=lnlinks href=#hl-7-13>13</a>
</span><span class=lnt id=hl-7-14><a class=lnlinks href=#hl-7-14>14</a>
</span><span class=lnt id=hl-7-15><a class=lnlinks href=#hl-7-15>15</a>
</span><span class=lnt id=hl-7-16><a class=lnlinks href=#hl-7-16>16</a>
</span><span class=lnt id=hl-7-17><a class=lnlinks href=#hl-7-17>17</a>
</span><span class=lnt id=hl-7-18><a class=lnlinks href=#hl-7-18>18</a>
</span><span class=lnt id=hl-7-19><a class=lnlinks href=#hl-7-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>+-----------------+
</span></span><span class=line><span class=cl>|   ATMContext    |
</span></span><span class=line><span class=cl>+-----------------+
</span></span><span class=line><span class=cl>| - currentState  | --&gt; ATMState
</span></span><span class=line><span class=cl>| + setState()    |
</span></span><span class=line><span class=cl>| + insertCard()  |
</span></span><span class=line><span class=cl>| + enterPin()    |
</span></span><span class=line><span class=cl>| + withdraw()    |
</span></span><span class=line><span class=cl>+-----------------+
</span></span><span class=line><span class=cl>        |
</span></span><span class=line><span class=cl>        v
</span></span><span class=line><span class=cl>+---------------------+       +----------------------+
</span></span><span class=line><span class=cl>|   NoCardState       |&lt;-----&gt;|   HasCardState       |
</span></span><span class=line><span class=cl>+---------------------+       +----------------------+
</span></span><span class=line><span class=cl>        |                              |
</span></span><span class=line><span class=cl>        v                              v
</span></span><span class=line><span class=cl>+---------------------+       +----------------------+
</span></span><span class=line><span class=cl>| CorrectPinState     |&lt;-----&gt;|     NoCashState      |
</span></span><span class=line><span class=cl>+---------------------+       +----------------------+
</span></span></code></pre></td></tr></table></div></div><h4 id=-워크플로우>⚙️ 워크플로우<a hidden class=anchor aria-hidden=true href=#-워크플로우>#</a></h4><ol><li><p>사용자가 ATM 에 카드를 삽입 → 상태: <code>NoCardState</code> → <code>HasCardState</code></p></li><li><p>핀 번호 입력 → <code>CorrectPinState</code></p></li><li><p>출금 요청 → 잔액에 따라 <code>NoCashState</code> 또는 <code>NoCardState</code> 로 전이</p></li></ol><h4 id=-각-클래스-역할>🧱 각 클래스 역할<a hidden class=anchor aria-hidden=true href=#-각-클래스-역할>#</a></h4><ul><li><p>상태별로 <code>insertCard()</code>, <code>enterPin()</code>, <code>withdraw()</code> 동작을 다르게 구현</p></li><li><p>상태 전이는 상태 객체 내부 혹은 컨텍스트가 수행</p></li></ul><hr><h2 id=7-실무에서-효과적으로-적용하기-위한-고려사항>7. 실무에서 효과적으로 적용하기 위한 고려사항<a hidden class=anchor aria-hidden=true href=#7-실무에서-효과적으로-적용하기-위한-고려사항>#</a></h2><table><thead><tr><th>고려사항</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>상태 분리 기준</td><td>상태가 명확히 구분되지 않으면 오히려 복잡성 증가</td><td>각 상태는 독립적이고 역할이 명확해야 함</td></tr><tr><td>상태 전이 책임 분리</td><td>상태 객체가 너무 많은 전이 책임을 가지면 복잡도 증가</td><td>상태 전이 로직은 외부 트랜지션 매니저로 위임 고려</td></tr><tr><td>테스트 전략</td><td>상태마다 동작이 달라 테스트 커버리지가 중요</td><td>상태별 단위 테스트 및 상태 전이 시나리오 테스트 구현</td></tr><tr><td>상태 공유 여부</td><td>상태 객체가 상태 값을 내부에 가질 경우 공유 시 문제 발생</td><td>상태 객체는 stateless 하게 설계하거나 복사본 사용</td></tr></tbody></table><hr><h2 id=8-성능을-최적화하기-위한-고려사항>8. 성능을 최적화하기 위한 고려사항<a hidden class=anchor aria-hidden=true href=#8-성능을-최적화하기-위한-고려사항>#</a></h2><table><thead><tr><th>고려사항</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>상태 인스턴스 생성 비용</td><td>매 호출마다 새로운 상태 객체 생성 시 메모리 낭비</td><td>상태 객체는 싱글턴 또는 캐시 재사용 구조로 설계</td></tr><tr><td>불필요한 상태 전이</td><td>빈번한 전이 발생 시 오히려 오버헤드</td><td>전이 조건을 정리하고, 전이 최소화 설계</td></tr><tr><td>상태 객체의 상태 보유</td><td>상태 객체가 데이터를 가지고 있다면 재사용 주의</td><td>상태는 Context 에 저장하고, 상태 객체는 stateless 로 구현 권장</td></tr><tr><td>로깅 및 추적성</td><td>상태 전이 흐름 추적 어려움</td><td>로그 기반 상태 전이 기록 시스템 도입 권장</td></tr></tbody></table><hr><h2 id=9-2025-년-기준-최신-동향>9. 2025 년 기준 최신 동향<a hidden class=anchor aria-hidden=true href=#9-2025-년-기준-최신-동향>#</a></h2><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>상태 관리 프레임워크</td><td>상태 기반 워크플로우 엔진 확대</td><td>Camunda, Temporal 등에서 상태 패턴 유사 구조 채택</td></tr><tr><td>MSA 기반 설계</td><td>분산 상태 머신 구현 증가</td><td>Saga 패턴 기반 상태 전이 로직에 상태 패턴 도입</td></tr><tr><td>상태 시각화 도구</td><td>시각적 전이 설계 도구 사용 증가</td><td>XState, State Machine Cat 등으로 설계 자동화</td></tr><tr><td>UI 상태관리</td><td>프론트 상태관리에도 패턴 도입</td><td>React, Vue 에서 Finite State Machine(FSM) 적용 증가</td></tr></tbody></table><hr><h2 id=10-주제와-관련하여-주목할-내용>10. 주제와 관련하여 주목할 내용<a hidden class=anchor aria-hidden=true href=#10-주제와-관련하여-주목할-내용>#</a></h2><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>FSM (Finite State Machine)</td><td>상태 패턴의 이론적 기반</td><td>유한 상태 기계 이론은 상태 패턴 설계의 기초</td></tr><tr><td>리팩토링</td><td>조건문 제거 → 상태 객체화</td><td>상태 패턴은 switch/if 제거를 위한 대표 리팩토링 기법</td></tr><tr><td>의존 역전 원칙 (DIP)</td><td>상태 객체를 인터페이스 기반으로 처리</td><td>구현 대신 추상화에 의존하도록 설계해야 유연성 증가</td></tr><tr><td>상태 전이 트레이서</td><td>전이 추적을 위한 도구 및 로그 전략</td><td>상태 전이 로깅이 실시간 디버깅에 중요</td></tr></tbody></table><hr><h2 id=11-앞으로의-전망>11. 앞으로의 전망<a hidden class=anchor aria-hidden=true href=#11-앞으로의-전망>#</a></h2><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>분산 시스템</td><td>상태 관리 중심 워크플로우 확대</td><td>상태 패턴이 마이크로서비스의 상태 전이 관리에 활용됨</td></tr><tr><td>시각화 기반 설계</td><td>상태 전이 설계 자동화</td><td>GUI 기반 상태 설계 도구 확산으로 접근성 개선</td></tr><tr><td>AI 연계</td><td>학습 기반 상태 전이 결정</td><td>강화학습 기반 FSM 자동 생성 기술 연구 확대</td></tr><tr><td>생산성 향상</td><td>코드 생성 도구와 연계</td><td>XState, SCXML 기반 코드 자동 생성 도구 확대 적용</td></tr></tbody></table><hr><h2 id=12-추가-학습-필요-주제-하위-분류>12. 추가 학습 필요 주제 (하위 분류)<a hidden class=anchor aria-hidden=true href=#12-추가-학습-필요-주제-하위-분류>#</a></h2><table><thead><tr><th>카테고리</th><th>주제</th><th>설명</th></tr></thead><tbody><tr><td>디자인 패턴</td><td>상태 패턴 vs 전략 패턴</td><td>동작 캡슐화 방식 비교 (상태는 전이 포함, 전략은 독립적)</td></tr><tr><td>상태 기계</td><td>FSM, Pushdown Automata</td><td>상태 전이 모델 이론 학습</td></tr><tr><td>워크플로우 엔진</td><td>Camunda, Temporal</td><td>상태 기반 로직 적용 실무 사례 학습</td></tr><tr><td>리팩토링</td><td>조건문 제거 기법</td><td>상태 전이 로직 분리 기법 학습</td></tr></tbody></table><hr><h2 id=13-확장-학습-주제-관련-분야-포함>13. 확장 학습 주제 (관련 분야 포함)<a hidden class=anchor aria-hidden=true href=#13-확장-학습-주제-관련-분야-포함>#</a></h2><table><thead><tr><th>카테고리</th><th>주제</th><th>설명</th></tr></thead><tbody><tr><td>소프트웨어 설계</td><td>상태 기반 설계 아키텍처</td><td>FSM 기반 시스템 구조화</td></tr><tr><td>테스트 전략</td><td>상태 기반 테스트</td><td>상태 전이 기반의 경로 테스트 케이스 작성</td></tr><tr><td>DevOps</td><td>상태 기반 배포 전략</td><td>배포 상태, 장애 상태, 복구 상태 관리 설계</td></tr><tr><td>시스템 설계</td><td>복잡한 전이 상태 시스템 설계</td><td>대형 시스템의 워크플로우 흐름 설계 시 적용 전략</td></tr></tbody></table><hr><h2 id=용어-정리-2>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-2>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>State Pattern</td><td>상태에 따라 객체의 행동이 변경되도록 설계하는 패턴</td></tr><tr><td>Context</td><td>상태 객체를 보유하고, 행동을 위임하는 중심 객체</td></tr><tr><td>State (Interface)</td><td>모든 상태들이 구현해야 할 행동 인터페이스</td></tr><tr><td>ConcreteState</td><td>각 상태의 구체적 행동과 전이를 정의한 클래스</td></tr><tr><td>FSM (Finite State Machine)</td><td>유한한 상태와 전이 규칙을 가진 상태 모델</td></tr></tbody></table><hr><h2 id=참고-및-출처-2>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-2>#</a></h2><ul><li><p><a href=https://refactoring.guru/design-patterns/state>Refactoring.Guru - State Pattern</a></p></li><li><p><a href=https://www.geeksforgeeks.org/state-design-pattern/>GeeksForGeeks - State Design Pattern</a></p></li><li><p><a href=https://www.baeldung.com/java-state-design-pattern>Baeldung - State Pattern in Java</a></p></li><li><p><a href=https://xstate.js.org/visualizer/>XState Visualizer</a></p></li><li><p><a href=https://www.w3.org/TR/scxml/>SCXML (W3C Spec)</a></p></li></ul><hr><p>이후 원하시면 <strong>샘플 코드 구현 (Java/Python)</strong>, <strong>상태 패턴 vs 전략 패턴 비교 표</strong>, <strong>상태 패턴 리팩토링 예시</strong> 등을 추가 제공해드릴 수 있습니다. 어떤 항목을 이어서 도와드릴까요?</p><p>주제에 대한 조사를 위해 State Pattern 관련 정보를 검색하겠습니다.</p><p>이제 수집한 정보를 바탕으로 State Pattern 에 대한 종합적인 분석을 진행하겠습니다.</p><hr><h2 id=state-pattern-상태-패턴-종합-분석>State Pattern (상태 패턴) 종합 분석<a hidden class=anchor aria-hidden=true href=#state-pattern-상태-패턴-종합-분석>#</a></h2><h3 id=1-주제-분류-검증>1. 주제 분류 검증<a hidden class=anchor aria-hidden=true href=#1-주제-분류-검증>#</a></h3><p>주제 분류 &ldquo;Computer Science and Engineering&rdquo; > &ldquo;Software Design and Architecture&rdquo; > &ldquo;Software Design Patterns&rdquo; > &ldquo;GoF&rdquo; > &ldquo;Behavioral Design Patterns&rdquo; 는 적절합니다. State Pattern 은 Gang of Four (GoF) 가 정의한 23 개 디자인 패턴 중 하나로, 행동 패턴 (Behavioral Design Pattern) 카테고리에 속합니다.</p><h3 id=2-요약-설명-200-자-내외>2. 요약 설명 (200 자 내외)<a hidden class=anchor aria-hidden=true href=#2-요약-설명-200-자-내외>#</a></h3><p>State Pattern 은 객체의 내부 상태가 변경될 때 객체의 행동을 변경할 수 있게 하는 행동 패턴입니다. 상태별 행동을 별도 클래스로 캡슐화하여 복잡한 조건문을 제거하고, 새로운 상태 추가 시 기존 코드 수정 없이 확장할 수 있습니다. 유한 상태 머신 (FSM) 개념과 밀접한 관련이 있으며 객체가 마치 클래스가 변경된 것처럼 보이게 합니다.</p><h3 id=3-전체-개요-250-자-내외-1>3. 전체 개요 (250 자 내외)<a hidden class=anchor aria-hidden=true href=#3-전체-개요-250-자-내외-1>#</a></h3><p>State Pattern 은 객체 지향 프로그래밍에서 객체의 상태에 따라 행동이 달라지는 문제를 해결하는 디자인 패턴입니다. Context 객체가 현재 상태를 나타내는 State 객체에 행동을 위임하고, 상태 전환 시 State 객체를 교체하여 동적으로 행동을 변경합니다. 이를 통해 상태별 조건문을 제거하고 코드의 유지보수성과 확장성을 향상시킵니다. 미디어 플레이어, 자판기, 게임 캐릭터 등에서 활용되며, Strategy Pattern 과 유사하지만 상태 간 의존성과 전환 관리가 핵심 차이점입니다.</p><h3 id=4-핵심-개념-1>4. 핵심 개념<a hidden class=anchor aria-hidden=true href=#4-핵심-개념-1>#</a></h3><h4 id=41-기본-개념>4.1 기본 개념<a hidden class=anchor aria-hidden=true href=#41-기본-개념>#</a></h4><ul><li><strong>상태 기반 행동 변경</strong>: 객체의 내부 상태에 따라 행동이 달라지는 문제를 해결</li><li><strong>캡슐화</strong>: 각 상태별 행동을 별도 클래스로 분리하여 관리</li><li><strong>위임</strong>: Context 객체가 현재 상태 객체에 행동을 위임</li><li><strong>동적 전환</strong>: 런타임에 상태 객체를 교체하여 행동 변경</li></ul><h4 id=42-핵심-구성-요소>4.2 핵심 구성 요소<a hidden class=anchor aria-hidden=true href=#42-핵심-구성-요소>#</a></h4><ul><li><strong>Context</strong>: 상태를 가지는 주체 객체</li><li><strong>State Interface</strong>: 모든 상태 클래스가 구현할 인터페이스</li><li><strong>Concrete State</strong>: 각 상태의 구체적인 구현 클래스</li></ul><h4 id=43-유한-상태-머신과의-관계>4.3 유한 상태 머신과의 관계<a hidden class=anchor aria-hidden=true href=#43-유한-상태-머신과의-관계>#</a></h4><ul><li>FSM 의 객체 지향적 구현 방법</li><li>상태와 전환 규칙을 코드로 표현</li><li>상태 다이어그램을 클래스 구조로 매핑</li></ul><hr><h3 id=파트-1-핵심-이론과-배경><strong>파트 1: 핵심 이론과 배경</strong><a hidden class=anchor aria-hidden=true href=#파트-1-핵심-이론과-배경>#</a></h3><h4 id=배경>배경<a hidden class=anchor aria-hidden=true href=#배경>#</a></h4><p>State Pattern 은 1995 년 Gang of Four 가 발표한 23 개 디자인 패턴 중 하나로, 객체의 상태에 따라 행동이 변경되는 문제를 해결하기 위해 개발되었습니다. 이 패턴은 오토마타 이론의 유한 상태 머신 (Finite State Machine) 개념에서 영감을 받아 객체 지향적으로 구현한 것입니다.</p><h4 id=목적-및-필요성-1>목적 및 필요성<a hidden class=anchor aria-hidden=true href=#목적-및-필요성-1>#</a></h4><p><strong>주요 목적:</strong></p><ul><li>객체의 내부 상태 변화에 따른 행동 변경 관리</li><li>복잡한 조건문 (if-else, switch-case) 제거</li><li>상태별 행동의 캡슐화 및 관리</li><li>새로운 상태 추가 시 기존 코드 변경 최소화</li></ul><p><strong>필요성:</strong></p><ul><li>상태 의존적 행동을 가진 객체의 복잡성 관리</li><li>코드 유지보수성 향상</li><li>객체의 행동과 상태 간 결합도 감소</li><li>개방 - 폐쇄 원칙 (Open-Closed Principle) 준수</li></ul><h4 id=주요-기능-및-역할-1>주요 기능 및 역할<a hidden class=anchor aria-hidden=true href=#주요-기능-및-역할-1>#</a></h4><p><strong>핵심 기능:</strong></p><ol><li><strong>상태 관리</strong>: 객체의 현재 상태 추적 및 관리</li><li><strong>행동 위임</strong>: 상태별 행동을 해당 상태 객체에 위임</li><li><strong>동적 전환</strong>: 런타임에 상태 변경 및 행동 수정</li><li><strong>캡슐화</strong>: 상태별 로직을 별도 클래스로 분리</li></ol><p><strong>주요 역할:</strong></p><ul><li>복잡한 상태 기반 로직의 구조화</li><li>상태 전환 규칙의 명확한 정의</li><li>코드의 가독성 및 유지보수성 향상</li></ul><h4 id=특징-2>특징<a hidden class=anchor aria-hidden=true href=#특징-2>#</a></h4><p><strong>긍정적 특징:</strong></p><ul><li>상태별 행동의 명확한 분리</li><li>새로운 상태 추가 용이성</li><li>조건문 복잡성 제거</li><li>다형성을 통한 유연한 구조</li></ul><p><strong>구조적 특징:</strong></p><ul><li>Context 와 State 간 느슨한 결합</li><li>상태 간 전환 관리</li><li>인터페이스 기반 설계</li></ul><h4 id=핵심-원칙>핵심 원칙<a hidden class=anchor aria-hidden=true href=#핵심-원칙>#</a></h4><ol><li><strong>단일 책임 원칙</strong>: 각 상태 클래스는 하나의 상태만 담당</li><li><strong>개방 - 폐쇄 원칙</strong>: 새로운 상태 추가 시 기존 코드 수정 불필요</li><li><strong>의존성 역전 원칙</strong>: Context 는 구체적인 State 가 아닌 인터페이스에 의존</li><li><strong>상태 캡슐화</strong>: 각 상태의 행동을 해당 클래스 내부에 캡슐화</li></ol><hr><h3 id=파트-2-구조와-구현><strong>파트 2: 구조와 구현</strong><a hidden class=anchor aria-hidden=true href=#파트-2-구조와-구현>#</a></h3><h4 id=주요-원리-및-작동-원리-1>주요 원리 및 작동 원리<a hidden class=anchor aria-hidden=true href=#주요-원리-및-작동-원리-1>#</a></h4><p>State Pattern 의 작동 원리는 다음과 같습니다:</p><ol><li><strong>상태 표현</strong>: 각 상태를 별도의 클래스로 표현</li><li><strong>위임</strong>: Context 객체가 현재 상태 객체에 행동 위임</li><li><strong>전환</strong>: 상태 변경 시 State 객체 교체</li><li><strong>일관성</strong>: 모든 상태 클래스가 동일한 인터페이스 구현</li></ol><h4 id=구조-및-아키텍처-2>구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#구조-및-아키텍처-2>#</a></h4><h5 id=필수-구성요소>필수 구성요소<a hidden class=anchor aria-hidden=true href=#필수-구성요소>#</a></h5><table><thead><tr><th>구성요소</th><th>기능</th><th>역할</th></tr></thead><tbody><tr><td><strong>Context</strong></td><td>상태를 가지는 주체 객체</td><td>- 현재 상태 객체 참조 유지<br>- 클라이언트 인터페이스 제공<br>- 상태 전환 관리</td></tr><tr><td><strong>State Interface</strong></td><td>상태 인터페이스 정의</td><td>- 모든 상태 클래스의 공통 인터페이스<br>- 상태별 행동 메서드 선언</td></tr><tr><td><strong>Concrete State</strong></td><td>구체적인 상태 구현</td><td>- 특정 상태의 행동 구현<br>- 상태 전환 로직 포함<br>Context 참조 (선택적)</td></tr></tbody></table><h5 id=선택-구성요소>선택 구성요소<a hidden class=anchor aria-hidden=true href=#선택-구성요소>#</a></h5><table><thead><tr><th>구성요소</th><th>기능</th><th>역할</th></tr></thead><tbody><tr><td><strong>Abstract State</strong></td><td>추상 상태 클래스</td><td>- 공통 기능 제공<br>- 코드 중복 방지</td></tr><tr><td><strong>State Factory</strong></td><td>상태 객체 생성 관리</td><td>- 상태 객체 생성 및 관리<br>- 상태 객체 재사용</td></tr></tbody></table><h4 id=구현-기법-2>구현 기법<a hidden class=anchor aria-hidden=true href=#구현-기법-2>#</a></h4><h5 id=1-기본-구현-기법>1. 기본 구현 기법<a hidden class=anchor aria-hidden=true href=#1-기본-구현-기법>#</a></h5><p><strong>정의</strong>: 표준적인 State Pattern 구현 방식 <strong>구성</strong>: Context, State Interface, Concrete States <strong>목적</strong>: 상태별 행동의 명확한 분리</p><p><strong>실제 예시 (Java):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span><span class=lnt id=hl-8-11><a class=lnlinks href=#hl-8-11>11</a>
</span><span class=lnt id=hl-8-12><a class=lnlinks href=#hl-8-12>12</a>
</span><span class=lnt id=hl-8-13><a class=lnlinks href=#hl-8-13>13</a>
</span><span class=lnt id=hl-8-14><a class=lnlinks href=#hl-8-14>14</a>
</span><span class=lnt id=hl-8-15><a class=lnlinks href=#hl-8-15>15</a>
</span><span class=lnt id=hl-8-16><a class=lnlinks href=#hl-8-16>16</a>
</span><span class=lnt id=hl-8-17><a class=lnlinks href=#hl-8-17>17</a>
</span><span class=lnt id=hl-8-18><a class=lnlinks href=#hl-8-18>18</a>
</span><span class=lnt id=hl-8-19><a class=lnlinks href=#hl-8-19>19</a>
</span><span class=lnt id=hl-8-20><a class=lnlinks href=#hl-8-20>20</a>
</span><span class=lnt id=hl-8-21><a class=lnlinks href=#hl-8-21>21</a>
</span><span class=lnt id=hl-8-22><a class=lnlinks href=#hl-8-22>22</a>
</span><span class=lnt id=hl-8-23><a class=lnlinks href=#hl-8-23>23</a>
</span><span class=lnt id=hl-8-24><a class=lnlinks href=#hl-8-24>24</a>
</span><span class=lnt id=hl-8-25><a class=lnlinks href=#hl-8-25>25</a>
</span><span class=lnt id=hl-8-26><a class=lnlinks href=#hl-8-26>26</a>
</span><span class=lnt id=hl-8-27><a class=lnlinks href=#hl-8-27>27</a>
</span><span class=lnt id=hl-8-28><a class=lnlinks href=#hl-8-28>28</a>
</span><span class=lnt id=hl-8-29><a class=lnlinks href=#hl-8-29>29</a>
</span><span class=lnt id=hl-8-30><a class=lnlinks href=#hl-8-30>30</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// State Interface</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>interface</span> <span class=nc>State</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>handle</span><span class=p>(</span><span class=n>Context</span><span class=w> </span><span class=n>context</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// Context Class</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>Context</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>State</span><span class=w> </span><span class=n>currentState</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>Context</span><span class=p>(</span><span class=n>State</span><span class=w> </span><span class=n>initialState</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>currentState</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>initialState</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>setState</span><span class=p>(</span><span class=n>State</span><span class=w> </span><span class=n>state</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>currentState</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>state</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>request</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>currentState</span><span class=p>.</span><span class=na>handle</span><span class=p>(</span><span class=k>this</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// Concrete States</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>ConcreteStateA</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>State</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>handle</span><span class=p>(</span><span class=n>Context</span><span class=w> </span><span class=n>context</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;Handling in State A&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 상태 전환 로직</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>context</span><span class=p>.</span><span class=na>setState</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>ConcreteStateB</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=2-상태-팩토리-기법>2. 상태 팩토리 기법<a hidden class=anchor aria-hidden=true href=#2-상태-팩토리-기법>#</a></h5><p><strong>정의</strong>: 상태 객체 생성 및 관리를 별도 팩토리로 분리 <strong>구성</strong>: State Factory 추가 <strong>목적</strong>: 상태 객체 생성 로직 중앙화</p><p><strong>실제 예시:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11>11</a>
</span><span class=lnt id=hl-9-12><a class=lnlinks href=#hl-9-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>StateFactory</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>Map</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>State</span><span class=o>&gt;</span><span class=w> </span><span class=n>states</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>HashMap</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>states</span><span class=p>.</span><span class=na>put</span><span class=p>(</span><span class=s>&#34;A&#34;</span><span class=p>,</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ConcreteStateA</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>states</span><span class=p>.</span><span class=na>put</span><span class=p>(</span><span class=s>&#34;B&#34;</span><span class=p>,</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ConcreteStateB</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=n>State</span><span class=w> </span><span class=nf>getState</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>stateType</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>states</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>stateType</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=3-계층적-상태-기법>3. 계층적 상태 기법<a hidden class=anchor aria-hidden=true href=#3-계층적-상태-기법>#</a></h5><p><strong>정의</strong>: 상태 간 계층 구조를 가진 구현 <strong>구성</strong>: 부모 - 자식 상태 관계 <strong>목적</strong>: 복잡한 상태 구조 관리</p><h5 id=4-상태-스택-기법>4. 상태 스택 기법<a hidden class=anchor aria-hidden=true href=#4-상태-스택-기법>#</a></h5><p><strong>정의</strong>: Pushdown Automaton 을 활용한 상태 스택 관리 <strong>구성</strong>: 상태 스택 구조 <strong>목적</strong>: 이전 상태로의 복귀 지원</p><hr><h3 id=파트-3-장단점과-적용><strong>파트 3: 장단점과 적용</strong><a hidden class=anchor aria-hidden=true href=#파트-3-장단점과-적용>#</a></h3><h4 id=장점과-단점-1>장점과 단점<a hidden class=anchor aria-hidden=true href=#장점과-단점-1>#</a></h4><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>✅ <strong>장점</strong></td><td><strong>조건문 복잡성 제거</strong></td><td>if-else, switch-case 문의 복잡성을 제거하여 코드 가독성 향상</td></tr><tr><td></td><td><strong>확장성</strong></td><td>새로운 상태 추가 시 기존 코드 수정 없이 확장 가능</td></tr><tr><td></td><td><strong>유지보수성</strong></td><td>각 상태별 로직이 분리되어 유지보수 용이</td></tr><tr><td></td><td><strong>다형성 활용</strong></td><td>객체 지향의 다형성을 통한 유연한 구조</td></tr><tr><td></td><td><strong>단일 책임 원칙</strong></td><td>각 상태 클래스가 하나의 책임만 가짐</td></tr><tr><td>⚠ <strong>단점</strong></td><td><strong>클래스 수 증가</strong></td><td>상태별로 클래스가 필요하여 전체 클래스 수 증가</td></tr><tr><td></td><td><strong>복잡성 증가</strong></td><td>간단한 상태 관리에는 과도한 복잡성</td></tr><tr><td></td><td><strong>성능 오버헤드</strong></td><td>객체 생성 및 메서드 호출로 인한 성능 오버헤드</td></tr><tr><td></td><td><strong>메모리 사용량</strong></td><td>상태 객체들로 인한 메모리 사용량 증가</td></tr></tbody></table><h4 id=도전-과제-1>도전 과제<a hidden class=anchor aria-hidden=true href=#도전-과제-1>#</a></h4><p><strong>1. 상태 폭발 문제</strong></p><ul><li><strong>설명</strong>: 상태와 전환이 많아질수록 관리 복잡성 증가</li><li><strong>해결책</strong>: 계층적 상태 머신, 상태 그룹화, 컴포지트 패턴 활용</li></ul><p><strong>2. 상태 전환 관리</strong></p><ul><li><strong>설명</strong>: 복잡한 상태 전환 규칙 관리 어려움</li><li><strong>해결책</strong>: 상태 전환 테이블, 전환 가드 조건 사용</li></ul><p><strong>3. 성능 최적화</strong></p><ul><li><strong>설명</strong>: 빈번한 상태 전환 시 성능 저하</li><li><strong>해결책</strong>: 상태 객체 재사용, 플라이웨이트 패턴 적용</li></ul><p><strong>4. 상태 일관성</strong></p><ul><li><strong>설명</strong>: 동시성 환경에서 상태 일관성 보장</li><li><strong>해결책</strong>: 동기화 메커니즘, 불변 상태 객체 사용</li></ul><h4 id=분류에-따른-종류-및-유형-2>분류에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#분류에-따른-종류-및-유형-2>#</a></h4><table><thead><tr><th>분류 기준</th><th>유형</th><th>특징</th><th>예시</th></tr></thead><tbody><tr><td><strong>상태 전환 주체</strong></td><td>Context 주도형</td><td>Context 에서 상태 전환 관리</td><td>미디어 플레이어</td></tr><tr><td></td><td>State 주도형</td><td>State 객체가 다음 상태 결정</td><td>게임 캐릭터 상태</td></tr><tr><td><strong>상태 객체 관리</strong></td><td>생성/소멸형</td><td>필요시 상태 객체 생성/소멸</td><td>메모리 절약 중요한 경우</td></tr><tr><td></td><td>사전 생성형</td><td>모든 상태 객체를 미리 생성</td><td>빠른 전환이 필요한 경우</td></tr><tr><td><strong>상태 구조</strong></td><td>단순형</td><td>평면적 상태 구조</td><td>간단한 상태 머신</td></tr><tr><td></td><td>계층형</td><td>중첩된 상태 구조</td><td>복잡한 상태 관리</td></tr></tbody></table><h4 id=실무-적용-예시-2>실무 적용 예시<a hidden class=anchor aria-hidden=true href=#실무-적용-예시-2>#</a></h4><table><thead><tr><th>분야</th><th>적용 사례</th><th>구현 특징</th><th>주요 상태</th></tr></thead><tbody><tr><td><strong>미디어 시스템</strong></td><td>미디어 플레이어</td><td>재생 상태 관리</td><td>Playing, Paused, Stopped</td></tr><tr><td><strong>게임 개발</strong></td><td>캐릭터 AI</td><td>행동 패턴 관리</td><td>Idle, Moving, Attacking</td></tr><tr><td><strong>자동화 시스템</strong></td><td>자판기</td><td>거래 상태 관리</td><td>Ready, Selecting, Processing</td></tr><tr><td><strong>네트워크</strong></td><td>TCP 연결</td><td>연결 상태 관리</td><td>Closed, Listen, Established</td></tr><tr><td><strong>UI/UX</strong></td><td>폼 검증</td><td>입력 상태 관리</td><td>Empty, Valid, Invalid</td></tr></tbody></table><h4 id=활용-사례-온라인-주문-시스템>활용 사례: 온라인 주문 시스템<a hidden class=anchor aria-hidden=true href=#활용-사례-온라인-주문-시스템>#</a></h4><h5 id=시나리오>시나리오<a hidden class=anchor aria-hidden=true href=#시나리오>#</a></h5><p>전자상거래 플랫폼의 주문 처리 시스템에서 주문의 생명주기를 관리하는 사례</p><h5 id=시스템-구성>시스템 구성<a hidden class=anchor aria-hidden=true href=#시스템-구성>#</a></h5><ul><li><strong>Order Context</strong>: 주문 정보와 현재 상태 관리</li><li><strong>Order States</strong>: 주문 확인, 결제 처리, 배송 준비, 배송 중, 배송 완료 상태</li><li><strong>State Manager</strong>: 상태 전환 규칙 관리</li></ul><h5 id=시스템-구성-다이어그램>시스템 구성 다이어그램<a hidden class=anchor aria-hidden=true href=#시스템-구성-다이어그램>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1>1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2>2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3>3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4>4</a>
</span><span class=lnt id=hl-10-5><a class=lnlinks href=#hl-10-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[Client] → [OrderContext] → [OrderState Interface]
</span></span><span class=line><span class=cl>                ↓                    ↑
</span></span><span class=line><span class=cl>         [Current State]     [Concrete States]
</span></span><span class=line><span class=cl>                                    ↓
</span></span><span class=line><span class=cl>                    [Confirmed] → [Paid] → [Shipped] → [Delivered]
</span></span></code></pre></td></tr></table></div></div><h5 id=workflow>Workflow<a hidden class=anchor aria-hidden=true href=#workflow>#</a></h5><ol><li><strong>주문 생성</strong>: 초기 상태를 &lsquo;Confirmed&rsquo; 로 설정</li><li><strong>결제 처리</strong>: 결제 완료 시 &lsquo;Paid&rsquo; 상태로 전환</li><li><strong>배송 준비</strong>: 상품 준비 완료 시 &lsquo;Shipped&rsquo; 상태로 전환</li><li><strong>배송 완료</strong>: 고객 수령 확인 시 &lsquo;Delivered&rsquo; 상태로 전환</li></ol><h5 id=역할>역할<a hidden class=anchor aria-hidden=true href=#역할>#</a></h5><ul><li><strong>주문 상태 추적</strong>: 실시간 주문 상태 모니터링</li><li><strong>자동화된 처리</strong>: 상태별 자동 처리 로직 실행</li><li><strong>예외 처리</strong>: 각 상태에서 발생 가능한 예외 상황 처리</li></ul><hr><h3 id=파트-4-최적화와-실무-고려사항><strong>파트 4: 최적화와 실무 고려사항</strong><a hidden class=anchor aria-hidden=true href=#파트-4-최적화와-실무-고려사항>#</a></h3><h4 id=실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점-1>실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점-1>#</a></h4><table><thead><tr><th>구분</th><th>고려사항</th><th>권장사항</th></tr></thead><tbody><tr><td><strong>설계</strong></td><td>상태 식별 정확성</td><td>도메인 전문가와 협업하여 모든 상태와 전환 규칙 명확히 정의</td></tr><tr><td><strong>구현</strong></td><td>인터페이스 설계</td><td>상태별 공통 행동을 포함한 일관된 인터페이스 설계</td></tr><tr><td><strong>확장성</strong></td><td>새로운 상태 추가</td><td>기존 코드 영향 최소화를 위한 개방 - 폐쇄 원칙 준수</td></tr><tr><td><strong>테스트</strong></td><td>상태 전환 테스트</td><td>모든 가능한 상태 전환 시나리오에 대한 테스트 케이스 작성</td></tr><tr><td><strong>문서화</strong></td><td>상태 다이어그램</td><td>시각적 상태 다이어그램으로 시스템 이해도 향상</td></tr><tr><td><strong>유지보수</strong></td><td>코드 일관성</td><td>명명 규칙과 코드 스타일 일관성 유지</td></tr></tbody></table><h4 id=최적화하기-위한-고려사항-및-주의할-점-1>최적화하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#최적화하기-위한-고려사항-및-주의할-점-1>#</a></h4><table><thead><tr><th>구분</th><th>최적화 포인트</th><th>권장사항</th></tr></thead><tbody><tr><td><strong>메모리</strong></td><td>상태 객체 관리</td><td>싱글톤 패턴이나 플라이웨이트 패턴으로 상태 객체 재사용</td></tr><tr><td><strong>속도</strong></td><td>상태 전환 최적화</td><td>빈번한 전환이 예상되는 경우 상태 객체 미리 생성</td></tr><tr><td><strong>동시성</strong></td><td>스레드 안전성</td><td>멀티스레드 환경에서 상태 전환 시 동기화 처리</td></tr><tr><td><strong>확장성</strong></td><td>상태 수 관리</td><td>과도한 상태 분할 방지, 계층적 구조 고려</td></tr><tr><td><strong>캐싱</strong></td><td>상태 정보 캐싱</td><td>자주 접근하는 상태 정보는 캐싱으로 성능 향상</td></tr><tr><td><strong>지연 로딩</strong></td><td>필요시 생성</td><td>사용하지 않는 상태 객체는 지연 로딩으로 메모리 절약</td></tr></tbody></table><h4 id=gof-패턴-세부-분석>GoF 패턴 세부 분석<a hidden class=anchor aria-hidden=true href=#gof-패턴-세부-분석>#</a></h4><h5 id=패턴-이름과-분류-1>패턴 이름과 분류<a hidden class=anchor aria-hidden=true href=#패턴-이름과-분류-1>#</a></h5><ul><li><strong>이름</strong>: State Pattern (상태 패턴)</li><li><strong>분류</strong>: Behavioral Design Pattern (행동 패턴)</li></ul><h5 id=의도-intent-1>의도 (Intent)<a hidden class=anchor aria-hidden=true href=#의도-intent-1>#</a></h5><p>객체의 내부 상태가 변경될 때 객체의 행동을 변경할 수 있도록 하며, 객체가 마치 클래스가 변경된 것처럼 보이게 합니다.</p><h5 id=다른-이름-also-known-as-1>다른 이름 (Also Known As)<a hidden class=anchor aria-hidden=true href=#다른-이름-also-known-as-1>#</a></h5><ul><li>Objects for States</li><li>State Machine Pattern</li></ul><h5 id=동기-motivation--forces-1>동기 (Motivation / Forces)<a hidden class=anchor aria-hidden=true href=#동기-motivation--forces-1>#</a></h5><ul><li>객체의 행동이 상태에 의존하는 경우</li><li>상태에 따른 복잡한 조건문 제거 필요</li><li>런타임에 객체의 행동 변경 필요</li><li>새로운 상태 추가 시 기존 코드 수정 최소화</li></ul><h5 id=적용-가능성-applicability-1>적용 가능성 (Applicability)<a hidden class=anchor aria-hidden=true href=#적용-가능성-applicability-1>#</a></h5><ul><li>객체의 행동이 상태에 따라 달라지는 경우</li><li>상태에 따른 조건문이 복잡한 경우</li><li>상태와 전환 규칙이 자주 변경되는 경우</li><li>새로운 상태 추가가 빈번한 경우</li></ul><h5 id=참여자-participants>참여자 (Participants)<a hidden class=anchor aria-hidden=true href=#참여자-participants>#</a></h5><ul><li><strong>Context</strong>: 상태를 가지는 주체 객체</li><li><strong>State</strong>: 상태 인터페이스</li><li><strong>ConcreteState</strong>: 구체적인 상태 구현</li></ul><h5 id=협력-collaboration>협력 (Collaboration)<a hidden class=anchor aria-hidden=true href=#협력-collaboration>#</a></h5><ul><li>Context 가 State 인터페이스를 통해 현재 상태 객체와 협력</li><li>State 객체가 Context 의 상태 전환 요청</li><li>클라이언트는 Context 를 통해서만 상호작용</li></ul><h5 id=결과-consequences>결과 (Consequences)<a hidden class=anchor aria-hidden=true href=#결과-consequences>#</a></h5><p><strong>긍정적 결과:</strong></p><ul><li>상태별 행동의 명확한 분리</li><li>새로운 상태 추가 용이</li><li>조건문 복잡성 제거</li></ul><p><strong>부정적 결과:</strong></p><ul><li>클래스 수 증가</li><li>간단한 경우 과도한 복잡성</li></ul><h5 id=구현-implementation>구현 (Implementation)<a hidden class=anchor aria-hidden=true href=#구현-implementation>#</a></h5><ol><li>Context 클래스 정의</li><li>State 인터페이스 선언</li><li>ConcreteState 클래스들 구현</li><li>상태 전환 메커니즘 구현</li></ol><h5 id=샘플-코드-sample-code>샘플 코드 (Sample Code)<a hidden class=anchor aria-hidden=true href=#샘플-코드-sample-code>#</a></h5><p><strong>Python 구현:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1> 1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2> 2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3> 3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4> 4</a>
</span><span class=lnt id=hl-11-5><a class=lnlinks href=#hl-11-5> 5</a>
</span><span class=lnt id=hl-11-6><a class=lnlinks href=#hl-11-6> 6</a>
</span><span class=lnt id=hl-11-7><a class=lnlinks href=#hl-11-7> 7</a>
</span><span class=lnt id=hl-11-8><a class=lnlinks href=#hl-11-8> 8</a>
</span><span class=lnt id=hl-11-9><a class=lnlinks href=#hl-11-9> 9</a>
</span><span class=lnt id=hl-11-10><a class=lnlinks href=#hl-11-10>10</a>
</span><span class=lnt id=hl-11-11><a class=lnlinks href=#hl-11-11>11</a>
</span><span class=lnt id=hl-11-12><a class=lnlinks href=#hl-11-12>12</a>
</span><span class=lnt id=hl-11-13><a class=lnlinks href=#hl-11-13>13</a>
</span><span class=lnt id=hl-11-14><a class=lnlinks href=#hl-11-14>14</a>
</span><span class=lnt id=hl-11-15><a class=lnlinks href=#hl-11-15>15</a>
</span><span class=lnt id=hl-11-16><a class=lnlinks href=#hl-11-16>16</a>
</span><span class=lnt id=hl-11-17><a class=lnlinks href=#hl-11-17>17</a>
</span><span class=lnt id=hl-11-18><a class=lnlinks href=#hl-11-18>18</a>
</span><span class=lnt id=hl-11-19><a class=lnlinks href=#hl-11-19>19</a>
</span><span class=lnt id=hl-11-20><a class=lnlinks href=#hl-11-20>20</a>
</span><span class=lnt id=hl-11-21><a class=lnlinks href=#hl-11-21>21</a>
</span><span class=lnt id=hl-11-22><a class=lnlinks href=#hl-11-22>22</a>
</span><span class=lnt id=hl-11-23><a class=lnlinks href=#hl-11-23>23</a>
</span><span class=lnt id=hl-11-24><a class=lnlinks href=#hl-11-24>24</a>
</span><span class=lnt id=hl-11-25><a class=lnlinks href=#hl-11-25>25</a>
</span><span class=lnt id=hl-11-26><a class=lnlinks href=#hl-11-26>26</a>
</span><span class=lnt id=hl-11-27><a class=lnlinks href=#hl-11-27>27</a>
</span><span class=lnt id=hl-11-28><a class=lnlinks href=#hl-11-28>28</a>
</span><span class=lnt id=hl-11-29><a class=lnlinks href=#hl-11-29>29</a>
</span><span class=lnt id=hl-11-30><a class=lnlinks href=#hl-11-30>30</a>
</span><span class=lnt id=hl-11-31><a class=lnlinks href=#hl-11-31>31</a>
</span><span class=lnt id=hl-11-32><a class=lnlinks href=#hl-11-32>32</a>
</span><span class=lnt id=hl-11-33><a class=lnlinks href=#hl-11-33>33</a>
</span><span class=lnt id=hl-11-34><a class=lnlinks href=#hl-11-34>34</a>
</span><span class=lnt id=hl-11-35><a class=lnlinks href=#hl-11-35>35</a>
</span><span class=lnt id=hl-11-36><a class=lnlinks href=#hl-11-36>36</a>
</span><span class=lnt id=hl-11-37><a class=lnlinks href=#hl-11-37>37</a>
</span><span class=lnt id=hl-11-38><a class=lnlinks href=#hl-11-38>38</a>
</span><span class=lnt id=hl-11-39><a class=lnlinks href=#hl-11-39>39</a>
</span><span class=lnt id=hl-11-40><a class=lnlinks href=#hl-11-40>40</a>
</span><span class=lnt id=hl-11-41><a class=lnlinks href=#hl-11-41>41</a>
</span><span class=lnt id=hl-11-42><a class=lnlinks href=#hl-11-42>42</a>
</span><span class=lnt id=hl-11-43><a class=lnlinks href=#hl-11-43>43</a>
</span><span class=lnt id=hl-11-44><a class=lnlinks href=#hl-11-44>44</a>
</span><span class=lnt id=hl-11-45><a class=lnlinks href=#hl-11-45>45</a>
</span><span class=lnt id=hl-11-46><a class=lnlinks href=#hl-11-46>46</a>
</span><span class=lnt id=hl-11-47><a class=lnlinks href=#hl-11-47>47</a>
</span><span class=lnt id=hl-11-48><a class=lnlinks href=#hl-11-48>48</a>
</span><span class=lnt id=hl-11-49><a class=lnlinks href=#hl-11-49>49</a>
</span><span class=lnt id=hl-11-50><a class=lnlinks href=#hl-11-50>50</a>
</span><span class=lnt id=hl-11-51><a class=lnlinks href=#hl-11-51>51</a>
</span><span class=lnt id=hl-11-52><a class=lnlinks href=#hl-11-52>52</a>
</span><span class=lnt id=hl-11-53><a class=lnlinks href=#hl-11-53>53</a>
</span><span class=lnt id=hl-11-54><a class=lnlinks href=#hl-11-54>54</a>
</span><span class=lnt id=hl-11-55><a class=lnlinks href=#hl-11-55>55</a>
</span><span class=lnt id=hl-11-56><a class=lnlinks href=#hl-11-56>56</a>
</span><span class=lnt id=hl-11-57><a class=lnlinks href=#hl-11-57>57</a>
</span><span class=lnt id=hl-11-58><a class=lnlinks href=#hl-11-58>58</a>
</span><span class=lnt id=hl-11-59><a class=lnlinks href=#hl-11-59>59</a>
</span><span class=lnt id=hl-11-60><a class=lnlinks href=#hl-11-60>60</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>abc</span> <span class=kn>import</span> <span class=n>ABC</span><span class=p>,</span> <span class=n>abstractmethod</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># State Interface</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>State</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>handle</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>context</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Context</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MediaPlayer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_state</span> <span class=o>=</span> <span class=n>StoppedState</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>set_state</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>state</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_state</span> <span class=o>=</span> <span class=n>state</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>play</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_state</span><span class=o>.</span><span class=n>play</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pause</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_state</span><span class=o>.</span><span class=n>pause</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>stop</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_state</span><span class=o>.</span><span class=n>stop</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Concrete States</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PlayingState</span><span class=p>(</span><span class=n>State</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>play</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>context</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Already playing&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pause</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>context</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Pausing playback&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>context</span><span class=o>.</span><span class=n>set_state</span><span class=p>(</span><span class=n>PausedState</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>stop</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>context</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Stopping playback&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>context</span><span class=o>.</span><span class=n>set_state</span><span class=p>(</span><span class=n>StoppedState</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PausedState</span><span class=p>(</span><span class=n>State</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>play</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>context</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Resuming playback&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>context</span><span class=o>.</span><span class=n>set_state</span><span class=p>(</span><span class=n>PlayingState</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pause</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>context</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Already paused&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>stop</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>context</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Stopping playback&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>context</span><span class=o>.</span><span class=n>set_state</span><span class=p>(</span><span class=n>StoppedState</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>StoppedState</span><span class=p>(</span><span class=n>State</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>play</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>context</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Starting playback&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>context</span><span class=o>.</span><span class=n>set_state</span><span class=p>(</span><span class=n>PlayingState</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pause</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>context</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Cannot pause when stopped&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>stop</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>context</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Already stopped&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>JavaScript 구현:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1> 1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2> 2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3> 3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4> 4</a>
</span><span class=lnt id=hl-12-5><a class=lnlinks href=#hl-12-5> 5</a>
</span><span class=lnt id=hl-12-6><a class=lnlinks href=#hl-12-6> 6</a>
</span><span class=lnt id=hl-12-7><a class=lnlinks href=#hl-12-7> 7</a>
</span><span class=lnt id=hl-12-8><a class=lnlinks href=#hl-12-8> 8</a>
</span><span class=lnt id=hl-12-9><a class=lnlinks href=#hl-12-9> 9</a>
</span><span class=lnt id=hl-12-10><a class=lnlinks href=#hl-12-10>10</a>
</span><span class=lnt id=hl-12-11><a class=lnlinks href=#hl-12-11>11</a>
</span><span class=lnt id=hl-12-12><a class=lnlinks href=#hl-12-12>12</a>
</span><span class=lnt id=hl-12-13><a class=lnlinks href=#hl-12-13>13</a>
</span><span class=lnt id=hl-12-14><a class=lnlinks href=#hl-12-14>14</a>
</span><span class=lnt id=hl-12-15><a class=lnlinks href=#hl-12-15>15</a>
</span><span class=lnt id=hl-12-16><a class=lnlinks href=#hl-12-16>16</a>
</span><span class=lnt id=hl-12-17><a class=lnlinks href=#hl-12-17>17</a>
</span><span class=lnt id=hl-12-18><a class=lnlinks href=#hl-12-18>18</a>
</span><span class=lnt id=hl-12-19><a class=lnlinks href=#hl-12-19>19</a>
</span><span class=lnt id=hl-12-20><a class=lnlinks href=#hl-12-20>20</a>
</span><span class=lnt id=hl-12-21><a class=lnlinks href=#hl-12-21>21</a>
</span><span class=lnt id=hl-12-22><a class=lnlinks href=#hl-12-22>22</a>
</span><span class=lnt id=hl-12-23><a class=lnlinks href=#hl-12-23>23</a>
</span><span class=lnt id=hl-12-24><a class=lnlinks href=#hl-12-24>24</a>
</span><span class=lnt id=hl-12-25><a class=lnlinks href=#hl-12-25>25</a>
</span><span class=lnt id=hl-12-26><a class=lnlinks href=#hl-12-26>26</a>
</span><span class=lnt id=hl-12-27><a class=lnlinks href=#hl-12-27>27</a>
</span><span class=lnt id=hl-12-28><a class=lnlinks href=#hl-12-28>28</a>
</span><span class=lnt id=hl-12-29><a class=lnlinks href=#hl-12-29>29</a>
</span><span class=lnt id=hl-12-30><a class=lnlinks href=#hl-12-30>30</a>
</span><span class=lnt id=hl-12-31><a class=lnlinks href=#hl-12-31>31</a>
</span><span class=lnt id=hl-12-32><a class=lnlinks href=#hl-12-32>32</a>
</span><span class=lnt id=hl-12-33><a class=lnlinks href=#hl-12-33>33</a>
</span><span class=lnt id=hl-12-34><a class=lnlinks href=#hl-12-34>34</a>
</span><span class=lnt id=hl-12-35><a class=lnlinks href=#hl-12-35>35</a>
</span><span class=lnt id=hl-12-36><a class=lnlinks href=#hl-12-36>36</a>
</span><span class=lnt id=hl-12-37><a class=lnlinks href=#hl-12-37>37</a>
</span><span class=lnt id=hl-12-38><a class=lnlinks href=#hl-12-38>38</a>
</span><span class=lnt id=hl-12-39><a class=lnlinks href=#hl-12-39>39</a>
</span><span class=lnt id=hl-12-40><a class=lnlinks href=#hl-12-40>40</a>
</span><span class=lnt id=hl-12-41><a class=lnlinks href=#hl-12-41>41</a>
</span><span class=lnt id=hl-12-42><a class=lnlinks href=#hl-12-42>42</a>
</span><span class=lnt id=hl-12-43><a class=lnlinks href=#hl-12-43>43</a>
</span><span class=lnt id=hl-12-44><a class=lnlinks href=#hl-12-44>44</a>
</span><span class=lnt id=hl-12-45><a class=lnlinks href=#hl-12-45>45</a>
</span><span class=lnt id=hl-12-46><a class=lnlinks href=#hl-12-46>46</a>
</span><span class=lnt id=hl-12-47><a class=lnlinks href=#hl-12-47>47</a>
</span><span class=lnt id=hl-12-48><a class=lnlinks href=#hl-12-48>48</a>
</span><span class=lnt id=hl-12-49><a class=lnlinks href=#hl-12-49>49</a>
</span><span class=lnt id=hl-12-50><a class=lnlinks href=#hl-12-50>50</a>
</span><span class=lnt id=hl-12-51><a class=lnlinks href=#hl-12-51>51</a>
</span><span class=lnt id=hl-12-52><a class=lnlinks href=#hl-12-52>52</a>
</span><span class=lnt id=hl-12-53><a class=lnlinks href=#hl-12-53>53</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// State Interface (abstract class)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>State</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>handle</span><span class=p>(</span><span class=nx>context</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s2>&#34;handle method must be implemented&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Context
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>TrafficLight</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>state</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>RedState</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>setState</span><span class=p>(</span><span class=nx>state</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>state</span> <span class=o>=</span> <span class=nx>state</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>change</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>handle</span><span class=p>(</span><span class=k>this</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>getState</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>constructor</span><span class=p>.</span><span class=nx>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Concrete States
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>RedState</span> <span class=kr>extends</span> <span class=nx>State</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>handle</span><span class=p>(</span><span class=nx>context</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Red Light - Stop!&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>context</span><span class=p>.</span><span class=nx>setState</span><span class=p>(</span><span class=k>new</span> <span class=nx>GreenState</span><span class=p>());</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>GreenState</span> <span class=kr>extends</span> <span class=nx>State</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>handle</span><span class=p>(</span><span class=nx>context</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Green Light - Go!&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>context</span><span class=p>.</span><span class=nx>setState</span><span class=p>(</span><span class=k>new</span> <span class=nx>YellowState</span><span class=p>());</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>YellowState</span> <span class=kr>extends</span> <span class=nx>State</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>handle</span><span class=p>(</span><span class=nx>context</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Yellow Light - Caution!&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>context</span><span class=p>.</span><span class=nx>setState</span><span class=p>(</span><span class=k>new</span> <span class=nx>RedState</span><span class=p>());</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 사용 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>trafficLight</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>TrafficLight</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>trafficLight</span><span class=p>.</span><span class=nx>change</span><span class=p>();</span> <span class=c1>// Red Light - Stop!
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>trafficLight</span><span class=p>.</span><span class=nx>change</span><span class=p>();</span> <span class=c1>// Green Light - Go!
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>trafficLight</span><span class=p>.</span><span class=nx>change</span><span class=p>();</span> <span class=c1>// Yellow Light - Caution!
</span></span></span></code></pre></td></tr></table></div></div><h5 id=알려진-사용-known-uses>알려진 사용 (Known Uses)<a hidden class=anchor aria-hidden=true href=#알려진-사용-known-uses>#</a></h5><ul><li>TCP 연결 상태 관리</li><li>GUI 컴포넌트 상태 관리</li><li>게임 엔진의 캐릭터 상태</li><li>워크플로우 시스템</li></ul><h5 id=관련-패턴-related-patterns>관련 패턴 (Related Patterns)<a hidden class=anchor aria-hidden=true href=#관련-패턴-related-patterns>#</a></h5><ul><li><strong>Strategy Pattern</strong>: 구조가 유사하지만 의도가 다름</li><li><strong>Singleton Pattern</strong>: 상태 객체를 싱글톤으로 구현</li><li><strong>Flyweight Pattern</strong>: 상태 객체 공유로 메모리 절약</li><li><strong>Observer Pattern</strong>: 상태 변경 알림</li></ul><h4 id=2025-년-기준-최신-동향-1>2025 년 기준 최신 동향<a hidden class=anchor aria-hidden=true href=#2025-년-기준-최신-동향-1>#</a></h4><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>AI/ML 통합</strong></td><td>지능형 상태 전환</td><td>AI 를 활용한 동적 상태 전환 규칙 학습 및 최적화</td></tr><tr><td><strong>클라우드 네이티브</strong></td><td>분산 상태 관리</td><td>마이크로서비스 환경에서의 상태 동기화 및 관리</td></tr><tr><td><strong>함수형 프로그래밍</strong></td><td>불변 상태 패턴</td><td>함수형 언어에서의 불변 상태 객체 활용</td></tr><tr><td><strong>리액티브 프로그래밍</strong></td><td>스트림 기반 상태</td><td>RxJS, Reactor 등을 활용한 리액티브 상태 관리</td></tr><tr><td><strong>모바일 최적화</strong></td><td>경량화 패턴</td><td>모바일 환경에 최적화된 경량 State Pattern 구현</td></tr></tbody></table><h4 id=주제와-관련하여-주목할-내용-1>주제와 관련하여 주목할 내용<a hidden class=anchor aria-hidden=true href=#주제와-관련하여-주목할-내용-1>#</a></h4><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>성능 최적화</strong></td><td>상태 풀링</td><td>상태 객체 재사용을 통한 메모리 및 성능 최적화</td></tr><tr><td><strong>디버깅 도구</strong></td><td>상태 시각화</td><td>실시간 상태 전환 모니터링 및 디버깅 도구</td></tr><tr><td><strong>테스트 자동화</strong></td><td>상태 기반 테스팅</td><td>상태 전환 시나리오 자동 생성 및 테스트</td></tr><tr><td><strong>코드 생성</strong></td><td>DSL 기반 생성</td><td>Domain Specific Language 를 통한 State Pattern 코드 자동 생성</td></tr><tr><td><strong>동시성 처리</strong></td><td>액터 모델</td><td>액터 모델과 State Pattern 결합을 통한 동시성 처리</td></tr></tbody></table><h4 id=앞으로의-전망-1>앞으로의 전망<a hidden class=anchor aria-hidden=true href=#앞으로의-전망-1>#</a></h4><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>자동화</strong></td><td>AI 기반 최적화</td><td>머신러닝을 통한 상태 전환 패턴 자동 최적화</td></tr><tr><td><strong>시각화</strong></td><td>실시간 모니터링</td><td>상태 머신의 실시간 시각화 및 분석 도구 발전</td></tr><tr><td><strong>통합성</strong></td><td>마이크로서비스</td><td>분산 시스템에서의 상태</td></tr></tbody></table><h4 id=앞으로의-전망-계속>앞으로의 전망 (계속)<a hidden class=anchor aria-hidden=true href=#앞으로의-전망-계속>#</a></h4><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>통합성</strong></td><td>마이크로서비스</td><td>분산 시스템에서의 상태 일관성 보장 기술 발전</td></tr><tr><td><strong>성능</strong></td><td>하드웨어 최적화</td><td>GPU, TPU 등 하드웨어 가속을 활용한 상태 처리</td></tr><tr><td><strong>표준화</strong></td><td>패턴 표준화</td><td>업계 표준 State Pattern 라이브러리 및 프레임워크 등장</td></tr><tr><td><strong>보안</strong></td><td>상태 기반 보안</td><td>상태 전환을 활용한 보안 메커니즘 강화</td></tr></tbody></table><h4 id=추가적으로-학습해야할-내용들-하위-주제>추가적으로 학습해야할 내용들 (하위 주제)<a hidden class=anchor aria-hidden=true href=#추가적으로-학습해야할-내용들-하위-주제>#</a></h4><table><thead><tr><th>카테고리</th><th>주제</th><th>설명</th></tr></thead><tbody><tr><td><strong>고급 패턴</strong></td><td>Hierarchical State Machine</td><td>중첩된 상태 구조를 가진 복잡한 상태 머신</td></tr><tr><td><strong>고급 패턴</strong></td><td>Pushdown Automaton</td><td>스택 기반 상태 관리 및 이전 상태 복원</td></tr><tr><td><strong>구현 기법</strong></td><td>State Table Pattern</td><td>테이블 기반 상태 전환 관리 기법</td></tr><tr><td><strong>최적화</strong></td><td>State Pooling</td><td>상태 객체 재사용을 통한 성능 최적화</td></tr><tr><td><strong>동시성</strong></td><td>Thread-Safe State Pattern</td><td>멀티스레드 환경에서의 안전한 상태 관리</td></tr><tr><td><strong>함수형</strong></td><td>Functional State Pattern</td><td>함수형 프로그래밍에서의 State Pattern 구현</td></tr></tbody></table><h4 id=추가로-알아야-하거나-학습해야할-내용들-관련-분야>추가로 알아야 하거나 학습해야할 내용들 (관련 분야)<a hidden class=anchor aria-hidden=true href=#추가로-알아야-하거나-학습해야할-내용들-관련-분야>#</a></h4><table><thead><tr><th>카테고리</th><th>주제</th><th>설명</th></tr></thead><tbody><tr><td><strong>컴퓨터 과학</strong></td><td>Finite State Automata</td><td>오토마타 이론의 기초 개념 및 수학적 모델</td></tr><tr><td><strong>시스템 설계</strong></td><td>Event-Driven Architecture</td><td>이벤트 기반 아키텍처와 상태 패턴의 통합</td></tr><tr><td><strong>게임 개발</strong></td><td>AI State Machine</td><td>게임 AI 에서의 상태 기반 행동 모델링</td></tr><tr><td><strong>웹 개발</strong></td><td>Frontend State Management</td><td>React, Vue.js 등에서의 상태 관리 패턴</td></tr><tr><td><strong>분산 시스템</strong></td><td>Distributed State Machine</td><td>분산 환경에서의 상태 동기화 및 일관성</td></tr><tr><td><strong>데이터베이스</strong></td><td>Database State Transition</td><td>데이터베이스 트랜잭션과 상태 관리</td></tr><tr><td><strong>네트워킹</strong></td><td>Protocol State Machine</td><td>네트워크 프로토콜의 상태 기반 구현</td></tr><tr><td><strong>임베디드</strong></td><td>Real-Time State Machine</td><td>실시간 시스템에서의 상태 머신 구현</td></tr></tbody></table><hr><h3 id=용어-정리-3>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-3>#</a></h3><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td><strong>Context (컨텍스트)</strong></td><td>상태를 가지며 클라이언트와 상호작용하는 주체 객체</td></tr><tr><td><strong>State Interface (상태 인터페이스)</strong></td><td>모든 구체적인 상태 클래스가 구현해야 하는 공통 인터페이스</td></tr><tr><td><strong>Concrete State (구체 상태)</strong></td><td>특정 상태의 행동을 구현하는 클래스</td></tr><tr><td><strong>State Transition (상태 전환)</strong></td><td>한 상태에서 다른 상태로 변경되는 과정</td></tr><tr><td><strong>Finite State Machine (FSM)</strong></td><td>유한한 개수의 상태와 전환 규칙을 가진 수학적 모델</td></tr><tr><td><strong>Deterministic FSM (DFA)</strong></td><td>각 입력에 대해 유일한 전환 경로를 가진 상태 머신</td></tr><tr><td><strong>Non-deterministic FSM (NFA)</strong></td><td>하나의 입력에 대해 여러 전환 경로가 가능한 상태 머신</td></tr><tr><td><strong>Pushdown Automaton</strong></td><td>스택을 가진 상태 머신으로 이전 상태 기억 가능</td></tr><tr><td><strong>State Explosion</strong></td><td>상태와 전환의 수가 기하급수적으로 증가하는 문제</td></tr><tr><td><strong>Hierarchical State Machine</strong></td><td>중첩된 상태 구조를 가진 상태 머신</td></tr><tr><td><strong>Guard Condition (가드 조건)</strong></td><td>상태 전환이 발생하기 위해 만족해야 하는 조건</td></tr><tr><td><strong>Entry Action (진입 액션)</strong></td><td>상태에 진입할 때 실행되는 동작</td></tr><tr><td><strong>Exit Action (탈출 액션)</strong></td><td>상태에서 나갈 때 실행되는 동작</td></tr><tr><td><strong>Self-Transition (자기 전환)</strong></td><td>동일한 상태로 다시 전환하는 것</td></tr><tr><td><strong>Composite State (복합 상태)</strong></td><td>내부에 하위 상태를 포함하는 상태</td></tr></tbody></table><hr><h3 id=참고-및-출처-3>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-3>#</a></h3><ul><li><a href=https://refactoring.guru/design-patterns/state>Design Patterns: Elements of Reusable Object-Oriented Software</a> - Gang of Four 원서</li><li><a href=https://refactoring.guru/design-patterns/state>State Pattern - Refactoring Guru</a> - 포괄적인 State Pattern 가이드</li><li><a href=https://www.geeksforgeeks.org/state-design-pattern/>State Design Pattern | GeeksforGeeks</a> - 최신 구현 예제 및 설명</li><li><a href=https://www.digitalocean.com/community/tutorials/state-design-pattern-java>State Design Pattern in Java | DigitalOcean</a> - Java 구현 가이드</li><li><a href=https://auth0.com/blog/state-pattern-in-python/>State Pattern in Python | Auth0</a> - Python 구현 예제</li><li><a href="https://patterns.eecs.berkeley.edu/?page_id=470">Finite State Machine | Berkeley Pattern Language</a> - FSM 이론적 배경</li><li><a href=https://www.baeldung.com/cs/design-state-pattern-vs-strategy-pattern>State Design Pattern vs Strategy Pattern | Baeldung</a> - 패턴 비교 분석</li><li><a href=https://gameprogrammingpatterns.com/state.html>Game Programming Patterns - State</a> - 게임 개발에서의 State Pattern</li><li><a href=https://en.wikipedia.org/wiki/State_pattern>Wikipedia - State Pattern</a> - 패턴 개요 및 배경</li><li><a href=https://en.wikipedia.org/wiki/Finite-state_machine>Wikipedia - Finite State Machine</a> - FSM 수학적 모델</li></ul></div></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>