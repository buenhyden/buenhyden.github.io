<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Memento Pattern | hyunyoun's Blog</title><meta name=keywords content="System-and-Software-Architecture,Design-Patterns,GoF,Behavioral,Memento-Pattern"><meta name=description content="Mediator 패턴은 객체 지향 소프트웨어 디자인 패턴 중 하나로, 객체들 간의 복잡한 상호작용을 캡슐화하여 객체 간 결합도를 낮추는 행위 패턴이다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/detailed-design/software-design-patterns/gof/behavioral/memento-pattern/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/detailed-design/software-design-patterns/gof/behavioral/memento-pattern/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/detailed-design/software-design-patterns/gof/behavioral/memento-pattern/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/software-engineering/design-and-architecture/detailed-design/software-design-patterns/gof/behavioral/memento-pattern/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Memento Pattern"><meta property="og:description" content="Mediator 패턴은 객체 지향 소프트웨어 디자인 패턴 중 하나로, 객체들 간의 복잡한 상호작용을 캡슐화하여 객체 간 결합도를 낮추는 행위 패턴이다."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Memento Pattern"><meta name=twitter:description content="Mediator 패턴은 객체 지향 소프트웨어 디자인 패턴 중 하나로, 객체들 간의 복잡한 상호작용을 캡슐화하여 객체 간 결합도를 낮추는 행위 패턴이다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Computer Science and Engineering","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Software Engineering","item":"https://buenhyden.github.io/posts/software-engineering/"},{"@type":"ListItem","position":3,"name":"Design and Architecture","item":""},{"@type":"ListItem","position":5,"name":"Software Design Patterns","item":""},{"@type":"ListItem","position":6,"name":"GoF","item":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/detailed-design/software-design-patterns/gof/"},{"@type":"ListItem","position":7,"name":"Behavioral Design Patterns","item":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/detailed-design/software-design-patterns/gof/behavioral/"},{"@type":"ListItem","position":8,"name":"Memento Pattern","item":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/detailed-design/software-design-patterns/gof/behavioral/memento-pattern/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>Computer Science and Engineering</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-engineering/>Software Engineering</a>&nbsp;»&nbsp;<a href>Design and Architecture</a>&nbsp;»&nbsp;<a href>Software Design Patterns</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/detailed-design/software-design-patterns/gof/>GoF</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/detailed-design/software-design-patterns/gof/behavioral/>Behavioral Design Patterns</a></div><h1>Memento Pattern</h1><div class=post-description>Mediator 패턴은 객체 지향 소프트웨어 디자인 패턴 중 하나로, 객체들 간의 복잡한 상호작용을 캡슐화하여 객체 간 결합도를 낮추는 행위 패턴이다.</div></header><div class=post-content><h2 id=memento-pattern>Memento Pattern<a hidden class=anchor aria-hidden=true href=#memento-pattern>#</a></h2><p>Memento Pattern 은 행위 디자인 패턴 중 하나로, 객체의 상태를 저장하고 이전 상태로 복원할 수 있게 해주는 패턴이다.</p><p>메멘토 패턴 (Memento Pattern) 은 소프트웨어 디자인 패턴 중 하나로, 객체의 상태를 저장하고 나중에 복원할 수 있는 메커니즘을 제공한다.<br>이 패턴의 주요 목적은 객체의 내부 상태를 캡슐화하면서도 외부에서 해당 상태를 저장하고 복원할 수 있게 하는 것이다.</p><p>메멘토 패턴은 객체의 상태 관리와 복원이 중요한 애플리케이션에서 매우 유용한 디자인 패턴이다.<br>이 패턴을 적절히 활용하면 코드의 유연성과 유지보수성을 크게 향상시킬 수 있다.</p><h3 id=주요-구성-요소>주요 구성 요소<a hidden class=anchor aria-hidden=true href=#주요-구성-요소>#</a></h3><p>메멘토 패턴은 세 가지 주요 구성 요소로 이루어져 있다:</p><ul><li>Originator: 상태를 저장하고 복원하려는 객체.</li><li>Memento: 상태를 저장하는 객체.</li><li>Caretaker: Memento 를 저장하고 관리하는 객체.</li></ul><h3 id=동작-방식>동작 방식<a hidden class=anchor aria-hidden=true href=#동작-방식>#</a></h3><p>Originator 객체의 상태를 Memento 에 저장하고, 이후에 복원할 수 있다.<br>Memento 객체는 Originator 객체 외부에서 직접적으로 접근할 수 없으며, Caretaker 객체를 통해서만 접근할 수 있다.<br>따라서, 상태를 안전하게 보호하면서도 필요한 경우에만 복원할 수 있다.</p><h3 id=기본적인-memento-패턴의-구조>기본적인 Memento 패턴의 구조<a hidden class=anchor aria-hidden=true href=#기본적인-memento-패턴의-구조>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14>14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15>15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16>16</a>
</span><span class=lnt id=hl-0-17><a class=lnlinks href=#hl-0-17>17</a>
</span><span class=lnt id=hl-0-18><a class=lnlinks href=#hl-0-18>18</a>
</span><span class=lnt id=hl-0-19><a class=lnlinks href=#hl-0-19>19</a>
</span><span class=lnt id=hl-0-20><a class=lnlinks href=#hl-0-20>20</a>
</span><span class=lnt id=hl-0-21><a class=lnlinks href=#hl-0-21>21</a>
</span><span class=lnt id=hl-0-22><a class=lnlinks href=#hl-0-22>22</a>
</span><span class=lnt id=hl-0-23><a class=lnlinks href=#hl-0-23>23</a>
</span><span class=lnt id=hl-0-24><a class=lnlinks href=#hl-0-24>24</a>
</span><span class=lnt id=hl-0-25><a class=lnlinks href=#hl-0-25>25</a>
</span><span class=lnt id=hl-0-26><a class=lnlinks href=#hl-0-26>26</a>
</span><span class=lnt id=hl-0-27><a class=lnlinks href=#hl-0-27>27</a>
</span><span class=lnt id=hl-0-28><a class=lnlinks href=#hl-0-28>28</a>
</span><span class=lnt id=hl-0-29><a class=lnlinks href=#hl-0-29>29</a>
</span><span class=lnt id=hl-0-30><a class=lnlinks href=#hl-0-30>30</a>
</span><span class=lnt id=hl-0-31><a class=lnlinks href=#hl-0-31>31</a>
</span><span class=lnt id=hl-0-32><a class=lnlinks href=#hl-0-32>32</a>
</span><span class=lnt id=hl-0-33><a class=lnlinks href=#hl-0-33>33</a>
</span><span class=lnt id=hl-0-34><a class=lnlinks href=#hl-0-34>34</a>
</span><span class=lnt id=hl-0-35><a class=lnlinks href=#hl-0-35>35</a>
</span><span class=lnt id=hl-0-36><a class=lnlinks href=#hl-0-36>36</a>
</span><span class=lnt id=hl-0-37><a class=lnlinks href=#hl-0-37>37</a>
</span><span class=lnt id=hl-0-38><a class=lnlinks href=#hl-0-38>38</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Memento: 상태를 저장하는 클래스</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>EditorMemento</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>content</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># 에디터의 상태를 저장</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_content</span> <span class=o>=</span> <span class=n>content</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_saved_content</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_content</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Originator: 상태를 가지고 있는 원본 객체</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>TextEditor</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_content</span> <span class=o>=</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>write</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>text</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_content</span> <span class=o>+=</span> <span class=n>text</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_content</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_content</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 현재 상태를 저장</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>EditorMemento</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>EditorMemento</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_content</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 이전 상태로 복원</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>restore</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>memento</span><span class=p>:</span> <span class=n>EditorMemento</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_content</span> <span class=o>=</span> <span class=n>memento</span><span class=o>.</span><span class=n>get_saved_content</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Caretaker: Memento 객체들을 관리</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>History</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_mementos</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>push</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>memento</span><span class=p>:</span> <span class=n>EditorMemento</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_mementos</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>memento</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>pop</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>EditorMemento</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_mementos</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p>실제 사용 예시:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11>11</a>
</span><span class=lnt id=hl-1-12><a class=lnlinks href=#hl-1-12>12</a>
</span><span class=lnt id=hl-1-13><a class=lnlinks href=#hl-1-13>13</a>
</span><span class=lnt id=hl-1-14><a class=lnlinks href=#hl-1-14>14</a>
</span><span class=lnt id=hl-1-15><a class=lnlinks href=#hl-1-15>15</a>
</span><span class=lnt id=hl-1-16><a class=lnlinks href=#hl-1-16>16</a>
</span><span class=lnt id=hl-1-17><a class=lnlinks href=#hl-1-17>17</a>
</span><span class=lnt id=hl-1-18><a class=lnlinks href=#hl-1-18>18</a>
</span><span class=lnt id=hl-1-19><a class=lnlinks href=#hl-1-19>19</a>
</span><span class=lnt id=hl-1-20><a class=lnlinks href=#hl-1-20>20</a>
</span><span class=lnt id=hl-1-21><a class=lnlinks href=#hl-1-21>21</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 텍스트 에디터에서의 실행 취소 기능 구현</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>editor_example</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>editor</span> <span class=o>=</span> <span class=n>TextEditor</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>history</span> <span class=o>=</span> <span class=n>History</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 텍스트 작성 및 상태 저장</span>
</span></span><span class=line><span class=cl>    <span class=n>editor</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s2>&#34;First sentence. &#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>history</span><span class=o>.</span><span class=n>push</span><span class=p>(</span><span class=n>editor</span><span class=o>.</span><span class=n>save</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>editor</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s2>&#34;Second sentence. &#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>history</span><span class=o>.</span><span class=n>push</span><span class=p>(</span><span class=n>editor</span><span class=o>.</span><span class=n>save</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>editor</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s2>&#34;Third sentence. &#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Current content:&#34;</span><span class=p>,</span> <span class=n>editor</span><span class=o>.</span><span class=n>get_content</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 실행 취소 (이전 상태로 복원)</span>
</span></span><span class=line><span class=cl>    <span class=n>editor</span><span class=o>.</span><span class=n>restore</span><span class=p>(</span><span class=n>history</span><span class=o>.</span><span class=n>pop</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;After first undo:&#34;</span><span class=p>,</span> <span class=n>editor</span><span class=o>.</span><span class=n>get_content</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>editor</span><span class=o>.</span><span class=n>restore</span><span class=p>(</span><span class=n>history</span><span class=o>.</span><span class=n>pop</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;After second undo:&#34;</span><span class=p>,</span> <span class=n>editor</span><span class=o>.</span><span class=n>get_content</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=장점>장점<a hidden class=anchor aria-hidden=true href=#장점>#</a></h3><ul><li>캡슐화를 위반하지 않고 객체의 state 스냅샷을 생성할 수 있다.</li><li>Caretaker 가 Originator 의 State 기록을 유지하므로 Originator 의 코드가 단순화된다.</li><li>객체 상태 저장 및 복원하는 역할을 Caretaker 에게 위임할 수 있다.</li><li>객체 상태가 바뀌어도 클라이언트 코드는 변경되지 않는다 (SOLID 의 OCP 원칙).</li></ul><h3 id=단점>단점<a hidden class=anchor aria-hidden=true href=#단점>#</a></h3><ul><li>클라이언트가 Memento 객체를 너무 많이 생성하면 메모리가 많이 사용된다.</li><li>Caretaker 는 오래된 memento 객체를 삭제할 수 있도록 Originator 의 생명 주기를 추적해야 한다. 즉 자원을 소비해야 한다.</li><li>몇몇 언어에서는 Originator 만 Memento 객체에 접근할 수 있도록 만드는 것이 어려울 수 있다.</li></ul><h3 id=사용-사례>사용 사례<a hidden class=anchor aria-hidden=true href=#사용-사례>#</a></h3><p>이 패턴은 복잡한 상태를 가진 객체에서 매우 유용하다.<br>예를 들어, 텍스트 편집기에서 사용자가 작성한 문서의 상태를 저장하고 이전 상태로 복원하는 경우, 메멘토 패턴을 사용할 수 있다. 또한, 게임에서 플레이어의 게임 상태를 저장하고 이전 상태로 복원하는 경우에도 이 패턴을 사용할 수 있다.</p><h3 id=구현-시-고려사항>구현 시 고려사항<a hidden class=anchor aria-hidden=true href=#구현-시-고려사항>#</a></h3><ul><li>메멘토 객체의 크기와 생성 빈도를 고려하여 메모리 사용을 최적화해야 한다.</li><li>Originator 의 상태 변화를 추적하고 관리하는 방법을 신중히 설계해야 한다.</li><li>복잡한 객체의 경우, 부분적인 상태 저장 및 복원 전략을 고려할 수 있다.</li><li>멀티스레드 환경에서는 동시성 문제를 고려해야 한다.</li></ul><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><hr><h3 id=1-주제의-분류-적절성>1. 주제의 분류 적절성<a hidden class=anchor aria-hidden=true href=#1-주제의-분류-적절성>#</a></h3><p>Memento Pattern(메멘토 패턴) 은 &ldquo;Computer Science and Engineering > Software Design and Architecture > Software Design Patterns > GoF > Behavioral Design Patterns&rdquo; 분류에 정확히 해당합니다. GoF(Gang of Four) 에서 정의한 대표적인 행동 (Behavioral) 패턴 중 하나로, 객체의 상태 관리와 복원에 초점을 둡니다 [1][2][4].</p><hr><h3 id=2-200-자-요약>2. 200 자 요약<a hidden class=anchor aria-hidden=true href=#2-200-자-요약>#</a></h3><p>메멘토 패턴은 객체의 내부 상태를 외부에 노출하지 않고 저장 및 복원할 수 있도록 하는 디자인 패턴입니다. 주로 Undo/Redo, 스냅샷, 버전 관리 등 상태 복원이 필요한 시스템에서 활용되며, 캡슐화 원칙을 지키면서 객체의 상태 이력을 관리할 수 있습니다 [1][2][4][7].</p><hr><h3 id=3-250-자-개요>3. 250 자 개요<a hidden class=anchor aria-hidden=true href=#3-250-자-개요>#</a></h3><p>메멘토 패턴은 객체의 내부 구현을 외부에 노출하지 않고, 특정 시점의 상태를 저장 (Memento) 하고 필요시 복원할 수 있도록 하는 행동 패턴입니다. Originator(원본 객체) 가 상태를 캡처해 Memento(메멘토) 에 저장하고, Caretaker(관리자) 가 이를 보관합니다. Undo/Redo, 트랜잭션 롤백, 버전 관리 등 다양한 분야에서 활용되며, 캡슐화와 단일 책임 원칙을 지키면서 객체의 상태 이력을 안전하게 관리할 수 있습니다 [1][2][4][12].</p><hr><h2 id=핵심-개념>핵심 개념<a hidden class=anchor aria-hidden=true href=#핵심-개념>#</a></h2><ul><li><strong>정의</strong>: 메멘토 패턴은 객체의 내부 상태를 외부에 노출하지 않고 저장 및 복원할 수 있도록 하는 행동 패턴입니다 [1][2][4].</li><li><strong>목적</strong>: 캡슐화를 위반하지 않고 객체의 상태를 저장·복원하여 Undo/Redo, 롤백 등 상태 복원이 필요한 기능을 안전하게 구현 [1][4][12].</li><li><strong>주요 기능 및 역할</strong>:<ul><li>상태 스냅샷 저장 및 복원</li><li>Undo/Redo, 버전 관리, 트랜잭션 롤백 등 지원</li></ul></li><li><strong>특징</strong>:<ul><li>캡슐화 보장</li><li>Caretaker 는 Memento 의 내부 상태를 알 수 없음</li><li>메멘토 객체는 불변 (immutable) 으로 설계하는 것이 일반적</li></ul></li><li><strong>핵심 원칙</strong>: 캡슐화 (Encapsulation), 단일 책임 원칙 (SRP), 객체의 책임 분리</li><li><strong>실무 활용</strong>: 텍스트 에디터, 게임 세이브, 데이터베이스 트랜잭션, 워크플로우 롤백 등</li></ul><hr><h2 id=주요-내용-정리>주요 내용 정리<a hidden class=anchor aria-hidden=true href=#주요-내용-정리>#</a></h2><h3 id=패턴-이름과-분류>패턴 이름과 분류<a hidden class=anchor aria-hidden=true href=#패턴-이름과-분류>#</a></h3><table><thead><tr><th>항목</th><th>내용</th></tr></thead><tbody><tr><td>패턴 이름</td><td>Memento Pattern (메멘토 패턴)</td></tr><tr><td>분류</td><td>GoF 행동 (Behavioral) 패턴</td></tr></tbody></table><hr><h3 id=의도-intent>의도 (Intent)<a hidden class=anchor aria-hidden=true href=#의도-intent>#</a></h3><p>캡슐화를 위반하지 않고 객체의 내부 상태를 외부에 저장·복원할 수 있도록 하여, 객체를 이전 상태로 되돌릴 수 있게 한다 [1][2][4].</p><hr><h3 id=다른-이름-also-known-as>다른 이름 (Also Known As)<a hidden class=anchor aria-hidden=true href=#다른-이름-also-known-as>#</a></h3><ul><li>Snapshot Pattern(스냅샷 패턴)</li><li>Token Pattern(토큰 패턴)</li></ul><hr><h3 id=동기-motivation--forces>동기 (Motivation / Forces)<a hidden class=anchor aria-hidden=true href=#동기-motivation--forces>#</a></h3><ul><li>Undo/Redo, 롤백, 버전 관리 등 상태 복원이 필요한 기능에서 객체의 내부 상태를 안전하게 저장·복원해야 할 때 [2][4][7].</li></ul><hr><h3 id=적용-가능성-applicability>적용 가능성 (Applicability)<a hidden class=anchor aria-hidden=true href=#적용-가능성-applicability>#</a></h3><ul><li>객체의 상태를 외부에 노출하지 않고 저장 및 복원해야 할 때</li><li>Undo/Redo, 트랜잭션 롤백, 버전 관리 등 상태 이력 관리가 필요한 경우</li><li>복잡한 객체의 내부 구현을 외부에 드러내지 않고 상태 복원을 지원해야 할 때 [1][2][4][12].</li></ul><hr><h3 id=구조-및-아키텍처>구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#구조-및-아키텍처>#</a></h3><h4 id=구조-다이어그램>구조 다이어그램<a hidden class=anchor aria-hidden=true href=#구조-다이어그램>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3>3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4>4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5>5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6>6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7>7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>+-------------------+         +------------------+
</span></span><span class=line><span class=cl>|   Caretaker       ||   Memento        |
</span></span><span class=line><span class=cl>+-------------------+         +------------------+
</span></span><span class=line><span class=cl>         ^                              ^
</span></span><span class=line><span class=cl>         |                              |
</span></span><span class=line><span class=cl>+-------------------+         +------------------+
</span></span><span class=line><span class=cl>|   Originator      ||   (state)        |
</span></span><span class=line><span class=cl>+-------------------+         +------------------+
</span></span></code></pre></td></tr></table></div></div><h4 id=uml-클래스-다이어그램>UML 클래스 다이어그램<a hidden class=anchor aria-hidden=true href=#uml-클래스-다이어그램>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2>2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3>3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[Originator]  [Memento]
</span></span><span class=line><span class=cl>     ^                   ^
</span></span><span class=line><span class=cl>     |                   |
</span></span><span class=line><span class=cl>[ Caretaker ]  |
</span></span></code></pre></td></tr></table></div></div><h4 id=구성-요소-및-역할>구성 요소 및 역할<a hidden class=anchor aria-hidden=true href=#구성-요소-및-역할>#</a></h4><table><thead><tr><th>구성 요소</th><th>기능 및 역할</th></tr></thead><tbody><tr><td>Originator</td><td>상태를 저장 및 복원하는 객체. Memento 를 생성하고, 필요 시 상태를 복원함 [1][2][4][12]</td></tr><tr><td>Memento</td><td>Originator 의 상태를 저장하는 객체. 상태 정보는 외부에 노출되지 않음 [1][2][4][12]</td></tr><tr><td>Caretaker</td><td>Memento 를 보관 및 관리. 내부 상태에는 접근하지 않고, 저장/복원 시 Originator 에 전달 [1][2][4][12]</td></tr></tbody></table><h4 id=필수선택-구성요소>필수/선택 구성요소<a hidden class=anchor aria-hidden=true href=#필수선택-구성요소>#</a></h4><table><thead><tr><th>구분</th><th>구성 요소</th><th>기능 및 특징</th></tr></thead><tbody><tr><td>필수</td><td>Originator</td><td>상태 저장/복원, Memento 생성 및 복원 메서드 구현</td></tr><tr><td>필수</td><td>Memento</td><td>상태 스냅샷 저장, 불변 객체로 설계 (권장)</td></tr><tr><td>필수</td><td>Caretaker</td><td>Memento 보관, 관리, 내부 상태에는 접근 불가</td></tr><tr><td>선택</td><td>History 관리</td><td>Memento 의 리스트/스택 관리 (Undo/Redo 등)</td></tr></tbody></table><hr><h3 id=주요-원리-및-작동-원리>주요 원리 및 작동 원리<a hidden class=anchor aria-hidden=true href=#주요-원리-및-작동-원리>#</a></h3><ol><li><strong>상태 저장</strong>: Caretaker 가 Originator 에 상태 저장 요청 → Originator 가 Memento 생성 및 반환 → Caretaker 가 Memento 보관</li><li><strong>상태 복원</strong>: Caretaker 가 Originator 에 상태 복원 요청 → Originator 가 Memento 를 받아 상태 복원</li></ol><h4 id=작동-원리-다이어그램>작동 원리 다이어그램<a hidden class=anchor aria-hidden=true href=#작동-원리-다이어그램>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2>2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3>3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4>4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5>5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6>6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[ Caretaker ]
</span></span><span class=line><span class=cl>     |             상태 저장 요청
</span></span><span class=line><span class=cl>     v
</span></span><span class=line><span class=cl>[ Originator ] --(상태 저장)--&gt; [ Memento ]
</span></span><span class=line><span class=cl>     ^                              |
</span></span><span class=line><span class=cl>     |             상태 복원 요청    |
</span></span><span class=line><span class=cl>     +------------------------------+
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=구현-기법>구현 기법<a hidden class=anchor aria-hidden=true href=#구현-기법>#</a></h3><ul><li><strong>캡슐화 유지</strong>: Memento 의 상태는 Originator 만 접근 가능, Caretaker 는 접근 불가 [1][2][4][12].</li><li><strong>불변 객체</strong>: Memento 는 생성 후 상태 변경 불가 (immutable) 로 설계 [13].</li><li><strong>상태 관리</strong>: Caretaker 가 Memento 객체를 리스트/스택 등으로 관리하여 Undo/Redo, 버전 관리 등 구현 [1][5][7].</li><li><strong>다형성 활용</strong>: 여러 Originator/Memento 조합 지원 가능 [1].</li></ul><h4 id=예시-코드-python>예시 코드 (Python)<a hidden class=anchor aria-hidden=true href=#예시-코드-python>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1> 1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2> 2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3> 3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4> 4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5> 5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6> 6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7> 7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8> 8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9> 9</a>
</span><span class=lnt id=hl-5-10><a class=lnlinks href=#hl-5-10>10</a>
</span><span class=lnt id=hl-5-11><a class=lnlinks href=#hl-5-11>11</a>
</span><span class=lnt id=hl-5-12><a class=lnlinks href=#hl-5-12>12</a>
</span><span class=lnt id=hl-5-13><a class=lnlinks href=#hl-5-13>13</a>
</span><span class=lnt id=hl-5-14><a class=lnlinks href=#hl-5-14>14</a>
</span><span class=lnt id=hl-5-15><a class=lnlinks href=#hl-5-15>15</a>
</span><span class=lnt id=hl-5-16><a class=lnlinks href=#hl-5-16>16</a>
</span><span class=lnt id=hl-5-17><a class=lnlinks href=#hl-5-17>17</a>
</span><span class=lnt id=hl-5-18><a class=lnlinks href=#hl-5-18>18</a>
</span><span class=lnt id=hl-5-19><a class=lnlinks href=#hl-5-19>19</a>
</span><span class=lnt id=hl-5-20><a class=lnlinks href=#hl-5-20>20</a>
</span><span class=lnt id=hl-5-21><a class=lnlinks href=#hl-5-21>21</a>
</span><span class=lnt id=hl-5-22><a class=lnlinks href=#hl-5-22>22</a>
</span><span class=lnt id=hl-5-23><a class=lnlinks href=#hl-5-23>23</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Memento</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>state</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_state</span> <span class=o>=</span> <span class=n>state</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_state</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_state</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Originator</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_state</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>set_state</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>state</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_state</span> <span class=o>=</span> <span class=n>state</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>Memento</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_state</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>restore</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>memento</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_state</span> <span class=o>=</span> <span class=n>memento</span><span class=o>.</span><span class=n>get_state</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Caretaker</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_history</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>backup</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>memento</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_history</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>memento</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>undo</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_history</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span> <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_history</span> <span class=k>else</span> <span class=kc>None</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=장점과-단점>장점과 단점<a hidden class=anchor aria-hidden=true href=#장점과-단점>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>✅ 장점</td><td>캡슐화 보장</td><td>내부 상태 노출 없이 상태 저장/복원 가능</td></tr><tr><td></td><td>Undo/Redo 지원</td><td>상태 이력 관리, 복원 기능 손쉽게 구현</td></tr><tr><td></td><td>코드 단순화</td><td>Originator 와 Caretaker 책임 분리, 관리 용이</td></tr><tr><td>⚠ 단점</td><td>메모리 사용 증가</td><td>상태가 많거나 무거우면 메모리 부담</td></tr><tr><td></td><td>관리 복잡성</td><td>Memento 수명, 삭제, 관리 필요</td></tr><tr><td></td><td>언어 한계</td><td>일부 언어에서 캡슐화 보장 어려움</td></tr></tbody></table><hr><h3 id=도전-과제-및-해결책>도전 과제 및 해결책<a hidden class=anchor aria-hidden=true href=#도전-과제-및-해결책>#</a></h3><ul><li><strong>문제</strong>: 상태가 크거나 빈번하게 저장되면 메모리 사용량 급증<br><strong>해결책</strong>: 필요 최소한의 상태만 저장, 오래된 Memento 정리, 압축 저장 등</li><li><strong>문제</strong>: Caretaker 가 Memento 삭제 시점 관리 필요<br><strong>해결책</strong>: 자동화된 GC, 만료 정책, 참조 카운팅 등 도입</li><li><strong>문제</strong>: 언어에 따라 캡슐화 보장 어려움<br><strong>해결책</strong>: 접근 제어자, 내부 클래스 등 활용</li></ul><hr><h3 id=분류에-따른-종류-및-유형>분류에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#분류에-따른-종류-및-유형>#</a></h3><table><thead><tr><th>분류 기준</th><th>종류/유형</th><th>설명</th></tr></thead><tbody><tr><td>상태 저장 방식</td><td>전체 스냅샷</td><td>전체 상태 저장 (기본)</td></tr><tr><td></td><td>차등 스냅샷</td><td>변경분만 저장 (메모리 최적화)</td></tr><tr><td>관리 방식</td><td>단일 상태</td><td>최근 상태 1 개만 저장</td></tr><tr><td></td><td>다중 상태 (이력)</td><td>여러 상태 스택/리스트로 관리 (Undo/Redo)</td></tr></tbody></table><hr><h3 id=실무-적용-예시>실무 적용 예시<a hidden class=anchor aria-hidden=true href=#실무-적용-예시>#</a></h3><table><thead><tr><th>분야</th><th>적용 예시</th><th>설명</th></tr></thead><tbody><tr><td>텍스트 에디터</td><td>Undo/Redo 기능</td><td>입력, 삭제, 변경 이력 관리</td></tr><tr><td>게임</td><td>세이브/로드, 체크포인트</td><td>게임 진행 상태 스냅샷 저장/복원</td></tr><tr><td>데이터베이스</td><td>트랜잭션 롤백</td><td>작업 실패 시 이전 상태로 복원</td></tr><tr><td>워크플로우</td><td>단계별 상태 저장</td><td>단계별로 상태 저장 및 복원</td></tr></tbody></table><hr><h3 id=활용-사례-시나리오-기반>활용 사례 (시나리오 기반)<a hidden class=anchor aria-hidden=true href=#활용-사례-시나리오-기반>#</a></h3><h4 id=상황-가정-텍스트-에디터-undoredo>상황 가정: 텍스트 에디터 Undo/Redo<a hidden class=anchor aria-hidden=true href=#상황-가정-텍스트-에디터-undoredo>#</a></h4><ul><li><strong>시스템 구성</strong>:<ul><li>Editor(Originator) → History(Caretaker) → StateSnapshot(Memento)</li></ul></li><li><strong>Workflow</strong>:<ol><li>사용자가 입력/삭제 등 편집 작업 수행</li><li>편집 전 상태를 Memento 로 저장, History 에 보관</li><li>Undo 시 이전 Memento 를 Editor 에 전달하여 상태 복원</li><li>Redo 시 이후 Memento 를 Editor 에 전달하여 상태 복원</li></ol></li><li><strong>역할</strong>: Editor 는 상태 저장/복원, History 는 이력 관리, StateSnapshot 은 상태 스냅샷 저장</li></ul><hr><h3 id=실무에서-효과적으로-적용하기-위한-고려사항-및-주의점>실무에서 효과적으로 적용하기 위한 고려사항 및 주의점<a hidden class=anchor aria-hidden=true href=#실무에서-효과적으로-적용하기-위한-고려사항-및-주의점>#</a></h3><table><thead><tr><th>항목</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>메모리 관리</td><td>상태가 많거나 크면 메모리 부담</td><td>필요 최소한의 상태만 저장, 오래된 이력 삭제</td></tr><tr><td>이력 관리</td><td>Undo/Redo 등 이력 관리 필요</td><td>스택/리스트 등 자료구조 활용, 이력 제한</td></tr><tr><td>캡슐화 보장</td><td>Memento 접근 제한 필요</td><td>내부 클래스, 접근 제어자 활용</td></tr><tr><td>상태 복원 테스트</td><td>복원 시 일관성 유지 필요</td><td>단위 테스트, 복원 검증 강화</td></tr></tbody></table><hr><h3 id=최적화하기-위한-고려사항-및-주의점>최적화하기 위한 고려사항 및 주의점<a hidden class=anchor aria-hidden=true href=#최적화하기-위한-고려사항-및-주의점>#</a></h3><table><thead><tr><th>항목</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>스냅샷 최적화</td><td>전체 상태 저장 시 오버헤드 발생</td><td>차등 저장, 압축 등 최적화 적용</td></tr><tr><td>이력 관리</td><td>이력 길이 증가 시 성능 저하 가능</td><td>이력 제한, 오래된 이력 정리</td></tr><tr><td>불필요한 복원 방지</td><td>불필요한 Undo/Redo 호출 방지</td><td>상태 변경 감지 후에만 스냅샷 저장</td></tr><tr><td>GC 연동</td><td>Memento 객체 누수 방지</td><td>GC/만료 정책 등 자원 관리 적용</td></tr></tbody></table><hr><h3 id=2025-년-기준-최신-동향>2025 년 기준 최신 동향<a hidden class=anchor aria-hidden=true href=#2025-년-기준-최신-동향>#</a></h3><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>Undo/Redo</td><td>대용량 이력 관리</td><td>대용량 이력 관리 및 압축 스냅샷 기법 활용 증가</td></tr><tr><td>클라우드/분산</td><td>분산 상태 스냅샷</td><td>분산 시스템에서의 상태 스냅샷 관리 기술 발전</td></tr><tr><td>프레임워크</td><td>Undo/Redo 라이브러리</td><td>다양한 언어/프레임워크에서 Undo/Redo 지원 강화</td></tr><tr><td>성능</td><td>차등 스냅샷/압축</td><td>메모리 절약을 위한 차등 저장, 압축 기법 확산</td></tr></tbody></table><hr><h3 id=주제와-관련하여-주목할-내용>주제와 관련하여 주목할 내용<a hidden class=anchor aria-hidden=true href=#주제와-관련하여-주목할-내용>#</a></h3><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>캡슐화</td><td>내부 상태 보호</td><td>외부에 내부 상태 노출 없이 상태 복원 지원</td></tr><tr><td>Undo/Redo</td><td>이력 관리</td><td>다양한 애플리케이션에서 Undo/Redo 표준화</td></tr><tr><td>연관 패턴</td><td>Command, Iterator</td><td>Command 와 결합해 Undo, Iterator 와 결합해 반복 상태 관리</td></tr><tr><td>차등 저장</td><td>메모리 최적화</td><td>변경분만 저장해 메모리 사용 절감</td></tr></tbody></table><hr><h3 id=앞으로의-전망>앞으로의 전망<a hidden class=anchor aria-hidden=true href=#앞으로의-전망>#</a></h3><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>대규모 시스템</td><td>분산 상태 관리</td><td>분산 환경에서의 상태 스냅샷/복원 기술 발전</td></tr><tr><td>자동화</td><td>이력 관리 자동화</td><td>이력/스냅샷 관리 자동화 도구 확산</td></tr><tr><td>성능</td><td>고성능 스냅샷</td><td>대용량 데이터의 효율적 상태 저장/복원 연구 증가</td></tr><tr><td>보안</td><td>안전한 이력 관리</td><td>민감 정보 보호, 안전한 스냅샷 관리 기법 발전</td></tr></tbody></table><hr><h3 id=하위-주제별-추가-학습-필요-내용>하위 주제별 추가 학습 필요 내용<a hidden class=anchor aria-hidden=true href=#하위-주제별-추가-학습-필요-내용>#</a></h3><table><thead><tr><th>카테고리</th><th>주제</th><th>간략 설명</th></tr></thead><tbody><tr><td>패턴 구조</td><td>내부 클래스 활용</td><td>캡슐화 강화를 위한 내부 클래스 설계법</td></tr><tr><td>이력 관리</td><td>차등 스냅샷</td><td>변경분만 저장하는 기법</td></tr><tr><td>연관 패턴</td><td>Command, Iterator</td><td>Undo/Redo, 반복 상태 관리와의 결합</td></tr><tr><td>테스트</td><td>상태 복원 검증</td><td>복원 일관성 및 신뢰성 테스트 전략</td></tr></tbody></table><hr><h3 id=추가-학습알아야-할-내용>추가 학습/알아야 할 내용<a hidden class=anchor aria-hidden=true href=#추가-학습알아야-할-내용>#</a></h3><table><thead><tr><th>카테고리</th><th>주제</th><th>간략 설명</th></tr></thead><tbody><tr><td>소프트웨어 아키텍처</td><td>분산 스냅샷</td><td>분산 시스템에서의 상태 저장/복원 전략</td></tr><tr><td>성능</td><td>압축/최적화</td><td>대용량 상태 스냅샷의 압축 및 최적화 기법</td></tr><tr><td>프레임워크</td><td>Undo/Redo 라이브러리</td><td>다양한 언어/프레임워크에서의 활용법</td></tr><tr><td>실무 도구</td><td>이력/스냅샷 관리 도구</td><td>실무 적용 가능한 이력/스냅샷 관리 도구</td></tr></tbody></table><hr><h2 id=용어-정리-1>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-1>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>Originator(원본 객체)</td><td>상태 저장/복원 기능을 가진 객체</td></tr><tr><td>Memento(메멘토)</td><td>Originator 의 상태 스냅샷을 저장하는 객체</td></tr><tr><td>Caretaker(관리자)</td><td>Memento 를 보관·관리하는 객체, 내부 상태에는 접근 불가</td></tr><tr><td>차등 스냅샷 (Differential Snapshot)</td><td>변경된 부분만 저장하는 방식</td></tr><tr><td>캡슐화 (Encapsulation)</td><td>객체의 내부 구현을 외부에 노출하지 않는 원칙</td></tr></tbody></table><hr><h2 id=참고-및-출처-1>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-1>#</a></h2><ul><li><a href=https://refactoring.guru/design-patterns/memento>Refactoring.Guru - Memento Pattern 설명</a></li><li><a href=https://en.wikipedia.org/wiki/Memento_pattern>Wikipedia - Memento Pattern</a></li><li><a href=https://www.scaler.com/topics/memento-design-pattern/>Scaler Topics - Memento Pattern 개념</a></li><li><a href=https://dev.to/sajjadali/memento-design-pattern-4b64>DEV.to - Memento Pattern 실무 활용</a></li><li><a href=https://javadesignpatterns.com/catalog/behavioral-patterns/memento-pattern/>Java Design Patterns - Memento Pattern</a></li><li><a href=https://springframework.guru/gang-of-four-design-patterns/memento-pattern/>Spring Framework Guru - 메멘토 패턴</a></li><li><a href=https://www.visual-paradigm.com/tutorials/mementodesignpattern.jsp>Visual Paradigm - Memento Pattern UML</a></li><li><a href=https://hackernoon.com/memento-design-pattern-overview-4r7p3wol>HackerNoon - Memento Pattern 개요</a></li><li><a href=https://www.linkedin.com/pulse/memento-design-pattern-karwan-essmat-gdmkc>LinkedIn - Memento Pattern 활용</a></li><li><a href=https://keichee.tistory.com/190>티스토리 - 메멘토 패턴 구조 및 원리</a></li></ul><p>**Memento Pattern (메멘토 패턴)**에 대해 실무 기반으로 심층 분석한 내용을 다음과 같이 정리하였습니다.</p><hr><h2 id=1-주제의-분류-적절성-검토>1. 주제의 분류 적절성 검토<a hidden class=anchor aria-hidden=true href=#1-주제의-분류-적절성-검토>#</a></h2><ul><li><p><strong>현재 분류</strong><br>&ldquo;Computer Science and Engineering&rdquo; > &ldquo;Software Design and Architecture&rdquo; > &ldquo;Software Design Patterns&rdquo; > &ldquo;GoF&rdquo; > &ldquo;Behavioral Design Patterns&rdquo;</p></li><li><p><strong>검토 결과</strong><br>✅ 적절합니다. Memento Pattern 은 객체의 이전 상태를 저장하여 나중에 복원할 수 있도록 하는 **행동 패턴 (Behavioral Pattern)**에 해당합니다.</p></li></ul><hr><h2 id=2-요약-설명-200-자-내외>2. 요약 설명 (200 자 내외)<a hidden class=anchor aria-hidden=true href=#2-요약-설명-200-자-내외>#</a></h2><p>메멘토 패턴은 객체의 상태를 저장하고 복원할 수 있도록 하며, 캡슐화를 유지하면서도 상태 관리 기능을 제공합니다. 실행 취소 (Undo), 버전 관리, 상태 롤백 등에서 활용되며, Caretaker-Originator-Memento 구조로 구현됩니다.</p><hr><h2 id=3-개요-설명-250-자-내외>3. 개요 설명 (250 자 내외)<a hidden class=anchor aria-hidden=true href=#3-개요-설명-250-자-내외>#</a></h2><p>Memento Pattern 은 객체의 내부 상태를 외부에 노출하지 않고도 저장 및 복원이 가능하게 해주는 디자인 패턴입니다. 상태 캡처와 복구를 지원하며, 실행 취소 (Undo), Redo, 상태 백업 등의 기능 구현에 효과적입니다. 이 패턴은 객체의 상태를 저장하는 Memento, 상태를 저장하고 복원하는 Originator, 상태를 관리하는 Caretaker 세 구성요소로 구성됩니다. 개발 실무에서는 텍스트 편집기, 게임 저장, 워크플로우 엔진 등 다양한 분야에 활용됩니다.</p><hr><h2 id=4-핵심-개념>4. 핵심 개념<a hidden class=anchor aria-hidden=true href=#4-핵심-개념>#</a></h2><table><thead><tr><th>요소</th><th>설명</th></tr></thead><tbody><tr><td><strong>Memento</strong></td><td>Originator 의 상태를 저장하는 객체. 외부에서는 수정 불가</td></tr><tr><td><strong>Originator</strong></td><td>상태를 생성하고, 필요 시 Memento 를 통해 상태를 복원</td></tr><tr><td><strong>Caretaker</strong></td><td>Memento 객체를 보관하고 복원 요청 시 전달함. 상태 내용에는 접근 불가</td></tr></tbody></table><h3 id=핵심-원칙>핵심 원칙<a hidden class=anchor aria-hidden=true href=#핵심-원칙>#</a></h3><ul><li><p>캡슐화를 유지하며 객체의 상태를 저장</p></li><li><p>상태를 복원할 수 있도록 상태 스냅샷 제공</p></li><li><p>Memento 는 불변 객체로 설계하는 것이 일반적</p></li></ul><hr><h2 id=5-주요-내용-정리>5. 주요 내용 정리<a hidden class=anchor aria-hidden=true href=#5-주요-내용-정리>#</a></h2><h3 id=목적-및-필요성>목적 및 필요성<a hidden class=anchor aria-hidden=true href=#목적-및-필요성>#</a></h3><ul><li><p>객체의 상태를 캡슐화된 방식으로 저장</p></li><li><p>Undo/Redo, 상태 롤백 기능을 단순화</p></li></ul><h3 id=주요-기능-및-역할>주요 기능 및 역할<a hidden class=anchor aria-hidden=true href=#주요-기능-및-역할>#</a></h3><ul><li><p>Memento: 상태 보존</p></li><li><p>Originator: 상태 설정 및 복원</p></li><li><p>Caretaker: 상태 관리 및 이력 저장</p></li></ul><h3 id=특징>특징<a hidden class=anchor aria-hidden=true href=#특징>#</a></h3><ul><li><p>캡슐화된 객체 설계 유지</p></li><li><p>상태 이력 저장이 가능함</p></li><li><p>복원 지점을 자유롭게 설정 가능</p></li></ul><hr><h2 id=주요-원리-및-작동-원리-다이어그램>주요 원리 및 작동 원리 다이어그램<a hidden class=anchor aria-hidden=true href=#주요-원리-및-작동-원리-다이어그램>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1>1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2>2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3>3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4>4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5>5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6>6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>+---------------+     creates     +-------------+
</span></span><span class=line><span class=cl>|  Originator   |----------------&gt;|   Memento   |
</span></span><span class=line><span class=cl>+---------------+     restores    +-------------+
</span></span><span class=line><span class=cl>        ^                               |
</span></span><span class=line><span class=cl>        |     stores/retrieves          |
</span></span><span class=line><span class=cl>        +-------------------------------+
</span></span><span class=line><span class=cl>                    Caretaker
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=구조-및-아키텍처-1>구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#구조-및-아키텍처-1>#</a></h2><table><thead><tr><th>구성요소</th><th>설명</th></tr></thead><tbody><tr><td>Originator</td><td>현재 상태를 가진 객체로, 상태 저장 및 복원을 담당</td></tr><tr><td>Memento</td><td>Originator 의 상태를 저장하는 불변 객체</td></tr><tr><td>Caretaker</td><td>상태 이력을 관리하지만 내부 구현에는 접근 불가</td></tr></tbody></table><h3 id=필수-구성-요소>필수 구성 요소<a hidden class=anchor aria-hidden=true href=#필수-구성-요소>#</a></h3><ul><li><p>Originator</p></li><li><p>Memento</p></li><li><p>Caretaker</p></li></ul><h3 id=선택-구성-요소>선택 구성 요소<a hidden class=anchor aria-hidden=true href=#선택-구성-요소>#</a></h3><ul><li>상태 이력 스택 (Undo/Redo 시스템 구현 시)</li></ul><hr><h2 id=구현-기법-1>구현 기법<a hidden class=anchor aria-hidden=true href=#구현-기법-1>#</a></h2><table><thead><tr><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>정의</td><td>상태를 캡처한 Memento 객체를 통해 Originator 가 상태 복원을 수행</td></tr><tr><td>구성</td><td>Memento 는 내부 상태만을 저장, 외부 수정 불가</td></tr><tr><td>목적</td><td>복원 가능한 상태 스냅샷 기능 구현</td></tr><tr><td>실무 예시</td><td>워드 프로세서의 실행 취소, 게임 저장, Form 편집 상태 보존</td></tr></tbody></table><hr><h2 id=장단점>장단점<a hidden class=anchor aria-hidden=true href=#장단점>#</a></h2><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>✅ 장점</td><td>캡슐화 유지</td><td>객체의 내부 상태를 외부에 노출하지 않고 저장 가능</td></tr><tr><td></td><td>Undo/Redo 구현 용이</td><td>상태 복원을 통해 사용자의 실수 복구가 가능</td></tr><tr><td></td><td>상태 스냅샷 설계</td><td>복잡한 상태 전이 없이 상태 백업/복원 기능 제공</td></tr><tr><td>⚠ 단점</td><td>메모리 부담</td><td>상태 객체가 클 경우 Memento 객체 크기 증가</td></tr><tr><td></td><td>상태 이력 관리 필요</td><td>Caretaker 에서 상태 이력 관리를 명확히 해야 함</td></tr><tr><td></td><td>구조 복잡도 증가</td><td>단순한 시스템에 도입 시 과설계 가능성 있음</td></tr></tbody></table><hr><h2 id=도전-과제>도전 과제<a hidden class=anchor aria-hidden=true href=#도전-과제>#</a></h2><table><thead><tr><th>도전 과제</th><th>설명</th><th>해결책</th></tr></thead><tbody><tr><td>상태 저장 비용 증가</td><td>대용량 객체 상태 복사 시 성능 저하</td><td>변경된 부분만 저장하는 Delta 방식 적용</td></tr><tr><td>불필요한 상태 저장</td><td>의미 없는 상태까지 저장할 가능성</td><td>상태 변경 감지 후 저장 조건 설정</td></tr><tr><td>Undo/Redo 충돌</td><td>복원된 상태가 현재 상태와 충돌 가능</td><td>Memento 설계 시 정합성 검증 포함 필요</td></tr></tbody></table><hr><h2 id=분류에-따른-종류-및-유형-1>분류에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#분류에-따른-종류-및-유형-1>#</a></h2><table><thead><tr><th>분류 기준</th><th>유형</th><th>설명</th></tr></thead><tbody><tr><td>저장 방식</td><td>Full Snapshot</td><td>전체 상태 복사 (일반적)</td></tr><tr><td></td><td>Delta Storage</td><td>변경된 차이만 저장 (메모리 절약)</td></tr><tr><td>상태 대상</td><td>단일 상태</td><td>객체 단일 속성 저장</td></tr><tr><td></td><td>복합 상태</td><td>복잡한 객체 그래프 전체 저장 가능</td></tr></tbody></table><hr><h2 id=실무-적용-예시-1>실무 적용 예시<a hidden class=anchor aria-hidden=true href=#실무-적용-예시-1>#</a></h2><table><thead><tr><th>분야</th><th>적용 사례</th><th>설명</th></tr></thead><tbody><tr><td>텍스트 편집기</td><td>실행 취소/복원 기능</td><td>편집 상태 이력 저장 및 복원</td></tr><tr><td>워크플로우 엔진</td><td>상태 롤백</td><td>오류 발생 시 이전 상태로 복귀</td></tr><tr><td>게임 저장</td><td>Checkpoint 기능</td><td>특정 시점의 캐릭터/환경 상태 저장</td></tr><tr><td>설정 관리 시스템</td><td>이전 설정 복원</td><td>사용자 설정 변경 전 상태 저장 및 복원</td></tr></tbody></table><hr><p>다음에는 <strong>활용 사례 시나리오</strong>, <strong>적용 고려사항</strong>, <strong>성능 최적화</strong>, <strong>최신 동향</strong>, <strong>향후 전망</strong>, <strong>학습 주제 분류</strong>를 이어서 정리하겠습니다. 계속 진행할까요?<br>이어서 <strong>Memento Pattern (메멘토 패턴)</strong> 에 대한 심화 내용을 정리합니다.</p><hr><h2 id=6-활용-사례-시나리오-기반>6. 활용 사례 (시나리오 기반)<a hidden class=anchor aria-hidden=true href=#6-활용-사례-시나리오-기반>#</a></h2><h3 id=-시나리오-문서-편집기에서-실행-취소-undo-기능-구현>📌 시나리오: <strong>문서 편집기에서 실행 취소 (Undo) 기능 구현</strong><a hidden class=anchor aria-hidden=true href=#-시나리오-문서-편집기에서-실행-취소-undo-기능-구현>#</a></h3><h4 id=-시스템-구성-요소>🧩 시스템 구성 요소<a hidden class=anchor aria-hidden=true href=#-시스템-구성-요소>#</a></h4><table><thead><tr><th>컴포넌트</th><th>설명</th></tr></thead><tbody><tr><td><code>Editor</code> (Originator)</td><td>현재 문서 상태 (텍스트) 를 보유, 저장 및 복원 기능 담당</td></tr><tr><td><code>EditorMemento</code> (Memento)</td><td><code>Editor</code> 의 상태를 저장하는 객체, 불변 객체로 설계</td></tr><tr><td><code>HistoryManager</code> (Caretaker)</td><td>상태 이력을 저장하는 스택, 복원 요청 시 Memento 전달</td></tr></tbody></table><h4 id=-시스템-구성-다이어그램>📊 시스템 구성 다이어그램<a hidden class=anchor aria-hidden=true href=#-시스템-구성-다이어그램>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2>2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3>3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4>4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5>5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6>6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>+-------------+        +------------------+         +----------------+
</span></span><span class=line><span class=cl>|  History    |&lt;------&gt;|   Editor         |&lt;-------&gt;| EditorMemento  |
</span></span><span class=line><span class=cl>| (Caretaker) |        | (Originator)     |         |  (Memento)     |
</span></span><span class=line><span class=cl>+-------------+        +------------------+         +----------------+
</span></span><span class=line><span class=cl>| +push(m)    |        | +createMemento() |         |  getState()    |
</span></span><span class=line><span class=cl>| +pop()      |        | +restore(m)      |         |  (read-only)   |
</span></span><span class=line><span class=cl>+-------------+        +------------------+         +----------------+
</span></span></code></pre></td></tr></table></div></div><h4 id=-워크플로우>⚙️ 워크플로우<a hidden class=anchor aria-hidden=true href=#-워크플로우>#</a></h4><ol><li><p>사용자가 문서를 수정하면 <code>Editor</code> 는 <code>EditorMemento</code> 생성</p></li><li><p><code>HistoryManager</code> 가 해당 상태를 스택에 저장</p></li><li><p>사용자가 Undo 시 <code>HistoryManager</code> 에서 마지막 상태를 꺼내 <code>Editor</code> 에 복원</p></li></ol><hr><h2 id=7-실무에서-효과적으로-적용하기-위한-고려사항>7. 실무에서 효과적으로 적용하기 위한 고려사항<a hidden class=anchor aria-hidden=true href=#7-실무에서-효과적으로-적용하기-위한-고려사항>#</a></h2><table><thead><tr><th>고려사항</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>상태 저장 전략</td><td>전체 상태를 저장할지, 일부만 저장할지 결정 필요</td><td>큰 객체는 변경된 필드만 저장 (delta 방식)</td></tr><tr><td>메멘토 수 제한</td><td>상태가 많을 경우 메모리 낭비 발생 가능</td><td>히스토리 길이 제한 또는 압축 적용</td></tr><tr><td>상태 정합성 보장</td><td>복원 시 다른 시스템과의 일관성 고려 필요</td><td>저장 시점에서 외부 상태 검증 포함</td></tr><tr><td>메멘토 접근 제어</td><td>외부에서 메멘토 내용 변경 금지</td><td>내부 클래스 또는 접근자 제한 적용 (private/protected)</td></tr></tbody></table><hr><h2 id=8-성능을-최적화하기-위한-고려사항>8. 성능을 최적화하기 위한 고려사항<a hidden class=anchor aria-hidden=true href=#8-성능을-최적화하기-위한-고려사항>#</a></h2><table><thead><tr><th>고려사항</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>메멘토 크기</td><td>객체 상태가 클수록 메모리 사용량 증가</td><td>필요한 속성만 선택적으로 저장</td></tr><tr><td>스냅샷 빈도</td><td>너무 자주 저장하면 리소스 과다 사용</td><td>변경 여부 감지 후 저장 조건 추가</td></tr><tr><td>GC 영향</td><td>저장된 메멘토가 많으면 GC 부담 증가</td><td>오래된 상태 주기적 삭제, LRU 전략 도입</td></tr><tr><td>이력 관리</td><td>무한 저장 시 성능 저하 우려</td><td>스택 깊이 제한 또는 히스토리 관리 정책 적용</td></tr></tbody></table><hr><h2 id=9-2025-년-기준-최신-동향>9. 2025 년 기준 최신 동향<a hidden class=anchor aria-hidden=true href=#9-2025-년-기준-최신-동향>#</a></h2><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>상태 기반 UI</td><td>Undo/Redo 지원 강화</td><td>React/Flutter 등 선언형 UI 에서 상태 스냅샷 기능 도입</td></tr><tr><td>저장소 추상화</td><td>상태 이력의 외부화</td><td>로컬이 아닌 Redis, DB 에 상태 저장하여 확장성 확보</td></tr><tr><td>버저닝 시스템</td><td>JSON 기반 상태 백업 증가</td><td>Git-like 스냅샷 저장을 JSON 으로 구현하는 시스템 증가</td></tr><tr><td>워크플로우</td><td>상태 전이 복원 기능 고도화</td><td>BPMN, Camunda 등에서 Memento 유사 기능 내장 제공</td></tr></tbody></table><hr><h2 id=10-앞으로의-전망>10. 앞으로의 전망<a hidden class=anchor aria-hidden=true href=#10-앞으로의-전망>#</a></h2><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>클라우드 통합</td><td>상태 저장의 중앙 집중화</td><td>상태를 외부 저장소 (S3, DynamoDB) 로 전환하여 안정성 확보</td></tr><tr><td>협업 기능 강화</td><td>버전 간 병합 알고리즘 도입</td><td>메멘토 복원 시 사용자 병합 전략 (3-way merge) 채택 증가</td></tr><tr><td>AI + 상태 예측</td><td>AI 기반 상태 추천 기능</td><td>이전 상태 기반 자동 복원 또는 예측 Undo 기능 연구 중</td></tr><tr><td>상태 기록 시각화</td><td>GUI 기반 롤백 관리 UI</td><td>사용자에게 이전 상태 선택 및 비교 기능 제공 확대</td></tr></tbody></table><hr><h2 id=11-하위-주제별-학습-분류>11. 하위 주제별 학습 분류<a hidden class=anchor aria-hidden=true href=#11-하위-주제별-학습-분류>#</a></h2><table><thead><tr><th>카테고리</th><th>주제</th><th>설명</th></tr></thead><tbody><tr><td>디자인 패턴</td><td>상태 저장 및 복원</td><td>메멘토, 커맨드, 상태 패턴 비교</td></tr><tr><td>자료 구조</td><td>스택 기반 히스토리 관리</td><td>Undo/Redo 를 위한 자료구조 구성법</td></tr><tr><td>객체 설계</td><td>캡슐화된 객체 상태</td><td>내부 상태 보존과 외부 인터페이스 분리 설계</td></tr><tr><td>직렬화</td><td>상태 저장의 영속성 처리</td><td>JSON, binary 형식으로 상태 저장 기술 이해</td></tr></tbody></table><hr><h2 id=12-확장-학습-주제-실무-연관>12. 확장 학습 주제 (실무 연관)<a hidden class=anchor aria-hidden=true href=#12-확장-학습-주제-실무-연관>#</a></h2><table><thead><tr><th>카테고리</th><th>주제</th><th>설명</th></tr></thead><tbody><tr><td>백엔드 아키텍처</td><td>상태 기반 시스템 설계</td><td>상태 롤백, 상태 마이그레이션 시나리오 설계</td></tr><tr><td>메시지 처리</td><td>이벤트 소싱 vs Memento</td><td>상태 복원 방식별 장단점 비교</td></tr><tr><td>테스트 전략</td><td>상태 스냅샷 기반 테스트</td><td>특정 상태에서 테스트 반복 실행 전략</td></tr><tr><td>데이터 관리</td><td>버전 관리 vs 메멘토</td><td>Git, DB 버저닝과 메멘토 패턴의 사용 목적 차이</td></tr></tbody></table><hr><h2 id=용어-정리-2>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-2>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>Memento</td><td>객체의 내부 상태를 캡슐화하여 저장하는 불변 객체</td></tr><tr><td>Originator</td><td>상태를 생성하고 복원하는 역할의 주체 객체</td></tr><tr><td>Caretaker</td><td>상태 이력을 관리하며 직접적으로 상태에 접근하지 않음</td></tr><tr><td>Snapshot</td><td>객체의 상태를 특정 시점에 저장한 복사본</td></tr><tr><td>Delta</td><td>상태의 전체가 아닌 변경된 부분만을 저장하는 방식</td></tr></tbody></table><hr><h2 id=참고-및-출처-2>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-2>#</a></h2><ul><li><p><a href=https://refactoring.guru/design-patterns/memento>Refactoring Guru – Memento Pattern</a></p></li><li><p><a href=https://www.geeksforgeeks.org/memento-design-pattern/>GeeksforGeeks – Memento Design Pattern</a></p></li><li><p><a href=https://www.baeldung.com/java-memento-design-pattern>Baeldung – Java Memento Pattern</a></p></li><li><p><a href=https://docs.oracle.com/javase/8/docs/platform/serialization/spec/serialTOC.html>Oracle Java Docs – Serialization</a></p></li></ul><hr><p>필요하시면 다음과 같은 자료도 추가로 제공 가능합니다:</p><ul><li><p>✅ Java, Python 기반 Memento 패턴 샘플 코드</p></li><li><p>✅ Memento vs Command 패턴 비교</p></li><li><p>✅ Undo/Redo 기능의 아키텍처 설계 예제</p></li></ul><p>좋습니다. 아래에 <strong>Memento 패턴 vs Command 패턴 비교</strong>와 <strong>Undo/Redo 기능 아키텍처 설계 예제</strong>를 정리했습니다.</p><hr><h2 id=-memento-패턴-vs-command-패턴-비교>✅ Memento 패턴 Vs Command 패턴 비교<a hidden class=anchor aria-hidden=true href=#-memento-패턴-vs-command-패턴-비교>#</a></h2><table><thead><tr><th>구분</th><th>항목</th><th>Memento 패턴</th><th>Command 패턴</th></tr></thead><tbody><tr><td>📌 핵심 목적</td><td>상태 복원</td><td>요청 실행 및 되돌리기</td><td></td></tr><tr><td>🧠 개념</td><td>객체의 상태를 캡슐화하여 복원 가능하게 함</td><td>요청 (행위) 를 객체로 캡슐화하고 실행/취소 기능 구현</td><td></td></tr><tr><td>🔁 Undo 처리</td><td>상태를 스냅샷으로 저장하고 복원</td><td>실행 전/후에 별도 undo 로직을 구현</td><td></td></tr><tr><td>⚙️ 구성요소</td><td>Originator, Memento, Caretaker</td><td>Command, ConcreteCommand, Receiver, Invoker</td><td></td></tr><tr><td>💾 저장 정보</td><td>내부 상태 (데이터)</td><td>행위 정보 (execute/undo 메서드)</td><td></td></tr><tr><td>🧩 상태 보존 방식</td><td>상태 전체 혹은 delta 저장</td><td>명령 로직을 포함한 undo 메서드 구현</td><td></td></tr><tr><td>🔒 캡슐화</td><td>상태는 외부에서 직접 접근 불가</td><td>Command 객체가 외부와 인터페이스로 연결됨</td><td></td></tr><tr><td>🛠️ 사용 예</td><td>텍스트 편집기, 게임 저장, 워크플로우 롤백</td><td>매크로, 트랜잭션 관리, 작업 큐</td><td></td></tr><tr><td>🔗 의존성</td><td>상태 중심</td><td>행동 중심 (행위 객체화)</td><td></td></tr><tr><td>📉 단점</td><td>상태 크기 커질 경우 메모리 부담</td><td>모든 명령마다 undo 구현 필요, 복잡성 증가</td><td></td></tr></tbody></table><blockquote><p>🔍 <strong>요약</strong></p><ul><li><p><strong>Memento</strong>는 " 데이터 중심 " 이며 <strong>객체의 상태</strong>를 복원합니다.</p></li><li><p><strong>Command</strong>는 " 행위 중심 " 이며 <strong>요청 자체</strong>를 캡슐화하고 실행/취소를 제어합니다.</p></li></ul></blockquote><hr><h2 id=-undoredo-기능의-아키텍처-설계-예제>✅ Undo/Redo 기능의 아키텍처 설계 예제<a hidden class=anchor aria-hidden=true href=#-undoredo-기능의-아키텍처-설계-예제>#</a></h2><h3 id=-요구-사항>🎯 요구 사항<a hidden class=anchor aria-hidden=true href=#-요구-사항>#</a></h3><ul><li><p>사용자는 여러 번의 작업을 수행할 수 있어야 하며,</p></li><li><p>이전 상태로 되돌리는 Undo 기능, 이후 상태로 되돌리는 Redo 기능을 제공해야 함</p></li><li><p>예시: 텍스트 편집기, 다이어그램 그리기 앱, 폼 에디터 등</p></li></ul><hr><h3 id=-아키텍처-구성>🧱 아키텍처 구성<a hidden class=anchor aria-hidden=true href=#-아키텍처-구성>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span><span class=lnt id=hl-8-11><a class=lnlinks href=#hl-8-11>11</a>
</span><span class=lnt id=hl-8-12><a class=lnlinks href=#hl-8-12>12</a>
</span><span class=lnt id=hl-8-13><a class=lnlinks href=#hl-8-13>13</a>
</span><span class=lnt id=hl-8-14><a class=lnlinks href=#hl-8-14>14</a>
</span><span class=lnt id=hl-8-15><a class=lnlinks href=#hl-8-15>15</a>
</span><span class=lnt id=hl-8-16><a class=lnlinks href=#hl-8-16>16</a>
</span><span class=lnt id=hl-8-17><a class=lnlinks href=#hl-8-17>17</a>
</span><span class=lnt id=hl-8-18><a class=lnlinks href=#hl-8-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>+------------------+
</span></span><span class=line><span class=cl>|     Client       |
</span></span><span class=line><span class=cl>+------------------+
</span></span><span class=line><span class=cl>        |
</span></span><span class=line><span class=cl>        v
</span></span><span class=line><span class=cl>+------------------+
</span></span><span class=line><span class=cl>|   CommandManager |  &lt;-- Invoker
</span></span><span class=line><span class=cl>+------------------+
</span></span><span class=line><span class=cl>| undoStack        |
</span></span><span class=line><span class=cl>| redoStack        |
</span></span><span class=line><span class=cl>+------------------+
</span></span><span class=line><span class=cl>   |         |
</span></span><span class=line><span class=cl>   v         v
</span></span><span class=line><span class=cl>Command    Command
</span></span><span class=line><span class=cl>(undo)     (redo)
</span></span><span class=line><span class=cl>   |           |
</span></span><span class=line><span class=cl>   v           v
</span></span><span class=line><span class=cl>Receiver &lt;---&gt; Domain Object
</span></span></code></pre></td></tr></table></div></div><h3 id=-구성-요소-설명>📦 구성 요소 설명<a hidden class=anchor aria-hidden=true href=#-구성-요소-설명>#</a></h3><table><thead><tr><th>컴포넌트</th><th>역할</th></tr></thead><tbody><tr><td><code>CommandManager</code></td><td>명령을 실행하고 undo/redo 스택 관리</td></tr><tr><td><code>Command</code></td><td>공통 인터페이스: <code>execute()</code>, <code>undo()</code></td></tr><tr><td><code>ConcreteCommand</code></td><td>각 도메인 명령 구현체 (<code>AddTextCommand</code>, <code>DeleteCommand</code> 등)</td></tr><tr><td><code>Receiver</code></td><td>명령이 실제로 수행되는 대상 객체 (<code>Editor</code>, <code>Canvas</code> 등)</td></tr><tr><td><code>undoStack</code></td><td>실행된 명령 저장 (LIFO)</td></tr><tr><td><code>redoStack</code></td><td>취소된 명령 저장, 재실행 가능</td></tr></tbody></table><hr><h3 id=-시나리오-플로우-예시>📋 시나리오 플로우 예시<a hidden class=anchor aria-hidden=true href=#-시나리오-플로우-예시>#</a></h3><ol><li><p><code>InsertTextCommand("Hello")</code> 실행</p><ul><li><code>execute()</code> 실행 후 <code>undoStack</code> 에 push</li></ul></li><li><p>사용자 <code>Undo</code> 클릭</p><ul><li><code>undoStack.pop().undo()</code> 실행 → <code>redoStack</code> 에 push</li></ul></li><li><p>사용자 <code>Redo</code> 클릭</p><ul><li><code>redoStack.pop().execute()</code> 실행 → 다시 <code>undoStack</code> 에 push</li></ul></li></ol><hr><h3 id=-확장-고려사항>🧪 확장 고려사항<a hidden class=anchor aria-hidden=true href=#-확장-고려사항>#</a></h3><table><thead><tr><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>복합 명령 (MacroCommand)</td><td>여러 Command 를 묶어서 하나의 작업으로 취소/재실행 가능</td></tr><tr><td>상태 저장 vs 행위 저장</td><td>Undo 가 상태 복원 방식이면 Memento 패턴 병행 적용 가능</td></tr><tr><td>저장 방식 선택</td><td>큰 데이터는 Delta 방식, 단순 명령은 Command 방식 사용 권장</td></tr><tr><td>UI 적용</td><td>Ctrl+Z, Ctrl+Y 등 키보드 단축키와의 연결 포함 가능</td></tr></tbody></table><hr><h2 id=-두-패턴-통합-전략-하이브리드>🔁 두 패턴 통합 전략 (하이브리드)<a hidden class=anchor aria-hidden=true href=#-두-패턴-통합-전략-하이브리드>#</a></h2><blockquote><p>복잡한 Undo/Redo 시스템에서는 Memento + Command 패턴을 함께 사용하는 것이 실무적입니다.</p></blockquote><ul><li><p><strong>Command 패턴</strong>: " 무엇을 했는가?" (행위의 추상화)</p></li><li><p><strong>Memento 패턴</strong>: " 언제 어떤 상태였는가?" (상태의 캡처)</p></li></ul><p>✅ 예:<br><code>InsertTextCommand</code> 는 실행 시 <code>Editor.createMemento()</code> 를 통해 상태 저장 → Undo 시 <code>restoreMemento()</code></p><hr><p>필요하시면 다음 항목도 추가 제공 가능합니다:</p><ul><li><p>✅ Java/Python 기반 Undo/Redo 시스템 샘플 코드</p></li><li><p>✅ Memento + Command 통합 구현 예제</p></li><li><p>✅ React/Vue 기반 상태 롤백 패턴 구조</p></li></ul><p>메모리 패턴 (Memento Pattern) 에 대해 상세히 조사하고 분석해드리겠습니다.</p><p>이제 조사한 내용을 바탕으로 메멘토 패턴에 대한 포괄적인 분석을 진행하겠습니다.</p><h2 id=메멘토-패턴-memento-pattern-종합-분석>메멘토 패턴 (Memento Pattern) 종합 분석<a hidden class=anchor aria-hidden=true href=#메멘토-패턴-memento-pattern-종합-분석>#</a></h2><h3 id=1-주제-분류-검증>1. 주제 분류 검증<a hidden class=anchor aria-hidden=true href=#1-주제-분류-검증>#</a></h3><p>제시된 주제 분류 **&ldquo;Computer Science and Engineering&rdquo; > &ldquo;Software Design and Architecture&rdquo; > &ldquo;Software Design Patterns&rdquo; > &ldquo;GoF&rdquo; > &ldquo;Behavioral Design Patterns&rdquo;**는 <strong>적절</strong>합니다. 메멘토 패턴은 Gang of Four(GoF) 에서 정의한 23 가지 디자인 패턴 중 하나로, 행동 디자인 패턴 (Behavioral Design Pattern) 범주에 속합니다.</p><h3 id=2-요약-문장-200-자-내외>2. 요약 문장 (200 자 내외)<a hidden class=anchor aria-hidden=true href=#2-요약-문장-200-자-내외>#</a></h3><p>메멘토 패턴 (Memento Pattern) 은 객체의 내부 상태를 캡슐화를 위반하지 않으면서 외부로 노출시켜 저장하고, 나중에 해당 상태로 복원할 수 있게 하는 행동 디자인 패턴입니다. 실행 취소 (Undo), 롤백 (Rollback), 체크포인트 기능을 구현할 때 주로 사용되며, Originator, Memento, Caretaker 세 가지 핵심 구성요소로 이루어집니다.</p><h3 id=3-전체-개요-250-자-내외>3. 전체 개요 (250 자 내외)<a hidden class=anchor aria-hidden=true href=#3-전체-개요-250-자-내외>#</a></h3><p>메멘토 패턴은 토큰 패턴 (Token Pattern) 이라고도 불리며, 객체의 상태를 스냅샷으로 저장하고 복원하는 기능을 제공합니다. 텍스트 에디터의 실행 취소, 게임의 세이브/로드, 데이터베이스 트랜잭션 롤백 등에 활용됩니다. 패턴은 상태를 생성하는 Originator, 상태를 저장하는 Memento, 메멘토를 관리하는 Caretaker 로 구성되어 객체 간의 캡슐화를 유지하면서 상태 관리를 효율적으로 수행합니다.</p><h3 id=4-핵심-개념-1>4. 핵심 개념<a hidden class=anchor aria-hidden=true href=#4-핵심-개념-1>#</a></h3><h4 id=기본-개념>기본 개념<a hidden class=anchor aria-hidden=true href=#기본-개념>#</a></h4><ul><li><strong>상태 캡처 (State Capture)</strong>: 객체의 내부 상태를 특정 시점에서 저장</li><li><strong>캡슐화 보존 (Encapsulation Preservation)</strong>: 객체의 내부 구조를 노출하지 않으면서 상태 관리</li><li><strong>상태 복원 (State Restoration)</strong>: 저장된 상태로 객체를 되돌리는 기능</li><li><strong>스냅샷 (Snapshot)</strong>: 특정 시점에서의 객체 상태를 나타내는 불변 객체</li></ul><h4 id=심화-개념>심화 개념<a hidden class=anchor aria-hidden=true href=#심화-개념>#</a></h4><ul><li><strong>좁은 인터페이스 vs 넓은 인터페이스</strong>: Caretaker 는 좁은 인터페이스로, Originator 는 넓은 인터페이스로 Memento 에 접근</li><li><strong>불변성 (Immutability)</strong>: Memento 객체는 생성 후 변경되지 않는 특성</li><li><strong>투명한 객체 (Opaque Object)</strong>: Caretaker 가 Memento 의 내용을 알 수 없는 특성</li></ul><hr><h2 id=part-1-핵심-이론-및-원리>Part 1: 핵심 이론 및 원리<a hidden class=anchor aria-hidden=true href=#part-1-핵심-이론-및-원리>#</a></h2><h3 id=배경>배경<a hidden class=anchor aria-hidden=true href=#배경>#</a></h3><p>메멘토 패턴은 1995 년 Gang of Four 가 &ldquo;Design Patterns: Elements of Reusable Object-Oriented Software&rdquo; 에서 소개한 23 가지 디자인 패턴 중 하나입니다. 이 패턴의 개발 배경은 다음과 같습니다:</p><ul><li><strong>캡슐화 위반 문제</strong>: 객체의 상태를 외부에서 직접 접근하여 저장하려 할 때 발생하는 캡슐화 위반 문제 해결 필요성</li><li><strong>실행 취소 기능 요구</strong>: 1990 년대 GUI 애플리케이션의 확산으로 실행 취소 (Undo) 기능에 대한 사용자 요구 증가</li><li><strong>상태 관리 복잡성</strong>: 복잡한 객체의 상태를 안전하고 효율적으로 관리하기 위한 표준화된 방법의 필요성</li></ul><h3 id=목적-및-필요성-1>목적 및 필요성<a hidden class=anchor aria-hidden=true href=#목적-및-필요성-1>#</a></h3><h4 id=주요-목적>주요 목적<a hidden class=anchor aria-hidden=true href=#주요-목적>#</a></h4><ol><li><strong>캡슐화 보존</strong>: 객체의 내부 구조를 외부에 노출하지 않으면서 상태 저장</li><li><strong>상태 복원</strong>: 객체를 이전 상태로 안전하게 되돌리는 기능 제공</li><li><strong>책임 분리</strong>: 상태 저장과 관리 책임을 명확히 분리</li></ol><h4 id=필요성>필요성<a hidden class=anchor aria-hidden=true href=#필요성>#</a></h4><ul><li><strong>사용자 경험 향상</strong>: 실행 취소 기능을 통한 사용자 편의성 증대</li><li><strong>데이터 안전성</strong>: 오류 발생 시 이전 상태로 롤백할 수 있는 안전장치</li><li><strong>디버깅 지원</strong>: 프로그램 실행 중 특정 시점의 상태 저장을 통한 디버깅 지원</li></ul><h3 id=주요-기능-및-역할-1>주요 기능 및 역할<a hidden class=anchor aria-hidden=true href=#주요-기능-및-역할-1>#</a></h3><h4 id=핵심-기능>핵심 기능<a hidden class=anchor aria-hidden=true href=#핵심-기능>#</a></h4><ol><li><strong>상태 스냅샷 생성</strong>: 특정 시점에서 객체의 상태를 캡처</li><li><strong>상태 저장 및 관리</strong>: 생성된 스냅샷을 안전하게 저장하고 관리</li><li><strong>상태 복원</strong>: 저장된 스냅샷을 사용하여 객체 상태를 복원</li><li><strong>이력 관리</strong>: 여러 상태 변화의 이력을 순차적으로 관리</li></ol><h4 id=역할-분담>역할 분담<a hidden class=anchor aria-hidden=true href=#역할-분담>#</a></h4><ul><li><strong>Originator</strong>: 자신의 상태를 Memento 로 저장하고 복원하는 역할</li><li><strong>Memento</strong>: 상태 정보를 안전하게 보관하는 역할</li><li><strong>Caretaker</strong>: Memento 객체들을 관리하고 적절한 시점에 복원을 요청하는 역할</li></ul><h3 id=특징-1>특징<a hidden class=anchor aria-hidden=true href=#특징-1>#</a></h3><h4 id=주요-특징>주요 특징<a hidden class=anchor aria-hidden=true href=#주요-특징>#</a></h4><ol><li><strong>캡슐화 유지</strong>: 객체의 내부 상태에 직접 접근하지 않음</li><li><strong>불변성</strong>: Memento 객체는 생성 후 변경되지 않음</li><li><strong>투명성</strong>: Caretaker 는 Memento 의 내용을 알 수 없음</li><li><strong>단일 객체 중심</strong>: 한 번에 하나의 객체 상태만 처리</li></ol><h4 id=고유-특성>고유 특성<a hidden class=anchor aria-hidden=true href=#고유-특성>#</a></h4><ul><li><strong>이중 인터페이스</strong>: 좁은 인터페이스 (Caretaker 용) 와 넓은 인터페이스 (Originator 용) 제공</li><li><strong>상태 독립성</strong>: Memento 는 Originator 와 독립적으로 존재 가능</li><li><strong>시간적 분리</strong>: 상태 저장과 복원이 시간적으로 분리됨</li></ul><h3 id=핵심-원칙-1>핵심 원칙<a hidden class=anchor aria-hidden=true href=#핵심-원칙-1>#</a></h3><h4 id=기본-원칙>기본 원칙<a hidden class=anchor aria-hidden=true href=#기본-원칙>#</a></h4><ol><li><strong>단일 책임 원칙 (SRP)</strong>: 각 구성 요소가 명확한 단일 책임을 가짐</li><li><strong>개방 - 폐쇄 원칙 (OCP)</strong>: 새로운 상태 관리 요구사항에 대해 확장 가능</li><li><strong>캡슐화 원칙</strong>: 객체의 내부 상태를 외부로부터 보호</li></ol><h4 id=설계-원칙>설계 원칙<a hidden class=anchor aria-hidden=true href=#설계-원칙>#</a></h4><ul><li><strong>정보 은닉</strong>: Memento 의 내용은 Originator 만 접근 가능</li><li><strong>최소 권한</strong>: 각 구성 요소는 필요한 최소한의 권한만 가짐</li><li><strong>느슨한 결합</strong>: 구성 요소 간의 의존성을 최소화</li></ul><h3 id=주요-원리-및-작동-원리-1>주요 원리 및 작동 원리<a hidden class=anchor aria-hidden=true href=#주요-원리-및-작동-원리-1>#</a></h3><h4 id=작동-메커니즘>작동 메커니즘<a hidden class=anchor aria-hidden=true href=#작동-메커니즘>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1>1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2>2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3>3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4>4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>1. 상태 저장 과정:
</span></span><span class=line><span class=cl>   Client → Caretaker → Originator.createMemento() → Memento 생성
</span></span><span class=line><span class=cl>   
</span></span><span class=line><span class=cl>2. 상태 복원 과정:
</span></span><span class=line><span class=cl>   Client → Caretaker → Originator.restore(memento) → 상태 복원
</span></span></code></pre></td></tr></table></div></div><h4 id=상호작용-다이어그램>상호작용 다이어그램<a hidden class=anchor aria-hidden=true href=#상호작용-다이어그램>#</a></h4><pre class=mermaid>sequenceDiagram
    participant C as Client
    participant CT as Caretaker
    participant O as Originator
    participant M as Memento
    
    C-&gt;&gt;CT: 상태 저장 요청
    CT-&gt;&gt;O: createMemento()
    O-&gt;&gt;M: new Memento(state)
    M--&gt;&gt;O: memento
    O--&gt;&gt;CT: memento
    CT--&gt;&gt;C: 저장 완료
    
    Note over C,M: 시간 경과 후
    
    C-&gt;&gt;CT: 상태 복원 요청
    CT-&gt;&gt;O: restore(memento)
    O-&gt;&gt;M: getState()
    M--&gt;&gt;O: state
    O--&gt;&gt;CT: 복원 완료
    CT--&gt;&gt;C: 복원 완료
</pre><hr><h2 id=part-2-구조-및-아키텍처>Part 2: 구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#part-2-구조-및-아키텍처>#</a></h2><h3 id=구조-및-아키텍처-2>구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#구조-및-아키텍처-2>#</a></h3><h4 id=필수-구성요소>필수 구성요소<a hidden class=anchor aria-hidden=true href=#필수-구성요소>#</a></h4><h5 id=1-originator-원조자>1. Originator (원조자)<a hidden class=anchor aria-hidden=true href=#1-originator-원조자>#</a></h5><ul><li><strong>기능</strong>: 자신의 상태를 저장하고 복원하는 객체</li><li><strong>역할</strong>:<ul><li>Memento 객체 생성 (<code>createMemento()</code>)</li><li>Memento 로부터 상태 복원 (<code>restore(memento)</code>)</li><li>내부 상태 관리</li></ul></li><li><strong>특징</strong>: Memento 의 모든 내용에 접근 가능한 유일한 객체</li></ul><h5 id=2-memento-메멘토>2. Memento (메멘토)<a hidden class=anchor aria-hidden=true href=#2-memento-메멘토>#</a></h5><ul><li><strong>기능</strong>: Originator 의 상태를 저장하는 불변 객체</li><li><strong>역할</strong>:<ul><li>상태 정보의 안전한 보관</li><li>Originator 에게만 상태 정보 제공</li><li>Caretaker 에게는 제한된 인터페이스만 제공</li></ul></li><li><strong>특징</strong>: 생성 후 내용 변경 불가</li></ul><h5 id=3-caretaker-관리자>3. Caretaker (관리자)<a hidden class=anchor aria-hidden=true href=#3-caretaker-관리자>#</a></h5><ul><li><strong>기능</strong>: Memento 객체들을 관리하는 객체</li><li><strong>역할</strong>:<ul><li>Memento 객체의 저장 및 관리</li><li>적절한 시점에 복원 요청</li><li>실행 취소/재실행 로직 구현</li></ul></li><li><strong>특징</strong>: Memento 의 내용을 직접 검사하거나 수정할 수 없음</li></ul><h4 id=선택-구성요소>선택 구성요소<a hidden class=anchor aria-hidden=true href=#선택-구성요소>#</a></h4><h5 id=1-client-클라이언트>1. Client (클라이언트)<a hidden class=anchor aria-hidden=true href=#1-client-클라이언트>#</a></h5><ul><li><strong>기능</strong>: 패턴의 전체 흐름을 제어하는 주체</li><li><strong>역할</strong>: Caretaker 를 통해 저장/복원 요청</li><li><strong>특징</strong>: 직접적으로 Memento 나 Originator 와 상호작용하지 않음</li></ul><h4 id=아키텍처-다이어그램>아키텍처 다이어그램<a hidden class=anchor aria-hidden=true href=#아키텍처-다이어그램>#</a></h4><pre class=mermaid>classDiagram
    class Originator {
        -state: Object
        +createMemento(): Memento
        +restore(memento: Memento): void
        +setState(state: Object): void
        +getState(): Object
    }
    
    class Memento {
        -state: Object
        +Memento(state: Object)
        &lt;&lt;friend&gt;&gt; +getState(): Object
    }
    
    class Caretaker {
        -mementos: List~Memento~
        +addMemento(memento: Memento): void
        +getMemento(index: int): Memento
        +undo(): void
        +redo(): void
    }
    
    class Client {
        +main(): void
    }
    
    Originator --&gt; Memento : creates
    Caretaker --&gt; Memento : stores
    Client --&gt; Originator : uses
    Client --&gt; Caretaker : uses
    
    note for Memento &#34;불변 객체\n좁은/넓은 인터페이스&#34;
    note for Originator &#34;Memento의 모든 내용 접근 가능&#34;
    note for Caretaker &#34;Memento 내용 접근 불가&#34;
</pre><h4 id=구성요소-간-관계>구성요소 간 관계<a hidden class=anchor aria-hidden=true href=#구성요소-간-관계>#</a></h4><h5 id=의존-관계>의존 관계<a hidden class=anchor aria-hidden=true href=#의존-관계>#</a></h5><ul><li><strong>Originator → Memento</strong>: 생성 및 복원을 위한 의존</li><li><strong>Caretaker → Memento</strong>: 저장 및 관리를 위한 의존</li><li><strong>Client → Originator, Caretaker</strong>: 사용을 위한 의존</li></ul><h5 id=통신-흐름>통신 흐름<a hidden class=anchor aria-hidden=true href=#통신-흐름>#</a></h5><ol><li><strong>저장 흐름</strong>: Client → Caretaker → Originator → Memento</li><li><strong>복원 흐름</strong>: Client → Caretaker → Originator ← Memento</li></ol><hr><h2 id=part-3-구현-및-활용>Part 3: 구현 및 활용<a hidden class=anchor aria-hidden=true href=#part-3-구현-및-활용>#</a></h2><h3 id=구현-기법-2>구현 기법<a hidden class=anchor aria-hidden=true href=#구현-기법-2>#</a></h3><h4 id=1-중첩-클래스-nested-class-기법>1. 중첩 클래스 (Nested Class) 기법<a hidden class=anchor aria-hidden=true href=#1-중첩-클래스-nested-class-기법>#</a></h4><p><strong>정의</strong>: Memento 를 Originator 의 내부 클래스로 구현하는 방법</p><p><strong>구성</strong>:</p><ul><li>Originator 클래스 내부에 private static Memento 클래스 정의</li><li>Memento 클래스는 외부에서 직접 접근 불가</li><li>Originator 만 Memento 의 내부 상태에 접근 가능</li></ul><p><strong>목적</strong>: 캡슐화를 강화하고 Memento 의 내부 상태를 완전히 숨김</p><p><strong>실제 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1> 1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2> 2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3> 3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4> 4</a>
</span><span class=lnt id=hl-12-5><a class=lnlinks href=#hl-12-5> 5</a>
</span><span class=lnt id=hl-12-6><a class=lnlinks href=#hl-12-6> 6</a>
</span><span class=lnt id=hl-12-7><a class=lnlinks href=#hl-12-7> 7</a>
</span><span class=lnt id=hl-12-8><a class=lnlinks href=#hl-12-8> 8</a>
</span><span class=lnt id=hl-12-9><a class=lnlinks href=#hl-12-9> 9</a>
</span><span class=lnt id=hl-12-10><a class=lnlinks href=#hl-12-10>10</a>
</span><span class=lnt id=hl-12-11><a class=lnlinks href=#hl-12-11>11</a>
</span><span class=lnt id=hl-12-12><a class=lnlinks href=#hl-12-12>12</a>
</span><span class=lnt id=hl-12-13><a class=lnlinks href=#hl-12-13>13</a>
</span><span class=lnt id=hl-12-14><a class=lnlinks href=#hl-12-14>14</a>
</span><span class=lnt id=hl-12-15><a class=lnlinks href=#hl-12-15>15</a>
</span><span class=lnt id=hl-12-16><a class=lnlinks href=#hl-12-16>16</a>
</span><span class=lnt id=hl-12-17><a class=lnlinks href=#hl-12-17>17</a>
</span><span class=lnt id=hl-12-18><a class=lnlinks href=#hl-12-18>18</a>
</span><span class=lnt id=hl-12-19><a class=lnlinks href=#hl-12-19>19</a>
</span><span class=lnt id=hl-12-20><a class=lnlinks href=#hl-12-20>20</a>
</span><span class=lnt id=hl-12-21><a class=lnlinks href=#hl-12-21>21</a>
</span><span class=lnt id=hl-12-22><a class=lnlinks href=#hl-12-22>22</a>
</span><span class=lnt id=hl-12-23><a class=lnlinks href=#hl-12-23>23</a>
</span><span class=lnt id=hl-12-24><a class=lnlinks href=#hl-12-24>24</a>
</span><span class=lnt id=hl-12-25><a class=lnlinks href=#hl-12-25>25</a>
</span><span class=lnt id=hl-12-26><a class=lnlinks href=#hl-12-26>26</a>
</span><span class=lnt id=hl-12-27><a class=lnlinks href=#hl-12-27>27</a>
</span><span class=lnt id=hl-12-28><a class=lnlinks href=#hl-12-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// 시나리오: 텍스트 에디터의 문서 상태 관리</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>TextEditor</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>content</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>formatting</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Memento</span><span class=w> </span><span class=nf>createMemento</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Memento</span><span class=p>(</span><span class=n>content</span><span class=p>,</span><span class=w> </span><span class=n>formatting</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>restore</span><span class=p>(</span><span class=n>Memento</span><span class=w> </span><span class=n>memento</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>content</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>memento</span><span class=p>.</span><span class=na>getContent</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>formatting</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>memento</span><span class=p>.</span><span class=na>getFormatting</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 중첩된 Memento 클래스</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>class</span> <span class=nc>Memento</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>content</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>formatting</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>private</span><span class=w> </span><span class=nf>Memento</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>content</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>formatting</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>this</span><span class=p>.</span><span class=na>content</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>content</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>this</span><span class=p>.</span><span class=na>formatting</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>formatting</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getContent</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>content</span><span class=p>;</span><span class=w> </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getFormatting</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>formatting</span><span class=p>;</span><span class=w> </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=2-직렬화-serialization-기법>2. 직렬화 (Serialization) 기법<a hidden class=anchor aria-hidden=true href=#2-직렬화-serialization-기법>#</a></h4><p><strong>정의</strong>: 객체의 상태를 바이트 스트림으로 변환하여 저장하는 방법</p><p><strong>구성</strong>:</p><ul><li>Originator 클래스는 Serializable 인터페이스 구현</li><li>Memento 는 직렬화된 바이트 배열을 저장</li><li>복원 시 역직렬화를 통해 객체 상태 복구</li></ul><p><strong>목적</strong>: 범용적인 상태 저장 메커니즘 제공</p><p><strong>실제 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1> 1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2> 2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3> 3</a>
</span><span class=lnt id=hl-13-4><a class=lnlinks href=#hl-13-4> 4</a>
</span><span class=lnt id=hl-13-5><a class=lnlinks href=#hl-13-5> 5</a>
</span><span class=lnt id=hl-13-6><a class=lnlinks href=#hl-13-6> 6</a>
</span><span class=lnt id=hl-13-7><a class=lnlinks href=#hl-13-7> 7</a>
</span><span class=lnt id=hl-13-8><a class=lnlinks href=#hl-13-8> 8</a>
</span><span class=lnt id=hl-13-9><a class=lnlinks href=#hl-13-9> 9</a>
</span><span class=lnt id=hl-13-10><a class=lnlinks href=#hl-13-10>10</a>
</span><span class=lnt id=hl-13-11><a class=lnlinks href=#hl-13-11>11</a>
</span><span class=lnt id=hl-13-12><a class=lnlinks href=#hl-13-12>12</a>
</span><span class=lnt id=hl-13-13><a class=lnlinks href=#hl-13-13>13</a>
</span><span class=lnt id=hl-13-14><a class=lnlinks href=#hl-13-14>14</a>
</span><span class=lnt id=hl-13-15><a class=lnlinks href=#hl-13-15>15</a>
</span><span class=lnt id=hl-13-16><a class=lnlinks href=#hl-13-16>16</a>
</span><span class=lnt id=hl-13-17><a class=lnlinks href=#hl-13-17>17</a>
</span><span class=lnt id=hl-13-18><a class=lnlinks href=#hl-13-18>18</a>
</span><span class=lnt id=hl-13-19><a class=lnlinks href=#hl-13-19>19</a>
</span><span class=lnt id=hl-13-20><a class=lnlinks href=#hl-13-20>20</a>
</span><span class=lnt id=hl-13-21><a class=lnlinks href=#hl-13-21>21</a>
</span><span class=lnt id=hl-13-22><a class=lnlinks href=#hl-13-22>22</a>
</span><span class=lnt id=hl-13-23><a class=lnlinks href=#hl-13-23>23</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// 시나리오: 게임 캐릭터 상태 저장</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>GameCharacter</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>Serializable</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>level</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Map</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>attributes</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>SerializedMemento</span><span class=w> </span><span class=nf>createMemento</span><span class=p>()</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>ByteArrayOutputStream</span><span class=w> </span><span class=n>baos</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ByteArrayOutputStream</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>ObjectOutputStream</span><span class=w> </span><span class=n>oos</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ObjectOutputStream</span><span class=p>(</span><span class=n>baos</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>oos</span><span class=p>.</span><span class=na>writeObject</span><span class=p>(</span><span class=k>this</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>SerializedMemento</span><span class=p>(</span><span class=n>baos</span><span class=p>.</span><span class=na>toByteArray</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>restore</span><span class=p>(</span><span class=n>SerializedMemento</span><span class=w> </span><span class=n>memento</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=p>,</span><span class=w> </span><span class=n>ClassNotFoundException</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>ByteArrayInputStream</span><span class=w> </span><span class=n>bais</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ByteArrayInputStream</span><span class=p>(</span><span class=n>memento</span><span class=p>.</span><span class=na>getData</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>ObjectInputStream</span><span class=w> </span><span class=n>ois</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ObjectInputStream</span><span class=p>(</span><span class=n>bais</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>GameCharacter</span><span class=w> </span><span class=n>saved</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>GameCharacter</span><span class=p>)</span><span class=w> </span><span class=n>ois</span><span class=p>.</span><span class=na>readObject</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>saved</span><span class=p>.</span><span class=na>name</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>level</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>saved</span><span class=p>.</span><span class=na>level</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>attributes</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>saved</span><span class=p>.</span><span class=na>attributes</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=3-패키지-가시성-package-visibility-기법>3. 패키지 가시성 (Package Visibility) 기법<a hidden class=anchor aria-hidden=true href=#3-패키지-가시성-package-visibility-기법>#</a></h4><p><strong>정의</strong>: 같은 패키지 내에서만 접근 가능한 가시성을 활용하는 방법</p><p><strong>구성</strong>:</p><ul><li>Originator 와 Memento 를 같은 패키지에 배치</li><li>Memento 의 필드를 package-private 으로 선언</li><li>외부 패키지에서는 Memento 내용에 접근 불가</li></ul><p><strong>목적</strong>: 중첩 클래스 없이 제어된 접근 제공</p><p><strong>실제 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1> 1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2> 2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3> 3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4> 4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5> 5</a>
</span><span class=lnt id=hl-14-6><a class=lnlinks href=#hl-14-6> 6</a>
</span><span class=lnt id=hl-14-7><a class=lnlinks href=#hl-14-7> 7</a>
</span><span class=lnt id=hl-14-8><a class=lnlinks href=#hl-14-8> 8</a>
</span><span class=lnt id=hl-14-9><a class=lnlinks href=#hl-14-9> 9</a>
</span><span class=lnt id=hl-14-10><a class=lnlinks href=#hl-14-10>10</a>
</span><span class=lnt id=hl-14-11><a class=lnlinks href=#hl-14-11>11</a>
</span><span class=lnt id=hl-14-12><a class=lnlinks href=#hl-14-12>12</a>
</span><span class=lnt id=hl-14-13><a class=lnlinks href=#hl-14-13>13</a>
</span><span class=lnt id=hl-14-14><a class=lnlinks href=#hl-14-14>14</a>
</span><span class=lnt id=hl-14-15><a class=lnlinks href=#hl-14-15>15</a>
</span><span class=lnt id=hl-14-16><a class=lnlinks href=#hl-14-16>16</a>
</span><span class=lnt id=hl-14-17><a class=lnlinks href=#hl-14-17>17</a>
</span><span class=lnt id=hl-14-18><a class=lnlinks href=#hl-14-18>18</a>
</span><span class=lnt id=hl-14-19><a class=lnlinks href=#hl-14-19>19</a>
</span><span class=lnt id=hl-14-20><a class=lnlinks href=#hl-14-20>20</a>
</span><span class=lnt id=hl-14-21><a class=lnlinks href=#hl-14-21>21</a>
</span><span class=lnt id=hl-14-22><a class=lnlinks href=#hl-14-22>22</a>
</span><span class=lnt id=hl-14-23><a class=lnlinks href=#hl-14-23>23</a>
</span><span class=lnt id=hl-14-24><a class=lnlinks href=#hl-14-24>24</a>
</span><span class=lnt id=hl-14-25><a class=lnlinks href=#hl-14-25>25</a>
</span><span class=lnt id=hl-14-26><a class=lnlinks href=#hl-14-26>26</a>
</span><span class=lnt id=hl-14-27><a class=lnlinks href=#hl-14-27>27</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// 시나리오: 계산기 상태 관리</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>package</span><span class=w> </span><span class=nn>calculator</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Calculator</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=n>result</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>lastOperation</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>CalculatorMemento</span><span class=w> </span><span class=nf>createMemento</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>CalculatorMemento</span><span class=p>(</span><span class=n>result</span><span class=p>,</span><span class=w> </span><span class=n>lastOperation</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>restore</span><span class=p>(</span><span class=n>CalculatorMemento</span><span class=w> </span><span class=n>memento</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>memento</span><span class=p>.</span><span class=na>result</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>lastOperation</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>memento</span><span class=p>.</span><span class=na>lastOperation</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 같은 패키지의 Memento 클래스</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>CalculatorMemento</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>final</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=n>result</span><span class=p>;</span><span class=w>           </span><span class=c1>// package-private</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>final</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>lastOperation</span><span class=p>;</span><span class=w>    </span><span class=c1>// package-private</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>CalculatorMemento</span><span class=p>(</span><span class=kt>double</span><span class=w> </span><span class=n>result</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>lastOperation</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>result</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>lastOperation</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>lastOperation</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=4-프록시-proxy-기법>4. 프록시 (Proxy) 기법<a hidden class=anchor aria-hidden=true href=#4-프록시-proxy-기법>#</a></h4><p><strong>정의</strong>: 프록시 객체를 통해 원본 객체의 상태를 저장하고 복원하는 방법</p><p><strong>구성</strong>:</p><ul><li>MementoProxy 가 원본 객체의 상태 저장/복원을 담당</li><li>프록시를 통해 접근 제어와 추가 기능 제공</li><li>복잡한 객체의 부분적 상태 저장 가능</li></ul><p><strong>목적</strong>: 유연한 상태 관리와 접근 제어</p><p><strong>실제 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1> 1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2> 2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3> 3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4> 4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5> 5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6> 6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7> 7</a>
</span><span class=lnt id=hl-15-8><a class=lnlinks href=#hl-15-8> 8</a>
</span><span class=lnt id=hl-15-9><a class=lnlinks href=#hl-15-9> 9</a>
</span><span class=lnt id=hl-15-10><a class=lnlinks href=#hl-15-10>10</a>
</span><span class=lnt id=hl-15-11><a class=lnlinks href=#hl-15-11>11</a>
</span><span class=lnt id=hl-15-12><a class=lnlinks href=#hl-15-12>12</a>
</span><span class=lnt id=hl-15-13><a class=lnlinks href=#hl-15-13>13</a>
</span><span class=lnt id=hl-15-14><a class=lnlinks href=#hl-15-14>14</a>
</span><span class=lnt id=hl-15-15><a class=lnlinks href=#hl-15-15>15</a>
</span><span class=lnt id=hl-15-16><a class=lnlinks href=#hl-15-16>16</a>
</span><span class=lnt id=hl-15-17><a class=lnlinks href=#hl-15-17>17</a>
</span><span class=lnt id=hl-15-18><a class=lnlinks href=#hl-15-18>18</a>
</span><span class=lnt id=hl-15-19><a class=lnlinks href=#hl-15-19>19</a>
</span><span class=lnt id=hl-15-20><a class=lnlinks href=#hl-15-20>20</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// 시나리오: 복잡한 그래픽 객체의 상태 관리</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>GraphicsObjectProxy</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>GraphicsObject</span><span class=w> </span><span class=n>target</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>GraphicsMemento</span><span class=w> </span><span class=nf>createMemento</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 선택적으로 일부 상태만 저장</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>GraphicsMemento</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>target</span><span class=p>.</span><span class=na>getPosition</span><span class=p>(),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>target</span><span class=p>.</span><span class=na>getColor</span><span class=p>(),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 복잡한 렌더링 정보는 제외</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>restore</span><span class=p>(</span><span class=n>GraphicsMemento</span><span class=w> </span><span class=n>memento</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>target</span><span class=p>.</span><span class=na>setPosition</span><span class=p>(</span><span class=n>memento</span><span class=p>.</span><span class=na>getPosition</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>target</span><span class=p>.</span><span class=na>setColor</span><span class=p>(</span><span class=n>memento</span><span class=p>.</span><span class=na>getColor</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 필요시 추가 복원 로직</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>target</span><span class=p>.</span><span class=na>invalidateCache</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=장점과-단점-1>장점과 단점<a hidden class=anchor aria-hidden=true href=#장점과-단점-1>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>✅ 장점</td><td>캡슐화 보존</td><td>객체의 내부 상태를 외부에 노출하지 않으면서 상태 관리</td></tr><tr><td></td><td>단순한 복원</td><td>복잡한 역연산 없이 저장된 상태로 직접 복원</td></tr><tr><td></td><td>높은 응집도</td><td>상태 관리 책임이 각 구성요소에 명확히 분리</td></tr><tr><td></td><td>안전한 실행 취소</td><td>실행 취소 기능을 안전하고 신뢰성 있게 구현</td></tr><tr><td></td><td>독립적 관리</td><td>Caretaker 가 여러 Memento 를 독립적으로 관리</td></tr><tr><td>⚠ 단점</td><td>메모리 오버헤드</td><td>많은 Memento 저장 시 메모리 사용량 증가</td></tr><tr><td></td><td>성능 비용</td><td>상태 저장과 복원 과정에서 성능 오버헤드 발생</td></tr><tr><td></td><td>구현 복잡성</td><td>중첩 클래스나 특별한 접근 제어 메커니즘 필요</td></tr><tr><td></td><td>단일 객체 제한</td><td>한 번에 하나의 객체 상태만 처리 가능</td></tr><tr><td></td><td>유지보수 비용</td><td>Originator 변경 시 Memento 도 함께 수정 필요</td></tr></tbody></table><h3 id=도전-과제-1>도전 과제<a hidden class=anchor aria-hidden=true href=#도전-과제-1>#</a></h3><h4 id=1-메모리-관리-최적화>1. 메모리 관리 최적화<a hidden class=anchor aria-hidden=true href=#1-메모리-관리-최적화>#</a></h4><p><strong>설명</strong>: 대량의 Memento 객체로 인한 메모리 부족 문제 <strong>해결책</strong>:</p><ul><li>LRU(Least Recently Used) 캐시 정책으로 오래된 Memento 제거</li><li>압축 알고리즘을 활용한 상태 데이터 압축</li><li>차등 백업 (Differential Backup) 방식 도입</li></ul><h4 id=2-대용량-객체-상태-관리>2. 대용량 객체 상태 관리<a hidden class=anchor aria-hidden=true href=#2-대용량-객체-상태-관리>#</a></h4><p><strong>설명</strong>: 복잡하고 큰 객체의 상태 저장 시 성능 저하 <strong>해결책</strong>:</p><ul><li>부분적 상태 저장 (Selective State Saving)</li><li>Copy-on-Write 기법 활용</li><li>지연 직렬화 (Lazy Serialization) 적용</li></ul><h4 id=3-동시성-제어>3. 동시성 제어<a hidden class=anchor aria-hidden=true href=#3-동시성-제어>#</a></h4><p><strong>설명</strong>: 멀티스레드 환경에서의 상태 일관성 문제 <strong>해결책</strong>:</p><ul><li>불변 Memento 객체 사용</li><li>스레드 안전한 Caretaker 구현</li><li>락 - 프리 (Lock-free) 자료구조 활용</li></ul><h4 id=4-복잡한-객체-그래프-처리>4. 복잡한 객체 그래프 처리<a hidden class=anchor aria-hidden=true href=#4-복잡한-객체-그래프-처리>#</a></h4><p><strong>설명</strong>: 상호 참조하는 객체들의 상태 저장 복잡성 <strong>해결책</strong>:</p><ul><li>객체 그래프 직렬화 라이브러리 활용</li><li>참조 무결성을 위한 ID 기반 참조 시스템</li><li>컴포지트 메멘토 패턴 적용</li></ul><hr><h2 id=part-4-실무-적용-및-최신-동향>Part 4: 실무 적용 및 최신 동향<a hidden class=anchor aria-hidden=true href=#part-4-실무-적용-및-최신-동향>#</a></h2><h3 id=분류에-따른-종류-및-유형-2>분류에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#분류에-따른-종류-및-유형-2>#</a></h3><table><thead><tr><th>분류 기준</th><th>유형</th><th>설명</th><th>특징</th></tr></thead><tbody><tr><td><strong>저장 방식</strong></td><td>완전 스냅샷</td><td>객체의 전체 상태를 저장</td><td>간단하지만 메모리 사용량 많음</td></tr><tr><td></td><td>차등 스냅샷</td><td>이전 상태와의 차이점만 저장</td><td>메모리 효율적이지만 복원 복잡</td></tr><tr><td></td><td>압축 스냅샷</td><td>압축된 형태로 상태 저장</td><td>저장 공간 절약, CPU 사용량 증가</td></tr><tr><td><strong>구현 방법</strong></td><td>중첩 클래스 방식</td><td>Memento 를 내부 클래스로 구현</td><td>강한 캡슐화, 언어 종속적</td></tr><tr><td></td><td>직렬화 방식</td><td>객체 직렬화로 상태 저장</td><td>범용적, 성능 오버헤드</td></tr><tr><td></td><td>복사 방식</td><td>깊은 복사로 상태 저장</td><td>단순하지만 복사 비용 높음</td></tr><tr><td><strong>관리 정책</strong></td><td>LIFO 스택 방식</td><td>스택으로 Memento 관리</td><td>실행 취소에 적합</td></tr><tr><td></td><td>링크드 리스트 방식</td><td>연결 리스트로 관리</td><td>임의 접근 가능</td></tr><tr><td></td><td>순환 버퍼 방식</td><td>고정 크기 버퍼로 관리</td><td>메모리 사용량 제한</td></tr><tr><td><strong>적용 범위</strong></td><td>단일 객체형</td><td>하나의 객체만 처리</td><td>전통적인 Memento 패턴</td></tr><tr><td></td><td>복합 객체형</td><td>여러 객체를 동시 처리</td><td>트랜잭션 시스템에 적용</td></tr><tr><td></td><td>계층적 객체형</td><td>객체 계층 구조 전체 처리</td><td>복잡한 도메인 모델에 적용</td></tr></tbody></table><h3 id=실무-적용-예시-2>실무 적용 예시<a hidden class=anchor aria-hidden=true href=#실무-적용-예시-2>#</a></h3><table><thead><tr><th>분야</th><th>애플리케이션</th><th>적용 사례</th><th>구현 방식</th></tr></thead><tbody><tr><td><strong>텍스트 편집</strong></td><td>Microsoft Word</td><td>문서 편집 실행 취소</td><td>차등 스냅샷 + 압축</td></tr><tr><td><strong>IDE</strong></td><td>IntelliJ IDEA</td><td>코드 리팩토링 되돌리기</td><td>파일 단위 메멘토</td></tr><tr><td><strong>게임</strong></td><td>RPG 게임</td><td>세이브/로드 시스템</td><td>직렬화 기반 저장</td></tr><tr><td><strong>그래픽 편집</strong></td><td>Adobe Photoshop</td><td>레이어 상태 관리</td><td>타일 기반 부분 저장</td></tr><tr><td><strong>데이터베이스</strong></td><td>RDBMS</td><td>트랜잭션 롤백</td><td>로그 기반 메멘토</td></tr><tr><td><strong>웹 브라우저</strong></td><td>Chrome/Firefox</td><td>뒤로 가기 기능</td><td>페이지 상태 캐싱</td></tr><tr><td><strong>CAD 소프트웨어</strong></td><td>AutoCAD</td><td>설계 변경 이력 관리</td><td>벡터 기반 차등 저장</td></tr><tr><td><strong>금융 시스템</strong></td><td>거래 시스템</td><td>주문 취소 및 복구</td><td>이벤트 소싱 패턴</td></tr></tbody></table><h3 id=활용-사례>활용 사례<a hidden class=anchor aria-hidden=true href=#활용-사례>#</a></h3><h4 id=시나리오-협업-문서-편집-시스템>시나리오: 협업 문서 편집 시스템<a hidden class=anchor aria-hidden=true href=#시나리오-협업-문서-편집-시스템>#</a></h4><h5 id=시스템-구성>시스템 구성<a hidden class=anchor aria-hidden=true href=#시스템-구성>#</a></h5><ul><li><strong>Frontend</strong>: React 기반 웹 에디터</li><li><strong>Backend</strong>: Node.js + Express</li><li><strong>Database</strong>: MongoDB (문서 저장) + Redis (메멘토 캐싱)</li><li><strong>Real-time</strong>: Socket.io (실시간 동기화)</li></ul><h5 id=시스템-구성-다이어그램>시스템 구성 다이어그램<a hidden class=anchor aria-hidden=true href=#시스템-구성-다이어그램>#</a></h5><pre class=mermaid>graph TB
    subgraph &#34;Client Layer&#34;
        UI[Web Editor UI]
        CM[Client Memento Manager]
    end
    
    subgraph &#34;Application Layer&#34;
        API[REST API Gateway]
        WS[WebSocket Server]
        MM[Memento Manager Service]
    end
    
    subgraph &#34;Storage Layer&#34;
        RC[Redis Cache]
        DB[(MongoDB)]
        FS[File Storage]
    end
    
    UI --&gt; CM
    CM --&gt; API
    API --&gt; MM
    MM --&gt; RC
    MM --&gt; DB
    WS --&gt; UI
    
    classDef client fill:#e1f5fe
    classDef app fill:#f3e5f5
    classDef storage fill:#e8f5e8
    
    class UI,CM client
    class API,WS,MM app
    class RC,DB,FS storage
</pre><h5 id=활용-사례-workflow>활용 사례 Workflow<a hidden class=anchor aria-hidden=true href=#활용-사례-workflow>#</a></h5><pre class=mermaid>sequenceDiagram
    participant U as User
    participant E as Editor
    participant MM as MementoManager
    participant C as Cache
    participant DB as Database
    
    U-&gt;&gt;E: 문서 편집 시작
    E-&gt;&gt;MM: createCheckpoint()
    MM-&gt;&gt;C: 현재 상태 저장
    
    Note over U,DB: 편집 작업 수행
    U-&gt;&gt;E: 텍스트 입력/수정
    E-&gt;&gt;MM: autoSave() 호출
    MM-&gt;&gt;C: 자동 저장
    MM-&gt;&gt;DB: 주기적 영구 저장
    
    Note over U,DB: 실행 취소 요청
    U-&gt;&gt;E: Ctrl+Z (Undo)
    E-&gt;&gt;MM: undo()
    MM-&gt;&gt;C: 이전 Memento 조회
    C--&gt;&gt;MM: Memento 반환
    MM--&gt;&gt;E: 이전 상태 복원 
    E--&gt;&gt;U: 문서 상태 업데이트
    Note over U,DB: 협업자 변경사항 동기화 
    E-&gt;&gt;MM: mergeChanges() 
    MM-&gt;&gt;C: 충돌 해결 후 저장 
    MM-&gt;&gt;DB: 최종 상태 영구 저장
</pre><h5 id=메멘토-패턴의-역할>메멘토 패턴의 역할<a hidden class=anchor aria-hidden=true href=#메멘토-패턴의-역할>#</a></h5><ol><li><strong>문서 상태 관리</strong>: 각 편집 단계별로 문서 상태를 Memento 로 저장</li><li><strong>실시간 협업 지원</strong>: 여러 사용자의 변경사항을 독립적인 Memento 로 관리</li><li><strong>충돌 해결</strong>: 동시 편집 시 각 사용자의 상태를 별도 Memento 로 보관하여 병합</li><li><strong>자동 저장</strong>: 주기적으로 Memento 생성하여 데이터 손실 방지</li></ol><h3 id=실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>구분</th><th>고려사항</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td><strong>설계</strong></td><td>상태 범위 정의</td><td>저장할 상태의 범위를 명확히 정의</td><td>핵심 상태만 선별하여 저장, 파생 가능한 데이터는 제외</td></tr><tr><td><strong>성능</strong></td><td>메모리 사용량 관리</td><td>Memento 누적으로 인한 메모리 부족</td><td>LRU 캐시 정책 적용, 최대 보관 개수 제한 설정</td></tr><tr><td><strong>동시성</strong></td><td>스레드 안전성 확보</td><td>멀티스레드 환경에서의 상태 일관성</td><td>불변 Memento 사용, ConcurrentHashMap 활용</td></tr><tr><td><strong>확장성</strong></td><td>상태 진화 대응</td><td>시간에 따른 객체 구조 변화</td><td>버전 관리 메커니즘 도입, 하위 호환성 보장</td></tr><tr><td><strong>복구</strong></td><td>손상된 Memento 처리</td><td>저장된 상태 정보의 무결성</td><td>체크섬 검증, 다중 백업 전략 적용</td></tr><tr><td><strong>보안</strong></td><td>민감 정보 보호</td><td>상태 저장 시 보안 고려</td><td>민감 데이터 암호화, 접근 권한 제어</td></tr><tr><td><strong>테스트</strong></td><td>상태 복원 검증</td><td>복원된 상태의 정확성 확인</td><td>자동화된 상태 비교 테스트, 무결성 검사</td></tr><tr><td><strong>모니터링</strong></td><td>성능 메트릭 수집</td><td>패턴 사용에 따른 성능 영향</td><td>메모리 사용량, 복원 시간 모니터링</td></tr></tbody></table><h3 id=최적화하기-위한-고려사항-및-주의할-점>최적화하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#최적화하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>구분</th><th>최적화 방안</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td><strong>메모리</strong></td><td>압축 알고리즘 적용</td><td>상태 데이터를 압축하여 저장 공간 절약</td><td>GZIP, LZ4 등 빠른 압축 알고리즘 사용</td></tr><tr><td><strong>I/O</strong></td><td>지연 로딩 구현</td><td>필요할 때만 Memento 내용을 메모리에 로드</td><td>Lazy Loading 패턴과 결합, 프록시 객체 활용</td></tr><tr><td><strong>직렬화</strong></td><td>효율적 직렬화 방식</td><td>빠른 직렬화/역직렬화 라이브러리 사용</td><td>Kryo, FlatBuffers, Protocol Buffers 활용</td></tr><tr><td><strong>캐싱</strong></td><td>다층 캐싱 전략</td><td>자주 사용되는 Memento 는 빠른 캐시에 보관</td><td>L1(메모리) + L2(SSD) + L3(HDD) 계층 구조</td></tr><tr><td><strong>배치 처리</strong></td><td>일괄 저장 방식</td><td>여러 Memento 를 한 번에 처리</td><td>배치 크기 최적화, 비동기 처리 도입</td></tr><tr><td><strong>가비지 컬렉션</strong></td><td>메모리 풀 사용</td><td>객체 생성/소멸 비용 최소화</td><td>객체 풀 패턴 적용, 재사용 가능한 Memento 객체</td></tr><tr><td><strong>네트워크</strong></td><td>차등 동기화</td><td>변경된 부분만 네트워크로 전송</td><td>Delta Sync, Binary Diff 알고리즘 활용</td></tr><tr><td><strong>인덱싱</strong></td><td>빠른 검색 지원</td><td>Memento 조회 속도 향상</td><td>해시 인덱스, B-Tree 인덱스 구조 활용</td></tr></tbody></table><h3 id=기타-사항>기타 사항<a hidden class=anchor aria-hidden=true href=#기타-사항>#</a></h3><h4 id=관련-패턴과의-조합>관련 패턴과의 조합<a hidden class=anchor aria-hidden=true href=#관련-패턴과의-조합>#</a></h4><h5 id=command-패턴과의-결합>Command 패턴과의 결합<a hidden class=anchor aria-hidden=true href=#command-패턴과의-결합>#</a></h5><ul><li><strong>용도</strong>: 실행 취소 가능한 명령 시스템 구축</li><li><strong>구현</strong>: Command 객체가 실행 전 Memento 저장, 실행 취소 시 복원</li><li><strong>장점</strong>: 복잡한 역연산 없이 안전한 실행 취소 구현</li></ul><h5 id=observer-패턴과의-결합>Observer 패턴과의 결합<a hidden class=anchor aria-hidden=true href=#observer-패턴과의-결합>#</a></h5><ul><li><strong>용도</strong>: 상태 변경 시 자동 Memento 생성</li><li><strong>구현</strong>: 상태 변경 이벤트 감지 시 자동으로 스냅샷 생성</li><li><strong>장점</strong>: 개발자가 명시적으로 저장 코드를 작성할 필요 없음</li></ul><h5 id=prototype-패턴과의-비교>Prototype 패턴과의 비교<a hidden class=anchor aria-hidden=true href=#prototype-패턴과의-비교>#</a></h5><ul><li><strong>차이점</strong>: Prototype 은 객체 생성에 초점, Memento 는 상태 복원에 초점</li><li><strong>선택 기준</strong>: 객체가 단순하고 외부 참조가 적으면 Prototype 고려</li><li><strong>조합 사용</strong>: Prototype 으로 빠른 복사, Memento 로 상태 관리</li></ul><h4 id=현대적-구현-고려사항>현대적 구현 고려사항<a hidden class=anchor aria-hidden=true href=#현대적-구현-고려사항>#</a></h4><h5 id=함수형-프로그래밍과의-조화>함수형 프로그래밍과의 조화<a hidden class=anchor aria-hidden=true href=#함수형-프로그래밍과의-조화>#</a></h5><ul><li><strong>불변 객체 활용</strong>: 함수형 언어의 불변성과 Memento 의 불변성이 자연스럽게 조화</li><li><strong>영속 자료구조</strong>: Clojure, Scala 등에서 구조적 공유를 통한 효율적 상태 관리</li><li><strong>예시</strong>: Redux 의 상태 관리가 Memento 패턴과 유사한 개념</li></ul><h5 id=마이크로서비스-아키텍처에서의-적용>마이크로서비스 아키텍처에서의 적용<a hidden class=anchor aria-hidden=true href=#마이크로서비스-아키텍처에서의-적용>#</a></h5><ul><li><strong>이벤트 소싱</strong>: 각 이벤트를 Memento 로 취급하여 시스템 상태 재구성</li><li><strong>CQRS 와 결합</strong>: Command 와 Query 분리하여 상태 스냅샷 최적화</li><li><strong>분산 저장</strong>: 여러 서비스에 걸친 상태를 분산 Memento 로 관리</li></ul><hr><h3 id=2025-년-기준-최신-동향-1>2025 년 기준 최신 동향<a hidden class=anchor aria-hidden=true href=#2025-년-기준-최신-동향-1>#</a></h3><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>클라우드 네이티브</strong></td><td>서버리스 Memento</td><td>AWS Lambda, Azure Functions 에서 상태 관리 최적화</td></tr><tr><td><strong>AI/ML 통합</strong></td><td>지능형 압축</td><td>AI 기반 상태 압축으로 저장 공간 90% 절약</td></tr><tr><td><strong>실시간 협업</strong></td><td>CRDT 통합</td><td>Conflict-free Replicated Data Type 과 결합한 분산 Memento</td></tr><tr><td><strong>성능 최적화</strong></td><td>WASM 활용</td><td>WebAssembly 로 브라우저에서 고성능 상태 처리</td></tr><tr><td><strong>보안 강화</strong></td><td>동형 암호화</td><td>암호화된 상태에서도 연산 가능한 Memento 구현</td></tr></tbody></table><h3 id=주제와-관련하여-주목할-내용-1>주제와 관련하여 주목할 내용<a hidden class=anchor aria-hidden=true href=#주제와-관련하여-주목할-내용-1>#</a></h3><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>양자 컴퓨팅</strong></td><td>양자 상태 저장</td><td>양자 중첩 상태를 고전적 Memento 로 근사 저장</td></tr><tr><td><strong>블록체인</strong></td><td>불변 이력 관리</td><td>블록체인의 불변성을 활용한 Memento 저장</td></tr><tr><td><strong>엣지 컴퓨팅</strong></td><td>분산 캐싱</td><td>CDN 엣지에서 Memento 캐싱으로 응답 속도 향상</td></tr><tr><td><strong>그린 IT</strong></td><td>에너지 효율</td><td>저전력 메모리를 활용한 친환경 상태 저장</td></tr><tr><td><strong>개인정보보호</strong></td><td>차등 프라이버시</td><td>개인정보를 포함한 상태 저장 시 프라이버시 보장</td></tr></tbody></table><h3 id=앞으로의-전망-1>앞으로의 전망<a hidden class=anchor aria-hidden=true href=#앞으로의-전망-1>#</a></h3><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>자동화</strong></td><td>AI 기반 최적화</td><td>머신러닝으로 최적의 Memento 저장 시점 예측</td></tr><tr><td><strong>표준화</strong></td><td>패턴 표준 API</td><td>언어별 표준 Memento API 제정 추진</td></tr><tr><td><strong>확장성</strong></td><td>무한 확장형</td><td>클라우드 스토리지와 결합한 무제한 상태 저장</td></tr><tr><td><strong>융합 기술</strong></td><td>디지털 트윈**</td><td>IoT 와 결합하여 물리 세계 상태의 디지털 Memento</td></tr><tr><td><strong>새로운 패러다임</strong></td><td>시공간 Memento</td><td>4 차원 (시간 포함) 상태 관리 시스템</td></tr></tbody></table><h3 id=하위-주제로-분류한-추가-학습-내용>하위 주제로 분류한 추가 학습 내용<a hidden class=anchor aria-hidden=true href=#하위-주제로-분류한-추가-학습-내용>#</a></h3><table><thead><tr><th>카테고리</th><th>주제</th><th>설명</th></tr></thead><tbody><tr><td><strong>고급 구현</strong></td><td>Persistent Data Structures</td><td>함수형 프로그래밍의 영속 자료구조 활용</td></tr><tr><td><strong>성능 최적화</strong></td><td>Copy-on-Write 메커니즘</td><td>지연 복사를 통한 메모리 효율성</td></tr><tr><td><strong>분산 시스템</strong></td><td>Vector Clocks</td><td>분산 환경에서의 인과관계 기반 상태 순서</td></tr><tr><td><strong>데이터베이스</strong></td><td>MVCC (Multi-Version Concurrency Control)</td><td>데이터베이스의 다중 버전 동시성 제어</td></tr><tr><td><strong>웹 기술</strong></td><td>Browser History API</td><td>웹 브라우저의 상태 관리 메커니즘</td></tr></tbody></table><h3 id=관련-분야와-함께-알아야-할-내용>관련 분야와 함께 알아야 할 내용<a hidden class=anchor aria-hidden=true href=#관련-분야와-함께-알아야-할-내용>#</a></h3><table><thead><tr><th>관련 분야</th><th>주제</th><th>설명</th></tr></thead><tbody><tr><td><strong>운영체제</strong></td><td>Process Checkpoint/Restore</td><td>프로세스 상태 저장 및 복원 기술</td></tr><tr><td><strong>데이터베이스</strong></td><td>Transaction Log</td><td>트랜잭션 로그를 통한 상태 복구</td></tr><tr><td><strong>게임 개발</strong></td><td>Save Game Systems</td><td>게임 상태 저장 시스템 설계</td></tr><tr><td><strong>분산 컴퓨팅</strong></td><td>Consensus Algorithms</td><td>분산 시스템에서의 상태 합의 알고리즘</td></tr><tr><td><strong>버전 관리</strong></td><td>Git Internals</td><td>Git 의 스냅샷 기반 버전 관리 시스템</td></tr><tr><td><strong>컴파일러</strong></td><td>Static Single Assignment</td><td>컴파일러의 중간 표현에서 상태 관리</td></tr></tbody></table><hr><h3 id=용어-정리-3>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-3>#</a></h3><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td><strong>토큰 패턴 (Token Pattern)</strong></td><td>메멘토 패턴의 다른 이름으로, 상태를 토큰 형태로 저장한다는 의미</td></tr><tr><td><strong>투명한 객체 (Opaque Object)</strong></td><td>내부 구조를 알 수 없고 수정할 수 없는 객체</td></tr><tr><td><strong>좁은 인터페이스 (Narrow Interface)</strong></td><td>Caretaker 가 접근할 수 있는 제한된 메서드 집합</td></tr><tr><td><strong>넓은 인터페이스 (Wide Interface)</strong></td><td>Originator 가 접근할 수 있는 모든 메서드 집합</td></tr><tr><td><strong>차등 백업 (Differential Backup)</strong></td><td>이전 상태와의 차이점만 저장하는 백업 방식</td></tr><tr><td><strong>구조적 공유 (Structural Sharing)</strong></td><td>변경되지 않은 부분을 여러 버전에서 공유하는 기법</td></tr><tr><td><strong>이벤트 소싱 (Event Sourcing)</strong></td><td>상태 변경을 이벤트로 저장하여 현재 상태를 재구성하는 패턴</td></tr><tr><td><strong>CRDT (Conflict-free Replicated Data Type)</strong></td><td>분산 환경에서 충돌 없이 복제 가능한 데이터 타입</td></tr></tbody></table><hr><h3 id=참고-및-출처-3>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-3>#</a></h3><ul><li><a href=https://refactoring.guru/design-patterns/memento>Design Patterns: Elements of Reusable Object-Oriented Software - Gang of Four</a></li><li><a href=https://www.geeksforgeeks.org/memento-design-pattern/>Memento Design Pattern - GeeksforGeeks</a></li><li><a href=https://www.baeldung.com/java-memento-design-pattern>Memento Design Pattern in Java - Baeldung</a></li><li><a href=https://en.wikipedia.org/wiki/Memento_pattern>Memento Pattern - Wikipedia</a></li><li><a href=https://incusdata.com/blog/design-patterns-memento-pattern>Your Guide to Design Patterns - Memento Pattern - Incus Data</a></li><li><a href=https://howtodoinjava.com/design-patterns/behavioral/memento-design-pattern/>Memento Design Pattern - HowToDoInJava</a></li><li><a href=https://circle.visual-paradigm.com/memento/>GoF Design Pattern Template: Memento - Visual Paradigm</a></li></ul></div></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>