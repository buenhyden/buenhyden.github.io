<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Event-driven APIs | hyunyoun's Blog</title><meta name=keywords content="Backend-Development,API-Design-and-Implementation,Real-time-APIs,Types,Event-driven-APIs"><meta name=description content="이벤트 기반 API(Event-Driven API)는 시스템 내에서 발생하는 상태 변화나 중요 사건을 이벤트로 정의하고, 이러한 이벤트를 중심으로 설계된 API 아키텍처이다"><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/integration/api-integration/event-driven-apis/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/software-engineering/design-and-architecture/integration/api-integration/event-driven-apis/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/software-engineering/design-and-architecture/integration/api-integration/event-driven-apis/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Event-driven APIs"><meta property="og:description" content="이벤트 기반 API(Event-Driven API)는 시스템 내에서 발생하는 상태 변화나 중요 사건을 이벤트로 정의하고, 이러한 이벤트를 중심으로 설계된 API 아키텍처이다"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-02-28T03:40:00+00:00"><meta property="article:modified_time" content="2025-02-28T03:40:00+00:00"><meta property="article:tag" content="Backend-Development"><meta property="article:tag" content="API-Design-and-Implementation"><meta property="article:tag" content="Real-Time-APIs"><meta property="article:tag" content="Types"><meta property="article:tag" content="Event-Driven-APIs"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Event-driven APIs"><meta name=twitter:description content="이벤트 기반 API(Event-Driven API)는 시스템 내에서 발생하는 상태 변화나 중요 사건을 이벤트로 정의하고, 이러한 이벤트를 중심으로 설계된 API 아키텍처이다"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Event-driven APIs","item":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/integration/api-integration/event-driven-apis/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Event-driven APIs","name":"Event-driven APIs","description":"이벤트 기반 API(Event-Driven API)는 시스템 내에서 발생하는 상태 변화나 중요 사건을 이벤트로 정의하고, 이러한 이벤트를 중심으로 설계된 API 아키텍처이다","keywords":["Backend-Development","API-Design-and-Implementation","Real-time-APIs","Types","Event-driven-APIs"],"articleBody":"Event-driven APIs 이벤트 기반 API(Event-Driven API)는 시스템 내에서 발생하는 상태 변화나 중요 사건을 이벤트로 정의하고, 이러한 이벤트를 중심으로 설계된 API 아키텍처이다. 전통적인 요청-응답(Request-Response) 방식과 달리, 이벤트 기반 API에서는 클라이언트가 특정 이벤트에 관심을 표현하고 구독하면, 해당 이벤트가 발생할 때마다 서버가 클라이언트에게 알림을 보낸다.\n이벤트 기반 API의 핵심 원리는 느슨한 결합(loose coupling)과 비동기 통신(asynchronous communication)에 있다. 이벤트 발행자(producer)와 소비자(consumer) 사이에는 직접적인 의존성이 없으며, 이벤트 브로커나 메시지 버스를 통해 간접적으로 통신한다. 이러한 특성은 시스템 구성 요소 간의 독립성을 높이고, 확장성과 유연성을 크게 향상시킨다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 // 이벤트 기반 API의 기본 개념을 보여주는 예시 코드 (Node.js) const EventEmitter = require('events'); // 이벤트 브로커 역할을 하는 이벤트 이미터 인스턴스 생성 const orderEventBroker = new EventEmitter(); // 이벤트 소비자(구독자) 설정 - 주문 생성 이벤트 리스너 orderEventBroker.on('orderCreated', (orderData) =\u003e { console.log('새 주문이 생성되었습니다:', orderData); // 주문 처리 로직 processOrder(orderData); }); // 이벤트 소비자(구독자) 설정 - 주문 취소 이벤트 리스너 orderEventBroker.on('orderCancelled', (orderId) =\u003e { console.log('주문이 취소되었습니다. 주문 ID:', orderId); // 주문 취소 처리 로직 handleOrderCancellation(orderId); }); // 이벤트 발행자 - 주문 생성 이벤트 발행 function createOrder(orderDetails) { // 주문 데이터 생성 및 저장 const orderData = { id: generateOrderId(), items: orderDetails.items, customer: orderDetails.customer, timestamp: new Date(), status: 'created' }; saveOrderToDatabase(orderData); // 이벤트 발행 orderEventBroker.emit('orderCreated', orderData); return orderData.id; } // 이벤트 발행자 - 주문 취소 이벤트 발행 function cancelOrder(orderId) { // 주문 상태 업데이트 updateOrderStatus(orderId, 'cancelled'); // 이벤트 발행 orderEventBroker.emit('orderCancelled', orderId); } // 보조 함수들 function processOrder(orderData) { // 주문 처리 로직 } function handleOrderCancellation(orderId) { // 주문 취소 처리 로직 } function generateOrderId() { // 주문 ID 생성 로직 return 'ORD-' + Math.floor(Math.random() * 10000); } function saveOrderToDatabase(orderData) { // 데이터베이스 저장 로직 console.log('주문이 데이터베이스에 저장되었습니다.'); } function updateOrderStatus(orderId, status) { // 주문 상태 업데이트 로직 console.log(`주문 ${orderId}의 상태가 '${status}'로 업데이트되었습니다.`); } 이벤트 기반 API의 주요 구성 요소 이벤트 기반 API 아키텍처는 다음과 같은 핵심 구성 요소로 이루어진다:\n이벤트(Event) 이벤트는 시스템에서 발생한 중요한 상태 변화나 사건을 나타낸다.\n이벤트는 일반적으로 다음과 같은 정보를 포함한다:\n이벤트 유형/이름: 발생한 이벤트의 종류를 식별하는 정보 이벤트 데이터: 이벤트와 관련된 데이터(페이로드) 메타데이터: 타임스탬프, 소스, 상관관계 ID 등의 부가 정보 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 // 이벤트 객체의 예시 { \"eventType\": \"orderShipped\", \"eventId\": \"evt-123456\", \"timestamp\": \"2023-03-15T14:30:45Z\", \"source\": \"order-service\", \"data\": { \"orderId\": \"ORD-9876\", \"customer\": { \"id\": \"CUST-5678\", \"email\": \"customer@example.com\" }, \"shippingInfo\": { \"carrier\": \"FedEx\", \"trackingNumber\": \"FX123456789\", \"estimatedDelivery\": \"2023-03-18\" } } } 이벤트 생산자(Event Producer) 이벤트 생산자는 이벤트를 감지하고 발행하는 시스템 구성 요소이다. 생산자는 특정 사건이 발생했을 때 이를 이벤트로 변환하여 이벤트 버스나 브로커에 전달한다. 생산자는 이벤트 소비자에 대한 직접적인 지식 없이 작동한다.\n이벤트 소비자(Event Consumer) 이벤트 소비자는 특정 이벤트를 구독하고 처리하는 시스템 구성 요소이다. 소비자는 관심 있는 이벤트가 발생했을 때 알림을 받고, 해당 이벤트에 대응하는 비즈니스 로직을 실행한다.\n이벤트 채널(Event Channel) 이벤트 채널은 생산자와 소비자 사이에서 이벤트를 전달하는 통로이다.\n이는 다음과 같은 형태로 구현될 수 있다:\n이벤트 버스: 시스템 내부의 이벤트 라우팅을 위한 인프라 메시지 브로커: Kafka, RabbitMQ, Amazon SNS/SQS 등의 메시징 시스템 이벤트 스트림: 이벤트의 시간순 기록을 유지하는 데이터 스트림 이벤트 라우터(Event Router) 이벤트 라우터는 이벤트를 적절한 소비자에게 전달하는 역할을 담당한다. 이벤트 유형, 속성, 콘텐츠 등에 기반하여 라우팅 결정을 내릴 수 있다.\n이벤트 기반 API의 구현 패턴 발행-구독(Publish-Subscribe) 패턴\n발행-구독(Pub/Sub) 패턴은 이벤트 기반 아키텍처의 기본이 되는 패턴으로, 이벤트 생산자와 소비자 사이의 느슨한 결합을 제공한다.\n이벤트 소싱(Event Sourcing) 패턴\n이벤트 소싱은 시스템의 상태 변화를 일련의 이벤트로 저장하고, 이 이벤트 기록을 통해 현재 상태를 재구성하는 패턴이다.\n명령 쿼리 책임 분리(CQRS) 패턴\nCQRS(Command Query Responsibility Segregation)는 시스템의 읽기(쿼리)와 쓰기(명령) 작업을 분리하는 패턴으로, 이벤트 소싱과 함께 사용되는 경우가 많다.\n4. 이벤트 기반 API의 이점과 과제 이벤트 기반 API는 다양한 이점을 제공하지만, 동시에 특정 과제와 고려사항도 수반한다.\n이점 느슨한 결합(Loose Coupling)\n이벤트 기반 아키텍처는 시스템 구성 요소 간의 직접적인 의존성을 제거한다. 생산자는 이벤트를 발행하기만 하고, 소비자는 이벤트를 구독하기만 하면 된다.\n이로 인해:\n시스템 구성 요소를 독립적으로 개발, 배포, 확장할 수 있다. 새로운 기능을 추가할 때 기존 코드를 수정할 필요가 줄어든다. 장애 격리(fault isolation)가 개선된다. 확장성(Scalability)\n이벤트 기반 API는 시스템의 확장성을 향상시킨다:\n이벤트 생산자와 소비자를 독립적으로 확장할 수 있다. 비동기 처리를 통해 부하를 분산시킬 수 있다. 이벤트 버퍼링을 통해 트래픽 급증을 처리할 수 있다. 응답성(Responsiveness)\n비동기 통신 방식으로 인해 시스템의 응답성이 향상된다:\n클라이언트는 긴 작업의 완료를 기다릴 필요 없이 요청을 제출하고 계속 진행할 수 있다. 이벤트 처리 로직이 주요 비즈니스 로직에서 분리되어 더 빠른 응답이 가능하다. 실시간 업데이트가 필요한 애플리케이션에 적합하다. 유연성(Flexibility)\n이벤트 기반 시스템은 높은 유연성을 제공한다:\n새로운 이벤트 소비자를 쉽게.추가할 수 있다. 다양한 언어와 기술로 구현된 서비스 간 통합이 용이하다. 시스템의 점진적인 발전과 리팩토링이 쉬워진다. 감사(Audit)와 재생(Replay) 기능\n특히 이벤트 소싱을 사용하는 경우:\n모든 상태 변경이 이벤트로 기록되어 완전한 감사 내역을 제공한다. 과거 이벤트를 재생하여 특정 시점의 시스템 상태를 재구성할 수 있다. 디버깅과 문제 해결이 용이해진다. 과제와 고려사항 복잡성 증가\n이벤트 기반 아키텍처는 전통적인 요청-응답 모델보다 복잡할 수 있다:\n비동기 처리로 인한 디버깅과 추적의 어려움 이벤트 스키마 관리와 버전 관리의 복잡성 시스템 행동을 전체적으로 이해하기 어려울 수 있음 일관성 보장(Consistency Guarantees)\n이벤트 기반 시스템에서는 데이터 일관성을 관리하는 것이 어려울 수 있다:\n최종 일관성(eventual consistency) 모델에 대한 이해와 처리 필요 이벤트 순서 보장의 어려움 분산 시스템에서의 트랜잭션 관리 복잡성 오류 처리(Error Handling)\n비동기 처리 환경에서의 오류 관리는 추가적인 과제를 제시한다:\n이벤트 처리 실패 시 재시도 및 복구 메커니즘 필요 데드 레터 큐(Dead Letter Queue) 관리 부분 처리 및 보상 트랜잭션(compensating transaction) 구현 테스트(Testing)\n이벤트 기반 시스템의 테스트는 더 복잡할 수 있다:\n비동기 행동을 테스트하기 위한 특수 도구와 기법 필요 시스템 전체의 통합 테스트 설계 어려움 다양한 이벤트 시나리오 시뮬레이션의 복잡성 운영 복잡성(Operational Complexity)\n운영 관점에서도 추가적인 고려사항이 있다:\n이벤트 브로커 및 메시징 인프라 관리 이벤트 배달 보장을 위한 모니터링 및 알림 설정 시스템 가시성 확보를 위한 분산 추적 구현 이벤트 기반 API의 주요 활용 사례 이벤트 기반 API는 다양한 도메인과 사용 사례에서 효과적으로 활용될 수 있다.\nIoT(사물인터넷) 시스템 IoT 환경은 이벤트 기반 API의 대표적인 활용 사례이다:\n센서 데이터 처리: 수많은 센서에서 생성되는 이벤트 데이터를 실시간으로 수집하고 처리 디바이스 상태 모니터링: 디바이스 상태 변화를 이벤트로 감지하고 대응 명령 전파: 제어 명령을 이벤트로 분배하여 대규모 디바이스 네트워크 관리 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 // IoT 디바이스에서 MQTT를 사용한 이벤트 기반 통신 예시 (Node.js) const mqtt = require('mqtt'); const client = mqtt.connect('mqtt://broker.example.com'); // 온도 센서 이벤트 생산자 class TemperatureSensor { constructor(sensorId, location) { this.sensorId = sensorId; this.location = location; this.connected = false; this.interval = null; } connect() { client.on('connect', () =\u003e { console.log(`센서 ${this.sensorId} 연결됨`); this.connected = true; this.startReporting(); }); client.on('error', (error) =\u003e { console.error(`센서 ${this.sensorId} 연결 오류:`, error); this.connected = false; }); } startReporting() { this.interval = setInterval(() =\u003e { if (this.connected) { const temperature = this.readTemperature(); const humidity = this.readHumidity(); const event = { sensorId: this.sensorId, location: this.location, timestamp: new Date().toISOString(), readings: { temperature, humidity } }; // 온도 이벤트 발행 client.publish( `sensors/temperature/${this.sensorId}`, JSON.stringify(event), { qos: 1 } ); console.log(`온도 이벤트 발행: ${temperature}°C, ${humidity}%`); // 임계값 초과 시 알림 이벤트 발행 if (temperature \u003e 30) { const alertEvent = { sensorId: this.sensorId, location: this.location, timestamp: new Date().toISOString(), alertType: 'high-temperature', value: temperature, threshold: 30 }; client.publish( 'alerts/temperature', JSON.stringify(alertEvent), { qos: 2 } // 중요 알림은 더 높은 QoS로 전송 ); console.log(`온도 경고 발행: ${temperature}°C \u003e 30°C`); } } }, 60000); // 1분마다 보고 } stopReporting() { if (this.interval) { clearInterval(this.interval); this.interval = null; } } readTemperature() { // 실제로는 센서 하드웨어에서 읽어오지만, 여기서는 시뮬레이션 return 20 + Math.random() * 15; } readHumidity() { // 습도 센서 시뮬레이션 return 40 + Math.random() * 30; } } // 온도 알림 이벤트 소비자 class TemperatureAlertHandler { constructor() { this.initialize(); } initialize() { client.on('connect', () =\u003e { console.log('알림 핸들러 연결됨'); // 온도 알림 주제 구독 client.subscribe('alerts/temperature', { qos: 2 }, (err) =\u003e { if (!err) { console.log('온도 알림 주제 구독 성공'); } }); }); client.on('message', (topic, message) =\u003e { if (topic === 'alerts/temperature') { try { const alertEvent = JSON.parse(message.toString()); this.handleTemperatureAlert(alertEvent); } catch (error) { console.error('알림 처리 오류:', error); } } }); } handleTemperatureAlert(alertEvent) { console.log('온도 알림 수신:', alertEvent); // 실제로는 알림 발송, 대시보드 업데이트, 자동화된 조치 등을 수행 console.log(`[긴급] ${alertEvent.location}의 온도가 ${alertEvent.value}°C로 임계값 ${alertEvent.threshold}°C를 초과했습니다.`); // 알림 이벤트 기록 this.logAlert(alertEvent); // 냉각 시스템 작동 명령 이벤트 발행 this.triggerCoolingSystem(alertEvent.location); } logAlert(alertEvent) { // 알림 로깅 로직 console.log(`알림 기록: ${JSON.stringify(alertEvent)}`); } triggerCoolingSystem(location) { const command = { timestamp: new Date().toISOString(), location: location, action: 'activate-cooling' }; // 냉각 시스템 명령 발행 client.publish( `commands/cooling/${location}`, JSON.stringify(command), { qos: 2 } ); console.log(`${location}의 냉각 시스템 작동 명령 발행`); } } // 사용 예시 const sensor1 = new TemperatureSensor('temp-001', '서버실-A'); const alertHandler = new TemperatureAlertHandler(); sensor1.connect(); 마이크로서비스 아키텍처 마이크로서비스 간의 통신에서 이벤트 기반 API는 중요한 역할을 한다:\n서비스 간 데이터 동기화: 각 서비스의 데이터 변경을 이벤트로 공유하여 동기화 비즈니스 프로세스 조율: 여러 서비스에 걸친 작업 흐름을 이벤트로 조정 장애 격리: 서비스 간 느슨한 결합을 통한 장애 전파 방지 실시간 분석 및 모니터링 데이터 분석과 모니터링 시스템에서 이벤트 기반 API는 다음과 같이 활용된다:\n로그 및 지표 수집: 시스템 전반의 로그와 지표를 이벤트로 수집하여 분석 이상 감지: 비정상적인 패턴을 이벤트로 감지하고 대응 실시간 대시보드: 이벤트 스트림을 기반으로 한 실시간 데이터 시각화 금융 시스템 금융 서비스 분야에서는 다음과 같은 사례가 있다:\n거래 처리: 금융 거래를 이벤트로 처리하고 관련 시스템에 전파 사기 감지: 의심스러운 거래 패턴을 이벤트로 감지하고 분석 규정 준수 및 감사: 모든 금융 활동을 이벤트로 기록하여 감사 추적 제공 전자상거래 플랫폼 전자상거래에서는 다음과 같은 활용 사례가 있다:\n재고 관리: 재고 변동을 이벤트로 처리하여 실시간 재고 상태 유지 주문 처리 파이프라인: 주문 생성부터 배송까지의 과정을 이벤트로 조율 개인화된 추천: 사용자 행동 이벤트를 기반으로 한 실시간 추천 서비스 소셜 미디어 플랫폼 소셜 미디어에서는 다음과 같이 활용된다:\n활동 피드 생성: 사용자 활동을 이벤트로 수집하여 개인화된 피드 구성 알림 시스템: 다양한 상호작용 이벤트를 기반으로 한 사용자 알림 콘텐츠 모더레이션: 새로운 콘텐츠 게시 이벤트에 대한 자동화된 검토 및 모더레이션 이벤트 기반 API 설계 모범 사례 효과적인 이벤트 기반 API를 설계하기 위한 주요 모범 사례.\n이벤트 설계 원칙 명확한 이벤트 정의\n이벤트는 명확하고 의미 있게 정의되어야 한다:\n명확한 네이밍: 이벤트 유형은 과거 시제 동사로 명명(예: UserRegistered, OrderPlaced) 목적성: 각 이벤트는 단일 목적을 가지고 명확한 비즈니스 의미를 담아야 함 자급자족: 이벤트는 처리에 필요한 모든 정보를 포함해야 함 이벤트 스키마 관리\n이벤트 스키마는 체계적으로 관리되어야 한다:\n명시적 스키마 정의: Avro, Protocol Buffers, JSON Schema 등을 사용한 명시적 스키마 정의 버전 관리: 이벤트 스키마의 체계적인 버전 관리 후방 호환성: 이벤트 스키마 변경 시 기존 소비자와의 호환성 유지 멱등성(Idempotency) 보장\n동일한 이벤트가 여러 번 처리되어도 결과가 동일해야 한다:\n고유 식별자: 각 이벤트에 고유 식별자 할당 멱등 처리: 소비자는 중복 이벤트를 식별하고 적절히 처리해야 함 중복 제거: 필요한 경우 이벤트 채널에서 중복 제거 메커니즘 구현 아키텍처 패턴 도메인 이벤트 패턴\n도메인 중심 설계(DDD)에서 파생된 패턴으로, 중요한 비즈니스 변경을 이벤트로 캡처한다:\n도메인 경계: 각 도메인 내에서 중요한 변경을 이벤트로 발행 컨텍스트 매핑: 서로 다른 도메인 간의 관계를 이벤트를 통해 표현 일관성 경계: 도메인 내 일관성과 도메인 간 최종 일관성 분리 이벤트 매시(Event Mesh) 패턴\n이벤트를 다양한 채널과 시스템 간에 동적으로 라우팅하는 패턴:\n분산 이벤트 라우팅: 중앙화된 브로커 대신 분산된 이벤트 라우터 네트워크 동적 라우팅 규칙: 이벤트 특성에 따른 동적 라우팅 멀티 프로토콜 지원: 다양한 통신 프로토콜과 형식 간의 변환 세그리게이션 패턴(Segregation Pattern)\n명령과 쿼리를 분리하여 시스템의 복잡성을 관리하는 패턴:\n명령 흐름: 상태를 변경하는 작업은 명령으로 처리 쿼리 흐름: 데이터 조회는 별도의 최적화된 경로로 처리 이벤트 기반 상태 전파: 명령 처리 결과를 이벤트로 전파하여 쿼리 모델 업데이트 운영 고려사항 모니터링 및 관측성\n이벤트 기반 시스템의 효과적인 운영을 위한 모니터링 전략:\n이벤트 추적: 개별 이벤트의 흐름을 추적할 수 있는 상관관계 ID 지표 수집: 이벤트 처리량, 지연 시간, 오류율 등의 핵심 지표 모니터링 분산 추적: 이벤트가 여러 서비스를 통과하는 경로 추적 장애 처리 전략\n장애 상황에 대비한 강건한 전략 수립:\n데드 레터 큐(DLQ): 처리 실패한 이벤트를 저장하고 분석 재시도 정책: 일시적 장애에 대한 체계적인 재시도 메커니즘 서킷 브레이커: 반복적인 장애 시 시스템 보호를 위한 차단 기능 확장성 계획\n증가하는 부하에 대응하기 위한 확장 전략:\n수평적 확장: 소비자 그룹을 통한 부하 분산 파티셔닝: 이벤트 스트림의 효율적인 분할 및 병렬 처리 백프레셔(Backpressure): 과부하 상황에서 시스템 보호 메커니즘 보안 고려사항\n이벤트 기반 API에서도 보안은 중요한 고려사항이다:\n인증 및 권한 부여: 이벤트 생산 및 소비에 대한 적절한 접근 제어 메시지 무결성: 이벤트 내용이 전송 중에 변조되지 않도록 보호 기밀성: 민감한 정보를 포함하는 이벤트의 암호화 감사 및 규정 준수: 보안 관련 이벤트의 철저한 로깅 및 감사 이벤트 기반 API의 미래 전망 이벤트 기반 API 분야는 계속 발전하고 있으며, 다음과 같은 주요 트렌드와 미래 방향성이 관찰된다.\n서버리스 이벤트 처리 서버리스 컴퓨팅과 이벤트 기반 아키텍처의 결합은 더욱 강화될 것으로 예상된다:\n이벤트 트리거 함수: 이벤트가 발생할 때 자동으로 실행되는 서버리스 함수의 확산 이벤트 중심 서버리스 워크플로우: 여러 함수를 이벤트로 연결하는 워크플로우 오케스트레이션 자동 확장: 이벤트 볼륨에 따라 자동으로 확장되는 처리 리소스 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 // AWS Lambda와 EventBridge를 사용한 서버리스 이벤트 처리 예시 // Lambda 함수 (index.js) exports.handler = async (event) =\u003e { console.log('이벤트 수신:', JSON.stringify(event, null, 2)); // 이벤트 유형에 따른 처리 if (event.source === 'order-service' \u0026\u0026 event.detail-type === 'OrderPlaced') { // 주문 처리 로직 await processOrder(event.detail); // 후속 이벤트 발행 await publishEvent({ source: 'order-processor', detailType: 'OrderProcessed', detail: { orderId: event.detail.orderId, status: 'processed', processingTime: new Date().toISOString() } }); return { statusCode: 200, body: JSON.stringify({ message: '주문 처리 완료', orderId: event.detail.orderId }) }; } return { statusCode: 400, body: JSON.stringify({ message: '지원되지 않는 이벤트 유형' }) }; }; // 주문 처리 함수 async function processOrder(orderDetails) { console.log(`주문 ${orderDetails.orderId} 처리 중...`); // 실제 처리 로직 구현 } // 이벤트 발행 함수 async function publishEvent(eventData) { const AWS = require('aws-sdk'); const eventBridge = new AWS.EventBridge(); const params = { Entries: [ { Source: eventData.source, DetailType: eventData.detailType, Detail: JSON.stringify(eventData.detail), EventBusName: 'default' } ] }; try { const result = await eventBridge.putEvents(params).promise(); console.log('이벤트 발행 성공:', result); return result; } catch (error) { console.error('이벤트 발행 오류:', error); throw error; } } 에지 컴퓨팅 통합 에지 컴퓨팅과 이벤트 기반 아키텍처의 결합이 증가할 것으로 예상된다:\n로컬 이벤트 처리: 에지 디바이스에서의 로컬 이벤트 처리 및 필터링 하이브리드 이벤트 라우팅: 에지와 클라우드 간의 지능적인 이벤트 라우팅 분산 이벤트 저장소: 에지 노드에 분산된 이벤트 저장 및 동기화 실시간 AI/ML 통합 이벤트 스트림에 인공지능과 머신러닝을 적용하는 추세가 강화된다:\n스트림 분석: 이벤트 스트림에 대한 실시간 머신러닝 모델 적용 지능형 이벤트 필터링: AI를 활용한 중요 이벤트 식별 및 우선순위 지정 이상 감지: 정상적인 이벤트 패턴에서 벗어난 이상 징후 자동 감지 이벤트 표준화 이벤트 기반 통신을 위한 표준과 사양이 더욱 발전할 것이다:\n클라우드 이벤트(CloudEvents): CNCF의 CloudEvents 사양의 광범위한 채택 이벤트 스키마 레지스트리: 중앙화된 이벤트 스키마 관리 및 검색 AsyncAPI 성숙: AsyncAPI 사양의 발전과 도구 생태계 확장 이벤트 메시 아키텍처 분산 이벤트 라우팅을 위한 이벤트 메시 아키텍처가 발전할 것:\n글로벌 이벤트 분배: 지역과 클라우드 제공업체 간의 이벤트 라우팅 정책 기반 라우팅: 동적 정책에 기반한 이벤트 필터링 및 라우팅 이벤트 변환: 서로 다른 형식과 프로토콜 간의 이벤트 변환 양자 컴퓨팅 활용 장기적으로는 양자 컴퓨팅이 이벤트 처리 분야에 영향을 미칠 수 있다:\n복잡한 이벤트 패턴 분석: 양자 알고리즘을 통한 이벤트 스트림 분석 암호화 강화: 양자 안전 암호화를 통한 이벤트 보안 강화 최적화 문제: 이벤트 라우팅 및 처리 최적화를 위한 양자 알고리즘 용어 정리 용어 설명 참고 및 출처 ","wordCount":"2695","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2025-02-28T03:40:00Z","dateModified":"2025-02-28T03:40:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/software-engineering/design-and-architecture/integration/api-integration/event-driven-apis/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a></div><h1 class="post-title entry-hint-parent">Event-driven APIs</h1><div class=post-description>이벤트 기반 API(Event-Driven API)는 시스템 내에서 발생하는 상태 변화나 중요 사건을 이벤트로 정의하고, 이러한 이벤트를 중심으로 설계된 API 아키텍처이다</div><div class=post-meta><span title='2025-02-28 03:40:00 +0000 UTC'>February 28, 2025</span>&nbsp;·&nbsp;13 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Software%20Engineering/Design%20and%20Architecture/Integration/API%20Integration/Event-driven-APIs.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#event-driven-apis>Event-driven APIs</a><ul><li><a href=#이벤트-기반-api의-주요-구성-요소>이벤트 기반 API의 주요 구성 요소</a></li><li><a href=#이벤트-기반-api의-구현-패턴>이벤트 기반 API의 구현 패턴</a></li><li><a href=#4-이벤트-기반-api의-이점과-과제>4. 이벤트 기반 API의 이점과 과제</a></li><li><a href=#이벤트-기반-api의-주요-활용-사례>이벤트 기반 API의 주요 활용 사례</a></li><li><a href=#이벤트-기반-api-설계-모범-사례>이벤트 기반 API 설계 모범 사례</a></li><li><a href=#이벤트-기반-api의-미래-전망>이벤트 기반 API의 미래 전망</a></li></ul></li><li><a href=#용어-정리>용어 정리</a></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=event-driven-apis>Event-driven APIs<a hidden class=anchor aria-hidden=true href=#event-driven-apis>#</a></h2><p>이벤트 기반 API(Event-Driven API)는 시스템 내에서 발생하는 상태 변화나 중요 사건을 이벤트로 정의하고, 이러한 이벤트를 중심으로 설계된 API 아키텍처이다. 전통적인 요청-응답(Request-Response) 방식과 달리, 이벤트 기반 API에서는 클라이언트가 특정 이벤트에 관심을 표현하고 구독하면, 해당 이벤트가 발생할 때마다 서버가 클라이언트에게 알림을 보낸다.</p><p>이벤트 기반 API의 핵심 원리는 느슨한 결합(loose coupling)과 비동기 통신(asynchronous communication)에 있다. 이벤트 발행자(producer)와 소비자(consumer) 사이에는 직접적인 의존성이 없으며, 이벤트 브로커나 메시지 버스를 통해 간접적으로 통신한다. 이러한 특성은 시스템 구성 요소 간의 독립성을 높이고, 확장성과 유연성을 크게 향상시킨다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14>14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15>15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16>16</a>
</span><span class=lnt id=hl-0-17><a class=lnlinks href=#hl-0-17>17</a>
</span><span class=lnt id=hl-0-18><a class=lnlinks href=#hl-0-18>18</a>
</span><span class=lnt id=hl-0-19><a class=lnlinks href=#hl-0-19>19</a>
</span><span class=lnt id=hl-0-20><a class=lnlinks href=#hl-0-20>20</a>
</span><span class=lnt id=hl-0-21><a class=lnlinks href=#hl-0-21>21</a>
</span><span class=lnt id=hl-0-22><a class=lnlinks href=#hl-0-22>22</a>
</span><span class=lnt id=hl-0-23><a class=lnlinks href=#hl-0-23>23</a>
</span><span class=lnt id=hl-0-24><a class=lnlinks href=#hl-0-24>24</a>
</span><span class=lnt id=hl-0-25><a class=lnlinks href=#hl-0-25>25</a>
</span><span class=lnt id=hl-0-26><a class=lnlinks href=#hl-0-26>26</a>
</span><span class=lnt id=hl-0-27><a class=lnlinks href=#hl-0-27>27</a>
</span><span class=lnt id=hl-0-28><a class=lnlinks href=#hl-0-28>28</a>
</span><span class=lnt id=hl-0-29><a class=lnlinks href=#hl-0-29>29</a>
</span><span class=lnt id=hl-0-30><a class=lnlinks href=#hl-0-30>30</a>
</span><span class=lnt id=hl-0-31><a class=lnlinks href=#hl-0-31>31</a>
</span><span class=lnt id=hl-0-32><a class=lnlinks href=#hl-0-32>32</a>
</span><span class=lnt id=hl-0-33><a class=lnlinks href=#hl-0-33>33</a>
</span><span class=lnt id=hl-0-34><a class=lnlinks href=#hl-0-34>34</a>
</span><span class=lnt id=hl-0-35><a class=lnlinks href=#hl-0-35>35</a>
</span><span class=lnt id=hl-0-36><a class=lnlinks href=#hl-0-36>36</a>
</span><span class=lnt id=hl-0-37><a class=lnlinks href=#hl-0-37>37</a>
</span><span class=lnt id=hl-0-38><a class=lnlinks href=#hl-0-38>38</a>
</span><span class=lnt id=hl-0-39><a class=lnlinks href=#hl-0-39>39</a>
</span><span class=lnt id=hl-0-40><a class=lnlinks href=#hl-0-40>40</a>
</span><span class=lnt id=hl-0-41><a class=lnlinks href=#hl-0-41>41</a>
</span><span class=lnt id=hl-0-42><a class=lnlinks href=#hl-0-42>42</a>
</span><span class=lnt id=hl-0-43><a class=lnlinks href=#hl-0-43>43</a>
</span><span class=lnt id=hl-0-44><a class=lnlinks href=#hl-0-44>44</a>
</span><span class=lnt id=hl-0-45><a class=lnlinks href=#hl-0-45>45</a>
</span><span class=lnt id=hl-0-46><a class=lnlinks href=#hl-0-46>46</a>
</span><span class=lnt id=hl-0-47><a class=lnlinks href=#hl-0-47>47</a>
</span><span class=lnt id=hl-0-48><a class=lnlinks href=#hl-0-48>48</a>
</span><span class=lnt id=hl-0-49><a class=lnlinks href=#hl-0-49>49</a>
</span><span class=lnt id=hl-0-50><a class=lnlinks href=#hl-0-50>50</a>
</span><span class=lnt id=hl-0-51><a class=lnlinks href=#hl-0-51>51</a>
</span><span class=lnt id=hl-0-52><a class=lnlinks href=#hl-0-52>52</a>
</span><span class=lnt id=hl-0-53><a class=lnlinks href=#hl-0-53>53</a>
</span><span class=lnt id=hl-0-54><a class=lnlinks href=#hl-0-54>54</a>
</span><span class=lnt id=hl-0-55><a class=lnlinks href=#hl-0-55>55</a>
</span><span class=lnt id=hl-0-56><a class=lnlinks href=#hl-0-56>56</a>
</span><span class=lnt id=hl-0-57><a class=lnlinks href=#hl-0-57>57</a>
</span><span class=lnt id=hl-0-58><a class=lnlinks href=#hl-0-58>58</a>
</span><span class=lnt id=hl-0-59><a class=lnlinks href=#hl-0-59>59</a>
</span><span class=lnt id=hl-0-60><a class=lnlinks href=#hl-0-60>60</a>
</span><span class=lnt id=hl-0-61><a class=lnlinks href=#hl-0-61>61</a>
</span><span class=lnt id=hl-0-62><a class=lnlinks href=#hl-0-62>62</a>
</span><span class=lnt id=hl-0-63><a class=lnlinks href=#hl-0-63>63</a>
</span><span class=lnt id=hl-0-64><a class=lnlinks href=#hl-0-64>64</a>
</span><span class=lnt id=hl-0-65><a class=lnlinks href=#hl-0-65>65</a>
</span><span class=lnt id=hl-0-66><a class=lnlinks href=#hl-0-66>66</a>
</span><span class=lnt id=hl-0-67><a class=lnlinks href=#hl-0-67>67</a>
</span><span class=lnt id=hl-0-68><a class=lnlinks href=#hl-0-68>68</a>
</span><span class=lnt id=hl-0-69><a class=lnlinks href=#hl-0-69>69</a>
</span><span class=lnt id=hl-0-70><a class=lnlinks href=#hl-0-70>70</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 이벤트 기반 API의 기본 개념을 보여주는 예시 코드 (Node.js)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>EventEmitter</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;events&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 이벤트 브로커 역할을 하는 이벤트 이미터 인스턴스 생성
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>orderEventBroker</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>EventEmitter</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 이벤트 소비자(구독자) 설정 - 주문 생성 이벤트 리스너
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>orderEventBroker</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;orderCreated&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>orderData</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;새 주문이 생성되었습니다:&#39;</span><span class=p>,</span> <span class=nx>orderData</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 주문 처리 로직
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>processOrder</span><span class=p>(</span><span class=nx>orderData</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 이벤트 소비자(구독자) 설정 - 주문 취소 이벤트 리스너
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>orderEventBroker</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;orderCancelled&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>orderId</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;주문이 취소되었습니다. 주문 ID:&#39;</span><span class=p>,</span> <span class=nx>orderId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 주문 취소 처리 로직
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>handleOrderCancellation</span><span class=p>(</span><span class=nx>orderId</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 이벤트 발행자 - 주문 생성 이벤트 발행
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>createOrder</span><span class=p>(</span><span class=nx>orderDetails</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 주문 데이터 생성 및 저장
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>orderData</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>id</span><span class=o>:</span> <span class=nx>generateOrderId</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>    <span class=nx>items</span><span class=o>:</span> <span class=nx>orderDetails</span><span class=p>.</span><span class=nx>items</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>customer</span><span class=o>:</span> <span class=nx>orderDetails</span><span class=p>.</span><span class=nx>customer</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>timestamp</span><span class=o>:</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>    <span class=nx>status</span><span class=o>:</span> <span class=s1>&#39;created&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=nx>saveOrderToDatabase</span><span class=p>(</span><span class=nx>orderData</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 이벤트 발행
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>orderEventBroker</span><span class=p>.</span><span class=nx>emit</span><span class=p>(</span><span class=s1>&#39;orderCreated&#39;</span><span class=p>,</span> <span class=nx>orderData</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>orderData</span><span class=p>.</span><span class=nx>id</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 이벤트 발행자 - 주문 취소 이벤트 발행
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>cancelOrder</span><span class=p>(</span><span class=nx>orderId</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 주문 상태 업데이트
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>updateOrderStatus</span><span class=p>(</span><span class=nx>orderId</span><span class=p>,</span> <span class=s1>&#39;cancelled&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 이벤트 발행
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>orderEventBroker</span><span class=p>.</span><span class=nx>emit</span><span class=p>(</span><span class=s1>&#39;orderCancelled&#39;</span><span class=p>,</span> <span class=nx>orderId</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 보조 함수들
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>processOrder</span><span class=p>(</span><span class=nx>orderData</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 주문 처리 로직
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>handleOrderCancellation</span><span class=p>(</span><span class=nx>orderId</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 주문 취소 처리 로직
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>generateOrderId</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 주문 ID 생성 로직
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>return</span> <span class=s1>&#39;ORD-&#39;</span> <span class=o>+</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>random</span><span class=p>()</span> <span class=o>*</span> <span class=mi>10000</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>saveOrderToDatabase</span><span class=p>(</span><span class=nx>orderData</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 데이터베이스 저장 로직
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;주문이 데이터베이스에 저장되었습니다.&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>updateOrderStatus</span><span class=p>(</span><span class=nx>orderId</span><span class=p>,</span> <span class=nx>status</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 주문 상태 업데이트 로직
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`주문 </span><span class=si>${</span><span class=nx>orderId</span><span class=si>}</span><span class=sb>의 상태가 &#39;</span><span class=si>${</span><span class=nx>status</span><span class=si>}</span><span class=sb>&#39;로 업데이트되었습니다.`</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=이벤트-기반-api의-주요-구성-요소>이벤트 기반 API의 주요 구성 요소<a hidden class=anchor aria-hidden=true href=#이벤트-기반-api의-주요-구성-요소>#</a></h3><p>이벤트 기반 API 아키텍처는 다음과 같은 핵심 구성 요소로 이루어진다:</p><h4 id=이벤트event>이벤트(Event)<a hidden class=anchor aria-hidden=true href=#이벤트event>#</a></h4><p>이벤트는 시스템에서 발생한 중요한 상태 변화나 사건을 나타낸다.</p><p>이벤트는 일반적으로 다음과 같은 정보를 포함한다:</p><ul><li><strong>이벤트 유형/이름</strong>: 발생한 이벤트의 종류를 식별하는 정보</li><li><strong>이벤트 데이터</strong>: 이벤트와 관련된 데이터(페이로드)</li><li><strong>메타데이터</strong>: 타임스탬프, 소스, 상관관계 ID 등의 부가 정보</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11>11</a>
</span><span class=lnt id=hl-1-12><a class=lnlinks href=#hl-1-12>12</a>
</span><span class=lnt id=hl-1-13><a class=lnlinks href=#hl-1-13>13</a>
</span><span class=lnt id=hl-1-14><a class=lnlinks href=#hl-1-14>14</a>
</span><span class=lnt id=hl-1-15><a class=lnlinks href=#hl-1-15>15</a>
</span><span class=lnt id=hl-1-16><a class=lnlinks href=#hl-1-16>16</a>
</span><span class=lnt id=hl-1-17><a class=lnlinks href=#hl-1-17>17</a>
</span><span class=lnt id=hl-1-18><a class=lnlinks href=#hl-1-18>18</a>
</span><span class=lnt id=hl-1-19><a class=lnlinks href=#hl-1-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=c1>// 이벤트 객체의 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;eventType&#34;</span><span class=p>:</span> <span class=s2>&#34;orderShipped&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;eventId&#34;</span><span class=p>:</span> <span class=s2>&#34;evt-123456&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;timestamp&#34;</span><span class=p>:</span> <span class=s2>&#34;2023-03-15T14:30:45Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;source&#34;</span><span class=p>:</span> <span class=s2>&#34;order-service&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;orderId&#34;</span><span class=p>:</span> <span class=s2>&#34;ORD-9876&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;customer&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;id&#34;</span><span class=p>:</span> <span class=s2>&#34;CUST-5678&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;email&#34;</span><span class=p>:</span> <span class=s2>&#34;customer@example.com&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;shippingInfo&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;carrier&#34;</span><span class=p>:</span> <span class=s2>&#34;FedEx&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;trackingNumber&#34;</span><span class=p>:</span> <span class=s2>&#34;FX123456789&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;estimatedDelivery&#34;</span><span class=p>:</span> <span class=s2>&#34;2023-03-18&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=이벤트-생산자event-producer>이벤트 생산자(Event Producer)<a hidden class=anchor aria-hidden=true href=#이벤트-생산자event-producer>#</a></h4><p>이벤트 생산자는 이벤트를 감지하고 발행하는 시스템 구성 요소이다. 생산자는 특정 사건이 발생했을 때 이를 이벤트로 변환하여 이벤트 버스나 브로커에 전달한다. 생산자는 이벤트 소비자에 대한 직접적인 지식 없이 작동한다.</p><h4 id=이벤트-소비자event-consumer>이벤트 소비자(Event Consumer)<a hidden class=anchor aria-hidden=true href=#이벤트-소비자event-consumer>#</a></h4><p>이벤트 소비자는 특정 이벤트를 구독하고 처리하는 시스템 구성 요소이다. 소비자는 관심 있는 이벤트가 발생했을 때 알림을 받고, 해당 이벤트에 대응하는 비즈니스 로직을 실행한다.</p><h4 id=이벤트-채널event-channel>이벤트 채널(Event Channel)<a hidden class=anchor aria-hidden=true href=#이벤트-채널event-channel>#</a></h4><p>이벤트 채널은 생산자와 소비자 사이에서 이벤트를 전달하는 통로이다.</p><p>이는 다음과 같은 형태로 구현될 수 있다:</p><ul><li><strong>이벤트 버스</strong>: 시스템 내부의 이벤트 라우팅을 위한 인프라</li><li><strong>메시지 브로커</strong>: Kafka, RabbitMQ, Amazon SNS/SQS 등의 메시징 시스템</li><li><strong>이벤트 스트림</strong>: 이벤트의 시간순 기록을 유지하는 데이터 스트림</li></ul><h4 id=이벤트-라우터event-router>이벤트 라우터(Event Router)<a hidden class=anchor aria-hidden=true href=#이벤트-라우터event-router>#</a></h4><p>이벤트 라우터는 이벤트를 적절한 소비자에게 전달하는 역할을 담당한다. 이벤트 유형, 속성, 콘텐츠 등에 기반하여 라우팅 결정을 내릴 수 있다.</p><h3 id=이벤트-기반-api의-구현-패턴>이벤트 기반 API의 구현 패턴<a hidden class=anchor aria-hidden=true href=#이벤트-기반-api의-구현-패턴>#</a></h3><ol><li><p>발행-구독(Publish-Subscribe) 패턴<br>발행-구독(Pub/Sub) 패턴은 이벤트 기반 아키텍처의 기본이 되는 패턴으로, 이벤트 생산자와 소비자 사이의 느슨한 결합을 제공한다.</p></li><li><p>이벤트 소싱(Event Sourcing) 패턴<br>이벤트 소싱은 시스템의 상태 변화를 일련의 이벤트로 저장하고, 이 이벤트 기록을 통해 현재 상태를 재구성하는 패턴이다.</p></li><li><p>명령 쿼리 책임 분리(CQRS) 패턴<br>CQRS(Command Query Responsibility Segregation)는 시스템의 읽기(쿼리)와 쓰기(명령) 작업을 분리하는 패턴으로, 이벤트 소싱과 함께 사용되는 경우가 많다.</p></li></ol><h3 id=4-이벤트-기반-api의-이점과-과제>4. 이벤트 기반 API의 이점과 과제<a hidden class=anchor aria-hidden=true href=#4-이벤트-기반-api의-이점과-과제>#</a></h3><p>이벤트 기반 API는 다양한 이점을 제공하지만, 동시에 특정 과제와 고려사항도 수반한다.</p><h4 id=이점>이점<a hidden class=anchor aria-hidden=true href=#이점>#</a></h4><ol><li><p>느슨한 결합(Loose Coupling)<br>이벤트 기반 아키텍처는 시스템 구성 요소 간의 직접적인 의존성을 제거한다. 생산자는 이벤트를 발행하기만 하고, 소비자는 이벤트를 구독하기만 하면 된다.<br>이로 인해:</p><ul><li>시스템 구성 요소를 독립적으로 개발, 배포, 확장할 수 있다.</li><li>새로운 기능을 추가할 때 기존 코드를 수정할 필요가 줄어든다.</li><li>장애 격리(fault isolation)가 개선된다.</li></ul></li><li><p>확장성(Scalability)<br>이벤트 기반 API는 시스템의 확장성을 향상시킨다:</p><ul><li>이벤트 생산자와 소비자를 독립적으로 확장할 수 있다.</li><li>비동기 처리를 통해 부하를 분산시킬 수 있다.</li><li>이벤트 버퍼링을 통해 트래픽 급증을 처리할 수 있다.</li></ul></li><li><p>응답성(Responsiveness)<br>비동기 통신 방식으로 인해 시스템의 응답성이 향상된다:</p><ul><li>클라이언트는 긴 작업의 완료를 기다릴 필요 없이 요청을 제출하고 계속 진행할 수 있다.</li><li>이벤트 처리 로직이 주요 비즈니스 로직에서 분리되어 더 빠른 응답이 가능하다.</li><li>실시간 업데이트가 필요한 애플리케이션에 적합하다.</li></ul></li><li><p>유연성(Flexibility)<br>이벤트 기반 시스템은 높은 유연성을 제공한다:</p><ul><li>새로운 이벤트 소비자를 쉽게.추가할 수 있다.</li><li>다양한 언어와 기술로 구현된 서비스 간 통합이 용이하다.</li><li>시스템의 점진적인 발전과 리팩토링이 쉬워진다.</li></ul></li><li><p>감사(Audit)와 재생(Replay) 기능<br>특히 이벤트 소싱을 사용하는 경우:</p><ul><li>모든 상태 변경이 이벤트로 기록되어 완전한 감사 내역을 제공한다.</li><li>과거 이벤트를 재생하여 특정 시점의 시스템 상태를 재구성할 수 있다.</li><li>디버깅과 문제 해결이 용이해진다.</li></ul></li></ol><h4 id=과제와-고려사항>과제와 고려사항<a hidden class=anchor aria-hidden=true href=#과제와-고려사항>#</a></h4><ol><li><p>복잡성 증가<br>이벤트 기반 아키텍처는 전통적인 요청-응답 모델보다 복잡할 수 있다:</p><ul><li>비동기 처리로 인한 디버깅과 추적의 어려움</li><li>이벤트 스키마 관리와 버전 관리의 복잡성</li><li>시스템 행동을 전체적으로 이해하기 어려울 수 있음</li></ul></li><li><p>일관성 보장(Consistency Guarantees)<br>이벤트 기반 시스템에서는 데이터 일관성을 관리하는 것이 어려울 수 있다:</p><ul><li>최종 일관성(eventual consistency) 모델에 대한 이해와 처리 필요</li><li>이벤트 순서 보장의 어려움</li><li>분산 시스템에서의 트랜잭션 관리 복잡성</li></ul></li><li><p>오류 처리(Error Handling)<br>비동기 처리 환경에서의 오류 관리는 추가적인 과제를 제시한다:</p><ul><li>이벤트 처리 실패 시 재시도 및 복구 메커니즘 필요</li><li>데드 레터 큐(Dead Letter Queue) 관리</li><li>부분 처리 및 보상 트랜잭션(compensating transaction) 구현</li></ul></li><li><p>테스트(Testing)<br>이벤트 기반 시스템의 테스트는 더 복잡할 수 있다:</p><ul><li>비동기 행동을 테스트하기 위한 특수 도구와 기법 필요</li><li>시스템 전체의 통합 테스트 설계 어려움</li><li>다양한 이벤트 시나리오 시뮬레이션의 복잡성</li></ul></li><li><p>운영 복잡성(Operational Complexity)<br>운영 관점에서도 추가적인 고려사항이 있다:</p><ul><li>이벤트 브로커 및 메시징 인프라 관리</li><li>이벤트 배달 보장을 위한 모니터링 및 알림 설정</li><li>시스템 가시성 확보를 위한 분산 추적 구현</li></ul></li></ol><h3 id=이벤트-기반-api의-주요-활용-사례>이벤트 기반 API의 주요 활용 사례<a hidden class=anchor aria-hidden=true href=#이벤트-기반-api의-주요-활용-사례>#</a></h3><p>이벤트 기반 API는 다양한 도메인과 사용 사례에서 효과적으로 활용될 수 있다.</p><h4 id=iot사물인터넷-시스템>IoT(사물인터넷) 시스템<a hidden class=anchor aria-hidden=true href=#iot사물인터넷-시스템>#</a></h4><p>IoT 환경은 이벤트 기반 API의 대표적인 활용 사례이다:</p><ul><li><strong>센서 데이터 처리</strong>: 수많은 센서에서 생성되는 이벤트 데이터를 실시간으로 수집하고 처리</li><li><strong>디바이스 상태 모니터링</strong>: 디바이스 상태 변화를 이벤트로 감지하고 대응</li><li><strong>명령 전파</strong>: 제어 명령을 이벤트로 분배하여 대규모 디바이스 네트워크 관리</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>  1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>  2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3>  3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4>  4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5>  5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6>  6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7>  7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8>  8</a>
</span><span class=lnt id=hl-2-9><a class=lnlinks href=#hl-2-9>  9</a>
</span><span class=lnt id=hl-2-10><a class=lnlinks href=#hl-2-10> 10</a>
</span><span class=lnt id=hl-2-11><a class=lnlinks href=#hl-2-11> 11</a>
</span><span class=lnt id=hl-2-12><a class=lnlinks href=#hl-2-12> 12</a>
</span><span class=lnt id=hl-2-13><a class=lnlinks href=#hl-2-13> 13</a>
</span><span class=lnt id=hl-2-14><a class=lnlinks href=#hl-2-14> 14</a>
</span><span class=lnt id=hl-2-15><a class=lnlinks href=#hl-2-15> 15</a>
</span><span class=lnt id=hl-2-16><a class=lnlinks href=#hl-2-16> 16</a>
</span><span class=lnt id=hl-2-17><a class=lnlinks href=#hl-2-17> 17</a>
</span><span class=lnt id=hl-2-18><a class=lnlinks href=#hl-2-18> 18</a>
</span><span class=lnt id=hl-2-19><a class=lnlinks href=#hl-2-19> 19</a>
</span><span class=lnt id=hl-2-20><a class=lnlinks href=#hl-2-20> 20</a>
</span><span class=lnt id=hl-2-21><a class=lnlinks href=#hl-2-21> 21</a>
</span><span class=lnt id=hl-2-22><a class=lnlinks href=#hl-2-22> 22</a>
</span><span class=lnt id=hl-2-23><a class=lnlinks href=#hl-2-23> 23</a>
</span><span class=lnt id=hl-2-24><a class=lnlinks href=#hl-2-24> 24</a>
</span><span class=lnt id=hl-2-25><a class=lnlinks href=#hl-2-25> 25</a>
</span><span class=lnt id=hl-2-26><a class=lnlinks href=#hl-2-26> 26</a>
</span><span class=lnt id=hl-2-27><a class=lnlinks href=#hl-2-27> 27</a>
</span><span class=lnt id=hl-2-28><a class=lnlinks href=#hl-2-28> 28</a>
</span><span class=lnt id=hl-2-29><a class=lnlinks href=#hl-2-29> 29</a>
</span><span class=lnt id=hl-2-30><a class=lnlinks href=#hl-2-30> 30</a>
</span><span class=lnt id=hl-2-31><a class=lnlinks href=#hl-2-31> 31</a>
</span><span class=lnt id=hl-2-32><a class=lnlinks href=#hl-2-32> 32</a>
</span><span class=lnt id=hl-2-33><a class=lnlinks href=#hl-2-33> 33</a>
</span><span class=lnt id=hl-2-34><a class=lnlinks href=#hl-2-34> 34</a>
</span><span class=lnt id=hl-2-35><a class=lnlinks href=#hl-2-35> 35</a>
</span><span class=lnt id=hl-2-36><a class=lnlinks href=#hl-2-36> 36</a>
</span><span class=lnt id=hl-2-37><a class=lnlinks href=#hl-2-37> 37</a>
</span><span class=lnt id=hl-2-38><a class=lnlinks href=#hl-2-38> 38</a>
</span><span class=lnt id=hl-2-39><a class=lnlinks href=#hl-2-39> 39</a>
</span><span class=lnt id=hl-2-40><a class=lnlinks href=#hl-2-40> 40</a>
</span><span class=lnt id=hl-2-41><a class=lnlinks href=#hl-2-41> 41</a>
</span><span class=lnt id=hl-2-42><a class=lnlinks href=#hl-2-42> 42</a>
</span><span class=lnt id=hl-2-43><a class=lnlinks href=#hl-2-43> 43</a>
</span><span class=lnt id=hl-2-44><a class=lnlinks href=#hl-2-44> 44</a>
</span><span class=lnt id=hl-2-45><a class=lnlinks href=#hl-2-45> 45</a>
</span><span class=lnt id=hl-2-46><a class=lnlinks href=#hl-2-46> 46</a>
</span><span class=lnt id=hl-2-47><a class=lnlinks href=#hl-2-47> 47</a>
</span><span class=lnt id=hl-2-48><a class=lnlinks href=#hl-2-48> 48</a>
</span><span class=lnt id=hl-2-49><a class=lnlinks href=#hl-2-49> 49</a>
</span><span class=lnt id=hl-2-50><a class=lnlinks href=#hl-2-50> 50</a>
</span><span class=lnt id=hl-2-51><a class=lnlinks href=#hl-2-51> 51</a>
</span><span class=lnt id=hl-2-52><a class=lnlinks href=#hl-2-52> 52</a>
</span><span class=lnt id=hl-2-53><a class=lnlinks href=#hl-2-53> 53</a>
</span><span class=lnt id=hl-2-54><a class=lnlinks href=#hl-2-54> 54</a>
</span><span class=lnt id=hl-2-55><a class=lnlinks href=#hl-2-55> 55</a>
</span><span class=lnt id=hl-2-56><a class=lnlinks href=#hl-2-56> 56</a>
</span><span class=lnt id=hl-2-57><a class=lnlinks href=#hl-2-57> 57</a>
</span><span class=lnt id=hl-2-58><a class=lnlinks href=#hl-2-58> 58</a>
</span><span class=lnt id=hl-2-59><a class=lnlinks href=#hl-2-59> 59</a>
</span><span class=lnt id=hl-2-60><a class=lnlinks href=#hl-2-60> 60</a>
</span><span class=lnt id=hl-2-61><a class=lnlinks href=#hl-2-61> 61</a>
</span><span class=lnt id=hl-2-62><a class=lnlinks href=#hl-2-62> 62</a>
</span><span class=lnt id=hl-2-63><a class=lnlinks href=#hl-2-63> 63</a>
</span><span class=lnt id=hl-2-64><a class=lnlinks href=#hl-2-64> 64</a>
</span><span class=lnt id=hl-2-65><a class=lnlinks href=#hl-2-65> 65</a>
</span><span class=lnt id=hl-2-66><a class=lnlinks href=#hl-2-66> 66</a>
</span><span class=lnt id=hl-2-67><a class=lnlinks href=#hl-2-67> 67</a>
</span><span class=lnt id=hl-2-68><a class=lnlinks href=#hl-2-68> 68</a>
</span><span class=lnt id=hl-2-69><a class=lnlinks href=#hl-2-69> 69</a>
</span><span class=lnt id=hl-2-70><a class=lnlinks href=#hl-2-70> 70</a>
</span><span class=lnt id=hl-2-71><a class=lnlinks href=#hl-2-71> 71</a>
</span><span class=lnt id=hl-2-72><a class=lnlinks href=#hl-2-72> 72</a>
</span><span class=lnt id=hl-2-73><a class=lnlinks href=#hl-2-73> 73</a>
</span><span class=lnt id=hl-2-74><a class=lnlinks href=#hl-2-74> 74</a>
</span><span class=lnt id=hl-2-75><a class=lnlinks href=#hl-2-75> 75</a>
</span><span class=lnt id=hl-2-76><a class=lnlinks href=#hl-2-76> 76</a>
</span><span class=lnt id=hl-2-77><a class=lnlinks href=#hl-2-77> 77</a>
</span><span class=lnt id=hl-2-78><a class=lnlinks href=#hl-2-78> 78</a>
</span><span class=lnt id=hl-2-79><a class=lnlinks href=#hl-2-79> 79</a>
</span><span class=lnt id=hl-2-80><a class=lnlinks href=#hl-2-80> 80</a>
</span><span class=lnt id=hl-2-81><a class=lnlinks href=#hl-2-81> 81</a>
</span><span class=lnt id=hl-2-82><a class=lnlinks href=#hl-2-82> 82</a>
</span><span class=lnt id=hl-2-83><a class=lnlinks href=#hl-2-83> 83</a>
</span><span class=lnt id=hl-2-84><a class=lnlinks href=#hl-2-84> 84</a>
</span><span class=lnt id=hl-2-85><a class=lnlinks href=#hl-2-85> 85</a>
</span><span class=lnt id=hl-2-86><a class=lnlinks href=#hl-2-86> 86</a>
</span><span class=lnt id=hl-2-87><a class=lnlinks href=#hl-2-87> 87</a>
</span><span class=lnt id=hl-2-88><a class=lnlinks href=#hl-2-88> 88</a>
</span><span class=lnt id=hl-2-89><a class=lnlinks href=#hl-2-89> 89</a>
</span><span class=lnt id=hl-2-90><a class=lnlinks href=#hl-2-90> 90</a>
</span><span class=lnt id=hl-2-91><a class=lnlinks href=#hl-2-91> 91</a>
</span><span class=lnt id=hl-2-92><a class=lnlinks href=#hl-2-92> 92</a>
</span><span class=lnt id=hl-2-93><a class=lnlinks href=#hl-2-93> 93</a>
</span><span class=lnt id=hl-2-94><a class=lnlinks href=#hl-2-94> 94</a>
</span><span class=lnt id=hl-2-95><a class=lnlinks href=#hl-2-95> 95</a>
</span><span class=lnt id=hl-2-96><a class=lnlinks href=#hl-2-96> 96</a>
</span><span class=lnt id=hl-2-97><a class=lnlinks href=#hl-2-97> 97</a>
</span><span class=lnt id=hl-2-98><a class=lnlinks href=#hl-2-98> 98</a>
</span><span class=lnt id=hl-2-99><a class=lnlinks href=#hl-2-99> 99</a>
</span><span class=lnt id=hl-2-100><a class=lnlinks href=#hl-2-100>100</a>
</span><span class=lnt id=hl-2-101><a class=lnlinks href=#hl-2-101>101</a>
</span><span class=lnt id=hl-2-102><a class=lnlinks href=#hl-2-102>102</a>
</span><span class=lnt id=hl-2-103><a class=lnlinks href=#hl-2-103>103</a>
</span><span class=lnt id=hl-2-104><a class=lnlinks href=#hl-2-104>104</a>
</span><span class=lnt id=hl-2-105><a class=lnlinks href=#hl-2-105>105</a>
</span><span class=lnt id=hl-2-106><a class=lnlinks href=#hl-2-106>106</a>
</span><span class=lnt id=hl-2-107><a class=lnlinks href=#hl-2-107>107</a>
</span><span class=lnt id=hl-2-108><a class=lnlinks href=#hl-2-108>108</a>
</span><span class=lnt id=hl-2-109><a class=lnlinks href=#hl-2-109>109</a>
</span><span class=lnt id=hl-2-110><a class=lnlinks href=#hl-2-110>110</a>
</span><span class=lnt id=hl-2-111><a class=lnlinks href=#hl-2-111>111</a>
</span><span class=lnt id=hl-2-112><a class=lnlinks href=#hl-2-112>112</a>
</span><span class=lnt id=hl-2-113><a class=lnlinks href=#hl-2-113>113</a>
</span><span class=lnt id=hl-2-114><a class=lnlinks href=#hl-2-114>114</a>
</span><span class=lnt id=hl-2-115><a class=lnlinks href=#hl-2-115>115</a>
</span><span class=lnt id=hl-2-116><a class=lnlinks href=#hl-2-116>116</a>
</span><span class=lnt id=hl-2-117><a class=lnlinks href=#hl-2-117>117</a>
</span><span class=lnt id=hl-2-118><a class=lnlinks href=#hl-2-118>118</a>
</span><span class=lnt id=hl-2-119><a class=lnlinks href=#hl-2-119>119</a>
</span><span class=lnt id=hl-2-120><a class=lnlinks href=#hl-2-120>120</a>
</span><span class=lnt id=hl-2-121><a class=lnlinks href=#hl-2-121>121</a>
</span><span class=lnt id=hl-2-122><a class=lnlinks href=#hl-2-122>122</a>
</span><span class=lnt id=hl-2-123><a class=lnlinks href=#hl-2-123>123</a>
</span><span class=lnt id=hl-2-124><a class=lnlinks href=#hl-2-124>124</a>
</span><span class=lnt id=hl-2-125><a class=lnlinks href=#hl-2-125>125</a>
</span><span class=lnt id=hl-2-126><a class=lnlinks href=#hl-2-126>126</a>
</span><span class=lnt id=hl-2-127><a class=lnlinks href=#hl-2-127>127</a>
</span><span class=lnt id=hl-2-128><a class=lnlinks href=#hl-2-128>128</a>
</span><span class=lnt id=hl-2-129><a class=lnlinks href=#hl-2-129>129</a>
</span><span class=lnt id=hl-2-130><a class=lnlinks href=#hl-2-130>130</a>
</span><span class=lnt id=hl-2-131><a class=lnlinks href=#hl-2-131>131</a>
</span><span class=lnt id=hl-2-132><a class=lnlinks href=#hl-2-132>132</a>
</span><span class=lnt id=hl-2-133><a class=lnlinks href=#hl-2-133>133</a>
</span><span class=lnt id=hl-2-134><a class=lnlinks href=#hl-2-134>134</a>
</span><span class=lnt id=hl-2-135><a class=lnlinks href=#hl-2-135>135</a>
</span><span class=lnt id=hl-2-136><a class=lnlinks href=#hl-2-136>136</a>
</span><span class=lnt id=hl-2-137><a class=lnlinks href=#hl-2-137>137</a>
</span><span class=lnt id=hl-2-138><a class=lnlinks href=#hl-2-138>138</a>
</span><span class=lnt id=hl-2-139><a class=lnlinks href=#hl-2-139>139</a>
</span><span class=lnt id=hl-2-140><a class=lnlinks href=#hl-2-140>140</a>
</span><span class=lnt id=hl-2-141><a class=lnlinks href=#hl-2-141>141</a>
</span><span class=lnt id=hl-2-142><a class=lnlinks href=#hl-2-142>142</a>
</span><span class=lnt id=hl-2-143><a class=lnlinks href=#hl-2-143>143</a>
</span><span class=lnt id=hl-2-144><a class=lnlinks href=#hl-2-144>144</a>
</span><span class=lnt id=hl-2-145><a class=lnlinks href=#hl-2-145>145</a>
</span><span class=lnt id=hl-2-146><a class=lnlinks href=#hl-2-146>146</a>
</span><span class=lnt id=hl-2-147><a class=lnlinks href=#hl-2-147>147</a>
</span><span class=lnt id=hl-2-148><a class=lnlinks href=#hl-2-148>148</a>
</span><span class=lnt id=hl-2-149><a class=lnlinks href=#hl-2-149>149</a>
</span><span class=lnt id=hl-2-150><a class=lnlinks href=#hl-2-150>150</a>
</span><span class=lnt id=hl-2-151><a class=lnlinks href=#hl-2-151>151</a>
</span><span class=lnt id=hl-2-152><a class=lnlinks href=#hl-2-152>152</a>
</span><span class=lnt id=hl-2-153><a class=lnlinks href=#hl-2-153>153</a>
</span><span class=lnt id=hl-2-154><a class=lnlinks href=#hl-2-154>154</a>
</span><span class=lnt id=hl-2-155><a class=lnlinks href=#hl-2-155>155</a>
</span><span class=lnt id=hl-2-156><a class=lnlinks href=#hl-2-156>156</a>
</span><span class=lnt id=hl-2-157><a class=lnlinks href=#hl-2-157>157</a>
</span><span class=lnt id=hl-2-158><a class=lnlinks href=#hl-2-158>158</a>
</span><span class=lnt id=hl-2-159><a class=lnlinks href=#hl-2-159>159</a>
</span><span class=lnt id=hl-2-160><a class=lnlinks href=#hl-2-160>160</a>
</span><span class=lnt id=hl-2-161><a class=lnlinks href=#hl-2-161>161</a>
</span><span class=lnt id=hl-2-162><a class=lnlinks href=#hl-2-162>162</a>
</span><span class=lnt id=hl-2-163><a class=lnlinks href=#hl-2-163>163</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// IoT 디바이스에서 MQTT를 사용한 이벤트 기반 통신 예시 (Node.js)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>mqtt</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;mqtt&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>client</span> <span class=o>=</span> <span class=nx>mqtt</span><span class=p>.</span><span class=nx>connect</span><span class=p>(</span><span class=s1>&#39;mqtt://broker.example.com&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 온도 센서 이벤트 생산자
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>TemperatureSensor</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>constructor</span><span class=p>(</span><span class=nx>sensorId</span><span class=p>,</span> <span class=nx>location</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>sensorId</span> <span class=o>=</span> <span class=nx>sensorId</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>location</span> <span class=o>=</span> <span class=nx>location</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>connected</span> <span class=o>=</span> <span class=kc>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>interval</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>connect</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>client</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;connect&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`센서 </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>sensorId</span><span class=si>}</span><span class=sb> 연결됨`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>this</span><span class=p>.</span><span class=nx>connected</span> <span class=o>=</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>this</span><span class=p>.</span><span class=nx>startReporting</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>client</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;error&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=sb>`센서 </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>sensorId</span><span class=si>}</span><span class=sb> 연결 오류:`</span><span class=p>,</span> <span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>this</span><span class=p>.</span><span class=nx>connected</span> <span class=o>=</span> <span class=kc>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>startReporting</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>interval</span> <span class=o>=</span> <span class=nx>setInterval</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>connected</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>temperature</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>readTemperature</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>humidity</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>readHumidity</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>event</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>sensorId</span><span class=o>:</span> <span class=k>this</span><span class=p>.</span><span class=nx>sensorId</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>location</span><span class=o>:</span> <span class=k>this</span><span class=p>.</span><span class=nx>location</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>timestamp</span><span class=o>:</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>().</span><span class=nx>toISOString</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>          <span class=nx>readings</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>temperature</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>humidity</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 온도 이벤트 발행
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>client</span><span class=p>.</span><span class=nx>publish</span><span class=p>(</span>
</span></span><span class=line><span class=cl>          <span class=sb>`sensors/temperature/</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>sensorId</span><span class=si>}</span><span class=sb>`</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>event</span><span class=p>),</span>
</span></span><span class=line><span class=cl>          <span class=p>{</span> <span class=nx>qos</span><span class=o>:</span> <span class=mi>1</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`온도 이벤트 발행: </span><span class=si>${</span><span class=nx>temperature</span><span class=si>}</span><span class=sb>°C, </span><span class=si>${</span><span class=nx>humidity</span><span class=si>}</span><span class=sb>%`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 임계값 초과 시 알림 이벤트 발행
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=nx>temperature</span> <span class=o>&gt;</span> <span class=mi>30</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=kr>const</span> <span class=nx>alertEvent</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>sensorId</span><span class=o>:</span> <span class=k>this</span><span class=p>.</span><span class=nx>sensorId</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>location</span><span class=o>:</span> <span class=k>this</span><span class=p>.</span><span class=nx>location</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>timestamp</span><span class=o>:</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>().</span><span class=nx>toISOString</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>            <span class=nx>alertType</span><span class=o>:</span> <span class=s1>&#39;high-temperature&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>value</span><span class=o>:</span> <span class=nx>temperature</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>threshold</span><span class=o>:</span> <span class=mi>30</span>
</span></span><span class=line><span class=cl>          <span class=p>};</span>
</span></span><span class=line><span class=cl>          
</span></span><span class=line><span class=cl>          <span class=nx>client</span><span class=p>.</span><span class=nx>publish</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;alerts/temperature&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>alertEvent</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span> <span class=nx>qos</span><span class=o>:</span> <span class=mi>2</span> <span class=p>}</span> <span class=c1>// 중요 알림은 더 높은 QoS로 전송
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=p>);</span>
</span></span><span class=line><span class=cl>          
</span></span><span class=line><span class=cl>          <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`온도 경고 발행: </span><span class=si>${</span><span class=nx>temperature</span><span class=si>}</span><span class=sb>°C &gt; 30°C`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span> <span class=mi>60000</span><span class=p>);</span> <span class=c1>// 1분마다 보고
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>stopReporting</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>interval</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>clearInterval</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>interval</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>this</span><span class=p>.</span><span class=nx>interval</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>readTemperature</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 실제로는 센서 하드웨어에서 읽어오지만, 여기서는 시뮬레이션
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span> <span class=mi>20</span> <span class=o>+</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>random</span><span class=p>()</span> <span class=o>*</span> <span class=mi>15</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>readHumidity</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 습도 센서 시뮬레이션
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span> <span class=mi>40</span> <span class=o>+</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>random</span><span class=p>()</span> <span class=o>*</span> <span class=mi>30</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 온도 알림 이벤트 소비자
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>TemperatureAlertHandler</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>initialize</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>initialize</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>client</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;connect&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;알림 핸들러 연결됨&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>      <span class=c1>// 온도 알림 주제 구독
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nx>client</span><span class=p>.</span><span class=nx>subscribe</span><span class=p>(</span><span class=s1>&#39;alerts/temperature&#39;</span><span class=p>,</span> <span class=p>{</span> <span class=nx>qos</span><span class=o>:</span> <span class=mi>2</span> <span class=p>},</span> <span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>err</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;온도 알림 주제 구독 성공&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>client</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;message&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>topic</span><span class=p>,</span> <span class=nx>message</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>topic</span> <span class=o>===</span> <span class=s1>&#39;alerts/temperature&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=kr>const</span> <span class=nx>alertEvent</span> <span class=o>=</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>message</span><span class=p>.</span><span class=nx>toString</span><span class=p>());</span>
</span></span><span class=line><span class=cl>          <span class=k>this</span><span class=p>.</span><span class=nx>handleTemperatureAlert</span><span class=p>(</span><span class=nx>alertEvent</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;알림 처리 오류:&#39;</span><span class=p>,</span> <span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>handleTemperatureAlert</span><span class=p>(</span><span class=nx>alertEvent</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;온도 알림 수신:&#39;</span><span class=p>,</span> <span class=nx>alertEvent</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 실제로는 알림 발송, 대시보드 업데이트, 자동화된 조치 등을 수행
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`[긴급] </span><span class=si>${</span><span class=nx>alertEvent</span><span class=p>.</span><span class=nx>location</span><span class=si>}</span><span class=sb>의 온도가 </span><span class=si>${</span><span class=nx>alertEvent</span><span class=p>.</span><span class=nx>value</span><span class=si>}</span><span class=sb>°C로 임계값 </span><span class=si>${</span><span class=nx>alertEvent</span><span class=p>.</span><span class=nx>threshold</span><span class=si>}</span><span class=sb>°C를 초과했습니다.`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 알림 이벤트 기록
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>this</span><span class=p>.</span><span class=nx>logAlert</span><span class=p>(</span><span class=nx>alertEvent</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 냉각 시스템 작동 명령 이벤트 발행
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>this</span><span class=p>.</span><span class=nx>triggerCoolingSystem</span><span class=p>(</span><span class=nx>alertEvent</span><span class=p>.</span><span class=nx>location</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>logAlert</span><span class=p>(</span><span class=nx>alertEvent</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 알림 로깅 로직
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`알림 기록: </span><span class=si>${</span><span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>alertEvent</span><span class=p>)</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>triggerCoolingSystem</span><span class=p>(</span><span class=nx>location</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>command</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>timestamp</span><span class=o>:</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>().</span><span class=nx>toISOString</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>      <span class=nx>location</span><span class=o>:</span> <span class=nx>location</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>action</span><span class=o>:</span> <span class=s1>&#39;activate-cooling&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 냉각 시스템 명령 발행
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>client</span><span class=p>.</span><span class=nx>publish</span><span class=p>(</span>
</span></span><span class=line><span class=cl>      <span class=sb>`commands/cooling/</span><span class=si>${</span><span class=nx>location</span><span class=si>}</span><span class=sb>`</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>command</span><span class=p>),</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span> <span class=nx>qos</span><span class=o>:</span> <span class=mi>2</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=nx>location</span><span class=si>}</span><span class=sb>의 냉각 시스템 작동 명령 발행`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 사용 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>sensor1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>TemperatureSensor</span><span class=p>(</span><span class=s1>&#39;temp-001&#39;</span><span class=p>,</span> <span class=s1>&#39;서버실-A&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>alertHandler</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>TemperatureAlertHandler</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>sensor1</span><span class=p>.</span><span class=nx>connect</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=마이크로서비스-아키텍처>마이크로서비스 아키텍처<a hidden class=anchor aria-hidden=true href=#마이크로서비스-아키텍처>#</a></h4><p>마이크로서비스 간의 통신에서 이벤트 기반 API는 중요한 역할을 한다:</p><ul><li><strong>서비스 간 데이터 동기화</strong>: 각 서비스의 데이터 변경을 이벤트로 공유하여 동기화</li><li><strong>비즈니스 프로세스 조율</strong>: 여러 서비스에 걸친 작업 흐름을 이벤트로 조정</li><li><strong>장애 격리</strong>: 서비스 간 느슨한 결합을 통한 장애 전파 방지</li></ul><h4 id=실시간-분석-및-모니터링>실시간 분석 및 모니터링<a hidden class=anchor aria-hidden=true href=#실시간-분석-및-모니터링>#</a></h4><p>데이터 분석과 모니터링 시스템에서 이벤트 기반 API는 다음과 같이 활용된다:</p><ul><li><strong>로그 및 지표 수집</strong>: 시스템 전반의 로그와 지표를 이벤트로 수집하여 분석</li><li><strong>이상 감지</strong>: 비정상적인 패턴을 이벤트로 감지하고 대응</li><li><strong>실시간 대시보드</strong>: 이벤트 스트림을 기반으로 한 실시간 데이터 시각화</li></ul><h4 id=금융-시스템>금융 시스템<a hidden class=anchor aria-hidden=true href=#금융-시스템>#</a></h4><p>금융 서비스 분야에서는 다음과 같은 사례가 있다:</p><ul><li><strong>거래 처리</strong>: 금융 거래를 이벤트로 처리하고 관련 시스템에 전파</li><li><strong>사기 감지</strong>: 의심스러운 거래 패턴을 이벤트로 감지하고 분석</li><li><strong>규정 준수 및 감사</strong>: 모든 금융 활동을 이벤트로 기록하여 감사 추적 제공</li></ul><h4 id=전자상거래-플랫폼>전자상거래 플랫폼<a hidden class=anchor aria-hidden=true href=#전자상거래-플랫폼>#</a></h4><p>전자상거래에서는 다음과 같은 활용 사례가 있다:</p><ul><li><strong>재고 관리</strong>: 재고 변동을 이벤트로 처리하여 실시간 재고 상태 유지</li><li><strong>주문 처리 파이프라인</strong>: 주문 생성부터 배송까지의 과정을 이벤트로 조율</li><li><strong>개인화된 추천</strong>: 사용자 행동 이벤트를 기반으로 한 실시간 추천 서비스</li></ul><h4 id=소셜-미디어-플랫폼>소셜 미디어 플랫폼<a hidden class=anchor aria-hidden=true href=#소셜-미디어-플랫폼>#</a></h4><p>소셜 미디어에서는 다음과 같이 활용된다:</p><ul><li><strong>활동 피드 생성</strong>: 사용자 활동을 이벤트로 수집하여 개인화된 피드 구성</li><li><strong>알림 시스템</strong>: 다양한 상호작용 이벤트를 기반으로 한 사용자 알림</li><li><strong>콘텐츠 모더레이션</strong>: 새로운 콘텐츠 게시 이벤트에 대한 자동화된 검토 및 모더레이션</li></ul><h3 id=이벤트-기반-api-설계-모범-사례>이벤트 기반 API 설계 모범 사례<a hidden class=anchor aria-hidden=true href=#이벤트-기반-api-설계-모범-사례>#</a></h3><p>효과적인 이벤트 기반 API를 설계하기 위한 주요 모범 사례.</p><h4 id=이벤트-설계-원칙>이벤트 설계 원칙<a hidden class=anchor aria-hidden=true href=#이벤트-설계-원칙>#</a></h4><ol><li><p>명확한 이벤트 정의<br>이벤트는 명확하고 의미 있게 정의되어야 한다:</p><ul><li><strong>명확한 네이밍</strong>: 이벤트 유형은 과거 시제 동사로 명명(예: <code>UserRegistered</code>, <code>OrderPlaced</code>)</li><li><strong>목적성</strong>: 각 이벤트는 단일 목적을 가지고 명확한 비즈니스 의미를 담아야 함</li><li><strong>자급자족</strong>: 이벤트는 처리에 필요한 모든 정보를 포함해야 함</li></ul></li><li><p>이벤트 스키마 관리<br>이벤트 스키마는 체계적으로 관리되어야 한다:</p><ul><li><strong>명시적 스키마 정의</strong>: Avro, Protocol Buffers, JSON Schema 등을 사용한 명시적 스키마 정의</li><li><strong>버전 관리</strong>: 이벤트 스키마의 체계적인 버전 관리</li><li><strong>후방 호환성</strong>: 이벤트 스키마 변경 시 기존 소비자와의 호환성 유지</li></ul></li><li><p>멱등성(Idempotency) 보장<br>동일한 이벤트가 여러 번 처리되어도 결과가 동일해야 한다:</p><ul><li><strong>고유 식별자</strong>: 각 이벤트에 고유 식별자 할당</li><li><strong>멱등 처리</strong>: 소비자는 중복 이벤트를 식별하고 적절히 처리해야 함</li><li><strong>중복 제거</strong>: 필요한 경우 이벤트 채널에서 중복 제거 메커니즘 구현</li></ul></li></ol><h4 id=아키텍처-패턴>아키텍처 패턴<a hidden class=anchor aria-hidden=true href=#아키텍처-패턴>#</a></h4><ol><li><p>도메인 이벤트 패턴<br>도메인 중심 설계(DDD)에서 파생된 패턴으로, 중요한 비즈니스 변경을 이벤트로 캡처한다:</p><ul><li><strong>도메인 경계</strong>: 각 도메인 내에서 중요한 변경을 이벤트로 발행</li><li><strong>컨텍스트 매핑</strong>: 서로 다른 도메인 간의 관계를 이벤트를 통해 표현</li><li><strong>일관성 경계</strong>: 도메인 내 일관성과 도메인 간 최종 일관성 분리</li></ul></li><li><p>이벤트 매시(Event Mesh) 패턴<br>이벤트를 다양한 채널과 시스템 간에 동적으로 라우팅하는 패턴:</p><ul><li><strong>분산 이벤트 라우팅</strong>: 중앙화된 브로커 대신 분산된 이벤트 라우터 네트워크</li><li><strong>동적 라우팅 규칙</strong>: 이벤트 특성에 따른 동적 라우팅</li><li><strong>멀티 프로토콜 지원</strong>: 다양한 통신 프로토콜과 형식 간의 변환</li></ul></li><li><p>세그리게이션 패턴(Segregation Pattern)<br>명령과 쿼리를 분리하여 시스템의 복잡성을 관리하는 패턴:</p><ul><li><strong>명령 흐름</strong>: 상태를 변경하는 작업은 명령으로 처리</li><li><strong>쿼리 흐름</strong>: 데이터 조회는 별도의 최적화된 경로로 처리</li><li><strong>이벤트 기반 상태 전파</strong>: 명령 처리 결과를 이벤트로 전파하여 쿼리 모델 업데이트</li></ul></li></ol><h4 id=운영-고려사항>운영 고려사항<a hidden class=anchor aria-hidden=true href=#운영-고려사항>#</a></h4><ol><li><p>모니터링 및 관측성<br>이벤트 기반 시스템의 효과적인 운영을 위한 모니터링 전략:</p><ul><li><strong>이벤트 추적</strong>: 개별 이벤트의 흐름을 추적할 수 있는 상관관계 ID</li><li><strong>지표 수집</strong>: 이벤트 처리량, 지연 시간, 오류율 등의 핵심 지표 모니터링</li><li><strong>분산 추적</strong>: 이벤트가 여러 서비스를 통과하는 경로 추적</li></ul></li><li><p>장애 처리 전략<br>장애 상황에 대비한 강건한 전략 수립:</p><ul><li><strong>데드 레터 큐(DLQ)</strong>: 처리 실패한 이벤트를 저장하고 분석</li><li><strong>재시도 정책</strong>: 일시적 장애에 대한 체계적인 재시도 메커니즘</li><li><strong>서킷 브레이커</strong>: 반복적인 장애 시 시스템 보호를 위한 차단 기능</li></ul></li><li><p>확장성 계획<br>증가하는 부하에 대응하기 위한 확장 전략:</p><ul><li><strong>수평적 확장</strong>: 소비자 그룹을 통한 부하 분산</li><li><strong>파티셔닝</strong>: 이벤트 스트림의 효율적인 분할 및 병렬 처리</li><li><strong>백프레셔(Backpressure)</strong>: 과부하 상황에서 시스템 보호 메커니즘</li></ul></li><li><p>보안 고려사항<br>이벤트 기반 API에서도 보안은 중요한 고려사항이다:</p><ul><li><strong>인증 및 권한 부여</strong>: 이벤트 생산 및 소비에 대한 적절한 접근 제어</li><li><strong>메시지 무결성</strong>: 이벤트 내용이 전송 중에 변조되지 않도록 보호</li><li><strong>기밀성</strong>: 민감한 정보를 포함하는 이벤트의 암호화</li><li><strong>감사 및 규정 준수</strong>: 보안 관련 이벤트의 철저한 로깅 및 감사</li></ul></li></ol><h3 id=이벤트-기반-api의-미래-전망>이벤트 기반 API의 미래 전망<a hidden class=anchor aria-hidden=true href=#이벤트-기반-api의-미래-전망>#</a></h3><p>이벤트 기반 API 분야는 계속 발전하고 있으며, 다음과 같은 주요 트렌드와 미래 방향성이 관찰된다.</p><h4 id=서버리스-이벤트-처리>서버리스 이벤트 처리<a hidden class=anchor aria-hidden=true href=#서버리스-이벤트-처리>#</a></h4><p>서버리스 컴퓨팅과 이벤트 기반 아키텍처의 결합은 더욱 강화될 것으로 예상된다:</p><ul><li><strong>이벤트 트리거 함수</strong>: 이벤트가 발생할 때 자동으로 실행되는 서버리스 함수의 확산</li><li><strong>이벤트 중심 서버리스 워크플로우</strong>: 여러 함수를 이벤트로 연결하는 워크플로우 오케스트레이션</li><li><strong>자동 확장</strong>: 이벤트 볼륨에 따라 자동으로 확장되는 처리 리소스</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span><span class=lnt id=hl-3-12><a class=lnlinks href=#hl-3-12>12</a>
</span><span class=lnt id=hl-3-13><a class=lnlinks href=#hl-3-13>13</a>
</span><span class=lnt id=hl-3-14><a class=lnlinks href=#hl-3-14>14</a>
</span><span class=lnt id=hl-3-15><a class=lnlinks href=#hl-3-15>15</a>
</span><span class=lnt id=hl-3-16><a class=lnlinks href=#hl-3-16>16</a>
</span><span class=lnt id=hl-3-17><a class=lnlinks href=#hl-3-17>17</a>
</span><span class=lnt id=hl-3-18><a class=lnlinks href=#hl-3-18>18</a>
</span><span class=lnt id=hl-3-19><a class=lnlinks href=#hl-3-19>19</a>
</span><span class=lnt id=hl-3-20><a class=lnlinks href=#hl-3-20>20</a>
</span><span class=lnt id=hl-3-21><a class=lnlinks href=#hl-3-21>21</a>
</span><span class=lnt id=hl-3-22><a class=lnlinks href=#hl-3-22>22</a>
</span><span class=lnt id=hl-3-23><a class=lnlinks href=#hl-3-23>23</a>
</span><span class=lnt id=hl-3-24><a class=lnlinks href=#hl-3-24>24</a>
</span><span class=lnt id=hl-3-25><a class=lnlinks href=#hl-3-25>25</a>
</span><span class=lnt id=hl-3-26><a class=lnlinks href=#hl-3-26>26</a>
</span><span class=lnt id=hl-3-27><a class=lnlinks href=#hl-3-27>27</a>
</span><span class=lnt id=hl-3-28><a class=lnlinks href=#hl-3-28>28</a>
</span><span class=lnt id=hl-3-29><a class=lnlinks href=#hl-3-29>29</a>
</span><span class=lnt id=hl-3-30><a class=lnlinks href=#hl-3-30>30</a>
</span><span class=lnt id=hl-3-31><a class=lnlinks href=#hl-3-31>31</a>
</span><span class=lnt id=hl-3-32><a class=lnlinks href=#hl-3-32>32</a>
</span><span class=lnt id=hl-3-33><a class=lnlinks href=#hl-3-33>33</a>
</span><span class=lnt id=hl-3-34><a class=lnlinks href=#hl-3-34>34</a>
</span><span class=lnt id=hl-3-35><a class=lnlinks href=#hl-3-35>35</a>
</span><span class=lnt id=hl-3-36><a class=lnlinks href=#hl-3-36>36</a>
</span><span class=lnt id=hl-3-37><a class=lnlinks href=#hl-3-37>37</a>
</span><span class=lnt id=hl-3-38><a class=lnlinks href=#hl-3-38>38</a>
</span><span class=lnt id=hl-3-39><a class=lnlinks href=#hl-3-39>39</a>
</span><span class=lnt id=hl-3-40><a class=lnlinks href=#hl-3-40>40</a>
</span><span class=lnt id=hl-3-41><a class=lnlinks href=#hl-3-41>41</a>
</span><span class=lnt id=hl-3-42><a class=lnlinks href=#hl-3-42>42</a>
</span><span class=lnt id=hl-3-43><a class=lnlinks href=#hl-3-43>43</a>
</span><span class=lnt id=hl-3-44><a class=lnlinks href=#hl-3-44>44</a>
</span><span class=lnt id=hl-3-45><a class=lnlinks href=#hl-3-45>45</a>
</span><span class=lnt id=hl-3-46><a class=lnlinks href=#hl-3-46>46</a>
</span><span class=lnt id=hl-3-47><a class=lnlinks href=#hl-3-47>47</a>
</span><span class=lnt id=hl-3-48><a class=lnlinks href=#hl-3-48>48</a>
</span><span class=lnt id=hl-3-49><a class=lnlinks href=#hl-3-49>49</a>
</span><span class=lnt id=hl-3-50><a class=lnlinks href=#hl-3-50>50</a>
</span><span class=lnt id=hl-3-51><a class=lnlinks href=#hl-3-51>51</a>
</span><span class=lnt id=hl-3-52><a class=lnlinks href=#hl-3-52>52</a>
</span><span class=lnt id=hl-3-53><a class=lnlinks href=#hl-3-53>53</a>
</span><span class=lnt id=hl-3-54><a class=lnlinks href=#hl-3-54>54</a>
</span><span class=lnt id=hl-3-55><a class=lnlinks href=#hl-3-55>55</a>
</span><span class=lnt id=hl-3-56><a class=lnlinks href=#hl-3-56>56</a>
</span><span class=lnt id=hl-3-57><a class=lnlinks href=#hl-3-57>57</a>
</span><span class=lnt id=hl-3-58><a class=lnlinks href=#hl-3-58>58</a>
</span><span class=lnt id=hl-3-59><a class=lnlinks href=#hl-3-59>59</a>
</span><span class=lnt id=hl-3-60><a class=lnlinks href=#hl-3-60>60</a>
</span><span class=lnt id=hl-3-61><a class=lnlinks href=#hl-3-61>61</a>
</span><span class=lnt id=hl-3-62><a class=lnlinks href=#hl-3-62>62</a>
</span><span class=lnt id=hl-3-63><a class=lnlinks href=#hl-3-63>63</a>
</span><span class=lnt id=hl-3-64><a class=lnlinks href=#hl-3-64>64</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// AWS Lambda와 EventBridge를 사용한 서버리스 이벤트 처리 예시
</span></span></span><span class=line><span class=cl><span class=c1>// Lambda 함수 (index.js)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>exports</span><span class=p>.</span><span class=nx>handler</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;이벤트 수신:&#39;</span><span class=p>,</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>event</span><span class=p>,</span> <span class=kc>null</span><span class=p>,</span> <span class=mi>2</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 이벤트 유형에 따른 처리
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>if</span> <span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>source</span> <span class=o>===</span> <span class=s1>&#39;order-service&#39;</span> <span class=o>&amp;&amp;</span> <span class=nx>event</span><span class=p>.</span><span class=nx>detail</span><span class=o>-</span><span class=nx>type</span> <span class=o>===</span> <span class=s1>&#39;OrderPlaced&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 주문 처리 로직
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>await</span> <span class=nx>processOrder</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>detail</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 후속 이벤트 발행
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>await</span> <span class=nx>publishEvent</span><span class=p>({</span>
</span></span><span class=line><span class=cl>      <span class=nx>source</span><span class=o>:</span> <span class=s1>&#39;order-processor&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>detailType</span><span class=o>:</span> <span class=s1>&#39;OrderProcessed&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>detail</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>orderId</span><span class=o>:</span> <span class=nx>event</span><span class=p>.</span><span class=nx>detail</span><span class=p>.</span><span class=nx>orderId</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>status</span><span class=o>:</span> <span class=s1>&#39;processed&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>processingTime</span><span class=o>:</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>().</span><span class=nx>toISOString</span><span class=p>()</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>statusCode</span><span class=o>:</span> <span class=mi>200</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>body</span><span class=o>:</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=s1>&#39;주문 처리 완료&#39;</span><span class=p>,</span> <span class=nx>orderId</span><span class=o>:</span> <span class=nx>event</span><span class=p>.</span><span class=nx>detail</span><span class=p>.</span><span class=nx>orderId</span> <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>statusCode</span><span class=o>:</span> <span class=mi>400</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>body</span><span class=o>:</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=s1>&#39;지원되지 않는 이벤트 유형&#39;</span> <span class=p>})</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 주문 처리 함수
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>async</span> <span class=kd>function</span> <span class=nx>processOrder</span><span class=p>(</span><span class=nx>orderDetails</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`주문 </span><span class=si>${</span><span class=nx>orderDetails</span><span class=p>.</span><span class=nx>orderId</span><span class=si>}</span><span class=sb> 처리 중...`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 실제 처리 로직 구현
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 이벤트 발행 함수
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>async</span> <span class=kd>function</span> <span class=nx>publishEvent</span><span class=p>(</span><span class=nx>eventData</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>AWS</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;aws-sdk&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>eventBridge</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>AWS</span><span class=p>.</span><span class=nx>EventBridge</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>params</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>Entries</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>Source</span><span class=o>:</span> <span class=nx>eventData</span><span class=p>.</span><span class=nx>source</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>DetailType</span><span class=o>:</span> <span class=nx>eventData</span><span class=p>.</span><span class=nx>detailType</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>Detail</span><span class=o>:</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>eventData</span><span class=p>.</span><span class=nx>detail</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=nx>EventBusName</span><span class=o>:</span> <span class=s1>&#39;default&#39;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>eventBridge</span><span class=p>.</span><span class=nx>putEvents</span><span class=p>(</span><span class=nx>params</span><span class=p>).</span><span class=nx>promise</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;이벤트 발행 성공:&#39;</span><span class=p>,</span> <span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;이벤트 발행 오류:&#39;</span><span class=p>,</span> <span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>throw</span> <span class=nx>error</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=에지-컴퓨팅-통합>에지 컴퓨팅 통합<a hidden class=anchor aria-hidden=true href=#에지-컴퓨팅-통합>#</a></h4><p>에지 컴퓨팅과 이벤트 기반 아키텍처의 결합이 증가할 것으로 예상된다:</p><ul><li><strong>로컬 이벤트 처리</strong>: 에지 디바이스에서의 로컬 이벤트 처리 및 필터링</li><li><strong>하이브리드 이벤트 라우팅</strong>: 에지와 클라우드 간의 지능적인 이벤트 라우팅</li><li><strong>분산 이벤트 저장소</strong>: 에지 노드에 분산된 이벤트 저장 및 동기화</li></ul><h4 id=실시간-aiml-통합>실시간 AI/ML 통합<a hidden class=anchor aria-hidden=true href=#실시간-aiml-통합>#</a></h4><p>이벤트 스트림에 인공지능과 머신러닝을 적용하는 추세가 강화된다:</p><ul><li><strong>스트림 분석</strong>: 이벤트 스트림에 대한 실시간 머신러닝 모델 적용</li><li><strong>지능형 이벤트 필터링</strong>: AI를 활용한 중요 이벤트 식별 및 우선순위 지정</li><li><strong>이상 감지</strong>: 정상적인 이벤트 패턴에서 벗어난 이상 징후 자동 감지</li></ul><h4 id=이벤트-표준화>이벤트 표준화<a hidden class=anchor aria-hidden=true href=#이벤트-표준화>#</a></h4><p>이벤트 기반 통신을 위한 표준과 사양이 더욱 발전할 것이다:</p><ul><li><strong>클라우드 이벤트(CloudEvents)</strong>: CNCF의 CloudEvents 사양의 광범위한 채택</li><li><strong>이벤트 스키마 레지스트리</strong>: 중앙화된 이벤트 스키마 관리 및 검색</li><li><strong>AsyncAPI 성숙</strong>: AsyncAPI 사양의 발전과 도구 생태계 확장</li></ul><h4 id=이벤트-메시-아키텍처>이벤트 메시 아키텍처<a hidden class=anchor aria-hidden=true href=#이벤트-메시-아키텍처>#</a></h4><p>분산 이벤트 라우팅을 위한 이벤트 메시 아키텍처가 발전할 것:</p><ul><li><strong>글로벌 이벤트 분배</strong>: 지역과 클라우드 제공업체 간의 이벤트 라우팅</li><li><strong>정책 기반 라우팅</strong>: 동적 정책에 기반한 이벤트 필터링 및 라우팅</li><li><strong>이벤트 변환</strong>: 서로 다른 형식과 프로토콜 간의 이벤트 변환</li></ul><h4 id=양자-컴퓨팅-활용>양자 컴퓨팅 활용<a hidden class=anchor aria-hidden=true href=#양자-컴퓨팅-활용>#</a></h4><p>장기적으로는 양자 컴퓨팅이 이벤트 처리 분야에 영향을 미칠 수 있다:</p><ul><li><strong>복잡한 이벤트 패턴 분석</strong>: 양자 알고리즘을 통한 이벤트 스트림 분석</li><li><strong>암호화 강화</strong>: 양자 안전 암호화를 통한 이벤트 보안 강화</li><li><strong>최적화 문제</strong>: 이벤트 라우팅 및 처리 최적화를 위한 양자 알고리즘</li></ul><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/backend-development/>Backend-Development</a></li><li><a href=https://buenhyden.github.io/tags/api-design-and-implementation/>API-Design-and-Implementation</a></li><li><a href=https://buenhyden.github.io/tags/real-time-apis/>Real-Time-APIs</a></li><li><a href=https://buenhyden.github.io/tags/types/>Types</a></li><li><a href=https://buenhyden.github.io/tags/event-driven-apis/>Event-Driven-APIs</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/software-engineering/application-development/backend-development-fundamentals/request-response-cycle/streaming/streaming-apis/><span class=title>« Prev</span><br><span>Streaming APIs</span>
</a><a class=next href=https://buenhyden.github.io/posts/software-engineering/application-development/api-design-and-implementation/api-styles/event-based-style/pub-sub-apis/><span class=title>Next »</span><br><span>Pub/Sub APIs</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>