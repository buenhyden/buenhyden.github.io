<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Builder Pattern | hyunyoun's Blog</title><meta name=keywords content="Software-Engineering,Design-and-Architecture,Software-Design-Patterns,GoF,Creational,Builder-Pattern,Step-by-Step-Construction"><meta name=description content="빌더 패턴은 복잡한 객체를 단계별로 생성하며, 생성 과정과 표현 방법을 분리해 다양한 조합의 객체 생성을 유연하게 지원하는 생성 패턴이다. 매개변수가 많거나 생성 절차가 복잡한 객체에 효과적이며, 코드 가독성, 유지보수성, 불변성 보장에 유리하다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/software-engineering/software-design-and-architecture/software-design-patterns/classic-design-patterns/gof/creational/builder-pattern/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/software-engineering/software-design-and-architecture/software-design-patterns/classic-design-patterns/gof/creational/builder-pattern/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/software-engineering/software-design-and-architecture/software-design-patterns/classic-design-patterns/gof/creational/builder-pattern/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/software-engineering/software-design-and-architecture/software-design-patterns/classic-design-patterns/gof/creational/builder-pattern/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Builder Pattern"><meta property="og:description" content="빌더 패턴은 복잡한 객체를 단계별로 생성하며, 생성 과정과 표현 방법을 분리해 다양한 조합의 객체 생성을 유연하게 지원하는 생성 패턴이다. 매개변수가 많거나 생성 절차가 복잡한 객체에 효과적이며, 코드 가독성, 유지보수성, 불변성 보장에 유리하다."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Builder Pattern"><meta name=twitter:description content="빌더 패턴은 복잡한 객체를 단계별로 생성하며, 생성 과정과 표현 방법을 분리해 다양한 조합의 객체 생성을 유연하게 지원하는 생성 패턴이다. 매개변수가 많거나 생성 절차가 복잡한 객체에 효과적이며, 코드 가독성, 유지보수성, 불변성 보장에 유리하다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"HY's Blog","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Software Engineering","item":""},{"@type":"ListItem","position":3,"name":"Software Design and Architecture","item":""},{"@type":"ListItem","position":4,"name":"Software Design Patterns","item":"https://buenhyden.github.io/posts/software-engineering/software-design-and-architecture/software-design-patterns/"},{"@type":"ListItem","position":5,"name":"Classic Design Patterns","item":""},{"@type":"ListItem","position":6,"name":"GoF","item":"https://buenhyden.github.io/posts/software-engineering/software-design-and-architecture/software-design-patterns/classic-design-patterns/gof/"},{"@type":"ListItem","position":7,"name":"Creational","item":"https://buenhyden.github.io/posts/software-engineering/software-design-and-architecture/software-design-patterns/classic-design-patterns/gof/creational/"},{"@type":"ListItem","position":8,"name":"Builder Pattern","item":"https://buenhyden.github.io/posts/software-engineering/software-design-and-architecture/software-design-patterns/classic-design-patterns/gof/creational/builder-pattern/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>HY's Blog</a>&nbsp;»&nbsp;<a href>Software Engineering</a>&nbsp;»&nbsp;<a href>Software Design and Architecture</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-engineering/software-design-and-architecture/software-design-patterns/>Software Design Patterns</a>&nbsp;»&nbsp;<a href>Classic Design Patterns</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-engineering/software-design-and-architecture/software-design-patterns/classic-design-patterns/gof/>GoF</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-engineering/software-design-and-architecture/software-design-patterns/classic-design-patterns/gof/creational/>Creational</a></div><h1>Builder Pattern</h1><div class=post-description>빌더 패턴은 복잡한 객체를 단계별로 생성하며, 생성 과정과 표현 방법을 분리해 다양한 조합의 객체 생성을 유연하게 지원하는 생성 패턴이다. 매개변수가 많거나 생성 절차가 복잡한 객체에 효과적이며, 코드 가독성, 유지보수성, 불변성 보장에 유리하다.</div></header><div class=post-content><h2 id=builder-pattern>Builder Pattern<a hidden class=anchor aria-hidden=true href=#builder-pattern>#</a></h2><p>Builder Pattern 은 복잡한 객체 생성 문제를 해결하는 창조적 디자인 패턴으로, Director, Builder, ConcreteBuilder, Product 의 4 가지 핵심 구성요소를 통해 단계별 객체 구성을 지원한다. 생성자 오버로딩 문제를 해결하고 불변 객체 생성을 가능하게 하며, 플루언트 인터페이스를 통한 메서드 체이닝으로 코드 가독성을 크게 향상시킨다. 현대 프레임워크와 라이브러리에서 널리 활용되고 있다.</p><h3 id=배경>배경<a hidden class=anchor aria-hidden=true href=#배경>#</a></h3><p>Builder Pattern 은 다음과 같은 문제를 해결하기 위해 등장했다:</p><ol><li><strong>점층적 생성자 패턴 (Telescoping Constructor Pattern) 의 한계</strong><ul><li>매개변수가 많아질수록 가독성 저하</li><li>매개변수 순서 기억의 어려움</li><li>코드 유지보수성 문제</li></ul></li><li><strong>자바빈 패턴 (JavaBeans Pattern) 의 문제점</strong><ul><li>객체 일관성 (Consistency) 깨짐</li><li>불변 객체 생성 불가</li><li>스레드 안전성 문제</li></ul></li></ol><h3 id=목적-및-필요성>목적 및 필요성<a hidden class=anchor aria-hidden=true href=#목적-및-필요성>#</a></h3><p><strong>주요 목적</strong>:</p><ol><li><strong>구성과 표현의 분리</strong>: 객체 생성 로직을 별도로 관리</li><li><strong>단계적 구성</strong>: 복잡한 객체를 단계별로 안전하게 생성</li><li><strong>코드 가독성 향상</strong>: 직관적인 객체 생성 API 제공</li><li><strong>유연성 확보</strong>: 다양한 구성 옵션 지원</li></ol><p><strong>필요성</strong>:</p><ul><li>복잡한 도메인 객체 생성 시 필수</li><li>API 설계에서 사용자 친화적 인터페이스 제공</li><li>테스트 코드에서 객체 생성의 명확성 확보</li><li>설정 관리 시스템에서의 체계적 접근</li></ul><h3 id=핵심-개념>핵심 개념<a hidden class=anchor aria-hidden=true href=#핵심-개념>#</a></h3><p>Builder Pattern 은 복잡한 객체의 생성 과정을 단계별로 분리하여, 동일한 생성 절차에서 다양한 표현의 객체를 생성할 수 있도록 하는 생성 패턴이다. 객체 생성이 여러 단계로 나뉘거나, 다양한 조합의 옵션이 존재할 때 적합하다.</p><ul><li><strong>복잡한 객체의 생성과 표현을 분리</strong>하는 패턴</li><li><strong>단계별 객체 생성</strong>을 통한 유연성 제공</li><li><strong>동일한 생성 과정</strong>으로 <strong>다양한 표현</strong> 가능</li></ul><h4 id=핵심-정의>핵심 정의<a hidden class=anchor aria-hidden=true href=#핵심-정의>#</a></h4><ul><li><strong>분리의 원칙</strong>: 객체 생성 과정과 객체의 표현을 분리</li><li><strong>단계적 구성</strong>: 복잡한 객체를 단계별로 구성</li><li><strong>다형성 지원</strong>: 동일한 구성 과정으로 다양한 객체 생성</li><li><strong>캡슐화</strong>: 구성 로직을 별도의 빌더 클래스에 캡슐화</li></ul><h4 id=의도>의도<a hidden class=anchor aria-hidden=true href=#의도>#</a></h4><p>복잡한 객체의 생성 과정과 표현 방법을 분리하여, 동일한 생성 절차로 다양한 형태의 객체를 단계별로 생성할 수 있도록 한다.</p><h4 id=다른-이름-also-known-as>다른 이름 (Also Known As)<a hidden class=anchor aria-hidden=true href=#다른-이름-also-known-as>#</a></h4><ul><li>생성자 체이닝 패턴 (Constructor Chaining Pattern)</li><li>점층적 생성자 패턴 (Telescoping Constructor Pattern, 대체/극복 패턴)</li></ul><h4 id=동기-motivation--forces>동기 (Motivation / Forces)<a hidden class=anchor aria-hidden=true href=#동기-motivation--forces>#</a></h4><ul><li>생성자 매개변수가 많거나, 선택적/필수 매개변수 혼합 시 코드 복잡성 증가</li><li>생성자/자바빈 패턴의 단점 (순서 오류, 불변성 미보장, 일관성 깨짐) 극복</li><li>복잡한 객체의 단계별 생성 및 다양한 조합 지원 필요.</li></ul><h4 id=적용-가능성-applicability>적용 가능성 (Applicability)<a hidden class=anchor aria-hidden=true href=#적용-가능성-applicability>#</a></h4><ul><li>매개변수가 많거나 선택적/필수 매개변수 혼합 객체 생성</li><li>불변 객체 생성, 복잡한 DTO, 설정 객체, 테스트 데이터 생성</li><li>생성 과정이 단계별로 분리될 필요가 있을 때.</li></ul><h4 id=619-패턴이-해결하고자-하는-설계-문제>6.19 패턴이 해결하고자 하는 설계 문제<a hidden class=anchor aria-hidden=true href=#619-패턴이-해결하고자-하는-설계-문제>#</a></h4><p><strong>핵심 설계 문제들</strong>:</p><ol><li><p><strong>생성자 매개변수 급증 문제 (Telescoping Constructor Problem)</strong></p><ul><li>여러 개의 선택적 매개변수로 인한 생성자 오버로딩</li><li>매개변수 순서 혼동 및 가독성 저하</li></ul></li><li><p><strong>객체 상태 불일치 문제</strong></p><ul><li>부분적으로 초기화된 객체의 위험성</li><li>유효하지 않은 상태의 객체 생성 가능성</li></ul></li><li><p><strong>불변 객체 생성의 어려움</strong></p><ul><li>복잡한 불변 객체 생성 시 중간 상태 노출</li><li>스레드 안전성 확보의 복잡성</li></ul></li></ol><h4 id=관련-패턴-related-patterns>관련 패턴 (Related Patterns)<a hidden class=anchor aria-hidden=true href=#관련-패턴-related-patterns>#</a></h4><ul><li><strong>Abstract Factory</strong>: 제품군 생성 vs 단일 복잡 객체 생성</li><li><strong>Composite</strong>: 복합 객체 구조 생성 시 활용</li><li><strong>Factory Method</strong>: 단순 생성 → 복잡 생성으로의 진화</li><li><strong>Prototype</strong>: 복제 기반 vs 생성 기반 접근</li></ul><h4 id=622-유사하거나-관련된-패턴들>6.22 유사하거나 관련된 패턴들<a hidden class=anchor aria-hidden=true href=#622-유사하거나-관련된-패턴들>#</a></h4><table><thead><tr><th>패턴명</th><th>관계</th><th>차이점</th><th>결합 사용</th></tr></thead><tbody><tr><td><strong>Factory Method</strong></td><td>대체 관계</td><td>Factory 는 즉시 생성, Builder 는 단계적 생성</td><td>빌더 생성 시 Factory Method 활용</td></tr><tr><td><strong>Abstract Factory</strong></td><td>보완 관계</td><td>Abstract Factory 는 관련 객체군 생성</td><td>복잡한 객체 계층에서 함께 사용</td></tr><tr><td><strong>Prototype</strong></td><td>대체 관계</td><td>Prototype 은 복제 기반, Builder 는 구성 기반</td><td>기본 템플릿 복제 후 빌더로 커스터마이징</td></tr><tr><td><strong>Composite</strong></td><td>결합 관계</td><td>Composite 트리 구조를 Builder 로 생성</td><td>복잡한 트리 구조 객체 생성 시</td></tr><tr><td><strong>Strategy</strong></td><td>결합 관계</td><td>빌드 전략을 Strategy 패턴으로 구현</td><td>다양한 빌드 알고리즘 선택 시</td></tr></tbody></table><h4 id=실무-구현-연관성>실무 구현 연관성<a hidden class=anchor aria-hidden=true href=#실무-구현-연관성>#</a></h4><p><strong>객체 생성 최적화 측면</strong>:</p><ul><li>불변 객체 (Immutable Object) 패턴과의 연계</li><li>팩토리 패턴과의 차별화된 역할 분담</li><li>유효성 검증 로직의 중앙화</li></ul><p><strong>코드 품질 향상 측면</strong>:</p><ul><li>플루언트 인터페이스 (Fluent Interface) 구현</li><li>메서드 체이닝 (Method Chaining) 을 통한 가독성 향상</li><li>선택적 매개변수 처리의 체계화</li></ul><p><strong>아키텍처 설계 측면</strong>:</p><ul><li>Domain-Driven Design (DDD) 에서의 Aggregate 생성</li><li>마이크로서비스 아키텍처에서의 DTO 생성</li><li>설정 객체 (Configuration Object) 패턴과의 결합</li></ul><h3 id=주요-기능-및-역할>주요 기능 및 역할<a hidden class=anchor aria-hidden=true href=#주요-기능-및-역할>#</a></h3><p><strong>핵심 기능</strong>:</p><ol><li><p><strong>단계별 객체 구성</strong></p><ul><li>필수 속성과 선택적 속성의 구분</li><li>속성 설정 순서의 유연성 제공</li><li>중간 상태 검증 가능</li></ul></li><li><p><strong>다양한 표현 생성</strong></p><ul><li>동일한 구성 과정으로 다른 형태의 객체 생성</li><li>구성 옵션에 따른 객체 변형</li><li>조건부 속성 설정</li></ul></li><li><p><strong>유효성 검증</strong></p><ul><li>빌드 단계에서의 일괄 검증</li><li>비즈니스 규칙 적용</li><li>에러 처리의 중앙화</li></ul></li></ol><h3 id=특징>특징<a hidden class=anchor aria-hidden=true href=#특징>#</a></h3><table><thead><tr><th>구분</th><th>특징</th><th>설명</th></tr></thead><tbody><tr><td>구조적</td><td>분리된 구성</td><td>객체 생성 로직이 별도 클래스로 분리</td></tr><tr><td>행위적</td><td>단계적 구성</td><td>객체를 단계별로 구성하는 방식</td></tr><tr><td>인터페이스</td><td>플루언트 API</td><td>메서드 체이닝을 통한 직관적 사용</td></tr><tr><td>유연성</td><td>다형성 지원</td><td>다양한 빌더 구현체 지원</td></tr><tr><td>안전성</td><td>불변성 보장</td><td>완성된 객체의 불변성 확보</td></tr></tbody></table><h3 id=핵심-원칙>핵심 원칙<a hidden class=anchor aria-hidden=true href=#핵심-원칙>#</a></h3><ol><li><p><strong>Single Responsibility Principle (SRP)</strong></p><ul><li>빌더는 객체 생성에만 집중</li><li>각 빌더는 특정 타입의 객체 생성 담당</li></ul></li><li><p><strong>Open/Closed Principle (OCP)</strong></p><ul><li>새로운 빌더 추가 시 기존 코드 수정 불필요</li><li>확장에는 열려있고 변경에는 닫혀있음</li></ul></li><li><p><strong>Dependency Inversion Principle (DIP)</strong></p><ul><li>클라이언트는 구체적 빌더가 아닌 인터페이스에 의존</li><li>구현체 변경 시 클라이언트 코드 영향 최소화</li></ul></li></ol><h3 id=주요-원리>주요 원리<a hidden class=anchor aria-hidden=true href=#주요-원리>#</a></h3><ol><li><strong>위임 원리</strong>: Director 가 Builder 에게 구성 작업 위임</li><li><strong>추상화 원리</strong>: Builder 인터페이스를 통한 구현체 추상화</li><li><strong>조합 원리</strong>: 여러 구성 요소를 조합하여 최종 객체 생성</li><li><strong>캡슐화 원리</strong>: 구성 로직을 빌더 내부에 캡슐화</li></ol><h4 id=패턴-적용의-결과와-트레이드오프>패턴 적용의 결과와 트레이드오프<a hidden class=anchor aria-hidden=true href=#패턴-적용의-결과와-트레이드오프>#</a></h4><p><strong>긍정적 결과</strong>:</p><ul><li>코드 가독성 및 유지보수성 향상</li><li>객체 생성 과정의 표준화</li><li>다양한 객체 표현 생성 가능</li><li>불변 객체 생성 지원</li></ul><p><strong>트레이드오프</strong>:</p><ul><li>코드 복잡성 증가 vs 유연성 확보</li><li>성능 오버헤드 vs 안전성 보장</li><li>개발 시간 증가 vs 장기적 유지보수 비용 절감</li></ul><h3 id=구조-및-아키텍처>구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#구조-및-아키텍처>#</a></h3><pre class=mermaid>classDiagram
    class Director {
        -builder: Builder
        +construct()
        +setBuilder(builder: Builder)
    }
    
    class Builder {
        &lt;&lt;interface&gt;&gt;
        +buildPartA()
        +buildPartB()
        +buildPartC()
        +getResult() Product
    }
    
    class ConcreteBuilderA {
        -product: ProductA
        +buildPartA()
        +buildPartB()
        +buildPartC()
        +getResult() ProductA
    }
    
    class ConcreteBuilderB {
        -product: ProductB
        +buildPartA()
        +buildPartB()
        +buildPartC()
        +getResult() ProductB
    }
    
    class Product {
        &lt;&lt;abstract&gt;&gt;
    }
    
    class ProductA {
        -partA: String
        -partB: String
        -partC: String
    }
    
    class ProductB {
        -partA: Integer
        -partB: Boolean
        -partC: Object
    }
    
    Director --&gt; Builder
    Builder &lt;|-- ConcreteBuilderA
    Builder &lt;|-- ConcreteBuilderB
    ConcreteBuilderA --&gt; ProductA
    ConcreteBuilderB --&gt; ProductB
    Product &lt;|-- ProductA
    Product &lt;|-- ProductB
</pre><h4 id=구성요소>구성요소<a hidden class=anchor aria-hidden=true href=#구성요소>#</a></h4><table><thead><tr><th><strong>구성요소</strong></th><th><strong>기능</strong></th><th><strong>역할</strong></th><th><strong>특징/활용 시기</strong></th></tr></thead><tbody><tr><td><strong>Builder (Interface)</strong></td><td>빌드 메서드 정의</td><td>공통된 빌드 인터페이스 제공</td><td>필수 구성요소. 다양한 ConcreteBuilder 에 대한 계약 역할 수행</td></tr><tr><td><strong>ConcreteBuilder</strong></td><td>구체적 빌드 구현</td><td>실제 객체 생성 로직 수행</td><td>필수 구성요소. 제품 속성에 따라 다양한 구현 가능</td></tr><tr><td><strong>Product</strong></td><td>최종 객체 생성</td><td>빌더가 조립하는 결과물 객체</td><td>필수 구성요소. 복잡한 내부 구조를 가질 수 있음</td></tr><tr><td><strong>Director</strong></td><td>빌드 순서 제어</td><td>빌드 프로세스 관리 및 표준화</td><td><strong>선택 구성요소.</strong> 복잡한 빌드 순서를 클라이언트에서 분리할 필요가 있을 때 사용</td></tr><tr><td><strong>Abstract Product</strong></td><td>제품 타입 추상화</td><td>다양한 제품 유형에 대한 공통 인터페이스 정의</td><td>선택 구성요소. 여러 제품군 생성 시 활용</td></tr><tr><td><strong>Builder Factory</strong></td><td>빌더 인스턴스 생성/선택 관리</td><td>상황에 맞는 빌더 생성 및 선택 제어</td><td>선택 구성요소. 설정 기반 동적 선택, 전략 패턴과 연계 가능</td></tr></tbody></table><h4 id=설계-구조와-관계>설계 구조와 관계<a hidden class=anchor aria-hidden=true href=#설계-구조와-관계>#</a></h4><p>Builder Pattern 의 설계 구조는 다음과 같은 관계를 형성한다:</p><pre class=mermaid>graph LR
    subgraph &#34;Client Layer&#34;
        CL[Client Code]
    end
    
    subgraph &#34;Builder Layer&#34;
        DIR[Director]
        BI[Builder Interface]
        CB1[ConcreteBuilder A]
        CB2[ConcreteBuilder B]
    end
    
    subgraph &#34;Product Layer&#34;
        PA[Product A]
        PB[Product B]
    end
    
    CL --&gt; DIR
    CL --&gt; BI
    DIR --&gt; BI
    BI --&gt; CB1
    BI --&gt; CB2
    CB1 --&gt; PA
    CB2 --&gt; PB
    
    style CL fill:#e1f5fe
    style DIR fill:#f3e5f5
    style BI fill:#e8f5e8
    style CB1 fill:#fff3e0
    style CB2 fill:#fff3e0
    style PA fill:#fce4ec
    style PB fill:#fce4ec
</pre><p><strong>관계 설명</strong>:</p><ul><li><strong>의존 관계</strong>: Client 는 Builder Interface 에만 의존</li><li><strong>구현 관계</strong>: ConcreteBuilder 가 Builder Interface 구현</li><li><strong>생성 관계</strong>: ConcreteBuilder 가 구체적인 Product 생성</li><li><strong>제어 관계</strong>: Director 가 빌드 프로세스 제어 (선택적)</li></ul><h3 id=작동-원리-및-방식>작동 원리 및 방식<a hidden class=anchor aria-hidden=true href=#작동-원리-및-방식>#</a></h3><pre class=mermaid>sequenceDiagram
    participant Client
    participant Director
    participant Builder
    participant Product
    
    Client-&gt;&gt;Director: construct()
    Director-&gt;&gt;Builder: buildPartA()
    Builder-&gt;&gt;Builder: create PartA
    Director-&gt;&gt;Builder: buildPartB()
    Builder-&gt;&gt;Builder: create PartB
    Director-&gt;&gt;Builder: buildPartC()
    Builder-&gt;&gt;Builder: create PartC
    Director-&gt;&gt;Builder: getResult()
    Builder-&gt;&gt;Product: new Product(parts)
    Builder--&gt;&gt;Director: return Product
    Director--&gt;&gt;Client: return Product
</pre><p><strong>작동 방식 설명</strong>:</p><ol><li><strong>초기화 단계</strong>: 클라이언트가 빌더 인스턴스 생성</li><li><strong>구성 단계</strong>: 단계별로 객체 속성 설정</li><li><strong>검증 단계</strong>: 빌드 전 유효성 검증 수행</li><li><strong>생성 단계</strong>: 최종 객체 생성 및 반환</li><li><strong>정리 단계</strong>: 빌더 상태 초기화 (재사용 시)</li></ol><h3 id=구현-기법>구현 기법<a hidden class=anchor aria-hidden=true href=#구현-기법>#</a></h3><table><thead><tr><th><strong>구현 방식</strong></th><th><strong>설명</strong></th><th><strong>장점</strong></th><th><strong>대표 사례 / 사용 언어</strong></th></tr></thead><tbody><tr><td><strong>Classic GoF Builder</strong></td><td>Director 가 빌드 순서를 제어하고, Builder 인터페이스로 구현 분리</td><td>빌드 과정의 명확한 단계화, 복잡한 객체 조립에 적합</td><td>Java, Python (TextConverter 등)</td></tr><tr><td><strong>Fluent Builder</strong></td><td>메서드 체이닝 방식으로 직관적 객체 생성 (<code>withX().withY().build()</code>)</td><td>코드 가독성, 선언적 스타일, 순서 유연성</td><td>JavaScript, Java (HttpRequest 등)</td></tr><tr><td><strong>Effective Java 스타일</strong></td><td>내부 정적 클래스 방식, 필수/선택 속성 구분 명확</td><td>불변 객체, 명확한 생성자 구조, 코드 응집도 높음</td><td>Java (Pizza 예제 등)</td></tr><tr><td><strong>Internal Builder</strong></td><td>Product 클래스 내부에 Builder 중첩 정의</td><td>외부 노출 없이 캡슐화, 작은 객체군에 적합</td><td>Java (Effective Java), Kotlin</td></tr><tr><td><strong>External Builder</strong></td><td>Product 외부에 Builder 클래스를 분리하여 설계</td><td>여러 Product 간 공유 및 확장 용이</td><td>Java, C++, JS</td></tr><tr><td><strong>Functional Builder / DSL</strong></td><td>함수형 언어에서 빌더를 함수 조합 또는 DSL 형태로 구현</td><td>불변성 중심 설계, 간결하고 명시적인 객체 구성</td><td>Python, Kotlin DSL, JavaScript</td></tr><tr><td><strong>Generic Builder</strong></td><td>제네릭을 활용해 타입 안정성 보장, 유연한 객체 구성 지원</td><td>타입 안전성, 재사용성, 공통 빌더 구현에 적합</td><td>Java, TypeScript</td></tr><tr><td><strong>Step Builder</strong></td><td>단계별 타입을 반환하여 필수 설정 순서를 강제하는 구현</td><td>필수값 누락 방지, 유효성 보장</td><td>Java, Kotlin</td></tr><tr><td><strong>Lombok @Builder</strong></td><td>어노테이션 기반 자동 생성</td><td>개발 편의성, 코드 자동화, 빠른 적용</td><td>Java + Lombok</td></tr><tr><td><strong>Validation 포함 Builder</strong></td><td><code>build()</code> 시점에 유효성 검사 수행 (필수 필드 누락, 형식 검증 등)</td><td>안정성 확보, 런타임 오류 방지</td><td>모든 언어 가능 (Fluent + Validation)</td></tr><tr><td><strong>Immutable Builder</strong></td><td>build() 이후 객체 변경 불가. Setter 미제공</td><td>스레드 안전성, 신뢰 가능한 상태 보장</td><td>Java, Kotlin, Scala</td></tr><tr><td><strong>Builder Factory</strong></td><td>다양한 빌더 생성/선택을 팩토리에서 처리</td><td>설정 기반 선택, DI/Strategy 와 연계 가능</td><td>Java, Spring, 설정 기반 시스템</td></tr></tbody></table><h4 id=classic-gof-builder-director-포함>Classic GoF Builder (Director 포함)<a hidden class=anchor aria-hidden=true href=#classic-gof-builder-director-포함>#</a></h4><p><strong>설명</strong>: 전통적 형태의 Builder. Builder 인터페이스, ConcreteBuilder, Product, Director 구성.<br><strong>예시 (Python)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span><span class=lnt id=hl-3-12><a class=lnlinks href=#hl-3-12>12</a>
</span><span class=lnt id=hl-3-13><a class=lnlinks href=#hl-3-13>13</a>
</span><span class=lnt id=hl-3-14><a class=lnlinks href=#hl-3-14>14</a>
</span><span class=lnt id=hl-3-15><a class=lnlinks href=#hl-3-15>15</a>
</span><span class=lnt id=hl-3-16><a class=lnlinks href=#hl-3-16>16</a>
</span><span class=lnt id=hl-3-17><a class=lnlinks href=#hl-3-17>17</a>
</span><span class=lnt id=hl-3-18><a class=lnlinks href=#hl-3-18>18</a>
</span><span class=lnt id=hl-3-19><a class=lnlinks href=#hl-3-19>19</a>
</span><span class=lnt id=hl-3-20><a class=lnlinks href=#hl-3-20>20</a>
</span><span class=lnt id=hl-3-21><a class=lnlinks href=#hl-3-21>21</a>
</span><span class=lnt id=hl-3-22><a class=lnlinks href=#hl-3-22>22</a>
</span><span class=lnt id=hl-3-23><a class=lnlinks href=#hl-3-23>23</a>
</span><span class=lnt id=hl-3-24><a class=lnlinks href=#hl-3-24>24</a>
</span><span class=lnt id=hl-3-25><a class=lnlinks href=#hl-3-25>25</a>
</span><span class=lnt id=hl-3-26><a class=lnlinks href=#hl-3-26>26</a>
</span><span class=lnt id=hl-3-27><a class=lnlinks href=#hl-3-27>27</a>
</span><span class=lnt id=hl-3-28><a class=lnlinks href=#hl-3-28>28</a>
</span><span class=lnt id=hl-3-29><a class=lnlinks href=#hl-3-29>29</a>
</span><span class=lnt id=hl-3-30><a class=lnlinks href=#hl-3-30>30</a>
</span><span class=lnt id=hl-3-31><a class=lnlinks href=#hl-3-31>31</a>
</span><span class=lnt id=hl-3-32><a class=lnlinks href=#hl-3-32>32</a>
</span><span class=lnt id=hl-3-33><a class=lnlinks href=#hl-3-33>33</a>
</span><span class=lnt id=hl-3-34><a class=lnlinks href=#hl-3-34>34</a>
</span><span class=lnt id=hl-3-35><a class=lnlinks href=#hl-3-35>35</a>
</span><span class=lnt id=hl-3-36><a class=lnlinks href=#hl-3-36>36</a>
</span><span class=lnt id=hl-3-37><a class=lnlinks href=#hl-3-37>37</a>
</span><span class=lnt id=hl-3-38><a class=lnlinks href=#hl-3-38>38</a>
</span><span class=lnt id=hl-3-39><a class=lnlinks href=#hl-3-39>39</a>
</span><span class=lnt id=hl-3-40><a class=lnlinks href=#hl-3-40>40</a>
</span><span class=lnt id=hl-3-41><a class=lnlinks href=#hl-3-41>41</a>
</span><span class=lnt id=hl-3-42><a class=lnlinks href=#hl-3-42>42</a>
</span><span class=lnt id=hl-3-43><a class=lnlinks href=#hl-3-43>43</a>
</span><span class=lnt id=hl-3-44><a class=lnlinks href=#hl-3-44>44</a>
</span><span class=lnt id=hl-3-45><a class=lnlinks href=#hl-3-45>45</a>
</span><span class=lnt id=hl-3-46><a class=lnlinks href=#hl-3-46>46</a>
</span><span class=lnt id=hl-3-47><a class=lnlinks href=#hl-3-47>47</a>
</span><span class=lnt id=hl-3-48><a class=lnlinks href=#hl-3-48>48</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Product</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>House</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parts</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>part</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parts</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>part</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>show</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;House parts: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>parts</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Builder Interface</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>HouseBuilder</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>build_foundation</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=k>pass</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>build_walls</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=k>pass</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>build_roof</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=k>pass</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_result</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Concrete Builder</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>WoodenHouseBuilder</span><span class=p>(</span><span class=n>HouseBuilder</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>house</span> <span class=o>=</span> <span class=n>House</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>build_foundation</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>house</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=s2>&#34;Wood Foundation&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>build_walls</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>house</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=s2>&#34;Wood Walls&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>build_roof</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>house</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=s2>&#34;Wood Roof&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_result</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>house</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Director</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>HouseDirector</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>construct</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>builder</span><span class=p>:</span> <span class=n>HouseBuilder</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>builder</span><span class=o>.</span><span class=n>build_foundation</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>builder</span><span class=o>.</span><span class=n>build_walls</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>builder</span><span class=o>.</span><span class=n>build_roof</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>builder</span><span class=o>.</span><span class=n>get_result</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Client</span>
</span></span><span class=line><span class=cl><span class=n>builder</span> <span class=o>=</span> <span class=n>WoodenHouseBuilder</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>director</span> <span class=o>=</span> <span class=n>HouseDirector</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>house</span> <span class=o>=</span> <span class=n>director</span><span class=o>.</span><span class=n>construct</span><span class=p>(</span><span class=n>builder</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>house</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=fluent-builder-method-chaining>Fluent Builder (Method Chaining)<a hidden class=anchor aria-hidden=true href=#fluent-builder-method-chaining>#</a></h4><p><strong>설명</strong>: <code>withX().withY().build()</code> 형태의 연쇄 호출로 구성하는 현대적 스타일<br><strong>예시 (JavaScript)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1> 1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2> 2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3> 3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4> 4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5> 5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6> 6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7> 7</a>
</span><span class=lnt id=hl-4-8><a class=lnlinks href=#hl-4-8> 8</a>
</span><span class=lnt id=hl-4-9><a class=lnlinks href=#hl-4-9> 9</a>
</span><span class=lnt id=hl-4-10><a class=lnlinks href=#hl-4-10>10</a>
</span><span class=lnt id=hl-4-11><a class=lnlinks href=#hl-4-11>11</a>
</span><span class=lnt id=hl-4-12><a class=lnlinks href=#hl-4-12>12</a>
</span><span class=lnt id=hl-4-13><a class=lnlinks href=#hl-4-13>13</a>
</span><span class=lnt id=hl-4-14><a class=lnlinks href=#hl-4-14>14</a>
</span><span class=lnt id=hl-4-15><a class=lnlinks href=#hl-4-15>15</a>
</span><span class=lnt id=hl-4-16><a class=lnlinks href=#hl-4-16>16</a>
</span><span class=lnt id=hl-4-17><a class=lnlinks href=#hl-4-17>17</a>
</span><span class=lnt id=hl-4-18><a class=lnlinks href=#hl-4-18>18</a>
</span><span class=lnt id=hl-4-19><a class=lnlinks href=#hl-4-19>19</a>
</span><span class=lnt id=hl-4-20><a class=lnlinks href=#hl-4-20>20</a>
</span><span class=lnt id=hl-4-21><a class=lnlinks href=#hl-4-21>21</a>
</span><span class=lnt id=hl-4-22><a class=lnlinks href=#hl-4-22>22</a>
</span><span class=lnt id=hl-4-23><a class=lnlinks href=#hl-4-23>23</a>
</span><span class=lnt id=hl-4-24><a class=lnlinks href=#hl-4-24>24</a>
</span><span class=lnt id=hl-4-25><a class=lnlinks href=#hl-4-25>25</a>
</span><span class=lnt id=hl-4-26><a class=lnlinks href=#hl-4-26>26</a>
</span><span class=lnt id=hl-4-27><a class=lnlinks href=#hl-4-27>27</a>
</span><span class=lnt id=hl-4-28><a class=lnlinks href=#hl-4-28>28</a>
</span><span class=lnt id=hl-4-29><a class=lnlinks href=#hl-4-29>29</a>
</span><span class=lnt id=hl-4-30><a class=lnlinks href=#hl-4-30>30</a>
</span><span class=lnt id=hl-4-31><a class=lnlinks href=#hl-4-31>31</a>
</span><span class=lnt id=hl-4-32><a class=lnlinks href=#hl-4-32>32</a>
</span><span class=lnt id=hl-4-33><a class=lnlinks href=#hl-4-33>33</a>
</span><span class=lnt id=hl-4-34><a class=lnlinks href=#hl-4-34>34</a>
</span><span class=lnt id=hl-4-35><a class=lnlinks href=#hl-4-35>35</a>
</span><span class=lnt id=hl-4-36><a class=lnlinks href=#hl-4-36>36</a>
</span><span class=lnt id=hl-4-37><a class=lnlinks href=#hl-4-37>37</a>
</span><span class=lnt id=hl-4-38><a class=lnlinks href=#hl-4-38>38</a>
</span><span class=lnt id=hl-4-39><a class=lnlinks href=#hl-4-39>39</a>
</span><span class=lnt id=hl-4-40><a class=lnlinks href=#hl-4-40>40</a>
</span><span class=lnt id=hl-4-41><a class=lnlinks href=#hl-4-41>41</a>
</span><span class=lnt id=hl-4-42><a class=lnlinks href=#hl-4-42>42</a>
</span><span class=lnt id=hl-4-43><a class=lnlinks href=#hl-4-43>43</a>
</span><span class=lnt id=hl-4-44><a class=lnlinks href=#hl-4-44>44</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Car</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>constructor</span><span class=p>(</span><span class=nx>builder</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>make</span> <span class=o>=</span> <span class=nx>builder</span><span class=p>.</span><span class=nx>make</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>model</span> <span class=o>=</span> <span class=nx>builder</span><span class=p>.</span><span class=nx>model</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>color</span> <span class=o>=</span> <span class=nx>builder</span><span class=p>.</span><span class=nx>color</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>static</span> <span class=nx>get</span> <span class=nx>Builder</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=kr>class</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>make</span> <span class=o>=</span> <span class=s2>&#34;Unknown&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>model</span> <span class=o>=</span> <span class=s2>&#34;Unknown&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>color</span> <span class=o>=</span> <span class=s2>&#34;White&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=nx>setMake</span><span class=p>(</span><span class=nx>make</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>make</span> <span class=o>=</span> <span class=nx>make</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=nx>setModel</span><span class=p>(</span><span class=nx>model</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>model</span> <span class=o>=</span> <span class=nx>model</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=nx>setColor</span><span class=p>(</span><span class=nx>color</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>color</span> <span class=o>=</span> <span class=nx>color</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=nx>build</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=nx>Car</span><span class=p>(</span><span class=k>this</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 사용
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>car</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Car</span><span class=p>.</span><span class=nx>Builder</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>setMake</span><span class=p>(</span><span class=s2>&#34;Tesla&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>setModel</span><span class=p>(</span><span class=s2>&#34;Model S&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>setColor</span><span class=p>(</span><span class=s2>&#34;Black&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>build</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>car</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=내부-클래스-기반-builder-effective-java-스타일>내부 클래스 기반 Builder (Effective Java 스타일)<a hidden class=anchor aria-hidden=true href=#내부-클래스-기반-builder-effective-java-스타일>#</a></h4><p><strong>설명</strong>: Product 클래스 안에 <code>static Builder</code> 클래스를 중첩하여 구성<br><strong>예시 (JavaScript 유사)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1> 1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2> 2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3> 3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4> 4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5> 5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6> 6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7> 7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8> 8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9> 9</a>
</span><span class=lnt id=hl-5-10><a class=lnlinks href=#hl-5-10>10</a>
</span><span class=lnt id=hl-5-11><a class=lnlinks href=#hl-5-11>11</a>
</span><span class=lnt id=hl-5-12><a class=lnlinks href=#hl-5-12>12</a>
</span><span class=lnt id=hl-5-13><a class=lnlinks href=#hl-5-13>13</a>
</span><span class=lnt id=hl-5-14><a class=lnlinks href=#hl-5-14>14</a>
</span><span class=lnt id=hl-5-15><a class=lnlinks href=#hl-5-15>15</a>
</span><span class=lnt id=hl-5-16><a class=lnlinks href=#hl-5-16>16</a>
</span><span class=lnt id=hl-5-17><a class=lnlinks href=#hl-5-17>17</a>
</span><span class=lnt id=hl-5-18><a class=lnlinks href=#hl-5-18>18</a>
</span><span class=lnt id=hl-5-19><a class=lnlinks href=#hl-5-19>19</a>
</span><span class=lnt id=hl-5-20><a class=lnlinks href=#hl-5-20>20</a>
</span><span class=lnt id=hl-5-21><a class=lnlinks href=#hl-5-21>21</a>
</span><span class=lnt id=hl-5-22><a class=lnlinks href=#hl-5-22>22</a>
</span><span class=lnt id=hl-5-23><a class=lnlinks href=#hl-5-23>23</a>
</span><span class=lnt id=hl-5-24><a class=lnlinks href=#hl-5-24>24</a>
</span><span class=lnt id=hl-5-25><a class=lnlinks href=#hl-5-25>25</a>
</span><span class=lnt id=hl-5-26><a class=lnlinks href=#hl-5-26>26</a>
</span><span class=lnt id=hl-5-27><a class=lnlinks href=#hl-5-27>27</a>
</span><span class=lnt id=hl-5-28><a class=lnlinks href=#hl-5-28>28</a>
</span><span class=lnt id=hl-5-29><a class=lnlinks href=#hl-5-29>29</a>
</span><span class=lnt id=hl-5-30><a class=lnlinks href=#hl-5-30>30</a>
</span><span class=lnt id=hl-5-31><a class=lnlinks href=#hl-5-31>31</a>
</span><span class=lnt id=hl-5-32><a class=lnlinks href=#hl-5-32>32</a>
</span><span class=lnt id=hl-5-33><a class=lnlinks href=#hl-5-33>33</a>
</span><span class=lnt id=hl-5-34><a class=lnlinks href=#hl-5-34>34</a>
</span><span class=lnt id=hl-5-35><a class=lnlinks href=#hl-5-35>35</a>
</span><span class=lnt id=hl-5-36><a class=lnlinks href=#hl-5-36>36</a>
</span><span class=lnt id=hl-5-37><a class=lnlinks href=#hl-5-37>37</a>
</span><span class=lnt id=hl-5-38><a class=lnlinks href=#hl-5-38>38</a>
</span><span class=lnt id=hl-5-39><a class=lnlinks href=#hl-5-39>39</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Pizza</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>constructor</span><span class=p>(</span><span class=nx>builder</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>dough</span> <span class=o>=</span> <span class=nx>builder</span><span class=p>.</span><span class=nx>dough</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>cheese</span> <span class=o>=</span> <span class=nx>builder</span><span class=p>.</span><span class=nx>cheese</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>toppings</span> <span class=o>=</span> <span class=nx>builder</span><span class=p>.</span><span class=nx>toppings</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>static</span> <span class=nx>get</span> <span class=nx>Builder</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=kr>class</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>constructor</span><span class=p>(</span><span class=nx>dough</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>dough</span> <span class=o>=</span> <span class=nx>dough</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>cheese</span> <span class=o>=</span> <span class=s2>&#34;mozzarella&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>toppings</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=nx>addTopping</span><span class=p>(</span><span class=nx>topping</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>toppings</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>topping</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=nx>setCheese</span><span class=p>(</span><span class=nx>cheese</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>cheese</span> <span class=o>=</span> <span class=nx>cheese</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=nx>build</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=nx>Pizza</span><span class=p>(</span><span class=k>this</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 사용 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>pizza</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Pizza</span><span class=p>.</span><span class=nx>Builder</span><span class=p>(</span><span class=s2>&#34;thin&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>setCheese</span><span class=p>(</span><span class=s2>&#34;cheddar&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>addTopping</span><span class=p>(</span><span class=s2>&#34;pepperoni&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>addTopping</span><span class=p>(</span><span class=s2>&#34;mushroom&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>build</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>pizza</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=step-builder-타입-안전-빌더>Step Builder (타입 안전 빌더)<a hidden class=anchor aria-hidden=true href=#step-builder-타입-안전-빌더>#</a></h4><p><strong>설명</strong>: 필수 단계를 순차적으로 강제하는 빌더, 컴파일 타임 타입 안정성 확보에 유리<br><strong>예시 (TypeScript 스타일)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a>
</span><span class=lnt id=hl-6-13><a class=lnlinks href=#hl-6-13>13</a>
</span><span class=lnt id=hl-6-14><a class=lnlinks href=#hl-6-14>14</a>
</span><span class=lnt id=hl-6-15><a class=lnlinks href=#hl-6-15>15</a>
</span><span class=lnt id=hl-6-16><a class=lnlinks href=#hl-6-16>16</a>
</span><span class=lnt id=hl-6-17><a class=lnlinks href=#hl-6-17>17</a>
</span><span class=lnt id=hl-6-18><a class=lnlinks href=#hl-6-18>18</a>
</span><span class=lnt id=hl-6-19><a class=lnlinks href=#hl-6-19>19</a>
</span><span class=lnt id=hl-6-20><a class=lnlinks href=#hl-6-20>20</a>
</span><span class=lnt id=hl-6-21><a class=lnlinks href=#hl-6-21>21</a>
</span><span class=lnt id=hl-6-22><a class=lnlinks href=#hl-6-22>22</a>
</span><span class=lnt id=hl-6-23><a class=lnlinks href=#hl-6-23>23</a>
</span><span class=lnt id=hl-6-24><a class=lnlinks href=#hl-6-24>24</a>
</span><span class=lnt id=hl-6-25><a class=lnlinks href=#hl-6-25>25</a>
</span><span class=lnt id=hl-6-26><a class=lnlinks href=#hl-6-26>26</a>
</span><span class=lnt id=hl-6-27><a class=lnlinks href=#hl-6-27>27</a>
</span><span class=lnt id=hl-6-28><a class=lnlinks href=#hl-6-28>28</a>
</span><span class=lnt id=hl-6-29><a class=lnlinks href=#hl-6-29>29</a>
</span><span class=lnt id=hl-6-30><a class=lnlinks href=#hl-6-30>30</a>
</span><span class=lnt id=hl-6-31><a class=lnlinks href=#hl-6-31>31</a>
</span><span class=lnt id=hl-6-32><a class=lnlinks href=#hl-6-32>32</a>
</span><span class=lnt id=hl-6-33><a class=lnlinks href=#hl-6-33>33</a>
</span><span class=lnt id=hl-6-34><a class=lnlinks href=#hl-6-34>34</a>
</span><span class=lnt id=hl-6-35><a class=lnlinks href=#hl-6-35>35</a>
</span><span class=lnt id=hl-6-36><a class=lnlinks href=#hl-6-36>36</a>
</span><span class=lnt id=hl-6-37><a class=lnlinks href=#hl-6-37>37</a>
</span><span class=lnt id=hl-6-38><a class=lnlinks href=#hl-6-38>38</a>
</span><span class=lnt id=hl-6-39><a class=lnlinks href=#hl-6-39>39</a>
</span><span class=lnt id=hl-6-40><a class=lnlinks href=#hl-6-40>40</a>
</span><span class=lnt id=hl-6-41><a class=lnlinks href=#hl-6-41>41</a>
</span><span class=lnt id=hl-6-42><a class=lnlinks href=#hl-6-42>42</a>
</span><span class=lnt id=hl-6-43><a class=lnlinks href=#hl-6-43>43</a>
</span><span class=lnt id=hl-6-44><a class=lnlinks href=#hl-6-44>44</a>
</span><span class=lnt id=hl-6-45><a class=lnlinks href=#hl-6-45>45</a>
</span><span class=lnt id=hl-6-46><a class=lnlinks href=#hl-6-46>46</a>
</span><span class=lnt id=hl-6-47><a class=lnlinks href=#hl-6-47>47</a>
</span><span class=lnt id=hl-6-48><a class=lnlinks href=#hl-6-48>48</a>
</span><span class=lnt id=hl-6-49><a class=lnlinks href=#hl-6-49>49</a>
</span><span class=lnt id=hl-6-50><a class=lnlinks href=#hl-6-50>50</a>
</span><span class=lnt id=hl-6-51><a class=lnlinks href=#hl-6-51>51</a>
</span><span class=lnt id=hl-6-52><a class=lnlinks href=#hl-6-52>52</a>
</span><span class=lnt id=hl-6-53><a class=lnlinks href=#hl-6-53>53</a>
</span><span class=lnt id=hl-6-54><a class=lnlinks href=#hl-6-54>54</a>
</span><span class=lnt id=hl-6-55><a class=lnlinks href=#hl-6-55>55</a>
</span><span class=lnt id=hl-6-56><a class=lnlinks href=#hl-6-56>56</a>
</span><span class=lnt id=hl-6-57><a class=lnlinks href=#hl-6-57>57</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=kr>class</span> <span class=nx>User</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>constructor</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=kr>public</span> <span class=nx>username</span>: <span class=kt>string</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=kr>public</span> <span class=nx>email</span>: <span class=kt>string</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=kr>public</span> <span class=nx>age?</span>: <span class=kt>number</span>
</span></span><span class=line><span class=cl>  <span class=p>)</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 단계별 Builder 인터페이스
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>interface</span> <span class=nx>UsernameStep</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>setUsername</span><span class=p>(</span><span class=nx>username</span>: <span class=kt>string</span><span class=p>)</span><span class=o>:</span> <span class=nx>EmailStep</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>interface</span> <span class=nx>EmailStep</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>setEmail</span><span class=p>(</span><span class=nx>email</span>: <span class=kt>string</span><span class=p>)</span><span class=o>:</span> <span class=nx>OptionalStep</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>interface</span> <span class=nx>OptionalStep</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>setAge</span><span class=p>(</span><span class=nx>age</span>: <span class=kt>number</span><span class=p>)</span><span class=o>:</span> <span class=nx>BuildStep</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>build</span><span class=p>()</span><span class=o>:</span> <span class=nx>User</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>interface</span> <span class=nx>BuildStep</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>build</span><span class=p>()</span><span class=o>:</span> <span class=nx>User</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>UserBuilder</span> <span class=kr>implements</span> <span class=nx>UsernameStep</span><span class=p>,</span> <span class=nx>EmailStep</span><span class=p>,</span> <span class=nx>OptionalStep</span><span class=p>,</span> <span class=nx>BuildStep</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>private</span> <span class=nx>username</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kr>private</span> <span class=nx>email</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kr>private</span> <span class=nx>age?</span>: <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>setUsername</span><span class=p>(</span><span class=nx>username</span>: <span class=kt>string</span><span class=p>)</span><span class=o>:</span> <span class=nx>EmailStep</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>username</span> <span class=o>=</span> <span class=nx>username</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>setEmail</span><span class=p>(</span><span class=nx>email</span>: <span class=kt>string</span><span class=p>)</span><span class=o>:</span> <span class=nx>OptionalStep</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>email</span> <span class=o>=</span> <span class=nx>email</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>setAge</span><span class=p>(</span><span class=nx>age</span>: <span class=kt>number</span><span class=p>)</span><span class=o>:</span> <span class=nx>BuildStep</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>age</span> <span class=o>=</span> <span class=nx>age</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>build</span><span class=p>()</span><span class=o>:</span> <span class=nx>User</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=k>new</span> <span class=nx>User</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>username</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>email</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>age</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 사용 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>UserBuilder</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>setUsername</span><span class=p>(</span><span class=s2>&#34;hyun&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>setEmail</span><span class=p>(</span><span class=s2>&#34;hyun@example.com&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>setAge</span><span class=p>(</span><span class=mi>30</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>build</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=functional-builder-python-dsl>Functional Builder (Python DSL)<a hidden class=anchor aria-hidden=true href=#functional-builder-python-dsl>#</a></h4><p><strong>설명</strong>: 함수형 스타일로 빌더를 구성. 빌더 함수들을 조합하여 최종 객체 구성.<br><strong>예시 (Python)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1> 1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2> 2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3> 3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4> 4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5> 5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6> 6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7> 7</a>
</span><span class=lnt id=hl-7-8><a class=lnlinks href=#hl-7-8> 8</a>
</span><span class=lnt id=hl-7-9><a class=lnlinks href=#hl-7-9> 9</a>
</span><span class=lnt id=hl-7-10><a class=lnlinks href=#hl-7-10>10</a>
</span><span class=lnt id=hl-7-11><a class=lnlinks href=#hl-7-11>11</a>
</span><span class=lnt id=hl-7-12><a class=lnlinks href=#hl-7-12>12</a>
</span><span class=lnt id=hl-7-13><a class=lnlinks href=#hl-7-13>13</a>
</span><span class=lnt id=hl-7-14><a class=lnlinks href=#hl-7-14>14</a>
</span><span class=lnt id=hl-7-15><a class=lnlinks href=#hl-7-15>15</a>
</span><span class=lnt id=hl-7-16><a class=lnlinks href=#hl-7-16>16</a>
</span><span class=lnt id=hl-7-17><a class=lnlinks href=#hl-7-17>17</a>
</span><span class=lnt id=hl-7-18><a class=lnlinks href=#hl-7-18>18</a>
</span><span class=lnt id=hl-7-19><a class=lnlinks href=#hl-7-19>19</a>
</span><span class=lnt id=hl-7-20><a class=lnlinks href=#hl-7-20>20</a>
</span><span class=lnt id=hl-7-21><a class=lnlinks href=#hl-7-21>21</a>
</span><span class=lnt id=hl-7-22><a class=lnlinks href=#hl-7-22>22</a>
</span><span class=lnt id=hl-7-23><a class=lnlinks href=#hl-7-23>23</a>
</span><span class=lnt id=hl-7-24><a class=lnlinks href=#hl-7-24>24</a>
</span><span class=lnt id=hl-7-25><a class=lnlinks href=#hl-7-25>25</a>
</span><span class=lnt id=hl-7-26><a class=lnlinks href=#hl-7-26>26</a>
</span><span class=lnt id=hl-7-27><a class=lnlinks href=#hl-7-27>27</a>
</span><span class=lnt id=hl-7-28><a class=lnlinks href=#hl-7-28>28</a>
</span><span class=lnt id=hl-7-29><a class=lnlinks href=#hl-7-29>29</a>
</span><span class=lnt id=hl-7-30><a class=lnlinks href=#hl-7-30>30</a>
</span><span class=lnt id=hl-7-31><a class=lnlinks href=#hl-7-31>31</a>
</span><span class=lnt id=hl-7-32><a class=lnlinks href=#hl-7-32>32</a>
</span><span class=lnt id=hl-7-33><a class=lnlinks href=#hl-7-33>33</a>
</span><span class=lnt id=hl-7-34><a class=lnlinks href=#hl-7-34>34</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Query</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>select_clause</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>from_clause</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>where_clause</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;SELECT </span><span class=si>{</span><span class=s1>&#39;, &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>select_clause</span><span class=p>)</span><span class=si>}</span><span class=s2> FROM </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>from_clause</span><span class=si>}</span><span class=s2> WHERE </span><span class=si>{</span><span class=s1>&#39; AND &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>where_clause</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>select</span><span class=p>(</span><span class=o>*</span><span class=n>columns</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>inner</span><span class=p>(</span><span class=n>q</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>q</span><span class=o>.</span><span class=n>select_clause</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=n>columns</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>q</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>inner</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>from_table</span><span class=p>(</span><span class=n>table</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>inner</span><span class=p>(</span><span class=n>q</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>q</span><span class=o>.</span><span class=n>from_clause</span> <span class=o>=</span> <span class=n>table</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>q</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>inner</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>where</span><span class=p>(</span><span class=n>condition</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>inner</span><span class=p>(</span><span class=n>q</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>q</span><span class=o>.</span><span class=n>where_clause</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>condition</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>q</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>inner</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 빌더 함수 조합</span>
</span></span><span class=line><span class=cl><span class=n>query</span> <span class=o>=</span> <span class=n>Query</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>query</span> <span class=o>=</span> <span class=p>(</span><span class=n>select</span><span class=p>(</span><span class=s2>&#34;name&#34;</span><span class=p>,</span> <span class=s2>&#34;age&#34;</span><span class=p>)(</span><span class=n>query</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>query</span> <span class=o>=</span> <span class=p>(</span><span class=n>from_table</span><span class=p>(</span><span class=s2>&#34;users&#34;</span><span class=p>)(</span><span class=n>query</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>query</span> <span class=o>=</span> <span class=p>(</span><span class=n>where</span><span class=p>(</span><span class=s2>&#34;age &gt; 20&#34;</span><span class=p>)(</span><span class=n>query</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>query</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=장점>장점<a hidden class=anchor aria-hidden=true href=#장점>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>항목</strong></th><th><strong>설명</strong></th></tr></thead><tbody><tr><td><strong>1. 코드 구조 및 가독성</strong></td><td>코드 가독성 향상</td><td>플루언트 인터페이스 및 체이닝 방식으로 직관적이고 읽기 쉬운 코드 작성 가능</td></tr><tr><td></td><td>클라이언트와 생성 로직 분리</td><td>클라이언트는 최종 객체에만 집중하고, 생성 과정은 빌더 내부로 숨겨 캡슐화</td></tr><tr><td></td><td>유연한 객체 표현</td><td>동일한 빌더로 다양한 속성 조합의 객체 생성 가능</td></tr><tr><td><strong>2. 복잡성 관리</strong></td><td>복잡한 객체 생성 단순화</td><td>단계별 생성 절차 분리로 인해 복잡한 생성 과정도 명확하게 관리 가능</td></tr><tr><td></td><td>복잡한 객체 구성 관리</td><td>선택적 속성, 중첩 구조 등 복잡한 객체 조합을 체계적으로 처리할 수 있음</td></tr><tr><td><strong>3. 안전성 및 불변성</strong></td><td>매개변수 순서 독립성</td><td>생성자와 달리, 속성 설정 순서에 의존하지 않아 가독성과 안정성 향상</td></tr><tr><td></td><td>불변 객체 생성 보장</td><td>모든 속성 설정 후 객체 생성 → 변경 불가능한 객체로 스레드 안전성 확보</td></tr><tr><td></td><td>객체 불완전성 방지</td><td><code>build()</code> 호출을 통해 모든 필드가 세팅되었는지 검증 가능</td></tr><tr><td></td><td>유효성 검증 중앙화</td><td>생성 로직 내에서 일괄적으로 필드 검증 가능 (필수 조건 누락 방지 등)</td></tr><tr><td><strong>4. 확장성과 유지보수성</strong></td><td>확장성</td><td>새로운 속성이나 유형의 빌더를 추가하더라도 기존 코드 영향 없이 확장 가능</td></tr><tr><td></td><td>재사용성</td><td>빌더 구성 로직의 모듈화로 공통 패턴의 재사용이 가능, 코드 중복 감소</td></tr></tbody></table><h3 id=단점과-문제점-및-해결방안>단점과 문제점 및 해결방안<a hidden class=anchor aria-hidden=true href=#단점과-문제점-및-해결방안>#</a></h3><h4 id=단점>단점<a hidden class=anchor aria-hidden=true href=#단점>#</a></h4><table><thead><tr><th><strong>카테고리</strong></th><th><strong>단점 항목</strong></th><th><strong>설명</strong></th><th><strong>해결 방안</strong></th></tr></thead><tbody><tr><td><strong>설계 복잡도</strong></td><td>클래스 수 증가</td><td><code>Builder</code>, <code>Director</code>, <code>Product</code> 등 구성 요소로 인한 클래스 수 증가</td><td>자동 생성 도구 (Lombok, CodeGen) 활용, 필요한 경우에만 도입</td></tr><tr><td></td><td>코드 복잡성 증가</td><td>단순한 객체에도 Builder 적용 시 코드 구조가 오히려 복잡해짐</td><td>기준 마련 (예: 매개변수 4 개 이상), 간단한 객체엔 생성자/팩토리 사용</td></tr><tr><td><strong>리소스 사용</strong></td><td>성능 오버헤드</td><td>메서드 체이닝, 중간 객체 생성 등으로 인한 성능 저하</td><td>인라인 최적화, Lightweight Builder, 불필요한 체이닝 최소화</td></tr><tr><td></td><td>메모리 사용량 증가</td><td>빌더 객체 및 중간 상태 값 저장으로 인한 GC 부하</td><td>빌더 재사용 시 초기화 메서드 추가, 빌더 수명 관리</td></tr><tr><td><strong>검증/안정성</strong></td><td>런타임 오류 가능성</td><td>필수 필드 누락, 잘못된 필드 순서 등으로 인한 런타임 오류 발생 가능</td><td><code>@NonNull</code>, 타입 힌트, Step Builder 등으로 컴파일 타임 검증 강화</td></tr><tr><td><strong>적용 한계</strong></td><td>과도한 설계</td><td>간단한 객체까지 과도하게 적용되면 오히려 오버엔지니어링</td><td>적용 기준 명확화, 단일 속성 객체엔 일반 생성자나 팩토리 활용</td></tr></tbody></table><h4 id=문제점>문제점<a hidden class=anchor aria-hidden=true href=#문제점>#</a></h4><table><thead><tr><th><strong>카테고리</strong></th><th><strong>문제 항목</strong></th><th><strong>원인</strong></th><th><strong>영향</strong></th><th><strong>탐지/진단</strong></th><th><strong>예방 방법</strong></th><th><strong>해결 기법</strong></th></tr></thead><tbody><tr><td><strong>상태 관리</strong></td><td>빌더 상태 오염</td><td>빌더 인스턴스 재사용 시 이전 상태가 남아 있음</td><td>잘못된 객체 생성</td><td>단위 테스트, 상태 점검 로직</td><td>빌더 재사용 금지, 상태 초기화 로직 구현</td><td><code>reset()</code>, Immutable Builder 도입</td></tr><tr><td></td><td>중간 상태 노출</td><td><code>build()</code> 호출 전 객체를 외부에서 참조 가능</td><td>불완전한 객체 사용</td><td>상태 접근 제한 분석</td><td><code>build()</code> 후에만 객체 반환</td><td><code>deep copy</code>, <code>immutable copy</code> 적용</td></tr><tr><td><strong>유효성 및 안정성</strong></td><td>필수 필드 누락</td><td>체이닝 방식에서 누락된 필수 필드에 대한 검증 부재</td><td>런타임 예외 발생</td><td>필드 null 체크, 빌더 사용 로그 분석</td><td>필수 필드 구분, 체이닝 강제 순서 구현</td><td><code>Step Builder</code>, Required Field Validator 적용</td></tr><tr><td></td><td>부분 객체 생성</td><td>모든 필드를 세팅하지 않아 불완전한 상태의 객체 생성됨</td><td>잘못된 결과 반환</td><td>런타임 검증, QA 시나리오 확인</td><td><code>build()</code> 내 유효성 검사</td><td>Fluent Validation, <code>assertComplete()</code> 메서드 추가</td></tr><tr><td><strong>설계 일관성</strong></td><td>Director 의존성 과도</td><td>Builder 사용 시 Director 가 빌드 순서를 강제하게 됨</td><td>설계 유연성 저하</td><td>역할 분석, 코드 리뷰</td><td>단순 빌더는 Client 에서 직접 체이닝</td><td>Director 제거 또는 단일 빌더 방식 사용</td></tr><tr><td><strong>재사용성</strong></td><td>유사한 빌더 클래스 중복</td><td>도메인마다 유사한 빌더가 반복 구현됨</td><td>유지보수 부담, 코드 중복 증가</td><td>코드 중복 분석 도구</td><td>추상 Builder 설계, Generic Builder 사용</td><td>Builder Registry/Template 적용</td></tr><tr><td><strong>DI 통합 문제</strong></td><td>의존성 주입 복잡화</td><td>DI 컨테이너가 Builder 인스턴스를 관리하지 못하거나 조합 어려움</td><td>객체 생성 흐름 분리</td><td>DI 로그 분석, 초기화 에러 추적</td><td>Factory + Builder 패턴 조합</td><td>Spring Bean Factory 안에 빌더 감싸기</td></tr></tbody></table><h3 id=도전-과제>도전 과제<a hidden class=anchor aria-hidden=true href=#도전-과제>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>도전 과제</strong></th><th><strong>원인</strong></th><th><strong>영향</strong></th><th><strong>해결 방안</strong></th></tr></thead><tbody><tr><td><strong>아키텍처/설계</strong></td><td>과도한 클래스 수 증가</td><td><code>Director</code>, <code>Builder</code>, <code>ConcreteBuilder</code> 등의 구조적 구성요소 다수</td><td>유지보수 복잡성 증가</td><td>단순한 경우 <code>Director</code> 생략, 내부 정적 Builder 사용</td></tr><tr><td></td><td>역할 분리 모호성</td><td><code>Builder</code>, <code>Director</code>, <code>Client</code> 간 책임 불명확</td><td>설계 일관성 저하</td><td>단일 책임 원칙 적용 (SRP), 역할 명확히 구분</td></tr><tr><td></td><td><code>Product</code> 변경 시 Builder 동기화 필요</td><td><code>Product</code> 필드 변경이 Builder 에 즉각 영향</td><td>동기화 누락 시 런타임 오류 발생</td><td>테스트 자동화, Code Generation 도구 (Lombok 등) 활용</td></tr><tr><td><strong>재사용성/중복</strong></td><td>빌더 클래스 중복</td><td>유사한 도메인 객체마다 Builder 를 각각 구현</td><td>코드 중복 증가</td><td>공통 추상 Builder 또는 Generic Builder 패턴 도입</td></tr><tr><td></td><td>생성 로직 재사용 어려움</td><td>각 Builder 마다 로직이 캡슐화되어 있음</td><td>중복된 구현 증가</td><td>빌더 상속 구조 도입, Builder Pooling or Registry 설계 적용</td></tr><tr><td><strong>성능/자원 최적화</strong></td><td>메모리 사용량 증가</td><td>빌더 객체 생성, 불변성 확보를 위한 중간 객체 누적</td><td>GC 압박, 메모리 낭비</td><td>빌더 객체 재사용, 약한 참조 (WeakRef), Object Pooling</td></tr><tr><td></td><td>빌더 호출 오버헤드</td><td>체이닝에 따른 메서드 호출 스택 증가</td><td>생성 속도 저하</td><td>인라인 최적화, 가벼운 빌더 도입 (Lightweight Builder)</td></tr><tr><td></td><td>객체 중복 생성</td><td>빌더와 최종 객체 간 데이터 중복</td><td>리소스 낭비</td><td>Copy-on-write 방식, Prototype 패턴 결합</td></tr><tr><td><strong>타입 안전성</strong></td><td>필수 필드 누락 위험</td><td>체이닝 방식은 선택적 필드와 구분이 어려움</td><td>객체 상태 불완전</td><td>Step Builder, Required Field Check, @NonNull, IDE 지원</td></tr><tr><td><strong>테스트/검증</strong></td><td>유효성 검사 누락</td><td>build() 호출 전 상태가 유효한지 보장되지 않음</td><td>예외 발생, 논리 오류</td><td>build() 내부에 필드 조합 검증 로직 추가, Fluent Validation 기법 적용</td></tr><tr><td></td><td>테스트 작성 복잡성</td><td>복잡한 체이닝 로직 테스트 어려움</td><td>테스트 품질 저하</td><td>Test Data Builder 패턴 활용, 각 빌더 단계별 유닛 테스트 설계</td></tr><tr><td><strong>현대 기술 환경</strong></td><td>MSA 환경에서 빌더 일관성 유지 어려움</td><td>서비스 간 DTO 생성 방식 불일치</td><td>인터페이스 불일치, 유지보수 어려움</td><td>공통 Builder 모듈화 (Shared Library), OpenAPI 기반 코드 생성 도입</td></tr><tr><td></td><td>클라우드 환경의 메모리 제한</td><td>서버리스/컨테이너 환경에서 오버헤드 민감</td><td>비용 증가, 성능 저하</td><td>Lightweight Builder, Builder 객체 풀링 적용</td></tr><tr><td></td><td>함수형 프로그래밍과의 충돌</td><td>가변 상태 관리 불가, 불변성 요구</td><td>전통 빌더 적용 곤란</td><td>Immutable Builder, Functional Builder (람다/함수 조합 기반 빌더) 도입</td></tr><tr><td><strong>문서화/가독성</strong></td><td>체이닝 순서 불명확</td><td>빌더 사용법이 직관적이지 않음</td><td>오용 위험, 디버깅 어려움</td><td>JavaDoc/TSDoc 활용, IDE 용 Docstring 주석 및 예시 추가</td></tr><tr><td></td><td>빌더 사용법 표준 부재</td><td>팀 간 작성 방식 상이</td><td>코드 스타일 혼란</td><td>팀별 빌더 작성 가이드 수립, 코딩 컨벤션 포함</td></tr></tbody></table><h3 id=분류에-따른-종류-및-유형>분류에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#분류에-따른-종류-및-유형>#</a></h3><table><thead><tr><th><strong>분류 기준</strong></th><th><strong>유형</strong></th><th><strong>설명</strong></th><th><strong>주요 사용 사례</strong></th></tr></thead><tbody><tr><td><strong>구현 방식</strong></td><td>Classic (GoF) Builder</td><td><code>Director</code>, <code>Builder</code>, <code>Product</code> 로 구성된 전통적 구조</td><td>복잡한 객체 생성 로직, 파서/컴파일러 등</td></tr><tr><td></td><td>Fluent Builder</td><td>메서드 체이닝 기반 선언형 빌더 (<code>.withX().withY().build()</code>)</td><td>API 클라이언트, 설정 객체, REST 요청 빌더 등</td></tr><tr><td></td><td>Step Builder</td><td>단계별 인터페이스로 강제 흐름 설계, 타입 안전성 강화</td><td>필수 필드가 많은 복잡 객체, 오류 방지 필요 시</td></tr><tr><td></td><td>Lombok @Builder</td><td>애노테이션 기반 빌더 자동 생성</td><td>Java DTO, Config 클래스 등</td></tr><tr><td></td><td>Effective Java Builder</td><td>내부 정적 클래스를 활용한 실용적 빌더 구조</td><td>Immutable 객체 생성</td></tr><tr><td><strong>복잡도</strong></td><td>Simple Builder</td><td>단일 객체, 비교적 필드가 적은 경우에 적합</td><td>Value Object, 단순 DTO</td></tr><tr><td></td><td>Complex Builder</td><td>유효성 검사, 조건부 조합 등 복잡한 로직 포함</td><td>도메인 객체, 설정 객체</td></tr><tr><td></td><td>Composite Builder</td><td>다수의 하위 요소 조합으로 구성된 복합 객체 생성</td><td>UI 컴포넌트, 문서 생성, Aggregates</td></tr><tr><td><strong>타입 안전성</strong></td><td>Basic Builder</td><td>일반적인 빌더, 순서 제한 없음</td><td>일반 객체 빌더</td></tr><tr><td></td><td>Step Builder</td><td>각 단계마다 다른 타입 반환으로 순서 강제</td><td>데이터 누락 방지, 안전성 우선 객체</td></tr><tr><td></td><td>Generic Builder</td><td>제네릭 기반으로 다양한 타입의 객체를 안전하게 구성</td><td>다양한 템플릿 객체 생성 시</td></tr><tr><td><strong>사용 범위</strong></td><td>Internal Builder</td><td><code>Product</code> 클래스 내부에 정적 Builder 클래스를 정의</td><td>클래스 전용 빌더</td></tr><tr><td></td><td>External Builder</td><td>독립된 외부 클래스에서 Builder 정의</td><td>공유/확장 가능한 빌더 구조</td></tr><tr><td></td><td>Domain-Specific Builder</td><td>특정 도메인에 최적화된 빌더 (예: DSL, SQL 쿼리 등)</td><td>QueryDSL, Flutter 위젯 구성 등</td></tr><tr><td><strong>구조 스타일</strong></td><td>Director 기반</td><td>Builder 호출 순서를 캡슐화하는 <code>Director</code> 존재</td><td>전통적 GoF 구조에서 사용</td></tr><tr><td></td><td>No Director</td><td>Client 가 Builder 직접 호출</td><td>유연성과 단순성 중시 구조</td></tr><tr><td><strong>응용 형태</strong></td><td>Function Composition</td><td>함수형 언어에서 빌더 기능을 함수 조합 형태로 표현</td><td>Python, Kotlin 등 함수형 스타일 구성 시</td></tr><tr><td></td><td>DSL 기반 Builder</td><td>선언형 Domain-Specific Language 형태로 객체 구성</td><td>Kotlin DSL, Gradle, Terraform 설정 등</td></tr><tr><td><strong>생성 대상</strong></td><td>Single Product Builder</td><td>하나의 객체만 생성</td><td>일반 객체 생성</td></tr><tr><td></td><td>Multi Product Builder</td><td>다양한 변형 객체 또는 복수 객체를 생성</td><td>조건별 메시지, UI 템플릿 등</td></tr></tbody></table><h3 id=실무-사용-예시>실무 사용 예시<a hidden class=anchor aria-hidden=true href=#실무-사용-예시>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>적용 분야</strong></th><th><strong>구체적 사용 예시</strong></th><th><strong>설명 및 효과</strong></th></tr></thead><tbody><tr><td><strong>백엔드 개발</strong></td><td>DTO/VO 생성</td><td>API 요청/응답 객체, 설정 객체 등</td><td>필수/선택 필드 구분, 불변 객체 생성, 코드 가독성 향상</td></tr><tr><td><strong>API 개발</strong></td><td>HTTP Request/Response</td><td>Retrofit, OkHttp, RestTemplate</td><td>다양한 옵션의 요청/응답 객체 구성, 유연한 파라미터 설정</td></tr><tr><td><strong>데이터베이스</strong></td><td>SQL Query 생성</td><td>QueryDSL, JPA Criteria API, MyBatis, Jooq</td><td>동적 SQL 쿼리 조합, 복잡한 쿼리 작성의 안정성과 가독성 확보</td></tr><tr><td><strong>설정 관리</strong></td><td>설정 객체 빌더</td><td>Spring Boot 설정 객체, Docker 설정</td><td>환경별 설정 값 분리 및 설정 객체화, 유효성 검사 포함 가능</td></tr><tr><td><strong>UI 개발</strong></td><td>UI 컴포넌트 생성</td><td>React JSX, Flutter Widget, Android Dialog</td><td>다양한 속성을 조합한 복합 위젯 생성, 선언적 구성 방식, 재사용성 확보</td></tr><tr><td><strong>문서 생성</strong></td><td>텍스트/HTML 문서 생성</td><td>MarkdownBuilder, HTMLBuilder</td><td>다양한 포맷의 문서를 공통 로직으로 단계별 구성 가능</td></tr><tr><td><strong>테스트</strong></td><td>테스트 데이터 구성</td><td>Test Data Builder, Fixture Object</td><td>다양한 테스트 상태의 객체 손쉽게 생성, 테스트 코드 가독성 및 유지보수성 향상</td></tr><tr><td><strong>게임 개발</strong></td><td>캐릭터/오브젝트 생성</td><td>RPG 캐릭터 빌더, 속성 + 스킬 + 장비 조합 시스템</td><td>조건 기반의 복잡한 객체 생성 로직 구성 가능</td></tr><tr><td><strong>메시징 시스템</strong></td><td>메시지 객체 생성</td><td>Kafka, RabbitMQ, Custom Message Builder</td><td>메시지 헤더, 바디 구성 등 메시지 형식 표준화 및 직관적 구성</td></tr><tr><td><strong>빌드 시스템</strong></td><td>빌드 스크립트 구성</td><td>Gradle, Maven DSL, Code Generator</td><td>선언형 DSL 스타일 빌더 사용, 설정 코드 가독성 향상</td></tr><tr><td><strong>기타 자동화</strong></td><td>환경 구성 스크립트</td><td>Infrastructure-as-Code DSL</td><td>구성 요소 단계적 빌드, 재사용 및 조건부 구성 편의 제공</td></tr></tbody></table><h3 id=활용-사례>활용 사례<a hidden class=anchor aria-hidden=true href=#활용-사례>#</a></h3><h4 id=사례-1-전자상거래-주문-시스템>사례 1: 전자상거래 주문 시스템<a hidden class=anchor aria-hidden=true href=#사례-1-전자상거래-주문-시스템>#</a></h4><p><strong>시스템 구성</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1>1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2>2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3>3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4>4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Client → OrderDirector → OrderBuilder → Order
</span></span><span class=line><span class=cl>                      ↓
</span></span><span class=line><span class=cl>            PaymentBuilder → Payment
</span></span><span class=line><span class=cl>                      ↓
</span></span><span class=line><span class=cl>            ShippingBuilder → Shipping
</span></span></code></pre></td></tr></table></div></div><p><strong>활용 시나리오</strong>:</p><p>온라인 쇼핑몰에서 복잡한 주문 생성 과정을 Builder Pattern 으로 구현:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// 주문 생성</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Order</span><span class=w> </span><span class=n>order</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Order</span><span class=p>.</span><span class=na>builder</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>.</span><span class=na>customerId</span><span class=p>(</span><span class=s>&#34;CUST001&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>.</span><span class=na>orderDate</span><span class=p>(</span><span class=n>LocalDate</span><span class=p>.</span><span class=na>now</span><span class=p>())</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>.</span><span class=na>items</span><span class=p>(</span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=n>item1</span><span class=p>,</span><span class=w> </span><span class=n>item2</span><span class=p>,</span><span class=w> </span><span class=n>item3</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>.</span><span class=na>shippingAddress</span><span class=p>(</span><span class=s>&#34;서울시 강남구…&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>.</span><span class=na>paymentMethod</span><span class=p>(</span><span class=n>PaymentMethod</span><span class=p>.</span><span class=na>CREDIT_CARD</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>.</span><span class=na>discountCode</span><span class=p>(</span><span class=s>&#34;SUMMER2025&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>.</span><span class=na>priority</span><span class=p>(</span><span class=n>OrderPriority</span><span class=p>.</span><span class=na>STANDARD</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>.</span><span class=na>build</span><span class=p>();</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>Workflow</strong>:</p><ol><li><strong>주문 초기화</strong>: 고객 정보와 기본 설정</li><li><strong>상품 추가</strong>: 구매할 상품 목록 설정</li><li><strong>배송 정보</strong>: 주소와 배송 옵션 설정</li><li><strong>결제 정보</strong>: 결제 방법과 할인 적용</li><li><strong>최종 검증</strong>: 주문 데이터 유효성 검사</li><li><strong>주문 생성</strong>: 완성된 Order 객체 반환</li></ol><h4 id=사례-2-user-registration-요청-처리-시스템>사례 2: User Registration 요청 처리 시스템<a hidden class=anchor aria-hidden=true href=#사례-2-user-registration-요청-처리-시스템>#</a></h4><p><strong>요구 사항</strong>:</p><ul><li>사용자 생성 시 <code>username</code>, <code>password</code>, <code>email</code> 은 필수</li><li><code>address</code>, <code>phone</code>, <code>marketingConsent</code> 는 선택</li></ul><p><strong>구성 요소</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1> 1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2> 2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3> 3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4> 4</a>
</span><span class=lnt id=hl-10-5><a class=lnlinks href=#hl-10-5> 5</a>
</span><span class=lnt id=hl-10-6><a class=lnlinks href=#hl-10-6> 6</a>
</span><span class=lnt id=hl-10-7><a class=lnlinks href=#hl-10-7> 7</a>
</span><span class=lnt id=hl-10-8><a class=lnlinks href=#hl-10-8> 8</a>
</span><span class=lnt id=hl-10-9><a class=lnlinks href=#hl-10-9> 9</a>
</span><span class=lnt id=hl-10-10><a class=lnlinks href=#hl-10-10>10</a>
</span><span class=lnt id=hl-10-11><a class=lnlinks href=#hl-10-11>11</a>
</span><span class=lnt id=hl-10-12><a class=lnlinks href=#hl-10-12>12</a>
</span><span class=lnt id=hl-10-13><a class=lnlinks href=#hl-10-13>13</a>
</span><span class=lnt id=hl-10-14><a class=lnlinks href=#hl-10-14>14</a>
</span><span class=lnt id=hl-10-15><a class=lnlinks href=#hl-10-15>15</a>
</span><span class=lnt id=hl-10-16><a class=lnlinks href=#hl-10-16>16</a>
</span><span class=lnt id=hl-10-17><a class=lnlinks href=#hl-10-17>17</a>
</span><span class=lnt id=hl-10-18><a class=lnlinks href=#hl-10-18>18</a>
</span><span class=lnt id=hl-10-19><a class=lnlinks href=#hl-10-19>19</a>
</span><span class=lnt id=hl-10-20><a class=lnlinks href=#hl-10-20>20</a>
</span><span class=lnt id=hl-10-21><a class=lnlinks href=#hl-10-21>21</a>
</span><span class=lnt id=hl-10-22><a class=lnlinks href=#hl-10-22>22</a>
</span><span class=lnt id=hl-10-23><a class=lnlinks href=#hl-10-23>23</a>
</span><span class=lnt id=hl-10-24><a class=lnlinks href=#hl-10-24>24</a>
</span><span class=lnt id=hl-10-25><a class=lnlinks href=#hl-10-25>25</a>
</span><span class=lnt id=hl-10-26><a class=lnlinks href=#hl-10-26>26</a>
</span><span class=lnt id=hl-10-27><a class=lnlinks href=#hl-10-27>27</a>
</span><span class=lnt id=hl-10-28><a class=lnlinks href=#hl-10-28>28</a>
</span><span class=lnt id=hl-10-29><a class=lnlinks href=#hl-10-29>29</a>
</span><span class=lnt id=hl-10-30><a class=lnlinks href=#hl-10-30>30</a>
</span><span class=lnt id=hl-10-31><a class=lnlinks href=#hl-10-31>31</a>
</span><span class=lnt id=hl-10-32><a class=lnlinks href=#hl-10-32>32</a>
</span><span class=lnt id=hl-10-33><a class=lnlinks href=#hl-10-33>33</a>
</span><span class=lnt id=hl-10-34><a class=lnlinks href=#hl-10-34>34</a>
</span><span class=lnt id=hl-10-35><a class=lnlinks href=#hl-10-35>35</a>
</span><span class=lnt id=hl-10-36><a class=lnlinks href=#hl-10-36>36</a>
</span><span class=lnt id=hl-10-37><a class=lnlinks href=#hl-10-37>37</a>
</span><span class=lnt id=hl-10-38><a class=lnlinks href=#hl-10-38>38</a>
</span><span class=lnt id=hl-10-39><a class=lnlinks href=#hl-10-39>39</a>
</span><span class=lnt id=hl-10-40><a class=lnlinks href=#hl-10-40>40</a>
</span><span class=lnt id=hl-10-41><a class=lnlinks href=#hl-10-41>41</a>
</span><span class=lnt id=hl-10-42><a class=lnlinks href=#hl-10-42>42</a>
</span><span class=lnt id=hl-10-43><a class=lnlinks href=#hl-10-43>43</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>User</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>username</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>password</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>email</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>address</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>phone</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=n>marketingConsent</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=nf>User</span><span class=p>(</span><span class=n>Builder</span><span class=w> </span><span class=n>builder</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>username</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>builder</span><span class=p>.</span><span class=na>username</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>password</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>builder</span><span class=p>.</span><span class=na>password</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>email</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>builder</span><span class=p>.</span><span class=na>email</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>address</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>builder</span><span class=p>.</span><span class=na>address</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>phone</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>builder</span><span class=p>.</span><span class=na>phone</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>marketingConsent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>builder</span><span class=p>.</span><span class=na>marketingConsent</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>class</span> <span class=nc>Builder</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>username</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>password</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>email</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>address</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>phone</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>private</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=n>marketingConsent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>false</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>public</span><span class=w> </span><span class=nf>Builder</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>username</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>password</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>email</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>this</span><span class=p>.</span><span class=na>username</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>username</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>this</span><span class=p>.</span><span class=na>password</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>password</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>this</span><span class=p>.</span><span class=na>email</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>email</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>public</span><span class=w> </span><span class=n>Builder</span><span class=w> </span><span class=nf>address</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>address</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=k>this</span><span class=p>.</span><span class=na>address</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>address</span><span class=p>;</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=k>this</span><span class=p>;</span><span class=w> </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>public</span><span class=w> </span><span class=n>Builder</span><span class=w> </span><span class=nf>phone</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>phone</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=k>this</span><span class=p>.</span><span class=na>phone</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>phone</span><span class=p>;</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=k>this</span><span class=p>;</span><span class=w> </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>public</span><span class=w> </span><span class=n>Builder</span><span class=w> </span><span class=nf>marketingConsent</span><span class=p>(</span><span class=kt>boolean</span><span class=w> </span><span class=n>consent</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	        </span><span class=k>this</span><span class=p>.</span><span class=na>marketingConsent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>consent</span><span class=p>;</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>	        </span><span class=k>return</span><span class=w> </span><span class=k>this</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>public</span><span class=w> </span><span class=n>User</span><span class=w> </span><span class=nf>build</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>User</span><span class=p>(</span><span class=k>this</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>Workflow</strong>:</p><ol><li>컨트롤러에서 <code>User.Builder(username, password, email)</code> 시작</li><li>옵션 필드에 따라 <code>.address()</code>, <code>.phone()</code> 등 체이닝</li><li><code>build()</code> 호출로 User 객체 생성</li></ol><h4 id=사례-3-문서-생성>사례 3: 문서 생성<a hidden class=anchor aria-hidden=true href=#사례-3-문서-생성>#</a></h4><p><strong>설명:</strong> Builder Pattern 은 복잡한 객체를 단계별로 생성하는 데 사용되며, 예를 들어 다양한 형식의 문서 생성에 활용된다.</p><p><strong>시스템 구성:</strong></p><ul><li>Director, Builder, ConcreteBuilder, Product</li></ul><p><strong>작동 방식:</strong></p><ul><li>Director 가 Builder 를 통해 객체 생성 단계를 호출하고, ConcreteBuilder 가 구체적 객체를 생성한다.</li></ul><p><strong>차이점:</strong></p><ul><li>패턴 미적용 시 생성 로직이 클라이언트에 노출되어 유지보수 어려움</li><li>패턴 적용 시 생성 과정 캡슐화로 유연성 증가</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1> 1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2> 2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3> 3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4> 4</a>
</span><span class=lnt id=hl-11-5><a class=lnlinks href=#hl-11-5> 5</a>
</span><span class=lnt id=hl-11-6><a class=lnlinks href=#hl-11-6> 6</a>
</span><span class=lnt id=hl-11-7><a class=lnlinks href=#hl-11-7> 7</a>
</span><span class=lnt id=hl-11-8><a class=lnlinks href=#hl-11-8> 8</a>
</span><span class=lnt id=hl-11-9><a class=lnlinks href=#hl-11-9> 9</a>
</span><span class=lnt id=hl-11-10><a class=lnlinks href=#hl-11-10>10</a>
</span><span class=lnt id=hl-11-11><a class=lnlinks href=#hl-11-11>11</a>
</span><span class=lnt id=hl-11-12><a class=lnlinks href=#hl-11-12>12</a>
</span><span class=lnt id=hl-11-13><a class=lnlinks href=#hl-11-13>13</a>
</span><span class=lnt id=hl-11-14><a class=lnlinks href=#hl-11-14>14</a>
</span><span class=lnt id=hl-11-15><a class=lnlinks href=#hl-11-15>15</a>
</span><span class=lnt id=hl-11-16><a class=lnlinks href=#hl-11-16>16</a>
</span><span class=lnt id=hl-11-17><a class=lnlinks href=#hl-11-17>17</a>
</span><span class=lnt id=hl-11-18><a class=lnlinks href=#hl-11-18>18</a>
</span><span class=lnt id=hl-11-19><a class=lnlinks href=#hl-11-19>19</a>
</span><span class=lnt id=hl-11-20><a class=lnlinks href=#hl-11-20>20</a>
</span><span class=lnt id=hl-11-21><a class=lnlinks href=#hl-11-21>21</a>
</span><span class=lnt id=hl-11-22><a class=lnlinks href=#hl-11-22>22</a>
</span><span class=lnt id=hl-11-23><a class=lnlinks href=#hl-11-23>23</a>
</span><span class=lnt id=hl-11-24><a class=lnlinks href=#hl-11-24>24</a>
</span><span class=lnt id=hl-11-25><a class=lnlinks href=#hl-11-25>25</a>
</span><span class=lnt id=hl-11-26><a class=lnlinks href=#hl-11-26>26</a>
</span><span class=lnt id=hl-11-27><a class=lnlinks href=#hl-11-27>27</a>
</span><span class=lnt id=hl-11-28><a class=lnlinks href=#hl-11-28>28</a>
</span><span class=lnt id=hl-11-29><a class=lnlinks href=#hl-11-29>29</a>
</span><span class=lnt id=hl-11-30><a class=lnlinks href=#hl-11-30>30</a>
</span><span class=lnt id=hl-11-31><a class=lnlinks href=#hl-11-31>31</a>
</span><span class=lnt id=hl-11-32><a class=lnlinks href=#hl-11-32>32</a>
</span><span class=lnt id=hl-11-33><a class=lnlinks href=#hl-11-33>33</a>
</span><span class=lnt id=hl-11-34><a class=lnlinks href=#hl-11-34>34</a>
</span><span class=lnt id=hl-11-35><a class=lnlinks href=#hl-11-35>35</a>
</span><span class=lnt id=hl-11-36><a class=lnlinks href=#hl-11-36>36</a>
</span><span class=lnt id=hl-11-37><a class=lnlinks href=#hl-11-37>37</a>
</span><span class=lnt id=hl-11-38><a class=lnlinks href=#hl-11-38>38</a>
</span><span class=lnt id=hl-11-39><a class=lnlinks href=#hl-11-39>39</a>
</span><span class=lnt id=hl-11-40><a class=lnlinks href=#hl-11-40>40</a>
</span><span class=lnt id=hl-11-41><a class=lnlinks href=#hl-11-41>41</a>
</span><span class=lnt id=hl-11-42><a class=lnlinks href=#hl-11-42>42</a>
</span><span class=lnt id=hl-11-43><a class=lnlinks href=#hl-11-43>43</a>
</span><span class=lnt id=hl-11-44><a class=lnlinks href=#hl-11-44>44</a>
</span><span class=lnt id=hl-11-45><a class=lnlinks href=#hl-11-45>45</a>
</span><span class=lnt id=hl-11-46><a class=lnlinks href=#hl-11-46>46</a>
</span><span class=lnt id=hl-11-47><a class=lnlinks href=#hl-11-47>47</a>
</span><span class=lnt id=hl-11-48><a class=lnlinks href=#hl-11-48>48</a>
</span><span class=lnt id=hl-11-49><a class=lnlinks href=#hl-11-49>49</a>
</span><span class=lnt id=hl-11-50><a class=lnlinks href=#hl-11-50>50</a>
</span><span class=lnt id=hl-11-51><a class=lnlinks href=#hl-11-51>51</a>
</span><span class=lnt id=hl-11-52><a class=lnlinks href=#hl-11-52>52</a>
</span><span class=lnt id=hl-11-53><a class=lnlinks href=#hl-11-53>53</a>
</span><span class=lnt id=hl-11-54><a class=lnlinks href=#hl-11-54>54</a>
</span><span class=lnt id=hl-11-55><a class=lnlinks href=#hl-11-55>55</a>
</span><span class=lnt id=hl-11-56><a class=lnlinks href=#hl-11-56>56</a>
</span><span class=lnt id=hl-11-57><a class=lnlinks href=#hl-11-57>57</a>
</span><span class=lnt id=hl-11-58><a class=lnlinks href=#hl-11-58>58</a>
</span><span class=lnt id=hl-11-59><a class=lnlinks href=#hl-11-59>59</a>
</span><span class=lnt id=hl-11-60><a class=lnlinks href=#hl-11-60>60</a>
</span><span class=lnt id=hl-11-61><a class=lnlinks href=#hl-11-61>61</a>
</span><span class=lnt id=hl-11-62><a class=lnlinks href=#hl-11-62>62</a>
</span><span class=lnt id=hl-11-63><a class=lnlinks href=#hl-11-63>63</a>
</span><span class=lnt id=hl-11-64><a class=lnlinks href=#hl-11-64>64</a>
</span><span class=lnt id=hl-11-65><a class=lnlinks href=#hl-11-65>65</a>
</span><span class=lnt id=hl-11-66><a class=lnlinks href=#hl-11-66>66</a>
</span><span class=lnt id=hl-11-67><a class=lnlinks href=#hl-11-67>67</a>
</span><span class=lnt id=hl-11-68><a class=lnlinks href=#hl-11-68>68</a>
</span><span class=lnt id=hl-11-69><a class=lnlinks href=#hl-11-69>69</a>
</span><span class=lnt id=hl-11-70><a class=lnlinks href=#hl-11-70>70</a>
</span><span class=lnt id=hl-11-71><a class=lnlinks href=#hl-11-71>71</a>
</span><span class=lnt id=hl-11-72><a class=lnlinks href=#hl-11-72>72</a>
</span><span class=lnt id=hl-11-73><a class=lnlinks href=#hl-11-73>73</a>
</span><span class=lnt id=hl-11-74><a class=lnlinks href=#hl-11-74>74</a>
</span><span class=lnt id=hl-11-75><a class=lnlinks href=#hl-11-75>75</a>
</span><span class=lnt id=hl-11-76><a class=lnlinks href=#hl-11-76>76</a>
</span><span class=lnt id=hl-11-77><a class=lnlinks href=#hl-11-77>77</a>
</span><span class=lnt id=hl-11-78><a class=lnlinks href=#hl-11-78>78</a>
</span><span class=lnt id=hl-11-79><a class=lnlinks href=#hl-11-79>79</a>
</span><span class=lnt id=hl-11-80><a class=lnlinks href=#hl-11-80>80</a>
</span><span class=lnt id=hl-11-81><a class=lnlinks href=#hl-11-81>81</a>
</span><span class=lnt id=hl-11-82><a class=lnlinks href=#hl-11-82>82</a>
</span><span class=lnt id=hl-11-83><a class=lnlinks href=#hl-11-83>83</a>
</span><span class=lnt id=hl-11-84><a class=lnlinks href=#hl-11-84>84</a>
</span><span class=lnt id=hl-11-85><a class=lnlinks href=#hl-11-85>85</a>
</span><span class=lnt id=hl-11-86><a class=lnlinks href=#hl-11-86>86</a>
</span><span class=lnt id=hl-11-87><a class=lnlinks href=#hl-11-87>87</a>
</span><span class=lnt id=hl-11-88><a class=lnlinks href=#hl-11-88>88</a>
</span><span class=lnt id=hl-11-89><a class=lnlinks href=#hl-11-89>89</a>
</span><span class=lnt id=hl-11-90><a class=lnlinks href=#hl-11-90>90</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Builder 인터페이스: 문서 작성 단계 정의</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DocumentBuilder</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>start_document</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add_title</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>title</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add_paragraph</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>text</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>end_document</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_result</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ConcreteBuilder 1: HTML 문서 생성기</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>HTMLBuilder</span><span class=p>(</span><span class=n>DocumentBuilder</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parts</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>start_document</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parts</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&#34;&lt;html&gt;&lt;body&gt;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add_title</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>title</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parts</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;&lt;h1&gt;</span><span class=si>{</span><span class=n>title</span><span class=si>}</span><span class=s2>&lt;/h1&gt;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add_paragraph</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>text</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parts</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;&lt;p&gt;</span><span class=si>{</span><span class=n>text</span><span class=si>}</span><span class=s2>&lt;/p&gt;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>end_document</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parts</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&#34;&lt;/body&gt;&lt;/html&gt;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_result</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>parts</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ConcreteBuilder 2: Markdown 문서 생성기</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MarkdownBuilder</span><span class=p>(</span><span class=n>DocumentBuilder</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parts</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>start_document</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parts</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&#34;# 문서 시작&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add_title</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>title</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parts</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;# </span><span class=si>{</span><span class=n>title</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add_paragraph</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>text</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parts</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>text</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>end_document</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parts</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&#34;_문서 끝_&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_result</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;</span><span class=se>\n\n</span><span class=s2>&#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>parts</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Director: Builder 사용 순서 정의</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DocumentDirector</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>builder</span><span class=p>:</span> <span class=n>DocumentBuilder</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>builder</span> <span class=o>=</span> <span class=n>builder</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>construct</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>builder</span><span class=o>.</span><span class=n>start_document</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>builder</span><span class=o>.</span><span class=n>add_title</span><span class=p>(</span><span class=s2>&#34;Builder 패턴 소개&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>builder</span><span class=o>.</span><span class=n>add_paragraph</span><span class=p>(</span><span class=s2>&#34;Builder 패턴은 복잡한 객체를 단계별로 생성할 수 있게 해준다.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>builder</span><span class=o>.</span><span class=n>add_paragraph</span><span class=p>(</span><span class=s2>&#34;여기서는 HTML과 Markdown으로 문서를 생성하는 예제를 다룬다.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>builder</span><span class=o>.</span><span class=n>end_document</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Client 코드</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># HTML 생성</span>
</span></span><span class=line><span class=cl>    <span class=n>html_builder</span> <span class=o>=</span> <span class=n>HTMLBuilder</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>director</span> <span class=o>=</span> <span class=n>DocumentDirector</span><span class=p>(</span><span class=n>html_builder</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>director</span><span class=o>.</span><span class=n>construct</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;== HTML 문서 ==&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>html_builder</span><span class=o>.</span><span class=n>get_result</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Markdown 생성</span>
</span></span><span class=line><span class=cl>    <span class=n>md_builder</span> <span class=o>=</span> <span class=n>MarkdownBuilder</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>director</span> <span class=o>=</span> <span class=n>DocumentDirector</span><span class=p>(</span><span class=n>md_builder</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>director</span><span class=o>.</span><span class=n>construct</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;== Markdown 문서 ==&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>md_builder</span><span class=o>.</span><span class=n>get_result</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=구현-예시>구현 예시<a hidden class=anchor aria-hidden=true href=#구현-예시>#</a></h3><p><strong>시스템 구성</strong>: Spring Security 에서는 웹 보안 설정을 위해 Builder Pattern 을 광범위하게 활용한다.</p><pre class=mermaid>graph TB
    A[HttpSecurity] --&gt; B[AuthorizeHttpRequestsConfigurer]
    A --&gt; C[FormLoginConfigurer]
    A --&gt; D[CsrfConfigurer]
    A --&gt; E[SessionManagementConfigurer]
    
    B --&gt; F[AuthorizationFilter]
    C --&gt; G[UsernamePasswordAuthenticationFilter]
    D --&gt; H[CsrfFilter]
    E --&gt; I[SessionManagementFilter]
    
    style A fill:#e3f2fd
    style B fill:#f3e5f5
    style C fill:#e8f5e8
    style D fill:#fff3e0
    style E fill:#fce4ec
</pre><p><strong>활용 사례 Workflow</strong>:</p><pre class=mermaid>flowchart TD
    A[Spring Security Configuration] --&gt; B[HttpSecurity Builder 생성]
    B --&gt; C[authorizeHttpRequests 설정]
    C --&gt; D[formLogin 설정]
    D --&gt; E[csrf 설정]
    E --&gt; F[sessionManagement 설정]
    F --&gt; G[build 메서드 호출]
    G --&gt; H[SecurityFilterChain 생성]
    H --&gt; I[필터 체인 등록]
    
    style A fill:#e1f5fe
    style H fill:#e8f5e8
    style I fill:#f3e5f5
</pre><p><strong>Builder Pattern 의 역할</strong>:</p><ol><li><strong>설정 단계 분리</strong>: 각 보안 기능별로 독립적 설정</li><li><strong>유연한 조합</strong>: 필요한 보안 기능만 선택적 적용</li><li><strong>체인 방식</strong>: 메서드 체이닝으로 직관적 설정</li><li><strong>타입 안전성</strong>: 컴파일 타임에 설정 오류 검출</li></ol><p>Spring Security 사례를 바탕으로 한 보안 설정 빌더를 Python 과 Javascript 로 구현</p><h4 id=python>Python<a hidden class=anchor aria-hidden=true href=#python>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1>  1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2>  2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3>  3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4>  4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5>  5</a>
</span><span class=lnt id=hl-14-6><a class=lnlinks href=#hl-14-6>  6</a>
</span><span class=lnt id=hl-14-7><a class=lnlinks href=#hl-14-7>  7</a>
</span><span class=lnt id=hl-14-8><a class=lnlinks href=#hl-14-8>  8</a>
</span><span class=lnt id=hl-14-9><a class=lnlinks href=#hl-14-9>  9</a>
</span><span class=lnt id=hl-14-10><a class=lnlinks href=#hl-14-10> 10</a>
</span><span class=lnt id=hl-14-11><a class=lnlinks href=#hl-14-11> 11</a>
</span><span class=lnt id=hl-14-12><a class=lnlinks href=#hl-14-12> 12</a>
</span><span class=lnt id=hl-14-13><a class=lnlinks href=#hl-14-13> 13</a>
</span><span class=lnt id=hl-14-14><a class=lnlinks href=#hl-14-14> 14</a>
</span><span class=lnt id=hl-14-15><a class=lnlinks href=#hl-14-15> 15</a>
</span><span class=lnt id=hl-14-16><a class=lnlinks href=#hl-14-16> 16</a>
</span><span class=lnt id=hl-14-17><a class=lnlinks href=#hl-14-17> 17</a>
</span><span class=lnt id=hl-14-18><a class=lnlinks href=#hl-14-18> 18</a>
</span><span class=lnt id=hl-14-19><a class=lnlinks href=#hl-14-19> 19</a>
</span><span class=lnt id=hl-14-20><a class=lnlinks href=#hl-14-20> 20</a>
</span><span class=lnt id=hl-14-21><a class=lnlinks href=#hl-14-21> 21</a>
</span><span class=lnt id=hl-14-22><a class=lnlinks href=#hl-14-22> 22</a>
</span><span class=lnt id=hl-14-23><a class=lnlinks href=#hl-14-23> 23</a>
</span><span class=lnt id=hl-14-24><a class=lnlinks href=#hl-14-24> 24</a>
</span><span class=lnt id=hl-14-25><a class=lnlinks href=#hl-14-25> 25</a>
</span><span class=lnt id=hl-14-26><a class=lnlinks href=#hl-14-26> 26</a>
</span><span class=lnt id=hl-14-27><a class=lnlinks href=#hl-14-27> 27</a>
</span><span class=lnt id=hl-14-28><a class=lnlinks href=#hl-14-28> 28</a>
</span><span class=lnt id=hl-14-29><a class=lnlinks href=#hl-14-29> 29</a>
</span><span class=lnt id=hl-14-30><a class=lnlinks href=#hl-14-30> 30</a>
</span><span class=lnt id=hl-14-31><a class=lnlinks href=#hl-14-31> 31</a>
</span><span class=lnt id=hl-14-32><a class=lnlinks href=#hl-14-32> 32</a>
</span><span class=lnt id=hl-14-33><a class=lnlinks href=#hl-14-33> 33</a>
</span><span class=lnt id=hl-14-34><a class=lnlinks href=#hl-14-34> 34</a>
</span><span class=lnt id=hl-14-35><a class=lnlinks href=#hl-14-35> 35</a>
</span><span class=lnt id=hl-14-36><a class=lnlinks href=#hl-14-36> 36</a>
</span><span class=lnt id=hl-14-37><a class=lnlinks href=#hl-14-37> 37</a>
</span><span class=lnt id=hl-14-38><a class=lnlinks href=#hl-14-38> 38</a>
</span><span class=lnt id=hl-14-39><a class=lnlinks href=#hl-14-39> 39</a>
</span><span class=lnt id=hl-14-40><a class=lnlinks href=#hl-14-40> 40</a>
</span><span class=lnt id=hl-14-41><a class=lnlinks href=#hl-14-41> 41</a>
</span><span class=lnt id=hl-14-42><a class=lnlinks href=#hl-14-42> 42</a>
</span><span class=lnt id=hl-14-43><a class=lnlinks href=#hl-14-43> 43</a>
</span><span class=lnt id=hl-14-44><a class=lnlinks href=#hl-14-44> 44</a>
</span><span class=lnt id=hl-14-45><a class=lnlinks href=#hl-14-45> 45</a>
</span><span class=lnt id=hl-14-46><a class=lnlinks href=#hl-14-46> 46</a>
</span><span class=lnt id=hl-14-47><a class=lnlinks href=#hl-14-47> 47</a>
</span><span class=lnt id=hl-14-48><a class=lnlinks href=#hl-14-48> 48</a>
</span><span class=lnt id=hl-14-49><a class=lnlinks href=#hl-14-49> 49</a>
</span><span class=lnt id=hl-14-50><a class=lnlinks href=#hl-14-50> 50</a>
</span><span class=lnt id=hl-14-51><a class=lnlinks href=#hl-14-51> 51</a>
</span><span class=lnt id=hl-14-52><a class=lnlinks href=#hl-14-52> 52</a>
</span><span class=lnt id=hl-14-53><a class=lnlinks href=#hl-14-53> 53</a>
</span><span class=lnt id=hl-14-54><a class=lnlinks href=#hl-14-54> 54</a>
</span><span class=lnt id=hl-14-55><a class=lnlinks href=#hl-14-55> 55</a>
</span><span class=lnt id=hl-14-56><a class=lnlinks href=#hl-14-56> 56</a>
</span><span class=lnt id=hl-14-57><a class=lnlinks href=#hl-14-57> 57</a>
</span><span class=lnt id=hl-14-58><a class=lnlinks href=#hl-14-58> 58</a>
</span><span class=lnt id=hl-14-59><a class=lnlinks href=#hl-14-59> 59</a>
</span><span class=lnt id=hl-14-60><a class=lnlinks href=#hl-14-60> 60</a>
</span><span class=lnt id=hl-14-61><a class=lnlinks href=#hl-14-61> 61</a>
</span><span class=lnt id=hl-14-62><a class=lnlinks href=#hl-14-62> 62</a>
</span><span class=lnt id=hl-14-63><a class=lnlinks href=#hl-14-63> 63</a>
</span><span class=lnt id=hl-14-64><a class=lnlinks href=#hl-14-64> 64</a>
</span><span class=lnt id=hl-14-65><a class=lnlinks href=#hl-14-65> 65</a>
</span><span class=lnt id=hl-14-66><a class=lnlinks href=#hl-14-66> 66</a>
</span><span class=lnt id=hl-14-67><a class=lnlinks href=#hl-14-67> 67</a>
</span><span class=lnt id=hl-14-68><a class=lnlinks href=#hl-14-68> 68</a>
</span><span class=lnt id=hl-14-69><a class=lnlinks href=#hl-14-69> 69</a>
</span><span class=lnt id=hl-14-70><a class=lnlinks href=#hl-14-70> 70</a>
</span><span class=lnt id=hl-14-71><a class=lnlinks href=#hl-14-71> 71</a>
</span><span class=lnt id=hl-14-72><a class=lnlinks href=#hl-14-72> 72</a>
</span><span class=lnt id=hl-14-73><a class=lnlinks href=#hl-14-73> 73</a>
</span><span class=lnt id=hl-14-74><a class=lnlinks href=#hl-14-74> 74</a>
</span><span class=lnt id=hl-14-75><a class=lnlinks href=#hl-14-75> 75</a>
</span><span class=lnt id=hl-14-76><a class=lnlinks href=#hl-14-76> 76</a>
</span><span class=lnt id=hl-14-77><a class=lnlinks href=#hl-14-77> 77</a>
</span><span class=lnt id=hl-14-78><a class=lnlinks href=#hl-14-78> 78</a>
</span><span class=lnt id=hl-14-79><a class=lnlinks href=#hl-14-79> 79</a>
</span><span class=lnt id=hl-14-80><a class=lnlinks href=#hl-14-80> 80</a>
</span><span class=lnt id=hl-14-81><a class=lnlinks href=#hl-14-81> 81</a>
</span><span class=lnt id=hl-14-82><a class=lnlinks href=#hl-14-82> 82</a>
</span><span class=lnt id=hl-14-83><a class=lnlinks href=#hl-14-83> 83</a>
</span><span class=lnt id=hl-14-84><a class=lnlinks href=#hl-14-84> 84</a>
</span><span class=lnt id=hl-14-85><a class=lnlinks href=#hl-14-85> 85</a>
</span><span class=lnt id=hl-14-86><a class=lnlinks href=#hl-14-86> 86</a>
</span><span class=lnt id=hl-14-87><a class=lnlinks href=#hl-14-87> 87</a>
</span><span class=lnt id=hl-14-88><a class=lnlinks href=#hl-14-88> 88</a>
</span><span class=lnt id=hl-14-89><a class=lnlinks href=#hl-14-89> 89</a>
</span><span class=lnt id=hl-14-90><a class=lnlinks href=#hl-14-90> 90</a>
</span><span class=lnt id=hl-14-91><a class=lnlinks href=#hl-14-91> 91</a>
</span><span class=lnt id=hl-14-92><a class=lnlinks href=#hl-14-92> 92</a>
</span><span class=lnt id=hl-14-93><a class=lnlinks href=#hl-14-93> 93</a>
</span><span class=lnt id=hl-14-94><a class=lnlinks href=#hl-14-94> 94</a>
</span><span class=lnt id=hl-14-95><a class=lnlinks href=#hl-14-95> 95</a>
</span><span class=lnt id=hl-14-96><a class=lnlinks href=#hl-14-96> 96</a>
</span><span class=lnt id=hl-14-97><a class=lnlinks href=#hl-14-97> 97</a>
</span><span class=lnt id=hl-14-98><a class=lnlinks href=#hl-14-98> 98</a>
</span><span class=lnt id=hl-14-99><a class=lnlinks href=#hl-14-99> 99</a>
</span><span class=lnt id=hl-14-100><a class=lnlinks href=#hl-14-100>100</a>
</span><span class=lnt id=hl-14-101><a class=lnlinks href=#hl-14-101>101</a>
</span><span class=lnt id=hl-14-102><a class=lnlinks href=#hl-14-102>102</a>
</span><span class=lnt id=hl-14-103><a class=lnlinks href=#hl-14-103>103</a>
</span><span class=lnt id=hl-14-104><a class=lnlinks href=#hl-14-104>104</a>
</span><span class=lnt id=hl-14-105><a class=lnlinks href=#hl-14-105>105</a>
</span><span class=lnt id=hl-14-106><a class=lnlinks href=#hl-14-106>106</a>
</span><span class=lnt id=hl-14-107><a class=lnlinks href=#hl-14-107>107</a>
</span><span class=lnt id=hl-14-108><a class=lnlinks href=#hl-14-108>108</a>
</span><span class=lnt id=hl-14-109><a class=lnlinks href=#hl-14-109>109</a>
</span><span class=lnt id=hl-14-110><a class=lnlinks href=#hl-14-110>110</a>
</span><span class=lnt id=hl-14-111><a class=lnlinks href=#hl-14-111>111</a>
</span><span class=lnt id=hl-14-112><a class=lnlinks href=#hl-14-112>112</a>
</span><span class=lnt id=hl-14-113><a class=lnlinks href=#hl-14-113>113</a>
</span><span class=lnt id=hl-14-114><a class=lnlinks href=#hl-14-114>114</a>
</span><span class=lnt id=hl-14-115><a class=lnlinks href=#hl-14-115>115</a>
</span><span class=lnt id=hl-14-116><a class=lnlinks href=#hl-14-116>116</a>
</span><span class=lnt id=hl-14-117><a class=lnlinks href=#hl-14-117>117</a>
</span><span class=lnt id=hl-14-118><a class=lnlinks href=#hl-14-118>118</a>
</span><span class=lnt id=hl-14-119><a class=lnlinks href=#hl-14-119>119</a>
</span><span class=lnt id=hl-14-120><a class=lnlinks href=#hl-14-120>120</a>
</span><span class=lnt id=hl-14-121><a class=lnlinks href=#hl-14-121>121</a>
</span><span class=lnt id=hl-14-122><a class=lnlinks href=#hl-14-122>122</a>
</span><span class=lnt id=hl-14-123><a class=lnlinks href=#hl-14-123>123</a>
</span><span class=lnt id=hl-14-124><a class=lnlinks href=#hl-14-124>124</a>
</span><span class=lnt id=hl-14-125><a class=lnlinks href=#hl-14-125>125</a>
</span><span class=lnt id=hl-14-126><a class=lnlinks href=#hl-14-126>126</a>
</span><span class=lnt id=hl-14-127><a class=lnlinks href=#hl-14-127>127</a>
</span><span class=lnt id=hl-14-128><a class=lnlinks href=#hl-14-128>128</a>
</span><span class=lnt id=hl-14-129><a class=lnlinks href=#hl-14-129>129</a>
</span><span class=lnt id=hl-14-130><a class=lnlinks href=#hl-14-130>130</a>
</span><span class=lnt id=hl-14-131><a class=lnlinks href=#hl-14-131>131</a>
</span><span class=lnt id=hl-14-132><a class=lnlinks href=#hl-14-132>132</a>
</span><span class=lnt id=hl-14-133><a class=lnlinks href=#hl-14-133>133</a>
</span><span class=lnt id=hl-14-134><a class=lnlinks href=#hl-14-134>134</a>
</span><span class=lnt id=hl-14-135><a class=lnlinks href=#hl-14-135>135</a>
</span><span class=lnt id=hl-14-136><a class=lnlinks href=#hl-14-136>136</a>
</span><span class=lnt id=hl-14-137><a class=lnlinks href=#hl-14-137>137</a>
</span><span class=lnt id=hl-14-138><a class=lnlinks href=#hl-14-138>138</a>
</span><span class=lnt id=hl-14-139><a class=lnlinks href=#hl-14-139>139</a>
</span><span class=lnt id=hl-14-140><a class=lnlinks href=#hl-14-140>140</a>
</span><span class=lnt id=hl-14-141><a class=lnlinks href=#hl-14-141>141</a>
</span><span class=lnt id=hl-14-142><a class=lnlinks href=#hl-14-142>142</a>
</span><span class=lnt id=hl-14-143><a class=lnlinks href=#hl-14-143>143</a>
</span><span class=lnt id=hl-14-144><a class=lnlinks href=#hl-14-144>144</a>
</span><span class=lnt id=hl-14-145><a class=lnlinks href=#hl-14-145>145</a>
</span><span class=lnt id=hl-14-146><a class=lnlinks href=#hl-14-146>146</a>
</span><span class=lnt id=hl-14-147><a class=lnlinks href=#hl-14-147>147</a>
</span><span class=lnt id=hl-14-148><a class=lnlinks href=#hl-14-148>148</a>
</span><span class=lnt id=hl-14-149><a class=lnlinks href=#hl-14-149>149</a>
</span><span class=lnt id=hl-14-150><a class=lnlinks href=#hl-14-150>150</a>
</span><span class=lnt id=hl-14-151><a class=lnlinks href=#hl-14-151>151</a>
</span><span class=lnt id=hl-14-152><a class=lnlinks href=#hl-14-152>152</a>
</span><span class=lnt id=hl-14-153><a class=lnlinks href=#hl-14-153>153</a>
</span><span class=lnt id=hl-14-154><a class=lnlinks href=#hl-14-154>154</a>
</span><span class=lnt id=hl-14-155><a class=lnlinks href=#hl-14-155>155</a>
</span><span class=lnt id=hl-14-156><a class=lnlinks href=#hl-14-156>156</a>
</span><span class=lnt id=hl-14-157><a class=lnlinks href=#hl-14-157>157</a>
</span><span class=lnt id=hl-14-158><a class=lnlinks href=#hl-14-158>158</a>
</span><span class=lnt id=hl-14-159><a class=lnlinks href=#hl-14-159>159</a>
</span><span class=lnt id=hl-14-160><a class=lnlinks href=#hl-14-160>160</a>
</span><span class=lnt id=hl-14-161><a class=lnlinks href=#hl-14-161>161</a>
</span><span class=lnt id=hl-14-162><a class=lnlinks href=#hl-14-162>162</a>
</span><span class=lnt id=hl-14-163><a class=lnlinks href=#hl-14-163>163</a>
</span><span class=lnt id=hl-14-164><a class=lnlinks href=#hl-14-164>164</a>
</span><span class=lnt id=hl-14-165><a class=lnlinks href=#hl-14-165>165</a>
</span><span class=lnt id=hl-14-166><a class=lnlinks href=#hl-14-166>166</a>
</span><span class=lnt id=hl-14-167><a class=lnlinks href=#hl-14-167>167</a>
</span><span class=lnt id=hl-14-168><a class=lnlinks href=#hl-14-168>168</a>
</span><span class=lnt id=hl-14-169><a class=lnlinks href=#hl-14-169>169</a>
</span><span class=lnt id=hl-14-170><a class=lnlinks href=#hl-14-170>170</a>
</span><span class=lnt id=hl-14-171><a class=lnlinks href=#hl-14-171>171</a>
</span><span class=lnt id=hl-14-172><a class=lnlinks href=#hl-14-172>172</a>
</span><span class=lnt id=hl-14-173><a class=lnlinks href=#hl-14-173>173</a>
</span><span class=lnt id=hl-14-174><a class=lnlinks href=#hl-14-174>174</a>
</span><span class=lnt id=hl-14-175><a class=lnlinks href=#hl-14-175>175</a>
</span><span class=lnt id=hl-14-176><a class=lnlinks href=#hl-14-176>176</a>
</span><span class=lnt id=hl-14-177><a class=lnlinks href=#hl-14-177>177</a>
</span><span class=lnt id=hl-14-178><a class=lnlinks href=#hl-14-178>178</a>
</span><span class=lnt id=hl-14-179><a class=lnlinks href=#hl-14-179>179</a>
</span><span class=lnt id=hl-14-180><a class=lnlinks href=#hl-14-180>180</a>
</span><span class=lnt id=hl-14-181><a class=lnlinks href=#hl-14-181>181</a>
</span><span class=lnt id=hl-14-182><a class=lnlinks href=#hl-14-182>182</a>
</span><span class=lnt id=hl-14-183><a class=lnlinks href=#hl-14-183>183</a>
</span><span class=lnt id=hl-14-184><a class=lnlinks href=#hl-14-184>184</a>
</span><span class=lnt id=hl-14-185><a class=lnlinks href=#hl-14-185>185</a>
</span><span class=lnt id=hl-14-186><a class=lnlinks href=#hl-14-186>186</a>
</span><span class=lnt id=hl-14-187><a class=lnlinks href=#hl-14-187>187</a>
</span><span class=lnt id=hl-14-188><a class=lnlinks href=#hl-14-188>188</a>
</span><span class=lnt id=hl-14-189><a class=lnlinks href=#hl-14-189>189</a>
</span><span class=lnt id=hl-14-190><a class=lnlinks href=#hl-14-190>190</a>
</span><span class=lnt id=hl-14-191><a class=lnlinks href=#hl-14-191>191</a>
</span><span class=lnt id=hl-14-192><a class=lnlinks href=#hl-14-192>192</a>
</span><span class=lnt id=hl-14-193><a class=lnlinks href=#hl-14-193>193</a>
</span><span class=lnt id=hl-14-194><a class=lnlinks href=#hl-14-194>194</a>
</span><span class=lnt id=hl-14-195><a class=lnlinks href=#hl-14-195>195</a>
</span><span class=lnt id=hl-14-196><a class=lnlinks href=#hl-14-196>196</a>
</span><span class=lnt id=hl-14-197><a class=lnlinks href=#hl-14-197>197</a>
</span><span class=lnt id=hl-14-198><a class=lnlinks href=#hl-14-198>198</a>
</span><span class=lnt id=hl-14-199><a class=lnlinks href=#hl-14-199>199</a>
</span><span class=lnt id=hl-14-200><a class=lnlinks href=#hl-14-200>200</a>
</span><span class=lnt id=hl-14-201><a class=lnlinks href=#hl-14-201>201</a>
</span><span class=lnt id=hl-14-202><a class=lnlinks href=#hl-14-202>202</a>
</span><span class=lnt id=hl-14-203><a class=lnlinks href=#hl-14-203>203</a>
</span><span class=lnt id=hl-14-204><a class=lnlinks href=#hl-14-204>204</a>
</span><span class=lnt id=hl-14-205><a class=lnlinks href=#hl-14-205>205</a>
</span><span class=lnt id=hl-14-206><a class=lnlinks href=#hl-14-206>206</a>
</span><span class=lnt id=hl-14-207><a class=lnlinks href=#hl-14-207>207</a>
</span><span class=lnt id=hl-14-208><a class=lnlinks href=#hl-14-208>208</a>
</span><span class=lnt id=hl-14-209><a class=lnlinks href=#hl-14-209>209</a>
</span><span class=lnt id=hl-14-210><a class=lnlinks href=#hl-14-210>210</a>
</span><span class=lnt id=hl-14-211><a class=lnlinks href=#hl-14-211>211</a>
</span><span class=lnt id=hl-14-212><a class=lnlinks href=#hl-14-212>212</a>
</span><span class=lnt id=hl-14-213><a class=lnlinks href=#hl-14-213>213</a>
</span><span class=lnt id=hl-14-214><a class=lnlinks href=#hl-14-214>214</a>
</span><span class=lnt id=hl-14-215><a class=lnlinks href=#hl-14-215>215</a>
</span><span class=lnt id=hl-14-216><a class=lnlinks href=#hl-14-216>216</a>
</span><span class=lnt id=hl-14-217><a class=lnlinks href=#hl-14-217>217</a>
</span><span class=lnt id=hl-14-218><a class=lnlinks href=#hl-14-218>218</a>
</span><span class=lnt id=hl-14-219><a class=lnlinks href=#hl-14-219>219</a>
</span><span class=lnt id=hl-14-220><a class=lnlinks href=#hl-14-220>220</a>
</span><span class=lnt id=hl-14-221><a class=lnlinks href=#hl-14-221>221</a>
</span><span class=lnt id=hl-14-222><a class=lnlinks href=#hl-14-222>222</a>
</span><span class=lnt id=hl-14-223><a class=lnlinks href=#hl-14-223>223</a>
</span><span class=lnt id=hl-14-224><a class=lnlinks href=#hl-14-224>224</a>
</span><span class=lnt id=hl-14-225><a class=lnlinks href=#hl-14-225>225</a>
</span><span class=lnt id=hl-14-226><a class=lnlinks href=#hl-14-226>226</a>
</span><span class=lnt id=hl-14-227><a class=lnlinks href=#hl-14-227>227</a>
</span><span class=lnt id=hl-14-228><a class=lnlinks href=#hl-14-228>228</a>
</span><span class=lnt id=hl-14-229><a class=lnlinks href=#hl-14-229>229</a>
</span><span class=lnt id=hl-14-230><a class=lnlinks href=#hl-14-230>230</a>
</span><span class=lnt id=hl-14-231><a class=lnlinks href=#hl-14-231>231</a>
</span><span class=lnt id=hl-14-232><a class=lnlinks href=#hl-14-232>232</a>
</span><span class=lnt id=hl-14-233><a class=lnlinks href=#hl-14-233>233</a>
</span><span class=lnt id=hl-14-234><a class=lnlinks href=#hl-14-234>234</a>
</span><span class=lnt id=hl-14-235><a class=lnlinks href=#hl-14-235>235</a>
</span><span class=lnt id=hl-14-236><a class=lnlinks href=#hl-14-236>236</a>
</span><span class=lnt id=hl-14-237><a class=lnlinks href=#hl-14-237>237</a>
</span><span class=lnt id=hl-14-238><a class=lnlinks href=#hl-14-238>238</a>
</span><span class=lnt id=hl-14-239><a class=lnlinks href=#hl-14-239>239</a>
</span><span class=lnt id=hl-14-240><a class=lnlinks href=#hl-14-240>240</a>
</span><span class=lnt id=hl-14-241><a class=lnlinks href=#hl-14-241>241</a>
</span><span class=lnt id=hl-14-242><a class=lnlinks href=#hl-14-242>242</a>
</span><span class=lnt id=hl-14-243><a class=lnlinks href=#hl-14-243>243</a>
</span><span class=lnt id=hl-14-244><a class=lnlinks href=#hl-14-244>244</a>
</span><span class=lnt id=hl-14-245><a class=lnlinks href=#hl-14-245>245</a>
</span><span class=lnt id=hl-14-246><a class=lnlinks href=#hl-14-246>246</a>
</span><span class=lnt id=hl-14-247><a class=lnlinks href=#hl-14-247>247</a>
</span><span class=lnt id=hl-14-248><a class=lnlinks href=#hl-14-248>248</a>
</span><span class=lnt id=hl-14-249><a class=lnlinks href=#hl-14-249>249</a>
</span><span class=lnt id=hl-14-250><a class=lnlinks href=#hl-14-250>250</a>
</span><span class=lnt id=hl-14-251><a class=lnlinks href=#hl-14-251>251</a>
</span><span class=lnt id=hl-14-252><a class=lnlinks href=#hl-14-252>252</a>
</span><span class=lnt id=hl-14-253><a class=lnlinks href=#hl-14-253>253</a>
</span><span class=lnt id=hl-14-254><a class=lnlinks href=#hl-14-254>254</a>
</span><span class=lnt id=hl-14-255><a class=lnlinks href=#hl-14-255>255</a>
</span><span class=lnt id=hl-14-256><a class=lnlinks href=#hl-14-256>256</a>
</span><span class=lnt id=hl-14-257><a class=lnlinks href=#hl-14-257>257</a>
</span><span class=lnt id=hl-14-258><a class=lnlinks href=#hl-14-258>258</a>
</span><span class=lnt id=hl-14-259><a class=lnlinks href=#hl-14-259>259</a>
</span><span class=lnt id=hl-14-260><a class=lnlinks href=#hl-14-260>260</a>
</span><span class=lnt id=hl-14-261><a class=lnlinks href=#hl-14-261>261</a>
</span><span class=lnt id=hl-14-262><a class=lnlinks href=#hl-14-262>262</a>
</span><span class=lnt id=hl-14-263><a class=lnlinks href=#hl-14-263>263</a>
</span><span class=lnt id=hl-14-264><a class=lnlinks href=#hl-14-264>264</a>
</span><span class=lnt id=hl-14-265><a class=lnlinks href=#hl-14-265>265</a>
</span><span class=lnt id=hl-14-266><a class=lnlinks href=#hl-14-266>266</a>
</span><span class=lnt id=hl-14-267><a class=lnlinks href=#hl-14-267>267</a>
</span><span class=lnt id=hl-14-268><a class=lnlinks href=#hl-14-268>268</a>
</span><span class=lnt id=hl-14-269><a class=lnlinks href=#hl-14-269>269</a>
</span><span class=lnt id=hl-14-270><a class=lnlinks href=#hl-14-270>270</a>
</span><span class=lnt id=hl-14-271><a class=lnlinks href=#hl-14-271>271</a>
</span><span class=lnt id=hl-14-272><a class=lnlinks href=#hl-14-272>272</a>
</span><span class=lnt id=hl-14-273><a class=lnlinks href=#hl-14-273>273</a>
</span><span class=lnt id=hl-14-274><a class=lnlinks href=#hl-14-274>274</a>
</span><span class=lnt id=hl-14-275><a class=lnlinks href=#hl-14-275>275</a>
</span><span class=lnt id=hl-14-276><a class=lnlinks href=#hl-14-276>276</a>
</span><span class=lnt id=hl-14-277><a class=lnlinks href=#hl-14-277>277</a>
</span><span class=lnt id=hl-14-278><a class=lnlinks href=#hl-14-278>278</a>
</span><span class=lnt id=hl-14-279><a class=lnlinks href=#hl-14-279>279</a>
</span><span class=lnt id=hl-14-280><a class=lnlinks href=#hl-14-280>280</a>
</span><span class=lnt id=hl-14-281><a class=lnlinks href=#hl-14-281>281</a>
</span><span class=lnt id=hl-14-282><a class=lnlinks href=#hl-14-282>282</a>
</span><span class=lnt id=hl-14-283><a class=lnlinks href=#hl-14-283>283</a>
</span><span class=lnt id=hl-14-284><a class=lnlinks href=#hl-14-284>284</a>
</span><span class=lnt id=hl-14-285><a class=lnlinks href=#hl-14-285>285</a>
</span><span class=lnt id=hl-14-286><a class=lnlinks href=#hl-14-286>286</a>
</span><span class=lnt id=hl-14-287><a class=lnlinks href=#hl-14-287>287</a>
</span><span class=lnt id=hl-14-288><a class=lnlinks href=#hl-14-288>288</a>
</span><span class=lnt id=hl-14-289><a class=lnlinks href=#hl-14-289>289</a>
</span><span class=lnt id=hl-14-290><a class=lnlinks href=#hl-14-290>290</a>
</span><span class=lnt id=hl-14-291><a class=lnlinks href=#hl-14-291>291</a>
</span><span class=lnt id=hl-14-292><a class=lnlinks href=#hl-14-292>292</a>
</span><span class=lnt id=hl-14-293><a class=lnlinks href=#hl-14-293>293</a>
</span><span class=lnt id=hl-14-294><a class=lnlinks href=#hl-14-294>294</a>
</span><span class=lnt id=hl-14-295><a class=lnlinks href=#hl-14-295>295</a>
</span><span class=lnt id=hl-14-296><a class=lnlinks href=#hl-14-296>296</a>
</span><span class=lnt id=hl-14-297><a class=lnlinks href=#hl-14-297>297</a>
</span><span class=lnt id=hl-14-298><a class=lnlinks href=#hl-14-298>298</a>
</span><span class=lnt id=hl-14-299><a class=lnlinks href=#hl-14-299>299</a>
</span><span class=lnt id=hl-14-300><a class=lnlinks href=#hl-14-300>300</a>
</span><span class=lnt id=hl-14-301><a class=lnlinks href=#hl-14-301>301</a>
</span><span class=lnt id=hl-14-302><a class=lnlinks href=#hl-14-302>302</a>
</span><span class=lnt id=hl-14-303><a class=lnlinks href=#hl-14-303>303</a>
</span><span class=lnt id=hl-14-304><a class=lnlinks href=#hl-14-304>304</a>
</span><span class=lnt id=hl-14-305><a class=lnlinks href=#hl-14-305>305</a>
</span><span class=lnt id=hl-14-306><a class=lnlinks href=#hl-14-306>306</a>
</span><span class=lnt id=hl-14-307><a class=lnlinks href=#hl-14-307>307</a>
</span><span class=lnt id=hl-14-308><a class=lnlinks href=#hl-14-308>308</a>
</span><span class=lnt id=hl-14-309><a class=lnlinks href=#hl-14-309>309</a>
</span><span class=lnt id=hl-14-310><a class=lnlinks href=#hl-14-310>310</a>
</span><span class=lnt id=hl-14-311><a class=lnlinks href=#hl-14-311>311</a>
</span><span class=lnt id=hl-14-312><a class=lnlinks href=#hl-14-312>312</a>
</span><span class=lnt id=hl-14-313><a class=lnlinks href=#hl-14-313>313</a>
</span><span class=lnt id=hl-14-314><a class=lnlinks href=#hl-14-314>314</a>
</span><span class=lnt id=hl-14-315><a class=lnlinks href=#hl-14-315>315</a>
</span><span class=lnt id=hl-14-316><a class=lnlinks href=#hl-14-316>316</a>
</span><span class=lnt id=hl-14-317><a class=lnlinks href=#hl-14-317>317</a>
</span><span class=lnt id=hl-14-318><a class=lnlinks href=#hl-14-318>318</a>
</span><span class=lnt id=hl-14-319><a class=lnlinks href=#hl-14-319>319</a>
</span><span class=lnt id=hl-14-320><a class=lnlinks href=#hl-14-320>320</a>
</span><span class=lnt id=hl-14-321><a class=lnlinks href=#hl-14-321>321</a>
</span><span class=lnt id=hl-14-322><a class=lnlinks href=#hl-14-322>322</a>
</span><span class=lnt id=hl-14-323><a class=lnlinks href=#hl-14-323>323</a>
</span><span class=lnt id=hl-14-324><a class=lnlinks href=#hl-14-324>324</a>
</span><span class=lnt id=hl-14-325><a class=lnlinks href=#hl-14-325>325</a>
</span><span class=lnt id=hl-14-326><a class=lnlinks href=#hl-14-326>326</a>
</span><span class=lnt id=hl-14-327><a class=lnlinks href=#hl-14-327>327</a>
</span><span class=lnt id=hl-14-328><a class=lnlinks href=#hl-14-328>328</a>
</span><span class=lnt id=hl-14-329><a class=lnlinks href=#hl-14-329>329</a>
</span><span class=lnt id=hl-14-330><a class=lnlinks href=#hl-14-330>330</a>
</span><span class=lnt id=hl-14-331><a class=lnlinks href=#hl-14-331>331</a>
</span><span class=lnt id=hl-14-332><a class=lnlinks href=#hl-14-332>332</a>
</span><span class=lnt id=hl-14-333><a class=lnlinks href=#hl-14-333>333</a>
</span><span class=lnt id=hl-14-334><a class=lnlinks href=#hl-14-334>334</a>
</span><span class=lnt id=hl-14-335><a class=lnlinks href=#hl-14-335>335</a>
</span><span class=lnt id=hl-14-336><a class=lnlinks href=#hl-14-336>336</a>
</span><span class=lnt id=hl-14-337><a class=lnlinks href=#hl-14-337>337</a>
</span><span class=lnt id=hl-14-338><a class=lnlinks href=#hl-14-338>338</a>
</span><span class=lnt id=hl-14-339><a class=lnlinks href=#hl-14-339>339</a>
</span><span class=lnt id=hl-14-340><a class=lnlinks href=#hl-14-340>340</a>
</span><span class=lnt id=hl-14-341><a class=lnlinks href=#hl-14-341>341</a>
</span><span class=lnt id=hl-14-342><a class=lnlinks href=#hl-14-342>342</a>
</span><span class=lnt id=hl-14-343><a class=lnlinks href=#hl-14-343>343</a>
</span><span class=lnt id=hl-14-344><a class=lnlinks href=#hl-14-344>344</a>
</span><span class=lnt id=hl-14-345><a class=lnlinks href=#hl-14-345>345</a>
</span><span class=lnt id=hl-14-346><a class=lnlinks href=#hl-14-346>346</a>
</span><span class=lnt id=hl-14-347><a class=lnlinks href=#hl-14-347>347</a>
</span><span class=lnt id=hl-14-348><a class=lnlinks href=#hl-14-348>348</a>
</span><span class=lnt id=hl-14-349><a class=lnlinks href=#hl-14-349>349</a>
</span><span class=lnt id=hl-14-350><a class=lnlinks href=#hl-14-350>350</a>
</span><span class=lnt id=hl-14-351><a class=lnlinks href=#hl-14-351>351</a>
</span><span class=lnt id=hl-14-352><a class=lnlinks href=#hl-14-352>352</a>
</span><span class=lnt id=hl-14-353><a class=lnlinks href=#hl-14-353>353</a>
</span><span class=lnt id=hl-14-354><a class=lnlinks href=#hl-14-354>354</a>
</span><span class=lnt id=hl-14-355><a class=lnlinks href=#hl-14-355>355</a>
</span><span class=lnt id=hl-14-356><a class=lnlinks href=#hl-14-356>356</a>
</span><span class=lnt id=hl-14-357><a class=lnlinks href=#hl-14-357>357</a>
</span><span class=lnt id=hl-14-358><a class=lnlinks href=#hl-14-358>358</a>
</span><span class=lnt id=hl-14-359><a class=lnlinks href=#hl-14-359>359</a>
</span><span class=lnt id=hl-14-360><a class=lnlinks href=#hl-14-360>360</a>
</span><span class=lnt id=hl-14-361><a class=lnlinks href=#hl-14-361>361</a>
</span><span class=lnt id=hl-14-362><a class=lnlinks href=#hl-14-362>362</a>
</span><span class=lnt id=hl-14-363><a class=lnlinks href=#hl-14-363>363</a>
</span><span class=lnt id=hl-14-364><a class=lnlinks href=#hl-14-364>364</a>
</span><span class=lnt id=hl-14-365><a class=lnlinks href=#hl-14-365>365</a>
</span><span class=lnt id=hl-14-366><a class=lnlinks href=#hl-14-366>366</a>
</span><span class=lnt id=hl-14-367><a class=lnlinks href=#hl-14-367>367</a>
</span><span class=lnt id=hl-14-368><a class=lnlinks href=#hl-14-368>368</a>
</span><span class=lnt id=hl-14-369><a class=lnlinks href=#hl-14-369>369</a>
</span><span class=lnt id=hl-14-370><a class=lnlinks href=#hl-14-370>370</a>
</span><span class=lnt id=hl-14-371><a class=lnlinks href=#hl-14-371>371</a>
</span><span class=lnt id=hl-14-372><a class=lnlinks href=#hl-14-372>372</a>
</span><span class=lnt id=hl-14-373><a class=lnlinks href=#hl-14-373>373</a>
</span><span class=lnt id=hl-14-374><a class=lnlinks href=#hl-14-374>374</a>
</span><span class=lnt id=hl-14-375><a class=lnlinks href=#hl-14-375>375</a>
</span><span class=lnt id=hl-14-376><a class=lnlinks href=#hl-14-376>376</a>
</span><span class=lnt id=hl-14-377><a class=lnlinks href=#hl-14-377>377</a>
</span><span class=lnt id=hl-14-378><a class=lnlinks href=#hl-14-378>378</a>
</span><span class=lnt id=hl-14-379><a class=lnlinks href=#hl-14-379>379</a>
</span><span class=lnt id=hl-14-380><a class=lnlinks href=#hl-14-380>380</a>
</span><span class=lnt id=hl-14-381><a class=lnlinks href=#hl-14-381>381</a>
</span><span class=lnt id=hl-14-382><a class=lnlinks href=#hl-14-382>382</a>
</span><span class=lnt id=hl-14-383><a class=lnlinks href=#hl-14-383>383</a>
</span><span class=lnt id=hl-14-384><a class=lnlinks href=#hl-14-384>384</a>
</span><span class=lnt id=hl-14-385><a class=lnlinks href=#hl-14-385>385</a>
</span><span class=lnt id=hl-14-386><a class=lnlinks href=#hl-14-386>386</a>
</span><span class=lnt id=hl-14-387><a class=lnlinks href=#hl-14-387>387</a>
</span><span class=lnt id=hl-14-388><a class=lnlinks href=#hl-14-388>388</a>
</span><span class=lnt id=hl-14-389><a class=lnlinks href=#hl-14-389>389</a>
</span><span class=lnt id=hl-14-390><a class=lnlinks href=#hl-14-390>390</a>
</span><span class=lnt id=hl-14-391><a class=lnlinks href=#hl-14-391>391</a>
</span><span class=lnt id=hl-14-392><a class=lnlinks href=#hl-14-392>392</a>
</span><span class=lnt id=hl-14-393><a class=lnlinks href=#hl-14-393>393</a>
</span><span class=lnt id=hl-14-394><a class=lnlinks href=#hl-14-394>394</a>
</span><span class=lnt id=hl-14-395><a class=lnlinks href=#hl-14-395>395</a>
</span><span class=lnt id=hl-14-396><a class=lnlinks href=#hl-14-396>396</a>
</span><span class=lnt id=hl-14-397><a class=lnlinks href=#hl-14-397>397</a>
</span><span class=lnt id=hl-14-398><a class=lnlinks href=#hl-14-398>398</a>
</span><span class=lnt id=hl-14-399><a class=lnlinks href=#hl-14-399>399</a>
</span><span class=lnt id=hl-14-400><a class=lnlinks href=#hl-14-400>400</a>
</span><span class=lnt id=hl-14-401><a class=lnlinks href=#hl-14-401>401</a>
</span><span class=lnt id=hl-14-402><a class=lnlinks href=#hl-14-402>402</a>
</span><span class=lnt id=hl-14-403><a class=lnlinks href=#hl-14-403>403</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Security Configuration Builder Pattern 구현</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>abc</span> <span class=kn>import</span> <span class=n>ABC</span><span class=p>,</span> <span class=n>abstractmethod</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Dict</span><span class=p>,</span> <span class=n>List</span><span class=p>,</span> <span class=n>Optional</span><span class=p>,</span> <span class=n>Callable</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>dataclasses</span> <span class=kn>import</span> <span class=n>dataclass</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>enum</span> <span class=kn>import</span> <span class=n>Enum</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 열거형 정의</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SessionCreationPolicy</span><span class=p>(</span><span class=n>Enum</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>IF_REQUIRED</span> <span class=o>=</span> <span class=s2>&#34;if_required&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>STATELESS</span> <span class=o>=</span> <span class=s2>&#34;stateless&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>ALWAYS</span> <span class=o>=</span> <span class=s2>&#34;always&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>HttpMethod</span><span class=p>(</span><span class=n>Enum</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>GET</span> <span class=o>=</span> <span class=s2>&#34;GET&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>POST</span> <span class=o>=</span> <span class=s2>&#34;POST&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>PUT</span> <span class=o>=</span> <span class=s2>&#34;PUT&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>DELETE</span> <span class=o>=</span> <span class=s2>&#34;DELETE&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 설정 데이터 클래스들</span>
</span></span><span class=line><span class=cl><span class=nd>@dataclass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>AuthRule</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;인증 규칙을 나타내는 데이터 클래스&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>pattern</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>roles</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>methods</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>HttpMethod</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@dataclass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>FormLoginConfig</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;폼 로그인 설정을 나타내는 데이터 클래스&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>login_page</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>success_url</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>failure_url</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>username_parameter</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&#34;username&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>password_parameter</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&#34;password&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@dataclass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CsrfConfig</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;CSRF 설정을 나타내는 데이터 클래스&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>enabled</span><span class=p>:</span> <span class=nb>bool</span>
</span></span><span class=line><span class=cl>    <span class=n>token_repository</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>    <span class=n>ignore_patterns</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@dataclass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SessionConfig</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;세션 관리 설정을 나타내는 데이터 클래스&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>creation_policy</span><span class=p>:</span> <span class=n>SessionCreationPolicy</span>
</span></span><span class=line><span class=cl>    <span class=n>max_sessions</span><span class=p>:</span> <span class=nb>int</span>
</span></span><span class=line><span class=cl>    <span class=n>max_session_prevents_login</span><span class=p>:</span> <span class=nb>bool</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Product: 최종 보안 설정 객체</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SecurityFilterChain</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;보안 필터 체인 - Builder Pattern의 Product&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                 <span class=n>auth_rules</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>AuthRule</span><span class=p>],</span>
</span></span><span class=line><span class=cl>                 <span class=n>form_login</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>FormLoginConfig</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                 <span class=n>csrf_config</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>CsrfConfig</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                 <span class=n>session_config</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>SessionConfig</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>auth_rules</span> <span class=o>=</span> <span class=n>auth_rules</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>form_login</span> <span class=o>=</span> <span class=n>form_login</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>csrf_config</span> <span class=o>=</span> <span class=n>csrf_config</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>session_config</span> <span class=o>=</span> <span class=n>session_config</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 유효성 검증</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_validate</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_validate</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;설정 유효성 검증&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>auth_rules</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&#34;최소 하나의 인증 규칙이 필요합니다.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>rule</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>auth_rules</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=n>rule</span><span class=o>.</span><span class=n>pattern</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&#34;인증 규칙에는 패턴이 필요합니다.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>apply_security</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>method</span><span class=p>:</span> <span class=n>HttpMethod</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;요청에 대한 보안 검사 수행&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>rule</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>auth_rules</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_matches_pattern</span><span class=p>(</span><span class=n>request_path</span><span class=p>,</span> <span class=n>rule</span><span class=o>.</span><span class=n>pattern</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_check_authorization</span><span class=p>(</span><span class=n>rule</span><span class=p>,</span> <span class=n>method</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_matches_pattern</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>pattern</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;URL 패턴 매칭 (간단한 와일드카드 지원)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>pattern</span><span class=o>.</span><span class=n>endswith</span><span class=p>(</span><span class=s2>&#34;**&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>path</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=n>pattern</span><span class=p>[:</span><span class=o>-</span><span class=mi>2</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>path</span> <span class=o>==</span> <span class=n>pattern</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_check_authorization</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>rule</span><span class=p>:</span> <span class=n>AuthRule</span><span class=p>,</span> <span class=n>method</span><span class=p>:</span> <span class=n>HttpMethod</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;인증 확인 (실제 구현에서는 사용자 세션 확인 등)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>method</span> <span class=ow>in</span> <span class=n>rule</span><span class=o>.</span><span class=n>methods</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Builder 인터페이스</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SecurityConfigurer</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;보안 설정자 인터페이스 - Builder Pattern의 Builder&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>and_return</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;HttpSecurityBuilder&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;부모 빌더로 돌아가기&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Concrete Builder들</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>AuthorizeHttpRequestsConfigurer</span><span class=p>(</span><span class=n>SecurityConfigurer</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;HTTP 요청 인증 설정자&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>parent</span><span class=p>:</span> <span class=s1>&#39;HttpSecurityBuilder&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span> <span class=o>=</span> <span class=n>parent</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>auth_rules</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>AuthRule</span><span class=p>]</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>request_matchers</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>pattern</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;RequestMatcherConfigurer&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;요청 매처 설정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>RequestMatcherConfigurer</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>pattern</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>any_request</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;RequestConfigurer&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;모든 요청에 대한 설정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>RequestConfigurer</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=s2>&#34;/**&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add_rule</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>rule</span><span class=p>:</span> <span class=n>AuthRule</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;인증 규칙 추가&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>auth_rules</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>rule</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>and_return</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;HttpSecurityBuilder&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;부모 빌더로 돌아가기&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>auth_rules</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>auth_rules</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>FormLoginConfigurer</span><span class=p>(</span><span class=n>SecurityConfigurer</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;폼 로그인 설정자&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>parent</span><span class=p>:</span> <span class=s1>&#39;HttpSecurityBuilder&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span> <span class=o>=</span> <span class=n>parent</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=n>FormLoginConfig</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>login_page</span><span class=o>=</span><span class=s2>&#34;/login&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>success_url</span><span class=o>=</span><span class=s2>&#34;/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>failure_url</span><span class=o>=</span><span class=s2>&#34;/login?error&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>login_page</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>page</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;FormLoginConfigurer&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;로그인 페이지 설정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>login_page</span> <span class=o>=</span> <span class=n>page</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>default_success_url</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>url</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;FormLoginConfigurer&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;로그인 성공 URL 설정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>success_url</span> <span class=o>=</span> <span class=n>url</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>failure_url</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>url</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;FormLoginConfigurer&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;로그인 실패 URL 설정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>failure_url</span> <span class=o>=</span> <span class=n>url</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>and_return</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;HttpSecurityBuilder&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;부모 빌더로 돌아가기&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>form_login_config</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CsrfConfigurer</span><span class=p>(</span><span class=n>SecurityConfigurer</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;CSRF 설정자&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>parent</span><span class=p>:</span> <span class=s1>&#39;HttpSecurityBuilder&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span> <span class=o>=</span> <span class=n>parent</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=n>CsrfConfig</span><span class=p>(</span><span class=n>enabled</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>disable</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;CsrfConfigurer&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;CSRF 비활성화&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>enabled</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>ignore_request_matchers</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>patterns</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;CsrfConfigurer&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;CSRF 검사 제외 패턴 설정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>ignore_patterns</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>patterns</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>and_return</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;HttpSecurityBuilder&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;부모 빌더로 돌아가기&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>csrf_config</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SessionManagementConfigurer</span><span class=p>(</span><span class=n>SecurityConfigurer</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;세션 관리 설정자&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>parent</span><span class=p>:</span> <span class=s1>&#39;HttpSecurityBuilder&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span> <span class=o>=</span> <span class=n>parent</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=n>SessionConfig</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>creation_policy</span><span class=o>=</span><span class=n>SessionCreationPolicy</span><span class=o>.</span><span class=n>IF_REQUIRED</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>max_sessions</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>max_session_prevents_login</span><span class=o>=</span><span class=kc>False</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>session_creation_policy</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>policy</span><span class=p>:</span> <span class=n>SessionCreationPolicy</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;SessionManagementConfigurer&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;세션 생성 정책 설정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>creation_policy</span> <span class=o>=</span> <span class=n>policy</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>maximum_sessions</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>max_sessions</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;SessionManagementConfigurer&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;최대 세션 수 설정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>max_sessions</span> <span class=o>=</span> <span class=n>max_sessions</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>and_return</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;HttpSecurityBuilder&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;부모 빌더로 돌아가기&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>session_config</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 헬퍼 클래스들</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>RequestMatcherConfigurer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;요청 매처 설정 헬퍼&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>parent</span><span class=p>:</span> <span class=n>AuthorizeHttpRequestsConfigurer</span><span class=p>,</span> <span class=n>pattern</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span> <span class=o>=</span> <span class=n>parent</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>pattern</span> <span class=o>=</span> <span class=n>pattern</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>has_role</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>role</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>AuthorizeHttpRequestsConfigurer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;역할 기반 접근 권한 설정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>rule</span> <span class=o>=</span> <span class=n>AuthRule</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>pattern</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>pattern</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>roles</span><span class=o>=</span><span class=p>[</span><span class=n>role</span><span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=n>methods</span><span class=o>=</span><span class=nb>list</span><span class=p>(</span><span class=n>HttpMethod</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>add_rule</span><span class=p>(</span><span class=n>rule</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>has_any_role</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>roles</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>AuthorizeHttpRequestsConfigurer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;다중 역할 기반 접근 권한 설정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>rule</span> <span class=o>=</span> <span class=n>AuthRule</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>pattern</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>pattern</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>roles</span><span class=o>=</span><span class=nb>list</span><span class=p>(</span><span class=n>roles</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>methods</span><span class=o>=</span><span class=nb>list</span><span class=p>(</span><span class=n>HttpMethod</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>add_rule</span><span class=p>(</span><span class=n>rule</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>RequestConfigurer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;요청 설정 헬퍼&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>parent</span><span class=p>:</span> <span class=n>AuthorizeHttpRequestsConfigurer</span><span class=p>,</span> <span class=n>pattern</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span> <span class=o>=</span> <span class=n>parent</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>pattern</span> <span class=o>=</span> <span class=n>pattern</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>authenticated</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>AuthorizeHttpRequestsConfigurer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;인증 필요 설정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>rule</span> <span class=o>=</span> <span class=n>AuthRule</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>pattern</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>pattern</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>roles</span><span class=o>=</span><span class=p>[</span><span class=s2>&#34;USER&#34;</span><span class=p>],</span>  <span class=c1># 기본 사용자 역할</span>
</span></span><span class=line><span class=cl>            <span class=n>methods</span><span class=o>=</span><span class=nb>list</span><span class=p>(</span><span class=n>HttpMethod</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>add_rule</span><span class=p>(</span><span class=n>rule</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>permit_all</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>AuthorizeHttpRequestsConfigurer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;모든 접근 허용&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>rule</span> <span class=o>=</span> <span class=n>AuthRule</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>pattern</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>pattern</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>roles</span><span class=o>=</span><span class=p>[],</span>  <span class=c1># 빈 역할 = 모든 접근 허용</span>
</span></span><span class=line><span class=cl>            <span class=n>methods</span><span class=o>=</span><span class=nb>list</span><span class=p>(</span><span class=n>HttpMethod</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>add_rule</span><span class=p>(</span><span class=n>rule</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 메인 빌더 클래스</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>HttpSecurityBuilder</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;HTTP 보안 설정 빌더 - Builder Pattern의 ConcreteBuilder&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>auth_rules</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>AuthRule</span><span class=p>]</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>form_login_config</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>FormLoginConfig</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>csrf_config</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>CsrfConfig</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>session_config</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>SessionConfig</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>authorize_http_requests</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                               <span class=n>configurer</span><span class=p>:</span> <span class=n>Callable</span><span class=p>[[</span><span class=n>AuthorizeHttpRequestsConfigurer</span><span class=p>],</span> <span class=n>AuthorizeHttpRequestsConfigurer</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=s1>&#39;HttpSecurityBuilder&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;HTTP 요청 인증 설정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>auth_configurer</span> <span class=o>=</span> <span class=n>AuthorizeHttpRequestsConfigurer</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>configurer</span><span class=p>(</span><span class=n>auth_configurer</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># configurer 함수가 and_return()을 호출하여 설정이 완료됨</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>form_login</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                   <span class=n>configurer</span><span class=p>:</span> <span class=n>Callable</span><span class=p>[[</span><span class=n>FormLoginConfigurer</span><span class=p>],</span> <span class=n>FormLoginConfigurer</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=s1>&#39;HttpSecurityBuilder&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;폼 로그인 설정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>login_configurer</span> <span class=o>=</span> <span class=n>FormLoginConfigurer</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>configurer</span><span class=p>(</span><span class=n>login_configurer</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>csrf</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>             <span class=n>configurer</span><span class=p>:</span> <span class=n>Callable</span><span class=p>[[</span><span class=n>CsrfConfigurer</span><span class=p>],</span> <span class=n>CsrfConfigurer</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=s1>&#39;HttpSecurityBuilder&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;CSRF 설정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>csrf_configurer</span> <span class=o>=</span> <span class=n>CsrfConfigurer</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>configurer</span><span class=p>(</span><span class=n>csrf_configurer</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>session_management</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                          <span class=n>configurer</span><span class=p>:</span> <span class=n>Callable</span><span class=p>[[</span><span class=n>SessionManagementConfigurer</span><span class=p>],</span> <span class=n>SessionManagementConfigurer</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=s1>&#39;HttpSecurityBuilder&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;세션 관리 설정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>session_configurer</span> <span class=o>=</span> <span class=n>SessionManagementConfigurer</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>configurer</span><span class=p>(</span><span class=n>session_configurer</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>build</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>SecurityFilterChain</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;최종 보안 필터 체인 생성&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>SecurityFilterChain</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>auth_rules</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>auth_rules</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>form_login</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>form_login_config</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>csrf_config</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>csrf_config</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>session_config</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>session_config</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Director (선택사항) - 공통 설정 템플릿</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SecurityConfigurationDirector</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;보안 설정 디렉터 - 일반적인 설정 패턴 제공&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@staticmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>basic_web_security</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>SecurityFilterChain</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;기본 웹 보안 설정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>(</span><span class=n>HttpSecurityBuilder</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=n>authorize_http_requests</span><span class=p>(</span><span class=k>lambda</span> <span class=n>auth</span><span class=p>:</span> 
</span></span><span class=line><span class=cl>                    <span class=n>auth</span><span class=o>.</span><span class=n>request_matchers</span><span class=p>(</span><span class=s2>&#34;/public/**&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>permit_all</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                        <span class=o>.</span><span class=n>request_matchers</span><span class=p>(</span><span class=s2>&#34;/admin/**&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>has_role</span><span class=p>(</span><span class=s2>&#34;ADMIN&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                        <span class=o>.</span><span class=n>any_request</span><span class=p>()</span><span class=o>.</span><span class=n>authenticated</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                        <span class=o>.</span><span class=n>and_return</span><span class=p>())</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=n>form_login</span><span class=p>(</span><span class=k>lambda</span> <span class=n>form</span><span class=p>:</span> 
</span></span><span class=line><span class=cl>                    <span class=n>form</span><span class=o>.</span><span class=n>login_page</span><span class=p>(</span><span class=s2>&#34;/login&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                        <span class=o>.</span><span class=n>default_success_url</span><span class=p>(</span><span class=s2>&#34;/dashboard&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                        <span class=o>.</span><span class=n>and_return</span><span class=p>())</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=n>csrf</span><span class=p>(</span><span class=k>lambda</span> <span class=n>csrf</span><span class=p>:</span> <span class=n>csrf</span><span class=o>.</span><span class=n>and_return</span><span class=p>())</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=n>build</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@staticmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>api_security</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>SecurityFilterChain</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;API 보안 설정 (무상태)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>(</span><span class=n>HttpSecurityBuilder</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=n>authorize_http_requests</span><span class=p>(</span><span class=k>lambda</span> <span class=n>auth</span><span class=p>:</span> 
</span></span><span class=line><span class=cl>                    <span class=n>auth</span><span class=o>.</span><span class=n>request_matchers</span><span class=p>(</span><span class=s2>&#34;/api/public/**&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>permit_all</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                        <span class=o>.</span><span class=n>any_request</span><span class=p>()</span><span class=o>.</span><span class=n>authenticated</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                        <span class=o>.</span><span class=n>and_return</span><span class=p>())</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=n>csrf</span><span class=p>(</span><span class=k>lambda</span> <span class=n>csrf</span><span class=p>:</span> <span class=n>csrf</span><span class=o>.</span><span class=n>disable</span><span class=p>()</span><span class=o>.</span><span class=n>and_return</span><span class=p>())</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=n>session_management</span><span class=p>(</span><span class=k>lambda</span> <span class=n>session</span><span class=p>:</span> 
</span></span><span class=line><span class=cl>                    <span class=n>session</span><span class=o>.</span><span class=n>session_creation_policy</span><span class=p>(</span><span class=n>SessionCreationPolicy</span><span class=o>.</span><span class=n>STATELESS</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                           <span class=o>.</span><span class=n>and_return</span><span class=p>())</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=n>build</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용 예시와 테스트</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>demonstrate_builder_pattern</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Builder Pattern 사용 예시&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;=== Builder Pattern 보안 설정 예시 ===</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 1. 수동 빌더 사용 (Fluent Interface)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;1. 수동 빌더 설정:&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>security_chain</span> <span class=o>=</span> <span class=p>(</span><span class=n>HttpSecurityBuilder</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                     <span class=o>.</span><span class=n>authorize_http_requests</span><span class=p>(</span><span class=k>lambda</span> <span class=n>auth</span><span class=p>:</span> 
</span></span><span class=line><span class=cl>                         <span class=n>auth</span><span class=o>.</span><span class=n>request_matchers</span><span class=p>(</span><span class=s2>&#34;/admin/**&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>has_role</span><span class=p>(</span><span class=s2>&#34;ADMIN&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                             <span class=o>.</span><span class=n>request_matchers</span><span class=p>(</span><span class=s2>&#34;/user/**&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>has_any_role</span><span class=p>(</span><span class=s2>&#34;USER&#34;</span><span class=p>,</span> <span class=s2>&#34;ADMIN&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                             <span class=o>.</span><span class=n>request_matchers</span><span class=p>(</span><span class=s2>&#34;/public/**&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>permit_all</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                             <span class=o>.</span><span class=n>any_request</span><span class=p>()</span><span class=o>.</span><span class=n>authenticated</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                             <span class=o>.</span><span class=n>and_return</span><span class=p>())</span>
</span></span><span class=line><span class=cl>                     <span class=o>.</span><span class=n>form_login</span><span class=p>(</span><span class=k>lambda</span> <span class=n>form</span><span class=p>:</span> 
</span></span><span class=line><span class=cl>                         <span class=n>form</span><span class=o>.</span><span class=n>login_page</span><span class=p>(</span><span class=s2>&#34;/custom-login&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                             <span class=o>.</span><span class=n>default_success_url</span><span class=p>(</span><span class=s2>&#34;/home&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                             <span class=o>.</span><span class=n>failure_url</span><span class=p>(</span><span class=s2>&#34;/login?error=true&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                             <span class=o>.</span><span class=n>and_return</span><span class=p>())</span>
</span></span><span class=line><span class=cl>                     <span class=o>.</span><span class=n>csrf</span><span class=p>(</span><span class=k>lambda</span> <span class=n>csrf</span><span class=p>:</span> 
</span></span><span class=line><span class=cl>                         <span class=n>csrf</span><span class=o>.</span><span class=n>ignore_request_matchers</span><span class=p>(</span><span class=s2>&#34;/api/**&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                             <span class=o>.</span><span class=n>and_return</span><span class=p>())</span>
</span></span><span class=line><span class=cl>                     <span class=o>.</span><span class=n>session_management</span><span class=p>(</span><span class=k>lambda</span> <span class=n>session</span><span class=p>:</span> 
</span></span><span class=line><span class=cl>                         <span class=n>session</span><span class=o>.</span><span class=n>session_creation_policy</span><span class=p>(</span><span class=n>SessionCreationPolicy</span><span class=o>.</span><span class=n>IF_REQUIRED</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                                <span class=o>.</span><span class=n>maximum_sessions</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                                <span class=o>.</span><span class=n>and_return</span><span class=p>())</span>
</span></span><span class=line><span class=cl>                     <span class=o>.</span><span class=n>build</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;생성된 인증 규칙 수: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>security_chain</span><span class=o>.</span><span class=n>auth_rules</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;폼 로그인 페이지: </span><span class=si>{</span><span class=n>security_chain</span><span class=o>.</span><span class=n>form_login</span><span class=o>.</span><span class=n>login_page</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;CSRF 활성화: </span><span class=si>{</span><span class=n>security_chain</span><span class=o>.</span><span class=n>csrf_config</span><span class=o>.</span><span class=n>enabled</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 2. Director 사용 (사전 정의된 템플릿)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;2. Director를 통한 기본 웹 보안 설정:&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>basic_security</span> <span class=o>=</span> <span class=n>SecurityConfigurationDirector</span><span class=o>.</span><span class=n>basic_web_security</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;기본 설정 규칙 수: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>basic_security</span><span class=o>.</span><span class=n>auth_rules</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>3. Director를 통한 API 보안 설정:&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>api_security</span> <span class=o>=</span> <span class=n>SecurityConfigurationDirector</span><span class=o>.</span><span class=n>api_security</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;API 설정 규칙 수: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>api_security</span><span class=o>.</span><span class=n>auth_rules</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;세션 정책: </span><span class=si>{</span><span class=n>api_security</span><span class=o>.</span><span class=n>session_config</span><span class=o>.</span><span class=n>creation_policy</span><span class=o>.</span><span class=n>value</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 3. 보안 검사 테스트</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;4. 보안 검사 테스트:&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>test_cases</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=s2>&#34;/admin/users&#34;</span><span class=p>,</span> <span class=n>HttpMethod</span><span class=o>.</span><span class=n>GET</span><span class=p>,</span> <span class=s2>&#34;관리자 페이지&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=s2>&#34;/user/profile&#34;</span><span class=p>,</span> <span class=n>HttpMethod</span><span class=o>.</span><span class=n>POST</span><span class=p>,</span> <span class=s2>&#34;사용자 페이지&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=s2>&#34;/public/info&#34;</span><span class=p>,</span> <span class=n>HttpMethod</span><span class=o>.</span><span class=n>GET</span><span class=p>,</span> <span class=s2>&#34;공개 페이지&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=s2>&#34;/protected&#34;</span><span class=p>,</span> <span class=n>HttpMethod</span><span class=o>.</span><span class=n>GET</span><span class=p>,</span> <span class=s2>&#34;보호된 페이지&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>path</span><span class=p>,</span> <span class=n>method</span><span class=p>,</span> <span class=n>description</span> <span class=ow>in</span> <span class=n>test_cases</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>is_authorized</span> <span class=o>=</span> <span class=n>security_chain</span><span class=o>.</span><span class=n>apply_security</span><span class=p>(</span><span class=n>path</span><span class=p>,</span> <span class=n>method</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>description</span><span class=si>}</span><span class=s2> (</span><span class=si>{</span><span class=n>path</span><span class=si>}</span><span class=s2>): </span><span class=si>{</span><span class=s1>&#39;허용&#39;</span> <span class=k>if</span> <span class=n>is_authorized</span> <span class=k>else</span> <span class=s1>&#39;차단&#39;</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>demonstrate_builder_pattern</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=javascript>Javascript<a hidden class=anchor aria-hidden=true href=#javascript>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1>  1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2>  2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3>  3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4>  4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5>  5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6>  6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7>  7</a>
</span><span class=lnt id=hl-15-8><a class=lnlinks href=#hl-15-8>  8</a>
</span><span class=lnt id=hl-15-9><a class=lnlinks href=#hl-15-9>  9</a>
</span><span class=lnt id=hl-15-10><a class=lnlinks href=#hl-15-10> 10</a>
</span><span class=lnt id=hl-15-11><a class=lnlinks href=#hl-15-11> 11</a>
</span><span class=lnt id=hl-15-12><a class=lnlinks href=#hl-15-12> 12</a>
</span><span class=lnt id=hl-15-13><a class=lnlinks href=#hl-15-13> 13</a>
</span><span class=lnt id=hl-15-14><a class=lnlinks href=#hl-15-14> 14</a>
</span><span class=lnt id=hl-15-15><a class=lnlinks href=#hl-15-15> 15</a>
</span><span class=lnt id=hl-15-16><a class=lnlinks href=#hl-15-16> 16</a>
</span><span class=lnt id=hl-15-17><a class=lnlinks href=#hl-15-17> 17</a>
</span><span class=lnt id=hl-15-18><a class=lnlinks href=#hl-15-18> 18</a>
</span><span class=lnt id=hl-15-19><a class=lnlinks href=#hl-15-19> 19</a>
</span><span class=lnt id=hl-15-20><a class=lnlinks href=#hl-15-20> 20</a>
</span><span class=lnt id=hl-15-21><a class=lnlinks href=#hl-15-21> 21</a>
</span><span class=lnt id=hl-15-22><a class=lnlinks href=#hl-15-22> 22</a>
</span><span class=lnt id=hl-15-23><a class=lnlinks href=#hl-15-23> 23</a>
</span><span class=lnt id=hl-15-24><a class=lnlinks href=#hl-15-24> 24</a>
</span><span class=lnt id=hl-15-25><a class=lnlinks href=#hl-15-25> 25</a>
</span><span class=lnt id=hl-15-26><a class=lnlinks href=#hl-15-26> 26</a>
</span><span class=lnt id=hl-15-27><a class=lnlinks href=#hl-15-27> 27</a>
</span><span class=lnt id=hl-15-28><a class=lnlinks href=#hl-15-28> 28</a>
</span><span class=lnt id=hl-15-29><a class=lnlinks href=#hl-15-29> 29</a>
</span><span class=lnt id=hl-15-30><a class=lnlinks href=#hl-15-30> 30</a>
</span><span class=lnt id=hl-15-31><a class=lnlinks href=#hl-15-31> 31</a>
</span><span class=lnt id=hl-15-32><a class=lnlinks href=#hl-15-32> 32</a>
</span><span class=lnt id=hl-15-33><a class=lnlinks href=#hl-15-33> 33</a>
</span><span class=lnt id=hl-15-34><a class=lnlinks href=#hl-15-34> 34</a>
</span><span class=lnt id=hl-15-35><a class=lnlinks href=#hl-15-35> 35</a>
</span><span class=lnt id=hl-15-36><a class=lnlinks href=#hl-15-36> 36</a>
</span><span class=lnt id=hl-15-37><a class=lnlinks href=#hl-15-37> 37</a>
</span><span class=lnt id=hl-15-38><a class=lnlinks href=#hl-15-38> 38</a>
</span><span class=lnt id=hl-15-39><a class=lnlinks href=#hl-15-39> 39</a>
</span><span class=lnt id=hl-15-40><a class=lnlinks href=#hl-15-40> 40</a>
</span><span class=lnt id=hl-15-41><a class=lnlinks href=#hl-15-41> 41</a>
</span><span class=lnt id=hl-15-42><a class=lnlinks href=#hl-15-42> 42</a>
</span><span class=lnt id=hl-15-43><a class=lnlinks href=#hl-15-43> 43</a>
</span><span class=lnt id=hl-15-44><a class=lnlinks href=#hl-15-44> 44</a>
</span><span class=lnt id=hl-15-45><a class=lnlinks href=#hl-15-45> 45</a>
</span><span class=lnt id=hl-15-46><a class=lnlinks href=#hl-15-46> 46</a>
</span><span class=lnt id=hl-15-47><a class=lnlinks href=#hl-15-47> 47</a>
</span><span class=lnt id=hl-15-48><a class=lnlinks href=#hl-15-48> 48</a>
</span><span class=lnt id=hl-15-49><a class=lnlinks href=#hl-15-49> 49</a>
</span><span class=lnt id=hl-15-50><a class=lnlinks href=#hl-15-50> 50</a>
</span><span class=lnt id=hl-15-51><a class=lnlinks href=#hl-15-51> 51</a>
</span><span class=lnt id=hl-15-52><a class=lnlinks href=#hl-15-52> 52</a>
</span><span class=lnt id=hl-15-53><a class=lnlinks href=#hl-15-53> 53</a>
</span><span class=lnt id=hl-15-54><a class=lnlinks href=#hl-15-54> 54</a>
</span><span class=lnt id=hl-15-55><a class=lnlinks href=#hl-15-55> 55</a>
</span><span class=lnt id=hl-15-56><a class=lnlinks href=#hl-15-56> 56</a>
</span><span class=lnt id=hl-15-57><a class=lnlinks href=#hl-15-57> 57</a>
</span><span class=lnt id=hl-15-58><a class=lnlinks href=#hl-15-58> 58</a>
</span><span class=lnt id=hl-15-59><a class=lnlinks href=#hl-15-59> 59</a>
</span><span class=lnt id=hl-15-60><a class=lnlinks href=#hl-15-60> 60</a>
</span><span class=lnt id=hl-15-61><a class=lnlinks href=#hl-15-61> 61</a>
</span><span class=lnt id=hl-15-62><a class=lnlinks href=#hl-15-62> 62</a>
</span><span class=lnt id=hl-15-63><a class=lnlinks href=#hl-15-63> 63</a>
</span><span class=lnt id=hl-15-64><a class=lnlinks href=#hl-15-64> 64</a>
</span><span class=lnt id=hl-15-65><a class=lnlinks href=#hl-15-65> 65</a>
</span><span class=lnt id=hl-15-66><a class=lnlinks href=#hl-15-66> 66</a>
</span><span class=lnt id=hl-15-67><a class=lnlinks href=#hl-15-67> 67</a>
</span><span class=lnt id=hl-15-68><a class=lnlinks href=#hl-15-68> 68</a>
</span><span class=lnt id=hl-15-69><a class=lnlinks href=#hl-15-69> 69</a>
</span><span class=lnt id=hl-15-70><a class=lnlinks href=#hl-15-70> 70</a>
</span><span class=lnt id=hl-15-71><a class=lnlinks href=#hl-15-71> 71</a>
</span><span class=lnt id=hl-15-72><a class=lnlinks href=#hl-15-72> 72</a>
</span><span class=lnt id=hl-15-73><a class=lnlinks href=#hl-15-73> 73</a>
</span><span class=lnt id=hl-15-74><a class=lnlinks href=#hl-15-74> 74</a>
</span><span class=lnt id=hl-15-75><a class=lnlinks href=#hl-15-75> 75</a>
</span><span class=lnt id=hl-15-76><a class=lnlinks href=#hl-15-76> 76</a>
</span><span class=lnt id=hl-15-77><a class=lnlinks href=#hl-15-77> 77</a>
</span><span class=lnt id=hl-15-78><a class=lnlinks href=#hl-15-78> 78</a>
</span><span class=lnt id=hl-15-79><a class=lnlinks href=#hl-15-79> 79</a>
</span><span class=lnt id=hl-15-80><a class=lnlinks href=#hl-15-80> 80</a>
</span><span class=lnt id=hl-15-81><a class=lnlinks href=#hl-15-81> 81</a>
</span><span class=lnt id=hl-15-82><a class=lnlinks href=#hl-15-82> 82</a>
</span><span class=lnt id=hl-15-83><a class=lnlinks href=#hl-15-83> 83</a>
</span><span class=lnt id=hl-15-84><a class=lnlinks href=#hl-15-84> 84</a>
</span><span class=lnt id=hl-15-85><a class=lnlinks href=#hl-15-85> 85</a>
</span><span class=lnt id=hl-15-86><a class=lnlinks href=#hl-15-86> 86</a>
</span><span class=lnt id=hl-15-87><a class=lnlinks href=#hl-15-87> 87</a>
</span><span class=lnt id=hl-15-88><a class=lnlinks href=#hl-15-88> 88</a>
</span><span class=lnt id=hl-15-89><a class=lnlinks href=#hl-15-89> 89</a>
</span><span class=lnt id=hl-15-90><a class=lnlinks href=#hl-15-90> 90</a>
</span><span class=lnt id=hl-15-91><a class=lnlinks href=#hl-15-91> 91</a>
</span><span class=lnt id=hl-15-92><a class=lnlinks href=#hl-15-92> 92</a>
</span><span class=lnt id=hl-15-93><a class=lnlinks href=#hl-15-93> 93</a>
</span><span class=lnt id=hl-15-94><a class=lnlinks href=#hl-15-94> 94</a>
</span><span class=lnt id=hl-15-95><a class=lnlinks href=#hl-15-95> 95</a>
</span><span class=lnt id=hl-15-96><a class=lnlinks href=#hl-15-96> 96</a>
</span><span class=lnt id=hl-15-97><a class=lnlinks href=#hl-15-97> 97</a>
</span><span class=lnt id=hl-15-98><a class=lnlinks href=#hl-15-98> 98</a>
</span><span class=lnt id=hl-15-99><a class=lnlinks href=#hl-15-99> 99</a>
</span><span class=lnt id=hl-15-100><a class=lnlinks href=#hl-15-100>100</a>
</span><span class=lnt id=hl-15-101><a class=lnlinks href=#hl-15-101>101</a>
</span><span class=lnt id=hl-15-102><a class=lnlinks href=#hl-15-102>102</a>
</span><span class=lnt id=hl-15-103><a class=lnlinks href=#hl-15-103>103</a>
</span><span class=lnt id=hl-15-104><a class=lnlinks href=#hl-15-104>104</a>
</span><span class=lnt id=hl-15-105><a class=lnlinks href=#hl-15-105>105</a>
</span><span class=lnt id=hl-15-106><a class=lnlinks href=#hl-15-106>106</a>
</span><span class=lnt id=hl-15-107><a class=lnlinks href=#hl-15-107>107</a>
</span><span class=lnt id=hl-15-108><a class=lnlinks href=#hl-15-108>108</a>
</span><span class=lnt id=hl-15-109><a class=lnlinks href=#hl-15-109>109</a>
</span><span class=lnt id=hl-15-110><a class=lnlinks href=#hl-15-110>110</a>
</span><span class=lnt id=hl-15-111><a class=lnlinks href=#hl-15-111>111</a>
</span><span class=lnt id=hl-15-112><a class=lnlinks href=#hl-15-112>112</a>
</span><span class=lnt id=hl-15-113><a class=lnlinks href=#hl-15-113>113</a>
</span><span class=lnt id=hl-15-114><a class=lnlinks href=#hl-15-114>114</a>
</span><span class=lnt id=hl-15-115><a class=lnlinks href=#hl-15-115>115</a>
</span><span class=lnt id=hl-15-116><a class=lnlinks href=#hl-15-116>116</a>
</span><span class=lnt id=hl-15-117><a class=lnlinks href=#hl-15-117>117</a>
</span><span class=lnt id=hl-15-118><a class=lnlinks href=#hl-15-118>118</a>
</span><span class=lnt id=hl-15-119><a class=lnlinks href=#hl-15-119>119</a>
</span><span class=lnt id=hl-15-120><a class=lnlinks href=#hl-15-120>120</a>
</span><span class=lnt id=hl-15-121><a class=lnlinks href=#hl-15-121>121</a>
</span><span class=lnt id=hl-15-122><a class=lnlinks href=#hl-15-122>122</a>
</span><span class=lnt id=hl-15-123><a class=lnlinks href=#hl-15-123>123</a>
</span><span class=lnt id=hl-15-124><a class=lnlinks href=#hl-15-124>124</a>
</span><span class=lnt id=hl-15-125><a class=lnlinks href=#hl-15-125>125</a>
</span><span class=lnt id=hl-15-126><a class=lnlinks href=#hl-15-126>126</a>
</span><span class=lnt id=hl-15-127><a class=lnlinks href=#hl-15-127>127</a>
</span><span class=lnt id=hl-15-128><a class=lnlinks href=#hl-15-128>128</a>
</span><span class=lnt id=hl-15-129><a class=lnlinks href=#hl-15-129>129</a>
</span><span class=lnt id=hl-15-130><a class=lnlinks href=#hl-15-130>130</a>
</span><span class=lnt id=hl-15-131><a class=lnlinks href=#hl-15-131>131</a>
</span><span class=lnt id=hl-15-132><a class=lnlinks href=#hl-15-132>132</a>
</span><span class=lnt id=hl-15-133><a class=lnlinks href=#hl-15-133>133</a>
</span><span class=lnt id=hl-15-134><a class=lnlinks href=#hl-15-134>134</a>
</span><span class=lnt id=hl-15-135><a class=lnlinks href=#hl-15-135>135</a>
</span><span class=lnt id=hl-15-136><a class=lnlinks href=#hl-15-136>136</a>
</span><span class=lnt id=hl-15-137><a class=lnlinks href=#hl-15-137>137</a>
</span><span class=lnt id=hl-15-138><a class=lnlinks href=#hl-15-138>138</a>
</span><span class=lnt id=hl-15-139><a class=lnlinks href=#hl-15-139>139</a>
</span><span class=lnt id=hl-15-140><a class=lnlinks href=#hl-15-140>140</a>
</span><span class=lnt id=hl-15-141><a class=lnlinks href=#hl-15-141>141</a>
</span><span class=lnt id=hl-15-142><a class=lnlinks href=#hl-15-142>142</a>
</span><span class=lnt id=hl-15-143><a class=lnlinks href=#hl-15-143>143</a>
</span><span class=lnt id=hl-15-144><a class=lnlinks href=#hl-15-144>144</a>
</span><span class=lnt id=hl-15-145><a class=lnlinks href=#hl-15-145>145</a>
</span><span class=lnt id=hl-15-146><a class=lnlinks href=#hl-15-146>146</a>
</span><span class=lnt id=hl-15-147><a class=lnlinks href=#hl-15-147>147</a>
</span><span class=lnt id=hl-15-148><a class=lnlinks href=#hl-15-148>148</a>
</span><span class=lnt id=hl-15-149><a class=lnlinks href=#hl-15-149>149</a>
</span><span class=lnt id=hl-15-150><a class=lnlinks href=#hl-15-150>150</a>
</span><span class=lnt id=hl-15-151><a class=lnlinks href=#hl-15-151>151</a>
</span><span class=lnt id=hl-15-152><a class=lnlinks href=#hl-15-152>152</a>
</span><span class=lnt id=hl-15-153><a class=lnlinks href=#hl-15-153>153</a>
</span><span class=lnt id=hl-15-154><a class=lnlinks href=#hl-15-154>154</a>
</span><span class=lnt id=hl-15-155><a class=lnlinks href=#hl-15-155>155</a>
</span><span class=lnt id=hl-15-156><a class=lnlinks href=#hl-15-156>156</a>
</span><span class=lnt id=hl-15-157><a class=lnlinks href=#hl-15-157>157</a>
</span><span class=lnt id=hl-15-158><a class=lnlinks href=#hl-15-158>158</a>
</span><span class=lnt id=hl-15-159><a class=lnlinks href=#hl-15-159>159</a>
</span><span class=lnt id=hl-15-160><a class=lnlinks href=#hl-15-160>160</a>
</span><span class=lnt id=hl-15-161><a class=lnlinks href=#hl-15-161>161</a>
</span><span class=lnt id=hl-15-162><a class=lnlinks href=#hl-15-162>162</a>
</span><span class=lnt id=hl-15-163><a class=lnlinks href=#hl-15-163>163</a>
</span><span class=lnt id=hl-15-164><a class=lnlinks href=#hl-15-164>164</a>
</span><span class=lnt id=hl-15-165><a class=lnlinks href=#hl-15-165>165</a>
</span><span class=lnt id=hl-15-166><a class=lnlinks href=#hl-15-166>166</a>
</span><span class=lnt id=hl-15-167><a class=lnlinks href=#hl-15-167>167</a>
</span><span class=lnt id=hl-15-168><a class=lnlinks href=#hl-15-168>168</a>
</span><span class=lnt id=hl-15-169><a class=lnlinks href=#hl-15-169>169</a>
</span><span class=lnt id=hl-15-170><a class=lnlinks href=#hl-15-170>170</a>
</span><span class=lnt id=hl-15-171><a class=lnlinks href=#hl-15-171>171</a>
</span><span class=lnt id=hl-15-172><a class=lnlinks href=#hl-15-172>172</a>
</span><span class=lnt id=hl-15-173><a class=lnlinks href=#hl-15-173>173</a>
</span><span class=lnt id=hl-15-174><a class=lnlinks href=#hl-15-174>174</a>
</span><span class=lnt id=hl-15-175><a class=lnlinks href=#hl-15-175>175</a>
</span><span class=lnt id=hl-15-176><a class=lnlinks href=#hl-15-176>176</a>
</span><span class=lnt id=hl-15-177><a class=lnlinks href=#hl-15-177>177</a>
</span><span class=lnt id=hl-15-178><a class=lnlinks href=#hl-15-178>178</a>
</span><span class=lnt id=hl-15-179><a class=lnlinks href=#hl-15-179>179</a>
</span><span class=lnt id=hl-15-180><a class=lnlinks href=#hl-15-180>180</a>
</span><span class=lnt id=hl-15-181><a class=lnlinks href=#hl-15-181>181</a>
</span><span class=lnt id=hl-15-182><a class=lnlinks href=#hl-15-182>182</a>
</span><span class=lnt id=hl-15-183><a class=lnlinks href=#hl-15-183>183</a>
</span><span class=lnt id=hl-15-184><a class=lnlinks href=#hl-15-184>184</a>
</span><span class=lnt id=hl-15-185><a class=lnlinks href=#hl-15-185>185</a>
</span><span class=lnt id=hl-15-186><a class=lnlinks href=#hl-15-186>186</a>
</span><span class=lnt id=hl-15-187><a class=lnlinks href=#hl-15-187>187</a>
</span><span class=lnt id=hl-15-188><a class=lnlinks href=#hl-15-188>188</a>
</span><span class=lnt id=hl-15-189><a class=lnlinks href=#hl-15-189>189</a>
</span><span class=lnt id=hl-15-190><a class=lnlinks href=#hl-15-190>190</a>
</span><span class=lnt id=hl-15-191><a class=lnlinks href=#hl-15-191>191</a>
</span><span class=lnt id=hl-15-192><a class=lnlinks href=#hl-15-192>192</a>
</span><span class=lnt id=hl-15-193><a class=lnlinks href=#hl-15-193>193</a>
</span><span class=lnt id=hl-15-194><a class=lnlinks href=#hl-15-194>194</a>
</span><span class=lnt id=hl-15-195><a class=lnlinks href=#hl-15-195>195</a>
</span><span class=lnt id=hl-15-196><a class=lnlinks href=#hl-15-196>196</a>
</span><span class=lnt id=hl-15-197><a class=lnlinks href=#hl-15-197>197</a>
</span><span class=lnt id=hl-15-198><a class=lnlinks href=#hl-15-198>198</a>
</span><span class=lnt id=hl-15-199><a class=lnlinks href=#hl-15-199>199</a>
</span><span class=lnt id=hl-15-200><a class=lnlinks href=#hl-15-200>200</a>
</span><span class=lnt id=hl-15-201><a class=lnlinks href=#hl-15-201>201</a>
</span><span class=lnt id=hl-15-202><a class=lnlinks href=#hl-15-202>202</a>
</span><span class=lnt id=hl-15-203><a class=lnlinks href=#hl-15-203>203</a>
</span><span class=lnt id=hl-15-204><a class=lnlinks href=#hl-15-204>204</a>
</span><span class=lnt id=hl-15-205><a class=lnlinks href=#hl-15-205>205</a>
</span><span class=lnt id=hl-15-206><a class=lnlinks href=#hl-15-206>206</a>
</span><span class=lnt id=hl-15-207><a class=lnlinks href=#hl-15-207>207</a>
</span><span class=lnt id=hl-15-208><a class=lnlinks href=#hl-15-208>208</a>
</span><span class=lnt id=hl-15-209><a class=lnlinks href=#hl-15-209>209</a>
</span><span class=lnt id=hl-15-210><a class=lnlinks href=#hl-15-210>210</a>
</span><span class=lnt id=hl-15-211><a class=lnlinks href=#hl-15-211>211</a>
</span><span class=lnt id=hl-15-212><a class=lnlinks href=#hl-15-212>212</a>
</span><span class=lnt id=hl-15-213><a class=lnlinks href=#hl-15-213>213</a>
</span><span class=lnt id=hl-15-214><a class=lnlinks href=#hl-15-214>214</a>
</span><span class=lnt id=hl-15-215><a class=lnlinks href=#hl-15-215>215</a>
</span><span class=lnt id=hl-15-216><a class=lnlinks href=#hl-15-216>216</a>
</span><span class=lnt id=hl-15-217><a class=lnlinks href=#hl-15-217>217</a>
</span><span class=lnt id=hl-15-218><a class=lnlinks href=#hl-15-218>218</a>
</span><span class=lnt id=hl-15-219><a class=lnlinks href=#hl-15-219>219</a>
</span><span class=lnt id=hl-15-220><a class=lnlinks href=#hl-15-220>220</a>
</span><span class=lnt id=hl-15-221><a class=lnlinks href=#hl-15-221>221</a>
</span><span class=lnt id=hl-15-222><a class=lnlinks href=#hl-15-222>222</a>
</span><span class=lnt id=hl-15-223><a class=lnlinks href=#hl-15-223>223</a>
</span><span class=lnt id=hl-15-224><a class=lnlinks href=#hl-15-224>224</a>
</span><span class=lnt id=hl-15-225><a class=lnlinks href=#hl-15-225>225</a>
</span><span class=lnt id=hl-15-226><a class=lnlinks href=#hl-15-226>226</a>
</span><span class=lnt id=hl-15-227><a class=lnlinks href=#hl-15-227>227</a>
</span><span class=lnt id=hl-15-228><a class=lnlinks href=#hl-15-228>228</a>
</span><span class=lnt id=hl-15-229><a class=lnlinks href=#hl-15-229>229</a>
</span><span class=lnt id=hl-15-230><a class=lnlinks href=#hl-15-230>230</a>
</span><span class=lnt id=hl-15-231><a class=lnlinks href=#hl-15-231>231</a>
</span><span class=lnt id=hl-15-232><a class=lnlinks href=#hl-15-232>232</a>
</span><span class=lnt id=hl-15-233><a class=lnlinks href=#hl-15-233>233</a>
</span><span class=lnt id=hl-15-234><a class=lnlinks href=#hl-15-234>234</a>
</span><span class=lnt id=hl-15-235><a class=lnlinks href=#hl-15-235>235</a>
</span><span class=lnt id=hl-15-236><a class=lnlinks href=#hl-15-236>236</a>
</span><span class=lnt id=hl-15-237><a class=lnlinks href=#hl-15-237>237</a>
</span><span class=lnt id=hl-15-238><a class=lnlinks href=#hl-15-238>238</a>
</span><span class=lnt id=hl-15-239><a class=lnlinks href=#hl-15-239>239</a>
</span><span class=lnt id=hl-15-240><a class=lnlinks href=#hl-15-240>240</a>
</span><span class=lnt id=hl-15-241><a class=lnlinks href=#hl-15-241>241</a>
</span><span class=lnt id=hl-15-242><a class=lnlinks href=#hl-15-242>242</a>
</span><span class=lnt id=hl-15-243><a class=lnlinks href=#hl-15-243>243</a>
</span><span class=lnt id=hl-15-244><a class=lnlinks href=#hl-15-244>244</a>
</span><span class=lnt id=hl-15-245><a class=lnlinks href=#hl-15-245>245</a>
</span><span class=lnt id=hl-15-246><a class=lnlinks href=#hl-15-246>246</a>
</span><span class=lnt id=hl-15-247><a class=lnlinks href=#hl-15-247>247</a>
</span><span class=lnt id=hl-15-248><a class=lnlinks href=#hl-15-248>248</a>
</span><span class=lnt id=hl-15-249><a class=lnlinks href=#hl-15-249>249</a>
</span><span class=lnt id=hl-15-250><a class=lnlinks href=#hl-15-250>250</a>
</span><span class=lnt id=hl-15-251><a class=lnlinks href=#hl-15-251>251</a>
</span><span class=lnt id=hl-15-252><a class=lnlinks href=#hl-15-252>252</a>
</span><span class=lnt id=hl-15-253><a class=lnlinks href=#hl-15-253>253</a>
</span><span class=lnt id=hl-15-254><a class=lnlinks href=#hl-15-254>254</a>
</span><span class=lnt id=hl-15-255><a class=lnlinks href=#hl-15-255>255</a>
</span><span class=lnt id=hl-15-256><a class=lnlinks href=#hl-15-256>256</a>
</span><span class=lnt id=hl-15-257><a class=lnlinks href=#hl-15-257>257</a>
</span><span class=lnt id=hl-15-258><a class=lnlinks href=#hl-15-258>258</a>
</span><span class=lnt id=hl-15-259><a class=lnlinks href=#hl-15-259>259</a>
</span><span class=lnt id=hl-15-260><a class=lnlinks href=#hl-15-260>260</a>
</span><span class=lnt id=hl-15-261><a class=lnlinks href=#hl-15-261>261</a>
</span><span class=lnt id=hl-15-262><a class=lnlinks href=#hl-15-262>262</a>
</span><span class=lnt id=hl-15-263><a class=lnlinks href=#hl-15-263>263</a>
</span><span class=lnt id=hl-15-264><a class=lnlinks href=#hl-15-264>264</a>
</span><span class=lnt id=hl-15-265><a class=lnlinks href=#hl-15-265>265</a>
</span><span class=lnt id=hl-15-266><a class=lnlinks href=#hl-15-266>266</a>
</span><span class=lnt id=hl-15-267><a class=lnlinks href=#hl-15-267>267</a>
</span><span class=lnt id=hl-15-268><a class=lnlinks href=#hl-15-268>268</a>
</span><span class=lnt id=hl-15-269><a class=lnlinks href=#hl-15-269>269</a>
</span><span class=lnt id=hl-15-270><a class=lnlinks href=#hl-15-270>270</a>
</span><span class=lnt id=hl-15-271><a class=lnlinks href=#hl-15-271>271</a>
</span><span class=lnt id=hl-15-272><a class=lnlinks href=#hl-15-272>272</a>
</span><span class=lnt id=hl-15-273><a class=lnlinks href=#hl-15-273>273</a>
</span><span class=lnt id=hl-15-274><a class=lnlinks href=#hl-15-274>274</a>
</span><span class=lnt id=hl-15-275><a class=lnlinks href=#hl-15-275>275</a>
</span><span class=lnt id=hl-15-276><a class=lnlinks href=#hl-15-276>276</a>
</span><span class=lnt id=hl-15-277><a class=lnlinks href=#hl-15-277>277</a>
</span><span class=lnt id=hl-15-278><a class=lnlinks href=#hl-15-278>278</a>
</span><span class=lnt id=hl-15-279><a class=lnlinks href=#hl-15-279>279</a>
</span><span class=lnt id=hl-15-280><a class=lnlinks href=#hl-15-280>280</a>
</span><span class=lnt id=hl-15-281><a class=lnlinks href=#hl-15-281>281</a>
</span><span class=lnt id=hl-15-282><a class=lnlinks href=#hl-15-282>282</a>
</span><span class=lnt id=hl-15-283><a class=lnlinks href=#hl-15-283>283</a>
</span><span class=lnt id=hl-15-284><a class=lnlinks href=#hl-15-284>284</a>
</span><span class=lnt id=hl-15-285><a class=lnlinks href=#hl-15-285>285</a>
</span><span class=lnt id=hl-15-286><a class=lnlinks href=#hl-15-286>286</a>
</span><span class=lnt id=hl-15-287><a class=lnlinks href=#hl-15-287>287</a>
</span><span class=lnt id=hl-15-288><a class=lnlinks href=#hl-15-288>288</a>
</span><span class=lnt id=hl-15-289><a class=lnlinks href=#hl-15-289>289</a>
</span><span class=lnt id=hl-15-290><a class=lnlinks href=#hl-15-290>290</a>
</span><span class=lnt id=hl-15-291><a class=lnlinks href=#hl-15-291>291</a>
</span><span class=lnt id=hl-15-292><a class=lnlinks href=#hl-15-292>292</a>
</span><span class=lnt id=hl-15-293><a class=lnlinks href=#hl-15-293>293</a>
</span><span class=lnt id=hl-15-294><a class=lnlinks href=#hl-15-294>294</a>
</span><span class=lnt id=hl-15-295><a class=lnlinks href=#hl-15-295>295</a>
</span><span class=lnt id=hl-15-296><a class=lnlinks href=#hl-15-296>296</a>
</span><span class=lnt id=hl-15-297><a class=lnlinks href=#hl-15-297>297</a>
</span><span class=lnt id=hl-15-298><a class=lnlinks href=#hl-15-298>298</a>
</span><span class=lnt id=hl-15-299><a class=lnlinks href=#hl-15-299>299</a>
</span><span class=lnt id=hl-15-300><a class=lnlinks href=#hl-15-300>300</a>
</span><span class=lnt id=hl-15-301><a class=lnlinks href=#hl-15-301>301</a>
</span><span class=lnt id=hl-15-302><a class=lnlinks href=#hl-15-302>302</a>
</span><span class=lnt id=hl-15-303><a class=lnlinks href=#hl-15-303>303</a>
</span><span class=lnt id=hl-15-304><a class=lnlinks href=#hl-15-304>304</a>
</span><span class=lnt id=hl-15-305><a class=lnlinks href=#hl-15-305>305</a>
</span><span class=lnt id=hl-15-306><a class=lnlinks href=#hl-15-306>306</a>
</span><span class=lnt id=hl-15-307><a class=lnlinks href=#hl-15-307>307</a>
</span><span class=lnt id=hl-15-308><a class=lnlinks href=#hl-15-308>308</a>
</span><span class=lnt id=hl-15-309><a class=lnlinks href=#hl-15-309>309</a>
</span><span class=lnt id=hl-15-310><a class=lnlinks href=#hl-15-310>310</a>
</span><span class=lnt id=hl-15-311><a class=lnlinks href=#hl-15-311>311</a>
</span><span class=lnt id=hl-15-312><a class=lnlinks href=#hl-15-312>312</a>
</span><span class=lnt id=hl-15-313><a class=lnlinks href=#hl-15-313>313</a>
</span><span class=lnt id=hl-15-314><a class=lnlinks href=#hl-15-314>314</a>
</span><span class=lnt id=hl-15-315><a class=lnlinks href=#hl-15-315>315</a>
</span><span class=lnt id=hl-15-316><a class=lnlinks href=#hl-15-316>316</a>
</span><span class=lnt id=hl-15-317><a class=lnlinks href=#hl-15-317>317</a>
</span><span class=lnt id=hl-15-318><a class=lnlinks href=#hl-15-318>318</a>
</span><span class=lnt id=hl-15-319><a class=lnlinks href=#hl-15-319>319</a>
</span><span class=lnt id=hl-15-320><a class=lnlinks href=#hl-15-320>320</a>
</span><span class=lnt id=hl-15-321><a class=lnlinks href=#hl-15-321>321</a>
</span><span class=lnt id=hl-15-322><a class=lnlinks href=#hl-15-322>322</a>
</span><span class=lnt id=hl-15-323><a class=lnlinks href=#hl-15-323>323</a>
</span><span class=lnt id=hl-15-324><a class=lnlinks href=#hl-15-324>324</a>
</span><span class=lnt id=hl-15-325><a class=lnlinks href=#hl-15-325>325</a>
</span><span class=lnt id=hl-15-326><a class=lnlinks href=#hl-15-326>326</a>
</span><span class=lnt id=hl-15-327><a class=lnlinks href=#hl-15-327>327</a>
</span><span class=lnt id=hl-15-328><a class=lnlinks href=#hl-15-328>328</a>
</span><span class=lnt id=hl-15-329><a class=lnlinks href=#hl-15-329>329</a>
</span><span class=lnt id=hl-15-330><a class=lnlinks href=#hl-15-330>330</a>
</span><span class=lnt id=hl-15-331><a class=lnlinks href=#hl-15-331>331</a>
</span><span class=lnt id=hl-15-332><a class=lnlinks href=#hl-15-332>332</a>
</span><span class=lnt id=hl-15-333><a class=lnlinks href=#hl-15-333>333</a>
</span><span class=lnt id=hl-15-334><a class=lnlinks href=#hl-15-334>334</a>
</span><span class=lnt id=hl-15-335><a class=lnlinks href=#hl-15-335>335</a>
</span><span class=lnt id=hl-15-336><a class=lnlinks href=#hl-15-336>336</a>
</span><span class=lnt id=hl-15-337><a class=lnlinks href=#hl-15-337>337</a>
</span><span class=lnt id=hl-15-338><a class=lnlinks href=#hl-15-338>338</a>
</span><span class=lnt id=hl-15-339><a class=lnlinks href=#hl-15-339>339</a>
</span><span class=lnt id=hl-15-340><a class=lnlinks href=#hl-15-340>340</a>
</span><span class=lnt id=hl-15-341><a class=lnlinks href=#hl-15-341>341</a>
</span><span class=lnt id=hl-15-342><a class=lnlinks href=#hl-15-342>342</a>
</span><span class=lnt id=hl-15-343><a class=lnlinks href=#hl-15-343>343</a>
</span><span class=lnt id=hl-15-344><a class=lnlinks href=#hl-15-344>344</a>
</span><span class=lnt id=hl-15-345><a class=lnlinks href=#hl-15-345>345</a>
</span><span class=lnt id=hl-15-346><a class=lnlinks href=#hl-15-346>346</a>
</span><span class=lnt id=hl-15-347><a class=lnlinks href=#hl-15-347>347</a>
</span><span class=lnt id=hl-15-348><a class=lnlinks href=#hl-15-348>348</a>
</span><span class=lnt id=hl-15-349><a class=lnlinks href=#hl-15-349>349</a>
</span><span class=lnt id=hl-15-350><a class=lnlinks href=#hl-15-350>350</a>
</span><span class=lnt id=hl-15-351><a class=lnlinks href=#hl-15-351>351</a>
</span><span class=lnt id=hl-15-352><a class=lnlinks href=#hl-15-352>352</a>
</span><span class=lnt id=hl-15-353><a class=lnlinks href=#hl-15-353>353</a>
</span><span class=lnt id=hl-15-354><a class=lnlinks href=#hl-15-354>354</a>
</span><span class=lnt id=hl-15-355><a class=lnlinks href=#hl-15-355>355</a>
</span><span class=lnt id=hl-15-356><a class=lnlinks href=#hl-15-356>356</a>
</span><span class=lnt id=hl-15-357><a class=lnlinks href=#hl-15-357>357</a>
</span><span class=lnt id=hl-15-358><a class=lnlinks href=#hl-15-358>358</a>
</span><span class=lnt id=hl-15-359><a class=lnlinks href=#hl-15-359>359</a>
</span><span class=lnt id=hl-15-360><a class=lnlinks href=#hl-15-360>360</a>
</span><span class=lnt id=hl-15-361><a class=lnlinks href=#hl-15-361>361</a>
</span><span class=lnt id=hl-15-362><a class=lnlinks href=#hl-15-362>362</a>
</span><span class=lnt id=hl-15-363><a class=lnlinks href=#hl-15-363>363</a>
</span><span class=lnt id=hl-15-364><a class=lnlinks href=#hl-15-364>364</a>
</span><span class=lnt id=hl-15-365><a class=lnlinks href=#hl-15-365>365</a>
</span><span class=lnt id=hl-15-366><a class=lnlinks href=#hl-15-366>366</a>
</span><span class=lnt id=hl-15-367><a class=lnlinks href=#hl-15-367>367</a>
</span><span class=lnt id=hl-15-368><a class=lnlinks href=#hl-15-368>368</a>
</span><span class=lnt id=hl-15-369><a class=lnlinks href=#hl-15-369>369</a>
</span><span class=lnt id=hl-15-370><a class=lnlinks href=#hl-15-370>370</a>
</span><span class=lnt id=hl-15-371><a class=lnlinks href=#hl-15-371>371</a>
</span><span class=lnt id=hl-15-372><a class=lnlinks href=#hl-15-372>372</a>
</span><span class=lnt id=hl-15-373><a class=lnlinks href=#hl-15-373>373</a>
</span><span class=lnt id=hl-15-374><a class=lnlinks href=#hl-15-374>374</a>
</span><span class=lnt id=hl-15-375><a class=lnlinks href=#hl-15-375>375</a>
</span><span class=lnt id=hl-15-376><a class=lnlinks href=#hl-15-376>376</a>
</span><span class=lnt id=hl-15-377><a class=lnlinks href=#hl-15-377>377</a>
</span><span class=lnt id=hl-15-378><a class=lnlinks href=#hl-15-378>378</a>
</span><span class=lnt id=hl-15-379><a class=lnlinks href=#hl-15-379>379</a>
</span><span class=lnt id=hl-15-380><a class=lnlinks href=#hl-15-380>380</a>
</span><span class=lnt id=hl-15-381><a class=lnlinks href=#hl-15-381>381</a>
</span><span class=lnt id=hl-15-382><a class=lnlinks href=#hl-15-382>382</a>
</span><span class=lnt id=hl-15-383><a class=lnlinks href=#hl-15-383>383</a>
</span><span class=lnt id=hl-15-384><a class=lnlinks href=#hl-15-384>384</a>
</span><span class=lnt id=hl-15-385><a class=lnlinks href=#hl-15-385>385</a>
</span><span class=lnt id=hl-15-386><a class=lnlinks href=#hl-15-386>386</a>
</span><span class=lnt id=hl-15-387><a class=lnlinks href=#hl-15-387>387</a>
</span><span class=lnt id=hl-15-388><a class=lnlinks href=#hl-15-388>388</a>
</span><span class=lnt id=hl-15-389><a class=lnlinks href=#hl-15-389>389</a>
</span><span class=lnt id=hl-15-390><a class=lnlinks href=#hl-15-390>390</a>
</span><span class=lnt id=hl-15-391><a class=lnlinks href=#hl-15-391>391</a>
</span><span class=lnt id=hl-15-392><a class=lnlinks href=#hl-15-392>392</a>
</span><span class=lnt id=hl-15-393><a class=lnlinks href=#hl-15-393>393</a>
</span><span class=lnt id=hl-15-394><a class=lnlinks href=#hl-15-394>394</a>
</span><span class=lnt id=hl-15-395><a class=lnlinks href=#hl-15-395>395</a>
</span><span class=lnt id=hl-15-396><a class=lnlinks href=#hl-15-396>396</a>
</span><span class=lnt id=hl-15-397><a class=lnlinks href=#hl-15-397>397</a>
</span><span class=lnt id=hl-15-398><a class=lnlinks href=#hl-15-398>398</a>
</span><span class=lnt id=hl-15-399><a class=lnlinks href=#hl-15-399>399</a>
</span><span class=lnt id=hl-15-400><a class=lnlinks href=#hl-15-400>400</a>
</span><span class=lnt id=hl-15-401><a class=lnlinks href=#hl-15-401>401</a>
</span><span class=lnt id=hl-15-402><a class=lnlinks href=#hl-15-402>402</a>
</span><span class=lnt id=hl-15-403><a class=lnlinks href=#hl-15-403>403</a>
</span><span class=lnt id=hl-15-404><a class=lnlinks href=#hl-15-404>404</a>
</span><span class=lnt id=hl-15-405><a class=lnlinks href=#hl-15-405>405</a>
</span><span class=lnt id=hl-15-406><a class=lnlinks href=#hl-15-406>406</a>
</span><span class=lnt id=hl-15-407><a class=lnlinks href=#hl-15-407>407</a>
</span><span class=lnt id=hl-15-408><a class=lnlinks href=#hl-15-408>408</a>
</span><span class=lnt id=hl-15-409><a class=lnlinks href=#hl-15-409>409</a>
</span><span class=lnt id=hl-15-410><a class=lnlinks href=#hl-15-410>410</a>
</span><span class=lnt id=hl-15-411><a class=lnlinks href=#hl-15-411>411</a>
</span><span class=lnt id=hl-15-412><a class=lnlinks href=#hl-15-412>412</a>
</span><span class=lnt id=hl-15-413><a class=lnlinks href=#hl-15-413>413</a>
</span><span class=lnt id=hl-15-414><a class=lnlinks href=#hl-15-414>414</a>
</span><span class=lnt id=hl-15-415><a class=lnlinks href=#hl-15-415>415</a>
</span><span class=lnt id=hl-15-416><a class=lnlinks href=#hl-15-416>416</a>
</span><span class=lnt id=hl-15-417><a class=lnlinks href=#hl-15-417>417</a>
</span><span class=lnt id=hl-15-418><a class=lnlinks href=#hl-15-418>418</a>
</span><span class=lnt id=hl-15-419><a class=lnlinks href=#hl-15-419>419</a>
</span><span class=lnt id=hl-15-420><a class=lnlinks href=#hl-15-420>420</a>
</span><span class=lnt id=hl-15-421><a class=lnlinks href=#hl-15-421>421</a>
</span><span class=lnt id=hl-15-422><a class=lnlinks href=#hl-15-422>422</a>
</span><span class=lnt id=hl-15-423><a class=lnlinks href=#hl-15-423>423</a>
</span><span class=lnt id=hl-15-424><a class=lnlinks href=#hl-15-424>424</a>
</span><span class=lnt id=hl-15-425><a class=lnlinks href=#hl-15-425>425</a>
</span><span class=lnt id=hl-15-426><a class=lnlinks href=#hl-15-426>426</a>
</span><span class=lnt id=hl-15-427><a class=lnlinks href=#hl-15-427>427</a>
</span><span class=lnt id=hl-15-428><a class=lnlinks href=#hl-15-428>428</a>
</span><span class=lnt id=hl-15-429><a class=lnlinks href=#hl-15-429>429</a>
</span><span class=lnt id=hl-15-430><a class=lnlinks href=#hl-15-430>430</a>
</span><span class=lnt id=hl-15-431><a class=lnlinks href=#hl-15-431>431</a>
</span><span class=lnt id=hl-15-432><a class=lnlinks href=#hl-15-432>432</a>
</span><span class=lnt id=hl-15-433><a class=lnlinks href=#hl-15-433>433</a>
</span><span class=lnt id=hl-15-434><a class=lnlinks href=#hl-15-434>434</a>
</span><span class=lnt id=hl-15-435><a class=lnlinks href=#hl-15-435>435</a>
</span><span class=lnt id=hl-15-436><a class=lnlinks href=#hl-15-436>436</a>
</span><span class=lnt id=hl-15-437><a class=lnlinks href=#hl-15-437>437</a>
</span><span class=lnt id=hl-15-438><a class=lnlinks href=#hl-15-438>438</a>
</span><span class=lnt id=hl-15-439><a class=lnlinks href=#hl-15-439>439</a>
</span><span class=lnt id=hl-15-440><a class=lnlinks href=#hl-15-440>440</a>
</span><span class=lnt id=hl-15-441><a class=lnlinks href=#hl-15-441>441</a>
</span><span class=lnt id=hl-15-442><a class=lnlinks href=#hl-15-442>442</a>
</span><span class=lnt id=hl-15-443><a class=lnlinks href=#hl-15-443>443</a>
</span><span class=lnt id=hl-15-444><a class=lnlinks href=#hl-15-444>444</a>
</span><span class=lnt id=hl-15-445><a class=lnlinks href=#hl-15-445>445</a>
</span><span class=lnt id=hl-15-446><a class=lnlinks href=#hl-15-446>446</a>
</span><span class=lnt id=hl-15-447><a class=lnlinks href=#hl-15-447>447</a>
</span><span class=lnt id=hl-15-448><a class=lnlinks href=#hl-15-448>448</a>
</span><span class=lnt id=hl-15-449><a class=lnlinks href=#hl-15-449>449</a>
</span><span class=lnt id=hl-15-450><a class=lnlinks href=#hl-15-450>450</a>
</span><span class=lnt id=hl-15-451><a class=lnlinks href=#hl-15-451>451</a>
</span><span class=lnt id=hl-15-452><a class=lnlinks href=#hl-15-452>452</a>
</span><span class=lnt id=hl-15-453><a class=lnlinks href=#hl-15-453>453</a>
</span><span class=lnt id=hl-15-454><a class=lnlinks href=#hl-15-454>454</a>
</span><span class=lnt id=hl-15-455><a class=lnlinks href=#hl-15-455>455</a>
</span><span class=lnt id=hl-15-456><a class=lnlinks href=#hl-15-456>456</a>
</span><span class=lnt id=hl-15-457><a class=lnlinks href=#hl-15-457>457</a>
</span><span class=lnt id=hl-15-458><a class=lnlinks href=#hl-15-458>458</a>
</span><span class=lnt id=hl-15-459><a class=lnlinks href=#hl-15-459>459</a>
</span><span class=lnt id=hl-15-460><a class=lnlinks href=#hl-15-460>460</a>
</span><span class=lnt id=hl-15-461><a class=lnlinks href=#hl-15-461>461</a>
</span><span class=lnt id=hl-15-462><a class=lnlinks href=#hl-15-462>462</a>
</span><span class=lnt id=hl-15-463><a class=lnlinks href=#hl-15-463>463</a>
</span><span class=lnt id=hl-15-464><a class=lnlinks href=#hl-15-464>464</a>
</span><span class=lnt id=hl-15-465><a class=lnlinks href=#hl-15-465>465</a>
</span><span class=lnt id=hl-15-466><a class=lnlinks href=#hl-15-466>466</a>
</span><span class=lnt id=hl-15-467><a class=lnlinks href=#hl-15-467>467</a>
</span><span class=lnt id=hl-15-468><a class=lnlinks href=#hl-15-468>468</a>
</span><span class=lnt id=hl-15-469><a class=lnlinks href=#hl-15-469>469</a>
</span><span class=lnt id=hl-15-470><a class=lnlinks href=#hl-15-470>470</a>
</span><span class=lnt id=hl-15-471><a class=lnlinks href=#hl-15-471>471</a>
</span><span class=lnt id=hl-15-472><a class=lnlinks href=#hl-15-472>472</a>
</span><span class=lnt id=hl-15-473><a class=lnlinks href=#hl-15-473>473</a>
</span><span class=lnt id=hl-15-474><a class=lnlinks href=#hl-15-474>474</a>
</span><span class=lnt id=hl-15-475><a class=lnlinks href=#hl-15-475>475</a>
</span><span class=lnt id=hl-15-476><a class=lnlinks href=#hl-15-476>476</a>
</span><span class=lnt id=hl-15-477><a class=lnlinks href=#hl-15-477>477</a>
</span><span class=lnt id=hl-15-478><a class=lnlinks href=#hl-15-478>478</a>
</span><span class=lnt id=hl-15-479><a class=lnlinks href=#hl-15-479>479</a>
</span><span class=lnt id=hl-15-480><a class=lnlinks href=#hl-15-480>480</a>
</span><span class=lnt id=hl-15-481><a class=lnlinks href=#hl-15-481>481</a>
</span><span class=lnt id=hl-15-482><a class=lnlinks href=#hl-15-482>482</a>
</span><span class=lnt id=hl-15-483><a class=lnlinks href=#hl-15-483>483</a>
</span><span class=lnt id=hl-15-484><a class=lnlinks href=#hl-15-484>484</a>
</span><span class=lnt id=hl-15-485><a class=lnlinks href=#hl-15-485>485</a>
</span><span class=lnt id=hl-15-486><a class=lnlinks href=#hl-15-486>486</a>
</span><span class=lnt id=hl-15-487><a class=lnlinks href=#hl-15-487>487</a>
</span><span class=lnt id=hl-15-488><a class=lnlinks href=#hl-15-488>488</a>
</span><span class=lnt id=hl-15-489><a class=lnlinks href=#hl-15-489>489</a>
</span><span class=lnt id=hl-15-490><a class=lnlinks href=#hl-15-490>490</a>
</span><span class=lnt id=hl-15-491><a class=lnlinks href=#hl-15-491>491</a>
</span><span class=lnt id=hl-15-492><a class=lnlinks href=#hl-15-492>492</a>
</span><span class=lnt id=hl-15-493><a class=lnlinks href=#hl-15-493>493</a>
</span><span class=lnt id=hl-15-494><a class=lnlinks href=#hl-15-494>494</a>
</span><span class=lnt id=hl-15-495><a class=lnlinks href=#hl-15-495>495</a>
</span><span class=lnt id=hl-15-496><a class=lnlinks href=#hl-15-496>496</a>
</span><span class=lnt id=hl-15-497><a class=lnlinks href=#hl-15-497>497</a>
</span><span class=lnt id=hl-15-498><a class=lnlinks href=#hl-15-498>498</a>
</span><span class=lnt id=hl-15-499><a class=lnlinks href=#hl-15-499>499</a>
</span><span class=lnt id=hl-15-500><a class=lnlinks href=#hl-15-500>500</a>
</span><span class=lnt id=hl-15-501><a class=lnlinks href=#hl-15-501>501</a>
</span><span class=lnt id=hl-15-502><a class=lnlinks href=#hl-15-502>502</a>
</span><span class=lnt id=hl-15-503><a class=lnlinks href=#hl-15-503>503</a>
</span><span class=lnt id=hl-15-504><a class=lnlinks href=#hl-15-504>504</a>
</span><span class=lnt id=hl-15-505><a class=lnlinks href=#hl-15-505>505</a>
</span><span class=lnt id=hl-15-506><a class=lnlinks href=#hl-15-506>506</a>
</span><span class=lnt id=hl-15-507><a class=lnlinks href=#hl-15-507>507</a>
</span><span class=lnt id=hl-15-508><a class=lnlinks href=#hl-15-508>508</a>
</span><span class=lnt id=hl-15-509><a class=lnlinks href=#hl-15-509>509</a>
</span><span class=lnt id=hl-15-510><a class=lnlinks href=#hl-15-510>510</a>
</span><span class=lnt id=hl-15-511><a class=lnlinks href=#hl-15-511>511</a>
</span><span class=lnt id=hl-15-512><a class=lnlinks href=#hl-15-512>512</a>
</span><span class=lnt id=hl-15-513><a class=lnlinks href=#hl-15-513>513</a>
</span><span class=lnt id=hl-15-514><a class=lnlinks href=#hl-15-514>514</a>
</span><span class=lnt id=hl-15-515><a class=lnlinks href=#hl-15-515>515</a>
</span><span class=lnt id=hl-15-516><a class=lnlinks href=#hl-15-516>516</a>
</span><span class=lnt id=hl-15-517><a class=lnlinks href=#hl-15-517>517</a>
</span><span class=lnt id=hl-15-518><a class=lnlinks href=#hl-15-518>518</a>
</span><span class=lnt id=hl-15-519><a class=lnlinks href=#hl-15-519>519</a>
</span><span class=lnt id=hl-15-520><a class=lnlinks href=#hl-15-520>520</a>
</span><span class=lnt id=hl-15-521><a class=lnlinks href=#hl-15-521>521</a>
</span><span class=lnt id=hl-15-522><a class=lnlinks href=#hl-15-522>522</a>
</span><span class=lnt id=hl-15-523><a class=lnlinks href=#hl-15-523>523</a>
</span><span class=lnt id=hl-15-524><a class=lnlinks href=#hl-15-524>524</a>
</span><span class=lnt id=hl-15-525><a class=lnlinks href=#hl-15-525>525</a>
</span><span class=lnt id=hl-15-526><a class=lnlinks href=#hl-15-526>526</a>
</span><span class=lnt id=hl-15-527><a class=lnlinks href=#hl-15-527>527</a>
</span><span class=lnt id=hl-15-528><a class=lnlinks href=#hl-15-528>528</a>
</span><span class=lnt id=hl-15-529><a class=lnlinks href=#hl-15-529>529</a>
</span><span class=lnt id=hl-15-530><a class=lnlinks href=#hl-15-530>530</a>
</span><span class=lnt id=hl-15-531><a class=lnlinks href=#hl-15-531>531</a>
</span><span class=lnt id=hl-15-532><a class=lnlinks href=#hl-15-532>532</a>
</span><span class=lnt id=hl-15-533><a class=lnlinks href=#hl-15-533>533</a>
</span><span class=lnt id=hl-15-534><a class=lnlinks href=#hl-15-534>534</a>
</span><span class=lnt id=hl-15-535><a class=lnlinks href=#hl-15-535>535</a>
</span><span class=lnt id=hl-15-536><a class=lnlinks href=#hl-15-536>536</a>
</span><span class=lnt id=hl-15-537><a class=lnlinks href=#hl-15-537>537</a>
</span><span class=lnt id=hl-15-538><a class=lnlinks href=#hl-15-538>538</a>
</span><span class=lnt id=hl-15-539><a class=lnlinks href=#hl-15-539>539</a>
</span><span class=lnt id=hl-15-540><a class=lnlinks href=#hl-15-540>540</a>
</span><span class=lnt id=hl-15-541><a class=lnlinks href=#hl-15-541>541</a>
</span><span class=lnt id=hl-15-542><a class=lnlinks href=#hl-15-542>542</a>
</span><span class=lnt id=hl-15-543><a class=lnlinks href=#hl-15-543>543</a>
</span><span class=lnt id=hl-15-544><a class=lnlinks href=#hl-15-544>544</a>
</span><span class=lnt id=hl-15-545><a class=lnlinks href=#hl-15-545>545</a>
</span><span class=lnt id=hl-15-546><a class=lnlinks href=#hl-15-546>546</a>
</span><span class=lnt id=hl-15-547><a class=lnlinks href=#hl-15-547>547</a>
</span><span class=lnt id=hl-15-548><a class=lnlinks href=#hl-15-548>548</a>
</span><span class=lnt id=hl-15-549><a class=lnlinks href=#hl-15-549>549</a>
</span><span class=lnt id=hl-15-550><a class=lnlinks href=#hl-15-550>550</a>
</span><span class=lnt id=hl-15-551><a class=lnlinks href=#hl-15-551>551</a>
</span><span class=lnt id=hl-15-552><a class=lnlinks href=#hl-15-552>552</a>
</span><span class=lnt id=hl-15-553><a class=lnlinks href=#hl-15-553>553</a>
</span><span class=lnt id=hl-15-554><a class=lnlinks href=#hl-15-554>554</a>
</span><span class=lnt id=hl-15-555><a class=lnlinks href=#hl-15-555>555</a>
</span><span class=lnt id=hl-15-556><a class=lnlinks href=#hl-15-556>556</a>
</span><span class=lnt id=hl-15-557><a class=lnlinks href=#hl-15-557>557</a>
</span><span class=lnt id=hl-15-558><a class=lnlinks href=#hl-15-558>558</a>
</span><span class=lnt id=hl-15-559><a class=lnlinks href=#hl-15-559>559</a>
</span><span class=lnt id=hl-15-560><a class=lnlinks href=#hl-15-560>560</a>
</span><span class=lnt id=hl-15-561><a class=lnlinks href=#hl-15-561>561</a>
</span><span class=lnt id=hl-15-562><a class=lnlinks href=#hl-15-562>562</a>
</span><span class=lnt id=hl-15-563><a class=lnlinks href=#hl-15-563>563</a>
</span><span class=lnt id=hl-15-564><a class=lnlinks href=#hl-15-564>564</a>
</span><span class=lnt id=hl-15-565><a class=lnlinks href=#hl-15-565>565</a>
</span><span class=lnt id=hl-15-566><a class=lnlinks href=#hl-15-566>566</a>
</span><span class=lnt id=hl-15-567><a class=lnlinks href=#hl-15-567>567</a>
</span><span class=lnt id=hl-15-568><a class=lnlinks href=#hl-15-568>568</a>
</span><span class=lnt id=hl-15-569><a class=lnlinks href=#hl-15-569>569</a>
</span><span class=lnt id=hl-15-570><a class=lnlinks href=#hl-15-570>570</a>
</span><span class=lnt id=hl-15-571><a class=lnlinks href=#hl-15-571>571</a>
</span><span class=lnt id=hl-15-572><a class=lnlinks href=#hl-15-572>572</a>
</span><span class=lnt id=hl-15-573><a class=lnlinks href=#hl-15-573>573</a>
</span><span class=lnt id=hl-15-574><a class=lnlinks href=#hl-15-574>574</a>
</span><span class=lnt id=hl-15-575><a class=lnlinks href=#hl-15-575>575</a>
</span><span class=lnt id=hl-15-576><a class=lnlinks href=#hl-15-576>576</a>
</span><span class=lnt id=hl-15-577><a class=lnlinks href=#hl-15-577>577</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// JavaScript Builder Pattern - HTTP Client 구현
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 열거형 정의
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>HttpMethod</span> <span class=o>=</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>freeze</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=nx>GET</span><span class=o>:</span> <span class=s1>&#39;GET&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>POST</span><span class=o>:</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>PUT</span><span class=o>:</span> <span class=s1>&#39;PUT&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>DELETE</span><span class=o>:</span> <span class=s1>&#39;DELETE&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>PATCH</span><span class=o>:</span> <span class=s1>&#39;PATCH&#39;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>ContentType</span> <span class=o>=</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>freeze</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=nx>JSON</span><span class=o>:</span> <span class=s1>&#39;application/json&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>FORM</span><span class=o>:</span> <span class=s1>&#39;application/x-www-form-urlencoded&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>XML</span><span class=o>:</span> <span class=s1>&#39;application/xml&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>TEXT</span><span class=o>:</span> <span class=s1>&#39;text/plain&#39;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>AuthType</span> <span class=o>=</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>freeze</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=nx>BASIC</span><span class=o>:</span> <span class=s1>&#39;basic&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>BEARER</span><span class=o>:</span> <span class=s1>&#39;bearer&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>API_KEY</span><span class=o>:</span> <span class=s1>&#39;apikey&#39;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Product: HTTP 요청 객체
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>HttpRequest</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * HTTP 요청을 나타내는 클래스 - Builder Pattern의 Product
</span></span></span><span class=line><span class=cl><span class=cm>     */</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>(</span><span class=nx>builder</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 필수 필드
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>url</span> <span class=o>=</span> <span class=nx>builder</span><span class=p>.</span><span class=nx>url</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>method</span> <span class=o>=</span> <span class=nx>builder</span><span class=p>.</span><span class=nx>method</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 선택적 필드
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>headers</span> <span class=o>=</span> <span class=p>{</span> <span class=p>...</span><span class=nx>builder</span><span class=p>.</span><span class=nx>headers</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>queryParams</span> <span class=o>=</span> <span class=p>{</span> <span class=p>...</span><span class=nx>builder</span><span class=p>.</span><span class=nx>queryParams</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>body</span> <span class=o>=</span> <span class=nx>builder</span><span class=p>.</span><span class=nx>body</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>timeout</span> <span class=o>=</span> <span class=nx>builder</span><span class=p>.</span><span class=nx>timeout</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>authentication</span> <span class=o>=</span> <span class=nx>builder</span><span class=p>.</span><span class=nx>authentication</span> <span class=o>?</span> <span class=p>{</span> <span class=p>...</span><span class=nx>builder</span><span class=p>.</span><span class=nx>authentication</span> <span class=p>}</span> <span class=o>:</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>interceptors</span> <span class=o>=</span> <span class=p>[...</span><span class=nx>builder</span><span class=p>.</span><span class=nx>interceptors</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>retryConfig</span> <span class=o>=</span> <span class=nx>builder</span><span class=p>.</span><span class=nx>retryConfig</span> <span class=o>?</span> <span class=p>{</span> <span class=p>...</span><span class=nx>builder</span><span class=p>.</span><span class=nx>retryConfig</span> <span class=p>}</span> <span class=o>:</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 생성 시점에 유효성 검증
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>_validate</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 불변성 보장
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nb>Object</span><span class=p>.</span><span class=nx>freeze</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>headers</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nb>Object</span><span class=p>.</span><span class=nx>freeze</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>queryParams</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nb>Object</span><span class=p>.</span><span class=nx>freeze</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>authentication</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nb>Object</span><span class=p>.</span><span class=nx>freeze</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>interceptors</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nb>Object</span><span class=p>.</span><span class=nx>freeze</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>retryConfig</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nb>Object</span><span class=p>.</span><span class=nx>freeze</span><span class=p>(</span><span class=k>this</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>_validate</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=k>this</span><span class=p>.</span><span class=nx>url</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;URL은 필수 항목입니다.&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=k>this</span><span class=p>.</span><span class=nx>url</span><span class=p>.</span><span class=nx>startsWith</span><span class=p>(</span><span class=s1>&#39;http://&#39;</span><span class=p>)</span> <span class=o>&amp;&amp;</span> <span class=o>!</span><span class=k>this</span><span class=p>.</span><span class=nx>url</span><span class=p>.</span><span class=nx>startsWith</span><span class=p>(</span><span class=s1>&#39;https://&#39;</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;유효한 HTTP URL이 아닙니다.&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nb>Object</span><span class=p>.</span><span class=nx>values</span><span class=p>(</span><span class=nx>HttpMethod</span><span class=p>).</span><span class=nx>includes</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>method</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=sb>`지원하지 않는 HTTP 메서드: </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>method</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// POST, PUT, PATCH 메서드에서 body가 있는 경우 Content-Type 검증
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=p>([</span><span class=s1>&#39;POST&#39;</span><span class=p>,</span> <span class=s1>&#39;PUT&#39;</span><span class=p>,</span> <span class=s1>&#39;PATCH&#39;</span><span class=p>].</span><span class=nx>includes</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>method</span><span class=p>)</span> <span class=o>&amp;&amp;</span> 
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>body</span> <span class=o>&amp;&amp;</span> 
</span></span><span class=line><span class=cl>            <span class=o>!</span><span class=k>this</span><span class=p>.</span><span class=nx>headers</span><span class=p>[</span><span class=s1>&#39;Content-Type&#39;</span><span class=p>])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>console</span><span class=p>.</span><span class=nx>warn</span><span class=p>(</span><span class=s1>&#39;Body가 있는 요청에는 Content-Type 헤더를 설정하는 것이 좋습니다.&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * 실제 HTTP 요청 실행 (시뮬레이션)
</span></span></span><span class=line><span class=cl><span class=cm>     */</span>
</span></span><span class=line><span class=cl>    <span class=kr>async</span> <span class=nx>execute</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Executing </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>method</span><span class=si>}</span><span class=sb> request to </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>url</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 인터셉터 실행 (요청 전)
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kd>let</span> <span class=nx>processedRequest</span> <span class=o>=</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kr>const</span> <span class=nx>interceptor</span> <span class=k>of</span> <span class=k>this</span><span class=p>.</span><span class=nx>interceptors</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=nx>interceptor</span><span class=p>.</span><span class=nx>onRequest</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>processedRequest</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>interceptor</span><span class=p>.</span><span class=nx>onRequest</span><span class=p>(</span><span class=nx>processedRequest</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// 실제로는 fetch API 등을 사용
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=kr>const</span> <span class=nx>response</span> <span class=o>=</span> <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>_simulateHttpCall</span><span class=p>(</span><span class=nx>processedRequest</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1>// 인터셉터 실행 (응답 후)
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=kd>let</span> <span class=nx>processedResponse</span> <span class=o>=</span> <span class=nx>response</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=p>(</span><span class=kr>const</span> <span class=nx>interceptor</span> <span class=k>of</span> <span class=k>this</span><span class=p>.</span><span class=nx>interceptors</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=p>(</span><span class=nx>interceptor</span><span class=p>.</span><span class=nx>onResponse</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>processedResponse</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>interceptor</span><span class=p>.</span><span class=nx>onResponse</span><span class=p>(</span><span class=nx>processedResponse</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=nx>processedResponse</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// 재시도 로직
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>if</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>retryConfig</span> <span class=o>&amp;&amp;</span> <span class=k>this</span><span class=p>.</span><span class=nx>retryConfig</span><span class=p>.</span><span class=nx>maxRetries</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>_retryRequest</span><span class=p>(</span><span class=nx>error</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=nx>error</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>async</span> <span class=nx>_simulateHttpCall</span><span class=p>(</span><span class=nx>request</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// HTTP 호출 시뮬레이션
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kr>await</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>(</span><span class=nx>resolve</span> <span class=p>=&gt;</span> <span class=nx>setTimeout</span><span class=p>(</span><span class=nx>resolve</span><span class=p>,</span> <span class=mi>100</span><span class=p>));</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>status</span><span class=o>:</span> <span class=mi>200</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>statusText</span><span class=o>:</span> <span class=s1>&#39;OK&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>data</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>message</span><span class=o>:</span> <span class=s1>&#39;Success&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>request</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>url</span><span class=o>:</span> <span class=nx>request</span><span class=p>.</span><span class=nx>url</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nx>method</span><span class=o>:</span> <span class=nx>request</span><span class=p>.</span><span class=nx>method</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nx>headers</span><span class=o>:</span> <span class=nx>request</span><span class=p>.</span><span class=nx>headers</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>async</span> <span class=nx>_retryRequest</span><span class=p>(</span><span class=nx>error</span><span class=p>,</span> <span class=nx>attempt</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>attempt</span> <span class=o>&gt;=</span> <span class=k>this</span><span class=p>.</span><span class=nx>retryConfig</span><span class=p>.</span><span class=nx>maxRetries</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=nx>error</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>delay</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>retryConfig</span><span class=p>.</span><span class=nx>delay</span> <span class=o>*</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>pow</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=nx>attempt</span><span class=p>);</span> <span class=c1>// 지수 백오프
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Retrying request in </span><span class=si>${</span><span class=nx>delay</span><span class=si>}</span><span class=sb>ms (attempt </span><span class=si>${</span><span class=nx>attempt</span> <span class=o>+</span> <span class=mi>1</span><span class=si>}</span><span class=sb>/</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>retryConfig</span><span class=p>.</span><span class=nx>maxRetries</span><span class=si>}</span><span class=sb>)`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=kr>await</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>(</span><span class=nx>resolve</span> <span class=p>=&gt;</span> <span class=nx>setTimeout</span><span class=p>(</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>delay</span><span class=p>));</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>_simulateHttpCall</span><span class=p>(</span><span class=k>this</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>retryError</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>_retryRequest</span><span class=p>(</span><span class=nx>retryError</span><span class=p>,</span> <span class=nx>attempt</span> <span class=o>+</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>toString</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sb>`HttpRequest[</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>method</span><span class=si>}</span><span class=sb>] </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>url</span><span class=si>}</span><span class=sb>`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Builder 클래스들
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>HttpRequestBuilder</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * HTTP 요청 빌더 - Builder Pattern의 ConcreteBuilder
</span></span></span><span class=line><span class=cl><span class=cm>     */</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>(</span><span class=nx>url</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 필수 필드
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>url</span> <span class=o>=</span> <span class=nx>url</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>method</span> <span class=o>=</span> <span class=nx>HttpMethod</span><span class=p>.</span><span class=nx>GET</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 선택적 필드들 초기화
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>headers</span> <span class=o>=</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>queryParams</span> <span class=o>=</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>body</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>timeout</span> <span class=o>=</span> <span class=mi>30000</span><span class=p>;</span> <span class=c1>// 30초 기본값
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>authentication</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>interceptors</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>retryConfig</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// HTTP 메서드 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>get</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>method</span> <span class=o>=</span> <span class=nx>HttpMethod</span><span class=p>.</span><span class=nx>GET</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>post</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>method</span> <span class=o>=</span> <span class=nx>HttpMethod</span><span class=p>.</span><span class=nx>POST</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>put</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>method</span> <span class=o>=</span> <span class=nx>HttpMethod</span><span class=p>.</span><span class=nx>PUT</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>delete</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>method</span> <span class=o>=</span> <span class=nx>HttpMethod</span><span class=p>.</span><span class=nx>DELETE</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>patch</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>method</span> <span class=o>=</span> <span class=nx>HttpMethod</span><span class=p>.</span><span class=nx>PATCH</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 헤더 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>header</span><span class=p>(</span><span class=nx>key</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>headers</span><span class=p>[</span><span class=nx>key</span><span class=p>]</span> <span class=o>=</span> <span class=nx>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>headers</span><span class=p>(</span><span class=nx>headerObject</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nb>Object</span><span class=p>.</span><span class=nx>assign</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>headers</span><span class=p>,</span> <span class=nx>headerObject</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>contentType</span><span class=p>(</span><span class=nx>type</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>headers</span><span class=p>[</span><span class=s1>&#39;Content-Type&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=nx>type</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>accept</span><span class=p>(</span><span class=nx>type</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>headers</span><span class=p>[</span><span class=s1>&#39;Accept&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=nx>type</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 쿼리 파라미터 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>queryParam</span><span class=p>(</span><span class=nx>key</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>queryParams</span><span class=p>[</span><span class=nx>key</span><span class=p>]</span> <span class=o>=</span> <span class=nx>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>queryParams</span><span class=p>(</span><span class=nx>paramObject</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nb>Object</span><span class=p>.</span><span class=nx>assign</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>queryParams</span><span class=p>,</span> <span class=nx>paramObject</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 요청 본문 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>body</span><span class=p>(</span><span class=nx>data</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>body</span> <span class=o>=</span> <span class=nx>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>json</span><span class=p>(</span><span class=nx>data</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>body</span> <span class=o>=</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>contentType</span><span class=p>(</span><span class=nx>ContentType</span><span class=p>.</span><span class=nx>JSON</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>form</span><span class=p>(</span><span class=nx>data</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>data</span> <span class=k>instanceof</span> <span class=nx>FormData</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>body</span> <span class=o>=</span> <span class=nx>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=c1>// FormData인 경우 브라우저가 Content-Type을 자동 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>body</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>URLSearchParams</span><span class=p>(</span><span class=nx>data</span><span class=p>).</span><span class=nx>toString</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>contentType</span><span class=p>(</span><span class=nx>ContentType</span><span class=p>.</span><span class=nx>FORM</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 인증 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>basicAuth</span><span class=p>(</span><span class=nx>username</span><span class=p>,</span> <span class=nx>password</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>credentials</span> <span class=o>=</span> <span class=nx>btoa</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=nx>username</span><span class=si>}</span><span class=sb>:</span><span class=si>${</span><span class=nx>password</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>authentication</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>type</span><span class=o>:</span> <span class=nx>AuthType</span><span class=p>.</span><span class=nx>BASIC</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>credentials</span><span class=o>:</span> <span class=nx>credentials</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>header</span><span class=p>(</span><span class=s1>&#39;Authorization&#39;</span><span class=p>,</span> <span class=sb>`Basic </span><span class=si>${</span><span class=nx>credentials</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>bearerToken</span><span class=p>(</span><span class=nx>token</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>authentication</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>type</span><span class=o>:</span> <span class=nx>AuthType</span><span class=p>.</span><span class=nx>BEARER</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>token</span><span class=o>:</span> <span class=nx>token</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>header</span><span class=p>(</span><span class=s1>&#39;Authorization&#39;</span><span class=p>,</span> <span class=sb>`Bearer </span><span class=si>${</span><span class=nx>token</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>apiKey</span><span class=p>(</span><span class=nx>key</span><span class=p>,</span> <span class=nx>value</span><span class=p>,</span> <span class=nx>location</span> <span class=o>=</span> <span class=s1>&#39;header&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>authentication</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>type</span><span class=o>:</span> <span class=nx>AuthType</span><span class=p>.</span><span class=nx>API_KEY</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>key</span><span class=o>:</span> <span class=nx>key</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>value</span><span class=o>:</span> <span class=nx>value</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>location</span><span class=o>:</span> <span class=nx>location</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>location</span> <span class=o>===</span> <span class=s1>&#39;header&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>header</span><span class=p>(</span><span class=nx>key</span><span class=p>,</span> <span class=nx>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>location</span> <span class=o>===</span> <span class=s1>&#39;query&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>queryParam</span><span class=p>(</span><span class=nx>key</span><span class=p>,</span> <span class=nx>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 타임아웃 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>timeout</span><span class=p>(</span><span class=nx>milliseconds</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>timeout</span> <span class=o>=</span> <span class=nx>milliseconds</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 인터셉터 추가
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>interceptor</span><span class=p>(</span><span class=nx>interceptorFn</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>interceptors</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>interceptorFn</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 재시도 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>retry</span><span class=p>(</span><span class=nx>maxRetries</span><span class=p>,</span> <span class=nx>delay</span> <span class=o>=</span> <span class=mi>1000</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>retryConfig</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>maxRetries</span><span class=o>:</span> <span class=nx>maxRetries</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>delay</span><span class=o>:</span> <span class=nx>delay</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 최종 객체 생성
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>build</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=nx>HttpRequest</span><span class=p>(</span><span class=k>this</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 특화된 빌더들
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>GetRequestBuilder</span> <span class=kr>extends</span> <span class=nx>HttpRequestBuilder</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>(</span><span class=nx>url</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>super</span><span class=p>(</span><span class=nx>url</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>method</span> <span class=o>=</span> <span class=nx>HttpMethod</span><span class=p>.</span><span class=nx>GET</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// GET 요청에서는 body 설정 메서드들을 제한
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>body</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;GET 요청에서는 body를 설정할 수 없습니다.&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>json</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;GET 요청에서는 JSON body를 설정할 수 없습니다.&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>form</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;GET 요청에서는 form body를 설정할 수 없습니다.&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>PostRequestBuilder</span> <span class=kr>extends</span> <span class=nx>HttpRequestBuilder</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>(</span><span class=nx>url</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>super</span><span class=p>(</span><span class=nx>url</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>method</span> <span class=o>=</span> <span class=nx>HttpMethod</span><span class=p>.</span><span class=nx>POST</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Director 클래스 - 공통 패턴들
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>HttpClientDirector</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * HTTP 클라이언트 디렉터 - 일반적인 요청 패턴 제공
</span></span></span><span class=line><span class=cl><span class=cm>     */</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>static</span> <span class=nx>jsonApiRequest</span><span class=p>(</span><span class=nx>baseUrl</span><span class=p>,</span> <span class=nx>endpoint</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=nx>HttpRequestBuilder</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=nx>baseUrl</span><span class=si>}${</span><span class=nx>endpoint</span><span class=si>}</span><span class=sb>`</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>contentType</span><span class=p>(</span><span class=nx>ContentType</span><span class=p>.</span><span class=nx>JSON</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>accept</span><span class=p>(</span><span class=nx>ContentType</span><span class=p>.</span><span class=nx>JSON</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>timeout</span><span class=p>(</span><span class=mi>10000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>static</span> <span class=nx>restApiRequest</span><span class=p>(</span><span class=nx>baseUrl</span><span class=p>,</span> <span class=nx>endpoint</span><span class=p>,</span> <span class=nx>apiKey</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>jsonApiRequest</span><span class=p>(</span><span class=nx>baseUrl</span><span class=p>,</span> <span class=nx>endpoint</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>apiKey</span><span class=p>(</span><span class=s1>&#39;X-API-Key&#39;</span><span class=p>,</span> <span class=nx>apiKey</span><span class=p>,</span> <span class=s1>&#39;header&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>retry</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>1000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>static</span> <span class=nx>authApiRequest</span><span class=p>(</span><span class=nx>baseUrl</span><span class=p>,</span> <span class=nx>endpoint</span><span class=p>,</span> <span class=nx>token</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>jsonApiRequest</span><span class=p>(</span><span class=nx>baseUrl</span><span class=p>,</span> <span class=nx>endpoint</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>bearerToken</span><span class=p>(</span><span class=nx>token</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>interceptor</span><span class=p>({</span>
</span></span><span class=line><span class=cl>                <span class=nx>onRequest</span><span class=o>:</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>request</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`[Auth API] Sending request to </span><span class=si>${</span><span class=nx>request</span><span class=p>.</span><span class=nx>url</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                    <span class=k>return</span> <span class=nx>request</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=nx>onResponse</span><span class=o>:</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>response</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=k>if</span> <span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=mi>401</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                        <span class=nx>console</span><span class=p>.</span><span class=nx>warn</span><span class=p>(</span><span class=s1>&#39;[Auth API] Authentication failed&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                    <span class=p>}</span>
</span></span><span class=line><span class=cl>                    <span class=k>return</span> <span class=nx>response</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 팩토리 함수들 (편의성 제공)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>HttpClient</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * HTTP 클라이언트 팩토리 - 편의 메서드 제공
</span></span></span><span class=line><span class=cl><span class=cm>     */</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>static</span> <span class=nx>request</span><span class=p>(</span><span class=nx>url</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=nx>HttpRequestBuilder</span><span class=p>(</span><span class=nx>url</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>static</span> <span class=nx>get</span><span class=p>(</span><span class=nx>url</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=nx>GetRequestBuilder</span><span class=p>(</span><span class=nx>url</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>static</span> <span class=nx>post</span><span class=p>(</span><span class=nx>url</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=nx>PostRequestBuilder</span><span class=p>(</span><span class=nx>url</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>static</span> <span class=nx>put</span><span class=p>(</span><span class=nx>url</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=nx>HttpRequestBuilder</span><span class=p>(</span><span class=nx>url</span><span class=p>).</span><span class=nx>put</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>static</span> <span class=k>delete</span><span class=p>(</span><span class=nx>url</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=nx>HttpRequestBuilder</span><span class=p>(</span><span class=nx>url</span><span class=p>).</span><span class=k>delete</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>static</span> <span class=nx>patch</span><span class=p>(</span><span class=nx>url</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=nx>HttpRequestBuilder</span><span class=p>(</span><span class=nx>url</span><span class=p>).</span><span class=nx>patch</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 사용 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>async</span> <span class=kd>function</span> <span class=nx>demonstrateBuilderPattern</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;=== JavaScript Builder Pattern HTTP Client 예시 ===\n&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 1. 기본 GET 요청
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;1. 기본 GET 요청:&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>getRequest</span> <span class=o>=</span> <span class=nx>HttpClient</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;https://api.example.com/users&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>queryParam</span><span class=p>(</span><span class=s1>&#39;page&#39;</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>queryParam</span><span class=p>(</span><span class=s1>&#39;limit&#39;</span><span class=p>,</span> <span class=mi>10</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>accept</span><span class=p>(</span><span class=nx>ContentType</span><span class=p>.</span><span class=nx>JSON</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>timeout</span><span class=p>(</span><span class=mi>5000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>build</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>getRequest</span><span class=p>.</span><span class=nx>toString</span><span class=p>());</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>getResponse</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>getRequest</span><span class=p>.</span><span class=nx>execute</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;응답:&#39;</span><span class=p>,</span> <span class=nx>getResponse</span><span class=p>.</span><span class=nx>status</span><span class=p>,</span> <span class=nx>getResponse</span><span class=p>.</span><span class=nx>statusText</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 2. 인증이 포함된 POST 요청
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;2. 인증이 포함된 POST 요청:&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>postRequest</span> <span class=o>=</span> <span class=nx>HttpClient</span><span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=s1>&#39;https://api.example.com/users&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>bearerToken</span><span class=p>(</span><span class=s1>&#39;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>json</span><span class=p>({</span>
</span></span><span class=line><span class=cl>                <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;John Doe&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>email</span><span class=o>:</span> <span class=s1>&#39;john@example.com&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>role</span><span class=o>:</span> <span class=s1>&#39;user&#39;</span>
</span></span><span class=line><span class=cl>            <span class=p>})</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>retry</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>500</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>interceptor</span><span class=p>({</span>
</span></span><span class=line><span class=cl>                <span class=nx>onRequest</span><span class=o>:</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>request</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;요청 전 인터셉터: 로깅 추가&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                    <span class=k>return</span> <span class=nx>request</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>})</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>build</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>postRequest</span><span class=p>.</span><span class=nx>toString</span><span class=p>());</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>postResponse</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>postRequest</span><span class=p>.</span><span class=nx>execute</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;응답:&#39;</span><span class=p>,</span> <span class=nx>postResponse</span><span class=p>.</span><span class=nx>status</span><span class=p>,</span> <span class=nx>postResponse</span><span class=p>.</span><span class=nx>statusText</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 3. Director를 사용한 API 요청
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;3. Director를 사용한 REST API 요청:&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>apiRequest</span> <span class=o>=</span> <span class=nx>HttpClientDirector</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>restApiRequest</span><span class=p>(</span><span class=s1>&#39;https://api.service.com&#39;</span><span class=p>,</span> <span class=s1>&#39;/v1/data&#39;</span><span class=p>,</span> <span class=s1>&#39;api-key-123&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>get</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>queryParams</span><span class=p>({</span>
</span></span><span class=line><span class=cl>                <span class=nx>category</span><span class=o>:</span> <span class=s1>&#39;technology&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>sort</span><span class=o>:</span> <span class=s1>&#39;date&#39;</span>
</span></span><span class=line><span class=cl>            <span class=p>})</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>build</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>apiRequest</span><span class=p>.</span><span class=nx>toString</span><span class=p>());</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>apiResponse</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>apiRequest</span><span class=p>.</span><span class=nx>execute</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;응답:&#39;</span><span class=p>,</span> <span class=nx>apiResponse</span><span class=p>.</span><span class=nx>status</span><span class=p>,</span> <span class=nx>apiResponse</span><span class=p>.</span><span class=nx>statusText</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 4. 복잡한 폼 데이터 요청
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;4. 복잡한 폼 데이터 요청:&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>formData</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>FormData</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=nx>formData</span><span class=p>.</span><span class=nx>append</span><span class=p>(</span><span class=s1>&#39;title&#39;</span><span class=p>,</span> <span class=s1>&#39;New Article&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>formData</span><span class=p>.</span><span class=nx>append</span><span class=p>(</span><span class=s1>&#39;content&#39;</span><span class=p>,</span> <span class=s1>&#39;Article content here...&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>formData</span><span class=p>.</span><span class=nx>append</span><span class=p>(</span><span class=s1>&#39;file&#39;</span><span class=p>,</span> <span class=k>new</span> <span class=nx>Blob</span><span class=p>([</span><span class=s1>&#39;file content&#39;</span><span class=p>],</span> <span class=p>{</span> <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;text/plain&#39;</span> <span class=p>}));</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>formRequest</span> <span class=o>=</span> <span class=nx>HttpClient</span><span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=s1>&#39;https://api.example.com/articles&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>basicAuth</span><span class=p>(</span><span class=s1>&#39;admin&#39;</span><span class=p>,</span> <span class=s1>&#39;password&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>form</span><span class=p>(</span><span class=nx>formData</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>timeout</span><span class=p>(</span><span class=mi>30000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>build</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>formRequest</span><span class=p>.</span><span class=nx>toString</span><span class=p>());</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;폼 데이터 포함된 요청 생성 완료&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 5. 체이닝과 조건부 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;5. 조건부 설정을 포함한 요청:&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>isDevelopment</span> <span class=o>=</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>conditionalRequest</span> <span class=o>=</span> <span class=nx>HttpClient</span><span class=p>.</span><span class=nx>request</span><span class=p>(</span><span class=s1>&#39;https://api.example.com/config&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>get</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=nx>contentType</span><span class=p>(</span><span class=nx>ContentType</span><span class=p>.</span><span class=nx>JSON</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 조건부 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=nx>isDevelopment</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>conditionalRequest</span>
</span></span><span class=line><span class=cl>                <span class=p>.</span><span class=nx>queryParam</span><span class=p>(</span><span class=s1>&#39;debug&#39;</span><span class=p>,</span> <span class=s1>&#39;true&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=p>.</span><span class=nx>timeout</span><span class=p>(</span><span class=mi>60000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>conditionalRequest</span>
</span></span><span class=line><span class=cl>                <span class=p>.</span><span class=nx>retry</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>2000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=p>.</span><span class=nx>timeout</span><span class=p>(</span><span class=mi>10000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>finalRequest</span> <span class=o>=</span> <span class=nx>conditionalRequest</span><span class=p>.</span><span class=nx>build</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>finalRequest</span><span class=p>.</span><span class=nx>toString</span><span class=p>());</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;조건부 설정 적용 완료&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;오류 발생:&#39;</span><span class=p>,</span> <span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 빌더 패턴의 유연성 시연
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>demonstrateFlexibility</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;\n=== Builder Pattern 유연성 시연 ===\n&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 동일한 기본 설정에서 다양한 요청 생성
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>baseBuilder</span> <span class=o>=</span> <span class=nx>HttpClient</span><span class=p>.</span><span class=nx>request</span><span class=p>(</span><span class=s1>&#39;https://api.example.com&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>bearerToken</span><span class=p>(</span><span class=s1>&#39;token-123&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>timeout</span><span class=p>(</span><span class=mi>15000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>retry</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>1000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 1. 사용자 목록 조회
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>getUsersRequest</span> <span class=o>=</span> <span class=nx>baseBuilder</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>get</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>queryParam</span><span class=p>(</span><span class=s1>&#39;endpoint&#39;</span><span class=p>,</span> <span class=s1>&#39;/users&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>accept</span><span class=p>(</span><span class=nx>ContentType</span><span class=p>.</span><span class=nx>JSON</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>build</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 2. 새 사용자 생성
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>createUserRequest</span> <span class=o>=</span> <span class=nx>HttpClient</span><span class=p>.</span><span class=nx>request</span><span class=p>(</span><span class=s1>&#39;https://api.example.com&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>bearerToken</span><span class=p>(</span><span class=s1>&#39;token-123&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>timeout</span><span class=p>(</span><span class=mi>15000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>retry</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>1000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>post</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>json</span><span class=p>({</span>
</span></span><span class=line><span class=cl>            <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;New User&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>email</span><span class=o>:</span> <span class=s1>&#39;new@example.com&#39;</span>
</span></span><span class=line><span class=cl>        <span class=p>})</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>build</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 3. 사용자 정보 업데이트
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>updateUserRequest</span> <span class=o>=</span> <span class=nx>HttpClient</span><span class=p>.</span><span class=nx>request</span><span class=p>(</span><span class=s1>&#39;https://api.example.com&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>bearerToken</span><span class=p>(</span><span class=s1>&#39;token-123&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>timeout</span><span class=p>(</span><span class=mi>15000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>retry</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>1000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>put</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>json</span><span class=p>({</span>
</span></span><span class=line><span class=cl>            <span class=nx>id</span><span class=o>:</span> <span class=mi>123</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;Updated Name&#39;</span>
</span></span><span class=line><span class=cl>        <span class=p>})</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>build</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;다양한 요청 생성:&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;1.&#39;</span><span class=p>,</span> <span class=nx>getUsersRequest</span><span class=p>.</span><span class=nx>toString</span><span class=p>());</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;2.&#39;</span><span class=p>,</span> <span class=nx>createUserRequest</span><span class=p>.</span><span class=nx>toString</span><span class=p>());</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;3.&#39;</span><span class=p>,</span> <span class=nx>updateUserRequest</span><span class=p>.</span><span class=nx>toString</span><span class=p>());</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 실행
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>if</span> <span class=p>(</span><span class=k>typeof</span> <span class=nb>window</span> <span class=o>===</span> <span class=s1>&#39;undefined&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Node.js 환경
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>demonstrateBuilderPattern</span><span class=p>().</span><span class=nx>then</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>demonstrateFlexibility</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 브라우저 환경
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nb>window</span><span class=p>.</span><span class=nx>demonstrateBuilderPattern</span> <span class=o>=</span> <span class=nx>demonstrateBuilderPattern</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nb>window</span><span class=p>.</span><span class=nx>demonstrateFlexibility</span> <span class=o>=</span> <span class=nx>demonstrateFlexibility</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nb>window</span><span class=p>.</span><span class=nx>HttpClient</span> <span class=o>=</span> <span class=nx>HttpClient</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nb>window</span><span class=p>.</span><span class=nx>HttpClientDirector</span> <span class=o>=</span> <span class=nx>HttpClientDirector</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Builder Pattern HTTP Client가 로드되었습니다.&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;demonstrateBuilderPattern() 함수를 호출해보세요.&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>고려 항목</strong></th><th><strong>설명</strong></th><th><strong>권장사항</strong></th></tr></thead><tbody><tr><td><strong>적용 판단 기준</strong></td><td>객체 복잡도 판단</td><td>매개변수 수, 조건 분기, 설정 조합이 많을 때에만 적용</td><td>매개변수 4 개 이상 또는 선택 필드가 많을 경우 사용</td></tr><tr><td></td><td>간단 객체에의 남용 방지</td><td>단순한 객체에 사용 시 코드 오버헤드 발생</td><td>간단한 경우 생성자나 정적 팩토리 메서드로 대체</td></tr><tr><td><strong>설계 원칙</strong></td><td>SRP 및 책임 분리 유지</td><td>빌더가 생성 외 기능 (유효성, 상태 저장 등) 을 갖게 되면 단일 책임 원칙 위배</td><td>생성, 상태 관리, 검증 책임은 각각 분리</td></tr><tr><td></td><td>인터페이스 일관성</td><td>빌더 체이닝/API 사용 방식이 프로젝트마다 다르면 혼란 유발</td><td>코딩 컨벤션 및 빌더 설계 가이드 마련</td></tr><tr><td></td><td>클래스 수 증가 관리</td><td>Product, Builder, Director 등 클래스가 증가할 수 있음</td><td>Lombok <code>@Builder</code>, 코드 생성기 활용</td></tr><tr><td><strong>객체 일관성 및 유효성</strong></td><td>필수/선택 필드 명확 구분</td><td>필수 필드 누락 시 잘못된 객체 생성 가능성 있음</td><td>생성자에 필수값, 체이닝에 선택값 배치</td></tr><tr><td></td><td>build() 시 유효성 검증</td><td>중간 상태에서의 불완전 객체 방지 필요</td><td><code>build()</code> 에서 모든 필드 조합 검증 또는 유효성 로직 포함</td></tr><tr><td></td><td>불변성 보장</td><td>생성된 객체가 변경되면 안정성 및 예측성 저하</td><td>모든 필드 <code>final</code>, setter 제거, Immutable 객체 반환</td></tr><tr><td><strong>테스트 및 유지보수</strong></td><td>테스트 데이터 생성</td><td>테스트 시 다양한 상태의 객체 필요</td><td>Test Data Builder 패턴 활용, 단위 테스트 분리</td></tr><tr><td></td><td>Product 와 Builder 간 구조 동기화</td><td>Product 구조 변경 시 빌더도 함께 수정 필요</td><td>자동화 툴 사용 또는 Product 기반 코드 생성 적용</td></tr><tr><td></td><td>변경 영향도 관리</td><td>빌더 인터페이스 변경 시 다른 코드에 미치는 영향 존재</td><td>하위 호환성 고려 설계, 인터페이스 분리 적용</td></tr><tr><td><strong>성능 최적화</strong></td><td>메모리 사용량</td><td>Builder 는 일시적인 객체로 GC 부담 증가 가능</td><td>풀링, 재사용 가능 구조 설계 또는 빌더 리셋 메서드 구현</td></tr><tr><td></td><td>체이닝 오버헤드/지연 생성</td><td>불필요한 객체 생성이나 호출 순서 오류 발생 가능</td><td>Lazy Initialization, 체이닝 최적화</td></tr><tr><td></td><td>클래스 동기화/성능 이슈</td><td>멀티스레드 환경에서 공유 시 안전성 문제</td><td>Thread-Safe Builder 혹은 복사 전략, ThreadLocal 적용</td></tr><tr><td><strong>문서화 및 가독성</strong></td><td>API 사용법 명시</td><td>체이닝 순서나 필수 메서드 등 문서가 부족할 경우 오용 위험</td><td>IDE 인텔리센스 지원 + JavaDoc/TSDoc 주석 활용</td></tr><tr><td></td><td>가독성 향상</td><td>체이닝이 지나치게 길거나 복잡할 경우 가독성 저하</td><td>명확한 메서드 명명, 단계별 메서드 분리, Fluent API 설계</td></tr><tr><td><strong>팀 적용 관점</strong></td><td>교육 및 패턴 숙지 필요</td><td>개발자마다 빌더 사용 방식이 상이할 수 있음</td><td>팀 가이드라인 수립, 내부 교육 또는 코드 리뷰 강화</td></tr><tr><td></td><td>팀 표준화/자동화 적용</td><td>공통 빌더 템플릿 또는 도구 활용 필요</td><td>Lombok, Kotlin DSL, 코드 생성기 도입 검토</td></tr></tbody></table><h4 id=623-테스트-전략>6.23 테스트 전략<a hidden class=anchor aria-hidden=true href=#623-테스트-전략>#</a></h4><p><strong>단위 테스트 접근법</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1> 1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2> 2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3> 3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4> 4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5> 5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6> 6</a>
</span><span class=lnt id=hl-16-7><a class=lnlinks href=#hl-16-7> 7</a>
</span><span class=lnt id=hl-16-8><a class=lnlinks href=#hl-16-8> 8</a>
</span><span class=lnt id=hl-16-9><a class=lnlinks href=#hl-16-9> 9</a>
</span><span class=lnt id=hl-16-10><a class=lnlinks href=#hl-16-10>10</a>
</span><span class=lnt id=hl-16-11><a class=lnlinks href=#hl-16-11>11</a>
</span><span class=lnt id=hl-16-12><a class=lnlinks href=#hl-16-12>12</a>
</span><span class=lnt id=hl-16-13><a class=lnlinks href=#hl-16-13>13</a>
</span><span class=lnt id=hl-16-14><a class=lnlinks href=#hl-16-14>14</a>
</span><span class=lnt id=hl-16-15><a class=lnlinks href=#hl-16-15>15</a>
</span><span class=lnt id=hl-16-16><a class=lnlinks href=#hl-16-16>16</a>
</span><span class=lnt id=hl-16-17><a class=lnlinks href=#hl-16-17>17</a>
</span><span class=lnt id=hl-16-18><a class=lnlinks href=#hl-16-18>18</a>
</span><span class=lnt id=hl-16-19><a class=lnlinks href=#hl-16-19>19</a>
</span><span class=lnt id=hl-16-20><a class=lnlinks href=#hl-16-20>20</a>
</span><span class=lnt id=hl-16-21><a class=lnlinks href=#hl-16-21>21</a>
</span><span class=lnt id=hl-16-22><a class=lnlinks href=#hl-16-22>22</a>
</span><span class=lnt id=hl-16-23><a class=lnlinks href=#hl-16-23>23</a>
</span><span class=lnt id=hl-16-24><a class=lnlinks href=#hl-16-24>24</a>
</span><span class=lnt id=hl-16-25><a class=lnlinks href=#hl-16-25>25</a>
</span><span class=lnt id=hl-16-26><a class=lnlinks href=#hl-16-26>26</a>
</span><span class=lnt id=hl-16-27><a class=lnlinks href=#hl-16-27>27</a>
</span><span class=lnt id=hl-16-28><a class=lnlinks href=#hl-16-28>28</a>
</span><span class=lnt id=hl-16-29><a class=lnlinks href=#hl-16-29>29</a>
</span><span class=lnt id=hl-16-30><a class=lnlinks href=#hl-16-30>30</a>
</span><span class=lnt id=hl-16-31><a class=lnlinks href=#hl-16-31>31</a>
</span><span class=lnt id=hl-16-32><a class=lnlinks href=#hl-16-32>32</a>
</span><span class=lnt id=hl-16-33><a class=lnlinks href=#hl-16-33>33</a>
</span><span class=lnt id=hl-16-34><a class=lnlinks href=#hl-16-34>34</a>
</span><span class=lnt id=hl-16-35><a class=lnlinks href=#hl-16-35>35</a>
</span><span class=lnt id=hl-16-36><a class=lnlinks href=#hl-16-36>36</a>
</span><span class=lnt id=hl-16-37><a class=lnlinks href=#hl-16-37>37</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Builder Pattern 테스트 예시</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>unittest</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>TestHttpRequestBuilder</span><span class=p>(</span><span class=n>unittest</span><span class=o>.</span><span class=n>TestCase</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>test_basic_request_creation</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;기본 요청 생성 테스트&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>request</span> <span class=o>=</span> <span class=n>HttpClient</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;https://api.example.com&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>assertEqual</span><span class=p>(</span><span class=n>request</span><span class=o>.</span><span class=n>url</span><span class=p>,</span> <span class=s2>&#34;https://api.example.com&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>assertEqual</span><span class=p>(</span><span class=n>request</span><span class=o>.</span><span class=n>method</span><span class=p>,</span> <span class=s2>&#34;GET&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>test_fluent_interface</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;플루언트 인터페이스 테스트&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>request</span> <span class=o>=</span> <span class=p>(</span><span class=n>HttpClient</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&#34;https://api.example.com&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                   <span class=o>.</span><span class=n>header</span><span class=p>(</span><span class=s2>&#34;Content-Type&#34;</span><span class=p>,</span> <span class=s2>&#34;application/json&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                   <span class=o>.</span><span class=n>timeout</span><span class=p>(</span><span class=mi>5000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                   <span class=o>.</span><span class=n>build</span><span class=p>())</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>assertEqual</span><span class=p>(</span><span class=n>request</span><span class=o>.</span><span class=n>headers</span><span class=p>[</span><span class=s2>&#34;Content-Type&#34;</span><span class=p>],</span> <span class=s2>&#34;application/json&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>assertEqual</span><span class=p>(</span><span class=n>request</span><span class=o>.</span><span class=n>timeout</span><span class=p>,</span> <span class=mi>5000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>test_validation_rules</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;유효성 검증 테스트&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>assertRaises</span><span class=p>(</span><span class=ne>ValueError</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>HttpClient</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>build</span><span class=p>()</span>  <span class=c1># 빈 URL</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>assertRaises</span><span class=p>(</span><span class=ne>ValueError</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>HttpClient</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;invalid-url&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>build</span><span class=p>()</span>  <span class=c1># 잘못된 URL</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>test_immutability</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;불변성 테스트&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>request</span> <span class=o>=</span> <span class=n>HttpClient</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;https://api.example.com&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>build</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>original_headers</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>headers</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 헤더 수정 시도 (실패해야 함)</span>
</span></span><span class=line><span class=cl>        <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>assertRaises</span><span class=p>(</span><span class=ne>TypeError</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>request</span><span class=o>.</span><span class=n>headers</span><span class=p>[</span><span class=s2>&#34;New-Header&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;value&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=624-리팩토링-전략>6.24 리팩토링 전략<a hidden class=anchor aria-hidden=true href=#624-리팩토링-전략>#</a></h4><p><strong>기존 생성자를 Builder 로 리팩토링</strong>:</p><ol><li><strong>1 단계</strong>: 기존 생성자 유지하면서 Builder 추가</li><li><strong>2 단계</strong>: 클라이언트 코드를 점진적으로 Builder 로 전환</li><li><strong>3 단계</strong>: 기존 생성자를 Deprecated 처리</li><li><strong>4 단계</strong>: 기존 생성자 제거 및 Builder 전용화</li></ol><p><strong>리팩토링 체크리스트</strong>:</p><ul><li><input disabled type=checkbox> 매개변수 4 개 이상의 생성자 식별</li><li><input disabled type=checkbox> 선택적 매개변수가 있는 생성자 확인</li><li><input disabled type=checkbox> 불변 객체 전환 필요성 평가</li><li><input disabled type=checkbox> 기존 클라이언트 코드 영향도 분석</li><li><input disabled type=checkbox> 단계적 전환 계획 수립</li></ul><h4 id=625-활용-시-흔한-실수>6.25 활용 시 흔한 실수<a hidden class=anchor aria-hidden=true href=#625-활용-시-흔한-실수>#</a></h4><p><strong>주요 실수 유형</strong>:</p><ol><li><p><strong>빌더 상태 오염</strong></p><ul><li><strong>문제</strong>: 빌더 인스턴스 재사용 시 이전 상태 잔존</li><li><strong>해결</strong>: 빌더 리셋 메서드 구현 또는 새 인스턴스 생성</li></ul></li><li><p><strong>불완전한 유효성 검증</strong></p><ul><li><strong>문제</strong>: 빌드 시점이 아닌 사용 시점에 오류 발견</li><li><strong>해결</strong>: build() 메서드에서 완전한 검증 수행</li></ul></li><li><p><strong>과도한 빌더 적용</strong></p><ul><li><strong>문제</strong>: 단순한 객체에도 빌더 패턴 적용</li><li><strong>해결</strong>: 복잡도 기준 수립 (매개변수 4 개 이상)</li></ul></li><li><p><strong>메모리 누수</strong></p><ul><li><strong>문제</strong>: 빌더에서 참조하는 대용량 객체 미해제</li><li><strong>해결</strong>: 빌드 완료 후 참조 정리</li></ul></li></ol><h3 id=최적화하기-위한-고려사항-및-주의점>최적화하기 위한 고려사항 및 주의점<a hidden class=anchor aria-hidden=true href=#최적화하기-위한-고려사항-및-주의점>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>최적화 항목</strong></th><th><strong>설명</strong></th><th><strong>권장사항</strong></th></tr></thead><tbody><tr><td><strong>성능</strong></td><td>객체 생성 비용</td><td>Builder 및 Product 객체 생성이 반복되면 비용 증가</td><td>팩토리 래핑, 캐싱, 불필요한 생성 최소화</td></tr><tr><td></td><td>메서드 체이닝 오버헤드</td><td>체이닝 방식이 성능에 영향을 줄 수 있음</td><td>인라인 최적화, 체이닝 최소화, 컴파일러 최적화 신뢰</td></tr><tr><td></td><td>빌드 결과 캐싱</td><td>동일 빌드 입력에 대해 반복 생성 방지</td><td>결과 객체 캐싱 및 Flyweight 적용 가능</td></tr><tr><td><strong>메모리 최적화</strong></td><td>빌더 객체 일시적 생성</td><td>GC 에 부담이 될 수 있는 임시 객체 다수 생성</td><td>사용 후 참조 해제, reset 메서드 구현, 객체 풀 적용</td></tr><tr><td></td><td>불필요한 중간 객체</td><td>빌드 과정에서 불필요한 필드/객체 생성 발생 가능</td><td>Lazy Initialization, Copy-on-Write, 중간 값 생략 전략 적용</td></tr><tr><td></td><td>빌더 재사용성</td><td>Stateless 하지 않으면 오작동 위험 있음</td><td>상태 없는 빌더로 구현하거나 풀링 전략 사용</td></tr><tr><td><strong>타입 안전성</strong></td><td>체이닝 순서 의존성</td><td>필드 설정 순서가 잘못되면 런타임 오류 가능</td><td>Step Builder, 필수 필드 강제, @NonNull, IDE 타입 힌트 사용</td></tr><tr><td><strong>유효성 및 일관성</strong></td><td>build() 내부 검증 비용</td><td>유효성 로직이 복잡할수록 build() 호출 비용 증가</td><td>필수/선택 필드 구분, 유효성 최소화, 사전 검증 단계 분리</td></tr><tr><td></td><td>객체 상태 일관성</td><td>build() 전 객체 상태 불완전 가능성</td><td>중간 상태 노출 방지, 불변 객체 반환, clone 기반 재생성 전략</td></tr><tr><td><strong>코드 품질</strong></td><td>중복 빌더 구현</td><td>유사 객체마다 빌더가 중복 구현됨</td><td>추상 빌더 계층 도입, 공통 빌더 추상화 구조 사용</td></tr><tr><td><strong>확장성</strong></td><td>플러그인 기반 확장</td><td>기능 확장 시 빌더 구조 확장이 어렵거나 깨지기 쉬움</td><td>확장 포인트 인터페이스 도입, 인터셉터/Decorator 적용 가능</td></tr><tr><td><strong>테스트</strong></td><td>테스트 친화성</td><td>복잡한 빌더는 테스트하기 어려움</td><td>테스트 전용 빌더 제공, 빌더 상태 추적 기능 추가</td></tr><tr><td><strong>배포/툴 통합</strong></td><td>코드 생성 도구 활용</td><td>반복적인 빌더 구현은 유지보수에 부담됨</td><td>Lombok <code>@Builder</code>, Kotlin DSL, Annotation Processor 활용</td></tr><tr><td><strong>불변성 보장</strong></td><td>상태 변경 허용 시 일관성 문제</td><td>불변성이 없으면 사이드 이펙트 발생 가능</td><td>build() 결과는 Immutable Object 로 구성, 컬렉션은 불변 컬렉션으로 처리</td></tr></tbody></table><h3 id=주제와-관련하여-주목할-내용>주제와 관련하여 주목할 내용<a hidden class=anchor aria-hidden=true href=#주제와-관련하여-주목할-내용>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>주제</strong></th><th><strong>항목</strong></th><th><strong>설명</strong></th></tr></thead><tbody><tr><td><strong>설계 패턴 이해</strong></td><td>Builder Pattern</td><td>객체 구성</td><td>생성 과정을 단계별로 분리하여 복잡한 객체 생성 지원</td></tr><tr><td></td><td></td><td>유연성</td><td>동일한 생성 절차로 다양한 객체 표현 가능</td></tr><tr><td></td><td></td><td>재사용성</td><td>생성 로직 재사용으로 코드 중복 감소</td></tr><tr><td></td><td></td><td>인터페이스 설계</td><td>단계별 메서드를 명확히 정의하여 명확한 계약 제공</td></tr><tr><td></td><td></td><td>Director</td><td>객체 생성 과정을 조정하는 관리자 역할</td></tr><tr><td></td><td></td><td>ConcreteBuilder</td><td>실제 객체 생성 로직 구현 클래스</td></tr><tr><td><strong>불변성/타입 안전성</strong></td><td>Immutable Object</td><td>빌더를 통한 불변 객체 생성 가능</td><td></td></tr><tr><td></td><td>Phantom Types</td><td>타입 시스템을 활용한 단계 안전 보장 (컴파일 타임 검증)</td><td></td></tr><tr><td><strong>프레임워크 활용</strong></td><td>Spring Framework</td><td>Spring Security HttpSecurity Builder</td><td>보안 설정을 빌더 방식으로 구성</td></tr><tr><td></td><td>Spring Boot</td><td>Auto Configuration Builder</td><td>자동 설정 시 빌더 스타일의 구성 적용</td></tr><tr><td></td><td>Spring Core</td><td>BeanDefinitionBuilder</td><td>XML 없이 자바 코드로 Bean 구성</td></tr><tr><td><strong>언어/도구 기반 지원</strong></td><td>Lombok</td><td>@Builder 애노테이션</td><td>컴파일 타임에 빌더 코드를 자동 생성</td></tr><tr><td></td><td>Kotlin</td><td>Named Parameters + DSL</td><td>빌더 없이도 선언형 방식으로 객체 구성 가능</td></tr><tr><td></td><td>Gradle</td><td>Build Script DSL</td><td>선언형 DSL 스타일로 빌드 스크립트 구성</td></tr><tr><td><strong>웹/클라이언트 개발</strong></td><td>HTTP Client</td><td>OkHttp, Retrofit</td><td>REST API 요청 구성을 위한 빌더 구조 활용</td></tr><tr><td></td><td>React (JSX)</td><td>Component Builder</td><td>컴포넌트 구성 시 빌더 스타일 패턴 적용</td></tr><tr><td><strong>데이터 처리/DB</strong></td><td>Query Builder</td><td>JPA Criteria API</td><td>동적 쿼리를 위한 빌더 기반 DSL 구성</td></tr><tr><td></td><td>JSON/XML Builder</td><td>문서 생성 DSL</td><td>JSON, XML 구조 생성을 위한 빌더 패턴 적용</td></tr><tr><td><strong>테스트 전략</strong></td><td>Test Data Builder</td><td>테스트 객체 구성 자동화</td><td>테스트 전용 객체 생성 시 코드 간결화와 재사용성 확보</td></tr><tr><td><strong>도메인 모델링</strong></td><td>DDD Builder</td><td>Aggregate Builder</td><td>복잡한 애그리게이트 객체 생성 시 빌더 활용</td></tr><tr><td><strong>함수형/반응형 프로그래밍</strong></td><td>Functional Builder</td><td>함수형 빌더 구현</td><td>람다와 클로저 기반 선언형 빌더 구조 구현</td></tr><tr><td></td><td>Reactive Builder</td><td>비동기 빌더</td><td>RxJava, WebFlux 등과 결합하여 반응형 흐름에 적합한 빌더 적용</td></tr><tr><td><strong>성능 최적화</strong></td><td>Zero-Copy Builder</td><td>메모리 복사 제거</td><td>메모리 오버헤드 없이 객체 구성</td></tr><tr><td></td><td>Builder Pool Pattern</td><td>빌더 객체 재사용</td><td>풀링을 통한 메모리 및 생성 비용 절감</td></tr><tr><td><strong>검증/안전성</strong></td><td>Validation Builder</td><td>build 시 검증</td><td>객체 생성 전 유효성 검증 내장 가능</td></tr><tr><td><strong>패턴 간 비교/조합</strong></td><td>Abstract Factory vs Builder</td><td>생성 방식 비교</td><td>제품군 vs 복잡 조립 차이 구분</td></tr><tr><td></td><td>Prototype vs Builder</td><td>복제 vs 조립</td><td>생성 전략의 목적 차이에 따른 적합성 판단</td></tr><tr><td></td><td>Builder + Prototype</td><td>복사 + 조립 조합</td><td>공통 기본 틀 복사 후 빌더로 커스터마이징</td></tr></tbody></table><h3 id=추가-학습-내용>추가 학습 내용<a hidden class=anchor aria-hidden=true href=#추가-학습-내용>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>주제</strong></th><th><strong>설명</strong></th></tr></thead><tbody><tr><td><strong>기본 개념</strong></td><td>Builder Pattern (GoF)</td><td>객체 생성 과정을 단계별로 분리하여 다양한 표현을 가능하게 하는 생성 패턴</td></tr><tr><td></td><td>Director</td><td>생성 과정을 조정하여 일관된 절차로 제품을 생성하는 역할</td></tr><tr><td></td><td>ConcreteBuilder</td><td>실제 생성 로직을 정의하는 구체적인 빌더 구현체</td></tr><tr><td></td><td>Product</td><td>빌더가 생성하는 최종 결과 객체</td></tr><tr><td><strong>고급 구조</strong></td><td>Step Builder Pattern</td><td>생성 순서를 타입 시스템으로 강제하여 타입 안전성을 확보하는 빌더 구조</td></tr><tr><td></td><td>내부/외부 Builder</td><td>내부 클래스 또는 외부 클래스로 빌더를 구현하는 방식 차이</td></tr><tr><td></td><td>Fluent Interface</td><td>메서드 체이닝을 통해 선언적이고 가독성 높은 API 를 설계하는 방식</td></tr><tr><td></td><td>Method Chaining</td><td>객체 생성 과정을 연속된 메서드 호출로 연결하는 구현 기법</td></tr><tr><td><strong>성능 최적화</strong></td><td>Builder Pool Pattern</td><td>Builder 인스턴스를 풀링하여 재사용함으로써 객체 생성을 최적화</td></tr><tr><td></td><td>Memory-Efficient Builder</td><td>불필요한 객체 생성을 줄이고 메모리 효율을 높이기 위한 전략</td></tr><tr><td><strong>함수형 접근</strong></td><td>Functional Builder</td><td>람다 표현식, 클로저 등을 활용한 선언적 빌더 구현 방식</td></tr><tr><td><strong>동시성</strong></td><td>Thread-Safe Builder</td><td>멀티스레드 환경에서도 안전하게 사용할 수 있도록 동기화된 빌더 설계</td></tr><tr><td><strong>테스트 전략</strong></td><td>Test Data Builder</td><td>테스트에 필요한 객체 생성을 자동화하고 반복 코드 제거</td></tr><tr><td></td><td>Fixture Builder</td><td>테스트 고정 데이터 (Fixture) 를 빌더로 구성하는 방식</td></tr><tr><td><strong>도메인 모델링</strong></td><td>Aggregate Builder</td><td>DDD 에서 복잡한 애그리게이트 객체 생성을 담당하는 빌더 구조</td></tr><tr><td></td><td>설정/DTO 빌더</td><td>설정 파일, DTO 객체 등의 생성 시 빌더 패턴을 활용한 실무 예제</td></tr><tr><td><strong>API 설계</strong></td><td>Fluent API</td><td>자연어에 가까운 표현으로 직관적인 API 를 설계하는 기법</td></tr><tr><td><strong>생성 패턴 비교</strong></td><td>Factory vs Builder</td><td>제품군 생성 (Factory) vs 복잡한 객체 조립 (Builder) 의 책임 분리 비교</td></tr><tr><td></td><td>Prototype vs Builder</td><td>객체 복제 중심 (Prototype) 과 조립 중심 (Builder) 의 차이 비교</td></tr><tr><td><strong>불변 객체 설계</strong></td><td>Immutable Object + Builder</td><td>생성 후 상태가 바뀌지 않는 객체의 안전한 빌더 조합 방식</td></tr><tr><td><strong>프레임워크/자동화 도구</strong></td><td>Lombok, Kotlin DSL</td><td>Java/Kotlin 에서 빌더 자동 생성 및 선언형 DSL 스타일 빌더 구현 방법</td></tr><tr><td></td><td>코드 생성기</td><td>빌더 코드 생성을 자동화하는 도구 사용법 (예: Swagger Codegen, Lombok 등)</td></tr><tr><td><strong>DSL 및 구성 도구</strong></td><td>SQL DSL (JOOQ, QueryDSL)</td><td>빌더 기반 DSL 로 SQL 쿼리를 안전하고 선언적으로 생성하는 도구</td></tr><tr><td></td><td>JSON/XML Builder</td><td>JSON, XML 등 문서 구조 생성을 위한 빌더 기반 파서 설계</td></tr><tr><td></td><td>UI Builder (React, Flutter)</td><td>선언형 UI 프레임워크에서의 빌더 패턴 활용 방식</td></tr><tr><td><strong>소프트웨어 원칙</strong></td><td>SRP (단일 책임 원칙)</td><td>빌더 클래스는 객체 생성 책임만 가지도록 구성</td></tr><tr><td><strong>설계/품질 원칙</strong></td><td>Clean Code</td><td>빌더 패턴을 활용한 가독성 높은 설계와 유지보수 중심 개발 철학 적용</td></tr><tr><td><strong>성능/메모리 관리</strong></td><td>Object Pooling</td><td>빌더/생성 객체 재사용을 통한 메모리 오버헤드 최소화</td></tr><tr><td><strong>학습 필수 요소</strong></td><td>GoF 23 패턴</td><td>전체적인 디자인 패턴 체계 내에서 Builder 의 위치 이해</td></tr><tr><td></td><td>SOLID</td><td>빌더 패턴의 구조적 설계를 위한 객체지향 원칙 기반 분석</td></tr><tr><td><strong>아키텍처 전략</strong></td><td>CQRS + Builder</td><td>Command 객체 생성을 위한 빌더 패턴 결합 전략</td></tr><tr><td></td><td>Domain-Driven Design</td><td>복잡한 도메인 모델에서 빌더를 활용한 객체 생성 전략</td></tr></tbody></table><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th><strong>카테고리</strong></th><th><strong>용어</strong></th><th><strong>설명</strong></th></tr></thead><tbody><tr><td><strong>패턴 구성요소</strong></td><td><strong>Builder</strong></td><td>객체 생성 단계 (메서드) 를 정의하는 추상 인터페이스 또는 베이스 클래스</td></tr><tr><td></td><td><strong>ConcreteBuilder</strong></td><td>Builder 를 구현하며 실제 Product 를 생성하는 클래스</td></tr><tr><td></td><td><strong>Director</strong></td><td>Builder 의 메서드를 호출하여 객체 생성 순서를 제어하는 관리자 역할 클래스 (선택적)</td></tr><tr><td></td><td><strong>Product</strong></td><td>빌더 패턴을 통해 최종적으로 생성되는 복잡한 객체</td></tr><tr><td><strong>설계 기법</strong></td><td><strong>Fluent Interface</strong></td><td>메서드 체이닝을 통해 선언적·가독성 높은 API 를 구성하는 인터페이스 스타일</td></tr><tr><td></td><td><strong>Method Chaining</strong></td><td>각 메서드가 자기 자신을 반환하여 연속적으로 호출 가능하게 하는 기법</td></tr><tr><td></td><td><strong>Step Builder</strong></td><td>각 단계마다 다른 인터페이스를 반환하여 빌드 순서를 강제하고 컴파일 타임 검증 제공</td></tr><tr><td><strong>프로그래밍 개념</strong></td><td><strong>Immutable Object</strong></td><td>한 번 생성된 후 내부 상태가 변경되지 않는 객체로, 안정성과 예측 가능성 제공</td></tr><tr><td></td><td><strong>Telescoping Constructor</strong></td><td>생성자 매개변수가 점점 늘어나는 안티패턴으로, 빌더 패턴이 이를 해결</td></tr><tr><td><strong>최적화 기법</strong></td><td><strong>Object Pooling</strong></td><td>생성된 객체를 재사용하여 메모리 및 성능을 최적화하는 기법</td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><ul><li><a href=https://refactoring.guru/design-patterns/builder>Refactoring.Guru – Builder Pattern 설명</a></li><li><a href=https://www.geeksforgeeks.org/java/builder-pattern-in-java/>Builder Pattern - GeeksforGeeks Java 구현</a></li><li><a href=https://www.digitalocean.com/community/tutorials/builder-design-pattern-in-java>Builder Pattern in Java - DigitalOcean</a></li><li><a href=https://www.tutorialspoint.com/design_pattern/builder_pattern.htm>Builder Pattern - Tutorialspoint</a></li><li><a href=https://www.javacodegeeks.com/2015/09/builder-design-pattern.html>Builder Pattern Example - Java Code Geeks</a></li></ul><hr></div></main><script type=module>
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
  </script><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>