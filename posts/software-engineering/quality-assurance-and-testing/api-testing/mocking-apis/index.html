<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Mocking APIs | hyunyoun's Blog</title><meta name=keywords content="Backend-Development,API-Design-and-Implementation,API-Testing,Mocking-APIs"><meta name=description content="목 API는 소프트웨어 개발 과정에서 실제 API를 대체하여 테스트, 개발, 디버깅을 용이하게 하는 가상의 API이다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/software-engineering/quality-assurance-and-testing/api-testing/mocking-apis/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/software-engineering/quality-assurance-and-testing/api-testing/mocking-apis/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/software-engineering/quality-assurance-and-testing/api-testing/mocking-apis/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/software-engineering/quality-assurance-and-testing/api-testing/mocking-apis/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Mocking APIs"><meta property="og:description" content="목 API는 소프트웨어 개발 과정에서 실제 API를 대체하여 테스트, 개발, 디버깅을 용이하게 하는 가상의 API이다."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Mocking APIs"><meta name=twitter:description content="목 API는 소프트웨어 개발 과정에서 실제 API를 대체하여 테스트, 개발, 디버깅을 용이하게 하는 가상의 API이다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Computer Science and Engineering","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Software Engineering","item":"https://buenhyden.github.io/posts/software-engineering/"},{"@type":"ListItem","position":3,"name":"Quality Assurance (QA)","item":""},{"@type":"ListItem","position":4,"name":"API Testing","item":"https://buenhyden.github.io/posts/software-engineering/quality-assurance-and-testing/api-testing/"},{"@type":"ListItem","position":5,"name":"Mocking APIs","item":"https://buenhyden.github.io/posts/software-engineering/quality-assurance-and-testing/api-testing/mocking-apis/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>Computer Science and Engineering</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-engineering/>Software Engineering</a>&nbsp;»&nbsp;<a href>Quality Assurance (QA)</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-engineering/quality-assurance-and-testing/api-testing/>API Testing</a></div><h1>Mocking APIs</h1><div class=post-description>목 API는 소프트웨어 개발 과정에서 실제 API를 대체하여 테스트, 개발, 디버깅을 용이하게 하는 가상의 API이다.</div></header><div class=post-content><h2 id=mocking-apis>Mocking APIs<a hidden class=anchor aria-hidden=true href=#mocking-apis>#</a></h2><p>목 API(Mocking API)는 소프트웨어 개발 과정에서 실제 API를 대체하여 테스트, 개발, 디버깅을 용이하게 하는 가상의 API이다.</p><p>목 API(Mocking API)는 현대 소프트웨어 개발에서 필수적인 도구로, 개발 속도를 높이고 의존성을 줄이며 다양한 시나리오를 테스트할 수 있게 해준다. 실제 API와의 일관성을 유지하고, 다양한 상황을 시뮬레이션하며, 체계적인 전환 전략을 갖추면 목 API(Mocking API)는 개발 프로세스의 효율성을 크게 향상시킬 수 있다.</p><p>목 API(Mocking API)를 효과적으로 활용하면 프론트엔드와 백엔드 개발을 병렬화하고, 품질은 높이면서도 개발 시간은 단축할 수 있다. 다만 실제 API와의 차이를 인식하고, 최종적으로는 실제 환경에서의 철저한 테스트가 필요함을 기억해야 한다.</p><h3 id=목-apimocking-api의-기본-개념>목 API(Mocking API)의 기본 개념<a hidden class=anchor aria-hidden=true href=#목-apimocking-api의-기본-개념>#</a></h3><p>목 API(Mocking API)는 실제 API의 동작을 시뮬레이션하는 가상의 인터페이스이다.<br>실제 서버나 데이터베이스에 연결하지 않고도 API 응답을 모방할 수 있어, 개발자가 의존성 없이 코드를 테스트하고 개발할 수 있게 해준다.</p><p>목킹(Mocking)이란 단어는 &lsquo;모방하다&rsquo;라는 의미로, 프로그래밍에서는 실제 객체나 서비스의 행동을 흉내 내는 것을 의미한다. API 목킹은 이러한 모방 기술을 API에 적용한 것이다.</p><h3 id=목-apimocking-api를-사용하는-이유>목 API(Mocking API)를 사용하는 이유<a hidden class=anchor aria-hidden=true href=#목-apimocking-api를-사용하는-이유>#</a></h3><ol><li><strong>의존성 제거</strong>: 외부 서비스나 API에 의존하지 않고 독립적으로 개발할 수 있다.</li><li><strong>개발 속도 향상</strong>: 백엔드 API가 완성되기 전에도 프론트엔드 개발을 진행할 수 있다.</li><li><strong>테스트 안정성</strong>: 실제 API는 네트워크 지연, 서버 다운타임 등의 변수가 있지만, 목 API는 일관된 응답을 제공한다.</li><li><strong>다양한 시나리오 테스트</strong>: 오류 상황, 지연 시간, 다양한 응답 형태 등을 쉽게 시뮬레이션할 수 있다.</li><li><strong>비용 절감</strong>: API 호출에 요금이 부과되는 경우, 목 API를 사용하면 개발 과정에서 비용을 절약할 수 있다.</li><li><strong>오프라인 개발</strong>: 인터넷 연결이 없는 환경에서도 개발을 계속할 수 있다.</li></ol><h3 id=목-api의-종류>목 API의 종류<a hidden class=anchor aria-hidden=true href=#목-api의-종류>#</a></h3><h4 id=로컬-목-서버>로컬 목 서버<a hidden class=anchor aria-hidden=true href=#로컬-목-서버>#</a></h4><p>자체 개발 환경에서 실행되는 서버로, 실제 API의 엔드포인트와 응답을 모방한다.<br>주로 Express(Node.js), Flask(Python) 등을 사용하여 구현한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14>14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15>15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16>16</a>
</span><span class=lnt id=hl-0-17><a class=lnlinks href=#hl-0-17>17</a>
</span><span class=lnt id=hl-0-18><a class=lnlinks href=#hl-0-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Express를 사용한 간단한 목 서버 예제
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>express</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;express&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=nx>express</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 사용자 목록을 반환하는 목 API 엔드포인트
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/api/users&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 실제 데이터베이스 대신 하드코딩된 응답 제공
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>mockUsers</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span> <span class=nx>id</span><span class=o>:</span> <span class=mi>1</span><span class=p>,</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;김철수&#39;</span><span class=p>,</span> <span class=nx>email</span><span class=o>:</span> <span class=s1>&#39;kim@example.com&#39;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span> <span class=nx>id</span><span class=o>:</span> <span class=mi>2</span><span class=p>,</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;이영희&#39;</span><span class=p>,</span> <span class=nx>email</span><span class=o>:</span> <span class=s1>&#39;lee@example.com&#39;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>];</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>(</span><span class=nx>mockUsers</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>listen</span><span class=p>(</span><span class=mi>3000</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Mock API server is running on port 3000&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=서비스형-목-api-mock-as-a-service>서비스형 목 API (Mock as a Service)<a hidden class=anchor aria-hidden=true href=#서비스형-목-api-mock-as-a-service>#</a></h4><p>클라우드 기반의 목 API 서비스로, 웹 인터페이스를 통해 목 API를 생성하고 관리할 수 있다.<br>대표적인 서비스로는 Mockoon, Postman, MockAPI 등이 있다.</p><h4 id=라이브러리-기반-목킹>라이브러리 기반 목킹<a hidden class=anchor aria-hidden=true href=#라이브러리-기반-목킹>#</a></h4><p>테스트 코드 내에서 HTTP 요청을 가로채고 목 응답을 반환하는 라이브러리를 사용한다.<br>Jest, Nock, MSW(Mock Service Worker) 등이 대표적이다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11>11</a>
</span><span class=lnt id=hl-1-12><a class=lnlinks href=#hl-1-12>12</a>
</span><span class=lnt id=hl-1-13><a class=lnlinks href=#hl-1-13>13</a>
</span><span class=lnt id=hl-1-14><a class=lnlinks href=#hl-1-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Jest와 axios-mock-adapter를 사용한 API 목킹 예제
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>axios</span> <span class=nx>from</span> <span class=s1>&#39;axios&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>MockAdapter</span> <span class=nx>from</span> <span class=s1>&#39;axios-mock-adapter&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// axios 인스턴스에 대한 목 어댑터 생성
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>mock</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>MockAdapter</span><span class=p>(</span><span class=nx>axios</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// GET 요청에 대한 목 응답 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>mock</span><span class=p>.</span><span class=nx>onGet</span><span class=p>(</span><span class=s1>&#39;/api/users&#39;</span><span class=p>).</span><span class=nx>reply</span><span class=p>(</span><span class=mi>200</span><span class=p>,</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nx>id</span><span class=o>:</span> <span class=mi>1</span><span class=p>,</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;김철수&#39;</span><span class=p>,</span> <span class=nx>email</span><span class=o>:</span> <span class=s1>&#39;kim@example.com&#39;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nx>id</span><span class=o>:</span> <span class=mi>2</span><span class=p>,</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;이영희&#39;</span><span class=p>,</span> <span class=nx>email</span><span class=o>:</span> <span class=s1>&#39;lee@example.com&#39;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 이제 axios.get(&#39;/api/users&#39;)는 위의 목 데이터를 반환합니다
</span></span></span></code></pre></td></tr></table></div></div><h4 id=브라우저-서비스-워커-기반-목킹>브라우저 서비스 워커 기반 목킹<a hidden class=anchor aria-hidden=true href=#브라우저-서비스-워커-기반-목킹>#</a></h4><p>브라우저의 서비스 워커를 사용하여 네트워크 요청을 가로채고 목 응답을 제공한다.<br>MSW(Mock Service Worker)가 대표적이다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1> 1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2> 2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3> 3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4> 4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5> 5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6> 6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7> 7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8> 8</a>
</span><span class=lnt id=hl-2-9><a class=lnlinks href=#hl-2-9> 9</a>
</span><span class=lnt id=hl-2-10><a class=lnlinks href=#hl-2-10>10</a>
</span><span class=lnt id=hl-2-11><a class=lnlinks href=#hl-2-11>11</a>
</span><span class=lnt id=hl-2-12><a class=lnlinks href=#hl-2-12>12</a>
</span><span class=lnt id=hl-2-13><a class=lnlinks href=#hl-2-13>13</a>
</span><span class=lnt id=hl-2-14><a class=lnlinks href=#hl-2-14>14</a>
</span><span class=lnt id=hl-2-15><a class=lnlinks href=#hl-2-15>15</a>
</span><span class=lnt id=hl-2-16><a class=lnlinks href=#hl-2-16>16</a>
</span><span class=lnt id=hl-2-17><a class=lnlinks href=#hl-2-17>17</a>
</span><span class=lnt id=hl-2-18><a class=lnlinks href=#hl-2-18>18</a>
</span><span class=lnt id=hl-2-19><a class=lnlinks href=#hl-2-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// MSW를 사용한 브라우저 목킹 예제
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>setupWorker</span><span class=p>,</span> <span class=nx>rest</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;msw&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 목 핸들러 정의
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>handlers</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=nx>rest</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/api/users&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>,</span> <span class=nx>ctx</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>res</span><span class=p>(</span>
</span></span><span class=line><span class=cl>      <span class=nx>ctx</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>200</span><span class=p>),</span>
</span></span><span class=line><span class=cl>      <span class=nx>ctx</span><span class=p>.</span><span class=nx>json</span><span class=p>([</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span> <span class=nx>id</span><span class=o>:</span> <span class=mi>1</span><span class=p>,</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;김철수&#39;</span><span class=p>,</span> <span class=nx>email</span><span class=o>:</span> <span class=s1>&#39;kim@example.com&#39;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span> <span class=nx>id</span><span class=o>:</span> <span class=mi>2</span><span class=p>,</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;이영희&#39;</span><span class=p>,</span> <span class=nx>email</span><span class=o>:</span> <span class=s1>&#39;lee@example.com&#39;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>])</span>
</span></span><span class=line><span class=cl>    <span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 브라우저에서 서비스 워커 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>worker</span> <span class=o>=</span> <span class=nx>setupWorker</span><span class=p>(...</span><span class=nx>handlers</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>worker</span><span class=p>.</span><span class=nx>start</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=효과적인-목-api-구현-방법>효과적인 목 API 구현 방법<a hidden class=anchor aria-hidden=true href=#효과적인-목-api-구현-방법>#</a></h3><h4 id=실제-api와-일치하는-구조-유지>실제 API와 일치하는 구조 유지<a hidden class=anchor aria-hidden=true href=#실제-api와-일치하는-구조-유지>#</a></h4><p>목 API는 실제 API와 동일한 엔드포인트, 요청/응답 구조, 데이터 형식을 가져야 한다.<br>이는 나중에 실제 API로 전환할 때 코드 변경을 최소화한다.</p><h4 id=다양한-시나리오-지원>다양한 시나리오 지원<a hidden class=anchor aria-hidden=true href=#다양한-시나리오-지원>#</a></h4><p>성공 케이스뿐만 아니라 오류 상황, 지연 응답, 부분 데이터 등 다양한 시나리오를 시뮬레이션할 수 있어야 한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span><span class=lnt id=hl-3-12><a class=lnlinks href=#hl-3-12>12</a>
</span><span class=lnt id=hl-3-13><a class=lnlinks href=#hl-3-13>13</a>
</span><span class=lnt id=hl-3-14><a class=lnlinks href=#hl-3-14>14</a>
</span><span class=lnt id=hl-3-15><a class=lnlinks href=#hl-3-15>15</a>
</span><span class=lnt id=hl-3-16><a class=lnlinks href=#hl-3-16>16</a>
</span><span class=lnt id=hl-3-17><a class=lnlinks href=#hl-3-17>17</a>
</span><span class=lnt id=hl-3-18><a class=lnlinks href=#hl-3-18>18</a>
</span><span class=lnt id=hl-3-19><a class=lnlinks href=#hl-3-19>19</a>
</span><span class=lnt id=hl-3-20><a class=lnlinks href=#hl-3-20>20</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 다양한 상황을 시뮬레이션하는 목 API 예제
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/api/users/:id&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>userId</span> <span class=o>=</span> <span class=nb>parseInt</span><span class=p>(</span><span class=nx>req</span><span class=p>.</span><span class=nx>params</span><span class=p>.</span><span class=nx>id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 지연 시뮬레이션
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 특정 ID에 대한 오류 시뮬레이션
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=nx>userId</span> <span class=o>===</span> <span class=mi>999</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>json</span><span class=p>({</span> <span class=nx>error</span><span class=o>:</span> <span class=s1>&#39;서버 오류&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 존재하지 않는 사용자 시뮬레이션
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=nx>userId</span> <span class=o>&gt;</span> <span class=mi>10</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>404</span><span class=p>).</span><span class=nx>json</span><span class=p>({</span> <span class=nx>error</span><span class=o>:</span> <span class=s1>&#39;사용자를 찾을 수 없습니다&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 정상적인 응답
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>({</span> <span class=nx>id</span><span class=o>:</span> <span class=nx>userId</span><span class=p>,</span> <span class=nx>name</span><span class=o>:</span> <span class=sb>`사용자</span><span class=si>${</span><span class=nx>userId</span><span class=si>}</span><span class=sb>`</span><span class=p>,</span> <span class=nx>email</span><span class=o>:</span> <span class=sb>`user</span><span class=si>${</span><span class=nx>userId</span><span class=si>}</span><span class=sb>@example.com`</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=nx>userId</span> <span class=o>===</span> <span class=mi>5</span> <span class=o>?</span> <span class=mi>2000</span> <span class=o>:</span> <span class=mi>100</span><span class=p>);</span> <span class=c1>// ID가 5인 경우 지연 시간 증가
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=상태-관리-기능-구현>상태 관리 기능 구현<a hidden class=anchor aria-hidden=true href=#상태-관리-기능-구현>#</a></h4><p>필요한 경우, 목 API에서도 데이터 생성, 수정, 삭제 등의 상태 변경을 유지할 수 있어야 한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1> 1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2> 2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3> 3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4> 4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5> 5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6> 6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7> 7</a>
</span><span class=lnt id=hl-4-8><a class=lnlinks href=#hl-4-8> 8</a>
</span><span class=lnt id=hl-4-9><a class=lnlinks href=#hl-4-9> 9</a>
</span><span class=lnt id=hl-4-10><a class=lnlinks href=#hl-4-10>10</a>
</span><span class=lnt id=hl-4-11><a class=lnlinks href=#hl-4-11>11</a>
</span><span class=lnt id=hl-4-12><a class=lnlinks href=#hl-4-12>12</a>
</span><span class=lnt id=hl-4-13><a class=lnlinks href=#hl-4-13>13</a>
</span><span class=lnt id=hl-4-14><a class=lnlinks href=#hl-4-14>14</a>
</span><span class=lnt id=hl-4-15><a class=lnlinks href=#hl-4-15>15</a>
</span><span class=lnt id=hl-4-16><a class=lnlinks href=#hl-4-16>16</a>
</span><span class=lnt id=hl-4-17><a class=lnlinks href=#hl-4-17>17</a>
</span><span class=lnt id=hl-4-18><a class=lnlinks href=#hl-4-18>18</a>
</span><span class=lnt id=hl-4-19><a class=lnlinks href=#hl-4-19>19</a>
</span><span class=lnt id=hl-4-20><a class=lnlinks href=#hl-4-20>20</a>
</span><span class=lnt id=hl-4-21><a class=lnlinks href=#hl-4-21>21</a>
</span><span class=lnt id=hl-4-22><a class=lnlinks href=#hl-4-22>22</a>
</span><span class=lnt id=hl-4-23><a class=lnlinks href=#hl-4-23>23</a>
</span><span class=lnt id=hl-4-24><a class=lnlinks href=#hl-4-24>24</a>
</span><span class=lnt id=hl-4-25><a class=lnlinks href=#hl-4-25>25</a>
</span><span class=lnt id=hl-4-26><a class=lnlinks href=#hl-4-26>26</a>
</span><span class=lnt id=hl-4-27><a class=lnlinks href=#hl-4-27>27</a>
</span><span class=lnt id=hl-4-28><a class=lnlinks href=#hl-4-28>28</a>
</span><span class=lnt id=hl-4-29><a class=lnlinks href=#hl-4-29>29</a>
</span><span class=lnt id=hl-4-30><a class=lnlinks href=#hl-4-30>30</a>
</span><span class=lnt id=hl-4-31><a class=lnlinks href=#hl-4-31>31</a>
</span><span class=lnt id=hl-4-32><a class=lnlinks href=#hl-4-32>32</a>
</span><span class=lnt id=hl-4-33><a class=lnlinks href=#hl-4-33>33</a>
</span><span class=lnt id=hl-4-34><a class=lnlinks href=#hl-4-34>34</a>
</span><span class=lnt id=hl-4-35><a class=lnlinks href=#hl-4-35>35</a>
</span><span class=lnt id=hl-4-36><a class=lnlinks href=#hl-4-36>36</a>
</span><span class=lnt id=hl-4-37><a class=lnlinks href=#hl-4-37>37</a>
</span><span class=lnt id=hl-4-38><a class=lnlinks href=#hl-4-38>38</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 상태를 유지하는 목 API 예제
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>express</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;express&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=nx>express</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>express</span><span class=p>.</span><span class=nx>json</span><span class=p>());</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 메모리 내 사용자 데이터 저장소
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>users</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nx>id</span><span class=o>:</span> <span class=mi>1</span><span class=p>,</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;김철수&#39;</span><span class=p>,</span> <span class=nx>email</span><span class=o>:</span> <span class=s1>&#39;kim@example.com&#39;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nx>id</span><span class=o>:</span> <span class=mi>2</span><span class=p>,</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;이영희&#39;</span><span class=p>,</span> <span class=nx>email</span><span class=o>:</span> <span class=s1>&#39;lee@example.com&#39;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 사용자 목록 조회
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/api/users&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>(</span><span class=nx>users</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 사용자 추가
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>app</span><span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=s1>&#39;/api/users&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>newUser</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>id</span><span class=o>:</span> <span class=nx>users</span><span class=p>.</span><span class=nx>length</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span><span class=nx>req</span><span class=p>.</span><span class=nx>body</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=nx>users</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>newUser</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>201</span><span class=p>).</span><span class=nx>json</span><span class=p>(</span><span class=nx>newUser</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 사용자 삭제
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>app</span><span class=p>.</span><span class=k>delete</span><span class=p>(</span><span class=s1>&#39;/api/users/:id&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>userId</span> <span class=o>=</span> <span class=nb>parseInt</span><span class=p>(</span><span class=nx>req</span><span class=p>.</span><span class=nx>params</span><span class=p>.</span><span class=nx>id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>userIndex</span> <span class=o>=</span> <span class=nx>users</span><span class=p>.</span><span class=nx>findIndex</span><span class=p>(</span><span class=nx>user</span> <span class=p>=&gt;</span> <span class=nx>user</span><span class=p>.</span><span class=nx>id</span> <span class=o>===</span> <span class=nx>userId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>userIndex</span> <span class=o>===</span> <span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>404</span><span class=p>).</span><span class=nx>json</span><span class=p>({</span> <span class=nx>error</span><span class=o>:</span> <span class=s1>&#39;사용자를 찾을 수 없습니다&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>users</span> <span class=o>=</span> <span class=nx>users</span><span class=p>.</span><span class=nx>filter</span><span class=p>(</span><span class=nx>user</span> <span class=p>=&gt;</span> <span class=nx>user</span><span class=p>.</span><span class=nx>id</span> <span class=o>!==</span> <span class=nx>userId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>204</span><span class=p>).</span><span class=nx>end</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=문서화와-공유>문서화와 공유<a hidden class=anchor aria-hidden=true href=#문서화와-공유>#</a></h4><p>팀 내에서 목 API의 사용법과 기능을 명확히 문서화하고 공유하여, 모든 팀원이 일관된 개발 환경을 갖도록 한다.</p><h3 id=주요-목-api-도구와-라이브러리>주요 목 API 도구와 라이브러리<a hidden class=anchor aria-hidden=true href=#주요-목-api-도구와-라이브러리>#</a></h3><ol><li><p>독립형 도구</p><ul><li><strong>Mockoon</strong>: 데스크톱 애플리케이션으로, GUI를 통해 목 API를 쉽게 생성하고 관리할 수 있다.</li><li><strong>Postman</strong>: API 테스트 도구로, 목 서버 기능도 제공한다.</li><li><strong>JSON Server</strong>: JSON 파일을 기반으로 전체 가짜 REST API를 생성한다.</li><li><strong>WireMock</strong>: Java 기반의 강력한 목 서버로, 다양한 응답 패턴을 지원한다.</li></ul></li><li><p>프로그래밍 언어별 라이브러리</p><ol><li>JavaScript/Node.js<ul><li><strong>Nock</strong>: HTTP 서버 목킹 라이브러리</li><li><strong>MSW (Mock Service Worker)</strong>: 서비스 워커를 통한 네트워크 요청 가로채기</li><li><strong>Mirage JS</strong>: 클라이언트 사이드 API 목킹 라이브러리</li></ul></li><li>Python<ul><li><strong>responses</strong>: requests 라이브러리를 위한 목킹 도구</li><li><strong>HTTPretty</strong>: HTTP 요청 목킹 라이브러리</li></ul></li><li>Java<ul><li><strong>MockMvc</strong>: Spring 애플리케이션에서 컨트롤러 테스트를 위한 도구</li><li><strong>Mockito</strong>: Java 목킹 프레임워크</li></ul></li></ol></li></ol><h3 id=실제-api로의-전환-전략>실제 API로의 전환 전략<a hidden class=anchor aria-hidden=true href=#실제-api로의-전환-전략>#</a></h3><p>목 API에서 실제 API로 원활하게 전환하려면 다음과 같은 전략이 필요하다:</p><h4 id=1-환경별-설정>1. 환경별 설정<a hidden class=anchor aria-hidden=true href=#1-환경별-설정>#</a></h4><p>개발, 테스트, 프로덕션 환경에 따라 다른 API 엔드포인트를 사용하도록 설정한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2>2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3>3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 환경에 따른 API 엔드포인트 설정 예제
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>API_BASE_URL</span> <span class=o>=</span> <span class=nx>process</span><span class=p>.</span><span class=nx>env</span><span class=p>.</span><span class=nx>NODE_ENV</span> <span class=o>===</span> <span class=s1>&#39;development&#39;</span>
</span></span><span class=line><span class=cl>  <span class=o>?</span> <span class=s1>&#39;http://localhost:3000/api&#39;</span> <span class=c1>// 개발 환경: 목 API
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=o>:</span> <span class=s1>&#39;https://api.example.com/api&#39;</span><span class=p>;</span> <span class=c1>// 프로덕션 환경: 실제 API
</span></span></span></code></pre></td></tr></table></div></div><h4 id=점진적-전환>점진적 전환<a hidden class=anchor aria-hidden=true href=#점진적-전환>#</a></h4><p>전체 API를 한 번에 전환하는 대신, 엔드포인트별로 점진적으로 실제 API로 전환한다.</p><h4 id=기능-플래그-사용>기능 플래그 사용<a hidden class=anchor aria-hidden=true href=#기능-플래그-사용>#</a></h4><p>코드 내에서 기능 플래그를 사용하여 목 API와 실제 API 사이를 쉽게 전환할 수 있게 한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 기능 플래그를 사용한 API 전환 예제
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>useMockApi</span> <span class=o>=</span> <span class=nx>config</span><span class=p>.</span><span class=nx>features</span><span class=p>.</span><span class=nx>useMockApi</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>async</span> <span class=kd>function</span> <span class=nx>fetchUsers</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>useMockApi</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>mockUserService</span><span class=p>.</span><span class=nx>getUsers</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>realApiService</span><span class=p>.</span><span class=nx>getUsers</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=목-api의-한계와-주의사항>목 API의 한계와 주의사항<a hidden class=anchor aria-hidden=true href=#목-api의-한계와-주의사항>#</a></h3><ol><li><p>실제 환경과의 차이<br>목 API는 실제 API의 모든 측면(성능, 오류 패턴, 시간 지연 등)을 완벽히 재현할 수 없다.</p></li><li><p>유지보수 부담<br>실제 API가 변경될 때마다 목 API도 업데이트해야 하므로 유지보수 부담이 있다.</p></li><li><p>통합 문제<br>목 API에서는 잘 작동하던 코드가 실제 API와 통합할 때 문제가 발생할 수 있다.</p></li><li><p>과도한 의존성<br>목 API에 너무 의존하면 실제 통합 테스트가 부족해질 수 있다.</p></li></ol><h3 id=목-api를-활용한-개발-워크플로우>목 API를 활용한 개발 워크플로우<a hidden class=anchor aria-hidden=true href=#목-api를-활용한-개발-워크플로우>#</a></h3><p>이상적인 개발 워크플로우는 다음과 같다:</p><ol><li><strong>API 설계</strong>: 백엔드와 프론트엔드 팀이 함께 API 스펙을 정의한다.</li><li><strong>목 API 구현</strong>: API 스펙을 기반으로 목 API를 구현한다.</li><li><strong>병렬 개발</strong>: 프론트엔드 팀은 목 API를 사용해 개발하고, 백엔드 팀은 실제 API를 구현한다.</li><li><strong>통합 테스트</strong>: 실제 API가 준비되면 점진적으로 전환하고 통합 테스트를 수행한다.</li><li><strong>배포</strong>: 모든 통합 테스트가 통과하면 전체 시스템을 배포한다.</li></ol><h3 id=openapi-스펙과-목-api>OpenAPI 스펙과 목 API<a hidden class=anchor aria-hidden=true href=#openapi-스펙과-목-api>#</a></h3><p>OpenAPI(Swagger) 스펙은 목 API 생성을 크게 개선할 수 있다:</p><ol><li><strong>스펙 기반 자동 생성</strong>: OpenAPI 스펙을 기반으로 목 서버를 자동 생성할 수 있다.</li><li><strong>일관성 보장</strong>: API 문서와 목 서버가 항상 일치하게 된다.</li><li><strong>도구 지원</strong>: Swagger UI, Prism 등의 도구를 통해 쉽게 목 서버를 생성할 수 있다.</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1> 1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2> 2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3> 3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4> 4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5> 5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6> 6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7> 7</a>
</span><span class=lnt id=hl-7-8><a class=lnlinks href=#hl-7-8> 8</a>
</span><span class=lnt id=hl-7-9><a class=lnlinks href=#hl-7-9> 9</a>
</span><span class=lnt id=hl-7-10><a class=lnlinks href=#hl-7-10>10</a>
</span><span class=lnt id=hl-7-11><a class=lnlinks href=#hl-7-11>11</a>
</span><span class=lnt id=hl-7-12><a class=lnlinks href=#hl-7-12>12</a>
</span><span class=lnt id=hl-7-13><a class=lnlinks href=#hl-7-13>13</a>
</span><span class=lnt id=hl-7-14><a class=lnlinks href=#hl-7-14>14</a>
</span><span class=lnt id=hl-7-15><a class=lnlinks href=#hl-7-15>15</a>
</span><span class=lnt id=hl-7-16><a class=lnlinks href=#hl-7-16>16</a>
</span><span class=lnt id=hl-7-17><a class=lnlinks href=#hl-7-17>17</a>
</span><span class=lnt id=hl-7-18><a class=lnlinks href=#hl-7-18>18</a>
</span><span class=lnt id=hl-7-19><a class=lnlinks href=#hl-7-19>19</a>
</span><span class=lnt id=hl-7-20><a class=lnlinks href=#hl-7-20>20</a>
</span><span class=lnt id=hl-7-21><a class=lnlinks href=#hl-7-21>21</a>
</span><span class=lnt id=hl-7-22><a class=lnlinks href=#hl-7-22>22</a>
</span><span class=lnt id=hl-7-23><a class=lnlinks href=#hl-7-23>23</a>
</span><span class=lnt id=hl-7-24><a class=lnlinks href=#hl-7-24>24</a>
</span><span class=lnt id=hl-7-25><a class=lnlinks href=#hl-7-25>25</a>
</span><span class=lnt id=hl-7-26><a class=lnlinks href=#hl-7-26>26</a>
</span><span class=lnt id=hl-7-27><a class=lnlinks href=#hl-7-27>27</a>
</span><span class=lnt id=hl-7-28><a class=lnlinks href=#hl-7-28>28</a>
</span><span class=lnt id=hl-7-29><a class=lnlinks href=#hl-7-29>29</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># OpenAPI 스펙 예제</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>openapi</span><span class=p>:</span><span class=w> </span><span class=m>3.0.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>info</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>사용자 API</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>1.0.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>/users</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>get</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=l>사용자 목록 조회</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>responses</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>&#39;200&#39;</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>성공</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>content</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>application/json</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>schema</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>array</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>items</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>$ref</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;#/components/schemas/User&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>components</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>schemas</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>User</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>object</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>properties</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>id</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>integer</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>email</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>string</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Mockoon</h2></header><div class=entry-content><p>Mockoon Mockoon은 개발자가 빠르고 쉽게 API를 모킹(가짜로 구현)할 수 있는 오픈 소스 데스크톱 애플리케이션이다.
이 도구는 2017년에 처음 출시되었으며, API 개발 및 테스트 과정을 간소화하기 위해 설계되었다.
Mockoon의 주요 특징:
그래픽 사용자 인터페이스(GUI)로 코드 작성 없이 API 모킹 가능 윈도우, 맥, 리눅스 지원 크로스 플랫폼 애플리케이션 무료 오픈 소스 도구 CLI(Command Line Interface) 버전 제공 Docker 이미지 지원 Mockoon이 해결하는 개발 문제 백엔드 개발자로서 다음과 같은 상황에서 Mockoon이 매우 유용하다:
...</p></div><footer class=entry-footer><span title='2025-04-01 02:17:00 +0000 UTC'>April 1, 2025</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Mockoon" href=https://buenhyden.github.io/posts/software-engineering/quality-assurance-and-testing/api-testing/mocking-apis/tools/mockoon/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>WireMock</h2></header><div class=entry-content><p>WireMock WireMock은 HTTP 기반 API를 위한 시뮬레이션 도구로, Java 환경에서 개발되었으나 다양한 플랫폼에서 활용 가능하다. 톰 애컬턴(Tom Akehurst)이 개발한 이 오픈소스 도구는 실제 서비스와 동일하게 동작하는 모의(Mock) API를 쉽게 구축할 수 있게 해준다.
WireMock의 주요 특징 독립 실행형 서버: 자체 HTTP 서버로 실행 가능 JUnit과의 통합: Java 테스트 코드에 내장하여 사용 가능 정확한 HTTP 응답 모방: 상태 코드, 헤더, 본문 등 완벽 모방 요청 매칭: URL, 헤더, 쿼리 파라미터, 본문 등 다양한 요소 기반 매칭 응답 템플릿팅: 동적 응답 생성 가능 상태 기반 행동: 이전 요청에 따라 다른 응답 반환 가능 요청 검증: 특정 요청이 발생했는지 확인 가능 장애 시뮬레이션: 지연, 오류, 손상된 응답 등 시뮬레이션 프록시 모드: 실제 서비스와 모킹 결합 가능 레코딩 기능: 실제 서비스의 응답을 기록하여 모킹에 활용 WireMock의 작동 원리 WireMock은 실제로 두 가지 주요 모드로 작동한다:
...</p></div><footer class=entry-footer><span title='2025-04-01 02:17:00 +0000 UTC'>April 1, 2025</span>&nbsp;·&nbsp;10 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to WireMock" href=https://buenhyden.github.io/posts/software-engineering/quality-assurance-and-testing/api-testing/mocking-apis/tools/wiremock/></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>