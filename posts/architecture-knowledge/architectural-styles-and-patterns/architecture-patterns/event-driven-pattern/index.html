<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Event-Driven Pattern | hyunyoun's Blog</title><meta name=keywords content="Backend Development,Backend-Architecture,Event-Driven-Architecture,Event-Driven-Pattern"><meta name=description content="이 패턴은 시스템의 상태 변화를 이벤트로 표현하고, 이를 기반으로 서비스 간 통신을 구현하는 방식이다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/architecture-knowledge/architectural-styles-and-patterns/architecture-patterns/event-driven-pattern/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/architecture-knowledge/architectural-styles-and-patterns/architecture-patterns/event-driven-pattern/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/architecture-knowledge/architectural-styles-and-patterns/architecture-patterns/event-driven-pattern/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Event-Driven Pattern"><meta property="og:description" content="이 패턴은 시스템의 상태 변화를 이벤트로 표현하고, 이를 기반으로 서비스 간 통신을 구현하는 방식이다."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-28T10:05:00+00:00"><meta property="article:modified_time" content="2024-12-28T10:05:00+00:00"><meta property="article:tag" content="Backend-Development"><meta property="article:tag" content="Backend-Architecture"><meta property="article:tag" content="Event-Driven-Architecture"><meta property="article:tag" content="Event-Driven-Pattern"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Event-Driven Pattern"><meta name=twitter:description content="이 패턴은 시스템의 상태 변화를 이벤트로 표현하고, 이를 기반으로 서비스 간 통신을 구현하는 방식이다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"기술 블로그","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Architecture Knowledge","item":"https://buenhyden.github.io/posts/architecture-knowledge/"},{"@type":"ListItem","position":3,"name":"Architectural Styles and Patterns","item":""},{"@type":"ListItem","position":4,"name":"Architectural Patterns","item":"https://buenhyden.github.io/posts/architecture-knowledge/architectural-styles-and-patterns/architecture-patterns/"},{"@type":"ListItem","position":5,"name":"Event-Driven Pattern","item":"https://buenhyden.github.io/posts/architecture-knowledge/architectural-styles-and-patterns/architecture-patterns/event-driven-pattern/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Event-Driven Pattern","name":"Event-Driven Pattern","description":"이 패턴은 시스템의 상태 변화를 이벤트로 표현하고, 이를 기반으로 서비스 간 통신을 구현하는 방식이다.","keywords":["Backend Development","Backend-Architecture","Event-Driven-Architecture","Event-Driven-Pattern"],"articleBody":"Event-Driven Pattern 이 패턴은 시스템의 상태 변화를 이벤트로 표현하고, 이를 기반으로 서비스 간 통신을 구현하는 방식이다.\nEvent-Driven Pattern은 시스템에서 발생하는 중요한 변화나 행동을 이벤트로 정의하고, 이를 중심으로 시스템을 설계하는 아키텍처 패턴이다.\n이 패턴에서는 이벤트의 생성, 전파, 처리가 시스템의 핵심 동작이 된다.\n주요 특징:\n비동기 통신을 기반으로 함 서비스 간 느슨한 결합 제공 실시간 데이터 처리와 반응성 향상 확장성과 유연성 증대 주요 구성 요소 Event-Driven Pattern의 주요 구성 요소는 다음과 같다:\n이벤트 생성자(Event Producer):\n이벤트를 생성하고 발행하는 역할을 하는 컴포넌트. 사용자 액션, 시스템 상태의 변화, 외부 시스템의 입력 등에 의해 이벤트를 생성한다. 이벤트 소비자(Event Consumer):\n이벤트를 수신하고 이에 대한 반응으로 특정 작업을 수행하는 컴포넌트. 하나 이상의 이벤트에 대해 반응할 수 있으며, 이벤트의 내용에 따라 다양한 처리를 실행한다. 이벤트 채널(Event Channel):\n이벤트 생성자와 소비자를 연결하는 매개체 역할을 한다. 메시지 큐나 이벤트 버스 등이 이에 해당된다. 이벤트 브로커(Event Broker):\n이벤트 생성자와 소비자 사이에서 이벤트를 중개하는 역할을 한다. 이벤트를 수신, 저장하고 적절한 이벤트 소비자에게 전달한다. 이벤트(Event):\n시스템이나 서비스의 상태 변화를 나타내는 정보나 신호를 의미한다. 일반적으로 헤더(메타데이터)와 바디(실제 데이터)로 구성된다. 이벤트의 구조와 특성 이벤트는 보통 다음과 같은 구조를 가진다:\n이벤트 ID 이벤트 유형 이벤트 발생 시간 관련 정보 이벤트 데이터 이벤트 스키마 버전 작동 방식 이벤트 생성자가 상태 변화를 감지하고 이벤트를 생성 생성된 이벤트는 이벤트 브로커로 전송 이벤트 브로커는 해당 이벤트를 구독하고 있는 소비자들에게 이벤트를 전달 이벤트 소비자는 수신한 이벤트를 처리하고 필요한 작업 수행 flowchart LR OS[주문 서비스]--\u003e|주문생성 이벤트|EB[이벤트 버스] EB--\u003e|이벤트 수신|PS[결제 서비스] EB--\u003e|이벤트 수신|IS[재고 서비스] EB--\u003e|이벤트 수신|NS[알림 서비스] style EB fill:#f9f,stroke:#333,stroke-width:4px style OS fill:#bbf style PS fill:#bfb style IS fill:#bfb style NS fill:#bfb 장점 높은 확장성: 새로운 기능이나 서비스를 쉽게 추가할 수 있다. 유연성: 서비스 간 느슨한 결합으로 변경에 대한 영향을 최소화한다. 실시간 처리: 이벤트 발생 즉시 관련 서비스에서 처리할 수 있다. 복잡한 비즈니스 프로세스 모델링: 현실 세계의 많은 프로세스가 이벤트 중심적이기 때문에 자연스럽게 구현할 수 있다. 단점 복잡성 증가: 이벤트의 흐름을 추적하고 관리하는 것이 어려울 수 있다. 데이터 일관성 관리: 분산된 환경에서 데이터 일관성을 유지하기 어려울 수 있다. 디버깅과 테스트의 어려움: 비동기적이고 분산된 특성으로 인해 문제 해결이 복잡할 수 있다. 적용 사례 금융 서비스: 실시간 거래 처리와 사기 탐지에 활용된다. e커머스: 주문 처리, 재고 관리 등에 사용된다. IoT 시스템: 센서 데이터 처리와 장치 제어에 활용된다. 구현 시 고려사항 이벤트 설계와 모델링에 주의를 기울여야 한다. 이벤트 처리와 관련한 베스트 프랙티스와 패턴을 적용해야 한다. 시스템 전체의 관점에서 모니터링 및 로깅 전략을 수립해야 한다. 이벤트의 순서 보장 이벤트 스키마 관리와 버전 관리 이벤트 저장소 설계 장애 복구 전략 확장성 계획 이벤트 전송 메커니즘 비교 항목 메시지 브로커 전송 (Message Broker) 이벤트 버스 전송 (Event Bus) 기본 개념 메시지의 라우팅, 변환, 저장을 담당하는 중개자 역할 이벤트를 발행자로부터 구독자로 전달하는 채널 역할 아키텍처 특성 - 독립적인 미들웨어 시스템으로 동작\n- 분산 시스템 간 통신 지원\n- 높은 확장성과 신뢰성 제공\n- 서비스 간 완전한 분리 가능 - 애플리케이션 내부 컴포넌트로 동작\n- 단일 애플리케이션 내 통신 지원\n- 간단한 구현과 빠른 처리\n- 메모리 내 직접 전달 방식 통신 모델 점대점(Point-to-Point) 및 발행/구독(Pub/Sub) 지원 주로 발행/구독(Pub/Sub) 모델 사용 데이터 지속성 - 디스크 기반의 영구 저장 지원\n- 메시지 손실 방지를 위한 저장 메커니즘\n- 장애 복구를 위한 백업 지원\n- 메시지 이력 추적 가능 - 메모리 기반의 일시적 저장\n- 애플리케이션 재시작 시 데이터 손실\n- 영구 저장 필요시 별도 구현 필요\n- 실시간 처리 중심 확장성 - 수평적/수직적 확장 용이\n- 클러스터링 지원\n- 대규모 트래픽 처리 가능\n- 파티셔닝을 통한 부하 분산 - 단일 애플리케이션 범위 내 제한\n- 메모리 한계로 인한 제약\n- 로컬 처리에 최적화\n- 단순한 확장 모델 성능 특성 - 네트워크 통신 오버헤드 발생\n- 상대적으로 높은 지연시간\n- 대량 메시지 처리에 최적화\n- 안정적인 처리량 보장 - 메모리 내 직접 전달로 빠른 속도\n- 최소한의 지연시간\n- 로컬 처리 성능 우수\n- 단일 프로세스 내 효율적 구현 복잡도 - 복잡한 설정과 관리 필요\n- 클러스터 구성 및 운영\n- 모니터링 도구 필요\n- 장애 처리 메커니즘 필요 - 단순한 구현과 설정\n- 최소한의 관리 부담\n- 기본적인 모니터링만 필요\n- 단순한 오류 처리 사용 사례 - 마이크로서비스 간 통신\n- 분산 시스템 이벤트 처리\n- 크로스 플랫폼 통합\n- 대규모 이벤트 처리 - 단일 애플리케이션 내 통신\nUI 컴포넌트 간 이벤트\n- 모듈 간 느슨한 결합\n- 로컬 이벤트 처리 오류 처리 - 자동 재시도 메커니즘\nDead Letter Queue 지원\n- 장애 복구 기능\n- 메시지 추적 기능 - 기본적인 예외 처리\n- 수동 재시도 구현 필요\n- 단순한 오류 로깅\n- 메모리 내 상태 관리 운영 관리 - 전문적인 운영 팀 필요\n- 복잡한 모니터링 도구\n- 백업/복구 계획 필요\n- 성능 튜닝 필요 - 최소한의 운영 관리\n- 단순한 모니터링\n- 애플리케이션 수준 관리\n- 간단한 설정 관리 비용 측면 - 라이선스 비용 발생 가능\n- 인프라 운영 비용\n- 전문 인력 비용\n- 확장 시 추가 비용 - 최소한의 추가 비용\n- 개발 리소스만 필요\n- 운영 비용 거의 없음\n- 단순한 유지보수 비용 보안 - 강력한 인증/인가 기능\n- 전송 구간 암호화\n- 접근 제어 정책\n- 감사 로깅 지원 - 애플리케이션 수준 보안\n- 단순한 접근 제어\n- 내부 통신 중심\n- 기본적인 보안 기능 메시지 브로커와 이벤트 버스는 분산 시스템에서 통신을 위해 사용되는 중요한 컴포넌트이지만, 몇 가지 주요한 차이점이 있다:\n메시지 처리 방식:\n메시지 브로커: 메시지를 받아서 처리한 후 일반적으로 삭제한다. 메시지의 순서를 보장하고 장애 발생 시 메시지 손실을 방지하는 데 중점을 둔다. 이벤트 버스: 이벤트를 영구적으로 저장하고 필요한 시간 동안 보존한다. 대용량의 이벤트 데이터를 실시간으로 처리하는 데 중점을 둔다. 데이터 지속성\n메시지 브로커: 메시지는 소비된 후 일반적으로 삭제된다. 이벤트 버스: 이벤트는 장기간 저장되어 나중에 재생하거나 분석할 수 있다. 확장성\n메시지 브로커: 상대적으로 제한된 확장성을 가진다. 이벤트 버스: 대규모 데이터 처리에 적합한 높은 확장성을 제공한다. 사용 사례\n메시지 브로커: 주로 서비스 간 메시지 전달과 작업 분배에 사용된다. 이벤트 버스: 실시간 데이터 스트리밍, 이벤트 소싱, 복잡한 이벤트 처리에 적합하다. 구현 예시\n메시지 브로커: RabbitMQ, Apache ActiveMQ 이벤트 버스: Apache Kafka, Amazon Kinesis 이 두 전송 메커니즘은 각각의 장단점이 있으며, 시스템의 요구사항과 규모에 따라 적절한 선택이 필요하다.\n이러한 차이점들로 인해 메시지 브로커는 즉각적인 메시지 처리와 작업 분배에 적합하고, 이벤트 버스는 대규모 실시간 데이터 처리와 장기적인 데이터 분석에 더 적합하다.\n오류 처리와 복원력 이벤트 재처리:\n실패한 이벤트를 재처리하기 위한 메커니즘이 필요하다:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 @Component public class EventProcessor { private final DeadLetterQueue dlq; public void processEvent(Event event) { try { processEventLogic(event); } catch (Exception e) { dlq.send(event); log.error(\"Failed to process event: {}\", event.getId(), e); } } @Scheduled(fixedRate = 5000) public void retryFailedEvents() { List\u003cEvent\u003e failedEvents = dlq.readEvents(); failedEvents.forEach(this::processEvent); } } 멱등성 보장:\n같은 이벤트가 여러 번 처리되더라도 안전하도록 설계해야 한다:\n1 2 3 4 5 6 7 8 9 10 11 12 13 @Service public class IdempotentEventHandler { private final ProcessedEventRepository processedEvents; public void handleEvent(Event event) { if (processedEvents.exists(event.getId())) { return; // 이미 처리된 이벤트는 무시 } processEventLogic(event); processedEvents.save(event.getId()); } } 모니터링과 추적 이벤트 로깅:\n모든 이벤트의 흐름을 추적할 수 있어야 한다: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 @Aspect @Component public class EventLoggingAspect { @Around(\"@annotation(EventHandler)\") public Object logEvent(ProceedingJoinPoint joinPoint) throws Throwable { Event event = (Event) joinPoint.getArgs()[0]; log.info(\"Processing event: {}\", event.getId()); try { Object result = joinPoint.proceed(); log.info(\"Successfully processed event: {}\", event.getId()); return result; } catch (Exception e) { log.error(\"Failed to process event: {}\", event.getId(), e); throw e; } } } 메트릭 수집:\n시스템의 건강 상태를 모니터링하기 위한 메트릭을 수집한다: 이벤트 처리율 실패율 처리 지연 시간 큐 길이 참고 및 출처 ","wordCount":"1211","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-12-28T10:05:00Z","dateModified":"2024-12-28T10:05:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/architecture-knowledge/architectural-styles-and-patterns/architecture-patterns/event-driven-pattern/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>기술 블로그</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/architecture-knowledge/>Architecture Knowledge</a>&nbsp;»&nbsp;<a href>Architectural Styles and Patterns</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/architecture-knowledge/architectural-styles-and-patterns/architecture-patterns/>Architectural Patterns</a></div><h1 class="post-title entry-hint-parent">Event-Driven Pattern</h1><div class=post-description>이 패턴은 시스템의 상태 변화를 이벤트로 표현하고, 이를 기반으로 서비스 간 통신을 구현하는 방식이다.</div><div class=post-meta><span title='2024-12-28 10:05:00 +0000 UTC'>December 28, 2024</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Architecture%20Knowledge/Architectural%20Styles%20and%20Patterns/Architecture%20Patterns/Event-Driven-Pattern.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#event-driven-pattern>Event-Driven Pattern</a><ul><li><a href=#주요-구성-요소>주요 구성 요소</a></li><li><a href=#작동-방식>작동 방식</a></li><li><a href=#장점>장점</a></li><li><a href=#단점>단점</a></li><li><a href=#적용-사례>적용 사례</a></li><li><a href=#구현-시-고려사항>구현 시 고려사항</a></li><li><a href=#이벤트-전송-메커니즘>이벤트 전송 메커니즘</a></li><li><a href=#오류-처리와-복원력>오류 처리와 복원력</a></li><li><a href=#모니터링과-추적>모니터링과 추적</a></li></ul></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=event-driven-pattern>Event-Driven Pattern<a hidden class=anchor aria-hidden=true href=#event-driven-pattern>#</a></h2><p>이 패턴은 시스템의 상태 변화를 이벤트로 표현하고, 이를 기반으로 서비스 간 통신을 구현하는 방식이다.</p><p>Event-Driven Pattern은 시스템에서 발생하는 중요한 변화나 행동을 이벤트로 정의하고, 이를 중심으로 시스템을 설계하는 아키텍처 패턴이다.<br>이 패턴에서는 이벤트의 생성, 전파, 처리가 시스템의 핵심 동작이 된다.</p><p>주요 특징:</p><ul><li>비동기 통신을 기반으로 함</li><li>서비스 간 느슨한 결합 제공</li><li>실시간 데이터 처리와 반응성 향상</li><li>확장성과 유연성 증대</li></ul><h3 id=주요-구성-요소>주요 구성 요소<a hidden class=anchor aria-hidden=true href=#주요-구성-요소>#</a></h3><p>Event-Driven Pattern의 주요 구성 요소는 다음과 같다:</p><ol><li><p>이벤트 생성자(Event Producer):</p><ul><li>이벤트를 생성하고 발행하는 역할을 하는 컴포넌트.</li><li>사용자 액션, 시스템 상태의 변화, 외부 시스템의 입력 등에 의해 이벤트를 생성한다.</li></ul></li><li><p>이벤트 소비자(Event Consumer):</p><ul><li>이벤트를 수신하고 이에 대한 반응으로 특정 작업을 수행하는 컴포넌트.</li><li>하나 이상의 이벤트에 대해 반응할 수 있으며, 이벤트의 내용에 따라 다양한 처리를 실행한다.</li></ul></li><li><p>이벤트 채널(Event Channel):</p><ul><li>이벤트 생성자와 소비자를 연결하는 매개체 역할을 한다.</li><li>메시지 큐나 이벤트 버스 등이 이에 해당된다.</li></ul></li><li><p>이벤트 브로커(Event Broker):</p><ul><li>이벤트 생성자와 소비자 사이에서 이벤트를 중개하는 역할을 한다.</li><li>이벤트를 수신, 저장하고 적절한 이벤트 소비자에게 전달한다.</li></ul></li><li><p>이벤트(Event):</p><ul><li>시스템이나 서비스의 상태 변화를 나타내는 정보나 신호를 의미한다.</li><li>일반적으로 헤더(메타데이터)와 바디(실제 데이터)로 구성된다.</li></ul></li></ol><h4 id=이벤트의-구조와-특성>이벤트의 구조와 특성<a hidden class=anchor aria-hidden=true href=#이벤트의-구조와-특성>#</a></h4><p>이벤트는 보통 다음과 같은 구조를 가진다:</p><ol><li>이벤트 ID</li><li>이벤트 유형</li><li>이벤트 발생 시간</li><li>관련 정보</li><li>이벤트 데이터</li><li>이벤트 스키마 버전</li></ol><h3 id=작동-방식>작동 방식<a hidden class=anchor aria-hidden=true href=#작동-방식>#</a></h3><ol><li>이벤트 생성자가 상태 변화를 감지하고 이벤트를 생성</li><li>생성된 이벤트는 이벤트 브로커로 전송</li><li>이벤트 브로커는 해당 이벤트를 구독하고 있는 소비자들에게 이벤트를 전달</li><li>이벤트 소비자는 수신한 이벤트를 처리하고 필요한 작업 수행</li></ol><pre class=mermaid>flowchart LR
    OS[주문 서비스]--&gt;|주문생성 이벤트|EB[이벤트 버스]
    EB--&gt;|이벤트 수신|PS[결제 서비스]
    EB--&gt;|이벤트 수신|IS[재고 서비스]
    EB--&gt;|이벤트 수신|NS[알림 서비스]
    
    style EB fill:#f9f,stroke:#333,stroke-width:4px
    style OS fill:#bbf
    style PS fill:#bfb
    style IS fill:#bfb
    style NS fill:#bfb
</pre><h3 id=장점>장점<a hidden class=anchor aria-hidden=true href=#장점>#</a></h3><ol><li>높은 확장성: 새로운 기능이나 서비스를 쉽게 추가할 수 있다.</li><li>유연성: 서비스 간 느슨한 결합으로 변경에 대한 영향을 최소화한다.</li><li>실시간 처리: 이벤트 발생 즉시 관련 서비스에서 처리할 수 있다.</li><li>복잡한 비즈니스 프로세스 모델링: 현실 세계의 많은 프로세스가 이벤트 중심적이기 때문에 자연스럽게 구현할 수 있다.</li></ol><h3 id=단점>단점<a hidden class=anchor aria-hidden=true href=#단점>#</a></h3><ol><li>복잡성 증가: 이벤트의 흐름을 추적하고 관리하는 것이 어려울 수 있다.</li><li>데이터 일관성 관리: 분산된 환경에서 데이터 일관성을 유지하기 어려울 수 있다.</li><li>디버깅과 테스트의 어려움: 비동기적이고 분산된 특성으로 인해 문제 해결이 복잡할 수 있다.</li></ol><h3 id=적용-사례>적용 사례<a hidden class=anchor aria-hidden=true href=#적용-사례>#</a></h3><ol><li>금융 서비스: 실시간 거래 처리와 사기 탐지에 활용된다.</li><li>e커머스: 주문 처리, 재고 관리 등에 사용된다.</li><li>IoT 시스템: 센서 데이터 처리와 장치 제어에 활용된다.</li></ol><h3 id=구현-시-고려사항>구현 시 고려사항<a hidden class=anchor aria-hidden=true href=#구현-시-고려사항>#</a></h3><ol><li>이벤트 설계와 모델링에 주의를 기울여야 한다.</li><li>이벤트 처리와 관련한 베스트 프랙티스와 패턴을 적용해야 한다.</li><li>시스템 전체의 관점에서 모니터링 및 로깅 전략을 수립해야 한다.</li><li>이벤트의 순서 보장</li><li>이벤트 스키마 관리와 버전 관리</li><li>이벤트 저장소 설계</li><li>장애 복구 전략</li><li>확장성 계획</li></ol><h3 id=이벤트-전송-메커니즘>이벤트 전송 메커니즘<a hidden class=anchor aria-hidden=true href=#이벤트-전송-메커니즘>#</a></h3><table><thead><tr><th>비교 항목</th><th>메시지 브로커 전송 (Message Broker)</th><th>이벤트 버스 전송 (Event Bus)</th></tr></thead><tbody><tr><td>기본 개념</td><td>메시지의 라우팅, 변환, 저장을 담당하는 중개자 역할</td><td>이벤트를 발행자로부터 구독자로 전달하는 채널 역할</td></tr><tr><td><strong>아키텍처 특성</strong></td><td>- 독립적인 미들웨어 시스템으로 동작<br>- 분산 시스템 간 통신 지원<br>- 높은 확장성과 신뢰성 제공<br>- 서비스 간 완전한 분리 가능</td><td>- 애플리케이션 내부 컴포넌트로 동작<br>- 단일 애플리케이션 내 통신 지원<br>- 간단한 구현과 빠른 처리<br>- 메모리 내 직접 전달 방식</td></tr><tr><td>통신 모델</td><td>점대점(Point-to-Point) 및 발행/구독(Pub/Sub) 지원</td><td>주로 발행/구독(Pub/Sub) 모델 사용</td></tr><tr><td><strong>데이터 지속성</strong></td><td>- 디스크 기반의 영구 저장 지원<br>- 메시지 손실 방지를 위한 저장 메커니즘<br>- 장애 복구를 위한 백업 지원<br>- 메시지 이력 추적 가능</td><td>- 메모리 기반의 일시적 저장<br>- 애플리케이션 재시작 시 데이터 손실<br>- 영구 저장 필요시 별도 구현 필요<br>- 실시간 처리 중심</td></tr><tr><td><strong>확장성</strong></td><td>- 수평적/수직적 확장 용이<br>- 클러스터링 지원<br>- 대규모 트래픽 처리 가능<br>- 파티셔닝을 통한 부하 분산</td><td>- 단일 애플리케이션 범위 내 제한<br>- 메모리 한계로 인한 제약<br>- 로컬 처리에 최적화<br>- 단순한 확장 모델</td></tr><tr><td><strong>성능 특성</strong></td><td>- 네트워크 통신 오버헤드 발생<br>- 상대적으로 높은 지연시간<br>- 대량 메시지 처리에 최적화<br>- 안정적인 처리량 보장</td><td>- 메모리 내 직접 전달로 빠른 속도<br>- 최소한의 지연시간<br>- 로컬 처리 성능 우수<br>- 단일 프로세스 내 효율적</td></tr><tr><td><strong>구현 복잡도</strong></td><td>- 복잡한 설정과 관리 필요<br>- 클러스터 구성 및 운영<br>- 모니터링 도구 필요<br>- 장애 처리 메커니즘 필요</td><td>- 단순한 구현과 설정<br>- 최소한의 관리 부담<br>- 기본적인 모니터링만 필요<br>- 단순한 오류 처리</td></tr><tr><td><strong>사용 사례</strong></td><td>- 마이크로서비스 간 통신<br>- 분산 시스템 이벤트 처리<br>- 크로스 플랫폼 통합<br>- 대규모 이벤트 처리</td><td>- 단일 애플리케이션 내 통신<br>UI 컴포넌트 간 이벤트<br>- 모듈 간 느슨한 결합<br>- 로컬 이벤트 처리</td></tr><tr><td><strong>오류 처리</strong></td><td>- 자동 재시도 메커니즘<br>Dead Letter Queue 지원<br>- 장애 복구 기능<br>- 메시지 추적 기능</td><td>- 기본적인 예외 처리<br>- 수동 재시도 구현 필요<br>- 단순한 오류 로깅<br>- 메모리 내 상태 관리</td></tr><tr><td><strong>운영 관리</strong></td><td>- 전문적인 운영 팀 필요<br>- 복잡한 모니터링 도구<br>- 백업/복구 계획 필요<br>- 성능 튜닝 필요</td><td>- 최소한의 운영 관리<br>- 단순한 모니터링<br>- 애플리케이션 수준 관리<br>- 간단한 설정 관리</td></tr><tr><td><strong>비용 측면</strong></td><td>- 라이선스 비용 발생 가능<br>- 인프라 운영 비용<br>- 전문 인력 비용<br>- 확장 시 추가 비용</td><td>- 최소한의 추가 비용<br>- 개발 리소스만 필요<br>- 운영 비용 거의 없음<br>- 단순한 유지보수 비용</td></tr><tr><td><strong>보안</strong></td><td>- 강력한 인증/인가 기능<br>- 전송 구간 암호화<br>- 접근 제어 정책<br>- 감사 로깅 지원</td><td>- 애플리케이션 수준 보안<br>- 단순한 접근 제어<br>- 내부 통신 중심<br>- 기본적인 보안 기능</td></tr></tbody></table><p>메시지 브로커와 이벤트 버스는 분산 시스템에서 통신을 위해 사용되는 중요한 컴포넌트이지만, 몇 가지 주요한 차이점이 있다:</p><ol><li><p>메시지 처리 방식:</p><ul><li>메시지 브로커:<ul><li>메시지를 받아서 처리한 후 일반적으로 삭제한다.</li><li>메시지의 순서를 보장하고 장애 발생 시 메시지 손실을 방지하는 데 중점을 둔다.</li></ul></li><li>이벤트 버스:<ul><li>이벤트를 영구적으로 저장하고 필요한 시간 동안 보존한다.</li><li>대용량의 이벤트 데이터를 실시간으로 처리하는 데 중점을 둔다.</li></ul></li></ul></li><li><p>데이터 지속성</p><ul><li>메시지 브로커: 메시지는 소비된 후 일반적으로 삭제된다.</li><li>이벤트 버스: 이벤트는 장기간 저장되어 나중에 재생하거나 분석할 수 있다.</li></ul></li><li><p>확장성</p><ul><li>메시지 브로커: 상대적으로 제한된 확장성을 가진다.</li><li>이벤트 버스: 대규모 데이터 처리에 적합한 높은 확장성을 제공한다.</li></ul></li><li><p>사용 사례</p><ul><li>메시지 브로커: 주로 서비스 간 메시지 전달과 작업 분배에 사용된다.</li><li>이벤트 버스: 실시간 데이터 스트리밍, 이벤트 소싱, 복잡한 이벤트 처리에 적합하다.</li></ul></li><li><p>구현 예시</p><ul><li>메시지 브로커: RabbitMQ, Apache ActiveMQ</li><li>이벤트 버스: Apache Kafka, Amazon Kinesis</li></ul></li></ol><p>이 두 전송 메커니즘은 각각의 장단점이 있으며, 시스템의 요구사항과 규모에 따라 적절한 선택이 필요하다.<br>이러한 차이점들로 인해 메시지 브로커는 즉각적인 메시지 처리와 작업 분배에 적합하고, 이벤트 버스는 대규모 실시간 데이터 처리와 장기적인 데이터 분석에 더 적합하다.</p><h3 id=오류-처리와-복원력>오류 처리와 복원력<a hidden class=anchor aria-hidden=true href=#오류-처리와-복원력>#</a></h3><ol><li><p>이벤트 재처리:<br>실패한 이벤트를 재처리하기 위한 메커니즘이 필요하다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11>11</a>
</span><span class=lnt id=hl-1-12><a class=lnlinks href=#hl-1-12>12</a>
</span><span class=lnt id=hl-1-13><a class=lnlinks href=#hl-1-13>13</a>
</span><span class=lnt id=hl-1-14><a class=lnlinks href=#hl-1-14>14</a>
</span><span class=lnt id=hl-1-15><a class=lnlinks href=#hl-1-15>15</a>
</span><span class=lnt id=hl-1-16><a class=lnlinks href=#hl-1-16>16</a>
</span><span class=lnt id=hl-1-17><a class=lnlinks href=#hl-1-17>17</a>
</span><span class=lnt id=hl-1-18><a class=lnlinks href=#hl-1-18>18</a>
</span><span class=lnt id=hl-1-19><a class=lnlinks href=#hl-1-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Component</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>EventProcessor</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>DeadLetterQueue</span><span class=w> </span><span class=n>dlq</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>processEvent</span><span class=p>(</span><span class=n>Event</span><span class=w> </span><span class=n>event</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>try</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>processEventLogic</span><span class=p>(</span><span class=n>event</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>Exception</span><span class=w> </span><span class=n>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>dlq</span><span class=p>.</span><span class=na>send</span><span class=p>(</span><span class=n>event</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>log</span><span class=p>.</span><span class=na>error</span><span class=p>(</span><span class=s>&#34;Failed to process event: {}&#34;</span><span class=p>,</span><span class=w> </span><span class=n>event</span><span class=p>.</span><span class=na>getId</span><span class=p>(),</span><span class=w> </span><span class=n>e</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Scheduled</span><span class=p>(</span><span class=n>fixedRate</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>5000</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>retryFailedEvents</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>List</span><span class=o>&lt;</span><span class=n>Event</span><span class=o>&gt;</span><span class=w> </span><span class=n>failedEvents</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>dlq</span><span class=p>.</span><span class=na>readEvents</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>failedEvents</span><span class=p>.</span><span class=na>forEach</span><span class=p>(</span><span class=k>this</span><span class=p>::</span><span class=n>processEvent</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li><p>멱등성 보장:<br>같은 이벤트가 여러 번 처리되더라도 안전하도록 설계해야 한다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1> 1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2> 2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3> 3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4> 4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5> 5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6> 6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7> 7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8> 8</a>
</span><span class=lnt id=hl-2-9><a class=lnlinks href=#hl-2-9> 9</a>
</span><span class=lnt id=hl-2-10><a class=lnlinks href=#hl-2-10>10</a>
</span><span class=lnt id=hl-2-11><a class=lnlinks href=#hl-2-11>11</a>
</span><span class=lnt id=hl-2-12><a class=lnlinks href=#hl-2-12>12</a>
</span><span class=lnt id=hl-2-13><a class=lnlinks href=#hl-2-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>IdempotentEventHandler</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>ProcessedEventRepository</span><span class=w> </span><span class=n>processedEvents</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>handleEvent</span><span class=p>(</span><span class=n>Event</span><span class=w> </span><span class=n>event</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>processedEvents</span><span class=p>.</span><span class=na>exists</span><span class=p>(</span><span class=n>event</span><span class=p>.</span><span class=na>getId</span><span class=p>()))</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>return</span><span class=p>;</span><span class=w> </span><span class=c1>// 이미 처리된 이벤트는 무시</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>processEventLogic</span><span class=p>(</span><span class=n>event</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>processedEvents</span><span class=p>.</span><span class=na>save</span><span class=p>(</span><span class=n>event</span><span class=p>.</span><span class=na>getId</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=모니터링과-추적>모니터링과 추적<a hidden class=anchor aria-hidden=true href=#모니터링과-추적>#</a></h3><ol><li>이벤트 로깅:<br>모든 이벤트의 흐름을 추적할 수 있어야 한다:</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span><span class=lnt id=hl-3-12><a class=lnlinks href=#hl-3-12>12</a>
</span><span class=lnt id=hl-3-13><a class=lnlinks href=#hl-3-13>13</a>
</span><span class=lnt id=hl-3-14><a class=lnlinks href=#hl-3-14>14</a>
</span><span class=lnt id=hl-3-15><a class=lnlinks href=#hl-3-15>15</a>
</span><span class=lnt id=hl-3-16><a class=lnlinks href=#hl-3-16>16</a>
</span><span class=lnt id=hl-3-17><a class=lnlinks href=#hl-3-17>17</a>
</span><span class=lnt id=hl-3-18><a class=lnlinks href=#hl-3-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Aspect</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@Component</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>EventLoggingAspect</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Around</span><span class=p>(</span><span class=s>&#34;@annotation(EventHandler)&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Object</span><span class=w> </span><span class=nf>logEvent</span><span class=p>(</span><span class=n>ProceedingJoinPoint</span><span class=w> </span><span class=n>joinPoint</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>Throwable</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Event</span><span class=w> </span><span class=n>event</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>Event</span><span class=p>)</span><span class=w> </span><span class=n>joinPoint</span><span class=p>.</span><span class=na>getArgs</span><span class=p>()</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>log</span><span class=p>.</span><span class=na>info</span><span class=p>(</span><span class=s>&#34;Processing event: {}&#34;</span><span class=p>,</span><span class=w> </span><span class=n>event</span><span class=p>.</span><span class=na>getId</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>try</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>Object</span><span class=w> </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>joinPoint</span><span class=p>.</span><span class=na>proceed</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>log</span><span class=p>.</span><span class=na>info</span><span class=p>(</span><span class=s>&#34;Successfully processed event: {}&#34;</span><span class=p>,</span><span class=w> </span><span class=n>event</span><span class=p>.</span><span class=na>getId</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>result</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>Exception</span><span class=w> </span><span class=n>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>log</span><span class=p>.</span><span class=na>error</span><span class=p>(</span><span class=s>&#34;Failed to process event: {}&#34;</span><span class=p>,</span><span class=w> </span><span class=n>event</span><span class=p>.</span><span class=na>getId</span><span class=p>(),</span><span class=w> </span><span class=n>e</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>throw</span><span class=w> </span><span class=n>e</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ol start=2><li>메트릭 수집:<br>시스템의 건강 상태를 모니터링하기 위한 메트릭을 수집한다:<ul><li>이벤트 처리율</li><li>실패율</li><li>처리 지연 시간</li><li>큐 길이</li></ul></li></ol><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/backend-development/>Backend-Development</a></li><li><a href=https://buenhyden.github.io/tags/backend-architecture/>Backend-Architecture</a></li><li><a href=https://buenhyden.github.io/tags/event-driven-architecture/>Event-Driven-Architecture</a></li><li><a href=https://buenhyden.github.io/tags/event-driven-pattern/>Event-Driven-Pattern</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/computer-science-fundamentals/data-structures-and-algorithms/problem-solving-techniques/greedy-algorithm/greedy-algorithm-vs-divide-and-conquer/><span class=title>« Prev</span><br><span>Greedy Algorithm vs. Divide and Conquer</span>
</a><a class=next href=https://buenhyden.github.io/posts/computer-science-fundamentals/data-structures-and-algorithms/fundamentals/computational-theory/deterministic-vs-nondeterministic-computation/><span class=title>Next »</span><br><span>Deterministic vs. Nondeterministic computation</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>