<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>API Gateways | hyunyoun's Blog</title>
<meta name=keywords content="Backend,API-Design,API-Integration-Patterns,API-Gateways"><meta name=description content="클라이언트와 백엔드 서비스 사이에서 중개자 역할을 하는 서버로, 여러 마이크로서비스나 백엔드 시스템에 대한 단일 진입점을 제공하는 중요한 컴포넌트"><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/backend/api-design/api-integration-patterns/api-gateways/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.8762af4fa9ee176c57f72565b721f234162fc7a9c882a271e0a1f68c4e89fb34.css integrity="sha256-h2KvT6nuF2xX9yVltyHyNBYvx6nIgqJx4KH2jE6J+zQ=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/backend/api-design/api-integration-patterns/api-gateways/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/backend/api-design/api-integration-patterns/api-gateways/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/backend/api-design/api-integration-patterns/api-gateways/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="API Gateways"><meta property="og:description" content="클라이언트와 백엔드 서비스 사이에서 중개자 역할을 하는 서버로, 여러 마이크로서비스나 백엔드 시스템에 대한 단일 진입점을 제공하는 중요한 컴포넌트"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="API Gateways"><meta name=twitter:description content="클라이언트와 백엔드 서비스 사이에서 중개자 역할을 하는 서버로, 여러 마이크로서비스나 백엔드 시스템에 대한 단일 진입점을 제공하는 중요한 컴포넌트"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"posts","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Backend","item":"https://buenhyden.github.io/posts/backend/"},{"@type":"ListItem","position":3,"name":"APIs","item":"https://buenhyden.github.io/posts/backend/api-design/"},{"@type":"ListItem","position":4,"name":"API Integration Patterns","item":"https://buenhyden.github.io/posts/backend/api-design/api-integration-patterns/"},{"@type":"ListItem","position":5,"name":"API Gateways","item":"https://buenhyden.github.io/posts/backend/api-design/api-integration-patterns/api-gateways/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>posts</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/backend/>Backend</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/backend/api-design/>APIs</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/backend/api-design/api-integration-patterns/>API Integration Patterns</a></div><h1>API Gateways</h1><div class=post-description>클라이언트와 백엔드 서비스 사이에서 중개자 역할을 하는 서버로, 여러 마이크로서비스나 백엔드 시스템에 대한 단일 진입점을 제공하는 중요한 컴포넌트</div></header><div class=post-content><h2 id=api-gateway>API Gateway<a hidden class=anchor aria-hidden=true href=#api-gateway>#</a></h2><p>API Gateway는 현대 마이크로서비스 아키텍처와 분산 시스템에서 중요한 역할을 하는 디자인 패턴이다. 클라이언트와 백엔드 서비스 사이에 위치하여 다양한 기능을 제공한다.</p><h3 id=api-gateway란>API Gateway란?<a hidden class=anchor aria-hidden=true href=#api-gateway란>#</a></h3><p>API Gateway는 여러 마이크로서비스나 백엔드 API들 앞에 위치하는 서버로, 클라이언트의 요청을 적절한 서비스로 라우팅하고 여러 응답을 통합하여 클라이언트에게 반환하는 역할을 한다. 단일 진입점(Single Entry Point)을 제공함으로써 클라이언트 애플리케이션은 다수의 백엔드 서비스와 직접 통신할 필요 없이 게이트웨이만 바라보면 된다.</p><h3 id=api-gateway의-주요-기능>API Gateway의 주요 기능<a hidden class=anchor aria-hidden=true href=#api-gateway의-주요-기능>#</a></h3><h4 id=요청-라우팅-및-프록시>요청 라우팅 및 프록시<a hidden class=anchor aria-hidden=true href=#요청-라우팅-및-프록시>#</a></h4><p>클라이언트로부터 들어오는 요청을 적절한 백엔드 서비스로 전달한다. URL 경로, HTTP 메서드, 헤더 등 다양한 조건에 따라 라우팅 규칙을 설정할 수 있다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14>14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15>15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16>16</a>
</span><span class=lnt id=hl-0-17><a class=lnlinks href=#hl-0-17>17</a>
</span><span class=lnt id=hl-0-18><a class=lnlinks href=#hl-0-18>18</a>
</span><span class=lnt id=hl-0-19><a class=lnlinks href=#hl-0-19>19</a>
</span><span class=lnt id=hl-0-20><a class=lnlinks href=#hl-0-20>20</a>
</span><span class=lnt id=hl-0-21><a class=lnlinks href=#hl-0-21>21</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Express.js로 구현한 간단한 API Gateway 라우팅 예제
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>express</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;express&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>httpProxy</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;http-proxy&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=nx>express</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>proxy</span> <span class=o>=</span> <span class=nx>httpProxy</span><span class=p>.</span><span class=nx>createProxyServer</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 사용자 서비스로 라우팅
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=s1>&#39;/api/users&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>proxy</span><span class=p>.</span><span class=nx>web</span><span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>,</span> <span class=p>{</span> <span class=nx>target</span><span class=o>:</span> <span class=s1>&#39;http://user-service:8080&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 요청을 user-service로 전달
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 주문 서비스로 라우팅
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=s1>&#39;/api/orders&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>proxy</span><span class=p>.</span><span class=nx>web</span><span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>,</span> <span class=p>{</span> <span class=nx>target</span><span class=o>:</span> <span class=s1>&#39;http://order-service:8081&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 요청을 order-service로 전달
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>listen</span><span class=p>(</span><span class=mi>3000</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;API Gateway is running on port 3000&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=요청-및-응답-변환-프로토콜-변환>요청 및 응답 변환 (프로토콜 변환)<a hidden class=anchor aria-hidden=true href=#요청-및-응답-변환-프로토콜-변환>#</a></h4><p>클라이언트와 백엔드 서비스 간의 프로토콜이 다를 경우, API Gateway는 이를 변환해준다. 예를 들어, REST 요청을 gRPC로 변환하거나 그 반대의 경우도 가능하다.</p><h4 id=응답-통합-aggregation>응답 통합 (Aggregation)<a hidden class=anchor aria-hidden=true href=#응답-통합-aggregation>#</a></h4><p>여러 마이크로서비스의 응답을 조합하여 클라이언트에게 단일 응답으로 전달한다. 이는 클라이언트 측의 복잡성을 줄이고 네트워크 호출을 최소화한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11>11</a>
</span><span class=lnt id=hl-1-12><a class=lnlinks href=#hl-1-12>12</a>
</span><span class=lnt id=hl-1-13><a class=lnlinks href=#hl-1-13>13</a>
</span><span class=lnt id=hl-1-14><a class=lnlinks href=#hl-1-14>14</a>
</span><span class=lnt id=hl-1-15><a class=lnlinks href=#hl-1-15>15</a>
</span><span class=lnt id=hl-1-16><a class=lnlinks href=#hl-1-16>16</a>
</span><span class=lnt id=hl-1-17><a class=lnlinks href=#hl-1-17>17</a>
</span><span class=lnt id=hl-1-18><a class=lnlinks href=#hl-1-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Python으로 구현한 응답 통합 예제</span>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>get_product_details</span><span class=p>(</span><span class=n>product_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># 여러 서비스로부터 병렬적으로 데이터를 가져옴</span>
</span></span><span class=line><span class=cl>    <span class=n>product_info_task</span> <span class=o>=</span> <span class=n>get_product_info</span><span class=p>(</span><span class=n>product_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>inventory_task</span> <span class=o>=</span> <span class=n>get_inventory_status</span><span class=p>(</span><span class=n>product_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>reviews_task</span> <span class=o>=</span> <span class=n>get_product_reviews</span><span class=p>(</span><span class=n>product_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 모든 응답을 기다림</span>
</span></span><span class=line><span class=cl>    <span class=n>product_info</span> <span class=o>=</span> <span class=k>await</span> <span class=n>product_info_task</span>
</span></span><span class=line><span class=cl>    <span class=n>inventory</span> <span class=o>=</span> <span class=k>await</span> <span class=n>inventory_task</span>
</span></span><span class=line><span class=cl>    <span class=n>reviews</span> <span class=o>=</span> <span class=k>await</span> <span class=n>reviews_task</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 응답 통합</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;product&#34;</span><span class=p>:</span> <span class=n>product_info</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;inventory&#34;</span><span class=p>:</span> <span class=n>inventory</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;reviews&#34;</span><span class=p>:</span> <span class=n>reviews</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=인증-및-권한-부여-authentication--authorization>인증 및 권한 부여 (Authentication & Authorization)<a hidden class=anchor aria-hidden=true href=#인증-및-권한-부여-authentication--authorization>#</a></h4><p>클라이언트 요청에 대한 인증과 권한 검사를 중앙화하여 관리한다. 이로써 각 마이크로서비스는 보안 로직을 구현할 필요 없이 비즈니스 로직에 집중할 수 있다.</p><h4 id=속도-제한-rate-limiting>속도 제한 (Rate Limiting)<a hidden class=anchor aria-hidden=true href=#속도-제한-rate-limiting>#</a></h4><p>특정 사용자나 IP로부터의 요청 수를 제한하여 시스템 과부하를 방지한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1> 1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2> 2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3> 3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4> 4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5> 5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6> 6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7> 7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8> 8</a>
</span><span class=lnt id=hl-2-9><a class=lnlinks href=#hl-2-9> 9</a>
</span><span class=lnt id=hl-2-10><a class=lnlinks href=#hl-2-10>10</a>
</span><span class=lnt id=hl-2-11><a class=lnlinks href=#hl-2-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Node.js로 구현한 간단한 속도 제한 예제
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>rateLimit</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;express-rate-limit&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>apiLimiter</span> <span class=o>=</span> <span class=nx>rateLimit</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>windowMs</span><span class=o>:</span> <span class=mi>15</span> <span class=o>*</span> <span class=mi>60</span> <span class=o>*</span> <span class=mi>1000</span><span class=p>,</span> <span class=c1>// 15분
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>max</span><span class=o>:</span> <span class=mi>100</span><span class=p>,</span> <span class=c1>// IP당 최대 100개 요청
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>message</span><span class=o>:</span> <span class=s1>&#39;너무 많은 요청을 보냈습니다. 잠시 후 다시 시도해주세요.&#39;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 모든 API 엔드포인트에 속도 제한 적용
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=s1>&#39;/api/&#39;</span><span class=p>,</span> <span class=nx>apiLimiter</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=캐싱-caching>캐싱 (Caching)<a hidden class=anchor aria-hidden=true href=#캐싱-caching>#</a></h4><p>자주 요청되는 데이터를 캐싱하여 백엔드 서비스의 부하를 줄이고 응답 시간을 개선한다.</p><h4 id=로깅-및-모니터링-logging--monitoring>로깅 및 모니터링 (Logging & Monitoring)<a hidden class=anchor aria-hidden=true href=#로깅-및-모니터링-logging--monitoring>#</a></h4><p>모든 API 호출에 대한 중앙화된 로깅과 모니터링을 제공하여 디버깅과 성능 분석을 용이하게 한다.</p><h4 id=회로-차단기-circuit-breaker>회로 차단기 (Circuit Breaker)<a hidden class=anchor aria-hidden=true href=#회로-차단기-circuit-breaker>#</a></h4><p>장애가 발생한 서비스로의 요청을 일시적으로 중단하여 시스템의 안정성을 유지한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// Java와 Spring Cloud Circuit Breaker 예제</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@CircuitBreaker</span><span class=p>(</span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;userService&#34;</span><span class=p>,</span><span class=w> </span><span class=n>fallbackMethod</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;getUserFallback&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=n>User</span><span class=w> </span><span class=nf>getUser</span><span class=p>(</span><span class=n>Long</span><span class=w> </span><span class=n>userId</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>userServiceClient</span><span class=p>.</span><span class=na>getUser</span><span class=p>(</span><span class=n>userId</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=n>User</span><span class=w> </span><span class=nf>getUserFallback</span><span class=p>(</span><span class=n>Long</span><span class=w> </span><span class=n>userId</span><span class=p>,</span><span class=w> </span><span class=n>Exception</span><span class=w> </span><span class=n>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 폴백(fallback) 로직 - 캐시된 사용자 정보 반환 또는 기본 정보 생성</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>User</span><span class=p>(</span><span class=n>userId</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Unknown&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;User&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=api-gateway의-장점>API Gateway의 장점<a hidden class=anchor aria-hidden=true href=#api-gateway의-장점>#</a></h3><ol><li><strong>클라이언트 코드 간소화</strong>: 클라이언트는 여러 서비스와 직접 통신할 필요 없이 게이트웨이만 알면 된다.</li><li><strong>교차 관심사(Cross-cutting concerns) 중앙화</strong>: 인증, 로깅, 모니터링 등을 중앙에서 처리할 수 있다.</li><li><strong>마이크로서비스 추상화</strong>: 백엔드 서비스 구조 변경이 클라이언트에 영향을 미치지 않는다.</li><li><strong>보안 강화</strong>: 모든 요청이 단일 지점을 통과하므로 보안 관리가 용이하다.</li><li><strong>부하 분산</strong>: 트래픽을 여러 서비스 인스턴스에 분산시켜 시스템 안정성을 향상시킨다.</li></ol><h3 id=api-gateway의-단점>API Gateway의 단점<a hidden class=anchor aria-hidden=true href=#api-gateway의-단점>#</a></h3><ol><li><strong>단일 장애점(SPOF, Single Point of Failure)</strong>: 게이트웨이 자체가 장애가 발생하면 전체 시스템이 영향을 받을 수 있다.</li><li><strong>지연 시간 증가</strong>: 요청이 게이트웨이를 통과하는 추가 단계로 인해 응답 시간이 증가할 수 있다.</li><li><strong>복잡성 증가</strong>: 게이트웨이 자체가 복잡한 시스템이 될 수 있으며, 관리해야 할 추가 컴포넌트가 생긴다.</li><li><strong>확장성 도전</strong>: 모든 트래픽이 게이트웨이를 통과하므로 확장성을 고려한 설계가 필요하다.</li></ol><h3 id=주요-api-gateway-구현체>주요 API Gateway 구현체<a hidden class=anchor aria-hidden=true href=#주요-api-gateway-구현체>#</a></h3><ol><li><strong>Amazon API Gateway</strong>: AWS 기반 API 관리 서비스로, Lambda 함수, HTTP 엔드포인트 등과 연동된다.</li><li><strong>Kong</strong>: Lua로 작성된 오픈소스 API 게이트웨이로, 플러그인 시스템을 통한 확장성이 뛰어나다.</li><li><strong>Netflix Zuul</strong>: 자바 기반의 API 게이트웨이로, Spring Cloud와 통합이 용이하다.</li><li><strong>Spring Cloud Gateway</strong>: 비동기 및 논블로킹 API를 제공하는 Spring 기반 게이트웨이이다.</li><li><strong>Azure API Management</strong>: 마이크로소프트의 클라우드 기반 API 관리 서비스이다.</li><li><strong>Traefik</strong>: 컨테이너 환경에 최적화된 현대적인 HTTP 역방향 프록시 및 로드 밸런서이다.</li></ol><h3 id=설계-고려사항>설계 고려사항<a hidden class=anchor aria-hidden=true href=#설계-고려사항>#</a></h3><ol><li><p>성능과 확장성<br>API Gateway는 시스템의 병목 지점이 될 수 있으므로, 고성능 및 수평적 확장이 가능하도록 설계해야 한다. 비동기 및 논블로킹 I/O를 활용하면 좋은 성능을 얻을 수 있다.</p></li><li><p>배포 전략<br>API Gateway의 배포는 백엔드 서비스와 독립적으로 이루어져야 한다. 또한, 게이트웨이 구성 변경이 시스템 전체에 영향을 미치지 않도록 주의해야 한다.</p></li><li><p>API 버전 관리<br>API Gateway는 다양한 버전의 API를 지원하여 클라이언트가 점진적으로 새 버전으로 마이그레이션할 수 있도록 해야 한다.</p><pre class=mermaid>/api/v1/users
/api/v2/users
</pre></li><li><p>오류 처리<br>Gateway 수준에서의 적절한 오류 처리 및 폴백(fallback) 메커니즘이 구현되어야 한다.</p></li></ol><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>폴백(Fallback) 메커니즘</td><td>시스템이나 애플리케이션에서 <strong>주요 동작이 실패했을 때, 대체 동작 또는 안전한 기본값을 실행하는 전략</strong><br>을 말한다. 장애 격리, 사용자 경험 유지, 시스템 안정성 확보 등을 목표로 한다.<br>외부 의존성(API, DB 등)에 문제가 생겨도 서비스가 완전히 멈추지 않으며, 마이크로 서비스, 서버리스 구조에서 Resilient 시스템 구성에 필수이다.<br>유형:<br>- 기본값 제공: 실패 시 미리 정의된 값 반환<br>- 캐시 사용: 최근 성공한 응답을 저장해 사용<br>- 대체 경로: 다른 서버나 백업 API 호출<br>- 사용자 알림: 실패를 사용자에게 알리고 대기 또는 취소 선택 유도</td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Implementations of API Gateway</h2></header><div class=entry-content><p>Implementations of API Gateway API 게이트웨이는 현대적인 애플리케이션 아키텍처의 핵심 구성 요소로, 클라이언트 요청을 처리하고 다양한 마이크로서비스로 라우팅하는 중앙 진입점 역할을 한다.
Apache APISIX Apache APISIX는 고성능 클라우드 네이티브 API 게이트웨이로, OpenResty(Nginx + Lua)를 기반으로 구축되었다.
주요 특징 아키텍처: OpenResty 기반, etcd를 중앙 구성 저장소로 사용 성능: Nginx의 비동기 이벤트 모델 덕분에 매우 높은 처리량 제공 동적 구성: etcd를 통한 실시간 구성 변경 가능 플러그인 시스템: 100개 이상의 플러그인 제공, Lua로 개발 커뮤니티: CNCF 인큐베이팅 프로젝트로 활발한 커뮤니티 지원 장점 우수한 성능과 낮은 지연 시간 동적 구성으로 재시작 없이 라우팅 변경 가능 다양한 프로토콜 지원(HTTP, TCP, UDP, WebSocket, gRPC) 풍부한 플러그인 생태계 단점 상대적으로 신생 프로젝트로 성숙도 측면에서 Kong 대비 열위 Lua에 대한 학습 필요(플러그인 개발 시) Kong Kong은 가장 널리 사용되는 오픈소스 API 게이트웨이 중 하나로, 역시 OpenResty를 기반으로 한다.
...</p></div><footer class=entry-footer><span title='2025-03-23 04:35:00 +0000 UTC'>March 23, 2025</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Implementations of API Gateway" href=https://buenhyden.github.io/posts/backend/api-design/api-integration-patterns/api-gateways/implementations/></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>