<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>ACID | hyunyoun's Blog</title>
<meta name=keywords content="Databases,More-about-Databases,Transactions,ACID,Atomicity,Consistency,Isolation,Durability"><meta name=description content="트랜잭션의 신뢰성과 일관성을 정의하는 네 가지 주요 특성"><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/backend/databases/rdbms/fundamentals/tracsactions/acid/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.8762af4fa9ee176c57f72565b721f234162fc7a9c882a271e0a1f68c4e89fb34.css integrity="sha256-h2KvT6nuF2xX9yVltyHyNBYvx6nIgqJx4KH2jE6J+zQ=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/backend/databases/rdbms/fundamentals/tracsactions/acid/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/backend/databases/rdbms/fundamentals/tracsactions/acid/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="ACID"><meta property="og:description" content="트랜잭션의 신뢰성과 일관성을 정의하는 네 가지 주요 특성"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-10-24T13:10:00+00:00"><meta property="article:modified_time" content="2024-10-24T13:10:00+00:00"><meta property="article:tag" content="Databases"><meta property="article:tag" content="More-About-Databases"><meta property="article:tag" content="Transactions"><meta property="article:tag" content="ACID"><meta property="article:tag" content="Atomicity"><meta property="article:tag" content="Consistency"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="ACID"><meta name=twitter:description content="트랜잭션의 신뢰성과 일관성을 정의하는 네 가지 주요 특성"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"기술 블로그","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Backend","item":"https://buenhyden.github.io/posts/backend/"},{"@type":"ListItem","position":3,"name":"데이터베이스","item":""},{"@type":"ListItem","position":4,"name":"RDBMS","item":"https://buenhyden.github.io/posts/backend/databases/rdbms/"},{"@type":"ListItem","position":5,"name":"Fundamentals of RDBMS","item":"https://buenhyden.github.io/posts/backend/databases/rdbms/fundamentals/"},{"@type":"ListItem","position":6,"name":"트랜잭션 (Tracsactions)","item":"https://buenhyden.github.io/posts/backend/databases/rdbms/fundamentals/tracsactions/"},{"@type":"ListItem","position":7,"name":"ACID","item":"https://buenhyden.github.io/posts/backend/databases/rdbms/fundamentals/tracsactions/acid/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"ACID","name":"ACID","description":"트랜잭션의 신뢰성과 일관성을 정의하는 네 가지 주요 특성","keywords":["Databases","More-about-Databases","Transactions","ACID","Atomicity","Consistency","Isolation","Durability"],"articleBody":"ACID 데이터베이스 관리 시스템(DBMS)에서 ACID는 트랜잭션의 신뢰성과 일관성을 정의하는 네 가지 주요 특성.\nACID는 Atomicity(원자성), Consistency(일관성), Isolation(격리성), Durability(지속성)의 약자\nACID의 중요성:\n데이터 무결성 유지 트랜잭션의 신뢰성 보장 동시성 제어 시스템 장애 복구 비즈니스 규칙 및 관계형 무결성 강화 장점:\n데이터 일관성 유지 트랜잭션 무결성 보장 내결함성 및 복구 기능 제공 동시성 제어 가능 단점:\n처리 오버헤드로 인한 성능 저하 대용량 OLTP 시스템에서의 성능 문제 제한적인 잠금으로 인한 확장성 제한 Atomicity (원자성) 원자성은 트랜잭션이 단일의 불가분한 작업 단위로 취급되어야 함을 의미합니다.\n트랜잭션의 모든 작업이 성공적으로 완료되거나 전혀 실행되지 않아야 합니다. 트랜잭션 중 일부가 실패하면 전체 트랜잭션이 롤백되어 원래 상태로 돌아갑니다. 이는 데이터의 일관성과 무결성을 보장합니다. 1 2 3 4 BEGIN TRANSACTION; UPDATE accounts SET balance = balance - 1000 WHERE account_id = 'sender'; UPDATE accounts SET balance = balance + 1000 WHERE account_id = 'receiver'; COMMIT; 이 송금 트랜잭션에서 첫 번째 UPDATE는 성공했지만 두 번째 UPDATE가 실패한다면, 원자성 때문에 첫 번째 UPDATE도 롤백된다.\n마치 아무 일도 없었던 것처럼 모든 변경사항이 취소되는 것.\n이는 “all or nothing” 원칙이라고도 부른다.\nConsistency (일관성) 일관성은 트랜잭션이 데이터베이스를 한 일관된 상태에서 다른 일관된 상태로 변경해야 함을 의미합니다.\n트랜잭션 실행 전후에 데이터베이스가 일관된 상태를 유지해야 합니다. 고유 키, 외래 키 등의 제약 조건이 유지되어야 합니다. 이는 데이터의 정확성과 유효성을 보장합니다. 1 2 3 4 5 6 7 8 9 10 11 12 BEGIN TRANSACTION; -- 잔고가 800원인 계좌에서 1000원을 출금하려는 경우 UPDATE accounts SET balance = balance - 1000 WHERE account_id = 'user1' AND balance \u003e= 1000; -- 제약조건 추가 IF ROW_COUNT() = 0 THEN ROLLBACK; RAISE EXCEPTION '잔액이 부족합니다'; END IF; COMMIT; 예를 들어, 계좌 잔고가 항상 0 이상이어야 한다는 규칙이 있다면, 제약조건에 위배되는 트랜잭션은 실행되지 않으며, 데이터베이스의 일관성이 유지된다.\nIsolation (격리성) 격리성은 여러 트랜잭션이 동시에 실행될 때 서로 간섭하지 않고 독립적으로 실행되어야 함을 의미합니다.\n각 트랜잭션은 다른 트랜잭션으로부터 격리되어 실행됩니다. 이는 더티 리드(dirty read), 반복 불가능한 읽기(non-repeatable read), 팬텀 읽기(phantom read) 등의 문제를 방지합니다. 트랜잭션의 동시성을 관리하여 데이터의 일관성을 유지합니다. 격리 수준 READ UNCOMMITTED (가장 낮은 격리 수준)\n다른 트랜잭션의 커밋되지 않은 변경사항도 볼 수 있다.\n이로 인해 “Dirty Read” 문제가 발생할 수 있습니다.\n1 2 3 4 5 6 7 8 9 10 11 12 -- Transaction 1 BEGIN; UPDATE products SET price = 15000 WHERE id = 1; -- 아직 COMMIT하지 않음 -- Transaction 2 (READ UNCOMMITTED에서) SELECT price FROM products WHERE id = 1; -- 15000을 읽음 (Dirty Read) -- Transaction 1 ROLLBACK; -- Transaction 2는 잘못된 가격을 읽은 상태 READ COMMITTED\n커밋된 데이터만 읽을 수 있지만, “Non-repeatable Read” 문제가 발생할 수 있다.\n1 2 3 4 5 6 7 8 9 10 11 -- Transaction 1 BEGIN; SELECT price FROM products WHERE id = 1; -- 10000원 읽음 -- Transaction 2 UPDATE products SET price = 15000 WHERE id = 1; COMMIT; -- Transaction 1 SELECT price FROM products WHERE id = 1; -- 15000원 읽음 -- 같은 트랜잭션 내에서 다른 결과를 얻음 REPEATABLE READ\n트랜잭션 내에서 같은 쿼리는 항상 같은 결과를 반환하지만, “Phantom Read” 문제가 발생할 수 있다.\nSERIALIZABLE (가장 높은 격리 수준)\n트랜잭션들이 순차적으로 실행되는 것처럼 동작하여 모든 동시성 문제를 방지.\nDurability (지속성) 지속성은 트랜잭션이 성공적으로 완료된 후 그 결과가 영구적으로 저장되어야 함을 의미합니다.\n시스템 장애나 전원 손실 등의 상황에서도 트랜잭션의 결과가 유지되어야 합니다. 이는 주로 로그 파일을 사용하여 구현됩니다. 변경 사항을 먼저 로그 파일에 기록한 후 데이터베이스에 반영합니다. 1 2 3 4 5 6 -- 트랜잭션 로그를 통한 지속성 보장 BEGIN; UPDATE accounts SET balance = balance - 1000 WHERE id = 1; -- 이 시점에서 변경사항이 트랜잭션 로그에 기록됨 COMMIT; -- 시스템이 갑자기 중단되더라도, 재시작 시 로그를 통해 변경사항 복구 가능 ACID 특성의 실제 적용 예를 들어, 온라인 쇼핑몰에서 상품 구매 처리를 살펴보자.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 BEGIN TRANSACTION; -- 1. 재고 확인 및 감소 UPDATE products SET stock = stock - 1 WHERE id = 123 AND stock \u003e 0; IF ROW_COUNT() = 0 THEN ROLLBACK; RAISE EXCEPTION '재고 부족'; END IF; -- 2. 주문 생성 INSERT INTO orders (product_id, user_id, quantity, total_price) VALUES (123, 456, 1, 50000); -- 3. 결제 처리 UPDATE user_accounts SET balance = balance - 50000 WHERE user_id = 456 AND balance \u003e= 50000; IF ROW_COUNT() = 0 THEN ROLLBACK; RAISE EXCEPTION '잔액 부족'; END IF; COMMIT; 이 트랜잭션에서:\nAtomicity: 모든 단계가 성공적으로 완료되거나, 전체가 취소된다. Consistency: 재고와 잔액이 음수가 되지 않도록 보장한다. Isolation: 다른 구매 트랜잭션과 충돌하지 않도록 한다. Durability: 구매 완료 후 시스템이 중단되어도 데이터는 보존된다. 참고 및 출처 ","wordCount":"741","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-10-24T13:10:00Z","dateModified":"2024-10-24T13:10:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/backend/databases/rdbms/fundamentals/tracsactions/acid/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>기술 블로그</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/backend/>Backend</a>&nbsp;»&nbsp;<a href>데이터베이스</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/backend/databases/rdbms/>RDBMS</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/backend/databases/rdbms/fundamentals/>Fundamentals of RDBMS</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/backend/databases/rdbms/fundamentals/tracsactions/>트랜잭션 (Tracsactions)</a></div><h1 class="post-title entry-hint-parent">ACID</h1><div class=post-description>트랜잭션의 신뢰성과 일관성을 정의하는 네 가지 주요 특성</div><div class=post-meta><span title='2024-10-24 13:10:00 +0000 UTC'>October 24, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Backend/Databases/RDBMS/Fundamentals/Tracsactions/ACID.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#acid>ACID</a><ul><li><a href=#atomicity-원자성>Atomicity (원자성)</a></li><li><a href=#consistency-일관성>Consistency (일관성)</a></li><li><a href=#isolation-격리성>Isolation (격리성)</a></li><li><a href=#durability-지속성>Durability (지속성)</a></li><li><a href=#acid-특성의-실제-적용>ACID 특성의 실제 적용</a></li></ul></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=acid>ACID<a hidden class=anchor aria-hidden=true href=#acid>#</a></h2><p>데이터베이스 관리 시스템(DBMS)에서 ACID는 트랜잭션의 신뢰성과 일관성을 정의하는 네 가지 주요 특성.<br>ACID는 Atomicity(원자성), Consistency(일관성), Isolation(격리성), Durability(지속성)의 약자</p><p>ACID의 중요성:</p><ol><li>데이터 무결성 유지</li><li>트랜잭션의 신뢰성 보장</li><li>동시성 제어</li><li>시스템 장애 복구</li><li>비즈니스 규칙 및 관계형 무결성 강화</li></ol><p>장점:</p><ul><li>데이터 일관성 유지</li><li>트랜잭션 무결성 보장</li><li>내결함성 및 복구 기능 제공</li><li>동시성 제어 가능</li></ul><p>단점:</p><ul><li>처리 오버헤드로 인한 성능 저하</li><li>대용량 OLTP 시스템에서의 성능 문제</li><li>제한적인 잠금으로 인한 확장성 제한</li></ul><h3 id=atomicity-원자성>Atomicity (원자성)<a hidden class=anchor aria-hidden=true href=#atomicity-원자성>#</a></h3><p>원자성은 트랜잭션이 단일의 불가분한 작업 단위로 취급되어야 함을 의미합니다.</p><ul><li>트랜잭션의 모든 작업이 성공적으로 완료되거나 전혀 실행되지 않아야 합니다.</li><li>트랜잭션 중 일부가 실패하면 전체 트랜잭션이 롤백되어 원래 상태로 돌아갑니다.</li><li>이는 데이터의 일관성과 무결성을 보장합니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3>3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>BEGIN</span><span class=w> </span><span class=k>TRANSACTION</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>UPDATE</span><span class=w> </span><span class=n>accounts</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=n>balance</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>balance</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1000</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>account_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;sender&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>UPDATE</span><span class=w> </span><span class=n>accounts</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=n>balance</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>balance</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1000</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>account_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;receiver&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>COMMIT</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>이 송금 트랜잭션에서 첫 번째 UPDATE는 성공했지만 두 번째 UPDATE가 실패한다면, 원자성 때문에 첫 번째 UPDATE도 롤백된다.<br>마치 아무 일도 없었던 것처럼 모든 변경사항이 취소되는 것.<br>이는 &ldquo;all or nothing&rdquo; 원칙이라고도 부른다.</p><h3 id=consistency-일관성>Consistency (일관성)<a hidden class=anchor aria-hidden=true href=#consistency-일관성>#</a></h3><p>일관성은 트랜잭션이 데이터베이스를 한 일관된 상태에서 다른 일관된 상태로 변경해야 함을 의미합니다.</p><ul><li>트랜잭션 실행 전후에 데이터베이스가 일관된 상태를 유지해야 합니다.</li><li>고유 키, 외래 키 등의 제약 조건이 유지되어야 합니다.</li><li>이는 데이터의 정확성과 유효성을 보장합니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11>11</a>
</span><span class=lnt id=hl-1-12><a class=lnlinks href=#hl-1-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>BEGIN</span><span class=w> </span><span class=k>TRANSACTION</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 잔고가 800원인 계좌에서 1000원을 출금하려는 경우
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>UPDATE</span><span class=w> </span><span class=n>accounts</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SET</span><span class=w> </span><span class=n>balance</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>balance</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1000</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>account_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;user1&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>AND</span><span class=w> </span><span class=n>balance</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=mi>1000</span><span class=p>;</span><span class=w> </span><span class=c1>-- 제약조건 추가
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>IF</span><span class=w> </span><span class=k>ROW_COUNT</span><span class=p>()</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=k>THEN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ROLLBACK</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>RAISE</span><span class=w> </span><span class=k>EXCEPTION</span><span class=w> </span><span class=s1>&#39;잔액이 부족합니다&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>END</span><span class=w> </span><span class=k>IF</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>COMMIT</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>예를 들어, 계좌 잔고가 항상 0 이상이어야 한다는 규칙이 있다면, 제약조건에 위배되는 트랜잭션은 실행되지 않으며, 데이터베이스의 일관성이 유지된다.</p><h3 id=isolation-격리성>Isolation (격리성)<a hidden class=anchor aria-hidden=true href=#isolation-격리성>#</a></h3><p>격리성은 여러 트랜잭션이 동시에 실행될 때 서로 간섭하지 않고 독립적으로 실행되어야 함을 의미합니다.</p><ul><li>각 트랜잭션은 다른 트랜잭션으로부터 격리되어 실행됩니다.</li><li>이는 더티 리드(dirty read), 반복 불가능한 읽기(non-repeatable read), 팬텀 읽기(phantom read) 등의 문제를 방지합니다.</li><li>트랜잭션의 동시성을 관리하여 데이터의 일관성을 유지합니다.</li></ul><h4 id=격리-수준>격리 수준<a hidden class=anchor aria-hidden=true href=#격리-수준>#</a></h4><ol><li><p>READ UNCOMMITTED (가장 낮은 격리 수준)<br>다른 트랜잭션의 커밋되지 않은 변경사항도 볼 수 있다.<br>이로 인해 &ldquo;Dirty Read&rdquo; 문제가 발생할 수 있습니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1> 1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2> 2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3> 3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4> 4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5> 5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6> 6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7> 7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8> 8</a>
</span><span class=lnt id=hl-2-9><a class=lnlinks href=#hl-2-9> 9</a>
</span><span class=lnt id=hl-2-10><a class=lnlinks href=#hl-2-10>10</a>
</span><span class=lnt id=hl-2-11><a class=lnlinks href=#hl-2-11>11</a>
</span><span class=lnt id=hl-2-12><a class=lnlinks href=#hl-2-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- Transaction 1
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>BEGIN</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>UPDATE</span><span class=w> </span><span class=n>products</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=n>price</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>15000</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 아직 COMMIT하지 않음
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- Transaction 2 (READ UNCOMMITTED에서)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>price</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>products</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 15000을 읽음 (Dirty Read)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- Transaction 1
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>ROLLBACK</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- Transaction 2는 잘못된 가격을 읽은 상태
</span></span></span></code></pre></td></tr></table></div></div></li><li><p>READ COMMITTED<br>커밋된 데이터만 읽을 수 있지만, &ldquo;Non-repeatable Read&rdquo; 문제가 발생할 수 있다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- Transaction 1
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>BEGIN</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=n>price</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>products</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w> </span><span class=c1>-- 10000원 읽음
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- Transaction 2
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>UPDATE</span><span class=w> </span><span class=n>products</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=n>price</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>15000</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>COMMIT</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- Transaction 1
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>price</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>products</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w> </span><span class=c1>-- 15000원 읽음
</span></span></span><span class=line><span class=cl><span class=c1>-- 같은 트랜잭션 내에서 다른 결과를 얻음
</span></span></span></code></pre></td></tr></table></div></div></li><li><p>REPEATABLE READ<br>트랜잭션 내에서 같은 쿼리는 항상 같은 결과를 반환하지만, &ldquo;Phantom Read&rdquo; 문제가 발생할 수 있다.</p></li><li><p>SERIALIZABLE (가장 높은 격리 수준)<br>트랜잭션들이 순차적으로 실행되는 것처럼 동작하여 모든 동시성 문제를 방지.</p></li></ol><h3 id=durability-지속성>Durability (지속성)<a hidden class=anchor aria-hidden=true href=#durability-지속성>#</a></h3><p>지속성은 트랜잭션이 성공적으로 완료된 후 그 결과가 영구적으로 저장되어야 함을 의미합니다.</p><ul><li>시스템 장애나 전원 손실 등의 상황에서도 트랜잭션의 결과가 유지되어야 합니다.</li><li>이는 주로 로그 파일을 사용하여 구현됩니다. 변경 사항을 먼저 로그 파일에 기록한 후 데이터베이스에 반영합니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2>2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3>3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4>4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5>5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 트랜잭션 로그를 통한 지속성 보장
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>BEGIN</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>UPDATE</span><span class=w> </span><span class=n>accounts</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=n>balance</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>balance</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1000</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 이 시점에서 변경사항이 트랜잭션 로그에 기록됨
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>COMMIT</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 시스템이 갑자기 중단되더라도, 재시작 시 로그를 통해 변경사항 복구 가능
</span></span></span></code></pre></td></tr></table></div></div><h3 id=acid-특성의-실제-적용>ACID 특성의 실제 적용<a hidden class=anchor aria-hidden=true href=#acid-특성의-실제-적용>#</a></h3><p>예를 들어, 온라인 쇼핑몰에서 상품 구매 처리를 살펴보자.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1> 1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2> 2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3> 3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4> 4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5> 5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6> 6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7> 7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8> 8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9> 9</a>
</span><span class=lnt id=hl-5-10><a class=lnlinks href=#hl-5-10>10</a>
</span><span class=lnt id=hl-5-11><a class=lnlinks href=#hl-5-11>11</a>
</span><span class=lnt id=hl-5-12><a class=lnlinks href=#hl-5-12>12</a>
</span><span class=lnt id=hl-5-13><a class=lnlinks href=#hl-5-13>13</a>
</span><span class=lnt id=hl-5-14><a class=lnlinks href=#hl-5-14>14</a>
</span><span class=lnt id=hl-5-15><a class=lnlinks href=#hl-5-15>15</a>
</span><span class=lnt id=hl-5-16><a class=lnlinks href=#hl-5-16>16</a>
</span><span class=lnt id=hl-5-17><a class=lnlinks href=#hl-5-17>17</a>
</span><span class=lnt id=hl-5-18><a class=lnlinks href=#hl-5-18>18</a>
</span><span class=lnt id=hl-5-19><a class=lnlinks href=#hl-5-19>19</a>
</span><span class=lnt id=hl-5-20><a class=lnlinks href=#hl-5-20>20</a>
</span><span class=lnt id=hl-5-21><a class=lnlinks href=#hl-5-21>21</a>
</span><span class=lnt id=hl-5-22><a class=lnlinks href=#hl-5-22>22</a>
</span><span class=lnt id=hl-5-23><a class=lnlinks href=#hl-5-23>23</a>
</span><span class=lnt id=hl-5-24><a class=lnlinks href=#hl-5-24>24</a>
</span><span class=lnt id=hl-5-25><a class=lnlinks href=#hl-5-25>25</a>
</span><span class=lnt id=hl-5-26><a class=lnlinks href=#hl-5-26>26</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>BEGIN</span><span class=w> </span><span class=k>TRANSACTION</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 1. 재고 확인 및 감소
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>UPDATE</span><span class=w> </span><span class=n>products</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SET</span><span class=w> </span><span class=n>stock</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stock</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>123</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>stock</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>IF</span><span class=w> </span><span class=k>ROW_COUNT</span><span class=p>()</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=k>THEN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ROLLBACK</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>RAISE</span><span class=w> </span><span class=k>EXCEPTION</span><span class=w> </span><span class=s1>&#39;재고 부족&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>END</span><span class=w> </span><span class=k>IF</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 2. 주문 생성
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>orders</span><span class=w> </span><span class=p>(</span><span class=n>product_id</span><span class=p>,</span><span class=w> </span><span class=n>user_id</span><span class=p>,</span><span class=w> </span><span class=n>quantity</span><span class=p>,</span><span class=w> </span><span class=n>total_price</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=mi>123</span><span class=p>,</span><span class=w> </span><span class=mi>456</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>50000</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 3. 결제 처리
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>UPDATE</span><span class=w> </span><span class=n>user_accounts</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SET</span><span class=w> </span><span class=n>balance</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>balance</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>50000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>user_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>456</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>balance</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=mi>50000</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>IF</span><span class=w> </span><span class=k>ROW_COUNT</span><span class=p>()</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=k>THEN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ROLLBACK</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>RAISE</span><span class=w> </span><span class=k>EXCEPTION</span><span class=w> </span><span class=s1>&#39;잔액 부족&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>END</span><span class=w> </span><span class=k>IF</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>COMMIT</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>이 트랜잭션에서:</p><ul><li>Atomicity: 모든 단계가 성공적으로 완료되거나, 전체가 취소된다.</li><li>Consistency: 재고와 잔액이 음수가 되지 않도록 보장한다.</li><li>Isolation: 다른 구매 트랜잭션과 충돌하지 않도록 한다.</li><li>Durability: 구매 완료 후 시스템이 중단되어도 데이터는 보존된다.</li></ul><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/databases/>Databases</a></li><li><a href=https://buenhyden.github.io/tags/more-about-databases/>More-About-Databases</a></li><li><a href=https://buenhyden.github.io/tags/transactions/>Transactions</a></li><li><a href=https://buenhyden.github.io/tags/acid/>ACID</a></li><li><a href=https://buenhyden.github.io/tags/atomicity/>Atomicity</a></li><li><a href=https://buenhyden.github.io/tags/consistency/>Consistency</a></li><li><a href=https://buenhyden.github.io/tags/isolation/>Isolation</a></li><li><a href=https://buenhyden.github.io/tags/durability/>Durability</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/backend/databases/fundamentals/data-inconsistency/><span class=title>« Prev</span><br><span>데이터 불일치 (Data Inconsistency)</span>
</a><a class=next href=https://buenhyden.github.io/posts/backend/databases/rdbms/tracsactions/acid/><span class=title>Next »</span><br><span>ACID</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>