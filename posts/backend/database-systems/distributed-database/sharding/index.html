<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>샤딩 (sharding) | hyunyoun's Blog</title>
<meta name=keywords content="Backend,Database-Systems,Distributed-Database,샤딩,Sharding"><meta name=description content="대규모 데이터베이스 시스템에서 데이터를 수평적으로 분할하여 여러 서버에 분산 저장하는 기술"><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/backend/database-systems/distributed-database/sharding/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.9a2bbe2d8b5afa9d4df22976abb7b72f1f7f1c467d2b30f03090108f9496ae6c.css integrity="sha256-miu+LYta+p1N8il2q7e3Lx9/HEZ9KzDwMJAQj5SWrmw=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/backend/database-systems/distributed-database/sharding/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/backend/database-systems/distributed-database/sharding/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="샤딩 (sharding)"><meta property="og:description" content="대규모 데이터베이스 시스템에서 데이터를 수평적으로 분할하여 여러 서버에 분산 저장하는 기술"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-03T06:27:00+00:00"><meta property="article:modified_time" content="2024-12-03T06:27:00+00:00"><meta property="article:tag" content="Backend"><meta property="article:tag" content="Database-Systems"><meta property="article:tag" content="Distributed-Database"><meta property="article:tag" content="샤딩"><meta property="article:tag" content="Sharding"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="샤딩 (sharding)"><meta name=twitter:description content="대규모 데이터베이스 시스템에서 데이터를 수평적으로 분할하여 여러 서버에 분산 저장하는 기술"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"posts","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Backend","item":"https://buenhyden.github.io/posts/backend/"},{"@type":"ListItem","position":3,"name":"데이터베이스 (Database)","item":"https://buenhyden.github.io/posts/backend/database-systems/"},{"@type":"ListItem","position":4,"name":"분산 데이터베이스 (Distributed Database)","item":"https://buenhyden.github.io/posts/backend/database-systems/distributed-database/"},{"@type":"ListItem","position":5,"name":"샤딩 (sharding)","item":"https://buenhyden.github.io/posts/backend/database-systems/distributed-database/sharding/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"샤딩 (sharding)","name":"샤딩 (sharding)","description":"대규모 데이터베이스 시스템에서 데이터를 수평적으로 분할하여 여러 서버에 분산 저장하는 기술","keywords":["Backend","Database-Systems","Distributed-Database","샤딩","Sharding"],"articleBody":"샤딩 (sharding) 대규모 데이터베이스 시스템에서 데이터를 수평적으로 분할하여 여러 서버에 분산 저장하는 기술.\n각각의 분할된 데이터 조각을 ‘샤드(shard)‘라고 부른다.\n이 기술은 데이터베이스의 성능, 확장성, 가용성을 향상시키는 데 중요한 역할을 한다.\n예를 들어 전자상거래 사이트의 사용자 데이터를 지역별로 나누어 관리한다고 가정해보자.\n서울 지역 사용자의 데이터는 샤드 A에, 부산 지역 사용자의 데이터는 샤드 B에 저장하는 식. 이렇게 하면 각 지역의 서버가 해당 지역 사용자의 데이터만 처리하면 되므로 시스템 부하를 분산할 수 있다.\n특징:\n수평 분할: 샤딩은 데이터를 동일한 스키마를 가진 여러 개의 작은 데이터베이스(샤드)로 나눈다. 분산 저장: 각 샤드는 독립적인 서버에 저장되어 운영된다. 샤드 키: 데이터를 분할하고 분산 저장하는 기준이 되는 키를 사용한다. 사용자 ID, 지역 코드, 시간대 등이 샤딩 키로 자주 사용된다. 이 키의 선택은 시스템의 성능과 확장성에 직접적인 영향을 미친다. 라우팅: 샤드 서버에는 각 샤드에 작업을 분배하는 라우팅 기능이 있다. 장점:\n성능 향상: 데이터를 여러 서버에 분산함으로써 처리 속도가 향상된다. 확장성: 데이터 양이 증가해도 새로운 샤드를 추가하여 시스템을 확장할 수 있다. 가용성: 한 샤드에 문제가 발생해도 다른 샤드는 정상 작동하여 전체 시스템의 가용성이 향상된다. 부하 분산: 데이터와 트래픽이 여러 샤드에 균등하게 분산되어 처리된다. 비용 효율성: 고성능 하드웨어 대신 여러 대의 저렴한 서버를 사용할 수 있다. 단점:\n복잡성: 데이터가 여러 곳에 분산되어 있어 관리와 조회가 복잡해질 수 있다. 데이터 일관성: 여러 샤드에 걸친 데이터의 일관성을 유지하기 어려울 수 있다. 조인 연산의 어려움: 여러 샤드에 걸친 데이터를 조인하는 것이 어렵다. 데이터 불균형: 특정 샤드에 데이터가 집중될 경우 성능 저하가 발생할 수 있다. 관리 복잡성: 여러 샤드를 관리하고 모니터링하는 것이 단일 데이터베이스보다 복잡하다. 샤딩 방식 범위 기반 샤딩 (Range Based Sharding)\n범위 기반 샤딩은 데이터를 연속된 범위로 나누어 각 샤드에 할당하는 방식.\n예를 들어, 고객 ID가 1-1000번까지는 첫 번째 샤드에, 1001-2000번까지는 두 번째 샤드에 저장하는 식.\n이 방식은 구현이 비교적 간단하고 이해하기 쉽다.\n특정 범위의 데이터가 다른 범위보다 더 자주 접근되는 경우, 해당 샤드에 과도한 부하가 발생할 수 있다.\n예를 들어 최근에 가입한 사용자들의 활동이 더 많다면, 높은 ID 범위를 담당하는 샤드에 트래픽이 집중될 수 있다.\n해시 기반 샤딩 (Hash Based Sharding)\n해시 기반 샤딩은 샤딩 키를 해시 함수에 통과시켜 나온 값을 기준으로 데이터를 분산하는 방식.\n해시 함수는 입력값을 고르게 분산시키는 특성이 있어, 데이터를 여러 샤드에 균등하게 분배할 수 있다.\n예를 들어, 사용자 ID를 해시 함수에 넣어 나온 값을 샤드 수로 나눈 나머지를 기준으로 샤드를 결정할 수 있다:\n1 shard_id = hash(user_id) % number_of_shards 이 방식의 장점은 데이터가 고르게 분산된다.\n하지만 샤드의 수를 변경하면 대부분의 데이터가 재배치되어야 하는 단점이 있다.\n디렉토리 기반 샤딩 (Directory Based Sharding)\n디렉토리 기반 샤딩은 별도의 조회 테이블을 사용하여 각 데이터가 어느 샤드에 있는지를 추적하는 방식.\n이 방식은 가장 유연한 샤딩 방식으로, 동적으로 샤드 매핑을 변경할 수 있다.\n예를 들어, 다음과 같은 매핑 테이블을 유지할 수 있습니다:\n1 2 3 4 5 CREATE TABLE shard_directory ( key_range VARCHAR(50), shard_id INT, shard_location VARCHAR(100) ); 이 방식의 장점은 매우 세밀한 제어가 가능하다.\n특정 데이터를 다른 샤드로 이동시키기 쉽고, 샤드 간의 데이터 균형을 동적으로 조정할 수 있다.\n하지만 조회 테이블이 단일 실패 지점이 될 수 있으며, 모든 쿼리가 이 테이블을 먼저 조회해야 하므로 약간의 성능 오버헤드가 발생한다.\n지리적 샤딩 (Geographic Sharding)\n지리적 샤딩은 사용자의 물리적 위치를 기준으로 데이터를 분산하는 방식.\n예를 들어, 아시아 지역 사용자의 데이터는 아시아에 위치한 서버에, 유럽 사용자의 데이터는 유럽 서버에 저장하는 식.\n이 방식의 큰 장점은 사용자와 가까운 곳에서 데이터를 제공할 수 있어 지연 시간을 크게 줄일 수 있다는 것.\n또한 데이터 관련 규제(예: GDPR)를 준수하기 쉽다.\n하지만 사용자가 여행을 가는 등 위치가 변경될 때 성능이 저하될 수 있으며, 지역 간 데이터 동기화가 필요한 경우 복잡성이 증가한다.\n기능 기반 샤딩 (Feature Based Sharding)\n기능 기반 샤딩은 애플리케이션의 특정 기능이나 모듈별로 데이터를 분리하는 방식.\n예를 들어, 전자상거래 플랫폼에서 주문 관련 데이터는 한 샤드 그룹에, 제품 카탈로그는 다른 샤드 그룹에 저장하는 식.\n이 방식은 각 기능별로 최적화된 데이터베이스 구성을 사용할 수 있다.\n또한 특정 기능의 트래픽 증가가 다른 기능에 영향을 미치지 않는다.\n하지만 기능 간의 데이터 조인이 필요한 경우 복잡성이 크게 증가할 수 있다.\n샤딩 방식을 선택할 때는 다음과 같은 요소들을 고려해야 한다.\n데이터의 성격과 접근 패턴 확장성 요구사항 데이터 일관성 요구사항 운영 복잡성 관리 능력 애플리케이션의 쿼리 패턴 데이터 지역성 요구사항 참고 및 출처 ","wordCount":"655","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-12-03T06:27:00Z","dateModified":"2024-12-03T06:27:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/backend/database-systems/distributed-database/sharding/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>posts</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/backend/>Backend</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/backend/database-systems/>데이터베이스 (Database)</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/backend/database-systems/distributed-database/>분산 데이터베이스 (Distributed Database)</a></div><h1 class="post-title entry-hint-parent">샤딩 (sharding)</h1><div class=post-description>대규모 데이터베이스 시스템에서 데이터를 수평적으로 분할하여 여러 서버에 분산 저장하는 기술</div><div class=post-meta><span title='2024-12-03 06:27:00 +0000 UTC'>December 3, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;655 words&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Backend/Database%20Systems/Distributed%20Database/sharding.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#샤딩-sharding>샤딩 (sharding)</a><ul><li><a href=#샤딩-방식>샤딩 방식</a></li></ul></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=샤딩-sharding>샤딩 (sharding)<a hidden class=anchor aria-hidden=true href=#샤딩-sharding>#</a></h2><p>대규모 데이터베이스 시스템에서 데이터를 수평적으로 분할하여 여러 서버에 분산 저장하는 기술.<br>각각의 분할된 데이터 조각을 &lsquo;샤드(shard)&lsquo;라고 부른다.<br>이 기술은 데이터베이스의 성능, 확장성, 가용성을 향상시키는 데 중요한 역할을 한다.</p><p>예를 들어 전자상거래 사이트의 사용자 데이터를 지역별로 나누어 관리한다고 가정해보자.<br>서울 지역 사용자의 데이터는 샤드 A에, 부산 지역 사용자의 데이터는 샤드 B에 저장하는 식. 이렇게 하면 각 지역의 서버가 해당 지역 사용자의 데이터만 처리하면 되므로 시스템 부하를 분산할 수 있다.</p><p>특징:</p><ol><li>수평 분할: 샤딩은 데이터를 동일한 스키마를 가진 여러 개의 작은 데이터베이스(샤드)로 나눈다.</li><li>분산 저장: 각 샤드는 독립적인 서버에 저장되어 운영된다.</li><li>샤드 키: 데이터를 분할하고 분산 저장하는 기준이 되는 키를 사용한다.<ul><li>사용자 ID, 지역 코드, 시간대 등이 샤딩 키로 자주 사용된다.</li><li>이 키의 선택은 시스템의 성능과 확장성에 직접적인 영향을 미친다.</li></ul></li><li>라우팅: 샤드 서버에는 각 샤드에 작업을 분배하는 라우팅 기능이 있다.</li></ol><p>장점:</p><ol><li>성능 향상: 데이터를 여러 서버에 분산함으로써 처리 속도가 향상된다.</li><li>확장성: 데이터 양이 증가해도 새로운 샤드를 추가하여 시스템을 확장할 수 있다.</li><li>가용성: 한 샤드에 문제가 발생해도 다른 샤드는 정상 작동하여 전체 시스템의 가용성이 향상된다.</li><li>부하 분산: 데이터와 트래픽이 여러 샤드에 균등하게 분산되어 처리된다.</li><li>비용 효율성: 고성능 하드웨어 대신 여러 대의 저렴한 서버를 사용할 수 있다.</li></ol><p>단점:</p><ol><li>복잡성: 데이터가 여러 곳에 분산되어 있어 관리와 조회가 복잡해질 수 있다.</li><li>데이터 일관성: 여러 샤드에 걸친 데이터의 일관성을 유지하기 어려울 수 있다.</li><li>조인 연산의 어려움: 여러 샤드에 걸친 데이터를 조인하는 것이 어렵다.</li><li>데이터 불균형: 특정 샤드에 데이터가 집중될 경우 성능 저하가 발생할 수 있다.</li><li>관리 복잡성: 여러 샤드를 관리하고 모니터링하는 것이 단일 데이터베이스보다 복잡하다.</li></ol><h3 id=샤딩-방식>샤딩 방식<a hidden class=anchor aria-hidden=true href=#샤딩-방식>#</a></h3><ol><li><p>범위 기반 샤딩 (Range Based Sharding)<br>범위 기반 샤딩은 데이터를 연속된 범위로 나누어 각 샤드에 할당하는 방식.<br>예를 들어, 고객 ID가 1-1000번까지는 첫 번째 샤드에, 1001-2000번까지는 두 번째 샤드에 저장하는 식.</p><p>이 방식은 구현이 비교적 간단하고 이해하기 쉽다.<br>특정 범위의 데이터가 다른 범위보다 더 자주 접근되는 경우, 해당 샤드에 과도한 부하가 발생할 수 있다.<br>예를 들어 최근에 가입한 사용자들의 활동이 더 많다면, 높은 ID 범위를 담당하는 샤드에 트래픽이 집중될 수 있다.</p></li><li><p>해시 기반 샤딩 (Hash Based Sharding)<br>해시 기반 샤딩은 샤딩 키를 해시 함수에 통과시켜 나온 값을 기준으로 데이터를 분산하는 방식.</p><p>해시 함수는 입력값을 고르게 분산시키는 특성이 있어, 데이터를 여러 샤드에 균등하게 분배할 수 있다.<br>예를 들어, 사용자 ID를 해시 함수에 넣어 나온 값을 샤드 수로 나눈 나머지를 기준으로 샤드를 결정할 수 있다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>shard_id</span> <span class=o>=</span> <span class=nb>hash</span><span class=p>(</span><span class=n>user_id</span><span class=p>)</span> <span class=o>%</span> <span class=n>number_of_shards</span>
</span></span></code></pre></td></tr></table></div></div><p>이 방식의 장점은 데이터가 고르게 분산된다.</p><p>하지만 샤드의 수를 변경하면 대부분의 데이터가 재배치되어야 하는 단점이 있다.</p></li><li><p>디렉토리 기반 샤딩 (Directory Based Sharding)<br>디렉토리 기반 샤딩은 별도의 조회 테이블을 사용하여 각 데이터가 어느 샤드에 있는지를 추적하는 방식.<br>이 방식은 가장 유연한 샤딩 방식으로, 동적으로 샤드 매핑을 변경할 수 있다.</p><p>예를 들어, 다음과 같은 매핑 테이블을 유지할 수 있습니다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2>2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3>3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4>4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>shard_directory</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>key_range</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>shard_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>shard_location</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>이 방식의 장점은 매우 세밀한 제어가 가능하다.<br>특정 데이터를 다른 샤드로 이동시키기 쉽고, 샤드 간의 데이터 균형을 동적으로 조정할 수 있다.</p><p>하지만 조회 테이블이 단일 실패 지점이 될 수 있으며, 모든 쿼리가 이 테이블을 먼저 조회해야 하므로 약간의 성능 오버헤드가 발생한다.</p></li><li><p>지리적 샤딩 (Geographic Sharding)<br>지리적 샤딩은 사용자의 물리적 위치를 기준으로 데이터를 분산하는 방식.<br>예를 들어, 아시아 지역 사용자의 데이터는 아시아에 위치한 서버에, 유럽 사용자의 데이터는 유럽 서버에 저장하는 식.</p><p>이 방식의 큰 장점은 사용자와 가까운 곳에서 데이터를 제공할 수 있어 지연 시간을 크게 줄일 수 있다는 것.<br>또한 데이터 관련 규제(예: GDPR)를 준수하기 쉽다.</p><p>하지만 사용자가 여행을 가는 등 위치가 변경될 때 성능이 저하될 수 있으며, 지역 간 데이터 동기화가 필요한 경우 복잡성이 증가한다.</p></li><li><p>기능 기반 샤딩 (Feature Based Sharding)<br>기능 기반 샤딩은 애플리케이션의 특정 기능이나 모듈별로 데이터를 분리하는 방식.<br>예를 들어, 전자상거래 플랫폼에서 주문 관련 데이터는 한 샤드 그룹에, 제품 카탈로그는 다른 샤드 그룹에 저장하는 식.</p><p>이 방식은 각 기능별로 최적화된 데이터베이스 구성을 사용할 수 있다.<br>또한 특정 기능의 트래픽 증가가 다른 기능에 영향을 미치지 않는다.</p><p>하지만 기능 간의 데이터 조인이 필요한 경우 복잡성이 크게 증가할 수 있다.</p></li></ol><p>샤딩 방식을 선택할 때는 다음과 같은 요소들을 고려해야 한다.</p><ul><li>데이터의 성격과 접근 패턴</li><li>확장성 요구사항</li><li>데이터 일관성 요구사항</li><li>운영 복잡성 관리 능력</li><li>애플리케이션의 쿼리 패턴</li><li>데이터 지역성 요구사항</li></ul><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/backend/>Backend</a></li><li><a href=https://buenhyden.github.io/tags/database-systems/>Database-Systems</a></li><li><a href=https://buenhyden.github.io/tags/distributed-database/>Distributed-Database</a></li><li><a href=https://buenhyden.github.io/tags/%EC%83%A4%EB%94%A9/>샤딩</a></li><li><a href=https://buenhyden.github.io/tags/sharding/>Sharding</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/backend/database-systems/database-optimization/replication/><span class=title>« Prev</span><br><span>레플리케이션 (replication)</span>
</a><a class=next href=https://buenhyden.github.io/posts/programming-languages/javascript/concepts/jsdoc/><span class=title>Next »</span><br><span>jsdoc</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>