<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Rate Limiting vs. Throttling | hyunyoun's Blog</title>
<meta name=keywords content="Backend,API-Design,API-Performance,Rate-Limiting-and-Throttling"><meta name=description content="Rate Limiting은 특정 시간 프레임 내에 클라이언트가 API에 보낼 수 있는 요청 수를 제한하는 기술이며 Throttling은 요청 속도를 조절하여 제한에 도달했을 때 요청을 지연시키거나 대기열에 넣는다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/backend/performance-optimization/rate-limiting-and-throttling/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.8762af4fa9ee176c57f72565b721f234162fc7a9c882a271e0a1f68c4e89fb34.css integrity="sha256-h2KvT6nuF2xX9yVltyHyNBYvx6nIgqJx4KH2jE6J+zQ=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/backend/performance-optimization/rate-limiting-and-throttling/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/backend/performance-optimization/rate-limiting-and-throttling/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/backend/performance-optimization/rate-limiting-and-throttling/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Rate Limiting vs. Throttling"><meta property="og:description" content="Rate Limiting은 특정 시간 프레임 내에 클라이언트가 API에 보낼 수 있는 요청 수를 제한하는 기술이며 Throttling은 요청 속도를 조절하여 제한에 도달했을 때 요청을 지연시키거나 대기열에 넣는다."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Rate Limiting vs. Throttling"><meta name=twitter:description content="Rate Limiting은 특정 시간 프레임 내에 클라이언트가 API에 보낼 수 있는 요청 수를 제한하는 기술이며 Throttling은 요청 속도를 조절하여 제한에 도달했을 때 요청을 지연시키거나 대기열에 넣는다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Rate Limiting vs. Throttling","item":"https://buenhyden.github.io/posts/backend/performance-optimization/rate-limiting-and-throttling/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a></div><h1>Rate Limiting vs. Throttling</h1><div class=post-description>Rate Limiting은 특정 시간 프레임 내에 클라이언트가 API에 보낼 수 있는 요청 수를 제한하는 기술이며 Throttling은 요청 속도를 조절하여 제한에 도달했을 때 요청을 지연시키거나 대기열에 넣는다.</div></header><div class=post-content><h2 id=rate-limiting-vs-throttling>Rate Limiting vs. Throttling<a hidden class=anchor aria-hidden=true href=#rate-limiting-vs-throttling>#</a></h2><p>Rate Limiting과 Throttling은 API 설계와 관리에서 핵심적인 요소로, 시스템의 안정성과 보안을 유지하는 데 중요한 역할을 한다.</p><p>Rate Limiting과 Throttling은 모두 시스템 보호와 최적화를 위한 중요한 기술이지만, 그 목적과 구현 방식에는 명확한 차이가 있다. Rate Limiting은 특정 시간 내 허용되는 요청 수를 제한하여 남용을 방지하는 데 중점을 두는 반면, Throttling은 요청 처리 속도를 조절하여 시스템 리소스를 효율적으로 사용하는 데 중점을 둔다.</p><p>실제 애플리케이션에서는 두 기술을 함께 사용하여 더욱 견고하고 효율적인 시스템을 구축하는 것이 일반적입니다. Rate Limiting을 통해 과도한 요청을 차단하고, Throttling을 통해 허용된 요청을 적절한 속도로 처리함으로써 시스템의 안정성과 성능을 모두 확보할 수 있다.</p><p>효과적인 트래픽 관리 전략을 수립할 때는 애플리케이션의 특성, 사용자 패턴, 인프라 제약 등을 고려하여 Rate Limiting과 Throttling의 매개변수를 신중하게 조정해야 한다. 또한 지속적인 모니터링과 분석을 통해 변화하는 환경에 맞게 전략을 발전시켜 나가는 것이 중요하다.</p><h3 id=개념적-이해>개념적 이해<a hidden class=anchor aria-hidden=true href=#개념적-이해>#</a></h3><h4 id=rate-limiting-속도-제한>Rate Limiting (속도 제한)<a hidden class=anchor aria-hidden=true href=#rate-limiting-속도-제한>#</a></h4><p>Rate Limiting은 지정된 시간 간격 내에 수행할 수 있는 요청 또는 작업의 수를 제한하는 기술이다. 이는 주로 API 서버나 웹 서비스가 과도한 요청으로부터 보호되도록 설계되었다. 예를 들어, &ldquo;사용자당 분당 최대 100개의 요청"과 같은 제한을 설정할 수 있다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14>14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15>15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16>16</a>
</span><span class=lnt id=hl-0-17><a class=lnlinks href=#hl-0-17>17</a>
</span><span class=lnt id=hl-0-18><a class=lnlinks href=#hl-0-18>18</a>
</span><span class=lnt id=hl-0-19><a class=lnlinks href=#hl-0-19>19</a>
</span><span class=lnt id=hl-0-20><a class=lnlinks href=#hl-0-20>20</a>
</span><span class=lnt id=hl-0-21><a class=lnlinks href=#hl-0-21>21</a>
</span><span class=lnt id=hl-0-22><a class=lnlinks href=#hl-0-22>22</a>
</span><span class=lnt id=hl-0-23><a class=lnlinks href=#hl-0-23>23</a>
</span><span class=lnt id=hl-0-24><a class=lnlinks href=#hl-0-24>24</a>
</span><span class=lnt id=hl-0-25><a class=lnlinks href=#hl-0-25>25</a>
</span><span class=lnt id=hl-0-26><a class=lnlinks href=#hl-0-26>26</a>
</span><span class=lnt id=hl-0-27><a class=lnlinks href=#hl-0-27>27</a>
</span><span class=lnt id=hl-0-28><a class=lnlinks href=#hl-0-28>28</a>
</span><span class=lnt id=hl-0-29><a class=lnlinks href=#hl-0-29>29</a>
</span><span class=lnt id=hl-0-30><a class=lnlinks href=#hl-0-30>30</a>
</span><span class=lnt id=hl-0-31><a class=lnlinks href=#hl-0-31>31</a>
</span><span class=lnt id=hl-0-32><a class=lnlinks href=#hl-0-32>32</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Node.js에서의 간단한 Rate Limiting 구현 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>rateLimits</span> <span class=o>=</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>WINDOW_SIZE_MS</span> <span class=o>=</span> <span class=mi>60000</span><span class=p>;</span> <span class=c1>// 1분
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>MAX_REQUESTS</span> <span class=o>=</span> <span class=mi>100</span><span class=p>;</span> <span class=c1>// 분당 최대 요청
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>isRateLimited</span><span class=p>(</span><span class=nx>userId</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>currentTime</span> <span class=o>=</span> <span class=nb>Date</span><span class=p>.</span><span class=nx>now</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>windowStart</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nx>currentTime</span> <span class=o>/</span> <span class=nx>WINDOW_SIZE_MS</span><span class=p>)</span> <span class=o>*</span> <span class=nx>WINDOW_SIZE_MS</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 사용자의 현재 윈도우 요청 상태 초기화
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>rateLimits</span><span class=p>[</span><span class=nx>userId</span><span class=p>]</span> <span class=o>||</span> <span class=nx>rateLimits</span><span class=p>[</span><span class=nx>userId</span><span class=p>].</span><span class=nx>windowStart</span> <span class=o>!==</span> <span class=nx>windowStart</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>rateLimits</span><span class=p>[</span><span class=nx>userId</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>windowStart</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>count</span><span class=o>:</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 요청 수 증가 및 제한 확인
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>rateLimits</span><span class=p>[</span><span class=nx>userId</span><span class=p>].</span><span class=nx>count</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>rateLimits</span><span class=p>[</span><span class=nx>userId</span><span class=p>].</span><span class=nx>count</span> <span class=o>&gt;</span> <span class=nx>MAX_REQUESTS</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 사용 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/api/resource&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>userId</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>user</span><span class=p>.</span><span class=nx>id</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>isRateLimited</span><span class=p>(</span><span class=nx>userId</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>429</span><span class=p>).</span><span class=nx>send</span><span class=p>(</span><span class=s1>&#39;Too Many Requests&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 요청 처리 계속 진행
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=throttling-조절>Throttling (조절)<a hidden class=anchor aria-hidden=true href=#throttling-조절>#</a></h4><p>Throttling은 지정된 시간 동안 요청 또는 작업의 처리 속도를 제어하는 기술이다. 이는 요청을 완전히 차단하기보다는 처리 속도를 균일하게 분산시켜 시스템 리소스를 효율적으로 사용할 수 있게 한다. 예를 들어, &ldquo;초당 10개의 요청만 처리"하도록 설정할 수 있다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11>11</a>
</span><span class=lnt id=hl-1-12><a class=lnlinks href=#hl-1-12>12</a>
</span><span class=lnt id=hl-1-13><a class=lnlinks href=#hl-1-13>13</a>
</span><span class=lnt id=hl-1-14><a class=lnlinks href=#hl-1-14>14</a>
</span><span class=lnt id=hl-1-15><a class=lnlinks href=#hl-1-15>15</a>
</span><span class=lnt id=hl-1-16><a class=lnlinks href=#hl-1-16>16</a>
</span><span class=lnt id=hl-1-17><a class=lnlinks href=#hl-1-17>17</a>
</span><span class=lnt id=hl-1-18><a class=lnlinks href=#hl-1-18>18</a>
</span><span class=lnt id=hl-1-19><a class=lnlinks href=#hl-1-19>19</a>
</span><span class=lnt id=hl-1-20><a class=lnlinks href=#hl-1-20>20</a>
</span><span class=lnt id=hl-1-21><a class=lnlinks href=#hl-1-21>21</a>
</span><span class=lnt id=hl-1-22><a class=lnlinks href=#hl-1-22>22</a>
</span><span class=lnt id=hl-1-23><a class=lnlinks href=#hl-1-23>23</a>
</span><span class=lnt id=hl-1-24><a class=lnlinks href=#hl-1-24>24</a>
</span><span class=lnt id=hl-1-25><a class=lnlinks href=#hl-1-25>25</a>
</span><span class=lnt id=hl-1-26><a class=lnlinks href=#hl-1-26>26</a>
</span><span class=lnt id=hl-1-27><a class=lnlinks href=#hl-1-27>27</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Node.js에서의 간단한 Throttling 구현 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>REQUESTS_PER_SECOND</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>INTERVAL_MS</span> <span class=o>=</span> <span class=mi>1000</span><span class=p>;</span> <span class=c1>// 1초
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>processedRequestsCount</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>lastResetTime</span> <span class=o>=</span> <span class=nb>Date</span><span class=p>.</span><span class=nx>now</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>processRequestWithThrottling</span><span class=p>(</span><span class=nx>request</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>currentTime</span> <span class=o>=</span> <span class=nb>Date</span><span class=p>.</span><span class=nx>now</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 1초마다 카운터 초기화
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>if</span> <span class=p>(</span><span class=nx>currentTime</span> <span class=o>-</span> <span class=nx>lastResetTime</span> <span class=o>&gt;=</span> <span class=nx>INTERVAL_MS</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>processedRequestsCount</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>lastResetTime</span> <span class=o>=</span> <span class=nx>currentTime</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 처리 속도 제어
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>if</span> <span class=p>(</span><span class=nx>processedRequestsCount</span> <span class=o>&lt;</span> <span class=nx>REQUESTS_PER_SECOND</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>processedRequestsCount</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>processRequest</span><span class=p>(</span><span class=nx>request</span><span class=p>);</span> <span class=c1>// 실제 요청 처리
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 현재 초의 할당량을 초과한 경우 대기열에 추가하거나 지연 처리
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>processRequestWithThrottling</span><span class=p>(</span><span class=nx>request</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span> <span class=nx>INTERVAL_MS</span> <span class=o>-</span> <span class=p>(</span><span class=nx>currentTime</span> <span class=o>-</span> <span class=nx>lastResetTime</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=rate-limiting과-throttling의-차이점>Rate Limiting과 Throttling의 차이점<a hidden class=anchor aria-hidden=true href=#rate-limiting과-throttling의-차이점>#</a></h4><p>엄밀히 말하면, Rate Limiting과 Throttling은 미묘한 차이가 있다:</p><ul><li><strong>Rate Limiting</strong>: 정해진 제한을 초과하면 요청을 거부한다.</li><li><strong>Throttling</strong>: 요청 속도를 조절하여 제한에 도달했을 때 요청을 지연시키거나 대기열에 넣는다.</li></ul><p>하지만 실무에서는 이 두 용어가 종종 혼용되어 사용된다.</p><h4 id=rate-limiting이-필요한-이유>Rate Limiting이 필요한 이유<a hidden class=anchor aria-hidden=true href=#rate-limiting이-필요한-이유>#</a></h4><ol><li><p>시스템 안정성 보장<br>과도한 요청은 서버 과부하를 일으켜 전체 시스템의 성능 저하나 장애를 유발할 수 있다. Rate Limiting은 이러한 위험을 방지한다.</p></li><li><p>비용 절감 및 자원 관리<br>API 호출에는 서버 처리 시간, 네트워크 대역폭, 데이터베이스 쿼리 등 비용이 발생한다. Rate Limiting은 이러한 자원 소비를 예측 가능한 수준으로 유지한다.</p></li><li><p>보안 강화<br>Rate Limiting은 무차별 대입 공격(Brute Force Attack), 서비스 거부 공격(DDoS), 자격 증명 스터핑(Credential Stuffing) 등의 공격을 감지하고 방어하는 데 도움이 된다.</p></li><li><p>공정한 사용 보장<br>특정 사용자나 클라이언트가 API 자원을 독점하는 것을 방지하여 모든 사용자가 적절한 서비스 품질을 경험할 수 있도록 한다.</p></li></ol><h3 id=사용-사례-및-적용-분야>사용 사례 및 적용 분야<a hidden class=anchor aria-hidden=true href=#사용-사례-및-적용-분야>#</a></h3><h4 id=rate-limiting-사용-사례>Rate Limiting 사용 사례<a hidden class=anchor aria-hidden=true href=#rate-limiting-사용-사례>#</a></h4><ol><li><strong>API 보호</strong>: 남용 및 DoS 공격으로부터 API를 보호한다.</li><li><strong>공정한 사용 보장</strong>: 모든 사용자가 공정하게 리소스에 접근할 수 있도록 한다.</li><li><strong>비용 관리</strong>: 서드파티 API 사용 비용을 제한한다.</li><li><strong>계층화된 서비스 제공</strong>: 유료 및 무료 서비스 등급에 따라 다른 제한을 적용한다.</li><li><strong>봇 및 크롤러 제한</strong>: 과도한 웹 크롤링을 방지한다.</li></ol><h5 id=실제-사례-연구>실제 사례 연구<a hidden class=anchor aria-hidden=true href=#실제-사례-연구>#</a></h5><h6 id=github-api>GitHub API<a hidden class=anchor aria-hidden=true href=#github-api>#</a></h6><p>GitHub API는 다양한 수준의 Rate Limiting을 구현한다:</p><ul><li>인증되지 않은 요청: 시간당 60회</li><li>인증된 요청: 시간당 5,000회</li><li>그래프 API: 시간당 5,000점 (쿼리 복잡성에 따른 포인트 시스템)</li></ul><p>이 계층화된 접근 방식은 서비스의 안정성을 유지하면서도 다양한 사용자 요구를 수용한다.</p><h6 id=twitter-api>Twitter API<a hidden class=anchor aria-hidden=true href=#twitter-api>#</a></h6><p>Twitter는 앱별, 사용자별, 엔드포인트별로 세분화된 Rate Limiting을 적용한다:</p><ul><li>일부 엔드포인트: 15분당 15-450회(등급에 따라 다름)</li><li>스트리밍 API: 실시간 데이터에 대한 별도 제한</li><li>검색 API: 15분당 180-450회</li></ul><p>이를 통해 플랫폼 부하를 관리하면서도 다양한 사용 사례를 지원한다.</p><h4 id=throttling-사용-사례>Throttling 사용 사례<a hidden class=anchor aria-hidden=true href=#throttling-사용-사례>#</a></h4><ol><li><strong>네트워크 트래픽 관리</strong>: 네트워크 대역폭을 효율적으로 사용한다.</li><li><strong>데이터베이스 부하 분산</strong>: 데이터베이스에 대한 동시 쿼리 수를 제한한다.</li><li><strong>배치 처리 최적화</strong>: 대량 작업의 처리 속도를 조절한다.</li><li><strong>백그라운드 작업 관리</strong>: 시스템 리소스를 효율적으로 사용하도록 작업 처리 속도를 조절한다.</li><li><strong>서비스 품질 보장</strong>: 높은 부하 상황에서도 일정 수준의 서비스 품질을 보장한다.</li></ol><p><strong>사례 연구</strong>: AWS S3는 초당 요청 수를 자동으로 조절(throttle)하여 서비스의 안정성을 보장한다. 갑작스러운 요청 증가 시 &lsquo;503 Slow Down&rsquo; 오류를 반환하면서 클라이언트에게 요청 속도를 줄이라는 신호를 보낸다.</p><h3 id=구현-시-고려사항>구현 시 고려사항<a hidden class=anchor aria-hidden=true href=#구현-시-고려사항>#</a></h3><h4 id=rate-limiting-구현-시-고려사항>Rate Limiting 구현 시 고려사항<a hidden class=anchor aria-hidden=true href=#rate-limiting-구현-시-고려사항>#</a></h4><ol><li><strong>분산 시스템에서의 동기화</strong>: 여러 서버 간 Rate Limit 정보를 공유해야 한다.</li><li><strong>저장소 선택</strong>: Redis와 같은 인메모리 데이터 저장소가 자주 사용된다.</li><li><strong>정교한 식별자 선택</strong>: IP, 사용자 ID, API 키 등 적절한 식별자를 선택해야 한다.</li><li><strong>정책 결정</strong>: 제한 초과 시 요청 거부, 대기열 추가, 또는 우선순위 낮추기 등의 정책이 필요하다.</li><li><strong>클라이언트 알림</strong>: HTTP 429 상태 코드 및 X-RateLimit-* 헤더를 통해 클라이언트에게 제한 상태를 알린다.</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3>3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4>4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5>5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6>6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>HTTP/1.1 429 Too Many Requests
</span></span><span class=line><span class=cl>Content-Type: application/json
</span></span><span class=line><span class=cl>X-RateLimit-Limit: 100
</span></span><span class=line><span class=cl>X-RateLimit-Remaining: 0
</span></span><span class=line><span class=cl>X-RateLimit-Reset: 1612816120
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{&#34;error&#34;: &#34;Rate limit exceeded. Try again in 60 seconds.&#34;}
</span></span></code></pre></td></tr></table></div></div><h4 id=throttling-구현-시-고려사항>Throttling 구현 시 고려사항<a hidden class=anchor aria-hidden=true href=#throttling-구현-시-고려사항>#</a></h4><ol><li><strong>병목 지점 식별</strong>: 시스템의 어떤 부분이 병목 현상을 일으키는지 파악해야 한다.</li><li><strong>적절한 조절 속도 선택</strong>: 너무 낮으면 시스템 활용도가 떨어지고, 너무 높으면 효과가 없다.</li><li><strong>대기열 관리</strong>: 조절된 요청을 저장할 적절한 대기열 메커니즘이 필요하다.</li><li><strong>타임아웃 처리</strong>: 오래된 요청은 타임아웃 처리해야 한다.</li><li><strong>모니터링 및 조정</strong>: 시스템 성능을 모니터링하고 조절 매개변수를 동적으로 조정해야 한다.</li></ol><h3 id=장단점-비교>장단점 비교<a hidden class=anchor aria-hidden=true href=#장단점-비교>#</a></h3><h4 id=rate-limiting의-장단점>Rate Limiting의 장단점<a hidden class=anchor aria-hidden=true href=#rate-limiting의-장단점>#</a></h4><p><strong>장점</strong>:</p><ul><li>시스템 과부하 방지</li><li>API 남용 및 악의적인 공격 차단</li><li>비용 제어 (특히 유료 API 사용 시)</li><li>공정한 리소스 분배</li><li>비즈니스 모델 지원 (무료/유료 티어 구분)</li></ul><p><strong>단점</strong>:</p><ul><li>정당한 트래픽 급증 시 사용자 경험 저하</li><li>분산 환경에서 구현 복잡성</li><li>적절한 한도 설정의 어려움</li><li>클라이언트 측 처리 로직 필요</li></ul><h4 id=throttling의-장단점>Throttling의 장단점<a hidden class=anchor aria-hidden=true href=#throttling의-장단점>#</a></h4><p><strong>장점</strong>:</p><ul><li>시스템 리소스의 균일한 사용</li><li>예측 가능한 성능 제공</li><li>버스트 트래픽 처리 능력</li><li>백그라운드 처리 최적화</li><li>시스템 안정성 향상</li></ul><p><strong>단점</strong>:</p><ul><li>지연 시간 증가</li><li>대기열 관리의 오버헤드</li><li>복잡한 구현이 필요할 수 있음</li><li>동적 조절의 어려움</li></ul><h3 id=rate-limiting과-throttling-함께-사용하기>Rate Limiting과 Throttling 함께 사용하기<a hidden class=anchor aria-hidden=true href=#rate-limiting과-throttling-함께-사용하기>#</a></h3><p>실제 시스템에서는 종종 Rate Limiting과 Throttling을 함께 사용하여 더 강력한 트래픽 관리 솔루션을 구축한다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span><span class=lnt id=hl-3-12><a class=lnlinks href=#hl-3-12>12</a>
</span><span class=lnt id=hl-3-13><a class=lnlinks href=#hl-3-13>13</a>
</span><span class=lnt id=hl-3-14><a class=lnlinks href=#hl-3-14>14</a>
</span><span class=lnt id=hl-3-15><a class=lnlinks href=#hl-3-15>15</a>
</span><span class=lnt id=hl-3-16><a class=lnlinks href=#hl-3-16>16</a>
</span><span class=lnt id=hl-3-17><a class=lnlinks href=#hl-3-17>17</a>
</span><span class=lnt id=hl-3-18><a class=lnlinks href=#hl-3-18>18</a>
</span><span class=lnt id=hl-3-19><a class=lnlinks href=#hl-3-19>19</a>
</span><span class=lnt id=hl-3-20><a class=lnlinks href=#hl-3-20>20</a>
</span><span class=lnt id=hl-3-21><a class=lnlinks href=#hl-3-21>21</a>
</span><span class=lnt id=hl-3-22><a class=lnlinks href=#hl-3-22>22</a>
</span><span class=lnt id=hl-3-23><a class=lnlinks href=#hl-3-23>23</a>
</span><span class=lnt id=hl-3-24><a class=lnlinks href=#hl-3-24>24</a>
</span><span class=lnt id=hl-3-25><a class=lnlinks href=#hl-3-25>25</a>
</span><span class=lnt id=hl-3-26><a class=lnlinks href=#hl-3-26>26</a>
</span><span class=lnt id=hl-3-27><a class=lnlinks href=#hl-3-27>27</a>
</span><span class=lnt id=hl-3-28><a class=lnlinks href=#hl-3-28>28</a>
</span><span class=lnt id=hl-3-29><a class=lnlinks href=#hl-3-29>29</a>
</span><span class=lnt id=hl-3-30><a class=lnlinks href=#hl-3-30>30</a>
</span><span class=lnt id=hl-3-31><a class=lnlinks href=#hl-3-31>31</a>
</span><span class=lnt id=hl-3-32><a class=lnlinks href=#hl-3-32>32</a>
</span><span class=lnt id=hl-3-33><a class=lnlinks href=#hl-3-33>33</a>
</span><span class=lnt id=hl-3-34><a class=lnlinks href=#hl-3-34>34</a>
</span><span class=lnt id=hl-3-35><a class=lnlinks href=#hl-3-35>35</a>
</span><span class=lnt id=hl-3-36><a class=lnlinks href=#hl-3-36>36</a>
</span><span class=lnt id=hl-3-37><a class=lnlinks href=#hl-3-37>37</a>
</span><span class=lnt id=hl-3-38><a class=lnlinks href=#hl-3-38>38</a>
</span><span class=lnt id=hl-3-39><a class=lnlinks href=#hl-3-39>39</a>
</span><span class=lnt id=hl-3-40><a class=lnlinks href=#hl-3-40>40</a>
</span><span class=lnt id=hl-3-41><a class=lnlinks href=#hl-3-41>41</a>
</span><span class=lnt id=hl-3-42><a class=lnlinks href=#hl-3-42>42</a>
</span><span class=lnt id=hl-3-43><a class=lnlinks href=#hl-3-43>43</a>
</span><span class=lnt id=hl-3-44><a class=lnlinks href=#hl-3-44>44</a>
</span><span class=lnt id=hl-3-45><a class=lnlinks href=#hl-3-45>45</a>
</span><span class=lnt id=hl-3-46><a class=lnlinks href=#hl-3-46>46</a>
</span><span class=lnt id=hl-3-47><a class=lnlinks href=#hl-3-47>47</a>
</span><span class=lnt id=hl-3-48><a class=lnlinks href=#hl-3-48>48</a>
</span><span class=lnt id=hl-3-49><a class=lnlinks href=#hl-3-49>49</a>
</span><span class=lnt id=hl-3-50><a class=lnlinks href=#hl-3-50>50</a>
</span><span class=lnt id=hl-3-51><a class=lnlinks href=#hl-3-51>51</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Rate Limiting과 Throttling을 함께 사용하는 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>rateLimits</span> <span class=o>=</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>requestQueue</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>RATE_LIMIT</span> <span class=o>=</span> <span class=mi>1000</span><span class=p>;</span> <span class=c1>// 사용자당 시간당 최대 요청 수
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>THROTTLE_RATE</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span> <span class=c1>// 초당 처리할 요청 수
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// Rate Limiting 체크
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>checkRateLimit</span><span class=p>(</span><span class=nx>userId</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>now</span> <span class=o>=</span> <span class=nb>Date</span><span class=p>.</span><span class=nx>now</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>hourStart</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nx>now</span> <span class=o>/</span> <span class=mi>3600000</span><span class=p>)</span> <span class=o>*</span> <span class=mi>3600000</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>rateLimits</span><span class=p>[</span><span class=nx>userId</span><span class=p>]</span> <span class=o>||</span> <span class=nx>rateLimits</span><span class=p>[</span><span class=nx>userId</span><span class=p>].</span><span class=nx>hourStart</span> <span class=o>!==</span> <span class=nx>hourStart</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>rateLimits</span><span class=p>[</span><span class=nx>userId</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>hourStart</span><span class=p>,</span> <span class=nx>count</span><span class=o>:</span> <span class=mi>0</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>rateLimits</span><span class=p>[</span><span class=nx>userId</span><span class=p>].</span><span class=nx>count</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>rateLimits</span><span class=p>[</span><span class=nx>userId</span><span class=p>].</span><span class=nx>count</span> <span class=o>&lt;=</span> <span class=nx>RATE_LIMIT</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 요청 처리 함수
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>app</span><span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=s1>&#39;/api/resource&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>userId</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>user</span><span class=p>.</span><span class=nx>id</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// Rate Limiting 적용
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>checkRateLimit</span><span class=p>(</span><span class=nx>userId</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>429</span><span class=p>).</span><span class=nx>send</span><span class=p>(</span><span class=s1>&#39;Rate limit exceeded&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 요청을 대기열에 추가
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>requestQueue</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=nx>userId</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>data</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>res</span><span class=o>:</span> <span class=nx>res</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Throttling을 통한 요청 처리
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>setInterval</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>batchSize</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>min</span><span class=p>(</span><span class=nx>THROTTLE_RATE</span><span class=p>,</span> <span class=nx>requestQueue</span><span class=p>.</span><span class=nx>length</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>batchSize</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>request</span> <span class=o>=</span> <span class=nx>requestQueue</span><span class=p>.</span><span class=nx>shift</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>processRequest</span><span class=p>(</span><span class=nx>request</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=mi>1000</span><span class=p>);</span> <span class=c1>// 1초마다 실행
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>processRequest</span><span class=p>(</span><span class=nx>request</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 실제 요청 처리 로직
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>processData</span><span class=p>(</span><span class=nx>request</span><span class=p>.</span><span class=nx>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>request</span><span class=p>.</span><span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=rate-limiting과-throttling-비교>Rate Limiting과 Throttling 비교<a hidden class=anchor aria-hidden=true href=#rate-limiting과-throttling-비교>#</a></h3><table><thead><tr><th>특성</th><th>Rate Limiting</th><th>Throttling</th></tr></thead><tbody><tr><td><strong>주요 목적</strong></td><td>특정 시간 내 허용되는 요청 수를 제한</td><td>요청 처리 속도를 균일하게 조절</td></tr><tr><td><strong>행동 방식</strong></td><td>제한 초과 시 요청 거부(HTTP 429)</td><td>제한 초과 시 요청 지연 또는 대기열에 추가</td></tr><tr><td><strong>보호 대상</strong></td><td>시스템 남용, DoS 공격, 비용 제어</td><td>시스템 리소스, 처리 성능</td></tr><tr><td><strong>시간 범위</strong></td><td>분, 시간, 일 단위의 긴 시간 범위</td><td>밀리초, 초 단위의 짧은 시간 범위</td></tr><tr><td><strong>구현 방식</strong></td><td>고정/슬라이딩 윈도우, 토큰 버킷</td><td>고정 속도 제어, 지연 기반, 적응형 조절</td></tr><tr><td><strong>저장소 요구사항</strong></td><td>카운터 및 타임스탬프 저장 필요</td><td>대기열 관리 시스템 필요</td></tr><tr><td><strong>클라이언트 영향</strong></td><td>거부된 요청에 대응해야 함</td><td>응답 지연 처리 필요</td></tr><tr><td><strong>사용 사례</strong></td><td>API 보호, 공정한</td><td></td></tr><tr><td>사용 보장, 티어드 서비스</td><td>네트워크 트래픽, 배치 처리, 백그라운드 작업</td><td></td></tr><tr><td><strong>장점</strong></td><td>남용 방지, 비용 제어, 리소스 보호</td><td>균일한 처리, 예측 가능한 성능, 버스트 처리</td></tr><tr><td><strong>단점</strong></td><td>합법적 트래픽 거부, 구현 복잡성</td><td>지연 발생, 대기열 관리 오버헤드</td></tr><tr><td><strong>HTTP 상태 코드</strong></td><td>429 Too Many Requests</td><td>일반적으로 지연 후 200 OK 또는 503 Service Unavailable</td></tr><tr><td><strong>대표적 알고리즘</strong></td><td>고정 윈도우, 슬라이딩 윈도우, 토큰 버킷</td><td>리키 버킷, 고정 속도 제어, 적응형 조절</td></tr><tr><td><strong>적용 계층</strong></td><td>API 게이트웨이, 애플리케이션 서버</td><td>데이터베이스, 백엔드 서비스, 배치 처리기</td></tr><tr><td><strong>확장성 고려사항</strong></td><td>분산 시스템에서 카운터 동기화</td><td>분산 대기열 관리</td></tr><tr><td><strong>모니터링 지표</strong></td><td>거부된 요청 수, 제한 도달 빈도</td><td>평균 처리 시간, 대기열 길이, 지연 시간</td></tr></tbody></table><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Throttling</h2></header><div class=entry-content><p>Throttling API Throttling은 API 성능과 가용성을 최적화하기 위한 중요한 트래픽 관리 기법이다. 이는 시스템 자원을 보호하고 서비스의 안정성을 유지하는 데 핵심적인 역할을 한다.
API Throttling의 기본 개념 API Throttling은 시스템이 처리할 수 있는 요청의 양을 제어하는 메커니즘이다. 이는 Rate Limiting과 유사하지만 약간의 차이가 있다. Rate Limiting이 주로 요청을 ‘거부’하는 데 중점을 둔다면, Throttling은 요청의 ‘처리 속도’를 조절하는 데 초점을 맞춘다.
쉽게 말해, Throttling은 트래픽이 과도하게 몰릴 때 시스템이 완전히 중단되거나 요청을 거부하는 대신, 요청 처리 속도를 늦추거나 대기열에 넣어 점진적으로 처리하는 방식이다.
...</p></div><footer class=entry-footer><span title='2025-03-09 16:28:00 +0000 UTC'>March 9, 2025</span>&nbsp;·&nbsp;18 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Throttling" href=https://buenhyden.github.io/posts/backend/performance-optimization/rate-limiting-and-throttling/throttling/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Rate Limiting</h2></header><div class=entry-content><p>Rate Limiting API Rate Limiting은 시스템의 안정성과 보안을 유지하면서 공정한 리소스 분배를 보장하는 핵심 메커니즘이다.
Rate Limiting은 특정 시간 간격 동안 API에 대한 요청 수를 제한하는 기술이다. 쉽게 말해, 사용자나 클라이언트가 특정 시간 동안 보낼 수 있는 요청의 횟수에 상한선을 두는 것이다.
예를 들어, “1분당 최대 60회 요청” 또는 “1시간당 1000회 요청"과 같은 제한을 설정할 수 있다. 이러한 제한을 초과하면 API는 일반적으로 HTTP 429 상태 코드(“Too Many Requests”)를 반환하며 요청을 거부한다.
...</p></div><footer class=entry-footer><span title='2025-02-14 01:27:00 +0000 UTC'>February 14, 2025</span>&nbsp;·&nbsp;13 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Rate Limiting" href=https://buenhyden.github.io/posts/backend/performance-optimization/rate-limiting-and-throttling/rate-limiting/></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>