<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Sender Policy Framework (SPF) | hyunyoun's Blog</title><meta name=keywords content="Networking-Knowledge,Network-Protocols,Application-Layer-Protocols,Email,Security"><meta name=description content="SPF(Sender Policy Framework)는 이메일 스푸핑과 스팸을 방지하기 위해 설계된 이메일 인증 방법으로 이메일 도메인 소유자가 어떤 메일 서버가 해당 도메인에서 이메일을 보낼 수 있는 권한이 있는지 지정할 수 있게 해주는 중요한 보안 메커니즘이다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/networking--protocols/core-protocols/application-protocols/email-protocols/email-security/spf/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/networking--protocols/core-protocols/application-protocols/email-protocols/email-security/spf/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/networking--protocols/core-protocols/application-protocols/email-protocols/email-security/spf/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Sender Policy Framework (SPF)"><meta property="og:description" content="SPF(Sender Policy Framework)는 이메일 스푸핑과 스팸을 방지하기 위해 설계된 이메일 인증 방법으로 이메일 도메인 소유자가 어떤 메일 서버가 해당 도메인에서 이메일을 보낼 수 있는 권한이 있는지 지정할 수 있게 해주는 중요한 보안 메커니즘이다."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-14T03:24:00+00:00"><meta property="article:modified_time" content="2024-12-14T03:24:00+00:00"><meta property="article:tag" content="Networking-Knowledge"><meta property="article:tag" content="Network-Protocols"><meta property="article:tag" content="Application-Layer-Protocols"><meta property="article:tag" content="Email"><meta property="article:tag" content="Security"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Sender Policy Framework (SPF)"><meta name=twitter:description content="SPF(Sender Policy Framework)는 이메일 스푸핑과 스팸을 방지하기 위해 설계된 이메일 인증 방법으로 이메일 도메인 소유자가 어떤 메일 서버가 해당 도메인에서 이메일을 보낼 수 있는 권한이 있는지 지정할 수 있게 해주는 중요한 보안 메커니즘이다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"HY's Blog","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":7,"name":"Sender Policy Framework (SPF)","item":"https://buenhyden.github.io/posts/networking--protocols/core-protocols/application-protocols/email-protocols/email-security/spf/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Sender Policy Framework (SPF)","name":"Sender Policy Framework (SPF)","description":"SPF(Sender Policy Framework)는 이메일 스푸핑과 스팸을 방지하기 위해 설계된 이메일 인증 방법으로 이메일 도메인 소유자가 어떤 메일 서버가 해당 도메인에서 이메일을 보낼 수 있는 권한이 있는지 지정할 수 있게 해주는 중요한 보안 메커니즘이다.","keywords":["Networking-Knowledge","Network-Protocols","Application-Layer-Protocols","Email","Security"],"articleBody":"Sender Policy Framework (SPF) SPF(Sender Policy Framework)는 이메일 스푸핑과 스팸을 방지하기 위해 설계된 이메일 인증 방법이다. 이메일 도메인 소유자가 어떤 메일 서버가 해당 도메인에서 이메일을 보낼 수 있는 권한이 있는지 지정할 수 있게 해주는 중요한 보안 메커니즘이다.\nSPF의 기본 개념 SPF는 DNS(Domain Name System) TXT 레코드를 통해 구현된다.\n도메인 소유자는 DNS에 특별한 TXT 레코드를 추가하여 해당 도메인에서 이메일을 보낼 수 있는 권한이 있는 메일 서버의 IP 주소 목록을 지정한다.\n이메일을 받는 서버는 발신자의 도메인에 대한 SPF 레코드를 확인하고, 이메일이 실제로 권한이 있는 서버에서 왔는지 검증한다. 이 과정을 통해 누군가가 여러분의 도메인을 사칭하여 이메일을 보내는 것을 방지할 수 있다.\nSPF 작동 방식 도메인 소유자가 SPF 레코드 설정: 도메인 소유자는 DNS에 TXT 레코드 형태로 SPF 정책을 게시한다. 이메일 전송: 발신자가 이메일을 보낸다. 수신 서버의 확인 과정: 수신 서버는 이메일 헤더에서 “MAIL FROM” 도메인을 확인한다. 해당 도메인의 DNS 레코드에서 SPF 정보를 조회한다. 이메일을 보낸 서버의 IP 주소가 SPF 레코드에 나열된 허용된 IP 주소 중 하나인지 확인한다. 결과 처리: 검증 결과에 따라 수신 서버는 이메일을 배달하거나, 스팸으로 표시하거나, 거부할 수 있다. SPF 레코드 구조 SPF 레코드는 일반적으로 다음과 같은 형식을 가진다:\n1 v=spf1 [메커니즘] [제한자] [all] v=spf1: SPF 버전을 나타낸다 (현재 버전 1). 메커니즘: 도메인에서 메일을 보낼 수 있는 호스트를 지정한다 (예: ip4, ip6, a, mx, include 등). 제한자: 각 메커니즘 앞에 올 수 있으며, 결과를 지정한다: +: Pass (기본값) -: Fail ~: SoftFail ?: Neutral all: 모든 다른 메커니즘이 일치하지 않을 때 사용되는 기본 정책이다. SPF 레코드 예시 1 v=spf1 ip4:192.168.0.1/16 mx include:thirdparty.com -all 이 예시는 다음을 의미한다:\n192.168.0.1/16 IP 범위에서 오는 이메일 허용 도메인의 MX 레코드에 나열된 메일 서버에서 오는 이메일 허용 thirdparty.com의 SPF 레코드에 나열된 서버에서 오는 이메일 허용 위 조건에 맞지 않는 모든 다른 서버에서 오는 이메일 거부 (-all) 주요 SPF 메커니즘 ip4: IPv4 주소나 범위를 지정\n1 ip4:192.0.2.0/24 ip6: IPv6 주소나 범위를 지정\n1 ip6:2001:db8::/32 a: 도메인 또는 하위 도메인의 A 레코드를 지정\n1 a:mail.example.com mx: 도메인의 MX 레코드에 나열된 메일 서버를 지정\n1 mx include: 다른 도메인의 SPF 레코드를 포함\n1 include:_spf.google.com all: 모든 다른 주소에 적용되는 기본 정책\n1 -all (권장), ~all, ?all, +all SPF 구현의 중요성 피싱 방지: 해커가 여러분의 도메인을 사칭하여 피싱 이메일을 보내는 것을 방지한다. 스팸 감소: 제대로 구성된 SPF는 수신자의 스팸 필터가 합법적인 이메일과 스팸을 구분하는 데 도움을 준다. 이메일 전달률 향상: 많은 이메일 제공업체가 SPF를 확인하므로, 올바른 SPF 설정은 여러분의 이메일이 받는 사람의 받은 편지함에 도달할 가능성을 높인다. 평판 보호: 도메인 평판을 보호하여 마케팅 및 비즈니스 이메일의 효과를 유지한다. SPF의 한계 전달된 이메일: 이메일이 전달될 때 SPF 검사가 실패할 수 있다. 10개의 DNS 조회 제한: SPF 표준은 10개 이상의 DNS 조회를 허용하지 않는다. 단독으로는 불완전함: 완전한 이메일 인증을 위해서는 DKIM 및 DMARC와 함께 사용하는 것이 권장된다. SPF와 함께 사용할 수 있는 다른 이메일 인증 방법 DKIM(DomainKeys Identified Mail): 디지털 서명을 사용하여 이메일 내용이 전송 중에 변경되지 않았는지 확인한다. DMARC(Domain-based Message Authentication, Reporting, and Conformance): SPF와 DKIM을 기반으로 이메일 인증 정책을 설정하고, 실패한 인증에 대한 보고서를 제공한다. SPF 레코드 테스트 및 확인 SPF 레코드를 구현한 후에는 다음 도구를 사용하여 확인할 수 있다:\n명령줄 도구:\n1 dig TXT example.com 온라인 SPF 확인 도구: MXToolbox, DMARCIAN, Google Admin Toolbox 등의 다양한 온라인 도구가 있다.\n성공적인 SPF 구현을 위한 모범 사례 가능한 한 구체적으로 지정: 필요한 서버만 허용하고 -all로 끝내는 것이 좋다. 정기적으로 업데이트: 메일 서버 인프라가 변경될 때마다 SPF 레코드를 업데이트한다. 너무 복잡하게 만들지 않기: 10개 이상의 DNS 조회를 유발하지 않도록 주의한다. DKIM 및 DMARC와 함께 사용: 최상의 보호를 위해 이러한 기술을 함께 구현한다. 테스트 후 배포: 프로덕션 환경에 적용하기 전에 SPF 변경 사항을 테스트한다. 용어 정리 용어 설명 이메일 스푸핑(Email Spoofing) 공격자가 이메일 발신자를 위조하여, 마치 신뢰할 수 있는 발신자로부터 온 것처럼 속이는 공격 기법으로, 주로 피싱(Phishing), 사기(Scam), 악성 코드(Malware) 유포 등에 활용된다. 스팸(Spam) 수신자의 동의 없이 대량으로 전송되는 원치 않는 이메일을 의미한다. 주로 광고, 사기, 악성 코드 유포 등의 목적으로 사용된다. TXT 레코드 DNS 영역 파일에 존재하는 텍스트 형식의 레코드로, 도메인에 대한 다양한 정보를 저장한다. 따옴표로 묶인 하나 이상의 문자열 형태로 저장되며, 최대 255자까지 가능하다. 이메일 스팸 방지(SPF, DKIM, DMARC 등의 정책 설정), 도메인 소유권 확인, 도메인 관련 일반 정보 제공 등의 용도로 사용된다. 참고 및 출처 ","wordCount":"664","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-12-14T03:24:00Z","dateModified":"2024-12-14T03:24:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/networking--protocols/core-protocols/application-protocols/email-protocols/email-security/spf/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>HY's Blog</a></div><h1 class="post-title entry-hint-parent">Sender Policy Framework (SPF)</h1><div class=post-description>SPF(Sender Policy Framework)는 이메일 스푸핑과 스팸을 방지하기 위해 설계된 이메일 인증 방법으로 이메일 도메인 소유자가 어떤 메일 서버가 해당 도메인에서 이메일을 보낼 수 있는 권한이 있는지 지정할 수 있게 해주는 중요한 보안 메커니즘이다.</div><div class=post-meta><span title='2024-12-14 03:24:00 +0000 UTC'>December 14, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Networking%20&%20Protocols/Core%20Protocols/Application%20Protocols/Email%20Protocols/Email%20Security/spf.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#sender-policy-framework-spf>Sender Policy Framework (SPF)</a><ul><li><a href=#spf의-기본-개념>SPF의 기본 개념</a></li><li><a href=#spf-작동-방식>SPF 작동 방식</a></li><li><a href=#spf-레코드-구조>SPF 레코드 구조</a></li><li><a href=#spf-레코드-예시>SPF 레코드 예시</a></li><li><a href=#주요-spf-메커니즘>주요 SPF 메커니즘</a></li><li><a href=#spf-구현의-중요성>SPF 구현의 중요성</a></li><li><a href=#spf의-한계>SPF의 한계</a></li><li><a href=#spf와-함께-사용할-수-있는-다른-이메일-인증-방법>SPF와 함께 사용할 수 있는 다른 이메일 인증 방법</a></li><li><a href=#spf-레코드-테스트-및-확인>SPF 레코드 테스트 및 확인</a></li><li><a href=#성공적인-spf-구현을-위한-모범-사례>성공적인 SPF 구현을 위한 모범 사례</a></li></ul></li><li><a href=#용어-정리>용어 정리</a></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=sender-policy-framework-spf>Sender Policy Framework (SPF)<a hidden class=anchor aria-hidden=true href=#sender-policy-framework-spf>#</a></h2><p>SPF(Sender Policy Framework)는 이메일 스푸핑과 스팸을 방지하기 위해 설계된 이메일 인증 방법이다. 이메일 도메인 소유자가 어떤 메일 서버가 해당 도메인에서 이메일을 보낼 수 있는 권한이 있는지 지정할 수 있게 해주는 중요한 보안 메커니즘이다.</p><h3 id=spf의-기본-개념>SPF의 기본 개념<a hidden class=anchor aria-hidden=true href=#spf의-기본-개념>#</a></h3><p>SPF는 DNS(Domain Name System) TXT 레코드를 통해 구현된다.<br>도메인 소유자는 DNS에 특별한 TXT 레코드를 추가하여 해당 도메인에서 이메일을 보낼 수 있는 권한이 있는 메일 서버의 IP 주소 목록을 지정한다.</p><p>이메일을 받는 서버는 발신자의 도메인에 대한 SPF 레코드를 확인하고, 이메일이 실제로 권한이 있는 서버에서 왔는지 검증한다. 이 과정을 통해 누군가가 여러분의 도메인을 사칭하여 이메일을 보내는 것을 방지할 수 있다.</p><h3 id=spf-작동-방식>SPF 작동 방식<a hidden class=anchor aria-hidden=true href=#spf-작동-방식>#</a></h3><ol><li><strong>도메인 소유자가 SPF 레코드 설정</strong>: 도메인 소유자는 DNS에 TXT 레코드 형태로 SPF 정책을 게시한다.</li><li><strong>이메일 전송</strong>: 발신자가 이메일을 보낸다.</li><li><strong>수신 서버의 확인 과정</strong>:<ul><li>수신 서버는 이메일 헤더에서 &ldquo;MAIL FROM&rdquo; 도메인을 확인한다.</li><li>해당 도메인의 DNS 레코드에서 SPF 정보를 조회한다.</li><li>이메일을 보낸 서버의 IP 주소가 SPF 레코드에 나열된 허용된 IP 주소 중 하나인지 확인한다.</li></ul></li><li><strong>결과 처리</strong>: 검증 결과에 따라 수신 서버는 이메일을 배달하거나, 스팸으로 표시하거나, 거부할 수 있다.</li></ol><h3 id=spf-레코드-구조>SPF 레코드 구조<a hidden class=anchor aria-hidden=true href=#spf-레코드-구조>#</a></h3><p>SPF 레코드는 일반적으로 다음과 같은 형식을 가진다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>v=spf1 [메커니즘] [제한자] [all]
</span></span></code></pre></td></tr></table></div></div><ul><li><strong>v=spf1</strong>: SPF 버전을 나타낸다 (현재 버전 1).</li><li><strong>메커니즘</strong>: 도메인에서 메일을 보낼 수 있는 호스트를 지정한다 (예: ip4, ip6, a, mx, include 등).</li><li><strong>제한자</strong>: 각 메커니즘 앞에 올 수 있으며, 결과를 지정한다:<ul><li><code>+</code>: Pass (기본값)</li><li><code>-</code>: Fail</li><li><code>~</code>: SoftFail</li><li><code>?</code>: Neutral</li></ul></li><li><strong>all</strong>: 모든 다른 메커니즘이 일치하지 않을 때 사용되는 기본 정책이다.</li></ul><h3 id=spf-레코드-예시>SPF 레코드 예시<a hidden class=anchor aria-hidden=true href=#spf-레코드-예시>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>v=spf1 ip4:192.168.0.1/16 mx include:thirdparty.com -all
</span></span></code></pre></td></tr></table></div></div><p>이 예시는 다음을 의미한다:</p><ul><li>192.168.0.1/16 IP 범위에서 오는 이메일 허용</li><li>도메인의 MX 레코드에 나열된 메일 서버에서 오는 이메일 허용</li><li>thirdparty.com의 SPF 레코드에 나열된 서버에서 오는 이메일 허용</li><li>위 조건에 맞지 않는 모든 다른 서버에서 오는 이메일 거부 (-all)</li></ul><h3 id=주요-spf-메커니즘>주요 SPF 메커니즘<a hidden class=anchor aria-hidden=true href=#주요-spf-메커니즘>#</a></h3><ol><li><p><strong>ip4</strong>: IPv4 주소나 범위를 지정</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>ip4:192.0.2.0/24
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>ip6</strong>: IPv6 주소나 범위를 지정</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>ip6:2001:db8::/32
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>a</strong>: 도메인 또는 하위 도메인의 A 레코드를 지정</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>a:mail.example.com
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>mx</strong>: 도메인의 MX 레코드에 나열된 메일 서버를 지정</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>mx
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>include</strong>: 다른 도메인의 SPF 레코드를 포함</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>include:_spf.google.com
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>all</strong>: 모든 다른 주소에 적용되는 기본 정책</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>-all (권장), ~all, ?all, +all
</span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=spf-구현의-중요성>SPF 구현의 중요성<a hidden class=anchor aria-hidden=true href=#spf-구현의-중요성>#</a></h3><ol><li><strong>피싱 방지</strong>: 해커가 여러분의 도메인을 사칭하여 피싱 이메일을 보내는 것을 방지한다.</li><li><strong>스팸 감소</strong>: 제대로 구성된 SPF는 수신자의 스팸 필터가 합법적인 이메일과 스팸을 구분하는 데 도움을 준다.</li><li><strong>이메일 전달률 향상</strong>: 많은 이메일 제공업체가 SPF를 확인하므로, 올바른 SPF 설정은 여러분의 이메일이 받는 사람의 받은 편지함에 도달할 가능성을 높인다.</li><li><strong>평판 보호</strong>: 도메인 평판을 보호하여 마케팅 및 비즈니스 이메일의 효과를 유지한다.</li></ol><h3 id=spf의-한계>SPF의 한계<a hidden class=anchor aria-hidden=true href=#spf의-한계>#</a></h3><ol><li><strong>전달된 이메일</strong>: 이메일이 전달될 때 SPF 검사가 실패할 수 있다.</li><li><strong>10개의 DNS 조회 제한</strong>: SPF 표준은 10개 이상의 DNS 조회를 허용하지 않는다.</li><li><strong>단독으로는 불완전함</strong>: 완전한 이메일 인증을 위해서는 DKIM 및 DMARC와 함께 사용하는 것이 권장된다.</li></ol><h3 id=spf와-함께-사용할-수-있는-다른-이메일-인증-방법>SPF와 함께 사용할 수 있는 다른 이메일 인증 방법<a hidden class=anchor aria-hidden=true href=#spf와-함께-사용할-수-있는-다른-이메일-인증-방법>#</a></h3><ol><li><strong>DKIM(DomainKeys Identified Mail)</strong>: 디지털 서명을 사용하여 이메일 내용이 전송 중에 변경되지 않았는지 확인한다.</li><li><strong>DMARC(Domain-based Message Authentication, Reporting, and Conformance)</strong>: SPF와 DKIM을 기반으로 이메일 인증 정책을 설정하고, 실패한 인증에 대한 보고서를 제공한다.</li></ol><h3 id=spf-레코드-테스트-및-확인>SPF 레코드 테스트 및 확인<a hidden class=anchor aria-hidden=true href=#spf-레코드-테스트-및-확인>#</a></h3><p>SPF 레코드를 구현한 후에는 다음 도구를 사용하여 확인할 수 있다:</p><ol><li><p><strong>명령줄 도구</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>dig TXT example.com
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>온라인 SPF 확인 도구</strong>: MXToolbox, DMARCIAN, Google Admin Toolbox 등의 다양한 온라인 도구가 있다.</p></li></ol><h3 id=성공적인-spf-구현을-위한-모범-사례>성공적인 SPF 구현을 위한 모범 사례<a hidden class=anchor aria-hidden=true href=#성공적인-spf-구현을-위한-모범-사례>#</a></h3><ol><li><strong>가능한 한 구체적으로 지정</strong>: 필요한 서버만 허용하고 <code>-all</code>로 끝내는 것이 좋다.</li><li><strong>정기적으로 업데이트</strong>: 메일 서버 인프라가 변경될 때마다 SPF 레코드를 업데이트한다.</li><li><strong>너무 복잡하게 만들지 않기</strong>: 10개 이상의 DNS 조회를 유발하지 않도록 주의한다.</li><li><strong>DKIM 및 DMARC와 함께 사용</strong>: 최상의 보호를 위해 이러한 기술을 함께 구현한다.</li><li><strong>테스트 후 배포</strong>: 프로덕션 환경에 적용하기 전에 SPF 변경 사항을 테스트한다.</li></ol><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>이메일 스푸핑(Email Spoofing)</td><td>공격자가 이메일 발신자를 위조하여, 마치 신뢰할 수 있는 발신자로부터 온 것처럼 속이는 공격 기법으로, 주로 피싱(Phishing), 사기(Scam), 악성 코드(Malware) 유포 등에 활용된다.</td></tr><tr><td>스팸(Spam)</td><td>수신자의 동의 없이 대량으로 전송되는 원치 않는 이메일을 의미한다. 주로 광고, 사기, 악성 코드 유포 등의 목적으로 사용된다.</td></tr><tr><td>TXT 레코드</td><td>DNS 영역 파일에 존재하는 텍스트 형식의 레코드로, 도메인에 대한 다양한 정보를 저장한다.  따옴표로 묶인 하나 이상의 문자열 형태로 저장되며, 최대 255자까지 가능하다. 이메일 스팸 방지(SPF, DKIM, DMARC 등의 정책 설정), 도메인 소유권 확인, 도메인 관련 일반 정보 제공 등의 용도로 사용된다.</td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/networking-knowledge/>Networking-Knowledge</a></li><li><a href=https://buenhyden.github.io/tags/network-protocols/>Network-Protocols</a></li><li><a href=https://buenhyden.github.io/tags/application-layer-protocols/>Application-Layer-Protocols</a></li><li><a href=https://buenhyden.github.io/tags/email/>Email</a></li><li><a href=https://buenhyden.github.io/tags/security/>Security</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/networking--protocols/core-protocols/application-protocols/email-protocols/email-security/domain-keys/><span class=title>« Prev</span><br><span>Domain Keys</span>
</a><a class=next href=https://buenhyden.github.io/posts/networking--protocols/core-protocols/application-protocols/email-protocols/email-security/white-listing-vs-grey-listing/><span class=title>Next »</span><br><span>이메일 필터링 방식: White Listing vs. Grey Listing</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>