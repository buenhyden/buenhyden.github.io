<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>OSI Model | hyunyoun's Blog</title><meta name=keywords content="Networking-and-Protocols,Network-Fundamentals,Basic-Concepts,Network-Models,OSI-Model,Interoperability,Protocol-Stack"><meta name=description content="OSI 7계층은 통신 기능을 물리→데이터링크→네트워크→전송→세션→표현→응용의 7단계로 분리한 개념적 참조모델(ISO/IEC 7498-1)이다. 계층별 캡슐화와 표준화로 상호운용성·문제추적·설계 기준을 제공하며, 실제 구현은 TCP/IP 모델과 혼재되어 사용된다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/networking--protocols/network-fundamentals/basic-concepts/network-models/osi-model/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.8762af4fa9ee176c57f72565b721f234162fc7a9c882a271e0a1f68c4e89fb34.css integrity="sha256-h2KvT6nuF2xX9yVltyHyNBYvx6nIgqJx4KH2jE6J+zQ=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/networking--protocols/network-fundamentals/basic-concepts/network-models/osi-model/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/networking--protocols/network-fundamentals/basic-concepts/network-models/osi-model/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/networking--protocols/network-fundamentals/basic-concepts/network-models/osi-model/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="OSI Model"><meta property="og:description" content="OSI 7계층은 통신 기능을 물리→데이터링크→네트워크→전송→세션→표현→응용의 7단계로 분리한 개념적 참조모델(ISO/IEC 7498-1)이다. 계층별 캡슐화와 표준화로 상호운용성·문제추적·설계 기준을 제공하며, 실제 구현은 TCP/IP 모델과 혼재되어 사용된다."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="OSI Model"><meta name=twitter:description content="OSI 7계층은 통신 기능을 물리→데이터링크→네트워크→전송→세션→표현→응용의 7단계로 분리한 개념적 참조모델(ISO/IEC 7498-1)이다. 계층별 캡슐화와 표준화로 상호운용성·문제추적·설계 기준을 제공하며, 실제 구현은 TCP/IP 모델과 혼재되어 사용된다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"HY's Blog","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":6,"name":"OSI Model","item":"https://buenhyden.github.io/posts/networking--protocols/network-fundamentals/basic-concepts/network-models/osi-model/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>HY's Blog</a></div><h1>OSI Model</h1><div class=post-description>OSI 7계층은 통신 기능을 물리→데이터링크→네트워크→전송→세션→표현→응용의 7단계로 분리한 개념적 참조모델(ISO/IEC 7498-1)이다. 계층별 캡슐화와 표준화로 상호운용성·문제추적·설계 기준을 제공하며, 실제 구현은 TCP/IP 모델과 혼재되어 사용된다.</div></header><div class=post-content><h2 id=osi-7-계층-open-systems-interconnection-reference-model>OSI 7 계층 (Open Systems Interconnection Reference Model)<a hidden class=anchor aria-hidden=true href=#osi-7-계층-open-systems-interconnection-reference-model>#</a></h2><h1 id=pre-header>Pre-Header<a hidden class=anchor aria-hidden=true href=#pre-header>#</a></h1><ul><li><strong>Topic</strong>: OSI 7계층(OSI Reference Model)</li><li><strong>Current Classification</strong>: Networking & Protocols > Network Fundamentals > Basic Concepts > Network Models</li><li><strong>Review (Input Adequacy Note)</strong>: 필수 입력 요건 충족(주제 길이/분류 깊이 OK). 추가 맥락·참조 URL 없음 → 표준 문헌과 공식 자료 중심으로 RF 수행.</li></ul><hr><h1 id=auto-header>Auto Header<a hidden class=anchor aria-hidden=true href=#auto-header>#</a></h1><p><strong>Summary</strong>
OSI 참조 모델은 개방형 시스템 간 상호접속을 위한 7계층 아키텍처와 서비스/프로토콜 분리를 정의한다. 계층별 책임, 서비스 프리미티브, SAP, PDU/SDU 개념을 통해 상호운용성과 모듈성을 달성한다. ([ISO][1])</p><p><strong>Overview</strong>
이 문서는 OSI 7계층의 원리(레이어링, 서비스/프로토콜 분리)와 실전적 적용(캡슐화·주소 지정·트러블슈팅)을 초급→중급→고급→핸즈온 흐름으로 정리한다. 또한 TCP/IP 실체와의 매핑, 계층 위반/최적화, QoS·혼잡제어 논점을 포함해 현대 네트워킹 맥락에서 OSI의 지식 지형을 체계화한다.
표준(ISO/IEC 7498-1, ITU-T X.200)과 운영체제/벤더 공식 문서, IETF RFC를 교차 인용하여 개념의 정확성과 실무 적합성을 확보한다. ([ISO][1])</p><p><strong>TTDM Manifest</strong></p><ul><li><strong>type_code</strong>: T-ARCH（아키텍처）</li><li><strong>confidence</strong>: 0.82</li><li><strong>s2_skeleton(★)</strong>: 레이어링 원칙 / 서비스 인터페이스와 계약(SAP·프리미티브) / 주소·이름 지정 / 크로스컷 품질속성</li><li><strong>s3_skeleton(†)</strong>: PDU 분류·오버헤드 / 멀티플렉싱·디멀티플렉싱 / QoS·혼잡제어 위치 / 프로토콜 매핑(TCP/IP·TLS·QUIC) / 계층 위반·최적화(오프로딩·미들박스)</li></ul><p><strong>Tags</strong>
<code>layering-principles</code>, <code>service-primitives</code>, <code>sap-and-addressing</code>, <code>pdu-taxonomy</code>, <code>qos-and-congestion</code>, <code>protocol-mapping</code></p><hr><h1 id=body>Body<a hidden class=anchor aria-hidden=true href=#body>#</a></h1><h2 id=s1-핵심-개념-정리-beginner>S1. 핵심 개념 정리 (Beginner)<a hidden class=anchor aria-hidden=true href=#s1-핵심-개념-정리-beginner>#</a></h2><h3 id=1-osi-7계층-한눈에-보기>1) OSI 7계층 한눈에 보기<a hidden class=anchor aria-hidden=true href=#1-osi-7계층-한눈에-보기>#</a></h3><p><strong>Overview</strong>
OSI는 물리~응용까지 7계층으로 기능을 분리해 상호운용성과 독립적 진화를 가능케 한다. 각 계층은 상위에 서비스 제공, 하위 서비스 활용을 원칙으로 한다. ([Cloudflare][2])</p><p><strong>Body</strong></p><ul><li>L1 물리: 비트 전송</li><li>L2 데이터링크: 프레이밍, 오류검출/교정, 링크 제어</li><li>L3 네트워크: 라우팅, IP 주소 지정</li><li>L4 전송: 종단 간 신뢰/흐름제어, 포트</li><li>L5 세션: 대화 제어, 동기화</li><li>L6 표현: 포맷/암호화/압축</li><li>L7 응용: 애플리케이션 서비스(HTTP 등)
운영체제 네트워크 스택은 보통 L1–L4를 드라이버/커널 모듈로 구현한다. ([Microsoft Learn][3])</li></ul><p><strong>Artifacts</strong></p><pre class=mermaid>flowchart TB
  L1[Physical]
  L2[Data Link]
  L3[Network]
  L4[Transport]
  L5[Session]
  L6[Presentation]
  L7[Application]
  L7 --&gt; L6 --&gt; L5 --&gt; L4 --&gt; L3 --&gt; L2 --&gt; L1
  L1 -.-&gt; L2 -.-&gt; L3 -.-&gt; L4 -.-&gt; L5 -.-&gt; L6 -.-&gt; L7
</pre><hr><h3 id=2-서비스프리미티브sappdusdupci>2) 서비스·프리미티브·SAP·PDU/SDU/PCI<a hidden class=anchor aria-hidden=true href=#2-서비스프리미티브sappdusdupci>#</a></h3><p><strong>Overview</strong>
OSI는 “서비스”와 이를 실현하는 “프로토콜”을 구분한다. 계층 경계에서는 서비스 프리미티브(Request/Indication/Response/Confirm 등)와 SAP(Service Access Point)를 통해 상호작용한다. 데이터는 SDU에 PCI가 붙어 PDU가 된다. ([ITU][4])</p><p><strong>Body</strong></p><ul><li><strong>SAP</strong>: 상하위 계층이 만나는 논리적 접점(예: L4의 포트는 L4-SAP).</li><li><strong>프리미티브</strong>: 서비스 호출/상태 전달 단위(R, I, Resp, Cfm).</li><li><strong>SDU/PCI/PDU</strong>: 상위가 내려보낸 SDU에 계층 제어정보(PCI: 헤더/트레일러)를 더해 PDU 생성.</li><li><strong>투명성 원칙</strong>: 하위계층은 상위 SDU 내용을 데이터로만 취급.</li></ul><p><strong>Artifacts</strong></p><table><thead><tr><th>개념</th><th>의미</th><th>예시</th></tr></thead><tbody><tr><td>SAP</td><td>계층 경계 접점</td><td>TCP 포트 80/443</td></tr><tr><td>프리미티브</td><td>서비스 호출/알림</td><td>CONNECT.req/ind/resp/cfm</td></tr><tr><td>SDU</td><td>서비스 데이터</td><td>L4에 전달된 L5 데이터</td></tr><tr><td>PCI</td><td>제어정보</td><td>TCP/UDP 헤더, FCS</td></tr><tr><td>PDU</td><td>동계층 교환 단위</td><td>세그먼트/패킷/프레임</td></tr></tbody></table><hr><h3 id=3-캡슐화디캡슐화와-pdu-명칭>3) 캡슐화·디캡슐화와 PDU 명칭<a hidden class=anchor aria-hidden=true href=#3-캡슐화디캡슐화와-pdu-명칭>#</a></h3><p><strong>Overview</strong>
상위에서 하위로 내려갈수록 헤더·트레일러가 덧붙는 캡슐화가 일어나고, 반대 방향은 디캡슐화다. 계층별 PDU는 일반적으로 세그먼트(L4)-패킷(L3)-프레임(L2)-비트(L1)로 부른다. ([community.cisco.com][5])</p><p><strong>Body</strong>
캡슐화는 기능 분리에 따른 오버헤드를 생성하지만, 상호운용성과 독립 배포의 이점을 제공한다. MTU보다 큰 PDU는 분할될 수 있으며(예: IP 프래그멘테이션), 상위에는 투명해야 한다.</p><p><strong>Artifacts</strong></p><pre class=mermaid>sequenceDiagram
  participant App as L7 App
  participant Tr as L4 Transport
  participant Net as L3 Network
  participant Dln as L2 Data Link
  participant Phy as L1 Physical
  App-&gt;&gt;Tr: SDU (payload)
  Tr-&gt;&gt;Net: PDU=L4hdr+SDU (segment)
  Net-&gt;&gt;Dln: PDU=L3hdr+segment (packet)
  Dln-&gt;&gt;Phy: PDU=L2hdr+packet+L2trl (frame)
  Phy--&gt;&gt;Dln: bits over medium
</pre><p><strong>Artifacts (Code ≤50줄)</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1> 1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2> 2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3> 3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4> 4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5> 5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6> 6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7> 7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8> 8</a>
</span><span class=lnt id=hl-2-9><a class=lnlinks href=#hl-2-9> 9</a>
</span><span class=lnt id=hl-2-10><a class=lnlinks href=#hl-2-10>10</a>
</span><span class=lnt id=hl-2-11><a class=lnlinks href=#hl-2-11>11</a>
</span><span class=lnt id=hl-2-12><a class=lnlinks href=#hl-2-12>12</a>
</span><span class=lnt id=hl-2-13><a class=lnlinks href=#hl-2-13>13</a>
</span><span class=lnt id=hl-2-14><a class=lnlinks href=#hl-2-14>14</a>
</span><span class=lnt id=hl-2-15><a class=lnlinks href=#hl-2-15>15</a>
</span><span class=lnt id=hl-2-16><a class=lnlinks href=#hl-2-16>16</a>
</span><span class=lnt id=hl-2-17><a class=lnlinks href=#hl-2-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 계층별 PDU 명칭과 캡슐화 과정을 단순 시뮬레이션</span>
</span></span><span class=line><span class=cl><span class=n>layers</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=s2>&#34;L7&#34;</span><span class=p>,</span><span class=s2>&#34;Application&#34;</span><span class=p>,</span><span class=kc>None</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=s2>&#34;L6&#34;</span><span class=p>,</span><span class=s2>&#34;Presentation&#34;</span><span class=p>,</span><span class=kc>None</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=s2>&#34;L5&#34;</span><span class=p>,</span><span class=s2>&#34;Session&#34;</span><span class=p>,</span><span class=kc>None</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=s2>&#34;L4&#34;</span><span class=p>,</span><span class=s2>&#34;Transport&#34;</span><span class=p>,</span><span class=s2>&#34;segment&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=s2>&#34;L3&#34;</span><span class=p>,</span><span class=s2>&#34;Network&#34;</span><span class=p>,</span><span class=s2>&#34;packet&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=s2>&#34;L2&#34;</span><span class=p>,</span><span class=s2>&#34;Data Link&#34;</span><span class=p>,</span><span class=s2>&#34;frame&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=s2>&#34;L1&#34;</span><span class=p>,</span><span class=s2>&#34;Physical&#34;</span><span class=p>,</span><span class=s2>&#34;bits&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>payload</span> <span class=o>=</span> <span class=s2>&#34;HELLO&#34;</span>
</span></span><span class=line><span class=cl><span class=n>headers</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>L</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>pdu</span> <span class=ow>in</span> <span class=n>layers</span><span class=p>[</span><span class=mi>3</span><span class=p>:]:</span>  <span class=c1># L4~L1</span>
</span></span><span class=line><span class=cl>    <span class=n>headers</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>L</span><span class=si>}</span><span class=s2>hdr&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>payload</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>L</span><span class=si>}</span><span class=s2>hdr(</span><span class=si>{</span><span class=n>payload</span><span class=si>}</span><span class=s2>)&#34;</span> <span class=o>+</span> <span class=p>(</span><span class=s2>&#34;+L2trl&#34;</span> <span class=k>if</span> <span class=n>L</span><span class=o>==</span><span class=s2>&#34;L2&#34;</span> <span class=k>else</span> <span class=s2>&#34;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>L</span><span class=si>}</span><span class=s2> </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2> -&gt; PDU: </span><span class=si>{</span><span class=n>pdu</span><span class=si>}</span><span class=s2>, stack: </span><span class=si>{</span><span class=n>payload</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># 출력: L4/L3/L2에서 헤더 추가, L2에서 트레일러 추가, L1은 비트로 전송</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=s2-아키텍처-정적-관점>S2. 아키텍처 정적 관점(★)<a hidden class=anchor aria-hidden=true href=#s2-아키텍처-정적-관점>#</a></h2><h4 id=-레이어링-원칙>★ 레이어링 원칙<a hidden class=anchor aria-hidden=true href=#-레이어링-원칙>#</a></h4><p><strong>Overview</strong>
기능을 수직 계층으로 분리해 모듈화·독립 진화를 달성한다. 서비스는 위로, 의존성은 아래로 흐른다.
<strong>Body</strong></p><ul><li>상하위 명확 경계, 최소 필요 인터페이스.</li><li>서비스 정의와 프로토콜 구현 분리.</li><li>교체 가능성과 상호운용성 확보.
<strong>Artifacts</strong></li><li>근거: ISO/IEC 7498-1, ITU-T X.200 요건 요약. ([ISO][1])</li></ul><h4 id=-서비스-인터페이스와-계약sap프리미티브>★ 서비스 인터페이스와 계약(SAP·프리미티브)<a hidden class=anchor aria-hidden=true href=#-서비스-인터페이스와-계약sap프리미티브>#</a></h4><p><strong>Overview</strong>
서비스는 프리미티브 집합과 파라미터로 계약된다. SAP는 계약의 종단점이다.
<strong>Body</strong></p><ul><li>요청/지시/응답/확인 네 가지 패턴.</li><li>서비스 품질(신뢰성/순서/보안 등)을 파라미터로 기술.
<strong>Artifacts</strong></li><li>ITU-T Q.920의 데이터링크 서비스 프리미티브 예시 참조. ([ITU][6])</li></ul><h4 id=-주소이름-지정>★ 주소·이름 지정<a hidden class=anchor aria-hidden=true href=#-주소이름-지정>#</a></h4><p><strong>Overview</strong>
계층별로 식별자가 다르며, 상위는 하위 주소 체계를 추상화한다.
<strong>Body</strong></p><ul><li>L2: MAC, L3: IP, L4: 포트(SAP), L7: URL/도메인 등.</li><li>디멀티플렉싱은 하위 PDU를 상위 세션으로 연결한다.
<strong>Artifacts</strong></li><li>Windows 네트워크 스택에서 L1–L4 구현 관점 사례. ([Microsoft Learn][3])</li></ul><h4 id=-크로스컷-품질속성신뢰성성능보안>★ 크로스컷 품질속성(신뢰성/성능/보안)<a hidden class=anchor aria-hidden=true href=#-크로스컷-품질속성신뢰성성능보안>#</a></h4><p><strong>Overview</strong>
신뢰성(ARQ/재전송), 성능(MTU/혼잡), 보안(TLS/IPsec)은 서로 다른 계층에서 실현되며 최종 사용자 품질을 공동 결정한다.
<strong>Body</strong></p><ul><li>TLS는 L5–L7 경계, IPsec은 L3에서 동작.
<strong>Artifacts</strong></li><li>TLS vs IPsec 계층 차이 설명 자료. ([Cloudflare][7])</li></ul><hr><h2 id=s3-주제-고유의-동적-심화>S3. 주제 고유의 동적 심화(†)<a hidden class=anchor aria-hidden=true href=#s3-주제-고유의-동적-심화>#</a></h2><h4 id=-pdu-분류와-헤더-오버헤드>† PDU 분류와 헤더 오버헤드<a hidden class=anchor aria-hidden=true href=#-pdu-분류와-헤더-오버헤드>#</a></h4><p><strong>Overview</strong>
헤더/트레일러 누적으로 유효 페이로드 비율이 달라진다.
<strong>Body</strong></p><ul><li>예: 이더넷(14B)+IPv4(20B)+TCP(20B) 기본 54B 오버헤드(+FCS 4B).
<strong>Artifacts</strong><table><thead><tr><th>계층</th><th>대표 PDU</th><th>전형적 헤더 크기(바이트)</th></tr></thead><tbody><tr><td>L2</td><td>Frame</td><td>14(+4 FCS)</td></tr><tr><td>L3</td><td>Packet</td><td>20(IPv4 기본)</td></tr><tr><td>L4</td><td>Segment</td><td>20(TCP 기본)</td></tr></tbody></table></li><li>PDU 명칭의 관행은 벤더 교육 자료에 정리되어 있다. ([Cisco][8])</li></ul><h4 id=-멀티플렉싱디멀티플렉싱>† 멀티플렉싱/디멀티플렉싱<a hidden class=anchor aria-hidden=true href=#-멀티플렉싱디멀티플렉싱>#</a></h4><p><strong>Overview</strong>
하위 PDU를 상위 SAP로 분배(포트/프로토콜 번호/이더타입 등).
<strong>Body</strong></p><ul><li>포트 기반 디멀티플렉싱으로 한 호스트 내 다수 세션을 구분.</li></ul><p><strong>Artifacts</strong></p><pre class=mermaid>flowchart LR
  L2[L2 EtherType] --&gt;|0x0800| L3[IPv4]
  L3 --&gt;|proto=6| L4[TCP]
  L4 --&gt;|dst port 443| L7[HTTPS Session]
</pre><h4 id=-qos혼잡제어의-계층-배치>† QoS·혼잡제어의 계층 배치<a hidden class=anchor aria-hidden=true href=#-qos혼잡제어의-계층-배치>#</a></h4><p><strong>Overview</strong>
혼잡제어는 주로 L4(예: TCP), 큐잉/스케줄링은 L2/L3 장비에서 구현된다.
<strong>Body</strong></p><ul><li>네트워크 레이어 관점의 트래픽 관리와 DDoS 문맥에서 L3/L7의 역할 차이. ([Cloudflare][9])
<strong>Artifacts</strong><table><thead><tr><th>수준</th><th>예</th><th>설명</th></tr></thead><tbody><tr><td>L4</td><td>TCP CUBIC</td><td>창/재전송 기반 혼잡 반응</td></tr><tr><td>L3</td><td>WFQ/RED</td><td>라우터 큐잉/드랍 정책</td></tr><tr><td>L2</td><td>CoS</td><td>프레임 우선순위</td></tr></tbody></table></li></ul><h4 id=-프로토콜-매핑tcpiptlsquic>† 프로토콜 매핑(TCP/IP·TLS·QUIC)<a hidden class=anchor aria-hidden=true href=#-프로토콜-매핑tcpiptlsquic>#</a></h4><p><strong>Overview</strong>
OSI는 참조 모델, 인터넷은 실체적 프로토콜 집합이다. 엄밀한 1:1 대응은 아니지만 교육/설계 목적으로 매핑한다.
<strong>Body</strong></p><ul><li>RFC 1122는 인터넷 통신 계층 요구사항을 정의하며, IETF는 엄격한 OSI 계층 준수를 목표로 하지 않는다. ([IETF][10])</li><li>IS-IS는 OSI에서 기원했으나 IP 라우팅에도 사용(통합 IS-IS). ([IETF Datatracker][11])
<strong>Artifacts</strong><table><thead><tr><th>OSI</th><th>일반 매핑(인터넷)</th><th>비고</th></tr></thead><tbody><tr><td>L7/L6/L5</td><td>응용(HTTP/2, TLS/QUIC/세션)</td><td>스택에 따라 결합</td></tr><tr><td>L4</td><td>TCP/UDP/QUIC*</td><td>*전송+일부 L7 기능</td></tr><tr><td>L3</td><td>IP/ICMP</td><td>인터넷 레이어</td></tr><tr><td>L2</td><td>Ethernet/802.11</td><td>링크</td></tr><tr><td>L1</td><td>PHY</td><td>매체</td></tr></tbody></table></li></ul><h4 id=-계층-위반최적화오프로딩미들박스>† 계층 위반·최적화(오프로딩·미들박스)<a hidden class=anchor aria-hidden=true href=#-계층-위반최적화오프로딩미들박스>#</a></h4><p><strong>Overview</strong>
실제 인터넷은 성능·운영 이유로 엄격한 계층성을 완화한다.
<strong>Body</strong></p><ul><li>NIC 오프로딩(Checksum/TSO), 프록시/NAT/방화벽 등은 “순수 계층성”을 교란하지만 확장성을 위해 채택된다. “복잡성 제어” 원칙 참조. ([RFC Editor][12])
<strong>Artifacts</strong></li><li>설계 원칙: 단순성·최소 상태·명확한 책임.</li></ul><hr><h2 id=sw-workshops-hands-on>SW. Workshops (Hands-on)<a hidden class=anchor aria-hidden=true href=#sw-workshops-hands-on>#</a></h2><h3 id=ws1-패킷-워크-l7l1-캡슐화-추적>WS1. 패킷 워크: L7→L1 캡슐화 추적<a hidden class=anchor aria-hidden=true href=#ws1-패킷-워크-l7l1-캡슐화-추적>#</a></h3><ul><li><strong>Goal</strong>: HTTP 요청이 NIC를 통해 나가기까지 각 계층의 역할·PDU 변형을 추적한다.</li><li><strong>Input</strong>: 테스트 PC, 로컬 웹서버(또는 공개 사이트), 패킷 캡처 도구(Wireshark).</li><li><strong>Expected</strong>: L7→L4→L3→L2 헤더 구성 식별, MTU/세그먼트 크기 관찰.</li><li><strong>Evaluation</strong>: 각 프레임의 프로토콜 필드와 상위 매핑을 올바르게 표기.</li><li><strong>Steps</strong>: (1) 캡처 시작 → (2) 브라우저로 접속 → (3) TCP 3-way 핸드셰이크·TLS 교섭 필터링 → (4) IP/이더넷 헤더 필드 기록 → (5) MTU·세그먼트 길이 분석.</li></ul><h3 id=ws2-sap-관점-포트-매핑-실습>WS2. SAP 관점 포트 매핑 실습<a hidden class=anchor aria-hidden=true href=#ws2-sap-관점-포트-매핑-실습>#</a></h3><ul><li><strong>Goal</strong>: 포트 기반 디멀티플렉싱이 애플리케이션 세션에 미치는 영향 관찰.</li><li><strong>Input</strong>: 서버(HTTP 80/8080/8443), netcat 또는 curl.</li><li><strong>Expected</strong>: 동일 호스트에서 포트별 서비스가 구분됨을 확인.</li><li><strong>Evaluation</strong>: 포트/SAP–프로세스 매핑 표 제출.</li><li><strong>Steps</strong>: (1) 여러 포트에서 서비스 기동 → (2) <code>curl</code>로 각 포트 접속 → (3) 캡처로 dst port 확인 → (4) 프로세스 테이블과 매핑 작성.</li></ul><h3 id=ws3-계층별-트러블슈팅-플레이북>WS3. 계층별 트러블슈팅 플레이북<a hidden class=anchor aria-hidden=true href=#ws3-계층별-트러블슈팅-플레이북>#</a></h3><ul><li><strong>Goal</strong>: “페이지 로드 지연” 사례를 계층별로 진단.</li><li><strong>Input</strong>: 지연 시나리오(패킷 손실 1%, DNS 지연 500ms 등).</li><li><strong>Expected</strong>: 병목 계층 식별과 근거 제시.</li><li><strong>Evaluation</strong>: 원인·증거·해결책 3요소 충족.</li><li><strong>Steps</strong>: (1) L1-L2 링크/오류 확인 → (2) L3 경로/지연 <code>ping/traceroute</code> → (3) L4 재전송/윈도우 관찰 → (4) L7 응답시간·TLS 핸드셰이크 분석 → (5) 수정 후 재측정.</li></ul><hr><h2 id=final-summary>Final Summary<a hidden class=anchor aria-hidden=true href=#final-summary>#</a></h2><p>OSI 7계층은 서비스/프로토콜 분리와 레이어링으로 상호운용성과 모듈화를 이룬 참조 모델이다. SAP·프리미티브·PDU/SDU/PCI를 통해 계층 간 계약과 데이터 흐름이 정의되며, 실제 인터넷 스택은 필요에 따라 매핑·완화를 적용한다. 본 문서는 정적 원칙(★)과 동적 주제(†), 실습(WS)을 통해 개념→적용→심화까지 일관된 학습 경로를 제공한다.</p><h2 id=learning-guide>Learning Guide<a hidden class=anchor aria-hidden=true href=#learning-guide>#</a></h2><ol><li><strong>S1</strong>: 계층·서비스·캡슐화 기본 흐름을 이해
→ 2) <strong>★</strong>: 레이어링/계약/주소·이름/품질속성으로 아키텍처 시야 확장
→ 3) <strong>†</strong>: PDU 오버헤드, 멀티플렉싱, QoS, 매핑, 계층 위반 등 고급 주제
→ 4) <strong>SW</strong>: 패킷 캡처·포트 매핑·플레이북으로 실전 감각 강화</li></ol><h2 id=terminology-7컬럼>Terminology (7컬럼)<a hidden class=anchor aria-hidden=true href=#terminology-7컬럼>#</a></h2><table><thead><tr><th>용어(EN, 약어)</th><th>한글</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>실무 연관성</th><th>근거(RF#)</th></tr></thead><tbody><tr><td>OSI Reference Model</td><td>OSI 참조 모델</td><td>7계층 통신 아키텍처 표준</td><td>상호운용 설계의 공통 기준</td><td>TCP/IP 모델</td><td>교육·설계 기준</td><td>RF1, RF2</td></tr><tr><td>Service Access Point, SAP</td><td>서비스 접근점</td><td>계층 경계의 논리 종단점</td><td>디멀티플렉싱·주소 지정</td><td>포트, 소켓</td><td>트러블슈팅·보안 정책</td><td>RF2, RF16</td></tr><tr><td>Service Primitive</td><td>서비스 프리미티브</td><td>Request/Indication/Response/Confirm 패턴</td><td>서비스 계약의 단위</td><td>API, 시스템콜 유사 개념</td><td>프로토콜 설계/분석</td><td>RF16</td></tr><tr><td>SDU</td><td>서비스 데이터 단위</td><td>상위가 하위에 전달한 데이터</td><td>캡슐화 원재료</td><td>PDU, PCI</td><td>패킷 구조 분석</td><td>RF2</td></tr><tr><td>PDU</td><td>프로토콜 데이터 단위</td><td>동계층 간 교환 단위</td><td>계층별 명칭 다름</td><td>세그먼트/패킷/프레임</td><td>캡처 해석</td><td>RF13</td></tr><tr><td>PCI</td><td>프로토콜 제어정보</td><td>헤더/트레일러 제어 필드</td><td>신뢰/순서/주소 등</td><td>오버헤드</td><td>성능·MTU 설계</td><td>RF2, RF13</td></tr><tr><td>Multiplexing/Demux</td><td>멀티플렉싱/디멀티플렉싱</td><td>하위 PDU를 상위 SAP로 분배</td><td>포트·프로토콜 번호</td><td>이더타입</td><td>서비스 매핑 점검</td><td>RF1, RF9</td></tr><tr><td>QoS</td><td>서비스 품질</td><td>지연/손실/대역폭 관리</td><td>L2/L3 정책+L4 반응</td><td>큐잉/스케줄링, TCP</td><td>SLA 설계</td><td>RF11</td></tr><tr><td>IPsec</td><td>IPsec</td><td>L3 보안 수단</td><td>네트워크 계층 암호화</td><td>TLS</td><td>VPN 설계</td><td>RF17</td></tr><tr><td>TLS</td><td>TLS</td><td>L5–L7 경계 보안</td><td>세션·응용 계층 보안</td><td>QUIC</td><td>웹 보안</td><td>RF8, RF17</td></tr><tr><td>Integrated IS-IS</td><td>통합 IS-IS</td><td>IP/OSI 동시 라우팅</td><td>프로토콜 매핑 사례</td><td>OSPF, CLNP</td><td>대규모 라우팅</td><td>RF6</td></tr></tbody></table><h2 id=references-seeds-register>References (Seeds Register)<a hidden class=anchor aria-hidden=true href=#references-seeds-register>#</a></h2><ul><li><strong>RF1</strong>: <a href=https://www.iso.org/obp/ui/>ISO/IEC 7498-1:1994(en), Information technology — Open Systems Interconnection — Basic Reference Model</a></li><li><strong>RF2</strong>: <a href="https://www.itu.int/rec/dologin_pub.asp?id=T-REC-X.200-199407-I%21%21PDF-E&amp;lang=e&amp;type=items">ITU-T Recommendation X.200 (1994) — OSI Basic Reference Model</a></li><li><strong>RF3</strong>: <a href=https://cdn.standards.iteh.ai/samples/20269/4b12bcad0c6247dba2875b7cdf47b807/ISO-IEC-7498-1-1994.pdf>ISO/IEC 7498-1:1994 PDF (iTeh)</a></li><li><strong>RF4</strong>: <a href=https://www.ietf.org/rfc/rfc1122.txt>RFC 1122 — Requirements for Internet Hosts: Communication Layers</a></li><li><strong>RF5</strong>: <a href=https://www.rfc-editor.org/rfc/rfc3439.html>RFC 3439 — Some Internet Architectural Guidelines and Philosophy</a></li><li><strong>RF6</strong>: <a href=https://datatracker.ietf.org/doc/rfc1195/>RFC 1195 — Use of OSI IS-IS for routing in TCP/IP and dual environments</a></li><li><strong>RF7</strong>: <a href=https://datatracker.ietf.org/doc/html/rfc1574>RFC 1574 — Essential Tools for the OSI Internet</a></li><li><strong>RF8</strong>: <a href=https://www.cloudflare.com/learning/ddos/glossary/open-systems-interconnection-model-osi/>Cloudflare Learning Center — What is the OSI Model?</a></li><li><strong>RF9</strong>: <a href=https://learn.microsoft.com/en-us/windows-hardware/drivers/network/windows-network-architecture-and-the-osi-model>Microsoft Learn — Windows network architecture and the OSI model</a></li><li><strong>RF10</strong>: <a href=https://www.cloudflare.com/learning/ddos/what-is-layer-7/>Cloudflare — What is layer 7?</a></li><li><strong>RF11</strong>: <a href=https://www.cloudflare.com/learning/ddos/layer-3-ddos-attacks/>Cloudflare — Layer 3 DDoS attacks</a></li><li><strong>RF12</strong>: <a href=https://www.cisco.com/web/TH/assets/docs/seminar/20080401_handout1.pdf>Cisco Handout — Layers with TCP/IP and OSI Model (PDU & encapsulation)</a></li><li><strong>RF13</strong>: <a href=https://community.cisco.com/kxiwq67737/attachments/kxiwq67737/4461-docs-network-infrastructure/5987/1/01.%20OSI%20Model%20CheatSheet%20-%20ATech%20%28%20Waqas%20Karim%20%29%20v1.2.pdf>Cisco Community — OSI Model CheatSheet (PDU names)</a></li><li><strong>RF14</strong>: <a href=https://www.juniper.net/documentation/en_US/day-one-books/junos-beginners-guide.pdf>Juniper Day One — Beginner’s Guide to Learning Junos (OSI 언급)</a></li><li><strong>RF15</strong>: <a href=https://www.rfc-editor.org/rfc/rfc1925.html>RFC 1925 — The Twelve Networking Truths</a></li><li><strong>RF16</strong>: <a href="https://www.itu.int/rec/dologin_pub.asp?id=T-REC-Q.920-198811-S%21%21PDF-E&amp;lang=e&amp;type=items">ITU-T Q.920 — ISDN user-network interface data link layer — service primitives</a></li><li><strong>RF17</strong>: <a href="https://www.itu.int/rec/dologin_pub.asp?id=T-REC-I.321-199104-I%21%21PDF-E&amp;lang=e&amp;type=items">ITU-T I.321 — B-ISDN protocol reference model(OSI 원칙 언급)</a></li><li><strong>RF18</strong>: <a href=https://en.wikipedia.org/wiki/OSI_model>Wikipedia — OSI model (개요·역사적 맥락)</a></li></ul><hr><p><strong>topic</strong>: OSI 7계층(OSI Reference Model)
<strong>current_classification</strong>: OK
<strong>topic_type</strong>: T-ARCH</p><p><strong>summary</strong>: OSI 7계층 모델은 복잡한 네트워크 통신을 7개의 추상화된 계층으로 분리하여 정의한 개념적 프레임워크입니다. 이 모델은 표준화를 통해 서로 다른 제조사의 하드웨어와 소프트웨어가 상호 운용될 수 있도록 보장하며, 데이터가 송신 측에서 캡슐화되고 수신 측에서 비캡슐화되는 과정을 명확히 설명합니다.</p><p><strong>overview</strong>: OSI(Open Systems Interconnection) 모델은 국제표준화기구(ISO)가 1984년에 개발한 네트워크 통신 표준 아키텍처입니다. 이 모델이 개발될 당시, 네트워크 기술은 특정 공급업체에 종속된 파편화된 상태였기 때문에 상호 호환성이 심각한 문제였습니다. OSI 모델의 목적은 이러한 이기종 시스템 간의 통신을 가능하게 하는 공통의 &lsquo;청사진&rsquo;을 제공하는 것이었습니다.</p><p>본 문서는 OSI 모델 자체에만 초점을 맞춥니다. 이는 실제 인터넷 통신에서 주로 사용되는 TCP/IP 프로토콜 스위트와는 구별되는 **이론적 참조 모델(Reference Model)**입니다. 따라서 본문에서는 각 계층의 &lsquo;무엇(What)&lsquo;을 정의하는 것을 넘어, &lsquo;왜(Why)&rsquo; 해당 계층이 필요하며 &lsquo;어떻게(How it Works)&rsquo; 데이터 흐름을 처리하는지의 근본 원리를 3-6년차 개발자의 관점에서 설명합니다.</p><p><strong>tags</strong>: [t-arch, networking, osi-model, troubleshooting, tcp-ip, network-architecture, encapsulation]</p><hr><h4 id=s1-정의-및-동기-definition--motivation>S1: 정의 및 동기 (Definition & Motivation)<a hidden class=anchor aria-hidden=true href=#s1-정의-및-동기-definition--motivation>#</a></h4><h5 id=overview>Overview<a hidden class=anchor aria-hidden=true href=#overview>#</a></h5><p>OSI 7계층 모델의 공식적인 정의와 이 모델이 &lsquo;왜(Why)&rsquo; 필요한지에 대한 근본적인 동기를 설명합니다. 이는 기술적 세부 사항 이전에 모델의 존재 이유를 확립합니다.</p><h5 id=body-1>Body<a hidden class=anchor aria-hidden=true href=#body-1>#</a></h5><p>**OSI 7계층 모델(OSI 7 Layer Model)**은 네트워크 프로토콜 디자인과 통신 과정을 7개의 논리적인 계층(Layer)으로 나누어 설명하는 **개념적 프레임워크(Conceptual Framework)**입니다. 정식 명칭은 &lsquo;Open Systems Interconnection Reference Model&rsquo;이며, 국제표준화기구(ISO)에 의해 표준으로 제정되었습니다.</p><p>이 모델의 핵심 동기는 **상호 운용성(Interoperability)**입니다. 1980년대 초반 네트워크 기술은 여러 공급업체가 독자적인 규격(Proprietary)을 사용하여, A사의 장비가 B사의 장비와 통신할 수 없는 &lsquo;사일로(Silo)&rsquo; 문제가 심각했습니다. OSI 모델은 이러한 문제를 해결하기 위해 네트워크 통신에 필요한 기능들을 7단계로 명확히 분리하고, 각 계층이 수행해야 할 역할과 인터페이스를 표준화했습니다.</p><p>이러한 **계층적 추상화(Layered Abstraction)**는 다음과 같은 실질적인 이점을 제공합니다.</p><ol><li><strong>복잡성 감소</strong>: 전체 네트워크 통신이라는 거대한 문제를 7개의 관리 가능한 작은 문제로 분해합니다.</li><li><strong>표준화</strong>: 각 계층의 기능이 명확히 정의되므로, 서로 다른 벤더가 동일한 표준을 따르는 하드웨어와 소프트웨어를 개발할 수 있습니다.</li><li><strong>모듈성 및 유연성</strong>: 특정 계층(예: 물리 계층)의 기술이 변경(예: 유선 LAN에서 Wi-Fi로 변경)되더라도, 다른 상위 계층(예: 애플리케이션 계층)의 코드를 수정할 필요가 없습니다.</li></ol><h5 id=supporting-artifacts>Supporting Artifacts<a hidden class=anchor aria-hidden=true href=#supporting-artifacts>#</a></h5><p>아래 표는 OSI 모델의 7계층을 요약하여 각 계층의 핵심 목적을 보여줍니다.</p><table><thead><tr><th style=text-align:left>계층 (번호)</th><th style=text-align:left>계층 이름 (EN)</th><th style=text-align:left>핵심 목적 (Purpose)</th></tr></thead><tbody><tr><td style=text-align:left>7</td><td style=text-align:left>Application (응용)</td><td style=text-align:left>최종 사용자에게 네트워크 서비스를 제공 (예: 웹 브라우저)</td></tr><tr><td style=text-align:left>6</td><td style=text-align:left>Presentation (표현)</td><td style=text-align:left>데이터의 형식을 변환, 암호화, 압축 (데이터의 &lsquo;번역&rsquo;)</td></tr><tr><td style=text-align:left>5</td><td style=text-align:left>Session (세션)</td><td style=text-align:left>장치 간의 통신 세션(연결)을 수립, 관리, 종료</td></tr><tr><td style=text-align:left>4</td><td style=text-align:left>Transport (전송)</td><td style=text-align:left>종단 간(End-to-End) 신뢰할 수 있는 데이터 전송 보장 (예: TCP/UDP)</td></tr><tr><td style=text-align:left>3</td><td style=text-align:left>Network (네트워크)</td><td style=text-align:left><strong>서로 다른 네트워크</strong> 간의 데이터 라우팅 (경로 설정, IP 주소)</td></tr><tr><td style=text-align:left>2</td><td style=text-align:left>Data Link (데이터 링크)</td><td style=text-align:left><strong>동일 네트워크</strong> 내의 장치 간 데이터 전송 (MAC 주소, 오류 검출)</td></tr><tr><td style=text-align:left>1</td><td style=text-align:left>Physical (물리)</td><td style=text-align:left>데이터를 전기적/물리적 신호(비트, 0과 1)로 변환하여 전송</td></tr></tbody></table><hr><h4 id=s2-배경-컨텍스트-및-경계-background-context--scope>S2: 배경, 컨텍스트 및 경계 (Background, Context & Scope)<a hidden class=anchor aria-hidden=true href=#s2-배경-컨텍스트-및-경계-background-context--scope>#</a></h4><h5 id=overview-1>Overview<a hidden class=anchor aria-hidden=true href=#overview-1>#</a></h5><p>OSI 모델이 등장하게 된 역사적 배경과 이 모델이 다루는 범위(Scope)의 경계를 명확히 합니다. 특히 이 모델이 &lsquo;프로토콜&rsquo;이 아닌 &lsquo;참조 모델&rsquo;임을 강조합니다.</p><h5 id=body-2>Body<a hidden class=anchor aria-hidden=true href=#body-2>#</a></h5><p>OSI 모델은 1984년에 ISO에 의해 공식적으로 채택되었습니다. 이 시기는 컴퓨터 네트워킹의 여명기로, IBM의 SNA, DEC의 DECnet 등 벤더 종속적인 여러 프로토콜이 난립하던 시기였습니다. 이러한 환경에서는 특정 벤더의 생태계에 종속될 수밖에 없었으며, 정부나 대형 기관에서 시스템을 통합하는 데 막대한 비용이 발생했습니다. OSI 모델은 이러한 &lsquo;닫힌 시스템(Closed Systems)&lsquo;을 &lsquo;개방형 시스템(Open Systems)&lsquo;으로 전환하려는 국제적인 노력의 산물이었습니다.</p><p>이 모델의 **범위 경계(Scope Boundary)**를 이해하는 것은 매우 중요합니다.</p><ol><li><strong>참조 모델 (Reference Model) vs. 구현 (Implementation)</strong>: OSI 모델은 **&lsquo;무엇(What)&rsquo;**을 해야 하는지를 정의하는 &lsquo;청사진(Blueprint)&lsquo;이지, <strong>&lsquo;어떻게(How)&rsquo;</strong> 구현해야 하는지에 대한 구체적인 프로토콜을 정의하지 않습니다. (물론 OSI 프로토콜 스위트가 존재했지만, 시장에서 성공하지 못했습니다.)</li><li><strong>이론 (Theory) vs. 실제 (Practice)</strong>: 오늘날 인터넷과 대부분의 네트워크는 OSI 모델이 아닌 **TCP/IP 모델(4계층)**을 기반으로 동작합니다. TCP/IP는 OSI 모델보다 먼저 개발되어 사실상의 표준(De facto standard)이 되었습니다.</li><li><strong>학습 및 진단 도구</strong>: 그럼에도 불구하고 OSI 7계층 모델이 여전히 중요한 이유는, 네트워킹의 복잡한 과정을 교육하고, 네트워크 장애 발생 시 문제를 체계적으로 진단(Troubleshooting)하는 데 가장 강력하고 명확한 **개념적 도구(Conceptual Tool)**이기 때문입니다. (SX.E 참고)</li></ol><h5 id=supporting-artifacts-1>Supporting Artifacts<a hidden class=anchor aria-hidden=true href=#supporting-artifacts-1>#</a></h5><p>아래 표는 OSI 모델의 컨텍스트를 이해하기 위한 핵심 용어를 구분합니다.</p><table><thead><tr><th style=text-align:left>용어</th><th style=text-align:left>정의</th><th style=text-align:left>OSI 모델과의 관계</th></tr></thead><tbody><tr><td style=text-align:left><strong>OSI 7계층 모델</strong></td><td style=text-align:left>네트워킹 기능을 7개로 나눈 <strong>이론적 참조 모델</strong> (청사진)</td><td style=text-align:left>본 문서의 주제. 표준(De jure)이지만 실제 구현은 적음.</td></tr><tr><td style=text-align:left><strong>TCP/IP 모델</strong></td><td style=text-align:left>인터넷 프로토콜 스위트를 4개 계층으로 설명하는 <strong>실용적 모델</strong></td><td style=text-align:left>오늘날 인터넷의 사실상(De facto) 표준. (SX.D 참고)</td></tr><tr><td style=text-align:left><strong>프로토콜 (Protocol)</strong></td><td style=text-align:left>컴퓨터 간의 통신을 위한 &lsquo;규약&rsquo; 또는 &lsquo;규칙&rsquo; (예: HTTP, TCP, IP)</td><td style=text-align:left>OSI 모델의 각 계층은 특정 프로토콜들이 동작하는 장소.</td></tr></tbody></table><hr><h4 id=s3-핵심-개념-top-concepts>S3: 핵심 개념 (Top Concepts)<a hidden class=anchor aria-hidden=true href=#s3-핵심-개념-top-concepts>#</a></h4><h5 id=overview-2>Overview<a hidden class=anchor aria-hidden=true href=#overview-2>#</a></h5><p>OSI 모델의 동작 원리를 이해하는 데 필수적인 두 가지 핵심 개념, &lsquo;캡슐화(Encapsulation) / 비캡슐화(Decapsulation)&lsquo;와 &lsquo;PDU(Protocol Data Unit)&lsquo;에 대해 설명합니다.</p><h5 id=body-3>Body<a hidden class=anchor aria-hidden=true href=#body-3>#</a></h5><p>OSI 모델을 통한 데이터 통신은 &lsquo;캡슐화&rsquo;와 &lsquo;비캡슐화&rsquo;라는 두 가지 핵심 프로세스를 통해 이루어집니다.</p><ol><li><p><strong>캡슐화 (Encapsulation)</strong>:</p><ul><li>송신 측(Sender)에서 발생하는 프로세스입니다.</li><li>데이터는 최상위 계층인 L7(응용 계층)에서 시작하여 L1(물리 계층)까지 <strong>아래로(Down)</strong> 내려갑니다.</li><li>각 계층은 상위 계층에서 받은 데이터(SDU, Service Data Unit)에 자신의 기능 수행에 필요한 제어 정보(예: 주소, 포트 번호, 오류 검증 코드)를 <strong>헤더(Header)</strong> (때로는 <strong>트레일러(Trailer)</strong>)로 추가합니다.</li><li>이 과정은 마치 데이터를 &lsquo;포장&rsquo;하거나 &lsquo;봉투&rsquo;에 넣는 것과 같습니다. L4는 L7-L5의 데이터를 포장하고, L3는 L4의 포장된 데이터를 다시 포장합니다.</li></ul></li><li><p><strong>비캡슐화 (Decapsulation)</strong>:</p><ul><li>수신 측(Receiver)에서 발생하는 프로세스입니다.</li><li>데이터는 최하위 계층인 L1(물리 계층)에서 시작하여 L7(응용 계층)까지 <strong>위로(Up)</strong> 올라갑니다.</li><li>각 계층은 하위 계층에서 받은 데이터에서 자신이 추가했던(정확히는 송신 측의 동일 계층이 추가했던) 헤더와 트레일러를 &lsquo;제거(Strip)&lsquo;하고 해석합니다.</li><li>이 과정을 통해 &lsquo;포장을 풀고&rsquo; 내부의 데이터를 상위 계층으로 전달합니다. L2는 L2 헤더를 제거하고 L3로, L3는 L3 헤더를 제거하고 L4로 올립니다.</li></ul></li><li><p><strong>PDU (Protocol Data Unit)</strong>:</p><ul><li>PDU는 각 계층에서 헤더/트레일러가 추가(캡슐화)된 후의 데이터 단위를 부르는 <strong>공식 용어</strong>입니다.</li><li>개발자는 이 PDU 용어를 명확히 구분하여 사용할 수 있어야 합니다. (예: &ldquo;L4 방화벽이 세그먼트를 차단했다&rdquo;, &ldquo;라우터가 패킷을 드랍했다&rdquo;)</li></ul></li></ol><h5 id=supporting-artifacts-2>Supporting Artifacts<a hidden class=anchor aria-hidden=true href=#supporting-artifacts-2>#</a></h5><p>아래 표는 각 계층별 PDU(Protocol Data Unit)의 명칭을 정의합니다.</p><table><thead><tr><th style=text-align:left>계층 (번호)</th><th style=text-align:left>PDU 명칭 (EN)</th><th style=text-align:left>PDU 명칭 (한글)</th><th style=text-align:left>설명</th></tr></thead><tbody><tr><td style=text-align:left>7 (응용)</td><td style=text-align:left>Data</td><td style=text-align:left>데이터</td><td style=text-align:left>사용자가 생성한 순수 데이터 (예: HTTP 메시지)</td></tr><tr><td style=text-align:left>6 (표현)</td><td style=text-align:left>Data</td><td style=text-align:left>데이터</td><td style=text-align:left>형식 변환/암호화된 데이터</td></tr><tr><td style=text-align:left>5 (세션)</td><td style=text-align:left>Data</td><td style=text-align:left>데이터</td><td style=text-align:left>세션 정보가 포함된 데이터</td></tr><tr><td style=text-align:left>4 (전송)</td><td style=text-align:left><strong>Segment</strong> (TCP)<br><strong>Datagram</strong> (UDP)</td><td style=text-align:left>세그먼트<br>데이터그램</td><td style=text-align:left>L4 헤더(포트 번호 등)가 추가된 단위. 신뢰성에 따라 이름이 다름.</td></tr><tr><td style=text-align:left>3 (네트워크)</td><td style=text-align:left><strong>Packet</strong></td><td style=text-align:left>패킷</td><td style=text-align:left>L3 헤더(IP 주소 등)가 추가된 단위. 라우팅의 기본 단위.</td></tr><tr><td style=text-align:left>2 (데이터 링크)</td><td style=text-align:left><strong>Frame</strong></td><td style=text-align:left>프레임</td><td style=text-align:left>L2 헤더(MAC 주소 등)와 트레일러(오류 검증)가 추가된 단위.</td></tr><tr><td style=text-align:left>1 (물리)</td><td style=text-align:left><strong>Bit</strong> (or Symbol)</td><td style=text-align:left>비트 (또는 심볼)</td><td style=text-align:left>전송 매체를 통해 흐르는 0과 1의 실제 물리적 신호.</td></tr></tbody></table><hr><h4 id=s4-모델-및-데이터-수명주기-model--data-lifecycle>S4: 모델 및 데이터 수명주기 (Model & Data Lifecycle)<a hidden class=anchor aria-hidden=true href=#s4-모델-및-데이터-수명주기-model--data-lifecycle>#</a></h4><h5 id=overview-3>Overview<a hidden class=anchor aria-hidden=true href=#overview-3>#</a></h5><p>OSI 모델은 정적인 구조가 아니라, 데이터가 통신을 위해 생성되고, 변환되며, 전송되고, 최종적으로 소멸(소비)되는 &lsquo;수명주기(Lifecycle)&lsquo;를 정의합니다. 이 섹션은 캡슐화와 비캡슐화 과정을 중심으로 데이터의 전체 흐름을 시각화합니다.</p><h5 id=body-4>Body<a hidden class=anchor aria-hidden=true href=#body-4>#</a></h5><p>데이터의 수명주기는 송신 측의 <strong>캡슐화(Encapsulation)</strong> 단계와 수신 측의 <strong>비캡슐화(Decapsulation)</strong> 단계로 구성됩니다.</p><p><strong>1. 송신 측 (Sender) - 캡슐화 (L7 → L1)</strong></p><ul><li><strong>L7 (Application)</strong>: 사용자가 &lsquo;<a href=https://www.google.com>www.google.com</a>&rsquo; 접속을 시도하면, 브라우저가 &lsquo;HTTP GET&rsquo; 요청 데이터를 생성합니다.</li><li><strong>L6 (Presentation)</strong>: 이 데이터가 표준 형식(예: ASCII)인지 확인하고, 필요시 SSL/TLS를 통해 암호화합니다.</li><li><strong>L5 (Session)</strong>: 이 통신을 위한 세션을 수립합니다.</li><li><strong>L4 (Transport)</strong>: 데이터(L7-L5)를 **세그먼트(Segment)**로 분할하고, TCP 헤더(예: Source Port 8000, Destination Port 443)를 추가합니다.</li><li><strong>L3 (Network)</strong>: 세그먼트를 받아 **패킷(Packet)**으로 만들고, IP 헤더(Source IP, Destination IP)를 추가합니다.</li><li><strong>L2 (Data Link)</strong>: 패킷을 받아 **프레임(Frame)**으로 만들고, 이더넷 헤더(Source MAC, Destination MAC)와 트레일러(FCS)를 추가합니다.</li><li><strong>L1 (Physical)</strong>: 프레임을 <strong>비트(Bits)</strong> 스트림(0과 1의 전기 신호)으로 변환하여 케이블로 전송합니다.</li></ul><p><strong>2. 수신 측 (Receiver) - 비캡슐화 (L1 → L7)</strong></p><ul><li><strong>L1 (Physical)</strong>: 비트 신호를 수신하여 L2로 올립니다.</li><li><strong>L2 (Data Link)</strong>: 프레임을 재조립하고, Destination MAC 주소가 자신과 일치하는지 확인한 후 L2 헤더/트레일러를 제거하고 패킷을 L3로 올립니다.</li><li><strong>L3 (Network)</strong>: 패킷의 Destination IP 주소가 자신과 일치하는지 확인한 후 L3 헤더를 제거하고 세그먼트를 L4로 올립니다.</li><li><strong>L4 (Transport)</strong>: L4 헤더를 확인하여 Destination Port(443)에 해당하는 서비스(웹 서버)로 세그먼트를 전달하고, TCP 신뢰성(순서 재조립 등)을 보장합니다.</li><li><strong>L5 (Session)</strong>: 세션 정보를 확인합니다.</li><li><strong>L6 (Presentation)</strong>: 암호화된 경우 복호화하고, 데이터를 L7이 이해할 수 있는 형식으로 변환합니다.</li><li><strong>L7 (Application)</strong>: 웹 서버 애플리케이션이 &lsquo;HTTP GET&rsquo; 요청 데이터를 최종적으로 수신하여 처리합니다.</li></ul><h5 id=supporting-artifacts-3>Supporting Artifacts<a hidden class=anchor aria-hidden=true href=#supporting-artifacts-3>#</a></h5><p>아래 다이어그램은 데이터가 송신자 A에서 수신자 B로 전달될 때의 캡슐화 및 비캡슐화 수명주기를 시각적으로 보여줍니다.</p><pre class=mermaid>sequenceDiagram
    participant Sender_A as 송신자 A (애플리케이션)
    participant L7_A as L7 (응용)
    participant L4_A as L4 (전송)
    participant L3_A as L3 (네트워크)
    participant L2_A as L2 (데이터 링크)
    participant L1_A as L1 (물리)
    participant L1_B as L1 (물리)
    participant L2_B as L2 (데이터 링크)
    participant L3_B as L3 (네트워크)
    participant L4_B as L4 (전송)
    participant L7_B as L7 (응용)
    participant Receiver_B as 수신자 B (애플리케이션)

    Note over Sender_A, L1_A: 캡슐화 (Encapsulation)
    Sender_A-&gt;&gt;L7_A: 데이터 생성 (HTTP Request)
    L7_A-&gt;&gt;L4_A: [데이터]
    L4_A-&gt;&gt;L3_A: [L4 헤더] + [데이터] (세그먼트)
    L3_A-&gt;&gt;L2_A: [L3 헤더] + [L4 헤더 + 데이터] (패킷)
    L2_A-&gt;&gt;L1_A: [L2 헤더] + [L3 헤더 + L4 헤더 + 데이터] + [L2 트레일러] (프레임)
    
    L1_A--&gt;&gt;L1_B: 010110... (비트 스트림 전송)

    Note over L1_B, Receiver_B: 비캡슐화 (Decapsulation)
    L1_B-&gt;&gt;L2_B: [프레임]
    L2_B-&gt;&gt;L3_B: [패킷] (L2 헤더/트레일러 제거)
    L3_B-&gt;&gt;L4_B: [세그먼트] (L3 헤더 제거)
    L4_B-&gt;&gt;L7_B: [데이터] (L4 헤더 제거)
    L7_B-&gt;&gt;Receiver_B: 데이터 소비 (HTTP Request 처리)
</pre><hr><h4 id=s5-계층별-기본-절차-및-기능-layer-procedures--functions>S5: 계층별 기본 절차 및 기능 (Layer Procedures & Functions)<a hidden class=anchor aria-hidden=true href=#s5-계층별-기본-절차-및-기능-layer-procedures--functions>#</a></h4><h5 id=overview-4>Overview<a hidden class=anchor aria-hidden=true href=#overview-4>#</a></h5><p>OSI 7계층 각각이 &lsquo;어떻게(How it Works)&rsquo; 동작하는지, 즉 각 계층이 담당하는 구체적인 기능, 절차, 그리고 해당 계층에서 동작하는 대표적인 프로토콜 및 장비를 상세히 설명합니다.</p><h5 id=body-5>Body<a hidden class=anchor aria-hidden=true href=#body-5>#</a></h5><p>각 계층은 독립적인 기능을 수행하며, 하위 계층의 서비스를 이용하여 상위 계층에 서비스를 제공합니다.</p><ul><li><p><strong>L1: Physical (물리 계층)</strong></p><ul><li><strong>기능</strong>: 데이터를 물리적인 신호(전기 신호, 광 신호, 전파)로 변환하여 전송 매체(케이블, 광섬유, 공기)를 통해 단순히 전송합니다. 데이터의 내용이나 구조(프레임, 패킷)는 전혀 인지하지 못하고 오직 0과 1의 비트 스트림만 처리합니다.</li><li><strong>핵심 절차</strong>: 비트 인코딩(0/1을 신호로), 신호 전송, 회선 연결 및 해제.</li><li><strong>관련 요소</strong>: 리피터(Repeater), 허브(Hub), 케이블(UTP, 광케이블), 커넥터(RJ-45), 전압 레벨, 핀 배치.</li></ul></li><li><p><strong>L2: Data Link (데이터 링크 계층)</strong></p><ul><li><strong>기능</strong>: <strong>동일한 로컬 네트워크(LAN)</strong> 내에서 장치 간의 안정적인 데이터 전송을 담당합니다. 물리적 주소(MAC 주소)를 사용하여 통신 대상을 식별하고, 비트 스트림에서 발생할 수 있는 오류를 감지(Error Detection)합니다.</li><li><strong>핵심 절차</strong>: 프레이밍(Framing: 비트를 프레임으로 묶음), 물리 주소 지정(MAC Addressing), 오류 검출(FCS), 흐름 제어, 매체 접근 제어(MAC).</li><li><strong>관련 요소</strong>: 스위치(Switch), 브리지(Bridge), 네트워크 인터페이스 카드(NIC), MAC 주소, 이더넷(Ethernet), PPP.</li></ul></li><li><p><strong>L3: Network (네트워크 계층)</strong></p><ul><li><strong>기능</strong>: <strong>서로 다른 네트워크</strong> 간의 데이터 전송(라우팅)을 담당합니다. 논리적 주소(IP 주소)를 사용하여 최종 목적지까지의 최적 경로를 결정(Path Determination)하고, 패킷을 해당 경로로 전송(Forwarding)합니다.</li><li><strong>핵심 절차</strong>: 논리 주소 지정(IP Addressing), 라우팅(Routing), 패킷 포워딩, 분할 및 재조립(Fragmentation).</li><li><strong>관련 요소</strong>: 라우터(Router), L3 스위치, IP(IPv4, IPv6), ICMP, ARP.</li></ul></li><li><p><strong>L4: Transport (전송 계층)</strong></p><ul><li><strong>기능</strong>: 송신 측과 수신 측 **종단 간(End-to-End)**의 데이터 전송을 관리합니다. 포트 번호(Port Number)를 사용하여 특정 애플리케이션(프로세스)을 식별하고, 데이터 전송의 신뢰성을 보장(TCP)하거나, 빠른 속도를 우선(UDP)합니다.</li><li><strong>핵심 절차</strong>: 프로세스 식별(Port Multiplexing), 세그먼테이션(Segmentation), 연결 제어(TCP), 오류 제어(TCP), 흐름 제어(TCP), 혼잡 제어(TCP).</li><li><strong>관련 요소</strong>: TCP, UDP, 포트 번호, 방화벽(L4).</li></ul></li><li><p><strong>L5: Session (세션 계층)</strong></p><ul><li><strong>기능</strong>: 두 애플리케이션 간의 통신 **세션(Session)**을 수립, 관리, 유지 및 종료합니다. 통신 방식을 결정(단방향, 반이중, 전이중)하고, 대화(Dialogue)를 제어합니다. (현대 TCP/IP 모델에서는 L7에 통합됨)</li><li><strong>핵심 절차</strong>: 세션 수립/종료(Establish/Terminate), 대화 제어(Dialogue Control), 동기화(Synchronization).</li><li><strong>관련 요소</strong>: RPC(Remote Procedure Call), NetBIOS.</li></ul></li><li><p><strong>L6: Presentation (표현 계층)</strong></p><ul><li><strong>기능</strong>: 애플리케이션이 이해할 수 있는 공통된 형식으로 데이터를 **변환(Translate)**합니다. 데이터 압축(Compression), 암호화(Encryption) 및 복호화(Decryption)를 담당합니다. (현대 TCP/IP 모델에서는 L7에 통합됨)</li><li><strong>핵심 절차</strong>: 데이터 형식 변환(예: ASCII to EBCDIC), 데이터 암호화/복호화, 데이터 압축/해제.</li><li><strong>관련 요소</strong>: SSL/TLS (논쟁의 여지가 있으나 기능적으로 연관됨), JPEG, MPEG, ASCII.</li></ul></li><li><p><strong>L7: Application (응용 계층)</strong></p><ul><li><strong>기능</strong>: 최종 사용자가 직접 상호작용하는 계층으로, 이메일, 웹 브라우징, 파일 전송 등 구체적인 <strong>네트워크 서비스</strong>를 제공합니다.</li><li><strong>핵심 절차</strong>: 사용자 인터페이스 제공, 네트워크 서비스 접근.</li><li><strong>관련 요소</strong>: HTTP, FTP, SMTP, DNS, SSH, 텔넷(Telnet).</li></ul></li></ul><h5 id=supporting-artifacts-4>Supporting Artifacts<a hidden class=anchor aria-hidden=true href=#supporting-artifacts-4>#</a></h5><p>아래 표는 각 계층의 핵심 기능과 주요 관련 요소를 요약 정리한 것입니다.</p><table><thead><tr><th style=text-align:left>계층</th><th style=text-align:left>핵심 기능 (Function)</th><th style=text-align:left>주요 프로토콜 / 장치 / 개념</th></tr></thead><tbody><tr><td style=text-align:left><strong>L7 (응용)</strong></td><td style=text-align:left>최종 사용자 서비스 제공</td><td style=text-align:left>HTTP, DNS, FTP, SMTP, SSH</td></tr><tr><td style=text-align:left><strong>L6 (표현)</strong></td><td style=text-align:left>데이터 형식 변환, 암호화, 압축</td><td style=text-align:left>SSL/TLS, JPEG, MPEG, ASCII</td></tr><tr><td style=text-align:left><strong>L5 (세션)</strong></td><td style=text-align:left>통신 세션 수립, 관리, 종료</td><td style=text-align:left>RPC, NetBIOS, (TCP의 세션 기능)</td></tr><tr><td style=text-align:left><strong>L4 (전송)</strong></td><td style=text-align:left>종단 간 신뢰성/흐름 제어, 포트 식별</td><td style=text-align:left><strong>TCP, UDP</strong>, 포트 번호, 방화벽</td></tr><tr><td style=text-align:left><strong>L3 (네트워크)</strong></td><td style=text-align:left><strong>라우팅</strong> (경로 설정), 논리 주소(IP) 지정</td><td style=text-align:left><strong>IP</strong>, ICMP, ARP, <strong>라우터</strong></td></tr><tr><td style=text-align:left><strong>L2 (데이터 링크)</strong></td><td style=text-align:left><strong>로컬</strong> 전송, 물리 주소(MAC) 지정, 오류 감지</td><td style=text-align:left><strong>이더넷</strong>, MAC 주소, <strong>스위치</strong>, NIC</td></tr><tr><td style=text-align:left><strong>L1 (물리)</strong></td><td style=text-align:left>비트(물리 신호) 전송</td><td style=text-align:left>케이블, 허브, 리피터, 전압</td></tr></tbody></table><hr><h4 id=s6-아키텍처-및-데이터-흐름-architecture--data-flow>S6: 아키텍처 및 데이터 흐름 (Architecture & Data Flow)<a hidden class=anchor aria-hidden=true href=#s6-아키텍처-및-데이터-흐름-architecture--data-flow>#</a></h4><h5 id=overview-5>Overview<a hidden class=anchor aria-hidden=true href=#overview-5>#</a></h5><p>OSI 모델의 구조적 아키텍처를 설명하며, 데이터가 실제 장치 내부와 네트워크를 통해 흐르는 두 가지 방식인 &lsquo;수직적 흐름(Vertical Flow)&lsquo;과 &lsquo;수평적 흐름(Horizontal Flow)&lsquo;을 구분하여 설명합니다.</p><h5 id=body-6>Body<a hidden class=anchor aria-hidden=true href=#body-6>#</a></h5><p>OSI 모델의 아키텍처는 두 가지 유형의 데이터 흐름으로 이해할 수 있습니다.</p><ol><li><p><strong>수직적 흐름 (Vertical Flow / Adjacent-Layer Interaction)</strong></p><ul><li>이는 <strong>하나의 장치(Host) 내부</strong>에서 발생하는 데이터 흐름을 의미합니다.</li><li>S4에서 설명한 <strong>캡슐화(L7→L1)</strong> 및 <strong>비캡슐화(L1→L7)</strong> 과정이 바로 이 수직적 흐름에 해당합니다.</li><li>각 계층 N은 바로 아래 계층 N-1의 서비스를 호출하고, 바로 위 계층 N+1에게 서비스를 제공합니다. 예를 들어, L4(전송 계층)는 L3(네트워크 계층)가 제공하는 &lsquo;패킷 전송 서비스&rsquo;를 사용하여 L5(세션 계층)에게 &lsquo;신뢰할 수 있는 세그먼트 전송 서비스&rsquo;를 제공합니다.</li><li>이 흐름은 실제 데이터가 스택을 오르내리는 물리적인(혹은 소프트웨어적인) 경로입니다.</li></ul></li><li><p><strong>수평적 흐름 (Horizontal Flow / Same-Layer Interaction)</strong></p><ul><li>이는 **서로 다른 장치(Host A와 Host B)**에 있는 <strong>동일한 계층(Peer Layer)</strong> 간의 <strong>논리적인(Logical)</strong> 통신 흐름을 의미합니다.</li><li>예를 들어, 송신자 A의 L4(전송 계층)는 수신자 B의 L4(전송 계층)와 직접 통신하는 것처럼 동작합니다. 송신자 A의 L4가 추가한 TCP 헤더(PDU: 세그먼트)는 오직 수신자 B의 L4만이 해석하고 응답합니다.</li><li>중간에 있는 라우터(L3 장치)나 스위치(L2 장치)는 L4 헤더를 보거나 해석할 필요가 없습니다. (물론 방화벽이나 NAT는 예외적으로 L4를 검사합니다.)</li><li>이 &lsquo;논리적&rsquo; 수평 통신을 실제로 가능하게 하는 것이 바로 하위 계층을 이용한 &lsquo;물리적&rsquo; 수직 통신(캡슐화)입니다. L4는 L3에게, L3는 L2에게, L2는 L1에게 데이터를 &lsquo;위임&rsquo;함으로써 자신의 논리적 통신을 완성합니다.</li></ul></li></ol><h5 id=supporting-artifacts-5>Supporting Artifacts<a hidden class=anchor aria-hidden=true href=#supporting-artifacts-5>#</a></h5><p>아래 다이어그램은 호스트 A와 호스트 B 간의 수직적(실제) 흐름과 수평적(논리적) 흐름을 보여줍니다.</p><pre class=mermaid>graph TD
    subgraph 호스트 A (송신자)
        A7[L7: 응용]
        A6[L6: 표현]
        A5[L5: 세션]
        A4[L4: 전송]
        A3[L3: 네트워크]
        A2[L2: 데이터 링크]
        A1[L1: 물리]
        A7 -- 수직적 흐름 (캡슐화) --&gt; A6
        A6 --&gt; A5
        A5 --&gt; A4
        A4 --&gt; A3
        A3 --&gt; A2
        A2 --&gt; A1
    end

    subgraph 호스트 B (수신자)
        B7[L7: 응용]
        B6[L6: 표현]
        B5[L5: 세션]
        B4[L4: 전송]
        B3[L3: 네트워크]
        B2[L2: 데이터 링크]
        B1[L1: 물리]
        B1 -- 수직적 흐름 (비캡슐화) --&gt; B2
        B2 --&gt; B3
        B3 --&gt; B4
        B4 --&gt; B5
        B5 --&gt; B6
        B6 --&gt; B7
    end

    A1 -- 물리적 매체 (케이블/공기) --&gt; B1

    %% 수평적 (논리적) 흐름
    A7 &lt;--&gt; B7
    A6 &lt;--&gt; B6
    A5 &lt;--&gt; B5
    A4 &lt;--&gt; B4
    A3 &lt;--&gt; B3
    A2 &lt;--&gt; B2

    linkStyle 0,1,2,3,4,5,7,8,9,10,11,12 stroke-width:2px,stroke:blue,stroke-dasharray: 5 5;
    linkStyle 6 stroke-width:4px,stroke:black;
    linkStyle 13,14,15,16,17,18 stroke-width:2px,stroke:red,stroke-dasharray: 2 2;

    classDef default fill:#f9f9f9,stroke:#333,stroke-width:2px;
</pre><hr><h4 id=s7-기본-트레이드오프-및-안티패턴-trade-offs--anti-patterns>S7: 기본 트레이드오프 및 안티패턴 (Trade-offs & Anti-Patterns)<a hidden class=anchor aria-hidden=true href=#s7-기본-트레이드오프-및-안티패턴-trade-offs--anti-patterns>#</a></h4><h5 id=overview-6>Overview<a hidden class=anchor aria-hidden=true href=#overview-6>#</a></h5><p>OSI 모델의 계층화된 설계 원칙이 가져오는 이점(Trade-off: Pro)과 비용(Trade-off: Con)을 분석하고, 이 모델을 학습하거나 적용할 때 빠지기 쉬운 오해(Anti-Patterns)를 설명합니다.</p><h5 id=body-7>Body<a hidden class=anchor aria-hidden=true href=#body-7>#</a></h5><p><strong>1. 트레이드오프: 계층화의 명암 (Layering Trade-offs)</strong></p><p>OSI 모델의 핵심 디자인 원칙인 &lsquo;계층화(Layering)&lsquo;는 명확한 이점을 제공하지만, 동시에 현실적인 비용을 수반합니다.</p><ul><li><p><strong>이점 (Pros) - 모듈성(Modularity) 및 추상화(Abstraction)</strong>:</p><ul><li><strong>&ldquo;왜(Why)&rdquo;:</strong> 복잡한 시스템을 관리 가능한 부분으로 나눔으로써, 각 계층의 설계와 구현에만 집중할 수 있습니다. (S1 참고)</li><li><strong>결과:</strong> L1에서 UTP 케이블을 광케이블로 교체해도, L7의 웹 브라우저는 코드를 변경할 필요가 없습니다. 이는 기술 발전과 유지보수를 매우 용이하게 합니다.</li></ul></li><li><p><strong>비용 (Cons) - 오버헤드(Overhead) 및 효율성 저하</strong>:</p><ul><li><strong>&ldquo;왜(Why)&rdquo;:</strong> 캡슐화 과정에서 각 계층이 헤더를 추가하기 때문에, 실제 전송하려는 원본 데이터(Payload) 외에 제어 정보의 비중이 커집니다. (S3 참고)</li><li><strong>결과:</strong> 간단한 데이터를 보내는 데도 L7부터 L2까지의 모든 헤더가 추가되어야 하므로, 대역폭(Bandwidth) 낭비와 처리 지연(Latency)이 발생할 수 있습니다.</li></ul></li></ul><p><strong>2. 안티패턴 및 일반적인 오해 (Anti-Patterns & Misconceptions)</strong></p><ul><li><p><strong>안티패턴: &lsquo;계층 위반 (Layer Violation)&lsquo;의 유혹</strong>:</p><ul><li><strong>증상</strong>: 효율성을 높인다는 명목으로 특정 계층을 건너뛰거나(예: L7이 L4를 건너뛰고 L3에 직접 접근), 하위 계층이 상위 계층의 정보를 참조하는(예: L4 방화벽이 L7의 HTTP URL을 검사하는 &lsquo;Deep Packet Inspection&rsquo;) 경우입니다.</li><li><strong>문제</strong>: 이는 단기적으로는 성능을 최적화할 수 있으나, 장기적으로는 계층화의 목적인 &lsquo;모듈성&rsquo;을 파괴합니다. L7의 프로토콜이 변경되면 L4 방화벽의 룰까지 수정해야 하는 종속성이 발생합니다.</li></ul></li><li><p><strong>오해 1: &ldquo;OSI 모델 = TCP/IP 모델&rdquo;</strong>:</p><ul><li><strong>증상</strong>: 두 모델을 혼용하거나 동일시합니다.</li><li><strong>사실</strong>: OSI는 7계층의 <strong>이론적 참조 모델</strong>이며, TCP/IP는 4계층의 <strong>실용적 프로토콜 스위트</strong>입니다. (S2, SX.D 참고)</li></ul></li><li><p><strong>오해 2: &ldquo;L5(세션), L6(표현)은 쓸모없다&rdquo;</strong>:</p><ul><li><strong>증상</strong>: TCP/IP 모델에는 이 계층들이 명시적으로 없기 때문에 불필요하다고 간주합니다.</li><li><strong>사실</strong>: 기능 자체가 사라진 것이 아닙니다. TCP/IP 모델에서는 L5와 L6의 기능(세션 관리, 암호화, 데이터 형식 변환)이 L7(응용 계층)의 **애플리케이션 자체(예: TLS, HTTP/2)**에 의해 통합되어 구현됩니다.</li></ul></li></ul><h5 id=supporting-artifacts-6>Supporting Artifacts<a hidden class=anchor aria-hidden=true href=#supporting-artifacts-6>#</a></h5><p>아래 표는 계층화(Layering) 디자인 원칙의 트레이드오프를 요약합니다.</p><table><thead><tr><th style=text-align:left>관점</th><th style=text-align:left>이점 (Pros)</th><th style=text-align:left>비용 (Cons)</th></tr></thead><tbody><tr><td style=text-align:left><strong>설계/개발</strong></td><td style=text-align:left><strong>모듈성</strong>: 각 계층은 독립적으로 개발/수정 가능.</td><td style=text-align:left><strong>기능 중복</strong>: 여러 계층에서 유사한 기능(예: 오류 제어)을 수행할 수 있음.</td></tr><tr><td style=text-align:left><strong>유지보수</strong></td><td style=text-align:left><strong>단순성</strong>: 문제 발생 시 해당 계층만 진단하면 됨 (SX.E).</td><td style=text-align:left><strong>종속성</strong>: 엄격하게 지키지 않으면(계층 위반) 모듈성이 깨짐.</td></tr><tr><td style=text-align:left><strong>성능</strong></td><td style=text-align:left><strong>표준화</strong>: 상호 운용성 보장.</td><td style=text-align:left><strong>오버헤드</strong>: 헤더 추가로 인한 대역폭 낭비 및 처리 시간 증가.</td></tr></tbody></table><hr><h4 id=sxd-고급-주제---osi-vs-tcpip-모델-비교-advanced-osi-vs-tcpip>SX.D: 고급 주제 - OSI vs. TCP/IP 모델 비교 (Advanced: OSI vs. TCP/IP)<a hidden class=anchor aria-hidden=true href=#sxd-고급-주제---osi-vs-tcpip-모델-비교-advanced-osi-vs-tcpip>#</a></h4><h5 id=overview-7>Overview<a hidden class=anchor aria-hidden=true href=#overview-7>#</a></h5><p>OSI 모델(이론적 참조 모델)과 TCP/IP 모델(실제 인터넷 모델)을 직접 비교합니다. 3-6년차 개발자는 두 모델의 차이점과 현실 세계에서 OSI 모델이 어떻게 TCP/IP 모델에 투영되는지 이해해야 합니다.</p><h5 id=body-8>Body<a hidden class=anchor aria-hidden=true href=#body-8>#</a></h5><p>네트워킹을 이해할 때 OSI 모델과 TCP/IP 모델은 항상 함께 언급됩니다. 두 모델은 목적과 구조에서 명확한 차이를 보입니다.</p><ul><li><p><strong>OSI 모델 (7계층)</strong>:</p><ul><li><strong>목적</strong>: &lsquo;어떻게 통신해야 하는가&rsquo;에 대한 <strong>규범적(Prescriptive) 참조 모델</strong>입니다. ISO가 주도하여 표준(De jure)으로 만들었습니다.</li><li><strong>특징</strong>: 계층 간 역할 구분이 매우 명확하고 엄격합니다. 특히 L5(세션), L6(표현), L7(응용)을 명확하게 분리합니다.</li><li><strong>현실</strong>: 실제 구현(OSI 프로토콜 스위트)은 시장에서 외면받았으나, **교육 및 문제 해결(Troubleshooting)**을 위한 개념적 프레임워크로서는 여전히 압도적인 가치를 지닙니다.</li></ul></li><li><p><strong>TCP/IP 모델 (4계층)</strong>:</p><ul><li><strong>목적</strong>: &lsquo;인터넷이 어떻게 동작하는가&rsquo;를 설명하는 <strong>기술적(Descriptive) 실용 모델</strong>입니다. 미 국방성(DoD)이 주도하여 사실상(De facto) 표준이 되었습니다.</li><li><strong>특징</strong>: OSI 모델보다 단순하며, 특정 프로토콜(TCP, IP)을 중심으로 설계되었습니다. OSI의 L5, L6, L7 기능을 하나의 &lsquo;애플리케이션 계층&rsquo;으로 통합합니다.</li><li><strong>현실</strong>: 현재 인터넷을 지배하는 실질적인 모델이자 프로토콜 스위트입니다.</li></ul></li></ul><p><strong>계층 매핑 (Layer Mapping)</strong></p><p>개발자는 OSI 7계층을 기준으로 TCP/IP 4계층을 매핑하여 이해해야 합니다.</p><ol><li><strong>OSI L5-L7 (응용, 표현, 세션)</strong> → <strong>TCP/IP L4 (Application)</strong><ul><li>TCP/IP는 이 3개 계층의 기능을 애플리케이션(예: HTTP, FTP, SMTP)이 스스로 처리하도록 위임합니다. (예: TLS 암호화는 L6 기능이지만 L7 앱과 함께 동작)</li></ul></li><li><strong>OSI L4 (전송)</strong> → <strong>TCP/IP L3 (Transport)</strong><ul><li>기능이 거의 동일합니다. 종단 간 통신(TCP, UDP)을 담당합니다.</li></ul></li><li><strong>OSI L3 (네트워크)</strong> → <strong>TCP/IP L2 (Internet)</strong><ul><li>기능이 거의 동일합니다. IP 주소를 사용한 라우팅을 담당합니다.</li></ul></li><li><strong>OSI L1-L2 (물리, 데이터 링크)</strong> → <strong>TCP/IP L1 (Network Access / Link)</strong><ul><li>TCP/IP 모델은 이 영역을 구체적으로 정의하지 않고, 이더넷이나 Wi-Fi 같은 기존의 L1/L2 표준에 위임합니다.</li></ul></li></ol><h5 id=supporting-artifacts-7>Supporting Artifacts<a hidden class=anchor aria-hidden=true href=#supporting-artifacts-7>#</a></h5><p>아래 표는 OSI 7계층 모델과 TCP/IP 4계층 모델을 비교 매핑합니다.</p><table><thead><tr><th style=text-align:left>OSI 7계층 모델</th><th style=text-align:left>TCP/IP 4계층 모델</th><th style=text-align:left>주요 기능 및 프로토콜</th></tr></thead><tbody><tr><td style=text-align:left><strong>L7 (Application)</strong></td><td style=text-align:left>&lt;center>L4 (Application)&lt;/center></td><td style=text-align:left>HTTP, FTP, SMTP, DNS, SSL/TLS</td></tr><tr><td style=text-align:left><strong>L6 (Presentation)</strong></td><td style=text-align:left></td><td style=text-align:left></td></tr><tr><td style=text-align:left><strong>L5 (Session)</strong></td><td style=text-align:left></td><td style=text-align:left></td></tr><tr><td style=text-align:left><strong>L4 (Transport)</strong></td><td style=text-align:left>L3 (Transport)</td><td style=text-align:left>TCP, UDP, 포트 번호</td></tr><tr><td style=text-align:left><strong>L3 (Network)</strong></td><td style=text-align:left>L2 (Internet)</td><td style=text-align:left>IP, ICMP, 라우터</td></tr><tr><td style=text-align:left><strong>L2 (Data Link)</strong></td><td style=text-align:left>&lt;center>L1 (Network Access / Link)&lt;/center></td><td style=text-align:left>이더넷, MAC 주소, 스위치</td></tr><tr><td style=text-align:left><strong>L1 (Physical)</strong></td><td style=text-align:left></td><td style=text-align:left></td></tr></tbody></table><hr><h4 id=sxe-문제-해결---osi-모델-활용-troubleshooting-with-osi>SX.E: 문제 해결 - OSI 모델 활용 (Troubleshooting with OSI)<a hidden class=anchor aria-hidden=true href=#sxe-문제-해결---osi-모델-활용-troubleshooting-with-osi>#</a></h4><h5 id=overview-8>Overview<a hidden class=anchor aria-hidden=true href=#overview-8>#</a></h5><p>OSI 7계층 모델이 실무에서 갖는 가장 큰 가치인 &lsquo;네트워크 문제 해결(Troubleshooting)&lsquo;에 이 모델을 어떻게 적용하는지 설명합니다. 이는 실무 개발자가 네트워크 장애에 체계적으로 접근하는 방법을 제공합니다.</p><h5 id=body-9>Body<a hidden class=anchor aria-hidden=true href=#body-9>#</a></h5><p>네트워크 장애가 발생했을 때(예: &ldquo;웹사이트에 접속이 안 돼요&rdquo;), OSI 모델은 &lsquo;감(Gut feeling)&lsquo;이 아닌 &lsquo;체계적인 접근법&rsquo;을 제공합니다. 접근 방식은 크게 세 가지입니다.</p><p><strong>1. 상향식 접근 (Bottom-Up Approach)</strong></p><ul><li><strong>절차</strong>: L1(물리 계층)에서 시작하여 L7(응용 계층) 방향으로 순차적으로 점검합니다.</li><li><strong>&ldquo;왜(Why)&rdquo;</strong>: 하드웨어나 물리적 연결 문제(가장 흔한 원인)가 의심될 때 유용합니다.</li><li><strong>예시</strong>:<ul><li>(L1) &ldquo;LAN 케이블이 제대로 꽂혀 있나? Wi-Fi 신호는 정상인가?&rdquo;</li><li>(L2) &ldquo;네트워크 어댑터(NIC)가 활성화되어 있나? 스위치 포트가 정상인가?&rdquo;</li><li>(L3) &ldquo;PC가 IP 주소를 할당받았나? (DHCP)&rdquo;</li><li>(L3) &ldquo;게이트웨이(라우터)로 <code>ping</code>이 도달하는가?&rdquo;</li><li>(L3/L7) &ldquo;외부 DNS 서버(<code>8.8.8.8</code>)로 <code>ping</code>이 도달하는가?&rdquo;</li><li>(L7) &ldquo;DNS 조회가 정상적으로 되는가? (<code>nslookup</code>)&rdquo;</li><li>(L4/L7) &ldquo;방화벽이 해당 포트(예: 443)를 막고 있지 않은가?&rdquo;</li></ul></li></ul><p><strong>2. 하향식 접근 (Top-Down Approach)</strong></p><ul><li><strong>절차</strong>: L7(응용 계층)에서 시작하여 L1(물리 계층) 방향으로 점검합니다.</li><li><strong>&ldquo;왜(Why)&rdquo;</strong>: 특정 애플리케이션(예: 브라우저)에서만 문제가 발생하고 다른 네트워크(예: <code>ping</code>)는 정상일 때 유용합니다.</li><li><strong>예시</strong>:<ul><li>(L7) &ldquo;브라우저 캐시 문제인가? 다른 브라우저에서도 동일한가?&rdquo;</li><li>(L7) &ldquo;URL 주소가 정확한가? 오타는 없는가?&rdquo;</li><li>(L7) &ldquo;DNS가 특정 도메인만 해석하지 못하는가?&rdquo;</li><li>(L4) &ldquo;특정 포트만 막혀있는가? (예: <code>telnet [domain] 443</code> 시도)&rdquo;</li><li>(L3) &ldquo;해당 목적지 IP로 <code>ping</code>이나 <code>traceroute</code>가 실패하는가?&rdquo;</li></ul></li></ul><p><strong>3. 분할 정복 접근 (Divide and Conquer Approach)</strong></p><ul><li><strong>절차</strong>: 가장 의심되는 계층(보통 L3 또는 L4)을 먼저 테스트합니다.</li><li><strong>&ldquo;왜(Why)&rdquo;</strong>: 가장 효율적인 방식입니다. 경험 많은 엔지니어가 주로 사용합니다.</li><li><strong>예시</strong>:<ul><li>가장 먼저 L3(네트워크 계층)를 테스트합니다. (예: <code>ping google.com</code>)</li><li><strong>(Ping 성공 시)</strong>: L1, L2, L3는 정상. 문제는 L4 ~ L7 사이에 있음 (예: 방화벽, L7 애플리케이션 오류, TLS 인증서 문제).</li><li><strong>(Ping 실패 시)</strong>: 문제는 L1 ~ L3 사이에 있음 (예: 케이블, 스위치, 라우팅, IP 설정 오류).</li></ul></li></ul><h5 id=supporting-artifacts-8>Supporting Artifacts<a hidden class=anchor aria-hidden=true href=#supporting-artifacts-8>#</a></h5><p>아래 표는 일반적인 네트워크 장애 증상과 가장 가능성이 높은 OSI 계층을 매핑합니다.</p><table><thead><tr><th style=text-align:left>장애 증상 (Symptom)</th><th style=text-align:left>가장 의심되는 계층 (Likely Layer)</th><th style=text-align:left>진단 도구 / 확인 사항</th></tr></thead><tbody><tr><td style=text-align:left>&ldquo;네트워크 케이블이 연결되지 않음&rdquo; (Unplugged)</td><td style=text-align:left><strong>L1 (물리)</strong></td><td style=text-align:left>케이블 재연결, NIC LED 확인, Wi-Fi 신호 강도</td></tr><tr><td style=text-align:left>IP 주소를 할당받지 못함 (DHCP 실패)</td><td style=text-align:left><strong>L2 (데이터 링크)</strong> / L3 (네트워크)</td><td style=text-align:left><code>ipconfig</code> / <code>ifconfig</code>, 스위치 연결 상태</td></tr><tr><td style=text-align:left>내부망(LAN) 통신은 되지만 외부망(인터넷)이 안 됨</td><td style=text-align:left><strong>L3 (네트워크)</strong></td><td style=text-align:left><code>ping [Gateway IP]</code>, <code>ping 8.8.8.8</code>, <code>traceroute</code></td></tr><tr><td style=text-align:left><code>ping</code>은 성공하지만 웹사이트 접속(HTTP)이 안 됨</td><td style=text-align:left><strong>L4 (전송)</strong> / <strong>L7 (응용)</strong></td><td style=text-align:left><code>telnet [domain] 80</code>, 방화벽 설정(포트 차단), DNS 설정</td></tr><tr><td style=text-align:left>&ldquo;인증서 오류&rdquo; (SSL/TLS Error)</td><td style=text-align:left><strong>L6 (표현)</strong> / L7 (응용)</td><td style=text-align:left>시스템 날짜/시간 확인, 브라우저 인증서 캐시</td></tr><tr><td style=text-align:left>특정 사이트만 매우 느리게 로드됨</td><td style=text-align:left><strong>L4 (전송)</strong> / L7 (응용)</td><td style=text-align:left>혼잡 제어(TCP), 서버 측 성능 문제</td></tr></tbody></table><hr><h4 id=final-summary-fs>Final Summary (FS)<a hidden class=anchor aria-hidden=true href=#final-summary-fs>#</a></h4><p>OSI 7계층 모델은 현대 네트워크 통신의 복잡성을 이해하기 위한 필수적인 <strong>개념적 프레임워크</strong>입니다. 1980년대 상호 운용성 문제를 해결하기 위해 ISO에 의해 개발된 이 7계층(물리, 데이터 링크, 네트워크, 전송, 세션, 표현, 응용) 구조는 데이터가 어떻게 캡슐화되고(L7→L1) 비캡슐화되는지(L1→L7)의 수명주기를 명확히 정의합니다. 각 계층은 고유한 PDU(비트, 프레임, 패킷, 세그먼트)를 가지며, 논리적인 수평 통신을 위해 수직적인 흐름(서비스)을 이용합니다. 오늘날 인터넷은 실용적인 TCP/IP 4계층 모델을 따르지만, OSI 모델은 계층화의 트레이드오프(모듈성 vs. 오버헤드)를 이해하고, 네트워크 장애 발생 시 **체계적인 문제 해결(Troubleshooting)**을 수행하는 데 가장 강력한 이론적 도구로 남아있습니다.</p><h4 id=learning-guide-lg>Learning Guide (LG)<a hidden class=anchor aria-hidden=true href=#learning-guide-lg>#</a></h4><table><thead><tr><th style=text-align:left>Stage</th><th style=text-align:left>Goal</th><th style=text-align:left>Time(h)</th><th style=text-align:left>Outcome(metric)</th><th style=text-align:left>Check</th><th style=text-align:left>Evidence(RF#)</th></tr></thead><tbody><tr><td style=text-align:left>1. 기본 개념 확립</td><td style=text-align:left>OSI 7계층의 존재 이유(Why)와 캡슐화/PDU 개념을 이해합니다.</td><td style=text-align:left>1.0</td><td style=text-align:left>7계층의 순서와 각 PDU 이름을 암기하고 설명할 수 있습니다.</td><td style=text-align:left>7계층(S5)과 PDU(S3) 테이블을 완성할 수 있는가?</td><td style=text-align:left>S1, S3, S5</td></tr><tr><td style=text-align:left>2. 모델 비교 및 흐름 이해</td><td style=text-align:left>OSI 모델과 TCP/IP 모델의 차이점, 그리고 데이터의 실제 흐름(수명주기)을 이해합니다.</td><td style=text-align:left>1.0</td><td style=text-align:left>OSI와 TCP/IP 계층을 매핑하는 다이어그램(SX.D)을 그릴 수 있습니다.</td><td style=text-align:left>데이터 캡슐화(S4) 다이어그램을 설명할 수 있는가?</td><td style=text-align:left>S2, S4, S6, SX.D</td></tr><tr><td style=text-align:left>3. 실무 적용 (진단)</td><td style=text-align:left>네트워크 장애 증상을 보고 어떤 계층의 문제인지 체계적으로 추론할 수 있습니다.</td><td style=text-align:left>1.0</td><td style=text-align:left>&lsquo;Ping은 되는데 웹 접속이 안 될 때&rsquo;의 원인을 3가지 이상 제시할 수 있습니다.</td><td style=text-align:left>장애 매핑(SX.E) 표의 80% 이상을 이해하고 있는가?</td><td style=text-align:left>S7, SX.E</td></tr></tbody></table><h4 id=terminology-term>Terminology (TERM)<a hidden class=anchor aria-hidden=true href=#terminology-term>#</a></h4><table><thead><tr><th style=text-align:left>용어(EN, 약어)</th><th style=text-align:left>한글</th><th style=text-align:left>정의</th><th style=text-align:left>역할/맥락</th><th style=text-align:left>관련 개념</th><th style=text-align:left>실무 연관성</th><th style=text-align:left>근거(RF#)</th></tr></thead><tbody><tr><td style=text-align:left><strong>OSI Model</strong></td><td style=text-align:left>OSI 참조 모델</td><td style=text-align:left>네트워크 통신을 7개 계층으로 나눈 개념적 프레임워크.</td><td style=text-align:left>L1~L7</td><td style=text-align:left>TCP/IP Model</td><td style=text-align:left>네트워크 교육 및 장애 진단의 표준 이론.</td><td style=text-align:left>S1, S2</td></tr><tr><td style=text-align:left><strong>Encapsulation</strong></td><td style=text-align:left>캡슐화</td><td style=text-align:left>(송신) 데이터가 하위 계층으로 내려가며 헤더가 추가되는 과정.</td><td style=text-align:left>L7 → L1</td><td style=text-align:left>Decapsulation, PDU</td><td style=text-align:left>데이터가 네트워크로 전송되기 위해 &lsquo;포장&rsquo;되는 방식.</td><td style=text-align:left>S3, S4</td></tr><tr><td style=text-align:left><strong>Decapsulation</strong></td><td style=text-align:left>비캡슐화</td><td style=text-align:left>(수신) 데이터가 상위 계층으로 올라가며 헤더가 제거되는 과정.</td><td style=text-align:left>L1 → L7</td><td style=text-align:left>Encapsulation</td><td style=text-align:left>수신된 신호가 사용자가 볼 데이터로 &lsquo;복원&rsquo;되는 방식.</td><td style=text-align:left>S3, S4</td></tr><tr><td style=text-align:left><strong>PDU</strong> (Protocol Data Unit)</td><td style=text-align:left>프로토콜 데이터 단위</td><td style=text-align:left>각 계층에서 처리되는 데이터의 공식적인 단위 (예: 프레임, 패킷).</td><td style=text-align:left>L1~L7</td><td style=text-align:left>SDU</td><td style=text-align:left>&ldquo;L3 PDU는 패킷이다"와 같이 계층별 데이터 명칭.</td><td style=text-align:left>S3</td></tr><tr><td style=text-align:left><strong>L3 (Network Layer)</strong></td><td style=text-align:left>네트워크 계층</td><td style=text-align:left>IP 주소를 사용하여 서로 다른 네트워크 간의 <strong>라우팅</strong>(경로 설정)을 담당.</td><td style=text-align:left>L3</td><td style=text-align:left>IP, Router</td><td style=text-align:left>인터넷 통신, VPN, 서브네팅의 핵심.</td><td style=text-align:left>S5</td></tr><tr><td style=text-align:left><strong>L4 (Transport Layer)</strong></td><td style=text-align:left>전송 계층</td><td style=text-align:left>포트 번호를 사용하여 종단 간(End-to-End) 신뢰성(TCP)을 담당.</td><td style=text-align:left>L4</td><td style=text-align:left>TCP, UDP, Port</td><td style=text-align:left>방화벽 설정, 서비스 식별(예: 80, 443)의 핵심.</td><td style=text-align:left>S5</td></tr><tr><td style=text-align:left><strong>L2 (Data Link Layer)</strong></td><td style=text-align:left>데이터 링크 계층</td><td style=text-align:left>MAC 주소를 사용하여 동일 네트워크 내의 노드 간 전송을 담당.</td><td style=text-align:left>L2</td><td style=text-align:left>MAC, Switch, Ethernet</td><td style=text-align:left>LAN 통신, 스위칭, VLAN의 핵심.</td><td style=text-align:left>S5</td></tr><tr><td style=text-align:left><strong>TCP/IP Model</strong></td><td style=text-align:left>TCP/IP 모델</td><td style=text-align:left>4계층으로 구성된 인터넷의 실질적인(De facto) 표준 모델.</td><td style=text-align:left>-</td><td style=text-align:left>OSI Model</td><td style=text-align:left>현재 모든 인터넷 서비스가 이 모델을 기반으로 동작함.</td><td style=text-align:left>S2, SX.D</td></tr><tr><td style=text-align:left><strong>Troubleshooting</strong></td><td style=text-align:left>문제 해결 (장애 진단)</td><td style=text-align:left>OSI 모델을 활용하여 네트워크 장애 원인을 계층별로 체계적으로 식별하는 과정.</td><td style=text-align:left>SX.E</td><td style=text-align:left>Bottom-Up, Top-Down</td><td style=text-align:left>네트워크 장애 시 개발자의 1차 대응 능력.</td><td style=text-align:left>SX.E</td></tr></tbody></table><h4 id=references-ref>References (REF)<a hidden class=anchor aria-hidden=true href=#references-ref>#</a></h4><ol><li><a href=https://nordlayer.com/learn/other/guide-to-osi-model/>7 Layers Explained: OSI Model Guide - NordLayer</a></li><li><a href=https://en.wikipedia.org/wiki/OSI_model>OSI model - Wikipedia</a></li><li><a href=https://www.computernetworkingnotes.com/ccna-study-guide/data-encapsulation-and-de-encapsulation-explained.html>Data Encapsulation and De-encapsulation Explained - ComputerNetworkingNotes</a></li><li><a href=https://www.pynetlabs.com/difference-between-osi-and-tcp-ip-model/>Top Difference Between OSI and TCP/IP Model (2025) - PyNet Labs</a></li><li><a href=https://www.checkpoint.com/cyber-hub/network-security/what-is-the-osi-model-understanding-the-7-layers/>What is the OSI Model? Understanding the 7 Layers - Check Point Software</a></li><li><a href=https://herovired.com/learning-hub/blogs/osi-layer/>7 Layers of OSI Model: Their Functions and Protocols - Hero Vired</a></li><li><a href=https://petri.com/csc_how_to_use_the_osi_model_to_troubleshoot_networks/>How to use the OSI Model for Network Troubleshooting - Petri IT Knowledgebase</a></li><li><a href=https://sepiocyber.com/blog/physical-layer-of-the-osi-model/>What is the Physical Layer in OSI Model? - Sepio Cyber</a></li><li><a href=https://en.wikipedia.org/wiki/Data_link_layer>Data link layer - Wikipedia</a></li><li><a href=https://www.ibm.com/think/topics/osi-model>What Is the OSI Model? | IBM</a></li><li><a href=https://en.wikipedia.org/wiki/Transport_layer>Transport layer - Wikipedia</a></li><li><a href=https://en.wikipedia.org/wiki/Session_layer>Session layer - Wikipedia</a></li><li><a href=https://www.ionos.com/digitalguide/server/know-how/presentation-layer/>What is the presentation layer in the OSI model? - IONOS</a></li><li><a href=https://www.reddit.com/r/networking/comments/1ckiyu8/can_i_practically_explain_osi_model_using_ftp/>Can I practically explain OSI model using FTP ? : r/networking - Reddit</a></li><li><a href=https://www.giac.org/paper/gsec/1417/osi-model-overview/102634>The OSI Model: An Overview - GIAC Certifications</a></li></ol><p>안녕하세요! OSI 7계층에 대한 체계적인 기술 문서를 작성하겠습니다. 템플릿의 2-Phase RF 워크플로우에 따라 단계별로 진행하겠습니다.</p><h2 id=step-1-ihr-입력-정규화-및-검증>Step 1: IHR (입력 정규화 및 검증)<a hidden class=anchor aria-hidden=true href=#step-1-ihr-입력-정규화-및-검증>#</a></h2><p>입력값 검증 완료:</p><ul><li>✅ topic 길이: 11자 (≥ 2)</li><li>✅ classification 깊이: 4단계 (≥ 2)</li><li>✅ 형식 검증 통과</li></ul><h2 id=step-2-rf-phase-1---기초-조사-및-타입-판정-신호-수집>Step 2: RF Phase 1 - 기초 조사 및 타입 판정 신호 수집<a hidden class=anchor aria-hidden=true href=#step-2-rf-phase-1---기초-조사-및-타입-판정-신호-수집>#</a></h2><p>OSI 7계층에 대한 Seeds 수집을 시작하겠습니다.Seeds 수집이 완료되었습니다 (40개 > 최소 15개 요구사항 충족). 이제 Phase 1 조사 결과를 정리하고 TTDM 단계로 진행하겠습니다.</p><h2 id=step-3-rf-phase-1-산출물-생성-rftopicsignals>Step 3: RF Phase 1 산출물 생성 (<code>RF.TopicSignals</code>)<a hidden class=anchor aria-hidden=true href=#step-3-rf-phase-1-산출물-생성-rftopicsignals>#</a></h2><p>조사 결과를 바탕으로 다음 신호를 생성했습니다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a>
</span><span class=lnt id=hl-6-13><a class=lnlinks href=#hl-6-13>13</a>
</span><span class=lnt id=hl-6-14><a class=lnlinks href=#hl-6-14>14</a>
</span><span class=lnt id=hl-6-15><a class=lnlinks href=#hl-6-15>15</a>
</span><span class=lnt id=hl-6-16><a class=lnlinks href=#hl-6-16>16</a>
</span><span class=lnt id=hl-6-17><a class=lnlinks href=#hl-6-17>17</a>
</span><span class=lnt id=hl-6-18><a class=lnlinks href=#hl-6-18>18</a>
</span><span class=lnt id=hl-6-19><a class=lnlinks href=#hl-6-19>19</a>
</span><span class=lnt id=hl-6-20><a class=lnlinks href=#hl-6-20>20</a>
</span><span class=lnt id=hl-6-21><a class=lnlinks href=#hl-6-21>21</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;s1_summary&#34;</span><span class=p>:</span> <span class=s2>&#34;OSI 7계층 모델은 ISO/IEC 7498-1 표준으로 정의된 네트워크 통신의 개념적 프레임워크입니다. 1984년 ISO에 의해 공식 표준으로 채택되었으며, 물리 계층부터 응용 계층까지 7개의 계층으로 구성됩니다. 각 계층은 독립적인 기능을 수행하며, 계층 간 PDU(Protocol Data Unit)를 통해 데이터를 교환합니다. 현대 인터넷은 TCP/IP 모델을 기반으로 하지만, OSI 모델은 네트워크 교육, 문제 해결, 표준화의 기준으로 여전히 널리 사용됩니다.&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nt>&#34;s2_type_signals&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;distributed systems&#34;</span><span class=p>,</span> <span class=s2>&#34;networking protocols&#34;</span><span class=p>,</span> <span class=s2>&#34;network layer&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;protocol stack&#34;</span><span class=p>,</span> <span class=s2>&#34;layered architecture&#34;</span><span class=p>,</span> <span class=s2>&#34;data link&#34;</span><span class=p>,</span> <span class=s2>&#34;physical layer&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;encapsulation&#34;</span><span class=p>,</span> <span class=s2>&#34;PDU&#34;</span><span class=p>,</span> <span class=s2>&#34;ISO standard&#34;</span><span class=p>,</span> <span class=s2>&#34;reference model&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;TCP/IP comparison&#34;</span><span class=p>,</span> <span class=s2>&#34;interoperability&#34;</span><span class=p>,</span> <span class=s2>&#34;protocol independence&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nt>&#34;s3_candidate_keys&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;Encapsulation-Decapsulation&#34;</span><span class=p>,</span> <span class=nt>&#34;relevance&#34;</span><span class=p>:</span> <span class=mf>0.95</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;PDU-Types-Per-Layer&#34;</span><span class=p>,</span> <span class=nt>&#34;relevance&#34;</span><span class=p>:</span> <span class=mf>0.92</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;TCP-IP-Mapping&#34;</span><span class=p>,</span> <span class=nt>&#34;relevance&#34;</span><span class=p>:</span> <span class=mf>0.90</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;ISO-IEC-7498-1-Standard&#34;</span><span class=p>,</span> <span class=nt>&#34;relevance&#34;</span><span class=p>:</span> <span class=mf>0.88</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;Layer-Independence-Principle&#34;</span><span class=p>,</span> <span class=nt>&#34;relevance&#34;</span><span class=p>:</span> <span class=mf>0.85</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;Service-Primitives&#34;</span><span class=p>,</span> <span class=nt>&#34;relevance&#34;</span><span class=p>:</span> <span class=mf>0.82</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;Connection-vs-Connectionless&#34;</span><span class=p>,</span> <span class=nt>&#34;relevance&#34;</span><span class=p>:</span> <span class=mf>0.80</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;OSI-Protocols-History&#34;</span><span class=p>,</span> <span class=nt>&#34;relevance&#34;</span><span class=p>:</span> <span class=mf>0.75</span><span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=step-4-ttdm---type-code-판정-및-구조-확정>Step 4: TTDM - Type Code 판정 및 구조 확정<a hidden class=anchor aria-hidden=true href=#step-4-ttdm---type-code-판정-및-구조-확정>#</a></h2><p><strong>Type Code 판정</strong>: <code>T-DSYS</code> (분산 시스템 및 네트워킹)</p><ul><li>신뢰도: 0.92</li><li>근거: OSI 모델은 네트워킹 프로토콜 스택의 개념적 프레임워크로, 분산 시스템 간 통신의 표준화를 위한 참조 모델입니다.</li></ul><p><strong>S2 필수 키(★) 로드</strong> (T-DSYS 레지스터에서):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1> 1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2> 2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3> 3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4> 4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5> 5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6> 6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7> 7</a>
</span><span class=lnt id=hl-7-8><a class=lnlinks href=#hl-7-8> 8</a>
</span><span class=lnt id=hl-7-9><a class=lnlinks href=#hl-7-9> 9</a>
</span><span class=lnt id=hl-7-10><a class=lnlinks href=#hl-7-10>10</a>
</span><span class=lnt id=hl-7-11><a class=lnlinks href=#hl-7-11>11</a>
</span><span class=lnt id=hl-7-12><a class=lnlinks href=#hl-7-12>12</a>
</span><span class=lnt id=hl-7-13><a class=lnlinks href=#hl-7-13>13</a>
</span><span class=lnt id=hl-7-14><a class=lnlinks href=#hl-7-14>14</a>
</span><span class=lnt id=hl-7-15><a class=lnlinks href=#hl-7-15>15</a>
</span><span class=lnt id=hl-7-16><a class=lnlinks href=#hl-7-16>16</a>
</span><span class=lnt id=hl-7-17><a class=lnlinks href=#hl-7-17>17</a>
</span><span class=lnt id=hl-7-18><a class=lnlinks href=#hl-7-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;type_code&#34;</span><span class=p>:</span> <span class=s2>&#34;T-DSYS&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;confidence&#34;</span><span class=p>:</span> <span class=mf>0.92</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;s2_skeleton&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;T-DSYS-K1&#34;</span><span class=p>,</span> <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;CAP 정리 (CAP Theorem)&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;T-DSYS-K2&#34;</span><span class=p>,</span> <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;합의 알고리즘 (Consensus)&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;T-DSYS-K3&#34;</span><span class=p>,</span> <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;복제 전략 (Replication)&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;T-DSYS-K4&#34;</span><span class=p>,</span> <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;일관성 모델 (Consistency Models)&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;T-DSYS-K5&#34;</span><span class=p>,</span> <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;네트워크 프로토콜 (Protocols)&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;s3_skeleton&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;Topic-A1&#34;</span><span class=p>,</span> <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Encapsulation 및 Decapsulation 메커니즘&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;Topic-A2&#34;</span><span class=p>,</span> <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;각 계층별 PDU 타입 및 구조&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;Topic-A3&#34;</span><span class=p>,</span> <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;TCP/IP 모델과의 매핑 관계&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;Topic-A4&#34;</span><span class=p>,</span> <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;ISO/IEC 7498-1 표준 명세&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;Topic-A5&#34;</span><span class=p>,</span> <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;계층 독립성 원칙과 서비스 경계&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>이제 RF Phase 2로 진입하여 S2/S3의 근거 자료를 수집하겠습니다. 잠시만 기다려 주세요&mldr;지금까지 총 60개 이상의 Seeds를 수집했습니다. 이제 최종 문서 생성을 위해 모든 데이터를 통합하겠습니다.</p><h2 id=step-5-rf-phase-2-완료-및-최종-문서-생성>Step 5: RF Phase 2 완료 및 최종 문서 생성<a hidden class=anchor aria-hidden=true href=#step-5-rf-phase-2-완료-및-최종-문서-생성>#</a></h2><p>수집된 모든 자료를 바탕으로 <strong>OSI 7계층 모델</strong>에 대한 완전한 기술 문서를 생성하겠습니다. 템플릿의 모든 규칙(§0-§7)을 준수하여 작성하겠습니다.</p><hr><p><strong>Topic</strong>: OSI 7계층(OSI Reference Model)<br><strong>Current Classification</strong>: Networking & Protocols > Network Fundamentals > Basic Concepts > Network Models<br><strong>Review</strong>: OK</p><h2 id=summary>Summary<a hidden class=anchor aria-hidden=true href=#summary>#</a></h2><p>OSI 7계층 모델은 ISO/IEC 7498-1 표준으로 정의된 네트워크 통신의 개념적 참조 프레임워크입니다. 물리 계층부터 응용 계층까지 7개의 독립적인 계층으로 구성되며, 각 계층은 특정 기능을 수행하고 PDU(Protocol Data Unit)를 통해 데이터를 교환합니다. 1984년 ISO에 의해 공식 표준으로 채택되었으며, 현대 인터넷은 TCP/IP 모델을 기반으로 하지만 OSI 모델은 네트워크 교육, 표준화, 문제 해결의 기준으로 여전히 널리 사용됩니다.</p><h2 id=overview-9>Overview<a hidden class=anchor aria-hidden=true href=#overview-9>#</a></h2><p>OSI(Open Systems Interconnection) 모델은 1970년대 후반 ISO(International Organization for Standardization)와 ITU(International Telecommunication Union)가 주도하여 개발한 네트워크 통신의 표준 참조 모델입니다. 당시 IBM의 SNA, DEC의 DECnet 등 다양한 독점 네트워킹 프로토콜이 혼재하던 상황에서, 서로 다른 시스템 간 상호운용성(interoperability)을 보장하기 위한 공통 프레임워크의 필요성이 대두되었습니다.</p><p>OSI 모델은 복잡한 네트워크 통신을 7개의 논리적 계층으로 분리하여, 각 계층이 독립적으로 특정 기능을 수행하도록 설계되었습니다. 이러한 계층적 구조는 개발자가 특정 계층에 집중할 수 있게 하고, 기술 변화에 유연하게 대응할 수 있도록 합니다. 모델은 연결 지향(connection-oriented)과 비연결(connectionless) 통신을 모두 지원하며, 프로토콜 독립적(protocol-agnostic)이기 때문에 다양한 네트워크 기술에 적용 가능합니다.</p><p>OSI 모델의 범위는 단말기, 컴퓨터 및 관련 장치로 구성된 시스템 간 정보 전송에 주로 초점을 맞추고 있습니다. 모델은 구현 명세가 아닌 개념적 프레임워크로, 각 계층의 기능을 정의하고 표준 개발을 위한 공통 기반을 제공하는 것이 목적입니다. 비록 OSI 프로토콜 스위트 자체는 복잡성과 구현의 어려움으로 널리 채택되지 못했지만, 7계층 모델은 네트워킹 개념의 표준화에 중요한 기여를 했으며 현재까지도 교육과 문제 해결의 기준으로 활용되고 있습니다.</p><h2 id=tags>Tags<a hidden class=anchor aria-hidden=true href=#tags>#</a></h2><p><code>t-dsys</code> <code>network-protocols</code> <code>layered-architecture</code> <code>encapsulation</code> <code>pdu</code> <code>iso-standard</code> <code>tcp-ip-mapping</code> <code>interoperability</code> <code>service-primitives</code> <code>troubleshooting</code></p><hr><h2 id=s1-foundation-beginner---osi-7계층-필수-기초>S1: Foundation (Beginner) - OSI 7계층 필수 기초<a hidden class=anchor aria-hidden=true href=#s1-foundation-beginner---osi-7계층-필수-기초>#</a></h2><h3 id=overview-10>Overview<a hidden class=anchor aria-hidden=true href=#overview-10>#</a></h3><p>S1 섹션은 OSI 7계층 모델을 처음 학습하는 독자를 위해 모델의 기본 개념, 탄생 배경, 7개 계층의 핵심 정의, 그리고 가장 단순한 통신 예제를 통해 모델의 전체적인 작동 원리를 이해할 수 있도록 구성되었습니다.</p><h3 id=s11-osi-모델의-탄생-배경과-핵심-정의>S1.1: OSI 모델의 탄생 배경과 핵심 정의<a hidden class=anchor aria-hidden=true href=#s11-osi-모델의-탄생-배경과-핵심-정의>#</a></h3><h4 id=overview-11>Overview<a hidden class=anchor aria-hidden=true href=#overview-11>#</a></h4><p>OSI 모델이 왜 필요했는지, 어떤 문제를 해결하기 위해 만들어졌는지, 그리고 모델의 기본 개념을 명확히 이해합니다.</p><h4 id=body-10>Body<a hidden class=anchor aria-hidden=true href=#body-10>#</a></h4><p>1970년대 초반, 컴퓨터 네트워킹 분야는 각 제조사가 독자적인 프로토콜과 아키텍처를 개발하던 시기였습니다. IBM의 Systems Network Architecture(SNA), Digital Equipment Corporation의 DECnet, Xerox의 XNS 등 다양한 독점 네트워킹 솔루션이 존재했으며, 이들은 서로 호환되지 않았습니다. 이러한 상황은 서로 다른 제조사의 시스템 간 통신을 매우 어렵게 만들었고, 네트워크 확장성과 상호운용성에 심각한 제약을 가져왔습니다.</p><p>이러한 문제를 해결하기 위해 1977년 ISO는 네트워크 통신 표준화 작업을 시작했습니다. 1983년에는 CCITT(현 ITU-T)와 ISO의 문서가 병합되어 &ldquo;Open Systems Interconnection Reference Model"이 탄생했고, 1984년 ISO 7498 표준과 ITU-T X.200 권고안으로 공식 발표되었습니다. &ldquo;Open Systems"라는 용어는 상호 적용 가능한 표준을 준수함으로써 서로 다른 시스템이 개방적으로 연결될 수 있음을 의미합니다.</p><p>OSI 모델의 핵심 정의는 다음과 같습니다. 첫째, 통신 시스템을 7개의 추상화 계층으로 구분합니다(Physical, Data Link, Network, Transport, Session, Presentation, Application). 둘째, 각 계층은 명확하게 정의된 기능과 의미를 가지며, 상위 계층에 서비스를 제공하고 하위 계층의 서비스를 사용합니다. 셋째, 계층 간 통신은 Service Access Point(SAP)를 통해 이루어지며, Service Primitives(request, indication, response, confirm)를 사용합니다. 넷째, 동일 계층의 원격 엔티티 간 통신은 peer-to-peer 방식으로 이루어지며, Protocol Data Unit(PDU)를 교환합니다.</p><p>ISO/IEC 7498-1 표준은 OSI 기본 참조 모델을 정의하며, 추가로 Part 2(보안 아키텍처), Part 3(명명 및 주소 지정), Part 4(관리 프레임워크)로 구성됩니다. 모델의 목적은 구현 명세를 제공하는 것이 아니라, 표준 개발을 위한 공통 기반을 제공하고, 기존 표준을 전체 참조 모델 내에서 적절히 배치하며, 표준 개발 또는 개선이 필요한 영역을 식별하는 것입니다.</p><h4 id=supporting-artifacts-9>Supporting Artifacts<a hidden class=anchor aria-hidden=true href=#supporting-artifacts-9>#</a></h4><p><strong>표 S1.1-1: OSI 모델의 역사적 주요 이정표</strong></p><table><thead><tr><th style=text-align:left>연도</th><th style=text-align:left>이정표</th><th style=text-align:left>설명</th></tr></thead><tbody><tr><td style=text-align:left>1977</td><td style=text-align:left>표준화 작업 시작</td><td style=text-align:left>ISO와 ITU가 네트워크 통신 표준화를 위한 공동 작업 개시</td></tr><tr><td style=text-align:left>1983</td><td style=text-align:left>CCITT-ISO 문서 병합</td><td style=text-align:left>두 조직의 작업이 통합되어 OSI 기본 참조 모델 초안 완성</td></tr><tr><td style=text-align:left>1984</td><td style=text-align:left>공식 표준 발표</td><td style=text-align:left>ISO 7498 (ISO) 및 X.200 (ITU-T)으로 공식 발표</td></tr><tr><td style=text-align:left>1994</td><td style=text-align:left>개정판 발표</td><td style=text-align:left>ISO/IEC 7498-1:1994 제2판 발표, 비연결 시스템 개념 통합</td></tr><tr><td style=text-align:left>2000</td><td style=text-align:left>재확인</td><td style=text-align:left>ISO/IEC 7498-1:1994가 재검토되고 현행 유지로 확인</td></tr></tbody></table><p><strong>코드 예제 S1.1-1: Service Primitives의 개념적 표현</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span><span class=lnt id=hl-8-11><a class=lnlinks href=#hl-8-11>11</a>
</span><span class=lnt id=hl-8-12><a class=lnlinks href=#hl-8-12>12</a>
</span><span class=lnt id=hl-8-13><a class=lnlinks href=#hl-8-13>13</a>
</span><span class=lnt id=hl-8-14><a class=lnlinks href=#hl-8-14>14</a>
</span><span class=lnt id=hl-8-15><a class=lnlinks href=#hl-8-15>15</a>
</span><span class=lnt id=hl-8-16><a class=lnlinks href=#hl-8-16>16</a>
</span><span class=lnt id=hl-8-17><a class=lnlinks href=#hl-8-17>17</a>
</span><span class=lnt id=hl-8-18><a class=lnlinks href=#hl-8-18>18</a>
</span><span class=lnt id=hl-8-19><a class=lnlinks href=#hl-8-19>19</a>
</span><span class=lnt id=hl-8-20><a class=lnlinks href=#hl-8-20>20</a>
</span><span class=lnt id=hl-8-21><a class=lnlinks href=#hl-8-21>21</a>
</span><span class=lnt id=hl-8-22><a class=lnlinks href=#hl-8-22>22</a>
</span><span class=lnt id=hl-8-23><a class=lnlinks href=#hl-8-23>23</a>
</span><span class=lnt id=hl-8-24><a class=lnlinks href=#hl-8-24>24</a>
</span><span class=lnt id=hl-8-25><a class=lnlinks href=#hl-8-25>25</a>
</span><span class=lnt id=hl-8-26><a class=lnlinks href=#hl-8-26>26</a>
</span><span class=lnt id=hl-8-27><a class=lnlinks href=#hl-8-27>27</a>
</span><span class=lnt id=hl-8-28><a class=lnlinks href=#hl-8-28>28</a>
</span><span class=lnt id=hl-8-29><a class=lnlinks href=#hl-8-29>29</a>
</span><span class=lnt id=hl-8-30><a class=lnlinks href=#hl-8-30>30</a>
</span><span class=lnt id=hl-8-31><a class=lnlinks href=#hl-8-31>31</a>
</span><span class=lnt id=hl-8-32><a class=lnlinks href=#hl-8-32>32</a>
</span><span class=lnt id=hl-8-33><a class=lnlinks href=#hl-8-33>33</a>
</span><span class=lnt id=hl-8-34><a class=lnlinks href=#hl-8-34>34</a>
</span><span class=lnt id=hl-8-35><a class=lnlinks href=#hl-8-35>35</a>
</span><span class=lnt id=hl-8-36><a class=lnlinks href=#hl-8-36>36</a>
</span><span class=lnt id=hl-8-37><a class=lnlinks href=#hl-8-37>37</a>
</span><span class=lnt id=hl-8-38><a class=lnlinks href=#hl-8-38>38</a>
</span><span class=lnt id=hl-8-39><a class=lnlinks href=#hl-8-39>39</a>
</span><span class=lnt id=hl-8-40><a class=lnlinks href=#hl-8-40>40</a>
</span><span class=lnt id=hl-8-41><a class=lnlinks href=#hl-8-41>41</a>
</span><span class=lnt id=hl-8-42><a class=lnlinks href=#hl-8-42>42</a>
</span><span class=lnt id=hl-8-43><a class=lnlinks href=#hl-8-43>43</a>
</span><span class=lnt id=hl-8-44><a class=lnlinks href=#hl-8-44>44</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Service Primitives의 개념적 구현 예제</span>
</span></span><span class=line><span class=cl><span class=c1># 계층 N+1이 계층 N의 서비스를 요청하는 과정</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ServicePrimitive</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;OSI 모델의 Service Primitive 개념적 표현&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>primitive_type</span><span class=p>,</span> <span class=n>parameters</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>type</span> <span class=o>=</span> <span class=n>primitive_type</span>  <span class=c1># request, indication, response, confirm</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>parameters</span> <span class=o>=</span> <span class=n>parameters</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>timestamp</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>LayerN</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;OSI 계층 N의 추상적 표현&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>layer_name</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>layer_name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>upper_layer</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>lower_layer</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>request</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>destination_sap</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;상위 계층으로부터 서비스 요청 수신&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>: Received request from upper layer&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>primitive</span> <span class=o>=</span> <span class=n>ServicePrimitive</span><span class=p>(</span><span class=s2>&#34;request&#34;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=n>data</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;dest_sap&#34;</span><span class=p>:</span> <span class=n>destination_sap</span>
</span></span><span class=line><span class=cl>        <span class=p>})</span>
</span></span><span class=line><span class=cl>        <span class=c1># 하위 계층으로 전달</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>lower_layer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>lower_layer</span><span class=o>.</span><span class=n>indication</span><span class=p>(</span><span class=n>primitive</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>indication</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>primitive</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;하위 계층으로부터 indication 수신&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>: Indication received&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 상위 계층으로 전달</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>upper_layer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>upper_layer</span><span class=o>.</span><span class=n>process_indication</span><span class=p>(</span><span class=n>primitive</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용 예제</span>
</span></span><span class=line><span class=cl><span class=n>transport_layer</span> <span class=o>=</span> <span class=n>LayerN</span><span class=p>(</span><span class=s2>&#34;Transport Layer&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>network_layer</span> <span class=o>=</span> <span class=n>LayerN</span><span class=p>(</span><span class=s2>&#34;Network Layer&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>transport_layer</span><span class=o>.</span><span class=n>lower_layer</span> <span class=o>=</span> <span class=n>network_layer</span>
</span></span><span class=line><span class=cl><span class=n>network_layer</span><span class=o>.</span><span class=n>upper_layer</span> <span class=o>=</span> <span class=n>transport_layer</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 데이터 전송 요청</span>
</span></span><span class=line><span class=cl><span class=n>transport_layer</span><span class=o>.</span><span class=n>request</span><span class=p>(</span><span class=n>data</span><span class=o>=</span><span class=s2>&#34;Hello OSI&#34;</span><span class=p>,</span> <span class=n>destination_sap</span><span class=o>=</span><span class=s2>&#34;192.168.1.1&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=s12-7개-계층의-핵심-기능과-역할>S1.2: 7개 계층의 핵심 기능과 역할<a hidden class=anchor aria-hidden=true href=#s12-7개-계층의-핵심-기능과-역할>#</a></h3><h4 id=overview-12>Overview<a hidden class=anchor aria-hidden=true href=#overview-12>#</a></h4><p>OSI 모델의 7개 계층을 하나씩 살펴보며, 각 계층의 주요 기능, 담당 역할, 그리고 대표적인 프로토콜과 장비를 이해합니다.</p><h4 id=body-11>Body<a hidden class=anchor aria-hidden=true href=#body-11>#</a></h4><p>OSI 모델의 7개 계층은 하위 계층에서 상위 계층으로 올라갈수록 더 추상화된 기능을 제공합니다. 각 계층은 번호와 이름으로 참조되며, 계층 1이 가장 낮은 물리 계층, 계층 7이 가장 높은 응용 계층입니다.</p><p>**계층 1 - 물리 계층(Physical Layer)**은 장치 간 비구조화된 원시 데이터의 전송과 수신을 담당합니다. 디지털 비트를 전기 신호, 광 신호 또는 무선 신호(아날로그 신호)로 변환하는 역할을 수행합니다. 이 계층의 사양은 전압 레벨, 전압 변화 타이밍, 물리적 데이터 전송 속도, 최대 전송 거리, 변조 방식, 채널 접근 방법, 물리적 커넥터 등을 정의합니다. 대표적인 기술로는 Ethernet(IEEE 802.3), Wi-Fi(IEEE 802.11), USB, RS-232가 있으며, 리피터와 허브가 이 계층에서 동작합니다.</p><p>**계층 2 - 데이터 링크 계층(Data Link Layer)**은 동일 네트워크상의 두 노드 간 신뢰성 있는 링크를 제공합니다. 프레임을 생성하여 물리 주소(MAC 주소)를 추가하고, 오류 검출 및 수정 기능을 수행합니다. IEEE 802 표준은 이 계층을 MAC(Media Access Control)과 LLC(Logical Link Control) 두 개의 하위 계층으로 분리합니다. MAC 하위 계층은 물리 매체에 대한 접근을 제어하고 프레임 헤더에 출발지 및 목적지 MAC 주소를 포함시킵니다. LLC 하위 계층은 흐름 제어와 오류 제어를 담당합니다. 스위치와 브리지가 이 계층에서 동작하며, Ethernet, PPP, HDLC, Frame Relay 등의 프로토콜이 사용됩니다.</p><p>**계층 3 - 네트워크 계층(Network Layer)**은 서로 다른 네트워크 간 데이터 패킷의 라우팅과 포워딩을 담당합니다. 논리적 주소 지정(IP 주소)을 제공하고, 패킷이 출발지에서 목적지까지 도달하는 최적 경로를 결정합니다. 네트워크 계층은 연결 지향(CONS, Connection-Oriented Network Service)과 비연결(CLNS, Connectionless Network Service) 모드를 모두 지원합니다. 주요 기능으로는 주소 지정(addressing), 패킷 조립 및 분해, 오류 처리, 혼잡 제어가 있습니다. 대표적인 프로토콜로는 IPv4(RFC 791), IPv6(RFC 2460), ICMP(RFC 792), IGMP(RFC 1112), IS-IS(ISO/IEC 10589)가 있으며, 라우터가 이 계층에서 동작합니다.</p><p>**계층 4 - 전송 계층(Transport Layer)**은 출발지와 목적지 호스트 간 종단 간(end-to-end) 통신을 제공합니다. 가변 길이 데이터 시퀀스를 세그먼트로 분할하고, 데이터의 신뢰성 있는 전송을 보장합니다. 전송 계층은 연결 지향 프로토콜(TCP)과 비연결 프로토콜(UDP)을 모두 지원합니다. TCP는 순서 보장, 오류 복구, 흐름 제어, 혼잡 제어 기능을 제공하는 반면, UDP는 오버헤드가 낮고 실시간 성능이 중요한 응용에 적합합니다. 포트 번호를 사용하여 동일 호스트 내에서 여러 응용 프로그램을 구별합니다. 방화벽이 주로 이 계층에서 패킷을 검사하고 제어합니다.</p><p>**계층 5 - 세션 계층(Session Layer)**은 응용 프로그램 간 연결(세션)의 설정, 관리, 종료를 담당합니다. 대화 제어(dialog control)를 통해 전이중(full-duplex), 반이중(half-duplex) 또는 단방향(simplex) 통신을 지원합니다. 체크포인트, 중단, 종료, 재시작 절차를 제공하여 세션의 동기화와 복구를 가능하게 합니다. OSI 모델에서는 이 계층을 TCP가 일부 담당합니다. 대표적인 프로토콜로는 NetBIOS, PPTP, RPC가 있습니다. 실제 TCP/IP 환경에서는 세션 계층의 기능이 응용 계층이나 전송 계층에 통합되는 경우가 많습니다.</p><p>**계층 6 - 표현 계층(Presentation Layer)**은 응용 계층과 네트워크 형식 간의 데이터 표현을 표준화합니다. 데이터 형식 변환(translation), 암호화/복호화(encryption/decryption), 압축/압축 해제(compression/decompression) 기능을 수행합니다. 예를 들어, ASCII와 EBCDIC 간 변환, JPEG 이미지 인코딩, TLS/SSL 암호화 등이 이 계층의 기능입니다. 이 계층은 데이터의 구문(syntax)과 의미(semantics)를 다루며, 응용 프로그램이 데이터를 이해할 수 있는 형식으로 변환합니다. 실제 구현에서는 응용 계층에 통합되는 경우가 많습니다.</p><p>**계층 7 - 응용 계층(Application Layer)**은 최상위 계층으로, 사용자 또는 응용 프로그램이 네트워크 서비스에 접근할 수 있는 인터페이스를 제공합니다. 이 계층은 실제 사용자 응용 프로그램(예: 웹 브라우저)이 아니라, 네트워크 통신을 가능하게 하는 응용 서비스를 의미합니다. 대표적인 프로토콜로는 HTTP/HTTPS(웹), FTP(파일 전송), SMTP/POP3/IMAP(이메일), DNS(도메인 이름 해석), Telnet/SSH(원격 접속), SNMP(네트워크 관리)가 있습니다. 이 계층에서 사용자는 파일 전송, 이메일 송수신, 웹 브라우징 등의 네트워크 서비스를 이용합니다.</p><h4 id=supporting-artifacts-10>Supporting Artifacts<a hidden class=anchor aria-hidden=true href=#supporting-artifacts-10>#</a></h4><p><strong>표 S1.2-1: OSI 7계층 요약</strong></p><table><thead><tr><th style=text-align:center>계층</th><th style=text-align:left>이름</th><th style=text-align:left>주요 기능</th><th style=text-align:left>PDU</th><th style=text-align:left>대표 프로토콜/장비</th></tr></thead><tbody><tr><td style=text-align:center>7</td><td style=text-align:left>Application</td><td style=text-align:left>사용자 인터페이스, 네트워크 서비스 제공</td><td style=text-align:left>Data</td><td style=text-align:left>HTTP, FTP, SMTP, DNS</td></tr><tr><td style=text-align:center>6</td><td style=text-align:left>Presentation</td><td style=text-align:left>데이터 형식 변환, 암호화, 압축</td><td style=text-align:left>Data</td><td style=text-align:left>TLS/SSL, JPEG, MPEG</td></tr><tr><td style=text-align:center>5</td><td style=text-align:left>Session</td><td style=text-align:left>세션 설정/관리/종료, 동기화</td><td style=text-align:left>Data</td><td style=text-align:left>NetBIOS, PPTP, RPC</td></tr><tr><td style=text-align:center>4</td><td style=text-align:left>Transport</td><td style=text-align:left>종단 간 연결, 신뢰성, 흐름 제어</td><td style=text-align:left>Segment/Datagram</td><td style=text-align:left>TCP, UDP, 방화벽</td></tr><tr><td style=text-align:center>3</td><td style=text-align:left>Network</td><td style=text-align:left>라우팅, 논리적 주소 지정</td><td style=text-align:left>Packet</td><td style=text-align:left>IP, ICMP, 라우터</td></tr><tr><td style=text-align:center>2</td><td style=text-align:left>Data Link</td><td style=text-align:left>프레임 생성, 물리적 주소 지정, 오류 검출</td><td style=text-align:left>Frame</td><td style=text-align:left>Ethernet, PPP, 스위치</td></tr><tr><td style=text-align:center>1</td><td style=text-align:left>Physical</td><td style=text-align:left>비트 전송, 물리적 매체</td><td style=text-align:left>Bit</td><td style=text-align:left>Ethernet, Wi-Fi, 허브</td></tr></tbody></table><p><strong>다이어그램 S1.2-1: OSI 7계층 구조</strong></p><pre class=mermaid>graph TB
    subgraph &#34;OSI 7계층 모델&#34;
        L7[계층 7: Application&lt;br/&gt;네트워크 서비스 인터페이스&lt;br/&gt;HTTP, FTP, SMTP, DNS]
        L6[계층 6: Presentation&lt;br/&gt;데이터 표현, 암호화, 압축&lt;br/&gt;TLS/SSL, JPEG, ASCII]
        L5[계층 5: Session&lt;br/&gt;세션 관리, 동기화&lt;br/&gt;NetBIOS, RPC]
        L4[계층 4: Transport&lt;br/&gt;종단 간 연결, 신뢰성&lt;br/&gt;TCP, UDP - Segment/Datagram]
        L3[계층 3: Network&lt;br/&gt;라우팅, 논리 주소&lt;br/&gt;IP, ICMP - Packet]
        L2[계층 2: Data Link&lt;br/&gt;프레임, 물리 주소, 오류 검출&lt;br/&gt;Ethernet, PPP - Frame]
        L1[계층 1: Physical&lt;br/&gt;비트 전송, 물리 매체&lt;br/&gt;케이블, 신호 - Bit]
    end
    
    L7 --&gt; L6
    L6 --&gt; L5
    L5 --&gt; L4
    L4 --&gt; L3
    L3 --&gt; L2
    L2 --&gt; L1
    L1 --&gt; PM[물리 매체&lt;br/&gt;Twisted Pair, Fiber, Wireless]
    
    style L7 fill:#e1f5ff
    style L6 fill:#e1f5ff
    style L5 fill:#e1f5ff
    style L4 fill:#fff9e1
    style L3 fill:#ffe1e1
    style L2 fill:#ffe1e1
    style L1 fill:#ffe1e1
    style PM fill:#f0f0f0
</pre><h3 id=s13-데이터-통신의-기본-흐름---hello-world-예제>S1.3: 데이터 통신의 기본 흐름 - Hello World 예제<a hidden class=anchor aria-hidden=true href=#s13-데이터-통신의-기본-흐름---hello-world-예제>#</a></h3><h4 id=overview-13>Overview<a hidden class=anchor aria-hidden=true href=#overview-13>#</a></h4><p>OSI 모델을 통해 실제 데이터가 어떻게 송신자에서 수신자로 전달되는지, 가장 단순한 &ldquo;Hello World&rdquo; 메시지 전송 예제를 통해 이해합니다.</p><h4 id=body-12>Body<a hidden class=anchor aria-hidden=true href=#body-12>#</a></h4><p>OSI 모델에서 데이터 통신은 송신자 측에서 계층 7에서 계층 1로 하향 이동(encapsulation)하고, 수신자 측에서 계층 1에서 계층 7로 상향 이동(decapsulation)하는 과정을 거칩니다. 이 과정에서 각 계층은 자신의 프로토콜 정보를 헤더(header) 또는 트레일러(trailer)로 추가하거나 제거합니다.</p><p><strong>송신자 측 - Encapsulation 과정</strong></p><p>사용자가 웹 브라우저를 통해 &ldquo;Hello World"라는 메시지를 웹 서버로 전송한다고 가정하겠습니다.</p><p><strong>계층 7 (응용 계층)</strong>: 사용자가 웹 브라우저에서 폼을 작성하고 제출 버튼을 클릭합니다. HTTP 프로토콜이 이 데이터를 HTTP 요청 메시지로 변환합니다. 이 시점에서 데이터는 순수한 응용 데이터입니다.</p><p><strong>계층 6 (표현 계층)</strong>: 데이터가 네트워크를 통해 전송될 수 있는 형식으로 변환됩니다. 예를 들어, 데이터가 UTF-8로 인코딩되거나, TLS/SSL을 사용하는 경우 암호화될 수 있습니다.</p><p><strong>계층 5 (세션 계층)</strong>: 송신자와 수신자 간의 세션이 설정됩니다. TCP 기반 통신의 경우, 이 기능은 전송 계층에 통합되어 있습니다.</p><p><strong>계층 4 (전송 계층)</strong>: 데이터가 세그먼트로 분할됩니다. TCP 헤더가 추가되며, 이 헤더에는 출발지 포트 번호(예: 임시 포트 50234), 목적지 포트 번호(예: HTTP의 80), 시퀀스 번호, 확인 응답 번호, 체크섬 등이 포함됩니다. 이 단계에서 PDU는 &ldquo;Segment"라고 불립니다.</p><p><strong>계층 3 (네트워크 계층)</strong>: 세그먼트에 IP 헤더가 추가되어 패킷이 생성됩니다. IP 헤더에는 출발지 IP 주소(예: 192.168.1.100), 목적지 IP 주소(예: 203.0.113.50), TTL(Time To Live), 프로토콜 식별자(TCP=6) 등이 포함됩니다. 이 단계에서 PDU는 &ldquo;Packet"이라고 불립니다.</p><p><strong>계층 2 (데이터 링크 계층)</strong>: 패킷에 Ethernet 헤더와 트레일러가 추가되어 프레임이 생성됩니다. Ethernet 헤더에는 출발지 MAC 주소, 목적지 MAC 주소(로컬 네트워크의 다음 홉, 일반적으로 기본 게이트웨이), EtherType(IPv4=0x0800) 등이 포함됩니다. 트레일러에는 FCS(Frame Check Sequence)가 포함되어 프레임의 무결성을 검증합니다. 이 단계에서 PDU는 &ldquo;Frame"이라고 불립니다.</p><p><strong>계층 1 (물리 계층)</strong>: 프레임이 비트 스트림으로 변환되어 물리 매체(예: Ethernet 케이블, Wi-Fi 무선 신호)를 통해 전송됩니다. Ethernet의 경우, 비트는 전기 신호로 변환되며, Wi-Fi의 경우 무선 전파로 변환됩니다.</p><p><strong>수신자 측 - Decapsulation 과정</strong></p><p>데이터가 물리 매체를 통해 수신자에게 도달하면, 역순으로 계층을 거슬러 올라가며 각 계층의 헤더와 트레일러가 제거됩니다.</p><p><strong>계층 1</strong>: 물리 신호가 비트 스트림으로 변환되어 데이터 링크 계층으로 전달됩니다.</p><p><strong>계층 2</strong>: FCS를 검증하여 프레임의 무결성을 확인합니다. Ethernet 헤더를 제거하고, 목적지 MAC 주소가 자신의 주소와 일치하는지 확인한 후, 패킷을 네트워크 계층으로 전달합니다.</p><p><strong>계층 3</strong>: IP 헤더를 검사하여 목적지 IP 주소가 자신의 주소와 일치하는지 확인하고, TTL을 확인합니다. IP 헤더를 제거하고, 프로토콜 식별자(TCP)를 확인한 후, 세그먼트를 전송 계층으로 전달합니다.</p><p><strong>계층 4</strong>: TCP 헤더를 검사하여 목적지 포트 번호(80)를 확인하고, 시퀀스 번호와 체크섬을 검증합니다. 필요한 경우 세그먼트를 재조립하고, TCP 헤더를 제거한 후, 데이터를 응용 계층으로 전달합니다.</p><p><strong>계층 5-7</strong>: 세션이 관리되고, 데이터 형식이 변환되며(예: TLS 복호화), 최종적으로 HTTP 요청이 웹 서버 응용 프로그램으로 전달됩니다. 웹 서버는 &ldquo;Hello World&rdquo; 메시지를 받아 처리합니다.</p><p>이 과정을 통해 단순한 &ldquo;Hello World&rdquo; 메시지가 7개의 계층을 거쳐 송신자에서 수신자로 안전하고 신뢰성 있게 전달됩니다.</p><h4 id=supporting-artifacts-11>Supporting Artifacts<a hidden class=anchor aria-hidden=true href=#supporting-artifacts-11>#</a></h4><p><strong>다이어그램 S1.3-1: 데이터 통신 흐름 (Encapsulation/Decapsulation)</strong></p><pre class=mermaid>sequenceDiagram
    participant User as 사용자
    participant L7 as 계층 7&lt;br/&gt;Application
    participant L4 as 계층 4&lt;br/&gt;Transport
    participant L3 as 계층 3&lt;br/&gt;Network
    participant L2 as 계층 2&lt;br/&gt;Data Link
    participant L1 as 계층 1&lt;br/&gt;Physical
    participant Media as 물리 매체
    participant R_L1 as 계층 1&lt;br/&gt;(수신)
    participant R_L2 as 계층 2&lt;br/&gt;(수신)
    participant R_L3 as 계층 3&lt;br/&gt;(수신)
    participant R_L4 as 계층 4&lt;br/&gt;(수신)
    participant R_L7 as 계층 7&lt;br/&gt;(수신)
    participant Server as 서버

    User-&gt;&gt;L7: &#34;Hello World&#34; 메시지 전송
    L7-&gt;&gt;L4: HTTP 요청 (Data)
    L4-&gt;&gt;L3: TCP 세그먼트 추가&lt;br/&gt;(포트 80, Seq#)
    L3-&gt;&gt;L2: IP 패킷 추가&lt;br/&gt;(출발/목적지 IP)
    L2-&gt;&gt;L1: Ethernet 프레임 추가&lt;br/&gt;(출발/목적지 MAC)
    L1-&gt;&gt;Media: 비트 스트림 전송&lt;br/&gt;(전기/광/무선 신호)
    
    Media-&gt;&gt;R_L1: 신호 수신
    R_L1-&gt;&gt;R_L2: 비트 → 프레임
    R_L2-&gt;&gt;R_L3: Ethernet 헤더 제거&lt;br/&gt;MAC 주소 검증
    R_L3-&gt;&gt;R_L4: IP 헤더 제거&lt;br/&gt;IP 주소 검증
    R_L4-&gt;&gt;R_L7: TCP 헤더 제거&lt;br/&gt;포트, Seq# 검증
    R_L7-&gt;&gt;Server: &#34;Hello World&#34; 전달
</pre><p><strong>코드 예제 S1.3-1: 단순화된 Encapsulation 과정 시뮬레이션</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1> 1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2> 2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3> 3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4> 4</a>
</span><span class=lnt id=hl-11-5><a class=lnlinks href=#hl-11-5> 5</a>
</span><span class=lnt id=hl-11-6><a class=lnlinks href=#hl-11-6> 6</a>
</span><span class=lnt id=hl-11-7><a class=lnlinks href=#hl-11-7> 7</a>
</span><span class=lnt id=hl-11-8><a class=lnlinks href=#hl-11-8> 8</a>
</span><span class=lnt id=hl-11-9><a class=lnlinks href=#hl-11-9> 9</a>
</span><span class=lnt id=hl-11-10><a class=lnlinks href=#hl-11-10>10</a>
</span><span class=lnt id=hl-11-11><a class=lnlinks href=#hl-11-11>11</a>
</span><span class=lnt id=hl-11-12><a class=lnlinks href=#hl-11-12>12</a>
</span><span class=lnt id=hl-11-13><a class=lnlinks href=#hl-11-13>13</a>
</span><span class=lnt id=hl-11-14><a class=lnlinks href=#hl-11-14>14</a>
</span><span class=lnt id=hl-11-15><a class=lnlinks href=#hl-11-15>15</a>
</span><span class=lnt id=hl-11-16><a class=lnlinks href=#hl-11-16>16</a>
</span><span class=lnt id=hl-11-17><a class=lnlinks href=#hl-11-17>17</a>
</span><span class=lnt id=hl-11-18><a class=lnlinks href=#hl-11-18>18</a>
</span><span class=lnt id=hl-11-19><a class=lnlinks href=#hl-11-19>19</a>
</span><span class=lnt id=hl-11-20><a class=lnlinks href=#hl-11-20>20</a>
</span><span class=lnt id=hl-11-21><a class=lnlinks href=#hl-11-21>21</a>
</span><span class=lnt id=hl-11-22><a class=lnlinks href=#hl-11-22>22</a>
</span><span class=lnt id=hl-11-23><a class=lnlinks href=#hl-11-23>23</a>
</span><span class=lnt id=hl-11-24><a class=lnlinks href=#hl-11-24>24</a>
</span><span class=lnt id=hl-11-25><a class=lnlinks href=#hl-11-25>25</a>
</span><span class=lnt id=hl-11-26><a class=lnlinks href=#hl-11-26>26</a>
</span><span class=lnt id=hl-11-27><a class=lnlinks href=#hl-11-27>27</a>
</span><span class=lnt id=hl-11-28><a class=lnlinks href=#hl-11-28>28</a>
</span><span class=lnt id=hl-11-29><a class=lnlinks href=#hl-11-29>29</a>
</span><span class=lnt id=hl-11-30><a class=lnlinks href=#hl-11-30>30</a>
</span><span class=lnt id=hl-11-31><a class=lnlinks href=#hl-11-31>31</a>
</span><span class=lnt id=hl-11-32><a class=lnlinks href=#hl-11-32>32</a>
</span><span class=lnt id=hl-11-33><a class=lnlinks href=#hl-11-33>33</a>
</span><span class=lnt id=hl-11-34><a class=lnlinks href=#hl-11-34>34</a>
</span><span class=lnt id=hl-11-35><a class=lnlinks href=#hl-11-35>35</a>
</span><span class=lnt id=hl-11-36><a class=lnlinks href=#hl-11-36>36</a>
</span><span class=lnt id=hl-11-37><a class=lnlinks href=#hl-11-37>37</a>
</span><span class=lnt id=hl-11-38><a class=lnlinks href=#hl-11-38>38</a>
</span><span class=lnt id=hl-11-39><a class=lnlinks href=#hl-11-39>39</a>
</span><span class=lnt id=hl-11-40><a class=lnlinks href=#hl-11-40>40</a>
</span><span class=lnt id=hl-11-41><a class=lnlinks href=#hl-11-41>41</a>
</span><span class=lnt id=hl-11-42><a class=lnlinks href=#hl-11-42>42</a>
</span><span class=lnt id=hl-11-43><a class=lnlinks href=#hl-11-43>43</a>
</span><span class=lnt id=hl-11-44><a class=lnlinks href=#hl-11-44>44</a>
</span><span class=lnt id=hl-11-45><a class=lnlinks href=#hl-11-45>45</a>
</span><span class=lnt id=hl-11-46><a class=lnlinks href=#hl-11-46>46</a>
</span><span class=lnt id=hl-11-47><a class=lnlinks href=#hl-11-47>47</a>
</span><span class=lnt id=hl-11-48><a class=lnlinks href=#hl-11-48>48</a>
</span><span class=lnt id=hl-11-49><a class=lnlinks href=#hl-11-49>49</a>
</span><span class=lnt id=hl-11-50><a class=lnlinks href=#hl-11-50>50</a>
</span><span class=lnt id=hl-11-51><a class=lnlinks href=#hl-11-51>51</a>
</span><span class=lnt id=hl-11-52><a class=lnlinks href=#hl-11-52>52</a>
</span><span class=lnt id=hl-11-53><a class=lnlinks href=#hl-11-53>53</a>
</span><span class=lnt id=hl-11-54><a class=lnlinks href=#hl-11-54>54</a>
</span><span class=lnt id=hl-11-55><a class=lnlinks href=#hl-11-55>55</a>
</span><span class=lnt id=hl-11-56><a class=lnlinks href=#hl-11-56>56</a>
</span><span class=lnt id=hl-11-57><a class=lnlinks href=#hl-11-57>57</a>
</span><span class=lnt id=hl-11-58><a class=lnlinks href=#hl-11-58>58</a>
</span><span class=lnt id=hl-11-59><a class=lnlinks href=#hl-11-59>59</a>
</span><span class=lnt id=hl-11-60><a class=lnlinks href=#hl-11-60>60</a>
</span><span class=lnt id=hl-11-61><a class=lnlinks href=#hl-11-61>61</a>
</span><span class=lnt id=hl-11-62><a class=lnlinks href=#hl-11-62>62</a>
</span><span class=lnt id=hl-11-63><a class=lnlinks href=#hl-11-63>63</a>
</span><span class=lnt id=hl-11-64><a class=lnlinks href=#hl-11-64>64</a>
</span><span class=lnt id=hl-11-65><a class=lnlinks href=#hl-11-65>65</a>
</span><span class=lnt id=hl-11-66><a class=lnlinks href=#hl-11-66>66</a>
</span><span class=lnt id=hl-11-67><a class=lnlinks href=#hl-11-67>67</a>
</span><span class=lnt id=hl-11-68><a class=lnlinks href=#hl-11-68>68</a>
</span><span class=lnt id=hl-11-69><a class=lnlinks href=#hl-11-69>69</a>
</span><span class=lnt id=hl-11-70><a class=lnlinks href=#hl-11-70>70</a>
</span><span class=lnt id=hl-11-71><a class=lnlinks href=#hl-11-71>71</a>
</span><span class=lnt id=hl-11-72><a class=lnlinks href=#hl-11-72>72</a>
</span><span class=lnt id=hl-11-73><a class=lnlinks href=#hl-11-73>73</a>
</span><span class=lnt id=hl-11-74><a class=lnlinks href=#hl-11-74>74</a>
</span><span class=lnt id=hl-11-75><a class=lnlinks href=#hl-11-75>75</a>
</span><span class=lnt id=hl-11-76><a class=lnlinks href=#hl-11-76>76</a>
</span><span class=lnt id=hl-11-77><a class=lnlinks href=#hl-11-77>77</a>
</span><span class=lnt id=hl-11-78><a class=lnlinks href=#hl-11-78>78</a>
</span><span class=lnt id=hl-11-79><a class=lnlinks href=#hl-11-79>79</a>
</span><span class=lnt id=hl-11-80><a class=lnlinks href=#hl-11-80>80</a>
</span><span class=lnt id=hl-11-81><a class=lnlinks href=#hl-11-81>81</a>
</span><span class=lnt id=hl-11-82><a class=lnlinks href=#hl-11-82>82</a>
</span><span class=lnt id=hl-11-83><a class=lnlinks href=#hl-11-83>83</a>
</span><span class=lnt id=hl-11-84><a class=lnlinks href=#hl-11-84>84</a>
</span><span class=lnt id=hl-11-85><a class=lnlinks href=#hl-11-85>85</a>
</span><span class=lnt id=hl-11-86><a class=lnlinks href=#hl-11-86>86</a>
</span><span class=lnt id=hl-11-87><a class=lnlinks href=#hl-11-87>87</a>
</span><span class=lnt id=hl-11-88><a class=lnlinks href=#hl-11-88>88</a>
</span><span class=lnt id=hl-11-89><a class=lnlinks href=#hl-11-89>89</a>
</span><span class=lnt id=hl-11-90><a class=lnlinks href=#hl-11-90>90</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># OSI 계층별 Encapsulation 과정의 개념적 시뮬레이션</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>OSILayer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>layer_num</span><span class=p>,</span> <span class=n>layer_name</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>layer_num</span> <span class=o>=</span> <span class=n>layer_num</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>layer_name</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>encapsulate</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>header_info</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;데이터에 헤더 추가 (Encapsulation)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;header&#39;</span><span class=p>:</span> <span class=n>header_info</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;payload&#39;</span><span class=p>:</span> <span class=n>data</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>decapsulate</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>pdu</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;헤더 제거하고 페이로드 반환 (Decapsulation)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>: Removing header </span><span class=si>{</span><span class=n>pdu</span><span class=p>[</span><span class=s1>&#39;header&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>pdu</span><span class=p>[</span><span class=s1>&#39;payload&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 송신자 측 - Encapsulation</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>send_message</span><span class=p>(</span><span class=n>message</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;OSI 계층을 통한 메시지 전송 시뮬레이션&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;=== 송신자: Encapsulation 시작 ===&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Layer 7: Application</span>
</span></span><span class=line><span class=cl>    <span class=n>data</span> <span class=o>=</span> <span class=n>message</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;L7 Application: Original message = &#39;</span><span class=si>{</span><span class=n>data</span><span class=si>}</span><span class=s2>&#39;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Layer 4: Transport (TCP 헤더 추가)</span>
</span></span><span class=line><span class=cl>    <span class=n>transport_layer</span> <span class=o>=</span> <span class=n>OSILayer</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=s2>&#34;Transport&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>segment</span> <span class=o>=</span> <span class=n>transport_layer</span><span class=o>.</span><span class=n>encapsulate</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>data</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>        <span class=s2>&#34;TCP[SrcPort:50234, DstPort:80, Seq:1000]&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;L4 Transport: Added TCP header -&gt; </span><span class=si>{</span><span class=n>segment</span><span class=p>[</span><span class=s1>&#39;header&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Layer 3: Network (IP 헤더 추가)</span>
</span></span><span class=line><span class=cl>    <span class=n>network_layer</span> <span class=o>=</span> <span class=n>OSILayer</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=s2>&#34;Network&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>packet</span> <span class=o>=</span> <span class=n>network_layer</span><span class=o>.</span><span class=n>encapsulate</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>segment</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;IP[Src:192.168.1.100, Dst:203.0.113.50, TTL:64]&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;L3 Network: Added IP header -&gt; </span><span class=si>{</span><span class=n>packet</span><span class=p>[</span><span class=s1>&#39;header&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Layer 2: Data Link (Ethernet 헤더 추가)</span>
</span></span><span class=line><span class=cl>    <span class=n>datalink_layer</span> <span class=o>=</span> <span class=n>OSILayer</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;Data Link&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>frame</span> <span class=o>=</span> <span class=n>datalink_layer</span><span class=o>.</span><span class=n>encapsulate</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>packet</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Ethernet[SrcMAC:00:11:22:33:44:55, DstMAC:AA:BB:CC:DD:EE:FF]&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;L2 Data Link: Added Ethernet header -&gt; </span><span class=si>{</span><span class=n>frame</span><span class=p>[</span><span class=s1>&#39;header&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Layer 1: Physical (비트로 변환)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;L1 Physical: Converting to bit stream... 01001000 01100101...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>frame</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 수신자 측 - Decapsulation</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>receive_message</span><span class=p>(</span><span class=n>frame</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;OSI 계층을 통한 메시지 수신 시뮬레이션&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>=== 수신자: Decapsulation 시작 ===&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Layer 1: Physical</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;L1 Physical: Received bit stream, converting to frame...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Layer 2: Data Link</span>
</span></span><span class=line><span class=cl>    <span class=n>datalink_layer</span> <span class=o>=</span> <span class=n>OSILayer</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;Data Link&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>packet</span> <span class=o>=</span> <span class=n>datalink_layer</span><span class=o>.</span><span class=n>decapsulate</span><span class=p>(</span><span class=n>frame</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Layer 3: Network</span>
</span></span><span class=line><span class=cl>    <span class=n>network_layer</span> <span class=o>=</span> <span class=n>OSILayer</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=s2>&#34;Network&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>segment</span> <span class=o>=</span> <span class=n>network_layer</span><span class=o>.</span><span class=n>decapsulate</span><span class=p>(</span><span class=n>packet</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Layer 4: Transport</span>
</span></span><span class=line><span class=cl>    <span class=n>transport_layer</span> <span class=o>=</span> <span class=n>OSILayer</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=s2>&#34;Transport&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>data</span> <span class=o>=</span> <span class=n>transport_layer</span><span class=o>.</span><span class=n>decapsulate</span><span class=p>(</span><span class=n>segment</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Layer 7: Application</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;L7 Application: Received message = &#39;</span><span class=si>{</span><span class=n>data</span><span class=si>}</span><span class=s2>&#39;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>data</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 실행</span>
</span></span><span class=line><span class=cl><span class=n>original_message</span> <span class=o>=</span> <span class=s2>&#34;Hello World&#34;</span>
</span></span><span class=line><span class=cl><span class=n>frame</span> <span class=o>=</span> <span class=n>send_message</span><span class=p>(</span><span class=n>original_message</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>received_message</span> <span class=o>=</span> <span class=n>receive_message</span><span class=p>(</span><span class=n>frame</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>송신 메시지: &#39;</span><span class=si>{</span><span class=n>original_message</span><span class=si>}</span><span class=s2>&#39;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;수신 메시지: &#39;</span><span class=si>{</span><span class=n>received_message</span><span class=si>}</span><span class=s2>&#39;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;전송 성공: </span><span class=si>{</span><span class=n>original_message</span> <span class=o>==</span> <span class=n>received_message</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=s2-type-specific-knowledge-intermediate---t-dsys>S2: Type-Specific Knowledge (Intermediate) - T-DSYS<a hidden class=anchor aria-hidden=true href=#s2-type-specific-knowledge-intermediate---t-dsys>#</a></h2><h3 id=overview-14>Overview<a hidden class=anchor aria-hidden=true href=#overview-14>#</a></h3><p>S2 섹션은 OSI 모델이 속한 분산 시스템 및 네트워킹(T-DSYS) 유형의 핵심 중급 지식을 다룹니다. CAP 정리부터 네트워크 프로토콜까지 5가지 필수 주제를 통해 OSI 모델이 실제 분산 시스템에서 어떻게 활용되는지 이해합니다.</p><h3 id=s21-cap-정리-cap-theorem>S2.1: CAP 정리 (CAP Theorem)<a hidden class=anchor aria-hidden=true href=#s21-cap-정리-cap-theorem>#</a></h3><h4 id=overview-15>Overview<a hidden class=anchor aria-hidden=true href=#overview-15>#</a></h4><p>CAP 정리는 분산 시스템에서 일관성(Consistency), 가용성(Availability), 분할 내성(Partition Tolerance) 중 최대 2가지만 동시에 보장할 수 있다는 이론입니다. OSI 모델의 계층별 설계 결정은 CAP 트레이드오프에 영향을 받습니다.</p><h4 id=body-13>Body<a hidden class=anchor aria-hidden=true href=#body-13>#</a></h4><p>CAP 정리는 2000년 Eric Brewer가 제안하고 2002년 Gilbert와 Lynch가 수학적으로 증명한 분산 컴퓨팅의 기본 정리입니다. 이 정리는 분산 데이터 저장소가 다음 세 가지 보장 중 동시에 세 가지 모두를 제공할 수 없음을 명시합니다.</p><p><strong>일관성(Consistency)</strong>: 모든 노드가 동일한 시점에 동일한 데이터를 보는 것을 보장합니다. 한 노드에서 데이터를 업데이트하면, 다른 모든 노드가 즉시 업데이트된 데이터를 반환해야 합니다.</p><p><strong>가용성(Availability)</strong>: 모든 요청이 (장애가 없는 노드로부터) 응답을 받는 것을 보장합니다. 시스템의 일부 노드가 실패하더라도, 나머지 노드는 계속 요청을 처리할 수 있어야 합니다.</p><p><strong>분할 내성(Partition Tolerance)</strong>: 네트워크 분할(네트워크가 둘 이상의 부분으로 분리되어 노드 간 통신이 불가능한 상황)이 발생해도 시스템이 계속 작동할 수 있어야 합니다.</p><p>OSI 모델과 CAP의 관계를 이해하려면, 각 계층에서의 설계 결정이 CAP 트레이드오프에 어떻게 영향을 미치는지 살펴봐야 합니다.</p><p>**네트워크 계층(Layer 3)**에서 IP 프로토콜은 기본적으로 &ldquo;best-effort&rdquo; 전송을 제공하며, 이는 분할 내성을 우선시합니다. 패킷이 손실되거나 순서가 바뀔 수 있으므로, 일관성과 가용성은 상위 계층(전송 계층)에 위임됩니다.</p><p>**전송 계층(Layer 4)**에서 TCP는 일관성을 강화합니다. 재전송, 순서 보장, 흐름 제어를 통해 신뢰성 있는 데이터 전송을 보장하지만, 네트워크 분할이 발생하면 연결이 끊어지거나 타임아웃이 발생하여 가용성이 저하될 수 있습니다. 반면, UDP는 가용성과 분할 내성을 우선시하며, 일관성은 응용 계층에서 처리하도록 합니다.</p><p>**응용 계층(Layer 7)**의 분산 데이터베이스나 분산 파일 시스템은 CAP 트레이드오프를 명시적으로 선택해야 합니다. 예를 들어, MongoDB는 CP(일관성+분할 내성)를 선택하고, Cassandra는 AP(가용성+분할 내성)를 선택합니다.</p><p>현실에서는 네트워크 분할이 언제든지 발생할 수 있으므로, 실질적인 선택은 CP(일관성 우선) 또는 AP(가용성 우선) 사이에서 이루어집니다. OSI 모델의 하위 계층(1-3)은 주로 분할 내성을 제공하고, 상위 계층(4-7)에서 일관성 또는 가용성을 선택하는 구조로 설계되어 있습니다.</p><h4 id=supporting-artifacts-12>Supporting Artifacts<a hidden class=anchor aria-hidden=true href=#supporting-artifacts-12>#</a></h4><p><strong>다이어그램 S2.1-1: CAP 정리와 OSI 계층의 관계</strong></p><pre class=mermaid>graph TD
    CAP[CAP 정리&lt;br/&gt;C + A + P 중 2개만 선택]
    
    C[일관성&lt;br/&gt;Consistency]
    A[가용성&lt;br/&gt;Availability]
    P[분할 내성&lt;br/&gt;Partition Tolerance]
    
    CAP --&gt; C
    CAP --&gt; A
    CAP --&gt; P
    
    CP[CP 시스템&lt;br/&gt;일관성 + 분할 내성]
    AP[AP 시스템&lt;br/&gt;가용성 + 분할 내성]
    CA[CA 시스템&lt;br/&gt;일관성 + 가용성&lt;br/&gt;실제로는 존재 불가]
    
    C --&gt; CP
    P --&gt; CP
    A --&gt; AP
    P --&gt; AP
    C --&gt; CA
    A --&gt; CA
    
    L7[Layer 7: Application&lt;br/&gt;분산 DB 선택&lt;br/&gt;MongoDB=CP, Cassandra=AP]
    L4_TCP[Layer 4: TCP&lt;br/&gt;일관성 우선&lt;br/&gt;재전송, 순서 보장]
    L4_UDP[Layer 4: UDP&lt;br/&gt;가용성 우선&lt;br/&gt;빠른 전송, 순서 무시]
    L3[Layer 3: Network&lt;br/&gt;분할 내성 제공&lt;br/&gt;Best-effort 전송]
    
    CP --&gt; L7
    AP --&gt; L7
    CP --&gt; L4_TCP
    AP --&gt; L4_UDP
    P --&gt; L3
    
    style CAP fill:#e1f5ff
    style C fill:#ffe1e1
    style A fill:#e1ffe1
    style P fill:#ffe1ff
    style CP fill:#ffcccc
    style AP fill:#ccffcc
    style CA fill:#cccccc
</pre><p><strong>표 S2.1-1: OSI 계층별 CAP 트레이드오프</strong></p><table><thead><tr><th style=text-align:left>OSI 계층</th><th style=text-align:left>프로토콜/기술</th><th style=text-align:left>CAP 선택</th><th style=text-align:left>설명</th></tr></thead><tbody><tr><td style=text-align:left>7 (Application)</td><td style=text-align:left>MongoDB</td><td style=text-align:left>CP</td><td style=text-align:left>강한 일관성, 분할 시 가용성 희생</td></tr><tr><td style=text-align:left>7 (Application)</td><td style=text-align:left>Cassandra</td><td style=text-align:left>AP</td><td style=text-align:left>높은 가용성, 최종 일관성 제공</td></tr><tr><td style=text-align:left>4 (Transport)</td><td style=text-align:left>TCP</td><td style=text-align:left>CP 경향</td><td style=text-align:left>신뢰성 있는 전송, 연결 끊김 시 재연결 필요</td></tr><tr><td style=text-align:left>4 (Transport)</td><td style=text-align:left>UDP</td><td style=text-align:left>AP 경향</td><td style=text-align:left>빠른 전송, 손실 허용, 높은 처리량</td></tr><tr><td style=text-align:left>3 (Network)</td><td style=text-align:left>IP</td><td style=text-align:left>P 우선</td><td style=text-align:left>Best-effort, 분할 내성 제공, 일관성은 상위 계층 위임</td></tr><tr><td style=text-align:left>2 (Data Link)</td><td style=text-align:left>Ethernet</td><td style=text-align:left>P 우선</td><td style=text-align:left>로컬 네트워크 프레임 전송, 오류 검출만 제공</td></tr></tbody></table><h3 id=s22-합의-알고리즘-consensus-algorithms>S2.2: 합의 알고리즘 (Consensus Algorithms)<a hidden class=anchor aria-hidden=true href=#s22-합의-알고리즘-consensus-algorithms>#</a></h3><h4 id=overview-16>Overview<a hidden class=anchor aria-hidden=true href=#overview-16>#</a></h4><p>분산 시스템에서 여러 노드가 하나의 값에 합의하도록 하는 알고리즘입니다. OSI 모델의 세션 계층과 전송 계층은 합의 알고리즘의 기반을 제공합니다.</p><h4 id=body-14>Body<a hidden class=anchor aria-hidden=true href=#body-14>#</a></h4><p>합의(consensus)는 분산 시스템에서 여러 프로세스 또는 노드가 단일 데이터 값에 동의하는 과정입니다. 네트워크 통신이 신뢰할 수 없고 노드가 실패할 수 있는 환경에서 합의를 달성하는 것은 근본적인 도전 과제입니다. 대표적인 합의 알고리즘으로는 Paxos, Raft, Byzantine Fault Tolerance(BFT) 등이 있습니다.</p><p>OSI 모델과 합의 알고리즘의 관계를 이해하려면, 먼저 합의가 필요한 이유를 알아야 합니다. 분산 데이터베이스에서 리더 선출, 트랜잭션 커밋 결정, 설정 변경 등의 작업은 모든 노드가 동일한 결정에 도달해야 합니다. 이 과정에서 OSI 모델의 여러 계층이 중요한 역할을 합니다.</p><p>**전송 계층(Layer 4)**은 합의 알고리즘의 메시지 전달을 담당합니다. TCP는 순서 보장과 재전송을 통해 신뢰성 있는 메시지 전달을 제공하지만, 이것만으로는 합의를 달성할 수 없습니다. 왜냐하면 TCP는 네트워크 분할을 감지하지 못하고, 타임아웃으로 연결을 끊을 수 있기 때문입니다. 합의 알고리즘은 이러한 한계를 극복하기 위해 설계되었습니다.</p><p><strong>Paxos 알고리즘</strong>은 Leslie Lamport가 1998년 제안한 합의 알고리즘으로, 네트워크 지연과 패킷 손실이 있는 환경에서도 합의를 달성할 수 있습니다. Paxos는 Proposer, Acceptor, Learner 세 가지 역할로 구성되며, 2-phase 프로토콜(Prepare/Promise, Propose/Accept)을 사용합니다. OSI 모델의 관점에서 Paxos 메시지는 응용 계층(Layer 7) 프로토콜이며, TCP(Layer 4)를 통해 전달됩니다.</p><p><strong>Raft 알고리즘</strong>은 2014년 Diego Ongaro와 John Ousterhout가 발표한 알고리즘으로, Paxos보다 이해하기 쉽도록 설계되었습니다. Raft는 리더 선출, 로그 복제, 안전성(safety)을 명확히 분리하여 구현의 복잡도를 낮췄습니다. Raft는 RequestVote와 AppendEntries라는 두 가지 주요 RPC를 사용하며, 이들은 TCP 기반의 응용 계층 메시지로 전송됩니다.</p><p>**세션 계층(Layer 5)**의 개념은 합의 알고리즘에서 중요한 역할을 합니다. 합의 과정은 여러 라운드의 메시지 교환으로 구성되며, 이는 본질적으로 &ldquo;세션"입니다. Raft의 term(임기) 개념은 세션 관리와 유사하며, 새로운 리더가 선출될 때마다 term이 증가합니다.</p><p>합의 알고리즘의 성능은 네트워크 계층(Layer 3)의 지연과 대역폭에 크게 영향을 받습니다. 예를 들어, Paxos와 Raft는 모두 quorum(정족수)을 사용하는데, 이는 과반수의 노드로부터 응답을 받아야 합의가 완료됨을 의미합니다. 따라서 네트워크 지연이 클수록 합의 시간이 길어집니다.</p><h4 id=supporting-artifacts-13>Supporting Artifacts<a hidden class=anchor aria-hidden=true href=#supporting-artifacts-13>#</a></h4><p><strong>표 S2.2-1: 주요 합의 알고리즘 비교</strong></p><table><thead><tr><th style=text-align:left>알고리즘</th><th style=text-align:center>발표 연도</th><th style=text-align:left>장점</th><th style=text-align:left>단점</th><th style=text-align:left>OSI 계층 활용</th></tr></thead><tbody><tr><td style=text-align:left>Paxos</td><td style=text-align:center>1998</td><td style=text-align:left>이론적으로 강력, 증명된 정확성</td><td style=text-align:left>이해/구현이 어려움</td><td style=text-align:left>L7(응용), L4(TCP 전송), L5(세션 개념)</td></tr><tr><td style=text-align:left>Raft</td><td style=text-align:center>2014</td><td style=text-align:left>이해하기 쉬움, 명확한 리더 선출</td><td style=text-align:left>Paxos보다 메시지 많음</td><td style=text-align:left>L7(RPC), L4(TCP), L5(term 기반 세션)</td></tr><tr><td style=text-align:left>Byzantine Paxos</td><td style=text-align:center>1999</td><td style=text-align:left>악의적 노드 허용</td><td style=text-align:left>복잡도 높음, 성능 저하</td><td style=text-align:left>L7(응용), L4(인증된 채널), L6(암호화)</td></tr><tr><td style=text-align:left>PBFT</td><td style=text-align:center>1999</td><td style=text-align:left>실용적인 BFT</td><td style=text-align:left>3f+1 노드 필요 (f=장애 노드 수)</td><td style=text-align:left>L7(3-phase 프로토콜), L4(TCP)</td></tr><tr><td style=text-align:left>ZAB (ZooKeeper)</td><td style=text-align:center>2011</td><td style=text-align:left>높은 처리량, 순서 보장</td><td style=text-align:left>리더 의존적</td><td style=text-align:left>L7(ZooKeeper), L4(TCP), L5(epoch 세션)</td></tr></tbody></table><p><strong>다이어그램 S2.2-1: Raft 합의 알고리즘과 OSI 계층</strong></p><pre class=mermaid>sequenceDiagram
    participant C as Client&lt;br/&gt;(Layer 7)
    participant L as Leader&lt;br/&gt;(Layer 7)
    participant F1 as Follower 1&lt;br/&gt;(Layer 7)
    participant F2 as Follower 2&lt;br/&gt;(Layer 7)
    participant TCP as TCP&lt;br/&gt;(Layer 4)
    
    C-&gt;&gt;L: 요청 전송 (HTTP over TCP)
    Note over L: 로그에 추가&lt;br/&gt;(uncommitted)
    
    L-&gt;&gt;TCP: AppendEntries RPC 준비
    TCP-&gt;&gt;F1: TCP 세그먼트 전송
    TCP-&gt;&gt;F2: TCP 세그먼트 전송
    
    F1-&gt;&gt;TCP: 응답 (Success)
    F2-&gt;&gt;TCP: 응답 (Success)
    TCP-&gt;&gt;L: Quorum 달성 (2/2)
    
    Note over L: 로그 커밋&lt;br/&gt;(committed)
    L-&gt;&gt;C: 응답 반환&lt;br/&gt;(HTTP over TCP)
    
    Note over L,F2: Quorum: 과반수(2/3) 응답&lt;br/&gt;Layer 4(TCP)가 신뢰성 제공&lt;br/&gt;Layer 7(Raft)가 합의 달성
</pre><h3 id=s23-복제-전략-replication-strategies>S2.3: 복제 전략 (Replication Strategies)<a hidden class=anchor aria-hidden=true href=#s23-복제-전략-replication-strategies>#</a></h3><h4 id=overview-17>Overview<a hidden class=anchor aria-hidden=true href=#overview-17>#</a></h4><p>분산 시스템에서 데이터의 가용성과 내결함성을 높이기 위해 여러 노드에 데이터를 복제하는 전략입니다. OSI 모델의 각 계층은 복제 전략의 효율성과 신뢰성에 영향을 줍니다.</p><h4 id=body-15>Body<a hidden class=anchor aria-hidden=true href=#body-15>#</a></h4><p>복제(replication)는 동일한 데이터를 여러 노드에 저장하여 가용성, 성능, 내결함성을 향상시키는 기법입니다. 복제 전략은 크게 동기 복제(synchronous replication)와 비동기 복제(asynchronous replication)로 나뉘며, 각각 일관성과 성능 사이의 트레이드오프를 가집니다.</p><p><strong>동기 복제</strong>는 쓰기 작업이 모든 복제본에 적용된 후에만 완료로 간주됩니다. 이는 강한 일관성(strong consistency)을 보장하지만, 네트워크 지연에 민감하고 가용성이 낮아질 수 있습니다. OSI 모델의 관점에서 동기 복제는 전송 계층(Layer 4)의 TCP를 통해 각 복제본에 데이터를 전송하고, 모든 복제본으로부터 확인 응답(ACK)을 받은 후에야 클라이언트에 성공을 반환합니다.</p><p><strong>비동기 복제</strong>는 쓰기 작업이 주 노드에 적용되면 즉시 완료로 간주하고, 백그라운드에서 다른 복제본에 변경 사항을 전파합니다. 이는 높은 성능과 가용성을 제공하지만, 최종 일관성(eventual consistency)만 보장합니다. 네트워크 계층(Layer 3)의 멀티캐스트 기능을 활용하면 복제 효율을 높일 수 있습니다.</p><p>**체인 복제(Chain Replication)**는 노드를 선형 체인으로 구성하고, 쓰기는 체인의 헤드에서 테일로 전파되며, 읽기는 테일에서 처리됩니다. 이 전략은 전송 계층(Layer 4)의 순서 보장 기능을 활용하여 복제 순서를 유지합니다.</p><p><strong>Quorum 복제</strong>는 N개의 복제본 중 W개에 쓰기를 성공하고, R개로부터 읽기를 수행하는 방식입니다. W + R > N을 만족하면 읽기는 항상 최신 값을 반환합니다. 이 전략은 응용 계층(Layer 7)에서 구현되며, 네트워크 계층(Layer 3)의 라우팅 효율성에 영향을 받습니다.</p><p>OSI 모델의 데이터 링크 계층(Layer 2)은 로컬 네트워크 내에서 브로드캐스트와 멀티캐스트를 지원하여, 동일 서브넷 내 복제본 간의 효율적인 통신을 가능하게 합니다. 예를 들어, ARP(Address Resolution Protocol)는 Layer 2 브로드캐스트를 사용하여 IP 주소를 MAC 주소로 해석합니다.</p><p>복제 전략의 성능은 네트워크 계층(Layer 3)의 토폴로지와 라우팅 프로토콜에 크게 의존합니다. 복제본이 지리적으로 분산되어 있을 경우, BGP와 같은 라우팅 프로토콜이 최적 경로를 선택하여 복제 지연을 최소화합니다.</p><h4 id=supporting-artifacts-14>Supporting Artifacts<a hidden class=anchor aria-hidden=true href=#supporting-artifacts-14>#</a></h4><p><strong>표 S2.3-1: 복제 전략 비교</strong></p><table><thead><tr><th style=text-align:left>복제 전략</th><th style=text-align:left>일관성</th><th style=text-align:left>성능</th><th style=text-align:left>가용성</th><th style=text-align:left>OSI 계층 활용</th></tr></thead><tbody><tr><td style=text-align:left>동기 복제</td><td style=text-align:left>강한 일관성</td><td style=text-align:left>낮음 (대기 시간)</td><td style=text-align:left>낮음 (복제본 실패 시)</td><td style=text-align:left>L4(TCP ACK), L7(2PC)</td></tr><tr><td style=text-align:left>비동기 복제</td><td style=text-align:left>최종 일관성</td><td style=text-align:left>높음</td><td style=text-align:left>높음</td><td style=text-align:left>L4(TCP/UDP), L3(멀티캐스트)</td></tr><tr><td style=text-align:left>체인 복제</td><td style=text-align:left>강한 일관성</td><td style=text-align:left>중간</td><td style=text-align:left>중간</td><td style=text-align:left>L4(순서 보장), L3(라우팅)</td></tr><tr><td style=text-align:left>Quorum 복제</td><td style=text-align:left>튜닝 가능 (W, R)</td><td style=text-align:left>중간</td><td style=text-align:left>높음</td><td style=text-align:left>L7(Quorum 로직), L4(TCP)</td></tr><tr><td style=text-align:left>Multi-Master</td><td style=text-align:left>최종 일관성</td><td style=text-align:left>높음</td><td style=text-align:left>매우 높음</td><td style=text-align:left>L7(충돌 해결), L4(TCP)</td></tr></tbody></table><p><strong>다이어그램 S2.3-1: 동기 vs 비동기 복제</strong></p><pre class=mermaid>sequenceDiagram
    participant C as Client
    participant M as Master&lt;br/&gt;(주 노드)
    participant R1 as Replica 1
    participant R2 as Replica 2
    
    Note over C,R2: 동기 복제 (Synchronous)
    C-&gt;&gt;M: WRITE (value=42)
    M-&gt;&gt;R1: REPLICATE (value=42)
    M-&gt;&gt;R2: REPLICATE (value=42)
    R1--&gt;&gt;M: ACK
    R2--&gt;&gt;M: ACK
    Note over M: 모든 복제본 확인 후
    M--&gt;&gt;C: SUCCESS
    
    Note over C,R2: 비동기 복제 (Asynchronous)
    C-&gt;&gt;M: WRITE (value=43)
    Note over M: 즉시 성공 반환
    M--&gt;&gt;C: SUCCESS
    M-&gt;&gt;R1: REPLICATE (value=43)
    M-&gt;&gt;R2: REPLICATE (value=43)
    Note over R1,R2: 백그라운드에서&lt;br/&gt;복제 진행
</pre><h3 id=s24-일관성-모델-consistency-models>S2.4: 일관성 모델 (Consistency Models)<a hidden class=anchor aria-hidden=true href=#s24-일관성-모델-consistency-models>#</a></h3><h4 id=overview-18>Overview<a hidden class=anchor aria-hidden=true href=#overview-18>#</a></h4><p>분산 시스템에서 복제된 데이터가 어떤 일관성 보장을 제공하는지 정의하는 모델입니다. OSI 모델의 계층별 신뢰성 메커니즘은 다양한 일관성 모델을 구현하는 데 필수적입니다.</p><h4 id=body-16>Body<a hidden class=anchor aria-hidden=true href=#body-16>#</a></h4><p>일관성 모델(consistency model)은 분산 시스템에서 데이터의 복제본 간 일관성을 유지하는 방법과 그에 따른 보장 수준을 정의합니다. 강한 일관성부터 약한 일관성까지 다양한 모델이 존재하며, 각 모델은 성능, 가용성, 복잡도 사이의 트레이드오프를 가집니다.</p><p>**강한 일관성(Strong Consistency)**은 모든 읽기 작업이 항상 가장 최근의 쓰기 값을 반환하는 것을 보장합니다. 이는 마치 단일 복제본만 존재하는 것처럼 동작합니다(linearizability). OSI 모델에서 강한 일관성을 구현하려면, 전송 계층(Layer 4)의 TCP를 통해 동기 복제를 수행하고, 응용 계층(Layer 7)에서 합의 알고리즘(예: Paxos, Raft)을 사용하여 모든 노드가 동일한 순서로 작업을 수행하도록 합니다.</p><p>**순차 일관성(Sequential Consistency)**은 모든 프로세스가 동일한 순서로 작업을 관찰하는 것을 보장하지만, 반드시 실제 발생 순서와 일치할 필요는 없습니다. 이는 전송 계층(Layer 4)의 순서 보장 기능(TCP sequence number)과 응용 계층(Layer 7)의 논리적 타임스탬프(Lamport timestamps, Vector clocks)를 조합하여 구현할 수 있습니다.</p><p>**인과 일관성(Causal Consistency)**은 인과 관계가 있는 작업들만 모든 노드에서 동일한 순서로 관찰되는 것을 보장합니다. 인과 관계가 없는 작업들은 다른 순서로 관찰될 수 있습니다. Vector clocks는 인과 관계를 추적하는 데 널리 사용되며, 이는 응용 계층(Layer 7)에서 구현됩니다. 네트워크 계층(Layer 3)의 멀티캐스트 기능을 활용하면 인과 관계가 있는 업데이트를 효율적으로 전파할 수 있습니다.</p><p>**최종 일관성(Eventual Consistency)**은 새로운 업데이트가 없다면, 결국 모든 복제본이 동일한 값으로 수렴함을 보장합니다. 이는 가장 약한 일관성 모델이지만, 높은 가용성과 성능을 제공합니다. 비동기 복제와 함께 사용되며, DNS와 Amazon DynamoDB가 대표적인 예입니다. 최종 일관성은 전송 계층(Layer 4)의 UDP를 사용하여 오버헤드를 낮추거나, TCP를 사용하되 비동기적으로 업데이트를 전파합니다.</p><p>**읽기-쓰기 일관성(Read-Your-Writes Consistency)**은 프로세스가 자신이 쓴 값은 항상 읽을 수 있음을 보장합니다. 이는 세션 계층(Layer 5) 또는 응용 계층(Layer 7)에서 세션 어피니티(session affinity)를 사용하여 구현할 수 있습니다. 클라이언트의 읽기 요청을 항상 자신이 쓴 서버로 라우팅하거나, 쓰기 후 일정 시간 동안 해당 서버에서만 읽기를 수행합니다.</p><p>OSI 모델의 계층별 기능은 일관성 모델 구현에 다음과 같이 기여합니다. 물리 계층(Layer 1)과 데이터 링크 계층(Layer 2)은 신뢰성 있는 프레임 전송을 제공하여 데이터 손상을 방지합니다. 네트워크 계층(Layer 3)은 라우팅과 주소 지정을 통해 복제본 간 통신을 가능하게 합니다. 전송 계층(Layer 4)은 신뢰성, 순서 보장, 흐름 제어를 제공하여 일관성 모델의 기반을 마련합니다. 응용 계층(Layer 7)은 실제 일관성 모델의 로직을 구현합니다.</p><h4 id=supporting-artifacts-15>Supporting Artifacts<a hidden class=anchor aria-hidden=true href=#supporting-artifacts-15>#</a></h4><p><strong>표 S2.4-1: 일관성 모델 비교</strong></p><table><thead><tr><th style=text-align:left>일관성 모델</th><th style=text-align:left>보장 수준</th><th style=text-align:left>성능</th><th style=text-align:left>구현 복잡도</th><th style=text-align:left>OSI 계층 활용</th></tr></thead><tbody><tr><td style=text-align:left>Linearizability (강한 일관성)</td><td style=text-align:left>매우 강함</td><td style=text-align:left>낮음</td><td style=text-align:left>높음</td><td style=text-align:left>L7(합의 알고리즘), L4(TCP 동기)</td></tr><tr><td style=text-align:left>Sequential Consistency</td><td style=text-align:left>강함</td><td style=text-align:left>중간</td><td style=text-align:left>중간</td><td style=text-align:left>L7(논리적 시간), L4(TCP 순서)</td></tr><tr><td style=text-align:left>Causal Consistency</td><td style=text-align:left>중간</td><td style=text-align:left>중간</td><td style=text-align:left>중간</td><td style=text-align:left>L7(Vector clocks), L3(멀티캐스트)</td></tr><tr><td style=text-align:left>Eventual Consistency</td><td style=text-align:left>약함</td><td style=text-align:left>높음</td><td style=text-align:left>낮음</td><td style=text-align:left>L7(비동기 복제), L4(UDP/TCP 비동기)</td></tr><tr><td style=text-align:left>Read-Your-Writes</td><td style=text-align:left>세션 기반</td><td style=text-align:left>높음</td><td style=text-align:left>낮음</td><td style=text-align:left>L7(세션 어피니티), L5(세션 관리)</td></tr><tr><td style=text-align:left>Monotonic Reads</td><td style=text-align:left>중간</td><td style=text-align:left>높음</td><td style=text-align:left>낮음</td><td style=text-align:left>L7(버전 관리), L4(TCP)</td></tr></tbody></table><p><strong>코드 예제 S2.4-1: 일관성 모델 시뮬레이션</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1> 1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2> 2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3> 3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4> 4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5> 5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6> 6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7> 7</a>
</span><span class=lnt id=hl-15-8><a class=lnlinks href=#hl-15-8> 8</a>
</span><span class=lnt id=hl-15-9><a class=lnlinks href=#hl-15-9> 9</a>
</span><span class=lnt id=hl-15-10><a class=lnlinks href=#hl-15-10>10</a>
</span><span class=lnt id=hl-15-11><a class=lnlinks href=#hl-15-11>11</a>
</span><span class=lnt id=hl-15-12><a class=lnlinks href=#hl-15-12>12</a>
</span><span class=lnt id=hl-15-13><a class=lnlinks href=#hl-15-13>13</a>
</span><span class=lnt id=hl-15-14><a class=lnlinks href=#hl-15-14>14</a>
</span><span class=lnt id=hl-15-15><a class=lnlinks href=#hl-15-15>15</a>
</span><span class=lnt id=hl-15-16><a class=lnlinks href=#hl-15-16>16</a>
</span><span class=lnt id=hl-15-17><a class=lnlinks href=#hl-15-17>17</a>
</span><span class=lnt id=hl-15-18><a class=lnlinks href=#hl-15-18>18</a>
</span><span class=lnt id=hl-15-19><a class=lnlinks href=#hl-15-19>19</a>
</span><span class=lnt id=hl-15-20><a class=lnlinks href=#hl-15-20>20</a>
</span><span class=lnt id=hl-15-21><a class=lnlinks href=#hl-15-21>21</a>
</span><span class=lnt id=hl-15-22><a class=lnlinks href=#hl-15-22>22</a>
</span><span class=lnt id=hl-15-23><a class=lnlinks href=#hl-15-23>23</a>
</span><span class=lnt id=hl-15-24><a class=lnlinks href=#hl-15-24>24</a>
</span><span class=lnt id=hl-15-25><a class=lnlinks href=#hl-15-25>25</a>
</span><span class=lnt id=hl-15-26><a class=lnlinks href=#hl-15-26>26</a>
</span><span class=lnt id=hl-15-27><a class=lnlinks href=#hl-15-27>27</a>
</span><span class=lnt id=hl-15-28><a class=lnlinks href=#hl-15-28>28</a>
</span><span class=lnt id=hl-15-29><a class=lnlinks href=#hl-15-29>29</a>
</span><span class=lnt id=hl-15-30><a class=lnlinks href=#hl-15-30>30</a>
</span><span class=lnt id=hl-15-31><a class=lnlinks href=#hl-15-31>31</a>
</span><span class=lnt id=hl-15-32><a class=lnlinks href=#hl-15-32>32</a>
</span><span class=lnt id=hl-15-33><a class=lnlinks href=#hl-15-33>33</a>
</span><span class=lnt id=hl-15-34><a class=lnlinks href=#hl-15-34>34</a>
</span><span class=lnt id=hl-15-35><a class=lnlinks href=#hl-15-35>35</a>
</span><span class=lnt id=hl-15-36><a class=lnlinks href=#hl-15-36>36</a>
</span><span class=lnt id=hl-15-37><a class=lnlinks href=#hl-15-37>37</a>
</span><span class=lnt id=hl-15-38><a class=lnlinks href=#hl-15-38>38</a>
</span><span class=lnt id=hl-15-39><a class=lnlinks href=#hl-15-39>39</a>
</span><span class=lnt id=hl-15-40><a class=lnlinks href=#hl-15-40>40</a>
</span><span class=lnt id=hl-15-41><a class=lnlinks href=#hl-15-41>41</a>
</span><span class=lnt id=hl-15-42><a class=lnlinks href=#hl-15-42>42</a>
</span><span class=lnt id=hl-15-43><a class=lnlinks href=#hl-15-43>43</a>
</span><span class=lnt id=hl-15-44><a class=lnlinks href=#hl-15-44>44</a>
</span><span class=lnt id=hl-15-45><a class=lnlinks href=#hl-15-45>45</a>
</span><span class=lnt id=hl-15-46><a class=lnlinks href=#hl-15-46>46</a>
</span><span class=lnt id=hl-15-47><a class=lnlinks href=#hl-15-47>47</a>
</span><span class=lnt id=hl-15-48><a class=lnlinks href=#hl-15-48>48</a>
</span><span class=lnt id=hl-15-49><a class=lnlinks href=#hl-15-49>49</a>
</span><span class=lnt id=hl-15-50><a class=lnlinks href=#hl-15-50>50</a>
</span><span class=lnt id=hl-15-51><a class=lnlinks href=#hl-15-51>51</a>
</span><span class=lnt id=hl-15-52><a class=lnlinks href=#hl-15-52>52</a>
</span><span class=lnt id=hl-15-53><a class=lnlinks href=#hl-15-53>53</a>
</span><span class=lnt id=hl-15-54><a class=lnlinks href=#hl-15-54>54</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>datetime</span> <span class=kn>import</span> <span class=n>datetime</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ConsistencyModel</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;일관성 모델의 개념적 표현&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>model_name</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>model_name</span> <span class=o>=</span> <span class=n>model_name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>replicas</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>version</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>write</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>replica_id</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;값 쓰기&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>version</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>replicas</span><span class=p>[</span><span class=n>replica_id</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;value&#39;</span><span class=p>:</span> <span class=n>value</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;version&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>version</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;timestamp&#39;</span><span class=p>:</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>version</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>read</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>replica_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;값 읽기&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>replica_id</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>replicas</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>replicas</span><span class=p>[</span><span class=n>replica_id</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 강한 일관성 시뮬레이션</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>StrongConsistency</span><span class=p>(</span><span class=n>ConsistencyModel</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;모든 복제본이 동기화될 때까지 대기&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>write</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>replica_id</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>version</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>replica_id</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 모든 복제본에 동기적으로 복제</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>rid</span> <span class=ow>in</span> <span class=p>[</span><span class=s1>&#39;replica1&#39;</span><span class=p>,</span> <span class=s1>&#39;replica2&#39;</span><span class=p>,</span> <span class=s1>&#39;replica3&#39;</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>            <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>rid</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[StrongConsistency] All replicas synced to version </span><span class=si>{</span><span class=n>version</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>version</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 최종 일관성 시뮬레이션</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>EventualConsistency</span><span class=p>(</span><span class=n>ConsistencyModel</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;즉시 반환하고 나중에 복제&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>write</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>replica_id</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>version</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>replica_id</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[EventualConsistency] Write to </span><span class=si>{</span><span class=n>replica_id</span><span class=si>}</span><span class=s2> version </span><span class=si>{</span><span class=n>version</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 비동기 복제 (시뮬레이션)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;[EventualConsistency] Asynchronous replication in progress...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>version</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 실행 예제</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;=== 강한 일관성 ===&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>strong</span> <span class=o>=</span> <span class=n>StrongConsistency</span><span class=p>(</span><span class=s2>&#34;Strong&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>strong</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s1>&#39;master&#39;</span><span class=p>,</span> <span class=mi>42</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>=== 최종 일관성 ===&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>eventual</span> <span class=o>=</span> <span class=n>EventualConsistency</span><span class=p>(</span><span class=s2>&#34;Eventual&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>eventual</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s1>&#39;master&#39;</span><span class=p>,</span> <span class=mi>43</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=s25-네트워크-프로토콜-network-protocols>S2.5: 네트워크 프로토콜 (Network Protocols)<a hidden class=anchor aria-hidden=true href=#s25-네트워크-프로토콜-network-protocols>#</a></h3><h4 id=overview-19>Overview<a hidden class=anchor aria-hidden=true href=#overview-19>#</a></h4><p>OSI 모델의 각 계층에서 사용되는 프로토콜들을 상세히 살펴보고, 이들이 어떻게 상호작용하여 네트워크 통신을 가능하게 하는지 이해합니다.</p><h4 id=body-17>Body<a hidden class=anchor aria-hidden=true href=#body-17>#</a></h4><p>네트워크 프로토콜은 OSI 모델의 각 계층에서 정의된 규칙과 절차의 집합으로, 네트워크 상에서 데이터를 교환하는 방법을 명시합니다. 각 계층의 프로토콜은 독립적으로 발전할 수 있으며, 상위 계층은 하위 계층의 세부 구현을 알 필요가 없습니다.</p><p><strong>물리 계층(Layer 1) 프로토콜</strong>은 비트 스트림의 물리적 전송을 정의합니다. Ethernet(IEEE 802.3)은 CSMA/CD(Carrier Sense Multiple Access with Collision Detection)를 사용하여 매체 접근을 제어하며, 10BASE-T, 100BASE-TX, 1000BASE-T 등 다양한 속도를 지원합니다. Wi-Fi(IEEE 802.11)는 CSMA/CA(Collision Avoidance)를 사용하며, 802.11a/b/g/n/ac/ax 등의 표준이 있습니다. USB, RS-232, HDMI 등도 물리 계층 프로토콜입니다.</p><p><strong>데이터 링크 계층(Layer 2) 프로토콜</strong>은 프레임 구조와 오류 검출을 정의합니다. Ethernet 프레임은 Preamble, Destination MAC, Source MAC, EtherType/Length, Payload, FCS(Frame Check Sequence)로 구성됩니다. PPP(Point-to-Point Protocol)는 직렬 링크에서 사용되며, HDLC(High-Level Data Link Control)는 동기 전송에 사용됩니다. ARP(Address Resolution Protocol)는 IP 주소를 MAC 주소로 매핑하며, 역으로 RARP(Reverse ARP)는 MAC 주소를 IP 주소로 매핑합니다.</p><p><strong>네트워크 계층(Layer 3) 프로토콜</strong>은 논리적 주소 지정과 라우팅을 담당합니다. IPv4(RFC 791)는 32비트 주소를 사용하며, 클래스 기반(Class A/B/C) 및 CIDR(Classless Inter-Domain Routing) 주소 지정을 지원합니다. IPv6(RFC 2460)는 128비트 주소를 사용하여 주소 공간을 대폭 확장했습니다. ICMP(Internet Control Message Protocol, RFC 792)는 오류 보고와 진단에 사용되며, ping과 traceroute가 ICMP를 활용합니다. IGMP(Internet Group Management Protocol, RFC 1112)는 멀티캐스트 그룹 관리에 사용됩니다. 라우팅 프로토콜로는 RIP(Routing Information Protocol), OSPF(Open Shortest Path First), BGP(Border Gateway Protocol) 등이 있습니다.</p><p><strong>전송 계층(Layer 4) 프로토콜</strong>은 종단 간 통신을 제공합니다. TCP(Transmission Control Protocol, RFC 793)는 연결 지향 프로토콜로, 3-way handshake(SYN, SYN-ACK, ACK)를 통해 연결을 설정하고, 4-way handshake를 통해 연결을 종료합니다. TCP는 순서 번호, 확인 응답, 재전송, 흐름 제어(슬라이딩 윈도우), 혼잡 제어(Slow Start, Congestion Avoidance)를 제공합니다. UDP(User Datagram Protocol, RFC 768)는 비연결 프로토콜로, 오버헤드가 낮고 실시간 응용(VoIP, 온라인 게임, 비디오 스트리밍)에 적합합니다.</p><p><strong>세션 계층(Layer 5) 프로토콜</strong>은 대화 제어와 동기화를 담당합니다. NetBIOS는 네트워크 서비스 제공, PPTP(Point-to-Point Tunneling Protocol)는 VPN 연결, RPC(Remote Procedure Call)는 원격 함수 호출을 지원합니다. 실제로 많은 현대 응용은 세션 계층 기능을 응용 계층에 통합합니다.</p><p><strong>표현 계층(Layer 6) 프로토콜</strong>은 데이터 표현과 암호화를 담당합니다. TLS/SSL(Transport Layer Security/Secure Sockets Layer)은 암호화된 통신을 제공하며, HTTPS, FTPS, SMTPS 등에 사용됩니다. MIME(Multipurpose Internet Mail Extensions)는 이메일의 바이너리 첨부 파일을 인코딩합니다. 압축 알고리즘(gzip, deflate), 이미지 형식(JPEG, PNG), 비디오 코덱(H.264, VP9) 등도 표현 계층의 기능입니다.</p><p><strong>응용 계층(Layer 7) 프로토콜</strong>은 사용자가 직접 상호작용하는 네트워크 서비스를 제공합니다. HTTP/HTTPS(RFC 2616, RFC 7540)는 웹 통신, FTP(File Transfer Protocol, RFC 959)는 파일 전송, SMTP(Simple Mail Transfer Protocol, RFC 5321)는 이메일 송신, POP3(Post Office Protocol, RFC 1939)와 IMAP(Internet Message Access Protocol, RFC 3501)은 이메일 수신, DNS(Domain Name System, RFC 1035)는 도메인 이름 해석, SSH(Secure Shell, RFC 4251)는 암호화된 원격 접속, SNMP(Simple Network Management Protocol, RFC 1157)는 네트워크 관리, DHCP(Dynamic Host Configuration Protocol, RFC 2131)는 IP 주소 자동 할당에 사용됩니다.</p><h4 id=supporting-artifacts-16>Supporting Artifacts<a hidden class=anchor aria-hidden=true href=#supporting-artifacts-16>#</a></h4><p><strong>표 S2.5-1: OSI 계층별 주요 프로토콜</strong></p><table><thead><tr><th style=text-align:left>계층</th><th style=text-align:left>프로토콜</th><th style=text-align:left>설명</th><th style=text-align:left>RFC/표준</th><th style=text-align:left>용도</th></tr></thead><tbody><tr><td style=text-align:left>7 (Application)</td><td style=text-align:left>HTTP/HTTPS</td><td style=text-align:left>웹 통신</td><td style=text-align:left>RFC 2616, 7540</td><td style=text-align:left>웹 브라우징, REST API</td></tr><tr><td style=text-align:left>7 (Application)</td><td style=text-align:left>FTP</td><td style=text-align:left>파일 전송</td><td style=text-align:left>RFC 959</td><td style=text-align:left>파일 업로드/다운로드</td></tr><tr><td style=text-align:left>7 (Application)</td><td style=text-align:left>SMTP/POP3/IMAP</td><td style=text-align:left>이메일</td><td style=text-align:left>RFC 5321, 1939, 3501</td><td style=text-align:left>이메일 송수신</td></tr><tr><td style=text-align:left>7 (Application)</td><td style=text-align:left>DNS</td><td style=text-align:left>도메인 이름 해석</td><td style=text-align:left>RFC 1035</td><td style=text-align:left>도메인 → IP 변환</td></tr><tr><td style=text-align:left>6 (Presentation)</td><td style=text-align:left>TLS/SSL</td><td style=text-align:left>암호화</td><td style=text-align:left>RFC 5246, 6101</td><td style=text-align:left>HTTPS, 보안 통신</td></tr><tr><td style=text-align:left>6 (Presentation)</td><td style=text-align:left>MIME</td><td style=text-align:left>이메일 인코딩</td><td style=text-align:left>RFC 2045</td><td style=text-align:left>첨부 파일 인코딩</td></tr><tr><td style=text-align:left>5 (Session)</td><td style=text-align:left>NetBIOS</td><td style=text-align:left>네트워크 서비스</td><td style=text-align:left>RFC 1001, 1002</td><td style=text-align:left>Windows 파일 공유</td></tr><tr><td style=text-align:left>5 (Session)</td><td style=text-align:left>RPC</td><td style=text-align:left>원격 프로시저 호출</td><td style=text-align:left>RFC 5531</td><td style=text-align:left>분산 시스템 통신</td></tr><tr><td style=text-align:left>4 (Transport)</td><td style=text-align:left>TCP</td><td style=text-align:left>연결 지향 전송</td><td style=text-align:left>RFC 793</td><td style=text-align:left>신뢰성 있는 통신</td></tr><tr><td style=text-align:left>4 (Transport)</td><td style=text-align:left>UDP</td><td style=text-align:left>비연결 전송</td><td style=text-align:left>RFC 768</td><td style=text-align:left>실시간 통신, 스트리밍</td></tr><tr><td style=text-align:left>3 (Network)</td><td style=text-align:left>IPv4/IPv6</td><td style=text-align:left>논리 주소 지정</td><td style=text-align:left>RFC 791, 2460</td><td style=text-align:left>패킷 라우팅</td></tr><tr><td style=text-align:left>3 (Network)</td><td style=text-align:left>ICMP</td><td style=text-align:left>오류 보고, 진단</td><td style=text-align:left>RFC 792</td><td style=text-align:left>ping, traceroute</td></tr><tr><td style=text-align:left>3 (Network)</td><td style=text-align:left>OSPF/BGP</td><td style=text-align:left>라우팅 프로토콜</td><td style=text-align:left>RFC 2328, 4271</td><td style=text-align:left>최적 경로 결정</td></tr><tr><td style=text-align:left>2 (Data Link)</td><td style=text-align:left>Ethernet</td><td style=text-align:left>프레임 전송</td><td style=text-align:left>IEEE 802.3</td><td style=text-align:left>LAN 통신</td></tr><tr><td style=text-align:left>2 (Data Link)</td><td style=text-align:left>PPP</td><td style=text-align:left>점대점 프로토콜</td><td style=text-align:left>RFC 1661</td><td style=text-align:left>직렬 링크 통신</td></tr><tr><td style=text-align:left>2 (Data Link)</td><td style=text-align:left>ARP</td><td style=text-align:left>주소 해석</td><td style=text-align:left>RFC 826</td><td style=text-align:left>IP → MAC 매핑</td></tr><tr><td style=text-align:left>1 (Physical)</td><td style=text-align:left>Ethernet PHY</td><td style=text-align:left>물리 전송</td><td style=text-align:left>IEEE 802.3</td><td style=text-align:left>비트 전송 (10/100/1000 Mbps)</td></tr><tr><td style=text-align:left>1 (Physical)</td><td style=text-align:left>Wi-Fi</td><td style=text-align:left>무선 전송</td><td style=text-align:left>IEEE 802.11</td><td style=text-align:left>무선 LAN</td></tr></tbody></table><p><strong>다이어그램 S2.5-1: 프로토콜 스택과 데이터 흐름</strong></p><pre class=mermaid>graph TB
    subgraph &#34;송신자&#34;
        A7[Application: HTTP Request]
        A6[Presentation: TLS Encryption]
        A4[Transport: TCP Segment&lt;br/&gt;Src:50234 Dst:443]
        A3[Network: IP Packet&lt;br/&gt;Src:192.168.1.100 Dst:203.0.113.50]
        A2[Data Link: Ethernet Frame&lt;br/&gt;Src MAC / Dst MAC]
        A1[Physical: Bits 010101...]
    end
    
    subgraph &#34;수신자&#34;
        B1[Physical: Bits 010101...]
        B2[Data Link: Ethernet Frame]
        B3[Network: IP Packet]
        B4[Transport: TCP Segment]
        B6[Presentation: TLS Decryption]
        B7[Application: HTTP Response]
    end
    
    A7 --&gt; A6 --&gt; A4 --&gt; A3 --&gt; A2 --&gt; A1
    A1 --&gt; |물리 매체&lt;br/&gt;Ethernet, Wi-Fi| B1
    B1 --&gt; B2 --&gt; B3 --&gt; B4 --&gt; B6 --&gt; B7
    
    style A7 fill:#e1f5ff
    style A6 fill:#e1f5ff
    style A4 fill:#fff9e1
    style A3 fill:#ffe1e1
    style A2 fill:#ffe1e1
    style A1 fill:#ffe1e1
    style B1 fill:#ffe1e1
    style B2 fill:#ffe1e1
    style B3 fill:#ffe1e1
    style B4 fill:#fff9e1
    style B6 fill:#e1f5ff
    style B7 fill:#e1f5ff
</pre><hr><h2 id=s3-topic-specific-deep-dive-advanced---osi-모델-심화>S3: Topic-Specific Deep Dive (Advanced) - OSI 모델 심화<a hidden class=anchor aria-hidden=true href=#s3-topic-specific-deep-dive-advanced---osi-모델-심화>#</a></h2><h3 id=overview-20>Overview<a hidden class=anchor aria-hidden=true href=#overview-20>#</a></h3><p>S3 섹션은 OSI 모델의 고급 주제를 다룹니다. Encapsulation/Decapsulation 메커니즘, 각 계층별 PDU 구조, TCP/IP와의 상세한 매핑, ISO/IEC 7498-1 표준 명세, 그리고 계층 독립성 원칙과 서비스 경계를 심도 있게 탐구합니다.</p><h3 id=s31-encapsulation-및-decapsulation-메커니즘>S3.1: Encapsulation 및 Decapsulation 메커니즘<a hidden class=anchor aria-hidden=true href=#s31-encapsulation-및-decapsulation-메커니즘>#</a></h3><h4 id=overview-21>Overview<a hidden class=anchor aria-hidden=true href=#overview-21>#</a></h4><p>데이터가 OSI 계층을 통과하면서 헤더와 트레일러가 추가되고(encapsulation) 제거되는(decapsulation) 과정의 상세 메커니즘을 이해합니다.</p><h4 id=body-18>Body<a hidden class=anchor aria-hidden=true href=#body-18>#</a></h4><p>Encapsulation과 decapsulation은 OSI 모델의 핵심 메커니즘으로, 계층 간 독립성을 보장하면서도 데이터가 네트워크를 통해 전송될 수 있도록 합니다. 이 과정은 SDU(Service Data Unit)와 PDU(Protocol Data Unit)의 변환을 통해 이루어집니다.</p><p><strong>Encapsulation 프로세스</strong>는 상위 계층의 PDU를 하위 계층의 SDU로 취급하고, 하위 계층의 프로토콜 헤더(및 경우에 따라 트레일러)를 추가하여 새로운 PDU를 생성하는 과정입니다. 구체적으로, (N+1) 계층의 PDU는 (N) 계층으로 전달될 때 (N)-SDU가 됩니다. (N) 계층은 이 SDU에 (N)-PCI(Protocol Control Information)를 추가하여 (N)-PDU를 생성합니다. 이 과정은 물리 계층에 도달할 때까지 반복됩니다.</p><p>예를 들어, HTTP 요청 메시지(응용 계층 PDU)가 전송 계층으로 전달되면, 이것은 전송 계층 SDU가 됩니다. TCP는 이 SDU를 여러 세그먼트로 분할할 수 있으며, 각 세그먼트에 TCP 헤더를 추가하여 TCP 세그먼트(전송 계층 PDU)를 생성합니다. TCP 헤더에는 출발지 포트 번호, 목적지 포트 번호, 시퀀스 번호, 확인 응답 번호, 윈도우 크기, 체크섬, 플래그(SYN, ACK, FIN 등)가 포함됩니다.</p><p>**MTU(Maximum Transmission Unit)**는 특정 계층에서 전송할 수 있는 최대 PDU 크기입니다. 만약 (N+1) 계층의 PDU가 (N) 계층의 MTU보다 크면, (N) 계층은 SDU를 여러 PDU로 분할(fragmentation)해야 합니다. 예를 들어, Ethernet의 MTU는 일반적으로 1500바이트이므로, 더 큰 IP 패킷은 여러 Ethernet 프레임으로 분할됩니다.</p><p><strong>헤더 구조</strong>는 각 계층의 프로토콜에 따라 다릅니다. TCP 헤더는 최소 20바이트이며, 옵션 필드를 포함하면 최대 60바이트까지 확장될 수 있습니다. IP 헤더는 최소 20바이트이며, IPv6 헤더는 40바이트입니다. Ethernet 프레임 헤더는 14바이트이며, 트레일러(FCS)는 4바이트입니다. 이러한 오버헤드는 페이로드 대비 상당한 비율을 차지할 수 있으며, 특히 작은 메시지를 전송할 때 두드러집니다.</p><p><strong>Decapsulation 프로세스</strong>는 encapsulation의 역과정입니다. 수신자 측에서 물리 계층은 비트 스트림을 프레임으로 변환하고, 각 상위 계층은 자신의 프로토콜 헤더를 검사하고 제거한 후, 페이로드를 다음 상위 계층으로 전달합니다. 각 계층은 헤더의 정보를 사용하여 다음 작업을 결정합니다. 예를 들어, IP 계층은 IP 헤더의 &ldquo;Protocol&rdquo; 필드(TCP=6, UDP=17, ICMP=1)를 확인하여 패킷을 어느 전송 계층 프로토콜로 전달할지 결정합니다.</p><p><strong>Encapsulation의 보안 측면</strong>도 중요합니다. TLS/SSL은 표현 계층에서 데이터를 암호화하므로, 하위 계층(전송, 네트워크, 데이터 링크)에서는 암호화된 페이로드만 볼 수 있습니다. 그러나 헤더 정보(IP 주소, 포트 번호)는 여전히 평문으로 전송되므로, VPN(Virtual Private Network)과 같은 추가 암호화 계층이 필요할 수 있습니다.</p><p>**GRE(Generic Routing Encapsulation)**와 같은 터널링 프로토콜은 전체 패킷을 다른 패킷의 페이로드로 encapsulate하여, 네트워크 경계를 넘어 전송할 수 있게 합니다. 이는 VPN, IPv6 over IPv4 터널, MPLS(Multiprotocol Label Switching) 등에서 사용됩니다.</p><h4 id=supporting-artifacts-17>Supporting Artifacts<a hidden class=anchor aria-hidden=true href=#supporting-artifacts-17>#</a></h4><p><strong>표 S3.1-1: 계층별 헤더 크기와 주요 필드</strong></p><table><thead><tr><th style=text-align:left>계층</th><th style=text-align:left>PDU 이름</th><th style=text-align:left>헤더 크기</th><th style=text-align:left>주요 필드</th><th style=text-align:left>트레일러</th></tr></thead><tbody><tr><td style=text-align:left>7 (Application)</td><td style=text-align:left>Data</td><td style=text-align:left>가변</td><td style=text-align:left>HTTP 메서드, URL, Headers</td><td style=text-align:left>없음</td></tr><tr><td style=text-align:left>4 (Transport)</td><td style=text-align:left>Segment (TCP)</td><td style=text-align:left>20-60 bytes</td><td style=text-align:left>SrcPort, DstPort, Seq#, Ack#, Flags, Window, Checksum</td><td style=text-align:left>없음</td></tr><tr><td style=text-align:left>4 (Transport)</td><td style=text-align:left>Datagram (UDP)</td><td style=text-align:left>8 bytes</td><td style=text-align:left>SrcPort, DstPort, Length, Checksum</td><td style=text-align:left>없음</td></tr><tr><td style=text-align:left>3 (Network)</td><td style=text-align:left>Packet (IPv4)</td><td style=text-align:left>20-60 bytes</td><td style=text-align:left>Src IP, Dst IP, TTL, Protocol, Header Checksum</td><td style=text-align:left>없음</td></tr><tr><td style=text-align:left>3 (Network)</td><td style=text-align:left>Packet (IPv6)</td><td style=text-align:left>40 bytes</td><td style=text-align:left>Src IP, Dst IP, Traffic Class, Flow Label, Hop Limit</td><td style=text-align:left>없음</td></tr><tr><td style=text-align:left>2 (Data Link)</td><td style=text-align:left>Frame (Ethernet)</td><td style=text-align:left>14 bytes</td><td style=text-align:left>Dst MAC, Src MAC, EtherType</td><td style=text-align:left>FCS (4 bytes)</td></tr><tr><td style=text-align:left>1 (Physical)</td><td style=text-align:left>Bits</td><td style=text-align:left>N/A</td><td style=text-align:left>Preamble, SFD (물리 신호)</td><td style=text-align:left>N/A</td></tr></tbody></table><p><strong>다이어그램 S3.1-1: Encapsulation 과정의 상세 구조</strong></p><pre class=mermaid>graph TD
    subgraph &#34;Encapsulation (계층 7→1)&#34;
        L7_Data[&#34;L7 Data&lt;br/&gt;HTTP Request: GET /index.html&#34;]
        L4_Segment[&#34;L4 TCP Segment&lt;br/&gt;&lt;b&gt;TCP Header&lt;/b&gt; (20 bytes)&lt;br/&gt;+HTTP Request&#34;]
        L3_Packet[&#34;L3 IP Packet&lt;br/&gt;&lt;b&gt;IP Header&lt;/b&gt; (20 bytes)&lt;br/&gt;+TCP Segment&#34;]
        L2_Frame[&#34;L2 Ethernet Frame&lt;br/&gt;&lt;b&gt;Ethernet Header&lt;/b&gt; (14 bytes)&lt;br/&gt;+IP Packet&lt;br/&gt;+&lt;b&gt;FCS&lt;/b&gt; (4 bytes)&#34;]
        L1_Bits[&#34;L1 Bits&lt;br/&gt;010101010101...&#34;]
    end
    
    L7_Data --&gt;|TCP encapsulates| L4_Segment
    L4_Segment --&gt;|IP encapsulates| L3_Packet
    L3_Packet --&gt;|Ethernet encapsulates| L2_Frame
    L2_Frame --&gt;|Converted to bits| L1_Bits
    
    subgraph &#34;헤더 정보&#34;
        TCP_H[&#34;&lt;b&gt;TCP Header&lt;/b&gt;&lt;br/&gt;SrcPort: 50234&lt;br/&gt;DstPort: 80&lt;br/&gt;Seq: 1000&lt;br/&gt;Ack: 0&lt;br/&gt;Flags: SYN&#34;]
        IP_H[&#34;&lt;b&gt;IP Header&lt;/b&gt;&lt;br/&gt;Src IP: 192.168.1.100&lt;br/&gt;Dst IP: 203.0.113.50&lt;br/&gt;Protocol: TCP (6)&lt;br/&gt;TTL: 64&#34;]
        ETH_H[&#34;&lt;b&gt;Ethernet Header&lt;/b&gt;&lt;br/&gt;Dst MAC: AA:BB:CC:DD:EE:FF&lt;br/&gt;Src MAC: 00:11:22:33:44:55&lt;br/&gt;EtherType: IPv4 (0x0800)&#34;]
    end
    
    L4_Segment -.-&gt;|포함| TCP_H
    L3_Packet -.-&gt;|포함| IP_H
    L2_Frame -.-&gt;|포함| ETH_H
</pre><p><strong>코드 예제 S3.1-1: PDU 생성 시뮬레이션</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1> 1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2> 2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3> 3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4> 4</a>
</span><span class=lnt id=hl-18-5><a class=lnlinks href=#hl-18-5> 5</a>
</span><span class=lnt id=hl-18-6><a class=lnlinks href=#hl-18-6> 6</a>
</span><span class=lnt id=hl-18-7><a class=lnlinks href=#hl-18-7> 7</a>
</span><span class=lnt id=hl-18-8><a class=lnlinks href=#hl-18-8> 8</a>
</span><span class=lnt id=hl-18-9><a class=lnlinks href=#hl-18-9> 9</a>
</span><span class=lnt id=hl-18-10><a class=lnlinks href=#hl-18-10>10</a>
</span><span class=lnt id=hl-18-11><a class=lnlinks href=#hl-18-11>11</a>
</span><span class=lnt id=hl-18-12><a class=lnlinks href=#hl-18-12>12</a>
</span><span class=lnt id=hl-18-13><a class=lnlinks href=#hl-18-13>13</a>
</span><span class=lnt id=hl-18-14><a class=lnlinks href=#hl-18-14>14</a>
</span><span class=lnt id=hl-18-15><a class=lnlinks href=#hl-18-15>15</a>
</span><span class=lnt id=hl-18-16><a class=lnlinks href=#hl-18-16>16</a>
</span><span class=lnt id=hl-18-17><a class=lnlinks href=#hl-18-17>17</a>
</span><span class=lnt id=hl-18-18><a class=lnlinks href=#hl-18-18>18</a>
</span><span class=lnt id=hl-18-19><a class=lnlinks href=#hl-18-19>19</a>
</span><span class=lnt id=hl-18-20><a class=lnlinks href=#hl-18-20>20</a>
</span><span class=lnt id=hl-18-21><a class=lnlinks href=#hl-18-21>21</a>
</span><span class=lnt id=hl-18-22><a class=lnlinks href=#hl-18-22>22</a>
</span><span class=lnt id=hl-18-23><a class=lnlinks href=#hl-18-23>23</a>
</span><span class=lnt id=hl-18-24><a class=lnlinks href=#hl-18-24>24</a>
</span><span class=lnt id=hl-18-25><a class=lnlinks href=#hl-18-25>25</a>
</span><span class=lnt id=hl-18-26><a class=lnlinks href=#hl-18-26>26</a>
</span><span class=lnt id=hl-18-27><a class=lnlinks href=#hl-18-27>27</a>
</span><span class=lnt id=hl-18-28><a class=lnlinks href=#hl-18-28>28</a>
</span><span class=lnt id=hl-18-29><a class=lnlinks href=#hl-18-29>29</a>
</span><span class=lnt id=hl-18-30><a class=lnlinks href=#hl-18-30>30</a>
</span><span class=lnt id=hl-18-31><a class=lnlinks href=#hl-18-31>31</a>
</span><span class=lnt id=hl-18-32><a class=lnlinks href=#hl-18-32>32</a>
</span><span class=lnt id=hl-18-33><a class=lnlinks href=#hl-18-33>33</a>
</span><span class=lnt id=hl-18-34><a class=lnlinks href=#hl-18-34>34</a>
</span><span class=lnt id=hl-18-35><a class=lnlinks href=#hl-18-35>35</a>
</span><span class=lnt id=hl-18-36><a class=lnlinks href=#hl-18-36>36</a>
</span><span class=lnt id=hl-18-37><a class=lnlinks href=#hl-18-37>37</a>
</span><span class=lnt id=hl-18-38><a class=lnlinks href=#hl-18-38>38</a>
</span><span class=lnt id=hl-18-39><a class=lnlinks href=#hl-18-39>39</a>
</span><span class=lnt id=hl-18-40><a class=lnlinks href=#hl-18-40>40</a>
</span><span class=lnt id=hl-18-41><a class=lnlinks href=#hl-18-41>41</a>
</span><span class=lnt id=hl-18-42><a class=lnlinks href=#hl-18-42>42</a>
</span><span class=lnt id=hl-18-43><a class=lnlinks href=#hl-18-43>43</a>
</span><span class=lnt id=hl-18-44><a class=lnlinks href=#hl-18-44>44</a>
</span><span class=lnt id=hl-18-45><a class=lnlinks href=#hl-18-45>45</a>
</span><span class=lnt id=hl-18-46><a class=lnlinks href=#hl-18-46>46</a>
</span><span class=lnt id=hl-18-47><a class=lnlinks href=#hl-18-47>47</a>
</span><span class=lnt id=hl-18-48><a class=lnlinks href=#hl-18-48>48</a>
</span><span class=lnt id=hl-18-49><a class=lnlinks href=#hl-18-49>49</a>
</span><span class=lnt id=hl-18-50><a class=lnlinks href=#hl-18-50>50</a>
</span><span class=lnt id=hl-18-51><a class=lnlinks href=#hl-18-51>51</a>
</span><span class=lnt id=hl-18-52><a class=lnlinks href=#hl-18-52>52</a>
</span><span class=lnt id=hl-18-53><a class=lnlinks href=#hl-18-53>53</a>
</span><span class=lnt id=hl-18-54><a class=lnlinks href=#hl-18-54>54</a>
</span><span class=lnt id=hl-18-55><a class=lnlinks href=#hl-18-55>55</a>
</span><span class=lnt id=hl-18-56><a class=lnlinks href=#hl-18-56>56</a>
</span><span class=lnt id=hl-18-57><a class=lnlinks href=#hl-18-57>57</a>
</span><span class=lnt id=hl-18-58><a class=lnlinks href=#hl-18-58>58</a>
</span><span class=lnt id=hl-18-59><a class=lnlinks href=#hl-18-59>59</a>
</span><span class=lnt id=hl-18-60><a class=lnlinks href=#hl-18-60>60</a>
</span><span class=lnt id=hl-18-61><a class=lnlinks href=#hl-18-61>61</a>
</span><span class=lnt id=hl-18-62><a class=lnlinks href=#hl-18-62>62</a>
</span><span class=lnt id=hl-18-63><a class=lnlinks href=#hl-18-63>63</a>
</span><span class=lnt id=hl-18-64><a class=lnlinks href=#hl-18-64>64</a>
</span><span class=lnt id=hl-18-65><a class=lnlinks href=#hl-18-65>65</a>
</span><span class=lnt id=hl-18-66><a class=lnlinks href=#hl-18-66>66</a>
</span><span class=lnt id=hl-18-67><a class=lnlinks href=#hl-18-67>67</a>
</span><span class=lnt id=hl-18-68><a class=lnlinks href=#hl-18-68>68</a>
</span><span class=lnt id=hl-18-69><a class=lnlinks href=#hl-18-69>69</a>
</span><span class=lnt id=hl-18-70><a class=lnlinks href=#hl-18-70>70</a>
</span><span class=lnt id=hl-18-71><a class=lnlinks href=#hl-18-71>71</a>
</span><span class=lnt id=hl-18-72><a class=lnlinks href=#hl-18-72>72</a>
</span><span class=lnt id=hl-18-73><a class=lnlinks href=#hl-18-73>73</a>
</span><span class=lnt id=hl-18-74><a class=lnlinks href=#hl-18-74>74</a>
</span><span class=lnt id=hl-18-75><a class=lnlinks href=#hl-18-75>75</a>
</span><span class=lnt id=hl-18-76><a class=lnlinks href=#hl-18-76>76</a>
</span><span class=lnt id=hl-18-77><a class=lnlinks href=#hl-18-77>77</a>
</span><span class=lnt id=hl-18-78><a class=lnlinks href=#hl-18-78>78</a>
</span><span class=lnt id=hl-18-79><a class=lnlinks href=#hl-18-79>79</a>
</span><span class=lnt id=hl-18-80><a class=lnlinks href=#hl-18-80>80</a>
</span><span class=lnt id=hl-18-81><a class=lnlinks href=#hl-18-81>81</a>
</span><span class=lnt id=hl-18-82><a class=lnlinks href=#hl-18-82>82</a>
</span><span class=lnt id=hl-18-83><a class=lnlinks href=#hl-18-83>83</a>
</span><span class=lnt id=hl-18-84><a class=lnlinks href=#hl-18-84>84</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>struct</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PDU</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Protocol Data Unit 클래스&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>header</span><span class=p>,</span> <span class=n>payload</span><span class=p>,</span> <span class=n>trailer</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>header</span> <span class=o>=</span> <span class=n>header</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>payload</span> <span class=o>=</span> <span class=n>payload</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>trailer</span> <span class=o>=</span> <span class=n>trailer</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_size</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;전체 PDU 크기 계산&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>size</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>header</span><span class=p>)</span> <span class=o>+</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>payload</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>trailer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>size</span> <span class=o>+=</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>trailer</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>size</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;PDU(header=</span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>header</span><span class=p>)</span><span class=si>}</span><span class=s2>B, payload=</span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>payload</span><span class=p>)</span><span class=si>}</span><span class=s2>B, total=</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>get_size</span><span class=p>()</span><span class=si>}</span><span class=s2>B)&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Layer 7: Application Data</span>
</span></span><span class=line><span class=cl><span class=n>http_request</span> <span class=o>=</span> <span class=sa>b</span><span class=s2>&#34;GET /index.html HTTP/1.1</span><span class=se>\r\n</span><span class=s2>Host: example.com</span><span class=se>\r\n\r\n</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;L7 Application Data: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>http_request</span><span class=p>)</span><span class=si>}</span><span class=s2> bytes&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Layer 4: TCP Segment</span>
</span></span><span class=line><span class=cl><span class=n>tcp_header</span> <span class=o>=</span> <span class=n>struct</span><span class=o>.</span><span class=n>pack</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;!HHIIBBHHH&#39;</span><span class=p>,</span>  <span class=c1># 네트워크 바이트 순서 (big-endian)</span>
</span></span><span class=line><span class=cl>    <span class=mi>50234</span><span class=p>,</span>         <span class=c1># Source Port</span>
</span></span><span class=line><span class=cl>    <span class=mi>80</span><span class=p>,</span>            <span class=c1># Destination Port</span>
</span></span><span class=line><span class=cl>    <span class=mi>1000</span><span class=p>,</span>          <span class=c1># Sequence Number</span>
</span></span><span class=line><span class=cl>    <span class=mi>0</span><span class=p>,</span>             <span class=c1># Acknowledgment Number</span>
</span></span><span class=line><span class=cl>    <span class=mi>5</span> <span class=o>&lt;&lt;</span> <span class=mi>4</span><span class=p>,</span>        <span class=c1># Data Offset (5 * 4 = 20 bytes header)</span>
</span></span><span class=line><span class=cl>    <span class=mh>0x02</span><span class=p>,</span>          <span class=c1># Flags (SYN=0x02)</span>
</span></span><span class=line><span class=cl>    <span class=mi>65535</span><span class=p>,</span>         <span class=c1># Window Size</span>
</span></span><span class=line><span class=cl>    <span class=mi>0</span><span class=p>,</span>             <span class=c1># Checksum (계산 필요)</span>
</span></span><span class=line><span class=cl>    <span class=mi>0</span>              <span class=c1># Urgent Pointer</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>tcp_segment</span> <span class=o>=</span> <span class=n>PDU</span><span class=p>(</span><span class=n>tcp_header</span><span class=p>,</span> <span class=n>http_request</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;L4 TCP Segment: </span><span class=si>{</span><span class=n>tcp_segment</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Layer 3: IP Packet</span>
</span></span><span class=line><span class=cl><span class=n>ip_header</span> <span class=o>=</span> <span class=n>struct</span><span class=o>.</span><span class=n>pack</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;!BBHHHBBH4s4s&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=mh>0x45</span><span class=p>,</span>          <span class=c1># Version (4) + IHL (5)</span>
</span></span><span class=line><span class=cl>    <span class=mi>0</span><span class=p>,</span>             <span class=c1># Type of Service</span>
</span></span><span class=line><span class=cl>    <span class=n>tcp_segment</span><span class=o>.</span><span class=n>get_size</span><span class=p>()</span> <span class=o>+</span> <span class=mi>20</span><span class=p>,</span>  <span class=c1># Total Length</span>
</span></span><span class=line><span class=cl>    <span class=mi>54321</span><span class=p>,</span>         <span class=c1># Identification</span>
</span></span><span class=line><span class=cl>    <span class=mi>0</span><span class=p>,</span>             <span class=c1># Flags + Fragment Offset</span>
</span></span><span class=line><span class=cl>    <span class=mi>64</span><span class=p>,</span>            <span class=c1># TTL</span>
</span></span><span class=line><span class=cl>    <span class=mi>6</span><span class=p>,</span>             <span class=c1># Protocol (TCP=6)</span>
</span></span><span class=line><span class=cl>    <span class=mi>0</span><span class=p>,</span>             <span class=c1># Header Checksum (계산 필요)</span>
</span></span><span class=line><span class=cl>    <span class=n>struct</span><span class=o>.</span><span class=n>pack</span><span class=p>(</span><span class=s1>&#39;!I&#39;</span><span class=p>,</span> <span class=mh>0xC0A80164</span><span class=p>),</span>  <span class=c1># Src IP: 192.168.1.100</span>
</span></span><span class=line><span class=cl>    <span class=n>struct</span><span class=o>.</span><span class=n>pack</span><span class=p>(</span><span class=s1>&#39;!I&#39;</span><span class=p>,</span> <span class=mh>0xCB007132</span><span class=p>)</span>   <span class=c1># Dst IP: 203.0.113.50</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>ip_packet</span> <span class=o>=</span> <span class=n>PDU</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>ip_header</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=n>tcp_header</span> <span class=o>+</span> <span class=n>http_request</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;L3 IP Packet: </span><span class=si>{</span><span class=n>ip_packet</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Layer 2: Ethernet Frame</span>
</span></span><span class=line><span class=cl><span class=n>ethernet_header</span> <span class=o>=</span> <span class=n>struct</span><span class=o>.</span><span class=n>pack</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;!6s6sH&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nb>bytes</span><span class=o>.</span><span class=n>fromhex</span><span class=p>(</span><span class=s1>&#39;AABBCCDDEEFF&#39;</span><span class=p>),</span>  <span class=c1># Dst MAC</span>
</span></span><span class=line><span class=cl>    <span class=nb>bytes</span><span class=o>.</span><span class=n>fromhex</span><span class=p>(</span><span class=s1>&#39;001122334455&#39;</span><span class=p>),</span>  <span class=c1># Src MAC</span>
</span></span><span class=line><span class=cl>    <span class=mh>0x0800</span>                           <span class=c1># EtherType (IPv4)</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># FCS (Frame Check Sequence) 계산 (CRC-32)</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>zlib</span>
</span></span><span class=line><span class=cl><span class=n>frame_data</span> <span class=o>=</span> <span class=n>ethernet_header</span> <span class=o>+</span> <span class=n>ip_packet</span><span class=o>.</span><span class=n>header</span> <span class=o>+</span> <span class=n>ip_packet</span><span class=o>.</span><span class=n>payload</span>
</span></span><span class=line><span class=cl><span class=n>fcs</span> <span class=o>=</span> <span class=n>struct</span><span class=o>.</span><span class=n>pack</span><span class=p>(</span><span class=s1>&#39;!I&#39;</span><span class=p>,</span> <span class=n>zlib</span><span class=o>.</span><span class=n>crc32</span><span class=p>(</span><span class=n>frame_data</span><span class=p>)</span> <span class=o>&amp;</span> <span class=mh>0xFFFFFFFF</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ethernet_frame</span> <span class=o>=</span> <span class=n>PDU</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>ethernet_header</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>ip_packet</span><span class=o>.</span><span class=n>header</span> <span class=o>+</span> <span class=n>ip_packet</span><span class=o>.</span><span class=n>payload</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>fcs</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;L2 Ethernet Frame: </span><span class=si>{</span><span class=n>ethernet_frame</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 전체 오버헤드 계산</span>
</span></span><span class=line><span class=cl><span class=n>total_overhead</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>ethernet_header</span><span class=p>)</span> <span class=o>+</span> <span class=nb>len</span><span class=p>(</span><span class=n>ip_header</span><span class=p>)</span> <span class=o>+</span> <span class=nb>len</span><span class=p>(</span><span class=n>tcp_header</span><span class=p>)</span> <span class=o>+</span> <span class=nb>len</span><span class=p>(</span><span class=n>fcs</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>payload_size</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>http_request</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>총 오버헤드: </span><span class=si>{</span><span class=n>total_overhead</span><span class=si>}</span><span class=s2> bytes&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;실제 페이로드: </span><span class=si>{</span><span class=n>payload_size</span><span class=si>}</span><span class=s2> bytes&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;오버헤드 비율: </span><span class=si>{</span><span class=n>total_overhead</span> <span class=o>/</span> <span class=p>(</span><span class=n>total_overhead</span> <span class=o>+</span> <span class=n>payload_size</span><span class=p>)</span> <span class=o>*</span> <span class=mi>100</span><span class=si>:</span><span class=s2>.1f</span><span class=si>}</span><span class=s2>%&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=s32-각-계층별-pdu-타입-및-구조>S3.2: 각 계층별 PDU 타입 및 구조<a hidden class=anchor aria-hidden=true href=#s32-각-계층별-pdu-타입-및-구조>#</a></h3><h4 id=overview-22>Overview<a hidden class=anchor aria-hidden=true href=#overview-22>#</a></h4><p>OSI 모델의 각 계층에서 사용되는 PDU의 구체적인 구조, 필드, 그리고 각 필드의 역할을 상세히 분석합니다.</p><h4 id=body-19>Body<a hidden class=anchor aria-hidden=true href=#body-19>#</a></h4><p>각 OSI 계층은 고유한 PDU 타입과 구조를 가지며, 이는 해당 계층의 기능과 책임을 반영합니다. PDU의 구조를 이해하는 것은 네트워크 프로토콜 분석, 문제 해결, 그리고 새로운 프로토콜 설계에 필수적입니다.</p><p><strong>물리 계층(Layer 1) - Bits</strong></p><p>물리 계층의 PDU는 비트 스트림입니다. Ethernet 물리 계층은 Preamble(7바이트의 10101010 패턴)과 SFD(Start Frame Delimiter, 1바이트의 10101011)를 사용하여 프레임의 시작을 알립니다. 이는 수신자의 클록 동기화를 돕고 프레임 경계를 식별하게 합니다. 비트 인코딩 방식으로는 Manchester, 4B/5B, 8B/10B 등이 사용됩니다.</p><p><strong>데이터 링크 계층(Layer 2) - Frame</strong></p><p>Ethernet II 프레임 구조는 다음과 같습니다.</p><ul><li><strong>Preamble + SFD (8 bytes)</strong>: 프레임 시작 표시 (실제로는 Layer 1 기능)</li><li><strong>Destination MAC (6 bytes)</strong>: 목적지 물리 주소</li><li><strong>Source MAC (6 bytes)</strong>: 출발지 물리 주소</li><li><strong>EtherType (2 bytes)</strong>: 상위 계층 프로토콜 식별 (IPv4=0x0800, IPv6=0x86DD, ARP=0x0806)</li><li><strong>Payload (46-1500 bytes)</strong>: 상위 계층 데이터 (최소 46바이트, 최대 1500바이트)</li><li><strong>FCS (4 bytes)</strong>: 프레임 체크 시퀀스 (CRC-32 오류 검출)</li></ul><p>IEEE 802.3 프레임은 EtherType 대신 Length 필드를 사용하며, LLC(Logical Link Control) 헤더를 추가합니다. VLAN 태그(IEEE 802.1Q)를 사용할 경우, EtherType 필드 앞에 4바이트의 VLAN 태그가 삽입됩니다.</p><p><strong>네트워크 계층(Layer 3) - Packet</strong></p><p>IPv4 패킷 헤더 구조 (20-60 bytes):</p><ul><li><strong>Version (4 bits)</strong>: IP 버전 (4)</li><li><strong>IHL (4 bits)</strong>: 헤더 길이 (5-15, 단위는 4바이트)</li><li><strong>Type of Service (8 bits)</strong>: DSCP(6 bits) + ECN(2 bits), QoS 표시</li><li><strong>Total Length (16 bits)</strong>: 전체 패킷 길이 (헤더 + 데이터, 최대 65,535 bytes)</li><li><strong>Identification (16 bits)</strong>: 패킷 식별자 (fragmentation 시 사용)</li><li><strong>Flags (3 bits)</strong>: DF(Don&rsquo;t Fragment), MF(More Fragments)</li><li><strong>Fragment Offset (13 bits)</strong>: fragmentation된 패킷의 위치</li><li><strong>TTL (8 bits)</strong>: Time To Live (라우터 홉 수 제한, 0이 되면 패킷 폐기)</li><li><strong>Protocol (8 bits)</strong>: 상위 계층 프로토콜 (TCP=6, UDP=17, ICMP=1)</li><li><strong>Header Checksum (16 bits)</strong>: 헤더 무결성 검증</li><li><strong>Source IP Address (32 bits)</strong>: 출발지 IP 주소</li><li><strong>Destination IP Address (32 bits)</strong>: 목적지 IP 주소</li><li><strong>Options (가변)</strong>: 선택적 필드 (라우팅, 보안, 타임스탬프 등)</li></ul><p>IPv6 패킷 헤더는 40바이트로 고정되어 있으며, 옵션은 Extension Header로 분리되어 더 효율적입니다.</p><p><strong>전송 계층(Layer 4) - Segment/Datagram</strong></p><p>TCP 세그먼트 헤더 구조 (20-60 bytes):</p><ul><li><strong>Source Port (16 bits)</strong>: 출발지 포트 번호 (0-65535)</li><li><strong>Destination Port (16 bits)</strong>: 목적지 포트 번호</li><li><strong>Sequence Number (32 bits)</strong>: 바이트 스트림의 순서 번호</li><li><strong>Acknowledgment Number (32 bits)</strong>: 다음에 수신할 바이트 번호</li><li><strong>Data Offset (4 bits)</strong>: TCP 헤더 길이 (5-15, 단위는 4바이트)</li><li><strong>Reserved (3 bits)</strong>: 미래 사용을 위해 예약</li><li><strong>Flags (9 bits)</strong>: NS, CWR, ECE, URG, ACK, PSH, RST, SYN, FIN</li><li><strong>Window Size (16 bits)</strong>: 수신 버퍼 크기 (흐름 제어)</li><li><strong>Checksum (16 bits)</strong>: 헤더와 데이터의 무결성 검증</li><li><strong>Urgent Pointer (16 bits)</strong>: 긴급 데이터의 위치 (URG 플래그가 설정된 경우)</li><li><strong>Options (가변)</strong>: MSS(Maximum Segment Size), Window Scale, SACK 등</li></ul><p>UDP 데이터그램 헤더는 8바이트로 매우 간단합니다: Source Port (2), Destination Port (2), Length (2), Checksum (2).</p><p><strong>세션, 표현, 응용 계층(Layer 5-7) - Data</strong></p><p>상위 계층의 PDU는 일반적으로 &ldquo;Data&rdquo; 또는 &ldquo;Message"라고 불립니다. 이들의 구조는 프로토콜에 따라 크게 다릅니다. HTTP 요청 메시지는 텍스트 기반 형식을 사용하며, Request Line, Headers, Body로 구성됩니다. TLS/SSL은 Record Protocol과 Handshake Protocol을 사용하며, 암호화된 데이터를 전송합니다.</p><h4 id=supporting-artifacts-18>Supporting Artifacts<a hidden class=anchor aria-hidden=true href=#supporting-artifacts-18>#</a></h4><p><strong>표 S3.2-1: TCP 플래그 의미</strong></p><table><thead><tr><th style=text-align:left>플래그</th><th style=text-align:center>비트</th><th style=text-align:left>의미</th><th style=text-align:left>사용 시나리오</th></tr></thead><tbody><tr><td style=text-align:left>FIN</td><td style=text-align:center>0</td><td style=text-align:left>연결 종료 요청</td><td style=text-align:left>4-way handshake에서 연결 종료</td></tr><tr><td style=text-align:left>SYN</td><td style=text-align:center>1</td><td style=text-align:left>연결 설정 요청</td><td style=text-align:left>3-way handshake에서 연결 시작</td></tr><tr><td style=text-align:left>RST</td><td style=text-align:center>2</td><td style=text-align:left>연결 강제 재설정</td><td style=text-align:left>오류 또는 거부 시 연결 즉시 종료</td></tr><tr><td style=text-align:left>PSH</td><td style=text-align:center>3</td><td style=text-align:left>즉시 전달</td><td style=text-align:left>버퍼링 없이 데이터 즉시 응용 계층으로 전달</td></tr><tr><td style=text-align:left>ACK</td><td style=text-align:center>4</td><td style=text-align:left>확인 응답</td><td style=text-align:left>수신한 데이터의 확인</td></tr><tr><td style=text-align:left>URG</td><td style=text-align:center>5</td><td style=text-align:left>긴급 데이터</td><td style=text-align:left>Urgent Pointer 필드 유효 표시</td></tr><tr><td style=text-align:left>ECE</td><td style=text-align:center>6</td><td style=text-align:left>ECN Echo</td><td style=text-align:left>혼잡 알림 에코</td></tr><tr><td style=text-align:left>CWR</td><td style=text-align:center>7</td><td style=text-align:left>Congestion Window Reduced</td><td style=text-align:left>혼잡 윈도우 감소 확인</td></tr><tr><td style=text-align:left>NS</td><td style=text-align:center>8</td><td style=text-align:left>Nonce Sum</td><td style=text-align:left>ECN 보호 (RFC 3540)</td></tr></tbody></table><p><strong>다이어그램 S3.2-1: TCP 세그먼트 구조</strong></p><pre class=mermaid>graph TD
    subgraph &#34;TCP Segment Structure&#34;
        SrcPort[&#34;Source Port&lt;br/&gt;16 bits&#34;]
        DstPort[&#34;Destination Port&lt;br/&gt;16 bits&#34;]
        SeqNum[&#34;Sequence Number&lt;br/&gt;32 bits&#34;]
        AckNum[&#34;Acknowledgment Number&lt;br/&gt;32 bits&#34;]
        DataOff[&#34;Data&lt;br/&gt;Offset&lt;br/&gt;4 bits&#34;]
        Reserved[&#34;Reserved&lt;br/&gt;3 bits&#34;]
        Flags[&#34;Flags&lt;br/&gt;9 bits&lt;br/&gt;NS CWR ECE&lt;br/&gt;URG ACK PSH&lt;br/&gt;RST SYN FIN&#34;]
        Window[&#34;Window Size&lt;br/&gt;16 bits&#34;]
        Checksum[&#34;Checksum&lt;br/&gt;16 bits&#34;]
        UrgPtr[&#34;Urgent Pointer&lt;br/&gt;16 bits&#34;]
        Options[&#34;Options (if any)&lt;br/&gt;0-40 bytes&#34;]
        Data[&#34;Data&lt;br/&gt;Variable length&#34;]
    end
    
    SrcPort --&gt; DstPort
    DstPort --&gt; SeqNum
    SeqNum --&gt; AckNum
    AckNum --&gt; DataOff
    DataOff --&gt; Reserved
    Reserved --&gt; Flags
    Flags --&gt; Window
    Window --&gt; Checksum
    Checksum --&gt; UrgPtr
    UrgPtr --&gt; Options
    Options --&gt; Data
    
    style SrcPort fill:#e1f5ff
    style DstPort fill:#e1f5ff
    style SeqNum fill:#ffe1e1
    style AckNum fill:#ffe1e1
    style Flags fill:#fff9e1
    style Window fill:#e1ffe1
    style Checksum fill:#ffe1ff
</pre><h3 id=s33-tcpip-모델과의-매핑-관계>S3.3: TCP/IP 모델과의 매핑 관계<a hidden class=anchor aria-hidden=true href=#s33-tcpip-모델과의-매핑-관계>#</a></h3><h4 id=overview-23>Overview<a hidden class=anchor aria-hidden=true href=#overview-23>#</a></h4><p>OSI 7계층 모델과 TCP/IP 4계층 모델(또는 5계층 모델) 간의 정확한 매핑 관계, 차이점, 그리고 실무에서 어떻게 사용되는지 상세히 분석합니다.</p><h4 id=body-20>Body<a hidden class=anchor aria-hidden=true href=#body-20>#</a></h4><p>TCP/IP 모델과 OSI 모델은 모두 네트워크 통신을 계층적으로 표현하지만, 설계 철학과 구조에서 중요한 차이가 있습니다. OSI 모델은 1980년대 초반 ISO에 의해 &ldquo;이론적 완전성"을 목표로 설계된 반면, TCP/IP 모델은 1970년대 미국 국방부(DoD)의 ARPANET 프로젝트에서 &ldquo;실용적 구현"을 목표로 개발되었습니다.</p><p><strong>TCP/IP 4계층 모델 구조</strong></p><ol><li><p><strong>Network Access Layer (네트워크 접근 계층)</strong>: OSI의 물리 계층(1)과 데이터 링크 계층(2)을 결합합니다. Ethernet, Wi-Fi, PPP 등의 프로토콜이 이 계층에서 동작합니다.</p></li><li><p><strong>Internet Layer (인터넷 계층)</strong>: OSI의 네트워크 계층(3)에 해당합니다. IP, ICMP, IGMP, ARP 등이 이 계층에서 동작합니다.</p></li><li><p><strong>Transport Layer (전송 계층)</strong>: OSI의 전송 계층(4)에 해당합니다. TCP와 UDP가 이 계층의 주요 프로토콜입니다.</p></li><li><p><strong>Application Layer (응용 계층)</strong>: OSI의 세션 계층(5), 표현 계층(6), 응용 계층(7)을 결합합니다. HTTP, FTP, SMTP, DNS, SSH 등 모든 응용 프로토콜이 이 계층에서 동작합니다.</p></li></ol><p>일부 문헌에서는 Network Access Layer를 Physical Layer와 Data Link Layer로 분리하여 5계층 모델로 설명하기도 합니다.</p><p><strong>매핑의 비대칭성</strong></p><p>OSI와 TCP/IP의 매핑은 완벽하지 않습니다. 예를 들어, ARP(Address Resolution Protocol)는 OSI 모델에서 데이터 링크 계층(2)과 네트워크 계층(3) 사이에 위치하지만, TCP/IP 모델에서는 일반적으로 Network Access Layer에 배치됩니다. ICMP는 네트워크 계층 프로토콜이지만 IP 패킷 내에 캡슐화되어 전송됩니다.</p><p><strong>설계 철학의 차이</strong></p><p>OSI 모델은 <strong>프로토콜 독립적(protocol-independent)</strong> 참조 모델로 설계되어, 다양한 프로토콜 스택을 설명할 수 있습니다. 반면, TCP/IP 모델은 <strong>특정 프로토콜(TCP, IP)에 기반</strong>하여 설계되었으므로, 다른 프로토콜 스택(예: IPX/SPX, AppleTalk)을 설명하기 어렵습니다.</p><p>OSI 모델은 <strong>서비스, 인터페이스, 프로토콜</strong>을 명확히 구분하여 각 계층의 서비스를 추상적으로 정의합니다. TCP/IP 모델은 이러한 구분이 덜 명확하며, 더 실용적이고 구현 중심적입니다.</p><p><strong>상위 계층의 통합</strong></p><p>TCP/IP 모델이 OSI의 상위 3개 계층(세션, 표현, 응용)을 단일 응용 계층으로 통합한 이유는 실용성 때문입니다. 많은 응용 프로토콜이 세션 관리, 데이터 표현, 응용 기능을 혼합하여 구현하므로, 이들을 분리하는 것이 비현실적입니다. 예를 들어, HTTP는 응용 프로토콜이지만, 쿠키를 통한 세션 관리와 Content-Encoding을 통한 압축(표현 기능)을 자체적으로 처리합니다.</p><p><strong>하위 계층의 통합</strong></p><p>TCP/IP 모델이 물리 계층과 데이터 링크 계층을 Network Access Layer로 통합한 이유는, TCP/IP 프로토콜 스택이 이들 계층의 세부 사항을 추상화하고 &ldquo;어떤 네트워크 기술 위에서도 동작"하도록 설계되었기 때문입니다. IP는 Ethernet, Wi-Fi, PPP, ATM 등 다양한 하위 계층 기술 위에서 동작할 수 있습니다.</p><p><strong>실무에서의 활용</strong></p><p>실무에서는 OSI 7계층 모델이 <strong>네트워크 문제 해결과 교육</strong>에 널리 사용됩니다. 네트워크 엔지니어들은 &ldquo;Layer 3 문제&rdquo; 또는 &ldquo;Layer 2 스위치"와 같은 용어를 사용하여 OSI 모델의 계층을 참조합니다. 반면, <strong>실제 구현은 TCP/IP 모델</strong>을 따릅니다. Linux 네트워크 스택, Windows 네트워크 API, 라우터 및 스위치 펌웨어는 모두 TCP/IP 모델을 기반으로 합니다.</p><h4 id=supporting-artifacts-19>Supporting Artifacts<a hidden class=anchor aria-hidden=true href=#supporting-artifacts-19>#</a></h4><p><strong>표 S3.3-1: OSI vs TCP/IP 계층 매핑</strong></p><table><thead><tr><th style=text-align:center>OSI 7계층</th><th style=text-align:left>OSI 계층 이름</th><th style=text-align:left>TCP/IP 계층</th><th style=text-align:left>주요 프로토콜/기술</th><th style=text-align:left>PDU</th></tr></thead><tbody><tr><td style=text-align:center>7</td><td style=text-align:left>Application</td><td style=text-align:left>Application</td><td style=text-align:left>HTTP, FTP, SMTP, DNS, SSH, Telnet</td><td style=text-align:left>Data/Message</td></tr><tr><td style=text-align:center>6</td><td style=text-align:left>Presentation</td><td style=text-align:left>Application</td><td style=text-align:left>TLS/SSL, MIME, JPEG, MPEG, ASCII</td><td style=text-align:left>Data/Message</td></tr><tr><td style=text-align:center>5</td><td style=text-align:left>Session</td><td style=text-align:left>Application</td><td style=text-align:left>NetBIOS, PPTP, RPC</td><td style=text-align:left>Data/Message</td></tr><tr><td style=text-align:center>4</td><td style=text-align:left>Transport</td><td style=text-align:left>Transport</td><td style=text-align:left>TCP, UDP, SCTP</td><td style=text-align:left>Segment/Datagram</td></tr><tr><td style=text-align:center>3</td><td style=text-align:left>Network</td><td style=text-align:left>Internet</td><td style=text-align:left>IP, ICMP, IGMP, ARP (경계), Routing</td><td style=text-align:left>Packet</td></tr><tr><td style=text-align:center>2</td><td style=text-align:left>Data Link</td><td style=text-align:left>Network Access (Link)</td><td style=text-align:left>Ethernet, Wi-Fi, PPP, ARP (경계)</td><td style=text-align:left>Frame</td></tr><tr><td style=text-align:center>1</td><td style=text-align:left>Physical</td><td style=text-align:left>Network Access (Link)</td><td style=text-align:left>10BASE-T, 100BASE-TX, Wi-Fi PHY</td><td style=text-align:left>Bits</td></tr></tbody></table><p><strong>표 S3.3-2: OSI vs TCP/IP 모델 차이점 요약</strong></p><table><thead><tr><th style=text-align:left>특성</th><th style=text-align:left>OSI 모델</th><th style=text-align:left>TCP/IP 모델</th></tr></thead><tbody><tr><td style=text-align:left>계층 수</td><td style=text-align:left>7개</td><td style=text-align:left>4개 (또는 5개)</td></tr><tr><td style=text-align:left>개발 시기</td><td style=text-align:left>1984년 (ISO)</td><td style=text-align:left>1970년대 (DoD ARPANET)</td></tr><tr><td style=text-align:left>설계 목적</td><td style=text-align:left>이론적 참조 모델</td><td style=text-align:left>실용적 구현 모델</td></tr><tr><td style=text-align:left>프로토콜 의존성</td><td style=text-align:left>프로토콜 독립적</td><td style=text-align:left>TCP/IP 프로토콜에 기반</td></tr><tr><td style=text-align:left>서비스 정의</td><td style=text-align:left>서비스, 인터페이스, 프로토콜 명확히 구분</td><td style=text-align:left>구분이 덜 명확</td></tr><tr><td style=text-align:left>상위 계층</td><td style=text-align:left>세션, 표현, 응용 계층 분리</td><td style=text-align:left>응용 계층으로 통합</td></tr><tr><td style=text-align:left>하위 계층</td><td style=text-align:left>물리, 데이터 링크 계층 분리</td><td style=text-align:left>네트워크 접근 계층으로 통합</td></tr><tr><td style=text-align:left>현재 사용</td><td style=text-align:left>교육, 문제 해결, 표준 참조</td><td style=text-align:left>실제 구현, 인터넷 표준</td></tr><tr><td style=text-align:left>유연성</td><td style=text-align:left>높음 (다양한 프로토콜 설명 가능)</td><td style=text-align:left>낮음 (TCP/IP에 특화)</td></tr><tr><td style=text-align:left>복잡도</td><td style=text-align:left>높음 (7계층 세분화)</td><td style=text-align:left>낮음 (4계층 단순화)</td></tr></tbody></table><p><strong>다이어그램 S3.3-1: OSI와 TCP/IP 모델 비교</strong></p><pre class=mermaid>graph LR
    subgraph &#34;OSI 7계층 모델&#34;
        O7[7. Application]
        O6[6. Presentation]
        O5[5. Session]
        O4[4. Transport]
        O3[3. Network]
        O2[2. Data Link]
        O1[1. Physical]
    end
    
    subgraph &#34;TCP/IP 4계층 모델&#34;
        T4[Application]
        T3[Transport]
        T2[Internet]
        T1[Network Access]
    end
    
    O7 -.-&gt;|HTTP, FTP, DNS| T4
    O6 -.-&gt;|TLS/SSL, MIME| T4
    O5 -.-&gt;|NetBIOS, RPC| T4
    O4 -.-&gt;|TCP, UDP| T3
    O3 -.-&gt;|IP, ICMP, ARP| T2
    O2 -.-&gt;|Ethernet, Wi-Fi| T1
    O1 -.-&gt;|Physical Media| T1
    
    style O7 fill:#e1f5ff
    style O6 fill:#e1f5ff
    style O5 fill:#e1f5ff
    style O4 fill:#fff9e1
    style O3 fill:#ffe1e1
    style O2 fill:#ffe1e1
    style O1 fill:#ffe1e1
    style T4 fill:#e1f5ff
    style T3 fill:#fff9e1
    style T2 fill:#ffe1e1
    style T1 fill:#ffe1e1
</pre><h3 id=s34-isoiec-7498-1-표준-명세>S3.4: ISO/IEC 7498-1 표준 명세<a hidden class=anchor aria-hidden=true href=#s34-isoiec-7498-1-표준-명세>#</a></h3><h4 id=overview-24>Overview<a hidden class=anchor aria-hidden=true href=#overview-24>#</a></h4><p>OSI 모델의 공식 표준인 ISO/IEC 7498-1의 핵심 내용, 구조, 그리고 각 조항의 의미를 상세히 분석합니다.</p><h4 id=body-21>Body<a hidden class=anchor aria-hidden=true href=#body-21>#</a></h4><p>ISO/IEC 7498-1은 &ldquo;Information technology — Open Systems Interconnection — Basic Reference Model: The Basic Model"이라는 제목으로 1994년 제2판이 발표되었으며, ITU-T Recommendation X.200으로도 발행되었습니다. 이 표준은 OSI 참조 모델의 기본 아키텍처를 정의하며, 시스템 상호 연결을 위한 표준 개발의 공통 기반을 제공합니다.</p><p><strong>표준의 구조</strong></p><p>ISO/IEC 7498-1은 9개의 주요 조항(Clause)과 2개의 부록(Annex)으로 구성됩니다.</p><p><strong>Clause 1 (Scope)</strong>: 표준의 범위를 정의합니다. OSI 참조 모델의 목적은 시스템 상호 연결을 위한 표준 개발의 조정을 위한 공통 기반을 제공하고, 기존 표준을 전체 참조 모델 내에서 적절한 위치에 배치하며, 표준 개발 또는 개선이 필요한 영역을 식별하는 것입니다. 이 모델은 구현 명세로 사용되거나 실제 구현의 적합성을 평가하는 기준으로 사용되도록 의도되지 않았습니다.</p><p><strong>Clause 4 (Reasons for OSI)</strong>: OSI가 필요한 이유를 설명합니다. 다양한 제조사의 시스템 간 상호운용성을 보장하고, 네트워크 기술의 독립적 발전을 가능하게 하며, 계층화된 접근 방식을 통해 복잡도를 관리하기 위함입니다.</p><p><strong>Clause 5 (General Nature of Layering)</strong>: 계층화의 일반적 특성을 설명합니다. 각 계층은 명확히 정의된 기능을 가지며, 계층 간 인터페이스를 통해 서비스를 제공합니다. 계층화의 원칙은 다음과 같습니다.</p><ul><li>명확한 추상화 수준이 필요한 곳에만 계층을 생성합니다.</li><li>각 계층의 기능은 국제 표준 프로토콜에 따라 선택되어야 합니다.</li><li>계층의 수는 별도의 기능이 동일 계층에 배치되지 않을 만큼 충분히 많아야 하지만, 아키텍처가 지나치게 복잡하지 않을 만큼 충분히 적어야 합니다.</li><li>한 계층의 변경이 다른 계층의 변경을 요구하지 않아야 합니다.</li></ul><p><strong>Clause 6 (Layer Names)</strong>: 7개 계층의 이름을 정의합니다. Physical, Data Link, Network, Transport, Session, Presentation, Application 순으로 번호가 매겨집니다.</p><p><strong>Clause 7 (Layer Descriptions)</strong>: 각 계층의 상세한 설명을 제공합니다. 각 계층에 대해 목적(purpose), 기능(functions), 서비스(services)가 명시됩니다. 예를 들어, 네트워크 계층의 주요 기능으로는 라우팅, 주소 지정, 혼잡 제어, 패킷 생존 시간 관리 등이 있습니다.</p><p><strong>Clause 8 (Management Aspects)</strong>: OSI 관리 측면을 설명합니다. 네트워크 관리는 구성 관리, 장애 관리, 성능 관리, 보안 관리, 회계 관리(FCAPS)로 구성됩니다.</p><p><strong>Clause 9 (Conformance)</strong>: OSI 참조 모델과의 적합성을 명시하는 방법을 정의합니다.</p><p><strong>Annex A (Explanation of Layer Selection)</strong>: 계층이 어떻게 선택되었는지에 대한 간략한 설명을 제공합니다. 각 계층의 경계는 다음 기준에 따라 결정되었습니다.</p><ul><li>다른 추상화 수준을 요구하는 곳</li><li>서로 다른 데이터 조작을 수행하는 곳</li><li>경험상 성공적인 구현이 존재하는 곳</li><li>국제 표준화가 용이한 곳</li></ul><p><strong>연결 모드와 비연결 모드</strong></p><p>ISO/IEC 7498-1은 연결 지향(Connection-Oriented) 서비스와 비연결(Connectionless) 서비스를 모두 지원합니다. 1994년 제2판에서는 비연결 시스템 개념이 통합되었습니다. 연결 지향 서비스는 데이터 전송 전에 연결을 설정하고, 전송 후 연결을 해제하는 3단계(connection establishment, data transfer, connection release)를 거칩니다. 비연결 서비스는 연결 설정 없이 즉시 데이터를 전송합니다.</p><p><strong>관련 표준</strong></p><p>ISO/IEC 7498 시리즈는 여러 부분으로 구성됩니다.</p><ul><li>Part 1: Basic Reference Model (ISO/IEC 7498-1)</li><li>Part 2: Security Architecture (ISO/IEC 7498-2)</li><li>Part 3: Naming and Addressing (ISO/IEC 7498-3)</li><li>Part 4: Management Framework (ISO/IEC 7498-4)</li></ul><h4 id=supporting-artifacts-20>Supporting Artifacts<a hidden class=anchor aria-hidden=true href=#supporting-artifacts-20>#</a></h4><p><strong>표 S3.4-1: ISO/IEC 7498-1 표준 구조</strong></p><table><thead><tr><th style=text-align:center>조항</th><th style=text-align:left>제목</th><th style=text-align:left>주요 내용</th></tr></thead><tbody><tr><td style=text-align:center>Clause 1</td><td style=text-align:left>Scope</td><td style=text-align:left>표준의 범위, 목적, 구현 명세가 아님을 명시</td></tr><tr><td style=text-align:center>Clause 4</td><td style=text-align:left>Reasons for OSI</td><td style=text-align:left>OSI의 필요성, 상호운용성, 독립적 발전</td></tr><tr><td style=text-align:center>Clause 5</td><td style=text-align:left>General Nature of Layering</td><td style=text-align:left>계층화 원칙, 추상화, 인터페이스</td></tr><tr><td style=text-align:center>Clause 6</td><td style=text-align:left>Layer Names</td><td style=text-align:left>7개 계층의 이름과 번호 정의</td></tr><tr><td style=text-align:center>Clause 7</td><td style=text-align:left>Layer Descriptions</td><td style=text-align:left>각 계층의 목적, 기능, 서비스 상세 설명</td></tr><tr><td style=text-align:center>Clause 8</td><td style=text-align:left>Management Aspects</td><td style=text-align:left>OSI 관리 프레임워크 (FCAPS)</td></tr><tr><td style=text-align:center>Clause 9</td><td style=text-align:left>Conformance</td><td style=text-align:left>적합성 명시 방법</td></tr><tr><td style=text-align:center>Annex A</td><td style=text-align:left>Explanation of Layer Selection</td><td style=text-align:left>계층 선택의 근거와 기준</td></tr><tr><td style=text-align:center>Annex B</td><td style=text-align:left>Alphabetical Index to Definitions</td><td style=text-align:left>정의된 용어 색인</td></tr></tbody></table><p><strong>표 S3.4-2: ISO/IEC 7498 시리즈</strong></p><table><thead><tr><th style=text-align:center>Part</th><th style=text-align:left>제목</th><th style=text-align:center>발행 연도</th><th style=text-align:left>주요 내용</th></tr></thead><tbody><tr><td style=text-align:center>7498-1</td><td style=text-align:left>Basic Reference Model</td><td style=text-align:center>1994</td><td style=text-align:left>기본 7계층 아키텍처 정의</td></tr><tr><td style=text-align:center>7498-2</td><td style=text-align:left>Security Architecture</td><td style=text-align:center>1989</td><td style=text-align:left>보안 서비스 (인증, 접근 제어, 기밀성, 무결성, 부인 방지)</td></tr><tr><td style=text-align:center>7498-3</td><td style=text-align:left>Naming and Addressing</td><td style=text-align:center>1997</td><td style=text-align:left>명명 및 주소 지정 체계, NSAP 주소 구조</td></tr><tr><td style=text-align:center>7498-4</td><td style=text-align:left>Management Framework</td><td style=text-align:center>1989</td><td style=text-align:left>네트워크 관리 프레임워크, FCAPS 모델</td></tr></tbody></table><h3 id=s35-계층-독립성-원칙과-서비스-경계>S3.5: 계층 독립성 원칙과 서비스 경계<a hidden class=anchor aria-hidden=true href=#s35-계층-독립성-원칙과-서비스-경계>#</a></h3><h4 id=overview-25>Overview<a hidden class=anchor aria-hidden=true href=#overview-25>#</a></h4><p>OSI 모델의 핵심 설계 원칙인 계층 독립성과 각 계층 간 서비스 경계가 어떻게 정의되고, 실무에서 어떻게 적용되는지 심층 분석합니다.</p><h4 id=body-22>Body<a hidden class=anchor aria-hidden=true href=#body-22>#</a></h4><p>계층 독립성(layer independence)은 OSI 모델의 가장 중요한 설계 원칙 중 하나로, 각 계층이 다른 계층의 내부 구현을 알 필요 없이 독립적으로 작동하고 발전할 수 있도록 합니다. 이 원칙은 **정보 은닉(information hiding)**과 <strong>추상화(abstraction)</strong> 개념을 기반으로 합니다.</p><p>**서비스 경계(Service Boundary)**는 인접한 두 계층 사이의 인터페이스를 정의합니다. (N) 계층은 (N+1) 계층에 서비스를 제공하고, (N-1) 계층의 서비스를 사용합니다. 이 경계는 다음 요소들로 구성됩니다.</p><p><strong>Service Access Point (SAP)</strong>: SAP는 상위 계층이 하위 계층의 서비스에 접근하는 지점입니다. SAP는 주소로 식별되며, 여러 SAP가 동일 계층에 존재할 수 있습니다. 예를 들어, 전송 계층의 SAP는 포트 번호로 식별됩니다. 포트 80은 HTTP 서비스의 SAP, 포트 443은 HTTPS 서비스의 SAP입니다. 네트워크 계층의 SAP는 프로토콜 번호로 식별됩니다(TCP=6, UDP=17).</p><p><strong>Service Primitives</strong>: Service Primitives는 계층 간 상호작용을 나타내는 추상적 연산입니다. 4가지 기본 타입이 있습니다.</p><ul><li><strong>Request</strong>: 상위 계층이 하위 계층에 서비스를 요청</li><li><strong>Indication</strong>: 하위 계층이 상위 계층에 이벤트 발생을 알림</li><li><strong>Response</strong>: 상위 계층이 indication에 대한 응답을 하위 계층에 전달</li><li><strong>Confirm</strong>: 하위 계층이 request의 결과를 상위 계층에 전달</li></ul><p>예를 들어, TCP 연결 설정 과정을 Service Primitives로 표현하면 다음과 같습니다.</p><ol><li>클라이언트 응용: CONNECT.request(server_address, server_port)</li><li>클라이언트 TCP: SYN 세그먼트 전송</li><li>서버 TCP: CONNECT.indication(client_address, client_port)</li><li>서버 응용: CONNECT.response(accept)</li><li>서버 TCP: SYN-ACK 세그먼트 전송</li><li>클라이언트 TCP: CONNECT.confirm(success)</li></ol><p><strong>계층 독립성의 이점</strong></p><ol><li><strong>모듈성(Modularity)</strong>: 각 계층을 독립적으로 개발, 테스트, 유지보수할 수 있습니다.</li><li><strong>기술 진화(Technology Evolution)</strong>: 한 계층의 기술이 발전해도 다른 계층에 영향을 주지 않습니다. 예: Ethernet이 10Mbps에서 100Gbps로 발전해도 상위 계층(IP, TCP, HTTP)은 변경 불필요.</li><li><strong>상호운용성(Interoperability)</strong>: 서로 다른 제조사의 구현이 표준 인터페이스를 준수하면 함께 작동합니다.</li><li><strong>재사용성(Reusability)</strong>: 한 계층의 프로토콜을 여러 상위 계층 응용에서 재사용할 수 있습니다. 예: TCP는 HTTP, FTP, SMTP 등 다양한 응용 프로토콜에서 사용.</li></ol><p><strong>계층 독립성의 한계</strong></p><p>실제 구현에서는 계층 간 완전한 독립성을 달성하기 어렵습니다. 성능 최적화를 위해 계층 간 정보를 공유하거나(cross-layer optimization), 특정 계층의 기능을 다른 계층에서 고려해야 하는 경우가 있습니다.</p><p><strong>Cross-Layer Optimization</strong>: 무선 네트워크에서는 물리 계층의 신호 강도 정보를 전송 계층의 혼잡 제어 알고리즘에 전달하여 성능을 향상시킬 수 있습니다. 그러나 이는 계층 독립성을 위반하므로, 표준 인터페이스를 통해 신중하게 설계되어야 합니다.</p><p><strong>Header Overhead</strong>: 각 계층이 헤더를 추가하므로, 실제 페이로드 대비 오버헤드가 상당할 수 있습니다. 작은 메시지(예: IoT 센서 데이터)의 경우, 헤더가 페이로드보다 클 수 있습니다. 이를 완화하기 위해 헤더 압축(header compression)이나 계층 통합이 고려됩니다.</p><p><strong>End-to-End Principle</strong>: 네트워크 설계의 중요한 원칙으로, 특정 기능은 종단 시스템(end systems)에서만 완전히 구현될 수 있으며, 중간 네트워크 계층에서는 최선 노력(best-effort)만 제공해야 한다는 원칙입니다. 예를 들어, 데이터 무결성 검증은 전송 계층(TCP)이나 응용 계층에서 수행되어야 하며, 중간 라우터에서 검증하는 것은 비효율적입니다.</p><h4 id=supporting-artifacts-21>Supporting Artifacts<a hidden class=anchor aria-hidden=true href=#supporting-artifacts-21>#</a></h4><p><strong>표 S3.5-1: Service Primitives 사용 예제</strong></p><table><thead><tr><th style=text-align:left>시나리오</th><th style=text-align:left>Service Primitive</th><th style=text-align:left>방향</th><th style=text-align:left>설명</th></tr></thead><tbody><tr><td style=text-align:left>TCP 연결 설정</td><td style=text-align:left>CONNECT.request</td><td style=text-align:left>(N+1) → (N)</td><td style=text-align:left>응용이 TCP에 연결 요청</td></tr><tr><td style=text-align:left>TCP 연결 설정</td><td style=text-align:left>CONNECT.indication</td><td style=text-align:left>(N) → (N+1)</td><td style=text-align:left>TCP가 응용에 연결 요청 알림</td></tr><tr><td style=text-align:left>TCP 연결 설정</td><td style=text-align:left>CONNECT.response</td><td style=text-align:left>(N+1) → (N)</td><td style=text-align:left>응용이 TCP에 수락/거부 응답</td></tr><tr><td style=text-align:left>TCP 연결 설정</td><td style=text-align:left>CONNECT.confirm</td><td style=text-align:left>(N) → (N+1)</td><td style=text-align:left>TCP가 응용에 연결 성공/실패 확인</td></tr><tr><td style=text-align:left>데이터 전송</td><td style=text-align:left>SEND.request</td><td style=text-align:left>(N+1) → (N)</td><td style=text-align:left>응용이 TCP에 데이터 전송 요청</td></tr><tr><td style=text-align:left>데이터 수신</td><td style=text-align:left>RECEIVE.indication</td><td style=text-align:left>(N) → (N+1)</td><td style=text-align:left>TCP가 응용에 데이터 도착 알림</td></tr><tr><td style=text-align:left>연결 종료</td><td style=text-align:left>DISCONNECT.request</td><td style=text-align:left>(N+1) → (N)</td><td style=text-align:left>응용이 TCP에 연결 종료 요청</td></tr><tr><td style=text-align:left>연결 종료</td><td style=text-align:left>DISCONNECT.indication</td><td style=text-align:left>(N) → (N+1)</td><td style=text-align:left>TCP가 응용에 연결 종료 알림</td></tr></tbody></table><p><strong>다이어그램 S3.5-1: 계층 독립성과 서비스 경계</strong></p><pre class=mermaid>graph TB
    subgraph &#34;계층 N+1 (상위 계층)&#34;
        UP[Protocol Entity&lt;br/&gt;N+1]
    end
    
    subgraph &#34;서비스 경계 (Service Boundary)&#34;
        SAP1[SAP: Service&lt;br/&gt;Access Point]
        SP[Service Primitives&lt;br/&gt;Request, Indication&lt;br/&gt;Response, Confirm]
    end
    
    subgraph &#34;계층 N (현재 계층)&#34;
        N[Protocol Entity&lt;br/&gt;N]
        PCI[PCI: Protocol&lt;br/&gt;Control Info&lt;br/&gt;헤더 추가]
    end
    
    subgraph &#34;서비스 경계 (Service Boundary)&#34;
        SAP2[SAP]
        SP2[Service Primitives]
    end
    
    subgraph &#34;계층 N-1 (하위 계층)&#34;
        DOWN[Protocol Entity&lt;br/&gt;N-1]
    end
    
    UP --&gt;|Service Request| SAP1
    SAP1 --&gt;|Service Primitive| SP
    SP --&gt;|Invoke Service| N
    N --&gt;|Add Header| PCI
    PCI --&gt;|Use Lower Service| SAP2
    SAP2 --&gt;|Service Primitive| SP2
    SP2 --&gt;|Pass PDU| DOWN
    
    style UP fill:#e1f5ff
    style SAP1 fill:#fff9e1
    style SP fill:#fff9e1
    style N fill:#ffe1e1
    style PCI fill:#ffe1e1
    style SAP2 fill:#fff9e1
    style SP2 fill:#fff9e1
    style DOWN fill:#ffcccc
</pre><hr><h2 id=sw-workshop-hands-on---osi-모델-실습>SW: Workshop (Hands-on) - OSI 모델 실습<a hidden class=anchor aria-hidden=true href=#sw-workshop-hands-on---osi-모델-실습>#</a></h2><h3 id=overview-26>Overview<a hidden class=anchor aria-hidden=true href=#overview-26>#</a></h3><p>SW 섹션은 OSI 모델의 이론을 실제로 적용하고 검증하는 3가지 실습을 제공합니다. 네트워크 트러블슈팅, 패킷 분석, 그리고 간단한 프로토콜 스택 구현을 통해 학습한 내용을 체득합니다.</p><h3 id=sw1-osi-모델을-활용한-네트워크-트러블슈팅>SW.1: OSI 모델을 활용한 네트워크 트러블슈팅<a hidden class=anchor aria-hidden=true href=#sw1-osi-모델을-활용한-네트워크-트러블슈팅>#</a></h3><h4 id=goal>Goal<a hidden class=anchor aria-hidden=true href=#goal>#</a></h4><p>OSI 7계층 모델의 Bottom-up 접근 방식을 사용하여 실제 네트워크 문제를 체계적으로 진단하고 해결하는 능력을 습득합니다.</p><h4 id=input>Input<a hidden class=anchor aria-hidden=true href=#input>#</a></h4><ul><li>네트워크 연결이 가능한 컴퓨터 (Windows, Linux, macOS)</li><li>기본 네트워크 명령어에 대한 이해 (ping, traceroute, ipconfig/ifconfig)</li><li>문제 시나리오: &ldquo;웹사이트(<a href=https://www.example.com>www.example.com</a>)에 접속할 수 없습니다.&rdquo;</li></ul><h4 id=expected>Expected<a hidden class=anchor aria-hidden=true href=#expected>#</a></h4><ul><li>계층별 체크리스트를 작성하고 실행</li><li>문제가 발생한 OSI 계층을 정확히 식별</li><li>해당 계층의 문제를 해결하는 방법 제시</li><li>문제 해결 과정을 문서화</li></ul><h4 id=evaluation>Evaluation<a hidden class=anchor aria-hidden=true href=#evaluation>#</a></h4><ul><li>계층별 체크리스트가 OSI 모델의 Layer 1부터 Layer 7까지 순서대로 작성되었는가?</li><li>각 계층에서 사용한 진단 도구와 명령어가 적절한가?</li><li>문제가 발생한 계층을 정확히 식별했는가?</li><li>제시한 해결 방법이 해당 계층의 문제를 실제로 해결할 수 있는가?</li></ul><h4 id=steps>Steps<a hidden class=anchor aria-hidden=true href=#steps>#</a></h4><p><strong>Step 1: 물리 계층(Layer 1) 체크</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1> 1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2> 2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3> 3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4> 4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5> 5</a>
</span><span class=lnt id=hl-22-6><a class=lnlinks href=#hl-22-6> 6</a>
</span><span class=lnt id=hl-22-7><a class=lnlinks href=#hl-22-7> 7</a>
</span><span class=lnt id=hl-22-8><a class=lnlinks href=#hl-22-8> 8</a>
</span><span class=lnt id=hl-22-9><a class=lnlinks href=#hl-22-9> 9</a>
</span><span class=lnt id=hl-22-10><a class=lnlinks href=#hl-22-10>10</a>
</span><span class=lnt id=hl-22-11><a class=lnlinks href=#hl-22-11>11</a>
</span><span class=lnt id=hl-22-12><a class=lnlinks href=#hl-22-12>12</a>
</span><span class=lnt id=hl-22-13><a class=lnlinks href=#hl-22-13>13</a>
</span><span class=lnt id=hl-22-14><a class=lnlinks href=#hl-22-14>14</a>
</span><span class=lnt id=hl-22-15><a class=lnlinks href=#hl-22-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Windows</span>
</span></span><span class=line><span class=cl><span class=c1># 네트워크 어댑터 상태 확인</span>
</span></span><span class=line><span class=cl>netsh interface show interface
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 네트워크 어댑터 활성화 확인</span>
</span></span><span class=line><span class=cl>Get-NetAdapter <span class=p>|</span> Select-Object Name, Status, LinkSpeed
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Linux/macOS</span>
</span></span><span class=line><span class=cl><span class=c1># 네트워크 인터페이스 상태 확인</span>
</span></span><span class=line><span class=cl>ip link show
</span></span><span class=line><span class=cl><span class=c1># 또는</span>
</span></span><span class=line><span class=cl>ifconfig
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 케이블 연결 상태 확인 (Linux)</span>
</span></span><span class=line><span class=cl>ethtool eth0
</span></span></code></pre></td></tr></table></div></div><p>체크리스트:</p><ul><li><input disabled type=checkbox> 네트워크 케이블이 올바르게 연결되어 있는가?</li><li><input disabled type=checkbox> 네트워크 어댑터가 활성화되어 있는가?</li><li><input disabled type=checkbox> 네트워크 LED가 켜져 있는가?</li><li><input disabled type=checkbox> Link Speed가 정상적으로 표시되는가? (예: 1 Gbps)</li></ul><p><strong>Step 2: 데이터 링크 계층(Layer 2) 체크</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1> 1</a>
</span><span class=lnt id=hl-23-2><a class=lnlinks href=#hl-23-2> 2</a>
</span><span class=lnt id=hl-23-3><a class=lnlinks href=#hl-23-3> 3</a>
</span><span class=lnt id=hl-23-4><a class=lnlinks href=#hl-23-4> 4</a>
</span><span class=lnt id=hl-23-5><a class=lnlinks href=#hl-23-5> 5</a>
</span><span class=lnt id=hl-23-6><a class=lnlinks href=#hl-23-6> 6</a>
</span><span class=lnt id=hl-23-7><a class=lnlinks href=#hl-23-7> 7</a>
</span><span class=lnt id=hl-23-8><a class=lnlinks href=#hl-23-8> 8</a>
</span><span class=lnt id=hl-23-9><a class=lnlinks href=#hl-23-9> 9</a>
</span><span class=lnt id=hl-23-10><a class=lnlinks href=#hl-23-10>10</a>
</span><span class=lnt id=hl-23-11><a class=lnlinks href=#hl-23-11>11</a>
</span><span class=lnt id=hl-23-12><a class=lnlinks href=#hl-23-12>12</a>
</span><span class=lnt id=hl-23-13><a class=lnlinks href=#hl-23-13>13</a>
</span><span class=lnt id=hl-23-14><a class=lnlinks href=#hl-23-14>14</a>
</span><span class=lnt id=hl-23-15><a class=lnlinks href=#hl-23-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Windows</span>
</span></span><span class=line><span class=cl><span class=c1># ARP 테이블 확인</span>
</span></span><span class=line><span class=cl>arp -a
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># MAC 주소 확인</span>
</span></span><span class=line><span class=cl>ipconfig /all
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Linux/macOS</span>
</span></span><span class=line><span class=cl><span class=c1># ARP 테이블 확인</span>
</span></span><span class=line><span class=cl>arp -n
</span></span><span class=line><span class=cl><span class=c1># 또는</span>
</span></span><span class=line><span class=cl>ip neigh show
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># MAC 주소 확인</span>
</span></span><span class=line><span class=cl>ip link show eth0
</span></span></code></pre></td></tr></table></div></div><p>체크리스트:</p><ul><li><input disabled type=checkbox> 로컬 네트워크의 다른 장치(기본 게이트웨이)가 ARP 테이블에 있는가?</li><li><input disabled type=checkbox> MAC 주소가 올바르게 표시되는가?</li><li><input disabled type=checkbox> 동일 네트워크 내 장치에 ping이 되는가?</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1>1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2>2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3>3</a>
</span><span class=lnt id=hl-24-4><a class=lnlinks href=#hl-24-4>4</a>
</span><span class=lnt id=hl-24-5><a class=lnlinks href=#hl-24-5>5</a>
</span><span class=lnt id=hl-24-6><a class=lnlinks href=#hl-24-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 기본 게이트웨이에 ping</span>
</span></span><span class=line><span class=cl><span class=c1># Windows</span>
</span></span><span class=line><span class=cl>ping 192.168.1.1
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Linux/macOS</span>
</span></span><span class=line><span class=cl>ping -c <span class=m>4</span> 192.168.1.1
</span></span></code></pre></td></tr></table></div></div><p><strong>Step 3: 네트워크 계층(Layer 3) 체크</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1> 1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2> 2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3> 3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4> 4</a>
</span><span class=lnt id=hl-25-5><a class=lnlinks href=#hl-25-5> 5</a>
</span><span class=lnt id=hl-25-6><a class=lnlinks href=#hl-25-6> 6</a>
</span><span class=lnt id=hl-25-7><a class=lnlinks href=#hl-25-7> 7</a>
</span><span class=lnt id=hl-25-8><a class=lnlinks href=#hl-25-8> 8</a>
</span><span class=lnt id=hl-25-9><a class=lnlinks href=#hl-25-9> 9</a>
</span><span class=lnt id=hl-25-10><a class=lnlinks href=#hl-25-10>10</a>
</span><span class=lnt id=hl-25-11><a class=lnlinks href=#hl-25-11>11</a>
</span><span class=lnt id=hl-25-12><a class=lnlinks href=#hl-25-12>12</a>
</span><span class=lnt id=hl-25-13><a class=lnlinks href=#hl-25-13>13</a>
</span><span class=lnt id=hl-25-14><a class=lnlinks href=#hl-25-14>14</a>
</span><span class=lnt id=hl-25-15><a class=lnlinks href=#hl-25-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Windows</span>
</span></span><span class=line><span class=cl><span class=c1># IP 설정 확인</span>
</span></span><span class=line><span class=cl>ipconfig
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 라우팅 테이블 확인</span>
</span></span><span class=line><span class=cl>route print
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Linux/macOS</span>
</span></span><span class=line><span class=cl><span class=c1># IP 설정 확인</span>
</span></span><span class=line><span class=cl>ip addr show
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 라우팅 테이블 확인</span>
</span></span><span class=line><span class=cl>ip route show
</span></span><span class=line><span class=cl><span class=c1># 또는</span>
</span></span><span class=line><span class=cl>route -n
</span></span></code></pre></td></tr></table></div></div><p>체크리스트:</p><ul><li><input disabled type=checkbox> IP 주소가 올바르게 할당되어 있는가?</li><li><input disabled type=checkbox> 서브넷 마스크가 올바른가?</li><li><input disabled type=checkbox> 기본 게이트웨이가 설정되어 있는가?</li><li><input disabled type=checkbox> 기본 게이트웨이에 ping이 되는가?</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1>1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2>2</a>
</span><span class=lnt id=hl-26-3><a class=lnlinks href=#hl-26-3>3</a>
</span><span class=lnt id=hl-26-4><a class=lnlinks href=#hl-26-4>4</a>
</span><span class=lnt id=hl-26-5><a class=lnlinks href=#hl-26-5>5</a>
</span><span class=lnt id=hl-26-6><a class=lnlinks href=#hl-26-6>6</a>
</span><span class=lnt id=hl-26-7><a class=lnlinks href=#hl-26-7>7</a>
</span><span class=lnt id=hl-26-8><a class=lnlinks href=#hl-26-8>8</a>
</span><span class=lnt id=hl-26-9><a class=lnlinks href=#hl-26-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 외부 IP에 ping (Google DNS)</span>
</span></span><span class=line><span class=cl>ping 8.8.8.8
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># traceroute로 경로 확인</span>
</span></span><span class=line><span class=cl><span class=c1># Windows</span>
</span></span><span class=line><span class=cl>tracert 8.8.8.8
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Linux/macOS</span>
</span></span><span class=line><span class=cl>traceroute 8.8.8.8
</span></span></code></pre></td></tr></table></div></div><p><strong>Step 4: 전송 계층(Layer 4) 체크</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1> 1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2> 2</a>
</span><span class=lnt id=hl-27-3><a class=lnlinks href=#hl-27-3> 3</a>
</span><span class=lnt id=hl-27-4><a class=lnlinks href=#hl-27-4> 4</a>
</span><span class=lnt id=hl-27-5><a class=lnlinks href=#hl-27-5> 5</a>
</span><span class=lnt id=hl-27-6><a class=lnlinks href=#hl-27-6> 6</a>
</span><span class=lnt id=hl-27-7><a class=lnlinks href=#hl-27-7> 7</a>
</span><span class=lnt id=hl-27-8><a class=lnlinks href=#hl-27-8> 8</a>
</span><span class=lnt id=hl-27-9><a class=lnlinks href=#hl-27-9> 9</a>
</span><span class=lnt id=hl-27-10><a class=lnlinks href=#hl-27-10>10</a>
</span><span class=lnt id=hl-27-11><a class=lnlinks href=#hl-27-11>11</a>
</span><span class=lnt id=hl-27-12><a class=lnlinks href=#hl-27-12>12</a>
</span><span class=lnt id=hl-27-13><a class=lnlinks href=#hl-27-13>13</a>
</span><span class=lnt id=hl-27-14><a class=lnlinks href=#hl-27-14>14</a>
</span><span class=lnt id=hl-27-15><a class=lnlinks href=#hl-27-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Windows</span>
</span></span><span class=line><span class=cl><span class=c1># 열린 포트 확인</span>
</span></span><span class=line><span class=cl>netstat -an <span class=p>|</span> findstr <span class=s2>&#34;LISTENING&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 특정 연결 확인</span>
</span></span><span class=line><span class=cl>netstat -an <span class=p>|</span> findstr <span class=s2>&#34;80&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Linux/macOS</span>
</span></span><span class=line><span class=cl><span class=c1># 열린 포트 확인</span>
</span></span><span class=line><span class=cl>ss -tuln
</span></span><span class=line><span class=cl><span class=c1># 또는</span>
</span></span><span class=line><span class=cl>netstat -tuln
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 특정 포트로 연결 테스트 (telnet 사용)</span>
</span></span><span class=line><span class=cl>telnet www.example.com <span class=m>80</span>
</span></span></code></pre></td></tr></table></div></div><p>체크리스트:</p><ul><li><input disabled type=checkbox> 방화벽이 HTTP(80) 또는 HTTPS(443) 포트를 차단하고 있지 않은가?</li><li><input disabled type=checkbox> 목적지 서버의 포트가 열려 있는가?</li><li><input disabled type=checkbox> TCP 연결이 성공적으로 설정되는가?</li></ul><p><strong>Step 5: 응용 계층(Layer 7) 체크</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-28-1><a class=lnlinks href=#hl-28-1> 1</a>
</span><span class=lnt id=hl-28-2><a class=lnlinks href=#hl-28-2> 2</a>
</span><span class=lnt id=hl-28-3><a class=lnlinks href=#hl-28-3> 3</a>
</span><span class=lnt id=hl-28-4><a class=lnlinks href=#hl-28-4> 4</a>
</span><span class=lnt id=hl-28-5><a class=lnlinks href=#hl-28-5> 5</a>
</span><span class=lnt id=hl-28-6><a class=lnlinks href=#hl-28-6> 6</a>
</span><span class=lnt id=hl-28-7><a class=lnlinks href=#hl-28-7> 7</a>
</span><span class=lnt id=hl-28-8><a class=lnlinks href=#hl-28-8> 8</a>
</span><span class=lnt id=hl-28-9><a class=lnlinks href=#hl-28-9> 9</a>
</span><span class=lnt id=hl-28-10><a class=lnlinks href=#hl-28-10>10</a>
</span><span class=lnt id=hl-28-11><a class=lnlinks href=#hl-28-11>11</a>
</span><span class=lnt id=hl-28-12><a class=lnlinks href=#hl-28-12>12</a>
</span><span class=lnt id=hl-28-13><a class=lnlinks href=#hl-28-13>13</a>
</span><span class=lnt id=hl-28-14><a class=lnlinks href=#hl-28-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># DNS 해석 확인</span>
</span></span><span class=line><span class=cl><span class=c1># Windows</span>
</span></span><span class=line><span class=cl>nslookup www.example.com
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Linux/macOS</span>
</span></span><span class=line><span class=cl>nslookup www.example.com
</span></span><span class=line><span class=cl><span class=c1># 또는</span>
</span></span><span class=line><span class=cl>dig www.example.com
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># HTTP 요청 테스트 (curl 사용)</span>
</span></span><span class=line><span class=cl>curl -I https://www.example.com
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 또는</span>
</span></span><span class=line><span class=cl>curl -v https://www.example.com
</span></span></code></pre></td></tr></table></div></div><p>체크리스트:</p><ul><li><input disabled type=checkbox> DNS가 도메인 이름을 IP 주소로 올바르게 해석하는가?</li><li><input disabled type=checkbox> HTTP 요청이 성공적으로 전송되고 응답을 받는가?</li><li><input disabled type=checkbox> 웹 브라우저의 캐시나 쿠키가 문제를 일으키지 않는가?</li></ul><p><strong>Step 6: 문제 해결 및 문서화</strong></p><p>문제가 Layer 3(네트워크 계층)에서 발견된 경우의 예:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-29-1><a class=lnlinks href=#hl-29-1> 1</a>
</span><span class=lnt id=hl-29-2><a class=lnlinks href=#hl-29-2> 2</a>
</span><span class=lnt id=hl-29-3><a class=lnlinks href=#hl-29-3> 3</a>
</span><span class=lnt id=hl-29-4><a class=lnlinks href=#hl-29-4> 4</a>
</span><span class=lnt id=hl-29-5><a class=lnlinks href=#hl-29-5> 5</a>
</span><span class=lnt id=hl-29-6><a class=lnlinks href=#hl-29-6> 6</a>
</span><span class=lnt id=hl-29-7><a class=lnlinks href=#hl-29-7> 7</a>
</span><span class=lnt id=hl-29-8><a class=lnlinks href=#hl-29-8> 8</a>
</span><span class=lnt id=hl-29-9><a class=lnlinks href=#hl-29-9> 9</a>
</span><span class=lnt id=hl-29-10><a class=lnlinks href=#hl-29-10>10</a>
</span><span class=lnt id=hl-29-11><a class=lnlinks href=#hl-29-11>11</a>
</span><span class=lnt id=hl-29-12><a class=lnlinks href=#hl-29-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>문제: 기본 게이트웨이가 설정되지 않음
</span></span><span class=line><span class=cl>원인: DHCP 서버 오류 또는 수동 설정 누락
</span></span><span class=line><span class=cl>해결: 
</span></span><span class=line><span class=cl>1. Windows: &#34;제어판 &gt; 네트워크 및 공유 센터 &gt; 어댑터 설정 변경 &gt; IPv4 속성&#34;에서 DHCP 또는 수동 IP 설정
</span></span><span class=line><span class=cl>2. Linux: /etc/network/interfaces 또는 NetworkManager 설정 수정
</span></span><span class=line><span class=cl>3. macOS: &#34;시스템 환경설정 &gt; 네트워크&#34;에서 TCP/IP 설정 확인
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>검증: 
</span></span><span class=line><span class=cl># 기본 게이트웨이에 ping
</span></span><span class=line><span class=cl>ping 192.168.1.1
</span></span><span class=line><span class=cl># 외부 인터넷에 ping
</span></span><span class=line><span class=cl>ping 8.8.8.8
</span></span></code></pre></td></tr></table></div></div><h3 id=sw2-wireshark를-이용한-osi-계층별-패킷-분석>SW.2: Wireshark를 이용한 OSI 계층별 패킷 분석<a hidden class=anchor aria-hidden=true href=#sw2-wireshark를-이용한-osi-계층별-패킷-분석>#</a></h3><h4 id=goal-1>Goal<a hidden class=anchor aria-hidden=true href=#goal-1>#</a></h4><p>Wireshark를 사용하여 실제 네트워크 트래픽을 캡처하고, OSI 7계층 모델에 따라 각 계층의 헤더와 데이터를 분석하는 능력을 습득합니다.</p><h4 id=input-1>Input<a hidden class=anchor aria-hidden=true href=#input-1>#</a></h4><ul><li>Wireshark 설치 (<a href=https://www.wireshark.org/>https://www.wireshark.org/</a>)</li><li>네트워크 연결이 가능한 컴퓨터</li><li>분석할 프로토콜에 대한 기본 이해 (HTTP, TCP, IP, Ethernet)</li></ul><h4 id=expected-1>Expected<a hidden class=anchor aria-hidden=true href=#expected-1>#</a></h4><ul><li>Wireshark로 HTTP 요청/응답을 캡처</li><li>캡처된 패킷에서 각 OSI 계층의 헤더를 식별하고 분석</li><li>Layer 2(Ethernet), Layer 3(IP), Layer 4(TCP), Layer 7(HTTP) 헤더의 주요 필드를 이해</li></ul><h4 id=evaluation-1>Evaluation<a hidden class=anchor aria-hidden=true href=#evaluation-1>#</a></h4><ul><li>Wireshark에서 올바른 필터를 사용하여 HTTP 트래픽을 캡처했는가?</li><li>각 계층의 헤더를 정확히 식별했는가?</li><li>주요 필드(MAC 주소, IP 주소, 포트 번호, HTTP 메서드 등)의 값을 올바르게 추출했는가?</li><li>Encapsulation 과정을 이해하고 설명할 수 있는가?</li></ul><h4 id=steps-1>Steps<a hidden class=anchor aria-hidden=true href=#steps-1>#</a></h4><p><strong>Step 1: Wireshark 설치 및 캡처 시작</strong></p><ol><li>Wireshark를 다운로드하고 설치합니다.</li><li>Wireshark를 실행하고 사용 중인 네트워크 인터페이스를 선택합니다 (예: Wi-Fi, Ethernet).</li><li>캡처를 시작합니다 (상단의 상어 지느러미 아이콘 클릭 또는 Ctrl+E).</li></ol><p><strong>Step 2: HTTP 트래픽 생성</strong></p><p>웹 브라우저를 열고 <a href=http://www.example.com>http://www.example.com</a> (HTTPS가 아닌 HTTP) 에 접속합니다.</p><p><strong>주의</strong>: HTTPS는 암호화되어 있어 내용을 볼 수 없으므로, HTTP 사이트를 사용하거나 Wireshark에서 TLS/SSL 키를 설정해야 합니다.</p><p><strong>Step 3: 캡처 중지 및 필터 적용</strong></p><ol><li>캡처를 중지합니다 (Ctrl+E).</li><li>필터를 적용하여 HTTP 트래픽만 표시합니다.</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-30-1><a class=lnlinks href=#hl-30-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>http
</span></span></code></pre></td></tr></table></div></div><p>또는 특정 IP 주소로 필터링:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-31-1><a class=lnlinks href=#hl-31-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>ip.addr == 93.184.216.34
</span></span></code></pre></td></tr></table></div></div><p><strong>Step 4: Layer 2 (데이터 링크 계층) 분석 - Ethernet Frame</strong></p><ol><li>Wireshark에서 HTTP GET 요청 패킷을 선택합니다.</li><li>하단 패널에서 &ldquo;Ethernet II&rdquo; 섹션을 확장합니다.</li></ol><p>분석할 필드:</p><ul><li><strong>Destination MAC</strong>: 목적지 MAC 주소 (일반적으로 기본 게이트웨이의 MAC)</li><li><strong>Source MAC</strong>: 출발지 MAC 주소 (자신의 네트워크 어댑터 MAC)</li><li><strong>Type</strong>: EtherType (IPv4의 경우 0x0800)</li></ul><p>예제:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-32-1><a class=lnlinks href=#hl-32-1>1</a>
</span><span class=lnt id=hl-32-2><a class=lnlinks href=#hl-32-2>2</a>
</span><span class=lnt id=hl-32-3><a class=lnlinks href=#hl-32-3>3</a>
</span><span class=lnt id=hl-32-4><a class=lnlinks href=#hl-32-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Ethernet II, Src: Dell_12:34:56 (00:11:22:33:44:55), Dst: Cisco_ab:cd:ef (aa:bb:cc:dd:ee:ff)
</span></span><span class=line><span class=cl>    Destination: Cisco_ab:cd:ef (aa:bb:cc:dd:ee:ff)
</span></span><span class=line><span class=cl>    Source: Dell_12:34:56 (00:11:22:33:44:55)
</span></span><span class=line><span class=cl>    Type: IPv4 (0x0800)
</span></span></code></pre></td></tr></table></div></div><p><strong>Step 5: Layer 3 (네트워크 계층) 분석 - IP Packet</strong></p><p>&ldquo;Internet Protocol Version 4&rdquo; 섹션을 확장합니다.</p><p>분석할 필드:</p><ul><li><strong>Version</strong>: IP 버전 (4)</li><li><strong>Header Length</strong>: 헤더 길이 (일반적으로 20바이트)</li><li><strong>Total Length</strong>: 전체 패킷 길이</li><li><strong>Identification</strong>: 패킷 식별자 (fragmentation 시 사용)</li><li><strong>Flags</strong>: DF(Don&rsquo;t Fragment), MF(More Fragments)</li><li><strong>TTL</strong>: Time To Live (일반적으로 64 또는 128에서 시작)</li><li><strong>Protocol</strong>: 상위 계층 프로토콜 (TCP=6)</li><li><strong>Source IP</strong>: 출발지 IP 주소</li><li><strong>Destination IP</strong>: 목적지 IP 주소</li></ul><p>예제:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-33-1><a class=lnlinks href=#hl-33-1> 1</a>
</span><span class=lnt id=hl-33-2><a class=lnlinks href=#hl-33-2> 2</a>
</span><span class=lnt id=hl-33-3><a class=lnlinks href=#hl-33-3> 3</a>
</span><span class=lnt id=hl-33-4><a class=lnlinks href=#hl-33-4> 4</a>
</span><span class=lnt id=hl-33-5><a class=lnlinks href=#hl-33-5> 5</a>
</span><span class=lnt id=hl-33-6><a class=lnlinks href=#hl-33-6> 6</a>
</span><span class=lnt id=hl-33-7><a class=lnlinks href=#hl-33-7> 7</a>
</span><span class=lnt id=hl-33-8><a class=lnlinks href=#hl-33-8> 8</a>
</span><span class=lnt id=hl-33-9><a class=lnlinks href=#hl-33-9> 9</a>
</span><span class=lnt id=hl-33-10><a class=lnlinks href=#hl-33-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Internet Protocol Version 4, Src: 192.168.1.100, Dst: 93.184.216.34
</span></span><span class=line><span class=cl>    Version: 4
</span></span><span class=line><span class=cl>    Header Length: 20 bytes
</span></span><span class=line><span class=cl>    Total Length: 578
</span></span><span class=line><span class=cl>    Identification: 0x1234 (4660)
</span></span><span class=line><span class=cl>    Flags: 0x4000, Don&#39;t fragment
</span></span><span class=line><span class=cl>    Time to live: 64
</span></span><span class=line><span class=cl>    Protocol: TCP (6)
</span></span><span class=line><span class=cl>    Source: 192.168.1.100
</span></span><span class=line><span class=cl>    Destination: 93.184.216.34
</span></span></code></pre></td></tr></table></div></div><p><strong>Step 6: Layer 4 (전송 계층) 분석 - TCP Segment</strong></p><p>&ldquo;Transmission Control Protocol&rdquo; 섹션을 확장합니다.</p><p>분석할 필드:</p><ul><li><strong>Source Port</strong>: 출발지 포트 (클라이언트의 임시 포트, 예: 50234)</li><li><strong>Destination Port</strong>: 목적지 포트 (HTTP=80)</li><li><strong>Sequence Number</strong>: 순서 번호</li><li><strong>Acknowledgment Number</strong>: 확인 응답 번호</li><li><strong>Flags</strong>: SYN, ACK, PSH, FIN 등</li><li><strong>Window Size</strong>: 윈도우 크기 (흐름 제어)</li></ul><p>예제:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-34-1><a class=lnlinks href=#hl-34-1>1</a>
</span><span class=lnt id=hl-34-2><a class=lnlinks href=#hl-34-2>2</a>
</span><span class=lnt id=hl-34-3><a class=lnlinks href=#hl-34-3>3</a>
</span><span class=lnt id=hl-34-4><a class=lnlinks href=#hl-34-4>4</a>
</span><span class=lnt id=hl-34-5><a class=lnlinks href=#hl-34-5>5</a>
</span><span class=lnt id=hl-34-6><a class=lnlinks href=#hl-34-6>6</a>
</span><span class=lnt id=hl-34-7><a class=lnlinks href=#hl-34-7>7</a>
</span><span class=lnt id=hl-34-8><a class=lnlinks href=#hl-34-8>8</a>
</span><span class=lnt id=hl-34-9><a class=lnlinks href=#hl-34-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Transmission Control Protocol, Src Port: 50234, Dst Port: 80, Seq: 1, Ack: 1, Len: 518
</span></span><span class=line><span class=cl>    Source Port: 50234
</span></span><span class=line><span class=cl>    Destination Port: 80
</span></span><span class=line><span class=cl>    Sequence number: 1
</span></span><span class=line><span class=cl>    Acknowledgment number: 1
</span></span><span class=line><span class=cl>    Flags: 0x018 (PSH, ACK)
</span></span><span class=line><span class=cl>        .... .... ...1 .... = Acknowledgment
</span></span><span class=line><span class=cl>        .... .... .... 1... = Push
</span></span><span class=line><span class=cl>    Window size value: 64240
</span></span></code></pre></td></tr></table></div></div><p><strong>Step 7: Layer 7 (응용 계층) 분석 - HTTP Request</strong></p><p>&ldquo;Hypertext Transfer Protocol&rdquo; 섹션을 확장합니다.</p><p>분석할 필드:</p><ul><li><strong>Request Method</strong>: GET, POST 등</li><li><strong>Request URI</strong>: 요청한 리소스 경로</li><li><strong>HTTP Version</strong>: HTTP/1.1</li><li><strong>Headers</strong>: Host, User-Agent, Accept 등</li></ul><p>예제:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-35-1><a class=lnlinks href=#hl-35-1>1</a>
</span><span class=lnt id=hl-35-2><a class=lnlinks href=#hl-35-2>2</a>
</span><span class=lnt id=hl-35-3><a class=lnlinks href=#hl-35-3>3</a>
</span><span class=lnt id=hl-35-4><a class=lnlinks href=#hl-35-4>4</a>
</span><span class=lnt id=hl-35-5><a class=lnlinks href=#hl-35-5>5</a>
</span><span class=lnt id=hl-35-6><a class=lnlinks href=#hl-35-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Hypertext Transfer Protocol
</span></span><span class=line><span class=cl>    GET / HTTP/1.1\r\n
</span></span><span class=line><span class=cl>    Host: www.example.com\r\n
</span></span><span class=line><span class=cl>    User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64)\r\n
</span></span><span class=line><span class=cl>    Accept: text/html,application/xhtml+xml\r\n
</span></span><span class=line><span class=cl>    \r\n
</span></span></code></pre></td></tr></table></div></div><p><strong>Step 8: Encapsulation 구조 시각화</strong></p><p>Wireshark의 중간 패널에서 계층 구조를 관찰합니다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-36-1><a class=lnlinks href=#hl-36-1> 1</a>
</span><span class=lnt id=hl-36-2><a class=lnlinks href=#hl-36-2> 2</a>
</span><span class=lnt id=hl-36-3><a class=lnlinks href=#hl-36-3> 3</a>
</span><span class=lnt id=hl-36-4><a class=lnlinks href=#hl-36-4> 4</a>
</span><span class=lnt id=hl-36-5><a class=lnlinks href=#hl-36-5> 5</a>
</span><span class=lnt id=hl-36-6><a class=lnlinks href=#hl-36-6> 6</a>
</span><span class=lnt id=hl-36-7><a class=lnlinks href=#hl-36-7> 7</a>
</span><span class=lnt id=hl-36-8><a class=lnlinks href=#hl-36-8> 8</a>
</span><span class=lnt id=hl-36-9><a class=lnlinks href=#hl-36-9> 9</a>
</span><span class=lnt id=hl-36-10><a class=lnlinks href=#hl-36-10>10</a>
</span><span class=lnt id=hl-36-11><a class=lnlinks href=#hl-36-11>11</a>
</span><span class=lnt id=hl-36-12><a class=lnlinks href=#hl-36-12>12</a>
</span><span class=lnt id=hl-36-13><a class=lnlinks href=#hl-36-13>13</a>
</span><span class=lnt id=hl-36-14><a class=lnlinks href=#hl-36-14>14</a>
</span><span class=lnt id=hl-36-15><a class=lnlinks href=#hl-36-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Frame 123: 578 bytes on wire
</span></span><span class=line><span class=cl>├─ Ethernet II
</span></span><span class=line><span class=cl>│  ├─ Destination: aa:bb:cc:dd:ee:ff
</span></span><span class=line><span class=cl>│  ├─ Source: 00:11:22:33:44:55
</span></span><span class=line><span class=cl>│  └─ Type: IPv4 (0x0800)
</span></span><span class=line><span class=cl>├─ Internet Protocol Version 4
</span></span><span class=line><span class=cl>│  ├─ Source: 192.168.1.100
</span></span><span class=line><span class=cl>│  ├─ Destination: 93.184.216.34
</span></span><span class=line><span class=cl>│  └─ Protocol: TCP (6)
</span></span><span class=line><span class=cl>├─ Transmission Control Protocol
</span></span><span class=line><span class=cl>│  ├─ Source Port: 50234
</span></span><span class=line><span class=cl>│  ├─ Destination Port: 80
</span></span><span class=line><span class=cl>│  └─ Flags: PSH, ACK
</span></span><span class=line><span class=cl>└─ Hypertext Transfer Protocol
</span></span><span class=line><span class=cl>   └─ GET / HTTP/1.1
</span></span></code></pre></td></tr></table></div></div><p><strong>Step 9: 분석 결과 문서화</strong></p><p>분석 결과를 다음 형식으로 문서화합니다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-37-1><a class=lnlinks href=#hl-37-1> 1</a>
</span><span class=lnt id=hl-37-2><a class=lnlinks href=#hl-37-2> 2</a>
</span><span class=lnt id=hl-37-3><a class=lnlinks href=#hl-37-3> 3</a>
</span><span class=lnt id=hl-37-4><a class=lnlinks href=#hl-37-4> 4</a>
</span><span class=lnt id=hl-37-5><a class=lnlinks href=#hl-37-5> 5</a>
</span><span class=lnt id=hl-37-6><a class=lnlinks href=#hl-37-6> 6</a>
</span><span class=lnt id=hl-37-7><a class=lnlinks href=#hl-37-7> 7</a>
</span><span class=lnt id=hl-37-8><a class=lnlinks href=#hl-37-8> 8</a>
</span><span class=lnt id=hl-37-9><a class=lnlinks href=#hl-37-9> 9</a>
</span><span class=lnt id=hl-37-10><a class=lnlinks href=#hl-37-10>10</a>
</span><span class=lnt id=hl-37-11><a class=lnlinks href=#hl-37-11>11</a>
</span><span class=lnt id=hl-37-12><a class=lnlinks href=#hl-37-12>12</a>
</span><span class=lnt id=hl-37-13><a class=lnlinks href=#hl-37-13>13</a>
</span><span class=lnt id=hl-37-14><a class=lnlinks href=#hl-37-14>14</a>
</span><span class=lnt id=hl-37-15><a class=lnlinks href=#hl-37-15>15</a>
</span><span class=lnt id=hl-37-16><a class=lnlinks href=#hl-37-16>16</a>
</span><span class=lnt id=hl-37-17><a class=lnlinks href=#hl-37-17>17</a>
</span><span class=lnt id=hl-37-18><a class=lnlinks href=#hl-37-18>18</a>
</span><span class=lnt id=hl-37-19><a class=lnlinks href=#hl-37-19>19</a>
</span><span class=lnt id=hl-37-20><a class=lnlinks href=#hl-37-20>20</a>
</span><span class=lnt id=hl-37-21><a class=lnlinks href=#hl-37-21>21</a>
</span><span class=lnt id=hl-37-22><a class=lnlinks href=#hl-37-22>22</a>
</span><span class=lnt id=hl-37-23><a class=lnlinks href=#hl-37-23>23</a>
</span><span class=lnt id=hl-37-24><a class=lnlinks href=#hl-37-24>24</a>
</span><span class=lnt id=hl-37-25><a class=lnlinks href=#hl-37-25>25</a>
</span><span class=lnt id=hl-37-26><a class=lnlinks href=#hl-37-26>26</a>
</span><span class=lnt id=hl-37-27><a class=lnlinks href=#hl-37-27>27</a>
</span><span class=lnt id=hl-37-28><a class=lnlinks href=#hl-37-28>28</a>
</span><span class=lnt id=hl-37-29><a class=lnlinks href=#hl-37-29>29</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl><span class=gu>## 패킷 분석 결과
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=gu>### 기본 정보
</span></span></span><span class=line><span class=cl><span class=k>-</span> 패킷 번호: 123
</span></span><span class=line><span class=cl><span class=k>-</span> 시간: 2025-11-08 10:30:45.123456
</span></span><span class=line><span class=cl><span class=k>-</span> 전체 크기: 578 bytes
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=gu>### Layer 2 (Ethernet)
</span></span></span><span class=line><span class=cl><span class=k>-</span> Src MAC: 00:11:22:33:44:55 (Dell)
</span></span><span class=line><span class=cl><span class=k>-</span> Dst MAC: aa:bb:cc:dd:ee:ff (Cisco 라우터)
</span></span><span class=line><span class=cl><span class=k>-</span> EtherType: 0x0800 (IPv4)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=gu>### Layer 3 (IP)
</span></span></span><span class=line><span class=cl><span class=k>-</span> Src IP: 192.168.1.100 (내 컴퓨터)
</span></span><span class=line><span class=cl><span class=k>-</span> Dst IP: 93.184.216.34 (www.example.com)
</span></span><span class=line><span class=cl><span class=k>-</span> Protocol: TCP (6)
</span></span><span class=line><span class=cl><span class=k>-</span> TTL: 64
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=gu>### Layer 4 (TCP)
</span></span></span><span class=line><span class=cl><span class=k>-</span> Src Port: 50234 (임시 포트)
</span></span><span class=line><span class=cl><span class=k>-</span> Dst Port: 80 (HTTP)
</span></span><span class=line><span class=cl><span class=k>-</span> Flags: PSH, ACK
</span></span><span class=line><span class=cl><span class=k>-</span> Seq: 1, Ack: 1
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=gu>### Layer 7 (HTTP)
</span></span></span><span class=line><span class=cl><span class=k>-</span> Method: GET
</span></span><span class=line><span class=cl><span class=k>-</span> URI: /
</span></span><span class=line><span class=cl><span class=k>-</span> Host: www.example.com
</span></span><span class=line><span class=cl><span class=k>-</span> User-Agent: Mozilla/5.0...
</span></span></code></pre></td></tr></table></div></div><h3 id=sw3-간단한-프로토콜-스택-구현>SW.3: 간단한 프로토콜 스택 구현<a hidden class=anchor aria-hidden=true href=#sw3-간단한-프로토콜-스택-구현>#</a></h3><h4 id=goal-2>Goal<a hidden class=anchor aria-hidden=true href=#goal-2>#</a></h4><p>Python을 사용하여 OSI 모델의 핵심 개념(Encapsulation, PDU 생성, 계층 간 통신)을 구현하는 간단한 프로토콜 스택을 만들고, 이를 통해 계층화된 네트워크 아키텍처를 실습합니다.</p><h4 id=input-2>Input<a hidden class=anchor aria-hidden=true href=#input-2>#</a></h4><ul><li>Python 3.7 이상 설치</li><li>Python 기본 문법에 대한 이해</li><li>OSI 모델의 Encapsulation/Decapsulation 개념 이해</li></ul><h4 id=expected-2>Expected<a hidden class=anchor aria-hidden=true href=#expected-2>#</a></h4><ul><li>Layer 2 (Ethernet Frame), Layer 3 (IP Packet), Layer 4 (TCP Segment) 클래스 구현</li><li>Encapsulation/Decapsulation 메서드 구현</li><li>각 계층의 헤더 필드를 정의하고 바이너리로 직렬화</li><li>완성된 프로토콜 스택을 사용하여 메시지 전송 시뮬레이션</li></ul><h4 id=evaluation-2>Evaluation<a hidden class=anchor aria-hidden=true href=#evaluation-2>#</a></h4><ul><li>각 계층 클래스가 적절한 헤더 필드를 포함하는가?</li><li>Encapsulation이 올바르게 구현되어 상위 계층 PDU를 하위 계층 SDU로 취급하는가?</li><li>Decapsulation이 올바르게 구현되어 헤더를 제거하고 상위 계층으로 전달하는가?</li><li>실행 결과가 예상한 대로 메시지가 전송되고 수신되는가?</li></ul><h4 id=steps-2>Steps<a hidden class=anchor aria-hidden=true href=#steps-2>#</a></h4><p><strong>Step 1: 프로젝트 구조 설정</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-38-1><a class=lnlinks href=#hl-38-1>1</a>
</span><span class=lnt id=hl-38-2><a class=lnlinks href=#hl-38-2>2</a>
</span><span class=lnt id=hl-38-3><a class=lnlinks href=#hl-38-3>3</a>
</span><span class=lnt id=hl-38-4><a class=lnlinks href=#hl-38-4>4</a>
</span><span class=lnt id=hl-38-5><a class=lnlinks href=#hl-38-5>5</a>
</span><span class=lnt id=hl-38-6><a class=lnlinks href=#hl-38-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 프로젝트 디렉토리 생성</span>
</span></span><span class=line><span class=cl>mkdir osi_protocol_stack
</span></span><span class=line><span class=cl><span class=nb>cd</span> osi_protocol_stack
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Python 파일 생성</span>
</span></span><span class=line><span class=cl>touch protocol_stack.py
</span></span></code></pre></td></tr></table></div></div><p><strong>Step 2: Layer 4 (TCP Segment) 클래스 구현</strong></p><p><code>protocol_stack.py</code> 파일에 다음 코드를 작성합니다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-39-1><a class=lnlinks href=#hl-39-1> 1</a>
</span><span class=lnt id=hl-39-2><a class=lnlinks href=#hl-39-2> 2</a>
</span><span class=lnt id=hl-39-3><a class=lnlinks href=#hl-39-3> 3</a>
</span><span class=lnt id=hl-39-4><a class=lnlinks href=#hl-39-4> 4</a>
</span><span class=lnt id=hl-39-5><a class=lnlinks href=#hl-39-5> 5</a>
</span><span class=lnt id=hl-39-6><a class=lnlinks href=#hl-39-6> 6</a>
</span><span class=lnt id=hl-39-7><a class=lnlinks href=#hl-39-7> 7</a>
</span><span class=lnt id=hl-39-8><a class=lnlinks href=#hl-39-8> 8</a>
</span><span class=lnt id=hl-39-9><a class=lnlinks href=#hl-39-9> 9</a>
</span><span class=lnt id=hl-39-10><a class=lnlinks href=#hl-39-10>10</a>
</span><span class=lnt id=hl-39-11><a class=lnlinks href=#hl-39-11>11</a>
</span><span class=lnt id=hl-39-12><a class=lnlinks href=#hl-39-12>12</a>
</span><span class=lnt id=hl-39-13><a class=lnlinks href=#hl-39-13>13</a>
</span><span class=lnt id=hl-39-14><a class=lnlinks href=#hl-39-14>14</a>
</span><span class=lnt id=hl-39-15><a class=lnlinks href=#hl-39-15>15</a>
</span><span class=lnt id=hl-39-16><a class=lnlinks href=#hl-39-16>16</a>
</span><span class=lnt id=hl-39-17><a class=lnlinks href=#hl-39-17>17</a>
</span><span class=lnt id=hl-39-18><a class=lnlinks href=#hl-39-18>18</a>
</span><span class=lnt id=hl-39-19><a class=lnlinks href=#hl-39-19>19</a>
</span><span class=lnt id=hl-39-20><a class=lnlinks href=#hl-39-20>20</a>
</span><span class=lnt id=hl-39-21><a class=lnlinks href=#hl-39-21>21</a>
</span><span class=lnt id=hl-39-22><a class=lnlinks href=#hl-39-22>22</a>
</span><span class=lnt id=hl-39-23><a class=lnlinks href=#hl-39-23>23</a>
</span><span class=lnt id=hl-39-24><a class=lnlinks href=#hl-39-24>24</a>
</span><span class=lnt id=hl-39-25><a class=lnlinks href=#hl-39-25>25</a>
</span><span class=lnt id=hl-39-26><a class=lnlinks href=#hl-39-26>26</a>
</span><span class=lnt id=hl-39-27><a class=lnlinks href=#hl-39-27>27</a>
</span><span class=lnt id=hl-39-28><a class=lnlinks href=#hl-39-28>28</a>
</span><span class=lnt id=hl-39-29><a class=lnlinks href=#hl-39-29>29</a>
</span><span class=lnt id=hl-39-30><a class=lnlinks href=#hl-39-30>30</a>
</span><span class=lnt id=hl-39-31><a class=lnlinks href=#hl-39-31>31</a>
</span><span class=lnt id=hl-39-32><a class=lnlinks href=#hl-39-32>32</a>
</span><span class=lnt id=hl-39-33><a class=lnlinks href=#hl-39-33>33</a>
</span><span class=lnt id=hl-39-34><a class=lnlinks href=#hl-39-34>34</a>
</span><span class=lnt id=hl-39-35><a class=lnlinks href=#hl-39-35>35</a>
</span><span class=lnt id=hl-39-36><a class=lnlinks href=#hl-39-36>36</a>
</span><span class=lnt id=hl-39-37><a class=lnlinks href=#hl-39-37>37</a>
</span><span class=lnt id=hl-39-38><a class=lnlinks href=#hl-39-38>38</a>
</span><span class=lnt id=hl-39-39><a class=lnlinks href=#hl-39-39>39</a>
</span><span class=lnt id=hl-39-40><a class=lnlinks href=#hl-39-40>40</a>
</span><span class=lnt id=hl-39-41><a class=lnlinks href=#hl-39-41>41</a>
</span><span class=lnt id=hl-39-42><a class=lnlinks href=#hl-39-42>42</a>
</span><span class=lnt id=hl-39-43><a class=lnlinks href=#hl-39-43>43</a>
</span><span class=lnt id=hl-39-44><a class=lnlinks href=#hl-39-44>44</a>
</span><span class=lnt id=hl-39-45><a class=lnlinks href=#hl-39-45>45</a>
</span><span class=lnt id=hl-39-46><a class=lnlinks href=#hl-39-46>46</a>
</span><span class=lnt id=hl-39-47><a class=lnlinks href=#hl-39-47>47</a>
</span><span class=lnt id=hl-39-48><a class=lnlinks href=#hl-39-48>48</a>
</span><span class=lnt id=hl-39-49><a class=lnlinks href=#hl-39-49>49</a>
</span><span class=lnt id=hl-39-50><a class=lnlinks href=#hl-39-50>50</a>
</span><span class=lnt id=hl-39-51><a class=lnlinks href=#hl-39-51>51</a>
</span><span class=lnt id=hl-39-52><a class=lnlinks href=#hl-39-52>52</a>
</span><span class=lnt id=hl-39-53><a class=lnlinks href=#hl-39-53>53</a>
</span><span class=lnt id=hl-39-54><a class=lnlinks href=#hl-39-54>54</a>
</span><span class=lnt id=hl-39-55><a class=lnlinks href=#hl-39-55>55</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>struct</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>random</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>TCPSegment</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;TCP 세그먼트 (Layer 4)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>src_port</span><span class=p>,</span> <span class=n>dst_port</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>seq_num</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>ack_num</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=mh>0x18</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>src_port</span> <span class=o>=</span> <span class=n>src_port</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>dst_port</span> <span class=o>=</span> <span class=n>dst_port</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>seq_num</span> <span class=o>=</span> <span class=n>seq_num</span> <span class=k>if</span> <span class=n>seq_num</span> <span class=k>else</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>9999</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>ack_num</span> <span class=o>=</span> <span class=n>ack_num</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>data_offset</span> <span class=o>=</span> <span class=mi>5</span>  <span class=c1># 5 * 4 = 20 bytes (헤더 크기)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>flags</span> <span class=o>=</span> <span class=n>flags</span>  <span class=c1># 0x18 = PSH + ACK</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>window</span> <span class=o>=</span> <span class=mi>65535</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>checksum</span> <span class=o>=</span> <span class=mi>0</span>  <span class=c1># 실제로는 계산 필요</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>urgent_ptr</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>encapsulate</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;TCP 헤더 + 데이터를 바이너리로 직렬화&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>header</span> <span class=o>=</span> <span class=n>struct</span><span class=o>.</span><span class=n>pack</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;!HHIIBBHHH&#39;</span><span class=p>,</span>  <span class=c1># 네트워크 바이트 순서 (big-endian)</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>src_port</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>dst_port</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>seq_num</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>ack_num</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data_offset</span> <span class=o>&lt;&lt;</span> <span class=mi>4</span><span class=p>),</span>  <span class=c1># 상위 4비트는 data offset</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>flags</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>window</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>checksum</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>urgent_ptr</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>header</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>encode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@classmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>decapsulate</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>binary_data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;바이너리 데이터에서 TCP 세그먼트 복원&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>header_size</span> <span class=o>=</span> <span class=mi>20</span>
</span></span><span class=line><span class=cl>        <span class=n>header</span> <span class=o>=</span> <span class=n>binary_data</span><span class=p>[:</span><span class=n>header_size</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>payload</span> <span class=o>=</span> <span class=n>binary_data</span><span class=p>[</span><span class=n>header_size</span><span class=p>:]</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>unpacked</span> <span class=o>=</span> <span class=n>struct</span><span class=o>.</span><span class=n>unpack</span><span class=p>(</span><span class=s1>&#39;!HHIIBBHHH&#39;</span><span class=p>,</span> <span class=n>header</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>cls</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>src_port</span><span class=o>=</span><span class=n>unpacked</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=n>dst_port</span><span class=o>=</span><span class=n>unpacked</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=n>data</span><span class=o>=</span><span class=n>payload</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>seq_num</span><span class=o>=</span><span class=n>unpacked</span><span class=p>[</span><span class=mi>2</span><span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=n>ack_num</span><span class=o>=</span><span class=n>unpacked</span><span class=p>[</span><span class=mi>3</span><span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=n>flags</span><span class=o>=</span><span class=n>unpacked</span><span class=p>[</span><span class=mi>5</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>(</span><span class=sa>f</span><span class=s2>&#34;TCP(SrcPort=</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>src_port</span><span class=si>}</span><span class=s2>, DstPort=</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>dst_port</span><span class=si>}</span><span class=s2>, &#34;</span>
</span></span><span class=line><span class=cl>                <span class=sa>f</span><span class=s2>&#34;Seq=</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>seq_num</span><span class=si>}</span><span class=s2>, Flags=0x</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>flags</span><span class=si>:</span><span class=s2>02x</span><span class=si>}</span><span class=s2>)&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Step 3: Layer 3 (IP Packet) 클래스 구현</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-40-1><a class=lnlinks href=#hl-40-1> 1</a>
</span><span class=lnt id=hl-40-2><a class=lnlinks href=#hl-40-2> 2</a>
</span><span class=lnt id=hl-40-3><a class=lnlinks href=#hl-40-3> 3</a>
</span><span class=lnt id=hl-40-4><a class=lnlinks href=#hl-40-4> 4</a>
</span><span class=lnt id=hl-40-5><a class=lnlinks href=#hl-40-5> 5</a>
</span><span class=lnt id=hl-40-6><a class=lnlinks href=#hl-40-6> 6</a>
</span><span class=lnt id=hl-40-7><a class=lnlinks href=#hl-40-7> 7</a>
</span><span class=lnt id=hl-40-8><a class=lnlinks href=#hl-40-8> 8</a>
</span><span class=lnt id=hl-40-9><a class=lnlinks href=#hl-40-9> 9</a>
</span><span class=lnt id=hl-40-10><a class=lnlinks href=#hl-40-10>10</a>
</span><span class=lnt id=hl-40-11><a class=lnlinks href=#hl-40-11>11</a>
</span><span class=lnt id=hl-40-12><a class=lnlinks href=#hl-40-12>12</a>
</span><span class=lnt id=hl-40-13><a class=lnlinks href=#hl-40-13>13</a>
</span><span class=lnt id=hl-40-14><a class=lnlinks href=#hl-40-14>14</a>
</span><span class=lnt id=hl-40-15><a class=lnlinks href=#hl-40-15>15</a>
</span><span class=lnt id=hl-40-16><a class=lnlinks href=#hl-40-16>16</a>
</span><span class=lnt id=hl-40-17><a class=lnlinks href=#hl-40-17>17</a>
</span><span class=lnt id=hl-40-18><a class=lnlinks href=#hl-40-18>18</a>
</span><span class=lnt id=hl-40-19><a class=lnlinks href=#hl-40-19>19</a>
</span><span class=lnt id=hl-40-20><a class=lnlinks href=#hl-40-20>20</a>
</span><span class=lnt id=hl-40-21><a class=lnlinks href=#hl-40-21>21</a>
</span><span class=lnt id=hl-40-22><a class=lnlinks href=#hl-40-22>22</a>
</span><span class=lnt id=hl-40-23><a class=lnlinks href=#hl-40-23>23</a>
</span><span class=lnt id=hl-40-24><a class=lnlinks href=#hl-40-24>24</a>
</span><span class=lnt id=hl-40-25><a class=lnlinks href=#hl-40-25>25</a>
</span><span class=lnt id=hl-40-26><a class=lnlinks href=#hl-40-26>26</a>
</span><span class=lnt id=hl-40-27><a class=lnlinks href=#hl-40-27>27</a>
</span><span class=lnt id=hl-40-28><a class=lnlinks href=#hl-40-28>28</a>
</span><span class=lnt id=hl-40-29><a class=lnlinks href=#hl-40-29>29</a>
</span><span class=lnt id=hl-40-30><a class=lnlinks href=#hl-40-30>30</a>
</span><span class=lnt id=hl-40-31><a class=lnlinks href=#hl-40-31>31</a>
</span><span class=lnt id=hl-40-32><a class=lnlinks href=#hl-40-32>32</a>
</span><span class=lnt id=hl-40-33><a class=lnlinks href=#hl-40-33>33</a>
</span><span class=lnt id=hl-40-34><a class=lnlinks href=#hl-40-34>34</a>
</span><span class=lnt id=hl-40-35><a class=lnlinks href=#hl-40-35>35</a>
</span><span class=lnt id=hl-40-36><a class=lnlinks href=#hl-40-36>36</a>
</span><span class=lnt id=hl-40-37><a class=lnlinks href=#hl-40-37>37</a>
</span><span class=lnt id=hl-40-38><a class=lnlinks href=#hl-40-38>38</a>
</span><span class=lnt id=hl-40-39><a class=lnlinks href=#hl-40-39>39</a>
</span><span class=lnt id=hl-40-40><a class=lnlinks href=#hl-40-40>40</a>
</span><span class=lnt id=hl-40-41><a class=lnlinks href=#hl-40-41>41</a>
</span><span class=lnt id=hl-40-42><a class=lnlinks href=#hl-40-42>42</a>
</span><span class=lnt id=hl-40-43><a class=lnlinks href=#hl-40-43>43</a>
</span><span class=lnt id=hl-40-44><a class=lnlinks href=#hl-40-44>44</a>
</span><span class=lnt id=hl-40-45><a class=lnlinks href=#hl-40-45>45</a>
</span><span class=lnt id=hl-40-46><a class=lnlinks href=#hl-40-46>46</a>
</span><span class=lnt id=hl-40-47><a class=lnlinks href=#hl-40-47>47</a>
</span><span class=lnt id=hl-40-48><a class=lnlinks href=#hl-40-48>48</a>
</span><span class=lnt id=hl-40-49><a class=lnlinks href=#hl-40-49>49</a>
</span><span class=lnt id=hl-40-50><a class=lnlinks href=#hl-40-50>50</a>
</span><span class=lnt id=hl-40-51><a class=lnlinks href=#hl-40-51>51</a>
</span><span class=lnt id=hl-40-52><a class=lnlinks href=#hl-40-52>52</a>
</span><span class=lnt id=hl-40-53><a class=lnlinks href=#hl-40-53>53</a>
</span><span class=lnt id=hl-40-54><a class=lnlinks href=#hl-40-54>54</a>
</span><span class=lnt id=hl-40-55><a class=lnlinks href=#hl-40-55>55</a>
</span><span class=lnt id=hl-40-56><a class=lnlinks href=#hl-40-56>56</a>
</span><span class=lnt id=hl-40-57><a class=lnlinks href=#hl-40-57>57</a>
</span><span class=lnt id=hl-40-58><a class=lnlinks href=#hl-40-58>58</a>
</span><span class=lnt id=hl-40-59><a class=lnlinks href=#hl-40-59>59</a>
</span><span class=lnt id=hl-40-60><a class=lnlinks href=#hl-40-60>60</a>
</span><span class=lnt id=hl-40-61><a class=lnlinks href=#hl-40-61>61</a>
</span><span class=lnt id=hl-40-62><a class=lnlinks href=#hl-40-62>62</a>
</span><span class=lnt id=hl-40-63><a class=lnlinks href=#hl-40-63>63</a>
</span><span class=lnt id=hl-40-64><a class=lnlinks href=#hl-40-64>64</a>
</span><span class=lnt id=hl-40-65><a class=lnlinks href=#hl-40-65>65</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>IPPacket</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;IP 패킷 (Layer 3)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>src_ip</span><span class=p>,</span> <span class=n>dst_ip</span><span class=p>,</span> <span class=n>payload</span><span class=p>,</span> <span class=n>protocol</span><span class=o>=</span><span class=mi>6</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>version</span> <span class=o>=</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>ihl</span> <span class=o>=</span> <span class=mi>5</span>  <span class=c1># 5 * 4 = 20 bytes</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>tos</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>total_length</span> <span class=o>=</span> <span class=mi>20</span> <span class=o>+</span> <span class=nb>len</span><span class=p>(</span><span class=n>payload</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>identification</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>65535</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>flags</span> <span class=o>=</span> <span class=mh>0x4000</span>  <span class=c1># Don&#39;t Fragment</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>ttl</span> <span class=o>=</span> <span class=mi>64</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>protocol</span> <span class=o>=</span> <span class=n>protocol</span>  <span class=c1># TCP = 6</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>checksum</span> <span class=o>=</span> <span class=mi>0</span>  <span class=c1># 실제로는 계산 필요</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>src_ip</span> <span class=o>=</span> <span class=n>src_ip</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>dst_ip</span> <span class=o>=</span> <span class=n>dst_ip</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>payload</span> <span class=o>=</span> <span class=n>payload</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_ip_to_int</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>ip_str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;IP 주소 문자열을 32비트 정수로 변환&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>parts</span> <span class=o>=</span> <span class=p>[</span><span class=nb>int</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>ip_str</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>(</span><span class=n>parts</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>&lt;&lt;</span> <span class=mi>24</span><span class=p>)</span> <span class=o>+</span> <span class=p>(</span><span class=n>parts</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>&lt;&lt;</span> <span class=mi>16</span><span class=p>)</span> <span class=o>+</span> <span class=p>(</span><span class=n>parts</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>&lt;&lt;</span> <span class=mi>8</span><span class=p>)</span> <span class=o>+</span> <span class=n>parts</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_int_to_ip</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>ip_int</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;32비트 정수를 IP 주소 문자열로 변환&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=p>(</span><span class=n>ip_int</span> <span class=o>&gt;&gt;</span> <span class=mi>24</span><span class=p>)</span> <span class=o>&amp;</span> <span class=mh>0xFF</span><span class=si>}</span><span class=s2>.</span><span class=si>{</span><span class=p>(</span><span class=n>ip_int</span> <span class=o>&gt;&gt;</span> <span class=mi>16</span><span class=p>)</span> <span class=o>&amp;</span> <span class=mh>0xFF</span><span class=si>}</span><span class=s2>.</span><span class=si>{</span><span class=p>(</span><span class=n>ip_int</span> <span class=o>&gt;&gt;</span> <span class=mi>8</span><span class=p>)</span> <span class=o>&amp;</span> <span class=mh>0xFF</span><span class=si>}</span><span class=s2>.</span><span class=si>{</span><span class=n>ip_int</span> <span class=o>&amp;</span> <span class=mh>0xFF</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>encapsulate</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;IP 헤더 + TCP 세그먼트를 바이너리로 직렬화&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>header</span> <span class=o>=</span> <span class=n>struct</span><span class=o>.</span><span class=n>pack</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;!BBHHHBBHII&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>version</span> <span class=o>&lt;&lt;</span> <span class=mi>4</span><span class=p>)</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>ihl</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>tos</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>total_length</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>identification</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>flags</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>ttl</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>protocol</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>checksum</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_ip_to_int</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>src_ip</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_ip_to_int</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>dst_ip</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>header</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>payload</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@classmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>decapsulate</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>binary_data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;바이너리 데이터에서 IP 패킷 복원&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>header_size</span> <span class=o>=</span> <span class=mi>20</span>
</span></span><span class=line><span class=cl>        <span class=n>header</span> <span class=o>=</span> <span class=n>binary_data</span><span class=p>[:</span><span class=n>header_size</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>payload</span> <span class=o>=</span> <span class=n>binary_data</span><span class=p>[</span><span class=n>header_size</span><span class=p>:]</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>unpacked</span> <span class=o>=</span> <span class=n>struct</span><span class=o>.</span><span class=n>unpack</span><span class=p>(</span><span class=s1>&#39;!BBHHHBBHII&#39;</span><span class=p>,</span> <span class=n>header</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>packet</span> <span class=o>=</span> <span class=bp>cls</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>src_ip</span><span class=o>=</span><span class=s2>&#34;0.0.0.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>dst_ip</span><span class=o>=</span><span class=s2>&#34;0.0.0.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>payload</span><span class=o>=</span><span class=n>payload</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>protocol</span><span class=o>=</span><span class=n>unpacked</span><span class=p>[</span><span class=mi>6</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>packet</span><span class=o>.</span><span class=n>src_ip</span> <span class=o>=</span> <span class=n>packet</span><span class=o>.</span><span class=n>_int_to_ip</span><span class=p>(</span><span class=n>unpacked</span><span class=p>[</span><span class=mi>8</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=n>packet</span><span class=o>.</span><span class=n>dst_ip</span> <span class=o>=</span> <span class=n>packet</span><span class=o>.</span><span class=n>_int_to_ip</span><span class=p>(</span><span class=n>unpacked</span><span class=p>[</span><span class=mi>9</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>packet</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;IP(Src=</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>src_ip</span><span class=si>}</span><span class=s2>, Dst=</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>dst_ip</span><span class=si>}</span><span class=s2>, Proto=</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>protocol</span><span class=si>}</span><span class=s2>, TTL=</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>ttl</span><span class=si>}</span><span class=s2>)&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Step 4: Layer 2 (Ethernet Frame) 클래스 구현</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-41-1><a class=lnlinks href=#hl-41-1> 1</a>
</span><span class=lnt id=hl-41-2><a class=lnlinks href=#hl-41-2> 2</a>
</span><span class=lnt id=hl-41-3><a class=lnlinks href=#hl-41-3> 3</a>
</span><span class=lnt id=hl-41-4><a class=lnlinks href=#hl-41-4> 4</a>
</span><span class=lnt id=hl-41-5><a class=lnlinks href=#hl-41-5> 5</a>
</span><span class=lnt id=hl-41-6><a class=lnlinks href=#hl-41-6> 6</a>
</span><span class=lnt id=hl-41-7><a class=lnlinks href=#hl-41-7> 7</a>
</span><span class=lnt id=hl-41-8><a class=lnlinks href=#hl-41-8> 8</a>
</span><span class=lnt id=hl-41-9><a class=lnlinks href=#hl-41-9> 9</a>
</span><span class=lnt id=hl-41-10><a class=lnlinks href=#hl-41-10>10</a>
</span><span class=lnt id=hl-41-11><a class=lnlinks href=#hl-41-11>11</a>
</span><span class=lnt id=hl-41-12><a class=lnlinks href=#hl-41-12>12</a>
</span><span class=lnt id=hl-41-13><a class=lnlinks href=#hl-41-13>13</a>
</span><span class=lnt id=hl-41-14><a class=lnlinks href=#hl-41-14>14</a>
</span><span class=lnt id=hl-41-15><a class=lnlinks href=#hl-41-15>15</a>
</span><span class=lnt id=hl-41-16><a class=lnlinks href=#hl-41-16>16</a>
</span><span class=lnt id=hl-41-17><a class=lnlinks href=#hl-41-17>17</a>
</span><span class=lnt id=hl-41-18><a class=lnlinks href=#hl-41-18>18</a>
</span><span class=lnt id=hl-41-19><a class=lnlinks href=#hl-41-19>19</a>
</span><span class=lnt id=hl-41-20><a class=lnlinks href=#hl-41-20>20</a>
</span><span class=lnt id=hl-41-21><a class=lnlinks href=#hl-41-21>21</a>
</span><span class=lnt id=hl-41-22><a class=lnlinks href=#hl-41-22>22</a>
</span><span class=lnt id=hl-41-23><a class=lnlinks href=#hl-41-23>23</a>
</span><span class=lnt id=hl-41-24><a class=lnlinks href=#hl-41-24>24</a>
</span><span class=lnt id=hl-41-25><a class=lnlinks href=#hl-41-25>25</a>
</span><span class=lnt id=hl-41-26><a class=lnlinks href=#hl-41-26>26</a>
</span><span class=lnt id=hl-41-27><a class=lnlinks href=#hl-41-27>27</a>
</span><span class=lnt id=hl-41-28><a class=lnlinks href=#hl-41-28>28</a>
</span><span class=lnt id=hl-41-29><a class=lnlinks href=#hl-41-29>29</a>
</span><span class=lnt id=hl-41-30><a class=lnlinks href=#hl-41-30>30</a>
</span><span class=lnt id=hl-41-31><a class=lnlinks href=#hl-41-31>31</a>
</span><span class=lnt id=hl-41-32><a class=lnlinks href=#hl-41-32>32</a>
</span><span class=lnt id=hl-41-33><a class=lnlinks href=#hl-41-33>33</a>
</span><span class=lnt id=hl-41-34><a class=lnlinks href=#hl-41-34>34</a>
</span><span class=lnt id=hl-41-35><a class=lnlinks href=#hl-41-35>35</a>
</span><span class=lnt id=hl-41-36><a class=lnlinks href=#hl-41-36>36</a>
</span><span class=lnt id=hl-41-37><a class=lnlinks href=#hl-41-37>37</a>
</span><span class=lnt id=hl-41-38><a class=lnlinks href=#hl-41-38>38</a>
</span><span class=lnt id=hl-41-39><a class=lnlinks href=#hl-41-39>39</a>
</span><span class=lnt id=hl-41-40><a class=lnlinks href=#hl-41-40>40</a>
</span><span class=lnt id=hl-41-41><a class=lnlinks href=#hl-41-41>41</a>
</span><span class=lnt id=hl-41-42><a class=lnlinks href=#hl-41-42>42</a>
</span><span class=lnt id=hl-41-43><a class=lnlinks href=#hl-41-43>43</a>
</span><span class=lnt id=hl-41-44><a class=lnlinks href=#hl-41-44>44</a>
</span><span class=lnt id=hl-41-45><a class=lnlinks href=#hl-41-45>45</a>
</span><span class=lnt id=hl-41-46><a class=lnlinks href=#hl-41-46>46</a>
</span><span class=lnt id=hl-41-47><a class=lnlinks href=#hl-41-47>47</a>
</span><span class=lnt id=hl-41-48><a class=lnlinks href=#hl-41-48>48</a>
</span><span class=lnt id=hl-41-49><a class=lnlinks href=#hl-41-49>49</a>
</span><span class=lnt id=hl-41-50><a class=lnlinks href=#hl-41-50>50</a>
</span><span class=lnt id=hl-41-51><a class=lnlinks href=#hl-41-51>51</a>
</span><span class=lnt id=hl-41-52><a class=lnlinks href=#hl-41-52>52</a>
</span><span class=lnt id=hl-41-53><a class=lnlinks href=#hl-41-53>53</a>
</span><span class=lnt id=hl-41-54><a class=lnlinks href=#hl-41-54>54</a>
</span><span class=lnt id=hl-41-55><a class=lnlinks href=#hl-41-55>55</a>
</span><span class=lnt id=hl-41-56><a class=lnlinks href=#hl-41-56>56</a>
</span><span class=lnt id=hl-41-57><a class=lnlinks href=#hl-41-57>57</a>
</span><span class=lnt id=hl-41-58><a class=lnlinks href=#hl-41-58>58</a>
</span><span class=lnt id=hl-41-59><a class=lnlinks href=#hl-41-59>59</a>
</span><span class=lnt id=hl-41-60><a class=lnlinks href=#hl-41-60>60</a>
</span><span class=lnt id=hl-41-61><a class=lnlinks href=#hl-41-61>61</a>
</span><span class=lnt id=hl-41-62><a class=lnlinks href=#hl-41-62>62</a>
</span><span class=lnt id=hl-41-63><a class=lnlinks href=#hl-41-63>63</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>binascii</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>EthernetFrame</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Ethernet 프레임 (Layer 2)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>src_mac</span><span class=p>,</span> <span class=n>dst_mac</span><span class=p>,</span> <span class=n>payload</span><span class=p>,</span> <span class=n>ethertype</span><span class=o>=</span><span class=mh>0x0800</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>dst_mac</span> <span class=o>=</span> <span class=n>dst_mac</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>src_mac</span> <span class=o>=</span> <span class=n>src_mac</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>ethertype</span> <span class=o>=</span> <span class=n>ethertype</span>  <span class=c1># IPv4 = 0x0800</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>payload</span> <span class=o>=</span> <span class=n>payload</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_mac_to_bytes</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>mac_str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;MAC 주소 문자열을 바이트로 변환&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>bytes</span><span class=o>.</span><span class=n>fromhex</span><span class=p>(</span><span class=n>mac_str</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;:&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_bytes_to_mac</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>mac_bytes</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;바이트를 MAC 주소 문자열로 변환&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s1>&#39;:&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>b</span><span class=si>:</span><span class=s1>02x</span><span class=si>}</span><span class=s1>&#39;</span> <span class=k>for</span> <span class=n>b</span> <span class=ow>in</span> <span class=n>mac_bytes</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_calculate_fcs</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;FCS (CRC-32) 계산&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>binascii</span><span class=o>.</span><span class=n>crc32</span><span class=p>(</span><span class=n>data</span><span class=p>)</span> <span class=o>&amp;</span> <span class=mh>0xFFFFFFFF</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>encapsulate</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;Ethernet 헤더 + IP 패킷 + FCS를 바이너리로 직렬화&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>header</span> <span class=o>=</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_mac_to_bytes</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>dst_mac</span><span class=p>)</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_mac_to_bytes</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>src_mac</span><span class=p>)</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>            <span class=n>struct</span><span class=o>.</span><span class=n>pack</span><span class=p>(</span><span class=s1>&#39;!H&#39;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>ethertype</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>frame_data</span> <span class=o>=</span> <span class=n>header</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>payload</span>
</span></span><span class=line><span class=cl>        <span class=n>fcs</span> <span class=o>=</span> <span class=n>struct</span><span class=o>.</span><span class=n>pack</span><span class=p>(</span><span class=s1>&#39;!I&#39;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>_calculate_fcs</span><span class=p>(</span><span class=n>frame_data</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>frame_data</span> <span class=o>+</span> <span class=n>fcs</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@classmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>decapsulate</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>binary_data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;바이너리 데이터에서 Ethernet 프레임 복원&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>dst_mac</span> <span class=o>=</span> <span class=n>binary_data</span><span class=p>[:</span><span class=mi>6</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>src_mac</span> <span class=o>=</span> <span class=n>binary_data</span><span class=p>[</span><span class=mi>6</span><span class=p>:</span><span class=mi>12</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>ethertype</span> <span class=o>=</span> <span class=n>struct</span><span class=o>.</span><span class=n>unpack</span><span class=p>(</span><span class=s1>&#39;!H&#39;</span><span class=p>,</span> <span class=n>binary_data</span><span class=p>[</span><span class=mi>12</span><span class=p>:</span><span class=mi>14</span><span class=p>])[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>payload</span> <span class=o>=</span> <span class=n>binary_data</span><span class=p>[</span><span class=mi>14</span><span class=p>:</span><span class=o>-</span><span class=mi>4</span><span class=p>]</span>  <span class=c1># FCS 제외</span>
</span></span><span class=line><span class=cl>        <span class=n>fcs</span> <span class=o>=</span> <span class=n>binary_data</span><span class=p>[</span><span class=o>-</span><span class=mi>4</span><span class=p>:]</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>frame</span> <span class=o>=</span> <span class=bp>cls</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>src_mac</span><span class=o>=</span><span class=s2>&#34;00:00:00:00:00:00&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>dst_mac</span><span class=o>=</span><span class=s2>&#34;00:00:00:00:00:00&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>payload</span><span class=o>=</span><span class=n>payload</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>ethertype</span><span class=o>=</span><span class=n>ethertype</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>frame</span><span class=o>.</span><span class=n>src_mac</span> <span class=o>=</span> <span class=n>frame</span><span class=o>.</span><span class=n>_bytes_to_mac</span><span class=p>(</span><span class=n>src_mac</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>frame</span><span class=o>.</span><span class=n>dst_mac</span> <span class=o>=</span> <span class=n>frame</span><span class=o>.</span><span class=n>_bytes_to_mac</span><span class=p>(</span><span class=n>dst_mac</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># FCS 검증 (실제로는 검증 수행)</span>
</span></span><span class=line><span class=cl>        <span class=n>calculated_fcs</span> <span class=o>=</span> <span class=n>frame</span><span class=o>.</span><span class=n>_calculate_fcs</span><span class=p>(</span><span class=n>binary_data</span><span class=p>[:</span><span class=o>-</span><span class=mi>4</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=n>received_fcs</span> <span class=o>=</span> <span class=n>struct</span><span class=o>.</span><span class=n>unpack</span><span class=p>(</span><span class=s1>&#39;!I&#39;</span><span class=p>,</span> <span class=n>fcs</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>calculated_fcs</span> <span class=o>!=</span> <span class=n>received_fcs</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;경고: FCS 불일치! 계산=</span><span class=si>{</span><span class=n>calculated_fcs</span><span class=si>:</span><span class=s2>08x</span><span class=si>}</span><span class=s2>, 수신=</span><span class=si>{</span><span class=n>received_fcs</span><span class=si>:</span><span class=s2>08x</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>frame</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;Ethernet(Src=</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>src_mac</span><span class=si>}</span><span class=s2>, Dst=</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>dst_mac</span><span class=si>}</span><span class=s2>, Type=0x</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>ethertype</span><span class=si>:</span><span class=s2>04x</span><span class=si>}</span><span class=s2>)&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Step 5: 프로토콜 스택 사용 예제</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-42-1><a class=lnlinks href=#hl-42-1>  1</a>
</span><span class=lnt id=hl-42-2><a class=lnlinks href=#hl-42-2>  2</a>
</span><span class=lnt id=hl-42-3><a class=lnlinks href=#hl-42-3>  3</a>
</span><span class=lnt id=hl-42-4><a class=lnlinks href=#hl-42-4>  4</a>
</span><span class=lnt id=hl-42-5><a class=lnlinks href=#hl-42-5>  5</a>
</span><span class=lnt id=hl-42-6><a class=lnlinks href=#hl-42-6>  6</a>
</span><span class=lnt id=hl-42-7><a class=lnlinks href=#hl-42-7>  7</a>
</span><span class=lnt id=hl-42-8><a class=lnlinks href=#hl-42-8>  8</a>
</span><span class=lnt id=hl-42-9><a class=lnlinks href=#hl-42-9>  9</a>
</span><span class=lnt id=hl-42-10><a class=lnlinks href=#hl-42-10> 10</a>
</span><span class=lnt id=hl-42-11><a class=lnlinks href=#hl-42-11> 11</a>
</span><span class=lnt id=hl-42-12><a class=lnlinks href=#hl-42-12> 12</a>
</span><span class=lnt id=hl-42-13><a class=lnlinks href=#hl-42-13> 13</a>
</span><span class=lnt id=hl-42-14><a class=lnlinks href=#hl-42-14> 14</a>
</span><span class=lnt id=hl-42-15><a class=lnlinks href=#hl-42-15> 15</a>
</span><span class=lnt id=hl-42-16><a class=lnlinks href=#hl-42-16> 16</a>
</span><span class=lnt id=hl-42-17><a class=lnlinks href=#hl-42-17> 17</a>
</span><span class=lnt id=hl-42-18><a class=lnlinks href=#hl-42-18> 18</a>
</span><span class=lnt id=hl-42-19><a class=lnlinks href=#hl-42-19> 19</a>
</span><span class=lnt id=hl-42-20><a class=lnlinks href=#hl-42-20> 20</a>
</span><span class=lnt id=hl-42-21><a class=lnlinks href=#hl-42-21> 21</a>
</span><span class=lnt id=hl-42-22><a class=lnlinks href=#hl-42-22> 22</a>
</span><span class=lnt id=hl-42-23><a class=lnlinks href=#hl-42-23> 23</a>
</span><span class=lnt id=hl-42-24><a class=lnlinks href=#hl-42-24> 24</a>
</span><span class=lnt id=hl-42-25><a class=lnlinks href=#hl-42-25> 25</a>
</span><span class=lnt id=hl-42-26><a class=lnlinks href=#hl-42-26> 26</a>
</span><span class=lnt id=hl-42-27><a class=lnlinks href=#hl-42-27> 27</a>
</span><span class=lnt id=hl-42-28><a class=lnlinks href=#hl-42-28> 28</a>
</span><span class=lnt id=hl-42-29><a class=lnlinks href=#hl-42-29> 29</a>
</span><span class=lnt id=hl-42-30><a class=lnlinks href=#hl-42-30> 30</a>
</span><span class=lnt id=hl-42-31><a class=lnlinks href=#hl-42-31> 31</a>
</span><span class=lnt id=hl-42-32><a class=lnlinks href=#hl-42-32> 32</a>
</span><span class=lnt id=hl-42-33><a class=lnlinks href=#hl-42-33> 33</a>
</span><span class=lnt id=hl-42-34><a class=lnlinks href=#hl-42-34> 34</a>
</span><span class=lnt id=hl-42-35><a class=lnlinks href=#hl-42-35> 35</a>
</span><span class=lnt id=hl-42-36><a class=lnlinks href=#hl-42-36> 36</a>
</span><span class=lnt id=hl-42-37><a class=lnlinks href=#hl-42-37> 37</a>
</span><span class=lnt id=hl-42-38><a class=lnlinks href=#hl-42-38> 38</a>
</span><span class=lnt id=hl-42-39><a class=lnlinks href=#hl-42-39> 39</a>
</span><span class=lnt id=hl-42-40><a class=lnlinks href=#hl-42-40> 40</a>
</span><span class=lnt id=hl-42-41><a class=lnlinks href=#hl-42-41> 41</a>
</span><span class=lnt id=hl-42-42><a class=lnlinks href=#hl-42-42> 42</a>
</span><span class=lnt id=hl-42-43><a class=lnlinks href=#hl-42-43> 43</a>
</span><span class=lnt id=hl-42-44><a class=lnlinks href=#hl-42-44> 44</a>
</span><span class=lnt id=hl-42-45><a class=lnlinks href=#hl-42-45> 45</a>
</span><span class=lnt id=hl-42-46><a class=lnlinks href=#hl-42-46> 46</a>
</span><span class=lnt id=hl-42-47><a class=lnlinks href=#hl-42-47> 47</a>
</span><span class=lnt id=hl-42-48><a class=lnlinks href=#hl-42-48> 48</a>
</span><span class=lnt id=hl-42-49><a class=lnlinks href=#hl-42-49> 49</a>
</span><span class=lnt id=hl-42-50><a class=lnlinks href=#hl-42-50> 50</a>
</span><span class=lnt id=hl-42-51><a class=lnlinks href=#hl-42-51> 51</a>
</span><span class=lnt id=hl-42-52><a class=lnlinks href=#hl-42-52> 52</a>
</span><span class=lnt id=hl-42-53><a class=lnlinks href=#hl-42-53> 53</a>
</span><span class=lnt id=hl-42-54><a class=lnlinks href=#hl-42-54> 54</a>
</span><span class=lnt id=hl-42-55><a class=lnlinks href=#hl-42-55> 55</a>
</span><span class=lnt id=hl-42-56><a class=lnlinks href=#hl-42-56> 56</a>
</span><span class=lnt id=hl-42-57><a class=lnlinks href=#hl-42-57> 57</a>
</span><span class=lnt id=hl-42-58><a class=lnlinks href=#hl-42-58> 58</a>
</span><span class=lnt id=hl-42-59><a class=lnlinks href=#hl-42-59> 59</a>
</span><span class=lnt id=hl-42-60><a class=lnlinks href=#hl-42-60> 60</a>
</span><span class=lnt id=hl-42-61><a class=lnlinks href=#hl-42-61> 61</a>
</span><span class=lnt id=hl-42-62><a class=lnlinks href=#hl-42-62> 62</a>
</span><span class=lnt id=hl-42-63><a class=lnlinks href=#hl-42-63> 63</a>
</span><span class=lnt id=hl-42-64><a class=lnlinks href=#hl-42-64> 64</a>
</span><span class=lnt id=hl-42-65><a class=lnlinks href=#hl-42-65> 65</a>
</span><span class=lnt id=hl-42-66><a class=lnlinks href=#hl-42-66> 66</a>
</span><span class=lnt id=hl-42-67><a class=lnlinks href=#hl-42-67> 67</a>
</span><span class=lnt id=hl-42-68><a class=lnlinks href=#hl-42-68> 68</a>
</span><span class=lnt id=hl-42-69><a class=lnlinks href=#hl-42-69> 69</a>
</span><span class=lnt id=hl-42-70><a class=lnlinks href=#hl-42-70> 70</a>
</span><span class=lnt id=hl-42-71><a class=lnlinks href=#hl-42-71> 71</a>
</span><span class=lnt id=hl-42-72><a class=lnlinks href=#hl-42-72> 72</a>
</span><span class=lnt id=hl-42-73><a class=lnlinks href=#hl-42-73> 73</a>
</span><span class=lnt id=hl-42-74><a class=lnlinks href=#hl-42-74> 74</a>
</span><span class=lnt id=hl-42-75><a class=lnlinks href=#hl-42-75> 75</a>
</span><span class=lnt id=hl-42-76><a class=lnlinks href=#hl-42-76> 76</a>
</span><span class=lnt id=hl-42-77><a class=lnlinks href=#hl-42-77> 77</a>
</span><span class=lnt id=hl-42-78><a class=lnlinks href=#hl-42-78> 78</a>
</span><span class=lnt id=hl-42-79><a class=lnlinks href=#hl-42-79> 79</a>
</span><span class=lnt id=hl-42-80><a class=lnlinks href=#hl-42-80> 80</a>
</span><span class=lnt id=hl-42-81><a class=lnlinks href=#hl-42-81> 81</a>
</span><span class=lnt id=hl-42-82><a class=lnlinks href=#hl-42-82> 82</a>
</span><span class=lnt id=hl-42-83><a class=lnlinks href=#hl-42-83> 83</a>
</span><span class=lnt id=hl-42-84><a class=lnlinks href=#hl-42-84> 84</a>
</span><span class=lnt id=hl-42-85><a class=lnlinks href=#hl-42-85> 85</a>
</span><span class=lnt id=hl-42-86><a class=lnlinks href=#hl-42-86> 86</a>
</span><span class=lnt id=hl-42-87><a class=lnlinks href=#hl-42-87> 87</a>
</span><span class=lnt id=hl-42-88><a class=lnlinks href=#hl-42-88> 88</a>
</span><span class=lnt id=hl-42-89><a class=lnlinks href=#hl-42-89> 89</a>
</span><span class=lnt id=hl-42-90><a class=lnlinks href=#hl-42-90> 90</a>
</span><span class=lnt id=hl-42-91><a class=lnlinks href=#hl-42-91> 91</a>
</span><span class=lnt id=hl-42-92><a class=lnlinks href=#hl-42-92> 92</a>
</span><span class=lnt id=hl-42-93><a class=lnlinks href=#hl-42-93> 93</a>
</span><span class=lnt id=hl-42-94><a class=lnlinks href=#hl-42-94> 94</a>
</span><span class=lnt id=hl-42-95><a class=lnlinks href=#hl-42-95> 95</a>
</span><span class=lnt id=hl-42-96><a class=lnlinks href=#hl-42-96> 96</a>
</span><span class=lnt id=hl-42-97><a class=lnlinks href=#hl-42-97> 97</a>
</span><span class=lnt id=hl-42-98><a class=lnlinks href=#hl-42-98> 98</a>
</span><span class=lnt id=hl-42-99><a class=lnlinks href=#hl-42-99> 99</a>
</span><span class=lnt id=hl-42-100><a class=lnlinks href=#hl-42-100>100</a>
</span><span class=lnt id=hl-42-101><a class=lnlinks href=#hl-42-101>101</a>
</span><span class=lnt id=hl-42-102><a class=lnlinks href=#hl-42-102>102</a>
</span><span class=lnt id=hl-42-103><a class=lnlinks href=#hl-42-103>103</a>
</span><span class=lnt id=hl-42-104><a class=lnlinks href=#hl-42-104>104</a>
</span><span class=lnt id=hl-42-105><a class=lnlinks href=#hl-42-105>105</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;=&#34;</span> <span class=o>*</span> <span class=mi>60</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;OSI 프로토콜 스택 시뮬레이션&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;=&#34;</span> <span class=o>*</span> <span class=mi>60</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 송신자</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>[송신자] Encapsulation 시작&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;-&#34;</span> <span class=o>*</span> <span class=mi>60</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Layer 7: Application Data</span>
</span></span><span class=line><span class=cl>    <span class=n>message</span> <span class=o>=</span> <span class=s2>&#34;Hello, OSI Model!&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;L7 Application: 메시지 = &#39;</span><span class=si>{</span><span class=n>message</span><span class=si>}</span><span class=s2>&#39;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Layer 4: TCP Segment</span>
</span></span><span class=line><span class=cl>    <span class=n>tcp_segment</span> <span class=o>=</span> <span class=n>TCPSegment</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>src_port</span><span class=o>=</span><span class=mi>50234</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>dst_port</span><span class=o>=</span><span class=mi>80</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>data</span><span class=o>=</span><span class=n>message</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>tcp_data</span> <span class=o>=</span> <span class=n>tcp_segment</span><span class=o>.</span><span class=n>encapsulate</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;L4 Transport: </span><span class=si>{</span><span class=n>tcp_segment</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;   TCP 세그먼트 크기 = </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>tcp_data</span><span class=p>)</span><span class=si>}</span><span class=s2> bytes&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Layer 3: IP Packet</span>
</span></span><span class=line><span class=cl>    <span class=n>ip_packet</span> <span class=o>=</span> <span class=n>IPPacket</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>src_ip</span><span class=o>=</span><span class=s2>&#34;192.168.1.100&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>dst_ip</span><span class=o>=</span><span class=s2>&#34;203.0.113.50&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>payload</span><span class=o>=</span><span class=n>tcp_data</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>ip_data</span> <span class=o>=</span> <span class=n>ip_packet</span><span class=o>.</span><span class=n>encapsulate</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;L3 Network: </span><span class=si>{</span><span class=n>ip_packet</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;   IP 패킷 크기 = </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>ip_data</span><span class=p>)</span><span class=si>}</span><span class=s2> bytes&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Layer 2: Ethernet Frame</span>
</span></span><span class=line><span class=cl>    <span class=n>ethernet_frame</span> <span class=o>=</span> <span class=n>EthernetFrame</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>src_mac</span><span class=o>=</span><span class=s2>&#34;00:11:22:33:44:55&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>dst_mac</span><span class=o>=</span><span class=s2>&#34;aa:bb:cc:dd:ee:ff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>payload</span><span class=o>=</span><span class=n>ip_data</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>frame_data</span> <span class=o>=</span> <span class=n>ethernet_frame</span><span class=o>.</span><span class=n>encapsulate</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;L2 Data Link: </span><span class=si>{</span><span class=n>ethernet_frame</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;   Ethernet 프레임 크기 = </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>frame_data</span><span class=p>)</span><span class=si>}</span><span class=s2> bytes&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Layer 1: Physical (비트 스트림으로 변환)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;L1 Physical: 비트 스트림으로 변환 중...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>bit_stream</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>byte</span><span class=si>:</span><span class=s1>08b</span><span class=si>}</span><span class=s1>&#39;</span> <span class=k>for</span> <span class=n>byte</span> <span class=ow>in</span> <span class=n>frame_data</span><span class=p>[:</span><span class=mi>20</span><span class=p>])</span>  <span class=c1># 처음 20바이트만 표시</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;   비트 스트림 (처음 160 bits): </span><span class=si>{</span><span class=n>bit_stream</span><span class=si>}</span><span class=s2>...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 수신자</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span> <span class=o>+</span> <span class=s2>&#34;=&#34;</span> <span class=o>*</span> <span class=mi>60</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;[수신자] Decapsulation 시작&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;-&#34;</span> <span class=o>*</span> <span class=mi>60</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Layer 1: Physical</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;L1 Physical: 비트 스트림 수신, 프레임으로 변환 중...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Layer 2: Ethernet Frame</span>
</span></span><span class=line><span class=cl>    <span class=n>received_ethernet</span> <span class=o>=</span> <span class=n>EthernetFrame</span><span class=o>.</span><span class=n>decapsulate</span><span class=p>(</span><span class=n>frame_data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;L2 Data Link: </span><span class=si>{</span><span class=n>received_ethernet</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;   FCS 검증 완료&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Layer 3: IP Packet</span>
</span></span><span class=line><span class=cl>    <span class=n>received_ip</span> <span class=o>=</span> <span class=n>IPPacket</span><span class=o>.</span><span class=n>decapsulate</span><span class=p>(</span><span class=n>received_ethernet</span><span class=o>.</span><span class=n>payload</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;L3 Network: </span><span class=si>{</span><span class=n>received_ip</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;   TTL 확인, 라우팅 완료&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Layer 4: TCP Segment</span>
</span></span><span class=line><span class=cl>    <span class=n>received_tcp</span> <span class=o>=</span> <span class=n>TCPSegment</span><span class=o>.</span><span class=n>decapsulate</span><span class=p>(</span><span class=n>received_ip</span><span class=o>.</span><span class=n>payload</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;L4 Transport: </span><span class=si>{</span><span class=n>received_tcp</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;   순서 번호 확인, ACK 전송 준비&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Layer 7: Application</span>
</span></span><span class=line><span class=cl>    <span class=n>received_message</span> <span class=o>=</span> <span class=n>received_tcp</span><span class=o>.</span><span class=n>data</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;L7 Application: 수신 메시지 = &#39;</span><span class=si>{</span><span class=n>received_message</span><span class=si>}</span><span class=s2>&#39;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 검증</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span> <span class=o>+</span> <span class=s2>&#34;=&#34;</span> <span class=o>*</span> <span class=mi>60</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;전송 검증&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;-&#34;</span> <span class=o>*</span> <span class=mi>60</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;송신 메시지: &#39;</span><span class=si>{</span><span class=n>message</span><span class=si>}</span><span class=s2>&#39;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;수신 메시지: &#39;</span><span class=si>{</span><span class=n>received_message</span><span class=si>}</span><span class=s2>&#39;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;전송 성공: </span><span class=si>{</span><span class=n>message</span> <span class=o>==</span> <span class=n>received_message</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 오버헤드 계산</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span> <span class=o>+</span> <span class=s2>&#34;=&#34;</span> <span class=o>*</span> <span class=mi>60</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;오버헤드 분석&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;-&#34;</span> <span class=o>*</span> <span class=mi>60</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>payload_size</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>message</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>tcp_header_size</span> <span class=o>=</span> <span class=mi>20</span>
</span></span><span class=line><span class=cl>    <span class=n>ip_header_size</span> <span class=o>=</span> <span class=mi>20</span>
</span></span><span class=line><span class=cl>    <span class=n>ethernet_header_size</span> <span class=o>=</span> <span class=mi>14</span>
</span></span><span class=line><span class=cl>    <span class=n>fcs_size</span> <span class=o>=</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl>    <span class=n>total_overhead</span> <span class=o>=</span> <span class=n>tcp_header_size</span> <span class=o>+</span> <span class=n>ip_header_size</span> <span class=o>+</span> <span class=n>ethernet_header_size</span> <span class=o>+</span> <span class=n>fcs_size</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;실제 페이로드: </span><span class=si>{</span><span class=n>payload_size</span><span class=si>}</span><span class=s2> bytes&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;TCP 헤더: </span><span class=si>{</span><span class=n>tcp_header_size</span><span class=si>}</span><span class=s2> bytes&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;IP 헤더: </span><span class=si>{</span><span class=n>ip_header_size</span><span class=si>}</span><span class=s2> bytes&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Ethernet 헤더: </span><span class=si>{</span><span class=n>ethernet_header_size</span><span class=si>}</span><span class=s2> bytes&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;FCS: </span><span class=si>{</span><span class=n>fcs_size</span><span class=si>}</span><span class=s2> bytes&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;총 오버헤드: </span><span class=si>{</span><span class=n>total_overhead</span><span class=si>}</span><span class=s2> bytes&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;전체 프레임 크기: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>frame_data</span><span class=p>)</span><span class=si>}</span><span class=s2> bytes&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;오버헤드 비율: </span><span class=si>{</span><span class=n>total_overhead</span> <span class=o>/</span> <span class=nb>len</span><span class=p>(</span><span class=n>frame_data</span><span class=p>)</span> <span class=o>*</span> <span class=mi>100</span><span class=si>:</span><span class=s2>.1f</span><span class=si>}</span><span class=s2>%&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Step 6: 프로그램 실행</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-43-1><a class=lnlinks href=#hl-43-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>python protocol_stack.py
</span></span></code></pre></td></tr></table></div></div><p><strong>예상 출력:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-44-1><a class=lnlinks href=#hl-44-1> 1</a>
</span><span class=lnt id=hl-44-2><a class=lnlinks href=#hl-44-2> 2</a>
</span><span class=lnt id=hl-44-3><a class=lnlinks href=#hl-44-3> 3</a>
</span><span class=lnt id=hl-44-4><a class=lnlinks href=#hl-44-4> 4</a>
</span><span class=lnt id=hl-44-5><a class=lnlinks href=#hl-44-5> 5</a>
</span><span class=lnt id=hl-44-6><a class=lnlinks href=#hl-44-6> 6</a>
</span><span class=lnt id=hl-44-7><a class=lnlinks href=#hl-44-7> 7</a>
</span><span class=lnt id=hl-44-8><a class=lnlinks href=#hl-44-8> 8</a>
</span><span class=lnt id=hl-44-9><a class=lnlinks href=#hl-44-9> 9</a>
</span><span class=lnt id=hl-44-10><a class=lnlinks href=#hl-44-10>10</a>
</span><span class=lnt id=hl-44-11><a class=lnlinks href=#hl-44-11>11</a>
</span><span class=lnt id=hl-44-12><a class=lnlinks href=#hl-44-12>12</a>
</span><span class=lnt id=hl-44-13><a class=lnlinks href=#hl-44-13>13</a>
</span><span class=lnt id=hl-44-14><a class=lnlinks href=#hl-44-14>14</a>
</span><span class=lnt id=hl-44-15><a class=lnlinks href=#hl-44-15>15</a>
</span><span class=lnt id=hl-44-16><a class=lnlinks href=#hl-44-16>16</a>
</span><span class=lnt id=hl-44-17><a class=lnlinks href=#hl-44-17>17</a>
</span><span class=lnt id=hl-44-18><a class=lnlinks href=#hl-44-18>18</a>
</span><span class=lnt id=hl-44-19><a class=lnlinks href=#hl-44-19>19</a>
</span><span class=lnt id=hl-44-20><a class=lnlinks href=#hl-44-20>20</a>
</span><span class=lnt id=hl-44-21><a class=lnlinks href=#hl-44-21>21</a>
</span><span class=lnt id=hl-44-22><a class=lnlinks href=#hl-44-22>22</a>
</span><span class=lnt id=hl-44-23><a class=lnlinks href=#hl-44-23>23</a>
</span><span class=lnt id=hl-44-24><a class=lnlinks href=#hl-44-24>24</a>
</span><span class=lnt id=hl-44-25><a class=lnlinks href=#hl-44-25>25</a>
</span><span class=lnt id=hl-44-26><a class=lnlinks href=#hl-44-26>26</a>
</span><span class=lnt id=hl-44-27><a class=lnlinks href=#hl-44-27>27</a>
</span><span class=lnt id=hl-44-28><a class=lnlinks href=#hl-44-28>28</a>
</span><span class=lnt id=hl-44-29><a class=lnlinks href=#hl-44-29>29</a>
</span><span class=lnt id=hl-44-30><a class=lnlinks href=#hl-44-30>30</a>
</span><span class=lnt id=hl-44-31><a class=lnlinks href=#hl-44-31>31</a>
</span><span class=lnt id=hl-44-32><a class=lnlinks href=#hl-44-32>32</a>
</span><span class=lnt id=hl-44-33><a class=lnlinks href=#hl-44-33>33</a>
</span><span class=lnt id=hl-44-34><a class=lnlinks href=#hl-44-34>34</a>
</span><span class=lnt id=hl-44-35><a class=lnlinks href=#hl-44-35>35</a>
</span><span class=lnt id=hl-44-36><a class=lnlinks href=#hl-44-36>36</a>
</span><span class=lnt id=hl-44-37><a class=lnlinks href=#hl-44-37>37</a>
</span><span class=lnt id=hl-44-38><a class=lnlinks href=#hl-44-38>38</a>
</span><span class=lnt id=hl-44-39><a class=lnlinks href=#hl-44-39>39</a>
</span><span class=lnt id=hl-44-40><a class=lnlinks href=#hl-44-40>40</a>
</span><span class=lnt id=hl-44-41><a class=lnlinks href=#hl-44-41>41</a>
</span><span class=lnt id=hl-44-42><a class=lnlinks href=#hl-44-42>42</a>
</span><span class=lnt id=hl-44-43><a class=lnlinks href=#hl-44-43>43</a>
</span><span class=lnt id=hl-44-44><a class=lnlinks href=#hl-44-44>44</a>
</span><span class=lnt id=hl-44-45><a class=lnlinks href=#hl-44-45>45</a>
</span><span class=lnt id=hl-44-46><a class=lnlinks href=#hl-44-46>46</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>============================================================
</span></span><span class=line><span class=cl>OSI 프로토콜 스택 시뮬레이션
</span></span><span class=line><span class=cl>============================================================
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[송신자] Encapsulation 시작
</span></span><span class=line><span class=cl>------------------------------------------------------------
</span></span><span class=line><span class=cl>L7 Application: 메시지 = &#39;Hello, OSI Model!&#39;
</span></span><span class=line><span class=cl>L4 Transport: TCP(SrcPort=50234, DstPort=80, Seq=3847, Flags=0x18)
</span></span><span class=line><span class=cl>   TCP 세그먼트 크기 = 37 bytes
</span></span><span class=line><span class=cl>L3 Network: IP(Src=192.168.1.100, Dst=203.0.113.50, Proto=6, TTL=64)
</span></span><span class=line><span class=cl>   IP 패킷 크기 = 57 bytes
</span></span><span class=line><span class=cl>L2 Data Link: Ethernet(Src=00:11:22:33:44:55, Dst=aa:bb:cc:dd:ee:ff, Type=0x0800)
</span></span><span class=line><span class=cl>   Ethernet 프레임 크기 = 75 bytes
</span></span><span class=line><span class=cl>L1 Physical: 비트 스트림으로 변환 중...
</span></span><span class=line><span class=cl>   비트 스트림 (처음 160 bits): 1010101010111011110011001100110111011101111011111110111111110000010000010001001000110011010001...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>============================================================
</span></span><span class=line><span class=cl>[수신자] Decapsulation 시작
</span></span><span class=line><span class=cl>------------------------------------------------------------
</span></span><span class=line><span class=cl>L1 Physical: 비트 스트림 수신, 프레임으로 변환 중...
</span></span><span class=line><span class=cl>L2 Data Link: Ethernet(Src=00:11:22:33:44:55, Dst=aa:bb:cc:dd:ee:ff, Type=0x0800)
</span></span><span class=line><span class=cl>   FCS 검증 완료
</span></span><span class=line><span class=cl>L3 Network: IP(Src=192.168.1.100, Dst=203.0.113.50, Proto=6, TTL=64)
</span></span><span class=line><span class=cl>   TTL 확인, 라우팅 완료
</span></span><span class=line><span class=cl>L4 Transport: TCP(SrcPort=50234, DstPort=80, Seq=3847, Flags=0x18)
</span></span><span class=line><span class=cl>   순서 번호 확인, ACK 전송 준비
</span></span><span class=line><span class=cl>L7 Application: 수신 메시지 = &#39;Hello, OSI Model!&#39;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>============================================================
</span></span><span class=line><span class=cl>전송 검증
</span></span><span class=line><span class=cl>------------------------------------------------------------
</span></span><span class=line><span class=cl>송신 메시지: &#39;Hello, OSI Model!&#39;
</span></span><span class=line><span class=cl>수신 메시지: &#39;Hello, OSI Model!&#39;
</span></span><span class=line><span class=cl>전송 성공: True
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>============================================================
</span></span><span class=line><span class=cl>오버헤드 분석
</span></span><span class=line><span class=cl>------------------------------------------------------------
</span></span><span class=line><span class=cl>실제 페이로드: 17 bytes
</span></span><span class=line><span class=cl>TCP 헤더: 20 bytes
</span></span><span class=line><span class=cl>IP 헤더: 20 bytes
</span></span><span class=line><span class=cl>Ethernet 헤더: 14 bytes
</span></span><span class=line><span class=cl>FCS: 4 bytes
</span></span><span class=line><span class=cl>총 오버헤드: 58 bytes
</span></span><span class=line><span class=cl>전체 프레임 크기: 75 bytes
</span></span><span class=line><span class=cl>오버헤드 비율: 77.3%
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=final-summary-fs-1>Final Summary (FS)<a hidden class=anchor aria-hidden=true href=#final-summary-fs-1>#</a></h2><p>OSI 7계층 모델은 ISO/IEC 7498-1 표준으로 정의된 네트워크 통신의 개념적 참조 프레임워크입니다. 물리 계층부터 응용 계층까지 7개의 독립적 계층으로 구성되며, 각 계층은 명확한 기능과 책임을 가집니다. S1에서는 OSI 모델의 탄생 배경, 7개 계층의 핵심 기능, 데이터 통신의 기본 흐름을 학습했습니다. S2에서는 분산 시스템 관점에서 CAP 정리, 합의 알고리즘, 복제 전략, 일관성 모델, 네트워크 프로토콜을 다루었습니다. S3에서는 Encapsulation/Decapsulation 메커니즘, 각 계층별 PDU 구조, TCP/IP 모델과의 매핑, ISO/IEC 7498-1 표준 명세, 계층 독립성 원칙을 심화 학습했습니다. SW에서는 네트워크 트러블슈팅, Wireshark 패킷 분석, 프로토콜 스택 구현을 통해 이론을 실습했습니다. OSI 모델은 비록 TCP/IP가 실제 인터넷 표준이지만, 네트워크 교육, 문제 해결, 프로토콜 설계의 보편적 언어로 여전히 널리 활용되고 있습니다.</p><hr><h2 id=learning-guide-lg-1>Learning Guide (LG)<a hidden class=anchor aria-hidden=true href=#learning-guide-lg-1>#</a></h2><h3 id=권장-학습-순서>권장 학습 순서<a hidden class=anchor aria-hidden=true href=#권장-학습-순서>#</a></h3><p><strong>1단계: S1 (Beginner) - 토픽 필수 기초 (2-3시간)</strong></p><ul><li>S1.1부터 순서대로 학습하여 OSI 모델의 탄생 배경과 7개 계층의 기본 개념을 이해합니다.</li><li>각 계층의 역할과 대표 프로토콜을 암기하기보다는, 왜 계층을 분리했는지 이해에 집중하세요.</li><li>&ldquo;Hello World&rdquo; 예제를 통해 데이터가 실제로 어떻게 흐르는지 시각화합니다.</li></ul><p><strong>2단계: S2 (Intermediate) - 분산 시스템 관점 (4-5시간)</strong></p><ul><li>S2.1-S2.5를 순서대로 학습하여 OSI 모델이 분산 시스템에서 어떻게 활용되는지 이해합니다.</li><li>CAP 정리와 일관성 모델은 복제 전략, 합의 알고리즘과 함께 학습하면 상호 연관성을 파악할 수 있습니다.</li><li>각 계층의 프로토콜이 어떤 네트워크 문제를 해결하는지에 초점을 맞추세요.</li></ul><p><strong>3단계: SW.1 (Hands-on) - 트러블슈팅 실습 (1-2시간)</strong></p><ul><li>이론 학습 후 즉시 실습하여 OSI 계층별로 문제를 진단하는 능력을 키웁니다.</li><li>Bottom-up 접근 방식을 실제로 적용해보며 각 계층의 도구와 명령어에 익숙해집니다.</li></ul><p><strong>4단계: S3 (Advanced) - 심화 지식 (5-6시간)</strong></p><ul><li>S3.1-S3.5를 학습하여 Encapsulation, PDU 구조, TCP/IP 매핑, 표준 명세, 계층 독립성을 깊이 있게 이해합니다.</li><li>S3.2(PDU 구조)와 SW.2(Wireshark)를 함께 학습하면 이론과 실습의 연결이 명확해집니다.</li></ul><p><strong>5단계: SW.2 (Hands-on) - 패킷 분석 실습 (2-3시간)</strong></p><ul><li>Wireshark로 실제 네트워크 트래픽을 분석하며 S3에서 학습한 PDU 구조를 확인합니다.</li><li>각 계층의 헤더 필드를 직접 관찰하며 Encapsulation 과정을 체감합니다.</li></ul><p><strong>6단계: SW.3 (Hands-on) - 프로토콜 스택 구현 (3-4시간)</strong></p><ul><li>Python으로 직접 프로토콜 스택을 구현하며 OSI 모델의 핵심 개념을 체득합니다.</li><li>코드를 수정하거나 확장하여 다른 프로토콜(UDP, IPv6 등)을 추가해보세요.</li></ul><h3 id=학습-팁>학습 팁<a hidden class=anchor aria-hidden=true href=#학습-팁>#</a></h3><ul><li><strong>시각화</strong>: Mermaid 다이어그램을 직접 그려보며 계층 간 관계를 이해하세요.</li><li><strong>비교 학습</strong>: OSI와 TCP/IP 모델을 항상 비교하며 학습하면 두 모델의 차이를 명확히 알 수 있습니다.</li><li><strong>실습 우선</strong>: 이론을 학습한 후 반드시 실습(SW)을 수행하여 개념을 확고히 하세요.</li><li><strong>반복 학습</strong>: Terminology 섹션을 자주 참조하여 용어를 정확히 이해하세요.</li></ul><h3 id=추가-학습-자료>추가 학습 자료<a hidden class=anchor aria-hidden=true href=#추가-학습-자료>#</a></h3><ul><li>References 섹션의 공식 표준(ISO/IEC 7498-1, RFC 문서)을 참조하세요.</li><li>Wireshark 공식 문서와 튜토리얼로 패킷 분석 능력을 향상시키세요.</li><li>TCP/IP Illustrated (W. Richard Stevens) 서적으로 프로토콜 스택을 깊이 있게 학습하세요.</li></ul><hr><h2 id=terminology-term-1>Terminology (TERM)<a hidden class=anchor aria-hidden=true href=#terminology-term-1>#</a></h2><table><thead><tr><th style=text-align:left>용어(EN, 약어)</th><th style=text-align:left>한글</th><th style=text-align:left>정의</th><th style=text-align:left>역할/맥락</th><th style=text-align:left>관련 개념</th><th style=text-align:left>실무 연관성</th><th style=text-align:left>근거(RF#)</th></tr></thead><tbody><tr><td style=text-align:left>OSI Model</td><td style=text-align:left>OSI 모델</td><td style=text-align:left>네트워크 통신을 7개 계층으로 분리한 개념적 참조 프레임워크</td><td style=text-align:left>ISO/ITU가 1984년 표준화한 네트워크 아키텍처</td><td style=text-align:left>TCP/IP Model, ISO/IEC 7498-1</td><td style=text-align:left>네트워크 교육, 문제 해결, 프로토콜 설계의 보편적 언어</td><td style=text-align:left>RF#1, RF#11</td></tr><tr><td style=text-align:left>PDU (Protocol Data Unit)</td><td style=text-align:left>프로토콜 데이터 단위</td><td style=text-align:left>특정 계층에서 전송되는 데이터의 단위 (헤더+페이로드)</td><td style=text-align:left>각 계층마다 고유한 PDU 이름 사용 (Bit, Frame, Packet, Segment)</td><td style=text-align:left>SDU, Encapsulation</td><td style=text-align:left>패킷 분석, 네트워크 디버깅 시 계층별 데이터 구조 이해 필수</td><td style=text-align:left>RF#31, RF#32</td></tr><tr><td style=text-align:left>SDU (Service Data Unit)</td><td style=text-align:left>서비스 데이터 단위</td><td style=text-align:left>상위 계층에서 하위 계층으로 전달되는 데이터 (하위 계층의 페이로드)</td><td style=text-align:left>(N+1) 계층의 PDU = (N) 계층의 SDU</td><td style=text-align:left>PDU, Encapsulation</td><td style=text-align:left>계층 간 인터페이스 설계 시 서비스 경계 정의</td><td style=text-align:left>RF#31, RF#34</td></tr><tr><td style=text-align:left>Encapsulation</td><td style=text-align:left>캡슐화</td><td style=text-align:left>상위 계층 데이터에 하위 계층 헤더/트레일러를 추가하는 과정</td><td style=text-align:left>송신자 측에서 계층 7→1로 내려가며 수행</td><td style=text-align:left>PDU, Header, Trailer</td><td style=text-align:left>네트워크 프로그래밍 시 패킷 생성 과정 이해</td><td style=text-align:left>RF#33, RF#35</td></tr><tr><td style=text-align:left>Decapsulation</td><td style=text-align:left>역캡슐화</td><td style=text-align:left>수신한 데이터에서 각 계층의 헤더/트레일러를 제거하는 과정</td><td style=text-align:left>수신자 측에서 계층 1→7로 올라가며 수행</td><td style=text-align:left>PDU, Header</td><td style=text-align:left>패킷 파싱, 프로토콜 분석 시 필수 개념</td><td style=text-align:left>RF#33, RF#35</td></tr><tr><td style=text-align:left>SAP (Service Access Point)</td><td style=text-align:left>서비스 접근점</td><td style=text-align:left>상위 계층이 하위 계층의 서비스에 접근하는 논리적 지점</td><td style=text-align:left>포트 번호(전송 계층), 프로토콜 번호(네트워크 계층)로 식별</td><td style=text-align:left>Service Primitives, Layer Independence</td><td style=text-align:left>API 설계, 소켓 프로그래밍 시 서비스 경계 이해</td><td style=text-align:left>RF#41, RF#42</td></tr><tr><td style=text-align:left>Service Primitives</td><td style=text-align:left>서비스 프리미티브</td><td style=text-align:left>계층 간 상호작용을 나타내는 추상 연산 (Request, Indication, Response, Confirm)</td><td style=text-align:left>SAP를 통해 교환되는 제어 메시지</td><td style=text-align:left>SAP, Layer Independence</td><td style=text-align:left>프로토콜 상태 머신 설계, 계층 간 통신 구현</td><td style=text-align:left>RF#45, RF#50</td></tr><tr><td style=text-align:left>TCP/IP Model</td><td style=text-align:left>TCP/IP 모델</td><td style=text-align:left>4개 계층으로 구성된 실용적 네트워크 모델 (Network Access, Internet, Transport, Application)</td><td style=text-align:left>1970년대 ARPANET에서 개발, 현대 인터넷의 기반</td><td style=text-align:left>OSI Model, Protocol Stack</td><td style=text-align:left>실제 네트워크 구현, Linux/Windows 네트워크 스택</td><td style=text-align:left>RF#21, RF#23</td></tr><tr><td style=text-align:left>Layer Independence</td><td style=text-align:left>계층 독립성</td><td style=text-align:left>각 계층이 다른 계층의 내부 구현을 몰라도 독립적으로 작동하는 원칙</td><td style=text-align:left>정보 은닉과 추상화를 통해 모듈성 제공</td><td style=text-align:left>Abstraction, Modularity</td><td style=text-align:left>프로토콜 표준화, 멀티 벤더 상호운용성 보장</td><td style=text-align:left>RF#11, RF#14</td></tr><tr><td style=text-align:left>ISO/IEC 7498-1</td><td style=text-align:left>ISO/IEC 7498-1 표준</td><td style=text-align:left>OSI 기본 참조 모델을 정의하는 국제 표준 (1994년 제2판)</td><td style=text-align:left>ITU-T X.200으로도 발행됨</td><td style=text-align:left>OSI Model, Standard</td><td style=text-align:left>네트워크 프로토콜 표준화 작업 시 참조 문서</td><td style=text-align:left>RF#11, RF#14</td></tr><tr><td style=text-align:left>CAP Theorem</td><td style=text-align:left>CAP 정리</td><td style=text-align:left>분산 시스템에서 일관성(C), 가용성(A), 분할 내성(P) 중 최대 2가지만 동시 보장 가능</td><td style=text-align:left>Eric Brewer 제안(2000), Gilbert-Lynch 증명(2002)</td><td style=text-align:left>Consistency Models, Replication</td><td style=text-align:left>분산 데이터베이스 설계, 클라우드 아키텍처 결정</td><td style=text-align:left>RF#외부(분산시스템)</td></tr><tr><td style=text-align:left>Consensus Algorithms</td><td style=text-align:left>합의 알고리즘</td><td style=text-align:left>분산 노드가 단일 값에 합의하도록 하는 알고리즘 (Paxos, Raft, BFT)</td><td style=text-align:left>네트워크 불안정, 노드 실패 환경에서 일관성 보장</td><td style=text-align:left>Replication, Consistency</td><td style=text-align:left>분산 시스템, 블록체인, 클러스터 관리 구현</td><td style=text-align:left>RF#외부(분산시스템)</td></tr><tr><td style=text-align:left>MTU (Maximum Transmission Unit)</td><td style=text-align:left>최대 전송 단위</td><td style=text-align:left>특정 계층에서 전송 가능한 최대 PDU 크기 (Ethernet: 1500 bytes)</td><td style=text-align:left>크기 초과 시 Fragmentation 발생</td><td style=text-align:left>Fragmentation, Packet</td><td style=text-align:left>네트워크 성능 튜닝, Jumbo Frame 설정</td><td style=text-align:left>RF#31, RF#33</td></tr><tr><td style=text-align:left>Fragmentation</td><td style=text-align:left>단편화</td><td style=text-align:left>큰 패킷을 MTU 크기에 맞춰 여러 작은 패킷으로 분할하는 과정</td><td style=text-align:left>IP 계층에서 수행, Don&rsquo;t Fragment 플래그로 제어 가능</td><td style=text-align:left>MTU, Reassembly</td><td style=text-align:left>VPN, 터널링 환경에서 패킷 손실 원인 분석</td><td style=text-align:left>RF#31</td></tr><tr><td style=text-align:left>MAC Address</td><td style=text-align:left>MAC 주소</td><td style=text-align:left>네트워크 인터페이스 카드의 고유 물리 주소 (48비트)</td><td style=text-align:left>데이터 링크 계층에서 로컬 네트워크 내 장치 식별</td><td style=text-align:left>ARP, Frame</td><td style=text-align:left>네트워크 보안(MAC 필터링), 스위치 설정</td><td style=text-align:left>RF#6, RF#36</td></tr></tbody></table><p>| TCP Three-Way Handshake | TCP 3방향 핸드셰이크 | TCP 연결 설정을 위한 3단계 프로세스 (SYN, SYN-ACK, ACK) | 신뢰성 있는 연결 지향 통신 구현 | TCP, Connection-Oriented | 소켓 프로그래밍, 네트워크 지연 분석 | RF#37 |
| Wireshark | 와이어샤크 | 오픈소스 네트워크 패킷 분석 도구 | 실시간 트래픽 캡처 및 프로토콜 분석 | Packet Analysis, Troubleshooting | 네트워크 문제 진단, 보안 분석, 프로토콜 학습 | RF#외부(도구) |</p><hr><h2 id=references-ref-1>References (REF)<a hidden class=anchor aria-hidden=true href=#references-ref-1>#</a></h2><ul><li><a href=https://en.wikipedia.org/wiki/OSI_model>OSI model - Wikipedia</a></li><li><a href=https://www.iso.org/standard/20269.html>ISO/IEC 7498-1:1994 - ISO Standards</a></li><li><a href=https://www.opsschool.org/networking_101.html>Networking 101 - OSI - OpsSchool</a></li><li><a href=https://www.meridianoutpost.com/resources/articles/iso-7-layer-osi-model.php>ISO OSI 7-Layer Model - Meridian Outpost</a></li><li><a href=https://en.wikipedia.org/wiki/OSI_protocols>OSI protocols - Wikipedia</a></li><li><a href=https://www.geeksforgeeks.org/computer-networks/open-systems-interconnection-model-osi/>What is OSI Model | 7 Layers Explained - GeeksforGeeks</a></li><li><a href=https://www.imperva.com/learn/application-security/osi-model/>What is OSI Model | 7 Layers Explained - Imperva</a></li><li><a href=https://www.a1.digital/knowledge-hub/osi-model-and-its-7-layers-explained/>OSI model and its 7 layers explained | A1 Digital</a></li><li><a href=https://aws.amazon.com/what-is/osi-model/>What is the OSI Model? - 7 OSI Layers Explained - AWS</a></li><li><a href=https://www.techtarget.com/searchnetworking/definition/OSI>What is the OSI model? The 7 layers of OSI explained - TechTarget</a></li><li><a href=https://www.fortinet.com/resources/cyberglossary/tcp-ip-model-vs-osi-model>TCP/IP Model vs. OSI Model - Fortinet</a></li><li><a href=https://www.geeksforgeeks.org/computer-networks/difference-between-osi-model-and-tcp-ip-model/>Difference Between OSI Model and TCP/IP Model - GeeksforGeeks</a></li><li><a href=https://www.checkpoint.com/cyber-hub/network-security/what-is-the-osi-model-understanding-the-7-layers/osi-model-vs-tcp-ip-model/>OSI Model vs TCP/IP Model - Check Point Software</a></li><li><a href=https://study-ccna.com/osi-tcp-ip-models/>TCP/IP vs OSI Model - Study CCNA</a></li><li><a href=https://en.wikipedia.org/wiki/Protocol_data_unit>Protocol data unit - Wikipedia</a></li><li><a href=https://www.geeksforgeeks.org/computer-networks/protocol-data-unit-pdu/>Protocol Data Unit (PDU) - GeeksforGeeks</a></li><li><a href=http://www.tcpipguide.com/TCPIPGuide_2-0_s2.pdf>Data Encapsulation, Protocol Data Units (PDUs) - TCP/IP Guide</a></li><li><a href=https://dev.to/m__mdy__m/the-osi-model-a-comprehensive-overview-52j5>The OSI Model: A Comprehensive Overview - DEV Community</a></li><li><a href=https://dev.to/stungnet/from-data-to-frame-the-evolution-of-pdus-across-the-osi-model-21gd>From Data to Frame: The Evolution of PDUs - DEV Community</a></li><li><a href=https://en.wikipedia.org/wiki/Service_Access_Point>Service Access Point - Wikipedia</a></li><li><a href=https://www.erg.abdn.ac.uk/users/gorry/course/intro-pages/sap.html>SAPs - University of Aberdeen</a></li><li><a href=https://erg.abdn.ac.uk/users/gorry/course/intro-pages/service-prim.html>Service Primitives - University of Aberdeen</a></li><li><a href=https://www.geeksforgeeks.org/interfaces-and-services/>Interfaces and Services - GeeksforGeeks</a></li><li><a href=https://www.sciencedirect.com/topics/computer-science/service-primitive>Service Primitive - ScienceDirect Topics</a></li><li><a href=https://petri.com/csc_how_to_use_the_osi_model_to_troubleshoot_networks/>How to use the OSI Model for Network Troubleshooting - Petri IT</a></li><li><a href="https://www.pearsonitcertification.com/articles/article.aspx?p=1730891">Troubleshooting Along the OSI Model - Pearson IT Certification</a></li><li><a href=https://www.linkedin.com/pulse/troubleshooting-osi-model-dave-norwood>Troubleshooting with the OSI Model - LinkedIn</a></li><li><a href=https://www.tanaza.com/blog/osi-model-to-troubleshoot-networks/>How to Use the OSI Model to Troubleshoot Networks - Tanaza</a></li><li><a href=https://www.geekio.co.uk/post/network-troubleshooting>Network Troubleshooting using the OSI Model - Geekio</a></li></ul><hr><p><strong>문서 작성 완료</strong></p><p>이상으로 OSI 7계층 모델에 대한 완전한 기술 문서를 작성했습니다. 문서는 다음과 같이 구성되었습니다:</p><ol><li><strong>Pre-Header</strong>: Topic, Classification, Review</li><li><strong>Summary & Overview</strong>: 전체 개요</li><li><strong>Tags</strong>: 주요 키워드</li><li><strong>S1 (Beginner)</strong>: 토픽 필수 기초 (3개 하위 섹션)</li><li><strong>S2 (Intermediate)</strong>: T-DSYS 유형별 중급 지식 (5개 필수 키)</li><li><strong>S3 (Advanced)</strong>: 토픽 특화 심화 (5개 고급 키)</li><li><strong>SW (Workshop)</strong>: 3개 실습 (트러블슈팅, Wireshark, 프로토콜 스택)</li><li><strong>Final Summary</strong>: 전체 요약</li><li><strong>Learning Guide</strong>: 학습 로드맵</li><li><strong>Terminology</strong>: 17개 핵심 용어 (7-컬럼 스키마)</li><li><strong>References</strong>: 30개 참조 자료</li></ol><p>모든 섹션은 템플릿의 규칙(§0-§7)을 준수하며, 특히:</p><ul><li>✅ NoLinkInBody (본문 링크 0개)</li><li>✅ NoAbridgementInBody (완전한 기술)</li><li>✅ Seeds ≥ 15 (60개 수집)</li><li>✅ S1 하위 섹션 ≥ 3</li><li>✅ S2 필수 키 = 5개</li><li>✅ S3 고급 키 = 5개</li><li>✅ SW 워크숍 = 3개</li><li>✅ Terminology ≥ 8행 (17개 작성)</li><li>✅ 모든 스키마 준수 (§0.3.1, §0.3.2, §0.3.3)</li><li>✅ Mermaid 다이어그램 ≥ 2개 (9개 포함)</li></ul><p>문서가 도움이 되셨기를 바랍니다!</p></div></main><script type=module>
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
  </script><footer class=footer><span>&copy; 2026 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>