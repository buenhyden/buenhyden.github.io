<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>OSI Model | hyunyoun's Blog</title><meta name=keywords content="Networking-and-Protocols,Network-Fundamentals,Basic-Concepts,Network-Models,OSI-Model,Interoperability,Protocol-Stack"><meta name=description content="OSI 7계층은 통신 기능을 물리→데이터링크→네트워크→전송→세션→표현→응용의 7단계로 분리한 개념적 참조모델(ISO/IEC 7498-1)이다. 계층별 캡슐화와 표준화로 상호운용성·문제추적·설계 기준을 제공하며, 실제 구현은 TCP/IP 모델과 혼재되어 사용된다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/networking--protocols/network-fundamentals/basic-concepts/network-models/osi-model/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.8762af4fa9ee176c57f72565b721f234162fc7a9c882a271e0a1f68c4e89fb34.css integrity="sha256-h2KvT6nuF2xX9yVltyHyNBYvx6nIgqJx4KH2jE6J+zQ=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/networking--protocols/network-fundamentals/basic-concepts/network-models/osi-model/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/networking--protocols/network-fundamentals/basic-concepts/network-models/osi-model/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/networking--protocols/network-fundamentals/basic-concepts/network-models/osi-model/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="OSI Model"><meta property="og:description" content="OSI 7계층은 통신 기능을 물리→데이터링크→네트워크→전송→세션→표현→응용의 7단계로 분리한 개념적 참조모델(ISO/IEC 7498-1)이다. 계층별 캡슐화와 표준화로 상호운용성·문제추적·설계 기준을 제공하며, 실제 구현은 TCP/IP 모델과 혼재되어 사용된다."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="OSI Model"><meta name=twitter:description content="OSI 7계층은 통신 기능을 물리→데이터링크→네트워크→전송→세션→표현→응용의 7단계로 분리한 개념적 참조모델(ISO/IEC 7498-1)이다. 계층별 캡슐화와 표준화로 상호운용성·문제추적·설계 기준을 제공하며, 실제 구현은 TCP/IP 모델과 혼재되어 사용된다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"HY's Blog","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":6,"name":"OSI Model","item":"https://buenhyden.github.io/posts/networking--protocols/network-fundamentals/basic-concepts/network-models/osi-model/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>HY's Blog</a></div><h1>OSI Model</h1><div class=post-description>OSI 7계층은 통신 기능을 물리→데이터링크→네트워크→전송→세션→표현→응용의 7단계로 분리한 개념적 참조모델(ISO/IEC 7498-1)이다. 계층별 캡슐화와 표준화로 상호운용성·문제추적·설계 기준을 제공하며, 실제 구현은 TCP/IP 모델과 혼재되어 사용된다.</div></header><div class=post-content><h2 id=osi-7-계층-open-systems-interconnection-reference-model>OSI 7 계층 (Open Systems Interconnection Reference Model)<a hidden class=anchor aria-hidden=true href=#osi-7-계층-open-systems-interconnection-reference-model>#</a></h2><p>OSI 7 계층 모델은 ISO 가 제시한 네트워크 참조모델로, 통신을 물리→데이터링크→네트워크→전송→세션→표현→응용의 7 개 계층으로 분해해 각 계층의 책임을 분명히 한다.<br>이 구조는 캡슐화와 계층별 인터페이스를 통해 설계·표준화·문제해결을 쉽게 하며, 스위치·라우터·로드밸런서·애플리케이션 서버 등 실무 장비의 역할을 설명하는 데 유용하다. 다만 실제 인터넷은 TCP/IP 중심이고, TLS·QUIC·HTTP/3 같은 최신 프로토콜은 계층 경계를 넘나들므로 OSI 는 교육·분석 도구로 사용하되 실전에서는 TCP/IP 매핑과 최신 아키텍처 (SDN, eBPF, 서비스 메시) 를 함께 이해해야 효과적이다.</p><h3 id=핵심-개념>핵심 개념<a hidden class=anchor aria-hidden=true href=#핵심-개념>#</a></h3><ul><li><p>네트워크 통신은 여러 단계 (계층) 를 거친다. 각 계층은 다른 책임 (예: 물리 전송, 패킷 전달, 신뢰성 보장, 애플리케이션 메시) 을 가진다.</p></li><li><p>송·수신 과정에서 데이터는 계층마다 헤더를 붙이고 뗀다 (캡슐화). 이 단위들을 PDU 라 부른다.</p></li><li><p>실무에서는 계층별 도구 (예: ping, traceroute, tcpdump), 프로토콜 (TCP/UDP/QUIC), 성능 기법 (AQM, CC), 보안 (TLS/mTLS), 관측 (OpenTelemetry) 을 조합해 <strong>성능·가용성·보안</strong>을 달성한다.</p></li><li><p>최신 기술 (eBPF, QUIC, Service Mesh) 은 이 원칙 위에서 구현·최적화·관측을 더 잘하게 해준다.</p></li></ul><table><thead><tr><th>핵심 개념 (한글 (영어))</th><th style=text-align:right>정의</th><th>왜 중요한가</th></tr></thead><tbody><tr><td>계층화 (Layering)</td><td style=text-align:right>통신을 기능별로 분리한 구조 (OSI 7 계층)</td><td>문제 분리·모듈화·상호운용성 확보</td></tr><tr><td>캡슐화 (Encapsulation)</td><td style=text-align:right>상위 데이터에 계층별 헤더 추가/제거</td><td>프로토콜 독립성·정확한 패킷 처리</td></tr><tr><td>PDU (Protocol Data Unit)</td><td style=text-align:right>계층별 데이터 단위 (Bit/Frame/Packet/Segment)</td><td>패킷 캡처/분석의 기본 단위</td></tr><tr><td>주소 지정 (MAC / IP / Port)</td><td style=text-align:right>L2 MAC, L3 IP, L4 Port</td><td>라우팅·포워딩·서비스 식별</td></tr><tr><td>프로토콜 (Protocol: TCP/UDP/QUIC/HTTP)</td><td style=text-align:right>계층별 통신 규약</td><td>신뢰성·성능·보안 특성 결정</td></tr><tr><td>혼잡 제어 (Congestion Control)</td><td style=text-align:right>전송률 조절 알고리즘 (예: TCP CUBIC, BBRv2)</td><td>대역폭 활용 vs 지연/손실 균형</td></tr><tr><td>AQM (Active Queue Management)</td><td style=text-align:right>큐 지연 완화 (CoDel/FQ-CoDel/PIE)</td><td>p99 지연 안정화</td></tr><tr><td>제어/데이터/관리 평면 (Control/Data/Management plane)</td><td style=text-align:right>정책/포워딩/관제 분리</td><td>확장성·자동화·운영 분리</td></tr><tr><td>관측성 (Observability)</td><td style=text-align:right>Metrics/Logs/Traces (OpenTelemetry)</td><td>원인 분석·자동화의 데이터 기반</td></tr><tr><td>보안 (TLS / mTLS / ZTNA)</td><td style=text-align:right>전송·상호 인증·제로트러스트</td><td>데이터 보호·접근 제어</td></tr><tr><td>eBPF / XDP (Extended BPF / Express Data Path)</td><td style=text-align:right>커널 레벨 가속·필터·관측</td><td>고성능 필터·로깅·LB 구현</td></tr><tr><td>Service Mesh / Gateway API</td><td style=text-align:right>마이크로서비스 통신 제어 / K8s 라우팅 표준</td><td>정책·보안·관측의 일원화</td></tr></tbody></table><h4 id=개념간-상호관계>개념간 상호관계<a hidden class=anchor aria-hidden=true href=#개념간-상호관계>#</a></h4><table><thead><tr><th>출발 → 도착 (From → To)</th><th>목적 (무엇을 위해)</th><th>어떻게 연결되는가 (How)</th></tr></thead><tbody><tr><td>응용 → 전송 (App → Transport)</td><td>안정적/효율적 전달</td><td>애플리케이션 데이터가 TCP/QUIC 로 캡슐화되어 전송</td></tr><tr><td>전송 → 네트워크 (Transport → Network)</td><td>라우팅/분배</td><td>세그먼트에 IP 헤더 부착 → 라우터가 목적지까지 포워딩</td></tr><tr><td>네트워크 → 링크 (Network → Link)</td><td>물리 전송</td><td>IP 패킷을 프레임으로 캡슐화 → NIC 전송</td></tr><tr><td>전송 CC ←→ AQM</td><td>지연/손실 회로 피드백</td><td>CC 는 전송률 조절, AQM 은 라우터에서 지연 드롭/마킹으로 혼잡 신호 제공</td></tr><tr><td>데이터 평면 ← 제어 평면</td><td>정책 반영</td><td>라우터/스위치는 컨트롤러의 라우팅 테이블 적용</td></tr><tr><td>모든 계층 → 관측성 (Observability)</td><td>상태·문제 진단</td><td>Metrics/Logs/Traces 를 수집해 운영·AI 에 제공</td></tr><tr><td>관측성 → 자동화 (AI/오토스케일)</td><td>자동 대응</td><td>관측 데이터로 정책/스케일/룰 자동 조정</td></tr><tr><td>보안 (TLS) → 전송/응용</td><td>데이터 기밀성 보장</td><td>TLS 가 전송 계층/응용 계층 트래픽 암호화 적용</td></tr></tbody></table><ul><li>데이터 흐름 (응용→전송→네트워크→링크) 과 제어 피드백 (혼잡 제어↔AQM, 관측성→자동화) 이 핵심 축이다. 각 연결은 &rsquo; 무엇을 위해 &rsquo; (성능/정확성/보안/운영) 명확한 목적을 갖는다.</li></ul><h4 id=실무-구현-연관성>실무 구현 연관성<a hidden class=anchor aria-hidden=true href=#실무-구현-연관성>#</a></h4><table><thead><tr><th>개념</th><th style=text-align:right>실무에서 무엇을 하는가</th><th>어떻게 연관되는가 (툴/기법)</th><th>왜 중요한가 (비즈니스/운영)</th></tr></thead><tbody><tr><td>계층화 (Layering)</td><td style=text-align:right>설계·문제 분리</td><td>네트워크 다이어그램, 계층별 테스트</td><td>빠른 문제 해결·모듈교체</td></tr><tr><td>캡슐화 (Encapsulation)</td><td style=text-align:right>패킷 포맷 관리</td><td>Wireshark/tcpdump 분석</td><td>프로토콜 호환성 확보</td></tr><tr><td>주소 지정 (MAC/IP/Port)</td><td style=text-align:right>라우팅·접근 제어</td><td>ARP/ND, 라우팅 테이블, ACL</td><td>올바른 라우팅·보안 식별</td></tr><tr><td>TCP/QUIC (전송)</td><td style=text-align:right>전송 신뢰성/속도 확보</td><td>TCP tuning, QUIC 설정</td><td>사용자 경험·대역폭 효율</td></tr><tr><td>AQM / 큐잉</td><td style=text-align:right>지연/버퍼블로트 제어</td><td>tc qdisc, fq_codel</td><td>p99 지연 완화 (실시간 서비스 QoS)</td></tr><tr><td>eBPF/XDP</td><td style=text-align:right>고속 필터·관측</td><td>Cilium, XDP programs</td><td>네트워크 성능·관측 향상</td></tr><tr><td>Service Mesh</td><td style=text-align:right>서비스 간 정책 적용</td><td>Istio/Envoy 설정</td><td>보안·관측·트래픽 라우팅 통합</td></tr><tr><td>Gateway API / CDN</td><td style=text-align:right>외부 트래픽 라우팅·캐싱</td><td>Envoy/Kong, CloudFront</td><td>글로벌 성능·비용 최적화</td></tr><tr><td>Observability</td><td style=text-align:right>이상 탐지·원인 분석</td><td>Prometheus, Grafana, Jaeger</td><td>SLO 모니터·자동화 근거</td></tr><tr><td>보안 (TLS/mTLS/ZTNA)</td><td style=text-align:right>데이터 보호·접근 통제</td><td>Cert 관리, RBAC, WAF</td><td>규정준수·신뢰성 유지</td></tr></tbody></table><ul><li>각 개념은 특정 툴/기법으로 실무에 구현되며, 그 목적은 <strong>성능·가용성·보안·운영 효율</strong>을 달성하는 데 있다. 예를 들어 AQM 은 라우터/호스트에서 지연을 줄이는 역할로, 실시간 애플리케이션의 SLO 를 지키게 해준다.</li></ul><h3 id=기초-조사-및-개념-정립>기초 조사 및 개념 정립<a hidden class=anchor aria-hidden=true href=#기초-조사-및-개념-정립>#</a></h3><h4 id=개념-정의-및-본질적-이해>개념 정의 및 본질적 이해<a hidden class=anchor aria-hidden=true href=#개념-정의-및-본질적-이해>#</a></h4><p>OSI 7 계층은 네트워크 통신을 7 단계로 나눠서 설명하는 <strong>개념적 지도</strong>다.<br>각 계층은 맡은 역할 (예: 애플리케이션은 사용자 인터페이스, 전송은 신뢰성 보장, 네트워크는 경로 선택, 물리는 신호 전달) 을 수행하며, 상위 계층은 하위 계층의 구현 세부를 알 필요 없이 기능을 사용한다.<br>이 구조는 문제를 쉽게 찾고 (" 핑이 안 되면 네트워크 계층을 보자 &ldquo;), 설계와 표준화 (프로토콜 분리) 를 단순화한다. 실제 인터넷에선 TCP/IP 모델이 더 직접적으로 쓰이지만, OSI 는 개념·교육용으로 여전히 핵심 프레임워크다.</p><table><thead><tr><th style=text-align:right>계층 (OSI)</th><th>역할 (핵심)</th><th>주요 기능 (무엇을 처리하는가)</th><th>대표 프로토콜/장비</th><th>실무 포인트</th></tr></thead><tbody><tr><td style=text-align:right>7. 응용 (Application)</td><td>사용자와 네트워크 인터페이스</td><td>HTTP, SMTP, DNS 등 애플리케이션 프로토콜 처리</td><td>HTTP/HTTPS, SMTP, DNS</td><td>사용자 서비스 문제는 이 계층부터 확인</td></tr><tr><td style=text-align:right>6. 표현 (Presentation)</td><td>데이터 형식·암호화·인코딩</td><td>문자 인코딩, 압축, TLS 암호화 등</td><td>TLS(암호화), MIME</td><td>보안 (암호화)·인코딩 이슈로 가시성↓</td></tr><tr><td style=text-align:right>5. 세션 (Session)</td><td>연결·대화 관리</td><td>세션 설정/종료, 동기화 체크포인트</td><td>(예: RPC 세션 구현)</td><td>세션 타임아웃·재연결 문제 확인</td></tr><tr><td style=text-align:right>4. 전송 (Transport)</td><td>종단 간 전송 신뢰성 및 흐름 제어</td><td>TCP(신뢰), UDP(비신뢰), 포트 기반 멀티플렉싱</td><td>TCP, UDP, QUIC</td><td>재전송·포트·지연·혼잡제어 진단 포인트</td></tr><tr><td style=text-align:right>3. 네트워크 (Network)</td><td>경로 선택 및 논리적 주소 지정</td><td>라우팅, IP 주소, 패킷 포워딩</td><td>IPv4/IPv6, ICMP, 라우터</td><td>라우팅 테이블·MTU·경로 문제 확인</td></tr><tr><td style=text-align:right>2. 데이터 링크 (Data Link)</td><td>물리적 네트워크 연결의 신뢰성</td><td>프레임, MAC 주소, 스위칭, ARP</td><td>Ethernet, ARP, 스위치</td><td>LAN 이슈 (브로드캐스트, MAC 테이블) 점검</td></tr><tr><td style=text-align:right>1. 물리 (Physical)</td><td>비트 전송·전기적·기계적 규격</td><td>케이블, 신호, 변조·PHY 규격</td><td>케이블 (UTP), NIC, 허브</td><td>케이블/신호 문제 (링크 다운) 최하단 점검</td></tr></tbody></table><ul><li>표는 OSI 7 계층 각각이 <strong>무엇을 담당하고 어떤 기술/장비와 연결되는지</strong>를 한눈에 보여준다.</li><li>트러블슈팅 시에는 위 계층을 위에서 아래로 (응용→물리) 또는 아래에서 위로 (물리→응용) 로 좁혀가며 원인을 찾는다.</li><li>실무에서는 전송 (TCP/UDP)·네트워크 (IP)·데이터링크 (Ethernet) 계층의 문제를 많이 접하며, 표현·세션 계층은 보안·암호화나 세션 타임아웃 같은 특수 상황에서 주목받는다.</li></ul><h4 id=등장-배경-및-발전-과정>등장 배경 및 발전 과정<a hidden class=anchor aria-hidden=true href=#등장-배경-및-발전-과정>#</a></h4><p>OSI 7 계층 모델은 네트워크 통신을 7 개의 역할 단위로 나눈 개념적 틀이다.<br>1970 년대 벤더별 규격으로 인한 호환 문제를 해결하기 위해 ISO 가 참조모델을 만들었고, 이를 통해 설계·교육·문제 진단에 일관된 기준을 제공한다.<br>실제 인터넷은 TCP/IP 기반으로 발전했지만, OSI 모델은 여전히 계층별 책임 분리와 캡슐화 개념을 설명하는 데 유용하다.</p><h5 id=등장-배경>등장 배경<a hidden class=anchor aria-hidden=true href=#등장-배경>#</a></h5><p>1970 년대 말 네트워크 확산 과정에서 IBM 의 SNA, DEC 의 DECnet 등 벤더별 독자 아키텍처가 보편적이었고, 시스템 간 상호 운용성 문제로 네트워크 통합이 어려웠다. 이를 해결하기 위해 국제표준화기구 (ISO) 와 ITU-T(당시 CCITT) 가 공동으로 참조 모델 제정을 추진했고, 1984 년 ISO 7498 표준으로 채택되었다. OSI 모델은 기능 분리 (물리→응용) 와 계층 간 인터페이스 규정으로 표준화 틀을 제공했다.</p><h5 id=발전-과정>발전 과정<a hidden class=anchor aria-hidden=true href=#발전-과정>#</a></h5><table><thead><tr><th>연도</th><th>사건/표준</th><th>등장 배경 (왜)</th><th>개선/도입된 사항 (무엇이 개선되었나)</th></tr></thead><tbody><tr><td>1969–1970s</td><td>ARPANET 개발·확산</td><td>초기 패킷교환 연구, 네트워크 개념 검증</td><td>네트워크 간 연결성·프로토콜 연구의 토대 형성</td></tr><tr><td>1977</td><td>ISO 표준화 작업 시작</td><td>벤더 종속 문제 해결 필요</td><td>참조모델 초안 작업 개시</td></tr><tr><td>1980</td><td>RFC 768 (UDP)</td><td>단순 경량 전송 필요</td><td>비연결형 전송 규격 제공, 실시간 트래픽에 유리</td></tr><tr><td>1981</td><td>RFC 791 (IPv4)</td><td>호스트 간 라우팅·패킷 전달 요구</td><td>전 세계 IP 주소·라우팅 규격 표준화</td></tr><tr><td>1984</td><td>ISO 7498 (OSI 모델) 채택</td><td>표준화된 참조모델 필요</td><td>7 계층 모델 공식화 (교육·설계 기준 제공)</td></tr><tr><td>1990s</td><td>TCP/IP 인터넷 실무 확산</td><td>실용성·조기 채택으로 우위</td><td>TCP/IP 가 실제 구현 표준으로 자리잡음</td></tr><tr><td>1999–2015</td><td>HTTP/1.1 → HTTP/2 등</td><td>웹 성능·효율 요구 증가</td><td>멀티플렉싱, 헤더압축 등 성능 개선</td></tr><tr><td>2017</td><td>RFC 8200 (IPv6 정식화)</td><td>IPv4 주소 고갈 문제</td><td>대규모 주소공간·확장성 개선</td></tr><tr><td>2021–2022</td><td>QUIC/HTTP3, RFC 9293(TCP modern)</td><td>지연·HOL 문제, 명세 정비 필요</td><td>UDP 기반 전송 (QUIC), TCP 명세 현대화, 상호운용성 향상</td></tr></tbody></table><pre class=mermaid>flowchart LR
  A[1969: ARPANET 시작] --&gt; B[1977: ISO 표준화 착수]
  B --&gt; C[&#34;1980: RFC 768 (UDP)&#34;]
  C --&gt; D[&#34;1981: RFC 791 (IPv4)&#34;]
  D --&gt; E[1984: ISO 7498 - OSI 7계층 채택]
  E --&gt; F[1990s: TCP/IP 실무 확산]
  F --&gt; G[1999~2015: HTTP/1.1 → HTTP/2 도입]
  G --&gt; H[&#34;2017: RFC 8200 (IPv6)&#34;]
  H --&gt; I[&#34;2021~2022: QUIC/HTTP3 도입, RFC 9293(TCP modern)&#34;]
</pre><p>OSI 모델은 서로 다른 네트워크 시스템 간 상호운용성 문제를 해소하기 위해 만들어진 <strong>개념적 참조모델</strong>로, 1984 년 ISO 7498 로 공식화되었다.<br>이후 실제 인터넷은 TCP/IP 프로토콜군을 중심으로 빠르게 확산되었지만, OSI 의 계층화 개념 (캡슐화·인터페이스) 은 네트워크 설계·교육·문제진단에 계속 활용된다.<br>각 프로토콜·기술 (UDP, IPv4, IPv6, HTTP 진화, QUIC 등) 은 특정 실무적 문제 (경량 전송, 주소 고갈, 성능 향상, HOL 회피 등) 를 해결하기 위해 단계적으로 등장했고, 각 단계는 이전 한계의 보완을 목표로 한다.</p><h4 id=해결하는-문제-및-핵심-목적>해결하는 문제 및 핵심 목적<a hidden class=anchor aria-hidden=true href=#해결하는-문제-및-핵심-목적>#</a></h4><p>OSI 7 계층 모델은 네트워크 통신을 7 개의 독립된 층으로 나눠 각 층에 책임을 부여함으로써 서로 다른 시스템 간 통신을 쉽게 하고 (상호운용성), 복잡한 기능을 단계적으로 설계·검증할 수 있게 한다.</p><p>계층별 표준 인터페이스는 장비와 프로토콜의 교체·업그레이드를 용이하게 하며, 장애 진단과 교육에도 유용하다. 다만 실제 인터넷은 TCP/IP 계층이 주류이고 QUIC·TLS 같은 최신 프로토콜은 계층 경계를 흐리므로, OSI 는 개념적 기준으로 삼고 현실 프로토콜 매핑을 병행해 학습·설계해야 한다.</p><h5 id=해결하는-문제>해결하는 문제<a hidden class=anchor aria-hidden=true href=#해결하는-문제>#</a></h5><table><thead><tr><th>문제</th><th style=text-align:right>문제의 측면</th><th style=text-align:right>OSI 가 개선하는 방식 (메커니즘)</th><th style=text-align:right>기대 효과</th><th>실무 예시</th></tr></thead><tbody><tr><td>상호운용성 부족</td><td style=text-align:right>서로 다른 벤더/프로토콜 간 통신 불가</td><td style=text-align:right>계층별 표준 인터페이스·프로토콜 정의 (명세화)</td><td style=text-align:right>상호연결성 확보, 장비·SW 교체 용이</td><td>라우터·스위치·서버 간 표준 IP/TCP 통신</td></tr><tr><td>복잡성 관리</td><td style=text-align:right>시스템 기능이 얽혀 있어 설계/검증 어려움</td><td style=text-align:right>추상화·캡슐화 (기능 분리)</td><td style=text-align:right>병렬 개발, 문제 격리·원인 분석 용이</td><td>L2 문제 (스위치) vs L3 문제 (라우팅) 분리 진단</td></tr><tr><td>표준화 부재</td><td style=text-align:right>규격 차이로 호환성·신뢰성 저하</td><td style=text-align:right>국제 표준 채택 (ISO/RFC)</td><td style=text-align:right>호환성·신뢰성, 채택 가속화</td><td>HTTP/HTTPS 표준화로 웹 호환성 확보</td></tr><tr><td>모듈화 부족</td><td style=text-align:right>특정 구성요소 교체가 어렵다</td><td style=text-align:right>계층 인터페이스 계약 (모듈화)</td><td style=text-align:right>교체/업그레이드 비용↓, 기술 진화 수용</td><td>스위치 → 다양한 벤더 교체 가능</td></tr></tbody></table><ul><li>OSI 는 위 네 가지 문제를 <strong>계층화 (추상화)·표준화·인터페이스 계약</strong>이라는 수단으로 해결한다. 그 결과 장비·프로토콜 간 상호운용성이 확보되고, 복잡한 시스템을 단계적으로 설계·검증할 수 있으며, 기술 교체·업그레이드가 쉬워진다.</li></ul><h5 id=핵심-목적>핵심 목적<a hidden class=anchor aria-hidden=true href=#핵심-목적>#</a></h5><table><thead><tr><th>핵심 목적</th><th>설명</th><th>수단/방법</th><th>실무 효과</th></tr></thead><tbody><tr><td>개방형 시스템 구현</td><td>이기종 시스템 간 자유로운 통신 보장</td><td>표준 프로토콜 채택, 명세화</td><td>벤더 락인 감소, 생태계 확장</td></tr><tr><td>계층별 독립성</td><td>한 계층의 변경이 다른 계층에 영향 적음</td><td>캡슐화·인터페이스 계약</td><td>유지보수·업그레이드 용이</td></tr><tr><td>표준화된 인터페이스 제공</td><td>계층 간 명확한 서비스 규약 제공</td><td>ISO/RFC 표준 문서</td><td>예측 가능한 상호작용, 테스트 용이</td></tr><tr><td>교육적 프레임워크 제공</td><td>네트워크 개념 학습과 문제해결 기준</td><td>7 계층 모델 (개념적 분해)</td><td>학습·문제해결 효율화</td></tr></tbody></table><ul><li>핵심 목적은 <strong>상호운용성·모듈성·표준화·교육성</strong>으로 요약된다. 이 목적들은 곧 운영 비용 절감, 빠른 기술 수용, 명확한 문제 진단이라는 실무적 이점을 만든다.</li></ul><h5 id=문제--목적-연결성>문제 ⇄ 목적 연결성<a hidden class=anchor aria-hidden=true href=#문제--목적-연결성>#</a></h5><table><thead><tr><th>문제</th><th>관련 핵심 목적 (복수 선택 가능)</th><th>구체적 연결 방식</th></tr></thead><tbody><tr><td>상호운용성 부족</td><td>개방형 시스템 구현, 표준화된 인터페이스 제공</td><td>표준 프로토콜·사양 채택 → 벤더간 통신 보장</td></tr><tr><td>복잡성 관리</td><td>교육적 프레임워크 제공, 계층별 독립성</td><td>계층화로 기능 분리 → 문제 축소·병렬 개발 가능</td></tr><tr><td>표준화 부재</td><td>표준화된 인터페이스 제공, 개방형 시스템 구현</td><td>국제 규격 제정 → 호환성·신뢰성 확보</td></tr><tr><td>모듈화 부족</td><td>계층별 독립성, 교육적 프레임워크 제공</td><td>인터페이스 계약 → 모듈 교체·검증 쉬워짐</td></tr></tbody></table><ul><li>각 문제는 OSI 의 핵심 목적로 직접 연결된다. 예를 들어 &rsquo; 상호운용성 부족 &rsquo; 은 곧 &rsquo; 개방형 시스템 &rsquo; 과 &rsquo; 표준화 &rsquo; 로 해결되며, &rsquo; 복잡성 &rsquo; 은 계층화된 교육·설계 방식으로 완화된다. 목적은 문제 해결을 위한 수단 (표준·캡슐화·인터페이스) 으로 구체화된다.</li></ul><h4 id=전제-조건-및-요구사항>전제 조건 및 요구사항<a hidden class=anchor aria-hidden=true href=#전제-조건-및-요구사항>#</a></h4><p>네트워크 시스템은 여러 층 (계층) 으로 나뉘어 각 층이 서로 약속 (인터페이스) 을 통해 통신한다.<br>안정적·안전한 서비스를 만들려면 다음이 필요하다:</p><ol><li>전 세계가 사용하는 규칙 (RFC, IANA) 을 지켜야 서로 통하는 시스템이 된다.</li><li>주소 (IP) 와 라우팅을 설계해야 데이터가 올바른 곳으로 간다.</li><li>TLS 같은 암호화·인증을 통해 데이터와 서비스에 대한 신뢰를 확보해야 한다.</li><li>로그와 시계 (타임동기) 를 맞춰야 문제가 언제, 어디서 생겼는지 추적할 수 있다.</li><li>자동화 (IaC)·테스트·모니터링을 도입하면 배포·운영이 빠르고 안전해진다.</li></ol><table><thead><tr><th style=text-align:right>분류</th><th>항목</th><th>설명</th><th>근거/목적</th><th>실무 체크리스트</th></tr></thead><tbody><tr><td style=text-align:right>표준</td><td>RFC / IANA / ISO</td><td>프로토콜·포트·인터페이스 규정 준수</td><td>상호운용성·예측성 확보</td><td>사용 RFC 목록, IANA 포트 정책 문서화</td></tr><tr><td style=text-align:right>주소/라우팅</td><td>IPv4/IPv6, IP plan, BGP/OSPF</td><td>주소계획·경로 제어·Anycast/GSLB 설계</td><td>연결성·지연 최적화·DR</td><td>IP 대역표, NAT 정책, BGP 정책 템플릿</td></tr><tr><td style=text-align:right>인터페이스</td><td>SAP / API / Gateway API</td><td>계층간 명세·API 계약</td><td>모듈화·교체 용이성</td><td>인터페이스 스펙, 버전 관리</td></tr><tr><td style=text-align:right>보안</td><td>TLS/mTLS, 인증서, ZTNA, RBAC</td><td>데이터 암호화·접근 통제</td><td>규정준수·침해 방지</td><td>Cert 발급·갱신 정책, ZTNA 정책</td></tr><tr><td style=text-align:right>관측성</td><td>로그·메트릭·트레이스, Time sync</td><td>사건 상관·SLO 검증</td><td>문제 탐지·자동화 근거</td><td>OpenTelemetry 설정, NTP 구성</td></tr><tr><td style=text-align:right>성능</td><td>MTU/PMTU, BDP, QoS(DSCP)</td><td>단편화·버퍼·대역폭 관리</td><td>지연·처리량 SLO 달성</td><td>MTU 표준, DSCP 매핑, BDP 계산</td></tr><tr><td style=text-align:right>운영/자동화</td><td>IaC, CI/CD, GitOps</td><td>재현 가능한 배포·정책 적용</td><td>오류 감소·빠른 롤백</td><td>IaC 리포, PR 검증, OPA 정책</td></tr><tr><td style=text-align:right>복원성</td><td>HA, Failover, DR</td><td>장애 시 연속성 보장</td><td>가용성 유지</td><td>Active-Active/Passive 설계, 헬스체크</td></tr><tr><td style=text-align:right>테스트/검증</td><td>Staging, Load test, Chaos</td><td>배포 전 검증·내결함성 테스트</td><td>리스크 감소</td><td>iperf, chaos 시나리오, 회귀 테스트</td></tr><tr><td style=text-align:right>컴플라이언스</td><td>GDPR/PCI/HIPAA 등</td><td>규제 준수 및 증빙</td><td>법적·비즈니스 리스크 저감</td><td>로그 보존 정책, 마스킹 규칙</td></tr></tbody></table><ul><li>표준·주소·보안·관측성·성능·자동화·복원성·테스트·컴플라이언스는 서로 보완하는 전제조건이다. 예를 들어 TLS(보안) 는 규정·데이터 보호를 만족시키지만, 같은 시간대 로그가 없으면 사고 원인 규명이 불가하다 (관측성 필요). 주소계획과 BGP 는 글로벌 라우팅과 비용·지연에 직접 영향을 미치며, MTU/BDP 같은 전송 레벨 설정은 실제 성능에 직접적 영향을 준다. 모든 항목을 문서화하고 자동화해 반복 가능한 운영을 확보하는 것이 핵심이다.</li></ul><h4 id=핵심-특징>핵심 특징<a hidden class=anchor aria-hidden=true href=#핵심-특징>#</a></h4><p>OSI 계층의 핵심 특징은 **&rsquo; 복잡한 네트워크를 작은 역할 단위로 쪼개어 설계·표준화하는 방법 &lsquo;**이다.<br>각 계층은 자신에게 할당된 기능만 수행하고 위아래 계층과 표준화된 인터페이스로 연결되어, 프로토콜을 바꿔도 전체 시스템이 유지되게 한다. 이로써 구현·디버깅·교체·확장이 쉬워지지만, 현실에서는 TLS 나 QUIC 처럼 계층을 넘나드는 기술이 나오므로 개념 (OSI) 과 실무 (TCP/IP) 를 함께 이해해야 한다.</p><table><thead><tr><th>특징</th><th style=text-align:right>기술적 근거</th><th>이전 기술/차별점</th><th>실무적 의미 (예시)</th></tr></thead><tbody><tr><td>계층화 아키텍처</td><td style=text-align:right>계층별 인터페이스·캡슐화</td><td>벤더 종속 통합 스택 → 표준 분리</td><td>모듈화 설계, 문제 분리 (예: 라우팅 문제는 L3)</td></tr><tr><td>서비스 추상화</td><td style=text-align:right>상위는 하위 서비스 이용, 내부 은닉</td><td>직접 하드코딩 방식 → 인터페이스 중심</td><td>애플리케이션은 전송 세부 몰라도 동작</td></tr><tr><td>프로토콜 독립성</td><td style=text-align:right>표준 인터페이스로 프로토콜 교체 가능</td><td>비표준적 프로토콜 종속성 ↓</td><td>TCP→QUIC 전환 시 애플리케이션 영향↓</td></tr><tr><td>캡슐화/역캡슐화</td><td style=text-align:right>헤더/트레일러 추가·제거 (송신/수신)</td><td>일관된 패킷 포맷 부재 → 일관성 확보</td><td>Wireshark 로 이더넷→IP→TCP→HTTP 층 확인</td></tr><tr><td>전송 방식 공존</td><td style=text-align:right>포트·세그먼트 구조·프로토콜 필드</td><td>단일 전송 모델 → 선택적 전송 최적화</td><td>UDP(실시간), TCP(신뢰), QUIC(보안 + 전송)</td></tr><tr><td>확장성 (옵션·헤더)</td><td style=text-align:right>확장 필드/버전 필드 설계</td><td>고정 포맷 한계 → 확장 가능성 확보</td><td>IPv6 확장헤더, TCP 옵션 등</td></tr><tr><td>계층 경계의 모호성</td><td style=text-align:right>보안·성능 통합 기술 (TLS, QUIC)</td><td>순수 OSI 분리와 차이</td><td>문제 진단 시 계층 횡단적 분석 필요</td></tr></tbody></table><p>OSI 의 핵심은 <strong>작은 책임 (계층) 으로 나누어 복잡도를 낮추고, 표준화된 인터페이스로 다양한 구현과 프로토콜을 공존시키는 것</strong>이다. 기술적 근거는 캡슐화·주소 분리·인터페이스 규약 등이며, 실무에서는 계층 모델을 도구로 삼되 TLS·QUIC 같은 계층 횡단 기술을 이해해 적용·디버깅에 활용해야 한다.</p><h3 id=핵심-원리-및-이론적-기반>핵심 원리 및 이론적 기반<a hidden class=anchor aria-hidden=true href=#핵심-원리-및-이론적-기반>#</a></h3><h4 id=핵심-원칙-및-설계-철학>핵심 원칙 및 설계 철학<a hidden class=anchor aria-hidden=true href=#핵심-원칙-및-설계-철학>#</a></h4><p>OSI 설계 철학은 복잡한 네트워크를 &rsquo; 작은 역할 덩어리 (계층)&rsquo; 로 쪼개어 각 계층이 자신 역할만 책임지도록 만드는 것이다. 이렇게 하면 각 계층을 독립적으로 설계·교체할 수 있고, 표준화된 인터페이스로 다른 제조사 제품과도 문제없이 통신할 수 있다. 캡슐화로 데이터에 필요한 제어정보를 추가하고, 오류·보안 처리는 적절한 계층에서 담당하게끔 분배한다.</p><h5 id=핵심-원칙>핵심 원칙<a hidden class=anchor aria-hidden=true href=#핵심-원칙>#</a></h5><table><thead><tr><th>원칙</th><th>목적</th><th>왜 필요한가 (이유)</th><th>실무 예시</th></tr></thead><tbody><tr><td>계층화</td><td>복잡성 분리 및 모듈화</td><td>변경·확장·이해 용이 → 유지보수 비용 절감</td><td>OSI 7 계층, TCP/IP 매핑</td></tr><tr><td>추상화</td><td>간단한 서비스 인터페이스 제공</td><td>상위 계층이 하위 구현에 의존하지 않음</td><td>소켓 API 가 전송 세부 숨김</td></tr><tr><td>캡슐화</td><td>계층별 제어정보 유지</td><td>데이터 전달 시 메타데이터 보존·보안</td><td>이더넷 프레임 (헤더)+IP 패킷 (헤더)</td></tr><tr><td>저결합·고응집</td><td>모듈 독립성 및 내부 일관성</td><td>변경 영향 최소화, 테스트 용이</td><td>모듈화된 네트워크 스택 구현</td></tr><tr><td>표준화</td><td>상호운용성 확보</td><td>벤더 종속 제거, 글로벌 연동</td><td>RFC, ISO 표준, 프로토콜 스펙</td></tr><tr><td>정보 은닉</td><td>내부 구현 비노출</td><td>보안·안정성 향상, 변경 유연성</td><td>드라이버/하드웨어 추상화</td></tr><tr><td>피어 투 피어 통신</td><td>양쪽 계층 규격 정합</td><td>논리적 통신 규칙 보장</td><td>TCP 세션의 양방향 상태</td></tr><tr><td>계층별 오류 처리</td><td>책임 있는 복구 수행</td><td>중복 재시도 방지, 효율적 장애 복구</td><td>TCP 재전송 vs L2 프레임 재시도</td></tr></tbody></table><ul><li>각 원칙은 &rsquo; 누가 무엇을 책임지는지 &rsquo; 와 &rsquo; 계층 간 경계를 어떻게 유지할지 &rsquo; 를 정의한다. 계층화·추상화·캡슐화는 시스템을 분해해 관리성을 높이고, 저결합·표준화는 실제 다중 공급자 환경에서 상호운용성을 보장한다. 오류 처리는 중복·비효율을 피하기 위해 계층별로 역할을 분배한다.</li></ul><h5 id=설계-철학>설계 철학<a hidden class=anchor aria-hidden=true href=#설계-철학>#</a></h5><table><thead><tr><th>설계 철학</th><th>목적</th><th>왜 필요한가 (이유)</th><th>적용 예시</th></tr></thead><tbody><tr><td>Low Coupling, High Cohesion</td><td>모듈 독립성 + 내부 응집</td><td>시스템 변화 시 영향 범위 축소</td><td>네트워크 드라이버와 TCP 스택 분리</td></tr><tr><td>Abstraction</td><td>복잡성 은닉 및 재사용성</td><td>상위 레이어 단순화, 구현 교체 가능</td><td>Socket API, 가상 NIC</td></tr><tr><td>Encapsulation</td><td>데이터와 제어정보 결합</td><td>전달 중 필요한 제어 정보 유지</td><td>패킷 캡슐화 (헤더 추가)</td></tr><tr><td>Standardization</td><td>상호운용성 보장</td><td>다양한 구현체 간 통신 보장</td><td>RFC / ISO 규격</td></tr><tr><td>End-to-End Principle</td><td>단말에 책임 위임</td><td>중간 네트워크 단순화, 종단 무결성 보장</td><td>애플리케이션 레벨 재전송 (TCP)</td></tr><tr><td>Modularity</td><td>확장·교체 용이</td><td>새로운 기술 도입 시 영향 최소화</td><td>프로토콜 스택 플러그인 구조</td></tr><tr><td>Interface-first Design</td><td>명확한 계약 기반 개발</td><td>구현 독립적 협업 가능</td><td>서비스 인터페이스 명세</td></tr></tbody></table><ul><li>설계 철학은 &rsquo; 어떻게 설계해야 하는지 &rsquo; 의 근본 원리다. 저결합·추상화·모듈성은 빠른 변화와 확장을 지원하고, 표준화는 실제 배포 환경에서의 상호 운용성을 책임진다. End-to-End 원칙은 네트워크에 불필요한 복잡성을 주지 않도록 종단 단말에 중요한 책임을 맡긴다.</li></ul><h4 id=기본-동작-원리-및-메커니즘>기본 동작 원리 및 메커니즘<a hidden class=anchor aria-hidden=true href=#기본-동작-원리-및-메커니즘>#</a></h4><p>네트워크에서 데이터는 응용에서 생성되어 계층별로 헤더를 붙여 (캡슐화) 물리 매체로 전송되고, 수신측에서 역순으로 헤더를 제거 (디캡슐화) 해 원본 데이터를 복원한다.</p><p>IP 는 패킷의 목적지 전달 (라우팅·TTL·단편화) 을 담당하고, 전송층의 TCP 는 연결·신뢰성·흐름·혼잡제어를 제공하며 UDP 는 경량·저지연을 제공한다. 최신 QUIC 는 UDP 위에서 전송·암호화를 통합해 연결 지연을 줄이고 이동성을 개선하지만 전통적 계층 경계를 흐리게 한다.</p><p>실무에서는 이들 동작을 이해하고 캡슐화·혼잡·단편화·프로토콜 별 특성을 기준으로 문제를 진단·최적화한다.</p><table><thead><tr><th>항목</th><th style=text-align:right>계층</th><th>핵심 메커니즘</th><th>동작 요지</th><th>실무 관찰/툴</th></tr></thead><tbody><tr><td>캡슐화/디캡슐화</td><td style=text-align:right>전 계층</td><td>각 계층 헤더/트레일러 추가·제거</td><td>상위→하위 (헤더 추가), 하위→상위 (헤더 제거)</td><td>Wireshark: PDU 별 디스섹션</td></tr><tr><td>IP 라우팅</td><td style=text-align:right>L3 (네트워크)</td><td>최장접두사 매칭, TTL, 단편화, PMTUD</td><td>패킷 경로 결정·루프 방지·MTU 조정</td><td><code>traceroute</code>, <code>ip route</code>, <code>tcpdump</code></td></tr><tr><td>TCP 신뢰성</td><td style=text-align:right>L4 (전송)</td><td>3-way handshake, ACK, 재전송, 순서보장, SACK</td><td>연결형, 신뢰성·순서·재전송 관리</td><td><code>ss</code>, <code>tcpdump</code>, <code>wireshark</code></td></tr><tr><td>TCP 흐름/혼잡 제어</td><td style=text-align:right>L4</td><td>윈도우 (수신·송신), CUBIC/BBR, RTO</td><td>과다 전송 방지·네트워크 적응</td><td><code>sysctl</code>, <code>iperf3</code>, <code>bpf</code></td></tr><tr><td>UDP</td><td style=text-align:right>L4</td><td>비연결·무검증</td><td>낮은 오버헤드, 애플리 책임</td><td><code>tcpdump</code>, <code>iperf3 -u</code></td></tr><tr><td>QUIC</td><td style=text-align:right>app/transport (UDP 기반)</td><td>TLS1.3 통합, 스트림, 0-RTT, connID, migration</td><td>빠른 연결 설정·다중 스트림·암호화된 헤더</td><td>Wireshark QUIC, quic-go, curl &ndash;http3</td></tr><tr><td>단편화/PMTUD</td><td style=text-align:right>L3/L4 보조</td><td>IPv4 단편화, PMTUD/PLPMTUD</td><td>경로 MTU 불일치 시 조정</td><td><code>ping -M do -s</code>, <code>tracepath</code></td></tr><tr><td>AQM / 큐관리</td><td style=text-align:right>네트워크 장비</td><td>FQ-CoDel, PIE</td><td>큐 지연 제어, 버퍼블로트 완화</td><td><code>tc qdisc</code>, <code>ss</code></td></tr><tr><td>재전송·복구 전략</td><td style=text-align:right>L4</td><td>Fast Retransmit, SACK, PTO(QUIC)</td><td>빠른 손실 복구</td><td>Wireshark 재전송 플래그</td></tr><tr><td>관측성 지표</td><td style=text-align:right>통합</td><td>RTT, p50/p95/p99, 재전송률, 재정렬률</td><td>성능·품질 지표</td><td>Prometheus, Grafana, tcpdump</td></tr></tbody></table><ul><li><strong>캡슐화</strong>가 모든 동작의 기본: 디버깅 시 각 계층의 헤더·PDU 를 확인하면 문제 원인을 좁힐 수 있다.</li><li><strong>IP 는 전달 (라우팅)/MTU</strong> 문제를, <strong>TCP 는 신뢰성·혼잡/흐름</strong>을, <strong>UDP 는 경량 전송</strong>을 담당한다.</li><li><strong>QUIC 는 UDP 위에서 전송 + 보안 + 스트리밍을 결합</strong>해 지연 감소와 이동성 개선을 제공하되, 운영 관점에서는 암호화된 헤더 때문에 가시성이 줄어든다.</li><li><strong>AQM·혼잡제어</strong>는 네트워크 전반 성능에 직접 영향을 주므로 장비와 호스트 양쪽에서 설정·실험이 필요하다.</li></ul><h5 id=캡슐화-encapsulation--디캡슐화-decapsulation>캡슐화 (Encapsulation) · 디캡슐화 (Decapsulation)<a hidden class=anchor aria-hidden=true href=#캡슐화-encapsulation--디캡슐화-decapsulation>#</a></h5><ul><li><strong>캡슐화</strong>: 송신 측에서 상위 계층 데이터에 계층별 헤더 (및 필요 시 트레일러) 를 순차적으로 추가해 하위 계층으로 넘기는 과정.</li><li><strong>디캡슐화</strong>: 수신 측에서 물리 비트 → 상위 계층으로 진행하면서 각 계층의 헤더를 제거·검증해 원본 페이로드로 복원하는 과정.</li></ul><p>이 메커니즘을 이해하면 문제 격리 (PDU 별 검사), MTU/단편화 처리, 암호화로 인한 가시성 문제, 중간장비의 영향 등을 정확히 진단·설계할 수 있다.</p><h6 id=계층별-pdu>계층별 PDU<a hidden class=anchor aria-hidden=true href=#계층별-pdu>#</a></h6><p>PDU 는 계층마다 고유한 이름과 제어정보를 가지며, <strong>캡슐화 (애플리케이션 → 물리)</strong> 와 <strong>디캡슐화 (물리 → 애플리케이션)</strong> 로 데이터가 이동한다.</p><table><thead><tr><th style=text-align:right>계층 (OSI)</th><th style=text-align:center>PDU 이름</th><th style=text-align:left>주요 제어정보 (예)</th><th style=text-align:left>대표 프로토콜</th><th style=text-align:left>실무 포인트</th></tr></thead><tbody><tr><td style=text-align:right>L7 응용 (Application)</td><td style=text-align:center>Data</td><td style=text-align:left>요청 ID, 헤더 (TraceID), 쿠키</td><td style=text-align:left>HTTP, gRPC, DNS</td><td style=text-align:left>비즈니스 의미·분산 추적 필요</td></tr><tr><td style=text-align:right>L6 표현 (Presentation)</td><td style=text-align:center>Data / TLS Record</td><td style=text-align:left>암호스위트, 세션 재개 토큰</td><td style=text-align:left>TLS, MIME</td><td style=text-align:left>암호화로 중간 가시성 감소</td></tr><tr><td style=text-align:right>L5 세션 (Session)</td><td style=text-align:center>Data</td><td style=text-align:left>세션 ID, 재연결 정보</td><td style=text-align:left>WebSocket 등</td><td style=text-align:left>세션 복구·타임아웃 정책</td></tr><tr><td style=text-align:right>L4 전송 (Transport)</td><td style=text-align:center>Segment / Datagram</td><td style=text-align:left>SEQ/ACK, Win, Flags, Ports, Checksum, ECN</td><td style=text-align:left>TCP, UDP, QUIC</td><td style=text-align:left>신뢰성·흐름·혼잡 제어 핵심</td></tr><tr><td style=text-align:right>L3 네트워크 (Network)</td><td style=text-align:center>Packet</td><td style=text-align:left>Src/Dst IP, TTL, DF, Fragment Offset, DSCP</td><td style=text-align:left>IPv4/IPv6, ICMP</td><td style=text-align:left>라우팅·PMTUD·QoS 의 기반</td></tr><tr><td style=text-align:right>L2 데이터링크 (Data Link)</td><td style=text-align:center>Frame</td><td style=text-align:left>Src/Dst MAC, EtherType, VLAN, FCS</td><td style=text-align:left>Ethernet, 802.11, ARP</td><td style=text-align:left>LAN 전달·무결성 (하드웨어 드롭)</td></tr><tr><td style=text-align:right>L1 물리 (Physical)</td><td style=text-align:center>Bits / Symbols</td><td style=text-align:left>신호 파라미터, preamble</td><td style=text-align:left>PHY(Ethernet/Wi-Fi 등)</td><td style=text-align:left>물리 매체·비트에러율 영향</td></tr></tbody></table><pre class=mermaid>flowchart LR
  subgraph TX[&#34;송신 (Encapsulation)&#34;]
    A[&#34;응용 (L7) - Data&#34;] --&gt; B[&#34;표현 (L6) - TLS/MIME&#34;]
    B --&gt; C[&#34;세션 (L5) - SessionID&#34;]
    C --&gt; D[&#34;전송 (L4) - TCP/UDP/QUIC&#34;]
    D --&gt; E[&#34;네트워크 (L3) - IP Packet&#34;]
    E --&gt; F[&#34;데이터링크 (L2) - Ethernet Frame&#34;]
    F --&gt; G[&#34;물리 (L1) - Bits&#34;]
  end

  G --&gt; N[매체/네트워크]

  subgraph RX[&#34;수신 (Decapsulation)&#34;]
    N --&gt; G2[&#34;물리 (L1) - Bits&#34;]
    G2 --&gt; F2[&#34;데이터링크 (L2) - Frame 검증 (FCS)&#34;]
    F2 --&gt; E2[&#34;네트워크 (L3) - IP 처리 (TTL, Fragment)&#34;]
    E2 --&gt; D2[&#34;전송 (L4) - 재조립/ACK/복구&#34;]
    D2 --&gt; C2[&#34;세션 (L5) - 세션 복구&#34;]
    C2 --&gt; B2[&#34;표현 (L6) - 복호화/디코딩&#34;]
    B2 --&gt; A2[&#34;응용 (L7) - 원본 Data&#34;]
  end

  style TX fill:#e8f5e9
  style RX fill:#e3f2fd
</pre><ul><li><p><strong>송신 (캡슐화)</strong></p><ol><li>애플리케이션 데이터 생성 → L7 헤더 포함.</li><li>표현/세션 계층에서 암호화·세션정보 첨부 (TLS 레코드 등).</li><li>전송층: 포트, SEQ/ACK(또는 QUIC stream id), 윈도우 등 제어정보 부여.</li><li>네트워크층: IP src/dst, TTL, DF/fragment 정보 추가.</li><li>데이터링크: MAC 주소·VLAN·FCS 추가 후 물리로 전송.</li></ol></li><li><p><strong>수신 (디캡슐화)</strong></p><ol><li>물리에서 비트 수신 → L2 프레임 복원 및 FCS 검증.</li><li>L3 에서 IP 처리 (TTL 검사, 단편화 조립 혹은 폐기).</li><li>L4 에서 세그먼트 재조립, 손실복구/ACK 처리, 포트 기반 전달.</li><li>표현/세션에서 복호화·세션 복구 → 응용에 전달.</li></ol></li></ul><h6 id=중요성>중요성<a hidden class=anchor aria-hidden=true href=#중요성>#</a></h6><p>캡슐화는 상위 계층 데이터에 계층별 헤더 (트레일러) 를 추가해 전송 단위를 만드는 과정이고, 디캡슐화는 수신 측에서 역순으로 이를 제거해 원본을 복원한다.</p><p>이 메커니즘은 계층별 책임 분리 (모듈성), 표준 기반 상호운용성, 문제 격리·디버깅, 보안 정책 적용, 확장성/교체 용이성 등을 가능하게 하지만 동시에 헤더 오버헤드·MTU/단편화·가시성 저하 (암호화) 같은 실무적 문제를 야기하므로 설계·관측·테스트 전략이 필요하다.</p><table><thead><tr><th>중요성 (핵심 가치)</th><th>설명</th><th>해결하는 문제</th><th>실무 영향</th><th>권장 대응 / 체크포인트</th></tr></thead><tbody><tr><td>모듈성 (책임 분리)</td><td>각 계층이 고유 역할만 수행하도록 분리</td><td>복잡성 집중·병렬 개발 불가</td><td>설계·테스트·교체 쉬움</td><td>계층별 인터페이스 문서화, 단위 테스트</td></tr><tr><td>상호운용성</td><td>표준 PDU 와 인터페이스로 벤더/프로토콜 호환 보장</td><td>이기종 시스템 통신 불가</td><td>장비·소프트웨어 교체 용이</td><td>표준 준수 (IPv4/6, TCP, HTTP 등) 검증</td></tr><tr><td>문제 격리·디버깅</td><td>PDU 별 검사로 장애 원인 신속 식별</td><td>원인 진단 시간 증가</td><td>장애 대응 시간 단축</td><td>Wireshark/tcpdump 로 계층별 PDU 검사, 캡처 위치 선정</td></tr><tr><td>보안·프라이버시 관리</td><td>표현/세션 계층에서 암호화·무결성 제공</td><td>도청·무결성 위협</td><td>트래픽 기밀성 확보 (단, 가시성 감소)</td><td>엣지 TLS 종료 정책, 분산 추적 (TraceID) 삽입</td></tr><tr><td>확장성·교체 용이성</td><td>새로운 기술/프로토콜을 상위/하위 교체 가능</td><td>레거시와 신규 동시 운영 어려움</td><td>기술 전환 비용 절감</td><td>오버레이·터널 설계 문서화, 단계적 마이그레이션</td></tr><tr><td>성능·오버헤드</td><td>헤더/트레일러로 페이로드 효율 저하 가능</td><td>대역폭 낭비, MTU 초과 → 단편화</td><td>처리량/지연 영향</td><td>MTU 설계 (오버레이 고려), 헤더 압축, NIC 오프로딩 활용</td></tr><tr><td>관측성 (가시성)</td><td>암호화/암호화된 헤더는 중간 장비 가시성 감소</td><td>네트워크 이상 탐지 어려움</td><td>운영·보안 모니터링 제약</td><td>애플리케이션 로그/Trace 보강, eBPF 관측 도입</td></tr><tr><td>중간장비 영향</td><td>NAT, LB, 방화벽이 헤더를 변경하거나 재마킹</td><td>추적·정책 불일치</td><td>트래픽 흐름·QoS 왜곡</td><td>DSCP 정책 표준화, 재마킹 규칙 문서화, X-Forwarded-* 사용</td></tr></tbody></table><h6 id=구체적-예시>구체적 예시<a hidden class=anchor aria-hidden=true href=#구체적-예시>#</a></h6><ol><li><p>HTTP 요청 (TCP over IPv4 over Ethernet)</p><ul><li><p>캡슐화 (송신 흐름, 단계별 PDU & 예시 값)</p><ol><li><p><strong>L7 응용 (HTTP)</strong></p><ul><li>PDU: <code>GET /index.html\r\nHost: example\r\n…</code> (예: 64 바이트)</li></ul></li><li><p><strong>L4 전송 (TCP)</strong></p><ul><li>PDU: Segment</li><li>추가 필드 예시: <code>srcPort=54321, dstPort=80, seq=1001, flags=SYN/ACK, win=65535</code></li></ul></li><li><p><strong>L3 네트워크 (IPv4)</strong></p><ul><li>PDU: Packet</li><li>추가 필드 예시: <code>src=10.0.0.1, dst=93.184.216.34, TTL=64, DSCP=0</code></li></ul></li><li><p><strong>L2 데이터링크 (Ethernet)</strong></p><ul><li>PDU: Frame</li><li>추가 필드 예시: <code>dstMAC=aa:bb:cc:dd:ee:ff, srcMAC=11:22:33:44:55:66, EtherType=0x0800</code></li></ul></li><li><p><strong>L1 물리</strong> → 비트로 전송</p></li></ol></li><li><p><strong>크기 예시 (단순 계산)</strong></p><ul><li>Ethernet header 14 + IPv4 20 + TCP 20 + HTTP(페이로드) 64 + FCS 4 = 122 바이트.<br>(계산: 14+20=34 → +20=54 → +64=118 → +4=122)</li></ul></li><li><p>디캡슐화 (수신, 검증 포인트)</p><ul><li>L1: 물리 신호 수신 → 오류 (비트 에러) 검사</li><li>L2: FCS 검증 → 프레임 드롭 시 상위에는 로그 없음 (스위치/NIC 에서 드롭)</li><li>L3: IP 헤더 검증 (TTL, checksum(IPv4) 등), DF(분절 금지) 확인</li><li>L4: TCP 세그먼트 재조립, seq/ack 처리, 체크섬 확인 → 재전송/재정렬 여부 확인</li><li>L7: HTTP 페이로드 전달</li></ul></li></ul></li><li><p>DNS 질의 (UDP over IPv4 over Ethernet)</p><ul><li>캡슐화<ol><li>L7: DNS query (예: 32 바이트)</li><li>L4: UDP (srcPort=random, dstPort=53, checksum)</li><li>L3: IPv4 (src/dst IP)</li><li>L2: Ethernet</li></ol></li><li><strong>특징</strong>:<ul><li>비연결성—재전송·순서 보장 없음.</li><li>애플리케이션 (클라이언트) 이 타임아웃 후 재시도 담당.</li></ul></li><li>디캡슐화/검증 포인트<ul><li>UDP 체크섬 (옵션), IP TTL 및 패킷 길이</li><li>애플리케이션 레벨에서 ID 일치 여부로 응답 매칭</li></ul></li></ul></li><li><p>HTTP/3 (QUIC over UDP)</p><ul><li>캡슐화<ol><li><p>L7/L4 혼합: QUIC uses UDP as substrate but implements transport & TLS</p><ul><li>QUIC 패킷 내부에 CRYPTO frames(=TLS 1.3 handshake), STREAM frames(애플리케이션 데이터) 포함</li><li>주요 필드: Connection ID, Packet Number, CRYPTO frame, Stream ID</li></ul></li><li><p>L3: IPv4/IPv6</p></li><li><p>L2: Ethernet</p></li></ol></li><li><strong>특징</strong>:<ul><li>0-RTT 가능</li><li>연결 migration(클라이언트 IP 변경) 지원</li><li>헤더/메타데이터 대부분 암호화됨.</li></ul></li><li>디캡슐화/검증 포인트<ul><li>L2/L3 는 정상 (eth/ip) 인지 확인 → L4 UDP 포트 (443) 확인</li><li>QUIC 핸드셰이크 (Initial/Handshake) 관찰: Wireshark <code>quic</code> dissector 가 CRYPTO frames 표시</li><li>TLS 키 로그로 복호화 가능 (클라이언트가 키로그 생성 시) → <code>SSLKEYLOGFILE</code> 사용</li></ul></li></ul></li><li><p>오버레이/터널링 (VXLAN 예시: inner Ethernet encapsulated into outer UDP/IP)</p><ul><li><p>캡슐화</p><ul><li>내부 (원본) 프레임: Inner Ethernet(14) + inner IP + inner L4 + payload</li><li>외부 (오버레이) 헤더 추가: outer Ethernet (14) + outer IPv4 (20) + outer UDP (8) + VXLAN header (8)</li></ul></li><li><p><strong>추가 오버헤드</strong>: 약 14+20+8+8 = 50 바이트 (대략) → 유효 MTU 가 1500 이면 실제 최대 페이로드는 1500 − 50 = 1450 바이트</p></li><li><p><strong>예시 계산</strong></p><ul><li>일반 HTTP 프레임 (앞서 예시 122 바이트) + VXLAN 오버헤드 50 = 172 바이트 총전송</li></ul></li><li><p>디캡슐화/검증 포인트</p><ul><li>MTU 고려: 터널링으로 패킷이 커지면 경로에서 단편화 또는 드롭 발생</li><li>PMTUD 실패 시 <code>ICMP Type 3 Code 4 (Fragmentation needed)</code> 관찰 가능</li><li>중간 스위치/NIC 가 FCS 처리/교체하는 위치 확인 필요</li></ul></li></ul></li></ol><h6 id=문제와-대응>문제와 대응<a hidden class=anchor aria-hidden=true href=#문제와-대응>#</a></h6><table><thead><tr><th>문제</th><th>설명 (무엇이 일어나는가)</th><th>주요 원인</th><th style=text-align:right>실무 영향</th><th>운영 징후 (탐지 방법)</th></tr></thead><tbody><tr><td>MTU / 단편화로 인한 성능 저하</td><td>패킷이 경로 MTU 보다 커서 분할되거나 경로에서 드롭됨</td><td>터널/오버레이 (VXLAN/GRE), 잘못된 MTU 설정, ICMP 차단</td><td style=text-align:right>지연·재전송 증가, 처리량 저하, 애플리케이션 타임아웃</td><td>pmtu 관련 ICMP(타입 3 코드 4) 증가, <code>tracepath</code>/<code>ping -M do</code> 실패, p99 지연 상승</td></tr><tr><td>TLS / QUIC 로 인한 관측성 상실</td><td>페이로드·헤더 일부가 암호화되어 중간장비에서 패킷 내용/메타를 볼 수 없음</td><td>TLS 종료 없음, QUIC(헤더 암호화) 사용</td><td style=text-align:right>네트워크 기반 IDS/애플리 성능 분석 난이도↑, 빠른 문제원인 추적 불가</td><td>L7 세부 흐름 미표시 (Wireshark 에 application decode 없음), 모니터링 지표 부족 (재전송 원인 불명)</td></tr><tr><td>중간박스 (로드밸런서/NAT) 재마킹 혼선</td><td>중간장비가 포트/IP/DSCP 등 헤더를 변경하여 원본 식별·정책 혼선 발생</td><td>NAT, SNAT, L7 프록시, DSCP 재마킹 정책 부재</td><td style=text-align:right>추적성 손상, QoS 오작동, 헬스체크 실패</td><td><code>X-Forwarded-For</code> 불일치, DSCP 값 변동, 헬스체크 실패/오류 증가</td></tr><tr><td>헤더 오버헤드·대역폭 비효율</td><td>캡슐/터널·프로토콜 헤더가 페이로드 대비 과도해 전송 효율 저하</td><td>다중 오버레이, 불필요한 중간 캡슐화, 압축 미적용</td><td style=text-align:right>비용 증가 (대역폭), 패킷당 처리 비용 증가, MTU 한계 악화</td><td>평균 패킷당 유효 페이로드 비율 저하, 인터페이스 전송률 불균형, pps↑ vs throughput↓</td></tr></tbody></table><p><strong>관측 (Observability)—공통 체크포인트 & 명령어/필터</strong>:</p><ul><li><p><strong>패킷·프로토콜 캡처</strong></p><ul><li><code>tcpdump -i &lt;if> -w capture.pcap 'host &lt;target> and (tcp or udp or icmp)'</code></li><li>Wireshark 필터: <code>icmp && icmp.type==3 && icmp.code==4</code> (PMTUD), <code>quic</code>, <code>tls</code>, <code>vxlan</code>, <code>ip.dsfield</code></li></ul></li><li><p><strong>MTU / 단편화</strong></p><ul><li><code>tracepath &lt;host></code> / <code>ping -M do -s &lt;size> &lt;host></code></li><li>캡처에서 IP flags(DF), Fragment Offset 확인</li></ul></li><li><p><strong>지연·처리량·재전송</strong></p><ul><li>Prometheus/Grafana: p50/p95/p99 latency, retransmit rate, tcp_retransmits (node exporter / eBPF)</li><li><code>ss -s</code> / <code>ss -ti</code> (TCP 상태·재전송)</li></ul></li><li><p><strong>헤더 재마킹 / DSCP</strong></p><ul><li><code>tcpdump -i any -v ip</code> 로 IP TOS/DSCP 관찰</li></ul></li><li><p><strong>QUIC/TLS 가시성</strong></p><ul><li>브라우저/클라이언트 <code>SSLKEYLOGFILE</code> 로 Wireshark 복호화 시도 (QUIC 복호화는 최신 Wireshark + 키 필요)</li></ul></li><li><p><strong>터널 (VXLAN) 영향</strong></p><ul><li><code>tcpdump -i any 'udp port 4789'</code> / Wireshark <code>vxlan</code> 디섹터</li></ul></li><li><p><strong>NIC 오프로드 영향</strong></p><ul><li><code>ethtool -k &lt;if></code> → TSO/GSO/GRO 체크; 캡처 오프로드 비활성화 권장</li></ul></li></ul><p><strong>권장 대응 (Design / 운영)—문제별 구체적 조치</strong></p><ol><li><p>MTU / 단편화 문제</p><ul><li><p>설계 (Design)</p><ul><li>오버레이를 고려한 <strong>유효 MTU</strong> 산정 (오버레이 헤더 바이트 차감) → 모든 링크 MTU 문서화.</li><li>PLPMTUD(Probe-based PMTUD) 기본 허용, ICMP 경로 MTU 관련 허용 규칙 포함.</li></ul></li><li><p>운영 (Ops)</p><ul><li>ICMP Type3 Code4 허용 여부 점검 (방화벽/ACL)—필요 시 제한적 허용 정책 적용.</li><li>MTU 테스트 자동화 (정기): <code>tracepath</code> 스케줄, 문제 발생 알림.</li><li>사용자 보고 시 <code>ping -M do</code> 재현 스크립트 제공.</li></ul></li></ul></li><li><p>TLS / QUIC 관측성 상실</p><ul><li>설계<ul><li>엣지 (ADC/Ingress) 에서 선택적 TLS 종료 검토 (내부 평문 / mTLS 대안 포함)—보안·규정 고려.</li><li>애플리케이션 수준 <strong>TraceID / Request-ID</strong> 표준화 (모든 요청에 전송).</li></ul></li><li>운영<ul><li>eBPF 기반 계측으로 커널/소켓 레벨 메트릭 수집 (재전송·큐깊이·RTT 추적).</li><li>분산추적 (Zipkin/Jaeger)·앱 로그 강화로 암호화 구간 보완 관측.</li><li>QUIC 전용 모니터 (QUIC metrics exporter) 도입.</li></ul></li></ul></li><li><p>중간박스 재마킹 문제</p><ul><li><p>설계</p><ul><li>DSCP/ECN 정책 표준화 및 문서화 (장비 간 보존/리맵 규칙 정의).</li><li>로드밸런서·프록시 아키텍처에서 원본 식별 (Proxy protocol / X-Forwarded-For) 적용 명세.</li></ul></li><li><p>운영</p><ul><li>중간장비 변경 시 변경 로그·정책 동기화 (버전 관리).</li><li>현장 점검: <code>tcpdump -v</code> 로 DSCP/TTL/Port 변조 주기적 검증.</li><li>헬스체크 경로와 서비스 경로의 설정 일관성 확인.</li></ul></li></ul></li><li><p>헤더 오버헤드·대역폭 비효율</p><ul><li><p>설계</p><ul><li>가능하면 헤더 압축 (HTTP/2 HPACK/HTTP/3 QPACK) 적용, 불필요한 터널 제거.</li><li>페이로드 크기 최적화 (애플리 수준 압축) 설계.</li></ul></li><li><p>운영</p><ul><li>인터페이스별 평균 페이로드 대비 오버헤드 비율 모니터링 (pps vs throughput).</li><li>NIC offload (TSO/GSO) 적절 활용 → 캡처·디버깅 시 임시 비활성화.</li><li>비용/대역폭 분석 주기적 수행.</li></ul></li></ul></li></ol><h5 id=mtu-란-무엇인가>MTU 란 무엇인가<a hidden class=anchor aria-hidden=true href=#mtu-란-무엇인가>#</a></h5><ul><li><p><strong>MTU (Maximum Transmission Unit)</strong>: 한 번에 링크 (인터페이스) 가 전송할 수 있는 최대 프레임 크기 (바이트). 이 값에는 L3 IP 패킷 (헤더 + 페이로드) 이 포함된다.<br>예: 이더넷 기본 MTU 는 1500 바이트 (프레임의 페이로드 부분).</p></li><li><p><strong>의미</strong>: MTU 가 작으면 큰 패킷은 분할 (fragmentation) 되거나 (IPv4) 드롭될 수 있고, 과도한 단편화는 성능 저하 (재조립 비용·드롭률 상승) 를 유발한다. 반대로 너무 큰 MTU 는 일부 장비가 처리하지 못해 문제가 될 수 있음.</p></li></ul><h6 id=경로-mtupath-mtu-와-pmtud-의-원리>경로 MTU(Path MTU) 와 PMTUD 의 원리<a hidden class=anchor aria-hidden=true href=#경로-mtupath-mtu-와-pmtud-의-원리>#</a></h6><ul><li><p><strong>Path MTU</strong>: 송신지에서 목적지까지 통과하는 경로 중 가장 작은 MTU 를 의미.</p></li><li><p><strong>PMTUD (Path MTU Discovery)</strong>: 송신측이 <code>DF(Don't Fragment)</code> 비트를 설정해 전송하고, 경로 상의 작은 MTU 를 가진 라우터가 패킷을 드롭하면서 보낸 <strong>ICMP Fragmentation Needed (Type3 Code4)</strong> 메시지를 통해 Path MTU 를 학습해 전송 크기를 줄이는 방식. (IPv4 기준; RFC 1191)</p></li><li><p><strong>한계</strong>: 방화벽/ACL 이 ICMP 를 차단하면 PMTUD 가 실패 (=MTU 블랙홀) 하며 연결 지연·타임아웃이 생길 수 있음. 이 문제는 RFC2923 등에서 보고되어 왔다.</p></li></ul><h6 id=plpmtud-packetization-layer-pmtudicmp-의존성-제거-대안>PLPMTUD (Packetization Layer PMTUD)—ICMP 의존성 제거 대안<a hidden class=anchor aria-hidden=true href=#plpmtud-packetization-layer-pmtudicmp-의존성-제거-대안>#</a></h6><ul><li><strong>PLPMTUD (RFC 4821)</strong>: 전송 계층 (또는 상위의 패킷화 레이어) 이 직접 프로브 (작게 시작해 점진적으로 크게) 로 Path MTU 를 찾아가는 방법. ICMP 의존성을 줄여 방화벽 환경에서도 동작 가능하도록 설계됨. TCP/UDP/QUIC 등의 전송 레이어에서 적용 가능.</li></ul><h6 id=터널--오버레이와-mtu-문제-예-vxlan-gre-ipsec>터널 / 오버레이와 MTU 문제 (예: VXLAN, GRE, IPsec)<a hidden class=anchor aria-hidden=true href=#터널--오버레이와-mtu-문제-예-vxlan-gre-ipsec>#</a></h6><ul><li>터널·오버레이는 <strong>추가 헤더 오버헤드</strong>(예: VXLAN 약 +50 바이트, IPsec/ESP 는 더 큼) 를 발생시켜 유효 MTU 를 줄인다.<br>예: 호스트 인터페이스 MTU 가 1500 이면 VXLAN 내부로 보낼 수 있는 실질 최대 페이로드는 1500 − 오버헤드 (≈50) = 약 1450 바이트가 됨. 이 점을 고려하지 않으면 PMTUD 실패와 단편화가 발생한다.</li></ul><h6 id=흔한-문제-요약-유형별>흔한 문제 요약 (유형별)<a hidden class=anchor aria-hidden=true href=#흔한-문제-요약-유형별>#</a></h6><ol><li><strong>ICMP 차단 → PMTUD 실패 (블랙홀)</strong>: 대형 패킷이 드롭되고 송신측은 원인 파악 어려움.</li><li><strong>오버레이 미고려 → 단편화/드롭</strong>: VXLAN/Geneve/IPsec 등 헤더로 인해 실제 전달 가능한 MTU 가 작아짐.</li><li><strong>서버/장비 MSS 미설정 → TCP 연결 비효율</strong>: TCP MSS 를 클램핑하면 PMTUD 문제가 일부 완화됨.</li></ol><h6 id=실무에서-검증-테스트-하는-방법단계별-절차-명령어-포함>실무에서 검증 (테스트) 하는 방법—단계별 절차 (명령어 포함)<a hidden class=anchor aria-hidden=true href=#실무에서-검증-테스트-하는-방법단계별-절차-명령어-포함>#</a></h6><p>(아래 예제는 Linux 환경 기준)</p><ol><li><p>인터페이스 MTU 확인</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3>3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4>4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5>5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 모든 인터페이스 MTU 확인</span>
</span></span><span class=line><span class=cl>ip link show
</span></span><span class=line><span class=cl><span class=c1># 특정 인터페이스 예: eth0</span>
</span></span><span class=line><span class=cl>ip link show dev eth0
</span></span><span class=line><span class=cl><span class=c1># 또는</span>
</span></span><span class=line><span class=cl>ifconfig eth0
</span></span></code></pre></td></tr></table></div></div></li><li><p>목적지까지 Path MTU 확인 (간단)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2>2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># tracepath는 경로의 PMTU를 보여줌</span>
</span></span><span class=line><span class=cl>tracepath example.com
</span></span><span class=line><span class=cl><span class=c1># 또는 (IPv6) tracepath6</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><code>tracepath</code> 출력에 <code>pmtu</code> 항목이 표시되면 경로 MTU 를 알 수 있다.</li></ul></li><li><p>직접 PMTUD 재현 (핑으로)</p><ul><li>IPv4 표준 이더넷 MTU(1500) 에서 최대 ICMP 페이로드: <code>ping -s 1472</code><br>→ 이유 (계산 확인): IP 헤더 20B + ICMP 헤더 8B + payload(1472) = 1500 바이트 전체 IP 패킷.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># DF set(=기본)으로 최대 크기 전송 시도</span>
</span></span><span class=line><span class=cl>ping -M <span class=k>do</span> -s <span class=m>1472</span> &lt;destination&gt;
</span></span></code></pre></td></tr></table></div></div><ul><li>이 명령이 실패 (드롭) 하면 경로 상 작은 MTU 존재 또는 ICMP 차단 의심.</li></ul></li><li><p>ICMP Fragmentation Needed 포착 (패킷 캡처)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>tcpdump -i any icmp and <span class=s1>&#39;icmp[0]==3 and icmp[1]==4&#39;</span> -vv
</span></span><span class=line><span class=cl><span class=c1># ICMP Type3 Code4 (Fragmentation needed) 를 모니터링</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>IPv6 은 ICMPv6 용 필터 사용</li></ul></li><li><p>PMTUD 문제 우회: MSS 클램핑 (라우터/방화벽에서)</p><ul><li>iptables 예시 (포워딩되는 SYN 패킷의 MSS 를 PMTU 에 맞춰 조정):</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1>1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># IPv4 예시: FORWARD 체인에서 TCP SYN 패킷에 대해 MSS를 클램프</span>
</span></span><span class=line><span class=cl>iptables -t mangle -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu
</span></span></code></pre></td></tr></table></div></div><ul><li>이 규칙은 중간 라우터에서 MSS 를 조정해 송/수신 측의 TCP 세그먼트 크기를 자동으로 낮춰 단편화를 예방.</li></ul></li><li><p>터널 (VXLAN 등) 환경에서 검증</p><ul><li>터널 오버헤드를 계산하고 물리 인터페이스 MTU 에서 오버헤드를 빼서 내부 MTU 를 산정 (또는 물리 MTU 를 늘림).</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># VTEP 인터페이스 MTU 확인/설정</span>
</span></span><span class=line><span class=cl>ip link <span class=nb>set</span> dev vxlan0 mtu <span class=m>1450</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>권장: 가능하면 언더레이 (물리) MTU 를 <code>9000</code> (Jumbo) 으로 늘려 오버헤드 여유 확보.</li></ul></li></ol><h5 id=pmtudpath-mtu-discovery-란>PMTUD(Path MTU Discovery) 란?<a hidden class=anchor aria-hidden=true href=#pmtudpath-mtu-discovery-란>#</a></h5><p>**PMTUD(Path MTU Discovery)**는 송신자가 목적지까지의 경로에서 허용되는 최대 전송 단위 (MTU) 를 자동으로 알아내어, 중간에서 패킷 분할 (fragmentation) 이 필요 없도록 적절한 크기의 패킷을 전송하게 하는 메커니즘이다.<br>목적은 <strong>경로 상에서의 불필요한 IP 프래그멘테이션을 줄이고 성능·신뢰성을 높이는 것</strong>이다.</p><h6 id=어떻게-동작하나>어떻게 동작하나?<a hidden class=anchor aria-hidden=true href=#어떻게-동작하나>#</a></h6><ol><li>송신자는 기본적으로 큰 패킷 (보통 MTU 크기) 을 <strong>DF(Do Not Fragment)</strong> 비트를 켠 채로 전송한다.</li><li>경로의 어느 홉 (라우터) 이 그 패킷을 전달할 수 없을 만큼 MTU 가 작으면 (더 작은 링크가 있으면), 그 라우터는 송신자에게 <strong>ICMP Type 3 Code 4 (Fragmentation Needed)</strong> 메시지를 돌려보낸다 (IPv6 은 ICMPv6 &lsquo;Packet Too Big&rsquo;).</li><li>송신자는 수신한 ICMP 메시지에 명시된 MTU 값 (또는 감지값) 에 따라 전송 패킷 크기 (세그먼트 크기) 를 낮춰 재전송한다.</li><li>이 과정을 반복해 경로 전체에서 안전한 최대 크기를 찾는다.</li></ol><blockquote><p>IPv6 에서는 라우터가 패킷을 잘라서 보내지 못하므로 (라우터 단에서 프래그멘테이션 금지), ICMPv6 <code>Packet Too Big</code> 메시지로만 알려주며, 호스트 (송신자) 가 PMTUD 를 수행해야 한다.</p></blockquote><p>관련 표준: RFC 1191 (IPv4 PMTUD), RFC 1981 (IPv6 PMTUD).<br>현대적 대안 (ICMP 의존을 줄이는 방법): <strong>PLPMTUD (Packetization Layer PMTUD)</strong>—RFC 4821.</p><h6 id=왜-중요한가>왜 중요한가?<a hidden class=anchor aria-hidden=true href=#왜-중요한가>#</a></h6><ul><li><strong>성능</strong>: 불필요한 프래그멘테이션·조립 비용과 재전송을 줄인다.</li><li><strong>신뢰성</strong>: 대형 패킷이 중간에서 드롭되어 발생하는 &rsquo; 간헐적 실패 &rsquo; 를 예방한다.</li><li><strong>효율성</strong>: 애플리케이션이 최대 유효 페이로드를 안전하게 전송하도록 보장한다.</li></ul><h6 id=흔한-문제-및-원인>흔한 문제 (및 원인)<a hidden class=anchor aria-hidden=true href=#흔한-문제-및-원인>#</a></h6><ul><li><strong>ICMP 차단</strong>: 방화벽/ACL 이 ICMP Type3 Code4(또는 ICMPv6 Packet Too Big) 를 차단 → PMTUD 실패 → <strong>MTU 블랙홀</strong> 발생.</li><li><strong>터널/PPPoE/NAT</strong>: 실제 경로 MTU 가 줄어들지만 엔드포인트가 모름 (예: PPPoE 1492).</li><li><strong>중간장비의 PMTUD 미지원/오동작</strong>: ICMP 를 보내지 않거나 잘못된 MTU 정보를 보냄.</li><li><strong>UDP 기반 프로토콜/애플리케이션</strong>: 일부 앱은 fragmentation 처리에 취약 → 문제 발생 시 복구가 어려움.</li></ul><h4 id=데이터-및-제어-흐름-osi-7-계층>데이터 및 제어 흐름 (OSI 7 계층)<a hidden class=anchor aria-hidden=true href=#데이터-및-제어-흐름-osi-7-계층>#</a></h4><table><thead><tr><th>계층</th><th style=text-align:right>PDU 이름</th><th>주요 제어정보</th><th>대표 프로토콜/메커니즘</th><th>실무적 역할/문제 포인트</th></tr></thead><tbody><tr><td>L7 응용 (Application)</td><td style=text-align:right>Data</td><td>세션 토큰, 요청 ID, 인증헤더</td><td>HTTP/HTTPS, gRPC, DNS</td><td>비즈니스 의미, L7 라우팅/리트라이 영향</td></tr><tr><td>L6 표현 (Presentation)</td><td style=text-align:right>Data</td><td>암호화 스위트, 키 교환 메타</td><td>TLS/SSL</td><td>암호화 (가시성 제한), 세션 재개</td></tr><tr><td>L5 세션 (Session)</td><td style=text-align:right>Data</td><td>세션 식별자, 재개 정보</td><td>TLS session, WebSocket</td><td>장기 세션 유지, 재접속 처리</td></tr><tr><td>L4 전송 (Transport)</td><td style=text-align:right>Segment/Datagram</td><td>SEQ, ACK, RCV.WND, CWND, SACK, checksum, flags(SYN/FIN/RST)</td><td>TCP, UDP, QUIC</td><td>신뢰성, 흐름·혼잡 제어, 재전송</td></tr><tr><td>L3 네트워크 (Network)</td><td style=text-align:right>Packet</td><td>IP 주소, TTL, DSCP, IP checksum, Fragment info</td><td>IPv4/IPv6, ICMP</td><td>라우팅·경로 제어, PMTU 문제</td></tr><tr><td>L2 데이터링크 (Link)</td><td style=text-align:right>Frame</td><td>SRC/DST MAC, FCS/CRC, VLAN tag</td><td>Ethernet, 802.11, ARP/ND</td><td>LAN 전달, 오류검출, 브로드캐스트</td></tr><tr><td>L1 물리 (Physical)</td><td style=text-align:right>Bits/Symbols</td><td>전송속도·신호 레벨</td><td>Ethernet PHY, Fiber, Radio</td><td>실제 전송, 물리 장애 (케이블/신호)</td></tr></tbody></table><ul><li>상위 계층은 의미 (데이터·세션) 를, 하위 계층은 전달 (주소·프레이밍·무결성) 을 담당한다.</li><li>전송계층 (L4) 이 가장 많은 제어정보 (SEQ/ACK/윈도우/혼잡지표) 를 가지고 실시간 전송률과 재전송 동작을 결정한다.</li><li>네트워크 (L3) 는 패킷 생존시간 (TTL) 과 경로 문제 (ICMP) 를 통해 경로·MTU 관련 문제를 노출시킨다.</li><li>중간 장비에서의 변경 (포트/헤더/MTU 재저장) 은 상·하위 계층 동작에 직접적 영향을 미친다.</li></ul><h5 id=캡슐화-흐름>캡슐화 흐름<a hidden class=anchor aria-hidden=true href=#캡슐화-흐름>#</a></h5><pre class=mermaid>flowchart LR
  App[&#34;응용 데이터 (L7)&#34;] --&gt; Pres[&#34;표현 (L6) + 암호화&#34;]
  Pres --&gt; Sess[&#34;세션 (L5) + 세션 토큰&#34;]
  Sess --&gt; Trans[&#34;전송 (L4) + SEQ/ACK/CWND&#34;]
  Trans --&gt; Net[&#34;네트워크 (L3) + IP/TTL/DSCP&#34;]
  Net --&gt; Link[L2 프레임 + MAC/FCS/VLAN]
  Link --&gt; Phys[L1 물리: 비트/심볼]
</pre><p>응용에서 시작된 데이터가 표현 (암호화/인코딩) → 세션 (식별) → 전송 (SEQ/ACK 부착) → 네트워크 (IP 헤더 포함) → 링크 (프레임 헤더 +FCS) → 물리 (비트) 로 내려가며 전송된다.</p><p>웹 브라우저에서 웹 페이지를 요청하는 과정을 통한 OSI 모델의 각 계층을 이해해보면:</p><h6 id=송신-측-클라이언트>송신 측 (클라이언트)<a hidden class=anchor aria-hidden=true href=#송신-측-클라이언트>#</a></h6><ol><li><p><strong>응용 계층</strong>: 사용자가 브라우저에 URL 입력, HTTP GET 요청 생성</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1>1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>GET /index.html HTTP/1.1
</span></span><span class=line><span class=cl>Host: www.example.com
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>표현 계층</strong>: HTTP 요청을 표준 형식으로 변환 (ASCII 인코딩 등)</p></li><li><p><strong>세션 계층</strong>: 웹 서버와의 통신 세션 설정</p></li><li><p><strong>전송 계층</strong>: TCP 연결 설정 (3-way handshake), 포트 정보 추가 (클라이언트: 임시 포트, 서버: 80/443)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1>1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>TCP 헤더(출발지 포트: 49152, 목적지 포트: 80, 시퀀스 번호, 등)
</span></span><span class=line><span class=cl>+ HTTP 데이터
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>네트워크 계층</strong>: IP 주소 확인 (DNS 조회로 &lt;www.example.com>을 IP 주소로 변환), IP 헤더 추가</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1>1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>IP 헤더(출발지 IP: 192.168.1.10, 목적지 IP: 93.184.216.34, 등)
</span></span><span class=line><span class=cl>+ TCP 헤더 + HTTP 데이터
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>데이터 링크 계층</strong>: MAC 주소 확인 (ARP 로 다음 홉의 MAC 주소 조회), 이더넷 프레임 생성</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1>1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2>2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>이더넷 헤더(출발지 MAC: AA:BB:CC:DD:EE:FF, 목적지 MAC: 00:11:22:33:44:55, 등)
</span></span><span class=line><span class=cl>+ IP 헤더 + TCP 헤더 + HTTP 데이터
</span></span><span class=line><span class=cl>+ FCS(프레임 체크 시퀀스)
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>물리 계층</strong>: 이더넷 프레임을 전기 신호, 빛 등으로 변환하여 전송 매체로 전송</p></li></ol><h6 id=수신-측-서버>수신 측 (서버)<a hidden class=anchor aria-hidden=true href=#수신-측-서버>#</a></h6><ol><li><strong>물리 계층</strong>: 전기 신호, 빛 등을 비트로 변환</li><li><strong>데이터 링크 계층</strong>: 이더넷 프레임 검증, MAC 주소 확인, 이더넷 헤더와 FCS 제거</li><li><strong>네트워크 계층</strong>: IP 헤더 확인, 목적지 IP 주소가 자신인지 확인, IP 헤더 제거</li><li><strong>전송 계층</strong>: TCP 헤더 확인, 포트 번호로 어떤 응용 프로그램으로 전달할지 결정, TCP 헤더 제거</li><li><strong>세션 계층</strong>: 세션 정보 처리</li><li><strong>표현 계층</strong>: 데이터 형식 해석 (ASCII 디코딩 등)</li><li><strong>응용 계층</strong>: HTTP 요청 처리, 요청된 웹 페이지 (/index.html) 제공</li></ol><h5 id=전송-제어-피드백-루프>전송 제어 피드백 루프<a hidden class=anchor aria-hidden=true href=#전송-제어-피드백-루프>#</a></h5><pre class=mermaid>graph LR
  Sender[송신자 L4] --&gt;|Segment| Router[L3 라우터 / 중간장비]
  Router --&gt; Receiver[L4 수신자]
  Receiver --&gt;|ACK / ECN| Sender
  Router --&gt;|ICMP Fragment Needed| Sender
  Receiver --&gt;|&#34;Flow control 제약(RCV.WND)&#34;| Sender
  Sender --&gt;|Adjust CWND / Retransmit| Sender
</pre><p>수신자는 ACK 이나 ECN 마킹으로 송신자에게 수신 상태·혼잡 상태를 알리고, 네트워크 장비는 ICMP(예: Fragmentation needed) 로 PMTU 문제를 통지한다. 송신자는 CWND 를 조정하거나 재전송을 수행해 전송률을 제어한다.</p><h5 id=모니터링-항목-slosla-연계>모니터링 항목 (SLO/SLA 연계)<a hidden class=anchor aria-hidden=true href=#모니터링-항목-slosla-연계>#</a></h5><ul><li>재전송률 (%)—정상치 기준 설정</li><li>중복 ACK 비율—손실 징후</li><li>RTT p50/p95/p99—지연 분포 모니터링</li><li>ECN 마킹률 vs 패킷 드롭률—혼잡 신호 비교</li><li>ICMP Fragmentation needed 수신 건수—MTU 문제 탐지</li><li>NAT 연결 테이블 사용률 / 타임아웃—세션 누락 방지</li></ul><h5 id=일반적인-문제원인대책>일반적인 문제·원인·대책<a hidden class=anchor aria-hidden=true href=#일반적인-문제원인대책>#</a></h5><table><thead><tr><th>문제</th><th>정의</th><th>주요 원인</th><th>실무 영향</th></tr></thead><tbody><tr><td>MTU 블랙홀 (Path MTU Blackhole)</td><td>경로 중간의 홉이 큰 (DF 설정) 패킷을 버리지만 ICMP <code>Fragmentation Needed</code> 를 보내지 않아 송신자가 MTU 를 낮추지 못해 특정 크기 이상의 패킷이 계속 손실되는 현상</td><td>방화벽/ACL 이 ICMP Type3 Code4 차단, PPPoE/터널로 실제 MTU 감소, 중간 NAT/터널 장비의 PMTUD 미지원</td><td>대용량 전송 실패, 특정 패킷 크기에서만 재전송·타임아웃, 애플리케이션 오류</td></tr><tr><td>중간박스에 의한 세션 분리 (Session splitting)</td><td>L7 프록시/로드밸런서가 클라이언트 연결을 끊고 백엔드에 새로운 연결로 전달하여 세션 연속성이 깨짐</td><td>LB/프록시의 연결 재생성, keepalive/timeout 불일치, 원본 IP 미전달</td><td>로그인/업로드·연결 유지 실패, 세션 스티키 요구 서비스의 오동작</td></tr><tr><td>TLS 종단 (Offload) 로 인한 가시성 상실</td><td>엣지에서 TLS 를 종료하면 애플리케이션 레벨의 원본 요청/본문에 대한 가시성이 줄어들거나 분산 추적이 끊김</td><td>TLS termination(로드밸런서/WAF) + 재암호화 미사용, 로그/trace 미전달</td><td>WAF 탐지·로깅 저하, 트레이스 연속성 파손, 디버깅·보안 분석 어려움</td></tr><tr><td>QUIC(UDP) 차단·불안정</td><td>방화벽/NAT/ISP 가 UDP(주로 443) 를 제한하거나 NAT 세션 타임아웃이 짧아 QUIC 연결 실패 또는 불안정 현상</td><td>기업 방화벽의 UDP 차단, NAT 의 짧은 UDP timeout, DPI 가 QUIC 을 차단/간섭</td><td>HTTP/3 연결 실패 → TCP fallback 또는 서비스 지연·오류, 특정 네트워크에서 이용 불가</td></tr></tbody></table><h6 id=mtu-블랙홀>MTU 블랙홀<a hidden class=anchor aria-hidden=true href=#mtu-블랙홀>#</a></h6><ul><li><p><strong>정의 (문제)</strong>: 경로 상 어느 홉에서 MTU 보다 큰 패킷 (DF 비트 설정) 이 드롭되는데 해당 홉이 ICMP &ldquo;Fragmentation Needed (Type 3, Code 4)&rdquo; 메시지를 송신하지 않거나 필터링하면 송신자가 PMTUD 로 MTU 를 낮추지 못해 특정 크기 이상의 패킷이 지속적으로 손실되는 현상.</p></li><li><p><strong>원인</strong></p><ul><li>네트워크 중간 장비 (방화벽, ACL) 가 ICMP type3(code4) 를 차단.</li><li>PPPoE, 터널 (PPTP/VPN) 등으로 실제 MTU 가 작아졌지만 엔드포인트가 이를 모름.</li><li>NAT/게이트웨이 등에서 PMTUD 처리가 제대로 되지 않음.</li></ul></li><li><p><strong>탐지 / 진단</strong></p><ul><li><code>tracepath &lt;host></code> 로 경로 MTU 추정.</li><li><code>ping -M do -s &lt;size> &lt;host></code> 로 DF(분할금지) 상태에서 테스트 (예: 1500 MTU → <code>ping -M do -s 1472 host</code>).</li><li><code>tcpdump -i &lt;if> icmp</code> 로 ICMP Type3(Code4) 수신 여부 확인.</li><li>애플리케이션 로그/패킷 캡처에서 특정 페이로드 크기에서만 재전송·타임아웃 관찰.</li></ul></li><li><p><strong>구체적 대책</strong></p><ol><li><p><strong>ICMP 허용 (필요 최소 범위)</strong></p><ul><li><p>방화벽에서 ICMP Type3 Code4 허용 (IPv6: ICMPv6 Packet Too Big).</p></li><li><p>예 (iptables):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1>1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2>2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3>3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># IPv4: Fragmentation Needed (Type3 Code4)</span>
</span></span><span class=line><span class=cl>iptables -A INPUT -p icmp --icmp-type fragmentation-needed -j ACCEPT
</span></span><span class=line><span class=cl><span class=c1># IPv6:</span>
</span></span><span class=line><span class=cl>ip6tables -A INPUT -p ipv6-icmp --icmpv6-type packet-too-big -j ACCEPT
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p><strong>MSS 클램핑 (엣지 장비)</strong></p><ul><li><p>SYN 패킷의 TCP MSS 를 경로 MTU 에 맞춰 자동 조정:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>iptables -t mangle -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p><strong>경로/장비 MTU 일관성 보장</strong></p><ul><li>PPPoE(1492)·터널 (예: GRE/VPN) 등에서 MTU 문서화 및 필요 시 MTU 감소 적용.</li></ul></li><li><p><strong>대체: 애플리케이션 레벨에서 작은 패킷 단위 전송 (임시 완화)</strong></p></li></ol></li><li><p><strong>검증</strong></p><ul><li><code>tracepath</code> / <code>ping -M do</code> 재실행으로 문제 해결 여부 확인.</li><li>애플리케이션에서 대용량 전송 성공 여부 테스트.</li><li>모니터링: TCP retransmits 감소, RTO 정상화, ICMP <code>fragmentation-needed</code> 이벤트 감소 확인.</li></ul></li></ul><h6 id=중간박스에-의한-세션-분리>중간박스에 의한 세션 분리<a hidden class=anchor aria-hidden=true href=#중간박스에-의한-세션-분리>#</a></h6><ul><li><p><strong>문제 요약</strong>: L7 로드밸런서나 리버스 프록시가 클라이언트 연결을 백엔드로 " 재생성 &ldquo;(다른 TCP/세션으로 변환) 하거나 세션을 분리하면 애플리케이션 레벨의 세션/연결 친화성이 깨짐 (세션 스티키 요구 서비스에 문제).</p></li><li><p><strong>원인</strong></p><ul><li>L7 프록시가 접속을 종료하고 새 연결로 재전송 (예: SSL termination + new TCP to backend).</li><li>로드밸런서의 timeout/keepalive 정책 불일치로 인해 백엔드 연결이 끊김 (세션 재배치).</li><li>NAT/프록시가 클라이언트 식별자를 제거 (원본 IP 가 사라짐).</li></ul></li><li><p><strong>탐지 / 진단</strong>:</p><ul><li>LB 전/후에서 <code>tcpdump</code> 캡처 후 동일한 클라이언트 요청의 흐름 (소스 IP, source port, seq/ack 패턴) 비교.</li><li>백엔드 로그와 접근 로그에서 클라이언트 IP 불일치 (<code>X-Forwarded-For</code> 누락) 확인.</li><li>애플리케이션에서 세션 ID 가 잦은 교체/끊김 발생 여부 확인.</li></ul></li><li><p><strong>구체적 대책</strong>:</p><ol><li><p><strong>Stateless 설계 권장</strong></p><ul><li>세션을 서버에 저장하지 않고 Redis 등 외부 세션 스토어로 이동하거나 JWT 같은 토큰 사용.</li></ul></li><li><p><strong>Sticky session / Consistent hashing (필요 시)</strong></p><ul><li><p>NGINX <code>ip_hash</code>, HAProxy cookie 등으로 동일 클라이언트를 같은 백엔드로 라우팅.</p></li><li><p>예 (NGINX):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1>1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2>2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3>3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4>4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>upstream</span> <span class=s>backend</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kn>ip_hash</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kn>server</span> <span class=n>backend1</span><span class=p>:</span><span class=mi>80</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kn>server</span> <span class=n>backend2</span><span class=p>:</span><span class=mi>80</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p>_<em>Proxy protocol 또는 X-Forwarded-</em> 헤더 사용 _LB 가 백엔드에 원본 클라이언트 정보 전달:<br>- NGINX: <code>proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</code><br>- HAProxy/ELB 등에서 PROXY protocol 활성화.</p></li><li><p><strong>Timeout/Keepalive 정책 정합성</strong></p><ul><li>LB 와 백엔드의 TCP idle/keepalive, 연결 timeout 을 일치시키기 (예: ALB idle timeout, NGINX proxy_read_timeout).</li></ul></li><li><p><strong>상태 동기화/세션 복제 (필요 시)</strong></p></li></ol></li><li><p><strong>검증</strong>:</p><ul><li>로그인 후 롤링 재배포/재시작 시 세션 유지 여부 확인.</li><li>백엔드 로그에서 <code>X-Forwarded-For</code>/PROXY header 존재 여부 및 IP 일관성 확인.</li><li>트래픽 분산 상태와 균형 확인 (스티키 적용 시 특정 백엔드 과부하 확인).</li></ul></li></ul><h6 id=tls-종단-offload-로-인한-가시성-상실>TLS 종단 (Offload) 로 인한 가시성 상실<a hidden class=anchor aria-hidden=true href=#tls-종단-offload-로-인한-가시성-상실>#</a></h6><ul><li><p><strong>문제</strong>: Edge 에서 TLS 를 종료하면 (예: ELB/NGINX 에서 TLS termination) 내부에서는 평문 또는 재암호화된 트래픽으로 넘어가 관측성 (애플리케이션 레벨 로그, 요청 본문) 이나 보안정책 (예: WAF 규칙 적용) 에 영향이 생긴다.</p></li><li><p><strong>세부 원인</strong></p><ul><li>TLS 를 LB 에서 끝내면 백엔드가 클라이언트 원문을 볼 수 없거나 (만약 re-encrypt 하지 않는다면), TLS 레이어에서 전달되는 일부 메타 (원본 서버명 SNI 등) 만 사용 가능.</li><li>TLS 종료로 인해 분산 추적 (트레이스 컨텍스트 전달), 로그에서 원본 상관관계가 달라짐.</li></ul></li><li><p><strong>탐지 / 진단</strong></p><ul><li>백엔드에서 요청 본문·헤더가 보이지 않거나 trace-id 가 끊기는 경우.</li><li>WAF/IDS 탐지율 저하 혹은 디버깅 시 상관관계 불일치.</li><li>LB 에서 TLS termination 여부 확인 (설정 파일/구성 확인).</li></ul></li><li><p><strong>구체적 대책</strong></p><ol><li><p><strong>TLS Passthrough (필요 시)</strong></p><ul><li>LB 에서 TLS 를 통과시키고 백엔드가 직접 TLS 종료하도록 구성 (단, L7 라우팅 제약). Envoy/NGINX 의 stream 모드 또는 TCP 프록시 사용.</li></ul></li><li><p><strong>Termination + Re-encrypt (SSL bridging)</strong></p><ul><li><p>LB 에서 TLS 종료 후 백엔드와는 다시 TLS 로 통신하여 보안 유지:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1>1</a>
</span><span class=lnt id=hl-17-2><a class=lnlinks href=#hl-17-2>2</a>
</span><span class=lnt id=hl-17-3><a class=lnlinks href=#hl-17-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>proxy_pass</span> <span class=s>https://backend</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>proxy_ssl_server_name</span> <span class=no>on</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>proxy_ssl_trusted_certificate</span> <span class=s>/etc/ca.pem</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p><strong>mTLS 내부 적용</strong></p><ul><li>서비스 메시 (Istio/Envoy) 나 sidecar 로 내부 동서 트래픽에 mTLS 적용.</li></ul></li><li><p><strong>로그/Trace 보강</strong></p><ul><li>LB 에서 Access Log(헤더·SNI·ALPN 등) 수집 및 trace-id(예: <code>traceparent</code>) 를 요청 헤더로 보존/전달.</li></ul></li><li><p><strong>민감 데이터가 필요한 경우</strong></p><ul><li>미러링 (traffic mirror) 으로 암호화 전 트래픽 복사·분석 (보안 통제 필요).</li></ul></li></ol></li><li><p><strong>검증</strong></p><ul><li>분산 트레이스 (Trace-id) 가 LB→백엔드까지 연속되는지 확인.</li><li>WAF 탐지 규칙 적용 전·후 샘플 요청의 탐지 결과 비교.</li><li>TLS passthrough 적용 시 백엔드가 TLS 세션을 정상 처리하는지 확인 (예: <code>openssl s_client</code> 테스트).</li></ul></li></ul><h6 id=quicudp-차단불안정>QUIC(UDP) 차단·불안정<a hidden class=anchor aria-hidden=true href=#quicudp-차단불안정>#</a></h6><ul><li><p><strong>문제 요약</strong>: QUIC 은 UDP(일반적으로 UDP 443) 위에서 동작. 일부 방화벽/NAT 가 UDP 443 을 차단하거나 UDP 를 불안정하게 처리 (짧은 NAT 타임아웃, DPI 차단) 하면 QUIC 연결 실패→브라우저가 TCP(예: HTTPS) 로 fallback 하거나 페이지 에러 발생.</p></li><li><p><strong>원인</strong></p><ul><li>회사/ISP 방화벽이 UDP 443(또는 UDP 전체) 을 차단.</li><li>중간 박스가 UDP 흐름을 세션화/타임아웃이 짧아 QUIC 장기 연결에 문제.</li><li>DPI 장비가 QUIC 트래픽을 차단하거나 처리하지 못함 (QUIC 은 암호화되어 DPI 가 무력).</li></ul></li><li><p><strong>탐지 / 진단</strong></p><ul><li>서버/네트워크에서 UDP 443 트래픽 관찰 (<code>tcpdump -i any udp port 443</code>).</li><li>브라우저 개발자 도구에서 <code>protocol</code> 컬럼 (HTTP/3 사용 여부) 확인.</li><li>서버 로그에서 QUIC handshake 실패/재시도 비율 관찰.</li><li>NAT 장비에서 UDP 세션 타임아웃 설정 확인.</li></ul></li><li><p><strong>구체적 대책</strong></p><ol><li><p><strong>방화벽 정책 변경</strong></p><ul><li><p>UDP 443(필요 시 기타 UDP 포트) 허용. (조직 보안 정책과 조율)</p></li><li><p>예 (iptables):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>iptables -A INPUT -p udp --dport <span class=m>443</span> -j ACCEPT
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p><strong>NAT/세션 타임아웃 튜닝</strong></p><ul><li>NAT 장비의 UDP timeout 을 늘려 장기 QUIC 연결이 유지되도록 조정.</li></ul></li><li><p><strong>Fallback 전략과 모니터링</strong></p><ul><li>서버에서 HTTP/3 실패 시 HTTP/2 로 원활히 fallback 하도록 구성하고, QUIC 실패율을 모니터링해 지역/ISP 별 정책 수립.</li></ul></li><li><p><strong>QUIC 로깅 (qlog) 활성화</strong></p><ul><li>서버·프록시에 qlog 나 QUIC-aware 로그를 켜 손쉬운 원인 추적 (버전 협상, stateless retry 등).</li></ul></li><li><p><strong>엔터프라이즈 환경 대책</strong></p><ul><li>기업 내부 방화벽 정책에 QUIC 을 허용할 수 없으면 HTTP/3 사용을 문서화하고 내부 사용자 대상 가이드 제공.</li></ul></li></ol></li><li><p><strong>검증</strong></p><ul><li>클라이언트에서 브라우저로 HTTP/3(QUIC) 접속 성공 확인 (DevTools network protocol 표시).</li><li><code>tcpdump</code> 로 UDP 443 패킷 왕복 확인.</li><li>서버 메트릭: QUIC handshake 성공률, fallback(HTTP/2) 비율 감소 확인.</li></ul></li></ul><h4 id=구조-및-구성-요소>구조 및 구성 요소<a hidden class=anchor aria-hidden=true href=#구조-및-구성-요소>#</a></h4><p>OSI 7 계층은 네트워크 통신을 기능별로 나눠 설계·운영·디버깅을 단순화하는 모델이다.<br>각 계층은 물리적 신호 (L1) 에서 시작해 응용서비스 (L7) 로 올라가며, 이를 구현하는 구성 요소 (NIC, 스위치, 라우터, TCP 스택, TLS 라이브러리 등) 는 계층별 책임을 수행한다.<br>문제 해결은 먼저 계층을 추정한 뒤 (예: 링크는 L1/L2, 라우팅은 L3, 포트/세션은 L4/L5), 해당 계층의 구성 요소 (장비/라이브러리) 를 도구 (ethtool, show, traceroute, tcpdump, APM 등) 로 점검해 원인을 좁히는 식으로 진행한다.</p><h5 id=구조-structure>구조 (Structure)<a hidden class=anchor aria-hidden=true href=#구조-structure>#</a></h5><p>OSI 구조는 네트워크 통신을 기능별로 분할한 개념 모델이다.<br>각 계층은 아래 계층의 서비스를 사용해 자신 역할을 수행하며, 상위 계층에 서비스를 제공한다 (추상화).<br>이로써 설계·디버깅·교육이 단순해진다.</p><h6 id=역할--기능--특징--상호관계>역할 / 기능 / 특징 / 상호관계<a hidden class=anchor aria-hidden=true href=#역할--기능--특징--상호관계>#</a></h6><table><thead><tr><th style=text-align:right>계층 (번호 · English)</th><th>역할 (What)</th><th>핵심 기능 (How)</th><th>특징 (실무 성격)</th><th>상호관계 (Who uses / Who provides)</th></tr></thead><tbody><tr><td style=text-align:right>L1—Physical</td><td>비트/신호 전송</td><td>PHY, 전송 매체, 신호 코딩, 속도/duplex</td><td>하드웨어·매체 의존, 실시간·물리적 제약 존재</td><td><strong>제공:</strong> L2 프레이밍을 위한 비트 전달. <strong>사용:</strong> L2</td></tr><tr><td style=text-align:right>L2—Data Link</td><td>프레임 전송·링크 신뢰성</td><td>MAC, 프레이밍, 오류 검출 (FCS), ARP/ND</td><td>LAN 단위 저지연 포워딩, 브로드캐스트 도메인</td><td><strong>제공:</strong> L3 에 프레임 전달. <strong>사용:</strong> L3 / L1</td></tr><tr><td style=text-align:right>L3—Network</td><td>논리적 주소·라우팅</td><td>IP 주소, 라우팅 프로토콜 (BGP/OSPF), ICMP, MTU 관리</td><td>네트워크 경계·정책·경로 결정 지점</td><td><strong>제공:</strong> L4 경로 제공. <strong>사용:</strong> L2 (포워딩) / L4</td></tr><tr><td style=text-align:right>L4—Transport</td><td>종단간 전송 보장·포트 멀티플렉싱</td><td>TCP/UDP/SCTP/QUIC, 흐름·혼잡제어, 포트 번호</td><td>연결 지향/비연결 서비스 선택, 성능·지연에 민감</td><td><strong>제공:</strong> L5–L7 의 신뢰성 (또는 비신뢰성) 전송. <strong>사용:</strong> L3</td></tr><tr><td style=text-align:right>L5—Session</td><td>세션·대화 관리</td><td>세션 설정/종료, 체크포인트, 동기화</td><td>많은 기능이 미들웨어/애플리케이션으로 흡수됨</td><td><strong>제공:</strong> 세션 상태 서비스. <strong>사용:</strong> L6/L7</td></tr><tr><td style=text-align:right>L6—Presentation</td><td>데이터 표현·암호화·압축</td><td>직렬화, 인코딩, TLS(암호화), 압축</td><td>데이터 포맷·보안 책임, 관측성 (암호화) 영향</td><td><strong>제공:</strong> 데이터 표현 서비스. <strong>사용:</strong> L7</td></tr><tr><td style=text-align:right>L7—Application</td><td>사용자 서비스·프로토콜</td><td>HTTP, DNS, SMTP, API 등 비즈니스 로직</td><td>가장변화 많음·취약점 집중</td><td><strong>제공:</strong> 최종 사용자 서비스. <strong>사용:</strong> 사용자 애플리케이션</td></tr></tbody></table><h6 id=역할기능-외의-항목>역할·기능 외의 항목<a hidden class=anchor aria-hidden=true href=#역할기능-외의-항목>#</a></h6><table><thead><tr><th style=text-align:right>계층 (번호 · English)</th><th style=text-align:right>데이터 단위 (PDU)</th><th>대표 프로토콜/기술</th><th>대표 장비/소프트웨어</th><th>주요 실무 이슈 / 한계</th></tr></thead><tbody><tr><td style=text-align:right>L1—Physical</td><td style=text-align:right>Bit</td><td>1000BASE-T, 10/25/40/100GbE, 802.11 PHY</td><td>NIC, SFP, 케이블, 리피터</td><td>케이블 손상, SNR, 거리·EMI 제약</td></tr><tr><td style=text-align:right>L2—Data Link</td><td style=text-align:right>Frame</td><td>Ethernet 802.3, 802.1Q(VLAN), ARP/ND</td><td>스위치, 브리지, NIC</td><td>브로드캐스트 스톰, MAC 플러딩, ARP 스푸핑</td></tr><tr><td style=text-align:right>L3—Network</td><td style=text-align:right>Packet</td><td>IPv4/IPv6, ICMP, OSPF, BGP</td><td>라우터, L3 스위치</td><td>라우팅 루프, MTU/분절, BGP 하이재킹</td></tr><tr><td style=text-align:right>L4—Transport</td><td style=text-align:right>Segment / Datagram</td><td>TCP, UDP, QUIC, SCTP</td><td>OS TCP/IP 스택, L4 LB</td><td>SYN flood, 재전송 폭주, QUIC 가시성</td></tr><tr><td style=text-align:right>L5—Session</td><td style=text-align:right>Data</td><td>TLS 핸드셰이크 (일부), RPC/SIP</td><td>세션 라이브러리, 게이트웨이</td><td>세션 탈취, 토큰 관리 오류</td></tr><tr><td style=text-align:right>L6—Presentation</td><td style=text-align:right>Data</td><td>TLS/SSL, JSON/ProtoBuf, MPEG/JPEG</td><td>암호화/코덱 라이브러리</td><td>암호화로 인한 모니터링 한계</td></tr><tr><td style=text-align:right>L7—Application</td><td style=text-align:right>Data/Message</td><td>HTTP, DNS, SMTP, gRPC</td><td>웹서버, API 게이트웨이, DNS 서버</td><td>소프트웨어 취약점, DoS</td></tr></tbody></table><h6 id=계층과-데이터-흐름>계층과 데이터 흐름<a hidden class=anchor aria-hidden=true href=#계층과-데이터-흐름>#</a></h6><pre class=mermaid>flowchart TB
  subgraph HostA[Host A]
    A7[7 Application]
    A6[6 Presentation]
    A5[5 Session]
    A4[4 Transport]
    A3[3 Network]
    A2[2 Data Link]
    A1[1 Physical]
  end

  subgraph NetworkInfra[Network Infrastructure]
    SW[&#34;Switch (L2)&#34;]
    RT[&#34;Router (L3)&#34;]
    FW[&#34;Firewall (L3/4/7)&#34;]
    LB[&#34;Load Balancer (L4/7)&#34;]
  end

  subgraph HostB[Host B]
    B1[1 Physical]
    B2[2 Data Link]
    B3[3 Network]
    B4[4 Transport]
    B5[5 Session]
    B6[6 Presentation]
    B7[7 Application]
  end

  A7 --&gt; A6 --&gt; A5 --&gt; A4 --&gt; A3 --&gt; A2 --&gt; A1
  A1 --&gt; SW --&gt; RT --&gt; FW --&gt; LB --&gt; B1
  B1 --&gt; B2 --&gt; B3 --&gt; B4 --&gt; B5 --&gt; B6 --&gt; B7
</pre><ul><li>왼쪽 HostA 에서 상위 계층이 캡슐화되어 하위 계층으로 내려가고 (→), 네트워크 인프라 (L2-L3 장비) 를 거쳐 HostB 로 전달되어 역캡슐화된다.</li><li>방화벽/로드밸런서는 L3/L4 또는 L7 에서 정책을 실행하므로 흐름 상에 위치시켰다.</li></ul><h5 id=구성-요소-components>구성 요소 (Components)<a hidden class=anchor aria-hidden=true href=#구성-요소-components>#</a></h5><p>구성 요소는 계층을 구현하는 **장비 (하드웨어)**와 <strong>소프트웨어 (프로토콜/라이브러리)</strong> 를 의미한다.<br>각 구성 요소는 <strong>필수 (계층 동작에 반드시 필요)</strong> 와 <strong>선택 (특정 요구에 추가되는 기능)</strong> 으로 나뉜다. 또한 구성 요소들은 계층 간 인터페이스 (API/프로토콜) 를 통해 상호작용한다.<br>(예: NIC 가 L1/L2 역할을 연결, ARP 가 L3↔L2 주소 해석).</p><h6 id=역할기능특징상호관계필수선택소속-구조>역할·기능·특징·상호관계·필수/선택·소속 구조<a hidden class=anchor aria-hidden=true href=#역할기능특징상호관계필수선택소속-구조>#</a></h6><table><thead><tr><th>구성 요소</th><th style=text-align:right>소속 구조 (계층)</th><th style=text-align:center>필수/선택</th><th>역할 · 기능</th><th>특징</th><th>상호관계 (주요 인터페이스)</th></tr></thead><tbody><tr><td>NIC (Network Interface Card)</td><td style=text-align:right>L1/L2</td><td style=text-align:center>필수</td><td>물리 신호 변환, MAC 인터페이스, 드라이버</td><td>하드웨어 + 드라이버 결합, PHY 매개변수</td><td>L1 물리 매체 ↔ OS L2 스택</td></tr><tr><td>Switch</td><td style=text-align:right>L2</td><td style=text-align:center>필수</td><td>프레임 포워딩, MAC 학습, VLAN</td><td>저지연 포워딩, 브로드캐스트 도메인 분리</td><td>L1 포트 ↔ L3 라우터/스위치</td></tr><tr><td>Router</td><td style=text-align:right>L3</td><td style=text-align:center>필수</td><td>IP 라우팅, 라우팅 프로토콜</td><td>경로 선택, 정책 적용</td><td>L2 포워딩 ↔ L4 세션 (포트) 전달</td></tr><tr><td>Firewall</td><td style=text-align:right>L3/L4/L7</td><td style=text-align:center>선택 (보안필수)</td><td>패킷/세션 필터링, NAT, 정책</td><td>보안 관문 (상태유지 가능)</td><td>L3 라우터 ↔ L4 세션/앱 게이트웨이</td></tr><tr><td>Load Balancer</td><td style=text-align:right>L4/L7</td><td style=text-align:center>선택</td><td>트래픽 분산, 헬스체크, 세션 유지</td><td>고가용성·스케일 아웃 지원</td><td>L4 포트 ↔ L7 HTTP 라우팅</td></tr><tr><td>DNS Server</td><td style=text-align:right>L7</td><td style=text-align:center>필수 (네임 해석)</td><td>이름→IP 해석, 서비스 발견</td><td>캐싱·응답 최적화</td><td>L7 애플리케이션 ↔ L3 패킷 라우팅</td></tr><tr><td>TCP/UDP Stack (OS)</td><td style=text-align:right>L4</td><td style=text-align:center>필수</td><td>세그먼트 생성/복구, 재전송/흐름제어</td><td>운영체제 핵심 네트워크 코드</td><td>L3 라우팅 ↔ L5/L7 소켓</td></tr><tr><td>TLS Library</td><td style=text-align:right>L6</td><td style=text-align:center>선택 (보안 권장)</td><td>암호화/복호화, 핸드셰이크</td><td>관측성 영향, 인증</td><td>L7 애플리케이션 ↔ L4 전송</td></tr><tr><td>eBPF/XDP agent</td><td style=text-align:right>관측성·호스트</td><td style=text-align:center>선택</td><td>호스트 레벨 패킷 관찰/필터</td><td>고성능 관측/필터</td><td>호스트 TCP/IP 스택 ↔ OTel/로그</td></tr><tr><td>SDN Controller</td><td style=text-align:right>제어 평면 (관리)</td><td style=text-align:center>선택</td><td>중앙 정책/플로우 관리</td><td>중앙화된 경로·QoS 설정</td><td>관리 → 스위치/라우터 구성</td></tr></tbody></table><blockquote><p>표 아래 정리: 표 3 은 구성 요소의 <strong>위치 (어느 계층)</strong>, <strong>필수성</strong>, <strong>역할</strong>, 그리고 <strong>다른 요소들과의 인터페이스</strong>를 명시해 운영·설계 시 어떤 요소가 문제 원인이 될지 빠르게 추정할 수 있게 구성했습니다.</p></blockquote><h6 id=보조-정보-도구진단완화>보조 정보 (도구·진단·완화)<a hidden class=anchor aria-hidden=true href=#보조-정보-도구진단완화>#</a></h6><table><thead><tr><th>구성 요소</th><th style=text-align:right>주요 진단 도구</th><th>일반적 문제징후</th><th>권장 완화/운영 조치</th></tr></thead><tbody><tr><td>NIC</td><td style=text-align:right><code>ethtool</code>, <code>dmesg</code>, <code>ifconfig</code></td><td>link down, CRC errors</td><td>케이블/모듈교체, 드라이버 패치, FEC 설정</td></tr><tr><td>Switch</td><td style=text-align:right><code>show mac</code>, <code>show interface counters</code>, SPAN</td><td>MAC 플러딩, port errors</td><td>Port Security, storm-control, firmware</td></tr><tr><td>Router</td><td style=text-align:right><code>show ip route</code>, <code>show bgp summary</code>, <code>traceroute</code></td><td>route flaps, path loss</td><td>route filters, uRPF, RPKI</td></tr><tr><td>Firewall</td><td style=text-align:right>logs, conntrack, <code>tcpdump</code></td><td>dropped sessions, policy blocks</td><td>policy audit, connection limits</td></tr><tr><td>Load Balancer</td><td style=text-align:right>metrics, healthchecks</td><td>uneven backend load, 5xx errors</td><td>session affinity, pool resizing</td></tr><tr><td>DNS Server</td><td style=text-align:right><code>dig +trace</code>, logs</td><td>high latency, NXDOMAIN</td><td>caching, rate-limit, Anycast</td></tr><tr><td>TCP Stack</td><td style=text-align:right><code>ss</code>, <code>netstat</code>, retrans stats</td><td>high retransmit, high RTT</td><td>tuning cwnd/backoff, AQM</td></tr><tr><td>TLS Library</td><td style=text-align:right>TLS logs, cert checkers</td><td>handshake failures</td><td>cert rotation, compatible ciphers</td></tr><tr><td>eBPF agent</td><td style=text-align:right>bpftrace, logs</td><td>missing traces, perf overhead</td><td>sampling, eBPF program audit</td></tr><tr><td>SDN Controller</td><td style=text-align:right>controller UI/logs</td><td>inconsistent flows</td><td>reconcile configs, controller HA</td></tr></tbody></table><h6 id=구성-요소-관계>구성 요소 관계<a hidden class=anchor aria-hidden=true href=#구성-요소-관계>#</a></h6><pre class=mermaid>graph TB
  NIC --&gt;|frames| Switch
  Switch --&gt;|L3 packets| Router
  Router --&gt;|routes| Firewall
  Firewall --&gt;|policies| LB
  LB --&gt;|distribute| AppPool[Application Pool]
  AppPool --&gt;|listens| TLS[TLS Library]
  AppPool --&gt;|sockets| TCP[TCP/UDP Stack]
  HostObserv[eBPF/XDP] -. observes .-&gt; NIC
  SDNController -. manages .-&gt; Switch
</pre><ul><li>각 구성 요소는 물리적 흐름 (패킷) 과 제어/관리 채널 (예: SDN controller → switch) 두 축으로 연결된다.</li><li>eBPF 는 호스트 관측 레벨에서 NIC/TCP 스택을 관찰해 고해상도 인사이트를 제공.</li></ul><h5 id=osi7-계층-개념-모델과-tcpip4-계층-매핑>OSI(7 계층) 개념 모델과 TCP/IP(4 계층) 매핑<a hidden class=anchor aria-hidden=true href=#osi7-계층-개념-모델과-tcpip4-계층-매핑>#</a></h5><p>목적: OSI(7 계층) 개념 모델을 TCP/IP(4 계층) 실무 모델에 정확히 대응시켜 설계·트러블슈팅 기준점을 제공.</p><table><thead><tr><th>OSI 계층 (번호·이름)</th><th>주요 기능</th><th>대표 PDU</th><th>대표 프로토콜/기술 (예)</th><th>TCP/IP 4 계층 대응</th><th>비고 (경계/주의)</th></tr></thead><tbody><tr><td>7 응용 (Application)</td><td>애플리케이션 서비스, 리소스 요청/응답</td><td>데이터 (Data)</td><td>HTTP/1.1·2·3, DNS, SMTP/IMAP, SSH, gRPC, DoH/DoT</td><td><strong>응용 (Application)</strong></td><td>TCP/IP 에서는 5·6·7 이 통합되는 경향</td></tr><tr><td>6 표현 (Presentation)</td><td>데이터 표현, 직렬화, 암호화, 압축</td><td>데이터</td><td>TLS(OSI 관점에선 표현/세션 사이), ASN, XDR, JSON/ProtoBuf 직렬화</td><td><strong>응용 (Application)</strong></td><td>실무에선 TLS/직렬화가 앱/프레임워크 층에 존재</td></tr><tr><td>5 세션 (Session)</td><td>대화 제어, 세션 관리, 동기화</td><td>데이터</td><td>RPC, NetBIOS 세션, TLS 핸드셰이크, gRPC 스트림 제어</td><td><strong>응용 (Application)</strong></td><td>QUIC 는 전송계층에서 스트림/세션 기능 일부 제공</td></tr><tr><td>4 전송 (Transport)</td><td>종단 간 전송, 신뢰성/흐름/혼잡제어, 포트</td><td>세그먼트/데이터그램</td><td>TCP, UDP, QUIC</td><td><strong>전송 (Transport)</strong></td><td>QUIC=UDP 기반 사용자 공간 전송 (계층 경계 유연)</td></tr><tr><td>3 네트워크 (Network)</td><td>라우팅, 주소지정, 단편화 (IPv4)</td><td>패킷 (Packet)</td><td>IPv4/IPv6, ICMP/ICMPv6, PMTUD</td><td><strong>인터넷 (Internet)</strong></td><td>ARP/ND 는 L2 에서 L3 주소 해석 (경계 영역)</td></tr><tr><td>2 데이터 링크 (Data Link)</td><td>프레이밍, MAC 주소, 오류검출</td><td>프레임 (Frame)</td><td>Ethernet(802.3), Wi‑Fi(802.11), PPP, VLAN(802.1Q), LACP</td><td><strong>네트워크 접근 (Network Access)</strong></td><td>ARP(IPv4), ND(IPv6) 는 L2 에서 수행되나 L3 연계</td></tr><tr><td>1 물리 (Physical)</td><td>비트 전송, 전기/광/무선 신호</td><td>비트 (Bits)</td><td>1000BASE‑T, 10GBASE‑SR, 802.11ax, OFDM</td><td><strong>네트워크 접근 (Network Access)</strong></td><td>MTU/전송매체 특성, SNR/RSSI 등 물리 지표</td></tr></tbody></table><ul><li>OSI 5·6·7 계층은 TCP/IP 에선 대체로 <strong>응용 계층</strong>으로 통합된다. TLS 는 OSI 관점에선 표현/세션 기능을 수행하지만 TCP/IP 구현에선 <strong>애플리케이션 상부/라이브러리</strong>로 위치한다. QUIC 은 UDP 위에서 동작하며 전송의 일부 기능을 사용자 공간에서 수행해 <strong>계층 경계가 유연</strong>하다.</li></ul><h3 id=특성-분석-및-평가>특성 분석 및 평가<a hidden class=anchor aria-hidden=true href=#특성-분석-및-평가>#</a></h3><h4 id=주요-장점-및-이점>주요 장점 및 이점<a hidden class=anchor aria-hidden=true href=#주요-장점-및-이점>#</a></h4><p>OSI 모델의 장점은 <strong>문제를 작은 단위로 쪼개어 (계층화) 해결하고 (문제 격리), 각 단위를 독립적으로 고치거나 교체할 수 있게 (모듈화) 설계</strong>하였다는 점이다. 또 표준 인터페이스 덕분에 여러 제조사 장비가 함께 작동하고 (상호운용성), 공통 용어로 팀 간 소통과 교육이 쉬워진다. 실무에서는 이 구조를 이용해 진단 시간을 줄이고, 단계적 확장으로 비용을 관리하며, 계층별 보안 정책을 적용한다.</p><table><thead><tr><th>장점</th><th style=text-align:right>근거 (메커니즘)</th><th>실무 효과 (예시)</th><th>검증 지표 / 측정법</th></tr></thead><tbody><tr><td>문제 격리 (체계적 진단)</td><td style=text-align:right>계층별 책임 분리 → 진단 범위 축소</td><td>MTTR 단축, 정확한 원인 규명</td><td>평균 진단 시간, 재발률</td></tr><tr><td>모듈화 설계</td><td style=text-align:right>계층 인터페이스 표준화 → 단일 계층 교체 가능</td><td>업그레이드 위험·비용 감소</td><td>배포 실패율, 롤백 빈도</td></tr><tr><td>표준화된 교육</td><td style=text-align:right>공통 개념어·모델 제공</td><td>온보딩 단축, 팀 커뮤니케이션 개선</td><td>교육 시간, 협업 만족도</td></tr><tr><td>벤더 독립성</td><td style=text-align:right>RFC/ISO 준수로 상호운용성 확보</td><td>벤더 전환 용이, 협상력 증가</td><td>벤더 교체 비용, 통합 테스트 성공률</td></tr><tr><td>프로토콜 분석 용이</td><td style=text-align:right>계층별 프로토콜 책임 → 타깃 최적화 가능</td><td>성능 개선 (지연·처리량)</td><td>RTT, Throughput, 재전송률</td></tr><tr><td>확장성 계획</td><td style=text-align:right>특정 계층만 선택적 확장 가능</td><td>단계별 투자, 빠른 확장</td><td>확장 소요시간, 비용 대비 성능</td></tr><tr><td>보안 정책화</td><td style=text-align:right>계층별 보안 제어 적용 가능</td><td>위협 대응력 향상</td><td>차단률, 탐지 시간, 오탐율</td></tr></tbody></table><p>표의 각 항목은 " 어떤 메커니즘 때문에 효과가 나는지 (근거)&rdquo; 와 " 그 효과를 어떻게 확인할지 (지표)&rdquo; 를 함께 보여준다. 실무에서는 단순히 장점을 나열하는 것보다, 해당 장점이 실제로 발현되는 메커니즘을 이해하고 측정 지표를 설정해 검증하는 과정이 중요하다.</p><h4 id=단점-및-제약사항>단점 및 제약사항<a hidden class=anchor aria-hidden=true href=#단점-및-제약사항>#</a></h4><p>캡슐화는 데이터를 전송할 때 각 계층이 책임 정보를 덧붙이는 과정이고, 디캡슐화는 수신 시 그 정보를 순차적으로 제거해 원래의 데이터를 복원하는 과정이다.<br>이 방식은 모듈성·상호운용성·확장성을 제공하지만, 헤더 중첩으로 인한 성능 오버헤드, 암호화로 인한 관측성 감소, 터널/중간장비로 인한 MTU·정책 문제 같은 현실적 제약을 만들기도 한다. 따라서 설계 단계에서 MTU·암호화·중간박스 정책을 고려하고, 관측 체계 (TraceID, eBPF, PMTUD 검증 등) 를 갖추어 운영에서 적절히 완화·관리해야 한다.</p><table><thead><tr><th style=text-align:right>분류</th><th>항목</th><th>설명</th><th>원인</th><th>실무 영향</th><th>권장 완화·대안</th></tr></thead><tbody><tr><td style=text-align:right>단점</td><td>성능 오버헤드</td><td>헤더·트레일러 누적으로 효율 저하</td><td>캡슐화, 오버레이</td><td>CPU·대역폭·지연 악화</td><td>MTU/MSS 튜닝, NIC offload, 헤더 압축</td></tr><tr><td style=text-align:right>단점</td><td>관측성 감소</td><td>암호화로 상위 데이터·메타 미관측</td><td>TLS/QUIC</td><td>IDS/디버깅 어려움</td><td>엣지 TLS 종료, TraceID, eBPF</td></tr><tr><td style=text-align:right>단점</td><td>계층 위반 (재마킹)</td><td>중간박스가 헤더 변경</td><td>NAT/LB/Proxy</td><td>추적·QoS 오류</td><td>재마킹 정책, Proxy Protocol</td></tr><tr><td style=text-align:right>단점</td><td>모델 - 현실 괴리</td><td>OSI 와 실제 TCP/IP 불일치</td><td>역사적 성장</td><td>설계 혼선</td><td>TCP/IP 매핑 교육, 실무 가이드</td></tr><tr><td style=text-align:right>제약</td><td>MTU 블랙홀</td><td>PMTUD 실패로 패킷 드롭</td><td>ICMP 차단, 오버레이</td><td>연결 지연·재전송</td><td>PLPMTUD, MSS 클램핑, ICMP 허용</td></tr><tr><td style=text-align:right>제약</td><td>장비 제약</td><td>벤더·펌웨어 기능 제한</td><td>하드웨어 한계</td><td>QoS/성능 불안정</td><td>펌웨어 업그레이드, SDN 대체</td></tr><tr><td style=text-align:right>제약</td><td>규정·보안 제약</td><td>정책으로 기능 제한</td><td>법규·보안 정책</td><td>모니터링·종단 제약</td><td>정책 예외 절차, 메타데이터 설계</td></tr></tbody></table><ul><li><p><strong>핵심</strong>: 캡슐화/계층 모델은 설계의 근간이지만, 현실 운영에서는 성능·관측성·중간장비·정책 때문에 제약과 단점이 생긴다.</p></li><li><p><strong>실무 우선순위</strong>: MTU/단편화 (네트워크 가용성), 관측성 (문제해결 속도), 중간박스 재마킹 (QoS·추적성) 순으로 먼저 점검·정책화해야 운영 위험을 줄일 수 있다.</p></li><li><p><strong>완화 전략</strong>: 설계 시 (오버레이 감안 MTU 산정, 암호화 전략, 재마킹 정책 문서화), 운영 시 (정기 PMTUD 점검, eBPF/TraceID 도입, 장비 펌웨어 관리) 로 문제를 관리한다.</p></li><li><p><strong>대체/보완 기술</strong>: PLPMTUD, Service Mesh, eBPF 관측, SDN 컨트롤러, 하드웨어 가속 (TOE/LSO) 등을 상황에 맞게 조합해 적용하라.</p></li></ul><h4 id=트레이드오프-관계-분석>트레이드오프 관계 분석<a hidden class=anchor aria-hidden=true href=#트레이드오프-관계-분석>#</a></h4><p>트레이드오프란 <strong>무언가를 얻으려면 다른 것을 일부 포기해야 하는 선택</strong>을 말한다.<br>네트워크에서는 예컨대 <code>TCP</code> 를 쓰면 자동으로 신뢰성 (재전송·순서 보장) 을 얻지만 지연이나 헤드오브라인 문제가 발생할 수 있다. 반대로 <code>UDP/QUIC</code> 는 더 낮은 지연과 더 나은 tail-latency 를 제공하지만, 중간 장비 (방화벽, NAT) 호환성·신뢰성 처리를 애플리케이션에 맡겨야 한다.</p><p>시스템 설계는 성능 (사용자 경험), 안정성 (신뢰성), 운영 (관측성과 복잡도), 규제 (보안·컴플라이언스) 를 저울질해 균형을 찾아가는 과정이다.</p><table><thead><tr><th>축</th><th>선택 A</th><th>선택 B</th><th>핵심 트레이드오프 (무엇을 포기/얻는가)</th><th>실무 판단 포인트</th></tr></thead><tbody><tr><td>전송 프로토콜</td><td>TCP</td><td>UDP(QUIC)</td><td>신뢰성·기성 인프라 ↔ 낮은 지연·tail latency 개선</td><td>손실율·NAT/방화벽 정책·SLA</td></tr><tr><td>애플리케이션 프로토콜</td><td>HTTP/2</td><td>HTTP/3 (QUIC)</td><td>호환성 편의 ↔ 빠른 연결·HoL 회피</td><td>사용자 지연 민감도, 중간장비 호환성</td></tr><tr><td>설계 철학</td><td>계층 분리 (모듈화)</td><td>통합·최적화</td><td>유지보수·교체 용이 ↔ 성능·엔드투엔드 최적화</td><td>팀 역량·변경 빈도·성능 요구</td></tr><tr><td>목표 우선순위</td><td>표준/호환성</td><td>성능 최적화</td><td>보편성·운영 단순성 ↔ 최종 사용자 경험</td><td>고객 요구·비용/효율</td></tr><tr><td>관측 vs 보안</td><td>평문 가시성 (디버깅 쉬움)</td><td>종단 암호화 (mTLS/TLS)</td><td>디버깅 쉬움 ↔ 데이터 보호·규정 준수</td><td>규제·데이터 민감도</td></tr></tbody></table><ul><li><p><strong>결정 기준</strong>: 요구 SLA(특히 p99/p999), 네트워크 특성 (RTT·손실률·방화벽 정책), 운영 역량 (모니터링/디버깅 능력), 규제 (암호화·로그 보존) 로 판단.</p></li><li><p><strong>검증 방식</strong>: A/B 테스트 (실제 트래픽의 일부), 벤치마크 (자유/제한 네트워크 환경), 실필드 모니터링 (핵심 지표: p50/p95/p99, error rate, retransmit, CPU 비용).</p></li><li><p><strong>안전한 접근</strong>: 점진적 전환 (카나리·리전 별), 중간장비 호환성 실험, 관측성 보강 (트레이스·qlog 등) 권장.</p></li></ul><h4 id=적용-적합성-평가>적용 적합성 평가<a hidden class=anchor aria-hidden=true href=#적용-적합성-평가>#</a></h4><p>OSI 모델은 네트워크 기능을 계층별로 나눠 <strong>누가 (어떤 계층) 가 무엇을 책임지는지</strong>를 명확히 해준다. 설계 단계에서는 역할 분담과 표준화에, 분석 단계에서는 문제 위치를 빠르게 좁히는 데 유리하다. 하지만 실제 운영 환경에선 성능·운영 효율 때문에 TCP/IP 의 축약 모델이나 계층 병합을 병행 적용하는 것이 보통이다.</p><table><thead><tr><th style=text-align:right>적용 영역</th><th style=text-align:center>OSI 모델 적합성</th><th>이유 (요약)</th><th>실무 적용 가이드</th></tr></thead><tbody><tr><td style=text-align:right>네트워크 교육·훈련</td><td style=text-align:center>높음</td><td>개념적 분해로 이해·학습 용이</td><td>실습 (캡슐화, Wireshark) 중심 커리큘럼 권장</td></tr><tr><td style=text-align:right>멀티벤더 설계</td><td style=text-align:center>높음</td><td>인터페이스·책임 분리로 상호운용성 확보</td><td>계층별 인터페이스 명세서 작성</td></tr><tr><td style=text-align:right>프로토콜·진단 도구 개발</td><td style=text-align:center>높음</td><td>PDU·헤더 분석 기준 제공</td><td>계층별 테스트케이스·시나리오 작성</td></tr><tr><td style=text-align:right>엔터프라이즈 아키텍처</td><td style=text-align:center>중간</td><td>설계엔 유용하나 운영은 TCP/IP 가 현실적</td><td>설계 시 OSI, 운영 문서엔 TCP/IP 매핑 명시</td></tr><tr><td style=text-align:right>레거시 통합 프로젝트</td><td style=text-align:center>중간</td><td>추상화로 통합 설계 도움</td><td>마이그레이션 맵 (OSI→구현) 필요</td></tr><tr><td style=text-align:right>클라우드 네이티브 / 마이크로서비스</td><td style=text-align:center>낮음</td><td>경량화·성능·서비스메시 특성으로 계층 병합 선호</td><td>TCP/IP 실무 모델 + 서비스메시 정책 병용</td></tr><tr><td style=text-align:right>실시간/임베디드 시스템</td><td style=text-align:center>낮음</td><td>리소스 제한·지연 민감성으로 단순화 필요</td><td>L1~L4 핵심 최적화 중심 설계</td></tr><tr><td style=text-align:right>대규모 ISP / CDN 운영</td><td style=text-align:center>낮음→중간</td><td>규模 최적화·프로토콜 현실 반영 (QUIC 등)</td><td>TCP/IP 기반 운영, 설계 문서에 OSI 원칙 참고</td></tr></tbody></table><h3 id=구현-방법-및-분류>구현 방법 및 분류<a hidden class=anchor aria-hidden=true href=#구현-방법-및-분류>#</a></h3><h4 id=구현-방법-및-기법>구현 방법 및 기법<a hidden class=anchor aria-hidden=true href=#구현-방법-및-기법>#</a></h4><p>네트워크/서비스 구현은 <strong>계층별로 서로 다른 책임</strong>을 갖는다.<br>하드웨어 (물리), 프레임 전송 (데이터링크), 라우팅 (네트워크), 전송 신뢰성 (전송), 애플리케이션 (응용) 등으로 분리해 설계하면 문제를 좁혀서 찾기 쉽고, 한 부분만 교체해도 전체에 미치는 영향이 작다.</p><p>실무에서는 이 원칙을 바탕으로 로드밸런서, 레이트리밋, AQM, 캐시, 서비스 메시, 오토스케일 등의 기법을 적절히 조합해 성능·가용성·보안을 달성한다.</p><h5 id=부하-분산>부하 분산<a hidden class=anchor aria-hidden=true href=#부하-분산>#</a></h5><table><thead><tr><th>기법</th><th>정의</th><th>구성 요소</th><th>원리</th><th>목적</th><th>사용 상황</th><th>특징</th></tr></thead><tbody><tr><td>Round Robin</td><td>순환 배분</td><td>서버 리스트, 인덱스</td><td>순환 인덱스</td><td>단순 분산</td><td>동일 성능 서버</td><td>구현 단순</td></tr><tr><td>Weighted RR</td><td>가중치 분배</td><td>서버 + 가중치</td><td>가중치 누적 선택</td><td>성능 반영 분산</td><td>이종 서버</td><td>탄력적 가중치</td></tr><tr><td>Least Connections</td><td>최소 연결</td><td>연결 카운터</td><td>현재 연결 적은 서버 선택</td><td>세션 균등화</td><td>장시간 커넥션</td><td>동적 적응</td></tr><tr><td>Consistent Hash</td><td>키 기반 매핑</td><td>해시 링</td><td>키→서버 매핑</td><td>세션/캐시 일관성</td><td>캐시/세션 유지</td><td>재분배 최소화</td></tr></tbody></table><ul><li>부하 분산 기법은 서비스 특성 (무상태/세션, 서버 이질성) 에 맞춰 선택한다. 간단한 정적 분배는 Round Robin, 성능 차를 반영하려면 Weighted, 세션 고정성 필요하면 Consistent Hash 를 사용한다.</li></ul><h5 id=트래픽-제어aqm>트래픽 제어·AQM<a hidden class=anchor aria-hidden=true href=#트래픽-제어aqm>#</a></h5><table><thead><tr><th>기법</th><th>정의</th><th>구성 요소</th><th>원리</th><th>목적</th><th>사용 상황</th><th>특징</th></tr></thead><tbody><tr><td>Token Bucket</td><td>토큰 기반</td><td>버킷, 리필율</td><td>토큰 소비 허용</td><td>평균률 제어 + 버스트 허용</td><td>API 게이트웨이</td><td>버스트 유연</td></tr><tr><td>Leaky Bucket</td><td>일정률 전송</td><td>큐, 배출율</td><td>고정률 배출</td><td>버스트 평탄화</td><td>장비 QoS</td><td>일정 송출</td></tr><tr><td>Sliding Window</td><td>시간창</td><td>카운터, 창길이</td><td>창 내 요청 수 제한</td><td>간단 제한</td><td>로그인/인증</td><td>분산 일관성 문제</td></tr><tr><td>CoDel / FQ-CoDel</td><td>지연 기반 큐 관리</td><td>큐, 트래킹</td><td>지연·흐름별 드롭</td><td>꼬리 지연 억제</td><td>라우터/호스트</td><td>지연 중심 제어</td></tr></tbody></table><ul><li>Rate Limit 은 API·서비스 보호, AQM 은 네트워크 혼잡 억제에 적합하다. 분산 환경에서는 토큰 버킷 + 중앙 저장소 (Redis) 등으로 일관성 문제를 해결한다.</li></ul><h5 id=회복성신뢰성>회복성·신뢰성<a hidden class=anchor aria-hidden=true href=#회복성신뢰성>#</a></h5><table><thead><tr><th>기법</th><th>정의</th><th>구성 요소</th><th>원리</th><th>목적</th><th>사용 상황</th><th>특징</th></tr></thead><tbody><tr><td>Circuit Breaker</td><td>호출 차단</td><td>상태머신, 임계값</td><td>실패율 임계 초과 시 OPEN</td><td>장애 확산 방지</td><td>마이크로서비스</td><td>빠른 실패 반환</td></tr><tr><td>Retry+Jitter</td><td>재시도 제어</td><td>백오프, 지터</td><td>지연 증분 + 무작위화</td><td>일시적 오류 처치</td><td>네트워크 오류</td><td>Herd 완화</td></tr><tr><td>Bulkhead</td><td>리소스 분리</td><td>풀, 큐</td><td>자원 분리</td><td>장애 격리</td><td>DB 연결 풀 문제</td><td>제한적 영향 범위</td></tr><tr><td>Backpressure</td><td>하류 제어</td><td>큐, 신호</td><td>소비자 상태에 따라 생산 억제</td><td>시스템 보호</td><td>메시지 큐</td><td>흐름 제어</td></tr></tbody></table><ul><li>재시도는 신중히 (아이덤포턴시, retry budget) 사용하고, 서킷브레이커/버클헤드는 시스템 전체 안정성에 큰 기여를 한다.</li></ul><h5 id=전송혼잡-제어>전송·혼잡 제어<a hidden class=anchor aria-hidden=true href=#전송혼잡-제어>#</a></h5><table><thead><tr><th>기법</th><th>정의</th><th>구성 요소</th><th>원리</th><th>목적</th><th>사용 상황</th><th>특징</th></tr></thead><tbody><tr><td>TCP (Cubic)</td><td>윈도우 기반 CC</td><td>cwnd, ssthresh</td><td>패킷손실 기반 감소</td><td>신뢰성 전송</td><td>대부분 TCP 앱</td><td>안정성 중심</td></tr><tr><td>BBR</td><td>대역폭·RTT 추정</td><td>RTT 측정, BW 추정</td><td>추정 기반 윈도우 조절</td><td>지연·대역폭 최적화</td><td>고대역 환경</td><td>지연 개선</td></tr><tr><td>QUIC / HTTP3</td><td>UDP 기반 전송</td><td>UDP, 암호화, 스트림</td><td>유저스페이스 CC, 멀티플렉싱</td><td>HOL 완화, 이동성</td><td>웹 (브라우저)</td><td>연결 이동성, 0-RTT</td></tr></tbody></table><ul><li>전송 계층 알고리즘은 환경 (손실, RTT, 대역폭) 에 따라 선택된다.</li><li>QUIC 은 손실·모빌리티 환경에서 성능 이점이 크다.</li></ul><h5 id=운영관측>운영·관측<a hidden class=anchor aria-hidden=true href=#운영관측>#</a></h5><table><thead><tr><th>기법</th><th>정의</th><th>구성 요소</th><th>원리</th><th>목적</th><th>사용 상황</th><th>특징</th></tr></thead><tbody><tr><td>Auto Scaling</td><td>자동 증감</td><td>모니터링, 오토스케일러</td><td>지표 기반 인스턴스 증감</td><td>탄력성</td><td>클라우드 서비스</td><td>비용 최적화</td></tr><tr><td>Caching / CDN</td><td>엣지 캐시</td><td>엣지 서버, TTL</td><td>캐시 재사용</td><td>응답속도 개선</td><td>글로벌 서비스</td><td>캐시 히트 중심</td></tr><tr><td>GSLB</td><td>DNS 기반 글로벌 라우팅</td><td>DNS, 정책 엔진</td><td>지연/가중치/헬스 라우팅</td><td>지역 최적화</td><td>다리전 배포</td><td>지연 최적화</td></tr><tr><td>Observability</td><td>모니터링/트레이스</td><td>Prometheus, Jaeger</td><td>메트릭/로그/트레이스 통합</td><td>인시던트 대응</td><td>모든 시스템</td><td>진단 능력 향상</td></tr></tbody></table><ul><li>운영은 관측과 자동화가 핵심이다.</li><li>지표 기반 자동화 (스케일/오토헬스) 와 관측 (메트릭·트레이스) 결합으로 안정성을 확보한다.</li></ul><h4 id=유형별-분류-체계>유형별 분류 체계<a hidden class=anchor aria-hidden=true href=#유형별-분류-체계>#</a></h4><p>네트워크 구성요소와 기법을 분류할 때는 <strong>무조건 하나의 기준만 쓰지 말아야</strong> 한다.</p><p>OSI(계층) 관점은 개념 이해에 유리하지만, 실무는 TCP/IP·L4/L7·오버레이·배포 위치 (클라우드/온프레) 등 여러 기준을 조합해야 올바른 설계가 나온다. 따라서 분류 체계는 목적 (성능·보안·가용성), 구현 방식 (하드/소프트), 배치 (온프레미스/클라우드), 제어 위치 (중앙/분산) 등을 함께 고려해 선택하는 것이 기본 원칙이다.</p><h5 id=계층-osi--tcpip-매핑>계층 (OSI ↔ TCP/IP 매핑)<a hidden class=anchor aria-hidden=true href=#계층-osi--tcpip-매핑>#</a></h5><table><thead><tr><th style=text-align:right>계층 (교육용 OSI)</th><th>실무 매핑 (TCP/IP 등)</th><th>대표 프로토콜 / 예시</th><th>실무 적용 노트</th></tr></thead><tbody><tr><td style=text-align:right>L1 물리</td><td>물리 링크</td><td>Ethernet PHY, Wi-Fi PHY</td><td>전송 매체·비트 오류 영향</td></tr><tr><td style=text-align:right>L2 데이터링크</td><td>링크 계층</td><td>Ethernet, 802.11, ARP</td><td>스위치 동작·프레임 무결성</td></tr><tr><td style=text-align:right>L3 네트워크</td><td>인터넷 계층</td><td>IPv4/IPv6, ICMP</td><td>라우팅·MTU·QoS(DiffServ)</td></tr><tr><td style=text-align:right>L4 전송</td><td>전송 계층</td><td>TCP, UDP, QUIC</td><td>흐름·혼잡제어·신뢰성</td></tr><tr><td style=text-align:right>L5 세션</td><td>(부분적으로 L7)</td><td>WebSocket, TLS session</td><td>세션 복구·재연결</td></tr><tr><td style=text-align:right>L6 표현</td><td>(응용/보안으로 흡수)</td><td>TLS, encoding</td><td>암호화·포맷</td></tr><tr><td style=text-align:right>L7 응용</td><td>응용 계층</td><td>HTTP/3, DNS, SMTP, gRPC</td><td>비즈니스 로직·API</td></tr></tbody></table><ul><li>OSI 는 교육·문제분리 도구로 유용하되, 실무 문서에는 <strong>TCP/IP 매핑</strong>을 병기해서 계층 간 책임 (예: QUIC 는 UDP 위에서 전송 + 보안) 을 명확히 해야 한다.</li></ul><h5 id=구현-범위--방식>구현 범위 / 방식<a hidden class=anchor aria-hidden=true href=#구현-범위--방식>#</a></h5><table><thead><tr><th style=text-align:right>구분</th><th>설명</th><th style=text-align:right>적용 사례</th><th>장점</th><th>단점</th></tr></thead><tbody><tr><td style=text-align:right>전체 구현 (Full)</td><td>이론상 모든 계층을 명시·관리</td><td style=text-align:right>교육 스택, 일부 네트워크 시뮬레이터</td><td>개념 완전성, 표준 검증</td><td>복잡·비용↑</td></tr><tr><td style=text-align:right>부분 구현 (Practical)</td><td>필요한 계층만 구현·관리</td><td style=text-align:right>대부분 상용 서비스</td><td>효율성·단순성</td><td>호환성 주의</td></tr><tr><td style=text-align:right>하드웨어 기반</td><td>ASIC/FPGA, 전용 장비</td><td style=text-align:right>통신사 라우터, F5</td><td>최고성능·저지연</td><td>비용·유연성 제한</td></tr><tr><td style=text-align:right>소프트웨어 기반</td><td>범용서버/컨테이너</td><td style=text-align:right>Envoy, NGINX, Cilium</td><td>유연성·업데이트 용이</td><td>CPU 오버헤드</td></tr><tr><td style=text-align:right>가상화/컨테이너</td><td>K8s + Ingress/Service Mesh</td><td style=text-align:right>클라우드 네이티브</td><td>확장성·데브옵스 친화</td><td>네트워크 오버헤드</td></tr></tbody></table><ul><li>실무는 대부분 <strong>부분 구현 + 소프트웨어/가상화 기반</strong>을 택하고, 성능 크리티컬 구간만 하드웨어 가속을 병행하는 하이브리드가 현실적이다.</li></ul><h5 id=적용-목적--통신-패턴>적용 목적 / 통신 패턴<a hidden class=anchor aria-hidden=true href=#적용-목적--통신-패턴>#</a></h5><table><thead><tr><th style=text-align:right>목적/패턴</th><th>특징</th><th>대표 기술/설계 포인트</th><th>적용 예</th></tr></thead><tbody><tr><td style=text-align:right>교육/개념</td><td>개념 이해·분리</td><td>OSI 모델, 시뮬레이터</td><td>강의·교재</td></tr><tr><td style=text-align:right>성능 우선</td><td>저지연·스루풋 최적화</td><td>HW 가속, L4 LB, Jumbo MTU</td><td>CDN, CDN 백본</td></tr><tr><td style=text-align:right>보안 우선</td><td>암호화·검증 강화</td><td>WAF, mTLS, DPI</td><td>금융망, 규제 산업</td></tr><tr><td style=text-align:right>가용성/확장성</td><td>분산·중복 설계</td><td>GSLB, Multi-Region LB</td><td>글로벌 SaaS</td></tr><tr><td style=text-align:right>동기식</td><td>요청 - 응답</td><td>HTTP/REST, RPC</td><td>API 서비스</td></tr><tr><td style=text-align:right>비동기식</td><td>이벤트/스트리밍</td><td>Kafka, AMQP, 메시지 큐</td><td>데이터 파이프라인</td></tr></tbody></table><ul><li>설계 전 <strong>우선 목적 (성능/보안/가용성/비용)</strong> 을 정하면 적절한 계층·기술 조합이 바로 정해진다.</li></ul><h5 id=배치-위치--운영-환경>배치 위치 / 운영 환경<a hidden class=anchor aria-hidden=true href=#배치-위치--운영-환경>#</a></h5><table><thead><tr><th style=text-align:right>배치</th><th>특징</th><th>장점</th><th>단점</th><th>대표 사용처</th></tr></thead><tbody><tr><td style=text-align:right>온프레미스</td><td>물리적 장비 중심</td><td>완전 제어, 규정 대응</td><td>확장비용↑</td><td>금융·정부</td></tr><tr><td style=text-align:right>클라우드</td><td>CSP 인프라 활용</td><td>확장성·서비스 편의</td><td>벤더 의존성</td><td>스타트업·SaaS</td></tr><tr><td style=text-align:right>엣지</td><td>사용자 인접 처리</td><td>저지연, 지역 규제 대응</td><td>분산 운영 복잡</td><td>CDN, IoT</td></tr><tr><td style=text-align:right>하이브리드</td><td>온프레 + 클라우드</td><td>유연성·레거시 연동</td><td>복잡한 네트워크 연동</td><td>기업 대규모 전환</td></tr></tbody></table><ul><li>배치 결정은 <strong>규제·지연·비용·레거시</strong> 조건을 기반으로 하며, 멀티·하이브리드 환경에선 네트워크 정책·관측성 통합이 필수다.</li></ul><h5 id=제어-위치--정책-적용>제어 위치 / 정책 적용<a hidden class=anchor aria-hidden=true href=#제어-위치--정책-적용>#</a></h5><table><thead><tr><th style=text-align:right>제어 방식</th><th>특징</th><th>장점</th><th>단점</th><th>권장 상황</th></tr></thead><tbody><tr><td style=text-align:right>중앙화 (Controller)</td><td>SDN, 중앙 정책</td><td>정책 일관성</td><td>단일 장애점 위험</td><td>작은 리전·일관성 우선</td></tr><tr><td style=text-align:right>분산화 (각 노드)</td><td>로컬 자율성</td><td>가용성·지연감소</td><td>정책 불일치 가능</td><td>대규모 글로벌</td></tr><tr><td style=text-align:right>지능형 (AI/ML)</td><td>예측·자동화</td><td>자동 최적화</td><td>예측 실패 리스크</td><td>대규모 동적 트래픽</td></tr></tbody></table><ul><li>중앙화는 정책 일관성, 분산화는 가용성·지역성 장점. 현실적 설계는 중앙 제어 + 로컬 자율 (혼합) 패턴을 권장한다.</li></ul><h5 id=오버레이--터널링--전송특성>오버레이 / 터널링 / 전송특성<a hidden class=anchor aria-hidden=true href=#오버레이--터널링--전송특성>#</a></h5><table><thead><tr><th style=text-align:right>유형</th><th style=text-align:right>오버헤드 (예상)</th><th>주요 영향</th><th>권장 설계 포인트</th></tr></thead><tbody><tr><td style=text-align:right>VXLAN/Geneve</td><td style=text-align:right>+~50 바이트</td><td>MTU 감소, 단편화 위험</td><td>물리 MTU 증가 (예: 9000) 또는 터널 MTU 설정</td></tr><tr><td style=text-align:right>GRE</td><td style=text-align:right>+20~40 바이트</td><td>동일 (오버헤드)</td><td>MSS 클램프, PMTUD 검증</td></tr><tr><td style=text-align:right>IPsec/ESP</td><td style=text-align:right>+ 헤더 + 패딩</td><td>암호화 오버헤드·MTU·추가 CPU</td><td>하드웨어 암호화 오프로딩</td></tr><tr><td style=text-align:right>QUIC (UDP)</td><td style=text-align:right>소프트웨어 오프로드 필요</td><td>암호화 + 전송 통합 (관측성 저하)</td><td>TraceID, eBPF, 엣지 TLS 전략</td></tr></tbody></table><ul><li>오버레이는 설계 시 <strong>MTU·MSS·PMTUD</strong> 고려 필수. 터널 헤더 바이트를 계산해 인터페이스 MTU 를 적절히 조정하라.</li></ul><h4 id=도구-및-라이브러리-생태계>도구 및 라이브러리 생태계<a hidden class=anchor aria-hidden=true href=#도구-및-라이브러리-생태계>#</a></h4><p>네트워크/트래픽 관리는 여러 도구를 조합해 문제를 찾아내고 통제·최적화하는 작업이다.</p><p>패킷 레벨 문제는 Wireshark/tcpdump 로 확인하고, 성능은 iperf/mtr 로 측정한다.</p><p>트래픽 분산·보호는 NGINX/Envoy/HAProxy 같은 프록시·로드밸런서와 방화벽 (iptables/nftables) 으로 처리하고, 서비스 간 세부 제어는 서비스 메시 (Istio/Linkerd) 나 API Gateway 가 맡는다.</p><p>관측성은 Prometheus/Grafana(메트릭), Jaeger(트레이스), ELK(로그), eBPF(호스트 레벨) 로 통합하며, QUIC/TLS 같은 신기술 도입 시에는 qlog/eBPF/OTel 로 가시성을 보완해야 한다.</p><h5 id=패킷-분석--디버깅>패킷 분석 & 디버깅<a hidden class=anchor aria-hidden=true href=#패킷-분석--디버깅>#</a></h5><table><thead><tr><th>도구</th><th>용도 (주요)</th><th>사용 상황</th></tr></thead><tbody><tr><td>Wireshark</td><td>GUI 캡처·프로토콜 디코드</td><td>복잡한 패킷·프로토콜 분석</td></tr><tr><td>tcpdump / tshark</td><td>CLI 캡처·필터</td><td>서버·스크립트 기반 캡처</td></tr><tr><td>scapy</td><td>패킷 생성/조작</td><td>테스트·보안 실험</td></tr><tr><td>tshark</td><td>자동화된 pcap 파싱</td><td>스크립트화된 분석</td></tr></tbody></table><ul><li>패킷 레벨 가시성은 문제 근원 규명을 위해 필수.</li><li>서버/자동화 환경에서는 tcpdump/tshark, 심층 분석은 Wireshark.</li></ul><h5 id=성능경로보안-테스트>성능·경로·보안 테스트<a hidden class=anchor aria-hidden=true href=#성능경로보안-테스트>#</a></h5><table><thead><tr><th>도구</th><th>용도 (주요)</th><th>사용 상황</th></tr></thead><tbody><tr><td>iperf3</td><td>Throughput 측정</td><td>대역폭·TCP/UDP 성능</td></tr><tr><td>mtr</td><td>경로 + 지연 모니터링</td><td>경로 안정성·변동 관측</td></tr><tr><td>traceroute/tracepath</td><td>경로 점검, PMTUD 진단</td><td>네트워크 홉 분석</td></tr><tr><td>nmap</td><td>포트·서비스 스캔</td><td>보안 점검·서비스 매핑</td></tr></tbody></table><ul><li>대역폭·지연·경로 문제는 iperf/mtr/traceroute 로 탐지.</li><li>PMTUD 문제는 tracepath/ping -M do 로 확인.</li></ul><h5 id=트래픽-제어프록시로드밸런서>트래픽 제어·프록시·로드밸런서<a hidden class=anchor aria-hidden=true href=#트래픽-제어프록시로드밸런서>#</a></h5><table><thead><tr><th>도구</th><th>역할 (요약)</th><th>추천 적용</th></tr></thead><tbody><tr><td>NGINX</td><td>L7 프록시, TLS 종료</td><td>웹앱·정적 콘텐츠</td></tr><tr><td>Envoy</td><td>고급 L7 프록시/서비스메시</td><td>마이크로서비스·관측성</td></tr><tr><td>HAProxy</td><td>L4/L7 로드밸런싱</td><td>고성능 TCP/HTTP</td></tr><tr><td>Traefik</td><td>Kubernetes Ingress</td><td>자동화된 라우팅</td></tr></tbody></table><ul><li>환경 (컨테이너/VM) 과 요구 (정책·관측) 에 맞춰 선택.</li><li>Envoy 는 서비스 메시와 결합 시 강력.</li></ul><h5 id=커널호스트-레벨-필터가속>커널/호스트 레벨 필터·가속<a hidden class=anchor aria-hidden=true href=#커널호스트-레벨-필터가속>#</a></h5><table><thead><tr><th>도구</th><th>역할</th><th>적용 포인트</th></tr></thead><tbody><tr><td>iptables / nftables</td><td>L3/L4 필터·NAT</td><td>전통적 패킷 필터링</td></tr><tr><td>eBPF / XDP</td><td>고성능 필터·관측</td><td>DDoS 완화, 호스트 메트릭</td></tr><tr><td>Open vSwitch</td><td>가상 스위칭</td><td>VM/컨테이너 네트워크</td></tr></tbody></table><ul><li>운영 환경에서 낮은 지연·고성능 처리는 eBPF/XDP 가 유리.</li><li>룰 관리·안전성 고려 필요.</li></ul><h5 id=관측성-메트릭트레이스로그플로우>관측성 (메트릭·트레이스·로그·플로우)<a hidden class=anchor aria-hidden=true href=#관측성-메트릭트레이스로그플로우>#</a></h5><table><thead><tr><th>도구</th><th>역할</th><th>핵심 사용법</th></tr></thead><tbody><tr><td>Prometheus</td><td>시계열 메트릭 수집</td><td>애플리케이션/호스트 메트릭</td></tr><tr><td>Grafana</td><td>대시보드</td><td>시각화·알람</td></tr><tr><td>Jaeger / Zipkin</td><td>분산 트레이스</td><td>요청 흐름·latency root cause</td></tr><tr><td>ELK/EFK</td><td>로그 수집·검색</td><td>로그 분석·포렌식</td></tr><tr><td>NetFlow/IPFIX/sFlow</td><td>플로우 분석</td><td>장기 트래픽 패턴</td></tr></tbody></table><ul><li>메트릭 + 트레이스 + 로그의 통합 파이프라인이 문제 해결의 핵심.</li><li>QUIC/암호화로 인한 정보 부족은 eBPF/qlog 로 보완.</li></ul><h5 id=서비스-메시--api-게이트웨이>서비스 메시 · API 게이트웨이<a hidden class=anchor aria-hidden=true href=#서비스-메시--api-게이트웨이>#</a></h5><table><thead><tr><th>도구</th><th>역할</th><th>추천 사용 시나리오</th></tr></thead><tbody><tr><td>Istio (Envoy)</td><td>정책·보안·관측 통합</td><td>복잡한 멀티서비스 정책 필요시</td></tr><tr><td>Linkerd</td><td>경량 메시</td><td>단순·경량화된 서비스 메시</td></tr><tr><td>Kong / APISIX</td><td>API Gateway</td><td>인증·쿼터·플러그인 기반 확장</td></tr></tbody></table><ul><li>정책·보안·관측을 코드화하려면 Istio</li><li>단순화와 성능 중시라면 Linkerd.</li></ul><h5 id=quictls-및-전송-라이브러리>QUIC/TLS 및 전송 라이브러리<a hidden class=anchor aria-hidden=true href=#quictls-및-전송-라이브러리>#</a></h5><table><thead><tr><th>도구</th><th>역할</th><th>비고</th></tr></thead><tbody><tr><td>OpenSSL / BoringSSL</td><td>TLS 라이브러리</td><td>TLS 1.3 구현/성능</td></tr><tr><td>quiche / ngtcp2 / MsQuic</td><td>QUIC 구현체</td><td>QUIC 성능·운영성 비교 필요</td></tr><tr><td>nghttp2</td><td>HTTP/2 구현</td><td>서버/클라이언트 연동</td></tr></tbody></table><ul><li>QUIC 전환 시 구현체 성능·운영지원 (로그·디버깅) 사전 검증 필수.</li></ul><h4 id=표준-및-규격-준수사항>표준 및 규격 준수사항<a hidden class=anchor aria-hidden=true href=#표준-및-규격-준수사항>#</a></h4><p>네트워크 표준·규격 준수는 <strong>무엇을</strong> 구현해야 하는지 (프로토콜), <strong>어떤 규칙</strong>을 따라야 하는지 (운영/레지스트리), 그리고 <strong>어떻게 검사/검증</strong>할지를 결정한다.</p><p>실무 우선순위:</p><ol><li><strong>기본 통신 규격 준수</strong>(IP/TCP/UDP/HTTP 등)—상호연동 보장</li><li><strong>보안 규격 적용</strong>(TLS/IPSec/DNSSEC 등)—기밀성·무결성 확보</li><li><strong>운영 규정 준수</strong>(IANA 포트, RPKI, BCP)—안정성·신뢰성 유지</li><li><strong>무선·링크 표준 준수</strong>(IEEE 802.x, WPA)—물리/링크 안정화</li><li><strong>테스트·모니터링</strong>(NetFlow, conformance tests)—준수 확인 및 문제 탐지</li></ol><h5 id=아키텍처--참조표준>아키텍처 / 참조표준<a hidden class=anchor aria-hidden=true href=#아키텍처--참조표준>#</a></h5><table><thead><tr><th>항목</th><th style=text-align:right>표준/문서</th><th>목적</th><th>적용 범위</th></tr></thead><tbody><tr><td>OSI 참조 모델</td><td style=text-align:right>ISO/IEC 7498-1</td><td>네트워크 계층화 개념 정의</td><td>교육/설계 참고 모델</td></tr><tr><td>TCP/IP 실무 모델</td><td style=text-align:right>IETF RFC 시리즈 (개념)</td><td>실무 계층 적용 기준</td><td>설계·운영 지침</td></tr></tbody></table><ul><li>OSI 는 개념적 기준, TCP/IP 는 실무 적용 모델—둘을 병행해 설계·교육 필요.</li></ul><h5 id=물리데이터링크>물리·데이터링크<a hidden class=anchor aria-hidden=true href=#물리데이터링크>#</a></h5><table><thead><tr><th>프로토콜/표준</th><th style=text-align:right>주요 문서 (예)</th><th style=text-align:right>적용 계층</th><th>핵심 내용</th></tr></thead><tbody><tr><td>Ethernet (IEEE 802.3)</td><td style=text-align:right>IEEE 802.3</td><td style=text-align:right>L1/L2</td><td>프레임 포맷, PHY 규격 (10/100/1G/10G 등)</td></tr><tr><td>Wi-Fi (IEEE 802.11)</td><td style=text-align:right>IEEE 802.11 (ac/ax 등)</td><td style=text-align:right>L1/L2</td><td>무선 PHY·MAC, 주파수·모드</td></tr><tr><td>L2 보안 (WPA/WPA2/WPA3)</td><td style=text-align:right>IEEE 802.11i, WPA3 문서</td><td style=text-align:right>L2</td><td>무선 인증·암호화</td></tr></tbody></table><ul><li>물리·링크 표준은 매체 특성·보안 (L2)·프레임 규격을 규정—케이블·무선 장비 선정·설계 시 필수.</li></ul><h5 id=인터넷전송>인터넷·전송<a hidden class=anchor aria-hidden=true href=#인터넷전송>#</a></h5><table><thead><tr><th>프로토콜</th><th style=text-align:right>RFC/문서</th><th style=text-align:right>적용 계층</th><th>핵심 포인트</th></tr></thead><tbody><tr><td>IPv6</td><td style=text-align:right>RFC 8200</td><td style=text-align:right>L3</td><td>주소 구조, 확장 헤더, ICMPv6 상호작용</td></tr><tr><td>TCP</td><td style=text-align:right>RFC 9293</td><td style=text-align:right>L4</td><td>연결성·혼잡제어·신뢰성 (최신 RFC)</td></tr><tr><td>UDP</td><td style=text-align:right>RFC 768</td><td style=text-align:right>L4</td><td>비연결 전송, 낮은 오버헤드</td></tr><tr><td>ICMPv4/ICMPv6</td><td style=text-align:right>RFC 792 / RFC 4443</td><td style=text-align:right>L3</td><td>진단/오류 메시지</td></tr><tr><td>QUIC</td><td style=text-align:right>RFC 9000/9001/9002</td><td style=text-align:right>L4 (over UDP)</td><td>연결/암호화/스트림 관리 (사용자공간)</td></tr></tbody></table><ul><li>네트워크·전송 표준은 경로·세그먼트·혼잡·진단 동작을 정의—운영 정책 (ACL, MTU, PMTUD) 과 함께 적용해야 함.</li></ul><h5 id=응용서비스>응용·서비스<a hidden class=anchor aria-hidden=true href=#응용서비스>#</a></h5><table><thead><tr><th>프로토콜</th><th style=text-align:right>RFC/문서</th><th style=text-align:right>적용 계층</th><th>핵심 포인트</th></tr></thead><tbody><tr><td>HTTP/1.1/2/3</td><td style=text-align:right>RFC 9110~9114</td><td style=text-align:right>L7</td><td>HTTP/3 은 QUIC 기반 (지연/복원력 개선)</td></tr><tr><td>DNS</td><td style=text-align:right>RFC 1034/1035 (DNSSEC: RFC 4033/4034/4035)</td><td style=text-align:right>L7</td><td>이름 해석, 보안 확장 (DNSSEC) 권장</td></tr><tr><td>DHCPv4/v6</td><td style=text-align:right>RFC 2131 / RFC 8415</td><td style=text-align:right>L7 (서비스)</td><td>주소 할당, 구성 자동화</td></tr></tbody></table><ul><li>응용 계층 표준은 서비스 동작·보안 (예:HTTPS/TLS, DNSSEC) 결정—사용자 경험·보안에 직접 영향.</li></ul><h5 id=보안운영레지스트리>보안·운영·레지스트리<a hidden class=anchor aria-hidden=true href=#보안운영레지스트리>#</a></h5><table><thead><tr><th>항목</th><th style=text-align:right>문서/표준</th><th style=text-align:right>적용 영역</th><th>권고 수준</th></tr></thead><tbody><tr><td>TLS 1.3</td><td style=text-align:right>RFC 8446</td><td style=text-align:right>L6/L7 보안</td><td><strong>필수 권장</strong> (암호화 표준)</td></tr><tr><td>IPSec</td><td style=text-align:right>RFC 4301 등</td><td style=text-align:right>L3 보안</td><td>권장 (망 경계/터널)</td></tr><tr><td>DNSSEC</td><td style=text-align:right>RFC 4033~4035</td><td style=text-align:right>DNS 무결성</td><td>권장</td></tr><tr><td>IANA 포트 레지스트리</td><td style=text-align:right>RFC 6335 + IANA DB</td><td style=text-align:right>포트 관리</td><td><strong>필수 (레지스트리 준수)</strong></td></tr><tr><td>RPKI</td><td style=text-align:right>RPKI 관련 RFCs</td><td style=text-align:right>BGP 보안</td><td>권장 (인터넷 경계 보안)</td></tr><tr><td>BCP (예: BCP 38)</td><td style=text-align:right>IETF BCP 문서</td><td style=text-align:right>운영권고</td><td>권장 (안전 운영)</td></tr></tbody></table><ul><li>보안과 운영 표준은 서비스 신뢰성과 인터넷 상호운용성에 결정적—조직 정책으로 반드시 채택·운영해야 함.</li></ul><h5 id=테스트관측신규패러다임>테스트·관측·신규패러다임<a hidden class=anchor aria-hidden=true href=#테스트관측신규패러다임>#</a></h5><table><thead><tr><th>항목</th><th style=text-align:right>표준/툴 (예)</th><th style=text-align:right>목적</th><th>비고</th></tr></thead><tbody><tr><td>NetFlow / IPFIX</td><td style=text-align:right>IETF RFC</td><td style=text-align:right>흐름 관측</td><td>트래픽 분석/계량화</td></tr><tr><td>sFlow</td><td style=text-align:right>sFlow.org 표준</td><td style=text-align:right>샘플링 관측</td><td>대규모 인프라 모니터링</td></tr><tr><td>Conformance tests</td><td style=text-align:right>다양한 벤더·오픈 툴</td><td style=text-align:right>RFC 준수 검증</td><td>상호운용성 시험 필요</td></tr><tr><td>SDN / OpenFlow</td><td style=text-align:right>OpenFlow, ONF 문서</td><td style=text-align:right>제어·데이터 평면 분리</td><td>중앙관리·정책 자동화</td></tr></tbody></table><ul><li>준수는 선언만으로 끝나지 않음—관측·테스트·상호운용성 실험이 필수.</li></ul><h3 id=실무-적용-및-사례>실무 적용 및 사례<a hidden class=anchor aria-hidden=true href=#실무-적용-및-사례>#</a></h3><h4 id=실습-예제-및-코드-구현>실습 예제 및 코드 구현<a hidden class=anchor aria-hidden=true href=#실습-예제-및-코드-구현>#</a></h4><h5 id=실습-예제-osi-계층별-프로토콜-분석-도구-구현>실습 예제: OSI 계층별 프로토콜 분석 도구 구현<a hidden class=anchor aria-hidden=true href=#실습-예제-osi-계층별-프로토콜-분석-도구-구현>#</a></h5><h6 id=목적>목적<a hidden class=anchor aria-hidden=true href=#목적>#</a></h6><ul><li>OSI 7 계층 모델의 각 계층별 프로토콜을 식별하고 분석하는 도구 개발</li><li>실제 네트워크 패킷을 OSI 모델 관점에서 분석하는 능력 배양</li></ul><h6 id=사전-요구사항>사전 요구사항<a hidden class=anchor aria-hidden=true href=#사전-요구사항>#</a></h6><ul><li>Python 3.8 이상</li><li>Scapy 라이브러리 (패킷 조작 및 분석)</li><li>Wireshark (패킷 캡처용, 선택사항)</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1>1</a>
</span><span class=lnt id=hl-21-2><a class=lnlinks href=#hl-21-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 필요 라이브러리 설치</span>
</span></span><span class=line><span class=cl>pip install scapy
</span></span></code></pre></td></tr></table></div></div><h6 id=단계별-구현>단계별 구현<a hidden class=anchor aria-hidden=true href=#단계별-구현>#</a></h6><ol><li><p><strong>1 단계: 기본 패킷 분석기 구현</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1>  1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2>  2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3>  3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4>  4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5>  5</a>
</span><span class=lnt id=hl-22-6><a class=lnlinks href=#hl-22-6>  6</a>
</span><span class=lnt id=hl-22-7><a class=lnlinks href=#hl-22-7>  7</a>
</span><span class=lnt id=hl-22-8><a class=lnlinks href=#hl-22-8>  8</a>
</span><span class=lnt id=hl-22-9><a class=lnlinks href=#hl-22-9>  9</a>
</span><span class=lnt id=hl-22-10><a class=lnlinks href=#hl-22-10> 10</a>
</span><span class=lnt id=hl-22-11><a class=lnlinks href=#hl-22-11> 11</a>
</span><span class=lnt id=hl-22-12><a class=lnlinks href=#hl-22-12> 12</a>
</span><span class=lnt id=hl-22-13><a class=lnlinks href=#hl-22-13> 13</a>
</span><span class=lnt id=hl-22-14><a class=lnlinks href=#hl-22-14> 14</a>
</span><span class=lnt id=hl-22-15><a class=lnlinks href=#hl-22-15> 15</a>
</span><span class=lnt id=hl-22-16><a class=lnlinks href=#hl-22-16> 16</a>
</span><span class=lnt id=hl-22-17><a class=lnlinks href=#hl-22-17> 17</a>
</span><span class=lnt id=hl-22-18><a class=lnlinks href=#hl-22-18> 18</a>
</span><span class=lnt id=hl-22-19><a class=lnlinks href=#hl-22-19> 19</a>
</span><span class=lnt id=hl-22-20><a class=lnlinks href=#hl-22-20> 20</a>
</span><span class=lnt id=hl-22-21><a class=lnlinks href=#hl-22-21> 21</a>
</span><span class=lnt id=hl-22-22><a class=lnlinks href=#hl-22-22> 22</a>
</span><span class=lnt id=hl-22-23><a class=lnlinks href=#hl-22-23> 23</a>
</span><span class=lnt id=hl-22-24><a class=lnlinks href=#hl-22-24> 24</a>
</span><span class=lnt id=hl-22-25><a class=lnlinks href=#hl-22-25> 25</a>
</span><span class=lnt id=hl-22-26><a class=lnlinks href=#hl-22-26> 26</a>
</span><span class=lnt id=hl-22-27><a class=lnlinks href=#hl-22-27> 27</a>
</span><span class=lnt id=hl-22-28><a class=lnlinks href=#hl-22-28> 28</a>
</span><span class=lnt id=hl-22-29><a class=lnlinks href=#hl-22-29> 29</a>
</span><span class=lnt id=hl-22-30><a class=lnlinks href=#hl-22-30> 30</a>
</span><span class=lnt id=hl-22-31><a class=lnlinks href=#hl-22-31> 31</a>
</span><span class=lnt id=hl-22-32><a class=lnlinks href=#hl-22-32> 32</a>
</span><span class=lnt id=hl-22-33><a class=lnlinks href=#hl-22-33> 33</a>
</span><span class=lnt id=hl-22-34><a class=lnlinks href=#hl-22-34> 34</a>
</span><span class=lnt id=hl-22-35><a class=lnlinks href=#hl-22-35> 35</a>
</span><span class=lnt id=hl-22-36><a class=lnlinks href=#hl-22-36> 36</a>
</span><span class=lnt id=hl-22-37><a class=lnlinks href=#hl-22-37> 37</a>
</span><span class=lnt id=hl-22-38><a class=lnlinks href=#hl-22-38> 38</a>
</span><span class=lnt id=hl-22-39><a class=lnlinks href=#hl-22-39> 39</a>
</span><span class=lnt id=hl-22-40><a class=lnlinks href=#hl-22-40> 40</a>
</span><span class=lnt id=hl-22-41><a class=lnlinks href=#hl-22-41> 41</a>
</span><span class=lnt id=hl-22-42><a class=lnlinks href=#hl-22-42> 42</a>
</span><span class=lnt id=hl-22-43><a class=lnlinks href=#hl-22-43> 43</a>
</span><span class=lnt id=hl-22-44><a class=lnlinks href=#hl-22-44> 44</a>
</span><span class=lnt id=hl-22-45><a class=lnlinks href=#hl-22-45> 45</a>
</span><span class=lnt id=hl-22-46><a class=lnlinks href=#hl-22-46> 46</a>
</span><span class=lnt id=hl-22-47><a class=lnlinks href=#hl-22-47> 47</a>
</span><span class=lnt id=hl-22-48><a class=lnlinks href=#hl-22-48> 48</a>
</span><span class=lnt id=hl-22-49><a class=lnlinks href=#hl-22-49> 49</a>
</span><span class=lnt id=hl-22-50><a class=lnlinks href=#hl-22-50> 50</a>
</span><span class=lnt id=hl-22-51><a class=lnlinks href=#hl-22-51> 51</a>
</span><span class=lnt id=hl-22-52><a class=lnlinks href=#hl-22-52> 52</a>
</span><span class=lnt id=hl-22-53><a class=lnlinks href=#hl-22-53> 53</a>
</span><span class=lnt id=hl-22-54><a class=lnlinks href=#hl-22-54> 54</a>
</span><span class=lnt id=hl-22-55><a class=lnlinks href=#hl-22-55> 55</a>
</span><span class=lnt id=hl-22-56><a class=lnlinks href=#hl-22-56> 56</a>
</span><span class=lnt id=hl-22-57><a class=lnlinks href=#hl-22-57> 57</a>
</span><span class=lnt id=hl-22-58><a class=lnlinks href=#hl-22-58> 58</a>
</span><span class=lnt id=hl-22-59><a class=lnlinks href=#hl-22-59> 59</a>
</span><span class=lnt id=hl-22-60><a class=lnlinks href=#hl-22-60> 60</a>
</span><span class=lnt id=hl-22-61><a class=lnlinks href=#hl-22-61> 61</a>
</span><span class=lnt id=hl-22-62><a class=lnlinks href=#hl-22-62> 62</a>
</span><span class=lnt id=hl-22-63><a class=lnlinks href=#hl-22-63> 63</a>
</span><span class=lnt id=hl-22-64><a class=lnlinks href=#hl-22-64> 64</a>
</span><span class=lnt id=hl-22-65><a class=lnlinks href=#hl-22-65> 65</a>
</span><span class=lnt id=hl-22-66><a class=lnlinks href=#hl-22-66> 66</a>
</span><span class=lnt id=hl-22-67><a class=lnlinks href=#hl-22-67> 67</a>
</span><span class=lnt id=hl-22-68><a class=lnlinks href=#hl-22-68> 68</a>
</span><span class=lnt id=hl-22-69><a class=lnlinks href=#hl-22-69> 69</a>
</span><span class=lnt id=hl-22-70><a class=lnlinks href=#hl-22-70> 70</a>
</span><span class=lnt id=hl-22-71><a class=lnlinks href=#hl-22-71> 71</a>
</span><span class=lnt id=hl-22-72><a class=lnlinks href=#hl-22-72> 72</a>
</span><span class=lnt id=hl-22-73><a class=lnlinks href=#hl-22-73> 73</a>
</span><span class=lnt id=hl-22-74><a class=lnlinks href=#hl-22-74> 74</a>
</span><span class=lnt id=hl-22-75><a class=lnlinks href=#hl-22-75> 75</a>
</span><span class=lnt id=hl-22-76><a class=lnlinks href=#hl-22-76> 76</a>
</span><span class=lnt id=hl-22-77><a class=lnlinks href=#hl-22-77> 77</a>
</span><span class=lnt id=hl-22-78><a class=lnlinks href=#hl-22-78> 78</a>
</span><span class=lnt id=hl-22-79><a class=lnlinks href=#hl-22-79> 79</a>
</span><span class=lnt id=hl-22-80><a class=lnlinks href=#hl-22-80> 80</a>
</span><span class=lnt id=hl-22-81><a class=lnlinks href=#hl-22-81> 81</a>
</span><span class=lnt id=hl-22-82><a class=lnlinks href=#hl-22-82> 82</a>
</span><span class=lnt id=hl-22-83><a class=lnlinks href=#hl-22-83> 83</a>
</span><span class=lnt id=hl-22-84><a class=lnlinks href=#hl-22-84> 84</a>
</span><span class=lnt id=hl-22-85><a class=lnlinks href=#hl-22-85> 85</a>
</span><span class=lnt id=hl-22-86><a class=lnlinks href=#hl-22-86> 86</a>
</span><span class=lnt id=hl-22-87><a class=lnlinks href=#hl-22-87> 87</a>
</span><span class=lnt id=hl-22-88><a class=lnlinks href=#hl-22-88> 88</a>
</span><span class=lnt id=hl-22-89><a class=lnlinks href=#hl-22-89> 89</a>
</span><span class=lnt id=hl-22-90><a class=lnlinks href=#hl-22-90> 90</a>
</span><span class=lnt id=hl-22-91><a class=lnlinks href=#hl-22-91> 91</a>
</span><span class=lnt id=hl-22-92><a class=lnlinks href=#hl-22-92> 92</a>
</span><span class=lnt id=hl-22-93><a class=lnlinks href=#hl-22-93> 93</a>
</span><span class=lnt id=hl-22-94><a class=lnlinks href=#hl-22-94> 94</a>
</span><span class=lnt id=hl-22-95><a class=lnlinks href=#hl-22-95> 95</a>
</span><span class=lnt id=hl-22-96><a class=lnlinks href=#hl-22-96> 96</a>
</span><span class=lnt id=hl-22-97><a class=lnlinks href=#hl-22-97> 97</a>
</span><span class=lnt id=hl-22-98><a class=lnlinks href=#hl-22-98> 98</a>
</span><span class=lnt id=hl-22-99><a class=lnlinks href=#hl-22-99> 99</a>
</span><span class=lnt id=hl-22-100><a class=lnlinks href=#hl-22-100>100</a>
</span><span class=lnt id=hl-22-101><a class=lnlinks href=#hl-22-101>101</a>
</span><span class=lnt id=hl-22-102><a class=lnlinks href=#hl-22-102>102</a>
</span><span class=lnt id=hl-22-103><a class=lnlinks href=#hl-22-103>103</a>
</span><span class=lnt id=hl-22-104><a class=lnlinks href=#hl-22-104>104</a>
</span><span class=lnt id=hl-22-105><a class=lnlinks href=#hl-22-105>105</a>
</span><span class=lnt id=hl-22-106><a class=lnlinks href=#hl-22-106>106</a>
</span><span class=lnt id=hl-22-107><a class=lnlinks href=#hl-22-107>107</a>
</span><span class=lnt id=hl-22-108><a class=lnlinks href=#hl-22-108>108</a>
</span><span class=lnt id=hl-22-109><a class=lnlinks href=#hl-22-109>109</a>
</span><span class=lnt id=hl-22-110><a class=lnlinks href=#hl-22-110>110</a>
</span><span class=lnt id=hl-22-111><a class=lnlinks href=#hl-22-111>111</a>
</span><span class=lnt id=hl-22-112><a class=lnlinks href=#hl-22-112>112</a>
</span><span class=lnt id=hl-22-113><a class=lnlinks href=#hl-22-113>113</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>scapy.all</span> <span class=kn>import</span> <span class=o>*</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sys</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>OSILayerAnalyzer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;OSI 7계층 관점에서 패킷을 분석하는 클래스&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># OSI 계층별 프로토콜 매핑 테이블 초기화</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>layer_protocols</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=mi>1</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;Ethernet Physical&#39;</span><span class=p>,</span> <span class=s1>&#39;WiFi Physical&#39;</span><span class=p>],</span>  <span class=c1># 물리 계층</span>
</span></span><span class=line><span class=cl>            <span class=mi>2</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;Ethernet&#39;</span><span class=p>,</span> <span class=s1>&#39;WiFi&#39;</span><span class=p>,</span> <span class=s1>&#39;PPP&#39;</span><span class=p>],</span>             <span class=c1># 데이터 링크 계층</span>
</span></span><span class=line><span class=cl>            <span class=mi>3</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;IP&#39;</span><span class=p>,</span> <span class=s1>&#39;ICMP&#39;</span><span class=p>,</span> <span class=s1>&#39;ARP&#39;</span><span class=p>],</span>                   <span class=c1># 네트워크 계층</span>
</span></span><span class=line><span class=cl>            <span class=mi>4</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;TCP&#39;</span><span class=p>,</span> <span class=s1>&#39;UDP&#39;</span><span class=p>],</span>                          <span class=c1># 전송 계층</span>
</span></span><span class=line><span class=cl>            <span class=mi>5</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;NetBIOS&#39;</span><span class=p>,</span> <span class=s1>&#39;RPC&#39;</span><span class=p>],</span>                      <span class=c1># 세션 계층</span>
</span></span><span class=line><span class=cl>            <span class=mi>6</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;SSL/TLS&#39;</span><span class=p>,</span> <span class=s1>&#39;JPEG&#39;</span><span class=p>,</span> <span class=s1>&#39;ASCII&#39;</span><span class=p>],</span>            <span class=c1># 표현 계층</span>
</span></span><span class=line><span class=cl>            <span class=mi>7</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;HTTP&#39;</span><span class=p>,</span> <span class=s1>&#39;FTP&#39;</span><span class=p>,</span> <span class=s1>&#39;SMTP&#39;</span><span class=p>,</span> <span class=s1>&#39;DNS&#39;</span><span class=p>]</span>           <span class=c1># 응용 계층</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>analyze_packet</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>packet</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;단일 패킷을 OSI 계층별로 분석&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>analysis</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># 1-2계층: 이더넷 프레임 분석</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>packet</span><span class=o>.</span><span class=n>haslayer</span><span class=p>(</span><span class=n>Ether</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>analysis</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;protocol&#39;</span><span class=p>:</span> <span class=s1>&#39;Ethernet&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;src_mac&#39;</span><span class=p>:</span> <span class=n>packet</span><span class=p>[</span><span class=n>Ether</span><span class=p>]</span><span class=o>.</span><span class=n>src</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;dst_mac&#39;</span><span class=p>:</span> <span class=n>packet</span><span class=p>[</span><span class=n>Ether</span><span class=p>]</span><span class=o>.</span><span class=n>dst</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;type&#39;</span><span class=p>:</span> <span class=n>packet</span><span class=p>[</span><span class=n>Ether</span><span class=p>]</span><span class=o>.</span><span class=n>type</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=n>analysis</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;protocol&#39;</span><span class=p>:</span> <span class=s1>&#39;Ethernet Physical&#39;</span><span class=p>,</span> <span class=s1>&#39;medium&#39;</span><span class=p>:</span> <span class=s1>&#39;Cable/Wireless&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># 3계층: 네트워크 계층 분석</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>packet</span><span class=o>.</span><span class=n>haslayer</span><span class=p>(</span><span class=n>IP</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>analysis</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;protocol&#39;</span><span class=p>:</span> <span class=s1>&#39;IPv4&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;src_ip&#39;</span><span class=p>:</span> <span class=n>packet</span><span class=p>[</span><span class=n>IP</span><span class=p>]</span><span class=o>.</span><span class=n>src</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;dst_ip&#39;</span><span class=p>:</span> <span class=n>packet</span><span class=p>[</span><span class=n>IP</span><span class=p>]</span><span class=o>.</span><span class=n>dst</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;ttl&#39;</span><span class=p>:</span> <span class=n>packet</span><span class=p>[</span><span class=n>IP</span><span class=p>]</span><span class=o>.</span><span class=n>ttl</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;protocol_num&#39;</span><span class=p>:</span> <span class=n>packet</span><span class=p>[</span><span class=n>IP</span><span class=p>]</span><span class=o>.</span><span class=n>proto</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># 4계층: 전송 계층 분석</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>packet</span><span class=o>.</span><span class=n>haslayer</span><span class=p>(</span><span class=n>TCP</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>analysis</span><span class=p>[</span><span class=mi>4</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;protocol&#39;</span><span class=p>:</span> <span class=s1>&#39;TCP&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;src_port&#39;</span><span class=p>:</span> <span class=n>packet</span><span class=p>[</span><span class=n>TCP</span><span class=p>]</span><span class=o>.</span><span class=n>sport</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;dst_port&#39;</span><span class=p>:</span> <span class=n>packet</span><span class=p>[</span><span class=n>TCP</span><span class=p>]</span><span class=o>.</span><span class=n>dport</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;flags&#39;</span><span class=p>:</span> <span class=n>packet</span><span class=p>[</span><span class=n>TCP</span><span class=p>]</span><span class=o>.</span><span class=n>flags</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;seq&#39;</span><span class=p>:</span> <span class=n>packet</span><span class=p>[</span><span class=n>TCP</span><span class=p>]</span><span class=o>.</span><span class=n>seq</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=n>packet</span><span class=o>.</span><span class=n>haslayer</span><span class=p>(</span><span class=n>UDP</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>analysis</span><span class=p>[</span><span class=mi>4</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;protocol&#39;</span><span class=p>:</span> <span class=s1>&#39;UDP&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;src_port&#39;</span><span class=p>:</span> <span class=n>packet</span><span class=p>[</span><span class=n>UDP</span><span class=p>]</span><span class=o>.</span><span class=n>sport</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;dst_port&#39;</span><span class=p>:</span> <span class=n>packet</span><span class=p>[</span><span class=n>UDP</span><span class=p>]</span><span class=o>.</span><span class=n>dport</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;length&#39;</span><span class=p>:</span> <span class=n>packet</span><span class=p>[</span><span class=n>UDP</span><span class=p>]</span><span class=o>.</span><span class=n>len</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># 7계층: 응용 계층 분석 (HTTP 예시)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>packet</span><span class=o>.</span><span class=n>haslayer</span><span class=p>(</span><span class=n>Raw</span><span class=p>)</span> <span class=ow>and</span> <span class=n>analysis</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=p>{})</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;dst_port&#39;</span><span class=p>)</span> <span class=o>==</span> <span class=mi>80</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>payload</span> <span class=o>=</span> <span class=n>packet</span><span class=p>[</span><span class=n>Raw</span><span class=p>]</span><span class=o>.</span><span class=n>load</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>,</span> <span class=n>errors</span><span class=o>=</span><span class=s1>&#39;ignore&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>payload</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s1>&#39;GET&#39;</span><span class=p>)</span> <span class=ow>or</span> <span class=n>payload</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s1>&#39;POST&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                    <span class=n>analysis</span><span class=p>[</span><span class=mi>7</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                        <span class=s1>&#39;protocol&#39;</span><span class=p>:</span> <span class=s1>&#39;HTTP&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                        <span class=s1>&#39;method&#39;</span><span class=p>:</span> <span class=n>payload</span><span class=o>.</span><span class=n>split</span><span class=p>()[</span><span class=mi>0</span><span class=p>],</span>
</span></span><span class=line><span class=cl>                        <span class=s1>&#39;path&#39;</span><span class=p>:</span> <span class=n>payload</span><span class=o>.</span><span class=n>split</span><span class=p>()[</span><span class=mi>1</span><span class=p>]</span> <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>payload</span><span class=o>.</span><span class=n>split</span><span class=p>())</span> <span class=o>&gt;</span> <span class=mi>1</span> <span class=k>else</span> <span class=s1>&#39;/&#39;</span>
</span></span><span class=line><span class=cl>                    <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=k>except</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>analysis</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>print_analysis</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>analysis</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;분석 결과를 OSI 계층 순서로 출력&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;=&#34;</span> <span class=o>*</span> <span class=mi>50</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;OSI 7계층 분석 결과&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;=&#34;</span> <span class=o>*</span> <span class=mi>50</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>layer</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>7</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>):</span>  <span class=c1># 7계층부터 1계층 순서로 출력</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>layer</span> <span class=ow>in</span> <span class=n>analysis</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>layer_name</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_layer_name</span><span class=p>(</span><span class=n>layer</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>[</span><span class=si>{</span><span class=n>layer</span><span class=si>}</span><span class=s2>계층 - </span><span class=si>{</span><span class=n>layer_name</span><span class=si>}</span><span class=s2>]&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>analysis</span><span class=p>[</span><span class=n>layer</span><span class=p>]</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>                    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;  </span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>layer_name</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_layer_name</span><span class=p>(</span><span class=n>layer</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>[</span><span class=si>{</span><span class=n>layer</span><span class=si>}</span><span class=s2>계층 - </span><span class=si>{</span><span class=n>layer_name</span><span class=si>}</span><span class=s2>]: 분석된 프로토콜 없음&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_layer_name</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>layer_num</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;계층 번호에 대응하는 계층 이름 반환&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>layer_names</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=mi>7</span><span class=p>:</span> <span class=s2>&#34;응용 계층 (Application)&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=mi>6</span><span class=p>:</span> <span class=s2>&#34;표현 계층 (Presentation)&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>            <span class=mi>5</span><span class=p>:</span> <span class=s2>&#34;세션 계층 (Session)&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=mi>4</span><span class=p>:</span> <span class=s2>&#34;전송 계층 (Transport)&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=mi>3</span><span class=p>:</span> <span class=s2>&#34;네트워크 계층 (Network)&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=mi>2</span><span class=p>:</span> <span class=s2>&#34;데이터 링크 계층 (Data Link)&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=mi>1</span><span class=p>:</span> <span class=s2>&#34;물리 계층 (Physical)&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>layer_names</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>layer_num</span><span class=p>,</span> <span class=s2>&#34;알 수 없는 계층&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 테스트 실행 코드</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>analyzer</span> <span class=o>=</span> <span class=n>OSILayerAnalyzer</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 샘플 HTTP 패킷 생성 (테스트용)</span>
</span></span><span class=line><span class=cl>    <span class=n>sample_packet</span> <span class=o>=</span> <span class=n>Ether</span><span class=p>()</span><span class=o>/</span><span class=n>IP</span><span class=p>(</span><span class=n>dst</span><span class=o>=</span><span class=s2>&#34;8.8.8.8&#34;</span><span class=p>)</span><span class=o>/</span><span class=n>TCP</span><span class=p>(</span><span class=n>dport</span><span class=o>=</span><span class=mi>80</span><span class=p>)</span><span class=o>/</span><span class=n>Raw</span><span class=p>(</span><span class=n>load</span><span class=o>=</span><span class=sa>b</span><span class=s2>&#34;GET / HTTP/1.1</span><span class=se>\r\n</span><span class=s2>Host: example.com</span><span class=se>\r\n\r\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 패킷 분석 수행</span>
</span></span><span class=line><span class=cl>    <span class=n>analysis_result</span> <span class=o>=</span> <span class=n>analyzer</span><span class=o>.</span><span class=n>analyze_packet</span><span class=p>(</span><span class=n>sample_packet</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>analyzer</span><span class=o>.</span><span class=n>print_analysis</span><span class=p>(</span><span class=n>analysis_result</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>2 단계: 실시간 네트워크 트래픽 분석</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1>  1</a>
</span><span class=lnt id=hl-23-2><a class=lnlinks href=#hl-23-2>  2</a>
</span><span class=lnt id=hl-23-3><a class=lnlinks href=#hl-23-3>  3</a>
</span><span class=lnt id=hl-23-4><a class=lnlinks href=#hl-23-4>  4</a>
</span><span class=lnt id=hl-23-5><a class=lnlinks href=#hl-23-5>  5</a>
</span><span class=lnt id=hl-23-6><a class=lnlinks href=#hl-23-6>  6</a>
</span><span class=lnt id=hl-23-7><a class=lnlinks href=#hl-23-7>  7</a>
</span><span class=lnt id=hl-23-8><a class=lnlinks href=#hl-23-8>  8</a>
</span><span class=lnt id=hl-23-9><a class=lnlinks href=#hl-23-9>  9</a>
</span><span class=lnt id=hl-23-10><a class=lnlinks href=#hl-23-10> 10</a>
</span><span class=lnt id=hl-23-11><a class=lnlinks href=#hl-23-11> 11</a>
</span><span class=lnt id=hl-23-12><a class=lnlinks href=#hl-23-12> 12</a>
</span><span class=lnt id=hl-23-13><a class=lnlinks href=#hl-23-13> 13</a>
</span><span class=lnt id=hl-23-14><a class=lnlinks href=#hl-23-14> 14</a>
</span><span class=lnt id=hl-23-15><a class=lnlinks href=#hl-23-15> 15</a>
</span><span class=lnt id=hl-23-16><a class=lnlinks href=#hl-23-16> 16</a>
</span><span class=lnt id=hl-23-17><a class=lnlinks href=#hl-23-17> 17</a>
</span><span class=lnt id=hl-23-18><a class=lnlinks href=#hl-23-18> 18</a>
</span><span class=lnt id=hl-23-19><a class=lnlinks href=#hl-23-19> 19</a>
</span><span class=lnt id=hl-23-20><a class=lnlinks href=#hl-23-20> 20</a>
</span><span class=lnt id=hl-23-21><a class=lnlinks href=#hl-23-21> 21</a>
</span><span class=lnt id=hl-23-22><a class=lnlinks href=#hl-23-22> 22</a>
</span><span class=lnt id=hl-23-23><a class=lnlinks href=#hl-23-23> 23</a>
</span><span class=lnt id=hl-23-24><a class=lnlinks href=#hl-23-24> 24</a>
</span><span class=lnt id=hl-23-25><a class=lnlinks href=#hl-23-25> 25</a>
</span><span class=lnt id=hl-23-26><a class=lnlinks href=#hl-23-26> 26</a>
</span><span class=lnt id=hl-23-27><a class=lnlinks href=#hl-23-27> 27</a>
</span><span class=lnt id=hl-23-28><a class=lnlinks href=#hl-23-28> 28</a>
</span><span class=lnt id=hl-23-29><a class=lnlinks href=#hl-23-29> 29</a>
</span><span class=lnt id=hl-23-30><a class=lnlinks href=#hl-23-30> 30</a>
</span><span class=lnt id=hl-23-31><a class=lnlinks href=#hl-23-31> 31</a>
</span><span class=lnt id=hl-23-32><a class=lnlinks href=#hl-23-32> 32</a>
</span><span class=lnt id=hl-23-33><a class=lnlinks href=#hl-23-33> 33</a>
</span><span class=lnt id=hl-23-34><a class=lnlinks href=#hl-23-34> 34</a>
</span><span class=lnt id=hl-23-35><a class=lnlinks href=#hl-23-35> 35</a>
</span><span class=lnt id=hl-23-36><a class=lnlinks href=#hl-23-36> 36</a>
</span><span class=lnt id=hl-23-37><a class=lnlinks href=#hl-23-37> 37</a>
</span><span class=lnt id=hl-23-38><a class=lnlinks href=#hl-23-38> 38</a>
</span><span class=lnt id=hl-23-39><a class=lnlinks href=#hl-23-39> 39</a>
</span><span class=lnt id=hl-23-40><a class=lnlinks href=#hl-23-40> 40</a>
</span><span class=lnt id=hl-23-41><a class=lnlinks href=#hl-23-41> 41</a>
</span><span class=lnt id=hl-23-42><a class=lnlinks href=#hl-23-42> 42</a>
</span><span class=lnt id=hl-23-43><a class=lnlinks href=#hl-23-43> 43</a>
</span><span class=lnt id=hl-23-44><a class=lnlinks href=#hl-23-44> 44</a>
</span><span class=lnt id=hl-23-45><a class=lnlinks href=#hl-23-45> 45</a>
</span><span class=lnt id=hl-23-46><a class=lnlinks href=#hl-23-46> 46</a>
</span><span class=lnt id=hl-23-47><a class=lnlinks href=#hl-23-47> 47</a>
</span><span class=lnt id=hl-23-48><a class=lnlinks href=#hl-23-48> 48</a>
</span><span class=lnt id=hl-23-49><a class=lnlinks href=#hl-23-49> 49</a>
</span><span class=lnt id=hl-23-50><a class=lnlinks href=#hl-23-50> 50</a>
</span><span class=lnt id=hl-23-51><a class=lnlinks href=#hl-23-51> 51</a>
</span><span class=lnt id=hl-23-52><a class=lnlinks href=#hl-23-52> 52</a>
</span><span class=lnt id=hl-23-53><a class=lnlinks href=#hl-23-53> 53</a>
</span><span class=lnt id=hl-23-54><a class=lnlinks href=#hl-23-54> 54</a>
</span><span class=lnt id=hl-23-55><a class=lnlinks href=#hl-23-55> 55</a>
</span><span class=lnt id=hl-23-56><a class=lnlinks href=#hl-23-56> 56</a>
</span><span class=lnt id=hl-23-57><a class=lnlinks href=#hl-23-57> 57</a>
</span><span class=lnt id=hl-23-58><a class=lnlinks href=#hl-23-58> 58</a>
</span><span class=lnt id=hl-23-59><a class=lnlinks href=#hl-23-59> 59</a>
</span><span class=lnt id=hl-23-60><a class=lnlinks href=#hl-23-60> 60</a>
</span><span class=lnt id=hl-23-61><a class=lnlinks href=#hl-23-61> 61</a>
</span><span class=lnt id=hl-23-62><a class=lnlinks href=#hl-23-62> 62</a>
</span><span class=lnt id=hl-23-63><a class=lnlinks href=#hl-23-63> 63</a>
</span><span class=lnt id=hl-23-64><a class=lnlinks href=#hl-23-64> 64</a>
</span><span class=lnt id=hl-23-65><a class=lnlinks href=#hl-23-65> 65</a>
</span><span class=lnt id=hl-23-66><a class=lnlinks href=#hl-23-66> 66</a>
</span><span class=lnt id=hl-23-67><a class=lnlinks href=#hl-23-67> 67</a>
</span><span class=lnt id=hl-23-68><a class=lnlinks href=#hl-23-68> 68</a>
</span><span class=lnt id=hl-23-69><a class=lnlinks href=#hl-23-69> 69</a>
</span><span class=lnt id=hl-23-70><a class=lnlinks href=#hl-23-70> 70</a>
</span><span class=lnt id=hl-23-71><a class=lnlinks href=#hl-23-71> 71</a>
</span><span class=lnt id=hl-23-72><a class=lnlinks href=#hl-23-72> 72</a>
</span><span class=lnt id=hl-23-73><a class=lnlinks href=#hl-23-73> 73</a>
</span><span class=lnt id=hl-23-74><a class=lnlinks href=#hl-23-74> 74</a>
</span><span class=lnt id=hl-23-75><a class=lnlinks href=#hl-23-75> 75</a>
</span><span class=lnt id=hl-23-76><a class=lnlinks href=#hl-23-76> 76</a>
</span><span class=lnt id=hl-23-77><a class=lnlinks href=#hl-23-77> 77</a>
</span><span class=lnt id=hl-23-78><a class=lnlinks href=#hl-23-78> 78</a>
</span><span class=lnt id=hl-23-79><a class=lnlinks href=#hl-23-79> 79</a>
</span><span class=lnt id=hl-23-80><a class=lnlinks href=#hl-23-80> 80</a>
</span><span class=lnt id=hl-23-81><a class=lnlinks href=#hl-23-81> 81</a>
</span><span class=lnt id=hl-23-82><a class=lnlinks href=#hl-23-82> 82</a>
</span><span class=lnt id=hl-23-83><a class=lnlinks href=#hl-23-83> 83</a>
</span><span class=lnt id=hl-23-84><a class=lnlinks href=#hl-23-84> 84</a>
</span><span class=lnt id=hl-23-85><a class=lnlinks href=#hl-23-85> 85</a>
</span><span class=lnt id=hl-23-86><a class=lnlinks href=#hl-23-86> 86</a>
</span><span class=lnt id=hl-23-87><a class=lnlinks href=#hl-23-87> 87</a>
</span><span class=lnt id=hl-23-88><a class=lnlinks href=#hl-23-88> 88</a>
</span><span class=lnt id=hl-23-89><a class=lnlinks href=#hl-23-89> 89</a>
</span><span class=lnt id=hl-23-90><a class=lnlinks href=#hl-23-90> 90</a>
</span><span class=lnt id=hl-23-91><a class=lnlinks href=#hl-23-91> 91</a>
</span><span class=lnt id=hl-23-92><a class=lnlinks href=#hl-23-92> 92</a>
</span><span class=lnt id=hl-23-93><a class=lnlinks href=#hl-23-93> 93</a>
</span><span class=lnt id=hl-23-94><a class=lnlinks href=#hl-23-94> 94</a>
</span><span class=lnt id=hl-23-95><a class=lnlinks href=#hl-23-95> 95</a>
</span><span class=lnt id=hl-23-96><a class=lnlinks href=#hl-23-96> 96</a>
</span><span class=lnt id=hl-23-97><a class=lnlinks href=#hl-23-97> 97</a>
</span><span class=lnt id=hl-23-98><a class=lnlinks href=#hl-23-98> 98</a>
</span><span class=lnt id=hl-23-99><a class=lnlinks href=#hl-23-99> 99</a>
</span><span class=lnt id=hl-23-100><a class=lnlinks href=#hl-23-100>100</a>
</span><span class=lnt id=hl-23-101><a class=lnlinks href=#hl-23-101>101</a>
</span><span class=lnt id=hl-23-102><a class=lnlinks href=#hl-23-102>102</a>
</span><span class=lnt id=hl-23-103><a class=lnlinks href=#hl-23-103>103</a>
</span><span class=lnt id=hl-23-104><a class=lnlinks href=#hl-23-104>104</a>
</span><span class=lnt id=hl-23-105><a class=lnlinks href=#hl-23-105>105</a>
</span><span class=lnt id=hl-23-106><a class=lnlinks href=#hl-23-106>106</a>
</span><span class=lnt id=hl-23-107><a class=lnlinks href=#hl-23-107>107</a>
</span><span class=lnt id=hl-23-108><a class=lnlinks href=#hl-23-108>108</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>scapy.all</span> <span class=kn>import</span> <span class=o>*</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>threading</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>collections</span> <span class=kn>import</span> <span class=n>defaultdict</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>RealTimeOSIAnalyzer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;실시간 네트워크 트래픽을 OSI 관점에서 분석&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>interface</span><span class=o>=</span><span class=s2>&#34;eth0&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>interface</span> <span class=o>=</span> <span class=n>interface</span>  <span class=c1># 네트워크 인터페이스 지정</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>packet_count</span> <span class=o>=</span> <span class=mi>0</span>       <span class=c1># 총 패킷 수 카운터</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>layer_stats</span> <span class=o>=</span> <span class=n>defaultdict</span><span class=p>(</span><span class=nb>int</span><span class=p>)</span>  <span class=c1># 계층별 패킷 통계</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>running</span> <span class=o>=</span> <span class=kc>False</span>        <span class=c1># 분석 실행 상태</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>packet_handler</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>packet</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;각 패킷을 처리하는 핸들러 함수&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>packet_count</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># 계층별 프로토콜 카운팅</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>packet</span><span class=o>.</span><span class=n>haslayer</span><span class=p>(</span><span class=n>Ether</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>layer_stats</span><span class=p>[</span><span class=s1>&#39;Layer2_Ethernet&#39;</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>packet</span><span class=o>.</span><span class=n>haslayer</span><span class=p>(</span><span class=n>IP</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>layer_stats</span><span class=p>[</span><span class=s1>&#39;Layer3_IP&#39;</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>packet</span><span class=o>.</span><span class=n>haslayer</span><span class=p>(</span><span class=n>TCP</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>layer_stats</span><span class=p>[</span><span class=s1>&#39;Layer4_TCP&#39;</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=n>packet</span><span class=o>.</span><span class=n>haslayer</span><span class=p>(</span><span class=n>UDP</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>layer_stats</span><span class=p>[</span><span class=s1>&#39;Layer4_UDP&#39;</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># 응용 계층 프로토콜 추정 (포트 기반)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>packet</span><span class=o>.</span><span class=n>haslayer</span><span class=p>(</span><span class=n>TCP</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>dport</span> <span class=o>=</span> <span class=n>packet</span><span class=p>[</span><span class=n>TCP</span><span class=p>]</span><span class=o>.</span><span class=n>dport</span>
</span></span><span class=line><span class=cl>            <span class=n>sport</span> <span class=o>=</span> <span class=n>packet</span><span class=p>[</span><span class=n>TCP</span><span class=p>]</span><span class=o>.</span><span class=n>sport</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>dport</span> <span class=o>==</span> <span class=mi>80</span> <span class=ow>or</span> <span class=n>sport</span> <span class=o>==</span> <span class=mi>80</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>layer_stats</span><span class=p>[</span><span class=s1>&#39;Layer7_HTTP&#39;</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>elif</span> <span class=n>dport</span> <span class=o>==</span> <span class=mi>443</span> <span class=ow>or</span> <span class=n>sport</span> <span class=o>==</span> <span class=mi>443</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>layer_stats</span><span class=p>[</span><span class=s1>&#39;Layer7_HTTPS&#39;</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>elif</span> <span class=n>dport</span> <span class=o>==</span> <span class=mi>22</span> <span class=ow>or</span> <span class=n>sport</span> <span class=o>==</span> <span class=mi>22</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>layer_stats</span><span class=p>[</span><span class=s1>&#39;Layer7_SSH&#39;</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>elif</span> <span class=n>dport</span> <span class=o>==</span> <span class=mi>25</span> <span class=ow>or</span> <span class=n>sport</span> <span class=o>==</span> <span class=mi>25</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>layer_stats</span><span class=p>[</span><span class=s1>&#39;Layer7_SMTP&#39;</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>packet</span><span class=o>.</span><span class=n>haslayer</span><span class=p>(</span><span class=n>UDP</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>dport</span> <span class=o>=</span> <span class=n>packet</span><span class=p>[</span><span class=n>UDP</span><span class=p>]</span><span class=o>.</span><span class=n>dport</span>
</span></span><span class=line><span class=cl>            <span class=n>sport</span> <span class=o>=</span> <span class=n>packet</span><span class=p>[</span><span class=n>UDP</span><span class=p>]</span><span class=o>.</span><span class=n>sport</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>dport</span> <span class=o>==</span> <span class=mi>53</span> <span class=ow>or</span> <span class=n>sport</span> <span class=o>==</span> <span class=mi>53</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>layer_stats</span><span class=p>[</span><span class=s1>&#39;Layer7_DNS&#39;</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>elif</span> <span class=n>dport</span> <span class=o>==</span> <span class=mi>67</span> <span class=ow>or</span> <span class=n>sport</span> <span class=o>==</span> <span class=mi>67</span> <span class=ow>or</span> <span class=n>dport</span> <span class=o>==</span> <span class=mi>68</span> <span class=ow>or</span> <span class=n>sport</span> <span class=o>==</span> <span class=mi>68</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>layer_stats</span><span class=p>[</span><span class=s1>&#39;Layer7_DHCP&#39;</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>start_analysis</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>duration</span><span class=o>=</span><span class=mi>30</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;지정된 시간 동안 실시간 분석 시작&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;OSI 계층별 실시간 트래픽 분석 시작 (</span><span class=si>{</span><span class=n>duration</span><span class=si>}</span><span class=s2>초)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;네트워크 인터페이스: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>interface</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;-&#34;</span> <span class=o>*</span> <span class=mi>50</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>running</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># 통계 출력 스레드 시작</span>
</span></span><span class=line><span class=cl>        <span class=n>stats_thread</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>print_stats_periodically</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>stats_thread</span><span class=o>.</span><span class=n>daemon</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=n>stats_thread</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># 패킷 캡처 시작 (지정된 시간 동안)</span>
</span></span><span class=line><span class=cl>        <span class=n>sniff</span><span class=p>(</span><span class=n>iface</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>interface</span><span class=p>,</span> <span class=n>prn</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>packet_handler</span><span class=p>,</span> <span class=n>timeout</span><span class=o>=</span><span class=n>duration</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>running</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>분석 완료!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>print_final_stats</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>print_stats_periodically</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;주기적으로 통계 출력 (5초마다)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=bp>self</span><span class=o>.</span><span class=n>running</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>running</span><span class=p>:</span>  <span class=c1># 다시 한번 확인</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>print_current_stats</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>print_current_stats</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;현재 통계 출력&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>[현재 시점] 총 패킷: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>packet_count</span><span class=si>}</span><span class=s2>개&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># OSI 계층별 통계 출력</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>layer</span> <span class=ow>in</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>7</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>            <span class=n>layer_name</span> <span class=o>=</span> <span class=p>{</span><span class=mi>2</span><span class=p>:</span> <span class=s2>&#34;데이터 링크&#34;</span><span class=p>,</span> <span class=mi>3</span><span class=p>:</span> <span class=s2>&#34;네트워크&#34;</span><span class=p>,</span> <span class=mi>4</span><span class=p>:</span> <span class=s2>&#34;전송&#34;</span><span class=p>,</span> <span class=mi>7</span><span class=p>:</span> <span class=s2>&#34;응용&#34;</span><span class=p>}[</span><span class=n>layer</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>layer</span><span class=si>}</span><span class=s2>계층 (</span><span class=si>{</span><span class=n>layer_name</span><span class=si>}</span><span class=s2>):&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=n>layer_protocols</span> <span class=o>=</span> <span class=p>[</span><span class=n>k</span> <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>layer_stats</span><span class=o>.</span><span class=n>keys</span><span class=p>()</span> <span class=k>if</span> <span class=n>k</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Layer</span><span class=si>{</span><span class=n>layer</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>protocol</span> <span class=ow>in</span> <span class=n>layer_protocols</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>count</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>layer_stats</span><span class=p>[</span><span class=n>protocol</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                <span class=n>percentage</span> <span class=o>=</span> <span class=p>(</span><span class=n>count</span> <span class=o>/</span> <span class=bp>self</span><span class=o>.</span><span class=n>packet_count</span> <span class=o>*</span> <span class=mi>100</span><span class=p>)</span> <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>packet_count</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=k>else</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>                <span class=n>protocol_name</span> <span class=o>=</span> <span class=n>protocol</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;_&#39;</span><span class=p>)[</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;  </span><span class=si>{</span><span class=n>protocol_name</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>count</span><span class=si>}</span><span class=s2>개 (</span><span class=si>{</span><span class=n>percentage</span><span class=si>:</span><span class=s2>f</span><span class=si>}</span><span class=s2>%)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>print_final_stats</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;최종 분석 결과 출력&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span> <span class=o>+</span> <span class=s2>&#34;=&#34;</span> <span class=o>*</span> <span class=mi>50</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;최종 OSI 계층별 트래픽 분석 결과&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;=&#34;</span> <span class=o>*</span> <span class=mi>50</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>print_current_stats</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 실행 예시</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># 주의: 실제 네트워크 인터페이스명으로 변경 필요</span>
</span></span><span class=line><span class=cl>    <span class=n>analyzer</span> <span class=o>=</span> <span class=n>RealTimeOSIAnalyzer</span><span class=p>(</span><span class=n>interface</span><span class=o>=</span><span class=s2>&#34;eth0&#34;</span><span class=p>)</span>  <span class=c1># Linux: eth0, Windows: 인터페이스명 확인 필요</span>
</span></span><span class=line><span class=cl>    <span class=n>analyzer</span><span class=o>.</span><span class=n>start_analysis</span><span class=p>(</span><span class=n>duration</span><span class=o>=</span><span class=mi>30</span><span class=p>)</span>  <span class=c1># 30초 동안 분석</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h6 id=실행-결과>실행 결과<a hidden class=anchor aria-hidden=true href=#실행-결과>#</a></h6><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1> 1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2> 2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3> 3</a>
</span><span class=lnt id=hl-24-4><a class=lnlinks href=#hl-24-4> 4</a>
</span><span class=lnt id=hl-24-5><a class=lnlinks href=#hl-24-5> 5</a>
</span><span class=lnt id=hl-24-6><a class=lnlinks href=#hl-24-6> 6</a>
</span><span class=lnt id=hl-24-7><a class=lnlinks href=#hl-24-7> 7</a>
</span><span class=lnt id=hl-24-8><a class=lnlinks href=#hl-24-8> 8</a>
</span><span class=lnt id=hl-24-9><a class=lnlinks href=#hl-24-9> 9</a>
</span><span class=lnt id=hl-24-10><a class=lnlinks href=#hl-24-10>10</a>
</span><span class=lnt id=hl-24-11><a class=lnlinks href=#hl-24-11>11</a>
</span><span class=lnt id=hl-24-12><a class=lnlinks href=#hl-24-12>12</a>
</span><span class=lnt id=hl-24-13><a class=lnlinks href=#hl-24-13>13</a>
</span><span class=lnt id=hl-24-14><a class=lnlinks href=#hl-24-14>14</a>
</span><span class=lnt id=hl-24-15><a class=lnlinks href=#hl-24-15>15</a>
</span><span class=lnt id=hl-24-16><a class=lnlinks href=#hl-24-16>16</a>
</span><span class=lnt id=hl-24-17><a class=lnlinks href=#hl-24-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>OSI 계층별 실시간 트래픽 분석 시작 (30초)
</span></span><span class=line><span class=cl>네트워크 인터페이스: eth0
</span></span><span class=line><span class=cl>--------------------------------------------------
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[현재 시점] 총 패킷: 245개
</span></span><span class=line><span class=cl>2계층 (데이터 링크):
</span></span><span class=line><span class=cl>  Ethernet: 245개 (100.0%)
</span></span><span class=line><span class=cl>3계층 (네트워크):
</span></span><span class=line><span class=cl>  IP: 240개 (98.0%)
</span></span><span class=line><span class=cl>4계층 (전송):
</span></span><span class=line><span class=cl>  TCP: 180개 (73.5%)
</span></span><span class=line><span class=cl>  UDP: 60개 (24.5%)
</span></span><span class=line><span class=cl>7계층 (응용):
</span></span><span class=line><span class=cl>  HTTP: 45개 (18.4%)
</span></span><span class=line><span class=cl>  HTTPS: 89개 (36.3%)
</span></span><span class=line><span class=cl>  DNS: 35개 (14.3%)
</span></span><span class=line><span class=cl>  SSH: 15개 (6.1%)
</span></span></code></pre></td></tr></table></div></div><h6 id=추가-실험>추가 실험<a hidden class=anchor aria-hidden=true href=#추가-실험>#</a></h6><ul><li>다양한 응용 프로토콜 패킷 생성 및 분석</li><li>계층별 성능 측정 및 오버헤드 분석</li><li>실제 네트워크 환경에서의 프로토콜 분포 조사</li></ul><h5 id=실습-예제--캡슐화-이해를-위한-미니-패킷-빌더->실습 예제: " 캡슐화 이해를 위한 미니 패킷 빌더 "<a hidden class=anchor aria-hidden=true href=#실습-예제--캡슐화-이해를-위한-미니-패킷-빌더->#</a></h5><h6 id=목적-1>목적<a hidden class=anchor aria-hidden=true href=#목적-1>#</a></h6><ul><li>L7 데이터가 L4/L3/L2 를 거치며 헤더가 추가되는 과정을 코드로 체득.</li></ul><h6 id=사전-요구사항-1>사전 요구사항<a hidden class=anchor aria-hidden=true href=#사전-요구사항-1>#</a></h6><ul><li>Python 3.10+, 로컬 실행 권장.</li></ul><h6 id=단계별-구현-1>단계별 구현<a hidden class=anchor aria-hidden=true href=#단계별-구현-1>#</a></h6><ol><li><p><strong>1 단계: 데이터 구조 정의 및 직렬화</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1> 1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2> 2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3> 3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4> 4</a>
</span><span class=lnt id=hl-25-5><a class=lnlinks href=#hl-25-5> 5</a>
</span><span class=lnt id=hl-25-6><a class=lnlinks href=#hl-25-6> 6</a>
</span><span class=lnt id=hl-25-7><a class=lnlinks href=#hl-25-7> 7</a>
</span><span class=lnt id=hl-25-8><a class=lnlinks href=#hl-25-8> 8</a>
</span><span class=lnt id=hl-25-9><a class=lnlinks href=#hl-25-9> 9</a>
</span><span class=lnt id=hl-25-10><a class=lnlinks href=#hl-25-10>10</a>
</span><span class=lnt id=hl-25-11><a class=lnlinks href=#hl-25-11>11</a>
</span><span class=lnt id=hl-25-12><a class=lnlinks href=#hl-25-12>12</a>
</span><span class=lnt id=hl-25-13><a class=lnlinks href=#hl-25-13>13</a>
</span><span class=lnt id=hl-25-14><a class=lnlinks href=#hl-25-14>14</a>
</span><span class=lnt id=hl-25-15><a class=lnlinks href=#hl-25-15>15</a>
</span><span class=lnt id=hl-25-16><a class=lnlinks href=#hl-25-16>16</a>
</span><span class=lnt id=hl-25-17><a class=lnlinks href=#hl-25-17>17</a>
</span><span class=lnt id=hl-25-18><a class=lnlinks href=#hl-25-18>18</a>
</span><span class=lnt id=hl-25-19><a class=lnlinks href=#hl-25-19>19</a>
</span><span class=lnt id=hl-25-20><a class=lnlinks href=#hl-25-20>20</a>
</span><span class=lnt id=hl-25-21><a class=lnlinks href=#hl-25-21>21</a>
</span><span class=lnt id=hl-25-22><a class=lnlinks href=#hl-25-22>22</a>
</span><span class=lnt id=hl-25-23><a class=lnlinks href=#hl-25-23>23</a>
</span><span class=lnt id=hl-25-24><a class=lnlinks href=#hl-25-24>24</a>
</span><span class=lnt id=hl-25-25><a class=lnlinks href=#hl-25-25>25</a>
</span><span class=lnt id=hl-25-26><a class=lnlinks href=#hl-25-26>26</a>
</span><span class=lnt id=hl-25-27><a class=lnlinks href=#hl-25-27>27</a>
</span><span class=lnt id=hl-25-28><a class=lnlinks href=#hl-25-28>28</a>
</span><span class=lnt id=hl-25-29><a class=lnlinks href=#hl-25-29>29</a>
</span><span class=lnt id=hl-25-30><a class=lnlinks href=#hl-25-30>30</a>
</span><span class=lnt id=hl-25-31><a class=lnlinks href=#hl-25-31>31</a>
</span><span class=lnt id=hl-25-32><a class=lnlinks href=#hl-25-32>32</a>
</span><span class=lnt id=hl-25-33><a class=lnlinks href=#hl-25-33>33</a>
</span><span class=lnt id=hl-25-34><a class=lnlinks href=#hl-25-34>34</a>
</span><span class=lnt id=hl-25-35><a class=lnlinks href=#hl-25-35>35</a>
</span><span class=lnt id=hl-25-36><a class=lnlinks href=#hl-25-36>36</a>
</span><span class=lnt id=hl-25-37><a class=lnlinks href=#hl-25-37>37</a>
</span><span class=lnt id=hl-25-38><a class=lnlinks href=#hl-25-38>38</a>
</span><span class=lnt id=hl-25-39><a class=lnlinks href=#hl-25-39>39</a>
</span><span class=lnt id=hl-25-40><a class=lnlinks href=#hl-25-40>40</a>
</span><span class=lnt id=hl-25-41><a class=lnlinks href=#hl-25-41>41</a>
</span><span class=lnt id=hl-25-42><a class=lnlinks href=#hl-25-42>42</a>
</span><span class=lnt id=hl-25-43><a class=lnlinks href=#hl-25-43>43</a>
</span><span class=lnt id=hl-25-44><a class=lnlinks href=#hl-25-44>44</a>
</span><span class=lnt id=hl-25-45><a class=lnlinks href=#hl-25-45>45</a>
</span><span class=lnt id=hl-25-46><a class=lnlinks href=#hl-25-46>46</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># OSI 캡슐화를 단순화해 직렬화하는 예제</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>dataclasses</span> <span class=kn>import</span> <span class=n>dataclass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@dataclass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>L7Data</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>payload</span><span class=p>:</span> <span class=nb>bytes</span>  <span class=c1># 응용 계층 데이터</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@dataclass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>L4Segment</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>src_port</span><span class=p>:</span> <span class=nb>int</span>
</span></span><span class=line><span class=cl>    <span class=n>dst_port</span><span class=p>:</span> <span class=nb>int</span>
</span></span><span class=line><span class=cl>    <span class=n>data</span><span class=p>:</span> <span class=nb>bytes</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>serialize</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bytes</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 단순 예시: 포트 2바이트씩 + 데이터</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>src_port</span><span class=o>.</span><span class=n>to_bytes</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=s1>&#39;big&#39;</span><span class=p>)</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>dst_port</span><span class=o>.</span><span class=n>to_bytes</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=s1>&#39;big&#39;</span><span class=p>)</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@dataclass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>L3Packet</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>src_ip</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>dst_ip</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>l4_bytes</span><span class=p>:</span> <span class=nb>bytes</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>serialize</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bytes</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 단순 예시: IP는 점표기 문자열 길이와 내용만 포함</span>
</span></span><span class=line><span class=cl>        <span class=n>sip</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>src_ip</span><span class=o>.</span><span class=n>encode</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>dip</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>dst_ip</span><span class=o>.</span><span class=n>encode</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=n>sip</span><span class=p>)</span><span class=o>.</span><span class=n>to_bytes</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=s1>&#39;big&#39;</span><span class=p>)</span> <span class=o>+</span> <span class=n>sip</span> <span class=o>+</span> <span class=nb>len</span><span class=p>(</span><span class=n>dip</span><span class=p>)</span><span class=o>.</span><span class=n>to_bytes</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=s1>&#39;big&#39;</span><span class=p>)</span> <span class=o>+</span> <span class=n>dip</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>l4_bytes</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@dataclass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>L2Frame</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>src_mac</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>dst_mac</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>l3_bytes</span><span class=p>:</span> <span class=nb>bytes</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>serialize</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bytes</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>sm</span> <span class=o>=</span> <span class=nb>bytes</span><span class=o>.</span><span class=n>fromhex</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>src_mac</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;:&#39;</span><span class=p>,</span><span class=s1>&#39;&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=n>dm</span> <span class=o>=</span> <span class=nb>bytes</span><span class=o>.</span><span class=n>fromhex</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>dst_mac</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;:&#39;</span><span class=p>,</span><span class=s1>&#39;&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=n>ethertype</span> <span class=o>=</span> <span class=sa>b</span><span class=s2>&#34;</span><span class=se>\x08\x00</span><span class=s2>&#34;</span>  <span class=c1># IPv4 (예시)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>dm</span> <span class=o>+</span> <span class=n>sm</span> <span class=o>+</span> <span class=n>ethertype</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>l3_bytes</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 실행</span>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>L7Data</span><span class=p>(</span><span class=n>payload</span><span class=o>=</span><span class=sa>b</span><span class=s2>&#34;GET / HTTP/1.1</span><span class=se>\r\n</span><span class=s2>Host: example.com</span><span class=se>\r\n\r\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>l4</span> <span class=o>=</span> <span class=n>L4Segment</span><span class=p>(</span><span class=n>src_port</span><span class=o>=</span><span class=mi>51514</span><span class=p>,</span> <span class=n>dst_port</span><span class=o>=</span><span class=mi>80</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>app</span><span class=o>.</span><span class=n>payload</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>l3</span> <span class=o>=</span> <span class=n>L3Packet</span><span class=p>(</span><span class=n>src_ip</span><span class=o>=</span><span class=s2>&#34;192.0.2.10&#34;</span><span class=p>,</span> <span class=n>dst_ip</span><span class=o>=</span><span class=s2>&#34;93.184.216.34&#34;</span><span class=p>,</span> <span class=n>l4_bytes</span><span class=o>=</span><span class=n>l4</span><span class=o>.</span><span class=n>serialize</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=n>l2</span> <span class=o>=</span> <span class=n>L2Frame</span><span class=p>(</span><span class=n>src_mac</span><span class=o>=</span><span class=s2>&#34;aa:bb:cc:dd:ee:ff&#34;</span><span class=p>,</span> <span class=n>dst_mac</span><span class=o>=</span><span class=s2>&#34;00:11:22:33:44:55&#34;</span><span class=p>,</span> <span class=n>l3_bytes</span><span class=o>=</span><span class=n>l3</span><span class=o>.</span><span class=n>serialize</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=n>raw</span> <span class=o>=</span> <span class=n>l2</span><span class=o>.</span><span class=n>serialize</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Raw bytes length: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>raw</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>raw</span><span class=p>[:</span><span class=mi>32</span><span class=p>])</span>  <span class=c1># 앞부분 덤프</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>2 단계: MTU/MSS 효과 관찰 (간단 시뮬레이션)</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1> 1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2> 2</a>
</span><span class=lnt id=hl-26-3><a class=lnlinks href=#hl-26-3> 3</a>
</span><span class=lnt id=hl-26-4><a class=lnlinks href=#hl-26-4> 4</a>
</span><span class=lnt id=hl-26-5><a class=lnlinks href=#hl-26-5> 5</a>
</span><span class=lnt id=hl-26-6><a class=lnlinks href=#hl-26-6> 6</a>
</span><span class=lnt id=hl-26-7><a class=lnlinks href=#hl-26-7> 7</a>
</span><span class=lnt id=hl-26-8><a class=lnlinks href=#hl-26-8> 8</a>
</span><span class=lnt id=hl-26-9><a class=lnlinks href=#hl-26-9> 9</a>
</span><span class=lnt id=hl-26-10><a class=lnlinks href=#hl-26-10>10</a>
</span><span class=lnt id=hl-26-11><a class=lnlinks href=#hl-26-11>11</a>
</span><span class=lnt id=hl-26-12><a class=lnlinks href=#hl-26-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># MTU와 MSS 개념을 단순 계산으로 체감</span>
</span></span><span class=line><span class=cl><span class=n>ETHERNET_MTU</span> <span class=o>=</span> <span class=mi>1500</span>
</span></span><span class=line><span class=cl><span class=n>ETHERNET_HEADER</span> <span class=o>=</span> <span class=mi>14</span>
</span></span><span class=line><span class=cl><span class=n>IP_HEADER</span> <span class=o>=</span> <span class=mi>20</span>   <span class=c1># 고정 가정</span>
</span></span><span class=line><span class=cl><span class=n>TCP_HEADER</span> <span class=o>=</span> <span class=mi>20</span>  <span class=c1># 고정 가정</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>MSS</span> <span class=o>=</span> <span class=n>ETHERNET_MTU</span> <span class=o>-</span> <span class=n>ETHERNET_HEADER</span> <span class=o>-</span> <span class=n>IP_HEADER</span> <span class=o>-</span> <span class=n>TCP_HEADER</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;MSS(가용 L7 페이로드 크기):&#34;</span><span class=p>,</span> <span class=n>MSS</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>payload_size</span> <span class=o>=</span> <span class=mi>5000</span>
</span></span><span class=line><span class=cl><span class=n>segments</span> <span class=o>=</span> <span class=p>(</span><span class=n>payload_size</span> <span class=o>+</span> <span class=n>MSS</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span> <span class=o>//</span> <span class=n>MSS</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;필요 TCP 세그먼트 수:&#34;</span><span class=p>,</span> <span class=n>segments</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h6 id=실행-결과-예상>실행 결과 (예상)<a hidden class=anchor aria-hidden=true href=#실행-결과-예상>#</a></h6><ul><li>직렬화 바이트 길이와 헤더 오버헤드 체감.</li><li>MSS 계산으로 세그먼트 수 추정.</li></ul><h6 id=추가-실험-1>추가 실험<a hidden class=anchor aria-hidden=true href=#추가-실험-1>#</a></h6><ul><li>UDP 로 변경 시 헤더 크기 변화 비교.</li><li>QUIC(UDP 기반) 전송 시 상위 계층 재전송/플로우 제어가 어떻게 이동하는지 개념 비교.</li></ul><h5 id=실습-예제-osi-7-계층별-네트워크-진단>실습 예제: OSI 7 계층별 네트워크 진단<a hidden class=anchor aria-hidden=true href=#실습-예제-osi-7-계층별-네트워크-진단>#</a></h5><h6 id=목적-2>목적<a hidden class=anchor aria-hidden=true href=#목적-2>#</a></h6><ul><li>각 계층별로 네트워크가 정상적으로 동작하는지 단계적으로 진단하는 방법을 습득한다.[3]</li></ul><h6 id=사전-요구사항-2>사전 요구사항<a hidden class=anchor aria-hidden=true href=#사전-요구사항-2>#</a></h6><ul><li>리눅스 환경, 네트워크 연결, 기본 명령어 (curl, dig, ssh, openssl 등 설치).[1]</li></ul><h6 id=단계별-구현-2>단계별 구현<a hidden class=anchor aria-hidden=true href=#단계별-구현-2>#</a></h6><ol><li><p>1 단계: 응용 계층 테스트 (Application Layer)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1>1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2>2</a>
</span><span class=lnt id=hl-27-3><a class=lnlinks href=#hl-27-3>3</a>
</span><span class=lnt id=hl-27-4><a class=lnlinks href=#hl-27-4>4</a>
</span><span class=lnt id=hl-27-5><a class=lnlinks href=#hl-27-5>5</a>
</span><span class=lnt id=hl-27-6><a class=lnlinks href=#hl-27-6>6</a>
</span><span class=lnt id=hl-27-7><a class=lnlinks href=#hl-27-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># HTTP 요청(응용 계층 테스트)</span>
</span></span><span class=line><span class=cl>curl -I https://example.com
</span></span><span class=line><span class=cl><span class=c1># DNS 조회(응용/표현 계층 겸용)</span>
</span></span><span class=line><span class=cl>dig google.com
</span></span><span class=line><span class=cl><span class=c1># FTP, SSH 정상동작 확인</span>
</span></span><span class=line><span class=cl>ftp 192.168.1.1
</span></span><span class=line><span class=cl>ssh user@192.168.1.1
</span></span></code></pre></td></tr></table></div></div></li><li><p>2 단계: 표현/세션/전송 계층 테스트</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-28-1><a class=lnlinks href=#hl-28-1>1</a>
</span><span class=lnt id=hl-28-2><a class=lnlinks href=#hl-28-2>2</a>
</span><span class=lnt id=hl-28-3><a class=lnlinks href=#hl-28-3>3</a>
</span><span class=lnt id=hl-28-4><a class=lnlinks href=#hl-28-4>4</a>
</span><span class=lnt id=hl-28-5><a class=lnlinks href=#hl-28-5>5</a>
</span><span class=lnt id=hl-28-6><a class=lnlinks href=#hl-28-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># SSL/TLS 연결 확인(표현 계층)</span>
</span></span><span class=line><span class=cl>openssl s_client -connect google.com:443
</span></span><span class=line><span class=cl><span class=c1># 세션 계층(RPC)</span>
</span></span><span class=line><span class=cl>rpcinfo -p
</span></span><span class=line><span class=cl><span class=c1># 전송 계층: 지정 포트 테스트</span>
</span></span><span class=line><span class=cl>nc -zv example.com <span class=m>443</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>3 단계: 네트워크/데이터링크/물리 계층</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-29-1><a class=lnlinks href=#hl-29-1>1</a>
</span><span class=lnt id=hl-29-2><a class=lnlinks href=#hl-29-2>2</a>
</span><span class=lnt id=hl-29-3><a class=lnlinks href=#hl-29-3>3</a>
</span><span class=lnt id=hl-29-4><a class=lnlinks href=#hl-29-4>4</a>
</span><span class=lnt id=hl-29-5><a class=lnlinks href=#hl-29-5>5</a>
</span><span class=lnt id=hl-29-6><a class=lnlinks href=#hl-29-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 네트워크 계층: ping</span>
</span></span><span class=line><span class=cl>ping 8.8.8.8
</span></span><span class=line><span class=cl><span class=c1># 데이터링크 계층: ARP 테이블 확인</span>
</span></span><span class=line><span class=cl>arp -a
</span></span><span class=line><span class=cl><span class=c1># 물리 계층: NIC 상태 확인</span>
</span></span><span class=line><span class=cl>ethtool eth0
</span></span></code></pre></td></tr></table></div></div></li></ol><h6 id=실행-결과-1>실행 결과<a hidden class=anchor aria-hidden=true href=#실행-결과-1>#</a></h6><ul><li>각 명령어가 정상 동작하면 해당 계층에는 장애가 없음을 의미한다. 실패 시 그 계층 또는 아래 계층을 진단.</li></ul><h6 id=추가-실험-2>추가 실험<a hidden class=anchor aria-hidden=true href=#추가-실험-2>#</a></h6><ul><li>실제 장애 상황별로 각 명령어 테스트, 네트워크 스니핑 도구 (Wireshark) 추가 실습</li></ul><h4 id=통합-및-연계-기술>통합 및 연계 기술<a hidden class=anchor aria-hidden=true href=#통합-및-연계-기술>#</a></h4><p>서로 다른 계층과 시스템 (예: CDN, TLS, DNS, SDN, 서비스 메시, 클라우드) 을 연결해 단일 솔루션보다 더 높은 성능·가용성·보안을 얻어내는 접근법이다.<br>핵심은 **각 기술이 잘 하는 역할 (엣지 캐싱, 암호화, 중앙정책, 관측 등)**을 조합하고, 계층 간 책임을 명확히 하며 운영 자동화로 실시간 대응을 확보하는 것이다.</p><h5 id=글로벌-라우팅엣지>글로벌 라우팅·엣지<a hidden class=anchor aria-hidden=true href=#글로벌-라우팅엣지>#</a></h5><table><thead><tr><th>통합 요소</th><th>무엇 (구성요소)</th><th>어떻게 통합 (구현 패턴)</th><th>얻는 가치</th><th>주의점</th></tr></thead><tbody><tr><td>CDN + GSLB</td><td>엣지 캐시, DNS 정책 엔진</td><td>GSLB 로 지역 라우팅→엣지 캐시 제공</td><td>지연 감소·원본 부하 축소</td><td>캐시 일관성, 캐시 프리패칭 필요</td></tr><tr><td>Anycast + DDoS</td><td>BGP Anycast, 라우터</td><td>동일 IP 를 여러 PoP 에 발표</td><td>근접 라우팅·공격 분산</td><td>세션/캐시 일관성 문제</td></tr><tr><td>엣지 보안</td><td>WAF, RateLimit</td><td>엣지에서 악성 트래픽 차단</td><td>공격 완화, 운영 안정성</td><td>오탐/정책 관리 비용</td></tr></tbody></table><ul><li>엣지는 응답 지연과 원본 부하를 크게 낮추고 DDoS 완화에 유리하다.</li><li>Anycast 나 엣지 캐시는 세션/캐시 일관성·정책 관리에서 주의가 필요하다.</li></ul><h5 id=보안암호화>보안·암호화<a hidden class=anchor aria-hidden=true href=#보안암호화>#</a></h5><table><thead><tr><th>통합 요소</th><th>무엇</th><th>어떻게</th><th>얻는 가치</th><th>주의점</th></tr></thead><tbody><tr><td>TLS1.3 + ALPN + HTTP/2/3</td><td>TLS1.3, ALPN, HTTP/2/3</td><td>ALPN 로 프로토콜 협상, 0-RTT 정책</td><td>보안 + 빠른 연결</td><td>0-RTT 재생 공격 가능성</td></tr><tr><td>DNSSEC + DoH/DoT</td><td>DNSSEC, DoH/DoT 프록시</td><td>DoH 로 암호화, DNSSEC 로 서명검증</td><td>무결성 + 프라이버시</td><td>증분 배포·성능 영향</td></tr><tr><td>IAM(OAuth2/OIDC)</td><td>Auth server, JWT</td><td>Gateway 에서 토큰 검증</td><td>중앙 인증·권한 관리</td><td>토큰 관리·만료·리프레시 보안</td></tr></tbody></table><ul><li>TLS+HTTP/2/3 조합은 성능과 보안을 모두 개선한다.</li><li>DoH/DNSSEC 은 DNS 보안과 프라이버시를 보장하지만 운영 복잡도가 증가한다.</li><li>0-RTT 등 고급 기능은 보안 트레이드오프를 고려해 정책화해야 한다.</li></ul><h5 id=네트워크-제어-정책성능>네트워크 제어 (정책/성능)<a hidden class=anchor aria-hidden=true href=#네트워크-제어-정책성능>#</a></h5><table><thead><tr><th>통합 요소</th><th>무엇</th><th>어떻게</th><th>얻는 가치</th><th>주의점</th></tr></thead><tbody><tr><td>SDN + QoS</td><td>OpenFlow 컨트롤러 + 스위치</td><td>중앙 정책 → 플로우 테이블 적용</td><td>실시간 정책·우선순위</td><td>컨트롤러 장애 대비 설계 필요</td></tr><tr><td>eBPF / Cilium</td><td>eBPF 프로그램, CNI</td><td>커널에 정책 삽입 (엔드포인트)</td><td>L4/L7 고성능 정책</td><td>커널 변화 리스크</td></tr><tr><td>AQM + ECN</td><td>fq_codel, CoDel, ECN</td><td>호스트/라우터 큐 정책</td><td>꼬리 지연 감소</td><td>하드웨어/OS 지원 필요</td></tr></tbody></table><ul><li>SDN/eBPF 계열은 중앙·커널 수준에서 정밀 제어를 가능하게 하며 지연·혼잡 제어에 강하다.</li><li>단 컨트롤러·커널 수준 변화는 고가용성·검증이 필수다.</li></ul><h5 id=애플리케이션-계층-연계>애플리케이션 계층 연계<a hidden class=anchor aria-hidden=true href=#애플리케이션-계층-연계>#</a></h5><table><thead><tr><th>통합 요소</th><th>무엇</th><th>어떻게</th><th>얻는 가치</th><th>주의점</th></tr></thead><tbody><tr><td>Service Mesh</td><td>Envoy + Istio</td><td>사이드카로 트래픽 제어·관측</td><td>트래픽 정책·관측성</td><td>레이턴시·리소스 오버헤드</td></tr><tr><td>API Gateway</td><td>인증·RateLimit·라우팅</td><td>게이트웨이 단에서 중앙 제어</td><td>일관된 보안·정책 집행</td><td>단일 장애점 주의</td></tr><tr><td>gRPC + HTTP/3</td><td>gRPC, HTTP/3</td><td>프로토콜 선택으로 성능 최적화</td><td>높은 처리량·저지연</td><td>플랫폼 호환성 확인</td></tr></tbody></table><ul><li>서비스 메시와 게이트웨이는 애플리케이션 변경 없이 트래픽/보안 정책을 일관되게 적용하게 해 준다.</li><li>다만 성능/운영 비용을 반드시 계측해야 한다.</li></ul><h5 id=운영관측자동화>운영·관측·자동화<a hidden class=anchor aria-hidden=true href=#운영관측자동화>#</a></h5><table><thead><tr><th>통합 요소</th><th>무엇</th><th>어떻게</th><th>얻는 가치</th><th>주의점</th></tr></thead><tbody><tr><td>Observability</td><td>Prometheus/Grafana/Jaeger</td><td>메트릭·로그·트레이스 통합 수집</td><td>빠른 원인 분석</td><td>데이터 볼륨·보존 비용</td></tr><tr><td>SLO / Error Budget</td><td>SLO, Alerting</td><td>에러 예산 기반 자동 정책</td><td>운영 우선순위 자동화</td><td>정확한 SLO 설정 필요</td></tr><tr><td>AIOps</td><td>ML 기반 이상탐지</td><td>자동화 룰·리메디에이션</td><td>자동 복구·비용 최적화</td><td>신뢰성·설명 가능성 보장 필요</td></tr></tbody></table><ul><li>관측과 SLO 기반 자동화는 운영 효율을 크게 높인다.</li><li>AIOps 는 보완적 도구로 도입 전 충분한 학습/평가가 필요하다.</li></ul><h3 id=운영-및-최적화>운영 및 최적화<a hidden class=anchor aria-hidden=true href=#운영-및-최적화>#</a></h3><h4 id=모니터링-및-관측성>모니터링 및 관측성<a hidden class=anchor aria-hidden=true href=#모니터링-및-관측성>#</a></h4><p>모니터링·관측성은 네트워크를 &rsquo; 계층별로 보는 눈 &rsquo; 을 만드는 과정이다. 하드웨어 신호 (L1) 부터 애플리케이션 응답 (L7) 까지 각 계층에 맞는 지표를 수집하고, 플로우 로그·패킷·트레이스·메트릭을 중앙에서 상관분석하면 문제의 &rsquo; 원인 계층 &rsquo; 을 빠르게 좁힐 수 있다. 이를 SLO 와 연계해 경보·자동화하면 안정적인 운영이 가능하다.</p><h5 id=계층별-핵심-메트릭>계층별 핵심 메트릭<a hidden class=anchor aria-hidden=true href=#계층별-핵심-메트릭>#</a></h5><table><thead><tr><th>계층</th><th style=text-align:right>핵심 메트릭</th><th>수집 방법 / 도구</th></tr></thead><tbody><tr><td>L1 (물리)</td><td style=text-align:right>신호강도 (dBm), 광/전기 오류, 온도, 포트 상태</td><td>vendor optics, ethtool, IPMI, SNMP</td></tr><tr><td>L2 (데이터링크)</td><td style=text-align:right>FCS 오류, 포트 드롭, VLAN 오버런, MAC flaps</td><td>switch counters, sFlow, port-mirroring</td></tr><tr><td>L3 (네트워크)</td><td style=text-align:right>RTT, 패킷 손실률, 라우팅 상태 (BGP/OSPF), 라우팅 업데이트 빈도</td><td>ping/mtr, BGP/OSPF 모니터 (FRR/ExaBGP), NetFlow</td></tr><tr><td>L4 (전송)</td><td style=text-align:right>재전송률, RTO, 연결 수, 소켓 대기열 길이</td><td>ss/netstat, eBPF flow export, connection metrics</td></tr><tr><td>L7 (응용)</td><td style=text-align:right>p50/p95/p99 응답시간, 오류율 (4xx/5xx), 처리량, 트랜잭션 지연</td><td>APM(NewRelic/Datadog), Envoy/nginx metrics, OpenTelemetry</td></tr></tbody></table><ul><li>계층별 핵심 메트릭은 원인 탐지의 출발점이다. L1~L3 은 네트워크 인프라 문제, L4 는 전송/혼잡, L7 은 애플리케이션 문제에 초점.</li></ul><h5 id=데이터-소스-수집-기술>데이터 소스 (수집 기술)<a hidden class=anchor aria-hidden=true href=#데이터-소스-수집-기술>#</a></h5><table><thead><tr><th>데이터 소스</th><th>용도 (어떤 문제에 도움)</th><th>대표 도구/프로토콜</th></tr></thead><tbody><tr><td>SNMP / Telemetry</td><td>장비 상태·카운터 (장비 고장·포트 에러)</td><td>SNMP, gNMI</td></tr><tr><td>NetFlow / sFlow / IPFIX</td><td>플로우 수준 트래픽 패턴, 대역폭 소비</td><td>nfdump, sFlow-rt</td></tr><tr><td>Packet Capture (PCAP / qlog)</td><td>패킷 레벨 디버깅 (재전송·패킷 손상)</td><td>tcpdump, Wireshark, qlog</td></tr><tr><td>eBPF Exporters</td><td>커널 - 레벨 세밀한 이벤트 (소켓·보안)</td><td>BCC, bpftrace, Cilium</td></tr><tr><td>Metrics (시계열)</td><td>시계열 모니터링 (SLO, 대시보드)</td><td>Prometheus, node_exporter</td></tr><tr><td>Traces / APM</td><td>분산 트랜잭션 지연 원인 분석</td><td>OpenTelemetry, Jaeger, Zipkin</td></tr><tr><td>Logs</td><td>오류·상태·보안 이벤트 조사</td><td>ELK, Loki, Fluentd</td></tr></tbody></table><ul><li>단일 소스로는 불충분하다. 플로우·패킷·트레이스·메트릭을 조합해 상관분석할 때 근본원인을 정확히 찾을 수 있다.</li></ul><h5 id=수집-파이프라인저장-정책>수집 파이프라인·저장 정책<a hidden class=anchor aria-hidden=true href=#수집-파이프라인저장-정책>#</a></h5><table><thead><tr><th>단계</th><th>구성요소</th><th>권장 정책</th></tr></thead><tbody><tr><td>수집</td><td>Exporter/SNMP agent, eBPF, packet capture</td><td>에이전트 경량화, 샘플링 (트레이스 1~10%, PCAP 샘플)</td></tr><tr><td>전송</td><td>수집기/버퍼</td><td>TLS 암호화, backpressure 처리</td></tr><tr><td>저장</td><td>TSDB/Log store/Object store</td><td>메트릭 단기 (weeks), 로그 중기 (weeks), PCAP 장기 (필요시 오프라인)</td></tr><tr><td>분석</td><td>대시보드/트레이스 UI/ML</td><td>상관 규칙·탐지 모델, 알람 룰 버전 관리</td></tr><tr><td>보존/보안</td><td>암호화, 접근제어, 감사로그</td><td>민감데이터 마스킹, RBAC 적용</td></tr></tbody></table><ul><li>저장 비용·샘플링·보안은 설계 핵심이다. 모든 데이터를 완전 보존하면 비용 폭증하므로 샘플링·보존계층을 설계하자.</li></ul><h5 id=분석상관알림>분석·상관·알림<a hidden class=anchor aria-hidden=true href=#분석상관알림>#</a></h5><table><thead><tr><th>분석 기능</th><th>입력 데이터</th><th>산출물 / 행동</th></tr></thead><tbody><tr><td>실시간 대시보드</td><td>메트릭, 플로우</td><td>상태 가시화, KPI 모니터</td></tr><tr><td>분산 트레이싱 상관</td><td>트레이스, 로그</td><td>콜트리, 병목 함수 식별</td></tr><tr><td>플로우·패킷 상관</td><td>NetFlow + PCAP</td><td>이상 트래픽 식별, 패킷 레벨 원인 규명</td></tr><tr><td>SLO 기반 경보</td><td>Pxx, 에러율</td><td>에러 예산 소진 경보 → 자동화 트리거</td></tr><tr><td>이상탐지 (AIOps)</td><td>시계열 + 히스토리</td><td>비정상 패턴 탐지, 알람 우선순위화</td></tr></tbody></table><ul><li>자동화된 상관분석 (메트릭→트레이스→패킷) 은 MTTR 단축의 핵심이다. SLO 와 연동해 경보 소음을 줄여야 한다.</li></ul><h5 id=경보slo자동화>경보·SLO·자동화<a hidden class=anchor aria-hidden=true href=#경보slo자동화>#</a></h5><table><thead><tr><th>항목</th><th>설계 포인트</th><th>예시 도구</th></tr></thead><tbody><tr><td>SLO 설정</td><td>비즈니스 목적 연계 (P95 &lt; 200ms 등)</td><td>문서화된 SLO</td></tr><tr><td>경보 룰</td><td>히스토리 기반 임계값, 위상별 임계치</td><td>Prometheus Alertmanager</td></tr><tr><td>Playbook</td><td>각 경보의 대응 절차 자동화·문서화</td><td>Runbooks, Rundeck</td></tr><tr><td>자동화</td><td>자가 치유 (스케일·트래픽 셰이핑)</td><td>Kubernetes HPA, webhook scripts</td></tr></tbody></table><ul><li>임계값은 단순 숫자 아님—SLO 기반으로 정하고, Playbook 에 따라 수동→자동 대응 우선순위를 정하자.</li></ul><h5 id=보안프라이버시운영-고려사항>보안·프라이버시·운영 고려사항<a hidden class=anchor aria-hidden=true href=#보안프라이버시운영-고려사항>#</a></h5><table><thead><tr><th>항목</th><th>고려사항</th><th>권장 조치</th></tr></thead><tbody><tr><td>민감성</td><td>패킷/로그 내 개인정보 포함 가능</td><td>마스킹·필터링, 최소 수집</td></tr><tr><td>접근 제어</td><td>누가 어떤 데이터에 접근 가능한가</td><td>RBAC, 감사로그</td></tr><tr><td>암호화</td><td>전송·저장 암호화</td><td>TLS, at-rest encryption</td></tr><tr><td>규정 준수</td><td>GDPR 등 규정</td><td>데이터 삭제 정책, 합법적 근거 문서화</td></tr></tbody></table><ul><li>관측 데이터 자체가 민감 자산이므로 보안·거버넌스를 설계에 포함해야 한다.</li></ul><h4 id=보안-및-컴플라이언스>보안 및 컴플라이언스<a hidden class=anchor aria-hidden=true href=#보안-및-컴플라이언스>#</a></h4><p>네트워크/시스템 보안은 &rsquo; 겹겹의 방어 (Defense-in-Depth)&rsquo; 이다.<br>하드웨어 (물리) 에서부터 데이터링크, 라우팅, 전송 (예: TCP/UDP), 표현 (암호화), 응용 (웹/API) 까지 각 계층에 맞는 방어를 쌓아야 한다.<br>예를 들어 데이터를 안전하게 전송하려면 TLS 1.3 로 암호화하고 (전송 계층), API 는 WAF 와 인증·인가로 보호하며 (응용 계층), 네트워크는 방화벽과 세분화로 내부 이동을 차단한다 (네트워크 계층). 또한 모든 활동은 중앙 로그로 수집해 규정 (예: GDPR, PCI) 에 맞게 보존하고, 사고가 발생하면 신속히 대응할 수 있어야 한다.</p><h5 id=암호화키관리>암호화·키관리<a hidden class=anchor aria-hidden=true href=#암호화키관리>#</a></h5><table><thead><tr><th>항목</th><th>목적</th><th>구체적 조치 (How)</th><th>도구/예시</th></tr></thead><tbody><tr><td>전송 암호화</td><td>중간자 공격·도청 차단</td><td>TLS 1.3 강제, HSTS, 강한 Cipher policy</td><td>OpenSSL, BoringSSL, cert-manager</td></tr><tr><td>저장 암호화</td><td>데이터 유출 위험 완화</td><td>DB/파일시스템 암호화, 키 분리</td><td>Cloud KMS, HashiCorp Vault</td></tr><tr><td>키·증서 라이프사이클</td><td>유효성/리보크 관리</td><td>HSM 사용, 자동 회전, OCSP/CRL</td><td>AWS KMS/HSM, Thales, cert-manager</td></tr><tr><td>엔드투엔드 암호화</td><td>민감데이터 보호</td><td>클라이언트→서버→백엔드 E2E 암호화</td><td>Application level crypto libs</td></tr></tbody></table><ul><li>암호화는 전송·저장 모두 적용해야 하며 키 관리를 HSM/Cloud KMS 로 자동화하는 것이 핵심.</li></ul><h5 id=인증권한관리-iam>인증·권한관리 (IAM)<a hidden class=anchor aria-hidden=true href=#인증권한관리-iam>#</a></h5><table><thead><tr><th>항목</th><th>목적</th><th>구체적 조치</th><th>도구/예시</th></tr></thead><tbody><tr><td>사용자 인증</td><td>계정 도용 방지</td><td>MFA, SSO, 강력 인증정책</td><td>Okta, Azure AD, Keycloak</td></tr><tr><td>서비스 인증</td><td>서비스간 신뢰 보장</td><td>mTLS, 서비스 계정, short-lived tokens</td><td>Istio mTLS, Vault, SPIFFE/SPIRE</td></tr><tr><td>권한관리</td><td>최소권한 적용</td><td>RBAC/ABAC, 권한 검토 자동화</td><td>Cloud IAM, Kubernetes RBAC</td></tr></tbody></table><ul><li>사용자·서비스별 인증을 분리하고 MFA·mTLS·단기 토큰으로 신뢰를 강화.</li></ul><h5 id=네트워크-경계트래픽-보호>네트워크 경계·트래픽 보호<a hidden class=anchor aria-hidden=true href=#네트워크-경계트래픽-보호>#</a></h5><table><thead><tr><th>항목</th><th>목적</th><th>구체적 조치</th><th>도구/예시</th></tr></thead><tbody><tr><td>L3/L4 방화벽</td><td>접속 제어</td><td>deny-by-default 룰, uRPF</td><td>iptables/nftables, cloud SG</td></tr><tr><td>WAF (L7)</td><td>애플리케이션 공격 차단</td><td>OWASP CRS, custom rules, managed WAF</td><td>ModSecurity, Cloud WAF</td></tr><tr><td>DDoS 보호</td><td>대규모 공격 완화</td><td>Anycast, scrubbing, rate limit</td><td>Cloudflare, AWS Shield</td></tr></tbody></table><ul><li>경계는 다계층 (네트워크 + 애플리케이션) 으로 방어하고 DDoS 는 엣지에서 완화.</li></ul><h5 id=세분화격리-segmentation>세분화·격리 (Segmentation)<a hidden class=anchor aria-hidden=true href=#세분화격리-segmentation>#</a></h5><table><thead><tr><th>항목</th><th>목적</th><th>구체적 조치</th><th>도구/예시</th></tr></thead><tbody><tr><td>네트워크 분리</td><td>횡적 이동 차단</td><td>VLAN/VRF, VPC 분리, 네트워크폴리시</td><td>Cisco, AWS VPC, K8s NetworkPolicy</td></tr><tr><td>마이크로세그멘테이션</td><td>서비스별 정책 적용</td><td>서비스메시 정책, 보안그룹 레벨 제어</td><td>Istio + Envoy, VMware NSX</td></tr></tbody></table><ul><li>데이터·애플리케이션 민감도에 따라 구간별 격리를 설계.</li></ul><h5 id=관측성로깅탐지-logging--monitoring>관측성·로깅·탐지 (Logging & Monitoring)<a hidden class=anchor aria-hidden=true href=#관측성로깅탐지-logging--monitoring>#</a></h5><table><thead><tr><th>항목</th><th>목적</th><th>구체적 조치</th><th>도구/예시</th></tr></thead><tbody><tr><td>중앙로그</td><td>포렌식·증적</td><td>로그 수집, 서명, 보존정책</td><td>ELK/EFK, Splunk</td></tr><tr><td>메트릭/알람</td><td>운영·SLA 감시</td><td>Prometheus + Alertmanager</td><td>Prometheus, Grafana</td></tr><tr><td>트레이스</td><td>성능 분석</td><td>OTel 계측, Jaeger</td><td>OpenTelemetry, Jaeger</td></tr><tr><td>플로우</td><td>트래픽 패턴</td><td>NetFlow/IPFIX 저장·분석</td><td>nfdump, Flowmon</td></tr><tr><td>SIEM</td><td>위협탐지·상관분석</td><td>규칙·UEBA 적용</td><td>Splunk, Elastic SIEM, Sumo Logic</td></tr></tbody></table><ul><li>로그 + 메트릭 + 트레이스 + 플로우의 결합이 탐지·대응의 핵심. 로그 무결성·보존·검색성이 중요.</li></ul><h5 id=규정컴플라이언스>규정·컴플라이언스<a hidden class=anchor aria-hidden=true href=#규정컴플라이언스>#</a></h5><table><thead><tr><th>규정</th><th>핵심 요구</th><th>예시 기술적 통제</th></tr></thead><tbody><tr><td>PCI DSS</td><td>카드 데이터 보호</td><td>네트워크 분리, 암호화, 로그 보존 (6 년 아님), 정기 스캔</td></tr><tr><td>GDPR</td><td>개인정보 보호</td><td>목적 제한, 데이터 최소화, DPIA, 침해통지 (72 시간)</td></tr><tr><td>HIPAA</td><td>의료정보 보호</td><td>접근통제, 감사로그, 암호화 권고</td></tr><tr><td>ISO 27001</td><td>정보보호 관리체계</td><td>정책·위험관리·감사 증적</td></tr></tbody></table><ul><li>규정마다 기술·관리 통제가 다르므로 통제 매핑 (controls map) 을 작성해 증적을 남겨야 함.</li></ul><h5 id=공급망빌드-보안>공급망·빌드 보안<a hidden class=anchor aria-hidden=true href=#공급망빌드-보안>#</a></h5><table><thead><tr><th>항목</th><th>목적</th><th>조치</th><th>도구</th></tr></thead><tbody><tr><td>SBOM</td><td>구성요소 가시성</td><td>SBOM 생성·스캔</td><td>SPDX, CycloneDX</td></tr><tr><td>이미지 보안</td><td>런타임 취약점 완화</td><td>이미지 스캔·서명</td><td>Clair, Trivy, Cosign</td></tr><tr><td>CI secret</td><td>빌드 시 비밀유출 방지</td><td>비밀관리, 접근제어</td><td>Vault, Sealed Secrets</td></tr></tbody></table><ul><li>빌드·배포 파이프라인에서 취약점·비밀 누출을 방지해야 운영 위험이 줄어듦.</li></ul><h5 id=물리인프라-보안>물리·인프라 보안<a hidden class=anchor aria-hidden=true href=#물리인프라-보안>#</a></h5><table><thead><tr><th>항목</th><th style=text-align:right>목적</th><th>조치</th></tr></thead><tbody><tr><td>데이터센터</td><td style=text-align:right>장비 도난·간섭 방지</td><td>출입통제, CCTV, 환경모니터링</td></tr><tr><td>하드웨어</td><td style=text-align:right>무결성 보장</td><td>재고관리, 펌웨어 검증, TPM 사용</td></tr></tbody></table><ul><li>클라우드 이용 시 CSP 의 물리보안 SLA 를 검증하고 온프레는 엄격한 물리통제 필요.</li></ul><h4 id=성능-최적화-및-확장성>성능 최적화 및 확장성<a hidden class=anchor aria-hidden=true href=#성능-최적화-및-확장성>#</a></h4><p>성능 최적화는 &rsquo; 측정 → 병목 식별 → 적절한 기술 적용 → 재측정 &rsquo; 반복 과정이다.</p><ul><li>상위 (앱) 계층: 캐시와 비동기로 응답 속도 (레이턴시) 를 줄인다.</li><li>전송·네트워크 계층: TCP/QUIC 튜닝과 경로 분산으로 처리량을 늘린다.</li><li>하위 (스위치/물리) 계층: 링크 업그레이드와 스위치 최적화로 패킷 전달을 안정화한다.</li><li>확장성: 상태를 분리하고 (Stateless), 수평 확장 (오토스케일) 과 데이터 분할 (샤딩) 으로 부하를 분산합니다.</li></ul><p>핵심은 <strong>측정 (메트릭 + 트레이스)</strong> 과 <strong>목표 (SLO)</strong> 를 먼저 정하는 것.</p><h5 id=관측측정-observability>관측·측정 (Observability)<a hidden class=anchor aria-hidden=true href=#관측측정-observability>#</a></h5><table><thead><tr><th>항목</th><th style=text-align:right>목적 (Why)</th><th>실무 기법 (What)</th><th>구현·측정 방법 (How)</th><th style=text-align:right>핵심 지표 (Metrics)</th></tr></thead><tbody><tr><td>분산 트레이싱</td><td style=text-align:right>요청 경로별 지연 파악</td><td>OpenTelemetry, Jaeger</td><td>서비스에 trace context 삽입, 샘플링 정책</td><td style=text-align:right>p50/p95/p99 latency, span duration</td></tr><tr><td>Flow/Packet 관측</td><td style=text-align:right>네트워크 흐름/패킷 원인규명</td><td>NetFlow/IPFIX, sFlow, tcpdump, eBPF/XDP</td><td>수집 파이프라인 구축, 패킷샘플링</td><td style=text-align:right>loss, jitter, RTT, retransmission rate</td></tr><tr><td>인프라 메트릭</td><td style=text-align:right>자원 병목 식별</td><td>Prometheus, node-exporter</td><td>메트릭 수집 → 대시보드/알람</td><td style=text-align:right>cpu, mem, NIC queues, interrupts</td></tr><tr><td>로그 연동</td><td style=text-align:right>오류·이상패턴 탐지</td><td>ELK/EFK, structured logs</td><td>로그 집계 및 연계 (Trace+Metrics)</td><td style=text-align:right>error rate, exception counts</td></tr></tbody></table><p><strong>요약:</strong> 관측은 문제를 찾는 출발점. 트레이스 + 플로우 + 호스트 메트릭을 결합하면 암호화 환경에서도 원인 규명이 가능.</p><h5 id=전송프로토콜-튜닝-transport--protocol>전송·프로토콜 튜닝 (Transport & Protocol)<a hidden class=anchor aria-hidden=true href=#전송프로토콜-튜닝-transport--protocol>#</a></h5><table><thead><tr><th>항목</th><th style=text-align:right>목적</th><th>기법</th><th>구현·측정 방법</th><th style=text-align:right>핵심 지표</th></tr></thead><tbody><tr><td>TCP 튜닝</td><td style=text-align:right>throughput/latency 최적화</td><td>window scaling, SACK, rto tuning</td><td>sysctl/tc 조정, lab 비교 (iperf3)</td><td style=text-align:right>retransmissions, cwnd, throughput</td></tr><tr><td>QUIC/HTTP3</td><td style=text-align:right>지연·HOL 개선</td><td>QUIC, 0-RTT 정책, stream multiplex</td><td>서버/클라이언트 설정, QUIC lab tests</td><td style=text-align:right>connection setup time, p99</td></tr><tr><td>Offloads</td><td style=text-align:right>CPU 절감, throughput 증가</td><td>TSO/GSO/GRO/LRO, checksum offload</td><td>toggle offload, measure CPU vs throughput</td><td style=text-align:right>CPU utilization, throughput</td></tr><tr><td>MSS/MTU</td><td style=text-align:right>패킷 분절 최소화</td><td>PMTUD, MSS clamp</td><td>tracepath, iperf + packet capture</td><td style=text-align:right>fragmentation events, throughput</td></tr></tbody></table><p><strong>요약:</strong> 전송 계층 튜닝은 CPU·네트워크 자원 균형을 맞춰 throughput 과 latency 를 동시에 개선. 항상 A/B 테스트 필요.</p><h5 id=라우팅포워딩-network>라우팅·포워딩 (Network)<a hidden class=anchor aria-hidden=true href=#라우팅포워딩-network>#</a></h5><table><thead><tr><th>항목</th><th style=text-align:right>목적</th><th>기법</th><th>구현·측정 방법</th><th style=text-align:right>핵심 지표</th></tr></thead><tbody><tr><td>ECMP</td><td style=text-align:right>경로 병렬화로 용량증가</td><td>ECMP hashing, per-flow balancing</td><td>per-path utilization 모니터링</td><td style=text-align:right>per-path throughput, packet re-ordering</td></tr><tr><td>Traffic engineering</td><td style=text-align:right>트래픽 제어·QoS 보장</td><td>MPLS-TE, SR, DSCP/QoS</td><td>policy + telemetry</td><td style=text-align:right>latency, jitter, packet loss for flows</td></tr><tr><td>Forwarding accel</td><td style=text-align:right>성능 향상</td><td>ASIC/SmartNIC forwarding</td><td>HW offload validation</td><td style=text-align:right>forwarding rate (pps), CPU offload</td></tr><tr><td>BGP/Routing scale</td><td style=text-align:right>인터넷 경로 안정화</td><td>route aggregation, route policies</td><td>monitor BGP flaps, convergence</td><td style=text-align:right>convergence time, route churn</td></tr></tbody></table><p><strong>요약:</strong> 네트워크 레이어는 경로 병렬화와 하드웨어 가속으로 스케일을 확보. 정책 실수는 큰 장애를 유발하므로 검증 필수.</p><h5 id=호스트nic하드웨어-infrastructure>호스트·NIC·하드웨어 (Infrastructure)<a hidden class=anchor aria-hidden=true href=#호스트nic하드웨어-infrastructure>#</a></h5><table><thead><tr><th>항목</th><th style=text-align:right>목적</th><th>기법</th><th>구현·측정 방법</th><th style=text-align:right>핵심 지표</th></tr></thead><tbody><tr><td>NIC offload</td><td style=text-align:right>CPU 감소, throughput 증가</td><td>SR-IOV, SmartNIC, TSO/GRO</td><td>compare CPU/throughput with/without offload</td><td style=text-align:right>CPU%, throughput, interrupts</td></tr><tr><td>Zero-copy</td><td style=text-align:right>메모리·CPU 절감</td><td>sendfile, mmap, splice</td><td>measure copy counts, latency</td><td style=text-align:right>CPU cycles per request</td></tr><tr><td>Redundancy</td><td style=text-align:right>가용성 확보</td><td>LACP, multi-path, redundant links</td><td>failover tests, BFD</td><td style=text-align:right>failover time, packet loss during failover</td></tr><tr><td>Link upgrade</td><td style=text-align:right>대역폭 확보</td><td>25/40/100GbE, fiber</td><td>capacity tests, SFP diagnostics</td><td style=text-align:right>link utilization, error counts</td></tr></tbody></table><p><strong>요약:</strong> 하드웨어 레벨 최적화는 대규모 처리에 결정적. 비용·호환성 검증을 반드시 실행.</p><h5 id=애플리케이션데이터-application--data>애플리케이션·데이터 (Application & Data)<a hidden class=anchor aria-hidden=true href=#애플리케이션데이터-application--data>#</a></h5><table><thead><tr><th>항목</th><th style=text-align:right>목적</th><th>기법</th><th>구현·측정 방법</th><th style=text-align:right>핵심 지표</th></tr></thead><tbody><tr><td>Caching</td><td style=text-align:right>응답속도 개선</td><td>CDN, Redis, HTTP caching</td><td>cache hit ratio, TTL tuning</td><td style=text-align:right>response time, hit ratio</td></tr><tr><td>DB scaling</td><td style=text-align:right>쓰기/읽기 분리</td><td>read replicas, sharding</td><td>benchmark queries, replica lag</td><td style=text-align:right>QPS, replication lag, query latency</td></tr><tr><td>Async processing</td><td style=text-align:right>응답성 개선</td><td>message queues, worker pools</td><td>queue depth, processing latency</td><td style=text-align:right>queue length, processing rate</td></tr><tr><td>API design</td><td style=text-align:right>오버헤드 감소</td><td>pagination, bulk APIs</td><td>API latency tests, payload sizes</td><td style=text-align:right>request per second, payload size</td></tr></tbody></table><p><strong>요약:</strong> 애플리케이션 레벨에서의 작은 설계 변경 (비동기, 캐시) 은 큰 성능 이득을 준다. DB 는 보통 가장 큰 병목이므로 우선 점검.</p><h5 id=운영검증테스트-process--validation>운영·검증·테스트 (Process & Validation)<a hidden class=anchor aria-hidden=true href=#운영검증테스트-process--validation>#</a></h5><table><thead><tr><th>항목</th><th style=text-align:right>목적</th><th>기법</th><th>구현·측정 방법</th><th style=text-align:right>핵심 지표</th></tr></thead><tbody><tr><td>Load testing</td><td style=text-align:right>스케일 한계 파악</td><td>k6, JMeter, wrk</td><td>stage→stress→soak tests</td><td style=text-align:right>latency percentiles, error rate</td></tr><tr><td>Chaos testing</td><td style=text-align:right>회복성 검증</td><td>Pumba, Chaos Toolkit</td><td>inject failures, observe recovery</td><td style=text-align:right>MTTR, failover time</td></tr><tr><td>Conformance tests</td><td style=text-align:right>표준 준수</td><td>protocol conformance suites</td><td>interop testbeds</td><td style=text-align:right>pass/fail counts</td></tr><tr><td>CI for infra</td><td style=text-align:right>안전 배포</td><td>config lint → canary → rollout</td><td>staging canary metrics</td><td style=text-align:right>rollback rate, incidents post-deploy</td></tr></tbody></table><p><strong>요약:</strong> 안정적 확장은 자동화된 테스트·검증 파이프라인이 전제. 특히 네트워크 변경은 스테이징·canary 필수.</p><h4 id=트러블슈팅-및-문제-해결>트러블슈팅 및 문제 해결<a hidden class=anchor aria-hidden=true href=#트러블슈팅-및-문제-해결>#</a></h4><p>문제 발생 시</p><ul><li>먼저 <strong>무엇 (증상)</strong> 이 보이는지 정의하고,</li><li>그 증상을 토대로 <strong>어느 계층 (L1~L7)</strong> 에 문제의 원인이 있을지 좁힌 다음 (하위계층 우선 또는 증상 기반),</li><li>각 계층 전용 도구 (케이블 테스트, switch counters, ping/traceroute, tcpdump, APM 등) 를 써서 진단하고</li><li><strong>임시 완화 → 근본 해결 → 검증 → 예방</strong>의 사이클로 처리하면 된다.</li></ul><p>핵심은 계층별 책임과 도구 매핑을 숙지하고, 표준화된 플레이북으로 일관되게 대응하는 것이다.</p><h5 id=탐지-detection>탐지 (Detection)<a hidden class=anchor aria-hidden=true href=#탐지-detection>#</a></h5><table><thead><tr><th>항목</th><th>목적</th><th style=text-align:right>핵심 지표 / 방법</th><th>도구</th></tr></thead><tbody><tr><td>자동 탐지</td><td>이상 조기경보</td><td style=text-align:right>SLO 위반, P95/P99 상승, error rate 급증</td><td>Prometheus Alertmanager, Grafana</td></tr><tr><td>로그 기반 탐지</td><td>패턴/에러 발생 탐지</td><td style=text-align:right>5xx, auth fail, SQL error patterns</td><td>ELK, Loki, SIEM</td></tr><tr><td>트래픽 이상 탐지</td><td>트래픽 볼륨/플로우 변화</td><td style=text-align:right>sudden spike, flow entropy 상승</td><td>NetFlow/sFlow, sflow-rt</td></tr></tbody></table><p><strong>요약:</strong> 탐지는 SLO 기반 경보와 로그·플로우 이상 탐지를 조합해 빠르게 이상을 포착하는 것이 목적이다.</p><h5 id=격리영향-범위-파악-isolation--scope>격리/영향 범위 파악 (Isolation & Scope)<a hidden class=anchor aria-hidden=true href=#격리영향-범위-파악-isolation--scope>#</a></h5><table><thead><tr><th>항목</th><th>목적</th><th>핵심 활동</th><th>도구/명령</th></tr></thead><tbody><tr><td>영향 범위 식별</td><td>어떤 서비스/리전/사용자 영향인지 파악</td><td>트래픽 라우트, client IP 집단화</td><td>Grafana, NetFlow, logs 검색</td></tr><tr><td>페이로드 샘플링</td><td>문제 재현 데이터 확보</td><td>PCAP 샘플 수집 (일부 세션)</td><td>tcpdump (capture filter)</td></tr><tr><td>세분화 테스팅</td><td>특정 경로/노드 테스트</td><td>curl from multiple regions, ping</td><td>curl, mtr, traceroute</td></tr></tbody></table><p><strong>요약:</strong> 격리는 추가 피해를 막고 진단의 대상 범위를 좁혀 자원 낭비를 줄이는 단계다.</p><h5 id=진단-diagnosis>진단 (Diagnosis)<a hidden class=anchor aria-hidden=true href=#진단-diagnosis>#</a></h5><table><thead><tr><th>계층</th><th>진단 목적</th><th>핵심 명령/행동</th><th>도구</th></tr></thead><tbody><tr><td>L1</td><td>물리 상태 확인</td><td>포트 연결/광 파워 확인</td><td>ethtool, optics vendor CLI</td></tr><tr><td>L2</td><td>프레임/스위칭 문제</td><td>MAC flaps, STP, VLAN 확인</td><td>switch counters, span, brctl</td></tr><tr><td>L3</td><td>경로/라우팅 문제</td><td>경로 추적, 라우팅 테이블</td><td>traceroute, ip route, bgp summary</td></tr><tr><td>L4</td><td>연결/재전송 이슈</td><td>handshake 확인, socket 상태</td><td>ss -s, netstat, tcpdump</td></tr><tr><td>L7</td><td>애플리케이션 오류</td><td>로그/스택 트레이스, APM</td><td>APM, tail logs, curl, k8s logs</td></tr></tbody></table><p><strong>요약:</strong> 진단은 계층별 전용 툴과 명령으로 증상을 재현·확인해 근본 원인 후보를 좁히는 활동이다.</p><h5 id=완화-mitigation>완화 (Mitigation)<a hidden class=anchor aria-hidden=true href=#완화-mitigation>#</a></h5><table><thead><tr><th>기법</th><th>목적</th><th>예시 행동</th><th>주의점</th></tr></thead><tbody><tr><td>트래픽 셰이핑/RateLimit</td><td>즉각적 부하 완화</td><td>WAF/Edge 에서 rate-limit 적용</td><td>오탐으로 정상 사용자 차단 주의</td></tr><tr><td>서킷브레이커 오픈</td><td>실패 전파 방지</td><td>downstream 호출 차단</td><td>기능 저하 허용 범위 정의 필요</td></tr><tr><td>캐시 활성화</td><td>원본 부하 감소</td><td>stale-if-error, cache TTL 증가</td><td>최신성 요구 케이스 주의</td></tr><tr><td>임시 라우팅 변경</td><td>경로 우회</td><td>BGP prepends, traffic engineering</td><td>글로벌 영향 고려</td></tr></tbody></table><p><strong>요약:</strong> 완화는 서비스 가용성을 유지하는 임시 방책이며, 반드시 근본치료와 연계되어야 한다.</p><h5 id=근본치료-resolution>근본치료 (Resolution)<a hidden class=anchor aria-hidden=true href=#근본치료-resolution>#</a></h5><table><thead><tr><th>항목</th><th>목적</th><th>예시 작업</th><th>검증</th></tr></thead><tbody><tr><td>설정 수정</td><td>문제 원인 제거</td><td>MTU 수정, firewall rule 수정</td><td>통신 테스트, regression test</td></tr><tr><td>소프트웨어 수정</td><td>버그 수정</td><td>패치 배포, DB 쿼리 최적화</td><td>A/B 테스트, Canary</td></tr><tr><td>용량 확장</td><td>리소스 부족 해결</td><td>인스턴스 추가, 커넥션풀 조정</td><td>부하 테스트, 모니터 확인</td></tr><tr><td>하드웨어 교체</td><td>결함 하드웨어 제거</td><td>NIC/Module 교체</td><td>포트 상태 확인</td></tr></tbody></table><p><strong>요약:</strong> 근본치료는 재발 방지를 목표로 하며, 변경은 통제된 배포 절차로 수행해야 한다.</p><h5 id=검증예방-verify--prevent>검증·예방 (Verify & Prevent)<a hidden class=anchor aria-hidden=true href=#검증예방-verify--prevent>#</a></h5><table><thead><tr><th>항목</th><th>목적</th><th>방법</th><th>산출물</th></tr></thead><tbody><tr><td>검증</td><td>문제 완전 해결 확인</td><td>모니터 지표 정상화, 트래스 재현</td><td>상태 리포트</td></tr><tr><td>원인 분석</td><td>재발 방지 인사이트 도출</td><td>Postmortem, RCA</td><td>RCA 문서, 차후 예방조치</td></tr><tr><td>Runbook 업데이트</td><td>향후 대응 표준화</td><td>플레이북에 단계 추가</td><td>Runbook 버전관리</td></tr><tr><td>자동화 보강</td><td>재발시 자동화로 대응</td><td>Alert→Runbook→자동조치</td><td>자동화 스크립트/플레이북</td></tr></tbody></table><p><strong>요약:</strong> 사후 검증·문서화·자동화 개선이 없으면 동일 사고 반복된다. Postmortem 을 통해 조직 학습을 완성하자.</p><h3 id=고급-주제-및-미래-전망>고급 주제 및 미래 전망<a hidden class=anchor aria-hidden=true href=#고급-주제-및-미래-전망>#</a></h3><h4 id=현재-도전-과제-및-한계>현재 도전 과제 및 한계<a hidden class=anchor aria-hidden=true href=#현재-도전-과제-및-한계>#</a></h4><p>현대 네트워크 운영에서의 핵심 도전은 **&rsquo; 새로운 전송 방식 (예: QUIC), 대규모 무상태 트래픽 (UDP), IPv6 전환, 그리고 암호화로 인한 관측성 감소 &lsquo;**이다.<br>이들은 전통적 미들박스·운영 절차와 충돌해 서비스 가시성·보안·확장성 문제를 일으킨다.<br>해결은</p><ol><li>점진적·테스트 기반 전환 (dual-stack, canary)</li><li>미들박스 현대화 또는 엣지 TLS 종료</li><li>분산 레이트리밋 + 글로벌 조율</li><li>애플리케이션/엔드포인트 수준 관측 강화**를 병행하는 것이다.</li></ol><h5 id=프로토콜플랫폼-기술-이슈>프로토콜·플랫폼 기술 이슈<a hidden class=anchor aria-hidden=true href=#프로토콜플랫폼-기술-이슈>#</a></h5><table><thead><tr><th>도전 과제</th><th>원인</th><th>영향</th><th>탐지/진단 방법</th><th>권장 해결책</th></tr></thead><tbody><tr><td>QUIC × 미들박스 충돌</td><td>전송 헤더 암호화, 스트림 레벨 개념</td><td>WAF/ADC/DPI 기능 약화, 로깅 불가</td><td>qlog, 엣지 로그, 실패 패턴 분석</td><td>엣지 TLS 종료, qlog 수집, 미들박스 현대화</td></tr><tr><td>대규모 UDP 처리</td><td>무상태·스푸핑·증폭 가능</td><td>DDoS 취약성, 레이트 관리 어려움</td><td>플로우 분석 (NetFlow), 패킷 샘플</td><td>Anycast + local rate-limit + global coord.</td></tr></tbody></table><p><strong>요약:</strong> 전송 계층의 변화는 중간장비·보안/관측 체계에 직접적 충격을 주므로, 엣지 설계·로그/trace 체계 보강이 필수다.</p><h5 id=네트워크-인프라라우팅-이슈>네트워크 인프라·라우팅 이슈<a hidden class=anchor aria-hidden=true href=#네트워크-인프라라우팅-이슈>#</a></h5><table><thead><tr><th>도전 과제</th><th>원인</th><th>영향</th><th>탐지/진단</th><th>권장 해결책</th></tr></thead><tbody><tr><td>IPv6-only 전환</td><td>레거시 IPv4 의존</td><td>접근성 문제, NAT64 오류</td><td>dual-stack 테스트, DNS 로그</td><td>단계적 전환, NAT64/DNS64 테스트 자동화</td></tr><tr><td>Anycast 세션/캐시 일관성</td><td>BGP 라우팅 특성</td><td>세션 고정/캐시 불일치</td><td>캐시 HIT/MISS 분석, client affinity 점검</td><td>sticky/consistent hashing, cache key 설계</td></tr></tbody></table><p><strong>요약:</strong> 글로벌 라우팅 (Anycast) 과 IPv6 전환은 사용성/일관성 리스크가 크므로 실험·모니터링·자동화가 필수다.</p><h5 id=관측성보안-이슈>관측성·보안 이슈<a hidden class=anchor aria-hidden=true href=#관측성보안-이슈>#</a></h5><table><thead><tr><th>도전 과제</th><th>원인</th><th>영향</th><th>탐지/진단</th><th>권장 해결책</th></tr></thead><tbody><tr><td>관측성 감소</td><td>TLS/QUIC 암호화</td><td>PCAP/Deep inspection 불가</td><td>애플리케이션 로그 결여, qlog 부재</td><td>엔드포인트 계측, qlog/qtrace, 내부 TLS 해제 지점 마련</td></tr><tr><td>보안 정책 혼선</td><td>계층별 중복 룰</td><td>정상 트래픽 차단/우회</td><td>방화벽 로그, WAF 차단 로그</td><td>정책 통합·테스트, 규칙 우선순위 관리</td></tr></tbody></table><p><strong>요약:</strong> 암호화는 보안과 관측의 트레이드오프를 만들므로, 관측을 앱/엔드포인트 쪽으로 옮기고 qlog 같은 표준을 활용하자.</p><h5 id=성능아키텍처-이슈>성능·아키텍처 이슈<a hidden class=anchor aria-hidden=true href=#성능아키텍처-이슈>#</a></h5><table><thead><tr><th>도전 과제</th><th>원인</th><th>영향</th><th>탐지/진단</th><th>권장 해결책</th></tr></thead><tbody><tr><td>계층 오버헤드</td><td>캡슐화·컨텍스트 스위치</td><td>지연·처리량 저하</td><td>Pxx 지연, CPU 프로파일링</td><td>제로카피, HW 가속, 통합 프로토콜 사용</td></tr><tr><td>eBPF·SDN 한계</td><td>커널·컨트롤 플레인 복잡성</td><td>운영 리스크</td><td>성능 벤치, 컨트롤러 메트릭</td><td>점증적 도입, 롤백 플랜</td></tr></tbody></table><p><strong>요약:</strong> 성능 문제는 계층간 누적오버헤드가 주 원인이다. HW 오프로드·제로카피·크로스레이어 최적화로 보완하자.</p><h5 id=7e-운영자동화표준화-이슈>7.E 운영·자동화·표준화 이슈<a hidden class=anchor aria-hidden=true href=#7e-운영자동화표준화-이슈>#</a></h5><table><thead><tr><th>도전 과제</th><th>원인</th><th>영향</th><th>탐지/진단</th><th>권장 해결책</th></tr></thead><tbody><tr><td>교육·실무갭</td><td>이론 중심 교육</td><td>운영 오류·속도 저하</td><td>인시던트 로그, RCA</td><td>시나리오 기반 교육, 실습 랩</td></tr><tr><td>자동화 부족</td><td>Playbook/툴 미비</td><td>수동복구·인적오류</td><td>응답 시간/MTTR 모니터링</td><td>IaC, Runbook 자동화, SLO 연동</td></tr></tbody></table><p><strong>요약:</strong> 조직적 도전은 기술적 해결만으론 안 된다. 교육·문서·자동화가 함께 가야 재발이 줄어든다.</p><h4 id=최신-트렌드-및-방향>최신 트렌드 및 방향<a hidden class=anchor aria-hidden=true href=#최신-트렌드-및-방향>#</a></h4><p>2025 년 네트워킹 트렌드는 <strong>프로토콜 혁신 (QUIC/HTTP/3)</strong>, <strong>커널·데이터플레인 가속 (eBPF)</strong>, <strong>운영 자동화 (AIOps/Intent-Based Networking)</strong>, <strong>보안 통합 (Zero-Trust/SASE)</strong>, 그리고 <strong>점진적 IPv6 전환</strong>이 핵심이다.<br>실무 설계에선 이러한 기술들이 성능·관측성·보안·운영 자동성의 균형을 어떻게 바꾸는지 중심으로 의사결정해야 한다.</p><h5 id=프로토콜전송-혁신>프로토콜·전송 혁신<a hidden class=anchor aria-hidden=true href=#프로토콜전송-혁신>#</a></h5><table><thead><tr><th>트렌드</th><th>의미/핵심 효과</th><th>실무적 영향</th></tr></thead><tbody><tr><td>QUIC / HTTP/3</td><td>UDP 기반 전송 + TLS 통합, 0-RTT·스트림 다중화</td><td>모바일/손실망에서 지연·헤드오브라인 개선, L4/L7 경계 재정의.</td></tr><tr><td>BBR v2 등 혼잡제어</td><td>지연·처리량 균형 개선</td><td>WAN/장거리 링크 성능 향상</td></tr></tbody></table><p><strong>요약</strong>: HTTP/3·QUIC 계열은 웹·모바일 성능을 빠르게 개선하므로 엣지·CDN·LB 정책 재검토가 필요하다.</p><h5 id=데이터플레인관측성-기술>데이터플레인·관측성 기술<a hidden class=anchor aria-hidden=true href=#데이터플레인관측성-기술>#</a></h5><table><thead><tr><th>트렌드</th><th>의미/핵심 효과</th><th>실무적 영향</th></tr></thead><tbody><tr><td>eBPF</td><td>커널 레벨 관측·필터·프로그램 실행</td><td>K8s·컨테이너 관측성, 네트워크 보안·퍼포먼스 진단이 크게 쉬워짐.</td></tr><tr><td>io_uring / NIC 오프로드</td><td>고성능 I/O, 패킷 처리 효율화</td><td>사용자 공간 네트워킹, 낮은 CPU 오버헤드</td></tr></tbody></table><p><strong>요약</strong>: eBPF + 최신 커널 I/O 기술은 관측·성능 튜닝의 게임 체인저다.</p><h5 id=자동화운영-혁신>자동화·운영 혁신<a hidden class=anchor aria-hidden=true href=#자동화운영-혁신>#</a></h5><table><thead><tr><th>트렌드</th><th>의미/핵심 효과</th><th>실무적 영향</th></tr></thead><tbody><tr><td>AIOps / Intent-Based Networking</td><td>정책을 의도로 입력 → 자동 구현·검증</td><td>운영 비용 절감·자가 복구 가능성 증가, 시장 수요 급증.</td></tr><tr><td>Network Automation</td><td>IaC/플레이북 기반 자동화</td><td>변경 안전성·롤백 표준화</td></tr></tbody></table><p><strong>요약</strong>: AI 기반 자동화는 복잡한 멀티클라우드/엣지 환경의 운영을 가능하게 하고, 도입 속도도 빠르다.</p><h5 id=보안정책-통합>보안·정책 통합<a hidden class=anchor aria-hidden=true href=#보안정책-통합>#</a></h5><table><thead><tr><th>트렌드</th><th>의미/핵심 효과</th><th>실무적 영향</th></tr></thead><tbody><tr><td>Zero-Trust / SASE</td><td>" 신뢰하지 말고 검증 " + 네트워크 + 보안 통합</td><td>에지·원격 작업자 보호, 네트워크 설계 시 인증·세분화 필수.</td></tr><tr><td>TLS everywhere / 암호화 확산</td><td>중간장비 가시성 저하</td><td>관측성 전략 재설계 (엣지·메타데이터 주입 권장)</td></tr></tbody></table><p><strong>요약</strong>: 보안 중심 설계가 기본 전제이며, 암호화 확산은 관측성 정책을 바꾼다.</p><h5 id=인프라배포-변화>인프라·배포 변화<a hidden class=anchor aria-hidden=true href=#인프라배포-변화>#</a></h5><table><thead><tr><th>트렌드</th><th>의미/핵심 효과</th><th>실무적 영향</th></tr></thead><tbody><tr><td>IPv6 확산</td><td>주소공간·라우팅 확장</td><td>장비·ACL·CDN 구성 점검 필요; 채택률 지역 편차 큼.</td></tr><tr><td>엣지 컴퓨팅 / 5G</td><td>로컬 처리·저지연 제공</td><td>아키텍처 분산·데이터 주권 고려</td></tr></tbody></table><p><strong>요약</strong>: IPv6 전환은 진행중이나 균일하지 않다. 엣지/5G 는 분산형 설계의 요구를 높인다.</p><h5 id=연구미래-기술-중장기>연구·미래 기술 (중장기)<a hidden class=anchor aria-hidden=true href=#연구미래-기술-중장기>#</a></h5><table><thead><tr><th>트렌드</th><th>의미/핵심 효과</th><th>적용 (예상)</th></tr></thead><tbody><tr><td>네트워크 AI(완전자율)</td><td>정책 + 학습 기반 자율 네트워크</td><td>시범/파일럿 → 5 년 내 일부 상용화 전망</td></tr><tr><td>양자 보안/6G 등</td><td>물리·암호화 레벨 혁신</td><td>연구·특수 분야 우선 적용</td></tr></tbody></table><p><strong>요약</strong>: 장기적으로는 AI 자율화·6G·양자 보안이 산업을 재편할 가능성이 높다.</p><h4 id=대안-기술-및-경쟁-솔루션>대안 기술 및 경쟁 솔루션<a hidden class=anchor aria-hidden=true href=#대안-기술-및-경쟁-솔루션>#</a></h4><p>네트워크/서비스 설계에는 여러 &rsquo; 모델 &rsquo; 과 &rsquo; 기술 &rsquo; 이 경쟁한다.<br>OSI 는 개념적 틀 (교육용) 이고, TCP/IP 는 실무에 바로 쓰이는 간소화된 틀이다. 최근에는 네트워크를 소프트웨어로 제어하는 SDN, 마이크로서비스 간 통신을 돕는 서비스메시, 지연을 줄이는 QUIC(HTTP/3) 같은 신기술이 널리 쓰인다.<br>각 기술은 장·단점이 있어—예: QUIC 는 빠르지만 일부 방화벽에서 차단될 수 있고, 서비스메시는 가시성·보안을 개선하지만 CPU·지연 오버헤드가 있다.<br>따라서 어떤 기술을 선택할지는 " 무엇을 해결하려는가 (요구)" 와 " 운영할 역량/예산 " 에 따라 달라진다.</p><h5 id=모델--패러다임>모델 / 패러다임<a hidden class=anchor aria-hidden=true href=#모델--패러다임>#</a></h5><table><thead><tr><th>기술/모델</th><th style=text-align:right>역할 (무엇을)</th><th>주요 사용사례</th><th>장점</th><th>단점</th><th>선택 기준</th></tr></thead><tbody><tr><td>OSI 7 계층</td><td style=text-align:right>개념적 분류·교육</td><td>교육·프로토콜 분석</td><td>체계적·분석적</td><td>실무엔 추상화 과다</td><td>학습·문서화 목적</td></tr><tr><td>TCP/IP 4 계층</td><td style=text-align:right>실무 네트워크 설계 기준</td><td>인터넷 서비스 설계</td><td>실무 적합·간결</td><td>교육적 깊이 부족</td><td>운영·설계 표준</td></tr><tr><td>SDN (OpenFlow, P4)</td><td style=text-align:right>중앙 제어·정책 자동화</td><td>데이터센터 프로비저닝</td><td>유연성·자동화</td><td>복잡성·HA 필요</td><td>대규모 자동화·테넌시</td></tr></tbody></table><p><strong>요약 (표 아래)</strong><br>모델은 &rsquo; 어떤 관점으로 네트워크를 바라볼지 &rsquo; 의 문제.<br>OSI 는 이해·교육에, TCP/IP 는 실무에, SDN 은 중앙 정책·자동화가 필요한 대규모 환경에 적합하다.</p><h5 id=전송-프로토콜>전송 프로토콜<a hidden class=anchor aria-hidden=true href=#전송-프로토콜>#</a></h5><table><thead><tr><th>기술</th><th style=text-align:right>역할</th><th>대표 장점</th><th>대표 단점</th><th>적용 권장 상황</th></tr></thead><tbody><tr><td>TCP</td><td style=text-align:right>신뢰성·순서 보장</td><td>보편적·호환성</td><td>HOL-blocking(멀티플렉싱 한계)</td><td>전통적 웹/파일 전송</td></tr><tr><td>UDP</td><td style=text-align:right>비연결·저지연</td><td>단순·낮은 오버헤드</td><td>신뢰성 없음</td><td>실시간 미디어, 게임</td></tr><tr><td>QUIC / HTTP/3</td><td style=text-align:right>UDP 위의 신뢰성·멀티플렉싱</td><td>0-RTT, HOL 회피</td><td>중간장비 호환성, NAT/방화벽 문제</td><td>모바일·높은 RTT 환경, 실험 기반 전환</td></tr></tbody></table><p><strong>요약</strong><br>TCP 는 안정적이지만 멀티플렉싱 한계가 있다. QUIC 는 이를 보완하지만 네트워크 정책과 운영 관찰 (가시성) 측면 준비가 필요합니다.</p><h5 id=제어정책오케스트레이션>제어·정책·오케스트레이션<a hidden class=anchor aria-hidden=true href=#제어정책오케스트레이션>#</a></h5><table><thead><tr><th>기술</th><th style=text-align:right>역할</th><th>사용사례</th><th>장점</th><th>단점</th></tr></thead><tbody><tr><td>SDN (OpenFlow/P4)</td><td style=text-align:right>데이터/제어 평면 분리, 프로그래밍 가능</td><td>대규모 데이터센터, TE</td><td>중앙정책·동적 제어</td><td>컨트롤러 HA·성능 복잡</td></tr><tr><td>Service Mesh (Istio, Linkerd)</td><td style=text-align:right>서비스 간 트래픽·보안·관측</td><td>마이크로서비스 베이스</td><td>세밀한 트래픽 정책·mTLS</td><td>사이드카 오버헤드, 설정 복잡</td></tr><tr><td>API Gateway</td><td style=text-align:right>엣지에서 라우팅/인증</td><td>API 관리·정책 시행</td><td>단일 진입점, 인증 통합</td><td>단일 장애점, 스케일 필요</td></tr></tbody></table><p><strong>요약</strong><br>제어·정책 계층은 자동화·관측성 향상을 가져오지만, HA·성능·운영 인력 측면의 준비가 필수.</p><h5 id=엣지cdn분산-배포>엣지·CDN·분산 배포<a hidden class=anchor aria-hidden=true href=#엣지cdn분산-배포>#</a></h5><table><thead><tr><th>기술</th><th style=text-align:right>역할</th><th>장점</th><th>단점</th><th>적합 사례</th></tr></thead><tbody><tr><td>CDN (Akamai, Cloudflare)</td><td style=text-align:right>정적 콘텐츠 캐싱·전송 최적화</td><td>글로벌 전달·캐시 비용 절감</td><td>동적 콘텐츠 캐시 어려움</td><td>웹·미디어 전송</td></tr><tr><td>Edge Functions</td><td style=text-align:right>경량 컴퓨팅 (엣지)</td><td>저지연·맞춤 응답</td><td>분산 상태·데이터 일관성 문제</td><td>개인화·저지연 처리</td></tr><tr><td>GSLB / Anycast</td><td style=text-align:right>글로벌 트래픽 분산</td><td>로컬 라우팅·DR</td><td>DNS 기반 지연·복구 복잡</td><td>멀티리전 서비스 라우팅</td></tr></tbody></table><p><strong>요약</strong><br>엣지/CDN 은 사용자 경험 (지연 개선) 에 큰 이득을 주지만, 동적 컨텐츠·데이터 일관성문제는 설계에서 해결해야 한다.</p><h5 id=보안접근>보안·접근<a hidden class=anchor aria-hidden=true href=#보안접근>#</a></h5><table><thead><tr><th>기술/접근</th><th style=text-align:right>역할</th><th>장점</th><th>단점</th><th>권장 사용</th></tr></thead><tbody><tr><td>TLS 1.3 / mTLS</td><td style=text-align:right>전송·서비스간 암호화</td><td>강력 보안·성능 개선</td><td>키 관리 필요</td><td>전송보안 기본</td></tr><tr><td>WAF</td><td style=text-align:right>L7 공격 방어</td><td>SQLi, XSS 방어</td><td>규칙 튜닝 필요</td><td>인터넷 공개 앱</td></tr><tr><td>Zero Trust / SASE</td><td style=text-align:right>위치무관 정책</td><td>중앙정책·세밀 통제</td><td>복잡한 적용·운영</td><td>분산·BYOD 환경</td></tr></tbody></table><p><strong>요약</strong><br>기본은 TLS/mTLS + 네트워크 분리. WAF·Zero Trust 는 위협 모델·조직 역량에 따라 단계적 도입.</p><h5 id=관측성디버깅>관측성·디버깅<a hidden class=anchor aria-hidden=true href=#관측성디버깅>#</a></h5><table><thead><tr><th>도구/방식</th><th style=text-align:right>역할</th><th>장점</th><th>단점</th></tr></thead><tbody><tr><td>Wireshark/tcpdump</td><td style=text-align:right>패킷 캡처·프로토콜 분석</td><td>계층별 상세 디코드</td><td>스케일·암호화 한계</td></tr><tr><td>eBPF / XDP</td><td style=text-align:right>호스트·네트워크 가시성</td><td>낮은 오버헤드·유연</td><td>개발 난이도</td></tr><tr><td>OpenTelemetry / Jaeger</td><td style=text-align:right>분산 트레이스</td><td>서비스 수준 추적</td><td>계측 부담</td></tr><tr><td>qlog (QUIC)</td><td style=text-align:right>QUIC 연결 로그</td><td>QUIC 특이 문제 진단</td><td>표준화·툴링 필요</td></tr></tbody></table><p><strong>요약</strong><br>관측성은 복합적 접근 (패킷·플로우·호스트·트레이스) 으로 해결. 암호화 시대엔 호스트·메타데이터 기반 방법 (eBPF, qlog) 이 중요.</p><h5 id=데이터스토리지전달>데이터/스토리지/전달<a hidden class=anchor aria-hidden=true href=#데이터스토리지전달>#</a></h5><table><thead><tr><th>기술</th><th style=text-align:right>역할</th><th>장점</th><th>단점</th></tr></thead><tbody><tr><td>캐시 (Redis, CDN)</td><td style=text-align:right>응답성 개선</td><td>응답속도·로드 감소</td><td>일관성 관리 필요</td></tr><tr><td>IPFS / 분산저장</td><td style=text-align:right>콘텐츠 주소화</td><td>탈중앙 저장·복제</td><td>실시간성·정합성 이슈</td></tr><tr><td>GSLB</td><td style=text-align:right>글로벌 트래픽 라우팅</td><td>장애복원·최적 라우팅</td><td>DNS 캐시 문제</td></tr></tbody></table><p><strong>요약</strong><br>데이터 레이어 설계는 성능 (캐시)·일관성 (쓰기 모델)·거버넌스 (데이터 주권) 을 함께 고려.</p><h5 id=도입운영-관점>도입·운영 관점<a hidden class=anchor aria-hidden=true href=#도입운영-관점>#</a></h5><table><thead><tr><th>항목</th><th style=text-align:right>고려사항</th><th>영향</th></tr></thead><tbody><tr><td>운영 복잡성</td><td style=text-align:right>적용 기술이 운영 역량에 맞는가?</td><td>유지비용·사고복구 시간</td></tr><tr><td>비용 모델</td><td style=text-align:right>인프라·라이선스·인력 비용</td><td>TCO 영향</td></tr><tr><td>상호운용성</td><td style=text-align:right>레거시와 호환되는가?</td><td>도입 리스크</td></tr><tr><td>규제/컴플라이언스</td><td style=text-align:right>데이터주권·보존 요구</td><td>설계·감사 부담</td></tr></tbody></table><p><strong>요약</strong><br>기술 선택은 기술 자체만이 아니라 <strong>운영 능력·비용·규제</strong>를 종합해 결정해야 실패 리스크를 줄일 수 있다.</p><hr><h2 id=최종-정리-및-학습-가이드>최종 정리 및 학습 가이드<a hidden class=anchor aria-hidden=true href=#최종-정리-및-학습-가이드>#</a></h2><h3 id=내용-종합>내용 종합<a hidden class=anchor aria-hidden=true href=#내용-종합>#</a></h3><p>TCP/IP 4 계층은 인터넷 실무의 표준 참조 모델로서 응용 - 전송 - 인터넷 - 네트워크접근의 흐름을 단순화해 운영에 유리하다. 반면 교육·분석 목적의 OSI 7 계층 모델은 문제 격리와 설계 논의에 매우 유용하다.</p><p>현대 서비스는 TLS 1.3 로 전송 보안을 확보하고, HTTP/2/3 및 QUIC 같은 전송 기술로 사용자 체감 속도 (지연) 를 개선한다. 그러나 QUIC 는 UDP 기반 특성으로 인해 방화벽·NAT·중간 장비와의 호환성 문제 및 관측성 손실 (qlog 등 미구비) 이 존재한다.<br>서비스메시와 SDN 은 세밀한 트래픽 제어·정책·관측을 가능하게 하지만, 사이드카 오버헤드나 중앙 제어의 HA 설계 같은 운영적 제약을 요구한다.</p><p>따라서 현업에서는 새로운 기술을 도입할 때 <strong>성능·보안·운영성 (관측성)·규제 준수</strong>를 통합적으로 검토하고, 단계적 마이그레이션 (POC → 카나리 → 전면 전환) 을 권장한다.</p><h3 id=실무-적용-가이드>실무 적용 가이드<a hidden class=anchor aria-hidden=true href=#실무-적용-가이드>#</a></h3><table><thead><tr><th>분류</th><th>핵심 액션</th><th style=text-align:right>우선순위</th><th>권장 도구/산출물</th><th style=text-align:right>권장 적용 기간</th><th>주의사항</th></tr></thead><tbody><tr><td>준비</td><td>기존 네트워크 OSI↔TCP/IP 매핑 문서화 (서비스별)</td><td style=text-align:right>높음</td><td>매핑 템플릿 (엑셀/Confluence), 네트워크 인벤토리</td><td style=text-align:right>1–2 주</td><td>팀 합의된 용어 사전 필요</td></tr><tr><td>교육</td><td>실무 시나리오 기반 교육 (트러블슈팅 랩)</td><td style=text-align:right>높음</td><td>워크숍 자료, 랩 환경 (Docker/K8s)</td><td style=text-align:right>2–4 주</td><td>실전 사례 중심으로 진행</td></tr><tr><td>모니터링</td><td>계층별 메트릭·플로우·트레이스 표준 수립</td><td style=text-align:right>매우 높음</td><td>Prometheus, Grafana, Jaeger, NetFlow collector, qlog 수집기</td><td style=text-align:right>2–6 주</td><td>샘플링·보존 정책 명시</td></tr><tr><td>SLO/Alert</td><td>SLO 정의 → Alert 룰 (에러 예산 연계) 적용</td><td style=text-align:right>매우 높음</td><td>SLO 문서, Prometheus Alertmanager</td><td style=text-align:right>1–2 주</td><td>임계값은 히스토리 기반 검증 필요</td></tr><tr><td>Playbook</td><td>계층별 진단·완화 Playbook 작성 (Runbook)</td><td style=text-align:right>높음</td><td>Runbook 템플릿, 자동화 스크립트</td><td style=text-align:right>2–4 주</td><td>자동화 전 수동 검증 필수</td></tr><tr><td>테스트</td><td>QUIC/H3 호환성 테스트 (미들박스 포함)</td><td style=text-align:right>높음</td><td>테스트 케이스, qlog 분석, WAF/ADC 로그</td><td style=text-align:right>2–6 주</td><td>0-RTT 정책·재생공격 검증 필요</td></tr><tr><td>전환</td><td>IPv6 듀얼스택→IPv6-only 전환 파일럿</td><td style=text-align:right>중간</td><td>NAT64/DNS64 구성, dual-stack 모니터링</td><td style=text-align:right>4–12 주 (점진)</td><td>레거시 종속 서비스 분석 필요</td></tr><tr><td>보안</td><td>TLS/키관리·ALPN 정책 표준화, 미들박스 호환성 검증</td><td style=text-align:right>매우 높음</td><td>TLS 정책 문서, 키 회전 절차, WAF 테스트</td><td style=text-align:right>1–3 주</td><td>암호화 정책은 규정/성능 균형 필요</td></tr><tr><td>자동화</td><td>IaC(네트워크), Alert→Runbook 자동화 구현</td><td style=text-align:right>높음</td><td>Terraform/Ansible, webhook, Rundeck</td><td style=text-align:right>4–12 주</td><td>자동화에는 안전중단 (rollback) 규칙 포함</td></tr><tr><td>관측 강화</td><td>qlog·trace·로그 통합, PCAP 샘플링 정책</td><td style=text-align:right>높음</td><td>qlog 표준, OpenTelemetry, Loki/ELK</td><td style=text-align:right>2–6 주</td><td>민감데이터 마스킹 정책 필수</td></tr><tr><td>성능</td><td>계층별 성능 베이스라인·벤치마크 수립</td><td style=text-align:right>중간</td><td>fortio/httperf/iperf3, 실험 스크립트</td><td style=text-align:right>2–4 주</td><td>테스트 환경과 프로덕션 차이 주의</td></tr><tr><td>Anycast</td><td>Anycast 캐시·세션 일관성 검증</td><td style=text-align:right>중간</td><td>BGP lab(FRR/Quagga), 캐시 히트/미스 지표</td><td style=text-align:right>4–8 주</td><td>캐시 키·sticky 전략 설계 필요</td></tr><tr><td>운영</td><td>정기 DR/Chaos 실습, Postmortem 문화 정착</td><td style=text-align:right>매우 높음</td><td>Chaos Toolkit, Runbook, RCA 템플릿</td><td style=text-align:right>지속적</td><td>문서화·액션 아이템 추적 필수</td></tr><tr><td>규정·컴플라이언스</td><td>IANA 포트/로그 보존·암호화 표준 준수</td><td style=text-align:right>중간</td><td>정책 문서, 감사 체크리스트</td><td style=text-align:right>1–3 주</td><td>법적 요구사항 확인 필요</td></tr></tbody></table><h3 id=학습-로드맵>학습 로드맵<a hidden class=anchor aria-hidden=true href=#학습-로드맵>#</a></h3><table><thead><tr><th style=text-align:right>Phase</th><th style=text-align:center>권장 기간</th><th style=text-align:left>목표 (학습 outcome)</th><th style=text-align:left>핵심 학습 항목</th><th style=text-align:left>핵심 실습/산출물</th></tr></thead><tbody><tr><td style=text-align:right>1. 기초</td><td style=text-align:center>2 주</td><td style=text-align:left>네트워크의 개념적 틀과 PDU 이해, TCP/IP 매핑</td><td style=text-align:left>OSI 7 계층 vs TCP/IP, 캡슐화/디캡슐화, IP/TCP/UDP/DNS 기본</td><td style=text-align:left>요약 노트 + Wireshark 로 L1→L7 패킷 캡슐화 캡처 리포트</td></tr><tr><td style=text-align:right>2. 구현</td><td style=text-align:center>3 주</td><td style=text-align:left>소켓/HTTP 동작·패킷 분석·간단 프로토콜 실습</td><td style=text-align:left>소켓 프로그래밍, HTTP/1.1·2·TLS, 패킷분석 (Wireshark/Scapy)</td><td style=text-align:left>간단 HTTP 서버/클라이언트 + 패킷분석 실습 리포트</td></tr><tr><td style=text-align:right>3. 운영·관측</td><td style=text-align:center>3 주</td><td style=text-align:left>모니터링·SLO 설계·성능 튜닝 실무 역량</td><td style=text-align:left>RED/USE, Prometheus/Grafana, 로드밸런싱 개념, AQM/ECN 개요</td><td style=text-align:left>대시보드 (요청률/latency/err), SLO 작성서, 부하테스트 결과</td></tr><tr><td style=text-align:right>4. 고급</td><td style=text-align:center>4 주</td><td style=text-align:left>차세대 전송·데이터플레인 관측·자동화 이해 및 PoC</td><td style=text-align:left>QUIC/HTTP3, BBR/혼잡제어, eBPF 관측, SDN/IBN 기초</td><td style=text-align:left>HTTP/3 A/B 테스트 리포트, eBPF 간단 스크립트 + 트레이스, 자동화 PoC 문서</td></tr></tbody></table><h3 id=학습-항목>학습 항목<a hidden class=anchor aria-hidden=true href=#학습-항목>#</a></h3><table><thead><tr><th style=text-align:right>Phase</th><th>주제</th><th>세부 항목</th><th>실습/과제</th><th>평가지표</th></tr></thead><tbody><tr><td style=text-align:right>1 기초</td><td>계층·PDU</td><td>OSI 7 계층, TCP/IP 매핑, 캡슐화</td><td>Wireshark 로 L7→L1 캡쳐 및 캡슐화 설명 리포트</td><td>캡슐화 단계별 PDU 식별 정확도</td></tr><tr><td style=text-align:right>1 기초</td><td>프로토콜 기초</td><td>IP 헤더/TTL/DF, TCP SEQ/ACK, UDP</td><td>tcpdump 로 SYN/ACK/재전송 패턴 캡처</td><td>재전송·순서검증 사례 분석</td></tr><tr><td style=text-align:right>2 구현</td><td>소켓·HTTP</td><td>TCP 소켓, 비동기 소켓, HTTP/1.1/2 기본</td><td>Python/Node 로 간단 HTTP 서버 구현, TLS 적용</td><td>요청/응답 정상성·성능 (초당 요청)</td></tr><tr><td style=text-align:right>2 구현</td><td>패킷분석</td><td>Wireshark 필터, Scapy 패킷 생성</td><td>Scapy 로 패킷 조작·재생 실습</td><td>패킷 재생 성공 여부</td></tr><tr><td style=text-align:right>3 운영</td><td>모니터링</td><td>RED/USE, p50/95/99, 히스토그램</td><td>Prometheus + Grafana 대시보드 구성</td><td>대시보드가 p95·에러율 식별 가능 여부</td></tr><tr><td style=text-align:right>3 운영</td><td>튜닝</td><td>LB 알고리즘, AQM(FQ-CoDel), ECN</td><td>로컬 LB(nginx) 설정 변경 후 부하테스트</td><td>지연·드롭률 개선 (비교 리포트)</td></tr><tr><td style=text-align:right>4 고급</td><td>전송 혁신</td><td>QUIC/HTTP3, 혼잡제어 (BBR)</td><td>HTTP/3 활성화 A/B, 지연/처리량 비교 테스트</td><td>p95 개선·처리량 지표 비교</td></tr><tr><td style=text-align:right>4 고급</td><td>데이터플레인</td><td>eBPF 관측, io_uring 기본</td><td>Cilium/eBPF 예제 배포·trace 수집</td><td>트레이스로 병목 지점 식별 성공 여부</td></tr><tr><td style=text-align:right>4 고급</td><td>자동화</td><td>IaC(네트워크), IBN PoC</td><td>간단 정책 → 자동 반영 PoC (Ansible/Flux)</td><td>정책 적용 자동화 성공·안전 롤백 테스트</td></tr></tbody></table><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th style=text-align:right>카테고리</th><th>용어 (표기)</th><th>정의</th><th>관련 개념</th><th>실무 활용</th></tr></thead><tbody><tr><td style=text-align:right>핵심</td><td>OSI 모델 (OSI—Open Systems Interconnection)</td><td>네트워크 기능을 7 계층으로 분리한 참조 모델</td><td>ISO/IEC 7498-1, 계층화</td><td>학습·설계·문제해결의 개념적 기준</td></tr><tr><td style=text-align:right>핵심</td><td>계층화 (Layering)</td><td>복잡성을 분리해 독립적 모듈로 설계하는 원칙</td><td>모듈화, 추상화</td><td>프로토콜·SW 아키텍처 설계</td></tr><tr><td style=text-align:right>핵심</td><td>프로토콜 데이터 단위—PDU (PDU(Protocol Data Unit))</td><td>각 계층에서 처리하는 단위 데이터 (비트/프레임/패킷/세그먼트 등)</td><td>캡슐화, SDU</td><td>패킷/프로토콜 분석 기준</td></tr><tr><td style=text-align:right>핵심</td><td>서비스 접근점 (SAP) (SAP—Service Access Point)</td><td>상위 계층이 하위 계층의 서비스를 호출하는 접점</td><td>인터페이스, API</td><td>계층 간 인터페이스 설계</td></tr><tr><td style=text-align:right>핵심</td><td>캡슐화 (Encapsulation) (Encapsulation)</td><td>상위 PDU 에 하위 계층 헤더/트레일러를 추가하는 과정</td><td>PDU, 헤더</td><td>패킷 생성·디버깅</td></tr><tr><td style=text-align:right>핵심</td><td>역캡슐화 (Decapsulation) (Decapsulation)</td><td>수신측에서 하위 계층 헤더를 제거해 상위로 전달하는 과정</td><td>PDU, 파싱</td><td>네트워크 스택 구현/디코드</td></tr><tr><td style=text-align:right>핵심</td><td>SDU (Service Data Unit) (SDU—Service Data Unit)</td><td>계층 간 전달되는 데이터 (서비스 관점)</td><td>PDU, SAP</td><td>계층 간 데이터 계약</td></tr><tr><td style=text-align:right>프로토콜</td><td>TCP (TCP—Transmission Control Protocol)</td><td>연결형, 신뢰성 전송 프로토콜 (전송계층)</td><td>UDP, QUIC, 포트</td><td>흐름·혼잡 제어, 연결형 통신</td></tr><tr><td style=text-align:right>프로토콜</td><td>UDP (UDP—User Datagram Protocol)</td><td>비연결형, 단순 전송 프로토콜 (전송계층)</td><td>TCP, QUIC</td><td>실시간/저지연 데이터 (VoIP, DNS)</td></tr><tr><td style=text-align:right>프로토콜</td><td>QUIC (QUIC—Quick UDP Internet Connections)</td><td>UDP 위에서 전송 + 보안 (암호화) 제공, 연결 재개·다중 스트림 지원</td><td>HTTP/3, TLS, UDP</td><td>웹 성능 향상 (HTTP/3)</td></tr><tr><td style=text-align:right>프로토콜</td><td>IP (IP—Internet Protocol)</td><td>논리적 주소 지정과 패킷 전달 (네트워크계층)</td><td>IPv4/IPv6, ICMP</td><td>라우팅·주소관리</td></tr><tr><td style=text-align:right>프로토콜</td><td>ICMP (ICMP—Internet Control Message Protocol)</td><td>진단·오류 보고용 메시지 (네트워크계층)</td><td>ping, traceroute, PMTUD</td><td>경로 진단, 오류 보고</td></tr><tr><td style=text-align:right>프로토콜</td><td>ARP (ARP—Address Resolution Protocol)</td><td>IPv4 주소를 MAC 으로 변환 (L2 경계)</td><td>ND(IPv6)</td><td>LAN 내 주소 해석</td></tr><tr><td style=text-align:right>프로토콜</td><td>ND (Neighbor Discovery)</td><td>IPv6 의 이웃/라우터 탐색 및 주소 자동구성</td><td>SLAAC, ICMPv6</td><td>IPv6 네트워크 운영</td></tr><tr><td style=text-align:right>프로토콜</td><td>BGP (BGP—Border Gateway Protocol)</td><td>자율 시스템 간 라우팅 (인터넷 경로 제어)</td><td>RPKI, route filtering</td><td>인터넷 라우팅 정책</td></tr><tr><td style=text-align:right>프로토콜</td><td>OSPF (OSPF—Open Shortest Path First)</td><td>내부 게이트웨이 라우팅 프로토콜 (IGP)</td><td>IS-IS, routing area</td><td>데이터센터/망내 라우팅</td></tr><tr><td style=text-align:right>링크/물리</td><td>MTU (MTU—Maximum Transmission Unit)</td><td>링크별 전송 가능한 최대 페이로드 크기 (L2)</td><td>MSS, fragmentation</td><td>MTU 블랙홀 문제 진단/설정</td></tr><tr><td style=text-align:right>링크/물리</td><td>MSS (MSS—Maximum Segment Size)</td><td>TCP 세그먼트의 최대 페이로드 크기</td><td>MTU, TCP</td><td>세그먼트 튜닝</td></tr><tr><td style=text-align:right>링크/물리</td><td>PMTUD (PMTUD—Path MTU Discovery)</td><td>경로상의 최소 MTU 자동 탐색 절차</td><td>ICMP DF, MSS clamping</td><td>MTU 일관성 확보</td></tr><tr><td style=text-align:right>링크/물리</td><td>이더넷 (Ethernet)</td><td>LAN 물리/데이터링크 표준 (IEEE 802.3)</td><td>VLAN, MAC</td><td>LAN 설계·구성</td></tr><tr><td style=text-align:right>링크/물리</td><td>VLAN (VLAN—Virtual LAN)</td><td>논리적 LAN 분리 (스위치 수준)</td><td>802.1Q, 트렁크</td><td>트래픽 분리·보안</td></tr><tr><td style=text-align:right>링크/물리</td><td>STP (STP—Spanning Tree Protocol)</td><td>이중화 루프 방지 프로토콜</td><td>RSTP, MSTP</td><td>스위치 토폴로지 안정화</td></tr><tr><td style=text-align:right>링크/물리</td><td>LACP (LACP—Link Aggregation Control Protocol)</td><td>다중 물리 링크를 하나의 논리 링크로 묶음</td><td>LAG, bonding</td><td>대역폭 증대·이중화</td></tr><tr><td style=text-align:right>전송/성능</td><td>TSO/GSO/GRO/LRO (TCP/Generic Segmentation/Receive Offloads)</td><td>NIC/OS 차원의 세그먼트 분할·병합 오프로드</td><td>SR-IOV, SmartNIC</td><td>CPU 사용량 감소·throughput 증가</td></tr><tr><td style=text-align:right>전송/성능</td><td>SR-IOV (SR-IOV—Single Root I/O Virtualization)</td><td>물리 NIC 를 다수 가상 함수로 분할하는 기술</td><td>DPDK, VF, PF</td><td>가상화 환경 NIC 성능 개선</td></tr><tr><td style=text-align:right>전송/성능</td><td>BBR / CUBIC (혼잡제어 알고리즘)</td><td>TCP 혼잡제어 알고리즘 (대역폭·지연 최적화)</td><td>loss-based, delay-based</td><td>혼잡 제어 정책 선택·튜닝</td></tr><tr><td style=text-align:right>전송/성능</td><td>QUIC 튜닝 (QUIC)</td><td>초기 CWND, PTO, 0-RTT 정책 등</td><td>HTTP/3, TLS 1.3</td><td>웹 지연 개선 실험</td></tr><tr><td style=text-align:right>관측/운영</td><td>NetFlow / IPFIX (NetFlow/IPFIX)</td><td>플로우 기반 트래픽 관측 표준</td><td>sFlow, eBPF</td><td>트래픽 분석·보안·청구</td></tr><tr><td style=text-align:right>관측/운영</td><td>eBPF / XDP (eBPF/XDP)</td><td>커널 레벨 패킷·프로세스 관측·처리 프레임워크</td><td>BCC, libbpf</td><td>고성능 관측·필터링</td></tr><tr><td style=text-align:right>관측/운영</td><td>OpenTelemetry (OTel)</td><td>분산 추적・메트릭・로그 표준 프레임워크</td><td>Jaeger, Prometheus</td><td>애플리케이션 관측성 강화</td></tr><tr><td style=text-align:right>관측/운영</td><td>APM (Application Performance Monitoring)</td><td>애플리케이션 성능 모니터링 툴</td><td>traces, metrics, logs</td><td>응답속도·에러 모니터링</td></tr><tr><td style=text-align:right>보안</td><td>TLS (TLS—Transport Layer Security)</td><td>전송계층 상·하의 데이터 암호화 표준</td><td>SSL, ALPN, SNI</td><td>보안 통신, 인증</td></tr><tr><td style=text-align:right>보안</td><td>ALPN (ALPN—Application-Layer Protocol Negotiation)</td><td>TLS 에서 상위 프로토콜 협상</td><td>TLS, HTTP/2</td><td>프로토콜 협상 (HTTP/2/3)</td></tr><tr><td style=text-align:right>보안</td><td>DAI (Dynamic ARP Inspection)</td><td>스위치 기반 ARP 스푸핑 방지 기능</td><td>DHCP Snooping</td><td>L2 보안 강화</td></tr><tr><td style=text-align:right>보안</td><td>RPKI (RPKI—Resource Public Key Infrastructure)</td><td>BGP 경로 검증을 위한 인증 인프라</td><td>BGP, prefix filter</td><td>BGP 하이재킹 완화</td></tr><tr><td style=text-align:right>배포/아키텍처</td><td>CDN (CDN—Content Delivery Network)</td><td>전세계 엣지에 콘텐츠 캐시 제공</td><td>캐싱, TTL</td><td>정적 컨텐츠 지연 감소</td></tr><tr><td style=text-align:right>배포/아키텍처</td><td>LB (Load Balancer)</td><td>트래픽을 여러 서버로 분산</td><td>L4/L7, health check</td><td>가용성·부하분산</td></tr><tr><td style=text-align:right>배포/아키텍처</td><td>Stateless (무상태)</td><td>요청 처리에 세션 상태를 서버에 저장하지 않는 설계</td><td>토큰, JWT</td><td>수평 확장 (autoscale) 용이</td></tr><tr><td style=text-align:right>배포/아키텍처</td><td>샤딩 / 파티셔닝</td><td>데이터 분할로 스토리지·DB 확장</td><td>consistent hashing</td><td>대규모 데이터 확장</td></tr><tr><td style=text-align:right>최신/경향</td><td>SDN (SDN—Software Defined Networking)</td><td>제어평면과 데이터평면 분리하여 중앙 제어</td><td>OpenFlow, controller</td><td>동적 네트워크 정책·자동화</td></tr><tr><td style=text-align:right>최신/경향</td><td>SD-WAN (SD-WAN)</td><td>소프트웨어 정의 기반 WAN 최적화</td><td>SASE, overlay</td><td>지사망 트래픽 최적화</td></tr><tr><td style=text-align:right>최신/경향</td><td>SASE (SASE—Secure Access Service Edge)</td><td>클라우드 기반 네트워크 + 보안 통합 모델</td><td>SD-WAN, CASB</td><td>원격·클라우드 보안 접근</td></tr><tr><td style=text-align:right>도구</td><td>Wireshark (Wireshark)</td><td>패킷 캡처·분석 툴</td><td>tcpdump, tshark</td><td>패킷 레벨 디버깅</td></tr><tr><td style=text-align:right>도구</td><td>iperf3 (iperf3)</td><td>네트워크 대역폭 성능 테스트 도구</td><td>netperf</td><td>throughput 벤치마크</td></tr><tr><td style=text-align:right>도구</td><td>tc / netem (tc/netem)</td><td>리눅스에서 지연·손실 등 네트워크 조건 시뮬레이션</td><td>qdisc</td><td>장애·성능 시뮬레이션</td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><ul><li><a href=https://www.geeksforgeeks.org/open-systems-interconnection-model-osi/>GeeksforGeeks - OSI Model</a></li><li><a href=https://www.cloudflare.com/learning/ddos/glossary/open-systems-interconnection-model-osi/>Cloudflare - What is the OSI Model?</a></li><li><a href=https://aws.amazon.com/what-is/osi-model/>AWS - What is the OSI Model?</a></li><li><a href=https://www.ibm.com/think/topics/osi-model>IBM - What Is the OSI Model?</a></li><li><a href=https://en.wikipedia.org/wiki/OSI_model>Wikipedia - OSI model</a></li><li><a href=https://www.imperva.com/learn/application-security/osi-model/>Imperva - What is OSI Model</a></li><li><a href=https://www.bmc.com/blogs/osi-model-7-layers/>BMC Software - OSI Model: The 7 Layers of Network Architecture</a></li><li><a href=https://www.iso.org/standard/20269.html>ISO/IEC 7498-1 (ISO 페이지)</a></li><li><a href=https://www.wireshark.org/>Wireshark - Packet Analysis Tool</a></li><li><a href=https://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xhtml>IANA Service Name and Transport Protocol Port Number Registry</a></li><li><a href=https://datatracker.ietf.org/>IETF Datatracker (RFC 검색) — 일반 진입점</a></li><li><a href=https://www.rfc-editor.org/rfc/rfc8446>RFC 8446 — TLS 1.3 (RFC Editor)</a></li><li><a href=https://www.rfc-editor.org/rfc/rfc9000>RFC 9000 — QUIC (RFC Editor)</a></li><li><a href=https://www.rfc-editor.org/rfc/rfc9293>RFC 9293 — TCP (RFC Editor)</a></li><li><a href=https://www.cisco.com/c/en/us/solutions/enterprise-networks/what-is-the-osi-model.html>Cisco - Understanding the OSI Model</a></li><li><a href=https://www.netacad.com/courses/networking/ccna-introduction-networks>NetAcad (Cisco Networking Academy)</a></li></ul><hr></div></main><script type=module>
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
  </script><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>