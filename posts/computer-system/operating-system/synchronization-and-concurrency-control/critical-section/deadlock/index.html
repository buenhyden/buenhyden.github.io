<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>교착상태 (Deadlock) | hyunyoun's Blog</title>
<meta name=keywords content="Computer-System,Operating-System,Synchronization-and-Concurrency-Control,Critical-Section,Synchronization,Concurrency-Control,Deadlock"><meta name=description content="둘 이상의 프로세스가 서로가 가진 자원을 기다리며 더 이상 진행할 수 없는 상태"><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/computer-system/operating-system/synchronization-and-concurrency-control/critical-section/deadlock/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.9a2bbe2d8b5afa9d4df22976abb7b72f1f7f1c467d2b30f03090108f9496ae6c.css integrity="sha256-miu+LYta+p1N8il2q7e3Lx9/HEZ9KzDwMJAQj5SWrmw=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/computer-system/operating-system/synchronization-and-concurrency-control/critical-section/deadlock/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/computer-system/operating-system/synchronization-and-concurrency-control/critical-section/deadlock/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="교착상태 (Deadlock)"><meta property="og:description" content="둘 이상의 프로세스가 서로가 가진 자원을 기다리며 더 이상 진행할 수 없는 상태"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-10-03T23:24:00+00:00"><meta property="article:modified_time" content="2024-10-03T23:24:00+00:00"><meta property="article:tag" content="Computer-System"><meta property="article:tag" content="Operating-System"><meta property="article:tag" content="Synchronization-and-Concurrency-Control"><meta property="article:tag" content="Critical-Section"><meta property="article:tag" content="Synchronization"><meta property="article:tag" content="Concurrency-Control"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="교착상태 (Deadlock)"><meta name=twitter:description content="둘 이상의 프로세스가 서로가 가진 자원을 기다리며 더 이상 진행할 수 없는 상태"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"posts","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Computer System","item":"https://buenhyden.github.io/posts/computer-system/"},{"@type":"ListItem","position":3,"name":"Operating System","item":"https://buenhyden.github.io/posts/computer-system/operating-system/"},{"@type":"ListItem","position":4,"name":"Synchronization and Concurrency Control","item":"https://buenhyden.github.io/posts/computer-system/operating-system/synchronization-and-concurrency-control/"},{"@type":"ListItem","position":5,"name":"임계 영역 (Critical Section)","item":"https://buenhyden.github.io/posts/computer-system/operating-system/synchronization-and-concurrency-control/critical-section/"},{"@type":"ListItem","position":6,"name":"교착상태 (Deadlock)","item":"https://buenhyden.github.io/posts/computer-system/operating-system/synchronization-and-concurrency-control/critical-section/deadlock/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"교착상태 (Deadlock)","name":"교착상태 (Deadlock)","description":"둘 이상의 프로세스가 서로가 가진 자원을 기다리며 더 이상 진행할 수 없는 상태","keywords":["Computer-System","Operating-System","Synchronization-and-Concurrency-Control","Critical-Section","Synchronization","Concurrency-Control","Deadlock"],"articleBody":"교착상태 (Deadlock) 둘 이상의 프로세스가 서로가 가진 자원을 기다리며 무한정 대기하는 상황\nSource: https://www.geeksforgeeks.org/deadlock-system-model/\n교착상태를 시뮬레이션하는 예제:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 import threading import time class Resource: def __init__(self, name): self.name = name self.lock = threading.Lock() def acquire(self, process_name): print(f\"{process_name}가 {self.name} 획득 시도\") self.lock.acquire() print(f\"{process_name}가 {self.name} 획득 성공\") def release(self, process_name): print(f\"{process_name}가 {self.name} 반환\") self.lock.release() def process_task(process_name, first_resource, second_resource): \"\"\" 교착상태를 발생시키는 프로세스 작업을 시뮬레이션합니다. 각 프로세스는 두 개의 자원을 순차적으로 획득하려 시도합니다. \"\"\" try: # 첫 번째 자원 획득 first_resource.acquire(process_name) print(f\"{process_name}가 작업 중…\") time.sleep(1) # 다른 프로세스가 두 번째 자원을 획득할 시간을 줌 # 두 번째 자원 획득 시도 second_resource.acquire(process_name) print(f\"{process_name}가 모든 자원 획득 성공\") # 작업 수행 time.sleep(1) # 자원 반환 second_resource.release(process_name) first_resource.release(process_name) except Exception as e: print(f\"{process_name} 오류 발생: {e}\") def main(): # 두 개의 자원 생성 resource_A = Resource(\"Resource A\") resource_B = Resource(\"Resource B\") # 두 개의 프로세스 생성 # Process 1은 A -\u003e B 순서로 자원 획득 시도 # Process 2는 B -\u003e A 순서로 자원 획득 시도 process1 = threading.Thread( target=process_task, args=(\"Process 1\", resource_A, resource_B) ) process2 = threading.Thread( target=process_task, args=(\"Process 2\", resource_B, resource_A) ) # 프로세스 시작 process1.start() process2.start() # 프로세스 종료 대기 process1.join() process2.join() if __name__ == \"__main__\": print(\"교착상태 시뮬레이션 시작\") main() print(\"시뮬레이션 종료\") Deadlock이 발생하기 위한 필요 조건 Deadlock이 발생하기 위해서는 다음 네 가지 조건이 모두 충족되어야 한다:\n상호 배제(Mutual Exclusion)\n하나의 자원은 한 번에 하나의 프로세스만 사용할 수 있다.\n1 lock = threading.Lock() # 한 번에 하나의 스레드만 획득 가능 점유와 대기(Hold and Wait)\n자원을 가진 프로세스가 다른 자원을 기다리는 상태가 발생한다.\n1 2 with self.lock: # 첫 번째 락을 보유한 상태에서 with other.lock: # 두 번째 락을 기다림 선점 불가(No Preemption)\n다른 프로세스의 자원을 강제로 빼앗을 수 없다.\n순환 대기(Circular Wait)\n프로세스들이 순환적으로 서로의 자원을 기다린다.\n교착상태 해결책 및 방지책 교착상태를 해결하거나 방지하기 위한 여러 방법이 있다:\n예방(Prevention) 교착상태 발생 조건 중 하나 이상을 제거하여 교착상태를 방지한다:\n상호 배제 부정: 자원을 공유 가능하게 만든다. 점유와 대기 부정: 프로세스가 실행되기 전 모든 필요한 자원을 할당받도록 한다. 비선점 부정: 자원을 강제로 회수할 수 있게 한다. 순환 대기 부정: 자원에 번호를 부여하고 오름차순으로만 요청하도록 한다. 회피(Avoidance) 시스템의 상태를 지속적으로 검사하여 안전한 상태를 유지한다.\n대표적인 방법으로 은행원 알고리즘(Banker’s Algorithm)이 있다.\n탐지 및 복구(Detection and Recovery) 교착상태를 탐지하고, 발생 시 복구하는 방법이다:\n프로세스 종료: 교착상태에 있는 프로세스를 종료한다. 자원 선점: 교착상태에 있는 프로세스로부터 자원을 강제로 회수한다다. 실제 시스템에서의 교착상태 예방 전략 시스템 설계 단계에서의 예방\n자원 할당 순서 정의 자원 사용 시간 제한 작업 우선순위 설정 자원 할당 그래프 관리 운영 단계에서의 모니터링\n자원 사용량 실시간 모니터링 교착상태 감지 시스템 구축 로그 분석 및 패턴 파악 복구 전략 수립\n체계적인 프로세스 종료 절차 자원 회수 메커니즘 백업 시스템 운영 실제 사례와 해결 방안 데이터베이스 시스템의 교착상태: 트랜잭션 타임아웃 설정 락 에스컬레이션 방지 트랜잭션 격리 수준 적절히 설정 운영체제의 교착상태: 자원 할당 알고리즘 최적화 프로세스 우선순위 동적 조정 자원 사용 모니터링 강화 고려사항 및 주의사항 성능과 안전성 균형\n과도한 교착상태 방지 메커니즘은 성능 저하 초래 시스템 특성에 맞는 적절한 수준 설정 필요 확장성 고려\n시스템 규모 증가에 따른 교착상태 위험 증가 확장 가능한 모니터링 시스템 구축 테스트 및 검증\n다양한 시나리오에서의 교착상태 테스트 정기적인 시스템 점검 및 모니터링 모범 사례 자원 할당 전략\n필요한 최소한의 자원만 할당 자원 사용 시간 최소화 자원 해제 즉시 수행 모니터링 및 로깅\n상세한 로그 기록 유지 실시간 모니터링 시스템 구축 주기적인 시스템 상태 점검 시스템 설계\n모듈화된 설계로 교착상태 영향 범위 최소화 명확한 자원 할당 정책 수립 효율적인 복구 메커니즘 구현 참고 및 출처 ","wordCount":"632","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-10-03T23:24:00Z","dateModified":"2024-10-03T23:24:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/computer-system/operating-system/synchronization-and-concurrency-control/critical-section/deadlock/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>posts</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/computer-system/>Computer System</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/computer-system/operating-system/>Operating System</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/computer-system/operating-system/synchronization-and-concurrency-control/>Synchronization and Concurrency Control</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/computer-system/operating-system/synchronization-and-concurrency-control/critical-section/>임계 영역 (Critical Section)</a></div><h1 class="post-title entry-hint-parent">교착상태 (Deadlock)</h1><div class=post-description>둘 이상의 프로세스가 서로가 가진 자원을 기다리며 더 이상 진행할 수 없는 상태</div><div class=post-meta><span title='2024-10-03 23:24:00 +0000 UTC'>October 3, 2024</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;632 words&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Computer%20System/Operating%20System/Synchronization%20and%20Concurrency%20Control/Critical%20Section/Deadlock.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#교착상태-deadlock>교착상태 (Deadlock)</a><ul><li><a href=#deadlock이-발생하기-위한-필요-조건>Deadlock이 발생하기 위한 필요 조건</a></li><li><a href=#교착상태-해결책-및-방지책>교착상태 해결책 및 방지책</a></li><li><a href=#실제-시스템에서의-교착상태-예방-전략>실제 시스템에서의 교착상태 예방 전략</a></li><li><a href=#실제-사례와-해결-방안>실제 사례와 해결 방안</a></li><li><a href=#고려사항-및-주의사항>고려사항 및 주의사항</a></li><li><a href=#모범-사례>모범 사례</a></li></ul></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=교착상태-deadlock>교착상태 (Deadlock)<a hidden class=anchor aria-hidden=true href=#교착상태-deadlock>#</a></h2><p>둘 이상의 프로세스가 서로가 가진 자원을 기다리며 무한정 대기하는 상황</p><p><figure><img alt=Deadlock loading=lazy src=/img/img2.jpg><figcaption>Source: https://www.geeksforgeeks.org/deadlock-system-model/</figcaption></figure></p><p>교착상태를 시뮬레이션하는 예제:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14>14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15>15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16>16</a>
</span><span class=lnt id=hl-0-17><a class=lnlinks href=#hl-0-17>17</a>
</span><span class=lnt id=hl-0-18><a class=lnlinks href=#hl-0-18>18</a>
</span><span class=lnt id=hl-0-19><a class=lnlinks href=#hl-0-19>19</a>
</span><span class=lnt id=hl-0-20><a class=lnlinks href=#hl-0-20>20</a>
</span><span class=lnt id=hl-0-21><a class=lnlinks href=#hl-0-21>21</a>
</span><span class=lnt id=hl-0-22><a class=lnlinks href=#hl-0-22>22</a>
</span><span class=lnt id=hl-0-23><a class=lnlinks href=#hl-0-23>23</a>
</span><span class=lnt id=hl-0-24><a class=lnlinks href=#hl-0-24>24</a>
</span><span class=lnt id=hl-0-25><a class=lnlinks href=#hl-0-25>25</a>
</span><span class=lnt id=hl-0-26><a class=lnlinks href=#hl-0-26>26</a>
</span><span class=lnt id=hl-0-27><a class=lnlinks href=#hl-0-27>27</a>
</span><span class=lnt id=hl-0-28><a class=lnlinks href=#hl-0-28>28</a>
</span><span class=lnt id=hl-0-29><a class=lnlinks href=#hl-0-29>29</a>
</span><span class=lnt id=hl-0-30><a class=lnlinks href=#hl-0-30>30</a>
</span><span class=lnt id=hl-0-31><a class=lnlinks href=#hl-0-31>31</a>
</span><span class=lnt id=hl-0-32><a class=lnlinks href=#hl-0-32>32</a>
</span><span class=lnt id=hl-0-33><a class=lnlinks href=#hl-0-33>33</a>
</span><span class=lnt id=hl-0-34><a class=lnlinks href=#hl-0-34>34</a>
</span><span class=lnt id=hl-0-35><a class=lnlinks href=#hl-0-35>35</a>
</span><span class=lnt id=hl-0-36><a class=lnlinks href=#hl-0-36>36</a>
</span><span class=lnt id=hl-0-37><a class=lnlinks href=#hl-0-37>37</a>
</span><span class=lnt id=hl-0-38><a class=lnlinks href=#hl-0-38>38</a>
</span><span class=lnt id=hl-0-39><a class=lnlinks href=#hl-0-39>39</a>
</span><span class=lnt id=hl-0-40><a class=lnlinks href=#hl-0-40>40</a>
</span><span class=lnt id=hl-0-41><a class=lnlinks href=#hl-0-41>41</a>
</span><span class=lnt id=hl-0-42><a class=lnlinks href=#hl-0-42>42</a>
</span><span class=lnt id=hl-0-43><a class=lnlinks href=#hl-0-43>43</a>
</span><span class=lnt id=hl-0-44><a class=lnlinks href=#hl-0-44>44</a>
</span><span class=lnt id=hl-0-45><a class=lnlinks href=#hl-0-45>45</a>
</span><span class=lnt id=hl-0-46><a class=lnlinks href=#hl-0-46>46</a>
</span><span class=lnt id=hl-0-47><a class=lnlinks href=#hl-0-47>47</a>
</span><span class=lnt id=hl-0-48><a class=lnlinks href=#hl-0-48>48</a>
</span><span class=lnt id=hl-0-49><a class=lnlinks href=#hl-0-49>49</a>
</span><span class=lnt id=hl-0-50><a class=lnlinks href=#hl-0-50>50</a>
</span><span class=lnt id=hl-0-51><a class=lnlinks href=#hl-0-51>51</a>
</span><span class=lnt id=hl-0-52><a class=lnlinks href=#hl-0-52>52</a>
</span><span class=lnt id=hl-0-53><a class=lnlinks href=#hl-0-53>53</a>
</span><span class=lnt id=hl-0-54><a class=lnlinks href=#hl-0-54>54</a>
</span><span class=lnt id=hl-0-55><a class=lnlinks href=#hl-0-55>55</a>
</span><span class=lnt id=hl-0-56><a class=lnlinks href=#hl-0-56>56</a>
</span><span class=lnt id=hl-0-57><a class=lnlinks href=#hl-0-57>57</a>
</span><span class=lnt id=hl-0-58><a class=lnlinks href=#hl-0-58>58</a>
</span><span class=lnt id=hl-0-59><a class=lnlinks href=#hl-0-59>59</a>
</span><span class=lnt id=hl-0-60><a class=lnlinks href=#hl-0-60>60</a>
</span><span class=lnt id=hl-0-61><a class=lnlinks href=#hl-0-61>61</a>
</span><span class=lnt id=hl-0-62><a class=lnlinks href=#hl-0-62>62</a>
</span><span class=lnt id=hl-0-63><a class=lnlinks href=#hl-0-63>63</a>
</span><span class=lnt id=hl-0-64><a class=lnlinks href=#hl-0-64>64</a>
</span><span class=lnt id=hl-0-65><a class=lnlinks href=#hl-0-65>65</a>
</span><span class=lnt id=hl-0-66><a class=lnlinks href=#hl-0-66>66</a>
</span><span class=lnt id=hl-0-67><a class=lnlinks href=#hl-0-67>67</a>
</span><span class=lnt id=hl-0-68><a class=lnlinks href=#hl-0-68>68</a>
</span><span class=lnt id=hl-0-69><a class=lnlinks href=#hl-0-69>69</a>
</span><span class=lnt id=hl-0-70><a class=lnlinks href=#hl-0-70>70</a>
</span><span class=lnt id=hl-0-71><a class=lnlinks href=#hl-0-71>71</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>threading</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Resource</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>lock</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Lock</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>acquire</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>process_name</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>process_name</span><span class=si>}</span><span class=s2>가 </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> 획득 시도&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>lock</span><span class=o>.</span><span class=n>acquire</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>process_name</span><span class=si>}</span><span class=s2>가 </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> 획득 성공&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>release</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>process_name</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>process_name</span><span class=si>}</span><span class=s2>가 </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> 반환&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>lock</span><span class=o>.</span><span class=n>release</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>process_task</span><span class=p>(</span><span class=n>process_name</span><span class=p>,</span> <span class=n>first_resource</span><span class=p>,</span> <span class=n>second_resource</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    교착상태를 발생시키는 프로세스 작업을 시뮬레이션합니다.
</span></span></span><span class=line><span class=cl><span class=s2>    각 프로세스는 두 개의 자원을 순차적으로 획득하려 시도합니다.
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 첫 번째 자원 획득</span>
</span></span><span class=line><span class=cl>        <span class=n>first_resource</span><span class=o>.</span><span class=n>acquire</span><span class=p>(</span><span class=n>process_name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>process_name</span><span class=si>}</span><span class=s2>가 작업 중…&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>  <span class=c1># 다른 프로세스가 두 번째 자원을 획득할 시간을 줌</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 두 번째 자원 획득 시도</span>
</span></span><span class=line><span class=cl>        <span class=n>second_resource</span><span class=o>.</span><span class=n>acquire</span><span class=p>(</span><span class=n>process_name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>process_name</span><span class=si>}</span><span class=s2>가 모든 자원 획득 성공&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 작업 수행</span>
</span></span><span class=line><span class=cl>        <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 자원 반환</span>
</span></span><span class=line><span class=cl>        <span class=n>second_resource</span><span class=o>.</span><span class=n>release</span><span class=p>(</span><span class=n>process_name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>first_resource</span><span class=o>.</span><span class=n>release</span><span class=p>(</span><span class=n>process_name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>process_name</span><span class=si>}</span><span class=s2> 오류 발생: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># 두 개의 자원 생성</span>
</span></span><span class=line><span class=cl>    <span class=n>resource_A</span> <span class=o>=</span> <span class=n>Resource</span><span class=p>(</span><span class=s2>&#34;Resource A&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>resource_B</span> <span class=o>=</span> <span class=n>Resource</span><span class=p>(</span><span class=s2>&#34;Resource B&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 두 개의 프로세스 생성</span>
</span></span><span class=line><span class=cl>    <span class=c1># Process 1은 A -&gt; B 순서로 자원 획득 시도</span>
</span></span><span class=line><span class=cl>    <span class=c1># Process 2는 B -&gt; A 순서로 자원 획득 시도</span>
</span></span><span class=line><span class=cl>    <span class=n>process1</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>target</span><span class=o>=</span><span class=n>process_task</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=s2>&#34;Process 1&#34;</span><span class=p>,</span> <span class=n>resource_A</span><span class=p>,</span> <span class=n>resource_B</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>process2</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>target</span><span class=o>=</span><span class=n>process_task</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=s2>&#34;Process 2&#34;</span><span class=p>,</span> <span class=n>resource_B</span><span class=p>,</span> <span class=n>resource_A</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 프로세스 시작</span>
</span></span><span class=line><span class=cl>    <span class=n>process1</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>process2</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 프로세스 종료 대기</span>
</span></span><span class=line><span class=cl>    <span class=n>process1</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>process2</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;교착상태 시뮬레이션 시작&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;시뮬레이션 종료&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=deadlock이-발생하기-위한-필요-조건>Deadlock이 발생하기 위한 필요 조건<a hidden class=anchor aria-hidden=true href=#deadlock이-발생하기-위한-필요-조건>#</a></h3><p>Deadlock이 발생하기 위해서는 다음 네 가지 조건이 모두 충족되어야 한다:</p><ol><li><p>상호 배제(Mutual Exclusion)<br>하나의 자원은 한 번에 하나의 프로세스만 사용할 수 있다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>lock</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Lock</span><span class=p>()</span>  <span class=c1># 한 번에 하나의 스레드만 획득 가능</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>점유와 대기(Hold and Wait)<br>자원을 가진 프로세스가 다른 자원을 기다리는 상태가 발생한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>lock</span><span class=p>:</span>  <span class=c1># 첫 번째 락을 보유한 상태에서</span>
</span></span><span class=line><span class=cl>    <span class=k>with</span> <span class=n>other</span><span class=o>.</span><span class=n>lock</span><span class=p>:</span>  <span class=c1># 두 번째 락을 기다림</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>선점 불가(No Preemption)<br>다른 프로세스의 자원을 강제로 빼앗을 수 없다.</p></li><li><p>순환 대기(Circular Wait)<br>프로세스들이 순환적으로 서로의 자원을 기다린다.</p></li></ol><h3 id=교착상태-해결책-및-방지책>교착상태 해결책 및 방지책<a hidden class=anchor aria-hidden=true href=#교착상태-해결책-및-방지책>#</a></h3><p>교착상태를 해결하거나 방지하기 위한 여러 방법이 있다:</p><h4 id=예방prevention>예방(Prevention)<a hidden class=anchor aria-hidden=true href=#예방prevention>#</a></h4><p>교착상태 발생 조건 중 하나 이상을 제거하여 교착상태를 방지한다:</p><ul><li>상호 배제 부정: 자원을 공유 가능하게 만든다.</li><li>점유와 대기 부정: 프로세스가 실행되기 전 모든 필요한 자원을 할당받도록 한다.</li><li>비선점 부정: 자원을 강제로 회수할 수 있게 한다.</li><li>순환 대기 부정: 자원에 번호를 부여하고 오름차순으로만 요청하도록 한다.</li></ul><h4 id=회피avoidance>회피(Avoidance)<a hidden class=anchor aria-hidden=true href=#회피avoidance>#</a></h4><p>시스템의 상태를 지속적으로 검사하여 안전한 상태를 유지한다.<br>대표적인 방법으로 은행원 알고리즘(Banker&rsquo;s Algorithm)이 있다.</p><h4 id=탐지-및-복구detection-and-recovery>탐지 및 복구(Detection and Recovery)<a hidden class=anchor aria-hidden=true href=#탐지-및-복구detection-and-recovery>#</a></h4><p>교착상태를 탐지하고, 발생 시 복구하는 방법이다:</p><ul><li>프로세스 종료: 교착상태에 있는 프로세스를 종료한다.</li><li>자원 선점: 교착상태에 있는 프로세스로부터 자원을 강제로 회수한다다.</li></ul><h3 id=실제-시스템에서의-교착상태-예방-전략>실제 시스템에서의 교착상태 예방 전략<a hidden class=anchor aria-hidden=true href=#실제-시스템에서의-교착상태-예방-전략>#</a></h3><ol><li><p>시스템 설계 단계에서의 예방</p><ul><li>자원 할당 순서 정의</li><li>자원 사용 시간 제한</li><li>작업 우선순위 설정</li><li>자원 할당 그래프 관리</li></ul></li><li><p>운영 단계에서의 모니터링</p><ul><li>자원 사용량 실시간 모니터링</li><li>교착상태 감지 시스템 구축</li><li>로그 분석 및 패턴 파악</li></ul></li><li><p>복구 전략 수립</p><ul><li>체계적인 프로세스 종료 절차</li><li>자원 회수 메커니즘</li><li>백업 시스템 운영</li></ul></li></ol><h3 id=실제-사례와-해결-방안>실제 사례와 해결 방안<a hidden class=anchor aria-hidden=true href=#실제-사례와-해결-방안>#</a></h3><ol><li>데이터베이스 시스템의 교착상태:<ol><li>트랜잭션 타임아웃 설정</li><li>락 에스컬레이션 방지</li><li>트랜잭션 격리 수준 적절히 설정</li></ol></li><li>운영체제의 교착상태:<ol><li>자원 할당 알고리즘 최적화</li><li>프로세스 우선순위 동적 조정</li><li>자원 사용 모니터링 강화</li></ol></li></ol><h3 id=고려사항-및-주의사항>고려사항 및 주의사항<a hidden class=anchor aria-hidden=true href=#고려사항-및-주의사항>#</a></h3><ol><li><p>성능과 안전성 균형</p><ul><li>과도한 교착상태 방지 메커니즘은 성능 저하 초래</li><li>시스템 특성에 맞는 적절한 수준 설정 필요</li></ul></li><li><p>확장성 고려</p><ul><li>시스템 규모 증가에 따른 교착상태 위험 증가</li><li>확장 가능한 모니터링 시스템 구축</li></ul></li><li><p>테스트 및 검증</p><ul><li>다양한 시나리오에서의 교착상태 테스트</li><li>정기적인 시스템 점검 및 모니터링</li></ul></li></ol><h3 id=모범-사례>모범 사례<a hidden class=anchor aria-hidden=true href=#모범-사례>#</a></h3><ol><li><p>자원 할당 전략</p><ul><li>필요한 최소한의 자원만 할당</li><li>자원 사용 시간 최소화</li><li>자원 해제 즉시 수행</li></ul></li><li><p>모니터링 및 로깅</p><ul><li>상세한 로그 기록 유지</li><li>실시간 모니터링 시스템 구축</li><li>주기적인 시스템 상태 점검</li></ul></li><li><p>시스템 설계</p><ul><li>모듈화된 설계로 교착상태 영향 범위 최소화</li><li>명확한 자원 할당 정책 수립</li><li>효율적인 복구 메커니즘 구현</li></ul></li></ol><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/computer-system/>Computer-System</a></li><li><a href=https://buenhyden.github.io/tags/operating-system/>Operating-System</a></li><li><a href=https://buenhyden.github.io/tags/synchronization-and-concurrency-control/>Synchronization-and-Concurrency-Control</a></li><li><a href=https://buenhyden.github.io/tags/critical-section/>Critical-Section</a></li><li><a href=https://buenhyden.github.io/tags/synchronization/>Synchronization</a></li><li><a href=https://buenhyden.github.io/tags/concurrency-control/>Concurrency-Control</a></li><li><a href=https://buenhyden.github.io/tags/deadlock/>Deadlock</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/computer-system/system-execution-models/threads-and-multithreading/multithreading/><span class=title>« Prev</span><br><span>Multithreading</span>
</a><a class=next href=https://buenhyden.github.io/posts/computer-system/operating-system/synchronization-and-concurrency-control/critical-section/race-condition/><span class=title>Next »</span><br><span>Race Condition</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>