<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Search Engines | hyunyoun's Blog</title>
<meta name=keywords content="Backend-Development,Search-Engines"><meta name=description content="방대한 양의 정보에서 필요한 데이터를 효율적으로 찾아내는 특화된 시스템이다. 단순한 키워드 매칭을 넘어서, 오늘날의 검색 엔진은 복잡한 데이터 분석과 실시간 처리를 위한 고도화된 기술을 구현하고 있다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/backend-development/search-engines/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.8762af4fa9ee176c57f72565b721f234162fc7a9c882a271e0a1f68c4e89fb34.css integrity="sha256-h2KvT6nuF2xX9yVltyHyNBYvx6nIgqJx4KH2jE6J+zQ=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/backend-development/search-engines/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/backend-development/search-engines/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/backend-development/search-engines/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Search Engines"><meta property="og:description" content="방대한 양의 정보에서 필요한 데이터를 효율적으로 찾아내는 특화된 시스템이다. 단순한 키워드 매칭을 넘어서, 오늘날의 검색 엔진은 복잡한 데이터 분석과 실시간 처리를 위한 고도화된 기술을 구현하고 있다."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Search Engines"><meta name=twitter:description content="방대한 양의 정보에서 필요한 데이터를 효율적으로 찾아내는 특화된 시스템이다. 단순한 키워드 매칭을 넘어서, 오늘날의 검색 엔진은 복잡한 데이터 분석과 실시간 처리를 위한 고도화된 기술을 구현하고 있다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"기술 블로그","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Backend Development","item":"https://buenhyden.github.io/posts/backend-development/"},{"@type":"ListItem","position":3,"name":"Search Engines","item":"https://buenhyden.github.io/posts/backend-development/search-engines/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>기술 블로그</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/backend-development/>Backend Development</a></div><h1>Search Engines</h1><div class=post-description>방대한 양의 정보에서 필요한 데이터를 효율적으로 찾아내는 특화된 시스템이다. 단순한 키워드 매칭을 넘어서, 오늘날의 검색 엔진은 복잡한 데이터 분석과 실시간 처리를 위한 고도화된 기술을 구현하고 있다.</div></header><div class=post-content><h2 id=search-engine>Search Engine<a hidden class=anchor aria-hidden=true href=#search-engine>#</a></h2><p>Search engines는 인터넷과 데이터베이스에 저장된 정보를 검색하고 사용자에게 관련 결과를 제공하는 소프트웨어 시스템이다. 이들은 현대 디지털 환경에서 필수적인 도구로, 정보를 효율적으로 찾고, 분석하며, 정리하는 데 도움을 준다. Google, Bing, Yahoo와 같은 대중적인 웹 검색 엔진뿐만 아니라 Elasticsearch와 같은 특화된 검색 엔진도 존재한다.</p><p>검색 엔진은 현대 데이터 관리 생태계의 핵심 구성 요소로서, 방대한 양의 정보에서 필요한 데이터를 효율적으로 찾아내는 특화된 시스템이다. 단순한 키워드 매칭을 넘어서, 오늘날의 검색 엔진은 복잡한 데이터 분석과 실시간 처리를 위한 고도화된 기술을 구현하고 있다.</p><h3 id=검색-엔진의-기본-개념과-발전-역사>검색 엔진의 기본 개념과 발전 역사<a hidden class=anchor aria-hidden=true href=#검색-엔진의-기본-개념과-발전-역사>#</a></h3><p>검색 엔진은 데이터베이스와 유사하지만, 특별히 &lsquo;검색&rsquo;이라는 작업에 최적화된 시스템이다. 전통적인 데이터베이스가 정확한 매칭에 초점을 둔다면, 검색 엔진은 관련성(relevance)과 유사성을 중심으로 작동한다.</p><h4 id=검색-엔진의-역사적-발전>검색 엔진의 역사적 발전<a hidden class=anchor aria-hidden=true href=#검색-엔진의-역사적-발전>#</a></h4><p>초기 검색 엔진은 단순한 문자열 매칭 기능을 제공했지만, 현대 검색 엔진의 기술적 토대는 1990년대 초반 개발된 Apache Lucene과 함께 시작되었다. Lucene은 역색인(inverted index)이라는 핵심 자료구조를 사용해 전문 검색(full-text search)의 성능을 혁신적으로 개선했다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>초기 검색 기술 → Apache Lucene → Solr → Elasticsearch → OpenSearch 및 현대 분산형 검색 엔진
</span></span></code></pre></td></tr></table></div></div><h4 id=역색인inverted-index의-개념>역색인(Inverted Index)의 개념<a hidden class=anchor aria-hidden=true href=#역색인inverted-index의-개념>#</a></h4><p>검색 엔진의 핵심 기술인 역색인은 일반 데이터베이스 인덱스와 다른 접근 방식을 취한다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>일반 인덱스: 문서 ID → 문서 내용
</span></span><span class=line><span class=cl>역색인: 단어(용어) → 해당 단어가 등장하는 문서 ID 목록
</span></span></code></pre></td></tr></table></div></div><p>예를 들어, 다음과 같은 문서가 있다고 가정해보면:</p><p>이를 역색인화하면:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3>3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4>4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5>5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6>6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7>7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&#34;검색&#34;: [문서1, 문서3]
</span></span><span class=line><span class=cl>&#34;엔진&#34;: [문서1, 문서3]
</span></span><span class=line><span class=cl>&#34;데이터&#34;: [문서1, 문서2, 문서3]
</span></span><span class=line><span class=cl>&#34;빠르게&#34;: [문서1]
</span></span><span class=line><span class=cl>&#34;찾는다&#34;: [문서1]
</span></span><span class=line><span class=cl>&#34;분석&#34;: [문서2, 문서3]
</span></span><span class=line><span class=cl>&#34;중요하다&#34;: [문서2]
</span></span><span class=line><span class=cl>&#34;활용된다&#34;: [문서3]
</span></span></code></pre></td></tr></table></div></div><p>이러한 구조는 특정 단어가 포함된 문서를 극도로 빠르게 찾을 수 있게 해준다.</p><h3 id=현대-검색-엔진의-핵심-특성>현대 검색 엔진의 핵심 특성<a hidden class=anchor aria-hidden=true href=#현대-검색-엔진의-핵심-특성>#</a></h3><p>현대 검색 엔진은 단순한 검색 기능을 넘어 다양한 고급 기능을 제공한다.</p><h4 id=전문-검색full-text-search>전문 검색(Full-Text Search)<a hidden class=anchor aria-hidden=true href=#전문-검색full-text-search>#</a></h4><p>전문 검색은 단순한 키워드 매칭을 넘어 텍스트의 의미론적 특성을 고려한 검색 방식이다.</p><p>주요 전문 검색 기능:</p><ul><li><strong>형태소 분석(Tokenization)</strong>: 텍스트를 의미 있는 단위(토큰)로 분리</li><li><strong>스테밍(Stemming)</strong>: 단어의 어근을 추출(예: &ldquo;running&rdquo; → &ldquo;run&rdquo;)</li><li><strong>가중치 부여(Term Weighting)</strong>: 문서 내 단어의 중요도 계산(TF-IDF 등)</li></ul><h4 id=분산-아키텍처distributed-architecture>분산 아키텍처(Distributed Architecture)<a hidden class=anchor aria-hidden=true href=#분산-아키텍처distributed-architecture>#</a></h4><p>대규모 데이터를 처리하기 위해 현대 검색 엔진은 수평적 확장이 가능한 분산 구조를 채택한다.</p><p>Elasticsearch의 분산 구조:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span><span class=lnt id=hl-3-12><a class=lnlinks href=#hl-3-12>12</a>
</span><span class=lnt id=hl-3-13><a class=lnlinks href=#hl-3-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>클러스터(Cluster)
</span></span><span class=line><span class=cl>  ├── 노드(Node) 1 - 마스터 + 데이터
</span></span><span class=line><span class=cl>  │     ├── 샤드(Shard) A-1 (Primary)
</span></span><span class=line><span class=cl>  │     └── 샤드(Shard) B-2 (Replica)
</span></span><span class=line><span class=cl>  ├── 노드(Node) 2 - 데이터
</span></span><span class=line><span class=cl>  │     ├── 샤드(Shard) B-1 (Primary)
</span></span><span class=line><span class=cl>  │     └── 샤드(Shard) A-2 (Replica)
</span></span><span class=line><span class=cl>  ├── 노드(Node) 3 - 데이터
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  │     ├── 샤드(Shard) C-1 (Primary)
</span></span><span class=line><span class=cl>  │     └── 샤드(Shard) D-2 (Replica)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  └── 노드(Node) 4 - 코디네이팅 전용
</span></span></code></pre></td></tr></table></div></div><p>핵심 개념:</p><ul><li><p><strong>샤드(Shard)</strong>: 인덱스를 분할하는 기본 단위, 각 샤드는 완전한 Lucene 인덱스</p></li><li><p><strong>레플리카(Replica)</strong>: 데이터 중복 저장을 통한 고가용성과 병렬 처리 지원</p></li><li><p><strong>마스터 노드(Master Node)</strong>: 클러스터 상태 관리, 메타데이터 처리 담당</p></li><li><p><strong>코디네이팅 노드(Coordinating Node)</strong>: 사용자 요청 처리 및 결과 조합</p></li></ul><h4 id=실시간-색인화real-time-indexing>실시간 색인화(Real-Time Indexing)<a hidden class=anchor aria-hidden=true href=#실시간-색인화real-time-indexing>#</a></h4><p>전통적인 데이터베이스와 달리, 현대 검색 엔진은 거의 실시간으로 데이터를 색인화하고 검색 가능하게 만든다.</p><p>Elasticsearch의 실시간 처리 과정:</p><ol><li>문서 수신</li><li>세그먼트(segment)로 주기적 플러시(flush)</li><li>백그라운드 병합(merge) 프로세스로 세그먼트 최적화</li></ol><p>이 과정을 통해 문서가 색인화된 직후부터 검색 가능한 상태가 된다(일반적으로 1초 이내).</p><h4 id=강력한-쿼리-dslquery-dsl>강력한 쿼리 DSL(Query DSL)<a hidden class=anchor aria-hidden=true href=#강력한-쿼리-dslquery-dsl>#</a></h4><p>검색 엔진은 복잡한 검색 조건을 표현할 수 있는 특화된 쿼리 언어를 제공한다.</p><p>Elasticsearch 쿼리 DSL 예제:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1> 1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2> 2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3> 3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4> 4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5> 5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6> 6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7> 7</a>
</span><span class=lnt id=hl-4-8><a class=lnlinks href=#hl-4-8> 8</a>
</span><span class=lnt id=hl-4-9><a class=lnlinks href=#hl-4-9> 9</a>
</span><span class=lnt id=hl-4-10><a class=lnlinks href=#hl-4-10>10</a>
</span><span class=lnt id=hl-4-11><a class=lnlinks href=#hl-4-11>11</a>
</span><span class=lnt id=hl-4-12><a class=lnlinks href=#hl-4-12>12</a>
</span><span class=lnt id=hl-4-13><a class=lnlinks href=#hl-4-13>13</a>
</span><span class=lnt id=hl-4-14><a class=lnlinks href=#hl-4-14>14</a>
</span><span class=lnt id=hl-4-15><a class=lnlinks href=#hl-4-15>15</a>
</span><span class=lnt id=hl-4-16><a class=lnlinks href=#hl-4-16>16</a>
</span><span class=lnt id=hl-4-17><a class=lnlinks href=#hl-4-17>17</a>
</span><span class=lnt id=hl-4-18><a class=lnlinks href=#hl-4-18>18</a>
</span><span class=lnt id=hl-4-19><a class=lnlinks href=#hl-4-19>19</a>
</span><span class=lnt id=hl-4-20><a class=lnlinks href=#hl-4-20>20</a>
</span><span class=lnt id=hl-4-21><a class=lnlinks href=#hl-4-21>21</a>
</span><span class=lnt id=hl-4-22><a class=lnlinks href=#hl-4-22>22</a>
</span><span class=lnt id=hl-4-23><a class=lnlinks href=#hl-4-23>23</a>
</span><span class=lnt id=hl-4-24><a class=lnlinks href=#hl-4-24>24</a>
</span><span class=lnt id=hl-4-25><a class=lnlinks href=#hl-4-25>25</a>
</span><span class=lnt id=hl-4-26><a class=lnlinks href=#hl-4-26>26</a>
</span><span class=lnt id=hl-4-27><a class=lnlinks href=#hl-4-27>27</a>
</span><span class=lnt id=hl-4-28><a class=lnlinks href=#hl-4-28>28</a>
</span><span class=lnt id=hl-4-29><a class=lnlinks href=#hl-4-29>29</a>
</span><span class=lnt id=hl-4-30><a class=lnlinks href=#hl-4-30>30</a>
</span><span class=lnt id=hl-4-31><a class=lnlinks href=#hl-4-31>31</a>
</span><span class=lnt id=hl-4-32><a class=lnlinks href=#hl-4-32>32</a>
</span><span class=lnt id=hl-4-33><a class=lnlinks href=#hl-4-33>33</a>
</span><span class=lnt id=hl-4-34><a class=lnlinks href=#hl-4-34>34</a>
</span><span class=lnt id=hl-4-35><a class=lnlinks href=#hl-4-35>35</a>
</span><span class=lnt id=hl-4-36><a class=lnlinks href=#hl-4-36>36</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 복합 쿼리 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>GET</span> <span class=o>/</span><span class=nx>products</span><span class=o>/</span><span class=nx>_search</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;query&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;bool&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;must&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span> 
</span></span><span class=line><span class=cl>          <span class=s2>&#34;match&#34;</span><span class=o>:</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;title&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;query&#34;</span><span class=o>:</span> <span class=s2>&#34;스마트폰 케이스&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;operator&#34;</span><span class=o>:</span> <span class=s2>&#34;and&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;should&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span> <span class=s2>&#34;term&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;brand&#34;</span><span class=o>:</span> <span class=s2>&#34;삼성&#34;</span> <span class=p>}</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span> <span class=s2>&#34;term&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;brand&#34;</span><span class=o>:</span> <span class=s2>&#34;애플&#34;</span> <span class=p>}</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;filter&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span> <span class=s2>&#34;range&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;price&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;gte&#34;</span><span class=o>:</span> <span class=mi>10000</span><span class=p>,</span> <span class=s2>&#34;lte&#34;</span><span class=o>:</span> <span class=mi>50000</span> <span class=p>}</span> <span class=p>}</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span> <span class=s2>&#34;term&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;in_stock&#34;</span><span class=o>:</span> <span class=kc>true</span> <span class=p>}</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;must_not&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=p>{</span> <span class=s2>&#34;term&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;tags&#34;</span><span class=o>:</span> <span class=s2>&#34;저품질&#34;</span> <span class=p>}</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;sort&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span> <span class=s2>&#34;_score&#34;</span><span class=o>:</span> <span class=s2>&#34;desc&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span> <span class=s2>&#34;price&#34;</span><span class=o>:</span> <span class=s2>&#34;asc&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>이 쿼리는 다음과 같은 복합 조건을 표현한다:</p><ul><li>&lsquo;스마트폰&rsquo;과 &lsquo;케이스&rsquo;를 모두 포함하는 제목(must)</li><li>가급적 &lsquo;삼성&rsquo; 또는 &lsquo;애플&rsquo; 브랜드(should - 점수에 영향)</li><li>10,000원~50,000원 가격대이며 재고가 있는 제품(filter - 점수에 영향 없음)</li><li>&lsquo;저품질&rsquo; 태그가 없는 제품(must_not)</li><li>관련성 점수로 우선 정렬 후, 같은 점수라면 가격 오름차순 정렬</li></ul><h4 id=분석-및-집계-기능analytics>분석 및 집계 기능(Analytics)<a hidden class=anchor aria-hidden=true href=#분석-및-집계-기능analytics>#</a></h4><p>현대 검색 엔진은 단순 검색을 넘어 데이터 분석 및 시각화를 위한 강력한 집계 기능을 제공한다.</p><p>Elasticsearch 집계 쿼리 예제:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1> 1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2> 2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3> 3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4> 4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5> 5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6> 6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7> 7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8> 8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9> 9</a>
</span><span class=lnt id=hl-5-10><a class=lnlinks href=#hl-5-10>10</a>
</span><span class=lnt id=hl-5-11><a class=lnlinks href=#hl-5-11>11</a>
</span><span class=lnt id=hl-5-12><a class=lnlinks href=#hl-5-12>12</a>
</span><span class=lnt id=hl-5-13><a class=lnlinks href=#hl-5-13>13</a>
</span><span class=lnt id=hl-5-14><a class=lnlinks href=#hl-5-14>14</a>
</span><span class=lnt id=hl-5-15><a class=lnlinks href=#hl-5-15>15</a>
</span><span class=lnt id=hl-5-16><a class=lnlinks href=#hl-5-16>16</a>
</span><span class=lnt id=hl-5-17><a class=lnlinks href=#hl-5-17>17</a>
</span><span class=lnt id=hl-5-18><a class=lnlinks href=#hl-5-18>18</a>
</span><span class=lnt id=hl-5-19><a class=lnlinks href=#hl-5-19>19</a>
</span><span class=lnt id=hl-5-20><a class=lnlinks href=#hl-5-20>20</a>
</span><span class=lnt id=hl-5-21><a class=lnlinks href=#hl-5-21>21</a>
</span><span class=lnt id=hl-5-22><a class=lnlinks href=#hl-5-22>22</a>
</span><span class=lnt id=hl-5-23><a class=lnlinks href=#hl-5-23>23</a>
</span><span class=lnt id=hl-5-24><a class=lnlinks href=#hl-5-24>24</a>
</span><span class=lnt id=hl-5-25><a class=lnlinks href=#hl-5-25>25</a>
</span><span class=lnt id=hl-5-26><a class=lnlinks href=#hl-5-26>26</a>
</span><span class=lnt id=hl-5-27><a class=lnlinks href=#hl-5-27>27</a>
</span><span class=lnt id=hl-5-28><a class=lnlinks href=#hl-5-28>28</a>
</span><span class=lnt id=hl-5-29><a class=lnlinks href=#hl-5-29>29</a>
</span><span class=lnt id=hl-5-30><a class=lnlinks href=#hl-5-30>30</a>
</span><span class=lnt id=hl-5-31><a class=lnlinks href=#hl-5-31>31</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>GET</span> <span class=o>/</span><span class=nx>sales</span><span class=o>/</span><span class=nx>_search</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;size&#34;</span><span class=o>:</span> <span class=mi>0</span><span class=p>,</span>  <span class=c1>// 검색 결과는 필요 없고 집계만 원함
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=s2>&#34;aggs&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;sales_by_month&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;date_histogram&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;field&#34;</span><span class=o>:</span> <span class=s2>&#34;date&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;calendar_interval&#34;</span><span class=o>:</span> <span class=s2>&#34;month&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;aggs&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;total_sales&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;sum&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;field&#34;</span><span class=o>:</span> <span class=s2>&#34;price&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;sales_by_category&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;terms&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;field&#34;</span><span class=o>:</span> <span class=s2>&#34;category&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;size&#34;</span><span class=o>:</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl>          <span class=p>},</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;aggs&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;category_sales&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;sum&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;field&#34;</span><span class=o>:</span> <span class=s2>&#34;price&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>이 쿼리는 다음과 같은 복합 집계를 수행한다:</p><ol><li>월별 매출 추이 계산</li><li>각 월별로 상위 5개 카테고리의 매출액 계산</li><li>중첩 집계를 통한 다차원 분석</li></ol><h3 id=검색-엔진의-핵심-구성-요소와-작동-원리>검색 엔진의 핵심 구성 요소와 작동 원리<a hidden class=anchor aria-hidden=true href=#검색-엔진의-핵심-구성-요소와-작동-원리>#</a></h3><p>검색 엔진의 내부 구조와 핵심 기술적 요소를 살펴보면</p><h4 id=인덱싱-프로세스indexing-process>인덱싱 프로세스(Indexing Process)<a hidden class=anchor aria-hidden=true href=#인덱싱-프로세스indexing-process>#</a></h4><p>검색 엔진에서 문서를 처리하고 저장하는 과정은 다음과 같은 단계로 이루어진다:</p><ol><li><p><strong>문서 수집(Document Collection)</strong>:</p><ul><li>데이터 소스에서 문서 획득(웹 크롤링, DB 연동, 로그 수집 등)</li><li>필요시 데이터 변환 및 정규화</li></ul></li><li><p><strong>분석 및 토큰화(Analysis & Tokenization)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1>1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2>2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3>3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>원문: &#34;빅데이터 검색엔진은 대용량 데이터를 빠르게 검색한다.&#34;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>토큰화: [&#34;빅데이터&#34;, &#34;검색&#34;, &#34;엔진&#34;, &#34;대용량&#34;, &#34;데이터&#34;, &#34;빠르게&#34;, &#34;검색&#34;]
</span></span></code></pre></td></tr></table></div></div><ul><li>문자 필터링: HTML 태그 제거, 특수문자 처리 등</li><li>토큰화: 텍스트를 개별 토큰으로 분리</li><li>토큰 필터링: 불용어 제거, 소문자 변환, 동의어 처리 등</li></ul></li><li><p><strong>역색인 생성(Inverted Index Creation)</strong>:</p><ul><li>각 토큰이 어떤 문서에 등장하는지 매핑</li><li>위치 정보, 빈도 정보 등 부가 정보 저장</li><li>색인 압축 및 최적화</li></ul></li><li><p><strong>메타데이터 관리(Metadata Management)</strong>:</p><ul><li><p>문서 타입, 스키마 정보 관리</p></li><li><p>필드별 데이터 타입 및 처리 방식 정의</p></li><li><p>색인 설정 및 매핑 정보 저장</p></li></ul></li></ol><h4 id=검색-프로세스search-process>검색 프로세스(Search Process)<a hidden class=anchor aria-hidden=true href=#검색-프로세스search-process>#</a></h4><p>사용자 쿼리가 처리되는 과정은 다음과 같다:</p><ol><li><strong>쿼리 분석(Query Analysis)</strong>:<ul><li>사용자 쿼리를 파싱하고 해석</li><li>쿼리 최적화 및 재작성</li><li>토큰화 및 분석(인덱싱 과정과 동일한 분석기 적용)</li></ul></li><li><strong>검색 실행(Search Execution)</strong>:<ul><li>각 샤드에서 병렬로 역색인 검색</li><li>필터링, 점수 계산 등 수행</li><li>중간 결과 생성
<strong>결과 집계(Result Aggregation)</strong>:</li></ul></li></ol><ul><li>각 샤드의 결과를 통합<ul><li>전체 결과에 대한 점수 재계산(필요시)</li><li>정렬 및 페이징 적용</li></ul></li></ul><ol start=4><li><strong>결과 반환(Result Return)</strong>:<ul><li>최종 결과 포맷팅</li><li>하이라이팅, 스니펫 생성 등 후처리</li></ul></li></ol><p>클라이언트에 응답 전송</p><p>관련성 점수 계산(Relevance Scoring)</p><p>검색 엔진에서 가장 중요한 기능 중 하나는 검색 결과의 관련성을 계산하는 알고리즘이다.</p><p>점수 계산 요소:</p><p>TF-IDF(Term Frequency-Inverse Document Frequency)**:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1> 1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2> 2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3> 3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4> 4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5> 5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6> 6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7> 7</a>
</span><span class=lnt id=hl-7-8><a class=lnlinks href=#hl-7-8> 8</a>
</span><span class=lnt id=hl-7-9><a class=lnlinks href=#hl-7-9> 9</a>
</span><span class=lnt id=hl-7-10><a class=lnlinks href=#hl-7-10>10</a>
</span><span class=lnt id=hl-7-11><a class=lnlinks href=#hl-7-11>11</a>
</span><span class=lnt id=hl-7-12><a class=lnlinks href=#hl-7-12>12</a>
</span><span class=lnt id=hl-7-13><a class=lnlinks href=#hl-7-13>13</a>
</span><span class=lnt id=hl-7-14><a class=lnlinks href=#hl-7-14>14</a>
</span><span class=lnt id=hl-7-15><a class=lnlinks href=#hl-7-15>15</a>
</span><span class=lnt id=hl-7-16><a class=lnlinks href=#hl-7-16>16</a>
</span><span class=lnt id=hl-7-17><a class=lnlinks href=#hl-7-17>17</a>
</span><span class=lnt id=hl-7-18><a class=lnlinks href=#hl-7-18>18</a>
</span><span class=lnt id=hl-7-19><a class=lnlinks href=#hl-7-19>19</a>
</span><span class=lnt id=hl-7-20><a class=lnlinks href=#hl-7-20>20</a>
</span><span class=lnt id=hl-7-21><a class=lnlinks href=#hl-7-21>21</a>
</span><span class=lnt id=hl-7-22><a class=lnlinks href=#hl-7-22>22</a>
</span><span class=lnt id=hl-7-23><a class=lnlinks href=#hl-7-23>23</a>
</span><span class=lnt id=hl-7-24><a class=lnlinks href=#hl-7-24>24</a>
</span><span class=lnt id=hl-7-25><a class=lnlinks href=#hl-7-25>25</a>
</span><span class=lnt id=hl-7-26><a class=lnlinks href=#hl-7-26>26</a>
</span><span class=lnt id=hl-7-27><a class=lnlinks href=#hl-7-27>27</a>
</span><span class=lnt id=hl-7-28><a class=lnlinks href=#hl-7-28>28</a>
</span><span class=lnt id=hl-7-29><a class=lnlinks href=#hl-7-29>29</a>
</span><span class=lnt id=hl-7-30><a class=lnlinks href=#hl-7-30>30</a>
</span><span class=lnt id=hl-7-31><a class=lnlinks href=#hl-7-31>31</a>
</span><span class=lnt id=hl-7-32><a class=lnlinks href=#hl-7-32>32</a>
</span><span class=lnt id=hl-7-33><a class=lnlinks href=#hl-7-33>33</a>
</span><span class=lnt id=hl-7-34><a class=lnlinks href=#hl-7-34>34</a>
</span><span class=lnt id=hl-7-35><a class=lnlinks href=#hl-7-35>35</a>
</span><span class=lnt id=hl-7-36><a class=lnlinks href=#hl-7-36>36</a>
</span><span class=lnt id=hl-7-37><a class=lnlinks href=#hl-7-37>37</a>
</span><span class=lnt id=hl-7-38><a class=lnlinks href=#hl-7-38>38</a>
</span><span class=lnt id=hl-7-39><a class=lnlinks href=#hl-7-39>39</a>
</span><span class=lnt id=hl-7-40><a class=lnlinks href=#hl-7-40>40</a>
</span><span class=lnt id=hl-7-41><a class=lnlinks href=#hl-7-41>41</a>
</span><span class=lnt id=hl-7-42><a class=lnlinks href=#hl-7-42>42</a>
</span><span class=lnt id=hl-7-43><a class=lnlinks href=#hl-7-43>43</a>
</span><span class=lnt id=hl-7-44><a class=lnlinks href=#hl-7-44>44</a>
</span><span class=lnt id=hl-7-45><a class=lnlinks href=#hl-7-45>45</a>
</span><span class=lnt id=hl-7-46><a class=lnlinks href=#hl-7-46>46</a>
</span><span class=lnt id=hl-7-47><a class=lnlinks href=#hl-7-47>47</a>
</span><span class=lnt id=hl-7-48><a class=lnlinks href=#hl-7-48>48</a>
</span><span class=lnt id=hl-7-49><a class=lnlinks href=#hl-7-49>49</a>
</span><span class=lnt id=hl-7-50><a class=lnlinks href=#hl-7-50>50</a>
</span><span class=lnt id=hl-7-51><a class=lnlinks href=#hl-7-51>51</a>
</span><span class=lnt id=hl-7-52><a class=lnlinks href=#hl-7-52>52</a>
</span><span class=lnt id=hl-7-53><a class=lnlinks href=#hl-7-53>53</a>
</span><span class=lnt id=hl-7-54><a class=lnlinks href=#hl-7-54>54</a>
</span><span class=lnt id=hl-7-55><a class=lnlinks href=#hl-7-55>55</a>
</span><span class=lnt id=hl-7-56><a class=lnlinks href=#hl-7-56>56</a>
</span><span class=lnt id=hl-7-57><a class=lnlinks href=#hl-7-57>57</a>
</span><span class=lnt id=hl-7-58><a class=lnlinks href=#hl-7-58>58</a>
</span><span class=lnt id=hl-7-59><a class=lnlinks href=#hl-7-59>59</a>
</span><span class=lnt id=hl-7-60><a class=lnlinks href=#hl-7-60>60</a>
</span><span class=lnt id=hl-7-61><a class=lnlinks href=#hl-7-61>61</a>
</span><span class=lnt id=hl-7-62><a class=lnlinks href=#hl-7-62>62</a>
</span><span class=lnt id=hl-7-63><a class=lnlinks href=#hl-7-63>63</a>
</span><span class=lnt id=hl-7-64><a class=lnlinks href=#hl-7-64>64</a>
</span><span class=lnt id=hl-7-65><a class=lnlinks href=#hl-7-65>65</a>
</span><span class=lnt id=hl-7-66><a class=lnlinks href=#hl-7-66>66</a>
</span><span class=lnt id=hl-7-67><a class=lnlinks href=#hl-7-67>67</a>
</span><span class=lnt id=hl-7-68><a class=lnlinks href=#hl-7-68>68</a>
</span><span class=lnt id=hl-7-69><a class=lnlinks href=#hl-7-69>69</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>  점수 = TF(단어빈도) × IDF(역문서빈도)
</span></span><span class=line><span class=cl>  ```
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>- 단어빈도(TF): 문서 내에서 해당 단어가 등장하는 횟수
</span></span><span class=line><span class=cl>- 역문서빈도(IDF): 전체 문서 중 해당 단어가 등장하는 문서 비율의 역수
</span></span><span class=line><span class=cl>BM25(Best Matching)**:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  ```
</span></span><span class=line><span class=cl>  점수 = IDF × (TF × (k1 + 1)) / (TF + k1 × (1 - b + b × (문서길이/평균문서길이)))
</span></span><span class=line><span class=cl>  ```
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>- TF-IDF를 개선하여 문서 길이를 고려
</span></span><span class=line><span class=cl>- 단어 빈도의 포화도 반영(빈도가 무한히 높아도 점수는 일정 수준에서 수렴)
</span></span><span class=line><span class=cl>**벡터 공간 모델(Vector Space Model)**:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  ```
</span></span><span class=line><span class=cl>  코사인 유사도 = 쿼리벡터 · 문서벡터 / (|쿼리벡터| × |문서벡터|)
</span></span><span class=line><span class=cl>  ```
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>- 문서와 쿼리를 다차원 벡터로 표현
</span></span><span class=line><span class=cl>- 벡터 간 각도의 코사인 값으로 유사도 계산
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>#### 스키마 및 매핑(Schema &amp; Mapping)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>검색 엔진에서 데이터 구조를 정의하는 방식이다.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Elasticsearch 매핑 예제:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>```javascript
</span></span><span class=line><span class=cl>PUT /products
</span></span><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>&#34;mappings&#34;: {
</span></span><span class=line><span class=cl>  &#34;properties&#34;: {
</span></span><span class=line><span class=cl>    &#34;id&#34;: { 
</span></span><span class=line><span class=cl>      &#34;type&#34;: &#34;keyword&#34; 
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;name&#34;: { 
</span></span><span class=line><span class=cl>      &#34;type&#34;: &#34;text&#34;,
</span></span><span class=line><span class=cl>      &#34;analyzer&#34;: &#34;korean&#34;,
</span></span><span class=line><span class=cl>      &#34;fields&#34;: {
</span></span><span class=line><span class=cl>        &#34;keyword&#34;: {
</span></span><span class=line><span class=cl>          &#34;type&#34;: &#34;keyword&#34;,
</span></span><span class=line><span class=cl>          &#34;ignore_above&#34;: 256
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>      }
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;description&#34;: {
</span></span><span class=line><span class=cl>      &#34;type&#34;: &#34;text&#34;,
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      &#34;analyzer&#34;: &#34;korean&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;price&#34;: {
</span></span><span class=line><span class=cl>      &#34;type&#34;: &#34;float&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;created_at&#34;: {
</span></span><span class=line><span class=cl>      &#34;type&#34;: &#34;date&#34;,
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      &#34;format&#34;: &#34;yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;tags&#34;: {
</span></span><span class=line><span class=cl>      &#34;type&#34;: &#34;keyword&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;location&#34;: {
</span></span><span class=line><span class=cl>      &#34;type&#34;: &#34;geo_point&#34;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><p>주요 개념:</p><ul><li><strong>정적 매핑(Static Mapping)</strong>: 스키마를 사전에 명시적으로 정의</li><li><strong>동적 매핑(Dynamic Mapping)</strong>: 데이터가 들어오면 자동으로 타입 추론</li><li><strong>필드 타입</strong>: text, keyword, numeric, date, boolean, geo_point 등</li><li><strong>멀티필드(Multi-fields)</strong>: 하나의 필드를 여러 방식으로 인덱싱(예: 전문 검색용 + 정확한 매칭용)</li><li><strong>분석기(Analyzer)</strong>: 필드별 토큰화 및 분석 방식 정의</li></ul><h3 id=검색-엔진의-고급-기능>검색 엔진의 고급 기능<a hidden class=anchor aria-hidden=true href=#검색-엔진의-고급-기능>#</a></h3><p>현대 검색 엔진은 기본 검색을 넘어 다양한 고급 기능을 제공한다.</p><h4 id=자연어-처리nlp-및-언어-분석>자연어 처리(NLP) 및 언어 분석<a hidden class=anchor aria-hidden=true href=#자연어-처리nlp-및-언어-분석>#</a></h4><p>다국어 검색과 자연어 이해를 위한 고급 언어 처리 기능:</p><ul><li><p><strong>형태소 분석(Morphological Analysis)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1>1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>한국어: &#34;검색엔진을 사용합니다&#34; → [&#34;검색&#34;, &#34;엔진&#34;, &#34;사용&#34;]
</span></span><span class=line><span class=cl>영어: &#34;searching engines&#34; → [&#34;search&#34;, &#34;engine&#34;]
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>동의어 확장(Synonym Expansion)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&#34;자동차&#34; 검색 → &#34;차량&#34;, &#34;자가용&#34;, &#34;승용차&#34; 등 포함
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>음성적 매칭(Phonetic Matching)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&#34;Smith&#34; 검색 → &#34;Smyth&#34;, &#34;Smythe&#34; 등 발음이 유사한 단어 포함
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>엔티티 인식(Entity Recognition)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&#34;서울에서 내일 날씨는 어때?&#34; → 장소(서울), 시간(내일), 주제(날씨) 인식
</span></span></code></pre></td></tr></table></div></div></li></ul><h5 id=텍스트-분석-및-언어-처리-파이프라인>텍스트 분석 및 언어 처리 파이프라인<a hidden class=anchor aria-hidden=true href=#텍스트-분석-및-언어-처리-파이프라인>#</a></h5><p>검색 엔진의 핵심인 텍스트 분석 과정을 자세히 살펴보자:</p><ol><li>분석기 구성 요소<br>Elasticsearch/Lucene 분석기의 주요 구성:<ul><li><strong>캐릭터 필터(Character Filters)</strong>: 원본 텍스트에서 특정 문자를 변환/제거</li><li><strong>토크나이저(Tokenizer)</strong>: 텍스트를 개별 토큰으로 분리</li><li><strong>토큰 필터(Token Filters)</strong>: 생성된 토큰을 변형, 추가, 제거</li></ul></li></ol><p>분석기 구성 예:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1>  1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2>  2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3>  3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4>  4</a>
</span><span class=lnt id=hl-12-5><a class=lnlinks href=#hl-12-5>  5</a>
</span><span class=lnt id=hl-12-6><a class=lnlinks href=#hl-12-6>  6</a>
</span><span class=lnt id=hl-12-7><a class=lnlinks href=#hl-12-7>  7</a>
</span><span class=lnt id=hl-12-8><a class=lnlinks href=#hl-12-8>  8</a>
</span><span class=lnt id=hl-12-9><a class=lnlinks href=#hl-12-9>  9</a>
</span><span class=lnt id=hl-12-10><a class=lnlinks href=#hl-12-10> 10</a>
</span><span class=lnt id=hl-12-11><a class=lnlinks href=#hl-12-11> 11</a>
</span><span class=lnt id=hl-12-12><a class=lnlinks href=#hl-12-12> 12</a>
</span><span class=lnt id=hl-12-13><a class=lnlinks href=#hl-12-13> 13</a>
</span><span class=lnt id=hl-12-14><a class=lnlinks href=#hl-12-14> 14</a>
</span><span class=lnt id=hl-12-15><a class=lnlinks href=#hl-12-15> 15</a>
</span><span class=lnt id=hl-12-16><a class=lnlinks href=#hl-12-16> 16</a>
</span><span class=lnt id=hl-12-17><a class=lnlinks href=#hl-12-17> 17</a>
</span><span class=lnt id=hl-12-18><a class=lnlinks href=#hl-12-18> 18</a>
</span><span class=lnt id=hl-12-19><a class=lnlinks href=#hl-12-19> 19</a>
</span><span class=lnt id=hl-12-20><a class=lnlinks href=#hl-12-20> 20</a>
</span><span class=lnt id=hl-12-21><a class=lnlinks href=#hl-12-21> 21</a>
</span><span class=lnt id=hl-12-22><a class=lnlinks href=#hl-12-22> 22</a>
</span><span class=lnt id=hl-12-23><a class=lnlinks href=#hl-12-23> 23</a>
</span><span class=lnt id=hl-12-24><a class=lnlinks href=#hl-12-24> 24</a>
</span><span class=lnt id=hl-12-25><a class=lnlinks href=#hl-12-25> 25</a>
</span><span class=lnt id=hl-12-26><a class=lnlinks href=#hl-12-26> 26</a>
</span><span class=lnt id=hl-12-27><a class=lnlinks href=#hl-12-27> 27</a>
</span><span class=lnt id=hl-12-28><a class=lnlinks href=#hl-12-28> 28</a>
</span><span class=lnt id=hl-12-29><a class=lnlinks href=#hl-12-29> 29</a>
</span><span class=lnt id=hl-12-30><a class=lnlinks href=#hl-12-30> 30</a>
</span><span class=lnt id=hl-12-31><a class=lnlinks href=#hl-12-31> 31</a>
</span><span class=lnt id=hl-12-32><a class=lnlinks href=#hl-12-32> 32</a>
</span><span class=lnt id=hl-12-33><a class=lnlinks href=#hl-12-33> 33</a>
</span><span class=lnt id=hl-12-34><a class=lnlinks href=#hl-12-34> 34</a>
</span><span class=lnt id=hl-12-35><a class=lnlinks href=#hl-12-35> 35</a>
</span><span class=lnt id=hl-12-36><a class=lnlinks href=#hl-12-36> 36</a>
</span><span class=lnt id=hl-12-37><a class=lnlinks href=#hl-12-37> 37</a>
</span><span class=lnt id=hl-12-38><a class=lnlinks href=#hl-12-38> 38</a>
</span><span class=lnt id=hl-12-39><a class=lnlinks href=#hl-12-39> 39</a>
</span><span class=lnt id=hl-12-40><a class=lnlinks href=#hl-12-40> 40</a>
</span><span class=lnt id=hl-12-41><a class=lnlinks href=#hl-12-41> 41</a>
</span><span class=lnt id=hl-12-42><a class=lnlinks href=#hl-12-42> 42</a>
</span><span class=lnt id=hl-12-43><a class=lnlinks href=#hl-12-43> 43</a>
</span><span class=lnt id=hl-12-44><a class=lnlinks href=#hl-12-44> 44</a>
</span><span class=lnt id=hl-12-45><a class=lnlinks href=#hl-12-45> 45</a>
</span><span class=lnt id=hl-12-46><a class=lnlinks href=#hl-12-46> 46</a>
</span><span class=lnt id=hl-12-47><a class=lnlinks href=#hl-12-47> 47</a>
</span><span class=lnt id=hl-12-48><a class=lnlinks href=#hl-12-48> 48</a>
</span><span class=lnt id=hl-12-49><a class=lnlinks href=#hl-12-49> 49</a>
</span><span class=lnt id=hl-12-50><a class=lnlinks href=#hl-12-50> 50</a>
</span><span class=lnt id=hl-12-51><a class=lnlinks href=#hl-12-51> 51</a>
</span><span class=lnt id=hl-12-52><a class=lnlinks href=#hl-12-52> 52</a>
</span><span class=lnt id=hl-12-53><a class=lnlinks href=#hl-12-53> 53</a>
</span><span class=lnt id=hl-12-54><a class=lnlinks href=#hl-12-54> 54</a>
</span><span class=lnt id=hl-12-55><a class=lnlinks href=#hl-12-55> 55</a>
</span><span class=lnt id=hl-12-56><a class=lnlinks href=#hl-12-56> 56</a>
</span><span class=lnt id=hl-12-57><a class=lnlinks href=#hl-12-57> 57</a>
</span><span class=lnt id=hl-12-58><a class=lnlinks href=#hl-12-58> 58</a>
</span><span class=lnt id=hl-12-59><a class=lnlinks href=#hl-12-59> 59</a>
</span><span class=lnt id=hl-12-60><a class=lnlinks href=#hl-12-60> 60</a>
</span><span class=lnt id=hl-12-61><a class=lnlinks href=#hl-12-61> 61</a>
</span><span class=lnt id=hl-12-62><a class=lnlinks href=#hl-12-62> 62</a>
</span><span class=lnt id=hl-12-63><a class=lnlinks href=#hl-12-63> 63</a>
</span><span class=lnt id=hl-12-64><a class=lnlinks href=#hl-12-64> 64</a>
</span><span class=lnt id=hl-12-65><a class=lnlinks href=#hl-12-65> 65</a>
</span><span class=lnt id=hl-12-66><a class=lnlinks href=#hl-12-66> 66</a>
</span><span class=lnt id=hl-12-67><a class=lnlinks href=#hl-12-67> 67</a>
</span><span class=lnt id=hl-12-68><a class=lnlinks href=#hl-12-68> 68</a>
</span><span class=lnt id=hl-12-69><a class=lnlinks href=#hl-12-69> 69</a>
</span><span class=lnt id=hl-12-70><a class=lnlinks href=#hl-12-70> 70</a>
</span><span class=lnt id=hl-12-71><a class=lnlinks href=#hl-12-71> 71</a>
</span><span class=lnt id=hl-12-72><a class=lnlinks href=#hl-12-72> 72</a>
</span><span class=lnt id=hl-12-73><a class=lnlinks href=#hl-12-73> 73</a>
</span><span class=lnt id=hl-12-74><a class=lnlinks href=#hl-12-74> 74</a>
</span><span class=lnt id=hl-12-75><a class=lnlinks href=#hl-12-75> 75</a>
</span><span class=lnt id=hl-12-76><a class=lnlinks href=#hl-12-76> 76</a>
</span><span class=lnt id=hl-12-77><a class=lnlinks href=#hl-12-77> 77</a>
</span><span class=lnt id=hl-12-78><a class=lnlinks href=#hl-12-78> 78</a>
</span><span class=lnt id=hl-12-79><a class=lnlinks href=#hl-12-79> 79</a>
</span><span class=lnt id=hl-12-80><a class=lnlinks href=#hl-12-80> 80</a>
</span><span class=lnt id=hl-12-81><a class=lnlinks href=#hl-12-81> 81</a>
</span><span class=lnt id=hl-12-82><a class=lnlinks href=#hl-12-82> 82</a>
</span><span class=lnt id=hl-12-83><a class=lnlinks href=#hl-12-83> 83</a>
</span><span class=lnt id=hl-12-84><a class=lnlinks href=#hl-12-84> 84</a>
</span><span class=lnt id=hl-12-85><a class=lnlinks href=#hl-12-85> 85</a>
</span><span class=lnt id=hl-12-86><a class=lnlinks href=#hl-12-86> 86</a>
</span><span class=lnt id=hl-12-87><a class=lnlinks href=#hl-12-87> 87</a>
</span><span class=lnt id=hl-12-88><a class=lnlinks href=#hl-12-88> 88</a>
</span><span class=lnt id=hl-12-89><a class=lnlinks href=#hl-12-89> 89</a>
</span><span class=lnt id=hl-12-90><a class=lnlinks href=#hl-12-90> 90</a>
</span><span class=lnt id=hl-12-91><a class=lnlinks href=#hl-12-91> 91</a>
</span><span class=lnt id=hl-12-92><a class=lnlinks href=#hl-12-92> 92</a>
</span><span class=lnt id=hl-12-93><a class=lnlinks href=#hl-12-93> 93</a>
</span><span class=lnt id=hl-12-94><a class=lnlinks href=#hl-12-94> 94</a>
</span><span class=lnt id=hl-12-95><a class=lnlinks href=#hl-12-95> 95</a>
</span><span class=lnt id=hl-12-96><a class=lnlinks href=#hl-12-96> 96</a>
</span><span class=lnt id=hl-12-97><a class=lnlinks href=#hl-12-97> 97</a>
</span><span class=lnt id=hl-12-98><a class=lnlinks href=#hl-12-98> 98</a>
</span><span class=lnt id=hl-12-99><a class=lnlinks href=#hl-12-99> 99</a>
</span><span class=lnt id=hl-12-100><a class=lnlinks href=#hl-12-100>100</a>
</span><span class=lnt id=hl-12-101><a class=lnlinks href=#hl-12-101>101</a>
</span><span class=lnt id=hl-12-102><a class=lnlinks href=#hl-12-102>102</a>
</span><span class=lnt id=hl-12-103><a class=lnlinks href=#hl-12-103>103</a>
</span><span class=lnt id=hl-12-104><a class=lnlinks href=#hl-12-104>104</a>
</span><span class=lnt id=hl-12-105><a class=lnlinks href=#hl-12-105>105</a>
</span><span class=lnt id=hl-12-106><a class=lnlinks href=#hl-12-106>106</a>
</span><span class=lnt id=hl-12-107><a class=lnlinks href=#hl-12-107>107</a>
</span><span class=lnt id=hl-12-108><a class=lnlinks href=#hl-12-108>108</a>
</span><span class=lnt id=hl-12-109><a class=lnlinks href=#hl-12-109>109</a>
</span><span class=lnt id=hl-12-110><a class=lnlinks href=#hl-12-110>110</a>
</span><span class=lnt id=hl-12-111><a class=lnlinks href=#hl-12-111>111</a>
</span><span class=lnt id=hl-12-112><a class=lnlinks href=#hl-12-112>112</a>
</span><span class=lnt id=hl-12-113><a class=lnlinks href=#hl-12-113>113</a>
</span><span class=lnt id=hl-12-114><a class=lnlinks href=#hl-12-114>114</a>
</span><span class=lnt id=hl-12-115><a class=lnlinks href=#hl-12-115>115</a>
</span><span class=lnt id=hl-12-116><a class=lnlinks href=#hl-12-116>116</a>
</span><span class=lnt id=hl-12-117><a class=lnlinks href=#hl-12-117>117</a>
</span><span class=lnt id=hl-12-118><a class=lnlinks href=#hl-12-118>118</a>
</span><span class=lnt id=hl-12-119><a class=lnlinks href=#hl-12-119>119</a>
</span><span class=lnt id=hl-12-120><a class=lnlinks href=#hl-12-120>120</a>
</span><span class=lnt id=hl-12-121><a class=lnlinks href=#hl-12-121>121</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 한국어 검색을 위한 사용자 정의 분석기
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>PUT</span> <span class=o>/</span><span class=nx>korean_index</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;settings&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;analysis&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;analyzer&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;korean_analyzer&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span><span class=o>:</span> <span class=s2>&#34;custom&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;char_filter&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;html_strip&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;korean_jamo_filter&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>],</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;tokenizer&#34;</span><span class=o>:</span> <span class=s2>&#34;nori_tokenizer&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;filter&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;nori_part_of_speech&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;lowercase&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;korean_stop&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;synonym_filter&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;korean_length_filter&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;char_filter&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;korean_jamo_filter&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span><span class=o>:</span> <span class=s2>&#34;mapping&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;mappings&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;ㄱ =&gt; 가&#34;</span><span class=p>,</span> <span class=s2>&#34;ㄴ =&gt; 나&#34;</span><span class=p>,</span> <span class=s2>&#34;ㄷ =&gt; 다&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;filter&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;korean_stop&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span><span class=o>:</span> <span class=s2>&#34;stop&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;stopwords&#34;</span><span class=o>:</span> <span class=p>[</span><span class=s2>&#34;그&#34;</span><span class=p>,</span> <span class=s2>&#34;저&#34;</span><span class=p>,</span> <span class=s2>&#34;이&#34;</span><span class=p>,</span> <span class=s2>&#34;것&#34;</span><span class=p>,</span> <span class=s2>&#34;등&#34;</span><span class=p>,</span> <span class=s2>&#34;들&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;nori_part_of_speech&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span><span class=o>:</span> <span class=s2>&#34;nori_part_of_speech&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;stoptags&#34;</span><span class=o>:</span> <span class=p>[</span><span class=s2>&#34;E&#34;</span><span class=p>,</span> <span class=s2>&#34;IC&#34;</span><span class=p>,</span> <span class=s2>&#34;J&#34;</span><span class=p>,</span> <span class=s2>&#34;MAG&#34;</span><span class=p>,</span> <span class=s2>&#34;MAJ&#34;</span><span class=p>,</span> <span class=s2>&#34;MM&#34;</span><span class=p>,</span> <span class=s2>&#34;SP&#34;</span><span class=p>,</span> <span class=s2>&#34;SSC&#34;</span><span class=p>,</span> <span class=s2>&#34;SSO&#34;</span><span class=p>,</span> <span class=s2>&#34;SC&#34;</span><span class=p>,</span> <span class=s2>&#34;SE&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;korean_length_filter&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span><span class=o>:</span> <span class=s2>&#34;length&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;min&#34;</span><span class=o>:</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;synonym_filter&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;type&#34;</span><span class=o>:</span> <span class=s2>&#34;synonym&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;synonyms&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;스마트폰, 휴대폰, 핸드폰, 모바일폰&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;노트북, 랩탑&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>          <span class=p>]</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;mappings&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;properties&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;title&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;type&#34;</span><span class=o>:</span> <span class=s2>&#34;text&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;analyzer&#34;</span><span class=o>:</span> <span class=s2>&#34;korean_analyzer&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;search_analyzer&#34;</span><span class=o>:</span> <span class=s2>&#34;korean_analyzer&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;content&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;type&#34;</span><span class=o>:</span> <span class=s2>&#34;text&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;analyzer&#34;</span><span class=o>:</span> <span class=s2>&#34;korean_analyzer&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=sb>`
</span></span></span><span class=line><span class=cl><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>#### 분석기의 종류 및 특성
</span></span></span><span class=line><span class=cl><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>한 언어와 용도에 맞는 분석기:
</span></span></span><span class=line><span class=cl><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>- **언어별 분석기**:
</span></span></span><span class=line><span class=cl><span class=sb>  - `</span><span class=nx>english</span><span class=sb>`: 영어 단어의 어근 추출(stemming)
</span></span></span><span class=line><span class=cl><span class=sb>  - `</span><span class=nx>korean</span><span class=sb>`/`</span><span class=nx>nori</span><span class=sb>`: 한국어 형태소 분석
</span></span></span><span class=line><span class=cl><span class=sb>  - `</span><span class=nx>cjk</span><span class=sb>`: 중국어, 일본어, 한국어 처리
</span></span></span><span class=line><span class=cl><span class=sb>- **특수 목적 분석기**:
</span></span></span><span class=line><span class=cl><span class=sb>  - `</span><span class=nx>standard</span><span class=sb>`: 대부분의 언어에 적합한 범용 분석기
</span></span></span><span class=line><span class=cl><span class=sb>  - `</span><span class=nx>keyword</span><span class=sb>`: 텍스트를 하나의 토큰으로 유지
</span></span></span><span class=line><span class=cl><span class=sb>  - `</span><span class=nx>whitespace</span><span class=sb>`: 공백 기준으로만 분리
</span></span></span><span class=line><span class=cl><span class=sb>  - `</span><span class=nx>fingerprint</span><span class=sb>`: 중복 제거 및 정규화에 활용
</span></span></span><span class=line><span class=cl><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>#### 지리공간 검색(Geospatial Search)
</span></span></span><span class=line><span class=cl><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>위치 기반 데이터를 효율적으로 처리하는 기능:
</span></span></span><span class=line><span class=cl><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>```</span><span class=nx>javascript</span>
</span></span><span class=line><span class=cl><span class=c1>// 특정 위치 주변 10km 내의 레스토랑 검색
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>GET</span> <span class=o>/</span><span class=nx>restaurants</span><span class=o>/</span><span class=nx>_search</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;query&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;bool&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;must&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;match&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;cuisine&#34;</span><span class=o>:</span> <span class=s2>&#34;한식&#34;</span> <span class=p>}</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;filter&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;geo_distance&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;distance&#34;</span><span class=o>:</span> <span class=s2>&#34;10km&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;location&#34;</span><span class=o>:</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;lat&#34;</span><span class=o>:</span> <span class=mf>37.5665</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>            <span class=s2>&#34;lon&#34;</span><span class=o>:</span> <span class=mf>126.9780</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;sort&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;_geo_distance&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;location&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;lat&#34;</span><span class=o>:</span> <span class=mf>37.5665</span><span class=p>,</span> <span class=s2>&#34;lon&#34;</span><span class=o>:</span> <span class=mf>126.9780</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;order&#34;</span><span class=o>:</span> <span class=s2>&#34;asc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;unit&#34;</span><span class=o>:</span> <span class=s2>&#34;km&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>주요 지리공간 검색 기능:</p><ul><li>거리 기반 필터링 및 정렬</li><li>지리적 경계(bounding box) 검색</li><li>다각형 영역 내 검색</li><li>격자 기반 집계(geohash grid)</li></ul><h4 id=벡터-검색-및-시맨틱-검색vector--semantic-search>벡터 검색 및 시맨틱 검색(Vector & Semantic Search)<a hidden class=anchor aria-hidden=true href=#벡터-검색-및-시맨틱-검색vector--semantic-search>#</a></h4><p>최신 검색 엔진은 딥러닝 기반의 의미 검색 기능을 제공한다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1> 1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2> 2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3> 3</a>
</span><span class=lnt id=hl-13-4><a class=lnlinks href=#hl-13-4> 4</a>
</span><span class=lnt id=hl-13-5><a class=lnlinks href=#hl-13-5> 5</a>
</span><span class=lnt id=hl-13-6><a class=lnlinks href=#hl-13-6> 6</a>
</span><span class=lnt id=hl-13-7><a class=lnlinks href=#hl-13-7> 7</a>
</span><span class=lnt id=hl-13-8><a class=lnlinks href=#hl-13-8> 8</a>
</span><span class=lnt id=hl-13-9><a class=lnlinks href=#hl-13-9> 9</a>
</span><span class=lnt id=hl-13-10><a class=lnlinks href=#hl-13-10>10</a>
</span><span class=lnt id=hl-13-11><a class=lnlinks href=#hl-13-11>11</a>
</span><span class=lnt id=hl-13-12><a class=lnlinks href=#hl-13-12>12</a>
</span><span class=lnt id=hl-13-13><a class=lnlinks href=#hl-13-13>13</a>
</span><span class=lnt id=hl-13-14><a class=lnlinks href=#hl-13-14>14</a>
</span><span class=lnt id=hl-13-15><a class=lnlinks href=#hl-13-15>15</a>
</span><span class=lnt id=hl-13-16><a class=lnlinks href=#hl-13-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 벡터 검색 예제
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>GET</span> <span class=o>/</span><span class=nx>articles</span><span class=o>/</span><span class=nx>_search</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;query&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;script_score&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;query&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;match_all&#34;</span><span class=o>:</span> <span class=p>{}</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;source&#34;</span><span class=o>:</span> <span class=s2>&#34;cosineSimilarity(params.query_vector, &#39;embedding&#39;) + 1.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;params&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;query_vector&#34;</span><span class=o>:</span> <span class=p>[</span><span class=mf>0.1</span><span class=p>,</span> <span class=mf>0.2</span><span class=p>,</span> <span class=mf>0.3</span><span class=p>,</span> <span class=err>…</span><span class=p>,</span> <span class=mf>0.7</span><span class=p>]</span>  <span class=c1>// 쿼리 임베딩
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>벡터 검색의 작동 원리:</p><ol><li>문서와 쿼리를 고차원 벡터로 변환(임베딩)</li><li>의미적으로 유사한 내용은 벡터 공간에서 가까운 위치에 배치</li><li>근접 이웃 알고리즘(ANN)을 통해 빠른 유사도 검색</li><li>코사인 유사도, 유클리드 거리 등으로 관련성 계산</li></ol><p>주요 벡터 검색 알고리즘:</p><ul><li><strong>HNSW(Hierarchical Navigable Small World)</strong>: 그래프 기반 근사 알고리즘</li><li><strong>IVF(Inverted File Index)</strong>: 벡터를 클러스터로 그룹화</li><li><strong>PQ(Product Quantization)</strong>: 벡터 압축 기법</li></ul><h4 id=실시간-분석-및-모니터링>실시간 분석 및 모니터링<a hidden class=anchor aria-hidden=true href=#실시간-분석-및-모니터링>#</a></h4><p>검색 엔진은 로그 분석, 시스템 모니터링 등 실시간 데이터 처리에 광범위하게 활용된다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1>  1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2>  2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3>  3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4>  4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5>  5</a>
</span><span class=lnt id=hl-14-6><a class=lnlinks href=#hl-14-6>  6</a>
</span><span class=lnt id=hl-14-7><a class=lnlinks href=#hl-14-7>  7</a>
</span><span class=lnt id=hl-14-8><a class=lnlinks href=#hl-14-8>  8</a>
</span><span class=lnt id=hl-14-9><a class=lnlinks href=#hl-14-9>  9</a>
</span><span class=lnt id=hl-14-10><a class=lnlinks href=#hl-14-10> 10</a>
</span><span class=lnt id=hl-14-11><a class=lnlinks href=#hl-14-11> 11</a>
</span><span class=lnt id=hl-14-12><a class=lnlinks href=#hl-14-12> 12</a>
</span><span class=lnt id=hl-14-13><a class=lnlinks href=#hl-14-13> 13</a>
</span><span class=lnt id=hl-14-14><a class=lnlinks href=#hl-14-14> 14</a>
</span><span class=lnt id=hl-14-15><a class=lnlinks href=#hl-14-15> 15</a>
</span><span class=lnt id=hl-14-16><a class=lnlinks href=#hl-14-16> 16</a>
</span><span class=lnt id=hl-14-17><a class=lnlinks href=#hl-14-17> 17</a>
</span><span class=lnt id=hl-14-18><a class=lnlinks href=#hl-14-18> 18</a>
</span><span class=lnt id=hl-14-19><a class=lnlinks href=#hl-14-19> 19</a>
</span><span class=lnt id=hl-14-20><a class=lnlinks href=#hl-14-20> 20</a>
</span><span class=lnt id=hl-14-21><a class=lnlinks href=#hl-14-21> 21</a>
</span><span class=lnt id=hl-14-22><a class=lnlinks href=#hl-14-22> 22</a>
</span><span class=lnt id=hl-14-23><a class=lnlinks href=#hl-14-23> 23</a>
</span><span class=lnt id=hl-14-24><a class=lnlinks href=#hl-14-24> 24</a>
</span><span class=lnt id=hl-14-25><a class=lnlinks href=#hl-14-25> 25</a>
</span><span class=lnt id=hl-14-26><a class=lnlinks href=#hl-14-26> 26</a>
</span><span class=lnt id=hl-14-27><a class=lnlinks href=#hl-14-27> 27</a>
</span><span class=lnt id=hl-14-28><a class=lnlinks href=#hl-14-28> 28</a>
</span><span class=lnt id=hl-14-29><a class=lnlinks href=#hl-14-29> 29</a>
</span><span class=lnt id=hl-14-30><a class=lnlinks href=#hl-14-30> 30</a>
</span><span class=lnt id=hl-14-31><a class=lnlinks href=#hl-14-31> 31</a>
</span><span class=lnt id=hl-14-32><a class=lnlinks href=#hl-14-32> 32</a>
</span><span class=lnt id=hl-14-33><a class=lnlinks href=#hl-14-33> 33</a>
</span><span class=lnt id=hl-14-34><a class=lnlinks href=#hl-14-34> 34</a>
</span><span class=lnt id=hl-14-35><a class=lnlinks href=#hl-14-35> 35</a>
</span><span class=lnt id=hl-14-36><a class=lnlinks href=#hl-14-36> 36</a>
</span><span class=lnt id=hl-14-37><a class=lnlinks href=#hl-14-37> 37</a>
</span><span class=lnt id=hl-14-38><a class=lnlinks href=#hl-14-38> 38</a>
</span><span class=lnt id=hl-14-39><a class=lnlinks href=#hl-14-39> 39</a>
</span><span class=lnt id=hl-14-40><a class=lnlinks href=#hl-14-40> 40</a>
</span><span class=lnt id=hl-14-41><a class=lnlinks href=#hl-14-41> 41</a>
</span><span class=lnt id=hl-14-42><a class=lnlinks href=#hl-14-42> 42</a>
</span><span class=lnt id=hl-14-43><a class=lnlinks href=#hl-14-43> 43</a>
</span><span class=lnt id=hl-14-44><a class=lnlinks href=#hl-14-44> 44</a>
</span><span class=lnt id=hl-14-45><a class=lnlinks href=#hl-14-45> 45</a>
</span><span class=lnt id=hl-14-46><a class=lnlinks href=#hl-14-46> 46</a>
</span><span class=lnt id=hl-14-47><a class=lnlinks href=#hl-14-47> 47</a>
</span><span class=lnt id=hl-14-48><a class=lnlinks href=#hl-14-48> 48</a>
</span><span class=lnt id=hl-14-49><a class=lnlinks href=#hl-14-49> 49</a>
</span><span class=lnt id=hl-14-50><a class=lnlinks href=#hl-14-50> 50</a>
</span><span class=lnt id=hl-14-51><a class=lnlinks href=#hl-14-51> 51</a>
</span><span class=lnt id=hl-14-52><a class=lnlinks href=#hl-14-52> 52</a>
</span><span class=lnt id=hl-14-53><a class=lnlinks href=#hl-14-53> 53</a>
</span><span class=lnt id=hl-14-54><a class=lnlinks href=#hl-14-54> 54</a>
</span><span class=lnt id=hl-14-55><a class=lnlinks href=#hl-14-55> 55</a>
</span><span class=lnt id=hl-14-56><a class=lnlinks href=#hl-14-56> 56</a>
</span><span class=lnt id=hl-14-57><a class=lnlinks href=#hl-14-57> 57</a>
</span><span class=lnt id=hl-14-58><a class=lnlinks href=#hl-14-58> 58</a>
</span><span class=lnt id=hl-14-59><a class=lnlinks href=#hl-14-59> 59</a>
</span><span class=lnt id=hl-14-60><a class=lnlinks href=#hl-14-60> 60</a>
</span><span class=lnt id=hl-14-61><a class=lnlinks href=#hl-14-61> 61</a>
</span><span class=lnt id=hl-14-62><a class=lnlinks href=#hl-14-62> 62</a>
</span><span class=lnt id=hl-14-63><a class=lnlinks href=#hl-14-63> 63</a>
</span><span class=lnt id=hl-14-64><a class=lnlinks href=#hl-14-64> 64</a>
</span><span class=lnt id=hl-14-65><a class=lnlinks href=#hl-14-65> 65</a>
</span><span class=lnt id=hl-14-66><a class=lnlinks href=#hl-14-66> 66</a>
</span><span class=lnt id=hl-14-67><a class=lnlinks href=#hl-14-67> 67</a>
</span><span class=lnt id=hl-14-68><a class=lnlinks href=#hl-14-68> 68</a>
</span><span class=lnt id=hl-14-69><a class=lnlinks href=#hl-14-69> 69</a>
</span><span class=lnt id=hl-14-70><a class=lnlinks href=#hl-14-70> 70</a>
</span><span class=lnt id=hl-14-71><a class=lnlinks href=#hl-14-71> 71</a>
</span><span class=lnt id=hl-14-72><a class=lnlinks href=#hl-14-72> 72</a>
</span><span class=lnt id=hl-14-73><a class=lnlinks href=#hl-14-73> 73</a>
</span><span class=lnt id=hl-14-74><a class=lnlinks href=#hl-14-74> 74</a>
</span><span class=lnt id=hl-14-75><a class=lnlinks href=#hl-14-75> 75</a>
</span><span class=lnt id=hl-14-76><a class=lnlinks href=#hl-14-76> 76</a>
</span><span class=lnt id=hl-14-77><a class=lnlinks href=#hl-14-77> 77</a>
</span><span class=lnt id=hl-14-78><a class=lnlinks href=#hl-14-78> 78</a>
</span><span class=lnt id=hl-14-79><a class=lnlinks href=#hl-14-79> 79</a>
</span><span class=lnt id=hl-14-80><a class=lnlinks href=#hl-14-80> 80</a>
</span><span class=lnt id=hl-14-81><a class=lnlinks href=#hl-14-81> 81</a>
</span><span class=lnt id=hl-14-82><a class=lnlinks href=#hl-14-82> 82</a>
</span><span class=lnt id=hl-14-83><a class=lnlinks href=#hl-14-83> 83</a>
</span><span class=lnt id=hl-14-84><a class=lnlinks href=#hl-14-84> 84</a>
</span><span class=lnt id=hl-14-85><a class=lnlinks href=#hl-14-85> 85</a>
</span><span class=lnt id=hl-14-86><a class=lnlinks href=#hl-14-86> 86</a>
</span><span class=lnt id=hl-14-87><a class=lnlinks href=#hl-14-87> 87</a>
</span><span class=lnt id=hl-14-88><a class=lnlinks href=#hl-14-88> 88</a>
</span><span class=lnt id=hl-14-89><a class=lnlinks href=#hl-14-89> 89</a>
</span><span class=lnt id=hl-14-90><a class=lnlinks href=#hl-14-90> 90</a>
</span><span class=lnt id=hl-14-91><a class=lnlinks href=#hl-14-91> 91</a>
</span><span class=lnt id=hl-14-92><a class=lnlinks href=#hl-14-92> 92</a>
</span><span class=lnt id=hl-14-93><a class=lnlinks href=#hl-14-93> 93</a>
</span><span class=lnt id=hl-14-94><a class=lnlinks href=#hl-14-94> 94</a>
</span><span class=lnt id=hl-14-95><a class=lnlinks href=#hl-14-95> 95</a>
</span><span class=lnt id=hl-14-96><a class=lnlinks href=#hl-14-96> 96</a>
</span><span class=lnt id=hl-14-97><a class=lnlinks href=#hl-14-97> 97</a>
</span><span class=lnt id=hl-14-98><a class=lnlinks href=#hl-14-98> 98</a>
</span><span class=lnt id=hl-14-99><a class=lnlinks href=#hl-14-99> 99</a>
</span><span class=lnt id=hl-14-100><a class=lnlinks href=#hl-14-100>100</a>
</span><span class=lnt id=hl-14-101><a class=lnlinks href=#hl-14-101>101</a>
</span><span class=lnt id=hl-14-102><a class=lnlinks href=#hl-14-102>102</a>
</span><span class=lnt id=hl-14-103><a class=lnlinks href=#hl-14-103>103</a>
</span><span class=lnt id=hl-14-104><a class=lnlinks href=#hl-14-104>104</a>
</span><span class=lnt id=hl-14-105><a class=lnlinks href=#hl-14-105>105</a>
</span><span class=lnt id=hl-14-106><a class=lnlinks href=#hl-14-106>106</a>
</span><span class=lnt id=hl-14-107><a class=lnlinks href=#hl-14-107>107</a>
</span><span class=lnt id=hl-14-108><a class=lnlinks href=#hl-14-108>108</a>
</span><span class=lnt id=hl-14-109><a class=lnlinks href=#hl-14-109>109</a>
</span><span class=lnt id=hl-14-110><a class=lnlinks href=#hl-14-110>110</a>
</span><span class=lnt id=hl-14-111><a class=lnlinks href=#hl-14-111>111</a>
</span><span class=lnt id=hl-14-112><a class=lnlinks href=#hl-14-112>112</a>
</span><span class=lnt id=hl-14-113><a class=lnlinks href=#hl-14-113>113</a>
</span><span class=lnt id=hl-14-114><a class=lnlinks href=#hl-14-114>114</a>
</span><span class=lnt id=hl-14-115><a class=lnlinks href=#hl-14-115>115</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 시스템 로그 분석 집계 예제
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>GET</span> <span class=o>/</span><span class=nx>logs</span><span class=o>-*</span><span class=err>/_search</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;size&#34;</span><span class=o>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;aggs&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;errors_over_time&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;field&#34;</span><span class=o>:</span> <span class=s2>&#34;@timestamp&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;fixed_interval&#34;</span><span class=o>:</span> <span class=s2>&#34;30m&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;aggs&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;error_types&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;terms&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;field&#34;</span><span class=o>:</span> <span class=s2>&#34;error.type&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;size&#34;</span><span class=o>:</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;aggs&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;service_breakdown&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;terms&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;field&#34;</span><span class=o>:</span> <span class=s2>&#34;service.name&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;size&#34;</span><span class=o>:</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>              <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>실시간</span> <span class=nx>분석</span> <span class=nx>활용</span> <span class=nx>사례</span><span class=o>:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=nx>애플리케이션</span> <span class=nx>성능</span> <span class=nx>모니터링</span><span class=p>(</span><span class=nx>APM</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=nx>보안</span> <span class=nx>이벤트</span> <span class=nx>탐지</span> <span class=nx>및</span> <span class=nx>분석</span><span class=p>(</span><span class=nx>SIEM</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>니스</span> <span class=nx>지표</span> <span class=nx>추적</span> <span class=nx>및</span> <span class=nx>알림</span>
</span></span><span class=line><span class=cl><span class=nx>열</span> <span class=nx>데이터</span> <span class=nx>분석</span> <span class=nx>및</span> <span class=nx>예측</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err>#</span> <span class=nx>검색</span> <span class=nx>엔진</span> <span class=nx>기술의</span> <span class=nx>심층</span> <span class=nx>분석</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err>##</span> <span class=nx>검색</span> <span class=nx>알고리즘</span> <span class=nx>심층</span> <span class=nx>이해</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>진의</span> <span class=nx>핵심</span> <span class=nx>알고리즘과</span> <span class=nx>자료구조를</span> <span class=nx>살펴봅니다</span><span class=o>:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err>#####</span> <span class=nx>역색인</span> <span class=nx>구조의</span> <span class=nx>최적화</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>효율적인</span> <span class=nx>역색인</span> <span class=nx>구현</span> <span class=nx>기법</span><span class=o>:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=o>**</span><span class=nx>포스팅</span> <span class=nx>리스트</span> <span class=nx>압축</span><span class=p>(</span><span class=nx>Posting</span> <span class=nx>List</span> <span class=nx>Compression</span><span class=p>)</span><span class=o>**:</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=nx>델타</span> <span class=nx>인코딩</span><span class=p>(</span><span class=nx>Delta</span> <span class=nx>Encoding</span><span class=p>)</span><span class=o>:</span> <span class=nx>연속된</span> <span class=nx>문서</span> <span class=nx>ID</span> <span class=nx>간의</span> <span class=nx>차이만</span> <span class=nx>저장</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=nx>비트맵</span> <span class=nx>인코딩</span><span class=p>(</span><span class=nx>Bitmap</span> <span class=nx>Encoding</span><span class=p>)</span><span class=o>:</span> <span class=nx>비트</span> <span class=nx>배열로</span> <span class=nx>문서</span> <span class=nx>포함</span> <span class=nx>여부</span> <span class=nx>표현</span>
</span></span><span class=line><span class=cl>  <span class=o>-</span> <span class=nx>프레임</span> <span class=nx>오브</span> <span class=nx>레퍼런스</span><span class=p>(</span><span class=nx>Frame</span> <span class=k>of</span> <span class=nx>Reference</span><span class=p>)</span><span class=o>:</span> <span class=nx>기준값과</span> <span class=nx>차이를</span> <span class=nx>압축</span>
</span></span><span class=line><span class=cl><span class=o>**</span><span class=nx>스킵</span> <span class=nx>리스트</span><span class=p>(</span><span class=nx>Skip</span> <span class=nx>List</span><span class=p>)</span><span class=o>**:</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=nx>포스팅</span> <span class=nx>리스트에서</span> <span class=nx>빠른</span> <span class=nx>탐색을</span> <span class=nx>위한</span> <span class=nx>계층적</span> <span class=nx>인덱스</span>
</span></span><span class=line><span class=cl>  <span class=o>-</span> <span class=nx>불리언</span> <span class=nx>쿼리</span><span class=p>(</span><span class=nx>AND</span><span class=p>,</span> <span class=nx>OR</span><span class=p>)</span><span class=nx>의</span> <span class=nx>효율적</span> <span class=nx>처리에</span> <span class=nx>활용</span>
</span></span><span class=line><span class=cl><span class=o>**</span><span class=nx>블록</span> <span class=nx>색인</span><span class=p>(</span><span class=nx>Block</span> <span class=nx>Index</span><span class=p>)</span><span class=o>**:</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=nx>포스팅</span> <span class=nx>리스트를</span> <span class=nx>블록</span> <span class=nx>단위로</span> <span class=nx>압축</span>
</span></span><span class=line><span class=cl>  <span class=o>-</span> <span class=nx>효율적인</span> <span class=nx>메모리</span> <span class=nx>사용과</span> <span class=nx>빠른</span> <span class=nx>디스크</span> <span class=nx>I</span><span class=o>/</span><span class=nx>O</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err>#####</span> <span class=nx>검색</span> <span class=nx>알고리즘</span> <span class=nx>최적화</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>효율적인</span> <span class=nx>쿼리</span> <span class=nx>실행</span> <span class=nx>전략</span><span class=o>:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=o>**</span><span class=nx>쿼리</span> <span class=nx>재작성</span><span class=p>(</span><span class=nx>Query</span> <span class=nx>Rewriting</span><span class=p>)</span><span class=o>**:</span>
</span></span><span class=line><span class=cl>  <span class=o>-</span> <span class=nx>복잡한</span> <span class=nx>쿼리를</span> <span class=nx>최적화된</span> <span class=nx>형태로</span> <span class=nx>변환</span>
</span></span><span class=line><span class=cl>  <span class=o>-</span> <span class=nx>불필요한</span> <span class=nx>연산</span> <span class=nx>제거</span> <span class=nx>및</span> <span class=nx>효율적</span> <span class=nx>실행</span> <span class=nx>계획</span> <span class=nx>수립</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=o>**</span><span class=nx>쿼리</span> <span class=nx>실행</span> <span class=nx>순서</span> <span class=nx>최적화</span><span class=o>**:</span>
</span></span><span class=line><span class=cl>  <span class=o>-</span> <span class=nx>선택도가</span> <span class=nx>높은</span><span class=p>(</span><span class=nx>결과가</span> <span class=nx>적은</span><span class=p>)</span> <span class=nx>조건부터</span> <span class=nx>실행</span>
</span></span><span class=line><span class=cl>  <span class=o>-</span> <span class=nx>계산</span> <span class=nx>비용이</span> <span class=nx>낮은</span> <span class=nx>조건부터</span> <span class=nx>실행</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=o>**</span><span class=nx>조기</span> <span class=nx>종료</span><span class=p>(</span><span class=nx>Early</span> <span class=nx>Termination</span><span class=p>)</span><span class=o>**:</span>
</span></span><span class=line><span class=cl>  <span class=o>-</span> <span class=nx>상위</span> <span class=nx>N개</span> <span class=nx>결과만</span> <span class=nx>필요한</span> <span class=nx>경우</span> <span class=nx>전체</span> <span class=nx>검색</span> <span class=nx>회피</span>
</span></span><span class=line><span class=cl>  <span class=o>-</span> <span class=nx>점수가</span> <span class=nx>특정</span> <span class=nx>임계값</span> <span class=nx>이하인</span> <span class=nx>문서</span> <span class=nx>건너뛰기</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>구현</span> <span class=nx>예</span><span class=o>:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=sb>```javascript
</span></span></span><span class=line><span class=cl><span class=sb>// 쿼리 최적화 예제
</span></span></span><span class=line><span class=cl><span class=sb>GET /products/_search
</span></span></span><span class=line><span class=cl><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>{
</span></span></span><span class=line><span class=cl><span class=sb>  &#34;query&#34;: {
</span></span></span><span class=line><span class=cl><span class=sb>    &#34;bool&#34;: {
</span></span></span><span class=line><span class=cl><span class=sb>      &#34;must&#34;: {
</span></span></span><span class=line><span class=cl><span class=sb>        &#34;multi_match&#34;: {
</span></span></span><span class=line><span class=cl><span class=sb>          &#34;query&#34;: &#34;스마트 가전&#34;,
</span></span></span><span class=line><span class=cl><span class=sb>          &#34;fields&#34;: [&#34;name^3&#34;, &#34;description&#34;],
</span></span></span><span class=line><span class=cl><span class=sb>          &#34;type&#34;: &#34;most_fields&#34;
</span></span></span><span class=line><span class=cl><span class=sb>        }
</span></span></span><span class=line><span class=cl><span class=sb>    },
</span></span></span><span class=line><span class=cl><span class=sb>    &#34;filter&#34;: [
</span></span></span><span class=line><span class=cl><span class=sb>      {
</span></span></span><span class=line><span class=cl><span class=sb>          &#34;term&#34;: {
</span></span></span><span class=line><span class=cl><span class=sb>            &#34;category.keyword&#34;: &#34;전자제품&#34;
</span></span></span><span class=line><span class=cl><span class=sb>          }
</span></span></span><span class=line><span class=cl><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>        }
</span></span></span><span class=line><span class=cl><span class=sb>      ]
</span></span></span><span class=line><span class=cl><span class=sb>    }
</span></span></span><span class=line><span class=cl><span class=sb>  },
</span></span></span><span class=line><span class=cl><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>  &#34;sort&#34;: [
</span></span></span><span class=line><span class=cl><span class=sb>  &#34;_score&#34;,
</span></span></span><span class=line><span class=cl><span class=sb>  { &#34;price&#34;: &#34;asc&#34; }
</span></span></span><span class=line><span class=cl><span class=sb>],
</span></span></span><span class=line><span class=cl><span class=sb>  &#34;_source&#34;: [&#34;name&#34;, &#34;price&#34;, &#34;brand&#34;],
</span></span></span><span class=line><span class=cl><span class=sb>erminate_after&#34;: 100,
</span></span></span><span class=line><span class=cl><span class=sb>rack_total_hits&#34;: false
</span></span></span></code></pre></td></tr></table></div></div><p>쿼리는 다음과 같은 최적화를 포함한다:</p><ul><li>필터 컨텍스트 사용으로 캐싱 활용</li><li><code>_source</code> 필드 제한으로 네트워크 전송량 감소</li><li><code>terminate_after</code>로 상위 100개 결과 찾은 후 검색 중단</li><li><code>track_total_hits</code>를 비활성화하여 정확한 총 결과 수 계산 생략</li></ul><h2 id=분산-검색-시스템-아키텍처>분산 검색 시스템 아키텍처<a hidden class=anchor aria-hidden=true href=#분산-검색-시스템-아키텍처>#</a></h2><p>모 분산 검색 시스템의 아키텍처와 작동 방식을 심층적으로 분석한다:</p><h1 id=분산-검색의-핵심-개념>분산 검색의 핵심 개념<a hidden class=anchor aria-hidden=true href=#분산-검색의-핵심-개념>#</a></h1><p>색 시스템의 주요 구성 요소:</p><p><strong>노드 역할 분리</strong>:</p><pre><code>클러스터
  ├── 마스터 노드: 클러스터 상태 관리, 샤드 할당
  ├── 데이터 노드: 실제 데이터 저장 및 검색 처리
  ├── 코디네이팅 노드: 사용자 요청 처리 및 결과 조합

  ├── 인제스트 노드: 문서 전처리 파이프라인 실행
└── ML 노드: 머신러닝 작업 처리
</code></pre><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1> 1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2> 2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3> 3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4> 4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5> 5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6> 6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7> 7</a>
</span><span class=lnt id=hl-15-8><a class=lnlinks href=#hl-15-8> 8</a>
</span><span class=lnt id=hl-15-9><a class=lnlinks href=#hl-15-9> 9</a>
</span><span class=lnt id=hl-15-10><a class=lnlinks href=#hl-15-10>10</a>
</span><span class=lnt id=hl-15-11><a class=lnlinks href=#hl-15-11>11</a>
</span><span class=lnt id=hl-15-12><a class=lnlinks href=#hl-15-12>12</a>
</span><span class=lnt id=hl-15-13><a class=lnlinks href=#hl-15-13>13</a>
</span><span class=lnt id=hl-15-14><a class=lnlinks href=#hl-15-14>14</a>
</span><span class=lnt id=hl-15-15><a class=lnlinks href=#hl-15-15>15</a>
</span><span class=lnt id=hl-15-16><a class=lnlinks href=#hl-15-16>16</a>
</span><span class=lnt id=hl-15-17><a class=lnlinks href=#hl-15-17>17</a>
</span><span class=lnt id=hl-15-18><a class=lnlinks href=#hl-15-18>18</a>
</span><span class=lnt id=hl-15-19><a class=lnlinks href=#hl-15-19>19</a>
</span><span class=lnt id=hl-15-20><a class=lnlinks href=#hl-15-20>20</a>
</span><span class=lnt id=hl-15-21><a class=lnlinks href=#hl-15-21>21</a>
</span><span class=lnt id=hl-15-22><a class=lnlinks href=#hl-15-22>22</a>
</span><span class=lnt id=hl-15-23><a class=lnlinks href=#hl-15-23>23</a>
</span><span class=lnt id=hl-15-24><a class=lnlinks href=#hl-15-24>24</a>
</span><span class=lnt id=hl-15-25><a class=lnlinks href=#hl-15-25>25</a>
</span><span class=lnt id=hl-15-26><a class=lnlinks href=#hl-15-26>26</a>
</span><span class=lnt id=hl-15-27><a class=lnlinks href=#hl-15-27>27</a>
</span><span class=lnt id=hl-15-28><a class=lnlinks href=#hl-15-28>28</a>
</span><span class=lnt id=hl-15-29><a class=lnlinks href=#hl-15-29>29</a>
</span><span class=lnt id=hl-15-30><a class=lnlinks href=#hl-15-30>30</a>
</span><span class=lnt id=hl-15-31><a class=lnlinks href=#hl-15-31>31</a>
</span><span class=lnt id=hl-15-32><a class=lnlinks href=#hl-15-32>32</a>
</span><span class=lnt id=hl-15-33><a class=lnlinks href=#hl-15-33>33</a>
</span><span class=lnt id=hl-15-34><a class=lnlinks href=#hl-15-34>34</a>
</span><span class=lnt id=hl-15-35><a class=lnlinks href=#hl-15-35>35</a>
</span><span class=lnt id=hl-15-36><a class=lnlinks href=#hl-15-36>36</a>
</span><span class=lnt id=hl-15-37><a class=lnlinks href=#hl-15-37>37</a>
</span><span class=lnt id=hl-15-38><a class=lnlinks href=#hl-15-38>38</a>
</span><span class=lnt id=hl-15-39><a class=lnlinks href=#hl-15-39>39</a>
</span><span class=lnt id=hl-15-40><a class=lnlinks href=#hl-15-40>40</a>
</span><span class=lnt id=hl-15-41><a class=lnlinks href=#hl-15-41>41</a>
</span><span class=lnt id=hl-15-42><a class=lnlinks href=#hl-15-42>42</a>
</span><span class=lnt id=hl-15-43><a class=lnlinks href=#hl-15-43>43</a>
</span><span class=lnt id=hl-15-44><a class=lnlinks href=#hl-15-44>44</a>
</span><span class=lnt id=hl-15-45><a class=lnlinks href=#hl-15-45>45</a>
</span><span class=lnt id=hl-15-46><a class=lnlinks href=#hl-15-46>46</a>
</span><span class=lnt id=hl-15-47><a class=lnlinks href=#hl-15-47>47</a>
</span><span class=lnt id=hl-15-48><a class=lnlinks href=#hl-15-48>48</a>
</span><span class=lnt id=hl-15-49><a class=lnlinks href=#hl-15-49>49</a>
</span><span class=lnt id=hl-15-50><a class=lnlinks href=#hl-15-50>50</a>
</span><span class=lnt id=hl-15-51><a class=lnlinks href=#hl-15-51>51</a>
</span><span class=lnt id=hl-15-52><a class=lnlinks href=#hl-15-52>52</a>
</span><span class=lnt id=hl-15-53><a class=lnlinks href=#hl-15-53>53</a>
</span><span class=lnt id=hl-15-54><a class=lnlinks href=#hl-15-54>54</a>
</span><span class=lnt id=hl-15-55><a class=lnlinks href=#hl-15-55>55</a>
</span><span class=lnt id=hl-15-56><a class=lnlinks href=#hl-15-56>56</a>
</span><span class=lnt id=hl-15-57><a class=lnlinks href=#hl-15-57>57</a>
</span><span class=lnt id=hl-15-58><a class=lnlinks href=#hl-15-58>58</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>
</span></span><span class=line><span class=cl>- **샤딩 및 라우팅 전략**:
</span></span><span class=line><span class=cl>- 라우팅 키 기반 샤드 결정: `shard_num = hash(routing_key) % num_primary_shards`
</span></span><span class=line><span class=cl>- 인덱스 별칭을 활용한 제로 다운타임 리샤딩
</span></span><span class=line><span class=cl>- 샤드 크기 최적화(Elasticsearch 권장: 10-50GB)
</span></span><span class=line><span class=cl>- **분산 쿼리 및 집계 실행**:
</span></span><span class=line><span class=cl>1. 쿼리 분해(Query Decomposition): 각 샤드에서 실행할 하위 쿼리 생성
</span></span><span class=line><span class=cl>2. 분산 실행(Distributed Execution): 모든 해당 샤드에 병렬로 쿼리 전송
</span></span><span class=line><span class=cl>3. 결과 조합(Result Merging): 각 샤드의 결과를 통합하여 최종 결과 생성
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>### 클러스터 조정 및 복구 메커니즘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>시스템의 안정성을 위한 메커니즘:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>- **클러스터 상태 관리**:
</span></span><span class=line><span class=cl>- 클러스터 상태(Cluster State): 클러스터 메타데이터 포함
</span></span><span class=line><span class=cl>- 게시-구독 모델(Publish-Subscribe): 상태 변경 전파
</span></span><span class=line><span class=cl>- ZenDisco(Zen Discovery): 노드 발견 프로토콜
</span></span><span class=line><span class=cl>- **샤드 할당 및 이동**:
</span></span><span class=line><span class=cl>- 데이터 지역성(Data Locality) 고려한 할당
</span></span><span class=line><span class=cl>- 샤드 밸런싱(Shard Balancing): 노드 간 균등한 샤드 분배
</span></span><span class=line><span class=cl>- 인식 속성(Awareness Attributes): 하드웨어/위치 기반 할당
</span></span><span class=line><span class=cl>- **장애 복구 프로세스**:
</span></span><span class=line><span class=cl>- 마스터 노드 선출(Master Election): 쿼럼 기반 알고리즘
</span></span><span class=line><span class=cl>- 샤드 복구(Shard Recovery): 프라이머리-레플리카 동기화
</span></span><span class=line><span class=cl>- 스플릿 브레인 방지(Split-Brain Prevention): 최소 마스터 노드 수 설정
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>예(클러스터 설정):
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>`yaml
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># elasticsearch.yml (마스터 노드)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>cluster.name: search-prod
</span></span><span class=line><span class=cl>de.name: master-1
</span></span><span class=line><span class=cl>de.roles: [master]
</span></span><span class=line><span class=cl>de.master: true
</span></span><span class=line><span class=cl>node.data: false
</span></span><span class=line><span class=cl>de.ingest: false
</span></span><span class=line><span class=cl>de.ml: false
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># 장애 복구 관련 설정
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>scovery.zen.minimum_master_nodes: 2
</span></span><span class=line><span class=cl>overy.zen.ping_timeout: 5s
</span></span><span class=line><span class=cl>overy.zen.commit_timeout: 30s
</span></span><span class=line><span class=cl>uster.routing.allocation.cluster_concurrent_rebalance: 2
</span></span><span class=line><span class=cl>uster.routing.allocation.node_concurrent_recoveries: 2
</span></span><span class=line><span class=cl>uster.routing.allocation.node_initial_primaries_recoveries: 4
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># 샤드 할당 설정
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>cluster.routing.allocation.awareness.attributes: zone,rack
</span></span><span class=line><span class=cl>uster.routing.allocation.awareness.force.zone.values: zone1,zone2,zone3
</span></span><span class=line><span class=cl>uster.routing.allocation.enable: all
</span></span><span class=line><span class=cl>uster.routing.allocation.allow_rebalance: indices_primaries_active
</span></span></code></pre></td></tr></table></div></div><h2 id=새로운-검색-패러다임과-기술>새로운 검색 패러다임과 기술<a hidden class=anchor aria-hidden=true href=#새로운-검색-패러다임과-기술>#</a></h2><h5 id=신경망-검색-모델neural-search-models>신경망 검색 모델(Neural Search Models)<a hidden class=anchor aria-hidden=true href=#신경망-검색-모델neural-search-models>#</a></h5><p>기반의 검색 모델:</p><p><strong>트랜스포머 기반 랭킹 모델</strong>:</p><ul><li><p>BERT, T5 등의 언어 모델을 활용한 검색 결과 랭킹</p></li><li><p>쿼리-문서 관련성 점수 계산</p></li><li><p>크로스 인코더(Cross-Encoder) vs 바이 인코더(Bi-Encoder) 접근법</p></li><li><p><strong>멀티스테이지 랭킹 파이프라인</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1>1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2>2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3>3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4>4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5>5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>
</span></span><span class=line><span class=cl>쿼리 →
</span></span><span class=line><span class=cl>1단계: BM25 기반 후보 검색(Retrieval) →
</span></span><span class=line><span class=cl>  2단계: 신경망 기반 재랭킹(Neural Re-ranking) →
</span></span><span class=line><span class=cl>3단계: 심층 관련성 점수 계산(Deep Relevance Scoring) →
</span></span><span class=line><span class=cl>결과
</span></span></code></pre></td></tr></table></div></div></li></ul><p>**표현 학습(Representation Learning)*:</p><ul><li>문서와 쿼리를 의미적 벡터 공간에 매핑</li><li>언어 모델 기반 임베딩(BERT, Sentence-BERT 등)<ul><li>도메인 특화 임베딩 학습</li></ul></li></ul><h5 id=하이브리드-검색-아키텍처>하이브리드 검색 아키텍처<a hidden class=anchor aria-hidden=true href=#하이브리드-검색-아키텍처>#</a></h5><p>키워드 기반 검색과 신경망 기반 검색의 장점을 결합:</p><ul><li><p><strong>랭크 퓨전(Rank Fusion)</strong>:</p><ul><li>다양한 검색 알고리즘의 결과를 통합</li><li>CombSUM, RRF(Reciprocal Rank Fusion) 등의 알고리즘 활용</li><li>가중치 학습 기반 앙상블 방법</li></ul></li><li><p><strong>멀티 인덱스 검색 전략</strong>:</p><ul><li>키워드 색인과 벡터 색인을 병렬로 운영</li><li>쿼리 타입에 따라 적절한 색인 선택 또는 통합</li><li>하이브리드 스코어링 함수 개발
<strong>벡터 데이터베이스 통합</strong>:</li><li>ANN(Approximate Nearest Neighbor) 알고리즘 활용</li><li>차원 축소 및 벡터 압축 기법</li><li>멀티모달 검색(텍스트, 이미지, 오디오 등)</li></ul></li></ul><p>현 예:</p><p>``javascript
/ 하이브리드 검색 구현 예제
ET /hybrid_search/_search</p><p>&ldquo;query&rdquo;: {
&ldquo;script_score&rdquo;: {
&ldquo;query&rdquo;: {</p><pre><code>    &quot;bool&quot;: {
      &quot;should&quot;: [
        {
          &quot;match&quot;: {
            &quot;content&quot;: {
              &quot;query&quot;: &quot;인공지능 기반 자율주행 기술&quot;,
              &quot;boost&quot;: 1.0
            }
          }
        }
      ]
    }
  },
  &quot;script&quot;: {
    &quot;source&quot;: &quot;&quot;&quot;
      // BM25 점수와 벡터 유사도 점수의 조합
      double keyword_score = _score;
      double vector_similarity = cosineSimilarity(params.query_vector, 'content_vector') + 1.0;

      
      // 하이브리드 점수 계산
      return keyword_score * 0.4 + vector_similarity * 0.6;
    &quot;&quot;&quot;,
    &quot;params&quot;: {
      &quot;query_vector&quot;: [0.2, 0.1, -0.3, 0.5, …] // 쿼리 임베딩
    }
  }
}
</code></pre><p>}</p><p>``</p><h2 id=검색-엔진-성능-최적화-심층-분석>검색 엔진 성능 최적화 심층 분석<a hidden class=anchor aria-hidden=true href=#검색-엔진-성능-최적화-심층-분석>#</a></h2><h3 id=인덱스-설계-최적화>인덱스 설계 최적화<a hidden class=anchor aria-hidden=true href=#인덱스-설계-최적화>#</a></h3><p>율적인 인덱스 구조 설계:</p><p>. 매핑 최적화</p><ul><li><p><strong>필드 데이터 타입 최적화</strong>:</p><ul><li>정확한 데이터 타입 사용(예: <code>integer</code> vs <code>long</code>, <code>float</code> vs <code>double</code>)</li><li>열거형 값은 <code>keyword</code> 타입 사용</li><li>날짜 형식 최적화(<code>date</code> 타입 + 적절한 포맷)</li></ul></li><li><p><strong>다중 필드 전략(Multi-fields)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1> 1</a>
</span><span class=lnt id=hl-17-2><a class=lnlinks href=#hl-17-2> 2</a>
</span><span class=lnt id=hl-17-3><a class=lnlinks href=#hl-17-3> 3</a>
</span><span class=lnt id=hl-17-4><a class=lnlinks href=#hl-17-4> 4</a>
</span><span class=lnt id=hl-17-5><a class=lnlinks href=#hl-17-5> 5</a>
</span><span class=lnt id=hl-17-6><a class=lnlinks href=#hl-17-6> 6</a>
</span><span class=lnt id=hl-17-7><a class=lnlinks href=#hl-17-7> 7</a>
</span><span class=lnt id=hl-17-8><a class=lnlinks href=#hl-17-8> 8</a>
</span><span class=lnt id=hl-17-9><a class=lnlinks href=#hl-17-9> 9</a>
</span><span class=lnt id=hl-17-10><a class=lnlinks href=#hl-17-10>10</a>
</span><span class=lnt id=hl-17-11><a class=lnlinks href=#hl-17-11>11</a>
</span><span class=lnt id=hl-17-12><a class=lnlinks href=#hl-17-12>12</a>
</span><span class=lnt id=hl-17-13><a class=lnlinks href=#hl-17-13>13</a>
</span><span class=lnt id=hl-17-14><a class=lnlinks href=#hl-17-14>14</a>
</span><span class=lnt id=hl-17-15><a class=lnlinks href=#hl-17-15>15</a>
</span><span class=lnt id=hl-17-16><a class=lnlinks href=#hl-17-16>16</a>
</span><span class=lnt id=hl-17-17><a class=lnlinks href=#hl-17-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=s2>&#34;title&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;type&#34;</span><span class=o>:</span> <span class=s2>&#34;text&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;analyzer&#34;</span><span class=o>:</span> <span class=s2>&#34;standard&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;fields&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;keyword&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;type&#34;</span><span class=o>:</span> <span class=s2>&#34;keyword&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;ignore_above&#34;</span><span class=o>:</span> <span class=mi>256</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;completion&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;type&#34;</span><span class=o>:</span> <span class=s2>&#34;completion&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;ngram&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;type&#34;</span><span class=o>:</span> <span class=s2>&#34;text&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;analyzer&#34;</span><span class=o>:</span> <span class=s2>&#34;ngram_analyzer&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>필드 인덱싱 제어</strong>:</p><ul><li><code>index: false</code>: 검색 불필요한 필드</li><li><code>doc_values: false</code>: 집계/정렬 불필요한 필드</li><li><code>norms: false</code>: 관련성 점수 불필요한 필드
. 샤딩 및 라우팅 최적화</li></ul></li><li><p><strong>효율적인 샤드 크기</strong>:</p><ul><li>샤드 수 = 총 데이터 크기 / 목표 샤드 크기(~30GB)</li><li>핫-웜-콜드 아키텍처로 인덱스 라이프사이클 관리</li></ul></li><li><p><strong>사용자 정의 라우팅(Custom Routing)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1> 1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2> 2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3> 3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4> 4</a>
</span><span class=lnt id=hl-18-5><a class=lnlinks href=#hl-18-5> 5</a>
</span><span class=lnt id=hl-18-6><a class=lnlinks href=#hl-18-6> 6</a>
</span><span class=lnt id=hl-18-7><a class=lnlinks href=#hl-18-7> 7</a>
</span><span class=lnt id=hl-18-8><a class=lnlinks href=#hl-18-8> 8</a>
</span><span class=lnt id=hl-18-9><a class=lnlinks href=#hl-18-9> 9</a>
</span><span class=lnt id=hl-18-10><a class=lnlinks href=#hl-18-10>10</a>
</span><span class=lnt id=hl-18-11><a class=lnlinks href=#hl-18-11>11</a>
</span><span class=lnt id=hl-18-12><a class=lnlinks href=#hl-18-12>12</a>
</span><span class=lnt id=hl-18-13><a class=lnlinks href=#hl-18-13>13</a>
</span><span class=lnt id=hl-18-14><a class=lnlinks href=#hl-18-14>14</a>
</span><span class=lnt id=hl-18-15><a class=lnlinks href=#hl-18-15>15</a>
</span><span class=lnt id=hl-18-16><a class=lnlinks href=#hl-18-16>16</a>
</span><span class=lnt id=hl-18-17><a class=lnlinks href=#hl-18-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 특정 테넌트의 데이터는 항상 같은 샤드에 저장
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>PUT</span> <span class=o>/</span><span class=nx>logs</span><span class=o>/</span><span class=nx>_doc</span><span class=o>/</span><span class=mi>1</span><span class=o>?</span><span class=nx>routing</span><span class=o>=</span><span class=nx>tenant_abc</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;message&#34;</span><span class=o>:</span> <span class=s2>&#34;서버 재시작&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;tenant_id&#34;</span><span class=o>:</span> <span class=s2>&#34;tenant_abc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;timestamp&#34;</span><span class=o>:</span> <span class=s2>&#34;2023-10-10T12:00:00Z&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 검색 시에도 동일한 라우팅 키 사용
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>GET</span> <span class=o>/</span><span class=nx>logs</span><span class=o>/</span><span class=nx>_search</span><span class=o>?</span><span class=nx>routing</span><span class=o>=</span><span class=nx>tenant_abc</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;query&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;term&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;tenant_id&#34;</span><span class=o>:</span> <span class=s2>&#34;tenant_abc&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>시계열 데이터 최적화</strong>:</p><ul><li>시간 기반 인덱스 이름(예: <code>logs-2023.10.10</code>)</li><li>인덱스 라이프사이클 정책(ILM) 활용</li><li>롤링 인덱스 전략(Rollover)</li></ul></li></ul><h3 id=쿼리-최적화-기법>쿼리 최적화 기법<a hidden class=anchor aria-hidden=true href=#쿼리-최적화-기법>#</a></h3><p>색 쿼리 성능 향상을 위한 기법:</p><p>. 쿼리 컨텍스트 최적화</p><ul><li><p><strong>Filter vs Query 컨텍스트</strong>:</p><ul><li>점수 계산이 필요 없는 조건은 filter 컨텍스트 사용</li><li>필터 캐시 활용으로 반복 쿼리 성능 향상</li><li>bool 쿼리 내 적절한 구성 요소 사용(must, should, filter, must_not)</li></ul></li><li><p><strong>쿼리 재사용 및 템플릿화</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1> 1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2> 2</a>
</span><span class=lnt id=hl-19-3><a class=lnlinks href=#hl-19-3> 3</a>
</span><span class=lnt id=hl-19-4><a class=lnlinks href=#hl-19-4> 4</a>
</span><span class=lnt id=hl-19-5><a class=lnlinks href=#hl-19-5> 5</a>
</span><span class=lnt id=hl-19-6><a class=lnlinks href=#hl-19-6> 6</a>
</span><span class=lnt id=hl-19-7><a class=lnlinks href=#hl-19-7> 7</a>
</span><span class=lnt id=hl-19-8><a class=lnlinks href=#hl-19-8> 8</a>
</span><span class=lnt id=hl-19-9><a class=lnlinks href=#hl-19-9> 9</a>
</span><span class=lnt id=hl-19-10><a class=lnlinks href=#hl-19-10>10</a>
</span><span class=lnt id=hl-19-11><a class=lnlinks href=#hl-19-11>11</a>
</span><span class=lnt id=hl-19-12><a class=lnlinks href=#hl-19-12>12</a>
</span><span class=lnt id=hl-19-13><a class=lnlinks href=#hl-19-13>13</a>
</span><span class=lnt id=hl-19-14><a class=lnlinks href=#hl-19-14>14</a>
</span><span class=lnt id=hl-19-15><a class=lnlinks href=#hl-19-15>15</a>
</span><span class=lnt id=hl-19-16><a class=lnlinks href=#hl-19-16>16</a>
</span><span class=lnt id=hl-19-17><a class=lnlinks href=#hl-19-17>17</a>
</span><span class=lnt id=hl-19-18><a class=lnlinks href=#hl-19-18>18</a>
</span><span class=lnt id=hl-19-19><a class=lnlinks href=#hl-19-19>19</a>
</span><span class=lnt id=hl-19-20><a class=lnlinks href=#hl-19-20>20</a>
</span><span class=lnt id=hl-19-21><a class=lnlinks href=#hl-19-21>21</a>
</span><span class=lnt id=hl-19-22><a class=lnlinks href=#hl-19-22>22</a>
</span><span class=lnt id=hl-19-23><a class=lnlinks href=#hl-19-23>23</a>
</span><span class=lnt id=hl-19-24><a class=lnlinks href=#hl-19-24>24</a>
</span><span class=lnt id=hl-19-25><a class=lnlinks href=#hl-19-25>25</a>
</span><span class=lnt id=hl-19-26><a class=lnlinks href=#hl-19-26>26</a>
</span><span class=lnt id=hl-19-27><a class=lnlinks href=#hl-19-27>27</a>
</span><span class=lnt id=hl-19-28><a class=lnlinks href=#hl-19-28>28</a>
</span><span class=lnt id=hl-19-29><a class=lnlinks href=#hl-19-29>29</a>
</span><span class=lnt id=hl-19-30><a class=lnlinks href=#hl-19-30>30</a>
</span><span class=lnt id=hl-19-31><a class=lnlinks href=#hl-19-31>31</a>
</span><span class=lnt id=hl-19-32><a class=lnlinks href=#hl-19-32>32</a>
</span><span class=lnt id=hl-19-33><a class=lnlinks href=#hl-19-33>33</a>
</span><span class=lnt id=hl-19-34><a class=lnlinks href=#hl-19-34>34</a>
</span><span class=lnt id=hl-19-35><a class=lnlinks href=#hl-19-35>35</a>
</span><span class=lnt id=hl-19-36><a class=lnlinks href=#hl-19-36>36</a>
</span><span class=lnt id=hl-19-37><a class=lnlinks href=#hl-19-37>37</a>
</span><span class=lnt id=hl-19-38><a class=lnlinks href=#hl-19-38>38</a>
</span><span class=lnt id=hl-19-39><a class=lnlinks href=#hl-19-39>39</a>
</span><span class=lnt id=hl-19-40><a class=lnlinks href=#hl-19-40>40</a>
</span><span class=lnt id=hl-19-41><a class=lnlinks href=#hl-19-41>41</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 쿼리 템플릿 정의
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>PUT</span> <span class=nx>_scripts</span><span class=o>/</span><span class=nx>find_products</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;script&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;lang&#34;</span><span class=o>:</span> <span class=s2>&#34;mustache&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;source&#34;</span><span class=o>:</span> <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    {
</span></span></span><span class=line><span class=cl><span class=s2>      &#34;</span><span class=nx>query</span><span class=s2>&#34;: {
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;</span><span class=nx>bool</span><span class=s2>&#34;: {
</span></span></span><span class=line><span class=cl><span class=s2>          &#34;</span><span class=nx>must</span><span class=s2>&#34;: {
</span></span></span><span class=line><span class=cl><span class=s2>            &#34;</span><span class=nx>match</span><span class=s2>&#34;: {
</span></span></span><span class=line><span class=cl><span class=s2>              &#34;</span><span class=nx>name</span><span class=s2>&#34;: &#34;</span><span class=p>{{</span><span class=nx>product_name</span><span class=p>}}</span><span class=s2>&#34;
</span></span></span><span class=line><span class=cl><span class=s2>            }
</span></span></span><span class=line><span class=cl><span class=s2>          },
</span></span></span><span class=line><span class=cl><span class=s2>          &#34;</span><span class=nx>filter</span><span class=s2>&#34;: [
</span></span></span><span class=line><span class=cl><span class=s2>            {
</span></span></span><span class=line><span class=cl><span class=s2>              &#34;</span><span class=nx>range</span><span class=s2>&#34;: {
</span></span></span><span class=line><span class=cl><span class=s2>                &#34;</span><span class=nx>price</span><span class=s2>&#34;: {
</span></span></span><span class=line><span class=cl><span class=s2>                  &#34;</span><span class=nx>gte</span><span class=s2>&#34;: {{min_price}},
</span></span></span><span class=line><span class=cl><span class=s2>                  &#34;</span><span class=nx>lte</span><span class=s2>&#34;: {{max_price}}
</span></span></span><span class=line><span class=cl><span class=s2>                }
</span></span></span><span class=line><span class=cl><span class=s2>              }
</span></span></span><span class=line><span class=cl><span class=s2>            }
</span></span></span><span class=line><span class=cl><span class=s2>          ]
</span></span></span><span class=line><span class=cl><span class=s2>        }
</span></span></span><span class=line><span class=cl><span class=s2>      }
</span></span></span><span class=line><span class=cl><span class=s2>    }
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 템플릿 사용
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>GET</span> <span class=o>/</span><span class=nx>products</span><span class=o>/</span><span class=nx>_search</span><span class=o>/</span><span class=nx>template</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;id&#34;</span><span class=o>:</span> <span class=s2>&#34;find_products&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;params&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;product_name&#34;</span><span class=o>:</span> <span class=s2>&#34;노트북&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;min_price&#34;</span><span class=o>:</span> <span class=mi>500000</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;max_price&#34;</span><span class=o>:</span> <span class=mi>1500000</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><p>. 고급 쿼리 최적화</p><ul><li><p><strong>페이지네이션 최적화</strong>:</p><ul><li>딥 페이징 문제 해결을 위한 <code>search_after</code> 사용</li><li>스크롤 API 활용(대량 데이터 처리)</li><li>PIT(Point In Time) API로 일관된 결과셋 유지</li></ul></li><li><p><strong>부분 검색 및 비동기 검색</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-20-1><a class=lnlinks href=#hl-20-1> 1</a>
</span><span class=lnt id=hl-20-2><a class=lnlinks href=#hl-20-2> 2</a>
</span><span class=lnt id=hl-20-3><a class=lnlinks href=#hl-20-3> 3</a>
</span><span class=lnt id=hl-20-4><a class=lnlinks href=#hl-20-4> 4</a>
</span><span class=lnt id=hl-20-5><a class=lnlinks href=#hl-20-5> 5</a>
</span><span class=lnt id=hl-20-6><a class=lnlinks href=#hl-20-6> 6</a>
</span><span class=lnt id=hl-20-7><a class=lnlinks href=#hl-20-7> 7</a>
</span><span class=lnt id=hl-20-8><a class=lnlinks href=#hl-20-8> 8</a>
</span><span class=lnt id=hl-20-9><a class=lnlinks href=#hl-20-9> 9</a>
</span><span class=lnt id=hl-20-10><a class=lnlinks href=#hl-20-10>10</a>
</span><span class=lnt id=hl-20-11><a class=lnlinks href=#hl-20-11>11</a>
</span><span class=lnt id=hl-20-12><a class=lnlinks href=#hl-20-12>12</a>
</span><span class=lnt id=hl-20-13><a class=lnlinks href=#hl-20-13>13</a>
</span><span class=lnt id=hl-20-14><a class=lnlinks href=#hl-20-14>14</a>
</span><span class=lnt id=hl-20-15><a class=lnlinks href=#hl-20-15>15</a>
</span><span class=lnt id=hl-20-16><a class=lnlinks href=#hl-20-16>16</a>
</span><span class=lnt id=hl-20-17><a class=lnlinks href=#hl-20-17>17</a>
</span><span class=lnt id=hl-20-18><a class=lnlinks href=#hl-20-18>18</a>
</span><span class=lnt id=hl-20-19><a class=lnlinks href=#hl-20-19>19</a>
</span><span class=lnt id=hl-20-20><a class=lnlinks href=#hl-20-20>20</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 비동기 검색 요청
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>POST</span> <span class=o>/</span><span class=nx>products</span><span class=o>/</span><span class=nx>_async_search</span><span class=o>?</span><span class=nx>wait_for_completion_timeout</span><span class=o>=</span><span class=mi>1</span><span class=nx>s</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;query&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;match&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;description&#34;</span><span class=o>:</span> <span class=s2>&#34;최신 스마트폰&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;aggs&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;avg_price&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;avg&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;field&#34;</span><span class=o>:</span> <span class=s2>&#34;price&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;size&#34;</span><span class=o>:</span> <span class=mi>100</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 비동기 검색 결과 조회
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>GET</span> <span class=o>/</span><span class=nx>_async_search</span><span class=o>/</span><span class=nx>FmRldE8zREVEUzA2ZVpUeGs2ejJFUFEaMkZ5QTVrSTZSaVN3WlNFVmtlWHJsdzoxMDc</span><span class=o>=</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>집계 최적화</strong>:</p><ul><li>샘플링 집계 활용(<code>sampler</code> 집계)</li><li>근사 집계 활용(<code>cardinality</code> 집계의 <code>precision_threshold</code> 조정)</li><li>적절한 집계 캐싱 전략</li></ul></li></ul><h3 id=시스템-수준-최적화>시스템 수준 최적화<a hidden class=anchor aria-hidden=true href=#시스템-수준-최적화>#</a></h3><p>드웨어 및 시스템 설정 최적화:</p><p>. JVM 및 메모리 최적화</p><ul><li><strong>힙 크기 설정</strong>:<ul><li>총 메모리의 50% 또는 최대 32GB(압축 포인터 한계)</li><li>GC 튜닝(G1GC 권장)</li><li>스왑 비활성화</li></ul></li><li><strong>메모리 압력 관리</strong>:<ul><li>필드 데이터 캐시 제한(<code>indices.fielddata.cache.size</code>)</li><li>적절한 샤드 요청 캐시 설정</li><li>회로 차단기(Circuit Breaker) 설정
. 네트워크 및 디스크 최적화</li></ul></li><li><strong>네트워크 설정</strong>:<ul><li>HTTP 압축 활성화</li><li>적절한 커넥션 풀 설정</li><li>노드 간 통신 최적화</li></ul></li><li><strong>디스크 I/O 최적화</strong>:<ul><li>SSD 활용</li><li><code>indices.recovery.max_bytes_per_sec</code> 조정</li><li>적절한 병합 정책 설정</li></ul></li></ul><p>시스템 설정 예:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1> 1</a>
</span><span class=lnt id=hl-21-2><a class=lnlinks href=#hl-21-2> 2</a>
</span><span class=lnt id=hl-21-3><a class=lnlinks href=#hl-21-3> 3</a>
</span><span class=lnt id=hl-21-4><a class=lnlinks href=#hl-21-4> 4</a>
</span><span class=lnt id=hl-21-5><a class=lnlinks href=#hl-21-5> 5</a>
</span><span class=lnt id=hl-21-6><a class=lnlinks href=#hl-21-6> 6</a>
</span><span class=lnt id=hl-21-7><a class=lnlinks href=#hl-21-7> 7</a>
</span><span class=lnt id=hl-21-8><a class=lnlinks href=#hl-21-8> 8</a>
</span><span class=lnt id=hl-21-9><a class=lnlinks href=#hl-21-9> 9</a>
</span><span class=lnt id=hl-21-10><a class=lnlinks href=#hl-21-10>10</a>
</span><span class=lnt id=hl-21-11><a class=lnlinks href=#hl-21-11>11</a>
</span><span class=lnt id=hl-21-12><a class=lnlinks href=#hl-21-12>12</a>
</span><span class=lnt id=hl-21-13><a class=lnlinks href=#hl-21-13>13</a>
</span><span class=lnt id=hl-21-14><a class=lnlinks href=#hl-21-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># elasticsearch.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>bootstrap.memory_lock</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>  </span><span class=c># 스왑 방지</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>indices.fielddata.cache.size</span><span class=p>:</span><span class=w> </span><span class=m>20</span><span class=l>% </span><span class=w> </span><span class=c># 필드데이터 캐시 제한</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>indices.breaker.total.limit</span><span class=p>:</span><span class=w> </span><span class=m>70</span><span class=l>% </span><span class=w> </span><span class=c># 전체 회로 차단기 제한</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>indices.breaker.request.limit</span><span class=p>:</span><span class=w> </span><span class=m>60</span><span class=l>% </span><span class=w> </span><span class=c># 요청 회로 차단기 제한</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>indices.recovery.max_bytes_per_sec</span><span class=p>:</span><span class=w> </span><span class=l>50mb </span><span class=w> </span><span class=c># 복구 속도 제한</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>thread_pool.search.queue_size</span><span class=p>:</span><span class=w> </span><span class=m>1000</span><span class=w>  </span><span class=c># 검색 스레드 풀 큐 크기</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>thread_pool.write.queue_size</span><span class=p>:</span><span class=w> </span><span class=m>1000</span><span class=w>  </span><span class=c># 쓰기 스레드 풀 큐 크기</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># JVM 옵션 (jvm.options)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>-<span class=l>Xms16g</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>-<span class=l>Xmx16g</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>-<span class=l>XX:+UseG1GC</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>-<span class=l>XX:MaxGCPauseMillis=200</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=검색-엔진-구축-및-운영-시-고려사항>검색 엔진 구축 및 운영 시 고려사항<a hidden class=anchor aria-hidden=true href=#검색-엔진-구축-및-운영-시-고려사항>#</a></h2><p>색 엔진을 실제로 구축하고 운영할 때 고려해야 할 중요한 사항들을 알아보자.</p><p>. 성능 최적화 전략<br>검색 엔진의 성능을 극대화하기 위한 전략:</p><ul><li><p><strong>하드웨어 최적화</strong>:
- 적절한 메모리 할당(JVM 튜닝)</p><ul><li>SSD 스토리지 활용
- CPU 코어 수에 따른 스레드 최적화</li></ul></li><li><p><strong>인덱스 최적화</strong>:</p><ul><li>샤드 및 레플리카 수 조정</li><li>인덱스 별칭(Aliases) 활용</li><li>인덱스 라이프사이클 관리(ILM)</li><li>주기적인 인덱스 최적화(force merge)</li></ul></li></ul><p><strong>쿼리 최적화</strong>:
필터 활용(filter context)
캐싱 전략 수립
스크립트 최소화
페이징 최적화(search_after, scroll API)</p><p>예:</p><p>`javascript
인덱스 라이프사이클 정책 설정
PUT _ilm/policy/logs_policy
{
&ldquo;policy&rdquo;: {
&ldquo;phases&rdquo;: {
&ldquo;hot&rdquo;: {
&ldquo;actions&rdquo;: {
&ldquo;rollover&rdquo;: {
&ldquo;max_size&rdquo;: &ldquo;50GB&rdquo;,
&ldquo;max_age&rdquo;: &ldquo;1d&rdquo;
},
&ldquo;set_priority&rdquo;: {
&ldquo;priority&rdquo;: 100
}
}
},
&ldquo;warm&rdquo;: {
&ldquo;min_age&rdquo;: &ldquo;3d&rdquo;,
&ldquo;actions&rdquo;: {
&ldquo;forcemerge&rdquo;: {
&ldquo;max_num_segments&rdquo;: 1
},
&ldquo;shrink&rdquo;: {
&ldquo;number_of_shards&rdquo;: 1
},
&ldquo;set_priority&rdquo;: {
&ldquo;priority&rdquo;: 50
}
}
},
&ldquo;cold&rdquo;: {
&ldquo;min_age&rdquo;: &ldquo;30d&rdquo;,
&ldquo;actions&rdquo;: {
&ldquo;set_priority&rdquo;: {
&ldquo;priority&rdquo;: 0
}
}
},
&ldquo;delete&rdquo;: {
&ldquo;min_age&rdquo;: &ldquo;90d&rdquo;,
&ldquo;actions&rdquo;: {
&ldquo;delete&rdquo;: {}
}
}
}
}
}</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1> 1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2> 2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3> 3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4> 4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5> 5</a>
</span><span class=lnt id=hl-22-6><a class=lnlinks href=#hl-22-6> 6</a>
</span><span class=lnt id=hl-22-7><a class=lnlinks href=#hl-22-7> 7</a>
</span><span class=lnt id=hl-22-8><a class=lnlinks href=#hl-22-8> 8</a>
</span><span class=lnt id=hl-22-9><a class=lnlinks href=#hl-22-9> 9</a>
</span><span class=lnt id=hl-22-10><a class=lnlinks href=#hl-22-10>10</a>
</span><span class=lnt id=hl-22-11><a class=lnlinks href=#hl-22-11>11</a>
</span><span class=lnt id=hl-22-12><a class=lnlinks href=#hl-22-12>12</a>
</span><span class=lnt id=hl-22-13><a class=lnlinks href=#hl-22-13>13</a>
</span><span class=lnt id=hl-22-14><a class=lnlinks href=#hl-22-14>14</a>
</span><span class=lnt id=hl-22-15><a class=lnlinks href=#hl-22-15>15</a>
</span><span class=lnt id=hl-22-16><a class=lnlinks href=#hl-22-16>16</a>
</span><span class=lnt id=hl-22-17><a class=lnlinks href=#hl-22-17>17</a>
</span><span class=lnt id=hl-22-18><a class=lnlinks href=#hl-22-18>18</a>
</span><span class=lnt id=hl-22-19><a class=lnlinks href=#hl-22-19>19</a>
</span><span class=lnt id=hl-22-20><a class=lnlinks href=#hl-22-20>20</a>
</span><span class=lnt id=hl-22-21><a class=lnlinks href=#hl-22-21>21</a>
</span><span class=lnt id=hl-22-22><a class=lnlinks href=#hl-22-22>22</a>
</span><span class=lnt id=hl-22-23><a class=lnlinks href=#hl-22-23>23</a>
</span><span class=lnt id=hl-22-24><a class=lnlinks href=#hl-22-24>24</a>
</span><span class=lnt id=hl-22-25><a class=lnlinks href=#hl-22-25>25</a>
</span><span class=lnt id=hl-22-26><a class=lnlinks href=#hl-22-26>26</a>
</span><span class=lnt id=hl-22-27><a class=lnlinks href=#hl-22-27>27</a>
</span><span class=lnt id=hl-22-28><a class=lnlinks href=#hl-22-28>28</a>
</span><span class=lnt id=hl-22-29><a class=lnlinks href=#hl-22-29>29</a>
</span><span class=lnt id=hl-22-30><a class=lnlinks href=#hl-22-30>30</a>
</span><span class=lnt id=hl-22-31><a class=lnlinks href=#hl-22-31>31</a>
</span><span class=lnt id=hl-22-32><a class=lnlinks href=#hl-22-32>32</a>
</span><span class=lnt id=hl-22-33><a class=lnlinks href=#hl-22-33>33</a>
</span><span class=lnt id=hl-22-34><a class=lnlinks href=#hl-22-34>34</a>
</span><span class=lnt id=hl-22-35><a class=lnlinks href=#hl-22-35>35</a>
</span><span class=lnt id=hl-22-36><a class=lnlinks href=#hl-22-36>36</a>
</span><span class=lnt id=hl-22-37><a class=lnlinks href=#hl-22-37>37</a>
</span><span class=lnt id=hl-22-38><a class=lnlinks href=#hl-22-38>38</a>
</span><span class=lnt id=hl-22-39><a class=lnlinks href=#hl-22-39>39</a>
</span><span class=lnt id=hl-22-40><a class=lnlinks href=#hl-22-40>40</a>
</span><span class=lnt id=hl-22-41><a class=lnlinks href=#hl-22-41>41</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>
</span></span><span class=line><span class=cl>. 확장성 및 고가용성 설계  
</span></span><span class=line><span class=cl>   대규모 데이터와 높은 트래픽에 대응하기 위한 아키텍처:
</span></span><span class=line><span class=cl>   - **샤딩 전략(Sharding Strategy)**:
</span></span><span class=line><span class=cl>    - 데이터 분포 고려한 샤드 수 결정
</span></span><span class=line><span class=cl>   - 핫-웜-콜드 아키텍처 도입
</span></span><span class=line><span class=cl>    - 타임 기반 인덱스 관리
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>- **클러스터 구성(Cluster Configuration)**:
</span></span><span class=line><span class=cl> - 역할별 노드 분리(마스터, 데이터, 코디네이팅, 인제스트 노드)
</span></span><span class=line><span class=cl> - 리전/존 간 분산 배치
</span></span><span class=line><span class=cl> - 클러스터 간 복제(CCR)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>**고가용성 구성(High Availability)**:
</span></span><span class=line><span class=cl>마스터 노드 최소 3개 구성
</span></span><span class=line><span class=cl>레플리카 적절히 구성
</span></span><span class=line><span class=cl>스냅샷 및 복구 자동화
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>예 (클러스터 설정):
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>`yaml
</span></span><span class=line><span class=cl># elasticsearch.yml
</span></span><span class=line><span class=cl>cluster.name: search-production
</span></span><span class=line><span class=cl>node.name: node-1
</span></span><span class=line><span class=cl>node.roles: [master, data]
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># 클러스터 구성
</span></span><span class=line><span class=cl>discovery.seed_hosts: [&#34;node-1&#34;, &#34;node-2&#34;, &#34;node-3&#34;, &#34;node-4&#34;, &#34;node-5&#34;]
</span></span><span class=line><span class=cl>cluster.initial_master_nodes: [&#34;node-1&#34;, &#34;node-2&#34;, &#34;node-3&#34;]
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># 샤드 복구 속도 제한
</span></span><span class=line><span class=cl>indices.recovery.max_bytes_per_sec: 50mb
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># 디스크 사용량 관련 설정
</span></span><span class=line><span class=cl>cluster.routing.allocation.disk.threshold_enabled: true
</span></span><span class=line><span class=cl>cluster.routing.allocation.disk.watermark.low: 85%
</span></span><span class=line><span class=cl>cluster.routing.allocation.disk.watermark.high: 90%
</span></span><span class=line><span class=cl>cluster.routing.allocation.disk.watermark.flood_stage: 95%
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># 스냅샷 설정
</span></span><span class=line><span class=cl>path.repo: [&#34;/mnt/snapshots&#34;]
</span></span></code></pre></td></tr></table></div></div><p>. 보안 및 접근 제어<br>데이터 보호 및 안전한 접근을 위한 보안 설정:
- <strong>인증 및 권한 관리(Authentication & Authorization)</strong>:
- 역할 기반 접근 제어(RBAC)
- 필드 및 문서 수준 보안
- API 키 및 토큰 기반 인증</p><ul><li><p><strong>데이터 보안(Data Security)</strong>:</p><ul><li>전송 중 암호화(TLS/SSL)</li><li>저장 데이터 암호화</li></ul></li><li><p>감사 로깅(Audit Logging)
*네트워크 보안(Network Security)**:
IP 기반 접근 제한
프록시 서버 활용</p></li><li><p>VPC/VPN 내에서 운영<br>예:</p></li></ul><p>`javascript
// 역할 기반 접근 제어 설정
POST /_security/role/read_logs
{
&ldquo;cluster&rdquo;: [&ldquo;monitor&rdquo;],
&ldquo;indices&rdquo;: [
{
&ldquo;names&rdquo;: [&ldquo;logs-*&rdquo;],
&ldquo;privileges&rdquo;: [&ldquo;read&rdquo;, &ldquo;view_index_metadata&rdquo;],
&ldquo;field_security&rdquo;: {
&ldquo;grant&rdquo;: [&ldquo;timestamp&rdquo;, &ldquo;message&rdquo;, &ldquo;level&rdquo;, &ldquo;service&rdquo;],
&ldquo;except&rdquo;: [&ldquo;user.password&rdquo;, &ldquo;credit_card&rdquo;]
},
&ldquo;query&rdquo;: {
&ldquo;term&rdquo;: {
&ldquo;environment&rdquo;: &ldquo;production&rdquo;
}
}
}
]
}</p><p>// 사용자 생성
POST /_security/user/log_viewer
{
&ldquo;password&rdquo;: &ldquo;secure_password_123&rdquo;,
&ldquo;roles&rdquo;: [&ldquo;read_logs&rdquo;],
&ldquo;full_name&rdquo;: &ldquo;Log Viewing User&rdquo;,
&ldquo;email&rdquo;: &ldquo;<a href=mailto:log_viewer@example.com>log_viewer@example.com</a>&rdquo;
}</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1> 1</a>
</span><span class=lnt id=hl-23-2><a class=lnlinks href=#hl-23-2> 2</a>
</span><span class=lnt id=hl-23-3><a class=lnlinks href=#hl-23-3> 3</a>
</span><span class=lnt id=hl-23-4><a class=lnlinks href=#hl-23-4> 4</a>
</span><span class=lnt id=hl-23-5><a class=lnlinks href=#hl-23-5> 5</a>
</span><span class=lnt id=hl-23-6><a class=lnlinks href=#hl-23-6> 6</a>
</span><span class=lnt id=hl-23-7><a class=lnlinks href=#hl-23-7> 7</a>
</span><span class=lnt id=hl-23-8><a class=lnlinks href=#hl-23-8> 8</a>
</span><span class=lnt id=hl-23-9><a class=lnlinks href=#hl-23-9> 9</a>
</span><span class=lnt id=hl-23-10><a class=lnlinks href=#hl-23-10>10</a>
</span><span class=lnt id=hl-23-11><a class=lnlinks href=#hl-23-11>11</a>
</span><span class=lnt id=hl-23-12><a class=lnlinks href=#hl-23-12>12</a>
</span><span class=lnt id=hl-23-13><a class=lnlinks href=#hl-23-13>13</a>
</span><span class=lnt id=hl-23-14><a class=lnlinks href=#hl-23-14>14</a>
</span><span class=lnt id=hl-23-15><a class=lnlinks href=#hl-23-15>15</a>
</span><span class=lnt id=hl-23-16><a class=lnlinks href=#hl-23-16>16</a>
</span><span class=lnt id=hl-23-17><a class=lnlinks href=#hl-23-17>17</a>
</span><span class=lnt id=hl-23-18><a class=lnlinks href=#hl-23-18>18</a>
</span><span class=lnt id=hl-23-19><a class=lnlinks href=#hl-23-19>19</a>
</span><span class=lnt id=hl-23-20><a class=lnlinks href=#hl-23-20>20</a>
</span><span class=lnt id=hl-23-21><a class=lnlinks href=#hl-23-21>21</a>
</span><span class=lnt id=hl-23-22><a class=lnlinks href=#hl-23-22>22</a>
</span><span class=lnt id=hl-23-23><a class=lnlinks href=#hl-23-23>23</a>
</span><span class=lnt id=hl-23-24><a class=lnlinks href=#hl-23-24>24</a>
</span><span class=lnt id=hl-23-25><a class=lnlinks href=#hl-23-25>25</a>
</span><span class=lnt id=hl-23-26><a class=lnlinks href=#hl-23-26>26</a>
</span><span class=lnt id=hl-23-27><a class=lnlinks href=#hl-23-27>27</a>
</span><span class=lnt id=hl-23-28><a class=lnlinks href=#hl-23-28>28</a>
</span><span class=lnt id=hl-23-29><a class=lnlinks href=#hl-23-29>29</a>
</span><span class=lnt id=hl-23-30><a class=lnlinks href=#hl-23-30>30</a>
</span><span class=lnt id=hl-23-31><a class=lnlinks href=#hl-23-31>31</a>
</span><span class=lnt id=hl-23-32><a class=lnlinks href=#hl-23-32>32</a>
</span><span class=lnt id=hl-23-33><a class=lnlinks href=#hl-23-33>33</a>
</span><span class=lnt id=hl-23-34><a class=lnlinks href=#hl-23-34>34</a>
</span><span class=lnt id=hl-23-35><a class=lnlinks href=#hl-23-35>35</a>
</span><span class=lnt id=hl-23-36><a class=lnlinks href=#hl-23-36>36</a>
</span><span class=lnt id=hl-23-37><a class=lnlinks href=#hl-23-37>37</a>
</span><span class=lnt id=hl-23-38><a class=lnlinks href=#hl-23-38>38</a>
</span><span class=lnt id=hl-23-39><a class=lnlinks href=#hl-23-39>39</a>
</span><span class=lnt id=hl-23-40><a class=lnlinks href=#hl-23-40>40</a>
</span><span class=lnt id=hl-23-41><a class=lnlinks href=#hl-23-41>41</a>
</span><span class=lnt id=hl-23-42><a class=lnlinks href=#hl-23-42>42</a>
</span><span class=lnt id=hl-23-43><a class=lnlinks href=#hl-23-43>43</a>
</span><span class=lnt id=hl-23-44><a class=lnlinks href=#hl-23-44>44</a>
</span><span class=lnt id=hl-23-45><a class=lnlinks href=#hl-23-45>45</a>
</span><span class=lnt id=hl-23-46><a class=lnlinks href=#hl-23-46>46</a>
</span><span class=lnt id=hl-23-47><a class=lnlinks href=#hl-23-47>47</a>
</span><span class=lnt id=hl-23-48><a class=lnlinks href=#hl-23-48>48</a>
</span><span class=lnt id=hl-23-49><a class=lnlinks href=#hl-23-49>49</a>
</span><span class=lnt id=hl-23-50><a class=lnlinks href=#hl-23-50>50</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>
</span></span><span class=line><span class=cl>. 모니터링 및 유지보수  
</span></span><span class=line><span class=cl>   검색 엔진의 안정적인 운영을 위한 모니터링 전략:
</span></span><span class=line><span class=cl>  - **클러스터 건강 모니터링**:
</span></span><span class=line><span class=cl>    - JVM 힙 사용량
</span></span><span class=line><span class=cl>    - CPU, 메모리, 디스크 사용률
</span></span><span class=line><span class=cl>    - 샤드 분배 상태
</span></span><span class=line><span class=cl>    - 노드 간 부하 분산
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>- **성능 지표 모니터링**:
</span></span><span class=line><span class=cl> - 검색 지연 시간(Latency)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>- 색인 처리량(Throughput)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>캐시 히트율
</span></span><span class=line><span class=cl> - 거부된 요청(Rejected Requests)
</span></span><span class=line><span class=cl>*알림 및 자동화**:
</span></span><span class=line><span class=cl>임계치 기반 알림
</span></span><span class=line><span class=cl>- 자동 스케일링
</span></span><span class=line><span class=cl>문제 상황 자동 대응  
</span></span><span class=line><span class=cl>예 (Metricbeat 설정):
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>```yaml
</span></span><span class=line><span class=cl>metricbeat.modules:
</span></span><span class=line><span class=cl>- module: elasticsearch
</span></span><span class=line><span class=cl>  metricsets:
</span></span><span class=line><span class=cl>    - node
</span></span><span class=line><span class=cl>    - node_stats
</span></span><span class=line><span class=cl>    - cluster_stats
</span></span><span class=line><span class=cl>    - index
</span></span><span class=line><span class=cl>    - index_recovery
</span></span><span class=line><span class=cl>    - shard
</span></span><span class=line><span class=cl>  period: 10s
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  hosts: [&#34;https://elasticsearch:9200&#34;]
</span></span><span class=line><span class=cl>  username: &#34;monitor_user&#34;
</span></span><span class=line><span class=cl>  password: &#34;password&#34;
</span></span><span class=line><span class=cl>  ssl.verification_mode: &#34;certificate&#34;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>output.elasticsearch:
</span></span><span class=line><span class=cl>  hosts: [&#34;https://monitoring-es:9200&#34;]
</span></span><span class=line><span class=cl>  index: &#34;metricbeat-elasticsearch-%{+yyyy.MM.dd}&#34;
</span></span><span class=line><span class=cl>  username: &#34;elastic&#34;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  password: &#34;password&#34;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>setup.kibana:
</span></span><span class=line><span class=cl>  host: &#34;https://kibana:5601&#34;
</span></span><span class=line><span class=cl>  username: &#34;elastic&#34;
</span></span><span class=line><span class=cl>  password: &#34;password&#34;
</span></span></code></pre></td></tr></table></div></div><h3 id=검색-엔진-구현-기술-스택>검색 엔진 구현 기술 스택<a hidden class=anchor aria-hidden=true href=#검색-엔진-구현-기술-스택>#</a></h3><ol><li>프레임워크와 라이브러리</li></ol><ul><li><strong>엘라스틱서치(Elasticsearch)</strong>: 분산 검색 및 분석 엔진</li></ul><p><strong>솔라(Solr)</strong>: 엔터프라이즈급 검색 플랫폼
<strong>스핑크스(Sphinx)</strong>: 전문 검색 엔진
<strong>MeiliSearch, Typesense</strong>: 새로운 세대의 검색 엔진</p><p>. 프로그래밍 언어</p><ul><li><p><strong>Java</strong>: 루씬, 엘라스틱서치, 솔라의 기반</p></li><li><p><strong>Python</strong>: NLP와 머신러닝에 널리 사용
<strong>Go, Rust</strong>: 성능 중심의 최신 검색 엔진에 사용</p></li></ul><h3 id=검색-엔진-활용-사례>검색 엔진 활용 사례<a hidden class=anchor aria-hidden=true href=#검색-엔진-활용-사례>#</a></h3><p>검색 엔진이 실제로 활용되는 다양한 분야와 사례를 살펴보면:</p><h4 id=엔터프라이즈-검색>엔터프라이즈 검색<a hidden class=anchor aria-hidden=true href=#엔터프라이즈-검색>#</a></h4><p>기업 내부 데이터 및 문서 검색을 위한 활용:</p><ul><li><strong>문서 관리 시스템(DMS)</strong>: 기업 내 문서, 보고서, 계약서 등의 검색</li><li><strong>지식 관리 시스템(KMS)</strong>: 조직 내 지식과 노하우 검색</li><li><strong>인트라넷 검색</strong>: 내부 포털, 위키, 게시판 등의 통합 검색</li><li><strong>이메일 및 메시지 검색</strong>: 기업 내 커뮤니케이션 검색</li></ul><p>구현 예:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1> 1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2> 2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3> 3</a>
</span><span class=lnt id=hl-24-4><a class=lnlinks href=#hl-24-4> 4</a>
</span><span class=lnt id=hl-24-5><a class=lnlinks href=#hl-24-5> 5</a>
</span><span class=lnt id=hl-24-6><a class=lnlinks href=#hl-24-6> 6</a>
</span><span class=lnt id=hl-24-7><a class=lnlinks href=#hl-24-7> 7</a>
</span><span class=lnt id=hl-24-8><a class=lnlinks href=#hl-24-8> 8</a>
</span><span class=lnt id=hl-24-9><a class=lnlinks href=#hl-24-9> 9</a>
</span><span class=lnt id=hl-24-10><a class=lnlinks href=#hl-24-10>10</a>
</span><span class=lnt id=hl-24-11><a class=lnlinks href=#hl-24-11>11</a>
</span><span class=lnt id=hl-24-12><a class=lnlinks href=#hl-24-12>12</a>
</span><span class=lnt id=hl-24-13><a class=lnlinks href=#hl-24-13>13</a>
</span><span class=lnt id=hl-24-14><a class=lnlinks href=#hl-24-14>14</a>
</span><span class=lnt id=hl-24-15><a class=lnlinks href=#hl-24-15>15</a>
</span><span class=lnt id=hl-24-16><a class=lnlinks href=#hl-24-16>16</a>
</span><span class=lnt id=hl-24-17><a class=lnlinks href=#hl-24-17>17</a>
</span><span class=lnt id=hl-24-18><a class=lnlinks href=#hl-24-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 여러 데이터 소스를 통합 검색하는 크로스 인덱스 쿼리
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>GET</span> <span class=o>/</span><span class=nx>documents</span><span class=p>,</span><span class=nx>emails</span><span class=p>,</span><span class=nx>wikis</span><span class=o>/</span><span class=nx>_search</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;query&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;multi_match&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;query&#34;</span><span class=o>:</span> <span class=s2>&#34;클라우드 마이그레이션 계획&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;fields&#34;</span><span class=o>:</span> <span class=p>[</span><span class=s2>&#34;title^3&#34;</span><span class=p>,</span> <span class=s2>&#34;content&#34;</span><span class=p>,</span> <span class=s2>&#34;attachments.content&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;type&#34;</span><span class=o>:</span> <span class=s2>&#34;best_fields&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;highlight&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;fields&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;content&#34;</span><span class=o>:</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=로그-분석-및-모니터링>로그 분석 및 모니터링<a hidden class=anchor aria-hidden=true href=#로그-분석-및-모니터링>#</a></h4><p>IT 인프라 모니터링 및 로그 분석을 위한 활용:</p><ul><li><p><strong>ELK 스택(Elasticsearch, Logstash, Kibana)</strong>: 로그 수집, 저장, 분석, 시각화</p></li><li><p><strong>시스템 및 애플리케이션 모니터링</strong>: 성능 지표 추적 및 이상 탐지</p></li><li><p><strong>보안 이벤트 분석</strong>: 침입 탐지, 이상 행동 감지, 포렌식 분석</p></li><li><p><strong>비즈니스 이벤트 모니터링</strong>: 사용자 행동, 거래, 오류 패턴 분석</p></li></ul><p>구현 예:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1> 1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2> 2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3> 3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4> 4</a>
</span><span class=lnt id=hl-25-5><a class=lnlinks href=#hl-25-5> 5</a>
</span><span class=lnt id=hl-25-6><a class=lnlinks href=#hl-25-6> 6</a>
</span><span class=lnt id=hl-25-7><a class=lnlinks href=#hl-25-7> 7</a>
</span><span class=lnt id=hl-25-8><a class=lnlinks href=#hl-25-8> 8</a>
</span><span class=lnt id=hl-25-9><a class=lnlinks href=#hl-25-9> 9</a>
</span><span class=lnt id=hl-25-10><a class=lnlinks href=#hl-25-10>10</a>
</span><span class=lnt id=hl-25-11><a class=lnlinks href=#hl-25-11>11</a>
</span><span class=lnt id=hl-25-12><a class=lnlinks href=#hl-25-12>12</a>
</span><span class=lnt id=hl-25-13><a class=lnlinks href=#hl-25-13>13</a>
</span><span class=lnt id=hl-25-14><a class=lnlinks href=#hl-25-14>14</a>
</span><span class=lnt id=hl-25-15><a class=lnlinks href=#hl-25-15>15</a>
</span><span class=lnt id=hl-25-16><a class=lnlinks href=#hl-25-16>16</a>
</span><span class=lnt id=hl-25-17><a class=lnlinks href=#hl-25-17>17</a>
</span><span class=lnt id=hl-25-18><a class=lnlinks href=#hl-25-18>18</a>
</span><span class=lnt id=hl-25-19><a class=lnlinks href=#hl-25-19>19</a>
</span><span class=lnt id=hl-25-20><a class=lnlinks href=#hl-25-20>20</a>
</span><span class=lnt id=hl-25-21><a class=lnlinks href=#hl-25-21>21</a>
</span><span class=lnt id=hl-25-22><a class=lnlinks href=#hl-25-22>22</a>
</span><span class=lnt id=hl-25-23><a class=lnlinks href=#hl-25-23>23</a>
</span><span class=lnt id=hl-25-24><a class=lnlinks href=#hl-25-24>24</a>
</span><span class=lnt id=hl-25-25><a class=lnlinks href=#hl-25-25>25</a>
</span><span class=lnt id=hl-25-26><a class=lnlinks href=#hl-25-26>26</a>
</span><span class=lnt id=hl-25-27><a class=lnlinks href=#hl-25-27>27</a>
</span><span class=lnt id=hl-25-28><a class=lnlinks href=#hl-25-28>28</a>
</span><span class=lnt id=hl-25-29><a class=lnlinks href=#hl-25-29>29</a>
</span><span class=lnt id=hl-25-30><a class=lnlinks href=#hl-25-30>30</a>
</span><span class=lnt id=hl-25-31><a class=lnlinks href=#hl-25-31>31</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 로그에서 오류 패턴 분석
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>GET</span> <span class=o>/</span><span class=nx>logs</span><span class=o>-*</span><span class=err>/_search</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;query&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;bool&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;must&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span> <span class=s2>&#34;match&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;level&#34;</span><span class=o>:</span> <span class=s2>&#34;ERROR&#34;</span> <span class=p>}</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span> <span class=s2>&#34;range&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;@timestamp&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;gte&#34;</span><span class=o>:</span> <span class=s2>&#34;now-24h&#34;</span> <span class=p>}</span> <span class=p>}</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;aggs&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;error_by_service&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;terms&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;field&#34;</span><span class=o>:</span> <span class=s2>&#34;service.name&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;aggs&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;error_by_type&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;terms&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;field&#34;</span><span class=o>:</span> <span class=s2>&#34;error.type&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;aggs&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;avg_response_time&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;avg&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;field&#34;</span><span class=o>:</span> <span class=s2>&#34;response.time_ms&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;significant_terms&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;significant_terms&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;field&#34;</span><span class=o>:</span> <span class=s2>&#34;message&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>이런 분석을 통해 시스템 문제를 신속하게 발견하고 해결할 수 있다.</p><h4 id=전자상거래-제품-검색>전자상거래 제품 검색<a hidden class=anchor aria-hidden=true href=#전자상거래-제품-검색>#</a></h4><p>쇼핑몰과 같은 전자상거래 플랫폼의 제품 검색 엔진:</p><ul><li><strong>패싯 검색(Facet Search)</strong>: 카테고리, 브랜드, 가격대 등 다양한 필터 제공</li><li><strong>개인화 검색</strong>: 사용자 행동 및 선호도 기반 검색 결과 커스터마이징</li><li><strong>유사 제품 추천</strong>: 벡터 검색을 활용한 유사 제품 추천</li><li><strong>자동완성 및 오타 교정</strong>: 사용자 검색 경험 개선</li></ul><p>구현 예:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1> 1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2> 2</a>
</span><span class=lnt id=hl-26-3><a class=lnlinks href=#hl-26-3> 3</a>
</span><span class=lnt id=hl-26-4><a class=lnlinks href=#hl-26-4> 4</a>
</span><span class=lnt id=hl-26-5><a class=lnlinks href=#hl-26-5> 5</a>
</span><span class=lnt id=hl-26-6><a class=lnlinks href=#hl-26-6> 6</a>
</span><span class=lnt id=hl-26-7><a class=lnlinks href=#hl-26-7> 7</a>
</span><span class=lnt id=hl-26-8><a class=lnlinks href=#hl-26-8> 8</a>
</span><span class=lnt id=hl-26-9><a class=lnlinks href=#hl-26-9> 9</a>
</span><span class=lnt id=hl-26-10><a class=lnlinks href=#hl-26-10>10</a>
</span><span class=lnt id=hl-26-11><a class=lnlinks href=#hl-26-11>11</a>
</span><span class=lnt id=hl-26-12><a class=lnlinks href=#hl-26-12>12</a>
</span><span class=lnt id=hl-26-13><a class=lnlinks href=#hl-26-13>13</a>
</span><span class=lnt id=hl-26-14><a class=lnlinks href=#hl-26-14>14</a>
</span><span class=lnt id=hl-26-15><a class=lnlinks href=#hl-26-15>15</a>
</span><span class=lnt id=hl-26-16><a class=lnlinks href=#hl-26-16>16</a>
</span><span class=lnt id=hl-26-17><a class=lnlinks href=#hl-26-17>17</a>
</span><span class=lnt id=hl-26-18><a class=lnlinks href=#hl-26-18>18</a>
</span><span class=lnt id=hl-26-19><a class=lnlinks href=#hl-26-19>19</a>
</span><span class=lnt id=hl-26-20><a class=lnlinks href=#hl-26-20>20</a>
</span><span class=lnt id=hl-26-21><a class=lnlinks href=#hl-26-21>21</a>
</span><span class=lnt id=hl-26-22><a class=lnlinks href=#hl-26-22>22</a>
</span><span class=lnt id=hl-26-23><a class=lnlinks href=#hl-26-23>23</a>
</span><span class=lnt id=hl-26-24><a class=lnlinks href=#hl-26-24>24</a>
</span><span class=lnt id=hl-26-25><a class=lnlinks href=#hl-26-25>25</a>
</span><span class=lnt id=hl-26-26><a class=lnlinks href=#hl-26-26>26</a>
</span><span class=lnt id=hl-26-27><a class=lnlinks href=#hl-26-27>27</a>
</span><span class=lnt id=hl-26-28><a class=lnlinks href=#hl-26-28>28</a>
</span><span class=lnt id=hl-26-29><a class=lnlinks href=#hl-26-29>29</a>
</span><span class=lnt id=hl-26-30><a class=lnlinks href=#hl-26-30>30</a>
</span><span class=lnt id=hl-26-31><a class=lnlinks href=#hl-26-31>31</a>
</span><span class=lnt id=hl-26-32><a class=lnlinks href=#hl-26-32>32</a>
</span><span class=lnt id=hl-26-33><a class=lnlinks href=#hl-26-33>33</a>
</span><span class=lnt id=hl-26-34><a class=lnlinks href=#hl-26-34>34</a>
</span><span class=lnt id=hl-26-35><a class=lnlinks href=#hl-26-35>35</a>
</span><span class=lnt id=hl-26-36><a class=lnlinks href=#hl-26-36>36</a>
</span><span class=lnt id=hl-26-37><a class=lnlinks href=#hl-26-37>37</a>
</span><span class=lnt id=hl-26-38><a class=lnlinks href=#hl-26-38>38</a>
</span><span class=lnt id=hl-26-39><a class=lnlinks href=#hl-26-39>39</a>
</span><span class=lnt id=hl-26-40><a class=lnlinks href=#hl-26-40>40</a>
</span><span class=lnt id=hl-26-41><a class=lnlinks href=#hl-26-41>41</a>
</span><span class=lnt id=hl-26-42><a class=lnlinks href=#hl-26-42>42</a>
</span><span class=lnt id=hl-26-43><a class=lnlinks href=#hl-26-43>43</a>
</span><span class=lnt id=hl-26-44><a class=lnlinks href=#hl-26-44>44</a>
</span><span class=lnt id=hl-26-45><a class=lnlinks href=#hl-26-45>45</a>
</span><span class=lnt id=hl-26-46><a class=lnlinks href=#hl-26-46>46</a>
</span><span class=lnt id=hl-26-47><a class=lnlinks href=#hl-26-47>47</a>
</span><span class=lnt id=hl-26-48><a class=lnlinks href=#hl-26-48>48</a>
</span><span class=lnt id=hl-26-49><a class=lnlinks href=#hl-26-49>49</a>
</span><span class=lnt id=hl-26-50><a class=lnlinks href=#hl-26-50>50</a>
</span><span class=lnt id=hl-26-51><a class=lnlinks href=#hl-26-51>51</a>
</span><span class=lnt id=hl-26-52><a class=lnlinks href=#hl-26-52>52</a>
</span><span class=lnt id=hl-26-53><a class=lnlinks href=#hl-26-53>53</a>
</span><span class=lnt id=hl-26-54><a class=lnlinks href=#hl-26-54>54</a>
</span><span class=lnt id=hl-26-55><a class=lnlinks href=#hl-26-55>55</a>
</span><span class=lnt id=hl-26-56><a class=lnlinks href=#hl-26-56>56</a>
</span><span class=lnt id=hl-26-57><a class=lnlinks href=#hl-26-57>57</a>
</span><span class=lnt id=hl-26-58><a class=lnlinks href=#hl-26-58>58</a>
</span><span class=lnt id=hl-26-59><a class=lnlinks href=#hl-26-59>59</a>
</span><span class=lnt id=hl-26-60><a class=lnlinks href=#hl-26-60>60</a>
</span><span class=lnt id=hl-26-61><a class=lnlinks href=#hl-26-61>61</a>
</span><span class=lnt id=hl-26-62><a class=lnlinks href=#hl-26-62>62</a>
</span><span class=lnt id=hl-26-63><a class=lnlinks href=#hl-26-63>63</a>
</span><span class=lnt id=hl-26-64><a class=lnlinks href=#hl-26-64>64</a>
</span><span class=lnt id=hl-26-65><a class=lnlinks href=#hl-26-65>65</a>
</span><span class=lnt id=hl-26-66><a class=lnlinks href=#hl-26-66>66</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>GET</span> <span class=o>/</span><span class=nx>products</span><span class=o>/</span><span class=nx>_search</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;query&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;function_score&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;query&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;bool&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;must&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span> 
</span></span><span class=line><span class=cl>              <span class=s2>&#34;multi_match&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;query&#34;</span><span class=o>:</span> <span class=s2>&#34;가벼운 노트북&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;fields&#34;</span><span class=o>:</span> <span class=p>[</span><span class=s2>&#34;name^3&#34;</span><span class=p>,</span> <span class=s2>&#34;description&#34;</span><span class=p>,</span> <span class=s2>&#34;features&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;type&#34;</span><span class=o>:</span> <span class=s2>&#34;cross_fields&#34;</span>
</span></span><span class=line><span class=cl>              <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>          <span class=p>],</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;filter&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span> <span class=s2>&#34;term&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;category&#34;</span><span class=o>:</span> <span class=s2>&#34;노트북&#34;</span> <span class=p>}</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span> <span class=s2>&#34;range&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;price&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;lte&#34;</span><span class=o>:</span> <span class=mi>2000000</span> <span class=p>}</span> <span class=p>}</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span> <span class=s2>&#34;term&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;in_stock&#34;</span><span class=o>:</span> <span class=kc>true</span> <span class=p>}</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>          <span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;functions&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;field_value_factor&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;field&#34;</span><span class=o>:</span> <span class=s2>&#34;popularity&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;modifier&#34;</span><span class=o>:</span> <span class=s2>&#34;log1p&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;factor&#34;</span><span class=o>:</span> <span class=mf>0.5</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;filter&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;term&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;is_new&#34;</span><span class=o>:</span> <span class=kc>true</span> <span class=p>}</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;weight&#34;</span><span class=o>:</span> <span class=mf>1.2</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;boost_mode&#34;</span><span class=o>:</span> <span class=s2>&#34;multiply&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;aggs&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;price_ranges&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;range&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;field&#34;</span><span class=o>:</span> <span class=s2>&#34;price&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;ranges&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>          <span class=p>{</span> <span class=s2>&#34;to&#34;</span><span class=o>:</span> <span class=mi>1000000</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>          <span class=p>{</span> <span class=s2>&#34;from&#34;</span><span class=o>:</span> <span class=mi>1000000</span><span class=p>,</span> <span class=s2>&#34;to&#34;</span><span class=o>:</span> <span class=mi>1500000</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>          <span class=p>{</span> <span class=s2>&#34;from&#34;</span><span class=o>:</span> <span class=mi>1500000</span><span class=p>,</span> <span class=s2>&#34;to&#34;</span><span class=o>:</span> <span class=mi>2000000</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;brands&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;terms&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;field&#34;</span><span class=o>:</span> <span class=s2>&#34;brand&#34;</span><span class=p>,</span> <span class=s2>&#34;size&#34;</span><span class=o>:</span> <span class=mi>10</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;avg_weight&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;avg&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;field&#34;</span><span class=o>:</span> <span class=s2>&#34;weight_g&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;sort&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_score&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span> <span class=s2>&#34;price&#34;</span><span class=o>:</span> <span class=s2>&#34;asc&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>이 쿼리는 다음을 수행한다:</p><ol><li>관련성 높은 제품 검색 및 필터링</li><li>인기도와 신제품 여부에 따른 가중치 부여</li><li>가격대, 브랜드별 집계 정보 제공</li><li>관련성 점수와 가격으로 정렬</li></ol><h4 id=콘텐츠-플랫폼-및-미디어-검색>콘텐츠 플랫폼 및 미디어 검색<a hidden class=anchor aria-hidden=true href=#콘텐츠-플랫폼-및-미디어-검색>#</a></h4><p>뉴스, 비디오, 음악 등 미디어 콘텐츠 검색:</p><ul><li><strong>콘텐츠 메타데이터 검색</strong>: 제목, 설명, 태그 등을 통한 검색</li><li><strong>콘텐츠 내용 분석</strong>: 음성 인식, 이미지 인식 등을 통한 멀티미디어 콘텐츠 검색</li><li><strong>트렌딩 토픽 분석</strong>: 실시간 인기 콘텐츠 추적</li></ul><p>구현 예:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1> 1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2> 2</a>
</span><span class=lnt id=hl-27-3><a class=lnlinks href=#hl-27-3> 3</a>
</span><span class=lnt id=hl-27-4><a class=lnlinks href=#hl-27-4> 4</a>
</span><span class=lnt id=hl-27-5><a class=lnlinks href=#hl-27-5> 5</a>
</span><span class=lnt id=hl-27-6><a class=lnlinks href=#hl-27-6> 6</a>
</span><span class=lnt id=hl-27-7><a class=lnlinks href=#hl-27-7> 7</a>
</span><span class=lnt id=hl-27-8><a class=lnlinks href=#hl-27-8> 8</a>
</span><span class=lnt id=hl-27-9><a class=lnlinks href=#hl-27-9> 9</a>
</span><span class=lnt id=hl-27-10><a class=lnlinks href=#hl-27-10>10</a>
</span><span class=lnt id=hl-27-11><a class=lnlinks href=#hl-27-11>11</a>
</span><span class=lnt id=hl-27-12><a class=lnlinks href=#hl-27-12>12</a>
</span><span class=lnt id=hl-27-13><a class=lnlinks href=#hl-27-13>13</a>
</span><span class=lnt id=hl-27-14><a class=lnlinks href=#hl-27-14>14</a>
</span><span class=lnt id=hl-27-15><a class=lnlinks href=#hl-27-15>15</a>
</span><span class=lnt id=hl-27-16><a class=lnlinks href=#hl-27-16>16</a>
</span><span class=lnt id=hl-27-17><a class=lnlinks href=#hl-27-17>17</a>
</span><span class=lnt id=hl-27-18><a class=lnlinks href=#hl-27-18>18</a>
</span><span class=lnt id=hl-27-19><a class=lnlinks href=#hl-27-19>19</a>
</span><span class=lnt id=hl-27-20><a class=lnlinks href=#hl-27-20>20</a>
</span><span class=lnt id=hl-27-21><a class=lnlinks href=#hl-27-21>21</a>
</span><span class=lnt id=hl-27-22><a class=lnlinks href=#hl-27-22>22</a>
</span><span class=lnt id=hl-27-23><a class=lnlinks href=#hl-27-23>23</a>
</span><span class=lnt id=hl-27-24><a class=lnlinks href=#hl-27-24>24</a>
</span><span class=lnt id=hl-27-25><a class=lnlinks href=#hl-27-25>25</a>
</span><span class=lnt id=hl-27-26><a class=lnlinks href=#hl-27-26>26</a>
</span><span class=lnt id=hl-27-27><a class=lnlinks href=#hl-27-27>27</a>
</span><span class=lnt id=hl-27-28><a class=lnlinks href=#hl-27-28>28</a>
</span><span class=lnt id=hl-27-29><a class=lnlinks href=#hl-27-29>29</a>
</span><span class=lnt id=hl-27-30><a class=lnlinks href=#hl-27-30>30</a>
</span><span class=lnt id=hl-27-31><a class=lnlinks href=#hl-27-31>31</a>
</span><span class=lnt id=hl-27-32><a class=lnlinks href=#hl-27-32>32</a>
</span><span class=lnt id=hl-27-33><a class=lnlinks href=#hl-27-33>33</a>
</span><span class=lnt id=hl-27-34><a class=lnlinks href=#hl-27-34>34</a>
</span><span class=lnt id=hl-27-35><a class=lnlinks href=#hl-27-35>35</a>
</span><span class=lnt id=hl-27-36><a class=lnlinks href=#hl-27-36>36</a>
</span><span class=lnt id=hl-27-37><a class=lnlinks href=#hl-27-37>37</a>
</span><span class=lnt id=hl-27-38><a class=lnlinks href=#hl-27-38>38</a>
</span><span class=lnt id=hl-27-39><a class=lnlinks href=#hl-27-39>39</a>
</span><span class=lnt id=hl-27-40><a class=lnlinks href=#hl-27-40>40</a>
</span><span class=lnt id=hl-27-41><a class=lnlinks href=#hl-27-41>41</a>
</span><span class=lnt id=hl-27-42><a class=lnlinks href=#hl-27-42>42</a>
</span><span class=lnt id=hl-27-43><a class=lnlinks href=#hl-27-43>43</a>
</span><span class=lnt id=hl-27-44><a class=lnlinks href=#hl-27-44>44</a>
</span><span class=lnt id=hl-27-45><a class=lnlinks href=#hl-27-45>45</a>
</span><span class=lnt id=hl-27-46><a class=lnlinks href=#hl-27-46>46</a>
</span><span class=lnt id=hl-27-47><a class=lnlinks href=#hl-27-47>47</a>
</span><span class=lnt id=hl-27-48><a class=lnlinks href=#hl-27-48>48</a>
</span><span class=lnt id=hl-27-49><a class=lnlinks href=#hl-27-49>49</a>
</span><span class=lnt id=hl-27-50><a class=lnlinks href=#hl-27-50>50</a>
</span><span class=lnt id=hl-27-51><a class=lnlinks href=#hl-27-51>51</a>
</span><span class=lnt id=hl-27-52><a class=lnlinks href=#hl-27-52>52</a>
</span><span class=lnt id=hl-27-53><a class=lnlinks href=#hl-27-53>53</a>
</span><span class=lnt id=hl-27-54><a class=lnlinks href=#hl-27-54>54</a>
</span><span class=lnt id=hl-27-55><a class=lnlinks href=#hl-27-55>55</a>
</span><span class=lnt id=hl-27-56><a class=lnlinks href=#hl-27-56>56</a>
</span><span class=lnt id=hl-27-57><a class=lnlinks href=#hl-27-57>57</a>
</span><span class=lnt id=hl-27-58><a class=lnlinks href=#hl-27-58>58</a>
</span><span class=lnt id=hl-27-59><a class=lnlinks href=#hl-27-59>59</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 동영상 콘텐츠 검색
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>GET</span> <span class=o>/</span><span class=nx>videos</span><span class=o>/</span><span class=nx>_search</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;query&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;bool&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;should&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;match&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;title&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;query&#34;</span><span class=o>:</span> <span class=s2>&#34;인공지능 딥러닝 튜토리얼&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;boost&#34;</span><span class=o>:</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;match&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;description&#34;</span><span class=o>:</span> <span class=s2>&#34;인공지능 딥러닝 튜토리얼&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;match&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;transcript&#34;</span><span class=o>:</span> <span class=s2>&#34;인공지능 딥러닝 튜토리얼&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;terms&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;tags&#34;</span><span class=o>:</span> <span class=p>[</span><span class=s2>&#34;AI&#34;</span><span class=p>,</span> <span class=s2>&#34;딥러닝&#34;</span><span class=p>,</span> <span class=s2>&#34;머신러닝&#34;</span><span class=p>,</span> <span class=s2>&#34;튜토리얼&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;filter&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span> <span class=s2>&#34;range&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;duration&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;lte&#34;</span><span class=o>:</span> <span class=mi>1800</span> <span class=p>}</span> <span class=p>}</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span> <span class=s2>&#34;range&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;publish_date&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;gte&#34;</span><span class=o>:</span> <span class=s2>&#34;now-1y&#34;</span> <span class=p>}</span> <span class=p>}</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;aggs&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;popular_channels&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;terms&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;field&#34;</span><span class=o>:</span> <span class=s2>&#34;channel_name&#34;</span><span class=p>,</span> <span class=s2>&#34;size&#34;</span><span class=o>:</span> <span class=mi>5</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;avg_duration&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;avg&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;field&#34;</span><span class=o>:</span> <span class=s2>&#34;duration&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;highlight&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;fields&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;title&#34;</span><span class=o>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;description&#34;</span><span class=o>:</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;transcript&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;fragment_size&#34;</span><span class=o>:</span> <span class=mi>200</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;number_of_fragments&#34;</span><span class=o>:</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=검색-엔진의-최신-기술-트렌드>검색 엔진의 최신 기술 트렌드<a hidden class=anchor aria-hidden=true href=#검색-엔진의-최신-기술-트렌드>#</a></h3><p>검색 엔진 분야에서 주목받고 있는 최신 기술과 발전 방향을 살펴보면.</p><h4 id=인공지능-기반-검색ai-powered-search>인공지능 기반 검색(AI-Powered Search)<a hidden class=anchor aria-hidden=true href=#인공지능-기반-검색ai-powered-search>#</a></h4><p>딥러닝과 인공지능을 활용한 고급 검색 기능:</p><ul><li><strong>신경망 랭킹 모델(Neural Ranking Models)</strong>: BERT, T5 등의 딥러닝 모델을 활용한 검색 결과 순위 결정</li><li><strong>멀티모달 검색(Multimodal Search)</strong>: 텍스트, 이미지, 오디오 등 다양한 데이터 타입을 함께 검색</li><li><strong>생성형 AI 통합</strong>: ChatGPT와 같은 대규모 언어 모델을 검색 엔진과 통합</li></ul><p>구현 예:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-28-1><a class=lnlinks href=#hl-28-1> 1</a>
</span><span class=lnt id=hl-28-2><a class=lnlinks href=#hl-28-2> 2</a>
</span><span class=lnt id=hl-28-3><a class=lnlinks href=#hl-28-3> 3</a>
</span><span class=lnt id=hl-28-4><a class=lnlinks href=#hl-28-4> 4</a>
</span><span class=lnt id=hl-28-5><a class=lnlinks href=#hl-28-5> 5</a>
</span><span class=lnt id=hl-28-6><a class=lnlinks href=#hl-28-6> 6</a>
</span><span class=lnt id=hl-28-7><a class=lnlinks href=#hl-28-7> 7</a>
</span><span class=lnt id=hl-28-8><a class=lnlinks href=#hl-28-8> 8</a>
</span><span class=lnt id=hl-28-9><a class=lnlinks href=#hl-28-9> 9</a>
</span><span class=lnt id=hl-28-10><a class=lnlinks href=#hl-28-10>10</a>
</span><span class=lnt id=hl-28-11><a class=lnlinks href=#hl-28-11>11</a>
</span><span class=lnt id=hl-28-12><a class=lnlinks href=#hl-28-12>12</a>
</span><span class=lnt id=hl-28-13><a class=lnlinks href=#hl-28-13>13</a>
</span><span class=lnt id=hl-28-14><a class=lnlinks href=#hl-28-14>14</a>
</span><span class=lnt id=hl-28-15><a class=lnlinks href=#hl-28-15>15</a>
</span><span class=lnt id=hl-28-16><a class=lnlinks href=#hl-28-16>16</a>
</span><span class=lnt id=hl-28-17><a class=lnlinks href=#hl-28-17>17</a>
</span><span class=lnt id=hl-28-18><a class=lnlinks href=#hl-28-18>18</a>
</span><span class=lnt id=hl-28-19><a class=lnlinks href=#hl-28-19>19</a>
</span><span class=lnt id=hl-28-20><a class=lnlinks href=#hl-28-20>20</a>
</span><span class=lnt id=hl-28-21><a class=lnlinks href=#hl-28-21>21</a>
</span><span class=lnt id=hl-28-22><a class=lnlinks href=#hl-28-22>22</a>
</span><span class=lnt id=hl-28-23><a class=lnlinks href=#hl-28-23>23</a>
</span><span class=lnt id=hl-28-24><a class=lnlinks href=#hl-28-24>24</a>
</span><span class=lnt id=hl-28-25><a class=lnlinks href=#hl-28-25>25</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 딥러닝 기반 랭킹 모델을 활용한 검색
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>GET</span> <span class=o>/</span><span class=nx>articles</span><span class=o>/</span><span class=nx>_search</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;query&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;script_score&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;query&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;bool&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;must&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span> <span class=s2>&#34;match&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;content&#34;</span><span class=o>:</span> <span class=s2>&#34;클라우드 컴퓨팅의 미래&#34;</span> <span class=p>}</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>          <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;script&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;source&#34;</span><span class=o>:</span> <span class=s2>&#34;bert_score&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;lang&#34;</span><span class=o>:</span> <span class=s2>&#34;bert&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;params&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;query_text&#34;</span><span class=o>:</span> <span class=s2>&#34;클라우드 컴퓨팅의 미래는 어떻게 될까요?&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;model_id&#34;</span><span class=o>:</span> <span class=s2>&#34;bert-base-multilingual&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=벡터-데이터베이스-통합vector-database-integration>벡터 데이터베이스 통합(Vector Database Integration)<a hidden class=anchor aria-hidden=true href=#벡터-데이터베이스-통합vector-database-integration>#</a></h4><p>검색 엔진이 벡터 데이터베이스 기능을 통합하는 추세:</p><ul><li><strong>ANN(Approximate Nearest Neighbor) 알고리즘</strong>: HNSW, IVF, PQ 등의 효율적인 벡터 검색 알고리즘</li><li><strong>하이브리드 검색(Hybrid Search)</strong>: 키워드 기반 검색과 벡터 검색의 장점을 결합</li><li><strong>다양한 임베딩 모델 지원</strong>: Word2Vec, BERT, CLIP 등 다양한 임베딩 모델 활용</li><li><strong>벡터 인덱스 최적화</strong>: 대규모 벡터 데이터를 효율적으로 저장하고 검색하는 기술</li></ul><p>구현 예:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-29-1><a class=lnlinks href=#hl-29-1> 1</a>
</span><span class=lnt id=hl-29-2><a class=lnlinks href=#hl-29-2> 2</a>
</span><span class=lnt id=hl-29-3><a class=lnlinks href=#hl-29-3> 3</a>
</span><span class=lnt id=hl-29-4><a class=lnlinks href=#hl-29-4> 4</a>
</span><span class=lnt id=hl-29-5><a class=lnlinks href=#hl-29-5> 5</a>
</span><span class=lnt id=hl-29-6><a class=lnlinks href=#hl-29-6> 6</a>
</span><span class=lnt id=hl-29-7><a class=lnlinks href=#hl-29-7> 7</a>
</span><span class=lnt id=hl-29-8><a class=lnlinks href=#hl-29-8> 8</a>
</span><span class=lnt id=hl-29-9><a class=lnlinks href=#hl-29-9> 9</a>
</span><span class=lnt id=hl-29-10><a class=lnlinks href=#hl-29-10>10</a>
</span><span class=lnt id=hl-29-11><a class=lnlinks href=#hl-29-11>11</a>
</span><span class=lnt id=hl-29-12><a class=lnlinks href=#hl-29-12>12</a>
</span><span class=lnt id=hl-29-13><a class=lnlinks href=#hl-29-13>13</a>
</span><span class=lnt id=hl-29-14><a class=lnlinks href=#hl-29-14>14</a>
</span><span class=lnt id=hl-29-15><a class=lnlinks href=#hl-29-15>15</a>
</span><span class=lnt id=hl-29-16><a class=lnlinks href=#hl-29-16>16</a>
</span><span class=lnt id=hl-29-17><a class=lnlinks href=#hl-29-17>17</a>
</span><span class=lnt id=hl-29-18><a class=lnlinks href=#hl-29-18>18</a>
</span><span class=lnt id=hl-29-19><a class=lnlinks href=#hl-29-19>19</a>
</span><span class=lnt id=hl-29-20><a class=lnlinks href=#hl-29-20>20</a>
</span><span class=lnt id=hl-29-21><a class=lnlinks href=#hl-29-21>21</a>
</span><span class=lnt id=hl-29-22><a class=lnlinks href=#hl-29-22>22</a>
</span><span class=lnt id=hl-29-23><a class=lnlinks href=#hl-29-23>23</a>
</span><span class=lnt id=hl-29-24><a class=lnlinks href=#hl-29-24>24</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 하이브리드 검색 예제
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>GET</span> <span class=o>/</span><span class=nx>products</span><span class=o>/</span><span class=nx>_search</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;query&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;combined_fields&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;query&#34;</span><span class=o>:</span> <span class=s2>&#34;편안한 여름 신발&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;fields&#34;</span><span class=o>:</span> <span class=p>[</span><span class=s2>&#34;name&#34;</span><span class=p>,</span> <span class=s2>&#34;description&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;knn&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;field&#34;</span><span class=o>:</span> <span class=s2>&#34;image_embedding&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;query_vector&#34;</span><span class=o>:</span> <span class=p>[</span><span class=err>…</span><span class=p>],</span>  <span class=c1>// 이미지 임베딩 벡터
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=s2>&#34;k&#34;</span><span class=o>:</span> <span class=mi>10</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;num_candidates&#34;</span><span class=o>:</span> <span class=mi>100</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;rank&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;rrf&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;window_size&#34;</span><span class=o>:</span> <span class=mi>50</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;rank_constant&#34;</span><span class=o>:</span> <span class=mi>20</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>이 예제는 텍스트 기반 검색과 이미지 유사도 기반 검색을 함께 수행한 후, RRF(Reciprocal Rank Fusion) 알고리즘으로 결과를 통합한다.</p><h4 id=실시간-스트리밍-처리real-time-streaming-processing>실시간 스트리밍 처리(Real-Time Streaming Processing)<a hidden class=anchor aria-hidden=true href=#실시간-스트리밍-처리real-time-streaming-processing>#</a></h4><p>끊임없이 생성되는 대량의 데이터를 실시간으로 처리하는 기능:</p><ul><li><strong>스트림 처리 통합</strong>: Kafka, Flink 등의 스트림 처리 엔진과 통합</li><li><strong>CDC(Change Data Capture)</strong>: 데이터베이스 변경 사항 실시간 반영</li><li><strong>증분 집계(Incremental Aggregation)</strong>: 새로운 데이터만 분석하여 집계 결과 업데이트</li><li><strong>연속 쿼리(Continuous Queries)</strong>: 지속적으로 실행되며 새로운 데이터를 감시하는 쿼리
구현 예:</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-30-1><a class=lnlinks href=#hl-30-1>  1</a>
</span><span class=lnt id=hl-30-2><a class=lnlinks href=#hl-30-2>  2</a>
</span><span class=lnt id=hl-30-3><a class=lnlinks href=#hl-30-3>  3</a>
</span><span class=lnt id=hl-30-4><a class=lnlinks href=#hl-30-4>  4</a>
</span><span class=lnt id=hl-30-5><a class=lnlinks href=#hl-30-5>  5</a>
</span><span class=lnt id=hl-30-6><a class=lnlinks href=#hl-30-6>  6</a>
</span><span class=lnt id=hl-30-7><a class=lnlinks href=#hl-30-7>  7</a>
</span><span class=lnt id=hl-30-8><a class=lnlinks href=#hl-30-8>  8</a>
</span><span class=lnt id=hl-30-9><a class=lnlinks href=#hl-30-9>  9</a>
</span><span class=lnt id=hl-30-10><a class=lnlinks href=#hl-30-10> 10</a>
</span><span class=lnt id=hl-30-11><a class=lnlinks href=#hl-30-11> 11</a>
</span><span class=lnt id=hl-30-12><a class=lnlinks href=#hl-30-12> 12</a>
</span><span class=lnt id=hl-30-13><a class=lnlinks href=#hl-30-13> 13</a>
</span><span class=lnt id=hl-30-14><a class=lnlinks href=#hl-30-14> 14</a>
</span><span class=lnt id=hl-30-15><a class=lnlinks href=#hl-30-15> 15</a>
</span><span class=lnt id=hl-30-16><a class=lnlinks href=#hl-30-16> 16</a>
</span><span class=lnt id=hl-30-17><a class=lnlinks href=#hl-30-17> 17</a>
</span><span class=lnt id=hl-30-18><a class=lnlinks href=#hl-30-18> 18</a>
</span><span class=lnt id=hl-30-19><a class=lnlinks href=#hl-30-19> 19</a>
</span><span class=lnt id=hl-30-20><a class=lnlinks href=#hl-30-20> 20</a>
</span><span class=lnt id=hl-30-21><a class=lnlinks href=#hl-30-21> 21</a>
</span><span class=lnt id=hl-30-22><a class=lnlinks href=#hl-30-22> 22</a>
</span><span class=lnt id=hl-30-23><a class=lnlinks href=#hl-30-23> 23</a>
</span><span class=lnt id=hl-30-24><a class=lnlinks href=#hl-30-24> 24</a>
</span><span class=lnt id=hl-30-25><a class=lnlinks href=#hl-30-25> 25</a>
</span><span class=lnt id=hl-30-26><a class=lnlinks href=#hl-30-26> 26</a>
</span><span class=lnt id=hl-30-27><a class=lnlinks href=#hl-30-27> 27</a>
</span><span class=lnt id=hl-30-28><a class=lnlinks href=#hl-30-28> 28</a>
</span><span class=lnt id=hl-30-29><a class=lnlinks href=#hl-30-29> 29</a>
</span><span class=lnt id=hl-30-30><a class=lnlinks href=#hl-30-30> 30</a>
</span><span class=lnt id=hl-30-31><a class=lnlinks href=#hl-30-31> 31</a>
</span><span class=lnt id=hl-30-32><a class=lnlinks href=#hl-30-32> 32</a>
</span><span class=lnt id=hl-30-33><a class=lnlinks href=#hl-30-33> 33</a>
</span><span class=lnt id=hl-30-34><a class=lnlinks href=#hl-30-34> 34</a>
</span><span class=lnt id=hl-30-35><a class=lnlinks href=#hl-30-35> 35</a>
</span><span class=lnt id=hl-30-36><a class=lnlinks href=#hl-30-36> 36</a>
</span><span class=lnt id=hl-30-37><a class=lnlinks href=#hl-30-37> 37</a>
</span><span class=lnt id=hl-30-38><a class=lnlinks href=#hl-30-38> 38</a>
</span><span class=lnt id=hl-30-39><a class=lnlinks href=#hl-30-39> 39</a>
</span><span class=lnt id=hl-30-40><a class=lnlinks href=#hl-30-40> 40</a>
</span><span class=lnt id=hl-30-41><a class=lnlinks href=#hl-30-41> 41</a>
</span><span class=lnt id=hl-30-42><a class=lnlinks href=#hl-30-42> 42</a>
</span><span class=lnt id=hl-30-43><a class=lnlinks href=#hl-30-43> 43</a>
</span><span class=lnt id=hl-30-44><a class=lnlinks href=#hl-30-44> 44</a>
</span><span class=lnt id=hl-30-45><a class=lnlinks href=#hl-30-45> 45</a>
</span><span class=lnt id=hl-30-46><a class=lnlinks href=#hl-30-46> 46</a>
</span><span class=lnt id=hl-30-47><a class=lnlinks href=#hl-30-47> 47</a>
</span><span class=lnt id=hl-30-48><a class=lnlinks href=#hl-30-48> 48</a>
</span><span class=lnt id=hl-30-49><a class=lnlinks href=#hl-30-49> 49</a>
</span><span class=lnt id=hl-30-50><a class=lnlinks href=#hl-30-50> 50</a>
</span><span class=lnt id=hl-30-51><a class=lnlinks href=#hl-30-51> 51</a>
</span><span class=lnt id=hl-30-52><a class=lnlinks href=#hl-30-52> 52</a>
</span><span class=lnt id=hl-30-53><a class=lnlinks href=#hl-30-53> 53</a>
</span><span class=lnt id=hl-30-54><a class=lnlinks href=#hl-30-54> 54</a>
</span><span class=lnt id=hl-30-55><a class=lnlinks href=#hl-30-55> 55</a>
</span><span class=lnt id=hl-30-56><a class=lnlinks href=#hl-30-56> 56</a>
</span><span class=lnt id=hl-30-57><a class=lnlinks href=#hl-30-57> 57</a>
</span><span class=lnt id=hl-30-58><a class=lnlinks href=#hl-30-58> 58</a>
</span><span class=lnt id=hl-30-59><a class=lnlinks href=#hl-30-59> 59</a>
</span><span class=lnt id=hl-30-60><a class=lnlinks href=#hl-30-60> 60</a>
</span><span class=lnt id=hl-30-61><a class=lnlinks href=#hl-30-61> 61</a>
</span><span class=lnt id=hl-30-62><a class=lnlinks href=#hl-30-62> 62</a>
</span><span class=lnt id=hl-30-63><a class=lnlinks href=#hl-30-63> 63</a>
</span><span class=lnt id=hl-30-64><a class=lnlinks href=#hl-30-64> 64</a>
</span><span class=lnt id=hl-30-65><a class=lnlinks href=#hl-30-65> 65</a>
</span><span class=lnt id=hl-30-66><a class=lnlinks href=#hl-30-66> 66</a>
</span><span class=lnt id=hl-30-67><a class=lnlinks href=#hl-30-67> 67</a>
</span><span class=lnt id=hl-30-68><a class=lnlinks href=#hl-30-68> 68</a>
</span><span class=lnt id=hl-30-69><a class=lnlinks href=#hl-30-69> 69</a>
</span><span class=lnt id=hl-30-70><a class=lnlinks href=#hl-30-70> 70</a>
</span><span class=lnt id=hl-30-71><a class=lnlinks href=#hl-30-71> 71</a>
</span><span class=lnt id=hl-30-72><a class=lnlinks href=#hl-30-72> 72</a>
</span><span class=lnt id=hl-30-73><a class=lnlinks href=#hl-30-73> 73</a>
</span><span class=lnt id=hl-30-74><a class=lnlinks href=#hl-30-74> 74</a>
</span><span class=lnt id=hl-30-75><a class=lnlinks href=#hl-30-75> 75</a>
</span><span class=lnt id=hl-30-76><a class=lnlinks href=#hl-30-76> 76</a>
</span><span class=lnt id=hl-30-77><a class=lnlinks href=#hl-30-77> 77</a>
</span><span class=lnt id=hl-30-78><a class=lnlinks href=#hl-30-78> 78</a>
</span><span class=lnt id=hl-30-79><a class=lnlinks href=#hl-30-79> 79</a>
</span><span class=lnt id=hl-30-80><a class=lnlinks href=#hl-30-80> 80</a>
</span><span class=lnt id=hl-30-81><a class=lnlinks href=#hl-30-81> 81</a>
</span><span class=lnt id=hl-30-82><a class=lnlinks href=#hl-30-82> 82</a>
</span><span class=lnt id=hl-30-83><a class=lnlinks href=#hl-30-83> 83</a>
</span><span class=lnt id=hl-30-84><a class=lnlinks href=#hl-30-84> 84</a>
</span><span class=lnt id=hl-30-85><a class=lnlinks href=#hl-30-85> 85</a>
</span><span class=lnt id=hl-30-86><a class=lnlinks href=#hl-30-86> 86</a>
</span><span class=lnt id=hl-30-87><a class=lnlinks href=#hl-30-87> 87</a>
</span><span class=lnt id=hl-30-88><a class=lnlinks href=#hl-30-88> 88</a>
</span><span class=lnt id=hl-30-89><a class=lnlinks href=#hl-30-89> 89</a>
</span><span class=lnt id=hl-30-90><a class=lnlinks href=#hl-30-90> 90</a>
</span><span class=lnt id=hl-30-91><a class=lnlinks href=#hl-30-91> 91</a>
</span><span class=lnt id=hl-30-92><a class=lnlinks href=#hl-30-92> 92</a>
</span><span class=lnt id=hl-30-93><a class=lnlinks href=#hl-30-93> 93</a>
</span><span class=lnt id=hl-30-94><a class=lnlinks href=#hl-30-94> 94</a>
</span><span class=lnt id=hl-30-95><a class=lnlinks href=#hl-30-95> 95</a>
</span><span class=lnt id=hl-30-96><a class=lnlinks href=#hl-30-96> 96</a>
</span><span class=lnt id=hl-30-97><a class=lnlinks href=#hl-30-97> 97</a>
</span><span class=lnt id=hl-30-98><a class=lnlinks href=#hl-30-98> 98</a>
</span><span class=lnt id=hl-30-99><a class=lnlinks href=#hl-30-99> 99</a>
</span><span class=lnt id=hl-30-100><a class=lnlinks href=#hl-30-100>100</a>
</span><span class=lnt id=hl-30-101><a class=lnlinks href=#hl-30-101>101</a>
</span><span class=lnt id=hl-30-102><a class=lnlinks href=#hl-30-102>102</a>
</span><span class=lnt id=hl-30-103><a class=lnlinks href=#hl-30-103>103</a>
</span><span class=lnt id=hl-30-104><a class=lnlinks href=#hl-30-104>104</a>
</span><span class=lnt id=hl-30-105><a class=lnlinks href=#hl-30-105>105</a>
</span><span class=lnt id=hl-30-106><a class=lnlinks href=#hl-30-106>106</a>
</span><span class=lnt id=hl-30-107><a class=lnlinks href=#hl-30-107>107</a>
</span><span class=lnt id=hl-30-108><a class=lnlinks href=#hl-30-108>108</a>
</span><span class=lnt id=hl-30-109><a class=lnlinks href=#hl-30-109>109</a>
</span><span class=lnt id=hl-30-110><a class=lnlinks href=#hl-30-110>110</a>
</span><span class=lnt id=hl-30-111><a class=lnlinks href=#hl-30-111>111</a>
</span><span class=lnt id=hl-30-112><a class=lnlinks href=#hl-30-112>112</a>
</span><span class=lnt id=hl-30-113><a class=lnlinks href=#hl-30-113>113</a>
</span><span class=lnt id=hl-30-114><a class=lnlinks href=#hl-30-114>114</a>
</span><span class=lnt id=hl-30-115><a class=lnlinks href=#hl-30-115>115</a>
</span><span class=lnt id=hl-30-116><a class=lnlinks href=#hl-30-116>116</a>
</span><span class=lnt id=hl-30-117><a class=lnlinks href=#hl-30-117>117</a>
</span><span class=lnt id=hl-30-118><a class=lnlinks href=#hl-30-118>118</a>
</span><span class=lnt id=hl-30-119><a class=lnlinks href=#hl-30-119>119</a>
</span><span class=lnt id=hl-30-120><a class=lnlinks href=#hl-30-120>120</a>
</span><span class=lnt id=hl-30-121><a class=lnlinks href=#hl-30-121>121</a>
</span><span class=lnt id=hl-30-122><a class=lnlinks href=#hl-30-122>122</a>
</span><span class=lnt id=hl-30-123><a class=lnlinks href=#hl-30-123>123</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 실시간 이상 탐지 쿼리
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>POST</span> <span class=nx>_alerting</span><span class=o>/</span><span class=nx>monitors</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;name&#34;</span><span class=o>:</span> <span class=s2>&#34;cpu_usage_monitor&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;type&#34;</span><span class=o>:</span> <span class=s2>&#34;monitor&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;schedule&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;interval&#34;</span><span class=o>:</span> <span class=s2>&#34;1m&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;inputs&#34;</span><span class=o>:</span> <span class=p>[{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;search&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;indices&#34;</span><span class=o>:</span> <span class=p>[</span><span class=s2>&#34;metrics-*&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;query&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;bool&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;filter&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span> <span class=s2>&#34;range&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;@timestamp&#34;</span><span class=o>:</span> <span class=p>{</span> <span class=s2>&#34;gte&#34;</span><span class=o>:</span> <span class=s2>&#34;now-5m&#34;</span> <span class=p>}</span> <span class=p>}</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>          <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=p>}],</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;triggers&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;name&#34;</span><span class=o>:</span> <span class=s2>&#34;high_cpu_usage&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;condition&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;script&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;source&#34;</span><span class=o>:</span> <span class=s2>&#34;return ctx.results[0].aggregations.max_cpu.value &gt; 90&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;lang&#34;</span><span class=o>:</span> <span class=s2>&#34;painless&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;actions&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;name&#34;</span><span class=o>:</span> <span class=s2>&#34;notify_team&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;destination_id&#34;</span><span class=o>:</span> <span class=s2>&#34;slack_channel&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;message_template&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;source&#34;</span><span class=o>:</span> <span class=s2>&#34;CPU 사용량이 90%를 초과했습니다. 현재 값: {{ctx.results.aggregations.max_cpu.value}}%&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=sb>`
</span></span></span><span class=line><span class=cl><span class=sb>  
</span></span></span><span class=line><span class=cl><span class=sb>  ## 클라우드 네이티브 및 서버리스 검색(Cloud-Native &amp; Serverless Search)
</span></span></span><span class=line><span class=cl><span class=sb>  
</span></span></span><span class=line><span class=cl><span class=sb>  우드 환경에 최적화된 검색 서비스:
</span></span></span><span class=line><span class=cl><span class=sb>  
</span></span></span><span class=line><span class=cl><span class=sb>  **관리형 검색 서비스(Managed Search Services)**: AWS OpenSearch Service, Elastic Cloud 등
</span></span></span><span class=line><span class=cl><span class=sb>  **서버리스 검색(Serverless Search)**: 인프라 관리 없이 자동 확장되는 검색 서비스
</span></span></span><span class=line><span class=cl><span class=sb>  **컨테이너화 및 쿠버네티스 통합**: 컨테이너 환경에 최적화된 배포 및 관리
</span></span></span><span class=line><span class=cl><span class=sb>  **멀티클라우드 지원**: 여러 클라우드 환경에 걸친 분산 검색 서비스
</span></span></span><span class=line><span class=cl><span class=sb>  
</span></span></span><span class=line><span class=cl><span class=sb>   예 (AWS CloudFormation 템플릿):
</span></span></span><span class=line><span class=cl><span class=sb>  
</span></span></span><span class=line><span class=cl><span class=sb>  `</span><span class=nx>yaml</span>
</span></span><span class=line><span class=cl>  <span class=nx>STemplateFormatVersion</span><span class=o>:</span> <span class=s1>&#39;2010-09-09&#39;</span>
</span></span><span class=line><span class=cl>     <span class=nx>sources</span><span class=o>:</span>
</span></span><span class=line><span class=cl>  <span class=nx>OpenSearchDomain</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=nx>Type</span><span class=o>:</span> <span class=nx>AWS</span><span class=o>::</span><span class=nx>OpenSearchService</span><span class=o>::</span><span class=nx>Domain</span>
</span></span><span class=line><span class=cl>    <span class=nx>Properties</span><span class=o>:</span>
</span></span><span class=line><span class=cl>         <span class=nx>DomainName</span><span class=o>:</span> <span class=nx>search</span><span class=o>-</span><span class=nx>service</span>
</span></span><span class=line><span class=cl>      <span class=nx>EngineVersion</span><span class=o>:</span> <span class=nx>OpenSearch_2</span><span class=p>.</span><span class=mi>5</span>
</span></span><span class=line><span class=cl>      <span class=nx>ClusterConfig</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=nx>InstanceType</span><span class=o>:</span> <span class=nx>r6g</span><span class=p>.</span><span class=nx>large</span><span class=p>.</span><span class=nx>search</span>
</span></span><span class=line><span class=cl>        <span class=nx>InstanceCount</span><span class=o>:</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl>        <span class=nx>ZoneAwarenessEnabled</span><span class=o>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>        <span class=nx>ZoneAwarenessConfig</span><span class=o>:</span>
</span></span><span class=line><span class=cl>          <span class=nx>AvailabilityZoneCount</span><span class=o>:</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl>      <span class=nx>EBSOptions</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=nx>EBSEnabled</span><span class=o>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>        <span class=nx>VolumeType</span><span class=o>:</span> <span class=nx>gp3</span>
</span></span><span class=line><span class=cl>           <span class=nx>VolumeSize</span><span class=o>:</span> <span class=mi>100</span>
</span></span><span class=line><span class=cl>      <span class=nx>NodeToNodeEncryptionOptions</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=nx>Enabled</span><span class=o>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>      <span class=nx>EncryptionAtRestOptions</span><span class=o>:</span>
</span></span><span class=line><span class=cl>           <span class=nx>Enabled</span><span class=o>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>      <span class=nx>AdvancedOptions</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;rest.action.multi.allow_explicit_index&#34;</span><span class=o>:</span> <span class=s2>&#34;true&#34;</span>
</span></span><span class=line><span class=cl>      <span class=nx>AccessPolicies</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=nx>Version</span><span class=o>:</span> <span class=s2>&#34;2012-10-17&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nx>Statement</span><span class=o>:</span>
</span></span><span class=line><span class=cl>          <span class=o>-</span> <span class=nx>Effect</span><span class=o>:</span> <span class=nx>Allow</span>
</span></span><span class=line><span class=cl>            <span class=nx>Principal</span><span class=o>:</span>
</span></span><span class=line><span class=cl>              <span class=nx>AWS</span><span class=o>:</span> <span class=o>!</span><span class=nx>GetAtt</span> <span class=nx>SearchRole</span><span class=p>.</span><span class=nx>Arn</span>
</span></span><span class=line><span class=cl>               <span class=nx>Action</span><span class=o>:</span> <span class=s1>&#39;es:*&#39;</span>
</span></span><span class=line><span class=cl>            <span class=nx>Resource</span><span class=o>:</span> <span class=o>!</span><span class=nx>Sub</span> <span class=s1>&#39;arn:aws:es:${AWS::Region}:${AWS::AccountId}:domain/search-service/*&#39;</span>
</span></span><span class=line><span class=cl>  <span class=sb>`
</span></span></span><span class=line><span class=cl><span class=sb>  
</span></span></span><span class=line><span class=cl><span class=sb>     # 최신 연구 동향과 미래 전망
</span></span></span><span class=line><span class=cl><span class=sb>  
</span></span></span><span class=line><span class=cl><span class=sb>   신경망 검색과 생성형 AI의 통합  
</span></span></span><span class=line><span class=cl><span class=sb>    검색과 생성형 AI의 결합:
</span></span></span><span class=line><span class=cl><span class=sb>  . RAG(Retrieval-Augmented Generation)
</span></span></span><span class=line><span class=cl><span class=sb>  - 검색 결과로 LLM의 응답 보강
</span></span></span><span class=line><span class=cl><span class=sb>  - 환각(Hallucination) 감소 및 사실적 정확성 향상
</span></span></span><span class=line><span class=cl><span class=sb>  - 지식 기반 업데이트 용이성
</span></span></span><span class=line><span class=cl><span class=sb>  
</span></span></span><span class=line><span class=cl><span class=sb>  구현 예:
</span></span></span><span class=line><span class=cl><span class=sb>  
</span></span></span><span class=line><span class=cl><span class=sb>     ```</span><span class=nx>javascript</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 1단계: 관련 문서 검색
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>GET</span> <span class=o>/</span><span class=nx>knowledge_base</span><span class=o>/</span><span class=nx>_search</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=s2>&#34;query&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;multi_match&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;query&#34;</span><span class=o>:</span> <span class=s2>&#34;2023년 인공지능 기술 동향&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;fields&#34;</span><span class=o>:</span> <span class=p>[</span><span class=s2>&#34;title^2&#34;</span><span class=p>,</span> <span class=s2>&#34;content&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;_source&#34;</span><span class=o>:</span> <span class=p>[</span><span class=s2>&#34;title&#34;</span><span class=p>,</span> <span class=s2>&#34;content&#34;</span><span class=p>,</span> <span class=s2>&#34;url&#34;</span><span class=p>,</span> <span class=s2>&#34;published_date&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;size&#34;</span><span class=o>:</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>     
</span></span><span class=line><span class=cl>  <span class=c1>// 2단계: 검색 결과를 LLM 프롬프트에 통합
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// LLM API 호출 (의사 코드)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>response</span> <span class=o>=</span> <span class=nx>llm_generate</span><span class=p>({</span>
</span></span><span class=line><span class=cl>       <span class=s2>&#34;prompt&#34;</span><span class=o>:</span> <span class=s2>&#34;다음 정보를 바탕으로 2023년 인공지능 기술 동향에 대해 요약해주세요:\n\n&#34;</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;문서1: &#34;</span> <span class=o>+</span> <span class=nx>search_results</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=nx>content</span> <span class=o>+</span> <span class=s2>&#34;\n\n&#34;</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;문서2: &#34;</span> <span class=o>+</span> <span class=nx>search_results</span><span class=p>[</span><span class=mi>1</span><span class=p>].</span><span class=nx>content</span> <span class=o>+</span> <span class=s2>&#34;\n\n&#34;</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>              <span class=s2>&#34;문서3: &#34;</span> <span class=o>+</span> <span class=nx>search_results</span><span class=p>[</span><span class=mi>2</span><span class=p>].</span><span class=nx>content</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;max_tokens&#34;</span><span class=o>:</span> <span class=mi>500</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>하이브리드 검색 아키텍처</li></ol><ul><li>키워드 검색, 시맨틱 검색, 생성 모델의 통합</li><li>다단계 검색 파이프라인<ul><li>검색과 대화의 경계 허물기</li></ul></li></ul><p>. 멀티모달 이해 및 검색</p><p>스트, 이미지, 오디오, 비디오를 아우르는 통합 검색</p><ul><li>크로스 모달 검색(이미지로 텍스트 검색, 텍스트로 이미지 검색 등)</li><li>멀티모달 콘텐츠 이해 및 분석</li></ul><p>엣지 검색과 분산 검색 아키텍처<br>검색 처리의 분산화:
1. 엣지 컴퓨팅 기반 검색
- 사용자에게 가까운 위치에서 검색 처리
- 지연 시간 최소화 및 대역폭 절약
- 프라이버시 강화(로컬 처리)
1. 분산 검색 프로토콜</p><ul><li>P2P 기반 분산 검색 네트워크</li><li>블록체인 기술과의 통합</li></ul><p>탈중앙화된 검색 인덱스
2. 하이브리드 클라우드 아키텍처
퍼블릭 클라우드와 온프레미스 환경의 통합</p><ul><li>데이터 주권 및 규제 준수
비용 효율적인 리소스 활용</li></ul><p>검색의 미래: 자율 검색 시스템<br>자가 최적화 및 자가 학습 검색 시스템:
1. 자가 튜닝 검색 엔진
- 사용 패턴에 따른 자동 최적화
- 쿼리 성능 모니터링 및 자동 개선
- 리소스 사용 효율화
1. 맥락 인식 검색</p><ul><li>사용자 의도와 맥락 이해</li></ul><p>대화 기반 검색 세션 관리
암시적 정보 활용(위치, 시간, 기기 등)
2. 예측형 검색</p><ul><li>사용자 요구 예측 및 선제적 정보 제공
개인화된 발견 경험
검색 인터페이스의 재정의</li></ul><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Full-Text Search</h2></header><div class=entry-content><p>Full-Text Search 전문 검색(Full-Text Search)은 현대 검색 엔진 기술의 핵심으로, 대량의 비구조화된 텍스트에서 사용자가 원하는 정보를 빠르고 정확하게 찾아내는 핵심 기술이다.
전문 검색의 개념과 필요성 전문 검색은 문서나 텍스트의 전체 내용을 대상으로 검색을 수행하는 기술이다. 전통적인 데이터베이스 검색과는 달리, 전문 검색은 텍스트의 의미론적 맥락과 언어적 특성을 고려하여 검색 결과의 정확도와 관련성을 높이는 데 중점을 둔다.
전통적 데이터베이스 검색과의 차이점 정확 일치(Exact Match) vs 의미적 검색(Semantic Search): 데이터베이스는 주로 정확한 일치를 찾지만, 전문 검색은 유사성과 관련성을 고려한다. 구조화된 데이터 vs 비구조화된 데이터: 데이터베이스는 표, 열, 행과 같은 구조화된 데이터에 최적화되어 있지만, 전문 검색은 텍스트와 같은 비구조화된 데이터를 처리한다. 검색 깊이: 데이터베이스 검색은 주로 메타데이터나 특정 필드에 집중하는 반면, 전문 검색은 콘텐츠 전체를 분석한다. 현대 디지털 환경에서 전문 검색의 필요성이 증가하는 이유는 다음과 같다:
...</p></div><footer class=entry-footer><span title='2025-04-14 07:13:00 +0000 UTC'>April 14, 2025</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Full-Text Search" href=https://buenhyden.github.io/posts/backend-development/search-engines/fundamentals/full-text-search/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>inverted index</h2></header><div class=entry-content><p>Inverted Index 역인덱스는 문서 검색 시스템의 핵심 데이터 구조로, 효율적인 전문 검색(full-text search)을 가능하게 한다. 이 구조는 텍스트 검색 엔진의 기본 요소이며, 현대 검색 엔진의 핵심 기술이다.
현대의 검색 엔진과 정보 검색 시스템에서 필수적인 요소로, 사용자가 방대한 문서 컬렉션에서 관련 정보를 빠르게 찾을 수 있도록 도와준다. 역인덱스의 구조와 알고리즘을 이해하는 것은 효율적인 검색 시스템을 설계하고 구현하는 데 중요한 기반이 된다.
역인덱스의 기본 개념 일반적인 인덱스(forward index)는 문서를 식별자로 찾아 그 내용을 검색하는 방식이다. 반면, 역인덱스는 이 관계를 ‘뒤집어’ 단어나 용어를 키로 하고, 그 단어가 등장하는 문서들의 목록을 값으로 저장한다.
...</p></div><footer class=entry-footer><span title='2025-01-02 05:07:00 +0000 UTC'>January 2, 2025</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to inverted index" href=https://buenhyden.github.io/posts/backend-development/search-engines/fundamentals/inverted-index/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Implementations of Search Engine</h2></header><div class=entry-content><p>Search Engines: Apache Lucene, Solr, Elasticsearch, and OpenSearch 검색 엔진은 방대한 데이터에서 필요한 정보를 빠르고 정확하게 찾을 수 있게 해주는 핵심 기술이다.
검색 엔진의 기본 원리 검색 엔진은 기본적으로 세 가지 핵심 과정을 수행한다:
색인화(Indexing): 원본 데이터를 수집하고 검색에 최적화된 형태로 변환하는 과정 저장(Storage): 변환된 데이터를 효율적으로 저장하는 단계 검색(Searching): 사용자 질의에 따라 관련성 높은 결과를 반환하는 과정
이러한 과정을 통해 텍스트 기반 검색, 필터링, 집계 분석 등의 기능을 제공한다. Apache Lucene Apache Lucene은 모든 현대적 검색 엔진의 기초가 되는 고성능 전문(full-text) 검색 라이브러리.
...</p></div><footer class=entry-footer><span title='2024-10-22 06:06:00 +0000 UTC'>October 22, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Implementations of Search Engine" href=https://buenhyden.github.io/posts/backend-development/search-engines/implementations/></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>