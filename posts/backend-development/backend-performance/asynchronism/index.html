<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Asynchronism | hyunyoun's Blog</title><meta name=keywords content="Backend-Development,Best-Practices,Asynchronism"><meta name=description content="비동기 처리(Asynchronism)는 시스템의 응답성과 확장성을 크게 향상시킬 수 있다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/backend-development/backend-performance/asynchronism/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/backend-development/backend-performance/asynchronism/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/backend-development/backend-performance/asynchronism/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Asynchronism"><meta property="og:description" content="비동기 처리(Asynchronism)는 시스템의 응답성과 확장성을 크게 향상시킬 수 있다."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-02-12T01:32:00+00:00"><meta property="article:modified_time" content="2025-02-12T01:32:00+00:00"><meta property="article:tag" content="Backend-Development"><meta property="article:tag" content="Best-Practices"><meta property="article:tag" content="Asynchronism"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Asynchronism"><meta name=twitter:description content="비동기 처리(Asynchronism)는 시스템의 응답성과 확장성을 크게 향상시킬 수 있다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Asynchronism","item":"https://buenhyden.github.io/posts/backend-development/backend-performance/asynchronism/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Asynchronism","name":"Asynchronism","description":"비동기 처리(Asynchronism)는 시스템의 응답성과 확장성을 크게 향상시킬 수 있다.","keywords":["Backend-Development","Best-Practices","Asynchronism"],"articleBody":"Asynchronism 백엔드 시스템의 성능을 최적화하는 것은 현대 애플리케이션 개발에서 핵심적인 과제이다. 특히 비동기 처리(Asynchronism)는 시스템의 응답성과 확장성을 크게 향상시킬 수 있는 강력한 패러다임이다.\nOffloading Heavy Tasks to Background Jobs or Queues 기본 개념 백그라운드 작업 처리는 시간이 오래 걸리거나 리소스를 많이 소모하는 작업을 주 실행 스레드에서 분리하여 별도의 프로세스나 스레드에서 비동기적으로 실행하는 기법이다. 이를 통해 사용자 요청에 대한 응답 시간을 크게 개선할 수 있다.\n구현 방법 작업 큐 시스템 활용 작업 큐 시스템은 백그라운드 작업 처리의 가장 일반적인 구현 방법이다.\n이 시스템은 주로 다음 세 가지 구성 요소로 이루어진다:\n큐(Queue): 처리해야 할 작업들이 저장되는 장소이다. 생산자(Producer): 큐에 작업을 추가하는 주체이다. 소비자(Consumer/Worker): 큐에서 작업을 가져와 실행하는 주체이다. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 # Python과 Celery를 사용한 백그라운드 작업 예시 from celery import Celery # Celery 인스턴스 생성 및 설정 app = Celery('tasks', broker='redis://localhost:6379/0') # 백그라운드에서 실행될 작업 정의 @app.task def process_image(image_id): # 이미지 처리 로직 image = download_image(image_id) thumbnail = create_thumbnail(image) upload_thumbnail(thumbnail, image_id) send_notification(image_id) return {\"status\": \"success\", \"image_id\": image_id} # API 엔드포인트에서 작업 큐에 작업 추가 def upload_image_endpoint(request): image_data = request.files['image'] image_id = save_original_image(image_data) # 비동기 작업 시작 - 즉시 반환됨 process_image.delay(image_id) return {\"status\": \"processing\", \"image_id\": image_id} 스케줄링 시스템 활용 주기적으로 실행해야 하는 백그라운드 작업은 스케줄링 시스템을 통해 관리할 수 있다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 // Node.js에서 node-cron을 사용한 스케줄링 예시 const cron = require('node-cron'); const reportGenerator = require('./report-generator'); // 매일 자정에 일일 보고서 생성 작업 스케줄링 cron.schedule('0 0 * * *', async () =\u003e { try { console.log('일일 보고서 생성 시작...'); await reportGenerator.generateDailyReport(); console.log('일일 보고서 생성 완료'); } catch (error) { console.error('보고서 생성 중 오류 발생:', error); } }); 주요 사용 사례 이메일 및 알림 전송: 사용자 등록 완료 후 환영 이메일 발송, 알림 전송 등 미디어 처리: 이미지 리사이징, 동영상 인코딩, 파일 변환 보고서 생성: 복잡한 데이터 집계 및 보고서 생성 데이터 내보내기/가져오기: 대용량 CSV 파일 생성, 데이터 마이그레이션 정기 유지보수 작업: 데이터베이스 청소, 캐시 갱신, 만료된 콘텐츠 삭제 구현 시 고려사항 멱등성(Idempotency): 작업이 여러 번 실행되더라도 동일한 결과를 보장해야 한다. 네트워크 오류 등으로 작업이 중복 실행될 수 있기 때문이다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 // 멱등성을 보장하는 작업 예시 async function processPayment(paymentId) { // 작업이 이미 처리되었는지 확인 const paymentStatus = await getPaymentStatus(paymentId); if (paymentStatus === 'processed') { return { status: 'already_processed', paymentId }; } // 작업 처리 const result = await executePayment(paymentId); // 작업 처리 상태 기록 await markPaymentAsProcessed(paymentId); return result; } 재시도 메커니즘: 일시적인 오류로 실패한 작업을 자동으로 재시도할 수 있는 메커니즘이 필요하다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 # Python과 Celery를 사용한 재시도 메커니즘 예시 @app.task(bind=True, max_retries=3, default_retry_delay=60) def send_notification(self, user_id, message): try: # 알림 전송 로직 result = notification_service.send(user_id, message) return result except TemporaryFailure as exc: # 일시적인 오류 발생 시 재시도 self.retry(exc=exc) except PermanentFailure as exc: # 영구적인 오류는 로깅 후 실패 처리 logger.error(f\"Notification failed permanently: {exc}\") raise 우선순위 관리: 작업의 중요도에 따라 우선순위를 설정하여 중요한 작업이 먼저 처리되도록 해야 한다.\n모니터링 및 로깅: 백그라운드 작업의 상태, 실행 시간, 성공/실패 여부 등을 모니터링하고 로깅해야 한다.\n데드 레터 큐(Dead Letter Queue): 여러 번 재시도해도 실패하는 작업을 분리하여 관리하는 전략이 필요하다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // Java와 Spring Boot를 사용한 데드 레터 큐 구성 예시 @Configuration public class RabbitMQConfig { @Bean public Queue workQueue() { return QueueBuilder.durable(\"work-queue\") .withArgument(\"x-dead-letter-exchange\", \"\") .withArgument(\"x-dead-letter-routing-key\", \"dead-letter-queue\") .build(); } @Bean public Queue deadLetterQueue() { return QueueBuilder.durable(\"dead-letter-queue\").build(); } } Utilizing Message Brokers for Async Communication Between Services 기본 개념 메시지 브로커는 분산 시스템에서 서비스 간 통신을 중개하는 소프트웨어이다. 메시지 브로커를 활용한 비동기 통신은 서비스 간 직접적인 의존성을 줄이고, 시스템의 전체적인 복원력(resilience)과 확장성(scalability)을 향상시킨다.\n주요 메시지 브로커 시스템 RabbitMQ: AMQP(Advanced Message Queuing Protocol)를 구현한 메시지 브로커로, 높은 신뢰성과 유연한 라우팅 옵션을 제공한다. Apache Kafka: 대용량 메시지 처리에 최적화된 분산 스트리밍 플랫폼으로, 높은 처리량과 내구성을 보장한다. Redis Pub/Sub: 메모리 기반 데이터 저장소인 Redis에서 제공하는 간단한 발행-구독 패턴 구현이다. Amazon SQS/SNS: AWS에서 제공하는 메시지 큐 및 알림 서비스이다. Google Cloud Pub/Sub: Google Cloud Platform의 완전 관리형 실시간 메시지 서비스이다. 메시지 교환 패턴 점대점(Point-to-Point): 하나의 생산자가 메시지를 큐에 전송하고, 하나의 소비자가 메시지를 처리합니다. 메시지는 한 번만 처리된다.\n1 2 3 4 5 6 7 8 9 // Java와 JMS를 사용한 점대점 통신 예시 @JmsListener(destination = \"order.queue\") public void processOrder(Order order) { // 주문 처리 로직 orderProcessor.process(order); // 처리 결과 로깅 logger.info(\"Order {} processed successfully\", order.getId()); } 발행-구독(Publish-Subscribe): 하나의 생산자가 메시지를 발행하고, 여러 구독자가 동일한 메시지를 수신한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 // Node.js와 Redis를 사용한 발행-구독 패턴 예시 const redis = require('redis'); // 발행자 클라이언트 생성 const publisher = redis.createClient(); // 구독자 클라이언트 생성 const subscriber = redis.createClient(); // 구독 설정 subscriber.subscribe('user-activity'); // 메시지 수신 처리 subscriber.on('message', (channel, message) =\u003e { if (channel === 'user-activity') { const activity = JSON.parse(message); console.log(`사용자 ${activity.userId}가 ${activity.action} 작업을 수행했습니다.`); // 활동 로깅, 분석 등의 처리 } }); // 이벤트 발행 함수 function publishUserActivity(userId, action) { const activity = { userId, action, timestamp: Date.now() }; publisher.publish('user-activity', JSON.stringify(activity)); } // 사용 예시 publishUserActivity('user123', 'login'); 요청-응답(Request-Reply): 클라이언트가 요청을 보내고 서버가 응답을 반환하는 패턴으로, 비동기적으로 구현될 수 있다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 # Python과 RabbitMQ를 사용한 비동기 요청-응답 패턴 예시 import pika import uuid import json class PricingServiceClient: def __init__(self): self.connection = pika.BlockingConnection(pika.ConnectionParameters('localhost')) self.channel = self.connection.channel() # 응답을 받을 익명 큐 생성 result = self.channel.queue_declare(queue='', exclusive=True) self.callback_queue = result.method.queue # 응답 처리를 위한 소비자 설정 self.channel.basic_consume( queue=self.callback_queue, on_message_callback=self.on_response, auto_ack=True ) self.responses = {} def on_response(self, ch, method, props, body): # 응답 처리 self.responses[props.correlation_id] = json.loads(body) def get_product_price(self, product_id): # 상관 ID 생성 correlation_id = str(uuid.uuid4()) # 요청 전송 self.channel.basic_publish( exchange='', routing_key='pricing_service', properties=pika.BasicProperties( reply_to=self.callback_queue, correlation_id=correlation_id, ), body=json.dumps({'product_id': product_id}) ) # 응답 대기 while correlation_id not in self.responses: self.connection.process_data_events() return self.responses.pop(correlation_id) 이벤트 기반 아키텍처(Event-Driven Architecture) 이벤트 기반 아키텍처는 시스템 내의 상태 변화를 이벤트로 발행하고, 관심 있는 컴포넌트들이 이를 구독하여 처리하는 방식이다. 이는 서비스 간 결합도를 낮추고 확장성을 높이는 데 효과적이다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 // C#과 Azure Event Grid를 사용한 이벤트 기반 아키텍처 예시 public class OrderController : ApiController { private readonly IEventGridPublisher _eventPublisher; private readonly IOrderRepository _orderRepository; public OrderController(IEventGridPublisher eventPublisher, IOrderRepository orderRepository) { _eventPublisher = eventPublisher; _orderRepository = orderRepository; } [HttpPost] public async Task\u003cIActionResult\u003e CreateOrder([FromBody] OrderRequest request) { // 주문 저장 var order = new Order(request); await _orderRepository.SaveOrderAsync(order); // 주문 생성 이벤트 발행 var orderCreatedEvent = new OrderCreatedEvent { OrderId = order.Id, CustomerId = order.CustomerId, TotalAmount = order.TotalAmount, CreatedAt = DateTime.UtcNow }; await _eventPublisher.PublishEventAsync(\"order-events\", \"OrderCreated\", orderCreatedEvent); return Ok(new { OrderId = order.Id }); } } 구현 시 고려사항 메시지 직렬화 포맷: JSON, Protocol Buffers, Avro 등 여러 직렬화 포맷 중 적절한 것을 선택해야 한다.\n메시지 스키마 관리: 메시지 구조가 변경될 때 호환성을 유지하기 위한 스키마 관리 전략이 필요하다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 // Java와 Avro를 사용한 스키마 기반 메시지 직렬화 예시 // 스키마 정의 (order.avsc) { \"namespace\": \"com.example.order\", \"type\": \"record\", \"name\": \"Order\", \"fields\": [ {\"name\": \"id\", \"type\": \"string\"}, {\"name\": \"customerId\", \"type\": \"string\"}, {\"name\": \"items\", \"type\": {\"type\": \"array\", \"items\": { \"type\": \"record\", \"name\": \"OrderItem\", \"fields\": [ {\"name\": \"productId\", \"type\": \"string\"}, {\"name\": \"quantity\", \"type\": \"int\"}, {\"name\": \"price\", \"type\": \"double\"} ] }}}, {\"name\": \"totalAmount\", \"type\": \"double\"}, {\"name\": \"createdAt\", \"type\": \"long\", \"logicalType\": \"timestamp-millis\"} ] } // Avro를 사용한 메시지 직렬화 및 전송 public void sendOrderMessage(Order order) throws IOException { // 스키마 로드 Schema schema = new Schema.Parser().parse(new File(\"order.avsc\")); // 레코드 생성 GenericRecord avroOrder = new GenericData.Record(schema); avroOrder.put(\"id\", order.getId()); avroOrder.put(\"customerId\", order.getCustomerId()); // ... 나머지 필드 설정 // 직렬화 ByteArrayOutputStream outputStream = new ByteArrayOutputStream(); DatumWriter\u003cGenericRecord\u003e writer = new GenericDatumWriter\u003c\u003e(schema); BinaryEncoder encoder = EncoderFactory.get().binaryEncoder(outputStream, null); writer.write(avroOrder, encoder); encoder.flush(); // 메시지 전송 byte[] serializedOrder = outputStream.toByteArray(); kafkaTemplate.send(\"orders\", order.getId(), serializedOrder); } 메시지 라우팅: 메시지를 적절한 소비자에게 전달하는 라우팅 전략을 설계해야 한다.\n메시지 순서 보장: 순서가 중요한 경우, 메시지의 순서를 보장하는 메커니즘이 필요하다.\n장애 처리 및 복원력: 메시지 브로커나 소비자 서비스의 장애 상황에 대비한 전략이 필요하다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 // Node.js와 Kafka를 사용한 장애 대응 예시 const { Kafka } = require('kafkajs'); const kafka = new Kafka({ clientId: 'my-app', brokers: ['kafka1:9092', 'kafka2:9092', 'kafka3:9092'], // 여러 브로커 지정 retry: { initialRetryTime: 100, retries: 8 // 재시도 횟수 설정 } }); const consumer = kafka.consumer({ groupId: 'payment-processing-group' }); // 소비자 설정 async function setupConsumer() { await consumer.connect(); await consumer.subscribe({ topic: 'payment-events', fromBeginning: false }); await consumer.run({ eachMessage: async ({ topic, partition, message }) =\u003e { try { const paymentEvent = JSON.parse(message.value.toString()); await processPaymentEvent(paymentEvent); // 메시지 처리 성공 로깅 console.log(`[${topic}] Processed payment event: ${paymentEvent.id}`); } catch (error) { console.error(`Error processing message: ${error.message}`); // 심각한 오류가 아니라면 계속 처리 if (!isFatalError(error)) { return; } // 심각한 오류인 경우 소비자 종료 및 재시작 로직 await consumer.disconnect(); setTimeout(setupConsumer, 5000); // 5초 후 재연결 시도 } } }); } setupConsumer(); 비동기 처리의 성능적 이점 응답 시간 개선\n비동기 처리를 통해 사용자 요청에 대한 응답 시간을 크게 개선할 수 있다. 예를 들어, 사용자가 대용량 파일을 업로드할 때, 파일 처리 작업을 백그라운드로 오프로딩하면 사용자는 파일 처리가 완료되기를 기다리지 않고 다른 작업을 계속할 수 있다.\n1 2 3 4 5 6 7 동기 처리 방식: 사용자 요청 → 파일 업로드 → 파일 처리 → 응답 반환 (총 응답 시간 = 업로드 시간 + 처리 시간) 비동기 처리 방식: 사용자 요청 → 파일 업로드 → 작업 큐에 추가 → 응답 반환 (총 응답 시간 = 업로드 시간 + 큐 추가 시간) 시스템 처리량 증가\n비동기 처리를 통해 시스템의 전체 처리량을 증가시킬 수 있다. 작업을 병렬로 처리하고, 자원을 효율적으로 활용할 수 있기 때문이다.\n시스템 확장성 향상\n비동기 아키텍처는 시스템의 확장성을 크게 향상시킨다. 작업 처리 부하가 증가하면 워커(소비자) 인스턴스를 추가하여 수평적으로 확장할 수 있다.\n1 2 # Docker Swarm을 사용한 워커 확장 예시 docker service scale my-worker-service=10 시스템 복원력 강화\n비동기 처리는 시스템의 복원력을 강화한다. 한 서비스의 장애가 전체 시스템에 미치는 영향을 최소화하고, 메시지 지속성을 통해 데이터 손실을 방지할 수 있다.\n용어 정리 용어 설명 참고 및 출처 ","wordCount":"1804","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2025-02-12T01:32:00Z","dateModified":"2025-02-12T01:32:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/backend-development/backend-performance/asynchronism/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a></div><h1 class="post-title entry-hint-parent">Asynchronism</h1><div class=post-description>비동기 처리(Asynchronism)는 시스템의 응답성과 확장성을 크게 향상시킬 수 있다.</div><div class=post-meta><span title='2025-02-12 01:32:00 +0000 UTC'>February 12, 2025</span>&nbsp;·&nbsp;9 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Backend%20Development/Backend%20Performance/Asynchronism.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#asynchronism>Asynchronism</a><ul><li><a href=#offloading-heavy-tasks-to-background-jobs-or-queues>Offloading Heavy Tasks to Background Jobs or Queues</a></li><li><a href=#utilizing-message-brokers-for-async-communication-between-services>Utilizing Message Brokers for Async Communication Between Services</a></li></ul></li><li><a href=#용어-정리>용어 정리</a></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=asynchronism>Asynchronism<a hidden class=anchor aria-hidden=true href=#asynchronism>#</a></h2><p>백엔드 시스템의 성능을 최적화하는 것은 현대 애플리케이션 개발에서 핵심적인 과제이다. 특히 비동기 처리(Asynchronism)는 시스템의 응답성과 확장성을 크게 향상시킬 수 있는 강력한 패러다임이다.</p><h3 id=offloading-heavy-tasks-to-background-jobs-or-queues>Offloading Heavy Tasks to Background Jobs or Queues<a hidden class=anchor aria-hidden=true href=#offloading-heavy-tasks-to-background-jobs-or-queues>#</a></h3><h4 id=기본-개념>기본 개념<a hidden class=anchor aria-hidden=true href=#기본-개념>#</a></h4><p>백그라운드 작업 처리는 시간이 오래 걸리거나 리소스를 많이 소모하는 작업을 주 실행 스레드에서 분리하여 별도의 프로세스나 스레드에서 비동기적으로 실행하는 기법이다. 이를 통해 사용자 요청에 대한 응답 시간을 크게 개선할 수 있다.</p><h4 id=구현-방법>구현 방법<a hidden class=anchor aria-hidden=true href=#구현-방법>#</a></h4><h5 id=작업-큐-시스템-활용>작업 큐 시스템 활용<a hidden class=anchor aria-hidden=true href=#작업-큐-시스템-활용>#</a></h5><p>작업 큐 시스템은 백그라운드 작업 처리의 가장 일반적인 구현 방법이다.</p><p>이 시스템은 주로 다음 세 가지 구성 요소로 이루어진다:</p><ol><li><strong>큐(Queue)</strong>: 처리해야 할 작업들이 저장되는 장소이다.</li><li><strong>생산자(Producer)</strong>: 큐에 작업을 추가하는 주체이다.</li><li><strong>소비자(Consumer/Worker)</strong>: 큐에서 작업을 가져와 실행하는 주체이다.</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14>14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15>15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16>16</a>
</span><span class=lnt id=hl-0-17><a class=lnlinks href=#hl-0-17>17</a>
</span><span class=lnt id=hl-0-18><a class=lnlinks href=#hl-0-18>18</a>
</span><span class=lnt id=hl-0-19><a class=lnlinks href=#hl-0-19>19</a>
</span><span class=lnt id=hl-0-20><a class=lnlinks href=#hl-0-20>20</a>
</span><span class=lnt id=hl-0-21><a class=lnlinks href=#hl-0-21>21</a>
</span><span class=lnt id=hl-0-22><a class=lnlinks href=#hl-0-22>22</a>
</span><span class=lnt id=hl-0-23><a class=lnlinks href=#hl-0-23>23</a>
</span><span class=lnt id=hl-0-24><a class=lnlinks href=#hl-0-24>24</a>
</span><span class=lnt id=hl-0-25><a class=lnlinks href=#hl-0-25>25</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Python과 Celery를 사용한 백그라운드 작업 예시</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>celery</span> <span class=kn>import</span> <span class=n>Celery</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Celery 인스턴스 생성 및 설정</span>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>Celery</span><span class=p>(</span><span class=s1>&#39;tasks&#39;</span><span class=p>,</span> <span class=n>broker</span><span class=o>=</span><span class=s1>&#39;redis://localhost:6379/0&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 백그라운드에서 실행될 작업 정의</span>
</span></span><span class=line><span class=cl><span class=nd>@app.task</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>process_image</span><span class=p>(</span><span class=n>image_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># 이미지 처리 로직</span>
</span></span><span class=line><span class=cl>    <span class=n>image</span> <span class=o>=</span> <span class=n>download_image</span><span class=p>(</span><span class=n>image_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>thumbnail</span> <span class=o>=</span> <span class=n>create_thumbnail</span><span class=p>(</span><span class=n>image</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>upload_thumbnail</span><span class=p>(</span><span class=n>thumbnail</span><span class=p>,</span> <span class=n>image_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>send_notification</span><span class=p>(</span><span class=n>image_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;success&#34;</span><span class=p>,</span> <span class=s2>&#34;image_id&#34;</span><span class=p>:</span> <span class=n>image_id</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># API 엔드포인트에서 작업 큐에 작업 추가</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>upload_image_endpoint</span><span class=p>(</span><span class=n>request</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>image_data</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>files</span><span class=p>[</span><span class=s1>&#39;image&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>image_id</span> <span class=o>=</span> <span class=n>save_original_image</span><span class=p>(</span><span class=n>image_data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 비동기 작업 시작 - 즉시 반환됨</span>
</span></span><span class=line><span class=cl>    <span class=n>process_image</span><span class=o>.</span><span class=n>delay</span><span class=p>(</span><span class=n>image_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;processing&#34;</span><span class=p>,</span> <span class=s2>&#34;image_id&#34;</span><span class=p>:</span> <span class=n>image_id</span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=스케줄링-시스템-활용>스케줄링 시스템 활용<a hidden class=anchor aria-hidden=true href=#스케줄링-시스템-활용>#</a></h5><p>주기적으로 실행해야 하는 백그라운드 작업은 스케줄링 시스템을 통해 관리할 수 있다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11>11</a>
</span><span class=lnt id=hl-1-12><a class=lnlinks href=#hl-1-12>12</a>
</span><span class=lnt id=hl-1-13><a class=lnlinks href=#hl-1-13>13</a>
</span><span class=lnt id=hl-1-14><a class=lnlinks href=#hl-1-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Node.js에서 node-cron을 사용한 스케줄링 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>cron</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;node-cron&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>reportGenerator</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;./report-generator&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 매일 자정에 일일 보고서 생성 작업 스케줄링
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>cron</span><span class=p>.</span><span class=nx>schedule</span><span class=p>(</span><span class=s1>&#39;0 0 * * *&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;일일 보고서 생성 시작...&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kr>await</span> <span class=nx>reportGenerator</span><span class=p>.</span><span class=nx>generateDailyReport</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;일일 보고서 생성 완료&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;보고서 생성 중 오류 발생:&#39;</span><span class=p>,</span> <span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=주요-사용-사례>주요 사용 사례<a hidden class=anchor aria-hidden=true href=#주요-사용-사례>#</a></h4><ol><li><strong>이메일 및 알림 전송</strong>: 사용자 등록 완료 후 환영 이메일 발송, 알림 전송 등</li><li><strong>미디어 처리</strong>: 이미지 리사이징, 동영상 인코딩, 파일 변환</li><li><strong>보고서 생성</strong>: 복잡한 데이터 집계 및 보고서 생성</li><li><strong>데이터 내보내기/가져오기</strong>: 대용량 CSV 파일 생성, 데이터 마이그레이션</li><li><strong>정기 유지보수 작업</strong>: 데이터베이스 청소, 캐시 갱신, 만료된 콘텐츠 삭제</li></ol><h4 id=구현-시-고려사항>구현 시 고려사항<a hidden class=anchor aria-hidden=true href=#구현-시-고려사항>#</a></h4><ol><li><p><strong>멱등성(Idempotency)</strong>: 작업이 여러 번 실행되더라도 동일한 결과를 보장해야 한다. 네트워크 오류 등으로 작업이 중복 실행될 수 있기 때문이다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1> 1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2> 2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3> 3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4> 4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5> 5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6> 6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7> 7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8> 8</a>
</span><span class=lnt id=hl-2-9><a class=lnlinks href=#hl-2-9> 9</a>
</span><span class=lnt id=hl-2-10><a class=lnlinks href=#hl-2-10>10</a>
</span><span class=lnt id=hl-2-11><a class=lnlinks href=#hl-2-11>11</a>
</span><span class=lnt id=hl-2-12><a class=lnlinks href=#hl-2-12>12</a>
</span><span class=lnt id=hl-2-13><a class=lnlinks href=#hl-2-13>13</a>
</span><span class=lnt id=hl-2-14><a class=lnlinks href=#hl-2-14>14</a>
</span><span class=lnt id=hl-2-15><a class=lnlinks href=#hl-2-15>15</a>
</span><span class=lnt id=hl-2-16><a class=lnlinks href=#hl-2-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 멱등성을 보장하는 작업 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>async</span> <span class=kd>function</span> <span class=nx>processPayment</span><span class=p>(</span><span class=nx>paymentId</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 작업이 이미 처리되었는지 확인
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>paymentStatus</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>getPaymentStatus</span><span class=p>(</span><span class=nx>paymentId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>paymentStatus</span> <span class=o>===</span> <span class=s1>&#39;processed&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span> <span class=nx>status</span><span class=o>:</span> <span class=s1>&#39;already_processed&#39;</span><span class=p>,</span> <span class=nx>paymentId</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// 작업 처리
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>executePayment</span><span class=p>(</span><span class=nx>paymentId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// 작업 처리 상태 기록
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>await</span> <span class=nx>markPaymentAsProcessed</span><span class=p>(</span><span class=nx>paymentId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>재시도 메커니즘</strong>: 일시적인 오류로 실패한 작업을 자동으로 재시도할 수 있는 메커니즘이 필요하다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span><span class=lnt id=hl-3-12><a class=lnlinks href=#hl-3-12>12</a>
</span><span class=lnt id=hl-3-13><a class=lnlinks href=#hl-3-13>13</a>
</span><span class=lnt id=hl-3-14><a class=lnlinks href=#hl-3-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Python과 Celery를 사용한 재시도 메커니즘 예시</span>
</span></span><span class=line><span class=cl><span class=nd>@app.task</span><span class=p>(</span><span class=n>bind</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>max_retries</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>default_retry_delay</span><span class=o>=</span><span class=mi>60</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>send_notification</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>,</span> <span class=n>message</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 알림 전송 로직</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=n>notification_service</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=n>user_id</span><span class=p>,</span> <span class=n>message</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=n>TemporaryFailure</span> <span class=k>as</span> <span class=n>exc</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 일시적인 오류 발생 시 재시도</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>retry</span><span class=p>(</span><span class=n>exc</span><span class=o>=</span><span class=n>exc</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=n>PermanentFailure</span> <span class=k>as</span> <span class=n>exc</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 영구적인 오류는 로깅 후 실패 처리</span>
</span></span><span class=line><span class=cl>        <span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Notification failed permanently: </span><span class=si>{</span><span class=n>exc</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>우선순위 관리</strong>: 작업의 중요도에 따라 우선순위를 설정하여 중요한 작업이 먼저 처리되도록 해야 한다.</p></li><li><p><strong>모니터링 및 로깅</strong>: 백그라운드 작업의 상태, 실행 시간, 성공/실패 여부 등을 모니터링하고 로깅해야 한다.</p></li><li><p><strong>데드 레터 큐(Dead Letter Queue)</strong>: 여러 번 재시도해도 실패하는 작업을 분리하여 관리하는 전략이 필요하다.</p></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1> 1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2> 2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3> 3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4> 4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5> 5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6> 6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7> 7</a>
</span><span class=lnt id=hl-4-8><a class=lnlinks href=#hl-4-8> 8</a>
</span><span class=lnt id=hl-4-9><a class=lnlinks href=#hl-4-9> 9</a>
</span><span class=lnt id=hl-4-10><a class=lnlinks href=#hl-4-10>10</a>
</span><span class=lnt id=hl-4-11><a class=lnlinks href=#hl-4-11>11</a>
</span><span class=lnt id=hl-4-12><a class=lnlinks href=#hl-4-12>12</a>
</span><span class=lnt id=hl-4-13><a class=lnlinks href=#hl-4-13>13</a>
</span><span class=lnt id=hl-4-14><a class=lnlinks href=#hl-4-14>14</a>
</span><span class=lnt id=hl-4-15><a class=lnlinks href=#hl-4-15>15</a>
</span><span class=lnt id=hl-4-16><a class=lnlinks href=#hl-4-16>16</a>
</span><span class=lnt id=hl-4-17><a class=lnlinks href=#hl-4-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// Java와 Spring Boot를 사용한 데드 레터 큐 구성 예시</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@Configuration</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>RabbitMQConfig</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Bean</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Queue</span><span class=w> </span><span class=nf>workQueue</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>QueueBuilder</span><span class=p>.</span><span class=na>durable</span><span class=p>(</span><span class=s>&#34;work-queue&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=na>withArgument</span><span class=p>(</span><span class=s>&#34;x-dead-letter-exchange&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=na>withArgument</span><span class=p>(</span><span class=s>&#34;x-dead-letter-routing-key&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;dead-letter-queue&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>.</span><span class=na>build</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Bean</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Queue</span><span class=w> </span><span class=nf>deadLetterQueue</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>QueueBuilder</span><span class=p>.</span><span class=na>durable</span><span class=p>(</span><span class=s>&#34;dead-letter-queue&#34;</span><span class=p>).</span><span class=na>build</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=utilizing-message-brokers-for-async-communication-between-services>Utilizing Message Brokers for Async Communication Between Services<a hidden class=anchor aria-hidden=true href=#utilizing-message-brokers-for-async-communication-between-services>#</a></h3><h4 id=기본-개념-1>기본 개념<a hidden class=anchor aria-hidden=true href=#기본-개념-1>#</a></h4><p>메시지 브로커는 분산 시스템에서 서비스 간 통신을 중개하는 소프트웨어이다. 메시지 브로커를 활용한 비동기 통신은 서비스 간 직접적인 의존성을 줄이고, 시스템의 전체적인 복원력(resilience)과 확장성(scalability)을 향상시킨다.</p><h4 id=주요-메시지-브로커-시스템>주요 메시지 브로커 시스템<a hidden class=anchor aria-hidden=true href=#주요-메시지-브로커-시스템>#</a></h4><ol><li><strong>RabbitMQ</strong>: AMQP(Advanced Message Queuing Protocol)를 구현한 메시지 브로커로, 높은 신뢰성과 유연한 라우팅 옵션을 제공한다.</li><li><strong>Apache Kafka</strong>: 대용량 메시지 처리에 최적화된 분산 스트리밍 플랫폼으로, 높은 처리량과 내구성을 보장한다.</li><li><strong>Redis Pub/Sub</strong>: 메모리 기반 데이터 저장소인 Redis에서 제공하는 간단한 발행-구독 패턴 구현이다.</li><li><strong>Amazon SQS/SNS</strong>: AWS에서 제공하는 메시지 큐 및 알림 서비스이다.</li><li><strong>Google Cloud Pub/Sub</strong>: Google Cloud Platform의 완전 관리형 실시간 메시지 서비스이다.</li></ol><h4 id=메시지-교환-패턴>메시지 교환 패턴<a hidden class=anchor aria-hidden=true href=#메시지-교환-패턴>#</a></h4><ol><li><p><strong>점대점(Point-to-Point)</strong>: 하나의 생산자가 메시지를 큐에 전송하고, 하나의 소비자가 메시지를 처리합니다. 메시지는 한 번만 처리된다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2>2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3>3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4>4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5>5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6>6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7>7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8>8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// Java와 JMS를 사용한 점대점 통신 예시</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@JmsListener</span><span class=p>(</span><span class=n>destination</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;order.queue&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>processOrder</span><span class=p>(</span><span class=n>Order</span><span class=w> </span><span class=n>order</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 주문 처리 로직</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>orderProcessor</span><span class=p>.</span><span class=na>process</span><span class=p>(</span><span class=n>order</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 처리 결과 로깅</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>logger</span><span class=p>.</span><span class=na>info</span><span class=p>(</span><span class=s>&#34;Order {} processed successfully&#34;</span><span class=p>,</span><span class=w> </span><span class=n>order</span><span class=p>.</span><span class=na>getId</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li><p><strong>발행-구독(Publish-Subscribe)</strong>: 하나의 생산자가 메시지를 발행하고, 여러 구독자가 동일한 메시지를 수신한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a>
</span><span class=lnt id=hl-6-13><a class=lnlinks href=#hl-6-13>13</a>
</span><span class=lnt id=hl-6-14><a class=lnlinks href=#hl-6-14>14</a>
</span><span class=lnt id=hl-6-15><a class=lnlinks href=#hl-6-15>15</a>
</span><span class=lnt id=hl-6-16><a class=lnlinks href=#hl-6-16>16</a>
</span><span class=lnt id=hl-6-17><a class=lnlinks href=#hl-6-17>17</a>
</span><span class=lnt id=hl-6-18><a class=lnlinks href=#hl-6-18>18</a>
</span><span class=lnt id=hl-6-19><a class=lnlinks href=#hl-6-19>19</a>
</span><span class=lnt id=hl-6-20><a class=lnlinks href=#hl-6-20>20</a>
</span><span class=lnt id=hl-6-21><a class=lnlinks href=#hl-6-21>21</a>
</span><span class=lnt id=hl-6-22><a class=lnlinks href=#hl-6-22>22</a>
</span><span class=lnt id=hl-6-23><a class=lnlinks href=#hl-6-23>23</a>
</span><span class=lnt id=hl-6-24><a class=lnlinks href=#hl-6-24>24</a>
</span><span class=lnt id=hl-6-25><a class=lnlinks href=#hl-6-25>25</a>
</span><span class=lnt id=hl-6-26><a class=lnlinks href=#hl-6-26>26</a>
</span><span class=lnt id=hl-6-27><a class=lnlinks href=#hl-6-27>27</a>
</span><span class=lnt id=hl-6-28><a class=lnlinks href=#hl-6-28>28</a>
</span><span class=lnt id=hl-6-29><a class=lnlinks href=#hl-6-29>29</a>
</span><span class=lnt id=hl-6-30><a class=lnlinks href=#hl-6-30>30</a>
</span><span class=lnt id=hl-6-31><a class=lnlinks href=#hl-6-31>31</a>
</span><span class=lnt id=hl-6-32><a class=lnlinks href=#hl-6-32>32</a>
</span><span class=lnt id=hl-6-33><a class=lnlinks href=#hl-6-33>33</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Node.js와 Redis를 사용한 발행-구독 패턴 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>redis</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;redis&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 발행자 클라이언트 생성
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>publisher</span> <span class=o>=</span> <span class=nx>redis</span><span class=p>.</span><span class=nx>createClient</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 구독자 클라이언트 생성
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>subscriber</span> <span class=o>=</span> <span class=nx>redis</span><span class=p>.</span><span class=nx>createClient</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 구독 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>subscriber</span><span class=p>.</span><span class=nx>subscribe</span><span class=p>(</span><span class=s1>&#39;user-activity&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 메시지 수신 처리
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>subscriber</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;message&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>channel</span><span class=p>,</span> <span class=nx>message</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>channel</span> <span class=o>===</span> <span class=s1>&#39;user-activity&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>activity</span> <span class=o>=</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`사용자 </span><span class=si>${</span><span class=nx>activity</span><span class=p>.</span><span class=nx>userId</span><span class=si>}</span><span class=sb>가 </span><span class=si>${</span><span class=nx>activity</span><span class=p>.</span><span class=nx>action</span><span class=si>}</span><span class=sb> 작업을 수행했습니다.`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 활동 로깅, 분석 등의 처리
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 이벤트 발행 함수
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>publishUserActivity</span><span class=p>(</span><span class=nx>userId</span><span class=p>,</span> <span class=nx>action</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>activity</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>userId</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>action</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>timestamp</span><span class=o>:</span> <span class=nb>Date</span><span class=p>.</span><span class=nx>now</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=nx>publisher</span><span class=p>.</span><span class=nx>publish</span><span class=p>(</span><span class=s1>&#39;user-activity&#39;</span><span class=p>,</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>activity</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 사용 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>publishUserActivity</span><span class=p>(</span><span class=s1>&#39;user123&#39;</span><span class=p>,</span> <span class=s1>&#39;login&#39;</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>요청-응답(Request-Reply)</strong>: 클라이언트가 요청을 보내고 서버가 응답을 반환하는 패턴으로, 비동기적으로 구현될 수 있다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1> 1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2> 2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3> 3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4> 4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5> 5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6> 6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7> 7</a>
</span><span class=lnt id=hl-7-8><a class=lnlinks href=#hl-7-8> 8</a>
</span><span class=lnt id=hl-7-9><a class=lnlinks href=#hl-7-9> 9</a>
</span><span class=lnt id=hl-7-10><a class=lnlinks href=#hl-7-10>10</a>
</span><span class=lnt id=hl-7-11><a class=lnlinks href=#hl-7-11>11</a>
</span><span class=lnt id=hl-7-12><a class=lnlinks href=#hl-7-12>12</a>
</span><span class=lnt id=hl-7-13><a class=lnlinks href=#hl-7-13>13</a>
</span><span class=lnt id=hl-7-14><a class=lnlinks href=#hl-7-14>14</a>
</span><span class=lnt id=hl-7-15><a class=lnlinks href=#hl-7-15>15</a>
</span><span class=lnt id=hl-7-16><a class=lnlinks href=#hl-7-16>16</a>
</span><span class=lnt id=hl-7-17><a class=lnlinks href=#hl-7-17>17</a>
</span><span class=lnt id=hl-7-18><a class=lnlinks href=#hl-7-18>18</a>
</span><span class=lnt id=hl-7-19><a class=lnlinks href=#hl-7-19>19</a>
</span><span class=lnt id=hl-7-20><a class=lnlinks href=#hl-7-20>20</a>
</span><span class=lnt id=hl-7-21><a class=lnlinks href=#hl-7-21>21</a>
</span><span class=lnt id=hl-7-22><a class=lnlinks href=#hl-7-22>22</a>
</span><span class=lnt id=hl-7-23><a class=lnlinks href=#hl-7-23>23</a>
</span><span class=lnt id=hl-7-24><a class=lnlinks href=#hl-7-24>24</a>
</span><span class=lnt id=hl-7-25><a class=lnlinks href=#hl-7-25>25</a>
</span><span class=lnt id=hl-7-26><a class=lnlinks href=#hl-7-26>26</a>
</span><span class=lnt id=hl-7-27><a class=lnlinks href=#hl-7-27>27</a>
</span><span class=lnt id=hl-7-28><a class=lnlinks href=#hl-7-28>28</a>
</span><span class=lnt id=hl-7-29><a class=lnlinks href=#hl-7-29>29</a>
</span><span class=lnt id=hl-7-30><a class=lnlinks href=#hl-7-30>30</a>
</span><span class=lnt id=hl-7-31><a class=lnlinks href=#hl-7-31>31</a>
</span><span class=lnt id=hl-7-32><a class=lnlinks href=#hl-7-32>32</a>
</span><span class=lnt id=hl-7-33><a class=lnlinks href=#hl-7-33>33</a>
</span><span class=lnt id=hl-7-34><a class=lnlinks href=#hl-7-34>34</a>
</span><span class=lnt id=hl-7-35><a class=lnlinks href=#hl-7-35>35</a>
</span><span class=lnt id=hl-7-36><a class=lnlinks href=#hl-7-36>36</a>
</span><span class=lnt id=hl-7-37><a class=lnlinks href=#hl-7-37>37</a>
</span><span class=lnt id=hl-7-38><a class=lnlinks href=#hl-7-38>38</a>
</span><span class=lnt id=hl-7-39><a class=lnlinks href=#hl-7-39>39</a>
</span><span class=lnt id=hl-7-40><a class=lnlinks href=#hl-7-40>40</a>
</span><span class=lnt id=hl-7-41><a class=lnlinks href=#hl-7-41>41</a>
</span><span class=lnt id=hl-7-42><a class=lnlinks href=#hl-7-42>42</a>
</span><span class=lnt id=hl-7-43><a class=lnlinks href=#hl-7-43>43</a>
</span><span class=lnt id=hl-7-44><a class=lnlinks href=#hl-7-44>44</a>
</span><span class=lnt id=hl-7-45><a class=lnlinks href=#hl-7-45>45</a>
</span><span class=lnt id=hl-7-46><a class=lnlinks href=#hl-7-46>46</a>
</span><span class=lnt id=hl-7-47><a class=lnlinks href=#hl-7-47>47</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Python과 RabbitMQ를 사용한 비동기 요청-응답 패턴 예시</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pika</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>uuid</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PricingServiceClient</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>connection</span> <span class=o>=</span> <span class=n>pika</span><span class=o>.</span><span class=n>BlockingConnection</span><span class=p>(</span><span class=n>pika</span><span class=o>.</span><span class=n>ConnectionParameters</span><span class=p>(</span><span class=s1>&#39;localhost&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>channel</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>connection</span><span class=o>.</span><span class=n>channel</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># 응답을 받을 익명 큐 생성</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>channel</span><span class=o>.</span><span class=n>queue_declare</span><span class=p>(</span><span class=n>queue</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=n>exclusive</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>callback_queue</span> <span class=o>=</span> <span class=n>result</span><span class=o>.</span><span class=n>method</span><span class=o>.</span><span class=n>queue</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># 응답 처리를 위한 소비자 설정</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>channel</span><span class=o>.</span><span class=n>basic_consume</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>queue</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>callback_queue</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>on_message_callback</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>on_response</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>auto_ack</span><span class=o>=</span><span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>responses</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>on_response</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>ch</span><span class=p>,</span> <span class=n>method</span><span class=p>,</span> <span class=n>props</span><span class=p>,</span> <span class=n>body</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># 응답 처리</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>responses</span><span class=p>[</span><span class=n>props</span><span class=o>.</span><span class=n>correlation_id</span><span class=p>]</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>body</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_product_price</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>product_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># 상관 ID 생성</span>
</span></span><span class=line><span class=cl>        <span class=n>correlation_id</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>uuid</span><span class=o>.</span><span class=n>uuid4</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># 요청 전송</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>channel</span><span class=o>.</span><span class=n>basic_publish</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>exchange</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>routing_key</span><span class=o>=</span><span class=s1>&#39;pricing_service&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>properties</span><span class=o>=</span><span class=n>pika</span><span class=o>.</span><span class=n>BasicProperties</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=n>reply_to</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>callback_queue</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>correlation_id</span><span class=o>=</span><span class=n>correlation_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>body</span><span class=o>=</span><span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>({</span><span class=s1>&#39;product_id&#39;</span><span class=p>:</span> <span class=n>product_id</span><span class=p>})</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># 응답 대기</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>correlation_id</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>responses</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>connection</span><span class=o>.</span><span class=n>process_data_events</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>responses</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=n>correlation_id</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h4 id=이벤트-기반-아키텍처event-driven-architecture>이벤트 기반 아키텍처(Event-Driven Architecture)<a hidden class=anchor aria-hidden=true href=#이벤트-기반-아키텍처event-driven-architecture>#</a></h4><p>이벤트 기반 아키텍처는 시스템 내의 상태 변화를 이벤트로 발행하고, 관심 있는 컴포넌트들이 이를 구독하여 처리하는 방식이다. 이는 서비스 간 결합도를 낮추고 확장성을 높이는 데 효과적이다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span><span class=lnt id=hl-8-11><a class=lnlinks href=#hl-8-11>11</a>
</span><span class=lnt id=hl-8-12><a class=lnlinks href=#hl-8-12>12</a>
</span><span class=lnt id=hl-8-13><a class=lnlinks href=#hl-8-13>13</a>
</span><span class=lnt id=hl-8-14><a class=lnlinks href=#hl-8-14>14</a>
</span><span class=lnt id=hl-8-15><a class=lnlinks href=#hl-8-15>15</a>
</span><span class=lnt id=hl-8-16><a class=lnlinks href=#hl-8-16>16</a>
</span><span class=lnt id=hl-8-17><a class=lnlinks href=#hl-8-17>17</a>
</span><span class=lnt id=hl-8-18><a class=lnlinks href=#hl-8-18>18</a>
</span><span class=lnt id=hl-8-19><a class=lnlinks href=#hl-8-19>19</a>
</span><span class=lnt id=hl-8-20><a class=lnlinks href=#hl-8-20>20</a>
</span><span class=lnt id=hl-8-21><a class=lnlinks href=#hl-8-21>21</a>
</span><span class=lnt id=hl-8-22><a class=lnlinks href=#hl-8-22>22</a>
</span><span class=lnt id=hl-8-23><a class=lnlinks href=#hl-8-23>23</a>
</span><span class=lnt id=hl-8-24><a class=lnlinks href=#hl-8-24>24</a>
</span><span class=lnt id=hl-8-25><a class=lnlinks href=#hl-8-25>25</a>
</span><span class=lnt id=hl-8-26><a class=lnlinks href=#hl-8-26>26</a>
</span><span class=lnt id=hl-8-27><a class=lnlinks href=#hl-8-27>27</a>
</span><span class=lnt id=hl-8-28><a class=lnlinks href=#hl-8-28>28</a>
</span><span class=lnt id=hl-8-29><a class=lnlinks href=#hl-8-29>29</a>
</span><span class=lnt id=hl-8-30><a class=lnlinks href=#hl-8-30>30</a>
</span><span class=lnt id=hl-8-31><a class=lnlinks href=#hl-8-31>31</a>
</span><span class=lnt id=hl-8-32><a class=lnlinks href=#hl-8-32>32</a>
</span><span class=lnt id=hl-8-33><a class=lnlinks href=#hl-8-33>33</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=c1>// C#과 Azure Event Grid를 사용한 이벤트 기반 아키텍처 예시</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>OrderController</span> <span class=p>:</span> <span class=n>ApiController</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=k>readonly</span> <span class=n>IEventGridPublisher</span> <span class=n>_eventPublisher</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=k>readonly</span> <span class=n>IOrderRepository</span> <span class=n>_orderRepository</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>OrderController</span><span class=p>(</span><span class=n>IEventGridPublisher</span> <span class=n>eventPublisher</span><span class=p>,</span> <span class=n>IOrderRepository</span> <span class=n>orderRepository</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>_eventPublisher</span> <span class=p>=</span> <span class=n>eventPublisher</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>_orderRepository</span> <span class=p>=</span> <span class=n>orderRepository</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=na>
</span></span></span><span class=line><span class=cl><span class=na>    [HttpPost]</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>async</span> <span class=n>Task</span><span class=p>&lt;</span><span class=n>IActionResult</span><span class=p>&gt;</span> <span class=n>CreateOrder</span><span class=p>([</span><span class=n>FromBody</span><span class=p>]</span> <span class=n>OrderRequest</span> <span class=n>request</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 주문 저장</span>
</span></span><span class=line><span class=cl>        <span class=kt>var</span> <span class=n>order</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Order</span><span class=p>(</span><span class=n>request</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>await</span> <span class=n>_orderRepository</span><span class=p>.</span><span class=n>SaveOrderAsync</span><span class=p>(</span><span class=n>order</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 주문 생성 이벤트 발행</span>
</span></span><span class=line><span class=cl>        <span class=kt>var</span> <span class=n>orderCreatedEvent</span> <span class=p>=</span> <span class=k>new</span> <span class=n>OrderCreatedEvent</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>OrderId</span> <span class=p>=</span> <span class=n>order</span><span class=p>.</span><span class=n>Id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>CustomerId</span> <span class=p>=</span> <span class=n>order</span><span class=p>.</span><span class=n>CustomerId</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>TotalAmount</span> <span class=p>=</span> <span class=n>order</span><span class=p>.</span><span class=n>TotalAmount</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>CreatedAt</span> <span class=p>=</span> <span class=n>DateTime</span><span class=p>.</span><span class=n>UtcNow</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>await</span> <span class=n>_eventPublisher</span><span class=p>.</span><span class=n>PublishEventAsync</span><span class=p>(</span><span class=s>&#34;order-events&#34;</span><span class=p>,</span> <span class=s>&#34;OrderCreated&#34;</span><span class=p>,</span> <span class=n>orderCreatedEvent</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>Ok</span><span class=p>(</span><span class=k>new</span> <span class=p>{</span> <span class=n>OrderId</span> <span class=p>=</span> <span class=n>order</span><span class=p>.</span><span class=n>Id</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=구현-시-고려사항-1>구현 시 고려사항<a hidden class=anchor aria-hidden=true href=#구현-시-고려사항-1>#</a></h4><ol><li><p><strong>메시지 직렬화 포맷</strong>: JSON, Protocol Buffers, Avro 등 여러 직렬화 포맷 중 적절한 것을 선택해야 한다.</p></li><li><p><strong>메시지 스키마 관리</strong>: 메시지 구조가 변경될 때 호환성을 유지하기 위한 스키마 관리 전략이 필요하다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11>11</a>
</span><span class=lnt id=hl-9-12><a class=lnlinks href=#hl-9-12>12</a>
</span><span class=lnt id=hl-9-13><a class=lnlinks href=#hl-9-13>13</a>
</span><span class=lnt id=hl-9-14><a class=lnlinks href=#hl-9-14>14</a>
</span><span class=lnt id=hl-9-15><a class=lnlinks href=#hl-9-15>15</a>
</span><span class=lnt id=hl-9-16><a class=lnlinks href=#hl-9-16>16</a>
</span><span class=lnt id=hl-9-17><a class=lnlinks href=#hl-9-17>17</a>
</span><span class=lnt id=hl-9-18><a class=lnlinks href=#hl-9-18>18</a>
</span><span class=lnt id=hl-9-19><a class=lnlinks href=#hl-9-19>19</a>
</span><span class=lnt id=hl-9-20><a class=lnlinks href=#hl-9-20>20</a>
</span><span class=lnt id=hl-9-21><a class=lnlinks href=#hl-9-21>21</a>
</span><span class=lnt id=hl-9-22><a class=lnlinks href=#hl-9-22>22</a>
</span><span class=lnt id=hl-9-23><a class=lnlinks href=#hl-9-23>23</a>
</span><span class=lnt id=hl-9-24><a class=lnlinks href=#hl-9-24>24</a>
</span><span class=lnt id=hl-9-25><a class=lnlinks href=#hl-9-25>25</a>
</span><span class=lnt id=hl-9-26><a class=lnlinks href=#hl-9-26>26</a>
</span><span class=lnt id=hl-9-27><a class=lnlinks href=#hl-9-27>27</a>
</span><span class=lnt id=hl-9-28><a class=lnlinks href=#hl-9-28>28</a>
</span><span class=lnt id=hl-9-29><a class=lnlinks href=#hl-9-29>29</a>
</span><span class=lnt id=hl-9-30><a class=lnlinks href=#hl-9-30>30</a>
</span><span class=lnt id=hl-9-31><a class=lnlinks href=#hl-9-31>31</a>
</span><span class=lnt id=hl-9-32><a class=lnlinks href=#hl-9-32>32</a>
</span><span class=lnt id=hl-9-33><a class=lnlinks href=#hl-9-33>33</a>
</span><span class=lnt id=hl-9-34><a class=lnlinks href=#hl-9-34>34</a>
</span><span class=lnt id=hl-9-35><a class=lnlinks href=#hl-9-35>35</a>
</span><span class=lnt id=hl-9-36><a class=lnlinks href=#hl-9-36>36</a>
</span><span class=lnt id=hl-9-37><a class=lnlinks href=#hl-9-37>37</a>
</span><span class=lnt id=hl-9-38><a class=lnlinks href=#hl-9-38>38</a>
</span><span class=lnt id=hl-9-39><a class=lnlinks href=#hl-9-39>39</a>
</span><span class=lnt id=hl-9-40><a class=lnlinks href=#hl-9-40>40</a>
</span><span class=lnt id=hl-9-41><a class=lnlinks href=#hl-9-41>41</a>
</span><span class=lnt id=hl-9-42><a class=lnlinks href=#hl-9-42>42</a>
</span><span class=lnt id=hl-9-43><a class=lnlinks href=#hl-9-43>43</a>
</span><span class=lnt id=hl-9-44><a class=lnlinks href=#hl-9-44>44</a>
</span><span class=lnt id=hl-9-45><a class=lnlinks href=#hl-9-45>45</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// Java와 Avro를 사용한 스키마 기반 메시지 직렬화 예시</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 스키마 정의 (order.avsc)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=s>&#34;namespace&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;com.example.order&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=s>&#34;type&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;record&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=s>&#34;name&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;Order&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=s>&#34;fields&#34;</span><span class=p>:</span><span class=w> </span><span class=o>[</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>{</span><span class=s>&#34;name&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;id&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;type&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;string&#34;</span><span class=p>},</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>{</span><span class=s>&#34;name&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;customerId&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;type&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;string&#34;</span><span class=p>},</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>{</span><span class=s>&#34;name&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;items&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;type&#34;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=s>&#34;type&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;array&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;items&#34;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=s>&#34;type&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;record&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=s>&#34;name&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;OrderItem&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=s>&#34;fields&#34;</span><span class=p>:</span><span class=w> </span><span class=o>[</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>{</span><span class=s>&#34;name&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;productId&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;type&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;string&#34;</span><span class=p>},</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>{</span><span class=s>&#34;name&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;quantity&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;type&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;int&#34;</span><span class=p>},</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>{</span><span class=s>&#34;name&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;price&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;type&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;double&#34;</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=o>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}}},</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>{</span><span class=s>&#34;name&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;totalAmount&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;type&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;double&#34;</span><span class=p>},</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>{</span><span class=s>&#34;name&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;createdAt&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;type&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;long&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;logicalType&#34;</span><span class=p>:</span><span class=w> </span><span class=s>&#34;timestamp-millis&#34;</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// Avro를 사용한 메시지 직렬화 및 전송</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>sendOrderMessage</span><span class=p>(</span><span class=n>Order</span><span class=w> </span><span class=n>order</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 스키마 로드</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>Schema</span><span class=w> </span><span class=n>schema</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Schema</span><span class=p>.</span><span class=na>Parser</span><span class=p>().</span><span class=na>parse</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=s>&#34;order.avsc&#34;</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 레코드 생성</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>GenericRecord</span><span class=w> </span><span class=n>avroOrder</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>GenericData</span><span class=p>.</span><span class=na>Record</span><span class=p>(</span><span class=n>schema</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>avroOrder</span><span class=p>.</span><span class=na>put</span><span class=p>(</span><span class=s>&#34;id&#34;</span><span class=p>,</span><span class=w> </span><span class=n>order</span><span class=p>.</span><span class=na>getId</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>avroOrder</span><span class=p>.</span><span class=na>put</span><span class=p>(</span><span class=s>&#34;customerId&#34;</span><span class=p>,</span><span class=w> </span><span class=n>order</span><span class=p>.</span><span class=na>getCustomerId</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// ... 나머지 필드 설정</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 직렬화</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>ByteArrayOutputStream</span><span class=w> </span><span class=n>outputStream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ByteArrayOutputStream</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>DatumWriter</span><span class=o>&lt;</span><span class=n>GenericRecord</span><span class=o>&gt;</span><span class=w> </span><span class=n>writer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>GenericDatumWriter</span><span class=o>&lt;&gt;</span><span class=p>(</span><span class=n>schema</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>BinaryEncoder</span><span class=w> </span><span class=n>encoder</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>EncoderFactory</span><span class=p>.</span><span class=na>get</span><span class=p>().</span><span class=na>binaryEncoder</span><span class=p>(</span><span class=n>outputStream</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>writer</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=n>avroOrder</span><span class=p>,</span><span class=w> </span><span class=n>encoder</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>encoder</span><span class=p>.</span><span class=na>flush</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 메시지 전송</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>byte</span><span class=o>[]</span><span class=w> </span><span class=n>serializedOrder</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>outputStream</span><span class=p>.</span><span class=na>toByteArray</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>kafkaTemplate</span><span class=p>.</span><span class=na>send</span><span class=p>(</span><span class=s>&#34;orders&#34;</span><span class=p>,</span><span class=w> </span><span class=n>order</span><span class=p>.</span><span class=na>getId</span><span class=p>(),</span><span class=w> </span><span class=n>serializedOrder</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li><p><strong>메시지 라우팅</strong>: 메시지를 적절한 소비자에게 전달하는 라우팅 전략을 설계해야 한다.</p></li><li><p><strong>메시지 순서 보장</strong>: 순서가 중요한 경우, 메시지의 순서를 보장하는 메커니즘이 필요하다.</p></li><li><p><strong>장애 처리 및 복원력</strong>: 메시지 브로커나 소비자 서비스의 장애 상황에 대비한 전략이 필요하다.</p></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1> 1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2> 2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3> 3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4> 4</a>
</span><span class=lnt id=hl-10-5><a class=lnlinks href=#hl-10-5> 5</a>
</span><span class=lnt id=hl-10-6><a class=lnlinks href=#hl-10-6> 6</a>
</span><span class=lnt id=hl-10-7><a class=lnlinks href=#hl-10-7> 7</a>
</span><span class=lnt id=hl-10-8><a class=lnlinks href=#hl-10-8> 8</a>
</span><span class=lnt id=hl-10-9><a class=lnlinks href=#hl-10-9> 9</a>
</span><span class=lnt id=hl-10-10><a class=lnlinks href=#hl-10-10>10</a>
</span><span class=lnt id=hl-10-11><a class=lnlinks href=#hl-10-11>11</a>
</span><span class=lnt id=hl-10-12><a class=lnlinks href=#hl-10-12>12</a>
</span><span class=lnt id=hl-10-13><a class=lnlinks href=#hl-10-13>13</a>
</span><span class=lnt id=hl-10-14><a class=lnlinks href=#hl-10-14>14</a>
</span><span class=lnt id=hl-10-15><a class=lnlinks href=#hl-10-15>15</a>
</span><span class=lnt id=hl-10-16><a class=lnlinks href=#hl-10-16>16</a>
</span><span class=lnt id=hl-10-17><a class=lnlinks href=#hl-10-17>17</a>
</span><span class=lnt id=hl-10-18><a class=lnlinks href=#hl-10-18>18</a>
</span><span class=lnt id=hl-10-19><a class=lnlinks href=#hl-10-19>19</a>
</span><span class=lnt id=hl-10-20><a class=lnlinks href=#hl-10-20>20</a>
</span><span class=lnt id=hl-10-21><a class=lnlinks href=#hl-10-21>21</a>
</span><span class=lnt id=hl-10-22><a class=lnlinks href=#hl-10-22>22</a>
</span><span class=lnt id=hl-10-23><a class=lnlinks href=#hl-10-23>23</a>
</span><span class=lnt id=hl-10-24><a class=lnlinks href=#hl-10-24>24</a>
</span><span class=lnt id=hl-10-25><a class=lnlinks href=#hl-10-25>25</a>
</span><span class=lnt id=hl-10-26><a class=lnlinks href=#hl-10-26>26</a>
</span><span class=lnt id=hl-10-27><a class=lnlinks href=#hl-10-27>27</a>
</span><span class=lnt id=hl-10-28><a class=lnlinks href=#hl-10-28>28</a>
</span><span class=lnt id=hl-10-29><a class=lnlinks href=#hl-10-29>29</a>
</span><span class=lnt id=hl-10-30><a class=lnlinks href=#hl-10-30>30</a>
</span><span class=lnt id=hl-10-31><a class=lnlinks href=#hl-10-31>31</a>
</span><span class=lnt id=hl-10-32><a class=lnlinks href=#hl-10-32>32</a>
</span><span class=lnt id=hl-10-33><a class=lnlinks href=#hl-10-33>33</a>
</span><span class=lnt id=hl-10-34><a class=lnlinks href=#hl-10-34>34</a>
</span><span class=lnt id=hl-10-35><a class=lnlinks href=#hl-10-35>35</a>
</span><span class=lnt id=hl-10-36><a class=lnlinks href=#hl-10-36>36</a>
</span><span class=lnt id=hl-10-37><a class=lnlinks href=#hl-10-37>37</a>
</span><span class=lnt id=hl-10-38><a class=lnlinks href=#hl-10-38>38</a>
</span><span class=lnt id=hl-10-39><a class=lnlinks href=#hl-10-39>39</a>
</span><span class=lnt id=hl-10-40><a class=lnlinks href=#hl-10-40>40</a>
</span><span class=lnt id=hl-10-41><a class=lnlinks href=#hl-10-41>41</a>
</span><span class=lnt id=hl-10-42><a class=lnlinks href=#hl-10-42>42</a>
</span><span class=lnt id=hl-10-43><a class=lnlinks href=#hl-10-43>43</a>
</span><span class=lnt id=hl-10-44><a class=lnlinks href=#hl-10-44>44</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Node.js와 Kafka를 사용한 장애 대응 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=p>{</span> <span class=nx>Kafka</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;kafkajs&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>kafka</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Kafka</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>clientId</span><span class=o>:</span> <span class=s1>&#39;my-app&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>brokers</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;kafka1:9092&#39;</span><span class=p>,</span> <span class=s1>&#39;kafka2:9092&#39;</span><span class=p>,</span> <span class=s1>&#39;kafka3:9092&#39;</span><span class=p>],</span> <span class=c1>// 여러 브로커 지정
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>retry</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>initialRetryTime</span><span class=o>:</span> <span class=mi>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>retries</span><span class=o>:</span> <span class=mi>8</span>  <span class=c1>// 재시도 횟수 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>consumer</span> <span class=o>=</span> <span class=nx>kafka</span><span class=p>.</span><span class=nx>consumer</span><span class=p>({</span> <span class=nx>groupId</span><span class=o>:</span> <span class=s1>&#39;payment-processing-group&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 소비자 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>async</span> <span class=kd>function</span> <span class=nx>setupConsumer</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>consumer</span><span class=p>.</span><span class=nx>connect</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>consumer</span><span class=p>.</span><span class=nx>subscribe</span><span class=p>({</span> <span class=nx>topic</span><span class=o>:</span> <span class=s1>&#39;payment-events&#39;</span><span class=p>,</span> <span class=nx>fromBeginning</span><span class=o>:</span> <span class=kc>false</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>consumer</span><span class=p>.</span><span class=nx>run</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=nx>eachMessage</span><span class=o>:</span> <span class=kr>async</span> <span class=p>({</span> <span class=nx>topic</span><span class=p>,</span> <span class=nx>partition</span><span class=p>,</span> <span class=nx>message</span> <span class=p>})</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>paymentEvent</span> <span class=o>=</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>message</span><span class=p>.</span><span class=nx>value</span><span class=p>.</span><span class=nx>toString</span><span class=p>());</span>
</span></span><span class=line><span class=cl>        <span class=kr>await</span> <span class=nx>processPaymentEvent</span><span class=p>(</span><span class=nx>paymentEvent</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 메시지 처리 성공 로깅
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`[</span><span class=si>${</span><span class=nx>topic</span><span class=si>}</span><span class=sb>] Processed payment event: </span><span class=si>${</span><span class=nx>paymentEvent</span><span class=p>.</span><span class=nx>id</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=sb>`Error processing message: </span><span class=si>${</span><span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 심각한 오류가 아니라면 계속 처리
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>isFatalError</span><span class=p>(</span><span class=nx>error</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 심각한 오류인 경우 소비자 종료 및 재시작 로직
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kr>await</span> <span class=nx>consumer</span><span class=p>.</span><span class=nx>disconnect</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=nx>setTimeout</span><span class=p>(</span><span class=nx>setupConsumer</span><span class=p>,</span> <span class=mi>5000</span><span class=p>);</span>  <span class=c1>// 5초 후 재연결 시도
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>setupConsumer</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=비동기-처리의-성능적-이점>비동기 처리의 성능적 이점<a hidden class=anchor aria-hidden=true href=#비동기-처리의-성능적-이점>#</a></h4><ol><li><p>응답 시간 개선<br>비동기 처리를 통해 사용자 요청에 대한 응답 시간을 크게 개선할 수 있다. 예를 들어, 사용자가 대용량 파일을 업로드할 때, 파일 처리 작업을 백그라운드로 오프로딩하면 사용자는 파일 처리가 완료되기를 기다리지 않고 다른 작업을 계속할 수 있다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1>1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2>2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3>3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4>4</a>
</span><span class=lnt id=hl-11-5><a class=lnlinks href=#hl-11-5>5</a>
</span><span class=lnt id=hl-11-6><a class=lnlinks href=#hl-11-6>6</a>
</span><span class=lnt id=hl-11-7><a class=lnlinks href=#hl-11-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>동기 처리 방식:
</span></span><span class=line><span class=cl>사용자 요청 → 파일 업로드 → 파일 처리 → 응답 반환
</span></span><span class=line><span class=cl>(총 응답 시간 = 업로드 시간 + 처리 시간)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>비동기 처리 방식:
</span></span><span class=line><span class=cl>사용자 요청 → 파일 업로드 → 작업 큐에 추가 → 응답 반환
</span></span><span class=line><span class=cl>(총 응답 시간 = 업로드 시간 + 큐 추가 시간)
</span></span></code></pre></td></tr></table></div></div></li><li><p>시스템 처리량 증가<br>비동기 처리를 통해 시스템의 전체 처리량을 증가시킬 수 있다. 작업을 병렬로 처리하고, 자원을 효율적으로 활용할 수 있기 때문이다.</p></li><li><p>시스템 확장성 향상<br>비동기 아키텍처는 시스템의 확장성을 크게 향상시킨다. 작업 처리 부하가 증가하면 워커(소비자) 인스턴스를 추가하여 수평적으로 확장할 수 있다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1>1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Docker Swarm을 사용한 워커 확장 예시</span>
</span></span><span class=line><span class=cl>docker service scale my-worker-service<span class=o>=</span><span class=m>10</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>시스템 복원력 강화<br>비동기 처리는 시스템의 복원력을 강화한다. 한 서비스의 장애가 전체 시스템에 미치는 영향을 최소화하고, 메시지 지속성을 통해 데이터 손실을 방지할 수 있다.</p></li></ol><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/backend-development/>Backend-Development</a></li><li><a href=https://buenhyden.github.io/tags/best-practices/>Best-Practices</a></li><li><a href=https://buenhyden.github.io/tags/asynchronism/>Asynchronism</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/backend-development/api-design-and-implementation/api-performance/optimize-api-response/><span class=title>« Prev</span><br><span>Optimize API Response</span>
</a><a class=next href=https://buenhyden.github.io/posts/programming-languages/programming-paradigms/imperative-programming/imperative-programming-vs-declarative-programming/><span class=title>Next »</span><br><span>명령형 프로그래밍(Imperative Programming) vs. 선언적 프로그래밍(Declarative Programming)</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>