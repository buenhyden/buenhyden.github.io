<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Network Traffic | hyunyoun's Blog</title>
<meta name=keywords content="Networking-and-Communications,트래픽,Traffic,Bandwidth,Throughput,Latency,Jitter,Packet-Loss"><meta name=description content="네트워크 트래픽은 컴퓨터 네트워크를 통해 이동하는 데이터의 양을 의미한다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/networking-and-communications/network-traffic/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.9a2bbe2d8b5afa9d4df22976abb7b72f1f7f1c467d2b30f03090108f9496ae6c.css integrity="sha256-miu+LYta+p1N8il2q7e3Lx9/HEZ9KzDwMJAQj5SWrmw=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/networking-and-communications/network-traffic/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/networking-and-communications/network-traffic/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Network Traffic"><meta property="og:description" content="네트워크 트래픽은 컴퓨터 네트워크를 통해 이동하는 데이터의 양을 의미한다."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-10-15T02:43:00+00:00"><meta property="article:modified_time" content="2024-10-15T02:43:00+00:00"><meta property="article:tag" content="Networking-and-Communications"><meta property="article:tag" content="트래픽"><meta property="article:tag" content="Traffic"><meta property="article:tag" content="Bandwidth"><meta property="article:tag" content="Throughput"><meta property="article:tag" content="Latency"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Network Traffic"><meta name=twitter:description content="네트워크 트래픽은 컴퓨터 네트워크를 통해 이동하는 데이터의 양을 의미한다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"posts","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Network","item":"https://buenhyden.github.io/posts/networking-and-communications/"},{"@type":"ListItem","position":3,"name":"Network Traffic","item":"https://buenhyden.github.io/posts/networking-and-communications/network-traffic/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Network Traffic","name":"Network Traffic","description":"네트워크 트래픽은 컴퓨터 네트워크를 통해 이동하는 데이터의 양을 의미한다.","keywords":["Networking-and-Communications","트래픽","Traffic","Bandwidth","Throughput","Latency","Jitter","Packet-Loss"],"articleBody":"네트워크 트래픽 (Network Traffic) 네트워크 트래픽은 컴퓨터 네트워크를 통해 이동하는 데이터의 양을 의미한다.\n이는 마치 도로의 차량 통행량과 유사한 개념으로 이해할 수 있다.\n도로에 차가 많이 몰리면 정체가 발생하듯이, 네트워크에 데이터가 많이 몰리면 속도 저하나 지연이 발생할 수 있다.\n구체적으로는 서버와 스위치 등 네트워크 장치에서 일정 시간 내에 전송되는 데이터의 양을 말한다.\n트래픽은 보통 바이트 단위(KB, MB, GB 등)로 측정되며, 웹사이트나 네트워크의 사용량을 나타내는 지표로 활용된다.\n네트워크 트래픽은 다음과 같은 특성을 가진다:\n시간에 따른 변동성: 트래픽은 시간대별로 변화하는 패턴을 보인다. 일반적으로 업무 시간 동안 증가하고 새벽에 감소하는 등의 time-of-day 특성을 나타낸다. 프로토콜별 차이: TCP, UDP 등 프로토콜에 따라 트래픽의 특성이 다르다. 예를 들어, TCP는 UDP보다 패킷 크기가 더 큰 경향이 있다. 방향성: 인바운드(외부에서 내부로)와 아웃바운드(내부에서 외부로) 트래픽으로 구분된다. 네트워크 트래픽은 다양한 기준으로 분류할 수 있다:\n방향성 기준\n인바운드 트래픽: 외부에서 내부로 들어오는 데이터 아웃바운드 트래픽: 내부에서 외부로 나가는 데이터 프로토콜 기준\nTCP 트래픽: 신뢰성 있는 연결 지향적 통신 UDP 트래픽: 빠른 속도의 비연결형 통신 애플리케이션 기준\nHTTP/HTTPS 트래픽: 웹 브라우징 FTP 트래픽: 파일 전송 SMTP/POP3/IMAP 트래픽: 이메일 VoIP 트래픽: 음성 통화 트래픽 모니터링과 분석 네트워크 트래픽을 모니터링하고 분석하는 것은 네트워크 성능 최적화와 보안 유지에 중요하다.\n주요 내용은 다음과 같다:\n모니터링 도구: Nagios, Cacti, Wireshark 등 다양한 오픈소스 및 상용 도구가 사용된다.\n분석 방법:\n패킷 캡처: 네트워크를 통해 전송되는 패킷을 실시간으로 수집한다. 데이터 분석: 수집된 패킷 데이터를 분석하여 트래픽 패턴, 성능 문제, 보안 위협 등을 파악한다. 시각화: 분석된 데이터를 그래프, 차트, 대시보드 등으로 표현하여 이해를 돕는다. 특징 추출: 네트워크 패킷 헤더 정보, 통계적 특징(평균 패킷 크기, 도착 시간 간격 등), 그래프나 이미지 형태의 표현 등 다양한 특징을 활용한다.\n트래픽 제어와 관리 네트워크 트래픽의 제어와 관리는 다양한 방식과 방법으로 이루어진다:\n트래픽 쉐이핑(Traffic Shaping): 네트워크 트래픽의 속도를 조절하여 대역폭 사용을 최적화한다. 특정 유형의 트래픽에 우선순위를 부여하거나 제한을 둔다. 트래픽 폴리싱(Traffic Policing): 설정된 대역폭 한계를 초과하는 트래픽을 드롭하거나 우선순위를 낮춘다. 로드 밸런싱(Load Balancing): 여러 서버나 네트워크 장치에 트래픽을 분산시켜 과부하를 방지한다. QoS(Quality of Service): 트래픽 유형에 따라 우선순위를 부여하여 중요한 애플리케이션의 성능을 보장한다. 방화벽 설정: firewalld와 같은 도구를 사용하여 특정 서비스나 포트에 대한 트래픽을 제어한다. 트래픽 분류 및 모니터링: 네트워크 트래픽을 분석하고 모니터링하여 비정상적인 패턴을 감지한다. 네트워크 세그멘테이션: 트래픽을 기능, 위치, 신원 등에 따라 더 작고 관리하기 쉬운 그룹으로 나눈다. 암호화: 중요한 트래픽을 암호화하여 보안을 강화한다. 애플리케이션 레벨 제어: F5의 BIG-IP와 같은 솔루션을 사용하여 애플리케이션 트래픽을 세밀하게 관리한다. 이러한 방법들은 네트워크 성능 최적화, 보안 강화, 리소스 효율적 사용 등을 목적으로 구현된다.\n트래픽 측정과 성능 지표 대역폭(Bandwidth) 대역폭은 네트워크가 처리할 수 있는 최대 데이터 용량을 의미한다.\n이는 마치 도로의 차선 수와 같은 개념으로, 한 번에 얼마나 많은 데이터를 전송할 수 있는지를 나타낸다.\n대역폭은 일반적으로 bps(bits per second)로 측정되며, Mbps나 Gbps 단위로 표현된다.\n네트워크 또는 채널이 일정 시간 내에 처리 가능한 최대의 데이터 처리능력을 의미하며, 대역폭이 높을수록 많은 데이터가 네트워크에 실려서 전달하고 전달받을 수 있다.\n대역폭 자체는 전달 속도와는 관계가 없으며 오히려 용량 (capacity) 과 관계가 있다.\n또한, 네트워크의 실질적인 성능을 나타내지 않는다.\n처리량(Throughput) 실제로 전송된 데이터의 양을 의미한다.\n대역폭이 도로의 차선 수라면, 처리량은 실제로 그 도로를 지나는 차량의 수와 같다.\n처리량은 대역폭보다 항상 작거나 같으며, 네트워크 상황에 따라 변동될 수 있다.\n얼마나 많은 데이터가 단위 시간 내에 목적지에 전달될 수 있는지에 대한 지표로 시간에 따라 달라지는 가변적인 값이다.\nbps(bit/s), Mbps(Mbit/s), Gbps(Gbit/s) 단위로 표현한다.\n네트워크 구간 중간에 패킷 손실이 발생할 수 있다.\n네트워크 출력 (Throughput) vs 대역폭 (Bandwidth) 의 상관관계\nSource: https://www.techtarget.com/searchnetworking/feature/Network-bandwidth-vs-throughput-Whats-the-difference\n단위 시간 내 많은 양의 데이터를 한 번에 보내기 위한 출력도 높이고, 이를 받아서 전달하는 파이프 역할을 하는 대역폭도 커야 한다. 출력이 높고 대역폭이 작다면, 네트워크 출구에서 대기하는 데이터가 많을 것이고, 이는 시스템의 성능에 안 좋은 영향을 미치게 된다. 출력이 낮은데 대역폭이 크다면, 대역폭과 비용의 낭비가 예상된다. 동일한 사용자의 요청이 지속된다고 하더라도, 예상하지 못한 변화가 잦은 이유는 네트워크 상의 변수가 많기 때문이다. 대표적인 요인 네트워크 지연(network latency): 예상하지 못한 시간 (time) 이 데이터 전달에 소요되는 현상. 네트워크 혼잡(network congestion): 전달해야 하는 데이터의 양이 네트워크에 몰리는 현상 패킷 손실(packet loss): 예상하지 못한 패킷 (packet) 이 전달하는 동안 손실되는 현상. 지연 시간(Latency) 데이터가 출발지에서 목적지까지 도달하는 데 걸리는 시간을 의미한다.\n네트워크 지연은 다음과 같은 요소들에 의해 발생할 수 있다:\n전파 지연: 물리적 거리로 인한 지연 처리 지연: 라우터 등 네트워크 장비에서의 처리 시간 큐잉 지연: 네트워크 혼잡으로 인한 대기 시간 종류:\nNetwork Latency\n데이터 요청이 요청을 작성하는 컴퓨터에서 응답하는 컴퓨터에 도달하는 데 걸리는 시간을 말한다. 이는 데이터가 응답하는 컴퓨터에서 요청한 컴퓨터로 다시 돌아오는 시간을 포함한다. Disk Latency\n컴퓨터 (일반적으로 서버) 가 요청을 수신한 시점부터 응답을 반환하기까기 걸린 시간을 말한다. Source: https://obkio.com/blog/network-speed-bandwidth-throughput/\n지터(Jitter) 지터는 네트워크에서 데이터 패킷의 도착 시간 변동을 의미한다.\n구체적으로:\n연속된 데이터 패킷 간의 도착 시간 차이의 변동을 측정한다. 밀리초(ms) 단위로 표현된다. 네트워크 연결의 안정성을 나타내는 지표이다. 지터는 다음과 같은 방법으로 측정할 수 있다:\n단일 엔드포인트에서 발생한 일련의 패킷의 왕복 시간(RTT) 측정 네트워크의 두 엔드포인트 간 전송 시간 변동 측정 네트워크 링크의 대역폭 테스트 수행\n일반적으로 ping 명령어를 사용하여 기본적인 지터 측정이 가능하다. 높은 지터는 다음과 같은 영향을 미친다:\n실시간 애플리케이션(VoIP, 화상 회의 등)의 품질 저하 오디오나 비디오의 끊김 현상 발생 패킷 순서 변경 또는 손실로 인한 데이터 전송 중단 사용자 경험 저하 및 네트워크 혼잡 악화 지터는 다음과 같은 요인들로 인해 발생할 수 있다:\n네트워크 혼잡 및 병목 현상 하드웨어 제한 또는 오래된 네트워크 장비 무선 간섭 부적절한 QoS(Quality of Service) 설정 지터와 지연시간(Latency)의 차이\n지터와 지연시간은 모두 네트워크 성능과 관련이 있지만, 다음과 같은 차이가 있다: 지연시간: 패킷이 출발지에서 목적지까지 이동하는 총 시간 지터: 패킷 간 도착 시간의 변동성 패킷 손실(Packet Loss) 전송 중에 손실되는 패킷의 비율을 나타낸다.\n높은 트래픽으로 인해 노드가 순간적으로 처리해야 할 패킷이 너무 많아지거나 네트워크상에 예기치 못한 장애가 발생해서 패킷을 처리하지 못하면 패킷 손실이 발생할 수 있으며, 이는 서비스 품질 저하로 이어질 수 있다.\n패킷 손실은 ping 명령어를 통해서 확인할 수 있다.\nping 명령어는 수신지로 다수의 패킷을 전송해 도달 가능한지 여부를 알려준다.\n몇 개의 패킷을 보내고, 받았는지, 몇 % 의 패킷이 손실되었는지를 알 수 있다.\nSource: https://hongong.hanbit.co.kr/network-%ED%8A%B8%EB%9E%98%ED%94%BD%EA%B3%BC-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%EC%84%B1%EB%8A%A5-%EC%A7%80%ED%91%9C/\n네트워크 성능 지표들을 체계적으로 비교 분석:\n성능 지표 정의 측정 방법 QoS 관련성 성능 최적화 방안 일반적인 기준값 대역폭 (Bandwidth) • 네트워크가 처리할 수 있는 최대 데이터 용량 • 단위 시간당 전송 가능한 최대 비트 수 • 네트워크의 ‘잠재적’ 전송 능력 • 네트워크 인터페이스 카드(NIC) 속도 측정 • 대역폭 테스트 도구 사용 (예: Iperf) • ISP 제공 대역폭 확인 • QoS 정책의 기본 설계 요소 • 서비스별 대역폭 할당의 기준 • 트래픽 쉐이핑의 기준점 • 네트워크 인프라 업그레이드 • 대역폭 확장 • QoS를 통한 효율적 할당 • 기업망: 1-10 Gbps • 가정용: 100Mbps-1Gbps • 모바일: 5-100Mbps 처리량 (Throughput) • 실제로 전송되는 데이터의 양 • 단위 시간당 성공적으로 전달된 데이터양 • 대역폭의 실제 사용량 • 네트워크 모니터링 도구 • 패킷 캡처 및 분석 • 실시간 처리량 측정 • 실제 서비스 성능 지표 • QoS 효과성 평가 기준 • 리소스 활용도 측정 • 네트워크 병목 현상 제거 • 로드 밸런싱 구현 • 버퍼 최적화 • 대역폭의 40-80% • 실시간 서비스: 최소 보장 처리량 설정 • 데이터 전송: 변동 허용 지연 시간 (Latency) • 데이터 패킷의 편도 이동 시간 • 요청부터 응답까지의 시간 • 네트워크 반응성 지표 • Ping 테스트 • RTT(Round Trip Time) 측정 • 전용 모니터링 도구 • 실시간 애플리케이션 QoS 핵심 요소 • 서비스 품질 결정 요인 • 우선순위 정책 기준 • 물리적 거리 최적화 • 라우팅 경로 최적화 • CDN 활용 • VoIP: \u003c150ms • 게이밍: \u003c50ms • 웹 서비스: \u003c200ms 지연 (Delay) • 모든 종류의 지연 시간 총합 • 전파, 처리, 큐잉 지연 포함 • 종단간 서비스 품질 지표 • End-to-End 지연 측정 • 구간별 지연 분석 • 네트워크 분석 도구 • 전체적인 서비스 품질 영향 • QoS 정책 효과 측정 • 성능 최적화 지표 • QoS 정책 최적화 • 네트워크 구성 개선 • 하드웨어 성능 향상 • 실시간 통신: \u003c250ms • 스트리밍: \u003c400ms • 일반 데이터: \u003c1s 패킷 손실 (Packet Loss) • 전송 중 손실되는 패킷의 비율 • 네트워크 신뢰성 지표 • 혼잡도 측정 기준 • ICMP 테스트 • 패킷 추적 도구 • 네트워크 모니터링 • 서비스 품질 저하 요인 • QoS 정책 조정 기준 • 우선순위 처리 대상 • 버퍼 크기 조정 • 혼잡 제어 구현 • 오류 복구 메커니즘 • VoIP: \u003c1% • 비디오: \u003c2% • 데이터: \u003c5% 각 성능 지표의 관계성 및 중요 고려사항:\n상호 연관성\n대역폭과 처리량은 직접적인 관계가 있으며, 처리량은 항상 대역폭 이하 지연과 패킷 손실은 처리량에 영향을 미침 모든 지표는 전체적인 QoS에 영향을 줌 최적화 우선순위\n실시간 서비스: 지연 시간과 지터 최소화가 중요 대용량 데이터 전송: 처리량 최적화가 중요 중요 업무 애플리케이션: 패킷 손실 최소화가 중요 모니터링 전략\n모든 지표의 통합적 모니터링 필요 서비스 특성에 따른 중점 지표 선정 임계값 설정 및 알림 구성 이러한 성능 지표들은 네트워크 서비스의 품질을 결정하는 핵심 요소이며, 각 지표의 특성을 이해하고 적절히 관리하는 것이 중요하다.\nQoS(Quality Of Service) QoS(Quality of Service)는 네트워크에서 특정 데이터 트래픽에 대해 우선순위를 부여하고 일정 수준의 서비스 품질을 보장하는 기술이다.\n주요 기능:\n트래픽 분류와 우선순위 설정 대역폭 관리 및 할당 지연(Latency), 지터(Jitter), 패킷 손실(Packet Loss) 최소화 QoS 구현 메커니즘:\n분류 (Classification) 표시 (Marking): 패킷에 우선순위를 표시하여 네트워크 장비들이 이를 인식할 수 있게 한다. 정책 (Policing) 및 쉐이핑 (Shaping): 트래픽의 양을 제어하고 제한한다. QoS 정책을 설계할 때 고려해야 할 사항들: 트래픽 우선순위 정의 실시간 음성/영상 통신: 최우선 순위 트랜잭션 데이터: 중간 우선순위 일반 데이터: 낮은 우선순위 대역폭 할당 QoS 구현 방법:\n트래픽 쉐이핑(Traffic Shaping): 네트워크 트래픽의 속도를 조절하여 대역폭 사용을 최적화한다. 트래픽 폴리싱(Traffic Policing): 설정된 대역폭 한계를 초과하는 트래픽을 제어한다. 패킷 마킹: 패킷에 우선순위를 표시하여 네트워크 장비가 이를 인식하고 처리할 수 있게 한다. QoS의 적용 사례:\nVoIP(Voice over IP): 음성 통화의 품질 유지 비디오 스트리밍: 끊김 없는 영상 제공 기업 네트워크: 중요 업무 애플리케이션의 성능 보장 공공 네트워크: 긴급 서비스에 대한 우선순위 부여 QoS의 장점:\n중요 애플리케이션의 성능 보장 네트워크 리소스의 효율적 관리 사용자 경험 개선 지점 간 트래픽 관리 최적화 QoS의 주요 매개변수\n대역폭(Bandwidth): 네트워크 링크의 용량 지연(Delay): 패킷이 소스에서 목적지까지 이동하는 데 걸리는 시간 지터(Jitter): 패킷 간 도착 시간의 변동 패킷 손실(Packet Loss): 전송 중 손실되는 패킷의 비율 네트워크 문제 진단 및 해결 방법 네트워크 문제를 진단하고 해결하기 위한 체계적인 접근 방법:\n문제 식별\n사용자 인터뷰를 통해 문제의 증상, 발생 시점, 영향 범위 등을 파악한다. 네트워크 로그를 분석하여 이상 징후를 확인한다. 물리적 연결 확인\n모든 케이블이 올바르게 연결되어 있는지 확인한다. 네트워크 장비(라우터, 스위치 등)의 전원 상태와 LED 표시등을 점검한다. 기본적인 네트워크 명령어 사용\nping: 네트워크 연결성을 테스트한다. traceroute: 패킷이 목적지까지 거치는 경로를 추적한다. nslookup: DNS 조회 문제를 확인한다. 네트워크 구성 확인\nIP 주소, 서브넷 마스크, 게이트웨이 설정을 점검한다. DHCP 서버 설정을 확인한다. 고급 진단 도구 활용\n패킷 분석기(예: Wireshark)를 사용하여 네트워크 트래픽을 상세히 분석한다. 네트워크 성능 모니터링 도구를 활용하여 실시간으로 네트워크 상태를 모니터링한다. 문제 해결 및 최적화\n식별된 문제에 따라 적절한 해결책을 적용한다. 예를 들어: 네트워크 장비 재시작 펌웨어 업데이트 네트워크 설정 조정 대역폭 확장 네트워크 트래픽 우선순위 설정을 통해 중요한 애플리케이션의 성능을 개선한다. 문서화 및 모니터링\n문제 해결 과정과 결과를 문서화하여 향후 참조할 수 있도록 한다. 지속적인 모니터링을 통해 문제의 재발을 방지하고 네트워크 성능을 최적화한다. 일반적인 네트워크 문제와 해결 방법 높은 지연시간\nMTU 크기 최적화 네트워크 경로 추적 QoS(Quality of Service) 설정 검토 1 2 3 4 5 # MTU 크기 확인 ip link show # 경로 추적 traceroute google.com 패킷 손실\n물리적 연결 상태 확인 네트워크 인터페이스 오류 검사 버퍼 크기 조정 1 2 3 4 5 6 # 네트워크 인터페이스 상태 확인 ethtool eth0 # 버퍼 크기 조정 sysctl -w net.core.rmem_max=16777216 sysctl -w net.core.wmem_max=16777216 DNS 문제\nDNS 서버 응답 시간 측정 DNS 캐시 초기화 대체 DNS 서버 설정 1 2 3 4 5 # DNS 응답 시간 측정 dig google.com | grep \"Query time\" # DNS 캐시 초기화 (Ubuntu/Debian) systemd-resolve --flush-caches 네트워크 문제 진단 도구와 방법 tcpdump를 사용한 패킷 분석:\n1 2 3 4 5 # HTTP 트래픽 캡처 tcpdump -i eth0 port 80 -w capture.pcap # 특정 호스트와의 통신 모니터링 tcpdump host 192.168.1.100 netstat을 사용한 네트워크 연결 상태 확인:\n1 2 3 4 5 # 활성화된 모든 연결 보기 netstat -an # 리스닝 포트 확인 netstat -tlnp 시스템 로그 분석:\n1 2 3 4 5 # 네트워크 관련 로그 확인 tail -f /var/log/syslog | grep -i network # dmesg를 통한 네트워크 드라이버 로그 확인 dmesg | grep eth 네트워크 성능 모니터링 스크립트 예시:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 import subprocess import time import statistics def monitor_network_performance(target, duration=300): \"\"\" 5분 동안 네트워크 성능을 모니터링하는 함수 Args: target: 모니터링할 대상 호스트 duration: 모니터링 지속 시간(초) \"\"\" latencies = [] packet_loss = 0 total_pings = 0 start_time = time.time() while time.time() - start_time \u003c duration: try: # ping 실행 result = subprocess.run( ['ping', '-c', '1', target], capture_output=True, text=True, timeout=1 ) total_pings += 1 if result.returncode == 0: # 지연시간 추출 latency = float(result.stdout.split('time=')[1].split()[0]) latencies.append(latency) else: packet_loss += 1 except subprocess.TimeoutExpired: packet_loss += 1 time.sleep(1) # 결과 분석 avg_latency = statistics.mean(latencies) if latencies else 0 packet_loss_rate = (packet_loss / total_pings) * 100 return { 'average_latency': avg_latency, 'packet_loss_rate': packet_loss_rate, 'min_latency': min(latencies) if latencies else 0, 'max_latency': max(latencies) if latencies else 0 } 네트워크 성능 최적화 팁 TCP 매개변수 튜닝:\n1 2 3 4 5 # TCP 윈도우 스케일링 활성화 sysctl -w net.ipv4.tcp_window_scaling=1 # TCP 자동 튜닝 활성화 sysctl -w net.ipv4.tcp_moderate_rcvbuf=1 네트워크 인터페이스 최적화:\n1 2 3 4 5 # 인터럽트 처리 최적화 ethtool -C eth0 rx-usecs 100 # 오프로딩 기능 활성화 ethtool -K eth0 tso on gso on gro on 시스템 리소스 모니터링:\n1 2 3 4 5 6 7 8 9 10 11 12 def monitor_system_resources(): \"\"\"시스템 리소스 사용량 모니터링\"\"\" cpu_percent = psutil.cpu_percent(interval=1) memory = psutil.virtual_memory() network_io = psutil.net_io_counters() return { 'cpu_usage': cpu_percent, 'memory_usage': memory.percent, 'bytes_sent': network_io.bytes_sent, 'bytes_recv': network_io.bytes_recv } 참고 및 출처 ","wordCount":"2216","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-10-15T02:43:00Z","dateModified":"2024-10-15T02:43:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/networking-and-communications/network-traffic/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>posts</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/networking-and-communications/>Network</a></div><h1 class="post-title entry-hint-parent">Network Traffic</h1><div class=post-description>네트워크 트래픽은 컴퓨터 네트워크를 통해 이동하는 데이터의 양을 의미한다.</div><div class=post-meta><span title='2024-10-15 02:43:00 +0000 UTC'>October 15, 2024</span>&nbsp;·&nbsp;11 min&nbsp;·&nbsp;2216 words&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Networking%20and%20Communications/Network-Traffic.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#네트워크-트래픽-network-traffic>네트워크 트래픽 (Network Traffic)</a><ul><li><a href=#트래픽-모니터링과-분석>트래픽 모니터링과 분석</a></li><li><a href=#트래픽-제어와-관리>트래픽 제어와 관리</a></li><li><a href=#트래픽-측정과-성능-지표>트래픽 측정과 성능 지표</a></li><li><a href=#qosquality-of-service>QoS(Quality Of Service)</a></li><li><a href=#네트워크-문제-진단-및-해결-방법>네트워크 문제 진단 및 해결 방법</a></li><li><a href=#일반적인-네트워크-문제와-해결-방법>일반적인 네트워크 문제와 해결 방법</a></li><li><a href=#네트워크-문제-진단-도구와-방법>네트워크 문제 진단 도구와 방법</a></li><li><a href=#네트워크-성능-최적화-팁>네트워크 성능 최적화 팁</a></li></ul></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=네트워크-트래픽-network-traffic>네트워크 트래픽 (Network Traffic)<a hidden class=anchor aria-hidden=true href=#네트워크-트래픽-network-traffic>#</a></h2><p>네트워크 트래픽은 컴퓨터 네트워크를 통해 이동하는 데이터의 양을 의미한다.<br>이는 마치 도로의 차량 통행량과 유사한 개념으로 이해할 수 있다.<br>도로에 차가 많이 몰리면 정체가 발생하듯이, 네트워크에 데이터가 많이 몰리면 속도 저하나 지연이 발생할 수 있다.</p><p>구체적으로는 서버와 스위치 등 네트워크 장치에서 일정 시간 내에 전송되는 데이터의 양을 말한다.<br>트래픽은 보통 바이트 단위(KB, MB, GB 등)로 측정되며, 웹사이트나 네트워크의 사용량을 나타내는 지표로 활용된다.</p><p>네트워크 트래픽은 다음과 같은 특성을 가진다:</p><ol><li>시간에 따른 변동성: 트래픽은 시간대별로 변화하는 패턴을 보인다. 일반적으로 업무 시간 동안 증가하고 새벽에 감소하는 등의 time-of-day 특성을 나타낸다.</li><li>프로토콜별 차이: TCP, UDP 등 프로토콜에 따라 트래픽의 특성이 다르다. 예를 들어, TCP는 UDP보다 패킷 크기가 더 큰 경향이 있다.</li><li>방향성: 인바운드(외부에서 내부로)와 아웃바운드(내부에서 외부로) 트래픽으로 구분된다.</li></ol><p>네트워크 트래픽은 다양한 기준으로 분류할 수 있다:</p><ol><li><p>방향성 기준</p><ul><li>인바운드 트래픽: 외부에서 내부로 들어오는 데이터</li><li>아웃바운드 트래픽: 내부에서 외부로 나가는 데이터</li></ul></li><li><p>프로토콜 기준</p><ul><li>TCP 트래픽: 신뢰성 있는 연결 지향적 통신</li><li>UDP 트래픽: 빠른 속도의 비연결형 통신</li></ul></li><li><p>애플리케이션 기준</p><ul><li>HTTP/HTTPS 트래픽: 웹 브라우징</li><li>FTP 트래픽: 파일 전송</li><li>SMTP/POP3/IMAP 트래픽: 이메일</li><li>VoIP 트래픽: 음성 통화</li></ul></li></ol><h3 id=트래픽-모니터링과-분석>트래픽 모니터링과 분석<a hidden class=anchor aria-hidden=true href=#트래픽-모니터링과-분석>#</a></h3><p>네트워크 트래픽을 모니터링하고 분석하는 것은 네트워크 성능 최적화와 보안 유지에 중요하다.<br>주요 내용은 다음과 같다:</p><ol><li><p>모니터링 도구: Nagios, Cacti, Wireshark 등 다양한 오픈소스 및 상용 도구가 사용된다.</p></li><li><p>분석 방법:</p><ul><li>패킷 캡처: 네트워크를 통해 전송되는 패킷을 실시간으로 수집한다.</li><li>데이터 분석: 수집된 패킷 데이터를 분석하여 트래픽 패턴, 성능 문제, 보안 위협 등을 파악한다.</li><li>시각화: 분석된 데이터를 그래프, 차트, 대시보드 등으로 표현하여 이해를 돕는다.</li></ul></li><li><p>특징 추출: 네트워크 패킷 헤더 정보, 통계적 특징(평균 패킷 크기, 도착 시간 간격 등), 그래프나 이미지 형태의 표현 등 다양한 특징을 활용한다.</p></li></ol><h3 id=트래픽-제어와-관리>트래픽 제어와 관리<a hidden class=anchor aria-hidden=true href=#트래픽-제어와-관리>#</a></h3><p>네트워크 트래픽의 제어와 관리는 다양한 방식과 방법으로 이루어진다:</p><ol><li>트래픽 쉐이핑(Traffic Shaping):<ul><li>네트워크 트래픽의 속도를 조절하여 대역폭 사용을 최적화한다.</li><li>특정 유형의 트래픽에 우선순위를 부여하거나 제한을 둔다.</li></ul></li><li>트래픽 폴리싱(Traffic Policing):<ul><li>설정된 대역폭 한계를 초과하는 트래픽을 드롭하거나 우선순위를 낮춘다.</li></ul></li><li>로드 밸런싱(Load Balancing):<ul><li>여러 서버나 네트워크 장치에 트래픽을 분산시켜 과부하를 방지한다.</li></ul></li><li>QoS(Quality of Service):<ul><li>트래픽 유형에 따라 우선순위를 부여하여 중요한 애플리케이션의 성능을 보장한다.</li></ul></li><li>방화벽 설정:<ul><li>firewalld와 같은 도구를 사용하여 특정 서비스나 포트에 대한 트래픽을 제어한다.</li></ul></li><li>트래픽 분류 및 모니터링:<ul><li>네트워크 트래픽을 분석하고 모니터링하여 비정상적인 패턴을 감지한다.</li></ul></li><li>네트워크 세그멘테이션:<ul><li>트래픽을 기능, 위치, 신원 등에 따라 더 작고 관리하기 쉬운 그룹으로 나눈다.</li></ul></li><li>암호화:<ul><li>중요한 트래픽을 암호화하여 보안을 강화한다.</li></ul></li><li>애플리케이션 레벨 제어:<ul><li>F5의 BIG-IP와 같은 솔루션을 사용하여 애플리케이션 트래픽을 세밀하게 관리한다.</li></ul></li></ol><p>이러한 방법들은 네트워크 성능 최적화, 보안 강화, 리소스 효율적 사용 등을 목적으로 구현된다.</p><h3 id=트래픽-측정과-성능-지표>트래픽 측정과 성능 지표<a hidden class=anchor aria-hidden=true href=#트래픽-측정과-성능-지표>#</a></h3><h4 id=대역폭bandwidth>대역폭(Bandwidth)<a hidden class=anchor aria-hidden=true href=#대역폭bandwidth>#</a></h4><p>대역폭은 네트워크가 처리할 수 있는 최대 데이터 용량을 의미한다.<br>이는 마치 도로의 차선 수와 같은 개념으로, 한 번에 얼마나 많은 데이터를 전송할 수 있는지를 나타낸다.<br>대역폭은 일반적으로 bps(bits per second)로 측정되며, Mbps나 Gbps 단위로 표현된다.</p><p>네트워크 또는 채널이 <strong>일정 시간 내에 처리 가능한 최대의 데이터 처리능력</strong>을 의미하며, 대역폭이 높을수록 많은 데이터가 네트워크에 실려서 전달하고 전달받을 수 있다.<br><strong>대역폭 자체는 전달 속도와는 관계가 없으며 오히려 용량 (capacity) 과 관계가 있다</strong>.<br>또한, 네트워크의 실질적인 성능을 나타내지 않는다.</p><h4 id=처리량throughput>처리량(Throughput)<a hidden class=anchor aria-hidden=true href=#처리량throughput>#</a></h4><p>실제로 전송된 데이터의 양을 의미한다.<br>대역폭이 도로의 차선 수라면, 처리량은 실제로 그 도로를 지나는 차량의 수와 같다.<br>처리량은 대역폭보다 항상 작거나 같으며, 네트워크 상황에 따라 변동될 수 있다.</p><p>얼마나 많은 데이터가 단위 시간 내에 목적지에 전달될 수 있는지에 대한 지표로 시간에 따라 달라지는 가변적인 값이다.<br>bps(bit/s), Mbps(Mbit/s), Gbps(Gbit/s) 단위로 표현한다.<br>네트워크 구간 중간에 패킷 손실이 발생할 수 있다.</p><blockquote><p>네트워크 출력 (Throughput) vs 대역폭 (Bandwidth) 의 상관관계<br><figure><img alt="Compare the differences between network bandwidth vs. throughput." loading=lazy src=/img/network_bandwidth_vs_throughput-f.png><figcaption>Source: https://www.techtarget.com/searchnetworking/feature/Network-bandwidth-vs-throughput-Whats-the-difference</figcaption></figure></p></blockquote><ul><li>단위 시간 내 많은 양의 데이터를 한 번에 보내기 위한 출력도 높이고, 이를 받아서 전달하는 파이프 역할을 하는 대역폭도 커야 한다.</li><li>출력이 높고 대역폭이 작다면, 네트워크 출구에서 대기하는 데이터가 많을 것이고, 이는 시스템의 성능에 안 좋은 영향을 미치게 된다.</li><li>출력이 낮은데 대역폭이 크다면, 대역폭과 비용의 낭비가 예상된다.</li><li>동일한 사용자의 요청이 지속된다고 하더라도, 예상하지 못한 변화가 잦은 이유는 네트워크 상의 변수가 많기 때문이다.<ul><li>대표적인 요인<ul><li><code>네트워크 지연(network latency)</code>: 예상하지 못한 시간 (time) 이 데이터 전달에 소요되는 현상.</li><li><code>네트워크 혼잡(network congestion)</code>: 전달해야 하는 데이터의 양이 네트워크에 몰리는 현상</li><li><code>패킷 손실(packet loss)</code>: 예상하지 못한 패킷 (packet) 이 전달하는 동안 손실되는 현상.</li></ul></li></ul></li></ul><h4 id=지연-시간latency>지연 시간(Latency)<a hidden class=anchor aria-hidden=true href=#지연-시간latency>#</a></h4><p>데이터가 출발지에서 목적지까지 도달하는 데 걸리는 시간을 의미한다.<br>네트워크 지연은 다음과 같은 요소들에 의해 발생할 수 있다:</p><ul><li>전파 지연: 물리적 거리로 인한 지연</li><li>처리 지연: 라우터 등 네트워크 장비에서의 처리 시간</li><li>큐잉 지연: 네트워크 혼잡으로 인한 대기 시간</li></ul><p>종류:</p><ul><li>Network Latency<br>데이터 요청이 요청을 작성하는 컴퓨터에서 응답하는 컴퓨터에 도달하는 데 걸리는 시간을 말한다. 이는 데이터가 응답하는 컴퓨터에서 요청한 컴퓨터로 다시 돌아오는 시간을 포함한다.</li><li>Disk Latency<br>컴퓨터 (일반적으로 서버) 가 요청을 수신한 시점부터 응답을 반환하기까기 걸린 시간을 말한다.</li></ul><p><figure><img alt="Bandwidth vs. Throughput" loading=lazy src=/img/throughput-bandwidth.png><figcaption>Source: https://obkio.com/blog/network-speed-bandwidth-throughput/</figcaption></figure></p><h4 id=지터jitter>지터(Jitter)<a hidden class=anchor aria-hidden=true href=#지터jitter>#</a></h4><p>지터는 네트워크에서 데이터 패킷의 도착 시간 변동을 의미한다.<br>구체적으로:</p><ul><li>연속된 데이터 패킷 간의 도착 시간 차이의 변동을 측정한다.</li><li>밀리초(ms) 단위로 표현된다.</li><li>네트워크 연결의 안정성을 나타내는 지표이다.</li></ul><p>지터는 다음과 같은 방법으로 측정할 수 있다:</p><ul><li>단일 엔드포인트에서 발생한 일련의 패킷의 왕복 시간(RTT) 측정</li><li>네트워크의 두 엔드포인트 간 전송 시간 변동 측정</li><li>네트워크 링크의 대역폭 테스트 수행<br>일반적으로 ping 명령어를 사용하여 기본적인 지터 측정이 가능하다.</li></ul><p>높은 지터는 다음과 같은 영향을 미친다:</p><ul><li>실시간 애플리케이션(VoIP, 화상 회의 등)의 품질 저하</li><li>오디오나 비디오의 끊김 현상 발생</li><li>패킷 순서 변경 또는 손실로 인한 데이터 전송 중단</li><li>사용자 경험 저하 및 네트워크 혼잡 악화</li></ul><p>지터는 다음과 같은 요인들로 인해 발생할 수 있다:</p><ul><li>네트워크 혼잡 및 병목 현상</li><li>하드웨어 제한 또는 오래된 네트워크 장비</li><li>무선 간섭</li><li>부적절한 QoS(Quality of Service) 설정</li></ul><blockquote><p>지터와 지연시간(Latency)의 차이</p><ul><li>지터와 지연시간은 모두 네트워크 성능과 관련이 있지만, 다음과 같은 차이가 있다:<ul><li>지연시간: 패킷이 출발지에서 목적지까지 이동하는 총 시간</li><li>지터: 패킷 간 도착 시간의 변동성</li></ul></li></ul></blockquote><h4 id=패킷-손실packet-loss>패킷 손실(Packet Loss)<a hidden class=anchor aria-hidden=true href=#패킷-손실packet-loss>#</a></h4><p>전송 중에 손실되는 패킷의 비율을 나타낸다.<br>높은 트래픽으로 인해 노드가 순간적으로 처리해야 할 패킷이 너무 많아지거나 네트워크상에 예기치 못한 장애가 발생해서 패킷을 처리하지 못하면 패킷 손실이 발생할 수 있으며, 이는 서비스 품질 저하로 이어질 수 있다.</p><p>패킷 손실은 <code>ping</code> 명령어를 통해서 확인할 수 있다.<br><code>ping</code> 명령어는 수신지로 다수의 패킷을 전송해 도달 가능한지 여부를 알려준다.<br>몇 개의 패킷을 보내고, 받았는지, 몇 % 의 패킷이 손실되었는지를 알 수 있다.<br><figure><img alt="패킷 손실" loading=lazy src=/img/패킷-손실-1024x368.png><figcaption>Source: https://hongong.hanbit.co.kr/network-%ED%8A%B8%EB%9E%98%ED%94%BD%EA%B3%BC-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%EC%84%B1%EB%8A%A5-%EC%A7%80%ED%91%9C/</figcaption></figure></p><p>네트워크 성능 지표들을 체계적으로 비교 분석:</p><table><thead><tr><th>성능 지표</th><th>정의</th><th>측정 방법</th><th>QoS 관련성</th><th>성능 최적화 방안</th><th>일반적인 기준값</th></tr></thead><tbody><tr><td><strong>대역폭 (Bandwidth)</strong></td><td>• 네트워크가 처리할 수 있는 최대 데이터 용량<br><br>• 단위 시간당 전송 가능한 최대 비트 수<br><br>• 네트워크의 &lsquo;잠재적&rsquo; 전송 능력</td><td>• 네트워크 인터페이스 카드(NIC) 속도 측정<br><br>• 대역폭 테스트 도구 사용 (예: Iperf)<br><br>• ISP 제공 대역폭 확인</td><td>• QoS 정책의 기본 설계 요소<br><br>• 서비스별 대역폭 할당의 기준<br><br>• 트래픽 쉐이핑의 기준점</td><td>• 네트워크 인프라 업그레이드<br><br>• 대역폭 확장<br><br>• QoS를 통한 효율적 할당</td><td>• 기업망: 1-10 Gbps<br><br>• 가정용: 100Mbps-1Gbps<br><br>• 모바일: 5-100Mbps</td></tr><tr><td><strong>처리량 (Throughput)</strong></td><td>• 실제로 전송되는 데이터의 양<br><br>• 단위 시간당 성공적으로 전달된 데이터양<br><br>• 대역폭의 실제 사용량</td><td>• 네트워크 모니터링 도구<br><br>• 패킷 캡처 및 분석<br><br>• 실시간 처리량 측정</td><td>• 실제 서비스 성능 지표<br><br>• QoS 효과성 평가 기준<br><br>• 리소스 활용도 측정</td><td>• 네트워크 병목 현상 제거<br><br>• 로드 밸런싱 구현<br><br>• 버퍼 최적화</td><td>• 대역폭의 40-80%<br><br>• 실시간 서비스: 최소 보장 처리량 설정<br><br>• 데이터 전송: 변동 허용</td></tr><tr><td><strong>지연 시간 (Latency)</strong></td><td>• 데이터 패킷의 편도 이동 시간<br><br>• 요청부터 응답까지의 시간<br><br>• 네트워크 반응성 지표</td><td>• Ping 테스트<br><br>• RTT(Round Trip Time) 측정<br><br>• 전용 모니터링 도구</td><td>• 실시간 애플리케이션 QoS 핵심 요소<br><br>• 서비스 품질 결정 요인<br><br>• 우선순위 정책 기준</td><td>• 물리적 거리 최적화<br><br>• 라우팅 경로 최적화<br><br>• CDN 활용</td><td>• VoIP: &lt;150ms<br><br>• 게이밍: &lt;50ms<br><br>• 웹 서비스: &lt;200ms</td></tr><tr><td><strong>지연 (Delay)</strong></td><td>• 모든 종류의 지연 시간 총합<br><br>• 전파, 처리, 큐잉 지연 포함<br><br>• 종단간 서비스 품질 지표</td><td>• End-to-End 지연 측정<br><br>• 구간별 지연 분석<br><br>• 네트워크 분석 도구</td><td>• 전체적인 서비스 품질 영향<br><br>• QoS 정책 효과 측정<br><br>• 성능 최적화 지표</td><td>• QoS 정책 최적화<br><br>• 네트워크 구성 개선<br><br>• 하드웨어 성능 향상</td><td>• 실시간 통신: &lt;250ms<br><br>• 스트리밍: &lt;400ms<br><br>• 일반 데이터: &lt;1s</td></tr><tr><td><strong>패킷 손실 (Packet Loss)</strong></td><td>• 전송 중 손실되는 패킷의 비율<br><br>• 네트워크 신뢰성 지표<br><br>• 혼잡도 측정 기준</td><td>• ICMP 테스트<br><br>• 패킷 추적 도구<br><br>• 네트워크 모니터링</td><td>• 서비스 품질 저하 요인<br><br>• QoS 정책 조정 기준<br><br>• 우선순위 처리 대상</td><td>• 버퍼 크기 조정<br><br>• 혼잡 제어 구현<br><br>• 오류 복구 메커니즘</td><td>• VoIP: &lt;1%<br><br>• 비디오: &lt;2%<br><br>• 데이터: &lt;5%</td></tr></tbody></table><p>각 성능 지표의 관계성 및 중요 고려사항:</p><ol><li><p><strong>상호 연관성</strong></p><ul><li>대역폭과 처리량은 직접적인 관계가 있으며, 처리량은 항상 대역폭 이하</li><li>지연과 패킷 손실은 처리량에 영향을 미침</li><li>모든 지표는 전체적인 QoS에 영향을 줌</li></ul></li><li><p><strong>최적화 우선순위</strong></p><ul><li>실시간 서비스: 지연 시간과 지터 최소화가 중요</li><li>대용량 데이터 전송: 처리량 최적화가 중요</li><li>중요 업무 애플리케이션: 패킷 손실 최소화가 중요</li></ul></li><li><p><strong>모니터링 전략</strong></p><ul><li>모든 지표의 통합적 모니터링 필요</li><li>서비스 특성에 따른 중점 지표 선정</li><li>임계값 설정 및 알림 구성</li></ul></li></ol><p>이러한 성능 지표들은 네트워크 서비스의 품질을 결정하는 핵심 요소이며, 각 지표의 특성을 이해하고 적절히 관리하는 것이 중요하다.</p><h3 id=qosquality-of-service>QoS(Quality Of Service)<a hidden class=anchor aria-hidden=true href=#qosquality-of-service>#</a></h3><p>QoS(Quality of Service)는 네트워크에서 특정 데이터 트래픽에 대해 우선순위를 부여하고 일정 수준의 서비스 품질을 보장하는 기술이다.</p><p>주요 기능:</p><ol><li>트래픽 분류와 우선순위 설정</li><li>대역폭 관리 및 할당</li><li>지연(Latency), 지터(Jitter), 패킷 손실(Packet Loss) 최소화</li></ol><p>QoS 구현 메커니즘:</p><ol><li>분류 (Classification)</li><li>표시 (Marking): 패킷에 우선순위를 표시하여 네트워크 장비들이 이를 인식할 수 있게 한다.</li><li>정책 (Policing) 및 쉐이핑 (Shaping): 트래픽의 양을 제어하고 제한한다.<ul><li>QoS 정책을 설계할 때 고려해야 할 사항들:<ol><li>트래픽 우선순위 정의<ul><li>실시간 음성/영상 통신: 최우선 순위</li><li>트랜잭션 데이터: 중간 우선순위</li><li>일반 데이터: 낮은 우선순위</li></ul></li><li>대역폭 할당</li></ol></li></ul></li></ol><p>QoS 구현 방법:</p><ol><li>트래픽 쉐이핑(Traffic Shaping): 네트워크 트래픽의 속도를 조절하여 대역폭 사용을 최적화한다.</li><li>트래픽 폴리싱(Traffic Policing): 설정된 대역폭 한계를 초과하는 트래픽을 제어한다.</li><li>패킷 마킹: 패킷에 우선순위를 표시하여 네트워크 장비가 이를 인식하고 처리할 수 있게 한다.</li></ol><p>QoS의 적용 사례:</p><ol><li>VoIP(Voice over IP): 음성 통화의 품질 유지</li><li>비디오 스트리밍: 끊김 없는 영상 제공</li><li>기업 네트워크: 중요 업무 애플리케이션의 성능 보장</li><li>공공 네트워크: 긴급 서비스에 대한 우선순위 부여</li></ol><p>QoS의 장점:</p><ol><li>중요 애플리케이션의 성능 보장</li><li>네트워크 리소스의 효율적 관리</li><li>사용자 경험 개선</li><li>지점 간 트래픽 관리 최적화</li></ol><p>QoS의 주요 매개변수</p><ul><li>대역폭(Bandwidth): 네트워크 링크의 용량</li><li>지연(Delay): 패킷이 소스에서 목적지까지 이동하는 데 걸리는 시간</li><li>지터(Jitter): 패킷 간 도착 시간의 변동</li><li>패킷 손실(Packet Loss): 전송 중 손실되는 패킷의 비율</li></ul><h3 id=네트워크-문제-진단-및-해결-방법>네트워크 문제 진단 및 해결 방법<a hidden class=anchor aria-hidden=true href=#네트워크-문제-진단-및-해결-방법>#</a></h3><p>네트워크 문제를 진단하고 해결하기 위한 체계적인 접근 방법:</p><ol><li><p><strong>문제 식별</strong></p><ul><li>사용자 인터뷰를 통해 문제의 증상, 발생 시점, 영향 범위 등을 파악한다.</li><li>네트워크 로그를 분석하여 이상 징후를 확인한다.</li></ul></li><li><p><strong>물리적 연결 확인</strong></p><ul><li>모든 케이블이 올바르게 연결되어 있는지 확인한다.</li><li>네트워크 장비(라우터, 스위치 등)의 전원 상태와 LED 표시등을 점검한다.</li></ul></li><li><p><strong>기본적인 네트워크 명령어 사용</strong></p><ul><li>ping: 네트워크 연결성을 테스트한다.</li><li>traceroute: 패킷이 목적지까지 거치는 경로를 추적한다.</li><li>nslookup: DNS 조회 문제를 확인한다.</li></ul></li><li><p><strong>네트워크 구성 확인</strong></p><ul><li>IP 주소, 서브넷 마스크, 게이트웨이 설정을 점검한다.</li><li>DHCP 서버 설정을 확인한다.</li></ul></li><li><p><strong>고급 진단 도구 활용</strong></p><ul><li>패킷 분석기(예: Wireshark)를 사용하여 네트워크 트래픽을 상세히 분석한다.</li><li>네트워크 성능 모니터링 도구를 활용하여 실시간으로 네트워크 상태를 모니터링한다.</li></ul></li><li><p><strong>문제 해결 및 최적화</strong></p><ul><li>식별된 문제에 따라 적절한 해결책을 적용한다. 예를 들어:<ul><li>네트워크 장비 재시작</li><li>펌웨어 업데이트</li><li>네트워크 설정 조정</li><li>대역폭 확장</li></ul></li><li>네트워크 트래픽 우선순위 설정을 통해 중요한 애플리케이션의 성능을 개선한다.</li></ul></li><li><p><strong>문서화 및 모니터링</strong></p><ul><li>문제 해결 과정과 결과를 문서화하여 향후 참조할 수 있도록 한다.</li><li>지속적인 모니터링을 통해 문제의 재발을 방지하고 네트워크 성능을 최적화한다.</li></ul></li></ol><h3 id=일반적인-네트워크-문제와-해결-방법>일반적인 네트워크 문제와 해결 방법<a hidden class=anchor aria-hidden=true href=#일반적인-네트워크-문제와-해결-방법>#</a></h3><ol><li><p>높은 지연시간</p><ul><li>MTU 크기 최적화</li><li>네트워크 경로 추적</li><li>QoS(Quality of Service) 설정 검토</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3>3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4>4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># MTU 크기 확인</span>
</span></span><span class=line><span class=cl>ip link show
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 경로 추적</span>
</span></span><span class=line><span class=cl>traceroute google.com
</span></span></code></pre></td></tr></table></div></div></li><li><p>패킷 손실</p><ul><li>물리적 연결 상태 확인</li><li>네트워크 인터페이스 오류 검사</li><li>버퍼 크기 조정</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2>2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3>3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4>4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5>5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 네트워크 인터페이스 상태 확인</span>
</span></span><span class=line><span class=cl>ethtool eth0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 버퍼 크기 조정</span>
</span></span><span class=line><span class=cl>sysctl -w net.core.rmem_max<span class=o>=</span><span class=m>16777216</span>
</span></span><span class=line><span class=cl>sysctl -w net.core.wmem_max<span class=o>=</span><span class=m>16777216</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>DNS 문제</p><ul><li>DNS 서버 응답 시간 측정</li><li>DNS 캐시 초기화</li><li>대체 DNS 서버 설정</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3>3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4>4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># DNS 응답 시간 측정</span>
</span></span><span class=line><span class=cl>dig google.com <span class=p>|</span> grep <span class=s2>&#34;Query time&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># DNS 캐시 초기화 (Ubuntu/Debian)</span>
</span></span><span class=line><span class=cl>systemd-resolve --flush-caches
</span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=네트워크-문제-진단-도구와-방법>네트워크 문제 진단 도구와 방법<a hidden class=anchor aria-hidden=true href=#네트워크-문제-진단-도구와-방법>#</a></h3><ol><li><p>tcpdump를 사용한 패킷 분석:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2>2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3>3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4>4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># HTTP 트래픽 캡처</span>
</span></span><span class=line><span class=cl>tcpdump -i eth0 port <span class=m>80</span> -w capture.pcap
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 특정 호스트와의 통신 모니터링</span>
</span></span><span class=line><span class=cl>tcpdump host 192.168.1.100
</span></span></code></pre></td></tr></table></div></div></li><li><p>netstat을 사용한 네트워크 연결 상태 확인:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2>2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3>3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4>4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 활성화된 모든 연결 보기</span>
</span></span><span class=line><span class=cl>netstat -an
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 리스닝 포트 확인</span>
</span></span><span class=line><span class=cl>netstat -tlnp
</span></span></code></pre></td></tr></table></div></div></li><li><p>시스템 로그 분석:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2>2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3>3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4>4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 네트워크 관련 로그 확인</span>
</span></span><span class=line><span class=cl>tail -f /var/log/syslog <span class=p>|</span> grep -i network
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># dmesg를 통한 네트워크 드라이버 로그 확인</span>
</span></span><span class=line><span class=cl>dmesg <span class=p>|</span> grep eth
</span></span></code></pre></td></tr></table></div></div></li></ol><p>네트워크 성능 모니터링 스크립트 예시:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a>
</span><span class=lnt id=hl-6-13><a class=lnlinks href=#hl-6-13>13</a>
</span><span class=lnt id=hl-6-14><a class=lnlinks href=#hl-6-14>14</a>
</span><span class=lnt id=hl-6-15><a class=lnlinks href=#hl-6-15>15</a>
</span><span class=lnt id=hl-6-16><a class=lnlinks href=#hl-6-16>16</a>
</span><span class=lnt id=hl-6-17><a class=lnlinks href=#hl-6-17>17</a>
</span><span class=lnt id=hl-6-18><a class=lnlinks href=#hl-6-18>18</a>
</span><span class=lnt id=hl-6-19><a class=lnlinks href=#hl-6-19>19</a>
</span><span class=lnt id=hl-6-20><a class=lnlinks href=#hl-6-20>20</a>
</span><span class=lnt id=hl-6-21><a class=lnlinks href=#hl-6-21>21</a>
</span><span class=lnt id=hl-6-22><a class=lnlinks href=#hl-6-22>22</a>
</span><span class=lnt id=hl-6-23><a class=lnlinks href=#hl-6-23>23</a>
</span><span class=lnt id=hl-6-24><a class=lnlinks href=#hl-6-24>24</a>
</span><span class=lnt id=hl-6-25><a class=lnlinks href=#hl-6-25>25</a>
</span><span class=lnt id=hl-6-26><a class=lnlinks href=#hl-6-26>26</a>
</span><span class=lnt id=hl-6-27><a class=lnlinks href=#hl-6-27>27</a>
</span><span class=lnt id=hl-6-28><a class=lnlinks href=#hl-6-28>28</a>
</span><span class=lnt id=hl-6-29><a class=lnlinks href=#hl-6-29>29</a>
</span><span class=lnt id=hl-6-30><a class=lnlinks href=#hl-6-30>30</a>
</span><span class=lnt id=hl-6-31><a class=lnlinks href=#hl-6-31>31</a>
</span><span class=lnt id=hl-6-32><a class=lnlinks href=#hl-6-32>32</a>
</span><span class=lnt id=hl-6-33><a class=lnlinks href=#hl-6-33>33</a>
</span><span class=lnt id=hl-6-34><a class=lnlinks href=#hl-6-34>34</a>
</span><span class=lnt id=hl-6-35><a class=lnlinks href=#hl-6-35>35</a>
</span><span class=lnt id=hl-6-36><a class=lnlinks href=#hl-6-36>36</a>
</span><span class=lnt id=hl-6-37><a class=lnlinks href=#hl-6-37>37</a>
</span><span class=lnt id=hl-6-38><a class=lnlinks href=#hl-6-38>38</a>
</span><span class=lnt id=hl-6-39><a class=lnlinks href=#hl-6-39>39</a>
</span><span class=lnt id=hl-6-40><a class=lnlinks href=#hl-6-40>40</a>
</span><span class=lnt id=hl-6-41><a class=lnlinks href=#hl-6-41>41</a>
</span><span class=lnt id=hl-6-42><a class=lnlinks href=#hl-6-42>42</a>
</span><span class=lnt id=hl-6-43><a class=lnlinks href=#hl-6-43>43</a>
</span><span class=lnt id=hl-6-44><a class=lnlinks href=#hl-6-44>44</a>
</span><span class=lnt id=hl-6-45><a class=lnlinks href=#hl-6-45>45</a>
</span><span class=lnt id=hl-6-46><a class=lnlinks href=#hl-6-46>46</a>
</span><span class=lnt id=hl-6-47><a class=lnlinks href=#hl-6-47>47</a>
</span><span class=lnt id=hl-6-48><a class=lnlinks href=#hl-6-48>48</a>
</span><span class=lnt id=hl-6-49><a class=lnlinks href=#hl-6-49>49</a>
</span><span class=lnt id=hl-6-50><a class=lnlinks href=#hl-6-50>50</a>
</span><span class=lnt id=hl-6-51><a class=lnlinks href=#hl-6-51>51</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>subprocess</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>statistics</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>monitor_network_performance</span><span class=p>(</span><span class=n>target</span><span class=p>,</span> <span class=n>duration</span><span class=o>=</span><span class=mi>300</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    5분 동안 네트워크 성능을 모니터링하는 함수
</span></span></span><span class=line><span class=cl><span class=s2>    
</span></span></span><span class=line><span class=cl><span class=s2>    Args:
</span></span></span><span class=line><span class=cl><span class=s2>        target: 모니터링할 대상 호스트
</span></span></span><span class=line><span class=cl><span class=s2>        duration: 모니터링 지속 시간(초)
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>latencies</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=n>packet_loss</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=n>total_pings</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start_time</span> <span class=o>&lt;</span> <span class=n>duration</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># ping 실행</span>
</span></span><span class=line><span class=cl>            <span class=n>result</span> <span class=o>=</span> <span class=n>subprocess</span><span class=o>.</span><span class=n>run</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span><span class=s1>&#39;ping&#39;</span><span class=p>,</span> <span class=s1>&#39;-c&#39;</span><span class=p>,</span> <span class=s1>&#39;1&#39;</span><span class=p>,</span> <span class=n>target</span><span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=n>capture_output</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>text</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>timeout</span><span class=o>=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=n>total_pings</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>result</span><span class=o>.</span><span class=n>returncode</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=c1># 지연시간 추출</span>
</span></span><span class=line><span class=cl>                <span class=n>latency</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>result</span><span class=o>.</span><span class=n>stdout</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;time=&#39;</span><span class=p>)[</span><span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>split</span><span class=p>()[</span><span class=mi>0</span><span class=p>])</span>
</span></span><span class=line><span class=cl>                <span class=n>latencies</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>latency</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>packet_loss</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>        <span class=k>except</span> <span class=n>subprocess</span><span class=o>.</span><span class=n>TimeoutExpired</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>packet_loss</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>        <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 결과 분석</span>
</span></span><span class=line><span class=cl>    <span class=n>avg_latency</span> <span class=o>=</span> <span class=n>statistics</span><span class=o>.</span><span class=n>mean</span><span class=p>(</span><span class=n>latencies</span><span class=p>)</span> <span class=k>if</span> <span class=n>latencies</span> <span class=k>else</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=n>packet_loss_rate</span> <span class=o>=</span> <span class=p>(</span><span class=n>packet_loss</span> <span class=o>/</span> <span class=n>total_pings</span><span class=p>)</span> <span class=o>*</span> <span class=mi>100</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;average_latency&#39;</span><span class=p>:</span> <span class=n>avg_latency</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;packet_loss_rate&#39;</span><span class=p>:</span> <span class=n>packet_loss_rate</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;min_latency&#39;</span><span class=p>:</span> <span class=nb>min</span><span class=p>(</span><span class=n>latencies</span><span class=p>)</span> <span class=k>if</span> <span class=n>latencies</span> <span class=k>else</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;max_latency&#39;</span><span class=p>:</span> <span class=nb>max</span><span class=p>(</span><span class=n>latencies</span><span class=p>)</span> <span class=k>if</span> <span class=n>latencies</span> <span class=k>else</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=네트워크-성능-최적화-팁>네트워크 성능 최적화 팁<a hidden class=anchor aria-hidden=true href=#네트워크-성능-최적화-팁>#</a></h3><ol><li><p>TCP 매개변수 튜닝:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2>2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3>3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4>4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># TCP 윈도우 스케일링 활성화</span>
</span></span><span class=line><span class=cl>sysctl -w net.ipv4.tcp_window_scaling<span class=o>=</span><span class=m>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># TCP 자동 튜닝 활성화</span>
</span></span><span class=line><span class=cl>sysctl -w net.ipv4.tcp_moderate_rcvbuf<span class=o>=</span><span class=m>1</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>네트워크 인터페이스 최적화:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1>1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2>2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3>3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4>4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 인터럽트 처리 최적화</span>
</span></span><span class=line><span class=cl>ethtool -C eth0 rx-usecs <span class=m>100</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 오프로딩 기능 활성화</span>
</span></span><span class=line><span class=cl>ethtool -K eth0 tso on gso on gro on
</span></span></code></pre></td></tr></table></div></div></li><li><p>시스템 리소스 모니터링:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11>11</a>
</span><span class=lnt id=hl-9-12><a class=lnlinks href=#hl-9-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>monitor_system_resources</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;시스템 리소스 사용량 모니터링&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>cpu_percent</span> <span class=o>=</span> <span class=n>psutil</span><span class=o>.</span><span class=n>cpu_percent</span><span class=p>(</span><span class=n>interval</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>memory</span> <span class=o>=</span> <span class=n>psutil</span><span class=o>.</span><span class=n>virtual_memory</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>network_io</span> <span class=o>=</span> <span class=n>psutil</span><span class=o>.</span><span class=n>net_io_counters</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;cpu_usage&#39;</span><span class=p>:</span> <span class=n>cpu_percent</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;memory_usage&#39;</span><span class=p>:</span> <span class=n>memory</span><span class=o>.</span><span class=n>percent</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;bytes_sent&#39;</span><span class=p>:</span> <span class=n>network_io</span><span class=o>.</span><span class=n>bytes_sent</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;bytes_recv&#39;</span><span class=p>:</span> <span class=n>network_io</span><span class=o>.</span><span class=n>bytes_recv</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/networking-and-communications/>Networking-and-Communications</a></li><li><a href=https://buenhyden.github.io/tags/%ED%8A%B8%EB%9E%98%ED%94%BD/>트래픽</a></li><li><a href=https://buenhyden.github.io/tags/traffic/>Traffic</a></li><li><a href=https://buenhyden.github.io/tags/bandwidth/>Bandwidth</a></li><li><a href=https://buenhyden.github.io/tags/throughput/>Throughput</a></li><li><a href=https://buenhyden.github.io/tags/latency/>Latency</a></li><li><a href=https://buenhyden.github.io/tags/jitter/>Jitter</a></li><li><a href=https://buenhyden.github.io/tags/packet-loss/>Packet-Loss</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/networking-and-communications/tcp-ip-4-layers/tcpip-4-layers-3-transport-layer/><span class=title>« Prev</span><br><span>TCP/IP 4계층 - 3. Transport Layer</span>
</a><a class=next href=https://buenhyden.github.io/posts/software-development-and-maintenance/software-development-life-cycle/3-design/><span class=title>Next »</span><br><span>3. 설계 (Design)</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>