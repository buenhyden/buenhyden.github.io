<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Service Mesh | hyunyoun's Blog</title><meta name=keywords content="System-Design,System-Components,Traffic-Control-and-Routing,Service-Mesh,Cloud-Native,Microservices-Architecture"><meta name=description content="서비스 메시는 **마이크로서비스 간 통신을 Sidecar 프록시 기반 Data Plane**으로 추상화하고, **Control Plane**에서 정책·보안·관찰 기능을 외부화하는 인프라 계층이다.  이를 통해 서비스 간 보안 (mTLS), 로드밸런싱, 리트라이, 트래픽 제어, 모니터링 등을 코드 수정 없이 적용할 수 있다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/system-architecture--design/architecture-styles/cloud-native-architecture/container-based/service-mesh/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/system-architecture--design/architecture-styles/cloud-native-architecture/container-based/service-mesh/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/system-architecture--design/architecture-styles/cloud-native-architecture/container-based/service-mesh/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/system-architecture--design/architecture-styles/cloud-native-architecture/container-based/service-mesh/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Service Mesh"><meta property="og:description" content="서비스 메시는 **마이크로서비스 간 통신을 Sidecar 프록시 기반 Data Plane**으로 추상화하고, **Control Plane**에서 정책·보안·관찰 기능을 외부화하는 인프라 계층이다.  이를 통해 서비스 간 보안 (mTLS), 로드밸런싱, 리트라이, 트래픽 제어, 모니터링 등을 코드 수정 없이 적용할 수 있다."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Service Mesh"><meta name=twitter:description content="서비스 메시는 **마이크로서비스 간 통신을 Sidecar 프록시 기반 Data Plane**으로 추상화하고, **Control Plane**에서 정책·보안·관찰 기능을 외부화하는 인프라 계층이다.  이를 통해 서비스 간 보안 (mTLS), 로드밸런싱, 리트라이, 트래픽 제어, 모니터링 등을 코드 수정 없이 적용할 수 있다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"HY's Blog","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":6,"name":"Service Mesh","item":"https://buenhyden.github.io/posts/system-architecture--design/architecture-styles/cloud-native-architecture/container-based/service-mesh/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>HY's Blog</a></div><h1>Service Mesh</h1><div class=post-description>서비스 메시는 <strong>마이크로서비스 간 통신을 Sidecar 프록시 기반 Data Plane</strong>으로 추상화하고, <strong>Control Plane</strong>에서 정책·보안·관찰 기능을 외부화하는 인프라 계층이다. 이를 통해 서비스 간 보안 (mTLS), 로드밸런싱, 리트라이, 트래픽 제어, 모니터링 등을 코드 수정 없이 적용할 수 있다.</div></header><div class=post-content><h2 id=서비스-메시-service-mesh>서비스 메시 (Service Mesh)<a hidden class=anchor aria-hidden=true href=#서비스-메시-service-mesh>#</a></h2><p>서비스 메시 (Service Mesh) 는 마이크로서비스 간 통신을 자동화되고 일관되게 처리하는 <strong>인프라레이어</strong>이다. 각 서비스에 사이드카 프록시를 연결해 트래픽 라우팅, 로드 밸런싱, mTLS 기반 보안, 리트라이·서킷 브레이커, 분산추적·메트릭 수집 등의 기능을 비즈니스 코드에서 분리해 제공한다. 제어 평면 (Control Plane) 은 정책을 중앙에서 설정하며, 데이터 평면 (Data Plane) 은 사이드카를 통해 실제 플로우를 처리한다. Istio, Linkerd, Consul, Cilium 등이 대표 솔루션이다.</p><h3 id=등장-배경-및-발전-과정>등장 배경 및 발전 과정<a hidden class=anchor aria-hidden=true href=#등장-배경-및-발전-과정>#</a></h3><p>클라우드 네이티브 환경에서 <strong>마이크로서비스</strong>가 확산되면서, 서비스 간 통신 관리의 복잡성, 보안, 관찰성이 문제가 되었다.</p><p>초기에는 애플리케이션 코드에 통신 로직 (재시도, TLS, 라우팅 등) 을 직접 구현하거나, 라이브러리 (API Gateway 나 SDK) 로 해결했지만, 이는 <strong>언어·프레임워크 종속</strong>, <strong>운영 복잡성 증가</strong> 등의 한계가 있었다.</p><p>마이크로서비스는 수백~수천 개의 독립 컴포넌트로 구성되고, 새로운 네트워크 요구사항이 지속적으로 등장함에 따라 이러한 문제를 해결하기 위한 <strong>인프라 기반의 네트워크 계층</strong>이 필요해졌다.</p><ul><li><strong>서비스 간 통신 복잡성 증가</strong>: 수십, 수백 개의 서비스가 네트워크를 통해 통신</li><li><strong>운영 복잡성</strong>: 각 서비스별로 로깅, 모니터링, 보안 구현 필요</li><li><strong>네트워크 신뢰성 문제</strong>: 분산 환경에서의 장애 전파 및 복구 어려움</li><li><strong>보안 관리 어려움</strong>: 서비스별 개별 보안 구현의 일관성 부족</li></ul><p>이러한 문제들로 2010 년대 후반 Netflix, Google, Lyft 등이 대규모 마이크로서비스 환경에서 겪은 통신 복잡성 문제를 해결하기 위해 개발되었다.</p><p><strong>발전 단계</strong>:</p><ol><li><strong>1 세대 (2016-2017)</strong>: Linkerd 1.x, Envoy Proxy 등장</li><li><strong>2 세대 (2017-2019)</strong>: Istio, Linkerd 2.x 출시, CNCF 프로젝트화</li><li><strong>3 세대 (2019- 현재)</strong>: 성능 최적화, 간소화, 멀티 클러스터 지원</li></ol><h3 id=목적-및-필요성>목적 및 필요성<a hidden class=anchor aria-hidden=true href=#목적-및-필요성>#</a></h3><h4 id=목적-purpose>목적 (Purpose)<a hidden class=anchor aria-hidden=true href=#목적-purpose>#</a></h4><table><thead><tr><th>목적 항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>서비스 간 통신 추상화</strong></td><td>마이크로서비스 간 복잡한 통신 로직을 코드에서 제거하고 인프라 계층 (Sidecar 등) 으로 위임</td></tr><tr><td><strong>횡단 관심사 중앙화 관리</strong></td><td>인증/인가, 트래픽 제어, 로깅/모니터링 등 공통 기능을 중앙 집중형으로 관리</td></tr><tr><td><strong>개발 생산성 향상</strong></td><td>네트워크/보안 로직에서 개발자를 분리해 비즈니스 로직 개발에 집중할 수 있도록 함</td></tr><tr><td><strong>보안 강화 (Zero Trust)</strong></td><td>모든 서비스 간 통신을 암호화하고, 인증/인가 정책을 코드 외부에서 강제 적용</td></tr><tr><td><strong>관찰성 향상 (Observability)</strong></td><td>전체 서비스 흐름과 성능을 트레이싱/로깅/메트릭 수집을 통해 통합적으로 모니터링</td></tr><tr><td><strong>운영 표준화 및 자동화</strong></td><td>서비스 라우팅, 배포 전략, 복원 전략 등을 인프라 수준에서 일관되고 자동화된 방식으로 관리</td></tr></tbody></table><h4 id=필요성-need>필요성 (Need)<a hidden class=anchor aria-hidden=true href=#필요성-need>#</a></h4><table><thead><tr><th>필요 항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>마이크로서비스의 확산</strong></td><td>서비스 수가 증가함에 따라 통신 관계가 복잡해지고, 관리 비용이 기하급수적으로 상승</td></tr><tr><td><strong>보안 요구의 고도화</strong></td><td>기업 내/외부 보안 요구사항 증가에 따른 <strong>제로 트러스트</strong> 네트워크 구현 필요</td></tr><tr><td><strong>정책 일관성 확보 필요</strong></td><td>모든 마이크로서비스에 **일관된 정책 (보안, 라우팅, 인증)**을 적용하기 위한 수단 필요</td></tr><tr><td><strong>운영 복잡성의 증가</strong></td><td>서비스 배포/업데이트/롤백이 잦은 환경에서 <strong>정책 관리, 트래픽 제어, 장애 복구</strong>의 자동화 필요</td></tr><tr><td><strong>관찰 가능성 확보</strong></td><td>서비스 간 의존성과 장애 지점을 빠르게 파악하기 위한 <strong>분산 트레이싱, 메트릭, 로그 수집 체계</strong> 필요</td></tr><tr><td><strong>레질리언스 확보 (복원력)</strong></td><td>장애 복구, 자동 재시도, 회로 차단, 페일오버 등 운영 안정성을 위한 내결함성 제어 필요</td></tr><tr><td><strong>DevOps/플랫폼 팀의 요구</strong></td><td>플랫폼팀이 통합 제어 권한을 갖고 정책과 통신 제어를 수행할 수 있도록 <strong>표준화된 인프라 도구 필요</strong></td></tr></tbody></table><h3 id=핵심-개념>핵심 개념<a hidden class=anchor aria-hidden=true href=#핵심-개념>#</a></h3><p>서비스 메시는 마이크로서비스 아키텍처에서 서비스 간 통신을 처리하는 전용 인프라 레이어이다. 애플리케이션 계층과 분리되어 네트워크 통신의 복잡성을 추상화한다.</p><p><figure><img alt="Understanding Microservice Meshes: Architecture, Operation, and Examples" loading=lazy src=/img/1686129455408.png><figcaption>https://www.linkedin.com/pulse/understanding-microservice-meshes-architecture-luis-soares-m-sc-/</figcaption></figure></p><h4 id=기본-개념>기본 개념<a hidden class=anchor aria-hidden=true href=#기본-개념>#</a></h4><table><thead><tr><th>구성 요소</th><th>정의 및 역할</th></tr></thead><tbody><tr><td><strong>Service Mesh</strong></td><td>마이크로서비스 간 통신을 추상화하고 제어하는 인프라 계층. 보안, 정책, 관찰성 등을 통합 관리</td></tr><tr><td><strong>Sidecar Proxy</strong></td><td>각 서비스 인스턴스와 함께 배포되는 네트워크 프록시. 모든 트래픽을 가로채어 보안, 라우팅, 로깅 등을 처리</td></tr><tr><td><strong>Data Plane</strong></td><td>실제 트래픽을 전달하는 사이드카 프록시들의 집합. 로드 밸런싱, 재시도, 트래픽 분할 등 실행 책임을 가짐</td></tr><tr><td><strong>Control Plane</strong></td><td>정책 설정, 사이드카 구성 관리, 인증서 배포, 서비스 디스커버리 등 중앙 관리 기능 담당</td></tr><tr><td><strong>mTLS</strong></td><td>서비스 간 상호 인증을 수행하고 데이터를 암호화하는 방식. Zero-Trust 보안의 핵심 메커니즘</td></tr><tr><td><strong>Observability</strong></td><td>메트릭, 로그, 분산 트레이싱을 통해 전체 서비스 간 호출 관계와 상태를 가시화</td></tr><tr><td><strong>xDS API</strong></td><td>Envoy 가 컨트롤 플레인으로부터 설정을 받아오는 동적 구성 프로토콜 집합 (CDS, EDS, LDS 등)</td></tr></tbody></table><h4 id=실무-구현-연관성>실무 구현 연관성<a hidden class=anchor aria-hidden=true href=#실무-구현-연관성>#</a></h4><table><thead><tr><th>항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>프록시 주입 방식</strong></td><td>Kubernetes 의 <code>mutating admission webhook</code> 을 통해 사이드카 자동 주입</td></tr><tr><td><strong>트래픽 제어</strong></td><td>Canary, A/B 테스트, Circuit Breaker, Retry, Timeout 등을 네트워크 계층에서 제어</td></tr><tr><td><strong>보안 연동</strong></td><td>Citadel, cert-manager 등과 연계한 mTLS 인증서 자동 발급 및 갱신</td></tr><tr><td><strong>관찰성 구성</strong></td><td>Prometheus (메트릭), Grafana (시각화), Jaeger/Kiali (트레이싱) 통합</td></tr><tr><td><strong>정책 관리</strong></td><td>YAML 기반 VirtualService, DestinationRule 등으로 라우팅 및 QoS 정책 선언 가능</td></tr><tr><td><strong>GitOps 통합</strong></td><td>ArgoCD, Flux 등을 이용해 Service Mesh 설정 및 배포 자동화 실현</td></tr><tr><td><strong>서비스 디스커버리</strong></td><td>Kubernetes 서비스 레지스트리 기반. Control Plane 이 Endpoint 변경을 프록시에 전파함</td></tr></tbody></table><h4 id=기술적으로-검토된-적합성>기술적으로 검토된 적합성<a hidden class=anchor aria-hidden=true href=#기술적으로-검토된-적합성>#</a></h4><table><thead><tr><th>항목</th><th>분석 결과</th></tr></thead><tbody><tr><td><strong>사이드카 구조</strong></td><td>Istio, Linkerd, Kuma, Consul Connect 등 대부분의 구현체에서 사이드카 패턴이 기본 구조로 채택됨</td></tr><tr><td><strong>데이터/컨트롤 플레인 분리</strong></td><td>CNCF 권고 구조이며 Envoy 기반 메시들은 모두 해당 아키텍처 구성 유지</td></tr><tr><td><strong>mTLS 및 인증 자동화</strong></td><td>보안 요구사항 강화로 필수 적용 중. Istio 는 Citadel, 최신 Istio 는 Istiod 로 통합됨</td></tr><tr><td><strong>관찰성 구성요소 통합</strong></td><td>SRE 및 DevOps 흐름에서 핵심 요소. Istio, Linkerd 는 Prometheus 및 Jaeger 기본 통합 제공</td></tr><tr><td><strong>xDS 동적 구성</strong></td><td>Envoy 기반 프록시에서 핵심 구성 원리이며, Proxyless Mesh 에도 일부 연계 사용됨</td></tr><tr><td><strong>서비스 메시 → API 게이트웨이 비교</strong></td><td>API 게이트웨이는 외부 요청 처리 (L7 Entry), 메시지는 내부 트래픽 (East-West) 제어에 중점</td></tr></tbody></table><h3 id=주요-기능-및-역할>주요 기능 및 역할<a hidden class=anchor aria-hidden=true href=#주요-기능-및-역할>#</a></h3><h4 id=핵심-기능-key-functional-capabilities>핵심 기능 (Key Functional Capabilities)<a hidden class=anchor aria-hidden=true href=#핵심-기능-key-functional-capabilities>#</a></h4><table><thead><tr><th>기능 카테고리</th><th>세부 기능</th><th>설명</th></tr></thead><tbody><tr><td><strong>트래픽 관리</strong> (Traffic Management)</td><td>- 라우팅 (L7 기반)<br>- 로드 밸런싱<br>- 트래픽 분할<br>- A/B 테스트<br>- 카나리/블루그린 배포<br>- Fault Injection</td><td>네트워크 트래픽을 제어하여 장애 테스트, 배포 전략, QoS 향상을 가능케 함</td></tr><tr><td><strong>서비스 디스커버리</strong> (Service Discovery)</td><td>- 동적 서비스 탐색<br>- 클러스터 내 인스턴스 자동 등록/해제</td><td>Kubernetes 와 통합하여 서비스 인스턴스를 자동 탐지하고 라우팅</td></tr><tr><td><strong>보안</strong> (Security)</td><td>- 자동 mTLS 적용<br>- 인증/인가 (RBAC, JWT 등)<br>- 인증서 관리</td><td>제로 트러스트 보안 모델 구현. 애플리케이션 코드 변경 없이 통신 보안 강화</td></tr><tr><td><strong>관찰성</strong> (Observability)</td><td>- 메트릭 수집 (Prometheus)<br>- 로그 분석 (Fluentd 등)<br>- 분산 추적 (Jaeger, Zipkin)<br>- 서비스 토폴로지 시각화</td><td>서비스 흐름 및 성능 병목 파악. 운영 환경의 실시간 상태 가시화</td></tr><tr><td><strong>레질리언스</strong> (Resilience)</td><td>- 재시도<br>- 타임아웃<br>- Circuit Breaker<br>- 장애 격리<br>- 페일오버</td><td>장애 전파 방지 및 고가용성 유지. 운영 환경에서 자체 복원력 확보</td></tr><tr><td><strong>정책 관리</strong> (Policy Enforcement)</td><td>- 트래픽 정책 (VirtualService)<br>- 보안 정책 (AuthorizationPolicy)<br>- 속도 제한, ACL</td><td>선언적 YAML 정책으로 중앙 통제 및 표준화된 관리 가능</td></tr></tbody></table><h4 id=핵심-역할-operational-roles>핵심 역할 (Operational Roles)<a hidden class=anchor aria-hidden=true href=#핵심-역할-operational-roles>#</a></h4><table><thead><tr><th>역할</th><th>설명</th></tr></thead><tbody><tr><td><strong>통신 제어자</strong></td><td>애플리케이션 코드 외부에서 모든 트래픽 흐름을 제어하며, 트래픽 분산, 라우팅, 복구 등을 수행</td></tr><tr><td><strong>보안 게이트웨이</strong></td><td>mTLS 를 통한 트래픽 암호화와 인증, 인가를 수행하여 네트워크 수준의 보안을 담당</td></tr><tr><td><strong>관찰성 허브</strong></td><td>메트릭, 로그, 트레이싱을 통합 수집하고 시각화하여 시스템의 상태 및 이상 탐지 지원</td></tr><tr><td><strong>정책 집행자</strong></td><td>네트워크 정책 및 보안 규칙을 중앙에서 정의하고, 모든 서비스에 일관되게 적용</td></tr><tr><td><strong>개발 부담 해소자</strong></td><td>횡단 관심사 (보안, 로깅, 장애 복구 등) 를 코드에서 제거하여 개발자가 비즈니스 로직에 집중 가능하게 함</td></tr><tr><td><strong>배포 보조자</strong></td><td>Canary, Blue/Green, Traffic Shadowing 등 유연한 배포 전략을 실행하는 인프라 계층 도구 역할</td></tr></tbody></table><h4 id=요약-정리>요약 정리<a hidden class=anchor aria-hidden=true href=#요약-정리>#</a></h4><table><thead><tr><th>구분</th><th>요약 내용</th></tr></thead><tbody><tr><td>기능</td><td>서비스 메시의 기능은 크게 <strong>트래픽 제어</strong>, <strong>보안</strong>, <strong>관찰성</strong>, <strong>정책 관리</strong>, <strong>장애 복원</strong>, <strong>서비스 탐색</strong>으로 구성되며, 모든 기능은 인프라 계층에서 실행됨</td></tr><tr><td>역할</td><td>개발자 대신 <strong>네트워크 및 운영 기능을 통합 제어하는 인프라 구성 요소</strong>로서 작동하며, 마이크로서비스 운영에 필수적인 제어력과 일관성을 제공함</td></tr></tbody></table><h3 id=특징>특징<a hidden class=anchor aria-hidden=true href=#특징>#</a></h3><table><thead><tr><th>분류</th><th>특징 항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>1. 구조적 특징</strong></td><td><strong>사이드카 프록시 기반 아키텍처</strong></td><td>모든 네트워크 트래픽을 가로채는 프록시가 서비스와 함께 배포되어 기능을 처리 (예: Envoy, Linkerd-proxy)</td></tr><tr><td></td><td><strong>제어 평면/데이터 평면 분리</strong></td><td>정책 제어 (Control Plane) 와 트래픽 처리 (Data Plane) 가 분리되어 운영과 실행이 독립됨</td></tr><tr><td></td><td><strong>분산형 구성</strong></td><td>데이터 평면은 완전히 분산되어 있고, 제어 평면은 중앙화 또는 이중화 가능</td></tr><tr><td><strong>2. 운용 특성</strong></td><td><strong>투명성 (Transparency)</strong></td><td>애플리케이션 코드를 변경하지 않고도 보안, 모니터링, 트래픽 정책이 적용됨</td></tr><tr><td></td><td><strong>언어/플랫폼 독립성</strong></td><td>다양한 언어 및 런타임의 서비스와 통신 가능 (REST, gRPC, HTTP/2 등 지원)</td></tr><tr><td></td><td><strong>플랫폼 중립성</strong></td><td>Kubernetes 뿐 아니라 VM, 클라우드 등 다양한 인프라에서도 적용 가능</td></tr><tr><td><strong>3. 자동화 및 정책</strong></td><td><strong>정책 중심 설계</strong></td><td>YAML 기반의 선언적 구성으로 정책을 정의 및 배포 가능 (VirtualService, AuthorizationPolicy 등)</td></tr><tr><td></td><td><strong>자동화 연계</strong></td><td>GitOps, CI/CD, mTLS 인증서 갱신 등 다양한 운영 요소와 통합 가능</td></tr><tr><td><strong>4. 확장성과 안정성</strong></td><td><strong>선형 확장성</strong></td><td>서비스 수 증가에 따라 사이드카가 자동 배포되어 성능과 기능이 함께 확장됨</td></tr><tr><td></td><td><strong>세밀한 제어 능력</strong></td><td>요청 단위 라우팅, 리트라이, Fault Injection, Rate Limit 등의 미세 정책 적용 가능</td></tr></tbody></table><h4 id=기술적-검토-요약>기술적 검토 요약<a hidden class=anchor aria-hidden=true href=#기술적-검토-요약>#</a></h4><table><thead><tr><th>검토 항목</th><th>분석 결과</th></tr></thead><tbody><tr><td><strong>투명성</strong></td><td>사이드카 구조의 핵심 장점. 코드 수정 없이 트래픽 제어 가능 (Istio 공식 문서 기준 확정)</td></tr><tr><td><strong>프로그래밍 언어 독립성</strong></td><td>HTTP/gRPC 기반이므로 언어와 프레임워크에 독립적 (RESTful/GraphQL/Protobuf 등)</td></tr><tr><td><strong>구성 요소 분리 원칙</strong></td><td>Control Plane ↔ Data Plane 분리는 Envoy 기반 메시 구현체의 구조적 표준</td></tr><tr><td><strong>자동화 연동성</strong></td><td>GitOps 기반 운영 (ArgoCD, Flux) 또는 Helm + Terraform 으로 쉽게 통합 가능</td></tr><tr><td><strong>확장성</strong></td><td>서비스 증가 시 사이드카 배포만으로 기능 복제 가능 → 클러스터 확장성에 일관성 유지</td></tr><tr><td><strong>제어 정밀도</strong></td><td>Envoy Filter 및 Policy 수준에서 L7 기반 요청 단위 트래픽 제어 가능</td></tr></tbody></table><h4 id=통합-요약>통합 요약<a hidden class=anchor aria-hidden=true href=#통합-요약>#</a></h4><table><thead><tr><th>분류</th><th>설명</th></tr></thead><tbody><tr><td><strong>구조</strong></td><td>사이드카 기반, 제어/데이터 평면 분리, 분산형 아키텍처</td></tr><tr><td><strong>투명성</strong></td><td>코드 수정 없이 트래픽 제어, 보안, 모니터링 가능</td></tr><tr><td><strong>독립성</strong></td><td>언어, 플랫폼, 배포 환경과 무관하게 통합 운영 가능</td></tr><tr><td><strong>확장성</strong></td><td>서비스 수 증가에 따라 자동 사이드카 확장 가능</td></tr><tr><td><strong>자동화 및 선언적 구성</strong></td><td>YAML 기반 정책 선언 + GitOps 연동</td></tr><tr><td><strong>정밀 제어</strong></td><td>요청 단위의 트래픽 제어, 인증, 로깅, 재시도 등 가능</td></tr></tbody></table><h3 id=핵심-원칙>핵심 원칙<a hidden class=anchor aria-hidden=true href=#핵심-원칙>#</a></h3><table><thead><tr><th>범주</th><th>원칙</th><th>설명</th></tr></thead><tbody><tr><td><strong>1. 아키텍처 설계 원칙</strong></td><td><strong>관심사 분리 (Separation of Concerns)</strong></td><td>네트워크 트래픽, 보안, 로깅 등의 기능을 애플리케이션 코드로부터 분리하여 인프라 계층에서 처리</td></tr><tr><td></td><td><strong>사이드카 패턴 적용</strong></td><td>프록시를 각 서비스 옆에 배치하여 트래픽을 제어하고 기능을 주입 (대표적으로 Envoy 기반)</td></tr><tr><td></td><td><strong>제어 평면과 데이터 평면 분리</strong></td><td>설정/정책은 Control Plane, 실행은 Data Plane 이 담당하여 책임을 분리</td></tr><tr><td><strong>2. 정책 기반 운영 원칙</strong></td><td><strong>선언적 구성 및 정책 중심 운영</strong></td><td>YAML 등 선언형 방식으로 트래픽/보안 정책 정의. 코드 수정 없이 변경 가능</td></tr><tr><td></td><td><strong>중앙집중 정책 통제와 자동화</strong></td><td>모든 서비스에 동일한 보안 및 라우팅 정책을 자동·일관되게 적용</td></tr><tr><td><strong>3. 보안 설계 원칙</strong></td><td><strong>Zero Trust 보안 모델</strong></td><td>기본 가정은 " 모든 통신은 불신 " → mTLS 를 기본 적용하여 상호 인증 + 암호화</td></tr><tr><td><strong>4. 운영 및 확장성 원칙</strong></td><td><strong>확장성과 이식성</strong></td><td>다양한 언어·플랫폼·인프라 환경에서 동일한 기능 구현 가능 (Kubernetes 외 VM 포함)</td></tr><tr><td></td><td><strong>점진적 도입 가능성</strong></td><td>기존 시스템에 Sidecar 프록시만 주입하면 단계적 도입 가능 (Non-invasive Integration)</td></tr><tr><td><strong>5. 관찰성 및 가시성 원칙</strong></td><td><strong>관찰성 기본 내장 (Observability-by-default)</strong></td><td>메트릭, 로그, 트레이싱을 자동 수집하여 운영 가시성을 확보</td></tr><tr><td></td><td><strong>트래픽 흐름 감시 및 시각화</strong></td><td>서비스 간 트래픽 흐름 및 장애 탐지 가능 (서비스 토폴로지 및 성능 분석 포함)</td></tr></tbody></table><h4 id=기술적-검토-및-타당성-분석>기술적 검토 및 타당성 분석<a hidden class=anchor aria-hidden=true href=#기술적-검토-및-타당성-분석>#</a></h4><table><thead><tr><th>검토 항목</th><th>분석 결과</th></tr></thead><tbody><tr><td><strong>관심사 분리</strong></td><td>핵심 원칙이며, Envoy 기반 메시 구현체에서 구조적으로 보장됨</td></tr><tr><td><strong>정책 - 데이터 분리 구조</strong></td><td>Control Plane (정책) ↔ Data Plane (트래픽) 의 분리는 CNCF 표준 구조</td></tr><tr><td><strong>보안 모델 (mTLS 중심)</strong></td><td>Istio, Linkerd, Consul 등 모두 기본적으로 mTLS 암호화 및 인증 제공</td></tr><tr><td><strong>선언형 정책 관리</strong></td><td>Kubernetes CRD 와 YAML 구성을 통해 일관성 있게 적용 가능</td></tr><tr><td><strong>관찰성 및 자동화 내장 여부</strong></td><td>Prometheus, Jaeger, Grafana 등의 통합이 공식적으로 제공되며, GitOps 연계 가능</td></tr><tr><td><strong>점진적 도입/확장</strong></td><td>Istio 등은 namespace 단위 적용, VM + K8s hybrid 구성도 지원 가능</td></tr></tbody></table><h4 id=요약-정리-1>요약 정리<a hidden class=anchor aria-hidden=true href=#요약-정리-1>#</a></h4><table><thead><tr><th>범주</th><th>핵심 원칙 요약</th></tr></thead><tbody><tr><td>설계 철학</td><td>코드에서 네트워크·보안·모니터링 로직 분리, 사이드카 기반 구조 채택</td></tr><tr><td>운영 정책</td><td>선언적 구성 (YAML) 과 중앙 집중 정책 관리로 자동화 및 일관성 확보</td></tr><tr><td>보안 전략</td><td>mTLS 기반 Zero Trust 모델 구현, 인증서 자동 관리 포함</td></tr><tr><td>확장성 및 도입 유연성</td><td>다양한 플랫폼 지원, 점진적 적용 가능성 보장</td></tr><tr><td>가시성 및 안정성</td><td>관찰성 도구 기본 내장, 트래픽 흐름 추적 및 장애 감지 지원</td></tr></tbody></table><h3 id=주요-원리>주요 원리<a hidden class=anchor aria-hidden=true href=#주요-원리>#</a></h3><ul><li><strong>프록시 기반 통신</strong>: 각 서비스에 사이드카 프록시 배치, 모든 트래픽을 프록시가 처리.</li><li><strong>정책 기반 관리</strong>: 컨트롤 플레인에서 정책을 정의, 데이터 플레인에 적용.</li><li><strong>분산 추적 및 모니터링</strong>: 모든 트래픽을 관찰 가능하게 함.</li></ul><pre class=mermaid>flowchart TB
    subgraph &#34;Service A Pod&#34;
        SA[Service A]
        PA[Sidecar Proxy A]
    end

    subgraph &#34;Service B Pod&#34;
        SB[Service B]
        PB[Sidecar Proxy B]
    end

    subgraph &#34;Control Plane&#34;
        CP[&#34;Control Plane (Istiod)&#34;]
        CFG[&#34;Config API (CRDs)&#34;]
    end

    subgraph &#34;Observability Systems&#34;
        MET[Prometheus / Grafana]
        TRACE[Jaeger / Zipkin]
    end

    SA --&gt; PA
    PA --&gt; PB
    PB --&gt; SB

    CFG --&gt; CP
    CP --&gt; PA
    CP --&gt; PB

    PA --&gt; MET
    PB --&gt; MET
    PA --&gt; TRACE
    PB --&gt; TRACE
</pre><ul><li>ControlPlane 은 정책/설정을 프록시에 전달</li><li>App1 에서 App2 로의 모든 네트워크 요청은 각각의 사이드카를 통해 제어/관찰/정책 적용됨</li></ul><h3 id=작동-흐름>작동 흐름<a hidden class=anchor aria-hidden=true href=#작동-흐름>#</a></h3><pre class=mermaid>sequenceDiagram
    participant Client as 클라이언트
    participant ProxyA as Service A Proxy
    participant ServiceA as Service A
    participant ProxyB as Service B Proxy
    participant ServiceB as Service B
    participant Control as 컨트롤 플레인

    Control-&gt;&gt;ProxyA: 정책 및 라우팅 규칙 배포
    Control-&gt;&gt;ProxyB: 정책 및 라우팅 규칙 배포
    
    Client-&gt;&gt;ProxyA: 요청
    ProxyA-&gt;&gt;ProxyA: 인증, 권한 확인
    ProxyA-&gt;&gt;ServiceA: 요청 전달
    ServiceA-&gt;&gt;ProxyA: 응답
    ProxyA-&gt;&gt;ProxyB: Service B 호출
    ProxyB-&gt;&gt;ProxyB: 보안 정책 적용
    ProxyB-&gt;&gt;ServiceB: 요청 전달
    ServiceB-&gt;&gt;ProxyB: 응답
    ProxyB-&gt;&gt;ProxyA: 응답
    ProxyA-&gt;&gt;Client: 최종 응답
    
    ProxyA-&gt;&gt;Control: 텔레메트리 데이터
    ProxyB-&gt;&gt;Control: 텔레메트리 데이터
</pre><ul><li>각 서비스에 사이드카 (프록시) 가 삽입되고, <strong>모든 통신은 사이드카를 통해 흐름 제어</strong>됨</li><li>제어 플레인 (Control Plane) 이 <strong>정책 및 설정을 사이드카에 전달</strong></li></ul><h3 id=구조-및-아키텍처>구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#구조-및-아키텍처>#</a></h3><pre class=mermaid>flowchart TB
    subgraph &#34;User&#34;
        U[External Client]
    end

    subgraph &#34;Kubernetes Cluster&#34;
        subgraph &#34;Ingress&#34;
            GW[&#34;Ingress Gateway&lt;br/&gt;(Deployment + Service)&#34;]
        end

        subgraph &#34;Application Pods&#34;
            APP1[&#34;Order Service Pod&lt;br/&gt;(App + Envoy Sidecar)&#34;]
            APP2[&#34;Payment Service Pod&lt;br/&gt;(App + Envoy Sidecar)&#34;]
        end

        subgraph &#34;Control Plane (istio-system)&#34;
            CP1[&#34;Pilot (xDS)&#34;]
            CP2[&#34;Citadel (mTLS)&#34;]
            CP3[&#34;Telemetry (Prometheus Hook)&#34;]
        end

        subgraph &#34;Management Plane (Optional)&#34;
            MGMT[&#34;Gloo / Tetrate / Mesh Hub&#34;]
        end
    end

    U --&gt; GW
    GW --&gt; APP1
    GW --&gt; APP2

    CP1 -.-&gt; APP1
    CP1 -.-&gt; APP2
    CP2 -.-&gt; APP1
    CP2 -.-&gt; APP2
    CP3 -.-&gt; APP1
    CP3 -.-&gt; APP2

    MGMT -.-&gt; CP1
    MGMT -.-&gt; CP2
    MGMT -.-&gt; CP3
</pre><ul><li><code>APP1</code>, <code>APP2</code>: 각각의 서비스에 사이드카 프록시가 주입된 Pod</li><li><code>Ingress Gateway</code>: 외부 요청 진입점 (Istio 에서 일반적으로 <code>istio-ingressgateway</code>)</li><li><code>Control Plane</code>: Istio 의 핵심 컴포넌트들 (<code>Pilot</code>, <code>Citadel</code>, <code>Telemetry</code>, <code>Injector</code> 등)</li><li><code>Management Plane</code>: Istio 에는 기본적으로 없지만, Tetrate, Gloo Mesh 등 외부 솔루션에서 제공됨</li></ul><h4 id=구성-요소>구성 요소<a hidden class=anchor aria-hidden=true href=#구성-요소>#</a></h4><table><thead><tr><th>구성요소</th><th>분류</th><th>기능</th><th>주요 역할</th><th>특징</th></tr></thead><tbody><tr><td><strong>데이터 플레인</strong> (Data Plane)</td><td>필수</td><td>실제 트래픽 처리 및 프록시 기능 수행</td><td>- 모든 인바운드/아웃바운드 트래픽 중개<br>- 로드 밸런싱 및 라우팅<br>- 보안 정책 집행<br>- 텔레메트리 데이터 수집</td><td>- 사이드카 패턴으로 배포<br>- 낮은 지연시간과 높은 성능 요구<br>- Envoy 가 대표 구현체</td></tr><tr><td><strong>컨트롤 플레인</strong> (Control Plane)</td><td>필수</td><td>프록시 제어 및 정책 관리</td><td>- 프록시 설정 전달<br>- 서비스 디스커버리 정보 배포<br>- 인증서 및 정책 배포<br>- 텔레메트리 수집/분석</td><td>- 중앙 집중식 관리<br>- API 기반 구성<br>- 고가용성/확장성 요구</td></tr><tr><td><strong>관리 플레인</strong> (Management Plane)</td><td>선택</td><td>서비스 메시 라이프사이클 통합 관리</td><td>- 여러 메시/클러스터 통합<br>- 정책 검증 및 거버넌스<br>- 통합 대시보드/모니터링 제공</td><td>- 엔터프라이즈 기능 중심<br>- 멀티 클러스터/테넌시 지원<br>- 비즈니스 도구 연계</td></tr><tr><td><strong>게이트웨이</strong> (Gateway)</td><td>선택</td><td>외부 트래픽 진입점 관리</td><td>- 인그레스/이그레스 트래픽 제어<br>- TLS 종료 및 인증서 관리<br>- 외부 보안 연결 처리</td><td>- L7 라우팅 지원<br>- 고급 라우팅 기능<br>- 보안 강화 기능 포함</td></tr></tbody></table><ul><li><strong>데이터 플레인</strong>과 <strong>컨트롤 플레인</strong>은 모든 Service Mesh 에서 반드시 필요.</li><li><strong>관리 플레인</strong>은 <strong>멀티 클러스터 운영</strong>이나 <strong>엔터프라이즈급 통합 관리</strong>에 필요하며, 운영 도구 (예: Tetrate, Gloo Mesh) 가 이를 담당.</li><li><strong>게이트웨이</strong>는 외부 연동 시점에서 Ingress/Egress 트래픽을 통제하며, 인증서 관리와 고급 라우팅 기능까지 포함됨.</li></ul><h4 id=service-mesh-구성요소--kubernetes-리소스-매핑표>Service Mesh 구성요소 ↔ Kubernetes 리소스 매핑표<a hidden class=anchor aria-hidden=true href=#service-mesh-구성요소--kubernetes-리소스-매핑표>#</a></h4><table><thead><tr><th>구성요소</th><th>Kubernetes 리소스/구성</th><th>설명</th></tr></thead><tbody><tr><td><strong>Data Plane</strong> (데이터 플레인)</td><td><code>Pod</code> 내 <code>Sidecar (Envoy)</code><br><code>Deployment</code> 또는 <code>DaemonSet</code></td><td>각 서비스마다 Envoy 프록시가 사이드카로 자동 주입되어 트래픽을 중계함</td></tr><tr><td><strong>Control Plane</strong> (컨트롤 플레인)</td><td><code>Deployment</code><br><code>Service</code><br><code>ConfigMap</code><br><code>Secret</code><br><code>CRD</code>: <code>VirtualService</code>, <code>DestinationRule</code>, <code>PeerAuthentication</code> 등</td><td>정책과 구성 정보를 관리하고 Data Plane 에 전달</td></tr><tr><td><strong>Management Plane</strong> (관리 플레인)</td><td>(해당 구현체 전용 리소스)<br>예: <code>Gloo</code>, <code>Tetrate</code>, <code>ServiceMeshHub</code> 등의 <code>Deployment</code>, <code>Custom CRD</code><br>Helm 또는 GitOps 로 구성</td><td>여러 클러스터 및 메시를 통합 관리하는 도구. 직접적인 K8s 기본 리소스보다 Operator 또는 Extension 형태로 배포됨</td></tr><tr><td><strong>Gateway</strong> (게이트웨이)</td><td><code>Gateway</code> (Istio CRD)<br><code>VirtualService</code><br><code>IngressGateway</code> (<code>Deployment</code> + <code>Service</code>)</td><td>외부 트래픽 진입점을 제어하고 TLS 종료, 인증, 라우팅 등을 수행함</td></tr></tbody></table><h3 id=구현-기법>구현 기법<a hidden class=anchor aria-hidden=true href=#구현-기법>#</a></h3><table><thead><tr><th>분류</th><th>구현 기법</th><th>정의/구성</th><th>목적</th><th>대표 예시</th></tr></thead><tbody><tr><td><strong>A. 사이드카 기반</strong></td><td>Sidecar Proxy</td><td>각 서비스 인스턴스에 프록시 컨테이너를 주입하여 통신 가로채기</td><td>트래픽 제어, 보안, 관찰성, 코드 분리</td><td>Istio + Envoy, Linkerd</td></tr><tr><td></td><td>자동 사이드카 주입</td><td>네임스페이스 라벨과 Mutating Webhook 기반 자동 주입</td><td>개발자 개입 없이 자동화된 구성 적용</td><td><code>istio-injection=enabled</code>, Istio Pilot</td></tr><tr><td></td><td>트래픽 인터셉션 (iptables)</td><td>Init Container 또는 CNI 를 통해 모든 패킷을 프록시로 전달</td><td>코드 수정 없는 투명한 트래픽 제어</td><td>Istio-proxy init container</td></tr><tr><td></td><td>mTLS 통신 암호화</td><td>프록시 간 TLS 암호화, 인증서 자동 갱신</td><td>제로 트러스트 보안 모델 구현</td><td>Istio, Consul Connect</td></tr><tr><td></td><td>정책 기반 라우팅</td><td>컨트롤 플레인에서 선언형 정책 (YAML 등) 을 통해 데이터 플레인에 전달</td><td>일관된 통신 제어, A/B 테스트, 재시도 정책 적용</td><td>VirtualService, DestinationRule</td></tr><tr><td><strong>B. 노드 기반 (사이드카리스)</strong></td><td>Shared Proxy per Node</td><td>노드 단위로 프록시 데몬셋 구성, 각 Pod 간 트래픽을 프록시가 처리</td><td>리소스 사용 최적화, 오버헤드 감소</td><td>Istio Ambient Mesh, Cilium Service Mesh</td></tr><tr><td></td><td>eBPF 기반 메시 처리</td><td>커널 레벨에서 트래픽 제어 수행 (프록시 미포함 또는 최소화)</td><td>지연 시간 최소화, CPU 오버헤드 절감</td><td>Cilium, Ambient Mesh (security-only mode)</td></tr><tr><td><strong>C. 프록시리스 (Proxy-less)</strong></td><td>gRPC xDS</td><td>Envoy 없이 애플리케이션이 xDS API 와 직접 통신</td><td>프록시 제거로 성능 최적화, 프레임워크 내 통합</td><td>gRPC 라이브러리 기반 메시 통신</td></tr><tr><td></td><td>Native SDK/Agent 기반 통합</td><td>앱 내부에 프록시 기능 내장 또는 라이브러리 형태로 통합</td><td>마이크로서비스 라이브러리 수준의 보안·트래픽 관리 기능</td><td>Istio Wasm SDK, AppMesh SDK 등</td></tr><tr><td><strong>D. 확장/표준화 인터페이스</strong></td><td>SMI (Service Mesh Interface)</td><td>CRD 기반 서비스 메시 표준 인터페이스 제공</td><td>벤더 중립적 메시 운영, 교체 가능성 확보</td><td>SMI, Meshery 등</td></tr><tr><td></td><td>Telemetry 통합</td><td>Jaeger, Zipkin 등과 연동하여 Trace, Metrics 수집</td><td>서비스 관찰성 확보, 분산 트랜잭션 디버깅 지원</td><td>Jaeger, OpenTelemetry</td></tr></tbody></table><h4 id=요약-정리-2>요약 정리<a hidden class=anchor aria-hidden=true href=#요약-정리-2>#</a></h4><table><thead><tr><th>구분</th><th>핵심 특징 요약</th></tr></thead><tbody><tr><td><strong>사이드카 기반</strong></td><td>가장 일반적인 방식. 서비스당 프록시 배포. 세밀한 정책 제어와 관찰성 제공. 개발자 관여 없이 자동 주입 가능.</td></tr><tr><td><strong>노드 기반</strong></td><td>노드 단위 공유 프록시 방식으로 리소스 절약에 유리. Istio Ambient Mesh, eBPF 기반 기술이 대표적.</td></tr><tr><td><strong>프록시리스</strong></td><td>프록시를 제거하고 직접 API 제어. 성능에 민감한 환경에서 활용. gRPC 기반 통합 사례 증가 중.</td></tr><tr><td><strong>표준화 인터페이스</strong></td><td>서비스 메시 구현 간 호환성을 위한 표준 API. 메시 벤더 간 교체 용이성 보장.</td></tr></tbody></table><h4 id=사이드카-기반-구성-sidecar-based-service-mesh>사이드카 기반 구성 (Sidecar-Based Service Mesh)<a hidden class=anchor aria-hidden=true href=#사이드카-기반-구성-sidecar-based-service-mesh>#</a></h4><pre class=mermaid>flowchart TD
    Client[Client]
    subgraph Pod A
        AppA[App A]
        ProxyA[Envoy Proxy A]
    end
    subgraph Pod B
        AppB[App B]
        ProxyB[Envoy Proxy B]
    end

    Client --&gt;|Request| ProxyA --&gt; AppA
    AppA --&gt; ProxyA --&gt;|Call Service B| ProxyB --&gt; AppB
    AppB --&gt; ProxyB --&gt;|Response| ProxyA --&gt; AppA --&gt; ProxyA --&gt;|Response| Client
</pre><h5 id=yaml-예시-istio-기반>YAML 예시 (Istio 기반)<a hidden class=anchor aria-hidden=true href=#yaml-예시-istio-기반>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1> 1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2> 2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3> 3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4> 4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5> 5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6> 6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7> 7</a>
</span><span class=lnt id=hl-4-8><a class=lnlinks href=#hl-4-8> 8</a>
</span><span class=lnt id=hl-4-9><a class=lnlinks href=#hl-4-9> 9</a>
</span><span class=lnt id=hl-4-10><a class=lnlinks href=#hl-4-10>10</a>
</span><span class=lnt id=hl-4-11><a class=lnlinks href=#hl-4-11>11</a>
</span><span class=lnt id=hl-4-12><a class=lnlinks href=#hl-4-12>12</a>
</span><span class=lnt id=hl-4-13><a class=lnlinks href=#hl-4-13>13</a>
</span><span class=lnt id=hl-4-14><a class=lnlinks href=#hl-4-14>14</a>
</span><span class=lnt id=hl-4-15><a class=lnlinks href=#hl-4-15>15</a>
</span><span class=lnt id=hl-4-16><a class=lnlinks href=#hl-4-16>16</a>
</span><span class=lnt id=hl-4-17><a class=lnlinks href=#hl-4-17>17</a>
</span><span class=lnt id=hl-4-18><a class=lnlinks href=#hl-4-18>18</a>
</span><span class=lnt id=hl-4-19><a class=lnlinks href=#hl-4-19>19</a>
</span><span class=lnt id=hl-4-20><a class=lnlinks href=#hl-4-20>20</a>
</span><span class=lnt id=hl-4-21><a class=lnlinks href=#hl-4-21>21</a>
</span><span class=lnt id=hl-4-22><a class=lnlinks href=#hl-4-22>22</a>
</span><span class=lnt id=hl-4-23><a class=lnlinks href=#hl-4-23>23</a>
</span><span class=lnt id=hl-4-24><a class=lnlinks href=#hl-4-24>24</a>
</span><span class=lnt id=hl-4-25><a class=lnlinks href=#hl-4-25>25</a>
</span><span class=lnt id=hl-4-26><a class=lnlinks href=#hl-4-26>26</a>
</span><span class=lnt id=hl-4-27><a class=lnlinks href=#hl-4-27>27</a>
</span><span class=lnt id=hl-4-28><a class=lnlinks href=#hl-4-28>28</a>
</span><span class=lnt id=hl-4-29><a class=lnlinks href=#hl-4-29>29</a>
</span><span class=lnt id=hl-4-30><a class=lnlinks href=#hl-4-30>30</a>
</span><span class=lnt id=hl-4-31><a class=lnlinks href=#hl-4-31>31</a>
</span><span class=lnt id=hl-4-32><a class=lnlinks href=#hl-4-32>32</a>
</span><span class=lnt id=hl-4-33><a class=lnlinks href=#hl-4-33>33</a>
</span><span class=lnt id=hl-4-34><a class=lnlinks href=#hl-4-34>34</a>
</span><span class=lnt id=hl-4-35><a class=lnlinks href=#hl-4-35>35</a>
</span><span class=lnt id=hl-4-36><a class=lnlinks href=#hl-4-36>36</a>
</span><span class=lnt id=hl-4-37><a class=lnlinks href=#hl-4-37>37</a>
</span><span class=lnt id=hl-4-38><a class=lnlinks href=#hl-4-38>38</a>
</span><span class=lnt id=hl-4-39><a class=lnlinks href=#hl-4-39>39</a>
</span><span class=lnt id=hl-4-40><a class=lnlinks href=#hl-4-40>40</a>
</span><span class=lnt id=hl-4-41><a class=lnlinks href=#hl-4-41>41</a>
</span><span class=lnt id=hl-4-42><a class=lnlinks href=#hl-4-42>42</a>
</span><span class=lnt id=hl-4-43><a class=lnlinks href=#hl-4-43>43</a>
</span><span class=lnt id=hl-4-44><a class=lnlinks href=#hl-4-44>44</a>
</span><span class=lnt id=hl-4-45><a class=lnlinks href=#hl-4-45>45</a>
</span><span class=lnt id=hl-4-46><a class=lnlinks href=#hl-4-46>46</a>
</span><span class=lnt id=hl-4-47><a class=lnlinks href=#hl-4-47>47</a>
</span><span class=lnt id=hl-4-48><a class=lnlinks href=#hl-4-48>48</a>
</span><span class=lnt id=hl-4-49><a class=lnlinks href=#hl-4-49>49</a>
</span><span class=lnt id=hl-4-50><a class=lnlinks href=#hl-4-50>50</a>
</span><span class=lnt id=hl-4-51><a class=lnlinks href=#hl-4-51>51</a>
</span><span class=lnt id=hl-4-52><a class=lnlinks href=#hl-4-52>52</a>
</span><span class=lnt id=hl-4-53><a class=lnlinks href=#hl-4-53>53</a>
</span><span class=lnt id=hl-4-54><a class=lnlinks href=#hl-4-54>54</a>
</span><span class=lnt id=hl-4-55><a class=lnlinks href=#hl-4-55>55</a>
</span><span class=lnt id=hl-4-56><a class=lnlinks href=#hl-4-56>56</a>
</span><span class=lnt id=hl-4-57><a class=lnlinks href=#hl-4-57>57</a>
</span><span class=lnt id=hl-4-58><a class=lnlinks href=#hl-4-58>58</a>
</span><span class=lnt id=hl-4-59><a class=lnlinks href=#hl-4-59>59</a>
</span><span class=lnt id=hl-4-60><a class=lnlinks href=#hl-4-60>60</a>
</span><span class=lnt id=hl-4-61><a class=lnlinks href=#hl-4-61>61</a>
</span><span class=lnt id=hl-4-62><a class=lnlinks href=#hl-4-62>62</a>
</span><span class=lnt id=hl-4-63><a class=lnlinks href=#hl-4-63>63</a>
</span><span class=lnt id=hl-4-64><a class=lnlinks href=#hl-4-64>64</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># 1. 서비스 A</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>service-a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>service-a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>apps/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Deployment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>service-a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>replicas</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>matchLabels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>service-a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>template</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>service-a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>istio-injection</span><span class=p>:</span><span class=w> </span><span class=l>enabled</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>containers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>app-a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>your-org/service-a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>containerPort</span><span class=p>:</span><span class=w> </span><span class=m>8080</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 2. 서비스 B</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>service-b</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>service-b</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>apps/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Deployment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>service-b</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>replicas</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>matchLabels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>service-b</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>template</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>service-b</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>istio-injection</span><span class=p>:</span><span class=w> </span><span class=l>enabled</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>containers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>app-b</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>your-org/service-b</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>containerPort</span><span class=p>:</span><span class=w> </span><span class=m>8080</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=노드-기반-구성-ambient-mesh--사이드카리스>노드 기반 구성 (Ambient Mesh / 사이드카리스)<a hidden class=anchor aria-hidden=true href=#노드-기반-구성-ambient-mesh--사이드카리스>#</a></h4><pre class=mermaid>flowchart TD
    Client[Client]
    subgraph Node
        ProxyN[&#34;Ztunnel (Node Proxy)&#34;]
        AppA[App A Pod]
        AppB[App B Pod]
    end

    Client --&gt;|Request| ProxyN --&gt; AppA
    AppA --&gt; ProxyN --&gt; AppB
    AppB --&gt; ProxyN --&gt; AppA --&gt; ProxyN --&gt;|Response| Client
</pre><h5 id=yaml-예시-istio-ambient-mesh-기반-예시>YAML 예시 (Istio Ambient Mesh 기반 예시)<a hidden class=anchor aria-hidden=true href=#yaml-예시-istio-ambient-mesh-기반-예시>#</a></h5><ul><li>Ambient Mesh 는 Istio 1.18+ 에서 사용 가능하며, <code>ztunnel</code> 데몬셋으로 노드 프록시 구성</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a>
</span><span class=lnt id=hl-6-13><a class=lnlinks href=#hl-6-13>13</a>
</span><span class=lnt id=hl-6-14><a class=lnlinks href=#hl-6-14>14</a>
</span><span class=lnt id=hl-6-15><a class=lnlinks href=#hl-6-15>15</a>
</span><span class=lnt id=hl-6-16><a class=lnlinks href=#hl-6-16>16</a>
</span><span class=lnt id=hl-6-17><a class=lnlinks href=#hl-6-17>17</a>
</span><span class=lnt id=hl-6-18><a class=lnlinks href=#hl-6-18>18</a>
</span><span class=lnt id=hl-6-19><a class=lnlinks href=#hl-6-19>19</a>
</span><span class=lnt id=hl-6-20><a class=lnlinks href=#hl-6-20>20</a>
</span><span class=lnt id=hl-6-21><a class=lnlinks href=#hl-6-21>21</a>
</span><span class=lnt id=hl-6-22><a class=lnlinks href=#hl-6-22>22</a>
</span><span class=lnt id=hl-6-23><a class=lnlinks href=#hl-6-23>23</a>
</span><span class=lnt id=hl-6-24><a class=lnlinks href=#hl-6-24>24</a>
</span><span class=lnt id=hl-6-25><a class=lnlinks href=#hl-6-25>25</a>
</span><span class=lnt id=hl-6-26><a class=lnlinks href=#hl-6-26>26</a>
</span><span class=lnt id=hl-6-27><a class=lnlinks href=#hl-6-27>27</a>
</span><span class=lnt id=hl-6-28><a class=lnlinks href=#hl-6-28>28</a>
</span><span class=lnt id=hl-6-29><a class=lnlinks href=#hl-6-29>29</a>
</span><span class=lnt id=hl-6-30><a class=lnlinks href=#hl-6-30>30</a>
</span><span class=lnt id=hl-6-31><a class=lnlinks href=#hl-6-31>31</a>
</span><span class=lnt id=hl-6-32><a class=lnlinks href=#hl-6-32>32</a>
</span><span class=lnt id=hl-6-33><a class=lnlinks href=#hl-6-33>33</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># Ambient Mode 활성화용 네임스페이스 라벨</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>kubectl label namespace default istio.io/dataplane-mode=ambient</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 서비스 A/B는 일반 Pod로 배포 (사이드카 없이)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>service-a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>service-a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>apps/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Deployment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>service-a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>replicas</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>matchLabels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>service-a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>template</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>service-a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>containers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>app-a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>your-org/service-a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>containerPort</span><span class=p>:</span><span class=w> </span><span class=m>8080</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li>ztunnel 및 waypoint-proxy 는 Istio 설치 시 자동 구성됨</li></ul><h4 id=프록시리스-구성-proxy-less--grpc-xds-방식>프록시리스 구성 (Proxy-less / gRPC xDS 방식)<a hidden class=anchor aria-hidden=true href=#프록시리스-구성-proxy-less--grpc-xds-방식>#</a></h4><pre class=mermaid>flowchart TD
    Client[Client gRPC Stub]
    AppA[&#34;App A (gRPC xDS Client)&#34;]
    AppB[&#34;App B (gRPC Server)&#34;]

    Client --&gt;|gRPC Call| AppA --&gt;|Direct gRPC| AppB --&gt;|Response| AppA --&gt; Client
</pre><h5 id=yaml-예시-프록시-없는-앱-직접-xds-처리>YAML 예시 (프록시 없는 앱 직접 xDS 처리)<a hidden class=anchor aria-hidden=true href=#yaml-예시-프록시-없는-앱-직접-xds-처리>#</a></h5><ul><li>gRPC xDS 라이브러리를 내장한 앱으로 구성하며, 별도의 Envoy 가 없음</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span><span class=lnt id=hl-8-11><a class=lnlinks href=#hl-8-11>11</a>
</span><span class=lnt id=hl-8-12><a class=lnlinks href=#hl-8-12>12</a>
</span><span class=lnt id=hl-8-13><a class=lnlinks href=#hl-8-13>13</a>
</span><span class=lnt id=hl-8-14><a class=lnlinks href=#hl-8-14>14</a>
</span><span class=lnt id=hl-8-15><a class=lnlinks href=#hl-8-15>15</a>
</span><span class=lnt id=hl-8-16><a class=lnlinks href=#hl-8-16>16</a>
</span><span class=lnt id=hl-8-17><a class=lnlinks href=#hl-8-17>17</a>
</span><span class=lnt id=hl-8-18><a class=lnlinks href=#hl-8-18>18</a>
</span><span class=lnt id=hl-8-19><a class=lnlinks href=#hl-8-19>19</a>
</span><span class=lnt id=hl-8-20><a class=lnlinks href=#hl-8-20>20</a>
</span><span class=lnt id=hl-8-21><a class=lnlinks href=#hl-8-21>21</a>
</span><span class=lnt id=hl-8-22><a class=lnlinks href=#hl-8-22>22</a>
</span><span class=lnt id=hl-8-23><a class=lnlinks href=#hl-8-23>23</a>
</span><span class=lnt id=hl-8-24><a class=lnlinks href=#hl-8-24>24</a>
</span><span class=lnt id=hl-8-25><a class=lnlinks href=#hl-8-25>25</a>
</span><span class=lnt id=hl-8-26><a class=lnlinks href=#hl-8-26>26</a>
</span><span class=lnt id=hl-8-27><a class=lnlinks href=#hl-8-27>27</a>
</span><span class=lnt id=hl-8-28><a class=lnlinks href=#hl-8-28>28</a>
</span><span class=lnt id=hl-8-29><a class=lnlinks href=#hl-8-29>29</a>
</span><span class=lnt id=hl-8-30><a class=lnlinks href=#hl-8-30>30</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>apps/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Deployment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>grpc-xds-app-a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>replicas</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>matchLabels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>grpc-xds-a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>template</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>grpc-xds-a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>containers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>grpc-app</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>your-org/grpc-xds-client</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>containerPort</span><span class=p>:</span><span class=w> </span><span class=m>50051</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>grpc-xds-app-a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>grpc-xds-a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>targetPort</span><span class=p>:</span><span class=w> </span><span class=m>50051</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li>앱 내부에서 <code>grpc-xds</code> 라이브러리를 통해 Control Plane 과 xDS 직접 통신</li></ul><h4 id=확장표준화-인터페이스-구성-smi-기반>확장/표준화 인터페이스 구성 (SMI 기반)<a hidden class=anchor aria-hidden=true href=#확장표준화-인터페이스-구성-smi-기반>#</a></h4><pre class=mermaid>flowchart TD
    Client[Client]
    AppA[Service A]
    AppB[Service B]
    TrafficPolicy[TrafficTarget + HTTPRoute]

    Client --&gt; AppA --&gt;|→ SMI 정책 참조| TrafficPolicy -.-&gt; AppB
    AppB --&gt; AppA --&gt; Client
</pre><h5 id=yaml-예시-smi-표준-적용>YAML 예시 (SMI 표준 적용)<a hidden class=anchor aria-hidden=true href=#yaml-예시-smi-표준-적용>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1> 1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2> 2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3> 3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4> 4</a>
</span><span class=lnt id=hl-10-5><a class=lnlinks href=#hl-10-5> 5</a>
</span><span class=lnt id=hl-10-6><a class=lnlinks href=#hl-10-6> 6</a>
</span><span class=lnt id=hl-10-7><a class=lnlinks href=#hl-10-7> 7</a>
</span><span class=lnt id=hl-10-8><a class=lnlinks href=#hl-10-8> 8</a>
</span><span class=lnt id=hl-10-9><a class=lnlinks href=#hl-10-9> 9</a>
</span><span class=lnt id=hl-10-10><a class=lnlinks href=#hl-10-10>10</a>
</span><span class=lnt id=hl-10-11><a class=lnlinks href=#hl-10-11>11</a>
</span><span class=lnt id=hl-10-12><a class=lnlinks href=#hl-10-12>12</a>
</span><span class=lnt id=hl-10-13><a class=lnlinks href=#hl-10-13>13</a>
</span><span class=lnt id=hl-10-14><a class=lnlinks href=#hl-10-14>14</a>
</span><span class=lnt id=hl-10-15><a class=lnlinks href=#hl-10-15>15</a>
</span><span class=lnt id=hl-10-16><a class=lnlinks href=#hl-10-16>16</a>
</span><span class=lnt id=hl-10-17><a class=lnlinks href=#hl-10-17>17</a>
</span><span class=lnt id=hl-10-18><a class=lnlinks href=#hl-10-18>18</a>
</span><span class=lnt id=hl-10-19><a class=lnlinks href=#hl-10-19>19</a>
</span><span class=lnt id=hl-10-20><a class=lnlinks href=#hl-10-20>20</a>
</span><span class=lnt id=hl-10-21><a class=lnlinks href=#hl-10-21>21</a>
</span><span class=lnt id=hl-10-22><a class=lnlinks href=#hl-10-22>22</a>
</span><span class=lnt id=hl-10-23><a class=lnlinks href=#hl-10-23>23</a>
</span><span class=lnt id=hl-10-24><a class=lnlinks href=#hl-10-24>24</a>
</span><span class=lnt id=hl-10-25><a class=lnlinks href=#hl-10-25>25</a>
</span><span class=lnt id=hl-10-26><a class=lnlinks href=#hl-10-26>26</a>
</span><span class=lnt id=hl-10-27><a class=lnlinks href=#hl-10-27>27</a>
</span><span class=lnt id=hl-10-28><a class=lnlinks href=#hl-10-28>28</a>
</span><span class=lnt id=hl-10-29><a class=lnlinks href=#hl-10-29>29</a>
</span><span class=lnt id=hl-10-30><a class=lnlinks href=#hl-10-30>30</a>
</span><span class=lnt id=hl-10-31><a class=lnlinks href=#hl-10-31>31</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># HTTPRouteGroup 정의</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>specs.smi-spec.io/v1alpha4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>HTTPRouteGroup</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>http-route</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>matches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>all</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>pathRegex</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;.*&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>methods</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;*&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># TrafficTarget 정의 (A → B 허용)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>access.smi-spec.io/v1alpha3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>TrafficTarget</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>a-to-b</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>destination</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>ServiceAccount</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>service-b</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>sources</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>ServiceAccount</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>service-a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>HTTPRouteGroup</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>http-route</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>matches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>all</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li>Consul, Linkerd 등에서 사용 가능하며, SMI 는 CRD 로 구성되어 확장성이 뛰어남.</li></ul><h3 id=장점>장점<a hidden class=anchor aria-hidden=true href=#장점>#</a></h3><table><thead><tr><th>카테고리</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>보안</strong></td><td>자동화된 mTLS</td><td>서비스 간 통신을 암호화하고 상호 인증을 자동 적용하여 zero-trust 모델 실현</td></tr><tr><td></td><td>세밀한 접근 제어</td><td>RBAC, 인증/인가, 정책 기반 보안 설정 가능</td></tr><tr><td><strong>관찰성</strong></td><td>메트릭, 로그, 트레이싱</td><td>모든 트래픽을 자동 수집하여 실시간 모니터링, 장애 추적, 성능 분석에 활용</td></tr><tr><td></td><td>APM 연동 지원</td><td>Prometheus, Grafana, Jaeger 등과 연동하여 고급 관찰성 구현</td></tr><tr><td><strong>트래픽 제어</strong></td><td>라우팅 정책</td><td>Canary, A/B 테스트, 트래픽 쉐이핑, 미러링 등 고급 라우팅 정책 적용 가능</td></tr><tr><td></td><td>부하 분산</td><td>서비스 레벨에서 동적 라우팅, 로드밸런싱을 프록시 수준에서 수행</td></tr><tr><td><strong>회복력</strong></td><td>장애 자동 복구</td><td>재시도, 타임아웃, 서킷브레이커, 폴백 (Fallback) 기능으로 고가용성 확보</td></tr><tr><td><strong>운영 효율성</strong></td><td>정책 중앙관리</td><td>컨트롤 플레인을 통해 보안/트래픽 정책을 선언적 방식 (YAML) 으로 일관되게 관리</td></tr><tr><td></td><td>점진적 도입</td><td>사이드카 방식으로 기존 시스템을 변경 없이 점진적으로 도입 가능</td></tr><tr><td></td><td>인프라/정책 분리</td><td>네트워크 로직을 애플리케이션 코드에서 분리하여 인프라 계층으로 위임</td></tr><tr><td><strong>개발 생산성</strong></td><td>비즈니스 로직 집중</td><td>개발자가 보안/네트워크 로직에서 벗어나 비즈니스 구현에만 집중 가능</td></tr><tr><td></td><td>언어 독립성</td><td>다양한 언어로 작성된 서비스 간에도 동일한 기능 제공 (프록시 기반)</td></tr><tr><td><strong>확장성</strong></td><td>정책 자동 적용</td><td>서비스 추가/삭제 시 컨트롤 플레인을 통해 자동 정책 적용으로 운영 부담 최소화</td></tr><tr><td></td><td>일관성 보장</td><td>모든 서비스에 동일한 네트워크/보안 정책을 자동 적용하여 구성의 표준화 가능</td></tr></tbody></table><h4 id=요약-정리-3>요약 정리<a hidden class=anchor aria-hidden=true href=#요약-정리-3>#</a></h4><table><thead><tr><th>카테고리</th><th>핵심 장점 요약 문장</th></tr></thead><tbody><tr><td><strong>보안</strong></td><td>mTLS 와 인증 정책의 자동 적용을 통해 안전한 통신 보장</td></tr><tr><td><strong>관찰성</strong></td><td>트래픽, 로그, 메트릭, 트레이싱을 자동 수집하여 전체 시스템 가시성 확보</td></tr><tr><td><strong>트래픽 제어</strong></td><td>고급 라우팅 및 테스트 전략 (Canary, A/B 등) 을 통한 세밀한 트래픽 관리</td></tr><tr><td><strong>회복력</strong></td><td>서킷 브레이커, 재시도, 폴백을 통한 자동 장애 복구 기능 내장</td></tr><tr><td><strong>운영 효율성</strong></td><td>중앙 집중식 컨트롤 플레인으로 정책 관리 자동화 및 코드 분리 실현</td></tr><tr><td><strong>개발 생산성</strong></td><td>인프라 로직을 사이드카로 위임하여 개발자는 비즈니스 로직에만 집중 가능</td></tr><tr><td><strong>확장성/일관성</strong></td><td>서비스 증가에도 자동 정책 적용 및 구성 일관성 유지</td></tr></tbody></table><h3 id=단점과-문제점-그리고-해결방안>단점과 문제점 그리고 해결방안<a hidden class=anchor aria-hidden=true href=#단점과-문제점-그리고-해결방안>#</a></h3><h4 id=단점>단점<a hidden class=anchor aria-hidden=true href=#단점>#</a></h4><table><thead><tr><th>구분</th><th>항목</th><th>설명</th><th>해결 방안 요약</th></tr></thead><tbody><tr><td><strong>운영 복잡성</strong></td><td>구성 복잡도</td><td>사이드카, 정책, 제어 플레인 추가로 운영 난이도 상승</td><td>자동화 도구, 문서화, GitOps, 점진적 도입</td></tr><tr><td></td><td>학습 곡선</td><td>신규 기술 도입에 따른 팀 학습 부담</td><td>교육 프로그램, 단계적 도입, 교육 문서 제공</td></tr><tr><td><strong>성능 문제</strong></td><td>프록시로 인한 오버헤드</td><td>사이드카 프록시로 인한 CPU/메모리 소비 및 지연 증가</td><td>경량 프록시, eBPF, Ambient Mesh 도입, 최적화 설정</td></tr><tr><td></td><td>네트워크 지연</td><td>프록시 추가 홉으로 인한 RTT 증가</td><td>커넥션 재사용, 성능 튜닝, 프록시 배치 최적화</td></tr><tr><td><strong>자원 사용량</strong></td><td>리소스 소비 증가</td><td>서비스 수 증가 시 프록시 개수 및 사용 리소스 기하급수적으로 증가</td><td>리소스 할당 조절, 프록시 공용화 (Shared Proxy), HPA 적용</td></tr><tr><td><strong>운영 부담</strong></td><td>디버깅 및 모니터링 어려움</td><td>트래픽이 사이드카를 통해 흐르기 때문에 분석 복잡도 증가</td><td>OpenTelemetry, Kiali, Jaeger 연동 시각화</td></tr><tr><td><strong>기술 종속</strong></td><td>벤더 종속성</td><td>Istio, AWS App Mesh 등 특정 벤더 API 또는 구성 방식에 의존</td><td>SMI 지원 메시 선택, 추상화 레이어 구성</td></tr></tbody></table><ul><li><strong>운영 복잡성</strong>과 <strong>성능 이슈</strong>가 주요 핵심 단점.</li><li>사이드카 구조 자체의 한계 (리소스 소비, 디버깅 어려움 등) 가 중심.</li><li>eBPF, ambient mesh, 자동화 도구 등으로 완화 가능.</li></ul><h4 id=문제점>문제점<a hidden class=anchor aria-hidden=true href=#문제점>#</a></h4><table><thead><tr><th>구분</th><th>항목</th><th>원인</th><th>영향</th><th>탐지 및 진단</th><th>예방 및 해결 방안 요약</th></tr></thead><tbody><tr><td><strong>신뢰성</strong></td><td>프록시 장애</td><td>사이드카 충돌, 리소스 부족, 설정 오류</td><td>서비스 간 통신 단절</td><td>헬스체크, 로그 분석, 알림</td><td>자동 재시작, 우회 경로 구성, Canary 배포</td></tr><tr><td></td><td>제어 플레인 장애</td><td>Istiod 또는 Consul 등 제어 구성 장애</td><td>정책 배포 불가, 네트워크 분할</td><td>모니터링, 이중화 상태 점검</td><td>고가용성 구성, 백업 정책, failover 시나리오 설계</td></tr><tr><td><strong>정책/구성 문제</strong></td><td>정책 충돌 / 구성 오류</td><td>중복, 상쇄 정책, 버전 차이, 인증서 만료 등</td><td>트래픽 차단, 잘못된 라우팅, 보안 문제</td><td>CI/CD 설정 검증, 정책 테스트, 알림</td><td>선언적 정책 통합, 자동 검증 파이프라인, 롤백 메커니즘 구성</td></tr><tr><td><strong>보안 문제</strong></td><td>인증서 갱신 실패</td><td>mTLS 인증서 만료, Citadel/CA 설정 미비</td><td>TLS 연결 실패, 서비스 간 암호화 실패</td><td>인증서 만료 모니터링, 주기 점검</td><td>자동 갱신 설정, 예비 인증서 구성, 관리 자동화</td></tr><tr><td><strong>성능 문제</strong></td><td>병목/트래픽 과부하</td><td>프록시 설정 오류, 트래픽 집중, 리소스 과소 할당</td><td>전체 지연 증가, 타임아웃 발생</td><td>지연 분석, tracing, latency metrics</td><td>proxy-less 일부 도입, 프록시 분산, 리소스 확장</td></tr><tr><td><strong>장애 확산</strong></td><td>의존성으로 인한 장애 전파</td><td>서비스 간 강결합 및 장애 감지 미흡</td><td>전체 시스템 장애 유발</td><td>장애 전파 시각화, distributed tracing</td><td>서킷 브레이커, 리트라이 정책, 격리된 서비스 구성</td></tr></tbody></table><ul><li><strong>프록시 장애</strong>, <strong>정책 오류</strong>, <strong>제어 플레인 불안정</strong>이 주요 원인.</li><li>특히 mTLS 인증서 만료, 트래픽 병목, 장애 전파는 실무에서 자주 발생.</li><li><strong>CI 기반 자동 검증</strong>, <strong>Canary 배포</strong>, <strong>서킷브레이커</strong> 등 실질적인 대응 전략 중요.</li></ul><h3 id=도전-과제>도전 과제<a hidden class=anchor aria-hidden=true href=#도전-과제>#</a></h3><table><thead><tr><th>카테고리</th><th>도전 과제</th><th>설명</th><th>원인/영향</th><th>대표적인 해결 전략/기술 예시</th></tr></thead><tbody><tr><td><strong>성능</strong></td><td>프록시 오버헤드</td><td>사이드카 프록시로 인한 네트워크 지연 및 리소스 소비</td><td>응답 시간 증가, CPU/메모리 증가</td><td>eBPF, Ambient Mesh, 경량 프록시 도입</td></tr><tr><td></td><td>확장성</td><td>대규모 트래픽 또는 서비스 수 증가 시 제어/데이터 플레인의 병목</td><td>트래픽 증가에 따른 처리 지연, 제어 평면 과부하</td><td>HPA, Scalable Control Plane, Istio Remote CP</td></tr><tr><td><strong>운영 복잡성</strong></td><td>멀티 클러스터/테넌시 관리</td><td>여러 클러스터 간 일관된 정책 적용 및 통합 제어 난이도</td><td>클러스터 간 통신 실패, 정책 불일치</td><td>Federation, Global Control Plane, SMI 준수</td></tr><tr><td></td><td>복잡한 구성/운영 자동화</td><td>서비스 메시 도입 시 초기 설정, 사이드카 주입, 정책 구성의 복잡성</td><td>운영 부담 증가, 관리 오류 가능성</td><td>Helm, IstioOperator, GitOps, Terraform, CI/CD</td></tr><tr><td></td><td>디버깅 및 문제 해결 어려움</td><td>트래픽 흐름이 사이드카를 경유하여 tracing 및 분석 난이도 증가</td><td>장애 원인 파악 지연, 운영 이슈 누락</td><td>OpenTelemetry, Kiali, Jaeger, eBPF trace</td></tr><tr><td><strong>보안</strong></td><td>인증서 갱신 및 정책 충돌</td><td>mTLS 인증서 수명 관리 실패, 정책 불일치로 인한 서비스 장애</td><td>인증 실패, 트래픽 차단, 보안 정책 미적용</td><td>자동 갱신 도구 (Citadel, Vault), 정책 검증 도구</td></tr><tr><td><strong>이식성/호환성</strong></td><td>레거시/이기종 환경 지원</td><td>VM, 에지, 온프레미스 등 다양한 환경에서의 통합 운용 어려움</td><td>Kubernetes 강의존성, 에지 환경 리소스 제약</td><td>VM 지원 메시 (Linkerd, Kuma), Sidecar-less Mesh(e.g., Cilium)</td></tr><tr><td></td><td>L7 프로토콜 처리 한계</td><td>HTTP/2, gRPC 등 고급 프로토콜 처리 시 eBPF 의 한계</td><td>성능 저하, 비정상 동작 발생 가능</td><td>eBPF + Sidecar 하이브리드, WASM 필터로 기능 확장</td></tr><tr><td><strong>표준화 및 전략</strong></td><td>상호운용성 부족</td><td>메시 솔루션 간 API/구성 방식 차이, 벤더 종속성 이슈</td><td>툴체인 변경 시 재설계 필요</td><td>SMI 지원 메시 선택, Envoy 기반 구성으로 표준화</td></tr><tr><td></td><td>조직 내 도입 장벽</td><td>SRE, DevOps 팀의 이해 부족 및 진입 장벽 존재</td><td>오·운영 및 정책 미적용, 장기 확산 실패</td><td>단계별 도입, 교육 프로그램 운영, 설계 시 도메인 중심 접근</td></tr></tbody></table><h4 id=요약-정리-4>요약 정리<a hidden class=anchor aria-hidden=true href=#요약-정리-4>#</a></h4><table><thead><tr><th>범주</th><th>주요 이슈 설명</th></tr></thead><tbody><tr><td><strong>성능/확장성</strong></td><td>프록시 구조의 한계로 인한 성능 저하, 트래픽 증가에 따른 병목 발생—eBPF 및 Ambient 구조로 완화 가능</td></tr><tr><td><strong>운영 복잡성</strong></td><td>구성, 정책, 사이드카 운영이 복잡하며, 다중 클러스터 또는 환경에서 운영 자동화 및 관리가 어려움</td></tr><tr><td><strong>보안 문제</strong></td><td>인증서 수명 관리, 정책 충돌 등 보안 정책의 일관성 유지가 어려움—자동화와 검증 체계 필요</td></tr><tr><td><strong>이식성과 호환성</strong></td><td>쿠버네티스 의존성, VM 및 에지 환경 대응 미비 등 다양한 워크로드에 대한 유연한 대응이 도전 과제</td></tr><tr><td><strong>표준화 부족</strong></td><td>솔루션 간 API 불일치 및 벤더 종속성—SMI 등 표준 인터페이스와 추상화 계층 도입이 필요</td></tr><tr><td><strong>조직 내 도입 장벽</strong></td><td>운영팀의 학습 곡선 및 도입 장벽으로 인해 메시 확산이 어려울 수 있음—체계적인 교육과 도입 전략 중요</td></tr></tbody></table><h4 id=도전-과제별-실제-사례-아키텍처>도전 과제별 실제 사례 아키텍처<a hidden class=anchor aria-hidden=true href=#도전-과제별-실제-사례-아키텍처>#</a></h4><h5 id=pinterest---사이드카-오버헤드--ambient-mesh-전환>Pinterest - 사이드카 오버헤드 → Ambient Mesh 전환<a hidden class=anchor aria-hidden=true href=#pinterest---사이드카-오버헤드--ambient-mesh-전환>#</a></h5><p><strong>사례</strong>:</p><ul><li>Pinterest 는 Istio 사이드카 프록시로 인해 <strong>서비스 호출 지연이 평균 12% 증가</strong>함.</li><li>대규모 트래픽 발생 시 CPU/메모리 급상승 문제 발생</li></ul><p><strong>대응 전략/해결 방법</strong>:</p><ul><li>Ambient Mesh PoC 도입하여 TCP-only 서비스에 사이드카 제거.</li><li>프록시 리소스 20~30% 절감</li></ul><pre class=mermaid>flowchart TD
  subgraph Legacy_Sidecar
    A1[App A] --&gt; A2[Envoy Proxy]
    B1[App B] --&gt; B2[Envoy Proxy]
    A2 --&gt;|mTLS| MeshNet
    B2 --&gt;|mTLS| MeshNet
  end

  subgraph Ambient_Mesh
    A3[App A] --&gt; MeshTunnel
    B3[App B] --&gt; MeshTunnel
    MeshTunnel --&gt; MeshNet
  end

  style Legacy_Sidecar fill:#fff5f5,stroke:#f66
  style Ambient_Mesh fill:#f5fff5,stroke:#6f6
</pre><blockquote><p>전환 효과: 사이드카 제거 → CPU 사용량 30% 감소, 네트워크 RTT 10% 단축</p></blockquote><h5 id=t-mobile---multi-cluster-메시-연합-구성>T-Mobile - Multi-cluster 메시 연합 구성<a hidden class=anchor aria-hidden=true href=#t-mobile---multi-cluster-메시-연합-구성>#</a></h5><p><strong>사례</strong>:</p><ul><li>T-Mobile 은 4 개 이상의 K8s 클러스터를 연합 구성하여 운영 중, Istio 에서 <strong>클러스터 간 정책 불일치로 인한 트래픽 누락 현상</strong> 발생</li></ul><p><strong>대응 전략/해결 방법</strong>:</p><ul><li>Istio 의 Multi-primary 구성 + Gateway-based cross-cluster 설정을 통해 네임스페이스 격리 정책 통일</li></ul><pre class=mermaid>flowchart TD
  subgraph Cluster-A
    A1[Service A] --&gt; A2[Ingress Gateway]
  end

  subgraph Cluster-B
    B1[Service B] --&gt; B2[Ingress Gateway]
  end

  A2 &lt;--&gt; B2
  A2 --&gt; CP1[&#34;Istiod (Primary)&#34;]
  B2 --&gt; CP2[&#34;Istiod (Remote)&#34;]

  CP1 ---|Global Policies| CP2
</pre><blockquote><p>Global Control Plane 연동을 통해 다중 클러스터 정책 동기화 달성</p></blockquote><h5 id=autotrader-uk---트레이싱-강화-kiali--otel>AutoTrader UK - 트레이싱 강화 (Kiali + OTEL)<a hidden class=anchor aria-hidden=true href=#autotrader-uk---트레이싱-강화-kiali--otel>#</a></h5><p><strong>사례</strong>:</p><ul><li>AutoTrader UK 는 서비스 간 예외 상황 발생 시 트래픽 경로가 사이드카 경유로 인해 <strong>trace 불완전</strong>, root cause 분석에 2 배 이상 시간 소요</li></ul><p><strong>대응 전략/해결 방법</strong>:</p><ul><li>Kiali + OpenTelemetry + Jaeger 를 통합하여 trace 흐름 시각화, alert 기반 전파 경로 추적 기능 도입</li></ul><pre class=mermaid>flowchart LR
  User --&gt; Proxy1[Envoy A]
  Proxy1 --&gt; App1[Service A]
  App1 --&gt; Proxy2[Envoy B]
  Proxy2 --&gt; App2[Service B]
  Proxy1 &amp; Proxy2 --&gt; OTEL[OpenTelemetry Collector]
  OTEL --&gt; Jaeger[&#34;Jaeger (Tracing UI)&#34;]
  OTEL --&gt; Prom[Prometheus]
  Prom --&gt; Grafana

  subgraph Visualization
    Jaeger --&gt; Kiali
  end
</pre><blockquote><p>장애 원인 트레이싱 소요 시간 60% 단축</p></blockquote><h5 id=skyscanner---aws-app-mesh--smi-기반-메시-전환>Skyscanner - AWS App Mesh → SMI 기반 메시 전환<a hidden class=anchor aria-hidden=true href=#skyscanner---aws-app-mesh--smi-기반-메시-전환>#</a></h5><p><strong>사례</strong>:</p><ul><li>Skyscanner 는 App Mesh 에서 AWS 종속 API 사용으로 인해 멀티 클라우드 이전 시 <strong>완전한 재설계 필요</strong> 상태 발생</li></ul><p><strong>대응 전략/해결 방법</strong>:</p><ul><li>SMI-compatible 메시 (Linkerd) 로 전환, Terraform 기반 클라우드 중립 구성을 병행</li></ul><pre class=mermaid>flowchart TD
  subgraph Vendor_Locked
    C1[Service A] --&gt; C2[AWS App Mesh Proxy]
    C2 --&gt;|AWS SDK/API 종속| AppMeshCP
  end

  subgraph SMI_Based
    D1[Service A] --&gt; D2[Linkerd Proxy]
    D2 --&gt; LinkerdCP[Linkerd Controller]
    LinkerdCP --&gt;|SMI Policy| Kubernetes
  end

  style Vendor_Locked fill:#f9f0ff,stroke:#985eff
  style SMI_Based fill:#f0fff9,stroke:#58b68b
</pre><blockquote><p>멀티클라우드 이전 시 설정 재사용률 80% 달성</p></blockquote><h4 id=도입-전략별-실패-사례-vs-성공-사례-비교>도입 전략별 실패 사례 vs. 성공 사례 비교<a hidden class=anchor aria-hidden=true href=#도입-전략별-실패-사례-vs-성공-사례-비교>#</a></h4><table><thead><tr><th>분류</th><th>실패 사례</th><th>원인</th><th>성공 사례</th><th>핵심 전략 요약</th></tr></thead><tbody><tr><td><strong>운영 전략</strong></td><td>Netflix, Istio 도입 중 운영팀의 이해 부족으로 PoC 중단</td><td>내부 팀의 네트워크·프록시 개념 이해도 부족</td><td>Tetrate, 내부 DevPortal + 템플릿 제공</td><td>운영팀 중심 교육 + 포털 기반 UI 제공</td></tr><tr><td><strong>성능 최적화</strong></td><td>Pinterest, 초기 사이드카 구조에서 CPU 과다 사용</td><td>다수의 프록시 생성으로 노드당 리소스 초과</td><td>Ambient Mesh 도입 + 사이드카 제거</td><td>TCP-only 서비스에 Sidecar-less 구조 적용</td></tr><tr><td><strong>멀티 클러스터</strong></td><td>금융권 메시 연합 구성 실패 (클러스터 간 인증 정책 충돌로 장애)</td><td>클러스터 간 네트워크 불일치 및 인증 체계 분리</td><td>T-Mobile, Istio Multi-primary 구성 성공</td><td>인증 체계 통일 + 정책 제어를 외부 Gateway 기반으로 구성</td></tr><tr><td><strong>관찰성 통합</strong></td><td>일반 OTEL 미적용 시스템, 장애 시 root cause 파악 불가</td><td>사이드카가 트래픽을 변경하여 기존 로깅 시스템으로 추적 불가</td><td>AutoTrader UK, Kiali + OTEL 통합</td><td>트레이싱 기반 원인 추적 시각화 도입</td></tr><tr><td><strong>벤더 종속성</strong></td><td>Skyscanner, App Mesh 종속으로 멀티클라우드 전환 시 코드/정책 재작성 필요</td><td>벤더 API 에 직접 연결된 구조</td><td>Linkerd 로 전환 후, SMI + Terraform 으로 구성 분리</td><td>SMI 기반 메시 선택 + 벤더 추상화 레이어 구성</td></tr><tr><td><strong>레거시 호환성</strong></td><td>Istio 기반 시스템에서 VM 연동 실패 → 외부 구성으로 우회</td><td>쿠버네티스 중심 구성, VM/온프레미스 연동 미흡</td><td>Alibaba Cloud, Consul 기반 메시로 통합</td><td>서비스 디스커버리 기반 메시로 전환, VM/Container 혼합 처리 지원</td></tr></tbody></table><h3 id=ambient-mode-vs-sidecar-mode-비교>Ambient Mode vs. Sidecar Mode 비교<a hidden class=anchor aria-hidden=true href=#ambient-mode-vs-sidecar-mode-비교>#</a></h3><table><thead><tr><th>항목</th><th><strong>Ambient Mode</strong></th><th><strong>Sidecar Mode</strong></th></tr></thead><tbody><tr><td><strong>구현 구조</strong></td><td>노드 단위의 공용 프록시 (<code>ztunnel</code>) + 선택적 L7 프록시 (waypoint proxy) 사용</td><td>각 서비스 Pod 에 프록시 (Envoy 등) 를 <strong>사이드카로 주입</strong></td></tr><tr><td><strong>트래픽 처리 방식</strong></td><td>L4: ztunnel 이 처리<br>L7: waypoint proxy 필요 시만 사용</td><td>L4/L7 트래픽을 모두 사이드카 프록시가 처리</td></tr><tr><td><strong>프록시 위치</strong></td><td>노드 레벨 (DaemonSet), 서비스별 공유</td><td>서비스마다 별도 존재 (Pod 내부 프록시)</td></tr><tr><td><strong>자원 사용량</strong></td><td>낮음 (프록시 공유로 인한 절감)</td><td>높음 (서비스 수만큼 프록시 인스턴스 필요)</td></tr><tr><td><strong>지연 시간 (Latency)</strong></td><td>낮음 (프록시 수 감소, 경로 최적화)</td><td>상대적으로 높음 (트래픽마다 프록시 → 앱 경로 존재)</td></tr><tr><td><strong>보안 처리 방식</strong></td><td>ztunnel 에서 L4 보안 (mTLS) 적용 L7 보안은 선택</td><td>프록시에서 TLS, 인증, ACL 모두 적용</td></tr><tr><td><strong>정책 적용 범위</strong></td><td>네임스페이스/워크로드 레벨 정책 적용, <strong>L4/L7 분리 적용 가능</strong></td><td>프록시 단위의 세밀한 정책 제어</td></tr><tr><td><strong>운영 복잡성</strong></td><td>낮음 (사이드카 주입, 버전 관리 불필요)</td><td>높음 (프록시 버전 관리, 주입 실패 이슈 등)</td></tr><tr><td><strong>서비스 메시 적용성</strong></td><td><strong>부분 적용 가능</strong>, Gradual onboarding 용이</td><td>대부분 전면 적용 필요 (모든 서비스에 사이드카 주입 필요)</td></tr><tr><td><strong>업데이트/배포 전략</strong></td><td>중앙화된 프록시 구성으로 업데이트 쉬움 (ZTunnel, Waypoint rolling update)</td><td>서비스 재배포 필수 (프록시 이미지 변경 시 전체 Pod 재시작 필요)</td></tr><tr><td><strong>디버깅/관찰성</strong></td><td>ztunnel/waypoint 로그 중앙화로 디버깅 효율성 ↑</td><td>사이드카 단위 로그/메트릭 수집 필요, 복잡도 ↑</td></tr><tr><td><strong>실제 적용 사례</strong></td><td>Istio Ambient Mesh (2022~), Cilium Service Mesh (eBPF 기반 L4 프록시)</td><td>Istio (기본 사이드카 모드), Linkerd, Consul Connect</td></tr><tr><td><strong>적합한 환경</strong></td><td><strong>대규모 서비스, 리소스 최적화 중요, 점진적 도입 환경</strong></td><td><strong>고관찰성/정밀 제어가 필요한 환경</strong>, 강력한 트래픽 정책 및 인증/인가 필요 시</td></tr></tbody></table><ul><li><strong>Ambient Mode</strong>는 <strong>운영 효율성과 리소스 절감</strong>에 강점을 가지며, 사이드카의 오버헤드를 제거함으로써 <strong>배포 복잡성과 비용을 줄일 수 있는 차세대 방식</strong>이다. 특히 대규모 클러스터나 점진적 메시 도입에 적합하다.</li><li><strong>Sidecar Mode</strong>는 <strong>정밀한 트래픽 제어와 보안 정책 적용</strong>에 강점을 가지며, 각 서비스 단위로 <strong>세밀한 설정과 확장 기능을 요구하는 환경</strong>에서 여전히 유효하다.</li></ul><h3 id=service-mesh-기능-비교>Service Mesh 기능 비교<a hidden class=anchor aria-hidden=true href=#service-mesh-기능-비교>#</a></h3><table><thead><tr><th>항목</th><th><strong>Istio</strong></th><th><strong>Linkerd</strong></th><th><strong>Consul Connect</strong></th><th><strong>Cilium</strong></th><th><strong>AWS App Mesh</strong></th></tr></thead><tbody><tr><td>프록시 구조</td><td>사이드카 / 앰비언트</td><td>사이드카 전용</td><td>사이드카 / 프록시리스</td><td>프록시리스 (eBPF)</td><td>사이드카 전용</td></tr><tr><td>제어 플레인</td><td>완전 통합형</td><td>경량형</td><td>통합 가능 (Nomad/K8s)</td><td>별도 제어 플레인 없음</td><td>완전 관리형</td></tr><tr><td>프록시 엔진</td><td>Envoy</td><td>자체 프록시 (<code>linkerd2-proxy</code>)</td><td>Envoy</td><td>eBPF</td><td>Envoy</td></tr><tr><td>보안 기능</td><td>mTLS, OPA, 인증/인가</td><td>기본 mTLS 제공</td><td>mTLS + ACL</td><td>eBPF 레벨 제어</td><td>mTLS, IAM 통합</td></tr><tr><td>트래픽 제어 기능</td><td>Advanced (A/B, Canary, Mirroring)</td><td>기본 라우팅 지원</td><td>L7 라우팅 제공</td><td>제한적 (L4 수준 eBPF)</td><td>기본 제공</td></tr><tr><td>관찰성 기능</td><td>Prometheus, Grafana, Jaeger</td><td>Prometheus + Grafana</td><td>Consul UI + 외부 통합 가능</td><td>Hubble (eBPF 기반)</td><td>CloudWatch 등 AWS 연계</td></tr><tr><td>멀티 클러스터 지원</td><td>지원 (Gateway or VPN)</td><td>제한적</td><td>지원 (WAN Federation)</td><td>제한적</td><td>VPC 기반 지원</td></tr><tr><td>운영 복잡도</td><td>높음</td><td>낮음</td><td>중간</td><td>낮음</td><td>매우 낮음</td></tr><tr><td>플랫폼 지원</td><td>K8s + VM</td><td>K8s 전용</td><td>K8s + VM</td><td>K8s 전용</td><td>AWS VPC 내부 서비스 전용</td></tr><tr><td>커뮤니티/상용 여부</td><td>오픈소스 / 상용 도구 다수</td><td>오픈소스</td><td>오픈소스 + HashiCorp</td><td>오픈소스</td><td>상용 (AWS 관리형)</td></tr></tbody></table><h4 id=선택-가이드-deployment-decision-guide>선택 가이드 (Deployment Decision Guide)<a hidden class=anchor aria-hidden=true href=#선택-가이드-deployment-decision-guide>#</a></h4><table><thead><tr><th>조건 / 요구사항</th><th>적합 솔루션</th><th>비고</th></tr></thead><tbody><tr><td><strong>Canary, A/B 배포, 세밀한 라우팅 필요</strong></td><td>Istio, AWS App Mesh</td><td>복잡한 트래픽 정책 구현</td></tr><tr><td><strong>빠른 설치 및 운영 단순화 우선</strong></td><td>Linkerd</td><td>초기 도입, 교육 비용 낮음</td></tr><tr><td><strong>멀티 플랫폼 (K8s + VM) 연동 필요</strong></td><td>Consul, Istio</td><td>VM 서비스 통합 시 필요</td></tr><tr><td><strong>제로 트러스트 및 고급 보안 정책 필요</strong></td><td>Istio + OPA</td><td>인증/인가 정책 통합 가능</td></tr><tr><td><strong>프록시 오버헤드 줄이고 싶음 (고성능)</strong></td><td>Cilium</td><td>eBPF 기반</td></tr><tr><td><strong>멀티 클러스터 간 통신 필요</strong></td><td>Istio, Consul</td><td>VPN, Mesh Gateway 활용</td></tr><tr><td><strong>전체 AWS 에 통합된 서비스 운영 예정</strong></td><td>AWS App Mesh</td><td>AWS ALB, ECS, Fargate 등 연계</td></tr><tr><td><strong>코드에 직접 메시 기능 삽입해야 함 (Spring 등)</strong></td><td>Spring Cloud (Proxy-less)</td><td>마이크로서비스 SDK 기반 방식</td></tr></tbody></table><h4 id=적합-아키텍처-추천-architecture-use-cases>적합 아키텍처 추천 (Architecture Use Cases)<a hidden class=anchor aria-hidden=true href=#적합-아키텍처-추천-architecture-use-cases>#</a></h4><table><thead><tr><th>아키텍처 시나리오</th><th>추천 Service Mesh</th><th>아키텍처 구성 방식 요약</th></tr></thead><tbody><tr><td><strong>Kubernetes 기반 마이크로서비스 관찰 + 보안 통합</strong></td><td><strong>Istio</strong></td><td>Sidecar + Envoy + Control Plane, Prometheus/Grafana 연동</td></tr><tr><td><strong>경량화된 마이크로서비스 간 통신 제어 + 빠른 운영</strong></td><td><strong>Linkerd</strong></td><td>사이드카 기반, 단순화된 설치 및 기본 mTLS/메트릭 제공</td></tr><tr><td><strong>K8s + VM 혼합 클러스터 통합 서비스 메시</strong></td><td><strong>Consul Connect</strong></td><td>서비스 디스커버리 중심, ACL 기반 보안, 외부 서비스 연계 가능</td></tr><tr><td><strong>퍼블릭 클라우드 기반 서비스 (AWS)</strong></td><td><strong>AWS App Mesh</strong></td><td>관리형 서비스 메시, Envoy 프록시 자동 구성, IAM 인증 연계</td></tr><tr><td><strong>고성능, 네이티브 L4 수준 메시 필요 (프록시리스)</strong></td><td><strong>Cilium + Hubble</strong></td><td>eBPF 기반 사이드카 제거형, 고속 네트워크 제어와 관찰성 제공</td></tr><tr><td><strong>Spring 기반 모놀리식 → 마이크로서비스 점진 이전</strong></td><td><strong>Spring Cloud Gateway + Netflix OSS</strong></td><td>프록시 없는 라이브러리 기반 구성, 코드 내 직접 메시 지원</td></tr></tbody></table><h3 id=분류-기준에-따른-종류-및-유형>분류 기준에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#분류-기준에-따른-종류-및-유형>#</a></h3><table><thead><tr><th><strong>분류 기준</strong></th><th><strong>유형</strong></th><th><strong>특징/설명</strong></th><th><strong>대표 솔루션</strong></th></tr></thead><tbody><tr><td><strong>프록시 방식</strong></td><td>사이드카 (Sidecar)</td><td>서비스마다 별도 프록시 주입 (프록시 컨테이너)</td><td>Istio, Linkerd, Consul</td></tr><tr><td></td><td>프록시리스 (Proxy-less)</td><td>프록시 제거, 라이브러리/SDK 형태로 직접 구현</td><td>Consul (Connect), Spring Cloud</td></tr><tr><td></td><td>노드 공유형 (Shared Node)</td><td>노드 단위로 하나의 프록시가 여러 서비스 처리</td><td>Istio Ambient Mesh, Cilium (eBPF)</td></tr><tr><td><strong>아키텍처 복잡도</strong></td><td>경량형 (Lightweight)</td><td>필수 기능만 제공, 간단한 설정, 빠른 도입 가능</td><td>Linkerd, Kuma</td></tr><tr><td></td><td>고기능형 (Fully-featured)</td><td>고급 트래픽 제어, 보안, 정책 관리, 멀티 클러스터 지원 등 통합 기능 제공</td><td>Istio, AWS App Mesh</td></tr><tr><td><strong>배포 환경</strong></td><td>Kubernetes 전용</td><td>K8s 에 최적화된 통합, CRD 기반 정책 관리</td><td>Linkerd 2.x, OSM</td></tr><tr><td></td><td>멀티 플랫폼/하이브리드</td><td>K8s + VM, 클라우드 환경 통합 지원</td><td>Istio, Consul</td></tr><tr><td><strong>제어 플레인 구조</strong></td><td>통합형</td><td>API Gateway, 보안, 정책 등 통합 제어</td><td>Istio, Gloo Mesh</td></tr><tr><td></td><td>경량 제어 플레인</td><td>최소 구성, 간단한 정책 적용</td><td>Linkerd, OSM</td></tr><tr><td><strong>보안 모델</strong></td><td>mTLS 전용</td><td>인증/암호화에 집중, 네트워크 보안 중심</td><td>Linkerd, Kuma</td></tr><tr><td></td><td>확장형 (OPA 등 포함)</td><td>인증, 권한 정책, 감사 로그 등 보안 모델 확장 가능</td><td>Istio(+OPA), Consul ACL</td></tr><tr><td><strong>설치 방식</strong></td><td>오픈소스 설치형</td><td>직접 설치 및 운영, 커뮤니티 기반</td><td>Istio, Linkerd, Consul</td></tr><tr><td></td><td>상용 솔루션/관리형</td><td>퍼블릭 클라우드 기반 완전 관리형</td><td>AWS App Mesh, Gloo Mesh</td></tr><tr><td><strong>프록시 구현체</strong></td><td>Envoy 기반</td><td>고성능, 고확장성, 다양한 필터 체인 지원</td><td>Istio, AWS App Mesh, Gloo Mesh</td></tr><tr><td></td><td>경량 자체 구현</td><td>빠른 성능, 간단한 구조</td><td>Linkerd-proxy, Kuma-dp</td></tr><tr><td><strong>연동 방식</strong></td><td>라이브러리 기반</td><td>라이브러리 형태로 직접 연동, 어플리케이션과 강한 결합</td><td>Spring Cloud, Netflix OSS</td></tr><tr><td></td><td>플랫폼 내장형 (PaaS 통합)</td><td>플랫폼에 서비스 메시 기능 내장</td><td>Azure Service Fabric, Lagom</td></tr><tr><td><strong>운영 형태</strong></td><td>단일 클러스터</td><td>단일 K8s 클러스터 내에서 통신 및 제어</td><td>대부분의 기본형 Service Mesh</td></tr><tr><td></td><td>멀티 클러스터</td><td>여러 클러스터 간 서비스 간 연결 및 정책 통합 지원</td><td>Istio, Consul</td></tr></tbody></table><h4 id=요약-정리-5>요약 정리<a hidden class=anchor aria-hidden=true href=#요약-정리-5>#</a></h4><table><thead><tr><th><strong>카테고리</strong></th><th><strong>핵심 요약</strong></th></tr></thead><tbody><tr><td>프록시 구조</td><td><strong>사이드카</strong>, <strong>프록시리스</strong>, <strong>공유형</strong>으로 나뉘며, 리소스 및 제어 방식에 따라 선택</td></tr><tr><td>아키텍처 복잡도</td><td><strong>경량형</strong>은 빠른 도입과 간결성, <strong>고기능형</strong>은 복잡한 시나리오 대응에 적합</td></tr><tr><td>배포 환경</td><td><strong>Kubernetes 전용</strong> 또는 <strong>멀티 플랫폼</strong> 지원 여부에 따라 연동 전략 구분</td></tr><tr><td>제어 평면 설계</td><td><strong>통합형</strong>은 정책/트래픽/보안 통합 관리, <strong>경량형</strong>은 단순 구성과 빠른 반응에 유리</td></tr><tr><td>보안 모델</td><td><strong>mTLS 전용</strong> 또는 <strong>OPA/ACL</strong>을 포함한 확장 보안 지원 모델 구분</td></tr><tr><td>설치 및 운영 형태</td><td>오픈소스 자가 설치 또는 클라우드 기반 <strong>관리형 서비스</strong> 여부에 따라 운영 복잡도 상이</td></tr><tr><td>프록시 구현체</td><td><strong>Envoy</strong>가 주류이나, <strong>경량 자체 프록시</strong>도 활용됨 (성능 중시 시)</td></tr><tr><td>연동 방식</td><td>SDK 기반 또는 PaaS 내장형으로도 구현 가능, 운영 환경과 밀접하게 연관됨</td></tr><tr><td>멀티 클러스터 지원 여부</td><td>단일 클러스터에서 시작하여 <strong>멀티 클러스터</strong> 연동은 엔터프라이즈 환경에서 고려됨</td></tr></tbody></table><h3 id=실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>항목</strong></th><th><strong>고려사항 / 설명</strong></th><th><strong>권장 사항</strong></th></tr></thead><tbody><tr><td><strong>도입 전략</strong></td><td>점진적 마이그레이션</td><td>모든 서비스에 일괄 적용 시 장애 위험</td><td>파일럿 서비스 선정 → 핵심 서비스로 확산 GitOps 기반 롤백 전략 수립</td></tr><tr><td></td><td>도입 범위 설정</td><td>전면 도입 vs 단계별 도입 선택 필요</td><td>서비스 영향도 기반 우선순위 설정</td></tr><tr><td><strong>성능 관리</strong></td><td>프록시 오버헤드</td><td>사이드카 프록시로 인한 CPU/메모리 소비 증가</td><td>리소스 제한 설정 (limit/request), 성능 테스트, 사이드카리스 옵션 비교</td></tr><tr><td></td><td>네트워크 튜닝</td><td>커넥션 풀, 타임아웃, keepalive 등 미세 조정 필요</td><td><code>outlierDetection</code>, <code>connPool</code>, <code>timeout</code> 설정 최적화</td></tr><tr><td></td><td>메트릭/로그 과다</td><td>과도한 수집 → 저장소 부담, 성능 저하</td><td>샘플링 비율 조정, 로그 필터링, 보존 기간 설정</td></tr><tr><td><strong>보안 설정</strong></td><td>인증서 관리</td><td>mTLS 인증서 만료, 자동 갱신 실패 시 통신 중단 가능</td><td>cert-manager, Citadel 연동단명 인증서 + 자동 순환 + 상태 알림 구성</td></tr><tr><td></td><td>제로 트러스트 모델</td><td>내부 통신도 반드시 인증 및 암호화 적용 필요</td><td>mTLS + ACL/OPA 정책 적용, 상호 인증 상태 시각화</td></tr><tr><td></td><td>컨트롤 플레인 보안</td><td>제어 플레인에 대한 공격 가능성 존재</td><td>RBAC 적용, 네트워크 정책 구성, 감사 로깅</td></tr><tr><td><strong>운영 자동화</strong></td><td>사이드카 자동 주입</td><td>자동 주입 실패 시 통신 불가 → 비즈니스 영향</td><td>Istio Injector 또는 Helm/Operator 기반 구성 검증</td></tr><tr><td></td><td>정책 적용 자동화</td><td>버전 불일치, 정책 충돌로 인한 장애 가능성</td><td>테스트 클러스터에서 사전 Canary 적용 → 본배포 CI/CD 연동 자동 검증</td></tr><tr><td></td><td>제어 플레인 고가용성</td><td>단일 제어 노드 장애 시 전체 정책 적용 중단</td><td>복수 제어 노드 구성, 멀티 클러스터 플레인 구성</td></tr><tr><td><strong>관찰성</strong></td><td>통합 관찰 도구 연계</td><td>관찰성 도구 미비 시 장애 분석 어려움</td><td>OpenTelemetry 기반 통합 (Prometheus, Grafana, Jaeger, Kiali 등)</td></tr><tr><td></td><td>로그/트레이싱 관리</td><td>저장소 및 비용 부담, 필터링 없이 수집 시 비효율</td><td><code>샘플링 조정 + 로그 레벨별 필터 + 대시보드 연동</code> 최적화</td></tr><tr><td><strong>조직 역량</strong></td><td>운영 팀 교육/훈련</td><td>메시 설정 및 정책 구성 오류 가능성 높음</td><td>단계별 교육 (기초 → 고급), 실습 환경 제공, 운영 Runbook/문서화</td></tr><tr><td></td><td>DevOps/SRE 협업</td><td>메시 운영은 인프라 + 어플리케이션 협업 필요</td><td>도입 초기부터 운영/개발 연계된 협업 체계 구축</td></tr><tr><td><strong>장애 대응</strong></td><td>프록시/정책 장애</td><td>설정 오류, 프록시 다운 시 전체 통신 불가</td><td><code>livenessProbe</code> 설정, 재시작 전략 구성, 롤백 가능한 GitOps 방식 적용</td></tr><tr><td></td><td>백업/우회 계획</td><td>전체 메시 다운 시 비상 통신 경로 확보 필요</td><td>Sidecar 제거 시나리오, 레거시 라우팅 경로 유지, 비활성화 fallback 경로 설정</td></tr><tr><td><strong>네트워크 구성</strong></td><td>CNI 및 프록시 충돌 이슈</td><td>메시 프록시와 네트워크 플러그인 간 충돌 가능</td><td>Calico, Cilium 등 CNI 와의 호환성 테스트 및 구성 문서화</td></tr></tbody></table><h4 id=요약-정리-6>요약 정리<a hidden class=anchor aria-hidden=true href=#요약-정리-6>#</a></h4><table><thead><tr><th><strong>카테고리</strong></th><th><strong>핵심 요약 문장</strong></th></tr></thead><tbody><tr><td>도입 전략</td><td>무중단 도입을 위해 점진적 확산 전략 수립과 파일럿 서비스 테스트가 필수이다.</td></tr><tr><td>성능 관리</td><td>프록시 자원 사용과 네트워크 설정 최적화 없이는 전체 시스템 성능 저하로 이어질 수 있다.</td></tr><tr><td>보안</td><td>인증서 자동 갱신, mTLS, 정책 분리는 필수이며, 보안 감사와 제어 평면 보호가 중요하다.</td></tr><tr><td>운영 자동화</td><td>사이드카 주입, 정책 적용, 고가용성 제어 플레인은 모두 자동화 및 안정화가 필요하다.</td></tr><tr><td>관찰성</td><td>OpenTelemetry 기반의 통합 관찰 도구 연동 없이는 문제 추적이 어려워진다.</td></tr><tr><td>조직 역량</td><td>운영팀의 교육과 문서화, 협업 기반의 구조 설계가 도입 성공의 핵심이다.</td></tr><tr><td>장애 대응</td><td>메시 장애 시를 대비한 <code>롤백</code>, <code>비활성화 시나리오</code>, <code>프록시 우회 경로</code> 구성은 필수이다.</td></tr><tr><td>네트워크 구성</td><td>네트워크 CNI 와 메시 구성의 호환성 확보는 성능과 안정성에 직결된다.</td></tr></tbody></table><h3 id=최적화하기-위한-고려사항-및-주의할-점>최적화하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#최적화하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>카테고리</th><th>최적화 대상</th><th>주요 고려사항 및 설명</th><th>권장 사항</th></tr></thead><tbody><tr><td>성능 최</td><td>사이드카 프록시 설정</td><td>Envoy 리소스 소모를 줄이기 위한 커넥션 풀, 타임아웃, 버퍼 등 최적화</td><td>커넥션 풀 조정, 버퍼 크기 최적화, Keep-alive 설정, 필요 기능만 활성화</td></tr><tr><td>리소스</td><td>리소스 할당 / 제한</td><td>과도한 사이드카 리소스 소모 방지 및 효율적인 사용 (메모리/CPU 과소 or 과다 할당 주의)</td><td>HPA/VPA 적용, requests/limits 설정, 불필요 기능 비활성화, 워크로드별 설정 적용</td></tr><tr><td>네트워크 적화</td><td>트래픽 경로 및 지역성 라우팅</td><td>사이드카 간 과도한 홉, 비효율적 경로, 글로벌/다중 리전 환경에서의 RTT 증가 등 고려</td><td>eBPF, Ambient Mesh, 지역성 기반 라우팅, CDN 활용, Protocol 최적화</td></tr><tr><td>보 화</td><td>mTLS, 제로 트러스트 구현</td><td>보안 설정 누락, TLS 부하 증가, 권한 관리 미흡 등 문제 발생 가능</td><td>PeerAuthentication STRICT 적용, RBAC/ABAC 정책 기반 접근제어, 인증 자동화</td></tr><tr><td>관 최적화</td><td>메트릭/로그/트레이싱 수집</td><td>과도한 수집 → 성능 저하 / 저장소 부하 / 네트워크 트래픽 증가</td><td>수집 항목 필터링, 샘플링 비율 (10%) 적용, 불필요 라벨 제거, scrape 간격 증가</td></tr><tr><td>최적화</td><td>트래픽/보안 정책 구성</td><td>정책이 복잡하거나 중복될 경우 성능 저하 및 디버깅 어려움 발생</td><td>선언형 정책 정비, A/B 테스트 범위 제한, 정책 TTL 설정, 테스트 정책 우선 적용</td></tr><tr><td>및 운영</td><td>자동화 및 버전 관리</td><td>수동 설정 시 실수 발생, 업그레이드 시 하위 호환성 주의</td><td>GitOps + ArgoCD, Canary 배포, 구성 변경 이력 추적 및 롤백 가능성 확보 제어 플레인 관리 제어 플레인 관리</td></tr></tbody></table><h4 id=요약-정리-7>요약 정리<a hidden class=anchor aria-hidden=true href=#요약-정리-7>#</a></h4><table><thead><tr><th>핵심 영역</th><th>요약 설명</th></tr></thead><tbody><tr><td><strong>성능 최적화</strong></td><td>사이드카 (Envoy) 설정을 통해 트래픽 처리 효율을 높이고 자원 낭비를 방지해야 함.</td></tr><tr><td><strong>리소스 관리</strong></td><td>HPA/VPA 와 request/limit 설정으로 각 마이크로서비스와 사이드카 자원의 균형 필요.</td></tr><tr><td><strong>네트워크 최적화</strong></td><td>불필요한 네트워크 홉을 줄이고 지역성 기반으로 지연시간을 최소화하는 라우팅 구성 필요.</td></tr><tr><td><strong>보안 강화</strong></td><td>mTLS 를 기본으로 설정하고 최소 권한 정책을 자동화 도구와 연계해 유지해야 함.</td></tr><tr><td><strong>관찰성 최적화</strong></td><td>수집 대상과 수집량을 제한하고 샘플링 및 저장소 부하 분산 전략이 필요함.</td></tr><tr><td><strong>정책 간소화</strong></td><td>정책 중복 최소화와 테스트/실험 정책은 TTL 등 유효성 기반으로 관리해야 함.</td></tr><tr><td><strong>운영 자동화</strong></td><td>수동 작업 최소화, 자동 롤백, 구성 이력 추적 등의 자동화를 GitOps 도구와 연계해야 함.</td></tr><tr><td><strong>제어 평면 안정화</strong></td><td>Control Plane 의 고가용성 확보와 구성 전파 트래픽 제어가 필요함.</td></tr></tbody></table><h3 id=실무-적용-예시>실무 적용 예시<a hidden class=anchor aria-hidden=true href=#실무-적용-예시>#</a></h3><table><thead><tr><th><strong>분류</strong></th><th><strong>사용 목적</strong></th><th><strong>함께 사용되는 기술</strong></th><th><strong>기대 효과 / 실현 기능</strong></th></tr></thead><tbody><tr><td>** 트래픽 관리**</td><td>Canary 배포, A/B 테스트</td><td>Istio, Kubernetes, GitOps, Argo Rollouts</td><td>버전별 트래픽 분할 (10→90%), 점진 배포, 위험 최소화</td></tr><tr><td></td><td>Circuit Breaker, Retry 설정</td><td>Istio, Envoy, E-commerce 시스템</td><td>장애 복구, 서비스 연속성 강화</td></tr><tr><td></td><td>트래픽 분산 및 L7 라우팅</td><td>Istio, Linkerd, Envoy, NGINX</td><td>안정적 라우팅, 비즈니스 별 분기 정책 구현</td></tr><tr><td>** 보안 강화**</td><td>서비스 간 mTLS 암호화 및 인증</td><td>Istio, Linkerd, Consul, Zero Trust Architecture</td><td>무결성 보장, 제로 트러스트 보안 모델, TLS 자동화</td></tr><tr><td></td><td>외부 인증 흐름 통합</td><td>Istio + FastAPI (External AuthZ)</td><td>서비스 외부에서 인증 처리, 정책 유연성 확보</td></tr><tr><td></td><td>VM + K8s 통신 보안 통합</td><td>Istio, Consul Connect</td><td>온프레미스 - 클라우드 통합 보안, 하이브리드 환경 지원</td></tr><tr><td>** 관찰성 및 추적**</td><td>실시간 메트릭 수집 및 대시보드</td><td>Prometheus, Grafana, Istio, Linkerd</td><td>성능 모니터링, 대시보드 기반 운영 개선</td></tr><tr><td></td><td>분산 트레이싱 및 장애 추적</td><td>Jaeger, Kiali, Envoy</td><td>서비스 간 호출 추적, 지연 원인 분석</td></tr><tr><td></td><td>에지 레벨 고성능 네트워크 관찰</td><td>Cilium + Hubble</td><td>eBPF 기반 관찰성, Sidecar-less 통신 추적 가능</td></tr><tr><td>** 운영 효율화**</td><td>GitOps 기반 배포 자동화</td><td>ArgoCD, Helm, Istio</td><td>배포 일관성, 자동화된 릴리즈 전략 구현</td></tr><tr><td></td><td>사이드카 없는 경량 메시 운영</td><td>Envoy + gRPC, Cilium (eBPF)</td><td>레이턴시 감소, 리소스 절약, 운영 간소화</td></tr><tr><td></td><td>SaaS / PaaS 서비스 통합 관리</td><td>AWS App Mesh, EKS</td><td>고가용성, 운영 자동화, 클라우드 자원 최적화</td></tr><tr><td>** 아키텍처 유연성**</td><td>멀티 클러스터/멀티 플랫폼 연동</td><td>Istio, Consul, Mesh Gateway, Federation</td><td>클러스터 간 연결 및 일관된 정책 적용, 하이브리드 환경 대응</td></tr><tr><td></td><td>레거시 시스템 연동</td><td>Consul Connect (VM + K8s)</td><td>VM 기반 시스템 연계, 점진적 마이그레이션</td></tr></tbody></table><h4 id=요약-정리-8>요약 정리<a hidden class=anchor aria-hidden=true href=#요약-정리-8>#</a></h4><table><thead><tr><th><strong>카테고리</strong></th><th><strong>핵심 요약</strong></th></tr></thead><tbody><tr><td><strong>트래픽 제어</strong></td><td>Canary, Circuit Breaker, A/B 테스트 등 <strong>고급 트래픽 정책</strong> 구현</td></tr><tr><td><strong>보안 강화</strong></td><td>서비스 간 <strong>자동화된 mTLS</strong>, 외부 인증 서버 통합, VM 연계 보안</td></tr><tr><td><strong>관찰성 향상</strong></td><td><strong>실시간 메트릭 수집</strong>, <strong>분산 트레이싱</strong>, eBPF 기반 고성능 네트워크 가시화</td></tr><tr><td><strong>운영 자동화</strong></td><td><strong>GitOps 기반 배포</strong>, <strong>사이드카 제거</strong>, <strong>클라우드 운영 최적화</strong></td></tr><tr><td><strong>유연한 아키텍처</strong></td><td><strong>멀티 클러스터 및 하이브리드 환경</strong> 지원, 레거시 시스템과의 연동 유연성 확보</td></tr></tbody></table><h3 id=활용-사례>활용 사례<a hidden class=anchor aria-hidden=true href=#활용-사례>#</a></h3><h4 id=사례-1-kubernetes-기반-대형-전자상거래-서비스에-istio-도입>사례 1: Kubernetes 기반 대형 전자상거래 서비스에 Istio 도입<a hidden class=anchor aria-hidden=true href=#사례-1-kubernetes-기반-대형-전자상거래-서비스에-istio-도입>#</a></h4><p><strong>시나리오</strong>:</p><p>Kubernetes 기반 대형 전자상거래 서비스에 Istio 도입,</p><ul><li>외부 (고객) 트래픽은 API Gateway 로,</li><li>내부 서비스간 트래픽은 Istio Service Mesh 가 mTLS 로 암호화, 장애 시 자동 재시도/우회,</li><li>관리자는 대시보드로 서비스 간 지연, 장애, 인증 상태를 시각적 모니터링</li></ul><p><strong>시스템 구성</strong></p><pre class=mermaid>flowchart LR
    User --&gt; APIGW(&#34;API Gateway&#34;)
    APIGW --&gt; S1[&#34;(Pod) Order Service\n+ Sidecar&#34;]
    APIGW --&gt; S2[&#34;(Pod) Product Service\n+ Sidecar&#34;]
    APIGW --&gt; S3[&#34;(Pod) Payment Service\n+ Sidecar&#34;]
    
    S1 &lt;--&gt; S2
    S1 &lt;--&gt; S3
    
    ControlPlane(&#34;Istio Control Plane&#34;) -.-&gt; S1
    ControlPlane -.-&gt; S2
    ControlPlane -.-&gt; S3
</pre><p><strong>유무 비교:</strong><br>Service Mesh 미사용 시: 각 서비스마다 인증/보안/장애처리 코드 내장 필요, 가시성/관리가 어려움<br>Service Mesh 도입 후: 인프라 계층 일원화 관리, 장애 복원, 실시간 시각화, 인증 자동화</p><p><strong>구현 예시</strong>:</p><ul><li>YAML 선언식 구현 예시 (트래픽 라우팅 정책, Istio VirtualService)</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1> 1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2> 2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3> 3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4> 4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5> 5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6> 6</a>
</span><span class=lnt id=hl-16-7><a class=lnlinks href=#hl-16-7> 7</a>
</span><span class=lnt id=hl-16-8><a class=lnlinks href=#hl-16-8> 8</a>
</span><span class=lnt id=hl-16-9><a class=lnlinks href=#hl-16-9> 9</a>
</span><span class=lnt id=hl-16-10><a class=lnlinks href=#hl-16-10>10</a>
</span><span class=lnt id=hl-16-11><a class=lnlinks href=#hl-16-11>11</a>
</span><span class=lnt id=hl-16-12><a class=lnlinks href=#hl-16-12>12</a>
</span><span class=lnt id=hl-16-13><a class=lnlinks href=#hl-16-13>13</a>
</span><span class=lnt id=hl-16-14><a class=lnlinks href=#hl-16-14>14</a>
</span><span class=lnt id=hl-16-15><a class=lnlinks href=#hl-16-15>15</a>
</span><span class=lnt id=hl-16-16><a class=lnlinks href=#hl-16-16>16</a>
</span><span class=lnt id=hl-16-17><a class=lnlinks href=#hl-16-17>17</a>
</span><span class=lnt id=hl-16-18><a class=lnlinks href=#hl-16-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># istio-virtualservice.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.istio.io/v1beta1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>VirtualService</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>product-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>product-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>route</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>destination</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>product-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>subset</span><span class=p>:</span><span class=w> </span><span class=l>v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>weight</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>destination</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>product-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>subset</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>weight</span><span class=p>:</span><span class=w> </span><span class=m>20</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>80% 는 새로운 v2, 20% 는 기존 v1 로 분할 배포 (카나리 배포 예시), 정책 선언만으로 운영 수준 트래픽 제어</p></blockquote><h4 id=사례-2-멀티-클러스터-전자상거래-서비스>사례 2: 멀티 클러스터 전자상거래 서비스<a hidden class=anchor aria-hidden=true href=#사례-2-멀티-클러스터-전자상거래-서비스>#</a></h4><p><strong>아키텍처 & Workflow</strong>:</p><pre class=mermaid>graph LR
  subgraph Cluster-A
    SvcA1 --- SidecarA1
    SvcA2 --- SidecarA2
  end
  subgraph Cluster-B
    SvcB1 --- SidecarB1
  end
  SidecarA1 &lt;--&gt; SidecarB1
  ControlPlaneA &amp; ControlPlaneB &lt;--&gt; SharedControlPlane
</pre><ul><li><strong>Cluster A ↔ Cluster B 사이의 mTLS 통신</strong></li><li><strong>Control Plane 은 공유 혹은 페더레이션 구조</strong></li><li>**서비스 간의 클러스터 간 호출이 정책적으로 허용됨</li></ul><p><strong>사용 목적</strong>: 데이터 지역성 유지 + 글로벌 트래픽 관리</p><p><strong>장점</strong>: 클러스터 경계를 넘는 mTLS 보안 유지, 글로벌 정책 일관성</p><p><strong>차이점</strong>: 메시 없이 서비스 간 직접 호출 시 보안·관찰성 미흡 → 메시 도입으로 정책 수준 통제 가능</p><p><strong>구현 예시</strong>:</p><ul><li>Istio 멀티 클러스터 구성 주요 목표</li></ul><table><thead><tr><th>구성 요소</th><th>설명</th></tr></thead><tbody><tr><td><strong>Sidecar</strong></td><td>각 서비스 옆에 위치하여 통신 관리를 담당 (Envoy 프록시)</td></tr><tr><td><strong>Shared Control Plane</strong></td><td>각 클러스터와 연동되어 글로벌 정책을 배포/제어</td></tr><tr><td><strong>ServiceEntry</strong></td><td>외부 (다른 클러스터) 의 서비스 정의 및 접근 허용</td></tr><tr><td><strong>DestinationRule</strong></td><td>클러스터 간 mTLS 정책 설정</td></tr><tr><td><strong>VirtualService</strong></td><td>트래픽 라우팅 정의 (클러스터 경계를 넘는 경우 포함)</td></tr></tbody></table><ul><li>Istio 멀티 클러스터 설정 예시<ul><li><p>ServiceEntry (Cluster A → Cluster B 서비스 호출 허용)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1> 1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2> 2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3> 3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4> 4</a>
</span><span class=lnt id=hl-18-5><a class=lnlinks href=#hl-18-5> 5</a>
</span><span class=lnt id=hl-18-6><a class=lnlinks href=#hl-18-6> 6</a>
</span><span class=lnt id=hl-18-7><a class=lnlinks href=#hl-18-7> 7</a>
</span><span class=lnt id=hl-18-8><a class=lnlinks href=#hl-18-8> 8</a>
</span><span class=lnt id=hl-18-9><a class=lnlinks href=#hl-18-9> 9</a>
</span><span class=lnt id=hl-18-10><a class=lnlinks href=#hl-18-10>10</a>
</span><span class=lnt id=hl-18-11><a class=lnlinks href=#hl-18-11>11</a>
</span><span class=lnt id=hl-18-12><a class=lnlinks href=#hl-18-12>12</a>
</span><span class=lnt id=hl-18-13><a class=lnlinks href=#hl-18-13>13</a>
</span><span class=lnt id=hl-18-14><a class=lnlinks href=#hl-18-14>14</a>
</span><span class=lnt id=hl-18-15><a class=lnlinks href=#hl-18-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.istio.io/v1beta1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>ServiceEntry</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>svc-b1-entry</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>svc-b1.ecom-b.svc.cluster.local</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>location</span><span class=p>:</span><span class=w> </span><span class=l>MESH_EXTERNAL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>8080</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>http</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>HTTP</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>resolution</span><span class=p>:</span><span class=w> </span><span class=l>DNS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>addresses</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=m>240.0.0.1</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li>목적: Cluster-A 에서 Cluster-B 의 <code>svc-b1</code> 호출 가능하도록 설정.</li></ul></li><li><p>DestinationRule (mTLS 설정 포함)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1>1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2>2</a>
</span><span class=lnt id=hl-19-3><a class=lnlinks href=#hl-19-3>3</a>
</span><span class=lnt id=hl-19-4><a class=lnlinks href=#hl-19-4>4</a>
</span><span class=lnt id=hl-19-5><a class=lnlinks href=#hl-19-5>5</a>
</span><span class=lnt id=hl-19-6><a class=lnlinks href=#hl-19-6>6</a>
</span><span class=lnt id=hl-19-7><a class=lnlinks href=#hl-19-7>7</a>
</span><span class=lnt id=hl-19-8><a class=lnlinks href=#hl-19-8>8</a>
</span><span class=lnt id=hl-19-9><a class=lnlinks href=#hl-19-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.istio.io/v1beta1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>DestinationRule</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>svc-b1-dr</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>svc-b1.ecom-b.svc.cluster.local</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>trafficPolicy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>tls</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=l>ISTIO_MUTUAL</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li>목적: Cluster A 의 Envoy 프록시가 Cluster B 로 <strong>mTLS</strong>로 통신하도록 지정.</li></ul></li><li><p>VirtualService (Cluster A 에서 요청 라우팅)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-20-1><a class=lnlinks href=#hl-20-1> 1</a>
</span><span class=lnt id=hl-20-2><a class=lnlinks href=#hl-20-2> 2</a>
</span><span class=lnt id=hl-20-3><a class=lnlinks href=#hl-20-3> 3</a>
</span><span class=lnt id=hl-20-4><a class=lnlinks href=#hl-20-4> 4</a>
</span><span class=lnt id=hl-20-5><a class=lnlinks href=#hl-20-5> 5</a>
</span><span class=lnt id=hl-20-6><a class=lnlinks href=#hl-20-6> 6</a>
</span><span class=lnt id=hl-20-7><a class=lnlinks href=#hl-20-7> 7</a>
</span><span class=lnt id=hl-20-8><a class=lnlinks href=#hl-20-8> 8</a>
</span><span class=lnt id=hl-20-9><a class=lnlinks href=#hl-20-9> 9</a>
</span><span class=lnt id=hl-20-10><a class=lnlinks href=#hl-20-10>10</a>
</span><span class=lnt id=hl-20-11><a class=lnlinks href=#hl-20-11>11</a>
</span><span class=lnt id=hl-20-12><a class=lnlinks href=#hl-20-12>12</a>
</span><span class=lnt id=hl-20-13><a class=lnlinks href=#hl-20-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.istio.io/v1beta1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>VirtualService</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>route-to-svc-b1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>svc-b1.ecom-b.svc.cluster.local</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>route</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>destination</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>svc-b1.ecom-b.svc.cluster.local</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>8080</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li>목적: Cluster A 의 요청을 Cluster B 의 서비스로 직접 라우팅.</li></ul></li><li><p>PeerAuthentication (글로벌 mTLS 설정)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1>1</a>
</span><span class=lnt id=hl-21-2><a class=lnlinks href=#hl-21-2>2</a>
</span><span class=lnt id=hl-21-3><a class=lnlinks href=#hl-21-3>3</a>
</span><span class=lnt id=hl-21-4><a class=lnlinks href=#hl-21-4>4</a>
</span><span class=lnt id=hl-21-5><a class=lnlinks href=#hl-21-5>5</a>
</span><span class=lnt id=hl-21-6><a class=lnlinks href=#hl-21-6>6</a>
</span><span class=lnt id=hl-21-7><a class=lnlinks href=#hl-21-7>7</a>
</span><span class=lnt id=hl-21-8><a class=lnlinks href=#hl-21-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>security.istio.io/v1beta1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>PeerAuthentication</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>istio-system</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>mtls</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=l>STRICT</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li>목적: <strong>모든 트래픽에 대해 mTLS 적용 강제화</strong> (클러스터 간 포함)</li></ul></li><li><p>Gateway 구성 (옵션: 멀티 클러스터 간 Ingress 연결 시)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1> 1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2> 2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3> 3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4> 4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5> 5</a>
</span><span class=lnt id=hl-22-6><a class=lnlinks href=#hl-22-6> 6</a>
</span><span class=lnt id=hl-22-7><a class=lnlinks href=#hl-22-7> 7</a>
</span><span class=lnt id=hl-22-8><a class=lnlinks href=#hl-22-8> 8</a>
</span><span class=lnt id=hl-22-9><a class=lnlinks href=#hl-22-9> 9</a>
</span><span class=lnt id=hl-22-10><a class=lnlinks href=#hl-22-10>10</a>
</span><span class=lnt id=hl-22-11><a class=lnlinks href=#hl-22-11>11</a>
</span><span class=lnt id=hl-22-12><a class=lnlinks href=#hl-22-12>12</a>
</span><span class=lnt id=hl-22-13><a class=lnlinks href=#hl-22-13>13</a>
</span><span class=lnt id=hl-22-14><a class=lnlinks href=#hl-22-14>14</a>
</span><span class=lnt id=hl-22-15><a class=lnlinks href=#hl-22-15>15</a>
</span><span class=lnt id=hl-22-16><a class=lnlinks href=#hl-22-16>16</a>
</span><span class=lnt id=hl-22-17><a class=lnlinks href=#hl-22-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.istio.io/v1beta1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Gateway</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>cluster-b-gateway</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>istio</span><span class=p>:</span><span class=w> </span><span class=l>ingressgateway</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>servers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>port</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>443</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>https</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>HTTPS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>hosts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>svc-b1.ecom-b.svc.cluster.local</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>tls</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=l>ISTIO_MUTUAL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>credentialName</span><span class=p>:</span><span class=w> </span><span class=l>tls-secret</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li></ul></li></ul><h4 id=사례-3-전자상거래-플랫폼의-서비스-메시-적용>사례 3: 전자상거래 플랫폼의 서비스 메시 적용<a hidden class=anchor aria-hidden=true href=#사례-3-전자상거래-플랫폼의-서비스-메시-적용>#</a></h4><p><strong>전자상거래 플랫폼의 서비스 메시 적용</strong></p><p>대규모 전자상거래 플랫폼에서 주문, 결제, 재고, 배송 등 다양한 마이크로서비스 간 통신을 관리하기 위해 Istio 서비스 메시를 도입한 사례입니다.</p><p><strong>시스템 구성</strong>:</p><pre class=mermaid>graph TB
    subgraph &#34;External&#34;
        USER[Users]
        API_GW[API Gateway]
    end
    
    subgraph &#34;Service Mesh&#34;
        subgraph &#34;Frontend Services&#34;
            WEB[Web Service]
            MOBILE[Mobile API]
        end
        
        subgraph &#34;Business Services&#34;
            ORDER[Order Service]
            PAYMENT[Payment Service]
            INVENTORY[Inventory Service]
            SHIPPING[Shipping Service]
        end
        
        subgraph &#34;Data Services&#34;
            USER_DB[(User DB)]
            ORDER_DB[(Order DB)]
            INVENTORY_DB[(Inventory DB)]
        end
    end
    
    subgraph &#34;Istio Control Plane&#34;
        PILOT[Pilot]
        CITADEL[Citadel]
        GALLEY[Galley]
    end
    
    USER --&gt; API_GW
    API_GW --&gt; WEB
    API_GW --&gt; MOBILE
    
    WEB --&gt; ORDER
    MOBILE --&gt; ORDER
    ORDER --&gt; PAYMENT
    ORDER --&gt; INVENTORY
    ORDER --&gt; SHIPPING
    
    ORDER --&gt; ORDER_DB
    INVENTORY --&gt; INVENTORY_DB
</pre><p><strong>Workflow</strong>:</p><ol><li>사용자 요청이 API Gateway 를 통해 진입</li><li>Istio Envoy Proxy 가 모든 서비스 간 통신 가로채기</li><li>트래픽 정책에 따라 라우팅 및 로드 밸런싱 수행</li><li>상호 TLS 로 서비스 간 보안 통신 보장</li><li>메트릭 및 추적 정보를 Prometheus, Jaeger 로 전송</li></ol><p><strong>서비스 메시의 역할</strong>:</p><ul><li>결제 서비스의 카나리 배포를 통한 안전한 업데이트</li><li>재고 서비스 장애 시 자동 서킷 브레이커 동작</li><li>모든 서비스 간 통신에 대한 실시간 모니터링</li></ul><p><strong>서비스 메시 유무에 따른 차이점</strong>:</p><table><thead><tr><th>구분</th><th>서비스 메시 없음</th><th>서비스 메시 있음</th></tr></thead><tbody><tr><td>보안</td><td>애플리케이션 레벨 TLS 구현</td><td>자동 상호 TLS 적용</td></tr><tr><td>모니터링</td><td>각 서비스별 개별 구현</td><td>통합된 관찰성 대시보드</td></tr><tr><td>배포</td><td>수동 블루 - 그린 배포</td><td>자동화된 카나리 배포</td></tr><tr><td>장애 처리</td><td>개별 서비스의 재시도 로직</td><td>중앙 집중식 서킷 브레이커</td></tr></tbody></table><p><strong>구현 예시</strong>:</p><ul><li><p><strong>카나리 배포</strong>: <code>VirtualService</code> + <code>DestinationRule</code><br>-> 결제 서비스 (Payment Service) 에 v1, v2 를 순차적으로 배포</p><ul><li>배포가 안정되면 <code>v2</code> 의 비중을 점차 늘려 전체 전환 가능.</li><li><code>DestinationRule</code></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1> 1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2> 2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3> 3</a>
</span><span class=lnt id=hl-24-4><a class=lnlinks href=#hl-24-4> 4</a>
</span><span class=lnt id=hl-24-5><a class=lnlinks href=#hl-24-5> 5</a>
</span><span class=lnt id=hl-24-6><a class=lnlinks href=#hl-24-6> 6</a>
</span><span class=lnt id=hl-24-7><a class=lnlinks href=#hl-24-7> 7</a>
</span><span class=lnt id=hl-24-8><a class=lnlinks href=#hl-24-8> 8</a>
</span><span class=lnt id=hl-24-9><a class=lnlinks href=#hl-24-9> 9</a>
</span><span class=lnt id=hl-24-10><a class=lnlinks href=#hl-24-10>10</a>
</span><span class=lnt id=hl-24-11><a class=lnlinks href=#hl-24-11>11</a>
</span><span class=lnt id=hl-24-12><a class=lnlinks href=#hl-24-12>12</a>
</span><span class=lnt id=hl-24-13><a class=lnlinks href=#hl-24-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.istio.io/v1beta1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>DestinationRule</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>payment-destination</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>payment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>subsets</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=l>v2</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li><code>VirtualService</code></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1> 1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2> 2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3> 3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4> 4</a>
</span><span class=lnt id=hl-25-5><a class=lnlinks href=#hl-25-5> 5</a>
</span><span class=lnt id=hl-25-6><a class=lnlinks href=#hl-25-6> 6</a>
</span><span class=lnt id=hl-25-7><a class=lnlinks href=#hl-25-7> 7</a>
</span><span class=lnt id=hl-25-8><a class=lnlinks href=#hl-25-8> 8</a>
</span><span class=lnt id=hl-25-9><a class=lnlinks href=#hl-25-9> 9</a>
</span><span class=lnt id=hl-25-10><a class=lnlinks href=#hl-25-10>10</a>
</span><span class=lnt id=hl-25-11><a class=lnlinks href=#hl-25-11>11</a>
</span><span class=lnt id=hl-25-12><a class=lnlinks href=#hl-25-12>12</a>
</span><span class=lnt id=hl-25-13><a class=lnlinks href=#hl-25-13>13</a>
</span><span class=lnt id=hl-25-14><a class=lnlinks href=#hl-25-14>14</a>
</span><span class=lnt id=hl-25-15><a class=lnlinks href=#hl-25-15>15</a>
</span><span class=lnt id=hl-25-16><a class=lnlinks href=#hl-25-16>16</a>
</span><span class=lnt id=hl-25-17><a class=lnlinks href=#hl-25-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.istio.io/v1beta1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>VirtualService</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>payment-route</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>payment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>route</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>destination</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>payment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>subset</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>weight</span><span class=p>:</span><span class=w> </span><span class=m>90</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>destination</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>payment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>subset</span><span class=p>:</span><span class=w> </span><span class=l>v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>weight</span><span class=p>:</span><span class=w> </span><span class=m>10</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li><p><strong>서킷 브레이커</strong>: <code>DestinationRule</code><br>-> 재고 서비스 (INVENTORY) 가 장애 발생 시, 일정 시간 차단 및 자동 복구</p><ul><li>특정 횟수 이상 오류 발생 시 요청 차단 → 일정 시간 후 자동 복구</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1> 1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2> 2</a>
</span><span class=lnt id=hl-26-3><a class=lnlinks href=#hl-26-3> 3</a>
</span><span class=lnt id=hl-26-4><a class=lnlinks href=#hl-26-4> 4</a>
</span><span class=lnt id=hl-26-5><a class=lnlinks href=#hl-26-5> 5</a>
</span><span class=lnt id=hl-26-6><a class=lnlinks href=#hl-26-6> 6</a>
</span><span class=lnt id=hl-26-7><a class=lnlinks href=#hl-26-7> 7</a>
</span><span class=lnt id=hl-26-8><a class=lnlinks href=#hl-26-8> 8</a>
</span><span class=lnt id=hl-26-9><a class=lnlinks href=#hl-26-9> 9</a>
</span><span class=lnt id=hl-26-10><a class=lnlinks href=#hl-26-10>10</a>
</span><span class=lnt id=hl-26-11><a class=lnlinks href=#hl-26-11>11</a>
</span><span class=lnt id=hl-26-12><a class=lnlinks href=#hl-26-12>12</a>
</span><span class=lnt id=hl-26-13><a class=lnlinks href=#hl-26-13>13</a>
</span><span class=lnt id=hl-26-14><a class=lnlinks href=#hl-26-14>14</a>
</span><span class=lnt id=hl-26-15><a class=lnlinks href=#hl-26-15>15</a>
</span><span class=lnt id=hl-26-16><a class=lnlinks href=#hl-26-16>16</a>
</span><span class=lnt id=hl-26-17><a class=lnlinks href=#hl-26-17>17</a>
</span><span class=lnt id=hl-26-18><a class=lnlinks href=#hl-26-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.istio.io/v1beta1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>DestinationRule</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>inventory-circuit-breaker</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>inventory</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>trafficPolicy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>connectionPool</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>tcp</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>maxConnections</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>http1MaxPendingRequests</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>maxRequestsPerConnection</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>outlierDetection</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>consecutive5xxErrors</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>interval</span><span class=p>:</span><span class=w> </span><span class=l>10s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>baseEjectionTime</span><span class=p>:</span><span class=w> </span><span class=l>30s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>maxEjectionPercent</span><span class=p>:</span><span class=w> </span><span class=m>100</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li><p><strong>mTLS 자동 적용</strong>: <code>PeerAuthentication</code></p><ul><li>전체 네임스페이스에 대해 <strong>서비스 간 통신은 반드시 mTLS 로 수행</strong>하도록 강제.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1>1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2>2</a>
</span><span class=lnt id=hl-27-3><a class=lnlinks href=#hl-27-3>3</a>
</span><span class=lnt id=hl-27-4><a class=lnlinks href=#hl-27-4>4</a>
</span><span class=lnt id=hl-27-5><a class=lnlinks href=#hl-27-5>5</a>
</span><span class=lnt id=hl-27-6><a class=lnlinks href=#hl-27-6>6</a>
</span><span class=lnt id=hl-27-7><a class=lnlinks href=#hl-27-7>7</a>
</span><span class=lnt id=hl-27-8><a class=lnlinks href=#hl-27-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>security.istio.io/v1beta1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>PeerAuthentication</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>istio-system</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>mtls</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=l>STRICT</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li><p><strong>트래픽 관찰성</strong>: Prometheus, Jaeger 연동</p><ul><li><p>Istio 설치 시 기본적으로 아래 요소가 포함되며, 설정만 추가하면 됨:</p><ul><li>Prometheus - 메트릭 수집 (<code>istio-proxy</code> 에서 지표 수집)</li><li>Grafana - 메트릭 시각화</li><li>Jaeger/Zipkin - 분산 추적 시각화</li><li>Kiali - 서비스 메시 구조 + 트래픽 흐름 시각화</li></ul></li><li><p><strong>예시</strong>: Telemetry 설정</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-28-1><a class=lnlinks href=#hl-28-1> 1</a>
</span><span class=lnt id=hl-28-2><a class=lnlinks href=#hl-28-2> 2</a>
</span><span class=lnt id=hl-28-3><a class=lnlinks href=#hl-28-3> 3</a>
</span><span class=lnt id=hl-28-4><a class=lnlinks href=#hl-28-4> 4</a>
</span><span class=lnt id=hl-28-5><a class=lnlinks href=#hl-28-5> 5</a>
</span><span class=lnt id=hl-28-6><a class=lnlinks href=#hl-28-6> 6</a>
</span><span class=lnt id=hl-28-7><a class=lnlinks href=#hl-28-7> 7</a>
</span><span class=lnt id=hl-28-8><a class=lnlinks href=#hl-28-8> 8</a>
</span><span class=lnt id=hl-28-9><a class=lnlinks href=#hl-28-9> 9</a>
</span><span class=lnt id=hl-28-10><a class=lnlinks href=#hl-28-10>10</a>
</span><span class=lnt id=hl-28-11><a class=lnlinks href=#hl-28-11>11</a>
</span><span class=lnt id=hl-28-12><a class=lnlinks href=#hl-28-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>telemetry.istio.io/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Telemetry</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>metrics</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>overrides</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>match</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>metric</span><span class=p>:</span><span class=w> </span><span class=l>request_duration_milliseconds</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>tracing</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>randomSamplingPercentage</span><span class=p>:</span><span class=w> </span><span class=m>100.0</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li></ul></li></ul><h4 id=사례-4-istio-기반-마이크로서비스-환경에서의-트래픽-관리-및-분산-트레이싱>사례 4: Istio 기반 마이크로서비스 환경에서의 트래픽 관리 및 분산 트레이싱<a hidden class=anchor aria-hidden=true href=#사례-4-istio-기반-마이크로서비스-환경에서의-트래픽-관리-및-분산-트레이싱>#</a></h4><p><strong>시스템 구성</strong>: Kubernetes 클러스터 + Istio(서비스 메시) + Envoy(프록시) + Jaeger(분산 트레이싱)</p><p><strong>워크플로우</strong>:</p><ol><li>클라이언트 → API Gateway → 서비스 A (사이드카 프록시)</li><li>서비스 A → 서비스 B (프록시 간 통신)</li><li>모든 트래픽은 Jaeger 에서 추적</li></ol><p><strong>역할</strong>: 트래픽 라우팅, 로드 밸런싱, 보안, 모니터링, 분산 트레이싱</p><p><strong>차이점</strong>: 기존 라이브러리 기반 (Spring Cloud) 은 언어 종속적, 서비스 메시는 언어 독립적</p><p><strong>구현 예시</strong>:</p><ul><li>서비스 메시 자체는 인프라 계층이므로 코드 구현보다는 설정 예시를 제공합니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-29-1><a class=lnlinks href=#hl-29-1> 1</a>
</span><span class=lnt id=hl-29-2><a class=lnlinks href=#hl-29-2> 2</a>
</span><span class=lnt id=hl-29-3><a class=lnlinks href=#hl-29-3> 3</a>
</span><span class=lnt id=hl-29-4><a class=lnlinks href=#hl-29-4> 4</a>
</span><span class=lnt id=hl-29-5><a class=lnlinks href=#hl-29-5> 5</a>
</span><span class=lnt id=hl-29-6><a class=lnlinks href=#hl-29-6> 6</a>
</span><span class=lnt id=hl-29-7><a class=lnlinks href=#hl-29-7> 7</a>
</span><span class=lnt id=hl-29-8><a class=lnlinks href=#hl-29-8> 8</a>
</span><span class=lnt id=hl-29-9><a class=lnlinks href=#hl-29-9> 9</a>
</span><span class=lnt id=hl-29-10><a class=lnlinks href=#hl-29-10>10</a>
</span><span class=lnt id=hl-29-11><a class=lnlinks href=#hl-29-11>11</a>
</span><span class=lnt id=hl-29-12><a class=lnlinks href=#hl-29-12>12</a>
</span><span class=lnt id=hl-29-13><a class=lnlinks href=#hl-29-13>13</a>
</span><span class=lnt id=hl-29-14><a class=lnlinks href=#hl-29-14>14</a>
</span><span class=lnt id=hl-29-15><a class=lnlinks href=#hl-29-15>15</a>
</span><span class=lnt id=hl-29-16><a class=lnlinks href=#hl-29-16>16</a>
</span><span class=lnt id=hl-29-17><a class=lnlinks href=#hl-29-17>17</a>
</span><span class=lnt id=hl-29-18><a class=lnlinks href=#hl-29-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># Istio VirtualService 예시 (Kubernetes YAML)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.istio.io/v1alpha3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>VirtualService</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>my-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>my-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>route</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>destination</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>my-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>subset</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>weight</span><span class=p>:</span><span class=w> </span><span class=m>90</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>destination</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>my-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>subset</span><span class=p>:</span><span class=w> </span><span class=l>v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>weight</span><span class=p>:</span><span class=w> </span><span class=m>10</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=사례-5-ecommerce-플랫폼-안정성>사례 5: e‑commerce 플랫폼 안정성<a hidden class=anchor aria-hidden=true href=#사례-5-ecommerce-플랫폼-안정성>#</a></h4><p><strong>목적</strong>: 블랙프라이데이 같이 트래픽 급증 시 서비스 안정성 확보</p><p><strong>기술 스택</strong>: Kubernetes, Istio, Envoy</p><p><strong>시스템 구성</strong>:</p><pre class=mermaid>graph TD
  User --&gt; IngressGW[Envoy Ingress Gateway]
  IngressGW --&gt; svc-v1
  IngressGW --&gt; svc-v2
  svc-v1[Checkout v1 + Envoy] --&gt; svc-db
  svc-v2[Checkout v2 + Envoy] --&gt; svc-db
  subgraph Control Plane
    Pilot
    Citadel
  end
</pre><p><strong>Workflow</strong>:</p><ol><li>Ingress Gateway 통해 외부 요청 수신</li><li>VirtualService 로 v2 버전 트래픽을 20% 할당</li><li>Pilot 이 VirtualService 설정을 각 Envoy 에 배포 (xDS)</li><li>사이드카 Envoy 에서 Retry/Timeout/Circuit-Breaker 자동 적용</li><li>Citadel 이 mTLS 인증서 자동 할당 및 갱신</li><li>정상 여부 모니터링, 성능 충족 시 점진적 v2 트래픽 증가</li></ol><p><strong>효과</strong>:</p><ul><li>코드 변경 없이 레이어에서 안정성/보안 확보</li><li>실패 시 장애 스트래티징을 통한 롤백 우회</li><li>실무 대비 트래픽 제어 및 CNCF 준수 환경 제공</li></ul><p><strong>구현 예시</strong>:</p><ul><li>Python + Istio VirtualService (Canary 배포)</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-31-1><a class=lnlinks href=#hl-31-1> 1</a>
</span><span class=lnt id=hl-31-2><a class=lnlinks href=#hl-31-2> 2</a>
</span><span class=lnt id=hl-31-3><a class=lnlinks href=#hl-31-3> 3</a>
</span><span class=lnt id=hl-31-4><a class=lnlinks href=#hl-31-4> 4</a>
</span><span class=lnt id=hl-31-5><a class=lnlinks href=#hl-31-5> 5</a>
</span><span class=lnt id=hl-31-6><a class=lnlinks href=#hl-31-6> 6</a>
</span><span class=lnt id=hl-31-7><a class=lnlinks href=#hl-31-7> 7</a>
</span><span class=lnt id=hl-31-8><a class=lnlinks href=#hl-31-8> 8</a>
</span><span class=lnt id=hl-31-9><a class=lnlinks href=#hl-31-9> 9</a>
</span><span class=lnt id=hl-31-10><a class=lnlinks href=#hl-31-10>10</a>
</span><span class=lnt id=hl-31-11><a class=lnlinks href=#hl-31-11>11</a>
</span><span class=lnt id=hl-31-12><a class=lnlinks href=#hl-31-12>12</a>
</span><span class=lnt id=hl-31-13><a class=lnlinks href=#hl-31-13>13</a>
</span><span class=lnt id=hl-31-14><a class=lnlinks href=#hl-31-14>14</a>
</span><span class=lnt id=hl-31-15><a class=lnlinks href=#hl-31-15>15</a>
</span><span class=lnt id=hl-31-16><a class=lnlinks href=#hl-31-16>16</a>
</span><span class=lnt id=hl-31-17><a class=lnlinks href=#hl-31-17>17</a>
</span><span class=lnt id=hl-31-18><a class=lnlinks href=#hl-31-18>18</a>
</span><span class=lnt id=hl-31-19><a class=lnlinks href=#hl-31-19>19</a>
</span><span class=lnt id=hl-31-20><a class=lnlinks href=#hl-31-20>20</a>
</span><span class=lnt id=hl-31-21><a class=lnlinks href=#hl-31-21>21</a>
</span><span class=lnt id=hl-31-22><a class=lnlinks href=#hl-31-22>22</a>
</span><span class=lnt id=hl-31-23><a class=lnlinks href=#hl-31-23>23</a>
</span><span class=lnt id=hl-31-24><a class=lnlinks href=#hl-31-24>24</a>
</span><span class=lnt id=hl-31-25><a class=lnlinks href=#hl-31-25>25</a>
</span><span class=lnt id=hl-31-26><a class=lnlinks href=#hl-31-26>26</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># virtualservice-canary.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.istio.io/v1beta1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>VirtualService</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>checkout-canary</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>checkout.example.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>route</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>destination</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>checkout</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>subset</span><span class=p>:</span><span class=w> </span><span class=l>v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>weight</span><span class=p>:</span><span class=w> </span><span class=m>20</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>destination</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>checkout</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>subset</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>weight</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>retries</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>attempts</span><span class=p>:</span><span class=w> </span><span class=m>3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>perTryTimeout</span><span class=p>:</span><span class=w> </span><span class=l>2s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>fault</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>delay</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>percentage</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=m>10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>fixedDelay</span><span class=p>:</span><span class=w> </span><span class=l>1s</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-32-1><a class=lnlinks href=#hl-32-1>1</a>
</span><span class=lnt id=hl-32-2><a class=lnlinks href=#hl-32-2>2</a>
</span><span class=lnt id=hl-32-3><a class=lnlinks href=#hl-32-3>3</a>
</span><span class=lnt id=hl-32-4><a class=lnlinks href=#hl-32-4>4</a>
</span><span class=lnt id=hl-32-5><a class=lnlinks href=#hl-32-5>5</a>
</span><span class=lnt id=hl-32-6><a class=lnlinks href=#hl-32-6>6</a>
</span><span class=lnt id=hl-32-7><a class=lnlinks href=#hl-32-7>7</a>
</span><span class=lnt id=hl-32-8><a class=lnlinks href=#hl-32-8>8</a>
</span><span class=lnt id=hl-32-9><a class=lnlinks href=#hl-32-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># deploy_canary.py</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>subprocess</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>apply</span><span class=p>(</span><span class=n>file</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>subprocess</span><span class=o>.</span><span class=n>run</span><span class=p>([</span><span class=s2>&#34;kubectl&#34;</span><span class=p>,</span> <span class=s2>&#34;apply&#34;</span><span class=p>,</span> <span class=s2>&#34;-f&#34;</span><span class=p>,</span> <span class=n>file</span><span class=p>],</span> <span class=n>check</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>apply</span><span class=p>(</span><span class=s2>&#34;virtualservice-canary.yaml&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Canary VirtualService deployed.&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>이 코드와 YAML 은 20% v2, 80% v1 배포 리스크 완화</li><li>Envoy 사이드카가 자동으로 <code>retries</code>, <code>timeout</code>, <code>fault injection</code> 정책 집행</li></ul><h3 id=주목할-내용>주목할 내용<a hidden class=anchor aria-hidden=true href=#주목할-내용>#</a></h3><table><thead><tr><th>카테고리</th><th>주제</th><th>항목/기술</th><th>설명</th></tr></thead><tbody><tr><td><strong>구조/아키텍처</strong></td><td>사이드카 패턴</td><td>Sidecar Proxy</td><td>각 서비스 옆에 배치된 프록시가 모든 트래픽을 중계하고 정책 적용</td></tr><tr><td></td><td>앰비언트 메시</td><td>Ambient Mesh</td><td>사이드카 없이 노드 단에서 메시 기능을 수행하는 경량화 아키텍처</td></tr><tr><td></td><td>Proxy-less 메시</td><td>eBPF, XDP 기반</td><td>커널 수준에서 네트워크 트래픽 처리로 사이드카 제거, 성능 최적화</td></tr><tr><td><strong>운영/관리</strong></td><td>정책 기반 운영</td><td>선언형 정책 (YAML/JSON)</td><td>코드 수정 없이 정책 제어 가능 (예: VirtualService, DestinationRule)</td></tr><tr><td></td><td>자동 복구 및 장애 회복</td><td>서킷 브레이커, 재시도, 페일오버</td><td>서비스 연속성 확보 및 복원력 강화</td></tr><tr><td></td><td>배포 자동화</td><td>GitOps (ArgoCD, Flux)</td><td>Git 기반 선언형 구성 및 배포 자동화</td></tr><tr><td><strong>관찰성/모니터링</strong></td><td>분산 추적</td><td>Jaeger, Zipkin, Kiali</td><td>마이크로서비스 간 요청 추적 및 병목 탐지</td></tr><tr><td></td><td>통합 텔레메트리</td><td>OpenTelemetry</td><td>메트릭, 로그, 트레이스를 통합 수집하는 표준 프레임워크</td></tr><tr><td><strong>보안</strong></td><td>mTLS</td><td>Mutual TLS</td><td>서비스 간 양방향 인증 및 암호화된 통신 제공</td></tr><tr><td></td><td>제로 트러스트</td><td>인증 + 접근 제어</td><td>모든 요청을 암호화 및 검증, 내부 네트워크도 신뢰하지 않음</td></tr><tr><td></td><td>신원 관리</td><td>SPIFFE/SPIRE</td><td>서비스 간 ID 발급 및 인증 기반 프레임워크</td></tr><tr><td></td><td>RBAC</td><td>역할 기반 접근 제어</td><td>서비스, 사용자에 따라 리소스 접근 권한 제어</td></tr><tr><td><strong>표준/인터페이스</strong></td><td>SMI (Service Mesh Interface)</td><td>쿠버네티스용 메시 표준 API</td><td>다양한 메시 구현체 간 벤더 중립적 상호운용 API 정의</td></tr><tr><td><strong>최적화 기술</strong></td><td>eBPF</td><td>커널 레벨 트래픽 제어</td><td>낮은 오버헤드로 사이드카리스 메시 구현 지원</td></tr><tr><td><strong>도구</strong></td><td>Istio</td><td>대표 오픈소스 서비스 메시</td><td>풍부한 기능 + 대규모 적용 사례 보유</td></tr><tr><td></td><td>Linkerd</td><td>경량 서비스 메시</td><td>퍼포먼스 우선 설계, 빠른 배포 및 낮은 러닝커브</td></tr><tr><td></td><td>Kiali</td><td>Istio 관찰성 시각화 도구</td><td>네트워크 그래프, 트래픽 흐름, 상태 모니터링 제공</td></tr></tbody></table><ul><li><strong>아키텍처 진화</strong>: 기존 사이드카 기반 구조에서 <strong>앰비언트 메시, eBPF 기반 Proxy-less 메시</strong>로 확장되고 있음.</li><li><strong>운영 자동화</strong>: 선언형 정책, GitOps 기반 배포, 서킷 브레이커 기반 <strong>장애 회복 전략</strong>이 핵심 운영 방식으로 자리 잡음.</li><li><strong>보안의 표준화</strong>: mTLS 와 제로 트러스트는 모든 서비스 메시 설계의 <strong>기본 보안 모델</strong>이며, SPIFFE 기반 ID 인증도 필수 요소.</li><li><strong>관찰성 통합</strong>: OpenTelemetry, Jaeger, Kiali 를 통한 <strong>시각화 및 추적</strong>이 운영과 디버깅의 중심이 되고 있음.</li><li><strong>벤더 중립성</strong>: SMI 는 다양한 서비스 메시 구현체 간 <strong>호환성과 이식성</strong> 확보를 위한 핵심 표준으로 주목됨.</li></ul><h3 id=반드시-학습해야할-내용>반드시 학습해야할 내용<a hidden class=anchor aria-hidden=true href=#반드시-학습해야할-내용>#</a></h3><table><thead><tr><th>카테고리</th><th>주제</th><th>핵심 항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>기초 이론</strong></td><td>마이크로서비스 아키텍처</td><td>서비스 메시 기반 구조, 아키텍처 패턴 이해</td><td>Service Mesh 는 마이크로서비스 아키텍처의 통신 계층을 담당함</td></tr><tr><td><strong>플랫폼 인프라</strong></td><td>Kubernetes</td><td>Pod, Service, Ingress, CRD</td><td>Mesh 는 K8s 위에서 동작하며 선언적 리소스를 기반으로 함</td></tr><tr><td><strong>트래픽 관리</strong></td><td>프록시 구성</td><td>Envoy, HAProxy, Sidecar Pattern</td><td>Envoy 사이드카가 데이터 플레인을 구성하며 트래픽 제어 핵심 역할 수행</td></tr><tr><td><strong>네트워크 기술</strong></td><td>통신 프로토콜</td><td>HTTP/2, gRPC, XDS, eBPF</td><td>고성능, 저지연 통신 및 프록시 -less 메시 구현을 위한 필수 기술</td></tr><tr><td><strong>보안</strong></td><td>인증/암호화</td><td>mTLS, Citadel, 인증서 자동화</td><td>서비스 간 제로 트러스트 기반 보안을 위한 통신 암호화 및 인증 체계</td></tr><tr><td><strong>정책 제어</strong></td><td>정책 관리</td><td>VirtualService, DestinationRule, SMI</td><td>라우팅, 트래픽 분할, 정책 선언을 위한 추상화된 구성 및 표준화 도구</td></tr><tr><td><strong>관찰성</strong></td><td>모니터링 및 트레이싱</td><td>Prometheus, Grafana, Jaeger, Zipkin</td><td>서비스 메시의 상태 및 요청 흐름을 추적하기 위한 메트릭·로그·트레이싱 시스템 통합</td></tr><tr><td><strong>배포 자동화</strong></td><td>GitOps/IaC</td><td>ArgoCD, Helm, Terraform</td><td>선언적 설정과 Git 기반 파이프라인을 통해 안정적이고 반복 가능한 메시 환경 구축</td></tr><tr><td><strong>운영 최적화</strong></td><td>성능 및 경량화</td><td>Ambient Mode, Sidecarless, CPU 프로파일링</td><td>리소스 소비를 줄이고 지연 시간을 최소화하는 최신 서비스 메시 실행 방식</td></tr><tr><td><strong>표준화/호환성</strong></td><td>서비스 메시 인터페이스</td><td>SMI, SPIFFE/SPIRE</td><td>벤더 독립성과 메시 간 이식성 확보, 보안 및 ID 관리를 위한 표준</td></tr></tbody></table><h4 id=요약-정리-9>요약 정리<a hidden class=anchor aria-hidden=true href=#요약-정리-9>#</a></h4><table><thead><tr><th>구분</th><th>핵심 요약 내용</th></tr></thead><tbody><tr><td><strong>아키텍처 기반</strong></td><td>Service Mesh 는 마이크로서비스 통신 계층을 관리하는 구조로, Kubernetes 위에서 동작함</td></tr><tr><td><strong>핵심 기술 요소</strong></td><td>사이드카 프록시 (Envoy), HTTP/2 및 gRPC 기반 통신, mTLS 보안, VirtualService 정책 관리</td></tr><tr><td><strong>운영 요구사항</strong></td><td>관찰성 (메트릭, 트레이싱), GitOps 기반 배포 자동화, 성능 최적화를 위한 경량화 기술 필요</td></tr><tr><td><strong>표준화 고려 사항</strong></td><td>SMI, SPIFFE 등의 표준을 통해 플랫폼 간 호환성과 보안 관리 자동화를 달성 가능</td></tr></tbody></table><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td><strong>구성 요소</strong></td><td><strong>Sidecar Proxy</strong></td><td>각 마이크로서비스 옆에 배치되는 프록시 컨테이너 (예: Envoy) 로, 데이터 플레인의 일부로 동작</td></tr><tr><td></td><td><strong>Control Plane</strong></td><td>정책 관리, 인증 설정, 트래픽 라우팅 정책 등을 중앙에서 관리하는 구성 요소 (예: Istio 의 Istiod)</td></tr><tr><td></td><td><strong>Data Plane</strong></td><td>실제 애플리케이션 트래픽을 처리하는 레이어로, 사이드카 프록시들이 포함됨</td></tr><tr><td></td><td><strong>Ingress Gateway</strong></td><td>외부 요청을 서비스 메시 내부로 라우팅하는 진입 지점</td></tr><tr><td></td><td><strong>Egress Gateway</strong></td><td>내부 서비스에서 외부 네트워크로 나가는 트래픽을 제어하는 컴포넌트</td></tr><tr><td><strong>보안</strong></td><td><strong>mTLS (Mutual TLS)</strong></td><td>서비스 간 암호화된 통신 및 양방향 인증을 제공하는 보안 프로토콜</td></tr><tr><td></td><td><strong>Zero Trust</strong></td><td>네트워크 내부를 포함한 모든 요청에 대해 검증을 요구하는 보안 모델</td></tr><tr><td></td><td><strong>RBAC</strong></td><td>역할 기반 접근 제어. 사용자 또는 서비스 계정별 권한을 정의하여 리소스 접근을 제어</td></tr><tr><td></td><td><strong>Citadel</strong></td><td>Istio 에서 사용되는 인증서 발급 및 신원 관리 컴포넌트 (현재는 Istiod 에 통합됨)</td></tr><tr><td></td><td><strong>SPIFFE/SPIRE</strong></td><td>서비스 정체성을 위한 표준 프레임워크 (Secure Production Identity Framework For Everyone)</td></tr><tr><td><strong>아키텍처</strong></td><td><strong>Sidecar Pattern</strong></td><td>프록시나 보안, 로깅 등의 기능을 메인 애플리케이션과 함께 배포하는 디자인 패턴</td></tr><tr><td></td><td><strong>Ambient Mesh</strong></td><td>사이드카 없이 노드 레벨에서 메시 기능을 수행하는 차세대 서비스 메시 모델 (예: Istio Ambient)</td></tr><tr><td></td><td><strong>Proxy-less Mesh</strong></td><td>eBPF 또는 커널 기술을 활용하여 사이드카 없이 메시 기능을 구현하는 아키텍처</td></tr><tr><td><strong>배포 전략</strong></td><td><strong>Canary Deployment</strong></td><td>신규 버전을 점진적으로 소수의 사용자에게 먼저 배포하고 점차 확대하는 방식</td></tr><tr><td></td><td><strong>Traffic Shaping</strong></td><td>트래픽 흐름을 제어하고 특정 조건에 따라 분산하는 기술 (예: 버전별, 사용자별 분리 배포)</td></tr><tr><td></td><td><strong>Circuit Breaker</strong></td><td>장애 발생 시 외부 호출을 차단하여 연쇄 장애를 방지하는 보호 장치 패턴</td></tr><tr><td><strong>운영/관찰성</strong></td><td><strong>Distributed Tracing</strong></td><td>마이크로서비스 간 요청 흐름을 추적하여 병목, 장애 원인을 분석</td></tr><tr><td></td><td><strong>Telemetry</strong></td><td>시스템에서 수집되는 지표, 로그, 트레이스 등 관찰 데이터를 의미</td></tr><tr><td></td><td><strong>OpenTelemetry</strong></td><td>표준화된 텔레메트리 수집을 위한 CNCF 프로젝트로, 메트릭·로그·트레이스를 통합 지원</td></tr><tr><td></td><td><strong>GitOps</strong></td><td>Git 저장소를 단일 신뢰 소스로 사용하여 배포 및 구성을 선언적으로 관리하는 방식</td></tr><tr><td><strong>표준/기술</strong></td><td><strong>xDS API</strong></td><td>Envoy 의 구성을 동적으로 제어하기 위한 API 프로토콜 세트 (Discovery Service 기반)</td></tr><tr><td></td><td><strong>SMI (Service Mesh Interface)</strong></td><td>Kubernetes 에서 서비스 메시 구현체 간의 상호 운용성을 위한 표준 인터페이스</td></tr></tbody></table><ul><li><strong>Sidecar, Control Plane, Data Plane</strong>은 대부분의 서비스 메시 구조에서 공통적으로 사용되는 핵심 용어.</li><li><strong>Ambient Mesh</strong>와 <strong>Proxy-less Mesh</strong>는 최근 등장한 개념으로, 기존 Sidecar 기반 모델의 성능·운영 복잡성 문제를 개선하고자 하는 아키텍처 진화 방향.</li><li><strong>mTLS, Zero Trust, RBAC</strong> 등은 <strong>서비스 메시 보안 정책 설계의 핵심</strong>으로 간주.</li><li><strong>OpenTelemetry</strong>는 관찰성 구현에서 de facto 표준이며, Istio, Linkerd, AWS App Mesh 등 다양한 메시에서 지원된다.</li></ul><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><ul><li><a href=https://www.redhat.com/ko/topics/microservices/what-is-a-service-mesh>Red Hat - What is a service mesh?</a></li><li><a href=https://learn.microsoft.com/ko-kr/azure/architecture/guide/architecture-styles/microservices#service-mesh>Microsoft Cloud Native Architecture - Service Meshes</a></li><li><a href=https://istio.io/latest/docs/concepts/what-is-istio/>Istio 공식 문서 – What is Istio?</a></li><li><a href=https://linkerd.io/>Linkerd 공식 문서 – What Is a Service Mesh?</a></li><li><a href=https://cilium.io/use-cases/service-mesh/>Cilium 공식 사이트 – Service Mesh</a></li><li><a href=https://konghq.com/blog/learning-center/what-is-a-service-mesh>Kong – What is a Service Mesh?</a></li><li><a href=https://aws.amazon.com/ko/what-is/service-mesh/>AWS – What is Service Mesh?</a></li><li><a href=https://www.tigera.io/learn/guides/service-mesh/service-mesh-architecture/>Tigera – Service Mesh Architecture</a></li><li><a href=https://www.solo.io/topics/service-mesh/service-mesh-architecture>Solo.io – Service Mesh Architecture</a></li><li><a href=https://netflixtechblog.com/zero-configuration-service-mesh-with-on-demand-cluster-discovery-ac6483b52a51>Netflix Tech Blog – Zero‑Configuration Service Mesh</a></li><li><a href=https://www.infoq.com/articles/envoy-service-mesh-cascading-failure/>InfoQ – Envoy Service Mesh 사례</a></li><li><a href=https://cloud.google.com/service-mesh/docs/security/best-practices>Google Cloud – Service Mesh 보안 모범 사례</a></li><li><a href=https://www.cncf.io/blog/2020/03/04/demystifying-service-mesh/>CNCF – Demystifying Service Mesh</a></li><li><a href=https://www.redhat.com/technologies/cloud-computing/openshift/what-is-openshift-service-mesh>Red Hat OpenShift Service Mesh (Istio 기반)</a></li></ul><hr></div></main><script type=module>
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
  </script><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>