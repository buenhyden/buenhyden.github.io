<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Monolithic Architecture | hyunyoun's Blog</title><meta name=keywords content="Software-Engineering,Design-and-Architecture,Architecture-Styles,Monolithic-Architecture,Single-Deployable,Coupled-Systems"><meta name=description content="모놀리식 아키텍처 (Monolithic Architecture) 는 모든 기능과 컴포넌트가 하나의 코드베이스와 프로세스에서 동작하는 전통적인 소프트웨어 아키텍처다. 초기 시스템의 빠른 개발과 관리가 쉽지만, 대규모 확장, 유지보수, 배포의 비효율성 등의 한계도 내포한다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/system-architecture--design/architecture-styles/monolithic-architecture/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.5311427199677f919b17469b4ca383951185b54edbae0ec7a5b4378f78d8f4f4.css integrity="sha256-UxFCcZlnf5GbF0abTKODlRGFtU7brg7HpbQ3j3jY9PQ=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/system-architecture--design/architecture-styles/monolithic-architecture/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/system-architecture--design/architecture-styles/monolithic-architecture/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/system-architecture--design/architecture-styles/monolithic-architecture/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Monolithic Architecture"><meta property="og:description" content="모놀리식 아키텍처 (Monolithic Architecture) 는 모든 기능과 컴포넌트가 하나의 코드베이스와 프로세스에서 동작하는 전통적인 소프트웨어 아키텍처다. 초기 시스템의 빠른 개발과 관리가 쉽지만, 대규모 확장, 유지보수, 배포의 비효율성 등의 한계도 내포한다."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Monolithic Architecture"><meta name=twitter:description content="모놀리식 아키텍처 (Monolithic Architecture) 는 모든 기능과 컴포넌트가 하나의 코드베이스와 프로세스에서 동작하는 전통적인 소프트웨어 아키텍처다. 초기 시스템의 빠른 개발과 관리가 쉽지만, 대규모 확장, 유지보수, 배포의 비효율성 등의 한계도 내포한다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Monolithic Architecture","item":"https://buenhyden.github.io/posts/system-architecture--design/architecture-styles/monolithic-architecture/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a></div><h1>Monolithic Architecture</h1><div class=post-description>모놀리식 아키텍처 (Monolithic Architecture) 는 모든 기능과 컴포넌트가 하나의 코드베이스와 프로세스에서 동작하는 전통적인 소프트웨어 아키텍처다. 초기 시스템의 빠른 개발과 관리가 쉽지만, 대규모 확장, 유지보수, 배포의 비효율성 등의 한계도 내포한다.</div></header><div class=post-content><h2 id=monolithic-architecture>Monolithic Architecture<a hidden class=anchor aria-hidden=true href=#monolithic-architecture>#</a></h2><p>모놀리식 아키텍처는 프레젠테이션, 비즈니스 로직, 데이터 접근 계층이 하나의 코드베이스로 통합된 구조로, 단일 실행 파일로 배포된다. 초기 개발과 테스트, 배포가 단순하고 성능도 우수하지만, 시스템 규모가 커지면 확장성, 유지보수, 기술 유연성, 장애 격리 등에 제약이 발생한. 이러한 한계를 보완하기 위해 최근에는 도메인 기반으로 내부를 분리한 **모듈형 모놀리스 (Modular Monolith)**나 <strong>마이크로서비스 아키텍처 (MSA)</strong> 로의 점진적 전환이 활용되고 있다.</p><h3 id=등장-배경-및-발전-과정>등장 배경 및 발전 과정<a hidden class=anchor aria-hidden=true href=#등장-배경-및-발전-과정>#</a></h3><h4 id=등장-배경>등장 배경<a hidden class=anchor aria-hidden=true href=#등장-배경>#</a></h4><table><thead><tr><th>항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>역사적 출발점</strong></td><td>1960~1970 년대 메인프레임 환경에서 시작. 하나의 실행 파일에 모든 기능을 통합하는 단일 구조 방식으로 출발.</td></tr><tr><td><strong>리소스 제약 환경</strong></td><td>초기 컴퓨팅 환경은 제한된 CPU, 메모리, 네트워크 성능으로 인해 분산 처리보다 단일 프로세스 중심 설계가 적합했음.</td></tr><tr><td><strong>개발 효율성 우위</strong></td><td>컴파일 및 배포가 간단하고 전체 시스템을 한눈에 파악 가능해 소규모 팀, 스타트업, 초기 단계 시스템에 적합했음.</td></tr><tr><td><strong>표준 아키텍처</strong></td><td>마이크로서비스, SOA 등의 분산 아키텍처가 등장하기 전까지는 모놀리식이 디폴트 설계 방식으로 대부분의 시스템에서 사용됨.</td></tr></tbody></table><h4 id=발전-과정-시대별-흐름>발전 과정 (시대별 흐름)<a hidden class=anchor aria-hidden=true href=#발전-과정-시대별-흐름>#</a></h4><table><thead><tr><th>시대</th><th>기술 변화 및 모놀리식 아키텍처의 형태</th></tr></thead><tbody><tr><td><strong>1970~1980 년대</strong></td><td>메인프레임 기반 배치 처리 및 시분할 환경에서 모놀리식 구조 채택. 단일 프로그램에 모든 로직 포함.</td></tr><tr><td><strong>1990 년대</strong></td><td>클라이언트 - 서버 모델 확산. 2-Tier, 3-Tier 아키텍처로 진화했지만 여전히 논리적으로는 하나의 시스템으로 구성.</td></tr><tr><td><strong>2000 년대</strong></td><td>웹 애플리케이션 확산으로 JSP/Servlet, Spring 등 웹 프레임워크 기반의 모놀리식 웹 아키텍처가 주류.</td></tr><tr><td><strong>2010 년대 이후</strong></td><td>클라우드, 컨테이너, DevOps 확산으로 MSA 와 분산 아키텍처가 부상. 대규모 시스템에서 점차 대체되며 일부 영역에선 혼합 사용.</td></tr></tbody></table><h4 id=현대적-관점과-지속성>현대적 관점과 지속성<a hidden class=anchor aria-hidden=true href=#현대적-관점과-지속성>#</a></h4><table><thead><tr><th>항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>현대적 사용 사례</strong></td><td>Netflix, Amazon, eBay 등도 초기엔 모놀리식으로 시작하여 점진적으로 MSA 로 전환.</td></tr><tr><td><strong>지속적인 사용 이유</strong></td><td>단순한 구조, 낮은 진입장벽, 빠른 MVP 구현에 유리하여 스타트업, 내부 시스템, 프로토타이핑에 여전히 적합.</td></tr><tr><td><strong>진화 경로</strong></td><td>단일 코드 → 모듈화 구조 → 레이어 아키텍처 → API 기반 분리 → 마이크로서비스 또는 하이브리드 구조로 발전 중.</td></tr></tbody></table><h3 id=목적-및-필요성>목적 및 필요성<a hidden class=anchor aria-hidden=true href=#목적-및-필요성>#</a></h3><p>모놀리식 아키텍처는 <strong>초기 개발 속도, 단순한 배포 구조, 낮은 인프라 비용, 일관된 데이터 처리</strong>가 중요한 상황에서 매우 적합하다. 특히 <strong>MVP, 스타트업, 내부 시스템, 단일 트랜잭션 서비스</strong>에 효과적이며, 복잡한 아키텍처나 분산 시스템이 오히려 과도한 경우 실용적인 선택지가 된다.</p><h4 id=목적>목적<a hidden class=anchor aria-hidden=true href=#목적>#</a></h4><ol><li><p><strong>개발과 운영의 단순화</strong><br>모든 기능이 하나의 프로젝트에 통합되어 있어 전체 시스템의 구조 파악과 수정이 용이하며, 배포도 단일 실행 파일 수준으로 단순화된다.</p></li><li><p><strong>빠른 프로토타이핑 및 시장 검증</strong><br>MVP(Minimum Viable Product) 나 초기 제품을 빠르게 구현하고 시장 반응을 검증하기 위한 최적의 구조로 사용된다.</p></li><li><p><strong>일관성 유지와 통합 관리</strong><br>단일 애플리케이션 내에서 모든 기능과 트랜잭션을 통합 관리할 수 있어 일관된 비즈니스 로직과 데이터 흐름을 구현하기 쉽다.</p></li><li><p><strong>성능 오버헤드 최소화</strong><br>동일 프로세스 내에서 모든 계층이 실행되므로 구성 요소 간 RPC 나 네트워크 통신으로 인한 오버헤드가 발생하지 않는다.</p></li></ol><h4 id=필요성>필요성<a hidden class=anchor aria-hidden=true href=#필요성>#</a></h4><ol><li><p><strong>소규모 팀 또는 단순 프로젝트 환경</strong><br>2~5 인 규모의 소규모 개발팀이나 복잡도가 낮은 서비스에서는 모놀리식 구조가 오히려 생산성과 유지보수 측면에서 더 효율적이다.</p></li><li><p><strong>제한된 인프라 자원</strong><br>컨테이너, 오케스트레이션, API 게이트웨이 등 복잡한 배포 구조가 부담스러운 환경에서는 단일 서버 배포가 유리하다.</p></li><li><p><strong>빠른 배포와 비용 효율성</strong><br>전체 애플리케이션을 한 번에 빌드하고 배포하므로 인프라 비용이 적고 운영도 단순하여 초기 비용이 크게 절감된다.</p></li><li><p><strong>복잡한 트랜잭션 관리가 필요한 서비스</strong><br>데이터 일관성이 중요한 서비스에서는 단일 데이터베이스 내에서 트랜잭션 처리 (ACID) 를 간단하게 구현할 수 있는 구조가 유리하다.</p></li></ol><h3 id=핵심-개념>핵심 개념<a hidden class=anchor aria-hidden=true href=#핵심-개념>#</a></h3><p>모놀리식 아키텍처는 단순하고 강력한 구조를 바탕으로 빠른 개발과 운영이 가능하지만, 강한 결합성과 단일 배포 구조로 인해 확장성과 유연성에 제약이 있다.<br>실무에서는 초기 개발, 스타트업, 내부 시스템에서 자주 사용되며, CI/CD, 로깅, 테스트 등의 구성도 단일화된 방식으로 처리된다. 그러나 일정 규모 이상에서는 구조적 병목이 발생하므로, <strong>내부 모듈화</strong>, <strong>점진적 마이크로서비스 전환</strong>, <strong>기능 중심 분리 전략</strong>이 핵심 대응책으로 적용된다.</p><h4 id=기본-개념>기본 개념<a hidden class=anchor aria-hidden=true href=#기본-개념>#</a></h4><table><thead><tr><th>항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>단일 배포 단위 (Single Deployable Unit)</strong></td><td>전체 애플리케이션이 하나의 실행 파일 (WAR, JAR, Binary 등) 혹은 컨테이너 이미지로 패키징되어 일괄 배포된다.</td></tr><tr><td><strong>단일 코드베이스 (Single Codebase)</strong></td><td>모든 기능 (UI, 로직, DB 접근 등) 이 하나의 프로젝트에 통합되어 하나의 저장소 및 빌드 단위로 관리된다.</td></tr><tr><td><strong>계층형 아키텍처 (Layered Architecture)</strong></td><td>프레젠테이션, 비즈니스 로직, 데이터 접근 계층으로 구성된 구조가 일반적이며, 각 계층은 동일한 실행 환경 내에서 작동한다.</td></tr><tr><td><strong>내부 호출 구조 (Intra-process Communication)</strong></td><td>모듈 간 통신은 동일 프로세스 내의 함수 또는 메서드 호출로 이루어지며, 네트워크 지연이 없다.</td></tr><tr><td><strong>강한 결합 (Tight Coupling)</strong></td><td>모듈 간 의존성이 높아 한 부분의 변경이 전체 애플리케이션에 영향을 미칠 수 있으며, 독립적인 기능 교체가 어렵다.</td></tr><tr><td><strong>공유 데이터베이스 (Shared Database)</strong></td><td>모든 모듈이 동일한 RDB 인스턴스 및 스키마를 공유하며, 트랜잭션 일관성이 비교적 쉽게 보장된다.</td></tr><tr><td><strong>동기 호출 기반 (Synchronous Interaction)</strong></td><td>내부 로직 실행은 대부분 동기 방식으로 동작하며, 비동기 구조는 제한적으로 사용된다.</td></tr><tr><td><strong>기술 스택 일관성 (Single Technology Stack)</strong></td><td>전체 애플리케이션이 동일한 언어, 프레임워크, 라이브러리를 기반으로 구성된다.</td></tr><tr><td><strong>자체 완비형 실행 (Self-contained Execution)</strong></td><td>외부 API 나 플랫폼 의존도가 낮아 독립적으로 구동 가능하며, 최소한의 환경만 갖추면 실행할 수 있다.</td></tr></tbody></table><h4 id=실무-구현-연관성>실무 구현 연관성<a hidden class=anchor aria-hidden=true href=#실무-구현-연관성>#</a></h4><table><thead><tr><th>측면</th><th>구현 및 운영 관점</th></tr></thead><tbody><tr><td><strong>개발 측면</strong></td><td>모든 기능을 단일 프로젝트에서 구현하므로 진입 장벽이 낮고, 초기 개발 속도가 빠르다.<br>단일 저장소 및 IDE 내 통합 개발이 일반적이다.</td></tr><tr><td><strong>테스트/디버깅</strong></td><td>모든 모듈이 하나의 실행 환경에서 동작하므로 디버깅과 테스트가 단일 컨텍스트 내에서 이루어져 빠르고 직관적이다.</td></tr><tr><td><strong>CI/CD</strong></td><td>하나의 아티팩트 (WAR, JAR 등) 를 대상으로 빌드 및 테스트를 일괄 수행하며, GitHub Actions, Jenkins, GitLab CI 등으로 단일 파이프라인을 구성한다.</td></tr><tr><td><strong>배포 전략</strong></td><td>전체 시스템을 한 번에 배포하므로 프로세스는 단순하지만, 변경이 잦은 경우 반복적인 전체 재배포로 인한 병목이 발생한다.</td></tr><tr><td><strong>운영 및 모니터링</strong></td><td>단일 실행 프로세스로 구성되어 로깅, APM, 메트릭 수집이 단일 지점에서 이루어지며, 구조화된 모니터링이 가능하다.</td></tr><tr><td><strong>스케일링 전략</strong></td><td>수직 확장 (Scale-Up) 이 기본이며, 동일한 전체 애플리케이션 인스턴스를 여러 대 복제하는 수평 확장도 제한적으로 사용된다.</td></tr><tr><td><strong>보안 및 인증 처리</strong></td><td>애플리케이션 내에서 전역 보안 설정을 일괄 적용 가능하며, JWT 또는 세션 기반 인증 처리가 일반적이다.</td></tr><tr><td><strong>유지보수 측면 리스크</strong></td><td>전체 코드베이스가 커질수록 빌드 시간 증가, 테스트 시간 증가, 협업 충돌 가능성이 커지므로 일정 수준 이후 구조적 리팩토링이 필요하다.</td></tr></tbody></table><h3 id=주요-기능-및-역할>주요 기능 및 역할<a hidden class=anchor aria-hidden=true href=#주요-기능-및-역할>#</a></h3><p>Monolithic Architecture 는 <strong>UI, 비즈니스 로직, 데이터 접근, 통합 및 보안 계층을 단일 프로세스 내에 통합</strong>하여 구성된다.<br>각 계층은 명확한 역할과 책임을 가지며, 모든 기능이 하나의 애플리케이션 단위로 관리되므로 <strong>설계, 개발, 테스트, 배포, 운영이 단순화</strong>된다.<br>특히, <strong>트랜잭션 일관성, 통합된 인증·보안, 단일화된 로그 및 모니터링</strong> 구조로 인해 초기 시스템이나 내부 시스템에 유리한 특성이 존재한다.<br>이 구조는 <strong>관심사 분리와 내부 기능 통합 간 균형</strong>을 통해 안정성과 성능, 관리 용이성을 확보한다.</p><table><thead><tr><th><strong>구성 계층</strong></th><th><strong>주요 기능</strong></th><th><strong>핵심 역할</strong></th></tr></thead><tbody><tr><td><strong>UI 계층</strong></td><td>사용자 요청 수신, 결과 출력, 화면 렌더링</td><td>사용자 경험 (UX) 제공, 입력 데이터 검증, UI 흐름 제어</td></tr><tr><td><strong>비즈니스 로직 계층</strong></td><td>도메인 규칙 처리, 트랜잭션 처리, 유효성 검사, 프로세스 흐름 관리</td><td>핵심 업무 로직 실행, 규칙 기반의 응답 생성, 기능별 책임 중심 설계</td></tr><tr><td><strong>데이터 접근 계층</strong></td><td>데이터베이스 연결, SQL 또는 ORM 기반 CRUD 처리</td><td>데이터 무결성 보장, 트랜잭션 일관성 유지, 비즈니스 로직에 필요한 데이터 제공</td></tr><tr><td><strong>통합 계층 (선택적)</strong></td><td>외부 API 연동, 메시징 시스템 (RabbitMQ, Kafka 등) 연동</td><td>시스템 간 데이터 흐름 제어, 서드파티 시스템 연계, 백오피스 또는 외부 플랫폼 연동</td></tr><tr><td><strong>보안 및 인증 계층</strong></td><td>사용자 인증 (Authentication), 권한 부여 (Authorization), 세션/쿠키/토큰 관리</td><td>단일 보안 경계 설정, 애플리케이션 전반의 인증/인가 정책 통합 관리</td></tr><tr><td><strong>공통 서비스 계층</strong></td><td>로깅, 에러 핸들링, 구성 설정, 캐싱, 설정 관리 등</td><td>시스템 운영 안정성 강화, 관측 가능성 확보 (Observability), 진단 및 운영 효율 향상</td></tr></tbody></table><h3 id=특징>특징<a hidden class=anchor aria-hidden=true href=#특징>#</a></h3><table><thead><tr><th>분류</th><th>특징 명칭</th><th>설명</th></tr></thead><tbody><tr><td><strong>구조적 특성</strong></td><td><strong>단일 코드베이스</strong></td><td>모든 기능이 하나의 프로젝트 내에서 구현되며, 하나의 저장소 (Git) 로 관리됩니다.</td></tr><tr><td></td><td><strong>단일 배포 단위 (Atomic Deploy)</strong></td><td>전체 시스템이 하나의 실행 단위 (WAR/JAR/Docker Image) 로 패키징되어 일괄 배포됩니다.</td></tr><tr><td></td><td><strong>계층형 아키텍처 구조</strong></td><td>일반적으로 UI, 비즈니스 로직, 데이터 접근 계층 등으로 구분된 수평적 구조를 가집니다.</td></tr><tr><td><strong>운영적 특성</strong></td><td><strong>내부 호출의 고성능</strong></td><td>모든 호출이 동일 프로세스 내에서 동기적으로 이루어져 통신 오버헤드가 거의 없습니다.</td></tr><tr><td></td><td><strong>공유 데이터베이스</strong></td><td>모든 기능이 하나의 DB 인스턴스와 스키마를 공유하여 트랜잭션 일관성 확보가 수월합니다.</td></tr><tr><td></td><td><strong>일관된 기술 스택</strong></td><td>단일 언어와 프레임워크로 통일되어 개발 환경이 단순하며 표준화가 쉽습니다.</td></tr><tr><td><strong>개발 생산성</strong></td><td><strong>테스트 및 디버깅 용이</strong></td><td>전체 시스템이 하나로 통합되어 있어 통합 테스트 및 디버깅이 빠르고 간단합니다.</td></tr><tr><td></td><td><strong>빠른 초기 개발</strong></td><td>개발 구조가 단순해 스타트업, MVP, PoC 등 초기 프로젝트에 적합합니다.</td></tr><tr><td><strong>내재적 한계</strong></td><td><strong>강한 결합 (Tight Coupling)</strong></td><td>모듈 간 종속성이 높아 한 부분의 변경이 전체 시스템에 영향을 미치며, 유지보수에 부담이 됩니다.</td></tr><tr><td></td><td><strong>변경·배포 단위가 큼</strong></td><td>부분 기능만 수정해도 전체 애플리케이션을 재빌드·재배포해야 하므로 배포 병목이 생깁니다.</td></tr><tr><td></td><td><strong>팀 확장 시 병목</strong></td><td>코드 충돌 및 작업 중복 등 협업 갈등이 발생하기 쉬워 규모 확장에 비효율적입니다.</td></tr><tr><td></td><td><strong>기술 스택 유연성 부족</strong></td><td>시스템 전체가 하나의 기술 기반으로 구성되므로 새로운 기술을 도입하기 어렵습니다.</td></tr></tbody></table><h3 id=핵심-원칙>핵심 원칙<a hidden class=anchor aria-hidden=true href=#핵심-원칙>#</a></h3><table><thead><tr><th>구분</th><th>원칙명</th><th>설명</th><th>비고</th></tr></thead><tbody><tr><td><strong>1. 구조적 일관성</strong></td><td><strong>일관된 코드베이스 유지 (Consistency)</strong></td><td>전체 시스템이 하나의 코드베이스로 통합되어 있으며, 공통 코딩 스타일, 설계 패턴 유지가 필수</td><td>코드 품질, 유지보수성 확보</td></tr><tr><td><strong>2. 계층화 설계</strong></td><td><strong>관심사의 분리 (Separation of Concerns)</strong></td><td>UI, 비즈니스 로직, 데이터 접근 계층 간의 역할 분리로 변경 영향 최소화</td><td>Layered Architecture 와 연계</td></tr><tr><td><strong>3. 책임 중심 구조화</strong></td><td><strong>단일 책임 원칙 (Single Responsibility Principle)</strong></td><td>각 기능 블록 (모듈 또는 레이어) 은 하나의 책임만을 갖고 변경 이유를 최소화</td><td>단일 시스템 전체가 하나의 책임이라는 오해는 주의</td></tr><tr><td><strong>4. 모듈화 설계</strong></td><td><strong>모듈성 (Modularity)</strong></td><td>내부적으로도 모듈 단위로 코드 분리 및 컴포넌트화를 통해 기능 재사용성 및 테스트 용이성 확보</td><td>내부 분리도 필수 (패키지, 디렉토리 기준)</td></tr><tr><td><strong>5. 확장 가능성 고려</strong></td><td><strong>수평 확장성 고려 (Scalable Design)</strong></td><td>모놀리식이라도 Stateless 설계, 부하 분산 등을 통해 성능 확장 구조 고려 가능</td><td>클라우드 환경, 부하 예측 시 고려</td></tr><tr><td><strong>6. 운영 단순화 지향</strong></td><td><strong>단일 배포 단위 원칙 (Unified Deployment)</strong></td><td>모든 기능이 단일 빌드 및 배포 아티팩트로 관리되므로 운영 및 배포 전략은 단일화되어야 함</td><td>CI/CD 단순화에 유리</td></tr><tr><td><strong>7. 재사용성 강화</strong></td><td><strong>공통 로직 및 유틸리티 중심 재사용 (Code Reuse)</strong></td><td>중복 코드 제거, 유틸리티 클래스, 헬퍼 함수 중심 재사용 설계로 유지보수 비용 절감</td><td>경량 라이브러리 또는 내장 모듈 활용</td></tr><tr><td><strong>8. 성능 중심 설계</strong></td><td><strong>로컬 호출 기반 고성능 설계 (Local Efficiency)</strong></td><td>내부 컴포넌트 간 메서드 호출 기반으로 동작하므로 IO, 네트워크 오버헤드 제거 설계가 필요</td><td>로컬 메모리, 캐시 활용 등을 통한 최적화</td></tr></tbody></table><h3 id=주요-원리-및-작동-원리와-방식>주요 원리 및 작동 원리와 방식<a hidden class=anchor aria-hidden=true href=#주요-원리-및-작동-원리와-방식>#</a></h3><h4 id=주요-원리>주요 원리<a hidden class=anchor aria-hidden=true href=#주요-원리>#</a></h4><ul><li><strong>로컬 통신 원리</strong>: 모든 구성 요소가 동일한 프로세스 내에서 실행되므로 모든 작업이 로컬 호출로 처리된다.</li><li><strong>계층화 원리</strong>: 프레젠테이션, 비즈니스 로직, 데이터 접근의 3 계층 구조로 각 계층이 하위 계층에 의존하는 구조를 가진다.</li><li><strong>단일 데이터베이스 원리</strong>: 애플리케이션이 단일 데이터베이스를 사용하여 데이터 일관성과 트랜잭션 무결성을 보장한다.</li></ul><h4 id=작동-원리>작동 원리<a hidden class=anchor aria-hidden=true href=#작동-원리>#</a></h4><pre class=mermaid>graph TB
    A[사용자 요청] --&gt; B[웹 서버/로드밸런서]
    B --&gt; C[모놀리틱 애플리케이션]
    
    subgraph C [모놀리틱 애플리케이션]
        D[프레젠테이션 계층]
        E[비즈니스 로직 계층]
        F[데이터 접근 계층]
        
        D --&gt; E
        E --&gt; F
        F --&gt; E
        E --&gt; D
    end
    
    F --&gt; G[데이터베이스]
    G --&gt; F
    
    C --&gt; B
    B --&gt; A
</pre><p><strong>작동 방식</strong>:</p><ol><li><strong>요청 처리</strong>: 사용자 요청이 웹 서버를 통해 애플리케이션으로 전달</li><li><strong>계층별 처리</strong>: 프레젠테이션 → 비즈니스 로직 → 데이터 접근 순으로 요청 처리</li><li><strong>로컬 호출</strong>: 모든 구성 요소 간 통신이 메모리 내 메소드 호출로 수행</li><li><strong>응답 반환</strong>: 처리 결과가 역순으로 사용자에게 전달</li></ol><h3 id=구조-및-아키텍처>구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#구조-및-아키텍처>#</a></h3><pre class=mermaid>graph TB
  subgraph Monolith Application
    UI
    Logic
    DataAccess
  end
  UI --&gt; Logic --&gt; DataAccess --&gt; Database[(DB)]
</pre><ul><li><strong>프레젠테이션 계층 (UI/API)</strong></li><li><strong>비즈니스 로직 계층</strong></li><li><strong>데이터 접근 계층</strong></li><li><strong>공통 유틸/핵심 모듈</strong> (optional 구성으로 인증, 로깅, 캐시 포함)</li><li>공유 DB 또는 DB 어댑터 모듈 포함</li></ul><h4 id=구성-요소>구성 요소<a hidden class=anchor aria-hidden=true href=#구성-요소>#</a></h4><table><thead><tr><th>구성</th><th>유형</th><th>역할</th><th>특징</th></tr></thead><tbody><tr><td>Presentation/UI</td><td>필수</td><td>사용자 요청 수신, 응답 반환</td><td>요청 흐름의 시작점</td></tr><tr><td>Business Logic</td><td>필수</td><td>핵심 도메인 처리</td><td>시스템 기능 중심</td></tr><tr><td>Data Access</td><td>필수</td><td>DB 쿼리 및 CRUD</td><td>데이터 영속화 구현</td></tr><tr><td>Auth/Logging/Kafka Adapter</td><td>선택</td><td>보안, 모니터링, 메시징</td><td>기능 보완 및 확장</td></tr></tbody></table><h3 id=구현-기법-및-방법>구현 기법 및 방법<a hidden class=anchor aria-hidden=true href=#구현-기법-및-방법>#</a></h3><table><thead><tr><th>분류</th><th>구현 기법</th><th>설명</th><th>실무 예시 또는 적용 방안</th></tr></thead><tbody><tr><td><strong>구조적 구성</strong></td><td><strong>계층형 아키텍처 (Layered Architecture)</strong></td><td>UI, 비즈니스 로직, 데이터 접근 계층으로 수평 분리됨. 관심사 분리를 통한 유지보수성 확보 목적.</td><td>Spring MVC, Django, ASP.NET MVC</td></tr><tr><td></td><td><strong>N-Tier 구조</strong></td><td>Layered 구조를 물리적으로 분리하여 배포 가능하게 설계 (서버 분리).</td><td>Web → App → DB 서버 분리 구성</td></tr><tr><td><strong>모듈화 전략</strong></td><td><strong>단일 모듈 방식 (Classic)</strong></td><td>모든 기능이 하나의 프로젝트, 하나의 모듈로 구현됨.</td><td>레거시 ERP 시스템 등</td></tr><tr><td></td><td><strong>멀티 모듈 방식</strong></td><td>내부적으로 도메인 또는 책임 단위로 모듈을 나누되, 단일 배포 단위를 유지.</td><td>Java Maven 멀티모듈 프로젝트</td></tr><tr><td></td><td><strong>Vertical Slice 방식</strong></td><td>기능별로 레이어를 관통하는 단위 (예: 주문 기능) 를 독립 구성하여 응집도 향상.</td><td>도메인 중심 설계 적용 시 유용</td></tr><tr><td><strong>코드 및 호출 구조</strong></td><td><strong>Main 진입점 구성</strong></td><td>단일 진입점 (<code>main.py</code>, <code>main()</code> 등) 에서 모든 구성 요소가 시작됨.</td><td>Flask, Spring Boot 앱</td></tr><tr><td></td><td><strong>내부 호출 방식 (Intra-process)</strong></td><td>모듈 간 메서드/객체 직접 호출로 네트워크 레이턴시 없이 처리.</td><td>Python import, Java DI</td></tr><tr><td><strong>배포 및 실행 방식</strong></td><td><strong>단일 빌드/배포 파이프라인 구성</strong></td><td>하나의 빌드 스크립트로 전체 시스템을 패키징 및 배포.</td><td>Gradle/Maven + CI</td></tr><tr><td></td><td><strong>단일 배포 파일 구성</strong></td><td>WAR, JAR, Docker Image 등 하나의 아티팩트로 패키징.</td><td><code>java -jar app.jar</code> 실행</td></tr><tr><td></td><td><strong>환경 구성 분리 (Config-driven)</strong></td><td>환경별 설정을 파일/환경변수로 분리하여 다중 환경 배포 가능.</td><td><code>.env</code>, <code>application-prod.yml</code></td></tr><tr><td><strong>데이터 및 통신</strong></td><td><strong>공유 데이터베이스 접근</strong></td><td>모든 기능이 하나의 데이터베이스와 동일한 커넥션/트랜잭션 범위를 공유함.</td><td>PostgreSQL, MySQL 등</td></tr><tr><td></td><td><strong>단일 언어/프레임워크 사용</strong></td><td>전체 시스템이 하나의 기술 스택 (Single Tech Stack) 으로 구성됨.</td><td>Spring, Django, Express 등</td></tr></tbody></table><ul><li>모놀리식 아키텍처는 <strong>단일 코드베이스</strong>, <strong>단일 진입점</strong>, <strong>단일 배포 단위</strong>를 기반으로 구축되며, 대부분 <strong>계층형 구조</strong>로 구성된다.</li><li>프로젝트 규모에 따라 <strong>멀티 모듈 구성</strong>이나 <strong>Vertical Slice 모듈화 전략</strong>을 통해 유지보수성과 응집도를 높일 수 있다.</li><li>CI/CD 는 단일 파이프라인으로 관리되며, 구성 환경을 <code>config-driven</code> 으로 분리해 다양한 배포 시나리오에 유연하게 대응할 수 있다.</li><li>실무에서는 Django, Spring Boot, Flask 등 주요 프레임워크에서 이러한 구현 방식이 정형화되어 있으며, 점진적 MSA 전환을 고려한 <strong>내부 모듈화 전략</strong>이 중요한 설계 요소로 부각된다.</li></ul><h3 id=장점>장점<a hidden class=anchor aria-hidden=true href=#장점>#</a></h3><table><thead><tr><th>카테고리</th><th>항목</th><th>설명</th><th>근거 원인/배경</th></tr></thead><tbody><tr><td><strong>개발 생산성</strong></td><td>개발 용이성</td><td>단일 코드베이스와 일관된 프로젝트 구조로 개발자가 시스템을 쉽게 이해하고 빠르게 개발 가능</td><td>단일 프로젝트 구조, 강한 응집성</td></tr><tr><td></td><td>빠른 초기 구축</td><td>설정과 구성요소가 단순해 스타트업이나 초기 프로젝트에 적합</td><td>설정 파일 단순화, 의존성 관리 일원화</td></tr><tr><td></td><td>코드 일관성 유지</td><td>동일한 환경/도구/코드 스타일을 전체 시스템에 적용 가능</td><td>통합 환경 내 코드 규칙 일관성</td></tr><tr><td><strong>테스트·디버깅</strong></td><td>테스트 용이성</td><td>통합된 구조 덕분에 E2E 테스트, 통합 테스트, 로컬 테스트가 쉽고 환경 재현도 간단</td><td>동일 프로세스 내 모든 기능 배치</td></tr><tr><td></td><td>디버깅 용이성</td><td>호출 흐름이 단일 프로세스 내부에서 발생하므로 전체 플로우 추적 및 문제 해결이 쉬움</td><td>네트워크 분산 없이 로컬 디버깅 가능</td></tr><tr><td><strong>배포·운영</strong></td><td>배포 간편성</td><td>단일 빌드/단일 배포 아티팩트로 인해 전체 시스템의 배포 프로세스가 간단하고 빠름</td><td>배포 대상 단일화, 배포 파이프라인 최소화</td></tr><tr><td></td><td>중앙화된 관리</td><td>로깅, 인증, 보안 정책, 설정 등의 관리가 중앙에서 일괄 처리 가능</td><td>통합된 운영 환경</td></tr><tr><td><strong>성능 효율성</strong></td><td>낮은 호출 오버헤드</td><td>로컬 메소드 호출로 인해 IPC/네트워크 오버헤드 없이 고속 응답 가능</td><td>내부 함수 호출 기반 아키텍처</td></tr><tr><td></td><td>리소스 활용 효율성</td><td>단일 프로세스 구조로 CPU, 메모리 등의 자원 효율적 사용 가능</td><td>단일 런타임 인스턴스</td></tr><tr><td><strong>비용 효율성</strong></td><td>초기 인프라 비용 절감</td><td>단순한 구조와 적은 인스턴스로 인해 초기 인프라/라이선스/구성 비용이 낮음</td><td>서버/DB 수 감소, 설정 간소화</td></tr><tr><td></td><td>운영 오버헤드 최소화</td><td>팀 규모나 전문화된 인프라 운영 인력이 없이도 관리 가능</td><td>DevOps 자동화 도구 최소 필요</td></tr><tr><td><strong>데이터 일관성</strong></td><td>트랜잭션 관리 용이</td><td>단일 DB 기반의 로컬 트랜잭션으로 ACID 속성을 자연스럽게 보장 가능</td><td>DB 공유, 단일 트랜잭션 범위</td></tr><tr><td><strong>보안 단순화</strong></td><td>보안 경계 단순화</td><td>외부 노출 지점이 제한적이고 내부 통신이 네트워크를 경유하지 않기 때문에 제어 및 방어가 수월함</td><td>내부 모듈 간 네트워크 통신 불필요</td></tr></tbody></table><ul><li><p><strong>개발 생산성</strong> 측면에서 Monolith 는 구조가 단순하고 코드베이스가 통일되어 있어 개발 속도가 빠르며, 초기 개발 및 온보딩이 쉬운 것이 가장 큰 장점이다.</p></li><li><p><strong>테스트 및 디버깅</strong>의 경우, 모든 기능이 하나의 프로세스 내에서 실행되므로 통합 테스트나 로컬 디버깅이 매우 용이하며, 테스트 환경을 구성하는 비용도 낮다.</p></li><li><p><strong>배포 및 운영</strong>은 단일 빌드와 배포 파이프라인만 유지하면 되므로 프로세스가 간단하고, 로깅·보안·설정 등 운영 요소를 중앙에서 통제할 수 있다.</p></li><li><p><strong>성능 효율성</strong>에서는 모듈 간 로컬 호출이 가능하다는 점에서 분산 아키텍처 대비 오버헤드가 적고, 단일 런타임으로 인해 리소스를 효율적으로 사용한다.</p></li><li><p><strong>비용 효율성</strong>은 복잡한 인프라가 필요 없고, DevOps 부담이 적기 때문에 초기 운영 비용이 낮으며, 소규모 팀에서 관리 가능하다는 이점이 있다.</p></li><li><p><strong>데이터 일관성</strong>은 단일 데이터베이스와 로컬 트랜잭션 구조를 통해 강한 일관성과 ACID 속성을 자연스럽게 확보할 수 있다.</p></li><li><p><strong>보안 단순화</strong>는 마이크로서비스처럼 복잡한 네트워크 방화벽, 인증/인가 계층 없이 단일 시스템 내에서 통제 가능하므로 제어 지점이 명확하다.</p></li></ul><h3 id=단점과-문제점-그리고-해결방안>단점과 문제점 그리고 해결방안<a hidden class=anchor aria-hidden=true href=#단점과-문제점-그리고-해결방안>#</a></h3><h4 id=단점>단점<a hidden class=anchor aria-hidden=true href=#단점>#</a></h4><table><thead><tr><th>카테고리</th><th>항목</th><th>설명</th><th>해결 방안 요약</th></tr></thead><tbody><tr><td><strong>확장성 제약</strong></td><td>전체 단위 확장 필요</td><td>특정 기능 하나만 확장해도 전체 시스템을 확장해야 함</td><td>모듈 기반 수평 확장, 기능 분리, 점진적 서비스화 전환</td></tr><tr><td><strong>기술 유연성 부족</strong></td><td>단일 스택 종속</td><td>다양한 기술 적용 어려움, 전체 기술 교체 어려움</td><td>플러그인 아키텍처, 모듈별 기술 적용, 기술 전환 시나리오 수립</td></tr><tr><td><strong>배포 리스크</strong></td><td>전역 배포 구조</td><td>작은 코드 변경에도 전체 빌드 및 배포 필요</td><td>블루그린/카나리 배포, 기능 플래그, 부분 배포 전략</td></tr><tr><td><strong>복잡도 증가</strong></td><td>코드베이스 커짐</td><td>코드량이 증가할수록 구조 복잡도와 기술 부채 심화</td><td>모듈화, 코드 표준화, 정기적 리팩토링, 테스트 커버리지 확보</td></tr><tr><td><strong>협업 병목</strong></td><td>팀 간 충돌</td><td>여러 개발자가 동일한 코드베이스에 의존, 협업 갈등 유발</td><td>모듈별 소유권, 브랜치 전략, 코드 오너십 모델 적용</td></tr></tbody></table><p>단점은 대부분 <strong>전체 시스템을 하나로 묶는 구조적 특성</strong>에서 비롯된다. 확장성 한계, 기술 유연성 부족, 배포 리스크는 모두 " 모듈별 독립적 운영이 불가능한 단일 구조 " 에 기인한다. 따라서 해결책은 <strong>내부 모듈화 → 부분 분리 → 점진적 서비스화</strong>로 이어지는 구조적 전환을 포함해야 하며, <strong>배포 전략 개선</strong>과 <strong>팀 간 협업 체계</strong> 구축도 병행되어야 한다.</p><h4 id=문제점>문제점<a hidden class=anchor aria-hidden=true href=#문제점>#</a></h4><table><thead><tr><th>카테고리</th><th>항목</th><th>원인 또는 상황</th><th>탐지/진단 방법</th><th>해결 방안 요약</th></tr></thead><tbody><tr><td><strong>성능</strong></td><td>리소스 병목</td><td>단일 프로세스에서의 연산 집중, GC 지연, 캐시 미활용 등</td><td>APM, 프로파일링, 시스템 메트릭 분석</td><td>캐싱 전략, 코드 최적화, GC 튜닝, 리드 복제 활용</td></tr><tr><td></td><td>DB 병목</td><td>모든 기능이 단일 DB 에 의존, 과도한 쿼리 발생</td><td>쿼리 분석 도구, DB 모니터링</td><td>인덱스 최적화, 읽기 복제본 활용, 쿼리 튜닝</td></tr><tr><td><strong>운영 안정성</strong></td><td>장애 전파</td><td>하나의 장애가 전체 시스템에 영향을 줌 (강결합 구조)</td><td>헬스체크, 로그 분석</td><td>장애 격리 설계, Circuit Breaker, 자동 복구 스크립트 구성</td></tr><tr><td></td><td>배포 실패</td><td>작은 오류에도 전체 배포 중단</td><td>CI/CD 로그, 배포 이력 분석</td><td>Canary/Blue-Green 배포, 기능 플래그, 자동 롤백 구성</td></tr><tr><td><strong>유지보수성</strong></td><td>코드 복잡도 증가</td><td>신규 기능 추가, 기술 부채 누적 → 가독성 저하, 테스트 어려움</td><td>코드 분석 도구, 커버리지 도구</td><td>문서화, 모듈 경계 설정, 도메인 중심 설계 적용</td></tr><tr><td></td><td>빌드 및 테스트 지연</td><td>코드베이스 증가에 따른 테스트·빌드 시간 증가</td><td>빌드 시간 로깅, 병목 구간 추적</td><td>증분 빌드, 병렬 테스트, 빌드 캐싱 적용</td></tr><tr><td><strong>시스템 안정성</strong></td><td>메모리 누수</td><td>장기 실행 프로세스의 메모리 해제 실패 또는 GC 미튜닝</td><td>메모리 모니터링, GC 로그 분석</td><td>커넥션 풀 설정, GC 옵션 조정, Leak Detection 도구 활용</td></tr></tbody></table><p>문제점은 <strong>운영 중 발생하는 실질적 병목과 실패 지점</strong>으로, 구조적 단점이 시스템에 직접적으로 드러난 결과물이다. 대표적으로 성능 병목 (리소스/DB), 장애 전파, 배포 실패, 코드 복잡도 증가는 모두 <strong>내부 모듈 간 강한 결합과 전역 배포 구조</strong>에서 비롯된다. 이를 해결하려면 APM, 로깅, 트레이싱 같은 <strong>운영 가시성 확보 도구</strong>와 함께, <strong>테스트 자동화, 장애 격리 설계, 빌드 최적화</strong> 전략이 요구된다.</p><h3 id=도전-과제>도전 과제<a hidden class=anchor aria-hidden=true href=#도전-과제>#</a></h3><table><thead><tr><th>카테고리</th><th>도전 과제</th><th>원인</th><th>영향</th><th>탐지 및 진단</th><th>예방 방안</th><th>해결 방안</th></tr></thead><tbody><tr><td><strong>확장성</strong></td><td>리소스 낭비 및 부분 확장 불가 문제</td><td>단일 배포 단위, 전체 시스템 수준의 스케일링 한계</td><td>리소스 과잉 사용, 비용 증가, 성능 병목</td><td>APM, 부하 테스트, 리소스 모니터링</td><td>기능/도메인 단위 모듈 분리</td><td>수평 확장, 캐싱, 로드 밸런싱, 점진적 분리 설계</td></tr><tr><td><strong>기술 유연성</strong></td><td>기술 스택 교체 및 도입 어려움</td><td>강한 내부 결합, 전체 통합 코드베이스</td><td>기술 부채 누적, 신기술 도입 지연</td><td>기술 스택 분석, 종속성 시각화</td><td>인터페이스 기반 설계, 분리 가능한 구조 도입</td><td>플러그인 아키텍처, 점진적 리팩토링, 기술 단위 모듈화</td></tr><tr><td><strong>조직/협업</strong></td><td>코드 소유권 충돌 및 팀 간 협업 병목</td><td>모든 팀이 하나의 코드베이스에서 작업</td><td>리뷰 병목, 생산성 저하, 병합 충돌</td><td>Git 히스토리 분석, 리뷰 병목 진단</td><td>모듈 단위 팀 소유권 분리, 브랜치 전략 명확화</td><td>DDD 기반 모듈화, 계약 기반 인터페이스 정의</td></tr><tr><td><strong>배포/운영</strong></td><td>릴리즈 위험 및 무중단 배포 어려움</td><td>전체 빌드/재배포 구조, 부분 배포 전략 부재</td><td>배포 지연, 장애 확산 위험</td><td>CI/CD 로그, 배포 실패율 분석</td><td>배포 단위 최소화, Feature Flag 도입</td><td>Blue-Green, Canary 배포, 배포 자동화 파이프라인 구축</td></tr><tr><td><strong>장애 관리</strong></td><td>장애 격리 불가 및 전체 시스템 영향</td><td>모듈 간 높은 결합, 공통 리소스 사용</td><td>시스템 전체 장애, 복구 지연</td><td>로그/트레이스 분석, 장애 패턴 탐지</td><td>Circuit Breaker, Bulkhead 설계 적용</td><td>분리된 스케일링, 메시징 기반 처리 구조 적용</td></tr><tr><td><strong>마이그레이션</strong></td><td>마이크로서비스 전환의 경계/인터페이스 문제</td><td>도메인 설계 미비, 단일 DB 구조, 내부 결합 인터페이스</td><td>점진적 전환 어려움, 통합 실패 위험</td><td>도메인 분석, 의존성 맵핑</td><td>Bounded Context 명확화, 데이터 분리</td><td>API 게이트웨이 도입, 이벤트 기반 분리, Hybrid 구조 채택</td></tr><tr><td><strong>개발/품질</strong></td><td>코드베이스 복잡도 및 테스트 범위 부족</td><td>거대화된 단일 프로젝트, 테스트 설계 부족</td><td>유지보수 비용 증가, 회귀 버그 증가</td><td>커버리지 리포트, 정적 분석 도구</td><td>테스트 피라미드 전략, 단위/통합 테스트 자동화</td><td>코드 리팩토링, 테스트 모듈 분리, 테스트 격리 강화</td></tr><tr><td><strong>클라우드화</strong></td><td>클라우드 네이티브 전환 어려움</td><td>상태 유지형 구조, 컨테이너화 미흡</td><td>스케일아웃 및 배포 자동화 제한</td><td>클라우드 자원 사용 패턴 분석</td><td>상태 분리, 무상태 API 구조 설계</td><td>컨테이너 기반 배포, 서비스 메시 도입, 모놀리스 분해 전략</td></tr></tbody></table><ul><li><p><strong>확장성 문제</strong>는 단일 배포 단위 구조로 인해 전체 시스템만 스케일링 가능하며, 부분 확장이 불가능해 리소스 낭비와 병목을 유발한다. 이를 위해 수평 확장 구조와 모듈 단위 분리 전략이 요구된다.</p></li><li><p><strong>기술 유연성 문제</strong>는 강한 결합 구조가 신기술 도입을 어렵게 만들어 기술 부채가 누적된다. 인터페이스 기반의 느슨한 결합과 플러그인 구조를 통해 기술 교체 가능성을 확보해야 한다.</p></li><li><p><strong>조직 및 협업 측면</strong>에서는 여러 팀이 동일한 코드베이스를 사용할 경우 충돌과 병목이 빈번하게 발생하며, 이를 해결하기 위해 팀 단위 모듈 소유권과 브랜치 전략 정비가 필요하다.</p></li><li><p><strong>배포 및 운영 측면</strong>에서는 전체 재빌드로 인한 배포 위험과 다운타임 발생이 주요 문제이며, CI/CD 파이프라인과 블루그린/카나리 배포로 위험을 줄여야 한다.</p></li><li><p><strong>장애 관리 문제</strong>는 강한 내부 결합으로 인해 일부 장애가 전체 시스템에 영향을 미친다. 장애 격리를 위한 분리된 인프라 구성과 모듈 독립적 장애 처리가 필요하다.</p></li><li><p><strong>마이그레이션 문제</strong>는 점진적 MSA 전환이 어려운 구조에서 발생하며, Bounded Context 및 API 게이트웨이 등을 통해 전환 로드맵을 정립해야 한다.</p></li><li><p><strong>개발 품질 문제</strong>는 대형 코드베이스와 테스트 설계 부족으로 유지보수 비용 증가와 품질 저하가 발생한다. 테스트 전략과 코드 리팩토링 체계를 강화해야 한다.</p></li><li><p><strong>클라우드 네이티브 전환 문제</strong>는 상태 유지형 아키텍처와 모놀리식 특성으로 인해 클라우드 자원의 확장성과 자동화 도입이 어렵다. 무상태 구조와 컨테이너화, 서비스 메시 도입이 요구된다.</p></li></ul><h3 id=monolithic-architecture-vs-microservices-architecture-비교-및-전환-전략>Monolithic Architecture vs. Microservices Architecture 비교 및 전환 전략<a hidden class=anchor aria-hidden=true href=#monolithic-architecture-vs-microservices-architecture-비교-및-전환-전략>#</a></h3><h4 id=monolithic-architecture-vs-microservices-architecture-비교>Monolithic Architecture vs. Microservices Architecture 비교<a hidden class=anchor aria-hidden=true href=#monolithic-architecture-vs-microservices-architecture-비교>#</a></h4><table><thead><tr><th>항목</th><th>모놀리식 아키텍처</th><th>마이크로서비스 아키텍처</th></tr></thead><tbody><tr><td><strong>구조</strong></td><td>단일 애플리케이션으로 구성</td><td>각 기능이 독립된 서비스로 구성</td></tr><tr><td><strong>배포 단위</strong></td><td>전체 앱을 하나의 단위로 배포</td><td>서비스별로 독립 배포 가능</td></tr><tr><td><strong>개발 팀 구성</strong></td><td>하나의 팀이 전체 애플리케이션을 담당</td><td>서비스 별로 크로스 기능 팀 구성 가능</td></tr><tr><td><strong>기술 스택</strong></td><td>단일 기술 스택 사용이 일반적</td><td>서비스마다 다른 기술 스택 사용 가능</td></tr><tr><td>스케일링</td><td>전체 앱 단위 스케일링</td><td>독립 서비스별 수평 확장</td></tr><tr><td>유지보수</td><td>변경이 전체에 영향</td><td>로컬화된 영향도 관리 용이</td></tr><tr><td><strong>장애 전파</strong></td><td>하나의 서비스 문제로 전체 서비스 중단 가능</td><td>개별 서비스 장애가 전체 서비스에 영향 없음</td></tr><tr><td><strong>확장성</strong></td><td>전체 시스템 확장이 필요</td><td>필요한 서비스만 개별 확장 가능</td></tr><tr><td><strong>테스트 및 디버깅</strong></td><td>전체 통합 테스트 용이</td><td>서비스 간 연동 테스트 복잡</td></tr><tr><td><strong>배포 복잡도</strong></td><td>단순함 (단일 배포)</td><td>서비스 수 증가에 따른 배포 복잡도 증가</td></tr><tr><td><strong>데이터 관리</strong></td><td>중앙 집중형 DB</td><td>서비스별 개별 DB (데이터 분산)</td></tr><tr><td>운영 복잡도</td><td>낮음 (초기)</td><td>높음 (배포, 로깅, 통신 등)</td></tr><tr><td><strong>운영/모니터링</strong></td><td>단일 로그, 모니터링 구조</td><td>서비스별 로깅, 모니터링 체계 필요</td></tr><tr><td><strong>성능</strong></td><td>통신 비용 적음</td><td>서비스 간 통신 비용 증가 (HTTP/gRPC 등)</td></tr><tr><td>DevOps 요구사항</td><td>상대적으로 단순</td><td>고도화된 CI/CD, 모니터링 필요</td></tr></tbody></table><h4 id=모놀리식에서-마이크로서비스로-전환-전략>모놀리식에서 마이크로서비스로 전환 전략<a hidden class=anchor aria-hidden=true href=#모놀리식에서-마이크로서비스로-전환-전략>#</a></h4><h5 id=전환-목적>전환 목적<a hidden class=anchor aria-hidden=true href=#전환-목적>#</a></h5><ul><li>시스템 확장성 확보</li><li>독립 배포/운영 가능성 확보</li><li>복잡성 감소 및 팀 분산 운영 효율화</li></ul><h5 id=전환-절차-단계별-전략>전환 절차 단계별 전략<a hidden class=anchor aria-hidden=true href=#전환-절차-단계별-전략>#</a></h5><table><thead><tr><th>단계</th><th>전략</th><th>설명</th></tr></thead><tbody><tr><td>1 단계</td><td><strong>모놀리식 개선</strong></td><td>모듈화, 코드 리팩토링으로 기능 분리 준비</td></tr><tr><td>2 단계</td><td><strong>도메인 분할</strong></td><td>DDD(Domain-Driven Design) 기반으로 Bounded Context 정의</td></tr><tr><td>3 단계</td><td><strong>분리 대상 선정</strong></td><td>변화가 잦은 기능, 병목 기능, 독립성이 높은 기능부터 분리</td></tr><tr><td>4 단계</td><td><strong>독립 서비스 개발</strong></td><td>기존 기능을 마이크로서비스로 재작성 또는 추출</td></tr><tr><td>5 단계</td><td><strong>통신 구현</strong></td><td>REST API, gRPC, 메시지 브로커 (Kafka 등) 를 활용한 서비스 간 통신 구성</td></tr><tr><td>6 단계</td><td><strong>데이터 분리</strong></td><td>서비스별 DB 구성 (데이터 정합성 보장 전략 필요: Eventual Consistency 등)</td></tr><tr><td>7 단계</td><td><strong>배포 자동화</strong></td><td>서비스 단위 CI/CD 구축</td></tr><tr><td>8 단계</td><td><strong>모니터링 및 장애 대응 체계</strong></td><td>Prometheus, Grafana, ELK Stack 등 도입</td></tr><tr><td>9 단계</td><td><strong>트래픽 전환</strong></td><td>점진적 트래픽 이전 (Canary, Blue/Green 배포)</td></tr><tr><td>10 단계</td><td><strong>모놀리식 제거 또는 유지</strong></td><td>완전 전환 또는 하이브리드 구조 유지 결정</td></tr></tbody></table><h5 id=전환-구조-예시>전환 구조 예시<a hidden class=anchor aria-hidden=true href=#전환-구조-예시>#</a></h5><h6 id=before-모놀리식>Before (모놀리식)<a hidden class=anchor aria-hidden=true href=#before-모놀리식>#</a></h6><pre class=mermaid>graph TD
  A[User Interface] --&gt; B[Monolith App]
  B --&gt; C[Database]
</pre><h6 id=after-msa-전환>After (MSA 전환)<a hidden class=anchor aria-hidden=true href=#after-msa-전환>#</a></h6><pre class=mermaid>graph TD
  A[User Interface] --&gt; S1[Order Service]
  A --&gt; S2[Payment Service]
  A --&gt; S3[Inventory Service]
  S1 --&gt; DB1[Order DB]
  S2 --&gt; DB2[Payment DB]
  S3 --&gt; DB3[Inventory DB]
</pre><h5 id=전환-시-고려할-문제-및-해결책>전환 시 고려할 문제 및 해결책<a hidden class=anchor aria-hidden=true href=#전환-시-고려할-문제-및-해결책>#</a></h5><table><thead><tr><th>문제</th><th>설명</th><th>해결 방법</th></tr></thead><tbody><tr><td>서비스 간 트랜잭션</td><td>분산 환경에서 ACID 보장 어려움</td><td>SAGA 패턴, 이벤트 기반 보상 트랜잭션</td></tr><tr><td>성능 저하</td><td>서비스 간 네트워크 호출 증가</td><td>gRPC 도입, API Gateway 캐싱, Circuit Breaker</td></tr><tr><td>데이터 정합성</td><td>DB 가 분리되어 Join 불가</td><td>CQRS, Eventual Consistency, Kafka 활용</td></tr><tr><td>배포 복잡도 증가</td><td>여러 서비스의 독립적 배포 필요</td><td>서비스별 CI/CD 파이프라인 구축</td></tr><tr><td>개발 생산성 저하</td><td>분산 시스템 설계 복잡도 증가</td><td>명확한 서비스 경계와 표준화된 프로토콜 설계</td></tr></tbody></table><h3 id=분류-기준에-따른-종류-및-유형>분류 기준에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#분류-기준에-따른-종류-및-유형>#</a></h3><table><thead><tr><th>분류 기준</th><th>유형</th><th>설명</th><th>적용 예시</th></tr></thead><tbody><tr><td><strong>계층 구조</strong></td><td>2-Tier</td><td>클라이언트 ↔ 서버 구조 (UI/데이터 혼합 또는 최소한의 비즈니스 로직)</td><td>데스크톱 앱, 간단한 내부 시스템</td></tr><tr><td></td><td>3-Tier</td><td>프레젠테이션 - 비즈니스 - 데이터 계층 분리</td><td>대부분의 웹 애플리케이션</td></tr><tr><td></td><td>N-Tier</td><td>3 계층 이상으로 세분화된 복잡한 계층 구조</td><td>엔터프라이즈 애플리케이션</td></tr><tr><td><strong>모듈화 수준</strong></td><td>Classic Monolith</td><td>모든 코드가 단일 모듈 내 밀접하게 결합</td><td>레거시 ERP 시스템 등</td></tr><tr><td></td><td>Modular Monolith</td><td>내부적으로 도메인 기반 수직 모듈 분리 (물리적 배포는 단일)</td><td>도메인 분리 적용된 모놀리식 웹 앱</td></tr><tr><td></td><td>Multi-Module Monolith</td><td>역할/레이어 기반으로 명확한 모듈화가 되어 있으며 인터페이스로 연결됨</td><td>팀 분리 기반의 중대형 모놀리식 시스템</td></tr><tr><td><strong>배포 방식</strong></td><td>Single-Binary</td><td>하나의 실행 파일 (또는 JAR, EXE 등) 로 구성</td><td>콘솔 앱, Spring Boot Fat JAR 등</td></tr><tr><td></td><td>Containerized Monolith</td><td>Docker 기반으로 단일 컨테이너 이미지로 패키징</td><td>쿠버네티스 단일 Pod 에 배포된 모놀리식 앱</td></tr><tr><td></td><td>Distributed Monolith</td><td>물리적으로 분산되어 있으나, 논리적으로는 강하게 결합된 모놀리식 시스템</td><td>비효율적인 초기 MSA 전환 실패 사례 등</td></tr><tr><td><strong>기술 구조</strong></td><td>Layered Architecture</td><td>수평 계층 구조 (MVC, Clean Architecture 등 포함)</td><td>전통적 웹 프레임워크 기반 애플리케이션</td></tr><tr><td></td><td>Hexagonal Architecture</td><td>포트 - 어댑터 구조로 내부 도메인과 외부 인터페이스를 분리</td><td>테스트 용이성과 유연한 기술 교체가 필요한 시스템</td></tr><tr><td></td><td>Onion Architecture</td><td>의존성 역전 원칙 적용, 도메인 중심 설계 강화</td><td>클린 아키텍처 구현 시 구조적 선택지</td></tr><tr><td><strong>배포 전략</strong></td><td>단일 서버 배포</td><td>모든 계층이 하나의 서버에 배치되어 운영됨</td><td>초기 MVP, 개발용 환경 등</td></tr><tr><td></td><td>다중 서버/로드밸런싱 배포</td><td>동일 애플리케이션을 여러 서버에 배포하여 확장</td><td>운영 환경에서의 스케일아웃 구성</td></tr><tr><td><strong>도메인 중심 여부</strong></td><td>기능 기반</td><td>기능별 (회원, 결제 등) 로 코드가 분산되어 있으나 모듈화나 명확한 경계는 없음</td><td>전통적인 서비스 구조 시스템</td></tr><tr><td></td><td>도메인 중심 (Domain-Driven)</td><td>DDD 기반으로 모듈 경계가 명확하며 Aggregate 등 개념을 반영</td><td>DDD 기반 Modular Monolith 등</td></tr><tr><td><strong>개발 목적</strong></td><td>Greenfield Monolith</td><td>신규 구축 시 빠른 기획과 통합 개발을 위해 선택</td><td>스타트업 초기 프로젝트 등</td></tr><tr><td></td><td>Refactored Monolith</td><td>기존 시스템을 점진적으로 리팩토링하여 구조적 개선</td><td>유지보수 중심의 구조 최적화 프로젝트</td></tr></tbody></table><ul><li><p><strong>계층 구조</strong>: 구조 복잡도와 책임 분리 수준에 따라 2-Tier, 3-Tier, N-Tier 로 나뉘며, 각 계층의 분리는 테스트성, 유지보수성, 확장성에 직접적 영향을 준다. 실무에서는 대부분 3-Tier 또는 N-Tier 구조가 사용된다.</p></li><li><p><strong>모듈화 수준</strong>: Classic Monolith 는 모든 기능이 하나의 모듈에 결합되어 있고, Modular Monolith 는 내부 도메인별로 논리적 모듈화를 적용해 점진적 MSA 전환이 가능하다. Multi-Module 은 내부 경계가 명확한 구조로 팀 협업 및 테스트가 용이하다.</p></li><li><p><strong>배포 방식</strong>: 실행 파일, 컨테이너, 분산형 모놀리식으로 나뉘며, 단일 실행 파일은 단순한 배포에 적합하고, 컨테이너는 클라우드 환경에 적합하다. 분산 모놀리식은 외형은 분산처럼 보이나 실제로는 강결합 구조로 유지보수가 어렵다.</p></li><li><p><strong>기술 구조</strong>: Layered → Hexagonal → Onion 순으로 설계 원칙과 유연성이 고도화되며, 도메인과 인프라 계층의 분리를 명확히 하고 테스트와 변경에 강한 구조를 구성할 수 있다.</p></li><li><p><strong>배포 전략</strong>: 단일 서버 배포는 단순하지만 확장성이 없고, 다중 서버 배포는 로드 밸런싱과 가용성 확보가 가능하다. 실제 운영 환경에서는 다중 노드 환경과 CI/CD 가 병행된다.</p></li><li><p><strong>도메인 중심성</strong>: 도메인 중심 모놀리스는 DDD 개념을 일부 또는 전체 적용하여 서비스 분리 및 구조 설계에 유리하며, 향후 마이크로서비스 전환의 기반이 된다.</p></li><li><p><strong>개발 목적</strong>: Greenfield 는 속도를, Refactored 는 구조적 개선을 목적으로 한다. 선택 기준은 시스템의 성숙도와 조직의 목표에 따라 달라진다.</p></li></ul><h3 id=실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>카테고리</th><th>고려사항</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td><strong>팀 및 조직 규모</strong></td><td>팀 규모</td><td>소규모 팀 (5 인 이하) 에 적합, 협업 부담 적음</td><td>팀 규모 증가 시 모듈 경계 재정립, 점진적 분리 고려</td></tr><tr><td><strong>도메인 복잡성</strong></td><td>비즈니스 로직 복잡도</td><td>단순한 도메인이나 CRUD 중심 시스템에 적합</td><td>복잡도 증가 시 기능별 모듈화 및 DDD 기반 Slice 설계 적용</td></tr><tr><td><strong>변경 및 배포 관리</strong></td><td>전체 재빌드/재배포</td><td>변경 시 전체 시스템 재배포로 인해 배포 시간이 길어질 수 있음</td><td>기능 플래그 활용, Blue-Green/Canary 배포 전략 도입</td></tr><tr><td></td><td>테스트 전략</td><td>단위 테스트는 용이하지만 전체 통합 테스트가 중요</td><td>E2E 자동화 테스트와 테스트 피라미드 구조 설계 적용</td></tr><tr><td><strong>설계 및 구조화</strong></td><td>모듈화 수준 및 계층 분리</td><td>기능별, 계층별 명확한 분리가 없으면 코드 충돌 및 복잡도 증가</td><td>패키지 구조 명확화, 의존성 주입 패턴 (DI) 활용, 클린 아키텍처 적용</td></tr><tr><td></td><td>내부 의존성</td><td>공통 라이브러리와 유틸리티 사용이 많을수록 결합도 증가</td><td>유틸리티 제한, 인터페이스 기반 추상화</td></tr><tr><td><strong>운영 환경</strong></td><td>트래픽 규모 및 배포 빈도</td><td>저트래픽, 배포주기 짧은 서비스에 적합</td><td>트래픽 증가 시 캐싱, 복제, 로드밸런싱 전략 도입</td></tr><tr><td></td><td>모니터링 및 장애 대응</td><td>장애 발생 시 전체 시스템에 영향 가능</td><td>APM, 로그 기반 추적, 모듈별 상태 체크 도입</td></tr><tr><td><strong>기술 스택 관리</strong></td><td>기술 선택의 제약</td><td>전체 시스템에 동일한 기술 스택이 사용되어 도입 유연성 낮음</td><td>파일럿 모듈을 통한 점진적 기술 도입 검증</td></tr><tr><td><strong>전환 가능성</strong></td><td>아키텍처 진화 로드맵</td><td>확장성 한계 도달 시 아키텍처 전환이 어려움</td><td>마이크로서비스 전환 고려 시 API 추상화 및 분리 경계 명확화 필요</td></tr><tr><td><strong>보안 및 표준화</strong></td><td>보안 정책 일괄 적용</td><td>중앙 집중적 보안 적용은 용이하나, 세분화된 정책은 어려움</td><td>역할 기반 인증, 계층별 보안 적용 방안 설계</td></tr><tr><td><strong>문서화 및 유지보수</strong></td><td>시스템 구조 문서화</td><td>의존성 및 코드 구조가 복잡해질 경우 전체 시스템 파악이 어려움</td><td>아키텍처 다이어그램, API 문서, 의존성 맵 등 명확한 문서화 필요</td></tr></tbody></table><ul><li><p><strong>팀 규모 및 도메인 복잡성</strong> 측면에서는 소규모 인원과 단순한 비즈니스 로직을 가진 프로젝트에 적합하다. 반면, 복잡성과 인원이 증가하면 모듈화를 통한 분리 전략이 필수적이다.</p></li><li><p><strong>배포 및 테스트 전략</strong>은 전체 시스템 재배포 위험을 줄이기 위한 자동화와 무중단 배포 전략이 중요하며, 단위 테스트를 넘는 통합 테스트의 중요성이 크다.</p></li><li><p><strong>모듈화와 구조화 수준</strong>은 아키텍처의 유지보수성과 확장성에 직접 영향을 미친다. 패키지 구조와 의존성 관리 전략, 클린 아키텍처 적용 여부가 성패를 좌우한다.</p></li><li><p><strong>운영 관점</strong>에서는 초기 트래픽 수준에서는 단순한 운영이 가능하지만, 서비스 확장 시 장애 격리, 성능 모니터링, 스케일링 전략 도입이 요구된다.</p></li><li><p><strong>기술 및 전환 전략</strong>에서는 기술 스택의 유연성 부족이 문제될 수 있으므로, 점진적 전환이 가능한 모듈 경계 설계와 API 중심 구조화가 필요하다.</p></li><li><p><strong>보안, 문서화 측면</strong>에서도 모든 기능이 한 곳에 집중되므로 문서화가 반드시 필요하며, 보안 역시 계층별로 명확히 설정되어야 향후 분리에 유리하다.</p></li></ul><h3 id=cicd--모니터링-설정-예시>CI/CD & 모니터링 설정 예시<a hidden class=anchor aria-hidden=true href=#cicd--모니터링-설정-예시>#</a></h3><ul><li><strong>CI/CD</strong>: Blue-Green/Canary 배포로 안정성 확보</li><li><strong>모니터링</strong>: Prometheus, Grafana, APM 으로 실시간 모듈 상태 추적</li><li><strong>메트릭</strong>: 요청, 에러 등 수집하여 SLA 보장</li><li><strong>Contract Testing</strong>: 모듈 간 계약 테스트로 내부 서비스 신뢰성 강화</li></ul><h4 id=github-actions--blue-green-배포-워크플로우>GitHub Actions + Blue-Green 배포 워크플로우<a hidden class=anchor aria-hidden=true href=#github-actions--blue-green-배포-워크플로우>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1> 1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2> 2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3> 3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4> 4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5> 5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6> 6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7> 7</a>
</span><span class=lnt id=hl-4-8><a class=lnlinks href=#hl-4-8> 8</a>
</span><span class=lnt id=hl-4-9><a class=lnlinks href=#hl-4-9> 9</a>
</span><span class=lnt id=hl-4-10><a class=lnlinks href=#hl-4-10>10</a>
</span><span class=lnt id=hl-4-11><a class=lnlinks href=#hl-4-11>11</a>
</span><span class=lnt id=hl-4-12><a class=lnlinks href=#hl-4-12>12</a>
</span><span class=lnt id=hl-4-13><a class=lnlinks href=#hl-4-13>13</a>
</span><span class=lnt id=hl-4-14><a class=lnlinks href=#hl-4-14>14</a>
</span><span class=lnt id=hl-4-15><a class=lnlinks href=#hl-4-15>15</a>
</span><span class=lnt id=hl-4-16><a class=lnlinks href=#hl-4-16>16</a>
</span><span class=lnt id=hl-4-17><a class=lnlinks href=#hl-4-17>17</a>
</span><span class=lnt id=hl-4-18><a class=lnlinks href=#hl-4-18>18</a>
</span><span class=lnt id=hl-4-19><a class=lnlinks href=#hl-4-19>19</a>
</span><span class=lnt id=hl-4-20><a class=lnlinks href=#hl-4-20>20</a>
</span><span class=lnt id=hl-4-21><a class=lnlinks href=#hl-4-21>21</a>
</span><span class=lnt id=hl-4-22><a class=lnlinks href=#hl-4-22>22</a>
</span><span class=lnt id=hl-4-23><a class=lnlinks href=#hl-4-23>23</a>
</span><span class=lnt id=hl-4-24><a class=lnlinks href=#hl-4-24>24</a>
</span><span class=lnt id=hl-4-25><a class=lnlinks href=#hl-4-25>25</a>
</span><span class=lnt id=hl-4-26><a class=lnlinks href=#hl-4-26>26</a>
</span><span class=lnt id=hl-4-27><a class=lnlinks href=#hl-4-27>27</a>
</span><span class=lnt id=hl-4-28><a class=lnlinks href=#hl-4-28>28</a>
</span><span class=lnt id=hl-4-29><a class=lnlinks href=#hl-4-29>29</a>
</span><span class=lnt id=hl-4-30><a class=lnlinks href=#hl-4-30>30</a>
</span><span class=lnt id=hl-4-31><a class=lnlinks href=#hl-4-31>31</a>
</span><span class=lnt id=hl-4-32><a class=lnlinks href=#hl-4-32>32</a>
</span><span class=lnt id=hl-4-33><a class=lnlinks href=#hl-4-33>33</a>
</span><span class=lnt id=hl-4-34><a class=lnlinks href=#hl-4-34>34</a>
</span><span class=lnt id=hl-4-35><a class=lnlinks href=#hl-4-35>35</a>
</span><span class=lnt id=hl-4-36><a class=lnlinks href=#hl-4-36>36</a>
</span><span class=lnt id=hl-4-37><a class=lnlinks href=#hl-4-37>37</a>
</span><span class=lnt id=hl-4-38><a class=lnlinks href=#hl-4-38>38</a>
</span><span class=lnt id=hl-4-39><a class=lnlinks href=#hl-4-39>39</a>
</span><span class=lnt id=hl-4-40><a class=lnlinks href=#hl-4-40>40</a>
</span><span class=lnt id=hl-4-41><a class=lnlinks href=#hl-4-41>41</a>
</span><span class=lnt id=hl-4-42><a class=lnlinks href=#hl-4-42>42</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># .github/workflows/ci-cd.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>CI/CD Pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=l>main ]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>build-test</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Node.js</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/setup-node@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>node-version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;16&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Install deps</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm ci</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Run tests</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm test</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm run build</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Publish artifact</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/upload-artifact@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>app</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>build/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>deploy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>needs</span><span class=p>:</span><span class=w> </span><span class=l>build-test</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Download artifact</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/download-artifact@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>app</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy to Staging</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>./scripts/deploy.sh staging</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Smoke test</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm run smoke</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy to Production (Blue-Green)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>./scripts/deploy.sh production bluegreen</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=모니터링-구성-prometheus--grafana--apm>모니터링 구성 (Prometheus + Grafana + APM)<a hidden class=anchor aria-hidden=true href=#모니터링-구성-prometheus--grafana--apm>#</a></h4><ul><li><strong>Node.js 앱</strong>에 Prometheus exporter 내장:</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1> 1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2> 2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3> 3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4> 4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5> 5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6> 6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7> 7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8> 8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9> 9</a>
</span><span class=lnt id=hl-5-10><a class=lnlinks href=#hl-5-10>10</a>
</span><span class=lnt id=hl-5-11><a class=lnlinks href=#hl-5-11>11</a>
</span><span class=lnt id=hl-5-12><a class=lnlinks href=#hl-5-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>express</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;express&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>client</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;prom-client&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=nx>express</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>collectDefaultMetrics</span> <span class=o>=</span> <span class=nx>client</span><span class=p>.</span><span class=nx>collectDefaultMetrics</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>collectDefaultMetrics</span><span class=p>({</span> <span class=nx>prefix</span><span class=o>:</span> <span class=s1>&#39;myapp_&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/metrics&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=s1>&#39;Content-Type&#39;</span><span class=p>,</span> <span class=nx>client</span><span class=p>.</span><span class=nx>register</span><span class=p>.</span><span class=nx>contentType</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>end</span><span class=p>(</span><span class=nx>client</span><span class=p>.</span><span class=nx>register</span><span class=p>.</span><span class=nx>metrics</span><span class=p>());</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>listen</span><span class=p>(</span><span class=mi>3000</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>Prometheus → Grafana 로 메트릭 시각화</li><li>APM 도구 (New Relic/Datadog) 로 응답시간, 에러, CPU/메모리 지표 수집</li></ul><h4 id=javascript-구현-예시-checkout-모듈>JavaScript 구현 예시 (Checkout 모듈)<a hidden class=anchor aria-hidden=true href=#javascript-구현-예시-checkout-모듈>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a>
</span><span class=lnt id=hl-6-13><a class=lnlinks href=#hl-6-13>13</a>
</span><span class=lnt id=hl-6-14><a class=lnlinks href=#hl-6-14>14</a>
</span><span class=lnt id=hl-6-15><a class=lnlinks href=#hl-6-15>15</a>
</span><span class=lnt id=hl-6-16><a class=lnlinks href=#hl-6-16>16</a>
</span><span class=lnt id=hl-6-17><a class=lnlinks href=#hl-6-17>17</a>
</span><span class=lnt id=hl-6-18><a class=lnlinks href=#hl-6-18>18</a>
</span><span class=lnt id=hl-6-19><a class=lnlinks href=#hl-6-19>19</a>
</span><span class=lnt id=hl-6-20><a class=lnlinks href=#hl-6-20>20</a>
</span><span class=lnt id=hl-6-21><a class=lnlinks href=#hl-6-21>21</a>
</span><span class=lnt id=hl-6-22><a class=lnlinks href=#hl-6-22>22</a>
</span><span class=lnt id=hl-6-23><a class=lnlinks href=#hl-6-23>23</a>
</span><span class=lnt id=hl-6-24><a class=lnlinks href=#hl-6-24>24</a>
</span><span class=lnt id=hl-6-25><a class=lnlinks href=#hl-6-25>25</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// server.js
</span></span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>express</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;express&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>inventory</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;./inventory&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>payment</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;./payment&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>order</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;./order&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>metrics</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;./metrics&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=nx>express</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>express</span><span class=p>.</span><span class=nx>json</span><span class=p>());</span>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>metrics</span><span class=p>.</span><span class=nx>requestCounter</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=s1>&#39;/checkout&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=p>{</span> <span class=nx>userId</span><span class=p>,</span> <span class=nx>items</span><span class=p>,</span> <span class=nx>paymentInfo</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kr>await</span> <span class=nx>inventory</span><span class=p>.</span><span class=nx>reserve</span><span class=p>(</span><span class=nx>items</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>paymentResult</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>payment</span><span class=p>.</span><span class=nx>process</span><span class=p>(</span><span class=nx>paymentInfo</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>orderResult</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>order</span><span class=p>.</span><span class=nx>create</span><span class=p>(</span><span class=nx>userId</span><span class=p>,</span> <span class=nx>items</span><span class=p>,</span> <span class=nx>paymentResult</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>201</span><span class=p>).</span><span class=nx>json</span><span class=p>(</span><span class=nx>orderResult</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>metrics</span><span class=p>.</span><span class=nx>errorCounter</span><span class=p>.</span><span class=nx>inc</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>json</span><span class=p>({</span> <span class=nx>error</span><span class=o>:</span> <span class=nx>err</span><span class=p>.</span><span class=nx>message</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>listen</span><span class=p>(</span><span class=mi>3000</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Listening on :3000&#39;</span><span class=p>));</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1> 1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2> 2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3> 3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4> 4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5> 5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6> 6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7> 7</a>
</span><span class=lnt id=hl-7-8><a class=lnlinks href=#hl-7-8> 8</a>
</span><span class=lnt id=hl-7-9><a class=lnlinks href=#hl-7-9> 9</a>
</span><span class=lnt id=hl-7-10><a class=lnlinks href=#hl-7-10>10</a>
</span><span class=lnt id=hl-7-11><a class=lnlinks href=#hl-7-11>11</a>
</span><span class=lnt id=hl-7-12><a class=lnlinks href=#hl-7-12>12</a>
</span><span class=lnt id=hl-7-13><a class=lnlinks href=#hl-7-13>13</a>
</span><span class=lnt id=hl-7-14><a class=lnlinks href=#hl-7-14>14</a>
</span><span class=lnt id=hl-7-15><a class=lnlinks href=#hl-7-15>15</a>
</span><span class=lnt id=hl-7-16><a class=lnlinks href=#hl-7-16>16</a>
</span><span class=lnt id=hl-7-17><a class=lnlinks href=#hl-7-17>17</a>
</span><span class=lnt id=hl-7-18><a class=lnlinks href=#hl-7-18>18</a>
</span><span class=lnt id=hl-7-19><a class=lnlinks href=#hl-7-19>19</a>
</span><span class=lnt id=hl-7-20><a class=lnlinks href=#hl-7-20>20</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// inventory.js
</span></span></span><span class=line><span class=cl><span class=kr>async</span> <span class=kd>function</span> <span class=nx>reserve</span><span class=p>(</span><span class=nx>items</span><span class=p>)</span> <span class=p>{</span> <span class=cm>/*DB 호출*/</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>reserve</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// payment.js
</span></span></span><span class=line><span class=cl><span class=kr>async</span> <span class=kd>function</span> <span class=nx>process</span><span class=p>(</span><span class=nx>info</span><span class=p>)</span> <span class=p>{</span> <span class=cm>/*외부 API 호출*/</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>process</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// order.js
</span></span></span><span class=line><span class=cl><span class=kr>async</span> <span class=kd>function</span> <span class=nx>create</span><span class=p>(</span><span class=nx>userId</span><span class=p>,</span> <span class=nx>items</span><span class=p>,</span> <span class=nx>paymentResult</span><span class=p>)</span> <span class=p>{</span> <span class=cm>/*DB 저장*/</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>create</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// metrics.js
</span></span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>client</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;prom-client&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>counter</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>client</span><span class=p>.</span><span class=nx>Counter</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;http_requests_total&#39;</span><span class=p>,</span> <span class=nx>help</span><span class=o>:</span> <span class=s1>&#39;Total requests&#39;</span><span class=p>,</span> <span class=nx>labelNames</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;route&#39;</span><span class=p>,</span> <span class=s1>&#39;status&#39;</span><span class=p>]</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span><span class=p>.</span><span class=nx>requestCounter</span> <span class=o>=</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>,</span> <span class=nx>next</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;finish&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=nx>counter</span><span class=p>.</span><span class=nx>labels</span><span class=p>(</span><span class=nx>req</span><span class=p>.</span><span class=nx>path</span><span class=p>,</span> <span class=nx>res</span><span class=p>.</span><span class=nx>statusCode</span><span class=p>.</span><span class=nx>toString</span><span class=p>()).</span><span class=nx>inc</span><span class=p>());</span>
</span></span><span class=line><span class=cl>  <span class=nx>next</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span><span class=p>.</span><span class=nx>errorCounter</span> <span class=o>=</span> <span class=nx>counter</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><strong>구현 특징</strong><ul><li>모듈별 분리: inventory, payment, order</li><li>지표 수집: HTTP 통계, 에러 카운터</li><li>단일 앱에서 전체 checkout 흐름 처리</li></ul></li></ul><h4 id=contract-testing-예시>Contract Testing 예시<a hidden class=anchor aria-hidden=true href=#contract-testing-예시>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span><span class=lnt id=hl-8-11><a class=lnlinks href=#hl-8-11>11</a>
</span><span class=lnt id=hl-8-12><a class=lnlinks href=#hl-8-12>12</a>
</span><span class=lnt id=hl-8-13><a class=lnlinks href=#hl-8-13>13</a>
</span><span class=lnt id=hl-8-14><a class=lnlinks href=#hl-8-14>14</a>
</span><span class=lnt id=hl-8-15><a class=lnlinks href=#hl-8-15>15</a>
</span><span class=lnt id=hl-8-16><a class=lnlinks href=#hl-8-16>16</a>
</span><span class=lnt id=hl-8-17><a class=lnlinks href=#hl-8-17>17</a>
</span><span class=lnt id=hl-8-18><a class=lnlinks href=#hl-8-18>18</a>
</span><span class=lnt id=hl-8-19><a class=lnlinks href=#hl-8-19>19</a>
</span><span class=lnt id=hl-8-20><a class=lnlinks href=#hl-8-20>20</a>
</span><span class=lnt id=hl-8-21><a class=lnlinks href=#hl-8-21>21</a>
</span><span class=lnt id=hl-8-22><a class=lnlinks href=#hl-8-22>22</a>
</span><span class=lnt id=hl-8-23><a class=lnlinks href=#hl-8-23>23</a>
</span><span class=lnt id=hl-8-24><a class=lnlinks href=#hl-8-24>24</a>
</span><span class=lnt id=hl-8-25><a class=lnlinks href=#hl-8-25>25</a>
</span><span class=lnt id=hl-8-26><a class=lnlinks href=#hl-8-26>26</a>
</span><span class=lnt id=hl-8-27><a class=lnlinks href=#hl-8-27>27</a>
</span><span class=lnt id=hl-8-28><a class=lnlinks href=#hl-8-28>28</a>
</span><span class=lnt id=hl-8-29><a class=lnlinks href=#hl-8-29>29</a>
</span><span class=lnt id=hl-8-30><a class=lnlinks href=#hl-8-30>30</a>
</span><span class=lnt id=hl-8-31><a class=lnlinks href=#hl-8-31>31</a>
</span><span class=lnt id=hl-8-32><a class=lnlinks href=#hl-8-32>32</a>
</span><span class=lnt id=hl-8-33><a class=lnlinks href=#hl-8-33>33</a>
</span><span class=lnt id=hl-8-34><a class=lnlinks href=#hl-8-34>34</a>
</span><span class=lnt id=hl-8-35><a class=lnlinks href=#hl-8-35>35</a>
</span><span class=lnt id=hl-8-36><a class=lnlinks href=#hl-8-36>36</a>
</span><span class=lnt id=hl-8-37><a class=lnlinks href=#hl-8-37>37</a>
</span><span class=lnt id=hl-8-38><a class=lnlinks href=#hl-8-38>38</a>
</span><span class=lnt id=hl-8-39><a class=lnlinks href=#hl-8-39>39</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// contract.test.js
</span></span></span><span class=line><span class=cl><span class=kr>const</span> <span class=p>{</span> <span class=nx>Pact</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;@pact-foundation/pact&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>path</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;path&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>describe</span><span class=p>(</span><span class=s1>&#39;Payment Service&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>provider</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Pact</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=nx>port</span><span class=o>:</span> <span class=mi>1234</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>dir</span><span class=o>:</span> <span class=nx>path</span><span class=p>.</span><span class=nx>resolve</span><span class=p>(</span><span class=nx>process</span><span class=p>.</span><span class=nx>cwd</span><span class=p>(),</span> <span class=s1>&#39;pacts&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=nx>consumer</span><span class=o>:</span> <span class=s1>&#39;CheckoutApp&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>provider</span><span class=o>:</span> <span class=s1>&#39;PaymentService&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>beforeAll</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=nx>provider</span><span class=p>.</span><span class=nx>setup</span><span class=p>());</span>
</span></span><span class=line><span class=cl>  <span class=nx>afterAll</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=nx>provider</span><span class=p>.</span><span class=nx>finalize</span><span class=p>());</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>describe</span><span class=p>(</span><span class=s1>&#39;when a payment is successful&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>beforeAll</span><span class=p>(()</span> <span class=p>=&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nx>provider</span><span class=p>.</span><span class=nx>addInteraction</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=nx>uponReceiving</span><span class=o>:</span> <span class=s1>&#39;a payment request&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>withRequest</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>method</span><span class=o>:</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>path</span><span class=o>:</span> <span class=s1>&#39;/process&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>body</span><span class=o>:</span> <span class=p>{</span> <span class=nx>amount</span><span class=o>:</span> <span class=mi>100</span><span class=p>,</span> <span class=nx>method</span><span class=o>:</span> <span class=s1>&#39;card&#39;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>willRespondWith</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>status</span><span class=o>:</span> <span class=mi>200</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>body</span><span class=o>:</span> <span class=p>{</span> <span class=nx>status</span><span class=o>:</span> <span class=s1>&#39;OK&#39;</span><span class=p>,</span> <span class=nx>transactionId</span><span class=o>:</span> <span class=s1>&#39;txn_ABC123&#39;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;processes payment&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kr>const</span> <span class=nx>resp</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;./payment&#39;</span><span class=p>).</span><span class=nx>process</span><span class=p>({</span> <span class=nx>amount</span><span class=o>:</span> <span class=mi>100</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>      <span class=nx>expect</span><span class=p>(</span><span class=nx>resp</span><span class=p>.</span><span class=nx>status</span><span class=p>).</span><span class=nx>toBe</span><span class=p>(</span><span class=s1>&#39;OK&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>afterEach</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=nx>provider</span><span class=p>.</span><span class=nx>verify</span><span class=p>());</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>Consumer 와 Provider 사이 API 계약 보장</li><li>모놀리식 내부 모듈 간 호출에도 안정성 확보</li></ul><h4 id=로깅-및-감사-audit-설정-예시>로깅 및 감사 (Audit) 설정 예시<a hidden class=anchor aria-hidden=true href=#로깅-및-감사-audit-설정-예시>#</a></h4><h5 id=구조>구조<a hidden class=anchor aria-hidden=true href=#구조>#</a></h5><ul><li><strong>Structured Logging (구조화 로그)</strong>: JSON 형태로 로그 저장</li><li><strong>Middleware 기반 로깅</strong>: 요청·응답, 에러 트래킹</li><li><strong>Audit Trail</strong>: 사용자 행동, 시스템 이벤트 기록</li></ul><h5 id=nodejs-예시-winston-morgan-express-winston-사용>Node.js 예시: Winston, Morgan, Express-winston 사용<a hidden class=anchor aria-hidden=true href=#nodejs-예시-winston-morgan-express-winston-사용>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11>11</a>
</span><span class=lnt id=hl-9-12><a class=lnlinks href=#hl-9-12>12</a>
</span><span class=lnt id=hl-9-13><a class=lnlinks href=#hl-9-13>13</a>
</span><span class=lnt id=hl-9-14><a class=lnlinks href=#hl-9-14>14</a>
</span><span class=lnt id=hl-9-15><a class=lnlinks href=#hl-9-15>15</a>
</span><span class=lnt id=hl-9-16><a class=lnlinks href=#hl-9-16>16</a>
</span><span class=lnt id=hl-9-17><a class=lnlinks href=#hl-9-17>17</a>
</span><span class=lnt id=hl-9-18><a class=lnlinks href=#hl-9-18>18</a>
</span><span class=lnt id=hl-9-19><a class=lnlinks href=#hl-9-19>19</a>
</span><span class=lnt id=hl-9-20><a class=lnlinks href=#hl-9-20>20</a>
</span><span class=lnt id=hl-9-21><a class=lnlinks href=#hl-9-21>21</a>
</span><span class=lnt id=hl-9-22><a class=lnlinks href=#hl-9-22>22</a>
</span><span class=lnt id=hl-9-23><a class=lnlinks href=#hl-9-23>23</a>
</span><span class=lnt id=hl-9-24><a class=lnlinks href=#hl-9-24>24</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// logger.js
</span></span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>winston</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;winston&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>logger</span> <span class=o>=</span> <span class=nx>winston</span><span class=p>.</span><span class=nx>createLogger</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>format</span><span class=o>:</span> <span class=nx>winston</span><span class=p>.</span><span class=nx>format</span><span class=p>.</span><span class=nx>json</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>  <span class=nx>transports</span><span class=o>:</span> <span class=p>[</span> <span class=k>new</span> <span class=nx>winston</span><span class=p>.</span><span class=nx>transports</span><span class=p>.</span><span class=nx>File</span><span class=p>({</span> <span class=nx>filename</span><span class=o>:</span> <span class=s1>&#39;combined.log&#39;</span> <span class=p>})</span> <span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=nx>logger</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// server.js
</span></span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>express</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;express&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>morgan</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;morgan&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>logger</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;./logger&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>morgan</span><span class=p>(</span><span class=s1>&#39;combined&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>stream</span><span class=o>:</span> <span class=p>{</span> <span class=nx>write</span><span class=o>:</span> <span class=nx>msg</span> <span class=p>=&gt;</span> <span class=nx>logger</span><span class=p>.</span><span class=nx>info</span><span class=p>(</span><span class=nx>msg</span><span class=p>.</span><span class=nx>trim</span><span class=p>())</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=s1>&#39;/checkout&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>,</span> <span class=nx>next</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>logger</span><span class=p>.</span><span class=nx>info</span><span class=p>(</span><span class=s1>&#39;Checkout started&#39;</span><span class=p>,</span> <span class=p>{</span> <span class=nx>user</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>userId</span><span class=p>,</span> <span class=nx>items</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>items</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=cm>/* … */</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=p>(</span><span class=nx>err</span><span class=p>,</span> <span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>,</span> <span class=nx>next</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>logger</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;Checkout failed&#39;</span><span class=p>,</span> <span class=p>{</span> <span class=nx>error</span><span class=o>:</span> <span class=nx>err</span><span class=p>.</span><span class=nx>message</span><span class=p>,</span> <span class=nx>stack</span><span class=o>:</span> <span class=nx>err</span><span class=p>.</span><span class=nx>stack</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>send</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>효과</strong>:</p><ul><li><strong>가독성 향상</strong>: JSON 로그 분석에 최적화</li><li><strong>감사 기록 저장</strong>: 누가, 언제, 무엇을 요청했는지 추적 가능</li></ul><h4 id=테스트-전략>테스트 전략<a hidden class=anchor aria-hidden=true href=#테스트-전략>#</a></h4><h5 id=모놀리식-아키텍처에서의-테스트-접근>모놀리식 아키텍처에서의 테스트 접근<a hidden class=anchor aria-hidden=true href=#모놀리식-아키텍처에서의-테스트-접근>#</a></h5><table><thead><tr><th>테스트 유형</th><th>설명</th><th>도구 예시</th><th>전략</th></tr></thead><tbody><tr><td>단위 테스트 (Unit Test)</td><td>개별 함수, 클래스 수준 테스트</td><td>JUnit, Pytest</td><td>비즈니스 로직 핵심 검증</td></tr><tr><td>통합 테스트 (Integration Test)</td><td>DB, API 등 외부 모듈 포함</td><td>Spring Test, Postman</td><td>계층 간 연결 보장</td></tr><tr><td>엔드투엔드 테스트 (E2E)</td><td>사용자 시나리오 중심 전체 흐름 검증</td><td>Selenium, Cypress</td><td>전체 기능 점검</td></tr><tr><td>회귀 테스트 (Regression Test)</td><td>기존 기능 정상 작동 검증</td><td>TestRail, Allure</td><td>릴리즈 자동화 연동</td></tr></tbody></table><p>단일 배포 환경이므로 <strong>단일 테스트 스위트</strong>로 자동화된 정합성 테스트가 쉽다. 그러나 시간이 오래 걸리므로 병렬 실행 환경 필요.</p><h4 id=관찰성-observability-구성-방안>관찰성 (Observability) 구성 방안<a hidden class=anchor aria-hidden=true href=#관찰성-observability-구성-방안>#</a></h4><table><thead><tr><th>구성 요소</th><th>설명</th><th>도구 예시</th><th>적용 방식</th></tr></thead><tbody><tr><td>로그 수집</td><td>로그 중앙화, 검색 가능</td><td>ELK Stack (Elasticsearch + Logstash + Kibana), Loki</td><td>로그 레벨 관리, 표준 포맷 통일</td></tr><tr><td>메트릭 수집</td><td>시스템/애플리케이션 지표</td><td>Prometheus, Grafana</td><td>CPU, Memory, 요청 수 등 시각화</td></tr><tr><td>트레이싱</td><td>호출 흐름 추적</td><td>Jaeger, Zipkin</td><td>API 호출 간 성능 병목 추적</td></tr><tr><td>알림</td><td>이상 징후 탐지 및 통지</td><td>PagerDuty, Opsgenie, Slack</td><td>알림 조건 설정 (예: 5xx 증가 시)</td></tr></tbody></table><h4 id=보안-전략-security-in-monolith>보안 전략 (Security in Monolith)<a hidden class=anchor aria-hidden=true href=#보안-전략-security-in-monolith>#</a></h4><table><thead><tr><th>보안 계층</th><th>설명</th><th>적용 기법</th></tr></thead><tbody><tr><td>인증 (Authentication)</td><td>사용자 인증 처리</td><td>JWT, OAuth2, 세션 기반 로그인</td></tr><tr><td>권한 (Authorization)</td><td>역할 기반 접근 제어</td><td>RBAC (역할 기반), ABAC (속성 기반)</td></tr><tr><td>입력 검증</td><td>XSS, SQL Injection 방지</td><td>정규식, PreparedStatement</td></tr><tr><td>로그 보안</td><td>민감 정보 로그 제외</td><td>마스킹, 필터링 적용</td></tr><tr><td>데이터 암호화</td><td>저장/전송 데이터 보호</td><td>HTTPS, TLS, AES 기반 암호화</td></tr></tbody></table><h4 id=레거시-시스템-유지보수-전략>레거시 시스템 유지보수 전략<a hidden class=anchor aria-hidden=true href=#레거시-시스템-유지보수-전략>#</a></h4><table><thead><tr><th>전략</th><th>설명</th><th>적용 방법</th></tr></thead><tbody><tr><td>코드베이스 모듈화</td><td>기능 단위로 폴더/패키지 재조직화</td><td>기능 → 계층 구조로 리팩토링</td></tr><tr><td>테스트 커버리지 확보</td><td>신뢰성 유지 위한 자동화 테스트 도입</td><td>커버리지 도구 활용 (Jacoco 등)</td></tr><tr><td>API 게이트웨이 프록시화</td><td>외부 요청을 게이트웨이로 통일</td><td>모놀리식 경로 일부 마스킹</td></tr><tr><td>명세 문서화</td><td>Swagger, Postman 등으로 API 정의</td><td>레거시 분석 효율화</td></tr><tr><td>변경 영향도 분석</td><td>코드 변경 영향 영역 시각화</td><td>모듈 간 의존도 분석 도구 사용 (CodeScene 등)</td></tr></tbody></table><h4 id=cicd-구성-예시>CI/CD 구성 예시<a hidden class=anchor aria-hidden=true href=#cicd-구성-예시>#</a></h4><h5 id=cicd-pipeline-구성도>CI/CD Pipeline 구성도<a hidden class=anchor aria-hidden=true href=#cicd-pipeline-구성도>#</a></h5><pre class=mermaid>graph TB
  Developer --&gt;|Push| GitRepo
  GitRepo --&gt; CI[CI: Build &amp; Test]
  CI --&gt; CD[CD: Docker Build]
  CD --&gt; Registry[(Docker Registry)]
  Registry --&gt; Staging[(Staging Server)]
  Staging --&gt; Prod[(Production)]
</pre><h5 id=cicd-도구-구성>CI/CD 도구 구성<a hidden class=anchor aria-hidden=true href=#cicd-도구-구성>#</a></h5><table><thead><tr><th>단계</th><th>도구</th><th>설명</th></tr></thead><tbody><tr><td>소스 관리</td><td>GitHub, GitLab</td><td>GitOps 기반 관리</td></tr><tr><td>빌드 자동화</td><td>Jenkins, GitHub Actions</td><td>빌드/유닛 테스트 실행</td></tr><tr><td>테스트 실행</td><td>JUnit, Jest, Selenium</td><td>정적/동적 테스트 병합</td></tr><tr><td>배포 자동화</td><td>ArgoCD, Flux</td><td>Docker 이미지 배포</td></tr><tr><td>모니터링 연동</td><td>Prometheus, Grafana</td><td>릴리즈 이후 상태 추적</td></tr></tbody></table><h3 id=최적화하기-위한-고려사항-및-주의할-점>최적화하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#최적화하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>카테고리</th><th>최적화 요소</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td><strong>구조 및 코드</strong></td><td>코드 모듈화</td><td>관심사 분리 및 유지보수 용이성을 위해 모듈 단위로 분리</td><td>Vertical Slicing, 인터페이스 명세, 의존성 주입 적용</td></tr><tr><td></td><td>코드 리팩토링</td><td>기술 부채 축소 및 코드 품질 유지를 위한 정기적 구조 개선</td><td>린 리팩토링 전략, 코드 리뷰 프로세스, 문서화 강화</td></tr><tr><td><strong>성능 최적화</strong></td><td>캐싱 전략</td><td>요청 응답 시간 최소화 및 부하 감소</td><td>Redis, CDN, 애플리케이션 캐시 활용</td></tr><tr><td></td><td>쿼리 및 DB 최적화</td><td>DB 병목 해소 및 트랜잭션 효율화</td><td>정규화, 인덱싱, N+1 문제 해결 (ORM 튜닝)</td></tr><tr><td></td><td>메모리 관리</td><td>GC 튜닝 및 리소스 누수 방지를 통한 안정성 확보</td><td>커넥션 풀링 (HikariCP), JVM 튜닝, 메모리 모니터링 도구 활용</td></tr><tr><td><strong>CI/CD 및 배포</strong></td><td>빌드 최적화</td><td>빌드 시간 단축 및 배포 속도 향상</td><td>Gradle/Webpack 캐시, 증분 빌드, 병렬 빌드 적용</td></tr><tr><td></td><td>배포 전략</td><td>무중단 배포 및 롤백 가능한 구조 설계</td><td>Blue-Green, Canary 배포, GitOps, Docker 레이어 재사용</td></tr><tr><td></td><td>자동화 테스트 전략</td><td>릴리즈 안정성과 회귀 방지를 위한 테스트 체계 구축</td><td>유닛 + 통합 테스트, 테스트 커버리지 기준 강화, 테스트 캐싱</td></tr><tr><td><strong>운영 및 모니터링</strong></td><td>장애 대응</td><td>단일 장애가 전체 시스템에 미치는 영향을 최소화</td><td>Circuit Breaker, 헬스체크, 모듈 단위 복구 로직 포함</td></tr><tr><td></td><td>성능 모니터링</td><td>실시간 성능 분석과 병목 탐지</td><td>Prometheus, Grafana, Datadog, 로그 기반 메트릭 통합 분석 도구 사용</td></tr><tr><td></td><td>로깅 및 추적</td><td>구조화된 로그를 통해 문제 추적 및 감사 가능</td><td>ELK Stack, OpenTelemetry 기반 분산 트레이싱 도입</td></tr><tr><td><strong>보안 및 인증</strong></td><td>계층별 보안 적용</td><td>각 계층별 인증/인가 및 공격 방지 체계 구축</td><td>OAuth 2.0, JWT, Prepared Statement, 보안 스캐너 도입</td></tr><tr><td><strong>전환 및 확장성</strong></td><td>점진적 분리</td><td>기능 단위로 모듈을 외부화하거나 서비스화하는 전략</td><td>Strangler Fig Pattern, ACL, 외부 API Gateway 연동</td></tr><tr><td></td><td>확장성 고려</td><td>증가하는 트래픽과 부하에 대비한 구조적 설계</td><td>Stateless 설계, 수평 확장, 세션 분리, 부하 분산 적용</td></tr><tr><td><strong>문서화 및 협업</strong></td><td>시스템 문서화</td><td>유지보수와 협업을 위한 구조화된 문서 관리</td><td>시스템 구성도, API 문서, 모듈 의존성 명세 등 주기적 관리</td></tr></tbody></table><ul><li><p><strong>구조 및 코드 최적화</strong>는 모놀리식의 유지보수성과 확장성을 동시에 확보하기 위한 핵심 전략이다. 코드 모듈화와 리팩토링은 기술 부채 해소의 출발점이며, 인터페이스 기반 개발은 변경에 강한 구조를 만든다.</p></li><li><p><strong>성능 최적화</strong>는 데이터베이스, 메모리, 캐시, 쿼리 등 다양한 계층에서 병목 요소를 제거하는 다면적 접근이 필요하다. 특히 ORM 사용 시 쿼리 성능에 대한 깊은 이해가 필수적이며, GC 튜닝과 커넥션 풀링은 고부하 상황에서 중요한 대응 수단이다.</p></li><li><p><strong>CI/CD 및 배포 최적화</strong>는 자동화된 릴리즈와 빠른 피드백을 통해 품질과 속도를 동시에 잡는 전략이다. 캐시 및 증분 빌드, 자동화 테스트는 반복 비용을 줄이고 배포 안정성을 높인다.</p></li><li><p><strong>운영 및 모니터링 최적화</strong>는 실시간 대응을 위한 관찰성과 복원력을 확보하는 영역으로, 단일 장애 지점 (SPOF) 제거와 APM 도구 활용이 핵심이다. 구조화된 로깅과 트레이싱은 문제의 빠른 원인 분석을 가능하게 한다.</p></li><li><p><strong>보안 최적화</strong>는 계층별 인증·인가 및 취약점 방지를 통해 시스템의 신뢰성을 높이는 전략이다. 인증 토큰, 입력값 검증, SQL Injection 방지는 기본이며, 보안 관련 감사 로그도 함께 관리해야 한다.</p></li><li><p><strong>전환 및 확장성 전략</strong>은 모놀리식에서 서비스 지향 구조로 확장할 준비를 하는 단계이다. 기능별 외부화와 세션 분리, 수평 확장 구조는 점진적인 서비스 분리 및 MSA 전환의 기반이 된다.</p></li><li><p><strong>문서화 및 협업 체계</strong>는 최적화를 위한 기술 전략이 지속 가능하도록 만드는 기반으로, 의존성 명세, 구조도, 테스트 범위 등이 문서화되어야 변경에 따른 리스크를 최소화할 수 있다.</p></li></ul><h3 id=실무-사용-예시>실무 사용 예시<a hidden class=anchor aria-hidden=true href=#실무-사용-예시>#</a></h3><table><thead><tr><th>카테고리</th><th>적용 시나리오</th><th>사용 목적 / 특징</th><th>효과</th><th>주요 기술 스택 예시</th></tr></thead><tbody><tr><td><strong>스타트업/초기 단계</strong></td><td>MVP 개발, 빠른 시장 진입</td><td>빠른 개발 주기, 단일 코드베이스 운영</td><td>아이디어 검증, 출시 속도 향상, 유지비용 절감</td><td>Spring Boot, Django, Node.js + MongoDB</td></tr><tr><td><strong>내부 관리 시스템</strong></td><td>인트라넷, 사내 포탈, 업무 자동화</td><td>복잡도 낮고 사용자 제한적, 통합 관리 용이</td><td>개발 인력 최소화, 유지관리 단순화</td><td>Java EE,.NET, PHP</td></tr><tr><td><strong>소규모/단일 팀 개발</strong></td><td>소규모 웹사이트, 커뮤니티, 리포트 툴</td><td>작은 팀 규모에 적합, 협업 충돌 최소화</td><td>병합 이슈 감소, 팀 내 통합 관리</td><td>Ruby on Rails, Flask, Express.js</td></tr><tr><td><strong>전통적 엔터프라이즈</strong></td><td>ERP, CRM, POS 시스템</td><td>고정된 비즈니스 로직, 강력한 트랜잭션 요구</td><td>트랜잭션 무결성 확보, 신뢰성 높은 운영</td><td>Java EE, Oracle, SAP</td></tr><tr><td><strong>레거시 시스템 유지</strong></td><td>기존 모놀리식 시스템 유지보수</td><td>기술 전환 부담 존재, 안정성 유지 우선</td><td>위험 회피, 기존 아키텍처 유지 가능</td><td>Oracle DB, WebLogic, JSP</td></tr><tr><td><strong>산업/도메인 특화 시스템</strong></td><td>정부/공공 행정, 의료정보시스템</td><td>표준화 및 보안 요구사항 존재, 장기 운영 전제</td><td>규제 대응 용이, 고신뢰성 확보</td><td>.NET, SQL Server, 전자정부 프레임워크</td></tr><tr><td><strong>성장 전 대규모 트래픽 대응</strong></td><td>StackOverflow, Facebook (초기)</td><td>초기엔 단일 시스템으로 확장 대응, 이후 분산 전환 고려</td><td>고성능 응답 처리, 단순한 장애 격리</td><td>ASP.NET, MySQL, Custom C++ Backend 등</td></tr></tbody></table><ul><li><p><strong>스타트업/MVP 단계</strong>에서는 빠른 개발과 배포가 핵심이므로 모놀리식 구조가 가장 실용적이다. 복잡한 MSA 보다는 초기 비용과 리스크를 최소화하기에 적합하다.</p></li><li><p><strong>내부 관리 시스템</strong>은 사용자 수와 기능 범위가 제한되기 때문에 모놀리식으로도 충분히 운영이 가능하며, 관리 부담이 적다.</p></li><li><p><strong>소규모 개발 팀</strong>에서는 통합된 코드베이스와 단일 배포 흐름이 협업 효율성을 높여주며, 코드 충돌을 줄이고 빠른 피드백 루프를 가능하게 한다.</p></li><li><p><strong>전통적 엔터프라이즈 환경</strong>은 복잡한 트랜잭션 처리와 강한 일관성을 요구하므로, 대형 모놀리식 구조가 여전히 널리 사용된다.</p></li><li><p><strong>레거시 시스템</strong>은 안정성과 운영 연속성을 우선시하며, 보통 기술 부채를 감수하면서 기존 시스템을 유지한다. 이 경우 점진적 모듈화나 Strangler Pattern 이 병행된다.</p></li><li><p><strong>산업별 특화 시스템</strong>은 보안, 규제, 데이터 무결성이 중요한 영역이 많기 때문에, 검증된 모놀리식 기술 기반이 여전히 선택된다.</p></li><li><p><strong>초기 대규모 시스템</strong>에서는 시스템이 성장하기 전까지는 단일 인스턴스로 충분히 높은 성능을 제공할 수 있으며, 이후 자연스럽게 MSA 로 전환하는 흐름을 갖는다.</p></li></ul><h3 id=활용-사례>활용 사례<a hidden class=anchor aria-hidden=true href=#활용-사례>#</a></h3><h4 id=사례-1-전자상거래-플랫폼-구축>사례 1: 전자상거래 플랫폼 구축<a hidden class=anchor aria-hidden=true href=#사례-1-전자상거래-플랫폼-구축>#</a></h4><p><strong>시나리오</strong>: 중간 규모 전자상거래 플랫폼 구축</p><p><strong>시스템 구성</strong>:</p><ul><li>웹 서버: Apache Tomcat</li><li>애플리케이션: Spring Boot 기반 단일 JAR</li><li>데이터베이스: MySQL 단일 인스턴스</li><li>캐시: Redis (선택적)</li></ul><pre class=mermaid>graph TB
    A[사용자] --&gt; B[로드밸런서]
    B --&gt; C[웹 서버 1]
    B --&gt; D[웹 서버 2]
    B --&gt; E[웹 서버 3]
    
    subgraph &#34;각 웹 서버&#34;
        F[Spring Boot 애플리케이션]
        subgraph &#34;애플리케이션 계층&#34;
            G[상품 관리]
            H[주문 처리]
            I[사용자 관리]
            J[결제 처리]
        end
    end
    
    C --&gt; K[(MySQL 데이터베이스)]
    D --&gt; K
    E --&gt; K
    
    C --&gt; L[(Redis 캐시)]
    D --&gt; L
    E --&gt; L
</pre><p><strong>Workflow</strong>:</p><ul><li>사용자 요청이 로드밸런서를 통해 분산</li><li>Spring Boot 애플리케이션에서 요청 처리</li><li>단일 MySQL 데이터베이스에서 데이터 조회/수정</li><li>Redis 캐시를 통한 성능 최적화</li><li>응답을 사용자에게 반환</li></ul><p><strong>역할</strong>:</p><ul><li>통합 비즈니스 로직 처리</li><li>트랜잭션 일관성 보장</li><li>중앙화된 데이터 관리</li><li>단순한 배포 및 운영</li></ul><p><strong>유무에 따른 차이점</strong>:</p><ul><li><strong>모놀리틱 적용시</strong>: 빠른 개발, 쉬운 디버깅, 단순한 배포</li><li><strong>마이크로서비스 적용시</strong>: 복잡한 서비스 간 통신, 분산 트랜잭션 관리 필요, 높은 운영 복잡성</li></ul><p><strong>구현 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1>  1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2>  2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3>  3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4>  4</a>
</span><span class=lnt id=hl-12-5><a class=lnlinks href=#hl-12-5>  5</a>
</span><span class=lnt id=hl-12-6><a class=lnlinks href=#hl-12-6>  6</a>
</span><span class=lnt id=hl-12-7><a class=lnlinks href=#hl-12-7>  7</a>
</span><span class=lnt id=hl-12-8><a class=lnlinks href=#hl-12-8>  8</a>
</span><span class=lnt id=hl-12-9><a class=lnlinks href=#hl-12-9>  9</a>
</span><span class=lnt id=hl-12-10><a class=lnlinks href=#hl-12-10> 10</a>
</span><span class=lnt id=hl-12-11><a class=lnlinks href=#hl-12-11> 11</a>
</span><span class=lnt id=hl-12-12><a class=lnlinks href=#hl-12-12> 12</a>
</span><span class=lnt id=hl-12-13><a class=lnlinks href=#hl-12-13> 13</a>
</span><span class=lnt id=hl-12-14><a class=lnlinks href=#hl-12-14> 14</a>
</span><span class=lnt id=hl-12-15><a class=lnlinks href=#hl-12-15> 15</a>
</span><span class=lnt id=hl-12-16><a class=lnlinks href=#hl-12-16> 16</a>
</span><span class=lnt id=hl-12-17><a class=lnlinks href=#hl-12-17> 17</a>
</span><span class=lnt id=hl-12-18><a class=lnlinks href=#hl-12-18> 18</a>
</span><span class=lnt id=hl-12-19><a class=lnlinks href=#hl-12-19> 19</a>
</span><span class=lnt id=hl-12-20><a class=lnlinks href=#hl-12-20> 20</a>
</span><span class=lnt id=hl-12-21><a class=lnlinks href=#hl-12-21> 21</a>
</span><span class=lnt id=hl-12-22><a class=lnlinks href=#hl-12-22> 22</a>
</span><span class=lnt id=hl-12-23><a class=lnlinks href=#hl-12-23> 23</a>
</span><span class=lnt id=hl-12-24><a class=lnlinks href=#hl-12-24> 24</a>
</span><span class=lnt id=hl-12-25><a class=lnlinks href=#hl-12-25> 25</a>
</span><span class=lnt id=hl-12-26><a class=lnlinks href=#hl-12-26> 26</a>
</span><span class=lnt id=hl-12-27><a class=lnlinks href=#hl-12-27> 27</a>
</span><span class=lnt id=hl-12-28><a class=lnlinks href=#hl-12-28> 28</a>
</span><span class=lnt id=hl-12-29><a class=lnlinks href=#hl-12-29> 29</a>
</span><span class=lnt id=hl-12-30><a class=lnlinks href=#hl-12-30> 30</a>
</span><span class=lnt id=hl-12-31><a class=lnlinks href=#hl-12-31> 31</a>
</span><span class=lnt id=hl-12-32><a class=lnlinks href=#hl-12-32> 32</a>
</span><span class=lnt id=hl-12-33><a class=lnlinks href=#hl-12-33> 33</a>
</span><span class=lnt id=hl-12-34><a class=lnlinks href=#hl-12-34> 34</a>
</span><span class=lnt id=hl-12-35><a class=lnlinks href=#hl-12-35> 35</a>
</span><span class=lnt id=hl-12-36><a class=lnlinks href=#hl-12-36> 36</a>
</span><span class=lnt id=hl-12-37><a class=lnlinks href=#hl-12-37> 37</a>
</span><span class=lnt id=hl-12-38><a class=lnlinks href=#hl-12-38> 38</a>
</span><span class=lnt id=hl-12-39><a class=lnlinks href=#hl-12-39> 39</a>
</span><span class=lnt id=hl-12-40><a class=lnlinks href=#hl-12-40> 40</a>
</span><span class=lnt id=hl-12-41><a class=lnlinks href=#hl-12-41> 41</a>
</span><span class=lnt id=hl-12-42><a class=lnlinks href=#hl-12-42> 42</a>
</span><span class=lnt id=hl-12-43><a class=lnlinks href=#hl-12-43> 43</a>
</span><span class=lnt id=hl-12-44><a class=lnlinks href=#hl-12-44> 44</a>
</span><span class=lnt id=hl-12-45><a class=lnlinks href=#hl-12-45> 45</a>
</span><span class=lnt id=hl-12-46><a class=lnlinks href=#hl-12-46> 46</a>
</span><span class=lnt id=hl-12-47><a class=lnlinks href=#hl-12-47> 47</a>
</span><span class=lnt id=hl-12-48><a class=lnlinks href=#hl-12-48> 48</a>
</span><span class=lnt id=hl-12-49><a class=lnlinks href=#hl-12-49> 49</a>
</span><span class=lnt id=hl-12-50><a class=lnlinks href=#hl-12-50> 50</a>
</span><span class=lnt id=hl-12-51><a class=lnlinks href=#hl-12-51> 51</a>
</span><span class=lnt id=hl-12-52><a class=lnlinks href=#hl-12-52> 52</a>
</span><span class=lnt id=hl-12-53><a class=lnlinks href=#hl-12-53> 53</a>
</span><span class=lnt id=hl-12-54><a class=lnlinks href=#hl-12-54> 54</a>
</span><span class=lnt id=hl-12-55><a class=lnlinks href=#hl-12-55> 55</a>
</span><span class=lnt id=hl-12-56><a class=lnlinks href=#hl-12-56> 56</a>
</span><span class=lnt id=hl-12-57><a class=lnlinks href=#hl-12-57> 57</a>
</span><span class=lnt id=hl-12-58><a class=lnlinks href=#hl-12-58> 58</a>
</span><span class=lnt id=hl-12-59><a class=lnlinks href=#hl-12-59> 59</a>
</span><span class=lnt id=hl-12-60><a class=lnlinks href=#hl-12-60> 60</a>
</span><span class=lnt id=hl-12-61><a class=lnlinks href=#hl-12-61> 61</a>
</span><span class=lnt id=hl-12-62><a class=lnlinks href=#hl-12-62> 62</a>
</span><span class=lnt id=hl-12-63><a class=lnlinks href=#hl-12-63> 63</a>
</span><span class=lnt id=hl-12-64><a class=lnlinks href=#hl-12-64> 64</a>
</span><span class=lnt id=hl-12-65><a class=lnlinks href=#hl-12-65> 65</a>
</span><span class=lnt id=hl-12-66><a class=lnlinks href=#hl-12-66> 66</a>
</span><span class=lnt id=hl-12-67><a class=lnlinks href=#hl-12-67> 67</a>
</span><span class=lnt id=hl-12-68><a class=lnlinks href=#hl-12-68> 68</a>
</span><span class=lnt id=hl-12-69><a class=lnlinks href=#hl-12-69> 69</a>
</span><span class=lnt id=hl-12-70><a class=lnlinks href=#hl-12-70> 70</a>
</span><span class=lnt id=hl-12-71><a class=lnlinks href=#hl-12-71> 71</a>
</span><span class=lnt id=hl-12-72><a class=lnlinks href=#hl-12-72> 72</a>
</span><span class=lnt id=hl-12-73><a class=lnlinks href=#hl-12-73> 73</a>
</span><span class=lnt id=hl-12-74><a class=lnlinks href=#hl-12-74> 74</a>
</span><span class=lnt id=hl-12-75><a class=lnlinks href=#hl-12-75> 75</a>
</span><span class=lnt id=hl-12-76><a class=lnlinks href=#hl-12-76> 76</a>
</span><span class=lnt id=hl-12-77><a class=lnlinks href=#hl-12-77> 77</a>
</span><span class=lnt id=hl-12-78><a class=lnlinks href=#hl-12-78> 78</a>
</span><span class=lnt id=hl-12-79><a class=lnlinks href=#hl-12-79> 79</a>
</span><span class=lnt id=hl-12-80><a class=lnlinks href=#hl-12-80> 80</a>
</span><span class=lnt id=hl-12-81><a class=lnlinks href=#hl-12-81> 81</a>
</span><span class=lnt id=hl-12-82><a class=lnlinks href=#hl-12-82> 82</a>
</span><span class=lnt id=hl-12-83><a class=lnlinks href=#hl-12-83> 83</a>
</span><span class=lnt id=hl-12-84><a class=lnlinks href=#hl-12-84> 84</a>
</span><span class=lnt id=hl-12-85><a class=lnlinks href=#hl-12-85> 85</a>
</span><span class=lnt id=hl-12-86><a class=lnlinks href=#hl-12-86> 86</a>
</span><span class=lnt id=hl-12-87><a class=lnlinks href=#hl-12-87> 87</a>
</span><span class=lnt id=hl-12-88><a class=lnlinks href=#hl-12-88> 88</a>
</span><span class=lnt id=hl-12-89><a class=lnlinks href=#hl-12-89> 89</a>
</span><span class=lnt id=hl-12-90><a class=lnlinks href=#hl-12-90> 90</a>
</span><span class=lnt id=hl-12-91><a class=lnlinks href=#hl-12-91> 91</a>
</span><span class=lnt id=hl-12-92><a class=lnlinks href=#hl-12-92> 92</a>
</span><span class=lnt id=hl-12-93><a class=lnlinks href=#hl-12-93> 93</a>
</span><span class=lnt id=hl-12-94><a class=lnlinks href=#hl-12-94> 94</a>
</span><span class=lnt id=hl-12-95><a class=lnlinks href=#hl-12-95> 95</a>
</span><span class=lnt id=hl-12-96><a class=lnlinks href=#hl-12-96> 96</a>
</span><span class=lnt id=hl-12-97><a class=lnlinks href=#hl-12-97> 97</a>
</span><span class=lnt id=hl-12-98><a class=lnlinks href=#hl-12-98> 98</a>
</span><span class=lnt id=hl-12-99><a class=lnlinks href=#hl-12-99> 99</a>
</span><span class=lnt id=hl-12-100><a class=lnlinks href=#hl-12-100>100</a>
</span><span class=lnt id=hl-12-101><a class=lnlinks href=#hl-12-101>101</a>
</span><span class=lnt id=hl-12-102><a class=lnlinks href=#hl-12-102>102</a>
</span><span class=lnt id=hl-12-103><a class=lnlinks href=#hl-12-103>103</a>
</span><span class=lnt id=hl-12-104><a class=lnlinks href=#hl-12-104>104</a>
</span><span class=lnt id=hl-12-105><a class=lnlinks href=#hl-12-105>105</a>
</span><span class=lnt id=hl-12-106><a class=lnlinks href=#hl-12-106>106</a>
</span><span class=lnt id=hl-12-107><a class=lnlinks href=#hl-12-107>107</a>
</span><span class=lnt id=hl-12-108><a class=lnlinks href=#hl-12-108>108</a>
</span><span class=lnt id=hl-12-109><a class=lnlinks href=#hl-12-109>109</a>
</span><span class=lnt id=hl-12-110><a class=lnlinks href=#hl-12-110>110</a>
</span><span class=lnt id=hl-12-111><a class=lnlinks href=#hl-12-111>111</a>
</span><span class=lnt id=hl-12-112><a class=lnlinks href=#hl-12-112>112</a>
</span><span class=lnt id=hl-12-113><a class=lnlinks href=#hl-12-113>113</a>
</span><span class=lnt id=hl-12-114><a class=lnlinks href=#hl-12-114>114</a>
</span><span class=lnt id=hl-12-115><a class=lnlinks href=#hl-12-115>115</a>
</span><span class=lnt id=hl-12-116><a class=lnlinks href=#hl-12-116>116</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Flask 기반 모놀리틱 전자상거래 애플리케이션</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>flask</span> <span class=kn>import</span> <span class=n>Flask</span><span class=p>,</span> <span class=n>request</span><span class=p>,</span> <span class=n>jsonify</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>flask_sqlalchemy</span> <span class=kn>import</span> <span class=n>SQLAlchemy</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>flask_login</span> <span class=kn>import</span> <span class=n>LoginManager</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>Flask</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>app</span><span class=o>.</span><span class=n>config</span><span class=p>[</span><span class=s1>&#39;SQLALCHEMY_DATABASE_URI&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;mysql://user:pass@localhost/ecommerce&#39;</span>
</span></span><span class=line><span class=cl><span class=n>db</span> <span class=o>=</span> <span class=n>SQLAlchemy</span><span class=p>(</span><span class=n>app</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 데이터 모델 정의</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>User</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>Model</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>id</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=n>Column</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>Integer</span><span class=p>,</span> <span class=n>primary_key</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>username</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=n>Column</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>String</span><span class=p>(</span><span class=mi>80</span><span class=p>),</span> <span class=n>unique</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>nullable</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>email</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=n>Column</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>String</span><span class=p>(</span><span class=mi>120</span><span class=p>),</span> <span class=n>unique</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>nullable</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Product</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>Model</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>id</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=n>Column</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>Integer</span><span class=p>,</span> <span class=n>primary_key</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>name</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=n>Column</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>String</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span> <span class=n>nullable</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>price</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=n>Column</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>Float</span><span class=p>,</span> <span class=n>nullable</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>stock</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=n>Column</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>Integer</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Order</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>Model</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>id</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=n>Column</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>Integer</span><span class=p>,</span> <span class=n>primary_key</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>user_id</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=n>Column</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>Integer</span><span class=p>,</span> <span class=n>db</span><span class=o>.</span><span class=n>ForeignKey</span><span class=p>(</span><span class=s1>&#39;user.id&#39;</span><span class=p>),</span> <span class=n>nullable</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>total_amount</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=n>Column</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>Float</span><span class=p>,</span> <span class=n>nullable</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>status</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=n>Column</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>String</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span> <span class=n>default</span><span class=o>=</span><span class=s1>&#39;pending&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 비즈니스 로직 - 상품 관리</span>
</span></span><span class=line><span class=cl><span class=nd>@app.route</span><span class=p>(</span><span class=s1>&#39;/products&#39;</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;GET&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>get_products</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;상품 목록 조회&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>products</span> <span class=o>=</span> <span class=n>Product</span><span class=o>.</span><span class=n>query</span><span class=o>.</span><span class=n>all</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>jsonify</span><span class=p>([{</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;id&#39;</span><span class=p>:</span> <span class=n>p</span><span class=o>.</span><span class=n>id</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>        <span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=n>p</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>        <span class=s1>&#39;price&#39;</span><span class=p>:</span> <span class=n>p</span><span class=o>.</span><span class=n>price</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>        <span class=s1>&#39;stock&#39;</span><span class=p>:</span> <span class=n>p</span><span class=o>.</span><span class=n>stock</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>products</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.route</span><span class=p>(</span><span class=s1>&#39;/products&#39;</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;POST&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>create_product</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;새 상품 생성&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>data</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>get_json</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>product</span> <span class=o>=</span> <span class=n>Product</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>name</span><span class=o>=</span><span class=n>data</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=n>price</span><span class=o>=</span><span class=n>data</span><span class=p>[</span><span class=s1>&#39;price&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=n>stock</span><span class=o>=</span><span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;stock&#39;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>db</span><span class=o>.</span><span class=n>session</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>product</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>db</span><span class=o>.</span><span class=n>session</span><span class=o>.</span><span class=n>commit</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>jsonify</span><span class=p>({</span><span class=s1>&#39;message&#39;</span><span class=p>:</span> <span class=s1>&#39;Product created&#39;</span><span class=p>,</span> <span class=s1>&#39;id&#39;</span><span class=p>:</span> <span class=n>product</span><span class=o>.</span><span class=n>id</span><span class=p>}),</span> <span class=mi>201</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 비즈니스 로직 - 주문 처리</span>
</span></span><span class=line><span class=cl><span class=nd>@app.route</span><span class=p>(</span><span class=s1>&#39;/orders&#39;</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;POST&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>create_order</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;주문 생성 - 트랜잭션 처리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>data</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>get_json</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 트랜잭션 시작</span>
</span></span><span class=line><span class=cl>        <span class=n>db</span><span class=o>.</span><span class=n>session</span><span class=o>.</span><span class=n>begin</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 재고 확인 및 차감</span>
</span></span><span class=line><span class=cl>        <span class=n>product</span> <span class=o>=</span> <span class=n>Product</span><span class=o>.</span><span class=n>query</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>data</span><span class=p>[</span><span class=s1>&#39;product_id&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>product</span><span class=o>.</span><span class=n>stock</span> <span class=o>&lt;</span> <span class=n>data</span><span class=p>[</span><span class=s1>&#39;quantity&#39;</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>jsonify</span><span class=p>({</span><span class=s1>&#39;error&#39;</span><span class=p>:</span> <span class=s1>&#39;Insufficient stock&#39;</span><span class=p>}),</span> <span class=mi>400</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>product</span><span class=o>.</span><span class=n>stock</span> <span class=o>-=</span> <span class=n>data</span><span class=p>[</span><span class=s1>&#39;quantity&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 주문 생성</span>
</span></span><span class=line><span class=cl>        <span class=n>order</span> <span class=o>=</span> <span class=n>Order</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>user_id</span><span class=o>=</span><span class=n>data</span><span class=p>[</span><span class=s1>&#39;user_id&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=n>total_amount</span><span class=o>=</span><span class=n>product</span><span class=o>.</span><span class=n>price</span> <span class=o>*</span> <span class=n>data</span><span class=p>[</span><span class=s1>&#39;quantity&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=n>status</span><span class=o>=</span><span class=s1>&#39;confirmed&#39;</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>db</span><span class=o>.</span><span class=n>session</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>order</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 트랜잭션 커밋</span>
</span></span><span class=line><span class=cl>        <span class=n>db</span><span class=o>.</span><span class=n>session</span><span class=o>.</span><span class=n>commit</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>jsonify</span><span class=p>({</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;message&#39;</span><span class=p>:</span> <span class=s1>&#39;Order created successfully&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;order_id&#39;</span><span class=p>:</span> <span class=n>order</span><span class=o>.</span><span class=n>id</span>
</span></span><span class=line><span class=cl>        <span class=p>}),</span> <span class=mi>201</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 트랜잭션 롤백</span>
</span></span><span class=line><span class=cl>        <span class=n>db</span><span class=o>.</span><span class=n>session</span><span class=o>.</span><span class=n>rollback</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>jsonify</span><span class=p>({</span><span class=s1>&#39;error&#39;</span><span class=p>:</span> <span class=s1>&#39;Order creation failed&#39;</span><span class=p>}),</span> <span class=mi>500</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용자 관리</span>
</span></span><span class=line><span class=cl><span class=nd>@app.route</span><span class=p>(</span><span class=s1>&#39;/users&#39;</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;POST&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>register_user</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;사용자 등록&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>data</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>get_json</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>user</span> <span class=o>=</span> <span class=n>User</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>username</span><span class=o>=</span><span class=n>data</span><span class=p>[</span><span class=s1>&#39;username&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=n>email</span><span class=o>=</span><span class=n>data</span><span class=p>[</span><span class=s1>&#39;email&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>db</span><span class=o>.</span><span class=n>session</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>user</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>db</span><span class=o>.</span><span class=n>session</span><span class=o>.</span><span class=n>commit</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>jsonify</span><span class=p>({</span><span class=s1>&#39;message&#39;</span><span class=p>:</span> <span class=s1>&#39;User registered&#39;</span><span class=p>,</span> <span class=s1>&#39;id&#39;</span><span class=p>:</span> <span class=n>user</span><span class=o>.</span><span class=n>id</span><span class=p>}),</span> <span class=mi>201</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 헬스체크 엔드포인트</span>
</span></span><span class=line><span class=cl><span class=nd>@app.route</span><span class=p>(</span><span class=s1>&#39;/health&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>health_check</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;애플리케이션 상태 확인&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>jsonify</span><span class=p>({</span><span class=s1>&#39;status&#39;</span><span class=p>:</span> <span class=s1>&#39;healthy&#39;</span><span class=p>,</span> <span class=s1>&#39;version&#39;</span><span class=p>:</span> <span class=s1>&#39;1.0.0&#39;</span><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># 데이터베이스 초기화</span>
</span></span><span class=line><span class=cl>    <span class=k>with</span> <span class=n>app</span><span class=o>.</span><span class=n>app_context</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=n>db</span><span class=o>.</span><span class=n>create_all</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 애플리케이션 실행</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>host</span><span class=o>=</span><span class=s1>&#39;0.0.0.0&#39;</span><span class=p>,</span> <span class=n>port</span><span class=o>=</span><span class=mi>5000</span><span class=p>,</span> <span class=n>debug</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=사례-2-초기-스타트업의-온라인-전자상거래-서비스>사례 2: 초기 스타트업의 온라인 전자상거래 서비스<a hidden class=anchor aria-hidden=true href=#사례-2-초기-스타트업의-온라인-전자상거래-서비스>#</a></h4><p><strong>시나리오</strong>: 초기 스타트업의 온라인 전자상거래 서비스</p><p><strong>시스템 구성</strong>: Monolith 기반으로 UI, 주문, 상품, 결제 모듈 통합</p><pre class=mermaid>graph TB
  Customer --&gt;|HTTP| MonolithApp
  MonolithApp --&gt; UI
  UI --&gt; OrderLogic
  UI --&gt; ProductLogic
  UI --&gt; PaymentLogic
  OrderLogic --&gt; DataAccess
  ProductLogic --&gt; DataAccess
  PaymentLogic --&gt; DataAccess
  DataAccess --&gt; Database[(MySQL)]
</pre><p><strong>Workflow</strong>:</p><ul><li>사용자는 주문 요청 → MonolithApp UI 계층 처리 → 비즈니스 로직 실행 → 데이터 접근 계층 통해 DB CRUD → 응답 반환</li></ul><p><strong>역할</strong>:</p><ul><li>UI: HTTP 요청 수신/뷰 렌더링</li><li>OrderLogic: 재고 확인, 주문 생성</li><li>ProductLogic: 상품 조회, 관리</li><li>PaymentLogic: 결제 처리</li><li>DataAccess: MySQL CRUD</li></ul><p><strong>유무 차이점</strong>:</p><ul><li>모놀리식: 단일 배포, 낮은 운영 복잡도</li><li>분리 시: 각 기능 독립 배포, 확장 유연성, 팀 분리 가능성 확보</li></ul><p><strong>구현 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1> 1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2> 2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3> 3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4> 4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5> 5</a>
</span><span class=lnt id=hl-14-6><a class=lnlinks href=#hl-14-6> 6</a>
</span><span class=lnt id=hl-14-7><a class=lnlinks href=#hl-14-7> 7</a>
</span><span class=lnt id=hl-14-8><a class=lnlinks href=#hl-14-8> 8</a>
</span><span class=lnt id=hl-14-9><a class=lnlinks href=#hl-14-9> 9</a>
</span><span class=lnt id=hl-14-10><a class=lnlinks href=#hl-14-10>10</a>
</span><span class=lnt id=hl-14-11><a class=lnlinks href=#hl-14-11>11</a>
</span><span class=lnt id=hl-14-12><a class=lnlinks href=#hl-14-12>12</a>
</span><span class=lnt id=hl-14-13><a class=lnlinks href=#hl-14-13>13</a>
</span><span class=lnt id=hl-14-14><a class=lnlinks href=#hl-14-14>14</a>
</span><span class=lnt id=hl-14-15><a class=lnlinks href=#hl-14-15>15</a>
</span><span class=lnt id=hl-14-16><a class=lnlinks href=#hl-14-16>16</a>
</span><span class=lnt id=hl-14-17><a class=lnlinks href=#hl-14-17>17</a>
</span><span class=lnt id=hl-14-18><a class=lnlinks href=#hl-14-18>18</a>
</span><span class=lnt id=hl-14-19><a class=lnlinks href=#hl-14-19>19</a>
</span><span class=lnt id=hl-14-20><a class=lnlinks href=#hl-14-20>20</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Node.js/Express 예시
</span></span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>express</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;express&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=nx>express</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>express</span><span class=p>.</span><span class=nx>json</span><span class=p>());</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 주문 로직
</span></span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=s1>&#39;/order&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=p>{</span> <span class=nx>productId</span><span class=p>,</span> <span class=nx>quantity</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 재고 확인
</span></span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>stock</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>db</span><span class=p>.</span><span class=nx>query</span><span class=p>(</span><span class=s1>&#39;SELECT stock FROM products WHERE id=?&#39;</span><span class=p>,</span> <span class=p>[</span><span class=nx>productId</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>stock</span> <span class=o>&lt;</span> <span class=nx>quantity</span><span class=p>)</span> <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>400</span><span class=p>).</span><span class=nx>send</span><span class=p>(</span><span class=s1>&#39;재고 부족&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 주문 생성
</span></span></span><span class=line><span class=cl>  <span class=kr>await</span> <span class=nx>db</span><span class=p>.</span><span class=nx>query</span><span class=p>(</span><span class=s1>&#39;INSERT INTO orders (productId, qty) VALUES (?,?)&#39;</span><span class=p>,</span> <span class=p>[</span><span class=nx>productId</span><span class=p>,</span> <span class=nx>quantity</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>send</span><span class=p>(</span><span class=s1>&#39;Order placed&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 데이터 접근 단일 모듈 예시
</span></span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span><span class=p>.</span><span class=nx>query</span> <span class=o>=</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>sql</span><span class=p>,</span> <span class=nx>params</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 데이터베이스 연결 및 쿼리 실행
</span></span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=사례-3-사내-인트라넷-온라인-결재-시스템>사례 3: 사내 인트라넷 온라인 결재 시스템<a hidden class=anchor aria-hidden=true href=#사례-3-사내-인트라넷-온라인-결재-시스템>#</a></h4><p><strong>시나리오</strong>: 사내 인트라넷 온라인 결재 시스템을 모놀리식 아키텍처로 구현해, 모든 기능 (사용자 인증, 결재 신청, 승인, 보고서 출력 등) 이 하나의 애플리케이션으로 관리된다.</p><p><strong>시스템 구성</strong>:</p><ul><li>프런트엔드 (웹) UI 계층</li><li>비즈니스 로직 계층 (결재 신청, 승인 규칙, 알림 등 포함)</li><li>데이터베이스 연동 계층</li><li>외부 알림 (이메일, 슬랙) 통합 계층 (Optional)</li></ul><pre class=mermaid>graph TD
    U[사용자 요청]
    FE[&#34;프런트엔드(UI) 계층&#34;]
    BL[비즈니스 로직 계층]
    DB[데이터베이스]
    EM[외부 이메일 알림]

    U --&gt; FE --&gt; BL --&gt; DB
    BL --Optional--&gt; EM
</pre><p><strong>Workflow</strong>:</p><ul><li>사용자가 UI 로 결재 신청 → 비즈니스 로직에서는 인증, 결재 규칙 처리 → 데이터 저장 후 승인자에게 알림 전송</li></ul><p><strong>역할</strong>:</p><ul><li>전체 기능을 하나의 시스템에서 일괄 처리하며, 각 역할이 긴밀하게 결합되어 있음</li></ul><p><strong>유무에 따른 차이점</strong>:</p><ul><li>모놀리식 도입 전: 별도의 산재된 여러 툴, 수작업, 중복 입력</li><li>모놀리식 도입 후: 통합 관리, 운영 자동화, 데이터 일관성 및 효율적 배포</li></ul><p><strong>구현 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1> 1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2> 2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3> 3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4> 4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5> 5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6> 6</a>
</span><span class=lnt id=hl-16-7><a class=lnlinks href=#hl-16-7> 7</a>
</span><span class=lnt id=hl-16-8><a class=lnlinks href=#hl-16-8> 8</a>
</span><span class=lnt id=hl-16-9><a class=lnlinks href=#hl-16-9> 9</a>
</span><span class=lnt id=hl-16-10><a class=lnlinks href=#hl-16-10>10</a>
</span><span class=lnt id=hl-16-11><a class=lnlinks href=#hl-16-11>11</a>
</span><span class=lnt id=hl-16-12><a class=lnlinks href=#hl-16-12>12</a>
</span><span class=lnt id=hl-16-13><a class=lnlinks href=#hl-16-13>13</a>
</span><span class=lnt id=hl-16-14><a class=lnlinks href=#hl-16-14>14</a>
</span><span class=lnt id=hl-16-15><a class=lnlinks href=#hl-16-15>15</a>
</span><span class=lnt id=hl-16-16><a class=lnlinks href=#hl-16-16>16</a>
</span><span class=lnt id=hl-16-17><a class=lnlinks href=#hl-16-17>17</a>
</span><span class=lnt id=hl-16-18><a class=lnlinks href=#hl-16-18>18</a>
</span><span class=lnt id=hl-16-19><a class=lnlinks href=#hl-16-19>19</a>
</span><span class=lnt id=hl-16-20><a class=lnlinks href=#hl-16-20>20</a>
</span><span class=lnt id=hl-16-21><a class=lnlinks href=#hl-16-21>21</a>
</span><span class=lnt id=hl-16-22><a class=lnlinks href=#hl-16-22>22</a>
</span><span class=lnt id=hl-16-23><a class=lnlinks href=#hl-16-23>23</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># app.py</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>flask</span> <span class=kn>import</span> <span class=n>Flask</span><span class=p>,</span> <span class=n>request</span><span class=p>,</span> <span class=n>render_template</span>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>Flask</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용자 인증</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>login</span><span class=p>(</span><span class=n>user</span><span class=p>,</span> <span class=n>password</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># 인증 로직</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 결재 신청 처리</span>
</span></span><span class=line><span class=cl><span class=nd>@app.route</span><span class=p>(</span><span class=s2>&#34;/apply&#34;</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s2>&#34;POST&#34;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>apply</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># 결재 데이터 처리 후 DB 저장</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 승인 처리</span>
</span></span><span class=line><span class=cl><span class=nd>@app.route</span><span class=p>(</span><span class=s2>&#34;/approve&#34;</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s2>&#34;POST&#34;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>approve</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># 승인 로직 처리 후 이메일 알림</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>debug</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=주목할-내용>주목할 내용<a hidden class=anchor aria-hidden=true href=#주목할-내용>#</a></h3><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>아키텍처 구조</strong></td><td>결합도</td><td>강한 결합 (Tight Coupling)</td><td>구성 요소 간 상호 의존도가 높아 변경 파급이 큼</td></tr><tr><td></td><td>모듈화 전략</td><td>Modular Monolith</td><td>도메인 기반 내부 모듈화를 통해 구조 개선 가능</td></tr><tr><td></td><td>계층 구조</td><td>Layered Architecture</td><td>프레젠테이션, 비즈니스 로직, 데이터 접근 등 수평 분리 구조</td></tr><tr><td><strong>배포 전략</strong></td><td>단일 배포</td><td>Atomic Deployment</td><td>전체 시스템을 하나의 단위로 빌드 및 배포</td></tr><tr><td></td><td>배포 자동화</td><td>GitOps, CI/CD, Docker</td><td>단일 컨테이너로 구성된 모놀리스를 자동화하여 운영</td></tr><tr><td></td><td>배포 방식</td><td>Blue-Green, Canary</td><td>전체 단위의 배포지만 무중단 혹은 점진적 방식 일부 적용 가능</td></tr><tr><td><strong>확장 전략</strong></td><td>수평 확장</td><td>Scale-Out</td><td>동일 인스턴스를 복제하여 부하 분산 (부분 확장 불가)</td></tr><tr><td></td><td>수직 확장</td><td>Scale-Up</td><td>리소스 증설을 통한 처리량 증가 (하드웨어 제약 존재)</td></tr><tr><td><strong>성능 최적화</strong></td><td>캐싱 전략</td><td>Multi-level Caching</td><td>애플리케이션, DB, CDN 등 계층별 캐싱 적용</td></tr><tr><td></td><td>연결 풀링</td><td>Connection Pooling</td><td>DB 연결 효율화로 성능 및 안정성 확보</td></tr><tr><td></td><td>DB 최적화</td><td>Sharding, Read Replica</td><td>DB 부하 분산 및 읽기 성능 향상</td></tr><tr><td><strong>마이그레이션 전략</strong></td><td>점진적 전환</td><td>Strangler Fig Pattern</td><td>도메인 단위로 기능을 MSA 로 단계적 분리</td></tr><tr><td></td><td>데이터 분리</td><td>Database Decomposition</td><td>단일 DB → 서비스별 DB 로 전환</td></tr><tr><td></td><td>이벤트 모델링</td><td>Event Storming</td><td>전환 설계 시 도메인 이벤트 중심 분석 기법</td></tr><tr><td><strong>운영 및 테스트</strong></td><td>장애 영향도</td><td>SPOF 위험</td><td>일부 장애가 전체 시스템에 영향</td></tr><tr><td></td><td>테스트 전략</td><td>통합 테스트</td><td>기능들이 결합되어 있어 전체 테스트가 중요</td></tr><tr><td></td><td>프로세스 모니터링</td><td>Health Check & Metrics</td><td>전체 시스템 상태 추적 필요 (예: liveness, readiness probe)</td></tr><tr><td><strong>보안</strong></td><td>단일 진입점 보안</td><td>API Gateway 보호</td><td>모든 요청이 집중되므로 인증/인가가 중요</td></tr><tr><td></td><td>보안 운영</td><td>Secret Management, Scanning</td><td>민감 정보 관리 및 CI/CD 통합 보안 검사</td></tr><tr><td><strong>개발 및 협업</strong></td><td>협업 충돌</td><td>Merge Conflict 빈도↑</td><td>동일 코드베이스에서 다수 개발자 작업 시 충돌 증가</td></tr><tr><td></td><td>개발 방식</td><td>Monorepo 관리</td><td>모놀리식 코드베이스에 효과적인 저장소 관리 방식</td></tr><tr><td></td><td>마이크로프론트엔드</td><td>UI 모듈화</td><td>프론트엔드도 기능별로 분리 가능한 접근</td></tr><tr><td><strong>현대화 트렌드</strong></td><td>컨테이너화</td><td>Dockerization</td><td>컨테이너 기반의 모놀리스 운영 최적화</td></tr><tr><td></td><td>오케스트레이션</td><td>Kubernetes 적용</td><td>모놀리식도 Kubernetes 로 스케줄링 및 배포 가능</td></tr><tr><td></td><td>서버리스화</td><td>Serverless Monolith</td><td>Lambda 단위로 모놀리식 코드를 실행하는 접근</td></tr></tbody></table><ol><li><p><strong>아키텍처 구조</strong>:<br>Monolithic Architecture 는 구성 요소 간 결합도가 높아 유지보수와 확장이 어렵지만, 내부 모듈화를 적용한 Modular Monolith 형태로 개선 가능하다. Layered Architecture 구조가 일반적으로 적용된다.</p></li><li><p><strong>배포 전략</strong>:<br>단일 배포 방식은 빠르고 간단하지만 유연성이 부족하다. CI/CD, GitOps, Docker 등을 활용해 자동화하면 운영 효율을 높일 수 있다. Blue-Green, Canary 와 같은 배포 방식도 제한적으로 적용 가능하다.</p></li><li><p><strong>확장 전략</strong>:<br>부분 확장이 어려워 전체 인스턴스를 복제하는 수평 확장이 주로 사용된다. 리소스 한계 도달 시 수직 확장이 가능하지만 한계가 존재한다.</p></li><li><p><strong>성능 최적화</strong>:<br>애플리케이션/DB 수준에서의 캐싱, DB 샤딩, 읽기 복제본 등으로 성능을 보완할 수 있다. 연결 풀링은 필수적인 기본 최적화 전략이다.</p></li><li><p><strong>마이그레이션 전략</strong>:<br>Strangler Fig Pattern 을 활용해 도메인 단위로 MSA 로의 전환이 가능하다. 이 과정에서 이벤트 스토밍 기법을 통해 도메인 분석을 진행하고, DB 는 서비스별로 분리된다.</p></li><li><p><strong>운영 및 테스트</strong>:<br>모놀리스 구조는 SPOF 에 민감하며, 통합 테스트의 중요성이 크다. 상태 모니터링 및 헬스체크는 전체 시스템 안정성 확보에 필수적이다.</p></li><li><p><strong>보안</strong>:<br>단일 진입점 (API Gateway) 을 중심으로 인증 및 인가가 집중되어 보안 중요도가 높다. 비밀 관리와 자동 스캐닝은 DevSecOps 관점에서 적용된다.</p></li><li><p><strong>개발 및 협업</strong>:<br>코드베이스가 단일한 만큼 병합 충돌이 잦으며, 협업 시 분명한 역할 분담과 코드 관리 전략이 요구된다. 프론트엔드 영역도 마이크로프론트엔드로 모듈화를 적용할 수 있다.</p></li><li><p><strong>현대화 트렌드</strong>:<br>Docker, Kubernetes, Serverless 환경에서도 모놀리스는 운영될 수 있으며, 현대화 전략의 일환으로 컨테이너 기반 패키징과 오케스트레이션이 필수적으로 고려된다.</p></li></ol><h3 id=반드시-학습해야-할-내용>반드시 학습해야 할 내용<a hidden class=anchor aria-hidden=true href=#반드시-학습해야-할-내용>#</a></h3><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>아키텍처 스타일</strong></td><td>구조 비교</td><td>모놀리식 vs 마이크로서비스</td><td>아키텍처 전환 시 고려 요소와 장단점 비교 분석</td></tr><tr><td></td><td>내부 모듈화</td><td>Vertical Slice</td><td>기능별로 모놀리식 내부를 관통하는 모듈화 기법</td></tr><tr><td></td><td>전환 전략</td><td>Strangler Fig Pattern</td><td>마이크로서비스 전환을 위한 점진적 분리 전략</td></tr><tr><td></td><td>설계 원칙</td><td>Clean Architecture</td><td>의존성 역전, 관심사 분리 중심의 레이어드 구조 적용</td></tr><tr><td></td><td>경계 구분</td><td>Bounded Context (DDD)</td><td>도메인 기반의 서비스/모듈 경계 정의</td></tr><tr><td><strong>빌드 및 배포</strong></td><td>CI/CD</td><td>단일 아티팩트, 자동화 파이프라인</td><td>Monolith 용 통합 빌드, GitHub Actions, Jenkins 등 활용</td></tr><tr><td></td><td>배포 전략</td><td>Blue-Green, Canary, GitOps 배포</td><td>무중단 배포 및 단계적 롤아웃 구성</td></tr><tr><td><strong>테스트 전략</strong></td><td>통합 테스트</td><td>End-to-End Testing</td><td>전체 플로우 보장을 위한 통합 테스트 설계</td></tr><tr><td></td><td>계약 기반 테스트</td><td>Contract Testing</td><td>모듈 간 API 및 데이터 스키마 테스트 (JSON Schema 등)</td></tr><tr><td><strong>성능 최적화</strong></td><td>병목 식별</td><td>Performance Profiling</td><td>응답 시간, 리소스 사용 분석 (e.g., Python cProfile)</td></tr><tr><td></td><td>부하 테스트</td><td>Load Testing</td><td>시스템 처리 한계 및 확장성 평가</td></tr><tr><td></td><td>모니터링</td><td>APM 도구</td><td>NewRelic, Datadog 기반 실시간 모듈 성능 측정</td></tr><tr><td><strong>운영 및 장애 대응</strong></td><td>장애 복구 전략</td><td>SPOF 대응, 모듈 장애 격리</td><td>장애 확산을 막기 위한 설계 및 대응 전략</td></tr><tr><td></td><td>로깅/관찰성</td><td>Structured Logging, Metrics, Tracing</td><td>문제 진단 및 예측을 위한 시스템 상태 기록</td></tr><tr><td></td><td>백업 및 재해 복구 전략</td><td>Disaster Recovery</td><td>장애 시 데이터 복구와 복원 시나리오 구성</td></tr><tr><td><strong>데이터 관리</strong></td><td>트랜잭션 일관성</td><td>ACID Properties</td><td>일관성 있는 데이터 처리 보장 메커니즘</td></tr><tr><td></td><td>ORM 최적화</td><td>Lazy/Eager Load, N+1 방지</td><td>객체 - 관계 매핑 시 성능 병목 최소화 전략</td></tr><tr><td></td><td>정규화 및 인덱싱</td><td>데이터 구조 최적화</td><td>중복 제거 및 검색 성능 개선을 위한 DB 설계 전략</td></tr><tr><td><strong>보안 및 인증</strong></td><td>인증/인가</td><td>사용자 인증 및 권한 관리</td><td>OAuth2, 세션, JWT 기반 보안 적용</td></tr><tr><td></td><td>보안 설계</td><td>OWASP Top 10 대응</td><td>구조 내 보안 취약점 방지 설계</td></tr><tr><td></td><td>감사 로깅</td><td>Audit Trail</td><td>시스템 내 사용자 및 시스템 행위 추적 기록</td></tr><tr><td><strong>리팩토링/전환</strong></td><td>점진적 마이그레이션</td><td>Anti-Corruption Layer</td><td>외부화된 마이크로서비스와의 안정적 연결 계층</td></tr><tr><td></td><td>코드 리팩토링</td><td>모듈화 전략, 코드 품질 유지</td><td>관심사 분리 기반의 리팩토링 및 코드 재구성</td></tr></tbody></table><ul><li><p><strong>아키텍처 스타일</strong>:<br>모놀리식 구조의 이해를 기반으로 모듈화, 도메인 경계 정의, 전환 패턴을 학습함으로써 대규모 시스템에서도 확장 가능하고 관리 가능한 구조를 설계하는 역량 확보가 핵심이다. Clean Architecture 와 DDD 개념은 향후 마이크로서비스 전환의 기초가 된다.</p></li><li><p><strong>빌드 및 배포</strong>:<br>CI/CD 파이프라인 구축은 자동화의 기반이며, Blue-Green 및 GitOps 전략은 안정성과 배포 효율성을 강화한다. 단일 아티팩트 중심의 배포 전략은 모놀리식의 특성에 적합하게 설계되어야 한다.</p></li><li><p><strong>테스트 전략</strong>:<br>전체 시스템 안정성을 위해 E2E 테스트와 Contract Testing 이 중요하다. 특히 모놀리식 구조에서는 모듈 간 경계가 모호해지기 때문에 명시적 계약 기반 테스트가 필요하다.</p></li><li><p><strong>성능 최적화</strong>:<br>프로파일링, 부하 테스트, APM 도구를 통해 병목 지점을 시각화하고 최적화해야 한다. 성능 저하 포인트를 코드/쿼리/인프라 단에서 통합적으로 분석하는 능력이 요구된다.</p></li><li><p><strong>운영 및 장애 대응</strong>:<br>단일 장애 지점 제거 (SPOF), 로그·모니터링 체계 수립, 백업 전략 구축을 통해 고가용성을 확보하고, 실시간 장애 탐지 및 빠른 복구가 가능해야 한다.</p></li><li><p><strong>데이터 관리</strong>:<br>ORM 성능 튜닝, 데이터 정규화, 인덱싱 설계 등은 응답 시간 개선 및 대규모 요청 처리에 필수적이며, 트랜잭션 ACID 속성은 모놀리식 구조에서 데이터 일관성 확보에 핵심이다.</p></li><li><p><strong>보안 및 인증</strong>:<br>인증/인가, OWASP 대응, 감사 로깅 등은 구조 내에서 침투 위험 방지 및 규정 준수를 위한 기본 요소이며, 인증 흐름 설계도 함께 고려되어야 한다.</p></li><li><p><strong>리팩토링/전환</strong>:<br>Strangler Fig Pattern, ACL, Vertical Slicing 은 단일 구조에서 점진적 서비스 분리를 위한 실용적인 접근법이다. 코드 리팩토링은 유지보수성과 전환 준비도를 함께 끌어올리는 전략이다.</p></li></ul><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td><strong>아키텍처 스타일</strong></td><td>Monolithic Architecture</td><td>모든 기능이 단일 코드베이스/프로세스에 통합된 구조</td></tr><tr><td></td><td>Modular Monolith</td><td>내부적으로 도메인/기능 단위로 모듈화된 모놀리식 아키텍처</td></tr><tr><td></td><td>Layered Architecture</td><td>UI, 비즈니스 로직, 데이터 접근 계층으로 분리된 논리적 구조</td></tr><tr><td></td><td>N-Tier Architecture</td><td>물리적으로 분리된 다계층 구조 (프레젠테이션, API, 비즈니스, DB 등)</td></tr><tr><td></td><td>Microservice Architecture</td><td>각 기능을 독립된 서비스로 분산 운영하는 구조</td></tr><tr><td></td><td>Hybrid Architecture</td><td>Monolith 과 MSA 구조를 혼합한 형태</td></tr><tr><td><strong>설계 원칙</strong></td><td>Separation of Concerns</td><td>관심사 분리를 통해 유지보수성과 확장성 확보</td></tr><tr><td></td><td>Single Responsibility Principle</td><td>하나의 모듈/클래스는 하나의 책임만 가져야 한다는 원칙</td></tr><tr><td></td><td>Tight Coupling</td><td>컴포넌트 간 의존도가 높아 유연성과 확장성 저하</td></tr><tr><td></td><td>Modularity</td><td>기능별로 코드를 분리하여 독립성과 재사용성 확보</td></tr><tr><td><strong>설계 및 구조 패턴</strong></td><td>MVC (Model-View-Controller)</td><td>모델 - 뷰 - 컨트롤러 구조의 디자인 패턴</td></tr><tr><td></td><td>Vertical Slice Pattern</td><td>기능 단위로 계층을 관통하는 모듈 구성 방식</td></tr><tr><td></td><td>Strangler Fig Pattern</td><td>기존 시스템을 점진적으로 대체하는 마이그레이션 전략</td></tr><tr><td></td><td>Repository Pattern</td><td>데이터 접근 로직을 추상화하여 도메인과 분리</td></tr><tr><td></td><td>Facade Pattern</td><td>복잡한 서브시스템을 단순화한 단일 인터페이스 제공</td></tr><tr><td><strong>DevOps 및 배포 전략</strong></td><td>CI (Continuous Integration)</td><td>소스코드 변경을 자동으로 통합하는 프로세스</td></tr><tr><td></td><td>CD (Continuous Deployment)</td><td>코드 변경 후 자동으로 실서버에 배포하는 절차</td></tr><tr><td></td><td>Blue-Green Deployment</td><td>두 개의 환경을 번갈아 배포해 무중단 서비스 유지</td></tr><tr><td></td><td>Canary Deployment</td><td>일부 사용자 대상으로 점진적 배포 후 전체 적용</td></tr><tr><td></td><td>Rolling Deployment</td><td>서버를 순차적으로 업데이트하여 배포 중단 방지</td></tr><tr><td><strong>운영 및 인프라</strong></td><td>Container</td><td>애플리케이션 실행 환경을 캡슐화한 경량화된 가상화 기술</td></tr><tr><td></td><td>Load Balancing</td><td>트래픽을 여러 인스턴스에 분산시켜 성능 확보</td></tr><tr><td></td><td>Scale-out (Horizontal Scaling)</td><td>인스턴스 수를 늘려 확장</td></tr><tr><td></td><td>Scale-up (Vertical Scaling)</td><td>기존 인스턴스의 성능을 향상시켜 확장</td></tr><tr><td></td><td>Single Point of Failure (SPOF)</td><td>단일 장애로 전체 시스템 중단을 유발하는 지점</td></tr><tr><td><strong>관찰성 및 모니터링</strong></td><td>Observability</td><td>시스템 상태를 로그, 메트릭, 트레이스로 파악하는 체계</td></tr><tr><td></td><td>Distributed Tracing</td><td>여러 컴포넌트에 걸친 요청 흐름을 추적 분석</td></tr><tr><td></td><td>APM (Application Performance Monitoring)</td><td>애플리케이션 성능을 실시간 분석하고 시각화</td></tr><tr><td></td><td>Log Aggregation</td><td>분산 로그를 통합 수집하고 조회 가능하게 하는 기법</td></tr><tr><td><strong>보안 및 인증</strong></td><td>JWT (JSON Web Token)</td><td>토큰 기반 인증 방식으로 사용자 정보 전송에 활용</td></tr><tr><td></td><td>OAuth 2.0</td><td>외부 서비스 인증을 위한 권한 위임 프로토콜</td></tr><tr><td></td><td>RBAC (Role-Based Access Control)</td><td>역할 기반 사용자 접근 제어</td></tr><tr><td><strong>데이터 처리 및 최적화</strong></td><td>ACID</td><td>데이터베이스 트랜잭션의 신뢰성 보장 속성 (원자성 등)</td></tr><tr><td></td><td>CRUD</td><td>Create, Read, Update, Delete–DB 기본 연산</td></tr><tr><td></td><td>Database Sharding</td><td>데이터베이스를 수평으로 분할하여 확장성 확보</td></tr><tr><td></td><td>Connection Pooling</td><td>DB 연결을 미리 생성·재사용하여 성능 향상</td></tr><tr><td></td><td>Caching</td><td>자주 사용되는 데이터를 메모리에 저장하여 응답 속도 향상</td></tr><tr><td></td><td>Indexing</td><td>검색 성능을 높이기 위한 데이터베이스 인덱스 생성</td></tr><tr><td><strong>이벤트 및 메시징</strong></td><td>Event Broker</td><td>Kafka, RabbitMQ 등 이벤트를 중계하는 시스템</td></tr><tr><td></td><td>Event Sourcing</td><td>상태 변경을 이벤트로 기록하고 재구성</td></tr><tr><td></td><td>CQRS</td><td>명령과 조회를 분리하여 성능과 복잡성 분산</td></tr><tr><td><strong>개발 방법론</strong></td><td>DDD (Domain-Driven Design)</td><td>도메인 중심으로 모델을 설계하는 접근법</td></tr><tr><td></td><td>TDD (Test-Driven Development)</td><td>테스트를 먼저 작성하고 구현하는 개발 방식</td></tr><tr><td></td><td>Refactoring</td><td>코드 기능은 유지하면서 구조를 개선하는 활동</td></tr><tr><td><strong>기타 아키텍처 구성요소</strong></td><td>Presentation Layer</td><td>UI/사용자 인터페이스 담당 계층</td></tr><tr><td></td><td>Business Logic Layer</td><td>도메인 규칙/로직을 담당하는 핵심 계층</td></tr><tr><td></td><td>Data Access Layer</td><td>DB 와의 CRUD 및 ORM 연결 계층</td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><ul><li><a href=https://www.techtarget.com/whatis/definition/monolithic-architecture>What is monolithic architecture in software? | TechTarget</a></li><li><a href=https://www.atlassian.com/microservices/microservices-architecture/microservices-vs-monolith>Monolithic Architecture vs. Microservices | Atlassian</a></li><li><a href=https://www.geeksforgeeks.org/monolithic-architecture-system-design/>Monolithic Architecture – System Design | GeeksforGeeks</a></li><li><a href=https://www.mulesoft.com/api/microservices/monolithic-vs-microservices>Microservices vs Monolithic architecture | MuleSoft</a></li><li><a href=https://en.wikipedia.org/wiki/Monolithic_system>Monolithic system | Wikipedia</a></li><li><a href=https://learn.microsoft.com/en-us/azure/architecture/guide/architecture-styles/n-tier>N-tier architecture style | Microsoft Learn (Azure Architecture Center)</a></li><li><a href=https://medium.com/@rachanagopal02/data-architecture-series-azure-n-tier-architecture-6e275796f15c>Data Architecture Series: Azure N‑Tier Architecture | Medium</a></li><li><a href=https://learn.microsoft.com/en-us/dotnet/architecture/modern-web-apps-azure/common-web-application-architectures>Common web application architectures | .NET | Microsoft Learn</a></li></ul><hr></div><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Modular Monolithic</h2></header><div class=entry-content><p>Modular Monolithic Modular Monolith Architecture는 단일 배포 단위 내에서 비즈니스 도메인 기반으로 명확히 분리된 모듈 구조를 갖는 설계 방식이다.
각 모듈은 높은 응집도와 낮은 결합도를 유지하며 독립적으로 개발·테스트되고, 명확한 인터페이스를 통해 통신한다. 초기에는 모놀리식의 단순함을 유지하면서도, 필요 시 마이크로서비스로의 전환을 고려한 진화 가능성과 확장성을 동시에 확보할 수 있어 ’ 골디락스 아키텍처 ’ 로도 불린다.
등장 배경 및 발전 과정 Modular Monolith는 단순히 아키텍처 스타일이 아니라,
지나친 분산과 복잡성에 대한 반작용이자, 실용성과 확장성을 동시에 추구하는 전략적 구조로 등장했다.
...</p></div><footer class=entry-footer><span title='2025-06-17 04:34:00 +0000 UTC'>June 17, 2025</span>&nbsp;·&nbsp;88 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Modular Monolithic" href=https://buenhyden.github.io/posts/system-architecture--design/architecture-styles/monolithic-architecture/modular-monolithic/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Layered Architecture</h2></header><div class=entry-content><p>Layered Architecture 계층형 아키텍처 (Layered Architecture) 는 각 역할, 책임, 처리 흐름을 명확히 구분하여 복잡한 소프트웨어 시스템을 논리적 계층으로 나누는 구조적 설계 패턴이다.
전통적인 계층 구조는 단방향 흐름과 명확한 책임 분리를 중심으로 단순성과 빠른 개발 속도를 중시했던 아키텍처다. 하지만 시간이 지나며 계층 간 강한 결합, 테스트의 어려움, 확장성 제약 등의 한계가 드러났고, 특히 계층 간 통신 비용 증가, 변경 시 여러 계층에 걸친 리팩토링 요구, 단단한 결합, 병렬 처리의 어려움 등도 함께 고려해야 할 구조적 문제로 지적되고 있다.
...</p></div><footer class=entry-footer><span title='2025-04-30 14:29:00 +0000 UTC'>April 30, 2025</span>&nbsp;·&nbsp;83 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Layered Architecture" href=https://buenhyden.github.io/posts/system-architecture--design/architecture-styles/monolithic-architecture/layered-architecture/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Component-Based Architecture</h2></header><div class=entry-content><p>Component-Based Architecture Component‑Based Architecture(CBA) 는 시스템을 기능별로 독립된 컴포넌트 단위로 분할하여 설계 및 구현하는 구조이다. 각 컴포넌트는 명확한 인터페이스 계약 (interface contract) 을 통해 다른 컴포넌트와 통신하며, 내부 구현은 캡슐화 (encapsulation) 되어 외부에 노출되지 않는다. 이러한 설계는 각 컴포넌트를 독립적으로 테스트, 교체, 재사용 가능하게 하며, 병렬 개발 및 팀 분리, 기능 확장, 기술 변화 대응을 용이하게 한다. UI 프레임워크 (React, Angular) 뿐 아니라 백엔드 시스템, 기업 시스템에서도 널리 활용된다.
등장 배경 및 발전 과정 개념적 기원 및 철학적 배경 항목 내용 모듈화 개념의 탄생 1960 년대 학술 논문에서 모듈화 개념 등장. " 조립 가능한 소프트웨어 " 에 대한 이상적 접근 시작. 제조업 모델의 영향 하드웨어처럼 사전 제작된 소프트웨어 부품 (컴포넌트) 을 조립하는 생산 모델에서 영감 받음. OOP 의 한계 보완 객체지향 설계 (OOP) 만으로는 대규모 재사용성과 유연성을 완전히 실현하기 어렵다는 문제 인식에서 출발. OOP 의 한계 이론적 한계:
...</p></div><footer class=entry-footer><span title='2024-09-26 11:48:00 +0000 UTC'>September 26, 2024</span>&nbsp;·&nbsp;50 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Component-Based Architecture" href=https://buenhyden.github.io/posts/system-architecture--design/architecture-styles/monolithic-architecture/component-based-architecture/></a></article></main><script type=module>
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
  </script><footer class=footer><span>&copy; 2026 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>