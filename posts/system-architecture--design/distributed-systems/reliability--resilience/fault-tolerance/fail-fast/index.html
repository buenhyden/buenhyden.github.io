<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Fail Fast | hyunyoun's Blog</title><meta name=keywords content="System-and-Software-Architecture,MSA-Patterns,Reliability,Fail-Fast"><meta name=description content="Fail FastëŠ” ì‹œìŠ¤í…œì—ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆì„ ë•Œ ì¦‰ì‹œ ì‹¤íŒ¨ë¥¼ ë³´ê³ í•˜ê³  ì •ìƒ ì‘ë™ì„ ì¤‘ì§€í•˜ëŠ” ì„¤ê³„ ì›ì¹™"><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/system-architecture--design/distributed-systems/reliability--resilience/fault-tolerance/fail-fast/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.8762af4fa9ee176c57f72565b721f234162fc7a9c882a271e0a1f68c4e89fb34.css integrity="sha256-h2KvT6nuF2xX9yVltyHyNBYvx6nIgqJx4KH2jE6J+zQ=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/system-architecture--design/distributed-systems/reliability--resilience/fault-tolerance/fail-fast/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/system-architecture--design/distributed-systems/reliability--resilience/fault-tolerance/fail-fast/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/system-architecture--design/distributed-systems/reliability--resilience/fault-tolerance/fail-fast/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Fail Fast"><meta property="og:description" content="Fail FastëŠ” ì‹œìŠ¤í…œì—ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆì„ ë•Œ ì¦‰ì‹œ ì‹¤íŒ¨ë¥¼ ë³´ê³ í•˜ê³  ì •ìƒ ì‘ë™ì„ ì¤‘ì§€í•˜ëŠ” ì„¤ê³„ ì›ì¹™"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Fail Fast"><meta name=twitter:description content="Fail FastëŠ” ì‹œìŠ¤í…œì—ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆì„ ë•Œ ì¦‰ì‹œ ì‹¤íŒ¨ë¥¼ ë³´ê³ í•˜ê³  ì •ìƒ ì‘ë™ì„ ì¤‘ì§€í•˜ëŠ” ì„¤ê³„ ì›ì¹™"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Fail Fast","item":"https://buenhyden.github.io/posts/system-architecture--design/distributed-systems/reliability--resilience/fault-tolerance/fail-fast/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a></div><h1>Fail Fast</h1><div class=post-description>Fail FastëŠ” ì‹œìŠ¤í…œì—ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆì„ ë•Œ ì¦‰ì‹œ ì‹¤íŒ¨ë¥¼ ë³´ê³ í•˜ê³  ì •ìƒ ì‘ë™ì„ ì¤‘ì§€í•˜ëŠ” ì„¤ê³„ ì›ì¹™</div></header><div class=post-content><h2 id=fail-fast>Fail Fast<a hidden class=anchor aria-hidden=true href=#fail-fast>#</a></h2><p>ì•„ë˜ëŠ” <strong>Fail Fast Pattern</strong>ì— ëŒ€í•œ 1~5 ë‹¨ê³„ ì •ë¦¬ì…ë‹ˆë‹¤. ì´í›„ ë‹¨ê³„ë„ ë°˜ì˜ ì¤€ë¹„ ì™„ë£Œë˜ì—ˆì–´ìš”!</p><hr><h2 id=1-íƒœê·¸-tags>1. íƒœê·¸ (Tags)<a hidden class=anchor aria-hidden=true href=#1-íƒœê·¸-tags>#</a></h2><p>Fail-Fast-Pattern<br>Resilience-Patterns<br>Rapid-Failure-Detection<br>Defensive-Programming</p><hr><h2 id=2-ë¶„ë¥˜-êµ¬ì¡°-ì ì ˆì„±-ê²€í† >2. ë¶„ë¥˜ êµ¬ì¡° ì ì ˆì„± ê²€í† <a hidden class=anchor aria-hidden=true href=#2-ë¶„ë¥˜-êµ¬ì¡°-ì ì ˆì„±-ê²€í† >#</a></h2><p>&ldquo;Fail Fast Pattern&rdquo; ì€ &ldquo;Software Engineering > Design and Architecture > Architecture Patterns > Resilience Patterns&rdquo; ì•ˆì— ì˜ ë§ìŠµë‹ˆë‹¤.</p><ul><li><strong>ê·¼ê±°</strong>: ë¶„ì‚° ì‹œìŠ¤í…œì´ë‚˜ ëª¨ë“ˆ ë‚´ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ì¦‰ì‹œ ì‹¤íŒ¨ë¥¼ ê°ì§€í•˜ê³  ì „íŒŒí•˜ì—¬, ì§€ì—° ì˜¤ë¥˜ (cascading failure) ì™€ ìƒíƒœ ë¶€ì •í™•ì„±ì„ ë°©ì§€í•˜ëŠ” íƒ„ë ¥ì„± ì „ëµì…ë‹ˆë‹¤Â (<a href="https://blog.bernd-ruecker.com/fail-fast-is-not-enough-84645d6864d3?utm_source=chatgpt.com" title="Fail fast is not enough!. Why you need stateful resilienceâ€¦">blog.bernd-ruecker.com</a>, <a href="https://arxiv.org/abs/1808.08796?utm_source=chatgpt.com" title="An Empirical Study of Architecting for Continuous Delivery and Deployment">arxiv.org</a>, <a href="https://arxiv.org/abs/1611.02717?utm_source=chatgpt.com" title="Resilience Design Patterns - A Structured Approach to Resilience at Extreme Scale (version 1.0)">arxiv.org</a>).</li></ul><hr><h2 id=3-ìš”ì•½-200-ì-ë‚´ì™¸>3. ìš”ì•½ (200 ì ë‚´ì™¸)<a hidden class=anchor aria-hidden=true href=#3-ìš”ì•½-200-ì-ë‚´ì™¸>#</a></h2><p>Fail Fast Pattern ì€ ì‹œìŠ¤í…œ ë‚´ì—ì„œ ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ë‚˜ ë¶ˆì¼ì¹˜ ìƒíƒœê°€ ë°œìƒí–ˆì„ ë•Œ, ê°€ëŠ¥í•œ í•œ ë¹¨ë¦¬ ì‹¤íŒ¨ë¥¼ ê°ì§€í•˜ê³  ì²˜ë¦¬í•˜ë©° ì¤‘ë‹¨í•¨ìœ¼ë¡œì¨ ì˜¤ë¥˜ í™•ì‚°ê³¼ ë””ë²„ê¹… ì–´ë ¤ì›€ì„ ì¤„ì´ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ê³„ ì›ì¹™ì…ë‹ˆë‹¤. ì´ˆê¸° ì˜¤ë¥˜ ë°œê²¬ê³¼ ëª…ì‹œì ì¸ ì‹¤íŒ¨ëŠ” ì•ˆì •ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ í¬ê²Œ ë†’ì…ë‹ˆë‹¤Â .</p><hr><h2 id=4-ê°œìš”-250-ì-ë‚´ì™¸>4. ê°œìš” (250 ì ë‚´ì™¸)<a hidden class=anchor aria-hidden=true href=#4-ê°œìš”-250-ì-ë‚´ì™¸>#</a></h2><p>Fail Fast Pattern ì€ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ì¦‰ì‹œ ëŒ€ìƒ ê¸°ëŠ¥ì˜ ì‹¤í–‰ì„ ì¤‘ë‹¨í•˜ê³  ì˜¤ë¥˜ë¥¼ ë³´ê³ í•˜ëŠ” ì„¤ê³„ ì›ì¹™ìœ¼ë¡œ, ëª¨ë“ˆ ê°„ ìƒíƒœ ë¶ˆì¼ì¹˜ë‚˜ ì‹œìŠ¤í…œ ë¶ˆì•ˆì „ ìƒíƒœê°€ ì „íŒŒë˜ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤. íŠ¹íˆ ì´ˆê¸° ê°œë°œ ë‹¨ê³„ì—ì„œëŠ” ì˜¤ë¥˜ ë…¸ì¶œì„ ìœ ë„í•˜ê³ , ìš´ì˜ í™˜ê²½ì—ì„œëŠ” graceful degradation(ìš°ì•„í•œ ì¤‘ë‹¨) ì „ëµê³¼ ê²°í•©ë˜ì–´ ë” ì•ˆì „í•œ ì‹œìŠ¤í…œ ì„¤ê³„ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì¥ì•  ëŒ€ì‘ê³¼ ì½”ë“œ ì•ˆì •ì„±ì„ ê°•í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤Â .</p><hr><h2 id=5-í•µì‹¬-ê°œë…-core-concepts>5. í•µì‹¬ ê°œë… (Core Concepts)<a hidden class=anchor aria-hidden=true href=#5-í•µì‹¬-ê°œë…-core-concepts>#</a></h2><ul><li><strong>ì¦‰ì‹œ ì‹¤íŒ¨ (Fail Fast)</strong>: ì˜¤ë¥˜ê°€ ê°ì§€ë˜ë©´ ê°€ëŠ¥í•œ ë¹¨ë¦¬ ì¤‘ë‹¨í•˜ê³  ì˜¤ë¥˜ë¥¼ ìƒìœ„ ê³„ì¸µì— ì „íŒŒí•©ë‹ˆë‹¤Â </li><li><strong>ë°©ì–´ì  í”„ë¡œê·¸ë˜ë° (Defensive Programming)</strong>: ì…ë ¥ê°’ ê²€ì¦, ì‚¬ì „ ì¡°ê±´ ì²´í¬ ë“±ì„ í†µí•´ ë¶ˆì•ˆì • ìƒíƒœë¥¼ ì‚¬ì „ì— ë°©ì§€í•©ë‹ˆë‹¤Â </li><li><strong>ëª…ì‹œì  ì‹¤íŒ¨ (Visible Failure)</strong>: ì˜ˆì™¸ë‚˜ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ëª…í™•í•˜ê²Œ ì œê³µí•˜ì—¬ ë””ë²„ê¹…ê³¼ ìœ ì§€ë³´ìˆ˜ë¥¼ ìš©ì´í•˜ê²Œ í•©ë‹ˆë‹¤Â (<a href="https://medium.com/%40christian.ppl/introduction-to-the-fail-fast-principle-in-software-development-865ccab28979?utm_source=chatgpt.com" title="Introduction to the 'Fail Fast!' Principle in Software Development">medium.com</a>)</li><li><strong>Fail-Silent vs Fail-Fast</strong>: ì˜¤ë¥˜ë¥¼ ì¡°ìš©íˆ ë¬´ì‹œí•˜ëŠ” ë°©ì‹ (Fail-Silent) ë³´ë‹¤, ë¹ ë¥´ê²Œ ì‹¤íŒ¨í•˜ì—¬ ìœ„í—˜ì„ ë…¸ì¶œí•˜ê³  í†µì œí•˜ëŠ” Fail Fast ê°€ ì„ í˜¸ë©ë‹ˆë‹¤Â (<a href="https://enterprisecraftsmanship.com/posts/fail-fast-principle/?utm_source=chatgpt.com" title="Fail Fast principle - Enterprise Craftsmanship">enterprisecraftsmanship.com</a>).</li><li><strong>í™˜ê²½ ë§¥ë½ (Context-sensitive application)</strong>: ê°œë°œ ë‹¨ê³„ì—ì„œëŠ” ì˜¤ë¥˜ë¥¼ ì¦‰ì‹œ ë“œëŸ¬ë‚´ëŠ” ê²ƒì´ ìœ ë¦¬í•˜ë©°, ìš´ì˜ í™˜ê²½ì—ì„œëŠ” ì‹¤íŒ¨ë¥¼ ìš°ì•„í•˜ê²Œ ì²˜ë¦¬í•˜ê±°ë‚˜ í´ë°± ë©”ì»¤ë‹ˆì¦˜ì´ í•„ìš”í•©ë‹ˆë‹¤Â .</li></ul><h3 id=51-ì‹¤ë¬´-ì—°ê´€ì„±>5.1 ì‹¤ë¬´ ì—°ê´€ì„±<a hidden class=anchor aria-hidden=true href=#51-ì‹¤ë¬´-ì—°ê´€ì„±>#</a></h3><ul><li><strong>ì–¸ì–´ í‘œì¤€</strong>: Java, C#, Go ë“±ì—ì„œ ì…ë ¥ ê²€ì¦ì„ ìœ„í•œ <code>assert</code>, <code>fail-fast iterator</code>, ì˜ˆì™¸ ì²˜ë¦¬ê°€ ê¶Œì¥ë©ë‹ˆë‹¤Â (<a href="https://en.wikipedia.org/wiki/Fail-fast_system?utm_source=chatgpt.com" title="Fail-fast system">en.wikipedia.org</a>).</li><li><strong>í”„ë ˆì„ì›Œí¬ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬</strong>: Resilience4j, Spring Boot ë“±ì—ì„œëŠ” Circuit Breaker ì™€ í•¨ê»˜ fail-fast ê¸°ë°˜ í´ë°±ì„ ì§€ì›í•˜ëŠ” ì‚¬ë¡€ê°€ í”í•©ë‹ˆë‹¤Â (<a href="https://saifur-rahman.hashnode.dev/building-resilient-microservices-with-circuit-breaking-and-fail-fast-implementing-circuit-breakers-in-spring-boot-with-resilience4j-library?utm_source=chatgpt.com" title="Building Resilient Microservices with Circuit Breaking and Fail-Fast">saifur-rahman.hashnode.dev</a>).</li><li><strong>ë¶„ì‚° ì‹œìŠ¤í…œ</strong>: ì„œë¹„ìŠ¤ ê°„ í˜¸ì¶œ ì‹œ ì‘ë‹µ ì§€ì—°ì´ë‚˜ í˜•ì‹ ì˜¤ë¥˜ ë°œìƒ ì¦‰ì‹œ ëª¨ë“ˆ ì‹¤íŒ¨ë¥¼ ê°ì§€í•˜ì—¬ ì „ì²´ ì¥ì• ë¥¼ ì˜ˆë°©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li></ul><hr><p>âœ… <strong>ë‹¤ìŒ ë‹¨ê³„ ì‘ì—…</strong>ìœ¼ë¡œ ì´ì–´ì„œ [### ë°°ê²½, ëª©ì , íŠ¹ì§•], [### ì‘ë™ ì›ë¦¬, ë‹¤ì´ì–´ê·¸ë¨], [### êµ¬ì¡° ë° êµ¬ì„± ìš”ì†Œ] ë¥¼ ì‘ì„±í• ê¹Œìš”? ê³„ì† ì§„í–‰ ë°©í–¥ì„ ì•Œë ¤ì£¼ì„¸ìš”!</p><p>ì´ì–´ì„œ <strong>Fail Fast Pattern</strong>ì˜ ì„¸ë¶€ì‚¬í•­ì„ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤. ì´ë²ˆì—ëŠ” <strong>ë°°ê²½ ~ ì‘ë™ ì›ë¦¬</strong>, <strong>êµ¬ì¡° ë° ì•„í‚¤í…ì²˜</strong>, <strong>êµ¬í˜„ ê¸°ë²•</strong>, <strong>ì¥ë‹¨ì  ë° í•´ê²°ë°©ì•ˆ</strong>, <strong>ë„ì „ ê³¼ì œ</strong>, <strong>ë¶„ë¥˜ ìœ í˜•</strong>, <strong>ì‹¤ë¬´ ì˜ˆì‹œ</strong>ê¹Œì§€ í¬í•¨í–ˆìŠµë‹ˆë‹¤.</p><hr><h2 id=6-ë°°ê²½-background>6. ë°°ê²½ (Background)<a hidden class=anchor aria-hidden=true href=#6-ë°°ê²½-background>#</a></h2><ul><li><strong>ì§€ì—°ëœ ì˜¤ë¥˜ ë°œê²¬ ë¬¸ì œ</strong>: ì‹œìŠ¤í…œì´ ì˜¤ë¥˜ë¥¼ ì‹ ì¤‘íˆ ë¬´ì‹œí•˜ê±°ë‚˜ ì§€ì—°í•˜ë©´ ìƒíƒœ ë¶ˆì¼ì¹˜ì™€ ë°ì´í„° ì†ìƒ ìœ„í—˜ì´ ì¦ê°€í•©ë‹ˆë‹¤ (<a href="https://blog.bernd-ruecker.com/fail-fast-is-not-enough-84645d6864d3?utm_source=chatgpt.com" title="Fail fast is not enough!. Why you need stateful resilienceâ€¦">codereliant.io</a>).</li><li><strong>ë¶„ì‚° ì‹œìŠ¤í…œ í™˜ê²½</strong>: ë‹¤ì¤‘ ì„œë¹„ìŠ¤ í˜¸ì¶œ ì‹œ ì˜¤ë¥˜ íƒì§€ ì§€ì—°ì€ ì¥ì•  í™•ì‚°ê³¼ ë””ë²„ê¹… ë³µì¡ë„ë¥¼ ë†’ì…ë‹ˆë‹¤.</li><li><strong>Agile & TDD ì „í†µ</strong>: ë¹ ë¥¸ ì‹¤íŒ¨ëŠ” ì´ˆê¸° ê°œë°œ ë‹¨ê³„ì—ì„œ ë””ë²„ê¹…ê³¼ ì•ˆì •ì„± í™•ë³´ì— íš¨ê³¼ì ì…ë‹ˆë‹¤ (<a href="https://blog.bernd-ruecker.com/fail-fast-is-not-enough-84645d6864d3?utm_source=chatgpt.com" title="Fail fast is not enough!. Why you need stateful resilienceâ€¦">codereliant.io</a>).</li></ul><hr><h2 id=7-ëª©ì -ë°-í•„ìš”ì„±-purpose--need>7. ëª©ì  ë° í•„ìš”ì„± (Purpose & Need)<a hidden class=anchor aria-hidden=true href=#7-ëª©ì -ë°-í•„ìš”ì„±-purpose--need>#</a></h2><ul><li><strong>ì˜¤ë¥˜ í™•ì‚° ë°©ì§€</strong>: ì˜¤ë¥˜ë¥¼ ë¹ ë¥´ê²Œ ê°ì§€í•˜ì—¬ downstream í”¼í•´ ìµœì†Œí™”.</li><li><strong>ë””ë²„ê¹… íš¨ìœ¨í™”</strong>: ì‹¤íŒ¨ ì‹œì ê³¼ ì›ì¸ ëª…í™•í™”ë¡œ ë¬¸ì œ í•´ê²° ì´‰ì§„ (<a href="https://blog.bernd-ruecker.com/fail-fast-is-not-enough-84645d6864d3?utm_source=chatgpt.com" title="Fail fast is not enough!. Why you need stateful resilienceâ€¦">codereliant.io</a>).</li><li><strong>ì‹œìŠ¤í…œ ë¬´ê²°ì„± í™•ë³´</strong>: ì˜ëª»ëœ ìƒíƒœ ì¶•ì ì„ ì‚¬ì „ì— ì°¨ë‹¨.</li><li><strong>í”¼ë“œë°± ê¸°ë°˜ ê°œì„ </strong>: Agile ë‚´ ë¹ ë¥¸ í”¼ë“œë°±â†’í•™ìŠµ ì‚¬ì´í´ ê°•í™”.</li></ul><hr><h2 id=8-íŠ¹ì§•-characteristics>8. íŠ¹ì§• (Characteristics)<a hidden class=anchor aria-hidden=true href=#8-íŠ¹ì§•-characteristics>#</a></h2><ul><li><strong>ì¦‰ê°ì  ì˜¤ë¥˜ ê°ì§€</strong>: ì…ë ¥ ê²€ì¦, precondition ê²€ì‚¬ ë“± ì´ˆê¸° ì‹¤íŒ¨ ìœ ë„.</li><li><strong>ëª…ì‹œì  ì‹¤íŒ¨ ì²˜ë¦¬</strong>: Null, default í—ˆìš© ëŒ€ì‹  ì˜ˆì™¸ ë°œìƒ ê¶Œì¥ (<a href="https://arxiv.org/abs/1808.08796?utm_source=chatgpt.com" title="An Empirical Study of Architecting for Continuous Delivery and Deployment">stackoverflow.com</a>).</li><li><strong>ë‹¨ê³„ë³„ ì ìš© ì „ëµ</strong>: ê°œë°œ í™˜ê²½ì—ì„œëŠ” ì „ë©´ ì ìš©, ìš´ì˜ í™˜ê²½ì€ ë¬¸ë§¥ ê¸°ë°˜ graceful degradation (<a href="https://blog.bernd-ruecker.com/fail-fast-is-not-enough-84645d6864d3?utm_source=chatgpt.com" title="Fail fast is not enough!. Why you need stateful resilienceâ€¦">codereliant.io</a>).</li><li><strong>ìƒíƒœ ì¼ê´€ì„± ìš°ì„ </strong>: ì˜¤ë¥˜ ì „íŒŒ ë°©ì§€ì™€ ë¬´ê²°ì„± ìœ ì§€ ëª©ì  (<a href="https://arxiv.org/abs/1611.02717?utm_source=chatgpt.com" title="Resilience Design Patterns - A Structured Approach to Resilience at Extreme Scale (version 1.0)">enterprisecraftsmanship.com</a>).</li></ul><hr><h2 id=9-í•µì‹¬-ì›ë¦¬-ë°-ì‘ë™-ì›ë¦¬-core-mechanics--operation>9. í•µì‹¬ ì›ë¦¬ ë° ì‘ë™ ì›ë¦¬ (Core Mechanics & Operation)<a hidden class=anchor aria-hidden=true href=#9-í•µì‹¬-ì›ë¦¬-ë°-ì‘ë™-ì›ë¦¬-core-mechanics--operation>#</a></h2><h3 id=ì›ë¦¬>ì›ë¦¬<a hidden class=anchor aria-hidden=true href=#ì›ë¦¬>#</a></h3><ul><li>ì‹œìŠ¤í…œ ë‚´ë¶€ì—ì„œ ì˜¤ë¥˜ ë˜ëŠ” ë¹„ì •ìƒ ìƒíƒœê°€ ê°ì§€ë˜ë©´ ì¦‰ì‹œ ì‹¤íŒ¨í•˜ê³  ìƒìœ„ ê³„ì¸µì´ë‚˜ í˜¸ì¶œìì—ê²Œ ì „íŒŒ</li></ul><h3 id=ì‘ë™-íë¦„>ì‘ë™ íë¦„<a hidden class=anchor aria-hidden=true href=#ì‘ë™-íë¦„>#</a></h3><pre class=mermaid>flowchart TB
  A[Start Operation] --&gt; B{Validate Preconditions}
  B -- OK --&gt; C[Execute Core Logic]
  B -- NOK --&gt; D[Throw Immediate Exception / Halt]
  C --&gt; E{Unexpected Condition?}
  E -- Yes --&gt; D
  E -- No --&gt; F[Return Result Successfully]
  D --&gt; G[Error Propagated / Logged]
</pre><hr><h2 id=10-êµ¬ì¡°-ë°-ì•„í‚¤í…ì²˜-structure--architecture>10. êµ¬ì¡° ë° ì•„í‚¤í…ì²˜ (Structure & Architecture)<a hidden class=anchor aria-hidden=true href=#10-êµ¬ì¡°-ë°-ì•„í‚¤í…ì²˜-structure--architecture>#</a></h2><h3 id=í•„ìˆ˜-êµ¬ì„±ìš”ì†Œ>í•„ìˆ˜ êµ¬ì„±ìš”ì†Œ<a hidden class=anchor aria-hidden=true href=#í•„ìˆ˜-êµ¬ì„±ìš”ì†Œ>#</a></h3><table><thead><tr><th>êµ¬ì„±ìš”ì†Œ</th><th>ì—­í• </th></tr></thead><tbody><tr><td>Precondition Checker</td><td>ì´ˆê¸° ì…ë ¥, ìƒíƒœ ê²€ì¦</td></tr><tr><td>Fail Fast Handler</td><td>ì‹¤íŒ¨ì‹œ ì˜ˆì™¸ ë˜ì§ / ì‹œìŠ¤í…œ ì¢…ë£Œ ìš”ì²­</td></tr><tr><td>Error Propagator</td><td>ì˜¤ë¥˜ ì „ë‹¬ ë©”ì»¤ë‹ˆì¦˜ (exception ì „íŒŒ, HTTP 5xx ë“±)</td></tr><tr><td>System Guardian</td><td>ìš´ì˜ í™˜ê²½ì—ì„œëŠ” graceful degradation ì§€ì›</td></tr></tbody></table><h3 id=ì„ íƒ-êµ¬ì„±ìš”ì†Œ>ì„ íƒ êµ¬ì„±ìš”ì†Œ<a hidden class=anchor aria-hidden=true href=#ì„ íƒ-êµ¬ì„±ìš”ì†Œ>#</a></h3><ul><li>Fallback Handler: ì•ˆì „í•œ ê¸°ë³¸ ì‘ë‹µ ì œê³µ</li><li>Metrics Collector: ì‹¤íŒ¨ íšŸìˆ˜ ë° ë°œìƒ ì‹œì  ê¸°ë¡</li><li>Monitoring & Alerting: ì¦‰ì‹œ ì•Œë¦¼ ì‹œìŠ¤í…œ</li></ul><h3 id=ì•„í‚¤í…ì²˜-ë‹¤ì´ì–´ê·¸ë¨>ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨<a hidden class=anchor aria-hidden=true href=#ì•„í‚¤í…ì²˜-ë‹¤ì´ì–´ê·¸ë¨>#</a></h3><pre class=mermaid>classDiagram
class PreconditionChecker {
  +validate(input)
}
class CoreLogic {
  +execute()
}
class FailFastHandler {
  +onFailure(error)
}
class ErrorPropagator {
  +propagate(error)
}
class FallbackHandler
class MetricsCollector

PreconditionChecker --&gt; FailFastHandler
CoreLogic --&gt; FailFastHandler
FailFastHandler --&gt; ErrorPropagator
ErrorPropagator --&gt; MetricsCollector
ErrorPropagator --&gt; FallbackHandler
</pre><hr><h2 id=11-êµ¬í˜„-ê¸°ë²•-implementation-techniques>11. êµ¬í˜„ ê¸°ë²• (Implementation Techniques)<a hidden class=anchor aria-hidden=true href=#11-êµ¬í˜„-ê¸°ë²•-implementation-techniques>#</a></h2><ul><li><strong>ì–¸ì–´ ì§€ì› ê¸°ëŠ¥ ì‚¬ìš©</strong>: Java <code>assert</code>; Go <code>panic</code>; C# <code>Debug.Assert()</code> (<a href="https://medium.com/%40christian.ppl/introduction-to-the-fail-fast-principle-in-software-development-865ccab28979?utm_source=chatgpt.com" title="Introduction to the 'Fail Fast!' Principle in Software Development">medium.com</a>, <a href="https://arxiv.org/abs/1808.08796?utm_source=chatgpt.com" title="An Empirical Study of Architecting for Continuous Delivery and Deployment">stackoverflow.com</a>, <a href="https://arxiv.org/abs/1611.02717?utm_source=chatgpt.com" title="Resilience Design Patterns - A Structured Approach to Resilience at Extreme Scale (version 1.0)">enterprisecraftsmanship.com</a>, <a href="https://enterprisecraftsmanship.com/posts/fail-fast-principle/?utm_source=chatgpt.com" title="Fail Fast principle - Enterprise Craftsmanship">en.wikipedia.org</a>).</li><li><strong>ë””ìì¸ ë°”ì´ ì»¨íŠ¸ë™íŠ¸ (Design by Contract)</strong>: ì „ì œì¡°ê±´/í›„ì¡°ê±´ ëª…ì‹œ + ëŸ°íƒ€ì„ ê²€ì¦ (<a href="https://arxiv.org/abs/1611.02717?utm_source=chatgpt.com" title="Resilience Design Patterns - A Structured Approach to Resilience at Extreme Scale (version 1.0)">enterprisecraftsmanship.com</a>).</li><li><strong>í˜ì¼ - íŒ¨ìŠ¤íŠ¸ ì´í„°ë ˆì´í„°</strong>: Java ì»¬ë ‰ì…˜ ë°˜ë³µ ì¤‘ concurrent ìˆ˜ì •ì‹œ ì˜ˆì™¸ ë°œìƒ êµ¬í˜„.</li><li><strong>ë¶„ì‚° í™˜ê²½ êµ¬ì„±</strong>: Circuit Breaker ì™€ í†µí•©í•´ ìš”ì²­ ì‹¤íŒ¨ë¥¼ ë¹ ë¥´ê²Œ ê°ì§€í•˜ê³  ì°¨ë‹¨.</li></ul><hr><h2 id=12-ì¥ì -benefits>12. ì¥ì  (Benefits)<a hidden class=anchor aria-hidden=true href=#12-ì¥ì -benefits>#</a></h2><table><thead><tr><th>êµ¬ë¶„</th><th>í•­ëª©</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>ì¥ì </td><td>ë¹ ë¥¸ ë¬¸ì œ ì¸ì‹</td><td>ê°œë°œ ë° ìš´ì˜ì—ì„œ ë¬¸ì œë¥¼ ì¡°ê¸°ì— ê°ì§€ ê°€ëŠ¥</td></tr><tr><td></td><td>ì•ˆì •ì„± í™•ë³´</td><td>ìƒíƒœ ë¶€ì •í•© ì¶•ì  ë°©ì§€ë¥¼ ìœ„í•œ ëª…í™•í•œ ì‹¤íŒ¨ ì²˜ë¦¬</td></tr><tr><td></td><td>ìœ ì§€ë³´ìˆ˜ ìš©ì´</td><td>ì‹¤íŒ¨ ì‹œ ë¡œê¹… ë° ì›ì¸ ë¶„ì„ì´ ì‰¬ì›Œì§</td></tr><tr><td></td><td>ì½”ë“œ í’ˆì§ˆ í–¥ìƒ</td><td>ë°©ì–´ì  ì½”ë”©ê³¼ ì¡°ê±´ ê²€ì¦ì„ ìì—°ìŠ¤ëŸ½ê²Œ ì´‰ì§„</td></tr></tbody></table><hr><h2 id=13-ë‹¨ì -ë°-ë¬¸ì œì -limitations--issues>13. ë‹¨ì  ë° ë¬¸ì œì  (Limitations & Issues)<a hidden class=anchor aria-hidden=true href=#13-ë‹¨ì -ë°-ë¬¸ì œì -limitations--issues>#</a></h2><h3 id=ë‹¨ì >ë‹¨ì <a hidden class=anchor aria-hidden=true href=#ë‹¨ì >#</a></h3><table><thead><tr><th>êµ¬ë¶„</th><th>í•­ëª©</th><th>ì„¤ëª…</th><th>í•´ê²°ì±…</th></tr></thead><tbody><tr><td>ë‹¨ì </td><td>ìš´ì˜ ì¤‘ ì‚¬ìš©ì ê²½í—˜ ì•…í™”</td><td>ì‹¤íŒ¨ì‹œ ì‚¬ìš©ìì—ê²Œ ì¦‰ì‹œ ì˜í–¥ ì „íŒŒ</td><td>Fallback Handler êµ¬í˜„</td></tr><tr><td></td><td>ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ì‹œìŠ¤í…œ ì¢…ë£Œ</td><td>ì˜ˆì™¸ ë¯¸ì²˜ë¦¬ ë°©ì‹ ì˜¤ë¥˜ ì „íŒŒ ê°€ëŠ¥</td><td>ìƒìœ„ì—ì„œ ì˜ˆì™¸ ì²˜ë¦¬, í´ë°± ì—°ê³„</td></tr><tr><td></td><td>ìƒì‚° í™˜ê²½ì—ì„œ ê³¼ë„í•œ ì¤‘ë‹¨</td><td>ì‘ì€ ì˜¤ë¥˜ì—ë„ ëŒ€ê·œëª¨ ì˜í–¥ ê°€ëŠ¥</td><td>Context-aware fail-fast ì ìš©</td></tr></tbody></table><h3 id=ë¬¸ì œì >ë¬¸ì œì <a hidden class=anchor aria-hidden=true href=#ë¬¸ì œì >#</a></h3><table><thead><tr><th>êµ¬ë¶„</th><th>í•­ëª©</th><th>ì›ì¸</th><th>ì˜í–¥</th><th>íƒì§€ ë° ì§„ë‹¨</th><th>ì˜ˆë°©</th><th>í•´ê²° ê¸°ë²•</th></tr></thead><tbody><tr><td>ë¬¸ì œì </td><td>ì˜ˆì™¸ í­ì£¼</td><td>ì‚¬ì „ ì¡°ê±´ ê²€ì¦ ë¶€ì¡±</td><td>ë¬´í•œ ë°˜ë³µ ì˜ˆì™¸, ë¡œê·¸ í­ì¦</td><td>ë¡œê·¸/metrics ë¶„ì„</td><td>ì…ë ¥ ê²€ì¦ ê°•í™”</td><td>Rate Limiter, circuit breaker</td></tr><tr><td></td><td>ì˜ë„ì¹˜ ì¤‘ë‹¨</td><td>ëª¨ë“ˆ ê²½ê³„ ì˜¤ë¥˜ ì²˜ë¦¬ ë¶€ì¬</td><td>ì „ì²´ ì„œë¹„ìŠ¤ ì¥ì• </td><td>ì—ëŸ¬ ì¶”ì  ì‹œìŠ¤í…œì˜ ì´ë²¤íŠ¸ ì¡°íšŒ</td><td>ê²½ê³„ì—ì„œ ì˜ˆì™¸ í¬ì°©, Fallback êµ¬í˜„</td><td></td></tr></tbody></table><hr><h2 id=14-ë„ì „-ê³¼ì œ-challenges>14. ë„ì „ ê³¼ì œ (Challenges)<a hidden class=anchor aria-hidden=true href=#14-ë„ì „-ê³¼ì œ-challenges>#</a></h2><ul><li><strong>ìš´ì˜ í™˜ê²½ê³¼ ê°œë°œ í™˜ê²½ êµ¬ë¶„ ì ìš©</strong>: ê°œë°œì—ì„  Full Fail Fast, ìš´ì˜ì—ì„  ë¶€ë¶„ ë˜ëŠ” graceful fail ì§€ì›</li><li><strong>Fallback ê³¼ ì—°ê³„ ì„¤ê³„</strong>: ì‹œìŠ¤í…œ ì¤‘ë‹¨ ëŒ€ì‹  ì•ˆì „í•œ ì‘ë‹µ ì œê³µ</li><li><strong>ë¶„ì‚° ì„œë¹„ìŠ¤ì™€ í†µí•©</strong>: Circuit Breaker, Retry ë“±ê³¼ í˜¼ìš© ì‹œ ì •ì±… ì¼ê´€ì„± ë³´ì¥</li><li><strong>ìƒíƒœ ë¶ˆì¼ì¹˜ ì—†ì• ê¸°</strong>: ì¤‘ê°„ ìƒíƒœì—ì„œ ì¢…ë£Œ ì‹œ rollback/transaction ì„¤ê³„</li></ul><hr><h2 id=15-ë¶„ë¥˜-ê¸°ì¤€ì—-ë”°ë¥¸-ìœ í˜•-types>15. ë¶„ë¥˜ ê¸°ì¤€ì— ë”°ë¥¸ ìœ í˜• (Types)<a hidden class=anchor aria-hidden=true href=#15-ë¶„ë¥˜-ê¸°ì¤€ì—-ë”°ë¥¸-ìœ í˜•-types>#</a></h2><table><thead><tr><th>ê¸°ì¤€</th><th>ìœ í˜•</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>ì ìš© ì‹œì </td><td>Dev-time</td><td>ì»´íŒŒì¼/runtime assert í™œìš©</td></tr><tr><td></td><td>Run-time</td><td>í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì˜¤ë¥˜ ê²€ì¦ ë° ì¤‘ë‹¨</td></tr><tr><td>ì ìš© ë²”ìœ„</td><td>ëª¨ë“ˆ ë‚´ë¶€</td><td>í•¨ìˆ˜/í´ë˜ìŠ¤ ë ˆë²¨ ì˜ˆì™¸ ì²˜ë¦¬ ê°•í™”</td></tr><tr><td></td><td>ì‹œìŠ¤í…œ ê²½ê³„</td><td>ìš”ì²­ ë‹¨ìœ„ fail fast + fallback ì„¤ê³„</td></tr><tr><td>íŒ¨í„´ ì¡°í•©</td><td>ë‹¨ë… ì‚¬ìš©</td><td>ë‹¨ìˆœí•œ ì˜ˆì™¸ ë°œìƒ + ì¤‘ë‹¨</td></tr><tr><td></td><td>ì—°ê³„ ì‚¬ìš©</td><td>Circuit, Retry, Fallback ë“±ê³¼ ì¡°í•©</td></tr></tbody></table><hr><h2 id=16-ì‹¤ë¬´-ì‚¬ìš©-ì˜ˆì‹œ>16. ì‹¤ë¬´ ì‚¬ìš© ì˜ˆì‹œ<a hidden class=anchor aria-hidden=true href=#16-ì‹¤ë¬´-ì‚¬ìš©-ì˜ˆì‹œ>#</a></h2><table><thead><tr><th>ì£¼ì²´</th><th>ëª©ì </th><th>êµ¬í˜„ ë°©ì‹</th><th>íš¨ê³¼</th></tr></thead><tbody><tr><td>Spring Boot ì„œë¹„ìŠ¤</td><td>Config ì´ˆê¸°í™” ì‹¤íŒ¨ ê²€ì¦</td><td><code>@PostConstruct</code> ì—ì„œ assertion + ì˜ˆì™¸ ë°œìƒ</td><td>ì˜ëª»ëœ ì„¤ì • ì¡°ê¸° íƒì§€ ë° ë°°í¬ ê±°ë¶€ (<a href="https://arxiv.org/abs/1611.02717?utm_source=chatgpt.com" title="Resilience Design Patterns - A Structured Approach to Resilience at Extreme Scale (version 1.0)">enterprisecraftsmanship.com</a>, <a href="https://en.wikipedia.org/wiki/Fail-fast_system?utm_source=chatgpt.com" title="Fail-fast system">codecentric.de</a>)</td></tr><tr><td>Java ì»¬ë ‰ì…˜ ë°˜ë³µ</td><td>concurrent ìˆ˜ì • ì¤‘ ì˜¤ë¥˜</td><td>fail-fast iterator</td><td>ë°ì´í„° ë¶ˆì¼ì¹˜ ë°©ì§€</td></tr><tr><td>ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í†µì‹ </td><td>ë¹„ì •ìƒ ì‘ë‹µ ë¹ ë¥¸ ì‹¤íŒ¨ ì „íŒŒ</td><td>Circuit Breaker + fail fast</td><td>ì˜¤ë¥˜ ì²´ì¸ ì „íŒŒ ìµœì†Œí™”</td></tr></tbody></table><hr><p>ì¶”ê°€ë¡œ <strong>í™œìš© ì‚¬ë¡€ ì›Œí¬í”Œë¡œìš°</strong>, <strong>êµ¬í˜„ ì˜ˆì‹œ ì½”ë“œ</strong>, <strong>ìµœì í™” ê³ ë ¤ì‚¬í•­</strong>, ê·¸ë¦¬ê³  <strong>ìš©ì–´ ì •ë¦¬ ë° ì°¸ê³ /ì¶œì²˜</strong>ë„ ì´ì–´ì„œ ì‘ì„± ê°€ëŠ¥í•©ë‹ˆë‹¤. ë‹¤ìŒì— ì–´ë–¤ í•­ëª© ì´ì–´ì„œ ì •ë¦¬í• ê¹Œìš”?</p><p>ì´ì–´ì„œ <strong>Fail Fast Pattern</strong>ì— ëŒ€í•œ ë‚˜ë¨¸ì§€ í•­ëª©ë“¤ì„ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.</p><hr><h2 id=17-í™œìš©-ì‚¬ë¡€--ì›Œí¬í”Œë¡œìš°-use-case--workflow>17. í™œìš© ì‚¬ë¡€ + ì›Œí¬í”Œë¡œìš° (Use Case & Workflow)<a hidden class=anchor aria-hidden=true href=#17-í™œìš©-ì‚¬ë¡€--ì›Œí¬í”Œë¡œìš°-use-case--workflow>#</a></h2><h3 id=a-spring-boot-ì• í”Œë¦¬ì¼€ì´ì…˜-ì‹œì‘-ì‹œ-ì„¤ì •-ê²€ì¦>A. Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œ ì„¤ì • ê²€ì¦<a hidden class=anchor aria-hidden=true href=#a-spring-boot-ì• í”Œë¦¬ì¼€ì´ì…˜-ì‹œì‘-ì‹œ-ì„¤ì •-ê²€ì¦>#</a></h3><ul><li><strong>ìƒí™©</strong>: í•„ìˆ˜ í™˜ê²½ë³€ìˆ˜ ë˜ëŠ” ì„¤ì • í‚¤ ëˆ„ë½ ì‹œ ì¦‰ì‹œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹¤íŒ¨ ì§€ì‹œ</li><li><strong>êµ¬í˜„ íë¦„</strong>:</li></ul><pre class=mermaid>sequenceDiagram
  participant Application
  participant ConfigService
  Application-&gt;&gt;ConfigService: loadConfig()
  alt í•„ìˆ˜ í•­ëª© ëˆ„ë½
    ConfigService--&gt;&gt;Application: throw ConfigException
    Application-&gt;&gt;System: exit(1)  // Fail Fast
  else ì •ìƒ
    ConfigService--&gt;&gt;Application: config OK
    Application-&gt;&gt;System: start()
  end
</pre><ul><li><strong>íš¨ê³¼</strong>: ì˜ëª»ëœ ìƒíƒœë¡œ êµ¬ë™ë˜ëŠ” ê²ƒì„ ì‚¬ì „ ì°¨ë‹¨</li></ul><hr><h2 id=18-êµ¬í˜„-ì˜ˆì‹œ-implementation-example>18. êµ¬í˜„ ì˜ˆì‹œ (Implementation Example)<a hidden class=anchor aria-hidden=true href=#18-êµ¬í˜„-ì˜ˆì‹œ-implementation-example>#</a></h2><h3 id=java--spring-boot-postconstruct-í™˜ê²½-ê²€ì¦>Java + Spring Boot: <code>@PostConstruct</code> í™˜ê²½ ê²€ì¦<a hidden class=anchor aria-hidden=true href=#java--spring-boot-postconstruct-í™˜ê²½-ê²€ì¦>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Component</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>StartupValidator</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Value</span><span class=p>(</span><span class=s>&#34;${api.key:}&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>apiKey</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@PostConstruct</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>validate</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Preconditions</span><span class=p>.</span><span class=na>checkArgument</span><span class=p>(</span><span class=o>!</span><span class=n>apiKey</span><span class=p>.</span><span class=na>isBlank</span><span class=p>(),</span><span class=w> </span><span class=s>&#34;API key must be configured&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li><code>Preconditions.checkArgument</code> ë¡œ ì´ˆê¸° ê²€ì¦</li><li>ì‹¤íŒ¨ ì‹œ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œë”© ì¤‘ë‹¨ âœ”ï¸ (<a href="https://blog.bernd-ruecker.com/fail-fast-is-not-enough-84645d6864d3?utm_source=chatgpt.com" title="Fail fast is not enough!. Why you need stateful resilienceâ€¦">medium.com</a>, <a href="https://arxiv.org/abs/1808.08796?utm_source=chatgpt.com" title="An Empirical Study of Architecting for Continuous Delivery and Deployment">alibabacloud.com</a>)</li></ul><hr><h2 id=19-ìµœì í™”-ê³ ë ¤ì‚¬í•­-ë°-ì£¼ì˜ì >19. ìµœì í™” ê³ ë ¤ì‚¬í•­ ë° ì£¼ì˜ì <a hidden class=anchor aria-hidden=true href=#19-ìµœì í™”-ê³ ë ¤ì‚¬í•­-ë°-ì£¼ì˜ì >#</a></h2><table><thead><tr><th>í•­ëª©</th><th>ê³ ë ¤ì‚¬í•­</th><th>ê¶Œì¥ì‚¬í•­</th></tr></thead><tbody><tr><td>ìš´ì˜ vs ê°œë°œ í™˜ê²½</td><td>ê°œë°œì—ëŠ” ì „ë©´ ì ìš©, ìš´ì˜ì€ context-aware ì ìš©</td><td>ìš´ì˜ì—ëŠ” graceful degradation ì ìš©</td></tr><tr><td>ì˜ˆì™¸ ì²˜ë¦¬</td><td>ë¯¸ì²˜ë¦¬ëœ ì˜ˆì™¸ëŠ” ì„œë¹„ìŠ¤ ì¢…ë£Œ ìœ ë°œ</td><td>ê¸€ë¡œë²Œ ExceptionHandler ì—ì„œ ì²˜ë¦¬ í›„ í´ë°± ì œê³µ</td></tr><tr><td>ìƒíƒœ ë¶ˆì¼ì¹˜ ë°©ì§€</td><td>ì¤‘ê°„ ì‹¤íŒ¨ë¡œ ì¸í•œ ë°ì´í„° íŒŒí¸í™”</td><td>íŠ¸ëœì­ì…˜ or idempotent rollback ì„¤ê³„</td></tr><tr><td>ì‚¬ìš©ì ê²½í—˜</td><td>ì¦‰ì‹œ ì‹¤íŒ¨ê°€ UX ì €í•˜ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìŒ</td><td>ì‚¬ìš©ì ì•ˆë‚´ ë©”ì‹œì§€, ë°±ì—… ë¡œì§ ì ìš©</td></tr></tbody></table><hr><h2 id=20-ìš©ì–´-ì •ë¦¬-glossary>20. ìš©ì–´ ì •ë¦¬ (Glossary)<a hidden class=anchor aria-hidden=true href=#20-ìš©ì–´-ì •ë¦¬-glossary>#</a></h2><table><thead><tr><th>ì¹´í…Œê³ ë¦¬</th><th>ìš©ì–´</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>Software Design</td><td>Fail Fast</td><td>ì˜¤ë¥˜ ë°œìƒ ì‹œ ì¦‰ì‹œ ì‹¤íŒ¨í•˜ê³  ì¤‘ë‹¨í•˜ëŠ” ì „ëµ</td></tr><tr><td>Programming</td><td>Preconditions</td><td>ì½”ë“œ ì‹¤í–‰ ì „ ì¡°ê±´ì„ ê²€ì¦í•˜ëŠ” ì ˆì°¨</td></tr><tr><td>Error Handling</td><td>Fallback / Graceful Degradation</td><td>ì˜¤ë¥˜ ì‹œ ëŒ€ì²´ ë™ì‘ìœ¼ë¡œ ì„œë¹„ìŠ¤ ìœ ì§€</td></tr><tr><td>Resilience</td><td>Defensive Programming</td><td>ì˜¤ë¥˜ ë°©ì§€ë¥¼ ìœ„í•œ ì˜ˆì™¸ ì‚¬ì „ ê²€ì¦ ì½”ë“œ ì‘ì„±</td></tr><tr><td>Distributed</td><td>Circuit Breaker</td><td>ë°˜ë³µëœ ì˜¤ë¥˜ ì‹œ í˜¸ì¶œ ì¤‘ë‹¨ìœ¼ë¡œ ì¥ì•  í™•ì‚° ë°©ì§€</td></tr></tbody></table><hr><h2 id=ì°¸ê³ -ë°-ì¶œì²˜>ì°¸ê³  ë° ì¶œì²˜<a hidden class=anchor aria-hidden=true href=#ì°¸ê³ -ë°-ì¶œì²˜>#</a></h2><ul><li>AWS Builders Library: <strong>Avoiding fallback in distributed systems</strong> (<a href="https://arxiv.org/abs/1611.02717?utm_source=chatgpt.com" title="Resilience Design Patterns - A Structured Approach to Resilience at Extreme Scale (version 1.0)">medium.com</a>, <a href="https://medium.com/%40christian.ppl/introduction-to-the-fail-fast-principle-in-software-development-865ccab28979?utm_source=chatgpt.com" title="Introduction to the 'Fail Fast!' Principle in Software Development">geeksforgeeks.org</a>, <a href="https://enterprisecraftsmanship.com/posts/fail-fast-principle/?utm_source=chatgpt.com" title="Fail Fast principle - Enterprise Craftsmanship">temporal.io</a>, <a href="https://en.wikipedia.org/wiki/Fail-fast_system?utm_source=chatgpt.com" title="Fail-fast system">aws.amazon.com</a>)</li><li>Medium: <strong>Defensive Programming in Java</strong> êµ¬í˜„ ì˜ˆì‹œ (<a href="https://blog.bernd-ruecker.com/fail-fast-is-not-enough-84645d6864d3?utm_source=chatgpt.com" title="Fail fast is not enough!. Why you need stateful resilienceâ€¦">medium.com</a>)</li><li>Medium: <strong>Fail Fast but Soft</strong>â€“ìš°ì•„í•œ ì‹¤íŒ¨ ì²˜ë¦¬ ë°©ë²• (<a href="https://saifur-rahman.hashnode.dev/building-resilient-microservices-with-circuit-breaking-and-fail-fast-implementing-circuit-breakers-in-spring-boot-with-resilience4j-library?utm_source=chatgpt.com" title="Building Resilient Microservices with Circuit Breaking and Fail-Fast">medium.com</a>)</li><li>Team CodeReliant: <strong>The Fail Fast Principle</strong> (<a href="https://www.codereliant.io/p/fail-fast-pattern?utm_source=chatgpt.com" title="The Fail Fast Principle - by Team CodeReliant">codereliant.io</a>)</li><li>Medium: <strong>Fail Fast and Fail Safe</strong> êµ¬í˜„ ì˜ˆì‹œ (<a href="https://medium.com/%40ByteCodeBlogger/fail-fast-and-fail-safe-design-principles-with-java-code-examples-420f3af9fd24?utm_source=chatgpt.com" title="Fail Fast and Fail Safe Design Principlesâ€”With Java Code Examples">medium.com</a>)</li><li>Hashnode: <strong>Resilience4j + Circuit Breaker + Fail Fast</strong> ì‚¬ë¡€ (<a href="https://saifur-rahman.hashnode.dev/building-resilient-microservices-with-circuit-breaking-and-fail-fast-implementing-circuit-breakers-in-spring-boot-with-resilience4j-library?utm_source=chatgpt.com" title="Building Resilient Microservices with Circuit Breaking and Fail-Fast">saifur-rahman.hashnode.dev</a>)</li></ul><hr><p>í•„ìš”í•˜ì‹  <strong>Fallback ì—°ê³„ ì‹¬í™”</strong>, <strong>Circuit Breaker í†µí•© ì˜ˆì‹œ</strong>, <strong>ë‹¤ë¥¸ ì–¸ì–´ (JavaScript, Go ë“±) ì½”ë“œ êµ¬í˜„</strong> ë“±ì„ ì¶”ê°€ë¡œ ìš”ì²­í•´ ì£¼ì„¸ìš”!</p><p>ì•„ë˜ëŠ” <strong>Fail Fast Pattern</strong>ì— <strong>Circuit Breaker ë° Fallback íŒ¨í„´ê³¼ì˜ í†µí•©</strong>, <strong>ë‹¤ì¤‘ ì–¸ì–´ (JavaScript / Java) êµ¬í˜„ ì˜ˆì‹œ</strong>, <strong>ëª¨ë‹ˆí„°ë§ ë° ì •ì±… íŠœë‹ ê°€ì´ë“œ</strong>ê¹Œì§€ ì‹¬í™” ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤.</p><hr><h2 id=-21-circuit-breaker--fail-fast--fallback-í†µí•©>ğŸ”— 21. Circuit Breaker + Fail Fast + Fallback í†µí•©<a hidden class=anchor aria-hidden=true href=#-21-circuit-breaker--fail-fast--fallback-í†µí•©>#</a></h2><h3 id=êµ¬ì¡°-ë°-ì‘ë™-íë¦„>êµ¬ì¡° ë° ì‘ë™ íë¦„<a hidden class=anchor aria-hidden=true href=#êµ¬ì¡°-ë°-ì‘ë™-íë¦„>#</a></h3><ul><li><strong>Fail Fast</strong>: Circuit Breaker ê°€ Open ìƒíƒœì´ë©´ ì¦‰ì‹œ ì‹¤íŒ¨ ì‘ë‹µ</li><li><strong>Fallback í˜¸ì¶œ</strong>: Circuit Breaker Open or ì‹¤í–‰ ì‹¤íŒ¨ ì‹œ ëŒ€ì²´ ë¡œì§ ì‹¤í–‰</li><li><strong>Fail Fast ìœ ì§€</strong>: Fallback ë‚´ë¶€ì—ì„œë„ í•„ìš”ì‹œ Fail Fast ì›ì¹™ ì ìš©</li></ul><pre class=mermaid>sequenceDiagram
  participant Client
  participant CBProxy as CircuitBreaker
  participant Service
  alt Closed (ì •ìƒ)
    Client-&gt;&gt;CBProxy: call()
    CBProxy-&gt;&gt;Service: invoke()
    Service--&gt;&gt;CBProxy: ì‘ë‹µ
    CBProxy--&gt;&gt;Client: ê²°ê³¼
  else Open (Fail Fast)
    Client-&gt;&gt;CBProxy: call()
    CBProxy--xService: ì°¨ë‹¨
    CBProxy-&gt;&gt;Fallback: execute()
    Fallback--&gt;&gt;Client: ëŒ€ì²´ ì‘ë‹µ
  end
</pre><ul><li>Circuit Breaker ê°€ <strong>Open</strong> ìƒíƒœì´ë©´ <code>CircuitBreakerOpen</code> ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¤ë©°, Fallback ë¥¼ ì¦‰ì‹œ í˜¸ì¶œí•¨ (<a href="https://blog.bernd-ruecker.com/fail-fast-is-not-enough-84645d6864d3?utm_source=chatgpt.com" title="Fail fast is not enough!. Why you need stateful resilienceâ€¦">learn.microsoft.com</a>, <a href="https://arxiv.org/abs/1808.08796?utm_source=chatgpt.com" title="An Empirical Study of Architecting for Continuous Delivery and Deployment">bennadel.com</a>, <a href="https://arxiv.org/abs/1611.02717?utm_source=chatgpt.com" title="Resilience Design Patterns - A Structured Approach to Resilience at Extreme Scale (version 1.0)">dev.to</a>)</li><li><strong>Fallback íŒ¨í„´</strong>ì€ &lsquo;fail-silent&rsquo;, &rsquo; ëŒ€ì²´ ê°’ &rsquo; ë˜ëŠ” ëª…ì‹œì  ì‹¤íŒ¨ ì „ëµì„ ì§€ì›</li></ul><hr><h2 id=22-êµ¬í˜„-ì˜ˆì‹œ>22. êµ¬í˜„ ì˜ˆì‹œ<a hidden class=anchor aria-hidden=true href=#22-êµ¬í˜„-ì˜ˆì‹œ>#</a></h2><h3 id=a-nodejs--opossum>A. Node.js + Opossum<a hidden class=anchor aria-hidden=true href=#a-nodejs--opossum>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1> 1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2> 2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3> 3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4> 4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5> 5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6> 6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7> 7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8> 8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9> 9</a>
</span><span class=lnt id=hl-5-10><a class=lnlinks href=#hl-5-10>10</a>
</span><span class=lnt id=hl-5-11><a class=lnlinks href=#hl-5-11>11</a>
</span><span class=lnt id=hl-5-12><a class=lnlinks href=#hl-5-12>12</a>
</span><span class=lnt id=hl-5-13><a class=lnlinks href=#hl-5-13>13</a>
</span><span class=lnt id=hl-5-14><a class=lnlinks href=#hl-5-14>14</a>
</span><span class=lnt id=hl-5-15><a class=lnlinks href=#hl-5-15>15</a>
</span><span class=lnt id=hl-5-16><a class=lnlinks href=#hl-5-16>16</a>
</span><span class=lnt id=hl-5-17><a class=lnlinks href=#hl-5-17>17</a>
</span><span class=lnt id=hl-5-18><a class=lnlinks href=#hl-5-18>18</a>
</span><span class=lnt id=hl-5-19><a class=lnlinks href=#hl-5-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>CircuitBreaker</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;@redhat/opossum&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>remoteCall</span><span class=p>()</span> <span class=p>{</span> <span class=cm>/* ì™¸ë¶€ API í˜¸ì¶œ ì½”ë“œ */</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>breaker</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>CircuitBreaker</span><span class=p>(</span><span class=nx>remoteCall</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>timeout</span><span class=o>:</span> <span class=mi>3000</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>errorThresholdPercentage</span><span class=o>:</span> <span class=mi>50</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>resetTimeout</span><span class=o>:</span> <span class=mi>10000</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// fallback ì„¤ì •
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>breaker</span><span class=p>.</span><span class=nx>fallback</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>({</span> <span class=nx>data</span><span class=o>:</span> <span class=s1>&#39;default&#39;</span> <span class=p>}));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>breaker</span><span class=p>.</span><span class=nx>fire</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=k>catch</span><span class=p>(</span><span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ìƒíƒœ ì „ì´ ê°ì§€
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>breaker</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;open&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>warn</span><span class=p>(</span><span class=s1>&#39;Circuit is OPEN, fail fast!&#39;</span><span class=p>));</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><code>breaker.fallback(â€¦)</code> ì„ í†µí•´ Open ë˜ëŠ” ì‹¤íŒ¨ ìƒíƒœì—ì„œ default ê°’ì„ ë°˜í™˜ (<a href="https://medium.com/%40christian.ppl/introduction-to-the-fail-fast-principle-in-software-development-865ccab28979?utm_source=chatgpt.com" title="Introduction to the 'Fail Fast!' Principle in Software Development">developers.redhat.com</a>)</li><li>ì´ë²¤íŠ¸ ê¸°ë°˜ ìƒíƒœ ë¡œê¹… ê°€ëŠ¥</li></ul><hr><h3 id=b-java--resilience4j--spring-boot>B. Java + Resilience4j + Spring Boot<a hidden class=anchor aria-hidden=true href=#b-java--resilience4j--spring-boot>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a>
</span><span class=lnt id=hl-6-13><a class=lnlinks href=#hl-6-13>13</a>
</span><span class=lnt id=hl-6-14><a class=lnlinks href=#hl-6-14>14</a>
</span><span class=lnt id=hl-6-15><a class=lnlinks href=#hl-6-15>15</a>
</span><span class=lnt id=hl-6-16><a class=lnlinks href=#hl-6-16>16</a>
</span><span class=lnt id=hl-6-17><a class=lnlinks href=#hl-6-17>17</a>
</span><span class=lnt id=hl-6-18><a class=lnlinks href=#hl-6-18>18</a>
</span><span class=lnt id=hl-6-19><a class=lnlinks href=#hl-6-19>19</a>
</span><span class=lnt id=hl-6-20><a class=lnlinks href=#hl-6-20>20</a>
</span><span class=lnt id=hl-6-21><a class=lnlinks href=#hl-6-21>21</a>
</span><span class=lnt id=hl-6-22><a class=lnlinks href=#hl-6-22>22</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Bean</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=n>CircuitBreakerRegistry</span><span class=w> </span><span class=nf>cbRegistry</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>CircuitBreakerRegistry</span><span class=p>.</span><span class=na>ofDefaults</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@Service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>PaymentService</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>CircuitBreaker</span><span class=w> </span><span class=n>cb</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>SomeClient</span><span class=w> </span><span class=n>client</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>PaymentService</span><span class=p>(</span><span class=n>CircuitBreakerRegistry</span><span class=w> </span><span class=n>registry</span><span class=p>,</span><span class=w> </span><span class=n>SomeClient</span><span class=w> </span><span class=n>client</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>cb</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>registry</span><span class=p>.</span><span class=na>circuitBreaker</span><span class=p>(</span><span class=s>&#34;payment&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>client</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>client</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>Mono</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=nf>process</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>Mono</span><span class=p>.</span><span class=na>fromCallable</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>client</span><span class=p>.</span><span class=na>charge</span><span class=p>())</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                   </span><span class=p>.</span><span class=na>transformDeferred</span><span class=p>(</span><span class=n>CircuitBreakerOperator</span><span class=p>.</span><span class=na>of</span><span class=p>(</span><span class=n>cb</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                   </span><span class=p>.</span><span class=na>onErrorResume</span><span class=p>(</span><span class=n>CircuitBreakerOpenException</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>                                  </span><span class=n>ex</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>Mono</span><span class=p>.</span><span class=na>just</span><span class=p>(</span><span class=s>&#34;fallbackPayment&#34;</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li>Circuit Breaker Open ìƒíƒœ ì‹œ <code>CircuitBreakerOpenException</code> ë°œìƒ</li><li><code>.onErrorResume</code> í†µí•´ Fallback ìœ¼ë¡œ ì „í™˜ (<a href="https://arxiv.org/abs/1808.08796?utm_source=chatgpt.com" title="An Empirical Study of Architecting for Continuous Delivery and Deployment">bennadel.com</a>, <a href="https://enterprisecraftsmanship.com/posts/fail-fast-principle/?utm_source=chatgpt.com" title="Fail Fast principle - Enterprise Craftsmanship">blog.seancoughlin.me</a>)</li></ul><hr><h2 id=23-23-ëª¨ë‹ˆí„°ë§-ë°-ì •ì±…-íŠœë‹>23. 23. ëª¨ë‹ˆí„°ë§ ë° ì •ì±… íŠœë‹<a hidden class=anchor aria-hidden=true href=#23-23-ëª¨ë‹ˆí„°ë§-ë°-ì •ì±…-íŠœë‹>#</a></h2><table><thead><tr><th>ì§€í‘œ</th><th>ì„¤ëª…</th><th>ê¶Œì¥ ì„¤ì •</th></tr></thead><tbody><tr><td>Failure Rate</td><td>ì‹¤íŒ¨/ì „ì²´ í˜¸ì¶œ ë¹„ìœ¨</td><td>Threshold(ì˜ˆ: 50%)</td></tr><tr><td>State ì „í™˜ ì´ë²¤íŠ¸</td><td>Open/Half-Open/Close</td><td>Alert êµ¬ì„±</td></tr><tr><td>Latency</td><td>95/99 ë°±ë¶„ìœ„ ì§€ì—°</td><td>Fail Fast íƒ€ì´ë° ì¡°ì • ë°°ê²½</td></tr><tr><td>Fallback Rate</td><td>Fallback í˜¸ì¶œ ë¹„ìœ¨</td><td>ì •ì±… ì •ìƒ ì‘ë™ ì—¬ë¶€ íŒŒì•…</td></tr><tr><td>Retries & Timeouts</td><td>ì¬ì‹œë„/íƒ€ì„ì•„ì›ƒ ì‹¤íŒ¨ ë¹„ìœ¨</td><td>ì •ì±… ê³¼ë„ ì—¬ë¶€ ê²€ì¦</td></tr></tbody></table><ul><li><strong>ì§€í‘œ ê¸°ë°˜ ì •ì±… ì¡°ì •</strong>: threshold ë° ì‹œê°„ëŒ€ ì„¤ì •</li><li><strong>ì…‹ì—…ëœ Alert</strong>: CB ìƒíƒœ ë³€ë™ ê°ì§€ â†’ ëŒ€ì‘</li><li><strong>ë””ìŠ¤íŠ¸ë¦¬ë·°í‹°ë“œ íŠ¸ë ˆì´ì‹±</strong>: ì „ì²´ í˜¸ì¶œ íë¦„ ì¶”ì </li></ul><hr><h2 id=24-ë¹„êµ-fail-fast-vs-retry-vs-circuit-breaker>24. ë¹„êµ: Fail Fast Vs Retry Vs Circuit Breaker<a hidden class=anchor aria-hidden=true href=#24-ë¹„êµ-fail-fast-vs-retry-vs-circuit-breaker>#</a></h2><table><thead><tr><th>í•­ëª©</th><th>Fail Fast</th><th>Retry</th><th>Circuit Breaker</th></tr></thead><tbody><tr><td>ëª©ì </td><td>ì¦‰ì‹œ ì‹¤íŒ¨ ê°ì§€ ë° ì „íŒŒ</td><td>ì¼ì‹œì  ì˜¤ë¥˜ ìë™ ë³µêµ¬</td><td>ì¥ì•  í™•ì‚° ë°©ì§€</td></tr><tr><td>ë™ì‘ ë°©ì‹</td><td>ì˜¤ë¥˜ ë°œìƒ ì‹œ ë°”ë¡œ ì˜ˆì™¸</td><td>ê³ ì •/ë°±ì˜¤í”„ ì§€ì—° í›„ ì¬ì‹œë„</td><td>ìƒíƒœ ê¸°ë°˜ ì „íŒŒ ì°¨ë‹¨</td></tr><tr><td>ë³µêµ¬ ì—¬ë¶€</td><td>ìë™ ì—†ìŒ</td><td>ìˆìŒ</td><td>Half-Open í†µí•´ ë³µê·€</td></tr><tr><td>ë¶€ì‘ìš©</td><td>ë¹ ë¥¸ ì‹¤íŒ¨ ë…¸ì¶œ</td><td>ê³¼ë„í•œ ì¬ì‹œë„/ë¶€í•˜ ì¦ê°€</td><td>ê²°ì •ì  ì°¨ë‹¨, ì•ˆì •ì„± ë†’ìŒ</td></tr><tr><td>ì¡°í•© ê°€ëŠ¥ì„±</td><td>âœ“ (CB ë‚´ë¶€)</td><td>âœ“ (CB ì „/í›„)</td><td>âœ“ (Retry + Fallback ë“±)</td></tr></tbody></table><ul><li>Fail Fast ëŠ” ì¦‰ì‹œ ì˜¤ë¥˜ ë…¸ì¶œ, Retry ëŠ” ì§€ì—° í›„ ì¬ì‹œë„, Circuit Breaker ëŠ” ì¥ì•  íŒ¨í„´ ì¸ì‹ í›„ ì°¨ë‹¨ ë° íšŒë³µ (<a href="https://blog.bernd-ruecker.com/fail-fast-is-not-enough-84645d6864d3?utm_source=chatgpt.com" title="Fail fast is not enough!. Why you need stateful resilienceâ€¦">learn.microsoft.com</a>, <a href="https://en.wikipedia.org/wiki/Fail-fast_system?utm_source=chatgpt.com" title="Fail-fast system">badia-kharroubi.gitbooks.io</a>, <a href="https://saifur-rahman.hashnode.dev/building-resilient-microservices-with-circuit-breaking-and-fail-fast-implementing-circuit-breakers-in-spring-boot-with-resilience4j-library?utm_source=chatgpt.com" title="Building Resilient Microservices with Circuit Breaking and Fail-Fast">github.com</a>, <a href="https://www.codereliant.io/p/fail-fast-pattern?utm_source=chatgpt.com" title="The Fail Fast Principle - by Team CodeReliant">dzone.com</a>, <a href="https://medium.com/%40ByteCodeBlogger/fail-fast-and-fail-safe-design-principles-with-java-code-examples-420f3af9fd24?utm_source=chatgpt.com" title="Fail Fast and Fail Safe Design Principlesâ€”With Java Code Examples">codecentric.de</a>)</li></ul><hr><h2 id=25-ìš©ì–´-ì •ë¦¬-ì¶”ê°€>25. ìš©ì–´ ì •ë¦¬ ì¶”ê°€<a hidden class=anchor aria-hidden=true href=#25-ìš©ì–´-ì •ë¦¬-ì¶”ê°€>#</a></h2><table><thead><tr><th>ì¹´í…Œê³ ë¦¬</th><th>ìš©ì–´</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>Resilience</td><td>CircuitBreakerOpenException</td><td>íšŒë¡œ ì—´ë¦¼ ì‹œ ì‹¤íŒ¨ ì˜ˆì™¸</td></tr><tr><td>Monitoring</td><td>Failure Rate</td><td>ì´ í˜¸ì¶œ ì¤‘ ì‹¤íŒ¨ëœ ë¹„ìœ¨</td></tr><tr><td>Monitoring</td><td>Fallback Rate</td><td>ì´ í˜¸ì¶œ ì¤‘ Fallback ë°œìƒ ë¹„ìœ¨</td></tr><tr><td>Distributed</td><td>Half-Open State</td><td>ì œí•œëœ í˜¸ì¶œ í›„ íšŒë³µ í…ŒìŠ¤íŠ¸ ìƒíƒœ</td></tr><tr><td>Monitoring</td><td>Tracing</td><td>ë¶„ì‚° í˜¸ì¶œì˜ íë¦„ ë¶„ì„ ì¶”ì </td></tr></tbody></table><hr><h2 id=-ê²°ë¡ -ë°-ì¶”ì²œ>ğŸ”š ê²°ë¡  ë° ì¶”ì²œ<a hidden class=anchor aria-hidden=true href=#-ê²°ë¡ -ë°-ì¶”ì²œ>#</a></h2><ul><li><strong>Fail Fast</strong>ëŠ” ì´ˆê¸° ì˜¤ë¥˜ íƒì§€ ë° ë¦¬ì†ŒìŠ¤ ì ˆì•½ì„ ìœ„í•´ í•„ìˆ˜</li><li><strong>Circuit Breaker</strong>ì™€ <strong>Fallback ì¡°í•©</strong>ì€ ì¥ì•  ëŒ€ì‘ê³¼ ì•ˆì •ì„± í–¥ìƒ</li><li><strong>Policy + Metrics</strong> ëª¨ë‹ˆí„°ë§ í†µí•´ ì§€ì†ì  íŠœë‹ í•„ìˆ˜</li><li>ì „ì²´ ì‹œìŠ¤í…œ íšŒë³µ íƒ„ë ¥ì„± í™•ë³´ë¥¼ ìœ„í•œ <strong>íŒ¨í„´ ì¡°í•© ì „ëµ</strong> ê¶Œì¥</li></ul><hr><p>ì›í•˜ì‹œëŠ” <strong>ì •ì±… ìë™ ì¡°ì • ë¡œì§</strong>, <strong>ëŒ€ì‹œë³´ë“œ ê¸°ë³¸ ì„¤ê³„</strong>, ë˜ëŠ” <strong>Go/Python êµ¬í˜„ì˜ˆì‹œ</strong>ê°€ ìˆìœ¼ë©´ ë°”ë¡œ ì¤€ë¹„í•´ë“œë¦´ê²Œìš”!</p><p>ì•ˆë…•í•˜ì„¸ìš”! Fail Fast Pattern ì— ëŒ€í•œ í¬ê´„ì ì¸ ì¡°ì‚¬ì™€ ë¶„ì„ì„ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤. ë¨¼ì € ìµœì‹  ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ì—¬ ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</p><h2 id=fail-fast-pattern-ì‹¬ì¸µ-ë¶„ì„>Fail Fast Pattern ì‹¬ì¸µ ë¶„ì„<a hidden class=anchor aria-hidden=true href=#fail-fast-pattern-ì‹¬ì¸µ-ë¶„ì„>#</a></h2><h3 id=1-íƒœê·¸-ìƒì„±>1. íƒœê·¸ ìƒì„±<a hidden class=anchor aria-hidden=true href=#1-íƒœê·¸-ìƒì„±>#</a></h3><p><code>Fail-Fast-Pattern</code>, <code>Error-Handling</code>, <code>Software-Resilience</code>, <code>Early-Detection</code></p><h3 id=2-ì¹´í…Œê³ ë¦¬-ë¶„ë¥˜-ê²€ì¦>2. ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜ ê²€ì¦<a hidden class=anchor aria-hidden=true href=#2-ì¹´í…Œê³ ë¦¬-ë¶„ë¥˜-ê²€ì¦>#</a></h3><p><strong>ë¶„ì„ ê²°ê³¼</strong>: &ldquo;Computer Science and Engineering > Software Engineering > Design and Architecture > Architecture Patterns > Resilience Patterns&rdquo; ë¶„ë¥˜ê°€ ì ì ˆí•©ë‹ˆë‹¤.</p><p><strong>ê·¼ê±°</strong>:</p><ul><li>Fail Fast Pattern ì€ ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ê³„ íŒ¨í„´ì˜ í•œ ìœ í˜•ìœ¼ë¡œ ì‹œìŠ¤í…œì˜ íšŒë³µë ¥ (Resilience) ê³¼ ì§ì ‘ì ìœ¼ë¡œ ê´€ë ¨</li><li>ì˜¤ë¥˜ ì²˜ë¦¬ì™€ ì‹œìŠ¤í…œ ì•ˆì •ì„±ì„ ìœ„í•œ ì•„í‚¤í…ì²˜ íŒ¨í„´ìœ¼ë¡œ ë¶„ë¥˜ë¨</li><li>ë¶„ì‚° ì‹œìŠ¤í…œê³¼ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ì—ì„œ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ë³µì›ë ¥ íŒ¨í„´</li></ul><h3 id=3-ìš”ì•½-ì„¤ëª…-200-ì-ë‚´ì™¸>3. ìš”ì•½ ì„¤ëª… (200 ì ë‚´ì™¸)<a hidden class=anchor aria-hidden=true href=#3-ìš”ì•½-ì„¤ëª…-200-ì-ë‚´ì™¸>#</a></h3><p>Fail Fast Pattern ì€ ì‹œìŠ¤í…œì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì„ ë•Œ ì¦‰ì‹œ ì‹¤íŒ¨í•˜ë„ë¡ í•˜ì—¬ ë¬¸ì œë¥¼ ë¹ ë¥´ê²Œ ê°ì§€í•˜ê³  ì „íŒŒë¥¼ ë°©ì§€í•˜ëŠ” ì„¤ê³„ íŒ¨í„´ì…ë‹ˆë‹¤. ì˜ˆìƒì¹˜ ëª»í•œ ìƒí™©ì´ë‚˜ ì˜ëª»ëœ ìƒíƒœê°€ ê°ì§€ë˜ë©´ ì¦‰ì‹œ ì‹¤í–‰ì„ ì¤‘ë‹¨í•˜ê³  ëª…í™•í•œ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì œê³µí•˜ì—¬ ë””ë²„ê¹…ì„ ìš©ì´í•˜ê²Œ í•˜ê³  ì‹œìŠ¤í…œì˜ ì „ë°˜ì ì¸ ì•ˆì •ì„±ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.</p><h3 id=4-ê°œìš”-250-ì-ë‚´ì™¸-1>4. ê°œìš” (250 ì ë‚´ì™¸)<a hidden class=anchor aria-hidden=true href=#4-ê°œìš”-250-ì-ë‚´ì™¸-1>#</a></h3><p>Fail Fast Pattern ì€ ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì—ì„œ ì˜¤ë¥˜ë¥¼ ì¡°ê¸°ì— ê°ì§€í•˜ê³  ì¦‰ì‹œ ì‹¤íŒ¨í•˜ë„ë¡ í•˜ëŠ” ì„¤ê³„ ì›ì¹™ì…ë‹ˆë‹¤. ì´ íŒ¨í„´ì€ ë¬¸ì œê°€ ë°œìƒí–ˆì„ ë•Œ ê³„ì† ì‹¤í–‰ì„ ì‹œë„í•˜ëŠ” ëŒ€ì‹  ì¦‰ì‹œ ì¤‘ë‹¨í•¨ìœ¼ë¡œì¨ ë°ì´í„° ì†ìƒ, ìƒíƒœ ë¶ˆì¼ì¹˜, ì—°ì‡„ì  ì¥ì•  ë“±ì„ ë°©ì§€í•©ë‹ˆë‹¤. ë¶„ì‚° ì‹œìŠ¤í…œê³¼ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ì—ì„œ íŠ¹íˆ ì¤‘ìš”í•˜ë©°, ì‹œìŠ¤í…œì˜ ë³µì›ë ¥ì„ ë†’ì´ê³  ë””ë²„ê¹… ë¹„ìš©ì„ ì¤„ì´ëŠ” íš¨ê³¼ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p><hr><h3 id=5-í•µì‹¬-ê°œë…>5. í•µì‹¬ ê°œë…<a hidden class=anchor aria-hidden=true href=#5-í•µì‹¬-ê°œë…>#</a></h3><h4 id=51-ê¸°ë³¸-ê°œë…>5.1 ê¸°ë³¸ ê°œë…<a hidden class=anchor aria-hidden=true href=#51-ê¸°ë³¸-ê°œë…>#</a></h4><p><strong>ì¦‰ì‹œ ì‹¤íŒ¨ ì›ì¹™ (Immediate Failure Principle)</strong></p><ul><li>ì˜¤ë¥˜ë‚˜ ì˜ˆì™¸ ìƒí™©ì´ ê°ì§€ë˜ë©´ ì¦‰ì‹œ ì‹¤í–‰ì„ ì¤‘ë‹¨</li><li>ì˜ëª»ëœ ìƒíƒœë¡œ ê³„ì† ì‹¤í–‰í•˜ëŠ” ê²ƒë³´ë‹¤ ë¹ ë¥¸ ì‹¤íŒ¨ë¥¼ ì„ íƒ</li><li>ì˜¤ë¥˜ì˜ ê·¼ë³¸ ì›ì¸ì„ ë¹ ë¥´ê²Œ ì‹ë³„í•  ìˆ˜ ìˆë„ë¡ ì§€ì›</li></ul><p><strong>ì¡°ê¸° ê²€ì¦ (Early Validation)</strong></p><ul><li>ë©”ì†Œë“œë‚˜ í•¨ìˆ˜ì˜ ì‹œì‘ ë¶€ë¶„ì—ì„œ ì…ë ¥ ë§¤ê°œë³€ìˆ˜ ê²€ì¦</li><li>ì „ì œ ì¡°ê±´ (Precondition) í™•ì¸ì„ í†µí•œ ë¹ ë¥¸ ì˜¤ë¥˜ ê°ì§€</li><li>ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‹¤í–‰ ì „ í•„ìˆ˜ ì¡°ê±´ ê²€ì‚¬</li></ul><p><strong>ìƒíƒœ ë¶ˆë³€ì„± ë³´í˜¸ (State Invariant Protection)</strong></p><ul><li>ê°ì²´ë‚˜ ì‹œìŠ¤í…œì˜ ì¼ê´€ì„± ìˆëŠ” ìƒíƒœ ìœ ì§€</li><li>ì˜ëª»ëœ ìƒíƒœ ë³€ê²½ ì‹œ ì¦‰ì‹œ ì˜ˆì™¸ ë°œìƒ</li><li>ë°ì´í„° ë¬´ê²°ì„± ë³´ì¥ì„ ìœ„í•œ ì‚¬ì „ ì˜ˆë°©ì  ì ‘ê·¼</li></ul><h4 id=52-ì‹¤ë¬´-êµ¬í˜„ì„-ìœ„í•œ-ì—°ê´€-ê°œë…>5.2 ì‹¤ë¬´ êµ¬í˜„ì„ ìœ„í•œ ì—°ê´€ ê°œë…<a hidden class=anchor aria-hidden=true href=#52-ì‹¤ë¬´-êµ¬í˜„ì„-ìœ„í•œ-ì—°ê´€-ê°œë…>#</a></h4><p><strong>Guard Clauses (ê°€ë“œ ì ˆ)</strong></p><ul><li>ë©”ì†Œë“œ ì´ˆê¸°ì— ì¡°ê±´ì„ ê²€ì‚¬í•˜ì—¬ ì¡°ê¸° ë°˜í™˜</li><li>ì¤‘ì²©ëœ if-else êµ¬ì¡°ë¥¼ í”¼í•˜ê³  ì½”ë“œ ê°€ë…ì„± í–¥ìƒ</li><li>ì…ë ¥ ê²€ì¦ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë¶„ë¦¬</li></ul><p><strong>Circuit Breaker Pattern ê³¼ì˜ ì—°ê´€ì„±</strong></p><ul><li>ì™¸ë¶€ ì„œë¹„ìŠ¤ í˜¸ì¶œ ì‹œ ë¹ ë¥¸ ì‹¤íŒ¨ë¥¼ í†µí•œ ì¥ì•  ê²©ë¦¬</li><li>íƒ€ì„ì•„ì›ƒ ì„¤ì •ê³¼ ì—°ê³„í•˜ì—¬ ì‘ë‹µì„± í–¥ìƒ</li><li>ì‹œìŠ¤í…œ ì „ì²´ì˜ ë³µì›ë ¥ ê°•í™”</li></ul><p><strong>Design by Contract</strong></p><ul><li>ì „ì œ ì¡°ê±´, í›„ì† ì¡°ê±´, ë¶ˆë³€ ì¡°ê±´ì„ ëª…ì‹œì ìœ¼ë¡œ ì •ì˜</li><li>ê³„ì•½ ìœ„ë°˜ ì‹œ ì¦‰ì‹œ ì‹¤íŒ¨í•˜ì—¬ ì˜¤ë¥˜ ì¡°ê¸° ê°ì§€</li><li>ì½”ë“œì˜ ì‹ ë¢°ì„±ê³¼ ì˜ˆì¸¡ ê°€ëŠ¥ì„± í–¥ìƒ</li></ul><hr><h3 id=6-ì„¸ë¶€-ì¡°ì‚¬-ë‚´ìš©>6. ì„¸ë¶€ ì¡°ì‚¬ ë‚´ìš©<a hidden class=anchor aria-hidden=true href=#6-ì„¸ë¶€-ì¡°ì‚¬-ë‚´ìš©>#</a></h3><h4 id=61-ë°°ê²½>6.1 ë°°ê²½<a hidden class=anchor aria-hidden=true href=#61-ë°°ê²½>#</a></h4><p>Fail Fast Pattern ì€ ì†Œí”„íŠ¸ì›¨ì–´ ê³µí•™ì—ì„œ ì˜¤ë¥˜ ì²˜ë¦¬ì˜ ê·¼ë³¸ì ì¸ ì ‘ê·¼ ë°©ì‹ì„ ì œì‹œí•©ë‹ˆë‹¤. ì „í†µì ìœ¼ë¡œ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•´ë„ ìµœëŒ€í•œ ê³„ì† ì‹¤í–‰í•˜ë ¤ëŠ” ë°©í–¥ìœ¼ë¡œ ì„¤ê³„ë˜ì—ˆì§€ë§Œ, ì´ëŠ” ì¢…ì¢… ë” í° ë¬¸ì œë¥¼ ì•¼ê¸°í–ˆìŠµë‹ˆë‹¤. ì´ íŒ¨í„´ì€ Martin Fowler ì™€ ê°™ì€ ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…íŠ¸ë“¤ì— ì˜í•´ ë„ë¦¬ ì•Œë ¤ì¡Œìœ¼ë©°, íŠ¹íˆ ë¶„ì‚° ì‹œìŠ¤í…œê³¼ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ì˜ ë°œì „ê³¼ í•¨ê»˜ ì¤‘ìš”ì„±ì´ ë”ìš± ë¶€ê°ë˜ì—ˆìŠµë‹ˆë‹¤.</p><h4 id=62-ëª©ì -ë°-í•„ìš”ì„±>6.2 ëª©ì  ë° í•„ìš”ì„±<a hidden class=anchor aria-hidden=true href=#62-ëª©ì -ë°-í•„ìš”ì„±>#</a></h4><p><strong>ì£¼ìš” ëª©ì </strong></p><ul><li>ì˜¤ë¥˜ì˜ ì¡°ê¸° ê°ì§€ì™€ ì‹ ì†í•œ í”¼ë“œë°± ì œê³µ</li><li>ì‹œìŠ¤í…œ ìƒíƒœì˜ ì¼ê´€ì„±ê³¼ ë°ì´í„° ë¬´ê²°ì„± ë³´ì¥</li><li>ë””ë²„ê¹… ê³¼ì •ì˜ ë‹¨ìˆœí™”ì™€ íš¨ìœ¨ì„± í–¥ìƒ</li><li>ì—°ì‡„ì  ì¥ì•  (Cascading Failure) ë°©ì§€</li></ul><p><strong>í•„ìš”ì„±</strong></p><ul><li>ë³µì¡í•œ ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œì˜ ì¥ì•  ê²©ë¦¬ í•„ìš”</li><li>ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê°„ ì˜ì¡´ì„±ìœ¼ë¡œ ì¸í•œ ì¥ì•  ì „íŒŒ ë°©ì§€</li><li>ìš´ì˜ í™˜ê²½ì—ì„œì˜ ë¹ ë¥¸ ë¬¸ì œ í•´ê²°ê³¼ ë³µêµ¬</li><li>ê°œë°œ ë‹¨ê³„ì—ì„œì˜ í’ˆì§ˆ ë³´ì¦ê³¼ ì•ˆì •ì„± í™•ë³´</li></ul><h4 id=63-ì£¼ìš”-ê¸°ëŠ¥-ë°-ì—­í• >6.3 ì£¼ìš” ê¸°ëŠ¥ ë° ì—­í• <a hidden class=anchor aria-hidden=true href=#63-ì£¼ìš”-ê¸°ëŠ¥-ë°-ì—­í• >#</a></h4><p><strong>ì˜¤ë¥˜ ê°ì§€ ë° ë³´ê³ </strong></p><ul><li>ì˜ˆì™¸ ìƒí™©ì„ ì¦‰ì‹œ ê°ì§€í•˜ê³  ëª…í™•í•œ ì˜¤ë¥˜ ë©”ì‹œì§€ ì œê³µ</li><li>ë¡œê·¸ì™€ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œê³¼ì˜ ì—°ê³„ë¥¼ í†µí•œ ì¶”ì ì„± í™•ë³´</li><li>ì˜¤ë¥˜ ì»¨í…ìŠ¤íŠ¸ ì •ë³´ ìˆ˜ì§‘ê³¼ ì „ë‹¬</li></ul><p><strong>ìƒíƒœ ë³´í˜¸</strong></p><ul><li>ì‹œìŠ¤í…œì˜ ì¼ê´€ì„± ìˆëŠ” ìƒíƒœ ìœ ì§€</li><li>ë¶€ë¶„ì ìœ¼ë¡œ ì™„ë£Œëœ ì‘ì—…ìœ¼ë¡œ ì¸í•œ ë°ì´í„° ì†ìƒ ë°©ì§€</li><li>íŠ¸ëœì­ì…˜ ë¬´ê²°ì„± ë³´ì¥</li></ul><p><strong>ì„±ëŠ¥ ìµœì í™”</strong></p><ul><li>ë¶ˆí•„ìš”í•œ ì—°ì‚° ë°©ì§€ë¥¼ í†µí•œ ë¦¬ì†ŒìŠ¤ ì ˆì•½</li><li>ë¹ ë¥¸ ì‹¤íŒ¨ë¥¼ í†µí•œ ì‘ë‹µ ì‹œê°„ ë‹¨ì¶•</li><li>ì‹œìŠ¤í…œ ë¶€í•˜ ê°ì†Œ</li></ul><h4 id=64-íŠ¹ì§•>6.4 íŠ¹ì§•<a hidden class=anchor aria-hidden=true href=#64-íŠ¹ì§•>#</a></h4><p><strong>ì¦‰ì‹œì„± (Immediacy)</strong></p><ul><li>ë¬¸ì œ ë°œìƒ ì‹œì ì—ì„œ ë°”ë¡œ ì‹¤íŒ¨</li><li>ì§€ì—°ëœ ì‹¤íŒ¨ë³´ë‹¤ ì›ì¸ íŒŒì•…ì´ ìš©ì´</li><li>ì‹¤ì‹œê°„ í”¼ë“œë°± ì œê³µ</li></ul><p><strong>ëª…í™•ì„± (Clarity)</strong></p><ul><li>ëª…í™•í•˜ê³  êµ¬ì²´ì ì¸ ì˜¤ë¥˜ ë©”ì‹œì§€</li><li>ë¬¸ì œì˜ ìœ„ì¹˜ì™€ ì›ì¸ì„ ì •í™•íˆ ì§€ì </li><li>ê°œë°œì ì¹œí™”ì ì¸ ì˜¤ë¥˜ ì •ë³´</li></ul><p><strong>ì˜ˆì¸¡ ê°€ëŠ¥ì„± (Predictability)</strong></p><ul><li>ì¼ê´€ëœ ì˜¤ë¥˜ ì²˜ë¦¬ ë°©ì‹</li><li>ì˜ˆìƒ ê°€ëŠ¥í•œ ì‹œìŠ¤í…œ ë™ì‘</li><li>í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ ì˜¤ë¥˜ ì‹œë‚˜ë¦¬ì˜¤</li></ul><h4 id=65-í•µì‹¬-ì›ì¹™>6.5 í•µì‹¬ ì›ì¹™<a hidden class=anchor aria-hidden=true href=#65-í•µì‹¬-ì›ì¹™>#</a></h4><p><strong>ë¹ ë¥¸ ì‹¤íŒ¨ (Fail Fast)</strong></p><ul><li>ì˜¤ë¥˜ ê°ì§€ ì¦‰ì‹œ ì‹¤í–‰ ì¤‘ë‹¨</li><li>ì§€ì—°ëœ ì‹¤íŒ¨ë³´ë‹¤ ì¦‰ì‹œ ì‹¤íŒ¨ ì„ íƒ</li><li>ëª…í™•í•œ ì‹¤íŒ¨ ì§€ì  ì œê³µ</li></ul><p><strong>ì¡°ê¸° ê²€ì¦ (Early Validation)</strong></p><ul><li>ì…ë ¥ ë§¤ê°œë³€ìˆ˜ì˜ ì‚¬ì „ ê²€ì¦</li><li>ì „ì œ ì¡°ê±´ í™•ì¸ì„ í†µí•œ ì˜ˆë°©ì  ì ‘ê·¼</li><li>ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‹¤í–‰ ì „ ê²€ì‚¬</li></ul><p><strong>ëª…í™•í•œ ì˜¤ë¥˜ ë³´ê³  (Clear Error Reporting)</strong></p><ul><li>êµ¬ì²´ì ì´ê³  ì´í•´í•˜ê¸° ì‰¬ìš´ ì˜¤ë¥˜ ë©”ì‹œì§€</li><li>ì˜¤ë¥˜ ë°œìƒ ì»¨í…ìŠ¤íŠ¸ ì •ë³´ í¬í•¨</li><li>í•´ê²° ë°©ì•ˆ ì œì‹œ</li></ul><h4 id=66-ì£¼ìš”-ì›ë¦¬-ë°-ì‘ë™-ì›ë¦¬>6.6 ì£¼ìš” ì›ë¦¬ ë° ì‘ë™ ì›ë¦¬<a hidden class=anchor aria-hidden=true href=#66-ì£¼ìš”-ì›ë¦¬-ë°-ì‘ë™-ì›ë¦¬>#</a></h4><pre class=mermaid>graph TD
    A[ìš”ì²­ ì‹œì‘] --&gt; B{ì…ë ¥ ê²€ì¦}
    B --&gt;|ìœ íš¨| C{ì „ì œ ì¡°ê±´ í™•ì¸}
    B --&gt;|ë¬´íš¨| D[ì¦‰ì‹œ ì˜ˆì™¸ ë°œìƒ]
    C --&gt;|ë§Œì¡±| E[ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‹¤í–‰]
    C --&gt;|ë¶ˆë§Œì¡±| F[ì¦‰ì‹œ ì‹¤íŒ¨]
    E --&gt; G{ì‹¤í–‰ ì¤‘ ì˜¤ë¥˜ ê°ì§€}
    G --&gt;|ì˜¤ë¥˜ ì—†ìŒ| H[ì •ìƒ ì™„ë£Œ]
    G --&gt;|ì˜¤ë¥˜ ê°ì§€| I[ì¦‰ì‹œ ë¡¤ë°± ë° ì˜ˆì™¸ ë°œìƒ]
    D --&gt; J[ì˜¤ë¥˜ ë¡œê¹… ë° ì‘ë‹µ]
    F --&gt; J
    I --&gt; J
    H --&gt; K[ì„±ê³µ ì‘ë‹µ]
</pre><p><strong>ì‘ë™ ë©”ì»¤ë‹ˆì¦˜</strong></p><ol><li><strong>ì…ë ¥ ê²€ì¦ ë‹¨ê³„</strong>: ë©”ì†Œë“œë‚˜ ì„œë¹„ìŠ¤ ì§„ì…ì ì—ì„œ ëª¨ë“  ì…ë ¥ ë§¤ê°œë³€ìˆ˜ ê²€ì¦</li><li><strong>ì „ì œ ì¡°ê±´ í™•ì¸</strong>: ì‹¤í–‰ì— í•„ìš”í•œ ëª¨ë“  ì¡°ê±´ê³¼ ë¦¬ì†ŒìŠ¤ ìƒíƒœ í™•ì¸</li><li><strong>ì‹¤í–‰ ëª¨ë‹ˆí„°ë§</strong>: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‹¤í–‰ ì¤‘ ì˜ˆì™¸ ìƒí™© ì§€ì†ì  ê°ì‹œ</li><li><strong>ì¦‰ì‹œ ì¤‘ë‹¨</strong>: ë¬¸ì œ ê°ì§€ ì‹œ ì‹¤í–‰ ì¦‰ì‹œ ì¤‘ë‹¨ ë° ì •ë¦¬ ì‘ì—… ìˆ˜í–‰</li><li><strong>ì˜¤ë¥˜ ë³´ê³ </strong>: ëª…í™•í•œ ì˜¤ë¥˜ ì •ë³´ì™€ ì»¨í…ìŠ¤íŠ¸ë¥¼ í¬í•¨í•œ ì˜ˆì™¸ ë°œìƒ</li></ol><h4 id=67-êµ¬ì¡°-ë°-ì•„í‚¤í…ì²˜>6.7 êµ¬ì¡° ë° ì•„í‚¤í…ì²˜<a hidden class=anchor aria-hidden=true href=#67-êµ¬ì¡°-ë°-ì•„í‚¤í…ì²˜>#</a></h4><h5 id=671-í•„ìˆ˜-êµ¬ì„±ìš”ì†Œ>6.7.1 í•„ìˆ˜ êµ¬ì„±ìš”ì†Œ<a hidden class=anchor aria-hidden=true href=#671-í•„ìˆ˜-êµ¬ì„±ìš”ì†Œ>#</a></h5><p><strong>Input Validator (ì…ë ¥ ê²€ì¦ê¸°)</strong></p><ul><li><strong>ê¸°ëŠ¥</strong>: ë©”ì†Œë“œë‚˜ ì„œë¹„ìŠ¤ì˜ ì…ë ¥ ë§¤ê°œë³€ìˆ˜ ê²€ì¦</li><li><strong>ì—­í• </strong>: ì˜ëª»ëœ ì…ë ¥ìœ¼ë¡œ ì¸í•œ ì˜¤ë¥˜ ì‚¬ì „ ë°©ì§€</li><li><strong>íŠ¹ì§•</strong>: íƒ€ì… ê²€ì¦, ë²”ìœ„ ê²€ì¦, í˜•ì‹ ê²€ì¦ í¬í•¨</li></ul><p><strong>Precondition Checker (ì „ì œ ì¡°ê±´ ê²€ì‚¬ê¸°)</strong></p><ul><li><strong>ê¸°ëŠ¥</strong>: ì‹¤í–‰ì— í•„ìš”í•œ ì¡°ê±´ë“¤ì˜ ë§Œì¡± ì—¬ë¶€ í™•ì¸</li><li><strong>ì—­í• </strong>: ì‹œìŠ¤í…œ ìƒíƒœì™€ ë¦¬ì†ŒìŠ¤ ê°€ìš©ì„± ê²€ì¦</li><li><strong>íŠ¹ì§•</strong>: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°, ì™¸ë¶€ ì„œë¹„ìŠ¤ ìƒíƒœ, ë©”ëª¨ë¦¬ ê°€ìš©ì„± ë“± í™•ì¸</li></ul><p><strong>Exception Handler (ì˜ˆì™¸ ì²˜ë¦¬ê¸°)</strong></p><ul><li><strong>ê¸°ëŠ¥</strong>: ê°ì§€ëœ ì˜¤ë¥˜ì— ëŒ€í•œ ì ì ˆí•œ ì˜ˆì™¸ ìƒì„± ë° ì „íŒŒ</li><li><strong>ì—­í• </strong>: ì¼ê´€ëœ ì˜¤ë¥˜ í˜•ì‹ê³¼ ë©”ì‹œì§€ ì œê³µ</li><li><strong>íŠ¹ì§•</strong>: ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤, ì»¨í…ìŠ¤íŠ¸ ì •ë³´, ë³µêµ¬ íŒíŠ¸ í¬í•¨</li></ul><h5 id=672-ì„ íƒ-êµ¬ì„±ìš”ì†Œ>6.7.2 ì„ íƒ êµ¬ì„±ìš”ì†Œ<a hidden class=anchor aria-hidden=true href=#672-ì„ íƒ-êµ¬ì„±ìš”ì†Œ>#</a></h5><p><strong>Error Context Collector (ì˜¤ë¥˜ ì»¨í…ìŠ¤íŠ¸ ìˆ˜ì§‘ê¸°)</strong></p><ul><li><strong>ê¸°ëŠ¥</strong>: ì˜¤ë¥˜ ë°œìƒ ì‹œì ì˜ ìƒíƒœ ì •ë³´ ìˆ˜ì§‘</li><li><strong>ì—­í• </strong>: ë””ë²„ê¹…ê³¼ ë¶„ì„ì„ ìœ„í•œ ì¶”ê°€ ì •ë³´ ì œê³µ</li><li><strong>íŠ¹ì§•</strong>: ë©”ëª¨ë¦¬ ë¤í”„, ë¡œê·¸ ìŠ¤ëƒ…ìƒ·, ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­ í¬í•¨</li></ul><p><strong>Recovery Mechanism (ë³µêµ¬ ë©”ì»¤ë‹ˆì¦˜)</strong></p><ul><li><strong>ê¸°ëŠ¥</strong>: ì‹¤íŒ¨ í›„ ì‹œìŠ¤í…œ ìƒíƒœ ë³µêµ¬ ë° ì •ë¦¬</li><li><strong>ì—­í• </strong>: ë¦¬ì†ŒìŠ¤ í•´ì œì™€ ì¼ê´€ì„± ìˆëŠ” ìƒíƒœ ë³µì›</li><li><strong>íŠ¹ì§•</strong>: íŠ¸ëœì­ì…˜ ë¡¤ë°±, ì—°ê²° í•´ì œ, ì„ì‹œ íŒŒì¼ ì •ë¦¬</li></ul><p><strong>Monitoring Integration (ëª¨ë‹ˆí„°ë§ ì—°ê³„)</strong></p><ul><li><strong>ê¸°ëŠ¥</strong>: ì‹¤íŒ¨ ì´ë²¤íŠ¸ë¥¼ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì— ì „ì†¡</li><li><strong>ì—­í• </strong>: ìš´ì˜íŒ€ì— ì‹¤ì‹œê°„ ì•Œë¦¼ê³¼ ë©”íŠ¸ë¦­ ì œê³µ</li><li><strong>íŠ¹ì§•</strong>: ì•ŒëŒ ìƒì„±, ëŒ€ì‹œë³´ë“œ ì—…ë°ì´íŠ¸, ë¡œê·¸ ìˆ˜ì§‘</li></ul><h5 id=673-ì•„í‚¤í…ì²˜-ë‹¤ì´ì–´ê·¸ë¨>6.7.3 ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨<a hidden class=anchor aria-hidden=true href=#673-ì•„í‚¤í…ì²˜-ë‹¤ì´ì–´ê·¸ë¨>#</a></h5><pre class=mermaid>graph TB
    Client[í´ë¼ì´ì–¸íŠ¸] --&gt; Gateway[API Gateway]
    Gateway --&gt; Service[ì„œë¹„ìŠ¤]
    
    subgraph &#34;Fail Fast êµ¬ì¡°&#34;
        Service --&gt; InputVal[ì…ë ¥ ê²€ì¦ê¸°]
        InputVal --&gt; PreCheck[ì „ì œ ì¡°ê±´ ê²€ì‚¬ê¸°]
        PreCheck --&gt; BizLogic[ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§]
        
        InputVal --&gt; ExHandler[ì˜ˆì™¸ ì²˜ë¦¬ê¸°]
        PreCheck --&gt; ExHandler
        BizLogic --&gt; ExHandler
        
        ExHandler --&gt; ErrorContext[ì˜¤ë¥˜ ì»¨í…ìŠ¤íŠ¸ ìˆ˜ì§‘ê¸°]
        ExHandler --&gt; Recovery[ë³µêµ¬ ë©”ì»¤ë‹ˆì¦˜]
        ExHandler --&gt; Monitor[ëª¨ë‹ˆí„°ë§ ì—°ê³„]
    end
    
    ExHandler --&gt; Client
    Monitor --&gt; AlertSystem[ì•Œë¦¼ ì‹œìŠ¤í…œ]
    Recovery --&gt; Database[(ë°ì´í„°ë² ì´ìŠ¤)]
</pre><h4 id=68-êµ¬í˜„-ê¸°ë²•>6.8 êµ¬í˜„ ê¸°ë²•<a hidden class=anchor aria-hidden=true href=#68-êµ¬í˜„-ê¸°ë²•>#</a></h4><h5 id=681-guard-clauses-ê°€ë“œ-ì ˆ>6.8.1 Guard Clauses (ê°€ë“œ ì ˆ)<a hidden class=anchor aria-hidden=true href=#681-guard-clauses-ê°€ë“œ-ì ˆ>#</a></h5><p><strong>ì •ì˜</strong>: ë©”ì†Œë“œ ì‹œì‘ ë¶€ë¶„ì—ì„œ ì¡°ê±´ì„ ê²€ì‚¬í•˜ì—¬ ì¡°ê¸° ë°˜í™˜í•˜ëŠ” ê¸°ë²•</p><p><strong>êµ¬ì„±</strong>: ì¡°ê±´ë¬¸ + ì¡°ê¸° ë°˜í™˜ + ì˜ˆì™¸ ë°œìƒ</p><p><strong>ëª©ì </strong>: ë³µì¡í•œ ì¤‘ì²© ì¡°ê±´ë¬¸ì„ í”¼í•˜ê³  ëª…í™•í•œ ì˜¤ë¥˜ ì²˜ë¦¬</p><p><strong>ì‹¤ì œ ì˜ˆì‹œ</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11>11</a>
</span><span class=lnt id=hl-9-12><a class=lnlinks href=#hl-9-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>process_user_order</span><span class=p>(</span><span class=n>user_id</span><span class=p>,</span> <span class=n>order_data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># Guard clauses for fail-fast validation</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=ow>not</span> <span class=n>user_id</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&#34;User ID cannot be empty&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=ow>not</span> <span class=n>order_data</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&#34;Order data is required&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>order_data</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span><span class=s2>&#34;Order data must be a dictionary&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê³„ì† ì§„í–‰...</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=682-precondition-validation-ì „ì œ-ì¡°ê±´-ê²€ì¦>6.8.2 Precondition Validation (ì „ì œ ì¡°ê±´ ê²€ì¦)<a hidden class=anchor aria-hidden=true href=#682-precondition-validation-ì „ì œ-ì¡°ê±´-ê²€ì¦>#</a></h5><p><strong>ì •ì˜</strong>: ë©”ì†Œë“œ ì‹¤í–‰ ì „ í•„ìš”í•œ ëª¨ë“  ì¡°ê±´ë“¤ì„ ê²€ì‚¬í•˜ëŠ” ê¸°ë²•</p><p><strong>êµ¬ì„±</strong>: ìƒíƒœ ê²€ì‚¬ + ë¦¬ì†ŒìŠ¤ ê²€ì¦ + ì˜ì¡´ì„± í™•ì¸</p><p><strong>ëª©ì </strong>: ì‹¤í–‰ í™˜ê²½ì˜ ì ì ˆì„± ë³´ì¥</p><p><strong>ì‹¤ì œ ì˜ˆì‹œ</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1> 1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2> 2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3> 3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4> 4</a>
</span><span class=lnt id=hl-10-5><a class=lnlinks href=#hl-10-5> 5</a>
</span><span class=lnt id=hl-10-6><a class=lnlinks href=#hl-10-6> 6</a>
</span><span class=lnt id=hl-10-7><a class=lnlinks href=#hl-10-7> 7</a>
</span><span class=lnt id=hl-10-8><a class=lnlinks href=#hl-10-8> 8</a>
</span><span class=lnt id=hl-10-9><a class=lnlinks href=#hl-10-9> 9</a>
</span><span class=lnt id=hl-10-10><a class=lnlinks href=#hl-10-10>10</a>
</span><span class=lnt id=hl-10-11><a class=lnlinks href=#hl-10-11>11</a>
</span><span class=lnt id=hl-10-12><a class=lnlinks href=#hl-10-12>12</a>
</span><span class=lnt id=hl-10-13><a class=lnlinks href=#hl-10-13>13</a>
</span><span class=lnt id=hl-10-14><a class=lnlinks href=#hl-10-14>14</a>
</span><span class=lnt id=hl-10-15><a class=lnlinks href=#hl-10-15>15</a>
</span><span class=lnt id=hl-10-16><a class=lnlinks href=#hl-10-16>16</a>
</span><span class=lnt id=hl-10-17><a class=lnlinks href=#hl-10-17>17</a>
</span><span class=lnt id=hl-10-18><a class=lnlinks href=#hl-10-18>18</a>
</span><span class=lnt id=hl-10-19><a class=lnlinks href=#hl-10-19>19</a>
</span><span class=lnt id=hl-10-20><a class=lnlinks href=#hl-10-20>20</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>class</span> <span class=nx>PaymentService</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>processPayment</span><span class=p>(</span><span class=nx>amount</span><span class=p>,</span> <span class=nx>paymentMethod</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Precondition validations
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>validateAmount</span><span class=p>(</span><span class=nx>amount</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>validatePaymentMethod</span><span class=p>(</span><span class=nx>paymentMethod</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>checkDatabaseConnection</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>verifyExternalServiceAvailability</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// ê²°ì œ ì²˜ë¦¬ ë¡œì§...
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>validateAmount</span><span class=p>(</span><span class=nx>amount</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>amount</span> <span class=o>&lt;=</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s2>&#34;Payment amount must be positive&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>amount</span> <span class=o>&gt;</span> <span class=mi>10000</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s2>&#34;Payment amount exceeds maximum limit&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=683-fast-timeout-implementation-ë¹ ë¥¸-íƒ€ì„ì•„ì›ƒ-êµ¬í˜„>6.8.3 Fast Timeout Implementation (ë¹ ë¥¸ íƒ€ì„ì•„ì›ƒ êµ¬í˜„)<a hidden class=anchor aria-hidden=true href=#683-fast-timeout-implementation-ë¹ ë¥¸-íƒ€ì„ì•„ì›ƒ-êµ¬í˜„>#</a></h5><p><strong>ì •ì˜</strong>: ì™¸ë¶€ ì˜ì¡´ì„± í˜¸ì¶œ ì‹œ ì§§ì€ íƒ€ì„ì•„ì›ƒì„ ì„¤ì •í•˜ì—¬ ë¹ ë¥¸ ì‹¤íŒ¨ êµ¬í˜„</p><p><strong>êµ¬ì„±</strong>: íƒ€ì„ì•„ì›ƒ ì„¤ì • + ì—°ê²° ê´€ë¦¬ + ì˜ˆì™¸ ì²˜ë¦¬</p><p><strong>ëª©ì </strong>: ì™¸ë¶€ ì„œë¹„ìŠ¤ ì¥ì• ë¡œ ì¸í•œ ì—°ì‡„ ì‹¤íŒ¨ ë°©ì§€</p><p><strong>ì‹¤ì œ ì˜ˆì‹œ</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1> 1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2> 2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3> 3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4> 4</a>
</span><span class=lnt id=hl-11-5><a class=lnlinks href=#hl-11-5> 5</a>
</span><span class=lnt id=hl-11-6><a class=lnlinks href=#hl-11-6> 6</a>
</span><span class=lnt id=hl-11-7><a class=lnlinks href=#hl-11-7> 7</a>
</span><span class=lnt id=hl-11-8><a class=lnlinks href=#hl-11-8> 8</a>
</span><span class=lnt id=hl-11-9><a class=lnlinks href=#hl-11-9> 9</a>
</span><span class=lnt id=hl-11-10><a class=lnlinks href=#hl-11-10>10</a>
</span><span class=lnt id=hl-11-11><a class=lnlinks href=#hl-11-11>11</a>
</span><span class=lnt id=hl-11-12><a class=lnlinks href=#hl-11-12>12</a>
</span><span class=lnt id=hl-11-13><a class=lnlinks href=#hl-11-13>13</a>
</span><span class=lnt id=hl-11-14><a class=lnlinks href=#hl-11-14>14</a>
</span><span class=lnt id=hl-11-15><a class=lnlinks href=#hl-11-15>15</a>
</span><span class=lnt id=hl-11-16><a class=lnlinks href=#hl-11-16>16</a>
</span><span class=lnt id=hl-11-17><a class=lnlinks href=#hl-11-17>17</a>
</span><span class=lnt id=hl-11-18><a class=lnlinks href=#hl-11-18>18</a>
</span><span class=lnt id=hl-11-19><a class=lnlinks href=#hl-11-19>19</a>
</span><span class=lnt id=hl-11-20><a class=lnlinks href=#hl-11-20>20</a>
</span><span class=lnt id=hl-11-21><a class=lnlinks href=#hl-11-21>21</a>
</span><span class=lnt id=hl-11-22><a class=lnlinks href=#hl-11-22>22</a>
</span><span class=lnt id=hl-11-23><a class=lnlinks href=#hl-11-23>23</a>
</span><span class=lnt id=hl-11-24><a class=lnlinks href=#hl-11-24>24</a>
</span><span class=lnt id=hl-11-25><a class=lnlinks href=#hl-11-25>25</a>
</span><span class=lnt id=hl-11-26><a class=lnlinks href=#hl-11-26>26</a>
</span><span class=lnt id=hl-11-27><a class=lnlinks href=#hl-11-27>27</a>
</span><span class=lnt id=hl-11-28><a class=lnlinks href=#hl-11-28>28</a>
</span><span class=lnt id=hl-11-29><a class=lnlinks href=#hl-11-29>29</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>requests.adapters</span> <span class=kn>import</span> <span class=n>HTTPAdapter</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>urllib3.util.retry</span> <span class=kn>import</span> <span class=n>Retry</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ExternalAPIClient</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>session</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>Session</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=c1># Fast timeout configuration</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>session</span><span class=o>.</span><span class=n>timeout</span> <span class=o>=</span> <span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>  <span class=c1># Connection timeout: 3s, Read timeout: 5s</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># Retry strategy for fail-fast</span>
</span></span><span class=line><span class=cl>        <span class=n>retry_strategy</span> <span class=o>=</span> <span class=n>Retry</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>total</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>  <span class=c1># Only 1 retry</span>
</span></span><span class=line><span class=cl>            <span class=n>backoff_factor</span><span class=o>=</span><span class=mf>0.1</span><span class=p>,</span>  <span class=c1># Minimal backoff</span>
</span></span><span class=line><span class=cl>            <span class=n>status_forcelist</span><span class=o>=</span><span class=p>[</span><span class=mi>429</span><span class=p>,</span> <span class=mi>500</span><span class=p>,</span> <span class=mi>502</span><span class=p>,</span> <span class=mi>503</span><span class=p>,</span> <span class=mi>504</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>adapter</span> <span class=o>=</span> <span class=n>HTTPAdapter</span><span class=p>(</span><span class=n>max_retries</span><span class=o>=</span><span class=n>retry_strategy</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>session</span><span class=o>.</span><span class=n>mount</span><span class=p>(</span><span class=s2>&#34;http://&#34;</span><span class=p>,</span> <span class=n>adapter</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>session</span><span class=o>.</span><span class=n>mount</span><span class=p>(</span><span class=s2>&#34;https://&#34;</span><span class=p>,</span> <span class=n>adapter</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>call_external_service</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>url</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>response</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>session</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=n>url</span><span class=p>,</span> <span class=n>json</span><span class=o>=</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>response</span><span class=o>.</span><span class=n>raise_for_status</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>response</span><span class=o>.</span><span class=n>json</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>except</span> <span class=n>requests</span><span class=o>.</span><span class=n>exceptions</span><span class=o>.</span><span class=n>RequestException</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># Fail fast - don&#39;t retry indefinitely</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=n>ServiceUnavailableError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;External service failed: </span><span class=si>{</span><span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=69-ì¥ì >6.9 ì¥ì <a hidden class=anchor aria-hidden=true href=#69-ì¥ì >#</a></h4><table><thead><tr><th>êµ¬ë¶„</th><th>í•­ëª©</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>ì¥ì </td><td>ë¹ ë¥¸ ë””ë²„ê¹…</td><td>ì˜¤ë¥˜ ë°œìƒ ì§€ì ì—ì„œ ì¦‰ì‹œ ì‹¤íŒ¨í•˜ì—¬ ë¬¸ì œì˜ ê·¼ë³¸ ì›ì¸ì„ ì‰½ê²Œ íŒŒì•… ê°€ëŠ¥</td></tr><tr><td></td><td>ì‹œìŠ¤í…œ ì•ˆì •ì„± í–¥ìƒ</td><td>ì˜ëª»ëœ ìƒíƒœë¡œ ì‹¤í–‰ì„ ê³„ì†í•˜ì§€ ì•Šì•„ ë°ì´í„° ì†ìƒê³¼ ìƒíƒœ ë¶ˆì¼ì¹˜ ë°©ì§€</td></tr><tr><td></td><td>ê°œë°œ íš¨ìœ¨ì„± ì¦ëŒ€</td><td>ëª…í™•í•œ ì˜¤ë¥˜ ë©”ì‹œì§€ì™€ ë¹ ë¥¸ í”¼ë“œë°±ìœ¼ë¡œ ê°œë°œ ìƒì‚°ì„± í–¥ìƒ</td></tr><tr><td></td><td>ë¦¬ì†ŒìŠ¤ ì ˆì•½</td><td>ë¶ˆí•„ìš”í•œ ì—°ì‚° ì¤‘ë‹¨ìœ¼ë¡œ CPU, ë©”ëª¨ë¦¬ ë“± ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ íš¨ìœ¨ì  ì‚¬ìš©</td></tr><tr><td></td><td>í…ŒìŠ¤íŠ¸ ìš©ì´ì„±</td><td>ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì‹¤íŒ¨ íŒ¨í„´ìœ¼ë¡œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì™€ í†µí•© í…ŒìŠ¤íŠ¸ ì‘ì„± ìš©ì´</td></tr><tr><td></td><td>ìš´ì˜ ì‹ ë¢°ì„±</td><td>ì‹¤íŒ¨ ì‹œì ì´ ëª…í™•í•˜ì—¬ ìš´ì˜ ì¤‘ ë¬¸ì œ í•´ê²°ê³¼ ë³µêµ¬ ì‹œê°„ ë‹¨ì¶•</td></tr></tbody></table><h4 id=610-ë‹¨ì ê³¼-ë¬¸ì œì -ê·¸ë¦¬ê³ -í•´ê²°ë°©ì•ˆ>6.10 ë‹¨ì ê³¼ ë¬¸ì œì  ê·¸ë¦¬ê³  í•´ê²°ë°©ì•ˆ<a hidden class=anchor aria-hidden=true href=#610-ë‹¨ì ê³¼-ë¬¸ì œì -ê·¸ë¦¬ê³ -í•´ê²°ë°©ì•ˆ>#</a></h4><h5 id=ë‹¨ì -1>ë‹¨ì <a hidden class=anchor aria-hidden=true href=#ë‹¨ì -1>#</a></h5><table><thead><tr><th>êµ¬ë¶„</th><th>í•­ëª©</th><th>ì„¤ëª…</th><th>í•´ê²°ì±…</th></tr></thead><tbody><tr><td>ë‹¨ì </td><td>ê³¼ë„í•œ ê²€ì¦ ì˜¤ë²„í—¤ë“œ</td><td>ë§ì€ ê²€ì¦ ë¡œì§ìœ¼ë¡œ ì¸í•œ ì„±ëŠ¥ ì €í•˜</td><td>í•µì‹¬ ê²½ê³„ì—ì„œë§Œ ê²€ì¦ ìˆ˜í–‰, ì¤‘ë³µ ê²€ì¦ ì œê±°</td></tr><tr><td></td><td>ì‚¬ìš©ì ê²½í—˜ ì €í•˜</td><td>ë¹ˆë²ˆí•œ ì‹¤íŒ¨ë¡œ ì¸í•œ ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ì¸ìƒ</td><td>ìš°ì•„í•œ ì„±ëŠ¥ ì €í•˜ (Graceful Degradation) íŒ¨í„´ ë³‘í–‰ ì ìš©</td></tr><tr><td></td><td>ë³µêµ¬ ë³µì¡ì„± ì¦ê°€</td><td>ì¦‰ì‹œ ì‹¤íŒ¨ë¡œ ì¸í•œ ë¶€ë¶„ ì™„ë£Œ ìƒíƒœ ì²˜ë¦¬ ì–´ë ¤ì›€</td><td>íŠ¸ëœì­ì…˜ ê´€ë¦¬ì™€ ë³´ìƒ ì‘ì—… (Compensating Action) êµ¬í˜„</td></tr><tr><td></td><td>ê°œë°œ ë³µì¡ì„±</td><td>ëª¨ë“  ì˜ˆì™¸ ìƒí™©ì— ëŒ€í•œ ì²˜ë¦¬ ë¡œì§ í•„ìš”</td><td>í‘œì¤€í™”ëœ ì˜ˆì™¸ ì²˜ë¦¬ í”„ë ˆì„ì›Œí¬ ì‚¬ìš©</td></tr></tbody></table><h5 id=ë¬¸ì œì -1>ë¬¸ì œì <a hidden class=anchor aria-hidden=true href=#ë¬¸ì œì -1>#</a></h5><table><thead><tr><th>êµ¬ë¶„</th><th>í•­ëª©</th><th>ì›ì¸</th><th>ì˜í–¥</th><th>íƒì§€ ë° ì§„ë‹¨</th><th>ì˜ˆë°© ë°©ë²•</th><th>í•´ê²° ë°©ë²• ë° ê¸°ë²•</th></tr></thead><tbody><tr><td>ë¬¸ì œì </td><td>ì—°ì‡„ ì‹¤íŒ¨ í™•ì‚°</td><td>í•˜ìœ„ ì„œë¹„ìŠ¤ ì‹¤íŒ¨ê°€ ìƒìœ„ ì„œë¹„ìŠ¤ë¡œ ì „íŒŒ</td><td>ì „ì²´ ì‹œìŠ¤í…œ ë§ˆë¹„</td><td>ë¶„ì‚° ì¶”ì , ì˜ì¡´ì„± ë§µí•‘</td><td>Circuit Breaker íŒ¨í„´ ì ìš©</td><td>Bulkhead íŒ¨í„´ìœ¼ë¡œ ê²©ë¦¬, íƒ€ì„ì•„ì›ƒ ì„¤ì •</td></tr><tr><td></td><td>ë¶ˆì™„ì „í•œ ë¡¤ë°±</td><td>ì‹¤íŒ¨ ì‹œì ì—ì„œ ë¶€ë¶„ì ìœ¼ë¡œ ì™„ë£Œëœ ì‘ì—… ì¡´ì¬</td><td>ë°ì´í„° ì¼ê´€ì„± í›¼ì†</td><td>íŠ¸ëœì­ì…˜ ë¡œê·¸ ë¶„ì„</td><td>ì›ìì„± ë³´ì¥ ì„¤ê³„</td><td>Saga íŒ¨í„´, ë³´ìƒ íŠ¸ëœì­ì…˜ êµ¬í˜„</td></tr><tr><td></td><td>ê³¼ë„í•œ ë¯¼ê°ì„±</td><td>ì¼ì‹œì  ì˜¤ë¥˜ì—ë„ ì¦‰ì‹œ ì‹¤íŒ¨</td><td>ì‹œìŠ¤í…œ ê°€ìš©ì„± ì €í•˜</td><td>ì‹¤íŒ¨ìœ¨ ëª¨ë‹ˆí„°ë§</td><td>ì¬ì‹œë„ ì •ì±… ìˆ˜ë¦½</td><td>Exponential Backoff, Jitter ì ìš©</td></tr><tr><td></td><td>ì˜¤ë¥˜ ì •ë³´ ë¶€ì¡±</td><td>ë‹¨ìˆœí•œ ì‹¤íŒ¨ ë©”ì‹œì§€ë¡œ ì¸í•œ ë””ë²„ê¹… ì–´ë ¤ì›€</td><td>ë³µêµ¬ ì‹œê°„ ì§€ì—°</td><td>ë¡œê·¸ ë¶„ì„, ë©”íŠ¸ë¦­ ìˆ˜ì§‘</td><td>í’ë¶€í•œ ì»¨í…ìŠ¤íŠ¸ ìˆ˜ì§‘</td><td>êµ¬ì¡°í™”ëœ ë¡œê¹…, ì˜¤ë¥˜ ì¶”ì  ì‹œìŠ¤í…œ</td></tr></tbody></table><h4 id=611-ë„ì „-ê³¼ì œ>6.11 ë„ì „ ê³¼ì œ<a hidden class=anchor aria-hidden=true href=#611-ë„ì „-ê³¼ì œ>#</a></h4><h5 id=6111-ë¶„ì‚°-ì‹œìŠ¤í…œì—ì„œì˜-ì¼ê´€ì„±-ìœ ì§€>6.11.1 ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œì˜ ì¼ê´€ì„± ìœ ì§€<a hidden class=anchor aria-hidden=true href=#6111-ë¶„ì‚°-ì‹œìŠ¤í…œì—ì„œì˜-ì¼ê´€ì„±-ìœ ì§€>#</a></h5><p><strong>ì›ì¸</strong>: ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê°„ ë…ë¦½ì ì¸ ì‹¤íŒ¨ë¡œ ì¸í•œ ì „ì²´ ì‹œìŠ¤í…œ ìƒíƒœ ë¶ˆì¼ì¹˜</p><p><strong>ì˜í–¥</strong>: ë°ì´í„° ì •í•©ì„± ë¬¸ì œ, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì˜¤ë¥˜, ì‚¬ìš©ì ê²½í—˜ ì €í•˜</p><p><strong>í•´ê²° ë°©ë²•</strong>:</p><ul><li>Event Sourcing íŒ¨í„´ìœ¼ë¡œ ìƒíƒœ ë³€ê²½ ì´ë ¥ ê´€ë¦¬</li><li>CQRS (Command Query Responsibility Segregation) ì ìš©</li><li>Distributed Saga íŒ¨í„´ìœ¼ë¡œ ë¶„ì‚° íŠ¸ëœì­ì…˜ ê´€ë¦¬</li></ul><h5 id=6112-í´ë¼ìš°ë“œ-ë„¤ì´í‹°ë¸Œ-í™˜ê²½ì—ì„œì˜-ì ì‘>6.11.2 í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ í™˜ê²½ì—ì„œì˜ ì ì‘<a hidden class=anchor aria-hidden=true href=#6112-í´ë¼ìš°ë“œ-ë„¤ì´í‹°ë¸Œ-í™˜ê²½ì—ì„œì˜-ì ì‘>#</a></h5><p><strong>ì›ì¸</strong>: ì»¨í…Œì´ë„ˆ ê¸°ë°˜ í™˜ê²½ì—ì„œì˜ ë™ì  ìŠ¤ì¼€ì¼ë§ê³¼ ì¼ì‹œì  ì¥ì• </p><p><strong>ì˜í–¥</strong>: ê³¼ë„í•œ ì¬ì‹œì‘, ë¦¬ì†ŒìŠ¤ ë‚­ë¹„, ì„œë¹„ìŠ¤ ë¶ˆì•ˆì •</p><p><strong>í•´ê²° ë°©ë²•</strong>:</p><ul><li>Kubernetes Health Check ì™€ ì—°ê³„í•œ ìŠ¤ë§ˆíŠ¸ ì‹¤íŒ¨ ì •ì±…</li><li>ì„œë¹„ìŠ¤ ë©”ì‹œ (Service Mesh) í™œìš©í•œ íŠ¸ë˜í”½ ì œì–´</li><li>ê´€ì¸¡ ê°€ëŠ¥ì„± (Observability) ë„êµ¬ í†µí•©</li></ul><h5 id=6113-aiml-ì‹œìŠ¤í…œì—ì„œì˜-ì ìš©>6.11.3 AI/ML ì‹œìŠ¤í…œì—ì„œì˜ ì ìš©<a hidden class=anchor aria-hidden=true href=#6113-aiml-ì‹œìŠ¤í…œì—ì„œì˜-ì ìš©>#</a></h5><p><strong>ì›ì¸</strong>: ëª¨ë¸ ì˜ˆì¸¡ ê²°ê³¼ì˜ ë¶ˆí™•ì‹¤ì„±ê³¼ í™•ë¥ ì  íŠ¹ì„±</p><p><strong>ì˜í–¥</strong>: ì˜ˆì¸¡ ì •í™•ë„ ì €í•˜, ëª¨ë¸ ì‹ ë¢°ì„± ë¬¸ì œ</p><p><strong>í•´ê²° ë°©ë²•</strong>:</p><ul><li>ì‹ ë¢°ë„ ì„ê³„ê°’ ê¸°ë°˜ ì‹¤íŒ¨ ì •ì±…</li><li>A/B í…ŒìŠ¤íŠ¸ë¥¼ í†µí•œ ì ì§„ì  ë°°í¬</li><li>ëª¨ë¸ ì„±ëŠ¥ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§</li></ul><h4 id=612-ë¶„ë¥˜-ê¸°ì¤€ì—-ë”°ë¥¸-ì¢…ë¥˜-ë°-ìœ í˜•>6.12 ë¶„ë¥˜ ê¸°ì¤€ì— ë”°ë¥¸ ì¢…ë¥˜ ë° ìœ í˜•<a hidden class=anchor aria-hidden=true href=#612-ë¶„ë¥˜-ê¸°ì¤€ì—-ë”°ë¥¸-ì¢…ë¥˜-ë°-ìœ í˜•>#</a></h4><table><thead><tr><th>ë¶„ë¥˜ ê¸°ì¤€</th><th>ìœ í˜•</th><th>ì„¤ëª…</th><th>ì ìš© ì˜ì—­</th></tr></thead><tbody><tr><td>ì ìš© ë²”ìœ„</td><td>Application Level</td><td>ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ë¶€ì˜ ë©”ì†Œë“œ, í•¨ìˆ˜ ë‹¨ìœ„</td><td>ì…ë ¥ ê²€ì¦, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§</td></tr><tr><td></td><td>Service Level</td><td>ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë‚˜ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„</td><td>API Gateway, ì„œë¹„ìŠ¤ ê²½ê³„</td></tr><tr><td></td><td>System Level</td><td>ì „ì²´ ì‹œìŠ¤í…œì´ë‚˜ ì¸í”„ë¼ ë‹¨ìœ„</td><td>í—¬ìŠ¤ì²´í¬, ë¦¬ì†ŒìŠ¤ ëª¨ë‹ˆí„°ë§</td></tr><tr><td>ì‹¤íŒ¨ ì‹œì </td><td>Eager Validation</td><td>ì‹¤í–‰ ì „ ëª¨ë“  ì¡°ê±´ ê²€ì‚¬</td><td>ì…ë ¥ ë§¤ê°œë³€ìˆ˜, ì „ì œ ì¡°ê±´</td></tr><tr><td></td><td>Lazy Validation</td><td>í•„ìš” ì‹œì ì— ì¡°ê±´ ê²€ì‚¬</td><td>ë¦¬ì†ŒìŠ¤ ì ‘ê·¼, ì™¸ë¶€ í˜¸ì¶œ</td></tr><tr><td></td><td>Continuous Validation</td><td>ì‹¤í–‰ ì¤‘ ì§€ì†ì  ê°ì‹œ</td><td>ìƒíƒœ ë³€ê²½, ë¶ˆë³€ ì¡°ê±´</td></tr><tr><td>ë³µêµ¬ ì „ëµ</td><td>Immediate Termination</td><td>ì¦‰ì‹œ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ</td><td>Critical System Error</td></tr><tr><td></td><td>Graceful Degradation</td><td>ê¸°ëŠ¥ ì¶•ì†Œ í›„ ê³„ì† ì‹¤í–‰</td><td>ë¹„í•µì‹¬ ê¸°ëŠ¥ ì˜¤ë¥˜</td></tr><tr><td></td><td>Retry with Backoff</td><td>ì¬ì‹œë„ í›„ ì‹¤íŒ¨ ì‹œ ì¤‘ë‹¨</td><td>ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜, ì¼ì‹œì  ì¥ì• </td></tr></tbody></table><h4 id=613-ì‹¤ë¬´-ì‚¬ìš©-ì˜ˆì‹œ>6.13 ì‹¤ë¬´ ì‚¬ìš© ì˜ˆì‹œ<a hidden class=anchor aria-hidden=true href=#613-ì‹¤ë¬´-ì‚¬ìš©-ì˜ˆì‹œ>#</a></h4><table><thead><tr><th>ì‚¬ìš© ì˜ì—­</th><th>ëª©ì </th><th>í•¨ê»˜ ì‚¬ìš©ë˜ëŠ” ê¸°ìˆ </th><th>íš¨ê³¼</th></tr></thead><tbody><tr><td>API Gateway</td><td>ì˜ëª»ëœ ìš”ì²­ ì¡°ê¸° ì°¨ë‹¨</td><td>Rate Limiting, Authentication</td><td>ë°±ì—”ë“œ ì„œë¹„ìŠ¤ ë³´í˜¸, ì‘ë‹µì„± í–¥ìƒ</td></tr><tr><td>ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°</td><td>ì—°ê²° ì‹¤íŒ¨ ì‹œ ì¦‰ì‹œ ì•Œë¦¼</td><td>Connection Pool, Health Check</td><td>ë¦¬ì†ŒìŠ¤ ì ˆì•½, ë¹ ë¥¸ ë³µêµ¬</td></tr><tr><td>ì™¸ë¶€ ì„œë¹„ìŠ¤ í˜¸ì¶œ</td><td>íƒ€ì„ì•„ì›ƒìœ¼ë¡œ ë¹ ë¥¸ ì‹¤íŒ¨</td><td>Circuit Breaker, Retry Policy</td><td>ì—°ì‡„ ì¥ì•  ë°©ì§€, ì‹œìŠ¤í…œ ì•ˆì •ì„±</td></tr><tr><td>ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê²€ì¦</td><td>ì˜ëª»ëœ ìƒíƒœ ì¦‰ì‹œ ê°ì§€</td><td>Design by Contract, Assertion</td><td>ë°ì´í„° ë¬´ê²°ì„±, ì‹ ë¢°ì„± í–¥ìƒ</td></tr><tr><td>ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í†µì‹ </td><td>ì˜ì¡´ì„± ì‹¤íŒ¨ ê²©ë¦¬</td><td>Service Mesh, Load Balancer</td><td>ì¥ì•  ê²©ë¦¬, ë³µì›ë ¥ ê°•í™”</td></tr><tr><td>ë°°ì¹˜ ì²˜ë¦¬</td><td>ë°ì´í„° ì˜¤ë¥˜ ì¡°ê¸° ë°œê²¬</td><td>Data Pipeline, Monitoring</td><td>ì²˜ë¦¬ íš¨ìœ¨ì„±, í’ˆì§ˆ ë³´ì¥</td></tr></tbody></table><h4 id=614-í™œìš©-ì‚¬ë¡€>6.14 í™œìš© ì‚¬ë¡€<a hidden class=anchor aria-hidden=true href=#614-í™œìš©-ì‚¬ë¡€>#</a></h4><h5 id=6141-ì „ììƒê±°ë˜-ê²°ì œ-ì‹œìŠ¤í…œ>6.14.1 ì „ììƒê±°ë˜ ê²°ì œ ì‹œìŠ¤í…œ<a hidden class=anchor aria-hidden=true href=#6141-ì „ììƒê±°ë˜-ê²°ì œ-ì‹œìŠ¤í…œ>#</a></h5><p><strong>ì‹œë‚˜ë¦¬ì˜¤</strong>: ì˜¨ë¼ì¸ ì‡¼í•‘ëª°ì˜ ê²°ì œ ì²˜ë¦¬ ì‹œìŠ¤í…œì—ì„œ Fail Fast Pattern ì ìš©</p><p><strong>ì‹œìŠ¤í…œ êµ¬ì„±</strong>:</p><pre class=mermaid>graph TB
    User[ì‚¬ìš©ì] --&gt; Frontend[í”„ë¡ íŠ¸ì—”ë“œ]
    Frontend --&gt; APIGateway[API Gateway]
    APIGateway --&gt; PaymentService[ê²°ì œ ì„œë¹„ìŠ¤]
    PaymentService --&gt; ValidationService[ê²€ì¦ ì„œë¹„ìŠ¤]
    PaymentService --&gt; BankAPI[ì€í–‰ API]
    PaymentService --&gt; InventoryService[ì¬ê³  ì„œë¹„ìŠ¤]
    PaymentService --&gt; OrderService[ì£¼ë¬¸ ì„œë¹„ìŠ¤]
    
    subgraph &#34;Fail Fast ì ìš© ì§€ì &#34;
        ValidationService --&gt; CardValidation[ì¹´ë“œ ê²€ì¦]
        ValidationService --&gt; AmountValidation[ê¸ˆì•¡ ê²€ì¦]
        ValidationService --&gt; UserValidation[ì‚¬ìš©ì ê²€ì¦]
    end
    
    PaymentService --&gt; Database[(ê²°ì œ DB)]
</pre><p><strong>Workflow</strong>:</p><ol><li>ì‚¬ìš©ìê°€ ê²°ì œ ìš”ì²­ ì „ì†¡</li><li>API Gateway ì—ì„œ ê¸°ë³¸ ì¸ì¦ê³¼ ìš”ì²­ í˜•ì‹ ê²€ì¦ (Fail Fast ì ìš©)</li><li>ê²°ì œ ì„œë¹„ìŠ¤ì—ì„œ ì…ë ¥ ë§¤ê°œë³€ìˆ˜ ì¦‰ì‹œ ê²€ì¦</li><li>ì¹´ë“œ ì •ë³´, ê²°ì œ ê¸ˆì•¡, ì‚¬ìš©ì ê¶Œí•œ ì‚¬ì „ í™•ì¸</li><li>ì™¸ë¶€ ì€í–‰ API í˜¸ì¶œ ì „ ì—°ê²° ìƒíƒœ ê²€ì¦</li><li>ì¬ê³  í™•ì¸ ë° ì£¼ë¬¸ ì²˜ë¦¬ ì „ ì „ì œ ì¡°ê±´ ê²€ì‚¬</li></ol><p><strong>Fail Fast Pattern ì˜ ì—­í• </strong>:</p><ul><li>ì˜ëª»ëœ ì¹´ë“œ ì •ë³´ ê°ì§€ ì‹œ ì¦‰ì‹œ ê²°ì œ ì¤‘ë‹¨</li><li>ì€í–‰ API ì‘ë‹µ ì§€ì—° ì‹œ íƒ€ì„ì•„ì›ƒìœ¼ë¡œ ë¹ ë¥¸ ì‹¤íŒ¨</li><li>ì¬ê³  ë¶€ì¡± ì‹œ ê²°ì œ ì§„í–‰ ì „ ì¡°ê¸° ì¤‘ë‹¨</li></ul><p><strong>ì ìš© ì „í›„ ì°¨ì´ì </strong>:</p><ul><li><strong>ì ìš© ì „</strong>: ê²°ì œ ì²˜ë¦¬ ì¤‘ê°„ì— ì‹¤íŒ¨í•˜ì—¬ ë¶€ë¶„ ê²°ì œ ìƒíƒœ ë°œìƒ, ë³µêµ¬ ë³µì¡</li><li><strong>ì ìš© í›„</strong>: ì‚¬ì „ ê²€ì¦ìœ¼ë¡œ ì‹¤íŒ¨ ê°€ëŠ¥ì„± ì œê±°, ì¼ê´€ëœ ê²°ì œ ìƒíƒœ ìœ ì§€</li></ul><h4 id=615-êµ¬í˜„-ì˜ˆì‹œ>6.15 êµ¬í˜„ ì˜ˆì‹œ<a hidden class=anchor aria-hidden=true href=#615-êµ¬í˜„-ì˜ˆì‹œ>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1>  1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2>  2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3>  3</a>
</span><span class=lnt id=hl-13-4><a class=lnlinks href=#hl-13-4>  4</a>
</span><span class=lnt id=hl-13-5><a class=lnlinks href=#hl-13-5>  5</a>
</span><span class=lnt id=hl-13-6><a class=lnlinks href=#hl-13-6>  6</a>
</span><span class=lnt id=hl-13-7><a class=lnlinks href=#hl-13-7>  7</a>
</span><span class=lnt id=hl-13-8><a class=lnlinks href=#hl-13-8>  8</a>
</span><span class=lnt id=hl-13-9><a class=lnlinks href=#hl-13-9>  9</a>
</span><span class=lnt id=hl-13-10><a class=lnlinks href=#hl-13-10> 10</a>
</span><span class=lnt id=hl-13-11><a class=lnlinks href=#hl-13-11> 11</a>
</span><span class=lnt id=hl-13-12><a class=lnlinks href=#hl-13-12> 12</a>
</span><span class=lnt id=hl-13-13><a class=lnlinks href=#hl-13-13> 13</a>
</span><span class=lnt id=hl-13-14><a class=lnlinks href=#hl-13-14> 14</a>
</span><span class=lnt id=hl-13-15><a class=lnlinks href=#hl-13-15> 15</a>
</span><span class=lnt id=hl-13-16><a class=lnlinks href=#hl-13-16> 16</a>
</span><span class=lnt id=hl-13-17><a class=lnlinks href=#hl-13-17> 17</a>
</span><span class=lnt id=hl-13-18><a class=lnlinks href=#hl-13-18> 18</a>
</span><span class=lnt id=hl-13-19><a class=lnlinks href=#hl-13-19> 19</a>
</span><span class=lnt id=hl-13-20><a class=lnlinks href=#hl-13-20> 20</a>
</span><span class=lnt id=hl-13-21><a class=lnlinks href=#hl-13-21> 21</a>
</span><span class=lnt id=hl-13-22><a class=lnlinks href=#hl-13-22> 22</a>
</span><span class=lnt id=hl-13-23><a class=lnlinks href=#hl-13-23> 23</a>
</span><span class=lnt id=hl-13-24><a class=lnlinks href=#hl-13-24> 24</a>
</span><span class=lnt id=hl-13-25><a class=lnlinks href=#hl-13-25> 25</a>
</span><span class=lnt id=hl-13-26><a class=lnlinks href=#hl-13-26> 26</a>
</span><span class=lnt id=hl-13-27><a class=lnlinks href=#hl-13-27> 27</a>
</span><span class=lnt id=hl-13-28><a class=lnlinks href=#hl-13-28> 28</a>
</span><span class=lnt id=hl-13-29><a class=lnlinks href=#hl-13-29> 29</a>
</span><span class=lnt id=hl-13-30><a class=lnlinks href=#hl-13-30> 30</a>
</span><span class=lnt id=hl-13-31><a class=lnlinks href=#hl-13-31> 31</a>
</span><span class=lnt id=hl-13-32><a class=lnlinks href=#hl-13-32> 32</a>
</span><span class=lnt id=hl-13-33><a class=lnlinks href=#hl-13-33> 33</a>
</span><span class=lnt id=hl-13-34><a class=lnlinks href=#hl-13-34> 34</a>
</span><span class=lnt id=hl-13-35><a class=lnlinks href=#hl-13-35> 35</a>
</span><span class=lnt id=hl-13-36><a class=lnlinks href=#hl-13-36> 36</a>
</span><span class=lnt id=hl-13-37><a class=lnlinks href=#hl-13-37> 37</a>
</span><span class=lnt id=hl-13-38><a class=lnlinks href=#hl-13-38> 38</a>
</span><span class=lnt id=hl-13-39><a class=lnlinks href=#hl-13-39> 39</a>
</span><span class=lnt id=hl-13-40><a class=lnlinks href=#hl-13-40> 40</a>
</span><span class=lnt id=hl-13-41><a class=lnlinks href=#hl-13-41> 41</a>
</span><span class=lnt id=hl-13-42><a class=lnlinks href=#hl-13-42> 42</a>
</span><span class=lnt id=hl-13-43><a class=lnlinks href=#hl-13-43> 43</a>
</span><span class=lnt id=hl-13-44><a class=lnlinks href=#hl-13-44> 44</a>
</span><span class=lnt id=hl-13-45><a class=lnlinks href=#hl-13-45> 45</a>
</span><span class=lnt id=hl-13-46><a class=lnlinks href=#hl-13-46> 46</a>
</span><span class=lnt id=hl-13-47><a class=lnlinks href=#hl-13-47> 47</a>
</span><span class=lnt id=hl-13-48><a class=lnlinks href=#hl-13-48> 48</a>
</span><span class=lnt id=hl-13-49><a class=lnlinks href=#hl-13-49> 49</a>
</span><span class=lnt id=hl-13-50><a class=lnlinks href=#hl-13-50> 50</a>
</span><span class=lnt id=hl-13-51><a class=lnlinks href=#hl-13-51> 51</a>
</span><span class=lnt id=hl-13-52><a class=lnlinks href=#hl-13-52> 52</a>
</span><span class=lnt id=hl-13-53><a class=lnlinks href=#hl-13-53> 53</a>
</span><span class=lnt id=hl-13-54><a class=lnlinks href=#hl-13-54> 54</a>
</span><span class=lnt id=hl-13-55><a class=lnlinks href=#hl-13-55> 55</a>
</span><span class=lnt id=hl-13-56><a class=lnlinks href=#hl-13-56> 56</a>
</span><span class=lnt id=hl-13-57><a class=lnlinks href=#hl-13-57> 57</a>
</span><span class=lnt id=hl-13-58><a class=lnlinks href=#hl-13-58> 58</a>
</span><span class=lnt id=hl-13-59><a class=lnlinks href=#hl-13-59> 59</a>
</span><span class=lnt id=hl-13-60><a class=lnlinks href=#hl-13-60> 60</a>
</span><span class=lnt id=hl-13-61><a class=lnlinks href=#hl-13-61> 61</a>
</span><span class=lnt id=hl-13-62><a class=lnlinks href=#hl-13-62> 62</a>
</span><span class=lnt id=hl-13-63><a class=lnlinks href=#hl-13-63> 63</a>
</span><span class=lnt id=hl-13-64><a class=lnlinks href=#hl-13-64> 64</a>
</span><span class=lnt id=hl-13-65><a class=lnlinks href=#hl-13-65> 65</a>
</span><span class=lnt id=hl-13-66><a class=lnlinks href=#hl-13-66> 66</a>
</span><span class=lnt id=hl-13-67><a class=lnlinks href=#hl-13-67> 67</a>
</span><span class=lnt id=hl-13-68><a class=lnlinks href=#hl-13-68> 68</a>
</span><span class=lnt id=hl-13-69><a class=lnlinks href=#hl-13-69> 69</a>
</span><span class=lnt id=hl-13-70><a class=lnlinks href=#hl-13-70> 70</a>
</span><span class=lnt id=hl-13-71><a class=lnlinks href=#hl-13-71> 71</a>
</span><span class=lnt id=hl-13-72><a class=lnlinks href=#hl-13-72> 72</a>
</span><span class=lnt id=hl-13-73><a class=lnlinks href=#hl-13-73> 73</a>
</span><span class=lnt id=hl-13-74><a class=lnlinks href=#hl-13-74> 74</a>
</span><span class=lnt id=hl-13-75><a class=lnlinks href=#hl-13-75> 75</a>
</span><span class=lnt id=hl-13-76><a class=lnlinks href=#hl-13-76> 76</a>
</span><span class=lnt id=hl-13-77><a class=lnlinks href=#hl-13-77> 77</a>
</span><span class=lnt id=hl-13-78><a class=lnlinks href=#hl-13-78> 78</a>
</span><span class=lnt id=hl-13-79><a class=lnlinks href=#hl-13-79> 79</a>
</span><span class=lnt id=hl-13-80><a class=lnlinks href=#hl-13-80> 80</a>
</span><span class=lnt id=hl-13-81><a class=lnlinks href=#hl-13-81> 81</a>
</span><span class=lnt id=hl-13-82><a class=lnlinks href=#hl-13-82> 82</a>
</span><span class=lnt id=hl-13-83><a class=lnlinks href=#hl-13-83> 83</a>
</span><span class=lnt id=hl-13-84><a class=lnlinks href=#hl-13-84> 84</a>
</span><span class=lnt id=hl-13-85><a class=lnlinks href=#hl-13-85> 85</a>
</span><span class=lnt id=hl-13-86><a class=lnlinks href=#hl-13-86> 86</a>
</span><span class=lnt id=hl-13-87><a class=lnlinks href=#hl-13-87> 87</a>
</span><span class=lnt id=hl-13-88><a class=lnlinks href=#hl-13-88> 88</a>
</span><span class=lnt id=hl-13-89><a class=lnlinks href=#hl-13-89> 89</a>
</span><span class=lnt id=hl-13-90><a class=lnlinks href=#hl-13-90> 90</a>
</span><span class=lnt id=hl-13-91><a class=lnlinks href=#hl-13-91> 91</a>
</span><span class=lnt id=hl-13-92><a class=lnlinks href=#hl-13-92> 92</a>
</span><span class=lnt id=hl-13-93><a class=lnlinks href=#hl-13-93> 93</a>
</span><span class=lnt id=hl-13-94><a class=lnlinks href=#hl-13-94> 94</a>
</span><span class=lnt id=hl-13-95><a class=lnlinks href=#hl-13-95> 95</a>
</span><span class=lnt id=hl-13-96><a class=lnlinks href=#hl-13-96> 96</a>
</span><span class=lnt id=hl-13-97><a class=lnlinks href=#hl-13-97> 97</a>
</span><span class=lnt id=hl-13-98><a class=lnlinks href=#hl-13-98> 98</a>
</span><span class=lnt id=hl-13-99><a class=lnlinks href=#hl-13-99> 99</a>
</span><span class=lnt id=hl-13-100><a class=lnlinks href=#hl-13-100>100</a>
</span><span class=lnt id=hl-13-101><a class=lnlinks href=#hl-13-101>101</a>
</span><span class=lnt id=hl-13-102><a class=lnlinks href=#hl-13-102>102</a>
</span><span class=lnt id=hl-13-103><a class=lnlinks href=#hl-13-103>103</a>
</span><span class=lnt id=hl-13-104><a class=lnlinks href=#hl-13-104>104</a>
</span><span class=lnt id=hl-13-105><a class=lnlinks href=#hl-13-105>105</a>
</span><span class=lnt id=hl-13-106><a class=lnlinks href=#hl-13-106>106</a>
</span><span class=lnt id=hl-13-107><a class=lnlinks href=#hl-13-107>107</a>
</span><span class=lnt id=hl-13-108><a class=lnlinks href=#hl-13-108>108</a>
</span><span class=lnt id=hl-13-109><a class=lnlinks href=#hl-13-109>109</a>
</span><span class=lnt id=hl-13-110><a class=lnlinks href=#hl-13-110>110</a>
</span><span class=lnt id=hl-13-111><a class=lnlinks href=#hl-13-111>111</a>
</span><span class=lnt id=hl-13-112><a class=lnlinks href=#hl-13-112>112</a>
</span><span class=lnt id=hl-13-113><a class=lnlinks href=#hl-13-113>113</a>
</span><span class=lnt id=hl-13-114><a class=lnlinks href=#hl-13-114>114</a>
</span><span class=lnt id=hl-13-115><a class=lnlinks href=#hl-13-115>115</a>
</span><span class=lnt id=hl-13-116><a class=lnlinks href=#hl-13-116>116</a>
</span><span class=lnt id=hl-13-117><a class=lnlinks href=#hl-13-117>117</a>
</span><span class=lnt id=hl-13-118><a class=lnlinks href=#hl-13-118>118</a>
</span><span class=lnt id=hl-13-119><a class=lnlinks href=#hl-13-119>119</a>
</span><span class=lnt id=hl-13-120><a class=lnlinks href=#hl-13-120>120</a>
</span><span class=lnt id=hl-13-121><a class=lnlinks href=#hl-13-121>121</a>
</span><span class=lnt id=hl-13-122><a class=lnlinks href=#hl-13-122>122</a>
</span><span class=lnt id=hl-13-123><a class=lnlinks href=#hl-13-123>123</a>
</span><span class=lnt id=hl-13-124><a class=lnlinks href=#hl-13-124>124</a>
</span><span class=lnt id=hl-13-125><a class=lnlinks href=#hl-13-125>125</a>
</span><span class=lnt id=hl-13-126><a class=lnlinks href=#hl-13-126>126</a>
</span><span class=lnt id=hl-13-127><a class=lnlinks href=#hl-13-127>127</a>
</span><span class=lnt id=hl-13-128><a class=lnlinks href=#hl-13-128>128</a>
</span><span class=lnt id=hl-13-129><a class=lnlinks href=#hl-13-129>129</a>
</span><span class=lnt id=hl-13-130><a class=lnlinks href=#hl-13-130>130</a>
</span><span class=lnt id=hl-13-131><a class=lnlinks href=#hl-13-131>131</a>
</span><span class=lnt id=hl-13-132><a class=lnlinks href=#hl-13-132>132</a>
</span><span class=lnt id=hl-13-133><a class=lnlinks href=#hl-13-133>133</a>
</span><span class=lnt id=hl-13-134><a class=lnlinks href=#hl-13-134>134</a>
</span><span class=lnt id=hl-13-135><a class=lnlinks href=#hl-13-135>135</a>
</span><span class=lnt id=hl-13-136><a class=lnlinks href=#hl-13-136>136</a>
</span><span class=lnt id=hl-13-137><a class=lnlinks href=#hl-13-137>137</a>
</span><span class=lnt id=hl-13-138><a class=lnlinks href=#hl-13-138>138</a>
</span><span class=lnt id=hl-13-139><a class=lnlinks href=#hl-13-139>139</a>
</span><span class=lnt id=hl-13-140><a class=lnlinks href=#hl-13-140>140</a>
</span><span class=lnt id=hl-13-141><a class=lnlinks href=#hl-13-141>141</a>
</span><span class=lnt id=hl-13-142><a class=lnlinks href=#hl-13-142>142</a>
</span><span class=lnt id=hl-13-143><a class=lnlinks href=#hl-13-143>143</a>
</span><span class=lnt id=hl-13-144><a class=lnlinks href=#hl-13-144>144</a>
</span><span class=lnt id=hl-13-145><a class=lnlinks href=#hl-13-145>145</a>
</span><span class=lnt id=hl-13-146><a class=lnlinks href=#hl-13-146>146</a>
</span><span class=lnt id=hl-13-147><a class=lnlinks href=#hl-13-147>147</a>
</span><span class=lnt id=hl-13-148><a class=lnlinks href=#hl-13-148>148</a>
</span><span class=lnt id=hl-13-149><a class=lnlinks href=#hl-13-149>149</a>
</span><span class=lnt id=hl-13-150><a class=lnlinks href=#hl-13-150>150</a>
</span><span class=lnt id=hl-13-151><a class=lnlinks href=#hl-13-151>151</a>
</span><span class=lnt id=hl-13-152><a class=lnlinks href=#hl-13-152>152</a>
</span><span class=lnt id=hl-13-153><a class=lnlinks href=#hl-13-153>153</a>
</span><span class=lnt id=hl-13-154><a class=lnlinks href=#hl-13-154>154</a>
</span><span class=lnt id=hl-13-155><a class=lnlinks href=#hl-13-155>155</a>
</span><span class=lnt id=hl-13-156><a class=lnlinks href=#hl-13-156>156</a>
</span><span class=lnt id=hl-13-157><a class=lnlinks href=#hl-13-157>157</a>
</span><span class=lnt id=hl-13-158><a class=lnlinks href=#hl-13-158>158</a>
</span><span class=lnt id=hl-13-159><a class=lnlinks href=#hl-13-159>159</a>
</span><span class=lnt id=hl-13-160><a class=lnlinks href=#hl-13-160>160</a>
</span><span class=lnt id=hl-13-161><a class=lnlinks href=#hl-13-161>161</a>
</span><span class=lnt id=hl-13-162><a class=lnlinks href=#hl-13-162>162</a>
</span><span class=lnt id=hl-13-163><a class=lnlinks href=#hl-13-163>163</a>
</span><span class=lnt id=hl-13-164><a class=lnlinks href=#hl-13-164>164</a>
</span><span class=lnt id=hl-13-165><a class=lnlinks href=#hl-13-165>165</a>
</span><span class=lnt id=hl-13-166><a class=lnlinks href=#hl-13-166>166</a>
</span><span class=lnt id=hl-13-167><a class=lnlinks href=#hl-13-167>167</a>
</span><span class=lnt id=hl-13-168><a class=lnlinks href=#hl-13-168>168</a>
</span><span class=lnt id=hl-13-169><a class=lnlinks href=#hl-13-169>169</a>
</span><span class=lnt id=hl-13-170><a class=lnlinks href=#hl-13-170>170</a>
</span><span class=lnt id=hl-13-171><a class=lnlinks href=#hl-13-171>171</a>
</span><span class=lnt id=hl-13-172><a class=lnlinks href=#hl-13-172>172</a>
</span><span class=lnt id=hl-13-173><a class=lnlinks href=#hl-13-173>173</a>
</span><span class=lnt id=hl-13-174><a class=lnlinks href=#hl-13-174>174</a>
</span><span class=lnt id=hl-13-175><a class=lnlinks href=#hl-13-175>175</a>
</span><span class=lnt id=hl-13-176><a class=lnlinks href=#hl-13-176>176</a>
</span><span class=lnt id=hl-13-177><a class=lnlinks href=#hl-13-177>177</a>
</span><span class=lnt id=hl-13-178><a class=lnlinks href=#hl-13-178>178</a>
</span><span class=lnt id=hl-13-179><a class=lnlinks href=#hl-13-179>179</a>
</span><span class=lnt id=hl-13-180><a class=lnlinks href=#hl-13-180>180</a>
</span><span class=lnt id=hl-13-181><a class=lnlinks href=#hl-13-181>181</a>
</span><span class=lnt id=hl-13-182><a class=lnlinks href=#hl-13-182>182</a>
</span><span class=lnt id=hl-13-183><a class=lnlinks href=#hl-13-183>183</a>
</span><span class=lnt id=hl-13-184><a class=lnlinks href=#hl-13-184>184</a>
</span><span class=lnt id=hl-13-185><a class=lnlinks href=#hl-13-185>185</a>
</span><span class=lnt id=hl-13-186><a class=lnlinks href=#hl-13-186>186</a>
</span><span class=lnt id=hl-13-187><a class=lnlinks href=#hl-13-187>187</a>
</span><span class=lnt id=hl-13-188><a class=lnlinks href=#hl-13-188>188</a>
</span><span class=lnt id=hl-13-189><a class=lnlinks href=#hl-13-189>189</a>
</span><span class=lnt id=hl-13-190><a class=lnlinks href=#hl-13-190>190</a>
</span><span class=lnt id=hl-13-191><a class=lnlinks href=#hl-13-191>191</a>
</span><span class=lnt id=hl-13-192><a class=lnlinks href=#hl-13-192>192</a>
</span><span class=lnt id=hl-13-193><a class=lnlinks href=#hl-13-193>193</a>
</span><span class=lnt id=hl-13-194><a class=lnlinks href=#hl-13-194>194</a>
</span><span class=lnt id=hl-13-195><a class=lnlinks href=#hl-13-195>195</a>
</span><span class=lnt id=hl-13-196><a class=lnlinks href=#hl-13-196>196</a>
</span><span class=lnt id=hl-13-197><a class=lnlinks href=#hl-13-197>197</a>
</span><span class=lnt id=hl-13-198><a class=lnlinks href=#hl-13-198>198</a>
</span><span class=lnt id=hl-13-199><a class=lnlinks href=#hl-13-199>199</a>
</span><span class=lnt id=hl-13-200><a class=lnlinks href=#hl-13-200>200</a>
</span><span class=lnt id=hl-13-201><a class=lnlinks href=#hl-13-201>201</a>
</span><span class=lnt id=hl-13-202><a class=lnlinks href=#hl-13-202>202</a>
</span><span class=lnt id=hl-13-203><a class=lnlinks href=#hl-13-203>203</a>
</span><span class=lnt id=hl-13-204><a class=lnlinks href=#hl-13-204>204</a>
</span><span class=lnt id=hl-13-205><a class=lnlinks href=#hl-13-205>205</a>
</span><span class=lnt id=hl-13-206><a class=lnlinks href=#hl-13-206>206</a>
</span><span class=lnt id=hl-13-207><a class=lnlinks href=#hl-13-207>207</a>
</span><span class=lnt id=hl-13-208><a class=lnlinks href=#hl-13-208>208</a>
</span><span class=lnt id=hl-13-209><a class=lnlinks href=#hl-13-209>209</a>
</span><span class=lnt id=hl-13-210><a class=lnlinks href=#hl-13-210>210</a>
</span><span class=lnt id=hl-13-211><a class=lnlinks href=#hl-13-211>211</a>
</span><span class=lnt id=hl-13-212><a class=lnlinks href=#hl-13-212>212</a>
</span><span class=lnt id=hl-13-213><a class=lnlinks href=#hl-13-213>213</a>
</span><span class=lnt id=hl-13-214><a class=lnlinks href=#hl-13-214>214</a>
</span><span class=lnt id=hl-13-215><a class=lnlinks href=#hl-13-215>215</a>
</span><span class=lnt id=hl-13-216><a class=lnlinks href=#hl-13-216>216</a>
</span><span class=lnt id=hl-13-217><a class=lnlinks href=#hl-13-217>217</a>
</span><span class=lnt id=hl-13-218><a class=lnlinks href=#hl-13-218>218</a>
</span><span class=lnt id=hl-13-219><a class=lnlinks href=#hl-13-219>219</a>
</span><span class=lnt id=hl-13-220><a class=lnlinks href=#hl-13-220>220</a>
</span><span class=lnt id=hl-13-221><a class=lnlinks href=#hl-13-221>221</a>
</span><span class=lnt id=hl-13-222><a class=lnlinks href=#hl-13-222>222</a>
</span><span class=lnt id=hl-13-223><a class=lnlinks href=#hl-13-223>223</a>
</span><span class=lnt id=hl-13-224><a class=lnlinks href=#hl-13-224>224</a>
</span><span class=lnt id=hl-13-225><a class=lnlinks href=#hl-13-225>225</a>
</span><span class=lnt id=hl-13-226><a class=lnlinks href=#hl-13-226>226</a>
</span><span class=lnt id=hl-13-227><a class=lnlinks href=#hl-13-227>227</a>
</span><span class=lnt id=hl-13-228><a class=lnlinks href=#hl-13-228>228</a>
</span><span class=lnt id=hl-13-229><a class=lnlinks href=#hl-13-229>229</a>
</span><span class=lnt id=hl-13-230><a class=lnlinks href=#hl-13-230>230</a>
</span><span class=lnt id=hl-13-231><a class=lnlinks href=#hl-13-231>231</a>
</span><span class=lnt id=hl-13-232><a class=lnlinks href=#hl-13-232>232</a>
</span><span class=lnt id=hl-13-233><a class=lnlinks href=#hl-13-233>233</a>
</span><span class=lnt id=hl-13-234><a class=lnlinks href=#hl-13-234>234</a>
</span><span class=lnt id=hl-13-235><a class=lnlinks href=#hl-13-235>235</a>
</span><span class=lnt id=hl-13-236><a class=lnlinks href=#hl-13-236>236</a>
</span><span class=lnt id=hl-13-237><a class=lnlinks href=#hl-13-237>237</a>
</span><span class=lnt id=hl-13-238><a class=lnlinks href=#hl-13-238>238</a>
</span><span class=lnt id=hl-13-239><a class=lnlinks href=#hl-13-239>239</a>
</span><span class=lnt id=hl-13-240><a class=lnlinks href=#hl-13-240>240</a>
</span><span class=lnt id=hl-13-241><a class=lnlinks href=#hl-13-241>241</a>
</span><span class=lnt id=hl-13-242><a class=lnlinks href=#hl-13-242>242</a>
</span><span class=lnt id=hl-13-243><a class=lnlinks href=#hl-13-243>243</a>
</span><span class=lnt id=hl-13-244><a class=lnlinks href=#hl-13-244>244</a>
</span><span class=lnt id=hl-13-245><a class=lnlinks href=#hl-13-245>245</a>
</span><span class=lnt id=hl-13-246><a class=lnlinks href=#hl-13-246>246</a>
</span><span class=lnt id=hl-13-247><a class=lnlinks href=#hl-13-247>247</a>
</span><span class=lnt id=hl-13-248><a class=lnlinks href=#hl-13-248>248</a>
</span><span class=lnt id=hl-13-249><a class=lnlinks href=#hl-13-249>249</a>
</span><span class=lnt id=hl-13-250><a class=lnlinks href=#hl-13-250>250</a>
</span><span class=lnt id=hl-13-251><a class=lnlinks href=#hl-13-251>251</a>
</span><span class=lnt id=hl-13-252><a class=lnlinks href=#hl-13-252>252</a>
</span><span class=lnt id=hl-13-253><a class=lnlinks href=#hl-13-253>253</a>
</span><span class=lnt id=hl-13-254><a class=lnlinks href=#hl-13-254>254</a>
</span><span class=lnt id=hl-13-255><a class=lnlinks href=#hl-13-255>255</a>
</span><span class=lnt id=hl-13-256><a class=lnlinks href=#hl-13-256>256</a>
</span><span class=lnt id=hl-13-257><a class=lnlinks href=#hl-13-257>257</a>
</span><span class=lnt id=hl-13-258><a class=lnlinks href=#hl-13-258>258</a>
</span><span class=lnt id=hl-13-259><a class=lnlinks href=#hl-13-259>259</a>
</span><span class=lnt id=hl-13-260><a class=lnlinks href=#hl-13-260>260</a>
</span><span class=lnt id=hl-13-261><a class=lnlinks href=#hl-13-261>261</a>
</span><span class=lnt id=hl-13-262><a class=lnlinks href=#hl-13-262>262</a>
</span><span class=lnt id=hl-13-263><a class=lnlinks href=#hl-13-263>263</a>
</span><span class=lnt id=hl-13-264><a class=lnlinks href=#hl-13-264>264</a>
</span><span class=lnt id=hl-13-265><a class=lnlinks href=#hl-13-265>265</a>
</span><span class=lnt id=hl-13-266><a class=lnlinks href=#hl-13-266>266</a>
</span><span class=lnt id=hl-13-267><a class=lnlinks href=#hl-13-267>267</a>
</span><span class=lnt id=hl-13-268><a class=lnlinks href=#hl-13-268>268</a>
</span><span class=lnt id=hl-13-269><a class=lnlinks href=#hl-13-269>269</a>
</span><span class=lnt id=hl-13-270><a class=lnlinks href=#hl-13-270>270</a>
</span><span class=lnt id=hl-13-271><a class=lnlinks href=#hl-13-271>271</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>logging</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>enum</span> <span class=kn>import</span> <span class=n>Enum</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Optional</span><span class=p>,</span> <span class=n>Dict</span><span class=p>,</span> <span class=n>Any</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>dataclasses</span> <span class=kn>import</span> <span class=n>dataclass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ê²°ì œ ìƒíƒœ ì •ì˜</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PaymentStatus</span><span class=p>(</span><span class=n>Enum</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>PENDING</span> <span class=o>=</span> <span class=s2>&#34;pending&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>VALIDATED</span> <span class=o>=</span> <span class=s2>&#34;validated&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>PROCESSING</span> <span class=o>=</span> <span class=s2>&#34;processing&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>COMPLETED</span> <span class=o>=</span> <span class=s2>&#34;completed&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>FAILED</span> <span class=o>=</span> <span class=s2>&#34;failed&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ì‚¬ìš©ì ì •ì˜ ì˜ˆì™¸</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PaymentValidationError</span><span class=p>(</span><span class=ne>Exception</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;ê²°ì œ ê²€ì¦ ì‹¤íŒ¨ ì˜ˆì™¸&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PaymentProcessingError</span><span class=p>(</span><span class=ne>Exception</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;ê²°ì œ ì²˜ë¦¬ ì‹¤íŒ¨ ì˜ˆì™¸&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ExternalServiceError</span><span class=p>(</span><span class=ne>Exception</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;ì™¸ë¶€ ì„œë¹„ìŠ¤ ì˜¤ë¥˜ ì˜ˆì™¸&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ê²°ì œ ìš”ì²­ ë°ì´í„° ëª¨ë¸</span>
</span></span><span class=line><span class=cl><span class=nd>@dataclass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PaymentRequest</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>user_id</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>amount</span><span class=p>:</span> <span class=nb>float</span>
</span></span><span class=line><span class=cl>    <span class=n>card_number</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>cvv</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>expiry_date</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>currency</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&#34;USD&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ê²°ì œ ì‘ë‹µ ë°ì´í„° ëª¨ë¸</span>
</span></span><span class=line><span class=cl><span class=nd>@dataclass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PaymentResponse</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>transaction_id</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>status</span><span class=p>:</span> <span class=n>PaymentStatus</span>
</span></span><span class=line><span class=cl>    <span class=n>amount</span><span class=p>:</span> <span class=nb>float</span>
</span></span><span class=line><span class=cl>    <span class=n>message</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>timestamp</span><span class=p>:</span> <span class=nb>float</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PaymentService</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Fail Fast Patternì„ ì ìš©í•œ ê²°ì œ ì„œë¹„ìŠ¤&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>max_amount</span> <span class=o>=</span> <span class=mf>10000.0</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>timeout_seconds</span> <span class=o>=</span> <span class=mf>5.0</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>process_payment</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>:</span> <span class=n>PaymentRequest</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>PaymentResponse</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        ê²°ì œ ì²˜ë¦¬ ë©”ì¸ ë©”ì†Œë“œ - Fail Fast Pattern ì ìš©
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>transaction_id</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_generate_transaction_id</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># 1ë‹¨ê³„: ì¦‰ì‹œ ì…ë ¥ ê²€ì¦ (Fail Fast)</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_validate_input_immediately</span><span class=p>(</span><span class=n>request</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 2ë‹¨ê³„: ì „ì œ ì¡°ê±´ í™•ì¸ (Fail Fast)</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_check_preconditions</span><span class=p>(</span><span class=n>request</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 3ë‹¨ê³„: ì™¸ë¶€ ì„œë¹„ìŠ¤ ê°€ìš©ì„± ê²€ì¦ (Fail Fast)</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_verify_external_services</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 4ë‹¨ê³„: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‹¤í–‰</span>
</span></span><span class=line><span class=cl>            <span class=n>result</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_execute_payment_logic</span><span class=p>(</span><span class=n>request</span><span class=p>,</span> <span class=n>transaction_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Payment processed successfully: </span><span class=si>{</span><span class=n>transaction_id</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>        <span class=k>except</span> <span class=p>(</span><span class=n>PaymentValidationError</span><span class=p>,</span> <span class=n>PaymentProcessingError</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                <span class=n>ExternalServiceError</span><span class=p>)</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># Fail Fast - ì¦‰ì‹œ ì‹¤íŒ¨ ì‘ë‹µ ë°˜í™˜</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Payment failed immediately: </span><span class=si>{</span><span class=n>transaction_id</span><span class=si>}</span><span class=s2>, Error: </span><span class=si>{</span><span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>PaymentResponse</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=n>transaction_id</span><span class=o>=</span><span class=n>transaction_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>status</span><span class=o>=</span><span class=n>PaymentStatus</span><span class=o>.</span><span class=n>FAILED</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>amount</span><span class=o>=</span><span class=n>request</span><span class=o>.</span><span class=n>amount</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>message</span><span class=o>=</span><span class=sa>f</span><span class=s2>&#34;Payment failed: </span><span class=si>{</span><span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>timestamp</span><span class=o>=</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_validate_input_immediately</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>:</span> <span class=n>PaymentRequest</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        ì…ë ¥ ë§¤ê°œë³€ìˆ˜ ì¦‰ì‹œ ê²€ì¦ - Guard Clauses íŒ¨í„´ ì ìš©
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># Guard Clause 1: ì‚¬ìš©ì ID ê²€ì¦</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>request</span><span class=o>.</span><span class=n>user_id</span> <span class=ow>or</span> <span class=ow>not</span> <span class=n>request</span><span class=o>.</span><span class=n>user_id</span><span class=o>.</span><span class=n>strip</span><span class=p>():</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=n>PaymentValidationError</span><span class=p>(</span><span class=s2>&#34;User ID cannot be empty&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># Guard Clause 2: ê¸ˆì•¡ ê²€ì¦</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>request</span><span class=o>.</span><span class=n>amount</span> <span class=o>&lt;=</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=n>PaymentValidationError</span><span class=p>(</span><span class=s2>&#34;Payment amount must be positive&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>request</span><span class=o>.</span><span class=n>amount</span> <span class=o>&gt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>max_amount</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=n>PaymentValidationError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Payment amount exceeds maximum limit: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>max_amount</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># Guard Clause 3: ì¹´ë“œ ë²ˆí˜¸ ê²€ì¦</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>request</span><span class=o>.</span><span class=n>card_number</span> <span class=ow>or</span> <span class=nb>len</span><span class=p>(</span><span class=n>request</span><span class=o>.</span><span class=n>card_number</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&#34; &#34;</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>))</span> <span class=o>!=</span> <span class=mi>16</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=n>PaymentValidationError</span><span class=p>(</span><span class=s2>&#34;Invalid card number format&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># Guard Clause 4: CVV ê²€ì¦</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>request</span><span class=o>.</span><span class=n>cvv</span> <span class=ow>or</span> <span class=nb>len</span><span class=p>(</span><span class=n>request</span><span class=o>.</span><span class=n>cvv</span><span class=p>)</span> <span class=ow>not</span> <span class=ow>in</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=n>PaymentValidationError</span><span class=p>(</span><span class=s2>&#34;Invalid CVV format&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># Guard Clause 5: í†µí™” ê²€ì¦</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>request</span><span class=o>.</span><span class=n>currency</span> <span class=ow>not</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>&#34;USD&#34;</span><span class=p>,</span> <span class=s2>&#34;EUR&#34;</span><span class=p>,</span> <span class=s2>&#34;KRW&#34;</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=n>PaymentValidationError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Unsupported currency: </span><span class=si>{</span><span class=n>request</span><span class=o>.</span><span class=n>currency</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_check_preconditions</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>:</span> <span class=n>PaymentRequest</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        ì „ì œ ì¡°ê±´ í™•ì¸ - Precondition Validation íŒ¨í„´ ì ìš©
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># ì‚¬ìš©ì ì¡´ì¬ ì—¬ë¶€ í™•ì¸</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_user_exists</span><span class=p>(</span><span class=n>request</span><span class=o>.</span><span class=n>user_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=n>PaymentValidationError</span><span class=p>(</span><span class=s2>&#34;User does not exist&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># ì‚¬ìš©ì ê³„ì • ìƒíƒœ í™•ì¸</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_is_user_active</span><span class=p>(</span><span class=n>request</span><span class=o>.</span><span class=n>user_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=n>PaymentValidationError</span><span class=p>(</span><span class=s2>&#34;User account is not active&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># ì¹´ë“œ ìœ íš¨ì„± í™•ì¸</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_is_card_valid</span><span class=p>(</span><span class=n>request</span><span class=o>.</span><span class=n>card_number</span><span class=p>,</span> <span class=n>request</span><span class=o>.</span><span class=n>expiry_date</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=n>PaymentValidationError</span><span class=p>(</span><span class=s2>&#34;Card is invalid or expired&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># ì¼ì¼ ê²°ì œ í•œë„ í™•ì¸</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_check_daily_limit</span><span class=p>(</span><span class=n>request</span><span class=o>.</span><span class=n>user_id</span><span class=p>,</span> <span class=n>request</span><span class=o>.</span><span class=n>amount</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=n>PaymentValidationError</span><span class=p>(</span><span class=s2>&#34;Daily payment limit exceeded&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_verify_external_services</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        ì™¸ë¶€ ì„œë¹„ìŠ¤ ê°€ìš©ì„± ê²€ì¦ - Fast Timeout íŒ¨í„´ ì ìš©
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># ì€í–‰ API ì—°ê²° í™•ì¸</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_check_bank_api_health</span><span class=p>():</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=n>ExternalServiceError</span><span class=p>(</span><span class=s2>&#34;Bank API is unavailable&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># ì‚¬ê¸° íƒì§€ ì„œë¹„ìŠ¤ í™•ì¸</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_check_fraud_detection_service</span><span class=p>():</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=n>ExternalServiceError</span><span class=p>(</span><span class=s2>&#34;Fraud detection service is unavailable&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># ê²°ì œ ê²Œì´íŠ¸ì›¨ì´ í™•ì¸</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_check_payment_gateway</span><span class=p>():</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=n>ExternalServiceError</span><span class=p>(</span><span class=s2>&#34;Payment gateway is unavailable&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_execute_payment_logic</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>:</span> <span class=n>PaymentRequest</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                              <span class=n>transaction_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>PaymentResponse</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        ì‹¤ì œ ê²°ì œ ë¡œì§ ì‹¤í–‰
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># ì‚¬ê¸° íƒì§€ í™•ì¸</span>
</span></span><span class=line><span class=cl>            <span class=n>fraud_result</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_check_fraud_detection</span><span class=p>(</span><span class=n>request</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>fraud_result</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;is_suspicious&#34;</span><span class=p>,</span> <span class=kc>False</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=k>raise</span> <span class=n>PaymentProcessingError</span><span class=p>(</span><span class=s2>&#34;Transaction flagged as suspicious&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># ì€í–‰ ìŠ¹ì¸ ìš”ì²­</span>
</span></span><span class=line><span class=cl>            <span class=n>bank_response</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_request_bank_authorization</span><span class=p>(</span><span class=n>request</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=n>bank_response</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;approved&#34;</span><span class=p>,</span> <span class=kc>False</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=k>raise</span> <span class=n>PaymentProcessingError</span><span class=p>(</span><span class=s2>&#34;Bank authorization declined&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># ê²°ì œ ì™„ë£Œ ì²˜ë¦¬</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_finalize_payment</span><span class=p>(</span><span class=n>transaction_id</span><span class=p>,</span> <span class=n>request</span><span class=p>,</span> <span class=n>bank_response</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>PaymentResponse</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=n>transaction_id</span><span class=o>=</span><span class=n>transaction_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>status</span><span class=o>=</span><span class=n>PaymentStatus</span><span class=o>.</span><span class=n>COMPLETED</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>amount</span><span class=o>=</span><span class=n>request</span><span class=o>.</span><span class=n>amount</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>message</span><span class=o>=</span><span class=s2>&#34;Payment completed successfully&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>timestamp</span><span class=o>=</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‹¤í–‰ ì¤‘ ì˜¤ë¥˜ ë°œìƒ ì‹œ ì¦‰ì‹œ ì‹¤íŒ¨</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=n>PaymentProcessingError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Payment processing failed: </span><span class=si>{</span><span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># í—¬í¼ ë©”ì†Œë“œë“¤ (ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ì™¸ë¶€ ì„œë¹„ìŠ¤ í˜¸ì¶œ)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_generate_transaction_id</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;TXN_</span><span class=si>{</span><span class=nb>int</span><span class=p>(</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>*</span> <span class=mi>1000</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_user_exists</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># ì‹¤ì œë¡œëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒ</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=n>user_id</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_is_user_active</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># ì‹¤ì œë¡œëŠ” ì‚¬ìš©ì ìƒíƒœ í™•ì¸</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_is_card_valid</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>card_number</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>expiry_date</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># ì‹¤ì œë¡œëŠ” ì¹´ë“œ ê²€ì¦ ë¡œì§</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=n>card_number</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&#34; &#34;</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>))</span> <span class=o>==</span> <span class=mi>16</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_check_daily_limit</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>amount</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># ì‹¤ì œë¡œëŠ” ì¼ì¼ í•œë„ í™•ì¸</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>amount</span> <span class=o>&lt;=</span> <span class=mf>5000.0</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_check_bank_api_health</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># ì‹¤ì œë¡œëŠ” ì€í–‰ API í—¬ìŠ¤ì²´í¬</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># íƒ€ì„ì•„ì›ƒì„ ì§§ê²Œ ì„¤ì •í•˜ì—¬ ë¹ ë¥¸ ì‹¤íŒ¨ êµ¬í˜„</span>
</span></span><span class=line><span class=cl>            <span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=c1># simulate API call</span>
</span></span><span class=line><span class=cl>            <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>  <span class=c1># ì‹œë®¬ë ˆì´ì…˜</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=p>(</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start_time</span><span class=p>)</span> <span class=o>&lt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>timeout_seconds</span>
</span></span><span class=line><span class=cl>        <span class=k>except</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_check_fraud_detection_service</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># ì‹¤ì œë¡œëŠ” ì‚¬ê¸° íƒì§€ ì„œë¹„ìŠ¤ í™•ì¸</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_check_payment_gateway</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># ì‹¤ì œë¡œëŠ” ê²°ì œ ê²Œì´íŠ¸ì›¨ì´ ìƒíƒœ í™•ì¸</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_check_fraud_detection</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>:</span> <span class=n>PaymentRequest</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=c1># ì‹¤ì œë¡œëŠ” ì‚¬ê¸° íƒì§€ API í˜¸ì¶œ</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;is_suspicious&#34;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span> <span class=s2>&#34;risk_score&#34;</span><span class=p>:</span> <span class=mf>0.1</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_request_bank_authorization</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>:</span> <span class=n>PaymentRequest</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=c1># ì‹¤ì œë¡œëŠ” ì€í–‰ ìŠ¹ì¸ API í˜¸ì¶œ</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;approved&#34;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&#34;authorization_code&#34;</span><span class=p>:</span> <span class=s2>&#34;AUTH123&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_finalize_payment</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>transaction_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>request</span><span class=p>:</span> <span class=n>PaymentRequest</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                         <span class=n>bank_response</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># ì‹¤ì œë¡œëŠ” ê²°ì œ ì™„ë£Œ ì²˜ë¦¬ (ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥ ë“±)</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ì‚¬ìš© ì˜ˆì‹œ</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;ê²°ì œ ì„œë¹„ìŠ¤ ì‚¬ìš© ì˜ˆì‹œ&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>logging</span><span class=o>.</span><span class=n>basicConfig</span><span class=p>(</span><span class=n>level</span><span class=o>=</span><span class=n>logging</span><span class=o>.</span><span class=n>INFO</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>payment_service</span> <span class=o>=</span> <span class=n>PaymentService</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># ì •ìƒì ì¸ ê²°ì œ ìš”ì²­</span>
</span></span><span class=line><span class=cl>    <span class=n>valid_request</span> <span class=o>=</span> <span class=n>PaymentRequest</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>user_id</span><span class=o>=</span><span class=s2>&#34;user123&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>amount</span><span class=o>=</span><span class=mf>100.50</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>card_number</span><span class=o>=</span><span class=s2>&#34;1234 5678 9012 3456&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>cvv</span><span class=o>=</span><span class=s2>&#34;123&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>expiry_date</span><span class=o>=</span><span class=s2>&#34;12/25&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>currency</span><span class=o>=</span><span class=s2>&#34;USD&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># ì˜ëª»ëœ ê²°ì œ ìš”ì²­ (Fail Fast í…ŒìŠ¤íŠ¸)</span>
</span></span><span class=line><span class=cl>    <span class=n>invalid_request</span> <span class=o>=</span> <span class=n>PaymentRequest</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>user_id</span><span class=o>=</span><span class=s2>&#34;&#34;</span><span class=p>,</span>  <span class=c1># ë¹ˆ ì‚¬ìš©ì ID - ì¦‰ì‹œ ì‹¤íŒ¨í•´ì•¼ í•¨</span>
</span></span><span class=line><span class=cl>        <span class=n>amount</span><span class=o>=</span><span class=mf>100.50</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>card_number</span><span class=o>=</span><span class=s2>&#34;1234 5678 9012 3456&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>cvv</span><span class=o>=</span><span class=s2>&#34;123&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>expiry_date</span><span class=o>=</span><span class=s2>&#34;12/25&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>currency</span><span class=o>=</span><span class=s2>&#34;USD&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;=== ì •ìƒ ê²°ì œ ìš”ì²­ í…ŒìŠ¤íŠ¸ ===&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>result1</span> <span class=o>=</span> <span class=n>payment_service</span><span class=o>.</span><span class=n>process_payment</span><span class=p>(</span><span class=n>valid_request</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;ê²°ê³¼: </span><span class=si>{</span><span class=n>result1</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>=== ì˜ëª»ëœ ìš”ì²­ í…ŒìŠ¤íŠ¸ (Fail Fast) ===&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>result2</span> <span class=o>=</span> <span class=n>payment_service</span><span class=o>.</span><span class=n>process_payment</span><span class=p>(</span><span class=n>invalid_request</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;ê²°ê³¼: </span><span class=si>{</span><span class=n>result2</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=616-ì‹¤ë¬´ì—ì„œ-íš¨ê³¼ì ìœ¼ë¡œ-ì ìš©í•˜ê¸°-ìœ„í•œ-ê³ ë ¤ì‚¬í•­-ë°-ì£¼ì˜í• -ì >6.16 ì‹¤ë¬´ì—ì„œ íš¨ê³¼ì ìœ¼ë¡œ ì ìš©í•˜ê¸° ìœ„í•œ ê³ ë ¤ì‚¬í•­ ë° ì£¼ì˜í•  ì <a hidden class=anchor aria-hidden=true href=#616-ì‹¤ë¬´ì—ì„œ-íš¨ê³¼ì ìœ¼ë¡œ-ì ìš©í•˜ê¸°-ìœ„í•œ-ê³ ë ¤ì‚¬í•­-ë°-ì£¼ì˜í• -ì >#</a></h4><table><thead><tr><th>êµ¬ë¶„</th><th>ê³ ë ¤ì‚¬í•­</th><th>ì„¤ëª…</th><th>ê¶Œì¥ì‚¬í•­</th></tr></thead><tbody><tr><td>ì„¤ê³„</td><td>ê²€ì¦ ë²”ìœ„ ì •ì˜</td><td>ëª¨ë“  ì…ë ¥ì— ëŒ€í•´ ê²€ì¦í•˜ë©´ ì„±ëŠ¥ ì €í•˜</td><td>ì‹ ë¢°í•  ìˆ˜ ì—†ëŠ” ê²½ê³„ì—ì„œë§Œ ê²€ì¦ ìˆ˜í–‰</td></tr><tr><td></td><td>ì˜ˆì™¸ ê³„ì¸µ êµ¬ì¡°</td><td>ì¼ê´€ì„± ì—†ëŠ” ì˜ˆì™¸ ì²˜ë¦¬</td><td>ë„ë©”ì¸ë³„ ì˜ˆì™¸ í´ë˜ìŠ¤ ì²´ê³„ êµ¬ì¶•</td></tr><tr><td></td><td>ë³µêµ¬ ì „ëµ ìˆ˜ë¦½</td><td>ì‹¤íŒ¨ í›„ ì ì ˆí•œ ë³µêµ¬ ë°©ì•ˆ ë¶€ì¬</td><td>ë³´ìƒ íŠ¸ëœì­ì…˜ê³¼ ì¬ì‹œë„ ì •ì±… ì •ì˜</td></tr><tr><td>êµ¬í˜„</td><td>ì„±ëŠ¥ ìµœì í™”</td><td>ê³¼ë„í•œ ê²€ì¦ìœ¼ë¡œ ì¸í•œ ì§€ì—°</td><td>ìºì‹±ê³¼ ë°°ì¹˜ ê²€ì¦ í™œìš©</td></tr><tr><td></td><td>ë¡œê¹… ì „ëµ</td><td>ê³¼ë„í•˜ê±°ë‚˜ ë¶€ì¡±í•œ ë¡œê·¸ ì •ë³´</td><td>êµ¬ì¡°í™”ëœ ë¡œê¹…ê³¼ ì ì ˆí•œ ë¡œê·¸ ë ˆë²¨</td></tr><tr><td></td><td>í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€</td><td>ëª¨ë“  ì‹¤íŒ¨ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸ ì–´ë ¤ì›€</td><td>ê²½ê³„ê°’ í…ŒìŠ¤íŠ¸ì™€ ì˜¤ë¥˜ ì£¼ì… í…ŒìŠ¤íŠ¸</td></tr><tr><td>ìš´ì˜</td><td>ëª¨ë‹ˆí„°ë§ ì„¤ì •</td><td>ì‹¤íŒ¨ íŒ¨í„´ ê°ì§€ ì–´ë ¤ì›€</td><td>ì‹¤ì‹œê°„ ì•Œë¦¼ê³¼ ëŒ€ì‹œë³´ë“œ êµ¬ì„±</td></tr><tr><td></td><td>ë¬¸ì„œí™”</td><td>ì‹¤íŒ¨ ì¡°ê±´ê³¼ ë³µêµ¬ ë°©ë²• ë¬¸ì„œ ë¶€ì¡±</td><td>ëŸ°ë¶ê³¼ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ ì‘ì„±</td></tr></tbody></table><h4 id=617-ìµœì í™”í•˜ê¸°-ìœ„í•œ-ê³ ë ¤ì‚¬í•­-ë°-ì£¼ì˜í• -ì >6.17 ìµœì í™”í•˜ê¸° ìœ„í•œ ê³ ë ¤ì‚¬í•­ ë° ì£¼ì˜í•  ì <a hidden class=anchor aria-hidden=true href=#617-ìµœì í™”í•˜ê¸°-ìœ„í•œ-ê³ ë ¤ì‚¬í•­-ë°-ì£¼ì˜í• -ì >#</a></h4><table><thead><tr><th>êµ¬ë¶„</th><th>ìµœì í™” í¬ì¸íŠ¸</th><th>ì„¤ëª…</th><th>ê¶Œì¥ì‚¬í•­</th></tr></thead><tbody><tr><td>ì„±ëŠ¥</td><td>ê²€ì¦ ìºì‹±</td><td>ë°˜ë³µì ì¸ ê²€ì¦ ì—°ì‚° ìµœì í™”</td><td>Redis ë“±ì„ í™œìš©í•œ ê²€ì¦ ê²°ê³¼ ìºì‹±</td></tr><tr><td></td><td>ë¹„ë™ê¸° ì²˜ë¦¬</td><td>ë™ê¸°ì  ê²€ì¦ìœ¼ë¡œ ì¸í•œ ì§€ì—°</td><td>ë…¼ë¸”ë¡œí‚¹ I/O ì™€ ë¹„ë™ê¸° ê²€ì¦ ì ìš©</td></tr><tr><td></td><td>ë°°ì¹˜ ê²€ì¦</td><td>ê°œë³„ ê²€ì¦ìœ¼ë¡œ ì¸í•œ ì˜¤ë²„í—¤ë“œ</td><td>ì—¬ëŸ¬ ì¡°ê±´ì„ í•œ ë²ˆì— ê²€ì¦</td></tr><tr><td>í™•ì¥ì„±</td><td>ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì ìš©</td><td>ì„œë¹„ìŠ¤ë³„ ë…ë¦½ì ì¸ ì‹¤íŒ¨ ì •ì±…</td><td>ì„œë¹„ìŠ¤ ë©”ì‹œì™€ ì‚¬ì´ë“œì¹´ íŒ¨í„´ í™œìš©</td></tr><tr><td></td><td>í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ</td><td>ì»¨í…Œì´ë„ˆ í™˜ê²½ì—ì„œì˜ ìµœì í™”</td><td>Kubernetes ë¦¬ì†ŒìŠ¤ ì œí•œê³¼ ì—°ê³„</td></tr><tr><td>ì‹ ë¢°ì„±</td><td>ê´€ì°° ê°€ëŠ¥ì„±</td><td>ì‹¤íŒ¨ ì›ì¸ê³¼ íŒ¨í„´ ë¶„ì„</td><td>ë¶„ì‚° ì¶”ì ê³¼ ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ê°•í™”</td></tr><tr><td></td><td>ìë™ ë³µêµ¬</td><td>ìˆ˜ë™ ê°œì… ì—†ëŠ” ë³µêµ¬ ë©”ì»¤ë‹ˆì¦˜</td><td>ìê°€ ì¹˜ìœ  ì‹œìŠ¤í…œê³¼ ìë™ ìŠ¤ì¼€ì¼ë§</td></tr></tbody></table><hr><h3 id=7-ì£¼ì œì™€-ê´€ë ¨í•˜ì—¬-ì£¼ëª©í• -ë‚´ìš©>7. ì£¼ì œì™€ ê´€ë ¨í•˜ì—¬ ì£¼ëª©í•  ë‚´ìš©<a hidden class=anchor aria-hidden=true href=#7-ì£¼ì œì™€-ê´€ë ¨í•˜ì—¬-ì£¼ëª©í• -ë‚´ìš©>#</a></h3><table><thead><tr><th>ì¹´í…Œê³ ë¦¬</th><th>ì£¼ì œ</th><th>í•­ëª©</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>ì„¤ê³„ íŒ¨í„´</td><td>ì—°ê´€ íŒ¨í„´</td><td>Circuit Breaker</td><td>ì™¸ë¶€ ì˜ì¡´ì„± ì‹¤íŒ¨ ì‹œ ë¹ ë¥¸ ì°¨ë‹¨ìœ¼ë¡œ ì—°ì‡„ ì¥ì•  ë°©ì§€</td></tr><tr><td></td><td></td><td>Bulkhead</td><td>ì¥ì•  ê²©ë¦¬ë¥¼ í†µí•œ ì‹œìŠ¤í…œ ë³µì›ë ¥ ê°•í™”</td></tr><tr><td></td><td></td><td>Timeout Pattern</td><td>ì‘ë‹µ ì§€ì—° ì‹œ ë¹ ë¥¸ ì‹¤íŒ¨ë¡œ ë¦¬ì†ŒìŠ¤ ë³´í˜¸</td></tr><tr><td>ì•„í‚¤í…ì²˜</td><td>ë¶„ì‚° ì‹œìŠ¤í…œ</td><td>Event Sourcing</td><td>ìƒíƒœ ë³€ê²½ ì´ë ¥ì„ í†µí•œ ì¼ê´€ì„± ë³´ì¥</td></tr><tr><td></td><td></td><td>CQRS</td><td>ëª…ë ¹ê³¼ ì¡°íšŒ ë¶„ë¦¬ë¡œ ì„±ëŠ¥ê³¼ í™•ì¥ì„± í–¥ìƒ</td></tr><tr><td></td><td></td><td>Saga Pattern</td><td>ë¶„ì‚° íŠ¸ëœì­ì…˜ì—ì„œì˜ ë³´ìƒ ì‘ì—… ê´€ë¦¬</td></tr><tr><td>êµ¬í˜„ ê¸°ë²•</td><td>ê²€ì¦ ì „ëµ</td><td>Input Validation</td><td>ì…ë ¥ ë°ì´í„°ì˜ ì¡°ê¸° ê²€ì¦ìœ¼ë¡œ ì˜¤ë¥˜ ë°©ì§€</td></tr><tr><td></td><td></td><td>Precondition Check</td><td>ì‹¤í–‰ ì „ í•„ìˆ˜ ì¡°ê±´ í™•ì¸</td></tr><tr><td></td><td></td><td>Assertion</td><td>ê°œë°œ ë‹¨ê³„ì—ì„œì˜ ê°€ì • ê²€ì¦</td></tr><tr><td>ìš´ì˜ ë„êµ¬</td><td>ëª¨ë‹ˆí„°ë§</td><td>Health Check</td><td>ì„œë¹„ìŠ¤ ìƒíƒœ ì‹¤ì‹œê°„ ê°ì‹œ</td></tr><tr><td></td><td></td><td>Distributed Tracing</td><td>ë¶„ì‚° í™˜ê²½ì—ì„œì˜ ìš”ì²­ ì¶”ì </td></tr><tr><td></td><td></td><td>Logging</td><td>êµ¬ì¡°í™”ëœ ë¡œê·¸ë¥¼ í†µí•œ ë¬¸ì œ ë¶„ì„</td></tr></tbody></table><h3 id=8-ë°˜ë“œì‹œ-í•™ìŠµí•´ì•¼-í• -ë‚´ìš©>8. ë°˜ë“œì‹œ í•™ìŠµí•´ì•¼ í•  ë‚´ìš©<a hidden class=anchor aria-hidden=true href=#8-ë°˜ë“œì‹œ-í•™ìŠµí•´ì•¼-í• -ë‚´ìš©>#</a></h3><table><thead><tr><th>ì¹´í…Œê³ ë¦¬</th><th>ì£¼ì œ</th><th>í•­ëª©</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>ê¸°ì´ˆ ê°œë…</td><td>ì˜ˆì™¸ ì²˜ë¦¬</td><td>Exception Handling</td><td>ì ì ˆí•œ ì˜ˆì™¸ ìƒì„±ê³¼ ì „íŒŒ ë©”ì»¤ë‹ˆì¦˜</td></tr><tr><td></td><td></td><td>Error Propagation</td><td>ì˜¤ë¥˜ ì •ë³´ì˜ íš¨ê³¼ì ì¸ ì „ë‹¬ ë°©ë²•</td></tr><tr><td></td><td></td><td>Defensive Programming</td><td>ë°©ì–´ì  í”„ë¡œê·¸ë˜ë° ê¸°ë²•ê³¼ ê²€ì¦ ì „ëµ</td></tr><tr><td>ê³ ê¸‰ íŒ¨í„´</td><td>ë³µì›ë ¥ íŒ¨í„´</td><td>Resilience Patterns</td><td>ì‹œìŠ¤í…œ ì¥ì•  ëŒ€ì‘ì„ ìœ„í•œ ì„¤ê³„ íŒ¨í„´ ì§‘í•©</td></tr><tr><td></td><td></td><td>Chaos Engineering</td><td>ì˜ë„ì  ì¥ì•  ì£¼ì…ì„ í†µí•œ ì‹œìŠ¤í…œ ê°•í™”</td></tr><tr><td></td><td></td><td>Fault Tolerance</td><td>ê²°í•¨ í—ˆìš© ì‹œìŠ¤í…œ ì„¤ê³„ ì›ì¹™</td></tr><tr><td>ì‹¤ë¬´ ê¸°ìˆ </td><td>í…ŒìŠ¤íŠ¸ ì „ëµ</td><td>Unit Testing</td><td>ì‹¤íŒ¨ ì‹œë‚˜ë¦¬ì˜¤ì— ëŒ€í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸</td></tr><tr><td></td><td></td><td>Integration Testing</td><td>í†µí•© í™˜ê²½ì—ì„œì˜ ì˜¤ë¥˜ ì²˜ë¦¬ ê²€ì¦</td></tr><tr><td></td><td></td><td>Error Injection</td><td>ì˜ë„ì  ì˜¤ë¥˜ ì£¼ì…ì„ í†µí•œ í…ŒìŠ¤íŠ¸</td></tr><tr><td>í´ë¼ìš°ë“œ ê¸°ìˆ </td><td>ì»¨í…Œì´ë„ˆ</td><td>Docker Health Check</td><td>ì»¨í…Œì´ë„ˆ ìˆ˜ì¤€ì—ì„œì˜ ìƒíƒœ ê²€ì‚¬</td></tr><tr><td></td><td></td><td>Kubernetes Probes</td><td>Pod ìƒëª…ì£¼ê¸° ê´€ë¦¬ì™€ ìë™ ë³µêµ¬</td></tr><tr><td></td><td></td><td>Service Mesh</td><td>ì„œë¹„ìŠ¤ ê°„ í†µì‹ ì—ì„œì˜ ì˜¤ë¥˜ ì²˜ë¦¬</td></tr></tbody></table><hr><h3 id=ìš©ì–´-ì •ë¦¬>ìš©ì–´ ì •ë¦¬<a hidden class=anchor aria-hidden=true href=#ìš©ì–´-ì •ë¦¬>#</a></h3><table><thead><tr><th>ì¹´í…Œê³ ë¦¬</th><th>ìš©ì–´</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>ê¸°ë³¸ ê°œë…</td><td>Fail Fast</td><td>ì˜¤ë¥˜ ë°œìƒ ì‹œ ì¦‰ì‹œ ì‹¤íŒ¨í•˜ëŠ” ì„¤ê³„ ì›ì¹™</td></tr><tr><td></td><td>Guard Clauses</td><td>ë©”ì†Œë“œ ì‹œì‘ ë¶€ë¶„ì˜ ì¡°ê±´ ê²€ì‚¬ êµ¬ë¬¸</td></tr><tr><td></td><td>Precondition</td><td>í•¨ìˆ˜ë‚˜ ë©”ì†Œë“œ ì‹¤í–‰ ì „ ë§Œì¡±í•´ì•¼ í•  ì¡°ê±´</td></tr><tr><td></td><td>Postcondition</td><td>í•¨ìˆ˜ë‚˜ ë©”ì†Œë“œ ì‹¤í–‰ í›„ ë³´ì¥ë˜ì–´ì•¼ í•  ì¡°ê±´</td></tr><tr><td>íŒ¨í„´</td><td>Circuit Breaker</td><td>ì¥ì•  ê°ì§€ ì‹œ íšŒë¡œë¥¼ ì°¨ë‹¨í•˜ì—¬ ì—°ì‡„ ì¥ì•  ë°©ì§€</td></tr><tr><td></td><td>Bulkhead</td><td>ì‹œìŠ¤í…œ êµ¬ì„± ìš”ì†Œ ê°„ ê²©ë¦¬ë¥¼ í†µí•œ ì¥ì•  ì „íŒŒ ì°¨ë‹¨</td></tr><tr><td></td><td>Timeout</td><td>ì¼ì • ì‹œê°„ í›„ ì‘ì—…ì„ ì¤‘ë‹¨í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜</td></tr><tr><td></td><td>Retry</td><td>ì‹¤íŒ¨í•œ ì‘ì—…ì„ ì¬ì‹œë„í•˜ëŠ” ì •ì±…</td></tr><tr><td>ì•„í‚¤í…ì²˜</td><td>Event Sourcing</td><td>ìƒíƒœ ë³€ê²½ì„ ì´ë²¤íŠ¸ë¡œ ì €ì¥í•˜ëŠ” íŒ¨í„´</td></tr><tr><td></td><td>CQRS</td><td>ëª…ë ¹ê³¼ ì¡°íšŒ ì±…ì„ì„ ë¶„ë¦¬í•˜ëŠ” ì•„í‚¤í…ì²˜ íŒ¨í„´</td></tr><tr><td></td><td>Saga</td><td>ë¶„ì‚° íŠ¸ëœì­ì…˜ì„ ê´€ë¦¬í•˜ëŠ” íŒ¨í„´</td></tr><tr><td></td><td>Compensating Transaction</td><td>ì‹¤íŒ¨ ì‹œ ì´ì „ ìƒíƒœë¡œ ë³µêµ¬í•˜ëŠ” íŠ¸ëœì­ì…˜</td></tr><tr><td>ê¸°ìˆ  ìš©ì–´</td><td>Jitter</td><td>ì¬ì‹œë„ ì‹œ ë¬´ì‘ìœ„ ì§€ì—°ì„ ì¶”ê°€í•˜ëŠ” ê¸°ë²•</td></tr><tr><td></td><td>Exponential Backoff</td><td>ì§€ìˆ˜ì ìœ¼ë¡œ ì¦ê°€í•˜ëŠ” ì¬ì‹œë„ ê°„ê²©</td></tr><tr><td></td><td>Graceful Degradation</td><td>ë¶€ë¶„ì  ê¸°ëŠ¥ ì €í•˜ë¥¼ í†µí•œ ì„œë¹„ìŠ¤ ìœ ì§€</td></tr><tr><td></td><td>Observability</td><td>ì‹œìŠ¤í…œ ë‚´ë¶€ ìƒíƒœë¥¼ ì™¸ë¶€ì—ì„œ ê´€ì°°í•  ìˆ˜ ìˆëŠ” ëŠ¥ë ¥</td></tr></tbody></table><hr><h3 id=ì°¸ê³ -ë°-ì¶œì²˜-1>ì°¸ê³  ë° ì¶œì²˜<a hidden class=anchor aria-hidden=true href=#ì°¸ê³ -ë°-ì¶œì²˜-1>#</a></h3><ul><li><a href=https://en.wikipedia.org/wiki/Fail-fast_system>Fail-fast system - Wikipedia</a></li><li><a href=https://stackoverflow.com/questions/36195626/fail-fast-design-pattern>Fail Fast Design Pattern - Stack Overflow</a></li><li><a href=https://www.codereliant.io/p/fail-fast-pattern>The Fail Fast Principle - CodeReliant</a></li><li><a href=https://enterprisecraftsmanship.com/posts/fail-fast-principle>Fail Fast principle - Enterprise Craftsmanship</a></li><li><a href=https://dzone.com/articles/fail-fast-principle-in-software-development>The Fail-Fast Principle in Software Development - DZone</a></li><li><a href=https://www.oreilly.com/library/view/design-patterns-and/9781786463593/943b84bf-404d-4ea7-b762-bfda8378e036.xhtml>Fail-fast pattern - O&rsquo;Reilly</a></li><li><a href=https://www.geeksforgeeks.org/java/fail-fast-fail-safe-iterators-java/>Fail Fast And Fail Safe Iterators in Java - GeeksforGeeks</a></li><li><a href=https://stackoverflow.com/questions/2807241/what-does-the-expression-fail-early-mean-and-when-would-you-want-to-do-so>What does the expression &ldquo;Fail Early&rdquo; mean - Stack Overflow</a></li></ul><hr><p>Fail Fast ëŠ” MSA ì˜ ì‹ ë¢°ì„±ì„ ë†’ì´ëŠ” ì¤‘ìš”í•œ íŒ¨í„´ì´ë‹¤.<br>ì ì¬ì ì¸ ë¬¸ì œë¥¼ ì¡°ê¸°ì— ë°œê²¬í•˜ê³  ë¹ ë¥´ê²Œ ëŒ€ì‘í•¨ìœ¼ë¡œì¨ ì „ì²´ ì‹œìŠ¤í…œì˜ ì•ˆì •ì„±ê³¼ ì‹ ë¢°ì„±ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤.</p><p>Fail Fast ëŠ” ì‹œìŠ¤í…œì—ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆì„ ë•Œ ì¦‰ì‹œ ì‹¤íŒ¨ë¥¼ ë³´ê³ í•˜ê³  ì •ìƒ ì‘ë™ì„ ì¤‘ì§€í•˜ëŠ” ì„¤ê³„ ì›ì¹™ì´ë‹¤.<br>ì´ëŠ” ì ì¬ì ì¸ ì˜¤ë¥˜ë¥¼ ì¡°ê¸°ì— ê°ì§€í•˜ê³  ë¹ ë¥´ê²Œ ëŒ€ì‘í•˜ì—¬ ì‹œìŠ¤í…œì˜ ì•ˆì •ì„±ì„ ë†’ì´ëŠ” ë° ëª©ì ì´ ìˆë‹¤.</p><p>ì´ íŒ¨í„´ì„ íš¨ê³¼ì ìœ¼ë¡œ ì ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì² ì €í•œ ëª¨ë‹ˆí„°ë§ê³¼ ë¡œê¹…, ì ì ˆí•œ ì•Œë¦¼ ì‹œìŠ¤í…œ, ê·¸ë¦¬ê³  ìë™í™”ëœ ë³µêµ¬ ë©”ì»¤ë‹ˆì¦˜ì´ í•¨ê»˜ êµ¬í˜„ë˜ì–´ì•¼ í•œë‹¤. ë˜í•œ ê° ì„œë¹„ìŠ¤ì˜ íŠ¹ì„±ì— ë§ëŠ” ì„ê³„ê°’ê³¼ ì •ì±…ì„ ì„¤ì •í•˜ê³ , ì§€ì†ì ìœ¼ë¡œ ì´ë¥¼ ê°œì„ í•´ ë‚˜ê°€ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.</p><h4 id=fail-fast-ì˜-ì£¼ìš”-íŠ¹ì§•>Fail Fast ì˜ ì£¼ìš” íŠ¹ì§•<a hidden class=anchor aria-hidden=true href=#fail-fast-ì˜-ì£¼ìš”-íŠ¹ì§•>#</a></h4><ol><li><strong>ì¦‰ê°ì ì¸ ì˜¤ë¥˜ ë³´ê³ </strong>: ë¬¸ì œê°€ ê°ì§€ë˜ë©´ ì¦‰ì‹œ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.</li><li><strong>ë¹ ë¥¸ ì‹¤íŒ¨</strong>: ì˜¤ë¥˜ ìƒí™©ì—ì„œ ê³„ì† ì§„í–‰í•˜ì§€ ì•Šê³  ì¦‰ì‹œ ì‘ì—…ì„ ì¤‘ë‹¨í•œë‹¤.</li><li><strong>ëª…í™•í•œ ì˜¤ë¥˜ ë©”ì‹œì§€</strong>: ë°œìƒí•œ ë¬¸ì œì— ëŒ€í•´ êµ¬ì²´ì ì´ê³  ëª…í™•í•œ ì •ë³´ë¥¼ ì œê³µí•œë‹¤.</li><li><strong>ì¡°ê¸° ë¬¸ì œ ê°ì§€</strong>: ì ì¬ì ì¸ ì˜¤ë¥˜ë¥¼ ê°€ëŠ¥í•œ í•œ ë¹¨ë¦¬ ë°œê²¬í•˜ì—¬ ëŒ€ì‘í•œë‹¤.</li></ol><h4 id=msa-ì—ì„œì˜-fail-fast-ì ìš©>MSA ì—ì„œì˜ Fail Fast ì ìš©<a hidden class=anchor aria-hidden=true href=#msa-ì—ì„œì˜-fail-fast-ì ìš©>#</a></h4><p>MSA í™˜ê²½ì—ì„œ Fail Fast ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì ìš©ë  ìˆ˜ ìˆë‹¤:</p><ol><li><strong>ì„œë¹„ìŠ¤ ìˆ˜ì¤€ì—ì„œì˜ ì ìš©</strong>: ê° ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ëŠ” ìì²´ì ìœ¼ë¡œ Fail Fast ì›ì¹™ì„ êµ¬í˜„í•œë‹¤.</li><li><strong>API ê²Œì´íŠ¸ì›¨ì´ì—ì„œì˜ í™œìš©</strong>: ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸° ì „ì— ë¹ ë¥´ê²Œ ìœ íš¨ì„±ì„ ê²€ì‚¬í•œë‹¤.</li><li><strong>ì„œí‚· ë¸Œë ˆì´ì»¤ì™€ì˜ ì—°ê³„</strong>: ì„œë¹„ìŠ¤ ì¥ì•  ì‹œ ë¹ ë¥´ê²Œ ì‹¤íŒ¨ ì²˜ë¦¬ë¥¼ í•˜ê³  ëŒ€ì²´ ë¡œì§ì„ ì‹¤í–‰í•œë‹¤.</li><li><strong>ë°ì´í„° ì¼ê´€ì„± ê²€ì¦</strong>: ë°ì´í„° ì²˜ë¦¬ ì „ ë¹ ë¥´ê²Œ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ì—¬ ì˜¤ë¥˜ë¥¼ ì¡°ê¸°ì— ê°ì§€í•œë‹¤.</li></ol><h4 id=fail-fast-êµ¬í˜„-ì˜ˆì‹œ>Fail Fast êµ¬í˜„ ì˜ˆì‹œ<a hidden class=anchor aria-hidden=true href=#fail-fast-êµ¬í˜„-ì˜ˆì‹œ>#</a></h4><p>Java ì—ì„œì˜ Fail Fast êµ¬í˜„ ì˜ˆì‹œ:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1>1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2>2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3>3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4>4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5>5</a>
</span><span class=lnt id=hl-14-6><a class=lnlinks href=#hl-14-6>6</a>
</span><span class=lnt id=hl-14-7><a class=lnlinks href=#hl-14-7>7</a>
</span><span class=lnt id=hl-14-8><a class=lnlinks href=#hl-14-8>8</a>
</span><span class=lnt id=hl-14-9><a class=lnlinks href=#hl-14-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>processOrder</span><span class=p>(</span><span class=n>Order</span><span class=w> </span><span class=n>order</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>order</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>IllegalArgumentException</span><span class=p>(</span><span class=s>&#34;ì£¼ë¬¸ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>order</span><span class=p>.</span><span class=na>getItems</span><span class=p>().</span><span class=na>isEmpty</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>IllegalStateException</span><span class=p>(</span><span class=s>&#34;ì£¼ë¬¸ í•­ëª©ì´ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤.&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// ì£¼ë¬¸ ì²˜ë¦¬ ë¡œì§</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=fail-fast-ì˜-ì¥ì >Fail Fast ì˜ ì¥ì <a hidden class=anchor aria-hidden=true href=#fail-fast-ì˜-ì¥ì >#</a></h4><ol><li><strong>ë¹ ë¥¸ ë¬¸ì œ í•´ê²°</strong>: ì˜¤ë¥˜ë¥¼ ì¦‰ì‹œ ë°œê²¬í•˜ì—¬ ì‹ ì†í•œ ëŒ€ì‘ì´ ê°€ëŠ¥í•˜ë‹¤.</li><li><strong>ì‹œìŠ¤í…œ ì•ˆì •ì„± í–¥ìƒ</strong>: ì ì¬ì ì¸ ë¬¸ì œê°€ ë” í° ì¥ì• ë¡œ í™•ì‚°ë˜ëŠ” ê²ƒì„ ë°©ì§€í•œë‹¤.</li><li><strong>ë””ë²„ê¹… ìš©ì´ì„±</strong>: ëª…í™•í•œ ì˜¤ë¥˜ ë©”ì‹œì§€ë¡œ ë¬¸ì œ ì›ì¸ì„ ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆë‹¤.</li><li><strong>ë¦¬ì†ŒìŠ¤ ì ˆì•½</strong>: ë¶ˆí•„ìš”í•œ ì²˜ë¦¬ë¥¼ ì¡°ê¸°ì— ì¤‘ë‹¨í•˜ì—¬ ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ë¥¼ ì ˆì•½í•œë‹¤.</li></ol><h4 id=fail-fast-vs-fail-safe>Fail Fast vs. Fail Safe<a hidden class=anchor aria-hidden=true href=#fail-fast-vs-fail-safe>#</a></h4><p>Fail Fast ì™€ ëŒ€ë¹„ë˜ëŠ” ê°œë…ìœ¼ë¡œ Fail Safe ê°€ ìˆë‹¤:</p><ul><li>Fail Fast: ë¬¸ì œ ë°œìƒ ì‹œ ì¦‰ì‹œ ì¤‘ë‹¨í•˜ê³  ì˜¤ë¥˜ë¥¼ ë³´ê³ í•œë‹¤.</li><li>Fail Safe: ë¬¸ì œê°€ ë°œìƒí•´ë„ ê°€ëŠ¥í•œ í•œ ì‘ì—…ì„ ê³„ì† ì§„í–‰í•˜ë ¤ê³  í•œë‹¤.<br>MSA í™˜ê²½ì—ì„œëŠ” ëŒ€ì²´ë¡œ Fail Fast ë°©ì‹ì´ ì„ í˜¸ë˜ì§€ë§Œ, ìƒí™©ì— ë”°ë¼ Fail Safe ë°©ì‹ì´ ì í•©í•  ìˆ˜ ìˆë‹¤.</li></ul><h4 id=ì£¼ì˜ì‚¬í•­>ì£¼ì˜ì‚¬í•­<a hidden class=anchor aria-hidden=true href=#ì£¼ì˜ì‚¬í•­>#</a></h4><ol><li><strong>ê³¼ë„í•œ ì‚¬ìš© ì£¼ì˜</strong>: ëª¨ë“  ìƒí™©ì—ì„œ Fail Fast ë¥¼ ì ìš©í•˜ë©´ ì‹œìŠ¤í…œì˜ ìœ ì—°ì„±ì´ ë–¨ì–´ì§ˆ ìˆ˜ ìˆë‹¤.</li><li><strong>ì ì ˆí•œ ì˜ˆì™¸ ì²˜ë¦¬</strong>: Fail Fast ë¡œ ë°œìƒí•œ ì˜ˆì™¸ë¥¼ ì ì ˆíˆ ì²˜ë¦¬í•´ì•¼ í•œë‹¤.</li><li><strong>ì‚¬ìš©ì ê²½í—˜ ê³ ë ¤</strong>: ìµœì¢… ì‚¬ìš©ìì—ê²Œ ì ì ˆí•œ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì œê³µí•´ì•¼ í•œë‹¤.</li></ol><h4 id=fail-fast-êµ¬í˜„ì˜-í•µì‹¬-ìš”ì†Œ>Fail Fast êµ¬í˜„ì˜ í•µì‹¬ ìš”ì†Œ<a hidden class=anchor aria-hidden=true href=#fail-fast-êµ¬í˜„ì˜-í•µì‹¬-ìš”ì†Œ>#</a></h4><ol><li><p>ë¹ ë¥¸ ìœ íš¨ì„± ê²€ì¦: ì…ë ¥ê°’ì´ë‚˜ ì‹œìŠ¤í…œ ìƒíƒœë¥¼ ìµœëŒ€í•œ ë¹¨ë¦¬ ê²€ì¦í•˜ì—¬ ë¬¸ì œë¥¼ ì¡°ê¸°ì— ë°œê²¬í•œë‹¤:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1> 1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2> 2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3> 3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4> 4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5> 5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6> 6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7> 7</a>
</span><span class=lnt id=hl-15-8><a class=lnlinks href=#hl-15-8> 8</a>
</span><span class=lnt id=hl-15-9><a class=lnlinks href=#hl-15-9> 9</a>
</span><span class=lnt id=hl-15-10><a class=lnlinks href=#hl-15-10>10</a>
</span><span class=lnt id=hl-15-11><a class=lnlinks href=#hl-15-11>11</a>
</span><span class=lnt id=hl-15-12><a class=lnlinks href=#hl-15-12>12</a>
</span><span class=lnt id=hl-15-13><a class=lnlinks href=#hl-15-13>13</a>
</span><span class=lnt id=hl-15-14><a class=lnlinks href=#hl-15-14>14</a>
</span><span class=lnt id=hl-15-15><a class=lnlinks href=#hl-15-15>15</a>
</span><span class=lnt id=hl-15-16><a class=lnlinks href=#hl-15-16>16</a>
</span><span class=lnt id=hl-15-17><a class=lnlinks href=#hl-15-17>17</a>
</span><span class=lnt id=hl-15-18><a class=lnlinks href=#hl-15-18>18</a>
</span><span class=lnt id=hl-15-19><a class=lnlinks href=#hl-15-19>19</a>
</span><span class=lnt id=hl-15-20><a class=lnlinks href=#hl-15-20>20</a>
</span><span class=lnt id=hl-15-21><a class=lnlinks href=#hl-15-21>21</a>
</span><span class=lnt id=hl-15-22><a class=lnlinks href=#hl-15-22>22</a>
</span><span class=lnt id=hl-15-23><a class=lnlinks href=#hl-15-23>23</a>
</span><span class=lnt id=hl-15-24><a class=lnlinks href=#hl-15-24>24</a>
</span><span class=lnt id=hl-15-25><a class=lnlinks href=#hl-15-25>25</a>
</span><span class=lnt id=hl-15-26><a class=lnlinks href=#hl-15-26>26</a>
</span><span class=lnt id=hl-15-27><a class=lnlinks href=#hl-15-27>27</a>
</span><span class=lnt id=hl-15-28><a class=lnlinks href=#hl-15-28>28</a>
</span><span class=lnt id=hl-15-29><a class=lnlinks href=#hl-15-29>29</a>
</span><span class=lnt id=hl-15-30><a class=lnlinks href=#hl-15-30>30</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>class</span> <span class=nx>OrderService</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>async</span> <span class=nx>createOrder</span><span class=p>(</span><span class=nx>orderData</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// ì„ í–‰ ì¡°ê±´ ê²€ì¦
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>validateOrderData</span><span class=p>(</span><span class=nx>orderData</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// ì‹œìŠ¤í…œ ìƒíƒœ ê²€ì¦
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>validateSystemState</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// ì¬ê³  í™•ì¸
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>validateInventory</span><span class=p>(</span><span class=nx>orderData</span><span class=p>.</span><span class=nx>items</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>processOrder</span><span class=p>(</span><span class=nx>orderData</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// ì‹¤íŒ¨ ì¦‰ì‹œ ë¡¤ë°± ë° ì—ëŸ¬ ì „íŒŒ
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>rollbackOrder</span><span class=p>(</span><span class=nx>orderData</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=nx>error</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>validateOrderData</span><span class=p>(</span><span class=nx>orderData</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>orderData</span><span class=p>.</span><span class=nx>userId</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=k>new</span> <span class=nx>ValidationError</span><span class=p>(</span><span class=s1>&#39;User ID is required&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>orderData</span><span class=p>.</span><span class=nx>items</span> <span class=o>||</span> <span class=nx>orderData</span><span class=p>.</span><span class=nx>items</span><span class=p>.</span><span class=nx>length</span> <span class=o>===</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=k>new</span> <span class=nx>ValidationError</span><span class=p>(</span><span class=s1>&#39;Order must contain items&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=c1>// ì¶”ê°€ ìœ íš¨ì„± ê²€ì¦â€¦
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>í—¬ìŠ¤ ì²´í¬ êµ¬í˜„: ì„œë¹„ìŠ¤ì˜ ê±´ê°• ìƒíƒœë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ í™•ì¸í•˜ê³  ë¬¸ì œë¥¼ ì¡°ê¸°ì— ê°ì§€í•œë‹¤:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1> 1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2> 2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3> 3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4> 4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5> 5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6> 6</a>
</span><span class=lnt id=hl-16-7><a class=lnlinks href=#hl-16-7> 7</a>
</span><span class=lnt id=hl-16-8><a class=lnlinks href=#hl-16-8> 8</a>
</span><span class=lnt id=hl-16-9><a class=lnlinks href=#hl-16-9> 9</a>
</span><span class=lnt id=hl-16-10><a class=lnlinks href=#hl-16-10>10</a>
</span><span class=lnt id=hl-16-11><a class=lnlinks href=#hl-16-11>11</a>
</span><span class=lnt id=hl-16-12><a class=lnlinks href=#hl-16-12>12</a>
</span><span class=lnt id=hl-16-13><a class=lnlinks href=#hl-16-13>13</a>
</span><span class=lnt id=hl-16-14><a class=lnlinks href=#hl-16-14>14</a>
</span><span class=lnt id=hl-16-15><a class=lnlinks href=#hl-16-15>15</a>
</span><span class=lnt id=hl-16-16><a class=lnlinks href=#hl-16-16>16</a>
</span><span class=lnt id=hl-16-17><a class=lnlinks href=#hl-16-17>17</a>
</span><span class=lnt id=hl-16-18><a class=lnlinks href=#hl-16-18>18</a>
</span><span class=lnt id=hl-16-19><a class=lnlinks href=#hl-16-19>19</a>
</span><span class=lnt id=hl-16-20><a class=lnlinks href=#hl-16-20>20</a>
</span><span class=lnt id=hl-16-21><a class=lnlinks href=#hl-16-21>21</a>
</span><span class=lnt id=hl-16-22><a class=lnlinks href=#hl-16-22>22</a>
</span><span class=lnt id=hl-16-23><a class=lnlinks href=#hl-16-23>23</a>
</span><span class=lnt id=hl-16-24><a class=lnlinks href=#hl-16-24>24</a>
</span><span class=lnt id=hl-16-25><a class=lnlinks href=#hl-16-25>25</a>
</span><span class=lnt id=hl-16-26><a class=lnlinks href=#hl-16-26>26</a>
</span><span class=lnt id=hl-16-27><a class=lnlinks href=#hl-16-27>27</a>
</span><span class=lnt id=hl-16-28><a class=lnlinks href=#hl-16-28>28</a>
</span><span class=lnt id=hl-16-29><a class=lnlinks href=#hl-16-29>29</a>
</span><span class=lnt id=hl-16-30><a class=lnlinks href=#hl-16-30>30</a>
</span><span class=lnt id=hl-16-31><a class=lnlinks href=#hl-16-31>31</a>
</span><span class=lnt id=hl-16-32><a class=lnlinks href=#hl-16-32>32</a>
</span><span class=lnt id=hl-16-33><a class=lnlinks href=#hl-16-33>33</a>
</span><span class=lnt id=hl-16-34><a class=lnlinks href=#hl-16-34>34</a>
</span><span class=lnt id=hl-16-35><a class=lnlinks href=#hl-16-35>35</a>
</span><span class=lnt id=hl-16-36><a class=lnlinks href=#hl-16-36>36</a>
</span><span class=lnt id=hl-16-37><a class=lnlinks href=#hl-16-37>37</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>class</span> <span class=nx>HealthChecker</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>(</span><span class=nx>services</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>services</span> <span class=o>=</span> <span class=nx>services</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>healthStatus</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Map</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>async</span> <span class=nx>checkHealth</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kr>const</span> <span class=nx>service</span> <span class=k>of</span> <span class=k>this</span><span class=p>.</span><span class=nx>services</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=kr>const</span> <span class=nx>startTime</span> <span class=o>=</span> <span class=nb>Date</span><span class=p>.</span><span class=nx>now</span><span class=p>();</span>
</span></span><span class=line><span class=cl>                <span class=kr>const</span> <span class=nx>status</span> <span class=o>=</span> <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>pingService</span><span class=p>(</span><span class=nx>service</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=kr>const</span> <span class=nx>responseTime</span> <span class=o>=</span> <span class=nb>Date</span><span class=p>.</span><span class=nx>now</span><span class=p>()</span> <span class=o>-</span> <span class=nx>startTime</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=c1>// ì‘ë‹µ ì‹œê°„ì´ ì„ê³„ê°’ì„ ì´ˆê³¼í•˜ë©´ ì‹¤íŒ¨ë¡œ ì²˜ë¦¬
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=k>if</span> <span class=p>(</span><span class=nx>responseTime</span> <span class=o>&gt;</span> <span class=nx>service</span><span class=p>.</span><span class=nx>threshold</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;Service response too slow&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=k>this</span><span class=p>.</span><span class=nx>healthStatus</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=nx>service</span><span class=p>.</span><span class=nx>name</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>status</span><span class=o>:</span> <span class=s1>&#39;healthy&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nx>lastCheck</span><span class=o>:</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>                    <span class=nx>responseTime</span>
</span></span><span class=line><span class=cl>                <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>this</span><span class=p>.</span><span class=nx>healthStatus</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=nx>service</span><span class=p>.</span><span class=nx>name</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>status</span><span class=o>:</span> <span class=s1>&#39;unhealthy&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nx>lastCheck</span><span class=o>:</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>                    <span class=nx>error</span><span class=o>:</span> <span class=nx>error</span><span class=p>.</span><span class=nx>message</span>
</span></span><span class=line><span class=cl>                <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=c1>// ì¦‰ì‹œ ì•Œë¦¼ ë°œì†¡
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>notifyHealthIssue</span><span class=p>(</span><span class=nx>service</span><span class=p>,</span> <span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>ìì› ê´€ë¦¬ì™€ ì •ë¦¬: ë¬¸ì œ ë°œìƒ ì‹œ ë¦¬ì†ŒìŠ¤ë¥¼ ì ì ˆíˆ ì •ë¦¬í•˜ê³  í•´ì œí•œë‹¤:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1> 1</a>
</span><span class=lnt id=hl-17-2><a class=lnlinks href=#hl-17-2> 2</a>
</span><span class=lnt id=hl-17-3><a class=lnlinks href=#hl-17-3> 3</a>
</span><span class=lnt id=hl-17-4><a class=lnlinks href=#hl-17-4> 4</a>
</span><span class=lnt id=hl-17-5><a class=lnlinks href=#hl-17-5> 5</a>
</span><span class=lnt id=hl-17-6><a class=lnlinks href=#hl-17-6> 6</a>
</span><span class=lnt id=hl-17-7><a class=lnlinks href=#hl-17-7> 7</a>
</span><span class=lnt id=hl-17-8><a class=lnlinks href=#hl-17-8> 8</a>
</span><span class=lnt id=hl-17-9><a class=lnlinks href=#hl-17-9> 9</a>
</span><span class=lnt id=hl-17-10><a class=lnlinks href=#hl-17-10>10</a>
</span><span class=lnt id=hl-17-11><a class=lnlinks href=#hl-17-11>11</a>
</span><span class=lnt id=hl-17-12><a class=lnlinks href=#hl-17-12>12</a>
</span><span class=lnt id=hl-17-13><a class=lnlinks href=#hl-17-13>13</a>
</span><span class=lnt id=hl-17-14><a class=lnlinks href=#hl-17-14>14</a>
</span><span class=lnt id=hl-17-15><a class=lnlinks href=#hl-17-15>15</a>
</span><span class=lnt id=hl-17-16><a class=lnlinks href=#hl-17-16>16</a>
</span><span class=lnt id=hl-17-17><a class=lnlinks href=#hl-17-17>17</a>
</span><span class=lnt id=hl-17-18><a class=lnlinks href=#hl-17-18>18</a>
</span><span class=lnt id=hl-17-19><a class=lnlinks href=#hl-17-19>19</a>
</span><span class=lnt id=hl-17-20><a class=lnlinks href=#hl-17-20>20</a>
</span><span class=lnt id=hl-17-21><a class=lnlinks href=#hl-17-21>21</a>
</span><span class=lnt id=hl-17-22><a class=lnlinks href=#hl-17-22>22</a>
</span><span class=lnt id=hl-17-23><a class=lnlinks href=#hl-17-23>23</a>
</span><span class=lnt id=hl-17-24><a class=lnlinks href=#hl-17-24>24</a>
</span><span class=lnt id=hl-17-25><a class=lnlinks href=#hl-17-25>25</a>
</span><span class=lnt id=hl-17-26><a class=lnlinks href=#hl-17-26>26</a>
</span><span class=lnt id=hl-17-27><a class=lnlinks href=#hl-17-27>27</a>
</span><span class=lnt id=hl-17-28><a class=lnlinks href=#hl-17-28>28</a>
</span><span class=lnt id=hl-17-29><a class=lnlinks href=#hl-17-29>29</a>
</span><span class=lnt id=hl-17-30><a class=lnlinks href=#hl-17-30>30</a>
</span><span class=lnt id=hl-17-31><a class=lnlinks href=#hl-17-31>31</a>
</span><span class=lnt id=hl-17-32><a class=lnlinks href=#hl-17-32>32</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>class</span> <span class=nx>ResourceManager</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>resources</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Map</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>locks</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Map</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>async</span> <span class=nx>acquireResource</span><span class=p>(</span><span class=nx>resourceId</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// ë¦¬ì†ŒìŠ¤ ìƒíƒœ ì¦‰ì‹œ í™•ì¸
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>locks</span><span class=p>.</span><span class=nx>has</span><span class=p>(</span><span class=nx>resourceId</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=k>new</span> <span class=nx>ResourceLockedError</span><span class=p>(</span><span class=nx>resourceId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=kr>const</span> <span class=nx>resource</span> <span class=o>=</span> <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>loadResource</span><span class=p>(</span><span class=nx>resourceId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>locks</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=nx>resourceId</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=c1>// ìë™ ì •ë¦¬ë¥¼ ìœ„í•œ íƒ€ì„ì•„ì›ƒ ì„¤ì •
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=k>this</span><span class=p>.</span><span class=nx>releaseResource</span><span class=p>(</span><span class=nx>resourceId</span><span class=p>),</span> <span class=mi>30000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=nx>resource</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// ì‹¤íŒ¨ ì‹œ ì¦‰ì‹œ ì •ë¦¬
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>this</span><span class=p>.</span><span class=nx>releaseResource</span><span class=p>(</span><span class=nx>resourceId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=nx>error</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>releaseResource</span><span class=p>(</span><span class=nx>resourceId</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>locks</span><span class=p>.</span><span class=k>delete</span><span class=p>(</span><span class=nx>resourceId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>resources</span><span class=p>.</span><span class=k>delete</span><span class=p>(</span><span class=nx>resourceId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>ì—ëŸ¬ ì²˜ë¦¬ì™€ ë¡œê¹…: ì—ëŸ¬ê°€ ë°œìƒí–ˆì„ ë•Œ ì¦‰ì‹œ ë¡œê¹…í•˜ê³  ì ì ˆí•œ ëŒ€ì‘ì„ í•œë‹¤:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1> 1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2> 2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3> 3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4> 4</a>
</span><span class=lnt id=hl-18-5><a class=lnlinks href=#hl-18-5> 5</a>
</span><span class=lnt id=hl-18-6><a class=lnlinks href=#hl-18-6> 6</a>
</span><span class=lnt id=hl-18-7><a class=lnlinks href=#hl-18-7> 7</a>
</span><span class=lnt id=hl-18-8><a class=lnlinks href=#hl-18-8> 8</a>
</span><span class=lnt id=hl-18-9><a class=lnlinks href=#hl-18-9> 9</a>
</span><span class=lnt id=hl-18-10><a class=lnlinks href=#hl-18-10>10</a>
</span><span class=lnt id=hl-18-11><a class=lnlinks href=#hl-18-11>11</a>
</span><span class=lnt id=hl-18-12><a class=lnlinks href=#hl-18-12>12</a>
</span><span class=lnt id=hl-18-13><a class=lnlinks href=#hl-18-13>13</a>
</span><span class=lnt id=hl-18-14><a class=lnlinks href=#hl-18-14>14</a>
</span><span class=lnt id=hl-18-15><a class=lnlinks href=#hl-18-15>15</a>
</span><span class=lnt id=hl-18-16><a class=lnlinks href=#hl-18-16>16</a>
</span><span class=lnt id=hl-18-17><a class=lnlinks href=#hl-18-17>17</a>
</span><span class=lnt id=hl-18-18><a class=lnlinks href=#hl-18-18>18</a>
</span><span class=lnt id=hl-18-19><a class=lnlinks href=#hl-18-19>19</a>
</span><span class=lnt id=hl-18-20><a class=lnlinks href=#hl-18-20>20</a>
</span><span class=lnt id=hl-18-21><a class=lnlinks href=#hl-18-21>21</a>
</span><span class=lnt id=hl-18-22><a class=lnlinks href=#hl-18-22>22</a>
</span><span class=lnt id=hl-18-23><a class=lnlinks href=#hl-18-23>23</a>
</span><span class=lnt id=hl-18-24><a class=lnlinks href=#hl-18-24>24</a>
</span><span class=lnt id=hl-18-25><a class=lnlinks href=#hl-18-25>25</a>
</span><span class=lnt id=hl-18-26><a class=lnlinks href=#hl-18-26>26</a>
</span><span class=lnt id=hl-18-27><a class=lnlinks href=#hl-18-27>27</a>
</span><span class=lnt id=hl-18-28><a class=lnlinks href=#hl-18-28>28</a>
</span><span class=lnt id=hl-18-29><a class=lnlinks href=#hl-18-29>29</a>
</span><span class=lnt id=hl-18-30><a class=lnlinks href=#hl-18-30>30</a>
</span><span class=lnt id=hl-18-31><a class=lnlinks href=#hl-18-31>31</a>
</span><span class=lnt id=hl-18-32><a class=lnlinks href=#hl-18-32>32</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>class</span> <span class=nx>ErrorHandler</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>static</span> <span class=kr>async</span> <span class=nx>handle</span><span class=p>(</span><span class=nx>error</span><span class=p>,</span> <span class=nx>context</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// ì—ëŸ¬ ì •ë³´ ì¦‰ì‹œ ë¡œê¹…
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>logError</span><span class=p>(</span><span class=nx>error</span><span class=p>,</span> <span class=nx>context</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// ì—ëŸ¬ ì‹¬ê°ë„ ë¶„ì„
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kr>const</span> <span class=nx>severity</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>analyzeSeverity</span><span class=p>(</span><span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// ì‹¬ê°ë„ì— ë”°ë¥¸ ì¦‰ê°ì ì¸ ëŒ€ì‘
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>switch</span> <span class=p>(</span><span class=nx>severity</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>case</span> <span class=s1>&#39;CRITICAL&#39;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>                <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>handleCriticalError</span><span class=p>(</span><span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>case</span> <span class=s1>&#39;WARNING&#39;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>                <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>handleWarning</span><span class=p>(</span><span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>default</span><span class=o>:</span>
</span></span><span class=line><span class=cl>                <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>handleNormalError</span><span class=p>(</span><span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>static</span> <span class=kr>async</span> <span class=nx>handleCriticalError</span><span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// ì¦‰ì‹œ ì•Œë¦¼ ë°œì†¡
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>sendAlert</span><span class=p>(</span><span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>checkSystemHealth</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// í•„ìš”ì‹œ ìë™ ë³µêµ¬ ì‹œë„
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kr>await</span> <span class=k>this</span><span class=p>.</span><span class=nx>attemptRecovery</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h4 id=êµ¬í˜„-ì˜ˆì‹œ>êµ¬í˜„ ì˜ˆì‹œ<a hidden class=anchor aria-hidden=true href=#êµ¬í˜„-ì˜ˆì‹œ>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1> 1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2> 2</a>
</span><span class=lnt id=hl-19-3><a class=lnlinks href=#hl-19-3> 3</a>
</span><span class=lnt id=hl-19-4><a class=lnlinks href=#hl-19-4> 4</a>
</span><span class=lnt id=hl-19-5><a class=lnlinks href=#hl-19-5> 5</a>
</span><span class=lnt id=hl-19-6><a class=lnlinks href=#hl-19-6> 6</a>
</span><span class=lnt id=hl-19-7><a class=lnlinks href=#hl-19-7> 7</a>
</span><span class=lnt id=hl-19-8><a class=lnlinks href=#hl-19-8> 8</a>
</span><span class=lnt id=hl-19-9><a class=lnlinks href=#hl-19-9> 9</a>
</span><span class=lnt id=hl-19-10><a class=lnlinks href=#hl-19-10>10</a>
</span><span class=lnt id=hl-19-11><a class=lnlinks href=#hl-19-11>11</a>
</span><span class=lnt id=hl-19-12><a class=lnlinks href=#hl-19-12>12</a>
</span><span class=lnt id=hl-19-13><a class=lnlinks href=#hl-19-13>13</a>
</span><span class=lnt id=hl-19-14><a class=lnlinks href=#hl-19-14>14</a>
</span><span class=lnt id=hl-19-15><a class=lnlinks href=#hl-19-15>15</a>
</span><span class=lnt id=hl-19-16><a class=lnlinks href=#hl-19-16>16</a>
</span><span class=lnt id=hl-19-17><a class=lnlinks href=#hl-19-17>17</a>
</span><span class=lnt id=hl-19-18><a class=lnlinks href=#hl-19-18>18</a>
</span><span class=lnt id=hl-19-19><a class=lnlinks href=#hl-19-19>19</a>
</span><span class=lnt id=hl-19-20><a class=lnlinks href=#hl-19-20>20</a>
</span><span class=lnt id=hl-19-21><a class=lnlinks href=#hl-19-21>21</a>
</span><span class=lnt id=hl-19-22><a class=lnlinks href=#hl-19-22>22</a>
</span><span class=lnt id=hl-19-23><a class=lnlinks href=#hl-19-23>23</a>
</span><span class=lnt id=hl-19-24><a class=lnlinks href=#hl-19-24>24</a>
</span><span class=lnt id=hl-19-25><a class=lnlinks href=#hl-19-25>25</a>
</span><span class=lnt id=hl-19-26><a class=lnlinks href=#hl-19-26>26</a>
</span><span class=lnt id=hl-19-27><a class=lnlinks href=#hl-19-27>27</a>
</span><span class=lnt id=hl-19-28><a class=lnlinks href=#hl-19-28>28</a>
</span><span class=lnt id=hl-19-29><a class=lnlinks href=#hl-19-29>29</a>
</span><span class=lnt id=hl-19-30><a class=lnlinks href=#hl-19-30>30</a>
</span><span class=lnt id=hl-19-31><a class=lnlinks href=#hl-19-31>31</a>
</span><span class=lnt id=hl-19-32><a class=lnlinks href=#hl-19-32>32</a>
</span><span class=lnt id=hl-19-33><a class=lnlinks href=#hl-19-33>33</a>
</span><span class=lnt id=hl-19-34><a class=lnlinks href=#hl-19-34>34</a>
</span><span class=lnt id=hl-19-35><a class=lnlinks href=#hl-19-35>35</a>
</span><span class=lnt id=hl-19-36><a class=lnlinks href=#hl-19-36>36</a>
</span><span class=lnt id=hl-19-37><a class=lnlinks href=#hl-19-37>37</a>
</span><span class=lnt id=hl-19-38><a class=lnlinks href=#hl-19-38>38</a>
</span><span class=lnt id=hl-19-39><a class=lnlinks href=#hl-19-39>39</a>
</span><span class=lnt id=hl-19-40><a class=lnlinks href=#hl-19-40>40</a>
</span><span class=lnt id=hl-19-41><a class=lnlinks href=#hl-19-41>41</a>
</span><span class=lnt id=hl-19-42><a class=lnlinks href=#hl-19-42>42</a>
</span><span class=lnt id=hl-19-43><a class=lnlinks href=#hl-19-43>43</a>
</span><span class=lnt id=hl-19-44><a class=lnlinks href=#hl-19-44>44</a>
</span><span class=lnt id=hl-19-45><a class=lnlinks href=#hl-19-45>45</a>
</span><span class=lnt id=hl-19-46><a class=lnlinks href=#hl-19-46>46</a>
</span><span class=lnt id=hl-19-47><a class=lnlinks href=#hl-19-47>47</a>
</span><span class=lnt id=hl-19-48><a class=lnlinks href=#hl-19-48>48</a>
</span><span class=lnt id=hl-19-49><a class=lnlinks href=#hl-19-49>49</a>
</span><span class=lnt id=hl-19-50><a class=lnlinks href=#hl-19-50>50</a>
</span><span class=lnt id=hl-19-51><a class=lnlinks href=#hl-19-51>51</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Circuit Breaker íŒ¨í„´ê³¼ ê²°í•©ëœ Fail Fast êµ¬í˜„
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>ServiceClient</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>(</span><span class=nx>serviceName</span><span class=p>,</span> <span class=nx>options</span> <span class=o>=</span> <span class=p>{})</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>serviceName</span> <span class=o>=</span> <span class=nx>serviceName</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>maxRetries</span> <span class=o>=</span> <span class=nx>options</span><span class=p>.</span><span class=nx>maxRetries</span> <span class=o>||</span> <span class=mi>3</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>timeout</span> <span class=o>=</span> <span class=nx>options</span><span class=p>.</span><span class=nx>timeout</span> <span class=o>||</span> <span class=mi>5000</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>circuitBreaker</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>CircuitBreaker</span><span class=p>({</span>
</span></span><span class=line><span class=cl>            <span class=nx>failureThreshold</span><span class=o>:</span> <span class=mi>5</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>resetTimeout</span><span class=o>:</span> <span class=mi>60000</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>async</span> <span class=nx>makeRequest</span><span class=p>(</span><span class=nx>endpoint</span><span class=p>,</span> <span class=nx>method</span><span class=p>,</span> <span class=nx>data</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// ì„œí‚· ë¸Œë ˆì´ì»¤ ìƒíƒœ í™•ì¸
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=k>this</span><span class=p>.</span><span class=nx>circuitBreaker</span><span class=p>.</span><span class=nx>isEnabled</span><span class=p>())</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;Circuit breaker is open - service is unavailable&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// ë¹ ë¥¸ ì‹¤íŒ¨ë¥¼ ìœ„í•œ íƒ€ì„ì•„ì›ƒ ì„¤ì •
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=kr>const</span> <span class=nx>controller</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>AbortController</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=kr>const</span> <span class=nx>timeoutId</span> <span class=o>=</span> <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=nx>controller</span><span class=p>.</span><span class=nx>abort</span><span class=p>(),</span> <span class=k>this</span><span class=p>.</span><span class=nx>timeout</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=kr>const</span> <span class=nx>response</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>fetch</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>serviceName</span><span class=si>}${</span><span class=nx>endpoint</span><span class=si>}</span><span class=sb>`</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>method</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>body</span><span class=o>:</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>data</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                <span class=nx>signal</span><span class=o>:</span> <span class=nx>controller</span><span class=p>.</span><span class=nx>signal</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>headers</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=s1>&#39;Content-Type&#39;</span><span class=o>:</span> <span class=s1>&#39;application/json&#39;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=nx>clearTimeout</span><span class=p>(</span><span class=nx>timeoutId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=c1>// ì¦‰ì‹œ ì‹¤íŒ¨ ì²˜ë¦¬
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>response</span><span class=p>.</span><span class=nx>ok</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=sb>`HTTP error! status: </span><span class=si>${</span><span class=nx>response</span><span class=p>.</span><span class=nx>status</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>circuitBreaker</span><span class=p>.</span><span class=nx>recordSuccess</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=kr>await</span> <span class=nx>response</span><span class=p>.</span><span class=nx>json</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>circuitBreaker</span><span class=p>.</span><span class=nx>recordFailure</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=k>new</span> <span class=nx>ServiceError</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=k>this</span><span class=p>.</span><span class=nx>serviceName</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=sb>`Request failed: </span><span class=si>${</span><span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=si>}</span><span class=sb>`</span>
</span></span><span class=line><span class=cl>            <span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span><span class=nx>s</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=ì°¸ê³ -ë°-ì¶œì²˜-2>ì°¸ê³  ë° ì¶œì²˜<a hidden class=anchor aria-hidden=true href=#ì°¸ê³ -ë°-ì¶œì²˜-2>#</a></h3></div></main><script type=module>
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
  </script><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>