<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>프록시(Proxy) | hyunyoun's Blog</title><meta name=keywords content="System-Design,System-Components,Access-and-Network-Entry,Proxy,Reverse-Proxy,Foward-Proxy,Access-Control"><meta name=description content="프록시 (Proxy) 는 클라이언트와 서버 사이에서 중개자 역할을 수행하는 서버로, 요청을 대신 처리하고 응답을 전달한다.  포워드 프록시 (Forward Proxy) 는 클라이언트를 보호하고, 리버스 프록시 (Reverse Proxy) 는 서버를 보호하며, 로드 밸런싱, 캐싱, 보안, SSL 종료 등의 기능을 제공한다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/system-architecture--design/system-components/access--network-entry/proxy/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.5311427199677f919b17469b4ca383951185b54edbae0ec7a5b4378f78d8f4f4.css integrity="sha256-UxFCcZlnf5GbF0abTKODlRGFtU7brg7HpbQ3j3jY9PQ=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/system-architecture--design/system-components/access--network-entry/proxy/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/system-architecture--design/system-components/access--network-entry/proxy/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/system-architecture--design/system-components/access--network-entry/proxy/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="프록시(Proxy)"><meta property="og:description" content="프록시 (Proxy) 는 클라이언트와 서버 사이에서 중개자 역할을 수행하는 서버로, 요청을 대신 처리하고 응답을 전달한다.  포워드 프록시 (Forward Proxy) 는 클라이언트를 보호하고, 리버스 프록시 (Reverse Proxy) 는 서버를 보호하며, 로드 밸런싱, 캐싱, 보안, SSL 종료 등의 기능을 제공한다."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="프록시(Proxy)"><meta name=twitter:description content="프록시 (Proxy) 는 클라이언트와 서버 사이에서 중개자 역할을 수행하는 서버로, 요청을 대신 처리하고 응답을 전달한다.  포워드 프록시 (Forward Proxy) 는 클라이언트를 보호하고, 리버스 프록시 (Reverse Proxy) 는 서버를 보호하며, 로드 밸런싱, 캐싱, 보안, SSL 종료 등의 기능을 제공한다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"프록시(Proxy)","item":"https://buenhyden.github.io/posts/system-architecture--design/system-components/access--network-entry/proxy/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a></div><h1>프록시(Proxy)</h1><div class=post-description>프록시 (Proxy) 는 클라이언트와 서버 사이에서 중개자 역할을 수행하는 서버로, 요청을 대신 처리하고 응답을 전달한다. 포워드 프록시 (Forward Proxy) 는 클라이언트를 보호하고, 리버스 프록시 (Reverse Proxy) 는 서버를 보호하며, 로드 밸런싱, 캐싱, 보안, SSL 종료 등의 기능을 제공한다.</div></header><div class=post-content><h2 id=프록시-proxy>프록시 (Proxy)<a hidden class=anchor aria-hidden=true href=#프록시-proxy>#</a></h2><p>프록시 (Proxy) 는 클라이언트와 서버 사이의 중계자로 동작하면서 통신 요청을 대신 처리하는 네트워크 컴포넌트다. 클라이언트의 요청을 받아 내부적으로 서버에 재요청하거나, 서버의 응답을 가로채 가공 후 클라이언트에 전달한다. 이를 통해 IP 마스킹, 접근제어, 웹 캐싱, 트래픽 분석 등 다양한 부가가치 기능이 가능하며, 기업환경/개인/서비스 제공자 모두에게 유익한 네트워크 인프라의 핵심 요소로 자리한다. 프록시는 네트워크의 투명성 (Transparency) 또는 비투명성, 규칙 기반 접근 관리 등 다채로운 활용법을 지원한다.</p><h3 id=핵심-개념>핵심 개념<a hidden class=anchor aria-hidden=true href=#핵심-개념>#</a></h3><ul><li>**프록시 (Proxy)**는 네트워크의 중간에 위치하여 클라이언트와 서버 간 데이터 송수신을 중계한다.</li><li>프록시는 <strong>요청 (Request)</strong> 및 **응답 (Response)**을 자체적으로 가공, 분석, 전달, 필터링, 캐싱, 모니터링 할 수 있다.</li><li>네트워크 최적화 (캐싱), 보안 강화 (차단, 인증), 로깅 및 모니터링, 익명성 보장, 접근제어 등 다양한 부가 기능이 구현된다.</li><li><strong>투명 (Transparent) 프록시</strong>는 요청이 중계되는 사실이 클라이언트나 서버에 숨겨져 있고, <strong>비투명 (Non-transparent) 프록시</strong>는 명시적으로 중계가 이루어진다.</li></ul><h4 id=실무-구현을-위한-연관성>실무 구현을 위한 연관성<a hidden class=anchor aria-hidden=true href=#실무-구현을-위한-연관성>#</a></h4><ul><li><strong>아키텍처 측면</strong>: 마이크로서비스 아키텍처에서 API 게이트웨이 (API Gateway) 역할을 수행하며, 서비스 간 통신을 중재한다.</li><li><strong>보안 측면</strong>: 웹 애플리케이션 방화벽 (WAF, Web Application Firewall) 과 연동하여 멀티 레이어 보안을 구현한다.</li><li><strong>성능 측면</strong>: CDN (Content Delivery Network) 과 연계하여 글로벌 콘텐츠 배포와 캐싱을 최적화한다.</li><li><strong>운영 측면</strong>: 모니터링 시스템과 연동하여 실시간 트래픽 분석과 성능 메트릭을 수집한다.</li></ul><h3 id=등장-배경-및-발전-과정>등장 배경 및 발전 과정<a hidden class=anchor aria-hidden=true href=#등장-배경-및-발전-과정>#</a></h3><p>프록시 개념은 1990 년대 초 인터넷의 상용화와 함께 등장했다. 초기에는 네트워크 대역폭 절약과 캐싱을 위해 개발되었으나, 웹 트래픽 증가와 보안 요구사항 강화로 인해 다양한 기능이 추가되었다. 2000 년대 이후 클라우드 컴퓨팅과 마이크로서비스 아키텍처의 확산으로 로드 밸런싱과 서비스 메시 (Service Mesh) 구성 요소로 발전했다.</p><h4 id=등장-배경>등장 배경<a hidden class=anchor aria-hidden=true href=#등장-배경>#</a></h4><p>프록시는 초창기 인터넷 환경에서 <strong>접근 제어</strong> 및 <strong>네트워크 효율화</strong>를 위해 등장했다.</p><ul><li><strong>방화벽 (Firewall)</strong> 와 함께 내부망 보호 역할로 도입됨</li><li>기업 내부에서 외부 인터넷 접속을 통제하기 위한 <strong>Forward Proxy</strong> 활용이 시작점</li></ul><h4 id=발전-흐름>발전 흐름<a hidden class=anchor aria-hidden=true href=#발전-흐름>#</a></h4><table><thead><tr><th>시대</th><th>발전 요소</th><th>특징</th></tr></thead><tbody><tr><td>1990s</td><td>Forward Proxy</td><td>네트워크 접근 제어, 웹 필터링</td></tr><tr><td>2000s</td><td>Reverse Proxy</td><td>웹 서버 보호 및 트래픽 분산</td></tr><tr><td>2010s</td><td>CDN, API Gateway 통합</td><td>캐싱, TLS 종료, 마이크로서비스 API 라우팅</td></tr><tr><td>2020s</td><td>클라우드 기반 Proxy-as-a-Service</td><td>Cloudflare, AWS, GCP 통합 프록시 기능 제공 (WAF, LB, DoS 보호 등)</td></tr></tbody></table><h3 id=목적-및-필요성>목적 및 필요성<a hidden class=anchor aria-hidden=true href=#목적-및-필요성>#</a></h3><table><thead><tr><th>목적</th><th>설명</th></tr></thead><tbody><tr><td><strong>보안</strong></td><td>클라이언트 혹은 서버 IP 를 숨기고, 접근 통제를 통해 공격을 차단</td></tr><tr><td><strong>캐싱 및 성능 향상</strong></td><td>자주 요청되는 데이터를 미리 저장하여 응답 속도 개선</td></tr><tr><td><strong>부하 분산</strong></td><td>트래픽을 여러 백엔드 서버로 분산시켜 가용성과 확장성 확보</td></tr><tr><td><strong>익명성 제공</strong></td><td>클라이언트 IP 를 은닉하여 사용자의 프라이버시 보호</td></tr><tr><td><strong>정책 제어</strong></td><td>접근 권한, 요청 속도 제한 등 정책 기반 필터링 가능</td></tr><tr><td><strong>로깅 및 모니터링</strong></td><td>트래픽 로그 수집, 이상 행위 탐지 등 운영 관리 기능 보완</td></tr></tbody></table><blockquote><p>프록시는 단순한 중계 이상의 <strong>보안 강화와 성능 최적화, 트래픽 제어</strong> 수단으로 진화했다.</p></blockquote><h3 id=주요-기능-및-역할>주요 기능 및 역할<a hidden class=anchor aria-hidden=true href=#주요-기능-및-역할>#</a></h3><table><thead><tr><th>기능</th><th>역할</th></tr></thead><tbody><tr><td>트래픽 중계</td><td>클라이언트의 요청을 서버에 대신 전달/응답 전송</td></tr><tr><td>보안 필터링</td><td>악성·유해 트래픽 차단, 바이러스 검사, SSL 검사 등</td></tr><tr><td>캐싱</td><td>빈번한 콘텐츠의 서버 부담 경감 및 빠른 서비스 제공</td></tr><tr><td>로깅·모니터링</td><td>트래픽 상세 기록 및 접근/사용 통계 수집, 감사 (Audit)</td></tr><tr><td>접근제어</td><td>사용자, 그룹, 도메인, IP 정책에 따른 접근 허용/차단</td></tr><tr><td>익명성 제공</td><td>클라이언트 정보 (IP 등) 은닉, 개인정보 보호</td></tr><tr><td>트래픽 규제</td><td>QoS(Quality of Service), 속도 제한 등 네트워크 자원 관리</td></tr></tbody></table><h3 id=특징>특징<a hidden class=anchor aria-hidden=true href=#특징>#</a></h3><table><thead><tr><th>특징</th><th>구현 기반 요소</th><th>설명</th></tr></thead><tbody><tr><td>중간자 아키텍처</td><td>클라이언트와 서버 사이</td><td>요청/응답을 통제하는 중앙 허브</td></tr><tr><td>양방향 통제 가능</td><td>ingress & egress 처리</td><td>내부 - 외부 양방향 트래픽 제어</td></tr><tr><td>위치 유연성</td><td>네트워크 구성에 따라 자유 배치</td><td>클라이언트 앞, 서버 앞, 라우터 앞</td></tr><tr><td>확장성</td><td>캐싱, 라우팅, 인증, 보안 기능 확장 가능</td><td>모듈 기반 기능 구성 가능 (NGINX, Envoy 등)</td></tr><tr><td>보안 중심 구성</td><td>TLS, 인증, WAF, Rate Limit 등 지원</td><td>보안 정책 실현 가능</td></tr><tr><td>클라우드 연동성</td><td>클라우드 플랫폼과 원활한 연계</td><td>API Gateway, WAF, CDN 역할 통합 가능</td></tr></tbody></table><h3 id=핵심-원칙>핵심 원칙<a hidden class=anchor aria-hidden=true href=#핵심-원칙>#</a></h3><table><thead><tr><th>원칙</th><th>설명</th></tr></thead><tbody><tr><td><strong>중립성과 투명성</strong></td><td>요청 내용에 개입하지 않거나 제한적으로만 개입</td></tr><tr><td><strong>정책 기반 필터링</strong></td><td>접근 제어/캐싱/로드밸런싱은 명시적 규칙 기반 처리</td></tr><tr><td><strong>비지속성 (Stateless)</strong></td><td>대부분의 프록시는 요청별 독립 처리, 상태 유지 최소화</td></tr><tr><td><strong>캐시 일관성 유지</strong></td><td>응답 TTL, ETag 등 헤더 기반 캐싱 정책 유지</td></tr><tr><td><strong>확장 가능 아키텍처</strong></td><td>마이크로서비스 환경과의 호환성 및 서비스 확장 고려</td></tr><tr><td><em>로깅 및 추적 가능성</em>*</td><td>모든 요청/응답은 로그 기반으로 추적 가능해야 함</td></tr></tbody></table><h3 id=주요-원리-및-작동-방식>주요 원리 및 작동 방식<a hidden class=anchor aria-hidden=true href=#주요-원리-및-작동-방식>#</a></h3><p>클라이언트/사용자 → 프록시 → 서버로 요청이 이동하며, 프록시는 요청/응답을 임의로 가공, 캐싱, 차단, 기록, 대체 등 할 수 있다.</p><h4 id=기본-작동-흐름-forward-proxy>기본 작동 흐름: Forward Proxy<a hidden class=anchor aria-hidden=true href=#기본-작동-흐름-forward-proxy>#</a></h4><pre class=mermaid>sequenceDiagram
    participant Client
    participant Proxy
    participant Server

    Client-&gt;&gt;Proxy: 요청 (GET http://example.com)
    Proxy-&gt;&gt;Server: 요청 전달
    Server--&gt;&gt;Proxy: 응답 (HTML, JSON 등)
    Proxy--&gt;&gt;Client: 응답 전달
</pre><p><strong>포워드 프록시 작동 흐름</strong></p><ol><li>클라이언트가 포워드 프록시에 대상 서버로의 요청을 전송한다.</li><li>프록시는 요청을 검사하고 필터링 규칙을 적용한다.</li><li>프록시는 필요한 경우 요청을 수정한다 (헤더 추가/변경 등).</li><li>프록시가 대상 서버에 요청을 전달한다.</li><li>대상 서버가 프록시에 응답을 전송한다.</li><li>프록시는 응답을 처리하고 (캐싱, 필터링 등) 클라이언트에게 전달한다.</li></ol><h4 id=reverse-proxy-구조>Reverse Proxy 구조<a hidden class=anchor aria-hidden=true href=#reverse-proxy-구조>#</a></h4><pre class=mermaid>sequenceDiagram
    participant Client
    participant ReverseProxy
    participant Backend1
    participant Backend2

    Client-&gt;&gt;ReverseProxy: 요청 (/api/data)
    alt 경로 기반 라우팅
        ReverseProxy-&gt;&gt;Backend1: 요청 전달 (/api/data)
    else 부하 분산
        ReverseProxy-&gt;&gt;Backend2: 요청 전달 (/api/data)
    end
    Backend1--&gt;&gt;ReverseProxy: 응답
    ReverseProxy--&gt;&gt;Client: 응답 전달
</pre><p><strong>리버스 프록시 작동 흐름</strong></p><ol><li>클라이언트가 리버스 프록시 (실제 서버로 인식) 에 요청을 전송한다.</li><li>리버스 프록시는 요청을 수신하고 필요한 경우 요청을 수정한다.</li><li>프록시는 라우팅 규칙에 따라 적절한 백엔드 서버를 선택한다.</li><li>프록시가 선택된 백엔드 서버에 요청을 전달한다.</li><li>백엔드 서버가 프록시에 응답을 전송한다.</li><li>프록시는 응답을 처리하고 (캐싱, 헤더 수정 등) 클라이언트에게 전달한다.</li></ol><h3 id=구조-및-아키텍처>구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#구조-및-아키텍처>#</a></h3><p>프록시 서버는 네트워크 트래픽의 중간에서 요청을 받아 적절히 처리하거나 우회하여 <strong>접근 제어, 성능 개선, 보안 강화</strong> 등을 담당하는 <strong>미들웨어 구성 요소</strong>이다.<br>구현 목적에 따라 Forward Proxy, Reverse Proxy, Transparent Proxy 등 다양한 아키텍처로 확장된다.</p><pre class=mermaid>graph TD
  subgraph Forward Proxy 구조
    Client1[클라이언트 A]
    Client2[클라이언트 B]
    ProxyF[Forward Proxy]
    Web[외부 웹 서버]
    Client1 --&gt; ProxyF --&gt; Web
    Client2 --&gt; ProxyF
  end

  subgraph Reverse Proxy 구조
    User[사용자]
    ProxyR[Reverse Proxy]
    Backend1[서버 A]
    Backend2[서버 B]
    User --&gt; ProxyR
    ProxyR --&gt; Backend1
    ProxyR --&gt; Backend2
  end
</pre><h4 id=구성-요소>구성 요소<a hidden class=anchor aria-hidden=true href=#구성-요소>#</a></h4><table><thead><tr><th>구분</th><th>구성 요소</th><th>기능</th><th>역할</th><th>특징</th></tr></thead><tbody><tr><td>필수</td><td>요청 핸들러 (Request Handler)</td><td>클라이언트 요청 수신 및 해석</td><td>요청 파싱, 필터 적용</td><td>HTTP/HTTPS, WebSocket 등 프로토콜 지원</td></tr><tr><td>필수</td><td>라우터 / 포워더</td><td>목적지 서버로 요청 전달</td><td>내부/외부 주소 결정</td><td>Forward, Reverse 여부에 따라 동작 방식 차이</td></tr><tr><td>필수</td><td>응답 핸들러 (Response Handler)</td><td>서버 응답 수신 후 반환</td><td>캐시 여부 판단, 헤더 수정</td><td>클라이언트 전달 최적화 수행</td></tr><tr><td>선택</td><td>캐시 엔진</td><td>응답 저장 및 재사용</td><td>반복 요청 응답 시간 단축</td><td>TTL, ETag, Vary 헤더 활용</td></tr><tr><td>선택</td><td>인증 모듈</td><td>요청에 대한 인증 및 권한 확인</td><td>사용자 접근 제어</td><td>API Key, OAuth, IP 인증 등</td></tr><tr><td>선택</td><td>TLS 처리 모듈</td><td>HTTPS 종료 처리</td><td>TLS handshake, 복호화</td><td>내부 망 평문 처리 가능</td></tr><tr><td>선택</td><td>로깅 / 모니터링</td><td>요청/응답 로그 기록</td><td>추적 및 감사 로그</td><td>JSON, syslog, ELK 등 연계 가능</td></tr></tbody></table><h3 id=구현-기법-및-방법>구현 기법 및 방법<a hidden class=anchor aria-hidden=true href=#구현-기법-및-방법>#</a></h3><table><thead><tr><th><strong>구현 기법 분류</strong></th><th><strong>설명 / 구성요소</strong></th><th><strong>주요 목적 / 기능</strong></th><th><strong>대표 예시</strong></th></tr></thead><tbody><tr><td><strong>NGINX / Apache 기반 정적 프록시</strong></td><td>설정 파일 기반 Reverse Proxy 구성요청 헤더 재정의, 캐싱, 로드밸런싱 등 지원</td><td>정적 구성 기반의 요청 중계정적 캐싱, SSL 종료, 단순 부하 분산</td><td><code>nginx.conf</code>, <code>mod_proxy</code>, OpenResty</td></tr><tr><td><strong>HAProxy / Envoy 기반 고성능 프록시</strong></td><td>고성능 L4/L7 지원, 헬스체크 및 TLS 종료, Load Balancing 및 Failover 기능 포함</td><td>로드밸런싱 + 헬스체크 + TLS 종료고성능 서비스 메시 구성</td><td>HAProxy, Envoy (ex: Istio Sidecar), API Gateway</td></tr><tr><td><strong>Node.js 기반 커스텀 프록시</strong></td><td>Express + <code>http-proxy-middleware</code> 등 사용필터링, 라우팅, 인증 헤더 등 미세 조정 가능</td><td>사용자 정의 라우팅 / 인증 / 캐시 정책 적용</td><td>사용자 정의 JWT 인증 프록시, GraphQL Gateway 등</td></tr><tr><td><strong>Cloud 매니지드 프록시</strong></td><td>AWS ELB/ALB, GCP Load Balancer 등 클라우드에서 관리형 제공</td><td>TLS 종료, Auto Scaling, 지리적 라우팅</td><td>AWS ALB, GCP HTTP(S) Load Balancer</td></tr><tr><td><strong>WAF 기반 보안 프록시</strong></td><td>Web Application Firewall 기능 내장 + Reverse Proxy 구성</td><td>OWASP Top10 대응웹 공격 차단 및 인증 정책 통제</td><td>Cloudflare, AWS WAF, Akamai Kona 등</td></tr><tr><td><strong>SOCKS / 투명 / 인증 프록시</strong></td><td>L3~L5 기반 트래픽 중계 / 네트워크 레벨 IP 우회 / 사용자 인증 조합</td><td>VPN, 애플리케이션 트래픽 우회, 보안 접속 제어</td><td>Shadowsocks, Squid Proxy, NTLM 인증 프록시 등</td></tr><tr><td><strong>캐싱 프록시</strong></td><td>요청 결과를 저장하여 반복 요청시 캐시 응답 TTL, 조건부 요청 설정 포함</td><td>응답 속도 향상, 대역폭 절감, 백엔드 부하 감소</td><td>Varnish Cache, NGINX 캐시, Squid Proxy</td></tr></tbody></table><ul><li><p><strong>NGINX vs HAProxy</strong>:</p><ul><li><strong>NGINX</strong>: 정적 설정, 정적 캐시/압축 최적, 설정 간단</li><li><strong>HAProxy</strong>: 고성능 동시 처리, 헬스체크, TCP/HTTP 지원 우수</li></ul></li><li><p><strong>Node.js 기반 커스텀 프록시</strong>:</p><ul><li>미세 제어 가능하지만 성능은 대형 트래픽 환경에서 불리함</li><li>GraphQL, 인증 기반 미들웨어 등에 적합</li></ul></li><li><p><strong>Cloud 프록시</strong>:</p><ul><li>설정은 간단하지만 복잡한 커스터마이징엔 한계</li><li>멀티리전, 자동 확장 필요 시 유리함</li></ul></li></ul><h4 id=nginx-기반-구현-예시>Nginx 기반 구현 예시<a hidden class=anchor aria-hidden=true href=#nginx-기반-구현-예시>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span><span class=lnt id=hl-3-12><a class=lnlinks href=#hl-3-12>12</a>
</span><span class=lnt id=hl-3-13><a class=lnlinks href=#hl-3-13>13</a>
</span><span class=lnt id=hl-3-14><a class=lnlinks href=#hl-3-14>14</a>
</span><span class=lnt id=hl-3-15><a class=lnlinks href=#hl-3-15>15</a>
</span><span class=lnt id=hl-3-16><a class=lnlinks href=#hl-3-16>16</a>
</span><span class=lnt id=hl-3-17><a class=lnlinks href=#hl-3-17>17</a>
</span><span class=lnt id=hl-3-18><a class=lnlinks href=#hl-3-18>18</a>
</span><span class=lnt id=hl-3-19><a class=lnlinks href=#hl-3-19>19</a>
</span><span class=lnt id=hl-3-20><a class=lnlinks href=#hl-3-20>20</a>
</span><span class=lnt id=hl-3-21><a class=lnlinks href=#hl-3-21>21</a>
</span><span class=lnt id=hl-3-22><a class=lnlinks href=#hl-3-22>22</a>
</span><span class=lnt id=hl-3-23><a class=lnlinks href=#hl-3-23>23</a>
</span><span class=lnt id=hl-3-24><a class=lnlinks href=#hl-3-24>24</a>
</span><span class=lnt id=hl-3-25><a class=lnlinks href=#hl-3-25>25</a>
</span><span class=lnt id=hl-3-26><a class=lnlinks href=#hl-3-26>26</a>
</span><span class=lnt id=hl-3-27><a class=lnlinks href=#hl-3-27>27</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>upstream</span> <span class=s>backend</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>server</span> <span class=n>backend1.example.com</span><span class=p>:</span><span class=mi>80</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server</span> <span class=n>backend2.example.com</span><span class=p>:</span><span class=mi>80</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server</span> <span class=n>backend3.example.com</span><span class=p>:</span><span class=mi>80</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>listen</span> <span class=mi>80</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server_name</span> <span class=s>example.com</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span> <span class=s>http://backend</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_set_header</span> <span class=s>Host</span> <span class=nv>$host</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_set_header</span> <span class=s>X-Real-IP</span> <span class=nv>$remote_addr</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_set_header</span> <span class=s>X-Forwarded-For</span> <span class=nv>$proxy_add_x_forwarded_for</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_set_header</span> <span class=s>X-Forwarded-Proto</span> <span class=nv>$scheme</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 캐싱 설정
</span></span></span><span class=line><span class=cl>        <span class=kn>proxy_cache</span> <span class=s>my_cache</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_cache_valid</span> <span class=mi>200</span> <span class=s>1h</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 타임아웃 설정
</span></span></span><span class=line><span class=cl>        <span class=kn>proxy_connect_timeout</span> <span class=s>5s</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_send_timeout</span> <span class=s>10s</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_read_timeout</span> <span class=s>10s</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=haproxy-기반-구현-예시>HAProxy 기반 구현 예시<a hidden class=anchor aria-hidden=true href=#haproxy-기반-구현-예시>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1> 1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2> 2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3> 3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4> 4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5> 5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6> 6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7> 7</a>
</span><span class=lnt id=hl-4-8><a class=lnlinks href=#hl-4-8> 8</a>
</span><span class=lnt id=hl-4-9><a class=lnlinks href=#hl-4-9> 9</a>
</span><span class=lnt id=hl-4-10><a class=lnlinks href=#hl-4-10>10</a>
</span><span class=lnt id=hl-4-11><a class=lnlinks href=#hl-4-11>11</a>
</span><span class=lnt id=hl-4-12><a class=lnlinks href=#hl-4-12>12</a>
</span><span class=lnt id=hl-4-13><a class=lnlinks href=#hl-4-13>13</a>
</span><span class=lnt id=hl-4-14><a class=lnlinks href=#hl-4-14>14</a>
</span><span class=lnt id=hl-4-15><a class=lnlinks href=#hl-4-15>15</a>
</span><span class=lnt id=hl-4-16><a class=lnlinks href=#hl-4-16>16</a>
</span><span class=lnt id=hl-4-17><a class=lnlinks href=#hl-4-17>17</a>
</span><span class=lnt id=hl-4-18><a class=lnlinks href=#hl-4-18>18</a>
</span><span class=lnt id=hl-4-19><a class=lnlinks href=#hl-4-19>19</a>
</span><span class=lnt id=hl-4-20><a class=lnlinks href=#hl-4-20>20</a>
</span><span class=lnt id=hl-4-21><a class=lnlinks href=#hl-4-21>21</a>
</span><span class=lnt id=hl-4-22><a class=lnlinks href=#hl-4-22>22</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>global
</span></span><span class=line><span class=cl>    daemon
</span></span><span class=line><span class=cl>    maxconn 4096
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>defaults
</span></span><span class=line><span class=cl>    mode http
</span></span><span class=line><span class=cl>    timeout connect 5s
</span></span><span class=line><span class=cl>    timeout client 10s
</span></span><span class=line><span class=cl>    timeout server 10s
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>frontend web_frontend
</span></span><span class=line><span class=cl>    bind *:80
</span></span><span class=line><span class=cl>    bind *:443 ssl crt /etc/ssl/crt/certificate.pem
</span></span><span class=line><span class=cl>    redirect scheme https if !{ ssl_fc }
</span></span><span class=line><span class=cl>    default_backend web_servers
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>backend web_servers
</span></span><span class=line><span class=cl>    balance roundrobin
</span></span><span class=line><span class=cl>    option httpchk GET /health
</span></span><span class=line><span class=cl>    server web1 192.168.1.10:8080 check
</span></span><span class=line><span class=cl>    server web2 192.168.1.11:8080 check
</span></span><span class=line><span class=cl>    server web3 192.168.1.12:8080 check
</span></span></code></pre></td></tr></table></div></div><h4 id=nodejs-기반-간단한-프록시-예시시>Node.js 기반 간단한 프록시 예시시<a hidden class=anchor aria-hidden=true href=#nodejs-기반-간단한-프록시-예시시>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1> 1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2> 2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3> 3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4> 4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5> 5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6> 6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7> 7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8> 8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9> 9</a>
</span><span class=lnt id=hl-5-10><a class=lnlinks href=#hl-5-10>10</a>
</span><span class=lnt id=hl-5-11><a class=lnlinks href=#hl-5-11>11</a>
</span><span class=lnt id=hl-5-12><a class=lnlinks href=#hl-5-12>12</a>
</span><span class=lnt id=hl-5-13><a class=lnlinks href=#hl-5-13>13</a>
</span><span class=lnt id=hl-5-14><a class=lnlinks href=#hl-5-14>14</a>
</span><span class=lnt id=hl-5-15><a class=lnlinks href=#hl-5-15>15</a>
</span><span class=lnt id=hl-5-16><a class=lnlinks href=#hl-5-16>16</a>
</span><span class=lnt id=hl-5-17><a class=lnlinks href=#hl-5-17>17</a>
</span><span class=lnt id=hl-5-18><a class=lnlinks href=#hl-5-18>18</a>
</span><span class=lnt id=hl-5-19><a class=lnlinks href=#hl-5-19>19</a>
</span><span class=lnt id=hl-5-20><a class=lnlinks href=#hl-5-20>20</a>
</span><span class=lnt id=hl-5-21><a class=lnlinks href=#hl-5-21>21</a>
</span><span class=lnt id=hl-5-22><a class=lnlinks href=#hl-5-22>22</a>
</span><span class=lnt id=hl-5-23><a class=lnlinks href=#hl-5-23>23</a>
</span><span class=lnt id=hl-5-24><a class=lnlinks href=#hl-5-24>24</a>
</span><span class=lnt id=hl-5-25><a class=lnlinks href=#hl-5-25>25</a>
</span><span class=lnt id=hl-5-26><a class=lnlinks href=#hl-5-26>26</a>
</span><span class=lnt id=hl-5-27><a class=lnlinks href=#hl-5-27>27</a>
</span><span class=lnt id=hl-5-28><a class=lnlinks href=#hl-5-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>http</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;http&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>httpProxy</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;http-proxy-middleware&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>express</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;express&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=nx>express</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 프록시 미들웨어 설정
</span></span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>proxyOptions</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>target</span><span class=o>:</span> <span class=s1>&#39;http://backend-server:3000&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>changeOrigin</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>pathRewrite</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;^/api&#39;</span><span class=o>:</span> <span class=s1>&#39;/api/v1&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>onProxyReq</span><span class=o>:</span> <span class=p>(</span><span class=nx>proxyReq</span><span class=p>,</span> <span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 요청 헤더 수정
</span></span></span><span class=line><span class=cl>        <span class=nx>proxyReq</span><span class=p>.</span><span class=nx>setHeader</span><span class=p>(</span><span class=s1>&#39;X-Forwarded-For&#39;</span><span class=p>,</span> <span class=nx>req</span><span class=p>.</span><span class=nx>ip</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>onProxyRes</span><span class=o>:</span> <span class=p>(</span><span class=nx>proxyRes</span><span class=p>,</span> <span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 응답 헤더 수정
</span></span></span><span class=line><span class=cl>        <span class=nx>proxyRes</span><span class=p>.</span><span class=nx>headers</span><span class=p>[</span><span class=s1>&#39;X-Proxy-By&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;MyProxy&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=s1>&#39;/api&#39;</span><span class=p>,</span> <span class=nx>httpProxy</span><span class=p>(</span><span class=nx>proxyOptions</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>listen</span><span class=p>(</span><span class=mi>8080</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;프록시 서버가 8080 포트에서 실행 중입니다.&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=장점>장점<a hidden class=anchor aria-hidden=true href=#장점>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>항목</strong></th><th><strong>설명</strong></th></tr></thead><tbody><tr><td><strong>보안 및 프라이버시</strong></td><td>클라이언트/서버 IP 은닉</td><td>클라이언트 또는 서버의 실제 IP 노출을 방지하여 익명성과 보안 향상</td></tr><tr><td></td><td>직접 연결 차단</td><td>외부 요청자가 백엔드와 직접 통신하지 못하도록 방지하여 공격면 최소화</td></tr><tr><td></td><td>악성 요청 필터링</td><td>악성 트래픽, 봇 요청, 비정상 트래픽 탐지 및 차단 가능</td></tr><tr><td></td><td>TLS 종료 (SSL 오프로드)</td><td>프록시에서 HTTPS 처리 수행 → 백엔드는 HTTP 처리만으로 단순화 및 리소스 절감</td></tr><tr><td><strong>네트워크 최적화</strong></td><td>캐싱 기능</td><td>정적 리소스 캐싱으로 응답 시간 단축 및 대역폭 절감</td></tr><tr><td></td><td>중복 제거/압축 최적화</td><td>중복된 데이터 제거 또는 콘텐츠 압축으로 네트워크 부하 감소</td></tr><tr><td><strong>트래픽 분산 및 확장성</strong></td><td>로드 밸런싱 기능</td><td>다수의 백엔드 서버로 요청을 분산하여 부하를 고르게 분산</td></tr><tr><td></td><td>서비스 무중단 운영</td><td>트래픽 라우팅 조정으로 서비스 중단 없이 배포 (Blue-Green, Canary 등) 가능</td></tr><tr><td></td><td>시스템 확장성</td><td>다양한 환경 및 구성에 대응 가능한 유연한 아키텍처 확장 기반 제공</td></tr><tr><td><strong>정책 및 운영 관리</strong></td><td>접근 제어/정책 적용</td><td>IP 기반 제한, 헤더 기반 인증 등 세부 네트워크 정책 적용 가능</td></tr><tr><td></td><td>로깅 및 가시성</td><td>모든 요청/응답 트래픽을 로깅하여 추적성 확보 및 이상 탐지 가능</td></tr><tr><td></td><td>중앙 집중형 제어</td><td>단일 진입점에서 모든 요청을 제어·감시하여 운영 단순화 및 정책 일관성 유지</td></tr><tr><td><strong>운영 최적화 및 성능</strong></td><td>성능 향상</td><td>캐싱 및 최적화를 통해 서버 응답 속도와 전체 시스템 성능 향상</td></tr><tr><td></td><td>백엔드 경량화</td><td>인증·암호화·필터링 등의 작업을 프록시에서 분산 처리하여 백엔드 부담 최소화</td></tr><tr><td></td><td>콘텐츠 최적화</td><td>이미지 리사이징, 압축, 리디렉션 등 콘텐츠 전달 최적화 기능 내장 가능</td></tr></tbody></table><h3 id=단점과-문제점-그리고-해결방안>단점과 문제점 그리고 해결방안<a hidden class=anchor aria-hidden=true href=#단점과-문제점-그리고-해결방안>#</a></h3><h4 id=단점>단점<a hidden class=anchor aria-hidden=true href=#단점>#</a></h4><table><thead><tr><th><strong>구분</strong></th><th><strong>항목</strong></th><th><strong>설명</strong></th><th><strong>대표 해결책</strong></th></tr></thead><tbody><tr><td><strong>성능 이슈</strong></td><td>병목 발생 / 레이턴시 증가</td><td>모든 트래픽이 프록시를 경유하므로 네트워크 지연 및 SPOF 우려 발생</td><td>클러스터 구성, 로드 밸런싱, Keep-Alive, 연결 풀링</td></tr><tr><td></td><td>TLS 복호화 오버헤드</td><td>HTTPS 트래픽 처리 시 CPU 리소스 사용량 증가</td><td>SSL Termination 전용 인스턴스 분리, 하드웨어 가속기 (HSM 등)</td></tr><tr><td><strong>운영 이슈</strong></td><td>설정 및 관리 복잡성</td><td>인증, 라우팅, 캐싱, 로깅 등 구성 요소의 증가로 복잡한 설정 관리 필요</td><td>IaC(Terraform/Ansible), 중앙 통합 설정 관리, 문서화</td></tr><tr><td></td><td>로그 저장 및 분석 비용</td><td>모든 트래픽 기록 시 대용량 로그 생성 → 저장소/처리 비용 증가</td><td>로그 압축, Fluentd + ELK/Loki 연동, 로그 보존 주기 조정</td></tr><tr><td></td><td>프라이버시/감사 위험</td><td>모든 요청·응답을 중계하면서 민감 정보가 로그에 포함될 수 있음</td><td>데이터 마스킹, 접근 제어, 민감 로그 필터링 정책 적용</td></tr><tr><td><strong>신뢰성 이슈</strong></td><td>장애 전파 위험 (SPOF)</td><td>프록시 서버 자체 장애 발생 시 전체 서비스 접근 차단 가능성</td><td>이중화 구성 (Active-Active or Passive), 헬스 체크 + 자동 Failover</td></tr></tbody></table><h4 id=문제점>문제점<a hidden class=anchor aria-hidden=true href=#문제점>#</a></h4><table><thead><tr><th><strong>구분</strong></th><th><strong>항목</strong></th><th><strong>원인</strong></th><th><strong>영향</strong></th><th><strong>탐지/진단 방법</strong></th><th><strong>예방/해결 방법</strong></th></tr></thead><tbody><tr><td><strong>캐시 관련</strong></td><td>캐시 일관성 / 무효화 실패</td><td>TTL 만료 실패, ETag 미지원, 데이터 갱신 알림 없음</td><td>잘못된 응답 제공, 사용자 혼란</td><td>Cache Hit Ratio, ETag 일치 확인</td><td>동적 TTL, 캐시 퍼지 (Purge), Soft/Hard Refresh 적용</td></tr><tr><td><strong>세션 관리</strong></td><td>세션 친화성 문제</td><td>로드 밸런싱 시 세션 정보가 서버 간 공유되지 않음</td><td>로그인 풀림, 트랜잭션 중단</td><td>세션 추적, 요청 로그 분석</td><td>Sticky Session, JWT 토큰, 외부 세션 저장소 (Redis 등)</td></tr><tr><td><strong>보안 이슈</strong></td><td>인증 우회</td><td>프록시 계층에서 인증 누락, 백엔드 직접 접근 가능</td><td>비인가 접근, 보안 정책 우회</td><td>API 접근 로그, 방화벽 로그 분석</td><td>요청별 ACL, 인증 필터 삽입, Zero Trust Routing 적용</td></tr><tr><td></td><td>내부 정보 노출</td><td>응답에 내부 IP/경로 노출, 로그에 민감 데이터 포함</td><td>보안 위협, 시스템 정보 노출</td><td>응답 헤더, 로그 감사</td><td>마스킹, 보안 헤더 삽입, 로그 필터 적용</td></tr><tr><td></td><td>SSL 종료 후 평문 통신</td><td>프록시~백엔드 간 TLS 미적용</td><td>패킷 스니핑 통한 정보 유출</td><td>네트워크 스니퍼, 트래픽 검사</td><td>TLS end-to-end, VPN 터널링, Mutual TLS</td></tr><tr><td><strong>가용성 이슈</strong></td><td>부하 집중 / 단일 인스턴스 구성</td><td>확장 불가한 단일 프록시 구성</td><td>리소스 고갈, 전체 서비스 중단</td><td>CPU, 메모리, QPS 모니터링</td><td>Auto Scaling, Horizontal Proxy Pool + Load Balancer 도입</td></tr><tr><td></td><td>TLS 인증서 오류</td><td>인증서 만료, 미연장, 호스트 불일치</td><td>HTTPS 접속 실패</td><td>TLS 핸드셰이크 실패 로그 분석</td><td>인증서 자동 갱신 (Certbot, AWS ACM), 모니터링</td></tr><tr><td></td><td>프록시 우회 시도</td><td>고급 사용자가 다른 경로를 통해 접근 시도</td><td>정책 우회, 추적 회피</td><td>DPI(Deep Packet Inspection), IP 검증</td><td>보안 룰 강화, User-Agent/IP 필터, 접근 제어 정책 강화</td></tr></tbody></table><h3 id=도전-과제>도전 과제<a hidden class=anchor aria-hidden=true href=#도전-과제>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>도전 과제</strong></th><th><strong>설명 및 원인</strong></th><th><strong>영향</strong></th><th><strong>해결 전략 / 기술</strong></th></tr></thead><tbody><tr><td><strong>보안 및 프라이버시</strong></td><td>고도화된 공격 대응</td><td>Bot, 우회, 제로데이, DDoS 등 신종 공격 패턴 지속 등장</td><td>보안 침해, 데이터 유출</td><td>AI 기반 이상 탐지, WAF 연계, Threat Intelligence, 제로트러스트 설계</td></tr><tr><td></td><td>TLS 처리의 민감 데이터 노출</td><td>프록시에서 TLS 해제를 수행할 경우 사용자 데이터가 일시적으로 평문 상태로 존재함</td><td>개인정보 유출 가능성</td><td>TLS 재암호화 (Re-encryption), TLS passthrough, End-to-End 암호화 적용</td></tr><tr><td></td><td>로깅 시 민감 정보 노출</td><td>Access Log / Error Log 에 IP, 토큰, 세션정보 등 포함</td><td>프라이버시 침해, 컴플라이언스 위반</td><td>로그 필터링, 마스킹, 익명화, GDPR/CCPA 대응 로깅 체계 구축</td></tr><tr><td><strong>스케일링 및 가용성</strong></td><td>트래픽 급증 시 스케일링 한계</td><td>정해진 인스턴스 수 또는 고정 구성의 프록시 인프라가 트래픽을 초과하지 못함</td><td>응답 지연, 장애 유발</td><td>Auto Scaling, Horizontal Scaling, Micro Proxy 분산 구성</td></tr><tr><td></td><td>단일 장애점 (SPOF)</td><td>단일 프록시 노드 장애 시 전체 시스템 중단 가능성 존재</td><td>전체 서비스 불가</td><td>이중화 (Active-Active), Load Balancer 연동, HA 구성</td></tr><tr><td></td><td>실시간 확장 시 불안정성</td><td>DNS, 서비스 디스커버리, Health Check 등 실시간 라우팅에 지연 발생</td><td>트래픽 유실, 라우팅 오류</td><td>서비스 디스커버리 자동화, DNS TTL 조절, 프록시 인스턴스 상태 기반 동적 등록</td></tr><tr><td><strong>성능 및 최적화</strong></td><td>TLS 오버헤드 및 암호화 부하</td><td>HTTPS 요청 증가로 인한 CPU 사용률 급증, 대역폭 증가</td><td>응답 지연, 시스템 과부하</td><td>하드웨어 TLS 오프로드, SSL Termination Proxy, Keep-Alive 최적화</td></tr><tr><td></td><td>캐싱 효율 저하</td><td>콘텐츠 다양성 증가, 캐시 미스 증가, 복잡한 캐싱 정책 미비</td><td>CDN 또는 Proxy 성능 저하</td><td>지능형 캐싱 정책, 엣지 캐시 활용, 콘텐츠 분류별 TTL 세분화</td></tr><tr><td></td><td>복합 트래픽의 처리 부하</td><td>이미지/비디오, API 등 다양한 요청 유형에 대한 최적화 처리 미흡</td><td>처리 시간 지연, UX 저하</td><td>콘텐츠 유형별 프록시 분리, MIME 기반 라우팅, 정적/동적 구분 최적화</td></tr><tr><td><strong>인증 및 정책 관리</strong></td><td>경로 기반 인증 누락</td><td>API 경로별 인증 정책이 미비하거나 공통 인증 로직으로 인해 예외 경로 발생</td><td>우회 접근 가능, 보안 사각지대 발생</td><td>RBAC, 정책 기반 접근 제어 (PBAC), 경로 단위 인증 적용</td></tr><tr><td></td><td>복잡한 정책 자동화의 어려움</td><td>다중 인증 방식 (OAuth2, API Key 등), 정책 갱신 지연, 수동 배포로 인한 오류</td><td>보안 정책 불일치, 운영 지연</td><td>정책 템플릿화, GitOps 기반 실시간 정책 배포, 정책 엔진 자동화 (OPA 등)</td></tr><tr><td><strong>운영 및 관측성</strong></td><td>로그 폭증 및 분석 난이도</td><td>고속 트래픽에서 로그가 폭발적으로 생성되며, 실시간 분석 체계 미흡 시 이상 탐지 실패</td><td>인시던트 대응 지연, 보안 이벤트 누락</td><td>로그 집계 (ELK, Loki), 분산 트레이싱 (OpenTelemetry), 로그 레벨 조정</td></tr><tr><td></td><td>장애 탐지 및 대응 자동화 부족</td><td>장애가 발생해도 수작업 대응으로 시간 지연 발생</td><td>SLA 하락, 고객 불만</td><td>헬스체크 강화, 자동 Failover, 지표 기반 Alerting 시스템 구축</td></tr></tbody></table><h3 id=분류-기준에-따른-종류-및-유형>분류 기준에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#분류-기준에-따른-종류-및-유형>#</a></h3><table><thead><tr><th><strong>분류 기준</strong></th><th><strong>유형</strong></th><th><strong>설명</strong></th><th><strong>대표 사용 사례</strong></th></tr></thead><tbody><tr><td><strong>동작 방향</strong></td><td>Forward Proxy</td><td>내부 클라이언트 → 외부 서버 요청 중계. 클라이언트 IP 은닉 등 목적</td><td>기업 내부망 → 인터넷 접근 제어, 방화벽, 콘텐츠 필터링</td></tr><tr><td></td><td>Reverse Proxy</td><td>외부 요청을 내부 서버로 라우팅. 서버 보호 및 부하 분산, SSL 종료</td><td>로드 밸런서, API Gateway, NGINX, Envoy</td></tr><tr><td><strong>위치</strong></td><td>클라이언트 측 프록시 (Forward)</td><td>사용자 네트워크 경계에 위치</td><td>가정용/기업용 프록시, 학교 검열 시스템</td></tr><tr><td></td><td>서버 측 프록시 (Reverse)</td><td>백엔드 앞단에 위치, 트래픽을 내부 서버에 전달</td><td>CDN, 로드밸런서, 보안 게이트웨이</td></tr><tr><td><strong>투명성</strong></td><td>Transparent Proxy</td><td>사용자에게 노출되지 않고 중간에서 트래픽 가로채기</td><td>ISP 네트워크 최적화, 감시, 로깅</td></tr><tr><td></td><td>Explicit Proxy</td><td>사용자가 명시적으로 설정한 프록시 (비투명)</td><td>브라우저 설정, 사내 보안 정책 적용</td></tr><tr><td></td><td>Anonymous Proxy</td><td>사용자 IP 은닉, 클라이언트 정보 제거</td><td>익명성 보장 브라우징, 프라이버시 보호</td></tr><tr><td><strong>프로토콜</strong></td><td>HTTP/HTTPS Proxy</td><td>HTTP(S) 기반 웹 트래픽 처리. 요청 헤더 조작/캐싱 등 가능</td><td>웹 서버, API Gateway, 브라우저 설정 등</td></tr><tr><td></td><td>SOCKS Proxy</td><td>TCP/UDP 포함 다양한 트래픽 전송. 애플리케이션 계층을 해석하지 않음</td><td>P2P, 게임, VPN 기반 우회, 범용 트래픽 라우팅</td></tr><tr><td></td><td>FTP Proxy</td><td>FTP 트래픽 프록시 중계 (파일 다운로드/업로드)</td><td>기업용 파일 서버, 외부 파일 접근 통제</td></tr><tr><td><strong>기능 목적</strong></td><td>Caching Proxy</td><td>응답을 저장해 재사용. 정적 리소스 캐싱 및 네트워크 비용 절감</td><td>CDN, 웹 가속, 정적 이미지/JS/CSS 캐싱</td></tr><tr><td></td><td>Load Balancing Proxy</td><td>요청을 여러 서버에 분산 처리</td><td>HAProxy, Envoy, NGINX 등</td></tr><tr><td></td><td>Security Proxy (WAF)</td><td>웹 공격 탐지/차단 (SQLi, XSS, CSRF 등)</td><td>Cloudflare, AWS WAF, Akamai</td></tr><tr><td></td><td>Authentication Proxy</td><td>사용자 인증 후 트래픽 중계</td><td>SSO, OAuth 프록시, 기업 내부 리소스 보호</td></tr><tr><td></td><td>Filtering Proxy</td><td>URL/콘텐츠 차단, 광고 제거 등 필터링 기능 포함</td><td>유해 사이트 차단, 광고 제거 프록시, 부모 통제 프록시</td></tr><tr><td></td><td>Logging/Monitoring Proxy</td><td>요청/응답 전송을 기록하거나 트래픽 패턴 분석</td><td>감시, 트래픽 분석, 보안 로그 수집</td></tr><tr><td><strong>배포 방식</strong></td><td>온프레미스 프록시</td><td>직접 서버에 구축하여 운영</td><td>학교/기업 내부망, 자체 구축 프록시 서버</td></tr><tr><td></td><td>클라우드 매니지드 프록시</td><td>AWS, GCP 등에서 제공하는 관리형 프록시 서비스</td><td>AWS ELB, Cloudflare, API Gateway</td></tr><tr><td></td><td>하이브리드 프록시</td><td>온프레미스 + 클라우드 혼합 구성</td><td>멀티리전 고가용성 구성, VPN + CDN 결합 구성</td></tr></tbody></table><h4 id=reverse-proxy-vs-forward-proxy>Reverse Proxy vs. Forward-Proxy<a hidden class=anchor aria-hidden=true href=#reverse-proxy-vs-forward-proxy>#</a></h4><p><figure><img alt="Forward Proxy vs Reverse Proxy" loading=lazy src=/img/https___dev-to-uploads.s3.amazonaws.com_uploads_articles_wqces5nwe4hb4bydyd13.png></figure></p><p>프록시 서버는 클라이언트와 서버 간의 중개자 역할을 하는 서버로, 네트워크 아키텍처에서 중요한 구성 요소이다.<br>프록시 서버는 크게 포워드 프록시 (Forward Proxy) 와 리버스 프록시 (Reverse Proxy) 로 구분된다.</p><p>리버스 프록시와 포워드 프록시는 모두 클라이언트 - 서버 간 통신에서 중개자 역할을 수행하지만, <strong>목적과 적용 영역에서 근본적인 차이</strong>가 있다.<br>포워드 프록시 (Forward Proxy) 는 주로 클라이언트를 보호하고 대신하여 요청을 처리하는 반면, 리버스 프록시 (Reverse Proxy) 는 서버를 보호하고 서버 앞에서 요청을 처리한다. 두 유형은 배치 위치, 주요 목적, 작동 방식, 보안 관점, 가시성 등에서 근본적인 차이가 있지만, 공통적으로 중개자 역할을 한다는 특성을 공유한다.</p><h5 id=기본-구조-및-동작-비교>기본 구조 및 동작 비교<a hidden class=anchor aria-hidden=true href=#기본-구조-및-동작-비교>#</a></h5><table><thead><tr><th>항목</th><th>Forward Proxy (포워드 프록시)</th><th>Reverse Proxy (리버스 프록시)</th></tr></thead><tbody><tr><td>위치</td><td>클라이언트 측</td><td>서버 측 (백엔드 앞단)</td></tr><tr><td>트래픽 방향</td><td>아웃바운드 (Outbound)</td><td>인바운드 (Inbound)</td></tr><tr><td>요청 흐름</td><td>클라이언트 → 프록시 → 인터넷 서버</td><td>클라이언트 → 프록시 → 백엔드 서버</td></tr><tr><td>클라이언트 인식</td><td>프록시 존재 인식 (명시적 설정 또는 투명 모드)</td><td>프록시를 실제 서버로 인식 (완전 투명)</td></tr><tr><td>서버 인식</td><td>클라이언트가 아닌 프록시로부터 요청을 수신</td><td>클라이언트 요청처럼 수신됨</td></tr></tbody></table><pre class=mermaid>graph LR
A[Client] --&gt;|&#34;① 요청&#34;| B[Forward Proxy]
B --&gt;|&#34;② 전달&#34;| C[외부 서버]
C --&gt;|&#34;③ 응답&#34;| B
B --&gt;|&#34;④ 전달&#34;| A

D[Client] --&gt;|&#34;❶ 요청&#34;| E[Reverse Proxy]
E --&gt;|&#34;❷ 분배&#34;| F[내부 서버1]
E --&gt;|&#34;❷ 분배&#34;| G[내부 서버2]
G --&gt;|&#34;❸ 응답&#34;| E
F --&gt;|&#34;❸ 응답&#34;| E
E --&gt;|&#34;❹ 전달&#34;| D
</pre><h5 id=주요-목적-및-기능>주요 목적 및 기능<a hidden class=anchor aria-hidden=true href=#주요-목적-및-기능>#</a></h5><table><thead><tr><th>항목</th><th>Forward Proxy</th><th>Reverse Proxy</th></tr></thead><tbody><tr><td>주요 목적</td><td>클라이언트 보호, 콘텐츠 필터링, 익명성, 지역 우회</td><td>서버 보호, 로드밸런싱, 보안 게이트웨이, 성능 최적화</td></tr><tr><td>대표 기능</td><td>콘텐츠 필터링, 액세스 제어, IP 익명화, 캐싱, 사용자 인증</td><td>로드밸런싱, SSL 종료, 캐싱, 압축, WAF, URL 재작성, A/B 테스트</td></tr><tr><td>캐싱 대상</td><td>클라이언트 요청에 대한 외부 응답</td><td>서버 응답 (정적 콘텐츠/API 등)</td></tr><tr><td>콘텐츠 필터링</td><td>키워드, 도메인, URL 기반</td><td>제한적 (일반적으로 수행하지 않음)</td></tr><tr><td>로드 밸런싱</td><td>없음</td><td>있음 (가중치, Round Robin, Least Connection 등)</td></tr><tr><td>API 게이트웨이 역할</td><td>없음</td><td>있음 (경로 기반 라우팅, 인증/권한 제어, 속도 제한 등)</td></tr></tbody></table><h5 id=보안-및-프라이버시>보안 및 프라이버시<a hidden class=anchor aria-hidden=true href=#보안-및-프라이버시>#</a></h5><table><thead><tr><th>항목</th><th>Forward Proxy</th><th>Reverse Proxy</th></tr></thead><tbody><tr><td>보안 초점</td><td>클라이언트 보호 및 접근 제어</td><td>백엔드 보호, DDoS 방어, SSL 처리, 인증 계층 통합</td></tr><tr><td>SSL 처리 방식</td><td>클라이언트 ↔ 프록시 간 SSL 처리</td><td>클라이언트 ↔ 프록시 ↔ 서버, SSL 종료 후 백엔드와 HTTP 통신 가능</td></tr><tr><td>인증 방식</td><td>사용자 인증 중심</td><td>백엔드 인증 통합 관리, OAuth, SSO 연계 가능</td></tr><tr><td>로그 수집</td><td>사용자 요청/접근 기록 중심</td><td>서버 성능, 요청 추적, 에러 모니터링 중심</td></tr><tr><td>프라이버시 보호</td><td>IP 숨김, DNS 프록싱, 위치 위장 가능</td><td>백엔드 서버 IP 은닉화, 공격 경로 은폐</td></tr></tbody></table><h5 id=프로토콜-및-확장성>프로토콜 및 확장성<a hidden class=anchor aria-hidden=true href=#프로토콜-및-확장성>#</a></h5><table><thead><tr><th>항목</th><th>Forward Proxy</th><th>Reverse Proxy</th></tr></thead><tbody><tr><td>지원 프로토콜</td><td>HTTP, HTTPS, SOCKS5, FTP, SMTP 등</td><td>HTTP, HTTPS, WebSocket, TCP/UDP, gRPC 등</td></tr><tr><td>확장성 구조</td><td>계층형, 수직 확장 중심</td><td>수평 확장 용이 (Auto Scaling, Load Balancer 와 결합)</td></tr><tr><td>클라우드 적합성</td><td>중간 (전통적 환경 중심)</td><td>높음 (클라우드 네이티브 환경에 최적화)</td></tr><tr><td>설정 난이도</td><td>클라이언트 설정 필요 (배포 및 자동화 어려움)</td><td>서버 측 설정, 클라이언트 무관, 구성 관리 편리</td></tr></tbody></table><h5 id=성능-및-자원-최적화>성능 및 자원 최적화<a hidden class=anchor aria-hidden=true href=#성능-및-자원-최적화>#</a></h5><table><thead><tr><th>항목</th><th>Forward Proxy</th><th>Reverse Proxy</th></tr></thead><tbody><tr><td>성능 최적화 방식</td><td>클라이언트 캐싱, 대역폭 절감, 콘텐츠 압축</td><td>캐싱, 압축, Keep-Alive, 연결 풀링, 콘텐츠 전송 최적화</td></tr><tr><td>주요 성능 요소</td><td>네트워크 대역폭, 캐시 크기, 연결 수</td><td>SSL 처리 성능, 이벤트 기반 비동기 처리, 지연 시간 최소화</td></tr><tr><td>장애 시 영향</td><td>인터넷 접근 불가 (대체 경로 가능 시 우회 가능)</td><td>백엔드 전체 장애 발생 가능성 (HA 구성으로 완화 필요)</td></tr></tbody></table><h5 id=실무-적용-환경>실무 적용 환경<a hidden class=anchor aria-hidden=true href=#실무-적용-환경>#</a></h5><table><thead><tr><th>항목</th><th>Forward Proxy 적용 사례</th><th>Reverse Proxy 적용 사례</th></tr></thead><tbody><tr><td>기업 환경</td><td>내부 네트워크 제어, 정책 기반 웹 접근 통제</td><td>로드밸런서, 인증 프록시, 백엔드 보호, 웹 방화벽</td></tr><tr><td>교육 기관</td><td>학생 인터넷 제한, 콘텐츠 차단</td><td>API 집약 서비스, 공통 인증 프레임워크 적용</td></tr><tr><td>클라우드 환경</td><td>보안 접근 경로, 프라이버시 보호용 게이트웨이 구성</td><td>멀티 리전 라우팅, 글로벌 서비스 CDN 연동</td></tr><tr><td>개인 사용자</td><td>VPN, Tor, 지역 우회, 광고 차단</td><td>없음 (주로 서비스 제공자 측에서 사용)</td></tr></tbody></table><h5 id=구현체-및-기술-스택>구현체 및 기술 스택<a hidden class=anchor aria-hidden=true href=#구현체-및-기술-스택>#</a></h5><table><thead><tr><th>구분</th><th>포워드 프록시 구현체</th><th>리버스 프록시 구현체</th></tr></thead><tbody><tr><td>오픈소스</td><td>Squid, Apache Traffic Server, Privoxy, mitmproxy</td><td>NGINX, HAProxy, Traefik, Envoy</td></tr><tr><td>클라우드 서비스</td><td>Zscaler, Cisco Umbrella, Cloudflare Gateway, AWS VPC 엔드포인트</td><td>AWS ALB, Google Cloud LB, Azure App Gateway, Cloudflare, Akamai</td></tr></tbody></table><h5 id=설계-및-운영-고려사항>설계 및 운영 고려사항<a hidden class=anchor aria-hidden=true href=#설계-및-운영-고려사항>#</a></h5><table><thead><tr><th>항목</th><th>Forward Proxy</th><th>Reverse Proxy</th></tr></thead><tbody><tr><td>설계 고려사항</td><td>사용자 구성 관리, HTTPS 처리, 정책 관리, 로그 보관, 자동화 도전</td><td>로드밸런싱 정책, SSL 인증서 관리, 고가용성 설계, 서비스 디스커버리 적용</td></tr><tr><td>운영 리스크</td><td>우회 시도, 인증서 유효성 오류, 네트워크 병목</td><td>단일 장애점 (SPOF), 설정 오류에 따른 전체 서비스 장애 가능성</td></tr><tr><td>규정 대응</td><td>GDPR 등 개인정보 보호 규정 적용 필요</td><td>클라이언트 데이터 보호, 서버 보안 정책 준수 필요</td></tr></tbody></table><h5 id=배포-시나리오-비교>배포 시나리오 비교<a hidden class=anchor aria-hidden=true href=#배포-시나리오-비교>#</a></h5><h6 id=포워드-프록시-배포-시나리오>포워드 프록시 배포 시나리오<a hidden class=anchor aria-hidden=true href=#포워드-프록시-배포-시나리오>#</a></h6><p><strong>1. 기업 네트워크 경계</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[내부 네트워크] → [포워드 프록시] → [방화벽] → [인터넷]
</span></span></code></pre></td></tr></table></div></div><ul><li>모든 아웃바운드 트래픽 제어</li><li>웹 필터링 및 콘텐츠 검사</li><li>인터넷 사용 모니터링</li></ul><p><strong>2. 계층형 프록시 구조</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[클라이언트] → [부서별 프록시] → [중앙 프록시] → [인터넷]
</span></span></code></pre></td></tr></table></div></div><ul><li>대규모 조직에 적합</li><li>부서별 정책 적용 가능</li><li>캐시 계층화로 성능 향상</li></ul><p><strong>3. 투명 프록시 배포</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[클라이언트] →(인식하지 못함)→ [투명 프록시] → [인터넷]
</span></span></code></pre></td></tr></table></div></div><ul><li>클라이언트 구성 불필요</li><li>네트워크 장비와 통합 (라우터, 스위치)</li><li>우회 가능성 낮음</li></ul><h6 id=리버스-프록시-배포-시나리오>리버스 프록시 배포 시나리오<a hidden class=anchor aria-hidden=true href=#리버스-프록시-배포-시나리오>#</a></h6><p><strong>1. 웹 서버 최전방</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[인터넷] → [방화벽] → [리버스 프록시] → [웹 서버 팜]
</span></span></code></pre></td></tr></table></div></div><ul><li>백엔드 서버 보호</li><li>SSL 종료 및 콘텐츠 캐싱</li><li>정적/동적 콘텐츠 분리</li></ul><p><strong>2. 마이크로서비스 API 게이트웨이</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[클라이언트] → [API 게이트웨이(리버스 프록시)] → [다양한 마이크로서비스]
</span></span></code></pre></td></tr></table></div></div><ul><li>중앙화된 인증 및 권한 부여</li><li>버전 관리 및 라우팅</li><li>속도 제한 및 모니터링</li></ul><p><strong>3. 다중 계층 프록시 아키텍처</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[클라이언트] → [CDN/엣지] → [지역 로드 밸런서] → [애플리케이션 프록시] → [백엔드]
</span></span></code></pre></td></tr></table></div></div><ul><li>글로벌 배포</li><li>계층별 전문화된 기능</li><li>멀티 리전 고가용성</li></ul><h5 id=구성-예시>구성 예시<a hidden class=anchor aria-hidden=true href=#구성-예시>#</a></h5><h6 id=포워드-프록시-구성-예시-squid>포워드 프록시 구성 예시 (Squid)<a hidden class=anchor aria-hidden=true href=#포워드-프록시-구성-예시-squid>#</a></h6><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1> 1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2> 2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3> 3</a>
</span><span class=lnt id=hl-13-4><a class=lnlinks href=#hl-13-4> 4</a>
</span><span class=lnt id=hl-13-5><a class=lnlinks href=#hl-13-5> 5</a>
</span><span class=lnt id=hl-13-6><a class=lnlinks href=#hl-13-6> 6</a>
</span><span class=lnt id=hl-13-7><a class=lnlinks href=#hl-13-7> 7</a>
</span><span class=lnt id=hl-13-8><a class=lnlinks href=#hl-13-8> 8</a>
</span><span class=lnt id=hl-13-9><a class=lnlinks href=#hl-13-9> 9</a>
</span><span class=lnt id=hl-13-10><a class=lnlinks href=#hl-13-10>10</a>
</span><span class=lnt id=hl-13-11><a class=lnlinks href=#hl-13-11>11</a>
</span><span class=lnt id=hl-13-12><a class=lnlinks href=#hl-13-12>12</a>
</span><span class=lnt id=hl-13-13><a class=lnlinks href=#hl-13-13>13</a>
</span><span class=lnt id=hl-13-14><a class=lnlinks href=#hl-13-14>14</a>
</span><span class=lnt id=hl-13-15><a class=lnlinks href=#hl-13-15>15</a>
</span><span class=lnt id=hl-13-16><a class=lnlinks href=#hl-13-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=c1># Squid 기본 구성 예시</span>
</span></span><span class=line><span class=cl><span class=n>http_port</span> <span class=mi>3128</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 액세스 제어</span>
</span></span><span class=line><span class=cl><span class=n>acl</span> <span class=n>localnet</span> <span class=n>src</span> <span class=mf>10.0</span><span class=o>.</span><span class=mf>0.0</span><span class=o>/</span><span class=mi>8</span>
</span></span><span class=line><span class=cl><span class=n>acl</span> <span class=n>allowed_sites</span> <span class=n>dstdomain</span> <span class=o>.</span><span class=n>example</span><span class=o>.</span><span class=n>com</span> <span class=o>.</span><span class=n>google</span><span class=o>.</span><span class=n>com</span>
</span></span><span class=line><span class=cl><span class=n>http_access</span> <span class=n>allow</span> <span class=n>localnet</span> <span class=n>allowed_sites</span>
</span></span><span class=line><span class=cl><span class=n>http_access</span> <span class=n>deny</span> <span class=n>all</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 캐싱 설정</span>
</span></span><span class=line><span class=cl><span class=n>cache_dir</span> <span class=n>ufs</span> <span class=o>/</span><span class=k>var</span><span class=o>/</span><span class=n>spool</span><span class=o>/</span><span class=n>squid</span> <span class=mi>100</span> <span class=mi>16</span> <span class=mi>256</span>
</span></span><span class=line><span class=cl><span class=n>cache_mem</span> <span class=mi>256</span> <span class=n>MB</span>
</span></span><span class=line><span class=cl><span class=n>maximum_object_size</span> <span class=mi>10</span> <span class=n>MB</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 로깅</span>
</span></span><span class=line><span class=cl><span class=n>access_log</span> <span class=o>/</span><span class=k>var</span><span class=o>/</span><span class=nb>log</span><span class=o>/</span><span class=n>squid</span><span class=o>/</span><span class=n>access</span><span class=o>.</span><span class=n>log</span> <span class=n>squid</span>
</span></span></code></pre></td></tr></table></div></div><h6 id=리버스-프록시-구성-예시-nginx>리버스 프록시 구성 예시 (Nginx)<a hidden class=anchor aria-hidden=true href=#리버스-프록시-구성-예시-nginx>#</a></h6><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1> 1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2> 2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3> 3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4> 4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5> 5</a>
</span><span class=lnt id=hl-14-6><a class=lnlinks href=#hl-14-6> 6</a>
</span><span class=lnt id=hl-14-7><a class=lnlinks href=#hl-14-7> 7</a>
</span><span class=lnt id=hl-14-8><a class=lnlinks href=#hl-14-8> 8</a>
</span><span class=lnt id=hl-14-9><a class=lnlinks href=#hl-14-9> 9</a>
</span><span class=lnt id=hl-14-10><a class=lnlinks href=#hl-14-10>10</a>
</span><span class=lnt id=hl-14-11><a class=lnlinks href=#hl-14-11>11</a>
</span><span class=lnt id=hl-14-12><a class=lnlinks href=#hl-14-12>12</a>
</span><span class=lnt id=hl-14-13><a class=lnlinks href=#hl-14-13>13</a>
</span><span class=lnt id=hl-14-14><a class=lnlinks href=#hl-14-14>14</a>
</span><span class=lnt id=hl-14-15><a class=lnlinks href=#hl-14-15>15</a>
</span><span class=lnt id=hl-14-16><a class=lnlinks href=#hl-14-16>16</a>
</span><span class=lnt id=hl-14-17><a class=lnlinks href=#hl-14-17>17</a>
</span><span class=lnt id=hl-14-18><a class=lnlinks href=#hl-14-18>18</a>
</span><span class=lnt id=hl-14-19><a class=lnlinks href=#hl-14-19>19</a>
</span><span class=lnt id=hl-14-20><a class=lnlinks href=#hl-14-20>20</a>
</span><span class=lnt id=hl-14-21><a class=lnlinks href=#hl-14-21>21</a>
</span><span class=lnt id=hl-14-22><a class=lnlinks href=#hl-14-22>22</a>
</span><span class=lnt id=hl-14-23><a class=lnlinks href=#hl-14-23>23</a>
</span><span class=lnt id=hl-14-24><a class=lnlinks href=#hl-14-24>24</a>
</span><span class=lnt id=hl-14-25><a class=lnlinks href=#hl-14-25>25</a>
</span><span class=lnt id=hl-14-26><a class=lnlinks href=#hl-14-26>26</a>
</span><span class=lnt id=hl-14-27><a class=lnlinks href=#hl-14-27>27</a>
</span><span class=lnt id=hl-14-28><a class=lnlinks href=#hl-14-28>28</a>
</span><span class=lnt id=hl-14-29><a class=lnlinks href=#hl-14-29>29</a>
</span><span class=lnt id=hl-14-30><a class=lnlinks href=#hl-14-30>30</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=c1># Nginx 리버스 프록시 구성 예시
</span></span></span><span class=line><span class=cl><span class=k>http</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>upstream</span> <span class=s>backend_servers</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>server</span> <span class=n>backend1.example.com</span><span class=p>:</span><span class=mi>8080</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>server</span> <span class=n>backend2.example.com</span><span class=p>:</span><span class=mi>8080</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>server</span> <span class=n>backend3.example.com</span><span class=p>:</span><span class=mi>8080</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kn>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>listen</span> <span class=mi>80</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>server_name</span> <span class=s>example.com</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=kn>proxy_pass</span> <span class=s>http://backend_servers</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=kn>proxy_set_header</span> <span class=s>Host</span> <span class=nv>$host</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=kn>proxy_set_header</span> <span class=s>X-Real-IP</span> <span class=nv>$remote_addr</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=kn>proxy_set_header</span> <span class=s>X-Forwarded-For</span> <span class=nv>$proxy_add_x_forwarded_for</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=kn>proxy_set_header</span> <span class=s>X-Forwarded-Proto</span> <span class=nv>$scheme</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># 캐싱 설정
</span></span></span><span class=line><span class=cl>        <span class=kn>location</span> <span class=p>~</span><span class=sr>*</span> <span class=s>\.(jpg|jpeg|png|gif|ico|css|js)</span>$ <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=kn>proxy_pass</span> <span class=s>http://backend_servers</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=kn>proxy_cache</span> <span class=s>mycache</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=kn>proxy_cache_valid</span> <span class=mi>200</span> <span class=mi>302</span> <span class=s>1h</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=kn>proxy_cache_valid</span> <span class=mi>404</span> <span class=mi>1m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=kn>expires</span> <span class=s>1h</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=실무-사용-예시>실무 사용 예시<a hidden class=anchor aria-hidden=true href=#실무-사용-예시>#</a></h3><table><thead><tr><th><strong>역할 카테고리</strong></th><th><strong>대표 목적</strong></th><th><strong>주요 활용 기술</strong></th><th><strong>기대 효과 / 설명</strong></th></tr></thead><tbody><tr><td><strong>트래픽 분산 및 확장성</strong></td><td>로드 밸런싱, 고가용성</td><td>NGINX, HAProxy, AWS ALB, GeoDNS, Reverse Proxy</td><td>서버 간 트래픽 분산, 이중화, 지역 기반 트래픽 분배로 서비스 안정성 및 확장성 확보</td></tr><tr><td><strong>콘텐츠 최적화 및 캐싱</strong></td><td>정적 콘텐츠 캐싱, 응답 속도 향상</td><td>CDN (CloudFront, Cloudflare), Cache Layer, Reverse Proxy</td><td>캐싱을 통한 응답 지연 최소화, 이미지/파일 등 정적 콘텐츠 배포 최적화</td></tr><tr><td><strong>보안 및 접근 제어</strong></td><td>외부 공격 방어, 내부 접근 통제</td><td>WAF, TLS Termination, ACL, SSO, IDS/IPS, VPN, 인증 서버</td><td>OWASP Top 10 방어, 암호화 처리 (TLS), 사용자 인증 및 권한 관리</td></tr><tr><td><strong>마이크로서비스 통신 관리</strong></td><td>서비스 간 API 라우팅, 인증 처리</td><td>API Gateway(Kong, Envoy, Istio), JWT, Rate Limiter, Service Mesh</td><td>각 서비스 경로별 인증 및 요청 분산, 서비스 디스커버리 및 정책 중심 통신 제어</td></tr><tr><td><strong>네트워크 정책 및 로깅</strong></td><td>트래픽 필터링, 모니터링, 감사</td><td>Squid, BlueCoat, Zscaler, Proxy ACL, 로그 서버</td><td>사용자 요청 제어, 로그 수집, 내부 보안 정책 시행 및 감사 대응</td></tr><tr><td><strong>인프라 운영 자동화 및 최적화</strong></td><td>설정 자동화, 커넥션 최적화</td><td>Ansible, NGINX Config, Consul, ProxySQL, MaxScale</td><td>프록시 구성 자동화, 데이터베이스 커넥션 풀링, 환경별 설정 분리 운영</td></tr></tbody></table><h3 id=활용-사례>활용 사례<a hidden class=anchor aria-hidden=true href=#활용-사례>#</a></h3><h4 id=사례-1-마이크로서비스-기반의-웹-플랫폼>사례 1: 마이크로서비스 기반의 웹 플랫폼<a hidden class=anchor aria-hidden=true href=#사례-1-마이크로서비스-기반의-웹-플랫폼>#</a></h4><p><strong>시나리오</strong>: 마이크로서비스 기반의 웹 플랫폼에서 모든 클라이언트 요청을 Reverse Proxy 를 통해 인증, 라우팅, 캐싱하고 백엔드 서비스와 연결한다.</p><p><strong>시스템 구성</strong>:</p><ul><li>클라이언트는 단일 Entry Point(프록시) 로 요청</li><li>프록시는 요청 인증 및 라우팅 처리</li><li>API 는 독립된 마이크로서비스로 동작</li><li>Redis 를 통해 응답 캐싱</li></ul><pre class=mermaid>graph TD
    Client[사용자]
    Proxy[&#34;Reverse Proxy (NGINX)&#34;]
    Auth[인증 서비스]
    API1[주문 API]
    API2[결제 API]
    Redis[캐시 서버]

    Client --&gt; Proxy
    Proxy --&gt; Auth
    Proxy --&gt; Redis
    Proxy --&gt; API1
    Proxy --&gt; API2
    API1 --&gt; Redis
    API2 --&gt; Redis
</pre><p><strong>Workflow</strong>:</p><ol><li>클라이언트 요청을 프록시가 수신</li><li>인증 토큰 확인 후 <code>/api/order</code> 요청은 API1 으로 라우팅</li><li><code>/api/pay</code> 요청은 API2 로 라우팅</li><li>응답은 Redis 에 캐싱</li><li>캐시된 응답은 재요청 시 프록시에서 직접 반환</li></ol><p><strong>역할</strong>:</p><ul><li>Reverse Proxy: 요청 라우팅 및 인증 연계</li><li>Auth 서비스: 인증 토큰 검증</li><li>Redis: 응답 캐싱</li><li>Backend API: 비즈니스 로직 처리</li></ul><p><strong>유무에 따른 차이점</strong>:</p><table><thead><tr><th>항목</th><th>프록시 미사용 시</th><th>프록시 사용 시</th></tr></thead><tbody><tr><td>인증 분리</td><td>각 API 별 인증 처리 필요</td><td>프록시에서 일괄 처리 가능</td></tr><tr><td>확장성</td><td>API 직접 접근</td><td>요청 추상화 및 분산 처리 가능</td></tr><tr><td>보안</td><td>백엔드 노출</td><td>IP 숨김, TLS 종료 및 보호</td></tr><tr><td>성능</td><td>캐시 없음, 서버 부담 ↑</td><td>응답 캐싱 가능, 서버 부하 ↓</td></tr></tbody></table><p><strong>구현 예시</strong>: Node.js + Express + http-proxy-middleware</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1> 1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2> 2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3> 3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4> 4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5> 5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6> 6</a>
</span><span class=lnt id=hl-16-7><a class=lnlinks href=#hl-16-7> 7</a>
</span><span class=lnt id=hl-16-8><a class=lnlinks href=#hl-16-8> 8</a>
</span><span class=lnt id=hl-16-9><a class=lnlinks href=#hl-16-9> 9</a>
</span><span class=lnt id=hl-16-10><a class=lnlinks href=#hl-16-10>10</a>
</span><span class=lnt id=hl-16-11><a class=lnlinks href=#hl-16-11>11</a>
</span><span class=lnt id=hl-16-12><a class=lnlinks href=#hl-16-12>12</a>
</span><span class=lnt id=hl-16-13><a class=lnlinks href=#hl-16-13>13</a>
</span><span class=lnt id=hl-16-14><a class=lnlinks href=#hl-16-14>14</a>
</span><span class=lnt id=hl-16-15><a class=lnlinks href=#hl-16-15>15</a>
</span><span class=lnt id=hl-16-16><a class=lnlinks href=#hl-16-16>16</a>
</span><span class=lnt id=hl-16-17><a class=lnlinks href=#hl-16-17>17</a>
</span><span class=lnt id=hl-16-18><a class=lnlinks href=#hl-16-18>18</a>
</span><span class=lnt id=hl-16-19><a class=lnlinks href=#hl-16-19>19</a>
</span><span class=lnt id=hl-16-20><a class=lnlinks href=#hl-16-20>20</a>
</span><span class=lnt id=hl-16-21><a class=lnlinks href=#hl-16-21>21</a>
</span><span class=lnt id=hl-16-22><a class=lnlinks href=#hl-16-22>22</a>
</span><span class=lnt id=hl-16-23><a class=lnlinks href=#hl-16-23>23</a>
</span><span class=lnt id=hl-16-24><a class=lnlinks href=#hl-16-24>24</a>
</span><span class=lnt id=hl-16-25><a class=lnlinks href=#hl-16-25>25</a>
</span><span class=lnt id=hl-16-26><a class=lnlinks href=#hl-16-26>26</a>
</span><span class=lnt id=hl-16-27><a class=lnlinks href=#hl-16-27>27</a>
</span><span class=lnt id=hl-16-28><a class=lnlinks href=#hl-16-28>28</a>
</span><span class=lnt id=hl-16-29><a class=lnlinks href=#hl-16-29>29</a>
</span><span class=lnt id=hl-16-30><a class=lnlinks href=#hl-16-30>30</a>
</span><span class=lnt id=hl-16-31><a class=lnlinks href=#hl-16-31>31</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>express</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;express&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=p>{</span> <span class=nx>createProxyMiddleware</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;http-proxy-middleware&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=nx>express</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 인증 처리 미들웨어
</span></span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>((</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>,</span> <span class=nx>next</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>token</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>headers</span><span class=p>[</span><span class=s1>&#39;authorization&#39;</span><span class=p>];</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>token</span> <span class=o>||</span> <span class=nx>token</span> <span class=o>!==</span> <span class=s1>&#39;Bearer VALID_TOKEN&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>401</span><span class=p>).</span><span class=nx>send</span><span class=p>(</span><span class=s1>&#39;Unauthorized&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=nx>next</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 주문 API 프록시
</span></span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=s1>&#39;/api/order&#39;</span><span class=p>,</span> <span class=nx>createProxyMiddleware</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>target</span><span class=o>:</span> <span class=s1>&#39;http://localhost:5001&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>changeOrigin</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>pathRewrite</span><span class=o>:</span> <span class=p>{</span> <span class=s1>&#39;^/api/order&#39;</span><span class=o>:</span> <span class=s1>&#39;&#39;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 결제 API 프록시
</span></span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=s1>&#39;/api/pay&#39;</span><span class=p>,</span> <span class=nx>createProxyMiddleware</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>target</span><span class=o>:</span> <span class=s1>&#39;http://localhost:5002&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>changeOrigin</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>pathRewrite</span><span class=o>:</span> <span class=p>{</span> <span class=s1>&#39;^/api/pay&#39;</span><span class=o>:</span> <span class=s1>&#39;&#39;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>listen</span><span class=p>(</span><span class=mi>3000</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Proxy 서버 실행 중: http://localhost:3000&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=사례-2-기업의-프록시-서버>사례 2: 기업의 프록시 서버<a hidden class=anchor aria-hidden=true href=#사례-2-기업의-프록시-서버>#</a></h4><p><strong>시나리오</strong>: 기업 내부 사용자가 인터넷에 접근할 때 기업의 프록시 서버를 반드시 거쳐 익명성, 보안, 트래픽 최적화, 접근제어를 동시에 실현</p><p><strong>시스템 구성</strong>:</p><ul><li>사내 클라이언트</li><li>내부 네트워크 방화벽</li><li>프록시 서버 (정책, 캐싱, 인증, 로깅 모듈)</li><li>외부 인터넷 서버</li></ul><pre class=mermaid>graph TD
    User[사내 사용자 / Client] --&gt; Firewall[내부방화벽 / Firewall]
    Firewall --&gt; ProxyServer[프록시 서버]
    ProxyServer --&gt; Internet[외부 인터넷 서버]
    ProxyServer -- 캐싱/정책/로깅/인증 --&gt; ProxyModules
</pre><p><strong>Workflow</strong>:</p><ul><li>사용자가 웹사이트 접근 요청</li><li>방화벽에서 허용된 트래픽만 프록시로 이동</li><li>프록시 서버가 접근제어, 캐싱, 필터링, 로깅, 익명성 정책 적용</li><li>외부 요청 중계, 서버 응답도 정책 반영 후 사용자에 전달</li></ul><p><strong>역할</strong>:</p><ul><li>프록시: 모든 네트워크 정책 집행, 보안, 성능 향상, 접근제어 총괄</li></ul><p><strong>유무에 따른 차이점</strong>:</p><ul><li>프록시 없이: 직접 인터넷 연결, 익명성/보안 부재, 로깅 미흡, 트래픽 비효율</li><li>프록시 활용: 체계적 정책/보안/캐싱/로깅 가능, 내부 정보 은닉</li></ul><p><strong>구현 예시</strong>: Python, HTTP 프록시</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1> 1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2> 2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3> 3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4> 4</a>
</span><span class=lnt id=hl-18-5><a class=lnlinks href=#hl-18-5> 5</a>
</span><span class=lnt id=hl-18-6><a class=lnlinks href=#hl-18-6> 6</a>
</span><span class=lnt id=hl-18-7><a class=lnlinks href=#hl-18-7> 7</a>
</span><span class=lnt id=hl-18-8><a class=lnlinks href=#hl-18-8> 8</a>
</span><span class=lnt id=hl-18-9><a class=lnlinks href=#hl-18-9> 9</a>
</span><span class=lnt id=hl-18-10><a class=lnlinks href=#hl-18-10>10</a>
</span><span class=lnt id=hl-18-11><a class=lnlinks href=#hl-18-11>11</a>
</span><span class=lnt id=hl-18-12><a class=lnlinks href=#hl-18-12>12</a>
</span><span class=lnt id=hl-18-13><a class=lnlinks href=#hl-18-13>13</a>
</span><span class=lnt id=hl-18-14><a class=lnlinks href=#hl-18-14>14</a>
</span><span class=lnt id=hl-18-15><a class=lnlinks href=#hl-18-15>15</a>
</span><span class=lnt id=hl-18-16><a class=lnlinks href=#hl-18-16>16</a>
</span><span class=lnt id=hl-18-17><a class=lnlinks href=#hl-18-17>17</a>
</span><span class=lnt id=hl-18-18><a class=lnlinks href=#hl-18-18>18</a>
</span><span class=lnt id=hl-18-19><a class=lnlinks href=#hl-18-19>19</a>
</span><span class=lnt id=hl-18-20><a class=lnlinks href=#hl-18-20>20</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>http.server</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>socketserver</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>PORT</span> <span class=o>=</span> <span class=mi>8080</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SimpleProxy</span><span class=p>(</span><span class=n>http</span><span class=o>.</span><span class=n>server</span><span class=o>.</span><span class=n>SimpleHTTPRequestHandler</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>do_GET</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># 간단히 요청 로그 기록</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;요청 URI: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>path</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># 외부 서버에 요청 중계(여기서는 하드코딩 예시)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>send_response</span><span class=p>(</span><span class=mi>200</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>send_header</span><span class=p>(</span><span class=s1>&#39;Content-type&#39;</span><span class=p>,</span><span class=s1>&#39;text/html&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>end_headers</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>response</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;이 요청은 프록시를 거쳤습니다.요청 URI: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>path</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>wfile</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>response</span><span class=o>.</span><span class=n>encode</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=n>socketserver</span><span class=o>.</span><span class=n>TCPServer</span><span class=p>((</span><span class=s2>&#34;&#34;</span><span class=p>,</span> <span class=n>PORT</span><span class=p>),</span> <span class=n>SimpleProxy</span><span class=p>)</span> <span class=k>as</span> <span class=n>httpd</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;프록시 서버 구동 (포트: </span><span class=si>{</span><span class=n>PORT</span><span class=si>}</span><span class=s2>)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>httpd</span><span class=o>.</span><span class=n>serve_forever</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=사례-3-전자상거래-플랫폼의-고가용성-웹-서비스-구축>사례 3: 전자상거래 플랫폼의 고가용성 웹 서비스 구축<a hidden class=anchor aria-hidden=true href=#사례-3-전자상거래-플랫폼의-고가용성-웹-서비스-구축>#</a></h4><p><strong>시나리오</strong>: 대규모 전자상거래 플랫폼의 고가용성 웹 서비스 구축</p><p><strong>시스템 구성</strong>:</p><ul><li>프론트엔드: React 기반 SPA (Single Page Application)</li><li>리버스 프록시: Nginx (로드 밸런서 및 SSL 종료)</li><li>백엔드 서버: Node.js 애플리케이션 서버 3 대</li><li>데이터베이스: MySQL 클러스터</li><li>캐시: Redis 클러스터</li></ul><pre class=mermaid>graph TB
    subgraph &#34;클라이언트&#34;
        Browser[웹 브라우저]
        Mobile[모바일 앱]
    end
    
    subgraph &#34;CDN 계층&#34;
        CDN[CloudFlare CDN]
    end
    
    subgraph &#34;로드 밸런서 계층&#34;
        LB[Nginx 리버스 프록시]
    end
    
    subgraph &#34;애플리케이션 계층&#34;
        App1[Node.js 서버 1]
        App2[Node.js 서버 2]
        App3[Node.js 서버 3]
    end
    
    subgraph &#34;캐시 계층&#34;
        Redis[(Redis 클러스터)]
    end
    
    subgraph &#34;데이터베이스 계층&#34;
        Master[(MySQL Master)]
        Slave1[(MySQL Slave 1)]
        Slave2[(MySQL Slave 2)]
    end
    
    Browser --&gt; CDN
    Mobile --&gt; CDN
    CDN --&gt; LB
    
    LB --&gt; App1
    LB --&gt; App2
    LB --&gt; App3
    
    App1 --&gt; Redis
    App2 --&gt; Redis
    App3 --&gt; Redis
    
    App1 --&gt; Master
    App2 --&gt; Slave1
    App3 --&gt; Slave2
</pre><p><strong>Workflow</strong>:</p><ol><li>클라이언트 요청이 CDN 을 통해 정적 콘텐츠는 즉시 제공</li><li>동적 요청은 Nginx 리버스 프록시로 전달</li><li>SSL 종료 및 요청 분석 후 헬스한 백엔드 서버로 라우팅</li><li>애플리케이션 서버에서 Redis 캐시 확인 후 처리</li><li>필요시 데이터베이스 조회 및 응답 반환</li></ol><p><strong>역할</strong>:</p><ul><li><strong>CDN</strong>: 정적 자산 캐싱 및 글로벌 배포</li><li><strong>Nginx 프록시</strong>: SSL 종료, 로드 밸런싱, 압축, 보안 헤더 추가</li><li><strong>애플리케이션 서버</strong>: 비즈니스 로직 처리</li><li><strong>Redis</strong>: 세션 및 데이터 캐싱</li><li><strong>MySQL</strong>: 영구 데이터 저장</li></ul><p><strong>유무에 따른 차이점</strong>:</p><ul><li><strong>프록시 있음</strong>: 단일 진입점, 로드 분산, SSL 중앙 관리, 캐싱 최적화</li><li><strong>프록시 없음</strong>: 각 서버 개별 접근, 불균등한 부하, 복잡한 SSL 관리, 캐싱 비효율</li></ul><p><strong>구현 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-20-1><a class=lnlinks href=#hl-20-1>  1</a>
</span><span class=lnt id=hl-20-2><a class=lnlinks href=#hl-20-2>  2</a>
</span><span class=lnt id=hl-20-3><a class=lnlinks href=#hl-20-3>  3</a>
</span><span class=lnt id=hl-20-4><a class=lnlinks href=#hl-20-4>  4</a>
</span><span class=lnt id=hl-20-5><a class=lnlinks href=#hl-20-5>  5</a>
</span><span class=lnt id=hl-20-6><a class=lnlinks href=#hl-20-6>  6</a>
</span><span class=lnt id=hl-20-7><a class=lnlinks href=#hl-20-7>  7</a>
</span><span class=lnt id=hl-20-8><a class=lnlinks href=#hl-20-8>  8</a>
</span><span class=lnt id=hl-20-9><a class=lnlinks href=#hl-20-9>  9</a>
</span><span class=lnt id=hl-20-10><a class=lnlinks href=#hl-20-10> 10</a>
</span><span class=lnt id=hl-20-11><a class=lnlinks href=#hl-20-11> 11</a>
</span><span class=lnt id=hl-20-12><a class=lnlinks href=#hl-20-12> 12</a>
</span><span class=lnt id=hl-20-13><a class=lnlinks href=#hl-20-13> 13</a>
</span><span class=lnt id=hl-20-14><a class=lnlinks href=#hl-20-14> 14</a>
</span><span class=lnt id=hl-20-15><a class=lnlinks href=#hl-20-15> 15</a>
</span><span class=lnt id=hl-20-16><a class=lnlinks href=#hl-20-16> 16</a>
</span><span class=lnt id=hl-20-17><a class=lnlinks href=#hl-20-17> 17</a>
</span><span class=lnt id=hl-20-18><a class=lnlinks href=#hl-20-18> 18</a>
</span><span class=lnt id=hl-20-19><a class=lnlinks href=#hl-20-19> 19</a>
</span><span class=lnt id=hl-20-20><a class=lnlinks href=#hl-20-20> 20</a>
</span><span class=lnt id=hl-20-21><a class=lnlinks href=#hl-20-21> 21</a>
</span><span class=lnt id=hl-20-22><a class=lnlinks href=#hl-20-22> 22</a>
</span><span class=lnt id=hl-20-23><a class=lnlinks href=#hl-20-23> 23</a>
</span><span class=lnt id=hl-20-24><a class=lnlinks href=#hl-20-24> 24</a>
</span><span class=lnt id=hl-20-25><a class=lnlinks href=#hl-20-25> 25</a>
</span><span class=lnt id=hl-20-26><a class=lnlinks href=#hl-20-26> 26</a>
</span><span class=lnt id=hl-20-27><a class=lnlinks href=#hl-20-27> 27</a>
</span><span class=lnt id=hl-20-28><a class=lnlinks href=#hl-20-28> 28</a>
</span><span class=lnt id=hl-20-29><a class=lnlinks href=#hl-20-29> 29</a>
</span><span class=lnt id=hl-20-30><a class=lnlinks href=#hl-20-30> 30</a>
</span><span class=lnt id=hl-20-31><a class=lnlinks href=#hl-20-31> 31</a>
</span><span class=lnt id=hl-20-32><a class=lnlinks href=#hl-20-32> 32</a>
</span><span class=lnt id=hl-20-33><a class=lnlinks href=#hl-20-33> 33</a>
</span><span class=lnt id=hl-20-34><a class=lnlinks href=#hl-20-34> 34</a>
</span><span class=lnt id=hl-20-35><a class=lnlinks href=#hl-20-35> 35</a>
</span><span class=lnt id=hl-20-36><a class=lnlinks href=#hl-20-36> 36</a>
</span><span class=lnt id=hl-20-37><a class=lnlinks href=#hl-20-37> 37</a>
</span><span class=lnt id=hl-20-38><a class=lnlinks href=#hl-20-38> 38</a>
</span><span class=lnt id=hl-20-39><a class=lnlinks href=#hl-20-39> 39</a>
</span><span class=lnt id=hl-20-40><a class=lnlinks href=#hl-20-40> 40</a>
</span><span class=lnt id=hl-20-41><a class=lnlinks href=#hl-20-41> 41</a>
</span><span class=lnt id=hl-20-42><a class=lnlinks href=#hl-20-42> 42</a>
</span><span class=lnt id=hl-20-43><a class=lnlinks href=#hl-20-43> 43</a>
</span><span class=lnt id=hl-20-44><a class=lnlinks href=#hl-20-44> 44</a>
</span><span class=lnt id=hl-20-45><a class=lnlinks href=#hl-20-45> 45</a>
</span><span class=lnt id=hl-20-46><a class=lnlinks href=#hl-20-46> 46</a>
</span><span class=lnt id=hl-20-47><a class=lnlinks href=#hl-20-47> 47</a>
</span><span class=lnt id=hl-20-48><a class=lnlinks href=#hl-20-48> 48</a>
</span><span class=lnt id=hl-20-49><a class=lnlinks href=#hl-20-49> 49</a>
</span><span class=lnt id=hl-20-50><a class=lnlinks href=#hl-20-50> 50</a>
</span><span class=lnt id=hl-20-51><a class=lnlinks href=#hl-20-51> 51</a>
</span><span class=lnt id=hl-20-52><a class=lnlinks href=#hl-20-52> 52</a>
</span><span class=lnt id=hl-20-53><a class=lnlinks href=#hl-20-53> 53</a>
</span><span class=lnt id=hl-20-54><a class=lnlinks href=#hl-20-54> 54</a>
</span><span class=lnt id=hl-20-55><a class=lnlinks href=#hl-20-55> 55</a>
</span><span class=lnt id=hl-20-56><a class=lnlinks href=#hl-20-56> 56</a>
</span><span class=lnt id=hl-20-57><a class=lnlinks href=#hl-20-57> 57</a>
</span><span class=lnt id=hl-20-58><a class=lnlinks href=#hl-20-58> 58</a>
</span><span class=lnt id=hl-20-59><a class=lnlinks href=#hl-20-59> 59</a>
</span><span class=lnt id=hl-20-60><a class=lnlinks href=#hl-20-60> 60</a>
</span><span class=lnt id=hl-20-61><a class=lnlinks href=#hl-20-61> 61</a>
</span><span class=lnt id=hl-20-62><a class=lnlinks href=#hl-20-62> 62</a>
</span><span class=lnt id=hl-20-63><a class=lnlinks href=#hl-20-63> 63</a>
</span><span class=lnt id=hl-20-64><a class=lnlinks href=#hl-20-64> 64</a>
</span><span class=lnt id=hl-20-65><a class=lnlinks href=#hl-20-65> 65</a>
</span><span class=lnt id=hl-20-66><a class=lnlinks href=#hl-20-66> 66</a>
</span><span class=lnt id=hl-20-67><a class=lnlinks href=#hl-20-67> 67</a>
</span><span class=lnt id=hl-20-68><a class=lnlinks href=#hl-20-68> 68</a>
</span><span class=lnt id=hl-20-69><a class=lnlinks href=#hl-20-69> 69</a>
</span><span class=lnt id=hl-20-70><a class=lnlinks href=#hl-20-70> 70</a>
</span><span class=lnt id=hl-20-71><a class=lnlinks href=#hl-20-71> 71</a>
</span><span class=lnt id=hl-20-72><a class=lnlinks href=#hl-20-72> 72</a>
</span><span class=lnt id=hl-20-73><a class=lnlinks href=#hl-20-73> 73</a>
</span><span class=lnt id=hl-20-74><a class=lnlinks href=#hl-20-74> 74</a>
</span><span class=lnt id=hl-20-75><a class=lnlinks href=#hl-20-75> 75</a>
</span><span class=lnt id=hl-20-76><a class=lnlinks href=#hl-20-76> 76</a>
</span><span class=lnt id=hl-20-77><a class=lnlinks href=#hl-20-77> 77</a>
</span><span class=lnt id=hl-20-78><a class=lnlinks href=#hl-20-78> 78</a>
</span><span class=lnt id=hl-20-79><a class=lnlinks href=#hl-20-79> 79</a>
</span><span class=lnt id=hl-20-80><a class=lnlinks href=#hl-20-80> 80</a>
</span><span class=lnt id=hl-20-81><a class=lnlinks href=#hl-20-81> 81</a>
</span><span class=lnt id=hl-20-82><a class=lnlinks href=#hl-20-82> 82</a>
</span><span class=lnt id=hl-20-83><a class=lnlinks href=#hl-20-83> 83</a>
</span><span class=lnt id=hl-20-84><a class=lnlinks href=#hl-20-84> 84</a>
</span><span class=lnt id=hl-20-85><a class=lnlinks href=#hl-20-85> 85</a>
</span><span class=lnt id=hl-20-86><a class=lnlinks href=#hl-20-86> 86</a>
</span><span class=lnt id=hl-20-87><a class=lnlinks href=#hl-20-87> 87</a>
</span><span class=lnt id=hl-20-88><a class=lnlinks href=#hl-20-88> 88</a>
</span><span class=lnt id=hl-20-89><a class=lnlinks href=#hl-20-89> 89</a>
</span><span class=lnt id=hl-20-90><a class=lnlinks href=#hl-20-90> 90</a>
</span><span class=lnt id=hl-20-91><a class=lnlinks href=#hl-20-91> 91</a>
</span><span class=lnt id=hl-20-92><a class=lnlinks href=#hl-20-92> 92</a>
</span><span class=lnt id=hl-20-93><a class=lnlinks href=#hl-20-93> 93</a>
</span><span class=lnt id=hl-20-94><a class=lnlinks href=#hl-20-94> 94</a>
</span><span class=lnt id=hl-20-95><a class=lnlinks href=#hl-20-95> 95</a>
</span><span class=lnt id=hl-20-96><a class=lnlinks href=#hl-20-96> 96</a>
</span><span class=lnt id=hl-20-97><a class=lnlinks href=#hl-20-97> 97</a>
</span><span class=lnt id=hl-20-98><a class=lnlinks href=#hl-20-98> 98</a>
</span><span class=lnt id=hl-20-99><a class=lnlinks href=#hl-20-99> 99</a>
</span><span class=lnt id=hl-20-100><a class=lnlinks href=#hl-20-100>100</a>
</span><span class=lnt id=hl-20-101><a class=lnlinks href=#hl-20-101>101</a>
</span><span class=lnt id=hl-20-102><a class=lnlinks href=#hl-20-102>102</a>
</span><span class=lnt id=hl-20-103><a class=lnlinks href=#hl-20-103>103</a>
</span><span class=lnt id=hl-20-104><a class=lnlinks href=#hl-20-104>104</a>
</span><span class=lnt id=hl-20-105><a class=lnlinks href=#hl-20-105>105</a>
</span><span class=lnt id=hl-20-106><a class=lnlinks href=#hl-20-106>106</a>
</span><span class=lnt id=hl-20-107><a class=lnlinks href=#hl-20-107>107</a>
</span><span class=lnt id=hl-20-108><a class=lnlinks href=#hl-20-108>108</a>
</span><span class=lnt id=hl-20-109><a class=lnlinks href=#hl-20-109>109</a>
</span><span class=lnt id=hl-20-110><a class=lnlinks href=#hl-20-110>110</a>
</span><span class=lnt id=hl-20-111><a class=lnlinks href=#hl-20-111>111</a>
</span><span class=lnt id=hl-20-112><a class=lnlinks href=#hl-20-112>112</a>
</span><span class=lnt id=hl-20-113><a class=lnlinks href=#hl-20-113>113</a>
</span><span class=lnt id=hl-20-114><a class=lnlinks href=#hl-20-114>114</a>
</span><span class=lnt id=hl-20-115><a class=lnlinks href=#hl-20-115>115</a>
</span><span class=lnt id=hl-20-116><a class=lnlinks href=#hl-20-116>116</a>
</span><span class=lnt id=hl-20-117><a class=lnlinks href=#hl-20-117>117</a>
</span><span class=lnt id=hl-20-118><a class=lnlinks href=#hl-20-118>118</a>
</span><span class=lnt id=hl-20-119><a class=lnlinks href=#hl-20-119>119</a>
</span><span class=lnt id=hl-20-120><a class=lnlinks href=#hl-20-120>120</a>
</span><span class=lnt id=hl-20-121><a class=lnlinks href=#hl-20-121>121</a>
</span><span class=lnt id=hl-20-122><a class=lnlinks href=#hl-20-122>122</a>
</span><span class=lnt id=hl-20-123><a class=lnlinks href=#hl-20-123>123</a>
</span><span class=lnt id=hl-20-124><a class=lnlinks href=#hl-20-124>124</a>
</span><span class=lnt id=hl-20-125><a class=lnlinks href=#hl-20-125>125</a>
</span><span class=lnt id=hl-20-126><a class=lnlinks href=#hl-20-126>126</a>
</span><span class=lnt id=hl-20-127><a class=lnlinks href=#hl-20-127>127</a>
</span><span class=lnt id=hl-20-128><a class=lnlinks href=#hl-20-128>128</a>
</span><span class=lnt id=hl-20-129><a class=lnlinks href=#hl-20-129>129</a>
</span><span class=lnt id=hl-20-130><a class=lnlinks href=#hl-20-130>130</a>
</span><span class=lnt id=hl-20-131><a class=lnlinks href=#hl-20-131>131</a>
</span><span class=lnt id=hl-20-132><a class=lnlinks href=#hl-20-132>132</a>
</span><span class=lnt id=hl-20-133><a class=lnlinks href=#hl-20-133>133</a>
</span><span class=lnt id=hl-20-134><a class=lnlinks href=#hl-20-134>134</a>
</span><span class=lnt id=hl-20-135><a class=lnlinks href=#hl-20-135>135</a>
</span><span class=lnt id=hl-20-136><a class=lnlinks href=#hl-20-136>136</a>
</span><span class=lnt id=hl-20-137><a class=lnlinks href=#hl-20-137>137</a>
</span><span class=lnt id=hl-20-138><a class=lnlinks href=#hl-20-138>138</a>
</span><span class=lnt id=hl-20-139><a class=lnlinks href=#hl-20-139>139</a>
</span><span class=lnt id=hl-20-140><a class=lnlinks href=#hl-20-140>140</a>
</span><span class=lnt id=hl-20-141><a class=lnlinks href=#hl-20-141>141</a>
</span><span class=lnt id=hl-20-142><a class=lnlinks href=#hl-20-142>142</a>
</span><span class=lnt id=hl-20-143><a class=lnlinks href=#hl-20-143>143</a>
</span><span class=lnt id=hl-20-144><a class=lnlinks href=#hl-20-144>144</a>
</span><span class=lnt id=hl-20-145><a class=lnlinks href=#hl-20-145>145</a>
</span><span class=lnt id=hl-20-146><a class=lnlinks href=#hl-20-146>146</a>
</span><span class=lnt id=hl-20-147><a class=lnlinks href=#hl-20-147>147</a>
</span><span class=lnt id=hl-20-148><a class=lnlinks href=#hl-20-148>148</a>
</span><span class=lnt id=hl-20-149><a class=lnlinks href=#hl-20-149>149</a>
</span><span class=lnt id=hl-20-150><a class=lnlinks href=#hl-20-150>150</a>
</span><span class=lnt id=hl-20-151><a class=lnlinks href=#hl-20-151>151</a>
</span><span class=lnt id=hl-20-152><a class=lnlinks href=#hl-20-152>152</a>
</span><span class=lnt id=hl-20-153><a class=lnlinks href=#hl-20-153>153</a>
</span><span class=lnt id=hl-20-154><a class=lnlinks href=#hl-20-154>154</a>
</span><span class=lnt id=hl-20-155><a class=lnlinks href=#hl-20-155>155</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Python Flask 기반 간단한 프록시 서버</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>flask</span> <span class=kn>import</span> <span class=n>Flask</span><span class=p>,</span> <span class=n>request</span><span class=p>,</span> <span class=n>Response</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>random</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>functools</span> <span class=kn>import</span> <span class=n>wraps</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>Flask</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 백엔드 서버 목록</span>
</span></span><span class=line><span class=cl><span class=n>BACKEND_SERVERS</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;http://backend1:8080&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;http://backend2:8080&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;http://backend3:8080&#39;</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 서버 헬스 체크 상태</span>
</span></span><span class=line><span class=cl><span class=n>server_health</span> <span class=o>=</span> <span class=p>{</span><span class=n>server</span><span class=p>:</span> <span class=kc>True</span> <span class=k>for</span> <span class=n>server</span> <span class=ow>in</span> <span class=n>BACKEND_SERVERS</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 간단한 캐시 구현</span>
</span></span><span class=line><span class=cl><span class=n>cache</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=n>CACHE_TTL</span> <span class=o>=</span> <span class=mi>300</span>  <span class=c1># 5분</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>health_check</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;백엔드 서버 헬스 체크&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>server</span> <span class=ow>in</span> <span class=n>BACKEND_SERVERS</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>server</span><span class=si>}</span><span class=s2>/health&#34;</span><span class=p>,</span> <span class=n>timeout</span><span class=o>=</span><span class=mi>5</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>server_health</span><span class=p>[</span><span class=n>server</span><span class=p>]</span> <span class=o>=</span> <span class=n>response</span><span class=o>.</span><span class=n>status_code</span> <span class=o>==</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>        <span class=k>except</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>server_health</span><span class=p>[</span><span class=n>server</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>get_healthy_server</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;헬스한 서버 선택 (라운드 로빈)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>healthy_servers</span> <span class=o>=</span> <span class=p>[</span><span class=n>s</span> <span class=k>for</span> <span class=n>s</span> <span class=ow>in</span> <span class=n>BACKEND_SERVERS</span> <span class=k>if</span> <span class=n>server_health</span><span class=p>[</span><span class=n>s</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=ow>not</span> <span class=n>healthy_servers</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>random</span><span class=o>.</span><span class=n>choice</span><span class=p>(</span><span class=n>healthy_servers</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>cache_key</span><span class=p>(</span><span class=n>request</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;캐시 키 생성&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>request</span><span class=o>.</span><span class=n>method</span><span class=si>}</span><span class=s2>:</span><span class=si>{</span><span class=n>request</span><span class=o>.</span><span class=n>path</span><span class=si>}</span><span class=s2>:</span><span class=si>{</span><span class=n>request</span><span class=o>.</span><span class=n>query_string</span><span class=o>.</span><span class=n>decode</span><span class=p>()</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>with_cache</span><span class=p>(</span><span class=n>ttl</span><span class=o>=</span><span class=n>CACHE_TTL</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;캐싱 데코레이터&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nd>@wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>request</span><span class=o>.</span><span class=n>method</span> <span class=o>==</span> <span class=s1>&#39;GET&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>key</span> <span class=o>=</span> <span class=n>cache_key</span><span class=p>(</span><span class=n>request</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>cached_data</span> <span class=o>=</span> <span class=n>cache</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>cached_data</span> <span class=ow>and</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>cached_data</span><span class=p>[</span><span class=s1>&#39;timestamp&#39;</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>ttl</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=k>return</span> <span class=n>cached_data</span><span class=p>[</span><span class=s1>&#39;response&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=n>response</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>request</span><span class=o>.</span><span class=n>method</span> <span class=o>==</span> <span class=s1>&#39;GET&#39;</span> <span class=ow>and</span> <span class=n>response</span><span class=o>.</span><span class=n>status_code</span> <span class=o>==</span> <span class=mi>200</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>cache</span><span class=p>[</span><span class=n>cache_key</span><span class=p>(</span><span class=n>request</span><span class=p>)]</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=s1>&#39;response&#39;</span><span class=p>:</span> <span class=n>response</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=s1>&#39;timestamp&#39;</span><span class=p>:</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>response</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>wrapper</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>decorator</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.before_request</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>before_request</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;요청 전처리 - 보안 헤더 및 로깅&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1># 클라이언트 IP 추가</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=s1>&#39;X-Forwarded-For&#39;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>request</span><span class=o>.</span><span class=n>headers</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>request</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s1>&#39;HTTP_X_FORWARDED_FOR&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>remote_addr</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 요청 로깅</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span><span class=o>.</span><span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Request: </span><span class=si>{</span><span class=n>request</span><span class=o>.</span><span class=n>method</span><span class=si>}</span><span class=s2> </span><span class=si>{</span><span class=n>request</span><span class=o>.</span><span class=n>path</span><span class=si>}</span><span class=s2> from </span><span class=si>{</span><span class=n>request</span><span class=o>.</span><span class=n>remote_addr</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.route</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>,</span> <span class=n>defaults</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;path&#39;</span><span class=p>:</span> <span class=s1>&#39;&#39;</span><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=nd>@app.route</span><span class=p>(</span><span class=s1>&#39;/&lt;path:path&gt;&#39;</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;GET&#39;</span><span class=p>,</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span> <span class=s1>&#39;PUT&#39;</span><span class=p>,</span> <span class=s1>&#39;DELETE&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=nd>@with_cache</span><span class=p>(</span><span class=n>ttl</span><span class=o>=</span><span class=mi>300</span><span class=p>)</span>  <span class=c1># 5분 캐싱</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>proxy</span><span class=p>(</span><span class=n>path</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;메인 프록시 함수&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1># 헬스한 백엔드 서버 선택</span>
</span></span><span class=line><span class=cl>    <span class=n>backend</span> <span class=o>=</span> <span class=n>get_healthy_server</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=ow>not</span> <span class=n>backend</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>Response</span><span class=p>(</span><span class=s2>&#34;No healthy backend servers&#34;</span><span class=p>,</span> <span class=n>status</span><span class=o>=</span><span class=mi>503</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 요청 URL 구성</span>
</span></span><span class=line><span class=cl>    <span class=n>url</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>backend</span><span class=si>}</span><span class=s2>/</span><span class=si>{</span><span class=n>path</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>request</span><span class=o>.</span><span class=n>query_string</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>url</span> <span class=o>+=</span> <span class=sa>f</span><span class=s2>&#34;?</span><span class=si>{</span><span class=n>request</span><span class=o>.</span><span class=n>query_string</span><span class=o>.</span><span class=n>decode</span><span class=p>()</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 헤더 처리</span>
</span></span><span class=line><span class=cl>    <span class=n>headers</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span><span class=n>request</span><span class=o>.</span><span class=n>headers</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>headers</span><span class=p>[</span><span class=s1>&#39;X-Forwarded-For&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;HTTP_X_FORWARDED_FOR&#39;</span><span class=p>,</span> <span class=n>request</span><span class=o>.</span><span class=n>remote_addr</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>headers</span><span class=p>[</span><span class=s1>&#39;X-Forwarded-Proto&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>scheme</span>
</span></span><span class=line><span class=cl>    <span class=n>headers</span><span class=p>[</span><span class=s1>&#39;X-Proxy-By&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;MyProxy/1.0&#39;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 백엔드로 요청 전달</span>
</span></span><span class=line><span class=cl>        <span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>request</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>method</span><span class=o>=</span><span class=n>request</span><span class=o>.</span><span class=n>method</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>url</span><span class=o>=</span><span class=n>url</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>data</span><span class=o>=</span><span class=n>request</span><span class=o>.</span><span class=n>get_data</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>            <span class=n>headers</span><span class=o>=</span><span class=n>headers</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>timeout</span><span class=o>=</span><span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>allow_redirects</span><span class=o>=</span><span class=kc>False</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 응답 헤더 처리</span>
</span></span><span class=line><span class=cl>        <span class=n>excluded_headers</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;content-encoding&#39;</span><span class=p>,</span> <span class=s1>&#39;content-length&#39;</span><span class=p>,</span> <span class=s1>&#39;transfer-encoding&#39;</span><span class=p>,</span> <span class=s1>&#39;connection&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>response_headers</span> <span class=o>=</span> <span class=p>[(</span><span class=n>k</span><span class=p>,</span> <span class=n>v</span><span class=p>)</span> <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=n>response</span><span class=o>.</span><span class=n>headers</span><span class=o>.</span><span class=n>items</span><span class=p>()</span> 
</span></span><span class=line><span class=cl>                          <span class=k>if</span> <span class=n>k</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>excluded_headers</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 보안 헤더 추가</span>
</span></span><span class=line><span class=cl>        <span class=n>response_headers</span><span class=o>.</span><span class=n>extend</span><span class=p>([</span>
</span></span><span class=line><span class=cl>            <span class=p>(</span><span class=s1>&#39;X-Content-Type-Options&#39;</span><span class=p>,</span> <span class=s1>&#39;nosniff&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=p>(</span><span class=s1>&#39;X-Frame-Options&#39;</span><span class=p>,</span> <span class=s1>&#39;DENY&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=p>(</span><span class=s1>&#39;X-XSS-Protection&#39;</span><span class=p>,</span> <span class=s1>&#39;1; mode=block&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>])</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>Response</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>response</span><span class=o>=</span><span class=n>response</span><span class=o>.</span><span class=n>content</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>status</span><span class=o>=</span><span class=n>response</span><span class=o>.</span><span class=n>status_code</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>headers</span><span class=o>=</span><span class=n>response_headers</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=n>requests</span><span class=o>.</span><span class=n>exceptions</span><span class=o>.</span><span class=n>RequestException</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>app</span><span class=o>.</span><span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Backend request failed: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>Response</span><span class=p>(</span><span class=s2>&#34;Backend request failed&#34;</span><span class=p>,</span> <span class=n>status</span><span class=o>=</span><span class=mi>502</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.route</span><span class=p>(</span><span class=s1>&#39;/proxy/health&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>proxy_health</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;프록시 서버 헬스 체크&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>health_check</span><span class=p>()</span>  <span class=c1># 백엔드 서버 상태 업데이트</span>
</span></span><span class=line><span class=cl>    <span class=n>healthy_count</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span><span class=n>server_health</span><span class=o>.</span><span class=n>values</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;status&#39;</span><span class=p>:</span> <span class=s1>&#39;healthy&#39;</span> <span class=k>if</span> <span class=n>healthy_count</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=k>else</span> <span class=s1>&#39;unhealthy&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;backend_servers&#39;</span><span class=p>:</span> <span class=n>server_health</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;cache_size&#39;</span><span class=p>:</span> <span class=nb>len</span><span class=p>(</span><span class=n>cache</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.route</span><span class=p>(</span><span class=s1>&#39;/proxy/stats&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>proxy_stats</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;프록시 서버 통계&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;backend_servers&#39;</span><span class=p>:</span> <span class=n>BACKEND_SERVERS</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;server_health&#39;</span><span class=p>:</span> <span class=n>server_health</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;cache_entries&#39;</span><span class=p>:</span> <span class=nb>len</span><span class=p>(</span><span class=n>cache</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;healthy_servers&#39;</span><span class=p>:</span> <span class=nb>sum</span><span class=p>(</span><span class=n>server_health</span><span class=o>.</span><span class=n>values</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># 백엔드 서버 헬스 체크 초기화</span>
</span></span><span class=line><span class=cl>    <span class=n>health_check</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>host</span><span class=o>=</span><span class=s1>&#39;0.0.0.0&#39;</span><span class=p>,</span> <span class=n>port</span><span class=o>=</span><span class=mi>8080</span><span class=p>,</span> <span class=n>debug</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>세부 항목</strong></th><th><strong>설명 및 주의사항</strong></th><th><strong>권장사항</strong></th></tr></thead><tbody><tr><td><strong>1. 정책 및 인증 관리</strong></td><td>인증/인가 처리</td><td>사용자 인증 없이 우회하거나 우발적인 접근 가능성 존재</td><td>프록시 레벨에서 JWT, OAuth 등 토큰 기반 인증 적용</td></tr><tr><td></td><td>중앙 정책 일관성</td><td>각 서버/프록시 간 접근 정책 불일치 시 보안 구멍 발생 가능</td><td>중앙 관리형 정책 서버 연동 (ex. OPA, AD 연계)</td></tr><tr><td></td><td>사용자 인증 관리</td><td>클라이언트별 접근 제어 및 계정 권한 확인 필요</td><td>인증서 기반 접근 + 그룹별 정책 적용</td></tr><tr><td><strong>2. 캐시 및 콘텐츠 처리</strong></td><td>캐시 TTL 전략</td><td>TTL 미흡 시 콘텐츠 최신성·효율성 문제</td><td>콘텐츠 유형별 TTL 분리 설정 (정적 vs 동적)</td></tr><tr><td></td><td>캐시 무효화 (Invalidation)</td><td>변경된 콘텐츠가 캐시에 남아 있는 경우 발생</td><td>정책 기반 TTL 조정 또는 수동 무효화 API 연동</td></tr><tr><td></td><td>캐시 업데이트 자동화</td><td>수동 캐시 갱신 시 운영 리스크 증가</td><td>동적 캐시 갱신 조건 설정 (If-Modified-Since, ETag 등)</td></tr><tr><td><strong>3. 보안 관리</strong></td><td>SSL/TLS 인증서 관리</td><td>인증서 만료 시 서비스 중단 위험 존재</td><td>자동 갱신 도구 사용 (ex. certbot, cert-manager)</td></tr><tr><td></td><td>로그 필터링 및 보안</td><td>민감 정보 (IP, 토큰 등) 노출 시 정보 유출 위험</td><td>로그 마스킹 또는 민감 필드 제거, GDPR 등 규정 준수</td></tr><tr><td></td><td>취약점 대응 및 패치</td><td>오픈소스 기반 프록시 사용 시 보안 패치 누락 우려</td><td>NGINX, HAProxy 등 최신 버전 유지 및 CVE 대응</td></tr><tr><td><strong>4. 가용성 및 장애 대응</strong></td><td>단일 실패점 방지 (SPOF)</td><td>프록시 서버 다운 시 전체 서비스 중단 가능</td><td>다중 인스턴스 구성 + Failover/Health Check 설정</td></tr><tr><td></td><td>장애 복구 및 롤백 전략</td><td>설정 오류, 배포 실패 시 서비스 영향 최소화</td><td>구성 롤백 시나리오 작성 및 자동화 적용</td></tr><tr><td><strong>5. 성능 및 트래픽 대응</strong></td><td>트래픽 증가 대응</td><td>고트래픽 상황에서 프록시 병목 발생 가능</td><td>오토스케일링 적용 및 버퍼 관리 정책 강화</td></tr><tr><td></td><td>리소스 최적화</td><td>CPU, 메모리, 네트워크 대역폭 최적 관리 필요</td><td>Keep-Alive, gzip 압축, Connection Pool 등 최적화 적용</td></tr><tr><td></td><td>응답 시간 및 처리량 모니터링</td><td>지연이나 처리량 한계 도달 시 실시간 탐지 필요</td><td>대시보드 및 Alerting 구성 (ex. Grafana + Prometheus)</td></tr><tr><td><strong>6. 로그 및 운영 관리</strong></td><td>로그 수집 및 분석</td><td>장애, 성능 이슈, 보안 위협 분석을 위한 로그 활용</td><td>중앙 로그 수집 시스템 구성 (ELK, Loki 등)</td></tr><tr><td></td><td>감사 및 감사 추적</td><td>사용자 및 운영자 행위에 대한 추적 로그 필요</td><td>접근 제어 로그, 인증 로그, 변경 이력 추적 저장</td></tr><tr><td></td><td>구성 자동화 및 템플릿화</td><td>수동 설정 시 실수/누락 발생 가능</td><td>IaC 기반 구성 관리 (Terraform, Helm 등)</td></tr><tr><td><strong>7. 확장성 및 지속 운영</strong></td><td>클러스터링 및 스케일링</td><td>고가용성 및 트래픽 증가 대비 확장성 필요</td><td>수평 확장 가능한 구조 설계 (로드밸런서 연동)</td></tr><tr><td></td><td>멀티 지역 운영</td><td>글로벌 사용자 대상 프록시 적용 시 지역별 Latency 이슈 발생 가능</td><td>Anycast 기반 분산 또는 GeoDNS 기반 라우팅 적용</td></tr><tr><td></td><td>서비스 디스커버리 연동</td><td>백엔드 서버 또는 서비스가 동적으로 변경될 경우 프록시 라우팅 오류 발생</td><td>Consul, DNS SRV, Kubernetes 서비스 디스커버리 통합 연동</td></tr></tbody></table><h3 id=최적화하기-위한-고려사항-및-주의할-점>최적화하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#최적화하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th><strong>최적화 영역</strong></th><th><strong>항목</strong></th><th><strong>설명 / 고려사항</strong></th><th><strong>권장 전략 / 주의점</strong></th></tr></thead><tbody><tr><td><strong>네트워크 처리 최적화</strong></td><td>연결 재사용 (Connection Pooling)</td><td>Keep-Alive 또는 HTTP/2 기반의 연결 재활용로 지연 최소화</td><td>커넥션 풀 사이즈 제한, 타임아웃 설정, 백엔드/DB 대상 커넥션 관리</td></tr><tr><td></td><td>응답 캐싱</td><td>동일 요청에 대한 반복 응답을 캐싱하여 트래픽 및 백엔드 부하 감소</td><td>ETag, Cache-Control, TTL 기반 캐싱 + Redis 등 외부 캐시 연계</td></tr><tr><td></td><td>로드밸런싱 구조 최적화</td><td>L4 vs L7 로드밸런싱, 프록시 클러스터 구성에 따른 병목 및 과도한 프록시 체인 방지</td><td>중첩 프록시 최소화, 정적 경로 분산과 동적 요청 구분, DNS 기반 분산 고려</td></tr><tr><td><strong>성능 자원 최적화</strong></td><td>압축 처리 (GZIP 등)</td><td>전송 데이터 크기를 줄여 대역폭 절감, 그러나 과도한 CPU 사용 유발 가능</td><td>콘텐츠 유형별 압축 조건 분리, 정적 리소스 우선 적용, Nginx GZIP on 설정 등</td></tr><tr><td></td><td>캐시 메모리 사용량 관리</td><td>캐시 크기 설정이 과도하면 메모리 부족, 부족하면 캐시 미스 증가</td><td>사용률 모니터링, LFU/LRU 기반 캐시 정책, 필요 시 동적 조정 적용</td></tr><tr><td></td><td>TLS 암호화 처리 부하</td><td>TLS 핸드셰이크는 CPU 집약적이며 병목 지점이 될 수 있음</td><td>TLS 전용 프록시 구성 또는 하드웨어 오프로드 카드 사용, Keep-Alive TLS 유지</td></tr><tr><td><strong>아키텍처 및 구성 구조</strong></td><td>리버스 프록시 체인 복잡도</td><td>다단계 프록시 구성은 latency 증가 및 관리 복잡도 초래</td><td>불필요한 계층 제거, 기능 통합 또는 edge proxy + 내부 proxy 역할 구분</td></tr><tr><td></td><td>무중단 배포 (Zero-Downtime)</td><td>설정 변경이나 배포 시 사용자 요청 단절 방지</td><td><code>nginx -s reload</code>, <code>hot reload</code>, Canary/Blue-Green 배포 전략 적용</td></tr><tr><td></td><td>플러그인 / 모듈화 구성</td><td>보안, 인증, 캐시 기능의 커플링이 심할 경우 유연성 저하</td><td>Lua, WASM, Envoy Filter 등 동적 플러그인 체계 구성</td></tr><tr><td><strong>운영 자동화 및 인프라</strong></td><td>오토스케일링 (트래픽/로드 기반)</td><td>트래픽 피크에 유연하게 대응하지 못하면 시스템 과부하 발생</td><td>HPA (Horizontal Pod Autoscaler), KEDA, CPU/메모리 기반 정책 구성</td></tr><tr><td></td><td>분산 로깅 및 분석</td><td>대규모 트래픽 환경에서는 로그량이 폭발적으로 증가하여 수집과 분석에 병목 발생</td><td>중앙 로그 수집 (ELK, Loki), 로그 샘플링, 프라이버시 보호 (마스킹/익명화) 적용</td></tr><tr><td><strong>보안/프라이버시 성능</strong></td><td>암호화 알고리즘 효율성</td><td>고강도 암호화일수록 보안성은 높지만 시스템 자원 요구도 증가</td><td>AES-GCM, ChaCha20 등 경량 암호화 적용, 인증서 재활용 최적화</td></tr><tr><td><strong>데이터 흐름 최적화</strong></td><td>백엔드 쿼리 부담 완화</td><td>프록시가 요청 단에 캐시를 사용하지 않으면 모든 요청이 DB 나 API 로 전달됨</td><td>GraphQL Federation, API 응답 캐싱, DB 쿼리 결과 캐싱</td></tr><tr><td></td><td>비동기 처리</td><td>Blocking I/O 는 연결 대기 상태 증가로 처리량 저하 가능</td><td>Event-driven 모델 채택 (async I/O, epoll, nginx event loop 등)</td></tr></tbody></table><h4 id=네트워크-처리-최적화>네트워크 처리 최적화<a hidden class=anchor aria-hidden=true href=#네트워크-처리-최적화>#</a></h4><h5 id=연결-재사용-connection-pooling>연결 재사용 (Connection Pooling)<a hidden class=anchor aria-hidden=true href=#연결-재사용-connection-pooling>#</a></h5><p><strong>목적</strong>: 커넥션 생성 비용 최소화, 지연 감소</p><p><strong>예시</strong>: Nginx 리버스 프록시가 백엔드 API 서버와 지속 연결 유지 (<code>keepalive</code>)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1> 1</a>
</span><span class=lnt id=hl-21-2><a class=lnlinks href=#hl-21-2> 2</a>
</span><span class=lnt id=hl-21-3><a class=lnlinks href=#hl-21-3> 3</a>
</span><span class=lnt id=hl-21-4><a class=lnlinks href=#hl-21-4> 4</a>
</span><span class=lnt id=hl-21-5><a class=lnlinks href=#hl-21-5> 5</a>
</span><span class=lnt id=hl-21-6><a class=lnlinks href=#hl-21-6> 6</a>
</span><span class=lnt id=hl-21-7><a class=lnlinks href=#hl-21-7> 7</a>
</span><span class=lnt id=hl-21-8><a class=lnlinks href=#hl-21-8> 8</a>
</span><span class=lnt id=hl-21-9><a class=lnlinks href=#hl-21-9> 9</a>
</span><span class=lnt id=hl-21-10><a class=lnlinks href=#hl-21-10>10</a>
</span><span class=lnt id=hl-21-11><a class=lnlinks href=#hl-21-11>11</a>
</span><span class=lnt id=hl-21-12><a class=lnlinks href=#hl-21-12>12</a>
</span><span class=lnt id=hl-21-13><a class=lnlinks href=#hl-21-13>13</a>
</span><span class=lnt id=hl-21-14><a class=lnlinks href=#hl-21-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>upstream</span> <span class=s>backend_servers</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>server</span> <span class=n>backend1.internal</span><span class=p>:</span><span class=mi>8080</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server</span> <span class=n>backend2.internal</span><span class=p>:</span><span class=mi>8080</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kn>keepalive</span> <span class=mi>32</span><span class=p>;</span>  <span class=c1># 최대 32개 커넥션 유지
</span></span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>location</span> <span class=s>/api/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span> <span class=s>http://backend_servers</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_http_version</span> <span class=mi>1</span><span class=s>.1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_set_header</span> <span class=s>Connection</span> <span class=s>&#34;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>주의점</strong>: 백엔드 서버도 Keep-Alive 를 지원해야 효과적</p><h5 id=응답-캐싱-response-caching>응답 캐싱 (Response Caching)<a hidden class=anchor aria-hidden=true href=#응답-캐싱-response-caching>#</a></h5><p><strong>목적</strong>: 반복 요청에 대한 응답 시간 감소</p><p><strong>예시</strong>: 이미지, JS, API 응답을 10 분간 캐시</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1> 1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2> 2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3> 3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4> 4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5> 5</a>
</span><span class=lnt id=hl-22-6><a class=lnlinks href=#hl-22-6> 6</a>
</span><span class=lnt id=hl-22-7><a class=lnlinks href=#hl-22-7> 7</a>
</span><span class=lnt id=hl-22-8><a class=lnlinks href=#hl-22-8> 8</a>
</span><span class=lnt id=hl-22-9><a class=lnlinks href=#hl-22-9> 9</a>
</span><span class=lnt id=hl-22-10><a class=lnlinks href=#hl-22-10>10</a>
</span><span class=lnt id=hl-22-11><a class=lnlinks href=#hl-22-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>proxy_cache_path</span> <span class=s>/var/cache/nginx</span> <span class=s>levels=1:2</span> <span class=s>keys_zone=my_cache:10m</span> <span class=s>inactive=60m</span> <span class=s>use_temp_path=off</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>location</span> <span class=s>/static/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_cache</span> <span class=s>my_cache</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span> <span class=s>http://backend</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_cache_valid</span> <span class=mi>200</span> <span class=mi>302</span> <span class=mi>10m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_cache_valid</span> <span class=mi>404</span> <span class=mi>1m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>add_header</span> <span class=s>X-Cache-Status</span> <span class=nv>$upstream_cache_status</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>고급 예시</strong>: <code>Cache-Control</code>, <code>ETag</code>, <code>Vary</code> 헤더 기반 조건부 캐싱 지원</p><h5 id=로드밸런싱-구조-최적화>로드밸런싱 구조 최적화<a hidden class=anchor aria-hidden=true href=#로드밸런싱-구조-최적화>#</a></h5><p><strong>목적</strong>: 부하 분산, 비정상 노드 자동 제거</p><p><strong>예시</strong>: HAProxy 로 동적 라운드로빈 + 서버 헬스체크 구성</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1>1</a>
</span><span class=lnt id=hl-23-2><a class=lnlinks href=#hl-23-2>2</a>
</span><span class=lnt id=hl-23-3><a class=lnlinks href=#hl-23-3>3</a>
</span><span class=lnt id=hl-23-4><a class=lnlinks href=#hl-23-4>4</a>
</span><span class=lnt id=hl-23-5><a class=lnlinks href=#hl-23-5>5</a>
</span><span class=lnt id=hl-23-6><a class=lnlinks href=#hl-23-6>6</a>
</span><span class=lnt id=hl-23-7><a class=lnlinks href=#hl-23-7>7</a>
</span><span class=lnt id=hl-23-8><a class=lnlinks href=#hl-23-8>8</a>
</span><span class=lnt id=hl-23-9><a class=lnlinks href=#hl-23-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>frontend http_in
</span></span><span class=line><span class=cl>    bind *:80
</span></span><span class=line><span class=cl>    default_backend servers
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>backend servers
</span></span><span class=line><span class=cl>    balance roundrobin
</span></span><span class=line><span class=cl>    option httpchk GET /healthz
</span></span><span class=line><span class=cl>    server s1 10.0.0.2:80 check
</span></span><span class=line><span class=cl>    server s2 10.0.0.3:80 check
</span></span></code></pre></td></tr></table></div></div><p><strong>예시</strong>: NGINX</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1>1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2>2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3>3</a>
</span><span class=lnt id=hl-24-4><a class=lnlinks href=#hl-24-4>4</a>
</span><span class=lnt id=hl-24-5><a class=lnlinks href=#hl-24-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>upstream</span> <span class=s>api_backend</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>least_conn</span><span class=p>;</span>  <span class=c1># 가장 적은 연결 수 서버에 분산
</span></span></span><span class=line><span class=cl>    <span class=kn>server</span> <span class=n>api1.internal</span><span class=p>:</span><span class=mi>8000</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server</span> <span class=n>api2.internal</span><span class=p>:</span><span class=mi>8000</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=성능-자원-최적화>성능 자원 최적화<a hidden class=anchor aria-hidden=true href=#성능-자원-최적화>#</a></h4><h5 id=압축-처리-gzip-brotli-등>압축 처리 (GZIP, Brotli 등)<a hidden class=anchor aria-hidden=true href=#압축-처리-gzip-brotli-등>#</a></h5><p><strong>목적</strong>: 응답 크기 감소로 네트워크 최적화</p><p><strong>예시</strong>: 정적 파일에 GZIP 압축 적용</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1>1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2>2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3>3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>gzip</span> <span class=no>on</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>gzip_types</span> <span class=s>text/plain</span> <span class=s>text/css</span> <span class=s>application/json</span> <span class=s>application/javascript</span> <span class=s>text/xml</span> <span class=s>application/xml</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>gzip_min_length</span> <span class=mi>1024</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>gzip_comp_level</span> <span class=mi>5</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>주의</strong>: 이미지, 영상 등 이미 압축된 리소스는 제외해야 오히려 성능 개선</p><h5 id=캐시-메모리-사용량-관리>캐시 메모리 사용량 관리<a hidden class=anchor aria-hidden=true href=#캐시-메모리-사용량-관리>#</a></h5><p><strong>목적</strong>: 메모리 과다 사용 방지 + 적중률 유지</p><p><strong>예시</strong>: Nginx 캐시 저장소 용량 제한 및 LRU 정책 적용</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>proxy_cache_path</span> <span class=s>/data/nginx/cache</span> <span class=s>levels=1:2</span> <span class=s>keys_zone=my_zone:50m</span> <span class=s>max_size=500m</span> <span class=s>inactive=30m</span> <span class=s>use_temp_path=off</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>예시</strong>: Redis 기반 캐시 연계 예시 (FastAPI)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1> 1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2> 2</a>
</span><span class=lnt id=hl-27-3><a class=lnlinks href=#hl-27-3> 3</a>
</span><span class=lnt id=hl-27-4><a class=lnlinks href=#hl-27-4> 4</a>
</span><span class=lnt id=hl-27-5><a class=lnlinks href=#hl-27-5> 5</a>
</span><span class=lnt id=hl-27-6><a class=lnlinks href=#hl-27-6> 6</a>
</span><span class=lnt id=hl-27-7><a class=lnlinks href=#hl-27-7> 7</a>
</span><span class=lnt id=hl-27-8><a class=lnlinks href=#hl-27-8> 8</a>
</span><span class=lnt id=hl-27-9><a class=lnlinks href=#hl-27-9> 9</a>
</span><span class=lnt id=hl-27-10><a class=lnlinks href=#hl-27-10>10</a>
</span><span class=lnt id=hl-27-11><a class=lnlinks href=#hl-27-11>11</a>
</span><span class=lnt id=hl-27-12><a class=lnlinks href=#hl-27-12>12</a>
</span><span class=lnt id=hl-27-13><a class=lnlinks href=#hl-27-13>13</a>
</span><span class=lnt id=hl-27-14><a class=lnlinks href=#hl-27-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 캐시 예시 with aioredis</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>aioredis</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>redis</span> <span class=o>=</span> <span class=k>await</span> <span class=n>aioredis</span><span class=o>.</span><span class=n>from_url</span><span class=p>(</span><span class=s2>&#34;redis://localhost&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@router.get</span><span class=p>(</span><span class=s2>&#34;/data&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>get_data</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>cached</span> <span class=o>=</span> <span class=k>await</span> <span class=n>redis</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;my:data&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>cached</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>JSONResponse</span><span class=p>(</span><span class=n>content</span><span class=o>=</span><span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>cached</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>result</span> <span class=o>=</span> <span class=k>await</span> <span class=n>slow_query</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>await</span> <span class=n>redis</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=s2>&#34;my:data&#34;</span><span class=p>,</span> <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>result</span><span class=p>),</span> <span class=n>ex</span><span class=o>=</span><span class=mi>300</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>result</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=tls-암호화-처리-부하-최적화>TLS 암호화 처리 부하 최적화<a hidden class=anchor aria-hidden=true href=#tls-암호화-처리-부하-최적화>#</a></h5><p><strong>목적</strong>: 핸드셰이크 병목 해소, CPU 사용량 절감</p><p><strong>예시</strong>: Nginx 에서 TLS 처리 최적화 + 세션 재사용</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-28-1><a class=lnlinks href=#hl-28-1>1</a>
</span><span class=lnt id=hl-28-2><a class=lnlinks href=#hl-28-2>2</a>
</span><span class=lnt id=hl-28-3><a class=lnlinks href=#hl-28-3>3</a>
</span><span class=lnt id=hl-28-4><a class=lnlinks href=#hl-28-4>4</a>
</span><span class=lnt id=hl-28-5><a class=lnlinks href=#hl-28-5>5</a>
</span><span class=lnt id=hl-28-6><a class=lnlinks href=#hl-28-6>6</a>
</span><span class=lnt id=hl-28-7><a class=lnlinks href=#hl-28-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>ssl_session_cache</span> <span class=s>shared:SSL:10m</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>ssl_session_timeout</span> <span class=mi>10m</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>ssl_session_tickets</span> <span class=no>on</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>ssl_ciphers</span> <span class=s>&#39;ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>ssl_prefer_server_ciphers</span> <span class=no>on</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>ssl_protocols</span> <span class=s>TLSv1.2</span> <span class=s>TLSv1.3</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>하드웨어 최적화</strong>: TLS 오프로드 장비 혹은 Envoy + BoringSSL 연계</p><h4 id=추가-참고>추가 참고<a hidden class=anchor aria-hidden=true href=#추가-참고>#</a></h4><table><thead><tr><th>최적화 항목</th><th>실무에서 고려할 사항</th></tr></thead><tbody><tr><td>Keep-Alive</td><td>클라이언트와 서버 모두 지원 필요, <code>timeout</code> 조절로 커넥션 과다 방지</td></tr><tr><td>캐시 정책</td><td>캐시 키 기준 정밀 제어 필요 (URI + 헤더 등)</td></tr><tr><td>TLS 처리</td><td>TLS 재암호화가 필요한지 여부 판단 (프라이버시 vs 성능)</td></tr><tr><td>비동기 처리</td><td>Proxy 시스템 자체는 이벤트 기반 (Nginx, Envoy 등), 백엔드 병목 확인</td></tr></tbody></table><h3 id=주목할-내용>주목할 내용<a hidden class=anchor aria-hidden=true href=#주목할-내용>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>주제</strong></th><th><strong>핵심 항목</strong></th><th><strong>설명</strong></th></tr></thead><tbody><tr><td><strong>1. 아키텍처 구조</strong></td><td>순·역방향 프록시 구조</td><td>위치 및 역할 차이</td><td>Forward: 사용자 측 요청 필터링 / Reverse: 서버 보호 및 트래픽 제어</td></tr><tr><td></td><td>Reverse Proxy 컴포넌트</td><td>서버 앞단에서 트래픽을 제어하는 구성 요소</td><td>API Gateway, Load Balancer, 인증 프록시 등 포함</td></tr><tr><td></td><td>서비스 메시</td><td>Istio, Envoy 기반 마이크로서비스 통신 프록시화</td><td>사이드카 방식으로 프록시를 각 서비스와 연계</td></tr><tr><td><strong>2. 성능 최적화</strong></td><td>콘텐츠 캐싱</td><td>응답속도 향상, 대역폭 절약</td><td>빈번한 요청에 대한 응답을 캐싱하여 네트워크 부하 감소</td></tr><tr><td></td><td>엣지 프록시</td><td>사용자 가까운 위치에서 요청 처리</td><td>Edge Location 에서 지연 시간 최소화</td></tr><tr><td></td><td>지능형 라우팅</td><td>머신러닝 기반 트래픽 분석 및 최적 경로 선택</td><td>예측 기반 분산 트래픽 제어</td></tr><tr><td><strong>3. 보안 및 인증</strong></td><td>TLS 종료</td><td>SSL 처리 부하를 프록시가 대신 수행</td><td>백엔드는 HTTP 만 처리하도록 구성 가능</td></tr><tr><td></td><td>접근제어 정책 운영</td><td>사용자/그룹/경로 기반 허용 및 차단 정책</td><td>RBAC, ABAC 기반 통제 정책 적용</td></tr><tr><td></td><td>제로 트러스트 모델</td><td>모든 요청을 신뢰하지 않고 검증</td><td>프록시가 인증/인가 및 정책 평가 역할 수행</td></tr><tr><td><strong>4. 자동화 및 운영</strong></td><td>자동화된 설정 관리</td><td>IaC 기반 프록시 인프라 구성 및 유지</td><td>Terraform, Ansible 등 도구 활용</td></tr><tr><td></td><td>장애 복구/이중화</td><td>고가용성, 트래픽 전환 시 무중단 구성</td><td>다중 프록시 구성 + 헬스체크 연동</td></tr><tr><td></td><td>요청/응답 로깅</td><td>사용자 행동 추적 및 이상 탐지 데이터 제공</td><td>관찰 가능성 (Observability) 향상</td></tr><tr><td><strong>5. DevOps 연계</strong></td><td>API Gateway 연계</td><td>인증, 속도 제한, 라우팅 등의 정책 확장</td><td>프록시와 API 게이트웨이를 결합하여 API 중심 제어</td></tr><tr><td></td><td>서버리스 프록시</td><td>Lambda@Edge, Cloudflare Workers 등에서 프록시 역할 수행</td><td>서버리스 환경에서 보안/라우팅/변환 처리</td></tr><tr><td><strong>6. 표준 및 기술 발전</strong></td><td>HTTP/3 지원</td><td>QUIC 기반 차세대 프로토콜에서 프록시 역할</td><td>전송 속도 향상 및 연결 지연 최소화를 위한 대응 필요</td></tr></tbody></table><h4 id=요약-정리>요약 정리<a hidden class=anchor aria-hidden=true href=#요약-정리>#</a></h4><table><thead><tr><th><strong>구분</strong></th><th><strong>내용 요약</strong></th></tr></thead><tbody><tr><td><strong>핵심 기능 구조</strong></td><td>Forward/Reverse Proxy, Service Mesh 구성 차이 분석</td></tr><tr><td><strong>성능 향상 전략</strong></td><td>캐싱, 엣지 위치 배치, AI 기반 라우팅 적용 가능성 반영</td></tr><tr><td><strong>보안 강화 방식</strong></td><td>TLS 종료, 접근제어, 제로 트러스트 기반의 인증·인가 구현</td></tr><tr><td><strong>운영 자동화와 연계</strong></td><td>IaC 기반 자동화, 고가용성 구성, 로깅 및 관찰 가능성 강화</td></tr><tr><td><strong>최신 기술 트렌드</strong></td><td>HTTP/3, 서버리스, AI 기반 라우팅, 서비스 메시 등 진화하는 프록시 환경에 적응 필요</td></tr></tbody></table><h3 id=반드시-학습해야할-내용>반드시 학습해야할 내용<a hidden class=anchor aria-hidden=true href=#반드시-학습해야할-내용>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>주제</strong></th><th><strong>핵심 항목</strong></th><th><strong>설명</strong></th></tr></thead><tbody><tr><td><strong>프록시 구조 및 동작 이해</strong></td><td>Forward vs Reverse Proxy</td><td>구조와 동작 방식, 목적 비교</td><td>데이터 흐름 방향과 사용 시나리오 구분 (클라이언트 보호 vs 백엔드 보호)</td></tr><tr><td></td><td>OSI 계층 기반 프록시 분류</td><td>L4 (TCP), L7 (HTTP) 프록시 구분</td><td>계층에 따른 기능 차이 (라우팅 vs 콘텐츠 필터링), 적용 위치 구분</td></tr><tr><td></td><td>Proxy 서버 종류 및 비교</td><td>NGINX, HAProxy, Envoy</td><td>오픈소스 프록시 서버들의 특성 및 사용 목적별 비교, 설정 방식 이해</td></tr><tr><td><strong>프로토콜 및 암호화</strong></td><td>HTTP/HTTPS 구조 이해</td><td>메시지 구성, 헤더/메서드 조작</td><td>HTTP 요청/응답 흐름 파악, 프록시 레벨에서 헤더 가공/삭제 처리</td></tr><tr><td></td><td>TLS/SSL 인증서 처리</td><td>인증서 체인, 암호화 핸드셰이크 이해</td><td>HTTPS 트래픽의 프록시 처리 방식 및 SSL 종료 구조 학습</td></tr><tr><td></td><td>인증/인가 흐름</td><td>접근 정책, RBAC, JWT 등</td><td>사용자별 인증/인가 정책 처리 및 프록시 계층에서의 접근 제어 구현</td></tr><tr><td><strong>아키텍처 및 성능 최적화</strong></td><td>로드 밸런싱 알고리즘</td><td>Round-Robin, Least Conn, Weight 등</td><td>트래픽 분산 전략의 종류 및 선택 기준, HA 구현을 위한 이중화 아키텍처 설계</td></tr><tr><td></td><td>캐싱 전략</td><td>TTL, LRU, ETag, Cache-Control</td><td>콘텐츠 캐싱 최적화 방식, 프록시에서의 캐시 무효화 처리</td></tr><tr><td></td><td>트래픽 최적화 및 스케일링</td><td>Keep-Alive, GZIP, 오토스케일링</td><td>연결 재사용, 압축, 동적 확장으로 시스템 성능 및 자원 사용 최적화</td></tr><tr><td><strong>보안 및 개인정보 보호</strong></td><td>TLS 종료 및 재암호화</td><td>프록시에서의 HTTPS 처리 방식</td><td>보안 통신을 위한 SSL Termination 구성, Re-encryption 고려</td></tr><tr><td></td><td>개인정보 마스킹 및 감사 대응</td><td>로그 필터링, 데이터 보호 정책 적용</td><td>프록시 단계에서 로그 유출 방지, 민감 데이터 처리 컴플라이언스 대응</td></tr><tr><td></td><td>공격 대응 및 방화벽 연계</td><td>WAF, DoS 차단, 인증서 위조 방지</td><td>프록시 + 보안 기능 결합으로 OWASP Top 10 대응 및 트래픽 보호</td></tr><tr><td><strong>구현 기술 및 운영 자동화</strong></td><td>설정 자동화 및 배포 전략</td><td>Helm, Kustomize, GitOps</td><td>환경별 프록시 설정 자동화 및 무중단 배포 구성</td></tr><tr><td></td><td>프록시 구성 자동화</td><td>Nginx config 템플릿, Envoy 필터 체계</td><td>코드 기반 구성 및 정책 일관성 확보</td></tr><tr><td></td><td>무중단 배포 및 설정 리로드</td><td>Reload 지원 여부, Canary 배포</td><td>설정 변경 시 서비스 단절 방지 전략, 프로덕션 반영 시 안전한 배포 흐름</td></tr><tr><td><strong>모니터링 및 진단</strong></td><td>메트릭 수집 및 대시보드</td><td>처리량, 에러율, 응답 시간 등</td><td>Prometheus, Grafana 연동으로 프록시 상태 및 성능 추적</td></tr><tr><td></td><td>로깅 및 트러블슈팅</td><td>Request/Response 로그 추적</td><td>로그 기반 요청 흐름 분석 및 이슈 원인 진단 (예: X-Forwarded-For, Trace ID)</td></tr><tr><td></td><td>장애 대응 및 이중화 구성</td><td>Active-Active 구성, Health Check</td><td>장애 발생 시 대체 경로로 자동 전환되는 구조 및 장애 조기 감지 전략</td></tr><tr><td><strong>정책 및 규정 준수</strong></td><td>접근 제어 정책 설계</td><td>사용자/리소스 기반 정책 구성</td><td>RBAC, 정책 기반 접근제어 (PBAC) 등 적용 사례</td></tr><tr><td></td><td>컴플라이언스 대응</td><td>GDPR, CCPA, 내부 감사</td><td>프록시 수준에서의 법적 요구사항 대응 (로그 마스킹, 저장 위치 등)</td></tr></tbody></table><h4 id=요약-정리-1>요약 정리<a hidden class=anchor aria-hidden=true href=#요약-정리-1>#</a></h4><table><thead><tr><th>항목</th><th>설명 요약</th></tr></thead><tbody><tr><td><strong>프록시의 동작 및 구조</strong></td><td>Forward/Reverse 구분, OSI 계층별 기능 이해, 프록시 서버 유형 비교 필요</td></tr><tr><td><strong>프로토콜 및 보안 이해</strong></td><td>HTTP/TLS 메시지 구조, 인증서 관리, 접근 제어 정책 등의 보안 흐름 숙지 필요</td></tr><tr><td><strong>아키텍처 및 최적화 전략</strong></td><td>로드밸런싱, 캐싱, GZIP, 연결 재사용 등 성능 향상을 위한 전략 학습 필요</td></tr><tr><td><strong>보안 및 개인정보 대응</strong></td><td>TLS 종료, 데이터 마스킹, 공격 차단 등 보안 및 컴플라이언스 대응 필수</td></tr><tr><td><strong>운영 자동화 및 배포</strong></td><td>설정 코드화, GitOps 기반 운영, 설정 리로드/무중단 배포 전략 이해 필요</td></tr><tr><td><strong>모니터링 및 장애 진단</strong></td><td>메트릭, 로깅, 장애 시 이중화 구성 및 트러블슈팅 역량 확보 필요</td></tr><tr><td><strong>정책 및 감사 준수 체계</strong></td><td>정책 설계, 감사 로그 대응, 법적 규정 (GDPR 등) 대응 역량 요구됨</td></tr></tbody></table><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th><strong>카테고리</strong></th><th><strong>용어</strong></th><th><strong>설명</strong></th></tr></thead><tbody><tr><td><strong>프록시 구조 및 유형</strong></td><td>Forward Proxy</td><td>클라이언트 요청을 외부 서버로 대신 전달하는 중개 서버</td></tr><tr><td></td><td>Reverse Proxy</td><td>외부 요청을 내부 서버로 전달하는 서버 측 중개자</td></tr><tr><td></td><td>Explicit Proxy</td><td>클라이언트가 명시적으로 프록시를 설정</td></tr><tr><td></td><td>Transparent Proxy</td><td>클라이언트가 인식하지 못하는 방식으로 요청을 가로채는 프록시</td></tr><tr><td></td><td>SOCKS Proxy</td><td>TCP/UDP 기반의 범용 프록시 프로토콜</td></tr><tr><td></td><td>API Gateway</td><td>인증, 라우팅, 속도제한 등을 수행하는 특수 리버스 프록시</td></tr><tr><td></td><td>Service Mesh</td><td>사이드카 기반으로 마이크로서비스 간 통신을 프록시로 제어하는 구조</td></tr><tr><td><strong>보안 및 암호화</strong></td><td>SSL Termination</td><td>암호화된 연결을 프록시에서 해제하여 백엔드는 평문 처리</td></tr><tr><td></td><td>SSL Passthrough</td><td>암호화된 연결을 프록시에서 해제하지 않고 백엔드까지 전달</td></tr><tr><td></td><td>SSL Bridging</td><td>프록시에서 복호화한 뒤 백엔드와 재암호화 통신</td></tr><tr><td></td><td>WAF (Web Application Firewall)</td><td>애플리케이션 보안 위협을 탐지 및 차단하는 웹 방화벽</td></tr><tr><td></td><td>IDS/IPS</td><td>침입 탐지 및 방지 시스템, 위협 탐지 시 연동 차단 가능</td></tr><tr><td></td><td>TLS</td><td>전송 계층 보안을 위한 암호화 프로토콜 (HTTPS 기반)</td></tr><tr><td></td><td>Zero Trust</td><td>모든 연결을 기본적으로 불신하고, 지속적인 검증을 요구하는 보안 모델</td></tr><tr><td></td><td>ACL (Access Control List)</td><td>접근 권한을 IP, 사용자 등에 따라 제어하는 보안 정책 리스트</td></tr><tr><td><strong>성능 및 최적화</strong></td><td>Caching</td><td>자주 요청되는 데이터를 저장하여 응답 시간 및 트래픽 최적화</td></tr><tr><td></td><td>TTL (Time To Live)</td><td>캐시의 유효 기간을 나타내는 설정 값</td></tr><tr><td></td><td>Cache Hit Rate</td><td>캐시된 요청이 전체 요청에서 차지하는 비율</td></tr><tr><td></td><td>Compression Ratio</td><td>전송 데이터 압축 효율을 나타내는 지표</td></tr><tr><td></td><td>ETag</td><td>콘텐츠 변경 여부를 판단하는 식별자</td></tr><tr><td><strong>네트워크 및 라우팅</strong></td><td>Load Balancing</td><td>여러 서버에 네트워크 요청을 분산하여 처리</td></tr><tr><td></td><td>Round Robin</td><td>순차적으로 서버에 요청을 분배하는 로드 밸런싱 알고리즘</td></tr><tr><td></td><td>Sticky Session</td><td>특정 클라이언트 요청을 동일 서버로 라우팅 유지</td></tr><tr><td></td><td>Health Check</td><td>백엔드 서버의 가용성 및 상태 확인</td></tr><tr><td></td><td>Connection Pooling</td><td>재사용 가능한 연결을 유지하여 연결 오버헤드 감소</td></tr><tr><td></td><td>URL Rewriting</td><td>요청된 URL 을 내부 서비스 URL 로 변환하는 기능</td></tr><tr><td></td><td>Upstream</td><td>프록시에서 백엔드로 가는 트래픽 방향</td></tr><tr><td></td><td>Downstream</td><td>클라이언트에서 프록시로 들어오는 트래픽 방향</td></tr><tr><td></td><td>Backend Pool</td><td>로드 밸런싱 대상으로 묶인 서버 그룹</td></tr><tr><td><strong>인프라 및 확장 기술</strong></td><td>CDN (Content Delivery Network)</td><td>콘텐츠를 사용자 가까운 엣지 서버에서 제공하여 지연 최소화</td></tr><tr><td></td><td>Edge Computing</td><td>사용자 근처에서 데이터 처리를 수행하는 분산 아키텍처</td></tr><tr><td></td><td>Serverless</td><td>서버 인프라를 직접 운영하지 않고 코드 단위로 배포/실행</td></tr><tr><td></td><td>FaaS (Function as a Service)</td><td>이벤트 기반 함수 실행 모델로 서버리스의 세부 형태</td></tr><tr><td></td><td>WebAssembly (WASM)</td><td>브라우저 또는 프록시에서 고성능 코드 실행을 위한 바이너리 포맷</td></tr><tr><td></td><td>eBPF (extended BPF)</td><td>리눅스 커널 내에서 고성능 네트워킹 및 트래픽 필터링을 수행</td></tr><tr><td></td><td>HTTP/3</td><td>QUIC 프로토콜 기반의 고속/보안 HTTP 프로토콜</td></tr><tr><td></td><td>QUIC</td><td>UDP 기반 전송 계층 프로토콜, 빠른 연결 성립 및 멀티플렉싱 지원</td></tr><tr><td></td><td>SDN (Software Defined Network)</td><td>소프트웨어 기반으로 네트워크 경로를 정의하고 제어하는 기술</td></tr><tr><td></td><td>HAProxy</td><td>고성능 TCP/HTTP 기반 로드 밸런서 및 프록시 서버</td></tr><tr><td></td><td>DDoS (Distributed DoS)</td><td>프록시 앞단에서 감지 및 완화 가능한 분산 서비스 거부 공격</td></tr></tbody></table><h3 id=요약-정리-2>요약 정리<a hidden class=anchor aria-hidden=true href=#요약-정리-2>#</a></h3><table><thead><tr><th><strong>분류</strong></th><th><strong>요약 내용</strong></th></tr></thead><tbody><tr><td><strong>프록시 구조</strong></td><td>Forward/Reverse Proxy, API Gateway, Service Mesh 등 다양한 구조를 이해해야 하며, 명시적/투명 프록시 구분도 중요</td></tr><tr><td><strong>보안 기능</strong></td><td>SSL 처리 방식 (Termination, Passthrough, Bridging), WAF, TLS, Zero Trust, ACL 등 보안 계층 강화에 중추적 역할</td></tr><tr><td><strong>성능 최적화</strong></td><td>캐싱, TTL, 압축률, ETag 등을 통한 응답 최적화 및 트래픽 감소 전략 필요</td></tr><tr><td><strong>트래픽 제어</strong></td><td>로드 밸런싱, 헬스 체크, URL 재작성, 세션 지속성 등을 통한 안정적인 라우팅 구성</td></tr><tr><td><strong>인프라 확장성</strong></td><td>CDN, Edge, WASM, eBPF, Serverless 기술을 기반으로 프록시의 위치와 기능을 지능적으로 확장 가능</td></tr><tr><td><strong>최신 프로토콜</strong></td><td>HTTP/3, QUIC, SDN 등을 통한 미래 지향적 네트워크 프록시 기술 적용 가능성 확보</td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><ul><li><a href=https://www.cloudflare.com/learning/cdn/glossary/proxy-server/>Cloudflare 프록시 서버 설명</a></li><li><a href=https://www.cloudflare.com/learning/cdn/glossary/reverse-proxy/>Cloudflare 리버스 프록시 설명</a></li><li><a href=https://www.cloudflare.com/learning/ddos/glossary/proxy-server/>Cloudflare – What is a Proxy Server?</a></li><li><a href=https://www.cloudflare.com/learning/cdn/glossary/reverse-proxy/>Cloudflare – Reverse Proxy Explained</a></li><li><a href=https://docs.nginx.com/nginx/admin-guide/web-server/reverse-proxy/>NGINX 공식 리버스 프록시 가이드</a></li><li><a href=https://www.nginx.com/resources/glossary/reverse-proxy-server/>NGINX – What is a Reverse Proxy?</a></li><li><a href=https://aws.amazon.com/architecture/reference-architecture-diagrams/>AWS 리버스 프록시 아키텍처</a></li><li><a href=https://docs.aws.amazon.com/elasticloadbalancing/latest/application/>AWS Application Load Balancer 사용자 가이드</a></li><li><a href=https://aws.amazon.com/ko/elasticloadbalancing/>AWS 로드 밸런싱 설명</a></li><li><a href=https://docs.aws.amazon.com/elasticloadbalancing/>AWS 엘라스틱 로드 밸런싱 문서</a></li><li><a href=https://aws.amazon.com/ko/api-gateway/>AWS – API 게이트웨이 설명</a></li><li><a href=https://aws.amazon.com/ko/waf/>AWS WAF 소개</a></li><li><a href=https://www.haproxy.com/documentation/architecture/>HAProxy 아키텍처 다이어그램</a></li><li><a href=https://www.haproxy.org/download/1.8/doc/configuration.txt>HAProxy 공식 문서</a></li><li><a href=https://www.haproxy.com/documentation/>HAProxy 문서</a></li><li><a href=http://www.squid-cache.org/Doc/>Squid 프록시 서버 위키</a></li><li><a href=http://www.squid-cache.org/Doc/>Squid 프록시 문서</a></li><li><a href=https://docs.trafficserver.apache.org/en/latest/>Apache Traffic Server 문서</a></li><li><a href=https://www.privoxy.org/user-manual/>Privoxy 문서</a></li><li><a href=https://docs.mitmproxy.org/stable/>mitmproxy 문서</a></li><li><a href=https://www.envoyproxy.io/docs/>Envoy 프록시 공식 문서</a></li><li><a href=https://www.envoyproxy.io/docs>Envoy 프록시 문서</a></li><li><a href=https://docs.konghq.com/>Kong API 게이트웨이 문서</a></li><li><a href=https://doc.traefik.io/traefik/>Traefik 프록시 문서</a></li><li><a href=https://istio.io/latest/docs/>Istio 서비스 메시 문서</a></li><li><a href=https://kubernetes.io/docs/concepts/services-networking/ingress/>Kubernetes Ingress 문서</a></li><li><a href=https://www.cloudflare.com/ko-kr/learning/security/glossary/what-is-zero-trust/>Cloudflare 제로 트러스트 보안 모델</a></li><li><a href=https://www.cncf.io/blog/2017/04/26/service-mesh-critical-component-cloud-native-stack/>CNCF 서비스 메시 아키텍처</a></li><li><a href=https://datatracker.ietf.org/doc/html/rfc9000>HTTP/3 및 QUIC RFC 문서</a></li><li><a href=https://tools.ietf.org/html/rfc7230>IETF HTTP/1.1 메시지 표준 (RFC 7230)</a></li><li><a href=https://wiki.mozilla.org/Security/Server_Side_TLS>Mozilla SSL 설정 가이드</a></li><li><a href=https://owasp.org/www-community/Reverse_Proxy>OWASP 프록시 보안 가이드</a></li><li><a href=https://cheatsheetseries.owasp.org/cheatsheets/HTTP_Strict_Transport_Security_Cheat_Sheet.html>OWASP HTTP Strict Transport Security Cheat Sheet</a></li><li><a href=https://owasp.org/www-project-secure-headers/>OWASP Secure Proxy Implementation</a></li><li><a href=https://developer.mozilla.org/ko/docs/Web/HTTP/Proxy_servers_and_tunneling>Web Proxy – MDN Web Docs</a></li><li><a href=https://www.geeksforgeeks.org/web-proxy-server-working-types-and-advantages/>GeeksforGeeks Web Proxy 개요</a></li><li><a href=https://www.strongdm.com/blog/difference-between-proxy-and-reverse-proxy>StrongDM Forward vs Reverse Proxy 차이</a></li><li><a href=https://www.guru99.com/forward-proxy-vs-reverse-proxy.html>Guru99 Forward vs Reverse Proxy 비교</a></li><li><a href=https://blog.nashtechglobal.com/forward-proxy-vs-reverse-proxy-key-differences-and-uses/>Nashtech 클라우드 프록시 아키텍처</a></li><li><a href=https://www.ibm.com/cloud/learn/load-balancers>IBM Cloud – 리버스 프록시와 로드 밸런서</a></li><li><a href=https://developer.mozilla.org/ko/docs/Web/HTTP/Proxy_servers>Mozilla Developer Network – 프록시 서버 설명</a></li><li><a href=https://www.cloudflare.com/learning/cdn/what-is-a-proxy-server/>Proxy Server란? – Cloudflare Learning</a></li><li><a href=https://www.cloudflare.com/ko-kr/learning/cdn/glossary/reverse-proxy/>Cloudflare – Reverse Proxy Glossary</a></li><li><a href=https://cilium.io/blog/2021/05/20/cilium-110/>Cilium eBPF 네트워킹</a></li><li><a href=https://www.snowflake.com/en/data-cloud/unistore/>Snowflake Unistore 소개</a></li></ul><hr></div><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Forward Proxy</h2></header><div class=entry-content><p>Forward Proxy Forward Proxy(순방향 프록시) 는 내부 네트워크 사용자 (클라이언트) 가 인터넷이나 외부 네트워크 자원에 접근할 때, 모든 트래픽 및 요청을 중간 프록시 서버를 경유하도록 하는 네트워크 구성요소다. 이 방식은 접근 통제, 보안 정책 강제, 인터넷 사용 기록 및 감사, 캐싱과 대역폭 관리, 외부 노출 IP 의 통합·익명화 등 다목적으로 활용된다. 주로 기업/교육기관 등 내부망 보호에 필수적으로 적용되며, 다양한 프로토콜 (HTTP, HTTPS, SOCKS 등) 을 지원한다.
등장 배경 및 발전 과정 인터넷 초기에는 사용자의 외부 접근이 직접적으로 이루어졌으나, 외부 위협 증가, 내부 정보 유출 방지, 인터넷 대역폭 제한, 직원의 무분별한 사이트 접근 통제 필요 등으로 인해 등장. 기업, 학교, 정부기관 등에서 보안, 구성원 모니터링, 비용 절감, 효율 관리 목적에 따라 필수적으로 도입. 이후 클라우드, 모바일까지 다양한 형태로 확장·진화됨. 목적 및 필요성 달성하고자 하는 목적:
...</p></div><footer class=entry-footer><span title='2025-07-23 09:32:00 +0000 UTC'>July 23, 2025</span>&nbsp;·&nbsp;31 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Forward Proxy" href=https://buenhyden.github.io/posts/system-architecture--design/system-components/access--network-entry/proxy/forward-proxy/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Reverse Proxy</h2></header><div class=entry-content><p>Reverse Proxy 리버스 프록시는 서버 앞단에 위치해 다양한 클라이언트 요청을 받아 내부 서버에 중계하고, 서버 응답도 대신 전달하는 역할을 한다. 이를 활용하면 보안 강화, 부하 분산, 서비스 가용성 및 장애 대응, 캐싱 가속, SSL 오프로드 등 웹 서비스의 성능·안정성이 증대되고, 아키텍처 전체의 관리 용이성도 높아진다. 실제 클라우드 환경, 대규모 웹 서비스, 엔터프라이즈 환경 등에서 광범위하게 적용돼 핵심 인프라 컴포넌트로 자리잡았다.
등장 배경 및 발전 과정 리버스 프록시는 1990 년대 후반 웹 트래픽 증가와 함께 등장했다. 단일 서버의 한계를 극복하고 높은 가용성을 제공하기 위해 개발되었으며, 특히 전자상거래 사이트의 폭발적 성장과 함께 필수 기술로 자리잡았다.
...</p></div><footer class=entry-footer><span title='2025-04-18 15:28:00 +0000 UTC'>April 18, 2025</span>&nbsp;·&nbsp;48 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Reverse Proxy" href=https://buenhyden.github.io/posts/system-architecture--design/system-components/access--network-entry/proxy/reverse-proxy/></a></article></main><script type=module>
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
  </script><footer class=footer><span>&copy; 2026 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>