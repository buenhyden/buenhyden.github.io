<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Processes | hyunyoun's Blog</title><meta name=keywords content="Computer-Science-Fundamentals,Operating-systems,Process-Management,Processes,Multitasking"><meta name=description content="프로세스는 실행 중인 프로그램으로, 운영체제가 CPU·메모리·입출력 등 자원을 할당·관리하는 기본 단위. 생성, 스케줄링, 동기화, 통신, 종료 과정을 거치며 멀티태스킹 환경에서 효율성과 안정성을 보장한다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/computer-science-fundamentals/operating-systems-fundamentals/process-and-thread-fundamentals/process-vs-thread/process/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/computer-science-fundamentals/operating-systems-fundamentals/process-and-thread-fundamentals/process-vs-thread/process/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/computer-science-fundamentals/operating-systems-fundamentals/process-and-thread-fundamentals/process-vs-thread/process/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/computer-science-fundamentals/operating-systems-fundamentals/process-and-thread-fundamentals/process-vs-thread/process/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Processes"><meta property="og:description" content="프로세스는 실행 중인 프로그램으로, 운영체제가 CPU·메모리·입출력 등 자원을 할당·관리하는 기본 단위. 생성, 스케줄링, 동기화, 통신, 종료 과정을 거치며 멀티태스킹 환경에서 효율성과 안정성을 보장한다."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Processes"><meta name=twitter:description content="프로세스는 실행 중인 프로그램으로, 운영체제가 CPU·메모리·입출력 등 자원을 할당·관리하는 기본 단위. 생성, 스케줄링, 동기화, 통신, 종료 과정을 거치며 멀티태스킹 환경에서 효율성과 안정성을 보장한다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Processes","item":"https://buenhyden.github.io/posts/computer-science-fundamentals/operating-systems-fundamentals/process-and-thread-fundamentals/process-vs-thread/process/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a></div><h1>Processes</h1><div class=post-description>프로세스는 실행 중인 프로그램으로, 운영체제가 CPU·메모리·입출력 등 자원을 할당·관리하는 기본 단위. 생성, 스케줄링, 동기화, 통신, 종료 과정을 거치며 멀티태스킹 환경에서 효율성과 안정성을 보장한다.</div></header><div class=post-content><h2 id=processes>Processes<a hidden class=anchor aria-hidden=true href=#processes>#</a></h2><p>프로세스는 실행 중인 프로그램의 독립 실행 단위로, 코드·데이터·힙·스택과 레지스터 컨텍스트·열린 핸들을 포함한다.<br>운영체제는 PCB 로 상태 (New/Ready/Running/Waiting/Terminated) 를 추적하고 스케줄러 (예: 선점형·CFS) 로 CPU 시간을 배분한다.<br>생성은 fork/exec, 종료는 wait 로 수거되며 COW 로 복제 비용을 낮춘다.<br>동기화 (뮤텍스·세마포어) 와 IPC(파이프·소켓·공유메모리) 로 협력하고, 메모리 보호·권한 모델과 컨테이너 격리 (namespace·cgroups) 를 통해 안정성과 보안을 확보한다.<br>멀티코어·가상화·클라우드 환경에서는 프로세스 풀, 자원 한도, 관측성 (PSI 등) 을 결합해 성능과 확장성을 달성한다.</p><h3 id=핵심-개념>핵심 개념<a hidden class=anchor aria-hidden=true href=#핵심-개념>#</a></h3><table><thead><tr><th>구분</th><th>개념</th><th>핵심 요지</th><th>필수 지식</th><th>대표 도구/명령</th><th>주요 리스크</th></tr></thead><tbody><tr><td>정의/구성</td><td>프로세스/주소공간</td><td>실행 중인 프로그램 인스턴스, 독립 주소공간</td><td>코드/데이터/힙/스택</td><td><code>/proc/&lt;pid></code>, <code>ps</code>, <code>top</code></td><td>메모리 고갈, OOM</td></tr><tr><td>관리 구조</td><td>PCB</td><td>상태·레지스터·메모리·FD·시그널 메타데이터</td><td>컨텍스트 스위칭</td><td><code>pidstat</code>, <code>perf</code></td><td>스위칭 과다로 p95↑</td></tr><tr><td>수명주기</td><td>상태 전이</td><td>New→Ready→Running↔Waiting→Terminated</td><td>런큐, 선점, 타임슬라이스</td><td><code>schedstat</code>, <code>chrt</code></td><td>HoL, 기아 (Starvation)</td></tr><tr><td>생성/실행</td><td>fork/exec, CreateProcess</td><td>COW 로 빠른 생성, 새 주소공간 실행</td><td>COW, 페이지 폴트</td><td><code>strace</code>, <code>time</code></td><td>포크 폭풍, FD 상속 실수</td></tr><tr><td>IPC/동기화</td><td>파이프/소켓/공유메모리/메시지큐·뮤텍스/세마포어</td><td>통신·일관성 확보</td><td>복사 vs 공유 vs 커널경로</td><td><code>ipcs</code>, <code>ss</code>, <code>ipcrm</code></td><td>락 경합, 우선순위 역전</td></tr><tr><td>스케줄링</td><td>CFS/RT/MLFQ/Affinity</td><td>공정성과 데드라인/우선순위 관리</td><td>vruntime, 우선순위</td><td><code>taskset</code>, <code>chrt</code></td><td>역전, 오조정으로 지연</td></tr><tr><td>격리/제어</td><td>cgroups/Namespaces/SELinux/seccomp</td><td>자원·보안 격리, 한도 집행</td><td>v2 컨트롤러 (cpu/mem/io/pids)</td><td><code>systemd-run</code>, <code>cgget</code></td><td>한도 과소/과대, OOM- 킬</td></tr><tr><td>서비스 운영</td><td>systemd/PM2/Supervisor</td><td>자동 시작·재시작·헬스체크</td><td>유닛/서비스 파일, PID 1</td><td><code>systemctl</code>, <code>pm2</code></td><td>좀비, 시그널 미처리</td></tr><tr><td>관측/튜닝</td><td>메트릭/트레이스/프로파일</td><td>p95/큐·락·PSI/슬로우 경로 식별</td><td>PSI, perf/eBPF</td><td><code>cat /proc/pressure/*</code></td><td>원인 미상 테일 지연</td></tr></tbody></table><ul><li>PCB·상태전이·스케줄링이 <strong>CPU 배분과 지연</strong>을 결정하고, COW/가상메모리가 <strong>시작·메모리 비용</strong>을 좌우한다.</li><li>IPC/동기화·격리 (cgroups/NS) 는 <strong>정합성과 SLO</strong>를 지키는 수단이며, 관측·프로파일은 <strong>병목의 좌표</strong>를 제공한다.</li></ul><h4 id=실무-구현과의-연관성>실무 구현과의 연관성<a hidden class=anchor aria-hidden=true href=#실무-구현과의-연관성>#</a></h4><table><thead><tr><th>시나리오/요구</th><th>핵심 개념/메커니즘</th><th>구현 포인트</th><th>관측 지표/도구</th><th>흔한 장애 ↔ 대응</th></tr></thead><tbody><tr><td>고동시성 웹/API</td><td>스레드/프로세스 모델, CFS, Affinity</td><td>pre-fork/풀, N:M 바인딩</td><td>RPS, p95/p99, run-queue</td><td>풀 포화→풀 확대/쿼터, 핀 ning</td></tr><tr><td>배치/ETL CPU 바운드</td><td>멀티프로세싱, NUMA</td><td>워커 수=코어수, NUMA-local</td><td>CPU%/context switches</td><td>스로틀링→Affinity/스케줄링 조정</td></tr><tr><td>짧은 수명 워커 대량 생성</td><td><code>fork</code>+COW</td><td>FD 상속 차단, <code>exec</code> 최적화</td><td>프로세스 생성률, FD 사용량</td><td>포크 폭풍→레이트리밋/풀 전환</td></tr><tr><td>낮은 지연 DB 연동</td><td>IPC(소켓), 스케줄링, 메모리</td><td>커넥션 풀, pinning, HugePages</td><td>슬로우쿼리, 락대기</td><td>N+1/락경합→인덱스/격리 조정</td></tr><tr><td>컨테이너 운영</td><td>cgroups/NS, PID 1</td><td>시그널/좀비 reap, 한도 설정</td><td>PSI, cgroup stat</td><td>OOMKill→메모리/스왑 한도 재조정</td></tr><tr><td>실시간 제약</td><td>RT 스케줄링</td><td><code>SCHED_FIFO/RR/DEADLINE</code></td><td>deadline miss</td><td>역전→priority inheritance</td></tr><tr><td>장애 격리·보안</td><td>SELinux/AppArmor, seccomp</td><td>최소 권한·필터링</td><td>AVC 로그, seccomp stats</td><td>차단 오탐→정책 튜닝</td></tr><tr><td>원인 분석</td><td>eBPF/perf/strace</td><td>핫/슬로우 경로 추적</td><td>플레임그래프, syscalls</td><td>커널 경합→io 스케줄러/디바이스 튜닝</td></tr></tbody></table><ul><li><strong>풀/스케줄링/NUMA</strong>로 처리량과 p95 지연을 안정화하고, <strong>cgroups/NS</strong>로 SLO 와 격리를 강제한다.</li><li><strong>PSI·프로파일</strong>로 병목을 수치화해 원인 (락/스케줄링/페이지 폴트/IO) 을 정확히 지목하고 조치한다.</li></ul><h3 id=기초-개념-foundation-understanding>기초 개념 (Foundation Understanding)<a hidden class=anchor aria-hidden=true href=#기초-개념-foundation-understanding>#</a></h3><h4 id=개념-정의-및-본질적-이해>개념 정의 및 본질적 이해<a hidden class=anchor aria-hidden=true href=#개념-정의-및-본질적-이해>#</a></h4><p>운영체제가 관리하는 프로그램 실행 인스턴스이며, 고유 PID, 메모리 공간, 시스템 자원, 실행 컨텍스트를 갖춘다.</p><ul><li><strong>자원 할당의 최소 단위</strong>이며, 스레드는 그 내부의 <strong>스케줄링 최소 단위</strong>다.</li><li>메모리와 자원을 기본적으로 다른 프로세스와 공유하지 않는다.</li><li>실행 상태는 생성 → 준비 → 실행 → 대기 → 종료로 전이된다.</li><li>PCB(Process Control Block) 는 운영체제가 프로세스를 관리하기 위한 핵심 데이터 구조다.</li><li>주소 공간은 <strong>텍스트, 데이터, 힙, 스택</strong>으로 구성된다.</li><li>IPC(파이프, 소켓, 메시지 큐, 공유 메모리) 를 통해 다른 프로세스와 통신한다.</li></ul><p><strong>Program vs. Process vs. Thread</strong></p><table><thead><tr><th>구분</th><th>프로그램 (Program)</th><th>프로세스 (Process)</th><th>스레드 (Thread)</th></tr></thead><tbody><tr><td>정의</td><td>디스크에 저장된 실행 파일</td><td>실행 중인 프로그램 인스턴스</td><td>프로세스 내 실행 흐름 단위</td></tr><tr><td>상태</td><td>정적 (Static)</td><td>동적 (Dynamic, 상태 전이 존재)</td><td>동적 (Dynamic)</td></tr><tr><td>메모리</td><td>파일 시스템에 저장</td><td>RAM 에 로드, 독립 주소 공간</td><td>프로세스 메모리 공유</td></tr><tr><td>자원 할당</td><td>없음</td><td>자원 할당의 최소 단위</td><td>스케줄링 최소 단위</td></tr><tr><td>격리성</td><td>해당 없음</td><td>높은 격리성</td><td>낮음 (동기화 필요)</td></tr><tr><td>관리 구조</td><td>없음</td><td>PCB 로 관리</td><td>TCB(Thread Control Block)</td></tr><tr><td>실행 컨텍스트</td><td>없음</td><td>레지스터, PC, 스케줄링 정보 포함</td><td>스레드별 스택과 레지스터</td></tr></tbody></table><ul><li>프로세스는 <strong>자원 할당의 최소 단위</strong>, 스레드는 <strong>스케줄링 최소 단위</strong>다.</li><li>프로그램은 정적인 코드 파일, 프로세스는 동적으로 실행되는 인스턴스다.</li><li>프로세스는 메모리를 독립적으로 사용하며, IPC 로 통신한다.</li><li>PCB 는 운영체제가 프로세스를 관리하는 핵심 데이터 구조다.</li><li>프로세스 설계 시 격리성, 효율성, 통신 방식, 멀티스레드와의 트레이드오프를 고려해야 한다.</li></ul><p><strong>프로세스 vs. 스레드 vs. 파이버 (Fiber) 비교</strong>:</p><ul><li>다중 실행 단위 간 차이</li></ul><table><thead><tr><th>구분</th><th>프로세스 (Process)</th><th>스레드 (Thread)</th><th>파이버 (Fiber)</th></tr></thead><tbody><tr><td>주소 공간</td><td>독립</td><td>공유</td><td>공유</td></tr><tr><td>컨텍스트 스위치 비용</td><td>높음 (커널 모드)</td><td>중간</td><td>낮음 (유저 모드)</td></tr><tr><td>격리성</td><td>높음</td><td>낮음</td><td>낮음</td></tr><tr><td>IPC 필요성</td><td>필수</td><td>불필요 (메모리 공유)</td><td>불필요</td></tr><tr><td>사용 예</td><td>워커 격리, CPU 바운드</td><td>I/O 바운드, 동시성</td><td>코루틴 기반 고성능 서버</td></tr><tr><td>실무 적용</td><td>웹서버 워커, 배치 프로세스</td><td>웹 요청 처리, GUI</td><td>게임 서버, 네트워크 IO</td></tr></tbody></table><p><strong>핵심 구성 요소</strong>:</p><pre class=mermaid>graph TB
    A[프로그램 코드&lt;br/&gt;Program Code] --&gt; B[프로세스&lt;br/&gt;Process]
    C[메모리 공간&lt;br/&gt;Memory Space] --&gt; B
    D[시스템 자원&lt;br/&gt;System Resources] --&gt; B
    E[실행 컨텍스트&lt;br/&gt;Execution Context] --&gt; B
    
    B --&gt; F[프로세스 ID&lt;br/&gt;PID]
    B --&gt; G[메모리 할당&lt;br/&gt;Memory Allocation]
    B --&gt; H[CPU 시간&lt;br/&gt;CPU Time]
    B --&gt; I[파일 디스크립터&lt;br/&gt;File Descriptors]
</pre><h4 id=등장-배경-및-발전-과정>등장 배경 및 발전 과정<a hidden class=anchor aria-hidden=true href=#등장-배경-및-발전-과정>#</a></h4><p>프로세스의 발전은 초기 단일 작업 처리 환경에서 시작해 멀티태스킹과 자원 공유가 가능한 시분할 시스템으로 진화했으며, 멀티코어와 대규모 분산 환경을 거쳐 오늘날 클라우드 네이티브·서버리스 아키텍처까지 확장되었다. 이 과정에서 프로세스 스케줄링, 동기화, 격리 기술이 지속적으로 고도화되었다.</p><h5 id=등장-배경>등장 배경<a hidden class=anchor aria-hidden=true href=#등장-배경>#</a></h5><ul><li>초기 컴퓨팅은 한 번에 한 작업만 처리하는 <strong>배치 처리 시스템</strong> 중심.</li><li>하드웨어 성능 향상과 사용자 요구 증가로 <strong>멀티태스킹</strong> 및 <strong>동시 사용자 지원</strong> 필요성 대두.</li><li>자원 효율성과 응답 시간 향상을 위해 <strong>멀티프로그래밍</strong>과 <strong>시분할</strong> 기술 등장.</li><li>대규모 시스템·네트워크 확산과 함께 <strong>프로세스 관리·스케줄링·IPC</strong>가 OS 핵심 기능으로 자리잡음.</li></ul><h5 id=발전-과정-표>발전 과정 표<a hidden class=anchor aria-hidden=true href=#발전-과정-표>#</a></h5><table><thead><tr><th>세대</th><th>시기</th><th>주요 특징</th><th>대표 기술/사례</th></tr></thead><tbody><tr><td>1 세대</td><td>1940~50s</td><td>배치 처리, 단일 작업</td><td>진공관, 천공카드, 프로세스 개념 없음</td></tr><tr><td>2 세대</td><td>1960s</td><td>멀티프로그래밍, 인터럽트</td><td>IBM 메인프레임, 초기 스케줄러</td></tr><tr><td>3 세대</td><td>1970~80s</td><td>시분할, 멀티태스킹, UNIX 모델</td><td>fork(), exec(), POSIX 표준</td></tr><tr><td>4 세대</td><td>1990~2000s</td><td>멀티코어, SMP, NUMA, GUI OS</td><td>Windows NT, Linux 커널 2.x</td></tr><tr><td>5 세대</td><td>2010s~현재</td><td>컨테이너, 서버리스, 클라우드 네이티브</td><td>Docker, Kubernetes, WebAssembly</td></tr></tbody></table><pre class=mermaid>timeline
    title 프로세스 발전 타임라인    
    1940-1950 : 배치 처리 시스템, 단일 작업, 프로세스 개념 없음
    1960 : 멀티프로그래밍, 다중 프로그램 동시 메모리 로드, 인터럽트
    1970-1980 : 시분할/UNIX 모델, 멀티태스킹, POSIX 표준
    1990-2000 : 멀티코어/NUMA, 병렬 처리, GUI OS
    2010 : 클라우드 네이티브/서버리스, 컨테이너, 분산 환경
</pre><p>프로세스 기술은 배치 처리에서 시작해 멀티프로그래밍·시분할·멀티코어 시대를 거쳐 컨테이너·서버리스 기반의 클라우드 네이티브 환경으로 발전했으며, 각 세대마다 스케줄링·자원 관리·격리 기술이 고도화되었다.</p><h4 id=핵심-목적-및-필요성>핵심 목적 및 필요성<a hidden class=anchor aria-hidden=true href=#핵심-목적-및-필요성>#</a></h4><ul><li><strong>왜 필요한가?</strong> 서로 다른 작업이 같은 하드웨어를 쓰되, <strong>충돌 없이 공정하고 안전하게</strong> 돌아가게 하기 위해.</li><li><strong>무엇을 제공하나?</strong> 고립된 주소 공간, 스케줄링 기반의 자원 배분, 안전한 통신 경로, 정책·감사·관측성.</li><li><strong>실무 효과</strong>: 응답성/처리량 향상, 장애 국소화, 멀티테넌시/보안 준수, 비용 최적화.</li></ul><table><thead><tr><th>문제 영역</th><th>핵심 목적</th><th>해결 논리 (개념)</th><th>OS/플랫폼 메커니즘</th><th>실무 예</th><th>트레이드오프/주의</th><th>대표 지표</th></tr></thead><tbody><tr><td>자원 관리</td><td>CPU/메모리/IO 의 효율·회수</td><td>경쟁 자원에 스케줄링·쿼터</td><td>스케줄러 (CFS/우선순위), rlimit, <strong>cgroups</strong></td><td>배치/온라인 혼합 서버</td><td>과한 제한 → 쓰로틀링</td><td>CPU%, RSS, I/O 대기</td></tr><tr><td>격리·보안</td><td>장애 전파·권한 남용 차단</td><td>주소 공간·권한 경계</td><td>가상 메모리, 권한/ACL, <strong>namespace</strong>, capabilities, seccomp</td><td>멀티테넌시 SaaS</td><td>격리 강화 시 오버헤드</td><td>OOM, 권한 이벤트</td></tr><tr><td>동시성·성능</td><td>응답성·처리량 향상</td><td>선점/우선순위/병렬화</td><td>선점 스케줄링, CPU affinity, NUMA</td><td>웹/DB 서버 튜닝</td><td>우선순위 역전 위험</td><td>p95/p99, 컨텍스트 스위치</td></tr><tr><td>공정성·QoS</td><td>독점 방지·SLO 충족</td><td>우선순위·가중치·한도</td><td>nice/priority, cgroups cpu.weight</td><td>백그라운드 제한</td><td>낮은 우선순위 기아</td><td>스케줄 대기시간</td></tr><tr><td>협력·데이터 공유</td><td>안전한 교환/동기화</td><td>구조화된 통신·락</td><td>파이프/소켓/공유메모리, Mutex/Semaphore</td><td>마이크로서비스 게이트웨이</td><td>락 경쟁·데드락</td><td>IPC 지연, 락 대기</td></tr><tr><td>운영·가시성</td><td>진단·자동복구·감사</td><td>계측·정책·감사</td><td>systemd/K8s, 로그/트레이싱, PSI/OOM</td><td>자동 재시작·헬스체크</td><td>과다 수집 비용</td><td>PSI, 재시작율</td></tr></tbody></table><ul><li><strong>프로세스는 " 자원 경쟁과 실패 전파 " 문제를 제도화해 해결</strong>하는 추상화다.</li><li>성능은 <strong>스케줄링/우선순위/한도</strong>로, 안전은 <strong>격리/권한/정책</strong>으로, 운영은 <strong>관측/자동화</strong>로 달성한다.</li><li>컨테이너 시대에는 <strong>namespace+cgroups+ 정책 (보안/감사)</strong> 조합이 표준 해법이다.</li></ul><h4 id=주요-특징-및-차별점>주요 특징 및 차별점<a hidden class=anchor aria-hidden=true href=#주요-특징-및-차별점>#</a></h4><p>프로세스는 <strong>커널이 관리하는 최상위 실행·격리 단위</strong>다.<br>가상 메모리·PCB·스케줄러·보안 모델을 통해 <strong>안전성과 예측 가능성</strong>을 제공하고, 그 대가로 <strong>전환 비용과 IPC 비용</strong>을 수반한다.<br>실무에선 " 핵심 경로의 안정성/보안 " 이 우선이면 <strong>프로세스 분리</strong>, 초저지연·경량 공유가 필요하면 <strong>스레드/이벤트</strong>로 보완한다.</p><table><thead><tr><th>구분</th><th>항목</th><th>핵심 설명</th><th>기술적 근거</th><th>실무 효과</th><th>한계/주의</th></tr></thead><tbody><tr><td>격리</td><td><strong>독립 주소 공간</strong></td><td>프로세스 간 메모리 접근 불가</td><td>MMU, 페이지 테이블, ASLR, COW</td><td>장애/취약점 격리, 디버깅 용이</td><td>공유 비용↑, IPC 의존↑</td></tr><tr><td>제어</td><td><strong>커널 관리 (PCB/스케줄러)</strong></td><td>상태·레지스터·FD·시그널 관리, 선점 실행</td><td>PCB, 타이머 인터럽트, 런큐</td><td>공정성·응답성 확보</td><td>과도한 스위칭→p95↑</td></tr><tr><td>보안</td><td><strong>명확한 권한 경계</strong></td><td>UID/GID·Capabilities·MAC</td><td>SELinux/AppArmor, seccomp</td><td>최소권한/정책 집행</td><td>정책 오탐·튜닝 비용</td></tr><tr><td>통신</td><td><strong>IPC 필수</strong></td><td>파이프/소켓/공유메모리/메시지큐</td><td>커널 IPC 서브시스템</td><td>안전한 교차 통신</td><td>복잡성·복사/컨텍스트 비용</td></tr><tr><td>확장</td><td><strong>멀티프로세스 병렬</strong></td><td>코어별 분산 실행 용이</td><td>스케줄러·Affinity</td><td>장애격리 + 스케일아웃</td><td>메모리 사용량↑</td></tr><tr><td>운영</td><td><strong>리소스 격리/한도</strong></td><td>프로세스별 자원 상한</td><td>cgroups v2, namespaces</td><td>폭주 억제, SLO 보장</td><td>한도 과소/과대 설정 리스크</td></tr><tr><td>수명</td><td><strong>정상 종료/정리</strong></td><td>자식 reaping·FD 회수</td><td>PID1, SIGCHLD, wait()</td><td>누수/좀비 예방</td><td>PID1 미구현시 누수</td></tr><tr><td>차별</td><td><strong>스레드 대비</strong></td><td>격리·보안↑ / 전환·메모리 비용↑</td><td>각자 주소공간·PCB 분리</td><td>안정성·보안 강화</td><td>IPC·메모리 오버헤드</td></tr></tbody></table><ul><li>프로세스는 <strong>격리와 보안</strong>을 최우선으로 설계된 실행 단위다.</li><li><strong>PCB/스케줄러</strong>가 전환과 시간 배분을 책임지고, 그 비용은 <strong>컨텍스트 스위칭</strong>과 <strong>IPC</strong>로 나타난다.</li><li><strong>cgroups/네임스페이스</strong>를 더하면 운영 환경에서 <strong>자원 한도와 격리</strong>를 정책적으로 강제할 수 있다.</li></ul><h3 id=핵심-원리-core-theory>핵심 원리 (Core Theory)<a hidden class=anchor aria-hidden=true href=#핵심-원리-core-theory>#</a></h3><h4 id=설계-원칙>설계 원칙<a hidden class=anchor aria-hidden=true href=#설계-원칙>#</a></h4><p>이 원칙들은 운영체제가 다양한 워크로드와 하드웨어 환경에서 일관되게 프로세스를 관리하고, 사용자가 안정적인 성능과 보안을 경험하게 한다.</p><ul><li><strong>개념적 측면</strong>: 추상화, 격리, 투명성, 공정성, 예측 가능성.</li><li><strong>실무적 측면</strong>: 가용성, 확장성, 효율성, 관측 가능성, 보안.</li></ul><table><thead><tr><th>원칙</th><th>설명</th><th>목적</th></tr></thead><tbody><tr><td>추상화 (Abstraction)</td><td>하드웨어 복잡성을 숨기고 단순한 인터페이스 제공</td><td>개발 편의성, 하드웨어 독립성</td></tr><tr><td>격리 (Isolation)</td><td>메모리·자원 독립, 장애 전파 방지, 보안 경계</td><td>안정성, 보안</td></tr><tr><td>투명성 (Transparency)</td><td>단일 CPU 처럼 보이게 함, 동시성 자동 관리</td><td>사용자 경험 향상</td></tr><tr><td>공정성 (Fairness)</td><td>자원 사용 균형 유지</td><td>성능 형평성</td></tr><tr><td>선점 (Preemption)</td><td>우선순위 보장, CPU 강제 회수</td><td>응답성, 실시간성</td></tr><tr><td>응답성·예측 가능성</td><td>실시간 처리 보장, 지연 최소화</td><td>실시간 워크로드 지원</td></tr><tr><td>가용성 (Recovery)</td><td>장애 발생 시 복구 및 연속 서비스</td><td>서비스 지속성</td></tr><tr><td>확장성 (Scalability)</td><td>대규모 환경에서 성능 유지</td><td>클라우드·분산 환경 지원</td></tr><tr><td>효율성 (Efficiency)</td><td>오버헤드 최소화, 자원 활용 극대화</td><td>고성능 처리</td></tr><tr><td>관측 가능성 (Observability)</td><td>모니터링·로그·트레이스 기능</td><td>문제 진단, 최적화</td></tr><tr><td>모듈성 (Modularity)</td><td>관리·확장 용이한 구조</td><td>유지보수성</td></tr><tr><td>보안 (Security)</td><td>최소 권한 원칙, 접근 제어</td><td>보안 강화</td></tr></tbody></table><ul><li>운영체제 설계 원칙은 <strong>안정성·효율성·보안성</strong>을 보장하기 위한 기초다.</li><li><strong>추상화·격리·투명성</strong>은 개념적 토대, <strong>공정성·선점·예측 가능성</strong>은 동작 품질, <strong>가용성·확장성·효율성·관측 가능성·보안</strong>은 실무 필수 요소다.</li><li>이 원칙들은 프로세스 관리뿐 아니라 분산 시스템·클라우드 아키텍처 설계에도 그대로 적용된다.</li></ul><h4 id=기본-원리-및-동작-메커니즘>기본 원리 및 동작 메커니즘<a hidden class=anchor aria-hidden=true href=#기본-원리-및-동작-메커니즘>#</a></h4><p>프로세스는 <strong>커널이 관리하는 격리된 실행 단위</strong>다. 실행 동안 커널은 <strong>스케줄링 (언제/누가 실행)</strong> 과 <strong>메모리 관리 (무엇을 어떻게 올릴지)</strong> 를 조합해 성능·안정성을 맞춘다. 이 과정에서 발생하는 <strong>컨텍스트 스위치/페이지 폴트/락 대기</strong>가 실제 지연을 좌우한다.</p><h5 id=기본-원리>기본 원리<a hidden class=anchor aria-hidden=true href=#기본-원리>#</a></h5><table><thead><tr><th>원리</th><th>핵심 정의</th><th>커널 메커니즘</th><th>실무 포인트</th><th>리스크/주의</th></tr></thead><tbody><tr><td>실행 단위</td><td>프로세스=독립 주소공간을 가진 실행 인스턴스</td><td>MMU, 페이지 테이블, ASLR</td><td>서비스 격리/보안 경계 설정</td><td>IPC 비용 증가</td></tr><tr><td>생성/로딩</td><td>빠른 생성 후 새 프로그램 로딩</td><td><code>fork</code>+<strong>COW</strong>, <code>exec</code>, 로더 (ELF/PE)</td><td>포크 폭주 방지, FD 상속 관리</td><td>페이지 폴트 급증</td></tr><tr><td>제어/관리</td><td>실행·대기·종료 상태 전이의 관리</td><td><strong>PCB</strong>, 타이머 인터럽트, 시그널, Run/Wait 큐</td><td>상태별 지연 가시화 (p95)</td><td>컨텍스트 스위치 과다</td></tr><tr><td>스케줄링</td><td>공정성·우선순위·데드라인 보장</td><td>CFS/우선순위, RT(FIFO/RR/DEADLINE)</td><td>워커 수/affinity 튜닝</td><td>우선순위 역전</td></tr><tr><td>메모리</td><td>필요한 페이지만 적재/공유</td><td>Demand Paging, COW, TLB</td><td>메모리 지역성/NUMA 고려</td><td>TLB miss, 캐시 미스</td></tr><tr><td>종료/정리</td><td>자원 회수·좀비 수거</td><td><code>SIGCHLD</code>, <code>wait()</code>, PID 1</td><td>PID 1 핸들링/헬스체크</td><td>좀비/핸들 누수</td></tr></tbody></table><ul><li>성능 관점의 핵심은 <strong>스케줄링·컨텍스트 스위치·페이지 폴트</strong>.</li><li>안정성 관점의 핵심은 <strong>자원 경계 (ASLR/MMU)·PID1 reaping·FD/메모리 한도</strong>.</li></ul><h5 id=동작-메커니즘>동작 메커니즘<a hidden class=anchor aria-hidden=true href=#동작-메커니즘>#</a></h5><pre class=mermaid>graph TD
  A[프로그램 파일] --&gt;|실행 요청| B[시스템콜 fork/exec]
  B --&gt; C[&#34;메모리 매핑/할당 (COW, Demand Paging)&#34;]
  C --&gt; D[PCB 생성/초기화]
  D --&gt; E[Ready 큐 등록]
  E --&gt;|디스패치| F[Running]
  F --&gt;|타이머 인터럽트| E
  F --&gt;|I/O 요청| G[Waiting]
  G --&gt;|I/O 완료| E
  F --&gt;|종료 호출| H[Terminated]
  H --&gt; I[자원 회수 및 reaping]
</pre><ul><li>실행 요청은 시스템콜을 통해 <strong>사용자→커널 경계</strong>를 통과한다.</li><li>메모리는 <strong>COW·지연 로딩</strong>으로 초기 비용을 낮추며, PCB 가 스케줄링·상태 관리를 담당한다.</li><li>실행 중에는 <strong>인터럽트</strong>(타임슬라이스) 와 <strong>I/O 이벤트</strong>로 Ready/Waiting 을 왕복한다.</li><li>종료 시 커널이 <strong>FD/메모리</strong>를 회수하고, 부모 (또는 PID 1) 가 <strong>좀비를 수거</strong>한다.</li></ul><h6 id=프로세스-생성-과정>프로세스 생성 과정<a hidden class=anchor aria-hidden=true href=#프로세스-생성-과정>#</a></h6><pre class=mermaid>sequenceDiagram
    participant U as 사용자/부모 프로세스
    participant OS as 운영체제
    participant M as 메모리 관리자
    participant S as 스케줄러
    
    U-&gt;&gt;OS: fork() 시스템 호출
    OS-&gt;&gt;M: 메모리 공간 할당
    M--&gt;&gt;OS: 메모리 주소 반환
    OS-&gt;&gt;OS: PCB 생성 및 초기화
    OS-&gt;&gt;S: 프로세스 등록
    S--&gt;&gt;OS: 스케줄링 큐에 추가
    OS--&gt;&gt;U: 새 프로세스 PID 반환
</pre><p><strong>프로세스 실행 메커니즘</strong>:</p><ol><li><strong>디스패치 (Dispatch)</strong>: 스케줄러가 프로세스 선택</li><li><strong>컨텍스트 로드</strong>: 레지스터 값 복원</li><li><strong>실행</strong>: CPU 가 프로세스 명령어 실행</li><li><strong>인터럽트 처리</strong>: 시간 할당량 소진 또는 I/O 요청</li><li><strong>컨텍스트 저장</strong>: 현재 상태 PCB 에 보존</li></ol><h4 id=운영체제별-프로세스-관리-차이>운영체제별 프로세스 관리 차이<a hidden class=anchor aria-hidden=true href=#운영체제별-프로세스-관리-차이>#</a></h4><h5 id=linux>Linux<a hidden class=anchor aria-hidden=true href=#linux>#</a></h5><ul><li>생성: <code>fork()</code>, <code>clone()</code>(스레드/네임스페이스/자식 프로세스)</li><li>제어: <code>kill</code>, <code>wait</code>, <code>/proc</code>, <code>cgroups</code></li><li>스케줄러: CFS(기본), RT 정책</li><li>리소스 제어: cgroups v1/v2, namespace</li><li>서비스 관리: <code>systemd</code>, <code>init</code></li></ul><h5 id=windows>Windows<a hidden class=anchor aria-hidden=true href=#windows>#</a></h5><ul><li>생성: <code>CreateProcess</code>, <code>CreateProcessAsUser</code></li><li>제어: 핸들 기반 API, <code>TerminateProcess</code></li><li>스케줄러: 우선순위 클래스 (Priority Class), Quantum</li><li>리소스 제어: Job Objects, Windows Resource Manager</li><li>서비스 관리: Service Control Manager (SCM)</li></ul><p><strong>비교 요약</strong></p><table><thead><tr><th>항목</th><th>Linux</th><th>Windows</th></tr></thead><tbody><tr><td>생성 API</td><td>fork/exec</td><td>CreateProcess</td></tr><tr><td>리소스 제어</td><td>cgroups</td><td>Job Objects</td></tr><tr><td>우선순위</td><td>nice/priority, CFS</td><td>Priority Class, Quantum</td></tr><tr><td>서비스 관리</td><td>systemd/init</td><td>SCM</td></tr><tr><td>진단 도구</td><td>ps, top, strace, eBPF</td><td>Task Manager, Process Explorer</td></tr></tbody></table><h4 id=운영체제의-시그널-처리-메커니즘>운영체제의 시그널 처리 메커니즘<a hidden class=anchor aria-hidden=true href=#운영체제의-시그널-처리-메커니즘>#</a></h4><p>SIGTERM, SIGKILL, SIGSTOP 의 차이와 프로세스 종료 절차</p><p><strong>시그널 처리 기본 개념</strong>:</p><ul><li>시그널 (Signal) 은 운영체제가 프로세스에 보내는 비동기 알림.</li><li>주로 프로세스 제어, 상태 변화 요청, 예외 상황 알림 등에 사용.</li><li>프로세스는 시그널을 처리 (handler 등록) 하거나, 무시 (ignore) 하거나, 기본 동작 (default action) 을 수행할 수 있다.</li></ul><p><strong>주요 시그널의 의미와 특징</strong></p><table><thead><tr><th>시그널</th><th>번호 (POSIX 예시)</th><th>의미</th><th>기본 동작</th><th>특징</th></tr></thead><tbody><tr><td><strong>SIGTERM</strong></td><td>15</td><td>정상 종료 요청</td><td>프로세스 종료</td><td>종료 전에 리소스 해제 가능 (핸들러 등록 가능)</td></tr><tr><td><strong>SIGKILL</strong></td><td>9</td><td>강제 종료</td><td>즉시 종료</td><td>핸들러 불가, 무조건 종료, 자원 해제 없이 즉시 사라짐</td></tr><tr><td><strong>SIGSTOP</strong></td><td>19</td><td>프로세스 중지 (일시 정지)</td><td>중단</td><td>핸들러 불가, <code>kill -STOP</code> 또는 Ctrl+Z</td></tr></tbody></table><blockquote><p><strong>SIGKILL/SIGSTOP 은 무시하거나 처리할 수 없음</strong>—커널에서 강제적으로 적용됨.</p></blockquote><h5 id=프로세스-종료-절차-sigterm-기준>프로세스 종료 절차 (SIGTERM 기준)<a hidden class=anchor aria-hidden=true href=#프로세스-종료-절차-sigterm-기준>#</a></h5><pre class=mermaid>sequenceDiagram
    participant OS/Docker/K8s as OS / Docker / K8s
    participant App as 애플리케이션 프로세스
    participant Kernel as 커널

    OS/Docker/K8s-&gt;&gt;App: SIGTERM 전송
    App-&gt;&gt;App: 종료 핸들러 실행 (자원 해제, 요청 처리 마무리)
    App--&gt;&gt;OS/Docker/K8s: 종료 완료 (exit code 전달)

    Note over OS/Docker/K8s,App: 지정된 유예 시간 내 종료하지 않으면…

    OS/Docker/K8s-&gt;&gt;App: SIGKILL 전송 (강제 종료)
    Kernel-&gt;&gt;Kernel: PCB 제거, 메모리/파일 자원 회수
    Kernel--&gt;&gt;OS/Docker/K8s: 프로세스 종료 완료
</pre><ol><li><p>시그널 수신<br>운영체제 또는 다른 프로세스가 <code>kill(pid, SIGTERM)</code> 호출 → 커널이 대상 프로세스의 PCB 에 시그널 도착 표시</p></li><li><p>핸들러 실행 (선택 사항)</p><ul><li>프로세스가 해당 시그널에 대한 핸들러를 등록해두었다면 실행됨</li><li>예: DB 커넥션 종료, 파일 핸들 닫기, 캐시 플러시</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1> 1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2> 2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3> 3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4> 4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5> 5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6> 6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7> 7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8> 8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9> 9</a>
</span><span class=lnt id=hl-5-10><a class=lnlinks href=#hl-5-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># FastAPI + asyncio 환경 예시</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>signal</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>asyncio</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>shutdown_handler</span><span class=p>(</span><span class=n>signum</span><span class=p>,</span> <span class=n>frame</span><span class=p>):</span>
</span></span><span class=line><span class=cl>	<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Received signal </span><span class=si>{</span><span class=n>signum</span><span class=si>}</span><span class=s2>, cleaning up…&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=c1># DB 연결 종료, 세션 정리 등</span>
</span></span><span class=line><span class=cl>	<span class=n>asyncio</span><span class=o>.</span><span class=n>get_event_loop</span><span class=p>()</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>signal</span><span class=o>.</span><span class=n>signal</span><span class=p>(</span><span class=n>signal</span><span class=o>.</span><span class=n>SIGTERM</span><span class=p>,</span> <span class=n>shutdown_handler</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>자원 해제</p><ul><li>파일 디스크립터, 네트워크 소켓, 메모리 해제</li><li>프로세스의 종료 코드 설정</li></ul></li><li><p>프로세스 종료 → 커널 정리</p><ul><li>PCB 제거</li><li>부모 프로세스가 <code>wait()</code> 호출 시 <strong>좀비 프로세스 (zombie)</strong> 제거</li></ul></li></ol><h5 id=sigstopsigcont-포함-중지--재개--종료-시퀀스>SIGSTOP/SIGCONT 포함 중지 → 재개 → 종료 시퀀스<a hidden class=anchor aria-hidden=true href=#sigstopsigcont-포함-중지--재개--종료-시퀀스>#</a></h5><p>Kubernetes/Docker 운영 맥락에서 SIGSTOP/SIGCONT 포함한 중지 → 재개 → 종료 확장 시퀀스.</p><pre class=mermaid>sequenceDiagram
    participant Ctl as 컨트롤러(사용자/오케스트레이터)
    participant App as 애플리케이션 프로세스
    participant Kernel as 커널

    %% --- 중지(Stop) ---
    Ctl-&gt;&gt;App: SIGSTOP 전송 (일시 중지 요청)
    Kernel--&gt;&gt;App: 실행 중단(스케줄링 제외, 핸들러 불가)
    Note over App,Kernel: 프로세스는 정지 상태로 머무름 (자원은 유지)

    %% --- 재개(Continue) ---
    Ctl-&gt;&gt;App: SIGCONT 전송 (재개 요청)
    Kernel--&gt;&gt;App: 실행 재개 (스케줄링 복귀)
    App-&gt;&gt;App: 정상 처리 계속 (요청/작업 이어서 수행)

    %% --- 정상 종료 시도(Terminate) ---
    Ctl-&gt;&gt;App: SIGTERM 전송 (그레이스풀 셧다운)
    App-&gt;&gt;App: 종료 핸들러 실행(세션/커넥션 정리, flush)
    App--&gt;&gt;Ctl: 정상 종료(exit code 반환)

    %% --- 유예시간 초과 시 강제 종료(Kill) ---
    Note over Ctl,App: terminationGracePeriod 경과 시
    Ctl-&gt;&gt;App: SIGKILL 전송 (강제 종료, 핸들러 불가)
    Kernel-&gt;&gt;Kernel: PCB 제거, 메모리/FD 회수
    Kernel--&gt;&gt;Ctl: 종료 완료(좀비 수거는 부모의 wait로 처리)
</pre><ul><li><strong>SIGSTOP/SIGCONT</strong>: 커널 레벨 강제 중지/재개 (핸들러 등록 불가). 디버깅·일시 정지에 활용.</li><li><strong>SIGTERM</strong>: 그레이스풀 셧다운 트리거. 핸들러에서 DB/큐/파일 정리 후 종료 권장.</li><li><strong>SIGKILL</strong>: 유예시간 초과 시 최후 수단. 핸들러 없이 즉시 종료되므로 미정리 리스크가 존재.</li><li><strong>운영 팁</strong><ul><li>Kubernetes: <code>preStop</code> + <code>terminationGracePeriodSeconds</code> 설정으로 안전 종료 보장.</li><li>PID 1 인 애플리케이션은 <strong>시그널 처리/좀비 수거</strong> 로직을 명시적으로 갖추는 게 좋다.</li><li>장시간 작업은 <strong>중단 가능성 (SIGSTOP) 대비 체크포인트/재시도</strong> 전략을 설계하면 안전하다.</li></ul></li></ul><h5 id=sigkill-과-sigstop-처리-차이>SIGKILL 과 SIGSTOP 처리 차이<a hidden class=anchor aria-hidden=true href=#sigkill-과-sigstop-처리-차이>#</a></h5><ul><li><strong>SIGKILL</strong>: PCB 제거와 자원 회수를 OS 가 직접 처리, 핸들러 등록 불가 → 비정상 종료</li><li><strong>SIGSTOP</strong>: 프로세스 실행 상태를 &rsquo; 중단 &rsquo; 상태로 전환, 재개는 SIGCONT 시그널로 가능</li><li>두 경우 모두 커널 레벨에서 강제 적용되므로 애플리케이션 로직 개입 불가</li></ul><h5 id=운영-환경에서의-활용-사례>운영 환경에서의 활용 사례<a hidden class=anchor aria-hidden=true href=#운영-환경에서의-활용-사례>#</a></h5><ul><li><strong>SIGTERM</strong>: Docker/Kubernetes 에서 컨테이너 종료 시 기본적으로 전송</li><li><strong>SIGKILL</strong>: SIGTERM 처리 시간 초과 시 강제 종료 (<code>docker stop --time=5</code>)</li><li><strong>SIGSTOP</strong>: 디버깅, 작업 일시 중지, 프로세스 상태 점검</li></ul><h5 id=안전한-종료를-위한-모범-사례>안전한 종료를 위한 모범 사례<a hidden class=anchor aria-hidden=true href=#안전한-종료를-위한-모범-사례>#</a></h5><ol><li><strong>SIGTERM 핸들러 등록</strong> → DB 연결, 파일 저장, 큐 flush</li><li><strong>종료 신호 무시 금지</strong> → 프로덕션 환경에서는 SIGTERM 을 무시하지 말 것</li><li><strong>그레이스풀 셧다운</strong> (Graceful Shutdown) 구현 → 요청 처리 완료 후 종료</li><li><strong>타임아웃 후 SIGKILL</strong> → 종료 대기시간이 너무 길면 강제 종료</li></ol><h4 id=아키텍처-및-구성-요소>아키텍처 및 구성 요소<a hidden class=anchor aria-hidden=true href=#아키텍처-및-구성-요소>#</a></h4><p>운영체제에서 프로세스의 동작을 지원하는 <strong>아키텍처 및 구성 요소</strong>를 정의하고, 각 요소의 역할·기능·특징과 상호 관계를 분석한다.<br>필수 요소로는 <strong>PCB, 스케줄러, 메모리 관리자, IPC, 상태 큐</strong>가 있으며, 선택 요소로는 <strong>RT 스케줄링, cgroups, 네임스페이스, 보안 모듈</strong> 등이 있다.<br>이를 통해 프로세스는 <strong>독립성·안정성·효율성</strong>을 유지하며 실행된다.</p><h5 id=아키텍처-구조도>아키텍처 구조도<a hidden class=anchor aria-hidden=true href=#아키텍처-구조도>#</a></h5><pre class=mermaid>flowchart TB
    subgraph User Space
        UP[User Process]
    end

    subgraph Kernel Space
        P[PCB - 상태/메모리/I/O 정보]
        S[Scheduler &amp; Dispatcher]
        M[&#34;Memory Manager (MMU/VM)&#34;]
        Q[&#34;Process Queues (Ready/Waiting)&#34;]
        IPC[IPC &amp; Synchronization]
        FS[File System Interface]
        SEC[Security Module &amp; Namespace]
        R[&#34;Resource Control (cgroups)&#34;]
    end

    UP --&gt;|syscall| S
    S --&gt; Q
    S --&gt; P
    Q --&gt; S
    P --&gt; M
    M --&gt; UP
    UP --&gt; IPC
    UP --&gt; FS
    SEC --&gt; UP
    R --&gt; UP
</pre><p>이 구조도는 <strong>사용자 프로세스</strong>가 <strong>시스템 호출</strong>을 통해 커널 구성 요소와 상호 작용하는 과정을 나타낸다.</p><ul><li><strong>PCB</strong>는 프로세스의 상태, 메모리, I/O 정보를 저장하며 스케줄러의 의사결정 기반이 된다.</li><li><strong>스케줄러</strong>와 <strong>프로세스 큐</strong>는 CPU 할당 순서를 결정한다.</li><li><strong>메모리 관리자</strong>는 가상 메모리 및 MMU 를 통해 주소 변환과 보호를 수행한다.</li><li><strong>IPC/동기화 모듈</strong>은 프로세스 간 데이터 교환과 동기화를 관리한다.</li><li><strong>파일 시스템 인터페이스</strong>는 파일 I/O 를 처리하며,</li><li><strong>보안 모듈·네임스페이스</strong>와 ** 리소스 제어 (cgroups)** 는 격리·보안·리소스 제한을 담당한다.</li></ul><h5 id=구성-요소>구성 요소<a hidden class=anchor aria-hidden=true href=#구성-요소>#</a></h5><table><thead><tr><th>구성 요소</th><th>필수/선택</th><th>설명</th><th>역할</th><th>기능</th><th>특징</th></tr></thead><tbody><tr><td>PCB</td><td>필수</td><td>프로세스 상태·메모리·I/O 정보 저장</td><td>프로세스 제어 정보 유지</td><td>상태 전이, 컨텍스트 스위칭 지원</td><td>프로세스 식별 및 관리의 핵심</td></tr><tr><td>스케줄러</td><td>필수</td><td>실행 순서 결정</td><td>CPU 할당 관리</td><td>선점·비선점 스케줄링</td><td>정책에 따라 다중 큐 사용</td></tr><tr><td>메모리 관리자</td><td>필수</td><td>주소 변환·보호·할당</td><td>가상 메모리 관리</td><td>페이지·세그먼트 관리</td><td>MMU 기반</td></tr><tr><td>상태 큐</td><td>필수</td><td>Ready/Waiting 상태별 프로세스 보관</td><td>스케줄러 참조</td><td>상태별 큐 관리</td><td>FIFO/우선순위 구조</td></tr><tr><td>IPC/동기화</td><td>필수</td><td>프로세스 간 데이터 교환</td><td>통신·동기화 지원</td><td>파이프, 메시지 큐, 세마포어</td><td>동시성 제어</td></tr><tr><td>파일 시스템 인터페이스</td><td>필수</td><td>파일 I/O 처리</td><td>데이터 저장/조회</td><td>VFS, inode 관리</td><td>OS 추상화 계층</td></tr><tr><td>RT 스케줄러</td><td>선택</td><td>실시간 우선순위 스케줄링</td><td>실시간 응답 보장</td><td>EDF, RMS 알고리즘</td><td>임베디드·RTOS 환경</td></tr><tr><td>cgroups</td><td>선택</td><td>리소스 제한·모니터링</td><td>자원 관리</td><td>CPU, 메모리, I/O 제한</td><td>Linux 컨테이너 기반</td></tr><tr><td>네임스페이스</td><td>선택</td><td>자원·환경 격리</td><td>프로세스 격리</td><td>PID, NET, MNT, IPC 등</td><td>컨테이너 격리 핵심</td></tr><tr><td>보안 모듈</td><td>선택</td><td>접근 제어</td><td>권한 관리</td><td>SELinux, AppArmor</td><td>정책 기반 보안</td></tr><tr><td>디버깅·트레이싱</td><td>선택</td><td>상태 추적·분석</td><td>문제 해결</td><td>strace, perf</td><td>성능 분석 도구</td></tr></tbody></table><ul><li><strong>PCB, 스케줄러, 메모리 관리자, 상태 큐, IPC/동기화, 파일 시스템 인터페이스</strong>는 모든 OS 에서 필수.</li><li><strong>RT 스케줄러, cgroups, 네임스페이스, 보안 모듈</strong>은 주로 서버·컨테이너 환경이나 보안 민감 환경에서 사용.</li><li><strong>구성 요소 간 강한 결합</strong>: PCB ↔ 스케줄러 ↔ 상태 큐, PCB ↔ 메모리 관리자, 보안 모듈 ↔ 네임스페이스 ↔ cgroups.</li></ul><h4 id=주요-기능과-역할>주요 기능과 역할<a hidden class=anchor aria-hidden=true href=#주요-기능과-역할>#</a></h4><p>프로세스 관리의 주요 기능과 역할은 운영체제가 <strong>프로세스 라이프사이클</strong>을 제어하고, 시스템 자원을 안전하고 효율적으로 배분하기 위해 필수적인 구성 요소이다. 생성·종료, 스케줄링, 동기화, 통신, 메모리·I/O 관리, 교착상태 처리, 보안, 회계 기능 등이 유기적으로 결합되어 멀티태스킹 환경에서 안정성과 성능을 보장한다.</p><table><thead><tr><th>기능</th><th>역할</th><th>세부 설명</th><th>관계된 기능</th></tr></thead><tbody><tr><td>프로세스 생성/종료</td><td>라이프사이클 시작·종료 관리</td><td>fork, exec, exit, wait 호출로 PCB 생성·삭제, 자원 회수</td><td>상태 관리, 메모리 관리</td></tr><tr><td>스케줄링</td><td>CPU 자원 배분</td><td>우선순위, 타임 슬라이스 기반 실행 순서 결정</td><td>상태 관리, 컨텍스트 스위칭</td></tr><tr><td>상태 관리</td><td>프로세스 상태 추적</td><td>생성, 준비, 실행, 대기, 종료 상태 전이 관리</td><td>스케줄링, 동기화</td></tr><tr><td>동기화</td><td>자원 충돌 방지</td><td>세마포어, 뮤텍스, 조건변수로 경쟁 조건 방지</td><td>IPC, 교착상태 처리</td></tr><tr><td>IPC</td><td>데이터 교환</td><td>파이프, 메시지 큐, 공유 메모리, 소켓, 시그널</td><td>동기화, 보안</td></tr><tr><td>메모리 관리</td><td>메모리 자원 제어</td><td>할당·해제, 가상 메모리 매핑, 보호</td><td>상태 관리, 보안</td></tr><tr><td>I/O 관리</td><td>입출력 제어</td><td>파일 시스템, 네트워크, 장치 드라이버 접근</td><td>메모리 관리, 보안</td></tr><tr><td>교착상태 처리</td><td>자원 경합 해결</td><td>예방, 회피, 감지, 복구</td><td>동기화, IPC</td></tr><tr><td>보안/자원 보호</td><td>안정성 보장</td><td>권한 제어, 무한 루프·자원 독점 방지</td><td>전 기능</td></tr><tr><td>계정/자원 회계</td><td>분석·최적화</td><td>자원 사용량 기록, 모니터링</td><td>보안, 스케줄링</td></tr></tbody></table><p>프로세스 관리 기능은 생성→상태 관리→실행→종료로 이어지는 흐름 속에서 자원 할당과 보호, 통신, 동기화, 성능 최적화를 함께 수행한다. 각 기능은 독립적이면서도 긴밀하게 연결되어 멀티태스킹 환경의 성능과 안정성을 유지한다.</p><h3 id=특성-분석-characteristics-analysis>특성 분석 (Characteristics Analysis)<a hidden class=anchor aria-hidden=true href=#특성-분석-characteristics-analysis>#</a></h3><h4 id=장점-및-이점>장점 및 이점<a hidden class=anchor aria-hidden=true href=#장점-및-이점>#</a></h4><ul><li><strong>왜 유리한가?</strong> 프로세스는 " 강한 격리 + 정책 기반 자원 제어 " 로 장애·보안·성능 문제를 체계적으로 다룬다.</li><li><strong>무엇이 좋아지나?</strong> 장애 국소화, 실질 병렬화, 공정한 자원 배분, 쉬운 확장/배포, 높은 가시성.</li><li><strong>어디에 쓰나?</strong> 멀티테넌시 서비스, 보안 민감 워크로드, CPU 바운드 처리, 실시간/마감 요구 작업.</li></ul><table><thead><tr><th>항목</th><th>설명</th><th>기술적 근거</th><th>실무 효과</th></tr></thead><tbody><tr><td>격리성</td><td>프로세스 간 메모리/자원 완전 분리</td><td>가상 메모리, MMU, 개별 주소 공간</td><td>장애 확산 방지, 안전한 멀티테넌시</td></tr><tr><td>보안 경계</td><td>무단 접근·권한 상승 억제</td><td>사용자/그룹, capabilities, seccomp, SELinux/AppArmor</td><td>규정 준수, 최소권한 운영</td></tr><tr><td>안정성·회복력</td><td>크래시/누수 국소화 및 재시작 용이</td><td>독립 프로세스 경계, 재시작 정책 (systemd/K8s)</td><td>다운타임·MTTR 감소</td></tr><tr><td>동시성·성능 (병렬)</td><td>코어 수 만큼 진짜 병렬 실행</td><td>멀티코어/SMP, 독립 힙/주소 공간</td><td>CPU 바운드 처리량 증가</td></tr><tr><td>자원 관리·공정성</td><td>우선순위/가중치·한도 기반 배분</td><td>스케줄러 (CFS 등), rlimit, cgroups v2</td><td>SLO 충족, 자원 독점 방지</td></tr><tr><td>확장성</td><td>워커 단위 수평 확장/수축</td><td>pre-fork/worker model, 프로세스 풀</td><td>부하 급등 대응, 탄력 스케일</td></tr><tr><td>관측성·거버넌스</td><td>단위별 계측·감사·정책 집행</td><td>PSI, 회계 (accounting), 헬스체크</td><td>근본원인 분석, 운영 품질 향상</td></tr><tr><td>유지보수·배포</td><td>롤링/카나리/블루 - 그린 용이</td><td>독립 실행 단위·빠른 교체</td><td>서비스 무중단 교체·리스크 완화</td></tr><tr><td>실시간·QoS</td><td>지연 상한·마감 보장</td><td>SCHED_FIFO/RR/DEADLINE, affinity</td><td>산업/임베디드 지연 보장</td></tr><tr><td>표준성·이식성</td><td>폭넓은 플랫폼 호환</td><td>POSIX/Unix 프로세스 모델</td><td>운영 자동화/이식 쉬움</td></tr></tbody></table><p>프로세스는 <strong>격리·보안·회복력</strong>을 기본으로, <strong>병렬 성능·공정한 자원 배분·운영 유연성</strong>을 제공한다. 컨테이너/클라우드 환경에서는 cgroups/namespace 와 결합해 <strong>멀티테넌시와 SLO</strong>를 안정적으로 달성한다.</p><h4 id=단점-및-제약사항과-해결방안>단점 및 제약사항과 해결방안<a hidden class=anchor aria-hidden=true href=#단점-및-제약사항과-해결방안>#</a></h4><ul><li>프로세스는 <strong>격리·안정성</strong>을 주지만 그 대가로 <strong>전환·통신·메모리</strong> 비용이 크다.</li><li>해결의 축은</li></ul><ol><li>비용 축소 (공유/zero-copy/풀/affinity)</li><li>한도·격리 (ulimit/cgroups)</li><li>관측·운영 자동화 (systemd/Supervisor, PSI/eBPF)</li><li>설계 대안 (스레드·비동기·액터)</li></ol><h5 id=단점-및-제약사항과-해결방안-구조적-단점제약>단점 및 제약사항과 해결방안 (구조적 단점/제약)<a hidden class=anchor aria-hidden=true href=#단점-및-제약사항과-해결방안-구조적-단점제약>#</a></h5><table><thead><tr><th>항목</th><th>설명</th><th>탐지/지표</th><th>해결책 (권장 구성)</th><th>대안 기술</th></tr></thead><tbody><tr><td><strong>IPC 오버헤드</strong></td><td>비공유 메모리로 복사·컨텍스트 비용↑</td><td>syscalls/s, 소켓 RTT, CPU%</td><td><strong>공유메모리 +mmap</strong>, zero-copy, 파이프 프레이밍</td><td>스레드, 액터/메시지 큐</td></tr><tr><td><strong>컨텍스트 스위치 비용</strong></td><td>캐시/TLB 오염, 스케줄링 오버헤드</td><td>context switches/s, run-queue</td><td><strong>워커=코어수±α</strong>, CPU <strong>affinity</strong>, 배치 조정</td><td>스레드, Async I/O</td></tr><tr><td><strong>프로세스 생성 비용</strong></td><td>주소공간/테이블 초기화 비용</td><td>forks/s, 생성 지연</td><td><strong>프로세스 풀/프리포크</strong>, COW 활용, FD 상속 차단</td><td>스레드 풀</td></tr><tr><td><strong>메모리 사용량 증가</strong></td><td>힙/스택·페이지 테이블 중복</td><td>RSS/VSZ, PF/s</td><td><strong>공유 라이브러리</strong>, zygote/preload, 워크셋 관리</td><td>멀티스레드</td></tr><tr><td><strong>관리 복잡성</strong></td><td>다수 워커 생명주기·로그·메트릭</td><td>MTTR, alert 소요</td><td><strong>systemd/Supervisor/PM2</strong>, 표준 로그스키마</td><td>경량 런타임</td></tr><tr><td><strong>자원 한계</strong></td><td>FD/pids/메모리·IO 상한</td><td>nofile/pids 사용률, PSI</td><td><strong>ulimit/cgroups</strong>, 커넥션 풀/큐 상한</td><td>수평 확장/컨테이너</td></tr></tbody></table><h5 id=문제점--해결-운영-실패-모드장애-시나리오>문제점 & 해결 (운영 실패 모드/장애 시나리오)<a hidden class=anchor aria-hidden=true href=#문제점--해결-운영-실패-모드장애-시나리오>#</a></h5><table><thead><tr><th>구분</th><th>항목</th><th>원인</th><th>영향</th><th>탐지/진단</th><th>예방 방법</th><th>해결 기법</th></tr></thead><tbody><tr><td>문제점</td><td><strong>좀비 프로세스</strong></td><td>부모가 <code>wait()</code> 미호출</td><td>PID 고갈 위험</td><td><code>ps</code>, <code>/proc</code>, 경보</td><td><code>SIGCHLD</code> 핸들러, PID1 reaper</td><td>double-fork, <code>waitpid</code> 루프</td></tr><tr><td>문제점</td><td><strong>FD 누수/고갈</strong></td><td><code>close()</code> 미흡/상속</td><td>accept/IO 실패</td><td><code>lsof</code>, <code>/proc/*/fd</code></td><td><code>finally/with</code>, FD 상속 차단</td><td><code>ulimit -n</code>, 타임아웃/유閑 종료</td></tr><tr><td>문제점</td><td><strong>우선순위 역전</strong></td><td>잘못된 nice/RT 정책</td><td>지연·불안정</td><td><code>schedstat</code>, eBPF</td><td>정책 표준화, ceiling</td><td>priority inheritance/부스팅</td></tr><tr><td>문제점</td><td><strong>데드락</strong></td><td>잘못된 락/IPC 순서</td><td>서비스 중단</td><td><code>strace</code>, ftrace</td><td><strong>락 순서 규약</strong>, 타임아웃</td><td>try-lock, 회복/중단 스위치</td></tr><tr><td>문제점</td><td><strong>기아 (Starvation)</strong></td><td>낮은 우선순위 무한 대기</td><td>응답성 저하</td><td>대기 시간, run-queue</td><td>에이징 (Aging)</td><td>우선순위 부스팅</td></tr><tr><td>문제점</td><td><strong>쓰래싱</strong></td><td>과도한 PF/메모리 압박</td><td>급격한 성능 저하</td><td>PF/s, PSI-mem</td><td>워크셋 제한, 캐시 정책</td><td>OOM 전 단계 스로틀링</td></tr><tr><td>문제점</td><td><strong>스폰 폭풍</strong></td><td>오류로 과도한 fork</td><td>pids·CPU 고갈</td><td>forks/s, pids 사용률</td><td>rate-limit, 백오프</td><td>회로 차단, 풀로 전환</td></tr><tr><td>문제점</td><td><strong>NUMA 미스매치</strong></td><td>원격 메모리 접근↑</td><td>지연/캐시 미스</td><td><code>numastat</code>, perf</td><td>first-touch, 바인딩</td><td><code>taskset</code>/<code>numactl</code> 재배치</td></tr></tbody></table><ul><li>비용 문제는 <strong>공유·풀·affinity</strong>로 줄이고, 한계 문제는 <strong>ulimit/cgroups/큐 상한</strong>으로 통제하라.</li><li>장애 시나리오는 <strong>표준 시그널/락·우선순위 규약/백오프</strong>만 지켜도 대부분 예방된다.</li><li><strong>PSI·perf/eBPF</strong>로 " 지표 → 원인 → 조치 " 를 자동화하면 MTTR 이 짧아진다.</li></ul><h4 id=트레이드오프-관계-분석>트레이드오프 관계 분석<a hidden class=anchor aria-hidden=true href=#트레이드오프-관계-분석>#</a></h4><p>운영체제와 시스템 설계에서 발생하는 주요 <strong>트레이드오프 관계</strong>를 분석한다.<br>성능, 안정성, 보안, 응답성, 처리량, 에너지 효율, 확장성 등 다양한 목표가 상호 충돌하는 상황에서 어떤 선택이 어떤 장점과 단점을 가지는지, 그리고 선택 시 고려해야 할 기준을 정리했다.<br>이는 커널 튜닝, 서비스 아키텍처 설계, 배포 전략 수립 등 다양한 의사결정에 활용 가능하다.</p><table><thead><tr><th>비교 항목</th><th>A 선택 시 장점</th><th>A 선택 시 단점</th><th>B 선택 시 장점</th><th>B 선택 시 단점</th><th>고려 기준</th></tr></thead><tbody><tr><td>프로세스 vs 스레드</td><td>격리성↑, 안정성↑</td><td>생성/전환 느림, IPC 비용↑, 메모리↑</td><td>생성/전환 빠름, 자원 효율↑</td><td>격리성↓, 오류 전파↑</td><td>보안·안정성 vs 성능·자원 효율</td></tr><tr><td>공유 메모리 vs 독립 메모리</td><td>메모리 사용↓, IPC 속도↑</td><td>보안 취약, 동기화 비용↑</td><td>보안↑, 오류 격리↑</td><td>메모리 사용↑, IPC 비용↑</td><td>메모리 제약 vs 보안 요구</td></tr><tr><td>대화형 vs 배치 스케줄링</td><td>응답성↑</td><td>처리량↓</td><td>처리량↑</td><td>응답성↓</td><td>사용자 경험 vs 전체 처리량</td></tr><tr><td>실시간 (RT) vs 공정 스케줄링</td><td>지연 예측성↑</td><td>공정성↓, 처리량↓</td><td>공정성↑, 처리량↑</td><td>실시간성↓</td><td>실시간 요구 vs 전체 성능</td></tr><tr><td>워커 수 적음 vs 많음</td><td>컨텍스트 스위치↓, 캐시 효율↑</td><td>처리량↓</td><td>처리량↑, 동시성↑</td><td>컨텍스트 스위치↑, 캐시 미스↑</td><td>CPU 코어 수, 작업 부하</td></tr><tr><td>고성능 정책 vs 저전력 정책</td><td>성능↑</td><td>전력소모↑, 발열↑</td><td>전력↓, 발열↓</td><td>성능↓</td><td>환경 특성</td></tr><tr><td>모놀리식 vs 마이크로서비스</td><td>IPC 비용↓, 단일 배포 용이</td><td>확장성↓</td><td>확장성↑, 독립 배포↑</td><td>IPC 비용↑, 네트워크 지연↑</td><td>서비스 규모·변경 빈도</td></tr></tbody></table><ul><li>모든 트레이드오프는 <strong>목표 우선순위</strong>와 <strong>환경 제약 조건</strong>에 따라 선택이 달라진다.</li><li>안정성·보안이 중요한 경우 <strong>격리성</strong> 높은 구조 (프로세스, 독립 메모리, RT 정책) 를 선호.</li><li>성능·처리량이 중요한 경우 <strong>공유·고성능·멀티 워커</strong> 전략이 유리하나, 자원 소모와 오류 전파 위험이 따른다.</li><li>에너지 효율, 확장성, 유지보수성 등은 <strong>실무 환경</strong>에 맞춰 최적화 필요.</li></ul><h4 id=성능-특성-및-확장성-분석>성능 특성 및 확장성 분석<a hidden class=anchor aria-hidden=true href=#성능-특성-및-확장성-분석>#</a></h4><p>프로세스 기반 성능은 <strong>작업 성격 (CPU vs I/O)</strong>, <strong>메모리 지역성/할당</strong>, <strong>스케줄링/동시성 모델</strong>이 결정한다.<br>확장은 <strong>코어/NUMA 최적화 (수직)</strong> 와 <strong>무상태·로드밸런싱 (수평)</strong> 의 조합이 정석이며, <strong>큐잉 이론과 관측성</strong>을 기반으로 <strong>동시성 한도</strong>를 적극 관리해야 테일 지연 없이 처리량을 끌어올릴 수 있다.</p><table><thead><tr><th>구분</th><th>핵심 메트릭</th><th>병목 신호</th><th>주요 원인</th><th>개선 전략</th><th>트레이드오프</th></tr></thead><tbody><tr><td>CPU-bound</td><td>CPU 사용률, run queue 길이, cswch/s, P95/99</td><td>run queue↑, cswch/s↑, L3 miss↑</td><td>과도한 워커, 락/공유상태, 캐시미스</td><td>workers≈코어, Affinity/NUMA 바인딩, 락 회피·샤딩, 알고리즘 최적화</td><td>코어 고정 시 유연성↓, 코드 복잡도↑</td></tr><tr><td>I/O-bound(네트워크/디스크)</td><td>iowait, syscalls/s, 큐 길이, 이벤트루프 랙</td><td>iowait↑, 소켓/FD 고갈, 큐 적체</td><td>블로킹 I/O, 작은 패킷/호출 난사</td><td>논블로킹 I/O, 배치·파이프라인, zero-copy(sendfile/io_uring), 커넥션 풀</td><td>구현 복잡도↑, 디버깅 난이도↑</td></tr><tr><td>메모리/GC</td><td>RSS, fault/s, GC pause, 힙 파편화</td><td>RSS↑, major fault↑, pause↑</td><td>누수, 파편화, 비효율 할당</td><td>프리로드 +COW, 워커 재시작, 풀링, 효율적 할당자 (jemalloc 등)</td><td>재시작 윈도우, 튜닝 복잡도</td></tr><tr><td>NUMA</td><td>원격 메모리 비율, QPI/UPI 트래픽</td><td>remote hit↑, 소켓 간 트래픽↑</td><td>메모리 비지역성, 워커 이동</td><td>CPU/메모리 바인딩, first-touch, 소켓별 샤딩</td><td>배치 유연성↓</td></tr><tr><td>수직 확장</td><td>스루풋, 지연분포, run queue</td><td>스루풋 포화, 지연 분산 확대</td><td>직렬 구간, 락/IPC 경합</td><td>직렬 구간 제거, 락 프리·메시지 패싱, 파이프라인화</td><td>구조 변경 비용</td></tr><tr><td>수평 확장</td><td>노드당 RPS, 에러율, 재시도율</td><td>테일 지연↑, 재시도 폭증</td><td>상태 공유, 재시도 폭탄, LB 비대칭</td><td>스테이트리스/세션외부화, idempotency, 지능형 LB, 레이트리밋</td><td>데이터 일관성·설계 복잡도↑</td></tr></tbody></table><ul><li><strong>동시성은 " 많을수록 좋다 " 가 아니다</strong>: 큐·락·NUMA·컨텍스트 스위칭에 막히면 테일 지연이 급등한다.</li><li><strong>작업 성격 분류 → 설계 선택</strong>: CPU-bound 는 코어 중심, I/O-bound 는 논블로킹·배치 중심.</li><li><strong>관측성 기반 적응 튜닝</strong>: P95/99, 런큐, iowait, cswch/s 를 보며 workers·큐·배치 크기를 <strong>주기적 재조정</strong>하라.</li></ul><h3 id=구현-및-분류-implementation--classification>구현 및 분류 (Implementation & Classification)<a hidden class=anchor aria-hidden=true href=#구현-및-분류-implementation--classification>#</a></h3><h4 id=구현-기법-및-방법>구현 기법 및 방법<a hidden class=anchor aria-hidden=true href=#구현-기법-및-방법>#</a></h4><p>프로세스 구현은 <strong>생성→실행→통신→종료</strong> 전주기에 걸친 설계 문제다.<br>실무에서는 생성·FD 상속·보안 컨텍스트를 깔끔히 다루고, 스케줄링/affinity 로 성능을 보정하며, IPC/워커 패턴으로 처리량을 확장한다. 운영 단계에선 <strong>cgroups/Job Object·systemd</strong>로 SLO 와 회복력을 담보하고 <strong>PSI/OOM/트레이싱</strong>으로 가시성과 원인분석을 확보한다.</p><table><thead><tr><th>분류</th><th>정의</th><th>구성 요소</th><th>원리</th><th>목적</th><th>사용 상황</th><th>특징</th></tr></thead><tbody><tr><td>생성</td><td>새 프로세스 인스턴스 생성 및 프로그램 로드</td><td><code>fork/exec</code>, <code>posix_spawn</code>, <code>CreateProcess</code>, 환경/FD 상속</td><td>부모 복제 (COW)→실행 이미지 교체</td><td>실행 단위 분리, 권한/환경 분리</td><td>서버 워커 스폰, 외부 툴 호출</td><td>COW 로 빠른 생성, FD 상속 주의 (CLOEXEC)</td></tr><tr><td>수명주기/수거</td><td>실행 종료 및 자원 회수</td><td><code>wait/waitpid</code>, 종료코드, 신호</td><td>커널이 종료 상태 보관→부모가 회수</td><td>좀비 방지, 상태 일관성</td><td>배치·파이프라인</td><td>고아 프로세스 재부모화 (init/systemd)</td></tr><tr><td>스케줄링/우선순위</td><td>CPU 배분 정책/우선순위/affinity</td><td>우선순위, CFS, <code>nice</code>, affinity/NUMA</td><td>시분할·선점·큐/가중치</td><td>응답성·공정성·QoS</td><td>대화형/배치 혼재 시스템</td><td>우선순위 역전 주의, 핀닝은 핫스팟 예방</td></tr><tr><td>IPC</td><td>프로세스간 데이터/신호 교환</td><td>파이프/소켓/공유메모리, 메시지큐</td><td>커널 버퍼/공유영역/복사·맵핑</td><td>안전한 협업·데이터 교환</td><td>마이크로서비스, 워커 파이프라인</td><td>지연·복사비용, 프로토콜 설계 중요</td></tr><tr><td>워커 패턴</td><td>병렬 처리용 다중 프로세스 운용</td><td>pre-fork, 프로세스 풀, 큐</td><td>공유 리스너/큐→작업 분배</td><td>처리량·격리·회복력</td><td>웹서버, ETL, CPU 바운드</td><td>크래시 격리, 핫 코드 교체 용이</td></tr><tr><td>자원 제어/격리</td><td>자원 한도·격리·보안 경계</td><td>rlimit, cgroups/namespace, Job Object</td><td>쿼터/스로틀·네임스페이스 분리</td><td>멀티테넌시·SLO·보안</td><td>클라우드/컨테이너</td><td>과한 제한은 쓰로틀링/타임아웃 유발</td></tr><tr><td>서비스 관리</td><td>기동·감시·재시작·로그</td><td>systemd/K8s, 헬스체크, 재시작 정책</td><td>워치독·유닛/프로브</td><td>MTTR↓, 표준 운영</td><td>장기 서비스</td><td>재시작 루프/백오프 설정 필요</td></tr><tr><td>관측/진단</td><td>상태·성능·장애 원인 가시화</td><td>로깅, 트레이싱, PSI, OOM 이벤트</td><td>계측→수집→대시보드/알림</td><td>근본원인·용량계획</td><td>프로덕션 운영</td><td>과다 계측은 비용↑, 샘플링 전략 필요</td></tr></tbody></table><ul><li><strong>생성/수명주기</strong>는 FD·환경·권한 상속과 수거 (wait) 가 관건.</li><li><strong>스케줄링/affinity</strong>로 응답성과 공정성을 조정, <strong>워커 패턴</strong>으로 격리 + 처리량 확보.</li><li><strong>cgroups/namespace/Job Object</strong>로 멀티테넌시와 SLO 를 보장, <strong>systemd/K8s</strong>로 회복력 자동화.</li><li><strong>관측성</strong>(PSI/OOM/트레이싱) 이 운영 난제를 줄인다.</li></ul><h5 id=생성unix-forkexecpython>생성—Unix: <code>fork/exec</code>(Python)<a hidden class=anchor aria-hidden=true href=#생성unix-forkexecpython>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 자식 생성 후 exec로 실행 이미지 교체, 부모는 wait로 수거</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span><span class=o>,</span> <span class=nn>sys</span>
</span></span><span class=line><span class=cl><span class=n>pid</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>fork</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>pid</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>  <span class=c1># child</span>
</span></span><span class=line><span class=cl>    <span class=n>os</span><span class=o>.</span><span class=n>setsid</span><span class=p>()</span>                      <span class=c1># 세션 분리(옵션)</span>
</span></span><span class=line><span class=cl>    <span class=n>os</span><span class=o>.</span><span class=n>execlp</span><span class=p>(</span><span class=s2>&#34;ls&#34;</span><span class=p>,</span> <span class=s2>&#34;ls&#34;</span><span class=p>,</span> <span class=s2>&#34;-l&#34;</span><span class=p>)</span>     <span class=c1># 새 프로그램 로드</span>
</span></span><span class=line><span class=cl>    <span class=n>os</span><span class=o>.</span><span class=n>_exit</span><span class=p>(</span><span class=mi>127</span><span class=p>)</span>                   <span class=c1># exec 실패 시 안전 종료</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>          <span class=c1># parent</span>
</span></span><span class=line><span class=cl>    <span class=n>_</span><span class=p>,</span> <span class=n>status</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>waitpid</span><span class=p>(</span><span class=n>pid</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>  <span class=c1># 좀비 수거</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;exit:&#34;</span><span class=p>,</span> <span class=n>os</span><span class=o>.</span><span class=n>waitstatus_to_exitcode</span><span class=p>(</span><span class=n>status</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=생성windows-powershell-start-process--job-object간략>생성—Windows: PowerShell <code>Start-Process</code> + Job Object(간략)<a hidden class=anchor aria-hidden=true href=#생성windows-powershell-start-process--job-object간략>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1>1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2>2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3>3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=c># 새 프로세스 시작 후 핸들링 (관리자 권한 필요할 수 있음)</span>
</span></span><span class=line><span class=cl><span class=nv>$p</span> <span class=p>=</span> <span class=nb>Start-Process</span> <span class=n>-FilePath</span> <span class=s2>&#34;notepad.exe&#34;</span> <span class=n>-PassThru</span>
</span></span><span class=line><span class=cl><span class=nb>Write-Host</span> <span class=s2>&#34;PID =&#34;</span> <span class=nv>$p</span><span class=p>.</span><span class=py>Id</span>
</span></span><span class=line><span class=cl><span class=c># 필요 시 Stop-Process -Id $p.Id</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=수명주기수거파이썬-popen--wait>수명주기/수거—파이썬 <code>Popen</code> + <code>wait</code><a hidden class=anchor aria-hidden=true href=#수명주기수거파이썬-popen--wait>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1>1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2>2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3>3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4>4</a>
</span><span class=lnt id=hl-10-5><a class=lnlinks href=#hl-10-5>5</a>
</span><span class=lnt id=hl-10-6><a class=lnlinks href=#hl-10-6>6</a>
</span><span class=lnt id=hl-10-7><a class=lnlinks href=#hl-10-7>7</a>
</span><span class=lnt id=hl-10-8><a class=lnlinks href=#hl-10-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>subprocess</span><span class=o>,</span> <span class=nn>os</span><span class=o>,</span> <span class=nn>signal</span><span class=o>,</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl><span class=n>p</span> <span class=o>=</span> <span class=n>subprocess</span><span class=o>.</span><span class=n>Popen</span><span class=p>([</span><span class=s2>&#34;sleep&#34;</span><span class=p>,</span> <span class=s2>&#34;2&#34;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>rc</span> <span class=o>=</span> <span class=n>p</span><span class=o>.</span><span class=n>wait</span><span class=p>(</span><span class=n>timeout</span><span class=o>=</span><span class=mi>5</span><span class=p>)</span>  <span class=c1># 정상 종료 대기</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=n>subprocess</span><span class=o>.</span><span class=n>TimeoutExpired</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>p</span><span class=o>.</span><span class=n>send_signal</span><span class=p>(</span><span class=n>signal</span><span class=o>.</span><span class=n>SIGTERM</span><span class=p>)</span>   <span class=c1># 그레이스풀 종료 유도</span>
</span></span><span class=line><span class=cl>    <span class=n>rc</span> <span class=o>=</span> <span class=n>p</span><span class=o>.</span><span class=n>wait</span><span class=p>(</span><span class=n>timeout</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;return code:&#34;</span><span class=p>,</span> <span class=n>rc</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=스케줄링우선순위affinity파이썬>스케줄링/우선순위/affinity—파이썬<a hidden class=anchor aria-hidden=true href=#스케줄링우선순위affinity파이썬>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1>1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2>2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3>3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4>4</a>
</span><span class=lnt id=hl-11-5><a class=lnlinks href=#hl-11-5>5</a>
</span><span class=lnt id=hl-11-6><a class=lnlinks href=#hl-11-6>6</a>
</span><span class=lnt id=hl-11-7><a class=lnlinks href=#hl-11-7>7</a>
</span><span class=lnt id=hl-11-8><a class=lnlinks href=#hl-11-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 낮은 우선순위로 실행 + CPU 0번 코어에 고정</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span><span class=o>,</span> <span class=nn>psutil</span>
</span></span><span class=line><span class=cl><span class=n>proc</span> <span class=o>=</span> <span class=n>psutil</span><span class=o>.</span><span class=n>Process</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>getpid</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=n>proc</span><span class=o>.</span><span class=n>nice</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>                 <span class=c1># 우선순위 낮춤(nice 값 증가)</span>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>os</span><span class=o>.</span><span class=n>sched_setaffinity</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=p>{</span><span class=mi>0</span><span class=p>})</span>  <span class=c1># Linux 전용: 코어 0에 고정</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=ne>AttributeError</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=ipc파이프공유메모리-파이썬>IPC—파이프/공유메모리 (파이썬)<a hidden class=anchor aria-hidden=true href=#ipc파이프공유메모리-파이썬>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1> 1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2> 2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3> 3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4> 4</a>
</span><span class=lnt id=hl-12-5><a class=lnlinks href=#hl-12-5> 5</a>
</span><span class=lnt id=hl-12-6><a class=lnlinks href=#hl-12-6> 6</a>
</span><span class=lnt id=hl-12-7><a class=lnlinks href=#hl-12-7> 7</a>
</span><span class=lnt id=hl-12-8><a class=lnlinks href=#hl-12-8> 8</a>
</span><span class=lnt id=hl-12-9><a class=lnlinks href=#hl-12-9> 9</a>
</span><span class=lnt id=hl-12-10><a class=lnlinks href=#hl-12-10>10</a>
</span><span class=lnt id=hl-12-11><a class=lnlinks href=#hl-12-11>11</a>
</span><span class=lnt id=hl-12-12><a class=lnlinks href=#hl-12-12>12</a>
</span><span class=lnt id=hl-12-13><a class=lnlinks href=#hl-12-13>13</a>
</span><span class=lnt id=hl-12-14><a class=lnlinks href=#hl-12-14>14</a>
</span><span class=lnt id=hl-12-15><a class=lnlinks href=#hl-12-15>15</a>
</span><span class=lnt id=hl-12-16><a class=lnlinks href=#hl-12-16>16</a>
</span><span class=lnt id=hl-12-17><a class=lnlinks href=#hl-12-17>17</a>
</span><span class=lnt id=hl-12-18><a class=lnlinks href=#hl-12-18>18</a>
</span><span class=lnt id=hl-12-19><a class=lnlinks href=#hl-12-19>19</a>
</span><span class=lnt id=hl-12-20><a class=lnlinks href=#hl-12-20>20</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 파이프: 부모-&gt;자식 메시지 전송</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>multiprocessing</span> <span class=kn>import</span> <span class=n>Process</span><span class=p>,</span> <span class=n>Pipe</span><span class=p>,</span> <span class=n>shared_memory</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>child</span><span class=p>(</span><span class=n>conn</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>msg</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>recv</span><span class=p>()</span>               <span class=c1># 파이프에서 수신</span>
</span></span><span class=line><span class=cl>    <span class=n>conn</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=n>msg</span><span class=o>.</span><span class=n>upper</span><span class=p>())</span>          <span class=c1># 응답</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>parent</span><span class=p>,</span> <span class=n>child_end</span> <span class=o>=</span> <span class=n>Pipe</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>p</span> <span class=o>=</span> <span class=n>Process</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>child</span><span class=p>,</span> <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=n>child_end</span><span class=p>,))</span>
</span></span><span class=line><span class=cl>    <span class=n>p</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>parent</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=s2>&#34;hello&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>parent</span><span class=o>.</span><span class=n>recv</span><span class=p>())</span>            <span class=c1># HELLO</span>
</span></span><span class=line><span class=cl>    <span class=n>p</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 공유메모리: 큰 배열 공유(복사 없이)</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl><span class=n>shm</span> <span class=o>=</span> <span class=n>shared_memory</span><span class=o>.</span><span class=n>SharedMemory</span><span class=p>(</span><span class=n>create</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>size</span><span class=o>=</span><span class=mi>1024</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>buf</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>ndarray</span><span class=p>((</span><span class=mi>256</span><span class=p>,),</span> <span class=n>dtype</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>int32</span><span class=p>,</span> <span class=n>buffer</span><span class=o>=</span><span class=n>shm</span><span class=o>.</span><span class=n>buf</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>buf</span><span class=p>[:]</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>arange</span><span class=p>(</span><span class=mi>256</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># 다른 프로세스에서 shm.name으로 attach 가능</span>
</span></span><span class=line><span class=cl><span class=n>shm</span><span class=o>.</span><span class=n>close</span><span class=p>();</span> <span class=n>shm</span><span class=o>.</span><span class=n>unlink</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=워커-패턴프로세스-풀-파이썬>워커 패턴—프로세스 풀 (파이썬)<a hidden class=anchor aria-hidden=true href=#워커-패턴프로세스-풀-파이썬>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1> 1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2> 2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3> 3</a>
</span><span class=lnt id=hl-13-4><a class=lnlinks href=#hl-13-4> 4</a>
</span><span class=lnt id=hl-13-5><a class=lnlinks href=#hl-13-5> 5</a>
</span><span class=lnt id=hl-13-6><a class=lnlinks href=#hl-13-6> 6</a>
</span><span class=lnt id=hl-13-7><a class=lnlinks href=#hl-13-7> 7</a>
</span><span class=lnt id=hl-13-8><a class=lnlinks href=#hl-13-8> 8</a>
</span><span class=lnt id=hl-13-9><a class=lnlinks href=#hl-13-9> 9</a>
</span><span class=lnt id=hl-13-10><a class=lnlinks href=#hl-13-10>10</a>
</span><span class=lnt id=hl-13-11><a class=lnlinks href=#hl-13-11>11</a>
</span><span class=lnt id=hl-13-12><a class=lnlinks href=#hl-13-12>12</a>
</span><span class=lnt id=hl-13-13><a class=lnlinks href=#hl-13-13>13</a>
</span><span class=lnt id=hl-13-14><a class=lnlinks href=#hl-13-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># CPU 바운드 작업을 멀티프로세스로 병렬 처리</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>concurrent.futures</span> <span class=kn>import</span> <span class=n>ProcessPoolExecutor</span><span class=p>,</span> <span class=n>as_completed</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>math</span><span class=o>,</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>heavy</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>s</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=n>root</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>math</span><span class=o>.</span><span class=n>sqrt</span><span class=p>(</span><span class=n>n</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>root</span><span class=o>+</span><span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>n</span> <span class=o>%</span> <span class=n>i</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span> <span class=n>s</span> <span class=o>+=</span> <span class=n>i</span> <span class=o>+</span> <span class=p>(</span><span class=n>n</span><span class=o>//</span><span class=n>i</span> <span class=k>if</span> <span class=n>i</span> <span class=o>!=</span> <span class=n>n</span><span class=o>//</span><span class=n>i</span> <span class=k>else</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>s</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>nums</span> <span class=o>=</span> <span class=p>[</span><span class=mi>10_000_019</span> <span class=o>+</span> <span class=n>i</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>cpu_count</span><span class=p>()</span><span class=o>*</span><span class=mi>4</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>    <span class=k>with</span> <span class=n>ProcessPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=n>os</span><span class=o>.</span><span class=n>cpu_count</span><span class=p>())</span> <span class=k>as</span> <span class=n>ex</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>fut</span> <span class=ow>in</span> <span class=n>as_completed</span><span class=p>([</span><span class=n>ex</span><span class=o>.</span><span class=n>submit</span><span class=p>(</span><span class=n>heavy</span><span class=p>,</span> <span class=n>x</span><span class=p>)</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>nums</span><span class=p>]):</span>
</span></span><span class=line><span class=cl>            <span class=n>_</span> <span class=o>=</span> <span class=n>fut</span><span class=o>.</span><span class=n>result</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=자원-제어격리cgroups-v2bash>자원 제어/격리—cgroups v2(Bash)<a hidden class=anchor aria-hidden=true href=#자원-제어격리cgroups-v2bash>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1>1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2>2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3>3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4>4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># CPU/메모리 제한 cgroup 생성 (root 권한)</span>
</span></span><span class=line><span class=cl>mkdir -p /sys/fs/cgroup/demo
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;100000 200000&#34;</span> &gt; /sys/fs/cgroup/demo/cpu.max   <span class=c1># 50% (=100ms/200ms)</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;512M&#34;</span> &gt; /sys/fs/cgroup/demo/memory.max
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=nv>$$</span> &gt; /sys/fs/cgroup/demo/cgroup.procs           <span class=c1># 현재 셸을 cgroup에 편입</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=서비스-관리systemd-유닛>서비스 관리—systemd 유닛<a hidden class=anchor aria-hidden=true href=#서비스-관리systemd-유닛>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1> 1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2> 2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3> 3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4> 4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5> 5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6> 6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7> 7</a>
</span><span class=lnt id=hl-15-8><a class=lnlinks href=#hl-15-8> 8</a>
</span><span class=lnt id=hl-15-9><a class=lnlinks href=#hl-15-9> 9</a>
</span><span class=lnt id=hl-15-10><a class=lnlinks href=#hl-15-10>10</a>
</span><span class=lnt id=hl-15-11><a class=lnlinks href=#hl-15-11>11</a>
</span><span class=lnt id=hl-15-12><a class=lnlinks href=#hl-15-12>12</a>
</span><span class=lnt id=hl-15-13><a class=lnlinks href=#hl-15-13>13</a>
</span><span class=lnt id=hl-15-14><a class=lnlinks href=#hl-15-14>14</a>
</span><span class=lnt id=hl-15-15><a class=lnlinks href=#hl-15-15>15</a>
</span><span class=lnt id=hl-15-16><a class=lnlinks href=#hl-15-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=c1># /etc/systemd/system/myapp.service</span>
</span></span><span class=line><span class=cl><span class=k>[Unit]</span>
</span></span><span class=line><span class=cl><span class=na>Description</span><span class=o>=</span><span class=s>My App</span>
</span></span><span class=line><span class=cl><span class=na>After</span><span class=o>=</span><span class=s>network.target</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>[Service]</span>
</span></span><span class=line><span class=cl><span class=na>ExecStart</span><span class=o>=</span><span class=s>/usr/bin/python3 /opt/myapp/app.py</span>
</span></span><span class=line><span class=cl><span class=na>Restart</span><span class=o>=</span><span class=s>on-failure</span>
</span></span><span class=line><span class=cl><span class=na>RestartSec</span><span class=o>=</span><span class=s>2</span>
</span></span><span class=line><span class=cl><span class=na>WatchdogSec</span><span class=o>=</span><span class=s>30</span>
</span></span><span class=line><span class=cl><span class=c1># 자원 제한</span>
</span></span><span class=line><span class=cl><span class=na>MemoryMax</span><span class=o>=</span><span class=s>512M</span>
</span></span><span class=line><span class=cl><span class=na>CPUWeight</span><span class=o>=</span><span class=s>200</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>[Install]</span>
</span></span><span class=line><span class=cl><span class=na>WantedBy</span><span class=o>=</span><span class=s>multi-user.target</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=관측진단프로세스-메트릭-수집-파이썬>관측/진단—프로세스 메트릭 수집 (파이썬)<a hidden class=anchor aria-hidden=true href=#관측진단프로세스-메트릭-수집-파이썬>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1>1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2>2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3>3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4>4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5>5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6>6</a>
</span><span class=lnt id=hl-16-7><a class=lnlinks href=#hl-16-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># psutil로 기본 메트릭 수집</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>psutil</span><span class=o>,</span> <span class=nn>time</span><span class=o>,</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl><span class=n>p</span> <span class=o>=</span> <span class=n>psutil</span><span class=o>.</span><span class=n>Process</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>getpid</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>3</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>({</span><span class=s2>&#34;cpu%&#34;</span><span class=p>:</span> <span class=n>p</span><span class=o>.</span><span class=n>cpu_percent</span><span class=p>(</span><span class=n>interval</span><span class=o>=</span><span class=mf>1.0</span><span class=p>),</span>
</span></span><span class=line><span class=cl>           <span class=s2>&#34;rssMB&#34;</span><span class=p>:</span> <span class=n>p</span><span class=o>.</span><span class=n>memory_info</span><span class=p>()</span><span class=o>.</span><span class=n>rss</span><span class=o>/</span><span class=mi>1024</span><span class=o>/</span><span class=mi>1024</span><span class=p>,</span>
</span></span><span class=line><span class=cl>           <span class=s2>&#34;open_fds&#34;</span><span class=p>:</span> <span class=n>p</span><span class=o>.</span><span class=n>num_fds</span><span class=p>()</span> <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>p</span><span class=p>,</span> <span class=s2>&#34;num_fds&#34;</span><span class=p>)</span> <span class=k>else</span> <span class=kc>None</span><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=분류-기준에-따른-유형-구분>분류 기준에 따른 유형 구분<a hidden class=anchor aria-hidden=true href=#분류-기준에-따른-유형-구분>#</a></h4><p>이 분류는 프로세스를 <strong>역할 (독립/협력)–자원 성격 (I/O/CPU)–실행/수명–격리–스케줄링–통신–생성–운영형태</strong>의 8 개 축으로 나눠 <strong>설계 선택지를 매트릭스화</strong>한다. 이를 통해 " 어떤 유형을 언제 선택하고 어떤 운영 전략을 취할지 " 를 빠르게 결정할 수 있다.</p><table><thead><tr><th>분류 기준</th><th>유형</th><th>핵심 특징</th><th>적합 시나리오/사례</th><th>스케줄링·자원 전략</th><th>비고/예시</th></tr></thead><tbody><tr><td><strong>독립성</strong></td><td>독립 프로세스</td><td>다른 프로세스와 상태 비공유</td><td>배치, 단일 실행 도구</td><td>기본 (CFS)</td><td>백업 스크립트, 이미지 변환</td></tr><tr><td></td><td>협력 프로세스</td><td>IPC 로 상호작용</td><td>API 게이트웨이, 마이크로서비스</td><td>CFS + IPC 최적화</td><td>파이프/소켓/큐</td></tr><tr><td><strong>자원 성격</strong></td><td>I/O-bound</td><td>I/O 대기 비중 큼</td><td>DB/파일/네트워크 I/O</td><td>짧은 타임슬라이스, Non-blocking I/O 병행</td><td>Nginx 워커, 로그 수집</td></tr><tr><td></td><td>CPU-bound</td><td>계산 비중 큼</td><td>ML 추론, 렌더링</td><td>코어=워커 수, Affinity/NUMA</td><td><code>taskset</code>, <code>numactl</code></td></tr><tr><td><strong>실행 형태</strong></td><td>Foreground</td><td>TTY·사용자 상호작용</td><td>CLI, 에디터</td><td>대화형 응답성 우선</td><td>세션/그룹/TTY 신호</td></tr><tr><td></td><td>Background</td><td>백그라운드 실행</td><td>백엔드 서비스</td><td>배치/서비스 스케줄링</td><td><code>systemd</code>/서비스 매니저</td></tr><tr><td></td><td>Daemon/Service</td><td>부팅 시 자동 시작</td><td>웹서버, 로그 수집기</td><td>장기 실행 안정화</td><td>PID1 신호/리핑 주의</td></tr><tr><td><strong>수명</strong></td><td>단기 (Short-lived)</td><td>짧게 시작/종료</td><td>유틸리티, 잡 워커</td><td>프로세스 풀/프리포크</td><td>생성 오버헤드 절감</td></tr><tr><td></td><td>장기 (Long-running)</td><td>지속 서비스</td><td>DB, API 서버</td><td>헬스체크, 롤링재시작</td><td>그래이스풀 종료</td></tr><tr><td><strong>생성 방식</strong></td><td><code>fork→exec</code></td><td>COW 로 빠른 복제 후 새 이미지</td><td>Unix 호환, 프리포크 서버</td><td>FD 상속 관리</td><td>Apache prefork</td></tr><tr><td></td><td><code>spawn/CreateProcess</code></td><td>직접 새 프로세스 생성</td><td>크로스플랫폼</td><td>핸들/권한 세팅</td><td>Windows 서비스</td></tr><tr><td><strong>스케줄링 클래스</strong></td><td>CFS(일반)</td><td>공정성·대화형 우선</td><td>웹/데스크톱</td><td>vruntime 기반</td><td>기본값</td></tr><tr><td></td><td>RT(FIFO/RR/DEADLINE)</td><td>지연 상한·예측성</td><td>실시간 제어/미디어</td><td>우선순위/데드라인</td><td><code>chrt</code>, deadline</td></tr><tr><td></td><td>Batch/Idle</td><td>백그라운드·유휴 시간 사용</td><td>인덱싱, 백업</td><td>낮은 우선순위</td><td>시스템 여유 활용</td></tr><tr><td><strong>격리 수준</strong></td><td>호스트 (네이티브)</td><td>최소 오버헤드</td><td>단일 서버</td><td>ulimit</td><td>일반 프로세스</td></tr><tr><td></td><td>컨테이너</td><td>Namespaces/cgroups</td><td>멀티테넌시, 배포</td><td>CPU/mem/io/pids 한도</td><td>Kubernetes</td></tr><tr><td></td><td>샌드박스</td><td>syscall/권한 제한</td><td>보안 민감</td><td>seccomp/MAC</td><td>SELinux/AppArmor</td></tr><tr><td><strong>통신 방식</strong></td><td>파이프/명명파이프</td><td>간단·동기/단방향 (기본)</td><td>부모 - 자식</td><td>프레이밍·버퍼</td><td>쉘 파이프라인</td></tr><tr><td></td><td>소켓 (TCP/UDS)</td><td>네트워크/양방향</td><td>분산/마이크로서비스</td><td>커넥션 풀·Nagle 조정</td><td>gRPC/HTTP</td></tr><tr><td></td><td>공유 메모리</td><td>고속·동일 호스트</td><td>고성능 IPC</td><td>락/일관성 관리</td><td><code>mmap</code>, <code>shm</code></td></tr><tr><td></td><td>메시지 큐</td><td>비동기·내구성</td><td>비동기 통합</td><td>QoS/백프레셔</td><td>POSIX/System V, MQ</td></tr><tr><td><strong>우선순위/역할</strong></td><td>시스템/서비스</td><td>높은 중요도</td><td>커널/드라이버/핵심 데몬</td><td>높은 우선순위·RT</td><td>journald, sshd</td></tr><tr><td></td><td>사용자</td><td>일반 중요도</td><td>앱, CLI</td><td>기본 CFS</td><td>일반 프로세스</td></tr><tr><td><strong>배포 토폴로지</strong></td><td>단일 인스턴스</td><td>간단</td><td>소규모 서비스</td><td>수직 확장</td><td>단일 워커</td></tr><tr><td></td><td>프리포크/멀티프로세스</td><td>연결당 워커 분산</td><td>전통 웹서버</td><td>워커=코어수±α</td><td>Apache prefork</td></tr><tr><td></td><td>마스터 - 워커/클러스터</td><td>제어 + 확장</td><td>고동시성</td><td>롤링/그레이스풀</td><td>Nginx, Node Cluster</td></tr></tbody></table><ul><li>**자원 성격 (I/O/CPU)**과 **스케줄링 클래스 (CFS/RT/Batch)**의 조합이 응답성과 처리량을 좌우한다.</li><li><strong>생성 방식</strong>과 <strong>수명 패턴</strong>은 생성/전환 오버헤드를 결정하므로, 단기 작업은 <strong>프리포크/풀</strong>, 장기는 <strong>서비스 매니저</strong>로 관리한다.</li><li><strong>격리 수준</strong>과 <strong>통신 방식</strong>은 보안·안정성과 성능의 트레이드오프 축이다. 컨테이너에선 cgroups 한도를 함께 설계하라.</li></ul><h4 id=도구-및-프레임워크-생태계>도구 및 프레임워크 생태계<a hidden class=anchor aria-hidden=true href=#도구-및-프레임워크-생태계>#</a></h4><p>이 문서는 프로세스 관리, 모니터링, 진단, 자원 제어, 컨테이너 오케스트레이션 등 운영체제와 분산 환경에서 사용되는 주요 <strong>도구 및 프레임워크 생태계</strong>를 정리한 것이다.<br>전통적인 OS 환경 (top, systemd) 에서부터 클라우드 네이티브 환경 (Prometheus, Kubernetes), 분산 추적 (OpenTelemetry), 런타임 보안 (Falco) 까지 폭넓게 다룬다. 이를 통해 실무 환경에서의 성능 관리, 장애 대응, 자원 최적화 전략 수립에 활용할 수 있다.</p><table><thead><tr><th>카테고리</th><th>도구명</th><th>운영체제/환경</th><th>주요 기능</th><th>사용 목적</th></tr></thead><tbody><tr><td>서비스/프로세스 관리</td><td>systemd</td><td>Linux</td><td>서비스·부팅·프로세스 관리</td><td>서버/서비스 제어</td></tr><tr><td></td><td>Supervisor</td><td>크로스 플랫폼</td><td>프로세스 자동 재시작</td><td>백엔드 안정성</td></tr><tr><td></td><td>PM2</td><td>Node.js</td><td>앱 클러스터링, 로드밸런싱</td><td>Node.js 앱 운영</td></tr><tr><td></td><td>Windows Services</td><td>Windows</td><td>서비스 관리</td><td>윈도우 서버 운영</td></tr><tr><td>모니터링 도구</td><td>top/htop</td><td>Linux/Unix</td><td>실시간 프로세스·자원 모니터링</td><td>성능 분석</td></tr><tr><td></td><td>Task Manager</td><td>Windows</td><td>프로세스/자원 모니터링·제어</td><td>문제 진단</td></tr><tr><td></td><td>Activity Monitor</td><td>macOS</td><td>프로세스 활동 확인</td><td>시스템 상태 진단</td></tr><tr><td>진단/관측</td><td>strace/ltrace</td><td>Linux</td><td>시스템·라이브러리 호출 추적</td><td>디버깅</td></tr><tr><td></td><td>perf</td><td>Linux</td><td>성능 분석</td><td>CPU/메모리 최적화</td></tr><tr><td></td><td>eBPF(bcc, bpftrace)</td><td>Linux</td><td>커널 이벤트 추적</td><td>성능/보안 분석</td></tr><tr><td></td><td>py-spy</td><td>크로스 플랫폼</td><td>Python 프로파일링</td><td>병목 분석</td></tr><tr><td>자원 제어</td><td>cgroups v2</td><td>Linux</td><td>CPU·메모리·I/O 제한</td><td>자원 격리</td></tr><tr><td></td><td>taskset/numactl</td><td>Linux</td><td>CPU/NUMA 바인딩</td><td>성능 최적화</td></tr><tr><td></td><td>nice/ionice</td><td>Linux</td><td>CPU/I/O 우선순위 조정</td><td>스케줄링 최적화</td></tr><tr><td>컨테이너·오케스트레이션</td><td>Docker</td><td>크로스 플랫폼</td><td>컨테이너 기반 격리</td><td>앱 배포/테스트</td></tr><tr><td></td><td>Kubernetes</td><td>클라우드</td><td>컨테이너 오케스트레이션</td><td>대규모 서비스 운영</td></tr><tr><td>프로그래밍 API</td><td>psutil</td><td>크로스 플랫폼</td><td>프로세스·시스템 정보 접근</td><td>자동화 스크립트</td></tr><tr><td></td><td>procfs</td><td>Linux</td><td>커널·프로세스 정보</td><td>저수준 접근</td></tr><tr><td></td><td>WMI</td><td>Windows</td><td>시스템 관리 API</td><td>자동화/관리</td></tr><tr><td>클라우드 네이티브·분산</td><td>Prometheus</td><td>크로스 플랫폼</td><td>시계열 모니터링</td><td>마이크로서비스 관측</td></tr><tr><td></td><td>Grafana</td><td>크로스 플랫폼</td><td>시각화 대시보드</td><td>모니터링 UI</td></tr><tr><td></td><td>OpenTelemetry</td><td>크로스 플랫폼</td><td>분산 추적·메트릭·로그</td><td>마이크로서비스 분석</td></tr><tr><td></td><td>Falco</td><td>Linux</td><td>런타임 보안 모니터링</td><td>위협 탐지</td></tr></tbody></table><ul><li>전통적인 OS 기반 도구 (systemd, top) 와 현대 클라우드 네이티브 도구 (Prometheus, Kubernetes) 모두 포함해야 실무 적용 가능.</li><li>실시간 모니터링·자동 재시작·분산 추적·보안 모니터링까지 전 주기 관리 가능.</li><li>eBPF 기반 기술은 성능·보안 분석의 핵심으로 부상.</li><li>컨테이너 환경에서는 오케스트레이션과 APM(Application Performance Monitoring) 연계가 필수.</li></ul><h4 id=표준-및-규격-준수사항>표준 및 규격 준수사항<a hidden class=anchor aria-hidden=true href=#표준-및-규격-준수사항>#</a></h4><p>프로세스 관리의 표준 준수는 <strong>POSIX/SUS</strong>에서 정의한 시스템 호출·시그널·프로세스 그룹/세션·IPC 의미론을 기반으로 한다.<br>Linux 는 이를 구현하면서 CFS/RT 스케줄링, cgroups/namespace 로 자원·격리를 제공한다.<br>Windows 는 Win32 <code>CreateProcess</code>/Job Objects/토큰 보안 모델을 표준 인터페이스로 제공하며, POSIX 와 의미론 차이가 있다.</p><p>컨테이너 실행은 <strong>OCI Runtime/Image Spec</strong>이 사실상 표준이며, 보안·격리 측면에서는 seccomp/SELinux/AppArmor 와 cgroups v2, 각종 네임스페이스의 정책 준수가 요구된다.<br>이식성 관점에선 POSIX 준수와 ABI 일관성, 종료 코드/시그널 의미론, 타임/스케줄링 인터페이스 준수가 관건이며, Conformance Test(LTP, Open POSIX TS) 로 검증한다.</p><ul><li>규범의 축: <strong>POSIX/SUS(기능 의미론) + 플랫폼 API(Windows/리눅스) + 실행/배포 규격 (OCI)</strong>.</li><li>품질의 축: <strong>보안/격리 (seccomp/LSM), 실시간/스케줄링, 시간/시그널, 테스트 스위트로의 검증</strong>.</li></ul><table><thead><tr><th>영역</th><th>핵심 표준/규격</th><th>필수 준수 포인트</th><th>구현/운영 체크리스트</th><th>비고</th></tr></thead><tbody><tr><td>프로세스 생성·제어</td><td><strong>POSIX/SUS</strong>, ISO/IEC 9945</td><td><code>fork/exec/wait</code>, <code>exit</code>/종료코드, <code>getpid/ppid</code></td><td>좀비 방지 <code>waitpid</code>, 오류 시 <code>errno</code> 의미론 확인</td><td>유닉스 계열 공통 준거</td></tr><tr><td>시그널</td><td><strong>POSIX/SUS</strong></td><td><code>sigaction</code>, <code>SA_RESTART</code>, <code>SIGCHLD</code> 처리</td><td>종료/중지/재개 (SYSGRP 포함) 의미론 시험, 핸들러 재진입성</td><td>K8s/Docker 종료 시 실무 핵심</td></tr><tr><td>스케줄링/우선순위</td><td><strong>POSIX.1b(Realtime)</strong></td><td><code>SCHED_OTHER/FIFO/RR</code>, 우선순위 범위</td><td>RT 사용 시 우선순위 역전 방지, cgroup CPU quota</td><td>일반/CFS 와 RT 혼용 주의</td></tr><tr><td>시간/타이머</td><td><strong>POSIX clocks/timers</strong></td><td><code>clock_gettime</code>, <code>timer_*</code>, <code>CLOCK_MONOTONIC</code></td><td>시간 소스 통일, 모노토닉 기반 타임아웃</td><td>NTP/컨테이너 시간 격리 영향</td></tr><tr><td>IPC</td><td><strong>POSIX IPC</strong>, BSD 소켓</td><td>파이프/소켓/공유메모리/메시지큐 의미론</td><td>네임스페이스 내부 통신 경계 확인, 권한/라벨</td><td>도메인 소켓 권한·라벨링</td></tr><tr><td>보안/격리</td><td>LSM(SELinux/AppArmor), <strong>seccomp</strong></td><td>시스템콜 필터, 라벨/프로파일</td><td>seccomp 프로파일/라벨 정책 CICD 에 포함</td><td>표준이라기보다 정책 프레임</td></tr><tr><td>리소스 제어</td><td><strong>cgroups v2</strong></td><td>CPU/메모리/I/O 한도/격리</td><td>메모리 OOM 정책, CPU quota/rt_runtime</td><td>커널 기능 기반 요구</td></tr><tr><td>컨테이너 실행</td><td><strong>OCI Runtime/Image Spec</strong></td><td>런타임/이미지 포맷/Hook</td><td>런타임 호환 (runc/crun), 이미지 레이어 규격</td><td>사실상 업계 표준</td></tr><tr><td>Windows 플랫폼</td><td>Win32 API, <strong>Job Objects</strong></td><td><code>CreateProcess</code>, handle 상속, job 기반 제한</td><td>토큰/ACL/UAC, 프로세스 제약 (Job)</td><td>POSIX 와 의미론 상이</td></tr><tr><td>배포/이식</td><td>FHS, ABI(GLIBC/musl)</td><td>경로 규약, libc/링킹</td><td>정적/동적 링크 정책, 심볼 호환</td><td>LSB 는 레거시 (참고용)</td></tr><tr><td>검증/테스트</td><td>Open POSIX TS, <strong>LTP</strong></td><td>API 의미론/경계 테스트</td><td>CI 에 conformance suite 통합</td><td>플랫폼별 편차 조기 탐지</td></tr></tbody></table><ul><li>실무 기준의 " 표준 " 은 **POSIX/SUS + OCI + (플랫폼 API/보안 정책)**의 삼축으로 정리된다.</li><li><strong>시그널/종료 의미론</strong>, <strong>스케줄링/시간 인터페이스</strong>, <strong>cgroups/namespace</strong>는 컨테이너 시대의 필수 준수 항목이다.</li><li>준수 여부는 ** 테스트 스위트 (LTP·Open POSIX TS)** 를 CI 에 통합해 지속 검증하는 방식이 가장 확실하다.</li></ul><h3 id=실무-적용-practical-application>실무 적용 (Practical Application)<a hidden class=anchor aria-hidden=true href=#실무-적용-practical-application>#</a></h3><h4 id=실제-도입-사례>실제 도입 사례<a hidden class=anchor aria-hidden=true href=#실제-도입-사례>#</a></h4><p>프로세스 기반 도입은 <strong>격리·안정성·보안</strong>을 확보하고, <strong>마이크로서비스/웹서버/브라우저</strong> 등 다양한 레이어에서 표준 패턴으로 정착했다.<br>특히 <strong>프리포크 웹서버/WSGI 서버</strong>, <strong>멀티프로세스 브라우저</strong>, <strong>서비스별 프로세스/컨테이너</strong>는 공통적으로 <strong>장애 전파 최소화와 독립 확장</strong>을 달성한다.<br>Nginx-Gunicorn 처럼 조합 지침이 명확한 스택은 운영 리스크 (느린 클라이언트, DoS) 를 체계적으로 완화한다.</p><table><thead><tr><th>사례</th><th>아키텍처/조합</th><th>도입 목적</th><th>핵심 효과</th><th>트레이드오프</th></tr></thead><tbody><tr><td>웹 API + 썸네일링</td><td>Nginx ↔ Gunicorn(pre-fork) ↔ Python, CPU 작업은 ProcessPool</td><td>동시성/안정성, 느린 클라이언트 완충</td><td>워커 격리, 확장 용이, DoS 방어 강화 (버퍼링)</td><td>워커당 메모리 오버헤드, 프로세스 수 튜닝 필요 ([docs.gunicorn.org][1])</td></tr><tr><td>Chrome 브라우저</td><td>브라우저/렌더러 분리, 탭별 프로세스 + 샌드박스</td><td>안정성·보안</td><td>탭 크래시 격리, 권한 최소화</td><td>메모리 사용 증가 ([chromium.org][2], [Chromium][4])</td></tr><tr><td>Netflix</td><td>서비스별 독립 프로세스/컨테이너 (마이크로서비스)</td><td>대규모 확장, 팀 자율 배포</td><td>장애 격리, 독립 확장/배포</td><td>운영 복잡도↑(관측/네트워크/버전 관리) ([netflixtechblog.com][7])</td></tr><tr><td>Apache httpd</td><td>MPM <strong>prefork</strong>(논스레드·프리포크)</td><td>비스레드 안전 라이브러리 호환, 요청 격리</td><td>안정성, 라이브러리 호환성</td><td>메모리/컨텍스트 스위칭 비용 ([httpd.apache.org][5])</td></tr></tbody></table><ul><li>프로세스 단위 분리는 " 장애 격리·보안 경계·독립 확장 " 을 일관되게 제공한다. 다만 메모리/운영 복잡도 증가는 설계 - 튜닝 (워커 수, 프록시 버퍼링, 오토스케일) 로 상쇄한다.</li></ul><h4 id=실습-예제-및-코드-구현>실습 예제 및 코드 구현<a hidden class=anchor aria-hidden=true href=#실습-예제-및-코드-구현>#</a></h4><h5 id=웹-서버-환경에서-멀티프로세스를-활용한-동시-요청-처리-구현>웹 서버 환경에서 멀티프로세스를 활용한 동시 요청 처리 구현<a hidden class=anchor aria-hidden=true href=#웹-서버-환경에서-멀티프로세스를-활용한-동시-요청-처리-구현>#</a></h5><p><strong>학습 목표</strong>: 웹 서버 환경에서 멀티프로세스를 활용한 동시 요청 처리 구현<br><strong>시나리오</strong>: 여러 클라이언트 요청을 동시에 처리하는 간단한 웹 서버 구축<br><strong>시스템 구성</strong>:</p><ul><li>마스터 프로세스: 요청 수신 및 워커 프로세스 관리</li><li>워커 프로세스: 실제 요청 처리</li><li>클라이언트: HTTP 요청 생성</li></ul><p><strong>시스템 구성 다이어그램</strong>:</p><pre class=mermaid>graph TB
    subgraph &#34;클라이언트 측&#34;
        C1[클라이언트 1]
        C2[클라이언트 2]
        C3[클라이언트 3]
    end
    
    subgraph &#34;서버 측&#34;
        M[마스터 프로세스&lt;br/&gt;포트 리스닝]
        W1[워커 프로세스 1&lt;br/&gt;요청 처리]
        W2[워커 프로세스 2&lt;br/&gt;요청 처리]
        W3[워커 프로세스 3&lt;br/&gt;요청 처리]
        
        M --&gt; W1
        M --&gt; W2
        M --&gt; W3
    end
    
    C1 --&gt; M
    C2 --&gt; M
    C3 --&gt; M
</pre><p><strong>Workflow</strong>:</p><ol><li>마스터 프로세스가 특정 포트에서 연결 대기</li><li>클라이언트 연결 시 사용 가능한 워커 프로세스에 할당</li><li>워커 프로세스가 요청을 독립적으로 처리</li><li>응답 완료 후 워커 프로세스 재사용 가능 상태로 전환</li></ol><p><strong>핵심 역할</strong>:</p><ul><li>프로세스가 요청별 격리된 실행 환경 제공</li><li>멀티프로세싱을 통한 동시성 구현</li></ul><p><strong>유무에 따른 차이점</strong>:</p><ul><li>도입 전: 순차적 요청 처리, 한 요청이 지연되면 전체 지연</li><li>도입 후: 병렬 요청 처리, 독립적 처리로 안정성 향상</li></ul><p><strong>구현 예시</strong> (Python):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1>  1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2>  2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3>  3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4>  4</a>
</span><span class=lnt id=hl-18-5><a class=lnlinks href=#hl-18-5>  5</a>
</span><span class=lnt id=hl-18-6><a class=lnlinks href=#hl-18-6>  6</a>
</span><span class=lnt id=hl-18-7><a class=lnlinks href=#hl-18-7>  7</a>
</span><span class=lnt id=hl-18-8><a class=lnlinks href=#hl-18-8>  8</a>
</span><span class=lnt id=hl-18-9><a class=lnlinks href=#hl-18-9>  9</a>
</span><span class=lnt id=hl-18-10><a class=lnlinks href=#hl-18-10> 10</a>
</span><span class=lnt id=hl-18-11><a class=lnlinks href=#hl-18-11> 11</a>
</span><span class=lnt id=hl-18-12><a class=lnlinks href=#hl-18-12> 12</a>
</span><span class=lnt id=hl-18-13><a class=lnlinks href=#hl-18-13> 13</a>
</span><span class=lnt id=hl-18-14><a class=lnlinks href=#hl-18-14> 14</a>
</span><span class=lnt id=hl-18-15><a class=lnlinks href=#hl-18-15> 15</a>
</span><span class=lnt id=hl-18-16><a class=lnlinks href=#hl-18-16> 16</a>
</span><span class=lnt id=hl-18-17><a class=lnlinks href=#hl-18-17> 17</a>
</span><span class=lnt id=hl-18-18><a class=lnlinks href=#hl-18-18> 18</a>
</span><span class=lnt id=hl-18-19><a class=lnlinks href=#hl-18-19> 19</a>
</span><span class=lnt id=hl-18-20><a class=lnlinks href=#hl-18-20> 20</a>
</span><span class=lnt id=hl-18-21><a class=lnlinks href=#hl-18-21> 21</a>
</span><span class=lnt id=hl-18-22><a class=lnlinks href=#hl-18-22> 22</a>
</span><span class=lnt id=hl-18-23><a class=lnlinks href=#hl-18-23> 23</a>
</span><span class=lnt id=hl-18-24><a class=lnlinks href=#hl-18-24> 24</a>
</span><span class=lnt id=hl-18-25><a class=lnlinks href=#hl-18-25> 25</a>
</span><span class=lnt id=hl-18-26><a class=lnlinks href=#hl-18-26> 26</a>
</span><span class=lnt id=hl-18-27><a class=lnlinks href=#hl-18-27> 27</a>
</span><span class=lnt id=hl-18-28><a class=lnlinks href=#hl-18-28> 28</a>
</span><span class=lnt id=hl-18-29><a class=lnlinks href=#hl-18-29> 29</a>
</span><span class=lnt id=hl-18-30><a class=lnlinks href=#hl-18-30> 30</a>
</span><span class=lnt id=hl-18-31><a class=lnlinks href=#hl-18-31> 31</a>
</span><span class=lnt id=hl-18-32><a class=lnlinks href=#hl-18-32> 32</a>
</span><span class=lnt id=hl-18-33><a class=lnlinks href=#hl-18-33> 33</a>
</span><span class=lnt id=hl-18-34><a class=lnlinks href=#hl-18-34> 34</a>
</span><span class=lnt id=hl-18-35><a class=lnlinks href=#hl-18-35> 35</a>
</span><span class=lnt id=hl-18-36><a class=lnlinks href=#hl-18-36> 36</a>
</span><span class=lnt id=hl-18-37><a class=lnlinks href=#hl-18-37> 37</a>
</span><span class=lnt id=hl-18-38><a class=lnlinks href=#hl-18-38> 38</a>
</span><span class=lnt id=hl-18-39><a class=lnlinks href=#hl-18-39> 39</a>
</span><span class=lnt id=hl-18-40><a class=lnlinks href=#hl-18-40> 40</a>
</span><span class=lnt id=hl-18-41><a class=lnlinks href=#hl-18-41> 41</a>
</span><span class=lnt id=hl-18-42><a class=lnlinks href=#hl-18-42> 42</a>
</span><span class=lnt id=hl-18-43><a class=lnlinks href=#hl-18-43> 43</a>
</span><span class=lnt id=hl-18-44><a class=lnlinks href=#hl-18-44> 44</a>
</span><span class=lnt id=hl-18-45><a class=lnlinks href=#hl-18-45> 45</a>
</span><span class=lnt id=hl-18-46><a class=lnlinks href=#hl-18-46> 46</a>
</span><span class=lnt id=hl-18-47><a class=lnlinks href=#hl-18-47> 47</a>
</span><span class=lnt id=hl-18-48><a class=lnlinks href=#hl-18-48> 48</a>
</span><span class=lnt id=hl-18-49><a class=lnlinks href=#hl-18-49> 49</a>
</span><span class=lnt id=hl-18-50><a class=lnlinks href=#hl-18-50> 50</a>
</span><span class=lnt id=hl-18-51><a class=lnlinks href=#hl-18-51> 51</a>
</span><span class=lnt id=hl-18-52><a class=lnlinks href=#hl-18-52> 52</a>
</span><span class=lnt id=hl-18-53><a class=lnlinks href=#hl-18-53> 53</a>
</span><span class=lnt id=hl-18-54><a class=lnlinks href=#hl-18-54> 54</a>
</span><span class=lnt id=hl-18-55><a class=lnlinks href=#hl-18-55> 55</a>
</span><span class=lnt id=hl-18-56><a class=lnlinks href=#hl-18-56> 56</a>
</span><span class=lnt id=hl-18-57><a class=lnlinks href=#hl-18-57> 57</a>
</span><span class=lnt id=hl-18-58><a class=lnlinks href=#hl-18-58> 58</a>
</span><span class=lnt id=hl-18-59><a class=lnlinks href=#hl-18-59> 59</a>
</span><span class=lnt id=hl-18-60><a class=lnlinks href=#hl-18-60> 60</a>
</span><span class=lnt id=hl-18-61><a class=lnlinks href=#hl-18-61> 61</a>
</span><span class=lnt id=hl-18-62><a class=lnlinks href=#hl-18-62> 62</a>
</span><span class=lnt id=hl-18-63><a class=lnlinks href=#hl-18-63> 63</a>
</span><span class=lnt id=hl-18-64><a class=lnlinks href=#hl-18-64> 64</a>
</span><span class=lnt id=hl-18-65><a class=lnlinks href=#hl-18-65> 65</a>
</span><span class=lnt id=hl-18-66><a class=lnlinks href=#hl-18-66> 66</a>
</span><span class=lnt id=hl-18-67><a class=lnlinks href=#hl-18-67> 67</a>
</span><span class=lnt id=hl-18-68><a class=lnlinks href=#hl-18-68> 68</a>
</span><span class=lnt id=hl-18-69><a class=lnlinks href=#hl-18-69> 69</a>
</span><span class=lnt id=hl-18-70><a class=lnlinks href=#hl-18-70> 70</a>
</span><span class=lnt id=hl-18-71><a class=lnlinks href=#hl-18-71> 71</a>
</span><span class=lnt id=hl-18-72><a class=lnlinks href=#hl-18-72> 72</a>
</span><span class=lnt id=hl-18-73><a class=lnlinks href=#hl-18-73> 73</a>
</span><span class=lnt id=hl-18-74><a class=lnlinks href=#hl-18-74> 74</a>
</span><span class=lnt id=hl-18-75><a class=lnlinks href=#hl-18-75> 75</a>
</span><span class=lnt id=hl-18-76><a class=lnlinks href=#hl-18-76> 76</a>
</span><span class=lnt id=hl-18-77><a class=lnlinks href=#hl-18-77> 77</a>
</span><span class=lnt id=hl-18-78><a class=lnlinks href=#hl-18-78> 78</a>
</span><span class=lnt id=hl-18-79><a class=lnlinks href=#hl-18-79> 79</a>
</span><span class=lnt id=hl-18-80><a class=lnlinks href=#hl-18-80> 80</a>
</span><span class=lnt id=hl-18-81><a class=lnlinks href=#hl-18-81> 81</a>
</span><span class=lnt id=hl-18-82><a class=lnlinks href=#hl-18-82> 82</a>
</span><span class=lnt id=hl-18-83><a class=lnlinks href=#hl-18-83> 83</a>
</span><span class=lnt id=hl-18-84><a class=lnlinks href=#hl-18-84> 84</a>
</span><span class=lnt id=hl-18-85><a class=lnlinks href=#hl-18-85> 85</a>
</span><span class=lnt id=hl-18-86><a class=lnlinks href=#hl-18-86> 86</a>
</span><span class=lnt id=hl-18-87><a class=lnlinks href=#hl-18-87> 87</a>
</span><span class=lnt id=hl-18-88><a class=lnlinks href=#hl-18-88> 88</a>
</span><span class=lnt id=hl-18-89><a class=lnlinks href=#hl-18-89> 89</a>
</span><span class=lnt id=hl-18-90><a class=lnlinks href=#hl-18-90> 90</a>
</span><span class=lnt id=hl-18-91><a class=lnlinks href=#hl-18-91> 91</a>
</span><span class=lnt id=hl-18-92><a class=lnlinks href=#hl-18-92> 92</a>
</span><span class=lnt id=hl-18-93><a class=lnlinks href=#hl-18-93> 93</a>
</span><span class=lnt id=hl-18-94><a class=lnlinks href=#hl-18-94> 94</a>
</span><span class=lnt id=hl-18-95><a class=lnlinks href=#hl-18-95> 95</a>
</span><span class=lnt id=hl-18-96><a class=lnlinks href=#hl-18-96> 96</a>
</span><span class=lnt id=hl-18-97><a class=lnlinks href=#hl-18-97> 97</a>
</span><span class=lnt id=hl-18-98><a class=lnlinks href=#hl-18-98> 98</a>
</span><span class=lnt id=hl-18-99><a class=lnlinks href=#hl-18-99> 99</a>
</span><span class=lnt id=hl-18-100><a class=lnlinks href=#hl-18-100>100</a>
</span><span class=lnt id=hl-18-101><a class=lnlinks href=#hl-18-101>101</a>
</span><span class=lnt id=hl-18-102><a class=lnlinks href=#hl-18-102>102</a>
</span><span class=lnt id=hl-18-103><a class=lnlinks href=#hl-18-103>103</a>
</span><span class=lnt id=hl-18-104><a class=lnlinks href=#hl-18-104>104</a>
</span><span class=lnt id=hl-18-105><a class=lnlinks href=#hl-18-105>105</a>
</span><span class=lnt id=hl-18-106><a class=lnlinks href=#hl-18-106>106</a>
</span><span class=lnt id=hl-18-107><a class=lnlinks href=#hl-18-107>107</a>
</span><span class=lnt id=hl-18-108><a class=lnlinks href=#hl-18-108>108</a>
</span><span class=lnt id=hl-18-109><a class=lnlinks href=#hl-18-109>109</a>
</span><span class=lnt id=hl-18-110><a class=lnlinks href=#hl-18-110>110</a>
</span><span class=lnt id=hl-18-111><a class=lnlinks href=#hl-18-111>111</a>
</span><span class=lnt id=hl-18-112><a class=lnlinks href=#hl-18-112>112</a>
</span><span class=lnt id=hl-18-113><a class=lnlinks href=#hl-18-113>113</a>
</span><span class=lnt id=hl-18-114><a class=lnlinks href=#hl-18-114>114</a>
</span><span class=lnt id=hl-18-115><a class=lnlinks href=#hl-18-115>115</a>
</span><span class=lnt id=hl-18-116><a class=lnlinks href=#hl-18-116>116</a>
</span><span class=lnt id=hl-18-117><a class=lnlinks href=#hl-18-117>117</a>
</span><span class=lnt id=hl-18-118><a class=lnlinks href=#hl-18-118>118</a>
</span><span class=lnt id=hl-18-119><a class=lnlinks href=#hl-18-119>119</a>
</span><span class=lnt id=hl-18-120><a class=lnlinks href=#hl-18-120>120</a>
</span><span class=lnt id=hl-18-121><a class=lnlinks href=#hl-18-121>121</a>
</span><span class=lnt id=hl-18-122><a class=lnlinks href=#hl-18-122>122</a>
</span><span class=lnt id=hl-18-123><a class=lnlinks href=#hl-18-123>123</a>
</span><span class=lnt id=hl-18-124><a class=lnlinks href=#hl-18-124>124</a>
</span><span class=lnt id=hl-18-125><a class=lnlinks href=#hl-18-125>125</a>
</span><span class=lnt id=hl-18-126><a class=lnlinks href=#hl-18-126>126</a>
</span><span class=lnt id=hl-18-127><a class=lnlinks href=#hl-18-127>127</a>
</span><span class=lnt id=hl-18-128><a class=lnlinks href=#hl-18-128>128</a>
</span><span class=lnt id=hl-18-129><a class=lnlinks href=#hl-18-129>129</a>
</span><span class=lnt id=hl-18-130><a class=lnlinks href=#hl-18-130>130</a>
</span><span class=lnt id=hl-18-131><a class=lnlinks href=#hl-18-131>131</a>
</span><span class=lnt id=hl-18-132><a class=lnlinks href=#hl-18-132>132</a>
</span><span class=lnt id=hl-18-133><a class=lnlinks href=#hl-18-133>133</a>
</span><span class=lnt id=hl-18-134><a class=lnlinks href=#hl-18-134>134</a>
</span><span class=lnt id=hl-18-135><a class=lnlinks href=#hl-18-135>135</a>
</span><span class=lnt id=hl-18-136><a class=lnlinks href=#hl-18-136>136</a>
</span><span class=lnt id=hl-18-137><a class=lnlinks href=#hl-18-137>137</a>
</span><span class=lnt id=hl-18-138><a class=lnlinks href=#hl-18-138>138</a>
</span><span class=lnt id=hl-18-139><a class=lnlinks href=#hl-18-139>139</a>
</span><span class=lnt id=hl-18-140><a class=lnlinks href=#hl-18-140>140</a>
</span><span class=lnt id=hl-18-141><a class=lnlinks href=#hl-18-141>141</a>
</span><span class=lnt id=hl-18-142><a class=lnlinks href=#hl-18-142>142</a>
</span><span class=lnt id=hl-18-143><a class=lnlinks href=#hl-18-143>143</a>
</span><span class=lnt id=hl-18-144><a class=lnlinks href=#hl-18-144>144</a>
</span><span class=lnt id=hl-18-145><a class=lnlinks href=#hl-18-145>145</a>
</span><span class=lnt id=hl-18-146><a class=lnlinks href=#hl-18-146>146</a>
</span><span class=lnt id=hl-18-147><a class=lnlinks href=#hl-18-147>147</a>
</span><span class=lnt id=hl-18-148><a class=lnlinks href=#hl-18-148>148</a>
</span><span class=lnt id=hl-18-149><a class=lnlinks href=#hl-18-149>149</a>
</span><span class=lnt id=hl-18-150><a class=lnlinks href=#hl-18-150>150</a>
</span><span class=lnt id=hl-18-151><a class=lnlinks href=#hl-18-151>151</a>
</span><span class=lnt id=hl-18-152><a class=lnlinks href=#hl-18-152>152</a>
</span><span class=lnt id=hl-18-153><a class=lnlinks href=#hl-18-153>153</a>
</span><span class=lnt id=hl-18-154><a class=lnlinks href=#hl-18-154>154</a>
</span><span class=lnt id=hl-18-155><a class=lnlinks href=#hl-18-155>155</a>
</span><span class=lnt id=hl-18-156><a class=lnlinks href=#hl-18-156>156</a>
</span><span class=lnt id=hl-18-157><a class=lnlinks href=#hl-18-157>157</a>
</span><span class=lnt id=hl-18-158><a class=lnlinks href=#hl-18-158>158</a>
</span><span class=lnt id=hl-18-159><a class=lnlinks href=#hl-18-159>159</a>
</span><span class=lnt id=hl-18-160><a class=lnlinks href=#hl-18-160>160</a>
</span><span class=lnt id=hl-18-161><a class=lnlinks href=#hl-18-161>161</a>
</span><span class=lnt id=hl-18-162><a class=lnlinks href=#hl-18-162>162</a>
</span><span class=lnt id=hl-18-163><a class=lnlinks href=#hl-18-163>163</a>
</span><span class=lnt id=hl-18-164><a class=lnlinks href=#hl-18-164>164</a>
</span><span class=lnt id=hl-18-165><a class=lnlinks href=#hl-18-165>165</a>
</span><span class=lnt id=hl-18-166><a class=lnlinks href=#hl-18-166>166</a>
</span><span class=lnt id=hl-18-167><a class=lnlinks href=#hl-18-167>167</a>
</span><span class=lnt id=hl-18-168><a class=lnlinks href=#hl-18-168>168</a>
</span><span class=lnt id=hl-18-169><a class=lnlinks href=#hl-18-169>169</a>
</span><span class=lnt id=hl-18-170><a class=lnlinks href=#hl-18-170>170</a>
</span><span class=lnt id=hl-18-171><a class=lnlinks href=#hl-18-171>171</a>
</span><span class=lnt id=hl-18-172><a class=lnlinks href=#hl-18-172>172</a>
</span><span class=lnt id=hl-18-173><a class=lnlinks href=#hl-18-173>173</a>
</span><span class=lnt id=hl-18-174><a class=lnlinks href=#hl-18-174>174</a>
</span><span class=lnt id=hl-18-175><a class=lnlinks href=#hl-18-175>175</a>
</span><span class=lnt id=hl-18-176><a class=lnlinks href=#hl-18-176>176</a>
</span><span class=lnt id=hl-18-177><a class=lnlinks href=#hl-18-177>177</a>
</span><span class=lnt id=hl-18-178><a class=lnlinks href=#hl-18-178>178</a>
</span><span class=lnt id=hl-18-179><a class=lnlinks href=#hl-18-179>179</a>
</span><span class=lnt id=hl-18-180><a class=lnlinks href=#hl-18-180>180</a>
</span><span class=lnt id=hl-18-181><a class=lnlinks href=#hl-18-181>181</a>
</span><span class=lnt id=hl-18-182><a class=lnlinks href=#hl-18-182>182</a>
</span><span class=lnt id=hl-18-183><a class=lnlinks href=#hl-18-183>183</a>
</span><span class=lnt id=hl-18-184><a class=lnlinks href=#hl-18-184>184</a>
</span><span class=lnt id=hl-18-185><a class=lnlinks href=#hl-18-185>185</a>
</span><span class=lnt id=hl-18-186><a class=lnlinks href=#hl-18-186>186</a>
</span><span class=lnt id=hl-18-187><a class=lnlinks href=#hl-18-187>187</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>socket</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>multiprocessing</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>signal</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sys</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>datetime</span> <span class=kn>import</span> <span class=n>datetime</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MultiProcessWebServer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    멀티프로세스 기반 웹 서버 구현
</span></span></span><span class=line><span class=cl><span class=s2>    - 마스터 프로세스가 연결 관리
</span></span></span><span class=line><span class=cl><span class=s2>    - 워커 프로세스가 요청 처리
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>host</span><span class=o>=</span><span class=s1>&#39;localhost&#39;</span><span class=p>,</span> <span class=n>port</span><span class=o>=</span><span class=mi>8080</span><span class=p>,</span> <span class=n>num_workers</span><span class=o>=</span><span class=mi>4</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>host</span> <span class=o>=</span> <span class=n>host</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>port</span> <span class=o>=</span> <span class=n>port</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>num_workers</span> <span class=o>=</span> <span class=n>num_workers</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>workers</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>master_socket</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>running</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>signal_handler</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>signum</span><span class=p>,</span> <span class=n>frame</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;시그널 핸들러 - 서버 정상 종료&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>시그널 </span><span class=si>{</span><span class=n>signum</span><span class=si>}</span><span class=s2> 수신. 서버를 종료합니다...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>running</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 모든 워커 프로세스 종료</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>worker</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>workers</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>worker</span><span class=o>.</span><span class=n>is_alive</span><span class=p>():</span>
</span></span><span class=line><span class=cl>                <span class=n>worker</span><span class=o>.</span><span class=n>terminate</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=n>worker</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>master_socket</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>master_socket</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>worker_process</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>worker_id</span><span class=p>,</span> <span class=n>connection_queue</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        워커 프로세스 - 실제 요청 처리 담당
</span></span></span><span class=line><span class=cl><span class=s2>        - 각 워커는 독립된 프로세스로 실행
</span></span></span><span class=line><span class=cl><span class=s2>        - 큐에서 연결을 받아와서 처리
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;워커 프로세스 </span><span class=si>{</span><span class=n>worker_id</span><span class=si>}</span><span class=s2> 시작 (PID: </span><span class=si>{</span><span class=n>multiprocessing</span><span class=o>.</span><span class=n>current_process</span><span class=p>()</span><span class=o>.</span><span class=n>pid</span><span class=si>}</span><span class=s2>)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=c1># 연결 큐에서 새 연결 받기</span>
</span></span><span class=line><span class=cl>                <span class=n>client_socket</span> <span class=o>=</span> <span class=n>connection_queue</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>client_socket</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>  <span class=c1># 종료 신호</span>
</span></span><span class=line><span class=cl>                    <span class=k>break</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=c1># HTTP 요청 받기</span>
</span></span><span class=line><span class=cl>                <span class=n>request</span> <span class=o>=</span> <span class=n>client_socket</span><span class=o>.</span><span class=n>recv</span><span class=p>(</span><span class=mi>1024</span><span class=p>)</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=c1># 요청 처리 시뮬레이션 (의도적 지연)</span>
</span></span><span class=line><span class=cl>                <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>  <span class=c1># 2초 처리 시간 시뮬레이션</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=c1># HTTP 응답 생성</span>
</span></span><span class=line><span class=cl>                <span class=n>response_body</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>                &lt;html&gt;
</span></span></span><span class=line><span class=cl><span class=s2>                &lt;head&gt;&lt;title&gt;멀티프로세스 웹서버&lt;/title&gt;&lt;/head&gt;
</span></span></span><span class=line><span class=cl><span class=s2>                &lt;body&gt;
</span></span></span><span class=line><span class=cl><span class=s2>                    &lt;h1&gt;안녕하세요!&lt;/h1&gt;
</span></span></span><span class=line><span class=cl><span class=s2>                    &lt;p&gt;워커 프로세스 ID: </span><span class=si>{</span><span class=n>worker_id</span><span class=si>}</span><span class=s2>&lt;/p&gt;
</span></span></span><span class=line><span class=cl><span class=s2>                    &lt;p&gt;프로세스 PID: </span><span class=si>{</span><span class=n>multiprocessing</span><span class=o>.</span><span class=n>current_process</span><span class=p>()</span><span class=o>.</span><span class=n>pid</span><span class=si>}</span><span class=s2>&lt;/p&gt;
</span></span></span><span class=line><span class=cl><span class=s2>                    &lt;p&gt;처리 시간: </span><span class=si>{</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span><span class=o>.</span><span class=n>strftime</span><span class=p>(</span><span class=s1>&#39;%Y-%m-</span><span class=si>%d</span><span class=s1> %H:%M:%S&#39;</span><span class=p>)</span><span class=si>}</span><span class=s2>&lt;/p&gt;
</span></span></span><span class=line><span class=cl><span class=s2>                    &lt;p&gt;요청 헤더:&lt;/p&gt;
</span></span></span><span class=line><span class=cl><span class=s2>                    &lt;pre&gt;</span><span class=si>{</span><span class=n>request</span><span class=si>}</span><span class=s2>&lt;/pre&gt;
</span></span></span><span class=line><span class=cl><span class=s2>                &lt;/body&gt;
</span></span></span><span class=line><span class=cl><span class=s2>                &lt;/html&gt;
</span></span></span><span class=line><span class=cl><span class=s2>                &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=n>response</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;&#34;&#34;HTTP/1.1 200 OK
</span></span></span><span class=line><span class=cl><span class=s2>Content-Type: text/html; charset=utf-8
</span></span></span><span class=line><span class=cl><span class=s2>Content-Length: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>response_body</span><span class=o>.</span><span class=n>encode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>))</span><span class=si>}</span><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>Connection: close
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2></span><span class=si>{</span><span class=n>response_body</span><span class=si>}</span><span class=s2>&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=c1># 응답 전송</span>
</span></span><span class=line><span class=cl>                <span class=n>client_socket</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=n>response</span><span class=o>.</span><span class=n>encode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                <span class=n>client_socket</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;워커 </span><span class=si>{</span><span class=n>worker_id</span><span class=si>}</span><span class=s2>: 요청 처리 완료&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>            <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;워커 </span><span class=si>{</span><span class=n>worker_id</span><span class=si>}</span><span class=s2> 오류: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=s1>&#39;client_socket&#39;</span> <span class=ow>in</span> <span class=nb>locals</span><span class=p>():</span>
</span></span><span class=line><span class=cl>                    <span class=n>client_socket</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>start_server</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;서버 시작 - 마스터 프로세스&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># 시그널 핸들러 등록</span>
</span></span><span class=line><span class=cl>        <span class=n>signal</span><span class=o>.</span><span class=n>signal</span><span class=p>(</span><span class=n>signal</span><span class=o>.</span><span class=n>SIGINT</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>signal_handler</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>signal</span><span class=o>.</span><span class=n>signal</span><span class=p>(</span><span class=n>signal</span><span class=o>.</span><span class=n>SIGTERM</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>signal_handler</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 연결 큐 생성 (워커들이 공유)</span>
</span></span><span class=line><span class=cl>        <span class=n>connection_queue</span> <span class=o>=</span> <span class=n>multiprocessing</span><span class=o>.</span><span class=n>Queue</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 워커 프로세스들 생성 및 시작</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>num_workers</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>worker</span> <span class=o>=</span> <span class=n>multiprocessing</span><span class=o>.</span><span class=n>Process</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=n>target</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>worker_process</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>connection_queue</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>worker</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>workers</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>worker</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;워커 프로세스 </span><span class=si>{</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=si>}</span><span class=s2> 생성됨 (PID: </span><span class=si>{</span><span class=n>worker</span><span class=o>.</span><span class=n>pid</span><span class=si>}</span><span class=s2>)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 마스터 소켓 생성</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>master_socket</span> <span class=o>=</span> <span class=n>socket</span><span class=o>.</span><span class=n>socket</span><span class=p>(</span><span class=n>socket</span><span class=o>.</span><span class=n>AF_INET</span><span class=p>,</span> <span class=n>socket</span><span class=o>.</span><span class=n>SOCK_STREAM</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>master_socket</span><span class=o>.</span><span class=n>setsockopt</span><span class=p>(</span><span class=n>socket</span><span class=o>.</span><span class=n>SOL_SOCKET</span><span class=p>,</span> <span class=n>socket</span><span class=o>.</span><span class=n>SO_REUSEADDR</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># 소켓 바인딩 및 리스닝 시작</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>master_socket</span><span class=o>.</span><span class=n>bind</span><span class=p>((</span><span class=bp>self</span><span class=o>.</span><span class=n>host</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>port</span><span class=p>))</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>master_socket</span><span class=o>.</span><span class=n>listen</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>  <span class=c1># 백로그 큐 크기</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;마스터 프로세스 시작: http://</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>host</span><span class=si>}</span><span class=s2>:</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>port</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;워커 프로세스 수: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>num_workers</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Ctrl+C로 서버를 종료할 수 있습니다.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 메인 루프 - 연결 수락 및 큐에 추가</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=bp>self</span><span class=o>.</span><span class=n>running</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>client_socket</span><span class=p>,</span> <span class=n>client_address</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>master_socket</span><span class=o>.</span><span class=n>accept</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;새 연결: </span><span class=si>{</span><span class=n>client_address</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    
</span></span><span class=line><span class=cl>                    <span class=c1># 워커 프로세스들이 처리할 수 있도록 큐에 추가</span>
</span></span><span class=line><span class=cl>                    <span class=n>connection_queue</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=n>client_socket</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    
</span></span><span class=line><span class=cl>                <span class=k>except</span> <span class=n>socket</span><span class=o>.</span><span class=n>error</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>running</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;소켓 오류 발생&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                        <span class=k>break</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;서버 오류: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>finally</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># 정리 작업</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;서버 종료 중...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 워커들에게 종료 신호 전송</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>num_workers</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=n>connection_queue</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 모든 워커 종료 대기</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>worker</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>workers</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>worker</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>master_socket</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>master_socket</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;서버가 정상적으로 종료되었습니다.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 클라이언트 테스트 코드</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>test_client</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;서버 테스트용 클라이언트&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=kn>import</span> <span class=nn>threading</span>
</span></span><span class=line><span class=cl>    <span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>send_request</span><span class=p>(</span><span class=n>client_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;http://localhost:8080&#39;</span><span class=p>,</span> <span class=n>timeout</span><span class=o>=</span><span class=mi>10</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;클라이언트 </span><span class=si>{</span><span class=n>client_id</span><span class=si>}</span><span class=s2>: 상태코드 </span><span class=si>{</span><span class=n>response</span><span class=o>.</span><span class=n>status_code</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;클라이언트 </span><span class=si>{</span><span class=n>client_id</span><span class=si>}</span><span class=s2> 오류: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 동시에 여러 요청 전송</span>
</span></span><span class=line><span class=cl>    <span class=n>threads</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>thread</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>send_request</span><span class=p>,</span> <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,))</span>
</span></span><span class=line><span class=cl>        <span class=n>threads</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>thread</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>thread</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 모든 스레드 완료 대기</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>thread</span> <span class=ow>in</span> <span class=n>threads</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>thread</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용 예시</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>server</span> <span class=o>=</span> <span class=n>MultiProcessWebServer</span><span class=p>(</span><span class=n>num_workers</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>server</span><span class=o>.</span><span class=n>start_server</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=운영체제에서-프로세스의-생성과-상태-전이>운영체제에서 프로세스의 생성과 상태 전이<a hidden class=anchor aria-hidden=true href=#운영체제에서-프로세스의-생성과-상태-전이>#</a></h5><p><strong>학습 목표</strong>: 운영체제에서 프로세스의 생성과 상태 전이를 Python 으로 실습하며, 기본 원리와 역할을 익힘<br><strong>시나리오</strong>: 사용자가 새로운 작업을 시작하면 프로세스가 생성되고, 상태 전이를 거쳐 종료까지 관리됨<br><strong>시스템 구성</strong>:</p><ul><li>사용자 입력</li><li>프로세스 생성 (Python multiprocessing)</li><li>상태 전이 로직<br><strong>시스템 구성 다이어그램</strong>:</li></ul><pre class=mermaid>graph TB
    U[User Input] --&gt; P[Process 생성]
    P --&gt; S1[Ready]
    S1 --&gt; S2[Running]
    S2 --&gt; S3[Terminated]
</pre><p><strong>Workflow</strong>:</p><ol><li>사용자 입력으로 작업 요청</li><li>프로세스가 생성되어 READY 상태 후 스케줄러에 의해 RUNNING 으로 전이</li><li>작업 완료 후 TERMINATED 로 상태 전환</li></ol><p><strong>핵심 역할</strong>:</p><ul><li>작업의 독립 실행, 자원 격리·관리를 담당</li></ul><p><strong>유무에 따른 차이점</strong>:</p><ul><li>도입 전: 단일 플로우 실행으로 장애 발생 시 전체 영향</li><li>도입 후: 독립 실행 및 격리로 장애/성능 향상</li></ul><p><strong>구현 예시</strong> (Python):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-20-1><a class=lnlinks href=#hl-20-1> 1</a>
</span><span class=lnt id=hl-20-2><a class=lnlinks href=#hl-20-2> 2</a>
</span><span class=lnt id=hl-20-3><a class=lnlinks href=#hl-20-3> 3</a>
</span><span class=lnt id=hl-20-4><a class=lnlinks href=#hl-20-4> 4</a>
</span><span class=lnt id=hl-20-5><a class=lnlinks href=#hl-20-5> 5</a>
</span><span class=lnt id=hl-20-6><a class=lnlinks href=#hl-20-6> 6</a>
</span><span class=lnt id=hl-20-7><a class=lnlinks href=#hl-20-7> 7</a>
</span><span class=lnt id=hl-20-8><a class=lnlinks href=#hl-20-8> 8</a>
</span><span class=lnt id=hl-20-9><a class=lnlinks href=#hl-20-9> 9</a>
</span><span class=lnt id=hl-20-10><a class=lnlinks href=#hl-20-10>10</a>
</span><span class=lnt id=hl-20-11><a class=lnlinks href=#hl-20-11>11</a>
</span><span class=lnt id=hl-20-12><a class=lnlinks href=#hl-20-12>12</a>
</span><span class=lnt id=hl-20-13><a class=lnlinks href=#hl-20-13>13</a>
</span><span class=lnt id=hl-20-14><a class=lnlinks href=#hl-20-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>multiprocessing</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>task</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    프로세스에서 수행할 작업
</span></span></span><span class=line><span class=cl><span class=s2>    - 독립적 실행을 통한 격리와 병렬성 확인 가능
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;프로세스가 실행됩니다.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># 프로세스 생성 및 실행</span>
</span></span><span class=line><span class=cl>    <span class=n>process</span> <span class=o>=</span> <span class=n>multiprocessing</span><span class=o>.</span><span class=n>Process</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>task</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>process</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>process</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=프로세스-풀-ipc-큐-타임아웃-헬스-체크>프로세스 풀, IPC 큐, 타임아웃, 헬스 체크<a hidden class=anchor aria-hidden=true href=#프로세스-풀-ipc-큐-타임아웃-헬스-체크>#</a></h5><p><strong>학습 목표</strong>: 프로세스 풀, IPC 큐, 타임아웃, 헬스 체크<br><strong>시나리오</strong>: 이미지 해시 계산 API 가 CPU 바운드. 웹 워커는 빠른 응답을 위해 작업을 <strong>프로세스 풀</strong>로 위임.<br><strong>시스템 구성</strong>:</p><ul><li>FastAPI(웹), ProcessPoolExecutor(워커), 큐 (작업 제출), systemd(or PM2) 로 서비스 관리</li></ul><p><strong>시스템 구성 다이어그램</strong></p><pre class=mermaid>graph TB
    C[Client] --&gt; A[FastAPI Web Worker]
    A --&gt;|submit task| P[Process Pool]
    P --&gt;|result| A
    A --&gt;|JSON response| C
</pre><p><strong>Workflow</strong></p><ol><li>요청 수신 → 입력 검증</li><li>작업을 프로세스 풀에 제출 (타임아웃 설정)</li><li>결과 수신 실패 시 취소/재시도</li><li>메트릭 기록/로그 전송</li></ol><p><strong>핵심 역할</strong></p><ul><li>프로세스: CPU 바운드 분리, 웹 응답성 유지</li></ul><p><strong>유무 차이</strong></p><ul><li>도입 전: 웹 워커가 직접 연산 → P99 지연↑, GIL 영향</li><li>도입 후: 프로세스 풀 분리 → 지연 안정, 장애 격리</li></ul><p><strong>구현 예시 (Python)</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1> 1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2> 2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3> 3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4> 4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5> 5</a>
</span><span class=lnt id=hl-22-6><a class=lnlinks href=#hl-22-6> 6</a>
</span><span class=lnt id=hl-22-7><a class=lnlinks href=#hl-22-7> 7</a>
</span><span class=lnt id=hl-22-8><a class=lnlinks href=#hl-22-8> 8</a>
</span><span class=lnt id=hl-22-9><a class=lnlinks href=#hl-22-9> 9</a>
</span><span class=lnt id=hl-22-10><a class=lnlinks href=#hl-22-10>10</a>
</span><span class=lnt id=hl-22-11><a class=lnlinks href=#hl-22-11>11</a>
</span><span class=lnt id=hl-22-12><a class=lnlinks href=#hl-22-12>12</a>
</span><span class=lnt id=hl-22-13><a class=lnlinks href=#hl-22-13>13</a>
</span><span class=lnt id=hl-22-14><a class=lnlinks href=#hl-22-14>14</a>
</span><span class=lnt id=hl-22-15><a class=lnlinks href=#hl-22-15>15</a>
</span><span class=lnt id=hl-22-16><a class=lnlinks href=#hl-22-16>16</a>
</span><span class=lnt id=hl-22-17><a class=lnlinks href=#hl-22-17>17</a>
</span><span class=lnt id=hl-22-18><a class=lnlinks href=#hl-22-18>18</a>
</span><span class=lnt id=hl-22-19><a class=lnlinks href=#hl-22-19>19</a>
</span><span class=lnt id=hl-22-20><a class=lnlinks href=#hl-22-20>20</a>
</span><span class=lnt id=hl-22-21><a class=lnlinks href=#hl-22-21>21</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># FastAPI + ProcessPool: CPU 바운드 작업을 프로세스로 오프로딩</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>fastapi</span> <span class=kn>import</span> <span class=n>FastAPI</span><span class=p>,</span> <span class=n>HTTPException</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>concurrent.futures</span> <span class=kn>import</span> <span class=n>ProcessPoolExecutor</span><span class=p>,</span> <span class=ne>TimeoutError</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>hashlib</span><span class=o>,</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>FastAPI</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>POOL</span> <span class=o>=</span> <span class=n>ProcessPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=n>os</span><span class=o>.</span><span class=n>cpu_count</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>calc_hash</span><span class=p>(</span><span class=n>payload</span><span class=p>:</span> <span class=nb>bytes</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># CPU 바운드 해시(예시). 실제로는 이미지 처리 등.</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>hashlib</span><span class=o>.</span><span class=n>sha512</span><span class=p>(</span><span class=n>payload</span><span class=p>)</span><span class=o>.</span><span class=n>hexdigest</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.post</span><span class=p>(</span><span class=s2>&#34;/hash&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>hash_api</span><span class=p>(</span><span class=n>data</span><span class=p>:</span> <span class=nb>bytes</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>fut</span> <span class=o>=</span> <span class=n>POOL</span><span class=o>.</span><span class=n>submit</span><span class=p>(</span><span class=n>calc_hash</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;hash&#34;</span><span class=p>:</span> <span class=n>fut</span><span class=o>.</span><span class=n>result</span><span class=p>(</span><span class=n>timeout</span><span class=o>=</span><span class=mf>2.0</span><span class=p>)}</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>TimeoutError</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 프로세스 격리 덕에 취소/복구가 용이</span>
</span></span><span class=line><span class=cl>        <span class=n>fut</span><span class=o>.</span><span class=n>cancel</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=n>HTTPException</span><span class=p>(</span><span class=n>status_code</span><span class=o>=</span><span class=mi>504</span><span class=p>,</span> <span class=n>detail</span><span class=o>=</span><span class=s2>&#34;timeout&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=실제-도입-사례의-코드-구현>실제 도입 사례의 코드 구현<a hidden class=anchor aria-hidden=true href=#실제-도입-사례의-코드-구현>#</a></h4><h5 id=gunicorn-pre-fork-기반-python-api>Gunicorn Pre-fork 기반 Python API<a hidden class=anchor aria-hidden=true href=#gunicorn-pre-fork-기반-python-api>#</a></h5><p><strong>사례 선정</strong>: <strong>Gunicorn pre-fork</strong> 기반 Python API<br><strong>비즈니스 배경</strong>: CPU 바운드 이미지 처리로 지연 스파이크 발생<br><strong>기술적 요구사항</strong>: 코어당 워커 조정, 크래시 격리, 재시작 자동화, 자원 제한</p><p><strong>시스템 구성</strong></p><ul><li>Nginx(프런트), Gunicorn(마스터 + 워커 프로세스), Python 앱, systemd 또는 Kubernetes</li></ul><p><strong>시스템 구성 다이어그램</strong></p><pre class=mermaid>graph TB
    U[Users]--&gt;N[Nginx]
    N--&gt;G[Gunicorn Master]
    G--&gt;W1[Worker P1]
    G--&gt;W2[Worker P2]
    G--&gt;Wn[Worker Pn]
    subgraph OS
      G
      W1
      W2
      Wn
    end
</pre><p><strong>Workflow</strong></p><ol><li>마스터가 프리로드 후 fork(COW 혜택)</li><li>공유 리스너 소켓으로 요청 분배</li><li>워커 장애 시 마스터가 즉시 대체 생성</li></ol><p><strong>핵심 역할</strong></p><ul><li>프로세스: 워커 격리, COW 로 메모리 절감, 스케일 조절</li></ul><p><strong>유무 차이</strong></p><ul><li>도입 전: 단일 프로세스/스레드 → 장애 전파</li><li>도입 후: 워커 단위 장애 격리/자동복구</li></ul><p><strong>구현 예시 (Kubernetes YAML)</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1> 1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2> 2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3> 3</a>
</span><span class=lnt id=hl-24-4><a class=lnlinks href=#hl-24-4> 4</a>
</span><span class=lnt id=hl-24-5><a class=lnlinks href=#hl-24-5> 5</a>
</span><span class=lnt id=hl-24-6><a class=lnlinks href=#hl-24-6> 6</a>
</span><span class=lnt id=hl-24-7><a class=lnlinks href=#hl-24-7> 7</a>
</span><span class=lnt id=hl-24-8><a class=lnlinks href=#hl-24-8> 8</a>
</span><span class=lnt id=hl-24-9><a class=lnlinks href=#hl-24-9> 9</a>
</span><span class=lnt id=hl-24-10><a class=lnlinks href=#hl-24-10>10</a>
</span><span class=lnt id=hl-24-11><a class=lnlinks href=#hl-24-11>11</a>
</span><span class=lnt id=hl-24-12><a class=lnlinks href=#hl-24-12>12</a>
</span><span class=lnt id=hl-24-13><a class=lnlinks href=#hl-24-13>13</a>
</span><span class=lnt id=hl-24-14><a class=lnlinks href=#hl-24-14>14</a>
</span><span class=lnt id=hl-24-15><a class=lnlinks href=#hl-24-15>15</a>
</span><span class=lnt id=hl-24-16><a class=lnlinks href=#hl-24-16>16</a>
</span><span class=lnt id=hl-24-17><a class=lnlinks href=#hl-24-17>17</a>
</span><span class=lnt id=hl-24-18><a class=lnlinks href=#hl-24-18>18</a>
</span><span class=lnt id=hl-24-19><a class=lnlinks href=#hl-24-19>19</a>
</span><span class=lnt id=hl-24-20><a class=lnlinks href=#hl-24-20>20</a>
</span><span class=lnt id=hl-24-21><a class=lnlinks href=#hl-24-21>21</a>
</span><span class=lnt id=hl-24-22><a class=lnlinks href=#hl-24-22>22</a>
</span><span class=lnt id=hl-24-23><a class=lnlinks href=#hl-24-23>23</a>
</span><span class=lnt id=hl-24-24><a class=lnlinks href=#hl-24-24>24</a>
</span><span class=lnt id=hl-24-25><a class=lnlinks href=#hl-24-25>25</a>
</span><span class=lnt id=hl-24-26><a class=lnlinks href=#hl-24-26>26</a>
</span><span class=lnt id=hl-24-27><a class=lnlinks href=#hl-24-27>27</a>
</span><span class=lnt id=hl-24-28><a class=lnlinks href=#hl-24-28>28</a>
</span><span class=lnt id=hl-24-29><a class=lnlinks href=#hl-24-29>29</a>
</span><span class=lnt id=hl-24-30><a class=lnlinks href=#hl-24-30>30</a>
</span><span class=lnt id=hl-24-31><a class=lnlinks href=#hl-24-31>31</a>
</span><span class=lnt id=hl-24-32><a class=lnlinks href=#hl-24-32>32</a>
</span><span class=lnt id=hl-24-33><a class=lnlinks href=#hl-24-33>33</a>
</span><span class=lnt id=hl-24-34><a class=lnlinks href=#hl-24-34>34</a>
</span><span class=lnt id=hl-24-35><a class=lnlinks href=#hl-24-35>35</a>
</span><span class=lnt id=hl-24-36><a class=lnlinks href=#hl-24-36>36</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># 목적: Gunicorn 프로세스 워커를 컨테이너(=프로세스)로 실행하고 자원 제어</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>apps/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Deployment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>api-gunicorn</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>replicas</span><span class=p>:</span><span class=w> </span><span class=m>3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>matchLabels</span><span class=p>:</span><span class=w> </span>{<span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>api}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>template</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>labels</span><span class=p>:</span><span class=w> </span>{<span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>api}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>containers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>web</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>yourrepo/api:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>WEB_CONCURRENCY   </span><span class=w> </span><span class=c># workers = 2*CPU+1 권장에서 시작</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>valueFrom</span><span class=p>:</span><span class=w> </span>{<span class=nt>resourceFieldRef</span><span class=p>:</span><span class=w> </span>{<span class=nt>containerName: web, resource: limits.cpu, divisor</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;1&#34;</span>}}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>TIMEOUT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;30&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>command</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;bash&#34;</span><span class=p>,</span><span class=s2>&#34;-lc&#34;</span><span class=p>,</span><span class=s2>&#34;gunicorn app:app -w ${WEB_CONCURRENCY:-3} -k uvicorn.workers.UvicornWorker -b 0.0.0.0:8000 --timeout ${TIMEOUT} --preload&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>ports</span><span class=p>:</span><span class=w> </span><span class=p>[</span>{<span class=nt>containerPort</span><span class=p>:</span><span class=w> </span><span class=m>8000</span>}<span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>resources</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>requests</span><span class=p>:</span><span class=w> </span>{<span class=nt>cpu</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;500m&#34;</span><span class=nt>, memory</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;512Mi&#34;</span>}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>limits</span><span class=p>:</span><span class=w>   </span>{<span class=nt>cpu</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;1&#34;</span><span class=nt>,    memory</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;1Gi&#34;</span>}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>securityContext</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>allowPrivilegeEscalation</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>runAsNonRoot</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>capabilities</span><span class=p>:</span><span class=w> </span>{<span class=nt>drop</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;ALL&#34;</span><span class=p>]</span>}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>livenessProbe</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>httpGet</span><span class=p>:</span><span class=w> </span>{<span class=nt>path: /healthz, port</span><span class=p>:</span><span class=w> </span><span class=m>8000</span>}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>initialDelaySeconds</span><span class=p>:</span><span class=w> </span><span class=m>10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>readinessProbe</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>httpGet</span><span class=p>:</span><span class=w> </span>{<span class=nt>path: /ready, port</span><span class=p>:</span><span class=w> </span><span class=m>8000</span>}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>initialDelaySeconds</span><span class=p>:</span><span class=w> </span><span class=m>5</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>성과 분석</strong></p><ul><li>성능 개선: P95 지연 20~40% 감소 (워크로드 의존)</li><li>운영 효율성: 워커 크래시 자동 격리/복구, 롤링 업데이트 안전</li><li>비용 절감: 프리로드 +COW 로 메모리 절감 (수백 MB 단위 가능)</li></ul><h5 id=구글-크롬-브라우저의-멀티프로세스-아키텍처>구글 크롬 브라우저의 멀티프로세스 아키텍처<a hidden class=anchor aria-hidden=true href=#구글-크롬-브라우저의-멀티프로세스-아키텍처>#</a></h5><p><strong>사례 선정</strong>: 구글 크롬 브라우저의 멀티프로세스 아키텍처<br><strong>비즈니스 배경</strong>: 웹 브라우저의 안정성과 보안성 향상 필요<br><strong>기술적 요구사항</strong>:</p><ul><li>탭별 독립성 보장</li><li>플러그인 격리</li><li>메모리 보호</li><li>크래시 격리</li></ul><p><strong>시스템 구성</strong>:</p><ul><li>브라우저 프로세스: 메인 UI 및 전체 관리</li><li>렌더러 프로세스: 웹페이지 렌더링</li><li>플러그인 프로세스: 플러그인 실행</li></ul><p><strong>시스템 구성 다이어그램</strong>:</p><pre class=mermaid>graph TB
    subgraph &#34;브라우저 아키텍처&#34;
        BP[브라우저 프로세스&lt;br/&gt;Browser Process&lt;br/&gt;- UI 관리&lt;br/&gt;- 네트워크 요청&lt;br/&gt;- 파일 시스템 접근]
        
        RP1[렌더러 프로세스 1&lt;br/&gt;Renderer Process&lt;br/&gt;- HTML/CSS 파싱&lt;br/&gt;- JavaScript 실행&lt;br/&gt;- DOM 조작]
        
        RP2[렌더러 프로세스 2&lt;br/&gt;Renderer Process&lt;br/&gt;- 다른 탭 처리&lt;br/&gt;- 독립적 실행]
        
        PP[플러그인 프로세스&lt;br/&gt;Plugin Process&lt;br/&gt;- Flash, PDF 등&lt;br/&gt;- 샌드박스 실행]
        
        BP --&gt; RP1
        BP --&gt; RP2
        BP --&gt; PP
    end
    
    subgraph &#34;IPC 통신&#34;
        IPC1[메시지 패싱]
        IPC2[공유 메모리]
        IPC3[파이프 통신]
    end
    
    RP1 -.-&gt; IPC1
    RP2 -.-&gt; IPC2
    PP -.-&gt; IPC3
</pre><p><strong>Workflow</strong>:</p><ol><li>사용자가 새 탭 열기</li><li>브라우저 프로세스가 새 렌더러 프로세스 생성</li><li>URL 입력 시 브라우저 프로세스가 네트워크 요청</li><li>렌더러 프로세스가 HTML 파싱 및 렌더링</li><li>플러그인 필요 시 별도 프로세스에서 실행</li></ol><p><strong>핵심 역할</strong>:</p><ul><li>프로세스별 역할 분담으로 안정성 확보</li><li>샌드박스를 통한 보안 강화</li></ul><p><strong>유무에 따른 차이점</strong>:</p><ul><li>도입 전 (단일 프로세스): 한 탭 크래시 시 전체 브라우저 종료</li><li>도입 후 (멀티 프로세스): 탭별 독립성으로 안정성 향상</li></ul><p><strong>구현 예시</strong> (Python):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1>  1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2>  2</a>
</span><span class=lnt id=hl-26-3><a class=lnlinks href=#hl-26-3>  3</a>
</span><span class=lnt id=hl-26-4><a class=lnlinks href=#hl-26-4>  4</a>
</span><span class=lnt id=hl-26-5><a class=lnlinks href=#hl-26-5>  5</a>
</span><span class=lnt id=hl-26-6><a class=lnlinks href=#hl-26-6>  6</a>
</span><span class=lnt id=hl-26-7><a class=lnlinks href=#hl-26-7>  7</a>
</span><span class=lnt id=hl-26-8><a class=lnlinks href=#hl-26-8>  8</a>
</span><span class=lnt id=hl-26-9><a class=lnlinks href=#hl-26-9>  9</a>
</span><span class=lnt id=hl-26-10><a class=lnlinks href=#hl-26-10> 10</a>
</span><span class=lnt id=hl-26-11><a class=lnlinks href=#hl-26-11> 11</a>
</span><span class=lnt id=hl-26-12><a class=lnlinks href=#hl-26-12> 12</a>
</span><span class=lnt id=hl-26-13><a class=lnlinks href=#hl-26-13> 13</a>
</span><span class=lnt id=hl-26-14><a class=lnlinks href=#hl-26-14> 14</a>
</span><span class=lnt id=hl-26-15><a class=lnlinks href=#hl-26-15> 15</a>
</span><span class=lnt id=hl-26-16><a class=lnlinks href=#hl-26-16> 16</a>
</span><span class=lnt id=hl-26-17><a class=lnlinks href=#hl-26-17> 17</a>
</span><span class=lnt id=hl-26-18><a class=lnlinks href=#hl-26-18> 18</a>
</span><span class=lnt id=hl-26-19><a class=lnlinks href=#hl-26-19> 19</a>
</span><span class=lnt id=hl-26-20><a class=lnlinks href=#hl-26-20> 20</a>
</span><span class=lnt id=hl-26-21><a class=lnlinks href=#hl-26-21> 21</a>
</span><span class=lnt id=hl-26-22><a class=lnlinks href=#hl-26-22> 22</a>
</span><span class=lnt id=hl-26-23><a class=lnlinks href=#hl-26-23> 23</a>
</span><span class=lnt id=hl-26-24><a class=lnlinks href=#hl-26-24> 24</a>
</span><span class=lnt id=hl-26-25><a class=lnlinks href=#hl-26-25> 25</a>
</span><span class=lnt id=hl-26-26><a class=lnlinks href=#hl-26-26> 26</a>
</span><span class=lnt id=hl-26-27><a class=lnlinks href=#hl-26-27> 27</a>
</span><span class=lnt id=hl-26-28><a class=lnlinks href=#hl-26-28> 28</a>
</span><span class=lnt id=hl-26-29><a class=lnlinks href=#hl-26-29> 29</a>
</span><span class=lnt id=hl-26-30><a class=lnlinks href=#hl-26-30> 30</a>
</span><span class=lnt id=hl-26-31><a class=lnlinks href=#hl-26-31> 31</a>
</span><span class=lnt id=hl-26-32><a class=lnlinks href=#hl-26-32> 32</a>
</span><span class=lnt id=hl-26-33><a class=lnlinks href=#hl-26-33> 33</a>
</span><span class=lnt id=hl-26-34><a class=lnlinks href=#hl-26-34> 34</a>
</span><span class=lnt id=hl-26-35><a class=lnlinks href=#hl-26-35> 35</a>
</span><span class=lnt id=hl-26-36><a class=lnlinks href=#hl-26-36> 36</a>
</span><span class=lnt id=hl-26-37><a class=lnlinks href=#hl-26-37> 37</a>
</span><span class=lnt id=hl-26-38><a class=lnlinks href=#hl-26-38> 38</a>
</span><span class=lnt id=hl-26-39><a class=lnlinks href=#hl-26-39> 39</a>
</span><span class=lnt id=hl-26-40><a class=lnlinks href=#hl-26-40> 40</a>
</span><span class=lnt id=hl-26-41><a class=lnlinks href=#hl-26-41> 41</a>
</span><span class=lnt id=hl-26-42><a class=lnlinks href=#hl-26-42> 42</a>
</span><span class=lnt id=hl-26-43><a class=lnlinks href=#hl-26-43> 43</a>
</span><span class=lnt id=hl-26-44><a class=lnlinks href=#hl-26-44> 44</a>
</span><span class=lnt id=hl-26-45><a class=lnlinks href=#hl-26-45> 45</a>
</span><span class=lnt id=hl-26-46><a class=lnlinks href=#hl-26-46> 46</a>
</span><span class=lnt id=hl-26-47><a class=lnlinks href=#hl-26-47> 47</a>
</span><span class=lnt id=hl-26-48><a class=lnlinks href=#hl-26-48> 48</a>
</span><span class=lnt id=hl-26-49><a class=lnlinks href=#hl-26-49> 49</a>
</span><span class=lnt id=hl-26-50><a class=lnlinks href=#hl-26-50> 50</a>
</span><span class=lnt id=hl-26-51><a class=lnlinks href=#hl-26-51> 51</a>
</span><span class=lnt id=hl-26-52><a class=lnlinks href=#hl-26-52> 52</a>
</span><span class=lnt id=hl-26-53><a class=lnlinks href=#hl-26-53> 53</a>
</span><span class=lnt id=hl-26-54><a class=lnlinks href=#hl-26-54> 54</a>
</span><span class=lnt id=hl-26-55><a class=lnlinks href=#hl-26-55> 55</a>
</span><span class=lnt id=hl-26-56><a class=lnlinks href=#hl-26-56> 56</a>
</span><span class=lnt id=hl-26-57><a class=lnlinks href=#hl-26-57> 57</a>
</span><span class=lnt id=hl-26-58><a class=lnlinks href=#hl-26-58> 58</a>
</span><span class=lnt id=hl-26-59><a class=lnlinks href=#hl-26-59> 59</a>
</span><span class=lnt id=hl-26-60><a class=lnlinks href=#hl-26-60> 60</a>
</span><span class=lnt id=hl-26-61><a class=lnlinks href=#hl-26-61> 61</a>
</span><span class=lnt id=hl-26-62><a class=lnlinks href=#hl-26-62> 62</a>
</span><span class=lnt id=hl-26-63><a class=lnlinks href=#hl-26-63> 63</a>
</span><span class=lnt id=hl-26-64><a class=lnlinks href=#hl-26-64> 64</a>
</span><span class=lnt id=hl-26-65><a class=lnlinks href=#hl-26-65> 65</a>
</span><span class=lnt id=hl-26-66><a class=lnlinks href=#hl-26-66> 66</a>
</span><span class=lnt id=hl-26-67><a class=lnlinks href=#hl-26-67> 67</a>
</span><span class=lnt id=hl-26-68><a class=lnlinks href=#hl-26-68> 68</a>
</span><span class=lnt id=hl-26-69><a class=lnlinks href=#hl-26-69> 69</a>
</span><span class=lnt id=hl-26-70><a class=lnlinks href=#hl-26-70> 70</a>
</span><span class=lnt id=hl-26-71><a class=lnlinks href=#hl-26-71> 71</a>
</span><span class=lnt id=hl-26-72><a class=lnlinks href=#hl-26-72> 72</a>
</span><span class=lnt id=hl-26-73><a class=lnlinks href=#hl-26-73> 73</a>
</span><span class=lnt id=hl-26-74><a class=lnlinks href=#hl-26-74> 74</a>
</span><span class=lnt id=hl-26-75><a class=lnlinks href=#hl-26-75> 75</a>
</span><span class=lnt id=hl-26-76><a class=lnlinks href=#hl-26-76> 76</a>
</span><span class=lnt id=hl-26-77><a class=lnlinks href=#hl-26-77> 77</a>
</span><span class=lnt id=hl-26-78><a class=lnlinks href=#hl-26-78> 78</a>
</span><span class=lnt id=hl-26-79><a class=lnlinks href=#hl-26-79> 79</a>
</span><span class=lnt id=hl-26-80><a class=lnlinks href=#hl-26-80> 80</a>
</span><span class=lnt id=hl-26-81><a class=lnlinks href=#hl-26-81> 81</a>
</span><span class=lnt id=hl-26-82><a class=lnlinks href=#hl-26-82> 82</a>
</span><span class=lnt id=hl-26-83><a class=lnlinks href=#hl-26-83> 83</a>
</span><span class=lnt id=hl-26-84><a class=lnlinks href=#hl-26-84> 84</a>
</span><span class=lnt id=hl-26-85><a class=lnlinks href=#hl-26-85> 85</a>
</span><span class=lnt id=hl-26-86><a class=lnlinks href=#hl-26-86> 86</a>
</span><span class=lnt id=hl-26-87><a class=lnlinks href=#hl-26-87> 87</a>
</span><span class=lnt id=hl-26-88><a class=lnlinks href=#hl-26-88> 88</a>
</span><span class=lnt id=hl-26-89><a class=lnlinks href=#hl-26-89> 89</a>
</span><span class=lnt id=hl-26-90><a class=lnlinks href=#hl-26-90> 90</a>
</span><span class=lnt id=hl-26-91><a class=lnlinks href=#hl-26-91> 91</a>
</span><span class=lnt id=hl-26-92><a class=lnlinks href=#hl-26-92> 92</a>
</span><span class=lnt id=hl-26-93><a class=lnlinks href=#hl-26-93> 93</a>
</span><span class=lnt id=hl-26-94><a class=lnlinks href=#hl-26-94> 94</a>
</span><span class=lnt id=hl-26-95><a class=lnlinks href=#hl-26-95> 95</a>
</span><span class=lnt id=hl-26-96><a class=lnlinks href=#hl-26-96> 96</a>
</span><span class=lnt id=hl-26-97><a class=lnlinks href=#hl-26-97> 97</a>
</span><span class=lnt id=hl-26-98><a class=lnlinks href=#hl-26-98> 98</a>
</span><span class=lnt id=hl-26-99><a class=lnlinks href=#hl-26-99> 99</a>
</span><span class=lnt id=hl-26-100><a class=lnlinks href=#hl-26-100>100</a>
</span><span class=lnt id=hl-26-101><a class=lnlinks href=#hl-26-101>101</a>
</span><span class=lnt id=hl-26-102><a class=lnlinks href=#hl-26-102>102</a>
</span><span class=lnt id=hl-26-103><a class=lnlinks href=#hl-26-103>103</a>
</span><span class=lnt id=hl-26-104><a class=lnlinks href=#hl-26-104>104</a>
</span><span class=lnt id=hl-26-105><a class=lnlinks href=#hl-26-105>105</a>
</span><span class=lnt id=hl-26-106><a class=lnlinks href=#hl-26-106>106</a>
</span><span class=lnt id=hl-26-107><a class=lnlinks href=#hl-26-107>107</a>
</span><span class=lnt id=hl-26-108><a class=lnlinks href=#hl-26-108>108</a>
</span><span class=lnt id=hl-26-109><a class=lnlinks href=#hl-26-109>109</a>
</span><span class=lnt id=hl-26-110><a class=lnlinks href=#hl-26-110>110</a>
</span><span class=lnt id=hl-26-111><a class=lnlinks href=#hl-26-111>111</a>
</span><span class=lnt id=hl-26-112><a class=lnlinks href=#hl-26-112>112</a>
</span><span class=lnt id=hl-26-113><a class=lnlinks href=#hl-26-113>113</a>
</span><span class=lnt id=hl-26-114><a class=lnlinks href=#hl-26-114>114</a>
</span><span class=lnt id=hl-26-115><a class=lnlinks href=#hl-26-115>115</a>
</span><span class=lnt id=hl-26-116><a class=lnlinks href=#hl-26-116>116</a>
</span><span class=lnt id=hl-26-117><a class=lnlinks href=#hl-26-117>117</a>
</span><span class=lnt id=hl-26-118><a class=lnlinks href=#hl-26-118>118</a>
</span><span class=lnt id=hl-26-119><a class=lnlinks href=#hl-26-119>119</a>
</span><span class=lnt id=hl-26-120><a class=lnlinks href=#hl-26-120>120</a>
</span><span class=lnt id=hl-26-121><a class=lnlinks href=#hl-26-121>121</a>
</span><span class=lnt id=hl-26-122><a class=lnlinks href=#hl-26-122>122</a>
</span><span class=lnt id=hl-26-123><a class=lnlinks href=#hl-26-123>123</a>
</span><span class=lnt id=hl-26-124><a class=lnlinks href=#hl-26-124>124</a>
</span><span class=lnt id=hl-26-125><a class=lnlinks href=#hl-26-125>125</a>
</span><span class=lnt id=hl-26-126><a class=lnlinks href=#hl-26-126>126</a>
</span><span class=lnt id=hl-26-127><a class=lnlinks href=#hl-26-127>127</a>
</span><span class=lnt id=hl-26-128><a class=lnlinks href=#hl-26-128>128</a>
</span><span class=lnt id=hl-26-129><a class=lnlinks href=#hl-26-129>129</a>
</span><span class=lnt id=hl-26-130><a class=lnlinks href=#hl-26-130>130</a>
</span><span class=lnt id=hl-26-131><a class=lnlinks href=#hl-26-131>131</a>
</span><span class=lnt id=hl-26-132><a class=lnlinks href=#hl-26-132>132</a>
</span><span class=lnt id=hl-26-133><a class=lnlinks href=#hl-26-133>133</a>
</span><span class=lnt id=hl-26-134><a class=lnlinks href=#hl-26-134>134</a>
</span><span class=lnt id=hl-26-135><a class=lnlinks href=#hl-26-135>135</a>
</span><span class=lnt id=hl-26-136><a class=lnlinks href=#hl-26-136>136</a>
</span><span class=lnt id=hl-26-137><a class=lnlinks href=#hl-26-137>137</a>
</span><span class=lnt id=hl-26-138><a class=lnlinks href=#hl-26-138>138</a>
</span><span class=lnt id=hl-26-139><a class=lnlinks href=#hl-26-139>139</a>
</span><span class=lnt id=hl-26-140><a class=lnlinks href=#hl-26-140>140</a>
</span><span class=lnt id=hl-26-141><a class=lnlinks href=#hl-26-141>141</a>
</span><span class=lnt id=hl-26-142><a class=lnlinks href=#hl-26-142>142</a>
</span><span class=lnt id=hl-26-143><a class=lnlinks href=#hl-26-143>143</a>
</span><span class=lnt id=hl-26-144><a class=lnlinks href=#hl-26-144>144</a>
</span><span class=lnt id=hl-26-145><a class=lnlinks href=#hl-26-145>145</a>
</span><span class=lnt id=hl-26-146><a class=lnlinks href=#hl-26-146>146</a>
</span><span class=lnt id=hl-26-147><a class=lnlinks href=#hl-26-147>147</a>
</span><span class=lnt id=hl-26-148><a class=lnlinks href=#hl-26-148>148</a>
</span><span class=lnt id=hl-26-149><a class=lnlinks href=#hl-26-149>149</a>
</span><span class=lnt id=hl-26-150><a class=lnlinks href=#hl-26-150>150</a>
</span><span class=lnt id=hl-26-151><a class=lnlinks href=#hl-26-151>151</a>
</span><span class=lnt id=hl-26-152><a class=lnlinks href=#hl-26-152>152</a>
</span><span class=lnt id=hl-26-153><a class=lnlinks href=#hl-26-153>153</a>
</span><span class=lnt id=hl-26-154><a class=lnlinks href=#hl-26-154>154</a>
</span><span class=lnt id=hl-26-155><a class=lnlinks href=#hl-26-155>155</a>
</span><span class=lnt id=hl-26-156><a class=lnlinks href=#hl-26-156>156</a>
</span><span class=lnt id=hl-26-157><a class=lnlinks href=#hl-26-157>157</a>
</span><span class=lnt id=hl-26-158><a class=lnlinks href=#hl-26-158>158</a>
</span><span class=lnt id=hl-26-159><a class=lnlinks href=#hl-26-159>159</a>
</span><span class=lnt id=hl-26-160><a class=lnlinks href=#hl-26-160>160</a>
</span><span class=lnt id=hl-26-161><a class=lnlinks href=#hl-26-161>161</a>
</span><span class=lnt id=hl-26-162><a class=lnlinks href=#hl-26-162>162</a>
</span><span class=lnt id=hl-26-163><a class=lnlinks href=#hl-26-163>163</a>
</span><span class=lnt id=hl-26-164><a class=lnlinks href=#hl-26-164>164</a>
</span><span class=lnt id=hl-26-165><a class=lnlinks href=#hl-26-165>165</a>
</span><span class=lnt id=hl-26-166><a class=lnlinks href=#hl-26-166>166</a>
</span><span class=lnt id=hl-26-167><a class=lnlinks href=#hl-26-167>167</a>
</span><span class=lnt id=hl-26-168><a class=lnlinks href=#hl-26-168>168</a>
</span><span class=lnt id=hl-26-169><a class=lnlinks href=#hl-26-169>169</a>
</span><span class=lnt id=hl-26-170><a class=lnlinks href=#hl-26-170>170</a>
</span><span class=lnt id=hl-26-171><a class=lnlinks href=#hl-26-171>171</a>
</span><span class=lnt id=hl-26-172><a class=lnlinks href=#hl-26-172>172</a>
</span><span class=lnt id=hl-26-173><a class=lnlinks href=#hl-26-173>173</a>
</span><span class=lnt id=hl-26-174><a class=lnlinks href=#hl-26-174>174</a>
</span><span class=lnt id=hl-26-175><a class=lnlinks href=#hl-26-175>175</a>
</span><span class=lnt id=hl-26-176><a class=lnlinks href=#hl-26-176>176</a>
</span><span class=lnt id=hl-26-177><a class=lnlinks href=#hl-26-177>177</a>
</span><span class=lnt id=hl-26-178><a class=lnlinks href=#hl-26-178>178</a>
</span><span class=lnt id=hl-26-179><a class=lnlinks href=#hl-26-179>179</a>
</span><span class=lnt id=hl-26-180><a class=lnlinks href=#hl-26-180>180</a>
</span><span class=lnt id=hl-26-181><a class=lnlinks href=#hl-26-181>181</a>
</span><span class=lnt id=hl-26-182><a class=lnlinks href=#hl-26-182>182</a>
</span><span class=lnt id=hl-26-183><a class=lnlinks href=#hl-26-183>183</a>
</span><span class=lnt id=hl-26-184><a class=lnlinks href=#hl-26-184>184</a>
</span><span class=lnt id=hl-26-185><a class=lnlinks href=#hl-26-185>185</a>
</span><span class=lnt id=hl-26-186><a class=lnlinks href=#hl-26-186>186</a>
</span><span class=lnt id=hl-26-187><a class=lnlinks href=#hl-26-187>187</a>
</span><span class=lnt id=hl-26-188><a class=lnlinks href=#hl-26-188>188</a>
</span><span class=lnt id=hl-26-189><a class=lnlinks href=#hl-26-189>189</a>
</span><span class=lnt id=hl-26-190><a class=lnlinks href=#hl-26-190>190</a>
</span><span class=lnt id=hl-26-191><a class=lnlinks href=#hl-26-191>191</a>
</span><span class=lnt id=hl-26-192><a class=lnlinks href=#hl-26-192>192</a>
</span><span class=lnt id=hl-26-193><a class=lnlinks href=#hl-26-193>193</a>
</span><span class=lnt id=hl-26-194><a class=lnlinks href=#hl-26-194>194</a>
</span><span class=lnt id=hl-26-195><a class=lnlinks href=#hl-26-195>195</a>
</span><span class=lnt id=hl-26-196><a class=lnlinks href=#hl-26-196>196</a>
</span><span class=lnt id=hl-26-197><a class=lnlinks href=#hl-26-197>197</a>
</span><span class=lnt id=hl-26-198><a class=lnlinks href=#hl-26-198>198</a>
</span><span class=lnt id=hl-26-199><a class=lnlinks href=#hl-26-199>199</a>
</span><span class=lnt id=hl-26-200><a class=lnlinks href=#hl-26-200>200</a>
</span><span class=lnt id=hl-26-201><a class=lnlinks href=#hl-26-201>201</a>
</span><span class=lnt id=hl-26-202><a class=lnlinks href=#hl-26-202>202</a>
</span><span class=lnt id=hl-26-203><a class=lnlinks href=#hl-26-203>203</a>
</span><span class=lnt id=hl-26-204><a class=lnlinks href=#hl-26-204>204</a>
</span><span class=lnt id=hl-26-205><a class=lnlinks href=#hl-26-205>205</a>
</span><span class=lnt id=hl-26-206><a class=lnlinks href=#hl-26-206>206</a>
</span><span class=lnt id=hl-26-207><a class=lnlinks href=#hl-26-207>207</a>
</span><span class=lnt id=hl-26-208><a class=lnlinks href=#hl-26-208>208</a>
</span><span class=lnt id=hl-26-209><a class=lnlinks href=#hl-26-209>209</a>
</span><span class=lnt id=hl-26-210><a class=lnlinks href=#hl-26-210>210</a>
</span><span class=lnt id=hl-26-211><a class=lnlinks href=#hl-26-211>211</a>
</span><span class=lnt id=hl-26-212><a class=lnlinks href=#hl-26-212>212</a>
</span><span class=lnt id=hl-26-213><a class=lnlinks href=#hl-26-213>213</a>
</span><span class=lnt id=hl-26-214><a class=lnlinks href=#hl-26-214>214</a>
</span><span class=lnt id=hl-26-215><a class=lnlinks href=#hl-26-215>215</a>
</span><span class=lnt id=hl-26-216><a class=lnlinks href=#hl-26-216>216</a>
</span><span class=lnt id=hl-26-217><a class=lnlinks href=#hl-26-217>217</a>
</span><span class=lnt id=hl-26-218><a class=lnlinks href=#hl-26-218>218</a>
</span><span class=lnt id=hl-26-219><a class=lnlinks href=#hl-26-219>219</a>
</span><span class=lnt id=hl-26-220><a class=lnlinks href=#hl-26-220>220</a>
</span><span class=lnt id=hl-26-221><a class=lnlinks href=#hl-26-221>221</a>
</span><span class=lnt id=hl-26-222><a class=lnlinks href=#hl-26-222>222</a>
</span><span class=lnt id=hl-26-223><a class=lnlinks href=#hl-26-223>223</a>
</span><span class=lnt id=hl-26-224><a class=lnlinks href=#hl-26-224>224</a>
</span><span class=lnt id=hl-26-225><a class=lnlinks href=#hl-26-225>225</a>
</span><span class=lnt id=hl-26-226><a class=lnlinks href=#hl-26-226>226</a>
</span><span class=lnt id=hl-26-227><a class=lnlinks href=#hl-26-227>227</a>
</span><span class=lnt id=hl-26-228><a class=lnlinks href=#hl-26-228>228</a>
</span><span class=lnt id=hl-26-229><a class=lnlinks href=#hl-26-229>229</a>
</span><span class=lnt id=hl-26-230><a class=lnlinks href=#hl-26-230>230</a>
</span><span class=lnt id=hl-26-231><a class=lnlinks href=#hl-26-231>231</a>
</span><span class=lnt id=hl-26-232><a class=lnlinks href=#hl-26-232>232</a>
</span><span class=lnt id=hl-26-233><a class=lnlinks href=#hl-26-233>233</a>
</span><span class=lnt id=hl-26-234><a class=lnlinks href=#hl-26-234>234</a>
</span><span class=lnt id=hl-26-235><a class=lnlinks href=#hl-26-235>235</a>
</span><span class=lnt id=hl-26-236><a class=lnlinks href=#hl-26-236>236</a>
</span><span class=lnt id=hl-26-237><a class=lnlinks href=#hl-26-237>237</a>
</span><span class=lnt id=hl-26-238><a class=lnlinks href=#hl-26-238>238</a>
</span><span class=lnt id=hl-26-239><a class=lnlinks href=#hl-26-239>239</a>
</span><span class=lnt id=hl-26-240><a class=lnlinks href=#hl-26-240>240</a>
</span><span class=lnt id=hl-26-241><a class=lnlinks href=#hl-26-241>241</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>multiprocessing</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>queue</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>signal</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>enum</span> <span class=kn>import</span> <span class=n>Enum</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>dataclasses</span> <span class=kn>import</span> <span class=n>dataclass</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Dict</span><span class=p>,</span> <span class=n>List</span><span class=p>,</span> <span class=n>Optional</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ProcessType</span><span class=p>(</span><span class=n>Enum</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;프로세스 타입 정의&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>BROWSER</span> <span class=o>=</span> <span class=s2>&#34;browser&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>RENDERER</span> <span class=o>=</span> <span class=s2>&#34;renderer&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>PLUGIN</span> <span class=o>=</span> <span class=s2>&#34;plugin&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@dataclass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>IPCMessage</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;프로세스 간 통신 메시지 구조&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>sender_id</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>receiver_id</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>message_type</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>payload</span><span class=p>:</span> <span class=nb>dict</span>
</span></span><span class=line><span class=cl>    <span class=n>timestamp</span><span class=p>:</span> <span class=nb>float</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>BrowserProcess</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    브라우저 메인 프로세스
</span></span></span><span class=line><span class=cl><span class=s2>    - 전체 브라우저 관리
</span></span></span><span class=line><span class=cl><span class=s2>    - 렌더러 프로세스 생성/관리
</span></span></span><span class=line><span class=cl><span class=s2>    - 네트워크 요청 처리
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>process_id</span> <span class=o>=</span> <span class=s2>&#34;browser_main&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>renderer_processes</span> <span class=o>=</span> <span class=p>{}</span>  <span class=c1># tab_id -&gt; process</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>plugin_processes</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>message_queues</span> <span class=o>=</span> <span class=p>{}</span>  <span class=c1># process_id -&gt; queue</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>running</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 메인 메시지 큐</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>main_queue</span> <span class=o>=</span> <span class=n>multiprocessing</span><span class=o>.</span><span class=n>Queue</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>message_queues</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>process_id</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>main_queue</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_renderer_process</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>tab_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>url</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        새 렌더러 프로세스 생성
</span></span></span><span class=line><span class=cl><span class=s2>        - 각 탭마다 독립적인 렌더러 프로세스
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>renderer_id</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;renderer_</span><span class=si>{</span><span class=n>tab_id</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 렌더러와 통신할 큐 생성</span>
</span></span><span class=line><span class=cl>        <span class=n>renderer_queue</span> <span class=o>=</span> <span class=n>multiprocessing</span><span class=o>.</span><span class=n>Queue</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>message_queues</span><span class=p>[</span><span class=n>renderer_id</span><span class=p>]</span> <span class=o>=</span> <span class=n>renderer_queue</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 렌더러 프로세스 시작</span>
</span></span><span class=line><span class=cl>        <span class=n>renderer_process</span> <span class=o>=</span> <span class=n>multiprocessing</span><span class=o>.</span><span class=n>Process</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>target</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>renderer_worker</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=n>renderer_id</span><span class=p>,</span> <span class=n>tab_id</span><span class=p>,</span> <span class=n>url</span><span class=p>,</span> <span class=n>renderer_queue</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>main_queue</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>renderer_process</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>renderer_processes</span><span class=p>[</span><span class=n>tab_id</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;process&#39;</span><span class=p>:</span> <span class=n>renderer_process</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;renderer_id&#39;</span><span class=p>:</span> <span class=n>renderer_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;url&#39;</span><span class=p>:</span> <span class=n>url</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;status&#39;</span><span class=p>:</span> <span class=s1>&#39;loading&#39;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;탭 </span><span class=si>{</span><span class=n>tab_id</span><span class=si>}</span><span class=s2>용 렌더러 프로세스 생성: </span><span class=si>{</span><span class=n>renderer_id</span><span class=si>}</span><span class=s2> (PID: </span><span class=si>{</span><span class=n>renderer_process</span><span class=o>.</span><span class=n>pid</span><span class=si>}</span><span class=s2>)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>renderer_id</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>renderer_worker</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>renderer_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>tab_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>url</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                       <span class=n>renderer_queue</span><span class=p>:</span> <span class=n>multiprocessing</span><span class=o>.</span><span class=n>Queue</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                       <span class=n>browser_queue</span><span class=p>:</span> <span class=n>multiprocessing</span><span class=o>.</span><span class=n>Queue</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        렌더러 프로세스 워커
</span></span></span><span class=line><span class=cl><span class=s2>        - HTML 파싱 및 렌더링 시뮬레이션
</span></span></span><span class=line><span class=cl><span class=s2>        - JavaScript 실행 환경
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;렌더러 프로세스 </span><span class=si>{</span><span class=n>renderer_id</span><span class=si>}</span><span class=s2> 시작 (PID: </span><span class=si>{</span><span class=n>multiprocessing</span><span class=o>.</span><span class=n>current_process</span><span class=p>()</span><span class=o>.</span><span class=n>pid</span><span class=si>}</span><span class=s2>)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 렌더링 시뮬레이션</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>simulate_page_rendering</span><span class=p>(</span><span class=n>renderer_id</span><span class=p>,</span> <span class=n>tab_id</span><span class=p>,</span> <span class=n>url</span><span class=p>,</span> <span class=n>browser_queue</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 메시지 처리 루프</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>message</span> <span class=o>=</span> <span class=n>renderer_queue</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>timeout</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>message</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>  <span class=c1># 종료 신호</span>
</span></span><span class=line><span class=cl>                    <span class=k>break</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=c1># 메시지 처리</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>handle_renderer_message</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>browser_queue</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>            <span class=k>except</span> <span class=n>queue</span><span class=o>.</span><span class=n>Empty</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>continue</span>
</span></span><span class=line><span class=cl>            <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;렌더러 </span><span class=si>{</span><span class=n>renderer_id</span><span class=si>}</span><span class=s2> 오류: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>break</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;렌더러 프로세스 </span><span class=si>{</span><span class=n>renderer_id</span><span class=si>}</span><span class=s2> 종료&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>simulate_page_rendering</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>renderer_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>tab_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>url</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                              <span class=n>browser_queue</span><span class=p>:</span> <span class=n>multiprocessing</span><span class=o>.</span><span class=n>Queue</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;페이지 렌더링 시뮬레이션&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>steps</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>(</span><span class=s2>&#34;DNS 조회&#34;</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=p>(</span><span class=s2>&#34;HTML 다운로드&#34;</span><span class=p>,</span> <span class=mf>1.0</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=p>(</span><span class=s2>&#34;HTML 파싱&#34;</span><span class=p>,</span> <span class=mf>0.8</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=p>(</span><span class=s2>&#34;CSS 적용&#34;</span><span class=p>,</span> <span class=mf>0.6</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=p>(</span><span class=s2>&#34;JavaScript 실행&#34;</span><span class=p>,</span> <span class=mf>1.2</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=p>(</span><span class=s2>&#34;렌더링 완료&#34;</span><span class=p>,</span> <span class=mf>0.3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>step_name</span><span class=p>,</span> <span class=n>duration</span> <span class=ow>in</span> <span class=n>steps</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=n>duration</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 브라우저 프로세스에게 진행 상황 보고</span>
</span></span><span class=line><span class=cl>            <span class=n>progress_message</span> <span class=o>=</span> <span class=n>IPCMessage</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=n>sender_id</span><span class=o>=</span><span class=n>renderer_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>receiver_id</span><span class=o>=</span><span class=s2>&#34;browser_main&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>message_type</span><span class=o>=</span><span class=s2>&#34;rendering_progress&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>payload</span><span class=o>=</span><span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;tab_id&#34;</span><span class=p>:</span> <span class=n>tab_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;step&#34;</span><span class=p>:</span> <span class=n>step_name</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;url&#34;</span><span class=p>:</span> <span class=n>url</span>
</span></span><span class=line><span class=cl>                <span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=n>timestamp</span><span class=o>=</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=n>browser_queue</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=n>progress_message</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;탭 </span><span class=si>{</span><span class=n>tab_id</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>step_name</span><span class=si>}</span><span class=s2> 완료&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 렌더링 완료 알림</span>
</span></span><span class=line><span class=cl>        <span class=n>complete_message</span> <span class=o>=</span> <span class=n>IPCMessage</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>sender_id</span><span class=o>=</span><span class=n>renderer_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>receiver_id</span><span class=o>=</span><span class=s2>&#34;browser_main&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>message_type</span><span class=o>=</span><span class=s2>&#34;rendering_complete&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>payload</span><span class=o>=</span><span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;tab_id&#34;</span><span class=p>:</span> <span class=n>tab_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;url&#34;</span><span class=p>:</span> <span class=n>url</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;success&#34;</span><span class=p>:</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=n>timestamp</span><span class=o>=</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>browser_queue</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=n>complete_message</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>handle_renderer_message</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>message</span><span class=p>:</span> <span class=n>IPCMessage</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                               <span class=n>browser_queue</span><span class=p>:</span> <span class=n>multiprocessing</span><span class=o>.</span><span class=n>Queue</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;렌더러에서 온 메시지 처리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>message</span><span class=o>.</span><span class=n>message_type</span> <span class=o>==</span> <span class=s2>&#34;javascript_error&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># JavaScript 오류 처리</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;JavaScript 오류 발생: </span><span class=si>{</span><span class=n>message</span><span class=o>.</span><span class=n>payload</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=n>message</span><span class=o>.</span><span class=n>message_type</span> <span class=o>==</span> <span class=s2>&#34;resource_request&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># 리소스 요청 처리</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>handle_resource_request</span><span class=p>(</span><span class=n>message</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>handle_resource_request</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>message</span><span class=p>:</span> <span class=n>IPCMessage</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;리소스 요청 처리 (이미지, CSS, JS 파일 등)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>resource_url</span> <span class=o>=</span> <span class=n>message</span><span class=o>.</span><span class=n>payload</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;url&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;리소스 요청: </span><span class=si>{</span><span class=n>resource_url</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 네트워크 요청 시뮬레이션</span>
</span></span><span class=line><span class=cl>        <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.2</span><span class=p>)</span>  <span class=c1># 다운로드 시간 시뮬레이션</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_tab</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>tab_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>url</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;새 탭 생성&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;새 탭 생성: </span><span class=si>{</span><span class=n>tab_id</span><span class=si>}</span><span class=s2> -&gt; </span><span class=si>{</span><span class=n>url</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_renderer_process</span><span class=p>(</span><span class=n>tab_id</span><span class=p>,</span> <span class=n>url</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>close_tab</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>tab_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;탭 닫기 - 해당 렌더러 프로세스 종료&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>tab_id</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>renderer_processes</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>renderer_info</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>renderer_processes</span><span class=p>[</span><span class=n>tab_id</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=n>renderer_id</span> <span class=o>=</span> <span class=n>renderer_info</span><span class=p>[</span><span class=s1>&#39;renderer_id&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 렌더러 프로세스에게 종료 신호 전송</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>renderer_id</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>message_queues</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>message_queues</span><span class=p>[</span><span class=n>renderer_id</span><span class=p>]</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 프로세스 종료 대기</span>
</span></span><span class=line><span class=cl>            <span class=n>renderer_info</span><span class=p>[</span><span class=s1>&#39;process&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>timeout</span><span class=o>=</span><span class=mi>5</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>renderer_info</span><span class=p>[</span><span class=s1>&#39;process&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>is_alive</span><span class=p>():</span>
</span></span><span class=line><span class=cl>                <span class=n>renderer_info</span><span class=p>[</span><span class=s1>&#39;process&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>terminate</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 정리</span>
</span></span><span class=line><span class=cl>            <span class=k>del</span> <span class=bp>self</span><span class=o>.</span><span class=n>renderer_processes</span><span class=p>[</span><span class=n>tab_id</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>renderer_id</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>message_queues</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>del</span> <span class=bp>self</span><span class=o>.</span><span class=n>message_queues</span><span class=p>[</span><span class=n>renderer_id</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;탭 </span><span class=si>{</span><span class=n>tab_id</span><span class=si>}</span><span class=s2> 닫힘, 렌더러 프로세스 </span><span class=si>{</span><span class=n>renderer_id</span><span class=si>}</span><span class=s2> 종료&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>run</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;브라우저 메인 루프&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;브라우저 프로세스 시작 (PID: </span><span class=si>{</span><span class=n>multiprocessing</span><span class=o>.</span><span class=n>current_process</span><span class=p>()</span><span class=o>.</span><span class=n>pid</span><span class=si>}</span><span class=s2>)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 시연용 탭 생성</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>create_tab</span><span class=p>(</span><span class=s2>&#34;tab1&#34;</span><span class=p>,</span> <span class=s2>&#34;https://www.google.com&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>create_tab</span><span class=p>(</span><span class=s2>&#34;tab2&#34;</span><span class=p>,</span> <span class=s2>&#34;https://www.github.com&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>create_tab</span><span class=p>(</span><span class=s2>&#34;tab3&#34;</span><span class=p>,</span> <span class=s2>&#34;https://www.stackoverflow.com&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 메시지 처리 루프</span>
</span></span><span class=line><span class=cl>        <span class=n>message_count</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=bp>self</span><span class=o>.</span><span class=n>running</span> <span class=ow>and</span> <span class=n>message_count</span> <span class=o>&lt;</span> <span class=mi>20</span><span class=p>:</span>  <span class=c1># 시연 목적으로 제한</span>
</span></span><span class=line><span class=cl>            <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>message</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>main_queue</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>timeout</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;브라우저: </span><span class=si>{</span><span class=n>message</span><span class=o>.</span><span class=n>sender_id</span><span class=si>}</span><span class=s2>에서 메시지 수신: </span><span class=si>{</span><span class=n>message</span><span class=o>.</span><span class=n>message_type</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>message</span><span class=o>.</span><span class=n>message_type</span> <span class=o>==</span> <span class=s2>&#34;rendering_complete&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>tab_id</span> <span class=o>=</span> <span class=n>message</span><span class=o>.</span><span class=n>payload</span><span class=p>[</span><span class=s1>&#39;tab_id&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;탭 </span><span class=si>{</span><span class=n>tab_id</span><span class=si>}</span><span class=s2> 렌더링 완료!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=n>message_count</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>            <span class=k>except</span> <span class=n>queue</span><span class=o>.</span><span class=n>Empty</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>continue</span>
</span></span><span class=line><span class=cl>            <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;브라우저 프로세스 오류: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>break</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 모든 탭 닫기</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>tab_id</span> <span class=ow>in</span> <span class=nb>list</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>renderer_processes</span><span class=o>.</span><span class=n>keys</span><span class=p>()):</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>close_tab</span><span class=p>(</span><span class=n>tab_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;브라우저 프로세스 종료&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용 예시 및 시연</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>chrome_architecture_demo</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;크롬 브라우저 아키텍처 시연&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;=== 크롬 스타일 멀티프로세스 브라우저 시뮬레이션 ===</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>browser</span> <span class=o>=</span> <span class=n>BrowserProcess</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>browser</span><span class=o>.</span><span class=n>run</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>chrome_architecture_demo</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>성과 분석</strong>:</p><ul><li><strong>안정성 향상</strong>: 탭별 독립성으로 크래시 격리 98% 개선</li><li><strong>보안 강화</strong>: 프로세스별 샌드박스로 악성 코드 격리</li><li><strong>사용자 경험</strong>: 한 탭 문제 시에도 다른 탭 정상 동작</li><li><strong>메모리 사용량</strong>: 프로세스별 오버헤드로 30-40% 증가</li></ul><h4 id=통합-및-연계-기술-분석>통합 및 연계 기술 분석<a hidden class=anchor aria-hidden=true href=#통합-및-연계-기술-분석>#</a></h4><ul><li><strong>프로세스=최소 실행 단위</strong>가 컨테이너로 감싸지고, <strong>오케스트레이터</strong>가 수명·자원·스케줄링을 자동화한다.</li><li>서비스 간 의존은 <strong>게이트웨이/메시/브로커</strong>로 느슨하게 연결하고, <strong>관측성</strong>으로 폐루프 (지표→조치) 를 만든다.</li><li>보안/정책은 <strong>이미지→런타임→네트워크→데이터</strong> 전 단계에서 다층 방어로 일관되게 적용한다.</li></ul><p>" 프로세스 중심 " 시각으로 <strong>컨테이너·클라우드 네이티브 스택</strong>과의 연계를 정리한다.</p><ol><li><strong>격리/안정성</strong>을 지키면서</li><li><strong>확장/운영 자동화</strong>를 달성하고</li><li><strong>가시성/보안</strong>을 체계화하는 것이다.</li></ol><table><thead><tr><th>카테고리</th><th>핵심 기술/도구</th><th>연계 목적</th><th>프로세스 관점 통합 포인트</th><th>운영 팁/리스크</th></tr></thead><tbody><tr><td>런타임/격리</td><td>Docker, containerd, runc</td><td>경량 격리·이식성</td><td>프로세스=컨테이너 PID 1, cgroups/NS</td><td>PID1 reaper 필요 (tini), ulimit/cgroups 설정</td></tr><tr><td>오케스트레이션/스케줄링</td><td>Kubernetes, ECS, Nomad</td><td>수명·자원·롤아웃 자동화</td><td>Pod/Task 단위로 프로세스군 관리</td><td>HPA/VPA, Taints/Tolerations, Affinity/Topology</td></tr><tr><td>네트워킹/서비스 연결</td><td>CNI(Calico/Cilium), Istio/Linkerd, Envoy/Kong/Ingress</td><td>서비스 탐색·트래픽 정책</td><td>사이드카=별도 프로세스 (프록시)</td><td>mTLS/정책 일관성, 레이턴시 오버헤드</td></tr><tr><td>메시징/데이터플로</td><td>Kafka/RabbitMQ/SQS/PubSub, gRPC, HTTP/3</td><td>비동기·스트림·RPC</td><td>프로듀서/컨슈머=독립 프로세스</td><td>백프레셔/KEDA 스케일, 멱등성/리트라이 예산</td></tr><tr><td>관측성/SRE</td><td>Prometheus/Grafana, ELK, OpenTelemetry, Jaeger</td><td>지표·로그·트레이스</td><td>프로세스 레이블/리소스 한도와 상관분석</td><td>p95/p99, PSI, Run-queue, GC/FD 사용률</td></tr><tr><td>보안/거버넌스</td><td>seccomp/AppArmor/SELinux, OPA/Gatekeeper, cosign/SBOM</td><td>런타임·정책·서플라이체인</td><td>Capabilities 최소화, Policy as Code</td><td>정책 오탐/성능 영향, 키 관리</td></tr><tr><td>잡/워크플로/서버리스</td><td>K8s Job/CronJob, Airflow/Argo, Temporal/Step Functions, Lambda/Cloud Run</td><td>단발 잡/스케줄/사가</td><td>단명 프로세스 수명·재시도·보상 트랜잭션</td><td>타임아웃/쿨드스타트, DLQ/Idempotency</td></tr><tr><td>스토리지/IO</td><td>CSI, EBS/EFS/FSx, PV/PVC</td><td>상태 데이터·체크포인트</td><td>동시성 모델과 파일 잠금·RW 모드</td><td>RWO/RWX 선택, IOPS/스루풋 예산</td></tr><tr><td>배포/릴리즈</td><td>Rolling/Blue-Green/Canary, Helm/Kustomize, Argo CD</td><td>무중단 배포·릴리즈 관리</td><td>Readiness/Liveness/Startup 와 결합</td><td>드레인 시 그래이스풀 종료 (TERM→KILL), 세션 스티키</td></tr></tbody></table><ul><li><strong>Pod/Task=프로세스 묶음</strong>으로 보고, <strong>신호/헬스체크/자원 한도</strong>를 일관되게 설계하면 운영 안정성이 급상승한다.</li><li><strong>메시징·워크플로</strong>를 곁들이면 결합도↓, 복원력↑. 스케일은 ** 지표 기반 (HPA/KEDA)** 로 자동화하라.</li><li>보안/거버넌스는 <strong>Capabilities↓, 정책 코드화, 이미지 신뢰</strong> 세 축을 먼저 고정하면 사고 여지를 크게 줄인다.</li></ul><h3 id=운영-및-최적화-operations--optimization>운영 및 최적화 (Operations & Optimization)<a hidden class=anchor aria-hidden=true href=#운영-및-최적화-operations--optimization>#</a></h3><h4 id=보안-및-거버넌스>보안 및 거버넌스<a hidden class=anchor aria-hidden=true href=#보안-및-거버넌스>#</a></h4><p>프로세스 보안 및 거버넌스는 시스템 안정성과 데이터 보호를 위해 필수적인 요소다.<br>권한 최소화, 프로세스 격리, 자원 제한, 시스템 호출 제어, 보안 정책 적용 등은 기본이며, 무결성 보장과 로깅·감사 체계로 사후 대응력을 높인다. 또한 현대 환경에서는 정책 자동화, 실시간 위협 대응, 클라우드 보안 프레임워크까지 고려해야 종합적인 보안 거버넌스를 구현할 수 있다.</p><table><thead><tr><th>보안 영역</th><th>주요 기술/방법</th><th>장점</th><th>단점</th><th>적용 사례</th></tr></thead><tbody><tr><td>권한 최소화</td><td>비루트 실행, Capabilities 제거, UID/GID 제어</td><td>공격 표면 축소</td><td>일부 기능 제한</td><td>서비스 계정 실행</td></tr><tr><td>격리 강화</td><td>네임스페이스, chroot, 컨테이너</td><td>프로세스·네트워크·파일 격리</td><td>설정 복잡</td><td>Docker, LXC</td></tr><tr><td>리소스 제한</td><td>cgroups, ulimit, RLIMIT</td><td>자원 고갈 방지</td><td>설정 미비 시 무력화</td><td>웹 서버 프로세스 제한</td></tr><tr><td>시스템 호출 제어</td><td>seccomp, 화이트리스트</td><td>커널 공격 방어</td><td>허용 목록 관리 필요</td><td>금융·결제 서버</td></tr><tr><td>보안 정책 적용</td><td>SELinux, AppArmor, ASLR, Stack Canary</td><td>취약점 완화</td><td>설정 복잡</td><td>보안 강화 서버</td></tr><tr><td>무결성 보장</td><td>서명 검증, 이미지 해시</td><td>위변조 방지</td><td>서명 관리 필요</td><td>SW 배포 파이프라인</td></tr><tr><td>로깅·감사</td><td>Auditd, Syslog</td><td>추적·포렌식 가능</td><td>저장소·성능 부담</td><td>서버 보안 로그</td></tr><tr><td>자동화·표준화</td><td>Ansible, Chef, Puppet</td><td>일관성 유지</td><td>초기 구축 비용</td><td>대규모 서버 운영</td></tr><tr><td>실시간 위협 대응</td><td>RASP, IDS/IPS</td><td>실행 중 공격 차단</td><td>오탐 가능</td><td>API Gateway</td></tr><tr><td>클라우드 환경 보안</td><td>PSP, OPA</td><td>분산 환경 보안 강화</td><td>정책 관리 복잡</td><td>Kubernetes</td></tr></tbody></table><p>프로세스 보안·거버넌스는 <strong>권한 최소화, 격리, 자원 제한, 호출 제어</strong>라는 OS 레벨 보안을 기반으로, <strong>무결성·로깅·정책 자동화·실시간 위협 대응·클라우드 보안</strong>까지 확장해야 한다. 각 기술은 장점과 단점이 명확하므로 운영 환경과 보안 목표에 맞춰 균형 있게 적용해야 한다.</p><h4 id=모니터링-및-관측성>모니터링 및 관측성<a hidden class=anchor aria-hidden=true href=#모니터링-및-관측성>#</a></h4><p>모니터링·관측성은 <strong>시스템 - 프로세스 - 런타임 - 애플리케이션</strong> 전층을 가시화하고, <strong>골든 시그널과 자원 메트릭</strong>을 연결해 <strong>SLO 중심</strong>으로 운용하는 체계다. 알람은 <strong>테일 지연과 포화도</strong>에 민감하게 설계하고, 진단은 <strong>표준화된 루틴</strong>으로 반복 가능하게 만든다.</p><table><thead><tr><th>계층</th><th>핵심 메트릭/신호</th><th>의미/병목 신호</th><th>수집 도구</th><th>임계치 예시 (시나리오)</th><th>즉시 액션</th></tr></thead><tbody><tr><td>노드/OS</td><td>run-queue, iowait, steal, IRQ/softirq</td><td>CPU 대기/디스크 병목/VM 간섭</td><td>node exporter, pidstat, iostat, sar</td><td>run-queue > 코어×1(5m), iowait > 20%</td><td>워커수/큐 제한, I/O 배치, 핫스팟 프로파일링</td></tr><tr><td>컨테이너/cgroup</td><td>cpu.cfs 사용률, 메모리 한도/oom_kills, PSI(cpu/mem/io)</td><td>cgroup 포화, 압력 상승</td><td>cAdvisor, /sys/fs/cgroup, PSI</td><td>PSI(mem some)>0.1(1m) 지속</td><td>메모리 상향/누수 점검, GC 조정, 워커 재시작</td></tr><tr><td>프로세스</td><td>CPU%, RSS, FD/스레드 수, ctx-switches/s, faults</td><td>누수/경합/페이지 폴트</td><td>psutil, pidstat, lsof, smaps</td><td>FD 사용률 > 80%, RSS 지속상승</td><td>핸들/커넥션 풀 점검, 객체/버퍼 풀링</td></tr><tr><td>스토리지/네트</td><td>disk util, await, qlen / rtt, retrans, drops</td><td>디스크/네트 큐 적체</td><td>iostat, ss, tc, ebpf</td><td>디스크 util > 80%, rtt↑</td><td>배치/압축/zero-copy, 커넥션 풀 튜닝</td></tr><tr><td>런타임</td><td>GC pause P95/P99, heap 사용률, 이벤트 루프 랙</td><td>stop-the-world/콜백 지연</td><td>JFR/JMX, CLR, uv metrics</td><td>GC P99 > 200ms, loop lag > 100ms</td><td>힙/세대 조정, 블로킹 분리, 워커 오프로딩</td></tr><tr><td>앱/SLI</td><td>P95/99 지연, 오류율, RPS, 큐 길이</td><td>테일 지연/오류 급증</td><td>APM, OpenTelemetry</td><td>오류율 > 1%, P99>SLO</td><td>레이트리밋/서킷브레이커, 리트라이/타임아웃 조정</td></tr><tr><td>트레이싱</td><td>분산 트레이스, 스팬 타임라인</td><td>핫스팬/경계 지연</td><td>OpenTelemetry, Jaeger/Zipkin</td><td>상위 5% 핫스팬 집중</td><td>병목 서비스 최적화/캐시/쿼리 튜닝</td></tr></tbody></table><ul><li><strong>테일 지연과 포화도</strong>를 1 순위로 관찰하라. 평균값은 문제를 숨긴다.</li><li>컨테이너 시대에는 <strong>PSI·cgroup 한도·OOM 이벤트</strong>가 실전 지표다.</li><li>알람은 <strong>명확한 Runbook</strong>과 한 쌍으로 설계하고, 진단은 <strong>표준 절차</strong>로 자동화하라.</li></ul><h4 id=실무-적용-고려사항-및-주의점>실무 적용 고려사항 및 주의점<a hidden class=anchor aria-hidden=true href=#실무-적용-고려사항-및-주의점>#</a></h4><p>프로세스 운영은 <strong>자원 한계와 스케줄링</strong>, <strong>종료/재시작 시맨틱</strong>, <strong>보안 경계</strong>, <strong>관측·자동화</strong>가 핵심이다.<br>실무에서는 먼저 **자원 한계 (FD/메모리/CPU)**를 명시하고, <strong>그레이스풀 종료·드레이닝</strong>을 표준화하며, <strong>cgroups/ulimit/capabilities</strong>로 경계를 좁힌다. 성능은 <strong>워커 수/affinity/NUMA/IPC 선택</strong>으로 튜닝하고, 안정성은 <strong>헬스체크·자동 재시작·백오프·벌크헤드</strong>로 확보한다. 마지막으로 <strong>PSI·fault·컨텍스트 스위칭</strong> 등 저수준 지표를 대시보드화하여, <strong>SLO 기반</strong>으로 자동 조정 (오토스케일/롤백) 을 걸어둔다.</p><table><thead><tr><th>영역</th><th>고려사항</th><th style=text-align:right>위험도</th><th>영향</th><th>권장사항/가이드</th><th>주요 지표/체크 항목</th></tr></thead><tbody><tr><td>자원 관리</td><td>메모리 누수/스파이크</td><td style=text-align:right>높음</td><td>OOM, 성능저하</td><td>cgroup 메모리 한계, 주기적 워커 재시작 (max-requests), 객체 프로파일링</td><td>RSS/PSS, major/minor faults, PSI(memory)</td></tr><tr><td>자원 관리</td><td>FD 고갈</td><td style=text-align:right>높음</td><td>신규 연결 실패</td><td><code>ulimit -n</code> 상향, 커넥션 풀/Keep-Alive 관리, 핸들 누수 점검</td><td>열린 FD 수, 에러율 (EMFILE)</td></tr><tr><td>자원 관리</td><td>CPU 과부하</td><td style=text-align:right>중간</td><td>지연 증가</td><td>워커 수 탐색 (코어수~2×코어), affinity/numa 바인딩, 우선순위 관리</td><td>CPU%, run queue, ctx switch(v/inv)</td></tr><tr><td>성능/튜닝</td><td>컨텍스트 스위칭 과다</td><td style=text-align:right>중간</td><td>캐시 미스/스루풋 저하</td><td>워커/스레드 상한, 배치 처리, 코어 고정</td><td>ctx switch, LLC miss, IPC(Instructions/CPU)</td></tr><tr><td>성능/튜닝</td><td>디스크/네트워크 I/O 대기</td><td style=text-align:right>중간</td><td>처리량 저하</td><td>비동기 I/O, 배퍼링, 적절한 타임아웃/재시도</td><td>iowait, RTT/P99, 큐 깊이</td></tr><tr><td>신뢰성/복원력</td><td>그레이스풀 종료 미비</td><td style=text-align:right>높음</td><td>데이터 손실/좀비</td><td><code>SIGTERM</code>→드레인→타임아웃→<code>SIGKILL</code>, <code>wait()</code> 로 수거</td><td>종료 소요시간, 좀비 수, 드레인 성공률</td></tr><tr><td>신뢰성/복원력</td><td>OOM-Killer 개입</td><td style=text-align:right>중간</td><td>예기치 종료</td><td>메모리 상한·스왑 정책, 프리로드 최적화, 큰 힙 분리</td><td>OOM 이벤트, RSS 급등, GC/alloc 패턴</td></tr><tr><td>보안/거버넌스</td><td>과도 권한/비밀 노출</td><td style=text-align:right>높음</td><td>침해 확산</td><td>Capabilities drop, seccomp, AppArmor/SELinux, 시크릿 볼트 사용</td><td>권한/Capabilities 목록, 시크릿 접근 로그</td></tr><tr><td>관측성/모니터링</td><td>블라인드 스팟</td><td style=text-align:right>높음</td><td>장애 조기징후 놓침</td><td>프로세스/노드 메트릭 + 트레이싱, 에러·코어덤프 수집, SLO 알람</td><td>PSI(cpu/mem/io), 에러율, 재시작 횟수</td></tr><tr><td>수명주기/배포</td><td>핫 리로드/롤백 부재</td><td style=text-align:right>중간</td><td>다운타임</td><td>readiness/liveness, 롤링·카나리, 자동 롤백 조건</td><td>배포 실패율, 롤백 시간, 헬스체크 실패</td></tr><tr><td>동시성/IPC</td><td>잘못된 IPC 선택</td><td style=text-align:right>중간</td><td>레이턴시/복잡도</td><td>대용량·저지연=공유메모리, 중간/안전=메시지큐, 분산=소켓</td><td>IPC 왕복시간, 메시지 손실/재전송율</td></tr></tbody></table><ul><li><strong>경계 먼저</strong>: cgroups/ulimit/Capabilities 로 자원·권한 상한을 고정.</li><li><strong>종료 표준화</strong>: <code>SIGTERM→드레인→SIGKILL</code> 루틴과 워커 수거 자동화.</li><li><strong>튜닝 단위</strong>: 워커 수/affinity/NUMA/IPC 선택으로 병목 제거.</li><li><strong>가시성=안정성</strong>: PSI·fault·컨텍스트 스위칭·FD 등 저수준 지표를 대시보드화.</li><li><strong>배포 안전망</strong>: 헬스체크·카나리·오토롤백으로 장애 반경 최소화.</li></ul><h4 id=성능-최적화-전략-및-고려사항>성능 최적화 전략 및 고려사항<a hidden class=anchor aria-hidden=true href=#성능-최적화-전략-및-고려사항>#</a></h4><p>이 정리는 프로세스 성능을 <strong>CPU·메모리·I/O·동시성·운영 자동화</strong> 관점에서 체계화한다.<br>각 최적화는 <strong>가시화 가능한 지표</strong>와 연결되어야 하며, 튜닝은 <strong>작은 단위의 실험→롤백 안전장치</strong>와 함께 진행한다.</p><table><thead><tr><th>카테고리</th><th>핵심 이슈/리스크</th><th>전략/튜닝 포인트</th><th>체크 지표 (예)</th><th>주의점</th></tr></thead><tbody><tr><td>스케줄링/CPU</td><td>컨텍스트 스위칭, 워커 과다/과소</td><td>워커=코어수±α, affinity/isolcpus, SMT 영향 점검, RT 는 최소화</td><td>run-queue, ctx-switch/s, CPU util/p99</td><td>과도 바인딩은 공정성↓; RT 남용 시 시스템 굶김</td></tr><tr><td>메모리</td><td>누수/단편화, TLB 미스</td><td>풀링, COW 활용, THP/HP 검증, 캐시 친화적 구조, SWappiness 제어</td><td>RSS/VSZ, PF/s, TLB-miss, alloc 실패율</td><td>THP 강제는 회수 지연 유발; 큰 힙 수정 시 COW 이점 소멸</td></tr><tr><td>디스크 I/O</td><td>동기 쓰기 대기, 랜덤 I/O</td><td>비동기/배치, 페이지캐시/리드어헤드, I/O 스케줄러 선택 (mq-deadline/none)</td><td>iowait, queue depth, read-ahead hit</td><td>지나친 캐시 의존은 쓰기폭주 시 스톨 위험</td></tr><tr><td>네트워크</td><td>IRQ 편중, 작은 패킷 폭주</td><td>RSS/RPS, <code>SO_REUSEPORT</code>, Nagle/큐/윈도우 튜닝</td><td>NIC 큐별 PPS, drops, softirq</td><td>Nagle off 는 작은 패킷 난사 유발 가능</td></tr><tr><td>IPC/통신</td><td>직렬화·복사 오버헤드</td><td>공유메모리/zero-copy(sendfile/mmap), 프레이밍/배치</td><td>syscalls/s, copy bytes, qlen</td><td>공유메모리는 동기화 복잡성↑</td></tr><tr><td>동시성/락</td><td>락 경합/우선순위 역전</td><td>락 범위 축소, RW 락, 락 - 프리, 파티셔닝 (Sharding)</td><td>lock hold/wait, futex wait</td><td>미세화 과도 시 오버헤드 역전</td></tr><tr><td>수명/라이프</td><td>생성비용/단편화/누수</td><td>프리포크/풀, 주기적 리사이클, 웜업, 그래이스풀 종료</td><td>GC/heap growth, restart rate</td><td>잦은 재시작은 캐시 워밍 손실</td></tr><tr><td>관측성/SRE</td><td>회귀 미탐지</td><td>p95/p99, PSI(cpu/mem/io), 플레임그래프, BPF</td><td>p99 latency, PSI avg/10s, off-CPU</td><td>샘플링 비용·보안 정책 고려</td></tr><tr><td>플랫폼/컨테이너</td><td>한도·스로틀·스티커</td><td>cgroups(cpu/mem/io/pids) 한도, cpuset/NUMA, irqbalance</td><td>throttled time, OOM-kills</td><td>limits 불일치 시 스로틀링으로 p99 악화</td></tr><tr><td>배포/실험</td><td>튜닝 리스크</td><td>A/B, 카나리, 자동 롤백, SLO/에러예산</td><td>SLO 위반율, 변화 검출</td><td>동시에 여러 파라미터 변경 금지</td></tr></tbody></table><ul><li><strong>워커·큐·락·I/O</strong>는 상호작용한다. 튜닝은 <strong>한 번에 한 변수</strong>만 조정하고 p99/PSI 로 검증하라.</li><li>** 로컬리티 (캐시/NUMA/IRQ)** 가 성패를 갈라준다. 데이터·스레드·인터럽트를 <strong>같은 소켓</strong>으로 모아라.</li><li><strong>가드레일</strong>(limits/리사이클/백오프) 없이는 최적화가 쉽게 불안정으로 변한다.</li></ul><h3 id=고급-주제-advanced-topics>고급 주제 (Advanced Topics)<a hidden class=anchor aria-hidden=true href=#고급-주제-advanced-topics>#</a></h3><h4 id=현재-도전-과제>현재 도전 과제<a hidden class=anchor aria-hidden=true href=#현재-도전-과제>#</a></h4><p>컨테이너·K8s 기반 운영에서 <strong>종료 시맨틱의 일관성</strong>, <strong>cgroups v2 기반 자원 격리</strong>, <strong>PSI 로 가시성 확보</strong>, <strong>사이드카 오버헤드 관리</strong>가 핵심 과제다. 이를 <strong>표준 init·정확한 시그널 처리</strong>, <strong>명시적 리소스 정책</strong>, <strong>관측 - 튜닝 자동화</strong>, <strong>네트워크 데이터플레인 최적화</strong>로 풀어야 한다.</p><table><thead><tr><th>카테고리</th><th>난제</th><th>원인</th><th>영향</th><th>해결/권장 실무</th><th>관측·검증 포인트</th></tr></thead><tbody><tr><td>런타임/커널</td><td>PID 1 시그널/좀비</td><td>컨테이너 PID 1 특수성</td><td>좀비 누적, 종료 지연</td><td><code>tini</code>/<code>--init</code> 사용, 신호 핸들러·자식 reap 구현</td><td>좀비 수, 종료 지연 (ms) ([GitHub][1])</td></tr><tr><td>오케스트레이션</td><td>일관된 종료 경로 확보</td><td>preStop/그레이스 기간 미설계</td><td>데이터 손실/롤백 실패</td><td><code>preStop</code> 표준화, <code>terminationGracePeriodSeconds</code> 튜닝, 종료 리허설</td><td>종료 성공률, 평균 드레인 시간 ([Kubernetes][12], [CNCF][4])</td></tr><tr><td>리소스/스케줄링</td><td>OOM/노드 에빅션</td><td>요청/리밋·버퍼 과소/과대</td><td>재시작 루프, 지연 튐</td><td>리밋·리퀘스트 산정, 메모리 워킹셋/버스트 관리</td><td>OOMKilled/evicted 카운트, 워킹셋, RSS ([Kubernetes][10])</td></tr><tr><td>리소스/스케줄링</td><td>CPU/메모리 격리 미흡</td><td>cgroups 설정 불일치</td><td>레이턴시 변동, 노이즈</td><td>cgroups v2 정책 (<code>cpu.max</code>,<code>memory.high</code>) 정렬</td><td>PSI some/full, run-queue 길이 ([리눅스 커널 문서][5])</td></tr><tr><td>스케줄링 가시성</td><td>리소스 정체 감지 어려움</td><td>평균치 기반 모니터링 한계</td><td>꼬리지연 (P95/99) 악화</td><td>PSI 기반 알람·오토튠, HPA/오토스케일 연계</td><td><code>/proc/pressure/*</code> 임계, tail latency ([리눅스 커널 문서][8])</td></tr><tr><td>네트워크/데이터플레인</td><td>사이드카 오버헤드</td><td>프록시 처리/정책 확장</td><td>노드 밀도·지연 증가</td><td>사이드카 리소스 예산, 필요 네임스페이스만 범위 제한, 앰비언트 등 대안 검토</td><td>프록시 CPU/RSS, RPS 대비 지연 ([Istio][11])</td></tr><tr><td>보안/거버넌스</td><td>보안 정책 성능 영향</td><td>seccomp/ASLR/PIE</td><td>스루풋 감소</td><td>최소권한 프로파일 + 성능 회귀 테스트 파이프라인</td><td>정책 변경 전/후 P95 비교</td></tr></tbody></table><p>핵심은 <strong>정확한 종료 시맨틱</strong>과 <strong>일관된 자원 격리 (cgroups v2)</strong>, 그리고 <strong>PSI 기반 관측·자동화</strong>다. 여기에 <strong>사이드카 오버헤드 예산화</strong>와 <strong>보안 정책의 성능 회귀 테스트</strong>를 더하면, 확장 시에도 꼬리지연과 재시작 루프를 크게 줄일 수 있다.</p><h4 id=생태계-및-관련-기술>생태계 및 관련 기술<a hidden class=anchor aria-hidden=true href=#생태계-및-관련-기술>#</a></h4><p>프로세스 생태계는 커널의 <strong>스케줄러·메모리·I/O 서브시스템</strong>을 기반으로, 상위에서 <strong>서비스 관리 (systemd 등)</strong> 와 <strong>컨테이너 런타임 (OCI)</strong> 가 실행 환경을 표준화한다.<br>클러스터 레벨에선 <strong>Kubernetes</strong>가 생명주기·스케줄링·확장을 담당하고, <strong>CNI/CSI</strong>로 네트워크·스토리지를 플러그인화한다. 서비스 간 통신은 <strong>Envoy/서비스 메시</strong>가 보안·가시성·회복탄력성을 제공하고, 운영 가시성은 <strong>OpenTelemetry/Prometheus/PSI/eBPF</strong> 로 확보한다. 보안은 <strong>namespaces/cgroups/LSM/seccomp</strong>와 **워크로드 아이덴티티 (SPIFFE)**로 다층 방어를 구성한다. 고성능 I/O 는 <strong>io_uring/IOCP</strong> 등 이벤트 기반 인터페이스로 레이턴시를 낮춘다.</p><table><thead><tr><th>카테고리</th><th>기술/표준</th><th>역할</th><th>표준/프로토콜</th><th>프로세스와의 관계</th><th>대표 적용</th></tr></thead><tbody><tr><td>OS 커널/플랫폼</td><td>eBPF(bcc/bpftrace)</td><td>커널/프로세스 동작 관찰·필터링</td><td>BPF ISA</td><td>시스템콜/스케줄/네트워크 관측·차단</td><td>성능 분석, 보안 관제</td></tr><tr><td>OS 커널/플랫폼</td><td>io_uring</td><td>고성능 비동기 I/O</td><td>Linux 커널 ABI</td><td>프로세스의 I/O 제출·완료 큐</td><td>로그/스토리지, 프락시</td></tr><tr><td>OS 커널/플랫폼</td><td>Windows Job Objects</td><td>프로세스 그룹 자원·수명 관리</td><td>Win32 API</td><td>자식 프로세스 한도/종료 일괄</td><td>윈도우 서비스 샌드박싱</td></tr><tr><td>OS 커널/플랫폼</td><td>Android Zygote</td><td>프로세스 프리포크/빠른 스타트</td><td>Android 런타임</td><td>공용 힙 프리로드 후 fork</td><td>모바일 앱 부팅 최적화</td></tr><tr><td>서비스/런타임</td><td>systemd</td><td>서비스/프로세스 관리·샌드박싱</td><td>unit 파일</td><td>Restart, Resource, Sandbox 옵션</td><td>리눅스 서비스 운영 표준</td></tr><tr><td>서비스/런타임</td><td>supervisord/Windows Service</td><td>데몬 관리/재시작</td><td>—</td><td>워커 생명주기·로그 관리</td><td>백엔드 워커 운영</td></tr><tr><td>격리·자원</td><td>namespaces/cgroups v2</td><td>격리·자원 상한</td><td>Linux 커널</td><td>PID/NET/MNT/UTS/IPC/USER, cpu/memory/io</td><td>컨테이너 기반 격리</td></tr><tr><td>격리·자원</td><td>seccomp, SELinux/AppArmor</td><td>시스템콜 필터·MAC</td><td>Linux LSM</td><td>프로세스 행위 제어</td><td>하드닝/규정 준수</td></tr><tr><td>패키징/런타임</td><td>OCI Image/Runtime</td><td>컨테이너 이미지/런타임 표준</td><td>OCI</td><td>프로세스 실행 환경 표준화</td><td>Docker, containerd</td></tr><tr><td>패키징/런타임</td><td>containerd/runc/CRI-O</td><td>런타임 구현</td><td>CRI</td><td>K8s 가 프로세스 실행을 위임</td><td>K8s 노드 런타임</td></tr><tr><td>오케스트레이션</td><td>Kubernetes</td><td>스케줄링/확장/복원</td><td>CRI/CNI/CSI</td><td>프로세스 (파드) 생명주기 제어</td><td>클라우드 네이티브 운영</td></tr><tr><td>오케스트레이션</td><td>HPA/VPA</td><td>오토스케일</td><td>K8s API</td><td>CPU/메모리 기반 워커 조정</td><td>비용/성능 최적화</td></tr><tr><td>네트워킹/메시</td><td>Envoy, Istio/Linkerd</td><td>L7 프록시/서비스 메시</td><td>xDS, mTLS</td><td>프로세스 간 통신·정책·관측</td><td>카나리, 서킷브레이커</td></tr><tr><td>네트워킹/메시</td><td>CNI(Flannel/Calico)</td><td>컨테이너 네트워크</td><td>CNI</td><td>파드 네트워킹/정책</td><td>K8s 네트워킹</td></tr><tr><td>관측성/거버넌스</td><td>OpenTelemetry</td><td>트레이싱/메트릭/로그</td><td>OTLP</td><td>프로세스 스팬·리소스 속성</td><td>Jaeger/Tempo</td></tr><tr><td>관측성/거버넌스</td><td>Prometheus/OpenMetrics</td><td>시계열 수집/표준</td><td>OpenMetrics</td><td>프로세스/노드 메트릭</td><td>경보·대시보드</td></tr><tr><td>보안/컴플라이언스</td><td>SPIFFE/SPIRE</td><td>워크로드 아이덴티티</td><td>SVID/X.509/JWT</td><td>프로세스→ID→mTLS</td><td>제로트러스트 통신</td></tr><tr><td>보안/컴플라이언스</td><td>OAuth2/OIDC, TLS/mTLS</td><td>인증/암호화</td><td>RFC 표준군</td><td>API 호출 보안</td><td>BFF·게이트웨이</td></tr><tr><td>IPC·데이터</td><td>POSIX IPC, gRPC/Protobuf</td><td>프로세스 통신/RPC</td><td>POSIX, HTTP/2</td><td>로컬/원격 호출</td><td>마이크로서비스</td></tr><tr><td>IPC·데이터</td><td>AMQP/MQTT, AsyncAPI</td><td>메시징/이벤트 명세</td><td>OAS/AsyncAPI</td><td>비동기 파이프</td><td>이벤트 아키텍처</td></tr></tbody></table><ul><li><strong>레이어별 표준</strong>(OCI/CRI/CNI/CSI, OpenTelemetry/OpenMetrics) 로 <strong>이식성</strong>과 <strong>운영 자동화</strong> 확보.</li><li>** 격리·자원제어 (namespaces/cgroups/LSM/seccomp)** 가 프로세스의 <strong>안전한 실행 경계</strong>를 만든다.</li><li><strong>서비스 메시/워크로드 ID</strong>로 프로세스 간 통신을 <strong>보안·가시성·정책 주도</strong>로 전환.</li><li><strong>eBPF/PSI</strong>는 커널~프로세스 병목을 <strong>저부하로 가시화</strong>하고, <strong>io_uring/IOCP</strong>는 I/O 레이턴시를 낮춘다.</li></ul><p><strong>프로세스 관리 생태계 통합</strong>:</p><pre class=mermaid>graph TB
    subgraph &#34;운영체제 계층&#34;
        A[Linux Kernel]
        B[Process Scheduler]
        C[Memory Manager]
        D[I/O Subsystem]
    end
    
    subgraph &#34;컨테이너 계층&#34;
        E[Docker Engine]
        F[containerd]
        G[runc]
        H[OCI Runtime]
    end
    
    subgraph &#34;오케스트레이션 계층&#34;
        I[Kubernetes]
        J[Docker Swarm]
        K[Apache Mesos]
        L[Nomad]
    end
    
    subgraph &#34;모니터링/관측성&#34;
        M[Prometheus]
        N[Grafana]
        O[Jaeger]
        P[ELK Stack]
    end
    
    subgraph &#34;서비스 메시&#34;
        Q[Istio]
        R[Linkerd]
        S[Consul Connect]
    end
    
    A --&gt; E
    B --&gt; F
    C --&gt; G
    D --&gt; H
    
    E --&gt; I
    F --&gt; J
    G --&gt; K
    H --&gt; L
    
    I --&gt; M
    I --&gt; Q
    M --&gt; N
    Q --&gt; O
</pre><p><strong>주요 통합 기술 및 표준</strong>:</p><blockquote><p>이 표는 프로세스 관리와 연계되는 기술 생태계를 분석하기 위해 작성되었습니다.</p></blockquote><table><thead><tr><th>카테고리</th><th>기술/표준</th><th>역할</th><th>프로세스와의 관계</th><th>적용 사례</th></tr></thead><tbody><tr><td><strong>컨테이너 런타임</strong></td><td>OCI (Open Container Initiative)</td><td>컨테이너 표준 정의</td><td>프로세스 격리 및 실행 환경</td><td>Docker, containerd, CRI-O</td></tr><tr><td><strong>오케스트레이션</strong></td><td>CRI (Container Runtime Interface)</td><td>컨테이너 런타임 추상화</td><td>프로세스 생명주기 관리</td><td>Kubernetes, OpenShift</td></tr><tr><td><strong>서비스 메시</strong></td><td>Envoy Proxy</td><td>네트워크 프록시</td><td>프로세스 간 통신 제어</td><td>Istio, AWS App Mesh</td></tr><tr><td><strong>관측성</strong></td><td>OpenTelemetry</td><td>분산 추적 표준</td><td>프로세스 간 호출 추적</td><td>Jaeger, Zipkin</td></tr><tr><td><strong>리소스 관리</strong></td><td>cgroup v2</td><td>리소스 제어</td><td>프로세스별 리소스 할당</td><td>systemd, Docker</td></tr><tr><td><strong>보안</strong></td><td>SELinux/AppArmor</td><td>접근 제어</td><td>프로세스별 보안 정책</td><td>Red Hat, Ubuntu</td></tr></tbody></table><h4 id=최신-기술-트렌드와-미래-방향>최신 기술 트렌드와 미래 방향<a hidden class=anchor aria-hidden=true href=#최신-기술-트렌드와-미래-방향>#</a></h4><table><thead><tr><th>카테고리</th><th>트렌드/방향</th><th>핵심 아이디어</th><th>대표 기술/표준</th><th>실무 효과</th><th>근거</th></tr></thead><tbody><tr><td>격리·실행</td><td>경량 격리 심화</td><td>보안경계 유지 + 콜드스타트/밀도 최적화</td><td><strong>Firecracker microVM</strong>, Isolate(Workers), <strong>WASM+WASI</strong></td><td>비용↓, 지연↓, 멀티테넌시↑</td><td>([GitHub][1], [groundcover.com][3], [knative.dev][10])</td></tr><tr><td>스케일링</td><td>이벤트·동시성·지연 인지 오토스케일</td><td>큐/동시성/지연 기반 확장·축소</td><td><strong>KEDA</strong>, <strong>Knative KPA/HPA</strong>, Envoy RateLimit/어드미션</td><td>SLO 준수, 과부하 방어</td><td>([testdriven.io][6], [Raspberry Pi Forums][7])</td></tr><tr><td>동시성</td><td>런타임 레벨 동시성 강화</td><td>동기 스타일 유지하며 고동시성</td><td><strong>Java Virtual Threads</strong>, <strong>Python Free-threaded(PEP703)</strong></td><td>개발 난이도↓, 스루풋↑</td><td>([Discussions on Python.org][9])</td></tr><tr><td>메쉬/네트워킹</td><td>사이드카리스 & eBPF 화</td><td>데이터플레인 커널 이관/분리</td><td><strong>Istio Ambient</strong>, <strong>Cilium eBPF</strong></td><td>지연/오버헤드↓, 운영 단순화</td><td>([The Cloudflare Blog][5], [DEV Community][4])</td></tr><tr><td>관측성</td><td>표준화·기본 탑재</td><td>코드·플랫폼 간 가시성 통일</td><td><strong>OpenTelemetry</strong></td><td>장애 MTTR↓, 공통 대시보드</td><td>([AWS Documentation][8])</td></tr><tr><td>엣지</td><td>지리적 근접 실행</td><td>전세계 POP 에서 경량 실행</td><td>Workers(Isolate), <strong>WASM on K8s(runwasi/WasmEdge)</strong></td><td>RTT↓, 스케일 탄력↑</td><td>([groundcover.com][3])</td></tr></tbody></table><p>2025 년 관점에서 " 프로세스 모델 " 은 컨테이너 중심에서 <strong>마이크로 VM/Isolate/WASM</strong>까지 스펙트럼이 확장되며, <strong>오토스케일·관측성·SLO 보호</strong>가 기본 설계값이 되었다. 언어 런타임은 <strong>개발 경험을 해치지 않으면서</strong> 동시성·성능을 끌어올리는 방향으로 수렴 중이다.</p><h4 id=프로세스-스케줄링-알고리즘-process-scheduling-algorithms>프로세스 스케줄링 알고리즘 (Process Scheduling Algorithms)<a hidden class=anchor aria-hidden=true href=#프로세스-스케줄링-알고리즘-process-scheduling-algorithms>#</a></h4><p>운영체제에서 CPU 를 어떤 프로세스에 할당할지 결정하는 알고리즘이며, 성능과 응답성을 좌우한다.</p><table><thead><tr><th>알고리즘</th><th>방식</th><th>장점</th><th>단점</th><th>적용 사례</th></tr></thead><tbody><tr><td>FCFS (First-Come, First-Served)</td><td>도착 순서대로 실행</td><td>구현 단순</td><td>대기 시간이 길어짐 (Convoy effect)</td><td>배치 처리</td></tr><tr><td>SJF (Shortest Job First)</td><td>실행 시간 짧은 작업 우선</td><td>평균 대기시간 짧음</td><td>실행 시간 예측 어려움</td><td>CPU 바운드 작업</td></tr><tr><td>RR (Round Robin)</td><td>동일 타임 슬라이스로 순환</td><td>응답성 향상</td><td>컨텍스트 스위칭 오버헤드</td><td>타임쉐어링</td></tr><tr><td>Priority Scheduling</td><td>우선순위 높은 작업 우선</td><td>중요한 작업 우선 처리</td><td>낮은 우선순위 기아 (starvation) 가능</td><td>실시간 시스템</td></tr><tr><td>Multilevel Queue</td><td>큐별 스케줄링</td><td>유연한 정책 적용</td><td>큐 간 이동 불가 시 비효율</td><td>멀티유형 작업 환경</td></tr></tbody></table><h4 id=프로세스-동기화-기법-process-synchronization-techniques>프로세스 동기화 기법 (Process Synchronization Techniques)<a hidden class=anchor aria-hidden=true href=#프로세스-동기화-기법-process-synchronization-techniques>#</a></h4><p>멀티프로세스 환경에서 데이터 일관성 (Data Consistency) 을 보장하기 위한 방법.</p><table><thead><tr><th>기법</th><th>설명</th><th>장점</th><th>단점</th><th>활용 예</th></tr></thead><tbody><tr><td>세마포어 (Semaphore)</td><td>정수 카운터로 접근 제어</td><td>단순하고 효과적</td><td>데드락 가능성</td><td>파일 접근 제어</td></tr><tr><td>뮤텍스 (Mutex)</td><td>이진락 (binary lock) 기반</td><td>상호 배타성 보장</td><td>잘못된 사용 시 교착상태</td><td>쓰레드 안전성 확보</td></tr><tr><td>모니터 (Monitor)</td><td>조건 변수 이용한 동기화 객체</td><td>구조화된 설계</td><td>언어 종속성</td><td>Java 동기화 블록</td></tr><tr><td>스핀락 (Spinlock)</td><td>자원 확보 시까지 반복 확인</td><td>짧은 대기 시간에 적합</td><td>CPU 낭비 가능</td><td>커널 동기화</td></tr></tbody></table><h4 id=프로세스-간-통신-ipc-inter-process-communication>프로세스 간 통신 (IPC, Inter-Process Communication)<a hidden class=anchor aria-hidden=true href=#프로세스-간-통신-ipc-inter-process-communication>#</a></h4><p>기본적인 파이프/소켓 외에 실무에서 널리 쓰이는 고급 IPC 방식</p><table><thead><tr><th>방식</th><th>특징</th><th>장점</th><th>단점</th><th>활용 분야</th></tr></thead><tbody><tr><td>공유 메모리 (Shared Memory)</td><td>메모리 공간 공유</td><td>빠른 데이터 교환</td><td>동기화 필요</td><td>DB 캐시, 고속 메시징</td></tr><tr><td>메시지 큐 (Message Queue)</td><td>큐 기반 비동기 통신</td><td>비동기 처리</td><td>큐 오버플로우 가능</td><td>분산 처리, 비동기 작업</td></tr><tr><td>네임드 파이프 (Named Pipe)</td><td>파일 시스템 경유</td><td>플랫폼 간 공유 가능</td><td>성능 저하</td><td>클라이언트 - 서버</td></tr><tr><td>소켓 (Socket)</td><td>네트워크 기반</td><td>다중 호스트 가능</td><td>TCP/UDP 오버헤드</td><td>네트워크 서비스</td></tr></tbody></table><h4 id=프로세스-격리-메커니즘-상세>프로세스 격리 메커니즘 상세<a hidden class=anchor aria-hidden=true href=#프로세스-격리-메커니즘-상세>#</a></h4><table><thead><tr><th>항목</th><th>컨테이너</th><th>가상머신</th></tr></thead><tbody><tr><td>커널 공유 여부</td><td>공유 (호스트 OS 커널 사용)</td><td>미공유 (각 VM 고유 커널)</td></tr><tr><td>격리 수준</td><td>OS 커널 기반 프로세스 격리</td><td>하드웨어 수준 OS 격리</td></tr><tr><td>부팅 시간</td><td>수 초 이내</td><td>수십 초~수 분</td></tr><tr><td>자원 오버헤드</td><td>낮음</td><td>높음 (게스트 OS 포함)</td></tr><tr><td>보안 격리 강도</td><td>중간 (커널 취약점 영향 가능)</td><td>높음 (커널 완전 분리)</td></tr><tr><td>실행 효율성</td><td>높음</td><td>상대적으로 낮음</td></tr></tbody></table><ul><li><strong>보안 측면</strong>: VM 이 커널까지 완전히 분리하므로, 커널 취약점의 교차 영향이 적다.</li><li><strong>성능 측면</strong>: 컨테이너가 훨씬 경량이고, 빠르게 기동됩니다.</li><li><strong>운영 측면</strong>: 컨테이너는 마이크로서비스, CI/CD, 확장성 환경에 적합하며, VM 은 강력한 격리와 이기종 OS 환경에 적합합니다.</li></ul><pre class=mermaid>graph TD
    subgraph 컨테이너
        HostKernel[호스트 OS 커널]
        Container1[컨테이너 1 프로세스]
        Container2[컨테이너 2 프로세스]
        HostKernel --&gt; Container1
        HostKernel --&gt; Container2
    end

    subgraph VM
        Hypervisor[하이퍼바이저]
        GuestOS1[게스트 OS 1 + 프로세스]
        GuestOS2[게스트 OS 2 + 프로세스]
        Hypervisor --&gt; GuestOS1
        Hypervisor --&gt; GuestOS2
    end
</pre><h5 id=컨테이너>컨테이너<a hidden class=anchor aria-hidden=true href=#컨테이너>#</a></h5><p>컨테이너는 <strong>호스트 OS 커널을 공유</strong>하면서, 각 컨테이너 내부의 프로세스를 독립적으로 보이게 만든다.</p><p>이를 위해 다음 메커니즘을 사용한다.</p><ol><li><p><strong>Linux Namespace</strong></p><ul><li><code>PID namespace</code>: 프로세스 ID 공간 분리</li><li><code>UTS namespace</code>: 호스트명/도메인 분리</li><li><code>NET namespace</code>: 네트워크 인터페이스/IP 분리</li><li><code>MNT namespace</code>: 파일시스템 마운트 포인트 분리</li><li><code>IPC namespace</code>: 프로세스 간 통신 채널 분리</li><li><code>USER namespace</code>: UID/GID 매핑 및 권한 분리</li></ul></li><li><p><strong>Cgroups(Control Groups)</strong></p><ul><li>CPU, 메모리, I/O 사용량 제한</li><li>자원 경쟁 방지 및 QoS 보장</li></ul></li><li><p><strong>Security Modules</strong></p><ul><li>AppArmor, SELinux, seccomp 등을 통한 시스템콜 필터링</li></ul></li></ol><h5 id=가상머신>가상머신<a hidden class=anchor aria-hidden=true href=#가상머신>#</a></h5><p>가상머신은 <strong>하이퍼바이저를 통해 전체 하드웨어를 가상화</strong>하고, 각각 독립된 OS 를 실행.</p><ol><li><p><strong>하이퍼바이저 (Hypervisor)</strong></p><ul><li>Type 1 (Bare Metal): ESXi, Hyper-V, Xen → 하드웨어 직접 제어</li><li>Type 2 (Hosted): VirtualBox, VMware Workstation → 호스트 OS 위에서 실행</li><li>VM 의 CPU, 메모리, 디스크, 네트워크를 가상화하여 제공</li></ul></li><li><p><strong>게스트 OS 커널 격리</strong></p><ul><li>각 VM 은 자신만의 커널을 갖고 동작 → 커널 수준 자원 및 권한 완전 분리</li><li>하드웨어 인터럽트, I/O 요청 등도 하이퍼바이저를 통해 중재</li></ul></li><li><p><strong>가상 디바이스</strong></p><ul><li>가상 네트워크 카드, 가상 디스크 등을 통해 물리 자원과 완전 격리</li></ul></li></ol><h4 id=kubernetes-환경에서의-프로세스컨테이너-라이프사이클>Kubernetes 환경에서의 프로세스·컨테이너 라이프사이클<a hidden class=anchor aria-hidden=true href=#kubernetes-환경에서의-프로세스컨테이너-라이프사이클>#</a></h4><p>Kubernetes(K8s) 는 컨테이너 오케스트레이션 플랫폼으로, 컨테이너 실행부터 종료까지의 전 과정을 <strong>Pod 단위</strong>로 관리한다.<br>이 라이프사이클에는 <strong>컨테이너 내부 프로세스</strong>의 생성과 종료가 포함되며, 이벤트/헬스체크/리소스 정책에 따라 제어된다.</p><h5 id=전체-흐름-pod--컨테이너--프로세스>전체 흐름 (Pod & 컨테이너 & 프로세스)<a hidden class=anchor aria-hidden=true href=#전체-흐름-pod--컨테이너--프로세스>#</a></h5><p>K8s 에서는 컨테이너의 라이프사이클이 크게 다음 단계를 거친다.</p><table><thead><tr><th>단계</th><th>Kubernetes 관점 (Pod/Container)</th><th>OS 관점 (프로세스)</th></tr></thead><tbody><tr><td>1. 스케줄링 (Scheduling)</td><td>Scheduler 가 Pod 를 Node 에 배치</td><td>아직 프로세스 없음</td></tr><tr><td>2. Pull</td><td>kubelet 이 Container Image Pull</td><td>이미지 레이어 준비</td></tr><tr><td>3. Create</td><td>Container 생성 요청 → 런타임 (Docker, containerd)</td><td>네임스페이스/ cgroup 생성</td></tr><tr><td>4. Start</td><td>Entrypoint 프로세스 실행 (<code>PID 1</code>)</td><td>메인 프로세스 생성</td></tr><tr><td>5. Running</td><td>헬스체크 통과 시 서비스 트래픽 처리</td><td>서브 프로세스 생성 가능</td></tr><tr><td>6. PreStop</td><td>종료 훅 실행</td><td>종료 스크립트 수행</td></tr><tr><td>7. Terminating</td><td>SIGTERM → 종료 유예 → SIGKILL</td><td>프로세스 정리, cgroup 해제</td></tr><tr><td>8. Deleted</td><td>Pod 메타데이터 삭제</td><td>모든 프로세스 종료, 네임스페이스 해제</td></tr></tbody></table><h5 id=상세-동작-예시-kubernetes-pod--linux-프로세스>상세 동작 예시 (Kubernetes Pod → Linux 프로세스)<a hidden class=anchor aria-hidden=true href=#상세-동작-예시-kubernetes-pod--linux-프로세스>#</a></h5><p>예를 들어 <strong>FastAPI 컨테이너</strong>를 K8s 에서 실행하면:</p><ol><li><strong>Pod 생성 요청</strong> → kube-apiserver → etcd 에 상태 저장</li><li><strong>kube-scheduler</strong>가 적절한 Node 에 할당</li><li><strong>kubelet</strong>이 containerd/Docker 에 컨테이너 생성 요청</li><li>컨테이너 런타임이<ul><li>PID namespace, MNT namespace, NET namespace, IPC namespace 생성</li><li>Cgroups 로 CPU/메모리 제한 적용</li></ul></li><li>컨테이너 내부에서 <strong><code>uvicorn main:app</code></strong> 프로세스 (PID 1) 실행</li><li>앱이 요청 처리</li><li>Pod 삭제 시 <strong>SIGTERM</strong> → <strong>grace period</strong> (기본 30s) → 미종료 시 SIGKILL</li><li>리소스 해제 후 Pod/프로세스 완전 종료</li></ol><h5 id=시퀀스-다이어그램>시퀀스 다이어그램<a hidden class=anchor aria-hidden=true href=#시퀀스-다이어그램>#</a></h5><pre class=mermaid>sequenceDiagram
    participant User as 사용자
    participant K8s as Kubernetes API Server
    participant Kubelet as kubelet
    participant Runtime as Container Runtime
    participant OS as Linux Kernel

    User-&gt;&gt;K8s: Pod 생성 요청
    K8s-&gt;&gt;Kubelet: 스케줄링 및 생성 명령
    Kubelet-&gt;&gt;Runtime: 컨테이너 생성 요청
    Runtime-&gt;&gt;OS: 네임스페이스 &amp; cgroup 설정
    OS--&gt;&gt;Runtime: 환경 준비 완료
    Runtime-&gt;&gt;OS: PID 1(메인 프로세스) 실행
    OS--&gt;&gt;Runtime: 프로세스 실행 중
    User-&gt;&gt;K8s: Pod 삭제 요청
    K8s-&gt;&gt;Kubelet: 종료 명령
    Kubelet-&gt;&gt;Runtime: SIGTERM 전송
    Runtime-&gt;&gt;OS: 프로세스 종료
    OS--&gt;&gt;Runtime: 리소스 해제 완료
</pre><hr><h5 id=운영상-핵심-포인트>운영상 핵심 포인트<a hidden class=anchor aria-hidden=true href=#운영상-핵심-포인트>#</a></h5><ul><li><strong>PID 1 프로세스 관리</strong>: PID 1 은 Unix 시그널 처리와 좀비 프로세스 정리를 직접 수행해야 함</li><li><strong>Graceful Shutdown</strong>: SIGTERM 후 정리 작업, DB 연결 종료, 메시지 큐 Ack 처리 필요</li><li><strong>liveness/readiness probe</strong>: K8s 가 프로세스 상태를 모니터링해 장애 감지</li><li><strong>리소스 제한</strong>: Cgroups 설정으로 CPU/MEM 제한 → Node 자원 경쟁 방지</li><li><strong>로그/모니터링</strong>: stdout/stderr 기반 로깅 + Prometheus 메트릭 노출</li></ul><h5 id=사례-기반-비교로컬-docker-vs-kubernetes>사례 기반 비교—로컬 Docker vs. Kubernetes<a hidden class=anchor aria-hidden=true href=#사례-기반-비교로컬-docker-vs-kubernetes>#</a></h5><table><thead><tr><th>항목</th><th>로컬 Docker</th><th>Kubernetes</th></tr></thead><tbody><tr><td>스케줄링</td><td>수동 (docker run)</td><td>자동 (Scheduler)</td></tr><tr><td>종료 신호</td><td>Ctrl+C → SIGINT</td><td>SIGTERM → Grace Period → SIGKILL</td></tr><tr><td>헬스체크</td><td>없음</td><td>liveness/readiness/startup probe</td></tr><tr><td>자원 제한</td><td>수동 옵션 필요</td><td>Pod spec 에서 정의</td></tr><tr><td>복구</td><td>수동 재시작</td><td>ReplicaSet/Deployment 자동 재시작</td></tr></tbody></table><hr><h2 id=정리-및-학습-가이드>정리 및 학습 가이드<a hidden class=anchor aria-hidden=true href=#정리-및-학습-가이드>#</a></h2><h3 id=내용-정리>내용 정리<a hidden class=anchor aria-hidden=true href=#내용-정리>#</a></h3><ul><li><strong>정의</strong>: 프로세스 = 실행 중인 프로그램 (코드 + 데이터 + 컨텍스트).</li><li><strong>수명주기</strong>: 생성 (<code>fork</code>), 실행 (스케줄링), 치환 (<code>exec</code>), 종료/회수 (<code>wait</code>).</li><li><strong>자원 관리</strong>: CPU·메모리·I/O·핸들·권한을 OS 가 할당/통제.</li><li><strong>격리/보안</strong>: 주소공간 분리, 권한, <strong>namespaces/cgroups</strong> 기반 제어.</li><li><strong>현대 동향</strong>: 컨테이너/쿠버네티스, 서버리스의 실행 유닛, 엣지 분산 실행, <strong>WASI</strong>를 통한 안전한 유니버설 인터페이스.</li></ul><p>프로세스는 운영체제가 제공하는 가장 기본적인 실행 추상화로, <strong>실행 중인 프로그램</strong> 전체 (코드, 주소공간, 스레드·레지스터 컨텍스트, 열린 파일/소켓 등) 를 의미한다.<br>이 추상화 덕분에 OS 는 다중 프로그램을 <strong>격리</strong>하고, 각자에 <strong>CPU·메모리·I/O 자원을 스케줄링</strong>해 안정적으로 수행시킨다.<br>POSIX 는 <code>fork()</code> 로 복제하고 <code>exec()</code> 로 다른 프로그램으로 치환하며 <code>wait()</code> 로 종료 상태를 수거하는 표준 인터페이스를 제공해, 이식 가능한 프로세스 수명주기를 정의한다.</p><p>현대 인프라에서 프로세스 관리는 더욱 중요하다.<br>컨테이너는 <strong>리눅스 네임스페이스</strong>로 보이는 자원을 분리하고 <strong>cgroups</strong>로 CPU·메모리·IO 사용량을 제한/모니터링함으로써 경량 격리를 실현한다. 이는 클라우드 네이티브·쿠버네티스 시대의 표준 실행 단위를 떠받치는 핵심 메커니즘이다.</p><p>동시에, <strong>WASM/WASI</strong>는 브라우저·서버·엣지에 걸쳐 안전한 시스템 인터페이스를 표준화하며, 언어와 플랫폼을 초월하는 새로운 " 프로세스 유사 " 실행 서브스트레이트를 확장하고 있다.<br>결과적으로 프로세스는 고전 이론을 넘어, <strong>격리·자원통제·이식성</strong>이라는 속성으로 현대 아키텍처의 실무 기반을 형성한다. 이 이해는 컨테이너 최적화, 서버리스 콜드스타트 대응, 엣지 오케스트레이션 등 최신 과제 해결의 출발점이다.</p><ul><li><strong>왜 중요한가</strong>: 프로세스는 복수의 프로그램을 안전하게 함께 돌리게 하는 <strong>격리·자원·스케줄링</strong>의 단일 프레임이다.</li><li><strong>어떻게 다루는가</strong>: 표준화된 생성/치환/종료 인터페이스 (POSIX) 를 통해 수명주기를 제어하고, 운영체제의 스케줄러·메모리 관리자와 협력한다.</li><li><strong>오늘날 어디에 쓰이는가</strong>: 컨테이너 격리 (namespaces) 와 자원 제한 (cgroups) 이 프로세스 수준에서 동작하여, 클라우드 네이티브 실행단위를 구성한다.</li><li><strong>내일을 위한 확장</strong>: WASI 는 안전한 시스템 인터페이스를 표준화해, 다양한 환경에서 일관된 런타임을 제공하는 방향으로 진화 중이다.</li></ul><h3 id=학습-로드맵>학습 로드맵<a hidden class=anchor aria-hidden=true href=#학습-로드맵>#</a></h3><table><thead><tr><th>단계</th><th>기간 가이드</th><th>학습 목표</th><th>핵심 주제</th><th>필수 실습</th><th>산출물/평가 포인트</th></tr></thead><tbody><tr><td>1. 기초</td><td>1–2 주</td><td>프로세스 기본기 확립</td><td>프로세스/스레드, 상태 전이, PCB, 컨텍스트 스위치, fork/exec/wait, COW</td><td><code>pstree</code>, <code>strace</code> 로 <code>fork→exec</code> 흐름 추적</td><td>" 프로세스 생명주기 리포트 " (시퀀스 + 로그 증빙)</td></tr><tr><td>2. 핵심</td><td>2–3 주</td><td>CPU·IPC·동기화 이해</td><td>CFS, <code>nice</code>, affinity/NUMA 개론, 파이프/소켓/공유메모리/메시지큐, Mutex/Semaphore/데드락</td><td>파이프라인 필터, 도메인 소켓 에코 서버, 데드락 재현·해결</td><td>&ldquo;IPC 비교 노트 " (지연/처리량/코드)</td></tr><tr><td>3. 응용</td><td>3–4 주</td><td>멀티프로세스 설계·자원 제어</td><td>pre-fork, 프로세스 풀, 작업 분산, cgroups v2</td><td>pre-fork HTTP 에코 서버 (+ 풀 크기 튜닝), <code>systemd-run</code> 으로 cgroup 한도 실험</td><td>" 스루풋 vs 지연 곡선 " 그래프</td></tr><tr><td>4. 운영</td><td>2–3 주</td><td>서비스 운영/관측/보안</td><td>systemd Unit/Timer/Restart, PM2, K8s requests/limits & probes, PSI·perf·bpftrace, seccomp/cap</td><td>서비스 유닛 작성·배포, K8s HPA/프로브, PSI 기반 경보</td><td>" 운영 플레이북 " (장애 대응 절차 + 대시보드 캡처)</td></tr><tr><td>5. 고급</td><td>2–3 주</td><td>커널 레벨 튜닝·분석</td><td>eBPF(스케줄/IO/네트워크), flame graph, RT 스케줄링, NUMA 바인딩, deadline</td><td><code>bpftrace</code> 원라이너로 syscall/스케줄링 추적, <code>numactl</code> 핀닝</td><td>" 지연 해부 리포트 " (p99 개선 전/후 비교)</td></tr></tbody></table><h3 id=실무-적용-가이드>실무 적용 가이드<a hidden class=anchor aria-hidden=true href=#실무-적용-가이드>#</a></h3><table><thead><tr><th>카테고리</th><th>대상</th><th>필수 도구/기술</th><th>핵심 체크리스트</th><th>실패 신호 (관측 지표)</th></tr></thead><tbody><tr><td>모니터링/관측</td><td>운영자</td><td>top/htop/ps, pidstat, eBPF, 로그 수집</td><td>CPU/메모리/FD/스레드 수, 큐 지연 대시보드</td><td>p95/p99 급등, FD 고갈, 컨텍스트 스위칭 급증</td></tr><tr><td>자원 한도</td><td>운영자</td><td>ulimit, cgroups v2, systemd</td><td><code>LimitNOFILE</code>, <code>MemoryMax</code>, <code>CPUQuota</code></td><td>OOMKilled, nproc/nofile 에러</td></tr><tr><td>동시성 설계</td><td>개발자</td><td>프로세스 풀/스레드 풀, 이벤트 루프</td><td>CPU 는 프로세스, I/O 는 비동기 + 워커</td><td>이벤트 루프 블로킹, 스레드 고갈</td></tr><tr><td>IPC/데이터</td><td>개발자</td><td>소켓/파이프/공유메모리</td><td>프로토콜/버퍼링/백프레셔 설계</td><td>큐 지연, 재전송/타임아웃 증가</td></tr><tr><td>배포/가용성</td><td>아키텍트</td><td>systemd/K8s, 롤링/블루그린</td><td>Restart 정책, 헬스체크, preStop</td><td>CrashLoopBackOff, 에러율 스파이크</td></tr><tr><td>보안</td><td>아키텍트</td><td>Capabilities, seccomp, NS</td><td>최소 권한, readOnlyRootFS</td><td>권한 오류, 컨테이너 탈출 시도 탐지</td></tr></tbody></table><p><strong>핵심 요약 (문장)</strong></p><ul><li>CPU 바운드는 <strong>프로세스 풀</strong>, I/O 바운드는 <strong>이벤트 루프 + 워커 오프로딩</strong>이 기본.</li><li>운영 안정성은 <strong>자원 상한 (cgroups/ulimit)</strong>, <strong>헬스체크</strong>, <strong>그레이스풀 셧다운</strong>, **관측 지표 (p95/p99·FD·큐 지연)**로 담보한다.</li><li>아키텍처 관점에선 <strong>프로세스 경계</strong>로 장애·보안·자원을 격리하고, <strong>무중단 배포</strong>와 <strong>최소 권한</strong>을 기본 전략으로 삼는다.</li></ul><h4 id=역할별-체크리스트>역할별 체크리스트<a hidden class=anchor aria-hidden=true href=#역할별-체크리스트>#</a></h4><ul><li><p><strong>시스템 운영자</strong></p><ul><li>모니터링: <code>top/htop/ps</code>, <code>pidstat</code>, <code>ss/lsof</code>, 로그 로테이션 상태</li><li>자원 상한: <code>ulimit -n</code>(nofile), <code>-u</code>(nproc), cgroups v2(CPU/Memory/IO)</li><li>서비스 관리: systemd Unit 의 <code>Restart</code>, <code>LimitNOFILE</code>, <code>MemoryMax</code>, <code>CPUQuota</code> 설정</li><li>장애 대응: 코어덤프/심볼, 재현 스크립트, eBPF 로 원인 추적</li></ul></li><li><p><strong>개발자</strong></p><ul><li>동시성: CPU 바운드는 <strong>프로세스 풀</strong>, I/O 바운드는 <strong>이벤트 루프 + 워커 스레드</strong>로 오프로딩</li><li>IPC: 파이프/소켓/공유메모리 선택 기준 (대역폭·지연·격리)</li><li>메모리: 메모리 프로파일링 (누수/단편화), 데이터 구조 선택 (복제 최소화)</li><li>회복력: 재시도·백오프, 타임아웃, 멱등 처리</li></ul></li><li><p><strong>아키텍트</strong></p><ul><li>경계 설계: 프로세스 단위 격리 (장애 격리/자원 격리/보안 경계)</li><li>스케일링: 수평 확장 (프로세스/컨테이너 수), 상태 저장부 분리</li><li>배포: 롤링/블루그린, 컨피그/시크릿 분리, 이미지 불변성</li><li>보안: 최소 권한 (Capabilities drop), seccomp 프로파일, 네임스페이스 격리</li></ul></li></ul><h4 id=워크로드별-패턴>워크로드별 패턴<a hidden class=anchor aria-hidden=true href=#워크로드별-패턴>#</a></h4><ul><li><p><strong>CPU 바운드</strong></p><ul><li>전략: 프리포크/프로세스 풀 (코어 수 기준 <code>workers ≈ CPU*1~2</code>), <strong>Affinity</strong>로 L3 캐시 지역성 향상</li><li>관리: 주기적 <strong>리사이클</strong>(누수/단편화 방지), 긴 연산은 배치·큐로 분리</li></ul></li><li><p><strong>I/O 바운드</strong></p><ul><li>전략: 이벤트 루프 (논블로킹), <strong>블로킹 호출은 워커로 위임</strong></li><li>커넥션: 커넥션 풀, 타임아웃, 백프레셔, 재시도에 지터</li></ul></li><li><p><strong>혼합형</strong></p><ul><li>전략: I/O 는 이벤트 루프, 무거운 CPU 는 별도 프로세스/워커로 분리</li><li>관측: 단계별 p95/p99, 큐 지연, 처리율을 대시보드화</li></ul></li></ul><h4 id=컨테이너오케스트레이션-특화>컨테이너·오케스트레이션 특화<a hidden class=anchor aria-hidden=true href=#컨테이너오케스트레이션-특화>#</a></h4><ul><li><strong>PID1/좀비 처리</strong>: <code>tini</code>/<code>--init</code> 사용 또는 애플리케이션에서 자식 reaping</li><li><strong>자원 한도</strong>: 요청/제한 (Requests/Limits), <code>terminationGracePeriodSeconds</code> 준수</li><li><strong>헬스체크</strong>: liveness/readiness, preStop 훅 + <strong>그레이스풀 셧다운</strong></li><li><strong>보안 컨텍스트</strong>: readOnlyRootFS, non-root, Capabilities 최소화</li></ul><h3 id=학습-항목-정리>학습 항목 정리<a hidden class=anchor aria-hidden=true href=#학습-항목-정리>#</a></h3><table><thead><tr><th>카테고리</th><th style=text-align:right>Phase</th><th>항목</th><th>중요도</th><th>학습 목표</th><th>실무 연관성</th><th>설명</th></tr></thead><tbody><tr><td>기초</td><td style=text-align:right>1</td><td>프로세스/PCB/상태</td><td>필수</td><td>구조/상태·문맥 이해</td><td>높음</td><td>ZOMBIE/ORPHAN 포함</td></tr><tr><td>기초</td><td style=text-align:right>1</td><td>사용자/커널 모드·시스템콜</td><td>필수</td><td>경계 비용/보안 이해</td><td>높음</td><td>syscall 경로</td></tr><tr><td>핵심</td><td style=text-align:right>2</td><td>스케줄링 (CFS/MLFQ/RT)</td><td>필수</td><td>공정성·지연 관리</td><td>높음</td><td>CPU 타임 관리</td></tr><tr><td>핵심</td><td style=text-align:right>2</td><td>메모리 (COW/페이징/TLB)</td><td>필수</td><td>메모리 효율/성능</td><td>높음</td><td>COW fork</td></tr><tr><td>핵심</td><td style=text-align:right>2</td><td>IPC/Signal</td><td>필수</td><td>통신/제어</td><td>높음</td><td>파이프/소켓/공유/메시지큐</td></tr><tr><td>특성</td><td style=text-align:right>3</td><td>트레이드오프/병목 (PSI)</td><td>권장</td><td>병목 진단 체계</td><td>중간</td><td>HoL/락경합</td></tr><tr><td>구현</td><td style=text-align:right>4</td><td>생성/풀/프리포크</td><td>필수</td><td>워커 설계·운영</td><td>높음</td><td>pre-fork/pool</td></tr><tr><td>구현</td><td style=text-align:right>4</td><td>리소스 제한/FD/ulimit</td><td>필수</td><td>안정성 확보</td><td>높음</td><td>고갈 방지</td></tr><tr><td>구현</td><td style=text-align:right>4</td><td>모니터링 (perf/eBPF)</td><td>권장</td><td>원인 분석</td><td>중간</td><td>저오버헤드 추적</td></tr><tr><td>응용</td><td style=text-align:right>5</td><td>웹/API·ETL 적용</td><td>권장</td><td>실전 패턴 적용</td><td>높음</td><td>모델 선택</td></tr><tr><td>운영</td><td style=text-align:right>6</td><td>관측성/보안/격리</td><td>필수</td><td>운영 품질 강화</td><td>높음</td><td>OTel/SELinux/cgroups</td></tr><tr><td>운영</td><td style=text-align:right>6</td><td>튜닝 (NUMAAffinity)</td><td>권장</td><td>p95 안정화</td><td>중간</td><td>바인딩·핀 ning</td></tr><tr><td>고급</td><td style=text-align:right>7</td><td>컨테이너/K8s·서버리스</td><td>선택</td><td>클라우드 네이티브</td><td>높음</td><td>오케스트레이션</td></tr><tr><td>고급</td><td style=text-align:right>7</td><td>eBPF/RT/PSI 심화</td><td>선택</td><td>특수 워크로드 대응</td><td>중간</td><td>실시간·압력지표</td></tr></tbody></table><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>정의</th><th>관련 개념</th><th>실무 활용</th></tr></thead><tbody><tr><td>핵심</td><td>프로세스 (Process)</td><td>실행 중인 프로그램 인스턴스 (독립 주소 공간·자원 보유)</td><td>스레드, 주소 공간</td><td>서비스 격리, 장애 격벽</td></tr><tr><td>핵심</td><td>PID/PPID</td><td>프로세스 (부모 포함) 식별자</td><td>프로세스 트리</td><td>모니터링·신호 전송·제어</td></tr><tr><td>핵심</td><td>PCB</td><td>PID, 레지스터, 상태, 스케줄링·메모리 메타데이터</td><td>컨텍스트 스위칭</td><td>디버깅·커널 스케줄링 핵심</td></tr><tr><td>생성/종료</td><td>fork</td><td>부모 복제해 자식 생성 (COW 기반)</td><td>exec, COW</td><td>프리포크 서버, 워커 생성</td></tr><tr><td>생성/종료</td><td>execve(exec)</td><td>현재 프로세스를 새 프로그램으로 치환</td><td>ELF, 환경변수</td><td>서버 재기동, 배포 롤링</td></tr><tr><td>생성/종료</td><td>wait()/waitpid()</td><td>자식 종료 수거 (Zombie 방지)</td><td>종료 코드</td><td>프로세스 수명 관리</td></tr><tr><td>생성/종료</td><td>COW</td><td>쓰기 시 실제 페이지 복사</td><td>페이지 폴트</td><td>빠른 fork, 메모리 절약</td></tr><tr><td>스케줄링/CPU</td><td>스케줄러</td><td>CPU 할당 정책 (CFS 등)</td><td>런큐, 타임 슬라이스</td><td>성능·지연 최적화</td></tr><tr><td>스케줄링/CPU</td><td>컨텍스트 스위칭</td><td>실행 프로세스 전환 시 상태 저장/복원</td><td>PCB, TLB flush</td><td>레이턴시·오버헤드 관리</td></tr><tr><td>스케줄링/CPU</td><td>선점/비선점</td><td>실행 중단 가능 여부</td><td>우선순위, 타임 슬라이스</td><td>실시간/일반 워크로드 운영</td></tr><tr><td>스케줄링/CPU</td><td>nice/priority</td><td>스케줄링 가중치 조정</td><td>cgroup cpu.weight</td><td>배치/백그라운드 조절</td></tr><tr><td>스케줄링/CPU</td><td>CPU affinity</td><td>프로세스를 특정 코어에 고정</td><td>NUMA</td><td>캐시 지역성·지연 안정화</td></tr><tr><td>메모리/주소공간</td><td>가상 메모리</td><td>프로세스별 논리 주소 공간</td><td>페이징, 세그멘트</td><td>메모리 격리·안정성</td></tr><tr><td>메모리/주소공간</td><td>mmap(메모리 매핑)</td><td>파일/디바이스를 메모리에 매핑</td><td>공유 메모리</td><td>고성능 I/O, IPC</td></tr><tr><td>메모리/주소공간</td><td>페이지 폴트</td><td>미할당/스왑아웃 페이지 접근 시 트랩</td><td>TLB, 페이징</td><td>성능 분석·튜닝 포인트</td></tr><tr><td>IPC/통신</td><td>파이프/네임드 파이프</td><td>단방향 (익명)/경로 기반 (이름있는) 채널</td><td>쉘 파이프라인</td><td>ETL·필터 체인</td></tr><tr><td>IPC/통신</td><td>소켓</td><td>네트워크/로컬 양방향 통신</td><td>TCP/UDP, 도메인소켓</td><td>서비스 간 통신</td></tr><tr><td>IPC/통신</td><td>공유 메모리</td><td>프로세스 간 메모리 영역 공유</td><td>세마포어</td><td>초저지연 교환</td></tr><tr><td>IPC/통신</td><td>메시지 큐 (POXIS)</td><td>커널 큐 기반 메시지 교환</td><td>우선순위, 블로킹</td><td>제어·이벤트 분리</td></tr><tr><td>IPC/통신</td><td>시그널</td><td>비동기 이벤트 통지</td><td>SIGTERM/SIGKILL</td><td>종료·재시작·핸들링</td></tr><tr><td>동기화/경쟁 제어</td><td>Mutex</td><td>상호 배제 락 (1 동시 접근)</td><td>크리티컬 섹션</td><td>공유자원 보호</td></tr><tr><td>동기화/경쟁 제어</td><td>Semaphore</td><td>카운팅 동기화</td><td>리소스 풀</td><td>동시 처리 상한</td></tr><tr><td>동기화/경쟁 제어</td><td>Deadlock</td><td>상호 대기로 진행 불가</td><td>원자성, 순환대기</td><td>설계·락 순서 규율</td></tr><tr><td>동기화/경쟁 제어</td><td>우선순위 역전/상속</td><td>낮은 우선순위가 높은 우선순위를 막음/완화</td><td>RT 스케줄링</td><td>실시간 안정성</td></tr><tr><td>수명주기/상태</td><td>프로세스 상태</td><td>new/ready/running/blocked/terminated</td><td>스케줄러</td><td>운영 상태 판단</td></tr><tr><td>수명주기/상태</td><td>Zombie/Orphan</td><td>종료되었으나 수거 안 됨/부모 없는 자식</td><td>init(재부모화)</td><td>누수 방지·정리</td></tr><tr><td>컨테이너/격리/보안</td><td>Namespace</td><td>PID/NET/UTS/MNT/IPC/USER/CGROUP</td><td>chroot 와 차이</td><td>컨테이너 격리</td></tr><tr><td>컨테이너/격리/보안</td><td>cgroups v2</td><td>CPU/메모리/IO/PIDs 한도·우선순위</td><td>cpu.max, memory.high</td><td>멀티테넌시 SLO</td></tr><tr><td>컨테이너/격리/보안</td><td>Capabilities</td><td>root 권한 세분화</td><td>CAP_NET_BIND 등</td><td>최소권한 원칙</td></tr><tr><td>컨테이너/격리/보안</td><td>seccomp & MAC</td><td>syscall 필터/MAC(SELinux/AppArmor)</td><td>DAC 대비 강화</td><td>공격면 축소</td></tr><tr><td>모니터링/운영</td><td>Load Average</td><td>실행/대기 태스크의 평균 길이</td><td>런큐, CPU 수</td><td>용량 계획·알람</td></tr><tr><td>모니터링/운영</td><td>PSI</td><td>CPU/메모리/IO 압력 시간 비율</td><td>/proc/pressure</td><td>병목 조기 감지</td></tr><tr><td>모니터링/운영</td><td>OOM Killer</td><td>메모리 부족 시 희생 선정</td><td>점수 (OOM score)</td><td>장애 전파 차단</td></tr><tr><td>실시간/고급</td><td>RT 스케줄링</td><td>SCHED_FIFO/RR/DEADLINE</td><td>우선순위/마감</td><td>임베디드·제어계</td></tr><tr><td>실시간/고급</td><td>마이크로커널</td><td>최소 커널 + 서버 프로세스 구조</td><td>모놀리식 대비</td><td>신뢰 커널·격리 강화</td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><ul><li><a href=https://pubs.opengroup.org/onlinepubs/9699919799/>POSIX.1-2017 Standard (IEEE Std 1003.1-2017)</a></li><li><a href=https://www.kernel.org/doc/html/latest/>Linux Kernel Documentation — Process Management</a></li><li><a href=https://docs.microsoft.com/en-us/windows/win32/procthread/>Microsoft Docs — Windows Process and Thread Functions</a></li><li><a href=https://docs.docker.com/>Docker Official Documentation</a></li><li><a href=https://kubernetes.io/docs/>Kubernetes Documentation</a></li><li><a href=https://pages.cs.wisc.edu/~remzi/OSTEP/>Operating Systems: Three Easy Pieces (OSTEP)</a></li><li><a href=https://www.amazon.com/Modern-Operating-Systems-Andrew-Tanenbaum/dp/013359162X>Modern Operating Systems (Tanenbaum & Bos)</a></li><li><a href=https://www.amazon.com/Advanced-Programming-UNIX-Environment-3rd/dp/0321637739>Advanced Programming in the UNIX Environment (Stevens & Rago)</a></li><li><a href=https://netflixtechblog.com/>Netflix Technology Blog</a></li><li><a href=https://cloud.google.com/architecture>Google Cloud Architecture Center</a></li><li><a href=https://aws.amazon.com/blogs/architecture/>AWS Architecture Blog</a></li><li><a href=https://www.cncf.io/>CNCF (Cloud Native Computing Foundation)</a></li><li><a href=https://github.com/giampaolo/psutil>psutil — Cross-platform Process Utilities</a></li><li><a href=https://systemd.io/>systemd — Init and Service Manager</a></li><li><a href=https://prometheus.io/>Prometheus — Monitoring Toolkit</a></li><li><a href=https://opencontainers.org/>Open Container Initiative (OCI)</a></li><li><a href=https://www.ietf.org/>Internet Engineering Task Force (IETF)</a></li><li><a href=https://stackoverflow.com/>Stack Overflow</a></li><li><a href=https://github.com/>GitHub</a></li></ul><hr></div><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>프로세스 제어 블록(Process Control Block, PCB)</h2></header><div class=entry-content><p>프로세스 제어 블록 (Process Control Block, PCB) PCB(Process Control Block) 는 커널이 프로세스를 식별·관리하기 위한 핵심 자료구조로, 상태, 프로그램 카운터와 레지스터, 스케줄링 정보 (우선순위·affinity), 메모리 관리 정보, 열린 파일/FD, 시그널·크리덴셜, 누적 사용량·타이머 등을 보관한다.
컨텍스트 스위칭 시 PCB 의 스냅샷을 저장·복원해 멀티태스킹을 가능케 하며, 스케줄러·메모리 관리자가 이를 근거로 자원을 배분한다. Linux 등에서는 task_struct 로 구현되며, 컨테이너 환경에선 네임스페이스·cgroups 메타데이터와 결합돼 격리·할당 한도를 강화한다. PCB 는 성능 최적화·추적·보안의 기초가 된다.
핵심 개념 프로세스는 " 실행 중인 프로그램 " 이고, PCB 는 그 신분증 + 의무기록이다.
운영체제는 PCB 를 보고 **누구인지 (식별자), 어디서 실행 중인지 (상태/CPU), 무엇을 쓰는지 (메모리/파일/네트워크), 어떤 권한인지 (UID/GID/cap)**를 판단해 CPU 를 배분하고, 충돌을 막고, 기록을 남긴다.
실무에선 이 메타데이터를 읽고 조정하는 것만으로 지연을 줄이고 (스케줄링), 장애를 막고 (자원한도), 사고를 추적할 수 있다.
...</p></div><footer class=entry-footer><span title='2024-10-02 06:59:00 +0000 UTC'>October 2, 2024</span>&nbsp;·&nbsp;71 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to 프로세스 제어 블록(Process Control Block, PCB)" href=https://buenhyden.github.io/posts/computer-science-fundamentals/operating-systems-fundamentals/process-and-thread-fundamentals/process-vs-thread/process/process-control-block/></a></article></main><script type=module>
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
  </script><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>