<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>DMARC (Domain-based Message Authentication, Reporting, and Conformance) | hyunyoun's Blog</title><meta name=keywords content="Networking-Knowledge,Network-Protocols,Application-Layer-Protocols,Email,Security"><meta name=description content="DMARC는 이메일 인증 프로토콜로, SPF(Sender Policy Framework)와 DKIM(DomainKeys Identified Mail)을 기반으로 작동한다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/computer-science-fundamentals/networking-knowledge/network-protocols/application-layer/email/security/dmarc/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/computer-science-fundamentals/networking-knowledge/network-protocols/application-layer/email/security/dmarc/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/computer-science-fundamentals/networking-knowledge/network-protocols/application-layer/email/security/dmarc/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="DMARC (Domain-based Message Authentication, Reporting, and Conformance)"><meta property="og:description" content="DMARC는 이메일 인증 프로토콜로, SPF(Sender Policy Framework)와 DKIM(DomainKeys Identified Mail)을 기반으로 작동한다."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-14T03:24:00+00:00"><meta property="article:modified_time" content="2024-12-14T03:24:00+00:00"><meta property="article:tag" content="Networking-Knowledge"><meta property="article:tag" content="Network-Protocols"><meta property="article:tag" content="Application-Layer-Protocols"><meta property="article:tag" content="Email"><meta property="article:tag" content="Security"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="DMARC (Domain-based Message Authentication, Reporting, and Conformance)"><meta name=twitter:description content="DMARC는 이메일 인증 프로토콜로, SPF(Sender Policy Framework)와 DKIM(DomainKeys Identified Mail)을 기반으로 작동한다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"기술 블로그","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Computer Science Fundamentals","item":"https://buenhyden.github.io/posts/computer-science-fundamentals/"},{"@type":"ListItem","position":3,"name":"Networking Knowledge","item":"https://buenhyden.github.io/posts/computer-science-fundamentals/networking-knowledge/"},{"@type":"ListItem","position":4,"name":"Network Protocol","item":""},{"@type":"ListItem","position":5,"name":"Application Layer Protocols","item":""},{"@type":"ListItem","position":6,"name":"Email Protocols","item":""},{"@type":"ListItem","position":7,"name":"Security of Email","item":"https://buenhyden.github.io/posts/computer-science-fundamentals/networking-knowledge/network-protocols/application-layer/email/security/"},{"@type":"ListItem","position":8,"name":"DMARC (Domain-based Message Authentication, Reporting, and Conformance)","item":"https://buenhyden.github.io/posts/computer-science-fundamentals/networking-knowledge/network-protocols/application-layer/email/security/dmarc/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"DMARC (Domain-based Message Authentication, Reporting, and Conformance)","name":"DMARC (Domain-based Message Authentication, Reporting, and Conformance)","description":"DMARC는 이메일 인증 프로토콜로, SPF(Sender Policy Framework)와 DKIM(DomainKeys Identified Mail)을 기반으로 작동한다.","keywords":["Networking-Knowledge","Network-Protocols","Application-Layer-Protocols","Email","Security"],"articleBody":"DMARC (Domain-based Message Authentication, Reporting, and Conformance) DMARC는 이메일 인증 프로토콜로, SPF(Sender Policy Framework)와 DKIM(DomainKeys Identified Mail)을 기반으로 작동하는 포괄적인 이메일 보안 솔루션이다. 2012년에 공식적으로 도입된 DMARC는 도메인 소유자가 자신의 도메인에서 보내는 이메일을 보호하고, 다른 사람이 해당 도메인을 사칭하여 이메일을 보내는 것을 방지하는 메커니즘을 제공한다.\nDMARC는 세 가지 핵심 기능을 제공한다:\n인증 정책 설정: 도메인 소유자가 SPF 및 DKIM 인증이 실패할 경우 수신 서버가 어떻게 대응해야 하는지 명확한 지침을 제공할 수 있다. 정렬(Alignment) 확인: 이메일의 ‘From’ 헤더가 SPF 및 DKIM에서 인증된 도메인과 일치하는지 확인한다. 보고 기능: 도메인 소유자에게 자신의 도메인을 사용하여 전송된 모든 이메일(인증 성공 및 실패 모두)에 대한 상세한 보고서를 제공한다. DMARC의 중요성 DMARC는 현대 이메일 보안 인프라에서 다음과 같은 이유로 중요한 역할을 한다:\n피싱 방지: 도메인 사칭을 통한 피싱 공격을 효과적으로 차단한다. 이메일 전달률 향상: 합법적인 이메일이 스팸 폴더로 분류되는 것을 줄이고 전달률을 높인다. 도메인 평판 보호: 사이버 범죄자가 도메인을 악용하여 평판을 손상시키는 것을 방지한다. 가시성 제공: 도메인 소유자에게 자신의 도메인을 사용한 이메일 트래픽에 대한 통찰력을 제공한다. 점진적 구현 지원: 전체 이메일 시스템에 영향을 주지 않고 단계적으로 구현할 수 있다. DMARC 작동 방식 상세 설명 1. DNS 레코드 게시 DMARC는 도메인 소유자가 특수한 DNS TXT 레코드를 게시하는 것으로 시작합니다. 이 레코드는 일반적으로 다음과 같은 형식을 가집니다:\n1 _dmarc.yourdomain.com. IN TXT \"v=DMARC1; p=none; rua=mailto:reports@yourdomain.com\" 여기서:\n_dmarc 접두사는 이것이 DMARC 레코드임을 나타냅니다. v=DMARC1은 DMARC 버전을 지정합니다. p=none은 정책(policy)을 지정합니다(none, quarantine, reject). rua=mailto:reports@yourdomain.com은 집계 보고서를 보낼 이메일 주소를 지정합니다. 2. 인증 과정 이메일이 수신 서버에 도착하면 다음과 같은 단계로 DMARC 검증이 이루어집니다:\nSPF 및 DKIM 검증 수행: 수신 서버는 우선 SPF와 DKIM 검증을 별도로 수행합니다.\n정렬(Alignment) 확인: DMARC는 다음 두 가지 유형의 정렬을 확인합니다:\nSPF 정렬: ‘MAIL FROM’ 도메인이 ‘From’ 헤더의 도메인과 일치하는지 확인 DKIM 정렬: DKIM 서명의 ’d=’ 태그가 ‘From’ 헤더의 도메인과 일치하는지 확인 DMARC 결과 결정:\nSPF 또는 DKIM 중 하나라도 인증에 성공하고 해당하는 정렬이 확인되면 DMARC 검증은 성공합니다. 둘 다 실패하거나 정렬이 확인되지 않으면 DMARC 검증은 실패합니다. 정책 적용: 수신 서버는 도메인의 DMARC 레코드에 지정된 정책에 따라 조치를 취합니다.\n3. 보고 시스템 DMARC는 도메인 소유자에게 두 가지 유형의 보고서를 제공합니다:\n집계 보고서(Aggregate Reports - RUA): 일반적으로 일일 단위로 제공되며, 발신 서버 IP, 인증 결과, 정책 적용 등에 대한 통계 데이터를 포함합니다. XML 형식으로 제공됩니다.\n실패 보고서(Forensic Reports - RUF): 인증에 실패한 개별 이메일에 대한 상세 정보를 제공합니다. 이메일의 전체 헤더와 때로는 일부 본문 콘텐츠가 포함될 수 있습니다.\nDMARC 정책 상세 설명 DMARC 정책은 도메인 소유자가 인증에 실패한 이메일을 어떻게 처리할지 수신 서버에 지시합니다:\n없음(none - p=none):\n아무런 조치를 취하지 않습니다. 모니터링 모드로, 보고서만 수집합니다. DMARC 구현 초기 단계에 권장됩니다. 격리(quarantine - p=quarantine):\n인증에 실패한 이메일을 의심스러운 것으로 처리하도록 요청합니다. 일반적으로 스팸 폴더로 이동됩니다. 시스템에 영향을 주지 않고 정책을 강화하는 중간 단계입니다. 거부(reject - p=reject):\n인증에 실패한 이메일을 완전히 거부하도록 요청합니다. 가장 강력한 보호를 제공하지만, 잘못 구성된 경우 합법적인 이메일이 차단될 수 있습니다. 철저한 테스트 후에만 사용해야 합니다. 하위 도메인 정책 DMARC는 하위 도메인에 대해 별도의 정책을 지정할 수 있습니다:\n1 v=DMARC1; p=none; sp=reject; rua=mailto:reports@yourdomain.com 여기서 sp=reject는 하위 도메인에 대한 정책을 지정합니다.\n백분율 태그 DMARC 정책을 전체 이메일의 일부에만 적용할 수 있습니다:\n1 v=DMARC1; p=reject; pct=10; rua=mailto:reports@yourdomain.com 여기서 pct=10은 인증에 실패한 이메일의 10%에만 정책을 적용하라는 의미입니다.\nDMARC 레코드 태그 상세 설명 DMARC DNS 레코드는 다양한 태그로 구성되며, 각 태그는 특정 기능을 제어합니다:\n태그 설명 예시 v 필수. 프로토콜 버전 v=DMARC1 p 필수. 정책 (none/quarantine/reject) p=reject sp 선택. 하위 도메인 정책 sp=quarantine pct 선택. 정책 적용 백분율 (0-100) pct=20 rua 선택. 집계 보고서 수신 이메일 rua=mailto:reports@example.com ruf 선택. 실패 보고서 수신 이메일 ruf=mailto:forensics@example.com fo 선택. 실패 보고 옵션 fo=1 adkim 선택. DKIM 정렬 모드 (r=relaxed, s=strict) adkim=r aspf 선택. SPF 정렬 모드 (r=relaxed, s=strict) aspf=r ri 선택. 보고서 간격 (초) ri=86400 정렬 모드 설명 정렬 모드는 도메인 일치를 어떻게 평가할지 결정합니다:\n엄격(Strict - s):\n도메인이 정확히 일치해야 합니다. 예: mail.example.com은 example.com과 일치하지 않습니다. 완화(Relaxed - r):\n조직 도메인만 일치하면 됩니다. 예: mail.example.com은 example.com과 일치합니다. 기본값이며 대부분의 경우 권장됩니다. DMARC 구현 단계 효과적인 DMARC 구현을 위한 단계별 접근법:\n1. 현재 상태 평가 전송하는 모든 이메일 소스 식별 (내부 서버, 서드파티 서비스 등) SPF 및 DKIM이 올바르게 구성되었는지 확인 2. 모니터링 모드로 시작 1 v=DMARC1; p=none; rua=mailto:reports@yourdomain.com 영향 없이 데이터 수집 최소 2주 이상 운영 3. 보고서 분석 합법적인 이메일 소스가 SPF 및 DKIM을 통과하는지 확인 실패하는 소스 식별 및 수정 4. 단계적 정책 강화 백분율 태그로 점진적 테스트 1 v=DMARC1; p=quarantine; pct=5; rua=mailto:reports@yourdomain.com 점진적으로 백분율 증가 (5% → 25% → 50% → 100%) 5. 전체 DMARC 거부 정책 구현 1 v=DMARC1; p=reject; rua=mailto:reports@yourdomain.com 철저한 테스트 후 모든 이메일에 적용 DMARC 보고서 이해 및 분석 집계 보고서(RUA) 형식 집계 보고서는 XML 형식으로 제공되며 다음 섹션을 포함합니다:\n보고 메타데이터: 보고 기간, 보고 조직 등 정책 게시자 정보: DMARC 정책이 게시된 도메인 레코드별 데이터: 각 발신 IP 주소에 대한 세부 통계 샘플 구조:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 google.com noreply-dmarc-support@google.com 1234567890123456789 1596240000 1596326399 yourdomain.com r r none\nnone 100 192.0.2.1 5 none pass pass yourdomain.com yourdomain.com pass default yourdomain.com pass 보고서 분석 도구 DMARC 보고서는 XML 형식으로 제공되어 수동으로 분석하기 어렵습니다. 다음과 같은 도구가 분석을 도울 수 있습니다:\n상업용 서비스:\nDmarcian Valimail Agari PowerDMARC Proofpoint 오픈 소스 도구:\nParseDMARC DMARC Analyzer OpenDMARC 보고서에서 확인해야 할 핵심 지표 SPF 및 DKIM 통과율: 도메인의 합법적인 이메일이 모두 통과하는지 확인 주요 실패 원인: SPF 불일치, DKIM 서명 누락, 정렬 실패 등 상위 발신 IP: 합법적인 소스인지 확인 위조 시도: 알려진 발신자가 아닌 경우 잠재적 위조 식별 DMARC와 이메일 전달 문제 이메일 전달은 DMARC 구현 시 특별한 고려가 필요한 영역입니다:\n전달의 문제점 SPF 검증 실패: 전달 시 원래 발신자의 IP 주소가 아닌 전달 서버의 IP 주소로 이메일이 전송됩니다. DKIM 서명 유지: DKIM 서명은 이메일 헤더나 본문이 수정되지 않는 한 전달 과정에서 유효합니다. 해결 방법 ARC(Authenticated Received Chain):\n이메일의 인증 상태를 전달 체인 전체에 걸쳐 보존 전달 과정에서 추가 서명 제공 SRS(Sender Rewriting Scheme):\n‘Return-Path’ 주소를 재작성하여 전달 서버가 SPF를 통과하도록 함 원래 발신자 정보 보존 간접 이메일 흐름 설계:\n전달이 필요한 시스템에 대한 명시적 SPF 허용 전달 시나리오를 고려한 DKIM 구현 DMARC 구현 사례 및 통계 구현 성공 사례 금융 서비스:\n한 대형 은행은 DMARC p=reject 정책 구현 후 피싱 공격이 97% 감소 고객 신뢰 상승 및 지원 문의 감소 정부 부문:\n미국 DHS(Department of Homeland Security)는 모든 연방 기관에 DMARC 구현 의무화 BOD 18-01을 통해 이메일 보안 강화 전자 상거래:\n한 글로벌 리테일러는 DMARC 구현 후 이메일 전달률 12% 향상 브랜드 평판 보호 및 고객 참여 증가 업계 통계 DMARC 도입 추세:\nFortune 500 기업의 약 80%가 DMARC 레코드 보유 그러나 강력한 정책(p=reject)을 사용하는 비율은 약 28%에 불과 효율성 데이터:\np=reject 정책 사용 시 사칭 이메일이 평균 98% 감소 p=none에서 p=reject로 이동하는 데 평균 3-6개월 소요 분야별 도입률:\n금융 서비스: 가장 높은 도입률(약 85%) 의료: 상대적으로 낮은 도입률(약 50%) 공공 부문: 빠르게 증가 중 DMARC와 관련된 새로운 동향 및 기술 BIMI(Brand Indicators for Message Identification) BIMI는 DMARC를 확장하여 인증된 이메일에 브랜드 로고를 표시합니다:\n요구 사항:\n강력한 DMARC 정책(p=quarantine 또는 p=reject) 유효한 DKIM 서명 DNS에 게시된 BIMI 레코드 SVG 형식의 로고 이점:\n브랜드 가시성 향상 수신자의 신뢰 증가 피싱 이메일과의 차별화 TLS-RPT(SMTP TLS Reporting) TLS-RPT는 전송 계층 보안에 초점을 맞춘 보고 메커니즘입니다:\n기능:\nSMTP TLS 연결에 대한 통계 보고 TLS 실패 식별 MTA-STS 정책 검증 DMARC와의 통합:\n이메일 전송 보안의 추가 계층 제공 엔드 투 엔드 이메일 보안 향상 ARC(Authenticated Received Chain) ARC는 이메일 전달 문제를 해결하기 위해 개발되었습니다:\n작동 방식:\n이메일이 전달될 때마다 인증 결과를 체인으로 추가 원래 인증 상태 보존 수신자가 전체 인증 내역 확인 가능 이점:\nDMARC 실패 감소 합법적인 전달된 이메일의 전달률 향상 더 정확한 이메일 인증 DMARC 구현 시 흔한 문제 및 해결 방법 문제 1: 모든 합법적인 소스 식별 문제: 일부 합법적인 이메일 발신자가 DMARC 실패로 차단됨\n해결 방법:\n장기간(최소 30일) p=none 모드로 운영 모든 서드파티 서비스 및 내부 시스템 목록 작성 이메일 흐름 다이어그램 생성 문제 2: 서드파티 서비스 문제: 마케팅, CRM, 지원 서비스 등이 도메인을 사용하지만 SPF/DKIM이 제대로 구성되지 않음\n해결 방법:\n모든 서드파티 공급업체 목록 작성 각 서비스에 대한 SPF 및 DKIM 설정 확인 필요한 경우 통합 이메일 게이트웨이 사용 문제 3: 이메일 전달 문제: 전달된 이메일이 DMARC 검증 실패\n해결 방법:\nARC 지원 확인 중요한 전달 시나리오에 대한 별도 하위 도메인 사용 전달 서버에 SRS 구현 문제 4: 보고서 처리 문제: XML 형식의 대량 DMARC 보고서 처리 어려움\n해결 방법:\n자동화된 보고서 처리 도구 사용 보고서 전달용 별도 이메일 주소 설정 정기적인 보고서 검토 일정 수립 DMARC 모범 사례 구현 모범 사례 단계적 접근법:\np=none → p=quarantine (낮은 pct) → p=quarantine (100%) → p=reject 각 단계에서 충분한 시간을 두고 문제 해결 모니터링 및 분석:\n정기적인 보고서 검토 인증 실패 트렌드 모니터링 주요 성과 지표 설정 도메인 분리:\n마케팅, 거래 및 내부 통신에 대한 별도 하위 도메인 사용 다양한 이메일 유형에 맞게 정책 조정 문서화:\n이메일 인프라 및 흐름 문서화 문제 해결 절차 수립 공급업체 구성 정보 유지 조직적 모범 사례 교차 기능 팀:\nIT, 보안, 마케팅 및 비즈니스 이해관계자 포함 명확한 책임 및 역할 정의 공급업체 관리:\n이메일 서비스 공급업체와의 DMARC 요구 사항 문서화 정기적인 규정 준수 검토 계약에 DMARC 지원 포함 교육 및 인식:\n기술 및 비기술 직원 대상 이메일 보안 교육 DMARC 구현 상태 및 혜택에 대한 정기적인 업데이트 지속적인 개선:\n정기적인 DMARC 상태 검토 새로운 이메일 소스 추적 프로세스 새로운 기술 및 모범 사례 채택 결론 DMARC는 이메일 인증의 세 가지 핵심 기둥(SPF, DKIM, DMARC) 중 하나로, 포괄적인 이메일 보안 프레임워크를 완성합니다. 도메인 소유자에게 명확한 정책 설정, 풍부한 보고 기능, 그리고 도메인 사칭 방지를 위한 강력한 메커니즘을 제공합니다.\nDMARC의 효과적인 구현은 단순한 기술적 과제가 아니라 조직적인 노력이 필요한 과정입니다. 점진적인 접근법, 철저한 테스트, 그리고 지속적인 모니터링을 통해 조직은 이메일 보안을 강화하고, 고객 신뢰를 구축하며, 브랜드 평판을 보호할 수 있습니다.\n현대 디지털 커뮤니케이션 환경에서 DMARC는 더 이상 선택이 아닌 필수가 되고 있으며, 이메일 인증의 미래는 BIMI 및 ARC와 같은 새로운 기술과의 통합을 통해 계속 발전할 것입니다.\n용어 정리 용어 설명 참고 및 출처 ","wordCount":"1648","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-12-14T03:24:00Z","dateModified":"2024-12-14T03:24:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/computer-science-fundamentals/networking-knowledge/network-protocols/application-layer/email/security/dmarc/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>기술 블로그</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/computer-science-fundamentals/>Computer Science Fundamentals</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/computer-science-fundamentals/networking-knowledge/>Networking Knowledge</a>&nbsp;»&nbsp;<a href>Network Protocol</a>&nbsp;»&nbsp;<a href>Application Layer Protocols</a>&nbsp;»&nbsp;<a href>Email Protocols</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/computer-science-fundamentals/networking-knowledge/network-protocols/application-layer/email/security/>Security of Email</a></div><h1 class="post-title entry-hint-parent">DMARC (Domain-based Message Authentication, Reporting, and Conformance)</h1><div class=post-description>DMARC는 이메일 인증 프로토콜로, SPF(Sender Policy Framework)와 DKIM(DomainKeys Identified Mail)을 기반으로 작동한다.</div><div class=post-meta><span title='2024-12-14 03:24:00 +0000 UTC'>December 14, 2024</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Computer%20Science%20Fundamentals/Networking%20Knowledge/Network%20Protocols/Application%20Layer/Email/Security/dmarc.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#dmarc-domain-based-message-authentication-reporting-and-conformance>DMARC (Domain-based Message Authentication, Reporting, and Conformance)</a><ul><li><a href=#dmarc의-중요성>DMARC의 중요성</a></li><li><a href=#dmarc-작동-방식-상세-설명>DMARC 작동 방식 상세 설명</a></li><li><a href=#dmarc-정책-상세-설명>DMARC 정책 상세 설명</a></li><li><a href=#dmarc-레코드-태그-상세-설명>DMARC 레코드 태그 상세 설명</a></li><li><a href=#dmarc-구현-단계>DMARC 구현 단계</a></li><li><a href=#dmarc-보고서-이해-및-분석>DMARC 보고서 이해 및 분석</a></li><li><a href=#dmarc와-이메일-전달-문제>DMARC와 이메일 전달 문제</a></li><li><a href=#dmarc-구현-사례-및-통계>DMARC 구현 사례 및 통계</a></li><li><a href=#dmarc와-관련된-새로운-동향-및-기술>DMARC와 관련된 새로운 동향 및 기술</a></li><li><a href=#dmarc-구현-시-흔한-문제-및-해결-방법>DMARC 구현 시 흔한 문제 및 해결 방법</a></li><li><a href=#dmarc-모범-사례>DMARC 모범 사례</a></li><li><a href=#결론>결론</a></li></ul></li><li><a href=#용어-정리>용어 정리</a></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=dmarc-domain-based-message-authentication-reporting-and-conformance>DMARC (Domain-based Message Authentication, Reporting, and Conformance)<a hidden class=anchor aria-hidden=true href=#dmarc-domain-based-message-authentication-reporting-and-conformance>#</a></h2><p>DMARC는 이메일 인증 프로토콜로, SPF(Sender Policy Framework)와 DKIM(DomainKeys Identified Mail)을 기반으로 작동하는 포괄적인 이메일 보안 솔루션이다. 2012년에 공식적으로 도입된 DMARC는 도메인 소유자가 자신의 도메인에서 보내는 이메일을 보호하고, 다른 사람이 해당 도메인을 사칭하여 이메일을 보내는 것을 방지하는 메커니즘을 제공한다.</p><p>DMARC는 세 가지 핵심 기능을 제공한다:</p><ol><li><strong>인증 정책 설정</strong>: 도메인 소유자가 SPF 및 DKIM 인증이 실패할 경우 수신 서버가 어떻게 대응해야 하는지 명확한 지침을 제공할 수 있다.</li><li><strong>정렬(Alignment) 확인</strong>: 이메일의 &lsquo;From&rsquo; 헤더가 SPF 및 DKIM에서 인증된 도메인과 일치하는지 확인한다.</li><li><strong>보고 기능</strong>: 도메인 소유자에게 자신의 도메인을 사용하여 전송된 모든 이메일(인증 성공 및 실패 모두)에 대한 상세한 보고서를 제공한다.</li></ol><h3 id=dmarc의-중요성>DMARC의 중요성<a hidden class=anchor aria-hidden=true href=#dmarc의-중요성>#</a></h3><p>DMARC는 현대 이메일 보안 인프라에서 다음과 같은 이유로 중요한 역할을 한다:</p><ol><li><strong>피싱 방지</strong>: 도메인 사칭을 통한 피싱 공격을 효과적으로 차단한다.</li><li><strong>이메일 전달률 향상</strong>: 합법적인 이메일이 스팸 폴더로 분류되는 것을 줄이고 전달률을 높인다.</li><li><strong>도메인 평판 보호</strong>: 사이버 범죄자가 도메인을 악용하여 평판을 손상시키는 것을 방지한다.</li><li><strong>가시성 제공</strong>: 도메인 소유자에게 자신의 도메인을 사용한 이메일 트래픽에 대한 통찰력을 제공한다.</li><li><strong>점진적 구현 지원</strong>: 전체 이메일 시스템에 영향을 주지 않고 단계적으로 구현할 수 있다.</li></ol><h3 id=dmarc-작동-방식-상세-설명>DMARC 작동 방식 상세 설명<a hidden class=anchor aria-hidden=true href=#dmarc-작동-방식-상세-설명>#</a></h3><h4 id=1-dns-레코드-게시>1. DNS 레코드 게시<a hidden class=anchor aria-hidden=true href=#1-dns-레코드-게시>#</a></h4><p>DMARC는 도메인 소유자가 특수한 DNS TXT 레코드를 게시하는 것으로 시작합니다. 이 레코드는 일반적으로 다음과 같은 형식을 가집니다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>_dmarc.yourdomain.com. IN TXT &#34;v=DMARC1; p=none; rua=mailto:reports@yourdomain.com&#34;
</span></span></code></pre></td></tr></table></div></div><p>여기서:</p><ul><li><strong>_dmarc</strong> 접두사는 이것이 DMARC 레코드임을 나타냅니다.</li><li><strong>v=DMARC1</strong>은 DMARC 버전을 지정합니다.</li><li><strong>p=none</strong>은 정책(policy)을 지정합니다(none, quarantine, reject).</li><li><strong>rua=mailto:reports@yourdomain.com</strong>은 집계 보고서를 보낼 이메일 주소를 지정합니다.</li></ul><h4 id=2-인증-과정>2. 인증 과정<a hidden class=anchor aria-hidden=true href=#2-인증-과정>#</a></h4><p>이메일이 수신 서버에 도착하면 다음과 같은 단계로 DMARC 검증이 이루어집니다:</p><ol><li><p><strong>SPF 및 DKIM 검증 수행</strong>: 수신 서버는 우선 SPF와 DKIM 검증을 별도로 수행합니다.</p></li><li><p><strong>정렬(Alignment) 확인</strong>: DMARC는 다음 두 가지 유형의 정렬을 확인합니다:</p><ul><li><strong>SPF 정렬</strong>: &lsquo;MAIL FROM&rsquo; 도메인이 &lsquo;From&rsquo; 헤더의 도메인과 일치하는지 확인</li><li><strong>DKIM 정렬</strong>: DKIM 서명의 &rsquo;d=&rsquo; 태그가 &lsquo;From&rsquo; 헤더의 도메인과 일치하는지 확인</li></ul></li><li><p><strong>DMARC 결과 결정</strong>:</p><ul><li>SPF 또는 DKIM 중 하나라도 인증에 성공하고 해당하는 정렬이 확인되면 DMARC 검증은 성공합니다.</li><li>둘 다 실패하거나 정렬이 확인되지 않으면 DMARC 검증은 실패합니다.</li></ul></li><li><p><strong>정책 적용</strong>: 수신 서버는 도메인의 DMARC 레코드에 지정된 정책에 따라 조치를 취합니다.</p></li></ol><h4 id=3-보고-시스템>3. 보고 시스템<a hidden class=anchor aria-hidden=true href=#3-보고-시스템>#</a></h4><p>DMARC는 도메인 소유자에게 두 가지 유형의 보고서를 제공합니다:</p><ol><li><p><strong>집계 보고서(Aggregate Reports - RUA)</strong>: 일반적으로 일일 단위로 제공되며, 발신 서버 IP, 인증 결과, 정책 적용 등에 대한 통계 데이터를 포함합니다. XML 형식으로 제공됩니다.</p></li><li><p><strong>실패 보고서(Forensic Reports - RUF)</strong>: 인증에 실패한 개별 이메일에 대한 상세 정보를 제공합니다. 이메일의 전체 헤더와 때로는 일부 본문 콘텐츠가 포함될 수 있습니다.</p></li></ol><h3 id=dmarc-정책-상세-설명>DMARC 정책 상세 설명<a hidden class=anchor aria-hidden=true href=#dmarc-정책-상세-설명>#</a></h3><p>DMARC 정책은 도메인 소유자가 인증에 실패한 이메일을 어떻게 처리할지 수신 서버에 지시합니다:</p><ol><li><p><strong>없음(none - p=none)</strong>:</p><ul><li>아무런 조치를 취하지 않습니다.</li><li>모니터링 모드로, 보고서만 수집합니다.</li><li>DMARC 구현 초기 단계에 권장됩니다.</li></ul></li><li><p><strong>격리(quarantine - p=quarantine)</strong>:</p><ul><li>인증에 실패한 이메일을 의심스러운 것으로 처리하도록 요청합니다.</li><li>일반적으로 스팸 폴더로 이동됩니다.</li><li>시스템에 영향을 주지 않고 정책을 강화하는 중간 단계입니다.</li></ul></li><li><p><strong>거부(reject - p=reject)</strong>:</p><ul><li>인증에 실패한 이메일을 완전히 거부하도록 요청합니다.</li><li>가장 강력한 보호를 제공하지만, 잘못 구성된 경우 합법적인 이메일이 차단될 수 있습니다.</li><li>철저한 테스트 후에만 사용해야 합니다.</li></ul></li></ol><h4 id=하위-도메인-정책>하위 도메인 정책<a hidden class=anchor aria-hidden=true href=#하위-도메인-정책>#</a></h4><p>DMARC는 하위 도메인에 대해 별도의 정책을 지정할 수 있습니다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>v=DMARC1; p=none; sp=reject; rua=mailto:reports@yourdomain.com
</span></span></code></pre></td></tr></table></div></div><p>여기서 <strong>sp=reject</strong>는 하위 도메인에 대한 정책을 지정합니다.</p><h4 id=백분율-태그>백분율 태그<a hidden class=anchor aria-hidden=true href=#백분율-태그>#</a></h4><p>DMARC 정책을 전체 이메일의 일부에만 적용할 수 있습니다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>v=DMARC1; p=reject; pct=10; rua=mailto:reports@yourdomain.com
</span></span></code></pre></td></tr></table></div></div><p>여기서 <strong>pct=10</strong>은 인증에 실패한 이메일의 10%에만 정책을 적용하라는 의미입니다.</p><h3 id=dmarc-레코드-태그-상세-설명>DMARC 레코드 태그 상세 설명<a hidden class=anchor aria-hidden=true href=#dmarc-레코드-태그-상세-설명>#</a></h3><p>DMARC DNS 레코드는 다양한 태그로 구성되며, 각 태그는 특정 기능을 제어합니다:</p><table><thead><tr><th>태그</th><th>설명</th><th>예시</th></tr></thead><tbody><tr><td>v</td><td>필수. 프로토콜 버전</td><td>v=DMARC1</td></tr><tr><td>p</td><td>필수. 정책 (none/quarantine/reject)</td><td>p=reject</td></tr><tr><td>sp</td><td>선택. 하위 도메인 정책</td><td>sp=quarantine</td></tr><tr><td>pct</td><td>선택. 정책 적용 백분율 (0-100)</td><td>pct=20</td></tr><tr><td>rua</td><td>선택. 집계 보고서 수신 이메일</td><td>rua=mailto:reports@example.com</td></tr><tr><td>ruf</td><td>선택. 실패 보고서 수신 이메일</td><td>ruf=mailto:forensics@example.com</td></tr><tr><td>fo</td><td>선택. 실패 보고 옵션</td><td>fo=1</td></tr><tr><td>adkim</td><td>선택. DKIM 정렬 모드 (r=relaxed, s=strict)</td><td>adkim=r</td></tr><tr><td>aspf</td><td>선택. SPF 정렬 모드 (r=relaxed, s=strict)</td><td>aspf=r</td></tr><tr><td>ri</td><td>선택. 보고서 간격 (초)</td><td>ri=86400</td></tr></tbody></table><h4 id=정렬-모드-설명>정렬 모드 설명<a hidden class=anchor aria-hidden=true href=#정렬-모드-설명>#</a></h4><p>정렬 모드는 도메인 일치를 어떻게 평가할지 결정합니다:</p><ol><li><p><strong>엄격(Strict - s)</strong>:</p><ul><li>도메인이 정확히 일치해야 합니다.</li><li>예: mail.example.com은 example.com과 일치하지 않습니다.</li></ul></li><li><p><strong>완화(Relaxed - r)</strong>:</p><ul><li>조직 도메인만 일치하면 됩니다.</li><li>예: mail.example.com은 example.com과 일치합니다.</li><li>기본값이며 대부분의 경우 권장됩니다.</li></ul></li></ol><h3 id=dmarc-구현-단계>DMARC 구현 단계<a hidden class=anchor aria-hidden=true href=#dmarc-구현-단계>#</a></h3><p>효과적인 DMARC 구현을 위한 단계별 접근법:</p><h4 id=1-현재-상태-평가>1. 현재 상태 평가<a hidden class=anchor aria-hidden=true href=#1-현재-상태-평가>#</a></h4><ul><li>전송하는 모든 이메일 소스 식별 (내부 서버, 서드파티 서비스 등)</li><li>SPF 및 DKIM이 올바르게 구성되었는지 확인</li></ul><h4 id=2-모니터링-모드로-시작>2. 모니터링 모드로 시작<a hidden class=anchor aria-hidden=true href=#2-모니터링-모드로-시작>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>v=DMARC1; p=none; rua=mailto:reports@yourdomain.com
</span></span></code></pre></td></tr></table></div></div><ul><li>영향 없이 데이터 수집</li><li>최소 2주 이상 운영</li></ul><h4 id=3-보고서-분석>3. 보고서 분석<a hidden class=anchor aria-hidden=true href=#3-보고서-분석>#</a></h4><ul><li>합법적인 이메일 소스가 SPF 및 DKIM을 통과하는지 확인</li><li>실패하는 소스 식별 및 수정</li></ul><h4 id=4-단계적-정책-강화>4. 단계적 정책 강화<a hidden class=anchor aria-hidden=true href=#4-단계적-정책-강화>#</a></h4><ul><li>백분율 태그로 점진적 테스트</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>v=DMARC1; p=quarantine; pct=5; rua=mailto:reports@yourdomain.com
</span></span></code></pre></td></tr></table></div></div><ul><li>점진적으로 백분율 증가 (5% → 25% → 50% → 100%)</li></ul><h4 id=5-전체-dmarc-거부-정책-구현>5. 전체 DMARC 거부 정책 구현<a hidden class=anchor aria-hidden=true href=#5-전체-dmarc-거부-정책-구현>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>v=DMARC1; p=reject; rua=mailto:reports@yourdomain.com
</span></span></code></pre></td></tr></table></div></div><ul><li>철저한 테스트 후 모든 이메일에 적용</li></ul><h3 id=dmarc-보고서-이해-및-분석>DMARC 보고서 이해 및 분석<a hidden class=anchor aria-hidden=true href=#dmarc-보고서-이해-및-분석>#</a></h3><h4 id=집계-보고서rua-형식>집계 보고서(RUA) 형식<a hidden class=anchor aria-hidden=true href=#집계-보고서rua-형식>#</a></h4><p>집계 보고서는 XML 형식으로 제공되며 다음 섹션을 포함합니다:</p><ol><li><strong>보고 메타데이터</strong>: 보고 기간, 보고 조직 등</li><li><strong>정책 게시자 정보</strong>: DMARC 정책이 게시된 도메인</li><li><strong>레코드별 데이터</strong>: 각 발신 IP 주소에 대한 세부 통계</li></ol><p>샘플 구조:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a>
</span><span class=lnt id=hl-6-13><a class=lnlinks href=#hl-6-13>13</a>
</span><span class=lnt id=hl-6-14><a class=lnlinks href=#hl-6-14>14</a>
</span><span class=lnt id=hl-6-15><a class=lnlinks href=#hl-6-15>15</a>
</span><span class=lnt id=hl-6-16><a class=lnlinks href=#hl-6-16>16</a>
</span><span class=lnt id=hl-6-17><a class=lnlinks href=#hl-6-17>17</a>
</span><span class=lnt id=hl-6-18><a class=lnlinks href=#hl-6-18>18</a>
</span><span class=lnt id=hl-6-19><a class=lnlinks href=#hl-6-19>19</a>
</span><span class=lnt id=hl-6-20><a class=lnlinks href=#hl-6-20>20</a>
</span><span class=lnt id=hl-6-21><a class=lnlinks href=#hl-6-21>21</a>
</span><span class=lnt id=hl-6-22><a class=lnlinks href=#hl-6-22>22</a>
</span><span class=lnt id=hl-6-23><a class=lnlinks href=#hl-6-23>23</a>
</span><span class=lnt id=hl-6-24><a class=lnlinks href=#hl-6-24>24</a>
</span><span class=lnt id=hl-6-25><a class=lnlinks href=#hl-6-25>25</a>
</span><span class=lnt id=hl-6-26><a class=lnlinks href=#hl-6-26>26</a>
</span><span class=lnt id=hl-6-27><a class=lnlinks href=#hl-6-27>27</a>
</span><span class=lnt id=hl-6-28><a class=lnlinks href=#hl-6-28>28</a>
</span><span class=lnt id=hl-6-29><a class=lnlinks href=#hl-6-29>29</a>
</span><span class=lnt id=hl-6-30><a class=lnlinks href=#hl-6-30>30</a>
</span><span class=lnt id=hl-6-31><a class=lnlinks href=#hl-6-31>31</a>
</span><span class=lnt id=hl-6-32><a class=lnlinks href=#hl-6-32>32</a>
</span><span class=lnt id=hl-6-33><a class=lnlinks href=#hl-6-33>33</a>
</span><span class=lnt id=hl-6-34><a class=lnlinks href=#hl-6-34>34</a>
</span><span class=lnt id=hl-6-35><a class=lnlinks href=#hl-6-35>35</a>
</span><span class=lnt id=hl-6-36><a class=lnlinks href=#hl-6-36>36</a>
</span><span class=lnt id=hl-6-37><a class=lnlinks href=#hl-6-37>37</a>
</span><span class=lnt id=hl-6-38><a class=lnlinks href=#hl-6-38>38</a>
</span><span class=lnt id=hl-6-39><a class=lnlinks href=#hl-6-39>39</a>
</span><span class=lnt id=hl-6-40><a class=lnlinks href=#hl-6-40>40</a>
</span><span class=lnt id=hl-6-41><a class=lnlinks href=#hl-6-41>41</a>
</span><span class=lnt id=hl-6-42><a class=lnlinks href=#hl-6-42>42</a>
</span><span class=lnt id=hl-6-43><a class=lnlinks href=#hl-6-43>43</a>
</span><span class=lnt id=hl-6-44><a class=lnlinks href=#hl-6-44>44</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;feedback&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;report_metadata&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;org_name&gt;</span>google.com<span class=nt>&lt;/org_name&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;email&gt;</span>noreply-dmarc-support@google.com<span class=nt>&lt;/email&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;report_id&gt;</span>1234567890123456789<span class=nt>&lt;/report_id&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;date_range&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nt>&lt;begin&gt;</span>1596240000<span class=nt>&lt;/begin&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nt>&lt;end&gt;</span>1596326399<span class=nt>&lt;/end&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/date_range&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;/report_metadata&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;policy_published&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;domain&gt;</span>yourdomain.com<span class=nt>&lt;/domain&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;adkim&gt;</span>r<span class=nt>&lt;/adkim&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;aspf&gt;</span>r<span class=nt>&lt;/aspf&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;p&gt;</span>none<span class=nt>&lt;/p&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;sp&gt;</span>none<span class=nt>&lt;/sp&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;pct&gt;</span>100<span class=nt>&lt;/pct&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;/policy_published&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;record&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;row&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nt>&lt;source_ip&gt;</span>192.0.2.1<span class=nt>&lt;/source_ip&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nt>&lt;count&gt;</span>5<span class=nt>&lt;/count&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nt>&lt;policy_evaluated&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;disposition&gt;</span>none<span class=nt>&lt;/disposition&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;dkim&gt;</span>pass<span class=nt>&lt;/dkim&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;spf&gt;</span>pass<span class=nt>&lt;/spf&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nt>&lt;/policy_evaluated&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/row&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;identifiers&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nt>&lt;header_from&gt;</span>yourdomain.com<span class=nt>&lt;/header_from&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/identifiers&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;auth_results&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nt>&lt;dkim&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;domain&gt;</span>yourdomain.com<span class=nt>&lt;/domain&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;result&gt;</span>pass<span class=nt>&lt;/result&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;selector&gt;</span>default<span class=nt>&lt;/selector&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nt>&lt;/dkim&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nt>&lt;spf&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;domain&gt;</span>yourdomain.com<span class=nt>&lt;/domain&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;result&gt;</span>pass<span class=nt>&lt;/result&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nt>&lt;/spf&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/auth_results&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;/record&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/feedback&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=보고서-분석-도구>보고서 분석 도구<a hidden class=anchor aria-hidden=true href=#보고서-분석-도구>#</a></h4><p>DMARC 보고서는 XML 형식으로 제공되어 수동으로 분석하기 어렵습니다. 다음과 같은 도구가 분석을 도울 수 있습니다:</p><ol><li><p><strong>상업용 서비스</strong>:</p><ul><li>Dmarcian</li><li>Valimail</li><li>Agari</li><li>PowerDMARC</li><li>Proofpoint</li></ul></li><li><p><strong>오픈 소스 도구</strong>:</p><ul><li>ParseDMARC</li><li>DMARC Analyzer</li><li>OpenDMARC</li></ul></li></ol><h4 id=보고서에서-확인해야-할-핵심-지표>보고서에서 확인해야 할 핵심 지표<a hidden class=anchor aria-hidden=true href=#보고서에서-확인해야-할-핵심-지표>#</a></h4><ol><li><strong>SPF 및 DKIM 통과율</strong>: 도메인의 합법적인 이메일이 모두 통과하는지 확인</li><li><strong>주요 실패 원인</strong>: SPF 불일치, DKIM 서명 누락, 정렬 실패 등</li><li><strong>상위 발신 IP</strong>: 합법적인 소스인지 확인</li><li><strong>위조 시도</strong>: 알려진 발신자가 아닌 경우 잠재적 위조 식별</li></ol><h3 id=dmarc와-이메일-전달-문제>DMARC와 이메일 전달 문제<a hidden class=anchor aria-hidden=true href=#dmarc와-이메일-전달-문제>#</a></h3><p>이메일 전달은 DMARC 구현 시 특별한 고려가 필요한 영역입니다:</p><h4 id=전달의-문제점>전달의 문제점<a hidden class=anchor aria-hidden=true href=#전달의-문제점>#</a></h4><ol><li><strong>SPF 검증 실패</strong>: 전달 시 원래 발신자의 IP 주소가 아닌 전달 서버의 IP 주소로 이메일이 전송됩니다.</li><li><strong>DKIM 서명 유지</strong>: DKIM 서명은 이메일 헤더나 본문이 수정되지 않는 한 전달 과정에서 유효합니다.</li></ol><h4 id=해결-방법>해결 방법<a hidden class=anchor aria-hidden=true href=#해결-방법>#</a></h4><ol><li><p><strong>ARC(Authenticated Received Chain)</strong>:</p><ul><li>이메일의 인증 상태를 전달 체인 전체에 걸쳐 보존</li><li>전달 과정에서 추가 서명 제공</li></ul></li><li><p><strong>SRS(Sender Rewriting Scheme)</strong>:</p><ul><li>&lsquo;Return-Path&rsquo; 주소를 재작성하여 전달 서버가 SPF를 통과하도록 함</li><li>원래 발신자 정보 보존</li></ul></li><li><p><strong>간접 이메일 흐름 설계</strong>:</p><ul><li>전달이 필요한 시스템에 대한 명시적 SPF 허용</li><li>전달 시나리오를 고려한 DKIM 구현</li></ul></li></ol><h3 id=dmarc-구현-사례-및-통계>DMARC 구현 사례 및 통계<a hidden class=anchor aria-hidden=true href=#dmarc-구현-사례-및-통계>#</a></h3><h4 id=구현-성공-사례>구현 성공 사례<a hidden class=anchor aria-hidden=true href=#구현-성공-사례>#</a></h4><ol><li><p><strong>금융 서비스</strong>:</p><ul><li>한 대형 은행은 DMARC <code>p=reject</code> 정책 구현 후 피싱 공격이 97% 감소</li><li>고객 신뢰 상승 및 지원 문의 감소</li></ul></li><li><p><strong>정부 부문</strong>:</p><ul><li>미국 DHS(Department of Homeland Security)는 모든 연방 기관에 DMARC 구현 의무화</li><li>BOD 18-01을 통해 이메일 보안 강화</li></ul></li><li><p><strong>전자 상거래</strong>:</p><ul><li>한 글로벌 리테일러는 DMARC 구현 후 이메일 전달률 12% 향상</li><li>브랜드 평판 보호 및 고객 참여 증가</li></ul></li></ol><h4 id=업계-통계>업계 통계<a hidden class=anchor aria-hidden=true href=#업계-통계>#</a></h4><ol><li><p><strong>DMARC 도입 추세</strong>:</p><ul><li>Fortune 500 기업의 약 80%가 DMARC 레코드 보유</li><li>그러나 강력한 정책(<code>p=reject</code>)을 사용하는 비율은 약 28%에 불과</li></ul></li><li><p><strong>효율성 데이터</strong>:</p><ul><li><code>p=reject</code> 정책 사용 시 사칭 이메일이 평균 98% 감소</li><li><code>p=none</code>에서 <code>p=reject</code>로 이동하는 데 평균 3-6개월 소요</li></ul></li><li><p><strong>분야별 도입률</strong>:</p><ul><li>금융 서비스: 가장 높은 도입률(약 85%)</li><li>의료: 상대적으로 낮은 도입률(약 50%)</li><li>공공 부문: 빠르게 증가 중</li></ul></li></ol><h3 id=dmarc와-관련된-새로운-동향-및-기술>DMARC와 관련된 새로운 동향 및 기술<a hidden class=anchor aria-hidden=true href=#dmarc와-관련된-새로운-동향-및-기술>#</a></h3><h4 id=bimibrand-indicators-for-message-identification>BIMI(Brand Indicators for Message Identification)<a hidden class=anchor aria-hidden=true href=#bimibrand-indicators-for-message-identification>#</a></h4><p>BIMI는 DMARC를 확장하여 인증된 이메일에 브랜드 로고를 표시합니다:</p><ol><li><p><strong>요구 사항</strong>:</p><ul><li>강력한 DMARC 정책(<code>p=quarantine</code> 또는 <code>p=reject</code>)</li><li>유효한 DKIM 서명</li><li>DNS에 게시된 BIMI 레코드</li><li>SVG 형식의 로고</li></ul></li><li><p><strong>이점</strong>:</p><ul><li>브랜드 가시성 향상</li><li>수신자의 신뢰 증가</li><li>피싱 이메일과의 차별화</li></ul></li></ol><h4 id=tls-rptsmtp-tls-reporting>TLS-RPT(SMTP TLS Reporting)<a hidden class=anchor aria-hidden=true href=#tls-rptsmtp-tls-reporting>#</a></h4><p>TLS-RPT는 전송 계층 보안에 초점을 맞춘 보고 메커니즘입니다:</p><ol><li><p><strong>기능</strong>:</p><ul><li>SMTP TLS 연결에 대한 통계 보고</li><li>TLS 실패 식별</li><li>MTA-STS 정책 검증</li></ul></li><li><p><strong>DMARC와의 통합</strong>:</p><ul><li>이메일 전송 보안의 추가 계층 제공</li><li>엔드 투 엔드 이메일 보안 향상</li></ul></li></ol><h4 id=arcauthenticated-received-chain>ARC(Authenticated Received Chain)<a hidden class=anchor aria-hidden=true href=#arcauthenticated-received-chain>#</a></h4><p>ARC는 이메일 전달 문제를 해결하기 위해 개발되었습니다:</p><ol><li><p><strong>작동 방식</strong>:</p><ul><li>이메일이 전달될 때마다 인증 결과를 체인으로 추가</li><li>원래 인증 상태 보존</li><li>수신자가 전체 인증 내역 확인 가능</li></ul></li><li><p><strong>이점</strong>:</p><ul><li>DMARC 실패 감소</li><li>합법적인 전달된 이메일의 전달률 향상</li><li>더 정확한 이메일 인증</li></ul></li></ol><h3 id=dmarc-구현-시-흔한-문제-및-해결-방법>DMARC 구현 시 흔한 문제 및 해결 방법<a hidden class=anchor aria-hidden=true href=#dmarc-구현-시-흔한-문제-및-해결-방법>#</a></h3><h4 id=문제-1-모든-합법적인-소스-식별>문제 1: 모든 합법적인 소스 식별<a hidden class=anchor aria-hidden=true href=#문제-1-모든-합법적인-소스-식별>#</a></h4><p><strong>문제</strong>: 일부 합법적인 이메일 발신자가 DMARC 실패로 차단됨</p><p><strong>해결 방법</strong>:</p><ol><li>장기간(최소 30일) <code>p=none</code> 모드로 운영</li><li>모든 서드파티 서비스 및 내부 시스템 목록 작성</li><li>이메일 흐름 다이어그램 생성</li></ol><h4 id=문제-2-서드파티-서비스>문제 2: 서드파티 서비스<a hidden class=anchor aria-hidden=true href=#문제-2-서드파티-서비스>#</a></h4><p><strong>문제</strong>: 마케팅, CRM, 지원 서비스 등이 도메인을 사용하지만 SPF/DKIM이 제대로 구성되지 않음</p><p><strong>해결 방법</strong>:</p><ol><li>모든 서드파티 공급업체 목록 작성</li><li>각 서비스에 대한 SPF 및 DKIM 설정 확인</li><li>필요한 경우 통합 이메일 게이트웨이 사용</li></ol><h4 id=문제-3-이메일-전달>문제 3: 이메일 전달<a hidden class=anchor aria-hidden=true href=#문제-3-이메일-전달>#</a></h4><p><strong>문제</strong>: 전달된 이메일이 DMARC 검증 실패</p><p><strong>해결 방법</strong>:</p><ol><li>ARC 지원 확인</li><li>중요한 전달 시나리오에 대한 별도 하위 도메인 사용</li><li>전달 서버에 SRS 구현</li></ol><h4 id=문제-4-보고서-처리>문제 4: 보고서 처리<a hidden class=anchor aria-hidden=true href=#문제-4-보고서-처리>#</a></h4><p><strong>문제</strong>: XML 형식의 대량 DMARC 보고서 처리 어려움</p><p><strong>해결 방법</strong>:</p><ol><li>자동화된 보고서 처리 도구 사용</li><li>보고서 전달용 별도 이메일 주소 설정</li><li>정기적인 보고서 검토 일정 수립</li></ol><h3 id=dmarc-모범-사례>DMARC 모범 사례<a hidden class=anchor aria-hidden=true href=#dmarc-모범-사례>#</a></h3><h4 id=구현-모범-사례>구현 모범 사례<a hidden class=anchor aria-hidden=true href=#구현-모범-사례>#</a></h4><ol><li><p><strong>단계적 접근법</strong>:</p><ul><li><code>p=none</code> → <code>p=quarantine</code> (낮은 pct) → <code>p=quarantine</code> (100%) → <code>p=reject</code></li><li>각 단계에서 충분한 시간을 두고 문제 해결</li></ul></li><li><p><strong>모니터링 및 분석</strong>:</p><ul><li>정기적인 보고서 검토</li><li>인증 실패 트렌드 모니터링</li><li>주요 성과 지표 설정</li></ul></li><li><p><strong>도메인 분리</strong>:</p><ul><li>마케팅, 거래 및 내부 통신에 대한 별도 하위 도메인 사용</li><li>다양한 이메일 유형에 맞게 정책 조정</li></ul></li><li><p><strong>문서화</strong>:</p><ul><li>이메일 인프라 및 흐름 문서화</li><li>문제 해결 절차 수립</li><li>공급업체 구성 정보 유지</li></ul></li></ol><h4 id=조직적-모범-사례>조직적 모범 사례<a hidden class=anchor aria-hidden=true href=#조직적-모범-사례>#</a></h4><ol><li><p><strong>교차 기능 팀</strong>:</p><ul><li>IT, 보안, 마케팅 및 비즈니스 이해관계자 포함</li><li>명확한 책임 및 역할 정의</li></ul></li><li><p><strong>공급업체 관리</strong>:</p><ul><li>이메일 서비스 공급업체와의 DMARC 요구 사항 문서화</li><li>정기적인 규정 준수 검토</li><li>계약에 DMARC 지원 포함</li></ul></li><li><p><strong>교육 및 인식</strong>:</p><ul><li>기술 및 비기술 직원 대상 이메일 보안 교육</li><li>DMARC 구현 상태 및 혜택에 대한 정기적인 업데이트</li></ul></li><li><p><strong>지속적인 개선</strong>:</p><ul><li>정기적인 DMARC 상태 검토</li><li>새로운 이메일 소스 추적 프로세스</li><li>새로운 기술 및 모범 사례 채택</li></ul></li></ol><h3 id=결론>결론<a hidden class=anchor aria-hidden=true href=#결론>#</a></h3><p>DMARC는 이메일 인증의 세 가지 핵심 기둥(SPF, DKIM, DMARC) 중 하나로, 포괄적인 이메일 보안 프레임워크를 완성합니다. 도메인 소유자에게 명확한 정책 설정, 풍부한 보고 기능, 그리고 도메인 사칭 방지를 위한 강력한 메커니즘을 제공합니다.</p><p>DMARC의 효과적인 구현은 단순한 기술적 과제가 아니라 조직적인 노력이 필요한 과정입니다. 점진적인 접근법, 철저한 테스트, 그리고 지속적인 모니터링을 통해 조직은 이메일 보안을 강화하고, 고객 신뢰를 구축하며, 브랜드 평판을 보호할 수 있습니다.</p><p>현대 디지털 커뮤니케이션 환경에서 DMARC는 더 이상 선택이 아닌 필수가 되고 있으며, 이메일 인증의 미래는 BIMI 및 ARC와 같은 새로운 기술과의 통합을 통해 계속 발전할 것입니다.</p><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/networking-knowledge/>Networking-Knowledge</a></li><li><a href=https://buenhyden.github.io/tags/network-protocols/>Network-Protocols</a></li><li><a href=https://buenhyden.github.io/tags/application-layer-protocols/>Application-Layer-Protocols</a></li><li><a href=https://buenhyden.github.io/tags/email/>Email</a></li><li><a href=https://buenhyden.github.io/tags/security/>Security</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/computer-science-fundamentals/networking-knowledge/network-protocols/application-layer/email/security/dkim/><span class=title>« Prev</span><br><span>DKIM (DomainKeys Identified Mail)</span>
</a><a class=next href=https://buenhyden.github.io/posts/computer-science-fundamentals/networking-knowledge/network-protocols/application-layer/email/security/domain-keys/><span class=title>Next »</span><br><span>Domain Keys</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>