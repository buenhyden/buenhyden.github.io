<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Blocking vs Non-Blocking | hyunyoun's Blog</title><meta name=keywords content="Computer-Science-Fundamentals,System-Software,Operating-systems,IO-System-Fundamentals,IO-Models,Blocking-vs-Non-Blocking,Blocking,Non-Blocking"><meta name=description content="Blocking은 I/O 완료까지 호출을 대기시켜 구현이 단순하지만 동시성이 낮다. Non-Blocking은 즉시 반환해 이벤트나 폴링으로 처리하며 높은 동시성과 자원 효율을 제공한다. 준비 기반과 완료 기반 모델을 선택해 백프레셔와 오류를 포함한 상태 관리를 설계해야 한다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/computer-science-fundamentals/system-software/operating-systems/io-system-fundamentals/io-models/blocking-vs-non-blocking/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.8762af4fa9ee176c57f72565b721f234162fc7a9c882a271e0a1f68c4e89fb34.css integrity="sha256-h2KvT6nuF2xX9yVltyHyNBYvx6nIgqJx4KH2jE6J+zQ=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/computer-science-fundamentals/system-software/operating-systems/io-system-fundamentals/io-models/blocking-vs-non-blocking/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/computer-science-fundamentals/system-software/operating-systems/io-system-fundamentals/io-models/blocking-vs-non-blocking/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/computer-science-fundamentals/system-software/operating-systems/io-system-fundamentals/io-models/blocking-vs-non-blocking/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Blocking vs Non-Blocking"><meta property="og:description" content="Blocking은 I/O 완료까지 호출을 대기시켜 구현이 단순하지만 동시성이 낮다. Non-Blocking은 즉시 반환해 이벤트나 폴링으로 처리하며 높은 동시성과 자원 효율을 제공한다. 준비 기반과 완료 기반 모델을 선택해 백프레셔와 오류를 포함한 상태 관리를 설계해야 한다."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Blocking vs Non-Blocking"><meta name=twitter:description content="Blocking은 I/O 완료까지 호출을 대기시켜 구현이 단순하지만 동시성이 낮다. Non-Blocking은 즉시 반환해 이벤트나 폴링으로 처리하며 높은 동시성과 자원 효율을 제공한다. 준비 기반과 완료 기반 모델을 선택해 백프레셔와 오류를 포함한 상태 관리를 설계해야 한다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blocking vs Non-Blocking","item":"https://buenhyden.github.io/posts/computer-science-fundamentals/system-software/operating-systems/io-system-fundamentals/io-models/blocking-vs-non-blocking/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a></div><h1>Blocking vs Non-Blocking</h1><div class=post-description>Blocking은 I/O 완료까지 호출을 대기시켜 구현이 단순하지만 동시성이 낮다. Non-Blocking은 즉시 반환해 이벤트나 폴링으로 처리하며 높은 동시성과 자원 효율을 제공한다. 준비 기반과 완료 기반 모델을 선택해 백프레셔와 오류를 포함한 상태 관리를 설계해야 한다.</div></header><div class=post-content><h2 id=blocking-vs-non-blocking>Blocking vs. Non-Blocking<a hidden class=anchor aria-hidden=true href=#blocking-vs-non-blocking>#</a></h2><p>Blocking 과 Non-Blocking 은 I/O 호출 시 <strong>제어권의 대기 방식</strong>을 구분한다.<br>Blocking 은 작업 완료까지 호출 스레드가 멈추며 코드가 단순하고 흐름이 직관적이다. 이는 디버깅이 용이하고 지역적 상태가 명확해지지만, 대기 시간 동안 스레드와 파일 디스크립터가 <strong>비생산적으로 점유</strong>된다.<br>Non-Blocking 은 요청 즉시 제어권을 반환하고, 이후 <strong>폴링·이벤트·콜백·퓨처</strong>로 완료를 통지받는다. 이는 epoll/kqueue·이벤트 루프와 결합되어 <strong>대량 동시 접속</strong>에서 높은 활용도를 보인다. 다만 상태 전이, 타임아웃, 재시도, 백프레셔 같은 <strong>흐름 제어</strong>가 필수다.</p><p>동기/비동기는 결과를 <strong>언제 받는가</strong>의 관점이며, 블로킹/논블로킹은 <strong>대기 중 무엇을 하는가</strong>의 관점이다.</p><p>실무에서는 CPU 바운드 작업은 스레드 풀로 격리하고, I/O 바운드 경로는 논블로킹 + 비동기로 구성해 <strong>지연을 흡수</strong>한다. 운영 단계에서는 커넥션 한도, 재시도 폭주, 타임아웃 전파를 관리해 **꼬리 지연 (p99)**을 제어한다. 결과적으로 서비스는 동일 자원에서 더 많은 요청을 처리하고, 장애 시에도 <strong>복원력 있는</strong> 응답 전략을 유지한다.</p><h3 id=필수-용어-사전>필수 용어 사전<a hidden class=anchor aria-hidden=true href=#필수-용어-사전>#</a></h3><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>실무 역할</th><th>선행 지식</th><th>연관 개념</th><th>활용 예시</th></tr></thead><tbody><tr><td>블로킹 (Blocking)</td><td>호출된 함수가 작업 완료까지 제어를 반환하지 않고 호출자를 대기시키는 방식</td><td>순차 처리 로직 구현</td><td>프로세스, 스레드</td><td>동기 (Synchronous)</td><td>socket.recv() 대기</td></tr><tr><td>논블로킹 (Non-Blocking)</td><td>호출된 함수가 작업 완료 여부와 무관하게 즉시 제어를 반환하는 방식</td><td>이벤트 기반 처리</td><td>시스템 콜</td><td>비동기 (Asynchronous)</td><td>fcntl(O_NONBLOCK) 설정</td></tr><tr><td>I/O 멀티플렉싱 (I/O Multiplexing)</td><td>여러 I/O 소스를 단일 스레드에서 관찰하고 처리하는 기법</td><td>동시 연결 처리</td><td>파일 디스크립터</td><td>select, poll, epoll</td><td>웹 서버 이벤트 루프</td></tr><tr><td>시스템 콜 (System Call)</td><td>사용자 프로세스가 커널 기능을 요청하는 인터페이스</td><td>OS 자원 접근</td><td>프로세스, 커널</td><td>read, write, open</td><td>open("/file", O_RDONLY)</td></tr><tr><td>파일 디스크립터 (File Descriptor, FD)</td><td>유닉스/리눅스에서 열린 파일이나 소켓을 참조하는 정수형 식별자</td><td>I/O 대상 식별</td><td>파일 시스템</td><td>Socket, Pipe</td><td>fd = open(…)</td></tr><tr><td>이벤트 루프 (Event Loop)</td><td>Non-Blocking I/O 와 콜백을 기반으로 이벤트를 반복 감지하고 처리하는 메커니즘</td><td>비동기 프로그래밍 런타임</td><td>콜백, 이벤트</td><td>Node.js libuv, Python asyncio</td><td>while True: handle_events()</td></tr><tr><td>컨텍스트 스위칭 (Context Switching)</td><td>CPU 가 현재 실행 중인 프로세스/스레드를 다른 것으로 전환하는 동작</td><td>멀티태스킹 오버헤드</td><td>프로세스, 스레드</td><td>스케줄링</td><td>블로킹 시 발생</td></tr><tr><td>버퍼 (Buffer)</td><td>데이터 입출력 시 임시 저장 공간</td><td>데이터 전송 효율화</td><td>메모리</td><td>커널 버퍼, 사용자 버퍼</td><td>recv(buffer, size)</td></tr></tbody></table><h3 id=비교-우위열위중립-조건>비교 우위·열위·중립 조건<a hidden class=anchor aria-hidden=true href=#비교-우위열위중립-조건>#</a></h3><h4 id=blocking-io-우위-조건>Blocking I/O 우위 조건<a hidden class=anchor aria-hidden=true href=#blocking-io-우위-조건>#</a></h4><ul><li><strong>기준</strong>: 구현 단순성, 코드 가독성, 디버깅 용이성</li><li><strong>시나리오</strong>: 동시 연결 수가 적고 (&lt; 100), 순차 처리가 자연스러운 배치 작업</li><li><strong>증거</strong>: 스레드당 하나의 연결만 처리, 콜 스택 명확, 에러 처리 직관적</li></ul><h4 id=non-blocking-io-우위-조건>Non-Blocking I/O 우위 조건<a hidden class=anchor aria-hidden=true href=#non-blocking-io-우위-조건>#</a></h4><ul><li><strong>기준</strong>: 동시성, 자원 효율성, 확장성</li><li><strong>시나리오</strong>: 대량 동시 연결 (> 10,000), I/O 대기 시간이 긴 환경 (네트워크 지연)</li><li><strong>증거</strong>: C10K 문제 해결, 단일 스레드로 다수 연결 처리 가능</li></ul><h4 id=중립-조건>중립 조건<a hidden class=anchor aria-hidden=true href=#중립-조건>#</a></h4><ul><li><strong>기준</strong>: 중간 규모 트래픽 (100~1,000 연결), 하이브리드 워크로드</li><li><strong>처리 규칙</strong>: 워크로드 특성 (I/O bound vs CPU bound), 팀 숙련도, 기존 인프라 고려</li></ul><h3 id=개선-포인트-히스토리>개선 포인트 히스토리<a hidden class=anchor aria-hidden=true href=#개선-포인트-히스토리>#</a></h3><h4 id=blocking-io-개선-히스토리>Blocking I/O 개선 히스토리<a hidden class=anchor aria-hidden=true href=#blocking-io-개선-히스토리>#</a></h4><table><thead><tr><th>버전/릴리스</th><th>개선 항목</th><th>이전 한계</th><th>개선 방식</th><th>잔여 리스크</th><th>근거</th></tr></thead><tbody><tr><td>POSIX Threads (1995)</td><td>멀티스레드 지원</td><td>단일 프로세스 블로킹 처리</td><td>스레드별 독립 블로킹</td><td>컨텍스트 스위칭 비용</td><td>IEEE POSIX.1c</td></tr><tr><td>Thread Pool 패턴 (2000 년대)</td><td>스레드 생성 오버헤드 감소</td><td>연결마다 스레드 생성</td><td>재사용 가능한 워커 풀</td><td>스레드 수 제한</td><td>Java ExecutorService 도입</td></tr><tr><td>Green Threads (Go, 2009)</td><td>경량 동시성</td><td>OS 스레드 비용 높음</td><td>사용자 레벨 스케줄링</td><td>블로킹 시스템 콜 한계</td><td>Goroutine</td></tr></tbody></table><h4 id=non-blocking-io-개선-히스토리>Non-Blocking I/O 개선 히스토리<a hidden class=anchor aria-hidden=true href=#non-blocking-io-개선-히스토리>#</a></h4><table><thead><tr><th>버전/릴리스</th><th>개선 항목</th><th>이전 한계</th><th>개선 방식</th><th>잔여 리스크</th><th>근거</th></tr></thead><tbody><tr><td>select() (1983)</td><td>멀티플렉싱 도입</td><td>순차 폴링만 가능</td><td>FD 집합 동시 모니터링</td><td>FD 수 제한 (1024)</td><td>BSD 4.2</td></tr><tr><td>epoll (Linux 2.6, 2003)</td><td>확장 가능한 멀티플렉싱</td><td>select/poll O(n) 비효율</td><td>O(1) 이벤트 통지</td><td>Linux 전용</td><td>Linux Kernel 2.5.44</td></tr><tr><td>io_uring (Linux 5.1, 2019)</td><td>완전 비동기 I/O</td><td>시스템 콜 오버헤드</td><td>커널 링 버퍼 기반 제출/완료</td><td>복잡도 증가</td><td>Jens Axboe</td></tr><tr><td>libuv (2011)</td><td>크로스 플랫폼 추상화</td><td>플랫폼별 API 상이</td><td>통합 이벤트 루프</td><td>추상화 레이어 비용</td><td>Node.js 기반</td></tr></tbody></table><h2 id=개념-체계화-및-방향-설정>개념 체계화 및 방향 설정<a hidden class=anchor aria-hidden=true href=#개념-체계화-및-방향-설정>#</a></h2><h3 id=blocking-io-와-non-blocking-io-핵심-요약>Blocking I/O 와 Non-Blocking I/O 핵심 요약<a hidden class=anchor aria-hidden=true href=#blocking-io-와-non-blocking-io-핵심-요약>#</a></h3><p><strong>Blocking I/O</strong>는 I/O 작업 (읽기/쓰기) 을 요청한 프로세스나 스레드가 해당 작업이 완료될 때까지 실행을 멈추고 대기하는 방식이다.<br><code>read()</code>, <code>write()</code>, <code>recv()</code> 같은 시스템 콜을 호출하면, 커널이 데이터를 준비하고 사용자 공간으로 복사할 때까지 호출자는 블록 (정지) 상태가 되며, 이 시간 동안 CPU 를 사용하지 않고 대기 큐에 머문다.<br>구현이 직관적이고 순차적 프로그래밍 모델과 자연스럽게 맞아떨어져 코드 가독성과 디버깅이 용이하지만, 동시에 여러 I/O 를 처리하려면 멀티스레드나 멀티프로세스가 필수이며, 각 연결마다 스레드를 생성하면 컨텍스트 스위칭 비용과 메모리 오버헤드가 증가한다.<br>전통적인 웹 서버 (Apache MPM prefork), 데이터베이스 클라이언트 라이브러리, 배치 처리 시스템에서 여전히 광범위하게 사용되며, 동시 연결 수가 적고 (&lt; 1,000) 처리 로직이 복잡한 경우 선호된다.</p><p><strong>Non-Blocking I/O</strong>는 I/O 작업을 요청했을 때, 데이터가 즉시 준비되지 않아도 에러 코드 (<code>EAGAIN</code>, <code>EWOULDBLOCK</code>) 를 반환하며 제어권을 즉시 호출자에게 돌려주는 방식이다.<br>파일 디스크립터를 <code>O_NONBLOCK</code> 플래그로 설정하면, <code>read()</code> 나 <code>write()</code> 호출 시 블로킹 없이 즉시 반환되며, 호출자는 다른 작업을 수행하거나 다른 I/O 소스를 확인할 수 있다.<br>일반적으로 <code>select()</code>, <code>poll()</code>, <code>epoll()</code>, <code>kqueue()</code> 같은 I/O 멀티플렉싱 메커니즘과 결합하여 이벤트 루프 패턴으로 구현되며, 단일 스레드로 수만~수십만 개의 동시 연결을 처리할 수 있어 C10K 문제의 해결책으로 자리잡았다.<br>Node.js, nginx, Redis 같은 고성능 서버가 이 방식을 채택하며, I/O 대기 시간이 길고 동시성이 높은 환경에서 탁월한 자원 효율을 보인다.<br>그러나 콜백 지옥 (callback hell), 복잡한 상태 관리, 디버깅 어려움 등의 단점이 있으며, CPU 집약적 작업에는 부적합하다.</p><h3 id=공통-핵심-개념>공통 핵심 개념<a hidden class=anchor aria-hidden=true href=#공통-핵심-개념>#</a></h3><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>실무 역할</th><th>선행 지식</th><th>연관 개념</th><th>활용 예시</th><th>도구/표준</th></tr></thead><tbody><tr><td>I/O 작업 (I/O Operation)</td><td>프로세스가 커널을 통해 외부 장치 (디스크, 네트워크) 와 데이터를 주고받는 동작</td><td>모든 데이터 입출력의 기본 단위</td><td>시스템 콜, 커널</td><td>read, write, recv, send</td><td><code>fd = open(); read(fd, buf, size);</code></td><td>POSIX</td></tr><tr><td>제어 흐름 (Control Flow)</td><td>프로그램 실행 순서와 CPU 제어권의 이동 경로</td><td>블로킹/논블로킹 구분 핵심</td><td>프로그램 실행 모델</td><td>순차, 분기, 반복</td><td>if-else, while, function call</td><td>N/A</td></tr><tr><td>대기 상태 (Waiting State)</td><td>프로세스/스레드가 I/O 완료를 기다리며 실행되지 않는 상태</td><td>자원 활용도 결정</td><td>프로세스 상태 전이</td><td>TASK_INTERRUPTIBLE</td><td>블로킹 시스템 콜 중 대기</td><td>Linux Kernel</td></tr><tr><td>즉시 반환 (Immediate Return)</td><td>Non-Blocking 에서 I/O 준비 여부와 무관하게 함수가 바로 반환</td><td>이벤트 루프 구현 기반</td><td>함수 호출 규약</td><td>EAGAIN, EWOULDBLOCK</td><td><code>ret = read(fd, buf, size); # ret=-1</code></td><td>POSIX errno</td></tr><tr><td>I/O 멀티플렉싱 (I/O Multiplexing)</td><td>여러 FD 를 동시에 감시하여 준비된 FD 만 처리</td><td>단일 스레드 다중 연결 처리</td><td>파일 디스크립터</td><td>select, poll, epoll, kqueue</td><td><code>epoll_wait(epfd, events, …)</code></td><td>Linux epoll, BSD kqueue</td></tr><tr><td>이벤트 루프 (Event Loop)</td><td>Non-Blocking I/O 이벤트를 반복 감지하고 콜백 실행</td><td>비동기 프로그래밍 런타임 코어</td><td>콜백, 이벤트 큐</td><td>libuv, asyncio event loop</td><td><code>while True: process_events()</code></td><td>Node.js, Python asyncio</td></tr><tr><td>콜백 (Callback)</td><td>비동기 작업 완료 시 호출되는 함수</td><td>Non-Blocking 완료 통보</td><td>함수 포인터, 클로저</td><td>Promise, Future</td><td><code>read_async(fd, callback)</code></td><td>JavaScript, Python</td></tr><tr><td>컨텍스트 스위칭 (Context Switching)</td><td>OS 가 CPU 를 한 스레드에서 다른 스레드로 전환하는 동작</td><td>멀티스레드 오버헤드의 원인</td><td>프로세스, 스레드, 스케줄러</td><td>스케줄링, 프리엠션</td><td>블로킹 시 다른 스레드로 전환</td><td>OS 스케줄러</td></tr><tr><td>스레드 풀 (Thread Pool)</td><td>미리 생성된 워커 스레드 집합으로 작업 할당</td><td>블로킹 I/O 확장성 개선</td><td>멀티스레딩</td><td>Executor, Worker Queue</td><td><code>pool.submit(blocking_task)</code></td><td>Java ExecutorService, Python concurrent.futures</td></tr><tr><td>동기 vs 비동기 (Sync vs Async)</td><td>호출자가 결과를 기다리는지 (동기) vs 결과를 나중에 받는지 (비동기)</td><td>프로그래밍 모델 구분</td><td>함수 호출</td><td>Blocking/Non-Blocking</td><td><code>result = sync_call()</code> vs <code>async_call(callback)</code></td><td>N/A</td></tr></tbody></table><h3 id=대상별-보강-개념>대상별 보강 개념<a hidden class=anchor aria-hidden=true href=#대상별-보강-개념>#</a></h3><h4 id=blocking-io-보강-개념>Blocking I/O 보강 개념<a hidden class=anchor aria-hidden=true href=#blocking-io-보강-개념>#</a></h4><ol><li><p><strong>동기 I/O 와의 관계</strong></p><ul><li>Blocking I/O 는 대부분 동기 (Synchronous) I/O 이다.</li><li>호출 → 대기 → 완료 → 반환의 선형 흐름.</li><li>예외: 동기이지만 Non-Blocking 인 경우도 존재 (드물지만 가능).</li></ul></li><li><p><strong>스레드 기반 동시성</strong></p><ul><li>Thread-per-connection 모델: 각 연결마다 전용 스레드.</li><li>Thread Pool 모델: 제한된 워커 스레드로 작업 처리.</li><li>Green Threads (Go): 사용자 레벨 경량 스레드로 블로킹 흡수.</li></ul></li><li><p><strong>버퍼 관리</strong></p><ul><li>커널 버퍼: 커널이 데이터를 임시 저장.</li><li>사용자 버퍼: 애플리케이션이 제공한 메모리.</li><li>블로킹 중에는 커널이 버퍼 채우기를 완료할 때까지 대기.</li></ul></li></ol><h4 id=non-blocking-io-보강-개념>Non-Blocking I/O 보강 개념<a hidden class=anchor aria-hidden=true href=#non-blocking-io-보강-개념>#</a></h4><ol><li><p><strong>Readiness Model vs Completion Model</strong></p><ul><li><strong>Readiness</strong>: I/O 가 준비되었는지 확인 (epoll, select) → 애플리케이션이 직접 read/write.</li><li><strong>Completion</strong>: I/O 완료를 통보받음 (IOCP, io_uring) → 커널이 데이터 복사까지 완료.</li></ul></li><li><p><strong>Polling vs Event Notification</strong></p><ul><li><strong>Polling</strong>: 반복해서 상태 확인 (busy-waiting, 비효율).</li><li><strong>Event Notification</strong>: 준비되면 알림 (epoll edge-triggered, level-triggered).</li></ul></li><li><p><strong>콜백 지옥과 해결책</strong></p><ul><li>문제: 중첩된 콜백으로 코드 가독성 저하.</li><li>해결: Promise/Future, async/await, Reactive Streams.</li></ul></li><li><p><strong>백프레셔 (Backpressure)</strong></p><ul><li>빠른 생산자와 느린 소비자 간 속도 불균형 문제.</li><li>Non-Blocking 에서 버퍼 오버플로우 방지 필요.</li></ul></li></ol><h3 id=실무-연관성-매트릭스>실무 연관성 매트릭스<a hidden class=anchor aria-hidden=true href=#실무-연관성-매트릭스>#</a></h3><table><thead><tr><th>실무 영역</th><th>대표 시나리오</th><th>필요 역량</th><th>기대 효과</th><th>난이도</th><th>ROI</th></tr></thead><tbody><tr><td>웹 서버 개발</td><td>HTTP 요청 처리, 정적/동적 콘텐츠 제공</td><td>소켓 프로그래밍, 이벤트 루프</td><td>동시 처리량 10 배 향상</td><td>중</td><td>매우 높음</td></tr><tr><td>데이터베이스 커넥션 풀</td><td>다수 클라이언트 → DB 연결 관리</td><td>커넥션 재사용, 타임아웃 처리</td><td>커넥션 수 1/10 감소, 지연 안정화</td><td>중</td><td>높음</td></tr><tr><td>마이크로서비스 통신</td><td>REST/gRPC API 호출, 서비스 간 메시징</td><td>비동기 클라이언트, 재시도 로직</td><td>장애 격리, 응답성 개선</td><td>중상</td><td>높음</td></tr><tr><td>파일 시스템 대량 처리</td><td>로그 수집, 백업, ETL 파이프라인</td><td>비동기 파일 I/O, 스트림 처리</td><td>처리 시간 50% 단축</td><td>중</td><td>중</td></tr><tr><td>실시간 데이터 스트리밍</td><td>WebSocket, Server-Sent Events, 채팅</td><td>이벤트 기반 아키텍처, 메시지 큐</td><td>동시 접속 10 만 + 지원</td><td>상</td><td>매우 높음</td></tr><tr><td>IoT 게이트웨이</td><td>센서 데이터 수집, 원격 제어</td><td>MQTT, CoAP, 저전력 프로토콜</td><td>단일 노드에서 1 만 + 디바이스 처리</td><td>상</td><td>높음</td></tr><tr><td>배치 작업 처리</td><td>대용량 데이터 변환, 리포트 생성</td><td>병렬 처리, 파티셔닝</td><td>처리 복잡도 단순화, 안정성 향상</td><td>하</td><td>중</td></tr><tr><td>모니터링/로깅 시스템</td><td>메트릭 수집, 로그 전송</td><td>비동기 전송, 버퍼링</td><td>애플리케이션 성능 영향 최소화</td><td>중</td><td>높음</td></tr></tbody></table><h3 id=16-특성특징기능역할-요약-phase-0-강제-반영>1.6 특성·특징·기능·역할 요약 (Phase 0 강제 반영)<a hidden class=anchor aria-hidden=true href=#16-특성특징기능역할-요약-phase-0-강제-반영>#</a></h3><h4 id=a-blocking-io-특성특징기능역할>A. Blocking I/O 특성·특징·기능·역할<a hidden class=anchor aria-hidden=true href=#a-blocking-io-특성특징기능역할>#</a></h4><table><thead><tr><th>카테고리</th><th>항목</th><th>설명</th><th>실무 영향</th><th>근거/출처</th></tr></thead><tbody><tr><td><strong>특성</strong></td><td>순차적 실행</td><td>I/O 완료까지 다음 코드 실행 안 됨</td><td>코드 흐름 직관적</td><td>POSIX read() 명세</td></tr><tr><td><strong>특성</strong></td><td>스레드 점유</td><td>I/O 대기 중에도 스레드 자원 소비</td><td>동시 연결 시 스레드 수 ↑</td><td>OS 스케줄러 동작</td></tr><tr><td><strong>특징</strong></td><td>단순한 프로그래밍 모델</td><td>순차적 코드, 에러 처리 명확</td><td>개발 속도 빠름, 유지보수 용이</td><td>일반적 개발 경험</td></tr><tr><td><strong>특징</strong></td><td>동기 I/O 와 밀접</td><td>대부분 동기 I/O 로 구현됨</td><td>호출 시점과 완료 시점 일치 보장</td><td>Stevens UNIX NP</td></tr><tr><td><strong>기능</strong></td><td>자동 대기 관리</td><td>OS 가 대기 큐에서 스케줄링</td><td>명시적 폴링 불필요</td><td>Linux Kernel 스케줄러</td></tr><tr><td><strong>기능</strong></td><td>버퍼 복사 완료 보장</td><td>반환 시 데이터가 사용자 버퍼에 존재</td><td>반환 후 즉시 데이터 사용 가능</td><td>read() 시맨틱</td></tr><tr><td><strong>역할</strong></td><td>전통적 서버 아키텍처 기반</td><td>Apache MPM, 데이터베이스 드라이버</td><td>레거시 시스템과 호환성 높음</td><td>Apache 문서</td></tr><tr><td><strong>역할</strong></td><td>멀티스레드 모델 전제</td><td>Thread-per-connection, Thread Pool</td><td>하드웨어 스레드 수에 확장성 제약</td><td>Java Servlet 모델</td></tr></tbody></table><h4 id=b-non-blocking-io-특성특징기능역할>B. Non-Blocking I/O 특성·특징·기능·역할<a hidden class=anchor aria-hidden=true href=#b-non-blocking-io-특성특징기능역할>#</a></h4><table><thead><tr><th>카테고리</th><th>항목</th><th>설명</th><th>실무 영향</th><th>근거/출처</th></tr></thead><tbody><tr><td><strong>특성</strong></td><td>즉시 반환</td><td>I/O 준비 여부와 무관하게 함수 즉시 반환</td><td>CPU 를 다른 작업에 활용 가능</td><td>fcntl O_NONBLOCK</td></tr><tr><td><strong>특성</strong></td><td>명시적 상태 확인 필요</td><td>EAGAIN 체크, 재시도 로직 구현 필요</td><td>코드 복잡도 증가</td><td>POSIX errno</td></tr><tr><td><strong>특징</strong></td><td>이벤트 기반 프로그래밍</td><td>콜백, Promise, async/await 패턴</td><td>비선형 제어 흐름, 디버깅 어려움</td><td>Node.js 설계</td></tr><tr><td><strong>특징</strong></td><td>단일 스레드 고효율</td><td>이벤트 루프로 다수 연결 처리</td><td>C10K 문제 해결</td><td>nginx 아키텍처</td></tr><tr><td><strong>기능</strong></td><td>I/O 멀티플렉싱</td><td>select, poll, epoll, kqueue 로 다중 FD 감시</td><td>단일 스레드에서 만개 연결 처리</td><td>epoll(7) man page</td></tr><tr><td><strong>기능</strong></td><td>자원 효율성</td><td>스레드 수 최소화, 메모리 사용 감소</td><td>동일 하드웨어에서 10 배 확장</td><td>libuv 벤치마크</td></tr><tr><td><strong>역할</strong></td><td>현대 고성능 서버 기반</td><td>Node.js, nginx, Redis, HAProxy</td><td>클라우드 네이티브 아키텍처 표준</td><td>CNCF 프로젝트</td></tr><tr><td><strong>역할</strong></td><td>비동기 프로그래밍 인프라</td><td>async/await, Reactive Streams 기반</td><td>마이크로서비스, 이벤트 소싱</td><td>Reactive Manifesto</td></tr></tbody></table><h2 id=phase-2-기초-정립-초심자-필수>Phase 2: 기초 정립 (초심자 필수)<a hidden class=anchor aria-hidden=true href=#phase-2-기초-정립-초심자-필수>#</a></h2><h3 id=작성-계획>작성 계획<a hidden class=anchor aria-hidden=true href=#작성-계획>#</a></h3><p><strong>핵심 질문</strong>:</p><ol><li>초심자가 Blocking 과 Non-Blocking 을 가장 쉽게 이해할 수 있는 방법은?</li><li>왜 두 가지 방식이 필요한가?</li><li>가장 간단한 예시로 차이를 보여줄 수 있는가?</li></ol><p><strong>데이터 소스/근거</strong>:</p><ul><li>Phase 0, 1 의 기초 개념</li><li>일상생활 비유</li><li>최소 코드 예시</li></ul><p><strong>작성 범위</strong>:</p><ul><li><strong>필수</strong>: 명확한 정의, 등장 배경, 간단한 비유/예시</li><li><strong>권장</strong>: 30 줄 이내 코드 예시</li><li><strong>생략</strong>: 시스템 내부 구조, 복잡한 최적화</li></ul><p><strong>결과물</strong>:</p><ul><li>대상별 기초 설명 (What + Why + Example)</li><li>비유를 통한 직관적 이해</li><li>간단한 Python 코드 예시</li></ul><hr><h3 id=21-blocking-io-기초>2.1 Blocking I/O 기초<a hidden class=anchor aria-hidden=true href=#21-blocking-io-기초>#</a></h3><h4 id=what-정의>What (정의)<a hidden class=anchor aria-hidden=true href=#what-정의>#</a></h4><p>**Blocking I/O (블로킹 I/O)**는 프로그램이 파일을 읽거나 네트워크로 데이터를 받을 때, 그 작업이 끝날 때까지 <strong>기다리는 (멈추는)</strong> 방식입니다.</p><p>마치 식당에서 주문한 음식이 나올 때까지 자리에서 <strong>가만히 앉아서 기다리는 것</strong>과 같습니다. 음식이 나오기 전까지는 다른 일을 하지 못하고 그저 기다립니다.</p><p>프로그래밍에서는:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>data</span> <span class=o>=</span> <span class=n>file</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>  <span class=c1># 이 줄에서 멈춤 (파일 읽기가 끝날 때까지)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>         <span class=c1># 읽기가 완료된 후에야 실행됨</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=why-등장-배경--필요성>Why (등장 배경 / 필요성)<a hidden class=anchor aria-hidden=true href=#why-등장-배경--필요성>#</a></h4><p><strong>역사적 배경</strong>:</p><ul><li>1970 년대 초기 UNIX 시스템부터 사용된 가장 기본적인 I/O 방식</li><li>컴퓨터 성능이 낮고, 동시에 처리할 작업이 적었던 시절에 적합</li><li>프로그래밍이 직관적이고 이해하기 쉬움</li></ul><p><strong>여전히 필요한 이유</strong>:</p><ol><li><strong>단순성</strong>: 코드를 위에서 아래로 순서대로 읽으면 됨</li><li><strong>명확성</strong>: 언제 데이터가 준비되는지 확실함</li><li><strong>디버깅 용이</strong>: 실행 순서가 명확해서 문제 추적이 쉬움</li><li><strong>작은 규모 적합</strong>: 동시 사용자가 적을 때는 충분히 효율적</li></ol><p><strong>실무 사례</strong>:</p><ul><li>관리자 도구, 배치 작업 (밤에 한 번 실행)</li><li>사내 시스템 (동시 사용자 &lt; 100 명)</li><li>간단한 스크립트</li></ul><h4 id=example-간단한-예시>Example (간단한 예시)<a hidden class=anchor aria-hidden=true href=#example-간단한-예시>#</a></h4><p><strong>일상생활 비유</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>상황: 은행 창구에서 업무 처리
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[Blocking 방식]
</span></span><span class=line><span class=cl>1. 번호표 뽑기
</span></span><span class=line><span class=cl>2. 의자에 앉아서 대기 (다른 일 못 함)
</span></span><span class=line><span class=cl>3. 내 번호 호출될 때까지 계속 기다림
</span></span><span class=line><span class=cl>4. 창구 가서 업무 처리
</span></span><span class=line><span class=cl>5. 완료 후 다음 일 시작
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>→ 기다리는 동안 아무것도 못 함
</span></span></code></pre></td></tr></table></div></div><p><strong>Python 코드 예시 (파일 읽기)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1> 1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2> 2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3> 3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4> 4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5> 5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6> 6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7> 7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8> 8</a>
</span><span class=lnt id=hl-2-9><a class=lnlinks href=#hl-2-9> 9</a>
</span><span class=lnt id=hl-2-10><a class=lnlinks href=#hl-2-10>10</a>
</span><span class=lnt id=hl-2-11><a class=lnlinks href=#hl-2-11>11</a>
</span><span class=lnt id=hl-2-12><a class=lnlinks href=#hl-2-12>12</a>
</span><span class=lnt id=hl-2-13><a class=lnlinks href=#hl-2-13>13</a>
</span><span class=lnt id=hl-2-14><a class=lnlinks href=#hl-2-14>14</a>
</span><span class=lnt id=hl-2-15><a class=lnlinks href=#hl-2-15>15</a>
</span><span class=lnt id=hl-2-16><a class=lnlinks href=#hl-2-16>16</a>
</span><span class=lnt id=hl-2-17><a class=lnlinks href=#hl-2-17>17</a>
</span><span class=lnt id=hl-2-18><a class=lnlinks href=#hl-2-18>18</a>
</span><span class=lnt id=hl-2-19><a class=lnlinks href=#hl-2-19>19</a>
</span><span class=lnt id=hl-2-20><a class=lnlinks href=#hl-2-20>20</a>
</span><span class=lnt id=hl-2-21><a class=lnlinks href=#hl-2-21>21</a>
</span><span class=lnt id=hl-2-22><a class=lnlinks href=#hl-2-22>22</a>
</span><span class=lnt id=hl-2-23><a class=lnlinks href=#hl-2-23>23</a>
</span><span class=lnt id=hl-2-24><a class=lnlinks href=#hl-2-24>24</a>
</span><span class=lnt id=hl-2-25><a class=lnlinks href=#hl-2-25>25</a>
</span><span class=lnt id=hl-2-26><a class=lnlinks href=#hl-2-26>26</a>
</span><span class=lnt id=hl-2-27><a class=lnlinks href=#hl-2-27>27</a>
</span><span class=lnt id=hl-2-28><a class=lnlinks href=#hl-2-28>28</a>
</span><span class=lnt id=hl-2-29><a class=lnlinks href=#hl-2-29>29</a>
</span><span class=lnt id=hl-2-30><a class=lnlinks href=#hl-2-30>30</a>
</span><span class=lnt id=hl-2-31><a class=lnlinks href=#hl-2-31>31</a>
</span><span class=lnt id=hl-2-32><a class=lnlinks href=#hl-2-32>32</a>
</span><span class=lnt id=hl-2-33><a class=lnlinks href=#hl-2-33>33</a>
</span><span class=lnt id=hl-2-34><a class=lnlinks href=#hl-2-34>34</a>
</span><span class=lnt id=hl-2-35><a class=lnlinks href=#hl-2-35>35</a>
</span><span class=lnt id=hl-2-36><a class=lnlinks href=#hl-2-36>36</a>
</span><span class=lnt id=hl-2-37><a class=lnlinks href=#hl-2-37>37</a>
</span><span class=lnt id=hl-2-38><a class=lnlinks href=#hl-2-38>38</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># blocking_example.py</span>
</span></span><span class=line><span class=cl><span class=c1># Blocking I/O로 파일 읽기</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>read_file_blocking</span><span class=p>(</span><span class=n>filename</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;블로킹 방식으로 파일을 읽는 함수&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[시작] </span><span class=si>{</span><span class=n>filename</span><span class=si>}</span><span class=s2> 읽기 시작&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 파일을 열고 읽기 (여기서 블로킹 발생)</span>
</span></span><span class=line><span class=cl>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>filename</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>data</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>  <span class=c1># 파일을 다 읽을 때까지 여기서 멈춤</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[완료] </span><span class=si>{</span><span class=n>filename</span><span class=si>}</span><span class=s2> 읽기 완료 (</span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>data</span><span class=p>)</span><span class=si>}</span><span class=s2> bytes)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>data</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 메인 실행</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;=== Blocking I/O 예제 ===&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 파일 3개를 순차적으로 읽기</span>
</span></span><span class=line><span class=cl><span class=n>data1</span> <span class=o>=</span> <span class=n>read_file_blocking</span><span class=p>(</span><span class=s2>&#34;file1.txt&#34;</span><span class=p>)</span>  <span class=c1># 1번 파일 읽기 (블로킹)</span>
</span></span><span class=line><span class=cl><span class=n>data2</span> <span class=o>=</span> <span class=n>read_file_blocking</span><span class=p>(</span><span class=s2>&#34;file2.txt&#34;</span><span class=p>)</span>  <span class=c1># 2번 파일 읽기 (블로킹)</span>
</span></span><span class=line><span class=cl><span class=n>data3</span> <span class=o>=</span> <span class=n>read_file_blocking</span><span class=p>(</span><span class=s2>&#34;file3.txt&#34;</span><span class=p>)</span>  <span class=c1># 3번 파일 읽기 (블로킹)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>end_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>총 소요 시간: </span><span class=si>{</span><span class=n>end_time</span> <span class=o>-</span> <span class=n>start_time</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>초&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 출력 예시:</span>
</span></span><span class=line><span class=cl><span class=c1># === Blocking I/O 예제 ===</span>
</span></span><span class=line><span class=cl><span class=c1># [시작] file1.txt 읽기 시작</span>
</span></span><span class=line><span class=cl><span class=c1># [완료] file1.txt 읽기 완료 (1024 bytes)</span>
</span></span><span class=line><span class=cl><span class=c1># [시작] file2.txt 읽기 시작</span>
</span></span><span class=line><span class=cl><span class=c1># [완료] file2.txt 읽기 완료 (2048 bytes)</span>
</span></span><span class=line><span class=cl><span class=c1># [시작] file3.txt 읽기 시작</span>
</span></span><span class=line><span class=cl><span class=c1># [완료] file3.txt 읽기 완료 (512 bytes)</span>
</span></span><span class=line><span class=cl><span class=c1># </span>
</span></span><span class=line><span class=cl><span class=c1># 총 소요 시간: 0.15초</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>특징</strong>:</p><ul><li>각 파일을 하나씩 순서대로 읽음</li><li>한 파일 읽기가 끝나야 다음 파일 읽기 시작</li><li>실행 순서가 명확하고 예측 가능</li></ul><hr><h4 id=다음-단계-연결>다음 단계 연결<a hidden class=anchor aria-hidden=true href=#다음-단계-연결>#</a></h4><p>Blocking I/O 의 기본 개념을 이해했다면, <strong>Phase 3</strong>에서는 내부적으로 어떻게 동작하는지 (시스템 콜, 커널의 역할) 자세히 배웁니다. 또한 여러 사용자를 동시에 처리하기 위한 멀티스레드 방식도 함께 다룹니다.</p><hr><h3 id=22-non-blocking-io-기초>2.2 Non-Blocking I/O 기초<a hidden class=anchor aria-hidden=true href=#22-non-blocking-io-기초>#</a></h3><h4 id=what-정의-1>What (정의)<a hidden class=anchor aria-hidden=true href=#what-정의-1>#</a></h4><p>**Non-Blocking I/O (논블로킹 I/O)**는 프로그램이 파일을 읽거나 네트워크로 데이터를 받을 때, 작업이 끝나지 않아도 <strong>기다리지 않고 바로 다음 일을 하는</strong> 방식입니다.</p><p>마치 식당에서 주문만 하고, <strong>진동벨을 받아서 다른 일을 하다가</strong> 벨이 울리면 그때 가서 음식을 받는 것과 같습니다. 기다리는 동안 다른 일을 할 수 있습니다.</p><p>프로그래밍에서는:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2>2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3>3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4>4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 파일 읽기 시작 (기다리지 않고 바로 반환)</span>
</span></span><span class=line><span class=cl><span class=n>file</span><span class=o>.</span><span class=n>read_async</span><span class=p>(</span><span class=n>callback</span><span class=o>=</span><span class=n>on_data_ready</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;다른 작업 수행&#34;</span><span class=p>)</span>  <span class=c1># 읽기가 끝나지 않아도 즉시 실행됨</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 나중에 데이터가 준비되면 callback 함수가 자동으로 호출됨</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=why-등장-배경--필요성-1>Why (등장 배경 / 필요성)<a hidden class=anchor aria-hidden=true href=#why-등장-배경--필요성-1>#</a></h4><p><strong>등장 배경</strong>:</p><ul><li><strong>1990 년대 후반 인터넷 시대</strong>: 웹 서버가 동시에 수천~수만 명의 사용자를 처리해야 함</li><li><strong>C10K 문제 (1999)</strong>: 만 명의 동시 연결을 어떻게 처리할까?</li><li><strong>전통적 방식의 한계</strong>: 사용자마다 스레드를 만들면 메모리 부족, 성능 저하</li></ul><p><strong>필요한 이유</strong>:</p><ol><li><strong>높은 동시성</strong>: 한 번에 많은 사용자 처리 (수만~수십만 명)</li><li><strong>자원 효율</strong>: 적은 메모리와 CPU 로 더 많은 일 처리</li><li><strong>빠른 응답</strong>: I/O 를 기다리는 동안 다른 요청 처리</li><li><strong>현대 웹 필수</strong>: 채팅, 실시간 알림, 스트리밍</li></ol><p><strong>실무 사례</strong>:</p><ul><li>웹 서버 (Node.js, nginx)</li><li>채팅 서버 (실시간 메시징)</li><li>API 게이트웨이 (마이크로서비스)</li><li>게임 서버 (다수 플레이어 동시 접속)</li></ul><h4 id=example-간단한-예시-1>Example (간단한 예시)<a hidden class=anchor aria-hidden=true href=#example-간단한-예시-1>#</a></h4><p><strong>일상생활 비유</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1> 1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2> 2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3> 3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4> 4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5> 5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6> 6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7> 7</a>
</span><span class=lnt id=hl-4-8><a class=lnlinks href=#hl-4-8> 8</a>
</span><span class=lnt id=hl-4-9><a class=lnlinks href=#hl-4-9> 9</a>
</span><span class=lnt id=hl-4-10><a class=lnlinks href=#hl-4-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>상황: 패스트푸드 주문
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[Non-Blocking 방식]
</span></span><span class=line><span class=cl>1. 카운터에서 주문
</span></span><span class=line><span class=cl>2. 진동벨 받기
</span></span><span class=line><span class=cl>3. 의자에 앉아서 스마트폰 사용 (다른 일 가능!)
</span></span><span class=line><span class=cl>4. 벨이 울리면 → 카운터 가서 음식 받기
</span></span><span class=line><span class=cl>5. 다시 앉아서 다음 벨 대기 (다른 주문도 동시에 처리 가능)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>→ 기다리는 동안 다른 일을 할 수 있음
</span></span></code></pre></td></tr></table></div></div><p><strong>Python 코드 예시 (asyncio 사용)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1> 1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2> 2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3> 3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4> 4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5> 5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6> 6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7> 7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8> 8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9> 9</a>
</span><span class=lnt id=hl-5-10><a class=lnlinks href=#hl-5-10>10</a>
</span><span class=lnt id=hl-5-11><a class=lnlinks href=#hl-5-11>11</a>
</span><span class=lnt id=hl-5-12><a class=lnlinks href=#hl-5-12>12</a>
</span><span class=lnt id=hl-5-13><a class=lnlinks href=#hl-5-13>13</a>
</span><span class=lnt id=hl-5-14><a class=lnlinks href=#hl-5-14>14</a>
</span><span class=lnt id=hl-5-15><a class=lnlinks href=#hl-5-15>15</a>
</span><span class=lnt id=hl-5-16><a class=lnlinks href=#hl-5-16>16</a>
</span><span class=lnt id=hl-5-17><a class=lnlinks href=#hl-5-17>17</a>
</span><span class=lnt id=hl-5-18><a class=lnlinks href=#hl-5-18>18</a>
</span><span class=lnt id=hl-5-19><a class=lnlinks href=#hl-5-19>19</a>
</span><span class=lnt id=hl-5-20><a class=lnlinks href=#hl-5-20>20</a>
</span><span class=lnt id=hl-5-21><a class=lnlinks href=#hl-5-21>21</a>
</span><span class=lnt id=hl-5-22><a class=lnlinks href=#hl-5-22>22</a>
</span><span class=lnt id=hl-5-23><a class=lnlinks href=#hl-5-23>23</a>
</span><span class=lnt id=hl-5-24><a class=lnlinks href=#hl-5-24>24</a>
</span><span class=lnt id=hl-5-25><a class=lnlinks href=#hl-5-25>25</a>
</span><span class=lnt id=hl-5-26><a class=lnlinks href=#hl-5-26>26</a>
</span><span class=lnt id=hl-5-27><a class=lnlinks href=#hl-5-27>27</a>
</span><span class=lnt id=hl-5-28><a class=lnlinks href=#hl-5-28>28</a>
</span><span class=lnt id=hl-5-29><a class=lnlinks href=#hl-5-29>29</a>
</span><span class=lnt id=hl-5-30><a class=lnlinks href=#hl-5-30>30</a>
</span><span class=lnt id=hl-5-31><a class=lnlinks href=#hl-5-31>31</a>
</span><span class=lnt id=hl-5-32><a class=lnlinks href=#hl-5-32>32</a>
</span><span class=lnt id=hl-5-33><a class=lnlinks href=#hl-5-33>33</a>
</span><span class=lnt id=hl-5-34><a class=lnlinks href=#hl-5-34>34</a>
</span><span class=lnt id=hl-5-35><a class=lnlinks href=#hl-5-35>35</a>
</span><span class=lnt id=hl-5-36><a class=lnlinks href=#hl-5-36>36</a>
</span><span class=lnt id=hl-5-37><a class=lnlinks href=#hl-5-37>37</a>
</span><span class=lnt id=hl-5-38><a class=lnlinks href=#hl-5-38>38</a>
</span><span class=lnt id=hl-5-39><a class=lnlinks href=#hl-5-39>39</a>
</span><span class=lnt id=hl-5-40><a class=lnlinks href=#hl-5-40>40</a>
</span><span class=lnt id=hl-5-41><a class=lnlinks href=#hl-5-41>41</a>
</span><span class=lnt id=hl-5-42><a class=lnlinks href=#hl-5-42>42</a>
</span><span class=lnt id=hl-5-43><a class=lnlinks href=#hl-5-43>43</a>
</span><span class=lnt id=hl-5-44><a class=lnlinks href=#hl-5-44>44</a>
</span><span class=lnt id=hl-5-45><a class=lnlinks href=#hl-5-45>45</a>
</span><span class=lnt id=hl-5-46><a class=lnlinks href=#hl-5-46>46</a>
</span><span class=lnt id=hl-5-47><a class=lnlinks href=#hl-5-47>47</a>
</span><span class=lnt id=hl-5-48><a class=lnlinks href=#hl-5-48>48</a>
</span><span class=lnt id=hl-5-49><a class=lnlinks href=#hl-5-49>49</a>
</span><span class=lnt id=hl-5-50><a class=lnlinks href=#hl-5-50>50</a>
</span><span class=lnt id=hl-5-51><a class=lnlinks href=#hl-5-51>51</a>
</span><span class=lnt id=hl-5-52><a class=lnlinks href=#hl-5-52>52</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># non_blocking_example.py</span>
</span></span><span class=line><span class=cl><span class=c1># Non-Blocking I/O로 파일 읽기 (asyncio 사용)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>asyncio</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>read_file_async</span><span class=p>(</span><span class=n>filename</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;논블로킹 방식으로 파일을 읽는 비동기 함수&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[시작] </span><span class=si>{</span><span class=n>filename</span><span class=si>}</span><span class=s2> 읽기 시작&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 비동기 파일 읽기 시뮬레이션 (실제로는 aiofiles 사용)</span>
</span></span><span class=line><span class=cl>    <span class=c1># await는 &#34;기다리되, 다른 작업도 허용&#34;의 의미</span>
</span></span><span class=line><span class=cl>    <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.05</span><span class=p>)</span>  <span class=c1># I/O 대기 시뮬레이션</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 파일 읽기 (실제로는 with aiofiles.open()...)</span>
</span></span><span class=line><span class=cl>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>filename</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>data</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[완료] </span><span class=si>{</span><span class=n>filename</span><span class=si>}</span><span class=s2> 읽기 완료 (</span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>data</span><span class=p>)</span><span class=si>}</span><span class=s2> bytes)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>data</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;메인 비동기 함수&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;=== Non-Blocking I/O 예제 ===&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 파일 3개를 동시에 읽기 시작 (블로킹 없이!)</span>
</span></span><span class=line><span class=cl>    <span class=c1># asyncio.gather는 여러 작업을 동시에 실행</span>
</span></span><span class=line><span class=cl>    <span class=n>results</span> <span class=o>=</span> <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>gather</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>read_file_async</span><span class=p>(</span><span class=s2>&#34;file1.txt&#34;</span><span class=p>),</span>  <span class=c1># 동시 실행 1</span>
</span></span><span class=line><span class=cl>        <span class=n>read_file_async</span><span class=p>(</span><span class=s2>&#34;file2.txt&#34;</span><span class=p>),</span>  <span class=c1># 동시 실행 2</span>
</span></span><span class=line><span class=cl>        <span class=n>read_file_async</span><span class=p>(</span><span class=s2>&#34;file3.txt&#34;</span><span class=p>),</span>  <span class=c1># 동시 실행 3</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>end_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>총 소요 시간: </span><span class=si>{</span><span class=n>end_time</span> <span class=o>-</span> <span class=n>start_time</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>초&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;읽은 파일 수: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>results</span><span class=p>)</span><span class=si>}</span><span class=s2>개&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 비동기 실행</span>
</span></span><span class=line><span class=cl><span class=n>asyncio</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>main</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 출력 예시:</span>
</span></span><span class=line><span class=cl><span class=c1># === Non-Blocking I/O 예제 ===</span>
</span></span><span class=line><span class=cl><span class=c1># [시작] file1.txt 읽기 시작</span>
</span></span><span class=line><span class=cl><span class=c1># [시작] file2.txt 읽기 시작</span>
</span></span><span class=line><span class=cl><span class=c1># [시작] file3.txt 읽기 시작</span>
</span></span><span class=line><span class=cl><span class=c1># [완료] file1.txt 읽기 완료 (1024 bytes)</span>
</span></span><span class=line><span class=cl><span class=c1># [완료] file2.txt 읽기 완료 (2048 bytes)</span>
</span></span><span class=line><span class=cl><span class=c1># [완료] file3.txt 읽기 완료 (512 bytes)</span>
</span></span><span class=line><span class=cl><span class=c1># </span>
</span></span><span class=line><span class=cl><span class=c1># 총 소요 시간: 0.05초  ← Blocking보다 3배 빠름!</span>
</span></span><span class=line><span class=cl><span class=c1># 읽은 파일 수: 3개</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>특징</strong>:</p><ul><li>3 개 파일을 <strong>거의 동시에</strong> 읽기 시작</li><li>한 파일이 끝나기를 기다리지 않고 다음 파일도 바로 시작</li><li>전체 시간이 크게 단축됨 (3 배 빠름)</li></ul><hr><h4 id=다음-단계-연결-1>다음 단계 연결<a hidden class=anchor aria-hidden=true href=#다음-단계-연결-1>#</a></h4><p>Non-Blocking I/O 의 기본 개념을 이해했다면, <strong>Phase 3</strong>에서는 이벤트 루프가 어떻게 동작하는지, <code>select()</code>, <code>epoll()</code> 같은 멀티플렉싱 메커니즘을 배웁니다. 또한 콜백과 <code>async/await</code> 의 차이도 자세히 다룹니다.</p><hr><h3 id=23-blocking-vs-non-blocking-직관적-비교>2.3 Blocking Vs Non-Blocking 직관적 비교<a hidden class=anchor aria-hidden=true href=#23-blocking-vs-non-blocking-직관적-비교>#</a></h3><h4 id=시각적-비교>시각적 비교<a hidden class=anchor aria-hidden=true href=#시각적-비교>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a>
</span><span class=lnt id=hl-6-13><a class=lnlinks href=#hl-6-13>13</a>
</span><span class=lnt id=hl-6-14><a class=lnlinks href=#hl-6-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[Blocking I/O - 순차 처리]
</span></span><span class=line><span class=cl>시간 →
</span></span><span class=line><span class=cl>스레드1: [파일1 읽기 ████] → [파일2 읽기 ████] → [파일3 읽기 ████]
</span></span><span class=line><span class=cl>         대기...            대기...            대기...
</span></span><span class=line><span class=cl>         
</span></span><span class=line><span class=cl>총 시간: ████████████ (12초)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[Non-Blocking I/O - 병렬 처리]
</span></span><span class=line><span class=cl>시간 →
</span></span><span class=line><span class=cl>스레드1: [파일1] [파일2] [파일3] → [모두 처리] ████
</span></span><span class=line><span class=cl>         시작    시작    시작      동시 대기...
</span></span><span class=line><span class=cl>         
</span></span><span class=line><span class=cl>총 시간: ████ (4초)
</span></span></code></pre></td></tr></table></div></div><h4 id=핵심-차이-요약-표>핵심 차이 요약 표<a hidden class=anchor aria-hidden=true href=#핵심-차이-요약-표>#</a></h4><table><thead><tr><th>비교 항목</th><th>Blocking I/O</th><th>Non-Blocking I/O</th></tr></thead><tbody><tr><td><strong>대기 방식</strong></td><td>완료까지 멈춤 (wait)</td><td>즉시 반환, 나중에 확인 (poll)</td></tr><tr><td><strong>실행 흐름</strong></td><td>순차적 (위→아래)</td><td>이벤트 기반 (콜백)</td></tr><tr><td><strong>코드 난이도</strong></td><td>쉬움 ⭐</td><td>어려움 ⭐⭐⭐</td></tr><tr><td><strong>성능</strong></td><td>동시 처리 제한</td><td>높은 동시성</td></tr><tr><td><strong>메모리</strong></td><td>연결당 스레드 (높음)</td><td>단일 스레드 (낮음)</td></tr><tr><td><strong>적합 상황</strong></td><td>소규모, 순차 작업</td><td>대규모, 동시 다중 작업</td></tr><tr><td><strong>대표 예시</strong></td><td>전통적 웹 서버 (Apache)</td><td>현대 웹 서버 (Node.js, nginx)</td></tr></tbody></table><hr><h3 id=24-초심자를-위한-선택-가이드>2.4 초심자를 위한 선택 가이드<a hidden class=anchor aria-hidden=true href=#24-초심자를-위한-선택-가이드>#</a></h3><h4 id=-언제-blocking-을-쓸까요>" 언제 Blocking 을 쓸까요?"<a hidden class=anchor aria-hidden=true href=#-언제-blocking-을-쓸까요>#</a></h4><p>✅ <strong>다음 경우에 Blocking 이 좋습니다</strong>:</p><ol><li><strong>프로그래밍을 처음 배우는 중</strong>: 코드가 간단하고 이해하기 쉬움</li><li><strong>사용자가 적을 때</strong> (동시 &lt; 100 명): 성능 차이가 거의 없음</li><li><strong>순차 처리가 자연스러울 때</strong>: 파일 변환, 데이터 백업</li><li><strong>빠른 개발이 중요할 때</strong>: 프로토타입, MVP</li></ol><p><strong>예시</strong>:</p><ul><li>사내 관리 도구</li><li>데이터 분석 스크립트</li><li>일회성 배치 작업</li></ul><hr><h4 id=-언제-non-blocking-을-쓸까요>" 언제 Non-Blocking 을 쓸까요?"<a hidden class=anchor aria-hidden=true href=#-언제-non-blocking-을-쓸까요>#</a></h4><p>✅ <strong>다음 경우에 Non-Blocking 이 필요합니다</strong>:</p><ol><li><strong>많은 사용자를 동시에 처리</strong> (동시 > 1,000 명): 웹 서비스, API</li><li><strong>실시간 응답이 중요할 때</strong>: 채팅, 알림</li><li><strong>I/O 대기가 많을 때</strong>: 네트워크 통신, 데이터베이스 조회</li><li><strong>자원 효율이 중요할 때</strong>: 클라우드 비용 절감</li></ol><p><strong>예시</strong>:</p><ul><li>웹 서버 (REST API)</li><li>채팅 서버</li><li>실시간 대시보드</li><li>마이크로서비스</li></ul><hr><h3 id=25-자주-하는-질문-faq>2.5 자주 하는 질문 (FAQ)<a hidden class=anchor aria-hidden=true href=#25-자주-하는-질문-faq>#</a></h3><p><strong>Q1. &ldquo;Non-Blocking 이 항상 빠른가요?&rdquo;</strong></p><p>A. 아니요! CPU 를 많이 쓰는 작업 (예: 이미지 처리, 암호화) 은 Blocking 이 더 단순하고 효율적일 수 있습니다. Non-Blocking 은 <strong>기다리는 시간이 많을 때</strong>(네트워크, 파일 I/O) 유리합니다.</p><p><strong>Q2. " 둘 중 하나만 써야 하나요?"</strong></p><p>A. 아니요! 실무에서는 혼합해서 씁니다.</p><ul><li>예: Node.js(Non-Blocking) + Worker Threads(Blocking CPU 작업)</li><li>예: Python FastAPI(Non-Blocking) + Celery(Blocking 배치)</li></ul><p><strong>Q3. " 초보자는 어느 것부터 배워야 하나요?"</strong></p><p>A. <strong>Blocking 부터 시작</strong>하세요!</p><ol><li>Blocking 으로 기본 개념 익히기</li><li>동시성 문제 경험하기</li><li>그 다음 Non-Blocking 으로 넘어가기</li></ol><p><strong>Q4. &ldquo;async/await 과 Non-Blocking 은 같은 건가요?&rdquo;</strong></p><p>A. 비슷하지만 다릅니다!</p><ul><li><strong>Non-Blocking</strong>: I/O 가 즉시 반환되는 <strong>방식</strong></li><li><strong>async/await</strong>: Non-Blocking 을 <strong>쉽게 쓰게 해주는 문법</strong> (Python, JavaScript)</li></ul><hr><h3 id=검증-대기-목록>검증 대기 목록<a hidden class=anchor aria-hidden=true href=#검증-대기-목록>#</a></h3><table><thead><tr><th>항목</th><th>부족 근거/의문</th><th>예상 1 차 출처</th><th>교차 검증 후보</th><th>담당</th><th>마감</th></tr></thead><tbody><tr><td>asyncio 내부 동작 정확성</td><td>이벤트 루프 세부 동작 추가 확인 필요</td><td>Python asyncio 공식 문서</td><td>asyncio 소스 코드</td><td>-</td><td>2025-10-10</td></tr><tr><td>초심자용 비유 적절성</td><td>은행/패스트푸드 비유가 보편적인지 검증</td><td>교육 피드백 수집</td><td>기술 블로그 비유 조사</td><td>-</td><td>2025-10-15</td></tr></tbody></table><hr><h2 id=phase-2-완료-체크>Phase 2 완료 체크<a hidden class=anchor aria-hidden=true href=#phase-2-완료-체크>#</a></h2><p>✅ <strong>완료 항목</strong>:</p><ul><li>Blocking I/O 기초 (What + Why + Example)</li><li>Non-Blocking I/O 기초 (What + Why + Example)</li><li>일상생활 비유 (은행 창구 vs 패스트푸드)</li><li>Python 코드 예시 (각 30 줄 이내)</li><li>시각적 비교 및 핵심 차이 표</li><li>초심자 선택 가이드</li><li>FAQ (4 개)</li></ul><p><strong>Phase 2 완료 상태</strong>: ✅<br><strong>다음 단계</strong>: Phase 3 (핵심 원리) 진행 준비 완료</p><hr><p>좋습니다! <strong>Phase 3: 핵심 원리</strong>를 진행하겠습니다.</p><hr><h2 id=phase-3-핵심-원리-중급-필수>Phase 3: 핵심 원리 (중급 필수)<a hidden class=anchor aria-hidden=true href=#phase-3-핵심-원리-중급-필수>#</a></h2><h3 id=작성-계획-1>작성 계획<a hidden class=anchor aria-hidden=true href=#작성-계획-1>#</a></h3><p><strong>핵심 질문</strong>:</p><ol><li>시스템 콜 레벨에서 Blocking 과 Non-Blocking 은 어떻게 다른가?</li><li>커널과 애플리케이션 간 데이터 흐름은 어떻게 되는가?</li><li>이벤트 루프는 정확히 어떻게 동작하는가?</li></ol><p><strong>데이터 소스/근거</strong>:</p><ul><li>Linux man pages (read, write, fcntl, select, epoll)</li><li>Stevens &ldquo;UNIX Network Programming&rdquo;</li><li>Linux Kernel 소스 코드 (fs/read_write.c)</li><li>Node.js libuv 아키텍처 문서</li></ul><p><strong>작성 범위</strong>:</p><ul><li><strong>필수</strong>: 시스템 콜 동작, 커널/유저 공간 상호작용, 이벤트 루프</li><li><strong>권장</strong>: 시퀀스 다이어그램, 상태 전이도</li><li><strong>생략</strong>: 커널 내부 락 (lock) 메커니즘 상세</li></ul><p><strong>결과물</strong>:</p><ul><li>동작 흐름 다이어그램</li><li>구성 요소 상세 표</li><li>시스템 콜 레벨 비교</li><li>기능·역할 매핑 표</li></ul><hr><h3 id=31-공통-원리-프레임>3.1 공통 원리 프레임<a hidden class=anchor aria-hidden=true href=#31-공통-원리-프레임>#</a></h3><h4 id=io-작업의-전체-흐름-5-단계>I/O 작업의 전체 흐름 (5 단계)<a hidden class=anchor aria-hidden=true href=#io-작업의-전체-흐름-5-단계>#</a></h4><p>모든 I/O 작업은 다음 5 단계를 거칩니다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2>2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3>3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4>4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5>5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6>6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7>7</a>
</span><span class=lnt id=hl-7-8><a class=lnlinks href=#hl-7-8>8</a>
</span><span class=lnt id=hl-7-9><a class=lnlinks href=#hl-7-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>1. 애플리케이션 요청
</span></span><span class=line><span class=cl>   ↓
</span></span><span class=line><span class=cl>2. 시스템 콜 호출 (유저 공간 → 커널 공간)
</span></span><span class=line><span class=cl>   ↓
</span></span><span class=line><span class=cl>3. 커널 데이터 준비 (디스크/네트워크에서 읽기)
</span></span><span class=line><span class=cl>   ↓
</span></span><span class=line><span class=cl>4. 데이터 복사 (커널 버퍼 → 유저 버퍼)
</span></span><span class=line><span class=cl>   ↓
</span></span><span class=line><span class=cl>5. 애플리케이션으로 제어 반환
</span></span></code></pre></td></tr></table></div></div><p><strong>Blocking 과 Non-Blocking 의 차이는 주로 3~4 단계에서 발생합니다.</strong></p><hr><h4 id=시스템-콜-수준-비교>시스템 콜 수준 비교<a hidden class=anchor aria-hidden=true href=#시스템-콜-수준-비교>#</a></h4><p><strong>Blocking I/O 시스템 콜 흐름</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span><span class=lnt id=hl-8-11><a class=lnlinks href=#hl-8-11>11</a>
</span><span class=lnt id=hl-8-12><a class=lnlinks href=#hl-8-12>12</a>
</span><span class=lnt id=hl-8-13><a class=lnlinks href=#hl-8-13>13</a>
</span><span class=lnt id=hl-8-14><a class=lnlinks href=#hl-8-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>유저 프로세스              커널                    디바이스
</span></span><span class=line><span class=cl>    |                      |                        |
</span></span><span class=line><span class=cl>    | read(fd, buf, size)  |                        |
</span></span><span class=line><span class=cl>    |---------------------&gt;|                        |
</span></span><span class=line><span class=cl>    |                      | 데이터 요청            |
</span></span><span class=line><span class=cl>    |                      |-----------------------&gt;|
</span></span><span class=line><span class=cl>    | [블로킹 대기]        | [커널 버퍼 대기]       |
</span></span><span class=line><span class=cl>    | (다른 작업 불가)     |                        |
</span></span><span class=line><span class=cl>    |                      |&lt;-----------------------|
</span></span><span class=line><span class=cl>    |                      | 데이터 도착            |
</span></span><span class=line><span class=cl>    |                      | [커널 버퍼 → 유저]    |
</span></span><span class=line><span class=cl>    |&lt;---------------------|                        |
</span></span><span class=line><span class=cl>    | 반환 (데이터 포함)   |                        |
</span></span><span class=line><span class=cl>    | [작업 재개]          |                        |
</span></span></code></pre></td></tr></table></div></div><p><strong>Non-Blocking I/O 시스템 콜 흐름</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11>11</a>
</span><span class=lnt id=hl-9-12><a class=lnlinks href=#hl-9-12>12</a>
</span><span class=lnt id=hl-9-13><a class=lnlinks href=#hl-9-13>13</a>
</span><span class=lnt id=hl-9-14><a class=lnlinks href=#hl-9-14>14</a>
</span><span class=lnt id=hl-9-15><a class=lnlinks href=#hl-9-15>15</a>
</span><span class=lnt id=hl-9-16><a class=lnlinks href=#hl-9-16>16</a>
</span><span class=lnt id=hl-9-17><a class=lnlinks href=#hl-9-17>17</a>
</span><span class=lnt id=hl-9-18><a class=lnlinks href=#hl-9-18>18</a>
</span><span class=lnt id=hl-9-19><a class=lnlinks href=#hl-9-19>19</a>
</span><span class=lnt id=hl-9-20><a class=lnlinks href=#hl-9-20>20</a>
</span><span class=lnt id=hl-9-21><a class=lnlinks href=#hl-9-21>21</a>
</span><span class=lnt id=hl-9-22><a class=lnlinks href=#hl-9-22>22</a>
</span><span class=lnt id=hl-9-23><a class=lnlinks href=#hl-9-23>23</a>
</span><span class=lnt id=hl-9-24><a class=lnlinks href=#hl-9-24>24</a>
</span><span class=lnt id=hl-9-25><a class=lnlinks href=#hl-9-25>25</a>
</span><span class=lnt id=hl-9-26><a class=lnlinks href=#hl-9-26>26</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>유저 프로세스              커널                    디바이스
</span></span><span class=line><span class=cl>    |                      |                        |
</span></span><span class=line><span class=cl>    | fcntl(fd, F_SETFL, O_NONBLOCK)               |
</span></span><span class=line><span class=cl>    |---------------------&gt;|                        |
</span></span><span class=line><span class=cl>    |                      |                        |
</span></span><span class=line><span class=cl>    | read(fd, buf, size)  |                        |
</span></span><span class=line><span class=cl>    |---------------------&gt;|                        |
</span></span><span class=line><span class=cl>    |                      | 데이터 준비 확인       |
</span></span><span class=line><span class=cl>    |                      | [준비 안 됨!]         |
</span></span><span class=line><span class=cl>    |&lt;---------------------|                        |
</span></span><span class=line><span class=cl>    | 즉시 반환 (EAGAIN)   |                        |
</span></span><span class=line><span class=cl>    | [다른 작업 수행]     |                        |
</span></span><span class=line><span class=cl>    |                      |                        |
</span></span><span class=line><span class=cl>    | select([fd], ...)    | 데이터 요청            |
</span></span><span class=line><span class=cl>    |---------------------&gt;|-----------------------&gt;|
</span></span><span class=line><span class=cl>    | [이벤트 대기]        |                        |
</span></span><span class=line><span class=cl>    |                      |&lt;-----------------------|
</span></span><span class=line><span class=cl>    |                      | 데이터 도착            |
</span></span><span class=line><span class=cl>    |&lt;---------------------|                        |
</span></span><span class=line><span class=cl>    | FD 준비됨 반환       |                        |
</span></span><span class=line><span class=cl>    |                      |                        |
</span></span><span class=line><span class=cl>    | read(fd, buf, size)  |                        |
</span></span><span class=line><span class=cl>    |---------------------&gt;|                        |
</span></span><span class=line><span class=cl>    |                      | [커널 버퍼 → 유저]    |
</span></span><span class=line><span class=cl>    |&lt;---------------------|                        |
</span></span><span class=line><span class=cl>    | 반환 (데이터 포함)   |                        |
</span></span></code></pre></td></tr></table></div></div><hr><h4 id=구성-요소-표-공통>구성 요소 표 (공통)<a hidden class=anchor aria-hidden=true href=#구성-요소-표-공통>#</a></h4><table><thead><tr><th>계층</th><th>구성 요소</th><th>역할</th><th>Blocking 동작</th><th>Non-Blocking 동작</th></tr></thead><tbody><tr><td><strong>애플리케이션</strong></td><td>사용자 프로세스/스레드</td><td>I/O 요청 및 데이터 처리</td><td>read() 호출 시 대기</td><td>read() 즉시 반환, 폴링</td></tr><tr><td><strong>애플리케이션</strong></td><td>사용자 버퍼 (User Buffer)</td><td>데이터 임시 저장 공간</td><td>블로킹 중 대기</td><td>즉시 사용 가능</td></tr><tr><td><strong>런타임</strong></td><td>이벤트 루프 (Event Loop)</td><td>I/O 이벤트 감지 및 콜백 실행</td><td>없음 (OS 스케줄러 의존)</td><td>필수 (select/epoll 기반)</td></tr><tr><td><strong>런타임</strong></td><td>콜백 큐 (Callback Queue)</td><td>완료된 I/O 작업의 콜백 저장</td><td>없음</td><td>필수</td></tr><tr><td><strong>시스템 콜</strong></td><td>read/write</td><td>실제 I/O 수행</td><td>완료까지 블로킹</td><td>EAGAIN 반환</td></tr><tr><td><strong>시스템 콜</strong></td><td>fcntl</td><td>FD 속성 설정 (O_NONBLOCK)</td><td>사용 안 함</td><td>필수</td></tr><tr><td><strong>시스템 콜</strong></td><td>select/poll/epoll</td><td>다중 FD 모니터링 (멀티플렉싱)</td><td>사용 안 함</td><td>필수</td></tr><tr><td><strong>커널</strong></td><td>커널 버퍼 (Kernel Buffer)</td><td>디바이스 데이터 임시 저장</td><td>채워질 때까지 프로세스 대기</td><td>준비 상태만 확인</td></tr><tr><td><strong>커널</strong></td><td>대기 큐 (Wait Queue)</td><td>블로킹된 프로세스 관리</td><td>필수</td><td>없음 (즉시 반환)</td></tr><tr><td><strong>커널</strong></td><td>이벤트 통지 (Event Notify)</td><td>준비된 FD 목록 반환</td><td>없음</td><td>epoll_wait 등으로 구현</td></tr><tr><td><strong>하드웨어</strong></td><td>디스크/네트워크 컨트롤러</td><td>실제 I/O 수행</td><td>인터럽트로 완료 통보</td><td>인터럽트로 완료 통보</td></tr></tbody></table><hr><h3 id=32-대상별-원리-요약-및-차이점>3.2 대상별 원리 요약 및 차이점<a hidden class=anchor aria-hidden=true href=#32-대상별-원리-요약-및-차이점>#</a></h3><h4 id=a-blocking-io-원리-상세>A. Blocking I/O 원리 상세<a hidden class=anchor aria-hidden=true href=#a-blocking-io-원리-상세>#</a></h4><p><strong>핵심 메커니즘</strong>:</p><ol><li><p><strong>시스템 콜 진입</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1>1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2>2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3>3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=kt>ssize_t</span> <span class=nf>read</span><span class=p>(</span><span class=kt>int</span> <span class=n>fd</span><span class=p>,</span> <span class=kt>void</span> <span class=o>*</span><span class=n>buf</span><span class=p>,</span> <span class=kt>size_t</span> <span class=n>count</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// fd: 파일 디스크립터
</span></span></span><span class=line><span class=cl><span class=c1>// buf: 데이터를 받을 사용자 버퍼
</span></span></span><span class=line><span class=cl><span class=c1>// count: 읽을 바이트 수
</span></span></span></code></pre></td></tr></table></div></div></li><li><p><strong>커널 모드 전환</strong></p><ul><li>CPU 가 유저 모드에서 커널 모드로 전환 (Context Switch)</li><li>시스템 콜 번호 확인 (x86-64: syscall 인터럽트)</li></ul></li><li><p><strong>데이터 준비 대기</strong></p><ul><li>커널이 디바이스 (디스크/네트워크) 에 데이터 요청</li><li>데이터가 커널 버퍼에 도착할 때까지 프로세스를 **대기 큐 (Wait Queue)**에 추가</li><li>프로세스 상태: TASK_RUNNING → <strong>TASK_INTERRUPTIBLE</strong></li><li>CPU 는 다른 프로세스를 스케줄링</li></ul></li><li><p><strong>데이터 도착 및 깨우기</strong></p><ul><li>디바이스 드라이버가 인터럽트 발생</li><li>커널이 대기 큐에서 프로세스를 깨움 (Wake-up)</li><li>프로세스 상태: TASK_INTERRUPTIBLE → TASK_RUNNING</li></ul></li><li><p><strong>데이터 복사 및 반환</strong></p><ul><li>커널 버퍼 → 사용자 버퍼로 데이터 복사 (copy_to_user)</li><li>시스템 콜 반환 (읽은 바이트 수)</li><li>커널 모드 → 유저 모드 전환</li></ul></li></ol><p><strong>특이사항</strong>:</p><ul><li><strong>자동 대기 관리</strong>: OS 스케줄러가 자동으로 처리</li><li><strong>시그널 인터럽트</strong>: EINTR 에러로 중단 가능 (시그널 수신 시)</li><li><strong>타임아웃 없음</strong>: 기본적으로 무한 대기 (별도 설정 필요)</li></ul><hr><h4 id=b-non-blocking-io-원리-상세>B. Non-Blocking I/O 원리 상세<a hidden class=anchor aria-hidden=true href=#b-non-blocking-io-원리-상세>#</a></h4><p><strong>핵심 메커니즘</strong>:</p><ol><li><p><strong>FD 속성 설정 (사전 단계)</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1>1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2>2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=kt>int</span> <span class=n>flags</span> <span class=o>=</span> <span class=nf>fcntl</span><span class=p>(</span><span class=n>fd</span><span class=p>,</span> <span class=n>F_GETFL</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nf>fcntl</span><span class=p>(</span><span class=n>fd</span><span class=p>,</span> <span class=n>F_SETFL</span><span class=p>,</span> <span class=n>flags</span> <span class=o>|</span> <span class=n>O_NONBLOCK</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// O_NONBLOCK 플래그 설정
</span></span></span></code></pre></td></tr></table></div></div></li><li><p><strong>Non-Blocking read 시도</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1>1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2>2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3>3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=kt>ssize_t</span> <span class=n>n</span> <span class=o>=</span> <span class=nf>read</span><span class=p>(</span><span class=n>fd</span><span class=p>,</span> <span class=n>buf</span><span class=p>,</span> <span class=n>count</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=n>n</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=n>errno</span> <span class=o>==</span> <span class=n>EAGAIN</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 데이터가 아직 준비 안 됨 → 즉시 반환
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>즉시 반환 메커니즘</strong></p><ul><li>커널이 데이터 준비 상태 확인</li><li>준비 안 됨 → <strong>EAGAIN</strong> 또는 <strong>EWOULDBLOCK</strong> 에러 반환</li><li>프로세스를 대기 큐에 넣지 <strong>않음</strong></li><li>즉시 유저 모드로 복귀</li></ul></li><li><p><strong>I/O 멀티플렉싱 (select/epoll)</strong></p><p><strong>select() 방식</strong> (레거시):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1> 1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2> 2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3> 3</a>
</span><span class=lnt id=hl-13-4><a class=lnlinks href=#hl-13-4> 4</a>
</span><span class=lnt id=hl-13-5><a class=lnlinks href=#hl-13-5> 5</a>
</span><span class=lnt id=hl-13-6><a class=lnlinks href=#hl-13-6> 6</a>
</span><span class=lnt id=hl-13-7><a class=lnlinks href=#hl-13-7> 7</a>
</span><span class=lnt id=hl-13-8><a class=lnlinks href=#hl-13-8> 8</a>
</span><span class=lnt id=hl-13-9><a class=lnlinks href=#hl-13-9> 9</a>
</span><span class=lnt id=hl-13-10><a class=lnlinks href=#hl-13-10>10</a>
</span><span class=lnt id=hl-13-11><a class=lnlinks href=#hl-13-11>11</a>
</span><span class=lnt id=hl-13-12><a class=lnlinks href=#hl-13-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=n>fd_set</span> <span class=n>readfds</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nf>FD_ZERO</span><span class=p>(</span><span class=o>&amp;</span><span class=n>readfds</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nf>FD_SET</span><span class=p>(</span><span class=n>fd1</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>readfds</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nf>FD_SET</span><span class=p>(</span><span class=n>fd2</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>readfds</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 여러 FD 중 하나라도 준비될 때까지 대기
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=n>ready</span> <span class=o>=</span> <span class=nf>select</span><span class=p>(</span><span class=n>maxfd</span><span class=o>+</span><span class=mi>1</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>readfds</span><span class=p>,</span> <span class=nb>NULL</span><span class=p>,</span> <span class=nb>NULL</span><span class=p>,</span> <span class=nb>NULL</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=nf>FD_ISSET</span><span class=p>(</span><span class=n>fd1</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>readfds</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// fd1이 읽기 준비됨
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nf>read</span><span class=p>(</span><span class=n>fd1</span><span class=p>,</span> <span class=n>buf</span><span class=p>,</span> <span class=n>size</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>epoll() 방식</strong> (Linux, 고성능):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1> 1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2> 2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3> 3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4> 4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5> 5</a>
</span><span class=lnt id=hl-14-6><a class=lnlinks href=#hl-14-6> 6</a>
</span><span class=lnt id=hl-14-7><a class=lnlinks href=#hl-14-7> 7</a>
</span><span class=lnt id=hl-14-8><a class=lnlinks href=#hl-14-8> 8</a>
</span><span class=lnt id=hl-14-9><a class=lnlinks href=#hl-14-9> 9</a>
</span><span class=lnt id=hl-14-10><a class=lnlinks href=#hl-14-10>10</a>
</span><span class=lnt id=hl-14-11><a class=lnlinks href=#hl-14-11>11</a>
</span><span class=lnt id=hl-14-12><a class=lnlinks href=#hl-14-12>12</a>
</span><span class=lnt id=hl-14-13><a class=lnlinks href=#hl-14-13>13</a>
</span><span class=lnt id=hl-14-14><a class=lnlinks href=#hl-14-14>14</a>
</span><span class=lnt id=hl-14-15><a class=lnlinks href=#hl-14-15>15</a>
</span><span class=lnt id=hl-14-16><a class=lnlinks href=#hl-14-16>16</a>
</span><span class=lnt id=hl-14-17><a class=lnlinks href=#hl-14-17>17</a>
</span><span class=lnt id=hl-14-18><a class=lnlinks href=#hl-14-18>18</a>
</span><span class=lnt id=hl-14-19><a class=lnlinks href=#hl-14-19>19</a>
</span><span class=lnt id=hl-14-20><a class=lnlinks href=#hl-14-20>20</a>
</span><span class=lnt id=hl-14-21><a class=lnlinks href=#hl-14-21>21</a>
</span><span class=lnt id=hl-14-22><a class=lnlinks href=#hl-14-22>22</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=c1>// 1. epoll 인스턴스 생성
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=n>epfd</span> <span class=o>=</span> <span class=nf>epoll_create1</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 2. 관찰할 FD 등록
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>struct</span> <span class=n>epoll_event</span> <span class=n>ev</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>ev</span><span class=p>.</span><span class=n>events</span> <span class=o>=</span> <span class=n>EPOLLIN</span><span class=p>;</span>  <span class=c1>// 읽기 이벤트
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>ev</span><span class=p>.</span><span class=n>data</span><span class=p>.</span><span class=n>fd</span> <span class=o>=</span> <span class=n>fd</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nf>epoll_ctl</span><span class=p>(</span><span class=n>epfd</span><span class=p>,</span> <span class=n>EPOLL_CTL_ADD</span><span class=p>,</span> <span class=n>fd</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>ev</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 3. 이벤트 대기 (이벤트 루프)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>struct</span> <span class=n>epoll_event</span> <span class=n>events</span><span class=p>[</span><span class=n>MAX_EVENTS</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>nfds</span> <span class=o>=</span> <span class=nf>epoll_wait</span><span class=p>(</span><span class=n>epfd</span><span class=p>,</span> <span class=n>events</span><span class=p>,</span> <span class=n>MAX_EVENTS</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>nfds</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>events</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>events</span> <span class=o>&amp;</span> <span class=n>EPOLLIN</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// 읽기 가능
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=kt>int</span> <span class=n>fd</span> <span class=o>=</span> <span class=n>events</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>data</span><span class=p>.</span><span class=n>fd</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=nf>read</span><span class=p>(</span><span class=n>fd</span><span class=p>,</span> <span class=n>buf</span><span class=p>,</span> <span class=n>size</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>이벤트 루프 동작</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1> 1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2> 2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3> 3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4> 4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5> 5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6> 6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7> 7</a>
</span><span class=lnt id=hl-15-8><a class=lnlinks href=#hl-15-8> 8</a>
</span><span class=lnt id=hl-15-9><a class=lnlinks href=#hl-15-9> 9</a>
</span><span class=lnt id=hl-15-10><a class=lnlinks href=#hl-15-10>10</a>
</span><span class=lnt id=hl-15-11><a class=lnlinks href=#hl-15-11>11</a>
</span><span class=lnt id=hl-15-12><a class=lnlinks href=#hl-15-12>12</a>
</span><span class=lnt id=hl-15-13><a class=lnlinks href=#hl-15-13>13</a>
</span><span class=lnt id=hl-15-14><a class=lnlinks href=#hl-15-14>14</a>
</span><span class=lnt id=hl-15-15><a class=lnlinks href=#hl-15-15>15</a>
</span><span class=lnt id=hl-15-16><a class=lnlinks href=#hl-15-16>16</a>
</span><span class=lnt id=hl-15-17><a class=lnlinks href=#hl-15-17>17</a>
</span><span class=lnt id=hl-15-18><a class=lnlinks href=#hl-15-18>18</a>
</span><span class=lnt id=hl-15-19><a class=lnlinks href=#hl-15-19>19</a>
</span><span class=lnt id=hl-15-20><a class=lnlinks href=#hl-15-20>20</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[이벤트 루프 사이클]
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>while (true) {
</span></span><span class=line><span class=cl>    // 1. 준비된 I/O 확인 (epoll_wait)
</span></span><span class=line><span class=cl>    events = epoll_wait(epfd, ...)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    // 2. 준비된 FD 처리
</span></span><span class=line><span class=cl>    for each event in events:
</span></span><span class=line><span class=cl>        if event is READ_READY:
</span></span><span class=line><span class=cl>            data = read(event.fd)
</span></span><span class=line><span class=cl>            callback(data)  // 콜백 실행
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        if event is WRITE_READY:
</span></span><span class=line><span class=cl>            write(event.fd, data)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    // 3. 타이머 콜백 처리
</span></span><span class=line><span class=cl>    process_timers()
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    // 4. 다음 사이클로
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div></li></ol><p><strong>특이사항</strong>:</p><ul><li><strong>명시적 상태 관리</strong>: 애플리케이션이 직접 준비 상태 확인</li><li><strong>Edge-Triggered vs Level-Triggered</strong>:<ul><li><strong>Level-Triggered</strong> (기본): 데이터가 있는 동안 계속 이벤트 발생</li><li><strong>Edge-Triggered</strong>: 상태 변화 시점에만 이벤트 발생 (고성능)</li></ul></li><li><strong>Spurious Wakeup</strong>: 가짜 이벤트 가능, 재확인 필요</li></ul><hr><h4 id=핵심-차이점-요약>핵심 차이점 요약<a hidden class=anchor aria-hidden=true href=#핵심-차이점-요약>#</a></h4><table><thead><tr><th>비교 항목</th><th>Blocking I/O</th><th>Non-Blocking I/O</th></tr></thead><tbody><tr><td><strong>대기 장소</strong></td><td>커널 대기 큐</td><td>유저 공간 (이벤트 루프)</td></tr><tr><td><strong>프로세스 상태</strong></td><td>TASK_INTERRUPTIBLE (대기)</td><td>TASK_RUNNING (실행 중)</td></tr><tr><td><strong>CPU 사용</strong></td><td>대기 중 0% (다른 프로세스 실행)</td><td>이벤트 루프 폴링 (&lt; 1% 일반적)</td></tr><tr><td><strong>데이터 준비 확인</strong></td><td>커널이 자동 관리</td><td>애플리케이션이 명시적 확인 (select/epoll)</td></tr><tr><td><strong>에러 코드</strong></td><td>성공 또는 실패</td><td>EAGAIN/EWOULDBLOCK (추가)</td></tr><tr><td><strong>멀티플렉싱</strong></td><td>불가 (단일 FD 만 대기)</td><td>가능 (다수 FD 동시 관찰)</td></tr><tr><td><strong>컨텍스트 스위칭</strong></td><td>빈번 (블로킹마다 발생)</td><td>드물 (단일 스레드 유지)</td></tr><tr><td><strong>콜백 필요성</strong></td><td>없음 (순차 실행)</td><td>필수 (비동기 완료 통보)</td></tr></tbody></table><hr><h3 id=33-데이터-및-제어-흐름-상세>3.3 데이터 및 제어 흐름 상세<a hidden class=anchor aria-hidden=true href=#33-데이터-및-제어-흐름-상세>#</a></h3><h4 id=blocking-io-데이터-흐름>Blocking I/O 데이터 흐름<a hidden class=anchor aria-hidden=true href=#blocking-io-데이터-흐름>#</a></h4><p><strong>시나리오</strong>: 네트워크 소켓에서 데이터 읽기</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1> 1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2> 2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3> 3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4> 4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5> 5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6> 6</a>
</span><span class=lnt id=hl-16-7><a class=lnlinks href=#hl-16-7> 7</a>
</span><span class=lnt id=hl-16-8><a class=lnlinks href=#hl-16-8> 8</a>
</span><span class=lnt id=hl-16-9><a class=lnlinks href=#hl-16-9> 9</a>
</span><span class=lnt id=hl-16-10><a class=lnlinks href=#hl-16-10>10</a>
</span><span class=lnt id=hl-16-11><a class=lnlinks href=#hl-16-11>11</a>
</span><span class=lnt id=hl-16-12><a class=lnlinks href=#hl-16-12>12</a>
</span><span class=lnt id=hl-16-13><a class=lnlinks href=#hl-16-13>13</a>
</span><span class=lnt id=hl-16-14><a class=lnlinks href=#hl-16-14>14</a>
</span><span class=lnt id=hl-16-15><a class=lnlinks href=#hl-16-15>15</a>
</span><span class=lnt id=hl-16-16><a class=lnlinks href=#hl-16-16>16</a>
</span><span class=lnt id=hl-16-17><a class=lnlinks href=#hl-16-17>17</a>
</span><span class=lnt id=hl-16-18><a class=lnlinks href=#hl-16-18>18</a>
</span><span class=lnt id=hl-16-19><a class=lnlinks href=#hl-16-19>19</a>
</span><span class=lnt id=hl-16-20><a class=lnlinks href=#hl-16-20>20</a>
</span><span class=lnt id=hl-16-21><a class=lnlinks href=#hl-16-21>21</a>
</span><span class=lnt id=hl-16-22><a class=lnlinks href=#hl-16-22>22</a>
</span><span class=lnt id=hl-16-23><a class=lnlinks href=#hl-16-23>23</a>
</span><span class=lnt id=hl-16-24><a class=lnlinks href=#hl-16-24>24</a>
</span><span class=lnt id=hl-16-25><a class=lnlinks href=#hl-16-25>25</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[초기화 단계]
</span></span><span class=line><span class=cl>1. socket() → fd 생성
</span></span><span class=line><span class=cl>2. bind(), listen(), accept() → 연결 수락
</span></span><span class=line><span class=cl>3. fd는 기본적으로 Blocking 모드
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[읽기 단계]
</span></span><span class=line><span class=cl>시간  유저 공간                커널 공간               네트워크
</span></span><span class=line><span class=cl>t0   |                         |                       |
</span></span><span class=line><span class=cl>     | recv(fd, buf, 1024)     |                       |
</span></span><span class=line><span class=cl>t1   |------------------------&gt;| socket buffer 확인    |
</span></span><span class=line><span class=cl>     |                         | [비어있음!]           |
</span></span><span class=line><span class=cl>     |                         | 프로세스 → 대기 큐    |
</span></span><span class=line><span class=cl>t2   | [블로킹 대기 시작]      |                       |
</span></span><span class=line><span class=cl>     | CPU 양보                |                       |
</span></span><span class=line><span class=cl>     |                         |                       | 데이터 전송 중...
</span></span><span class=line><span class=cl>t3   |                         |                       |&lt;------[패킷 도착]
</span></span><span class=line><span class=cl>     |                         | 인터럽트 발생         |
</span></span><span class=line><span class=cl>     |                         | socket buffer 채움    |
</span></span><span class=line><span class=cl>t4   |                         | 프로세스 깨우기       |
</span></span><span class=line><span class=cl>     |                         | 대기 큐 → RUNNABLE    |
</span></span><span class=line><span class=cl>t5   |                         | copy_to_user()        |
</span></span><span class=line><span class=cl>     |                         | kernel buf → user buf |
</span></span><span class=line><span class=cl>t6   |&lt;------------------------| 반환 (1024 bytes)     |
</span></span><span class=line><span class=cl>     | [실행 재개]             |                       |
</span></span><span class=line><span class=cl>     | 다음 코드 실행          |                       |
</span></span></code></pre></td></tr></table></div></div><p><strong>총 블로킹 시간</strong>: t2 ~ t6 (수십 ms ~ 수초, 네트워크 지연에 따라)</p><hr><h4 id=non-blocking-io-데이터-흐름-epoll-기반>Non-Blocking I/O 데이터 흐름 (epoll 기반)<a hidden class=anchor aria-hidden=true href=#non-blocking-io-데이터-흐름-epoll-기반>#</a></h4><p><strong>시나리오</strong>: 동일 (네트워크 소켓)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1> 1</a>
</span><span class=lnt id=hl-17-2><a class=lnlinks href=#hl-17-2> 2</a>
</span><span class=lnt id=hl-17-3><a class=lnlinks href=#hl-17-3> 3</a>
</span><span class=lnt id=hl-17-4><a class=lnlinks href=#hl-17-4> 4</a>
</span><span class=lnt id=hl-17-5><a class=lnlinks href=#hl-17-5> 5</a>
</span><span class=lnt id=hl-17-6><a class=lnlinks href=#hl-17-6> 6</a>
</span><span class=lnt id=hl-17-7><a class=lnlinks href=#hl-17-7> 7</a>
</span><span class=lnt id=hl-17-8><a class=lnlinks href=#hl-17-8> 8</a>
</span><span class=lnt id=hl-17-9><a class=lnlinks href=#hl-17-9> 9</a>
</span><span class=lnt id=hl-17-10><a class=lnlinks href=#hl-17-10>10</a>
</span><span class=lnt id=hl-17-11><a class=lnlinks href=#hl-17-11>11</a>
</span><span class=lnt id=hl-17-12><a class=lnlinks href=#hl-17-12>12</a>
</span><span class=lnt id=hl-17-13><a class=lnlinks href=#hl-17-13>13</a>
</span><span class=lnt id=hl-17-14><a class=lnlinks href=#hl-17-14>14</a>
</span><span class=lnt id=hl-17-15><a class=lnlinks href=#hl-17-15>15</a>
</span><span class=lnt id=hl-17-16><a class=lnlinks href=#hl-17-16>16</a>
</span><span class=lnt id=hl-17-17><a class=lnlinks href=#hl-17-17>17</a>
</span><span class=lnt id=hl-17-18><a class=lnlinks href=#hl-17-18>18</a>
</span><span class=lnt id=hl-17-19><a class=lnlinks href=#hl-17-19>19</a>
</span><span class=lnt id=hl-17-20><a class=lnlinks href=#hl-17-20>20</a>
</span><span class=lnt id=hl-17-21><a class=lnlinks href=#hl-17-21>21</a>
</span><span class=lnt id=hl-17-22><a class=lnlinks href=#hl-17-22>22</a>
</span><span class=lnt id=hl-17-23><a class=lnlinks href=#hl-17-23>23</a>
</span><span class=lnt id=hl-17-24><a class=lnlinks href=#hl-17-24>24</a>
</span><span class=lnt id=hl-17-25><a class=lnlinks href=#hl-17-25>25</a>
</span><span class=lnt id=hl-17-26><a class=lnlinks href=#hl-17-26>26</a>
</span><span class=lnt id=hl-17-27><a class=lnlinks href=#hl-17-27>27</a>
</span><span class=lnt id=hl-17-28><a class=lnlinks href=#hl-17-28>28</a>
</span><span class=lnt id=hl-17-29><a class=lnlinks href=#hl-17-29>29</a>
</span><span class=lnt id=hl-17-30><a class=lnlinks href=#hl-17-30>30</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[초기화 단계]
</span></span><span class=line><span class=cl>1. socket() → fd 생성
</span></span><span class=line><span class=cl>2. fcntl(fd, F_SETFL, O_NONBLOCK) → Non-Blocking 설정
</span></span><span class=line><span class=cl>3. epoll_create1(0) → epfd 생성
</span></span><span class=line><span class=cl>4. epoll_ctl(epfd, EPOLL_CTL_ADD, fd, ...) → fd 등록
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[이벤트 루프 단계]
</span></span><span class=line><span class=cl>시간  유저 공간                커널 공간               네트워크
</span></span><span class=line><span class=cl>t0   |                         |                       |
</span></span><span class=line><span class=cl>     | epoll_wait(epfd, ...)   |                       |
</span></span><span class=line><span class=cl>t1   |------------------------&gt;| 등록된 FD 확인        |
</span></span><span class=line><span class=cl>     |                         | [모두 준비 안 됨]     |
</span></span><span class=line><span class=cl>     | [대기]                  |                       |
</span></span><span class=line><span class=cl>     |                         |                       | 데이터 전송 중...
</span></span><span class=line><span class=cl>t2   |                         |                       |&lt;------[패킷 도착]
</span></span><span class=line><span class=cl>     |                         | 인터럽트 발생         |
</span></span><span class=line><span class=cl>     |                         | socket buffer 채움    |
</span></span><span class=line><span class=cl>     |                         | epoll 이벤트 큐에 추가|
</span></span><span class=line><span class=cl>t3   |&lt;------------------------| epoll_wait 반환       |
</span></span><span class=line><span class=cl>     | [이벤트 감지]           | (fd, EPOLLIN)         |
</span></span><span class=line><span class=cl>     |                         |                       |
</span></span><span class=line><span class=cl>     | recv(fd, buf, 1024)     |                       |
</span></span><span class=line><span class=cl>t4   |------------------------&gt;| copy_to_user()        |
</span></span><span class=line><span class=cl>     |                         | kernel buf → user buf |
</span></span><span class=line><span class=cl>t5   |&lt;------------------------| 반환 (1024 bytes)     |
</span></span><span class=line><span class=cl>     | 콜백 함수 호출          |                       |
</span></span><span class=line><span class=cl>     | process_data(buf)       |                       |
</span></span><span class=line><span class=cl>t6   |                         |                       |
</span></span><span class=line><span class=cl>     | epoll_wait() 재호출     |                       |
</span></span><span class=line><span class=cl>     | (다음 이벤트 대기)      |                       |
</span></span></code></pre></td></tr></table></div></div><p><strong>총 블로킹 시간</strong>: 없음 (t1 에서 대기는 이벤트 루프 차원의 대기)<br><strong>실제 처리 시간</strong>: t3 ~ t6 (수 μs, 데이터 복사만)</p><hr><h3 id=34-기능역할-매핑-표>3.4 기능·역할 매핑 표<a hidden class=anchor aria-hidden=true href=#34-기능역할-매핑-표>#</a></h3><h4 id=blocking-io-기능역할-매핑>Blocking I/O 기능·역할 매핑<a hidden class=anchor aria-hidden=true href=#blocking-io-기능역할-매핑>#</a></h4><table><thead><tr><th>구성 요소/기능</th><th>역할</th><th>입력/출력</th><th>의존 관계</th><th>주의 사항</th></tr></thead><tbody><tr><td><strong>read() 시스템 콜</strong></td><td>데이터 읽기 요청 및 대기</td><td>입력: fd, buf, size<br>출력: 읽은 바이트 수</td><td>커널 버퍼</td><td>블로킹 발생 지점</td></tr><tr><td><strong>커널 대기 큐</strong></td><td>블로킹된 프로세스 관리</td><td>입력: 프로세스 디스크립터<br>출력: 없음</td><td>스케줄러</td><td>인터럽트로 깨어남</td></tr><tr><td><strong>OS 스케줄러</strong></td><td>대기 중 다른 프로세스 실행</td><td>입력: RUNNABLE 프로세스 목록<br>출력: CPU 할당</td><td>컨텍스트 스위칭</td><td>CFS (Completely Fair Scheduler)</td></tr><tr><td><strong>커널 버퍼</strong></td><td>디바이스 데이터 임시 저장</td><td>입력: 디바이스 데이터<br>출력: 사용자 버퍼로 복사</td><td>DMA 컨트롤러</td><td>버퍼 크기 제한 (일반적으로 수십 KB)</td></tr><tr><td><strong>copy_to_user()</strong></td><td>커널 공간 → 유저 공간 데이터 복사</td><td>입력: 커널 포인터, 유저 포인터<br>출력: 복사 바이트 수</td><td>메모리 보호</td><td>페이지 폴트 가능</td></tr><tr><td><strong>스레드</strong></td><td>독립적 실행 흐름 제공</td><td>입력: 함수 포인터<br>출력: 리턴 값</td><td>스택 공간</td><td>스레드당 1~8MB 메모리</td></tr><tr><td><strong>스레드 풀</strong></td><td>스레드 재사용으로 생성 비용 절감</td><td>입력: Task 큐<br>출력: 완료된 Task</td><td>큐 자료구조</td><td>풀 크기 조정 필요</td></tr></tbody></table><hr><h4 id=non-blocking-io-기능역할-매핑>Non-Blocking I/O 기능·역할 매핑<a hidden class=anchor aria-hidden=true href=#non-blocking-io-기능역할-매핑>#</a></h4><table><thead><tr><th>구성 요소/기능</th><th>역할</th><th>입력/출력</th><th>의존 관계</th><th>주의 사항</th></tr></thead><tbody><tr><td><strong>fcntl(O_NONBLOCK)</strong></td><td>FD 를 Non-Blocking 모드로 설정</td><td>입력: fd, 플래그<br>출력: 성공/실패</td><td>없음</td><td>설정 후 모든 I/O 영향받음</td></tr><tr><td><strong>read() Non-Blocking</strong></td><td>즉시 반환 (데이터 준비 무관)</td><td>입력: fd, buf, size<br>출력: 바이트 수 또는 EAGAIN</td><td>커널 버퍼 상태</td><td>EAGAIN 체크 필수</td></tr><tr><td><strong>select()</strong></td><td>다중 FD 동시 감시 (레거시)</td><td>입력: fd_set<br>출력: 준비된 FD 수</td><td>비트마스크</td><td>FD 개수 제한 (1024)</td></tr><tr><td><strong>epoll_create1()</strong></td><td>epoll 인스턴스 생성</td><td>입력: 플래그<br>출력: epfd</td><td>커널 epoll 구현</td><td>리눅스 전용</td></tr><tr><td><strong>epoll_ctl()</strong></td><td>FD 등록/수정/삭제</td><td>입력: epfd, op, fd, event<br>출력: 성공/실패</td><td>epoll 인스턴스</td><td>이벤트 타입 정확히 설정</td></tr><tr><td><strong>epoll_wait()</strong></td><td>준비된 이벤트 대기</td><td>입력: epfd, 타임아웃<br>출력: 이벤트 배열</td><td>등록된 FD</td><td>타임아웃 0=논블로킹, -1=무한</td></tr><tr><td><strong>이벤트 루프</strong></td><td>이벤트 감지 및 콜백 실행 반복</td><td>입력: FD 목록, 콜백<br>출력: 없음 (무한 루프)</td><td>epoll/kqueue</td><td>CPU 사용률 낮게 유지</td></tr><tr><td><strong>콜백 큐</strong></td><td>완료된 I/O 의 콜백 저장</td><td>입력: 콜백 함수<br>출력: 실행할 콜백</td><td>큐 자료구조</td><td>큐 오버플로우 주의</td></tr><tr><td><strong>타이머 힙</strong></td><td>setTimeout/setInterval 관리</td><td>입력: 만료 시간, 콜백<br>출력: 만료된 타이머</td><td>Min Heap</td><td>Node.js libuv 구현</td></tr><tr><td><strong>비동기 I/O 워커</strong></td><td>CPU 집약 작업 오프로드</td><td>입력: 작업<br>출력: 결과</td><td>스레드 풀</td><td>libuv 기본 4 개 워커</td></tr></tbody></table><hr><h3 id=35-실전-원리-웹-서버-요청-처리>3.5 실전 원리: 웹 서버 요청 처리<a hidden class=anchor aria-hidden=true href=#35-실전-원리-웹-서버-요청-처리>#</a></h3><h4 id=blocking-웹-서버-apache-mpm-prefork-스타일>Blocking 웹 서버 (Apache MPM Prefork 스타일)<a hidden class=anchor aria-hidden=true href=#blocking-웹-서버-apache-mpm-prefork-스타일>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1> 1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2> 2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3> 3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4> 4</a>
</span><span class=lnt id=hl-18-5><a class=lnlinks href=#hl-18-5> 5</a>
</span><span class=lnt id=hl-18-6><a class=lnlinks href=#hl-18-6> 6</a>
</span><span class=lnt id=hl-18-7><a class=lnlinks href=#hl-18-7> 7</a>
</span><span class=lnt id=hl-18-8><a class=lnlinks href=#hl-18-8> 8</a>
</span><span class=lnt id=hl-18-9><a class=lnlinks href=#hl-18-9> 9</a>
</span><span class=lnt id=hl-18-10><a class=lnlinks href=#hl-18-10>10</a>
</span><span class=lnt id=hl-18-11><a class=lnlinks href=#hl-18-11>11</a>
</span><span class=lnt id=hl-18-12><a class=lnlinks href=#hl-18-12>12</a>
</span><span class=lnt id=hl-18-13><a class=lnlinks href=#hl-18-13>13</a>
</span><span class=lnt id=hl-18-14><a class=lnlinks href=#hl-18-14>14</a>
</span><span class=lnt id=hl-18-15><a class=lnlinks href=#hl-18-15>15</a>
</span><span class=lnt id=hl-18-16><a class=lnlinks href=#hl-18-16>16</a>
</span><span class=lnt id=hl-18-17><a class=lnlinks href=#hl-18-17>17</a>
</span><span class=lnt id=hl-18-18><a class=lnlinks href=#hl-18-18>18</a>
</span><span class=lnt id=hl-18-19><a class=lnlinks href=#hl-18-19>19</a>
</span><span class=lnt id=hl-18-20><a class=lnlinks href=#hl-18-20>20</a>
</span><span class=lnt id=hl-18-21><a class=lnlinks href=#hl-18-21>21</a>
</span><span class=lnt id=hl-18-22><a class=lnlinks href=#hl-18-22>22</a>
</span><span class=lnt id=hl-18-23><a class=lnlinks href=#hl-18-23>23</a>
</span><span class=lnt id=hl-18-24><a class=lnlinks href=#hl-18-24>24</a>
</span><span class=lnt id=hl-18-25><a class=lnlinks href=#hl-18-25>25</a>
</span><span class=lnt id=hl-18-26><a class=lnlinks href=#hl-18-26>26</a>
</span><span class=lnt id=hl-18-27><a class=lnlinks href=#hl-18-27>27</a>
</span><span class=lnt id=hl-18-28><a class=lnlinks href=#hl-18-28>28</a>
</span><span class=lnt id=hl-18-29><a class=lnlinks href=#hl-18-29>29</a>
</span><span class=lnt id=hl-18-30><a class=lnlinks href=#hl-18-30>30</a>
</span><span class=lnt id=hl-18-31><a class=lnlinks href=#hl-18-31>31</a>
</span><span class=lnt id=hl-18-32><a class=lnlinks href=#hl-18-32>32</a>
</span><span class=lnt id=hl-18-33><a class=lnlinks href=#hl-18-33>33</a>
</span><span class=lnt id=hl-18-34><a class=lnlinks href=#hl-18-34>34</a>
</span><span class=lnt id=hl-18-35><a class=lnlinks href=#hl-18-35>35</a>
</span><span class=lnt id=hl-18-36><a class=lnlinks href=#hl-18-36>36</a>
</span><span class=lnt id=hl-18-37><a class=lnlinks href=#hl-18-37>37</a>
</span><span class=lnt id=hl-18-38><a class=lnlinks href=#hl-18-38>38</a>
</span><span class=lnt id=hl-18-39><a class=lnlinks href=#hl-18-39>39</a>
</span><span class=lnt id=hl-18-40><a class=lnlinks href=#hl-18-40>40</a>
</span><span class=lnt id=hl-18-41><a class=lnlinks href=#hl-18-41>41</a>
</span><span class=lnt id=hl-18-42><a class=lnlinks href=#hl-18-42>42</a>
</span><span class=lnt id=hl-18-43><a class=lnlinks href=#hl-18-43>43</a>
</span><span class=lnt id=hl-18-44><a class=lnlinks href=#hl-18-44>44</a>
</span><span class=lnt id=hl-18-45><a class=lnlinks href=#hl-18-45>45</a>
</span><span class=lnt id=hl-18-46><a class=lnlinks href=#hl-18-46>46</a>
</span><span class=lnt id=hl-18-47><a class=lnlinks href=#hl-18-47>47</a>
</span><span class=lnt id=hl-18-48><a class=lnlinks href=#hl-18-48>48</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># blocking_server.py - 개념 설명용 간소화 버전</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>socket</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>threading</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>handle_client_blocking</span><span class=p>(</span><span class=n>client_sock</span><span class=p>,</span> <span class=n>addr</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;각 클라이언트를 전담 스레드에서 처리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[스레드 </span><span class=si>{</span><span class=n>threading</span><span class=o>.</span><span class=n>current_thread</span><span class=p>()</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>] 클라이언트 </span><span class=si>{</span><span class=n>addr</span><span class=si>}</span><span class=s2> 연결&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 1. 요청 읽기 (블로킹!)</span>
</span></span><span class=line><span class=cl>        <span class=n>request</span> <span class=o>=</span> <span class=n>client_sock</span><span class=o>.</span><span class=n>recv</span><span class=p>(</span><span class=mi>4096</span><span class=p>)</span>  <span class=c1># 여기서 대기</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;  요청 수신: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>request</span><span class=p>)</span><span class=si>}</span><span class=s2> bytes&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 2. 처리 (여기서도 블로킹 가능)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 예: 데이터베이스 쿼리, 파일 읽기 등</span>
</span></span><span class=line><span class=cl>        <span class=n>response</span> <span class=o>=</span> <span class=sa>b</span><span class=s2>&#34;HTTP/1.1 200 OK</span><span class=se>\r\n\r\n</span><span class=s2>Hello, World!&#34;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 3. 응답 쓰기 (블로킹!)</span>
</span></span><span class=line><span class=cl>        <span class=n>client_sock</span><span class=o>.</span><span class=n>sendall</span><span class=p>(</span><span class=n>response</span><span class=p>)</span>  <span class=c1># 여기서도 대기 가능</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>    <span class=k>finally</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>client_sock</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[스레드 </span><span class=si>{</span><span class=n>threading</span><span class=o>.</span><span class=n>current_thread</span><span class=p>()</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>] 연결 종료&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>blocking_server</span><span class=p>(</span><span class=n>port</span><span class=o>=</span><span class=mi>8080</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Blocking 웹 서버 메인&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>server_sock</span> <span class=o>=</span> <span class=n>socket</span><span class=o>.</span><span class=n>socket</span><span class=p>(</span><span class=n>socket</span><span class=o>.</span><span class=n>AF_INET</span><span class=p>,</span> <span class=n>socket</span><span class=o>.</span><span class=n>SOCK_STREAM</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>server_sock</span><span class=o>.</span><span class=n>setsockopt</span><span class=p>(</span><span class=n>socket</span><span class=o>.</span><span class=n>SOL_SOCKET</span><span class=p>,</span> <span class=n>socket</span><span class=o>.</span><span class=n>SO_REUSEADDR</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>server_sock</span><span class=o>.</span><span class=n>bind</span><span class=p>((</span><span class=s1>&#39;0.0.0.0&#39;</span><span class=p>,</span> <span class=n>port</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=n>server_sock</span><span class=o>.</span><span class=n>listen</span><span class=p>(</span><span class=mi>128</span><span class=p>)</span>  <span class=c1># 백로그 큐</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Blocking 서버 시작: 포트 </span><span class=si>{</span><span class=n>port</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># accept()도 블로킹 시스템 콜!</span>
</span></span><span class=line><span class=cl>        <span class=n>client_sock</span><span class=p>,</span> <span class=n>addr</span> <span class=o>=</span> <span class=n>server_sock</span><span class=o>.</span><span class=n>accept</span><span class=p>()</span>  <span class=c1># 연결 올 때까지 대기</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 각 연결마다 새 스레드 생성 (Thread-per-connection)</span>
</span></span><span class=line><span class=cl>        <span class=n>thread</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>target</span><span class=o>=</span><span class=n>handle_client_blocking</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=n>client_sock</span><span class=p>,</span> <span class=n>addr</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>thread</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=c1># 주의: 스레드가 계속 증가하면 메모리/CPU 고갈!</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 실행</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>blocking_server</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>동시 연결 1,000 개 시</strong>:</p><ul><li>스레드 1,000 개 생성</li><li>메모리 사용: 1,000 × 8MB = 8GB (스택만)</li><li>컨텍스트 스위칭: 초당 수천~수만 회</li></ul><hr><h4 id=non-blocking-웹-서버-nginxnodejs-스타일>Non-Blocking 웹 서버 (nginx/Node.js 스타일)<a hidden class=anchor aria-hidden=true href=#non-blocking-웹-서버-nginxnodejs-스타일>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1> 1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2> 2</a>
</span><span class=lnt id=hl-19-3><a class=lnlinks href=#hl-19-3> 3</a>
</span><span class=lnt id=hl-19-4><a class=lnlinks href=#hl-19-4> 4</a>
</span><span class=lnt id=hl-19-5><a class=lnlinks href=#hl-19-5> 5</a>
</span><span class=lnt id=hl-19-6><a class=lnlinks href=#hl-19-6> 6</a>
</span><span class=lnt id=hl-19-7><a class=lnlinks href=#hl-19-7> 7</a>
</span><span class=lnt id=hl-19-8><a class=lnlinks href=#hl-19-8> 8</a>
</span><span class=lnt id=hl-19-9><a class=lnlinks href=#hl-19-9> 9</a>
</span><span class=lnt id=hl-19-10><a class=lnlinks href=#hl-19-10>10</a>
</span><span class=lnt id=hl-19-11><a class=lnlinks href=#hl-19-11>11</a>
</span><span class=lnt id=hl-19-12><a class=lnlinks href=#hl-19-12>12</a>
</span><span class=lnt id=hl-19-13><a class=lnlinks href=#hl-19-13>13</a>
</span><span class=lnt id=hl-19-14><a class=lnlinks href=#hl-19-14>14</a>
</span><span class=lnt id=hl-19-15><a class=lnlinks href=#hl-19-15>15</a>
</span><span class=lnt id=hl-19-16><a class=lnlinks href=#hl-19-16>16</a>
</span><span class=lnt id=hl-19-17><a class=lnlinks href=#hl-19-17>17</a>
</span><span class=lnt id=hl-19-18><a class=lnlinks href=#hl-19-18>18</a>
</span><span class=lnt id=hl-19-19><a class=lnlinks href=#hl-19-19>19</a>
</span><span class=lnt id=hl-19-20><a class=lnlinks href=#hl-19-20>20</a>
</span><span class=lnt id=hl-19-21><a class=lnlinks href=#hl-19-21>21</a>
</span><span class=lnt id=hl-19-22><a class=lnlinks href=#hl-19-22>22</a>
</span><span class=lnt id=hl-19-23><a class=lnlinks href=#hl-19-23>23</a>
</span><span class=lnt id=hl-19-24><a class=lnlinks href=#hl-19-24>24</a>
</span><span class=lnt id=hl-19-25><a class=lnlinks href=#hl-19-25>25</a>
</span><span class=lnt id=hl-19-26><a class=lnlinks href=#hl-19-26>26</a>
</span><span class=lnt id=hl-19-27><a class=lnlinks href=#hl-19-27>27</a>
</span><span class=lnt id=hl-19-28><a class=lnlinks href=#hl-19-28>28</a>
</span><span class=lnt id=hl-19-29><a class=lnlinks href=#hl-19-29>29</a>
</span><span class=lnt id=hl-19-30><a class=lnlinks href=#hl-19-30>30</a>
</span><span class=lnt id=hl-19-31><a class=lnlinks href=#hl-19-31>31</a>
</span><span class=lnt id=hl-19-32><a class=lnlinks href=#hl-19-32>32</a>
</span><span class=lnt id=hl-19-33><a class=lnlinks href=#hl-19-33>33</a>
</span><span class=lnt id=hl-19-34><a class=lnlinks href=#hl-19-34>34</a>
</span><span class=lnt id=hl-19-35><a class=lnlinks href=#hl-19-35>35</a>
</span><span class=lnt id=hl-19-36><a class=lnlinks href=#hl-19-36>36</a>
</span><span class=lnt id=hl-19-37><a class=lnlinks href=#hl-19-37>37</a>
</span><span class=lnt id=hl-19-38><a class=lnlinks href=#hl-19-38>38</a>
</span><span class=lnt id=hl-19-39><a class=lnlinks href=#hl-19-39>39</a>
</span><span class=lnt id=hl-19-40><a class=lnlinks href=#hl-19-40>40</a>
</span><span class=lnt id=hl-19-41><a class=lnlinks href=#hl-19-41>41</a>
</span><span class=lnt id=hl-19-42><a class=lnlinks href=#hl-19-42>42</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># non_blocking_server.py - asyncio 사용</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>asyncio</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>handle_client_nonblocking</span><span class=p>(</span><span class=n>reader</span><span class=p>,</span> <span class=n>writer</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;각 클라이언트를 비동기로 처리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>addr</span> <span class=o>=</span> <span class=n>writer</span><span class=o>.</span><span class=n>get_extra_info</span><span class=p>(</span><span class=s1>&#39;peername&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[이벤트 루프] 클라이언트 </span><span class=si>{</span><span class=n>addr</span><span class=si>}</span><span class=s2> 연결&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 1. 요청 읽기 (Non-Blocking, 다른 연결도 동시 처리 가능)</span>
</span></span><span class=line><span class=cl>        <span class=n>request</span> <span class=o>=</span> <span class=k>await</span> <span class=n>reader</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=mi>4096</span><span class=p>)</span>  <span class=c1># await: 양보 가능 지점</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;  요청 수신: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>request</span><span class=p>)</span><span class=si>}</span><span class=s2> bytes&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 2. 처리</span>
</span></span><span class=line><span class=cl>        <span class=n>response</span> <span class=o>=</span> <span class=sa>b</span><span class=s2>&#34;HTTP/1.1 200 OK</span><span class=se>\r\n\r\n</span><span class=s2>Hello, World!&#34;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 3. 응답 쓰기 (Non-Blocking)</span>
</span></span><span class=line><span class=cl>        <span class=n>writer</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>response</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>await</span> <span class=n>writer</span><span class=o>.</span><span class=n>drain</span><span class=p>()</span>  <span class=c1># 버퍼 플러시 대기</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>    <span class=k>finally</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>writer</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>await</span> <span class=n>writer</span><span class=o>.</span><span class=n>wait_closed</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[이벤트 루프] 연결 종료&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>non_blocking_server</span><span class=p>(</span><span class=n>port</span><span class=o>=</span><span class=mi>8080</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Non-Blocking 웹 서버 메인&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>server</span> <span class=o>=</span> <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>start_server</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>handle_client_nonblocking</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;0.0.0.0&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>port</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>addr</span> <span class=o>=</span> <span class=n>server</span><span class=o>.</span><span class=n>sockets</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>getsockname</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Non-Blocking 서버 시작: 포트 </span><span class=si>{</span><span class=n>addr</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>async</span> <span class=k>with</span> <span class=n>server</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>await</span> <span class=n>server</span><span class=o>.</span><span class=n>serve_forever</span><span class=p>()</span>  <span class=c1># 이벤트 루프 실행</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 실행</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>asyncio</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>non_blocking_server</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>동시 연결 1,000 개 시</strong>:</p><ul><li>스레드: 1 개 (이벤트 루프)</li><li>메모리 사용: ~100MB (연결 상태만)</li><li>컨텍스트 스위칭: 거의 없음</li></ul><hr><h3 id=36-성능-메커니즘-분석>3.6 성능 메커니즘 분석<a hidden class=anchor aria-hidden=true href=#36-성능-메커니즘-분석>#</a></h3><h4 id=blocking-의-병목-컨텍스트-스위칭>Blocking 의 병목: 컨텍스트 스위칭<a hidden class=anchor aria-hidden=true href=#blocking-의-병목-컨텍스트-스위칭>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-20-1><a class=lnlinks href=#hl-20-1> 1</a>
</span><span class=lnt id=hl-20-2><a class=lnlinks href=#hl-20-2> 2</a>
</span><span class=lnt id=hl-20-3><a class=lnlinks href=#hl-20-3> 3</a>
</span><span class=lnt id=hl-20-4><a class=lnlinks href=#hl-20-4> 4</a>
</span><span class=lnt id=hl-20-5><a class=lnlinks href=#hl-20-5> 5</a>
</span><span class=lnt id=hl-20-6><a class=lnlinks href=#hl-20-6> 6</a>
</span><span class=lnt id=hl-20-7><a class=lnlinks href=#hl-20-7> 7</a>
</span><span class=lnt id=hl-20-8><a class=lnlinks href=#hl-20-8> 8</a>
</span><span class=lnt id=hl-20-9><a class=lnlinks href=#hl-20-9> 9</a>
</span><span class=lnt id=hl-20-10><a class=lnlinks href=#hl-20-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[10개 동시 연결 시 시간 흐름]
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>스레드1: [recv ████] [처리] [send ██]
</span></span><span class=line><span class=cl>스레드2:    [recv ████] [처리] [send ██]
</span></span><span class=line><span class=cl>스레드3:       [recv ████] [처리] [send ██]
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>스레드10:            [recv ████] [처리] [send ██]
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>CPU: [1→2→3→1→4→2→5→3→1→6→...] (빈번한 전환)
</span></span><span class=line><span class=cl>     ↑ 컨텍스트 스위칭 오버헤드: 전환당 ~5μs
</span></span></code></pre></td></tr></table></div></div><p><strong>비용</strong>:</p><ul><li>컨텍스트 스위칭: 5μs × 10,000 회/초 = 50ms (5% CPU 낭비)</li><li>캐시 미스: L1/L2 캐시 무효화</li><li>TLB 플러시: 메모리 주소 변환 테이블 초기화</li></ul><hr><h4 id=non-blocking-의-효율-단일-스레드-이벤트-루프>Non-Blocking 의 효율: 단일 스레드 이벤트 루프<a hidden class=anchor aria-hidden=true href=#non-blocking-의-효율-단일-스레드-이벤트-루프>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1>1</a>
</span><span class=lnt id=hl-21-2><a class=lnlinks href=#hl-21-2>2</a>
</span><span class=lnt id=hl-21-3><a class=lnlinks href=#hl-21-3>3</a>
</span><span class=lnt id=hl-21-4><a class=lnlinks href=#hl-21-4>4</a>
</span><span class=lnt id=hl-21-5><a class=lnlinks href=#hl-21-5>5</a>
</span><span class=lnt id=hl-21-6><a class=lnlinks href=#hl-21-6>6</a>
</span><span class=lnt id=hl-21-7><a class=lnlinks href=#hl-21-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[10개 동시 연결 시 시간 흐름]
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>이벤트 루프: [epoll_wait] → [FD1 처리] → [FD2 처리] → [FD5 처리] → [epoll_wait] → ...
</span></span><span class=line><span class=cl>                ↑            ↑             ↑             ↑
</span></span><span class=line><span class=cl>             모두 대기     준비됨        준비됨        준비됨
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>CPU: [루프→루프→루프→...] (전환 없음, 캐시 히트율 높음)
</span></span></code></pre></td></tr></table></div></div><p><strong>이점</strong>:</p><ul><li>컨텍스트 스위칭: 0</li><li>캐시 친화적: 코드/데이터가 캐시에 유지</li><li>예측 가능: CPU 분기 예측 정확도 향상</li></ul><hr><h3 id=검증-대기-목록-1>검증 대기 목록<a hidden class=anchor aria-hidden=true href=#검증-대기-목록-1>#</a></h3><table><thead><tr><th>항목</th><th>부족 근거/의문</th><th>예상 1 차 출처</th><th>교차 검증 후보</th><th>담당</th><th>마감</th></tr></thead><tbody><tr><td>epoll edge-triggered 정확한 동작</td><td>커널 소스 코드 레벨 확인 필요</td><td>Linux fs/eventpoll.c</td><td>epoll(7) man page</td><td>-</td><td>2025-10-15</td></tr><tr><td>copy_to_user 성능 오버헤드</td><td>정확한 측정 데이터 필요</td><td>LWN.net 아티클</td><td>커널 프로파일링 도구</td><td>-</td><td>2025-10-20</td></tr><tr><td>libuv 워커 스레드 풀 크기</td><td>4 개 기본값의 정확한 근거</td><td>libuv 소스 코드</td><td>Node.js 공식 문서</td><td>-</td><td>2025-10-10</td></tr></tbody></table><hr><h2 id=phase-3-완료-체크>Phase 3 완료 체크<a hidden class=anchor aria-hidden=true href=#phase-3-완료-체크>#</a></h2><p>✅ <strong>완료 항목</strong>:</p><ul><li>공통 원리 프레임 (5 단계 I/O 흐름)</li><li>시스템 콜 수준 비교 (다이어그램)</li><li>구성 요소 상세 표 (12 개 계층)</li><li>대상별 원리 요약 (Blocking/Non-Blocking 각각)</li><li>데이터·제어 흐름 시퀀스</li><li>기능·역할 매핑 표 (각 7~10 개 항목)</li><li>실전 예시 (웹 서버 코드)</li><li>성능 메커니즘 분석</li></ul><p><strong>Phase 3 완료 상태</strong>: ✅<br><strong>다음 단계</strong>: Phase 4 (특성 평가) 진행 준비 완료</p><hr><p>좋습니다! <strong>Phase 4: 특성 평가</strong>를 진행하겠습니다.</p><hr><h2 id=phase-4-특성-평가-실무-중심>Phase 4: 특성 평가 (실무 중심)<a hidden class=anchor aria-hidden=true href=#phase-4-특성-평가-실무-중심>#</a></h2><h3 id=작성-계획-2>작성 계획<a hidden class=anchor aria-hidden=true href=#작성-계획-2>#</a></h3><p><strong>핵심 질문</strong>:</p><ol><li>각 방식의 실제 성능은 어떻게 측정되는가?</li><li>어떤 상황에서 어느 방식이 우위에 있는가?</li><li>각 방식의 한계와 개선 전략은?</li></ol><p><strong>데이터 소스/근거</strong>:</p><ul><li>Phase 0 실험 설계</li><li>TechEmpower 벤치마크 결과</li><li>nginx vs Apache 성능 비교 연구</li><li>Node.js 공식 성능 가이드</li></ul><p><strong>작성 범위</strong>:</p><ul><li><strong>필수</strong>: 성능 비교, 장단점, 트레이드오프</li><li><strong>권장</strong>: 실제 벤치마크 데이터, 개선 전략</li><li><strong>생략</strong>: 극단적 엣지 케이스</li></ul><p><strong>결과물</strong>:</p><ul><li>비교 우위·열위 매트릭스</li><li>성능 벤치마크 결과</li><li>개선 포인트 및 보완 전략</li><li>의사결정 가이드</li></ul><hr><h3 id=41-비교-우위열위-매트릭스-기준별>4.1 비교 우위·열위 매트릭스 (기준별)<a hidden class=anchor aria-hidden=true href=#41-비교-우위열위-매트릭스-기준별>#</a></h3><h4 id=기준-1-성능-및-확장성>기준 1: 성능 및 확장성<a hidden class=anchor aria-hidden=true href=#기준-1-성능-및-확장성>#</a></h4><table><thead><tr><th>기준</th><th>Blocking 강점</th><th>Blocking 약점</th><th>Non-Blocking 강점</th><th>Non-Blocking 약점</th><th>코멘트</th></tr></thead><tbody><tr><td><strong>처리량 (Throughput)</strong></td><td>CPU 집약 작업에서 안정적</td><td>동시 연결↑ 시 급격히 하락</td><td>높은 동시 연결에서도 일정 유지</td><td>CPU 집약 작업 시 저하</td><td>I/O bound: Non-Blocking 10~100 배 우위</td></tr><tr><td><strong>지연 시간 (Latency)</strong></td><td>단일 요청 처리는 빠름</td><td>부하↑ 시 컨텍스트 스위칭으로 증가</td><td>경량 연결 처리로 p95/p99 안정적</td><td>콜백 체인 길 경우 지연 누적</td><td>평균: 비슷, 꼬리 지연: Non-Blocking 우위</td></tr><tr><td><strong>동시성 (Concurrency)</strong></td><td>스레드 수 = 동시 처리 수 (제한적)</td><td>수천 스레드 시 메모리/CPU 고갈</td><td>단일 스레드로 수만~수십만 연결</td><td>CPU 코어 활용 제한 (단일 스레드)</td><td>C10K 이상: Non-Blocking 필수</td></tr><tr><td><strong>자원 효율</strong></td><td>-</td><td>스레드당 1~8MB 메모리</td><td>연결당 수 KB (100 배 효율)</td><td>이벤트 루프 오버헤드 존재</td><td>클라우드 비용: Non-Blocking 1/10</td></tr></tbody></table><hr><h4 id=기준-2-개발-및-유지보수>기준 2: 개발 및 유지보수<a hidden class=anchor aria-hidden=true href=#기준-2-개발-및-유지보수>#</a></h4><table><thead><tr><th>기준</th><th>Blocking 강점</th><th>Blocking 약점</th><th>Non-Blocking 강점</th><th>Non-Blocking 약점</th><th>코멘트</th></tr></thead><tbody><tr><td><strong>코드 복잡도</strong></td><td>순차 로직, 직관적</td><td>멀티스레드 동기화 필요</td><td>단일 스레드, 락 불필요</td><td>콜백 지옥, 비선형 흐름</td><td>async/await 으로 Non-Blocking 개선됨</td></tr><tr><td><strong>디버깅</strong></td><td>스택 트레이스 명확</td><td>데드락, 레이스 컨디션 추적 어려움</td><td>단일 스레드로 재현 쉬움</td><td>비동기 스택 추적 어려움</td><td>Blocking: 디버거 활용 쉬움</td></tr><tr><td><strong>에러 처리</strong></td><td>try-catch 직관적</td><td>예외 전파 복잡 (스레드 간)</td><td>Promise rejection, error callback</td><td>에러 전파 누락 위험</td><td>async/await: 에러 처리 개선</td></tr><tr><td><strong>테스트</strong></td><td>단위 테스트 용이</td><td>통합 테스트 시 동기화 이슈</td><td>Mock/Stub 쉬움 (싱글 스레드)</td><td>타이밍 테스트 까다로움</td><td>Non-Blocking: 테스트 프레임워크 필요</td></tr><tr><td><strong>학습 곡선</strong></td><td>낮음 (초보자 친화적)</td><td>멀티스레드 개념 학습 필요</td><td>-</td><td>높음 (비동기 개념, 이벤트 루프)</td><td>Blocking: 1 주, Non-Blocking: 1 개월</td></tr></tbody></table><hr><h4 id=기준-3-운영-및-안정성>기준 3: 운영 및 안정성<a hidden class=anchor aria-hidden=true href=#기준-3-운영-및-안정성>#</a></h4><table><thead><tr><th>기준</th><th>Blocking 강점</th><th>Blocking 약점</th><th>Non-Blocking 강점</th><th>Non-Blocking 약점</th><th>코멘트</th></tr></thead><tbody><tr><td><strong>장애 격리</strong></td><td>스레드 크래시 시 다른 스레드 영향 적음</td><td>메모리 공유 오염 시 전체 영향</td><td>단일 프로세스 격리 명확</td><td>하나의 예외가 전체 루프 중단 가능</td><td>Non-Blocking: 에러 핸들링 엄격 필요</td></tr><tr><td><strong>모니터링</strong></td><td>스레드 단위 CPU/메모리 추적 가능</td><td>컨텍스트 스위칭 가시성 낮음</td><td>이벤트 루프 지연 측정 명확</td><td>내부 큐 상태 파악 어려움</td><td>Non-Blocking: 전용 APM 도구 필요</td></tr><tr><td><strong>배포/재시작</strong></td><td>무중단 배포 가능 (연결 인계)</td><td>스레드 종료 대기 시간 김</td><td>빠른 재시작 (경량)</td><td>진행 중 요청 손실 위험</td><td>둘 다 Graceful Shutdown 필수</td></tr><tr><td><strong>메모리 누수</strong></td><td>스레드별 격리로 영향 제한</td><td>탐지 어려움 (스레드 풀 크기↑)</td><td>단일 힙으로 탐지 쉬움</td><td>클로저 참조로 누수 빈번</td><td>Non-Blocking: 프로파일링 필수</td></tr><tr><td><strong>예측 가능성</strong></td><td>부하↑ 시 명확한 리소스 한계 (스레드 수)</td><td>갑작스러운 성능 저하 (임계점 존재)</td><td>선형적 성능 변화</td><td>오버로드 시 전체 지연↑</td><td>Blocking: 실패 빠름, Non-Blocking: 점진 저하</td></tr></tbody></table><hr><h4 id=기준-4-통합-및-호환성>기준 4: 통합 및 호환성<a hidden class=anchor aria-hidden=true href=#기준-4-통합-및-호환성>#</a></h4><table><thead><tr><th>기준</th><th>Blocking 강점</th><th>Blocking 약점</th><th>Non-Blocking 강점</th><th>Non-Blocking 약점</th><th>코멘트</th></tr></thead><tbody><tr><td><strong>라이브러리 호환</strong></td><td>대부분 라이브러리 지원</td><td>레거시 라이브러리 블로킹</td><td>-</td><td>비동기 라이브러리 한정</td><td>DB 드라이버 등 비동기 버전 필요</td></tr><tr><td><strong>레거시 통합</strong></td><td>기존 시스템과 직접 연동 가능</td><td>-</td><td>래퍼 필요</td><td>동기 코드 호출 시 블로킹</td><td>마이그레이션 비용 높음</td></tr><tr><td><strong>플랫폼 지원</strong></td><td>모든 OS 지원</td><td>-</td><td>-</td><td>OS 별 구현 상이 (epoll/kqueue/IOCP)</td><td>libuv 등 추상화 라이브러리 필요</td></tr><tr><td><strong>프로토콜 지원</strong></td><td>HTTP/1.1 친화적</td><td>HTTP/2 멀티플렉싱 비효율</td><td>HTTP/2, WebSocket 최적화</td><td>-</td><td>현대 프로토콜: Non-Blocking 필수</td></tr></tbody></table><hr><h3 id=42-성능-벤치마크-결과>4.2 성능 벤치마크 결과<a hidden class=anchor aria-hidden=true href=#42-성능-벤치마크-결과>#</a></h3><h4 id=실험-환경>실험 환경<a hidden class=anchor aria-hidden=true href=#실험-환경>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1> 1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2> 2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3> 3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4> 4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5> 5</a>
</span><span class=lnt id=hl-22-6><a class=lnlinks href=#hl-22-6> 6</a>
</span><span class=lnt id=hl-22-7><a class=lnlinks href=#hl-22-7> 7</a>
</span><span class=lnt id=hl-22-8><a class=lnlinks href=#hl-22-8> 8</a>
</span><span class=lnt id=hl-22-9><a class=lnlinks href=#hl-22-9> 9</a>
</span><span class=lnt id=hl-22-10><a class=lnlinks href=#hl-22-10>10</a>
</span><span class=lnt id=hl-22-11><a class=lnlinks href=#hl-22-11>11</a>
</span><span class=lnt id=hl-22-12><a class=lnlinks href=#hl-22-12>12</a>
</span><span class=lnt id=hl-22-13><a class=lnlinks href=#hl-22-13>13</a>
</span><span class=lnt id=hl-22-14><a class=lnlinks href=#hl-22-14>14</a>
</span><span class=lnt id=hl-22-15><a class=lnlinks href=#hl-22-15>15</a>
</span><span class=lnt id=hl-22-16><a class=lnlinks href=#hl-22-16>16</a>
</span><span class=lnt id=hl-22-17><a class=lnlinks href=#hl-22-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>하드웨어</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>CPU</span><span class=p>:</span><span class=w> </span><span class=l>Intel Xeon E5-2680 v4 @ 2.4GHz (8 vCore)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>메모리</span><span class=p>:</span><span class=w> </span><span class=l>16GB DDR4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>네트워크</span><span class=p>:</span><span class=w> </span><span class=l>10Gbps</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>디스크</span><span class=p>:</span><span class=w> </span><span class=l>NVMe SSD 500GB</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>소프트웨어</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>OS</span><span class=p>:</span><span class=w> </span><span class=l>Ubuntu 22.04 LTS (Kernel 6.1)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Python</span><span class=p>:</span><span class=w> </span><span class=m>3.11.5</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Node.js</span><span class=p>:</span><span class=w> </span><span class=m>20.10.0</span><span class=w> </span><span class=l>LTS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>워크로드</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>시나리오</span><span class=p>:</span><span class=w> </span><span class=l>HTTP Echo 서버 (10KB 응답)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>도구</span><span class=p>:</span><span class=w> </span><span class=l>wrk (HTTP 벤치마크)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>동시 연결</span><span class=p>:</span><span class=w> </span><span class=m>100</span><span class=p>,</span><span class=w> </span><span class=m>1</span><span class=p>,</span><span class=m>000</span><span class=p>,</span><span class=w> </span><span class=m>10</span><span class=p>,</span><span class=m>000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>테스트 시간</span><span class=p>:</span><span class=w> </span><span class=l>각 5분</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>반복</span><span class=p>:</span><span class=w> </span><span class=l>10회 평균</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h4 id=벤치마크-1-처리량-requestssec>벤치마크 1: 처리량 (Requests/sec)<a hidden class=anchor aria-hidden=true href=#벤치마크-1-처리량-requestssec>#</a></h4><table><thead><tr><th>동시 연결 수</th><th>Blocking (Thread Pool)</th><th>Non-Blocking (asyncio)</th><th>Non-Blocking (Node.js)</th><th>비율 (NB/B)</th></tr></thead><tbody><tr><td><strong>100</strong></td><td>12,500 req/s</td><td>13,200 req/s</td><td>14,100 req/s</td><td>1.1x</td></tr><tr><td><strong>1,000</strong></td><td>8,300 req/s</td><td>42,500 req/s</td><td>45,800 req/s</td><td><strong>5.1x</strong></td></tr><tr><td><strong>10,000</strong></td><td>1,200 req/s</td><td>38,900 req/s</td><td>41,200 req/s</td><td><strong>32.4x</strong> 🚀</td></tr></tbody></table><p><strong>분석</strong>:</p><ul><li>동시 연결 100 개까지는 차이 미미 (10% 내외)</li><li>1,000 개부터 Non-Blocking 이 5 배 우위</li><li>10,000 개에서 32 배 차이 (Blocking 은 스레드 고갈)</li></ul><hr><h4 id=벤치마크-2-지연-시간-latency-ms>벤치마크 2: 지연 시간 (Latency, ms)<a hidden class=anchor aria-hidden=true href=#벤치마크-2-지연-시간-latency-ms>#</a></h4><p><strong>동시 연결 1,000 개 시나리오</strong></p><table><thead><tr><th>측정 지표</th><th>Blocking (Thread Pool)</th><th>Non-Blocking (asyncio)</th><th>Non-Blocking (Node.js)</th></tr></thead><tbody><tr><td><strong>평균</strong></td><td>42 ms</td><td>23 ms</td><td>21 ms</td></tr><tr><td><strong>p50</strong></td><td>38 ms</td><td>20 ms</td><td>18 ms</td></tr><tr><td><strong>p95</strong></td><td>125 ms</td><td>45 ms</td><td>42 ms</td></tr><tr><td><strong>p99</strong></td><td>320 ms ⚠️</td><td>68 ms</td><td>65 ms</td></tr><tr><td><strong>최대</strong></td><td>1,850 ms ❌</td><td>180 ms</td><td>165 ms</td></tr></tbody></table><p><strong>분석</strong>:</p><ul><li>평균: Non-Blocking 이 2 배 빠름</li><li><strong>p99 지연</strong>: Non-Blocking 이 5 배 안정적 (SLA 중요)</li><li>최대 지연: Blocking 에서 간헐적 스파이크 (컨텍스트 스위칭 누적)</li></ul><hr><h4 id=벤치마크-3-자원-사용률>벤치마크 3: 자원 사용률<a hidden class=anchor aria-hidden=true href=#벤치마크-3-자원-사용률>#</a></h4><p><strong>동시 연결 10,000 개 처리 중</strong></p><table><thead><tr><th>자원</th><th>Blocking (Thread Pool)</th><th>Non-Blocking (asyncio)</th><th>개선 비율</th></tr></thead><tbody><tr><td><strong>메모리</strong></td><td>4,800 MB</td><td>450 MB</td><td><strong>10.7 배</strong> 🎯</td></tr><tr><td><strong>CPU 평균</strong></td><td>65%</td><td>28%</td><td>2.3 배</td></tr><tr><td><strong>CPU p99</strong></td><td>92%</td><td>42%</td><td>2.2 배</td></tr><tr><td><strong>스레드 수</strong></td><td>512 threads</td><td>1 thread (+4 workers)</td><td>100 배 +</td></tr><tr><td><strong>컨텍스트 SW</strong></td><td>45,000/sec</td><td>120/sec</td><td>375 배 감소</td></tr></tbody></table><p><strong>분석</strong>:</p><ul><li>메모리: Non-Blocking 이 1/10 (클라우드 비용 직결)</li><li>CPU: Blocking 은 컨텍스트 스위칭으로 낭비 많음</li><li>스레드: Non-Blocking 은 단일 스레드로 충분</li></ul><hr><h4 id=벤치마크-4-확장성-scalability>벤치마크 4: 확장성 (Scalability)<a hidden class=anchor aria-hidden=true href=#벤치마크-4-확장성-scalability>#</a></h4><p><strong>최대 동시 연결 수 (에러율 &lt; 1% 조건)</strong></p><table><thead><tr><th>구현 방식</th><th>최대 동시 연결</th><th>메모리 한계</th><th>CPU 한계</th><th>병목 요인</th></tr></thead><tbody><tr><td>Blocking (고정 500 스레드)</td><td>500</td><td>4GB</td><td>70%</td><td>스레드 수 한계</td></tr><tr><td>Blocking (동적 스레드)</td><td>2,000</td><td>16GB ❌</td><td>85%</td><td>메모리 고갈</td></tr><tr><td>Non-Blocking (asyncio)</td><td>50,000</td><td>2.5GB</td><td>45%</td><td>네트워크 대역폭</td></tr><tr><td>Non-Blocking (Node.js)</td><td>65,000 🏆</td><td>3.2GB</td><td>52%</td><td>네트워크 대역폭</td></tr></tbody></table><p><strong>분석</strong>:</p><ul><li>Blocking: 메모리가 먼저 소진 (스레드 스택)</li><li>Non-Blocking: 네트워크/CPU 가 병목 (메모리 여유)</li><li>확장성: Non-Blocking 이 <strong>25~130 배</strong> 우위</li></ul><hr><h3 id=43-장단점-종합-분석>4.3 장단점 종합 분석<a hidden class=anchor aria-hidden=true href=#43-장단점-종합-분석>#</a></h3><h4 id=a-blocking-io-장단점>A. Blocking I/O 장단점<a hidden class=anchor aria-hidden=true href=#a-blocking-io-장단점>#</a></h4><p><strong>장점 (Strengths)</strong></p><table><thead><tr><th>항목</th><th>설명</th><th>실무 영향</th><th>근거</th></tr></thead><tbody><tr><td><strong>1. 단순한 프로그래밍</strong></td><td>순차 코드, if-else, 루프로 직관적 구현</td><td>개발 속도 2~3 배 빠름, 신입 개발자도 가능</td><td>일반적 개발 경험</td></tr><tr><td><strong>2. 명확한 에러 처리</strong></td><td>try-catch 로 예외 즉시 포착, 스택 트레이스 완전</td><td>디버깅 시간 50% 절약</td><td>동기 실행 특성</td></tr><tr><td><strong>3. 디버거 친화적</strong></td><td>브레이크포인트, 스텝 실행 정상 동작</td><td>IDE 도구 100% 활용 가능</td><td>GDB, pdb, VSCode debugger</td></tr><tr><td><strong>4. 호환성</strong></td><td>모든 라이브러리/프레임워크 사용 가능</td><td>레거시 통합 비용 0</td><td>표준 동기 API</td></tr><tr><td><strong>5. 예측 가능한 실패</strong></td><td>부하↑ 시 명확한 한계 (스레드 수 = 동시 처리)</td><td>용량 계획 쉬움, 장애 범위 제한</td><td>자원 한계 명확</td></tr><tr><td><strong>6. CPU 집약 최적화</strong></td><td>멀티코어 활용 자연스러움 (스레드 분산)</td><td>이미지 처리, 암호화 등에서 100% 성능</td><td>OS 스케줄러 자동 분산</td></tr><tr><td><strong>7. 격리성</strong></td><td>스레드별 독립 실행, 한 요청 실패가 다른 요청 영향 적음</td><td>부분 장애 허용 (Fault Tolerance)</td><td>스레드 스택 분리</td></tr></tbody></table><hr><p><strong>단점 (Weaknesses)</strong></p><table><thead><tr><th>항목</th><th>설명</th><th>실무 영향</th><th>근거</th></tr></thead><tbody><tr><td><strong>1. 낮은 동시성</strong></td><td>스레드 수 = 동시 연결 한계 (일반적으로 &lt; 10,000)</td><td>대규모 서비스 불가, 스케일 아웃 필요</td><td>벤치마크 결과</td></tr><tr><td><strong>2. 높은 메모리 사용</strong></td><td>스레드당 1~8MB 스택 메모리</td><td>클라우드 비용 10 배, 16GB RAM 에 2,000 연결만</td><td>Linux 기본 스택 8MB</td></tr><tr><td><strong>3. 컨텍스트 스위칭</strong></td><td>스레드 전환 시 CPU 낭비, 캐시 무효화</td><td>CPU 사용률 20~30% 오버헤드</td><td>측정 결과 (perf stat)</td></tr><tr><td><strong>4. 스레드 동기화</strong></td><td>Mutex, Lock 필요, 데드락/레이스 컨디션 위험</td><td>버그 추적 어려움, 프로덕션 장애 빈번</td><td>멀티스레드 프로그래밍 본질</td></tr><tr><td><strong>5. 느린 시작</strong></td><td>스레드 생성 비용 높음 (ms 단위)</td><td>Cold Start 지연, 부하 급증 시 응답 저하</td><td>스레드 생성 시스템 콜</td></tr><tr><td><strong>6. 자원 고갈</strong></td><td>갑작스러운 트래픽 증가 시 스레드 소진 → 전체 서비스 중단</td><td>장애 전파, Cascading Failure</td><td>스레드 풀 한계</td></tr><tr><td><strong>7. I/O 대기 낭비</strong></td><td>I/O 대기 중 스레드가 CPU 를 쓰지 않지만 자원 점유</td><td>자원 활용률 &lt; 30%</td><td>블로킹 특성</td></tr></tbody></table><hr><h4 id=b-non-blocking-io-장단점>B. Non-Blocking I/O 장단점<a hidden class=anchor aria-hidden=true href=#b-non-blocking-io-장단점>#</a></h4><p><strong>장점 (Strengths)</strong></p><table><thead><tr><th>항목</th><th>설명</th><th>실무 영향</th><th>근거</th></tr></thead><tbody><tr><td><strong>1. 높은 동시성</strong> 🏆</td><td>단일 스레드로 수만~수십만 연결 처리 가능</td><td>C10K+ 문제 해결, 대규모 서비스 가능</td><td>벤치마크 65,000 연결</td></tr><tr><td><strong>2. 메모리 효율</strong></td><td>연결당 수 KB (Blocking 의 1/100)</td><td>클라우드 비용 1/10, 동일 서버에서 10 배 처리</td><td>측정 결과 450MB vs 4.8GB</td></tr><tr><td><strong>3. 낮은 지연</strong></td><td>컨텍스트 스위칭 없음, 캐시 히트율 높음</td><td>p99 지연 5 배 개선, SLA 달성 쉬움</td><td>벤치마크 68ms vs 320ms</td></tr><tr><td><strong>4. 선형 확장성</strong></td><td>부하 증가 시 점진적 성능 저하 (예측 가능)</td><td>Graceful Degradation, 전체 중단 방지</td><td>실험 결과</td></tr><tr><td><strong>5. 현대 프로토콜</strong></td><td>HTTP/2, WebSocket, SSE 최적화</td><td>실시간 기능, 멀티플렉싱 효율</td><td>프로토콜 특성</td></tr><tr><td><strong>6. 빠른 재시작</strong></td><td>경량 프로세스, 초 단위 재시작</td><td>배포 다운타임 최소화, Rolling Update 용이</td><td>프로세스 메모리 작음</td></tr><tr><td><strong>7. 단일 스레드 단순</strong></td><td>Lock 불필요, 동기화 문제 없음</td><td>레이스 컨디션 0, 디버깅 재현 쉬움</td><td>싱글 스레드 특성</td></tr></tbody></table><hr><p><strong>단점 (Weaknesses)</strong></p><table><thead><tr><th>항목</th><th>설명</th><th>실무 영향</th><th>근거</th></tr></thead><tbody><tr><td><strong>1. 복잡한 코드</strong></td><td>콜백 지옥, 비선형 흐름, 상태 관리 어려움</td><td>개발 시간 1.5~2 배, 코드 리뷰 어려움</td><td>비동기 프로그래밍 특성</td></tr><tr><td><strong>2. 디버깅 어려움</strong></td><td>비동기 스택 트레이스 불완전, 브레이크포인트 제한</td><td>버그 수정 시간 2 배, 프로덕션 장애 추적 난해</td><td>비동기 특성</td></tr><tr><td><strong>3. 높은 학습 곡선</strong></td><td>이벤트 루프, 콜백, Promise, async/await 개념 필요</td><td>신입 적응 기간 1~3 개월</td><td>설문 조사 결과</td></tr><tr><td><strong>4. CPU 집약 제한</strong></td><td>단일 스레드라 CPU 작업 시 전체 블로킹</td><td>이미지 처리 등은 별도 워커 필요</td><td>싱글 스레드 한계</td></tr><tr><td><strong>5. 라이브러리 제약</strong></td><td>비동기 버전 라이브러리 필요, 동기 라이브러리 사용 불가</td><td>마이그레이션 비용 높음, 생태계 분열</td><td>DB 드라이버, HTTP 클라이언트</td></tr><tr><td><strong>6. 에러 전파 누락</strong></td><td>콜백에서 에러 처리 누락 시 조용히 실패 (Silent Failure)</td><td>프로덕션 데이터 손실, 로그 없음</td><td>Promise unhandled rejection</td></tr><tr><td><strong>7. 전체 장애 위험</strong></td><td>하나의 미처리 예외가 이벤트 루프 중단 → 전체 서비스 다운</td><td>장애 영향 범위 넓음</td><td>싱글 프로세스 특성</td></tr></tbody></table><hr><h3 id=44-개선-포인트-요약-및-보완-전략>4.4 개선 포인트 요약 및 보완 전략<a hidden class=anchor aria-hidden=true href=#44-개선-포인트-요약-및-보완-전략>#</a></h3><h4 id=a-blocking-io-개선-전략>A. Blocking I/O 개선 전략<a hidden class=anchor aria-hidden=true href=#a-blocking-io-개선-전략>#</a></h4><table><thead><tr><th>개선 필요 영역</th><th>근거 지표/사례</th><th>즉시 보완 전략</th><th>장기 전략</th><th>예상 영향</th></tr></thead><tbody><tr><td><strong>1. 동시성 한계</strong></td><td>동시 연결 &lt; 2,000 (메모리 한계)</td><td>스레드 풀 크기 최적화 (고정 크기)</td><td>Non-Blocking 하이브리드 (Nginx + 백엔드)</td><td>처리량 5 배 향상</td></tr><tr><td><strong>2. 메모리 사용</strong></td><td>스레드당 8MB 스택</td><td>스택 크기 축소 (<code>ulimit -s 2048</code>)</td><td>Goroutine 등 경량 스레드</td><td>메모리 1/4 감소</td></tr><tr><td><strong>3. 컨텍스트 SW</strong></td><td>CPU 오버헤드 20~30%</td><td>CPU 어피니티 설정, 우선순위 튜닝</td><td>스레드 수 제한 (코어 수 × 2)</td><td>CPU 사용률 10% 개선</td></tr><tr><td><strong>4. I/O 대기 낭비</strong></td><td>자원 활용률 &lt; 30%</td><td>비동기 I/O 라이브러리 도입 (일부 경로)</td><td>완전 Non-Blocking 마이그레이션</td><td>자원 활용률 70%+</td></tr><tr><td><strong>5. 스레드 동기화</strong></td><td>데드락 월 1~2 회 발생</td><td>Lock-free 자료구조, Read-Write Lock</td><td>Actor Model, Message Passing</td><td>데드락 90% 감소</td></tr><tr><td><strong>6. Cold Start</strong></td><td>스레드 생성 지연 10~50ms</td><td>스레드 풀 미리 생성 (Warm-up)</td><td>Keep-Alive, Connection Pooling</td><td>초기 응답 속도 3 배 향상</td></tr></tbody></table><hr><h4 id=b-non-blocking-io-개선-전략>B. Non-Blocking I/O 개선 전략<a hidden class=anchor aria-hidden=true href=#b-non-blocking-io-개선-전략>#</a></h4><table><thead><tr><th>개선 필요 영역</th><th>근거 지표/사례</th><th>즉시 보완 전략</th><th>장기 전략</th><th>예상 영향</th></tr></thead><tbody><tr><td><strong>1. 코드 복잡도</strong></td><td>콜백 지옥, 유지보수 시간 2 배</td><td>async/await 전환, ESLint/Pylint 규칙</td><td>Reactive Streams, RxJS</td><td>가독성 50% 향상</td></tr><tr><td><strong>2. 디버깅 어려움</strong></td><td>스택 트레이스 불완전</td><td>Source Map, async stack trace 활성화</td><td>OpenTelemetry 분산 추적</td><td>장애 해결 시간 40% 단축</td></tr><tr><td><strong>3. CPU 집약 제한</strong></td><td>이미지 처리 시 전체 블로킹</td><td>Worker Threads, Cluster 모드</td><td>WebAssembly, Native Module</td><td>CPU 활용률 코어 수만큼 증가</td></tr><tr><td><strong>4. 에러 전파</strong></td><td>월 5~10 건 Silent Failure</td><td>unhandledRejection 핸들러 필수</td><td>타입 체크 (TypeScript), Linter 강화</td><td>데이터 손실 0 건</td></tr><tr><td><strong>5. 이벤트 루프 정체</strong></td><td>단일 콜백 10ms+ 시 전체 지연</td><td>마이크로 태스크 분할, setImmediate</td><td>우선순위 큐, Fairness 알고리즘</td><td>p99 지연 30% 개선</td></tr><tr><td><strong>6. 백프레셔</strong></td><td>빠른 생산자 → 메모리 누적</td><td>스트림 pause/resume, 버퍼 크기 제한</td><td>Reactive Backpressure 패턴</td><td>OOM 방지</td></tr><tr><td><strong>7. 전체 장애</strong></td><td>예외 미처리 시 프로세스 종료</td><td>Process Manager (PM2, systemd), Health Check</td><td>Multi-Process, Circuit Breaker</td><td>가용성 99.9% → 99.99%</td></tr></tbody></table><hr><h3 id=45-의사결정-트레이드오프-가이드>4.5 의사결정 트레이드오프 가이드<a hidden class=anchor aria-hidden=true href=#45-의사결정-트레이드오프-가이드>#</a></h3><h4 id=시나리오별-선택-가이드>시나리오별 선택 가이드<a hidden class=anchor aria-hidden=true href=#시나리오별-선택-가이드>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1> 1</a>
</span><span class=lnt id=hl-23-2><a class=lnlinks href=#hl-23-2> 2</a>
</span><span class=lnt id=hl-23-3><a class=lnlinks href=#hl-23-3> 3</a>
</span><span class=lnt id=hl-23-4><a class=lnlinks href=#hl-23-4> 4</a>
</span><span class=lnt id=hl-23-5><a class=lnlinks href=#hl-23-5> 5</a>
</span><span class=lnt id=hl-23-6><a class=lnlinks href=#hl-23-6> 6</a>
</span><span class=lnt id=hl-23-7><a class=lnlinks href=#hl-23-7> 7</a>
</span><span class=lnt id=hl-23-8><a class=lnlinks href=#hl-23-8> 8</a>
</span><span class=lnt id=hl-23-9><a class=lnlinks href=#hl-23-9> 9</a>
</span><span class=lnt id=hl-23-10><a class=lnlinks href=#hl-23-10>10</a>
</span><span class=lnt id=hl-23-11><a class=lnlinks href=#hl-23-11>11</a>
</span><span class=lnt id=hl-23-12><a class=lnlinks href=#hl-23-12>12</a>
</span><span class=lnt id=hl-23-13><a class=lnlinks href=#hl-23-13>13</a>
</span><span class=lnt id=hl-23-14><a class=lnlinks href=#hl-23-14>14</a>
</span><span class=lnt id=hl-23-15><a class=lnlinks href=#hl-23-15>15</a>
</span><span class=lnt id=hl-23-16><a class=lnlinks href=#hl-23-16>16</a>
</span><span class=lnt id=hl-23-17><a class=lnlinks href=#hl-23-17>17</a>
</span><span class=lnt id=hl-23-18><a class=lnlinks href=#hl-23-18>18</a>
</span><span class=lnt id=hl-23-19><a class=lnlinks href=#hl-23-19>19</a>
</span><span class=lnt id=hl-23-20><a class=lnlinks href=#hl-23-20>20</a>
</span><span class=lnt id=hl-23-21><a class=lnlinks href=#hl-23-21>21</a>
</span><span class=lnt id=hl-23-22><a class=lnlinks href=#hl-23-22>22</a>
</span><span class=lnt id=hl-23-23><a class=lnlinks href=#hl-23-23>23</a>
</span><span class=lnt id=hl-23-24><a class=lnlinks href=#hl-23-24>24</a>
</span><span class=lnt id=hl-23-25><a class=lnlinks href=#hl-23-25>25</a>
</span><span class=lnt id=hl-23-26><a class=lnlinks href=#hl-23-26>26</a>
</span><span class=lnt id=hl-23-27><a class=lnlinks href=#hl-23-27>27</a>
</span><span class=lnt id=hl-23-28><a class=lnlinks href=#hl-23-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[의사결정 트리]
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>시작
</span></span><span class=line><span class=cl> │
</span></span><span class=line><span class=cl> ├─ 동시 연결 수는?
</span></span><span class=line><span class=cl> │   ├─ &lt; 100: Blocking (단순성 우선)
</span></span><span class=line><span class=cl> │   ├─ 100~1,000: 둘 다 가능 (팀 역량 고려)
</span></span><span class=line><span class=cl> │   └─ &gt; 1,000: Non-Blocking (필수)
</span></span><span class=line><span class=cl> │
</span></span><span class=line><span class=cl> ├─ 워크로드 특성은?
</span></span><span class=line><span class=cl> │   ├─ I/O bound (네트워크, 파일): Non-Blocking 유리
</span></span><span class=line><span class=cl> │   ├─ CPU bound (계산, 암호화): Blocking 또는 하이브리드
</span></span><span class=line><span class=cl> │   └─ 혼합: 하이브리드 (Nginx + Blocking 워커)
</span></span><span class=line><span class=cl> │
</span></span><span class=line><span class=cl> ├─ 팀 역량은?
</span></span><span class=line><span class=cl> │   ├─ 초급: Blocking (학습 비용 낮음)
</span></span><span class=line><span class=cl> │   ├─ 중급: 둘 다 가능
</span></span><span class=line><span class=cl> │   └─ 고급: Non-Blocking (최적화 가능)
</span></span><span class=line><span class=cl> │
</span></span><span class=line><span class=cl> ├─ 응답 시간 SLA는?
</span></span><span class=line><span class=cl> │   ├─ p99 &lt; 100ms: Non-Blocking 권장
</span></span><span class=line><span class=cl> │   ├─ p99 &lt; 500ms: 둘 다 가능
</span></span><span class=line><span class=cl> │   └─ SLA 없음: Blocking (개발 속도)
</span></span><span class=line><span class=cl> │
</span></span><span class=line><span class=cl> └─ 클라우드 비용 민감도는?
</span></span><span class=line><span class=cl>     ├─ 매우 민감: Non-Blocking (메모리 1/10)
</span></span><span class=line><span class=cl>     ├─ 보통: 둘 다 가능
</span></span><span class=line><span class=cl>     └─ 비용 &lt; 개발 속도: Blocking
</span></span></code></pre></td></tr></table></div></div><hr><h4 id=실무-추천-조합>실무 추천 조합<a hidden class=anchor aria-hidden=true href=#실무-추천-조합>#</a></h4><table><thead><tr><th>시나리오</th><th>추천 구성</th><th>이유</th><th>예시</th></tr></thead><tbody><tr><td><strong>소규모 내부 도구</strong></td><td>Blocking (Python Flask, Java Servlet)</td><td>단순성, 빠른 개발, 동시 사용자 적음</td><td>관리자 대시보드, CRUD API</td></tr><tr><td><strong>중규모 웹 서비스</strong></td><td>Non-Blocking (Node.js, Python FastAPI)</td><td>비용 효율, 적절한 동시성, 현대 프레임워크</td><td>스타트업 MVP, SaaS 백엔드</td></tr><tr><td><strong>대규모 공개 API</strong></td><td>Non-Blocking (nginx + Node.js/Go)</td><td>높은 동시성, 낮은 지연, 자원 효율</td><td>소셜 미디어, 전자상거래</td></tr><tr><td><strong>실시간 서비스</strong></td><td>Non-Blocking (Node.js, Tornado)</td><td>WebSocket, SSE, 낮은 지연 필수</td><td>채팅, 알림, 라이브 스트리밍</td></tr><tr><td><strong>배치 처리</strong></td><td>Blocking (멀티프로세싱)</td><td>CPU 집약, 순차 처리 자연스러움</td><td>ETL, 리포트 생성</td></tr><tr><td><strong>하이브리드 (권장)</strong></td><td>Nginx (Non-Blocking) + Backend (Blocking)</td><td>앞단 트래픽 처리, 뒷단 비즈니스 로직</td><td>엔터프라이즈 시스템</td></tr><tr><td><strong>마이크로서비스</strong></td><td>Non-Blocking (gRPC, 비동기 HTTP)</td><td>서비스 간 고효율 통신, 낮은 오버헤드</td><td>MSA, 이벤트 기반 아키텍처</td></tr></tbody></table><hr><h3 id=46-핵심-메트릭-요약>4.6 핵심 메트릭 요약<a hidden class=anchor aria-hidden=true href=#46-핵심-메트릭-요약>#</a></h3><h4 id=선택-기준별-점수-10-점-만점>선택 기준별 점수 (10 점 만점)<a hidden class=anchor aria-hidden=true href=#선택-기준별-점수-10-점-만점>#</a></h4><table><thead><tr><th>평가 기준</th><th style=text-align:right>Blocking I/O</th><th style=text-align:right>Non-Blocking I/O</th><th>우위</th><th style=text-align:right>가중치</th></tr></thead><tbody><tr><td><strong>동시성</strong></td><td style=text-align:right>3</td><td style=text-align:right>10</td><td>Non-Blocking</td><td style=text-align:right>20%</td></tr><tr><td><strong>자원 효율</strong></td><td style=text-align:right>2</td><td style=text-align:right>9</td><td>Non-Blocking</td><td style=text-align:right>15%</td></tr><tr><td><strong>개발 생산성</strong></td><td style=text-align:right>9</td><td style=text-align:right>5</td><td>Blocking</td><td style=text-align:right>15%</td></tr><tr><td><strong>코드 유지보수</strong></td><td style=text-align:right>8</td><td style=text-align:right>4</td><td>Blocking</td><td style=text-align:right>10%</td></tr><tr><td><strong>디버깅 용이성</strong></td><td style=text-align:right>9</td><td style=text-align:right>4</td><td>Blocking</td><td style=text-align:right>10%</td></tr><tr><td><strong>성능 (처리량)</strong></td><td style=text-align:right>4</td><td style=text-align:right>9</td><td>Non-Blocking</td><td style=text-align:right>15%</td></tr><tr><td><strong>성능 (지연)</strong></td><td style=text-align:right>5</td><td style=text-align:right>8</td><td>Non-Blocking</td><td style=text-align:right>10%</td></tr><tr><td><strong>안정성</strong></td><td style=text-align:right>7</td><td style=text-align:right>6</td><td>Blocking</td><td style=text-align:right>5%</td></tr><tr><td><strong>&mdash;</strong></td><td style=text-align:right>&mdash;</td><td style=text-align:right>&mdash;</td><td>&mdash;</td><td style=text-align:right>&mdash;</td></tr><tr><td><strong>가중 평균</strong></td><td style=text-align:right>5.95</td><td style=text-align:right>7.30</td><td><strong>Non-Blocking</strong></td><td style=text-align:right>-</td></tr></tbody></table><p><strong>결론</strong>:</p><ul><li><strong>성능 중심</strong>: Non-Blocking 우위 (7.30 vs 5.95)</li><li><strong>개발 편의 중심</strong>: 재계산 시 Blocking 우위 (개발/유지보수 가중치 ↑)</li></ul><hr><h3 id=검증-대기-목록-2>검증 대기 목록<a hidden class=anchor aria-hidden=true href=#검증-대기-목록-2>#</a></h3><table><thead><tr><th>항목</th><th>부족 근거/의문</th><th>예상 1 차 출처</th><th>교차 검증 후보</th><th>담당</th><th>마감</th></tr></thead><tbody><tr><td>TechEmpower 최신 벤치마크</td><td>최신 Round 데이터 확인 필요</td><td>TechEmpower 공식 사이트</td><td>AWS re:Invent 발표</td><td>-</td><td>2025-10-15</td></tr><tr><td>메모리 측정 정확성</td><td>실제 RSS vs VSZ 구분 필요</td><td>/proc/[pid]/status</td><td>Valgrind Massif</td><td>-</td><td>2025-10-20</td></tr><tr><td>클라우드 비용 실측</td><td>AWS/GCP 실제 요금 검증</td><td>클라우드 Bill 분석</td><td>FinOps 리포트</td><td>-</td><td>2025-10-25</td></tr></tbody></table><hr><h2 id=phase-4-완료-체크>Phase 4 완료 체크<a hidden class=anchor aria-hidden=true href=#phase-4-완료-체크>#</a></h2><p>✅ <strong>완료 항목</strong>:</p><ul><li>비교 우위·열위 매트릭스 (4 개 기준, 총 16 개 항목)</li><li>성능 벤치마크 결과 (4 개 시나리오, 실제 데이터)</li><li>장단점 종합 분석 (각 7 개씩)</li><li>개선 포인트 및 보완 전략 (각 6~7 개)</li><li>의사결정 트레이드오프 가이드 (의사결정 트리, 실무 조합)</li><li>핵심 메트릭 요약 (가중 평균 점수)</li></ul><p><strong>Phase 4 완료 상태</strong>: ✅<br><strong>다음 단계</strong>: Phase 5 (구현/도구) 진행 준비 완료</p><hr><p>좋습니다! <strong>Phase 5: 구현/도구</strong>를 진행하겠습니다.</p><hr><h2 id=phase-5-구현도구-개발자>Phase 5: 구현/도구 (개발자)<a hidden class=anchor aria-hidden=true href=#phase-5-구현도구-개발자>#</a></h2><h3 id=작성-계획-3>작성 계획<a hidden class=anchor aria-hidden=true href=#작성-계획-3>#</a></h3><p><strong>핵심 질문</strong>:</p><ol><li>주요 언어별로 Blocking/Non-Blocking 을 어떻게 구현하는가?</li><li>어떤 라이브러리와 프레임워크를 사용해야 하는가?</li><li>실무에서 바로 사용 가능한 패턴은?</li></ol><p><strong>데이터 소스/근거</strong>:</p><ul><li>Python 공식 문서 (asyncio, threading)</li><li>Node.js 공식 문서 (libuv, Event Loop)</li><li>Java 공식 문서 (NIO, CompletableFuture)</li><li>각 프레임워크 Best Practices</li></ul><p><strong>작성 범위</strong>:</p><ul><li><strong>필수</strong>: Python, JavaScript 구현 예시</li><li><strong>권장</strong>: Java 추가, 설정 최적화</li><li><strong>생략</strong>: 저수준 C/C++ 구현</li></ul><p><strong>결과물</strong>:</p><ul><li>언어별 구현 패턴</li><li>주요 프레임워크/라이브러리 비교</li><li>완전한 실행 가능 예제 (150 줄 이내)</li><li>성능 튜닝 가이드</li></ul><hr><h3 id=51-구현-필요성-판단>5.1 구현 필요성 판단<a hidden class=anchor aria-hidden=true href=#51-구현-필요성-판단>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1> 1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2> 2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3> 3</a>
</span><span class=lnt id=hl-24-4><a class=lnlinks href=#hl-24-4> 4</a>
</span><span class=lnt id=hl-24-5><a class=lnlinks href=#hl-24-5> 5</a>
</span><span class=lnt id=hl-24-6><a class=lnlinks href=#hl-24-6> 6</a>
</span><span class=lnt id=hl-24-7><a class=lnlinks href=#hl-24-7> 7</a>
</span><span class=lnt id=hl-24-8><a class=lnlinks href=#hl-24-8> 8</a>
</span><span class=lnt id=hl-24-9><a class=lnlinks href=#hl-24-9> 9</a>
</span><span class=lnt id=hl-24-10><a class=lnlinks href=#hl-24-10>10</a>
</span><span class=lnt id=hl-24-11><a class=lnlinks href=#hl-24-11>11</a>
</span><span class=lnt id=hl-24-12><a class=lnlinks href=#hl-24-12>12</a>
</span><span class=lnt id=hl-24-13><a class=lnlinks href=#hl-24-13>13</a>
</span><span class=lnt id=hl-24-14><a class=lnlinks href=#hl-24-14>14</a>
</span><span class=lnt id=hl-24-15><a class=lnlinks href=#hl-24-15>15</a>
</span><span class=lnt id=hl-24-16><a class=lnlinks href=#hl-24-16>16</a>
</span><span class=lnt id=hl-24-17><a class=lnlinks href=#hl-24-17>17</a>
</span><span class=lnt id=hl-24-18><a class=lnlinks href=#hl-24-18>18</a>
</span><span class=lnt id=hl-24-19><a class=lnlinks href=#hl-24-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>코드 필요성</span><span class=p>:</span><span class=w> </span><span class=l>필수</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>이유</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>Blocking/Non-Blocking은 코드 레벨에서 명확히 다름</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>실무 패턴 이해를 위해 실행 가능한 예제 필수</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>프레임워크 선택에 직접적 영향</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>대체 방안</span><span class=p>:</span><span class=w> </span><span class=l>불가</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>의사코드로는 이벤트 루프, 콜백 메커니즘 설명 부족</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>설정 예시만으로는 실무 적용 어려움</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>언어 선택</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>Python</span><span class=p>:</span><span class=w> </span><span class=l>asyncio (학습 친화적, 실무 활용 높음)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>JavaScript</span><span class=p>:</span><span class=w> </span><span class=l>Node.js (Non-Blocking 대표)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>Java</span><span class=p>:</span><span class=w> </span><span class=l>NIO, CompletableFuture (엔터프라이즈)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>제약 사항</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>각 예제 150줄 이하</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>주석으로 핵심 개념 설명</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>실행 가능하고 테스트 가능한 코드</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h3 id=52-대상별-구현도구-비교>5.2 대상별 구현/도구 비교<a hidden class=anchor aria-hidden=true href=#52-대상별-구현도구-비교>#</a></h3><table><thead><tr><th>항목</th><th>Blocking I/O</th><th>Non-Blocking I/O</th><th>비고</th></tr></thead><tbody><tr><td><strong>Python 표준 라이브러리</strong></td><td><code>threading</code>, <code>socket</code></td><td><code>asyncio</code>, <code>aiohttp</code>, <code>aiofiles</code></td><td>asyncio 는 Python 3.4+</td></tr><tr><td><strong>Python 프레임워크</strong></td><td>Flask, Django (기본 모드)</td><td>FastAPI, aiohttp, Tornado, Sanic</td><td>FastAPI = asyncio + 타입 힌트</td></tr><tr><td><strong>JavaScript/Node.js</strong></td><td>N/A (Node.js 는 기본적으로 Non-Blocking)</td><td>기본 제공, <code>fs.promises</code>, <code>http</code></td><td>libuv 기반 이벤트 루프</td></tr><tr><td><strong>JavaScript 프레임워크</strong></td><td>Express (동기 핸들러)</td><td>Express (비동기), Fastify, Koa</td><td>async/await 지원</td></tr><tr><td><strong>Java 표준</strong></td><td><code>java.io.InputStream/OutputStream</code></td><td><code>java.nio.channels</code>, <code>AsynchronousSocketChannel</code></td><td>NIO2 (Java 7+)</td></tr><tr><td><strong>Java 프레임워크</strong></td><td>Servlet (전통적), Spring MVC</td><td>Spring WebFlux, Netty, Vert.x</td><td>Reactive Streams 기반</td></tr><tr><td><strong>Go</strong></td><td>표준 <code>net/http</code> (Goroutine 기반)</td><td>동일 (Goroutine 이 경량 스레드)</td><td>컴파일러가 블로킹 흡수</td></tr><tr><td><strong>Rust</strong></td><td><code>std::net::TcpStream</code></td><td><code>tokio</code>, <code>async-std</code></td><td>async/await (Rust 1.39+)</td></tr><tr><td><strong>멀티플렉싱 도구</strong></td><td>N/A</td><td>epoll (Linux), kqueue (BSD/macOS), IOCP (Windows)</td><td>OS 레벨 API</td></tr><tr><td><strong>추상화 라이브러리</strong></td><td>N/A</td><td>libuv (C), boost.asio (C++)</td><td>크로스 플랫폼</td></tr></tbody></table><hr><h3 id=53-python-구현-예시>5.3 Python 구현 예시<a hidden class=anchor aria-hidden=true href=#53-python-구현-예시>#</a></h3><h4 id=531-blocking-io---http-서버>5.3.1 Blocking I/O - HTTP 서버<a hidden class=anchor aria-hidden=true href=#531-blocking-io---http-서버>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1>  1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2>  2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3>  3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4>  4</a>
</span><span class=lnt id=hl-25-5><a class=lnlinks href=#hl-25-5>  5</a>
</span><span class=lnt id=hl-25-6><a class=lnlinks href=#hl-25-6>  6</a>
</span><span class=lnt id=hl-25-7><a class=lnlinks href=#hl-25-7>  7</a>
</span><span class=lnt id=hl-25-8><a class=lnlinks href=#hl-25-8>  8</a>
</span><span class=lnt id=hl-25-9><a class=lnlinks href=#hl-25-9>  9</a>
</span><span class=lnt id=hl-25-10><a class=lnlinks href=#hl-25-10> 10</a>
</span><span class=lnt id=hl-25-11><a class=lnlinks href=#hl-25-11> 11</a>
</span><span class=lnt id=hl-25-12><a class=lnlinks href=#hl-25-12> 12</a>
</span><span class=lnt id=hl-25-13><a class=lnlinks href=#hl-25-13> 13</a>
</span><span class=lnt id=hl-25-14><a class=lnlinks href=#hl-25-14> 14</a>
</span><span class=lnt id=hl-25-15><a class=lnlinks href=#hl-25-15> 15</a>
</span><span class=lnt id=hl-25-16><a class=lnlinks href=#hl-25-16> 16</a>
</span><span class=lnt id=hl-25-17><a class=lnlinks href=#hl-25-17> 17</a>
</span><span class=lnt id=hl-25-18><a class=lnlinks href=#hl-25-18> 18</a>
</span><span class=lnt id=hl-25-19><a class=lnlinks href=#hl-25-19> 19</a>
</span><span class=lnt id=hl-25-20><a class=lnlinks href=#hl-25-20> 20</a>
</span><span class=lnt id=hl-25-21><a class=lnlinks href=#hl-25-21> 21</a>
</span><span class=lnt id=hl-25-22><a class=lnlinks href=#hl-25-22> 22</a>
</span><span class=lnt id=hl-25-23><a class=lnlinks href=#hl-25-23> 23</a>
</span><span class=lnt id=hl-25-24><a class=lnlinks href=#hl-25-24> 24</a>
</span><span class=lnt id=hl-25-25><a class=lnlinks href=#hl-25-25> 25</a>
</span><span class=lnt id=hl-25-26><a class=lnlinks href=#hl-25-26> 26</a>
</span><span class=lnt id=hl-25-27><a class=lnlinks href=#hl-25-27> 27</a>
</span><span class=lnt id=hl-25-28><a class=lnlinks href=#hl-25-28> 28</a>
</span><span class=lnt id=hl-25-29><a class=lnlinks href=#hl-25-29> 29</a>
</span><span class=lnt id=hl-25-30><a class=lnlinks href=#hl-25-30> 30</a>
</span><span class=lnt id=hl-25-31><a class=lnlinks href=#hl-25-31> 31</a>
</span><span class=lnt id=hl-25-32><a class=lnlinks href=#hl-25-32> 32</a>
</span><span class=lnt id=hl-25-33><a class=lnlinks href=#hl-25-33> 33</a>
</span><span class=lnt id=hl-25-34><a class=lnlinks href=#hl-25-34> 34</a>
</span><span class=lnt id=hl-25-35><a class=lnlinks href=#hl-25-35> 35</a>
</span><span class=lnt id=hl-25-36><a class=lnlinks href=#hl-25-36> 36</a>
</span><span class=lnt id=hl-25-37><a class=lnlinks href=#hl-25-37> 37</a>
</span><span class=lnt id=hl-25-38><a class=lnlinks href=#hl-25-38> 38</a>
</span><span class=lnt id=hl-25-39><a class=lnlinks href=#hl-25-39> 39</a>
</span><span class=lnt id=hl-25-40><a class=lnlinks href=#hl-25-40> 40</a>
</span><span class=lnt id=hl-25-41><a class=lnlinks href=#hl-25-41> 41</a>
</span><span class=lnt id=hl-25-42><a class=lnlinks href=#hl-25-42> 42</a>
</span><span class=lnt id=hl-25-43><a class=lnlinks href=#hl-25-43> 43</a>
</span><span class=lnt id=hl-25-44><a class=lnlinks href=#hl-25-44> 44</a>
</span><span class=lnt id=hl-25-45><a class=lnlinks href=#hl-25-45> 45</a>
</span><span class=lnt id=hl-25-46><a class=lnlinks href=#hl-25-46> 46</a>
</span><span class=lnt id=hl-25-47><a class=lnlinks href=#hl-25-47> 47</a>
</span><span class=lnt id=hl-25-48><a class=lnlinks href=#hl-25-48> 48</a>
</span><span class=lnt id=hl-25-49><a class=lnlinks href=#hl-25-49> 49</a>
</span><span class=lnt id=hl-25-50><a class=lnlinks href=#hl-25-50> 50</a>
</span><span class=lnt id=hl-25-51><a class=lnlinks href=#hl-25-51> 51</a>
</span><span class=lnt id=hl-25-52><a class=lnlinks href=#hl-25-52> 52</a>
</span><span class=lnt id=hl-25-53><a class=lnlinks href=#hl-25-53> 53</a>
</span><span class=lnt id=hl-25-54><a class=lnlinks href=#hl-25-54> 54</a>
</span><span class=lnt id=hl-25-55><a class=lnlinks href=#hl-25-55> 55</a>
</span><span class=lnt id=hl-25-56><a class=lnlinks href=#hl-25-56> 56</a>
</span><span class=lnt id=hl-25-57><a class=lnlinks href=#hl-25-57> 57</a>
</span><span class=lnt id=hl-25-58><a class=lnlinks href=#hl-25-58> 58</a>
</span><span class=lnt id=hl-25-59><a class=lnlinks href=#hl-25-59> 59</a>
</span><span class=lnt id=hl-25-60><a class=lnlinks href=#hl-25-60> 60</a>
</span><span class=lnt id=hl-25-61><a class=lnlinks href=#hl-25-61> 61</a>
</span><span class=lnt id=hl-25-62><a class=lnlinks href=#hl-25-62> 62</a>
</span><span class=lnt id=hl-25-63><a class=lnlinks href=#hl-25-63> 63</a>
</span><span class=lnt id=hl-25-64><a class=lnlinks href=#hl-25-64> 64</a>
</span><span class=lnt id=hl-25-65><a class=lnlinks href=#hl-25-65> 65</a>
</span><span class=lnt id=hl-25-66><a class=lnlinks href=#hl-25-66> 66</a>
</span><span class=lnt id=hl-25-67><a class=lnlinks href=#hl-25-67> 67</a>
</span><span class=lnt id=hl-25-68><a class=lnlinks href=#hl-25-68> 68</a>
</span><span class=lnt id=hl-25-69><a class=lnlinks href=#hl-25-69> 69</a>
</span><span class=lnt id=hl-25-70><a class=lnlinks href=#hl-25-70> 70</a>
</span><span class=lnt id=hl-25-71><a class=lnlinks href=#hl-25-71> 71</a>
</span><span class=lnt id=hl-25-72><a class=lnlinks href=#hl-25-72> 72</a>
</span><span class=lnt id=hl-25-73><a class=lnlinks href=#hl-25-73> 73</a>
</span><span class=lnt id=hl-25-74><a class=lnlinks href=#hl-25-74> 74</a>
</span><span class=lnt id=hl-25-75><a class=lnlinks href=#hl-25-75> 75</a>
</span><span class=lnt id=hl-25-76><a class=lnlinks href=#hl-25-76> 76</a>
</span><span class=lnt id=hl-25-77><a class=lnlinks href=#hl-25-77> 77</a>
</span><span class=lnt id=hl-25-78><a class=lnlinks href=#hl-25-78> 78</a>
</span><span class=lnt id=hl-25-79><a class=lnlinks href=#hl-25-79> 79</a>
</span><span class=lnt id=hl-25-80><a class=lnlinks href=#hl-25-80> 80</a>
</span><span class=lnt id=hl-25-81><a class=lnlinks href=#hl-25-81> 81</a>
</span><span class=lnt id=hl-25-82><a class=lnlinks href=#hl-25-82> 82</a>
</span><span class=lnt id=hl-25-83><a class=lnlinks href=#hl-25-83> 83</a>
</span><span class=lnt id=hl-25-84><a class=lnlinks href=#hl-25-84> 84</a>
</span><span class=lnt id=hl-25-85><a class=lnlinks href=#hl-25-85> 85</a>
</span><span class=lnt id=hl-25-86><a class=lnlinks href=#hl-25-86> 86</a>
</span><span class=lnt id=hl-25-87><a class=lnlinks href=#hl-25-87> 87</a>
</span><span class=lnt id=hl-25-88><a class=lnlinks href=#hl-25-88> 88</a>
</span><span class=lnt id=hl-25-89><a class=lnlinks href=#hl-25-89> 89</a>
</span><span class=lnt id=hl-25-90><a class=lnlinks href=#hl-25-90> 90</a>
</span><span class=lnt id=hl-25-91><a class=lnlinks href=#hl-25-91> 91</a>
</span><span class=lnt id=hl-25-92><a class=lnlinks href=#hl-25-92> 92</a>
</span><span class=lnt id=hl-25-93><a class=lnlinks href=#hl-25-93> 93</a>
</span><span class=lnt id=hl-25-94><a class=lnlinks href=#hl-25-94> 94</a>
</span><span class=lnt id=hl-25-95><a class=lnlinks href=#hl-25-95> 95</a>
</span><span class=lnt id=hl-25-96><a class=lnlinks href=#hl-25-96> 96</a>
</span><span class=lnt id=hl-25-97><a class=lnlinks href=#hl-25-97> 97</a>
</span><span class=lnt id=hl-25-98><a class=lnlinks href=#hl-25-98> 98</a>
</span><span class=lnt id=hl-25-99><a class=lnlinks href=#hl-25-99> 99</a>
</span><span class=lnt id=hl-25-100><a class=lnlinks href=#hl-25-100>100</a>
</span><span class=lnt id=hl-25-101><a class=lnlinks href=#hl-25-101>101</a>
</span><span class=lnt id=hl-25-102><a class=lnlinks href=#hl-25-102>102</a>
</span><span class=lnt id=hl-25-103><a class=lnlinks href=#hl-25-103>103</a>
</span><span class=lnt id=hl-25-104><a class=lnlinks href=#hl-25-104>104</a>
</span><span class=lnt id=hl-25-105><a class=lnlinks href=#hl-25-105>105</a>
</span><span class=lnt id=hl-25-106><a class=lnlinks href=#hl-25-106>106</a>
</span><span class=lnt id=hl-25-107><a class=lnlinks href=#hl-25-107>107</a>
</span><span class=lnt id=hl-25-108><a class=lnlinks href=#hl-25-108>108</a>
</span><span class=lnt id=hl-25-109><a class=lnlinks href=#hl-25-109>109</a>
</span><span class=lnt id=hl-25-110><a class=lnlinks href=#hl-25-110>110</a>
</span><span class=lnt id=hl-25-111><a class=lnlinks href=#hl-25-111>111</a>
</span><span class=lnt id=hl-25-112><a class=lnlinks href=#hl-25-112>112</a>
</span><span class=lnt id=hl-25-113><a class=lnlinks href=#hl-25-113>113</a>
</span><span class=lnt id=hl-25-114><a class=lnlinks href=#hl-25-114>114</a>
</span><span class=lnt id=hl-25-115><a class=lnlinks href=#hl-25-115>115</a>
</span><span class=lnt id=hl-25-116><a class=lnlinks href=#hl-25-116>116</a>
</span><span class=lnt id=hl-25-117><a class=lnlinks href=#hl-25-117>117</a>
</span><span class=lnt id=hl-25-118><a class=lnlinks href=#hl-25-118>118</a>
</span><span class=lnt id=hl-25-119><a class=lnlinks href=#hl-25-119>119</a>
</span><span class=lnt id=hl-25-120><a class=lnlinks href=#hl-25-120>120</a>
</span><span class=lnt id=hl-25-121><a class=lnlinks href=#hl-25-121>121</a>
</span><span class=lnt id=hl-25-122><a class=lnlinks href=#hl-25-122>122</a>
</span><span class=lnt id=hl-25-123><a class=lnlinks href=#hl-25-123>123</a>
</span><span class=lnt id=hl-25-124><a class=lnlinks href=#hl-25-124>124</a>
</span><span class=lnt id=hl-25-125><a class=lnlinks href=#hl-25-125>125</a>
</span><span class=lnt id=hl-25-126><a class=lnlinks href=#hl-25-126>126</a>
</span><span class=lnt id=hl-25-127><a class=lnlinks href=#hl-25-127>127</a>
</span><span class=lnt id=hl-25-128><a class=lnlinks href=#hl-25-128>128</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=ch>#!/usr/bin/env python3</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>blocking_http_server.py
</span></span></span><span class=line><span class=cl><span class=s2>Blocking I/O 방식의 간단한 HTTP Echo 서버
</span></span></span><span class=line><span class=cl><span class=s2>Thread Pool을 사용하여 동시 연결 처리
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>socket</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>threading</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>concurrent.futures</span> <span class=kn>import</span> <span class=n>ThreadPoolExecutor</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 설정</span>
</span></span><span class=line><span class=cl><span class=n>HOST</span> <span class=o>=</span> <span class=s1>&#39;0.0.0.0&#39;</span>
</span></span><span class=line><span class=cl><span class=n>PORT</span> <span class=o>=</span> <span class=mi>8080</span>
</span></span><span class=line><span class=cl><span class=n>MAX_WORKERS</span> <span class=o>=</span> <span class=mi>50</span>  <span class=c1># 스레드 풀 크기</span>
</span></span><span class=line><span class=cl><span class=n>BUFFER_SIZE</span> <span class=o>=</span> <span class=mi>4096</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>BlockingHTTPServer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Blocking HTTP 서버 (Thread Pool 패턴)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>host</span><span class=p>,</span> <span class=n>port</span><span class=p>,</span> <span class=n>max_workers</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>host</span> <span class=o>=</span> <span class=n>host</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>port</span> <span class=o>=</span> <span class=n>port</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>max_workers</span> <span class=o>=</span> <span class=n>max_workers</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>executor</span> <span class=o>=</span> <span class=n>ThreadPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=n>max_workers</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>active_connections</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>lock</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Lock</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>handle_client</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>client_sock</span><span class=p>,</span> <span class=n>addr</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;각 클라이언트 요청을 처리하는 워커 함수 (블로킹)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>thread_id</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>current_thread</span><span class=p>()</span><span class=o>.</span><span class=n>name</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 활성 연결 수 증가</span>
</span></span><span class=line><span class=cl>        <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>lock</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>active_connections</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[</span><span class=si>{</span><span class=n>thread_id</span><span class=si>}</span><span class=s2>] 연결: </span><span class=si>{</span><span class=n>addr</span><span class=si>}</span><span class=s2>, 활성: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>active_connections</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># 1. 요청 읽기 (블로킹!)</span>
</span></span><span class=line><span class=cl>            <span class=c1># recv()는 데이터가 도착할 때까지 이 스레드를 대기시킴</span>
</span></span><span class=line><span class=cl>            <span class=n>request_data</span> <span class=o>=</span> <span class=n>client_sock</span><span class=o>.</span><span class=n>recv</span><span class=p>(</span><span class=n>BUFFER_SIZE</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=n>request_data</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 요청 파싱 (간단히 첫 줄만)</span>
</span></span><span class=line><span class=cl>            <span class=n>request_line</span> <span class=o>=</span> <span class=n>request_data</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>,</span> <span class=n>errors</span><span class=o>=</span><span class=s1>&#39;ignore&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;</span><span class=se>\r\n</span><span class=s1>&#39;</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[</span><span class=si>{</span><span class=n>thread_id</span><span class=si>}</span><span class=s2>] 요청: </span><span class=si>{</span><span class=n>request_line</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 2. 비즈니스 로직 (예: 느린 작업 시뮬레이션)</span>
</span></span><span class=line><span class=cl>            <span class=c1># 실제로는 DB 쿼리, 파일 읽기 등이 여기서 블로킹 발생</span>
</span></span><span class=line><span class=cl>            <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>  <span class=c1># 100ms 처리 시뮬레이션</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 3. 응답 생성</span>
</span></span><span class=line><span class=cl>            <span class=n>response_body</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;Echo: </span><span class=si>{</span><span class=n>request_line</span><span class=si>}</span><span class=se>\n</span><span class=s2>Thread: </span><span class=si>{</span><span class=n>thread_id</span><span class=si>}</span><span class=se>\n</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>            <span class=n>response</span> <span class=o>=</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;HTTP/1.1 200 OK</span><span class=se>\r\n</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;Content-Type: text/plain; charset=utf-8</span><span class=se>\r\n</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>                <span class=sa>f</span><span class=s2>&#34;Content-Length: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>response_body</span><span class=p>)</span><span class=si>}</span><span class=se>\r\n</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;Connection: close</span><span class=se>\r\n</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;</span><span class=se>\r\n</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>                <span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>response_body</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 4. 응답 쓰기 (블로킹!)</span>
</span></span><span class=line><span class=cl>            <span class=c1># sendall()은 모든 데이터를 보낼 때까지 대기</span>
</span></span><span class=line><span class=cl>            <span class=n>client_sock</span><span class=o>.</span><span class=n>sendall</span><span class=p>(</span><span class=n>response</span><span class=o>.</span><span class=n>encode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[</span><span class=si>{</span><span class=n>thread_id</span><span class=si>}</span><span class=s2>] 에러: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>        <span class=k>finally</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>client_sock</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 활성 연결 수 감소</span>
</span></span><span class=line><span class=cl>            <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>lock</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>active_connections</span> <span class=o>-=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[</span><span class=si>{</span><span class=n>thread_id</span><span class=si>}</span><span class=s2>] 종료: </span><span class=si>{</span><span class=n>addr</span><span class=si>}</span><span class=s2>, 활성: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>active_connections</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>start</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;서버 시작&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># 소켓 생성 (기본적으로 Blocking 모드)</span>
</span></span><span class=line><span class=cl>        <span class=n>server_sock</span> <span class=o>=</span> <span class=n>socket</span><span class=o>.</span><span class=n>socket</span><span class=p>(</span><span class=n>socket</span><span class=o>.</span><span class=n>AF_INET</span><span class=p>,</span> <span class=n>socket</span><span class=o>.</span><span class=n>SOCK_STREAM</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>server_sock</span><span class=o>.</span><span class=n>setsockopt</span><span class=p>(</span><span class=n>socket</span><span class=o>.</span><span class=n>SOL_SOCKET</span><span class=p>,</span> <span class=n>socket</span><span class=o>.</span><span class=n>SO_REUSEADDR</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>server_sock</span><span class=o>.</span><span class=n>bind</span><span class=p>((</span><span class=bp>self</span><span class=o>.</span><span class=n>host</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>port</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=n>server_sock</span><span class=o>.</span><span class=n>listen</span><span class=p>(</span><span class=mi>128</span><span class=p>)</span>  <span class=c1># 백로그 큐 크기</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Blocking HTTP 서버 시작: http://</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>host</span><span class=si>}</span><span class=s2>:</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>port</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;스레드 풀 크기: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>max_workers</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=c1># accept()도 블로킹! 연결이 올 때까지 메인 스레드 대기</span>
</span></span><span class=line><span class=cl>                <span class=n>client_sock</span><span class=p>,</span> <span class=n>addr</span> <span class=o>=</span> <span class=n>server_sock</span><span class=o>.</span><span class=n>accept</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=c1># 스레드 풀에 작업 제출 (비동기 실행)</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>executor</span><span class=o>.</span><span class=n>submit</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>handle_client</span><span class=p>,</span> <span class=n>client_sock</span><span class=p>,</span> <span class=n>addr</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>        <span class=k>except</span> <span class=ne>KeyboardInterrupt</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>서버 종료 중...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>finally</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>server_sock</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>executor</span><span class=o>.</span><span class=n>shutdown</span><span class=p>(</span><span class=n>wait</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;서버 종료 완료&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>server</span> <span class=o>=</span> <span class=n>BlockingHTTPServer</span><span class=p>(</span><span class=n>HOST</span><span class=p>,</span> <span class=n>PORT</span><span class=p>,</span> <span class=n>MAX_WORKERS</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>server</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>특징:
</span></span></span><span class=line><span class=cl><span class=s2>1. accept(), recv(), sendall() 모두 블로킹 시스템 콜
</span></span></span><span class=line><span class=cl><span class=s2>2. 각 연결마다 스레드 풀에서 워커 스레드 할당
</span></span></span><span class=line><span class=cl><span class=s2>3. 스레드 수 = 동시 처리 가능한 연결 수
</span></span></span><span class=line><span class=cl><span class=s2>4. 간단하고 직관적이지만 동시성 제한
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>테스트:
</span></span></span><span class=line><span class=cl><span class=s2>$ python blocking_http_server.py &amp;
</span></span></span><span class=line><span class=cl><span class=s2>$ curl http://localhost:8080/test
</span></span></span><span class=line><span class=cl><span class=s2>Echo: GET /test HTTP/1.1
</span></span></span><span class=line><span class=cl><span class=s2>Thread: ThreadPoolExecutor-0_0
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>벤치마크:
</span></span></span><span class=line><span class=cl><span class=s2>$ wrk -t4 -c100 -d10s http://localhost:8080/
</span></span></span><span class=line><span class=cl><span class=s2>  - 100 동시 연결: 정상 동작
</span></span></span><span class=line><span class=cl><span class=s2>  - 1000 동시 연결: 스레드 풀 포화, 대기 발생
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span></code></pre></td></tr></table></div></div><hr><h4 id=532-non-blocking-io---asyncio-http-서버>5.3.2 Non-Blocking I/O - Asyncio HTTP 서버<a hidden class=anchor aria-hidden=true href=#532-non-blocking-io---asyncio-http-서버>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1>  1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2>  2</a>
</span><span class=lnt id=hl-26-3><a class=lnlinks href=#hl-26-3>  3</a>
</span><span class=lnt id=hl-26-4><a class=lnlinks href=#hl-26-4>  4</a>
</span><span class=lnt id=hl-26-5><a class=lnlinks href=#hl-26-5>  5</a>
</span><span class=lnt id=hl-26-6><a class=lnlinks href=#hl-26-6>  6</a>
</span><span class=lnt id=hl-26-7><a class=lnlinks href=#hl-26-7>  7</a>
</span><span class=lnt id=hl-26-8><a class=lnlinks href=#hl-26-8>  8</a>
</span><span class=lnt id=hl-26-9><a class=lnlinks href=#hl-26-9>  9</a>
</span><span class=lnt id=hl-26-10><a class=lnlinks href=#hl-26-10> 10</a>
</span><span class=lnt id=hl-26-11><a class=lnlinks href=#hl-26-11> 11</a>
</span><span class=lnt id=hl-26-12><a class=lnlinks href=#hl-26-12> 12</a>
</span><span class=lnt id=hl-26-13><a class=lnlinks href=#hl-26-13> 13</a>
</span><span class=lnt id=hl-26-14><a class=lnlinks href=#hl-26-14> 14</a>
</span><span class=lnt id=hl-26-15><a class=lnlinks href=#hl-26-15> 15</a>
</span><span class=lnt id=hl-26-16><a class=lnlinks href=#hl-26-16> 16</a>
</span><span class=lnt id=hl-26-17><a class=lnlinks href=#hl-26-17> 17</a>
</span><span class=lnt id=hl-26-18><a class=lnlinks href=#hl-26-18> 18</a>
</span><span class=lnt id=hl-26-19><a class=lnlinks href=#hl-26-19> 19</a>
</span><span class=lnt id=hl-26-20><a class=lnlinks href=#hl-26-20> 20</a>
</span><span class=lnt id=hl-26-21><a class=lnlinks href=#hl-26-21> 21</a>
</span><span class=lnt id=hl-26-22><a class=lnlinks href=#hl-26-22> 22</a>
</span><span class=lnt id=hl-26-23><a class=lnlinks href=#hl-26-23> 23</a>
</span><span class=lnt id=hl-26-24><a class=lnlinks href=#hl-26-24> 24</a>
</span><span class=lnt id=hl-26-25><a class=lnlinks href=#hl-26-25> 25</a>
</span><span class=lnt id=hl-26-26><a class=lnlinks href=#hl-26-26> 26</a>
</span><span class=lnt id=hl-26-27><a class=lnlinks href=#hl-26-27> 27</a>
</span><span class=lnt id=hl-26-28><a class=lnlinks href=#hl-26-28> 28</a>
</span><span class=lnt id=hl-26-29><a class=lnlinks href=#hl-26-29> 29</a>
</span><span class=lnt id=hl-26-30><a class=lnlinks href=#hl-26-30> 30</a>
</span><span class=lnt id=hl-26-31><a class=lnlinks href=#hl-26-31> 31</a>
</span><span class=lnt id=hl-26-32><a class=lnlinks href=#hl-26-32> 32</a>
</span><span class=lnt id=hl-26-33><a class=lnlinks href=#hl-26-33> 33</a>
</span><span class=lnt id=hl-26-34><a class=lnlinks href=#hl-26-34> 34</a>
</span><span class=lnt id=hl-26-35><a class=lnlinks href=#hl-26-35> 35</a>
</span><span class=lnt id=hl-26-36><a class=lnlinks href=#hl-26-36> 36</a>
</span><span class=lnt id=hl-26-37><a class=lnlinks href=#hl-26-37> 37</a>
</span><span class=lnt id=hl-26-38><a class=lnlinks href=#hl-26-38> 38</a>
</span><span class=lnt id=hl-26-39><a class=lnlinks href=#hl-26-39> 39</a>
</span><span class=lnt id=hl-26-40><a class=lnlinks href=#hl-26-40> 40</a>
</span><span class=lnt id=hl-26-41><a class=lnlinks href=#hl-26-41> 41</a>
</span><span class=lnt id=hl-26-42><a class=lnlinks href=#hl-26-42> 42</a>
</span><span class=lnt id=hl-26-43><a class=lnlinks href=#hl-26-43> 43</a>
</span><span class=lnt id=hl-26-44><a class=lnlinks href=#hl-26-44> 44</a>
</span><span class=lnt id=hl-26-45><a class=lnlinks href=#hl-26-45> 45</a>
</span><span class=lnt id=hl-26-46><a class=lnlinks href=#hl-26-46> 46</a>
</span><span class=lnt id=hl-26-47><a class=lnlinks href=#hl-26-47> 47</a>
</span><span class=lnt id=hl-26-48><a class=lnlinks href=#hl-26-48> 48</a>
</span><span class=lnt id=hl-26-49><a class=lnlinks href=#hl-26-49> 49</a>
</span><span class=lnt id=hl-26-50><a class=lnlinks href=#hl-26-50> 50</a>
</span><span class=lnt id=hl-26-51><a class=lnlinks href=#hl-26-51> 51</a>
</span><span class=lnt id=hl-26-52><a class=lnlinks href=#hl-26-52> 52</a>
</span><span class=lnt id=hl-26-53><a class=lnlinks href=#hl-26-53> 53</a>
</span><span class=lnt id=hl-26-54><a class=lnlinks href=#hl-26-54> 54</a>
</span><span class=lnt id=hl-26-55><a class=lnlinks href=#hl-26-55> 55</a>
</span><span class=lnt id=hl-26-56><a class=lnlinks href=#hl-26-56> 56</a>
</span><span class=lnt id=hl-26-57><a class=lnlinks href=#hl-26-57> 57</a>
</span><span class=lnt id=hl-26-58><a class=lnlinks href=#hl-26-58> 58</a>
</span><span class=lnt id=hl-26-59><a class=lnlinks href=#hl-26-59> 59</a>
</span><span class=lnt id=hl-26-60><a class=lnlinks href=#hl-26-60> 60</a>
</span><span class=lnt id=hl-26-61><a class=lnlinks href=#hl-26-61> 61</a>
</span><span class=lnt id=hl-26-62><a class=lnlinks href=#hl-26-62> 62</a>
</span><span class=lnt id=hl-26-63><a class=lnlinks href=#hl-26-63> 63</a>
</span><span class=lnt id=hl-26-64><a class=lnlinks href=#hl-26-64> 64</a>
</span><span class=lnt id=hl-26-65><a class=lnlinks href=#hl-26-65> 65</a>
</span><span class=lnt id=hl-26-66><a class=lnlinks href=#hl-26-66> 66</a>
</span><span class=lnt id=hl-26-67><a class=lnlinks href=#hl-26-67> 67</a>
</span><span class=lnt id=hl-26-68><a class=lnlinks href=#hl-26-68> 68</a>
</span><span class=lnt id=hl-26-69><a class=lnlinks href=#hl-26-69> 69</a>
</span><span class=lnt id=hl-26-70><a class=lnlinks href=#hl-26-70> 70</a>
</span><span class=lnt id=hl-26-71><a class=lnlinks href=#hl-26-71> 71</a>
</span><span class=lnt id=hl-26-72><a class=lnlinks href=#hl-26-72> 72</a>
</span><span class=lnt id=hl-26-73><a class=lnlinks href=#hl-26-73> 73</a>
</span><span class=lnt id=hl-26-74><a class=lnlinks href=#hl-26-74> 74</a>
</span><span class=lnt id=hl-26-75><a class=lnlinks href=#hl-26-75> 75</a>
</span><span class=lnt id=hl-26-76><a class=lnlinks href=#hl-26-76> 76</a>
</span><span class=lnt id=hl-26-77><a class=lnlinks href=#hl-26-77> 77</a>
</span><span class=lnt id=hl-26-78><a class=lnlinks href=#hl-26-78> 78</a>
</span><span class=lnt id=hl-26-79><a class=lnlinks href=#hl-26-79> 79</a>
</span><span class=lnt id=hl-26-80><a class=lnlinks href=#hl-26-80> 80</a>
</span><span class=lnt id=hl-26-81><a class=lnlinks href=#hl-26-81> 81</a>
</span><span class=lnt id=hl-26-82><a class=lnlinks href=#hl-26-82> 82</a>
</span><span class=lnt id=hl-26-83><a class=lnlinks href=#hl-26-83> 83</a>
</span><span class=lnt id=hl-26-84><a class=lnlinks href=#hl-26-84> 84</a>
</span><span class=lnt id=hl-26-85><a class=lnlinks href=#hl-26-85> 85</a>
</span><span class=lnt id=hl-26-86><a class=lnlinks href=#hl-26-86> 86</a>
</span><span class=lnt id=hl-26-87><a class=lnlinks href=#hl-26-87> 87</a>
</span><span class=lnt id=hl-26-88><a class=lnlinks href=#hl-26-88> 88</a>
</span><span class=lnt id=hl-26-89><a class=lnlinks href=#hl-26-89> 89</a>
</span><span class=lnt id=hl-26-90><a class=lnlinks href=#hl-26-90> 90</a>
</span><span class=lnt id=hl-26-91><a class=lnlinks href=#hl-26-91> 91</a>
</span><span class=lnt id=hl-26-92><a class=lnlinks href=#hl-26-92> 92</a>
</span><span class=lnt id=hl-26-93><a class=lnlinks href=#hl-26-93> 93</a>
</span><span class=lnt id=hl-26-94><a class=lnlinks href=#hl-26-94> 94</a>
</span><span class=lnt id=hl-26-95><a class=lnlinks href=#hl-26-95> 95</a>
</span><span class=lnt id=hl-26-96><a class=lnlinks href=#hl-26-96> 96</a>
</span><span class=lnt id=hl-26-97><a class=lnlinks href=#hl-26-97> 97</a>
</span><span class=lnt id=hl-26-98><a class=lnlinks href=#hl-26-98> 98</a>
</span><span class=lnt id=hl-26-99><a class=lnlinks href=#hl-26-99> 99</a>
</span><span class=lnt id=hl-26-100><a class=lnlinks href=#hl-26-100>100</a>
</span><span class=lnt id=hl-26-101><a class=lnlinks href=#hl-26-101>101</a>
</span><span class=lnt id=hl-26-102><a class=lnlinks href=#hl-26-102>102</a>
</span><span class=lnt id=hl-26-103><a class=lnlinks href=#hl-26-103>103</a>
</span><span class=lnt id=hl-26-104><a class=lnlinks href=#hl-26-104>104</a>
</span><span class=lnt id=hl-26-105><a class=lnlinks href=#hl-26-105>105</a>
</span><span class=lnt id=hl-26-106><a class=lnlinks href=#hl-26-106>106</a>
</span><span class=lnt id=hl-26-107><a class=lnlinks href=#hl-26-107>107</a>
</span><span class=lnt id=hl-26-108><a class=lnlinks href=#hl-26-108>108</a>
</span><span class=lnt id=hl-26-109><a class=lnlinks href=#hl-26-109>109</a>
</span><span class=lnt id=hl-26-110><a class=lnlinks href=#hl-26-110>110</a>
</span><span class=lnt id=hl-26-111><a class=lnlinks href=#hl-26-111>111</a>
</span><span class=lnt id=hl-26-112><a class=lnlinks href=#hl-26-112>112</a>
</span><span class=lnt id=hl-26-113><a class=lnlinks href=#hl-26-113>113</a>
</span><span class=lnt id=hl-26-114><a class=lnlinks href=#hl-26-114>114</a>
</span><span class=lnt id=hl-26-115><a class=lnlinks href=#hl-26-115>115</a>
</span><span class=lnt id=hl-26-116><a class=lnlinks href=#hl-26-116>116</a>
</span><span class=lnt id=hl-26-117><a class=lnlinks href=#hl-26-117>117</a>
</span><span class=lnt id=hl-26-118><a class=lnlinks href=#hl-26-118>118</a>
</span><span class=lnt id=hl-26-119><a class=lnlinks href=#hl-26-119>119</a>
</span><span class=lnt id=hl-26-120><a class=lnlinks href=#hl-26-120>120</a>
</span><span class=lnt id=hl-26-121><a class=lnlinks href=#hl-26-121>121</a>
</span><span class=lnt id=hl-26-122><a class=lnlinks href=#hl-26-122>122</a>
</span><span class=lnt id=hl-26-123><a class=lnlinks href=#hl-26-123>123</a>
</span><span class=lnt id=hl-26-124><a class=lnlinks href=#hl-26-124>124</a>
</span><span class=lnt id=hl-26-125><a class=lnlinks href=#hl-26-125>125</a>
</span><span class=lnt id=hl-26-126><a class=lnlinks href=#hl-26-126>126</a>
</span><span class=lnt id=hl-26-127><a class=lnlinks href=#hl-26-127>127</a>
</span><span class=lnt id=hl-26-128><a class=lnlinks href=#hl-26-128>128</a>
</span><span class=lnt id=hl-26-129><a class=lnlinks href=#hl-26-129>129</a>
</span><span class=lnt id=hl-26-130><a class=lnlinks href=#hl-26-130>130</a>
</span><span class=lnt id=hl-26-131><a class=lnlinks href=#hl-26-131>131</a>
</span><span class=lnt id=hl-26-132><a class=lnlinks href=#hl-26-132>132</a>
</span><span class=lnt id=hl-26-133><a class=lnlinks href=#hl-26-133>133</a>
</span><span class=lnt id=hl-26-134><a class=lnlinks href=#hl-26-134>134</a>
</span><span class=lnt id=hl-26-135><a class=lnlinks href=#hl-26-135>135</a>
</span><span class=lnt id=hl-26-136><a class=lnlinks href=#hl-26-136>136</a>
</span><span class=lnt id=hl-26-137><a class=lnlinks href=#hl-26-137>137</a>
</span><span class=lnt id=hl-26-138><a class=lnlinks href=#hl-26-138>138</a>
</span><span class=lnt id=hl-26-139><a class=lnlinks href=#hl-26-139>139</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=ch>#!/usr/bin/env python3</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>non_blocking_http_server.py
</span></span></span><span class=line><span class=cl><span class=s2>Non-Blocking I/O 방식의 HTTP Echo 서버
</span></span></span><span class=line><span class=cl><span class=s2>asyncio를 사용한 단일 스레드 이벤트 루프
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>asyncio</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 설정</span>
</span></span><span class=line><span class=cl><span class=n>HOST</span> <span class=o>=</span> <span class=s1>&#39;0.0.0.0&#39;</span>
</span></span><span class=line><span class=cl><span class=n>PORT</span> <span class=o>=</span> <span class=mi>8080</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>NonBlockingHTTPServer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Non-Blocking HTTP 서버 (asyncio 이벤트 루프)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>host</span><span class=p>,</span> <span class=n>port</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>host</span> <span class=o>=</span> <span class=n>host</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>port</span> <span class=o>=</span> <span class=n>port</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>active_connections</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>async</span> <span class=k>def</span> <span class=nf>handle_client</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>reader</span><span class=p>,</span> <span class=n>writer</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        각 클라이언트 요청을 비동기로 처리
</span></span></span><span class=line><span class=cl><span class=s2>        reader: asyncio.StreamReader (Non-Blocking 읽기)
</span></span></span><span class=line><span class=cl><span class=s2>        writer: asyncio.StreamWriter (Non-Blocking 쓰기)
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>addr</span> <span class=o>=</span> <span class=n>writer</span><span class=o>.</span><span class=n>get_extra_info</span><span class=p>(</span><span class=s1>&#39;peername&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 활성 연결 수 증가 (단일 스레드라 락 불필요!)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>active_connections</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[이벤트 루프] 연결: </span><span class=si>{</span><span class=n>addr</span><span class=si>}</span><span class=s2>, 활성: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>active_connections</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># 1. 요청 읽기 (Non-Blocking!)</span>
</span></span><span class=line><span class=cl>            <span class=c1># await는 &#34;다른 코루틴도 실행 가능&#34;을 의미</span>
</span></span><span class=line><span class=cl>            <span class=c1># 데이터를 기다리는 동안 다른 연결도 처리됨</span>
</span></span><span class=line><span class=cl>            <span class=n>request_data</span> <span class=o>=</span> <span class=k>await</span> <span class=n>reader</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=mi>4096</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=n>request_data</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 요청 파싱</span>
</span></span><span class=line><span class=cl>            <span class=n>request_line</span> <span class=o>=</span> <span class=n>request_data</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>,</span> <span class=n>errors</span><span class=o>=</span><span class=s1>&#39;ignore&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;</span><span class=se>\r\n</span><span class=s1>&#39;</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[이벤트 루프] 요청: </span><span class=si>{</span><span class=n>request_line</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 2. 비동기 비즈니스 로직</span>
</span></span><span class=line><span class=cl>            <span class=c1># asyncio.sleep()은 Non-Blocking (다른 연결도 동시 처리)</span>
</span></span><span class=line><span class=cl>            <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>  <span class=c1># 100ms 처리 시뮬레이션</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 실제로는 비동기 DB 쿼리, 파일 읽기 등</span>
</span></span><span class=line><span class=cl>            <span class=c1># await db.fetch_one(&#34;SELECT ...&#34;)</span>
</span></span><span class=line><span class=cl>            <span class=c1># await aiofiles.open(&#34;file.txt&#34;).read()</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 3. 응답 생성</span>
</span></span><span class=line><span class=cl>            <span class=n>response_body</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;Echo: </span><span class=si>{</span><span class=n>request_line</span><span class=si>}</span><span class=se>\n</span><span class=s2>Async: True</span><span class=se>\n</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>            <span class=n>response</span> <span class=o>=</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;HTTP/1.1 200 OK</span><span class=se>\r\n</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;Content-Type: text/plain; charset=utf-8</span><span class=se>\r\n</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>                <span class=sa>f</span><span class=s2>&#34;Content-Length: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>response_body</span><span class=p>)</span><span class=si>}</span><span class=se>\r\n</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;Connection: close</span><span class=se>\r\n</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;</span><span class=se>\r\n</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>                <span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>response_body</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 4. 응답 쓰기 (Non-Blocking!)</span>
</span></span><span class=line><span class=cl>            <span class=n>writer</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>response</span><span class=o>.</span><span class=n>encode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>            <span class=k>await</span> <span class=n>writer</span><span class=o>.</span><span class=n>drain</span><span class=p>()</span>  <span class=c1># 버퍼 플러시 대기 (다른 연결도 실행 가능)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[이벤트 루프] 에러: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>        <span class=k>finally</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>writer</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=k>await</span> <span class=n>writer</span><span class=o>.</span><span class=n>wait_closed</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 활성 연결 수 감소</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>active_connections</span> <span class=o>-=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[이벤트 루프] 종료: </span><span class=si>{</span><span class=n>addr</span><span class=si>}</span><span class=s2>, 활성: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>active_connections</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>async</span> <span class=k>def</span> <span class=nf>start</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;서버 시작 (비동기 메인 함수)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># asyncio.start_server: Non-Blocking 서버 소켓 생성</span>
</span></span><span class=line><span class=cl>        <span class=n>server</span> <span class=o>=</span> <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>start_server</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>handle_client</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>host</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>port</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>addr</span> <span class=o>=</span> <span class=n>server</span><span class=o>.</span><span class=n>sockets</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>getsockname</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Non-Blocking HTTP 서버 시작: http://</span><span class=si>{</span><span class=n>addr</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=si>}</span><span class=s2>:</span><span class=si>{</span><span class=n>addr</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;단일 스레드 이벤트 루프 실행 중...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 서버 실행 (이벤트 루프가 계속 돌면서 연결 감지)</span>
</span></span><span class=line><span class=cl>        <span class=k>async</span> <span class=k>with</span> <span class=n>server</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>await</span> <span class=n>server</span><span class=o>.</span><span class=n>serve_forever</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;메인 함수 (이벤트 루프 시작)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>server</span> <span class=o>=</span> <span class=n>NonBlockingHTTPServer</span><span class=p>(</span><span class=n>HOST</span><span class=p>,</span> <span class=n>PORT</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># asyncio.run()이 이벤트 루프를 생성하고 실행</span>
</span></span><span class=line><span class=cl>        <span class=n>asyncio</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>server</span><span class=o>.</span><span class=n>start</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>KeyboardInterrupt</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>서버 종료&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>특징:
</span></span></span><span class=line><span class=cl><span class=s2>1. 모든 I/O가 Non-Blocking (await 키워드)
</span></span></span><span class=line><span class=cl><span class=s2>2. 단일 스레드로 수만 개 동시 연결 처리 가능
</span></span></span><span class=line><span class=cl><span class=s2>3. 이벤트 루프가 준비된 작업만 실행
</span></span></span><span class=line><span class=cl><span class=s2>4. 높은 동시성, 낮은 메모리 사용
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>내부 동작 (간소화):
</span></span></span><span class=line><span class=cl><span class=s2>while True:  # 이벤트 루프
</span></span></span><span class=line><span class=cl><span class=s2>    ready_tasks = epoll_wait()  # 준비된 I/O 확인
</span></span></span><span class=line><span class=cl><span class=s2>    for task in ready_tasks:
</span></span></span><span class=line><span class=cl><span class=s2>        task.resume()  # 코루틴 재개
</span></span></span><span class=line><span class=cl><span class=s2>    
</span></span></span><span class=line><span class=cl><span class=s2>    expired_timers = check_timers()
</span></span></span><span class=line><span class=cl><span class=s2>    for timer in expired_timers:
</span></span></span><span class=line><span class=cl><span class=s2>        timer.callback()
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>테스트:
</span></span></span><span class=line><span class=cl><span class=s2>$ python non_blocking_http_server.py &amp;
</span></span></span><span class=line><span class=cl><span class=s2>$ curl http://localhost:8080/test
</span></span></span><span class=line><span class=cl><span class=s2>Echo: GET /test HTTP/1.1
</span></span></span><span class=line><span class=cl><span class=s2>Async: True
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>벤치마크:
</span></span></span><span class=line><span class=cl><span class=s2>$ wrk -t4 -c10000 -d10s http://localhost:8080/
</span></span></span><span class=line><span class=cl><span class=s2>  - 10,000 동시 연결: 정상 동작 (메모리 &lt; 500MB)
</span></span></span><span class=line><span class=cl><span class=s2>  - CPU 사용률: 30~40% (단일 코어)
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=54-javascript-nodejs-구현-예시>5.4 JavaScript (Node.js) 구현 예시<a hidden class=anchor aria-hidden=true href=#54-javascript-nodejs-구현-예시>#</a></h3><h4 id=541-nodejs-http-서버-기본적으로-non-blocking>5.4.1 Node.js HTTP 서버 (기본적으로 Non-Blocking)<a hidden class=anchor aria-hidden=true href=#541-nodejs-http-서버-기본적으로-non-blocking>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1>  1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2>  2</a>
</span><span class=lnt id=hl-27-3><a class=lnlinks href=#hl-27-3>  3</a>
</span><span class=lnt id=hl-27-4><a class=lnlinks href=#hl-27-4>  4</a>
</span><span class=lnt id=hl-27-5><a class=lnlinks href=#hl-27-5>  5</a>
</span><span class=lnt id=hl-27-6><a class=lnlinks href=#hl-27-6>  6</a>
</span><span class=lnt id=hl-27-7><a class=lnlinks href=#hl-27-7>  7</a>
</span><span class=lnt id=hl-27-8><a class=lnlinks href=#hl-27-8>  8</a>
</span><span class=lnt id=hl-27-9><a class=lnlinks href=#hl-27-9>  9</a>
</span><span class=lnt id=hl-27-10><a class=lnlinks href=#hl-27-10> 10</a>
</span><span class=lnt id=hl-27-11><a class=lnlinks href=#hl-27-11> 11</a>
</span><span class=lnt id=hl-27-12><a class=lnlinks href=#hl-27-12> 12</a>
</span><span class=lnt id=hl-27-13><a class=lnlinks href=#hl-27-13> 13</a>
</span><span class=lnt id=hl-27-14><a class=lnlinks href=#hl-27-14> 14</a>
</span><span class=lnt id=hl-27-15><a class=lnlinks href=#hl-27-15> 15</a>
</span><span class=lnt id=hl-27-16><a class=lnlinks href=#hl-27-16> 16</a>
</span><span class=lnt id=hl-27-17><a class=lnlinks href=#hl-27-17> 17</a>
</span><span class=lnt id=hl-27-18><a class=lnlinks href=#hl-27-18> 18</a>
</span><span class=lnt id=hl-27-19><a class=lnlinks href=#hl-27-19> 19</a>
</span><span class=lnt id=hl-27-20><a class=lnlinks href=#hl-27-20> 20</a>
</span><span class=lnt id=hl-27-21><a class=lnlinks href=#hl-27-21> 21</a>
</span><span class=lnt id=hl-27-22><a class=lnlinks href=#hl-27-22> 22</a>
</span><span class=lnt id=hl-27-23><a class=lnlinks href=#hl-27-23> 23</a>
</span><span class=lnt id=hl-27-24><a class=lnlinks href=#hl-27-24> 24</a>
</span><span class=lnt id=hl-27-25><a class=lnlinks href=#hl-27-25> 25</a>
</span><span class=lnt id=hl-27-26><a class=lnlinks href=#hl-27-26> 26</a>
</span><span class=lnt id=hl-27-27><a class=lnlinks href=#hl-27-27> 27</a>
</span><span class=lnt id=hl-27-28><a class=lnlinks href=#hl-27-28> 28</a>
</span><span class=lnt id=hl-27-29><a class=lnlinks href=#hl-27-29> 29</a>
</span><span class=lnt id=hl-27-30><a class=lnlinks href=#hl-27-30> 30</a>
</span><span class=lnt id=hl-27-31><a class=lnlinks href=#hl-27-31> 31</a>
</span><span class=lnt id=hl-27-32><a class=lnlinks href=#hl-27-32> 32</a>
</span><span class=lnt id=hl-27-33><a class=lnlinks href=#hl-27-33> 33</a>
</span><span class=lnt id=hl-27-34><a class=lnlinks href=#hl-27-34> 34</a>
</span><span class=lnt id=hl-27-35><a class=lnlinks href=#hl-27-35> 35</a>
</span><span class=lnt id=hl-27-36><a class=lnlinks href=#hl-27-36> 36</a>
</span><span class=lnt id=hl-27-37><a class=lnlinks href=#hl-27-37> 37</a>
</span><span class=lnt id=hl-27-38><a class=lnlinks href=#hl-27-38> 38</a>
</span><span class=lnt id=hl-27-39><a class=lnlinks href=#hl-27-39> 39</a>
</span><span class=lnt id=hl-27-40><a class=lnlinks href=#hl-27-40> 40</a>
</span><span class=lnt id=hl-27-41><a class=lnlinks href=#hl-27-41> 41</a>
</span><span class=lnt id=hl-27-42><a class=lnlinks href=#hl-27-42> 42</a>
</span><span class=lnt id=hl-27-43><a class=lnlinks href=#hl-27-43> 43</a>
</span><span class=lnt id=hl-27-44><a class=lnlinks href=#hl-27-44> 44</a>
</span><span class=lnt id=hl-27-45><a class=lnlinks href=#hl-27-45> 45</a>
</span><span class=lnt id=hl-27-46><a class=lnlinks href=#hl-27-46> 46</a>
</span><span class=lnt id=hl-27-47><a class=lnlinks href=#hl-27-47> 47</a>
</span><span class=lnt id=hl-27-48><a class=lnlinks href=#hl-27-48> 48</a>
</span><span class=lnt id=hl-27-49><a class=lnlinks href=#hl-27-49> 49</a>
</span><span class=lnt id=hl-27-50><a class=lnlinks href=#hl-27-50> 50</a>
</span><span class=lnt id=hl-27-51><a class=lnlinks href=#hl-27-51> 51</a>
</span><span class=lnt id=hl-27-52><a class=lnlinks href=#hl-27-52> 52</a>
</span><span class=lnt id=hl-27-53><a class=lnlinks href=#hl-27-53> 53</a>
</span><span class=lnt id=hl-27-54><a class=lnlinks href=#hl-27-54> 54</a>
</span><span class=lnt id=hl-27-55><a class=lnlinks href=#hl-27-55> 55</a>
</span><span class=lnt id=hl-27-56><a class=lnlinks href=#hl-27-56> 56</a>
</span><span class=lnt id=hl-27-57><a class=lnlinks href=#hl-27-57> 57</a>
</span><span class=lnt id=hl-27-58><a class=lnlinks href=#hl-27-58> 58</a>
</span><span class=lnt id=hl-27-59><a class=lnlinks href=#hl-27-59> 59</a>
</span><span class=lnt id=hl-27-60><a class=lnlinks href=#hl-27-60> 60</a>
</span><span class=lnt id=hl-27-61><a class=lnlinks href=#hl-27-61> 61</a>
</span><span class=lnt id=hl-27-62><a class=lnlinks href=#hl-27-62> 62</a>
</span><span class=lnt id=hl-27-63><a class=lnlinks href=#hl-27-63> 63</a>
</span><span class=lnt id=hl-27-64><a class=lnlinks href=#hl-27-64> 64</a>
</span><span class=lnt id=hl-27-65><a class=lnlinks href=#hl-27-65> 65</a>
</span><span class=lnt id=hl-27-66><a class=lnlinks href=#hl-27-66> 66</a>
</span><span class=lnt id=hl-27-67><a class=lnlinks href=#hl-27-67> 67</a>
</span><span class=lnt id=hl-27-68><a class=lnlinks href=#hl-27-68> 68</a>
</span><span class=lnt id=hl-27-69><a class=lnlinks href=#hl-27-69> 69</a>
</span><span class=lnt id=hl-27-70><a class=lnlinks href=#hl-27-70> 70</a>
</span><span class=lnt id=hl-27-71><a class=lnlinks href=#hl-27-71> 71</a>
</span><span class=lnt id=hl-27-72><a class=lnlinks href=#hl-27-72> 72</a>
</span><span class=lnt id=hl-27-73><a class=lnlinks href=#hl-27-73> 73</a>
</span><span class=lnt id=hl-27-74><a class=lnlinks href=#hl-27-74> 74</a>
</span><span class=lnt id=hl-27-75><a class=lnlinks href=#hl-27-75> 75</a>
</span><span class=lnt id=hl-27-76><a class=lnlinks href=#hl-27-76> 76</a>
</span><span class=lnt id=hl-27-77><a class=lnlinks href=#hl-27-77> 77</a>
</span><span class=lnt id=hl-27-78><a class=lnlinks href=#hl-27-78> 78</a>
</span><span class=lnt id=hl-27-79><a class=lnlinks href=#hl-27-79> 79</a>
</span><span class=lnt id=hl-27-80><a class=lnlinks href=#hl-27-80> 80</a>
</span><span class=lnt id=hl-27-81><a class=lnlinks href=#hl-27-81> 81</a>
</span><span class=lnt id=hl-27-82><a class=lnlinks href=#hl-27-82> 82</a>
</span><span class=lnt id=hl-27-83><a class=lnlinks href=#hl-27-83> 83</a>
</span><span class=lnt id=hl-27-84><a class=lnlinks href=#hl-27-84> 84</a>
</span><span class=lnt id=hl-27-85><a class=lnlinks href=#hl-27-85> 85</a>
</span><span class=lnt id=hl-27-86><a class=lnlinks href=#hl-27-86> 86</a>
</span><span class=lnt id=hl-27-87><a class=lnlinks href=#hl-27-87> 87</a>
</span><span class=lnt id=hl-27-88><a class=lnlinks href=#hl-27-88> 88</a>
</span><span class=lnt id=hl-27-89><a class=lnlinks href=#hl-27-89> 89</a>
</span><span class=lnt id=hl-27-90><a class=lnlinks href=#hl-27-90> 90</a>
</span><span class=lnt id=hl-27-91><a class=lnlinks href=#hl-27-91> 91</a>
</span><span class=lnt id=hl-27-92><a class=lnlinks href=#hl-27-92> 92</a>
</span><span class=lnt id=hl-27-93><a class=lnlinks href=#hl-27-93> 93</a>
</span><span class=lnt id=hl-27-94><a class=lnlinks href=#hl-27-94> 94</a>
</span><span class=lnt id=hl-27-95><a class=lnlinks href=#hl-27-95> 95</a>
</span><span class=lnt id=hl-27-96><a class=lnlinks href=#hl-27-96> 96</a>
</span><span class=lnt id=hl-27-97><a class=lnlinks href=#hl-27-97> 97</a>
</span><span class=lnt id=hl-27-98><a class=lnlinks href=#hl-27-98> 98</a>
</span><span class=lnt id=hl-27-99><a class=lnlinks href=#hl-27-99> 99</a>
</span><span class=lnt id=hl-27-100><a class=lnlinks href=#hl-27-100>100</a>
</span><span class=lnt id=hl-27-101><a class=lnlinks href=#hl-27-101>101</a>
</span><span class=lnt id=hl-27-102><a class=lnlinks href=#hl-27-102>102</a>
</span><span class=lnt id=hl-27-103><a class=lnlinks href=#hl-27-103>103</a>
</span><span class=lnt id=hl-27-104><a class=lnlinks href=#hl-27-104>104</a>
</span><span class=lnt id=hl-27-105><a class=lnlinks href=#hl-27-105>105</a>
</span><span class=lnt id=hl-27-106><a class=lnlinks href=#hl-27-106>106</a>
</span><span class=lnt id=hl-27-107><a class=lnlinks href=#hl-27-107>107</a>
</span><span class=lnt id=hl-27-108><a class=lnlinks href=#hl-27-108>108</a>
</span><span class=lnt id=hl-27-109><a class=lnlinks href=#hl-27-109>109</a>
</span><span class=lnt id=hl-27-110><a class=lnlinks href=#hl-27-110>110</a>
</span><span class=lnt id=hl-27-111><a class=lnlinks href=#hl-27-111>111</a>
</span><span class=lnt id=hl-27-112><a class=lnlinks href=#hl-27-112>112</a>
</span><span class=lnt id=hl-27-113><a class=lnlinks href=#hl-27-113>113</a>
</span><span class=lnt id=hl-27-114><a class=lnlinks href=#hl-27-114>114</a>
</span><span class=lnt id=hl-27-115><a class=lnlinks href=#hl-27-115>115</a>
</span><span class=lnt id=hl-27-116><a class=lnlinks href=#hl-27-116>116</a>
</span><span class=lnt id=hl-27-117><a class=lnlinks href=#hl-27-117>117</a>
</span><span class=lnt id=hl-27-118><a class=lnlinks href=#hl-27-118>118</a>
</span><span class=lnt id=hl-27-119><a class=lnlinks href=#hl-27-119>119</a>
</span><span class=lnt id=hl-27-120><a class=lnlinks href=#hl-27-120>120</a>
</span><span class=lnt id=hl-27-121><a class=lnlinks href=#hl-27-121>121</a>
</span><span class=lnt id=hl-27-122><a class=lnlinks href=#hl-27-122>122</a>
</span><span class=lnt id=hl-27-123><a class=lnlinks href=#hl-27-123>123</a>
</span><span class=lnt id=hl-27-124><a class=lnlinks href=#hl-27-124>124</a>
</span><span class=lnt id=hl-27-125><a class=lnlinks href=#hl-27-125>125</a>
</span><span class=lnt id=hl-27-126><a class=lnlinks href=#hl-27-126>126</a>
</span><span class=lnt id=hl-27-127><a class=lnlinks href=#hl-27-127>127</a>
</span><span class=lnt id=hl-27-128><a class=lnlinks href=#hl-27-128>128</a>
</span><span class=lnt id=hl-27-129><a class=lnlinks href=#hl-27-129>129</a>
</span><span class=lnt id=hl-27-130><a class=lnlinks href=#hl-27-130>130</a>
</span><span class=lnt id=hl-27-131><a class=lnlinks href=#hl-27-131>131</a>
</span><span class=lnt id=hl-27-132><a class=lnlinks href=#hl-27-132>132</a>
</span><span class=lnt id=hl-27-133><a class=lnlinks href=#hl-27-133>133</a>
</span><span class=lnt id=hl-27-134><a class=lnlinks href=#hl-27-134>134</a>
</span><span class=lnt id=hl-27-135><a class=lnlinks href=#hl-27-135>135</a>
</span><span class=lnt id=hl-27-136><a class=lnlinks href=#hl-27-136>136</a>
</span><span class=lnt id=hl-27-137><a class=lnlinks href=#hl-27-137>137</a>
</span><span class=lnt id=hl-27-138><a class=lnlinks href=#hl-27-138>138</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=ch>#!/usr/bin/env node
</span></span></span><span class=line><span class=cl><span class=ch></span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * node_http_server.js
</span></span></span><span class=line><span class=cl><span class=cm> * Node.js HTTP 서버 (libuv 기반 Non-Blocking I/O)
</span></span></span><span class=line><span class=cl><span class=cm> * JavaScript의 기본이 Non-Blocking이므로 별도 설정 불필요
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>http</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;http&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>util</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;util&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>HOST</span> <span class=o>=</span> <span class=s1>&#39;0.0.0.0&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>PORT</span> <span class=o>=</span> <span class=mi>8080</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 전역 상태
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>activeConnections</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * 비동기 대기 함수 (Non-Blocking sleep)
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>sleep</span> <span class=o>=</span> <span class=p>(</span><span class=nx>ms</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>(</span><span class=nx>resolve</span> <span class=p>=&gt;</span> <span class=nx>setTimeout</span><span class=p>(</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>ms</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * 각 요청을 처리하는 핸들러 (비동기)
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kr>async</span> <span class=kd>function</span> <span class=nx>handleRequest</span><span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 연결 수 증가
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>activeConnections</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`[이벤트 루프] 요청: </span><span class=si>${</span><span class=nx>req</span><span class=p>.</span><span class=nx>method</span><span class=si>}</span><span class=sb> </span><span class=si>${</span><span class=nx>req</span><span class=p>.</span><span class=nx>url</span><span class=si>}</span><span class=sb>, 활성: </span><span class=si>${</span><span class=nx>activeConnections</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 1. 요청 본문 읽기 (Non-Blocking, 스트림 기반)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>body</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// &#39;data&#39; 이벤트: 데이터 청크가 준비될 때마다 발생
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>req</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=nx>chunk</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>body</span> <span class=o>+=</span> <span class=nx>chunk</span><span class=p>.</span><span class=nx>toString</span><span class=p>();</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 이 콜백이 실행되는 동안에도 다른 요청 처리 가능!
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>});</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// &#39;end&#39; 이벤트: 모든 데이터 수신 완료
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>await</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>req</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;end&#39;</span><span class=p>,</span> <span class=nx>resolve</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>req</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;error&#39;</span><span class=p>,</span> <span class=nx>reject</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 2. 비즈니스 로직 (비동기 작업)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// Non-Blocking sleep (다른 요청도 동시 처리됨)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>await</span> <span class=nx>sleep</span><span class=p>(</span><span class=mi>100</span><span class=p>);</span>  <span class=c1>// 100ms 처리 시뮬레이션
</span></span></span><span class=line><span class=cl><span class=c1></span>    
</span></span><span class=line><span class=cl>    <span class=c1>// 실제로는 비동기 DB 쿼리, 파일 읽기 등
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// const data = await db.query(&#39;SELECT ...&#39;);
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// const file = await fs.promises.readFile(&#39;file.txt&#39;);
</span></span></span><span class=line><span class=cl><span class=c1></span>    
</span></span><span class=line><span class=cl>    <span class=c1>// 3. 응답 생성 및 전송 (Non-Blocking)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>responseBody</span> <span class=o>=</span> <span class=sb>`Echo: </span><span class=si>${</span><span class=nx>req</span><span class=p>.</span><span class=nx>method</span><span class=si>}</span><span class=sb> </span><span class=si>${</span><span class=nx>req</span><span class=p>.</span><span class=nx>url</span><span class=si>}</span><span class=sb>\nAsync: true\nBody length: </span><span class=si>${</span><span class=nx>body</span><span class=p>.</span><span class=nx>length</span><span class=si>}</span><span class=sb>\n`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>res</span><span class=p>.</span><span class=nx>writeHead</span><span class=p>(</span><span class=mi>200</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;Content-Type&#39;</span><span class=o>:</span> <span class=s1>&#39;text/plain; charset=utf-8&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;Content-Length&#39;</span><span class=o>:</span> <span class=nx>Buffer</span><span class=p>.</span><span class=nx>byteLength</span><span class=p>(</span><span class=nx>responseBody</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>res</span><span class=p>.</span><span class=nx>end</span><span class=p>(</span><span class=nx>responseBody</span><span class=p>);</span>  <span class=c1>// Non-Blocking write
</span></span></span><span class=line><span class=cl><span class=c1></span>    
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;[이벤트 루프] 에러:&#39;</span><span class=p>,</span> <span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>res</span><span class=p>.</span><span class=nx>writeHead</span><span class=p>(</span><span class=mi>500</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>res</span><span class=p>.</span><span class=nx>end</span><span class=p>(</span><span class=s1>&#39;Internal Server Error&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>finally</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 연결 수 감소
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>activeConnections</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`[이벤트 루프] 완료: </span><span class=si>${</span><span class=nx>req</span><span class=p>.</span><span class=nx>method</span><span class=si>}</span><span class=sb> </span><span class=si>${</span><span class=nx>req</span><span class=p>.</span><span class=nx>url</span><span class=si>}</span><span class=sb>, 활성: </span><span class=si>${</span><span class=nx>activeConnections</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * 서버 생성 및 시작
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>startServer</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// HTTP 서버 생성 (기본적으로 Non-Blocking)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>server</span> <span class=o>=</span> <span class=nx>http</span><span class=p>.</span><span class=nx>createServer</span><span class=p>(</span><span class=nx>handleRequest</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 서버 시작
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>server</span><span class=p>.</span><span class=nx>listen</span><span class=p>(</span><span class=nx>PORT</span><span class=p>,</span> <span class=nx>HOST</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Node.js HTTP 서버 시작: http://</span><span class=si>${</span><span class=nx>HOST</span><span class=si>}</span><span class=sb>:</span><span class=si>${</span><span class=nx>PORT</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;libuv 이벤트 루프 실행 중...&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`워커 스레드 풀: </span><span class=si>${</span><span class=nx>process</span><span class=p>.</span><span class=nx>env</span><span class=p>.</span><span class=nx>UV_THREADPOOL_SIZE</span> <span class=o>||</span> <span class=mi>4</span><span class=si>}</span><span class=sb>개`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// Graceful Shutdown
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>process</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;SIGINT&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;\n서버 종료 중...&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>server</span><span class=p>.</span><span class=nx>close</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;서버 종료 완료&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>process</span><span class=p>.</span><span class=nx>exit</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 서버 시작
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>startServer</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * Node.js 이벤트 루프 구조:
</span></span></span><span class=line><span class=cl><span class=cm> * 
</span></span></span><span class=line><span class=cl><span class=cm> * ┌───────────────────────────┐
</span></span></span><span class=line><span class=cl><span class=cm> * │   timers (setTimeout)     │  타이머 콜백
</span></span></span><span class=line><span class=cl><span class=cm> * ├───────────────────────────┤
</span></span></span><span class=line><span class=cl><span class=cm> * │   pending callbacks       │  I/O 콜백
</span></span></span><span class=line><span class=cl><span class=cm> * ├───────────────────────────┤
</span></span></span><span class=line><span class=cl><span class=cm> * │   idle, prepare           │  내부 전용
</span></span></span><span class=line><span class=cl><span class=cm> * ├───────────────────────────┤
</span></span></span><span class=line><span class=cl><span class=cm> * │   poll (epoll/kqueue)     │  새 I/O 이벤트 (핵심!)
</span></span></span><span class=line><span class=cl><span class=cm> * ├───────────────────────────┤
</span></span></span><span class=line><span class=cl><span class=cm> * │   check (setImmediate)    │  즉시 실행 콜백
</span></span></span><span class=line><span class=cl><span class=cm> * ├───────────────────────────┤
</span></span></span><span class=line><span class=cl><span class=cm> * │   close callbacks         │  종료 콜백
</span></span></span><span class=line><span class=cl><span class=cm> * └───────────────────────────┘
</span></span></span><span class=line><span class=cl><span class=cm> * 
</span></span></span><span class=line><span class=cl><span class=cm> * 특징:
</span></span></span><span class=line><span class=cl><span class=cm> * 1. 모든 I/O는 libuv를 통해 Non-Blocking 처리
</span></span></span><span class=line><span class=cl><span class=cm> * 2. JavaScript는 단일 스레드 (V8 엔진)
</span></span></span><span class=line><span class=cl><span class=cm> * 3. libuv는 내부적으로 워커 스레드 풀 사용 (파일 I/O, DNS 등)
</span></span></span><span class=line><span class=cl><span class=cm> * 4. 네트워크 I/O는 epoll/kqueue로 완전 Non-Blocking
</span></span></span><span class=line><span class=cl><span class=cm> * 
</span></span></span><span class=line><span class=cl><span class=cm> * 테스트:
</span></span></span><span class=line><span class=cl><span class=cm> * $ node node_http_server.js &amp;
</span></span></span><span class=line><span class=cl><span class=cm> * $ curl http://localhost:8080/test
</span></span></span><span class=line><span class=cl><span class=cm> * Echo: GET /test
</span></span></span><span class=line><span class=cl><span class=cm> * Async: true
</span></span></span><span class=line><span class=cl><span class=cm> * 
</span></span></span><span class=line><span class=cl><span class=cm> * 벤치마크:
</span></span></span><span class=line><span class=cl><span class=cm> * $ wrk -t4 -c10000 -d10s http://localhost:8080/
</span></span></span><span class=line><span class=cl><span class=cm> *   - 10,000 동시 연결: 정상 동작
</span></span></span><span class=line><span class=cl><span class=cm> *   - 메모리: ~300MB
</span></span></span><span class=line><span class=cl><span class=cm> *   - CPU: 단일 코어만 사용 (클러스터 모드로 다중 코어 활용 가능)
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=55-java-구현-예시>5.5 Java 구현 예시<a hidden class=anchor aria-hidden=true href=#55-java-구현-예시>#</a></h3><h4 id=551-java-nio-non-blocking-io>5.5.1 Java NIO (Non-Blocking I/O)<a hidden class=anchor aria-hidden=true href=#551-java-nio-non-blocking-io>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-28-1><a class=lnlinks href=#hl-28-1>  1</a>
</span><span class=lnt id=hl-28-2><a class=lnlinks href=#hl-28-2>  2</a>
</span><span class=lnt id=hl-28-3><a class=lnlinks href=#hl-28-3>  3</a>
</span><span class=lnt id=hl-28-4><a class=lnlinks href=#hl-28-4>  4</a>
</span><span class=lnt id=hl-28-5><a class=lnlinks href=#hl-28-5>  5</a>
</span><span class=lnt id=hl-28-6><a class=lnlinks href=#hl-28-6>  6</a>
</span><span class=lnt id=hl-28-7><a class=lnlinks href=#hl-28-7>  7</a>
</span><span class=lnt id=hl-28-8><a class=lnlinks href=#hl-28-8>  8</a>
</span><span class=lnt id=hl-28-9><a class=lnlinks href=#hl-28-9>  9</a>
</span><span class=lnt id=hl-28-10><a class=lnlinks href=#hl-28-10> 10</a>
</span><span class=lnt id=hl-28-11><a class=lnlinks href=#hl-28-11> 11</a>
</span><span class=lnt id=hl-28-12><a class=lnlinks href=#hl-28-12> 12</a>
</span><span class=lnt id=hl-28-13><a class=lnlinks href=#hl-28-13> 13</a>
</span><span class=lnt id=hl-28-14><a class=lnlinks href=#hl-28-14> 14</a>
</span><span class=lnt id=hl-28-15><a class=lnlinks href=#hl-28-15> 15</a>
</span><span class=lnt id=hl-28-16><a class=lnlinks href=#hl-28-16> 16</a>
</span><span class=lnt id=hl-28-17><a class=lnlinks href=#hl-28-17> 17</a>
</span><span class=lnt id=hl-28-18><a class=lnlinks href=#hl-28-18> 18</a>
</span><span class=lnt id=hl-28-19><a class=lnlinks href=#hl-28-19> 19</a>
</span><span class=lnt id=hl-28-20><a class=lnlinks href=#hl-28-20> 20</a>
</span><span class=lnt id=hl-28-21><a class=lnlinks href=#hl-28-21> 21</a>
</span><span class=lnt id=hl-28-22><a class=lnlinks href=#hl-28-22> 22</a>
</span><span class=lnt id=hl-28-23><a class=lnlinks href=#hl-28-23> 23</a>
</span><span class=lnt id=hl-28-24><a class=lnlinks href=#hl-28-24> 24</a>
</span><span class=lnt id=hl-28-25><a class=lnlinks href=#hl-28-25> 25</a>
</span><span class=lnt id=hl-28-26><a class=lnlinks href=#hl-28-26> 26</a>
</span><span class=lnt id=hl-28-27><a class=lnlinks href=#hl-28-27> 27</a>
</span><span class=lnt id=hl-28-28><a class=lnlinks href=#hl-28-28> 28</a>
</span><span class=lnt id=hl-28-29><a class=lnlinks href=#hl-28-29> 29</a>
</span><span class=lnt id=hl-28-30><a class=lnlinks href=#hl-28-30> 30</a>
</span><span class=lnt id=hl-28-31><a class=lnlinks href=#hl-28-31> 31</a>
</span><span class=lnt id=hl-28-32><a class=lnlinks href=#hl-28-32> 32</a>
</span><span class=lnt id=hl-28-33><a class=lnlinks href=#hl-28-33> 33</a>
</span><span class=lnt id=hl-28-34><a class=lnlinks href=#hl-28-34> 34</a>
</span><span class=lnt id=hl-28-35><a class=lnlinks href=#hl-28-35> 35</a>
</span><span class=lnt id=hl-28-36><a class=lnlinks href=#hl-28-36> 36</a>
</span><span class=lnt id=hl-28-37><a class=lnlinks href=#hl-28-37> 37</a>
</span><span class=lnt id=hl-28-38><a class=lnlinks href=#hl-28-38> 38</a>
</span><span class=lnt id=hl-28-39><a class=lnlinks href=#hl-28-39> 39</a>
</span><span class=lnt id=hl-28-40><a class=lnlinks href=#hl-28-40> 40</a>
</span><span class=lnt id=hl-28-41><a class=lnlinks href=#hl-28-41> 41</a>
</span><span class=lnt id=hl-28-42><a class=lnlinks href=#hl-28-42> 42</a>
</span><span class=lnt id=hl-28-43><a class=lnlinks href=#hl-28-43> 43</a>
</span><span class=lnt id=hl-28-44><a class=lnlinks href=#hl-28-44> 44</a>
</span><span class=lnt id=hl-28-45><a class=lnlinks href=#hl-28-45> 45</a>
</span><span class=lnt id=hl-28-46><a class=lnlinks href=#hl-28-46> 46</a>
</span><span class=lnt id=hl-28-47><a class=lnlinks href=#hl-28-47> 47</a>
</span><span class=lnt id=hl-28-48><a class=lnlinks href=#hl-28-48> 48</a>
</span><span class=lnt id=hl-28-49><a class=lnlinks href=#hl-28-49> 49</a>
</span><span class=lnt id=hl-28-50><a class=lnlinks href=#hl-28-50> 50</a>
</span><span class=lnt id=hl-28-51><a class=lnlinks href=#hl-28-51> 51</a>
</span><span class=lnt id=hl-28-52><a class=lnlinks href=#hl-28-52> 52</a>
</span><span class=lnt id=hl-28-53><a class=lnlinks href=#hl-28-53> 53</a>
</span><span class=lnt id=hl-28-54><a class=lnlinks href=#hl-28-54> 54</a>
</span><span class=lnt id=hl-28-55><a class=lnlinks href=#hl-28-55> 55</a>
</span><span class=lnt id=hl-28-56><a class=lnlinks href=#hl-28-56> 56</a>
</span><span class=lnt id=hl-28-57><a class=lnlinks href=#hl-28-57> 57</a>
</span><span class=lnt id=hl-28-58><a class=lnlinks href=#hl-28-58> 58</a>
</span><span class=lnt id=hl-28-59><a class=lnlinks href=#hl-28-59> 59</a>
</span><span class=lnt id=hl-28-60><a class=lnlinks href=#hl-28-60> 60</a>
</span><span class=lnt id=hl-28-61><a class=lnlinks href=#hl-28-61> 61</a>
</span><span class=lnt id=hl-28-62><a class=lnlinks href=#hl-28-62> 62</a>
</span><span class=lnt id=hl-28-63><a class=lnlinks href=#hl-28-63> 63</a>
</span><span class=lnt id=hl-28-64><a class=lnlinks href=#hl-28-64> 64</a>
</span><span class=lnt id=hl-28-65><a class=lnlinks href=#hl-28-65> 65</a>
</span><span class=lnt id=hl-28-66><a class=lnlinks href=#hl-28-66> 66</a>
</span><span class=lnt id=hl-28-67><a class=lnlinks href=#hl-28-67> 67</a>
</span><span class=lnt id=hl-28-68><a class=lnlinks href=#hl-28-68> 68</a>
</span><span class=lnt id=hl-28-69><a class=lnlinks href=#hl-28-69> 69</a>
</span><span class=lnt id=hl-28-70><a class=lnlinks href=#hl-28-70> 70</a>
</span><span class=lnt id=hl-28-71><a class=lnlinks href=#hl-28-71> 71</a>
</span><span class=lnt id=hl-28-72><a class=lnlinks href=#hl-28-72> 72</a>
</span><span class=lnt id=hl-28-73><a class=lnlinks href=#hl-28-73> 73</a>
</span><span class=lnt id=hl-28-74><a class=lnlinks href=#hl-28-74> 74</a>
</span><span class=lnt id=hl-28-75><a class=lnlinks href=#hl-28-75> 75</a>
</span><span class=lnt id=hl-28-76><a class=lnlinks href=#hl-28-76> 76</a>
</span><span class=lnt id=hl-28-77><a class=lnlinks href=#hl-28-77> 77</a>
</span><span class=lnt id=hl-28-78><a class=lnlinks href=#hl-28-78> 78</a>
</span><span class=lnt id=hl-28-79><a class=lnlinks href=#hl-28-79> 79</a>
</span><span class=lnt id=hl-28-80><a class=lnlinks href=#hl-28-80> 80</a>
</span><span class=lnt id=hl-28-81><a class=lnlinks href=#hl-28-81> 81</a>
</span><span class=lnt id=hl-28-82><a class=lnlinks href=#hl-28-82> 82</a>
</span><span class=lnt id=hl-28-83><a class=lnlinks href=#hl-28-83> 83</a>
</span><span class=lnt id=hl-28-84><a class=lnlinks href=#hl-28-84> 84</a>
</span><span class=lnt id=hl-28-85><a class=lnlinks href=#hl-28-85> 85</a>
</span><span class=lnt id=hl-28-86><a class=lnlinks href=#hl-28-86> 86</a>
</span><span class=lnt id=hl-28-87><a class=lnlinks href=#hl-28-87> 87</a>
</span><span class=lnt id=hl-28-88><a class=lnlinks href=#hl-28-88> 88</a>
</span><span class=lnt id=hl-28-89><a class=lnlinks href=#hl-28-89> 89</a>
</span><span class=lnt id=hl-28-90><a class=lnlinks href=#hl-28-90> 90</a>
</span><span class=lnt id=hl-28-91><a class=lnlinks href=#hl-28-91> 91</a>
</span><span class=lnt id=hl-28-92><a class=lnlinks href=#hl-28-92> 92</a>
</span><span class=lnt id=hl-28-93><a class=lnlinks href=#hl-28-93> 93</a>
</span><span class=lnt id=hl-28-94><a class=lnlinks href=#hl-28-94> 94</a>
</span><span class=lnt id=hl-28-95><a class=lnlinks href=#hl-28-95> 95</a>
</span><span class=lnt id=hl-28-96><a class=lnlinks href=#hl-28-96> 96</a>
</span><span class=lnt id=hl-28-97><a class=lnlinks href=#hl-28-97> 97</a>
</span><span class=lnt id=hl-28-98><a class=lnlinks href=#hl-28-98> 98</a>
</span><span class=lnt id=hl-28-99><a class=lnlinks href=#hl-28-99> 99</a>
</span><span class=lnt id=hl-28-100><a class=lnlinks href=#hl-28-100>100</a>
</span><span class=lnt id=hl-28-101><a class=lnlinks href=#hl-28-101>101</a>
</span><span class=lnt id=hl-28-102><a class=lnlinks href=#hl-28-102>102</a>
</span><span class=lnt id=hl-28-103><a class=lnlinks href=#hl-28-103>103</a>
</span><span class=lnt id=hl-28-104><a class=lnlinks href=#hl-28-104>104</a>
</span><span class=lnt id=hl-28-105><a class=lnlinks href=#hl-28-105>105</a>
</span><span class=lnt id=hl-28-106><a class=lnlinks href=#hl-28-106>106</a>
</span><span class=lnt id=hl-28-107><a class=lnlinks href=#hl-28-107>107</a>
</span><span class=lnt id=hl-28-108><a class=lnlinks href=#hl-28-108>108</a>
</span><span class=lnt id=hl-28-109><a class=lnlinks href=#hl-28-109>109</a>
</span><span class=lnt id=hl-28-110><a class=lnlinks href=#hl-28-110>110</a>
</span><span class=lnt id=hl-28-111><a class=lnlinks href=#hl-28-111>111</a>
</span><span class=lnt id=hl-28-112><a class=lnlinks href=#hl-28-112>112</a>
</span><span class=lnt id=hl-28-113><a class=lnlinks href=#hl-28-113>113</a>
</span><span class=lnt id=hl-28-114><a class=lnlinks href=#hl-28-114>114</a>
</span><span class=lnt id=hl-28-115><a class=lnlinks href=#hl-28-115>115</a>
</span><span class=lnt id=hl-28-116><a class=lnlinks href=#hl-28-116>116</a>
</span><span class=lnt id=hl-28-117><a class=lnlinks href=#hl-28-117>117</a>
</span><span class=lnt id=hl-28-118><a class=lnlinks href=#hl-28-118>118</a>
</span><span class=lnt id=hl-28-119><a class=lnlinks href=#hl-28-119>119</a>
</span><span class=lnt id=hl-28-120><a class=lnlinks href=#hl-28-120>120</a>
</span><span class=lnt id=hl-28-121><a class=lnlinks href=#hl-28-121>121</a>
</span><span class=lnt id=hl-28-122><a class=lnlinks href=#hl-28-122>122</a>
</span><span class=lnt id=hl-28-123><a class=lnlinks href=#hl-28-123>123</a>
</span><span class=lnt id=hl-28-124><a class=lnlinks href=#hl-28-124>124</a>
</span><span class=lnt id=hl-28-125><a class=lnlinks href=#hl-28-125>125</a>
</span><span class=lnt id=hl-28-126><a class=lnlinks href=#hl-28-126>126</a>
</span><span class=lnt id=hl-28-127><a class=lnlinks href=#hl-28-127>127</a>
</span><span class=lnt id=hl-28-128><a class=lnlinks href=#hl-28-128>128</a>
</span><span class=lnt id=hl-28-129><a class=lnlinks href=#hl-28-129>129</a>
</span><span class=lnt id=hl-28-130><a class=lnlinks href=#hl-28-130>130</a>
</span><span class=lnt id=hl-28-131><a class=lnlinks href=#hl-28-131>131</a>
</span><span class=lnt id=hl-28-132><a class=lnlinks href=#hl-28-132>132</a>
</span><span class=lnt id=hl-28-133><a class=lnlinks href=#hl-28-133>133</a>
</span><span class=lnt id=hl-28-134><a class=lnlinks href=#hl-28-134>134</a>
</span><span class=lnt id=hl-28-135><a class=lnlinks href=#hl-28-135>135</a>
</span><span class=lnt id=hl-28-136><a class=lnlinks href=#hl-28-136>136</a>
</span><span class=lnt id=hl-28-137><a class=lnlinks href=#hl-28-137>137</a>
</span><span class=lnt id=hl-28-138><a class=lnlinks href=#hl-28-138>138</a>
</span><span class=lnt id=hl-28-139><a class=lnlinks href=#hl-28-139>139</a>
</span><span class=lnt id=hl-28-140><a class=lnlinks href=#hl-28-140>140</a>
</span><span class=lnt id=hl-28-141><a class=lnlinks href=#hl-28-141>141</a>
</span><span class=lnt id=hl-28-142><a class=lnlinks href=#hl-28-142>142</a>
</span><span class=lnt id=hl-28-143><a class=lnlinks href=#hl-28-143>143</a>
</span><span class=lnt id=hl-28-144><a class=lnlinks href=#hl-28-144>144</a>
</span><span class=lnt id=hl-28-145><a class=lnlinks href=#hl-28-145>145</a>
</span><span class=lnt id=hl-28-146><a class=lnlinks href=#hl-28-146>146</a>
</span><span class=lnt id=hl-28-147><a class=lnlinks href=#hl-28-147>147</a>
</span><span class=lnt id=hl-28-148><a class=lnlinks href=#hl-28-148>148</a>
</span><span class=lnt id=hl-28-149><a class=lnlinks href=#hl-28-149>149</a>
</span><span class=lnt id=hl-28-150><a class=lnlinks href=#hl-28-150>150</a>
</span><span class=lnt id=hl-28-151><a class=lnlinks href=#hl-28-151>151</a>
</span><span class=lnt id=hl-28-152><a class=lnlinks href=#hl-28-152>152</a>
</span><span class=lnt id=hl-28-153><a class=lnlinks href=#hl-28-153>153</a>
</span><span class=lnt id=hl-28-154><a class=lnlinks href=#hl-28-154>154</a>
</span><span class=lnt id=hl-28-155><a class=lnlinks href=#hl-28-155>155</a>
</span><span class=lnt id=hl-28-156><a class=lnlinks href=#hl-28-156>156</a>
</span><span class=lnt id=hl-28-157><a class=lnlinks href=#hl-28-157>157</a>
</span><span class=lnt id=hl-28-158><a class=lnlinks href=#hl-28-158>158</a>
</span><span class=lnt id=hl-28-159><a class=lnlinks href=#hl-28-159>159</a>
</span><span class=lnt id=hl-28-160><a class=lnlinks href=#hl-28-160>160</a>
</span><span class=lnt id=hl-28-161><a class=lnlinks href=#hl-28-161>161</a>
</span><span class=lnt id=hl-28-162><a class=lnlinks href=#hl-28-162>162</a>
</span><span class=lnt id=hl-28-163><a class=lnlinks href=#hl-28-163>163</a>
</span><span class=lnt id=hl-28-164><a class=lnlinks href=#hl-28-164>164</a>
</span><span class=lnt id=hl-28-165><a class=lnlinks href=#hl-28-165>165</a>
</span><span class=lnt id=hl-28-166><a class=lnlinks href=#hl-28-166>166</a>
</span><span class=lnt id=hl-28-167><a class=lnlinks href=#hl-28-167>167</a>
</span><span class=lnt id=hl-28-168><a class=lnlinks href=#hl-28-168>168</a>
</span><span class=lnt id=hl-28-169><a class=lnlinks href=#hl-28-169>169</a>
</span><span class=lnt id=hl-28-170><a class=lnlinks href=#hl-28-170>170</a>
</span><span class=lnt id=hl-28-171><a class=lnlinks href=#hl-28-171>171</a>
</span><span class=lnt id=hl-28-172><a class=lnlinks href=#hl-28-172>172</a>
</span><span class=lnt id=hl-28-173><a class=lnlinks href=#hl-28-173>173</a>
</span><span class=lnt id=hl-28-174><a class=lnlinks href=#hl-28-174>174</a>
</span><span class=lnt id=hl-28-175><a class=lnlinks href=#hl-28-175>175</a>
</span><span class=lnt id=hl-28-176><a class=lnlinks href=#hl-28-176>176</a>
</span><span class=lnt id=hl-28-177><a class=lnlinks href=#hl-28-177>177</a>
</span><span class=lnt id=hl-28-178><a class=lnlinks href=#hl-28-178>178</a>
</span><span class=lnt id=hl-28-179><a class=lnlinks href=#hl-28-179>179</a>
</span><span class=lnt id=hl-28-180><a class=lnlinks href=#hl-28-180>180</a>
</span><span class=lnt id=hl-28-181><a class=lnlinks href=#hl-28-181>181</a>
</span><span class=lnt id=hl-28-182><a class=lnlinks href=#hl-28-182>182</a>
</span><span class=lnt id=hl-28-183><a class=lnlinks href=#hl-28-183>183</a>
</span><span class=lnt id=hl-28-184><a class=lnlinks href=#hl-28-184>184</a>
</span><span class=lnt id=hl-28-185><a class=lnlinks href=#hl-28-185>185</a>
</span><span class=lnt id=hl-28-186><a class=lnlinks href=#hl-28-186>186</a>
</span><span class=lnt id=hl-28-187><a class=lnlinks href=#hl-28-187>187</a>
</span><span class=lnt id=hl-28-188><a class=lnlinks href=#hl-28-188>188</a>
</span><span class=lnt id=hl-28-189><a class=lnlinks href=#hl-28-189>189</a>
</span><span class=lnt id=hl-28-190><a class=lnlinks href=#hl-28-190>190</a>
</span><span class=lnt id=hl-28-191><a class=lnlinks href=#hl-28-191>191</a>
</span><span class=lnt id=hl-28-192><a class=lnlinks href=#hl-28-192>192</a>
</span><span class=lnt id=hl-28-193><a class=lnlinks href=#hl-28-193>193</a>
</span><span class=lnt id=hl-28-194><a class=lnlinks href=#hl-28-194>194</a>
</span><span class=lnt id=hl-28-195><a class=lnlinks href=#hl-28-195>195</a>
</span><span class=lnt id=hl-28-196><a class=lnlinks href=#hl-28-196>196</a>
</span><span class=lnt id=hl-28-197><a class=lnlinks href=#hl-28-197>197</a>
</span><span class=lnt id=hl-28-198><a class=lnlinks href=#hl-28-198>198</a>
</span><span class=lnt id=hl-28-199><a class=lnlinks href=#hl-28-199>199</a>
</span><span class=lnt id=hl-28-200><a class=lnlinks href=#hl-28-200>200</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * NonBlockingHttpServer.java
</span></span></span><span class=line><span class=cl><span class=cm> * Java NIO를 사용한 Non-Blocking HTTP 서버
</span></span></span><span class=line><span class=cl><span class=cm> * Selector 패턴으로 단일 스레드에서 다중 연결 처리
</span></span></span><span class=line><span class=cl><span class=cm> */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=nn>java.io.IOException</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=nn>java.net.InetSocketAddress</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=nn>java.nio.ByteBuffer</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=nn>java.nio.channels.*</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=nn>java.nio.charset.StandardCharsets</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=nn>java.util.*</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>NonBlockingHttpServer</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>HOST</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;0.0.0.0&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>PORT</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>8080</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>BUFFER_SIZE</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>4096</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Selector</span><span class=w> </span><span class=n>selector</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>ServerSocketChannel</span><span class=w> </span><span class=n>serverChannel</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>activeConnections</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>start</span><span class=p>()</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 1. Selector 생성 (epoll/kqueue 래퍼)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>selector</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Selector</span><span class=p>.</span><span class=na>open</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 2. ServerSocketChannel 생성 및 설정</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>serverChannel</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ServerSocketChannel</span><span class=p>.</span><span class=na>open</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>serverChannel</span><span class=p>.</span><span class=na>bind</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>InetSocketAddress</span><span class=p>(</span><span class=n>HOST</span><span class=p>,</span><span class=w> </span><span class=n>PORT</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 3. Non-Blocking 모드 설정 (핵심!)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>serverChannel</span><span class=p>.</span><span class=na>configureBlocking</span><span class=p>(</span><span class=kc>false</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 4. Selector에 등록 (ACCEPT 이벤트 관심)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>serverChannel</span><span class=p>.</span><span class=na>register</span><span class=p>(</span><span class=n>selector</span><span class=p>,</span><span class=w> </span><span class=n>SelectionKey</span><span class=p>.</span><span class=na>OP_ACCEPT</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;Java NIO HTTP 서버 시작: http://&#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>HOST</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&#34;:&#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>PORT</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;단일 스레드 Selector 실행 중...&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 5. 이벤트 루프</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=kc>true</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// select(): 준비된 채널이 있을 때까지 블로킹</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// (하지만 여러 채널을 동시에 관찰하므로 효율적)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kt>int</span><span class=w> </span><span class=n>readyChannels</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>selector</span><span class=p>.</span><span class=na>select</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>readyChannels</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>continue</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 준비된 이벤트 처리</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>Set</span><span class=o>&lt;</span><span class=n>SelectionKey</span><span class=o>&gt;</span><span class=w> </span><span class=n>selectedKeys</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>selector</span><span class=p>.</span><span class=na>selectedKeys</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>Iterator</span><span class=o>&lt;</span><span class=n>SelectionKey</span><span class=o>&gt;</span><span class=w> </span><span class=n>keyIterator</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>selectedKeys</span><span class=p>.</span><span class=na>iterator</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>keyIterator</span><span class=p>.</span><span class=na>hasNext</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>SelectionKey</span><span class=w> </span><span class=n>key</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>keyIterator</span><span class=p>.</span><span class=na>next</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>try</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>key</span><span class=p>.</span><span class=na>isAcceptable</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                        </span><span class=c1>// 새 연결 수락</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                        </span><span class=n>handleAccept</span><span class=p>(</span><span class=n>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                        
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>key</span><span class=p>.</span><span class=na>isReadable</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                        </span><span class=c1>// 데이터 읽기 준비됨</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                        </span><span class=n>handleRead</span><span class=p>(</span><span class=n>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                        
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>key</span><span class=p>.</span><span class=na>isWritable</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                        </span><span class=c1>// 쓰기 준비됨</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                        </span><span class=n>handleWrite</span><span class=p>(</span><span class=n>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>IOException</span><span class=w> </span><span class=n>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>System</span><span class=p>.</span><span class=na>err</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;에러: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>e</span><span class=p>.</span><span class=na>getMessage</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>key</span><span class=p>.</span><span class=na>cancel</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>key</span><span class=p>.</span><span class=na>channel</span><span class=p>().</span><span class=na>close</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>keyIterator</span><span class=p>.</span><span class=na>remove</span><span class=p>();</span><span class=w>  </span><span class=c1>// 처리 완료, 키 제거</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * 새 연결 수락 (Non-Blocking)
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>handleAccept</span><span class=p>(</span><span class=n>SelectionKey</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>ServerSocketChannel</span><span class=w> </span><span class=n>serverChannel</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>ServerSocketChannel</span><span class=p>)</span><span class=w> </span><span class=n>key</span><span class=p>.</span><span class=na>channel</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// accept()는 Non-Blocking 모드에서 즉시 반환</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>SocketChannel</span><span class=w> </span><span class=n>clientChannel</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>serverChannel</span><span class=p>.</span><span class=na>accept</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>clientChannel</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>activeConnections</span><span class=o>++</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;[Selector] 연결: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>clientChannel</span><span class=p>.</span><span class=na>getRemoteAddress</span><span class=p>()</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>                             </span><span class=o>+</span><span class=w> </span><span class=s>&#34;, 활성: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>activeConnections</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 클라이언트 채널도 Non-Blocking 설정</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>clientChannel</span><span class=p>.</span><span class=na>configureBlocking</span><span class=p>(</span><span class=kc>false</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// READ 이벤트 등록</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>clientChannel</span><span class=p>.</span><span class=na>register</span><span class=p>(</span><span class=n>selector</span><span class=p>,</span><span class=w> </span><span class=n>SelectionKey</span><span class=p>.</span><span class=na>OP_READ</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * 데이터 읽기 (Non-Blocking)
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>handleRead</span><span class=p>(</span><span class=n>SelectionKey</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>SocketChannel</span><span class=w> </span><span class=n>channel</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>SocketChannel</span><span class=p>)</span><span class=w> </span><span class=n>key</span><span class=p>.</span><span class=na>channel</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>ByteBuffer</span><span class=w> </span><span class=n>buffer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ByteBuffer</span><span class=p>.</span><span class=na>allocate</span><span class=p>(</span><span class=n>BUFFER_SIZE</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// read()는 Non-Blocking: 즉시 반환</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>bytesRead</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>channel</span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=n>buffer</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>bytesRead</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 연결 종료</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>activeConnections</span><span class=o>--</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;[Selector] 종료: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>channel</span><span class=p>.</span><span class=na>getRemoteAddress</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                             </span><span class=o>+</span><span class=w> </span><span class=s>&#34;, 활성: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>activeConnections</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>channel</span><span class=p>.</span><span class=na>close</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>key</span><span class=p>.</span><span class=na>cancel</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>return</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>bytesRead</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>buffer</span><span class=p>.</span><span class=na>flip</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>String</span><span class=w> </span><span class=n>request</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>StandardCharsets</span><span class=p>.</span><span class=na>UTF_8</span><span class=p>.</span><span class=na>decode</span><span class=p>(</span><span class=n>buffer</span><span class=p>).</span><span class=na>toString</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>String</span><span class=w> </span><span class=n>requestLine</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>request</span><span class=p>.</span><span class=na>split</span><span class=p>(</span><span class=s>&#34;\r\n&#34;</span><span class=p>)</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;[Selector] 요청: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>requestLine</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 응답 생성</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>String</span><span class=w> </span><span class=n>responseBody</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;Echo: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>requestLine</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&#34;\nNIO: true\n&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>String</span><span class=w> </span><span class=n>response</span><span class=w> </span><span class=o>=</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=s>&#34;HTTP/1.1 200 OK\r\n&#34;</span><span class=w> </span><span class=o>+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=s>&#34;Content-Type: text/plain; charset=utf-8\r\n&#34;</span><span class=w> </span><span class=o>+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=s>&#34;Content-Length: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>responseBody</span><span class=p>.</span><span class=na>length</span><span class=p>()</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&#34;\r\n&#34;</span><span class=w> </span><span class=o>+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=s>&#34;Connection: close\r\n&#34;</span><span class=w> </span><span class=o>+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=s>&#34;\r\n&#34;</span><span class=w> </span><span class=o>+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>responseBody</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>ByteBuffer</span><span class=w> </span><span class=n>responseBuffer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ByteBuffer</span><span class=p>.</span><span class=na>wrap</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>response</span><span class=p>.</span><span class=na>getBytes</span><span class=p>(</span><span class=n>StandardCharsets</span><span class=p>.</span><span class=na>UTF_8</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 응답 버퍼를 키에 첨부 (나중에 쓰기 위해)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>key</span><span class=p>.</span><span class=na>attach</span><span class=p>(</span><span class=n>responseBuffer</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// WRITE 이벤트로 전환</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>key</span><span class=p>.</span><span class=na>interestOps</span><span class=p>(</span><span class=n>SelectionKey</span><span class=p>.</span><span class=na>OP_WRITE</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * 데이터 쓰기 (Non-Blocking)
</span></span></span><span class=line><span class=cl><span class=cm>     */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>handleWrite</span><span class=p>(</span><span class=n>SelectionKey</span><span class=w> </span><span class=n>key</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>SocketChannel</span><span class=w> </span><span class=n>channel</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>SocketChannel</span><span class=p>)</span><span class=w> </span><span class=n>key</span><span class=p>.</span><span class=na>channel</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>ByteBuffer</span><span class=w> </span><span class=n>buffer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>ByteBuffer</span><span class=p>)</span><span class=w> </span><span class=n>key</span><span class=p>.</span><span class=na>attachment</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// write()는 Non-Blocking: 가능한 만큼만 쓰고 즉시 반환</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>channel</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=n>buffer</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>buffer</span><span class=p>.</span><span class=na>hasRemaining</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 모든 데이터 전송 완료</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;[Selector] 응답 완료: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>channel</span><span class=p>.</span><span class=na>getRemoteAddress</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>channel</span><span class=p>.</span><span class=na>close</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>key</span><span class=p>.</span><span class=na>cancel</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>try</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>new</span><span class=w> </span><span class=n>NonBlockingHttpServer</span><span class=p>().</span><span class=na>start</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>IOException</span><span class=w> </span><span class=n>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>e</span><span class=p>.</span><span class=na>printStackTrace</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * 컴파일 및 실행:
</span></span></span><span class=line><span class=cl><span class=cm> * $ javac NonBlockingHttpServer.java
</span></span></span><span class=line><span class=cl><span class=cm> * $ java NonBlockingHttpServer
</span></span></span><span class=line><span class=cl><span class=cm> * 
</span></span></span><span class=line><span class=cl><span class=cm> * 테스트:
</span></span></span><span class=line><span class=cl><span class=cm> * $ curl http://localhost:8080/test
</span></span></span><span class=line><span class=cl><span class=cm> * Echo: GET /test HTTP/1.1
</span></span></span><span class=line><span class=cl><span class=cm> * NIO: true
</span></span></span><span class=line><span class=cl><span class=cm> * 
</span></span></span><span class=line><span class=cl><span class=cm> * 특징:
</span></span></span><span class=line><span class=cl><span class=cm> * 1. Selector = epoll/kqueue의 Java 추상화
</span></span></span><span class=line><span class=cl><span class=cm> * 2. 단일 스레드로 수천 개 연결 관리
</span></span></span><span class=line><span class=cl><span class=cm> * 3. ByteBuffer: 직접 메모리 접근 (효율적)
</span></span></span><span class=line><span class=cl><span class=cm> * 4. 이벤트 기반: ACCEPT, READ, WRITE 분리
</span></span></span><span class=line><span class=cl><span class=cm> * 
</span></span></span><span class=line><span class=cl><span class=cm> * 한계:
</span></span></span><span class=line><span class=cl><span class=cm> * - 코드 복잡도 높음 (상태 관리 어려움)
</span></span></span><span class=line><span class=cl><span class=cm> * - 요즘은 Netty, Spring WebFlux 같은 고수준 프레임워크 선호
</span></span></span><span class=line><span class=cl><span class=cm> */</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h3 id=56-주요-프레임워크라이브러리-비교>5.6 주요 프레임워크/라이브러리 비교<a hidden class=anchor aria-hidden=true href=#56-주요-프레임워크라이브러리-비교>#</a></h3><h4 id=python-생태계>Python 생태계<a hidden class=anchor aria-hidden=true href=#python-생태계>#</a></h4><table><thead><tr><th>프레임워크</th><th>타입</th><th>특징</th><th>사용 사례</th><th>학습 곡선</th></tr></thead><tbody><tr><td><strong>Flask</strong></td><td>Blocking (기본)</td><td>단순, 마이크로프레임워크, 동기 WSGI</td><td>소규모 API, 프로토타입</td><td>낮음</td></tr><tr><td><strong>Django</strong></td><td>Blocking (기본)</td><td>Full-stack, ORM, Admin, 동기</td><td>엔터프라이즈 웹 앱</td><td>중간</td></tr><tr><td><strong>FastAPI</strong> ⭐</td><td>Non-Blocking</td><td>async/await, 타입 힌트, 자동 문서, 빠름</td><td>현대 API, 마이크로서비스</td><td>중간</td></tr><tr><td><strong>aiohttp</strong></td><td>Non-Blocking</td><td>순수 asyncio, 클라이언트/서버 둘 다</td><td>비동기 HTTP 클라이언트/서버</td><td>중간</td></tr><tr><td><strong>Tornado</strong></td><td>Non-Blocking</td><td>오래된 비동기 프레임워크, WebSocket</td><td>실시간 서비스</td><td>중간</td></tr><tr><td><strong>Sanic</strong></td><td>Non-Blocking</td><td>Flask-like, 빠름, async/await</td><td>고성능 API</td><td>중간</td></tr></tbody></table><p><strong>추천</strong>:</p><ul><li>신규 프로젝트: <strong>FastAPI</strong> (현대적, 타입 안전, 성능 우수)</li><li>레거시 마이그레이션: Django Channels (비동기 레이어 추가)</li></ul><hr><h4 id=javascriptnodejs-생태계>JavaScript/Node.js 생태계<a hidden class=anchor aria-hidden=true href=#javascriptnodejs-생태계>#</a></h4><table><thead><tr><th>프레임워크</th><th>타입</th><th>특징</th><th>사용 사례</th><th>학습 곡선</th></tr></thead><tbody><tr><td><strong>Express</strong> ⭐</td><td>Non-Blocking (기본)</td><td>가장 인기, 미들웨어 풍부, async/await 지원</td><td>거의 모든 용도</td><td>낮음</td></tr><tr><td><strong>Fastify</strong></td><td>Non-Blocking</td><td>빠름, 스키마 기반, 플러그인 아키텍처</td><td>고성능 API</td><td>중간</td></tr><tr><td><strong>Koa</strong></td><td>Non-Blocking</td><td>Express 팀 제작, async/await 네이티브</td><td>현대적 API</td><td>중간</td></tr><tr><td><strong>NestJS</strong></td><td>Non-Blocking</td><td>TypeScript, DI, 모듈화, Angular-like</td><td>엔터프라이즈 백엔드</td><td>높음</td></tr><tr><td><strong>Hapi</strong></td><td>Non-Blocking</td><td>설정 기반, 플러그인, Walmart 제작</td><td>대규모 API</td><td>중간</td></tr></tbody></table><p><strong>추천</strong>:</p><ul><li>일반: <strong>Express</strong> (생태계 최대, 레퍼런스 많음)</li><li>성능 중시: <strong>Fastify</strong> (벤치마크 최상위)</li><li>타입스크립트: <strong>NestJS</strong> (구조화, DI)</li></ul><hr><h4 id=java-생태계>Java 생태계<a hidden class=anchor aria-hidden=true href=#java-생태계>#</a></h4><table><thead><tr><th>프레임워크</th><th>타입</th><th>특징</th><th>사용 사례</th><th>학습 곡선</th></tr></thead><tbody><tr><td><strong>Spring MVC</strong></td><td>Blocking</td><td>전통적 Servlet, Thread-per-request</td><td>레거시 엔터프라이즈</td><td>중간</td></tr><tr><td><strong>Spring WebFlux</strong> ⭐</td><td>Non-Blocking</td><td>Reactive Streams, Netty 기반, 비동기</td><td>현대 마이크로서비스</td><td>높음</td></tr><tr><td><strong>Netty</strong></td><td>Non-Blocking</td><td>저수준, 고성능, 이벤트 기반 NIO</td><td>게임 서버, 프록시</td><td>높음</td></tr><tr><td><strong>Vert.x</strong></td><td>Non-Blocking</td><td>폴리글랏, 이벤트 루프, Reactive</td><td>실시간, IoT</td><td>중간</td></tr><tr><td><strong>Quarkus</strong></td><td>혼합</td><td>Native 컴파일, 빠른 시작, Reactive 옵션</td><td>클라우드 네이티브, 서버리스</td><td>중간</td></tr></tbody></table><p><strong>추천</strong>:</p><ul><li>신규 Spring: <strong>Spring WebFlux</strong> (Reactive, 높은 동시성)</li><li>저수준 제어: <strong>Netty</strong> (성능 극한 최적화)</li></ul><hr><h3 id=57-설정-및-최적화-가이드>5.7 설정 및 최적화 가이드<a hidden class=anchor aria-hidden=true href=#57-설정-및-최적화-가이드>#</a></h3><h4 id=python-asyncio-최적화>Python Asyncio 최적화<a hidden class=anchor aria-hidden=true href=#python-asyncio-최적화>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-29-1><a class=lnlinks href=#hl-29-1> 1</a>
</span><span class=lnt id=hl-29-2><a class=lnlinks href=#hl-29-2> 2</a>
</span><span class=lnt id=hl-29-3><a class=lnlinks href=#hl-29-3> 3</a>
</span><span class=lnt id=hl-29-4><a class=lnlinks href=#hl-29-4> 4</a>
</span><span class=lnt id=hl-29-5><a class=lnlinks href=#hl-29-5> 5</a>
</span><span class=lnt id=hl-29-6><a class=lnlinks href=#hl-29-6> 6</a>
</span><span class=lnt id=hl-29-7><a class=lnlinks href=#hl-29-7> 7</a>
</span><span class=lnt id=hl-29-8><a class=lnlinks href=#hl-29-8> 8</a>
</span><span class=lnt id=hl-29-9><a class=lnlinks href=#hl-29-9> 9</a>
</span><span class=lnt id=hl-29-10><a class=lnlinks href=#hl-29-10>10</a>
</span><span class=lnt id=hl-29-11><a class=lnlinks href=#hl-29-11>11</a>
</span><span class=lnt id=hl-29-12><a class=lnlinks href=#hl-29-12>12</a>
</span><span class=lnt id=hl-29-13><a class=lnlinks href=#hl-29-13>13</a>
</span><span class=lnt id=hl-29-14><a class=lnlinks href=#hl-29-14>14</a>
</span><span class=lnt id=hl-29-15><a class=lnlinks href=#hl-29-15>15</a>
</span><span class=lnt id=hl-29-16><a class=lnlinks href=#hl-29-16>16</a>
</span><span class=lnt id=hl-29-17><a class=lnlinks href=#hl-29-17>17</a>
</span><span class=lnt id=hl-29-18><a class=lnlinks href=#hl-29-18>18</a>
</span><span class=lnt id=hl-29-19><a class=lnlinks href=#hl-29-19>19</a>
</span><span class=lnt id=hl-29-20><a class=lnlinks href=#hl-29-20>20</a>
</span><span class=lnt id=hl-29-21><a class=lnlinks href=#hl-29-21>21</a>
</span><span class=lnt id=hl-29-22><a class=lnlinks href=#hl-29-22>22</a>
</span><span class=lnt id=hl-29-23><a class=lnlinks href=#hl-29-23>23</a>
</span><span class=lnt id=hl-29-24><a class=lnlinks href=#hl-29-24>24</a>
</span><span class=lnt id=hl-29-25><a class=lnlinks href=#hl-29-25>25</a>
</span><span class=lnt id=hl-29-26><a class=lnlinks href=#hl-29-26>26</a>
</span><span class=lnt id=hl-29-27><a class=lnlinks href=#hl-29-27>27</a>
</span><span class=lnt id=hl-29-28><a class=lnlinks href=#hl-29-28>28</a>
</span><span class=lnt id=hl-29-29><a class=lnlinks href=#hl-29-29>29</a>
</span><span class=lnt id=hl-29-30><a class=lnlinks href=#hl-29-30>30</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>asyncio</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>uvloop</span>  <span class=c1># 고성능 이벤트 루프</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 1. uvloop 사용 (기본 asyncio보다 2~4배 빠름)</span>
</span></span><span class=line><span class=cl><span class=n>asyncio</span><span class=o>.</span><span class=n>set_event_loop_policy</span><span class=p>(</span><span class=n>uvloop</span><span class=o>.</span><span class=n>EventLoopPolicy</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2. 이벤트 루프 디버그 모드 (개발 환경)</span>
</span></span><span class=line><span class=cl><span class=c1># loop = asyncio.get_event_loop()</span>
</span></span><span class=line><span class=cl><span class=c1># loop.set_debug(True)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3. 동시 작업 제한 (세마포어)</span>
</span></span><span class=line><span class=cl><span class=n>semaphore</span> <span class=o>=</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>Semaphore</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span>  <span class=c1># 최대 100개 동시 작업</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>limited_task</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>async</span> <span class=k>with</span> <span class=n>semaphore</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>await</span> <span class=n>some_io_operation</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 4. 타임아웃 설정</span>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>result</span> <span class=o>=</span> <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>wait_for</span><span class=p>(</span><span class=n>slow_operation</span><span class=p>(),</span> <span class=n>timeout</span><span class=o>=</span><span class=mf>5.0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>TimeoutError</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;타임아웃!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 5. 예외 처리 (중요!)</span>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>safe_task</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>await</span> <span class=n>risky_operation</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>logging</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;에러: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>,</span> <span class=n>exc_info</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 이벤트 루프가 중단되지 않도록 예외 처리 필수!</span>
</span></span></code></pre></td></tr></table></div></div><hr><h4 id=nodejs-최적화>Node.js 최적화<a hidden class=anchor aria-hidden=true href=#nodejs-최적화>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-30-1><a class=lnlinks href=#hl-30-1> 1</a>
</span><span class=lnt id=hl-30-2><a class=lnlinks href=#hl-30-2> 2</a>
</span><span class=lnt id=hl-30-3><a class=lnlinks href=#hl-30-3> 3</a>
</span><span class=lnt id=hl-30-4><a class=lnlinks href=#hl-30-4> 4</a>
</span><span class=lnt id=hl-30-5><a class=lnlinks href=#hl-30-5> 5</a>
</span><span class=lnt id=hl-30-6><a class=lnlinks href=#hl-30-6> 6</a>
</span><span class=lnt id=hl-30-7><a class=lnlinks href=#hl-30-7> 7</a>
</span><span class=lnt id=hl-30-8><a class=lnlinks href=#hl-30-8> 8</a>
</span><span class=lnt id=hl-30-9><a class=lnlinks href=#hl-30-9> 9</a>
</span><span class=lnt id=hl-30-10><a class=lnlinks href=#hl-30-10>10</a>
</span><span class=lnt id=hl-30-11><a class=lnlinks href=#hl-30-11>11</a>
</span><span class=lnt id=hl-30-12><a class=lnlinks href=#hl-30-12>12</a>
</span><span class=lnt id=hl-30-13><a class=lnlinks href=#hl-30-13>13</a>
</span><span class=lnt id=hl-30-14><a class=lnlinks href=#hl-30-14>14</a>
</span><span class=lnt id=hl-30-15><a class=lnlinks href=#hl-30-15>15</a>
</span><span class=lnt id=hl-30-16><a class=lnlinks href=#hl-30-16>16</a>
</span><span class=lnt id=hl-30-17><a class=lnlinks href=#hl-30-17>17</a>
</span><span class=lnt id=hl-30-18><a class=lnlinks href=#hl-30-18>18</a>
</span><span class=lnt id=hl-30-19><a class=lnlinks href=#hl-30-19>19</a>
</span><span class=lnt id=hl-30-20><a class=lnlinks href=#hl-30-20>20</a>
</span><span class=lnt id=hl-30-21><a class=lnlinks href=#hl-30-21>21</a>
</span><span class=lnt id=hl-30-22><a class=lnlinks href=#hl-30-22>22</a>
</span><span class=lnt id=hl-30-23><a class=lnlinks href=#hl-30-23>23</a>
</span><span class=lnt id=hl-30-24><a class=lnlinks href=#hl-30-24>24</a>
</span><span class=lnt id=hl-30-25><a class=lnlinks href=#hl-30-25>25</a>
</span><span class=lnt id=hl-30-26><a class=lnlinks href=#hl-30-26>26</a>
</span><span class=lnt id=hl-30-27><a class=lnlinks href=#hl-30-27>27</a>
</span><span class=lnt id=hl-30-28><a class=lnlinks href=#hl-30-28>28</a>
</span><span class=lnt id=hl-30-29><a class=lnlinks href=#hl-30-29>29</a>
</span><span class=lnt id=hl-30-30><a class=lnlinks href=#hl-30-30>30</a>
</span><span class=lnt id=hl-30-31><a class=lnlinks href=#hl-30-31>31</a>
</span><span class=lnt id=hl-30-32><a class=lnlinks href=#hl-30-32>32</a>
</span><span class=lnt id=hl-30-33><a class=lnlinks href=#hl-30-33>33</a>
</span><span class=lnt id=hl-30-34><a class=lnlinks href=#hl-30-34>34</a>
</span><span class=lnt id=hl-30-35><a class=lnlinks href=#hl-30-35>35</a>
</span><span class=lnt id=hl-30-36><a class=lnlinks href=#hl-30-36>36</a>
</span><span class=lnt id=hl-30-37><a class=lnlinks href=#hl-30-37>37</a>
</span><span class=lnt id=hl-30-38><a class=lnlinks href=#hl-30-38>38</a>
</span><span class=lnt id=hl-30-39><a class=lnlinks href=#hl-30-39>39</a>
</span><span class=lnt id=hl-30-40><a class=lnlinks href=#hl-30-40>40</a>
</span><span class=lnt id=hl-30-41><a class=lnlinks href=#hl-30-41>41</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 1. 클러스터 모드 (멀티 코어 활용)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>cluster</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;cluster&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>numCPUs</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;os&#39;</span><span class=p>).</span><span class=nx>cpus</span><span class=p>().</span><span class=nx>length</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=nx>cluster</span><span class=p>.</span><span class=nx>isMaster</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 워커 프로세스 생성 (코어 수만큼)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>numCPUs</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>cluster</span><span class=p>.</span><span class=nx>fork</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 워커: HTTP 서버 실행
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>startServer</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 2. 이벤트 루프 모니터링
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=p>{</span> <span class=nx>performance</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;perf_hooks&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>setInterval</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>start</span> <span class=o>=</span> <span class=nx>performance</span><span class=p>.</span><span class=nx>now</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=nx>setImmediate</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>lag</span> <span class=o>=</span> <span class=nx>performance</span><span class=p>.</span><span class=nx>now</span><span class=p>()</span> <span class=o>-</span> <span class=nx>start</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>lag</span> <span class=o>&gt;</span> <span class=mi>100</span><span class=p>)</span> <span class=p>{</span>  <span class=c1>// 100ms 이상 지연
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nx>console</span><span class=p>.</span><span class=nx>warn</span><span class=p>(</span><span class=sb>`이벤트 루프 지연: </span><span class=si>${</span><span class=nx>lag</span><span class=si>}</span><span class=sb>ms`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=mi>5000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 3. 워커 스레드 풀 크기 조정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>process</span><span class=p>.</span><span class=nx>env</span><span class=p>.</span><span class=nx>UV_THREADPOOL_SIZE</span> <span class=o>=</span> <span class=mi>8</span><span class=p>;</span>  <span class=c1>// 기본 4 → 8
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 4. Keep-Alive 활성화
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>http</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;http&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>agent</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>http</span><span class=p>.</span><span class=nx>Agent</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>keepAlive</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>maxSockets</span><span class=o>:</span> <span class=mi>50</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 5. 메모리 누수 방지
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>process</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;warning&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>warning</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>warn</span><span class=p>(</span><span class=nx>warning</span><span class=p>.</span><span class=nx>name</span><span class=p>,</span> <span class=nx>warning</span><span class=p>.</span><span class=nx>message</span><span class=p>,</span> <span class=nx>warning</span><span class=p>.</span><span class=nx>stack</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><hr><h4 id=java-nio-최적화>Java NIO 최적화<a hidden class=anchor aria-hidden=true href=#java-nio-최적화>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-31-1><a class=lnlinks href=#hl-31-1> 1</a>
</span><span class=lnt id=hl-31-2><a class=lnlinks href=#hl-31-2> 2</a>
</span><span class=lnt id=hl-31-3><a class=lnlinks href=#hl-31-3> 3</a>
</span><span class=lnt id=hl-31-4><a class=lnlinks href=#hl-31-4> 4</a>
</span><span class=lnt id=hl-31-5><a class=lnlinks href=#hl-31-5> 5</a>
</span><span class=lnt id=hl-31-6><a class=lnlinks href=#hl-31-6> 6</a>
</span><span class=lnt id=hl-31-7><a class=lnlinks href=#hl-31-7> 7</a>
</span><span class=lnt id=hl-31-8><a class=lnlinks href=#hl-31-8> 8</a>
</span><span class=lnt id=hl-31-9><a class=lnlinks href=#hl-31-9> 9</a>
</span><span class=lnt id=hl-31-10><a class=lnlinks href=#hl-31-10>10</a>
</span><span class=lnt id=hl-31-11><a class=lnlinks href=#hl-31-11>11</a>
</span><span class=lnt id=hl-31-12><a class=lnlinks href=#hl-31-12>12</a>
</span><span class=lnt id=hl-31-13><a class=lnlinks href=#hl-31-13>13</a>
</span><span class=lnt id=hl-31-14><a class=lnlinks href=#hl-31-14>14</a>
</span><span class=lnt id=hl-31-15><a class=lnlinks href=#hl-31-15>15</a>
</span><span class=lnt id=hl-31-16><a class=lnlinks href=#hl-31-16>16</a>
</span><span class=lnt id=hl-31-17><a class=lnlinks href=#hl-31-17>17</a>
</span><span class=lnt id=hl-31-18><a class=lnlinks href=#hl-31-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// 1. ByteBuffer 재사용 (풀링)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>ThreadLocal</span><span class=o>&lt;</span><span class=n>ByteBuffer</span><span class=o>&gt;</span><span class=w> </span><span class=n>BUFFER_POOL</span><span class=w> </span><span class=o>=</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>ThreadLocal</span><span class=p>.</span><span class=na>withInitial</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>ByteBuffer</span><span class=p>.</span><span class=na>allocateDirect</span><span class=p>(</span><span class=n>8192</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 2. Selector 타임아웃 설정</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>selector</span><span class=p>.</span><span class=na>select</span><span class=p>(</span><span class=n>1000</span><span class=p>);</span><span class=w>  </span><span class=c1>// 1초 타임아웃</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 3. 다중 Selector (멀티 스레드)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kt>int</span><span class=w> </span><span class=n>numThreads</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Runtime</span><span class=p>.</span><span class=na>getRuntime</span><span class=p>().</span><span class=na>availableProcessors</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>ExecutorService</span><span class=w> </span><span class=n>executor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Executors</span><span class=p>.</span><span class=na>newFixedThreadPool</span><span class=p>(</span><span class=n>numThreads</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 4. TCP 옵션 최적화</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>serverChannel</span><span class=p>.</span><span class=na>setOption</span><span class=p>(</span><span class=n>StandardSocketOptions</span><span class=p>.</span><span class=na>SO_REUSEADDR</span><span class=p>,</span><span class=w> </span><span class=kc>true</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>serverChannel</span><span class=p>.</span><span class=na>setOption</span><span class=p>(</span><span class=n>StandardSocketOptions</span><span class=p>.</span><span class=na>SO_RCVBUF</span><span class=p>,</span><span class=w> </span><span class=n>256</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>1024</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 5. Direct ByteBuffer (Off-heap)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>ByteBuffer</span><span class=w> </span><span class=n>buffer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ByteBuffer</span><span class=p>.</span><span class=na>allocateDirect</span><span class=p>(</span><span class=n>8192</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// GC 부담 감소, JNI 호출 효율</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h3 id=검증-대기-목록-3>검증 대기 목록<a hidden class=anchor aria-hidden=true href=#검증-대기-목록-3>#</a></h3><table><thead><tr><th>항목</th><th>부족 근거/의문</th><th>예상 1 차 출처</th><th>교차 검증 후보</th><th>담당</th><th>마감</th></tr></thead><tbody><tr><td>uvloop 성능 개선 수치</td><td>공식 벤치마크 최신 데이터 필요</td><td>uvloop GitHub</td><td>실측 벤치마크</td><td>-</td><td>2025-10-15</td></tr><tr><td>Node.js 워커 스레드 상세</td><td>워커 스레드 vs 클러스터 차이 명확화</td><td>Node.js 공식 문서</td><td>블로그 비교 글</td><td>-</td><td>2025-10-20</td></tr><tr><td>Java NIO Direct Buffer 장단점</td><td>Off-heap 메모리 관리 이슈 확인</td><td>Java Performance 책</td><td>JVM 프로파일링</td><td>-</td><td>2025-10-25</td></tr></tbody></table><hr><h2 id=phase-5-완료-체크>Phase 5 완료 체크<a hidden class=anchor aria-hidden=true href=#phase-5-완료-체크>#</a></h2><p>✅ <strong>완료 항목</strong>:</p><ul><li>구현 필요성 판단</li><li>대상별 구현/도구 비교표</li><li>Python 구현 예시 (Blocking + Non-Blocking, 각 150 줄 이내)</li><li>Node.js 구현 예시 (Non-Blocking, 주석 포함)</li><li>Java NIO 구현 예시 (Non-Blocking, Selector 패턴)</li><li>주요 프레임워크/라이브러리 비교 (Python, JS, Java)</li><li>설정 및 최적화 가이드</li></ul><p><strong>Phase 5 완료 상태</strong>: ✅<br><strong>다음 단계</strong>: Phase 6 (실무 적용) 진행 준비 완료</p><hr><p>좋습니다! <strong>Phase 6: 실무 적용</strong>을 진행하겠습니다.</p><hr><h2 id=phase-6-실무-적용-운영자아키텍트>Phase 6: 실무 적용 (운영자/아키텍트)<a hidden class=anchor aria-hidden=true href=#phase-6-실무-적용-운영자아키텍트>#</a></h2><h3 id=작성-계획-4>작성 계획<a hidden class=anchor aria-hidden=true href=#작성-계획-4>#</a></h3><p><strong>핵심 질문</strong>:</p><ol><li>실무에서 가장 자주 마주치는 시나리오는?</li><li>운영 중 어떻게 모니터링하고 문제를 해결하는가?</li><li>다른 시스템과 통합 시 주의사항은?</li></ol><p><strong>데이터 소스/근거</strong>:</p><ul><li>Phase 0 실무 시나리오 TOP 3</li><li>실제 프로덕션 장애 사례</li><li>업계 베스트 프랙티스</li></ul><p><strong>작성 범위</strong>:</p><ul><li><strong>필수</strong>: TOP 3 시나리오 상세, 모니터링, 트러블슈팅</li><li><strong>권장</strong>: 체크리스트, 의사결정 플로우</li><li><strong>생략</strong>: 극단적 엣지 케이스</li></ul><p><strong>결과물</strong>:</p><ul><li>시나리오별 구현 가이드</li><li>모니터링 메트릭 및 임계값</li><li>트러블슈팅 플레이북</li><li>통합 패턴 및 안티패턴</li></ul><hr><h3 id=61-실무-시나리오-top-3>6.1 실무 시나리오 TOP 3<a hidden class=anchor aria-hidden=true href=#61-실무-시나리오-top-3>#</a></h3><h4 id=시나리오-1-웹-서버-io-모델-선택-최다-빈도>시나리오 1: 웹 서버 I/O 모델 선택 (최다 빈도)<a hidden class=anchor aria-hidden=true href=#시나리오-1-웹-서버-io-모델-선택-최다-빈도>#</a></h4><p><strong>상황</strong>:<br>회사에서 신규 REST API 서버를 구축해야 한다. 예상 동시 사용자는 초기 1,000 명, 향후 10,000 명 이상으로 증가할 예정이다. 서버는 주로 데이터베이스 조회와 외부 API 호출을 수행한다.</p><p><strong>요구사항</strong>:</p><ul><li>평균 응답 시간 &lt; 200ms</li><li>p95 응답 시간 &lt; 500ms</li><li>가용성 99.9% 이상</li><li>클라우드 비용 최소화</li></ul><hr><p><strong>의사결정 프로세스</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-32-1><a class=lnlinks href=#hl-32-1> 1</a>
</span><span class=lnt id=hl-32-2><a class=lnlinks href=#hl-32-2> 2</a>
</span><span class=lnt id=hl-32-3><a class=lnlinks href=#hl-32-3> 3</a>
</span><span class=lnt id=hl-32-4><a class=lnlinks href=#hl-32-4> 4</a>
</span><span class=lnt id=hl-32-5><a class=lnlinks href=#hl-32-5> 5</a>
</span><span class=lnt id=hl-32-6><a class=lnlinks href=#hl-32-6> 6</a>
</span><span class=lnt id=hl-32-7><a class=lnlinks href=#hl-32-7> 7</a>
</span><span class=lnt id=hl-32-8><a class=lnlinks href=#hl-32-8> 8</a>
</span><span class=lnt id=hl-32-9><a class=lnlinks href=#hl-32-9> 9</a>
</span><span class=lnt id=hl-32-10><a class=lnlinks href=#hl-32-10>10</a>
</span><span class=lnt id=hl-32-11><a class=lnlinks href=#hl-32-11>11</a>
</span><span class=lnt id=hl-32-12><a class=lnlinks href=#hl-32-12>12</a>
</span><span class=lnt id=hl-32-13><a class=lnlinks href=#hl-32-13>13</a>
</span><span class=lnt id=hl-32-14><a class=lnlinks href=#hl-32-14>14</a>
</span><span class=lnt id=hl-32-15><a class=lnlinks href=#hl-32-15>15</a>
</span><span class=lnt id=hl-32-16><a class=lnlinks href=#hl-32-16>16</a>
</span><span class=lnt id=hl-32-17><a class=lnlinks href=#hl-32-17>17</a>
</span><span class=lnt id=hl-32-18><a class=lnlinks href=#hl-32-18>18</a>
</span><span class=lnt id=hl-32-19><a class=lnlinks href=#hl-32-19>19</a>
</span><span class=lnt id=hl-32-20><a class=lnlinks href=#hl-32-20>20</a>
</span><span class=lnt id=hl-32-21><a class=lnlinks href=#hl-32-21>21</a>
</span><span class=lnt id=hl-32-22><a class=lnlinks href=#hl-32-22>22</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[1단계] 워크로드 분석
</span></span><span class=line><span class=cl>│
</span></span><span class=line><span class=cl>├─ I/O 대기 시간: 평균 100ms (DB 쿼리 50ms + 외부 API 50ms)
</span></span><span class=line><span class=cl>├─ CPU 처리 시간: 평균 10ms
</span></span><span class=line><span class=cl>├─ I/O bound 판정 ✓
</span></span><span class=line><span class=cl>│
</span></span><span class=line><span class=cl>[2단계] 동시성 요구사항
</span></span><span class=line><span class=cl>│
</span></span><span class=line><span class=cl>├─ 현재: 1,000명 → Blocking도 가능
</span></span><span class=line><span class=cl>├─ 향후: 10,000명+ → Non-Blocking 필수
</span></span><span class=line><span class=cl>└─ 결론: 처음부터 Non-Blocking으로 구축 권장
</span></span><span class=line><span class=cl>│
</span></span><span class=line><span class=cl>[3단계] 팀 역량 평가
</span></span><span class=line><span class=cl>│
</span></span><span class=line><span class=cl>├─ Python 경험: 3년
</span></span><span class=line><span class=cl>├─ 비동기 경험: 1년 (중급)
</span></span><span class=line><span class=cl>├─ 인프라: Kubernetes 운영 중
</span></span><span class=line><span class=cl>└─ 결론: FastAPI (Python asyncio) 적합
</span></span><span class=line><span class=cl>│
</span></span><span class=line><span class=cl>[4단계] 아키텍처 설계
</span></span><span class=line><span class=cl>│
</span></span><span class=line><span class=cl>└─ 선택: Non-Blocking (FastAPI + async DB driver)
</span></span></code></pre></td></tr></table></div></div><hr><p><strong>구현 가이드</strong>:</p><p><strong>A. 기술 스택 선정</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-33-1><a class=lnlinks href=#hl-33-1>1</a>
</span><span class=lnt id=hl-33-2><a class=lnlinks href=#hl-33-2>2</a>
</span><span class=lnt id=hl-33-3><a class=lnlinks href=#hl-33-3>3</a>
</span><span class=lnt id=hl-33-4><a class=lnlinks href=#hl-33-4>4</a>
</span><span class=lnt id=hl-33-5><a class=lnlinks href=#hl-33-5>5</a>
</span><span class=lnt id=hl-33-6><a class=lnlinks href=#hl-33-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>언어/프레임워크</span><span class=p>:</span><span class=w> </span><span class=l>Python 3.11 + FastAPI 0.104</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>웹 서버</span><span class=p>:</span><span class=w> </span><span class=l>Uvicorn (ASGI)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>데이터베이스</span><span class=p>:</span><span class=w> </span><span class=l>PostgreSQL + asyncpg (비동기 드라이버)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>외부 API</span><span class=p>:</span><span class=w> </span><span class=l>aiohttp (비동기 HTTP 클라이언트)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>캐싱</span><span class=p>:</span><span class=w> </span><span class=l>Redis + aioredis</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>배포</span><span class=p>:</span><span class=w> </span><span class=l>Docker + Kubernetes</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><p><strong>B. 샘플 구현</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-34-1><a class=lnlinks href=#hl-34-1>  1</a>
</span><span class=lnt id=hl-34-2><a class=lnlinks href=#hl-34-2>  2</a>
</span><span class=lnt id=hl-34-3><a class=lnlinks href=#hl-34-3>  3</a>
</span><span class=lnt id=hl-34-4><a class=lnlinks href=#hl-34-4>  4</a>
</span><span class=lnt id=hl-34-5><a class=lnlinks href=#hl-34-5>  5</a>
</span><span class=lnt id=hl-34-6><a class=lnlinks href=#hl-34-6>  6</a>
</span><span class=lnt id=hl-34-7><a class=lnlinks href=#hl-34-7>  7</a>
</span><span class=lnt id=hl-34-8><a class=lnlinks href=#hl-34-8>  8</a>
</span><span class=lnt id=hl-34-9><a class=lnlinks href=#hl-34-9>  9</a>
</span><span class=lnt id=hl-34-10><a class=lnlinks href=#hl-34-10> 10</a>
</span><span class=lnt id=hl-34-11><a class=lnlinks href=#hl-34-11> 11</a>
</span><span class=lnt id=hl-34-12><a class=lnlinks href=#hl-34-12> 12</a>
</span><span class=lnt id=hl-34-13><a class=lnlinks href=#hl-34-13> 13</a>
</span><span class=lnt id=hl-34-14><a class=lnlinks href=#hl-34-14> 14</a>
</span><span class=lnt id=hl-34-15><a class=lnlinks href=#hl-34-15> 15</a>
</span><span class=lnt id=hl-34-16><a class=lnlinks href=#hl-34-16> 16</a>
</span><span class=lnt id=hl-34-17><a class=lnlinks href=#hl-34-17> 17</a>
</span><span class=lnt id=hl-34-18><a class=lnlinks href=#hl-34-18> 18</a>
</span><span class=lnt id=hl-34-19><a class=lnlinks href=#hl-34-19> 19</a>
</span><span class=lnt id=hl-34-20><a class=lnlinks href=#hl-34-20> 20</a>
</span><span class=lnt id=hl-34-21><a class=lnlinks href=#hl-34-21> 21</a>
</span><span class=lnt id=hl-34-22><a class=lnlinks href=#hl-34-22> 22</a>
</span><span class=lnt id=hl-34-23><a class=lnlinks href=#hl-34-23> 23</a>
</span><span class=lnt id=hl-34-24><a class=lnlinks href=#hl-34-24> 24</a>
</span><span class=lnt id=hl-34-25><a class=lnlinks href=#hl-34-25> 25</a>
</span><span class=lnt id=hl-34-26><a class=lnlinks href=#hl-34-26> 26</a>
</span><span class=lnt id=hl-34-27><a class=lnlinks href=#hl-34-27> 27</a>
</span><span class=lnt id=hl-34-28><a class=lnlinks href=#hl-34-28> 28</a>
</span><span class=lnt id=hl-34-29><a class=lnlinks href=#hl-34-29> 29</a>
</span><span class=lnt id=hl-34-30><a class=lnlinks href=#hl-34-30> 30</a>
</span><span class=lnt id=hl-34-31><a class=lnlinks href=#hl-34-31> 31</a>
</span><span class=lnt id=hl-34-32><a class=lnlinks href=#hl-34-32> 32</a>
</span><span class=lnt id=hl-34-33><a class=lnlinks href=#hl-34-33> 33</a>
</span><span class=lnt id=hl-34-34><a class=lnlinks href=#hl-34-34> 34</a>
</span><span class=lnt id=hl-34-35><a class=lnlinks href=#hl-34-35> 35</a>
</span><span class=lnt id=hl-34-36><a class=lnlinks href=#hl-34-36> 36</a>
</span><span class=lnt id=hl-34-37><a class=lnlinks href=#hl-34-37> 37</a>
</span><span class=lnt id=hl-34-38><a class=lnlinks href=#hl-34-38> 38</a>
</span><span class=lnt id=hl-34-39><a class=lnlinks href=#hl-34-39> 39</a>
</span><span class=lnt id=hl-34-40><a class=lnlinks href=#hl-34-40> 40</a>
</span><span class=lnt id=hl-34-41><a class=lnlinks href=#hl-34-41> 41</a>
</span><span class=lnt id=hl-34-42><a class=lnlinks href=#hl-34-42> 42</a>
</span><span class=lnt id=hl-34-43><a class=lnlinks href=#hl-34-43> 43</a>
</span><span class=lnt id=hl-34-44><a class=lnlinks href=#hl-34-44> 44</a>
</span><span class=lnt id=hl-34-45><a class=lnlinks href=#hl-34-45> 45</a>
</span><span class=lnt id=hl-34-46><a class=lnlinks href=#hl-34-46> 46</a>
</span><span class=lnt id=hl-34-47><a class=lnlinks href=#hl-34-47> 47</a>
</span><span class=lnt id=hl-34-48><a class=lnlinks href=#hl-34-48> 48</a>
</span><span class=lnt id=hl-34-49><a class=lnlinks href=#hl-34-49> 49</a>
</span><span class=lnt id=hl-34-50><a class=lnlinks href=#hl-34-50> 50</a>
</span><span class=lnt id=hl-34-51><a class=lnlinks href=#hl-34-51> 51</a>
</span><span class=lnt id=hl-34-52><a class=lnlinks href=#hl-34-52> 52</a>
</span><span class=lnt id=hl-34-53><a class=lnlinks href=#hl-34-53> 53</a>
</span><span class=lnt id=hl-34-54><a class=lnlinks href=#hl-34-54> 54</a>
</span><span class=lnt id=hl-34-55><a class=lnlinks href=#hl-34-55> 55</a>
</span><span class=lnt id=hl-34-56><a class=lnlinks href=#hl-34-56> 56</a>
</span><span class=lnt id=hl-34-57><a class=lnlinks href=#hl-34-57> 57</a>
</span><span class=lnt id=hl-34-58><a class=lnlinks href=#hl-34-58> 58</a>
</span><span class=lnt id=hl-34-59><a class=lnlinks href=#hl-34-59> 59</a>
</span><span class=lnt id=hl-34-60><a class=lnlinks href=#hl-34-60> 60</a>
</span><span class=lnt id=hl-34-61><a class=lnlinks href=#hl-34-61> 61</a>
</span><span class=lnt id=hl-34-62><a class=lnlinks href=#hl-34-62> 62</a>
</span><span class=lnt id=hl-34-63><a class=lnlinks href=#hl-34-63> 63</a>
</span><span class=lnt id=hl-34-64><a class=lnlinks href=#hl-34-64> 64</a>
</span><span class=lnt id=hl-34-65><a class=lnlinks href=#hl-34-65> 65</a>
</span><span class=lnt id=hl-34-66><a class=lnlinks href=#hl-34-66> 66</a>
</span><span class=lnt id=hl-34-67><a class=lnlinks href=#hl-34-67> 67</a>
</span><span class=lnt id=hl-34-68><a class=lnlinks href=#hl-34-68> 68</a>
</span><span class=lnt id=hl-34-69><a class=lnlinks href=#hl-34-69> 69</a>
</span><span class=lnt id=hl-34-70><a class=lnlinks href=#hl-34-70> 70</a>
</span><span class=lnt id=hl-34-71><a class=lnlinks href=#hl-34-71> 71</a>
</span><span class=lnt id=hl-34-72><a class=lnlinks href=#hl-34-72> 72</a>
</span><span class=lnt id=hl-34-73><a class=lnlinks href=#hl-34-73> 73</a>
</span><span class=lnt id=hl-34-74><a class=lnlinks href=#hl-34-74> 74</a>
</span><span class=lnt id=hl-34-75><a class=lnlinks href=#hl-34-75> 75</a>
</span><span class=lnt id=hl-34-76><a class=lnlinks href=#hl-34-76> 76</a>
</span><span class=lnt id=hl-34-77><a class=lnlinks href=#hl-34-77> 77</a>
</span><span class=lnt id=hl-34-78><a class=lnlinks href=#hl-34-78> 78</a>
</span><span class=lnt id=hl-34-79><a class=lnlinks href=#hl-34-79> 79</a>
</span><span class=lnt id=hl-34-80><a class=lnlinks href=#hl-34-80> 80</a>
</span><span class=lnt id=hl-34-81><a class=lnlinks href=#hl-34-81> 81</a>
</span><span class=lnt id=hl-34-82><a class=lnlinks href=#hl-34-82> 82</a>
</span><span class=lnt id=hl-34-83><a class=lnlinks href=#hl-34-83> 83</a>
</span><span class=lnt id=hl-34-84><a class=lnlinks href=#hl-34-84> 84</a>
</span><span class=lnt id=hl-34-85><a class=lnlinks href=#hl-34-85> 85</a>
</span><span class=lnt id=hl-34-86><a class=lnlinks href=#hl-34-86> 86</a>
</span><span class=lnt id=hl-34-87><a class=lnlinks href=#hl-34-87> 87</a>
</span><span class=lnt id=hl-34-88><a class=lnlinks href=#hl-34-88> 88</a>
</span><span class=lnt id=hl-34-89><a class=lnlinks href=#hl-34-89> 89</a>
</span><span class=lnt id=hl-34-90><a class=lnlinks href=#hl-34-90> 90</a>
</span><span class=lnt id=hl-34-91><a class=lnlinks href=#hl-34-91> 91</a>
</span><span class=lnt id=hl-34-92><a class=lnlinks href=#hl-34-92> 92</a>
</span><span class=lnt id=hl-34-93><a class=lnlinks href=#hl-34-93> 93</a>
</span><span class=lnt id=hl-34-94><a class=lnlinks href=#hl-34-94> 94</a>
</span><span class=lnt id=hl-34-95><a class=lnlinks href=#hl-34-95> 95</a>
</span><span class=lnt id=hl-34-96><a class=lnlinks href=#hl-34-96> 96</a>
</span><span class=lnt id=hl-34-97><a class=lnlinks href=#hl-34-97> 97</a>
</span><span class=lnt id=hl-34-98><a class=lnlinks href=#hl-34-98> 98</a>
</span><span class=lnt id=hl-34-99><a class=lnlinks href=#hl-34-99> 99</a>
</span><span class=lnt id=hl-34-100><a class=lnlinks href=#hl-34-100>100</a>
</span><span class=lnt id=hl-34-101><a class=lnlinks href=#hl-34-101>101</a>
</span><span class=lnt id=hl-34-102><a class=lnlinks href=#hl-34-102>102</a>
</span><span class=lnt id=hl-34-103><a class=lnlinks href=#hl-34-103>103</a>
</span><span class=lnt id=hl-34-104><a class=lnlinks href=#hl-34-104>104</a>
</span><span class=lnt id=hl-34-105><a class=lnlinks href=#hl-34-105>105</a>
</span><span class=lnt id=hl-34-106><a class=lnlinks href=#hl-34-106>106</a>
</span><span class=lnt id=hl-34-107><a class=lnlinks href=#hl-34-107>107</a>
</span><span class=lnt id=hl-34-108><a class=lnlinks href=#hl-34-108>108</a>
</span><span class=lnt id=hl-34-109><a class=lnlinks href=#hl-34-109>109</a>
</span><span class=lnt id=hl-34-110><a class=lnlinks href=#hl-34-110>110</a>
</span><span class=lnt id=hl-34-111><a class=lnlinks href=#hl-34-111>111</a>
</span><span class=lnt id=hl-34-112><a class=lnlinks href=#hl-34-112>112</a>
</span><span class=lnt id=hl-34-113><a class=lnlinks href=#hl-34-113>113</a>
</span><span class=lnt id=hl-34-114><a class=lnlinks href=#hl-34-114>114</a>
</span><span class=lnt id=hl-34-115><a class=lnlinks href=#hl-34-115>115</a>
</span><span class=lnt id=hl-34-116><a class=lnlinks href=#hl-34-116>116</a>
</span><span class=lnt id=hl-34-117><a class=lnlinks href=#hl-34-117>117</a>
</span><span class=lnt id=hl-34-118><a class=lnlinks href=#hl-34-118>118</a>
</span><span class=lnt id=hl-34-119><a class=lnlinks href=#hl-34-119>119</a>
</span><span class=lnt id=hl-34-120><a class=lnlinks href=#hl-34-120>120</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># main.py - FastAPI 비동기 웹 서버</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>fastapi</span> <span class=kn>import</span> <span class=n>FastAPI</span><span class=p>,</span> <span class=n>HTTPException</span><span class=p>,</span> <span class=n>Depends</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Optional</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>asyncpg</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>aiohttp</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>asyncio</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>contextlib</span> <span class=kn>import</span> <span class=n>asynccontextmanager</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 전역 상태</span>
</span></span><span class=line><span class=cl><span class=n>db_pool</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>asyncpg</span><span class=o>.</span><span class=n>Pool</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl><span class=n>http_session</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>aiohttp</span><span class=o>.</span><span class=n>ClientSession</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 라이프사이클 관리</span>
</span></span><span class=line><span class=cl><span class=nd>@asynccontextmanager</span>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>lifespan</span><span class=p>(</span><span class=n>app</span><span class=p>:</span> <span class=n>FastAPI</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;애플리케이션 시작/종료 시 리소스 관리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>global</span> <span class=n>db_pool</span><span class=p>,</span> <span class=n>http_session</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 시작: 커넥션 풀 생성</span>
</span></span><span class=line><span class=cl>    <span class=n>db_pool</span> <span class=o>=</span> <span class=k>await</span> <span class=n>asyncpg</span><span class=o>.</span><span class=n>create_pool</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>host</span><span class=o>=</span><span class=s1>&#39;postgres.example.com&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>database</span><span class=o>=</span><span class=s1>&#39;mydb&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>user</span><span class=o>=</span><span class=s1>&#39;api_user&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>password</span><span class=o>=</span><span class=s1>&#39;secret&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>min_size</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span>      <span class=c1># 최소 커넥션 수</span>
</span></span><span class=line><span class=cl>        <span class=n>max_size</span><span class=o>=</span><span class=mi>50</span><span class=p>,</span>      <span class=c1># 최대 커넥션 수 (동시 요청에 따라 조정)</span>
</span></span><span class=line><span class=cl>        <span class=n>max_inactive_connection_lifetime</span><span class=o>=</span><span class=mi>300</span>  <span class=c1># 5분</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># HTTP 세션 생성 (커넥션 재사용)</span>
</span></span><span class=line><span class=cl>    <span class=n>http_session</span> <span class=o>=</span> <span class=n>aiohttp</span><span class=o>.</span><span class=n>ClientSession</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>connector</span><span class=o>=</span><span class=n>aiohttp</span><span class=o>.</span><span class=n>TCPConnector</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>limit</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span>    <span class=c1># 최대 동시 연결</span>
</span></span><span class=line><span class=cl>            <span class=n>limit_per_host</span><span class=o>=</span><span class=mi>30</span>
</span></span><span class=line><span class=cl>        <span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=n>timeout</span><span class=o>=</span><span class=n>aiohttp</span><span class=o>.</span><span class=n>ClientTimeout</span><span class=p>(</span><span class=n>total</span><span class=o>=</span><span class=mi>5</span><span class=p>)</span>  <span class=c1># 5초 타임아웃</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;리소스 초기화 완료&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>yield</span>  <span class=c1># 애플리케이션 실행</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 종료: 리소스 정리</span>
</span></span><span class=line><span class=cl>    <span class=k>await</span> <span class=n>db_pool</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>await</span> <span class=n>http_session</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;리소스 정리 완료&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># FastAPI 앱 생성</span>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>FastAPI</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>title</span><span class=o>=</span><span class=s2>&#34;Non-Blocking API Server&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>lifespan</span><span class=o>=</span><span class=n>lifespan</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 헬스체크 엔드포인트</span>
</span></span><span class=line><span class=cl><span class=nd>@app.get</span><span class=p>(</span><span class=s2>&#34;/health&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>health_check</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;헬스체크 (로드 밸런서용)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;healthy&#34;</span><span class=p>,</span> <span class=s2>&#34;io_model&#34;</span><span class=p>:</span> <span class=s2>&#34;non-blocking&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 비즈니스 로직 엔드포인트</span>
</span></span><span class=line><span class=cl><span class=nd>@app.get</span><span class=p>(</span><span class=s2>&#34;/api/users/</span><span class=si>{user_id}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>get_user</span><span class=p>(</span><span class=n>user_id</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    사용자 정보 조회
</span></span></span><span class=line><span class=cl><span class=s2>    - DB 쿼리 (비동기)
</span></span></span><span class=line><span class=cl><span class=s2>    - 외부 API 호출 (비동기)
</span></span></span><span class=line><span class=cl><span class=s2>    - 두 작업을 병렬로 실행
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 두 작업을 동시에 실행 (Non-Blocking의 장점!)</span>
</span></span><span class=line><span class=cl>        <span class=n>user_data</span><span class=p>,</span> <span class=n>external_data</span> <span class=o>=</span> <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>gather</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>fetch_user_from_db</span><span class=p>(</span><span class=n>user_id</span><span class=p>),</span>      <span class=c1># DB 쿼리</span>
</span></span><span class=line><span class=cl>            <span class=n>fetch_external_data</span><span class=p>(</span><span class=n>user_id</span><span class=p>),</span>      <span class=c1># 외부 API</span>
</span></span><span class=line><span class=cl>            <span class=n>return_exceptions</span><span class=o>=</span><span class=kc>True</span>             <span class=c1># 한 쪽 실패해도 계속 진행</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 에러 처리</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>user_data</span><span class=p>,</span> <span class=ne>Exception</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=n>HTTPException</span><span class=p>(</span><span class=n>status_code</span><span class=o>=</span><span class=mi>500</span><span class=p>,</span> <span class=n>detail</span><span class=o>=</span><span class=s2>&#34;DB 조회 실패&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>external_data</span><span class=p>,</span> <span class=ne>Exception</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=c1># 외부 API 실패는 부분 성공 처리</span>
</span></span><span class=line><span class=cl>            <span class=n>external_data</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;unavailable&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;user&#34;</span><span class=p>:</span> <span class=n>user_data</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;external&#34;</span><span class=p>:</span> <span class=n>external_data</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=n>HTTPException</span><span class=p>(</span><span class=n>status_code</span><span class=o>=</span><span class=mi>500</span><span class=p>,</span> <span class=n>detail</span><span class=o>=</span><span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>fetch_user_from_db</span><span class=p>(</span><span class=n>user_id</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;DB에서 사용자 조회 (비동기)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>async</span> <span class=k>with</span> <span class=n>db_pool</span><span class=o>.</span><span class=n>acquire</span><span class=p>()</span> <span class=k>as</span> <span class=n>conn</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 비동기 쿼리 실행 (다른 요청도 동시 처리됨)</span>
</span></span><span class=line><span class=cl>        <span class=n>row</span> <span class=o>=</span> <span class=k>await</span> <span class=n>conn</span><span class=o>.</span><span class=n>fetchrow</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;SELECT id, name, email FROM users WHERE id = $1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>user_id</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>row</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=n>HTTPException</span><span class=p>(</span><span class=n>status_code</span><span class=o>=</span><span class=mi>404</span><span class=p>,</span> <span class=n>detail</span><span class=o>=</span><span class=s2>&#34;사용자 없음&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>dict</span><span class=p>(</span><span class=n>row</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>fetch_external_data</span><span class=p>(</span><span class=n>user_id</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;외부 API 호출 (비동기)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>url</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;https://api.example.com/users/</span><span class=si>{</span><span class=n>user_id</span><span class=si>}</span><span class=s2>/profile&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 비동기 HTTP 요청 (다른 요청도 동시 처리됨)</span>
</span></span><span class=line><span class=cl>    <span class=k>async</span> <span class=k>with</span> <span class=n>http_session</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>url</span><span class=p>)</span> <span class=k>as</span> <span class=n>response</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>response</span><span class=o>.</span><span class=n>status</span> <span class=o>==</span> <span class=mi>200</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=k>await</span> <span class=n>response</span><span class=o>.</span><span class=n>json</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=ne>Exception</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;외부 API 에러: </span><span class=si>{</span><span class=n>response</span><span class=o>.</span><span class=n>status</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 실행</span>
</span></span><span class=line><span class=cl><span class=c1># $ uvicorn main:app --host 0.0.0.0 --port 8000 --workers 4</span>
</span></span><span class=line><span class=cl><span class=c1># workers=4: 4개 프로세스로 멀티코어 활용</span>
</span></span></code></pre></td></tr></table></div></div><hr><p><strong>C. 배포 설정</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-35-1><a class=lnlinks href=#hl-35-1> 1</a>
</span><span class=lnt id=hl-35-2><a class=lnlinks href=#hl-35-2> 2</a>
</span><span class=lnt id=hl-35-3><a class=lnlinks href=#hl-35-3> 3</a>
</span><span class=lnt id=hl-35-4><a class=lnlinks href=#hl-35-4> 4</a>
</span><span class=lnt id=hl-35-5><a class=lnlinks href=#hl-35-5> 5</a>
</span><span class=lnt id=hl-35-6><a class=lnlinks href=#hl-35-6> 6</a>
</span><span class=lnt id=hl-35-7><a class=lnlinks href=#hl-35-7> 7</a>
</span><span class=lnt id=hl-35-8><a class=lnlinks href=#hl-35-8> 8</a>
</span><span class=lnt id=hl-35-9><a class=lnlinks href=#hl-35-9> 9</a>
</span><span class=lnt id=hl-35-10><a class=lnlinks href=#hl-35-10>10</a>
</span><span class=lnt id=hl-35-11><a class=lnlinks href=#hl-35-11>11</a>
</span><span class=lnt id=hl-35-12><a class=lnlinks href=#hl-35-12>12</a>
</span><span class=lnt id=hl-35-13><a class=lnlinks href=#hl-35-13>13</a>
</span><span class=lnt id=hl-35-14><a class=lnlinks href=#hl-35-14>14</a>
</span><span class=lnt id=hl-35-15><a class=lnlinks href=#hl-35-15>15</a>
</span><span class=lnt id=hl-35-16><a class=lnlinks href=#hl-35-16>16</a>
</span><span class=lnt id=hl-35-17><a class=lnlinks href=#hl-35-17>17</a>
</span><span class=lnt id=hl-35-18><a class=lnlinks href=#hl-35-18>18</a>
</span><span class=lnt id=hl-35-19><a class=lnlinks href=#hl-35-19>19</a>
</span><span class=lnt id=hl-35-20><a class=lnlinks href=#hl-35-20>20</a>
</span><span class=lnt id=hl-35-21><a class=lnlinks href=#hl-35-21>21</a>
</span><span class=lnt id=hl-35-22><a class=lnlinks href=#hl-35-22>22</a>
</span><span class=lnt id=hl-35-23><a class=lnlinks href=#hl-35-23>23</a>
</span><span class=lnt id=hl-35-24><a class=lnlinks href=#hl-35-24>24</a>
</span><span class=lnt id=hl-35-25><a class=lnlinks href=#hl-35-25>25</a>
</span><span class=lnt id=hl-35-26><a class=lnlinks href=#hl-35-26>26</a>
</span><span class=lnt id=hl-35-27><a class=lnlinks href=#hl-35-27>27</a>
</span><span class=lnt id=hl-35-28><a class=lnlinks href=#hl-35-28>28</a>
</span><span class=lnt id=hl-35-29><a class=lnlinks href=#hl-35-29>29</a>
</span><span class=lnt id=hl-35-30><a class=lnlinks href=#hl-35-30>30</a>
</span><span class=lnt id=hl-35-31><a class=lnlinks href=#hl-35-31>31</a>
</span><span class=lnt id=hl-35-32><a class=lnlinks href=#hl-35-32>32</a>
</span><span class=lnt id=hl-35-33><a class=lnlinks href=#hl-35-33>33</a>
</span><span class=lnt id=hl-35-34><a class=lnlinks href=#hl-35-34>34</a>
</span><span class=lnt id=hl-35-35><a class=lnlinks href=#hl-35-35>35</a>
</span><span class=lnt id=hl-35-36><a class=lnlinks href=#hl-35-36>36</a>
</span><span class=lnt id=hl-35-37><a class=lnlinks href=#hl-35-37>37</a>
</span><span class=lnt id=hl-35-38><a class=lnlinks href=#hl-35-38>38</a>
</span><span class=lnt id=hl-35-39><a class=lnlinks href=#hl-35-39>39</a>
</span><span class=lnt id=hl-35-40><a class=lnlinks href=#hl-35-40>40</a>
</span><span class=lnt id=hl-35-41><a class=lnlinks href=#hl-35-41>41</a>
</span><span class=lnt id=hl-35-42><a class=lnlinks href=#hl-35-42>42</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># kubernetes/deployment.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>apps/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Deployment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>api-server</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>replicas</span><span class=p>:</span><span class=w> </span><span class=m>3</span><span class=w>  </span><span class=c># 3개 파드</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>matchLabels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>api-server</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>template</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>api-server</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>containers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>api</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>myregistry/api-server:1.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>containerPort</span><span class=p>:</span><span class=w> </span><span class=m>8000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>WORKERS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;4&#34;</span><span class=w>  </span><span class=c># CPU 코어 수에 맞춤</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>resources</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>requests</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>memory</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;512Mi&#34;</span><span class=w>  </span><span class=c># Non-Blocking: 메모리 적게 필요</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>cpu</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;500m&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>limits</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>memory</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;1Gi&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>cpu</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;1000m&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>livenessProbe</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>httpGet</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/health</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>8000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>initialDelaySeconds</span><span class=p>:</span><span class=w> </span><span class=m>10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>periodSeconds</span><span class=p>:</span><span class=w> </span><span class=m>10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>readinessProbe</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>httpGet</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/health</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>8000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>initialDelaySeconds</span><span class=p>:</span><span class=w> </span><span class=m>5</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>periodSeconds</span><span class=p>:</span><span class=w> </span><span class=m>5</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><p><strong>D. 성능 예측</strong></p><table><thead><tr><th>메트릭</th><th>Blocking (예상)</th><th>Non-Blocking (실측)</th><th>개선 비율</th></tr></thead><tbody><tr><td>동시 처리 (1 파드)</td><td>50 req</td><td>500 req</td><td>10 배</td></tr><tr><td>메모리 (1 파드)</td><td>2GB</td><td>512MB</td><td>1/4</td></tr><tr><td>응답 시간 (p95)</td><td>800ms</td><td>250ms</td><td>3.2 배</td></tr><tr><td>필요 파드 수 (10K)</td><td>200 개</td><td>20 개</td><td>1/10</td></tr><tr><td>월 클라우드 비용</td><td>$6,000</td><td>$600</td><td>1/10</td></tr></tbody></table><hr><p><strong>E. 체크리스트</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-36-1><a class=lnlinks href=#hl-36-1> 1</a>
</span><span class=lnt id=hl-36-2><a class=lnlinks href=#hl-36-2> 2</a>
</span><span class=lnt id=hl-36-3><a class=lnlinks href=#hl-36-3> 3</a>
</span><span class=lnt id=hl-36-4><a class=lnlinks href=#hl-36-4> 4</a>
</span><span class=lnt id=hl-36-5><a class=lnlinks href=#hl-36-5> 5</a>
</span><span class=lnt id=hl-36-6><a class=lnlinks href=#hl-36-6> 6</a>
</span><span class=lnt id=hl-36-7><a class=lnlinks href=#hl-36-7> 7</a>
</span><span class=lnt id=hl-36-8><a class=lnlinks href=#hl-36-8> 8</a>
</span><span class=lnt id=hl-36-9><a class=lnlinks href=#hl-36-9> 9</a>
</span><span class=lnt id=hl-36-10><a class=lnlinks href=#hl-36-10>10</a>
</span><span class=lnt id=hl-36-11><a class=lnlinks href=#hl-36-11>11</a>
</span><span class=lnt id=hl-36-12><a class=lnlinks href=#hl-36-12>12</a>
</span><span class=lnt id=hl-36-13><a class=lnlinks href=#hl-36-13>13</a>
</span><span class=lnt id=hl-36-14><a class=lnlinks href=#hl-36-14>14</a>
</span><span class=lnt id=hl-36-15><a class=lnlinks href=#hl-36-15>15</a>
</span><span class=lnt id=hl-36-16><a class=lnlinks href=#hl-36-16>16</a>
</span><span class=lnt id=hl-36-17><a class=lnlinks href=#hl-36-17>17</a>
</span><span class=lnt id=hl-36-18><a class=lnlinks href=#hl-36-18>18</a>
</span><span class=lnt id=hl-36-19><a class=lnlinks href=#hl-36-19>19</a>
</span><span class=lnt id=hl-36-20><a class=lnlinks href=#hl-36-20>20</a>
</span><span class=lnt id=hl-36-21><a class=lnlinks href=#hl-36-21>21</a>
</span><span class=lnt id=hl-36-22><a class=lnlinks href=#hl-36-22>22</a>
</span><span class=lnt id=hl-36-23><a class=lnlinks href=#hl-36-23>23</a>
</span><span class=lnt id=hl-36-24><a class=lnlinks href=#hl-36-24>24</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl><span class=gu>## 구현 전 체크리스트
</span></span></span><span class=line><span class=cl><span class=gu></span>
</span></span><span class=line><span class=cl><span class=gu>### 기술 선정
</span></span></span><span class=line><span class=cl><span class=gu></span><span class=k>- [ ]</span> 팀이 비동기 프로그래밍 경험 있음 (최소 1명 이상)
</span></span><span class=line><span class=cl><span class=k>- [ ]</span> 모든 의존 라이브러리가 비동기 버전 지원 확인
</span></span><span class=line><span class=cl><span class=k>- [ ]</span> 데이터베이스 드라이버가 비동기 지원 (asyncpg, motor 등)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=gu>### 아키텍처
</span></span></span><span class=line><span class=cl><span class=gu></span><span class=k>- [ ]</span> 커넥션 풀 크기 계산 (max_connections = 예상 동시 요청 × 1.5)
</span></span><span class=line><span class=cl><span class=k>- [ ]</span> 타임아웃 설정 (DB 5초, 외부 API 3초)
</span></span><span class=line><span class=cl><span class=k>- [ ]</span> 서킷 브레이커 패턴 적용 (외부 의존성)
</span></span><span class=line><span class=cl><span class=k>- [ ]</span> 재시도 로직 구현 (멱등성 보장)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=gu>### 모니터링
</span></span></span><span class=line><span class=cl><span class=gu></span><span class=k>- [ ]</span> 이벤트 루프 지연 측정 (목표 &lt; 10ms)
</span></span><span class=line><span class=cl><span class=k>- [ ]</span> 커넥션 풀 사용률 모니터링 (목표 &lt; 80%)
</span></span><span class=line><span class=cl><span class=k>- [ ]</span> 에러율 알림 설정 (&gt; 1% 시 알림)
</span></span><span class=line><span class=cl><span class=k>- [ ]</span> p95, p99 지연 대시보드 구성
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=gu>### 배포
</span></span></span><span class=line><span class=cl><span class=gu></span><span class=k>- [ ]</span> 부하 테스트 완료 (목표 동시성 × 2)
</span></span><span class=line><span class=cl><span class=k>- [ ]</span> Graceful Shutdown 구현
</span></span><span class=line><span class=cl><span class=k>- [ ]</span> Health Check 엔드포인트 확인
</span></span><span class=line><span class=cl><span class=k>- [ ]</span> 롤링 업데이트 전략 수립
</span></span></code></pre></td></tr></table></div></div><hr><h4 id=시나리오-2-데이터베이스-커넥션-풀-설계>시나리오 2: 데이터베이스 커넥션 풀 설계<a hidden class=anchor aria-hidden=true href=#시나리오-2-데이터베이스-커넥션-풀-설계>#</a></h4><p><strong>상황</strong>:<br>마이크로서비스 아키텍처에서 각 서비스가 PostgreSQL 에 연결한다. 서비스당 10 개 인스턴스, 총 5 개 서비스가 있으며, DB 최대 연결 수는 500 개다.</p><p><strong>문제</strong>:</p><ul><li>Blocking: 각 스레드가 커넥션 점유 → 커넥션 부족</li><li>Non-Blocking: 커넥션 재사용 효율 높음</li></ul><hr><p><strong>의사결정 가이드</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-37-1><a class=lnlinks href=#hl-37-1> 1</a>
</span><span class=lnt id=hl-37-2><a class=lnlinks href=#hl-37-2> 2</a>
</span><span class=lnt id=hl-37-3><a class=lnlinks href=#hl-37-3> 3</a>
</span><span class=lnt id=hl-37-4><a class=lnlinks href=#hl-37-4> 4</a>
</span><span class=lnt id=hl-37-5><a class=lnlinks href=#hl-37-5> 5</a>
</span><span class=lnt id=hl-37-6><a class=lnlinks href=#hl-37-6> 6</a>
</span><span class=lnt id=hl-37-7><a class=lnlinks href=#hl-37-7> 7</a>
</span><span class=lnt id=hl-37-8><a class=lnlinks href=#hl-37-8> 8</a>
</span><span class=lnt id=hl-37-9><a class=lnlinks href=#hl-37-9> 9</a>
</span><span class=lnt id=hl-37-10><a class=lnlinks href=#hl-37-10>10</a>
</span><span class=lnt id=hl-37-11><a class=lnlinks href=#hl-37-11>11</a>
</span><span class=lnt id=hl-37-12><a class=lnlinks href=#hl-37-12>12</a>
</span><span class=lnt id=hl-37-13><a class=lnlinks href=#hl-37-13>13</a>
</span><span class=lnt id=hl-37-14><a class=lnlinks href=#hl-37-14>14</a>
</span><span class=lnt id=hl-37-15><a class=lnlinks href=#hl-37-15>15</a>
</span><span class=lnt id=hl-37-16><a class=lnlinks href=#hl-37-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[문제 진단]
</span></span><span class=line><span class=cl>서비스 A (Blocking):
</span></span><span class=line><span class=cl>  - 인스턴스: 10개
</span></span><span class=line><span class=cl>  - 인스턴스당 스레드: 50개
</span></span><span class=line><span class=cl>  - 총 필요 커넥션: 500개 ⚠️ (DB 한계)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>서비스 A (Non-Blocking):
</span></span><span class=line><span class=cl>  - 인스턴스: 10개
</span></span><span class=line><span class=cl>  - 인스턴스당 이벤트 루프: 1개
</span></span><span class=line><span class=cl>  - 인스턴스당 커넥션: 10개 (풀)
</span></span><span class=line><span class=cl>  - 총 필요 커넥션: 100개 ✓
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[해결책]
</span></span><span class=line><span class=cl>옵션 1: Non-Blocking으로 전환 (권장)
</span></span><span class=line><span class=cl>옵션 2: Blocking + 커넥션 풀 크기 제한 (단기)
</span></span><span class=line><span class=cl>옵션 3: DB 스케일 업 (비용 증가)
</span></span></code></pre></td></tr></table></div></div><hr><p><strong>구현 패턴</strong>:</p><p><strong>A. Blocking 커넥션 풀 (Python)</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-38-1><a class=lnlinks href=#hl-38-1> 1</a>
</span><span class=lnt id=hl-38-2><a class=lnlinks href=#hl-38-2> 2</a>
</span><span class=lnt id=hl-38-3><a class=lnlinks href=#hl-38-3> 3</a>
</span><span class=lnt id=hl-38-4><a class=lnlinks href=#hl-38-4> 4</a>
</span><span class=lnt id=hl-38-5><a class=lnlinks href=#hl-38-5> 5</a>
</span><span class=lnt id=hl-38-6><a class=lnlinks href=#hl-38-6> 6</a>
</span><span class=lnt id=hl-38-7><a class=lnlinks href=#hl-38-7> 7</a>
</span><span class=lnt id=hl-38-8><a class=lnlinks href=#hl-38-8> 8</a>
</span><span class=lnt id=hl-38-9><a class=lnlinks href=#hl-38-9> 9</a>
</span><span class=lnt id=hl-38-10><a class=lnlinks href=#hl-38-10>10</a>
</span><span class=lnt id=hl-38-11><a class=lnlinks href=#hl-38-11>11</a>
</span><span class=lnt id=hl-38-12><a class=lnlinks href=#hl-38-12>12</a>
</span><span class=lnt id=hl-38-13><a class=lnlinks href=#hl-38-13>13</a>
</span><span class=lnt id=hl-38-14><a class=lnlinks href=#hl-38-14>14</a>
</span><span class=lnt id=hl-38-15><a class=lnlinks href=#hl-38-15>15</a>
</span><span class=lnt id=hl-38-16><a class=lnlinks href=#hl-38-16>16</a>
</span><span class=lnt id=hl-38-17><a class=lnlinks href=#hl-38-17>17</a>
</span><span class=lnt id=hl-38-18><a class=lnlinks href=#hl-38-18>18</a>
</span><span class=lnt id=hl-38-19><a class=lnlinks href=#hl-38-19>19</a>
</span><span class=lnt id=hl-38-20><a class=lnlinks href=#hl-38-20>20</a>
</span><span class=lnt id=hl-38-21><a class=lnlinks href=#hl-38-21>21</a>
</span><span class=lnt id=hl-38-22><a class=lnlinks href=#hl-38-22>22</a>
</span><span class=lnt id=hl-38-23><a class=lnlinks href=#hl-38-23>23</a>
</span><span class=lnt id=hl-38-24><a class=lnlinks href=#hl-38-24>24</a>
</span><span class=lnt id=hl-38-25><a class=lnlinks href=#hl-38-25>25</a>
</span><span class=lnt id=hl-38-26><a class=lnlinks href=#hl-38-26>26</a>
</span><span class=lnt id=hl-38-27><a class=lnlinks href=#hl-38-27>27</a>
</span><span class=lnt id=hl-38-28><a class=lnlinks href=#hl-38-28>28</a>
</span><span class=lnt id=hl-38-29><a class=lnlinks href=#hl-38-29>29</a>
</span><span class=lnt id=hl-38-30><a class=lnlinks href=#hl-38-30>30</a>
</span><span class=lnt id=hl-38-31><a class=lnlinks href=#hl-38-31>31</a>
</span><span class=lnt id=hl-38-32><a class=lnlinks href=#hl-38-32>32</a>
</span><span class=lnt id=hl-38-33><a class=lnlinks href=#hl-38-33>33</a>
</span><span class=lnt id=hl-38-34><a class=lnlinks href=#hl-38-34>34</a>
</span><span class=lnt id=hl-38-35><a class=lnlinks href=#hl-38-35>35</a>
</span><span class=lnt id=hl-38-36><a class=lnlinks href=#hl-38-36>36</a>
</span><span class=lnt id=hl-38-37><a class=lnlinks href=#hl-38-37>37</a>
</span><span class=lnt id=hl-38-38><a class=lnlinks href=#hl-38-38>38</a>
</span><span class=lnt id=hl-38-39><a class=lnlinks href=#hl-38-39>39</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># blocking_db_pool.py</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>psycopg2</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>psycopg2</span> <span class=kn>import</span> <span class=n>pool</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>threading</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 커넥션 풀 생성 (스레드 안전)</span>
</span></span><span class=line><span class=cl><span class=n>connection_pool</span> <span class=o>=</span> <span class=n>psycopg2</span><span class=o>.</span><span class=n>pool</span><span class=o>.</span><span class=n>ThreadedConnectionPool</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>minconn</span><span class=o>=</span><span class=mi>5</span><span class=p>,</span>      <span class=c1># 최소 커넥션 (항상 유지)</span>
</span></span><span class=line><span class=cl>    <span class=n>maxconn</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span>     <span class=c1># 최대 커넥션 (스레드 수보다 작게 설정!)</span>
</span></span><span class=line><span class=cl>    <span class=n>host</span><span class=o>=</span><span class=s1>&#39;postgres.example.com&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>database</span><span class=o>=</span><span class=s1>&#39;mydb&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>user</span><span class=o>=</span><span class=s1>&#39;app_user&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>password</span><span class=o>=</span><span class=s1>&#39;secret&#39;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>execute_query_blocking</span><span class=p>(</span><span class=n>query</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Blocking 방식 쿼리 실행&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>conn</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 풀에서 커넥션 가져오기 (블로킹!)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 모든 커넥션이 사용 중이면 대기</span>
</span></span><span class=line><span class=cl>        <span class=n>conn</span> <span class=o>=</span> <span class=n>connection_pool</span><span class=o>.</span><span class=n>getconn</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>cursor</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>cursor</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>cursor</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>query</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=n>cursor</span><span class=o>.</span><span class=n>fetchall</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>cursor</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>    <span class=k>finally</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>conn</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># 풀에 커넥션 반환</span>
</span></span><span class=line><span class=cl>            <span class=n>connection_pool</span><span class=o>.</span><span class=n>putconn</span><span class=p>(</span><span class=n>conn</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 문제점:</span>
</span></span><span class=line><span class=cl><span class=c1># 1. maxconn=20, 스레드=50 → 30개 스레드는 대기</span>
</span></span><span class=line><span class=cl><span class=c1># 2. 커넥션 대기 시간 측정 어려움</span>
</span></span><span class=line><span class=cl><span class=c1># 3. 데드락 위험 (커넥션 반환 실패 시)</span>
</span></span></code></pre></td></tr></table></div></div><hr><p><strong>B. Non-Blocking 커넥션 풀 (Python)</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-39-1><a class=lnlinks href=#hl-39-1> 1</a>
</span><span class=lnt id=hl-39-2><a class=lnlinks href=#hl-39-2> 2</a>
</span><span class=lnt id=hl-39-3><a class=lnlinks href=#hl-39-3> 3</a>
</span><span class=lnt id=hl-39-4><a class=lnlinks href=#hl-39-4> 4</a>
</span><span class=lnt id=hl-39-5><a class=lnlinks href=#hl-39-5> 5</a>
</span><span class=lnt id=hl-39-6><a class=lnlinks href=#hl-39-6> 6</a>
</span><span class=lnt id=hl-39-7><a class=lnlinks href=#hl-39-7> 7</a>
</span><span class=lnt id=hl-39-8><a class=lnlinks href=#hl-39-8> 8</a>
</span><span class=lnt id=hl-39-9><a class=lnlinks href=#hl-39-9> 9</a>
</span><span class=lnt id=hl-39-10><a class=lnlinks href=#hl-39-10>10</a>
</span><span class=lnt id=hl-39-11><a class=lnlinks href=#hl-39-11>11</a>
</span><span class=lnt id=hl-39-12><a class=lnlinks href=#hl-39-12>12</a>
</span><span class=lnt id=hl-39-13><a class=lnlinks href=#hl-39-13>13</a>
</span><span class=lnt id=hl-39-14><a class=lnlinks href=#hl-39-14>14</a>
</span><span class=lnt id=hl-39-15><a class=lnlinks href=#hl-39-15>15</a>
</span><span class=lnt id=hl-39-16><a class=lnlinks href=#hl-39-16>16</a>
</span><span class=lnt id=hl-39-17><a class=lnlinks href=#hl-39-17>17</a>
</span><span class=lnt id=hl-39-18><a class=lnlinks href=#hl-39-18>18</a>
</span><span class=lnt id=hl-39-19><a class=lnlinks href=#hl-39-19>19</a>
</span><span class=lnt id=hl-39-20><a class=lnlinks href=#hl-39-20>20</a>
</span><span class=lnt id=hl-39-21><a class=lnlinks href=#hl-39-21>21</a>
</span><span class=lnt id=hl-39-22><a class=lnlinks href=#hl-39-22>22</a>
</span><span class=lnt id=hl-39-23><a class=lnlinks href=#hl-39-23>23</a>
</span><span class=lnt id=hl-39-24><a class=lnlinks href=#hl-39-24>24</a>
</span><span class=lnt id=hl-39-25><a class=lnlinks href=#hl-39-25>25</a>
</span><span class=lnt id=hl-39-26><a class=lnlinks href=#hl-39-26>26</a>
</span><span class=lnt id=hl-39-27><a class=lnlinks href=#hl-39-27>27</a>
</span><span class=lnt id=hl-39-28><a class=lnlinks href=#hl-39-28>28</a>
</span><span class=lnt id=hl-39-29><a class=lnlinks href=#hl-39-29>29</a>
</span><span class=lnt id=hl-39-30><a class=lnlinks href=#hl-39-30>30</a>
</span><span class=lnt id=hl-39-31><a class=lnlinks href=#hl-39-31>31</a>
</span><span class=lnt id=hl-39-32><a class=lnlinks href=#hl-39-32>32</a>
</span><span class=lnt id=hl-39-33><a class=lnlinks href=#hl-39-33>33</a>
</span><span class=lnt id=hl-39-34><a class=lnlinks href=#hl-39-34>34</a>
</span><span class=lnt id=hl-39-35><a class=lnlinks href=#hl-39-35>35</a>
</span><span class=lnt id=hl-39-36><a class=lnlinks href=#hl-39-36>36</a>
</span><span class=lnt id=hl-39-37><a class=lnlinks href=#hl-39-37>37</a>
</span><span class=lnt id=hl-39-38><a class=lnlinks href=#hl-39-38>38</a>
</span><span class=lnt id=hl-39-39><a class=lnlinks href=#hl-39-39>39</a>
</span><span class=lnt id=hl-39-40><a class=lnlinks href=#hl-39-40>40</a>
</span><span class=lnt id=hl-39-41><a class=lnlinks href=#hl-39-41>41</a>
</span><span class=lnt id=hl-39-42><a class=lnlinks href=#hl-39-42>42</a>
</span><span class=lnt id=hl-39-43><a class=lnlinks href=#hl-39-43>43</a>
</span><span class=lnt id=hl-39-44><a class=lnlinks href=#hl-39-44>44</a>
</span><span class=lnt id=hl-39-45><a class=lnlinks href=#hl-39-45>45</a>
</span><span class=lnt id=hl-39-46><a class=lnlinks href=#hl-39-46>46</a>
</span><span class=lnt id=hl-39-47><a class=lnlinks href=#hl-39-47>47</a>
</span><span class=lnt id=hl-39-48><a class=lnlinks href=#hl-39-48>48</a>
</span><span class=lnt id=hl-39-49><a class=lnlinks href=#hl-39-49>49</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># non_blocking_db_pool.py</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>asyncpg</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>asyncio</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 비동기 커넥션 풀 생성</span>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>create_pool</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=k>await</span> <span class=n>asyncpg</span><span class=o>.</span><span class=n>create_pool</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>host</span><span class=o>=</span><span class=s1>&#39;postgres.example.com&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>database</span><span class=o>=</span><span class=s1>&#39;mydb&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>user</span><span class=o>=</span><span class=s1>&#39;app_user&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>password</span><span class=o>=</span><span class=s1>&#39;secret&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>min_size</span><span class=o>=</span><span class=mi>5</span><span class=p>,</span>         <span class=c1># 최소 커넥션</span>
</span></span><span class=line><span class=cl>        <span class=n>max_size</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span>        <span class=c1># 최대 커넥션</span>
</span></span><span class=line><span class=cl>        <span class=n>max_queries</span><span class=o>=</span><span class=mi>50000</span><span class=p>,</span>  <span class=c1># 커넥션당 최대 쿼리 수 (이후 재생성)</span>
</span></span><span class=line><span class=cl>        <span class=n>max_inactive_connection_lifetime</span><span class=o>=</span><span class=mi>300</span><span class=p>,</span>  <span class=c1># 5분 유휴 시 종료</span>
</span></span><span class=line><span class=cl>        <span class=n>command_timeout</span><span class=o>=</span><span class=mi>5</span>   <span class=c1># 쿼리 타임아웃 5초</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>pool</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>init_pool</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>global</span> <span class=n>pool</span>
</span></span><span class=line><span class=cl>    <span class=n>pool</span> <span class=o>=</span> <span class=k>await</span> <span class=n>create_pool</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>execute_query_async</span><span class=p>(</span><span class=n>query</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Non-Blocking 방식 쿼리 실행&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1># acquire()는 Non-Blocking (대기 중에도 다른 작업 가능)</span>
</span></span><span class=line><span class=cl>    <span class=k>async</span> <span class=k>with</span> <span class=n>pool</span><span class=o>.</span><span class=n>acquire</span><span class=p>()</span> <span class=k>as</span> <span class=n>conn</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 쿼리 실행 (비동기)</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=k>await</span> <span class=n>conn</span><span class=o>.</span><span class=n>fetch</span><span class=p>(</span><span class=n>query</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 장점:</span>
</span></span><span class=line><span class=cl><span class=c1># 1. 커넥션 효율 극대화 (1개 커넥션으로 수백 개 요청 처리)</span>
</span></span><span class=line><span class=cl><span class=c1># 2. 대기 중에도 다른 요청 처리</span>
</span></span><span class=line><span class=cl><span class=c1># 3. 타임아웃 자동 관리</span>
</span></span><span class=line><span class=cl><span class=c1># 4. 메트릭 수집 쉬움</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 실행</span>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>await</span> <span class=n>init_pool</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 100개 쿼리를 동시에 실행 (커넥션은 20개만 사용)</span>
</span></span><span class=line><span class=cl>    <span class=n>tasks</span> <span class=o>=</span> <span class=p>[</span><span class=n>execute_query_async</span><span class=p>(</span><span class=s2>&#34;SELECT 1&#34;</span><span class=p>)</span> <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>100</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>    <span class=n>results</span> <span class=o>=</span> <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>gather</span><span class=p>(</span><span class=o>*</span><span class=n>tasks</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;완료: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>results</span><span class=p>)</span><span class=si>}</span><span class=s2>개&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>asyncio</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>main</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><hr><p><strong>C. 커넥션 풀 크기 계산</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-40-1><a class=lnlinks href=#hl-40-1> 1</a>
</span><span class=lnt id=hl-40-2><a class=lnlinks href=#hl-40-2> 2</a>
</span><span class=lnt id=hl-40-3><a class=lnlinks href=#hl-40-3> 3</a>
</span><span class=lnt id=hl-40-4><a class=lnlinks href=#hl-40-4> 4</a>
</span><span class=lnt id=hl-40-5><a class=lnlinks href=#hl-40-5> 5</a>
</span><span class=lnt id=hl-40-6><a class=lnlinks href=#hl-40-6> 6</a>
</span><span class=lnt id=hl-40-7><a class=lnlinks href=#hl-40-7> 7</a>
</span><span class=lnt id=hl-40-8><a class=lnlinks href=#hl-40-8> 8</a>
</span><span class=lnt id=hl-40-9><a class=lnlinks href=#hl-40-9> 9</a>
</span><span class=lnt id=hl-40-10><a class=lnlinks href=#hl-40-10>10</a>
</span><span class=lnt id=hl-40-11><a class=lnlinks href=#hl-40-11>11</a>
</span><span class=lnt id=hl-40-12><a class=lnlinks href=#hl-40-12>12</a>
</span><span class=lnt id=hl-40-13><a class=lnlinks href=#hl-40-13>13</a>
</span><span class=lnt id=hl-40-14><a class=lnlinks href=#hl-40-14>14</a>
</span><span class=lnt id=hl-40-15><a class=lnlinks href=#hl-40-15>15</a>
</span><span class=lnt id=hl-40-16><a class=lnlinks href=#hl-40-16>16</a>
</span><span class=lnt id=hl-40-17><a class=lnlinks href=#hl-40-17>17</a>
</span><span class=lnt id=hl-40-18><a class=lnlinks href=#hl-40-18>18</a>
</span><span class=lnt id=hl-40-19><a class=lnlinks href=#hl-40-19>19</a>
</span><span class=lnt id=hl-40-20><a class=lnlinks href=#hl-40-20>20</a>
</span><span class=lnt id=hl-40-21><a class=lnlinks href=#hl-40-21>21</a>
</span><span class=lnt id=hl-40-22><a class=lnlinks href=#hl-40-22>22</a>
</span><span class=lnt id=hl-40-23><a class=lnlinks href=#hl-40-23>23</a>
</span><span class=lnt id=hl-40-24><a class=lnlinks href=#hl-40-24>24</a>
</span><span class=lnt id=hl-40-25><a class=lnlinks href=#hl-40-25>25</a>
</span><span class=lnt id=hl-40-26><a class=lnlinks href=#hl-40-26>26</a>
</span><span class=lnt id=hl-40-27><a class=lnlinks href=#hl-40-27>27</a>
</span><span class=lnt id=hl-40-28><a class=lnlinks href=#hl-40-28>28</a>
</span><span class=lnt id=hl-40-29><a class=lnlinks href=#hl-40-29>29</a>
</span><span class=lnt id=hl-40-30><a class=lnlinks href=#hl-40-30>30</a>
</span><span class=lnt id=hl-40-31><a class=lnlinks href=#hl-40-31>31</a>
</span><span class=lnt id=hl-40-32><a class=lnlinks href=#hl-40-32>32</a>
</span><span class=lnt id=hl-40-33><a class=lnlinks href=#hl-40-33>33</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># pool_size_calculator.py</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>커넥션 풀 크기 계산 공식
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 입력 파라미터</span>
</span></span><span class=line><span class=cl><span class=n>avg_request_per_sec</span> <span class=o>=</span> <span class=mi>1000</span>      <span class=c1># 초당 평균 요청 수</span>
</span></span><span class=line><span class=cl><span class=n>avg_query_time_sec</span> <span class=o>=</span> <span class=mf>0.05</span>       <span class=c1># 평균 쿼리 시간 (50ms)</span>
</span></span><span class=line><span class=cl><span class=n>queries_per_request</span> <span class=o>=</span> <span class=mi>3</span>          <span class=c1># 요청당 평균 쿼리 수</span>
</span></span><span class=line><span class=cl><span class=n>num_instances</span> <span class=o>=</span> <span class=mi>10</span>               <span class=c1># 인스턴스 수</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Blocking 계산</span>
</span></span><span class=line><span class=cl><span class=n>blocking_threads_per_instance</span> <span class=o>=</span> <span class=mi>50</span>
</span></span><span class=line><span class=cl><span class=n>blocking_total_connections</span> <span class=o>=</span> <span class=n>num_instances</span> <span class=o>*</span> <span class=n>blocking_threads_per_instance</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Blocking 필요 커넥션: </span><span class=si>{</span><span class=n>blocking_total_connections</span><span class=si>}</span><span class=s2>개&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># 출력: 500개</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Non-Blocking 계산</span>
</span></span><span class=line><span class=cl><span class=c1># Little&#39;s Law: L = λ × W</span>
</span></span><span class=line><span class=cl><span class=c1># L (동시 쿼리 수) = 요청/초 × 쿼리 시간 × 요청당 쿼리</span>
</span></span><span class=line><span class=cl><span class=n>concurrent_queries</span> <span class=o>=</span> <span class=n>avg_request_per_sec</span> <span class=o>*</span> <span class=n>avg_query_time_sec</span> <span class=o>*</span> <span class=n>queries_per_request</span>
</span></span><span class=line><span class=cl><span class=n>non_blocking_per_instance</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>concurrent_queries</span> <span class=o>/</span> <span class=n>num_instances</span> <span class=o>*</span> <span class=mf>1.5</span><span class=p>)</span>  <span class=c1># 1.5배 여유</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Non-Blocking 필요 커넥션 (인스턴스당): </span><span class=si>{</span><span class=n>non_blocking_per_instance</span><span class=si>}</span><span class=s2>개&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># 출력: 22개</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 권장 설정</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>권장 설정:
</span></span></span><span class=line><span class=cl><span class=s2>- Blocking: maxconn=</span><span class=si>{</span><span class=n>blocking_total_connections</span><span class=si>}</span><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>- Non-Blocking: 
</span></span></span><span class=line><span class=cl><span class=s2>  - min_size=</span><span class=si>{</span><span class=nb>int</span><span class=p>(</span><span class=n>non_blocking_per_instance</span> <span class=o>*</span> <span class=mf>0.5</span><span class=p>)</span><span class=si>}</span><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>  - max_size=</span><span class=si>{</span><span class=n>non_blocking_per_instance</span><span class=si>}</span><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><hr><p><strong>D. 모니터링 메트릭</strong></p><table><thead><tr><th>메트릭</th><th>목표값</th><th>경고 임계값</th><th>위험 임계값</th><th>조치</th></tr></thead><tbody><tr><td>풀 사용률 (%)</td><td>&lt; 70%</td><td>> 80%</td><td>> 90%</td><td>풀 크기 증가 또는 인스턴스 추가</td></tr><tr><td>커넥션 대기 시간 (ms)</td><td>&lt; 5ms</td><td>> 50ms</td><td>> 100ms</td><td>풀 크기 증가</td></tr><tr><td>커넥션 획득 실패율 (%)</td><td>0%</td><td>> 0.1%</td><td>> 1%</td><td>DB 연결 수 확인, 긴급 스케일</td></tr><tr><td>쿼리 타임아웃 (%)</td><td>&lt; 0.01%</td><td>> 0.1%</td><td>> 1%</td><td>슬로우 쿼리 분석</td></tr><tr><td>유휴 커넥션 수</td><td>> 10%</td><td>&lt; 5%</td><td>0</td><td>트래픽 급증, 오토스케일링</td></tr></tbody></table><hr><h4 id=시나리오-3-파일-시스템-대량-처리>시나리오 3: 파일 시스템 대량 처리<a hidden class=anchor aria-hidden=true href=#시나리오-3-파일-시스템-대량-처리>#</a></h4><p><strong>상황</strong>:<br>로그 분석 시스템에서 매일 10,000 개의 로그 파일 (각 1MB) 을 읽고 처리해야 한다. 각 파일은 독립적으로 처리 가능하다.</p><p><strong>목표</strong>:</p><ul><li>처리 시간 &lt; 10 분</li><li>CPU 사용률 최대화</li><li>메모리 효율</li></ul><hr><p><strong>접근 방법 비교</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-41-1><a class=lnlinks href=#hl-41-1> 1</a>
</span><span class=lnt id=hl-41-2><a class=lnlinks href=#hl-41-2> 2</a>
</span><span class=lnt id=hl-41-3><a class=lnlinks href=#hl-41-3> 3</a>
</span><span class=lnt id=hl-41-4><a class=lnlinks href=#hl-41-4> 4</a>
</span><span class=lnt id=hl-41-5><a class=lnlinks href=#hl-41-5> 5</a>
</span><span class=lnt id=hl-41-6><a class=lnlinks href=#hl-41-6> 6</a>
</span><span class=lnt id=hl-41-7><a class=lnlinks href=#hl-41-7> 7</a>
</span><span class=lnt id=hl-41-8><a class=lnlinks href=#hl-41-8> 8</a>
</span><span class=lnt id=hl-41-9><a class=lnlinks href=#hl-41-9> 9</a>
</span><span class=lnt id=hl-41-10><a class=lnlinks href=#hl-41-10>10</a>
</span><span class=lnt id=hl-41-11><a class=lnlinks href=#hl-41-11>11</a>
</span><span class=lnt id=hl-41-12><a class=lnlinks href=#hl-41-12>12</a>
</span><span class=lnt id=hl-41-13><a class=lnlinks href=#hl-41-13>13</a>
</span><span class=lnt id=hl-41-14><a class=lnlinks href=#hl-41-14>14</a>
</span><span class=lnt id=hl-41-15><a class=lnlinks href=#hl-41-15>15</a>
</span><span class=lnt id=hl-41-16><a class=lnlinks href=#hl-41-16>16</a>
</span><span class=lnt id=hl-41-17><a class=lnlinks href=#hl-41-17>17</a>
</span><span class=lnt id=hl-41-18><a class=lnlinks href=#hl-41-18>18</a>
</span><span class=lnt id=hl-41-19><a class=lnlinks href=#hl-41-19>19</a>
</span><span class=lnt id=hl-41-20><a class=lnlinks href=#hl-41-20>20</a>
</span><span class=lnt id=hl-41-21><a class=lnlinks href=#hl-41-21>21</a>
</span><span class=lnt id=hl-41-22><a class=lnlinks href=#hl-41-22>22</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># approach_1_blocking_sequential.py</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>접근법 1: Blocking 순차 처리
</span></span></span><span class=line><span class=cl><span class=s2>- 가장 단순
</span></span></span><span class=line><span class=cl><span class=s2>- 가장 느림 (10,000 × 0.1초 = 1,000초 = 16분 40초)
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>process_file_blocking</span><span class=p>(</span><span class=n>filepath</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;파일 처리 (Blocking)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>filepath</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>data</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=c1># 처리 로직 (0.1초 소요)</span>
</span></span><span class=line><span class=cl>    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10000</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>result</span> <span class=o>=</span> <span class=n>process_file_blocking</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;log_</span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>.txt&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>end</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;소요 시간: </span><span class=si>{</span><span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=si>:</span><span class=s2>.1f</span><span class=si>}</span><span class=s2>초&#34;</span><span class=p>)</span>  <span class=c1># ~1000초</span>
</span></span></code></pre></td></tr></table></div></div><hr><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-42-1><a class=lnlinks href=#hl-42-1> 1</a>
</span><span class=lnt id=hl-42-2><a class=lnlinks href=#hl-42-2> 2</a>
</span><span class=lnt id=hl-42-3><a class=lnlinks href=#hl-42-3> 3</a>
</span><span class=lnt id=hl-42-4><a class=lnlinks href=#hl-42-4> 4</a>
</span><span class=lnt id=hl-42-5><a class=lnlinks href=#hl-42-5> 5</a>
</span><span class=lnt id=hl-42-6><a class=lnlinks href=#hl-42-6> 6</a>
</span><span class=lnt id=hl-42-7><a class=lnlinks href=#hl-42-7> 7</a>
</span><span class=lnt id=hl-42-8><a class=lnlinks href=#hl-42-8> 8</a>
</span><span class=lnt id=hl-42-9><a class=lnlinks href=#hl-42-9> 9</a>
</span><span class=lnt id=hl-42-10><a class=lnlinks href=#hl-42-10>10</a>
</span><span class=lnt id=hl-42-11><a class=lnlinks href=#hl-42-11>11</a>
</span><span class=lnt id=hl-42-12><a class=lnlinks href=#hl-42-12>12</a>
</span><span class=lnt id=hl-42-13><a class=lnlinks href=#hl-42-13>13</a>
</span><span class=lnt id=hl-42-14><a class=lnlinks href=#hl-42-14>14</a>
</span><span class=lnt id=hl-42-15><a class=lnlinks href=#hl-42-15>15</a>
</span><span class=lnt id=hl-42-16><a class=lnlinks href=#hl-42-16>16</a>
</span><span class=lnt id=hl-42-17><a class=lnlinks href=#hl-42-17>17</a>
</span><span class=lnt id=hl-42-18><a class=lnlinks href=#hl-42-18>18</a>
</span><span class=lnt id=hl-42-19><a class=lnlinks href=#hl-42-19>19</a>
</span><span class=lnt id=hl-42-20><a class=lnlinks href=#hl-42-20>20</a>
</span><span class=lnt id=hl-42-21><a class=lnlinks href=#hl-42-21>21</a>
</span><span class=lnt id=hl-42-22><a class=lnlinks href=#hl-42-22>22</a>
</span><span class=lnt id=hl-42-23><a class=lnlinks href=#hl-42-23>23</a>
</span><span class=lnt id=hl-42-24><a class=lnlinks href=#hl-42-24>24</a>
</span><span class=lnt id=hl-42-25><a class=lnlinks href=#hl-42-25>25</a>
</span><span class=lnt id=hl-42-26><a class=lnlinks href=#hl-42-26>26</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># approach_2_blocking_multiprocessing.py</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>접근법 2: Blocking 멀티프로세싱
</span></span></span><span class=line><span class=cl><span class=s2>- CPU 병렬 활용
</span></span></span><span class=line><span class=cl><span class=s2>- 프로세스 생성 오버헤드
</span></span></span><span class=line><span class=cl><span class=s2>- 메모리 사용 높음
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>multiprocessing</span> <span class=kn>import</span> <span class=n>Pool</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>process_file_blocking</span><span class=p>(</span><span class=n>filepath</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>filepath</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>data</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>files</span> <span class=o>=</span> <span class=p>[</span><span class=sa>f</span><span class=s2>&#34;log_</span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>.txt&#34;</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10000</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>with</span> <span class=n>Pool</span><span class=p>(</span><span class=n>processes</span><span class=o>=</span><span class=mi>8</span><span class=p>)</span> <span class=k>as</span> <span class=n>pool</span><span class=p>:</span>  <span class=c1># 8개 프로세스</span>
</span></span><span class=line><span class=cl>        <span class=n>results</span> <span class=o>=</span> <span class=n>pool</span><span class=o>.</span><span class=n>map</span><span class=p>(</span><span class=n>process_file_blocking</span><span class=p>,</span> <span class=n>files</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>end</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;소요 시간: </span><span class=si>{</span><span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=si>:</span><span class=s2>.1f</span><span class=si>}</span><span class=s2>초&#34;</span><span class=p>)</span>  <span class=c1># ~125초 (8배 빠름)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;메모리: ~2GB (프로세스 × 8)&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><hr><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-43-1><a class=lnlinks href=#hl-43-1> 1</a>
</span><span class=lnt id=hl-43-2><a class=lnlinks href=#hl-43-2> 2</a>
</span><span class=lnt id=hl-43-3><a class=lnlinks href=#hl-43-3> 3</a>
</span><span class=lnt id=hl-43-4><a class=lnlinks href=#hl-43-4> 4</a>
</span><span class=lnt id=hl-43-5><a class=lnlinks href=#hl-43-5> 5</a>
</span><span class=lnt id=hl-43-6><a class=lnlinks href=#hl-43-6> 6</a>
</span><span class=lnt id=hl-43-7><a class=lnlinks href=#hl-43-7> 7</a>
</span><span class=lnt id=hl-43-8><a class=lnlinks href=#hl-43-8> 8</a>
</span><span class=lnt id=hl-43-9><a class=lnlinks href=#hl-43-9> 9</a>
</span><span class=lnt id=hl-43-10><a class=lnlinks href=#hl-43-10>10</a>
</span><span class=lnt id=hl-43-11><a class=lnlinks href=#hl-43-11>11</a>
</span><span class=lnt id=hl-43-12><a class=lnlinks href=#hl-43-12>12</a>
</span><span class=lnt id=hl-43-13><a class=lnlinks href=#hl-43-13>13</a>
</span><span class=lnt id=hl-43-14><a class=lnlinks href=#hl-43-14>14</a>
</span><span class=lnt id=hl-43-15><a class=lnlinks href=#hl-43-15>15</a>
</span><span class=lnt id=hl-43-16><a class=lnlinks href=#hl-43-16>16</a>
</span><span class=lnt id=hl-43-17><a class=lnlinks href=#hl-43-17>17</a>
</span><span class=lnt id=hl-43-18><a class=lnlinks href=#hl-43-18>18</a>
</span><span class=lnt id=hl-43-19><a class=lnlinks href=#hl-43-19>19</a>
</span><span class=lnt id=hl-43-20><a class=lnlinks href=#hl-43-20>20</a>
</span><span class=lnt id=hl-43-21><a class=lnlinks href=#hl-43-21>21</a>
</span><span class=lnt id=hl-43-22><a class=lnlinks href=#hl-43-22>22</a>
</span><span class=lnt id=hl-43-23><a class=lnlinks href=#hl-43-23>23</a>
</span><span class=lnt id=hl-43-24><a class=lnlinks href=#hl-43-24>24</a>
</span><span class=lnt id=hl-43-25><a class=lnlinks href=#hl-43-25>25</a>
</span><span class=lnt id=hl-43-26><a class=lnlinks href=#hl-43-26>26</a>
</span><span class=lnt id=hl-43-27><a class=lnlinks href=#hl-43-27>27</a>
</span><span class=lnt id=hl-43-28><a class=lnlinks href=#hl-43-28>28</a>
</span><span class=lnt id=hl-43-29><a class=lnlinks href=#hl-43-29>29</a>
</span><span class=lnt id=hl-43-30><a class=lnlinks href=#hl-43-30>30</a>
</span><span class=lnt id=hl-43-31><a class=lnlinks href=#hl-43-31>31</a>
</span><span class=lnt id=hl-43-32><a class=lnlinks href=#hl-43-32>32</a>
</span><span class=lnt id=hl-43-33><a class=lnlinks href=#hl-43-33>33</a>
</span><span class=lnt id=hl-43-34><a class=lnlinks href=#hl-43-34>34</a>
</span><span class=lnt id=hl-43-35><a class=lnlinks href=#hl-43-35>35</a>
</span><span class=lnt id=hl-43-36><a class=lnlinks href=#hl-43-36>36</a>
</span><span class=lnt id=hl-43-37><a class=lnlinks href=#hl-43-37>37</a>
</span><span class=lnt id=hl-43-38><a class=lnlinks href=#hl-43-38>38</a>
</span><span class=lnt id=hl-43-39><a class=lnlinks href=#hl-43-39>39</a>
</span><span class=lnt id=hl-43-40><a class=lnlinks href=#hl-43-40>40</a>
</span><span class=lnt id=hl-43-41><a class=lnlinks href=#hl-43-41>41</a>
</span><span class=lnt id=hl-43-42><a class=lnlinks href=#hl-43-42>42</a>
</span><span class=lnt id=hl-43-43><a class=lnlinks href=#hl-43-43>43</a>
</span><span class=lnt id=hl-43-44><a class=lnlinks href=#hl-43-44>44</a>
</span><span class=lnt id=hl-43-45><a class=lnlinks href=#hl-43-45>45</a>
</span><span class=lnt id=hl-43-46><a class=lnlinks href=#hl-43-46>46</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># approach_3_nonblocking_async.py</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>접근법 3: Non-Blocking 비동기 (권장)
</span></span></span><span class=line><span class=cl><span class=s2>- I/O 병렬 처리
</span></span></span><span class=line><span class=cl><span class=s2>- 단일 프로세스
</span></span></span><span class=line><span class=cl><span class=s2>- 메모리 효율
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>asyncio</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>aiofiles</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>process_file_async</span><span class=p>(</span><span class=n>filepath</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;파일 처리 (비동기)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1># 비동기 파일 읽기</span>
</span></span><span class=line><span class=cl>    <span class=k>async</span> <span class=k>with</span> <span class=n>aiofiles</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=n>filepath</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>data</span> <span class=o>=</span> <span class=k>await</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 비동기 sleep (다른 파일도 동시 처리)</span>
</span></span><span class=line><span class=cl>    <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>files</span> <span class=o>=</span> <span class=p>[</span><span class=sa>f</span><span class=s2>&#34;log_</span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>.txt&#34;</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10000</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 동시 실행 제한 (메모리 보호)</span>
</span></span><span class=line><span class=cl>    <span class=n>semaphore</span> <span class=o>=</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>Semaphore</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span>  <span class=c1># 최대 100개 동시</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>async</span> <span class=k>def</span> <span class=nf>limited_process</span><span class=p>(</span><span class=n>filepath</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>async</span> <span class=k>with</span> <span class=n>semaphore</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=k>await</span> <span class=n>process_file_async</span><span class=p>(</span><span class=n>filepath</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 10,000개 파일을 동시에 처리 (100개씩 배치)</span>
</span></span><span class=line><span class=cl>    <span class=n>results</span> <span class=o>=</span> <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>gather</span><span class=p>(</span><span class=o>*</span><span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=n>limited_process</span><span class=p>(</span><span class=n>f</span><span class=p>)</span> <span class=k>for</span> <span class=n>f</span> <span class=ow>in</span> <span class=n>files</span>
</span></span><span class=line><span class=cl>    <span class=p>])</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>end</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;소요 시간: </span><span class=si>{</span><span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=si>:</span><span class=s2>.1f</span><span class=si>}</span><span class=s2>초&#34;</span><span class=p>)</span>  <span class=c1># ~10초 (100배 빠름!)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;메모리: ~200MB (단일 프로세스)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>asyncio</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>main</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><hr><p><strong>결과 비교</strong>:</p><table><thead><tr><th>접근법</th><th>소요 시간</th><th>CPU 사용률</th><th>메모리</th><th>복잡도</th><th>권장도</th></tr></thead><tbody><tr><td>Blocking 순차</td><td>1,000 초</td><td>12%</td><td>50MB</td><td>낮음</td><td>❌ 느림</td></tr><tr><td>Blocking 멀티프로세스</td><td>125 초</td><td>95%</td><td>2GB</td><td>중간</td><td>⚠️ 메모리</td></tr><tr><td>Non-Blocking 비동기</td><td>10 초</td><td>30%</td><td>200MB</td><td>중간</td><td>✅ 최적</td></tr></tbody></table><p><strong>결론</strong>: I/O bound 작업 (파일, 네트워크) 에서는 <strong>Non-Blocking 이 압도적</strong></p><hr><h3 id=62-운영-관점-비교>6.2 운영 관점 비교<a hidden class=anchor aria-hidden=true href=#62-운영-관점-비교>#</a></h3><h4 id=모니터링-표>모니터링 표<a hidden class=anchor aria-hidden=true href=#모니터링-표>#</a></h4><table><thead><tr><th>카테고리</th><th>메트릭</th><th>Blocking 측정</th><th>Non-Blocking 측정</th><th>정상 범위</th><th>경고 기준</th><th>위험 기준</th><th>관측 도구</th></tr></thead><tbody><tr><td><strong>처리량</strong></td><td>초당 요청 수 (RPS)</td><td>웹 서버 로그, 미들웨어</td><td>동일</td><td>설계 목표의 50~80%</td><td>&lt; 50%</td><td>&lt; 30%</td><td>Prometheus, Grafana</td></tr><tr><td><strong>지연</strong></td><td>p50/p95/p99 응답 시간 (ms)</td><td>APM, 애플리케이션 로그</td><td>동일</td><td>p95 &lt; 500ms</td><td>p95 > 1000ms</td><td>p99 > 3000ms</td><td>New Relic, DataDog, Elastic APM</td></tr><tr><td><strong>동시성</strong></td><td>활성 연결 수</td><td>스레드 수 모니터링</td><td>이벤트 루프 작업 수</td><td>&lt; 설계 최대치의 70%</td><td>> 80%</td><td>> 95%</td><td>OS metrics, 애플리케이션 로그</td></tr><tr><td><strong>자원 - CPU</strong></td><td>CPU 사용률 (%)</td><td><code>top</code>, <code>htop</code></td><td>동일</td><td>50~70%</td><td>> 80%</td><td>> 95%</td><td>Prometheus node_exporter</td></tr><tr><td><strong>자원 - 메모리</strong></td><td>메모리 사용량 (MB)</td><td>RSS, VSZ</td><td>RSS (일반적으로 더 낮음)</td><td>&lt; 할당량의 70%</td><td>> 80%</td><td>> 90%</td><td>cAdvisor, Prometheus</td></tr><tr><td><strong>스레드</strong></td><td>스레드 수</td><td><code>/proc/[pid]/status</code>, jstack</td><td>일반적으로 1 개 (이벤트 루프)</td><td>고정 (풀 크기)</td><td>증가 추세</td><td>폭발적 증가</td><td>JMX (Java), psutil (Python)</td></tr><tr><td><strong>이벤트 루프</strong></td><td>이벤트 루프 지연 (ms)</td><td>N/A</td><td>전용 메트릭 (Node.js: lag)</td><td>&lt; 10ms</td><td>> 50ms</td><td>> 100ms</td><td>prom-client, custom metrics</td></tr><tr><td><strong>커넥션 풀</strong></td><td>DB 커넥션 풀 사용률 (%)</td><td>풀 라이브러리 메트릭</td><td>동일 (더 효율적)</td><td>&lt; 70%</td><td>> 80%</td><td>> 95%</td><td>DB 드라이버 메트릭, Prometheus</td></tr><tr><td><strong>에러</strong></td><td>에러율 (%)</td><td>HTTP 5xx 비율</td><td>동일</td><td>&lt; 0.1%</td><td>> 1%</td><td>> 5%</td><td>로그 집계, Sentry</td></tr><tr><td><strong>타임아웃</strong></td><td>타임아웃 비율 (%)</td><td>타임아웃 로그 카운트</td><td>동일</td><td>&lt; 0.01%</td><td>> 0.1%</td><td>> 1%</td><td>애플리케이션 로그</td></tr></tbody></table><hr><h4 id=트러블슈팅-표>트러블슈팅 표<a hidden class=anchor aria-hidden=true href=#트러블슈팅-표>#</a></h4><table><thead><tr><th>증상</th><th>Blocking 주요 원인</th><th>Non-Blocking 주요 원인</th><th>공통 주요 원인</th><th>진단 도구</th><th>임시 조치</th><th>근본 해결</th></tr></thead><tbody><tr><td><strong>처리량 급락</strong></td><td>스레드 풀 고갈, 컨텍스트 스위칭 폭증</td><td>이벤트 루프 블로킹, CPU 집약 작업</td><td>DB 슬로우 쿼리</td><td><code>top</code>, <code>perf</code>, DB slow log</td><td>인스턴스 증설</td><td>쿼리 최적화, 인덱스 추가</td></tr><tr><td><strong>응답 시간 증가 (p99 > 3 초)</strong></td><td>데드락, Lock 경합, 메모리 부족</td><td>콜백 체인 지연, Promise 미해결</td><td>외부 API 지연</td><td>APM, 분산 추적</td><td>타임아웃 설정 강화</td><td>서킷 브레이커, 캐싱</td></tr><tr><td><strong>메모리 누수</strong></td><td>스레드 로컬 스토리지 누적</td><td>클로저 참조, 이벤트 리스너 미해제</td><td>객체 풀 관리 실패</td><td>Heap dump, Valgrind, memory profiler</td><td>재시작 (임시)</td><td>프로파일링, 코드 리뷰</td></tr><tr><td><strong>CPU 사용률 100%</strong></td><td>무한 루프, 비효율 알고리즘</td><td>Busy-waiting, 동기 작업 블로킹</td><td>정규식 폭발</td><td><code>perf top</code>, <code>strace</code>, Flame Graph</td><td>해당 인스턴스 격리</td><td>코드 최적화, Worker Threads</td></tr><tr><td><strong>커넥션 풀 고갈</strong></td><td>커넥션 미반환, 트랜잭션 미종료</td><td>acquire() 후 예외, finally 누락</td><td>DB 최대 연결 수 초과</td><td>DB 연결 모니터, 풀 메트릭</td><td>풀 크기 임시 증가</td><td>커넥션 라이프사이클 관리 개선</td></tr><tr><td><strong>간헐적 타임아웃</strong></td><td>Lock 대기, 스레드 스타베이션</td><td>이벤트 루프 지연, Microtask 큐 포화</td><td>네트워크 패킷 손실</td><td>Wireshark, tcpdump, 분산 추적</td><td>재시도 로직 추가</td><td>타임아웃 계층별 설정, 모니터링 강화</td></tr><tr><td><strong>서버 무응답 (프로세스 살아있음)</strong></td><td>데드락, 모든 스레드 블로킹</td><td>이벤트 루프 완전 블로킹</td><td>OOM, Swap 사용</td><td><code>pstack</code>, <code>kill -3</code> (Java), <code>gdb</code></td><td>강제 재시작</td><td>데드락 탐지, Watchdog 타이머</td></tr><tr><td><strong>파일 디스크립터 고갈</strong></td><td>소켓 미닫힘, 스레드당 FD 증가</td><td>비동기 close() 누락, 이벤트 리스너 누적</td><td>ulimit 설정 낮음</td><td><code>lsof -p [pid]</code>, <code>/proc/[pid]/fd</code></td><td>ulimit 증가</td><td>finally 에서 자원 해제 보장</td></tr><tr><td><strong>로그 출력 지연</strong></td><td>동기 로깅 블로킹, 디스크 I/O 대기</td><td>동일 (로깅도 비동기 필요)</td><td>로그 레벨 과도</td><td><code>iostat</code>, 로그 버퍼 모니터</td><td>로그 레벨 낮춤</td><td>비동기 로깅, 원격 로깅 (syslog)</td></tr></tbody></table><hr><h4 id=성능-최적화-체크리스트>성능 최적화 체크리스트<a hidden class=anchor aria-hidden=true href=#성능-최적화-체크리스트>#</a></h4><p><strong>공통 최적화</strong>:</p><ul><li><input disabled type=checkbox> 슬로우 쿼리 식별 및 최적화 (인덱스, 쿼리 리팩토링)</li><li><input disabled type=checkbox> 캐싱 전략 수립 (Redis, Memcached, CDN)</li><li><input disabled type=checkbox> 불필요한 데이터 전송 제거 (JSON 압축, GraphQL)</li><li><input disabled type=checkbox> 배치 처리로 전환 가능한 작업 식별</li><li><input disabled type=checkbox> 정적 자산 CDN 이관</li></ul><p><strong>Blocking 특화 최적화</strong>:</p><ul><li><input disabled type=checkbox> 스레드 풀 크기 최적화 (CPU 코어 수 × 2 ~ 4)</li><li><input disabled type=checkbox> 커넥션 풀 크기 제한 (스레드 수보다 작게)</li><li><input disabled type=checkbox> Lock 범위 최소화, Lock-free 자료구조 검토</li><li><input disabled type=checkbox> CPU 집약 작업 별도 워커로 분리</li><li><input disabled type=checkbox> 스레드 로컬 스토리지 사용 최소화</li></ul><p><strong>Non-Blocking 특화 최적화</strong>:</p><ul><li><input disabled type=checkbox> 이벤트 루프 블로킹 작업 제거 (동기 I/O, CPU 작업)</li><li><input disabled type=checkbox> CPU 집약 작업 Worker Threads/Process 로 오프로드</li><li><input disabled type=checkbox> 동시 작업 수 제한 (Semaphore, Rate Limiting)</li><li><input disabled type=checkbox> Promise/Future 체인 최적화 (병렬화)</li><li><input disabled type=checkbox> 백프레셔 메커니즘 구현 (스트림 pause/resume)</li><li><input disabled type=checkbox> 메모리 누수 점검 (클로저 참조, 이벤트 리스너)</li><li><input disabled type=checkbox> uvloop (Python), libuv 튜닝 (Node.js)</li></ul><hr><h3 id=63-통합-및-연계>6.3 통합 및 연계<a hidden class=anchor aria-hidden=true href=#63-통합-및-연계>#</a></h3><h4 id=주요-통합-패턴>주요 통합 패턴<a hidden class=anchor aria-hidden=true href=#주요-통합-패턴>#</a></h4><p><strong>A. API Gateway 패턴</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-44-1><a class=lnlinks href=#hl-44-1> 1</a>
</span><span class=lnt id=hl-44-2><a class=lnlinks href=#hl-44-2> 2</a>
</span><span class=lnt id=hl-44-3><a class=lnlinks href=#hl-44-3> 3</a>
</span><span class=lnt id=hl-44-4><a class=lnlinks href=#hl-44-4> 4</a>
</span><span class=lnt id=hl-44-5><a class=lnlinks href=#hl-44-5> 5</a>
</span><span class=lnt id=hl-44-6><a class=lnlinks href=#hl-44-6> 6</a>
</span><span class=lnt id=hl-44-7><a class=lnlinks href=#hl-44-7> 7</a>
</span><span class=lnt id=hl-44-8><a class=lnlinks href=#hl-44-8> 8</a>
</span><span class=lnt id=hl-44-9><a class=lnlinks href=#hl-44-9> 9</a>
</span><span class=lnt id=hl-44-10><a class=lnlinks href=#hl-44-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[클라이언트]
</span></span><span class=line><span class=cl>    ↓
</span></span><span class=line><span class=cl>[Nginx (Non-Blocking)]  ← 프론트엔드: 정적 파일, 로드 밸런싱
</span></span><span class=line><span class=cl>    ↓
</span></span><span class=line><span class=cl>[API Gateway (Non-Blocking)]  ← 인증, 라우팅, Rate Limiting
</span></span><span class=line><span class=cl>    ↓
</span></span><span class=line><span class=cl>┌─────────┬─────────┬─────────┐
</span></span><span class=line><span class=cl>│Service A│Service B│Service C│  ← 백엔드: Blocking/Non-Blocking 혼합 가능
</span></span><span class=line><span class=cl>│(Blocking)│(Non-Blk)│(Blocking)│
</span></span><span class=line><span class=cl>└─────────┴─────────┴─────────┘
</span></span></code></pre></td></tr></table></div></div><p><strong>장점</strong>:</p><ul><li>프론트엔드 Non-Blocking 으로 높은 동시성 처리</li><li>백엔드는 비즈니스 로직에 집중, 선택 자유</li></ul><hr><p><strong>B. 하이브리드 패턴</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-45-1><a class=lnlinks href=#hl-45-1> 1</a>
</span><span class=lnt id=hl-45-2><a class=lnlinks href=#hl-45-2> 2</a>
</span><span class=lnt id=hl-45-3><a class=lnlinks href=#hl-45-3> 3</a>
</span><span class=lnt id=hl-45-4><a class=lnlinks href=#hl-45-4> 4</a>
</span><span class=lnt id=hl-45-5><a class=lnlinks href=#hl-45-5> 5</a>
</span><span class=lnt id=hl-45-6><a class=lnlinks href=#hl-45-6> 6</a>
</span><span class=lnt id=hl-45-7><a class=lnlinks href=#hl-45-7> 7</a>
</span><span class=lnt id=hl-45-8><a class=lnlinks href=#hl-45-8> 8</a>
</span><span class=lnt id=hl-45-9><a class=lnlinks href=#hl-45-9> 9</a>
</span><span class=lnt id=hl-45-10><a class=lnlinks href=#hl-45-10>10</a>
</span><span class=lnt id=hl-45-11><a class=lnlinks href=#hl-45-11>11</a>
</span><span class=lnt id=hl-45-12><a class=lnlinks href=#hl-45-12>12</a>
</span><span class=lnt id=hl-45-13><a class=lnlinks href=#hl-45-13>13</a>
</span><span class=lnt id=hl-45-14><a class=lnlinks href=#hl-45-14>14</a>
</span><span class=lnt id=hl-45-15><a class=lnlinks href=#hl-45-15>15</a>
</span><span class=lnt id=hl-45-16><a class=lnlinks href=#hl-45-16>16</a>
</span><span class=lnt id=hl-45-17><a class=lnlinks href=#hl-45-17>17</a>
</span><span class=lnt id=hl-45-18><a class=lnlinks href=#hl-45-18>18</a>
</span><span class=lnt id=hl-45-19><a class=lnlinks href=#hl-45-19>19</a>
</span><span class=lnt id=hl-45-20><a class=lnlinks href=#hl-45-20>20</a>
</span><span class=lnt id=hl-45-21><a class=lnlinks href=#hl-45-21>21</a>
</span><span class=lnt id=hl-45-22><a class=lnlinks href=#hl-45-22>22</a>
</span><span class=lnt id=hl-45-23><a class=lnlinks href=#hl-45-23>23</a>
</span><span class=lnt id=hl-45-24><a class=lnlinks href=#hl-45-24>24</a>
</span><span class=lnt id=hl-45-25><a class=lnlinks href=#hl-45-25>25</a>
</span><span class=lnt id=hl-45-26><a class=lnlinks href=#hl-45-26>26</a>
</span><span class=lnt id=hl-45-27><a class=lnlinks href=#hl-45-27>27</a>
</span><span class=lnt id=hl-45-28><a class=lnlinks href=#hl-45-28>28</a>
</span><span class=lnt id=hl-45-29><a class=lnlinks href=#hl-45-29>29</a>
</span><span class=lnt id=hl-45-30><a class=lnlinks href=#hl-45-30>30</a>
</span><span class=lnt id=hl-45-31><a class=lnlinks href=#hl-45-31>31</a>
</span><span class=lnt id=hl-45-32><a class=lnlinks href=#hl-45-32>32</a>
</span><span class=lnt id=hl-45-33><a class=lnlinks href=#hl-45-33>33</a>
</span><span class=lnt id=hl-45-34><a class=lnlinks href=#hl-45-34>34</a>
</span><span class=lnt id=hl-45-35><a class=lnlinks href=#hl-45-35>35</a>
</span><span class=lnt id=hl-45-36><a class=lnlinks href=#hl-45-36>36</a>
</span><span class=lnt id=hl-45-37><a class=lnlinks href=#hl-45-37>37</a>
</span><span class=lnt id=hl-45-38><a class=lnlinks href=#hl-45-38>38</a>
</span><span class=lnt id=hl-45-39><a class=lnlinks href=#hl-45-39>39</a>
</span><span class=lnt id=hl-45-40><a class=lnlinks href=#hl-45-40>40</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># hybrid_service.py</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>Non-Blocking 서버 + Blocking CPU 작업 오프로드
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>fastapi</span> <span class=kn>import</span> <span class=n>FastAPI</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>concurrent.futures</span> <span class=kn>import</span> <span class=n>ProcessPoolExecutor</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>asyncio</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>FastAPI</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># CPU 집약 작업용 프로세스 풀</span>
</span></span><span class=line><span class=cl><span class=n>cpu_executor</span> <span class=o>=</span> <span class=n>ProcessPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>cpu_intensive_task</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;CPU 집약 작업 (Blocking)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1># 이미지 처리, 암호화, ML 추론 등</span>
</span></span><span class=line><span class=cl>    <span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>  <span class=c1># 시뮬레이션</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;처리 완료: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>data</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.post</span><span class=p>(</span><span class=s2>&#34;/api/process&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>process_data</span><span class=p>(</span><span class=n>data</span><span class=p>:</span> <span class=nb>dict</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    I/O는 Non-Blocking, CPU 작업은 별도 프로세스
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1># 1. DB 조회 (Non-Blocking)</span>
</span></span><span class=line><span class=cl>    <span class=n>user_data</span> <span class=o>=</span> <span class=k>await</span> <span class=n>fetch_from_db</span><span class=p>(</span><span class=n>data</span><span class=p>[</span><span class=s1>&#39;user_id&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 2. CPU 집약 작업 (Blocking → 프로세스 풀로 오프로드)</span>
</span></span><span class=line><span class=cl>    <span class=n>loop</span> <span class=o>=</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>get_event_loop</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>result</span> <span class=o>=</span> <span class=k>await</span> <span class=n>loop</span><span class=o>.</span><span class=n>run_in_executor</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>cpu_executor</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>cpu_intensive_task</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>user_data</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 3. 결과 저장 (Non-Blocking)</span>
</span></span><span class=line><span class=cl>    <span class=k>await</span> <span class=n>save_to_db</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;success&#34;</span><span class=p>,</span> <span class=s2>&#34;result&#34;</span><span class=p>:</span> <span class=n>result</span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><hr><p><strong>C. 메시지 큐 연동</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-46-1><a class=lnlinks href=#hl-46-1> 1</a>
</span><span class=lnt id=hl-46-2><a class=lnlinks href=#hl-46-2> 2</a>
</span><span class=lnt id=hl-46-3><a class=lnlinks href=#hl-46-3> 3</a>
</span><span class=lnt id=hl-46-4><a class=lnlinks href=#hl-46-4> 4</a>
</span><span class=lnt id=hl-46-5><a class=lnlinks href=#hl-46-5> 5</a>
</span><span class=lnt id=hl-46-6><a class=lnlinks href=#hl-46-6> 6</a>
</span><span class=lnt id=hl-46-7><a class=lnlinks href=#hl-46-7> 7</a>
</span><span class=lnt id=hl-46-8><a class=lnlinks href=#hl-46-8> 8</a>
</span><span class=lnt id=hl-46-9><a class=lnlinks href=#hl-46-9> 9</a>
</span><span class=lnt id=hl-46-10><a class=lnlinks href=#hl-46-10>10</a>
</span><span class=lnt id=hl-46-11><a class=lnlinks href=#hl-46-11>11</a>
</span><span class=lnt id=hl-46-12><a class=lnlinks href=#hl-46-12>12</a>
</span><span class=lnt id=hl-46-13><a class=lnlinks href=#hl-46-13>13</a>
</span><span class=lnt id=hl-46-14><a class=lnlinks href=#hl-46-14>14</a>
</span><span class=lnt id=hl-46-15><a class=lnlinks href=#hl-46-15>15</a>
</span><span class=lnt id=hl-46-16><a class=lnlinks href=#hl-46-16>16</a>
</span><span class=lnt id=hl-46-17><a class=lnlinks href=#hl-46-17>17</a>
</span><span class=lnt id=hl-46-18><a class=lnlinks href=#hl-46-18>18</a>
</span><span class=lnt id=hl-46-19><a class=lnlinks href=#hl-46-19>19</a>
</span><span class=lnt id=hl-46-20><a class=lnlinks href=#hl-46-20>20</a>
</span><span class=lnt id=hl-46-21><a class=lnlinks href=#hl-46-21>21</a>
</span><span class=lnt id=hl-46-22><a class=lnlinks href=#hl-46-22>22</a>
</span><span class=lnt id=hl-46-23><a class=lnlinks href=#hl-46-23>23</a>
</span><span class=lnt id=hl-46-24><a class=lnlinks href=#hl-46-24>24</a>
</span><span class=lnt id=hl-46-25><a class=lnlinks href=#hl-46-25>25</a>
</span><span class=lnt id=hl-46-26><a class=lnlinks href=#hl-46-26>26</a>
</span><span class=lnt id=hl-46-27><a class=lnlinks href=#hl-46-27>27</a>
</span><span class=lnt id=hl-46-28><a class=lnlinks href=#hl-46-28>28</a>
</span><span class=lnt id=hl-46-29><a class=lnlinks href=#hl-46-29>29</a>
</span><span class=lnt id=hl-46-30><a class=lnlinks href=#hl-46-30>30</a>
</span><span class=lnt id=hl-46-31><a class=lnlinks href=#hl-46-31>31</a>
</span><span class=lnt id=hl-46-32><a class=lnlinks href=#hl-46-32>32</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># message_queue_integration.py</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>Non-Blocking + 메시지 큐 (비동기 작업 처리)
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>fastapi</span> <span class=kn>import</span> <span class=n>FastAPI</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>aio_pika</span>  <span class=c1># RabbitMQ 비동기 클라이언트</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>FastAPI</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>publish_to_queue</span><span class=p>(</span><span class=n>message</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;메시지 큐에 비동기 발행&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>connection</span> <span class=o>=</span> <span class=k>await</span> <span class=n>aio_pika</span><span class=o>.</span><span class=n>connect_robust</span><span class=p>(</span><span class=s2>&#34;amqp://rabbitmq/&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>async</span> <span class=k>with</span> <span class=n>connection</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>channel</span> <span class=o>=</span> <span class=k>await</span> <span class=n>connection</span><span class=o>.</span><span class=n>channel</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>await</span> <span class=n>channel</span><span class=o>.</span><span class=n>default_exchange</span><span class=o>.</span><span class=n>publish</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>aio_pika</span><span class=o>.</span><span class=n>Message</span><span class=p>(</span><span class=n>body</span><span class=o>=</span><span class=n>message</span><span class=o>.</span><span class=n>encode</span><span class=p>()),</span>
</span></span><span class=line><span class=cl>            <span class=n>routing_key</span><span class=o>=</span><span class=s2>&#34;task_queue&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.post</span><span class=p>(</span><span class=s2>&#34;/api/submit-task&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>submit_task</span><span class=p>(</span><span class=n>task_data</span><span class=p>:</span> <span class=nb>dict</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    비동기로 작업 제출 (Fire-and-Forget)
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1># 즉시 큐에 발행하고 반환 (Non-Blocking)</span>
</span></span><span class=line><span class=cl>    <span class=k>await</span> <span class=n>publish_to_queue</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>task_data</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;submitted&#34;</span><span class=p>,</span> <span class=s2>&#34;task_id&#34;</span><span class=p>:</span> <span class=n>task_data</span><span class=p>[</span><span class=s1>&#39;id&#39;</span><span class=p>]}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 별도 워커가 큐에서 소비 (Blocking/Non-Blocking 선택 가능)</span>
</span></span></code></pre></td></tr></table></div></div><hr><h4 id=안티패턴-및-해결책>안티패턴 및 해결책<a hidden class=anchor aria-hidden=true href=#안티패턴-및-해결책>#</a></h4><table><thead><tr><th>안티패턴</th><th>문제점</th><th>해결책</th></tr></thead><tbody><tr><td><strong>Non-Blocking 에서 동기 라이브러리 사용</strong></td><td>전체 이벤트 루프 블로킹</td><td>비동기 라이브러리로 교체 (aiohttp, asyncpg)</td></tr><tr><td><strong>CPU 작업을 이벤트 루프에서 실행</strong></td><td>이벤트 루프 지연, 다른 요청 블로킹</td><td>Worker Threads/Process 로 오프로드</td></tr><tr><td><strong>무제한 동시 작업</strong></td><td>메모리 고갈, 커넥션 풀 고갈</td><td>Semaphore 로 동시 작업 수 제한</td></tr><tr><td><strong>에러 처리 누락</strong></td><td>Silent Failure, 데이터 손실</td><td>try-except, unhandledRejection 핸들러 필수</td></tr><tr><td><strong>Blocking 과 Non-Blocking 혼용 (잘못)</strong></td><td>성능 저하, 예측 불가</td><td>명확히 분리 (Gateway: Non-Blk, Worker: Blocking)</td></tr><tr><td><strong>타임아웃 미설정</strong></td><td>무한 대기, 리소스 누수</td><td>모든 I/O 에 타임아웃 설정 (DB, HTTP, 파일)</td></tr><tr><td><strong>재시도 로직 남용</strong></td><td>Cascading Failure, 부하 증폭</td><td>Exponential Backoff, Circuit Breaker</td></tr></tbody></table><hr><h3 id=검증-대기-목록-4>검증 대기 목록<a hidden class=anchor aria-hidden=true href=#검증-대기-목록-4>#</a></h3><table><thead><tr><th>항목</th><th>부족 근거/의문</th><th>예상 1 차 출처</th><th>교차 검증 후보</th><th>담당</th><th>마감</th></tr></thead><tbody><tr><td>실제 프로덕션 장애 사례</td><td>더 많은 실제 사례 필요</td><td>사내 포스트모템</td><td>외부 블로그, 컨퍼런스</td><td>-</td><td>2025-10-30</td></tr><tr><td>커넥션 풀 크기 공식 검증</td><td>Little&rsquo;s Law 적용 정확성 확인</td><td>수학적 증명</td><td>실측 데이터</td><td>-</td><td>2025-11-05</td></tr><tr><td>모니터링 임계값</td><td>업계 표준 확인 필요</td><td>SRE 핸드북</td><td>사례 연구</td><td>-</td><td>2025-11-10</td></tr></tbody></table><hr><h2 id=phase-6-완료-체크>Phase 6 완료 체크<a hidden class=anchor aria-hidden=true href=#phase-6-완료-체크>#</a></h2><p>✅ <strong>완료 항목</strong>:</p><ul><li>실무 시나리오 TOP 3 상세 (웹 서버, DB 커넥션 풀, 파일 처리)</li><li>각 시나리오별 구현 가이드 및 체크리스트</li><li>운영 관점 모니터링 표 (10 개 메트릭)</li><li>트러블슈팅 플레이북 (9 개 증상)</li><li>성능 최적화 체크리스트 (공통 + 각 방식별)</li><li>통합 패턴 (3 개) 및 안티패턴 (7 개)</li></ul><p><strong>Phase 6 완료 상태</strong>: ✅<br><strong>다음 단계</strong>: Phase 7 (비교·통합 분석 정리) 진행 준비 완료</p><hr><p>좋습니다! <strong>Phase 7: 비교·통합 분석 정리</strong>를 진행하겠습니다.</p><hr><h2 id=phase-7-비교통합-분석-정리-멀티-대상-전용>Phase 7: 비교·통합 분석 정리 (멀티 대상 전용)<a hidden class=anchor aria-hidden=true href=#phase-7-비교통합-분석-정리-멀티-대상-전용>#</a></h2><h3 id=작성-계획-5>작성 계획<a hidden class=anchor aria-hidden=true href=#작성-계획-5>#</a></h3><p><strong>핵심 질문</strong>:</p><ol><li>모든 Phase 의 분석을 통합하여 어떤 결론을 도출할 수 있는가?</li><li>의사결정자에게 명확한 선택 가이드를 제공할 수 있는가?</li><li>각 대상의 상대적 우위를 정량화할 수 있는가?</li></ol><p><strong>데이터 소스/근거</strong>:</p><ul><li>Phase 0~6 의 모든 분석 결과</li><li>벤치마크 데이터</li><li>실무 시나리오 경험</li></ul><p><strong>작성 범위</strong>:</p><ul><li><strong>필수</strong>: 종합 스코어, 대상별 비교 요약, 선택 가이드</li><li><strong>권장</strong>: RSI 지표, 델타 분석</li><li><strong>생략</strong>: 극단적 엣지 케이스</li></ul><p><strong>결과물</strong>:</p><ul><li>최종 의사결정 가이드</li><li>종합 비교 매트릭스</li><li>상황별 추천 매트릭스</li></ul><hr><h3 id=71-비교-기준-및-가중치-설정>7.1 비교 기준 및 가중치 설정<a hidden class=anchor aria-hidden=true href=#71-비교-기준-및-가중치-설정>#</a></h3><h4 id=평가-기준-정의>평가 기준 정의<a hidden class=anchor aria-hidden=true href=#평가-기준-정의>#</a></h4><table><thead><tr><th>기준</th><th>설명</th><th>측정 방법</th><th style=text-align:right>가중치</th><th>근거</th></tr></thead><tbody><tr><td><strong>동시성</strong></td><td>동시에 처리 가능한 연결/작업 수</td><td>벤치마크 최대 동시 연결</td><td style=text-align:right>20%</td><td>현대 서비스의 핵심 요구사항</td></tr><tr><td><strong>자원 효율</strong></td><td>CPU, 메모리, 스레드 사용 효율</td><td>동일 작업 수행 시 자원 사용량</td><td style=text-align:right>15%</td><td>클라우드 비용 직결</td></tr><tr><td><strong>개발 생산성</strong></td><td>코드 작성, 디버깅, 유지보수 용이성</td><td>주관적 평가 + 개발 시간 측정</td><td style=text-align:right>15%</td><td>Time to Market, 팀 역량</td></tr><tr><td><strong>성능 (처리량)</strong></td><td>단위 시간당 처리 가능한 작업 수</td><td>RPS, TPS 벤치마크</td><td style=text-align:right>15%</td><td>비즈니스 성장 대응력</td></tr><tr><td><strong>성능 (지연)</strong></td><td>응답 시간 (특히 p95, p99)</td><td>지연 시간 측정</td><td style=text-align:right>10%</td><td>사용자 경험, SLA</td></tr><tr><td><strong>안정성</strong></td><td>장애 격리, 예측 가능성, 복구력</td><td>장애 시뮬레이션, 부하 테스트</td><td style=text-align:right>10%</td><td>프로덕션 운영 안정성</td></tr><tr><td><strong>운영성</strong></td><td>모니터링, 트러블슈팅, 배포 용이성</td><td>운영 복잡도 평가</td><td style=text-align:right>5%</td><td>DevOps 효율</td></tr><tr><td><strong>생태계</strong></td><td>라이브러리, 프레임워크, 커뮤니티 지원</td><td>사용 가능한 도구 수, 문서 품질</td><td style=text-align:right>5%</td><td>장기 유지보수성</td></tr><tr><td><strong>학습 곡선</strong></td><td>신규 개발자 적응 시간</td><td>교육 기간, 온보딩 시간</td><td style=text-align:right>5%</td><td>팀 확장성</td></tr><tr><td><strong>&mdash;</strong></td><td>&mdash;</td><td>&mdash;</td><td style=text-align:right><strong>100%</strong></td><td>&mdash;</td></tr></tbody></table><hr><h3 id=72-상대-우위-인덱스-rsi-산출>7.2 상대 우위 인덱스 (RSI) 산출<a hidden class=anchor aria-hidden=true href=#72-상대-우위-인덱스-rsi-산출>#</a></h3><h4 id=rsi-정의-및-계산-방법>RSI 정의 및 계산 방법<a hidden class=anchor aria-hidden=true href=#rsi-정의-및-계산-방법>#</a></h4><p><strong>정의</strong>: Phase 4 의 비교 우위·열위 매트릭스와 Phase 6 운영 비교 결과를 가중치에 적용해 대상별 상대 우위를 0~100 스케일로 정규화한 지표</p><p><strong>계산 공식</strong> (개념적):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-47-1><a class=lnlinks href=#hl-47-1>1</a>
</span><span class=lnt id=hl-47-2><a class=lnlinks href=#hl-47-2>2</a>
</span><span class=lnt id=hl-47-3><a class=lnlinks href=#hl-47-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>각 기준별 점수 = 0~10점
</span></span><span class=line><span class=cl>가중 점수 = 기준별 점수 × 가중치
</span></span><span class=line><span class=cl>RSI = Σ(가중 점수) × 10  // 0~100 스케일
</span></span></code></pre></td></tr></table></div></div><hr><h4 id=기준별-점수-평가-10-점-만점>기준별 점수 평가 (10 점 만점)<a hidden class=anchor aria-hidden=true href=#기준별-점수-평가-10-점-만점>#</a></h4><table><thead><tr><th>기준</th><th style=text-align:right>Blocking 점수</th><th style=text-align:right>Non-Blocking 점수</th><th>평가 근거</th></tr></thead><tbody><tr><td><strong>동시성</strong></td><td style=text-align:right>3</td><td style=text-align:right>10</td><td>벤치마크: B 500 vs NB 65,000 연결</td></tr><tr><td><strong>자원 효율</strong></td><td style=text-align:right>2</td><td style=text-align:right>9</td><td>메모리: B 4.8GB vs NB 450MB (10.7 배)</td></tr><tr><td><strong>개발 생산성</strong></td><td style=text-align:right>9</td><td style=text-align:right>5</td><td>코드 직관성, 디버깅 용이성 (B 우위)</td></tr><tr><td><strong>성능 (처리량)</strong></td><td style=text-align:right>4</td><td style=text-align:right>9</td><td>RPS: B 8,300 vs NB 42,500 (5.1 배, 1K 동시)</td></tr><tr><td><strong>성능 (지연)</strong></td><td style=text-align:right>5</td><td style=text-align:right>8</td><td>p99: B 320ms vs NB 68ms (4.7 배)</td></tr><tr><td><strong>안정성</strong></td><td style=text-align:right>7</td><td style=text-align:right>6</td><td>장애 격리 vs 전체 영향 (B 미세 우위)</td></tr><tr><td><strong>운영성</strong></td><td style=text-align:right>6</td><td style=text-align:right>7</td><td>모니터링 복잡도 vs 자원 효율 (NB 미세 우위)</td></tr><tr><td><strong>생태계</strong></td><td style=text-align:right>8</td><td style=text-align:right>7</td><td>B 성숙도 vs NB 현대화 (비슷함)</td></tr><tr><td><strong>학습 곡선</strong></td><td style=text-align:right>9</td><td style=text-align:right>4</td><td>초보자 적응: B 1 주 vs NB 1 개월</td></tr></tbody></table><hr><h4 id=rsi-계산-결과>RSI 계산 결과<a hidden class=anchor aria-hidden=true href=#rsi-계산-결과>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-48-1><a class=lnlinks href=#hl-48-1> 1</a>
</span><span class=lnt id=hl-48-2><a class=lnlinks href=#hl-48-2> 2</a>
</span><span class=lnt id=hl-48-3><a class=lnlinks href=#hl-48-3> 3</a>
</span><span class=lnt id=hl-48-4><a class=lnlinks href=#hl-48-4> 4</a>
</span><span class=lnt id=hl-48-5><a class=lnlinks href=#hl-48-5> 5</a>
</span><span class=lnt id=hl-48-6><a class=lnlinks href=#hl-48-6> 6</a>
</span><span class=lnt id=hl-48-7><a class=lnlinks href=#hl-48-7> 7</a>
</span><span class=lnt id=hl-48-8><a class=lnlinks href=#hl-48-8> 8</a>
</span><span class=lnt id=hl-48-9><a class=lnlinks href=#hl-48-9> 9</a>
</span><span class=lnt id=hl-48-10><a class=lnlinks href=#hl-48-10>10</a>
</span><span class=lnt id=hl-48-11><a class=lnlinks href=#hl-48-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Blocking RSI:
</span></span><span class=line><span class=cl>= (3×20% + 2×15% + 9×15% + 4×15% + 5×10% + 7×10% + 6×5% + 8×5% + 9×5%) × 10
</span></span><span class=line><span class=cl>= (0.6 + 0.3 + 1.35 + 0.6 + 0.5 + 0.7 + 0.3 + 0.4 + 0.45) × 10
</span></span><span class=line><span class=cl>= 5.20 × 10
</span></span><span class=line><span class=cl>= 52.0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Non-Blocking RSI:
</span></span><span class=line><span class=cl>= (10×20% + 9×15% + 5×15% + 9×15% + 8×10% + 6×10% + 7×5% + 7×5% + 4×5%) × 10
</span></span><span class=line><span class=cl>= (2.0 + 1.35 + 0.75 + 1.35 + 0.8 + 0.6 + 0.35 + 0.35 + 0.2) × 10
</span></span><span class=line><span class=cl>= 7.75 × 10
</span></span><span class=line><span class=cl>= 77.5
</span></span></code></pre></td></tr></table></div></div><p><strong>결론</strong>:</p><ul><li><strong>Non-Blocking RSI = 77.5</strong> (성능/확장성 중심)</li><li><strong>Blocking RSI = 52.0</strong> (개발 편의성 중심)</li><li><strong>격차 = 25.5 점</strong> (Non-Blocking 우위, 하지만 절대적 우위는 아님)</li></ul><hr><h3 id=73-종합-비교-스코어카드>7.3 종합 비교 스코어카드<a hidden class=anchor aria-hidden=true href=#73-종합-비교-스코어카드>#</a></h3><table><thead><tr><th>범주</th><th>Blocking 성과/상태</th><th>Non-Blocking 성과/상태</th><th>승자</th><th>격차</th><th>결정적 요인</th></tr></thead><tbody><tr><td><strong>기술 성능</strong></td><td>52/100</td><td>78/100</td><td>Non-Blocking</td><td>26 점</td><td>동시성, 자원 효율</td></tr><tr><td><strong>동시 처리</strong></td><td>500 연결</td><td>65,000 연결</td><td>Non-Blocking</td><td>130 배</td><td>이벤트 루프 vs 스레드</td></tr><tr><td><strong>메모리 효율</strong></td><td>4,800 MB (10K 연결)</td><td>450 MB (10K 연결)</td><td>Non-Blocking</td><td>10.7 배</td><td>스레드 스택 vs 단일 힙</td></tr><tr><td><strong>처리량</strong></td><td>8,300 RPS</td><td>42,500 RPS</td><td>Non-Blocking</td><td>5.1 배</td><td>컨텍스트 스위칭 제거</td></tr><tr><td><strong>지연 (p99)</strong></td><td>320 ms</td><td>68 ms</td><td>Non-Blocking</td><td>4.7 배</td><td>예측 가능한 이벤트 처리</td></tr><tr><td><strong>개발 속도</strong></td><td>빠름 (2 주)</td><td>느림 (4 주)</td><td>Blocking</td><td>2 배</td><td>순차 코드 vs 비동기 복잡도</td></tr><tr><td><strong>디버깅</strong></td><td>쉬움</td><td>어려움</td><td>Blocking</td><td>-</td><td>스택 트레이스 vs 비동기 추적</td></tr><tr><td><strong>코드 가독성</strong></td><td>높음</td><td>중간 (async/await 개선)</td><td>Blocking</td><td>-</td><td>직관적 흐름 vs 콜백 체인</td></tr><tr><td><strong>장애 격리</strong></td><td>좋음 (스레드별)</td><td>보통 (전체 영향 가능)</td><td>Blocking</td><td>-</td><td>스레드 크래시 vs 루프 중단</td></tr><tr><td><strong>학습 시간</strong></td><td>1 주</td><td>1~3 개월</td><td>Blocking</td><td>4~12 배</td><td>기본 개념 vs 이벤트 루프 이해</td></tr><tr><td><strong>클라우드 비용</strong></td><td>$6,000/월</td><td>$600/월</td><td>Non-Blocking</td><td>10 배</td><td>인스턴스 수 절감</td></tr><tr><td><strong>확장성</strong></td><td>수직 (Scale-up)</td><td>수평 (Scale-out)</td><td>Non-Blocking</td><td>-</td><td>메모리 한계 vs 네트워크 한계</td></tr><tr><td><strong>레거시 통합</strong></td><td>쉬움</td><td>어려움 (래퍼 필요)</td><td>Blocking</td><td>-</td><td>동기 API 직접 호출 vs 변환 필요</td></tr></tbody></table><hr><h3 id=74-대상별-전체-비교-요약>7.4 대상별 전체 비교 요약<a hidden class=anchor aria-hidden=true href=#74-대상별-전체-비교-요약>#</a></h3><h4 id=a-blocking-io-관점-전체-비교-요약-vs-non-blocking>A. Blocking I/O 관점 전체 비교 요약 (vs Non-Blocking)<a hidden class=anchor aria-hidden=true href=#a-blocking-io-관점-전체-비교-요약-vs-non-blocking>#</a></h4><p><strong>요약 (1 문단)</strong>:</p><p>Blocking I/O 는 Non-Blocking 대비 개발 생산성과 학습 곡선에서 압도적 우위를 보이며, 스택 트레이스 기반 디버깅과 순차적 코드 구조로 신규 개발자도 1 주 내 적응 가능하다. 장애 격리 측면에서도 스레드별 독립 실행으로 부분 장애에 강하며, 레거시 시스템 통합 시 동기 API 를 직접 호출할 수 있어 마이그레이션 비용이 낮다. 그러나 동시성 (500 vs 65,000 연결, 130 배 차이), 메모리 효율 (10.7 배 차이), 처리량 (5.1 배 차이), 클라우드 비용 (10 배 차이) 모든 측면에서 Non-Blocking 에 열위이며, 특히 동시 사용자 1,000 명 이상 환경에서는 치명적 한계를 드러낸다. 소규모 내부 도구나 CPU 집약 작업에서는 여전히 최선의 선택이지만, 대규모 공개 서비스에서는 Non-Blocking 으로의 전환이 불가피하다.</p><p><strong>비교 표</strong></p><table><thead><tr><th>범주</th><th>Blocking 성과/상태</th><th>Non-Blocking 대비 차이</th><th>결정 코멘트</th></tr></thead><tbody><tr><td>동시성</td><td>500 연결</td><td><strong>-99.2%</strong> (130 배 열위)</td><td>치명적 한계, 대규모 불가</td></tr><tr><td>자원 효율</td><td>4.8GB (10K 연결)</td><td><strong>-1,000%</strong> (10.7 배 많음)</td><td>클라우드 비용 10 배, 스케일 제약</td></tr><tr><td>처리량</td><td>8,300 RPS</td><td><strong>-80.5%</strong> (5.1 배 낮음)</td><td>비즈니스 성장 한계</td></tr><tr><td>지연 (p99)</td><td>320 ms</td><td><strong>+370%</strong> (4.7 배 느림)</td><td>SLA 달성 어려움</td></tr><tr><td>개발 속도</td><td>2 주</td><td><strong>+100%</strong> (2 배 빠름)</td><td>빠른 MVP, 프로토타입에 유리</td></tr><tr><td>디버깅</td><td>쉬움</td><td><strong>우위</strong></td><td>스택 트레이스 완전, IDE 도구 100% 활용</td></tr><tr><td>학습 곡선</td><td>1 주</td><td><strong>+400~1,200%</strong> (4~12 배 빠름)</td><td>초보자 친화적, 팀 확장 용이</td></tr><tr><td>장애 격리</td><td>좋음</td><td><strong>우위</strong></td><td>스레드별 독립, 부분 장애 허용</td></tr><tr><td>클라우드 비용</td><td>$6,000/월</td><td><strong>-1,000%</strong> (10 배 많음)</td><td>ROI 낮음, 운영 비용 부담</td></tr></tbody></table><p><strong>시나리오: 최적 / 주의 / 비권장</strong></p><ul><li><strong>최적</strong>: 소규모 내부 도구 (&lt; 100 동시), 배치 처리, CPU 집약 작업, 레거시 통합 우선, 신규 개발자 팀</li><li><strong>주의</strong>: 중규모 서비스 (100~1,000 동시), 하이브리드 아키텍처 검토, 스레드 풀 크기 최적화 필수</li><li><strong>비권장</strong>: 대규모 공개 API (> 1,000 동시), 실시간 서비스, 클라우드 네이티브, 마이크로서비스</li></ul><p><strong>운영·비용·통합 델타 요약</strong>:</p><ul><li><strong>운영</strong>: 모니터링 단순 (스레드 단위), 트러블슈팅 직관적, 하지만 컨텍스트 스위칭 가시성 낮음</li><li><strong>비용</strong>: 동일 성능 달성 위해 10 배 인스턴스 필요, 메모리 비용 10 배, 네트워크 비용 동일</li><li><strong>통합</strong>: 모든 라이브러리 호환, 레거시 시스템 직접 연동, 하지만 HTTP/2 비효율</li></ul><p><strong>개선 히스토리 핵심</strong>:</p><ul><li><strong>1995 POSIX Threads</strong>: 멀티스레드 도입으로 동시성 개선, 하지만 스레드당 1~8MB 메모리 부담</li><li><strong>2000 년대 Thread Pool</strong>: 스레드 생성 오버헤드 감소, 하지만 풀 크기 제한으로 확장성 한계</li><li><strong>2009 Go Goroutine</strong>: 경량 스레드로 블로킹 흡수, 하지만 여전히 시스템 콜 레벨에서는 블로킹</li></ul><hr><h4 id=b-non-blocking-io-관점-전체-비교-요약-vs-blocking>B. Non-Blocking I/O 관점 전체 비교 요약 (vs Blocking)<a hidden class=anchor aria-hidden=true href=#b-non-blocking-io-관점-전체-비교-요약-vs-blocking>#</a></h4><p><strong>요약 (1 문단)</strong>:</p><p>Non-Blocking I/O 는 Blocking 대비 동시성 (130 배), 메모리 효율 (10.7 배), 처리량 (5.1 배), 응답 속도 (p99 4.7 배) 에서 압도적 우위를 보이며, 단일 스레드로 65,000 개 동시 연결 처리와 클라우드 비용 1/10 절감을 실현한다. C10K 문제의 근본 해결책으로 대규모 공개 서비스, 실시간 애플리케이션, 마이크로서비스 아키텍처의 사실상 표준이 되었으며, HTTP/2, WebSocket 같은 현대 프로토콜과 완벽히 호환된다. 그러나 개발 생산성 (2 배 느림), 학습 곡선 (4~12 배 김), 디버깅 복잡도 (비동기 스택 추적 불완전) 에서 Blocking 에 열위이며, 특히 비동기 프로그래밍 미숙련 팀에서는 콜백 지옥과 메모리 누수 문제가 빈번하다. CPU 집약 작업에서는 단일 스레드 한계로 오히려 성능 저하가 발생하므로 Worker Threads/Process 병행 필수다.</p><p><strong>비교 표</strong></p><table><thead><tr><th>범주</th><th>Non-Blocking 성과/상태</th><th>Blocking 대비 차이</th><th>결정 코멘트</th></tr></thead><tbody><tr><td>동시성</td><td>65,000 연결</td><td><strong>+12,900%</strong> (130 배 우위)</td><td>C10K 해결, 대규모 서비스 가능</td></tr><tr><td>자원 효율</td><td>450MB (10K 연결)</td><td><strong>-90.6%</strong> (10.7 배 적음)</td><td>클라우드 비용 1/10, 동일 하드웨어 10 배 처리</td></tr><tr><td>처리량</td><td>42,500 RPS</td><td><strong>+412%</strong> (5.1 배 높음)</td><td>비즈니스 확장 대응, 트래픽 급증 흡수</td></tr><tr><td>지연 (p99)</td><td>68 ms</td><td><strong>-78.8%</strong> (4.7 배 빠름)</td><td>SLA 달성 용이, 사용자 경험 향상</td></tr><tr><td>개발 속도</td><td>4 주</td><td><strong>-50%</strong> (2 배 느림)</td><td>비동기 코드 복잡도, 초기 개발 시간 증가</td></tr><tr><td>디버깅</td><td>어려움</td><td><strong>열위</strong></td><td>비동기 스택 불완전, 브레이크포인트 제한</td></tr><tr><td>학습 곡선</td><td>1~3 개월</td><td><strong>+400~1,200%</strong> (4~12 배 김)</td><td>이벤트 루프, 콜백 개념 학습 필요</td></tr><tr><td>장애 격리</td><td>보통</td><td><strong>열위</strong></td><td>단일 예외로 전체 루프 중단 가능</td></tr><tr><td>클라우드 비용</td><td>$600/월</td><td><strong>-90%</strong> (1/10)</td><td>ROI 높음, 운영 비용 절감</td></tr></tbody></table><p><strong>시나리오: 최적 / 주의 / 비권장</strong></p><ul><li><strong>최적</strong>: 대규모 공개 API (> 1,000 동시), 실시간 서비스 (채팅, 알림), 마이크로서비스, 클라우드 네이티브, I/O bound 워크로드</li><li><strong>주의</strong>: 중규모 서비스 (100~1,000 동시), CPU 집약 작업 병행 시 Worker 필수, 팀 비동기 경험 필요</li><li><strong>비권장</strong>: 순수 CPU 집약 작업 (이미지/비디오 처리), 초기 프로토타입 (빠른 검증 필요), 비동기 미숙련 팀 단독 프로젝트</li></ul><p><strong>운영·비용·통합 델타 요약</strong>:</p><ul><li><strong>운영</strong>: 이벤트 루프 지연 모니터링 필수, 비동기 스택 추적 도구 필요 (OpenTelemetry), 하지만 자원 효율로 인스턴스 수 적음</li><li><strong>비용</strong>: 동일 성능 달성에 1/10 인스턴스, 메모리 비용 1/10, 네트워크 비용 동일, 전체 TCO 70~80% 절감</li><li><strong>통합</strong>: 비동기 라이브러리 필수 (asyncpg, aiohttp), 동기 라이브러리 래핑 필요, HTTP/2, WebSocket 네이티브 지원</li></ul><p><strong>개선 히스토리 핵심</strong>:</p><ul><li><strong>2003 Linux epoll</strong>: select/poll 의 O(n) 비효율 개선, O(1) 이벤트 통지로 확장성 획기적 향상</li><li><strong>2011 Node.js/libuv</strong>: 크로스 플랫폼 이벤트 루프 추상화, JavaScript 비동기 프로그래밍 대중화</li><li><strong>2015 async/await</strong>: 콜백 지옥 해결, 동기 스타일 비동기 코드로 개발 생산성 회복</li><li><strong>2019 io_uring</strong>: 완전 비동기 I/O, 시스템 콜 오버헤드 제거, 차세대 고성능 I/O</li></ul><hr><h3 id=75-쌍대-비교-델타-표>7.5 쌍대 비교 델타 표<a hidden class=anchor aria-hidden=true href=#75-쌍대-비교-델타-표>#</a></h3><h4 id=blocking-vs-non-blocking-델타-표>Blocking Vs Non-Blocking 델타 표<a hidden class=anchor aria-hidden=true href=#blocking-vs-non-blocking-델타-표>#</a></h4><table><thead><tr><th>범주</th><th>Δ 우세 (승자)</th><th>핵심 근거 (지표/출처)</th><th>영향/리스크</th><th>비고</th></tr></thead><tbody><tr><td><strong>동시 연결</strong></td><td>Non-Blocking (130 배)</td><td>벤치마크: 500 vs 65,000 연결 (Phase 4)</td><td>B: 대규모 불가, NB: 네트워크 병목까지 처리</td><td>결정적 차이</td></tr><tr><td><strong>메모리 효율</strong></td><td>Non-Blocking (10.7 배)</td><td>측정: 4.8GB vs 450MB (Phase 4)</td><td>B: OOM 위험, NB: 동일 서버 10 배 수용</td><td>클라우드 비용 직결</td></tr><tr><td><strong>처리량 (1K 동시)</strong></td><td>Non-Blocking (5.1 배)</td><td>벤치마크: 8,300 vs 42,500 RPS (Phase 4)</td><td>B: 비즈니스 성장 제약, NB: 확장 여력</td><td>I/O bound 환경 한정</td></tr><tr><td><strong>지연 (p99)</strong></td><td>Non-Blocking (4.7 배)</td><td>측정: 320ms vs 68ms (Phase 4)</td><td>B: SLA 위반 위험, NB: 안정적 사용자 경험</td><td>꼬리 지연이 비즈니스 영향 큼</td></tr><tr><td><strong>개발 속도</strong></td><td>Blocking (2 배)</td><td>경험적: 2 주 vs 4 주 (Phase 1, 6)</td><td>B: 빠른 MVP, NB: 초기 투자 높음</td><td>async/await 으로 격차 감소 중</td></tr><tr><td><strong>코드 가독성</strong></td><td>Blocking</td><td>주관적: 순차 vs 비선형 (Phase 2, 5)</td><td>B: 유지보수 쉬움, NB: 콜백 체인 복잡</td><td>팀 역량에 따라 차이</td></tr><tr><td><strong>디버깅</strong></td><td>Blocking</td><td>도구 지원: 완전 스택 vs 부분 스택 (Phase 3, 6)</td><td>B: 빠른 버그 수정, NB: 장애 추적 어려움</td><td>OpenTelemetry 로 NB 개선 중</td></tr><tr><td><strong>학습 곡선</strong></td><td>Blocking (4~12 배)</td><td>교육 기간: 1 주 vs 1~3 개월 (Phase 1)</td><td>B: 팀 확장 쉬움, NB: 숙련 필요</td><td>신입 온보딩 시간 차이</td></tr><tr><td><strong>장애 격리</strong></td><td>Blocking (미세)</td><td>아키텍처: 스레드별 vs 단일 루프 (Phase 3, 6)</td><td>B: 부분 실패, NB: 전체 영향 가능</td><td>NB 는 에러 처리 엄격 필요</td></tr><tr><td><strong>CPU 집약</strong></td><td>Blocking</td><td>특성: 멀티스레드 vs 단일 스레드 (Phase 3)</td><td>B: 코어 활용, NB: Worker 병행 필수</td><td>워크로드 특성 의존</td></tr><tr><td><strong>클라우드 비용</strong></td><td>Non-Blocking (10 배)</td><td>계산: $6,000 vs $600/월 (Phase 6)</td><td>B: 운영 부담, NB: ROI 높음</td><td>TCO 70~80% 절감</td></tr><tr><td><strong>확장성</strong></td><td>Non-Blocking</td><td>한계: 스레드 수 vs 네트워크 (Phase 4)</td><td>B: 수직 확장만, NB: 수평 확장 용이</td><td>클라우드 시대 핵심</td></tr><tr><td><strong>모니터링</strong></td><td>비슷함</td><td>복잡도: 스레드 추적 vs 이벤트 루프 (Phase 6)</td><td>B: 스레드 가시성, NB: 루프 지연 측정</td><td>전용 도구 필요</td></tr><tr><td><strong>레거시 통합</strong></td><td>Blocking</td><td>호환성: 직접 vs 래퍼 (Phase 5)</td><td>B: 마이그레이션 쉬움, NB: 변환 비용</td><td>기존 인프라 고려</td></tr><tr><td><strong>프로토콜 지원</strong></td><td>Non-Blocking</td><td>현대성: HTTP/1.1 vs HTTP/2, WebSocket (Phase 1, 6)</td><td>B: 비효율, NB: 최적화</td><td>프로토콜 진화 대응</td></tr></tbody></table><p><strong>종합 평가</strong>:</p><ul><li><strong>성능·확장성·비용</strong>: Non-Blocking 압도적 우위 (5~130 배)</li><li><strong>개발·유지보수·학습</strong>: Blocking 명확한 우위 (2~12 배)</li><li><strong>결정 요인</strong>: 동시 사용자 수, 워크로드 특성, 팀 역량</li></ul><hr><h3 id=76-상황별-선택-가이드>7.6 상황별 선택 가이드<a hidden class=anchor aria-hidden=true href=#76-상황별-선택-가이드>#</a></h3><h4 id=요구사항-기반-선택-매트릭스>요구사항 기반 선택 매트릭스<a hidden class=anchor aria-hidden=true href=#요구사항-기반-선택-매트릭스>#</a></h4><table><thead><tr><th>요구사항</th><th style=text-align:right>Blocking 적합도</th><th style=text-align:right>Non-Blocking 적합도</th><th>최종 추천</th><th>근거</th></tr></thead><tbody><tr><td><strong>동시 사용자 &lt; 100</strong></td><td style=text-align:right>⭐⭐⭐⭐⭐</td><td style=text-align:right>⭐⭐⭐</td><td><strong>Blocking</strong></td><td>성능 차이 미미, 개발 속도 우선</td></tr><tr><td><strong>동시 사용자 100~1,000</strong></td><td style=text-align:right>⭐⭐⭐</td><td style=text-align:right>⭐⭐⭐⭐</td><td>팀 역량 고려</td><td>비동기 경험 있으면 Non-Blocking 권장</td></tr><tr><td><strong>동시 사용자 > 1,000</strong></td><td style=text-align:right>⭐</td><td style=text-align:right>⭐⭐⭐⭐⭐</td><td><strong>Non-Blocking</strong></td><td>Blocking 으로는 불가능, 필수 선택</td></tr><tr><td><strong>실시간 서비스 (채팅, 알림)</strong></td><td style=text-align:right>⭐</td><td style=text-align:right>⭐⭐⭐⭐⭐</td><td><strong>Non-Blocking</strong></td><td>WebSocket, SSE 필수, 낮은 지연 요구</td></tr><tr><td><strong>배치 처리 (일 1 회)</strong></td><td style=text-align:right>⭐⭐⭐⭐⭐</td><td style=text-align:right>⭐⭐</td><td><strong>Blocking</strong></td><td>순차 처리 자연스러움, 동시성 불필요</td></tr><tr><td><strong>CPU 집약 (이미지, 암호화)</strong></td><td style=text-align:right>⭐⭐⭐⭐</td><td style=text-align:right>⭐⭐</td><td><strong>Blocking</strong> (멀티프로세스)</td><td>멀티코어 활용 필수, NB 는 Worker 병행 필요</td></tr><tr><td><strong>I/O bound (DB, API 호출)</strong></td><td style=text-align:right>⭐⭐</td><td style=text-align:right>⭐⭐⭐⭐⭐</td><td><strong>Non-Blocking</strong></td><td>I/O 대기 시간 활용, 10 배 효율</td></tr><tr><td><strong>마이크로서비스 간 통신</strong></td><td style=text-align:right>⭐⭐</td><td style=text-align:right>⭐⭐⭐⭐⭐</td><td><strong>Non-Blocking</strong></td><td>서비스 메시 효율, gRPC, 비동기 HTTP</td></tr><tr><td><strong>레거시 시스템 통합</strong></td><td style=text-align:right>⭐⭐⭐⭐⭐</td><td style=text-align:right>⭐⭐</td><td><strong>Blocking</strong></td><td>기존 API 직접 호출, 래퍼 불필요</td></tr><tr><td><strong>신규 팀 (비동기 미경험)</strong></td><td style=text-align:right>⭐⭐⭐⭐</td><td style=text-align:right>⭐⭐</td><td><strong>Blocking</strong> (단기)</td><td>학습 곡선 고려, 장기적으로 NB 전환 계획</td></tr><tr><td><strong>숙련 팀 (비동기 경험 1 년 +)</strong></td><td style=text-align:right>⭐⭐</td><td style=text-align:right>⭐⭐⭐⭐⭐</td><td><strong>Non-Blocking</strong></td><td>생산성 차이 최소화, 성능 이득 극대화</td></tr><tr><td><strong>클라우드 비용 민감</strong></td><td style=text-align:right>⭐⭐</td><td style=text-align:right>⭐⭐⭐⭐⭐</td><td><strong>Non-Blocking</strong></td><td>인스턴스 1/10, TCO 70% 절감</td></tr><tr><td><strong>빠른 프로토타입 (1~2 주)</strong></td><td style=text-align:right>⭐⭐⭐⭐⭐</td><td style=text-align:right>⭐⭐⭐</td><td><strong>Blocking</strong></td><td>검증 속도 최우선, 추후 리팩토링</td></tr><tr><td><strong>엔터프라이즈 장기 운영</strong></td><td style=text-align:right>⭐⭐⭐</td><td style=text-align:right>⭐⭐⭐⭐</td><td><strong>Non-Blocking</strong></td><td>확장성, 운영 비용 장기적 이득</td></tr></tbody></table><hr><h4 id=실무-추천-시나리오-상세>실무 추천 시나리오 (상세)<a hidden class=anchor aria-hidden=true href=#실무-추천-시나리오-상세>#</a></h4><p><strong>시나리오 A: 스타트업 MVP (초기 단계)</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-49-1><a class=lnlinks href=#hl-49-1> 1</a>
</span><span class=lnt id=hl-49-2><a class=lnlinks href=#hl-49-2> 2</a>
</span><span class=lnt id=hl-49-3><a class=lnlinks href=#hl-49-3> 3</a>
</span><span class=lnt id=hl-49-4><a class=lnlinks href=#hl-49-4> 4</a>
</span><span class=lnt id=hl-49-5><a class=lnlinks href=#hl-49-5> 5</a>
</span><span class=lnt id=hl-49-6><a class=lnlinks href=#hl-49-6> 6</a>
</span><span class=lnt id=hl-49-7><a class=lnlinks href=#hl-49-7> 7</a>
</span><span class=lnt id=hl-49-8><a class=lnlinks href=#hl-49-8> 8</a>
</span><span class=lnt id=hl-49-9><a class=lnlinks href=#hl-49-9> 9</a>
</span><span class=lnt id=hl-49-10><a class=lnlinks href=#hl-49-10>10</a>
</span><span class=lnt id=hl-49-11><a class=lnlinks href=#hl-49-11>11</a>
</span><span class=lnt id=hl-49-12><a class=lnlinks href=#hl-49-12>12</a>
</span><span class=lnt id=hl-49-13><a class=lnlinks href=#hl-49-13>13</a>
</span><span class=lnt id=hl-49-14><a class=lnlinks href=#hl-49-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>상황</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>팀</span><span class=p>:</span><span class=w> </span><span class=m>2</span><span class=l>~3명, 비동기 미경험</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>사용자</span><span class=p>:</span><span class=w> </span><span class=l>초기 100명 예상</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>목표</span><span class=p>:</span><span class=w> </span><span class=l>2주 내 출시, 시장 검증</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>추천</span><span class=p>:</span><span class=w> </span><span class=l>Blocking (Flask, Django)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>근거</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>빠른 개발 속도 (2배)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>학습 곡선 짧음</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>초기 트래픽 충분히 감당</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>전환 시점</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>사용자 1,000명 돌파 시 Non-Blocking 마이그레이션</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>또는 시리즈 A 투자 후 리팩토링</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>시나리오 B: 중규모 SaaS (성장 단계)</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-50-1><a class=lnlinks href=#hl-50-1> 1</a>
</span><span class=lnt id=hl-50-2><a class=lnlinks href=#hl-50-2> 2</a>
</span><span class=lnt id=hl-50-3><a class=lnlinks href=#hl-50-3> 3</a>
</span><span class=lnt id=hl-50-4><a class=lnlinks href=#hl-50-4> 4</a>
</span><span class=lnt id=hl-50-5><a class=lnlinks href=#hl-50-5> 5</a>
</span><span class=lnt id=hl-50-6><a class=lnlinks href=#hl-50-6> 6</a>
</span><span class=lnt id=hl-50-7><a class=lnlinks href=#hl-50-7> 7</a>
</span><span class=lnt id=hl-50-8><a class=lnlinks href=#hl-50-8> 8</a>
</span><span class=lnt id=hl-50-9><a class=lnlinks href=#hl-50-9> 9</a>
</span><span class=lnt id=hl-50-10><a class=lnlinks href=#hl-50-10>10</a>
</span><span class=lnt id=hl-50-11><a class=lnlinks href=#hl-50-11>11</a>
</span><span class=lnt id=hl-50-12><a class=lnlinks href=#hl-50-12>12</a>
</span><span class=lnt id=hl-50-13><a class=lnlinks href=#hl-50-13>13</a>
</span><span class=lnt id=hl-50-14><a class=lnlinks href=#hl-50-14>14</a>
</span><span class=lnt id=hl-50-15><a class=lnlinks href=#hl-50-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>상황</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>팀</span><span class=p>:</span><span class=w> </span><span class=l>10명, 일부 비동기 경험</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>사용자</span><span class=p>:</span><span class=w> </span><span class=m>5</span><span class=p>,</span><span class=l>000명, 연 200% 성장</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>목표</span><span class=p>:</span><span class=w> </span><span class=l>안정적 확장, 비용 최적화</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>추천</span><span class=p>:</span><span class=w> </span><span class=l>Non-Blocking (FastAPI, Node.js)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>근거</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>확장성 확보 (10,000명+ 대비)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>클라우드 비용 1/10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>팀 성장과 함께 역량 축적</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>주의사항</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>비동기 교육 프로그램 필수</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>초기 2~3개월 생산성 하락 감수</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>코드 리뷰 강화 (비동기 안티패턴 방지)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>시나리오 C: 대규모 공개 API (성숙 단계)</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-51-1><a class=lnlinks href=#hl-51-1> 1</a>
</span><span class=lnt id=hl-51-2><a class=lnlinks href=#hl-51-2> 2</a>
</span><span class=lnt id=hl-51-3><a class=lnlinks href=#hl-51-3> 3</a>
</span><span class=lnt id=hl-51-4><a class=lnlinks href=#hl-51-4> 4</a>
</span><span class=lnt id=hl-51-5><a class=lnlinks href=#hl-51-5> 5</a>
</span><span class=lnt id=hl-51-6><a class=lnlinks href=#hl-51-6> 6</a>
</span><span class=lnt id=hl-51-7><a class=lnlinks href=#hl-51-7> 7</a>
</span><span class=lnt id=hl-51-8><a class=lnlinks href=#hl-51-8> 8</a>
</span><span class=lnt id=hl-51-9><a class=lnlinks href=#hl-51-9> 9</a>
</span><span class=lnt id=hl-51-10><a class=lnlinks href=#hl-51-10>10</a>
</span><span class=lnt id=hl-51-11><a class=lnlinks href=#hl-51-11>11</a>
</span><span class=lnt id=hl-51-12><a class=lnlinks href=#hl-51-12>12</a>
</span><span class=lnt id=hl-51-13><a class=lnlinks href=#hl-51-13>13</a>
</span><span class=lnt id=hl-51-14><a class=lnlinks href=#hl-51-14>14</a>
</span><span class=lnt id=hl-51-15><a class=lnlinks href=#hl-51-15>15</a>
</span><span class=lnt id=hl-51-16><a class=lnlinks href=#hl-51-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>상황</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>팀</span><span class=p>:</span><span class=w> </span><span class=l>50명+, 숙련된 엔지니어</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>사용자</span><span class=p>:</span><span class=w> </span><span class=m>100</span><span class=p>,</span><span class=l>000명+, 글로벌</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>목표</span><span class=p>:</span><span class=w> </span><span class=m>99.99</span><span class=l>% 가용성, p99 &lt; 100ms</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>추천</span><span class=p>:</span><span class=w> </span><span class=l>Non-Blocking (nginx + Go/Node.js)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>근거</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>Blocking으로는 불가능한 규모</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>클라우드 비용 수천만 원 절감</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>현대 프로토콜 (HTTP/2, gRPC) 필수</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>아키텍처</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>API Gateway</span><span class=p>:</span><span class=w> </span><span class=l>Non-Blocking (nginx, Envoy)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>비즈니스 로직</span><span class=p>:</span><span class=w> </span><span class=l>Non-Blocking (Node.js, Go)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>배치 처리</span><span class=p>:</span><span class=w> </span><span class=l>Blocking (Python, Java)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>하이브리드 전략으로 장점 극대화</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>시나리오 D: 엔터프라이즈 내부 시스템</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-52-1><a class=lnlinks href=#hl-52-1> 1</a>
</span><span class=lnt id=hl-52-2><a class=lnlinks href=#hl-52-2> 2</a>
</span><span class=lnt id=hl-52-3><a class=lnlinks href=#hl-52-3> 3</a>
</span><span class=lnt id=hl-52-4><a class=lnlinks href=#hl-52-4> 4</a>
</span><span class=lnt id=hl-52-5><a class=lnlinks href=#hl-52-5> 5</a>
</span><span class=lnt id=hl-52-6><a class=lnlinks href=#hl-52-6> 6</a>
</span><span class=lnt id=hl-52-7><a class=lnlinks href=#hl-52-7> 7</a>
</span><span class=lnt id=hl-52-8><a class=lnlinks href=#hl-52-8> 8</a>
</span><span class=lnt id=hl-52-9><a class=lnlinks href=#hl-52-9> 9</a>
</span><span class=lnt id=hl-52-10><a class=lnlinks href=#hl-52-10>10</a>
</span><span class=lnt id=hl-52-11><a class=lnlinks href=#hl-52-11>11</a>
</span><span class=lnt id=hl-52-12><a class=lnlinks href=#hl-52-12>12</a>
</span><span class=lnt id=hl-52-13><a class=lnlinks href=#hl-52-13>13</a>
</span><span class=lnt id=hl-52-14><a class=lnlinks href=#hl-52-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>상황</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>팀</span><span class=p>:</span><span class=w> </span><span class=l>5명, 레거시 유지보수 중심</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>사용자</span><span class=p>:</span><span class=w> </span><span class=l>내부 직원 500명</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>목표</span><span class=p>:</span><span class=w> </span><span class=l>안정성, 유지보수성</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>추천</span><span class=p>:</span><span class=w> </span><span class=l>Blocking (Spring MVC, Django)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>근거</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>기존 인프라 활용</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>레거시 통합 용이</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>동시성 요구 낮음</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>예외</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>새 마이크로서비스는 Non-Blocking 고려</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>장기적 현대화 계획 수립</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h3 id=77-공통점차이점-요약>7.7 공통점·차이점 요약<a hidden class=anchor aria-hidden=true href=#77-공통점차이점-요약>#</a></h3><h4 id=공통점>공통점<a hidden class=anchor aria-hidden=true href=#공통점>#</a></h4><table><thead><tr><th>항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>목적</strong></td><td>모두 I/O 작업을 처리하기 위한 메커니즘</td></tr><tr><td><strong>시스템 콜 기반</strong></td><td>read(), write() 등 동일한 시스템 콜 사용 (플래그만 다름)</td></tr><tr><td><strong>OS 의존</strong></td><td>운영체제 커널이 실제 I/O 수행 (애플리케이션은 요청만)</td></tr><tr><td><strong>버퍼 사용</strong></td><td>커널 버퍼 ↔ 유저 버퍼 데이터 복사 필요</td></tr><tr><td><strong>타임아웃 설정 가능</strong></td><td>둘 다 타임아웃 설정으로 무한 대기 방지 가능</td></tr><tr><td><strong>에러 처리 필요</strong></td><td>네트워크 장애, 파일 없음 등 동일한 에러 상황 처리 필요</td></tr><tr><td><strong>프로토콜 중립</strong></td><td>HTTP, TCP, UDP 등 모든 프로토콜에서 사용 가능</td></tr><tr><td><strong>성숙도</strong></td><td>둘 다 수십 년 검증된 안정적 기술</td></tr></tbody></table><hr><h4 id=핵심-차이점>핵심 차이점<a hidden class=anchor aria-hidden=true href=#핵심-차이점>#</a></h4><table><thead><tr><th>차원</th><th>Blocking</th><th>Non-Blocking</th><th>비즈니스 영향</th></tr></thead><tbody><tr><td><strong>제어 흐름</strong></td><td>순차적, 위→아래</td><td>이벤트 기반, 콜백</td><td>코드 복잡도 vs 확장성</td></tr><tr><td><strong>대기 메커니즘</strong></td><td>커널 대기 큐 (프로세스 Sleep)</td><td>유저 공간 이벤트 루프</td><td>자원 효율 10 배 차이</td></tr><tr><td><strong>동시성 모델</strong></td><td>멀티스레드/프로세스</td><td>단일 스레드 이벤트 루프</td><td>메모리 사용 10 배 차이</td></tr><tr><td><strong>확장 방식</strong></td><td>수직 (CPU, 메모리 증설)</td><td>수평 (인스턴스 추가)</td><td>클라우드 비용 10 배 차이</td></tr><tr><td><strong>병목 요인</strong></td><td>스레드 수, 컨텍스트 스위칭</td><td>이벤트 루프 블로킹, CPU</td><td>확장 한계 130 배 차이</td></tr><tr><td><strong>학습 난이도</strong></td><td>낮음 (기본 프로그래밍)</td><td>높음 (비동기 개념)</td><td>팀 온보딩 1 주 vs 1~3 개월</td></tr><tr><td><strong>디버깅</strong></td><td>쉬움 (스택 트레이스)</td><td>어려움 (비동기 추적)</td><td>장애 해결 시간 2 배 차이</td></tr><tr><td><strong>적합 워크로드</strong></td><td>CPU bound, 순차 처리</td><td>I/O bound, 높은 동시성</td><td>워크로드 특성이 선택 결정</td></tr><tr><td><strong>역사</strong></td><td>1970 년대 UNIX 이래 전통</td><td>1990 년대 후반 C10K 문제 해결</td><td>시대별 최적해 변화</td></tr></tbody></table><hr><h4 id=오해와-진실>오해와 진실<a hidden class=anchor aria-hidden=true href=#오해와-진실>#</a></h4><table><thead><tr><th>오해</th><th>진실</th></tr></thead><tbody><tr><td>&ldquo;Non-Blocking 이 항상 빠르다 "</td><td>CPU 집약 작업에서는 Blocking 이 더 빠름, I/O bound 에서만 유리</td></tr><tr><td>&ldquo;Blocking 은 구식이다 "</td><td>소규모와 CPU 집약 환경에서는 여전히 최선의 선택</td></tr><tr><td>&ldquo;Non-Blocking 은 무조건 어렵다 "</td><td>async/await 으로 개발 복잡도가 크게 감소, 학습 곡선 완화됨</td></tr><tr><td>&ldquo;Non-Blocking 은 단일 코어만 쓴다 "</td><td>멀티프로세스 (Node.js Cluster), Worker Threads 로 다중 코어 활용 가능</td></tr><tr><td>&ldquo;Blocking 은 멀티스레드로 해결된다 "</td><td>스레드 수 한계와 메모리 문제로 대규모에서는 불가능</td></tr><tr><td>" 둘 중 하나만 써야 한다 "</td><td>하이브리드 아키텍처가 실무에서 최적 (각 강점 활용)</td></tr></tbody></table><hr><h3 id=검증-대기-목록-5>검증 대기 목록<a hidden class=anchor aria-hidden=true href=#검증-대기-목록-5>#</a></h3><table><thead><tr><th>항목</th><th>부족 근거/의문</th><th>예상 1 차 출처</th><th>교차 검증 후보</th><th>담당</th><th>마감</th></tr></thead><tbody><tr><td>RSI 가중치 적절성</td><td>업계 표준 가중치 확인 필요</td><td>설문 조사</td><td>전문가 인터뷰</td><td>-</td><td>2025-11-15</td></tr><tr><td>클라우드 비용 계산 정확성</td><td>AWS/GCP 실제 요금 재검증</td><td>클라우드 Bill</td><td>FinOps 보고서</td><td>-</td><td>2025-11-20</td></tr><tr><td>시나리오별 추천 검증</td><td>실제 기업 사례 추가 수집</td><td>Case Study</td><td>고객 인터뷰</td><td>-</td><td>2025-11-25</td></tr></tbody></table><hr><h2 id=phase-7-완료-체크>Phase 7 완료 체크<a hidden class=anchor aria-hidden=true href=#phase-7-완료-체크>#</a></h2><p>✅ <strong>완료 항목</strong>:</p><ul><li>비교 기준 및 가중치 설정 (9 개 기준, 100% 합산)</li><li>RSI (상대 우위 인덱스) 산출 (B: 52.0, NB: 77.5)</li><li>종합 비교 스코어카드 (13 개 범주)</li><li>대상별 전체 비교 요약 (Blocking 관점, Non-Blocking 관점 각 1 문단 + 표)</li><li>쌍대 비교 델타 표 (15 개 범주)</li><li>상황별 선택 가이드 (14 개 요구사항, 4 개 상세 시나리오)</li><li>공통점·차이점 요약 (오해와 진실 포함)</li></ul><p><strong>Phase 7 완료 상태</strong>: ✅<br><strong>전체 문서 완성도</strong>: 95% (Phase 8 제외 시 100%)</p><hr><h2 id=최종-의사결정-플로우차트>최종 의사결정 플로우차트<a hidden class=anchor aria-hidden=true href=#최종-의사결정-플로우차트>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-53-1><a class=lnlinks href=#hl-53-1> 1</a>
</span><span class=lnt id=hl-53-2><a class=lnlinks href=#hl-53-2> 2</a>
</span><span class=lnt id=hl-53-3><a class=lnlinks href=#hl-53-3> 3</a>
</span><span class=lnt id=hl-53-4><a class=lnlinks href=#hl-53-4> 4</a>
</span><span class=lnt id=hl-53-5><a class=lnlinks href=#hl-53-5> 5</a>
</span><span class=lnt id=hl-53-6><a class=lnlinks href=#hl-53-6> 6</a>
</span><span class=lnt id=hl-53-7><a class=lnlinks href=#hl-53-7> 7</a>
</span><span class=lnt id=hl-53-8><a class=lnlinks href=#hl-53-8> 8</a>
</span><span class=lnt id=hl-53-9><a class=lnlinks href=#hl-53-9> 9</a>
</span><span class=lnt id=hl-53-10><a class=lnlinks href=#hl-53-10>10</a>
</span><span class=lnt id=hl-53-11><a class=lnlinks href=#hl-53-11>11</a>
</span><span class=lnt id=hl-53-12><a class=lnlinks href=#hl-53-12>12</a>
</span><span class=lnt id=hl-53-13><a class=lnlinks href=#hl-53-13>13</a>
</span><span class=lnt id=hl-53-14><a class=lnlinks href=#hl-53-14>14</a>
</span><span class=lnt id=hl-53-15><a class=lnlinks href=#hl-53-15>15</a>
</span><span class=lnt id=hl-53-16><a class=lnlinks href=#hl-53-16>16</a>
</span><span class=lnt id=hl-53-17><a class=lnlinks href=#hl-53-17>17</a>
</span><span class=lnt id=hl-53-18><a class=lnlinks href=#hl-53-18>18</a>
</span><span class=lnt id=hl-53-19><a class=lnlinks href=#hl-53-19>19</a>
</span><span class=lnt id=hl-53-20><a class=lnlinks href=#hl-53-20>20</a>
</span><span class=lnt id=hl-53-21><a class=lnlinks href=#hl-53-21>21</a>
</span><span class=lnt id=hl-53-22><a class=lnlinks href=#hl-53-22>22</a>
</span><span class=lnt id=hl-53-23><a class=lnlinks href=#hl-53-23>23</a>
</span><span class=lnt id=hl-53-24><a class=lnlinks href=#hl-53-24>24</a>
</span><span class=lnt id=hl-53-25><a class=lnlinks href=#hl-53-25>25</a>
</span><span class=lnt id=hl-53-26><a class=lnlinks href=#hl-53-26>26</a>
</span><span class=lnt id=hl-53-27><a class=lnlinks href=#hl-53-27>27</a>
</span><span class=lnt id=hl-53-28><a class=lnlinks href=#hl-53-28>28</a>
</span><span class=lnt id=hl-53-29><a class=lnlinks href=#hl-53-29>29</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[시작] 프로젝트 요구사항 분석
</span></span><span class=line><span class=cl>    │
</span></span><span class=line><span class=cl>    ├─ 동시 사용자는?
</span></span><span class=line><span class=cl>    │   ├─ &lt; 100명 → [Blocking 검토]
</span></span><span class=line><span class=cl>    │   ├─ 100~1,000명 → [팀 역량 평가]
</span></span><span class=line><span class=cl>    │   │   ├─ 비동기 경험 있음 → [Non-Blocking]
</span></span><span class=line><span class=cl>    │   │   └─ 비동기 미경험 → [Blocking + 전환 계획]
</span></span><span class=line><span class=cl>    │   └─ &gt; 1,000명 → [Non-Blocking 필수]
</span></span><span class=line><span class=cl>    │
</span></span><span class=line><span class=cl>    ├─ 워크로드 특성은?
</span></span><span class=line><span class=cl>    │   ├─ I/O bound (DB, API) → [Non-Blocking 우선]
</span></span><span class=line><span class=cl>    │   ├─ CPU bound → [Blocking 멀티프로세스]
</span></span><span class=line><span class=cl>    │   └─ 혼합 → [하이브리드 아키텍처]
</span></span><span class=line><span class=cl>    │
</span></span><span class=line><span class=cl>    ├─ 개발 일정은?
</span></span><span class=line><span class=cl>    │   ├─ &lt; 1개월 (급함) → [Blocking]
</span></span><span class=line><span class=cl>    │   └─ &gt; 1개월 → [Non-Blocking 가능]
</span></span><span class=line><span class=cl>    │
</span></span><span class=line><span class=cl>    ├─ 클라우드 비용 민감도?
</span></span><span class=line><span class=cl>    │   ├─ 매우 민감 → [Non-Blocking]
</span></span><span class=line><span class=cl>    │   └─ 덜 민감 → [개발 속도 우선]
</span></span><span class=line><span class=cl>    │
</span></span><span class=line><span class=cl>    └─ 레거시 통합 필요?
</span></span><span class=line><span class=cl>        ├─ 많음 → [Blocking 또는 Hybrid]
</span></span><span class=line><span class=cl>        └─ 적음 → [Non-Blocking 자유]
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[결정] → 선택된 I/O 모델로 구현
</span></span><span class=line><span class=cl>    │
</span></span><span class=line><span class=cl>    └─ 주기적 재평가 (6개월마다)
</span></span></code></pre></td></tr></table></div></div><hr><p>좋습니다! <strong>최종 정리 및 학습 가이드</strong>를 진행하겠습니다.</p><hr><h2 id=최종-정리-및-학습-가이드>최종 정리 및 학습 가이드<a hidden class=anchor aria-hidden=true href=#최종-정리-및-학습-가이드>#</a></h2><h3 id=내용-정리>내용 정리<a hidden class=anchor aria-hidden=true href=#내용-정리>#</a></h3><h4 id=핵심-개념-요약>핵심 개념 요약<a hidden class=anchor aria-hidden=true href=#핵심-개념-요약>#</a></h4><p><strong>Blocking I/O 란?</strong><br>I/O 작업이 완료될 때까지 호출한 스레드가 대기 (정지) 하는 방식입니다. 마치 은행 창구에서 번호표를 받고 가만히 앉아 기다리는 것과 같습니다. 코드가 순차적으로 실행되어 이해하기 쉽지만, 여러 사용자를 동시에 처리하려면 각각 별도의 스레드가 필요하여 자원 소비가 큽니다.</p><p><strong>핵심 특징</strong>:</p><ul><li><strong>제어 흐름</strong>: 순차적, 직관적</li><li><strong>동시성 모델</strong>: 멀티스레드/프로세스 필수</li><li><strong>자원 사용</strong>: 스레드당 1~8MB 메모리</li><li><strong>최대 동시 연결</strong>: ~500 (실용적 한계)</li><li><strong>장점</strong>: 단순성, 디버깅 용이, 학습 곡선 낮음</li><li><strong>단점</strong>: 낮은 확장성, 높은 메모리 사용, 컨텍스트 스위칭 오버헤드</li></ul><hr><p><strong>Non-Blocking I/O 란?</strong><br>I/O 작업을 요청하면 즉시 반환되어 다른 작업을 수행할 수 있는 방식입니다. 패스트푸드점에서 주문 후 진동벨을 받아 다른 일을 하다가 벨이 울리면 가서 받는 것과 같습니다. 단일 스레드로 수만 개 연결을 처리할 수 있지만, 콜백과 이벤트 루프 개념 이해가 필요합니다.</p><p><strong>핵심 특징</strong>:</p><ul><li><strong>제어 흐름</strong>: 이벤트 기반, 비선형</li><li><strong>동시성 모델</strong>: 단일 스레드 이벤트 루프</li><li><strong>자원 사용</strong>: 연결당 수 KB 메모리</li><li><strong>최대 동시 연결</strong>: ~65,000+ (실측)</li><li><strong>장점</strong>: 높은 확장성, 메모리 효율, 낮은 지연</li><li><strong>단점</strong>: 복잡한 코드, 디버깅 어려움, 높은 학습 곡선</li></ul><hr><p><strong>핵심 가치</strong></p><table><thead><tr><th>가치</th><th>Blocking</th><th>Non-Blocking</th></tr></thead><tbody><tr><td><strong>비즈니스 가치</strong></td><td>빠른 출시, 낮은 초기 비용</td><td>높은 확장성, 장기 운영 비용 절감</td></tr><tr><td><strong>기술 가치</strong></td><td>단순성, 안정성, 예측 가능성</td><td>성능, 효율, 현대 프로토콜 지원</td></tr><tr><td><strong>팀 가치</strong></td><td>낮은 진입 장벽, 빠른 온보딩</td><td>고급 기술 습득, 경쟁력 향상</td></tr></tbody></table><hr><h4 id=실무-연결>실무 연결<a hidden class=anchor aria-hidden=true href=#실무-연결>#</a></h4><p><strong>대표 시나리오와 적용 맥락</strong>:</p><ol><li><p><strong>웹 서버 구축</strong> (가장 흔한 사례)</p><ul><li><strong>Blocking</strong>: 소규모 내부 도구, 관리자 대시보드 (&lt; 100 동시)</li><li><strong>Non-Blocking</strong>: 공개 API, SaaS 플랫폼 (> 1,000 동시)</li><li><strong>핵심</strong>: 예상 트래픽과 성장률이 결정 요인</li></ul></li><li><p><strong>데이터베이스 연동</strong></p><ul><li><strong>Blocking</strong>: 커넥션 풀로 제한된 동시성 관리</li><li><strong>Non-Blocking</strong>: 비동기 드라이버로 효율적 커넥션 활용</li><li><strong>핵심</strong>: 커넥션 풀 크기 = 동시 쿼리 수 / 인스턴스 수</li></ul></li><li><p><strong>파일 처리</strong></p><ul><li><strong>Blocking</strong>: 순차 처리 또는 멀티프로세싱</li><li><strong>Non-Blocking</strong>: 비동기 파일 I/O 로 대량 병렬 처리</li><li><strong>핵심</strong>: 파일 수와 처리 시간의 곱이 기준</li></ul></li></ol><p><strong>선택 기준 요약</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-54-1><a class=lnlinks href=#hl-54-1> 1</a>
</span><span class=lnt id=hl-54-2><a class=lnlinks href=#hl-54-2> 2</a>
</span><span class=lnt id=hl-54-3><a class=lnlinks href=#hl-54-3> 3</a>
</span><span class=lnt id=hl-54-4><a class=lnlinks href=#hl-54-4> 4</a>
</span><span class=lnt id=hl-54-5><a class=lnlinks href=#hl-54-5> 5</a>
</span><span class=lnt id=hl-54-6><a class=lnlinks href=#hl-54-6> 6</a>
</span><span class=lnt id=hl-54-7><a class=lnlinks href=#hl-54-7> 7</a>
</span><span class=lnt id=hl-54-8><a class=lnlinks href=#hl-54-8> 8</a>
</span><span class=lnt id=hl-54-9><a class=lnlinks href=#hl-54-9> 9</a>
</span><span class=lnt id=hl-54-10><a class=lnlinks href=#hl-54-10>10</a>
</span><span class=lnt id=hl-54-11><a class=lnlinks href=#hl-54-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>IF 동시_사용자 &lt; 100 AND 팀_비동기_미경험:
</span></span><span class=line><span class=cl>    → Blocking (단순성 우선)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ELIF 동시_사용자 &gt; 1000 OR 실시간_서비스:
</span></span><span class=line><span class=cl>    → Non-Blocking (필수)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ELIF CPU_집약_작업:
</span></span><span class=line><span class=cl>    → Blocking (멀티프로세스)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ELSE:
</span></span><span class=line><span class=cl>    → 팀_역량과 예산_고려하여 선택
</span></span></code></pre></td></tr></table></div></div><hr><h4 id=한계주의사항>한계·주의사항<a hidden class=anchor aria-hidden=true href=#한계주의사항>#</a></h4><p><strong>Blocking I/O 의 한계</strong>:</p><ol><li><strong>확장성 벽</strong>: 스레드 수 증가 → 메모리 고갈 (동시 2,000 연결에서 한계)</li><li><strong>컨텍스트 스위칭</strong>: CPU 오버헤드 20~30%, 캐시 미스 증가</li><li><strong>예측 불가능한 장애</strong>: 갑작스러운 트래픽 급증 시 전체 서비스 중단</li><li><strong>클라우드 비용</strong>: 동일 성능에 10 배 인스턴스 필요</li></ol><p><strong>환경 제약</strong>:</p><ul><li>OS 스레드 최대 수 제한 (<code>ulimit -u</code>)</li><li>스택 크기 설정 (<code>ulimit -s</code>)</li><li>파일 디스크립터 한계 (<code>ulimit -n</code>)</li></ul><p><strong>전제 조건</strong>:</p><ul><li>멀티스레드 동기화 이해 (Lock, Mutex)</li><li>데드락 방지 기법 숙지</li><li>스레드 풀 크기 적절히 설정</li></ul><hr><p><strong>Non-Blocking I/O 의 한계</strong>:</p><ol><li><strong>CPU 집약 한계</strong>: 단일 스레드라 CPU 작업 시 전체 블로킹</li><li><strong>디버깅 어려움</strong>: 비동기 스택 트레이스 불완전, 재현 어려움</li><li><strong>메모리 누수</strong>: 클로저 참조, 이벤트 리스너 누적으로 메모리 누수 빈번</li><li><strong>학습 곡선</strong>: 이벤트 루프, 콜백, Promise 개념 이해 필요 (1~3 개월)</li></ol><p><strong>환경 제약</strong>:</p><ul><li>비동기 라이브러리 필수 (DB 드라이버, HTTP 클라이언트)</li><li>OS 별 I/O 멀티플렉싱 차이 (epoll/kqueue/IOCP)</li><li>이벤트 루프 블로킹 방지 (동기 I/O, CPU 작업 금지)</li></ul><p><strong>전제 조건</strong>:</p><ul><li>비동기 프로그래밍 패러다임 이해</li><li>콜백 지옥 해결 방법 숙지 (async/await)</li><li>백프레셔 (Backpressure) 개념 이해</li></ul><hr><h3 id=학습-로드맵>학습 로드맵<a hidden class=anchor aria-hidden=true href=#학습-로드맵>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-55-1><a class=lnlinks href=#hl-55-1> 1</a>
</span><span class=lnt id=hl-55-2><a class=lnlinks href=#hl-55-2> 2</a>
</span><span class=lnt id=hl-55-3><a class=lnlinks href=#hl-55-3> 3</a>
</span><span class=lnt id=hl-55-4><a class=lnlinks href=#hl-55-4> 4</a>
</span><span class=lnt id=hl-55-5><a class=lnlinks href=#hl-55-5> 5</a>
</span><span class=lnt id=hl-55-6><a class=lnlinks href=#hl-55-6> 6</a>
</span><span class=lnt id=hl-55-7><a class=lnlinks href=#hl-55-7> 7</a>
</span><span class=lnt id=hl-55-8><a class=lnlinks href=#hl-55-8> 8</a>
</span><span class=lnt id=hl-55-9><a class=lnlinks href=#hl-55-9> 9</a>
</span><span class=lnt id=hl-55-10><a class=lnlinks href=#hl-55-10>10</a>
</span><span class=lnt id=hl-55-11><a class=lnlinks href=#hl-55-11>11</a>
</span><span class=lnt id=hl-55-12><a class=lnlinks href=#hl-55-12>12</a>
</span><span class=lnt id=hl-55-13><a class=lnlinks href=#hl-55-13>13</a>
</span><span class=lnt id=hl-55-14><a class=lnlinks href=#hl-55-14>14</a>
</span><span class=lnt id=hl-55-15><a class=lnlinks href=#hl-55-15>15</a>
</span><span class=lnt id=hl-55-16><a class=lnlinks href=#hl-55-16>16</a>
</span><span class=lnt id=hl-55-17><a class=lnlinks href=#hl-55-17>17</a>
</span><span class=lnt id=hl-55-18><a class=lnlinks href=#hl-55-18>18</a>
</span><span class=lnt id=hl-55-19><a class=lnlinks href=#hl-55-19>19</a>
</span><span class=lnt id=hl-55-20><a class=lnlinks href=#hl-55-20>20</a>
</span><span class=lnt id=hl-55-21><a class=lnlinks href=#hl-55-21>21</a>
</span><span class=lnt id=hl-55-22><a class=lnlinks href=#hl-55-22>22</a>
</span><span class=lnt id=hl-55-23><a class=lnlinks href=#hl-55-23>23</a>
</span><span class=lnt id=hl-55-24><a class=lnlinks href=#hl-55-24>24</a>
</span><span class=lnt id=hl-55-25><a class=lnlinks href=#hl-55-25>25</a>
</span><span class=lnt id=hl-55-26><a class=lnlinks href=#hl-55-26>26</a>
</span><span class=lnt id=hl-55-27><a class=lnlinks href=#hl-55-27>27</a>
</span><span class=lnt id=hl-55-28><a class=lnlinks href=#hl-55-28>28</a>
</span><span class=lnt id=hl-55-29><a class=lnlinks href=#hl-55-29>29</a>
</span><span class=lnt id=hl-55-30><a class=lnlinks href=#hl-55-30>30</a>
</span><span class=lnt id=hl-55-31><a class=lnlinks href=#hl-55-31>31</a>
</span><span class=lnt id=hl-55-32><a class=lnlinks href=#hl-55-32>32</a>
</span><span class=lnt id=hl-55-33><a class=lnlinks href=#hl-55-33>33</a>
</span><span class=lnt id=hl-55-34><a class=lnlinks href=#hl-55-34>34</a>
</span><span class=lnt id=hl-55-35><a class=lnlinks href=#hl-55-35>35</a>
</span><span class=lnt id=hl-55-36><a class=lnlinks href=#hl-55-36>36</a>
</span><span class=lnt id=hl-55-37><a class=lnlinks href=#hl-55-37>37</a>
</span><span class=lnt id=hl-55-38><a class=lnlinks href=#hl-55-38>38</a>
</span><span class=lnt id=hl-55-39><a class=lnlinks href=#hl-55-39>39</a>
</span><span class=lnt id=hl-55-40><a class=lnlinks href=#hl-55-40>40</a>
</span><span class=lnt id=hl-55-41><a class=lnlinks href=#hl-55-41>41</a>
</span><span class=lnt id=hl-55-42><a class=lnlinks href=#hl-55-42>42</a>
</span><span class=lnt id=hl-55-43><a class=lnlinks href=#hl-55-43>43</a>
</span><span class=lnt id=hl-55-44><a class=lnlinks href=#hl-55-44>44</a>
</span><span class=lnt id=hl-55-45><a class=lnlinks href=#hl-55-45>45</a>
</span><span class=lnt id=hl-55-46><a class=lnlinks href=#hl-55-46>46</a>
</span><span class=lnt id=hl-55-47><a class=lnlinks href=#hl-55-47>47</a>
</span><span class=lnt id=hl-55-48><a class=lnlinks href=#hl-55-48>48</a>
</span><span class=lnt id=hl-55-49><a class=lnlinks href=#hl-55-49>49</a>
</span><span class=lnt id=hl-55-50><a class=lnlinks href=#hl-55-50>50</a>
</span><span class=lnt id=hl-55-51><a class=lnlinks href=#hl-55-51>51</a>
</span><span class=lnt id=hl-55-52><a class=lnlinks href=#hl-55-52>52</a>
</span><span class=lnt id=hl-55-53><a class=lnlinks href=#hl-55-53>53</a>
</span><span class=lnt id=hl-55-54><a class=lnlinks href=#hl-55-54>54</a>
</span><span class=lnt id=hl-55-55><a class=lnlinks href=#hl-55-55>55</a>
</span><span class=lnt id=hl-55-56><a class=lnlinks href=#hl-55-56>56</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># 전체 학습 로드맵 (4주 프로그램)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>Week 1</span><span class=p>:</span><span class=w> </span><span class=l>기초 이론 및 개념</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>목표</span><span class=p>:</span><span class=w> </span><span class=l>Blocking과 Non-Blocking의 차이 명확히 이해</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>학습 항목</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>Phase 0, 1, 2 정독 (개념, 정의, 기초)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>일상 비유로 직관적 이해</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>간단한 Python 예제 실습 (Phase 2 코드)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>실습</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>Blocking Echo 서버 구현 (30줄)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>Non-Blocking Echo 서버 구현 (asyncio, 50줄)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>검증</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>두 방식의 차이를 동료에게 설명할 수 있는가?</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>예상 시간</span><span class=p>:</span><span class=w> </span><span class=l>10시간</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>Week 2</span><span class=p>:</span><span class=w> </span><span class=l>핵심 원리 및 시스템 콜</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>목표</span><span class=p>:</span><span class=w> </span><span class=l>커널 레벨에서 동작 원리 이해</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>학습 항목</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>Phase 3 정독 (시스템 콜, 이벤트 루프)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>strace, ltrace로 시스템 콜 관찰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>epoll, select 동작 메커니즘</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>실습</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>strace로 Blocking/Non-Blocking 차이 관찰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>select(), epoll() 직접 구현 (C 또는 Python)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>검증</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>시스템 콜 트레이스를 읽고 해석할 수 있는가?</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>예상 시간</span><span class=p>:</span><span class=w> </span><span class=l>15시간</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>Week 3</span><span class=p>:</span><span class=w> </span><span class=l>성능 및 실무 적용</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>목표</span><span class=p>:</span><span class=w> </span><span class=l>벤치마크, 최적화, 실무 패턴 습득</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>학습 항목</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>Phase 4, 5, 6 정독 (성능, 구현, 실무)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>wrk, ab로 벤치마크 실습</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>주요 프레임워크 비교 (FastAPI, Express)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>실습</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>웹 서버 성능 벤치마크 (처리량, 지연)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>데이터베이스 커넥션 풀 최적화</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>실무 시나리오 구현 (TOP 3 중 1개)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>검증</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>벤치마크 결과를 분석하고 병목 지점을 찾을 수 있는가?</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>예상 시간</span><span class=p>:</span><span class=w> </span><span class=l>20시간</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>Week 4</span><span class=p>:</span><span class=w> </span><span class=l>통합 분석 및 의사결정</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>목표</span><span class=p>:</span><span class=w> </span><span class=l>프로젝트에 맞는 선택 능력 배양</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>학습 항목</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>Phase 7 정독 (비교 통합 분석)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>의사결정 트리 연습</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>실제 프로젝트 케이스 스터디</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>실습</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>가상 프로젝트 3개의 I/O 모델 선택 연습</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>선택 근거를 문서화하고 팀에 발표</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>검증</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>새 프로젝트에서 근거 있는 선택을 할 수 있는가?</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>예상 시간</span><span class=p>:</span><span class=w> </span><span class=l>10시간</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>총 예상 시간</span><span class=p>:</span><span class=w> </span><span class=l>55시간 (약 1개월, 주당 14시간)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h3 id=단계별-상세-학습-항목>단계별 상세 학습 항목<a hidden class=anchor aria-hidden=true href=#단계별-상세-학습-항목>#</a></h3><h4 id=입문-단계-12-주-초심자>입문 단계 (1~2 주, 초심자)<a hidden class=anchor aria-hidden=true href=#입문-단계-12-주-초심자>#</a></h4><p><strong>목표</strong>: Blocking 과 Non-Blocking 의 차이를 개념적으로 이해하고 간단한 예제 실행</p><table><thead><tr><th>항목</th><th>세부 내용</th><th style=text-align:right>예상 시간</th><th>선행 조건</th><th>검증 방법</th></tr></thead><tbody><tr><td><strong>개념 기초</strong></td><td>정의, 배경, 필요성 이해</td><td style=text-align:right>2h</td><td>기본 프로그래밍</td><td>개념 요약 작성 (1 페이지)</td></tr><tr><td><strong>시스템 콜 기초</strong></td><td>read(), write(), fcntl() 이해</td><td style=text-align:right>3h</td><td>시스템 콜 개념</td><td>man page 읽고 이해</td></tr><tr><td><strong>코드 실습</strong></td><td>Phase 2 예제 실행 및 수정</td><td style=text-align:right>4h</td><td>Python 기초</td><td>예제 동작 확인</td></tr><tr><td><strong>벤치마크 기초</strong></td><td>curl, ab 로 간단한 성능 측정</td><td style=text-align:right>2h</td><td>터미널 사용</td><td>RPS 측정 및 비교</td></tr><tr><td><strong>퀴즈</strong></td><td>Phase 0~2 핵심 개념 퀴즈 (20 문항)</td><td style=text-align:right>1h</td><td>위 학습 완료</td><td>18/20 이상 정답</td></tr></tbody></table><p><strong>학습 자료</strong>:</p><ul><li>본 문서 Phase 0, 1, 2</li><li>Beej&rsquo;s Guide to Network Programming (영문)</li><li>" 그림으로 배우는 네트워크 원리 " (한글)</li></ul><p><strong>실습 프로젝트</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-56-1><a class=lnlinks href=#hl-56-1>1</a>
</span><span class=lnt id=hl-56-2><a class=lnlinks href=#hl-56-2>2</a>
</span><span class=lnt id=hl-56-3><a class=lnlinks href=#hl-56-3>3</a>
</span><span class=lnt id=hl-56-4><a class=lnlinks href=#hl-56-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 입문 프로젝트: 간단한 채팅 서버</span>
</span></span><span class=line><span class=cl><span class=c1># 1. Blocking 버전: Thread-per-connection</span>
</span></span><span class=line><span class=cl><span class=c1># 2. Non-Blocking 버전: asyncio</span>
</span></span><span class=line><span class=cl><span class=c1># 목표: 5명 동시 접속, 메시지 브로드캐스트</span>
</span></span></code></pre></td></tr></table></div></div><hr><h4 id=실무-단계-23-주-중급-개발자>실무 단계 (2~3 주, 중급 개발자)<a hidden class=anchor aria-hidden=true href=#실무-단계-23-주-중급-개발자>#</a></h4><p><strong>목표</strong>: 프로덕션 환경에서 적절한 I/O 모델 선택 및 구현</p><table><thead><tr><th>항목</th><th>세부 내용</th><th style=text-align:right>예상 시간</th><th>선행 조건</th><th>검증 방법</th></tr></thead><tbody><tr><td><strong>핵심 원리</strong></td><td>이벤트 루프, epoll, 커널 동작</td><td style=text-align:right>6h</td><td>입문 단계 완료</td><td>동작 흐름 다이어그램 작성</td></tr><tr><td><strong>프레임워크</strong></td><td>FastAPI, Node.js, Spring WebFlux 비교</td><td style=text-align:right>8h</td><td>해당 언어 경험</td><td>각 프레임워크로 API 구현</td></tr><tr><td><strong>성능 튜닝</strong></td><td>커넥션 풀, 타임아웃, 캐싱 전략</td><td style=text-align:right>6h</td><td>프레임워크 이해</td><td>성능 개선 전후 비교</td></tr><tr><td><strong>실무 시나리오</strong></td><td>웹 서버, DB 연동, 파일 처리 중 2 개 구현</td><td style=text-align:right>12h</td><td>프레임워크 선택</td><td>요구사항 충족 확인</td></tr><tr><td><strong>트러블슈팅</strong></td><td>메모리 누수, 이벤트 루프 블로킹 해결</td><td style=text-align:right>4h</td><td>프로파일링 도구</td><td>장애 재현 및 해결</td></tr></tbody></table><p><strong>학습 자료</strong>:</p><ul><li>본 문서 Phase 3, 4, 5, 6</li><li>UNIX Network Programming (Stevens)</li><li>Node.js Design Patterns (Casciaro)</li><li>High Performance Browser Networking (Grigorik)</li></ul><p><strong>실습 프로젝트</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-57-1><a class=lnlinks href=#hl-57-1> 1</a>
</span><span class=lnt id=hl-57-2><a class=lnlinks href=#hl-57-2> 2</a>
</span><span class=lnt id=hl-57-3><a class=lnlinks href=#hl-57-3> 3</a>
</span><span class=lnt id=hl-57-4><a class=lnlinks href=#hl-57-4> 4</a>
</span><span class=lnt id=hl-57-5><a class=lnlinks href=#hl-57-5> 5</a>
</span><span class=lnt id=hl-57-6><a class=lnlinks href=#hl-57-6> 6</a>
</span><span class=lnt id=hl-57-7><a class=lnlinks href=#hl-57-7> 7</a>
</span><span class=lnt id=hl-57-8><a class=lnlinks href=#hl-57-8> 8</a>
</span><span class=lnt id=hl-57-9><a class=lnlinks href=#hl-57-9> 9</a>
</span><span class=lnt id=hl-57-10><a class=lnlinks href=#hl-57-10>10</a>
</span><span class=lnt id=hl-57-11><a class=lnlinks href=#hl-57-11>11</a>
</span><span class=lnt id=hl-57-12><a class=lnlinks href=#hl-57-12>12</a>
</span><span class=lnt id=hl-57-13><a class=lnlinks href=#hl-57-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># 실무 프로젝트: REST API 서버</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>기능</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>사용자 CRUD</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>PostgreSQL 연동 (비동기 드라이버)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>외부 API 호출 (비동기 HTTP)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>JWT 인증</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>요구사항</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>동시 1,000 연결 처리</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>p95 응답 시간 &lt; 200ms</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>메모리 &lt; 500MB</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>평가</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>wrk로 부하 테스트</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>모니터링 대시보드 구성</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h4 id=전문가-단계-12-주-시니어-개발자아키텍트>전문가 단계 (1~2 주, 시니어 개발자/아키텍트)<a hidden class=anchor aria-hidden=true href=#전문가-단계-12-주-시니어-개발자아키텍트>#</a></h4><p><strong>목표</strong>: 대규모 시스템 설계, 최적화, 의사결정 리더십</p><table><thead><tr><th>항목</th><th>세부 내용</th><th style=text-align:right>예상 시간</th><th>선행 조건</th><th>검증 방법</th></tr></thead><tbody><tr><td><strong>심화 분석</strong></td><td>벤치마크 설계, 병목 분석, 프로파일링</td><td style=text-align:right>6h</td><td>실무 단계 완료</td><td>성능 분석 리포트 작성</td></tr><tr><td><strong>아키텍처 설계</strong></td><td>하이브리드, 마이크로서비스, 이벤트 소싱</td><td style=text-align:right>8h</td><td>시스템 설계 경험</td><td>아키텍처 다이어그램 (4C)</td></tr><tr><td><strong>고급 최적화</strong></td><td>Zero-copy, io_uring, 커널 바이패스</td><td style=text-align:right>6h</td><td>시스템 프로그래밍</td><td>성능 개선 측정</td></tr><tr><td><strong>의사결정</strong></td><td>기술 선택 문서화, 팀 설득, 리스크 관리</td><td style=text-align:right>4h</td><td>프로젝트 리딩 경험</td><td>ADR (Architecture Decision Record) 작성</td></tr><tr><td><strong>멘토링</strong></td><td>팀원 교육, 코드 리뷰, 베스트 프랙티스 전파</td><td style=text-align:right>6h</td><td>전문 지식</td><td>교육 자료 제작 및 세션 진행</td></tr></tbody></table><p><strong>학습 자료</strong>:</p><ul><li>본 문서 Phase 7 (+ Phase 8 선택)</li><li>The Linux Programming Interface (Kerrisk)</li><li>Designing Data-Intensive Applications (Kleppmann)</li><li>Site Reliability Engineering (Google)</li><li>io_uring 공식 문서</li></ul><p><strong>실습 프로젝트</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-58-1><a class=lnlinks href=#hl-58-1> 1</a>
</span><span class=lnt id=hl-58-2><a class=lnlinks href=#hl-58-2> 2</a>
</span><span class=lnt id=hl-58-3><a class=lnlinks href=#hl-58-3> 3</a>
</span><span class=lnt id=hl-58-4><a class=lnlinks href=#hl-58-4> 4</a>
</span><span class=lnt id=hl-58-5><a class=lnlinks href=#hl-58-5> 5</a>
</span><span class=lnt id=hl-58-6><a class=lnlinks href=#hl-58-6> 6</a>
</span><span class=lnt id=hl-58-7><a class=lnlinks href=#hl-58-7> 7</a>
</span><span class=lnt id=hl-58-8><a class=lnlinks href=#hl-58-8> 8</a>
</span><span class=lnt id=hl-58-9><a class=lnlinks href=#hl-58-9> 9</a>
</span><span class=lnt id=hl-58-10><a class=lnlinks href=#hl-58-10>10</a>
</span><span class=lnt id=hl-58-11><a class=lnlinks href=#hl-58-11>11</a>
</span><span class=lnt id=hl-58-12><a class=lnlinks href=#hl-58-12>12</a>
</span><span class=lnt id=hl-58-13><a class=lnlinks href=#hl-58-13>13</a>
</span><span class=lnt id=hl-58-14><a class=lnlinks href=#hl-58-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># 전문가 프로젝트: 고성능 API 게이트웨이</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>기능</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>라우팅, 로드 밸런싱</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>Rate Limiting, Circuit Breaker</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>인증/인가 (OAuth 2.0)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>분산 추적 (OpenTelemetry)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>요구사항</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>동시 50,000 연결</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>p99 &lt; 50ms</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>가용성 99.99%</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>평가</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>Chaos Engineering (장애 주입)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>프로덕션 배포 및 모니터링</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>SLO/SLI 정의 및 측정</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h3 id=체크리스트-학습-완성도-자가-진단>체크리스트: 학습 완성도 자가 진단<a hidden class=anchor aria-hidden=true href=#체크리스트-학습-완성도-자가-진단>#</a></h3><h4 id=level-1-기초-이해-입문>Level 1: 기초 이해 (입문)<a hidden class=anchor aria-hidden=true href=#level-1-기초-이해-입문>#</a></h4><ul><li><input disabled type=checkbox> Blocking 과 Non-Blocking 의 차이를 비전문가에게 설명할 수 있다</li><li><input disabled type=checkbox> 간단한 Blocking 서버를 Python/Java 로 작성할 수 있다</li><li><input disabled type=checkbox> 간단한 Non-Blocking 서버를 Python asyncio 로 작성할 수 있다</li><li><input disabled type=checkbox> curl, ab 로 기본적인 성능 측정을 할 수 있다</li><li><input disabled type=checkbox> 두 방식의 장단점을 3 가지씩 말할 수 있다</li></ul><p><strong>진단</strong>: 5 개 중 4 개 이상 체크 시 Level 2 로 진행</p><hr><h4 id=level-2-실무-적용-중급>Level 2: 실무 적용 (중급)<a hidden class=anchor aria-hidden=true href=#level-2-실무-적용-중급>#</a></h4><ul><li><input disabled type=checkbox> fcntl, O_NONBLOCK, epoll 의 동작을 설명할 수 있다</li><li><input disabled type=checkbox> 이벤트 루프의 동작 원리를 다이어그램으로 그릴 수 있다</li><li><input disabled type=checkbox> FastAPI, Express 등으로 REST API 를 구현할 수 있다</li><li><input disabled type=checkbox> 커넥션 풀 크기를 계산하고 최적화할 수 있다</li><li><input disabled type=checkbox> wrk 로 벤치마크하고 결과를 분석할 수 있다</li><li><input disabled type=checkbox> 메모리 누수, 이벤트 루프 블로킹을 진단하고 해결할 수 있다</li><li><input disabled type=checkbox> 프로젝트 요구사항에 따라 I/O 모델을 선택하고 근거를 제시할 수 있다</li></ul><p><strong>진단</strong>: 7 개 중 6 개 이상 체크 시 Level 3 로 진행</p><hr><h4 id=level-3-전문가-고급>Level 3: 전문가 (고급)<a hidden class=anchor aria-hidden=true href=#level-3-전문가-고급>#</a></h4><ul><li><input disabled type=checkbox> 대규모 시스템 (10K+ 동시) 아키텍처를 설계할 수 있다</li><li><input disabled type=checkbox> 벤치마크를 설계하고 병목 지점을 식별할 수 있다</li><li><input disabled type=checkbox> perf, strace, Flame Graph 등으로 프로파일링할 수 있다</li><li><input disabled type=checkbox> 하이브리드 아키텍처의 장단점을 평가할 수 있다</li><li><input disabled type=checkbox> io_uring, Zero-copy 같은 고급 기법을 설명할 수 있다</li><li><input disabled type=checkbox> 팀원에게 비동기 프로그래밍을 교육할 수 있다</li><li><input disabled type=checkbox> 기술 선택 문서 (ADR) 를 작성하고 경영진을 설득할 수 있다</li><li><input disabled type=checkbox> 프로덕션 장애를 분석하고 포스트모템을 작성할 수 있다</li></ul><p><strong>진단</strong>: 8 개 중 7 개 이상 체크 시 전문가 수준 달성 🎉</p><hr><h3 id=추천-학습-순서-역할별>추천 학습 순서 (역할별)<a hidden class=anchor aria-hidden=true href=#추천-학습-순서-역할별>#</a></h3><h4 id=백엔드-개발자-신입-12-년차>백엔드 개발자 (신입 1~2 년차)<a hidden class=anchor aria-hidden=true href=#백엔드-개발자-신입-12-년차>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-59-1><a class=lnlinks href=#hl-59-1>1</a>
</span><span class=lnt id=hl-59-2><a class=lnlinks href=#hl-59-2>2</a>
</span><span class=lnt id=hl-59-3><a class=lnlinks href=#hl-59-3>3</a>
</span><span class=lnt id=hl-59-4><a class=lnlinks href=#hl-59-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>1주차: Phase 2, 3 집중 (개념과 원리)
</span></span><span class=line><span class=cl>2주차: Phase 5 실습 (프레임워크 구현)
</span></span><span class=line><span class=cl>3주차: Phase 6 시나리오 1, 2 (웹 서버, DB)
</span></span><span class=line><span class=cl>4주차: Phase 4, 7 (성능 비교, 의사결정)
</span></span></code></pre></td></tr></table></div></div><h4 id=풀스택-개발자>풀스택 개발자<a hidden class=anchor aria-hidden=true href=#풀스택-개발자>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-60-1><a class=lnlinks href=#hl-60-1>1</a>
</span><span class=lnt id=hl-60-2><a class=lnlinks href=#hl-60-2>2</a>
</span><span class=lnt id=hl-60-3><a class=lnlinks href=#hl-60-3>3</a>
</span><span class=lnt id=hl-60-4><a class=lnlinks href=#hl-60-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>1주차: Phase 1, 2 (개념 빠르게)
</span></span><span class=line><span class=cl>2주차: Phase 5 (Node.js 중심)
</span></span><span class=line><span class=cl>3주차: Phase 6 시나리오 1 (웹 서버)
</span></span><span class=line><span class=cl>- 프론트엔드는 이미 비동기 (fetch, Promise)
</span></span></code></pre></td></tr></table></div></div><h4 id=devopssre-엔지니어>DevOps/SRE 엔지니어<a hidden class=anchor aria-hidden=true href=#devopssre-엔지니어>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-61-1><a class=lnlinks href=#hl-61-1>1</a>
</span><span class=lnt id=hl-61-2><a class=lnlinks href=#hl-61-2>2</a>
</span><span class=lnt id=hl-61-3><a class=lnlinks href=#hl-61-3>3</a>
</span><span class=lnt id=hl-61-4><a class=lnlinks href=#hl-61-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>1주차: Phase 1, 3 (개념, 원리)
</span></span><span class=line><span class=cl>2주차: Phase 4, 6 운영 섹션 (성능, 모니터링)
</span></span><span class=line><span class=cl>3주차: Phase 6 트러블슈팅 (장애 대응)
</span></span><span class=line><span class=cl>4주차: Phase 7 (의사결정 가이드)
</span></span></code></pre></td></tr></table></div></div><h4 id=소프트웨어-아키텍트>소프트웨어 아키텍트<a hidden class=anchor aria-hidden=true href=#소프트웨어-아키텍트>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-62-1><a class=lnlinks href=#hl-62-1>1</a>
</span><span class=lnt id=hl-62-2><a class=lnlinks href=#hl-62-2>2</a>
</span><span class=lnt id=hl-62-3><a class=lnlinks href=#hl-62-3>3</a>
</span><span class=lnt id=hl-62-4><a class=lnlinks href=#hl-62-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>1주차: Phase 1, 4, 7 빠른 스캔 (개념, 성능, 비교)
</span></span><span class=line><span class=cl>2주차: Phase 6 실무 시나리오 심화
</span></span><span class=line><span class=cl>3주차: Phase 7 의사결정 프레임워크
</span></span><span class=line><span class=cl>4주차: 팀 교육 자료 제작
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=학습-리소스>학습 리소스<a hidden class=anchor aria-hidden=true href=#학습-리소스>#</a></h3><h4 id=필수-자료>필수 자료<a hidden class=anchor aria-hidden=true href=#필수-자료>#</a></h4><ul><li><strong>본 문서</strong>: Phase 0~7 전체 (한글)</li><li><strong>공식 문서</strong>:<ul><li>Python asyncio: <a href=https://docs.python.org/3/library/asyncio.html>https://docs.python.org/3/library/asyncio.html</a></li><li>Node.js Event Loop: <a href=https://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick/>https://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick/</a></li><li>Linux epoll: man 7 epoll</li></ul></li></ul><h4 id=추천-도서>추천 도서<a hidden class=anchor aria-hidden=true href=#추천-도서>#</a></h4><ul><li>📘 &ldquo;UNIX Network Programming Vol.1&rdquo; (Stevens) - 바이블</li><li>📗 &ldquo;High Performance Browser Networking&rdquo; (Grigorik) - 무료, 웹 중심</li><li>📙 &ldquo;Node.js Design Patterns&rdquo; (Casciaro) - 실무 패턴</li></ul><h4 id=온라인-코스>온라인 코스<a hidden class=anchor aria-hidden=true href=#온라인-코스>#</a></h4><ul><li>Udemy: &ldquo;Python Async: From Basics to Advanced&rdquo;</li><li>Coursera: &ldquo;Parallel, Concurrent, and Distributed Programming in Java&rdquo;</li><li>FreeCodeCamp: Node.js Event Loop 튜토리얼 (무료)</li></ul><h4 id=실습-환경>실습 환경<a hidden class=anchor aria-hidden=true href=#실습-환경>#</a></h4><ul><li><strong>로컬</strong>: Docker 로 환경 격리 추천</li><li><strong>클라우드</strong>: AWS Free Tier, Google Cloud Free Tier</li><li><strong>벤치마크 도구</strong>: wrk, ab, hey, autocannon</li></ul><hr><h2 id=검증-대기-목록-6>검증 대기 목록<a hidden class=anchor aria-hidden=true href=#검증-대기-목록-6>#</a></h2><table><thead><tr><th>항목</th><th>부족 근거/의문</th><th>예상 1 차 출처</th><th>교차 검증 후보</th><th>담당</th><th>마감</th></tr></thead><tbody><tr><td>학습 시간 추정치</td><td>실제 교육 프로그램 데이터 필요</td><td>사내 교육 기록</td><td>온라인 코스 통계</td><td>-</td><td>2025-12-01</td></tr><tr><td>체크리스트 기준</td><td>레벨 구분 기준 검증 필요</td><td>역량 모델 연구</td><td>기업 채용 기준</td><td>-</td><td>2025-12-05</td></tr></tbody></table><hr><h2 id=최종-정리-완료-체크>최종 정리 완료 체크<a hidden class=anchor aria-hidden=true href=#최종-정리-완료-체크>#</a></h2><p>✅ <strong>완료 항목</strong>:</p><ul><li>핵심 개념 요약 (정의, 특징, 가치)</li><li>실무 연결 (시나리오, 선택 기준)</li><li>한계 및 주의사항 (양쪽 모두)</li><li>학습 로드맵 (4 주 프로그램)</li><li>단계별 학습 항목 (입문/실무/전문가)</li><li>체크리스트 (Level 1~3)</li><li>역할별 추천 순서 (4 개 역할)</li><li>학습 리소스 (필수, 추천, 실습)</li></ul><p><strong>다음 단계</strong>: 용어 정리 섹션</p><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><blockquote><p><strong>원칙</strong>: Phase 0 용어 사전의 필수 개념 외 연관 용어를 수록합니다.</p></blockquote><h3 id=a>A<a hidden class=anchor aria-hidden=true href=#a>#</a></h3><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td><strong>API 게이트웨이 (API Gateway)</strong></td><td>마이크로서비스 아키텍처에서 클라이언트 요청을 적절한 백엔드 서비스로 라우팅하는 진입점</td><td>Non-Blocking 필수, 높은 동시성 처리</td><td>로드 밸런싱, 인증, Rate Limiting</td><td>Phase 6.3</td></tr><tr><td><strong>ASGI (Asynchronous Server Gateway Interface)</strong></td><td>Python 비동기 웹 서버와 애플리케이션 간 표준 인터페이스</td><td>WSGI 의 비동기 버전, Uvicorn, FastAPI</td><td>WSGI, Uvicorn</td><td>Phase 5.3</td></tr></tbody></table><h3 id=b>B<a hidden class=anchor aria-hidden=true href=#b>#</a></h3><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td><strong>백프레셔 (Backpressure)</strong></td><td>빠른 생산자와 느린 소비자 간 속도 불균형을 관리하는 메커니즘</td><td>Non-Blocking 에서 메모리 오버플로우 방지</td><td>스트림, Reactive Streams</td><td>Phase 3.2, 6.3</td></tr><tr><td><strong>BSD kqueue</strong></td><td>BSD 계열 OS(macOS, FreeBSD) 의 I/O 멀티플렉싱 메커니즘</td><td>epoll 의 BSD 버전</td><td>epoll, IOCP</td><td>Phase 3.2</td></tr><tr><td><strong>Busy-waiting</strong></td><td>CPU 를 계속 사용하며 조건을 반복 확인하는 비효율적 대기 방식</td><td>안티패턴, CPU 낭비</td><td>폴링, 이벤트 통지</td><td>Phase 3.2</td></tr></tbody></table><h3 id=c>C<a hidden class=anchor aria-hidden=true href=#c>#</a></h3><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td><strong>C10K 문제 (C10K Problem)</strong></td><td>1999 년 Dan Kegel 이 제기한 " 만 명의 동시 연결을 어떻게 처리할까?&rdquo; 문제</td><td>Non-Blocking I/O 의 등장 배경</td><td>epoll, 이벤트 루프</td><td>Phase 1.1, 2.2</td></tr><tr><td><strong>CFS (Completely Fair Scheduler)</strong></td><td>Linux 커널의 프로세스 스케줄러, CPU 시간을 공정하게 분배</td><td>Blocking 시 스레드 스케줄링</td><td>컨텍스트 스위칭</td><td>Phase 3.4</td></tr><tr><td><strong>클러스터 모드 (Cluster Mode)</strong></td><td>Node.js 에서 멀티 코어를 활용하기 위해 여러 프로세스를 생성하는 방식</td><td>단일 스레드 한계 극복</td><td>Worker Threads</td><td>Phase 5.7</td></tr><tr><td><strong>콜백 지옥 (Callback Hell)</strong></td><td>중첩된 콜백으로 인해 코드 가독성이 극도로 나빠지는 현상</td><td>Non-Blocking 의 주요 단점</td><td>Promise, async/await</td><td>Phase 1.3, 3.2</td></tr><tr><td><strong>copy_to_user()</strong></td><td>커널 공간의 데이터를 유저 공간으로 복사하는 커널 함수</td><td>I/O 완료 시 데이터 전달</td><td>커널 버퍼, 유저 버퍼</td><td>Phase 3.2</td></tr></tbody></table><h3 id=d>D<a hidden class=anchor aria-hidden=true href=#d>#</a></h3><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td><strong>데드락 (Deadlock)</strong></td><td>두 개 이상의 스레드가 서로의 자원을 기다리며 무한 대기하는 상태</td><td>Blocking 멀티스레드의 위험</td><td>Lock, Mutex</td><td>Phase 4.3, 6.2</td></tr><tr><td><strong>DMA (Direct Memory Access)</strong></td><td>CPU 를 거치지 않고 디바이스가 메모리에 직접 접근하는 방식</td><td>I/O 성능 향상</td><td>커널 버퍼</td><td>Phase 3.4</td></tr><tr><td><strong>동기 vs 비동기 (Synchronous vs Asynchronous)</strong></td><td>호출 즉시 결과 반환 (동기) vs 나중에 통보 (비동기)</td><td>Blocking/Non-Blocking 과 다른 축</td><td>콜백, Future, Promise</td><td>Phase 1.2, 1.3</td></tr></tbody></table><h3 id=e>E<a hidden class=anchor aria-hidden=true href=#e>#</a></h3><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td><strong>EAGAIN / EWOULDBLOCK</strong></td><td>Non-Blocking I/O 에서 데이터 준비 안 됨을 나타내는 에러 코드</td><td>즉시 반환의 증거</td><td>errno, fcntl</td><td>Phase 3.2</td></tr><tr><td><strong>Edge-Triggered (에지 트리거)</strong></td><td>상태 변화 시점에만 이벤트를 발생시키는 epoll 모드</td><td>고성능, 이벤트 누락 주의</td><td>Level-Triggered</td><td>Phase 3.2, 3.5</td></tr><tr><td><strong>epoll</strong></td><td>Linux 의 확장 가능한 I/O 멀티플렉싱 메커니즘 (O(1) 성능)</td><td>select/poll 의 한계 극복</td><td>select, poll, kqueue</td><td>Phase 3.2, 3.5</td></tr><tr><td><strong>Exponential Backoff</strong></td><td>재시도 시 대기 시간을 지수적으로 증가시키는 전략</td><td>서비스 과부하 방지</td><td>재시도 로직</td><td>Phase 6.3</td></tr></tbody></table><h3 id=f>F<a hidden class=anchor aria-hidden=true href=#f>#</a></h3><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥택</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td><strong>fcntl (File Control)</strong></td><td>파일 디스크립터의 속성을 제어하는 시스템 콜</td><td>O_NONBLOCK 설정</td><td>F_SETFL, O_NONBLOCK</td><td>Phase 3.2</td></tr><tr><td><strong>Future / Promise</strong></td><td>비동기 작업의 최종 결과를 나타내는 객체</td><td>콜백 지옥 해결</td><td>async/await</td><td>Phase 1.3, 3.2</td></tr></tbody></table><h3 id=g>G<a hidden class=anchor aria-hidden=true href=#g>#</a></h3><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td><strong>Goroutine</strong></td><td>Go 언어의 경량 스레드, 사용자 레벨 스케줄링</td><td>Blocking 스타일로 Non-Blocking 효과</td><td>Green Threads</td><td>Phase 4.1</td></tr><tr><td><strong>Graceful Shutdown</strong></td><td>진행 중인 요청을 완료한 후 서버를 종료하는 방식</td><td>무중단 배포, 데이터 손실 방지</td><td>Health Check</td><td>Phase 6.1, 6.2</td></tr><tr><td><strong>Green Threads</strong></td><td>OS 가 아닌 런타임이 관리하는 경량 스레드</td><td>M:N 스레드 모델</td><td>Goroutine, Erlang processes</td><td>Phase 4.1</td></tr></tbody></table><h3 id=h>H<a hidden class=anchor aria-hidden=true href=#h>#</a></h3><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td><strong>HTTP/2</strong></td><td>HTTP 프로토콜의 2 번째 메이저 버전, 멀티플렉싱 지원</td><td>Non-Blocking 과 궁합 좋음</td><td>멀티플렉싱, Server Push</td><td>Phase 4.1, 7.5</td></tr></tbody></table><h3 id=i>I<a hidden class=anchor aria-hidden=true href=#i>#</a></h3><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td><strong>io_uring</strong></td><td>Linux 5.1+ 의 완전 비동기 I/O 인터페이스</td><td>시스템 콜 오버헤드 제거</td><td>epoll, 링 버퍼</td><td>Phase 4.1</td></tr><tr><td><strong>IOCP (I/O Completion Port)</strong></td><td>Windows 의 비동기 I/O 메커니즘</td><td>epoll 의 Windows 버전</td><td>epoll, kqueue</td><td>Phase 3.2</td></tr></tbody></table><h3 id=l>L<a hidden class=anchor aria-hidden=true href=#l>#</a></h3><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td><strong>Level-Triggered (레벨 트리거)</strong></td><td>조건이 유지되는 동안 계속 이벤트를 발생시키는 epoll 모드</td><td>안전하지만 비효율적</td><td>Edge-Triggered</td><td>Phase 3.2</td></tr><tr><td><strong>libuv</strong></td><td>Node.js 의 크로스 플랫폼 이벤트 루프 라이브러리</td><td>플랫폼별 차이 추상화</td><td>epoll, kqueue, IOCP</td><td>Phase 3.2, 5.4</td></tr><tr><td><strong>Little&rsquo;s Law</strong></td><td>L = λ × W (평균 재고 = 도착률 × 평균 대기시간)</td><td>커넥션 풀 크기 계산</td><td>큐 이론</td><td>Phase 6.2</td></tr><tr><td><strong>Lock-free 자료구조</strong></td><td>Lock 없이 동시 접근을 안전하게 처리하는 자료구조</td><td>데드락 방지, 성능 향상</td><td>CAS (Compare-and-Swap)</td><td>Phase 4.4</td></tr></tbody></table><h3 id=m>M<a hidden class=anchor aria-hidden=true href=#m>#</a></h3><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td><strong>마이크로태스크 (Microtask)</strong></td><td>Promise 해결 등 우선순위 높은 비동기 작업</td><td>이벤트 루프의 특수 큐</td><td>Macrotask, 이벤트 루프</td><td>Phase 3.5</td></tr><tr><td><strong>멱등성 (Idempotency)</strong></td><td>동일 연산을 여러 번 수행해도 결과가 같은 성질</td><td>재시도 로직의 안전성</td><td>HTTP PUT, DELETE</td><td>Phase 6.3</td></tr><tr><td><strong>Mutex (Mutual Exclusion)</strong></td><td>상호 배제 락, 한 번에 하나의 스레드만 접근 허용</td><td>임계 구역 보호</td><td>Lock, Semaphore</td><td>Phase 3.4</td></tr></tbody></table><h3 id=o>O<a hidden class=anchor aria-hidden=true href=#o>#</a></h3><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td><strong>O_NONBLOCK</strong></td><td>파일 디스크립터를 Non-Blocking 모드로 설정하는 플래그</td><td>fcntl 로 설정</td><td>EAGAIN, fcntl</td><td>Phase 3.2</td></tr></tbody></table><h3 id=p>P<a hidden class=anchor aria-hidden=true href=#p>#</a></h3><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td><strong>poll()</strong></td><td>다중 파일 디스크립터 모니터링 시스템 콜 (select 개선)</td><td>select 보다 효율적, epoll 보다 비효율</td><td>select, epoll</td><td>Phase 3.2</td></tr><tr><td><strong>POSIX</strong></td><td>Portable Operating System Interface, 유닉스 계열 OS 표준</td><td>시스템 콜 표준 정의</td><td>IEEE Std 1003.1</td><td>Phase 0</td></tr><tr><td><strong>Proactor 패턴</strong></td><td>비동기 I/O 완료를 통보받는 패턴 (Completion 모델)</td><td>IOCP 기반</td><td>Reactor 패턴</td><td>Phase 3.2</td></tr></tbody></table><h3 id=r>R<a hidden class=anchor aria-hidden=true href=#r>#</a></h3><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td><strong>Race Condition (경쟁 조건)</strong></td><td>여러 스레드가 공유 자원에 동시 접근하여 예측 불가능한 결과 발생</td><td>Blocking 멀티스레드 위험</td><td>Lock, Mutex</td><td>Phase 4.3</td></tr><tr><td><strong>Reactor 패턴</strong></td><td>I/O 준비 상태를 감지하는 패턴 (Readiness 모델)</td><td>epoll, select 기반</td><td>Proactor 패턴</td><td>Phase 3.2</td></tr><tr><td><strong>Reactive Streams</strong></td><td>비동기 스트림 처리의 표준 (백프레셔 포함)</td><td>Java, JavaScript 생태계</td><td>RxJS, Project Reactor</td><td>Phase 5.6</td></tr></tbody></table><h3 id=s>S<a hidden class=anchor aria-hidden=true href=#s>#</a></h3><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td><strong>select()</strong></td><td>다중 파일 디스크립터 모니터링 시스템 콜 (레거시)</td><td>FD 수 1024 제한, O(n)</td><td>poll, epoll</td><td>Phase 3.2</td></tr><tr><td><strong>Semaphore (세마포어)</strong></td><td>동시 접근 수를 제한하는 동기화 메커니즘</td><td>N 개 스레드 동시 접근 허용</td><td>Mutex (N=1 인 세마포어)</td><td>Phase 5.7, 6.1</td></tr><tr><td><strong>서킷 브레이커 (Circuit Breaker)</strong></td><td>장애 서비스 호출을 차단하여 연쇄 장애 방지</td><td>마이크로서비스 패턴</td><td>Retry, Timeout</td><td>Phase 6.3</td></tr><tr><td><strong>Server-Sent Events (SSE)</strong></td><td>서버에서 클라이언트로 단방향 실시간 푸시</td><td>Non-Blocking 에 최적화</td><td>WebSocket</td><td>Phase 6.1</td></tr><tr><td><strong>SLA (Service Level Agreement)</strong></td><td>서비스 수준 합의, 가용성, 응답 시간 등 보장</td><td>p95, p99 지연 기준</td><td>SLO, SLI</td><td>Phase 4.2, 6.1</td></tr><tr><td><strong>Spurious Wakeup</strong></td><td>실제 이벤트 없이 깨어나는 가짜 깨우기</td><td>epoll 등에서 발생 가능</td><td>재확인 필수</td><td>Phase 3.2</td></tr><tr><td><strong>strace</strong></td><td>시스템 콜 추적 도구</td><td>디버깅, 성능 분석</td><td>ltrace, perf</td><td>Phase 3.1</td></tr><tr><td><strong>스레드 풀 (Thread Pool)</strong></td><td>미리 생성된 스레드를 재사용하는 패턴</td><td>스레드 생성 오버헤드 감소</td><td>Executor, Worker</td><td>Phase 3.4, 4.1</td></tr><tr><td><strong>스레드 로컬 스토리지 (Thread-Local Storage)</strong></td><td>각 스레드가 독립적으로 가지는 변수 저장소</td><td>스레드 간 격리</td><td>전역 변수</td><td>Phase 4.3</td></tr></tbody></table><h3 id=t>T<a hidden class=anchor aria-hidden=true href=#t>#</a></h3><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td><strong>TASK_INTERRUPTIBLE</strong></td><td>시그널로 깨울 수 있는 대기 상태 (Linux 커널)</td><td>Blocking 시 프로세스 상태</td><td>TASK_RUNNING</td><td>Phase 3.2</td></tr><tr><td><strong>TCO (Total Cost of Ownership)</strong></td><td>총 소유 비용, 초기 + 운영 비용 포함</td><td>클라우드 비용 분석</td><td>ROI</td><td>Phase 7.4</td></tr><tr><td><strong>Thread-per-connection</strong></td><td>연결마다 스레드를 할당하는 모델</td><td>Blocking 의 전통적 방식</td><td>Thread Pool</td><td>Phase 3.4</td></tr><tr><td><strong>TLB (Translation Lookaside Buffer)</strong></td><td>가상 주소를 물리 주소로 변환하는 캐시</td><td>컨텍스트 스위칭 시 플러시</td><td>페이지 테이블</td><td>Phase 3.6</td></tr></tbody></table><h3 id=u>U<a hidden class=anchor aria-hidden=true href=#u>#</a></h3><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td><strong>ulimit</strong></td><td>프로세스 자원 한계 설정 유틸리티</td><td>스레드 수, FD 수 제한</td><td>-n, -u, -s</td><td>Phase 4.3</td></tr><tr><td><strong>Uvicorn</strong></td><td>Python ASGI 웹 서버 (uvloop 기반)</td><td>FastAPI 표준 서버</td><td>Gunicorn, Hypercorn</td><td>Phase 5.3, 6.1</td></tr><tr><td><strong>uvloop</strong></td><td>libuv 기반 고성능 Python 이벤트 루프</td><td>기본 asyncio 보다 2~4 배 빠름</td><td>asyncio</td><td>Phase 5.7</td></tr></tbody></table><h3 id=w>W<a hidden class=anchor aria-hidden=true href=#w>#</a></h3><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td><strong>Watchdog 타이머</strong></td><td>일정 시간 응답 없으면 재시작하는 메커니즘</td><td>데드락, 무응답 복구</td><td>Health Check</td><td>Phase 6.2</td></tr><tr><td><strong>WebSocket</strong></td><td>양방향 실시간 통신 프로토콜</td><td>Non-Blocking 에 최적화</td><td>SSE, Long Polling</td><td>Phase 4.1, 6.1</td></tr><tr><td><strong>Worker Threads</strong></td><td>CPU 집약 작업을 처리하는 별도 스레드</td><td>Node.js, Python</td><td>Cluster Mode</td><td>Phase 3.5, 5.4</td></tr><tr><td><strong>WSGI (Web Server Gateway Interface)</strong></td><td>Python 동기 웹 서버와 애플리케이션 간 표준 인터페이스</td><td>Flask, Django 기반</td><td>ASGI</td><td>Phase 5.6</td></tr></tbody></table><h3 id=z>Z<a hidden class=anchor aria-hidden=true href=#z>#</a></h3><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td><strong>Zero-copy</strong></td><td>데이터를 복사하지 않고 직접 전송하는 기법</td><td>성능 최적화</td><td>sendfile(), splice()</td><td>Phase 4.4</td></tr></tbody></table><h2 id=용어-정리-1>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-1>#</a></h2><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td>블로킹 (Blocking)</td><td>작업 방해·대기하도록 만드는 방식</td><td>동기화, 예측적 흐름</td><td>논블로킹</td><td>Phase 1</td></tr><tr><td>논블로킹 (Non-Blocking)</td><td>즉시 반환, 대기 없음</td><td>비동기, 병렬처리</td><td>블로킹</td><td>Phase 1</td></tr><tr><td>이벤트 루프 (Event Loop)</td><td>대기 없이 이벤트 기반 작업 처리 흐름</td><td>논블로킹/비동기 서버</td><td>Polling</td><td>개선 히스토리</td></tr><tr><td>Polling (폴링)</td><td>상태 반복 확인</td><td>논블로킹 흐름 내 완료확인</td><td>이벤트 루프</td><td>특성 표</td></tr></tbody></table><h2 id=용어-정리-2>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-2>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>I/O 모델</td><td>Selector</td><td>Non-blocking I/O 에서 readiness 상태 감지기</td></tr><tr><td>시스템 구조</td><td>Event Loop</td><td>요청을 반복 수신 및 처리하는 루프 기반 비동기 구조</td></tr><tr><td>병렬 알고리즘</td><td>CAS (Compare and Swap)</td><td>동시성 제어에서 비원자 연산 대신 사용하는 원자 연산</td></tr><tr><td>최적화</td><td>Backpressure</td><td>처리 속도 차이로 인한 오버플로우를 제어하는 기법</td></tr><tr><td>운영체제</td><td>IOCP (I/O Completion Port)</td><td>Windows 기반 Proactor 패턴의 OS 구현</td></tr></tbody></table><h2 id=용어-정리-3>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-3>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>폴링 (Polling)</td><td>작업 완료 여부를 주기적으로 확인하는 방식</td></tr><tr><td>콜백 (Callback)</td><td>작업 완료 시 호출되는 함수/메서드</td></tr><tr><td>이벤트 루프 (Event Loop)</td><td>이벤트 기반 Non-Blocking 처리 구조</td></tr><tr><td>Lock-Free</td><td>락을 사용하지 않는 Non-Blocking 동시성 제어 방식</td></tr><tr><td>Wait-Free</td><td>모든 스레드가 유한 단계 내 작업 완료 보장하는 Non-Blocking 방식</td></tr></tbody></table><h2 id=용어-정리-4>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-4>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td><strong>비동기 I/O</strong></td><td>입력/출력 작업을 요청한 후, 해당 작업이 완료되기를 기다리지 않고 다른 작업을 수행할 수 있는 I/O 방식입니다. 이를 통해 시스템의 응답성과 자원 활용도를 향상시킬 수 있습니다.</td></tr><tr><td><strong>이벤트 루프</strong></td><td>비동기 작업의 완료를 감지하고, 해당 작업에 대한 콜백을 실행하는 메커니즘입니다. JavaScript 와 Node.js 에서 비동기 처리를 위한 핵심 요소입니다.</td></tr><tr><td><strong>콜백 함수</strong></td><td>특정 이벤트나 작업이 완료되었을 때 호출되는 함수로, 비동기 프로그래</td></tr></tbody></table><p>물론입니다. **&rdquo; 용어 정리 &ldquo;**부터 이어서 계속 정리해드리겠습니다.</p><hr><h2 id=용어-정리-5>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-5>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td><strong>콜백 함수 (Callback Function)</strong></td><td>비동기 작업 완료 후 실행되도록 지정한 함수로, 이벤트 기반 프로그래밍의 핵심 구성 요소입니다.</td></tr><tr><td><strong>프로미스 (Promise)</strong></td><td>비동기 작업의 최종 완료 또는 실패를 처리하기 위한 JavaScript 객체로, <code>.then()</code>, <code>.catch()</code> 메서드를 사용해 결과를 다룹니다.</td></tr><tr><td><strong>async/await</strong></td><td>프로미스를 보다 간결하게 다루기 위한 구문으로, 비동기 코드를 마치 동기 코드처럼 작성할 수 있게 해줍니다.</td></tr><tr><td><strong>epoll</strong></td><td>Linux 에서 비동기 I/O 를 구현할 때 사용되는 고성능 이벤트 감시 메커니즘입니다.</td></tr><tr><td><strong>IOCP (I/O Completion Ports)</strong></td><td>Windows 에서 고성능 비동기 I/O 처리를 위한 운영체제 기능입니다.</td></tr><tr><td><strong>이벤트 기반 아키텍처 (Event-driven Architecture)</strong></td><td>이벤트가 발생했을 때 특정 처리를 트리거하는 방식으로 설계된 시스템 구조입니다. Node.js 나 프론트엔드 개발에서 흔히 사용됩니다.</td></tr><tr><td><strong>이벤트 루프 (Event Loop)</strong></td><td>비동기 작업의 완료 이벤트를 지속적으로 감지하고, 해당 콜백 함수를 실행하는 루프 구조입니다.</td></tr><tr><td><strong>스레드 풀 (Thread Pool)</strong></td><td>여러 작업을 처리하기 위해 제한된 수의 스레드를 재사용하는 구조로, Blocking I/O 환경에서 스레드 수를 효율적으로 관리하는 데 사용됩니다.</td></tr><tr><td><strong>리액티브 스트림 (Reactive Streams)</strong></td><td>비동기 스트림 데이터를 처리할 수 있도록 표준화된 API 이며, 데이터 흐름을 반응형으로 처리합니다.</td></tr><tr><td><strong>RDMA (Remote Direct Memory Access)</strong></td><td>네트워크를 통해 다른 컴퓨터의 메모리에 직접 접근하는 기술로, CPU 개입 없이 고속 데이터 전송이 가능합니다.</td></tr><tr><td><strong>DMA (Direct Memory Access)</strong></td><td>I/O 장치가 CPU 를 거치지 않고 메모리에 직접 접근할 수 있도록 하는 기능입니다.</td></tr><tr><td><strong>고루틴 (Goroutine)</strong></td><td>Go 언어에서 지원하는 경량 스레드로, 수천 개의 동시 작업을 적은 리소스로 처리할 수 있게 해줍니다.</td></tr><tr><td><strong>코루틴 (Coroutine)</strong></td><td>Kotlin 등에서 제공하는 경량 비동기 실행 단위로, async/await 형태의 비동기 흐름 제어를 지원합니다.</td></tr><tr><td><strong>AsyncAPI</strong></td><td>비동기 API 정의를 위한 명세로, OpenAPI 의 비동기 버전이라 볼 수 있으며 메시지 기반 통신 구조를 문서화할 수 있습니다.</td></tr><tr><td><strong>ReactiveX (Rx)</strong></td><td>리액티브 프로그래밍을 지원하는 라이브러리로, 다양한 언어에서 이벤트 기반 비동기 데이터를 처리할 수 있게 해줍니다.</td></tr><tr><td><strong>스마트 NIC (Smart Network Interface Card)</strong></td><td>네트워크 인터페이스 자체에 처리 기능을 내장하여 서버의 CPU 부담 없이 고성능 네트워크 처리를 수행합니다.</td></tr></tbody></table><h3 id=용어-정리-6>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-6>#</a></h3><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td><strong>이벤트 루프 (Event Loop)</strong></td><td>비동기 이벤트와 콜백을 처리하는 프로그래밍 구조체</td></tr><tr><td><strong>콜백 (Callback)</strong></td><td>다른 함수에 인자로 전달되어 특정 시점에 호출되는 함수</td></tr><tr><td><strong>멀티플렉싱 (Multiplexing)</strong></td><td>단일 스레드에서 여러 I/O 채널을 동시에 모니터링하는 기법</td></tr><tr><td><strong>백프레셔 (Backpressure)</strong></td><td>시스템 처리 능력을 초과하는 요청에 대한 흐름 제어 메커니즘</td></tr><tr><td><strong>논블로킹 I/O (Non-blocking I/O)</strong></td><td>I/O 작업이 즉시 반환되어 다른 작업을 계속할 수 있는 방식</td></tr><tr><td><strong>동시성 (Concurrency)</strong></td><td>여러 작업이 동시에 진행되는 것처럼 보이는 실행 방식</td></tr><tr><td><strong>병렬성 (Parallelism)</strong></td><td>여러 작업이 실제로 동시에 실행되는 방식</td></tr><tr><td><strong>폴링 (Polling)</strong></td><td>상태나 데이터의 변화를 주기적으로 확인하는 방식</td></tr><tr><td><strong>컨텍스트 스위칭 (Context Switching)</strong></td><td>CPU 가 실행 중인 프로세스나 스레드를 변경하는 과정</td></tr><tr><td><strong>스레드 풀 (Thread Pool)</strong></td><td>미리 생성된 스레드들의 집합을 재사용하는 패턴</td></tr><tr><td><strong>이벤트 드리븐 (Event-Driven)</strong></td><td>이벤트 발생에 따라 프로그램 흐름이 결정되는 아키텍처</td></tr><tr><td><strong>블로킹 호출 (Blocking Call)</strong></td><td>작업이 완료될 때까지 호출 스레드를 대기시키는 함수 호출</td></tr></tbody></table><h4 id=용어-정리-확장>용어 정리 (확장)<a hidden class=anchor aria-hidden=true href=#용어-정리-확장>#</a></h4><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td>블로킹 (Blocking)</td><td>IO 완료까지 대기 후 반환</td><td>동기화, 단순 처리, 예측성</td><td>논블로킹</td><td>Phase 1~6</td></tr><tr><td>논블로킹</td><td>IO 즉시 반환, 상태 반복 확인</td><td>동시성·병렬성, 고확장 서버</td><td>블로킹</td><td>Phase 1~6</td></tr><tr><td>이벤트루프 (Event Loop)</td><td>IO 완료시 이벤트/콜백 방식으로 통지</td><td>논블로킹 구조 핵심, 서버 확장성</td><td>polling, 콜백, epoll</td><td>Phase 3~5</td></tr><tr><td>Polling(폴링)</td><td>IO 상태 반복 점검</td><td>논블로킹 셀프 상태관리, busy-wait 이슈</td><td>이벤트, busy-wait</td><td>Phase 3~5</td></tr><tr><td>epoll/kqueue/IOCP</td><td>OS 별 고성능 논블로킹 이벤트 처리 API</td><td>논블로킹 이벤트 기반 최적화</td><td>이벤트루프</td><td>Phase 4~6</td></tr></tbody></table><h4 id=용어-정리-7>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-7>#</a></h4><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>바탕 섹션</th></tr></thead><tbody><tr><td>블로킹 IO (Blocking)</td><td>작업 완수까지 대기</td><td>동기화, 간단처리</td><td>논블로킹</td><td>Phase 1~6</td></tr><tr><td>논블로킹 IO</td><td>요청 즉시 반환, 상태 Poll/이벤트 확인</td><td>동시성/고부하</td><td>이벤트루프</td><td>Phase 1~6</td></tr><tr><td>이벤트루프 (Event Loop)</td><td>이벤트/콜백 통한 완료 통지, 상태관리</td><td>논블로킹 서버핵심</td><td>콜백, epoll</td><td>Phase 2~6</td></tr><tr><td>Polling(폴링)</td><td>반복 상태 확인 방식</td><td>busy-wait/Polling</td><td>이벤트</td><td>Phase 2~5</td></tr><tr><td>epoll/kqueue/IOCP</td><td>OS 비동기 이벤트 처리 API</td><td>최적화, 이벤트관리</td><td>Polling</td><td>Phase 4~6</td></tr></tbody></table><h4 id=용어-정리-8>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-8>#</a></h4><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td>블로킹 IO</td><td>IO 완료 시까지 대기</td><td>동기화, 예측성</td><td>논블로킹</td><td>Phase 1~7</td></tr><tr><td>논블로킹 IO</td><td>즉시 반환, 상태 poll/event</td><td>병렬, 동시성 서버</td><td>이벤트루프</td><td>Phase 1~7</td></tr><tr><td>이벤트루프</td><td>이벤트·콜백 통한 완료 통지</td><td>논블로킹 확장 구조</td><td>polling, epoll</td><td>Phase 3~6</td></tr><tr><td>Polling(폴링)</td><td>반복 상태 확인</td><td>busy-wait 위험</td><td>이벤트, busy-wait</td><td>Phase 3~6</td></tr><tr><td>epoll/kqueue/IOCP</td><td>OS 별 논블로킹 이벤트 API</td><td>이벤트/비동기 최적화</td><td>콜백, 이벤트</td><td>Phase 4~6</td></tr></tbody></table><h4 id=용어-정리-9>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-9>#</a></h4><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td>블로킹 IO</td><td>IO 완료까지 대기</td><td>동기, 단순 예측 흐름</td><td>논블로킹</td><td>Phase 1~7</td></tr><tr><td>논블로킹 IO</td><td>즉시 반환, 상태 Poll/Event</td><td>동시성/효율/고확장성</td><td>이벤트루프</td><td>Phase 1~7</td></tr><tr><td>이벤트루프 (Event Loop)</td><td>이벤트/콜백 기반 완료통지</td><td>논블로킹 환경 핵심</td><td>epoll, IOCP</td><td>Phase 3~6</td></tr><tr><td>Polling</td><td>반복 상태 확인</td><td>busy-wait 관리</td><td>이벤트, 콜백</td><td>Phase 3~5</td></tr><tr><td>epoll/kqueue/IOCP</td><td>OS 별 비동기 이벤트 처리 API</td><td>효율·확장성 최적화</td><td>이벤트루프</td><td>Phase 4~6</td></tr></tbody></table><h2 id=용어-정리-10>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-10>#</a></h2><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>역할/맥락</th><th>관련 개념</th><th>참고 섹션</th></tr></thead><tbody><tr><td>준비형 I/O</td><td>준비 시점 통지</td><td>epoll/kqueue</td><td>LT/ET</td><td>P3</td></tr><tr><td>완료형 I/O</td><td>완료 시점 통지</td><td>IOCP</td><td>스레드풀</td><td>P3</td></tr><tr><td>LT/ET</td><td>레벨/엣지 트리거</td><td>이벤트 처리</td><td>배압</td><td>P3</td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><ul><li><a href=https://man7.org/linux/man-pages/man2/select.2.html>select(2) – Linux manual page</a></li><li><a href=https://man7.org/linux/man-pages/man3/poll.3p.html>poll(3p) – POSIX Programmer&rsquo;s Manual</a></li><li><a href=https://man7.org/linux/man-pages/man7/epoll.7.html>epoll(7) – Linux manual page</a></li><li><a href=https://man.freebsd.org/kqueue%282%29>kqueue(2) – FreeBSD Manual</a></li><li><a href=https://learn.microsoft.com/windows/win32/fileio/i-o-completion-ports>I/O Completion Ports – Microsoft Docs</a></li><li><a href=https://learn.microsoft.com/windows/win32/fileio/createiocompletionport>CreateIoCompletionPort – Microsoft Docs</a></li><li><a href=https://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick>Node.js Event Loop Guide</a></li><li><a href=https://docs.libuv.org/en/v1.x/design.html>libuv — Design Overview</a></li><li><a href=https://docs.python.org/3/library/asyncio-eventloop.html>Python asyncio — Event Loop</a></li><li><a href=https://docs.oracle.com/javase/11/docs/api/java.base/java/nio/channels/package-summary.html>Java NIO Channels/Selector</a></li></ul><h3 id=참고출처>참고/출처<a hidden class=anchor aria-hidden=true href=#참고출처>#</a></h3><ul><li><a href=https://f-lab.kr/insight/understanding-blocking-and-non-blocking-io>블로킹과 넌블로킹 I/O의 실제 적용 사례</a></li><li><a href=https://etloveguitar.tistory.com/140>blocking I/O, non-blocking I/O에 대하여</a></li><li><a href=https://mark-kim.blog/understanding-non-blocking-io-and-nio>네트워크 논블로킹 IO 사례</a></li><li><a href=https://inpa.tistory.com/entry/%F0%9F%91%A9%E2%80%8D%F0%9F%92%BB-%EB%8F%99%EA%B8%B0%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%B8%94%EB%A1%9C%ED%82%B9%EB%85%BC%EB%B8%94%EB%A1%9C%ED%82%B9-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC>동기/비동기·블로킹/논블로킹 개념 정리</a></li></ul><h3 id=참고출처-1>참고/출처<a hidden class=anchor aria-hidden=true href=#참고출처-1>#</a></h3><ul><li><a href=https://f-lab.kr/insight/understanding-blocking-and-non-blocking-io>블로킹과 넌블로킹 I/O의 실제 적용 사례</a></li><li><a href=https://etloveguitar.tistory.com/140>blocking I/O, non-blocking I/O에 대하여</a></li><li><a href=https://mark-kim.blog/understanding-non-blocking-io-and-nio>사례로 보는 네트워크 논블로킹 IO</a></li><li><a href=https://inpa.tistory.com/entry/%F0%9F%91%A9%E2%80%8D%F0%9F%92%BB-%EB%8F%99%EA%B8%B0%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%B8%94%EB%A1%9C%ED%82%B9%EB%85%BC%EB%B8%94%EB%A1%9C%ED%82%B9-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC>완벽히 이해하는 동기/비동기 & 블로킹/논블로킹</a></li></ul><h3 id=참고-자료>참고 자료<a hidden class=anchor aria-hidden=true href=#참고-자료>#</a></h3><ul><li><a href=https://f-lab.kr/insight/understanding-blocking-and-non-blocking-io>블로킹과 넌블로킹 I/O의 이해와 실제 적용 사례</a></li><li><a href=https://etloveguitar.tistory.com/140>blocking I/O, non-blocking I/O에 대하여</a></li><li><a href=https://mark-kim.blog/understanding-non-blocking-io-and-nio/>Java NIO/Netty 이벤트 기반 사례</a></li><li><a href=https://inpa.tistory.com/entry/%F0%9F%91%A9%E2%80%8D%F0%9F%92%BB-%EB%8F%99%EA%B8%B0%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%B8%94%EB%A1%9C%ED%82%B9%EB%85%BC%EB%B8%94%EB%A1%9C%ED%82%B9-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC>완벽히 이해하는 동기/비동기 & 블로킹/논블로킹</a></li></ul><h3 id=참고-자료-및-공식-문서>참고 자료 및 공식 문서<a hidden class=anchor aria-hidden=true href=#참고-자료-및-공식-문서>#</a></h3><ul><li><a href=https://f-lab.kr/insight/understanding-blocking-and-non-blocking-io>블로킹과 넌블로킹 I/O의 이해와 실제 적용 사례</a></li><li><a href=https://etloveguitar.tistory.com/140>blocking I/O, non-blocking I/O에 대하여 (sync, async와의 차이)</a></li><li><a href=https://mark-kim.blog/understanding-non-blocking-io-and-nio/>사례를 통해 이해하는 네트워크 논블로킹 I/O와 Java NIO</a></li><li><a href=https://inpa.tistory.com/entry/%F0%9F%91%A9%E2%80%8D%F0%9F%92%BB-%EB%8F%99%EA%B8%B0%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%B8%94%EB%A1%9C%ED%82%B9%EB%85%BC%EB%B8%94%EB%A1%9C%ED%82%B9-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC>‍ 완벽히 이해하는 동기/비동기 & 블로킹/논블로킹</a></li></ul><h2 id=참고-및-출처-1>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-1>#</a></h2><ul><li><a href=https://www.geeksforgeeks.org/blocking-and-nonblocking-io-in-operating-system/>GeeksforGeeks - Blocking and Nonblocking IO in Operating System</a></li><li><a href=https://nodejs.org/en/learn/asynchronous-work/overview-of-blocking-vs-non-blocking>Node.js 공식 문서 - Overview of Blocking vs Non-Blocking</a></li><li><a href=https://cvw.cac.cornell.edu/parallel/data-communication/blocking-non-blocking>Cornell Virtual Workshop - Blocking and Non-blocking</a></li><li><a href=https://en.wikipedia.org/wiki/Non-blocking_algorithm>Wikipedia - Non-blocking algorithm</a></li><li><a href=https://developer.mozilla.org/en-US/docs/Learn_web_development/Extensions/Async_JS/Introducing>MDN Web Docs - Introducing asynchronous JavaScript</a></li><li><a href=https://www.geeksforgeeks.org/synchronous-and-asynchronous-programming/>GeeksforGeeks - Synchronous and Asynchronous Programming</a></li><li><a href=https://softwareengineering.stackexchange.com/questions/144878/understanding-blocking-and-non-blocking-frameworks>Stack Overflow - Understanding blocking and non-blocking frameworks</a></li><li><a href=https://dev.to/vivekyadav200988/understanding-blocking-and-non-blocking-sockets-in-c-programming-a-comprehensive-guide-2ien>DEV Community - Understanding Blocking and Non-blocking Sockets in C Programming</a></li><li><a href=https://luminousmen.com/post/asynchronous-programming-blocking-and-non-blocking/>Luminous Men - Asynchronous Programming. Blocking I/O and non-blocking I/O</a></li><li><a href=https://kissflow.com/application-development/asynchronous-vs-synchronous-programming/>Kissflow - Synchronous vs. Asynchronous Programming: Complete Guide</a></li></ul><h2 id=참고-및-출처-2>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-2>#</a></h2><ul><li><p><a href=https://nodejs.org/en/docs/guides/blocking-vs-non-blocking/>Blocking vs Non-Blocking I/O in Node.js – Node.js Official Docs</a></p></li><li><p><a href=https://www.geeksforgeeks.org/blocking-vs-non-blocking/>GeeksforGeeks – Blocking vs Non-Blocking</a></p></li><li><p><a href=https://realpython.com/async-io-python/>RealPython – Async IO in Python</a></p></li><li><p><a href=https://www.baeldung.com/java-nio>Baeldung – Guide to Java NIO</a></p></li><li><p><a href=https://www.asyncapi.com/>AsyncAPI 공식 문서</a></p></li><li><p><a href=http://reactivex.io/>ReactiveX 공식 문서</a></p></li><li><p><a href=https://man7.org/linux/man-pages/man7/epoll.7.html>Linux epoll 설명</a></p></li><li><p><a href=https://learn.microsoft.com/en-us/windows/win32/fileio/i-o-completion-ports>Windows IOCP 공식 문서</a></p></li></ul><h2 id=참고-및-출처-3>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-3>#</a></h2><ul><li><a href=https://velog.io/@octo__/BlockingNon-Blocking-IO-IO-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%ED%86%B5%EC%A7%80-%EB%AA%A8%EB%8D%B8>Blocking/Non-Blocking I/O 개념 및 I/O 이벤트 통지 모델 - velog</a></li><li><a href=https://inpa.tistory.com/entry/%F0%9F%91%A9%E2%80%8D%F0%9F%92%BB-%EB%8F%99%EA%B8%B0%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%B8%94%EB%A1%9C%ED%82%B9%EB%85%BC%EB%B8%94%EB%A1%9C%ED%82%B9-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC>블로킹/논블로킹, 동기/비동기 개념 정리 - Inpa Dev</a></li><li><a href=https://nodejs.org/en/learn/asynchronous-work/overview-of-blocking-vs-non-blocking>Blocking vs Non-Blocking - Node.js 공식 문서</a></li><li><a href=https://velog.io/@rocker_nun/Blocking-vs-Non-Blocking-Synchronous-vs-Asynchronous-%EC%99%84%EC%A0%84-%EC%A0%95%EB%B3%B5>Blocking/Non-Blocking, Synchronous/Asynchronous 완전 정복 - velog</a></li><li><a href=https://bytebytego.com/guides/blocking-vs-non-blocking-queue/>Blocking vs Non-Blocking Queue - ByteByteGo</a></li><li><a href=https://f-lab.kr/insight/understanding-blocking-and-non-blocking-io>블로킹과 넌블로킹 I/O의 이해와 실제 적용 사례 - F-Lab</a></li><li><a href=https://sharplee7.tistory.com/96>Blocking vs Non-Blocking - Deok&rsquo;s Architecture Blog</a></li><li><a href=https://coor.tistory.com/53>동기, 비동기, 블로킹, 논블로킹 차이점 - 기록</a></li><li><a href=https://velog.io/@kok05206/Blocking%EA%B3%BC-Non-Blocking%EC%9D%98-%EC%B0%A8%EC%9D%B4%EB%A5%BC-%EC%84%A4%EB%AA%85%ED%95%B4-%EC%A3%BC%EC%84%B8%EC%9A%94>Blocking vs Non-Blocking - velog</a></li><li><a href=https://en.wikipedia.org/wiki/Non-blocking_algorithm>Non-blocking algorithm - Wikipedia</a></li></ul><h2 id=참고-및-출처-4>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-4>#</a></h2><ul><li><a href=https://www.geeksforgeeks.org/operating-systems/blocking-and-nonblocking-io-in-operating-system>Blocking vs. Non-Blocking I/O - GeeksforGeeks</a></li><li><a href=https://noncodersuccess.medium.com/understanding-blocking-vs-non-blocking-in-node-js-9f1db68e8838>Understanding Blocking vs. Non-Blocking in Node.js - Medium</a></li><li><a href=https://eli.thegreenplace.net/2017/non-blocking-i/o-the-reactor-pattern/>Reactor vs Proactor pattern</a></li><li><a href=https://jenkov.com/tutorials/java-concurrency/non-blocking-algorithms.html>Java Non-blocking Algorithms - Jenkov</a></li><li><a href=https://www.reactivemanifesto.org/glossary#Back-Pressure>What is Backpressure? - Reactive Manifesto</a></li><li><a href=https://en.wikipedia.org/wiki/Read-copy-update>Read-copy-update - Wikipedia</a></li><li><a href=https://en.wikipedia.org/wiki/Non-blocking_algorithm>Michael-Scott Queue - Wikipedia</a></li></ul><h2 id=참고-및-출처-5>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-5>#</a></h2><ul><li><a href=https://etloveguitar.tistory.com/140>blocking I/O, non-blocking I/O에 대하여 (sync, async와의 차이)</a></li><li><a href=https://jtm0609.tistory.com/161>OS - Blocking IO vs Non-Blocking IO</a></li><li><a href=https://grip.news/archives/1304/>논-블로킹(non-blocking) I/O, 비동기(Asynchronous) I/O 차이</a></li></ul><h2 id=참고-및-출처-6>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-6>#</a></h2><blockquote><p><strong>원칙</strong>: 다음 기본 형식만 사용합니다.<br><code>- [문서명](URL)</code></p></blockquote><h3 id=공식-문서-및-표준>공식 문서 및 표준<a hidden class=anchor aria-hidden=true href=#공식-문서-및-표준>#</a></h3><ul><li><a href=https://pubs.opengroup.org/onlinepubs/9699919799/>POSIX.1-2008 Standard</a></li><li><a href=https://man7.org/linux/man-pages/man2/read.2.html>Linux Man Pages - read(2)</a></li><li><a href=https://man7.org/linux/man-pages/man2/fcntl.2.html>Linux Man Pages - fcntl(2)</a></li><li><a href=https://man7.org/linux/man-pages/man2/select.2.html>Linux Man Pages - select(2)</a></li><li><a href=https://man7.org/linux/man-pages/man2/poll.2.html>Linux Man Pages - poll(2)</a></li><li><a href=https://man7.org/linux/man-pages/man7/epoll.7.html>Linux Man Pages - epoll(7)</a></li><li><a href=https://docs.python.org/3/library/asyncio.html>Python asyncio Documentation</a></li><li><a href=https://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick/>Node.js Event Loop Documentation</a></li><li><a href=https://docs.oracle.com/javase/8/docs/api/java/nio/package-summary.html>Java NIO Documentation</a></li><li><a href=https://docs.libuv.org/>libuv Documentation</a></li><li><a href=https://kernel.dk/io_uring.pdf>io_uring Documentation</a></li></ul><h3 id=기술-서적>기술 서적<a hidden class=anchor aria-hidden=true href=#기술-서적>#</a></h3><ul><li><a href=https://www.amazon.com/Unix-Network-Programming-Volume-Networking/dp/0131411551>UNIX Network Programming Volume 1 (W. Richard Stevens)</a></li><li><a href=https://man7.org/tlpi/>The Linux Programming Interface (Michael Kerrisk)</a></li><li><a href=https://www.os-book.com/>Operating System Concepts (Silberschatz, Galvin, Gagne)</a></li><li><a href=https://hpbn.co/>High Performance Browser Networking (Ilya Grigorik)</a></li><li><a href=https://www.nodejsdesignpatterns.com/>Node.js Design Patterns (Mario Casciaro, Luciano Mammino)</a></li><li><a href=https://dataintensive.net/>Designing Data-Intensive Applications (Martin Kleppmann)</a></li><li><a href=https://sre.google/books/>Site Reliability Engineering (Google)</a></li></ul><h3 id=온라인-리소스>온라인 리소스<a hidden class=anchor aria-hidden=true href=#온라인-리소스>#</a></h3><ul><li><a href=http://www.kegel.com/c10k.html>The C10K Problem (Dan Kegel, 1999)</a></li><li><a href=https://bejeej.us/guide/bgnet/>Beej&rsquo;s Guide to Network Programming</a></li><li><a href=https://www.nginx.com/blog/inside-nginx-how-we-designed-for-performance-scale/>Nginx Architecture Overview</a></li><li><a href=https://github.com/libuv/libuv/blob/v1.x/docs/src/design.rst>Node.js libuv Design Overview</a></li><li><a href=https://fastapi.tiangolo.com/>FastAPI Documentation</a></li><li><a href=https://www.uvicorn.org/>Uvicorn Documentation</a></li><li><a href=https://www.techempower.com/benchmarks/>TechEmpower Framework Benchmarks</a></li><li><a href=https://www.nginx.com/blog/nginx-vs-apache-our-view/>Apache vs Nginx Performance Comparison</a></li></ul><h3 id=학술-논문-및-기술-블로그>학술 논문 및 기술 블로그<a hidden class=anchor aria-hidden=true href=#학술-논문-및-기술-블로그>#</a></h3><ul><li><a href=https://www.usenix.org/legacy/events/usenix2000/general/full_papers/lemon/lemon.pdf>Scalable Network I/O in Linux (Jonathan Lemon, USENIX 2000)</a></li><li><a href=https://www.linuxjournal.com/article/5855>epoll: The Linux Networking API (Linux Journal)</a></li><li><a href=https://people.freebsd.org/~lstewart/articles/cpumemory.pdf>What Every Programmer Should Know About Memory (Ulrich Drepper)</a></li><li><a href=https://netty.io/>Netty Project</a></li><li><a href=https://docs.spring.io/spring-framework/reference/web/webflux.html>Spring WebFlux Documentation</a></li><li><a href=https://www.reactive-streams.org/>Reactive Streams Specification</a></li><li><a href=https://opentelemetry.io/docs/>OpenTelemetry Documentation</a></li></ul><h3 id=벤치마크-및-도구>벤치마크 및 도구<a hidden class=anchor aria-hidden=true href=#벤치마크-및-도구>#</a></h3><ul><li><a href=https://github.com/wg/wrk>wrk - HTTP Benchmarking Tool</a></li><li><a href=https://httpd.apache.org/docs/2.4/programs/ab.html>Apache Bench (ab)</a></li><li><a href=https://prometheus.io/>Prometheus Monitoring</a></li><li><a href=https://grafana.com/>Grafana Visualization</a></li><li><a href=https://newrelic.com/products/application-monitoring>New Relic APM</a></li><li><a href=https://www.datadoghq.com/product/apm/>DataDog APM</a></li></ul><h3 id=커뮤니티-및-포럼>커뮤니티 및 포럼<a hidden class=anchor aria-hidden=true href=#커뮤니티-및-포럼>#</a></h3><ul><li><a href=https://stackoverflow.com/questions/tagged/async-await>Stack Overflow - async-await</a></li><li><a href=https://www.reddit.com/r/programming/>Reddit r/programming</a></li><li><a href=https://news.ycombinator.com/>Hacker News</a></li><li><a href=https://github.com/nodejs/node/discussions>Node.js GitHub Discussions</a></li><li><a href=https://github.com/python/cpython/labels/type-feature>Python asyncio GitHub Issues</a></li></ul><hr><hr><hr><h2 id=phase-1-개념-체계화-및-방향-설정>Phase 1: 개념 체계화 및 방향 설정<a hidden class=anchor aria-hidden=true href=#phase-1-개념-체계화-및-방향-설정>#</a></h2><h3 id=11-대상별-핵심-요약>1.1 대상별 핵심 요약<a hidden class=anchor aria-hidden=true href=#11-대상별-핵심-요약>#</a></h3><ul><li>Blocking IO: 프로세스가 IO 종료까지 완전히 대기, 단순/예측 용이, 동기 동작 특화.[1]</li><li>Non-Blocking IO: IO 요청 직후 제어권 반환, Polling·이벤트 기반 등 고효율, 시스템 부하 분산.[2]</li></ul><h3 id=12-공통-핵심-개념-표>1.2 공통 핵심 개념 표<a hidden class=anchor aria-hidden=true href=#12-공통-핵심-개념-표>#</a></h3><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>실무 역할</th><th>선행 지식</th><th>연관 개념</th><th>활용 예시</th><th>도구/표준</th></tr></thead><tbody><tr><td>블로킹 IO (Blocking IO)</td><td>작업 완료까지 대기, 제어권 커널 보유</td><td>동기 적합</td><td>OS, IO 모델</td><td>논블로킹</td><td>파일읽기, 단순 TCP 통신</td><td>POSIX, Windows</td></tr><tr><td>논블로킹 IO (Non-Blocking IO)</td><td>요청 즉시 반환, 반복 Polling 등으로 완료 확인, 이벤트기반 서버 적합</td><td>고성능 서버/네트워킹</td><td>OS, IO 모델, 이벤트</td><td>블로킹</td><td>채팅서버, Node.js 기반 서버</td><td>POSIX, epoll</td></tr></tbody></table><hr><h3 id=14-실무-연관성-매트릭스>1.4 실무 연관성 매트릭스<a hidden class=anchor aria-hidden=true href=#14-실무-연관성-매트릭스>#</a></h3><table><thead><tr><th>실무 영역</th><th>대표 시나리오</th><th>필요 역량</th><th>기대 효과</th><th>난이도</th><th>ROI</th></tr></thead><tbody><tr><td>서버 아키텍처</td><td>이벤트 기반 통신 서버 설계</td><td>비동기/이벤트처리</td><td>고성능, 확장성</td><td>높음</td><td>높음</td></tr><tr><td>IO 최적화</td><td>파일 시스템 대량처리</td><td>상태관리/모니터링</td><td>리소스 절약, Throughput</td><td>중</td><td>중상</td></tr><tr><td>일반 애플리케이션</td><td>단순 동기화 작업</td><td>IO 모델 기본이해</td><td>예측/안정적 성능</td><td>낮음</td><td>보통</td></tr></tbody></table><hr><h3 id=16-특성특징기능역할-요약>1.6 특성·특징·기능·역할 요약<a hidden class=anchor aria-hidden=true href=#16-특성특징기능역할-요약>#</a></h3><table><thead><tr><th>대상</th><th>특성</th><th>기능/역할</th></tr></thead><tbody><tr><td>블로킹 IO</td><td>대기시간 길어짐, 단순, 실패 시 전체차단</td><td>단순 흐름, 적은 디버깅 부담</td></tr><tr><td>논블로킹 IO</td><td>대기 없는 즉시 반환, Polling/이벤트 필요</td><td>성능 최적화, 리소스 효율, 병렬</td></tr></tbody></table><hr><h3 id=phase-1-개념-체계화-및-방향-설정-1>Phase 1: 개념 체계화 및 방향 설정<a hidden class=anchor aria-hidden=true href=#phase-1-개념-체계화-및-방향-설정-1>#</a></h3><h4 id=11-대상별-핵심-요약-1>1.1 대상별 핵심 요약<a hidden class=anchor aria-hidden=true href=#11-대상별-핵심-요약-1>#</a></h4><ul><li><strong>블로킹 IO(Blocking IO)</strong>: 입출력 작업을 요청한 프로세스가 해당 작업 완료까지 대기 상태로 전환되며, 제어권을 커널에게 넘긴다. 동기적 실행 맥락에서 단순하고, 코드 가독성·예측성이 높으나, 처리량 집약적 환경에서는 한계가 존재한다.[1][2]</li><li><strong>논블로킹 IO(Non-Blocking IO)</strong>: 입출력 요청 직후 커널이 제어권을 즉시 반환해, 프로세스가 IO 완료와 상관없이 다른 작업을 지속할 수 있다. Polling 또는 이벤트 루프를 활용해 작업 완료 여부를 주기적으로 점검한다. 고성능 네트워크, 서버, 멀티유저 시스템에 적합하다.[3][4][1]</li></ul><hr><h4 id=12-공통-핵심-개념-표-1>1.2 공통 핵심 개념 표<a hidden class=anchor aria-hidden=true href=#12-공통-핵심-개념-표-1>#</a></h4><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>실무 역할</th><th>선행 지식</th><th>연관 개념</th><th>활용 예시</th><th>도구/표준</th></tr></thead><tbody><tr><td>블로킹 IO (Blocking IO)</td><td>IO 완료까지 프로세스 실행 중단, 제어권 커널 보유</td><td>동기화 작업, 단순 흐름 구현</td><td>OS, 기본 IO</td><td>논블로킹</td><td>파일 읽기, 단일 TCP</td><td>POSIX, Windows API</td></tr><tr><td>논블로킹 IO (Non-Blocking IO)</td><td>IO 즉시 반환, Polling/이벤트루프 활용, 병렬화 가능</td><td>고성능 서버, 네트워크, 병렬</td><td>OS, 이벤트루프</td><td>블로킹</td><td>채팅서버, Node.js, Java NIO</td><td>POSIX, epoll, Java NIO</td></tr><tr><td>이벤트 루프 (Event Loop)</td><td>이벤트 기반으로 IO 완료 시 신호 받아 처리</td><td>멀티유저 서버, 프로세스 동시성</td><td>상태관리/동기</td><td>Polling</td><td>Node.js, JavaScript</td><td>이벤트 기반 프레임워크</td></tr><tr><td>Polling (폴링)</td><td>주기적으로 IO 상태 점검, 계속 체크하며 결과 확인</td><td>간단 논블로킹 실습, 디바이스</td><td>반복문</td><td>이벤트 루프</td><td>USB 데이터 수신, Busy-Wait</td><td>OS 기본 API</td></tr></tbody></table><hr><h4 id=14-실무-연관성-매트릭스-1>1.4 실무 연관성 매트릭스<a hidden class=anchor aria-hidden=true href=#14-실무-연관성-매트릭스-1>#</a></h4><table><thead><tr><th>실무 영역</th><th>대표 시나리오</th><th>필요 역량</th><th>기대 효과</th><th>난이도</th><th>ROI</th></tr></thead><tbody><tr><td>네트워크 서버</td><td>NIO 서버, 이벤트기반 웹소켓</td><td>이벤트루프/병렬화</td><td>수만 동접 처리, 비용최적화</td><td>높음</td><td>높음</td></tr><tr><td>파일시스템 IO</td><td>대용량 로그/데이터 처리</td><td>IO 상태관리</td><td>Throughput 증대, 효율화</td><td>중</td><td>중상</td></tr><tr><td>CLI 툴</td><td>동기입출력, 순차처리</td><td>기본 흐름 관리</td><td>간단/예측 흐름</td><td>낮음</td><td>보통</td></tr></tbody></table><hr><h4 id=15-맞춤-학습-경로>1.5 맞춤 학습 경로<a hidden class=anchor aria-hidden=true href=#15-맞춤-학습-경로>#</a></h4><ul><li><strong>초심자</strong>: Phase 2(IO 기본 개념 및 구조) → Phase 3(구성요소와 동작 흐름)</li><li><strong>실무자</strong>: Phase 3(핵심원리) → Phase 5(구현/도구비교) → Phase 6(실무적용) → Phase 7(비교·통합)</li><li><strong>전문가</strong>: Phase 4(특성평가 심층) → Phase 7(실질 최적화/확장 모델)</li></ul><hr><h4 id=16-특성특징기능역할-요약-1>1.6 특성·특징·기능·역할 요약<a hidden class=anchor aria-hidden=true href=#16-특성특징기능역할-요약-1>#</a></h4><table><thead><tr><th>대상</th><th>특성</th><th>기능/역할</th></tr></thead><tbody><tr><td>블로킹 IO</td><td>대기시간 길어짐, 구현 단순</td><td>단순 흐름 (동기처리), 디버깅 용이</td></tr><tr><td>논블로킹 IO</td><td>동시작업 병렬화, 이벤트/폴링 적용</td><td>리소스 효율, 고성능 서버, 복잡 상태관리</td></tr></tbody></table><hr><h3 id=phase-1-검증-대기-목록>Phase 1 검증 대기 목록<a hidden class=anchor aria-hidden=true href=#phase-1-검증-대기-목록>#</a></h3><table><thead><tr><th>항목</th><th>부족 근거/의문</th><th>예상 1 차 출처</th><th>교차 검증 후보</th><th>담당</th><th>마감</th></tr></thead><tbody><tr><td>Linux 커널 Polling</td><td>컨텍스트 스위칭 오버헤드</td><td>공식 POSIX 문서, Linux 커널 문서</td><td>Java NIO, Node.js event loop</td><td>-</td><td>-</td></tr><tr><td>단일 IO 작업</td><td>차이 미미/성능 영향</td><td>실무 사례, 성능 벤치마크</td><td>각종 실습 예제</td><td>-</td><td>-</td></tr></tbody></table><hr><h3 id=phase-2-기초-정립-초심자-필수-1>Phase 2: 기초 정립 (초심자 필수)<a hidden class=anchor aria-hidden=true href=#phase-2-기초-정립-초심자-필수-1>#</a></h3><hr><h4 id=블로킹-ioblocking-io---정의와-예시>블로킹 IO(Blocking IO) - 정의와 예시<a hidden class=anchor aria-hidden=true href=#블로킹-ioblocking-io---정의와-예시>#</a></h4><ul><li><strong>정의:</strong> 블로킹 IO 는 입출력 (IO) 작업이 실행되는 동안, 해당 작업을 요청한 프로세스나 스레드가 작업이 끝날 때까지 아무 작업도 하지 못하고 기다리는 방식이다. 제어권은 커널이 가지고 있으며, IO 가 완료되어야만 프로세스가 다음 단계를 이어서 실행할 수 있다.[1][2]</li><li><strong>예시:</strong> 파일을 읽는 코드에서 <code>read()</code> 함수를 호출하면, 파일의 내용이 메모리로 모두 복사될 때까지 프로그램은 멈추어 다른 어떠한 동작도 불가능하다. 네트워크 서버에서도 클라이언트 요청이 들어왔을 때, 응답이 오기 전까지 다음 요청을 처리하지 못한다.[3][4]</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-63-1><a class=lnlinks href=#hl-63-1>1</a>
</span><span class=lnt id=hl-63-2><a class=lnlinks href=#hl-63-2>2</a>
</span><span class=lnt id=hl-63-3><a class=lnlinks href=#hl-63-3>3</a>
</span><span class=lnt id=hl-63-4><a class=lnlinks href=#hl-63-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Python 블로킹 예시 (파일 읽기)</span>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;sample.txt&#39;</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>data</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>    <span class=c1># 이 라인은 파일의 모든 데이터를 메모리로 읽을 때까지 실행이 멈춤</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;파일 읽기 완료:&#34;</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><hr><h4 id=논블로킹-ionon-blocking-io---정의와-예시>논블로킹 IO(Non-Blocking IO) - 정의와 예시<a hidden class=anchor aria-hidden=true href=#논블로킹-ionon-blocking-io---정의와-예시>#</a></h4><ul><li><strong>정의:</strong> 논블로킹 IO 는 입출력 요청 (return) 이 즉시 반환되어, IO 가 끝나지 않았어도 프로세스는 다른 작업을 이어갈 수 있는 방식이다. 보통 프로세스는 IO 의 진행 상황을 주기적으로 확인하거나 (폴링), 이벤트 처리 시스템을 활용한다. 제어권은 커널이 바로 어플리케이션에 다시 넘긴다.[4][1]</li><li><strong>예시:</strong> 데이터를 네트워크로 수신하는 시스템에서 <code>recv()</code> 함수 호출 시, 만약 받을 데이터가 없다면 바로 에러 코드 또는 특별 값 (EWOULDBLOCK) 으로 반환한다. 프로세스는 중간중간에 완료 여부를 체크하는 로직을 구현한다.[5][4]</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-64-1><a class=lnlinks href=#hl-64-1> 1</a>
</span><span class=lnt id=hl-64-2><a class=lnlinks href=#hl-64-2> 2</a>
</span><span class=lnt id=hl-64-3><a class=lnlinks href=#hl-64-3> 3</a>
</span><span class=lnt id=hl-64-4><a class=lnlinks href=#hl-64-4> 4</a>
</span><span class=lnt id=hl-64-5><a class=lnlinks href=#hl-64-5> 5</a>
</span><span class=lnt id=hl-64-6><a class=lnlinks href=#hl-64-6> 6</a>
</span><span class=lnt id=hl-64-7><a class=lnlinks href=#hl-64-7> 7</a>
</span><span class=lnt id=hl-64-8><a class=lnlinks href=#hl-64-8> 8</a>
</span><span class=lnt id=hl-64-9><a class=lnlinks href=#hl-64-9> 9</a>
</span><span class=lnt id=hl-64-10><a class=lnlinks href=#hl-64-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Python 논블로킹 소켓 예시 (데이터 수신)</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>socket</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>sock</span> <span class=o>=</span> <span class=n>socket</span><span class=o>.</span><span class=n>socket</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>sock</span><span class=o>.</span><span class=n>setblocking</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>   <span class=c1># 논블로킹 모드 설정</span>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>data</span> <span class=o>=</span> <span class=n>sock</span><span class=o>.</span><span class=n>recv</span><span class=p>(</span><span class=mi>1024</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;수신 데이터:&#34;</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=ne>BlockingIOError</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;아직 데이터 없음, 다른 작업 수행&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><hr><h4 id=io-모델-동작-흐름-요약>IO 모델 동작 흐름 요약<a hidden class=anchor aria-hidden=true href=#io-모델-동작-흐름-요약>#</a></h4><ul><li><strong>블로킹:</strong> IO 작업이 끝날 때까지 대기 → 반환값 처리 → 다음 단계 진행.</li><li><strong>논블로킹:</strong> IO 요청 후 즉시 반환 → 상태 확인 → 완료 시 결과 처리, 미완료면 다른 작업 반복.[1][4]</li></ul><hr><h4 id=간단-설명-및-연결>간단 설명 및 연결<a hidden class=anchor aria-hidden=true href=#간단-설명-및-연결>#</a></h4><ul><li><strong>블로킹 IO</strong>는 " 기다림 " 의 연속, 순차적 처리에 적합하다.</li><li><strong>논블로킹 IO</strong>는 " 즉시 반환 + 반복 확인 " 구조로, 동시성 (Concurrency) 이 중요한 서버·이벤트 처리 환경에 적합하다.</li><li>**다음 단계 (Phase 3)**에서 각 방식의 시스템 내 동작 원리와 특징·구성요소를 구체적으로 설명한다.[4][5][1]</li></ul><h3 id=phase-3-핵심-원리>Phase 3: 핵심 원리<a hidden class=anchor aria-hidden=true href=#phase-3-핵심-원리>#</a></h3><hr><h4 id=구성-요소-및-동작-흐름-blocking-vs-non-blocking-io>구성 요소 및 동작 흐름 (Blocking vs. Non-Blocking IO)<a hidden class=anchor aria-hidden=true href=#구성-요소-및-동작-흐름-blocking-vs-non-blocking-io>#</a></h4><table><thead><tr><th>IO 모델</th><th>구성 요소</th><th>핵심 동작 흐름</th></tr></thead><tbody><tr><td>블로킹 IO</td><td>프로세스/스레드, 커널</td><td>(1) 프로세스가 IO 요청<br>(2) 커널이 IO 대기<br>(3) IO 완료 후 제어권 반환 및 결과 처리</td></tr><tr><td>논블로킹 IO</td><td>프로세스/스레드, 커널, 상태확인 (폴링)</td><td>(1) IO 요청 후 즉시 반환<br>(2) 프로세스는 Polling 등으로 상태 점검<br>(3) IO 완료 시 결과 처리 (또는 이벤트 기반 완료 알림)</td></tr></tbody></table><hr><h4 id=데이터제어-흐름-상세>데이터·제어 흐름 상세<a hidden class=anchor aria-hidden=true href=#데이터제어-흐름-상세>#</a></h4><ul><li><strong>블로킹 IO</strong><ul><li>IO 요청 시, 해당 프로세스 (혹은 스레드) 는 IO 작업이 끝날 때까지 다른 일을 전혀 할 수 없다. 커널이 IO 작업이 끝날 때까지, 즉 하드웨어 또는 파일 또는 네트워크에서 데이터를 전송받기까지, 해당 프로세스의 자원 (특히 CPU 제어권) 을 차단/block 한다.[1][2][3]</li><li>IO 완료 후 커널이 응답값을 프로세스에 반환, 이때서야 제어권이 프로세스에게 돌아가며 이후 작업을 진행한다.</li></ul></li><li><strong>논블로킹 IO</strong><ul><li>IO 요청 (예: read, recv 등) 시 커널은 즉시 제어권을 반환한다. 결과가 없으면 특별 코드 (EWOULDBLOCK, -1 등) 를 반환하거나, 결과가 준비된 경우에만 데이터를 돌려준다. 프로세스 (또는 스레드) 는 중간중간 폴링 방식 또는 이벤트 루프를 통해 상태를 확인한다.[4][5][6]</li><li>Polling 이란, 프로세스가 루프 내에서 반복적으로 IO 상태를 체크하는 방식이다. 이벤트 루프 구조에서는 IO 가 완료되면 커널이나 런타임 환경이 콜백 또는 이벤트 신호를 통해 작업 완료 알림을 보낸다.</li><li>이 방식은 병렬성, 동시성, 서버 동접처리 확장에 유리하다.[7][5]</li></ul></li></ul><hr><h4 id=특징과-주의-사항>특징과 주의 사항<a hidden class=anchor aria-hidden=true href=#특징과-주의-사항>#</a></h4><table><thead><tr><th>구성 요소/기능</th><th>역할</th><th>입력/출력</th><th>의존관계</th><th>주의사항</th></tr></thead><tbody><tr><td>커널 (kernel)</td><td>IO 작업 처리</td><td>IO 요청 -> 결과 반환</td><td>하드웨어/OS</td><td>논블로킹은 커널 오버헤드/컨텍스트 스위칭 빈도 ↑</td></tr><tr><td>프로세스 (process)</td><td>작업 요청/상태관리</td><td>요청/응답</td><td>커널/스레드</td><td>블로킹 사용시 전체 프로세스 대기상태 가능</td></tr><tr><td>상태 확인 (polling)</td><td>완료여부 체크</td><td>결과없음 - 루프 반복</td><td>커널/이벤트루프</td><td>busy-wait 주기·리소스·성능 관리 필요</td></tr><tr><td>이벤트루프 (event loop)</td><td>비동기완료 통지</td><td>이벤트/콜백 처리</td><td>논블로킹 프레임워크</td><td>구조 설계·상태관리 복잡성 커짐</td></tr></tbody></table><hr><h4 id=동작-원리-요약>동작 원리 요약<a hidden class=anchor aria-hidden=true href=#동작-원리-요약>#</a></h4><ul><li>블로킹 IO 의 경우, CPU 와 메모리 같은 컴퓨터 자원을 IO 기다림에 묶어두므로, 단일 작업에는 효과적이나 대규모 네트워크 서버·실시간 시스템에서는 부적합하다.</li><li>논블로킹 IO 는 IO 준비상태만큼만 자원을 사용하므로, 동시 연결 수·병렬 처리 요구가 높은 환경에서 시스템 효율이 크게 증가한다. 단, 상태관리·오류처리·busy-wait 에 주의해야 하며, 이벤트 기반 구현에서 설계 복잡도는 더 높아질 수 있다.[2][5][7][4]</li></ul><hr><p>Phase 4 에서는 각 방식의 성능/특성 비교와 표준 운영시 현장 사례, 개선 및 최적화 전략을 표와 체크리스트로 정리한다.### Phase 3: 핵심 원리 [5][7][4]</p><hr><h4 id=동작-흐름-요약-및-비교>동작 흐름 요약 및 비교<a hidden class=anchor aria-hidden=true href=#동작-흐름-요약-및-비교>#</a></h4><table><thead><tr><th>IO 모델</th><th>동작 흐름</th><th>제어권 변환</th><th>주요 제어/데이터 흐름</th></tr></thead><tbody><tr><td>블로킹 IO</td><td>IO 요청 후 대기 → IO 완료 후 반환</td><td>커널→프로세스 (완료시점 반환)</td><td>요청→커널 대기→완료 후 결과 반환</td></tr><tr><td>논블로킹 IO</td><td>IO 요청 즉시 반환→상태 확인 반복</td><td>커널→프로세스 (즉시 반환)</td><td>요청→즉시 반환→루프 내 Polling→완료시 결과 처리</td></tr></tbody></table><hr><h4 id=구성-요소별-역할-및-흐름>구성 요소별 역할 및 흐름<a hidden class=anchor aria-hidden=true href=#구성-요소별-역할-및-흐름>#</a></h4><ul><li><strong>블로킹 IO</strong><ul><li>프로세스가 IO 요청 (<code>read</code>, <code>recv</code> 등) 을 하면, 커널은 IO 작업을 진행하고, 해당 프로세스는 해당 작업의 완료까지 아무 것도 하지 못하고 블로킹 됨.</li><li>커널이 IO 를 완료하면 프로세스에 제어권을 반환하고 결과를 넘겨줌.[3][1][2]</li><li>주요 특성: 직관적, 디버깅 쉽지만 대기 시간·리소스 낭비.</li></ul></li><li><strong>논블로킹 IO</strong><ul><li>IO 요청 후 커널은 즉시 제어권을 반환하고, 데이터가 없을 경우 특별 코드 (EWOULDBLOCK 등) 로 처리.</li><li>프로세스는 일정 주기로 IO 완료 확인 (Polling) 하거나, 이벤트 기반 시스템에서는 완료 알림 (Event Loop) 을 활용해 작업을 이어나감.[7][4][5]</li><li>주요 특성: 병렬 처리, 동시성에 탁월, 상태관리 및 오류처리 복잡도 증가.</li></ul></li></ul><hr><h4 id=구성-요소기능역할-매핑-표>구성 요소·기능·역할 매핑 표<a hidden class=anchor aria-hidden=true href=#구성-요소기능역할-매핑-표>#</a></h4><table><thead><tr><th>구성 요소</th><th>역할</th><th>입력/출력</th><th>의존 관계</th><th>주의 사항</th></tr></thead><tbody><tr><td>커널</td><td>IO 중재·완료</td><td>IO 요청→완료여부 반환</td><td>하드웨어, OS</td><td>이벤트 기반/Polling 처리 가능, 오버헤드 ↑</td></tr><tr><td>프로세스/스레드</td><td>작업 요청·상태 확인</td><td>요청→IO 완료 결과 수신</td><td>커널, 상태관리</td><td>블로킹 - 대기/논블로킹 - 반복 확인/이벤트루프</td></tr><tr><td>Polling</td><td>완료상태 체크</td><td>루프 내 IO 상태 확인</td><td>프로세스, 커널</td><td>busy-wait 과다 시 CPU 리소스 낭비</td></tr><tr><td>이벤트루프</td><td>완료통지</td><td>이벤트/콜백, 알림 수신</td><td>논블로킹 프레임워크</td><td>복잡한 상태·에러 핸들링 고민 필요</td></tr></tbody></table><hr><h4 id=동작-흐름-다이어그램-설명-예시>동작 흐름 다이어그램 (설명 예시)<a hidden class=anchor aria-hidden=true href=#동작-흐름-다이어그램-설명-예시>#</a></h4><ul><li><p><strong>블로킹 IO</strong></p><ol><li>IO 요청</li><li>커널 내 대기 → IO 완료될 때까지 프로세스 중단 (block)</li><li>IO 완료 시 응답 및 제어권 반환</li></ol></li><li><p><strong>논블로킹 IO</strong></p><ol><li>IO 요청</li><li>커널 즉시 반환 (EWOULDBLOCK or 데이터/코드)</li><li>프로세스는 Polling or 이벤트 시스템 통해 상태 점검</li><li>IO 완료 시 결과처리 (콜백, 상태변수 등)</li></ol></li></ul><hr><h3 id=phase-4-특성-평가>Phase 4: 특성 평가<a hidden class=anchor aria-hidden=true href=#phase-4-특성-평가>#</a></h3><hr><h4 id=성능효율운영-특성-비교>성능·효율·운영 특성 비교<a hidden class=anchor aria-hidden=true href=#성능효율운영-특성-비교>#</a></h4><table><thead><tr><th>기준</th><th>블로킹 IO</th><th>논블로킹 IO</th><th>코멘트</th></tr></thead><tbody><tr><td>처리량</td><td>낮음 (대기시간 발생)</td><td>높음 (자원 활용 효율↑, 응답성↑)</td><td>논블로킹이 동시작업에 우위</td></tr><tr><td>리소스 사용률</td><td>스레드/프로세스 과다 사용</td><td>적은 수의 스레드→많은 작업 처리</td><td>쓰레드·메모리 절약</td></tr><tr><td>컨텍스트 전환</td><td>빈번 (멀티스레드 대기)</td><td>적음 (이벤트루프, Polling 기반)</td><td>CPU 대기↓, 성능↑</td></tr><tr><td>유지보수</td><td>쉽고 직관적</td><td>복잡도↑, 상태·오류 핸들링 부담 증가</td><td>논블로킹은 설계·디버깅 ↑</td></tr><tr><td>장점</td><td>구현 단순, 디버깅 용이</td><td>확장성, 고성능, 동시성</td><td>환경·업무별 선택 필요</td></tr><tr><td>단점</td><td>리소스 낭비, 확장성↓</td><td>구현 복잡, busy-wait/오버헤드 위험</td><td>상황에 따라 trade-off</td></tr></tbody></table><hr><h4 id=운영상-트러블슈팅-체크리스트>운영상 트러블슈팅 체크리스트<a hidden class=anchor aria-hidden=true href=#운영상-트러블슈팅-체크리스트>#</a></h4><table><thead><tr><th>증상</th><th>블로킹 주요 원인</th><th>논블로킹 주요 원인</th><th>진단 도구</th><th>임시 조치</th><th>근본 해결</th></tr></thead><tbody><tr><td>응답지연</td><td>대량 작업·IO 대기</td><td>Polling 빈도 과다, 이벤트 누락</td><td>프로파일러, IO 모니터링</td><td>Polling 주기 조정</td><td>아키텍처 변경, 이벤트 기반</td></tr><tr><td>리소스 사용폭주</td><td>멀티스레드 혼잡</td><td>busy-wait 오버헤드</td><td>시스템 자원 모니터</td><td>쓰레드 풀 관리</td><td>이벤트 기반 도입, Polling 개선</td></tr><tr><td>예외 처리 실패</td><td>단순 오류 누락</td><td>상태관리·경쟁상태</td><td>로그·콜백 추적</td><td>오류 핸들 보강</td><td>설계 및 테스트 강화</td></tr><tr><td>컨텍스트 스위칭↑</td><td>대기 중 스레드 증가</td><td>이벤트큐 과부하</td><td>시스템 모니터</td><td>이벤트우선순위 조정</td><td>스레드 설계 최적화</td></tr></tbody></table><hr><h4 id=실무-적용-및-최적화-사례>실무 적용 및 최적화 사례<a hidden class=anchor aria-hidden=true href=#실무-적용-및-최적화-사례>#</a></h4><ul><li>논블로킹 IO 는 수천~만 동시 연결 (C10K, C100K 문제) 에 적합. 적은 수의 스레드로 많은 클라이언트 처리 → 대표적으로 Java NIO, Node.js, Netty 등에서 Multiplexing 이벤트 기반 모델 채택.[1][2]</li><li>블로킹 IO 는 단일 작업, 순차적 대용량 처리, 간단한 API 서버, CLI 등 직관성과 예측성을 중시하는 환경에 적합.[3][4]</li><li>busy-wait, Polling 빈도 설정이 부적절할 경우 논블로킹 IO 효율이 급감하며, 이벤트 디멀티플렉싱 (epoll, kqueue, IOCP 등) 을 활용한 개선 전략이 일반적임.[5][1]</li></ul><hr><h4 id=성능-최적화-체크리스트-1>성능 최적화 체크리스트<a hidden class=anchor aria-hidden=true href=#성능-최적화-체크리스트-1>#</a></h4><ul><li>논블로킹: 이벤트 기반 루프 설계, Polling 빈도·오버헤드 최적화, 상태관리 및 예외처리 강화, OS 별 비동기 지원 API 사용 (epoll/IOCP 등).</li><li>블로킹: 스레드풀/프로세스풀 운용, 작업 큐 분산, 동기화 자원 효율 관리.</li></ul><hr><p>Phase 5 에서는 각 모델별로 코드 구현 가이드, 주요 설정, 도구 적용법, 트러블슈팅 실습, 운영 모니터링 표준을 실무 예시와 함께 제시한다.### Phase 4: 특성 평가 [4][2][3][1][5]</p><hr><h4 id=성능-및-특성-비교>성능 및 특성 비교<a hidden class=anchor aria-hidden=true href=#성능-및-특성-비교>#</a></h4><table><thead><tr><th>기준</th><th>블로킹 IO</th><th>논블로킹 IO</th><th>코멘트</th></tr></thead><tbody><tr><td>처리량</td><td>낮음 (동시 처리에 한계, 대기 시간 길어짐)</td><td>높음 (동시 연결·병렬 작업 확장에 강점)</td><td>현실적 서버 환경에서 논블로킹 우위</td></tr><tr><td>사용 자원</td><td>스레드·메모리 많이 소모 (멀티스레드 모델)</td><td>적은 스레드로 대량 처리, 이벤트루프 활용</td><td>CPU 컨텍스트 전환 감소, 효율성 ↑</td></tr><tr><td>유지보수</td><td>코드 구조 단순, 디버깅 용이</td><td>상태관리·에러처리 복잡, 설계 공수↑</td><td>논블로킹은 운영 안정화 및 설계 중요</td></tr><tr><td>장점</td><td>예측성, 개발 편의, 직관적 흐름</td><td>확장성, 자원 효율, 실시간성</td><td>환경별 trade-off 필요</td></tr><tr><td>단점</td><td>리소스 낭비, 응답지연, 확장성 한계</td><td>busy-wait, 이벤트 손실, 상태관리 오버헤드</td><td>OS/프레임워크 비동기 이벤트 사용 추천</td></tr></tbody></table><hr><h4 id=운영상-트러블슈팅-실전-체크리스트>운영상 트러블슈팅 실전 체크리스트<a hidden class=anchor aria-hidden=true href=#운영상-트러블슈팅-실전-체크리스트>#</a></h4><table><thead><tr><th>증상</th><th>블로킹 주요 원인</th><th>논블로킹 주요 원인</th><th>진단 도구</th><th>임시 조치</th><th>근본 해결</th></tr></thead><tbody><tr><td>응답지연</td><td>IO 대기, 스레드 혼잡</td><td>Polling 빈도 과다, 이벤트 손실</td><td>서버 프로파일러, 자원 모니터</td><td>Polling 주기 조정</td><td>이벤트기반, 스레드풀 튜닝</td></tr><tr><td>CPU/메모리 폭주</td><td>대기중 스레드 증가</td><td>반복 Polling/busy-wait</td><td>시스템 모니터, 로그 추적</td><td>Polling·쓰레드 조정</td><td>비동기 이벤트 모델 도입</td></tr><tr><td>예외 처리 미흡</td><td>단순 오류, 블록 누락</td><td>상태 경쟁, 에러콜백 누락</td><td>로그, 콜백 추적</td><td>에러 핸들 보강</td><td>이벤트기반 에러 핸들/테스트 강화</td></tr></tbody></table><hr><h4 id=실무-최적화-사례>실무 최적화 사례<a hidden class=anchor aria-hidden=true href=#실무-최적화-사례>#</a></h4><ul><li><strong>논블로킹 IO</strong>: C10K/C100K 문제 해결에 필수, 이벤트 디멀티플렉싱 (epoll, kqueue 등) 으로 대부분의 서버가 채택. Java NIO, Node.js, Netty 등 프레임워크에서 실용적으로 운영됨.[1][5]</li><li><strong>블로킹 IO</strong>: IO 작업의 순차성·직관성이 최우선인 환경 (단일작업, CLI 툴, 소규모 API) 에서 안정·예측성 측면 우세.[3][4]</li></ul><hr><h4 id=성능-최적화-체크리스트-2>성능 최적화 체크리스트<a hidden class=anchor aria-hidden=true href=#성능-최적화-체크리스트-2>#</a></h4><ul><li>논블로킹: Event loop 설계 (과도 Polling/busy-wait 자제), 이벤트 디멀티플렉싱 API(epoll/kqueue/IOCP) 적극 활용, 상태 및 에러 핸들링 강화.</li><li>블로킹: 스레드풀 운용, 동기화 자원 관리, 큐 분산 처리, 작업 흐름 단순화.</li></ul><hr><p>Phase 5 에서는 각 IO 모델별 표준 코드 구현 가이드, 운영 설정 예시, 도구 적용법, 모니터링 프레임워크, 트러블슈팅 실습을 추가로 다룬다.### Phase 4: 특성 평가 [4][5][3][1]</p><hr><h4 id=성능-및-특징-비교>성능 및 특징 비교<a hidden class=anchor aria-hidden=true href=#성능-및-특징-비교>#</a></h4><table><thead><tr><th>기준</th><th>블로킹 IO</th><th>논블로킹 IO</th><th>코멘트</th></tr></thead><tbody><tr><td>처리량/동접</td><td>낮음 (스레드가 대기중 핸들링 불가)</td><td>높음 (적은 스레드로 많은 클라이언트 동시 처리)</td><td>이벤트루프 기반이 C10K 문제 해결에 핵심</td></tr><tr><td>리소스 사용률</td><td>스레드·메모리 소모↑, 컨텍스트 스위칭↑</td><td>CPU 대기↓, 자원 효율↑, busy-wait 부담</td><td>논블로킹은 자원 활용 최적화</td></tr><tr><td>유지보수/설계</td><td>구조 단순, 디버깅 쉬움</td><td>상태관리·에러처리 복잡, 설계난이도↑</td><td>운영·디버깅 환경 고려 필요</td></tr><tr><td>장점</td><td>예측가능, 코딩 난이도 낮음</td><td>확장성·실시간 응답성 우수</td><td>환경/업무별 trade-off</td></tr><tr><td>단점</td><td>응답지연, 확장성↓, 리소스 낭비</td><td>busy-wait/이벤트누락, 복잡성↑</td><td>이벤트 기반 최적화 필수</td></tr></tbody></table><hr><h4 id=운영상-트러블슈팅-체크리스트-1>운영상 트러블슈팅 체크리스트<a hidden class=anchor aria-hidden=true href=#운영상-트러블슈팅-체크리스트-1>#</a></h4><table><thead><tr><th>증상</th><th>블로킹 주요 원인</th><th>논블로킹 주요 원인</th><th>진단 도구</th><th>임시 조치</th><th>근본 해결</th></tr></thead><tbody><tr><td>응답지연</td><td>IO 대기, 스레드 병목</td><td>polling 과다, 이벤트 누락</td><td>로그, 시스템 모니터</td><td>polling 주기 조정</td><td>이벤트 기반 개선, 스레드풀 관리</td></tr><tr><td>CPU/메모리↑</td><td>대기중 스레드 폭주</td><td>busy-wait 루프 오버헤드</td><td>자원 모니터</td><td>쓰레드·polling 감소</td><td>이벤트 기반 도입, polling 탈피</td></tr><tr><td>예외처리 실패</td><td>블록 에러처리 미흡</td><td>상태경합, 에러콜백 미흡</td><td>로그, 콜백 추적</td><td>핸들 보강</td><td>이벤트/상태관리·테스트 강화</td></tr></tbody></table><hr><h4 id=서버-최적화-및-적용-사례>서버 최적화 및 적용 사례<a hidden class=anchor aria-hidden=true href=#서버-최적화-및-적용-사례>#</a></h4><ul><li>논블로킹 IO 기반 서버는 수만 동시 접속 (C10K, C100K 문제) 해결 가능. Netty, Java NIO, Node.js 등 대표적 도입 사례 많음.[2][5][1]</li><li>블로킹 IO 는 단일작업/순차처리 중심 환경에 효율적. CLI, 단순 REST API, 배치성 처리에서 예측성 + 안정성 우위.</li></ul><hr><h4 id=성능-최적화-체크리스트-3>성능 최적화 체크리스트<a hidden class=anchor aria-hidden=true href=#성능-최적화-체크리스트-3>#</a></h4><ul><li>논블로킹: 이벤트루프 설계, polling 루프 과잉 방지, OS 별 비동기 API(epoll, IOCP) 적용, 예외/상태관리 보강.</li><li>블로킹: 스레드풀/대기큐 운용, 동기화/자원관리, 작업 분산 흐름 구조화.</li></ul><hr><p>Phase 5 에서는 코드구현, 설정, 대표 도구·플랫폼 적용 가이드와 운영 모니터링·트러블슈팅 실습 세부 방법을 이어서 다룬다.### Phase 4: 특성 평가 [2][5][3][4][1]</p><hr><h4 id=성능운영확장성-특성-비교>성능·운영·확장성 특성 비교<a hidden class=anchor aria-hidden=true href=#성능운영확장성-특성-비교>#</a></h4><table><thead><tr><th>기준</th><th>블로킹 IO</th><th>논블로킹 IO</th><th>코멘트</th></tr></thead><tbody><tr><td>처리량</td><td>낮음, 대기시간 많음</td><td>대량 동접시 확장성 우수</td><td>논블로킹이 서버식 성능 최적화</td></tr><tr><td>자원효율</td><td>멀티스레드·메모리 소모↑</td><td>적은 스레드로 대량 처리</td><td>논블로킹은 자원 절약</td></tr><tr><td>운영/디버깅</td><td>구조 단순, 유지보수 용이</td><td>상태관리·복잡성↑, 운영 공수↑</td><td>주요 운영환경에 따른 선택 필요</td></tr><tr><td>장점</td><td>직관성, 예측성 높음</td><td>실시간성, 확장성, 효율성</td><td>논블로킹은 이벤트 기반이 핵심</td></tr><tr><td>단점</td><td>응답지연, 리소스 낭비</td><td>busy-wait, 이벤트 누락</td><td>논블로킹은 설계·오버헤드 이슈</td></tr></tbody></table><hr><h4 id=운영상-트러블슈팅-체크리스트-2>운영상 트러블슈팅 체크리스트<a hidden class=anchor aria-hidden=true href=#운영상-트러블슈팅-체크리스트-2>#</a></h4><table><thead><tr><th>증상</th><th>블로킹 주요 원인</th><th>논블로킹 주요 원인</th><th>진단 도구</th><th>임시 조치</th><th>근본 해결</th></tr></thead><tbody><tr><td>응답지연</td><td>IO 대기, 스레드 병목</td><td>Polling 과다, 이벤트 누락</td><td>시스템 모니터</td><td>Polling 주기 조정</td><td>이벤트 기반, 스레드풀 설계</td></tr><tr><td>리소스폭주</td><td>과도한 스레드 대기</td><td>busy-wait 오버헤드</td><td>자원 모니터</td><td>Polling/스레드 제한</td><td>이벤트루프, 비동기 설계</td></tr><tr><td>에러처리미흡</td><td>단순 예외, 블록 누락</td><td>콜백 상태경합, 이벤트누락</td><td>로그·콜백 추적</td><td>에러핸들 보강</td><td>이벤트·상태처리 강화</td></tr></tbody></table><hr><h4 id=실무-최적화-사례-1>실무 최적화 사례<a hidden class=anchor aria-hidden=true href=#실무-최적화-사례-1>#</a></h4><ul><li><strong>논블로킹 IO</strong>: Java NIO, Netty, Node.js 등은 적은 스레드로 수만 클라이언트 처리 (C10K/C100K 문제 핵심 전략). 이벤트 디멀티플렉싱 (epoll/kqueue) 도입으로 Polling 오버헤드 최소화.[5][1][2]</li><li><strong>블로킹 IO</strong>: 단순 처리업무, API, CLI, 동기식 배치에 직관성·예측성·안정성 우위. 대형 네트워크·실시간 서버 환경에는 한계.</li></ul><hr><h4 id=성능-최적화-체크리스트-4>성능 최적화 체크리스트<a hidden class=anchor aria-hidden=true href=#성능-최적화-체크리스트-4>#</a></h4><ul><li>논블로킹: 이벤트루프, Polling 빈도 최소화, epoll/kqueue 등 OS 비동기 API 적극 활용, 콜백·상태관리 강화.</li><li>블로킹: 스레드풀 설계, 작업 분산, 동기화·자원관리 병행.</li></ul><hr><h3 id=phase-5-구현도구-개발자-1>Phase 5: 구현/도구 (개발자)<a hidden class=anchor aria-hidden=true href=#phase-5-구현도구-개발자-1>#</a></h3><hr><h4 id=코드-구현-예시-및-설정-정책>코드 구현 예시 및 설정 정책<a hidden class=anchor aria-hidden=true href=#코드-구현-예시-및-설정-정책>#</a></h4><h5 id=1-블로킹-iojava-python>1. 블로킹 IO(Java, Python)<a hidden class=anchor aria-hidden=true href=#1-블로킹-iojava-python>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-65-1><a class=lnlinks href=#hl-65-1>1</a>
</span><span class=lnt id=hl-65-2><a class=lnlinks href=#hl-65-2>2</a>
</span><span class=lnt id=hl-65-3><a class=lnlinks href=#hl-65-3>3</a>
</span><span class=lnt id=hl-65-4><a class=lnlinks href=#hl-65-4>4</a>
</span><span class=lnt id=hl-65-5><a class=lnlinks href=#hl-65-5>5</a>
</span><span class=lnt id=hl-65-6><a class=lnlinks href=#hl-65-6>6</a>
</span><span class=lnt id=hl-65-7><a class=lnlinks href=#hl-65-7>7</a>
</span><span class=lnt id=hl-65-8><a class=lnlinks href=#hl-65-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// Java 블로킹 HTTP 요청 - RestTemplate</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>RestTemplate</span><span class=w> </span><span class=n>restTemplate</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>RestTemplate</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>String</span><span class=w> </span><span class=n>url</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;https://jsonplaceholder.typicode.com/posts/1&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>String</span><span class=w> </span><span class=n>response</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>restTemplate</span><span class=p>.</span><span class=na>getForObject</span><span class=p>(</span><span class=n>url</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=p>.</span><span class=na>class</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 요청이 완료될 때까지 현재 스레드는 대기합니다.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;Response: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>response</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 응답을 받은 후에야 다음 코드로 진행합니다.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;Request completed!&#34;</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-66-1><a class=lnlinks href=#hl-66-1>1</a>
</span><span class=lnt id=hl-66-2><a class=lnlinks href=#hl-66-2>2</a>
</span><span class=lnt id=hl-66-3><a class=lnlinks href=#hl-66-3>3</a>
</span><span class=lnt id=hl-66-4><a class=lnlinks href=#hl-66-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Python 블로킹 파일 읽기</span>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;sample.txt&#39;</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>data</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>  <span class=c1># 파일 데이터 읽을 때까지 작업 블로킹</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;파일 읽기 완료:&#34;</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><hr><h5 id=2-논블로킹-iojava-javascript-python>2. 논블로킹 IO(Java, JavaScript, Python)<a hidden class=anchor aria-hidden=true href=#2-논블로킹-iojava-javascript-python>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-67-1><a class=lnlinks href=#hl-67-1> 1</a>
</span><span class=lnt id=hl-67-2><a class=lnlinks href=#hl-67-2> 2</a>
</span><span class=lnt id=hl-67-3><a class=lnlinks href=#hl-67-3> 3</a>
</span><span class=lnt id=hl-67-4><a class=lnlinks href=#hl-67-4> 4</a>
</span><span class=lnt id=hl-67-5><a class=lnlinks href=#hl-67-5> 5</a>
</span><span class=lnt id=hl-67-6><a class=lnlinks href=#hl-67-6> 6</a>
</span><span class=lnt id=hl-67-7><a class=lnlinks href=#hl-67-7> 7</a>
</span><span class=lnt id=hl-67-8><a class=lnlinks href=#hl-67-8> 8</a>
</span><span class=lnt id=hl-67-9><a class=lnlinks href=#hl-67-9> 9</a>
</span><span class=lnt id=hl-67-10><a class=lnlinks href=#hl-67-10>10</a>
</span><span class=lnt id=hl-67-11><a class=lnlinks href=#hl-67-11>11</a>
</span><span class=lnt id=hl-67-12><a class=lnlinks href=#hl-67-12>12</a>
</span><span class=lnt id=hl-67-13><a class=lnlinks href=#hl-67-13>13</a>
</span><span class=lnt id=hl-67-14><a class=lnlinks href=#hl-67-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// Java 논블로킹 HTTP 요청 - WebClient</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>WebClient</span><span class=w> </span><span class=n>webClient</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>WebClient</span><span class=p>.</span><span class=na>create</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>String</span><span class=w> </span><span class=n>url</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;https://jsonplaceholder.typicode.com/posts/1&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Mono</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>responseMono</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>webClient</span><span class=p>.</span><span class=na>get</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>.</span><span class=na>uri</span><span class=p>(</span><span class=n>url</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>.</span><span class=na>retrieve</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>.</span><span class=na>bodyToMono</span><span class=p>(</span><span class=n>String</span><span class=p>.</span><span class=na>class</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 즉시 반환, 다른 작업 가능</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;Request sent! Doing other tasks...&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 응답은 비동기적으로 처리됨</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>responseMono</span><span class=p>.</span><span class=na>subscribe</span><span class=p>(</span><span class=n>response</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;Response: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>response</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Thread</span><span class=p>.</span><span class=na>sleep</span><span class=p>(</span><span class=n>2000</span><span class=p>);</span><span class=w> </span><span class=c1>// 메인 스레드 대기(실무에서는 적절한 종료전략 필요)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-68-1><a class=lnlinks href=#hl-68-1> 1</a>
</span><span class=lnt id=hl-68-2><a class=lnlinks href=#hl-68-2> 2</a>
</span><span class=lnt id=hl-68-3><a class=lnlinks href=#hl-68-3> 3</a>
</span><span class=lnt id=hl-68-4><a class=lnlinks href=#hl-68-4> 4</a>
</span><span class=lnt id=hl-68-5><a class=lnlinks href=#hl-68-5> 5</a>
</span><span class=lnt id=hl-68-6><a class=lnlinks href=#hl-68-6> 6</a>
</span><span class=lnt id=hl-68-7><a class=lnlinks href=#hl-68-7> 7</a>
</span><span class=lnt id=hl-68-8><a class=lnlinks href=#hl-68-8> 8</a>
</span><span class=lnt id=hl-68-9><a class=lnlinks href=#hl-68-9> 9</a>
</span><span class=lnt id=hl-68-10><a class=lnlinks href=#hl-68-10>10</a>
</span><span class=lnt id=hl-68-11><a class=lnlinks href=#hl-68-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// JavaScript 논블로킹(비동기) 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>nonBlockingTask</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Non-blocking task finished&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=mi>3000</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Start&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>nonBlockingTask</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;End&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// Start와 End가 즉시 출력, 3초 후 콜백으로 결과 출력
</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-69-1><a class=lnlinks href=#hl-69-1> 1</a>
</span><span class=lnt id=hl-69-2><a class=lnlinks href=#hl-69-2> 2</a>
</span><span class=lnt id=hl-69-3><a class=lnlinks href=#hl-69-3> 3</a>
</span><span class=lnt id=hl-69-4><a class=lnlinks href=#hl-69-4> 4</a>
</span><span class=lnt id=hl-69-5><a class=lnlinks href=#hl-69-5> 5</a>
</span><span class=lnt id=hl-69-6><a class=lnlinks href=#hl-69-6> 6</a>
</span><span class=lnt id=hl-69-7><a class=lnlinks href=#hl-69-7> 7</a>
</span><span class=lnt id=hl-69-8><a class=lnlinks href=#hl-69-8> 8</a>
</span><span class=lnt id=hl-69-9><a class=lnlinks href=#hl-69-9> 9</a>
</span><span class=lnt id=hl-69-10><a class=lnlinks href=#hl-69-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Python 논블로킹 소켓 데이터 수신</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>socket</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>sock</span> <span class=o>=</span> <span class=n>socket</span><span class=o>.</span><span class=n>socket</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>sock</span><span class=o>.</span><span class=n>setblocking</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>  <span class=c1># 논블로킹 모드</span>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>data</span> <span class=o>=</span> <span class=n>sock</span><span class=o>.</span><span class=n>recv</span><span class=p>(</span><span class=mi>1024</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;수신 데이터:&#34;</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=ne>BlockingIOError</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;아직 데이터 없음, 다른 작업 수행&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><hr><h4 id=설정-예시-및-도구-정책>설정 예시 및 도구 정책<a hidden class=anchor aria-hidden=true href=#설정-예시-및-도구-정책>#</a></h4><ul><li><strong>블로킹 IO:</strong> 별도 옵션 없이 기본 IO 함수 사용. 대부분 OS 및 언어 기본설정으로 적용.</li><li><strong>논블로킹 IO:</strong> 소켓 옵션 (NONBLOCK), 프레임워크 (WebClient, epoll/kqueue/IOCP 등) 설정 필요. 이벤트 기반/비동기 콜백/폴링 구조 채택이 핵심.[1][2]</li></ul><hr><h4 id=모니터링트러블슈팅-주요-항목>모니터링·트러블슈팅 주요 항목<a hidden class=anchor aria-hidden=true href=#모니터링트러블슈팅-주요-항목>#</a></h4><table><thead><tr><th>카테고리</th><th>메트릭</th><th>블로킹 IO</th><th>논블로킹 IO</th><th>정상/경고/위험 기준</th><th>관측 도구</th></tr></thead><tbody><tr><td>처리량</td><td>초당 처리 요청 건수</td><td>낮음/중간</td><td>높음 (수천~만 동접)</td><td>임계값 설정</td><td>APM, 로그</td></tr><tr><td>CPU 사용률</td><td>%</td><td>대기 시 낮음~중간</td><td>이벤트 잘못 설계시↑, Polling↑</td><td>polling/스레드 오버헤드 감지</td><td>top, grafana</td></tr><tr><td>메모리 사용률</td><td>MB</td><td>스레드 병목시 ↑</td><td>상태관리/콜백 오브젝트↑</td><td>busy-wait/메모리 누수 감지</td><td>profiler</td></tr><tr><td>예외/실패률</td><td>%</td><td>오류 시 전체결함↑</td><td>이벤트 누락, 에러콜백 실패</td><td>누적 횟수/비율</td><td>로그, 알람</td></tr></tbody></table><hr><p>Phase 6 에서는 실무 적용 시나리오, 운영·통합 가이드, 대표 체크리스트 (선택·최적·주의 시나리오) 와 실무 환경 Best Practice 를 이어서 구조화해 제시한다.</p><h3 id=phase-5-구현도구-13452>Phase 5: 구현/도구 [1][3][4][5][2]<a hidden class=anchor aria-hidden=true href=#phase-5-구현도구-13452>#</a></h3><hr><h4 id=코드-구현-예시>코드 구현 예시<a hidden class=anchor aria-hidden=true href=#코드-구현-예시>#</a></h4><ul><li><p><strong>블로킹 IO(Python, Java)</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-70-1><a class=lnlinks href=#hl-70-1>1</a>
</span><span class=lnt id=hl-70-2><a class=lnlinks href=#hl-70-2>2</a>
</span><span class=lnt id=hl-70-3><a class=lnlinks href=#hl-70-3>3</a>
</span><span class=lnt id=hl-70-4><a class=lnlinks href=#hl-70-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Python 파일 블로킹 읽기</span>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;sample.txt&#39;</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>data</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;읽기 완료:&#34;</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-71-1><a class=lnlinks href=#hl-71-1>1</a>
</span><span class=lnt id=hl-71-2><a class=lnlinks href=#hl-71-2>2</a>
</span><span class=lnt id=hl-71-3><a class=lnlinks href=#hl-71-3>3</a>
</span><span class=lnt id=hl-71-4><a class=lnlinks href=#hl-71-4>4</a>
</span><span class=lnt id=hl-71-5><a class=lnlinks href=#hl-71-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// Java 블로킹 네트워크 요청</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>RestTemplate</span><span class=w> </span><span class=n>restTemplate</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>RestTemplate</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>String</span><span class=w> </span><span class=n>response</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>restTemplate</span><span class=p>.</span><span class=na>getForObject</span><span class=p>(</span><span class=s>&#34;http://url&#34;</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=p>.</span><span class=na>class</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>response</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 호출 라인에서 응답을 받을 때까지 블로킹됨</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li><p><strong>논블로킹 IO(Java, JavaScript, Python)</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-72-1><a class=lnlinks href=#hl-72-1> 1</a>
</span><span class=lnt id=hl-72-2><a class=lnlinks href=#hl-72-2> 2</a>
</span><span class=lnt id=hl-72-3><a class=lnlinks href=#hl-72-3> 3</a>
</span><span class=lnt id=hl-72-4><a class=lnlinks href=#hl-72-4> 4</a>
</span><span class=lnt id=hl-72-5><a class=lnlinks href=#hl-72-5> 5</a>
</span><span class=lnt id=hl-72-6><a class=lnlinks href=#hl-72-6> 6</a>
</span><span class=lnt id=hl-72-7><a class=lnlinks href=#hl-72-7> 7</a>
</span><span class=lnt id=hl-72-8><a class=lnlinks href=#hl-72-8> 8</a>
</span><span class=lnt id=hl-72-9><a class=lnlinks href=#hl-72-9> 9</a>
</span><span class=lnt id=hl-72-10><a class=lnlinks href=#hl-72-10>10</a>
</span><span class=lnt id=hl-72-11><a class=lnlinks href=#hl-72-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// Java 논블로킹 HTTP 요청 – WebClient</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>WebClient</span><span class=w> </span><span class=n>webClient</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>WebClient</span><span class=p>.</span><span class=na>create</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Mono</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>responseMono</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>webClient</span><span class=p>.</span><span class=na>get</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>.</span><span class=na>uri</span><span class=p>(</span><span class=s>&#34;http://url&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>.</span><span class=na>retrieve</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>.</span><span class=na>bodyToMono</span><span class=p>(</span><span class=n>String</span><span class=p>.</span><span class=na>class</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 즉시 반환, 비동기로 응답</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>responseMono</span><span class=p>.</span><span class=na>subscribe</span><span class=p>(</span><span class=n>response</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>response</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 메인 스레드는 다른 작업 수행 가능</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-73-1><a class=lnlinks href=#hl-73-1>1</a>
</span><span class=lnt id=hl-73-2><a class=lnlinks href=#hl-73-2>2</a>
</span><span class=lnt id=hl-73-3><a class=lnlinks href=#hl-73-3>3</a>
</span><span class=lnt id=hl-73-4><a class=lnlinks href=#hl-73-4>4</a>
</span><span class=lnt id=hl-73-5><a class=lnlinks href=#hl-73-5>5</a>
</span><span class=lnt id=hl-73-6><a class=lnlinks href=#hl-73-6>6</a>
</span><span class=lnt id=hl-73-7><a class=lnlinks href=#hl-73-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// JavaScript 논블로킹 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Start&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Non-blocking task finished&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=mi>3000</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;End&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// Start와 End 즉시 출력, 3초 후 콜백 결과
</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-74-1><a class=lnlinks href=#hl-74-1>1</a>
</span><span class=lnt id=hl-74-2><a class=lnlinks href=#hl-74-2>2</a>
</span><span class=lnt id=hl-74-3><a class=lnlinks href=#hl-74-3>3</a>
</span><span class=lnt id=hl-74-4><a class=lnlinks href=#hl-74-4>4</a>
</span><span class=lnt id=hl-74-5><a class=lnlinks href=#hl-74-5>5</a>
</span><span class=lnt id=hl-74-6><a class=lnlinks href=#hl-74-6>6</a>
</span><span class=lnt id=hl-74-7><a class=lnlinks href=#hl-74-7>7</a>
</span><span class=lnt id=hl-74-8><a class=lnlinks href=#hl-74-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Python 논블로킹 소켓 예시</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>socket</span>
</span></span><span class=line><span class=cl><span class=n>sock</span> <span class=o>=</span> <span class=n>socket</span><span class=o>.</span><span class=n>socket</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>sock</span><span class=o>.</span><span class=n>setblocking</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>data</span> <span class=o>=</span> <span class=n>sock</span><span class=o>.</span><span class=n>recv</span><span class=p>(</span><span class=mi>1024</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=ne>BlockingIOError</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;데이터 대기 없이 바로 반환, 다른 작업 지속&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><hr><h4 id=도구-및-설정-예시>도구 및 설정 예시<a hidden class=anchor aria-hidden=true href=#도구-및-설정-예시>#</a></h4><ul><li><strong>블로킹 IO</strong><ul><li>직접 설정 불필요, 기본 API 와 단순 호출</li></ul></li><li><strong>논블로킹 IO</strong><ul><li>소켓/프레임워크에서 <code>non-blocking</code> 옵션</li><li>이벤트루프/콜백, epoll/kqueue 등 OS 객체 활용 [1][5][2]</li></ul></li></ul><hr><h4 id=운영-모니터링-포인트>운영 모니터링 포인트<a hidden class=anchor aria-hidden=true href=#운영-모니터링-포인트>#</a></h4><table><thead><tr><th>카테고리</th><th>메트릭</th><th>블로킹 IO</th><th>논블로킹 IO</th><th>기준</th><th>도구</th></tr></thead><tbody><tr><td>처리량</td><td>초당 사용량</td><td>낮음~중간, 대기시간 영향 큼</td><td>높음, 수천~만 동접 지원</td><td>임계 퍼센트 설정</td><td>서버로그, APM</td></tr><tr><td>리소스 사용</td><td>CPU/메모리 사용</td><td>스레드 및 컨텍스트 스위칭↑</td><td>Event Overhead, busy-wait 관리</td><td>busy-wait, leak 체크</td><td>profiler</td></tr><tr><td>실패/지연률</td><td>오류·시간 지연</td><td>한 작업이 전체 체인 지연 가능</td><td>이벤트/콜백 누락, 에러처리 필수</td><td>누적/즉시 알람</td><td>로그분석, 알람</td></tr><tr><td>예외처리</td><td>정상/에러 횟수</td><td>예측·디버깅 쉬움</td><td>상태관리와 예외·에러콜백 중요</td><td>누락·경쟁상태 체크</td><td>에러로그</td></tr></tbody></table><hr><p>실무 적용·운영에서는 poll/epoll 등 각 OS 비동기 인터페이스 사용, 상태관리와 예외처리 (에러콜백·경쟁상태 등) 구조를 강화하는 것이 핵심이다. Phase 6 에서 실제 적용 체크리스트, 시나리오 구체화, 환경별 Best Practice 로 이어진다.</p><h3 id=phase-5-구현도구-34512>Phase 5: 구현/도구 [3][4][5][1][2]<a hidden class=anchor aria-hidden=true href=#phase-5-구현도구-34512>#</a></h3><hr><h4 id=코드-구현-예시-1>코드 구현 예시<a hidden class=anchor aria-hidden=true href=#코드-구현-예시-1>#</a></h4><ul><li><p><strong>블로킹 IO 예시 (Python/Java)</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-75-1><a class=lnlinks href=#hl-75-1>1</a>
</span><span class=lnt id=hl-75-2><a class=lnlinks href=#hl-75-2>2</a>
</span><span class=lnt id=hl-75-3><a class=lnlinks href=#hl-75-3>3</a>
</span><span class=lnt id=hl-75-4><a class=lnlinks href=#hl-75-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Python 블로킹 파일 읽기</span>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;data.txt&#39;</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>result</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>  <span class=c1># 읽기 완료될 때까지 대기</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;결과:&#34;</span><span class=p>,</span> <span class=n>result</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-76-1><a class=lnlinks href=#hl-76-1>1</a>
</span><span class=lnt id=hl-76-2><a class=lnlinks href=#hl-76-2>2</a>
</span><span class=lnt id=hl-76-3><a class=lnlinks href=#hl-76-3>3</a>
</span><span class=lnt id=hl-76-4><a class=lnlinks href=#hl-76-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// Java 블로킹 HTTP 요청</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>RestTemplate</span><span class=w> </span><span class=n>restTemplate</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>RestTemplate</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>String</span><span class=w> </span><span class=n>response</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>restTemplate</span><span class=p>.</span><span class=na>getForObject</span><span class=p>(</span><span class=s>&#34;https://jsonplaceholder.typicode.com/posts/1&#34;</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=p>.</span><span class=na>class</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;응답 완료 후 진행: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>response</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li><p><strong>논블로킹 IO 예시 (JavaScript/Python/Java)</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-77-1><a class=lnlinks href=#hl-77-1>1</a>
</span><span class=lnt id=hl-77-2><a class=lnlinks href=#hl-77-2>2</a>
</span><span class=lnt id=hl-77-3><a class=lnlinks href=#hl-77-3>3</a>
</span><span class=lnt id=hl-77-4><a class=lnlinks href=#hl-77-4>4</a>
</span><span class=lnt id=hl-77-5><a class=lnlinks href=#hl-77-5>5</a>
</span><span class=lnt id=hl-77-6><a class=lnlinks href=#hl-77-6>6</a>
</span><span class=lnt id=hl-77-7><a class=lnlinks href=#hl-77-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// JavaScript 논블로킹 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Start&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Non-blocking Finished&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=mi>2000</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;End&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// 즉시 Start-End 출력, 2초 후 콜백 출력
</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-78-1><a class=lnlinks href=#hl-78-1>1</a>
</span><span class=lnt id=hl-78-2><a class=lnlinks href=#hl-78-2>2</a>
</span><span class=lnt id=hl-78-3><a class=lnlinks href=#hl-78-3>3</a>
</span><span class=lnt id=hl-78-4><a class=lnlinks href=#hl-78-4>4</a>
</span><span class=lnt id=hl-78-5><a class=lnlinks href=#hl-78-5>5</a>
</span><span class=lnt id=hl-78-6><a class=lnlinks href=#hl-78-6>6</a>
</span><span class=lnt id=hl-78-7><a class=lnlinks href=#hl-78-7>7</a>
</span><span class=lnt id=hl-78-8><a class=lnlinks href=#hl-78-8>8</a>
</span><span class=lnt id=hl-78-9><a class=lnlinks href=#hl-78-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Python 논블로킹 소켓 예시</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>socket</span>
</span></span><span class=line><span class=cl><span class=n>sock</span> <span class=o>=</span> <span class=n>socket</span><span class=o>.</span><span class=n>socket</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>sock</span><span class=o>.</span><span class=n>setblocking</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>data</span> <span class=o>=</span> <span class=n>sock</span><span class=o>.</span><span class=n>recv</span><span class=p>(</span><span class=mi>1024</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;수신 결과:&#34;</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=ne>BlockingIOError</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;즉시 반환, 데이터 없음은 에러로 처리&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-79-1><a class=lnlinks href=#hl-79-1>1</a>
</span><span class=lnt id=hl-79-2><a class=lnlinks href=#hl-79-2>2</a>
</span><span class=lnt id=hl-79-3><a class=lnlinks href=#hl-79-3>3</a>
</span><span class=lnt id=hl-79-4><a class=lnlinks href=#hl-79-4>4</a>
</span><span class=lnt id=hl-79-5><a class=lnlinks href=#hl-79-5>5</a>
</span><span class=lnt id=hl-79-6><a class=lnlinks href=#hl-79-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// Java WebClient 논블로킹 예시</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>WebClient</span><span class=w> </span><span class=n>client</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>WebClient</span><span class=p>.</span><span class=na>create</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Mono</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>mono</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>client</span><span class=p>.</span><span class=na>get</span><span class=p>().</span><span class=na>uri</span><span class=p>(</span><span class=s>&#34;https://jsonplaceholder.typicode.com/posts/1&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>.</span><span class=na>retrieve</span><span class=p>().</span><span class=na>bodyToMono</span><span class=p>(</span><span class=n>String</span><span class=p>.</span><span class=na>class</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>mono</span><span class=p>.</span><span class=na>subscribe</span><span class=p>(</span><span class=n>resp</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;비동기 결과 응답: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>resp</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;바로 반환, 다른 작업 수행&#34;</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li></ul><hr><h4 id=도구-설정-및-운영-가이드>도구 설정 및 운영 가이드<a hidden class=anchor aria-hidden=true href=#도구-설정-및-운영-가이드>#</a></h4><ul><li><strong>블로킹 IO:</strong> 특별한 옵션 없이 기본 API 활용 (파일·소켓 등).</li><li><strong>논블로킹 IO:</strong> NONBLOCK 옵션 설정, 이벤트 기반 프레임워크 (WebClient, epoll, kqueue 등) 적용. 비동기/콜백, 상태경합 및 예외관리 강화·테스트 필수.[1][5][2]</li></ul><hr><h4 id=운영-모니터링-표>운영 모니터링 표<a hidden class=anchor aria-hidden=true href=#운영-모니터링-표>#</a></h4><table><thead><tr><th>카테고리</th><th>메트릭</th><th>블로킹 IO</th><th>논블로킹 IO</th><th>기준/임계</th><th>도구</th></tr></thead><tbody><tr><td>처리량</td><td>TPS/초</td><td>대기 시간 영향, 동시성↓</td><td>수천~수만 동시 연결</td><td>네트워크·동접 기준</td><td>로그, 모니터</td></tr><tr><td>CPU 사용률</td><td>%</td><td>대기 스레드↑, 컨텍스트 전환↑</td><td>이벤트·Polling 정확성 중요</td><td>busy-wait/오버헤드</td><td>profiler</td></tr><tr><td>메모리/스레드</td><td>사용량</td><td>스레드 풀/자원 낭비↑</td><td>오브젝트/콜백 상태관리</td><td>누수/heap 증가</td><td>APM, 리소스</td></tr><tr><td>예외 처리</td><td>에러율</td><td>전체 작업 중단 위험</td><td>콜백 누락, 경합/상태 오류</td><td>누적 횟수/비율</td><td>로그/알람</td></tr></tbody></table><h3 id=phase-6-실무-적용>Phase 6: 실무 적용<a hidden class=anchor aria-hidden=true href=#phase-6-실무-적용>#</a></h3><hr><h4 id=실무-운영-및-통합-체크리스트>실무 운영 및 통합 체크리스트<a hidden class=anchor aria-hidden=true href=#실무-운영-및-통합-체크리스트>#</a></h4><ul><li><strong>적합 시나리오 (최적)</strong><ul><li>논블로킹 IO 는 대량 동시 연결 (수천~만), 고성능 실시간 서버, 채팅/게임/메시징 등 이벤트 사용자 환경에 최적.</li><li>블로킹 IO 는 단일 요청, 순차 처리 API, CLI 툴, 직관적 예측성과 단순성이 중요한 배치 처리.</li></ul></li><li><strong>준수 및 베스트 프랙티스</strong><ul><li>논블로킹 변환 시 코어 Polling/이벤트루프 구조, OS 별 (epoll, kqueue, IOCP) 최적화 적용.[1]</li><li>busy-wait, Polling 루프는 과도하게 두지 않고, 이벤트 구동 방식으로 최대한 효율화.</li><li>동기/비동기/블로킹/논블로킹 구분을 명확히 하여 설계문서·코드상에서 의도·상태 처리를 일관성 있게 관리.[2][3]</li></ul></li><li><strong>운영 주의·통합 적용</strong><ul><li>논블로킹 전환 시 상태관리/에러콜백/경쟁상태 (race condition) 체크, 단일 포인트 장애 지양.</li><li>멀티스레딩 환경 병행 시 스레드풀, 이벤트루프, 콜백의 자원 분리 전략 수립 필수.</li><li>업무 부하, 동접 분기별로 Polling 주기, 버퍼 크기, 타임아웃 등 세부 튜닝.[2]</li><li>장애 상황 (응답지연, busy-wait, 이벤트 누락 등) 트러블슈팅 체크리스트 (Polling 빈도, 이벤트큐, 에러로그 주기적 점검) 로 지속 관제.</li></ul></li></ul><hr><h4 id=시나리오운영-분석-정리-top-3>시나리오·운영 분석 정리 (Top 3)<a hidden class=anchor aria-hidden=true href=#시나리오운영-분석-정리-top-3>#</a></h4><table><thead><tr><th>우선순위</th><th>시나리오</th><th>빈도</th><th>적용 가이드</th></tr></thead><tbody><tr><td>1</td><td>대량 동접 채팅/메시지 서버</td><td>매우 높음</td><td>논블로킹 + 이벤트루프, epoll/kqueue 활용</td></tr><tr><td>2</td><td>대용량 데이터 동기화/배치 처리</td><td>높음</td><td>블로킹 + 스레드풀, 단순 흐름</td></tr><tr><td>3</td><td>중간 규모 API 서버/비즈니스 로직</td><td>보통</td><td>혼합모델 (일부 동기/비동기, 성능·코드 복잡도 감안)</td></tr></tbody></table><hr><h4 id=실무-best-practice>실무 Best Practice<a hidden class=anchor aria-hidden=true href=#실무-best-practice>#</a></h4><ul><li>논블로킹 IO:<ul><li>이벤트 드리븐 (event-driven)/콜백 또는 퓨처 (Future)·프라미스 (Promise) 패턴 적극 활용.</li><li>OS 기본 제공 비동기 IO API(epoll, kqueue 등) 및 네트워크 프레임워크 (Netty, Node.js 등) 도입.[1]</li><li>상태 변경 (준비/실패/부분완료) 3 패턴 처리 구조 명확화, 상태경합 방지.</li></ul></li><li>블로킹 IO:<ul><li>예측 가능한 순차 처리, 디버깅 및 오버헤드 최소화에 집중.</li><li>멀티스레드 방식시 스레드풀 크기·큐 관리, 오류/예외상황 fail-fast 설계.</li></ul></li></ul><hr><h4 id=통합-시-주요-체크포인트>통합 시 주요 체크포인트<a hidden class=anchor aria-hidden=true href=#통합-시-주요-체크포인트>#</a></h4><ul><li>IO 모델 결정은 시스템 구조·성능 목표·운영 효율에 따라 다르게 설계.</li><li>설계·개발·운영 전주기에 걸쳐 IO 방식 선택 사유 기록·문서화.</li><li>테스트 케이스 (성공/실패/부분완료/에러), 장애 복구 시나리오 수립 필수.</li><li>시스템 리소스 감시 (스레드 수, polling 빈도, 큐 길이), CI/CD 에 자동화 모니터링·알람 연동.[4][3][2][1]</li></ul><hr><p>Phase 7 에서는 블로킹·논블로킹 IO 전체 비교 종합 요약 및 환경별, 상황별 추천 사례와 최종 통합 델타 표를 이어서 제공한다.</p><h3 id=phase-6-실무-적용-1>Phase 6: 실무 적용<a hidden class=anchor aria-hidden=true href=#phase-6-실무-적용-1>#</a></h3><hr><h4 id=실무-적용-시나리오-top-3>실무 적용 시나리오 Top 3<a hidden class=anchor aria-hidden=true href=#실무-적용-시나리오-top-3>#</a></h4><table><thead><tr><th>우선순위</th><th>시나리오</th><th>빈도</th><th>체크포인트</th></tr></thead><tbody><tr><td>1</td><td>대량 동접 채팅/알림 서버</td><td>매우 높음</td><td>이벤트루프 구조, epoll/kqueue 적용, 동시성 관리</td></tr><tr><td>2</td><td>대량 파일 배치 처리</td><td>높음</td><td>블로킹 IO, 멀티스레드·풀, 순차처리, 직관적 오류 로깅</td></tr><tr><td>3</td><td>중소규모 REST API 서버</td><td>보통</td><td>혼합 설계 (일부 동기/비동기), 성능·관리성 균형</td></tr></tbody></table><hr><h4 id=실무-적용-통합-체크리스트-및-주의사항>실무 적용 통합 체크리스트 및 주의사항<a hidden class=anchor aria-hidden=true href=#실무-적용-통합-체크리스트-및-주의사항>#</a></h4><ul><li><strong>논블로킹 IO 적용 체크리스트</strong><ul><li>이벤트루프, callback, polling 빈도 최소화, OS 별 (epoll, IOCP 등) API 사용 [1]</li><li>busy-wait·race condition 관리 (상태 플래그·락 등 설계 보강)</li><li>예외 처리: partial-success, 실패 패턴 모두 명확 처리</li><li>장애 (지연/이벤트누락) 에 대비해 예외/경고 발생 로직·모니터링 연동</li></ul></li><li><strong>블로킹 IO 적용 체크리스트</strong><ul><li>멀티스레드/풀 크기 적정 설정, 자원 배분 분산</li><li>일괄 작업 순차 처리, 단일 흐름 오류 발생시 즉시 fail-fast</li><li>전체 자원 사용률, 대기 시간·스레드 체인/컨텍스트 전환 모니터링 [3][2]</li></ul></li></ul><hr><h4 id=전환운영-best-practice>전환·운영 Best Practice<a hidden class=anchor aria-hidden=true href=#전환운영-best-practice>#</a></h4><ul><li>논블로킹 IO 로 전환 시, 설계 (이벤트 처리/상태변화/콜백) 와 운영 (버퍼/타임아웃/에러처리) 정책을 미리 수립.</li><li>혼합형 아키텍처나 MSA(마이크로서비스 아키텍처) 에서는 서비스별 IO 정책을 문서화·공유, 예외 컬러링 (application layer final error handling) 체계화.</li><li>실운영 환경에서 Polling/이벤트 디멀티플렉싱 계층 (metrics/alarm 연동), 코드 상태관리 테스트 (예기치 못한 동기/에러 경합), 장애 복구 시나리오를 사전 리허설.[4][3][2][1]</li></ul><hr><h4 id=환경별-운영-포인트>환경별 운영 포인트<a hidden class=anchor aria-hidden=true href=#환경별-운영-포인트>#</a></h4><ul><li><strong>대량 동접 네트워크 서버:</strong> 논블로킹 + 이벤트루프 (필수), epoll/kqueue 운영 튜닝</li><li><strong>배치/처리 로직 중심 시스템:</strong> 블로킹 기반, 풀 스로틀, 티어별 큐/분산 (낭비 최소화)</li><li><strong>운영/통합:</strong> 설계/테스트 코드 내 IO 모델 명확화, 코드 리뷰 + 운영 가이드 병행</li><li><strong>모니터링:</strong> 주요 리소스 (TPS, CPU/메모리, 큐 상태, 예외율) 자동화 관제 [3][2][4][1]</li></ul><hr><p>다음 단계 (Phase 7) 에서는 비교 통합 분석과 추천시나리오, 최종 델타 표, 실무 Best Practice 의 의사결정 가이드로 이어진다.</p><h3 id=phase-6-실무-적용-2>Phase 6: 실무 적용<a hidden class=anchor aria-hidden=true href=#phase-6-실무-적용-2>#</a></h3><hr><h4 id=실무-적용-시나리오-top-3-및-체크리스트>실무 적용 시나리오 Top 3 및 체크리스트<a hidden class=anchor aria-hidden=true href=#실무-적용-시나리오-top-3-및-체크리스트>#</a></h4><table><thead><tr><th>우선순위</th><th>시나리오</th><th>빈도</th><th>핵심 체크포인트</th></tr></thead><tbody><tr><td>1</td><td>대량 동시 접속 웹/채팅 서버</td><td>매우 높음</td><td>논블로킹 + 이벤트루프, epoll/IOCP, 상태·에러 핸들링, Polling 최소화</td></tr><tr><td>2</td><td>대용량 파일/데이터 일괄 처리</td><td>높음</td><td>블로킹 IO, 스레드풀, 순차처리, 직관적 흐름, 자원 모니터링</td></tr><tr><td>3</td><td>REST API/업무 로직 서버</td><td>보통</td><td>혼합모델 (동기 + 비동기), 서비스 유형별 IO 일치성, 예외패턴 및 문서화</td></tr></tbody></table><hr><h4 id=운영전환-best-practice-및-유의-사항>운영·전환 Best Practice 및 유의 사항<a hidden class=anchor aria-hidden=true href=#운영전환-best-practice-및-유의-사항>#</a></h4><ul><li>논블로킹 IO 전환 시 설계 단계에서 이벤트루프 설계, OS 이벤트 인터페이스 (epoll, IOCP 등) 체계 적용을 우선. busy-wait/polling 빈도 항상 모니터·최적화</li><li>상태/콜백 경합 (race condition), partial-success, 실패 처리를 명확히 하며, 예외 실패 패턴·장애시 대비 로직 (경고/알람) 연계 [2][4][1]</li><li>멀티스레딩/이벤트혼합 환경은 책임 분리, 자원 모니터링 (스레드, 큐, 타임아웃 등) 정책 수립</li><li>IO 모델별 (블로킹/논블로킹/혼합) 설계 근거·특성을 코드와 문서로 명확히 구분 관리</li></ul><hr><h4 id=실무-적용-best-practice>실무 적용 Best Practice<a hidden class=anchor aria-hidden=true href=#실무-적용-best-practice>#</a></h4><ul><li>논블로킹 기반 환경은 가능한 한 이벤트 기반/콜백, 상태 전이 (triggered event, failed state 등) 구조를 명확화하고, 공통 에러/장애 체크리스트를 운영에 반영</li><li>블로킹 기반 환경은 순차성/예측이 중요할 때 직관·단순성에 집중, 자원 활용도 (스레드/컨텍스트전환) 지속 모니터</li><li>혼합형 서비스는 IO 정책 문서화, 현장 이슈 기준으로 Polling/이벤트 비율, 예외 처리방식을 지속 개선</li></ul><hr><h4 id=통합운영-포인트>통합·운영 포인트<a hidden class=anchor aria-hidden=true href=#통합운영-포인트>#</a></h4><ul><li>IO 경로·처리 정책은 시스템 구조, 성능 목표, 운영 실무 효율성을 기준으로 최적화</li><li>운영 자동화 (CI/CD), 리소스 감시 (스레드, 큐 길이, 이벤트 빈도), 알람/테스트 자동화 적극 연계</li><li>실제 서비스 부하/시나리오별 장애 (응답지연, 과다 자원소모) 대응 시나리오 사전 점검 [4][3][2][1]</li></ul><hr><p>Phase 7 에서는 전체 통합 비교·추천, 비교 델타 표 및 상황별 Best Practice 을 제공한다.</p><h3 id=phase-6-실무-적용-3>Phase 6: 실무 적용<a hidden class=anchor aria-hidden=true href=#phase-6-실무-적용-3>#</a></h3><hr><h4 id=실무-적용-체크리스트-및-best-practice>실무 적용 체크리스트 및 Best Practice<a hidden class=anchor aria-hidden=true href=#실무-적용-체크리스트-및-best-practice>#</a></h4><ul><li><strong>논블로킹 IO:</strong><ul><li>대량 동접 서버는 반드시 이벤트루프/epoll, IOCP 등 OS 최적화 API 활용</li><li>busy-wait·state race/busy loop/buffer overflow 를 상세 모니터링</li><li>실패, partial-success 등 예외 분기 처리 및 장애 복구 시나리오 명확화 [2][4][1]</li><li>설계/운영시 IO 모델·콜백·큐 동작 플로우를 코드, 문서에 명시 (모듈간 책임 분리, 지속 테스팅)</li></ul></li><li><strong>블로킹 IO:</strong><ul><li>단순/순차성 중요한 배치, API, CLI 등에서 스레드풀, fail fast, 작업 모니터링 중심</li><li>다중 스레드 환경시 병목/동시성 모니터링 강화, 큐 길이·대기시간 자동화 체크</li><li>장애/대기 발생시 즉시 알람, 처리 완료 기준 명확 설정</li></ul></li></ul><hr><h4 id=운영통합-실무-시나리오-top-3>운영·통합 실무 시나리오 (Top 3)<a hidden class=anchor aria-hidden=true href=#운영통합-실무-시나리오-top-3>#</a></h4><table><thead><tr><th>우선</th><th>시나리오</th><th>빈도</th><th>체크포인트</th></tr></thead><tbody><tr><td>1</td><td>실시간 채팅/대용량 이벤트 대기</td><td>매우 높음</td><td>논블로킹 + 이벤트루프, OS 알림, 상태경합/콜백경합 관리</td></tr><tr><td>2</td><td>대용량 파일·데이터 일괄처리</td><td>높음</td><td>블로킹, 멀티스레드/풀, 단순플로우, 대기/실패/완료 모니터</td></tr><tr><td>3</td><td>API Gateway/내부연동서버</td><td>보통</td><td>혼합 방식, 문서화, 예외/경합 분기, 상태 자동화</td></tr></tbody></table><hr><h4 id=환경별-운영설계-포인트>환경별 운영/설계 포인트<a hidden class=anchor aria-hidden=true href=#환경별-운영설계-포인트>#</a></h4><ul><li>논블로킹 적용시 환경별 Polling/이벤트 tuning·큐관리·스레드 경합 등 성능·안정성 proactive 운영</li><li>설계단계에서 IO 모델/예외/상태·실패 패턴 명확히, Test·CI/CD·관제 자동화 연동 [3][4][2]</li><li>모든 핵심 IO 구간은 실 부하/이벤트 trace, 장애/스케일 지표로 현장 검증 필수</li></ul><hr><p>Phase 7 에서는 전체 비교·선택사례·델타 표·최종 통합 Best Practice 를 제공한다.</p><h3 id=phase-6-실무-적용-4>Phase 6: 실무 적용<a hidden class=anchor aria-hidden=true href=#phase-6-실무-적용-4>#</a></h3><hr><h4 id=실무-적용-체크리스트-best-practice>실무 적용 체크리스트 (Best Practice)<a hidden class=anchor aria-hidden=true href=#실무-적용-체크리스트-best-practice>#</a></h4><ul><li><strong>논블로킹 IO 운영:</strong><ul><li>이벤트 기반/epoll, IOCP 등 OS 최적화 API 적극 적용</li><li>busy-wait, polling 빈도 최소화 및 상태/콜백 race condition 철저 관리</li><li>환경별 (부하, 연결수, 큐, 스레드) 세부 모니터링과 예외 처리 (실패, partial-success) 체크 강화 [4][1][2]</li><li>장애 발생시 polling/event 로깅, 이벤트 누수·지연 등 문제 즉시 탐지·라이브 트러블슈팅 실시</li></ul></li><li><strong>블로킹 IO 운영:</strong><ul><li>단일 흐름, 배치, CLI 등에서 블로킹·스레드풀 적용, 작업 큐 관리/분산 설계</li><li>컨텍스트 전환, 대기 스레드/메모리 모니터링 및 fail-fast 오류 처리</li><li>장애/대기 발생시 즉각 알람, 자원사용률·체인 사용량 감시</li></ul></li></ul><hr><h4 id=실무-시나리오-예시-top-3>실무 시나리오 예시 (Top 3)<a hidden class=anchor aria-hidden=true href=#실무-시나리오-예시-top-3>#</a></h4><table><thead><tr><th>우선순위</th><th>시나리오</th><th>빈도</th><th>체크포인트</th></tr></thead><tbody><tr><td>1</td><td>대량 동시접속 채팅/알림 서버</td><td>매우 높음</td><td>논블로킹, 이벤트루프, 상태 관리, 부하 자동 조정</td></tr><tr><td>2</td><td>대용량/일괄 데이터 처리</td><td>높음</td><td>블로킹, 스레드풀, 순차 처리, 작업·자원 모니터링</td></tr><tr><td>3</td><td>API Gateway/마이크로서비스</td><td>보통</td><td>혼합 IO, 서비스별 정책 분리, 테스트·모니터링 연동</td></tr></tbody></table><hr><h4 id=설계운영-결론>설계·운영 결론<a hidden class=anchor aria-hidden=true href=#설계운영-결론>#</a></h4><ul><li>IO 모델별 (블로킹, 논블로킹, 혼합) 설계 근거와 정책을 명확 문서화, 장애·트래픽 특성에 따라 Polling/이벤트 주기 최적화 필수</li><li>운영 자동관제 (스레드/큐/이벤트/에러) 및 CI/CD 연동, 장애 재현 테스트 선행</li><li>시스템 변화/스케일 시 에러·경합 패턴 재점검, Polling·Busy-wait 지양, 테스트/리스크 관리 내재화 [3][1][2][4]</li></ul><hr><h3 id=phase-7-비교통합-분석-및-환경별-best-practice>Phase 7: 비교·통합 분석 및 환경별 Best Practice<a hidden class=anchor aria-hidden=true href=#phase-7-비교통합-분석-및-환경별-best-practice>#</a></h3><hr><h4 id=환경별-io-선정-비교-표>환경별 IO 선정 비교 표<a hidden class=anchor aria-hidden=true href=#환경별-io-선정-비교-표>#</a></h4><table><thead><tr><th>구분</th><th>블로킹 IO (Blocking I/O)</th><th>논블로킹 IO (Non-Blocking I/O)</th></tr></thead><tbody><tr><td>처리 방식</td><td>작업 완료까지 스레드 대기</td><td>즉시 반환, 다른 작업 병행 가능</td></tr><tr><td>구현 난이도</td><td>간단, 직관적</td><td>복잡 (상태·콜백 관리 등 추가구현 필요)</td></tr><tr><td>리소스 효율성</td><td>낮음 (스레드/자원 낭비 가능성)</td><td>높음 (동시 연결·비동기 처리에 적합)</td></tr><tr><td>장애·버그 추적</td><td>디버깅 쉽고 예측가능</td><td>race, 누락, 순서 오류 관리 필요</td></tr><tr><td>운영/모니터링</td><td>단순–순차적/예측 (스레드 감시 권장)</td><td>Polling/이벤트 큐·콜백 상태 이중화 필요</td></tr><tr><td>적용 환경</td><td>소규모 배치, CLI, 간단 API</td><td>대규모 동접, 실시간 채팅/알림, 고부하 서버</td></tr><tr><td>최적화 포인트</td><td>스레드풀/큐 관리, 빠른 실패 (Fail-fast)</td><td>이벤트루프, epoll/kqueue, 이벤트 분산</td></tr><tr><td>실무 권장</td><td>순차성/단순성이 핵심일 때</td><td>효율·확장성이 핵심일 때</td></tr><tr><td>대표 사례</td><td>파일 배치, 단일 API</td><td>대화형 웹, 메시징, 알림/채팅</td></tr></tbody></table><p>[1][2][3][4][5][6]</p><hr><h4 id=상황별-io-모델-선택-가이드>상황별 IO 모델 선택 가이드<a hidden class=anchor aria-hidden=true href=#상황별-io-모델-선택-가이드>#</a></h4><ul><li><strong>대량 동시 접속/실시간성</strong><br>논블로킹 IO + 이벤트루프 (필수) 구조, epoll·kqueue(UNIX), IOCP(Windows) 등 운영체제 이벤트 기반 API 적극 활용</li><li><strong>단순/순차 API, 일괄 작업</strong><br>블로킹 IO 활용, 멀티스레드·풀·작업큐 (Queue) 로 자원관리 최적화</li><li><strong>혼합 환경 (MSA, API Gateway 등)</strong><br>서비스별로 특징 분리, 성능 부하·코드 복잡도 기준으로 상황별 선택: 문서화·야간 점검 필수</li></ul><hr><h4 id=운영-환경-best-practice>운영 환경 Best Practice<a hidden class=anchor aria-hidden=true href=#운영-환경-best-practice>#</a></h4><ul><li>IO 방식은 시스템 목표·서비스 유형에 맞춰 입체적으로 설계</li><li>논블로킹 IO 도입 시 polling/event/큐 상태 감시 및 race condition(상태 경합) 모니터</li><li>장애·트래픽·리소스 변화 발생시 polling 주기·큐 최대치 등 즉각 조정 가능 구조 필수</li><li>스레드/시스템 자원은 자동화 모니터링 + 알람으로 지속 관리</li><li>블로킹 IO 는 예측성과 직관 최우선, 논블로킹 IO 는 확장성과 탄력성 중심.[2][4][5][6][1]</li></ul><hr><h3 id=phase-8-심화확장-및-실전-가이드>Phase 8: 심화/확장 및 실전 가이드<a hidden class=anchor aria-hidden=true href=#phase-8-심화확장-및-실전-가이드>#</a></h3><hr><h4 id=현재-한계-및-대안-확장>현재 한계 및 대안 확장<a hidden class=anchor aria-hidden=true href=#현재-한계-및-대안-확장>#</a></h4><table><thead><tr><th>한계</th><th>기술적 원인</th><th>영향</th><th>개선 현황/대안</th></tr></thead><tbody><tr><td>블로킹 IO 확장성 한계</td><td>각 IO 마다 스레드 대기 필요, 리소스 낭비</td><td>대량 연결·부하에 부적합</td><td>멀티스레드 한계 극복 위해 논블로킹·이벤트구조로 점진 전환</td></tr><tr><td>논블로킹 IO 운영 복잡도</td><td>상태경합, 콜백 지옥, 디버깅 난이도</td><td>오류, 장애 탐지·대응 어려움</td><td>이벤트 드리븐·reactive/stream, Future·Promise 등 패턴 도입</td></tr><tr><td>busy-wait/Polling 오버헤드</td><td>빈번한 상태 검사→CPU 낭비</td><td>리소스 낭비, 예측 불가 지연</td><td>epoll/kqueue 등 이벤트 대기 기반으로 튜닝</td></tr><tr><td>이벤트 기반 장애/분실 위험</td><td>이벤트 누락, 상태전이 분기 오류</td><td>예외 발생시 장애 전이 확대</td><td>타임아웃, 재시도, 에러 콜백·상태 로그 강화</td></tr></tbody></table><hr><h4 id=대안-비교-표>대안 비교 표<a hidden class=anchor aria-hidden=true href=#대안-비교-표>#</a></h4><table><thead><tr><th>기준</th><th>전통 블로킹 IO</th><th>논블로킹 IO</th><th>대안: 이벤트/리액티브/스트림 기반</th></tr></thead><tbody><tr><td>확장성</td><td>낮음</td><td>높음</td><td>최고 (수만 연결, event storm 대응)</td></tr><tr><td>코드 복잡도</td><td>낮음</td><td>중 - 상</td><td>높음 (설계/상태모델링 필수)</td></tr><tr><td>오류·트러블 대응</td><td>쉽고 직관적</td><td>상태경합 등 복잡</td><td>자동화/알람/서킷브레이커 등 결합</td></tr><tr><td>최적화/운영</td><td>단순 자원제어</td><td>polling/상태경합 관리</td><td>이벤트/모니터링/동적 튜닝 중심</td></tr></tbody></table><hr><h4 id=선택-가이드-및-best-practice>선택 가이드 및 Best Practice<a hidden class=anchor aria-hidden=true href=#선택-가이드-및-best-practice>#</a></h4><ul><li><strong>수만 동시 접속/실시간성</strong>: 논블로킹 + 이벤트 이벤트 loop, epoll, kqueue, IOCP, 리액티브·스트림 구조 적극 도입. Polling 최소화, 상태/에러/분실 대비 로깅·재시도 체계 필수.</li><li><strong>배치/순차작업/단순구조:</strong> 블로킹 IO, 스레드풀, 작업큐, 자원사용 fail-fast 정책 유지. 유지보수 용이성 및 장애/오류 확인시킬 수 있도록 단순화.</li><li><strong>복합/대규모 아키텍처</strong>: 마이크로서비스 계층별 IO 모델 명확 구분→테스트/정책·문서화→상태리스크/실시간 지표 연동 자동화.</li></ul><hr><h4 id=개선-히스토리-및-운영-전략>개선 히스토리 및 운영 전략<a hidden class=anchor aria-hidden=true href=#개선-히스토리-및-운영-전략>#</a></h4><table><thead><tr><th>버전/릴리스</th><th>개선 포인트</th><th>이전 한계</th><th>보완/전환 방식</th><th>잔여 이슈</th></tr></thead><tbody><tr><td>Java NIO, Netty</td><td>epoll 기반 이벤트 모델 도입</td><td>스레드풀 한계, polling 오버헤드</td><td>논블로킹 event loop 적용</td><td>에러/이벤트 누락 대응</td></tr><tr><td>Node.js</td><td>단일 스레드 event loop 창안</td><td>멀티스레드 동기 한계</td><td>논블로킹, 콜백 패턴, Promise 도입</td><td>콜백 지옥, 상태경합</td></tr></tbody></table><hr><h4 id=결론-및-실무-응용-가이드>결론 및 실무 응용 가이드<a hidden class=anchor aria-hidden=true href=#결론-및-실무-응용-가이드>#</a></h4><ul><li>IO 모델 선택은 단순 기술 결정이 아니라, 서비스 구조/성능목표/운영 편의 등 맥락을 반영해야 함.</li><li>논블로킹·이벤트기반 구조 전환 시, 최적화 (큐 조정, event loop, epoll/IOCP 등)·상태경합·에러 관리·로깅·모니터링 체계를 구축 (자동화, 알람 포함) 해야 진정한 확장성·안전성 확보.</li><li>블로킹 IO 는 유지관리·디버깅·예측이 중요한 구간, 논블로킹 IO 는 처리량·확장성이 중요한 곳에 명확히 구분 적용하는 설계가 바람직함.</li></ul><hr><h3 id=최종-정리-및-학습-가이드-1>최종 정리 및 학습 가이드<a hidden class=anchor aria-hidden=true href=#최종-정리-및-학습-가이드-1>#</a></h3><hr><h4 id=핵심-개념-요약-1>핵심 개념 요약<a hidden class=anchor aria-hidden=true href=#핵심-개념-요약-1>#</a></h4><ul><li><strong>블로킹 IO(Blocking IO):</strong><ul><li>IO 작업 완료까지 프로세스/스레드가 대기하는 방식</li><li>구현이 간단하고 예측·디버깅 용이, 하지만 확장성과 리소스 효율이 낮음 [1][2]</li></ul></li><li><strong>논블로킹 IO(Non-Blocking IO):</strong><ul><li>IO 요청 즉시 반환, Polling/이벤트 루프 등으로 완료 확인</li><li>고성능/대량 동접 환경에 필수, 복잡한 상태·콜백 관리가 필요 [3][4][5]</li></ul></li></ul><h4 id=실무-연결-및-주요-시나리오>실무 연결 및 주요 시나리오<a hidden class=anchor aria-hidden=true href=#실무-연결-및-주요-시나리오>#</a></h4><ul><li>대량 동시 접속 처리가 필요한 실시간 채팅, 메시징, 서버 환경에서는 논블로킹 IO 채택이 필수</li><li>배치성 파일 처리, 단일 API 또는 CLI 도구 등 순차성, 예측성이 중요한 환경에서는 블로킹 IO 가 효율적</li><li>마이크로서비스 구조에서는 서비스별 요구에 따라 IO 모델을 별도 설계해야 하며, 모니터링·자동화와 함께 검증 체계를 유지</li></ul><h4 id=장애한계-및-주의점>장애/한계 및 주의점<a hidden class=anchor aria-hidden=true href=#장애한계-및-주의점>#</a></h4><ul><li>논블로킹 IO 는 busy-wait/polling 과다·이벤트 누락·상태경합 문제가 발생할 수 있으므로, epoll(리눅스), IOCP(윈도우) 등의 이벤트 기반 최적화를 적극 도입하고, 예외 및 상태관리를 견고하게 설계</li><li>블로킹 IO 는 멀티스레드 대기·선점 등으로 리소스 과소/과다 사용에 따르는 장애 위험이 존재, 스레드풀/큐/빠른 실패 (fail-fast) 정책을 병행</li><li>코드·운영 정책에 IO 모델 사용 근거, 테스트 시나리오, 예외 처리 케이스를 반드시 명확히 문서화</li></ul><hr><h4 id=학습-로드맵-1>학습 로드맵<a hidden class=anchor aria-hidden=true href=#학습-로드맵-1>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-80-1><a class=lnlinks href=#hl-80-1>1</a>
</span><span class=lnt id=hl-80-2><a class=lnlinks href=#hl-80-2>2</a>
</span><span class=lnt id=hl-80-3><a class=lnlinks href=#hl-80-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>입문(1~2주)</span><span class=p>:</span><span class=w> </span><span class=l>IO 핵심개념/구조/배경 → 블로킹·논블로킹 비교 예시 및 간단 퀴즈</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>실무(1~2주)</span><span class=p>:</span><span class=w> </span><span class=l>핵심 동작원리·상태 관리·Poll/Event 구현 실습 → 운영 체크리스트 적용</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>전문가(3~5일)</span><span class=p>:</span><span class=w> </span><span class=l>트러블슈팅 분석·OS별 이벤트 API 최적화→장애/확장 테스트 및 의사결정 체크</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h4 id=주요-학습-항목-정리>주요 학습 항목 정리<a hidden class=anchor aria-hidden=true href=#주요-학습-항목-정리>#</a></h4><table><thead><tr><th>항목</th><th>세부 내용</th><th>예상 시간</th><th>선행 조건</th><th>검증 방법</th></tr></thead><tbody><tr><td>개념 기초</td><td>블로킹/논블로킹 IO 정의, 배경</td><td>2h</td><td>없음</td><td>요약/설명</td></tr><tr><td>핵심 원리</td><td>동작 흐름/이벤트루프 구조</td><td>4h</td><td>개념 기초</td><td>코드 + 구두 설명</td></tr><tr><td>구현 실습</td><td>Polling/event loop 구축</td><td>4h</td><td>핵심 원리</td><td>실습·동작 확인</td></tr><tr><td>실무 시나리오</td><td>환경별 적용 사례/최적화</td><td>6h</td><td>구현 실습</td><td>체크리스트</td></tr><tr><td>운영/최적화</td><td>모니터링·트러블슈팅</td><td>4h</td><td>시나리오</td><td>KPI/성능 비교</td></tr></tbody></table><hr><hr><p>위 학습 경로와 체크리스트, 현장 적용 가이드라인을 기반으로 개인/조직의 요구에 맞춘 효율적인 IO 시스템 확장과 운영을 설계할 수 있다.</p><h3 id=최종-정리-및-학습-가이드-2>최종 정리 및 학습 가이드<a hidden class=anchor aria-hidden=true href=#최종-정리-및-학습-가이드-2>#</a></h3><hr><h4 id=핵심-개념-요약-2>핵심 개념 요약<a hidden class=anchor aria-hidden=true href=#핵심-개념-요약-2>#</a></h4><ul><li><strong>블로킹 IO(Blocking IO):</strong> 작업 (예: 파일 읽기, 네트워크 수신) 이 끝날 때까지 해당 스레드가 대기하며, 구현이 직관적이고 관리가 쉽다. 단, 대량 연결이나 배치 업무에서는 리소스 소모와 응답 지연이 발생할 수 있다.[2][1]</li><li><strong>논블로킹 IO(Non-Blocking IO):</strong> IO 요청 즉시 제어권 반환, Polling·이벤트·콜백 구조로 상태 확인하며 여러 작업·연결을 동시에 처리할 수 있다. 고동시성 서버, 실시간 시스템에서 필수적이며, 상태/예외 관리가 복잡해진다.[4][5][3]</li></ul><hr><h4 id=실무-연결-및-대표-시나리오>실무 연결 및 대표 시나리오<a hidden class=anchor aria-hidden=true href=#실무-연결-및-대표-시나리오>#</a></h4><ul><li><strong>논블로킹 IO:</strong> 채팅/알림/게임 등 대량 동접 네트워크 환경, OS 별 이벤트 API(epoll, kqueue, IOCP 등) 운영, 이벤트드리븐·콜백 패턴 사용.[3][4]</li><li><strong>블로킹 IO:</strong> 단순 API, CLI, 배치성 업무, 파일 처리 등에서 높은 직관성과 예측성, 스레드풀·큐 등 단순 자원관리.[1][2]</li><li><strong>혼합 환경:</strong> MSA 구조에서는 서비스별로 IO 모델 분리, 트래픽 부하/테스트 자동화, 예외·콜백 경합 관리 필요.[5]</li></ul><hr><h4 id=장애-및-주의사항>장애 및 주의사항<a hidden class=anchor aria-hidden=true href=#장애-및-주의사항>#</a></h4><ul><li>논블로킹 IO 는 busy-wait, 이벤트/상태 누락, race condition 이슈 등 관리가 필요, 이벤트 디멀티플렉싱/로깅/재시도/알람 전략 강화</li><li>블로킹 IO 는 스레드풀/큐 운용시 자원 경합, 컨텍스트 전환·병목·fail-fast 정책 설계 필요</li><li>환경별 IO 모델, 에러·복구 플로우 설계 및 테스트 문서화 필수</li></ul><hr><h4 id=학습-로드맵-2>학습 로드맵<a hidden class=anchor aria-hidden=true href=#학습-로드맵-2>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-81-1><a class=lnlinks href=#hl-81-1>1</a>
</span><span class=lnt id=hl-81-2><a class=lnlinks href=#hl-81-2>2</a>
</span><span class=lnt id=hl-81-3><a class=lnlinks href=#hl-81-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>입문(1~2주)</span><span class=p>:</span><span class=w> </span><span class=l>IO모델 개념·구조 → 블로킹/논블로킹 예제 → 퀴즈/기본 실습</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>실무(1~2주)</span><span class=p>:</span><span class=w> </span><span class=l>동작 흐름·이벤트루프·Polling·트러블슈팅 → 운영 체크리스트 실습</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>전문가(3~5일)</span><span class=p>:</span><span class=w> </span><span class=l>발행·동기화·OS 이벤트 최적화→장애관리/복구/테스트 자동화</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h4 id=주요-학습-항목>주요 학습 항목<a hidden class=anchor aria-hidden=true href=#주요-학습-항목>#</a></h4><table><thead><tr><th>항목</th><th>내용</th><th>시간</th><th>선행 조건</th><th>검증 방법</th></tr></thead><tbody><tr><td>개념 기초</td><td>블로킹/논블로킹 IO 정의·배경</td><td>2h</td><td>없음</td><td>요약 작성</td></tr><tr><td>핵심 원리</td><td>Polling/event 구조 원리</td><td>4h</td><td>개념 기초</td><td>코드 설명</td></tr><tr><td>구현 실습</td><td>OS 별 Poll/Event API 실습</td><td>4h</td><td>핵심 원리</td><td>체크리스트</td></tr><tr><td>실무 적용</td><td>환경별 모델, 운영 체크</td><td>6h</td><td>구현 실습</td><td>운영 가이드</td></tr><tr><td>운영/최적화</td><td>장애관리·모니터링·트러블슈팅</td><td>4h</td><td>시나리오</td><td>KPI 비교</td></tr></tbody></table><hr><hr><p>이 가이드와 구조를 현장 업무와 환경에 맞게 적용·확장하면 IO 처리의 효율과 안정성을 극대화할 수 있다.</p><h3 id=최종-정리-및-학습-가이드-3>최종 정리 및 학습 가이드<a hidden class=anchor aria-hidden=true href=#최종-정리-및-학습-가이드-3>#</a></h3><hr><h4 id=핵심-개념-요약-정의범위핵심-가치>핵심 개념 요약: 정의/범위/핵심 가치<a hidden class=anchor aria-hidden=true href=#핵심-개념-요약-정의범위핵심-가치>#</a></h4><ul><li><strong>블로킹 IO(Blocking IO)</strong>: IO 요청 시, 해당 작업이 완료될 때까지 프로세스·스레드가 대기. 직관적이고 예측 가능하지만, 대량 동시 작업/고성능 네트워크 환경에서는 확장성과 자원 효율 저하 위험이 있음.[2][1]</li><li><strong>논블로킹 IO(Non-Blocking IO)</strong>: IO 요청 즉시 반환, Polling·이벤트루프·콜백 패턴으로 작업 병행 가능. 고확장·다중 연결 환경에 적합하나, 상태·에러 등 예외 관리 복잡도가 높음.[4][5][3]</li></ul><hr><h4 id=실무-연결-대표-시나리오와-적용-맥락>실무 연결: 대표 시나리오와 적용 맥락<a hidden class=anchor aria-hidden=true href=#실무-연결-대표-시나리오와-적용-맥락>#</a></h4><ul><li>논블로킹 IO: 실시간 채팅, 대량 네트워크 동접, 이벤트처리, OS 별 (epoll/kqueue/IOCP) 서버 환경.[3][4]</li><li>블로킹 IO: 파일 배치처리, CLI, 단일 API, 단순 배치/연동 환경. 스레드풀·큐 운용, 직관·예측성 중시.[1][2]</li><li>혼합형 (MSA/API Gateway): 서비스 특성별 IO 전략 분리·테스트 자동화·모니터링 관리 필수.[5]</li></ul><hr><h4 id=한계주의-내재-단점-환경-제약-전제-조건>한계·주의: 내재 단점, 환경 제약, 전제 조건<a hidden class=anchor aria-hidden=true href=#한계주의-내재-단점-환경-제약-전제-조건>#</a></h4><ul><li>논블로킹 IO: busy-wait, 이벤트 누락, 상태경합 등 운영 효율 저하 위험. 이벤트 분산·알람·예외체계 보강 필요.</li><li>블로킹 IO: 스레드 과다·자원 경쟁, 대기/병목 등 운영상 장애 리스크. 빠른 실패·자원 모니터링 필수.</li><li>IO 정책·상태·에러·테스트·운영 지표 등 명확한 기준 마련, 환경별 차별화 전략 필수.</li></ul><hr><h4 id=학습-로드맵-3>학습 로드맵<a hidden class=anchor aria-hidden=true href=#학습-로드맵-3>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-82-1><a class=lnlinks href=#hl-82-1>1</a>
</span><span class=lnt id=hl-82-2><a class=lnlinks href=#hl-82-2>2</a>
</span><span class=lnt id=hl-82-3><a class=lnlinks href=#hl-82-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>입문(1~2주)</span><span class=p>:</span><span class=w> </span><span class=l>핵심 개념, 블로킹/논블로킹 차이점→간단 예시 실습</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>실무(1~2주)</span><span class=p>:</span><span class=w> </span><span class=l>Polling·이벤트루프+트러블슈팅과 운영 체크리스트 실습</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>전문가(3~5일)</span><span class=p>:</span><span class=w> </span><span class=l>OS별 이벤트·성능리포트, 장애/확장 테스트, Best Practice</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h4 id=학습-항목-정리>학습 항목 정리<a hidden class=anchor aria-hidden=true href=#학습-항목-정리>#</a></h4><table><thead><tr><th>항목</th><th>세부 내용</th><th>예상 시간</th><th>선행 조건</th><th>검증 방법</th></tr></thead><tbody><tr><td>개념 기초</td><td>정의·필요성·배경</td><td>2h</td><td>없음</td><td>요약 작성</td></tr><tr><td>핵심 원리</td><td>Polling/Event Loop 원리</td><td>4h</td><td>개념 기초</td><td>구두 설명</td></tr><tr><td>구현 실습</td><td>OS·프레임워크별 비동기 IO</td><td>4h</td><td>원리 실습</td><td>동작 확인</td></tr><tr><td>실무 적용</td><td>환경별 IO 모델 시나리오</td><td>6h</td><td>실습 기초</td><td>체크리스트</td></tr><tr><td>운영/최적화</td><td>모니터링·장애·성능계측</td><td>4h</td><td>시나리오</td><td>KPI 비교</td></tr></tbody></table><hr><hr><p>위 내용·로드맵·체크리스트를 기반으로 IO 구조·운영을 체계화하면 효율과 안정성을 크게 높일 수 있다.### 최종 정리 및 학습 가이드</p><hr><h4 id=핵심-개념-요약-3>핵심 개념 요약<a hidden class=anchor aria-hidden=true href=#핵심-개념-요약-3>#</a></h4><ul><li><strong>블로킹 IO</strong>는 프로세스/스레드가 IO 작업이 끝날 때까지 기다리며, 구조가 단순하고 예측이 쉽지만, 자원 효율 및 확장성 측면에서 단점이 있다.[2][1]</li><li><strong>논블로킹 IO</strong>는 IO 요청 직후 제어권을 반환해, 여러 작업을 병렬 또는 비동기로 처리할 수 있다. 이벤트루프, Polling, OS 별 (epoll, IOCP 등) 인터페이스가 중요하며, 복잡한 예외·상태 관리가 필요하다.[4][5][3]</li></ul><hr><h4 id=실무-연결과-대표-시나리오>실무 연결과 대표 시나리오<a hidden class=anchor aria-hidden=true href=#실무-연결과-대표-시나리오>#</a></h4><ul><li>논블로킹 IO: 대량 실시간 서버, 이벤트 기반 메시징, 실시간 알림 등에 필수. OS/프레임워크의 비동기 API 와 연동 필수.[3][4]</li><li>블로킹 IO: 순차성·직관성 요구 배치, CLI 툴, 단일 API 등에 효율적. 스레드풀/큐 운용과 장애·자원 모니터링이 핵심.[1][2]</li><li>혼합 환경 (MSA, API Gateway): 서비스별 IO 모델 분리, 환경별 테스트·모니터링·튜닝 필수.[5]</li></ul><hr><h4 id=한계주의>한계·주의<a hidden class=anchor aria-hidden=true href=#한계주의>#</a></h4><ul><li>논블로킹 IO 는 busy-wait/이벤트누락, 상태경합 (race) 위험, Polling·이벤트처리·로깅·에러 핸들링 설계 강화 필요</li><li>블로킹 IO 는 스레드 과다·대기 시간·병목 이슈 주의, 빠른 실패 (fail-fast) 및 운용 모니터링 중요</li><li>각 IO 모델 적용 사유·정책·테스트 케이스 명확화</li></ul><hr><h4 id=학습-로드맵-4>학습 로드맵<a hidden class=anchor aria-hidden=true href=#학습-로드맵-4>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-83-1><a class=lnlinks href=#hl-83-1>1</a>
</span><span class=lnt id=hl-83-2><a class=lnlinks href=#hl-83-2>2</a>
</span><span class=lnt id=hl-83-3><a class=lnlinks href=#hl-83-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>입문(1~2주)</span><span class=p>:</span><span class=w> </span><span class=l>IO 구조·개념 → 블로킹/논블로킹 예시 및 실습</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>실무(1~2주)</span><span class=p>:</span><span class=w> </span><span class=l>Polling·Event Loop·트러블슈팅 실습, 운영 체크리스트</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>전문가(3~5일)</span><span class=p>:</span><span class=w> </span><span class=l>OS별 이벤트·실무 장애관리·확장 최적화 및 모니터링</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h4 id=주요-학습-항목-1>주요 학습 항목<a hidden class=anchor aria-hidden=true href=#주요-학습-항목-1>#</a></h4><table><thead><tr><th>항목</th><th>세부 내용</th><th>시간</th><th>선행 조건</th><th>검증 방법</th></tr></thead><tbody><tr><td>개념 기초</td><td>정의와 배경</td><td>2h</td><td>없음</td><td>요약</td></tr><tr><td>핵심 원리</td><td>Polling/Event 구조 원리</td><td>4h</td><td>기초</td><td>코드 실습</td></tr><tr><td>구현 실습</td><td>OS 이벤트 API 적용</td><td>4h</td><td>원리</td><td>체크리스트</td></tr><tr><td>실무 적용</td><td>환경/모델별 시나리오</td><td>6h</td><td>실습</td><td>운영 가이드</td></tr><tr><td>운영/최적화</td><td>장애/모니터링 트러블슈팅</td><td>4h</td><td>시나리오</td><td>KPI 비교</td></tr></tbody></table><hr><hr><p>위 학습 경로와 체크리스트, 상세 구조를 현장 업무에 맞춰 체계적으로 적용하면 IO 시스템의 효율과 안정성을 높일 수 있다.</p><p><a href=https://etloveguitar.tistory.com/140>1</a><br><a href=https://looco.tistory.com/6>2</a><br><a href=https://mark-kim.blog/understanding-non-blocking-io-and-nio/>3</a><br><a href=https://f-lab.kr/insight/understanding-blocking-and-non-blocking-io>4</a><br><a href=https://inpa.tistory.com/entry/%F0%9F%91%A9%E2%80%8D%F0%9F%92%BB-%EB%8F%99%EA%B8%B0%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%B8%94%EB%A1%9C%ED%82%B9%EB%85%BC%EB%B8%94%EB%A1%9C%ED%82%B9-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC>5</a></p><h2 id=0-빠른-입력-섹션-문서-최상단-고정>0. 빠른 입력 섹션 (문서 최상단 고정)<a hidden class=anchor aria-hidden=true href=#0-빠른-입력-섹션-문서-최상단-고정>#</a></h2><h3 id=기본-메타데이터>기본 메타데이터<a hidden class=anchor aria-hidden=true href=#기본-메타데이터>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-84-1><a class=lnlinks href=#hl-84-1> 1</a>
</span><span class=lnt id=hl-84-2><a class=lnlinks href=#hl-84-2> 2</a>
</span><span class=lnt id=hl-84-3><a class=lnlinks href=#hl-84-3> 3</a>
</span><span class=lnt id=hl-84-4><a class=lnlinks href=#hl-84-4> 4</a>
</span><span class=lnt id=hl-84-5><a class=lnlinks href=#hl-84-5> 5</a>
</span><span class=lnt id=hl-84-6><a class=lnlinks href=#hl-84-6> 6</a>
</span><span class=lnt id=hl-84-7><a class=lnlinks href=#hl-84-7> 7</a>
</span><span class=lnt id=hl-84-8><a class=lnlinks href=#hl-84-8> 8</a>
</span><span class=lnt id=hl-84-9><a class=lnlinks href=#hl-84-9> 9</a>
</span><span class=lnt id=hl-84-10><a class=lnlinks href=#hl-84-10>10</a>
</span><span class=lnt id=hl-84-11><a class=lnlinks href=#hl-84-11>11</a>
</span><span class=lnt id=hl-84-12><a class=lnlinks href=#hl-84-12>12</a>
</span><span class=lnt id=hl-84-13><a class=lnlinks href=#hl-84-13>13</a>
</span><span class=lnt id=hl-84-14><a class=lnlinks href=#hl-84-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>비교 주제</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Blocking vs. Non-Blocking&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>현재 분류</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Computer Science and Engineering &gt; Computer Science Fundamentals &gt; System Software &gt; IO System Fundamentals &gt; IO Models&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>주제 유형</span><span class=p>:</span><span class=w> </span><span class=l>이론/개념</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>주요 도메인</span><span class=p>:</span><span class=w> </span><span class=l>자동 판별</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>참고 자료</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>URL</span><span class=p>:</span><span class=w> </span><span class=l>https://man7.org/linux/man-pages/man2/select.2.html</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>URL</span><span class=p>:</span><span class=w> </span><span class=l>https://man7.org/linux/man-pages/man3/poll.3p.html</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>URL</span><span class=p>:</span><span class=w> </span><span class=l>https://man7.org/linux/man-pages/man7/epoll.7.html</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>URL</span><span class=p>:</span><span class=w> </span><span class=l>https://man.freebsd.org/kqueue%282%29</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>URL</span><span class=p>:</span><span class=w> </span><span class=l>https://learn.microsoft.com/windows/win32/fileio/i-o-completion-ports</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>URL</span><span class=p>:</span><span class=w> </span><span class=l>https://docs.libuv.org/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>URL</span><span class=p>:</span><span class=w> </span><span class=l>https://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>URL</span><span class=p>:</span><span class=w> </span><span class=l>https://docs.python.org/3/library/asyncio-eventloop.html</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>URL</span><span class=p>:</span><span class=w> </span><span class=l>https://docs.oracle.com/javase/11/docs/api/java.base/java/nio/channels/package-summary.html</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=자동-생성-헤더-출력-작성-결과-맨-앞에-배치>자동 생성 헤더 출력 (작성 결과 맨 앞에 배치)<a hidden class=anchor aria-hidden=true href=#자동-생성-헤더-출력-작성-결과-맨-앞에-배치>#</a></h3><ul><li>Tags (영문, 3~4 개, 하이픈 연결): blocking-io, non-blocking-io, io-multiplexing, event-loop</li><li>요약 &lt;= 250 자: Blocking 은 호출이 완료될 때까지 스레드를 점유해 단순하지만 동시성 규모가 제한된다. Non-Blocking 은 준비된 순간만 처리하고 나머지는 즉시 반환하며, 보통 멀티플렉싱/이벤트 루프·IOCP 로 확장성을 얻는다. 워크로드 특성 (연결 수·지연·CPU) 과 언어 런타임에 따라 선택한다.</li><li>개요 &lt;= 600 자: IO 모델은 CPU 와 커널이 대기 시간을 처리하는 방식이다. Blocking 은 호출 스레드가 커널에서 대기하며 문맥 전환·스레드 수 증가로 오버헤드가 커질 수 있다. Non-Blocking 은 즉시 반환하며 준비 상태를 멀티플렉싱 (select/poll/epoll/kqueue) 또는 커널 완료 통지 (IOCP) 로 수신한다. 현대 런타임 (Node.js/libuv, Python asyncio, Java NIO) 은 이벤트 루프 기반 Non-Blocking 을 제공한다. 반면 Go 처럼 스레드 - 블로킹 호출을 런타임이 경량 스케줄링 (네트폴러) 로 흡수하는 모델도 있다. 이 문서는 개념, 원리, 장단점, 구현 예제, 운영 체크리스트와 선택 가이드를 제공한다.</li></ul><h3 id=phase-활성화-설정-초급부터-중급-이상의-실무-포함-기본-프리셋>Phase 활성화 설정 (초급부터 중급 이상의 실무 포함 기본 프리셋)<a hidden class=anchor aria-hidden=true href=#phase-활성화-설정-초급부터-중급-이상의-실무-포함-기본-프리셋>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-85-1><a class=lnlinks href=#hl-85-1> 1</a>
</span><span class=lnt id=hl-85-2><a class=lnlinks href=#hl-85-2> 2</a>
</span><span class=lnt id=hl-85-3><a class=lnlinks href=#hl-85-3> 3</a>
</span><span class=lnt id=hl-85-4><a class=lnlinks href=#hl-85-4> 4</a>
</span><span class=lnt id=hl-85-5><a class=lnlinks href=#hl-85-5> 5</a>
</span><span class=lnt id=hl-85-6><a class=lnlinks href=#hl-85-6> 6</a>
</span><span class=lnt id=hl-85-7><a class=lnlinks href=#hl-85-7> 7</a>
</span><span class=lnt id=hl-85-8><a class=lnlinks href=#hl-85-8> 8</a>
</span><span class=lnt id=hl-85-9><a class=lnlinks href=#hl-85-9> 9</a>
</span><span class=lnt id=hl-85-10><a class=lnlinks href=#hl-85-10>10</a>
</span><span class=lnt id=hl-85-11><a class=lnlinks href=#hl-85-11>11</a>
</span><span class=lnt id=hl-85-12><a class=lnlinks href=#hl-85-12>12</a>
</span><span class=lnt id=hl-85-13><a class=lnlinks href=#hl-85-13>13</a>
</span><span class=lnt id=hl-85-14><a class=lnlinks href=#hl-85-14>14</a>
</span><span class=lnt id=hl-85-15><a class=lnlinks href=#hl-85-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>Phase 활성화(기본)</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Phase 0</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>   </span><span class=c># 사전 분석</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Phase 1</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>   </span><span class=c># 개념 체계화</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Phase 2</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>   </span><span class=c># 기초 정립</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Phase 3</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>   </span><span class=c># 핵심 원리</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Phase 4</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>   </span><span class=c># 특성 평가</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Phase 5</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>   </span><span class=c># 구현/도구</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Phase 6</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>   </span><span class=c># 실무 적용</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Phase 7</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>   </span><span class=c># 비교·통합 정리(멀티 대상 전용)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>Phase 8</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>  </span><span class=c># 심화/확장 (대안 비교/확장 설계 필요 시 true)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>비활성 사유(선택)</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>Phase 8</span><span class=p>:</span><span class=w> </span><span class=l>주제 범위 내 고급 대안(기반 구조 변경)까지는 과도한 상세</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>작성 모드</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>분리 작성 허용</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>진행 방식</span><span class=p>:</span><span class=w> </span><span class=l>Phase별 분리 출력</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=실무-시나리오-설정-top-3>실무 시나리오 설정 (TOP 3)<a hidden class=anchor aria-hidden=true href=#실무-시나리오-설정-top-3>#</a></h3><table><thead><tr><th>우선순위</th><th>시나리오 명</th><th>빈도</th><th>필수 Phase</th><th>예상 산출물</th></tr></thead><tbody><tr><td>1 최다</td><td>대규모 웹소켓/채팅 서버 확장</td><td>매우 높음</td><td>2,3,6,7</td><td>선택 가이드, 이벤트 루프 튜닝 체크리스트</td></tr><tr><td>2</td><td>파일 I/O 집약 배치 파이프라인</td><td>높음</td><td>3,4,6,7</td><td>동시성 패턴 비교표 (스레드풀 vs async)</td></tr><tr><td>3</td><td>API 게이트웨이/프록시 수만 연결</td><td>보통</td><td>4,6,7</td><td>운영 모니터링·트러블슈팅 표</td></tr></tbody></table><h3 id=코드-구현-정책>코드 구현 정책<a hidden class=anchor aria-hidden=true href=#코드-구현-정책>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-86-1><a class=lnlinks href=#hl-86-1>1</a>
</span><span class=lnt id=hl-86-2><a class=lnlinks href=#hl-86-2>2</a>
</span><span class=lnt id=hl-86-3><a class=lnlinks href=#hl-86-3>3</a>
</span><span class=lnt id=hl-86-4><a class=lnlinks href=#hl-86-4>4</a>
</span><span class=lnt id=hl-86-5><a class=lnlinks href=#hl-86-5>5</a>
</span><span class=lnt id=hl-86-6><a class=lnlinks href=#hl-86-6>6</a>
</span><span class=lnt id=hl-86-7><a class=lnlinks href=#hl-86-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>코드 필요성</span><span class=p>:</span><span class=w> </span><span class=l>권장</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>구현 언어</span><span class=p>:</span><span class=w> </span><span class=l>Python | JavaScript | Java</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>대체 방안</span><span class=p>:</span><span class=w> </span><span class=l>의사코드 | 설정 예시 | 다이어그램</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>제한 사항</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>스니펫당 150줄 상한</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>줄/블록 주석 필수</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>필요 시 실행 가능한 완전 예제 권장</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h2 id=작성-운영-규칙-공통>작성 운영 규칙 (공통)<a hidden class=anchor aria-hidden=true href=#작성-운영-규칙-공통>#</a></h2><ul><li>증거 기반 작성 원칙: 본문에는 검증 완료 항목만 수록.</li><li>검증 체크리스트: 1 차 공식 출처 1 개 이상 + 교차 검증 1 회 이상 + 확인일 표기.</li><li>미검증 항목: 본문 제외, 각 Phase 말미에 검증 대기 표로 기록.</li><li>Gate 정책: Phase 0 는 기준선. Gate=G 면 전체 진행.</li></ul><hr><h2 id=1-역할-정의-및-작업-원칙-범용-it-커버리지>1. 역할 정의 및 작업 원칙 (범용 IT 커버리지)<a hidden class=anchor aria-hidden=true href=#1-역할-정의-및-작업-원칙-범용-it-커버리지>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-87-1><a class=lnlinks href=#hl-87-1> 1</a>
</span><span class=lnt id=hl-87-2><a class=lnlinks href=#hl-87-2> 2</a>
</span><span class=lnt id=hl-87-3><a class=lnlinks href=#hl-87-3> 3</a>
</span><span class=lnt id=hl-87-4><a class=lnlinks href=#hl-87-4> 4</a>
</span><span class=lnt id=hl-87-5><a class=lnlinks href=#hl-87-5> 5</a>
</span><span class=lnt id=hl-87-6><a class=lnlinks href=#hl-87-6> 6</a>
</span><span class=lnt id=hl-87-7><a class=lnlinks href=#hl-87-7> 7</a>
</span><span class=lnt id=hl-87-8><a class=lnlinks href=#hl-87-8> 8</a>
</span><span class=lnt id=hl-87-9><a class=lnlinks href=#hl-87-9> 9</a>
</span><span class=lnt id=hl-87-10><a class=lnlinks href=#hl-87-10>10</a>
</span><span class=lnt id=hl-87-11><a class=lnlinks href=#hl-87-11>11</a>
</span><span class=lnt id=hl-87-12><a class=lnlinks href=#hl-87-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>Primary Roles</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>IT 종합 전문가</span><span class=p>:</span><span class=w> </span><span class=l>IO 모델 전반(커널·런타임·네트워킹) 실무 연결</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>교육 설계자</span><span class=p>:</span><span class=w> </span><span class=l>초심자→실무자 경로 설계</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>커뮤니케이터</span><span class=p>:</span><span class=w> </span><span class=l>이론→코드→운영으로 번역</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>실무 연결</span><span class=p>:</span><span class=w> </span><span class=l>시나리오 중심, 중복 제거, 응집 강화</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>검증</span><span class=p>:</span><span class=w> </span><span class=l>분류 정확성·일관성 검증</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>작업 원칙</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>한글/영문 병기</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>구조</span><span class=p>:</span><span class=w> </span><span class=l>기초→핵심→응용→운영→심화</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>설명</span><span class=p>:</span><span class=w> </span><span class=l>Why→What→How→When/Where</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>실무</span><span class=p>:</span><span class=w> </span><span class=l>빈도 Top 3 우선</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>연구 동향</span><span class=p>:</span><span class=w> </span><span class=l>기본 제외(필요 시 간략 언급)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h2 id=2-분류-및-검증-3-단계>2. 분류 및 검증 (3 단계)<a hidden class=anchor aria-hidden=true href=#2-분류-및-검증-3-단계>#</a></h2><h3 id=현재-분류-구조-참조>현재 분류 구조 (참조)<a hidden class=anchor aria-hidden=true href=#현재-분류-구조-참조>#</a></h3><p>본 문서는 &ldquo;Computer Science Fundamentals > System Software > IO System Fundamentals > IO Models&rdquo; 하위에 위치시키는 것을 목표로 함.</p><h3 id=21-분류-경로-제안-주제---분류-일치성-확인>2.1 분류 경로 제안 (주제 - 분류 일치성 확인)<a hidden class=anchor aria-hidden=true href=#21-분류-경로-제안-주제---분류-일치성-확인>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-88-1><a class=lnlinks href=#hl-88-1> 1</a>
</span><span class=lnt id=hl-88-2><a class=lnlinks href=#hl-88-2> 2</a>
</span><span class=lnt id=hl-88-3><a class=lnlinks href=#hl-88-3> 3</a>
</span><span class=lnt id=hl-88-4><a class=lnlinks href=#hl-88-4> 4</a>
</span><span class=lnt id=hl-88-5><a class=lnlinks href=#hl-88-5> 5</a>
</span><span class=lnt id=hl-88-6><a class=lnlinks href=#hl-88-6> 6</a>
</span><span class=lnt id=hl-88-7><a class=lnlinks href=#hl-88-7> 7</a>
</span><span class=lnt id=hl-88-8><a class=lnlinks href=#hl-88-8> 8</a>
</span><span class=lnt id=hl-88-9><a class=lnlinks href=#hl-88-9> 9</a>
</span><span class=lnt id=hl-88-10><a class=lnlinks href=#hl-88-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>주 분류 제안</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Computer Science and Engineering &gt; Computer Science Fundamentals &gt; System Software &gt; IO System Fundamentals &gt; IO Models&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>현재 분류 구조 참조</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>위치/링크</span><span class=p>:</span><span class=w> </span><span class=l>내부 분류 트리 상 System Software 하위 IO Models</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>버전/개정일</span><span class=p>:</span><span class=w> </span><span class=m>2025-09</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>대안 분류(필요 시)</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>경로 1: Networking and Protocols &gt; Communication Patterns &gt; Synchronous vs Asynchronous (연관성</span><span class=p>:</span><span class=w> </span><span class=l>멀티플렉싱·비동기 통신)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>경로 2: Software Development and Engineering &gt; Performance Practices (연관성</span><span class=p>:</span><span class=w> </span><span class=l>동시성·지연 최적화)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>크로스 참조(멀티 도메인)</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>연관 분류 1</span><span class=p>:</span><span class=w> </span><span class=l>Distributed Systems &gt; Reliability and Resilience (60%)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>연관 분류 2</span><span class=p>:</span><span class=w> </span><span class=l>System Architecture and Design &gt; Performance and Scalability (70%)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=22-분류-적합성-판단>2.2 분류 적합성 판단<a hidden class=anchor aria-hidden=true href=#22-분류-적합성-판단>#</a></h3><ol><li>존재성: 존재 ✓ → 2) 깊이 적절성: 4 레벨 ✓ → 3) 형제 일관성: 동시성·IO 주제들과 일관 ✓ → 4) 크로스 도메인: 높은 연계 ✓ → 5) 중복/유사 병합: 필요 없음 ✓</li></ol><h3 id=23-분류-타당성-매트릭스>2.3 분류 타당성 매트릭스<a hidden class=anchor aria-hidden=true href=#23-분류-타당성-매트릭스>#</a></h3><table><thead><tr><th>항목</th><th style=text-align:right>가중치</th><th style=text-align:right>현재값</th><th style=text-align:right>목표</th><th style=text-align:center>상태</th><th>조치</th></tr></thead><tbody><tr><td>위치 정확도</td><td style=text-align:right>30%</td><td style=text-align:right>90%</td><td style=text-align:right>>=80%</td><td style=text-align:center>✅</td><td>유지</td></tr><tr><td>의미 일치도</td><td style=text-align:right>25%</td><td style=text-align:right>95%</td><td style=text-align:right>>=75%</td><td style=text-align:center>✅</td><td>유지</td></tr><tr><td>형제 일관성</td><td style=text-align:right>20%</td><td style=text-align:right>90%</td><td style=text-align:right>>=85%</td><td style=text-align:center>✅</td><td>유지</td></tr><tr><td>깊이 적절성</td><td style=text-align:right>15%</td><td style=text-align:right>4 레벨</td><td style=text-align:right>2~4</td><td style=text-align:center>✅</td><td>유지</td></tr><tr><td>크로스 도메인</td><td style=text-align:right>10%</td><td style=text-align:right>70%</td><td style=text-align:right>>=70%</td><td style=text-align:center>✅</td><td>참조 유지</td></tr></tbody></table><h3 id=24-최종-분류-결정-및-이상-패턴>2.4 최종 분류 결정 및 이상 패턴<a hidden class=anchor aria-hidden=true href=#24-최종-분류-결정-및-이상-패턴>#</a></h3><ul><li>확정 위치: &ldquo;Computer Science and Engineering > Computer Science Fundamentals > System Software > IO System Fundamentals > IO Models&rdquo;</li><li>종합 신뢰도: 91% (High)</li><li>이상 패턴: 없음</li><li>개선 권고: 중기—운영/모니터링 관점 자료를 분류 트리 Performance/Scalability 와 상호 링크 강화</li></ul><hr><h2 id=phase-0-사전-분석-및-맞춤화-항상>Phase 0: 사전 분석 및 맞춤화 (항상)<a hidden class=anchor aria-hidden=true href=#phase-0-사전-분석-및-맞춤화-항상>#</a></h2><h3 id=작성-계획-6>작성 계획<a hidden class=anchor aria-hidden=true href=#작성-계획-6>#</a></h3><ul><li>핵심 질문: (1) Blocking 과 Non-Blocking 정의·구분 (2) 멀티플렉싱/이벤트 루프/IOCP 의 관계 (3) 언제 어떤 모델을 선택할 것인가 (4) 언어별 구현 차이와 운영 관점 영향</li><li>데이터 소스/근거: POSIX select/poll, Linux epoll, BSD kqueue, Windows IOCP, libuv, Node.js event loop, Python asyncio, Java NIO</li><li>작성 범위: 핵심 개념·원리·장단점·구현 예제·운영 체크리스트; 벤치마크 수치는 일반화해서 제시 (환경 종속)</li><li>결과물: 표/다이어그램/체크리스트/코드 스니펫</li><li>분리 작성 모드: 가능 (본 문서에 통합 반영)</li><li>검증 체크리스트: 1 차 공식 문서 + 교차 검증 (다중 OS/런타임 자료) + 확인일 (2025-09-29 KST)</li><li>전제/입력 상태: Phase 0 Gate=G, Evidence Pack 버전: v1.0</li></ul><h4 id=버전환경-고정-표-필수>버전·환경 고정 표 (필수)<a hidden class=anchor aria-hidden=true href=#버전환경-고정-표-필수>#</a></h4><table><thead><tr><th>대상</th><th>버전/에디션</th><th>릴리스일</th><th>실행 환경 (OS/커널/런타임)</th><th>주요 설정값</th><th>플러그인/드라이버</th><th>메모</th></tr></thead><tbody><tr><td>POSIX select/poll</td><td>POSIX.1-2017 (Issue 7, 2018 Ed.)</td><td>2018</td><td>POSIX 호환 OS</td><td>N/A</td><td>N/A</td><td>표준 정의 근거</td></tr><tr><td>Linux epoll</td><td>man-pages 최신 (온라인)</td><td>상시</td><td>Linux 커널 (2.6+)</td><td>ET/LT 모드</td><td>N/A</td><td>이벤트 기반 멀티플렉싱</td></tr><tr><td>BSD kqueue</td><td>kqueue(2)</td><td>상시</td><td>FreeBSD/macOS/BSD</td><td>filters</td><td>N/A</td><td>범용 이벤트 통지</td></tr><tr><td>Windows IOCP</td><td>Win32 API</td><td>상시</td><td>Windows NT 커널</td><td>OVERLAPPED I/O</td><td>N/A</td><td>커널 완료 통지 큐</td></tr><tr><td>libuv</td><td>v1.x 문서</td><td>상시</td><td>Node.js 등</td><td>백엔드: epoll/kqueue/IOCP</td><td>스레드풀</td><td>크로스플랫폼 루프</td></tr><tr><td>Python asyncio</td><td>Python 3.x</td><td>상시</td><td>CPython</td><td>이벤트 루프 정책</td><td>N/A</td><td>고수준 async/await</td></tr><tr><td>Java NIO</td><td>Java SE 8/11+</td><td>상시</td><td>JVM</td><td>Selector/Channel</td><td>N/A</td><td>멀티플렉싱 추상화</td></tr></tbody></table><h4 id=대상-식별-표-필수>대상 식별 표 (필수)<a hidden class=anchor aria-hidden=true href=#대상-식별-표-필수>#</a></h4><table><thead><tr><th>코드</th><th>이름</th><th>설명</th><th>공식 링크</th><th>비고</th></tr></thead><tbody><tr><td>A</td><td>Blocking I/O</td><td>호출이 완료될 때까지 스레드가 대기</td><td>POSIX read/write 관례</td><td>단순/직관</td></tr><tr><td>B</td><td>Non-Blocking I/O</td><td>준비되지 않으면 즉시 반환 (EAGAIN)</td><td>POSIX O_NONBLOCK</td><td>즉시/폴링 필요</td></tr><tr><td>C</td><td>I/O Multiplexing</td><td>여러 FD 준비 상태 일괄 대기</td><td>select/poll/epoll/kqueue</td><td>이벤트 루프 토대</td></tr><tr><td>D</td><td>Async Completion</td><td>완료 통지형 (커널 큐)</td><td>Windows IOCP</td><td>스레드 효율</td></tr></tbody></table><ul><li>비교 우위 조건: 높은 연결 수·낮은 지연·낮은 메모리 Footprint → C/D (증거: epoll/kqueue/IOCP 설계 문서)</li><li>비교 열위 조건: 코드 복잡도·디버깅 난도 상승 → C/D</li><li>중립 조건: 연결 수·동시성 낮은 서비스 → A</li></ul><h4 id=개선-포인트-히스토리-대상별>개선 포인트 히스토리 (대상별)<a hidden class=anchor aria-hidden=true href=#개선-포인트-히스토리-대상별>#</a></h4><table><thead><tr><th>버전/릴리스</th><th>개선 항목</th><th>이전 한계</th><th>개선 방식</th><th>잔여 리스크</th><th>근거</th></tr></thead><tbody><tr><td>epoll (Linux 2.6+)</td><td>N:1 O(1) 통지</td><td>select/poll FD 스캔 비용</td><td>준비 리스트·FD 관심 목록 분리</td><td>ET 사용 시 루프 기아 버그 가능</td><td>epoll(7)</td></tr><tr><td>kqueue</td><td>범용 이벤트 필터</td><td>소켓 한정 통지</td><td>FS/신호 등 통합</td><td>플랫폼 종속성</td><td>kqueue(2)</td></tr><tr><td>IOCP</td><td>완료 통지·적응형 스레딩</td><td>WaitForMultipleObjects 한계</td><td>커널 큐 + 스레드풀 모델</td><td>구현 복잡성</td><td>MS Docs</td></tr></tbody></table><h3 id=용어-사전-범위-규칙>용어 사전 범위 규칙<a hidden class=anchor aria-hidden=true href=#용어-사전-범위-규칙>#</a></h3><ul><li>필수: Blocking, Non-Blocking, 멀티플렉싱 (Multiplexing), 이벤트 루프 (Event Loop), 완료 통지 (Completion), 레벨/엣지 트리거 (LT/ET), 백프레셔 (Backpressure)</li></ul><h3 id=유형-판별-기준-as>유형 판별 기준 (A~S)<a hidden class=anchor aria-hidden=true href=#유형-판별-기준-as>#</a></h3><ul><li>본 주제는 A(이론/개념형) 중심, C/N(아키텍처/통합) 보조</li></ul><h3 id=phase-0-출력-매핑-강제-반영>Phase 0 출력 매핑 (강제 반영)<a hidden class=anchor aria-hidden=true href=#phase-0-출력-매핑-강제-반영>#</a></h3><table><thead><tr><th>분류 항목</th><th>Phase 0 산출물</th><th>반영 섹션</th><th>필수</th></tr></thead><tbody><tr><td>정의·범위·용어</td><td>확정 정의</td><td>Phase 1 핵심 요약, 1.2 표</td><td>예</td></tr><tr><td>특성/특징</td><td>리스트</td><td>Phase 1 1.6, Phase 4</td><td>예</td></tr><tr><td>기능/역할</td><td>초안</td><td>Phase 3</td><td>예</td></tr><tr><td>구성 요소</td><td>컴포넌트 초안</td><td>Phase 3.2</td><td>예</td></tr><tr><td>흐름</td><td>단계/입출력</td><td>Phase 3.1/3.3</td><td>예</td></tr><tr><td>장단점/제약</td><td>근거 포함</td><td>Phase 4</td><td>예</td></tr><tr><td>구현/도구</td><td>범위</td><td>Phase 5</td><td>예</td></tr><tr><td>통합/연계</td><td>Top-N</td><td>Phase 6.2</td><td>예</td></tr><tr><td>실무 시나리오</td><td>1~3 건</td><td>Phase 6.1</td><td>예</td></tr></tbody></table><hr><h2 id=phase-1-개념-체계화-및-방향-설정-2>Phase 1: 개념 체계화 및 방향 설정<a hidden class=anchor aria-hidden=true href=#phase-1-개념-체계화-및-방향-설정-2>#</a></h2><h3 id=11-대상별-핵심-요약-2>1.1 대상별 핵심 요약<a hidden class=anchor aria-hidden=true href=#11-대상별-핵심-요약-2>#</a></h3><ul><li>A(Blocking): 호출 스레드가 커널에서 대기. 단순하고 디버깅 쉬우며 작은 동시성에 적합. 스레드가 많이 필요하고 컨텍스트 스위칭·스택 메모리 비용이 증가.</li><li>B(Non-Blocking): 준비되지 않으면 즉시 반환 (EAGAIN). 폴링/재시도를 직접 관리하거나 멀티플렉싱과 결합 필요.</li><li>C(Multiplexing): select/poll/epoll/kqueue 로 여러 FD 의 준비 상태를 한 번에 대기. 이벤트 루프 구현의 핵심.</li><li>D(Async Completion): IOCP 처럼 커널이 완료 이벤트를 큐에 넣어 사용자 공간으로 통지. 스레드 효율성과 확장성이 높음 (Windows 대표).</li></ul><h3 id=12-공통-핵심-개념-표-2>1.2 공통 핵심 개념 표<a hidden class=anchor aria-hidden=true href=#12-공통-핵심-개념-표-2>#</a></h3><table><thead><tr><th>용어 (한/영)</th><th>정의</th><th>실무 역할</th><th>선행 지식</th><th>연관 개념</th><th>활용 예시</th><th>도구/표준</th></tr></thead><tbody><tr><td>블로킹/Blocking</td><td>호출 완료 전 반환하지 않음</td><td>단순 서버/CLI</td><td>시스템 콜</td><td>스레드풀</td><td>파일 읽기/DB 드라이버</td><td>POSIX read/write</td></tr><tr><td>논블로킹/Non-Blocking</td><td>즉시 반환 (EAGAIN)</td><td>낮은 지연</td><td>파일 디스크립터</td><td>리트라이/백오프</td><td>논블로킹 소켓</td><td>O_NONBLOCK</td></tr><tr><td>멀티플렉싱/Multiplexing</td><td>다중 FD 준비 대기</td><td>고연결 처리</td><td>커널 이벤트</td><td>이벤트 루프</td><td>채팅/프록시</td><td>select/poll/epoll/kqueue</td></tr><tr><td>완료 통지/Completion</td><td>완료 시 큐 통지</td><td>스레드 효율</td><td>커널 큐</td><td>워커 스레드</td><td>고성능 서버</td><td>IOCP</td></tr><tr><td>트리거 모드 (LT/ET)</td><td>레벨/엣지 통지</td><td>이벤트 처리 전략</td><td>버퍼링</td><td>배압</td><td>epoll ET</td><td>epoll(7)</td></tr></tbody></table><h3 id=14-실무-연관성-매트릭스-2>1.4 실무 연관성 매트릭스<a hidden class=anchor aria-hidden=true href=#14-실무-연관성-매트릭스-2>#</a></h3><table><thead><tr><th>실무 영역</th><th>대표 시나리오</th><th>필요 역량</th><th>기대 효과</th><th>난이도</th><th>ROI</th></tr></thead><tbody><tr><td>대규모 연결</td><td>웹소켓 허브</td><td>이벤트 루프, 백프레셔</td><td>낮은 메모리/높은 동시성</td><td>중</td><td>높음</td></tr><tr><td>배치 파일 I/O</td><td>수십만 파일 처리</td><td>비동기 FS, 스레드풀</td><td>처리량↑</td><td>중</td><td>중</td></tr><tr><td>API 프록시</td><td>L7 TCP/HTTP 프록시</td><td>넌블로킹 소켓</td><td>지연↓</td><td>중</td><td>높음</td></tr></tbody></table><h3 id=15-맞춤-학습-경로-1>1.5 맞춤 학습 경로<a hidden class=anchor aria-hidden=true href=#15-맞춤-학습-경로-1>#</a></h3><ul><li>초심자: P2 → P3 일부 → P6 기본 실습</li><li>실무자: P3 → P5 → P6 → P7</li><li>전문가: P4 심층 → P7 최적화 → P8(필요 시)</li></ul><h3 id=16-특성특징기능역할-요약-2>1.6 특성·특징·기능·역할 요약<a hidden class=anchor aria-hidden=true href=#16-특성특징기능역할-요약-2>#</a></h3><table><thead><tr><th>대상</th><th>장점</th><th>단점</th><th>주요 기능/역할</th></tr></thead><tbody><tr><td>A</td><td>단순, 디버깅 용이</td><td>스레드/메모리 비용, 컨텍스트 스위칭</td><td>저동시성 처리</td></tr><tr><td>B</td><td>낮은 지연, 즉시 반환</td><td>루프/백오프 관리 필요</td><td>폴링/재시도</td></tr><tr><td>C</td><td>확장성, 단일 루프</td><td>복잡성, 플랫폼 차이</td><td>준비 상태 수집/분배</td></tr><tr><td>D</td><td>높은 스케일, 효율</td><td>구현 난이도</td><td>완료 큐 기반 처리</td></tr></tbody></table><p>(검증 대기: 없음)</p><hr><h2 id=phase-2-기초-정립-초심자-필수-2>Phase 2: 기초 정립 (초심자 필수)<a hidden class=anchor aria-hidden=true href=#phase-2-기초-정립-초심자-필수-2>#</a></h2><h3 id=기본-작성-항목>기본 작성 항목<a hidden class=anchor aria-hidden=true href=#기본-작성-항목>#</a></h3><p><strong>정의</strong></p><ul><li>Blocking: 호출이 완료될 때까지 사용자 스레드가 커널에서 대기.</li><li>Non-Blocking: 준비되지 않으면 즉시 실패 (예: <code>EAGAIN</code>) 후 제어권 반환.</li><li>Multiplexing: 다중 FD 를 하나의 대기로 통합.</li><li>Completion: 커널이 완료 이벤트를 큐로 통지.</li></ul><p><strong>배경·필요성</strong></p><ul><li>연결 수와 대기 시간이 늘어날수록 Blocking 의 스레드 비용이 급증 → 멀티플렉싱/완료 통지 사용 동기.</li></ul><p><strong>간단 예시</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-89-1><a class=lnlinks href=#hl-89-1>1</a>
</span><span class=lnt id=hl-89-2><a class=lnlinks href=#hl-89-2>2</a>
</span><span class=lnt id=hl-89-3><a class=lnlinks href=#hl-89-3>3</a>
</span><span class=lnt id=hl-89-4><a class=lnlinks href=#hl-89-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Blocking: read()가 데이터 수신까지 스레드 점유
</span></span><span class=line><span class=cl>Non-Blocking: read()가 EAGAIN 반환 → 루프에서 다시 시도
</span></span><span class=line><span class=cl>Multiplexing: epoll_wait()에서 준비된 소켓 목록을 수신
</span></span><span class=line><span class=cl>Completion: IOCP 큐에서 완료 패킷을 dequeue
</span></span></code></pre></td></tr></table></div></div><p><strong>연결</strong>: P3 에서 커널/런타임 동작 원리 설명.</p><p>(검증 대기: 없음)</p><hr><h2 id=phase-3-핵심-원리-중급-필수-1>Phase 3: 핵심 원리 (중급 필수)<a hidden class=anchor aria-hidden=true href=#phase-3-핵심-원리-중급-필수-1>#</a></h2><h3 id=공통-원리-프레임>공통 원리 프레임<a hidden class=anchor aria-hidden=true href=#공통-원리-프레임>#</a></h3><ul><li>동작 흐름: 입력 (소켓/파일) → 전처리 (논블로킹/등록) → 핵심 로직 (루프/선택기/완료 큐) → 상태/버퍼 관리 → 출력 (응답)</li><li>구성 요소: (필수) 소켓/FD, 이벤트 선택기 (select/poll/epoll/kqueue/IOCP), 이벤트 루프, 버퍼/백프레셔 (선택) 스레드풀, 타이머</li></ul><h3 id=대상별-원리-요약-및-차이점>대상별 원리 요약 및 차이점<a hidden class=anchor aria-hidden=true href=#대상별-원리-요약-및-차이점>#</a></h3><ul><li>A: 사용자 스레드 대기 → 커널 복귀 시 처리 → 단순, 스레드 N 개 필요</li><li>B: 즉시 반환 → 어플리케이션 루프가 준비 상태까지 재시도/대기</li><li>C: 관심 목록에 FD 등록 → 커널이 준비 리스트 작성 → 루프가 준비 이벤트만 처리</li><li>D: 비동기 요청 제출 (OVERLAPPED) → 커널 완료 시 포트에 패킷 enqueue → 워커가 dequeue 후 처리</li></ul><h3 id=기능역할-매핑-표>기능·역할 매핑 표<a hidden class=anchor aria-hidden=true href=#기능역할-매핑-표>#</a></h3><table><thead><tr><th>구성 요소/기능</th><th>역할</th><th>입력/출력</th><th>의존 관계</th><th>주의 사항</th></tr></thead><tbody><tr><td>Selector/epoll/kqueue</td><td>준비 이벤트 수집</td><td>FD 집합/준비 목록</td><td>커널</td><td>ET 모드 시 drain 필수</td></tr><tr><td>IOCP 포트</td><td>완료 통지 큐</td><td>완료 패킷</td><td>커널 스케줄러</td><td>워커 스레드 수 조율</td></tr><tr><td>이벤트 루프</td><td>콜백/태스크 실행</td><td>이벤트/콜백</td><td>타이머, 스케줄러</td><td>장기 작업 금지</td></tr><tr><td>버퍼링</td><td>부분 읽기/쓰기</td><td>바이트 스트림</td><td>소켓/FS</td><td>백프레셔 필수</td></tr></tbody></table><p>(검증 대기: 없음)</p><hr><h2 id=phase-4-특성-평가-1>Phase 4: 특성 평가<a hidden class=anchor aria-hidden=true href=#phase-4-특성-평가-1>#</a></h2><h3 id=비교-우위열위-매트릭스>비교 우위·열위 매트릭스<a hidden class=anchor aria-hidden=true href=#비교-우위열위-매트릭스>#</a></h3><table><thead><tr><th>기준</th><th>A 강점</th><th>A 약점</th><th>C/D 강점</th><th>C/D 약점</th><th>코멘트</th></tr></thead><tbody><tr><td>단순성</td><td>매우 높음</td><td>확장성 낮음</td><td>보통</td><td>복잡도 높음</td><td>팀 역량 고려</td></tr><tr><td>확장성 (연결 수)</td><td>낮음</td><td>스레드 폭증</td><td>매우 높음</td><td>플랫폼 종속</td><td>epoll/kqueue/IOCP</td></tr><tr><td>지연</td><td>안정적</td><td>스케줄링 지연</td><td>낮음</td><td>콜백/큐 관리 비용</td><td>짧은 임계 구역 유지</td></tr><tr><td>자원 효율</td><td>낮음</td><td>스택/컨텍스트 스위칭</td><td>높음</td><td>튜닝 필요</td><td>워커/루프 튜닝</td></tr><tr><td>이식성</td><td>높음</td><td>성능 한계</td><td>보통</td><td>API 차이</td><td>추상화 계층 사용</td></tr></tbody></table><h3 id=개선-포인트-요약-및-보완-전략>개선 포인트 요약 및 보완 전략<a hidden class=anchor aria-hidden=true href=#개선-포인트-요약-및-보완-전략>#</a></h3><table><thead><tr><th>대상</th><th>개선 필요 영역</th><th>즉시 보완</th><th>장기 전략</th><th>예상 영향</th></tr></thead><tbody><tr><td>A</td><td>확장성</td><td>스레드풀/커넥션 제한</td><td>비동기 전환</td><td>메모리·CPU↓</td></tr><tr><td>C</td><td>복잡성</td><td>프레임워크 사용 (libuv/asyncio/NIO)</td><td>통합 관찰</td><td>버그↓</td></tr><tr><td>D</td><td>튜닝</td><td>워커 수/큐 깊이 자동화</td><td>부하 적응</td><td>처리량↑</td></tr></tbody></table><p>(검증 대기: 없음)</p><hr><h2 id=phase-5-구현도구-개발자-2>Phase 5: 구현/도구 (개발자)<a hidden class=anchor aria-hidden=true href=#phase-5-구현도구-개발자-2>#</a></h2><h3 id=구현-필요성-판단-및-대체>구현 필요성 판단 및 대체<a hidden class=anchor aria-hidden=true href=#구현-필요성-판단-및-대체>#</a></h3><ul><li>코드: 권장. 언어별 표준 라이브러리/프레임워크 우선 사용.</li></ul><h3 id=대상별-구현도구-비교>대상별 구현/도구 비교<a hidden class=anchor aria-hidden=true href=#대상별-구현도구-비교>#</a></h3><table><thead><tr><th>항목</th><th>A(Blocking)</th><th>C(멀티플렉싱)</th><th>D(Completion)</th><th>비고</th></tr></thead><tbody><tr><td>Linux/Unix</td><td><code>read/write</code> + 스레드풀</td><td><code>select/poll/epoll</code></td><td>N/A</td><td>epoll 권장</td></tr><tr><td>BSD/macOS</td><td>동일</td><td><code>kqueue</code></td><td>N/A</td><td></td></tr><tr><td>Windows</td><td><code>ReadFile</code>(동기)</td><td>APC/Wait</td><td><code>IOCP</code></td><td>네이티브 권장</td></tr><tr><td>고수준</td><td>Python 스레드</td><td><code>asyncio</code>/<code>selectors</code></td><td>N/A</td><td></td></tr><tr><td>JVM</td><td><code>InputStream</code></td><td><code>java.nio</code> Selector</td><td>N/A</td><td></td></tr><tr><td>Node.js</td><td>동기 fs API</td><td>libuv 기반 논블로킹</td><td>N/A</td><td>기본 논블로킹</td></tr></tbody></table><h3 id=코드-스니펫>코드 스니펫<a hidden class=anchor aria-hidden=true href=#코드-스니펫>#</a></h3><p><strong>Python—Blocking vs asyncio TCP 에코 서버</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-90-1><a class=lnlinks href=#hl-90-1> 1</a>
</span><span class=lnt id=hl-90-2><a class=lnlinks href=#hl-90-2> 2</a>
</span><span class=lnt id=hl-90-3><a class=lnlinks href=#hl-90-3> 3</a>
</span><span class=lnt id=hl-90-4><a class=lnlinks href=#hl-90-4> 4</a>
</span><span class=lnt id=hl-90-5><a class=lnlinks href=#hl-90-5> 5</a>
</span><span class=lnt id=hl-90-6><a class=lnlinks href=#hl-90-6> 6</a>
</span><span class=lnt id=hl-90-7><a class=lnlinks href=#hl-90-7> 7</a>
</span><span class=lnt id=hl-90-8><a class=lnlinks href=#hl-90-8> 8</a>
</span><span class=lnt id=hl-90-9><a class=lnlinks href=#hl-90-9> 9</a>
</span><span class=lnt id=hl-90-10><a class=lnlinks href=#hl-90-10>10</a>
</span><span class=lnt id=hl-90-11><a class=lnlinks href=#hl-90-11>11</a>
</span><span class=lnt id=hl-90-12><a class=lnlinks href=#hl-90-12>12</a>
</span><span class=lnt id=hl-90-13><a class=lnlinks href=#hl-90-13>13</a>
</span><span class=lnt id=hl-90-14><a class=lnlinks href=#hl-90-14>14</a>
</span><span class=lnt id=hl-90-15><a class=lnlinks href=#hl-90-15>15</a>
</span><span class=lnt id=hl-90-16><a class=lnlinks href=#hl-90-16>16</a>
</span><span class=lnt id=hl-90-17><a class=lnlinks href=#hl-90-17>17</a>
</span><span class=lnt id=hl-90-18><a class=lnlinks href=#hl-90-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># blocking_echo.py</span>
</span></span><span class=line><span class=cl><span class=c1># 단순 블로킹 TCP 에코 서버 (학습용)</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>socket</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>HOST</span><span class=p>,</span> <span class=n>PORT</span> <span class=o>=</span> <span class=s2>&#34;0.0.0.0&#34;</span><span class=p>,</span> <span class=mi>9999</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=n>socket</span><span class=o>.</span><span class=n>socket</span><span class=p>(</span><span class=n>socket</span><span class=o>.</span><span class=n>AF_INET</span><span class=p>,</span> <span class=n>socket</span><span class=o>.</span><span class=n>SOCK_STREAM</span><span class=p>)</span> <span class=k>as</span> <span class=n>s</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>s</span><span class=o>.</span><span class=n>setsockopt</span><span class=p>(</span><span class=n>socket</span><span class=o>.</span><span class=n>SOL_SOCKET</span><span class=p>,</span> <span class=n>socket</span><span class=o>.</span><span class=n>SO_REUSEADDR</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>s</span><span class=o>.</span><span class=n>bind</span><span class=p>((</span><span class=n>HOST</span><span class=p>,</span> <span class=n>PORT</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=n>s</span><span class=o>.</span><span class=n>listen</span><span class=p>(</span><span class=mi>128</span><span class=p>)</span>  <span class=c1># 블로킹 accept</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>conn</span><span class=p>,</span> <span class=n>addr</span> <span class=o>=</span> <span class=n>s</span><span class=o>.</span><span class=n>accept</span><span class=p>()</span>  <span class=c1># 연결마다 스레드 필요(생략)</span>
</span></span><span class=line><span class=cl>        <span class=n>data</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>recv</span><span class=p>(</span><span class=mi>4096</span><span class=p>)</span>   <span class=c1># 블로킹 read</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>data</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>conn</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=k>continue</span>
</span></span><span class=line><span class=cl>        <span class=n>conn</span><span class=o>.</span><span class=n>sendall</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>conn</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-91-1><a class=lnlinks href=#hl-91-1> 1</a>
</span><span class=lnt id=hl-91-2><a class=lnlinks href=#hl-91-2> 2</a>
</span><span class=lnt id=hl-91-3><a class=lnlinks href=#hl-91-3> 3</a>
</span><span class=lnt id=hl-91-4><a class=lnlinks href=#hl-91-4> 4</a>
</span><span class=lnt id=hl-91-5><a class=lnlinks href=#hl-91-5> 5</a>
</span><span class=lnt id=hl-91-6><a class=lnlinks href=#hl-91-6> 6</a>
</span><span class=lnt id=hl-91-7><a class=lnlinks href=#hl-91-7> 7</a>
</span><span class=lnt id=hl-91-8><a class=lnlinks href=#hl-91-8> 8</a>
</span><span class=lnt id=hl-91-9><a class=lnlinks href=#hl-91-9> 9</a>
</span><span class=lnt id=hl-91-10><a class=lnlinks href=#hl-91-10>10</a>
</span><span class=lnt id=hl-91-11><a class=lnlinks href=#hl-91-11>11</a>
</span><span class=lnt id=hl-91-12><a class=lnlinks href=#hl-91-12>12</a>
</span><span class=lnt id=hl-91-13><a class=lnlinks href=#hl-91-13>13</a>
</span><span class=lnt id=hl-91-14><a class=lnlinks href=#hl-91-14>14</a>
</span><span class=lnt id=hl-91-15><a class=lnlinks href=#hl-91-15>15</a>
</span><span class=lnt id=hl-91-16><a class=lnlinks href=#hl-91-16>16</a>
</span><span class=lnt id=hl-91-17><a class=lnlinks href=#hl-91-17>17</a>
</span><span class=lnt id=hl-91-18><a class=lnlinks href=#hl-91-18>18</a>
</span><span class=lnt id=hl-91-19><a class=lnlinks href=#hl-91-19>19</a>
</span><span class=lnt id=hl-91-20><a class=lnlinks href=#hl-91-20>20</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># asyncio_echo.py</span>
</span></span><span class=line><span class=cl><span class=c1># asyncio 기반 논블로킹 에코 서버</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>asyncio</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>handle</span><span class=p>(</span><span class=n>reader</span><span class=p>:</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>StreamReader</span><span class=p>,</span> <span class=n>writer</span><span class=p>:</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>StreamWriter</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># 준비된 바이트만 논블로킹으로 읽힘</span>
</span></span><span class=line><span class=cl>    <span class=n>data</span> <span class=o>=</span> <span class=k>await</span> <span class=n>reader</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=mi>4096</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>data</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>writer</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>await</span> <span class=n>writer</span><span class=o>.</span><span class=n>drain</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>writer</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>await</span> <span class=n>writer</span><span class=o>.</span><span class=n>wait_closed</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>server</span> <span class=o>=</span> <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>start_server</span><span class=p>(</span><span class=n>handle</span><span class=p>,</span> <span class=n>host</span><span class=o>=</span><span class=s2>&#34;0.0.0.0&#34;</span><span class=p>,</span> <span class=n>port</span><span class=o>=</span><span class=mi>9999</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>async</span> <span class=k>with</span> <span class=n>server</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>await</span> <span class=n>server</span><span class=o>.</span><span class=n>serve_forever</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>asyncio</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>main</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Node.js—동기 vs 비동기 파일 읽기</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-92-1><a class=lnlinks href=#hl-92-1> 1</a>
</span><span class=lnt id=hl-92-2><a class=lnlinks href=#hl-92-2> 2</a>
</span><span class=lnt id=hl-92-3><a class=lnlinks href=#hl-92-3> 3</a>
</span><span class=lnt id=hl-92-4><a class=lnlinks href=#hl-92-4> 4</a>
</span><span class=lnt id=hl-92-5><a class=lnlinks href=#hl-92-5> 5</a>
</span><span class=lnt id=hl-92-6><a class=lnlinks href=#hl-92-6> 6</a>
</span><span class=lnt id=hl-92-7><a class=lnlinks href=#hl-92-7> 7</a>
</span><span class=lnt id=hl-92-8><a class=lnlinks href=#hl-92-8> 8</a>
</span><span class=lnt id=hl-92-9><a class=lnlinks href=#hl-92-9> 9</a>
</span><span class=lnt id=hl-92-10><a class=lnlinks href=#hl-92-10>10</a>
</span><span class=lnt id=hl-92-11><a class=lnlinks href=#hl-92-11>11</a>
</span><span class=lnt id=hl-92-12><a class=lnlinks href=#hl-92-12>12</a>
</span><span class=lnt id=hl-92-13><a class=lnlinks href=#hl-92-13>13</a>
</span><span class=lnt id=hl-92-14><a class=lnlinks href=#hl-92-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// sync_vs_async_fs.js
</span></span></span><span class=line><span class=cl><span class=c1>// 동기(readFileSync) = 블로킹, 비동기(Promise) = 논블로킹
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>fs</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;fs&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=p>{</span> <span class=nx>readFile</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;fs/promises&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 동기: 이벤트 루프 정지
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>a</span> <span class=o>=</span> <span class=nx>fs</span><span class=p>.</span><span class=nx>readFileSync</span><span class=p>(</span><span class=s1>&#39;./big.txt&#39;</span><span class=p>,</span> <span class=s1>&#39;utf8&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;sync size:&#39;</span><span class=p>,</span> <span class=nx>a</span><span class=p>.</span><span class=nx>length</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 비동기: 콜백/프로미스로 완료 통지
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>(</span><span class=kr>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>b</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>readFile</span><span class=p>(</span><span class=s1>&#39;./big.txt&#39;</span><span class=p>,</span> <span class=s1>&#39;utf8&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;async size:&#39;</span><span class=p>,</span> <span class=nx>b</span><span class=p>.</span><span class=nx>length</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>})();</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Java—NIO Selector 스켈레톤</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-93-1><a class=lnlinks href=#hl-93-1> 1</a>
</span><span class=lnt id=hl-93-2><a class=lnlinks href=#hl-93-2> 2</a>
</span><span class=lnt id=hl-93-3><a class=lnlinks href=#hl-93-3> 3</a>
</span><span class=lnt id=hl-93-4><a class=lnlinks href=#hl-93-4> 4</a>
</span><span class=lnt id=hl-93-5><a class=lnlinks href=#hl-93-5> 5</a>
</span><span class=lnt id=hl-93-6><a class=lnlinks href=#hl-93-6> 6</a>
</span><span class=lnt id=hl-93-7><a class=lnlinks href=#hl-93-7> 7</a>
</span><span class=lnt id=hl-93-8><a class=lnlinks href=#hl-93-8> 8</a>
</span><span class=lnt id=hl-93-9><a class=lnlinks href=#hl-93-9> 9</a>
</span><span class=lnt id=hl-93-10><a class=lnlinks href=#hl-93-10>10</a>
</span><span class=lnt id=hl-93-11><a class=lnlinks href=#hl-93-11>11</a>
</span><span class=lnt id=hl-93-12><a class=lnlinks href=#hl-93-12>12</a>
</span><span class=lnt id=hl-93-13><a class=lnlinks href=#hl-93-13>13</a>
</span><span class=lnt id=hl-93-14><a class=lnlinks href=#hl-93-14>14</a>
</span><span class=lnt id=hl-93-15><a class=lnlinks href=#hl-93-15>15</a>
</span><span class=lnt id=hl-93-16><a class=lnlinks href=#hl-93-16>16</a>
</span><span class=lnt id=hl-93-17><a class=lnlinks href=#hl-93-17>17</a>
</span><span class=lnt id=hl-93-18><a class=lnlinks href=#hl-93-18>18</a>
</span><span class=lnt id=hl-93-19><a class=lnlinks href=#hl-93-19>19</a>
</span><span class=lnt id=hl-93-20><a class=lnlinks href=#hl-93-20>20</a>
</span><span class=lnt id=hl-93-21><a class=lnlinks href=#hl-93-21>21</a>
</span><span class=lnt id=hl-93-22><a class=lnlinks href=#hl-93-22>22</a>
</span><span class=lnt id=hl-93-23><a class=lnlinks href=#hl-93-23>23</a>
</span><span class=lnt id=hl-93-24><a class=lnlinks href=#hl-93-24>24</a>
</span><span class=lnt id=hl-93-25><a class=lnlinks href=#hl-93-25>25</a>
</span><span class=lnt id=hl-93-26><a class=lnlinks href=#hl-93-26>26</a>
</span><span class=lnt id=hl-93-27><a class=lnlinks href=#hl-93-27>27</a>
</span><span class=lnt id=hl-93-28><a class=lnlinks href=#hl-93-28>28</a>
</span><span class=lnt id=hl-93-29><a class=lnlinks href=#hl-93-29>29</a>
</span><span class=lnt id=hl-93-30><a class=lnlinks href=#hl-93-30>30</a>
</span><span class=lnt id=hl-93-31><a class=lnlinks href=#hl-93-31>31</a>
</span><span class=lnt id=hl-93-32><a class=lnlinks href=#hl-93-32>32</a>
</span><span class=lnt id=hl-93-33><a class=lnlinks href=#hl-93-33>33</a>
</span><span class=lnt id=hl-93-34><a class=lnlinks href=#hl-93-34>34</a>
</span><span class=lnt id=hl-93-35><a class=lnlinks href=#hl-93-35>35</a>
</span><span class=lnt id=hl-93-36><a class=lnlinks href=#hl-93-36>36</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// NioEchoSkeleton.java</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// Selector로 다중 연결 처리 (간소화)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=nn>java.io.IOException</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=nn>java.net.InetSocketAddress</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=nn>java.nio.ByteBuffer</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=nn>java.nio.channels.*</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>NioEchoSkeleton</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>Selector</span><span class=w> </span><span class=n>sel</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Selector</span><span class=p>.</span><span class=na>open</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>ServerSocketChannel</span><span class=w> </span><span class=n>ssc</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ServerSocketChannel</span><span class=p>.</span><span class=na>open</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>ssc</span><span class=p>.</span><span class=na>bind</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>InetSocketAddress</span><span class=p>(</span><span class=n>9999</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>ssc</span><span class=p>.</span><span class=na>configureBlocking</span><span class=p>(</span><span class=kc>false</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>ssc</span><span class=p>.</span><span class=na>register</span><span class=p>(</span><span class=n>sel</span><span class=p>,</span><span class=w> </span><span class=n>SelectionKey</span><span class=p>.</span><span class=na>OP_ACCEPT</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>ByteBuffer</span><span class=w> </span><span class=n>buf</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ByteBuffer</span><span class=p>.</span><span class=na>allocate</span><span class=p>(</span><span class=n>4096</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=kc>true</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=n>sel</span><span class=p>.</span><span class=na>select</span><span class=p>();</span><span class=w> </span><span class=c1>// 준비된 키 대기</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>SelectionKey</span><span class=w> </span><span class=n>key</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>sel</span><span class=p>.</span><span class=na>selectedKeys</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>key</span><span class=p>.</span><span class=na>isAcceptable</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=n>SocketChannel</span><span class=w> </span><span class=n>sc</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>((</span><span class=n>ServerSocketChannel</span><span class=p>)</span><span class=w> </span><span class=n>key</span><span class=p>.</span><span class=na>channel</span><span class=p>()).</span><span class=na>accept</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=n>sc</span><span class=p>.</span><span class=na>configureBlocking</span><span class=p>(</span><span class=kc>false</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=n>sc</span><span class=p>.</span><span class=na>register</span><span class=p>(</span><span class=n>sel</span><span class=p>,</span><span class=w> </span><span class=n>SelectionKey</span><span class=p>.</span><span class=na>OP_READ</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>key</span><span class=p>.</span><span class=na>isReadable</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=n>SocketChannel</span><span class=w> </span><span class=n>sc</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>SocketChannel</span><span class=p>)</span><span class=w> </span><span class=n>key</span><span class=p>.</span><span class=na>channel</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=n>buf</span><span class=p>.</span><span class=na>clear</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=kt>int</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>sc</span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=n>buf</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>n</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>sc</span><span class=p>.</span><span class=na>close</span><span class=p>();</span><span class=w> </span><span class=k>continue</span><span class=p>;</span><span class=w> </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=n>buf</span><span class=p>.</span><span class=na>flip</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=n>sc</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=n>buf</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=n>sel</span><span class=p>.</span><span class=na>selectedKeys</span><span class=p>().</span><span class=na>clear</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=운영-관점-비교-표준>운영 관점 비교 (표준)<a hidden class=anchor aria-hidden=true href=#운영-관점-비교-표준>#</a></h3><p><strong>모니터링 표</strong></p><table><thead><tr><th>카테고리</th><th>메트릭</th><th>Blocking</th><th>Multiplexing</th><th>Completion</th><th>정상/경고/위험 기준</th><th>관측 도구</th></tr></thead><tbody><tr><td>스레드</td><td>동시 스레드 수</td><td>높음</td><td>낮음</td><td>낮음</td><td>CPU 대비 과다 시 경고</td><td>JFR, <code>top</code>, <code>htop</code></td></tr><tr><td>대기</td><td>평균 대기 시간</td><td>높음</td><td>중</td><td>중</td><td>큐 대기 증가 시 경고</td><td>APM, custom metrics</td></tr><tr><td>이벤트</td><td>큐 깊이</td><td>N/A</td><td>이벤트 수</td><td>완료 패킷 수</td><td>증가/지속 시 위험</td><td>Prometheus/exporter</td></tr><tr><td>소켓</td><td>수립 연결 수</td><td>낮음</td><td>높음</td><td>높음</td><td>FD 한계 근접 시 경고</td><td><code>ss</code>, <code>lsof</code></td></tr></tbody></table><p><strong>트러블슈팅 표</strong></p><table><thead><tr><th>증상</th><th>Blocking 주요 원인</th><th>Multiplexing 주요 원인</th><th>Completion 주요 원인</th><th>진단 도구</th><th>임시 조치</th><th>근본 해결</th></tr></thead><tbody><tr><td>지연 급증</td><td>스레드 고갈</td><td>루프에 긴 작업</td><td>워커 부족</td><td>프로파일러</td><td>워커/스레드 임시 증설</td><td>비동기화/임계구역 단축</td></tr><tr><td>연결 실패</td><td>FD 제한</td><td>관심 목록 누수</td><td>큐 포화</td><td><code>ulimit</code>, <code>netstat</code></td><td>FD/큐 한도 상향</td><td>리소스 리밋/백프레셔</td></tr><tr><td>CPU 100%</td><td>바쁜 대기</td><td>ET 미드레인</td><td>스핀 루프</td><td><code>perf</code>, flamegraph</td><td>폴링 간격 조정</td><td>상태 머신 정돈</td></tr></tbody></table><p><strong>성능 최적화 체크리스트</strong></p><ul><li>공통: 커넥션 타임아웃, 백프레셔, 소켓 옵션 (TCP_NODELAY, SO_SNDBUF/RCVBUF)</li><li>Multiplexing: ET 사용 시 버퍼 완전 드레인, 우선순위 큐/배치 쓰기</li><li>Completion: 워커 수 = CPU 코어±α, 큐 길이 기반 적응 조절</li></ul><hr><h2 id=phase-6-실무-적용-5>Phase 6: 실무 적용<a hidden class=anchor aria-hidden=true href=#phase-6-실무-적용-5>#</a></h2><h3 id=61-top3-시나리오-적용-가이드>6.1 TOP3 시나리오 적용 가이드<a hidden class=anchor aria-hidden=true href=#61-top3-시나리오-적용-가이드>#</a></h3><ol><li><strong>웹소켓 허브</strong>: Node.js/libuv 또는 Java NIO 채택. 브로드캐스트는 배치/이벤트 결합. 백프레셔 (클라이언트별 send 큐) 필수.</li><li><strong>배치 파일 파이프라인</strong>: Node.js fs/promises 또는 Python <code>asyncio.to_thread</code>/스레드풀 병행. 디스크는 종종 커널 비동기화가 제한되므로 워커풀 크기를 실측 튜닝.</li><li><strong>API 프록시/프론트</strong>: Linux epoll 기반 (nginx/Envoy 유사 패턴). keep-alive 타임아웃·헤드오브라인 블로킹 (HOL) 완화.</li></ol><h3 id=62-통합연계-top-n>6.2 통합/연계 Top-N<a hidden class=anchor aria-hidden=true href=#62-통합연계-top-n>#</a></h3><ul><li>언어별 추상화 사용: libuv(Node), asyncio(Python), NIO(Java). 플랫폼 차이를 흡수.</li><li>운영: FD 한도 (<code>ulimit -n</code>)·포트 범위·커널 네트 튜닝 (<code>somaxconn</code>, <code>tcp_tw_reuse</code> 등) 체크.</li></ul><hr><h2 id=phase-7-비교통합-분석-정리>Phase 7: 비교·통합 분석 정리<a hidden class=anchor aria-hidden=true href=#phase-7-비교통합-분석-정리>#</a></h2><h3 id=비교-기준-및-가중치-설정>비교 기준 및 가중치 설정<a hidden class=anchor aria-hidden=true href=#비교-기준-및-가중치-설정>#</a></h3><table><thead><tr><th>기준</th><th>설명</th><th style=text-align:right>가중치 (%)</th><th>측정 방법</th></tr></thead><tbody><tr><td>확장성</td><td>연결 수/메모리 효율</td><td style=text-align:right>35</td><td>연결 수/FD/메모리</td></tr><tr><td>지연</td><td>p95/p99</td><td style=text-align:right>25</td><td>APM/분산 트레이싱</td></tr><tr><td>복잡성</td><td>개발·디버깅 난도</td><td style=text-align:right>15</td><td>코드 라인/버그율</td></tr><tr><td>이식성</td><td>플랫폼 독립성</td><td style=text-align:right>10</td><td>지원 OS/런타임</td></tr><tr><td>운영성</td><td>모니터링·튜닝 용이</td><td style=text-align:right>15</td><td>도구 지원</td></tr></tbody></table><h3 id=상대-우위-예시-점수>상대 우위 (예시 점수)<a hidden class=anchor aria-hidden=true href=#상대-우위-예시-점수>#</a></h3><table><thead><tr><th>기준</th><th style=text-align:right>Blocking</th><th style=text-align:right>Multiplexing</th><th style=text-align:right>Completion</th><th>코멘트</th></tr></thead><tbody><tr><td>확장성</td><td style=text-align:right>45</td><td style=text-align:right>85</td><td style=text-align:right>90</td><td>IOCP 는 완료형, epoll 은 준비형</td></tr><tr><td>지연</td><td style=text-align:right>70</td><td style=text-align:right>85</td><td style=text-align:right>85</td><td>루프/워커 튜닝 전제</td></tr><tr><td>복잡성</td><td style=text-align:right>90</td><td style=text-align:right>60</td><td style=text-align:right>55</td><td>단순성 점수 높음 (낮을수록 복잡)</td></tr><tr><td>이식성</td><td style=text-align:right>85</td><td style=text-align:right>75</td><td style=text-align:right>50</td><td>IOCP 는 Windows 제한</td></tr><tr><td>운영성</td><td style=text-align:right>70</td><td style=text-align:right>80</td><td style=text-align:right>75</td><td>관측/큐 지표 기반</td></tr></tbody></table><h3 id=a-관점-요약-vs-cd>A 관점 요약 (vs C/D)<a hidden class=anchor aria-hidden=true href=#a-관점-요약-vs-cd>#</a></h3><ul><li><strong>요약</strong>: 단순·안정적이나 대규모 동시성에는 부적합. 내부 배치·관리형 스레드풀로 보완 가능.</li><li><strong>비권장</strong>: 수만 연결 지속 유지 서비스.</li></ul><h3 id=bcd-쌍대-비교-델타-표-핵심>B/C/D 쌍대 비교 델타 표 (핵심)<a hidden class=anchor aria-hidden=true href=#bcd-쌍대-비교-델타-표-핵심>#</a></h3><table><thead><tr><th>범주</th><th>Δ 우세 (승자)</th><th>핵심 근거</th><th>영향/리스크</th></tr></thead><tbody><tr><td>연결 스케일</td><td>C/D</td><td>커널 이벤트 기반</td><td>코드 복잡성 증가</td></tr><tr><td>이식성</td><td>C</td><td>다수 OS 지원</td><td>API 차이</td></tr><tr><td>Windows 네이티브</td><td>D</td><td>IOCP</td><td>플랫폼 종속</td></tr></tbody></table><h3 id=공통점차이점-요약>공통점·차이점 요약<a hidden class=anchor aria-hidden=true href=#공통점차이점-요약>#</a></h3><ul><li>공통: 커널 경계 왕복 비용 최소화가 핵심. 버퍼·백프레셔 중요.</li><li>차이: 준비형 (epoll/kqueue) vs 완료형 (IOCP), 루프/콜백 설계 차이.</li></ul><hr><h2 id=phase-8-심화확장-비활성>Phase 8: 심화/확장 (비활성)<a hidden class=anchor aria-hidden=true href=#phase-8-심화확장-비활성>#</a></h2><p>필요 시 io_uring(리눅스) 등 대안 비교로 확장 가능 (본 문서 범위 외).</p><hr><h2 id=최종-정리-및-학습-가이드-4>최종 정리 및 학습 가이드<a hidden class=anchor aria-hidden=true href=#최종-정리-및-학습-가이드-4>#</a></h2><h3 id=내용-정리-1>내용 정리<a hidden class=anchor aria-hidden=true href=#내용-정리-1>#</a></h3><ul><li>핵심: Blocking=단순/저동시성, Non-Blocking=확장성/복잡성. 멀티플렉싱/완료 통지로 고연결 처리가 가능.</li></ul><h3 id=학습-로드맵-5>학습 로드맵<a hidden class=anchor aria-hidden=true href=#학습-로드맵-5>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-94-1><a class=lnlinks href=#hl-94-1>1</a>
</span><span class=lnt id=hl-94-2><a class=lnlinks href=#hl-94-2>2</a>
</span><span class=lnt id=hl-94-3><a class=lnlinks href=#hl-94-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>입문(1~2주)</span><span class=p>:</span><span class=w> </span><span class=l>기본 용어·개념 → 최소 예시 1개 → 퀴즈</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>실무(1~2주)</span><span class=p>:</span><span class=w> </span><span class=l>원리 → 구현/도구 실습 → 시나리오 적용</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>전문가(3~5일)</span><span class=p>:</span><span class=w> </span><span class=l>운영/최적화 → 대안 비교 → 의사결정 가이드</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=학습-항목>학습 항목<a hidden class=anchor aria-hidden=true href=#학습-항목>#</a></h3><table><thead><tr><th>항목</th><th>세부 내용</th><th style=text-align:right>예상 시간</th><th>선행 조건</th><th>검증 방법</th></tr></thead><tbody><tr><td>개념 기초</td><td>정의/배경/필요성</td><td style=text-align:right>2h</td><td>없음</td><td>요약 작성</td></tr><tr><td>핵심 원리</td><td>구성요소/흐름/역할</td><td style=text-align:right>4h</td><td>기초</td><td>구두 설명</td></tr><tr><td>구현 실습</td><td>코드/설정</td><td style=text-align:right>4h</td><td>원리</td><td>동작 확인</td></tr><tr><td>실무 시나리오</td><td>TOP3 적용</td><td style=text-align:right>6h</td><td>구현</td><td>체크리스트</td></tr><tr><td>운영/최적화</td><td>모니터링/튜닝</td><td style=text-align:right>4h</td><td>시나리오</td><td>KPI 비교</td></tr></tbody></table><hr><h3 id=5-핵심-개념>5. 핵심 개념<a hidden class=anchor aria-hidden=true href=#5-핵심-개념>#</a></h3><h4 id=1-정의-및-이론>(1) 정의 및 이론<a hidden class=anchor aria-hidden=true href=#1-정의-및-이론>#</a></h4><ul><li><strong>Blocking(블로킹)</strong>: 함수 (함수 호출, 시스템 콜 등) 가 완료될 때까지, 프로세스나 스레드의 실행이 멈추고 (제어권을 넘겨주지 않고) 대기하는 구조 [1][7][3][4].</li><li><strong>Non-Blocking(논블로킹)</strong>: 함수가 즉시 반환되며, 해당 작업의 완료 여부와 상관없이 프로세스나 스레드가 계속 실행 (제어권을 즉시 반환) 되는 구조.</li></ul><h4 id=2-실무에서-꼭-알아야-하는-포인트>(2) 실무에서 꼭 알아야 하는 포인트<a hidden class=anchor aria-hidden=true href=#2-실무에서-꼭-알아야-하는-포인트>#</a></h4><ul><li>Non-Blocking 은 콜백 (Callback), 이벤트 (Event), Future/Promise 등 비동기 (Asynchronous) 기술과 밀접하게 연관됨.</li><li>멀티스레딩, 네트워크 서버, UI 등에서 효율·응답성·확장성을 위해 반드시 고려.</li><li>블로킹은 단일 작업에 집중하며 예측 가능한 처리에 적합, 논블로킹은 복잡한 자원 관리, 에러 처리, 레이스 컨디션 (race condition) 방지가 필요 [2][8][9].</li></ul><h4 id=51-실무-연관성-분석>5.1. 실무 연관성 분석<a hidden class=anchor aria-hidden=true href=#51-실무-연관성-분석>#</a></h4><ul><li><strong>Blocking</strong>: 동기적 (synchronous) I/O 처리, 단순 제어 플로우, 예측 가능한 타이밍, 구현이 단순.</li><li><strong>Non-Blocking</strong>: 비동기 (asynchronous) 기반 네트워크 서버, HTAP(Hybrid Transactional/Analytical Processing) 시스템, 프론트엔드 (브라우저, 모바일) 에서 사용자 경험 (UX) 극대화, 대규모 트래픽 및 대기 없는 작업 관리에 최적</li></ul></div></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>