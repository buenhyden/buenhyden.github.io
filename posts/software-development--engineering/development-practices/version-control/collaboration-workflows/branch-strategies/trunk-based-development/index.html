<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Trunk-based Development | hyunyoun's Blog</title><meta name=keywords content="DevOps-and-Infrastructure,Version-Control-Systems,Git-Workflow,Branch-strategies"><meta name=description content="Trunk-based Development는 모든 개발자가 단일 메인 브랜치에 작고 빈번한 변경사항을 통합하는 현대적인 개발 방법론으로, 지속적 통합과 배포의 핵심 전제조건이다. 짧은 수명의 브랜치와 강력한 자동화 테스트, 피처 플래그를 활용하여 병합 충돌을 최소화하고 배포 속도를 극대화하며, 대규모 조직에서도 성공적으로 적용되고 있다. 높은 팀 규율과 강력한 테스트 인프라가 필요하지만, 현대 DevOps 환경에서 가장 효율적인 브랜치 전략으로 인정받고 있습니다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/software-development--engineering/development-practices/version-control/collaboration-workflows/branch-strategies/trunk-based-development/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.8762af4fa9ee176c57f72565b721f234162fc7a9c882a271e0a1f68c4e89fb34.css integrity="sha256-h2KvT6nuF2xX9yVltyHyNBYvx6nIgqJx4KH2jE6J+zQ=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/software-development--engineering/development-practices/version-control/collaboration-workflows/branch-strategies/trunk-based-development/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/software-development--engineering/development-practices/version-control/collaboration-workflows/branch-strategies/trunk-based-development/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Trunk-based Development"><meta property="og:description" content="Trunk-based Development는 모든 개발자가 단일 메인 브랜치에 작고 빈번한 변경사항을 통합하는 현대적인 개발 방법론으로, 지속적 통합과 배포의 핵심 전제조건이다. 짧은 수명의 브랜치와 강력한 자동화 테스트, 피처 플래그를 활용하여 병합 충돌을 최소화하고 배포 속도를 극대화하며, 대규모 조직에서도 성공적으로 적용되고 있다. 높은 팀 규율과 강력한 테스트 인프라가 필요하지만, 현대 DevOps 환경에서 가장 효율적인 브랜치 전략으로 인정받고 있습니다."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-09-29T13:47:00+00:00"><meta property="article:modified_time" content="2024-09-29T13:47:00+00:00"><meta property="article:tag" content="DevOps-and-Infrastructure"><meta property="article:tag" content="Version-Control-Systems"><meta property="article:tag" content="Git-Workflow"><meta property="article:tag" content="Branch-Strategies"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Trunk-based Development"><meta name=twitter:description content="Trunk-based Development는 모든 개발자가 단일 메인 브랜치에 작고 빈번한 변경사항을 통합하는 현대적인 개발 방법론으로, 지속적 통합과 배포의 핵심 전제조건이다. 짧은 수명의 브랜치와 강력한 자동화 테스트, 피처 플래그를 활용하여 병합 충돌을 최소화하고 배포 속도를 극대화하며, 대규모 조직에서도 성공적으로 적용되고 있다. 높은 팀 규율과 강력한 테스트 인프라가 필요하지만, 현대 DevOps 환경에서 가장 효율적인 브랜치 전략으로 인정받고 있습니다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"HY's Blog","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":7,"name":"Trunk-based Development","item":"https://buenhyden.github.io/posts/software-development--engineering/development-practices/version-control/collaboration-workflows/branch-strategies/trunk-based-development/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Trunk-based Development","name":"Trunk-based Development","description":"Trunk-based Development는 모든 개발자가 단일 메인 브랜치에 작고 빈번한 변경사항을 통합하는 현대적인 개발 방법론으로, 지속적 통합과 배포의 핵심 전제조건이다. 짧은 수명의 브랜치와 강력한 자동화 테스트, 피처 플래그를 활용하여 병합 충돌을 최소화하고 배포 속도를 극대화하며, 대규모 조직에서도 성공적으로 적용되고 있다. 높은 팀 규율과 강력한 테스트 인프라가 필요하지만, 현대 DevOps 환경에서 가장 효율적인 브랜치 전략으로 인정받고 있습니다.","keywords":["DevOps-and-Infrastructure","Version-Control-Systems","Git-Workflow","Branch-strategies"],"articleBody":"Trunk-based Development Trunk-based Development(TBD)는 모든 개발자가 단일 메인 브랜치(trunk)에 작고 빈번한 변경사항을 직접 통합하는 버전 관리 방법론이다. 이는 지속적 통합(CI)과 지속적 배포(CD)의 필수 전제조건으로, 현대 DevOps 환경에서 가장 효율적인 브랜치 전략으로 인정받고 있다. 긴 수명의 기능 브랜치 대신 짧은 수명의 브랜치나 직접 커밋을 통해 코드 통합의 마찰을 최소화하고, 항상 배포 가능한 상태의 코드베이스를 유지하는 것이 핵심이다.\n핵심 개념 Trunk-based Development의 핵심 개념은 다음과 같다:\n단일 메인 브랜치: 모든 개발이 하나의 trunk(main/master) 브랜치에 집중 작고 빈번한 커밋: 작업을 작은 단위로 나누어 자주 통합 짧은 수명의 브랜치: 필요한 경우 최대 1-2일 이내의 피처 브랜치 사용 지속적 통합: 하루에 여러 번 코드 통합 및 자동화된 테스트 항상 릴리스 가능한 상태: trunk는 언제나 프로덕션 배포가 가능한 상태 유지 피처 플래그: 미완성 기능을 main에 통합하되 런타임에 비활성화 graph TD main[main 브랜치] --\u003e|분기| feature[feature/기능] feature --\u003e|풀 리퀘스트| main main --\u003e|자동 배포| Production 목적 코드 통합의 복잡성과 병합 충돌 최소화 개발 및 배포 속도 극대화 지속적 통합/배포(CI/CD) 실현 팀 협업 효율성 향상 코드베이스의 일관성과 품질 유지 빠른 피드백 사이클 구현 필요성 현대 DevOps 및 애자일 개발 방법론의 요구사항 충족 마이크로서비스 아키텍처에서의 빠른 배포 필요 대규모 개발팀의 효율적인 협업 지원 병합 지옥(merge hell) 방지 지속적 배포를 통한 경쟁력 확보 고품질 소프트웨어의 빠른 출시 요구 역할 개발 프로세스 단순화: 복잡한 브랜치 모델 제거 배포 주기 가속화: 빠른 릴리스 사이클 지원 품질 보증: 지속적인 테스트를 통한 품질 유지 팀 협업 강화: 코드 리뷰와 페어 프로그래밍 촉진 기술 부채 방지: 장기 브랜치로 인한 기술 부채 최소화 특징 브랜치 최소화 통합의 빈도 극대화 Feature Toggle 사용 권장 Conflict를 예방하는 설계 주요 기능 직접 trunk 커밋: 소규모 팀의 경우 trunk에 직접 커밋 Pull Request 워크플로우: 코드 리뷰를 위한 짧은 수명의 브랜치 자동화된 테스트: 모든 커밋에 대한 자동 테스트 실행 피처 플래그: 기능의 점진적 롤아웃 지원 지속적 통합: 자동화된 빌드 및 테스트 파이프라인 브랜치별 CI: PR/브랜치 단위 자동화 검증 주요 원리 Trunk-based Development의 주요 원리는 다음 다이어그램으로 표현할 수 있다:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 Trunk-based Development 원리 [Single Trunk Branch (main/master)] │ │ Daily commits ├─── [Developer 1] ─── Small changes ─→ CI/CD → Deploy │ ├─── [Developer 2] ─── Small changes ─→ CI/CD → Deploy │ └─── [Developer N] ─── Small changes ─→ CI/CD → Deploy Key Principles: 1. Single Source of Truth (하나의 trunk) 2. Frequent Integration (하루 여러번 통합) 3. Small Commits (작은 변경 단위) 4. Always Releasable (항상 배포 가능한 상태) 5. Automated Testing (자동화된 테스트) 6. Feature Flags (기능 토글) 작동 순서:\ntrunk 또는 main에서 짧은-lived 브랜치 생성 기능 개발 및 단위 테스트 Pull Request(Push) 후 CI 실행 성공 시 trunk로 병합 병합된 상태는 항상 배포 가능한 상태 유지 작동 원리 Trunk-based Development의 작동 원리는 다음과 같은 흐름을 따른다:\n소규모 팀 워크플로우 1 2 3 [개발자] → [직접 trunk 커밋] → [CI 실행] → [자동 배포] ↑ │ └────────── 피드백 ─────────────────────┘ 대규모 팀 워크플로우 1 2 3 4 5 6 7 [개발자] → [짧은 피처 브랜치] → [Pull Request] → [코드 리뷰] │ ┌───────────────────────────────────┘ ↓ [CI 테스트 통과] → [trunk 병합] → [자동 배포] │ │ └── 실패시 즉시 수정 ────────┘ 상세 작동 과정:\n개발 시작\n1 2 git checkout main git pull origin main 기능 개발 (선택적 짧은 브랜치)\n1 2 3 git checkout -b short-lived-feature # 작업 진행 (최대 1-2일) git commit -m \"feat: small incremental change\" 코드 리뷰 및 CI 검증\nPull Request 생성 자동화된 테스트 실행 팀원 코드 리뷰 main 브랜치 병합\n1 2 3 git checkout main git merge short-lived-feature git push origin main 지속적 배포\nCI/CD 파이프라인 자동 실행 프로덕션 배포 구성 요소 및 아키텍처 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 ┌──────────────────────────────────────────────────────────────┐ │ Trunk-based Development Architecture │ ├──────────────────────────────────────────────────────────────┤ │ │ │ ┌─────────────┐ ┌────────────────┐ ┌───────────────┐ │ │ │ Developers │ │ CI/CD Pipeline │ │ Production │ │ │ │ │ │ │ │ Environment │ │ │ └──────┬──────┘ └───────┬────────┘ └───────┬───────┘ │ │ │ │ │ │ │ ▼ │ │ │ │ ┌─────────────┐ │ │ │ │ │ Short-lived │ │ │ │ │ │ Branches │─────┐ │ │ │ │ └─────────────┘ │ │ │ │ │ ▼ ▼ │ │ │ ┌─────────────┐ │ │ │ │ TRUNK │ ◄────────────────┘ │ │ │ (main/master) │ │ │ └──────┬──────┘ │ │ │ │ │ ┌──────────────┴──────────────┐ │ │ ▼ ▼ │ │ ┌─────────────┐ ┌─────────────┐ │ │ │ Automated │ │ Feature │ │ │ │ Tests │ │ Flags │ │ │ └─────────────┘ └─────────────┘ │ │ │ └──────────────────────────────────────────────────────────┘ 구성 요소 기능 역할 Trunk Branch 메인 개발 라인 모든 개발의 중심점, 항상 배포 가능한 상태 유지 Short-lived Branches 임시 작업 공간 코드 리뷰용, 최대 1-2일 수명 CI/CD Pipeline 자동화 도구 빌드, 테스트, 배포 자동화 Feature Flags 기능 토글 시스템 미완성 기능 런타임 제어 Automated Tests 품질 보증 코드 변경의 안정성 검증 Code Review System 협업 도구 Pull Request를 통한 품질 관리 장점과 단점 구분 항목 설명 ✅ 장점 빠른 개발 속도 병합 지연 없이 신속한 기능 출시 병합 충돌 최소화 작고 빈번한 통합으로 충돌 감소 지속적 통합 최적화 CI/CD와 완벽한 조화 코드 품질 향상 작은 변경으로 리뷰 용이성 증가 팀 협업 강화 모든 개발자가 같은 코드베이스 공유 기술 부채 감소 장기 브랜치로 인한 문제 제거 ⚠ 단점 높은 규율 요구 팀원 모두의 책임감 필요 강력한 테스트 필수 자동화된 테스트 인프라 필요 피처 플래그 복잡성 런타임 토글 관리 오버헤드 초보자 어려움 경험 많은 개발자 필요 지속적 모니터링 필요 trunk 안정성 상시 감시 테스트 부담 병합 전 모든 테스트 통과 필수로 부담 증가 Trunk-based Development 시작하기 Trunk-based Development는 다음과 같은 핵심 원칙을 가지고 있다:\n단일 메인 브랜치 사용 짧은 수명의 기능 브랜치 (최대 1-2일) 빈번한 통합 (하루에 여러 번) 기능 플래그(Feature Flags) 활용 강력한 자동화 테스트 실제 프로젝트 시나리오: 금융 서비스 플랫폼 “FinTech Pro”\n프로젝트 구조 및 초기 설정 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 # 저장소 구조 fintech-pro/ ├── .github/ │ └── workflows/ │ ├── ci.yml │ ├── deploy.yml │ └── release.yml ├── src/ │ ├── features/ │ ├── core/ │ └── shared/ ├── tests/ ├── config/ │ └── feature-flags.json └── scripts/ └── release.sh Feature Flags 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 // src/lib/feature-flags.js class FeatureFlagService { constructor() { this.flags = {}; this.userOverrides = {}; } async loadFlags() { const response = await fetch('/api/feature-flags'); this.flags = await response.json(); } isEnabled(flagName, userId = null) { const flag = this.flags[flagName]; if (!flag) return false; // 사용자별 오버라이드 확인 if (userId \u0026\u0026 this.userOverrides[userId]?.[flagName] !== undefined) { return this.userOverrides[userId][flagName]; } // 기본 활성화 상태 확인 if (flag.enabled === false) return false; // 점진적 롤아웃 확인 if (flag.rollout) { if (userId \u0026\u0026 flag.rollout.targetUsers?.includes(userId)) { return true; } if (flag.rollout.percentage \u003e 0) { // 사용자 ID를 기반으로 일관된 해시 생성 const hash = this.hashUserId(userId); return (hash % 100) \u003c flag.rollout.percentage; } } return flag.enabled; } // A/B 테스팅을 위한 변형 선택 getVariant(flagName, userId) { const flag = this.flags[flagName]; if (!flag?.variants) return 'control'; const hash = this.hashUserId(userId); const variantIndex = hash % flag.variants.length; return flag.variants[variantIndex]; } private hashUserId(userId) { if (!userId) return Math.random() * 100; let hash = 0; for (let i = 0; i \u003c userId.length; i++) { hash = ((hash \u003c\u003c 5) - hash) + userId.charCodeAt(i); hash = hash \u0026 hash; // Convert to 32-bit integer } return Math.abs(hash); } } // 사용 예시 const featureFlags = new FeatureFlagService(); // React 컴포넌트에서 사용 function PaymentButton({ userId }) { const isNewCheckoutEnabled = featureFlags.isEnabled('newCheckout', userId); const checkoutVariant = featureFlags.getVariant('checkoutExperiment', userId); if (!isNewCheckoutEnabled) { return \u003cLegacyCheckoutButton /\u003e; } switch (checkoutVariant) { case 'variantA': return \u003cCheckoutButtonA /\u003e; case 'variantB': return \u003cCheckoutButtonB /\u003e; default: return \u003cDefaultCheckoutButton /\u003e; } } 시나리오 1: 일상적인 기능 개발 상황: 개발자가 새로운 사용자 프로필 기능을 추가\nStep 1: 작업 준비\n1 2 3 4 5 6 7 # 1.1 최신 main 브랜치 동기화 git checkout main git pull origin main # 1.2 작업 환경 확인 npm install npm test Step 2: 기능 플래그 설정\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 # 2.1 기능 플래그 추가 cat \u003e config/feature-flags.json \u003c\u003c EOF { \"features\": { \"userProfile\": { \"enabled\": false, \"description\": \"New user profile page\", \"createdAt\": \"2024-03-15T10:00:00Z\", \"owner\": \"dev@company.com\" } } } EOF # 2.2 기능 플래그 커밋 git add config/feature-flags.json git commit -m \"feat: add feature flag for user profile\" git push origin main Step 3: 기능 구현\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 # 3.1 프로필 컴포넌트 생성 mkdir -p src/components/UserProfile touch src/components/UserProfile/UserProfile.jsx # 3.2 컴포넌트 코드 작성 cat \u003e src/components/UserProfile/UserProfile.jsx \u003c\u003c EOF import { useFeatureFlag } from '@/hooks/useFeatureFlag'; export function UserProfile({ userId }) { const isEnabled = useFeatureFlag('userProfile'); if (!isEnabled) { return ; } return ( ); } EOF # 3.3 구현 커밋 git add src/components/UserProfile/ git commit -m \"feat: implement basic user profile component\" git push origin main Step 4: 테스트 작성\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 # 4.1 테스트 파일 생성 touch src/components/UserProfile/UserProfile.test.jsx # 4.2 테스트 코드 작성 cat \u003e src/components/UserProfile/UserProfile.test.jsx \u003c\u003c EOF import { render, screen } from '@testing-library/react'; import { UserProfile } from './UserProfile'; jest.mock('@/hooks/useFeatureFlag', () =\u003e ({ useFeatureFlag: jest.fn() })); describe('UserProfile', () =\u003e { it('shows legacy profile when feature is disabled', () =\u003e { useFeatureFlag.mockReturnValue(false); render(); expect(screen.getByTestId('legacy-profile')).toBeInTheDocument(); }); it('shows new profile when feature is enabled', () =\u003e { useFeatureFlag.mockReturnValue(true); render(); expect(screen.getByTestId('new-profile')).toBeInTheDocument(); }); }); EOF # 4.3 테스트 실행 및 커밋 npm test git add src/components/UserProfile/UserProfile.test.jsx git commit -m \"test: add tests for user profile component\" git push origin main Step 5: 단계적 활성화\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 # 5.1 개발 환경에서 기능 활성화 cat \u003e config/feature-flags.dev.json \u003c\u003c EOF { \"features\": { \"userProfile\": { \"enabled\": true } } } EOF # 5.2 변경사항 커밋 git add config/feature-flags.dev.json git commit -m \"feat: enable user profile in dev environment\" git push origin main 시나리오 2: 긴급 버그 수정 (Hotfix) 상황: 프로덕션에서 결제 실패 버그 발견\nStep 1: 문제 확인\n1 2 3 4 5 6 7 8 # 1.1 최신 코드 동기화 git checkout main git pull origin main # 1.2 로그 확인 및 문제 재현 npm run logs:prod # Error: Cannot read property 'amount' of undefined # at PaymentService.processPayment (payment.service.js:45) Step 2: 버그 수정\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 # 2.1 문제가 있는 코드 확인 cat src/services/payment.service.js # Line 45: const amount = transaction.amount; # 2.2 버그 수정 cat \u003e src/services/payment.service.js \u003c\u003c EOF export class PaymentService { async processPayment(transaction) { // 버그 수정: null 체크 추가 if (!transaction || !transaction.amount) { throw new Error('Invalid transaction data'); } const amount = transaction.amount; // … 나머지 코드 } } EOF # 2.3 수정사항 커밋 git add src/services/payment.service.js git commit -m \"fix: add null check for transaction in payment service\" Step 3: 테스트 추가\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 # 3.1 테스트 케이스 추가 cat \u003e\u003e src/services/payment.service.test.js \u003c\u003c EOF test('should throw error for null transaction', async () =\u003e { const service = new PaymentService(); await expect(service.processPayment(null)) .rejects.toThrow('Invalid transaction data'); }); test('should throw error for transaction without amount', async () =\u003e { const service = new PaymentService(); await expect(service.processPayment({})) .rejects.toThrow('Invalid transaction data'); }); EOF # 3.2 테스트 실행 npm test src/services/payment.service.test.js # 3.3 테스트 커밋 git add src/services/payment.service.test.js git commit -m \"test: add tests for payment service null checks\" Step 4: 배포\n1 2 3 4 5 6 7 8 9 10 11 12 # 4.1 변경사항 푸시 git push origin main # 4.2 CI/CD 파이프라인 모니터링 # GitHub Actions에서 자동으로: # - 테스트 실행 # - 빌드 # - 스테이징 배포 # - 프로덕션 배포 # 4.3 배포 확인 npm run health-check:prod 시나리오 3: 대규모 기능 개발 상황: 여러 개발자가 새로운 대시보드 시스템 구현\nStep 1: 기능 플래그와 아키텍처 설계\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 # 1.1 팀 미팅 후 기능 플래그 구조 설계 cat \u003e config/feature-flags.json \u003c\u003c EOF { \"features\": { \"newDashboard\": { \"enabled\": false, \"components\": { \"layout\": false, \"widgets\": false, \"analytics\": false, \"charts\": false }, \"rollout\": { \"percentage\": 0, \"targetGroups\": [\"beta\", \"internal\"], \"excludeGroups\": [\"enterprise\"] } } } } EOF # 1.2 아키텍처 문서 작성 cat \u003e docs/new-dashboard-architecture.md \u003c\u003c EOF # New Dashboard Architecture ## Components 1. Layout System 2. Widget Framework 3. Analytics Engine 4. Chart Library ## Implementation Phases - Phase 1: Basic Layout (Developer A) - Phase 2: Widget System (Developer B) - Phase 3: Analytics (Developer C) - Phase 4: Interactive Charts (Developer D) EOF git add config/feature-flags.json docs/ git commit -m \"docs: add new dashboard architecture and feature flags\" git push origin main Step 2: 개발자 A - 레이아웃 시스템\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 # 2.1 최신 변경사항 동기화 git pull origin main # 2.2 레이아웃 컴포넌트 구현 mkdir -p src/components/Dashboard/Layout cat \u003e src/components/Dashboard/Layout/DashboardLayout.jsx \u003c\u003c EOF export function DashboardLayout({ children }) { const { isEnabled, getComponent } = useFeatureFlag('newDashboard'); if (!isEnabled || !getComponent('layout')) { return {children}; } return ( {children} ); } EOF # 2.3 테스트 작성 cat \u003e src/components/Dashboard/Layout/DashboardLayout.test.jsx \u003c\u003c EOF describe('DashboardLayout', () =\u003e { it('renders legacy dashboard when feature is disabled', () =\u003e { // 테스트 코드 }); it('renders new layout when feature is enabled', () =\u003e { // 테스트 코드 }); }); EOF # 2.4 커밋 및 푸시 git add src/components/Dashboard/Layout/ git commit -m \"feat: implement dashboard layout system\" git push origin main Step 3: 개발자 B - 위젯 시스템 (동시 작업)\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 # 3.1 최신 변경사항 동기화 git pull origin main # 3.2 위젯 프레임워크 구현 mkdir -p src/components/Dashboard/Widgets cat \u003e src/components/Dashboard/Widgets/WidgetContainer.jsx \u003c\u003c EOF export function WidgetContainer({ type, data }) { const { getComponent } = useFeatureFlag('newDashboard'); if (!getComponent('widgets')) { return null; } const Widget = widgetRegistry[type]; if (!Widget) { console.error(`Unknown widget type: ${type}`); return null; } return ( ); } EOF # 3.3 위젯 레지스트리 생성 cat \u003e src/components/Dashboard/Widgets/registry.js \u003c\u003c EOF export const widgetRegistry = { 'chart': ChartWidget, 'stats': StatsWidget, 'table': TableWidget, 'timeline': TimelineWidget }; EOF # 3.4 커밋 및 푸시 git add src/components/Dashboard/Widgets/ git commit -m \"feat: implement widget framework for dashboard\" git push origin main Step 4: 통합 및 테스트\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 # 4.1 통합 테스트 작성 cat \u003e src/components/Dashboard/Dashboard.integration.test.jsx \u003c\u003c EOF describe('Dashboard Integration', () =\u003e { beforeEach(() =\u003e { // 모든 기능 플래그 활성화 mockFeatureFlags({ newDashboard: { enabled: true, components: { layout: true, widgets: true, analytics: true, charts: true } } }); }); it('renders complete dashboard with all components', () =\u003e { render(); expect(screen.getByTestId('dashboard-layout')).toBeInTheDocument(); expect(screen.getByTestId('widget-container')).toBeInTheDocument(); expect(screen.getByTestId('analytics-panel')).toBeInTheDocument(); }); }); EOF # 4.2 E2E 테스트 작성 cat \u003e tests/e2e/dashboard.spec.js \u003c\u003c EOF describe('Dashboard E2E', () =\u003e { it('loads dashboard with feature flags', () =\u003e { cy.visit('/dashboard'); cy.getCookie('featureFlags').should('exist'); cy.get('[data-testid=\"dashboard-layout\"]').should('be.visible'); }); }); EOF git add src/components/Dashboard/*.test.jsx tests/e2e/ git commit -m \"test: add integration and e2e tests for dashboard\" git push origin main 시나리오 4: 점진적 배포 (Progressive Rollout) 상황: 새로운 검색 기능을 단계적으로 배포\nStep 1: 초기 설정\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 # 1.1 기능 플래그 구성 cat \u003e config/feature-flags.json \u003c\u003c EOF { \"features\": { \"newSearch\": { \"enabled\": true, \"rollout\": { \"percentage\": 0, \"stages\": [ { \"percentage\": 5, \"date\": \"2024-03-15\" }, { \"percentage\": 25, \"date\": \"2024-03-17\" }, { \"percentage\": 50, \"date\": \"2024-03-19\" }, { \"percentage\": 100, \"date\": \"2024-03-21\" } ] }, \"monitoring\": { \"errorThreshold\": 0.01, \"latencyThreshold\": 200 } } } } EOF git add config/feature-flags.json git commit -m \"feat: configure progressive rollout for new search\" git push origin main Step 2: 모니터링 설정\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 # 2.1 모니터링 대시보드 구성 cat \u003e monitoring/dashboards/search-rollout.json \u003c\u003c EOF { \"dashboard\": \"Search Feature Rollout\", \"panels\": [ { \"title\": \"Error Rate by Search Version\", \"metrics\": [ \"search.errors.new\", \"search.errors.legacy\" ] }, { \"title\": \"Search Latency\", \"metrics\": [ \"search.latency.p95.new\", \"search.latency.p95.legacy\" ] }, { \"title\": \"User Distribution\", \"metrics\": [ \"search.users.new\", \"search.users.legacy\" ] } ] } EOF # 2.2 알림 규칙 설정 cat \u003e monitoring/alerts/search-rollout.yaml \u003c\u003c EOF alerts: - name: high_error_rate condition: search.errors.new \u003e 0.01 duration: 5m action: rollback_feature - name: high_latency condition: search.latency.p95.new \u003e 200ms duration: 10m action: notify_team EOF git add monitoring/ git commit -m \"feat: add monitoring for search rollout\" git push origin main Step 3: 자동 롤아웃 스크립트\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 # 3.1 롤아웃 자동화 스크립트 cat \u003e scripts/progressive-rollout.js \u003c\u003c EOF const { FeatureFlags } = require('../lib/feature-flags'); const { Monitoring } = require('../lib/monitoring'); async function progressiveRollout(featureName) { const flags = new FeatureFlags(); const monitoring = new Monitoring(); const feature = await flags.getFeature(featureName); const currentStage = getCurrentStage(feature.rollout.stages); if (!currentStage) { console.log('Rollout complete'); return; } // 다음 단계로 진행 await flags.updateRollout(featureName, { percentage: currentStage.percentage }); // 30분 모니터링 await monitorRollout(featureName, 30 * 60 * 1000); // 메트릭 확인 const metrics = await monitoring.getFeatureMetrics(featureName); if (metrics.errorRate \u003e feature.monitoring.errorThreshold) { console.error('Error threshold exceeded, rolling back'); await flags.rollback(featureName); return; } console.log(`Successfully rolled out to ${currentStage.percentage}%`); } // 매일 실행되는 cron job progressiveRollout('newSearch'); EOF # 3.2 GitHub Actions 워크플로우 cat \u003e .github/workflows/progressive-rollout.yml \u003c\u003c EOF name: Progressive Feature Rollout on: schedule: - cron: '0 0 * * *' # 매일 자정 실행 workflow_dispatch: # 수동 실행 가능 jobs: rollout: runs-on: ubuntu-latest steps: - uses: actions/checkout@v3 - name: Setup Node.js uses: actions/setup-node@v3 - name: Run rollout script run: node scripts/progressive-rollout.js env: FEATURE_FLAGS_API_KEY: ${{ secrets.FEATURE_FLAGS_API_KEY }} - name: Notify on failure if: failure() uses: slackapi/slack-github-action@v1.24.0 with: payload: | { \"text\": \"⚠️ Feature rollout failed\", \"blocks\": [ { \"type\": \"section\", \"text\": { \"type\": \"mrkdwn\", \"text\": \"Progressive rollout failed for feature: newSearch\" } } ] } env: SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK }} EOF git add scripts/ .github/workflows/ git commit -m \"feat: add progressive rollout automation\" git push origin main Step 4: 사용자 피드백 수집\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 # 4.1 피드백 수집 컴포넌트 cat \u003e src/components/Feedback/FeatureFeedback.jsx \u003c\u003c EOF export function FeatureFeedback({ featureName }) { const [feedback, setFeedback] = useState(''); const [rating, setRating] = useState(0); const submitFeedback = async () =\u003e { await api.post('/feedback', { feature: featureName, rating, comment: feedback, version: isFeatureEnabled(featureName) ? 'new' : 'legacy' }); }; return ( How's the new {featureName}? ","wordCount":"6299","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-09-29T13:47:00Z","dateModified":"2024-09-29T13:47:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/software-development--engineering/development-practices/version-control/collaboration-workflows/branch-strategies/trunk-based-development/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>HY's Blog</a></div><h1 class="post-title entry-hint-parent">Trunk-based Development</h1><div class=post-description>Trunk-based Development는 모든 개발자가 단일 메인 브랜치에 작고 빈번한 변경사항을 통합하는 현대적인 개발 방법론으로, 지속적 통합과 배포의 핵심 전제조건이다. 짧은 수명의 브랜치와 강력한 자동화 테스트, 피처 플래그를 활용하여 병합 충돌을 최소화하고 배포 속도를 극대화하며, 대규모 조직에서도 성공적으로 적용되고 있다. 높은 팀 규율과 강력한 테스트 인프라가 필요하지만, 현대 DevOps 환경에서 가장 효율적인 브랜치 전략으로 인정받고 있습니다.</div><div class=post-meta><span title='2024-09-29 13:47:00 +0000 UTC'>September 29, 2024</span>&nbsp;·&nbsp;30 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Software%20Development%20&%20Engineering/Development%20Practices/Version%20Control/Collaboration%20Workflows/Branch%20strategies/trunk-based-development.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#trunk-based-development>Trunk-based Development</a></li><li><a href=#핵심-개념>핵심 개념</a><ul><li><a href=#목적>목적</a></li><li><a href=#필요성>필요성</a></li><li><a href=#역할>역할</a></li><li><a href=#특징>특징</a></li><li><a href=#주요-기능>주요 기능</a></li><li><a href=#주요-원리>주요 원리</a></li><li><a href=#작동-원리>작동 원리</a></li><li><a href=#구성-요소-및-아키텍처>구성 요소 및 아키텍처</a></li><li><a href=#장점과-단점>장점과 단점</a></li><li><a href=#trunk-based-development-시작하기>Trunk-based Development 시작하기</a></li><li><a href=#실무-적용-예시>실무 적용 예시</a></li><li><a href=#활용한-예시>활용한 예시</a></li><li><a href=#실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점</a></li><li><a href=#최적화하기-위한-고려사항-및-주의할-점>최적화하기 위한 고려사항 및 주의할 점</a></li><li><a href=#최신-동향>최신 동향</a></li><li><a href=#주목해야-할-기술>주목해야 할 기술</a></li><li><a href=#앞으로의-전망>앞으로의 전망</a></li><li><a href=#하위-주제로-분류한-추가-학습-내용>하위 주제로 분류한 추가 학습 내용</a></li><li><a href=#관련-분야-추가-학습-내용>관련 분야 추가 학습 내용</a></li></ul></li><li><a href=#용어-정리>용어 정리</a></li><li><a href=#참고-및-출처>참고 및 출처</a><ul><li><a href=#scaled-trunk-based-development>Scaled Trunk-Based Development</a></li></ul></li></ul></nav></div></details></div><div class=post-content><h2 id=trunk-based-development>Trunk-based Development<a hidden class=anchor aria-hidden=true href=#trunk-based-development>#</a></h2><p>Trunk-based Development(TBD)는 모든 개발자가 단일 메인 브랜치(trunk)에 작고 빈번한 변경사항을 직접 통합하는 버전 관리 방법론이다. 이는 지속적 통합(CI)과 지속적 배포(CD)의 필수 전제조건으로, 현대 DevOps 환경에서 가장 효율적인 브랜치 전략으로 인정받고 있다. 긴 수명의 기능 브랜치 대신 짧은 수명의 브랜치나 직접 커밋을 통해 코드 통합의 마찰을 최소화하고, 항상 배포 가능한 상태의 코드베이스를 유지하는 것이 핵심이다.</p><h2 id=핵심-개념>핵심 개념<a hidden class=anchor aria-hidden=true href=#핵심-개념>#</a></h2><p>Trunk-based Development의 핵심 개념은 다음과 같다:</p><ol><li><strong>단일 메인 브랜치</strong>: 모든 개발이 하나의 trunk(main/master) 브랜치에 집중</li><li><strong>작고 빈번한 커밋</strong>: 작업을 작은 단위로 나누어 자주 통합</li><li><strong>짧은 수명의 브랜치</strong>: 필요한 경우 최대 1-2일 이내의 피처 브랜치 사용</li><li><strong>지속적 통합</strong>: 하루에 여러 번 코드 통합 및 자동화된 테스트</li><li><strong>항상 릴리스 가능한 상태</strong>: trunk는 언제나 프로덕션 배포가 가능한 상태 유지</li><li><strong>피처 플래그</strong>: 미완성 기능을 main에 통합하되 런타임에 비활성화</li></ol><pre class=mermaid>graph TD
    main[main 브랜치] --&gt;|분기| feature[feature/기능]
    feature --&gt;|풀 리퀘스트| main
    main --&gt;|자동 배포| Production
</pre><h3 id=목적>목적<a hidden class=anchor aria-hidden=true href=#목적>#</a></h3><ul><li>코드 통합의 복잡성과 병합 충돌 최소화</li><li>개발 및 배포 속도 극대화</li><li>지속적 통합/배포(CI/CD) 실현</li><li>팀 협업 효율성 향상</li><li>코드베이스의 일관성과 품질 유지</li><li>빠른 피드백 사이클 구현</li></ul><h3 id=필요성>필요성<a hidden class=anchor aria-hidden=true href=#필요성>#</a></h3><ul><li>현대 DevOps 및 애자일 개발 방법론의 요구사항 충족</li><li>마이크로서비스 아키텍처에서의 빠른 배포 필요</li><li>대규모 개발팀의 효율적인 협업 지원</li><li>병합 지옥(merge hell) 방지</li><li>지속적 배포를 통한 경쟁력 확보</li><li>고품질 소프트웨어의 빠른 출시 요구</li></ul><h3 id=역할>역할<a hidden class=anchor aria-hidden=true href=#역할>#</a></h3><ol><li><strong>개발 프로세스 단순화</strong>: 복잡한 브랜치 모델 제거</li><li><strong>배포 주기 가속화</strong>: 빠른 릴리스 사이클 지원</li><li><strong>품질 보증</strong>: 지속적인 테스트를 통한 품질 유지</li><li><strong>팀 협업 강화</strong>: 코드 리뷰와 페어 프로그래밍 촉진</li><li><strong>기술 부채 방지</strong>: 장기 브랜치로 인한 기술 부채 최소화</li></ol><h3 id=특징>특징<a hidden class=anchor aria-hidden=true href=#특징>#</a></h3><ul><li>브랜치 최소화</li><li>통합의 빈도 극대화</li><li>Feature Toggle 사용 권장</li><li>Conflict를 예방하는 설계</li></ul><h3 id=주요-기능>주요 기능<a hidden class=anchor aria-hidden=true href=#주요-기능>#</a></h3><ol><li><strong>직접 trunk 커밋</strong>: 소규모 팀의 경우 trunk에 직접 커밋</li><li><strong>Pull Request 워크플로우</strong>: 코드 리뷰를 위한 짧은 수명의 브랜치</li><li><strong>자동화된 테스트</strong>: 모든 커밋에 대한 자동 테스트 실행</li><li><strong>피처 플래그</strong>: 기능의 점진적 롤아웃 지원</li><li><strong>지속적 통합</strong>: 자동화된 빌드 및 테스트 파이프라인</li><li><strong>브랜치별 CI</strong>: PR/브랜치 단위 자동화 검증</li></ol><h3 id=주요-원리>주요 원리<a hidden class=anchor aria-hidden=true href=#주요-원리>#</a></h3><p>Trunk-based Development의 주요 원리는 다음 다이어그램으로 표현할 수 있다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11>11</a>
</span><span class=lnt id=hl-1-12><a class=lnlinks href=#hl-1-12>12</a>
</span><span class=lnt id=hl-1-13><a class=lnlinks href=#hl-1-13>13</a>
</span><span class=lnt id=hl-1-14><a class=lnlinks href=#hl-1-14>14</a>
</span><span class=lnt id=hl-1-15><a class=lnlinks href=#hl-1-15>15</a>
</span><span class=lnt id=hl-1-16><a class=lnlinks href=#hl-1-16>16</a>
</span><span class=lnt id=hl-1-17><a class=lnlinks href=#hl-1-17>17</a>
</span><span class=lnt id=hl-1-18><a class=lnlinks href=#hl-1-18>18</a>
</span><span class=lnt id=hl-1-19><a class=lnlinks href=#hl-1-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>                    Trunk-based Development 원리
</span></span><span class=line><span class=cl>                    
</span></span><span class=line><span class=cl>    [Single Trunk Branch (main/master)]
</span></span><span class=line><span class=cl>           │
</span></span><span class=line><span class=cl>           │ Daily commits
</span></span><span class=line><span class=cl>           ├─── [Developer 1] ─── Small changes ─→ CI/CD → Deploy
</span></span><span class=line><span class=cl>           │
</span></span><span class=line><span class=cl>           ├─── [Developer 2] ─── Small changes ─→ CI/CD → Deploy
</span></span><span class=line><span class=cl>           │
</span></span><span class=line><span class=cl>           └─── [Developer N] ─── Small changes ─→ CI/CD → Deploy
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>    Key Principles:
</span></span><span class=line><span class=cl>    1. Single Source of Truth (하나의 trunk)
</span></span><span class=line><span class=cl>    2. Frequent Integration (하루 여러번 통합)
</span></span><span class=line><span class=cl>    3. Small Commits (작은 변경 단위)
</span></span><span class=line><span class=cl>    4. Always Releasable (항상 배포 가능한 상태)
</span></span><span class=line><span class=cl>    5. Automated Testing (자동화된 테스트)
</span></span><span class=line><span class=cl>    6. Feature Flags (기능 토글)
</span></span></code></pre></td></tr></table></div></div><p><strong>작동 순서:</strong></p><ol><li><code>trunk</code> 또는 <code>main</code>에서 짧은-lived 브랜치 생성</li><li>기능 개발 및 단위 테스트</li><li>Pull Request(Push) 후 CI 실행</li><li>성공 시 <code>trunk</code>로 병합</li><li>병합된 상태는 항상 배포 가능한 상태 유지</li></ol><h3 id=작동-원리>작동 원리<a hidden class=anchor aria-hidden=true href=#작동-원리>#</a></h3><p>Trunk-based Development의 작동 원리는 다음과 같은 흐름을 따른다:</p><h4 id=소규모-팀-워크플로우>소규모 팀 워크플로우<a hidden class=anchor aria-hidden=true href=#소규모-팀-워크플로우>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>   [개발자] → [직접 trunk 커밋] → [CI 실행] → [자동 배포]
</span></span><span class=line><span class=cl>          ↑                                        │
</span></span><span class=line><span class=cl>          └────────── 피드백 ─────────────────────┘
</span></span></code></pre></td></tr></table></div></div><h4 id=대규모-팀-워크플로우>대규모 팀 워크플로우<a hidden class=anchor aria-hidden=true href=#대규모-팀-워크플로우>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2>2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3>3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4>4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5>5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6>6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>   [개발자] → [짧은 피처 브랜치] → [Pull Request] → [코드 리뷰]
</span></span><span class=line><span class=cl>                                                        │
</span></span><span class=line><span class=cl>                    ┌───────────────────────────────────┘
</span></span><span class=line><span class=cl>                    ↓
</span></span><span class=line><span class=cl>           [CI 테스트 통과] → [trunk 병합] → [자동 배포]
</span></span><span class=line><span class=cl>                    │                            │
</span></span><span class=line><span class=cl>                    └── 실패시 즉시 수정 ────────┘
</span></span></code></pre></td></tr></table></div></div><p>상세 작동 과정:</p><ol><li><p><strong>개발 시작</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git checkout main
</span></span><span class=line><span class=cl>git pull origin main
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>기능 개발 (선택적 짧은 브랜치)</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2>2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git checkout -b short-lived-feature
</span></span><span class=line><span class=cl><span class=c1># 작업 진행 (최대 1-2일)</span>
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;feat: small incremental change&#34;</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>코드 리뷰 및 CI 검증</strong></p><ul><li>Pull Request 생성</li><li>자동화된 테스트 실행</li><li>팀원 코드 리뷰</li></ul></li><li><p><strong>main 브랜치 병합</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1>1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2>2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git checkout main
</span></span><span class=line><span class=cl>git merge short-lived-feature
</span></span><span class=line><span class=cl>git push origin main
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>지속적 배포</strong></p><ul><li>CI/CD 파이프라인 자동 실행</li><li>프로덕션 배포</li></ul></li></ol><h3 id=구성-요소-및-아키텍처>구성 요소 및 아키텍처<a hidden class=anchor aria-hidden=true href=#구성-요소-및-아키텍처>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1> 1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2> 2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3> 3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4> 4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5> 5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6> 6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7> 7</a>
</span><span class=lnt id=hl-7-8><a class=lnlinks href=#hl-7-8> 8</a>
</span><span class=lnt id=hl-7-9><a class=lnlinks href=#hl-7-9> 9</a>
</span><span class=lnt id=hl-7-10><a class=lnlinks href=#hl-7-10>10</a>
</span><span class=lnt id=hl-7-11><a class=lnlinks href=#hl-7-11>11</a>
</span><span class=lnt id=hl-7-12><a class=lnlinks href=#hl-7-12>12</a>
</span><span class=lnt id=hl-7-13><a class=lnlinks href=#hl-7-13>13</a>
</span><span class=lnt id=hl-7-14><a class=lnlinks href=#hl-7-14>14</a>
</span><span class=lnt id=hl-7-15><a class=lnlinks href=#hl-7-15>15</a>
</span><span class=lnt id=hl-7-16><a class=lnlinks href=#hl-7-16>16</a>
</span><span class=lnt id=hl-7-17><a class=lnlinks href=#hl-7-17>17</a>
</span><span class=lnt id=hl-7-18><a class=lnlinks href=#hl-7-18>18</a>
</span><span class=lnt id=hl-7-19><a class=lnlinks href=#hl-7-19>19</a>
</span><span class=lnt id=hl-7-20><a class=lnlinks href=#hl-7-20>20</a>
</span><span class=lnt id=hl-7-21><a class=lnlinks href=#hl-7-21>21</a>
</span><span class=lnt id=hl-7-22><a class=lnlinks href=#hl-7-22>22</a>
</span><span class=lnt id=hl-7-23><a class=lnlinks href=#hl-7-23>23</a>
</span><span class=lnt id=hl-7-24><a class=lnlinks href=#hl-7-24>24</a>
</span><span class=lnt id=hl-7-25><a class=lnlinks href=#hl-7-25>25</a>
</span><span class=lnt id=hl-7-26><a class=lnlinks href=#hl-7-26>26</a>
</span><span class=lnt id=hl-7-27><a class=lnlinks href=#hl-7-27>27</a>
</span><span class=lnt id=hl-7-28><a class=lnlinks href=#hl-7-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>┌──────────────────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│               Trunk-based Development Architecture            │
</span></span><span class=line><span class=cl>├──────────────────────────────────────────────────────────────┤
</span></span><span class=line><span class=cl>│                                                              │
</span></span><span class=line><span class=cl>│  ┌─────────────┐    ┌────────────────┐    ┌───────────────┐ │
</span></span><span class=line><span class=cl>│  │  Developers │    │ CI/CD Pipeline │    │  Production   │ │
</span></span><span class=line><span class=cl>│  │             │    │                │    │  Environment  │ │
</span></span><span class=line><span class=cl>│  └──────┬──────┘    └───────┬────────┘    └───────┬───────┘ │
</span></span><span class=line><span class=cl>│         │                   │                     │         │
</span></span><span class=line><span class=cl>│         ▼                   │                     │         │
</span></span><span class=line><span class=cl>│  ┌─────────────┐           │                     │         │
</span></span><span class=line><span class=cl>│  │ Short-lived │           │                     │         │
</span></span><span class=line><span class=cl>│  │  Branches   │─────┐     │                     │         │
</span></span><span class=line><span class=cl>│  └─────────────┘     │     │                     │         │
</span></span><span class=line><span class=cl>│                      ▼     ▼                     │         │
</span></span><span class=line><span class=cl>│                 ┌─────────────┐                  │         │
</span></span><span class=line><span class=cl>│                 │    TRUNK    │ ◄────────────────┘         │
</span></span><span class=line><span class=cl>│                 │  (main/master)  │                        │
</span></span><span class=line><span class=cl>│                 └──────┬──────┘                           │
</span></span><span class=line><span class=cl>│                        │                                   │
</span></span><span class=line><span class=cl>│         ┌──────────────┴──────────────┐                  │
</span></span><span class=line><span class=cl>│         ▼                             ▼                  │
</span></span><span class=line><span class=cl>│  ┌─────────────┐              ┌─────────────┐           │
</span></span><span class=line><span class=cl>│  │  Automated  │              │   Feature   │           │
</span></span><span class=line><span class=cl>│  │    Tests    │              │    Flags    │           │
</span></span><span class=line><span class=cl>│  └─────────────┘              └─────────────┘           │
</span></span><span class=line><span class=cl>│                                                          │
</span></span><span class=line><span class=cl>└──────────────────────────────────────────────────────────┘
</span></span></code></pre></td></tr></table></div></div><table><thead><tr><th>구성 요소</th><th>기능</th><th>역할</th></tr></thead><tbody><tr><td>Trunk Branch</td><td>메인 개발 라인</td><td>모든 개발의 중심점, 항상 배포 가능한 상태 유지</td></tr><tr><td>Short-lived Branches</td><td>임시 작업 공간</td><td>코드 리뷰용, 최대 1-2일 수명</td></tr><tr><td>CI/CD Pipeline</td><td>자동화 도구</td><td>빌드, 테스트, 배포 자동화</td></tr><tr><td>Feature Flags</td><td>기능 토글 시스템</td><td>미완성 기능 런타임 제어</td></tr><tr><td>Automated Tests</td><td>품질 보증</td><td>코드 변경의 안정성 검증</td></tr><tr><td>Code Review System</td><td>협업 도구</td><td>Pull Request를 통한 품질 관리</td></tr></tbody></table><h3 id=장점과-단점>장점과 단점<a hidden class=anchor aria-hidden=true href=#장점과-단점>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>✅ 장점</td><td>빠른 개발 속도</td><td>병합 지연 없이 신속한 기능 출시</td></tr><tr><td></td><td>병합 충돌 최소화</td><td>작고 빈번한 통합으로 충돌 감소</td></tr><tr><td></td><td>지속적 통합 최적화</td><td>CI/CD와 완벽한 조화</td></tr><tr><td></td><td>코드 품질 향상</td><td>작은 변경으로 리뷰 용이성 증가</td></tr><tr><td></td><td>팀 협업 강화</td><td>모든 개발자가 같은 코드베이스 공유</td></tr><tr><td></td><td>기술 부채 감소</td><td>장기 브랜치로 인한 문제 제거</td></tr><tr><td>⚠ 단점</td><td>높은 규율 요구</td><td>팀원 모두의 책임감 필요</td></tr><tr><td></td><td>강력한 테스트 필수</td><td>자동화된 테스트 인프라 필요</td></tr><tr><td></td><td>피처 플래그 복잡성</td><td>런타임 토글 관리 오버헤드</td></tr><tr><td></td><td>초보자 어려움</td><td>경험 많은 개발자 필요</td></tr><tr><td></td><td>지속적 모니터링 필요</td><td>trunk 안정성 상시 감시</td></tr><tr><td></td><td>테스트 부담</td><td>병합 전 모든 테스트 통과 필수로 부담 증가</td></tr></tbody></table><h3 id=trunk-based-development-시작하기>Trunk-based Development 시작하기<a hidden class=anchor aria-hidden=true href=#trunk-based-development-시작하기>#</a></h3><p>Trunk-based Development는 다음과 같은 핵심 원칙을 가지고 있다:</p><ul><li>단일 메인 브랜치 사용</li><li>짧은 수명의 기능 브랜치 (최대 1-2일)</li><li>빈번한 통합 (하루에 여러 번)</li><li>기능 플래그(Feature Flags) 활용</li><li>강력한 자동화 테스트</li></ul><p><strong>실제 프로젝트 시나리오: 금융 서비스 플랫폼 &ldquo;FinTech Pro&rdquo;</strong></p><h4 id=프로젝트-구조-및-초기-설정>프로젝트 구조 및 초기 설정<a hidden class=anchor aria-hidden=true href=#프로젝트-구조-및-초기-설정>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span><span class=lnt id=hl-8-11><a class=lnlinks href=#hl-8-11>11</a>
</span><span class=lnt id=hl-8-12><a class=lnlinks href=#hl-8-12>12</a>
</span><span class=lnt id=hl-8-13><a class=lnlinks href=#hl-8-13>13</a>
</span><span class=lnt id=hl-8-14><a class=lnlinks href=#hl-8-14>14</a>
</span><span class=lnt id=hl-8-15><a class=lnlinks href=#hl-8-15>15</a>
</span><span class=lnt id=hl-8-16><a class=lnlinks href=#hl-8-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 저장소 구조</span>
</span></span><span class=line><span class=cl>fintech-pro/
</span></span><span class=line><span class=cl>├── .github/
</span></span><span class=line><span class=cl>│   └── workflows/
</span></span><span class=line><span class=cl>│       ├── ci.yml
</span></span><span class=line><span class=cl>│       ├── deploy.yml
</span></span><span class=line><span class=cl>│       └── release.yml
</span></span><span class=line><span class=cl>├── src/
</span></span><span class=line><span class=cl>│   ├── features/
</span></span><span class=line><span class=cl>│   ├── core/
</span></span><span class=line><span class=cl>│   └── shared/
</span></span><span class=line><span class=cl>├── tests/
</span></span><span class=line><span class=cl>├── config/
</span></span><span class=line><span class=cl>│   └── feature-flags.json
</span></span><span class=line><span class=cl>└── scripts/
</span></span><span class=line><span class=cl>    └── release.sh
</span></span></code></pre></td></tr></table></div></div><h4 id=feature-flags>Feature Flags<a hidden class=anchor aria-hidden=true href=#feature-flags>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11>11</a>
</span><span class=lnt id=hl-9-12><a class=lnlinks href=#hl-9-12>12</a>
</span><span class=lnt id=hl-9-13><a class=lnlinks href=#hl-9-13>13</a>
</span><span class=lnt id=hl-9-14><a class=lnlinks href=#hl-9-14>14</a>
</span><span class=lnt id=hl-9-15><a class=lnlinks href=#hl-9-15>15</a>
</span><span class=lnt id=hl-9-16><a class=lnlinks href=#hl-9-16>16</a>
</span><span class=lnt id=hl-9-17><a class=lnlinks href=#hl-9-17>17</a>
</span><span class=lnt id=hl-9-18><a class=lnlinks href=#hl-9-18>18</a>
</span><span class=lnt id=hl-9-19><a class=lnlinks href=#hl-9-19>19</a>
</span><span class=lnt id=hl-9-20><a class=lnlinks href=#hl-9-20>20</a>
</span><span class=lnt id=hl-9-21><a class=lnlinks href=#hl-9-21>21</a>
</span><span class=lnt id=hl-9-22><a class=lnlinks href=#hl-9-22>22</a>
</span><span class=lnt id=hl-9-23><a class=lnlinks href=#hl-9-23>23</a>
</span><span class=lnt id=hl-9-24><a class=lnlinks href=#hl-9-24>24</a>
</span><span class=lnt id=hl-9-25><a class=lnlinks href=#hl-9-25>25</a>
</span><span class=lnt id=hl-9-26><a class=lnlinks href=#hl-9-26>26</a>
</span><span class=lnt id=hl-9-27><a class=lnlinks href=#hl-9-27>27</a>
</span><span class=lnt id=hl-9-28><a class=lnlinks href=#hl-9-28>28</a>
</span><span class=lnt id=hl-9-29><a class=lnlinks href=#hl-9-29>29</a>
</span><span class=lnt id=hl-9-30><a class=lnlinks href=#hl-9-30>30</a>
</span><span class=lnt id=hl-9-31><a class=lnlinks href=#hl-9-31>31</a>
</span><span class=lnt id=hl-9-32><a class=lnlinks href=#hl-9-32>32</a>
</span><span class=lnt id=hl-9-33><a class=lnlinks href=#hl-9-33>33</a>
</span><span class=lnt id=hl-9-34><a class=lnlinks href=#hl-9-34>34</a>
</span><span class=lnt id=hl-9-35><a class=lnlinks href=#hl-9-35>35</a>
</span><span class=lnt id=hl-9-36><a class=lnlinks href=#hl-9-36>36</a>
</span><span class=lnt id=hl-9-37><a class=lnlinks href=#hl-9-37>37</a>
</span><span class=lnt id=hl-9-38><a class=lnlinks href=#hl-9-38>38</a>
</span><span class=lnt id=hl-9-39><a class=lnlinks href=#hl-9-39>39</a>
</span><span class=lnt id=hl-9-40><a class=lnlinks href=#hl-9-40>40</a>
</span><span class=lnt id=hl-9-41><a class=lnlinks href=#hl-9-41>41</a>
</span><span class=lnt id=hl-9-42><a class=lnlinks href=#hl-9-42>42</a>
</span><span class=lnt id=hl-9-43><a class=lnlinks href=#hl-9-43>43</a>
</span><span class=lnt id=hl-9-44><a class=lnlinks href=#hl-9-44>44</a>
</span><span class=lnt id=hl-9-45><a class=lnlinks href=#hl-9-45>45</a>
</span><span class=lnt id=hl-9-46><a class=lnlinks href=#hl-9-46>46</a>
</span><span class=lnt id=hl-9-47><a class=lnlinks href=#hl-9-47>47</a>
</span><span class=lnt id=hl-9-48><a class=lnlinks href=#hl-9-48>48</a>
</span><span class=lnt id=hl-9-49><a class=lnlinks href=#hl-9-49>49</a>
</span><span class=lnt id=hl-9-50><a class=lnlinks href=#hl-9-50>50</a>
</span><span class=lnt id=hl-9-51><a class=lnlinks href=#hl-9-51>51</a>
</span><span class=lnt id=hl-9-52><a class=lnlinks href=#hl-9-52>52</a>
</span><span class=lnt id=hl-9-53><a class=lnlinks href=#hl-9-53>53</a>
</span><span class=lnt id=hl-9-54><a class=lnlinks href=#hl-9-54>54</a>
</span><span class=lnt id=hl-9-55><a class=lnlinks href=#hl-9-55>55</a>
</span><span class=lnt id=hl-9-56><a class=lnlinks href=#hl-9-56>56</a>
</span><span class=lnt id=hl-9-57><a class=lnlinks href=#hl-9-57>57</a>
</span><span class=lnt id=hl-9-58><a class=lnlinks href=#hl-9-58>58</a>
</span><span class=lnt id=hl-9-59><a class=lnlinks href=#hl-9-59>59</a>
</span><span class=lnt id=hl-9-60><a class=lnlinks href=#hl-9-60>60</a>
</span><span class=lnt id=hl-9-61><a class=lnlinks href=#hl-9-61>61</a>
</span><span class=lnt id=hl-9-62><a class=lnlinks href=#hl-9-62>62</a>
</span><span class=lnt id=hl-9-63><a class=lnlinks href=#hl-9-63>63</a>
</span><span class=lnt id=hl-9-64><a class=lnlinks href=#hl-9-64>64</a>
</span><span class=lnt id=hl-9-65><a class=lnlinks href=#hl-9-65>65</a>
</span><span class=lnt id=hl-9-66><a class=lnlinks href=#hl-9-66>66</a>
</span><span class=lnt id=hl-9-67><a class=lnlinks href=#hl-9-67>67</a>
</span><span class=lnt id=hl-9-68><a class=lnlinks href=#hl-9-68>68</a>
</span><span class=lnt id=hl-9-69><a class=lnlinks href=#hl-9-69>69</a>
</span><span class=lnt id=hl-9-70><a class=lnlinks href=#hl-9-70>70</a>
</span><span class=lnt id=hl-9-71><a class=lnlinks href=#hl-9-71>71</a>
</span><span class=lnt id=hl-9-72><a class=lnlinks href=#hl-9-72>72</a>
</span><span class=lnt id=hl-9-73><a class=lnlinks href=#hl-9-73>73</a>
</span><span class=lnt id=hl-9-74><a class=lnlinks href=#hl-9-74>74</a>
</span><span class=lnt id=hl-9-75><a class=lnlinks href=#hl-9-75>75</a>
</span><span class=lnt id=hl-9-76><a class=lnlinks href=#hl-9-76>76</a>
</span><span class=lnt id=hl-9-77><a class=lnlinks href=#hl-9-77>77</a>
</span><span class=lnt id=hl-9-78><a class=lnlinks href=#hl-9-78>78</a>
</span><span class=lnt id=hl-9-79><a class=lnlinks href=#hl-9-79>79</a>
</span><span class=lnt id=hl-9-80><a class=lnlinks href=#hl-9-80>80</a>
</span><span class=lnt id=hl-9-81><a class=lnlinks href=#hl-9-81>81</a>
</span><span class=lnt id=hl-9-82><a class=lnlinks href=#hl-9-82>82</a>
</span><span class=lnt id=hl-9-83><a class=lnlinks href=#hl-9-83>83</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// src/lib/feature-flags.js
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>FeatureFlagService</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>flags</span> <span class=o>=</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>userOverrides</span> <span class=o>=</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>async</span> <span class=nx>loadFlags</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>response</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;/api/feature-flags&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>flags</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>response</span><span class=p>.</span><span class=nx>json</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>isEnabled</span><span class=p>(</span><span class=nx>flagName</span><span class=p>,</span> <span class=nx>userId</span> <span class=o>=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>flag</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>flags</span><span class=p>[</span><span class=nx>flagName</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>flag</span><span class=p>)</span> <span class=k>return</span> <span class=kc>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 사용자별 오버라이드 확인
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=nx>userId</span> <span class=o>&amp;&amp;</span> <span class=k>this</span><span class=p>.</span><span class=nx>userOverrides</span><span class=p>[</span><span class=nx>userId</span><span class=p>]</span><span class=o>?</span><span class=p>.[</span><span class=nx>flagName</span><span class=p>]</span> <span class=o>!==</span> <span class=kc>undefined</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>userOverrides</span><span class=p>[</span><span class=nx>userId</span><span class=p>][</span><span class=nx>flagName</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 기본 활성화 상태 확인
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=nx>flag</span><span class=p>.</span><span class=nx>enabled</span> <span class=o>===</span> <span class=kc>false</span><span class=p>)</span> <span class=k>return</span> <span class=kc>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 점진적 롤아웃 확인
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=nx>flag</span><span class=p>.</span><span class=nx>rollout</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>userId</span> <span class=o>&amp;&amp;</span> <span class=nx>flag</span><span class=p>.</span><span class=nx>rollout</span><span class=p>.</span><span class=nx>targetUsers</span><span class=o>?</span><span class=p>.</span><span class=nx>includes</span><span class=p>(</span><span class=nx>userId</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>flag</span><span class=p>.</span><span class=nx>rollout</span><span class=p>.</span><span class=nx>percentage</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 사용자 ID를 기반으로 일관된 해시 생성
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kr>const</span> <span class=nx>hash</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>hashUserId</span><span class=p>(</span><span class=nx>userId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>(</span><span class=nx>hash</span> <span class=o>%</span> <span class=mi>100</span><span class=p>)</span> <span class=o>&lt;</span> <span class=nx>flag</span><span class=p>.</span><span class=nx>rollout</span><span class=p>.</span><span class=nx>percentage</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>flag</span><span class=p>.</span><span class=nx>enabled</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// A/B 테스팅을 위한 변형 선택
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>getVariant</span><span class=p>(</span><span class=nx>flagName</span><span class=p>,</span> <span class=nx>userId</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>flag</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>flags</span><span class=p>[</span><span class=nx>flagName</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>flag</span><span class=o>?</span><span class=p>.</span><span class=nx>variants</span><span class=p>)</span> <span class=k>return</span> <span class=s1>&#39;control&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>hash</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>hashUserId</span><span class=p>(</span><span class=nx>userId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>variantIndex</span> <span class=o>=</span> <span class=nx>hash</span> <span class=o>%</span> <span class=nx>flag</span><span class=p>.</span><span class=nx>variants</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>flag</span><span class=p>.</span><span class=nx>variants</span><span class=p>[</span><span class=nx>variantIndex</span><span class=p>];</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>private</span> <span class=nx>hashUserId</span><span class=p>(</span><span class=nx>userId</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>userId</span><span class=p>)</span> <span class=k>return</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>random</span><span class=p>()</span> <span class=o>*</span> <span class=mi>100</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>hash</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>userId</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>hash</span> <span class=o>=</span> <span class=p>((</span><span class=nx>hash</span> <span class=o>&lt;&lt;</span> <span class=mi>5</span><span class=p>)</span> <span class=o>-</span> <span class=nx>hash</span><span class=p>)</span> <span class=o>+</span> <span class=nx>userId</span><span class=p>.</span><span class=nx>charCodeAt</span><span class=p>(</span><span class=nx>i</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>hash</span> <span class=o>=</span> <span class=nx>hash</span> <span class=o>&amp;</span> <span class=nx>hash</span><span class=p>;</span> <span class=c1>// Convert to 32-bit integer
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>abs</span><span class=p>(</span><span class=nx>hash</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 사용 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>featureFlags</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>FeatureFlagService</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// React 컴포넌트에서 사용
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>PaymentButton</span><span class=p>({</span> <span class=nx>userId</span> <span class=p>})</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>isNewCheckoutEnabled</span> <span class=o>=</span> <span class=nx>featureFlags</span><span class=p>.</span><span class=nx>isEnabled</span><span class=p>(</span><span class=s1>&#39;newCheckout&#39;</span><span class=p>,</span> <span class=nx>userId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>checkoutVariant</span> <span class=o>=</span> <span class=nx>featureFlags</span><span class=p>.</span><span class=nx>getVariant</span><span class=p>(</span><span class=s1>&#39;checkoutExperiment&#39;</span><span class=p>,</span> <span class=nx>userId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>isNewCheckoutEnabled</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=o>&lt;</span><span class=nx>LegacyCheckoutButton</span> <span class=o>/&gt;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>switch</span> <span class=p>(</span><span class=nx>checkoutVariant</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=s1>&#39;variantA&#39;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=o>&lt;</span><span class=nx>CheckoutButtonA</span> <span class=o>/&gt;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=s1>&#39;variantB&#39;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=o>&lt;</span><span class=nx>CheckoutButtonB</span> <span class=o>/&gt;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=o>&lt;</span><span class=nx>DefaultCheckoutButton</span> <span class=o>/&gt;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=시나리오-1-일상적인-기능-개발>시나리오 1: 일상적인 기능 개발<a hidden class=anchor aria-hidden=true href=#시나리오-1-일상적인-기능-개발>#</a></h4><p><strong>상황</strong>: 개발자가 새로운 사용자 프로필 기능을 추가</p><p>Step 1: 작업 준비</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1>1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2>2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3>3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4>4</a>
</span><span class=lnt id=hl-10-5><a class=lnlinks href=#hl-10-5>5</a>
</span><span class=lnt id=hl-10-6><a class=lnlinks href=#hl-10-6>6</a>
</span><span class=lnt id=hl-10-7><a class=lnlinks href=#hl-10-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 1.1 최신 main 브랜치 동기화</span>
</span></span><span class=line><span class=cl>git checkout main
</span></span><span class=line><span class=cl>git pull origin main
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 1.2 작업 환경 확인</span>
</span></span><span class=line><span class=cl>npm install
</span></span><span class=line><span class=cl>npm <span class=nb>test</span>
</span></span></code></pre></td></tr></table></div></div><p>Step 2: 기능 플래그 설정</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1> 1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2> 2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3> 3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4> 4</a>
</span><span class=lnt id=hl-11-5><a class=lnlinks href=#hl-11-5> 5</a>
</span><span class=lnt id=hl-11-6><a class=lnlinks href=#hl-11-6> 6</a>
</span><span class=lnt id=hl-11-7><a class=lnlinks href=#hl-11-7> 7</a>
</span><span class=lnt id=hl-11-8><a class=lnlinks href=#hl-11-8> 8</a>
</span><span class=lnt id=hl-11-9><a class=lnlinks href=#hl-11-9> 9</a>
</span><span class=lnt id=hl-11-10><a class=lnlinks href=#hl-11-10>10</a>
</span><span class=lnt id=hl-11-11><a class=lnlinks href=#hl-11-11>11</a>
</span><span class=lnt id=hl-11-12><a class=lnlinks href=#hl-11-12>12</a>
</span><span class=lnt id=hl-11-13><a class=lnlinks href=#hl-11-13>13</a>
</span><span class=lnt id=hl-11-14><a class=lnlinks href=#hl-11-14>14</a>
</span><span class=lnt id=hl-11-15><a class=lnlinks href=#hl-11-15>15</a>
</span><span class=lnt id=hl-11-16><a class=lnlinks href=#hl-11-16>16</a>
</span><span class=lnt id=hl-11-17><a class=lnlinks href=#hl-11-17>17</a>
</span><span class=lnt id=hl-11-18><a class=lnlinks href=#hl-11-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 2.1 기능 플래그 추가</span>
</span></span><span class=line><span class=cl>cat &gt; config/feature-flags.json <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;features&#34;: {
</span></span></span><span class=line><span class=cl><span class=s>    &#34;userProfile&#34;: {
</span></span></span><span class=line><span class=cl><span class=s>      &#34;enabled&#34;: false,
</span></span></span><span class=line><span class=cl><span class=s>      &#34;description&#34;: &#34;New user profile page&#34;,
</span></span></span><span class=line><span class=cl><span class=s>      &#34;createdAt&#34;: &#34;2024-03-15T10:00:00Z&#34;,
</span></span></span><span class=line><span class=cl><span class=s>      &#34;owner&#34;: &#34;dev@company.com&#34;
</span></span></span><span class=line><span class=cl><span class=s>    }
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2.2 기능 플래그 커밋</span>
</span></span><span class=line><span class=cl>git add config/feature-flags.json
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;feat: add feature flag for user profile&#34;</span>
</span></span><span class=line><span class=cl>git push origin main
</span></span></code></pre></td></tr></table></div></div><p>Step 3: 기능 구현</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1> 1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2> 2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3> 3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4> 4</a>
</span><span class=lnt id=hl-12-5><a class=lnlinks href=#hl-12-5> 5</a>
</span><span class=lnt id=hl-12-6><a class=lnlinks href=#hl-12-6> 6</a>
</span><span class=lnt id=hl-12-7><a class=lnlinks href=#hl-12-7> 7</a>
</span><span class=lnt id=hl-12-8><a class=lnlinks href=#hl-12-8> 8</a>
</span><span class=lnt id=hl-12-9><a class=lnlinks href=#hl-12-9> 9</a>
</span><span class=lnt id=hl-12-10><a class=lnlinks href=#hl-12-10>10</a>
</span><span class=lnt id=hl-12-11><a class=lnlinks href=#hl-12-11>11</a>
</span><span class=lnt id=hl-12-12><a class=lnlinks href=#hl-12-12>12</a>
</span><span class=lnt id=hl-12-13><a class=lnlinks href=#hl-12-13>13</a>
</span><span class=lnt id=hl-12-14><a class=lnlinks href=#hl-12-14>14</a>
</span><span class=lnt id=hl-12-15><a class=lnlinks href=#hl-12-15>15</a>
</span><span class=lnt id=hl-12-16><a class=lnlinks href=#hl-12-16>16</a>
</span><span class=lnt id=hl-12-17><a class=lnlinks href=#hl-12-17>17</a>
</span><span class=lnt id=hl-12-18><a class=lnlinks href=#hl-12-18>18</a>
</span><span class=lnt id=hl-12-19><a class=lnlinks href=#hl-12-19>19</a>
</span><span class=lnt id=hl-12-20><a class=lnlinks href=#hl-12-20>20</a>
</span><span class=lnt id=hl-12-21><a class=lnlinks href=#hl-12-21>21</a>
</span><span class=lnt id=hl-12-22><a class=lnlinks href=#hl-12-22>22</a>
</span><span class=lnt id=hl-12-23><a class=lnlinks href=#hl-12-23>23</a>
</span><span class=lnt id=hl-12-24><a class=lnlinks href=#hl-12-24>24</a>
</span><span class=lnt id=hl-12-25><a class=lnlinks href=#hl-12-25>25</a>
</span><span class=lnt id=hl-12-26><a class=lnlinks href=#hl-12-26>26</a>
</span><span class=lnt id=hl-12-27><a class=lnlinks href=#hl-12-27>27</a>
</span><span class=lnt id=hl-12-28><a class=lnlinks href=#hl-12-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 3.1 프로필 컴포넌트 생성</span>
</span></span><span class=line><span class=cl>mkdir -p src/components/UserProfile
</span></span><span class=line><span class=cl>touch src/components/UserProfile/UserProfile.jsx
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3.2 컴포넌트 코드 작성</span>
</span></span><span class=line><span class=cl>cat &gt; src/components/UserProfile/UserProfile.jsx <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>import { useFeatureFlag } from &#39;@/hooks/useFeatureFlag&#39;;
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>export function UserProfile({ userId }) {
</span></span></span><span class=line><span class=cl><span class=s>  const isEnabled = useFeatureFlag(&#39;userProfile&#39;);
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  if (!isEnabled) {
</span></span></span><span class=line><span class=cl><span class=s>    return &lt;LegacyProfile userId={userId} /&gt;;
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  return (
</span></span></span><span class=line><span class=cl><span class=s>    &lt;div className=&#34;user-profile&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=s>      &lt;ProfileHeader userId={userId} /&gt;
</span></span></span><span class=line><span class=cl><span class=s>      &lt;ProfileContent userId={userId} /&gt;
</span></span></span><span class=line><span class=cl><span class=s>    &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=s>  );
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3.3 구현 커밋</span>
</span></span><span class=line><span class=cl>git add src/components/UserProfile/
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;feat: implement basic user profile component&#34;</span>
</span></span><span class=line><span class=cl>git push origin main
</span></span></code></pre></td></tr></table></div></div><p>Step 4: 테스트 작성</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1> 1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2> 2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3> 3</a>
</span><span class=lnt id=hl-13-4><a class=lnlinks href=#hl-13-4> 4</a>
</span><span class=lnt id=hl-13-5><a class=lnlinks href=#hl-13-5> 5</a>
</span><span class=lnt id=hl-13-6><a class=lnlinks href=#hl-13-6> 6</a>
</span><span class=lnt id=hl-13-7><a class=lnlinks href=#hl-13-7> 7</a>
</span><span class=lnt id=hl-13-8><a class=lnlinks href=#hl-13-8> 8</a>
</span><span class=lnt id=hl-13-9><a class=lnlinks href=#hl-13-9> 9</a>
</span><span class=lnt id=hl-13-10><a class=lnlinks href=#hl-13-10>10</a>
</span><span class=lnt id=hl-13-11><a class=lnlinks href=#hl-13-11>11</a>
</span><span class=lnt id=hl-13-12><a class=lnlinks href=#hl-13-12>12</a>
</span><span class=lnt id=hl-13-13><a class=lnlinks href=#hl-13-13>13</a>
</span><span class=lnt id=hl-13-14><a class=lnlinks href=#hl-13-14>14</a>
</span><span class=lnt id=hl-13-15><a class=lnlinks href=#hl-13-15>15</a>
</span><span class=lnt id=hl-13-16><a class=lnlinks href=#hl-13-16>16</a>
</span><span class=lnt id=hl-13-17><a class=lnlinks href=#hl-13-17>17</a>
</span><span class=lnt id=hl-13-18><a class=lnlinks href=#hl-13-18>18</a>
</span><span class=lnt id=hl-13-19><a class=lnlinks href=#hl-13-19>19</a>
</span><span class=lnt id=hl-13-20><a class=lnlinks href=#hl-13-20>20</a>
</span><span class=lnt id=hl-13-21><a class=lnlinks href=#hl-13-21>21</a>
</span><span class=lnt id=hl-13-22><a class=lnlinks href=#hl-13-22>22</a>
</span><span class=lnt id=hl-13-23><a class=lnlinks href=#hl-13-23>23</a>
</span><span class=lnt id=hl-13-24><a class=lnlinks href=#hl-13-24>24</a>
</span><span class=lnt id=hl-13-25><a class=lnlinks href=#hl-13-25>25</a>
</span><span class=lnt id=hl-13-26><a class=lnlinks href=#hl-13-26>26</a>
</span><span class=lnt id=hl-13-27><a class=lnlinks href=#hl-13-27>27</a>
</span><span class=lnt id=hl-13-28><a class=lnlinks href=#hl-13-28>28</a>
</span><span class=lnt id=hl-13-29><a class=lnlinks href=#hl-13-29>29</a>
</span><span class=lnt id=hl-13-30><a class=lnlinks href=#hl-13-30>30</a>
</span><span class=lnt id=hl-13-31><a class=lnlinks href=#hl-13-31>31</a>
</span><span class=lnt id=hl-13-32><a class=lnlinks href=#hl-13-32>32</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 4.1 테스트 파일 생성</span>
</span></span><span class=line><span class=cl>touch src/components/UserProfile/UserProfile.test.jsx
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 4.2 테스트 코드 작성</span>
</span></span><span class=line><span class=cl>cat &gt; src/components/UserProfile/UserProfile.test.jsx <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>import { render, screen } from &#39;@testing-library/react&#39;;
</span></span></span><span class=line><span class=cl><span class=s>import { UserProfile } from &#39;./UserProfile&#39;;
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>jest.mock(&#39;@/hooks/useFeatureFlag&#39;, () =&gt; ({
</span></span></span><span class=line><span class=cl><span class=s>  useFeatureFlag: jest.fn()
</span></span></span><span class=line><span class=cl><span class=s>}));
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>describe(&#39;UserProfile&#39;, () =&gt; {
</span></span></span><span class=line><span class=cl><span class=s>  it(&#39;shows legacy profile when feature is disabled&#39;, () =&gt; {
</span></span></span><span class=line><span class=cl><span class=s>    useFeatureFlag.mockReturnValue(false);
</span></span></span><span class=line><span class=cl><span class=s>    render(&lt;UserProfile userId=&#34;123&#34; /&gt;);
</span></span></span><span class=line><span class=cl><span class=s>    expect(screen.getByTestId(&#39;legacy-profile&#39;)).toBeInTheDocument();
</span></span></span><span class=line><span class=cl><span class=s>  });
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>  it(&#39;shows new profile when feature is enabled&#39;, () =&gt; {
</span></span></span><span class=line><span class=cl><span class=s>    useFeatureFlag.mockReturnValue(true);
</span></span></span><span class=line><span class=cl><span class=s>    render(&lt;UserProfile userId=&#34;123&#34; /&gt;);
</span></span></span><span class=line><span class=cl><span class=s>    expect(screen.getByTestId(&#39;new-profile&#39;)).toBeInTheDocument();
</span></span></span><span class=line><span class=cl><span class=s>  });
</span></span></span><span class=line><span class=cl><span class=s>});
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 4.3 테스트 실행 및 커밋</span>
</span></span><span class=line><span class=cl>npm <span class=nb>test</span>
</span></span><span class=line><span class=cl>git add src/components/UserProfile/UserProfile.test.jsx
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;test: add tests for user profile component&#34;</span>
</span></span><span class=line><span class=cl>git push origin main
</span></span></code></pre></td></tr></table></div></div><p>Step 5: 단계적 활성화</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1> 1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2> 2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3> 3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4> 4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5> 5</a>
</span><span class=lnt id=hl-14-6><a class=lnlinks href=#hl-14-6> 6</a>
</span><span class=lnt id=hl-14-7><a class=lnlinks href=#hl-14-7> 7</a>
</span><span class=lnt id=hl-14-8><a class=lnlinks href=#hl-14-8> 8</a>
</span><span class=lnt id=hl-14-9><a class=lnlinks href=#hl-14-9> 9</a>
</span><span class=lnt id=hl-14-10><a class=lnlinks href=#hl-14-10>10</a>
</span><span class=lnt id=hl-14-11><a class=lnlinks href=#hl-14-11>11</a>
</span><span class=lnt id=hl-14-12><a class=lnlinks href=#hl-14-12>12</a>
</span><span class=lnt id=hl-14-13><a class=lnlinks href=#hl-14-13>13</a>
</span><span class=lnt id=hl-14-14><a class=lnlinks href=#hl-14-14>14</a>
</span><span class=lnt id=hl-14-15><a class=lnlinks href=#hl-14-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 5.1 개발 환경에서 기능 활성화</span>
</span></span><span class=line><span class=cl>cat &gt; config/feature-flags.dev.json <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;features&#34;: {
</span></span></span><span class=line><span class=cl><span class=s>    &#34;userProfile&#34;: {
</span></span></span><span class=line><span class=cl><span class=s>      &#34;enabled&#34;: true
</span></span></span><span class=line><span class=cl><span class=s>    }
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 5.2 변경사항 커밋</span>
</span></span><span class=line><span class=cl>git add config/feature-flags.dev.json
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;feat: enable user profile in dev environment&#34;</span>
</span></span><span class=line><span class=cl>git push origin main
</span></span></code></pre></td></tr></table></div></div><h4 id=시나리오-2-긴급-버그-수정-hotfix>시나리오 2: 긴급 버그 수정 (Hotfix)<a hidden class=anchor aria-hidden=true href=#시나리오-2-긴급-버그-수정-hotfix>#</a></h4><p><strong>상황</strong>: 프로덕션에서 결제 실패 버그 발견</p><p>Step 1: 문제 확인</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1>1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2>2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3>3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4>4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5>5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6>6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7>7</a>
</span><span class=lnt id=hl-15-8><a class=lnlinks href=#hl-15-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 1.1 최신 코드 동기화</span>
</span></span><span class=line><span class=cl>git checkout main
</span></span><span class=line><span class=cl>git pull origin main
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 1.2 로그 확인 및 문제 재현</span>
</span></span><span class=line><span class=cl>npm run logs:prod
</span></span><span class=line><span class=cl><span class=c1># Error: Cannot read property &#39;amount&#39; of undefined</span>
</span></span><span class=line><span class=cl><span class=c1># at PaymentService.processPayment (payment.service.js:45)</span>
</span></span></code></pre></td></tr></table></div></div><p>Step 2: 버그 수정</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1> 1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2> 2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3> 3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4> 4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5> 5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6> 6</a>
</span><span class=lnt id=hl-16-7><a class=lnlinks href=#hl-16-7> 7</a>
</span><span class=lnt id=hl-16-8><a class=lnlinks href=#hl-16-8> 8</a>
</span><span class=lnt id=hl-16-9><a class=lnlinks href=#hl-16-9> 9</a>
</span><span class=lnt id=hl-16-10><a class=lnlinks href=#hl-16-10>10</a>
</span><span class=lnt id=hl-16-11><a class=lnlinks href=#hl-16-11>11</a>
</span><span class=lnt id=hl-16-12><a class=lnlinks href=#hl-16-12>12</a>
</span><span class=lnt id=hl-16-13><a class=lnlinks href=#hl-16-13>13</a>
</span><span class=lnt id=hl-16-14><a class=lnlinks href=#hl-16-14>14</a>
</span><span class=lnt id=hl-16-15><a class=lnlinks href=#hl-16-15>15</a>
</span><span class=lnt id=hl-16-16><a class=lnlinks href=#hl-16-16>16</a>
</span><span class=lnt id=hl-16-17><a class=lnlinks href=#hl-16-17>17</a>
</span><span class=lnt id=hl-16-18><a class=lnlinks href=#hl-16-18>18</a>
</span><span class=lnt id=hl-16-19><a class=lnlinks href=#hl-16-19>19</a>
</span><span class=lnt id=hl-16-20><a class=lnlinks href=#hl-16-20>20</a>
</span><span class=lnt id=hl-16-21><a class=lnlinks href=#hl-16-21>21</a>
</span><span class=lnt id=hl-16-22><a class=lnlinks href=#hl-16-22>22</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 2.1 문제가 있는 코드 확인</span>
</span></span><span class=line><span class=cl>cat src/services/payment.service.js
</span></span><span class=line><span class=cl><span class=c1># Line 45: const amount = transaction.amount;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2.2 버그 수정</span>
</span></span><span class=line><span class=cl>cat &gt; src/services/payment.service.js <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>export class PaymentService {
</span></span></span><span class=line><span class=cl><span class=s>  async processPayment(transaction) {
</span></span></span><span class=line><span class=cl><span class=s>    // 버그 수정: null 체크 추가
</span></span></span><span class=line><span class=cl><span class=s>    if (!transaction || !transaction.amount) {
</span></span></span><span class=line><span class=cl><span class=s>      throw new Error(&#39;Invalid transaction data&#39;);
</span></span></span><span class=line><span class=cl><span class=s>    }
</span></span></span><span class=line><span class=cl><span class=s>    
</span></span></span><span class=line><span class=cl><span class=s>    const amount = transaction.amount;
</span></span></span><span class=line><span class=cl><span class=s>    // … 나머지 코드
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2.3 수정사항 커밋</span>
</span></span><span class=line><span class=cl>git add src/services/payment.service.js
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;fix: add null check for transaction in payment service&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>Step 3: 테스트 추가</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1> 1</a>
</span><span class=lnt id=hl-17-2><a class=lnlinks href=#hl-17-2> 2</a>
</span><span class=lnt id=hl-17-3><a class=lnlinks href=#hl-17-3> 3</a>
</span><span class=lnt id=hl-17-4><a class=lnlinks href=#hl-17-4> 4</a>
</span><span class=lnt id=hl-17-5><a class=lnlinks href=#hl-17-5> 5</a>
</span><span class=lnt id=hl-17-6><a class=lnlinks href=#hl-17-6> 6</a>
</span><span class=lnt id=hl-17-7><a class=lnlinks href=#hl-17-7> 7</a>
</span><span class=lnt id=hl-17-8><a class=lnlinks href=#hl-17-8> 8</a>
</span><span class=lnt id=hl-17-9><a class=lnlinks href=#hl-17-9> 9</a>
</span><span class=lnt id=hl-17-10><a class=lnlinks href=#hl-17-10>10</a>
</span><span class=lnt id=hl-17-11><a class=lnlinks href=#hl-17-11>11</a>
</span><span class=lnt id=hl-17-12><a class=lnlinks href=#hl-17-12>12</a>
</span><span class=lnt id=hl-17-13><a class=lnlinks href=#hl-17-13>13</a>
</span><span class=lnt id=hl-17-14><a class=lnlinks href=#hl-17-14>14</a>
</span><span class=lnt id=hl-17-15><a class=lnlinks href=#hl-17-15>15</a>
</span><span class=lnt id=hl-17-16><a class=lnlinks href=#hl-17-16>16</a>
</span><span class=lnt id=hl-17-17><a class=lnlinks href=#hl-17-17>17</a>
</span><span class=lnt id=hl-17-18><a class=lnlinks href=#hl-17-18>18</a>
</span><span class=lnt id=hl-17-19><a class=lnlinks href=#hl-17-19>19</a>
</span><span class=lnt id=hl-17-20><a class=lnlinks href=#hl-17-20>20</a>
</span><span class=lnt id=hl-17-21><a class=lnlinks href=#hl-17-21>21</a>
</span><span class=lnt id=hl-17-22><a class=lnlinks href=#hl-17-22>22</a>
</span><span class=lnt id=hl-17-23><a class=lnlinks href=#hl-17-23>23</a>
</span><span class=lnt id=hl-17-24><a class=lnlinks href=#hl-17-24>24</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 3.1 테스트 케이스 추가</span>
</span></span><span class=line><span class=cl>cat &gt;&gt; src/services/payment.service.test.js <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>test(&#39;should throw error for null transaction&#39;, async () =&gt; {
</span></span></span><span class=line><span class=cl><span class=s>  const service = new PaymentService();
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  await expect(service.processPayment(null))
</span></span></span><span class=line><span class=cl><span class=s>    .rejects.toThrow(&#39;Invalid transaction data&#39;);
</span></span></span><span class=line><span class=cl><span class=s>});
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>test(&#39;should throw error for transaction without amount&#39;, async () =&gt; {
</span></span></span><span class=line><span class=cl><span class=s>  const service = new PaymentService();
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  await expect(service.processPayment({}))
</span></span></span><span class=line><span class=cl><span class=s>    .rejects.toThrow(&#39;Invalid transaction data&#39;);
</span></span></span><span class=line><span class=cl><span class=s>});
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3.2 테스트 실행</span>
</span></span><span class=line><span class=cl>npm <span class=nb>test</span> src/services/payment.service.test.js
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3.3 테스트 커밋</span>
</span></span><span class=line><span class=cl>git add src/services/payment.service.test.js
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;test: add tests for payment service null checks&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>Step 4: 배포</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1> 1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2> 2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3> 3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4> 4</a>
</span><span class=lnt id=hl-18-5><a class=lnlinks href=#hl-18-5> 5</a>
</span><span class=lnt id=hl-18-6><a class=lnlinks href=#hl-18-6> 6</a>
</span><span class=lnt id=hl-18-7><a class=lnlinks href=#hl-18-7> 7</a>
</span><span class=lnt id=hl-18-8><a class=lnlinks href=#hl-18-8> 8</a>
</span><span class=lnt id=hl-18-9><a class=lnlinks href=#hl-18-9> 9</a>
</span><span class=lnt id=hl-18-10><a class=lnlinks href=#hl-18-10>10</a>
</span><span class=lnt id=hl-18-11><a class=lnlinks href=#hl-18-11>11</a>
</span><span class=lnt id=hl-18-12><a class=lnlinks href=#hl-18-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 4.1 변경사항 푸시</span>
</span></span><span class=line><span class=cl>git push origin main
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 4.2 CI/CD 파이프라인 모니터링</span>
</span></span><span class=line><span class=cl><span class=c1># GitHub Actions에서 자동으로:</span>
</span></span><span class=line><span class=cl><span class=c1># - 테스트 실행</span>
</span></span><span class=line><span class=cl><span class=c1># - 빌드</span>
</span></span><span class=line><span class=cl><span class=c1># - 스테이징 배포</span>
</span></span><span class=line><span class=cl><span class=c1># - 프로덕션 배포</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 4.3 배포 확인</span>
</span></span><span class=line><span class=cl>npm run health-check:prod
</span></span></code></pre></td></tr></table></div></div><h4 id=시나리오-3-대규모-기능-개발>시나리오 3: 대규모 기능 개발<a hidden class=anchor aria-hidden=true href=#시나리오-3-대규모-기능-개발>#</a></h4><p><strong>상황</strong>: 여러 개발자가 새로운 대시보드 시스템 구현</p><p>Step 1: 기능 플래그와 아키텍처 설계</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1> 1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2> 2</a>
</span><span class=lnt id=hl-19-3><a class=lnlinks href=#hl-19-3> 3</a>
</span><span class=lnt id=hl-19-4><a class=lnlinks href=#hl-19-4> 4</a>
</span><span class=lnt id=hl-19-5><a class=lnlinks href=#hl-19-5> 5</a>
</span><span class=lnt id=hl-19-6><a class=lnlinks href=#hl-19-6> 6</a>
</span><span class=lnt id=hl-19-7><a class=lnlinks href=#hl-19-7> 7</a>
</span><span class=lnt id=hl-19-8><a class=lnlinks href=#hl-19-8> 8</a>
</span><span class=lnt id=hl-19-9><a class=lnlinks href=#hl-19-9> 9</a>
</span><span class=lnt id=hl-19-10><a class=lnlinks href=#hl-19-10>10</a>
</span><span class=lnt id=hl-19-11><a class=lnlinks href=#hl-19-11>11</a>
</span><span class=lnt id=hl-19-12><a class=lnlinks href=#hl-19-12>12</a>
</span><span class=lnt id=hl-19-13><a class=lnlinks href=#hl-19-13>13</a>
</span><span class=lnt id=hl-19-14><a class=lnlinks href=#hl-19-14>14</a>
</span><span class=lnt id=hl-19-15><a class=lnlinks href=#hl-19-15>15</a>
</span><span class=lnt id=hl-19-16><a class=lnlinks href=#hl-19-16>16</a>
</span><span class=lnt id=hl-19-17><a class=lnlinks href=#hl-19-17>17</a>
</span><span class=lnt id=hl-19-18><a class=lnlinks href=#hl-19-18>18</a>
</span><span class=lnt id=hl-19-19><a class=lnlinks href=#hl-19-19>19</a>
</span><span class=lnt id=hl-19-20><a class=lnlinks href=#hl-19-20>20</a>
</span><span class=lnt id=hl-19-21><a class=lnlinks href=#hl-19-21>21</a>
</span><span class=lnt id=hl-19-22><a class=lnlinks href=#hl-19-22>22</a>
</span><span class=lnt id=hl-19-23><a class=lnlinks href=#hl-19-23>23</a>
</span><span class=lnt id=hl-19-24><a class=lnlinks href=#hl-19-24>24</a>
</span><span class=lnt id=hl-19-25><a class=lnlinks href=#hl-19-25>25</a>
</span><span class=lnt id=hl-19-26><a class=lnlinks href=#hl-19-26>26</a>
</span><span class=lnt id=hl-19-27><a class=lnlinks href=#hl-19-27>27</a>
</span><span class=lnt id=hl-19-28><a class=lnlinks href=#hl-19-28>28</a>
</span><span class=lnt id=hl-19-29><a class=lnlinks href=#hl-19-29>29</a>
</span><span class=lnt id=hl-19-30><a class=lnlinks href=#hl-19-30>30</a>
</span><span class=lnt id=hl-19-31><a class=lnlinks href=#hl-19-31>31</a>
</span><span class=lnt id=hl-19-32><a class=lnlinks href=#hl-19-32>32</a>
</span><span class=lnt id=hl-19-33><a class=lnlinks href=#hl-19-33>33</a>
</span><span class=lnt id=hl-19-34><a class=lnlinks href=#hl-19-34>34</a>
</span><span class=lnt id=hl-19-35><a class=lnlinks href=#hl-19-35>35</a>
</span><span class=lnt id=hl-19-36><a class=lnlinks href=#hl-19-36>36</a>
</span><span class=lnt id=hl-19-37><a class=lnlinks href=#hl-19-37>37</a>
</span><span class=lnt id=hl-19-38><a class=lnlinks href=#hl-19-38>38</a>
</span><span class=lnt id=hl-19-39><a class=lnlinks href=#hl-19-39>39</a>
</span><span class=lnt id=hl-19-40><a class=lnlinks href=#hl-19-40>40</a>
</span><span class=lnt id=hl-19-41><a class=lnlinks href=#hl-19-41>41</a>
</span><span class=lnt id=hl-19-42><a class=lnlinks href=#hl-19-42>42</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 1.1 팀 미팅 후 기능 플래그 구조 설계</span>
</span></span><span class=line><span class=cl>cat &gt; config/feature-flags.json <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;features&#34;: {
</span></span></span><span class=line><span class=cl><span class=s>    &#34;newDashboard&#34;: {
</span></span></span><span class=line><span class=cl><span class=s>      &#34;enabled&#34;: false,
</span></span></span><span class=line><span class=cl><span class=s>      &#34;components&#34;: {
</span></span></span><span class=line><span class=cl><span class=s>        &#34;layout&#34;: false,
</span></span></span><span class=line><span class=cl><span class=s>        &#34;widgets&#34;: false,
</span></span></span><span class=line><span class=cl><span class=s>        &#34;analytics&#34;: false,
</span></span></span><span class=line><span class=cl><span class=s>        &#34;charts&#34;: false
</span></span></span><span class=line><span class=cl><span class=s>      },
</span></span></span><span class=line><span class=cl><span class=s>      &#34;rollout&#34;: {
</span></span></span><span class=line><span class=cl><span class=s>        &#34;percentage&#34;: 0,
</span></span></span><span class=line><span class=cl><span class=s>        &#34;targetGroups&#34;: [&#34;beta&#34;, &#34;internal&#34;],
</span></span></span><span class=line><span class=cl><span class=s>        &#34;excludeGroups&#34;: [&#34;enterprise&#34;]
</span></span></span><span class=line><span class=cl><span class=s>      }
</span></span></span><span class=line><span class=cl><span class=s>    }
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 1.2 아키텍처 문서 작성</span>
</span></span><span class=line><span class=cl>cat &gt; docs/new-dashboard-architecture.md <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s># New Dashboard Architecture
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>## Components
</span></span></span><span class=line><span class=cl><span class=s>1. Layout System
</span></span></span><span class=line><span class=cl><span class=s>2. Widget Framework
</span></span></span><span class=line><span class=cl><span class=s>3. Analytics Engine
</span></span></span><span class=line><span class=cl><span class=s>4. Chart Library
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>## Implementation Phases
</span></span></span><span class=line><span class=cl><span class=s>- Phase 1: Basic Layout (Developer A)
</span></span></span><span class=line><span class=cl><span class=s>- Phase 2: Widget System (Developer B)
</span></span></span><span class=line><span class=cl><span class=s>- Phase 3: Analytics (Developer C)
</span></span></span><span class=line><span class=cl><span class=s>- Phase 4: Interactive Charts (Developer D)
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git add config/feature-flags.json docs/
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;docs: add new dashboard architecture and feature flags&#34;</span>
</span></span><span class=line><span class=cl>git push origin main
</span></span></code></pre></td></tr></table></div></div><p>Step 2: 개발자 A - 레이아웃 시스템</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-20-1><a class=lnlinks href=#hl-20-1> 1</a>
</span><span class=lnt id=hl-20-2><a class=lnlinks href=#hl-20-2> 2</a>
</span><span class=lnt id=hl-20-3><a class=lnlinks href=#hl-20-3> 3</a>
</span><span class=lnt id=hl-20-4><a class=lnlinks href=#hl-20-4> 4</a>
</span><span class=lnt id=hl-20-5><a class=lnlinks href=#hl-20-5> 5</a>
</span><span class=lnt id=hl-20-6><a class=lnlinks href=#hl-20-6> 6</a>
</span><span class=lnt id=hl-20-7><a class=lnlinks href=#hl-20-7> 7</a>
</span><span class=lnt id=hl-20-8><a class=lnlinks href=#hl-20-8> 8</a>
</span><span class=lnt id=hl-20-9><a class=lnlinks href=#hl-20-9> 9</a>
</span><span class=lnt id=hl-20-10><a class=lnlinks href=#hl-20-10>10</a>
</span><span class=lnt id=hl-20-11><a class=lnlinks href=#hl-20-11>11</a>
</span><span class=lnt id=hl-20-12><a class=lnlinks href=#hl-20-12>12</a>
</span><span class=lnt id=hl-20-13><a class=lnlinks href=#hl-20-13>13</a>
</span><span class=lnt id=hl-20-14><a class=lnlinks href=#hl-20-14>14</a>
</span><span class=lnt id=hl-20-15><a class=lnlinks href=#hl-20-15>15</a>
</span><span class=lnt id=hl-20-16><a class=lnlinks href=#hl-20-16>16</a>
</span><span class=lnt id=hl-20-17><a class=lnlinks href=#hl-20-17>17</a>
</span><span class=lnt id=hl-20-18><a class=lnlinks href=#hl-20-18>18</a>
</span><span class=lnt id=hl-20-19><a class=lnlinks href=#hl-20-19>19</a>
</span><span class=lnt id=hl-20-20><a class=lnlinks href=#hl-20-20>20</a>
</span><span class=lnt id=hl-20-21><a class=lnlinks href=#hl-20-21>21</a>
</span><span class=lnt id=hl-20-22><a class=lnlinks href=#hl-20-22>22</a>
</span><span class=lnt id=hl-20-23><a class=lnlinks href=#hl-20-23>23</a>
</span><span class=lnt id=hl-20-24><a class=lnlinks href=#hl-20-24>24</a>
</span><span class=lnt id=hl-20-25><a class=lnlinks href=#hl-20-25>25</a>
</span><span class=lnt id=hl-20-26><a class=lnlinks href=#hl-20-26>26</a>
</span><span class=lnt id=hl-20-27><a class=lnlinks href=#hl-20-27>27</a>
</span><span class=lnt id=hl-20-28><a class=lnlinks href=#hl-20-28>28</a>
</span><span class=lnt id=hl-20-29><a class=lnlinks href=#hl-20-29>29</a>
</span><span class=lnt id=hl-20-30><a class=lnlinks href=#hl-20-30>30</a>
</span><span class=lnt id=hl-20-31><a class=lnlinks href=#hl-20-31>31</a>
</span><span class=lnt id=hl-20-32><a class=lnlinks href=#hl-20-32>32</a>
</span><span class=lnt id=hl-20-33><a class=lnlinks href=#hl-20-33>33</a>
</span><span class=lnt id=hl-20-34><a class=lnlinks href=#hl-20-34>34</a>
</span><span class=lnt id=hl-20-35><a class=lnlinks href=#hl-20-35>35</a>
</span><span class=lnt id=hl-20-36><a class=lnlinks href=#hl-20-36>36</a>
</span><span class=lnt id=hl-20-37><a class=lnlinks href=#hl-20-37>37</a>
</span><span class=lnt id=hl-20-38><a class=lnlinks href=#hl-20-38>38</a>
</span><span class=lnt id=hl-20-39><a class=lnlinks href=#hl-20-39>39</a>
</span><span class=lnt id=hl-20-40><a class=lnlinks href=#hl-20-40>40</a>
</span><span class=lnt id=hl-20-41><a class=lnlinks href=#hl-20-41>41</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 2.1 최신 변경사항 동기화</span>
</span></span><span class=line><span class=cl>git pull origin main
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2.2 레이아웃 컴포넌트 구현</span>
</span></span><span class=line><span class=cl>mkdir -p src/components/Dashboard/Layout
</span></span><span class=line><span class=cl>cat &gt; src/components/Dashboard/Layout/DashboardLayout.jsx <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>export function DashboardLayout({ children }) {
</span></span></span><span class=line><span class=cl><span class=s>  const { isEnabled, getComponent } = useFeatureFlag(&#39;newDashboard&#39;);
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  if (!isEnabled || !getComponent(&#39;layout&#39;)) {
</span></span></span><span class=line><span class=cl><span class=s>    return &lt;LegacyDashboard&gt;{children}&lt;/LegacyDashboard&gt;;
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  return (
</span></span></span><span class=line><span class=cl><span class=s>    &lt;div className=&#34;dashboard-layout&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=s>      &lt;Sidebar /&gt;
</span></span></span><span class=line><span class=cl><span class=s>      &lt;main className=&#34;dashboard-content&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=s>        {children}
</span></span></span><span class=line><span class=cl><span class=s>      &lt;/main&gt;
</span></span></span><span class=line><span class=cl><span class=s>    &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=s>  );
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2.3 테스트 작성</span>
</span></span><span class=line><span class=cl>cat &gt; src/components/Dashboard/Layout/DashboardLayout.test.jsx <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>describe(&#39;DashboardLayout&#39;, () =&gt; {
</span></span></span><span class=line><span class=cl><span class=s>  it(&#39;renders legacy dashboard when feature is disabled&#39;, () =&gt; {
</span></span></span><span class=line><span class=cl><span class=s>    // 테스트 코드
</span></span></span><span class=line><span class=cl><span class=s>  });
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  it(&#39;renders new layout when feature is enabled&#39;, () =&gt; {
</span></span></span><span class=line><span class=cl><span class=s>    // 테스트 코드
</span></span></span><span class=line><span class=cl><span class=s>  });
</span></span></span><span class=line><span class=cl><span class=s>});
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2.4 커밋 및 푸시</span>
</span></span><span class=line><span class=cl>git add src/components/Dashboard/Layout/
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;feat: implement dashboard layout system&#34;</span>
</span></span><span class=line><span class=cl>git push origin main
</span></span></code></pre></td></tr></table></div></div><p>Step 3: 개발자 B - 위젯 시스템 (동시 작업)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1> 1</a>
</span><span class=lnt id=hl-21-2><a class=lnlinks href=#hl-21-2> 2</a>
</span><span class=lnt id=hl-21-3><a class=lnlinks href=#hl-21-3> 3</a>
</span><span class=lnt id=hl-21-4><a class=lnlinks href=#hl-21-4> 4</a>
</span><span class=lnt id=hl-21-5><a class=lnlinks href=#hl-21-5> 5</a>
</span><span class=lnt id=hl-21-6><a class=lnlinks href=#hl-21-6> 6</a>
</span><span class=lnt id=hl-21-7><a class=lnlinks href=#hl-21-7> 7</a>
</span><span class=lnt id=hl-21-8><a class=lnlinks href=#hl-21-8> 8</a>
</span><span class=lnt id=hl-21-9><a class=lnlinks href=#hl-21-9> 9</a>
</span><span class=lnt id=hl-21-10><a class=lnlinks href=#hl-21-10>10</a>
</span><span class=lnt id=hl-21-11><a class=lnlinks href=#hl-21-11>11</a>
</span><span class=lnt id=hl-21-12><a class=lnlinks href=#hl-21-12>12</a>
</span><span class=lnt id=hl-21-13><a class=lnlinks href=#hl-21-13>13</a>
</span><span class=lnt id=hl-21-14><a class=lnlinks href=#hl-21-14>14</a>
</span><span class=lnt id=hl-21-15><a class=lnlinks href=#hl-21-15>15</a>
</span><span class=lnt id=hl-21-16><a class=lnlinks href=#hl-21-16>16</a>
</span><span class=lnt id=hl-21-17><a class=lnlinks href=#hl-21-17>17</a>
</span><span class=lnt id=hl-21-18><a class=lnlinks href=#hl-21-18>18</a>
</span><span class=lnt id=hl-21-19><a class=lnlinks href=#hl-21-19>19</a>
</span><span class=lnt id=hl-21-20><a class=lnlinks href=#hl-21-20>20</a>
</span><span class=lnt id=hl-21-21><a class=lnlinks href=#hl-21-21>21</a>
</span><span class=lnt id=hl-21-22><a class=lnlinks href=#hl-21-22>22</a>
</span><span class=lnt id=hl-21-23><a class=lnlinks href=#hl-21-23>23</a>
</span><span class=lnt id=hl-21-24><a class=lnlinks href=#hl-21-24>24</a>
</span><span class=lnt id=hl-21-25><a class=lnlinks href=#hl-21-25>25</a>
</span><span class=lnt id=hl-21-26><a class=lnlinks href=#hl-21-26>26</a>
</span><span class=lnt id=hl-21-27><a class=lnlinks href=#hl-21-27>27</a>
</span><span class=lnt id=hl-21-28><a class=lnlinks href=#hl-21-28>28</a>
</span><span class=lnt id=hl-21-29><a class=lnlinks href=#hl-21-29>29</a>
</span><span class=lnt id=hl-21-30><a class=lnlinks href=#hl-21-30>30</a>
</span><span class=lnt id=hl-21-31><a class=lnlinks href=#hl-21-31>31</a>
</span><span class=lnt id=hl-21-32><a class=lnlinks href=#hl-21-32>32</a>
</span><span class=lnt id=hl-21-33><a class=lnlinks href=#hl-21-33>33</a>
</span><span class=lnt id=hl-21-34><a class=lnlinks href=#hl-21-34>34</a>
</span><span class=lnt id=hl-21-35><a class=lnlinks href=#hl-21-35>35</a>
</span><span class=lnt id=hl-21-36><a class=lnlinks href=#hl-21-36>36</a>
</span><span class=lnt id=hl-21-37><a class=lnlinks href=#hl-21-37>37</a>
</span><span class=lnt id=hl-21-38><a class=lnlinks href=#hl-21-38>38</a>
</span><span class=lnt id=hl-21-39><a class=lnlinks href=#hl-21-39>39</a>
</span><span class=lnt id=hl-21-40><a class=lnlinks href=#hl-21-40>40</a>
</span><span class=lnt id=hl-21-41><a class=lnlinks href=#hl-21-41>41</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 3.1 최신 변경사항 동기화</span>
</span></span><span class=line><span class=cl>git pull origin main
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3.2 위젯 프레임워크 구현</span>
</span></span><span class=line><span class=cl>mkdir -p src/components/Dashboard/Widgets
</span></span><span class=line><span class=cl>cat &gt; src/components/Dashboard/Widgets/WidgetContainer.jsx <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>export function WidgetContainer({ type, data }) {
</span></span></span><span class=line><span class=cl><span class=s>  const { getComponent } = useFeatureFlag(&#39;newDashboard&#39;);
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  if (!getComponent(&#39;widgets&#39;)) {
</span></span></span><span class=line><span class=cl><span class=s>    return null;
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  const Widget = widgetRegistry[type];
</span></span></span><span class=line><span class=cl><span class=s>  if (!Widget) {
</span></span></span><span class=line><span class=cl><span class=s>    console.error(`Unknown widget type: ${type}`);
</span></span></span><span class=line><span class=cl><span class=s>    return null;
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  return (
</span></span></span><span class=line><span class=cl><span class=s>    &lt;div className=&#34;widget-container&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=s>      &lt;Widget data={data} /&gt;
</span></span></span><span class=line><span class=cl><span class=s>    &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=s>  );
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3.3 위젯 레지스트리 생성</span>
</span></span><span class=line><span class=cl>cat &gt; src/components/Dashboard/Widgets/registry.js <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>export const widgetRegistry = {
</span></span></span><span class=line><span class=cl><span class=s>  &#39;chart&#39;: ChartWidget,
</span></span></span><span class=line><span class=cl><span class=s>  &#39;stats&#39;: StatsWidget,
</span></span></span><span class=line><span class=cl><span class=s>  &#39;table&#39;: TableWidget,
</span></span></span><span class=line><span class=cl><span class=s>  &#39;timeline&#39;: TimelineWidget
</span></span></span><span class=line><span class=cl><span class=s>};
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3.4 커밋 및 푸시</span>
</span></span><span class=line><span class=cl>git add src/components/Dashboard/Widgets/
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;feat: implement widget framework for dashboard&#34;</span>
</span></span><span class=line><span class=cl>git push origin main
</span></span></code></pre></td></tr></table></div></div><p>Step 4: 통합 및 테스트</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1> 1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2> 2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3> 3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4> 4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5> 5</a>
</span><span class=lnt id=hl-22-6><a class=lnlinks href=#hl-22-6> 6</a>
</span><span class=lnt id=hl-22-7><a class=lnlinks href=#hl-22-7> 7</a>
</span><span class=lnt id=hl-22-8><a class=lnlinks href=#hl-22-8> 8</a>
</span><span class=lnt id=hl-22-9><a class=lnlinks href=#hl-22-9> 9</a>
</span><span class=lnt id=hl-22-10><a class=lnlinks href=#hl-22-10>10</a>
</span><span class=lnt id=hl-22-11><a class=lnlinks href=#hl-22-11>11</a>
</span><span class=lnt id=hl-22-12><a class=lnlinks href=#hl-22-12>12</a>
</span><span class=lnt id=hl-22-13><a class=lnlinks href=#hl-22-13>13</a>
</span><span class=lnt id=hl-22-14><a class=lnlinks href=#hl-22-14>14</a>
</span><span class=lnt id=hl-22-15><a class=lnlinks href=#hl-22-15>15</a>
</span><span class=lnt id=hl-22-16><a class=lnlinks href=#hl-22-16>16</a>
</span><span class=lnt id=hl-22-17><a class=lnlinks href=#hl-22-17>17</a>
</span><span class=lnt id=hl-22-18><a class=lnlinks href=#hl-22-18>18</a>
</span><span class=lnt id=hl-22-19><a class=lnlinks href=#hl-22-19>19</a>
</span><span class=lnt id=hl-22-20><a class=lnlinks href=#hl-22-20>20</a>
</span><span class=lnt id=hl-22-21><a class=lnlinks href=#hl-22-21>21</a>
</span><span class=lnt id=hl-22-22><a class=lnlinks href=#hl-22-22>22</a>
</span><span class=lnt id=hl-22-23><a class=lnlinks href=#hl-22-23>23</a>
</span><span class=lnt id=hl-22-24><a class=lnlinks href=#hl-22-24>24</a>
</span><span class=lnt id=hl-22-25><a class=lnlinks href=#hl-22-25>25</a>
</span><span class=lnt id=hl-22-26><a class=lnlinks href=#hl-22-26>26</a>
</span><span class=lnt id=hl-22-27><a class=lnlinks href=#hl-22-27>27</a>
</span><span class=lnt id=hl-22-28><a class=lnlinks href=#hl-22-28>28</a>
</span><span class=lnt id=hl-22-29><a class=lnlinks href=#hl-22-29>29</a>
</span><span class=lnt id=hl-22-30><a class=lnlinks href=#hl-22-30>30</a>
</span><span class=lnt id=hl-22-31><a class=lnlinks href=#hl-22-31>31</a>
</span><span class=lnt id=hl-22-32><a class=lnlinks href=#hl-22-32>32</a>
</span><span class=lnt id=hl-22-33><a class=lnlinks href=#hl-22-33>33</a>
</span><span class=lnt id=hl-22-34><a class=lnlinks href=#hl-22-34>34</a>
</span><span class=lnt id=hl-22-35><a class=lnlinks href=#hl-22-35>35</a>
</span><span class=lnt id=hl-22-36><a class=lnlinks href=#hl-22-36>36</a>
</span><span class=lnt id=hl-22-37><a class=lnlinks href=#hl-22-37>37</a>
</span><span class=lnt id=hl-22-38><a class=lnlinks href=#hl-22-38>38</a>
</span><span class=lnt id=hl-22-39><a class=lnlinks href=#hl-22-39>39</a>
</span><span class=lnt id=hl-22-40><a class=lnlinks href=#hl-22-40>40</a>
</span><span class=lnt id=hl-22-41><a class=lnlinks href=#hl-22-41>41</a>
</span><span class=lnt id=hl-22-42><a class=lnlinks href=#hl-22-42>42</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 4.1 통합 테스트 작성</span>
</span></span><span class=line><span class=cl>cat &gt; src/components/Dashboard/Dashboard.integration.test.jsx <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>describe(&#39;Dashboard Integration&#39;, () =&gt; {
</span></span></span><span class=line><span class=cl><span class=s>  beforeEach(() =&gt; {
</span></span></span><span class=line><span class=cl><span class=s>    // 모든 기능 플래그 활성화
</span></span></span><span class=line><span class=cl><span class=s>    mockFeatureFlags({
</span></span></span><span class=line><span class=cl><span class=s>      newDashboard: {
</span></span></span><span class=line><span class=cl><span class=s>        enabled: true,
</span></span></span><span class=line><span class=cl><span class=s>        components: {
</span></span></span><span class=line><span class=cl><span class=s>          layout: true,
</span></span></span><span class=line><span class=cl><span class=s>          widgets: true,
</span></span></span><span class=line><span class=cl><span class=s>          analytics: true,
</span></span></span><span class=line><span class=cl><span class=s>          charts: true
</span></span></span><span class=line><span class=cl><span class=s>        }
</span></span></span><span class=line><span class=cl><span class=s>      }
</span></span></span><span class=line><span class=cl><span class=s>    });
</span></span></span><span class=line><span class=cl><span class=s>  });
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  it(&#39;renders complete dashboard with all components&#39;, () =&gt; {
</span></span></span><span class=line><span class=cl><span class=s>    render(&lt;Dashboard /&gt;);
</span></span></span><span class=line><span class=cl><span class=s>    
</span></span></span><span class=line><span class=cl><span class=s>    expect(screen.getByTestId(&#39;dashboard-layout&#39;)).toBeInTheDocument();
</span></span></span><span class=line><span class=cl><span class=s>    expect(screen.getByTestId(&#39;widget-container&#39;)).toBeInTheDocument();
</span></span></span><span class=line><span class=cl><span class=s>    expect(screen.getByTestId(&#39;analytics-panel&#39;)).toBeInTheDocument();
</span></span></span><span class=line><span class=cl><span class=s>  });
</span></span></span><span class=line><span class=cl><span class=s>});
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 4.2 E2E 테스트 작성</span>
</span></span><span class=line><span class=cl>cat &gt; tests/e2e/dashboard.spec.js <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>describe(&#39;Dashboard E2E&#39;, () =&gt; {
</span></span></span><span class=line><span class=cl><span class=s>  it(&#39;loads dashboard with feature flags&#39;, () =&gt; {
</span></span></span><span class=line><span class=cl><span class=s>    cy.visit(&#39;/dashboard&#39;);
</span></span></span><span class=line><span class=cl><span class=s>    cy.getCookie(&#39;featureFlags&#39;).should(&#39;exist&#39;);
</span></span></span><span class=line><span class=cl><span class=s>    cy.get(&#39;[data-testid=&#34;dashboard-layout&#34;]&#39;).should(&#39;be.visible&#39;);
</span></span></span><span class=line><span class=cl><span class=s>  });
</span></span></span><span class=line><span class=cl><span class=s>});
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git add src/components/Dashboard/*.test.jsx tests/e2e/
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;test: add integration and e2e tests for dashboard&#34;</span>
</span></span><span class=line><span class=cl>git push origin main
</span></span></code></pre></td></tr></table></div></div><h4 id=시나리오-4-점진적-배포-progressive-rollout>시나리오 4: 점진적 배포 (Progressive Rollout)<a hidden class=anchor aria-hidden=true href=#시나리오-4-점진적-배포-progressive-rollout>#</a></h4><p><strong>상황</strong>: 새로운 검색 기능을 단계적으로 배포</p><p>Step 1: 초기 설정</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1> 1</a>
</span><span class=lnt id=hl-23-2><a class=lnlinks href=#hl-23-2> 2</a>
</span><span class=lnt id=hl-23-3><a class=lnlinks href=#hl-23-3> 3</a>
</span><span class=lnt id=hl-23-4><a class=lnlinks href=#hl-23-4> 4</a>
</span><span class=lnt id=hl-23-5><a class=lnlinks href=#hl-23-5> 5</a>
</span><span class=lnt id=hl-23-6><a class=lnlinks href=#hl-23-6> 6</a>
</span><span class=lnt id=hl-23-7><a class=lnlinks href=#hl-23-7> 7</a>
</span><span class=lnt id=hl-23-8><a class=lnlinks href=#hl-23-8> 8</a>
</span><span class=lnt id=hl-23-9><a class=lnlinks href=#hl-23-9> 9</a>
</span><span class=lnt id=hl-23-10><a class=lnlinks href=#hl-23-10>10</a>
</span><span class=lnt id=hl-23-11><a class=lnlinks href=#hl-23-11>11</a>
</span><span class=lnt id=hl-23-12><a class=lnlinks href=#hl-23-12>12</a>
</span><span class=lnt id=hl-23-13><a class=lnlinks href=#hl-23-13>13</a>
</span><span class=lnt id=hl-23-14><a class=lnlinks href=#hl-23-14>14</a>
</span><span class=lnt id=hl-23-15><a class=lnlinks href=#hl-23-15>15</a>
</span><span class=lnt id=hl-23-16><a class=lnlinks href=#hl-23-16>16</a>
</span><span class=lnt id=hl-23-17><a class=lnlinks href=#hl-23-17>17</a>
</span><span class=lnt id=hl-23-18><a class=lnlinks href=#hl-23-18>18</a>
</span><span class=lnt id=hl-23-19><a class=lnlinks href=#hl-23-19>19</a>
</span><span class=lnt id=hl-23-20><a class=lnlinks href=#hl-23-20>20</a>
</span><span class=lnt id=hl-23-21><a class=lnlinks href=#hl-23-21>21</a>
</span><span class=lnt id=hl-23-22><a class=lnlinks href=#hl-23-22>22</a>
</span><span class=lnt id=hl-23-23><a class=lnlinks href=#hl-23-23>23</a>
</span><span class=lnt id=hl-23-24><a class=lnlinks href=#hl-23-24>24</a>
</span><span class=lnt id=hl-23-25><a class=lnlinks href=#hl-23-25>25</a>
</span><span class=lnt id=hl-23-26><a class=lnlinks href=#hl-23-26>26</a>
</span><span class=lnt id=hl-23-27><a class=lnlinks href=#hl-23-27>27</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 1.1 기능 플래그 구성</span>
</span></span><span class=line><span class=cl>cat &gt; config/feature-flags.json <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;features&#34;: {
</span></span></span><span class=line><span class=cl><span class=s>    &#34;newSearch&#34;: {
</span></span></span><span class=line><span class=cl><span class=s>      &#34;enabled&#34;: true,
</span></span></span><span class=line><span class=cl><span class=s>      &#34;rollout&#34;: {
</span></span></span><span class=line><span class=cl><span class=s>        &#34;percentage&#34;: 0,
</span></span></span><span class=line><span class=cl><span class=s>        &#34;stages&#34;: [
</span></span></span><span class=line><span class=cl><span class=s>          { &#34;percentage&#34;: 5, &#34;date&#34;: &#34;2024-03-15&#34; },
</span></span></span><span class=line><span class=cl><span class=s>          { &#34;percentage&#34;: 25, &#34;date&#34;: &#34;2024-03-17&#34; },
</span></span></span><span class=line><span class=cl><span class=s>          { &#34;percentage&#34;: 50, &#34;date&#34;: &#34;2024-03-19&#34; },
</span></span></span><span class=line><span class=cl><span class=s>          { &#34;percentage&#34;: 100, &#34;date&#34;: &#34;2024-03-21&#34; }
</span></span></span><span class=line><span class=cl><span class=s>        ]
</span></span></span><span class=line><span class=cl><span class=s>      },
</span></span></span><span class=line><span class=cl><span class=s>      &#34;monitoring&#34;: {
</span></span></span><span class=line><span class=cl><span class=s>        &#34;errorThreshold&#34;: 0.01,
</span></span></span><span class=line><span class=cl><span class=s>        &#34;latencyThreshold&#34;: 200
</span></span></span><span class=line><span class=cl><span class=s>      }
</span></span></span><span class=line><span class=cl><span class=s>    }
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git add config/feature-flags.json
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;feat: configure progressive rollout for new search&#34;</span>
</span></span><span class=line><span class=cl>git push origin main
</span></span></code></pre></td></tr></table></div></div><p>Step 2: 모니터링 설정</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1> 1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2> 2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3> 3</a>
</span><span class=lnt id=hl-24-4><a class=lnlinks href=#hl-24-4> 4</a>
</span><span class=lnt id=hl-24-5><a class=lnlinks href=#hl-24-5> 5</a>
</span><span class=lnt id=hl-24-6><a class=lnlinks href=#hl-24-6> 6</a>
</span><span class=lnt id=hl-24-7><a class=lnlinks href=#hl-24-7> 7</a>
</span><span class=lnt id=hl-24-8><a class=lnlinks href=#hl-24-8> 8</a>
</span><span class=lnt id=hl-24-9><a class=lnlinks href=#hl-24-9> 9</a>
</span><span class=lnt id=hl-24-10><a class=lnlinks href=#hl-24-10>10</a>
</span><span class=lnt id=hl-24-11><a class=lnlinks href=#hl-24-11>11</a>
</span><span class=lnt id=hl-24-12><a class=lnlinks href=#hl-24-12>12</a>
</span><span class=lnt id=hl-24-13><a class=lnlinks href=#hl-24-13>13</a>
</span><span class=lnt id=hl-24-14><a class=lnlinks href=#hl-24-14>14</a>
</span><span class=lnt id=hl-24-15><a class=lnlinks href=#hl-24-15>15</a>
</span><span class=lnt id=hl-24-16><a class=lnlinks href=#hl-24-16>16</a>
</span><span class=lnt id=hl-24-17><a class=lnlinks href=#hl-24-17>17</a>
</span><span class=lnt id=hl-24-18><a class=lnlinks href=#hl-24-18>18</a>
</span><span class=lnt id=hl-24-19><a class=lnlinks href=#hl-24-19>19</a>
</span><span class=lnt id=hl-24-20><a class=lnlinks href=#hl-24-20>20</a>
</span><span class=lnt id=hl-24-21><a class=lnlinks href=#hl-24-21>21</a>
</span><span class=lnt id=hl-24-22><a class=lnlinks href=#hl-24-22>22</a>
</span><span class=lnt id=hl-24-23><a class=lnlinks href=#hl-24-23>23</a>
</span><span class=lnt id=hl-24-24><a class=lnlinks href=#hl-24-24>24</a>
</span><span class=lnt id=hl-24-25><a class=lnlinks href=#hl-24-25>25</a>
</span><span class=lnt id=hl-24-26><a class=lnlinks href=#hl-24-26>26</a>
</span><span class=lnt id=hl-24-27><a class=lnlinks href=#hl-24-27>27</a>
</span><span class=lnt id=hl-24-28><a class=lnlinks href=#hl-24-28>28</a>
</span><span class=lnt id=hl-24-29><a class=lnlinks href=#hl-24-29>29</a>
</span><span class=lnt id=hl-24-30><a class=lnlinks href=#hl-24-30>30</a>
</span><span class=lnt id=hl-24-31><a class=lnlinks href=#hl-24-31>31</a>
</span><span class=lnt id=hl-24-32><a class=lnlinks href=#hl-24-32>32</a>
</span><span class=lnt id=hl-24-33><a class=lnlinks href=#hl-24-33>33</a>
</span><span class=lnt id=hl-24-34><a class=lnlinks href=#hl-24-34>34</a>
</span><span class=lnt id=hl-24-35><a class=lnlinks href=#hl-24-35>35</a>
</span><span class=lnt id=hl-24-36><a class=lnlinks href=#hl-24-36>36</a>
</span><span class=lnt id=hl-24-37><a class=lnlinks href=#hl-24-37>37</a>
</span><span class=lnt id=hl-24-38><a class=lnlinks href=#hl-24-38>38</a>
</span><span class=lnt id=hl-24-39><a class=lnlinks href=#hl-24-39>39</a>
</span><span class=lnt id=hl-24-40><a class=lnlinks href=#hl-24-40>40</a>
</span><span class=lnt id=hl-24-41><a class=lnlinks href=#hl-24-41>41</a>
</span><span class=lnt id=hl-24-42><a class=lnlinks href=#hl-24-42>42</a>
</span><span class=lnt id=hl-24-43><a class=lnlinks href=#hl-24-43>43</a>
</span><span class=lnt id=hl-24-44><a class=lnlinks href=#hl-24-44>44</a>
</span><span class=lnt id=hl-24-45><a class=lnlinks href=#hl-24-45>45</a>
</span><span class=lnt id=hl-24-46><a class=lnlinks href=#hl-24-46>46</a>
</span><span class=lnt id=hl-24-47><a class=lnlinks href=#hl-24-47>47</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 2.1 모니터링 대시보드 구성</span>
</span></span><span class=line><span class=cl>cat &gt; monitoring/dashboards/search-rollout.json <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;dashboard&#34;: &#34;Search Feature Rollout&#34;,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;panels&#34;: [
</span></span></span><span class=line><span class=cl><span class=s>    {
</span></span></span><span class=line><span class=cl><span class=s>      &#34;title&#34;: &#34;Error Rate by Search Version&#34;,
</span></span></span><span class=line><span class=cl><span class=s>      &#34;metrics&#34;: [
</span></span></span><span class=line><span class=cl><span class=s>        &#34;search.errors.new&#34;,
</span></span></span><span class=line><span class=cl><span class=s>        &#34;search.errors.legacy&#34;
</span></span></span><span class=line><span class=cl><span class=s>      ]
</span></span></span><span class=line><span class=cl><span class=s>    },
</span></span></span><span class=line><span class=cl><span class=s>    {
</span></span></span><span class=line><span class=cl><span class=s>      &#34;title&#34;: &#34;Search Latency&#34;,
</span></span></span><span class=line><span class=cl><span class=s>      &#34;metrics&#34;: [
</span></span></span><span class=line><span class=cl><span class=s>        &#34;search.latency.p95.new&#34;,
</span></span></span><span class=line><span class=cl><span class=s>        &#34;search.latency.p95.legacy&#34;
</span></span></span><span class=line><span class=cl><span class=s>      ]
</span></span></span><span class=line><span class=cl><span class=s>    },
</span></span></span><span class=line><span class=cl><span class=s>    {
</span></span></span><span class=line><span class=cl><span class=s>      &#34;title&#34;: &#34;User Distribution&#34;,
</span></span></span><span class=line><span class=cl><span class=s>      &#34;metrics&#34;: [
</span></span></span><span class=line><span class=cl><span class=s>        &#34;search.users.new&#34;,
</span></span></span><span class=line><span class=cl><span class=s>        &#34;search.users.legacy&#34;
</span></span></span><span class=line><span class=cl><span class=s>      ]
</span></span></span><span class=line><span class=cl><span class=s>    }
</span></span></span><span class=line><span class=cl><span class=s>  ]
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2.2 알림 규칙 설정</span>
</span></span><span class=line><span class=cl>cat &gt; monitoring/alerts/search-rollout.yaml <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>alerts:
</span></span></span><span class=line><span class=cl><span class=s>  - name: high_error_rate
</span></span></span><span class=line><span class=cl><span class=s>    condition: search.errors.new &gt; 0.01
</span></span></span><span class=line><span class=cl><span class=s>    duration: 5m
</span></span></span><span class=line><span class=cl><span class=s>    action: rollback_feature
</span></span></span><span class=line><span class=cl><span class=s>    
</span></span></span><span class=line><span class=cl><span class=s>  - name: high_latency
</span></span></span><span class=line><span class=cl><span class=s>    condition: search.latency.p95.new &gt; 200ms
</span></span></span><span class=line><span class=cl><span class=s>    duration: 10m
</span></span></span><span class=line><span class=cl><span class=s>    action: notify_team
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git add monitoring/
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;feat: add monitoring for search rollout&#34;</span>
</span></span><span class=line><span class=cl>git push origin main
</span></span></code></pre></td></tr></table></div></div><p>Step 3: 자동 롤아웃 스크립트</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1> 1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2> 2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3> 3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4> 4</a>
</span><span class=lnt id=hl-25-5><a class=lnlinks href=#hl-25-5> 5</a>
</span><span class=lnt id=hl-25-6><a class=lnlinks href=#hl-25-6> 6</a>
</span><span class=lnt id=hl-25-7><a class=lnlinks href=#hl-25-7> 7</a>
</span><span class=lnt id=hl-25-8><a class=lnlinks href=#hl-25-8> 8</a>
</span><span class=lnt id=hl-25-9><a class=lnlinks href=#hl-25-9> 9</a>
</span><span class=lnt id=hl-25-10><a class=lnlinks href=#hl-25-10>10</a>
</span><span class=lnt id=hl-25-11><a class=lnlinks href=#hl-25-11>11</a>
</span><span class=lnt id=hl-25-12><a class=lnlinks href=#hl-25-12>12</a>
</span><span class=lnt id=hl-25-13><a class=lnlinks href=#hl-25-13>13</a>
</span><span class=lnt id=hl-25-14><a class=lnlinks href=#hl-25-14>14</a>
</span><span class=lnt id=hl-25-15><a class=lnlinks href=#hl-25-15>15</a>
</span><span class=lnt id=hl-25-16><a class=lnlinks href=#hl-25-16>16</a>
</span><span class=lnt id=hl-25-17><a class=lnlinks href=#hl-25-17>17</a>
</span><span class=lnt id=hl-25-18><a class=lnlinks href=#hl-25-18>18</a>
</span><span class=lnt id=hl-25-19><a class=lnlinks href=#hl-25-19>19</a>
</span><span class=lnt id=hl-25-20><a class=lnlinks href=#hl-25-20>20</a>
</span><span class=lnt id=hl-25-21><a class=lnlinks href=#hl-25-21>21</a>
</span><span class=lnt id=hl-25-22><a class=lnlinks href=#hl-25-22>22</a>
</span><span class=lnt id=hl-25-23><a class=lnlinks href=#hl-25-23>23</a>
</span><span class=lnt id=hl-25-24><a class=lnlinks href=#hl-25-24>24</a>
</span><span class=lnt id=hl-25-25><a class=lnlinks href=#hl-25-25>25</a>
</span><span class=lnt id=hl-25-26><a class=lnlinks href=#hl-25-26>26</a>
</span><span class=lnt id=hl-25-27><a class=lnlinks href=#hl-25-27>27</a>
</span><span class=lnt id=hl-25-28><a class=lnlinks href=#hl-25-28>28</a>
</span><span class=lnt id=hl-25-29><a class=lnlinks href=#hl-25-29>29</a>
</span><span class=lnt id=hl-25-30><a class=lnlinks href=#hl-25-30>30</a>
</span><span class=lnt id=hl-25-31><a class=lnlinks href=#hl-25-31>31</a>
</span><span class=lnt id=hl-25-32><a class=lnlinks href=#hl-25-32>32</a>
</span><span class=lnt id=hl-25-33><a class=lnlinks href=#hl-25-33>33</a>
</span><span class=lnt id=hl-25-34><a class=lnlinks href=#hl-25-34>34</a>
</span><span class=lnt id=hl-25-35><a class=lnlinks href=#hl-25-35>35</a>
</span><span class=lnt id=hl-25-36><a class=lnlinks href=#hl-25-36>36</a>
</span><span class=lnt id=hl-25-37><a class=lnlinks href=#hl-25-37>37</a>
</span><span class=lnt id=hl-25-38><a class=lnlinks href=#hl-25-38>38</a>
</span><span class=lnt id=hl-25-39><a class=lnlinks href=#hl-25-39>39</a>
</span><span class=lnt id=hl-25-40><a class=lnlinks href=#hl-25-40>40</a>
</span><span class=lnt id=hl-25-41><a class=lnlinks href=#hl-25-41>41</a>
</span><span class=lnt id=hl-25-42><a class=lnlinks href=#hl-25-42>42</a>
</span><span class=lnt id=hl-25-43><a class=lnlinks href=#hl-25-43>43</a>
</span><span class=lnt id=hl-25-44><a class=lnlinks href=#hl-25-44>44</a>
</span><span class=lnt id=hl-25-45><a class=lnlinks href=#hl-25-45>45</a>
</span><span class=lnt id=hl-25-46><a class=lnlinks href=#hl-25-46>46</a>
</span><span class=lnt id=hl-25-47><a class=lnlinks href=#hl-25-47>47</a>
</span><span class=lnt id=hl-25-48><a class=lnlinks href=#hl-25-48>48</a>
</span><span class=lnt id=hl-25-49><a class=lnlinks href=#hl-25-49>49</a>
</span><span class=lnt id=hl-25-50><a class=lnlinks href=#hl-25-50>50</a>
</span><span class=lnt id=hl-25-51><a class=lnlinks href=#hl-25-51>51</a>
</span><span class=lnt id=hl-25-52><a class=lnlinks href=#hl-25-52>52</a>
</span><span class=lnt id=hl-25-53><a class=lnlinks href=#hl-25-53>53</a>
</span><span class=lnt id=hl-25-54><a class=lnlinks href=#hl-25-54>54</a>
</span><span class=lnt id=hl-25-55><a class=lnlinks href=#hl-25-55>55</a>
</span><span class=lnt id=hl-25-56><a class=lnlinks href=#hl-25-56>56</a>
</span><span class=lnt id=hl-25-57><a class=lnlinks href=#hl-25-57>57</a>
</span><span class=lnt id=hl-25-58><a class=lnlinks href=#hl-25-58>58</a>
</span><span class=lnt id=hl-25-59><a class=lnlinks href=#hl-25-59>59</a>
</span><span class=lnt id=hl-25-60><a class=lnlinks href=#hl-25-60>60</a>
</span><span class=lnt id=hl-25-61><a class=lnlinks href=#hl-25-61>61</a>
</span><span class=lnt id=hl-25-62><a class=lnlinks href=#hl-25-62>62</a>
</span><span class=lnt id=hl-25-63><a class=lnlinks href=#hl-25-63>63</a>
</span><span class=lnt id=hl-25-64><a class=lnlinks href=#hl-25-64>64</a>
</span><span class=lnt id=hl-25-65><a class=lnlinks href=#hl-25-65>65</a>
</span><span class=lnt id=hl-25-66><a class=lnlinks href=#hl-25-66>66</a>
</span><span class=lnt id=hl-25-67><a class=lnlinks href=#hl-25-67>67</a>
</span><span class=lnt id=hl-25-68><a class=lnlinks href=#hl-25-68>68</a>
</span><span class=lnt id=hl-25-69><a class=lnlinks href=#hl-25-69>69</a>
</span><span class=lnt id=hl-25-70><a class=lnlinks href=#hl-25-70>70</a>
</span><span class=lnt id=hl-25-71><a class=lnlinks href=#hl-25-71>71</a>
</span><span class=lnt id=hl-25-72><a class=lnlinks href=#hl-25-72>72</a>
</span><span class=lnt id=hl-25-73><a class=lnlinks href=#hl-25-73>73</a>
</span><span class=lnt id=hl-25-74><a class=lnlinks href=#hl-25-74>74</a>
</span><span class=lnt id=hl-25-75><a class=lnlinks href=#hl-25-75>75</a>
</span><span class=lnt id=hl-25-76><a class=lnlinks href=#hl-25-76>76</a>
</span><span class=lnt id=hl-25-77><a class=lnlinks href=#hl-25-77>77</a>
</span><span class=lnt id=hl-25-78><a class=lnlinks href=#hl-25-78>78</a>
</span><span class=lnt id=hl-25-79><a class=lnlinks href=#hl-25-79>79</a>
</span><span class=lnt id=hl-25-80><a class=lnlinks href=#hl-25-80>80</a>
</span><span class=lnt id=hl-25-81><a class=lnlinks href=#hl-25-81>81</a>
</span><span class=lnt id=hl-25-82><a class=lnlinks href=#hl-25-82>82</a>
</span><span class=lnt id=hl-25-83><a class=lnlinks href=#hl-25-83>83</a>
</span><span class=lnt id=hl-25-84><a class=lnlinks href=#hl-25-84>84</a>
</span><span class=lnt id=hl-25-85><a class=lnlinks href=#hl-25-85>85</a>
</span><span class=lnt id=hl-25-86><a class=lnlinks href=#hl-25-86>86</a>
</span><span class=lnt id=hl-25-87><a class=lnlinks href=#hl-25-87>87</a>
</span><span class=lnt id=hl-25-88><a class=lnlinks href=#hl-25-88>88</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 3.1 롤아웃 자동화 스크립트</span>
</span></span><span class=line><span class=cl>cat &gt; scripts/progressive-rollout.js <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>const { FeatureFlags } = require(&#39;../lib/feature-flags&#39;);
</span></span></span><span class=line><span class=cl><span class=s>const { Monitoring } = require(&#39;../lib/monitoring&#39;);
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>async function progressiveRollout(featureName) {
</span></span></span><span class=line><span class=cl><span class=s>  const flags = new FeatureFlags();
</span></span></span><span class=line><span class=cl><span class=s>  const monitoring = new Monitoring();
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  const feature = await flags.getFeature(featureName);
</span></span></span><span class=line><span class=cl><span class=s>  const currentStage = getCurrentStage(feature.rollout.stages);
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  if (!currentStage) {
</span></span></span><span class=line><span class=cl><span class=s>    console.log(&#39;Rollout complete&#39;);
</span></span></span><span class=line><span class=cl><span class=s>    return;
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  // 다음 단계로 진행
</span></span></span><span class=line><span class=cl><span class=s>  await flags.updateRollout(featureName, {
</span></span></span><span class=line><span class=cl><span class=s>    percentage: currentStage.percentage
</span></span></span><span class=line><span class=cl><span class=s>  });
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  // 30분 모니터링
</span></span></span><span class=line><span class=cl><span class=s>  await monitorRollout(featureName, 30 * 60 * 1000);
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  // 메트릭 확인
</span></span></span><span class=line><span class=cl><span class=s>  const metrics = await monitoring.getFeatureMetrics(featureName);
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  if (metrics.errorRate &gt; feature.monitoring.errorThreshold) {
</span></span></span><span class=line><span class=cl><span class=s>    console.error(&#39;Error threshold exceeded, rolling back&#39;);
</span></span></span><span class=line><span class=cl><span class=s>    await flags.rollback(featureName);
</span></span></span><span class=line><span class=cl><span class=s>    return;
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  console.log(`Successfully rolled out to ${currentStage.percentage}%`);
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>// 매일 실행되는 cron job
</span></span></span><span class=line><span class=cl><span class=s>progressiveRollout(&#39;newSearch&#39;);
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3.2 GitHub Actions 워크플로우</span>
</span></span><span class=line><span class=cl>cat &gt; .github/workflows/progressive-rollout.yml <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>name: Progressive Feature Rollout
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>on:
</span></span></span><span class=line><span class=cl><span class=s>  schedule:
</span></span></span><span class=line><span class=cl><span class=s>    - cron: &#39;0 0 * * *&#39;  # 매일 자정 실행
</span></span></span><span class=line><span class=cl><span class=s>  workflow_dispatch:     # 수동 실행 가능
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>jobs:
</span></span></span><span class=line><span class=cl><span class=s>  rollout:
</span></span></span><span class=line><span class=cl><span class=s>    runs-on: ubuntu-latest
</span></span></span><span class=line><span class=cl><span class=s>    steps:
</span></span></span><span class=line><span class=cl><span class=s>      - uses: actions/checkout@v3
</span></span></span><span class=line><span class=cl><span class=s>      
</span></span></span><span class=line><span class=cl><span class=s>      - name: Setup Node.js
</span></span></span><span class=line><span class=cl><span class=s>        uses: actions/setup-node@v3
</span></span></span><span class=line><span class=cl><span class=s>        
</span></span></span><span class=line><span class=cl><span class=s>      - name: Run rollout script
</span></span></span><span class=line><span class=cl><span class=s>        run: node scripts/progressive-rollout.js
</span></span></span><span class=line><span class=cl><span class=s>        env:
</span></span></span><span class=line><span class=cl><span class=s>          FEATURE_FLAGS_API_KEY: ${{ secrets.FEATURE_FLAGS_API_KEY }}
</span></span></span><span class=line><span class=cl><span class=s>      
</span></span></span><span class=line><span class=cl><span class=s>      - name: Notify on failure
</span></span></span><span class=line><span class=cl><span class=s>        if: failure()
</span></span></span><span class=line><span class=cl><span class=s>        uses: slackapi/slack-github-action@v1.24.0
</span></span></span><span class=line><span class=cl><span class=s>        with:
</span></span></span><span class=line><span class=cl><span class=s>          payload: |
</span></span></span><span class=line><span class=cl><span class=s>            {
</span></span></span><span class=line><span class=cl><span class=s>              &#34;text&#34;: &#34;⚠️ Feature rollout failed&#34;,
</span></span></span><span class=line><span class=cl><span class=s>              &#34;blocks&#34;: [
</span></span></span><span class=line><span class=cl><span class=s>                {
</span></span></span><span class=line><span class=cl><span class=s>                  &#34;type&#34;: &#34;section&#34;,
</span></span></span><span class=line><span class=cl><span class=s>                  &#34;text&#34;: {
</span></span></span><span class=line><span class=cl><span class=s>                    &#34;type&#34;: &#34;mrkdwn&#34;,
</span></span></span><span class=line><span class=cl><span class=s>                    &#34;text&#34;: &#34;Progressive rollout failed for feature: newSearch&#34;
</span></span></span><span class=line><span class=cl><span class=s>                  }
</span></span></span><span class=line><span class=cl><span class=s>                }
</span></span></span><span class=line><span class=cl><span class=s>              ]
</span></span></span><span class=line><span class=cl><span class=s>            }
</span></span></span><span class=line><span class=cl><span class=s>        env:
</span></span></span><span class=line><span class=cl><span class=s>          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK }}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git add scripts/ .github/workflows/
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;feat: add progressive rollout automation&#34;</span>
</span></span><span class=line><span class=cl>git push origin main
</span></span></code></pre></td></tr></table></div></div><p>Step 4: 사용자 피드백 수집</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1> 1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2> 2</a>
</span><span class=lnt id=hl-26-3><a class=lnlinks href=#hl-26-3> 3</a>
</span><span class=lnt id=hl-26-4><a class=lnlinks href=#hl-26-4> 4</a>
</span><span class=lnt id=hl-26-5><a class=lnlinks href=#hl-26-5> 5</a>
</span><span class=lnt id=hl-26-6><a class=lnlinks href=#hl-26-6> 6</a>
</span><span class=lnt id=hl-26-7><a class=lnlinks href=#hl-26-7> 7</a>
</span><span class=lnt id=hl-26-8><a class=lnlinks href=#hl-26-8> 8</a>
</span><span class=lnt id=hl-26-9><a class=lnlinks href=#hl-26-9> 9</a>
</span><span class=lnt id=hl-26-10><a class=lnlinks href=#hl-26-10>10</a>
</span><span class=lnt id=hl-26-11><a class=lnlinks href=#hl-26-11>11</a>
</span><span class=lnt id=hl-26-12><a class=lnlinks href=#hl-26-12>12</a>
</span><span class=lnt id=hl-26-13><a class=lnlinks href=#hl-26-13>13</a>
</span><span class=lnt id=hl-26-14><a class=lnlinks href=#hl-26-14>14</a>
</span><span class=lnt id=hl-26-15><a class=lnlinks href=#hl-26-15>15</a>
</span><span class=lnt id=hl-26-16><a class=lnlinks href=#hl-26-16>16</a>
</span><span class=lnt id=hl-26-17><a class=lnlinks href=#hl-26-17>17</a>
</span><span class=lnt id=hl-26-18><a class=lnlinks href=#hl-26-18>18</a>
</span><span class=lnt id=hl-26-19><a class=lnlinks href=#hl-26-19>19</a>
</span><span class=lnt id=hl-26-20><a class=lnlinks href=#hl-26-20>20</a>
</span><span class=lnt id=hl-26-21><a class=lnlinks href=#hl-26-21>21</a>
</span><span class=lnt id=hl-26-22><a class=lnlinks href=#hl-26-22>22</a>
</span><span class=lnt id=hl-26-23><a class=lnlinks href=#hl-26-23>23</a>
</span><span class=lnt id=hl-26-24><a class=lnlinks href=#hl-26-24>24</a>
</span><span class=lnt id=hl-26-25><a class=lnlinks href=#hl-26-25>25</a>
</span><span class=lnt id=hl-26-26><a class=lnlinks href=#hl-26-26>26</a>
</span><span class=lnt id=hl-26-27><a class=lnlinks href=#hl-26-27>27</a>
</span><span class=lnt id=hl-26-28><a class=lnlinks href=#hl-26-28>28</a>
</span><span class=lnt id=hl-26-29><a class=lnlinks href=#hl-26-29>29</a>
</span><span class=lnt id=hl-26-30><a class=lnlinks href=#hl-26-30>30</a>
</span><span class=lnt id=hl-26-31><a class=lnlinks href=#hl-26-31>31</a>
</span><span class=lnt id=hl-26-32><a class=lnlinks href=#hl-26-32>32</a>
</span><span class=lnt id=hl-26-33><a class=lnlinks href=#hl-26-33>33</a>
</span><span class=lnt id=hl-26-34><a class=lnlinks href=#hl-26-34>34</a>
</span><span class=lnt id=hl-26-35><a class=lnlinks href=#hl-26-35>35</a>
</span><span class=lnt id=hl-26-36><a class=lnlinks href=#hl-26-36>36</a>
</span><span class=lnt id=hl-26-37><a class=lnlinks href=#hl-26-37>37</a>
</span><span class=lnt id=hl-26-38><a class=lnlinks href=#hl-26-38>38</a>
</span><span class=lnt id=hl-26-39><a class=lnlinks href=#hl-26-39>39</a>
</span><span class=lnt id=hl-26-40><a class=lnlinks href=#hl-26-40>40</a>
</span><span class=lnt id=hl-26-41><a class=lnlinks href=#hl-26-41>41</a>
</span><span class=lnt id=hl-26-42><a class=lnlinks href=#hl-26-42>42</a>
</span><span class=lnt id=hl-26-43><a class=lnlinks href=#hl-26-43>43</a>
</span><span class=lnt id=hl-26-44><a class=lnlinks href=#hl-26-44>44</a>
</span><span class=lnt id=hl-26-45><a class=lnlinks href=#hl-26-45>45</a>
</span><span class=lnt id=hl-26-46><a class=lnlinks href=#hl-26-46>46</a>
</span><span class=lnt id=hl-26-47><a class=lnlinks href=#hl-26-47>47</a>
</span><span class=lnt id=hl-26-48><a class=lnlinks href=#hl-26-48>48</a>
</span><span class=lnt id=hl-26-49><a class=lnlinks href=#hl-26-49>49</a>
</span><span class=lnt id=hl-26-50><a class=lnlinks href=#hl-26-50>50</a>
</span><span class=lnt id=hl-26-51><a class=lnlinks href=#hl-26-51>51</a>
</span><span class=lnt id=hl-26-52><a class=lnlinks href=#hl-26-52>52</a>
</span><span class=lnt id=hl-26-53><a class=lnlinks href=#hl-26-53>53</a>
</span><span class=lnt id=hl-26-54><a class=lnlinks href=#hl-26-54>54</a>
</span><span class=lnt id=hl-26-55><a class=lnlinks href=#hl-26-55>55</a>
</span><span class=lnt id=hl-26-56><a class=lnlinks href=#hl-26-56>56</a>
</span><span class=lnt id=hl-26-57><a class=lnlinks href=#hl-26-57>57</a>
</span><span class=lnt id=hl-26-58><a class=lnlinks href=#hl-26-58>58</a>
</span><span class=lnt id=hl-26-59><a class=lnlinks href=#hl-26-59>59</a>
</span><span class=lnt id=hl-26-60><a class=lnlinks href=#hl-26-60>60</a>
</span><span class=lnt id=hl-26-61><a class=lnlinks href=#hl-26-61>61</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 4.1 피드백 수집 컴포넌트</span>
</span></span><span class=line><span class=cl>cat &gt; src/components/Feedback/FeatureFeedback.jsx <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>export function FeatureFeedback({ featureName }) {
</span></span></span><span class=line><span class=cl><span class=s>  const [feedback, setFeedback] = useState(&#39;&#39;);
</span></span></span><span class=line><span class=cl><span class=s>  const [rating, setRating] = useState(0);
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  const submitFeedback = async () =&gt; {
</span></span></span><span class=line><span class=cl><span class=s>    await api.post(&#39;/feedback&#39;, {
</span></span></span><span class=line><span class=cl><span class=s>      feature: featureName,
</span></span></span><span class=line><span class=cl><span class=s>      rating,
</span></span></span><span class=line><span class=cl><span class=s>      comment: feedback,
</span></span></span><span class=line><span class=cl><span class=s>      version: isFeatureEnabled(featureName) ? &#39;new&#39; : &#39;legacy&#39;
</span></span></span><span class=line><span class=cl><span class=s>    });
</span></span></span><span class=line><span class=cl><span class=s>  };
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  return (
</span></span></span><span class=line><span class=cl><span class=s>    &lt;div className=&#34;feature-feedback&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=s>      &lt;h3&gt;How&#39;s the new {featureName}?&lt;/h3&gt;
</span></span></span><span class=line><span class=cl><span class=s>      &lt;RatingStars value={rating} onChange={setRating} /&gt;
</span></span></span><span class=line><span class=cl><span class=s>      &lt;textarea
</span></span></span><span class=line><span class=cl><span class=s>        value={feedback}
</span></span></span><span class=line><span class=cl><span class=s>        onChange={(e) =&gt; setFeedback(e.target.value)}
</span></span></span><span class=line><span class=cl><span class=s>        placeholder=&#34;Your feedback…&#34;
</span></span></span><span class=line><span class=cl><span class=s>      /&gt;
</span></span></span><span class=line><span class=cl><span class=s>      &lt;button onClick={submitFeedback}&gt;Submit&lt;/button&gt;
</span></span></span><span class=line><span class=cl><span class=s>    &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=s>  );
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 4.2 피드백 분석 대시보드</span>
</span></span><span class=line><span class=cl>cat &gt; src/pages/admin/FeedbackDashboard.jsx <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>export function FeedbackDashboard() {
</span></span></span><span class=line><span class=cl><span class=s>  const [feedbackData, setFeedbackData] = useState([]);
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  useEffect(() =&gt; {
</span></span></span><span class=line><span class=cl><span class=s>    fetchFeedbackData().then(setFeedbackData);
</span></span></span><span class=line><span class=cl><span class=s>  }, []);
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  const avgRatingNew = calculateAvgRating(feedbackData, &#39;new&#39;);
</span></span></span><span class=line><span class=cl><span class=s>  const avgRatingLegacy = calculateAvgRating(feedbackData, &#39;legacy&#39;);
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  return (
</span></span></span><span class=line><span class=cl><span class=s>    &lt;div className=&#34;feedback-dashboard&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=s>      &lt;h2&gt;Feature Feedback Analysis&lt;/h2&gt;
</span></span></span><span class=line><span class=cl><span class=s>      
</span></span></span><span class=line><span class=cl><span class=s>      &lt;div className=&#34;rating-comparison&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=s>        &lt;div&gt;New Version: {avgRatingNew.toFixed(2)} ⭐&lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=s>        &lt;div&gt;Legacy Version: {avgRatingLegacy.toFixed(2)} ⭐&lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=s>      &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=s>      
</span></span></span><span class=line><span class=cl><span class=s>      &lt;SentimentAnalysis data={feedbackData} /&gt;
</span></span></span><span class=line><span class=cl><span class=s>      &lt;WordCloud data={feedbackData} /&gt;
</span></span></span><span class=line><span class=cl><span class=s>    &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=s>  );
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git add src/components/Feedback/ src/pages/admin/
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;feat: add feature feedback collection system&#34;</span>
</span></span><span class=line><span class=cl>git push origin main
</span></span></code></pre></td></tr></table></div></div><h4 id=시나리오-5-브랜치-바이-추상화>시나리오 5: 브랜치 바이 추상화<a hidden class=anchor aria-hidden=true href=#시나리오-5-브랜치-바이-추상화>#</a></h4><p><strong>상황</strong>: 레거시 인증 시스템을 새로운 OAuth 시스템으로 마이그레이션</p><p>Step 1: 추상화 계층 생성</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1> 1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2> 2</a>
</span><span class=lnt id=hl-27-3><a class=lnlinks href=#hl-27-3> 3</a>
</span><span class=lnt id=hl-27-4><a class=lnlinks href=#hl-27-4> 4</a>
</span><span class=lnt id=hl-27-5><a class=lnlinks href=#hl-27-5> 5</a>
</span><span class=lnt id=hl-27-6><a class=lnlinks href=#hl-27-6> 6</a>
</span><span class=lnt id=hl-27-7><a class=lnlinks href=#hl-27-7> 7</a>
</span><span class=lnt id=hl-27-8><a class=lnlinks href=#hl-27-8> 8</a>
</span><span class=lnt id=hl-27-9><a class=lnlinks href=#hl-27-9> 9</a>
</span><span class=lnt id=hl-27-10><a class=lnlinks href=#hl-27-10>10</a>
</span><span class=lnt id=hl-27-11><a class=lnlinks href=#hl-27-11>11</a>
</span><span class=lnt id=hl-27-12><a class=lnlinks href=#hl-27-12>12</a>
</span><span class=lnt id=hl-27-13><a class=lnlinks href=#hl-27-13>13</a>
</span><span class=lnt id=hl-27-14><a class=lnlinks href=#hl-27-14>14</a>
</span><span class=lnt id=hl-27-15><a class=lnlinks href=#hl-27-15>15</a>
</span><span class=lnt id=hl-27-16><a class=lnlinks href=#hl-27-16>16</a>
</span><span class=lnt id=hl-27-17><a class=lnlinks href=#hl-27-17>17</a>
</span><span class=lnt id=hl-27-18><a class=lnlinks href=#hl-27-18>18</a>
</span><span class=lnt id=hl-27-19><a class=lnlinks href=#hl-27-19>19</a>
</span><span class=lnt id=hl-27-20><a class=lnlinks href=#hl-27-20>20</a>
</span><span class=lnt id=hl-27-21><a class=lnlinks href=#hl-27-21>21</a>
</span><span class=lnt id=hl-27-22><a class=lnlinks href=#hl-27-22>22</a>
</span><span class=lnt id=hl-27-23><a class=lnlinks href=#hl-27-23>23</a>
</span><span class=lnt id=hl-27-24><a class=lnlinks href=#hl-27-24>24</a>
</span><span class=lnt id=hl-27-25><a class=lnlinks href=#hl-27-25>25</a>
</span><span class=lnt id=hl-27-26><a class=lnlinks href=#hl-27-26>26</a>
</span><span class=lnt id=hl-27-27><a class=lnlinks href=#hl-27-27>27</a>
</span><span class=lnt id=hl-27-28><a class=lnlinks href=#hl-27-28>28</a>
</span><span class=lnt id=hl-27-29><a class=lnlinks href=#hl-27-29>29</a>
</span><span class=lnt id=hl-27-30><a class=lnlinks href=#hl-27-30>30</a>
</span><span class=lnt id=hl-27-31><a class=lnlinks href=#hl-27-31>31</a>
</span><span class=lnt id=hl-27-32><a class=lnlinks href=#hl-27-32>32</a>
</span><span class=lnt id=hl-27-33><a class=lnlinks href=#hl-27-33>33</a>
</span><span class=lnt id=hl-27-34><a class=lnlinks href=#hl-27-34>34</a>
</span><span class=lnt id=hl-27-35><a class=lnlinks href=#hl-27-35>35</a>
</span><span class=lnt id=hl-27-36><a class=lnlinks href=#hl-27-36>36</a>
</span><span class=lnt id=hl-27-37><a class=lnlinks href=#hl-27-37>37</a>
</span><span class=lnt id=hl-27-38><a class=lnlinks href=#hl-27-38>38</a>
</span><span class=lnt id=hl-27-39><a class=lnlinks href=#hl-27-39>39</a>
</span><span class=lnt id=hl-27-40><a class=lnlinks href=#hl-27-40>40</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 1.1 인증 인터페이스 정의</span>
</span></span><span class=line><span class=cl>cat &gt; src/auth/AuthProvider.interface.ts <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>export interface AuthProvider {
</span></span></span><span class=line><span class=cl><span class=s>  login(credentials: Credentials): Promise&lt;User&gt;;
</span></span></span><span class=line><span class=cl><span class=s>  logout(): Promise&lt;void&gt;;
</span></span></span><span class=line><span class=cl><span class=s>  getCurrentUser(): Promise&lt;User | null&gt;;
</span></span></span><span class=line><span class=cl><span class=s>  refreshToken(): Promise&lt;string&gt;;
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 1.2 추상화 구현</span>
</span></span><span class=line><span class=cl>cat &gt; src/auth/AuthService.ts <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>export class AuthService implements AuthProvider {
</span></span></span><span class=line><span class=cl><span class=s>  constructor(private featureFlags: FeatureFlags) {}
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  async login(credentials: Credentials): Promise&lt;User&gt; {
</span></span></span><span class=line><span class=cl><span class=s>    if (this.featureFlags.isEnabled(&#39;newAuthSystem&#39;)) {
</span></span></span><span class=line><span class=cl><span class=s>      return this.oauthLogin(credentials);
</span></span></span><span class=line><span class=cl><span class=s>    }
</span></span></span><span class=line><span class=cl><span class=s>    return this.legacyLogin(credentials);
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  private async legacyLogin(credentials: Credentials): Promise&lt;User&gt; {
</span></span></span><span class=line><span class=cl><span class=s>    // 기존 인증 로직
</span></span></span><span class=line><span class=cl><span class=s>    const response = await api.post(&#39;/auth/login&#39;, credentials);
</span></span></span><span class=line><span class=cl><span class=s>    return response.data.user;
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  private async oauthLogin(credentials: Credentials): Promise&lt;User&gt; {
</span></span></span><span class=line><span class=cl><span class=s>    // 새로운 OAuth 로직
</span></span></span><span class=line><span class=cl><span class=s>    const token = await oauth.getToken(credentials);
</span></span></span><span class=line><span class=cl><span class=s>    const user = await oauth.getUserInfo(token);
</span></span></span><span class=line><span class=cl><span class=s>    return user;
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git add src/auth/
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;feat: create auth abstraction layer&#34;</span>
</span></span><span class=line><span class=cl>git push origin main
</span></span></code></pre></td></tr></table></div></div><p>Step 2: 듀얼 라이트 구현</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-28-1><a class=lnlinks href=#hl-28-1> 1</a>
</span><span class=lnt id=hl-28-2><a class=lnlinks href=#hl-28-2> 2</a>
</span><span class=lnt id=hl-28-3><a class=lnlinks href=#hl-28-3> 3</a>
</span><span class=lnt id=hl-28-4><a class=lnlinks href=#hl-28-4> 4</a>
</span><span class=lnt id=hl-28-5><a class=lnlinks href=#hl-28-5> 5</a>
</span><span class=lnt id=hl-28-6><a class=lnlinks href=#hl-28-6> 6</a>
</span><span class=lnt id=hl-28-7><a class=lnlinks href=#hl-28-7> 7</a>
</span><span class=lnt id=hl-28-8><a class=lnlinks href=#hl-28-8> 8</a>
</span><span class=lnt id=hl-28-9><a class=lnlinks href=#hl-28-9> 9</a>
</span><span class=lnt id=hl-28-10><a class=lnlinks href=#hl-28-10>10</a>
</span><span class=lnt id=hl-28-11><a class=lnlinks href=#hl-28-11>11</a>
</span><span class=lnt id=hl-28-12><a class=lnlinks href=#hl-28-12>12</a>
</span><span class=lnt id=hl-28-13><a class=lnlinks href=#hl-28-13>13</a>
</span><span class=lnt id=hl-28-14><a class=lnlinks href=#hl-28-14>14</a>
</span><span class=lnt id=hl-28-15><a class=lnlinks href=#hl-28-15>15</a>
</span><span class=lnt id=hl-28-16><a class=lnlinks href=#hl-28-16>16</a>
</span><span class=lnt id=hl-28-17><a class=lnlinks href=#hl-28-17>17</a>
</span><span class=lnt id=hl-28-18><a class=lnlinks href=#hl-28-18>18</a>
</span><span class=lnt id=hl-28-19><a class=lnlinks href=#hl-28-19>19</a>
</span><span class=lnt id=hl-28-20><a class=lnlinks href=#hl-28-20>20</a>
</span><span class=lnt id=hl-28-21><a class=lnlinks href=#hl-28-21>21</a>
</span><span class=lnt id=hl-28-22><a class=lnlinks href=#hl-28-22>22</a>
</span><span class=lnt id=hl-28-23><a class=lnlinks href=#hl-28-23>23</a>
</span><span class=lnt id=hl-28-24><a class=lnlinks href=#hl-28-24>24</a>
</span><span class=lnt id=hl-28-25><a class=lnlinks href=#hl-28-25>25</a>
</span><span class=lnt id=hl-28-26><a class=lnlinks href=#hl-28-26>26</a>
</span><span class=lnt id=hl-28-27><a class=lnlinks href=#hl-28-27>27</a>
</span><span class=lnt id=hl-28-28><a class=lnlinks href=#hl-28-28>28</a>
</span><span class=lnt id=hl-28-29><a class=lnlinks href=#hl-28-29>29</a>
</span><span class=lnt id=hl-28-30><a class=lnlinks href=#hl-28-30>30</a>
</span><span class=lnt id=hl-28-31><a class=lnlinks href=#hl-28-31>31</a>
</span><span class=lnt id=hl-28-32><a class=lnlinks href=#hl-28-32>32</a>
</span><span class=lnt id=hl-28-33><a class=lnlinks href=#hl-28-33>33</a>
</span><span class=lnt id=hl-28-34><a class=lnlinks href=#hl-28-34>34</a>
</span><span class=lnt id=hl-28-35><a class=lnlinks href=#hl-28-35>35</a>
</span><span class=lnt id=hl-28-36><a class=lnlinks href=#hl-28-36>36</a>
</span><span class=lnt id=hl-28-37><a class=lnlinks href=#hl-28-37>37</a>
</span><span class=lnt id=hl-28-38><a class=lnlinks href=#hl-28-38>38</a>
</span><span class=lnt id=hl-28-39><a class=lnlinks href=#hl-28-39>39</a>
</span><span class=lnt id=hl-28-40><a class=lnlinks href=#hl-28-40>40</a>
</span><span class=lnt id=hl-28-41><a class=lnlinks href=#hl-28-41>41</a>
</span><span class=lnt id=hl-28-42><a class=lnlinks href=#hl-28-42>42</a>
</span><span class=lnt id=hl-28-43><a class=lnlinks href=#hl-28-43>43</a>
</span><span class=lnt id=hl-28-44><a class=lnlinks href=#hl-28-44>44</a>
</span><span class=lnt id=hl-28-45><a class=lnlinks href=#hl-28-45>45</a>
</span><span class=lnt id=hl-28-46><a class=lnlinks href=#hl-28-46>46</a>
</span><span class=lnt id=hl-28-47><a class=lnlinks href=#hl-28-47>47</a>
</span><span class=lnt id=hl-28-48><a class=lnlinks href=#hl-28-48>48</a>
</span><span class=lnt id=hl-28-49><a class=lnlinks href=#hl-28-49>49</a>
</span><span class=lnt id=hl-28-50><a class=lnlinks href=#hl-28-50>50</a>
</span><span class=lnt id=hl-28-51><a class=lnlinks href=#hl-28-51>51</a>
</span><span class=lnt id=hl-28-52><a class=lnlinks href=#hl-28-52>52</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 2.1 듀얼 라이트 설정</span>
</span></span><span class=line><span class=cl>cat &gt; src/auth/DualAuthService.ts <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>export class DualAuthService extends AuthService {
</span></span></span><span class=line><span class=cl><span class=s>  async login(credentials: Credentials): Promise&lt;User&gt; {
</span></span></span><span class=line><span class=cl><span class=s>    let user: User;
</span></span></span><span class=line><span class=cl><span class=s>    
</span></span></span><span class=line><span class=cl><span class=s>    try {
</span></span></span><span class=line><span class=cl><span class=s>      // 먼저 레거시 시스템으로 로그인
</span></span></span><span class=line><span class=cl><span class=s>      user = await this.legacyLogin(credentials);
</span></span></span><span class=line><span class=cl><span class=s>      
</span></span></span><span class=line><span class=cl><span class=s>      // 백그라운드에서 새 시스템 테스트
</span></span></span><span class=line><span class=cl><span class=s>      if (this.featureFlags.isEnabled(&#39;testNewAuth&#39;)) {
</span></span></span><span class=line><span class=cl><span class=s>        this.testNewAuthSystem(credentials).catch(error =&gt; {
</span></span></span><span class=line><span class=cl><span class=s>          console.error(&#39;New auth system test failed:&#39;, error);
</span></span></span><span class=line><span class=cl><span class=s>          this.metrics.increment(&#39;auth.dual_write.failure&#39;);
</span></span></span><span class=line><span class=cl><span class=s>        });
</span></span></span><span class=line><span class=cl><span class=s>      }
</span></span></span><span class=line><span class=cl><span class=s>      
</span></span></span><span class=line><span class=cl><span class=s>      return user;
</span></span></span><span class=line><span class=cl><span class=s>    } catch (error) {
</span></span></span><span class=line><span class=cl><span class=s>      // 레거시 실패 시 새 시스템으로 폴백
</span></span></span><span class=line><span class=cl><span class=s>      if (this.featureFlags.isEnabled(&#39;authFallback&#39;)) {
</span></span></span><span class=line><span class=cl><span class=s>        return this.oauthLogin(credentials);
</span></span></span><span class=line><span class=cl><span class=s>      }
</span></span></span><span class=line><span class=cl><span class=s>      throw error;
</span></span></span><span class=line><span class=cl><span class=s>    }
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  private async testNewAuthSystem(credentials: Credentials): Promise&lt;void&gt; {
</span></span></span><span class=line><span class=cl><span class=s>    const startTime = Date.now();
</span></span></span><span class=line><span class=cl><span class=s>    try {
</span></span></span><span class=line><span class=cl><span class=s>      const newUser = await this.oauthLogin(credentials);
</span></span></span><span class=line><span class=cl><span class=s>      const duration = Date.now() - startTime;
</span></span></span><span class=line><span class=cl><span class=s>      
</span></span></span><span class=line><span class=cl><span class=s>      this.metrics.timing(&#39;auth.new_system.latency&#39;, duration);
</span></span></span><span class=line><span class=cl><span class=s>      this.metrics.increment(&#39;auth.dual_write.success&#39;);
</span></span></span><span class=line><span class=cl><span class=s>      
</span></span></span><span class=line><span class=cl><span class=s>      // 결과 비교
</span></span></span><span class=line><span class=cl><span class=s>      if (!this.compareUsers(user, newUser)) {
</span></span></span><span class=line><span class=cl><span class=s>        this.metrics.increment(&#39;auth.dual_write.mismatch&#39;);
</span></span></span><span class=line><span class=cl><span class=s>      }
</span></span></span><span class=line><span class=cl><span class=s>    } catch (error) {
</span></span></span><span class=line><span class=cl><span class=s>      this.metrics.increment(&#39;auth.new_system.error&#39;);
</span></span></span><span class=line><span class=cl><span class=s>      throw error;
</span></span></span><span class=line><span class=cl><span class=s>    }
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git add src/auth/DualAuthService.ts
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;feat: implement dual auth for testing new system&#34;</span>
</span></span><span class=line><span class=cl>git push origin main
</span></span></code></pre></td></tr></table></div></div><p>Step 3: 점진적 마이그레이션</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-29-1><a class=lnlinks href=#hl-29-1> 1</a>
</span><span class=lnt id=hl-29-2><a class=lnlinks href=#hl-29-2> 2</a>
</span><span class=lnt id=hl-29-3><a class=lnlinks href=#hl-29-3> 3</a>
</span><span class=lnt id=hl-29-4><a class=lnlinks href=#hl-29-4> 4</a>
</span><span class=lnt id=hl-29-5><a class=lnlinks href=#hl-29-5> 5</a>
</span><span class=lnt id=hl-29-6><a class=lnlinks href=#hl-29-6> 6</a>
</span><span class=lnt id=hl-29-7><a class=lnlinks href=#hl-29-7> 7</a>
</span><span class=lnt id=hl-29-8><a class=lnlinks href=#hl-29-8> 8</a>
</span><span class=lnt id=hl-29-9><a class=lnlinks href=#hl-29-9> 9</a>
</span><span class=lnt id=hl-29-10><a class=lnlinks href=#hl-29-10>10</a>
</span><span class=lnt id=hl-29-11><a class=lnlinks href=#hl-29-11>11</a>
</span><span class=lnt id=hl-29-12><a class=lnlinks href=#hl-29-12>12</a>
</span><span class=lnt id=hl-29-13><a class=lnlinks href=#hl-29-13>13</a>
</span><span class=lnt id=hl-29-14><a class=lnlinks href=#hl-29-14>14</a>
</span><span class=lnt id=hl-29-15><a class=lnlinks href=#hl-29-15>15</a>
</span><span class=lnt id=hl-29-16><a class=lnlinks href=#hl-29-16>16</a>
</span><span class=lnt id=hl-29-17><a class=lnlinks href=#hl-29-17>17</a>
</span><span class=lnt id=hl-29-18><a class=lnlinks href=#hl-29-18>18</a>
</span><span class=lnt id=hl-29-19><a class=lnlinks href=#hl-29-19>19</a>
</span><span class=lnt id=hl-29-20><a class=lnlinks href=#hl-29-20>20</a>
</span><span class=lnt id=hl-29-21><a class=lnlinks href=#hl-29-21>21</a>
</span><span class=lnt id=hl-29-22><a class=lnlinks href=#hl-29-22>22</a>
</span><span class=lnt id=hl-29-23><a class=lnlinks href=#hl-29-23>23</a>
</span><span class=lnt id=hl-29-24><a class=lnlinks href=#hl-29-24>24</a>
</span><span class=lnt id=hl-29-25><a class=lnlinks href=#hl-29-25>25</a>
</span><span class=lnt id=hl-29-26><a class=lnlinks href=#hl-29-26>26</a>
</span><span class=lnt id=hl-29-27><a class=lnlinks href=#hl-29-27>27</a>
</span><span class=lnt id=hl-29-28><a class=lnlinks href=#hl-29-28>28</a>
</span><span class=lnt id=hl-29-29><a class=lnlinks href=#hl-29-29>29</a>
</span><span class=lnt id=hl-29-30><a class=lnlinks href=#hl-29-30>30</a>
</span><span class=lnt id=hl-29-31><a class=lnlinks href=#hl-29-31>31</a>
</span><span class=lnt id=hl-29-32><a class=lnlinks href=#hl-29-32>32</a>
</span><span class=lnt id=hl-29-33><a class=lnlinks href=#hl-29-33>33</a>
</span><span class=lnt id=hl-29-34><a class=lnlinks href=#hl-29-34>34</a>
</span><span class=lnt id=hl-29-35><a class=lnlinks href=#hl-29-35>35</a>
</span><span class=lnt id=hl-29-36><a class=lnlinks href=#hl-29-36>36</a>
</span><span class=lnt id=hl-29-37><a class=lnlinks href=#hl-29-37>37</a>
</span><span class=lnt id=hl-29-38><a class=lnlinks href=#hl-29-38>38</a>
</span><span class=lnt id=hl-29-39><a class=lnlinks href=#hl-29-39>39</a>
</span><span class=lnt id=hl-29-40><a class=lnlinks href=#hl-29-40>40</a>
</span><span class=lnt id=hl-29-41><a class=lnlinks href=#hl-29-41>41</a>
</span><span class=lnt id=hl-29-42><a class=lnlinks href=#hl-29-42>42</a>
</span><span class=lnt id=hl-29-43><a class=lnlinks href=#hl-29-43>43</a>
</span><span class=lnt id=hl-29-44><a class=lnlinks href=#hl-29-44>44</a>
</span><span class=lnt id=hl-29-45><a class=lnlinks href=#hl-29-45>45</a>
</span><span class=lnt id=hl-29-46><a class=lnlinks href=#hl-29-46>46</a>
</span><span class=lnt id=hl-29-47><a class=lnlinks href=#hl-29-47>47</a>
</span><span class=lnt id=hl-29-48><a class=lnlinks href=#hl-29-48>48</a>
</span><span class=lnt id=hl-29-49><a class=lnlinks href=#hl-29-49>49</a>
</span><span class=lnt id=hl-29-50><a class=lnlinks href=#hl-29-50>50</a>
</span><span class=lnt id=hl-29-51><a class=lnlinks href=#hl-29-51>51</a>
</span><span class=lnt id=hl-29-52><a class=lnlinks href=#hl-29-52>52</a>
</span><span class=lnt id=hl-29-53><a class=lnlinks href=#hl-29-53>53</a>
</span><span class=lnt id=hl-29-54><a class=lnlinks href=#hl-29-54>54</a>
</span><span class=lnt id=hl-29-55><a class=lnlinks href=#hl-29-55>55</a>
</span><span class=lnt id=hl-29-56><a class=lnlinks href=#hl-29-56>56</a>
</span><span class=lnt id=hl-29-57><a class=lnlinks href=#hl-29-57>57</a>
</span><span class=lnt id=hl-29-58><a class=lnlinks href=#hl-29-58>58</a>
</span><span class=lnt id=hl-29-59><a class=lnlinks href=#hl-29-59>59</a>
</span><span class=lnt id=hl-29-60><a class=lnlinks href=#hl-29-60>60</a>
</span><span class=lnt id=hl-29-61><a class=lnlinks href=#hl-29-61>61</a>
</span><span class=lnt id=hl-29-62><a class=lnlinks href=#hl-29-62>62</a>
</span><span class=lnt id=hl-29-63><a class=lnlinks href=#hl-29-63>63</a>
</span><span class=lnt id=hl-29-64><a class=lnlinks href=#hl-29-64>64</a>
</span><span class=lnt id=hl-29-65><a class=lnlinks href=#hl-29-65>65</a>
</span><span class=lnt id=hl-29-66><a class=lnlinks href=#hl-29-66>66</a>
</span><span class=lnt id=hl-29-67><a class=lnlinks href=#hl-29-67>67</a>
</span><span class=lnt id=hl-29-68><a class=lnlinks href=#hl-29-68>68</a>
</span><span class=lnt id=hl-29-69><a class=lnlinks href=#hl-29-69>69</a>
</span><span class=lnt id=hl-29-70><a class=lnlinks href=#hl-29-70>70</a>
</span><span class=lnt id=hl-29-71><a class=lnlinks href=#hl-29-71>71</a>
</span><span class=lnt id=hl-29-72><a class=lnlinks href=#hl-29-72>72</a>
</span><span class=lnt id=hl-29-73><a class=lnlinks href=#hl-29-73>73</a>
</span><span class=lnt id=hl-29-74><a class=lnlinks href=#hl-29-74>74</a>
</span><span class=lnt id=hl-29-75><a class=lnlinks href=#hl-29-75>75</a>
</span><span class=lnt id=hl-29-76><a class=lnlinks href=#hl-29-76>76</a>
</span><span class=lnt id=hl-29-77><a class=lnlinks href=#hl-29-77>77</a>
</span><span class=lnt id=hl-29-78><a class=lnlinks href=#hl-29-78>78</a>
</span><span class=lnt id=hl-29-79><a class=lnlinks href=#hl-29-79>79</a>
</span><span class=lnt id=hl-29-80><a class=lnlinks href=#hl-29-80>80</a>
</span><span class=lnt id=hl-29-81><a class=lnlinks href=#hl-29-81>81</a>
</span><span class=lnt id=hl-29-82><a class=lnlinks href=#hl-29-82>82</a>
</span><span class=lnt id=hl-29-83><a class=lnlinks href=#hl-29-83>83</a>
</span><span class=lnt id=hl-29-84><a class=lnlinks href=#hl-29-84>84</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 3.1 마이그레이션 스크립트</span>
</span></span><span class=line><span class=cl>cat &gt; scripts/migrate-auth.js <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>async function migrateUsers(batchSize = 1000) {
</span></span></span><span class=line><span class=cl><span class=s>  const db = new Database();
</span></span></span><span class=line><span class=cl><span class=s>  const flags = new FeatureFlags();
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  let offset = 0;
</span></span></span><span class=line><span class=cl><span class=s>  let migrated = 0;
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  while (true) {
</span></span></span><span class=line><span class=cl><span class=s>    // 마이그레이션 일시 중지 체크
</span></span></span><span class=line><span class=cl><span class=s>    if (!flags.isEnabled(&#39;authMigration&#39;)) {
</span></span></span><span class=line><span class=cl><span class=s>      console.log(&#39;Migration paused&#39;);
</span></span></span><span class=line><span class=cl><span class=s>      await sleep(60000);
</span></span></span><span class=line><span class=cl><span class=s>      continue;
</span></span></span><span class=line><span class=cl><span class=s>    }
</span></span></span><span class=line><span class=cl><span class=s>    
</span></span></span><span class=line><span class=cl><span class=s>    // 사용자 배치 가져오기
</span></span></span><span class=line><span class=cl><span class=s>    const users = await db.query(
</span></span></span><span class=line><span class=cl><span class=s>      &#39;SELECT * FROM users WHERE auth_version = 1 LIMIT ? OFFSET ?&#39;,
</span></span></span><span class=line><span class=cl><span class=s>      [batchSize, offset]
</span></span></span><span class=line><span class=cl><span class=s>    );
</span></span></span><span class=line><span class=cl><span class=s>    
</span></span></span><span class=line><span class=cl><span class=s>    if (users.length === 0) break;
</span></span></span><span class=line><span class=cl><span class=s>    
</span></span></span><span class=line><span class=cl><span class=s>    // 배치 마이그레이션
</span></span></span><span class=line><span class=cl><span class=s>    for (const user of users) {
</span></span></span><span class=line><span class=cl><span class=s>      try {
</span></span></span><span class=line><span class=cl><span class=s>        await migrateUser(user);
</span></span></span><span class=line><span class=cl><span class=s>        migrated++;
</span></span></span><span class=line><span class=cl><span class=s>        
</span></span></span><span class=line><span class=cl><span class=s>        if (migrated % 100 === 0) {
</span></span></span><span class=line><span class=cl><span class=s>          console.log(`Migrated ${migrated} users`);
</span></span></span><span class=line><span class=cl><span class=s>        }
</span></span></span><span class=line><span class=cl><span class=s>      } catch (error) {
</span></span></span><span class=line><span class=cl><span class=s>        console.error(`Failed to migrate user ${user.id}:`, error);
</span></span></span><span class=line><span class=cl><span class=s>        await notifyError(&#39;auth_migration&#39;, user.id, error);
</span></span></span><span class=line><span class=cl><span class=s>        
</span></span></span><span class=line><span class=cl><span class=s>        // 에러율이 높으면 중단
</span></span></span><span class=line><span class=cl><span class=s>        const errorRate = await getErrorRate(&#39;auth_migration&#39;);
</span></span></span><span class=line><span class=cl><span class=s>        if (errorRate &gt; 0.01) {
</span></span></span><span class=line><span class=cl><span class=s>          await flags.disable(&#39;authMigration&#39;);
</span></span></span><span class=line><span class=cl><span class=s>          break;
</span></span></span><span class=line><span class=cl><span class=s>        }
</span></span></span><span class=line><span class=cl><span class=s>      }
</span></span></span><span class=line><span class=cl><span class=s>    }
</span></span></span><span class=line><span class=cl><span class=s>    
</span></span></span><span class=line><span class=cl><span class=s>    offset += batchSize;
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  console.log(`Migration completed. Total migrated: ${migrated}`);
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3.2 마이그레이션 모니터링</span>
</span></span><span class=line><span class=cl>cat &gt; monitoring/auth-migration.js <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>class AuthMigrationMonitor {
</span></span></span><span class=line><span class=cl><span class=s>  async checkMigrationHealth() {
</span></span></span><span class=line><span class=cl><span class=s>    const metrics = await this.getMetrics();
</span></span></span><span class=line><span class=cl><span class=s>    
</span></span></span><span class=line><span class=cl><span class=s>    const dashboard = {
</span></span></span><span class=line><span class=cl><span class=s>      totalUsers: metrics.totalUsers,
</span></span></span><span class=line><span class=cl><span class=s>      migratedUsers: metrics.migratedUsers,
</span></span></span><span class=line><span class=cl><span class=s>      progress: (metrics.migratedUsers / metrics.totalUsers) * 100,
</span></span></span><span class=line><span class=cl><span class=s>      errorRate: metrics.errors / metrics.attempts,
</span></span></span><span class=line><span class=cl><span class=s>      avgMigrationTime: metrics.totalTime / metrics.migratedUsers
</span></span></span><span class=line><span class=cl><span class=s>    };
</span></span></span><span class=line><span class=cl><span class=s>    
</span></span></span><span class=line><span class=cl><span class=s>    // 대시보드 업데이트
</span></span></span><span class=line><span class=cl><span class=s>    await this.updateDashboard(dashboard);
</span></span></span><span class=line><span class=cl><span class=s>    
</span></span></span><span class=line><span class=cl><span class=s>    // 알림 체크
</span></span></span><span class=line><span class=cl><span class=s>    if (dashboard.errorRate &gt; 0.01) {
</span></span></span><span class=line><span class=cl><span class=s>      await this.alert(&#39;High error rate in auth migration&#39;);
</span></span></span><span class=line><span class=cl><span class=s>    }
</span></span></span><span class=line><span class=cl><span class=s>    
</span></span></span><span class=line><span class=cl><span class=s>    return dashboard;
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git add scripts/migrate-auth.js monitoring/
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;feat: add auth migration scripts and monitoring&#34;</span>
</span></span><span class=line><span class=cl>git push origin main
</span></span></code></pre></td></tr></table></div></div><p>Step 4: 컷오버 준비</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-30-1><a class=lnlinks href=#hl-30-1> 1</a>
</span><span class=lnt id=hl-30-2><a class=lnlinks href=#hl-30-2> 2</a>
</span><span class=lnt id=hl-30-3><a class=lnlinks href=#hl-30-3> 3</a>
</span><span class=lnt id=hl-30-4><a class=lnlinks href=#hl-30-4> 4</a>
</span><span class=lnt id=hl-30-5><a class=lnlinks href=#hl-30-5> 5</a>
</span><span class=lnt id=hl-30-6><a class=lnlinks href=#hl-30-6> 6</a>
</span><span class=lnt id=hl-30-7><a class=lnlinks href=#hl-30-7> 7</a>
</span><span class=lnt id=hl-30-8><a class=lnlinks href=#hl-30-8> 8</a>
</span><span class=lnt id=hl-30-9><a class=lnlinks href=#hl-30-9> 9</a>
</span><span class=lnt id=hl-30-10><a class=lnlinks href=#hl-30-10>10</a>
</span><span class=lnt id=hl-30-11><a class=lnlinks href=#hl-30-11>11</a>
</span><span class=lnt id=hl-30-12><a class=lnlinks href=#hl-30-12>12</a>
</span><span class=lnt id=hl-30-13><a class=lnlinks href=#hl-30-13>13</a>
</span><span class=lnt id=hl-30-14><a class=lnlinks href=#hl-30-14>14</a>
</span><span class=lnt id=hl-30-15><a class=lnlinks href=#hl-30-15>15</a>
</span><span class=lnt id=hl-30-16><a class=lnlinks href=#hl-30-16>16</a>
</span><span class=lnt id=hl-30-17><a class=lnlinks href=#hl-30-17>17</a>
</span><span class=lnt id=hl-30-18><a class=lnlinks href=#hl-30-18>18</a>
</span><span class=lnt id=hl-30-19><a class=lnlinks href=#hl-30-19>19</a>
</span><span class=lnt id=hl-30-20><a class=lnlinks href=#hl-30-20>20</a>
</span><span class=lnt id=hl-30-21><a class=lnlinks href=#hl-30-21>21</a>
</span><span class=lnt id=hl-30-22><a class=lnlinks href=#hl-30-22>22</a>
</span><span class=lnt id=hl-30-23><a class=lnlinks href=#hl-30-23>23</a>
</span><span class=lnt id=hl-30-24><a class=lnlinks href=#hl-30-24>24</a>
</span><span class=lnt id=hl-30-25><a class=lnlinks href=#hl-30-25>25</a>
</span><span class=lnt id=hl-30-26><a class=lnlinks href=#hl-30-26>26</a>
</span><span class=lnt id=hl-30-27><a class=lnlinks href=#hl-30-27>27</a>
</span><span class=lnt id=hl-30-28><a class=lnlinks href=#hl-30-28>28</a>
</span><span class=lnt id=hl-30-29><a class=lnlinks href=#hl-30-29>29</a>
</span><span class=lnt id=hl-30-30><a class=lnlinks href=#hl-30-30>30</a>
</span><span class=lnt id=hl-30-31><a class=lnlinks href=#hl-30-31>31</a>
</span><span class=lnt id=hl-30-32><a class=lnlinks href=#hl-30-32>32</a>
</span><span class=lnt id=hl-30-33><a class=lnlinks href=#hl-30-33>33</a>
</span><span class=lnt id=hl-30-34><a class=lnlinks href=#hl-30-34>34</a>
</span><span class=lnt id=hl-30-35><a class=lnlinks href=#hl-30-35>35</a>
</span><span class=lnt id=hl-30-36><a class=lnlinks href=#hl-30-36>36</a>
</span><span class=lnt id=hl-30-37><a class=lnlinks href=#hl-30-37>37</a>
</span><span class=lnt id=hl-30-38><a class=lnlinks href=#hl-30-38>38</a>
</span><span class=lnt id=hl-30-39><a class=lnlinks href=#hl-30-39>39</a>
</span><span class=lnt id=hl-30-40><a class=lnlinks href=#hl-30-40>40</a>
</span><span class=lnt id=hl-30-41><a class=lnlinks href=#hl-30-41>41</a>
</span><span class=lnt id=hl-30-42><a class=lnlinks href=#hl-30-42>42</a>
</span><span class=lnt id=hl-30-43><a class=lnlinks href=#hl-30-43>43</a>
</span><span class=lnt id=hl-30-44><a class=lnlinks href=#hl-30-44>44</a>
</span><span class=lnt id=hl-30-45><a class=lnlinks href=#hl-30-45>45</a>
</span><span class=lnt id=hl-30-46><a class=lnlinks href=#hl-30-46>46</a>
</span><span class=lnt id=hl-30-47><a class=lnlinks href=#hl-30-47>47</a>
</span><span class=lnt id=hl-30-48><a class=lnlinks href=#hl-30-48>48</a>
</span><span class=lnt id=hl-30-49><a class=lnlinks href=#hl-30-49>49</a>
</span><span class=lnt id=hl-30-50><a class=lnlinks href=#hl-30-50>50</a>
</span><span class=lnt id=hl-30-51><a class=lnlinks href=#hl-30-51>51</a>
</span><span class=lnt id=hl-30-52><a class=lnlinks href=#hl-30-52>52</a>
</span><span class=lnt id=hl-30-53><a class=lnlinks href=#hl-30-53>53</a>
</span><span class=lnt id=hl-30-54><a class=lnlinks href=#hl-30-54>54</a>
</span><span class=lnt id=hl-30-55><a class=lnlinks href=#hl-30-55>55</a>
</span><span class=lnt id=hl-30-56><a class=lnlinks href=#hl-30-56>56</a>
</span><span class=lnt id=hl-30-57><a class=lnlinks href=#hl-30-57>57</a>
</span><span class=lnt id=hl-30-58><a class=lnlinks href=#hl-30-58>58</a>
</span><span class=lnt id=hl-30-59><a class=lnlinks href=#hl-30-59>59</a>
</span><span class=lnt id=hl-30-60><a class=lnlinks href=#hl-30-60>60</a>
</span><span class=lnt id=hl-30-61><a class=lnlinks href=#hl-30-61>61</a>
</span><span class=lnt id=hl-30-62><a class=lnlinks href=#hl-30-62>62</a>
</span><span class=lnt id=hl-30-63><a class=lnlinks href=#hl-30-63>63</a>
</span><span class=lnt id=hl-30-64><a class=lnlinks href=#hl-30-64>64</a>
</span><span class=lnt id=hl-30-65><a class=lnlinks href=#hl-30-65>65</a>
</span><span class=lnt id=hl-30-66><a class=lnlinks href=#hl-30-66>66</a>
</span><span class=lnt id=hl-30-67><a class=lnlinks href=#hl-30-67>67</a>
</span><span class=lnt id=hl-30-68><a class=lnlinks href=#hl-30-68>68</a>
</span><span class=lnt id=hl-30-69><a class=lnlinks href=#hl-30-69>69</a>
</span><span class=lnt id=hl-30-70><a class=lnlinks href=#hl-30-70>70</a>
</span><span class=lnt id=hl-30-71><a class=lnlinks href=#hl-30-71>71</a>
</span><span class=lnt id=hl-30-72><a class=lnlinks href=#hl-30-72>72</a>
</span><span class=lnt id=hl-30-73><a class=lnlinks href=#hl-30-73>73</a>
</span><span class=lnt id=hl-30-74><a class=lnlinks href=#hl-30-74>74</a>
</span><span class=lnt id=hl-30-75><a class=lnlinks href=#hl-30-75>75</a>
</span><span class=lnt id=hl-30-76><a class=lnlinks href=#hl-30-76>76</a>
</span><span class=lnt id=hl-30-77><a class=lnlinks href=#hl-30-77>77</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 4.1 컷오버 체크리스트</span>
</span></span><span class=line><span class=cl>cat &gt; docs/auth-cutover-checklist.md <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s># Auth System Cutover Checklist
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>## Pre-cutover
</span></span></span><span class=line><span class=cl><span class=s>- [ ] All users migrated successfully
</span></span></span><span class=line><span class=cl><span class=s>- [ ] Error rate &lt; 0.1% for past 7 days
</span></span></span><span class=line><span class=cl><span class=s>- [ ] Performance metrics acceptable
</span></span></span><span class=line><span class=cl><span class=s>- [ ] Rollback plan tested
</span></span></span><span class=line><span class=cl><span class=s>- [ ] Support team trained
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>## Cutover Steps
</span></span></span><span class=line><span class=cl><span class=s>1. Enable read from new system (50% traffic)
</span></span></span><span class=line><span class=cl><span class=s>2. Monitor for 24 hours
</span></span></span><span class=line><span class=cl><span class=s>3. Enable read from new system (100% traffic)
</span></span></span><span class=line><span class=cl><span class=s>4. Monitor for 48 hours
</span></span></span><span class=line><span class=cl><span class=s>5. Disable writes to legacy system
</span></span></span><span class=line><span class=cl><span class=s>6. Monitor for 7 days
</span></span></span><span class=line><span class=cl><span class=s>7. Decommission legacy system
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>## Rollback Plan
</span></span></span><span class=line><span class=cl><span class=s>1. Disable new system flag
</span></span></span><span class=line><span class=cl><span class=s>2. Re-enable legacy system
</span></span></span><span class=line><span class=cl><span class=s>3. Investigate issues
</span></span></span><span class=line><span class=cl><span class=s>4. Fix and retry
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 4.2 컷오버 자동화 스크립트</span>
</span></span><span class=line><span class=cl>cat &gt; scripts/auth-cutover.js <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>async function executeAuthCutover(phase) {
</span></span></span><span class=line><span class=cl><span class=s>  const flags = new FeatureFlags();
</span></span></span><span class=line><span class=cl><span class=s>  const monitor = new AuthMigrationMonitor();
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  switch (phase) {
</span></span></span><span class=line><span class=cl><span class=s>    case &#39;phase1&#39;:
</span></span></span><span class=line><span class=cl><span class=s>      // 50% 트래픽을 새 시스템으로
</span></span></span><span class=line><span class=cl><span class=s>      await flags.update(&#39;newAuthSystem&#39;, {
</span></span></span><span class=line><span class=cl><span class=s>        enabled: true,
</span></span></span><span class=line><span class=cl><span class=s>        rollout: { percentage: 50 }
</span></span></span><span class=line><span class=cl><span class=s>      });
</span></span></span><span class=line><span class=cl><span class=s>      break;
</span></span></span><span class=line><span class=cl><span class=s>      
</span></span></span><span class=line><span class=cl><span class=s>    case &#39;phase2&#39;:
</span></span></span><span class=line><span class=cl><span class=s>      // 100% 트래픽을 새 시스템으로
</span></span></span><span class=line><span class=cl><span class=s>      await flags.update(&#39;newAuthSystem&#39;, {
</span></span></span><span class=line><span class=cl><span class=s>        enabled: true,
</span></span></span><span class=line><span class=cl><span class=s>        rollout: { percentage: 100 }
</span></span></span><span class=line><span class=cl><span class=s>      });
</span></span></span><span class=line><span class=cl><span class=s>      break;
</span></span></span><span class=line><span class=cl><span class=s>      
</span></span></span><span class=line><span class=cl><span class=s>    case &#39;phase3&#39;:
</span></span></span><span class=line><span class=cl><span class=s>      // 레거시 시스템 비활성화
</span></span></span><span class=line><span class=cl><span class=s>      await flags.update(&#39;legacyAuthWrites&#39;, {
</span></span></span><span class=line><span class=cl><span class=s>        enabled: false
</span></span></span><span class=line><span class=cl><span class=s>      });
</span></span></span><span class=line><span class=cl><span class=s>      break;
</span></span></span><span class=line><span class=cl><span class=s>      
</span></span></span><span class=line><span class=cl><span class=s>    case &#39;rollback&#39;:
</span></span></span><span class=line><span class=cl><span class=s>      // 롤백 실행
</span></span></span><span class=line><span class=cl><span class=s>      await flags.update(&#39;newAuthSystem&#39;, {
</span></span></span><span class=line><span class=cl><span class=s>        enabled: false
</span></span></span><span class=line><span class=cl><span class=s>      });
</span></span></span><span class=line><span class=cl><span class=s>      await flags.update(&#39;legacyAuthWrites&#39;, {
</span></span></span><span class=line><span class=cl><span class=s>        enabled: true
</span></span></span><span class=line><span class=cl><span class=s>      });
</span></span></span><span class=line><span class=cl><span class=s>      break;
</span></span></span><span class=line><span class=cl><span class=s>  }
</span></span></span><span class=line><span class=cl><span class=s>  
</span></span></span><span class=line><span class=cl><span class=s>  // 상태 모니터링
</span></span></span><span class=line><span class=cl><span class=s>  const health = await monitor.checkMigrationHealth();
</span></span></span><span class=line><span class=cl><span class=s>  console.log(&#39;System health:&#39;, health);
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git add docs/auth-cutover-checklist.md scripts/auth-cutover.js
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;feat: add auth system cutover automation&#34;</span>
</span></span><span class=line><span class=cl>git push origin main
</span></span></code></pre></td></tr></table></div></div><h4 id=cicd-파이프라인-설정>CI/CD 파이프라인 설정<a hidden class=anchor aria-hidden=true href=#cicd-파이프라인-설정>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-31-1><a class=lnlinks href=#hl-31-1> 1</a>
</span><span class=lnt id=hl-31-2><a class=lnlinks href=#hl-31-2> 2</a>
</span><span class=lnt id=hl-31-3><a class=lnlinks href=#hl-31-3> 3</a>
</span><span class=lnt id=hl-31-4><a class=lnlinks href=#hl-31-4> 4</a>
</span><span class=lnt id=hl-31-5><a class=lnlinks href=#hl-31-5> 5</a>
</span><span class=lnt id=hl-31-6><a class=lnlinks href=#hl-31-6> 6</a>
</span><span class=lnt id=hl-31-7><a class=lnlinks href=#hl-31-7> 7</a>
</span><span class=lnt id=hl-31-8><a class=lnlinks href=#hl-31-8> 8</a>
</span><span class=lnt id=hl-31-9><a class=lnlinks href=#hl-31-9> 9</a>
</span><span class=lnt id=hl-31-10><a class=lnlinks href=#hl-31-10>10</a>
</span><span class=lnt id=hl-31-11><a class=lnlinks href=#hl-31-11>11</a>
</span><span class=lnt id=hl-31-12><a class=lnlinks href=#hl-31-12>12</a>
</span><span class=lnt id=hl-31-13><a class=lnlinks href=#hl-31-13>13</a>
</span><span class=lnt id=hl-31-14><a class=lnlinks href=#hl-31-14>14</a>
</span><span class=lnt id=hl-31-15><a class=lnlinks href=#hl-31-15>15</a>
</span><span class=lnt id=hl-31-16><a class=lnlinks href=#hl-31-16>16</a>
</span><span class=lnt id=hl-31-17><a class=lnlinks href=#hl-31-17>17</a>
</span><span class=lnt id=hl-31-18><a class=lnlinks href=#hl-31-18>18</a>
</span><span class=lnt id=hl-31-19><a class=lnlinks href=#hl-31-19>19</a>
</span><span class=lnt id=hl-31-20><a class=lnlinks href=#hl-31-20>20</a>
</span><span class=lnt id=hl-31-21><a class=lnlinks href=#hl-31-21>21</a>
</span><span class=lnt id=hl-31-22><a class=lnlinks href=#hl-31-22>22</a>
</span><span class=lnt id=hl-31-23><a class=lnlinks href=#hl-31-23>23</a>
</span><span class=lnt id=hl-31-24><a class=lnlinks href=#hl-31-24>24</a>
</span><span class=lnt id=hl-31-25><a class=lnlinks href=#hl-31-25>25</a>
</span><span class=lnt id=hl-31-26><a class=lnlinks href=#hl-31-26>26</a>
</span><span class=lnt id=hl-31-27><a class=lnlinks href=#hl-31-27>27</a>
</span><span class=lnt id=hl-31-28><a class=lnlinks href=#hl-31-28>28</a>
</span><span class=lnt id=hl-31-29><a class=lnlinks href=#hl-31-29>29</a>
</span><span class=lnt id=hl-31-30><a class=lnlinks href=#hl-31-30>30</a>
</span><span class=lnt id=hl-31-31><a class=lnlinks href=#hl-31-31>31</a>
</span><span class=lnt id=hl-31-32><a class=lnlinks href=#hl-31-32>32</a>
</span><span class=lnt id=hl-31-33><a class=lnlinks href=#hl-31-33>33</a>
</span><span class=lnt id=hl-31-34><a class=lnlinks href=#hl-31-34>34</a>
</span><span class=lnt id=hl-31-35><a class=lnlinks href=#hl-31-35>35</a>
</span><span class=lnt id=hl-31-36><a class=lnlinks href=#hl-31-36>36</a>
</span><span class=lnt id=hl-31-37><a class=lnlinks href=#hl-31-37>37</a>
</span><span class=lnt id=hl-31-38><a class=lnlinks href=#hl-31-38>38</a>
</span><span class=lnt id=hl-31-39><a class=lnlinks href=#hl-31-39>39</a>
</span><span class=lnt id=hl-31-40><a class=lnlinks href=#hl-31-40>40</a>
</span><span class=lnt id=hl-31-41><a class=lnlinks href=#hl-31-41>41</a>
</span><span class=lnt id=hl-31-42><a class=lnlinks href=#hl-31-42>42</a>
</span><span class=lnt id=hl-31-43><a class=lnlinks href=#hl-31-43>43</a>
</span><span class=lnt id=hl-31-44><a class=lnlinks href=#hl-31-44>44</a>
</span><span class=lnt id=hl-31-45><a class=lnlinks href=#hl-31-45>45</a>
</span><span class=lnt id=hl-31-46><a class=lnlinks href=#hl-31-46>46</a>
</span><span class=lnt id=hl-31-47><a class=lnlinks href=#hl-31-47>47</a>
</span><span class=lnt id=hl-31-48><a class=lnlinks href=#hl-31-48>48</a>
</span><span class=lnt id=hl-31-49><a class=lnlinks href=#hl-31-49>49</a>
</span><span class=lnt id=hl-31-50><a class=lnlinks href=#hl-31-50>50</a>
</span><span class=lnt id=hl-31-51><a class=lnlinks href=#hl-31-51>51</a>
</span><span class=lnt id=hl-31-52><a class=lnlinks href=#hl-31-52>52</a>
</span><span class=lnt id=hl-31-53><a class=lnlinks href=#hl-31-53>53</a>
</span><span class=lnt id=hl-31-54><a class=lnlinks href=#hl-31-54>54</a>
</span><span class=lnt id=hl-31-55><a class=lnlinks href=#hl-31-55>55</a>
</span><span class=lnt id=hl-31-56><a class=lnlinks href=#hl-31-56>56</a>
</span><span class=lnt id=hl-31-57><a class=lnlinks href=#hl-31-57>57</a>
</span><span class=lnt id=hl-31-58><a class=lnlinks href=#hl-31-58>58</a>
</span><span class=lnt id=hl-31-59><a class=lnlinks href=#hl-31-59>59</a>
</span><span class=lnt id=hl-31-60><a class=lnlinks href=#hl-31-60>60</a>
</span><span class=lnt id=hl-31-61><a class=lnlinks href=#hl-31-61>61</a>
</span><span class=lnt id=hl-31-62><a class=lnlinks href=#hl-31-62>62</a>
</span><span class=lnt id=hl-31-63><a class=lnlinks href=#hl-31-63>63</a>
</span><span class=lnt id=hl-31-64><a class=lnlinks href=#hl-31-64>64</a>
</span><span class=lnt id=hl-31-65><a class=lnlinks href=#hl-31-65>65</a>
</span><span class=lnt id=hl-31-66><a class=lnlinks href=#hl-31-66>66</a>
</span><span class=lnt id=hl-31-67><a class=lnlinks href=#hl-31-67>67</a>
</span><span class=lnt id=hl-31-68><a class=lnlinks href=#hl-31-68>68</a>
</span><span class=lnt id=hl-31-69><a class=lnlinks href=#hl-31-69>69</a>
</span><span class=lnt id=hl-31-70><a class=lnlinks href=#hl-31-70>70</a>
</span><span class=lnt id=hl-31-71><a class=lnlinks href=#hl-31-71>71</a>
</span><span class=lnt id=hl-31-72><a class=lnlinks href=#hl-31-72>72</a>
</span><span class=lnt id=hl-31-73><a class=lnlinks href=#hl-31-73>73</a>
</span><span class=lnt id=hl-31-74><a class=lnlinks href=#hl-31-74>74</a>
</span><span class=lnt id=hl-31-75><a class=lnlinks href=#hl-31-75>75</a>
</span><span class=lnt id=hl-31-76><a class=lnlinks href=#hl-31-76>76</a>
</span><span class=lnt id=hl-31-77><a class=lnlinks href=#hl-31-77>77</a>
</span><span class=lnt id=hl-31-78><a class=lnlinks href=#hl-31-78>78</a>
</span><span class=lnt id=hl-31-79><a class=lnlinks href=#hl-31-79>79</a>
</span><span class=lnt id=hl-31-80><a class=lnlinks href=#hl-31-80>80</a>
</span><span class=lnt id=hl-31-81><a class=lnlinks href=#hl-31-81>81</a>
</span><span class=lnt id=hl-31-82><a class=lnlinks href=#hl-31-82>82</a>
</span><span class=lnt id=hl-31-83><a class=lnlinks href=#hl-31-83>83</a>
</span><span class=lnt id=hl-31-84><a class=lnlinks href=#hl-31-84>84</a>
</span><span class=lnt id=hl-31-85><a class=lnlinks href=#hl-31-85>85</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># .github/workflows/ci.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Continuous Integration</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=l>main ]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>pull_request</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=l>main ]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>test</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Node.js</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/setup-node@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>node-version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;18&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Install dependencies</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm ci</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Run linting</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm run lint</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Run type checking</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm run type-check</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Run unit tests</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm run test:unit</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Run integration tests</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm run test:integration</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>security-scan</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Run security audit</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm audit</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Run SAST scan</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>github/codeql-action/analyze@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>deploy-staging</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>needs</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>test, security-scan]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=l>github.ref == &#39;refs/heads/main&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy to staging</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>        npm run build
</span></span></span><span class=line><span class=cl><span class=sd>        npm run deploy:staging</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Run E2E tests</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm run test:e2e</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Health check</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>        curl --fail https://staging.fintech-pro.com/health || exit 1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>deploy-production</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>needs</span><span class=p>:</span><span class=w> </span><span class=l>deploy-staging</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=l>github.ref == &#39;refs/heads/main&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>environment</span><span class=p>:</span><span class=w> </span><span class=l>production</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy to production</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>        npm run build:prod
</span></span></span><span class=line><span class=cl><span class=sd>        npm run deploy:prod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Smoke tests</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm run test:smoke</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Monitor deployment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>        # 배포 모니터링 스크립트
</span></span></span><span class=line><span class=cl><span class=sd>        npm run monitor:deployment</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=실무-적용-예시>실무 적용 예시<a hidden class=anchor aria-hidden=true href=#실무-적용-예시>#</a></h3><table><thead><tr><th>상황</th><th>적용 방법</th><th>기대 효과</th><th>주의사항</th></tr></thead><tbody><tr><td>신규 기능 개발</td><td>피처 플래그로 숨긴 채 trunk 통합</td><td>지속적 통합 유지</td><td>플래그 관리 체계 필요</td></tr><tr><td>긴급 버그 수정</td><td>trunk에 직접 커밋 및 배포</td><td>신속한 문제 해결</td><td>철저한 테스트 후 커밋</td></tr><tr><td>대규모 리팩토링</td><td>Branch by Abstraction 패턴</td><td>점진적 개선 가능</td><td>추상화 계층 설계 중요</td></tr><tr><td>실험적 기능</td><td>A/B 테스팅용 피처 플래그</td><td>사용자 반응 즉시 확인</td><td>실험 종료 후 정리</td></tr><tr><td>팀 온보딩</td><td>페어 프로그래밍 + 짧은 PR</td><td>빠른 적응과 학습</td><td>멘토링 체계 구축</td></tr></tbody></table><h3 id=활용한-예시>활용한 예시<a hidden class=anchor aria-hidden=true href=#활용한-예시>#</a></h3><ol><li><p>Google의 모노레포 TBD</p><ul><li>상황: 35,000명 이상의 개발자, 단일 저장소</li><li>적용: 순수 TBD + 강력한 자동화 도구</li><li>성과: 하루 수천 건의 커밋, 높은 코드 품질 유지</li></ul></li><li><p>Facebook의 릴리스 프로세스</p><ul><li>상황: 대규모 사용자 기반, 빈번한 업데이트</li><li>적용: TBD + 피처 플래그 + A/B 테스팅</li><li>성과: 하루 여러 번 배포, 실시간 사용자 피드백</li></ul></li><li><p>Spotify의 마이크로서비스</p><ul><li>상황: 수백 개의 마이크로서비스, 자율적 팀</li><li>적용: TBD + 서비스별 CI/CD 파이프라인</li><li>성과: 팀 자율성 유지하며 빠른 배포</li></ul></li></ol><h4 id=활용한-예시에-대한-다이어그램>활용한 예시에 대한 다이어그램<a hidden class=anchor aria-hidden=true href=#활용한-예시에-대한-다이어그램>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-32-1><a class=lnlinks href=#hl-32-1> 1</a>
</span><span class=lnt id=hl-32-2><a class=lnlinks href=#hl-32-2> 2</a>
</span><span class=lnt id=hl-32-3><a class=lnlinks href=#hl-32-3> 3</a>
</span><span class=lnt id=hl-32-4><a class=lnlinks href=#hl-32-4> 4</a>
</span><span class=lnt id=hl-32-5><a class=lnlinks href=#hl-32-5> 5</a>
</span><span class=lnt id=hl-32-6><a class=lnlinks href=#hl-32-6> 6</a>
</span><span class=lnt id=hl-32-7><a class=lnlinks href=#hl-32-7> 7</a>
</span><span class=lnt id=hl-32-8><a class=lnlinks href=#hl-32-8> 8</a>
</span><span class=lnt id=hl-32-9><a class=lnlinks href=#hl-32-9> 9</a>
</span><span class=lnt id=hl-32-10><a class=lnlinks href=#hl-32-10>10</a>
</span><span class=lnt id=hl-32-11><a class=lnlinks href=#hl-32-11>11</a>
</span><span class=lnt id=hl-32-12><a class=lnlinks href=#hl-32-12>12</a>
</span><span class=lnt id=hl-32-13><a class=lnlinks href=#hl-32-13>13</a>
</span><span class=lnt id=hl-32-14><a class=lnlinks href=#hl-32-14>14</a>
</span><span class=lnt id=hl-32-15><a class=lnlinks href=#hl-32-15>15</a>
</span><span class=lnt id=hl-32-16><a class=lnlinks href=#hl-32-16>16</a>
</span><span class=lnt id=hl-32-17><a class=lnlinks href=#hl-32-17>17</a>
</span><span class=lnt id=hl-32-18><a class=lnlinks href=#hl-32-18>18</a>
</span><span class=lnt id=hl-32-19><a class=lnlinks href=#hl-32-19>19</a>
</span><span class=lnt id=hl-32-20><a class=lnlinks href=#hl-32-20>20</a>
</span><span class=lnt id=hl-32-21><a class=lnlinks href=#hl-32-21>21</a>
</span><span class=lnt id=hl-32-22><a class=lnlinks href=#hl-32-22>22</a>
</span><span class=lnt id=hl-32-23><a class=lnlinks href=#hl-32-23>23</a>
</span><span class=lnt id=hl-32-24><a class=lnlinks href=#hl-32-24>24</a>
</span><span class=lnt id=hl-32-25><a class=lnlinks href=#hl-32-25>25</a>
</span><span class=lnt id=hl-32-26><a class=lnlinks href=#hl-32-26>26</a>
</span><span class=lnt id=hl-32-27><a class=lnlinks href=#hl-32-27>27</a>
</span><span class=lnt id=hl-32-28><a class=lnlinks href=#hl-32-28>28</a>
</span><span class=lnt id=hl-32-29><a class=lnlinks href=#hl-32-29>29</a>
</span><span class=lnt id=hl-32-30><a class=lnlinks href=#hl-32-30>30</a>
</span><span class=lnt id=hl-32-31><a class=lnlinks href=#hl-32-31>31</a>
</span><span class=lnt id=hl-32-32><a class=lnlinks href=#hl-32-32>32</a>
</span><span class=lnt id=hl-32-33><a class=lnlinks href=#hl-32-33>33</a>
</span><span class=lnt id=hl-32-34><a class=lnlinks href=#hl-32-34>34</a>
</span><span class=lnt id=hl-32-35><a class=lnlinks href=#hl-32-35>35</a>
</span><span class=lnt id=hl-32-36><a class=lnlinks href=#hl-32-36>36</a>
</span><span class=lnt id=hl-32-37><a class=lnlinks href=#hl-32-37>37</a>
</span><span class=lnt id=hl-32-38><a class=lnlinks href=#hl-32-38>38</a>
</span><span class=lnt id=hl-32-39><a class=lnlinks href=#hl-32-39>39</a>
</span><span class=lnt id=hl-32-40><a class=lnlinks href=#hl-32-40>40</a>
</span><span class=lnt id=hl-32-41><a class=lnlinks href=#hl-32-41>41</a>
</span><span class=lnt id=hl-32-42><a class=lnlinks href=#hl-32-42>42</a>
</span><span class=lnt id=hl-32-43><a class=lnlinks href=#hl-32-43>43</a>
</span><span class=lnt id=hl-32-44><a class=lnlinks href=#hl-32-44>44</a>
</span><span class=lnt id=hl-32-45><a class=lnlinks href=#hl-32-45>45</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Google의 대규모 TBD 구현 사례:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>┌─────────────────────────────────────────────────────────────────┐
</span></span><span class=line><span class=cl>│                   Google Monorepo TBD Workflow                  │
</span></span><span class=line><span class=cl>├─────────────────────────────────────────────────────────────────┤
</span></span><span class=line><span class=cl>│                                                                 │
</span></span><span class=line><span class=cl>│  [35,000+ Developers Worldwide]                                │
</span></span><span class=line><span class=cl>│           │                                                     │
</span></span><span class=line><span class=cl>│           ▼                                                     │
</span></span><span class=line><span class=cl>│  ┌─────────────────┐                                           │
</span></span><span class=line><span class=cl>│  │  Local Changes  │ ── Pre-submit Tests ──┐                   │
</span></span><span class=line><span class=cl>│  └─────────────────┘                       │                   │
</span></span><span class=line><span class=cl>│                                            ▼                   │
</span></span><span class=line><span class=cl>│                               ┌──────────────────────┐        │
</span></span><span class=line><span class=cl>│                               │ Code Review System   │        │
</span></span><span class=line><span class=cl>│                               │ (Critique)           │        │
</span></span><span class=line><span class=cl>│                               └──────────┬───────────┘        │
</span></span><span class=line><span class=cl>│                                          │                    │
</span></span><span class=line><span class=cl>│                                          ▼                    │
</span></span><span class=line><span class=cl>│                               ┌──────────────────────┐        │
</span></span><span class=line><span class=cl>│         ┌─────────────────────│    Single Trunk      │        │
</span></span><span class=line><span class=cl>│         │                     │   (Google3 Repo)     │        │
</span></span><span class=line><span class=cl>│         │                     └──────────┬───────────┘        │
</span></span><span class=line><span class=cl>│         │                                │                    │
</span></span><span class=line><span class=cl>│         │                                ▼                    │
</span></span><span class=line><span class=cl>│         │                     ┌──────────────────────┐        │
</span></span><span class=line><span class=cl>│         │                     │  Post-submit Tests   │        │
</span></span><span class=line><span class=cl>│         │                     │  (TAP - Test         │        │
</span></span><span class=line><span class=cl>│         │                     │   Automation Platform)│        │
</span></span><span class=line><span class=cl>│         │                     └──────────┬───────────┘        │
</span></span><span class=line><span class=cl>│         │                                │                    │
</span></span><span class=line><span class=cl>│         │                                ▼                    │
</span></span><span class=line><span class=cl>│         │                     ┌──────────────────────┐        │
</span></span><span class=line><span class=cl>│         └─────── Rollback ────│  Global Deployment   │        │
</span></span><span class=line><span class=cl>│           (if issues found)   │  (Borg/Kubernetes)   │        │
</span></span><span class=line><span class=cl>│                               └──────────────────────┘        │
</span></span><span class=line><span class=cl>│                                                               │
</span></span><span class=line><span class=cl>│  특징:                                                        │
</span></span><span class=line><span class=cl>│  - 단일 모노레포 (수십억 줄의 코드)                          │
</span></span><span class=line><span class=cl>│  - 강력한 코드 검색 도구 (CodeSearch)                        │
</span></span><span class=line><span class=cl>│  - 자동화된 대규모 리팩토링 (Rosie)                          │
</span></span><span class=line><span class=cl>│  - 엄격한 pre-submit 테스트                                  │
</span></span><span class=line><span class=cl>│  - 즉각적인 롤백 메커니즘                                    │
</span></span><span class=line><span class=cl>│                                                               │
</span></span><span class=line><span class=cl>└─────────────────────────────────────────────────────────────────┘
</span></span></code></pre></td></tr></table></div></div><h3 id=실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>고려사항</th><th>세부내용</th><th>권장사항</th><th>피해야 할 점</th></tr></thead><tbody><tr><td>커밋 크기</td><td>변경사항 범위 관리</td><td>하나의 논리적 변경만 포함</td><td>대규모 변경 한번에 커밋</td></tr><tr><td>테스트 전략</td><td>자동화 테스트 구성</td><td>단위/통합/E2E 테스트 완비</td><td>수동 테스트 의존</td></tr><tr><td>코드 리뷰</td><td>리뷰 프로세스 최적화</td><td>페어 프로그래밍 활용</td><td>긴 리뷰 대기 시간</td></tr><tr><td>피처 플래그</td><td>기능 토글 관리</td><td>체계적인 플래그 생명주기 관리</td><td>오래된 플래그 방치</td></tr><tr><td>CI/CD 파이프라인</td><td>빌드 시간 최적화</td><td>병렬 실행, 캐싱 활용</td><td>느린 빌드 방치</td></tr><tr><td>모니터링</td><td>실시간 품질 감시</td><td>자동 알림 설정</td><td>수동 모니터링 의존</td></tr></tbody></table><h3 id=최적화하기-위한-고려사항-및-주의할-점>최적화하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#최적화하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>최적화 영역</th><th>방법</th><th>기대 효과</th><th>주의사항</th></tr></thead><tbody><tr><td>빌드 시간</td><td>증분 빌드, 병렬화</td><td>피드백 주기 단축</td><td>빌드 안정성 확인</td></tr><tr><td>테스트 속도</td><td>테스트 병렬화, 선택적 실행</td><td>CI 시간 50% 감소</td><td>테스트 격리성 유지</td></tr><tr><td>배포 자동화</td><td>Blue-Green, 카나리 배포</td><td>무중단 배포</td><td>롤백 계획 준비</td></tr><tr><td>코드 리뷰</td><td>자동 리뷰 도구 활용</td><td>리뷰 시간 단축</td><td>사람 리뷰 완전 대체 금지</td></tr><tr><td>브랜치 수명</td><td>자동 브랜치 정리</td><td>저장소 정리</td><td>활성 작업 브랜치 삭제 주의</td></tr></tbody></table><h3 id=최신-동향>최신 동향<a hidden class=anchor aria-hidden=true href=#최신-동향>#</a></h3><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>AI 통합</td><td>자동 충돌 해결</td><td>머신러닝 기반 코드 병합 최적화</td></tr><tr><td>GitOps 강화</td><td>OCI 기반 배포</td><td>Kubernetes 매니페스트 이미지화</td></tr><tr><td>자동화 확장</td><td>TBD 전용 도구</td><td>CLI/GUI 도구를 통한 워크플로우 표준화</td></tr><tr><td>기능 통제</td><td>Feature flag 플랫폼 확산</td><td>LaunchDarkly, Unleash 등 사용 증가</td></tr></tbody></table><h3 id=주목해야-할-기술>주목해야 할 기술<a hidden class=anchor aria-hidden=true href=#주목해야-할-기술>#</a></h3><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>CI 파이프라인</td><td>GitHub Actions, GitLab CI</td><td>trunk 병합 시 빠른 검증용 테스트 실행</td></tr><tr><td>Feature Management</td><td>LaunchDarkly, Split.io</td><td>병합 후 릴리스 통제를 위한 기능 플래그 시스템</td></tr><tr><td>테스트 자동화</td><td>Cypress, Playwright</td><td>병합 전 UI/통합 테스트 자동화 구성 도구</td></tr><tr><td>관찰 가능성</td><td>분산 추적</td><td>마이크로서비스 환경 모니터링</td></tr><tr><td></td><td>카오스 엔지니어링</td><td>프로덕션 안정성 자동 검증</td></tr></tbody></table><h3 id=앞으로의-전망>앞으로의 전망<a hidden class=anchor aria-hidden=true href=#앞으로의-전망>#</a></h3><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>릴리스 전략</td><td>Trunk + Feature Flag</td><td>병합은 빠르게, 릴리스는 안전하게가 기본 전략화됨</td></tr><tr><td>품질 보장</td><td>자동화 테스트 강화</td><td>trunk 병합 전 AI 기반 테스트로 리스크 최소화</td></tr><tr><td>운영 전략</td><td>GitOps 연계</td><td>trunk 변경을 인프라 배포와도 자동 연결하는 GitOps 확산</td></tr></tbody></table><h3 id=하위-주제로-분류한-추가-학습-내용>하위 주제로 분류한 추가 학습 내용<a hidden class=anchor aria-hidden=true href=#하위-주제로-분류한-추가-학습-내용>#</a></h3><table><thead><tr><th>카테고리</th><th>주제</th><th>간략한 설명</th></tr></thead><tbody><tr><td>CI/CD 최적화</td><td>파이프라인 병렬화</td><td>빌드 시간 단축 기법</td></tr><tr><td></td><td>캐싱 전략</td><td>효율적인 빌드 캐시 관리</td></tr><tr><td>피처 플래그</td><td>플래그 아키텍처</td><td>확장 가능한 플래그 시스템 설계</td></tr><tr><td></td><td>A/B 테스팅 구현</td><td>실험 기반 개발 방법론</td></tr><tr><td>테스트 전략</td><td>테스트 피라미드</td><td>효과적인 테스트 계층 구성</td></tr><tr><td></td><td>성능 테스트 자동화</td><td>CI에 성능 검증 통합</td></tr><tr><td>모니터링</td><td>배포 추적</td><td>릴리스 영향 실시간 분석</td></tr><tr><td></td><td>에러 감지 자동화</td><td>이상 탐지 시스템 구축</td></tr></tbody></table><h3 id=관련-분야-추가-학습-내용>관련 분야 추가 학습 내용<a hidden class=anchor aria-hidden=true href=#관련-분야-추가-학습-내용>#</a></h3><table><thead><tr><th>관련 분야</th><th>주제</th><th>간략한 설명</th></tr></thead><tbody><tr><td>DevOps</td><td>SRE 실천법</td><td>사이트 신뢰성 엔지니어링</td></tr><tr><td></td><td>인프라 as 코드</td><td>Terraform, Ansible 활용</td></tr><tr><td>애자일 방법론</td><td>칸반 시스템</td><td>흐름 기반 작업 관리</td></tr><tr><td></td><td>XP(익스트림 프로그래밍)</td><td>TBD와 시너지 높은 방법론</td></tr><tr><td>마이크로서비스</td><td>서비스 메시</td><td>Istio, Linkerd 활용</td></tr><tr><td></td><td>API 게이트웨이</td><td>Kong, Ambassador 구현</td></tr><tr><td>클라우드 네이티브</td><td>컨테이너 오케스트레이션</td><td>Kubernetes 최적화</td></tr><tr><td></td><td>서버리스 아키텍처</td><td>FaaS와 TBD 통합</td></tr></tbody></table><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>Feature Flag (Feature Toggle)</td><td>런타임에 기능을 켜고 끌 수 있는 메커니즘</td></tr><tr><td>Branch by Abstraction</td><td>대규모 변경을 추상화 계층을 통해 점진적으로 수행하는 패턴</td></tr><tr><td>Pre-submit Test</td><td>코드가 trunk에 병합되기 전 실행되는 자동화 테스트</td></tr><tr><td>Post-submit Test</td><td>trunk 병합 후 실행되는 추가 검증 테스트</td></tr><tr><td>Monorepo</td><td>여러 프로젝트를 단일 저장소에서 관리하는 방식</td></tr><tr><td>Code Velocity</td><td>코드 변경사항이 프로덕션에 반영되는 속도</td></tr><tr><td>Dark Launch</td><td>사용자에게 노출하지 않고 프로덕션에 기능 배포</td></tr><tr><td>OCI(Open Container Initiative)</td><td>컨테이너 표준화 규격[13][18]</td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><ul><li><a href=https://trunkbaseddevelopment.com/>Trunk-Based Development 공식 문서</a></li><li><a href=https://martinfowler.com/bliki/FeatureBranch.html>Martin Fowler - Feature Branching</a></li><li><a href=https://docs.github.com/en/actions>GitHub Docs - CI/CD</a></li><li><a href=https://launchdarkly.com/>LaunchDarkly - Feature Management</a></li><li><a href=https://www.atlassian.com/continuous-delivery/continuous-integration/trunk-based-development>Atlassian - Trunk-based Development</a></li><li><a href=https://google.github.io/eng-practices/>Google Engineering Practices</a></li><li><a href=https://martinfowler.com/articles/feature-toggles.html>Martin Fowler - Feature Toggles</a></li><li><a href=https://circleci.com/blog/trunk-vs-feature-based-dev/>CircleCI - Trunk vs Feature-based Development</a></li><li><a href=https://itrevolution.com/the-devops-handbook/>DevOps Handbook by Gene Kim</a></li><li><a href=https://continuousdelivery.com/>Continuous Delivery by Jez Humble</a></li><li><a href=https://cloud.google.com/architecture/devops/devops-tech-trunk-based-development>Google Cloud - DevOps Tech: Trunk Based Development</a></li><li><a href=https://www.getunleash.io/blog/how-to-implement-trunk-based-development-a-practical-guide>Unleash - Trunk-based Development Guide</a></li><li><a href=https://launchdarkly.com/blog/git-branching-strategies-vs-trunk-based-development/>LaunchDarkly - Git Branching Strategies vs TBD</a></li></ul><hr><h3 id=scaled-trunk-based-development>Scaled Trunk-Based Development<a hidden class=anchor aria-hidden=true href=#scaled-trunk-based-development>#</a></h3><p><figure><img alt="Scaled Trunk-Based Development" loading=lazy src=/img/trunk1c.png><figcaption>https://trunkbaseddevelopment.com/</figcaption></figure></p><h4 id=특징-1>특징<a hidden class=anchor aria-hidden=true href=#특징-1>#</a></h4><ul><li>단일 메인 브랜치(trunk)를 중심으로 개발</li><li>짧은 수명의 기능 브랜치 사용</li><li>빈번한 통합과 배포</li><li>기능 플래그를 활용한 기능 관리</li><li>대규모 팀과 프로젝트에 적합</li><li>마이크로서비스 아키텍처 지원</li></ul><h4 id=핵심-원칙>핵심 원칙<a hidden class=anchor aria-hidden=true href=#핵심-원칙>#</a></h4><ul><li>trunk는 항상 안정적이고 배포 가능한 상태 유지</li><li>기능 브랜치는 짧게 유지 (1-2일 이내)</li><li>빈번한 통합과 배포</li><li>자동화된 테스트와 CI/CD 파이프라인 필수</li><li>기능 플래그를 활용한 미완성 기능 관리</li></ul><h4 id=구조-및-branch-종류>구조 및 Branch 종류<a hidden class=anchor aria-hidden=true href=#구조-및-branch-종류>#</a></h4><ul><li><p>Trunk 브랜치:</p><ul><li>항상 배포 가능한 상태 유지</li><li>모든 개발 작업의 최종 목적지</li></ul></li><li><p>기능 브랜치:</p><ul><li>개별 기능 개발을 위해 trunk에서 분기</li><li>빠르게 개발 완료 후 trunk로 병합 (보통 1-2일 이내)</li></ul></li><li><p>릴리스 브랜치:</p><ul><li>필요시에만 생성</li><li>릴리스 준비 및 핫픽스를 위해 사용</li></ul></li></ul><h4 id=작업-시나리오>작업 시나리오<a hidden class=anchor aria-hidden=true href=#작업-시나리오>#</a></h4><h5 id=새로운-기능-개발>새로운 기능 개발<a hidden class=anchor aria-hidden=true href=#새로운-기능-개발>#</a></h5><ol><li>Feature Flag 생성</li><li>임시 브랜치 생성</li><li>기능 구현 (1-2일)</li><li>테스트 및 리뷰</li><li>main 병합</li><li>단계적 Flag 활성화</li></ol><h5 id=긴급-수정>긴급 수정<a hidden class=anchor aria-hidden=true href=#긴급-수정>#</a></h5><ol><li>main에서 직접 수정</li><li>테스트 자동화</li><li>즉시 배포</li><li>모니터링</li></ol><h4 id=장단점>장단점<a hidden class=anchor aria-hidden=true href=#장단점>#</a></h4><table><thead><tr><th>장점</th><th>단점</th></tr></thead><tbody><tr><td>빠른 통합과 피드백<br>병합 충돌 최소화<br>지속적 배포 용이<br>대규모 팀 협업에 적합</td><td>높은 수준의 자동화 필요<br>기능 플래그 관리의 복잡성<br>팀원들의 높은 기술력과 규율 필요</td></tr></tbody></table><h4 id=적용-적합성>적용 적합성<a hidden class=anchor aria-hidden=true href=#적용-적합성>#</a></h4><table><thead><tr><th>프로젝트 규모</th><th>팀 규모</th><th>배포 빈도</th><th>품질 관리 수준</th></tr></thead><tbody><tr><td>중대형 프로젝트</td><td>대규모 팀 (50명 이상)</td><td>매우 빈번 (일일 또는 그 이상)</td><td>높은 수준의 자동화된 테스트 필요</td></tr></tbody></table><h4 id=리스크-요소>리스크 요소<a hidden class=anchor aria-hidden=true href=#리스크-요소>#</a></h4><table><thead><tr><th>통합 리스크</th><th>배포 리스크</th><th>품질 리스크</th><th>관리 리스크</th></tr></thead><tbody><tr><td>빈번한 통합으로 인한 일시적 불안정성</td><td>잦은 배포로 인한 운영 부담 증가</td><td>빠른 개발 주기로 인한 품질 저하 가능성</td><td>기능 플래그 관리의 복잡성</td></tr></tbody></table><h5 id=복잡도-증가-요인>복잡도 증가 요인<a hidden class=anchor aria-hidden=true href=#복잡도-증가-요인>#</a></h5><ul><li>전반적으로 중간 수준의 복잡도</li><li>기능 플래그 관리와 대규모 팀 조정에서 복잡도 증가</li></ul><h4 id=cicd를-위한-요구-사항>CI/CD를 위한 요구 사항<a hidden class=anchor aria-hidden=true href=#cicd를-위한-요구-사항>#</a></h4><ul><li>강력한 자동화된 테스트 시스템</li><li>빠른 빌드 및 배포 파이프라인</li><li>코드 품질 검사 도구</li><li>실시간 모니터링 시스템</li><li>기능 플래그 관리 시스템</li></ul><h5 id=통합-방법>통합 방법<a hidden class=anchor aria-hidden=true href=#통합-방법>#</a></h5><ol><li>자동화된 빌드 및 테스트 파이프라인 구축:<ul><li>모든 커밋에 대해 자동으로 빌드 및 테스트를 실행하는 CI 파이프라인 구성</li><li>단위 테스트, 통합 테스트, 성능 테스트 등 다양한 테스트 자동화</li></ul></li><li>짧은 수명의 기능 브랜치 사용:<ul><li>기능 브랜치에서 작업 후 빠르게 trunk로 병합 (보통 1-2일 이내)</li><li>각 기능 브랜치에 대해 자동화된 테스트 실행</li></ul></li><li>트렁크 브랜치 보호:<ul><li>트렁크 브랜치에 직접 푸시 금지</li><li>모든 변경사항은 코드 리뷰와 자동화된 테스트를 거친 후 병합</li></ul></li><li>지속적 배포(CD) 구현:<ul><li>트렁크 브랜치에 병합된 코드를 자동으로 스테이징 환경에 배포</li><li>스테이징 환경에서 추가 테스트 후 문제가 없으면 프로덕션 환경으로 자동 배포</li></ul></li><li>기능 플래그 사용:<ul><li>미완성 기능을 트렁크에 안전하게 병합할 수 있도록 기능 플래그 구현</li><li>CI/CD 파이프라인에서 기능 플래그 상태를 제어</li></ul></li><li>모니터링 및 롤백 메커니즘:<ul><li>배포 후 실시간 모니터링 시스템 구축</li><li>문제 발생 시 빠른 롤백이 가능한 시스템 구현</li></ul></li><li>릴리스 관리 자동화:<ul><li>버전 관리 및 릴리스 노트 생성 자동화</li><li>릴리스 프로세스를 CI/CD 파이프라인에 통합</li></ul></li><li>코드 품질 검사 통합:<ul><li>정적 코드 분석 도구를 CI/CD 파이프라인에 통합</li><li>코드 커버리지, 복잡도 등의 메트릭을 지속적으로 모니터링</li></ul></li><li>환경 구성 관리:<ul><li>인프라스트럭처 as 코드(IaC) 도구를 사용하여 환경 구성 자동화</li><li>개발, 스테이징, 프로덕션 환경의 일관성 유지</li></ul></li></ol><h4 id=버전-관리-방식>버전 관리 방식<a hidden class=anchor aria-hidden=true href=#버전-관리-방식>#</a></h4><ul><li>지속적 배포로 인해 세밀한 버전 관리가 필요</li><li>Semantic Versioning 사용 권장</li><li>자동화된 버전 증가 시스템 구축</li></ul><hr><hr><hr></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/devops-and-infrastructure/>DevOps-and-Infrastructure</a></li><li><a href=https://buenhyden.github.io/tags/version-control-systems/>Version-Control-Systems</a></li><li><a href=https://buenhyden.github.io/tags/git-workflow/>Git-Workflow</a></li><li><a href=https://buenhyden.github.io/tags/branch-strategies/>Branch-Strategies</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/programming-languages/foundations/language-theory/compilation-and-interpretation/interpreter-vs-compiler-vs-assembler/compiler/native-compiler-vs-cross-compiler/><span class=title>« Prev</span><br><span>Native Compiler vs Cross Compiler</span>
</a><a class=next href=https://buenhyden.github.io/posts/software-development--engineering/development-practices/version-control/git-fundamentals/snapshot-vs-delta/><span class=title>Next »</span><br><span>Snapshot vs. Delta</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><script type=module>
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
  </script><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>