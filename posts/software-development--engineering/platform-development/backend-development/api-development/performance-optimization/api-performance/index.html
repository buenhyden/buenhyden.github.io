<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>API Performance | hyunyoun's Blog</title><meta name=keywords content="Backend-Development,API-Design-and-Implementation"><meta name=description content="API 성능은 백엔드 시스템 설계에서 핵심적인 요소로, 최종 사용자 경험과 시스템 효율성에 직접적인 영향을 미친다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/software-development--engineering/platform-development/backend-development/api-development/performance-optimization/api-performance/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/software-development--engineering/platform-development/backend-development/api-development/performance-optimization/api-performance/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/software-development--engineering/platform-development/backend-development/api-development/performance-optimization/api-performance/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="API Performance"><meta property="og:description" content="API 성능은 백엔드 시스템 설계에서 핵심적인 요소로, 최종 사용자 경험과 시스템 효율성에 직접적인 영향을 미친다."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-02-26T06:08:00+00:00"><meta property="article:modified_time" content="2025-02-26T06:08:00+00:00"><meta property="article:tag" content="Backend-Development"><meta property="article:tag" content="API-Design-and-Implementation"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="API Performance"><meta name=twitter:description content="API 성능은 백엔드 시스템 설계에서 핵심적인 요소로, 최종 사용자 경험과 시스템 효율성에 직접적인 영향을 미친다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"HY's Blog","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":6,"name":"API Performance","item":"https://buenhyden.github.io/posts/software-development--engineering/platform-development/backend-development/api-development/performance-optimization/api-performance/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"API Performance","name":"API Performance","description":"API 성능은 백엔드 시스템 설계에서 핵심적인 요소로, 최종 사용자 경험과 시스템 효율성에 직접적인 영향을 미친다.","keywords":["Backend-Development","API-Design-and-Implementation"],"articleBody":"API Performance API 성능은 백엔드 시스템 설계에서 핵심적인 요소로, 최종 사용자 경험과 시스템 효율성에 직접적인 영향을 미친다.\nAPI 성능의 정의와 중요성 API 성능이란 API가 요청을 처리하고 응답을 전달하는 속도와 효율성을 의미한다. 이는 단순히 빠른 응답 시간만을 의미하는 것이 아니라, 시스템 리소스의 효율적 사용, 확장성, 그리고 안정성까지 포함하는 개념이다.\nAPI 성능이 중요한 이유는 다음과 같다:\n사용자 경험 향상: 빠른 API 응답은 최종 사용자에게 더 나은 경험을 제공한다. 시스템 처리량 증가: 효율적인 API는 동일한 리소스로 더 많은 요청을 처리할 수 있다. 비용 효율성: 최적화된 API는 인프라 비용을 절감할 수 있다. 확장성 지원: 성능이 좋은 API는 트래픽 증가에 더 잘 대응할 수 있다. 데이터 통합 개선: 시스템 간 효율적인 데이터 교환을 가능하게 한다. API 성능 측정 지표 API 성능을 올바르게 최적화하기 위해서는 먼저 측정해야 한다.\n주요 측정 지표는 다음과 같다:\n응답 시간(Response Time) API 요청을 보낸 시점부터 응답을 받을 때까지의 시간을 측정한다.\n일반적으로 밀리초(ms) 단위로 표시된다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 # 응답 시간 측정 예제 import time import requests def measure_response_time(url): start_time = time.time() response = requests.get(url) end_time = time.time() response_time = (end_time - start_time) * 1000 # ms로 변환 return response_time # 사용 예 url = \"https://api.example.com/data\" response_time = measure_response_time(url) print(f\"API 응답 시간: {response_time:.2f}ms\") 처리량(Throughput) 단위 시간당 API가 처리할 수 있는 요청 수를 의미한다.\n일반적으로 RPS(Requests Per Second)로 표현된다.\n오류율(Error Rate) 전체 API 요청 중 오류가 발생한 비율을 측정한다.\n리소스 사용량(Resource Utilization) API 실행 중 사용된 CPU, 메모리, 디스크 I/O, 네트워크 대역폭 등의 리소스 사용량을 측정한다.\n지연 분포(Latency Distribution) API 응답 시간의 분포를 측정하여 p50(중앙값), p90, p95, p99 등의 백분위수로 표현한다.\nAPI 성능 최적화 전략 캐싱 전략 구현 캐싱은 API 성능을 개선하는 가장 효과적인 방법 중 하나.\n응답 캐싱 자주 요청되는 데이터를 캐시에 저장하여 데이터베이스 조회를 줄인다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 // Node.js에서 Redis를 사용한 API 응답 캐싱 예제 const express = require('express'); const redis = require('redis'); const { promisify } = require('util'); const app = express(); const client = redis.createClient(); const getAsync = promisify(client.get).bind(client); const setAsync = promisify(client.set).bind(client); app.get('/api/users/:id', async (req, res) =\u003e { const userId = req.params.id; const cacheKey = `user:${userId}`; // 캐시 확인 const cachedData = await getAsync(cacheKey); if (cachedData) { return res.json(JSON.parse(cachedData)); } // 캐시에 없는 경우 데이터베이스에서 조회 try { const userData = await getUserFromDatabase(userId); // 데이터를 캐시에 저장 (TTL: 1시간) await setAsync(cacheKey, JSON.stringify(userData), 'EX', 3600); return res.json(userData); } catch (error) { return res.status(500).json({ error: '서버 오류' }); } }); // 데이터베이스에서 사용자 정보 조회 함수 async function getUserFromDatabase(userId) { // 데이터베이스 조회 로직 // ... } CDN 활용 정적 리소스를 CDN(Content Delivery Network)을 통해 제공하여 지연 시간을 줄인다.\n캐시 무효화 전략 데이터가 변경되었을 때 캐시를 효율적으로 갱신하는 전략을 구현한다.\n데이터베이스 최적화 인덱스 활용 적절한 인덱스를 설정하여 쿼리 성능을 향상시킨다.\n1 2 -- 사용자 테이블에 이메일 조회를 위한 인덱스 추가 CREATE INDEX idx_users_email ON users(email); 쿼리 최적화 불필요한 조인과 복잡한 쿼리를 단순화하여 실행 시간을 줄인다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 -- 최적화 전 SELECT u.*, p.*, a.* FROM users u JOIN profiles p ON u.id = p.user_id JOIN addresses a ON u.id = a.user_id WHERE u.email = 'example@email.com'; -- 최적화 후 SELECT u.id, u.name, u.email, p.bio, a.city, a.country FROM users u JOIN profiles p ON u.id = p.user_id JOIN addresses a ON u.id = a.user_id WHERE u.email = 'example@email.com'; 커넥션 풀링 데이터베이스 연결을 재사용하여 오버헤드를 줄인다.\n비동기 처리 구현 시간이 오래 걸리는 작업은 비동기적으로 처리하여 API 응답 시간을 개선한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 # FastAPI를 사용한 비동기 API 처리 예제 from fastapi import FastAPI, BackgroundTasks from pydantic import BaseModel app = FastAPI() class EmailNotification(BaseModel): email: str message: str def send_email_task(email: str, message: str): # 이메일 전송 로직 (시간이 오래 걸릴 수 있음) # ... print(f\"이메일 전송됨: {email}, 메시지: {message}\") @app.post(\"/api/notifications\") async def create_notification(notification: EmailNotification, background_tasks: BackgroundTasks): # 백그라운드에서 이메일 전송 작업 실행 background_tasks.add_task(send_email_task, notification.email, notification.message) # 즉시 응답 반환 return {\"status\": \"notification_queued\"} 데이터 직렬화 및 압축 경량화된 직렬화 형식 사용 JSON 대신 MessagePack, Protocol Buffers 등의 효율적인 형식을 고려한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 // MessagePack을 사용한 데이터 직렬화 예제 (Node.js) const msgpack = require('msgpack5')(); const encode = msgpack.encode; const decode = msgpack.decode; app.get('/api/data', (req, res) =\u003e { const data = { id: 12345, name: \"Example\", items: [1, 2, 3, 4, 5] // 대용량 데이터 }; // MessagePack으로 인코딩 const encoded = encode(data); // 적절한 Content-Type 설정 res.setHeader('Content-Type', 'application/x-msgpack'); res.send(encoded); }); 응답 압축 gzip, deflate 등의 압축 알고리즘을 사용하여 전송 데이터를 줄인다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 // Express.js에서 응답 압축 적용 const express = require('express'); const compression = require('compression'); const app = express(); // 응답 압축 미들웨어 적용 app.use(compression()); app.get('/api/large-data', (req, res) =\u003e { // 대용량 데이터 응답 const largeData = generateLargeData(); res.json(largeData); }); HTTP/2 및 HTTP/3 활용 최신 HTTP 프로토콜을 사용하여 네트워크 성능을 개선한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 // Node.js에서 HTTP/2 서버 구현 예제 const http2 = require('http2'); const fs = require('fs'); const server = http2.createSecureServer({ key: fs.readFileSync('server.key'), cert: fs.readFileSync('server.crt') }); server.on('stream', (stream, headers) =\u003e { const path = headers[':path']; if (path === '/api/data') { const data = JSON.stringify({ result: 'success', message: 'HTTP/2 API 응답' }); stream.respond({ 'content-type': 'application/json', ':status': 200 }); stream.end(data); } }); server.listen(3000); 로드 밸런싱 및 수평적 확장 수평적 확장 여러 서버에 API 인스턴스를 분산하여 부하를 분산시킨다.\n로드 밸런싱 알고리즘 라운드 로빈, 최소 연결, 가중치 기반 등 다양한 알고리즘을 적용하여 트래픽을 효율적으로 분배한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 # Nginx를 사용한 로드 밸런싱 설정 예제 http { upstream api_servers { least_conn; # 최소 연결 알고리즘 server api1.example.com:3000; server api2.example.com:3000; server api3.example.com:3000 weight=2; # 가중치 부여 } server { listen 80; server_name api.example.com; location /api/ { proxy_pass http://api_servers; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; } } } 리소스 효율적인 코드 작성 메모리 관리 메모리 누수를 방지하고 효율적인 메모리 사용을 위한 코드를 작성한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 // Node.js에서 메모리 사용량 모니터링 예제 const os = require('os'); function monitorMemoryUsage() { const totalMemory = os.totalmem(); const freeMemory = os.freemem(); const usedMemory = totalMemory - freeMemory; console.log(`총 메모리: ${Math.round(totalMemory / (1024 * 1024))} MB`); console.log(`사용 중인 메모리: ${Math.round(usedMemory / (1024 * 1024))} MB`); console.log(`사용률: ${Math.round((usedMemory / totalMemory) * 100)}%`); } // 5분마다 메모리 사용량 확인 setInterval(monitorMemoryUsage, 5 * 60 * 1000); 알고리즘 최적화 시간 복잡도와 공간 복잡도를 고려하여 효율적인 알고리즘을 선택한다.\nGraphQL 활용 REST API에서 발생할 수 있는 오버페칭과 언더페칭 문제를 해결하기 위해 GraphQL을 고려한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 // Apollo Server를 사용한 GraphQL API 예제 const { ApolloServer, gql } = require('apollo-server'); // GraphQL 스키마 정의 const typeDefs = gql` type User { id: ID! name: String! email: String! posts: [Post!] } type Post { id: ID! title: String! content: String! author: User! } type Query { user(id: ID!): User posts: [Post!]! } `; // 리졸버 함수 구현 const resolvers = { Query: { user: (_, { id }) =\u003e getUserById(id), posts: () =\u003e getAllPosts(), }, User: { posts: (parent) =\u003e getPostsByUserId(parent.id), }, Post: { author: (parent) =\u003e getUserById(parent.authorId), }, }; // Apollo Server 인스턴스 생성 const server = new ApolloServer({ typeDefs, resolvers }); // 서버 시작 server.listen().then(({ url }) =\u003e { console.log(`GraphQL API 실행 중: ${url}`); }); 마이크로서비스 아키텍처 도입 대규모 API를 더 작고 독립적인 서비스로 분할하여 각 서비스의 성능과 확장성을 개선한다.\nAPI 게이트웨이 활용 API 게이트웨이를 통해 요청 라우팅, 캐싱, 속도 제한, 보안 등을 중앙에서 관리한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 # Kong API 게이트웨이 설정 예제 services: - name: user-service url: http://user-service:3000 routes: - name: user-routes paths: - /api/users plugins: - name: rate-limiting config: minute: 100 - name: cors - name: http-cache config: response_code: 200 cache_ttl: 300 API 성능 모니터링 및 개선 프로세스 성능 모니터링 구현 APM(Application Performance Monitoring) 도구 사용 New Relic, Datadog, Dynatrace 등의 도구를 활용하여 실시간으로 API 성능을 모니터링한다.\n커스텀 로깅 및 측정 중요한 메트릭을 자체적으로 측정하고 기록한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 # Python FastAPI에서 미들웨어를 사용한 API 응답 시간 로깅 from fastapi import FastAPI, Request import time import logging app = FastAPI() logger = logging.getLogger(\"api_performance\") @app.middleware(\"http\") async def log_request_time(request: Request, call_next): start_time = time.time() response = await call_next(request) process_time = (time.time() - start_time) * 1000 logger.info(f\"Path: {request.url.path}, Method: {request.method}, Time: {process_time:.2f}ms\") # 응답 헤더에 처리 시간 추가 response.headers[\"X-Process-Time\"] = str(process_time) return response 성능 벤치마킹 정기적인 벤치마킹을 통해 API의 성능 추이를 관찰하고 개선점을 파악한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 // k6를 사용한 API 벤치마킹 스크립트 예제 import http from 'k6/http'; import { check, sleep } from 'k6'; export const options = { stages: [ { duration: '30s', target: 20 }, // 30초 동안 20명의 가상 사용자로 증가 { duration: '1m', target: 20 }, // 1분 동안 20명 유지 { duration: '30s', target: 0 }, // 30초 동안 0명으로 감소 ], thresholds: { http_req_duration: ['p(95)\u003c500'], // 95%의 요청이 500ms 미만이어야 함 http_req_failed: ['rate\u003c0.01'], // 실패율이 1% 미만이어야 함 }, }; export default function() { const res = http.get('https://api.example.com/data'); check(res, { 'status is 200': (r) =\u003e r.status === 200, 'response time \u003c 200ms': (r) =\u003e r.timings.duration \u003c 200, }); sleep(1); } 성능 병목 식별 및 해결 프로파일링 코드 레벨의 성능 병목을 식별하기 위해 프로파일링 도구를 사용한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 # Python에서 cProfile을 사용한 코드 프로파일링 예제 import cProfile import pstats from io import StringIO def profile_func(func): def wrapper(*args, **kwargs): profiler = cProfile.Profile() profiler.enable() result = func(*args, **kwargs) profiler.disable() s = StringIO() ps = pstats.Stats(profiler, stream=s).sort_stats('cumulative') ps.print_stats(20) # 상위 20개 결과만 출력 print(s.getvalue()) return result return wrapper @profile_func def api_heavy_function(data): # 시간이 많이 소요되는 API 로직 # ... return processed_data 병목 해결 전략 식별된 병목에 따라 적절한 최적화 전략을 적용한다.\nAPI 성능 최적화 사례 연구 사례 1: 대규모 전자상거래 API 최적화 한 대형 전자상거래 플랫폼은 다음과 같은 방법으로 API 성능을 개선했다:\nRedis를 활용한 상품 정보 캐싱으로 데이터베이스 부하 감소 인기 상품 목록을 사전 계산하여 저장 ElasticSearch를 활용한 검색 성능 개선 CDN을 통한 상품 이미지 제공 마이크로서비스 아키텍처로 전환하여 서비스별 독립적 확장 가능성 확보 결과: 응답 시간 75% 감소, 서버 비용 40% 절감\n사례 2: 소셜 미디어 플랫폼 API 성능 개선 GraphQL 도입으로 오버페칭 문제 해결 실시간 피드 생성을 위한 이벤트 기반 아키텍처 구현 사용자별 콘텐츠 접근 패턴에 기반한 캐싱 전략 구현 이미지 처리를 위한 전용 서비스 구축 결과: 피크 시간대 API 처리량 300% 증가, 사용자 경험 개선\nAPI 성능 최적화를 위한 체크리스트 캐싱 전략 검토: 적절한 캐싱 메커니즘이 구현되어 있는가? 데이터베이스 최적화: 인덱스, 쿼리 최적화, 커넥션 풀링이 적용되어 있는가? 응답 최적화: 응답 크기 최소화, 압축, 페이지네이션이 구현되어 있는가? 비동기 처리: 시간이 오래 걸리는 작업이 비동기적으로 처리되는가? 모니터링 시스템: 실시간 성능 모니터링 및 알림 시스템이 구축되어 있는가? 확장성 계획: 트래픽 증가에 대응할 수 있는 확장 계획이 있는가? 로드 테스트: 예상 부하 조건에서 API가 테스트되었는가? 에러 처리: 효율적인 에러 처리 및 복구 메커니즘이 구현되어 있는가? 보안과 성능의 균형: 보안 조치가 성능에 미치는 영향이 최소화되었는가? 최신 기술 적용: HTTP/2, HTTP/3 등 최신 기술이 적용되었는가? 용어 정리 용어 설명 참고 및 출처 ","wordCount":"1984","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2025-02-26T06:08:00Z","dateModified":"2025-02-26T06:08:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/software-development--engineering/platform-development/backend-development/api-development/performance-optimization/api-performance/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>HY's Blog</a></div><h1 class="post-title entry-hint-parent">API Performance</h1><div class=post-description>API 성능은 백엔드 시스템 설계에서 핵심적인 요소로, 최종 사용자 경험과 시스템 효율성에 직접적인 영향을 미친다.</div><div class=post-meta><span title='2025-02-26 06:08:00 +0000 UTC'>February 26, 2025</span>&nbsp;·&nbsp;10 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Software%20Development%20&%20Engineering/Platform%20Development/Backend%20Development/API%20Development/Performance%20Optimization/API-Performance.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#api-performance>API Performance</a><ul><li><a href=#api-성능의-정의와-중요성>API 성능의 정의와 중요성</a></li><li><a href=#api-성능-측정-지표>API 성능 측정 지표</a></li><li><a href=#api-성능-최적화-전략>API 성능 최적화 전략</a></li><li><a href=#api-성능-모니터링-및-개선-프로세스>API 성능 모니터링 및 개선 프로세스</a></li><li><a href=#api-성능-최적화-사례-연구>API 성능 최적화 사례 연구</a></li><li><a href=#api-성능-최적화를-위한-체크리스트>API 성능 최적화를 위한 체크리스트</a></li></ul></li><li><a href=#용어-정리>용어 정리</a></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=api-performance>API Performance<a hidden class=anchor aria-hidden=true href=#api-performance>#</a></h2><p>API 성능은 백엔드 시스템 설계에서 핵심적인 요소로, 최종 사용자 경험과 시스템 효율성에 직접적인 영향을 미친다.</p><h3 id=api-성능의-정의와-중요성>API 성능의 정의와 중요성<a hidden class=anchor aria-hidden=true href=#api-성능의-정의와-중요성>#</a></h3><p>API 성능이란 API가 요청을 처리하고 응답을 전달하는 속도와 효율성을 의미한다. 이는 단순히 빠른 응답 시간만을 의미하는 것이 아니라, 시스템 리소스의 효율적 사용, 확장성, 그리고 안정성까지 포함하는 개념이다.</p><p>API 성능이 중요한 이유는 다음과 같다:</p><ol><li><strong>사용자 경험 향상</strong>: 빠른 API 응답은 최종 사용자에게 더 나은 경험을 제공한다.</li><li><strong>시스템 처리량 증가</strong>: 효율적인 API는 동일한 리소스로 더 많은 요청을 처리할 수 있다.</li><li><strong>비용 효율성</strong>: 최적화된 API는 인프라 비용을 절감할 수 있다.</li><li><strong>확장성 지원</strong>: 성능이 좋은 API는 트래픽 증가에 더 잘 대응할 수 있다.</li><li><strong>데이터 통합 개선</strong>: 시스템 간 효율적인 데이터 교환을 가능하게 한다.</li></ol><h3 id=api-성능-측정-지표>API 성능 측정 지표<a hidden class=anchor aria-hidden=true href=#api-성능-측정-지표>#</a></h3><p>API 성능을 올바르게 최적화하기 위해서는 먼저 측정해야 한다.</p><p>주요 측정 지표는 다음과 같다:</p><h4 id=응답-시간response-time>응답 시간(Response Time)<a hidden class=anchor aria-hidden=true href=#응답-시간response-time>#</a></h4><p>API 요청을 보낸 시점부터 응답을 받을 때까지의 시간을 측정한다.</p><p>일반적으로 밀리초(ms) 단위로 표시된다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14>14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15>15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 응답 시간 측정 예제</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>measure_response_time</span><span class=p>(</span><span class=n>url</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>url</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>end_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>response_time</span> <span class=o>=</span> <span class=p>(</span><span class=n>end_time</span> <span class=o>-</span> <span class=n>start_time</span><span class=p>)</span> <span class=o>*</span> <span class=mi>1000</span>  <span class=c1># ms로 변환</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>response_time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용 예</span>
</span></span><span class=line><span class=cl><span class=n>url</span> <span class=o>=</span> <span class=s2>&#34;https://api.example.com/data&#34;</span>
</span></span><span class=line><span class=cl><span class=n>response_time</span> <span class=o>=</span> <span class=n>measure_response_time</span><span class=p>(</span><span class=n>url</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;API 응답 시간: </span><span class=si>{</span><span class=n>response_time</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>ms&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=처리량throughput>처리량(Throughput)<a hidden class=anchor aria-hidden=true href=#처리량throughput>#</a></h4><p>단위 시간당 API가 처리할 수 있는 요청 수를 의미한다.<br>일반적으로 RPS(Requests Per Second)로 표현된다.</p><h4 id=오류율error-rate>오류율(Error Rate)<a hidden class=anchor aria-hidden=true href=#오류율error-rate>#</a></h4><p>전체 API 요청 중 오류가 발생한 비율을 측정한다.</p><h4 id=리소스-사용량resource-utilization>리소스 사용량(Resource Utilization)<a hidden class=anchor aria-hidden=true href=#리소스-사용량resource-utilization>#</a></h4><p>API 실행 중 사용된 CPU, 메모리, 디스크 I/O, 네트워크 대역폭 등의 리소스 사용량을 측정한다.</p><h4 id=지연-분포latency-distribution>지연 분포(Latency Distribution)<a hidden class=anchor aria-hidden=true href=#지연-분포latency-distribution>#</a></h4><p>API 응답 시간의 분포를 측정하여 p50(중앙값), p90, p95, p99 등의 백분위수로 표현한다.</p><h3 id=api-성능-최적화-전략>API 성능 최적화 전략<a hidden class=anchor aria-hidden=true href=#api-성능-최적화-전략>#</a></h3><h4 id=캐싱-전략-구현>캐싱 전략 구현<a hidden class=anchor aria-hidden=true href=#캐싱-전략-구현>#</a></h4><p>캐싱은 API 성능을 개선하는 가장 효과적인 방법 중 하나.</p><h5 id=응답-캐싱>응답 캐싱<a hidden class=anchor aria-hidden=true href=#응답-캐싱>#</a></h5><p>자주 요청되는 데이터를 캐시에 저장하여 데이터베이스 조회를 줄인다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11>11</a>
</span><span class=lnt id=hl-1-12><a class=lnlinks href=#hl-1-12>12</a>
</span><span class=lnt id=hl-1-13><a class=lnlinks href=#hl-1-13>13</a>
</span><span class=lnt id=hl-1-14><a class=lnlinks href=#hl-1-14>14</a>
</span><span class=lnt id=hl-1-15><a class=lnlinks href=#hl-1-15>15</a>
</span><span class=lnt id=hl-1-16><a class=lnlinks href=#hl-1-16>16</a>
</span><span class=lnt id=hl-1-17><a class=lnlinks href=#hl-1-17>17</a>
</span><span class=lnt id=hl-1-18><a class=lnlinks href=#hl-1-18>18</a>
</span><span class=lnt id=hl-1-19><a class=lnlinks href=#hl-1-19>19</a>
</span><span class=lnt id=hl-1-20><a class=lnlinks href=#hl-1-20>20</a>
</span><span class=lnt id=hl-1-21><a class=lnlinks href=#hl-1-21>21</a>
</span><span class=lnt id=hl-1-22><a class=lnlinks href=#hl-1-22>22</a>
</span><span class=lnt id=hl-1-23><a class=lnlinks href=#hl-1-23>23</a>
</span><span class=lnt id=hl-1-24><a class=lnlinks href=#hl-1-24>24</a>
</span><span class=lnt id=hl-1-25><a class=lnlinks href=#hl-1-25>25</a>
</span><span class=lnt id=hl-1-26><a class=lnlinks href=#hl-1-26>26</a>
</span><span class=lnt id=hl-1-27><a class=lnlinks href=#hl-1-27>27</a>
</span><span class=lnt id=hl-1-28><a class=lnlinks href=#hl-1-28>28</a>
</span><span class=lnt id=hl-1-29><a class=lnlinks href=#hl-1-29>29</a>
</span><span class=lnt id=hl-1-30><a class=lnlinks href=#hl-1-30>30</a>
</span><span class=lnt id=hl-1-31><a class=lnlinks href=#hl-1-31>31</a>
</span><span class=lnt id=hl-1-32><a class=lnlinks href=#hl-1-32>32</a>
</span><span class=lnt id=hl-1-33><a class=lnlinks href=#hl-1-33>33</a>
</span><span class=lnt id=hl-1-34><a class=lnlinks href=#hl-1-34>34</a>
</span><span class=lnt id=hl-1-35><a class=lnlinks href=#hl-1-35>35</a>
</span><span class=lnt id=hl-1-36><a class=lnlinks href=#hl-1-36>36</a>
</span><span class=lnt id=hl-1-37><a class=lnlinks href=#hl-1-37>37</a>
</span><span class=lnt id=hl-1-38><a class=lnlinks href=#hl-1-38>38</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Node.js에서 Redis를 사용한 API 응답 캐싱 예제
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>express</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;express&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>redis</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;redis&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=p>{</span> <span class=nx>promisify</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;util&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=nx>express</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>client</span> <span class=o>=</span> <span class=nx>redis</span><span class=p>.</span><span class=nx>createClient</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>getAsync</span> <span class=o>=</span> <span class=nx>promisify</span><span class=p>(</span><span class=nx>client</span><span class=p>.</span><span class=nx>get</span><span class=p>).</span><span class=nx>bind</span><span class=p>(</span><span class=nx>client</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>setAsync</span> <span class=o>=</span> <span class=nx>promisify</span><span class=p>(</span><span class=nx>client</span><span class=p>.</span><span class=nx>set</span><span class=p>).</span><span class=nx>bind</span><span class=p>(</span><span class=nx>client</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/api/users/:id&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>userId</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>params</span><span class=p>.</span><span class=nx>id</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>cacheKey</span> <span class=o>=</span> <span class=sb>`user:</span><span class=si>${</span><span class=nx>userId</span><span class=si>}</span><span class=sb>`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 캐시 확인
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>cachedData</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>getAsync</span><span class=p>(</span><span class=nx>cacheKey</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>cachedData</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>(</span><span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>cachedData</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 캐시에 없는 경우 데이터베이스에서 조회
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>userData</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>getUserFromDatabase</span><span class=p>(</span><span class=nx>userId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 데이터를 캐시에 저장 (TTL: 1시간)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>await</span> <span class=nx>setAsync</span><span class=p>(</span><span class=nx>cacheKey</span><span class=p>,</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>userData</span><span class=p>),</span> <span class=s1>&#39;EX&#39;</span><span class=p>,</span> <span class=mi>3600</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>(</span><span class=nx>userData</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>json</span><span class=p>({</span> <span class=nx>error</span><span class=o>:</span> <span class=s1>&#39;서버 오류&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 데이터베이스에서 사용자 정보 조회 함수
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>async</span> <span class=kd>function</span> <span class=nx>getUserFromDatabase</span><span class=p>(</span><span class=nx>userId</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 데이터베이스 조회 로직
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=cdn-활용>CDN 활용<a hidden class=anchor aria-hidden=true href=#cdn-활용>#</a></h5><p>정적 리소스를 CDN(Content Delivery Network)을 통해 제공하여 지연 시간을 줄인다.</p><h5 id=캐시-무효화-전략>캐시 무효화 전략<a hidden class=anchor aria-hidden=true href=#캐시-무효화-전략>#</a></h5><p>데이터가 변경되었을 때 캐시를 효율적으로 갱신하는 전략을 구현한다.</p><h4 id=데이터베이스-최적화>데이터베이스 최적화<a hidden class=anchor aria-hidden=true href=#데이터베이스-최적화>#</a></h4><h5 id=인덱스-활용>인덱스 활용<a hidden class=anchor aria-hidden=true href=#인덱스-활용>#</a></h5><p>적절한 인덱스를 설정하여 쿼리 성능을 향상시킨다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 사용자 테이블에 이메일 조회를 위한 인덱스 추가
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_users_email</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>users</span><span class=p>(</span><span class=n>email</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=쿼리-최적화>쿼리 최적화<a hidden class=anchor aria-hidden=true href=#쿼리-최적화>#</a></h5><p>불필요한 조인과 복잡한 쿼리를 단순화하여 실행 시간을 줄인다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span><span class=lnt id=hl-3-12><a class=lnlinks href=#hl-3-12>12</a>
</span><span class=lnt id=hl-3-13><a class=lnlinks href=#hl-3-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 최적화 전
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>u</span><span class=p>.</span><span class=o>*</span><span class=p>,</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=o>*</span><span class=p>,</span><span class=w> </span><span class=n>a</span><span class=p>.</span><span class=o>*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>users</span><span class=w> </span><span class=n>u</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>JOIN</span><span class=w> </span><span class=n>profiles</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>u</span><span class=p>.</span><span class=n>id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>user_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>JOIN</span><span class=w> </span><span class=n>addresses</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>u</span><span class=p>.</span><span class=n>id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>a</span><span class=p>.</span><span class=n>user_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>u</span><span class=p>.</span><span class=n>email</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;example@email.com&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 최적화 후
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>u</span><span class=p>.</span><span class=n>id</span><span class=p>,</span><span class=w> </span><span class=n>u</span><span class=p>.</span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>u</span><span class=p>.</span><span class=n>email</span><span class=p>,</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>bio</span><span class=p>,</span><span class=w> </span><span class=n>a</span><span class=p>.</span><span class=n>city</span><span class=p>,</span><span class=w> </span><span class=n>a</span><span class=p>.</span><span class=n>country</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>users</span><span class=w> </span><span class=n>u</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>JOIN</span><span class=w> </span><span class=n>profiles</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>u</span><span class=p>.</span><span class=n>id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>user_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>JOIN</span><span class=w> </span><span class=n>addresses</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>u</span><span class=p>.</span><span class=n>id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>a</span><span class=p>.</span><span class=n>user_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>u</span><span class=p>.</span><span class=n>email</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;example@email.com&#39;</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=커넥션-풀링>커넥션 풀링<a hidden class=anchor aria-hidden=true href=#커넥션-풀링>#</a></h5><p>데이터베이스 연결을 재사용하여 오버헤드를 줄인다.</p><h4 id=비동기-처리-구현>비동기 처리 구현<a hidden class=anchor aria-hidden=true href=#비동기-처리-구현>#</a></h4><p>시간이 오래 걸리는 작업은 비동기적으로 처리하여 API 응답 시간을 개선한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1> 1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2> 2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3> 3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4> 4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5> 5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6> 6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7> 7</a>
</span><span class=lnt id=hl-4-8><a class=lnlinks href=#hl-4-8> 8</a>
</span><span class=lnt id=hl-4-9><a class=lnlinks href=#hl-4-9> 9</a>
</span><span class=lnt id=hl-4-10><a class=lnlinks href=#hl-4-10>10</a>
</span><span class=lnt id=hl-4-11><a class=lnlinks href=#hl-4-11>11</a>
</span><span class=lnt id=hl-4-12><a class=lnlinks href=#hl-4-12>12</a>
</span><span class=lnt id=hl-4-13><a class=lnlinks href=#hl-4-13>13</a>
</span><span class=lnt id=hl-4-14><a class=lnlinks href=#hl-4-14>14</a>
</span><span class=lnt id=hl-4-15><a class=lnlinks href=#hl-4-15>15</a>
</span><span class=lnt id=hl-4-16><a class=lnlinks href=#hl-4-16>16</a>
</span><span class=lnt id=hl-4-17><a class=lnlinks href=#hl-4-17>17</a>
</span><span class=lnt id=hl-4-18><a class=lnlinks href=#hl-4-18>18</a>
</span><span class=lnt id=hl-4-19><a class=lnlinks href=#hl-4-19>19</a>
</span><span class=lnt id=hl-4-20><a class=lnlinks href=#hl-4-20>20</a>
</span><span class=lnt id=hl-4-21><a class=lnlinks href=#hl-4-21>21</a>
</span><span class=lnt id=hl-4-22><a class=lnlinks href=#hl-4-22>22</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># FastAPI를 사용한 비동기 API 처리 예제</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>fastapi</span> <span class=kn>import</span> <span class=n>FastAPI</span><span class=p>,</span> <span class=n>BackgroundTasks</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pydantic</span> <span class=kn>import</span> <span class=n>BaseModel</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>FastAPI</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>EmailNotification</span><span class=p>(</span><span class=n>BaseModel</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>email</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>message</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>send_email_task</span><span class=p>(</span><span class=n>email</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>message</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># 이메일 전송 로직 (시간이 오래 걸릴 수 있음)</span>
</span></span><span class=line><span class=cl>    <span class=c1># ...</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;이메일 전송됨: </span><span class=si>{</span><span class=n>email</span><span class=si>}</span><span class=s2>, 메시지: </span><span class=si>{</span><span class=n>message</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.post</span><span class=p>(</span><span class=s2>&#34;/api/notifications&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>create_notification</span><span class=p>(</span><span class=n>notification</span><span class=p>:</span> <span class=n>EmailNotification</span><span class=p>,</span> <span class=n>background_tasks</span><span class=p>:</span> <span class=n>BackgroundTasks</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># 백그라운드에서 이메일 전송 작업 실행</span>
</span></span><span class=line><span class=cl>    <span class=n>background_tasks</span><span class=o>.</span><span class=n>add_task</span><span class=p>(</span><span class=n>send_email_task</span><span class=p>,</span> <span class=n>notification</span><span class=o>.</span><span class=n>email</span><span class=p>,</span> <span class=n>notification</span><span class=o>.</span><span class=n>message</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 즉시 응답 반환</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;notification_queued&#34;</span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=데이터-직렬화-및-압축>데이터 직렬화 및 압축<a hidden class=anchor aria-hidden=true href=#데이터-직렬화-및-압축>#</a></h4><h5 id=경량화된-직렬화-형식-사용>경량화된 직렬화 형식 사용<a hidden class=anchor aria-hidden=true href=#경량화된-직렬화-형식-사용>#</a></h5><p>JSON 대신 MessagePack, Protocol Buffers 등의 효율적인 형식을 고려한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1> 1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2> 2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3> 3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4> 4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5> 5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6> 6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7> 7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8> 8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9> 9</a>
</span><span class=lnt id=hl-5-10><a class=lnlinks href=#hl-5-10>10</a>
</span><span class=lnt id=hl-5-11><a class=lnlinks href=#hl-5-11>11</a>
</span><span class=lnt id=hl-5-12><a class=lnlinks href=#hl-5-12>12</a>
</span><span class=lnt id=hl-5-13><a class=lnlinks href=#hl-5-13>13</a>
</span><span class=lnt id=hl-5-14><a class=lnlinks href=#hl-5-14>14</a>
</span><span class=lnt id=hl-5-15><a class=lnlinks href=#hl-5-15>15</a>
</span><span class=lnt id=hl-5-16><a class=lnlinks href=#hl-5-16>16</a>
</span><span class=lnt id=hl-5-17><a class=lnlinks href=#hl-5-17>17</a>
</span><span class=lnt id=hl-5-18><a class=lnlinks href=#hl-5-18>18</a>
</span><span class=lnt id=hl-5-19><a class=lnlinks href=#hl-5-19>19</a>
</span><span class=lnt id=hl-5-20><a class=lnlinks href=#hl-5-20>20</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// MessagePack을 사용한 데이터 직렬화 예제 (Node.js)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>msgpack</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;msgpack5&#39;</span><span class=p>)();</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>encode</span> <span class=o>=</span> <span class=nx>msgpack</span><span class=p>.</span><span class=nx>encode</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>decode</span> <span class=o>=</span> <span class=nx>msgpack</span><span class=p>.</span><span class=nx>decode</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/api/data&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>data</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>id</span><span class=o>:</span> <span class=mi>12345</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Example&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>items</span><span class=o>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 대용량 데이터
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// MessagePack으로 인코딩
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>encoded</span> <span class=o>=</span> <span class=nx>encode</span><span class=p>(</span><span class=nx>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 적절한 Content-Type 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>res</span><span class=p>.</span><span class=nx>setHeader</span><span class=p>(</span><span class=s1>&#39;Content-Type&#39;</span><span class=p>,</span> <span class=s1>&#39;application/x-msgpack&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>send</span><span class=p>(</span><span class=nx>encoded</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=응답-압축>응답 압축<a hidden class=anchor aria-hidden=true href=#응답-압축>#</a></h5><p>gzip, deflate 등의 압축 알고리즘을 사용하여 전송 데이터를 줄인다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a>
</span><span class=lnt id=hl-6-13><a class=lnlinks href=#hl-6-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Express.js에서 응답 압축 적용
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>express</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;express&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>compression</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;compression&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=nx>express</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 응답 압축 미들웨어 적용
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>compression</span><span class=p>());</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/api/large-data&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 대용량 데이터 응답
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>largeData</span> <span class=o>=</span> <span class=nx>generateLargeData</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>(</span><span class=nx>largeData</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=http2-및-http3-활용>HTTP/2 및 HTTP/3 활용<a hidden class=anchor aria-hidden=true href=#http2-및-http3-활용>#</a></h4><p>최신 HTTP 프로토콜을 사용하여 네트워크 성능을 개선한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1> 1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2> 2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3> 3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4> 4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5> 5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6> 6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7> 7</a>
</span><span class=lnt id=hl-7-8><a class=lnlinks href=#hl-7-8> 8</a>
</span><span class=lnt id=hl-7-9><a class=lnlinks href=#hl-7-9> 9</a>
</span><span class=lnt id=hl-7-10><a class=lnlinks href=#hl-7-10>10</a>
</span><span class=lnt id=hl-7-11><a class=lnlinks href=#hl-7-11>11</a>
</span><span class=lnt id=hl-7-12><a class=lnlinks href=#hl-7-12>12</a>
</span><span class=lnt id=hl-7-13><a class=lnlinks href=#hl-7-13>13</a>
</span><span class=lnt id=hl-7-14><a class=lnlinks href=#hl-7-14>14</a>
</span><span class=lnt id=hl-7-15><a class=lnlinks href=#hl-7-15>15</a>
</span><span class=lnt id=hl-7-16><a class=lnlinks href=#hl-7-16>16</a>
</span><span class=lnt id=hl-7-17><a class=lnlinks href=#hl-7-17>17</a>
</span><span class=lnt id=hl-7-18><a class=lnlinks href=#hl-7-18>18</a>
</span><span class=lnt id=hl-7-19><a class=lnlinks href=#hl-7-19>19</a>
</span><span class=lnt id=hl-7-20><a class=lnlinks href=#hl-7-20>20</a>
</span><span class=lnt id=hl-7-21><a class=lnlinks href=#hl-7-21>21</a>
</span><span class=lnt id=hl-7-22><a class=lnlinks href=#hl-7-22>22</a>
</span><span class=lnt id=hl-7-23><a class=lnlinks href=#hl-7-23>23</a>
</span><span class=lnt id=hl-7-24><a class=lnlinks href=#hl-7-24>24</a>
</span><span class=lnt id=hl-7-25><a class=lnlinks href=#hl-7-25>25</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Node.js에서 HTTP/2 서버 구현 예제
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>http2</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;http2&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>fs</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;fs&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>server</span> <span class=o>=</span> <span class=nx>http2</span><span class=p>.</span><span class=nx>createSecureServer</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>key</span><span class=o>:</span> <span class=nx>fs</span><span class=p>.</span><span class=nx>readFileSync</span><span class=p>(</span><span class=s1>&#39;server.key&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=nx>cert</span><span class=o>:</span> <span class=nx>fs</span><span class=p>.</span><span class=nx>readFileSync</span><span class=p>(</span><span class=s1>&#39;server.crt&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>server</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;stream&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>stream</span><span class=p>,</span> <span class=nx>headers</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>path</span> <span class=o>=</span> <span class=nx>headers</span><span class=p>[</span><span class=s1>&#39;:path&#39;</span><span class=p>];</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>path</span> <span class=o>===</span> <span class=s1>&#39;/api/data&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>data</span> <span class=o>=</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>({</span> <span class=nx>result</span><span class=o>:</span> <span class=s1>&#39;success&#39;</span><span class=p>,</span> <span class=nx>message</span><span class=o>:</span> <span class=s1>&#39;HTTP/2 API 응답&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>stream</span><span class=p>.</span><span class=nx>respond</span><span class=p>({</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;content-type&#39;</span><span class=o>:</span> <span class=s1>&#39;application/json&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;:status&#39;</span><span class=o>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>stream</span><span class=p>.</span><span class=nx>end</span><span class=p>(</span><span class=nx>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>server</span><span class=p>.</span><span class=nx>listen</span><span class=p>(</span><span class=mi>3000</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=로드-밸런싱-및-수평적-확장>로드 밸런싱 및 수평적 확장<a hidden class=anchor aria-hidden=true href=#로드-밸런싱-및-수평적-확장>#</a></h4><h5 id=수평적-확장>수평적 확장<a hidden class=anchor aria-hidden=true href=#수평적-확장>#</a></h5><p>여러 서버에 API 인스턴스를 분산하여 부하를 분산시킨다.</p><h5 id=로드-밸런싱-알고리즘>로드 밸런싱 알고리즘<a hidden class=anchor aria-hidden=true href=#로드-밸런싱-알고리즘>#</a></h5><p>라운드 로빈, 최소 연결, 가중치 기반 등 다양한 알고리즘을 적용하여 트래픽을 효율적으로 분배한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span><span class=lnt id=hl-8-11><a class=lnlinks href=#hl-8-11>11</a>
</span><span class=lnt id=hl-8-12><a class=lnlinks href=#hl-8-12>12</a>
</span><span class=lnt id=hl-8-13><a class=lnlinks href=#hl-8-13>13</a>
</span><span class=lnt id=hl-8-14><a class=lnlinks href=#hl-8-14>14</a>
</span><span class=lnt id=hl-8-15><a class=lnlinks href=#hl-8-15>15</a>
</span><span class=lnt id=hl-8-16><a class=lnlinks href=#hl-8-16>16</a>
</span><span class=lnt id=hl-8-17><a class=lnlinks href=#hl-8-17>17</a>
</span><span class=lnt id=hl-8-18><a class=lnlinks href=#hl-8-18>18</a>
</span><span class=lnt id=hl-8-19><a class=lnlinks href=#hl-8-19>19</a>
</span><span class=lnt id=hl-8-20><a class=lnlinks href=#hl-8-20>20</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=c1># Nginx를 사용한 로드 밸런싱 설정 예제
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>http</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>upstream</span> <span class=s>api_servers</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>least_conn</span><span class=p>;</span>  <span class=c1># 최소 연결 알고리즘
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kn>server</span> <span class=n>api1.example.com</span><span class=p>:</span><span class=mi>3000</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>server</span> <span class=n>api2.example.com</span><span class=p>:</span><span class=mi>3000</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>server</span> <span class=n>api3.example.com</span><span class=p>:</span><span class=mi>3000</span> <span class=s>weight=2</span><span class=p>;</span>  <span class=c1># 가중치 부여
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kn>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>listen</span> <span class=mi>80</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>server_name</span> <span class=s>api.example.com</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=kn>location</span> <span class=s>/api/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=kn>proxy_pass</span> <span class=s>http://api_servers</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=kn>proxy_set_header</span> <span class=s>Host</span> <span class=nv>$host</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=kn>proxy_set_header</span> <span class=s>X-Real-IP</span> <span class=nv>$remote_addr</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=리소스-효율적인-코드-작성>리소스 효율적인 코드 작성<a hidden class=anchor aria-hidden=true href=#리소스-효율적인-코드-작성>#</a></h4><h5 id=메모리-관리>메모리 관리<a hidden class=anchor aria-hidden=true href=#메모리-관리>#</a></h5><p>메모리 누수를 방지하고 효율적인 메모리 사용을 위한 코드를 작성한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11>11</a>
</span><span class=lnt id=hl-9-12><a class=lnlinks href=#hl-9-12>12</a>
</span><span class=lnt id=hl-9-13><a class=lnlinks href=#hl-9-13>13</a>
</span><span class=lnt id=hl-9-14><a class=lnlinks href=#hl-9-14>14</a>
</span><span class=lnt id=hl-9-15><a class=lnlinks href=#hl-9-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Node.js에서 메모리 사용량 모니터링 예제
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>os</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;os&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>monitorMemoryUsage</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>totalMemory</span> <span class=o>=</span> <span class=nx>os</span><span class=p>.</span><span class=nx>totalmem</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>freeMemory</span> <span class=o>=</span> <span class=nx>os</span><span class=p>.</span><span class=nx>freemem</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>usedMemory</span> <span class=o>=</span> <span class=nx>totalMemory</span> <span class=o>-</span> <span class=nx>freeMemory</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`총 메모리: </span><span class=si>${</span><span class=nb>Math</span><span class=p>.</span><span class=nx>round</span><span class=p>(</span><span class=nx>totalMemory</span> <span class=o>/</span> <span class=p>(</span><span class=mi>1024</span> <span class=o>*</span> <span class=mi>1024</span><span class=p>))</span><span class=si>}</span><span class=sb> MB`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`사용 중인 메모리: </span><span class=si>${</span><span class=nb>Math</span><span class=p>.</span><span class=nx>round</span><span class=p>(</span><span class=nx>usedMemory</span> <span class=o>/</span> <span class=p>(</span><span class=mi>1024</span> <span class=o>*</span> <span class=mi>1024</span><span class=p>))</span><span class=si>}</span><span class=sb> MB`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`사용률: </span><span class=si>${</span><span class=nb>Math</span><span class=p>.</span><span class=nx>round</span><span class=p>((</span><span class=nx>usedMemory</span> <span class=o>/</span> <span class=nx>totalMemory</span><span class=p>)</span> <span class=o>*</span> <span class=mi>100</span><span class=p>)</span><span class=si>}</span><span class=sb>%`</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 5분마다 메모리 사용량 확인
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>setInterval</span><span class=p>(</span><span class=nx>monitorMemoryUsage</span><span class=p>,</span> <span class=mi>5</span> <span class=o>*</span> <span class=mi>60</span> <span class=o>*</span> <span class=mi>1000</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=알고리즘-최적화>알고리즘 최적화<a hidden class=anchor aria-hidden=true href=#알고리즘-최적화>#</a></h5><p>시간 복잡도와 공간 복잡도를 고려하여 효율적인 알고리즘을 선택한다.</p><h4 id=graphql-활용>GraphQL 활용<a hidden class=anchor aria-hidden=true href=#graphql-활용>#</a></h4><p>REST API에서 발생할 수 있는 오버페칭과 언더페칭 문제를 해결하기 위해 GraphQL을 고려한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1> 1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2> 2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3> 3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4> 4</a>
</span><span class=lnt id=hl-10-5><a class=lnlinks href=#hl-10-5> 5</a>
</span><span class=lnt id=hl-10-6><a class=lnlinks href=#hl-10-6> 6</a>
</span><span class=lnt id=hl-10-7><a class=lnlinks href=#hl-10-7> 7</a>
</span><span class=lnt id=hl-10-8><a class=lnlinks href=#hl-10-8> 8</a>
</span><span class=lnt id=hl-10-9><a class=lnlinks href=#hl-10-9> 9</a>
</span><span class=lnt id=hl-10-10><a class=lnlinks href=#hl-10-10>10</a>
</span><span class=lnt id=hl-10-11><a class=lnlinks href=#hl-10-11>11</a>
</span><span class=lnt id=hl-10-12><a class=lnlinks href=#hl-10-12>12</a>
</span><span class=lnt id=hl-10-13><a class=lnlinks href=#hl-10-13>13</a>
</span><span class=lnt id=hl-10-14><a class=lnlinks href=#hl-10-14>14</a>
</span><span class=lnt id=hl-10-15><a class=lnlinks href=#hl-10-15>15</a>
</span><span class=lnt id=hl-10-16><a class=lnlinks href=#hl-10-16>16</a>
</span><span class=lnt id=hl-10-17><a class=lnlinks href=#hl-10-17>17</a>
</span><span class=lnt id=hl-10-18><a class=lnlinks href=#hl-10-18>18</a>
</span><span class=lnt id=hl-10-19><a class=lnlinks href=#hl-10-19>19</a>
</span><span class=lnt id=hl-10-20><a class=lnlinks href=#hl-10-20>20</a>
</span><span class=lnt id=hl-10-21><a class=lnlinks href=#hl-10-21>21</a>
</span><span class=lnt id=hl-10-22><a class=lnlinks href=#hl-10-22>22</a>
</span><span class=lnt id=hl-10-23><a class=lnlinks href=#hl-10-23>23</a>
</span><span class=lnt id=hl-10-24><a class=lnlinks href=#hl-10-24>24</a>
</span><span class=lnt id=hl-10-25><a class=lnlinks href=#hl-10-25>25</a>
</span><span class=lnt id=hl-10-26><a class=lnlinks href=#hl-10-26>26</a>
</span><span class=lnt id=hl-10-27><a class=lnlinks href=#hl-10-27>27</a>
</span><span class=lnt id=hl-10-28><a class=lnlinks href=#hl-10-28>28</a>
</span><span class=lnt id=hl-10-29><a class=lnlinks href=#hl-10-29>29</a>
</span><span class=lnt id=hl-10-30><a class=lnlinks href=#hl-10-30>30</a>
</span><span class=lnt id=hl-10-31><a class=lnlinks href=#hl-10-31>31</a>
</span><span class=lnt id=hl-10-32><a class=lnlinks href=#hl-10-32>32</a>
</span><span class=lnt id=hl-10-33><a class=lnlinks href=#hl-10-33>33</a>
</span><span class=lnt id=hl-10-34><a class=lnlinks href=#hl-10-34>34</a>
</span><span class=lnt id=hl-10-35><a class=lnlinks href=#hl-10-35>35</a>
</span><span class=lnt id=hl-10-36><a class=lnlinks href=#hl-10-36>36</a>
</span><span class=lnt id=hl-10-37><a class=lnlinks href=#hl-10-37>37</a>
</span><span class=lnt id=hl-10-38><a class=lnlinks href=#hl-10-38>38</a>
</span><span class=lnt id=hl-10-39><a class=lnlinks href=#hl-10-39>39</a>
</span><span class=lnt id=hl-10-40><a class=lnlinks href=#hl-10-40>40</a>
</span><span class=lnt id=hl-10-41><a class=lnlinks href=#hl-10-41>41</a>
</span><span class=lnt id=hl-10-42><a class=lnlinks href=#hl-10-42>42</a>
</span><span class=lnt id=hl-10-43><a class=lnlinks href=#hl-10-43>43</a>
</span><span class=lnt id=hl-10-44><a class=lnlinks href=#hl-10-44>44</a>
</span><span class=lnt id=hl-10-45><a class=lnlinks href=#hl-10-45>45</a>
</span><span class=lnt id=hl-10-46><a class=lnlinks href=#hl-10-46>46</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Apollo Server를 사용한 GraphQL API 예제
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=p>{</span> <span class=nx>ApolloServer</span><span class=p>,</span> <span class=nx>gql</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;apollo-server&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// GraphQL 스키마 정의
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>typeDefs</span> <span class=o>=</span> <span class=nx>gql</span><span class=sb>`
</span></span></span><span class=line><span class=cl><span class=sb>  type User {
</span></span></span><span class=line><span class=cl><span class=sb>    id: ID!
</span></span></span><span class=line><span class=cl><span class=sb>    name: String!
</span></span></span><span class=line><span class=cl><span class=sb>    email: String!
</span></span></span><span class=line><span class=cl><span class=sb>    posts: [Post!]
</span></span></span><span class=line><span class=cl><span class=sb>  }
</span></span></span><span class=line><span class=cl><span class=sb>  
</span></span></span><span class=line><span class=cl><span class=sb>  type Post {
</span></span></span><span class=line><span class=cl><span class=sb>    id: ID!
</span></span></span><span class=line><span class=cl><span class=sb>    title: String!
</span></span></span><span class=line><span class=cl><span class=sb>    content: String!
</span></span></span><span class=line><span class=cl><span class=sb>    author: User!
</span></span></span><span class=line><span class=cl><span class=sb>  }
</span></span></span><span class=line><span class=cl><span class=sb>  
</span></span></span><span class=line><span class=cl><span class=sb>  type Query {
</span></span></span><span class=line><span class=cl><span class=sb>    user(id: ID!): User
</span></span></span><span class=line><span class=cl><span class=sb>    posts: [Post!]!
</span></span></span><span class=line><span class=cl><span class=sb>  }
</span></span></span><span class=line><span class=cl><span class=sb>`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 리졸버 함수 구현
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>resolvers</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>Query</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>user</span><span class=o>:</span> <span class=p>(</span><span class=nx>_</span><span class=p>,</span> <span class=p>{</span> <span class=nx>id</span> <span class=p>})</span> <span class=p>=&gt;</span> <span class=nx>getUserById</span><span class=p>(</span><span class=nx>id</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=nx>posts</span><span class=o>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=nx>getAllPosts</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>User</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>posts</span><span class=o>:</span> <span class=p>(</span><span class=nx>parent</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>getPostsByUserId</span><span class=p>(</span><span class=nx>parent</span><span class=p>.</span><span class=nx>id</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>Post</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>author</span><span class=o>:</span> <span class=p>(</span><span class=nx>parent</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>getUserById</span><span class=p>(</span><span class=nx>parent</span><span class=p>.</span><span class=nx>authorId</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Apollo Server 인스턴스 생성
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>server</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>ApolloServer</span><span class=p>({</span> <span class=nx>typeDefs</span><span class=p>,</span> <span class=nx>resolvers</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 서버 시작
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>server</span><span class=p>.</span><span class=nx>listen</span><span class=p>().</span><span class=nx>then</span><span class=p>(({</span> <span class=nx>url</span> <span class=p>})</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`GraphQL API 실행 중: </span><span class=si>${</span><span class=nx>url</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=마이크로서비스-아키텍처-도입>마이크로서비스 아키텍처 도입<a hidden class=anchor aria-hidden=true href=#마이크로서비스-아키텍처-도입>#</a></h4><p>대규모 API를 더 작고 독립적인 서비스로 분할하여 각 서비스의 성능과 확장성을 개선한다.</p><h4 id=api-게이트웨이-활용>API 게이트웨이 활용<a hidden class=anchor aria-hidden=true href=#api-게이트웨이-활용>#</a></h4><p>API 게이트웨이를 통해 요청 라우팅, 캐싱, 속도 제한, 보안 등을 중앙에서 관리한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1> 1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2> 2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3> 3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4> 4</a>
</span><span class=lnt id=hl-11-5><a class=lnlinks href=#hl-11-5> 5</a>
</span><span class=lnt id=hl-11-6><a class=lnlinks href=#hl-11-6> 6</a>
</span><span class=lnt id=hl-11-7><a class=lnlinks href=#hl-11-7> 7</a>
</span><span class=lnt id=hl-11-8><a class=lnlinks href=#hl-11-8> 8</a>
</span><span class=lnt id=hl-11-9><a class=lnlinks href=#hl-11-9> 9</a>
</span><span class=lnt id=hl-11-10><a class=lnlinks href=#hl-11-10>10</a>
</span><span class=lnt id=hl-11-11><a class=lnlinks href=#hl-11-11>11</a>
</span><span class=lnt id=hl-11-12><a class=lnlinks href=#hl-11-12>12</a>
</span><span class=lnt id=hl-11-13><a class=lnlinks href=#hl-11-13>13</a>
</span><span class=lnt id=hl-11-14><a class=lnlinks href=#hl-11-14>14</a>
</span><span class=lnt id=hl-11-15><a class=lnlinks href=#hl-11-15>15</a>
</span><span class=lnt id=hl-11-16><a class=lnlinks href=#hl-11-16>16</a>
</span><span class=lnt id=hl-11-17><a class=lnlinks href=#hl-11-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># Kong API 게이트웨이 설정 예제</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>services</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>user-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=l>http://user-service:3000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>routes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>user-routes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=l>/api/users</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>plugins</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>rate-limiting</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>config</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>minute</span><span class=p>:</span><span class=w> </span><span class=m>100</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>cors</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>http-cache</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>config</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>response_code</span><span class=p>:</span><span class=w> </span><span class=m>200</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>cache_ttl</span><span class=p>:</span><span class=w> </span><span class=m>300</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=api-성능-모니터링-및-개선-프로세스>API 성능 모니터링 및 개선 프로세스<a hidden class=anchor aria-hidden=true href=#api-성능-모니터링-및-개선-프로세스>#</a></h3><h4 id=성능-모니터링-구현>성능 모니터링 구현<a hidden class=anchor aria-hidden=true href=#성능-모니터링-구현>#</a></h4><h5 id=apmapplication-performance-monitoring-도구-사용>APM(Application Performance Monitoring) 도구 사용<a hidden class=anchor aria-hidden=true href=#apmapplication-performance-monitoring-도구-사용>#</a></h5><p>New Relic, Datadog, Dynatrace 등의 도구를 활용하여 실시간으로 API 성능을 모니터링한다.</p><h5 id=커스텀-로깅-및-측정>커스텀 로깅 및 측정<a hidden class=anchor aria-hidden=true href=#커스텀-로깅-및-측정>#</a></h5><p>중요한 메트릭을 자체적으로 측정하고 기록한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1> 1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2> 2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3> 3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4> 4</a>
</span><span class=lnt id=hl-12-5><a class=lnlinks href=#hl-12-5> 5</a>
</span><span class=lnt id=hl-12-6><a class=lnlinks href=#hl-12-6> 6</a>
</span><span class=lnt id=hl-12-7><a class=lnlinks href=#hl-12-7> 7</a>
</span><span class=lnt id=hl-12-8><a class=lnlinks href=#hl-12-8> 8</a>
</span><span class=lnt id=hl-12-9><a class=lnlinks href=#hl-12-9> 9</a>
</span><span class=lnt id=hl-12-10><a class=lnlinks href=#hl-12-10>10</a>
</span><span class=lnt id=hl-12-11><a class=lnlinks href=#hl-12-11>11</a>
</span><span class=lnt id=hl-12-12><a class=lnlinks href=#hl-12-12>12</a>
</span><span class=lnt id=hl-12-13><a class=lnlinks href=#hl-12-13>13</a>
</span><span class=lnt id=hl-12-14><a class=lnlinks href=#hl-12-14>14</a>
</span><span class=lnt id=hl-12-15><a class=lnlinks href=#hl-12-15>15</a>
</span><span class=lnt id=hl-12-16><a class=lnlinks href=#hl-12-16>16</a>
</span><span class=lnt id=hl-12-17><a class=lnlinks href=#hl-12-17>17</a>
</span><span class=lnt id=hl-12-18><a class=lnlinks href=#hl-12-18>18</a>
</span><span class=lnt id=hl-12-19><a class=lnlinks href=#hl-12-19>19</a>
</span><span class=lnt id=hl-12-20><a class=lnlinks href=#hl-12-20>20</a>
</span><span class=lnt id=hl-12-21><a class=lnlinks href=#hl-12-21>21</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Python FastAPI에서 미들웨어를 사용한 API 응답 시간 로깅</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>fastapi</span> <span class=kn>import</span> <span class=n>FastAPI</span><span class=p>,</span> <span class=n>Request</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>logging</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>FastAPI</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&#34;api_performance&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.middleware</span><span class=p>(</span><span class=s2>&#34;http&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>log_request_time</span><span class=p>(</span><span class=n>request</span><span class=p>:</span> <span class=n>Request</span><span class=p>,</span> <span class=n>call_next</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>response</span> <span class=o>=</span> <span class=k>await</span> <span class=n>call_next</span><span class=p>(</span><span class=n>request</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>process_time</span> <span class=o>=</span> <span class=p>(</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start_time</span><span class=p>)</span> <span class=o>*</span> <span class=mi>1000</span>
</span></span><span class=line><span class=cl>    <span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Path: </span><span class=si>{</span><span class=n>request</span><span class=o>.</span><span class=n>url</span><span class=o>.</span><span class=n>path</span><span class=si>}</span><span class=s2>, Method: </span><span class=si>{</span><span class=n>request</span><span class=o>.</span><span class=n>method</span><span class=si>}</span><span class=s2>, Time: </span><span class=si>{</span><span class=n>process_time</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>ms&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 응답 헤더에 처리 시간 추가</span>
</span></span><span class=line><span class=cl>    <span class=n>response</span><span class=o>.</span><span class=n>headers</span><span class=p>[</span><span class=s2>&#34;X-Process-Time&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>process_time</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>response</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=성능-벤치마킹>성능 벤치마킹<a hidden class=anchor aria-hidden=true href=#성능-벤치마킹>#</a></h4><p>정기적인 벤치마킹을 통해 API의 성능 추이를 관찰하고 개선점을 파악한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1> 1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2> 2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3> 3</a>
</span><span class=lnt id=hl-13-4><a class=lnlinks href=#hl-13-4> 4</a>
</span><span class=lnt id=hl-13-5><a class=lnlinks href=#hl-13-5> 5</a>
</span><span class=lnt id=hl-13-6><a class=lnlinks href=#hl-13-6> 6</a>
</span><span class=lnt id=hl-13-7><a class=lnlinks href=#hl-13-7> 7</a>
</span><span class=lnt id=hl-13-8><a class=lnlinks href=#hl-13-8> 8</a>
</span><span class=lnt id=hl-13-9><a class=lnlinks href=#hl-13-9> 9</a>
</span><span class=lnt id=hl-13-10><a class=lnlinks href=#hl-13-10>10</a>
</span><span class=lnt id=hl-13-11><a class=lnlinks href=#hl-13-11>11</a>
</span><span class=lnt id=hl-13-12><a class=lnlinks href=#hl-13-12>12</a>
</span><span class=lnt id=hl-13-13><a class=lnlinks href=#hl-13-13>13</a>
</span><span class=lnt id=hl-13-14><a class=lnlinks href=#hl-13-14>14</a>
</span><span class=lnt id=hl-13-15><a class=lnlinks href=#hl-13-15>15</a>
</span><span class=lnt id=hl-13-16><a class=lnlinks href=#hl-13-16>16</a>
</span><span class=lnt id=hl-13-17><a class=lnlinks href=#hl-13-17>17</a>
</span><span class=lnt id=hl-13-18><a class=lnlinks href=#hl-13-18>18</a>
</span><span class=lnt id=hl-13-19><a class=lnlinks href=#hl-13-19>19</a>
</span><span class=lnt id=hl-13-20><a class=lnlinks href=#hl-13-20>20</a>
</span><span class=lnt id=hl-13-21><a class=lnlinks href=#hl-13-21>21</a>
</span><span class=lnt id=hl-13-22><a class=lnlinks href=#hl-13-22>22</a>
</span><span class=lnt id=hl-13-23><a class=lnlinks href=#hl-13-23>23</a>
</span><span class=lnt id=hl-13-24><a class=lnlinks href=#hl-13-24>24</a>
</span><span class=lnt id=hl-13-25><a class=lnlinks href=#hl-13-25>25</a>
</span><span class=lnt id=hl-13-26><a class=lnlinks href=#hl-13-26>26</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// k6를 사용한 API 벤치마킹 스크립트 예제
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>http</span> <span class=nx>from</span> <span class=s1>&#39;k6/http&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>check</span><span class=p>,</span> <span class=nx>sleep</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;k6&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>const</span> <span class=nx>options</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>stages</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span> <span class=nx>duration</span><span class=o>:</span> <span class=s1>&#39;30s&#39;</span><span class=p>,</span> <span class=nx>target</span><span class=o>:</span> <span class=mi>20</span> <span class=p>},</span>   <span class=c1>// 30초 동안 20명의 가상 사용자로 증가
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>{</span> <span class=nx>duration</span><span class=o>:</span> <span class=s1>&#39;1m&#39;</span><span class=p>,</span> <span class=nx>target</span><span class=o>:</span> <span class=mi>20</span> <span class=p>},</span>    <span class=c1>// 1분 동안 20명 유지
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>{</span> <span class=nx>duration</span><span class=o>:</span> <span class=s1>&#39;30s&#39;</span><span class=p>,</span> <span class=nx>target</span><span class=o>:</span> <span class=mi>0</span> <span class=p>},</span>    <span class=c1>// 30초 동안 0명으로 감소
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=nx>thresholds</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>http_req_duration</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;p(95)&lt;500&#39;</span><span class=p>],</span>  <span class=c1>// 95%의 요청이 500ms 미만이어야 함
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>http_req_failed</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;rate&lt;0.01&#39;</span><span class=p>],</span>    <span class=c1>// 실패율이 1% 미만이어야 함
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>res</span> <span class=o>=</span> <span class=nx>http</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;https://api.example.com/data&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>check</span><span class=p>(</span><span class=nx>res</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;status is 200&#39;</span><span class=o>:</span> <span class=p>(</span><span class=nx>r</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>r</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=mi>200</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;response time &lt; 200ms&#39;</span><span class=o>:</span> <span class=p>(</span><span class=nx>r</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>r</span><span class=p>.</span><span class=nx>timings</span><span class=p>.</span><span class=nx>duration</span> <span class=o>&lt;</span> <span class=mi>200</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=성능-병목-식별-및-해결>성능 병목 식별 및 해결<a hidden class=anchor aria-hidden=true href=#성능-병목-식별-및-해결>#</a></h4><h5 id=프로파일링>프로파일링<a hidden class=anchor aria-hidden=true href=#프로파일링>#</a></h5><p>코드 레벨의 성능 병목을 식별하기 위해 프로파일링 도구를 사용한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1> 1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2> 2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3> 3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4> 4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5> 5</a>
</span><span class=lnt id=hl-14-6><a class=lnlinks href=#hl-14-6> 6</a>
</span><span class=lnt id=hl-14-7><a class=lnlinks href=#hl-14-7> 7</a>
</span><span class=lnt id=hl-14-8><a class=lnlinks href=#hl-14-8> 8</a>
</span><span class=lnt id=hl-14-9><a class=lnlinks href=#hl-14-9> 9</a>
</span><span class=lnt id=hl-14-10><a class=lnlinks href=#hl-14-10>10</a>
</span><span class=lnt id=hl-14-11><a class=lnlinks href=#hl-14-11>11</a>
</span><span class=lnt id=hl-14-12><a class=lnlinks href=#hl-14-12>12</a>
</span><span class=lnt id=hl-14-13><a class=lnlinks href=#hl-14-13>13</a>
</span><span class=lnt id=hl-14-14><a class=lnlinks href=#hl-14-14>14</a>
</span><span class=lnt id=hl-14-15><a class=lnlinks href=#hl-14-15>15</a>
</span><span class=lnt id=hl-14-16><a class=lnlinks href=#hl-14-16>16</a>
</span><span class=lnt id=hl-14-17><a class=lnlinks href=#hl-14-17>17</a>
</span><span class=lnt id=hl-14-18><a class=lnlinks href=#hl-14-18>18</a>
</span><span class=lnt id=hl-14-19><a class=lnlinks href=#hl-14-19>19</a>
</span><span class=lnt id=hl-14-20><a class=lnlinks href=#hl-14-20>20</a>
</span><span class=lnt id=hl-14-21><a class=lnlinks href=#hl-14-21>21</a>
</span><span class=lnt id=hl-14-22><a class=lnlinks href=#hl-14-22>22</a>
</span><span class=lnt id=hl-14-23><a class=lnlinks href=#hl-14-23>23</a>
</span><span class=lnt id=hl-14-24><a class=lnlinks href=#hl-14-24>24</a>
</span><span class=lnt id=hl-14-25><a class=lnlinks href=#hl-14-25>25</a>
</span><span class=lnt id=hl-14-26><a class=lnlinks href=#hl-14-26>26</a>
</span><span class=lnt id=hl-14-27><a class=lnlinks href=#hl-14-27>27</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Python에서 cProfile을 사용한 코드 프로파일링 예제</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>cProfile</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pstats</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>io</span> <span class=kn>import</span> <span class=n>StringIO</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>profile_func</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>profiler</span> <span class=o>=</span> <span class=n>cProfile</span><span class=o>.</span><span class=n>Profile</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>profiler</span><span class=o>.</span><span class=n>enable</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>profiler</span><span class=o>.</span><span class=n>disable</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>s</span> <span class=o>=</span> <span class=n>StringIO</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>ps</span> <span class=o>=</span> <span class=n>pstats</span><span class=o>.</span><span class=n>Stats</span><span class=p>(</span><span class=n>profiler</span><span class=p>,</span> <span class=n>stream</span><span class=o>=</span><span class=n>s</span><span class=p>)</span><span class=o>.</span><span class=n>sort_stats</span><span class=p>(</span><span class=s1>&#39;cumulative&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>ps</span><span class=o>.</span><span class=n>print_stats</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span>  <span class=c1># 상위 20개 결과만 출력</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>getvalue</span><span class=p>())</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>wrapper</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@profile_func</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>api_heavy_function</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># 시간이 많이 소요되는 API 로직</span>
</span></span><span class=line><span class=cl>    <span class=c1># ...</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>processed_data</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=병목-해결-전략>병목 해결 전략<a hidden class=anchor aria-hidden=true href=#병목-해결-전략>#</a></h5><p>식별된 병목에 따라 적절한 최적화 전략을 적용한다.</p><h3 id=api-성능-최적화-사례-연구>API 성능 최적화 사례 연구<a hidden class=anchor aria-hidden=true href=#api-성능-최적화-사례-연구>#</a></h3><h4 id=사례-1-대규모-전자상거래-api-최적화>사례 1: 대규모 전자상거래 API 최적화<a hidden class=anchor aria-hidden=true href=#사례-1-대규모-전자상거래-api-최적화>#</a></h4><p>한 대형 전자상거래 플랫폼은 다음과 같은 방법으로 API 성능을 개선했다:</p><ol><li>Redis를 활용한 상품 정보 캐싱으로 데이터베이스 부하 감소</li><li>인기 상품 목록을 사전 계산하여 저장</li><li>ElasticSearch를 활용한 검색 성능 개선</li><li>CDN을 통한 상품 이미지 제공</li><li>마이크로서비스 아키텍처로 전환하여 서비스별 독립적 확장 가능성 확보</li></ol><p>결과: 응답 시간 75% 감소, 서버 비용 40% 절감</p><h4 id=사례-2-소셜-미디어-플랫폼-api-성능-개선>사례 2: 소셜 미디어 플랫폼 API 성능 개선<a hidden class=anchor aria-hidden=true href=#사례-2-소셜-미디어-플랫폼-api-성능-개선>#</a></h4><ol><li>GraphQL 도입으로 오버페칭 문제 해결</li><li>실시간 피드 생성을 위한 이벤트 기반 아키텍처 구현</li><li>사용자별 콘텐츠 접근 패턴에 기반한 캐싱 전략 구현</li><li>이미지 처리를 위한 전용 서비스 구축</li></ol><p>결과: 피크 시간대 API 처리량 300% 증가, 사용자 경험 개선</p><h3 id=api-성능-최적화를-위한-체크리스트>API 성능 최적화를 위한 체크리스트<a hidden class=anchor aria-hidden=true href=#api-성능-최적화를-위한-체크리스트>#</a></h3><ol><li><strong>캐싱 전략 검토</strong>: 적절한 캐싱 메커니즘이 구현되어 있는가?</li><li><strong>데이터베이스 최적화</strong>: 인덱스, 쿼리 최적화, 커넥션 풀링이 적용되어 있는가?</li><li><strong>응답 최적화</strong>: 응답 크기 최소화, 압축, 페이지네이션이 구현되어 있는가?</li><li><strong>비동기 처리</strong>: 시간이 오래 걸리는 작업이 비동기적으로 처리되는가?</li><li><strong>모니터링 시스템</strong>: 실시간 성능 모니터링 및 알림 시스템이 구축되어 있는가?</li><li><strong>확장성 계획</strong>: 트래픽 증가에 대응할 수 있는 확장 계획이 있는가?</li><li><strong>로드 테스트</strong>: 예상 부하 조건에서 API가 테스트되었는가?</li><li><strong>에러 처리</strong>: 효율적인 에러 처리 및 복구 메커니즘이 구현되어 있는가?</li><li><strong>보안과 성능의 균형</strong>: 보안 조치가 성능에 미치는 영향이 최소화되었는가?</li><li><strong>최신 기술 적용</strong>: HTTP/2, HTTP/3 등 최신 기술이 적용되었는가?</li></ol><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/backend-development/>Backend-Development</a></li><li><a href=https://buenhyden.github.io/tags/api-design-and-implementation/>API-Design-and-Implementation</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/software-development--engineering/fundamentals/sdlc/sdlc-phases/deployment/><span class=title>« Prev</span><br><span>6. 배포 (Deployment)</span>
</a><a class=next href=https://buenhyden.github.io/posts/data-structures--algorithms/advanced-topics/advanced-algorithms/advanced-string-algorithms/suffix-arrays/suffix-array-vs-suffix-tree-vs-trie/><span class=title>Next »</span><br><span>Suffix Array vs Suffix Tree vs Trie</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>