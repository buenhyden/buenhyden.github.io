<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Token Authentication vs. OAuth | hyunyoun's Blog</title><meta name=keywords content="Backend-Development,API-Design,Authentication-Methods,Token-Authentication"><meta name=description content="토큰 인증은 사용자의 자격 증명을 한 번만 확인한 후, 서버가 서명된 토큰을 발급하여 클라이언트가 이 토큰을 사용해 자신을 인증하도록 하는 것이다. OAuth 2.0의 핵심 아이디어는 사용자(리소스 소유자)가 비밀번호를 공유하지 않고도 제3자 애플리케이션(클라이언트)에게 자신의 데이터에 대한 특정 접근 권한을 부여할 수 있도록 하는 것이다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/software-development--engineering/platform-development/backend-development/api-development/token-based-authentication/token-based-authentication-vs-oauth-20/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.5311427199677f919b17469b4ca383951185b54edbae0ec7a5b4378f78d8f4f4.css integrity="sha256-UxFCcZlnf5GbF0abTKODlRGFtU7brg7HpbQ3j3jY9PQ=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/software-development--engineering/platform-development/backend-development/api-development/token-based-authentication/token-based-authentication-vs-oauth-20/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/software-development--engineering/platform-development/backend-development/api-development/token-based-authentication/token-based-authentication-vs-oauth-20/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Token Authentication vs. OAuth"><meta property="og:description" content="토큰 인증은 사용자의 자격 증명을 한 번만 확인한 후, 서버가 서명된 토큰을 발급하여 클라이언트가 이 토큰을 사용해 자신을 인증하도록 하는 것이다. OAuth 2.0의 핵심 아이디어는 사용자(리소스 소유자)가 비밀번호를 공유하지 않고도 제3자 애플리케이션(클라이언트)에게 자신의 데이터에 대한 특정 접근 권한을 부여할 수 있도록 하는 것이다."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-04-03T07:22:00+00:00"><meta property="article:modified_time" content="2025-04-03T07:22:00+00:00"><meta property="article:tag" content="Backend-Development"><meta property="article:tag" content="API-Design"><meta property="article:tag" content="Authentication-Methods"><meta property="article:tag" content="Token-Authentication"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Token Authentication vs. OAuth"><meta name=twitter:description content="토큰 인증은 사용자의 자격 증명을 한 번만 확인한 후, 서버가 서명된 토큰을 발급하여 클라이언트가 이 토큰을 사용해 자신을 인증하도록 하는 것이다. OAuth 2.0의 핵심 아이디어는 사용자(리소스 소유자)가 비밀번호를 공유하지 않고도 제3자 애플리케이션(클라이언트)에게 자신의 데이터에 대한 특정 접근 권한을 부여할 수 있도록 하는 것이다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"HY's Blog","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":7,"name":"Token Authentication vs. OAuth","item":"https://buenhyden.github.io/posts/software-development--engineering/platform-development/backend-development/api-development/token-based-authentication/token-based-authentication-vs-oauth-20/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Token Authentication vs. OAuth","name":"Token Authentication vs. OAuth","description":"토큰 인증은 사용자의 자격 증명을 한 번만 확인한 후, 서버가 서명된 토큰을 발급하여 클라이언트가 이 토큰을 사용해 자신을 인증하도록 하는 것이다. OAuth 2.0의 핵심 아이디어는 사용자(리소스 소유자)가 비밀번호를 공유하지 않고도 제3자 애플리케이션(클라이언트)에게 자신의 데이터에 대한 특정 접근 권한을 부여할 수 있도록 하는 것이다.","keywords":["Backend-Development","API-Design","Authentication-Methods","Token-Authentication"],"articleBody":"Token Authentication vs. OAuth 2.0 토큰 인증(Token Authentication)과 OAuth 2.0은 모두 사용자 인증 및 권한 부여를 처리하는 기술이지만, 목적과 구현 방식에 있어 중요한 차이점을 가지고 있다.\n토큰 인증(Token Authentication) 토큰 인증은 사용자가 자격 증명(일반적으로 사용자 이름과 비밀번호)을 한 번 제공한 후, 서버가 생성한 토큰을 사용하여 이후의 요청에서 인증을 수행하는 방식이다.\n기본 개념 토큰 인증의 핵심 아이디어는 사용자의 자격 증명을 한 번만 확인한 후, 서버가 서명된 토큰을 발급하여 클라이언트가 이 토큰을 사용해 자신을 인증하도록 하는 것이다. 가장 널리 사용되는 토큰 형식은 JWT(JSON Web Token)이다.\n작동 방식 로그인 및 토큰 발급: 사용자가 사용자 이름과 비밀번호를 제출한다. 서버는 이 자격 증명을 검증하고, 유효할 경우 토큰을 생성한다. 서버는 토큰을 클라이언트에게 반환한다. 요청 인증: 클라이언트는 토큰을 로컬에 저장한다(로컬 스토리지, 쿠키 등). 이후 요청 시 클라이언트는 HTTP 헤더(일반적으로 Authorization 헤더)에 토큰을 포함시킨다. 서버는 토큰을 검증하고, 유효할 경우 요청을 처리한다. 특징 무상태(Stateless): 서버는 클라이언트 상태를 저장할 필요가 없다. 확장성: 여러 서버 간에 인증 정보를 공유할 필요가 없다. 자가 포함적(Self-contained): 토큰 자체에 필요한 정보가 포함될 수 있다. 간단한 구현: 기본적인 토큰 인증은 구현이 상대적으로 간단하다. OAuth 2.0 OAuth 2.0은 인터넷 사용자가 자신의 정보에 대한 접근 권한을 제3자 애플리케이션에 부여할 수 있도록 하는 권한 부여 프레임워크이다.\n기본 개념 OAuth 2.0의 핵심 아이디어는 사용자(리소스 소유자)가 비밀번호를 공유하지 않고도 제3자 애플리케이션(클라이언트)에게 자신의 데이터에 대한 특정 접근 권한을 부여할 수 있도록 하는 것이다.\n작동 방식 OAuth 2.0은 여러 권한 부여 흐름을 지원하며, 가장 일반적인 것은 권한 부여 코드 흐름(Authorization Code Flow)이다:\n초기 요청 및 인증: 클라이언트 애플리케이션은 사용자를 권한 부여 서버로 리디렉션한다. 사용자는 권한 부여 서버에 로그인하고 요청된 권한을 승인한다. 권한 부여 코드 발급: 권한 부여 서버는 권한 부여 코드와 함께 사용자를 클라이언트로 리디렉션한다. 토큰 교환: 클라이언트는 권한 부여 코드를 권한 부여 서버에 제출하여 접근 토큰(및 선택적으로 리프레시 토큰)을 받는다. 자원 접근: 클라이언트는 접근 토큰을 사용하여 리소스 서버의 보호된 리소스에 접근한다. 특징 위임된 권한 부여: 사용자는 제3자 애플리케이션에 제한된 접근 권한을 부여한다. 범위(Scopes): 접근 권한의 세분화된 제어를 제공한다. 여러 흐름: 다양한 클라이언트 유형에 맞는 여러 권한 부여 흐름을 지원한다. 표준화: 널리 채택된 개방형 표준. 심층 분석 주요 차이점 목적과 용도: 토큰 인증은 주로 사용자를 인증하는 데 중점을 둔다. OAuth 2.0은 제3자 애플리케이션에 특정 리소스에 대한 접근 권한을 부여하는 데 중점을 둔다. 접근 방식: 토큰 인증은 단순히 “이 사용자가 누구인지” 확인한다. OAuth 2.0은 “이 애플리케이션이 특정 사용자 데이터에 접근할 수 있는지\"를 결정한다. 복잡성과 오버헤드: 토큰 인증은 일반적으로 구현이 간단하고 오버헤드가 적다. OAuth 2.0은 더 복잡하며, 여러 참여자와 단계가 포함되어 있다. 토큰 인증의 장단점 장점:\n구현이 상대적으로 단순하다. 서버 측 세션 상태를 유지할 필요가 없어 확장성이 좋다. 개발 오버헤드가 적다. 단일 서비스 인증에 효율적이다. 단점:\n제3자 애플리케이션 통합에 적합하지 않을 수 있다. 세밀한 권한 제어가 기본적으로 포함되어 있지 않다. 토큰 취소 메커니즘이 표준화되어 있지 않다. 보안 구현이 개발자에게 더 많이 의존한다. OAuth 2.0의 장단점 장점:\n사용자 비밀번호 공유 없이 제3자 애플리케이션에 접근 권한을 부여할 수 있다. 세밀한 권한 범위(scopes)를 통해 최소 권한 원칙을 적용할 수 있다. 표준화되어 있어 다양한 서비스 간 호환성이 좋다. 강력한 보안 기능이 내장되어 있다. 단점:\n구현 복잡성이 높다. 설정 및 유지 관리에 더 많은 노력이 필요하다. 단순한 인증 요구사항에는 과도할 수 있다. 사용자 경험에 추가 단계가 필요하다(권한 동의 화면 등). 사용 시나리오 토큰 인증이 적합한 경우 단일 서비스 내 사용자 인증 간단한 모바일 애플리케이션 API 마이크로서비스 간 간단한 인증 개발 시간과 복잡성을 최소화해야 하는 프로젝트 OAuth 2.0이 적합한 경우 소셜 로그인 구현(“구글로 로그인”, “페이스북으로 로그인” 등) 제3자 애플리케이션에 제한된 접근 권한 부여 API 마켓플레이스 및 개발자 플랫폼 다양한 서비스와 통합이 필요한 엔터프라이즈 환경 사용자 데이터에 대한 세밀한 접근 제어가 필요한 경우 하이브리드 접근법 실제 애플리케이션에서는 두 방식을 조합하여 사용하는 경우가 많다:\nOAuth 2.0으로 인증 후 토큰 인증 사용: OAuth 2.0을 통해 사용자를 인증(소셜 로그인 등) 인증 후 서비스 자체의 토큰(JWT 등)을 발급하여 내부 API 호출에 사용 내부 서비스에는 토큰 인증, 외부 API에는 OAuth 2.0: 자체 서비스 내에서는 간단한 토큰 인증 사용 외부 서비스 API 호출 시 OAuth 2.0 사용 OAuth 2.0 + JWT: OAuth 2.0 프로토콜을 사용하되 JWT 형식의 접근 토큰 발급 토큰 인증의 자체 포함적 특성과 OAuth의 권한 부여 기능 결합 보안 고려사항 토큰 인증 보안 안전한 토큰 관리: HTTPS 사용 토큰 만료 시간 설정 안전한 저장소 사용(HttpOnly 쿠키 등) 취약점 방지: CSRF 공격 대응 XSS 공격 방지 토큰 탈취 위험 최소화 OAuth 2.0 보안 올바른 흐름 선택: 클라이언트 유형에 맞는 권한 부여 흐름 사용 공개 클라이언트는 PKCE(Proof Key for Code Exchange) 사용 보안 매개변수: 상태 파라미터 사용(CSRF 방지) 리디렉션 URI 검증 범위(scopes) 제한 토큰 보안: 짧은 접근 토큰 수명 리프레시 토큰 안전한 저장 토큰 교환 시 클라이언트 인증 최신 동향 토큰 인증 발전: JWT 보안 강화 토큰 바인딩(Token Binding) DPoP(Demonstration of Proof-of-Possession) OAuth 2.0 발전: OAuth 2.1 초안 FAPI(Financial-grade API) 리소스 지시자(Resource Indicators) 통합 솔루션: OpenID Connect(OAuth 2.0 위에 구축된 인증 계층) 자체 발급 OpenID Provider(SIOP) 디바이스 권한 부여 흐름 토큰 인증 vs. OAuth 2.0 비교 특성 토큰 인증 OAuth 2.0 주요 목적 사용자 인증(Authentication) 권한 부여(Authorization) 사용 사례 단일 서비스 내 사용자 인증 제3자 애플리케이션에 권한 부여 참여자 주로 두 당사자(클라이언트와 서버) 최소 세 당사자(클라이언트, 권한 부여 서버, 리소스 서버) + 사용자 복잡성 상대적으로 단순함 더 복잡함(여러 흐름, 역할, 단계) 상태 관리 대부분 무상태(stateless) 일부 상태 유지 가능(리프레시 토큰 등) 토큰 유형 주로 단일 토큰(JWT 등) 여러 토큰(접근 토큰, 리프레시 토큰 등) 표준화 특정 표준이 없음(JWT는 표준화됨) RFC 6749로 표준화됨 통합 주로 자체 서비스 내 서로 다른 서비스/애플리케이션 간 구현 복잡성 낮음 ~ 중간 중간 ~ 높음 인증 흐름 단순 직접 교환 여러 흐름(권한 부여 코드, 암시적, 클라이언트 자격 증명 등) 자격 증명 공유 클라이언트가 자격 증명 직접 제공 자격 증명 공유 없음(권한 위임) 권한 제어 일반적으로 포괄적 세밀한 권한 범위(scopes) 토큰 수명 구현에 따라 다양함 일반적으로 접근 토큰(짧음), 리프레시 토큰(김) 인증 주체 서비스 자체 신뢰할 수 있는 제3자 사용자 경험 단순한 로그인 절차 동의 화면, 권한 승인 등 추가 단계 보안 구현에 따라 다양함 여러 보안 계층 내장 취소 방법 구현에 따라 다양함 표준화된 토큰 취소 메커니즘 적합한 용도 단일 시스템, 모바일 앱, API 소셜 로그인, 제3자 API 통합, SSO 실제 구현 예시 토큰 인증 구현 (JWT 사용) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 // Node.js 예시 // 로그인 및 토큰 발급 app.post('/login', (req, res) =\u003e { const { username, password } = req.body; // 사용자 검증 (실제 구현에서는 데이터베이스 조회 등으로 처리) if (authenticateUser(username, password)) { // JWT 토큰 생성 const token = jwt.sign( { userId: user.id, username: user.username }, 'your-secret-key', // 실제 환경에서는 안전하게 관리해야 함 { expiresIn: '1h' } ); return res.json({ token }); } return res.status(401).json({ message: '인증 실패' }); }); // 토큰 검증 미들웨어 function verifyToken(req, res, next) { const authHeader = req.headers['authorization']; const token = authHeader \u0026\u0026 authHeader.split(' ')[1]; if (!token) return res.status(401).json({ message: '토큰 없음' }); jwt.verify(token, 'your-secret-key', (err, user) =\u003e { if (err) return res.status(403).json({ message: '토큰 무효' }); req.user = user; next(); }); } // 보호된 리소스 접근 app.get('/api/protected', verifyToken, (req, res) =\u003e { res.json({ message: '보호된 데이터', user: req.user }); }); OAuth 2.0 구현 (권한 부여 코드 흐름) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 // Node.js 예시 (간소화됨) // 클라이언트 설정 const config = { client_id: 'your-client-id', client_secret: 'your-client-secret', redirect_uri: 'http://your-app.com/callback', authorization_endpoint: 'https://auth-server.com/authorize', token_endpoint: 'https://auth-server.com/token' }; // 인증 시작 app.get('/login', (req, res) =\u003e { // 상태 파라미터 생성 (CSRF 방지) const state = crypto.randomBytes(16).toString('hex'); req.session.oauth_state = state; // 권한 부여 서버로 리디렉션 const authUrl = `${config.authorization_endpoint}?` + `client_id=${config.client_id}\u0026` + `redirect_uri=${encodeURIComponent(config.redirect_uri)}\u0026` + `response_type=code\u0026` + `state=${state}\u0026` + `scope=profile email`; res.redirect(authUrl); }); // 콜백 처리 app.get('/callback', async (req, res) =\u003e { const { code, state } = req.query; // 상태 검증 if (state !== req.session.oauth_state) { return res.status(403).send('상태 불일치, CSRF 공격 가능성'); } try { // 권한 부여 코드를 토큰으로 교환 const tokenResponse = await axios.post(config.token_endpoint, { grant_type: 'authorization_code', code, redirect_uri: config.redirect_uri, client_id: config.client_id, client_secret: config.client_secret }); const { access_token, refresh_token } = tokenResponse.data; // 토큰 저장 req.session.access_token = access_token; req.session.refresh_token = refresh_token; res.redirect('/dashboard'); } catch (error) { res.status(500).send('토큰 교환 오류'); } }); // 보호된 API 호출 app.get('/api/userinfo', async (req, res) =\u003e { if (!req.session.access_token) { return res.status(401).send('인증 필요'); } try { const userResponse = await axios.get('https://api-server.com/userinfo', { headers: { 'Authorization': `Bearer ${req.session.access_token}` } }); res.json(userResponse.data); } catch (error) { if (error.response \u0026\u0026 error.response.status === 401) { // 토큰 갱신 로직 구현 가능 return res.status(401).send('토큰 만료'); } res.status(500).send('API 호출 오류'); } }); 용어 정리 용어 설명 참고 및 출처 ","wordCount":"1439","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2025-04-03T07:22:00Z","dateModified":"2025-04-03T07:22:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/software-development--engineering/platform-development/backend-development/api-development/token-based-authentication/token-based-authentication-vs-oauth-20/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>HY's Blog</a></div><h1 class="post-title entry-hint-parent">Token Authentication vs. OAuth</h1><div class=post-description>토큰 인증은 사용자의 자격 증명을 한 번만 확인한 후, 서버가 서명된 토큰을 발급하여 클라이언트가 이 토큰을 사용해 자신을 인증하도록 하는 것이다. OAuth 2.0의 핵심 아이디어는 사용자(리소스 소유자)가 비밀번호를 공유하지 않고도 제3자 애플리케이션(클라이언트)에게 자신의 데이터에 대한 특정 접근 권한을 부여할 수 있도록 하는 것이다.</div><div class=post-meta><span title='2025-04-03 07:22:00 +0000 UTC'>April 3, 2025</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Software%20Development%20&%20Engineering/Platform%20Development/Backend%20Development/API%20Development/Token-Based%20Authentication/Token-Based-authentication-vs-oauth-20.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#token-authentication-vs-oauth-20>Token Authentication vs. OAuth 2.0</a><ul><li><a href=#토큰-인증token-authentication>토큰 인증(Token Authentication)</a></li><li><a href=#oauth-20>OAuth 2.0</a></li><li><a href=#심층-분석>심층 분석</a></li><li><a href=#사용-시나리오>사용 시나리오</a></li><li><a href=#하이브리드-접근법>하이브리드 접근법</a></li><li><a href=#보안-고려사항>보안 고려사항</a></li><li><a href=#최신-동향>최신 동향</a></li><li><a href=#토큰-인증-vs-oauth-20-비교>토큰 인증 vs. OAuth 2.0 비교</a></li><li><a href=#실제-구현-예시>실제 구현 예시</a></li></ul></li><li><a href=#용어-정리>용어 정리</a></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=token-authentication-vs-oauth-20>Token Authentication vs. OAuth 2.0<a hidden class=anchor aria-hidden=true href=#token-authentication-vs-oauth-20>#</a></h2><p>토큰 인증(Token Authentication)과 OAuth 2.0은 모두 사용자 인증 및 권한 부여를 처리하는 기술이지만, 목적과 구현 방식에 있어 중요한 차이점을 가지고 있다.</p><h3 id=토큰-인증token-authentication>토큰 인증(Token Authentication)<a hidden class=anchor aria-hidden=true href=#토큰-인증token-authentication>#</a></h3><p>토큰 인증은 사용자가 자격 증명(일반적으로 사용자 이름과 비밀번호)을 한 번 제공한 후, 서버가 생성한 토큰을 사용하여 이후의 요청에서 인증을 수행하는 방식이다.</p><h4 id=기본-개념>기본 개념<a hidden class=anchor aria-hidden=true href=#기본-개념>#</a></h4><p>토큰 인증의 핵심 아이디어는 사용자의 자격 증명을 한 번만 확인한 후, 서버가 서명된 토큰을 발급하여 클라이언트가 이 토큰을 사용해 자신을 인증하도록 하는 것이다. 가장 널리 사용되는 토큰 형식은 JWT(JSON Web Token)이다.</p><h4 id=작동-방식>작동 방식<a hidden class=anchor aria-hidden=true href=#작동-방식>#</a></h4><ol><li><strong>로그인 및 토큰 발급</strong>:<ul><li>사용자가 사용자 이름과 비밀번호를 제출한다.</li><li>서버는 이 자격 증명을 검증하고, 유효할 경우 토큰을 생성한다.</li><li>서버는 토큰을 클라이언트에게 반환한다.</li></ul></li><li><strong>요청 인증</strong>:<ul><li>클라이언트는 토큰을 로컬에 저장한다(로컬 스토리지, 쿠키 등).</li><li>이후 요청 시 클라이언트는 HTTP 헤더(일반적으로 Authorization 헤더)에 토큰을 포함시킨다.</li><li>서버는 토큰을 검증하고, 유효할 경우 요청을 처리한다.</li></ul></li></ol><h4 id=특징>특징<a hidden class=anchor aria-hidden=true href=#특징>#</a></h4><ul><li><strong>무상태(Stateless)</strong>: 서버는 클라이언트 상태를 저장할 필요가 없다.</li><li><strong>확장성</strong>: 여러 서버 간에 인증 정보를 공유할 필요가 없다.</li><li><strong>자가 포함적(Self-contained)</strong>: 토큰 자체에 필요한 정보가 포함될 수 있다.</li><li><strong>간단한 구현</strong>: 기본적인 토큰 인증은 구현이 상대적으로 간단하다.</li></ul><h3 id=oauth-20>OAuth 2.0<a hidden class=anchor aria-hidden=true href=#oauth-20>#</a></h3><p>OAuth 2.0은 인터넷 사용자가 자신의 정보에 대한 접근 권한을 제3자 애플리케이션에 부여할 수 있도록 하는 권한 부여 프레임워크이다.</p><h4 id=기본-개념-1>기본 개념<a hidden class=anchor aria-hidden=true href=#기본-개념-1>#</a></h4><p>OAuth 2.0의 핵심 아이디어는 사용자(리소스 소유자)가 비밀번호를 공유하지 않고도 제3자 애플리케이션(클라이언트)에게 자신의 데이터에 대한 특정 접근 권한을 부여할 수 있도록 하는 것이다.</p><h4 id=작동-방식-1>작동 방식<a hidden class=anchor aria-hidden=true href=#작동-방식-1>#</a></h4><p>OAuth 2.0은 여러 권한 부여 흐름을 지원하며, 가장 일반적인 것은 권한 부여 코드 흐름(Authorization Code Flow)이다:</p><ol><li><strong>초기 요청 및 인증</strong>:<ul><li>클라이언트 애플리케이션은 사용자를 권한 부여 서버로 리디렉션한다.</li><li>사용자는 권한 부여 서버에 로그인하고 요청된 권한을 승인한다.</li></ul></li><li><strong>권한 부여 코드 발급</strong>:<ul><li>권한 부여 서버는 권한 부여 코드와 함께 사용자를 클라이언트로 리디렉션한다.</li></ul></li><li><strong>토큰 교환</strong>:<ul><li>클라이언트는 권한 부여 코드를 권한 부여 서버에 제출하여 접근 토큰(및 선택적으로 리프레시 토큰)을 받는다.</li></ul></li><li><strong>자원 접근</strong>:<ul><li>클라이언트는 접근 토큰을 사용하여 리소스 서버의 보호된 리소스에 접근한다.</li></ul></li></ol><h4 id=특징-1>특징<a hidden class=anchor aria-hidden=true href=#특징-1>#</a></h4><ul><li><strong>위임된 권한 부여</strong>: 사용자는 제3자 애플리케이션에 제한된 접근 권한을 부여한다.</li><li><strong>범위(Scopes)</strong>: 접근 권한의 세분화된 제어를 제공한다.</li><li><strong>여러 흐름</strong>: 다양한 클라이언트 유형에 맞는 여러 권한 부여 흐름을 지원한다.</li><li><strong>표준화</strong>: 널리 채택된 개방형 표준.</li></ul><h3 id=심층-분석>심층 분석<a hidden class=anchor aria-hidden=true href=#심층-분석>#</a></h3><h4 id=주요-차이점>주요 차이점<a hidden class=anchor aria-hidden=true href=#주요-차이점>#</a></h4><ol><li><strong>목적과 용도</strong>:<ul><li>토큰 인증은 주로 사용자를 인증하는 데 중점을 둔다.</li><li>OAuth 2.0은 제3자 애플리케이션에 특정 리소스에 대한 접근 권한을 부여하는 데 중점을 둔다.</li></ul></li><li><strong>접근 방식</strong>:<ul><li>토큰 인증은 단순히 &ldquo;이 사용자가 누구인지&rdquo; 확인한다.</li><li>OAuth 2.0은 &ldquo;이 애플리케이션이 특정 사용자 데이터에 접근할 수 있는지"를 결정한다.</li></ul></li><li><strong>복잡성과 오버헤드</strong>:<ul><li>토큰 인증은 일반적으로 구현이 간단하고 오버헤드가 적다.</li><li>OAuth 2.0은 더 복잡하며, 여러 참여자와 단계가 포함되어 있다.</li></ul></li></ol><h4 id=토큰-인증의-장단점>토큰 인증의 장단점<a hidden class=anchor aria-hidden=true href=#토큰-인증의-장단점>#</a></h4><p><strong>장점</strong>:</p><ul><li>구현이 상대적으로 단순하다.</li><li>서버 측 세션 상태를 유지할 필요가 없어 확장성이 좋다.</li><li>개발 오버헤드가 적다.</li><li>단일 서비스 인증에 효율적이다.</li></ul><p><strong>단점</strong>:</p><ul><li>제3자 애플리케이션 통합에 적합하지 않을 수 있다.</li><li>세밀한 권한 제어가 기본적으로 포함되어 있지 않다.</li><li>토큰 취소 메커니즘이 표준화되어 있지 않다.</li><li>보안 구현이 개발자에게 더 많이 의존한다.</li></ul><h4 id=oauth-20의-장단점>OAuth 2.0의 장단점<a hidden class=anchor aria-hidden=true href=#oauth-20의-장단점>#</a></h4><p><strong>장점</strong>:</p><ul><li>사용자 비밀번호 공유 없이 제3자 애플리케이션에 접근 권한을 부여할 수 있다.</li><li>세밀한 권한 범위(scopes)를 통해 최소 권한 원칙을 적용할 수 있다.</li><li>표준화되어 있어 다양한 서비스 간 호환성이 좋다.</li><li>강력한 보안 기능이 내장되어 있다.</li></ul><p><strong>단점</strong>:</p><ul><li>구현 복잡성이 높다.</li><li>설정 및 유지 관리에 더 많은 노력이 필요하다.</li><li>단순한 인증 요구사항에는 과도할 수 있다.</li><li>사용자 경험에 추가 단계가 필요하다(권한 동의 화면 등).</li></ul><h3 id=사용-시나리오>사용 시나리오<a hidden class=anchor aria-hidden=true href=#사용-시나리오>#</a></h3><h4 id=토큰-인증이-적합한-경우>토큰 인증이 적합한 경우<a hidden class=anchor aria-hidden=true href=#토큰-인증이-적합한-경우>#</a></h4><ul><li>단일 서비스 내 사용자 인증</li><li>간단한 모바일 애플리케이션 API</li><li>마이크로서비스 간 간단한 인증</li><li>개발 시간과 복잡성을 최소화해야 하는 프로젝트</li></ul><h4 id=oauth-20이-적합한-경우>OAuth 2.0이 적합한 경우<a hidden class=anchor aria-hidden=true href=#oauth-20이-적합한-경우>#</a></h4><ul><li>소셜 로그인 구현(&ldquo;구글로 로그인&rdquo;, &ldquo;페이스북으로 로그인&rdquo; 등)</li><li>제3자 애플리케이션에 제한된 접근 권한 부여</li><li>API 마켓플레이스 및 개발자 플랫폼</li><li>다양한 서비스와 통합이 필요한 엔터프라이즈 환경</li><li>사용자 데이터에 대한 세밀한 접근 제어가 필요한 경우</li></ul><h3 id=하이브리드-접근법>하이브리드 접근법<a hidden class=anchor aria-hidden=true href=#하이브리드-접근법>#</a></h3><p>실제 애플리케이션에서는 두 방식을 조합하여 사용하는 경우가 많다:</p><ol><li><strong>OAuth 2.0으로 인증 후 토큰 인증 사용</strong>:<ul><li>OAuth 2.0을 통해 사용자를 인증(소셜 로그인 등)</li><li>인증 후 서비스 자체의 토큰(JWT 등)을 발급하여 내부 API 호출에 사용</li></ul></li><li><strong>내부 서비스에는 토큰 인증, 외부 API에는 OAuth 2.0</strong>:<ul><li>자체 서비스 내에서는 간단한 토큰 인증 사용</li><li>외부 서비스 API 호출 시 OAuth 2.0 사용</li></ul></li><li><strong>OAuth 2.0 + JWT</strong>:<ul><li>OAuth 2.0 프로토콜을 사용하되 JWT 형식의 접근 토큰 발급</li><li>토큰 인증의 자체 포함적 특성과 OAuth의 권한 부여 기능 결합</li></ul></li></ol><h3 id=보안-고려사항>보안 고려사항<a hidden class=anchor aria-hidden=true href=#보안-고려사항>#</a></h3><h4 id=토큰-인증-보안>토큰 인증 보안<a hidden class=anchor aria-hidden=true href=#토큰-인증-보안>#</a></h4><ol><li><strong>안전한 토큰 관리</strong>:<ul><li>HTTPS 사용</li><li>토큰 만료 시간 설정</li><li>안전한 저장소 사용(HttpOnly 쿠키 등)</li></ul></li><li><strong>취약점 방지</strong>:<ul><li>CSRF 공격 대응</li><li>XSS 공격 방지</li><li>토큰 탈취 위험 최소화</li></ul></li></ol><h4 id=oauth-20-보안>OAuth 2.0 보안<a hidden class=anchor aria-hidden=true href=#oauth-20-보안>#</a></h4><ol><li><strong>올바른 흐름 선택</strong>:<ul><li>클라이언트 유형에 맞는 권한 부여 흐름 사용</li><li>공개 클라이언트는 PKCE(Proof Key for Code Exchange) 사용</li></ul></li><li><strong>보안 매개변수</strong>:<ul><li>상태 파라미터 사용(CSRF 방지)</li><li>리디렉션 URI 검증</li><li>범위(scopes) 제한</li></ul></li><li><strong>토큰 보안</strong>:<ul><li>짧은 접근 토큰 수명</li><li>리프레시 토큰 안전한 저장</li><li>토큰 교환 시 클라이언트 인증</li></ul></li></ol><h3 id=최신-동향>최신 동향<a hidden class=anchor aria-hidden=true href=#최신-동향>#</a></h3><ol><li><strong>토큰 인증 발전</strong>:<ul><li>JWT 보안 강화</li><li>토큰 바인딩(Token Binding)</li><li>DPoP(Demonstration of Proof-of-Possession)</li></ul></li><li><strong>OAuth 2.0 발전</strong>:<ul><li>OAuth 2.1 초안</li><li>FAPI(Financial-grade API)</li><li>리소스 지시자(Resource Indicators)</li></ul></li><li><strong>통합 솔루션</strong>:<ul><li>OpenID Connect(OAuth 2.0 위에 구축된 인증 계층)</li><li>자체 발급 OpenID Provider(SIOP)</li><li>디바이스 권한 부여 흐름</li></ul></li></ol><h3 id=토큰-인증-vs-oauth-20-비교>토큰 인증 vs. OAuth 2.0 비교<a hidden class=anchor aria-hidden=true href=#토큰-인증-vs-oauth-20-비교>#</a></h3><table><thead><tr><th>특성</th><th>토큰 인증</th><th>OAuth 2.0</th></tr></thead><tbody><tr><td><strong>주요 목적</strong></td><td>사용자 인증(Authentication)</td><td>권한 부여(Authorization)</td></tr><tr><td><strong>사용 사례</strong></td><td>단일 서비스 내 사용자 인증</td><td>제3자 애플리케이션에 권한 부여</td></tr><tr><td><strong>참여자</strong></td><td>주로 두 당사자(클라이언트와 서버)</td><td>최소 세 당사자(클라이언트, 권한 부여 서버, 리소스 서버) + 사용자</td></tr><tr><td><strong>복잡성</strong></td><td>상대적으로 단순함</td><td>더 복잡함(여러 흐름, 역할, 단계)</td></tr><tr><td><strong>상태 관리</strong></td><td>대부분 무상태(stateless)</td><td>일부 상태 유지 가능(리프레시 토큰 등)</td></tr><tr><td><strong>토큰 유형</strong></td><td>주로 단일 토큰(JWT 등)</td><td>여러 토큰(접근 토큰, 리프레시 토큰 등)</td></tr><tr><td><strong>표준화</strong></td><td>특정 표준이 없음(JWT는 표준화됨)</td><td>RFC 6749로 표준화됨</td></tr><tr><td><strong>통합</strong></td><td>주로 자체 서비스 내</td><td>서로 다른 서비스/애플리케이션 간</td></tr><tr><td><strong>구현 복잡성</strong></td><td>낮음 ~ 중간</td><td>중간 ~ 높음</td></tr><tr><td><strong>인증 흐름</strong></td><td>단순 직접 교환</td><td>여러 흐름(권한 부여 코드, 암시적, 클라이언트 자격 증명 등)</td></tr><tr><td><strong>자격 증명 공유</strong></td><td>클라이언트가 자격 증명 직접 제공</td><td>자격 증명 공유 없음(권한 위임)</td></tr><tr><td><strong>권한 제어</strong></td><td>일반적으로 포괄적</td><td>세밀한 권한 범위(scopes)</td></tr><tr><td><strong>토큰 수명</strong></td><td>구현에 따라 다양함</td><td>일반적으로 접근 토큰(짧음), 리프레시 토큰(김)</td></tr><tr><td><strong>인증 주체</strong></td><td>서비스 자체</td><td>신뢰할 수 있는 제3자</td></tr><tr><td><strong>사용자 경험</strong></td><td>단순한 로그인 절차</td><td>동의 화면, 권한 승인 등 추가 단계</td></tr><tr><td><strong>보안</strong></td><td>구현에 따라 다양함</td><td>여러 보안 계층 내장</td></tr><tr><td><strong>취소 방법</strong></td><td>구현에 따라 다양함</td><td>표준화된 토큰 취소 메커니즘</td></tr><tr><td><strong>적합한 용도</strong></td><td>단일 시스템, 모바일 앱, API</td><td>소셜 로그인, 제3자 API 통합, SSO</td></tr></tbody></table><h3 id=실제-구현-예시>실제 구현 예시<a hidden class=anchor aria-hidden=true href=#실제-구현-예시>#</a></h3><h4 id=토큰-인증-구현-jwt-사용>토큰 인증 구현 (JWT 사용)<a hidden class=anchor aria-hidden=true href=#토큰-인증-구현-jwt-사용>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14>14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15>15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16>16</a>
</span><span class=lnt id=hl-0-17><a class=lnlinks href=#hl-0-17>17</a>
</span><span class=lnt id=hl-0-18><a class=lnlinks href=#hl-0-18>18</a>
</span><span class=lnt id=hl-0-19><a class=lnlinks href=#hl-0-19>19</a>
</span><span class=lnt id=hl-0-20><a class=lnlinks href=#hl-0-20>20</a>
</span><span class=lnt id=hl-0-21><a class=lnlinks href=#hl-0-21>21</a>
</span><span class=lnt id=hl-0-22><a class=lnlinks href=#hl-0-22>22</a>
</span><span class=lnt id=hl-0-23><a class=lnlinks href=#hl-0-23>23</a>
</span><span class=lnt id=hl-0-24><a class=lnlinks href=#hl-0-24>24</a>
</span><span class=lnt id=hl-0-25><a class=lnlinks href=#hl-0-25>25</a>
</span><span class=lnt id=hl-0-26><a class=lnlinks href=#hl-0-26>26</a>
</span><span class=lnt id=hl-0-27><a class=lnlinks href=#hl-0-27>27</a>
</span><span class=lnt id=hl-0-28><a class=lnlinks href=#hl-0-28>28</a>
</span><span class=lnt id=hl-0-29><a class=lnlinks href=#hl-0-29>29</a>
</span><span class=lnt id=hl-0-30><a class=lnlinks href=#hl-0-30>30</a>
</span><span class=lnt id=hl-0-31><a class=lnlinks href=#hl-0-31>31</a>
</span><span class=lnt id=hl-0-32><a class=lnlinks href=#hl-0-32>32</a>
</span><span class=lnt id=hl-0-33><a class=lnlinks href=#hl-0-33>33</a>
</span><span class=lnt id=hl-0-34><a class=lnlinks href=#hl-0-34>34</a>
</span><span class=lnt id=hl-0-35><a class=lnlinks href=#hl-0-35>35</a>
</span><span class=lnt id=hl-0-36><a class=lnlinks href=#hl-0-36>36</a>
</span><span class=lnt id=hl-0-37><a class=lnlinks href=#hl-0-37>37</a>
</span><span class=lnt id=hl-0-38><a class=lnlinks href=#hl-0-38>38</a>
</span><span class=lnt id=hl-0-39><a class=lnlinks href=#hl-0-39>39</a>
</span><span class=lnt id=hl-0-40><a class=lnlinks href=#hl-0-40>40</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Node.js 예시
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 로그인 및 토큰 발급
</span></span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=s1>&#39;/login&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=p>{</span> <span class=nx>username</span><span class=p>,</span> <span class=nx>password</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 사용자 검증 (실제 구현에서는 데이터베이스 조회 등으로 처리)
</span></span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>authenticateUser</span><span class=p>(</span><span class=nx>username</span><span class=p>,</span> <span class=nx>password</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// JWT 토큰 생성
</span></span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>token</span> <span class=o>=</span> <span class=nx>jwt</span><span class=p>.</span><span class=nx>sign</span><span class=p>(</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span> <span class=nx>userId</span><span class=o>:</span> <span class=nx>user</span><span class=p>.</span><span class=nx>id</span><span class=p>,</span> <span class=nx>username</span><span class=o>:</span> <span class=nx>user</span><span class=p>.</span><span class=nx>username</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;your-secret-key&#39;</span><span class=p>,</span>  <span class=c1>// 실제 환경에서는 안전하게 관리해야 함
</span></span></span><span class=line><span class=cl>      <span class=p>{</span> <span class=nx>expiresIn</span><span class=o>:</span> <span class=s1>&#39;1h&#39;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>({</span> <span class=nx>token</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>401</span><span class=p>).</span><span class=nx>json</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=s1>&#39;인증 실패&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 토큰 검증 미들웨어
</span></span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>verifyToken</span><span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>,</span> <span class=nx>next</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>authHeader</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>headers</span><span class=p>[</span><span class=s1>&#39;authorization&#39;</span><span class=p>];</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>token</span> <span class=o>=</span> <span class=nx>authHeader</span> <span class=o>&amp;&amp;</span> <span class=nx>authHeader</span><span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>)[</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>token</span><span class=p>)</span> <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>401</span><span class=p>).</span><span class=nx>json</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=s1>&#39;토큰 없음&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>jwt</span><span class=p>.</span><span class=nx>verify</span><span class=p>(</span><span class=nx>token</span><span class=p>,</span> <span class=s1>&#39;your-secret-key&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>err</span><span class=p>,</span> <span class=nx>user</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>403</span><span class=p>).</span><span class=nx>json</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=s1>&#39;토큰 무효&#39;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>req</span><span class=p>.</span><span class=nx>user</span> <span class=o>=</span> <span class=nx>user</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>next</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 보호된 리소스 접근
</span></span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/api/protected&#39;</span><span class=p>,</span> <span class=nx>verifyToken</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>({</span> <span class=nx>message</span><span class=o>:</span> <span class=s1>&#39;보호된 데이터&#39;</span><span class=p>,</span> <span class=nx>user</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>user</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=oauth-20-구현-권한-부여-코드-흐름>OAuth 2.0 구현 (권한 부여 코드 흐름)<a hidden class=anchor aria-hidden=true href=#oauth-20-구현-권한-부여-코드-흐름>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11>11</a>
</span><span class=lnt id=hl-1-12><a class=lnlinks href=#hl-1-12>12</a>
</span><span class=lnt id=hl-1-13><a class=lnlinks href=#hl-1-13>13</a>
</span><span class=lnt id=hl-1-14><a class=lnlinks href=#hl-1-14>14</a>
</span><span class=lnt id=hl-1-15><a class=lnlinks href=#hl-1-15>15</a>
</span><span class=lnt id=hl-1-16><a class=lnlinks href=#hl-1-16>16</a>
</span><span class=lnt id=hl-1-17><a class=lnlinks href=#hl-1-17>17</a>
</span><span class=lnt id=hl-1-18><a class=lnlinks href=#hl-1-18>18</a>
</span><span class=lnt id=hl-1-19><a class=lnlinks href=#hl-1-19>19</a>
</span><span class=lnt id=hl-1-20><a class=lnlinks href=#hl-1-20>20</a>
</span><span class=lnt id=hl-1-21><a class=lnlinks href=#hl-1-21>21</a>
</span><span class=lnt id=hl-1-22><a class=lnlinks href=#hl-1-22>22</a>
</span><span class=lnt id=hl-1-23><a class=lnlinks href=#hl-1-23>23</a>
</span><span class=lnt id=hl-1-24><a class=lnlinks href=#hl-1-24>24</a>
</span><span class=lnt id=hl-1-25><a class=lnlinks href=#hl-1-25>25</a>
</span><span class=lnt id=hl-1-26><a class=lnlinks href=#hl-1-26>26</a>
</span><span class=lnt id=hl-1-27><a class=lnlinks href=#hl-1-27>27</a>
</span><span class=lnt id=hl-1-28><a class=lnlinks href=#hl-1-28>28</a>
</span><span class=lnt id=hl-1-29><a class=lnlinks href=#hl-1-29>29</a>
</span><span class=lnt id=hl-1-30><a class=lnlinks href=#hl-1-30>30</a>
</span><span class=lnt id=hl-1-31><a class=lnlinks href=#hl-1-31>31</a>
</span><span class=lnt id=hl-1-32><a class=lnlinks href=#hl-1-32>32</a>
</span><span class=lnt id=hl-1-33><a class=lnlinks href=#hl-1-33>33</a>
</span><span class=lnt id=hl-1-34><a class=lnlinks href=#hl-1-34>34</a>
</span><span class=lnt id=hl-1-35><a class=lnlinks href=#hl-1-35>35</a>
</span><span class=lnt id=hl-1-36><a class=lnlinks href=#hl-1-36>36</a>
</span><span class=lnt id=hl-1-37><a class=lnlinks href=#hl-1-37>37</a>
</span><span class=lnt id=hl-1-38><a class=lnlinks href=#hl-1-38>38</a>
</span><span class=lnt id=hl-1-39><a class=lnlinks href=#hl-1-39>39</a>
</span><span class=lnt id=hl-1-40><a class=lnlinks href=#hl-1-40>40</a>
</span><span class=lnt id=hl-1-41><a class=lnlinks href=#hl-1-41>41</a>
</span><span class=lnt id=hl-1-42><a class=lnlinks href=#hl-1-42>42</a>
</span><span class=lnt id=hl-1-43><a class=lnlinks href=#hl-1-43>43</a>
</span><span class=lnt id=hl-1-44><a class=lnlinks href=#hl-1-44>44</a>
</span><span class=lnt id=hl-1-45><a class=lnlinks href=#hl-1-45>45</a>
</span><span class=lnt id=hl-1-46><a class=lnlinks href=#hl-1-46>46</a>
</span><span class=lnt id=hl-1-47><a class=lnlinks href=#hl-1-47>47</a>
</span><span class=lnt id=hl-1-48><a class=lnlinks href=#hl-1-48>48</a>
</span><span class=lnt id=hl-1-49><a class=lnlinks href=#hl-1-49>49</a>
</span><span class=lnt id=hl-1-50><a class=lnlinks href=#hl-1-50>50</a>
</span><span class=lnt id=hl-1-51><a class=lnlinks href=#hl-1-51>51</a>
</span><span class=lnt id=hl-1-52><a class=lnlinks href=#hl-1-52>52</a>
</span><span class=lnt id=hl-1-53><a class=lnlinks href=#hl-1-53>53</a>
</span><span class=lnt id=hl-1-54><a class=lnlinks href=#hl-1-54>54</a>
</span><span class=lnt id=hl-1-55><a class=lnlinks href=#hl-1-55>55</a>
</span><span class=lnt id=hl-1-56><a class=lnlinks href=#hl-1-56>56</a>
</span><span class=lnt id=hl-1-57><a class=lnlinks href=#hl-1-57>57</a>
</span><span class=lnt id=hl-1-58><a class=lnlinks href=#hl-1-58>58</a>
</span><span class=lnt id=hl-1-59><a class=lnlinks href=#hl-1-59>59</a>
</span><span class=lnt id=hl-1-60><a class=lnlinks href=#hl-1-60>60</a>
</span><span class=lnt id=hl-1-61><a class=lnlinks href=#hl-1-61>61</a>
</span><span class=lnt id=hl-1-62><a class=lnlinks href=#hl-1-62>62</a>
</span><span class=lnt id=hl-1-63><a class=lnlinks href=#hl-1-63>63</a>
</span><span class=lnt id=hl-1-64><a class=lnlinks href=#hl-1-64>64</a>
</span><span class=lnt id=hl-1-65><a class=lnlinks href=#hl-1-65>65</a>
</span><span class=lnt id=hl-1-66><a class=lnlinks href=#hl-1-66>66</a>
</span><span class=lnt id=hl-1-67><a class=lnlinks href=#hl-1-67>67</a>
</span><span class=lnt id=hl-1-68><a class=lnlinks href=#hl-1-68>68</a>
</span><span class=lnt id=hl-1-69><a class=lnlinks href=#hl-1-69>69</a>
</span><span class=lnt id=hl-1-70><a class=lnlinks href=#hl-1-70>70</a>
</span><span class=lnt id=hl-1-71><a class=lnlinks href=#hl-1-71>71</a>
</span><span class=lnt id=hl-1-72><a class=lnlinks href=#hl-1-72>72</a>
</span><span class=lnt id=hl-1-73><a class=lnlinks href=#hl-1-73>73</a>
</span><span class=lnt id=hl-1-74><a class=lnlinks href=#hl-1-74>74</a>
</span><span class=lnt id=hl-1-75><a class=lnlinks href=#hl-1-75>75</a>
</span><span class=lnt id=hl-1-76><a class=lnlinks href=#hl-1-76>76</a>
</span><span class=lnt id=hl-1-77><a class=lnlinks href=#hl-1-77>77</a>
</span><span class=lnt id=hl-1-78><a class=lnlinks href=#hl-1-78>78</a>
</span><span class=lnt id=hl-1-79><a class=lnlinks href=#hl-1-79>79</a>
</span><span class=lnt id=hl-1-80><a class=lnlinks href=#hl-1-80>80</a>
</span><span class=lnt id=hl-1-81><a class=lnlinks href=#hl-1-81>81</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Node.js 예시 (간소화됨)
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 클라이언트 설정
</span></span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>config</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>client_id</span><span class=o>:</span> <span class=s1>&#39;your-client-id&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>client_secret</span><span class=o>:</span> <span class=s1>&#39;your-client-secret&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>redirect_uri</span><span class=o>:</span> <span class=s1>&#39;http://your-app.com/callback&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>authorization_endpoint</span><span class=o>:</span> <span class=s1>&#39;https://auth-server.com/authorize&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>token_endpoint</span><span class=o>:</span> <span class=s1>&#39;https://auth-server.com/token&#39;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 인증 시작
</span></span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/login&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 상태 파라미터 생성 (CSRF 방지)
</span></span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>state</span> <span class=o>=</span> <span class=nx>crypto</span><span class=p>.</span><span class=nx>randomBytes</span><span class=p>(</span><span class=mi>16</span><span class=p>).</span><span class=nx>toString</span><span class=p>(</span><span class=s1>&#39;hex&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>req</span><span class=p>.</span><span class=nx>session</span><span class=p>.</span><span class=nx>oauth_state</span> <span class=o>=</span> <span class=nx>state</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 권한 부여 서버로 리디렉션
</span></span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>authUrl</span> <span class=o>=</span> <span class=sb>`</span><span class=si>${</span><span class=nx>config</span><span class=p>.</span><span class=nx>authorization_endpoint</span><span class=si>}</span><span class=sb>?`</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>    <span class=sb>`client_id=</span><span class=si>${</span><span class=nx>config</span><span class=p>.</span><span class=nx>client_id</span><span class=si>}</span><span class=sb>&amp;`</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>    <span class=sb>`redirect_uri=</span><span class=si>${</span><span class=nb>encodeURIComponent</span><span class=p>(</span><span class=nx>config</span><span class=p>.</span><span class=nx>redirect_uri</span><span class=p>)</span><span class=si>}</span><span class=sb>&amp;`</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>    <span class=sb>`response_type=code&amp;`</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>    <span class=sb>`state=</span><span class=si>${</span><span class=nx>state</span><span class=si>}</span><span class=sb>&amp;`</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>    <span class=sb>`scope=profile email`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>res</span><span class=p>.</span><span class=nx>redirect</span><span class=p>(</span><span class=nx>authUrl</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 콜백 처리
</span></span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/callback&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=p>{</span> <span class=nx>code</span><span class=p>,</span> <span class=nx>state</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>req</span><span class=p>.</span><span class=nx>query</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 상태 검증
</span></span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>state</span> <span class=o>!==</span> <span class=nx>req</span><span class=p>.</span><span class=nx>session</span><span class=p>.</span><span class=nx>oauth_state</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>403</span><span class=p>).</span><span class=nx>send</span><span class=p>(</span><span class=s1>&#39;상태 불일치, CSRF 공격 가능성&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 권한 부여 코드를 토큰으로 교환
</span></span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>tokenResponse</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>axios</span><span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=nx>config</span><span class=p>.</span><span class=nx>token_endpoint</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>grant_type</span><span class=o>:</span> <span class=s1>&#39;authorization_code&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>code</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>redirect_uri</span><span class=o>:</span> <span class=nx>config</span><span class=p>.</span><span class=nx>redirect_uri</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>client_id</span><span class=o>:</span> <span class=nx>config</span><span class=p>.</span><span class=nx>client_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>client_secret</span><span class=o>:</span> <span class=nx>config</span><span class=p>.</span><span class=nx>client_secret</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=p>{</span> <span class=nx>access_token</span><span class=p>,</span> <span class=nx>refresh_token</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>tokenResponse</span><span class=p>.</span><span class=nx>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 토큰 저장
</span></span></span><span class=line><span class=cl>    <span class=nx>req</span><span class=p>.</span><span class=nx>session</span><span class=p>.</span><span class=nx>access_token</span> <span class=o>=</span> <span class=nx>access_token</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>req</span><span class=p>.</span><span class=nx>session</span><span class=p>.</span><span class=nx>refresh_token</span> <span class=o>=</span> <span class=nx>refresh_token</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>res</span><span class=p>.</span><span class=nx>redirect</span><span class=p>(</span><span class=s1>&#39;/dashboard&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>send</span><span class=p>(</span><span class=s1>&#39;토큰 교환 오류&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 보호된 API 호출
</span></span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/api/userinfo&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>req</span><span class=p>.</span><span class=nx>session</span><span class=p>.</span><span class=nx>access_token</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>401</span><span class=p>).</span><span class=nx>send</span><span class=p>(</span><span class=s1>&#39;인증 필요&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>userResponse</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>axios</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;https://api-server.com/userinfo&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>headers</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;Authorization&#39;</span><span class=o>:</span> <span class=sb>`Bearer </span><span class=si>${</span><span class=nx>req</span><span class=p>.</span><span class=nx>session</span><span class=p>.</span><span class=nx>access_token</span><span class=si>}</span><span class=sb>`</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>(</span><span class=nx>userResponse</span><span class=p>.</span><span class=nx>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>error</span><span class=p>.</span><span class=nx>response</span> <span class=o>&amp;&amp;</span> <span class=nx>error</span><span class=p>.</span><span class=nx>response</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=mi>401</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 토큰 갱신 로직 구현 가능
</span></span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>401</span><span class=p>).</span><span class=nx>send</span><span class=p>(</span><span class=s1>&#39;토큰 만료&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>send</span><span class=p>(</span><span class=s1>&#39;API 호출 오류&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/backend-development/>Backend-Development</a></li><li><a href=https://buenhyden.github.io/tags/api-design/>API-Design</a></li><li><a href=https://buenhyden.github.io/tags/authentication-methods/>Authentication-Methods</a></li><li><a href=https://buenhyden.github.io/tags/token-authentication/>Token-Authentication</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/software-development--engineering/platform-development/backend-development/api-development/token-based-authentication/token-based-authentication-vs-jwt/><span class=title>« Prev</span><br><span>Token Authentication vs. JWT</span>
</a><a class=next href=https://buenhyden.github.io/posts/software-development--engineering/platform-development/backend-development/api-development/token-based-authentication/token-based-authentication-vs-openid-connect/><span class=title>Next »</span><br><span>Token Authentication vs. OpenID Connect</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2026 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>