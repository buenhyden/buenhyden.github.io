<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Hollywood Principle | hyunyoun's Blog</title>
<meta name=keywords content="Software-Design-and-Architecture,Design-Principles"><meta name=description content="고수준 컴포넌트가 저수준 컴포넌트를 언제 어떻게 호출할지 제어하되, 저수준 컴포넌트는 고수준 컴포넌트를 직접 호출하지 않도록 하는 것이다"><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/software-design-and-architecture/design-principles/hollywood-principle/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.8762af4fa9ee176c57f72565b721f234162fc7a9c882a271e0a1f68c4e89fb34.css integrity="sha256-h2KvT6nuF2xX9yVltyHyNBYvx6nIgqJx4KH2jE6J+zQ=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/software-design-and-architecture/design-principles/hollywood-principle/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/software-design-and-architecture/design-principles/hollywood-principle/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Hollywood Principle"><meta property="og:description" content="고수준 컴포넌트가 저수준 컴포넌트를 언제 어떻게 호출할지 제어하되, 저수준 컴포넌트는 고수준 컴포넌트를 직접 호출하지 않도록 하는 것이다"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-02-04T14:27:00+00:00"><meta property="article:modified_time" content="2025-02-04T14:27:00+00:00"><meta property="article:tag" content="Software-Design-and-Architecture"><meta property="article:tag" content="Design-Principles"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Hollywood Principle"><meta name=twitter:description content="고수준 컴포넌트가 저수준 컴포넌트를 언제 어떻게 호출할지 제어하되, 저수준 컴포넌트는 고수준 컴포넌트를 직접 호출하지 않도록 하는 것이다"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"posts","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Software Design and Architecture","item":"https://buenhyden.github.io/posts/software-design-and-architecture/"},{"@type":"ListItem","position":3,"name":"Design Principles","item":"https://buenhyden.github.io/posts/software-design-and-architecture/design-principles/"},{"@type":"ListItem","position":4,"name":"Hollywood Principle","item":"https://buenhyden.github.io/posts/software-design-and-architecture/design-principles/hollywood-principle/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Hollywood Principle","name":"Hollywood Principle","description":"고수준 컴포넌트가 저수준 컴포넌트를 언제 어떻게 호출할지 제어하되, 저수준 컴포넌트는 고수준 컴포넌트를 직접 호출하지 않도록 하는 것이다","keywords":["Software-Design-and-Architecture","Design-Principles"],"articleBody":"Hollywood Principle 할리우드 원칙은 “먼저 연락하지 마세요. 저희가 연락드리겠습니다(Don’t call us, we’ll call you)“라는 문구에서 이름을 따온 소프트웨어 설계 원칙이다.\n이 표현은 할리우드 오디션에서 배우들에게 자주 하던 말에서 유래했다. 소프트웨어 설계에서 이 원칙은 제어 흐름의 역전을 의미하며, 고수준 컴포넌트가 저수준 컴포넌트를 직접 호출하는 대신, 상위 수준의 컴포넌트가 하위 수준의 컴포넌트를 직접 호출하지 않고, 추상화된 인터페이스를 통해 상호작용하도록 하는 구조를 만드는 것을 권장한다.\n이 원칙은 템플릿 메서드, 옵저버, 의존성 주입과 같은 다양한 디자인 패턴의 기반이 되며, 현대적인 프레임워크와 리액티브 프로그래밍, 함수형 프로그래밍에서도 널리 활용된다.\n할리우드 원칙의 핵심은 고수준 컴포넌트가 저수준 컴포넌트를 언제 어떻게 호출할지 제어하되, 저수준 컴포넌트는 고수준 컴포넌트를 직접 호출하지 않도록 하는 것이다. 이를 통해 의존성 부패를 방지하고, 시스템의 모듈성과 유지보수성을 향상시킬 수 있다.\n프레임워크와 라이브러리의 차이점 중 하나는 바로 이 할리우드 원칙의 적용 여부이다. 프레임워크는 할리우드 원칙을 따르며 제어 흐름을 관리하지만, 라이브러리는 개발자가 직접 호출하는 방식으로 사용된다.\n할리우드 원칙을 효과적으로 적용하려면 추상화, 인터페이스, 콜백, 이벤트 등의 메커니즘을 이해하고 활용해야 한다. 또한 이 원칙이 모든 상황에 적합한 것은 아니므로, 시스템의 복잡성과 요구사항을 고려하여 적절히 적용하는 것이 중요하다.\n할리우드 원칙의 정의와 목적 할리우드 원칙은 소프트웨어 시스템에서 의존성 부패(dependency rot)를 방지하기 위한 설계 접근법이다.\n의존성 부패란 여러 컴포넌트 간의 복잡한 상호 의존 관계가 형성되어 시스템이 이해하기 어렵고 유지보수하기 힘들어지는 상태를 말한다.\n이 원칙의 주요 목적은 다음과 같다:\n의존성 역전: 전통적인 호출 계층 구조를 뒤집어 저수준 컴포넌트가 고수준 컴포넌트에 의존하게 한다. 결합도 감소: 컴포넌트 간의 직접적인 의존성을 줄여 결합도를 낮춘다. 제어 흐름 중앙화: 프레임워크나 고수준 컴포넌트가 전체 제어 흐름을 관리하게 한다. 확장성 향상: 기존 코드를 수정하지 않고 새로운 기능을 추가할 수 있게 한다. 할리우드 원칙의 역사와 배경 할리우드 원칙이라는 용어는 1980년대 말에서 1990년대 초에 객체지향 프로그래밍 커뮤니티에서 처음 사용되기 시작했다. 리차드 스윗(Richard Sweet)이 Smalltalk 언어의 MVC(Model-View-Controller) 패턴에 대해 설명하면서 이 용어를 사용했고, 나중에 랄프 존슨(Ralph Johnson)과 브라이언 푸트(Brian Foote)가 이를 더 널리 알렸다.\n이 원칙은 제어 역전(Inversion of Control, IoC)의 한 형태로, SOLID 원칙 중 의존성 역전 원칙(Dependency Inversion Principle, DIP)과 밀접한 관련이 있다. 하지만 할리우드 원칙은 특히 프레임워크와 라이브러리의 관계에서 이 개념을 설명할 때 자주 사용된다.\n할리우드 원칙 vs. 제어 역전 할리우드 원칙과 제어 역전(IoC)은 종종 같은 개념으로 혼용되지만, 미세한 차이가 있다:\n제어 역전(IoC): 더 넓은 개념으로, 프로그램의 제어 흐름이 사용자 코드에서 프레임워크나 컨테이너로 이동하는 모든 기법을 포함한다. 의존성 주입(DI), 서비스 로케이터, 이벤트 기반 프로그래밍 등이 모두 IoC의 형태이다.\n할리우드 원칙: IoC의 특정 형태로, 특히 “너는 나를 호출하지 말고, 내가 너를 호출할게\"라는 관점에 초점을 맞춘다. 주로 콜백, 템플릿 메서드, 옵저버 패턴 등의 형태로 구현된다.\n할리우드 원칙의 구현 방법 할리우드 원칙은 다양한 디자인 패턴과 프로그래밍 기법을 통해 구현할 수 있다:\n템플릿 메서드 패턴(Template Method Pattern) 템플릿 메서드 패턴은 할리우드 원칙의 가장 대표적인 구현 방법이다.\n이 패턴에서는 알고리즘의 구조를 상위 클래스에 정의하고, 특정 단계의 구현은 하위 클래스에 위임한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 // 추상 클래스 - 고수준 컴포넌트 abstract class DataProcessor { // 템플릿 메서드 public final void processData() { openFile(); readData(); processSpecificData(); // 하위 클래스에서 구현할 추상 메서드 writeData(); closeFile(); } private void openFile() { System.out.println(\"파일 열기\"); } private void readData() { System.out.println(\"데이터 읽기\"); } protected abstract void processSpecificData(); // 하위 클래스에서 구현 private void writeData() { System.out.println(\"데이터 쓰기\"); } private void closeFile() { System.out.println(\"파일 닫기\"); } } // 구체 클래스 - 저수준 컴포넌트 class CSVDataProcessor extends DataProcessor { @Override protected void processSpecificData() { System.out.println(\"CSV 데이터 처리\"); } } class XMLDataProcessor extends DataProcessor { @Override protected void processSpecificData() { System.out.println(\"XML 데이터 처리\"); } } // 클라이언트 코드 public class Main { public static void main(String[] args) { DataProcessor processor = new CSVDataProcessor(); processor.processData(); // 고수준 컴포넌트가 제어 흐름을 관리 } } 이 예제에서 DataProcessor(고수준 컴포넌트)는 데이터 처리의 전체 흐름을 제어하고, CSVDataProcessor와 XMLDataProcessor(저수준 컴포넌트)는 특정 데이터 형식에 맞는 처리 로직만 구현한다.\n저수준 컴포넌트는 고수준 컴포넌트의 processData() 메서드에 의해 호출되지만, 저수준 컴포넌트가 고수준 컴포넌트를 직접 호출하지는 않는다.\n콜백(Callbacks) 콜백은 할리우드 원칙을 구현하는 또 다른 일반적인 방법이다. 특히 이벤트 기반 프로그래밍이나 비동기 프로그래밍에서 널리 사용된다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 // JavaScript에서의 콜백 예제 function fetchData(url, callback) { // 데이터 가져오기 fetch(url) .then(response =\u003e response.json()) .then(data =\u003e { // 데이터를 가져온 후 콜백 호출 callback(data); }) .catch(error =\u003e { console.error('Error:', error); }); } // 클라이언트 코드 fetchData('https://api.example.com/data', function(data) { console.log('데이터 처리:', data); }); 이 예제에서 fetchData 함수(고수준 컴포넌트)는 HTTP 요청의 전체 흐름을 제어하고, 클라이언트 코드가 제공한 콜백 함수(저수준 컴포넌트)는 데이터가 준비되었을 때 호출된다. 클라이언트는 fetchData의 내부 동작을 알 필요가 없으며, 데이터가 준비되면 자신의 콜백 함수가 호출될 것이라는 점만 알면 된다.\n옵저버 패턴(Observer Pattern) 옵저버 패턴은 객체 간의 일대다 의존 관계를 정의하여, 한 객체의 상태가 변경되면 의존하는 모든 객체에 자동으로 알림이 가는 패턴이다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 // 옵저버 인터페이스 interface Observer { void update(String event, Object data); } // 주제(Subject) 클래스 class EventManager { private Map\u003cString, List\u003cObserver\u003e\u003e observers = new HashMap\u003c\u003e(); public void subscribe(String eventType, Observer observer) { observers.computeIfAbsent(eventType, k -\u003e new ArrayList\u003c\u003e()).add(observer); } public void unsubscribe(String eventType, Observer observer) { if (observers.containsKey(eventType)) { observers.get(eventType).remove(observer); } } public void notify(String eventType, Object data) { if (observers.containsKey(eventType)) { for (Observer observer : observers.get(eventType)) { observer.update(eventType, data); } } } } // 구체적인 주제 class Editor { private EventManager events; private File file; public Editor() { this.events = new EventManager(); } public void openFile(String filePath) { this.file = new File(filePath); events.notify(\"open\", file); } public void saveFile() { // 파일 저장 로직 events.notify(\"save\", file); } public EventManager getEventManager() { return events; } } // 구체적인 옵저버 class LoggingListener implements Observer { private String logFileName; public LoggingListener(String logFileName) { this.logFileName = logFileName; } @Override public void update(String eventType, Object data) { System.out.println(\"로그 작성: \" + eventType + \", 데이터: \" + data + \", 로그 파일: \" + logFileName); } } // 클라이언트 코드 public class Main { public static void main(String[] args) { Editor editor = new Editor(); LoggingListener logger = new LoggingListener(\"log.txt\"); editor.getEventManager().subscribe(\"open\", logger); editor.getEventManager().subscribe(\"save\", logger); editor.openFile(\"test.txt\"); editor.saveFile(); } } 이 예제에서 Editor(주제, 고수준 컴포넌트)는 파일 열기와 저장의 전체 흐름을 제어하고, LoggingListener(옵저버, 저수준 컴포넌트)는 이벤트가 발생했을 때 알림을 받아 로깅 작업을 수행한다. 옵저버는 주제에 등록되지만, 주제가 적절한 시점에 옵저버를 호출하는 방식으로 제어 흐름이 역전된다.\n의존성 주입(Dependency Injection) 의존성 주입은 할리우드 원칙을 구현하는 현대적인 방법 중 하나로, 특히 Spring과 같은 프레임워크에서 널리 사용된다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 // 인터페이스 interface MessageService { String getMessage(); } // 구현체 class EmailService implements MessageService { @Override public String getMessage() { return \"이메일 메시지\"; } } class SMSService implements MessageService { @Override public String getMessage() { return \"SMS 메시지\"; } } // 클라이언트 class MessageClient { private final MessageService service; // 의존성 주입 public MessageClient(MessageService service) { this.service = service; } public void processMessage() { String message = service.getMessage(); System.out.println(\"처리된 메시지: \" + message); } } // Spring 설정 (Java 기반) @Configuration public class AppConfig { @Bean public MessageService messageService() { return new EmailService(); } @Bean public MessageClient messageClient(MessageService service) { return new MessageClient(service); } } // 메인 애플리케이션 public class Main { public static void main(String[] args) { ApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class); MessageClient client = context.getBean(MessageClient.class); client.processMessage(); } } 이 예제에서 Spring 컨테이너(고수준 컴포넌트)는 MessageService 구현체를 생성하고 MessageClient에 주입하는 과정을 제어한다. 클라이언트 코드는 의존성을 직접 생성하거나 관리하지 않고, 컨테이너가 적절한 시점에 필요한 의존성을 제공한다.\n할리우드 원칙과 일반적인 디자인 패턴 할리우드 원칙은 여러 디자인 패턴의 기반이 되며, 다음과 같은 패턴들과 밀접한 관련이 있다:\n템플릿 메서드 패턴(Template Method Pattern) 앞서 설명한 대로, 템플릿 메서드 패턴은 할리우드 원칙의 전형적인 예.\n알고리즘의 구조는 상위 클래스에서 정의하고, 특정 단계는 하위 클래스에서 구현하도록 한다.\n전략 패턴(Strategy Pattern) 전략 패턴은 알고리즘을 캡슐화하고 런타임에 알고리즘을 교체할 수 있게 한다.\n이 패턴에서 컨텍스트(고수준 컴포넌트)는 전략(저수준 컴포넌트)을 호출하지만, 전략이 컨텍스트를 직접 호출하지는 않는다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 // 전략 인터페이스 interface SortStrategy { void sort(int[] array); } // 구체적인 전략 class QuickSort implements SortStrategy { @Override public void sort(int[] array) { System.out.println(\"퀵 정렬 수행\"); // 퀵 정렬 알고리즘 구현 } } class MergeSort implements SortStrategy { @Override public void sort(int[] array) { System.out.println(\"병합 정렬 수행\"); // 병합 정렬 알고리즘 구현 } } // 컨텍스트 class Sorter { private SortStrategy strategy; public void setStrategy(SortStrategy strategy) { this.strategy = strategy; } public void sortArray(int[] array) { // 전처리 System.out.println(\"정렬 전 배열 검증\"); // 전략 실행 - 할리우드 원칙 적용 strategy.sort(array); // 후처리 System.out.println(\"정렬 후 검증\"); } } // 클라이언트 코드 public class Main { public static void main(String[] args) { Sorter sorter = new Sorter(); int[] array = {5, 2, 7, 1, 3}; sorter.setStrategy(new QuickSort()); sorter.sortArray(array); sorter.setStrategy(new MergeSort()); sorter.sortArray(array); } } 옵저버 패턴(Observer Pattern) 앞서 설명한 옵저버 패턴도 할리우드 원칙의 좋은 예.\n주제가 상태 변경 시 등록된 옵저버들을 호출하는 방식으로 제어 흐름이 역전된다.\n비지터 패턴(Visitor Pattern) 비지터 패턴은 객체 구조와 연산을 분리하는 패턴으로, 객체가 방문자(visitor)를 받아들이고 적절한 메서드를 호출하도록 한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 // 방문자 인터페이스 interface Visitor { void visit(Circle circle); void visit(Rectangle rectangle); void visit(Triangle triangle); } // 요소 인터페이스 interface Shape { void accept(Visitor visitor); } // 구체적인 요소 class Circle implements Shape { private double radius; public Circle(double radius) { this.radius = radius; } public double getRadius() { return radius; } @Override public void accept(Visitor visitor) { visitor.visit(this); // 할리우드 원칙 적용 } } class Rectangle implements Shape { private double width; private double height; public Rectangle(double width, double height) { this.width = width; this.height = height; } public double getWidth() { return width; } public double getHeight() { return height; } @Override public void accept(Visitor visitor) { visitor.visit(this); // 할리우드 원칙 적용 } } class Triangle implements Shape { private double base; private double height; public Triangle(double base, double height) { this.base = base; this.height = height; } public double getBase() { return base; } public double getHeight() { return height; } @Override public void accept(Visitor visitor) { visitor.visit(this); // 할리우드 원칙 적용 } } // 구체적인 방문자 class AreaCalculator implements Visitor { @Override public void visit(Circle circle) { double area = Math.PI * circle.getRadius() * circle.getRadius(); System.out.println(\"원의 면적: \" + area); } @Override public void visit(Rectangle rectangle) { double area = rectangle.getWidth() * rectangle.getHeight(); System.out.println(\"사각형의 면적: \" + area); } @Override public void visit(Triangle triangle) { double area = 0.5 * triangle.getBase() * triangle.getHeight(); System.out.println(\"삼각형의 면적: \" + area); } } // 클라이언트 코드 public class Main { public static void main(String[] args) { List\u003cShape\u003e shapes = new ArrayList\u003c\u003e(); shapes.add(new Circle(5)); shapes.add(new Rectangle(4, 6)); shapes.add(new Triangle(3, 8)); Visitor areaCalculator = new AreaCalculator(); for (Shape shape : shapes) { shape.accept(areaCalculator); // 요소가 방문자를 수용하고, 방문자가 적절한 메서드 호출 } } } 프레임워크와 라이브러리에서의 할리우드 원칙 할리우드 원칙은 프레임워크와 라이브러리를 구분하는 중요한 특징 중 하나이다:\n프레임워크: 할리우드 원칙 적용 프레임워크는 할리우드 원칙을 따른다.\n개발자는 프레임워크에 자신의 코드를 등록하고, 프레임워크가 적절한 시점에 이 코드를 호출한다.\n예를 들어, Spring 프레임워크에서는:\n1 2 3 4 5 6 7 8 9 10 11 12 13 // Spring MVC 컨트롤러 @Controller public class UserController { @Autowired private UserService userService; @GetMapping(\"/users/{id}\") public String getUserProfile(@PathVariable Long id, Model model) { User user = userService.findById(id); model.addAttribute(\"user\", user); return \"userProfile\"; } } 이 예제에서 개발자는 UserController를 구현하고 적절한 어노테이션으로 표시하면, Spring 프레임워크가 HTTP 요청이 들어오면 적절한 핸들러 메서드를 호출한다. 개발자는 프레임워크의 내부 동작을 알 필요가 없으며, 프레임워크가 적절한 시점에 자신의 코드를 호출할 것이라는 점만 알면 된다.\n라이브러리: 전통적인 호출 방식 반면, 라이브러리는 전통적인 호출 방식을 따른다. 개발자가 라이브러리의 함수나 메서드를 직접 호출한다.\n1 2 3 4 5 6 7 8 // Java의 Collections 라이브러리 사용 List\u003cString\u003e names = new ArrayList\u003c\u003e(); names.add(\"Alice\"); names.add(\"Bob\"); names.add(\"Charlie\"); // 개발자가 직접 라이브러리 메서드 호출 Collections.sort(names); 이 예제에서 개발자는 Collections.sort() 메서드를 직접 호출하여 리스트를 정렬한다. 라이브러리는 개발자의 코드를 호출하지 않습니다.\n할리우드 원칙의 장점 할리우드 원칙을 적용하면 다양한 이점이 있다:\n의존성 감소\n고수준 컴포넌트가 저수준 컴포넌트를 직접 호출하는 대신, 저수준 컴포넌트를 호출할 수 있는 방법을 제공함으로써 의존성을 줄인다. 이는 시스템의 결합도를 낮추고 유지보수성을 향상시킨다.\n제어 흐름 중앙화\n프로그램의 제어 흐름을 중앙화하여 전체 흐름을 더 쉽게 이해하고 관리할 수 있게 한다. 중앙화된 제어 흐름은 디버깅과 테스트가 더 쉽다.\n확장성 향상\n시스템의 핵심 구조를 변경하지 않고도 새로운 기능을 추가할 수 있어 확장성이 향상된다. 예를 들어, 템플릿 메서드 패턴에서는 새로운 알고리즘 변형을 추가하기 위해 새로운 하위 클래스만 추가하면 된다.\n관심사 분리\n고수준 정책(제어 흐름)과 저수준 세부사항(구체적인 구현)을 분리할 수 있어 각각을 독립적으로 발전시킬 수 있다. 이는 코드의 모듈성을 향상시키고 변경 사항의 영향 범위를 제한한다.\n병렬 개발 촉진\n인터페이스나 추상 클래스가 명확하게 정의되면, 여러 개발자가 고수준 컴포넌트와 저수준 컴포넌트를 동시에 개발할 수 있다. 이는 대규모 프로젝트에서 개발 효율성을 높인다.\n코드 재사용성 향상\n공통 로직은 고수준 컴포넌트에 한 번만 구현하고, 변화하는 부분만 저수준 컴포넌트에서 구현함으로써 코드 재사용성이 향상된다.\n할리우드 원칙의 도전과 주의사항 할리우드 원칙을 적용할 때는 몇 가지 도전과 주의사항이 있다:\n복잡성 증가\n추상화 계층이 추가되면 시스템의 전체적인 복잡성이 증가할 수 있다. 특히 작은 프로젝트에서는 이러한 복잡성이 불필요할 수 있다.\n디버깅 어려움\n제어 흐름이 역전되면 코드의 실행 순서를 추적하기가 더 어려워질 수 있다. 이는 디버깅 과정을 복잡하게 만들 수 있다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 // 디버깅이 어려울 수 있는 예 class ComplexFramework { private List\u003cPlugin\u003e plugins = new ArrayList\u003c\u003e(); public void registerPlugin(Plugin plugin) { plugins.add(plugin); } public void start() { // 초기화 단계 for (Plugin plugin : plugins) { plugin.initialize(); } // 실행 단계 for (Plugin plugin : plugins) { if (plugin.isApplicable()) { plugin.execute(); } } // 정리 단계 for (Plugin plugin : plugins) { plugin.cleanup(); } } } // 플러그인 인터페이스 interface Plugin { void initialize(); boolean isApplicable(); void execute(); void cleanup(); } 이 예제에서 플러그인 메서드의 실행 순서와 맥락을 추적하기 어려울 수 있다. 특히 여러 플러그인이 서로 상호작용하는 경우 더욱 그렇다.\n성능 오버헤드\n추가적인 추상화 계층이나 간접 호출로 인해 성능 오버헤드가 발생할 수 있다. 대부분의 경우 이 오버헤드는 무시할 만하지만, 성능이 중요한 시스템에서는 고려해야 할 사항이다.\n학습 곡선\n할리우드 원칙과 관련 패턴을 효과적으로 사용하려면 일정한 학습 곡선이 필요하다. 팀 전체가 이러한 개념에 익숙하지 않다면, 초기에는 생산성이 저하될 수 있다.\n실제 응용 사례: 이벤트 기반 아키텍처 할리우드 원칙은 이벤트 기반 아키텍처에서 널리 사용된다.\n이벤트 생산자는 이벤트를 발생시키고, 이벤트 소비자는 이벤트에 반응한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 // 이벤트 클래스 class OrderEvent { private final String orderId; private final String status; public OrderEvent(String orderId, String status) { this.orderId = orderId; this.status = status; } public String getOrderId() { return orderId; } public String getStatus() { return status; } } // 이벤트 버스 class EventBus { private Map\u003cClass\u003c?\u003e, List\u003cEventListener\u003c?\u003e\u003e\u003e listeners = new HashMap\u003c\u003e(); public \u003cT\u003e void register(Class\u003cT\u003e eventType, EventListener\u003cT\u003e listener) { listeners.computeIfAbsent(eventType, k -\u003e new ArrayList\u003c\u003e()).add(listener); } public \u003cT\u003e void post(T event) { List\u003cEventListener\u003c?\u003e\u003e eventListeners = listeners.getOrDefault(event.getClass(), Collections.emptyList()); for (EventListener\u003c?\u003e listener : eventListeners) { ((EventListener\u003cT\u003e) listener).onEvent(event); } } } // 이벤트 리스너 인터페이스 interface EventListener\u003cT\u003e { void onEvent(T event); } // 구체적인 이벤트 리스너 class OrderProcessor implements EventListener\u003cOrderEvent\u003e { @Override public void onEvent(OrderEvent event) { System.out.println(\"주문 처리: \" + event.getOrderId() + \", 상태: \" + event.getStatus()); // 주문 처리 로직 } } class NotificationService implements EventListener\u003cOrderEvent\u003e { @Override public void onEvent(OrderEvent event) { System.out.println(\"알림 전송: \" + event.getOrderId() + \", 상태: \" + event.getStatus()); // 알림 전송 로직 } } // 이벤트 발생 public class Main { public static void main(String[] args) { EventBus eventBus = new EventBus(); // 리스너 등록 eventBus.register(OrderEvent.class, new OrderProcessor()); eventBus.register(OrderEvent.class, new NotificationService()); // 이벤트 발생 eventBus.post(new OrderEvent(\"ORD-123\", \"CREATED\")); eventBus.post(new OrderEvent(\"ORD-123\", \"PAID\")); } } 이 예제에서 EventBus(고수준 컴포넌트)는 이벤트 발생 시 적절한 리스너를 호출하는 제어 흐름을 관리한다. 리스너(저수준 컴포넌트)는 자신이 언제 호출될지 모르며, EventBus에 등록되어 적절한 이벤트가 발생했을 때 호출된다.\n용어 정리 용어 설명 참고 및 출처 ","wordCount":"2906","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2025-02-04T14:27:00Z","dateModified":"2025-02-04T14:27:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/software-design-and-architecture/design-principles/hollywood-principle/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>posts</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-design-and-architecture/>Software Design and Architecture</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-design-and-architecture/design-principles/>Design Principles</a></div><h1 class="post-title entry-hint-parent">Hollywood Principle</h1><div class=post-description>고수준 컴포넌트가 저수준 컴포넌트를 언제 어떻게 호출할지 제어하되, 저수준 컴포넌트는 고수준 컴포넌트를 직접 호출하지 않도록 하는 것이다</div><div class=post-meta><span title='2025-02-04 14:27:00 +0000 UTC'>February 4, 2025</span>&nbsp;·&nbsp;14 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Software%20Design%20and%20Architecture/Design%20Principles/hollywood-principle.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#hollywood-principle>Hollywood Principle</a><ul><li><a href=#할리우드-원칙의-정의와-목적>할리우드 원칙의 정의와 목적</a></li><li><a href=#할리우드-원칙의-역사와-배경>할리우드 원칙의 역사와 배경</a></li><li><a href=#할리우드-원칙-vs-제어-역전>할리우드 원칙 vs. 제어 역전</a></li><li><a href=#할리우드-원칙의-구현-방법>할리우드 원칙의 구현 방법</a></li><li><a href=#할리우드-원칙과-일반적인-디자인-패턴>할리우드 원칙과 일반적인 디자인 패턴</a></li><li><a href=#프레임워크와-라이브러리에서의-할리우드-원칙>프레임워크와 라이브러리에서의 할리우드 원칙</a></li><li><a href=#할리우드-원칙의-장점>할리우드 원칙의 장점</a></li><li><a href=#할리우드-원칙의-도전과-주의사항>할리우드 원칙의 도전과 주의사항</a></li><li><a href=#실제-응용-사례-이벤트-기반-아키텍처>실제 응용 사례: 이벤트 기반 아키텍처</a></li></ul></li><li><a href=#용어-정리>용어 정리</a></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=hollywood-principle>Hollywood Principle<a hidden class=anchor aria-hidden=true href=#hollywood-principle>#</a></h2><p>할리우드 원칙은 &ldquo;먼저 연락하지 마세요. 저희가 연락드리겠습니다(Don&rsquo;t call us, we&rsquo;ll call you)&ldquo;라는 문구에서 이름을 따온 소프트웨어 설계 원칙이다.<br>이 표현은 할리우드 오디션에서 배우들에게 자주 하던 말에서 유래했다. 소프트웨어 설계에서 이 원칙은 제어 흐름의 역전을 의미하며, 고수준 컴포넌트가 저수준 컴포넌트를 직접 호출하는 대신, 상위 수준의 컴포넌트가 하위 수준의 컴포넌트를 직접 호출하지 않고, 추상화된 인터페이스를 통해 상호작용하도록 하는 구조를 만드는 것을 권장한다.</p><p>이 원칙은 템플릿 메서드, 옵저버, 의존성 주입과 같은 다양한 디자인 패턴의 기반이 되며, 현대적인 프레임워크와 리액티브 프로그래밍, 함수형 프로그래밍에서도 널리 활용된다.</p><p>할리우드 원칙의 핵심은 고수준 컴포넌트가 저수준 컴포넌트를 언제 어떻게 호출할지 제어하되, 저수준 컴포넌트는 고수준 컴포넌트를 직접 호출하지 않도록 하는 것이다. 이를 통해 의존성 부패를 방지하고, 시스템의 모듈성과 유지보수성을 향상시킬 수 있다.</p><p>프레임워크와 라이브러리의 차이점 중 하나는 바로 이 할리우드 원칙의 적용 여부이다. 프레임워크는 할리우드 원칙을 따르며 제어 흐름을 관리하지만, 라이브러리는 개발자가 직접 호출하는 방식으로 사용된다.</p><p>할리우드 원칙을 효과적으로 적용하려면 추상화, 인터페이스, 콜백, 이벤트 등의 메커니즘을 이해하고 활용해야 한다. 또한 이 원칙이 모든 상황에 적합한 것은 아니므로, 시스템의 복잡성과 요구사항을 고려하여 적절히 적용하는 것이 중요하다.</p><h3 id=할리우드-원칙의-정의와-목적>할리우드 원칙의 정의와 목적<a hidden class=anchor aria-hidden=true href=#할리우드-원칙의-정의와-목적>#</a></h3><p>할리우드 원칙은 소프트웨어 시스템에서 의존성 부패(dependency rot)를 방지하기 위한 설계 접근법이다.<br>의존성 부패란 여러 컴포넌트 간의 복잡한 상호 의존 관계가 형성되어 시스템이 이해하기 어렵고 유지보수하기 힘들어지는 상태를 말한다.</p><p>이 원칙의 주요 목적은 다음과 같다:</p><ol><li><strong>의존성 역전</strong>: 전통적인 호출 계층 구조를 뒤집어 저수준 컴포넌트가 고수준 컴포넌트에 의존하게 한다.</li><li><strong>결합도 감소</strong>: 컴포넌트 간의 직접적인 의존성을 줄여 결합도를 낮춘다.</li><li><strong>제어 흐름 중앙화</strong>: 프레임워크나 고수준 컴포넌트가 전체 제어 흐름을 관리하게 한다.</li><li><strong>확장성 향상</strong>: 기존 코드를 수정하지 않고 새로운 기능을 추가할 수 있게 한다.</li></ol><h3 id=할리우드-원칙의-역사와-배경>할리우드 원칙의 역사와 배경<a hidden class=anchor aria-hidden=true href=#할리우드-원칙의-역사와-배경>#</a></h3><p>할리우드 원칙이라는 용어는 1980년대 말에서 1990년대 초에 객체지향 프로그래밍 커뮤니티에서 처음 사용되기 시작했다. 리차드 스윗(Richard Sweet)이 Smalltalk 언어의 MVC(Model-View-Controller) 패턴에 대해 설명하면서 이 용어를 사용했고, 나중에 랄프 존슨(Ralph Johnson)과 브라이언 푸트(Brian Foote)가 이를 더 널리 알렸다.</p><p>이 원칙은 제어 역전(Inversion of Control, IoC)의 한 형태로, SOLID 원칙 중 의존성 역전 원칙(Dependency Inversion Principle, DIP)과 밀접한 관련이 있다. 하지만 할리우드 원칙은 특히 프레임워크와 라이브러리의 관계에서 이 개념을 설명할 때 자주 사용된다.</p><h3 id=할리우드-원칙-vs-제어-역전>할리우드 원칙 vs. 제어 역전<a hidden class=anchor aria-hidden=true href=#할리우드-원칙-vs-제어-역전>#</a></h3><p>할리우드 원칙과 제어 역전(IoC)은 종종 같은 개념으로 혼용되지만, 미세한 차이가 있다:</p><ol><li><p><strong>제어 역전(IoC)</strong>: 더 넓은 개념으로, 프로그램의 제어 흐름이 사용자 코드에서 프레임워크나 컨테이너로 이동하는 모든 기법을 포함한다. 의존성 주입(DI), 서비스 로케이터, 이벤트 기반 프로그래밍 등이 모두 IoC의 형태이다.</p></li><li><p><strong>할리우드 원칙</strong>: IoC의 특정 형태로, 특히 &ldquo;너는 나를 호출하지 말고, 내가 너를 호출할게"라는 관점에 초점을 맞춘다. 주로 콜백, 템플릿 메서드, 옵저버 패턴 등의 형태로 구현된다.</p></li></ol><h3 id=할리우드-원칙의-구현-방법>할리우드 원칙의 구현 방법<a hidden class=anchor aria-hidden=true href=#할리우드-원칙의-구현-방법>#</a></h3><p>할리우드 원칙은 다양한 디자인 패턴과 프로그래밍 기법을 통해 구현할 수 있다:</p><h4 id=템플릿-메서드-패턴template-method-pattern>템플릿 메서드 패턴(Template Method Pattern)<a hidden class=anchor aria-hidden=true href=#템플릿-메서드-패턴template-method-pattern>#</a></h4><p>템플릿 메서드 패턴은 할리우드 원칙의 가장 대표적인 구현 방법이다.<br>이 패턴에서는 알고리즘의 구조를 상위 클래스에 정의하고, 특정 단계의 구현은 하위 클래스에 위임한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14>14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15>15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16>16</a>
</span><span class=lnt id=hl-0-17><a class=lnlinks href=#hl-0-17>17</a>
</span><span class=lnt id=hl-0-18><a class=lnlinks href=#hl-0-18>18</a>
</span><span class=lnt id=hl-0-19><a class=lnlinks href=#hl-0-19>19</a>
</span><span class=lnt id=hl-0-20><a class=lnlinks href=#hl-0-20>20</a>
</span><span class=lnt id=hl-0-21><a class=lnlinks href=#hl-0-21>21</a>
</span><span class=lnt id=hl-0-22><a class=lnlinks href=#hl-0-22>22</a>
</span><span class=lnt id=hl-0-23><a class=lnlinks href=#hl-0-23>23</a>
</span><span class=lnt id=hl-0-24><a class=lnlinks href=#hl-0-24>24</a>
</span><span class=lnt id=hl-0-25><a class=lnlinks href=#hl-0-25>25</a>
</span><span class=lnt id=hl-0-26><a class=lnlinks href=#hl-0-26>26</a>
</span><span class=lnt id=hl-0-27><a class=lnlinks href=#hl-0-27>27</a>
</span><span class=lnt id=hl-0-28><a class=lnlinks href=#hl-0-28>28</a>
</span><span class=lnt id=hl-0-29><a class=lnlinks href=#hl-0-29>29</a>
</span><span class=lnt id=hl-0-30><a class=lnlinks href=#hl-0-30>30</a>
</span><span class=lnt id=hl-0-31><a class=lnlinks href=#hl-0-31>31</a>
</span><span class=lnt id=hl-0-32><a class=lnlinks href=#hl-0-32>32</a>
</span><span class=lnt id=hl-0-33><a class=lnlinks href=#hl-0-33>33</a>
</span><span class=lnt id=hl-0-34><a class=lnlinks href=#hl-0-34>34</a>
</span><span class=lnt id=hl-0-35><a class=lnlinks href=#hl-0-35>35</a>
</span><span class=lnt id=hl-0-36><a class=lnlinks href=#hl-0-36>36</a>
</span><span class=lnt id=hl-0-37><a class=lnlinks href=#hl-0-37>37</a>
</span><span class=lnt id=hl-0-38><a class=lnlinks href=#hl-0-38>38</a>
</span><span class=lnt id=hl-0-39><a class=lnlinks href=#hl-0-39>39</a>
</span><span class=lnt id=hl-0-40><a class=lnlinks href=#hl-0-40>40</a>
</span><span class=lnt id=hl-0-41><a class=lnlinks href=#hl-0-41>41</a>
</span><span class=lnt id=hl-0-42><a class=lnlinks href=#hl-0-42>42</a>
</span><span class=lnt id=hl-0-43><a class=lnlinks href=#hl-0-43>43</a>
</span><span class=lnt id=hl-0-44><a class=lnlinks href=#hl-0-44>44</a>
</span><span class=lnt id=hl-0-45><a class=lnlinks href=#hl-0-45>45</a>
</span><span class=lnt id=hl-0-46><a class=lnlinks href=#hl-0-46>46</a>
</span><span class=lnt id=hl-0-47><a class=lnlinks href=#hl-0-47>47</a>
</span><span class=lnt id=hl-0-48><a class=lnlinks href=#hl-0-48>48</a>
</span><span class=lnt id=hl-0-49><a class=lnlinks href=#hl-0-49>49</a>
</span><span class=lnt id=hl-0-50><a class=lnlinks href=#hl-0-50>50</a>
</span><span class=lnt id=hl-0-51><a class=lnlinks href=#hl-0-51>51</a>
</span><span class=lnt id=hl-0-52><a class=lnlinks href=#hl-0-52>52</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// 추상 클래스 - 고수준 컴포넌트</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>abstract</span><span class=w> </span><span class=kd>class</span> <span class=nc>DataProcessor</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 템플릿 메서드</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>processData</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>openFile</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>readData</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>processSpecificData</span><span class=p>();</span><span class=w>  </span><span class=c1>// 하위 클래스에서 구현할 추상 메서드</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>writeData</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>closeFile</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>openFile</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;파일 열기&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>readData</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;데이터 읽기&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>protected</span><span class=w> </span><span class=kd>abstract</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>processSpecificData</span><span class=p>();</span><span class=w>  </span><span class=c1>// 하위 클래스에서 구현</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>writeData</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;데이터 쓰기&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>closeFile</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;파일 닫기&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 구체 클래스 - 저수준 컴포넌트</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>CSVDataProcessor</span><span class=w> </span><span class=kd>extends</span><span class=w> </span><span class=n>DataProcessor</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>protected</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>processSpecificData</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;CSV 데이터 처리&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>XMLDataProcessor</span><span class=w> </span><span class=kd>extends</span><span class=w> </span><span class=n>DataProcessor</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>protected</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>processSpecificData</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;XML 데이터 처리&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 클라이언트 코드</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Main</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>DataProcessor</span><span class=w> </span><span class=n>processor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>CSVDataProcessor</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>processor</span><span class=p>.</span><span class=na>processData</span><span class=p>();</span><span class=w>  </span><span class=c1>// 고수준 컴포넌트가 제어 흐름을 관리</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>이 예제에서 <code>DataProcessor</code>(고수준 컴포넌트)는 데이터 처리의 전체 흐름을 제어하고, <code>CSVDataProcessor</code>와 <code>XMLDataProcessor</code>(저수준 컴포넌트)는 특정 데이터 형식에 맞는 처리 로직만 구현한다.<br>저수준 컴포넌트는 고수준 컴포넌트의 <code>processData()</code> 메서드에 의해 호출되지만, 저수준 컴포넌트가 고수준 컴포넌트를 직접 호출하지는 않는다.</p><h4 id=콜백callbacks>콜백(Callbacks)<a hidden class=anchor aria-hidden=true href=#콜백callbacks>#</a></h4><p>콜백은 할리우드 원칙을 구현하는 또 다른 일반적인 방법이다. 특히 이벤트 기반 프로그래밍이나 비동기 프로그래밍에서 널리 사용된다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11>11</a>
</span><span class=lnt id=hl-1-12><a class=lnlinks href=#hl-1-12>12</a>
</span><span class=lnt id=hl-1-13><a class=lnlinks href=#hl-1-13>13</a>
</span><span class=lnt id=hl-1-14><a class=lnlinks href=#hl-1-14>14</a>
</span><span class=lnt id=hl-1-15><a class=lnlinks href=#hl-1-15>15</a>
</span><span class=lnt id=hl-1-16><a class=lnlinks href=#hl-1-16>16</a>
</span><span class=lnt id=hl-1-17><a class=lnlinks href=#hl-1-17>17</a>
</span><span class=lnt id=hl-1-18><a class=lnlinks href=#hl-1-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// JavaScript에서의 콜백 예제
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>fetchData</span><span class=p>(</span><span class=nx>url</span><span class=p>,</span> <span class=nx>callback</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 데이터 가져오기
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>fetch</span><span class=p>(</span><span class=nx>url</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>response</span> <span class=p>=&gt;</span> <span class=nx>response</span><span class=p>.</span><span class=nx>json</span><span class=p>())</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>data</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// 데이터를 가져온 후 콜백 호출
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>callback</span><span class=p>(</span><span class=nx>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>})</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=k>catch</span><span class=p>(</span><span class=nx>error</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;Error:&#39;</span><span class=p>,</span> <span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 클라이언트 코드
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>fetchData</span><span class=p>(</span><span class=s1>&#39;https://api.example.com/data&#39;</span><span class=p>,</span> <span class=kd>function</span><span class=p>(</span><span class=nx>data</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;데이터 처리:&#39;</span><span class=p>,</span> <span class=nx>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p>이 예제에서 <code>fetchData</code> 함수(고수준 컴포넌트)는 HTTP 요청의 전체 흐름을 제어하고, 클라이언트 코드가 제공한 콜백 함수(저수준 컴포넌트)는 데이터가 준비되었을 때 호출된다. 클라이언트는 <code>fetchData</code>의 내부 동작을 알 필요가 없으며, 데이터가 준비되면 자신의 콜백 함수가 호출될 것이라는 점만 알면 된다.</p><h4 id=옵저버-패턴observer-pattern>옵저버 패턴(Observer Pattern)<a hidden class=anchor aria-hidden=true href=#옵저버-패턴observer-pattern>#</a></h4><p>옵저버 패턴은 객체 간의 일대다 의존 관계를 정의하여, 한 객체의 상태가 변경되면 의존하는 모든 객체에 자동으로 알림이 가는 패턴이다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1> 1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2> 2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3> 3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4> 4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5> 5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6> 6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7> 7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8> 8</a>
</span><span class=lnt id=hl-2-9><a class=lnlinks href=#hl-2-9> 9</a>
</span><span class=lnt id=hl-2-10><a class=lnlinks href=#hl-2-10>10</a>
</span><span class=lnt id=hl-2-11><a class=lnlinks href=#hl-2-11>11</a>
</span><span class=lnt id=hl-2-12><a class=lnlinks href=#hl-2-12>12</a>
</span><span class=lnt id=hl-2-13><a class=lnlinks href=#hl-2-13>13</a>
</span><span class=lnt id=hl-2-14><a class=lnlinks href=#hl-2-14>14</a>
</span><span class=lnt id=hl-2-15><a class=lnlinks href=#hl-2-15>15</a>
</span><span class=lnt id=hl-2-16><a class=lnlinks href=#hl-2-16>16</a>
</span><span class=lnt id=hl-2-17><a class=lnlinks href=#hl-2-17>17</a>
</span><span class=lnt id=hl-2-18><a class=lnlinks href=#hl-2-18>18</a>
</span><span class=lnt id=hl-2-19><a class=lnlinks href=#hl-2-19>19</a>
</span><span class=lnt id=hl-2-20><a class=lnlinks href=#hl-2-20>20</a>
</span><span class=lnt id=hl-2-21><a class=lnlinks href=#hl-2-21>21</a>
</span><span class=lnt id=hl-2-22><a class=lnlinks href=#hl-2-22>22</a>
</span><span class=lnt id=hl-2-23><a class=lnlinks href=#hl-2-23>23</a>
</span><span class=lnt id=hl-2-24><a class=lnlinks href=#hl-2-24>24</a>
</span><span class=lnt id=hl-2-25><a class=lnlinks href=#hl-2-25>25</a>
</span><span class=lnt id=hl-2-26><a class=lnlinks href=#hl-2-26>26</a>
</span><span class=lnt id=hl-2-27><a class=lnlinks href=#hl-2-27>27</a>
</span><span class=lnt id=hl-2-28><a class=lnlinks href=#hl-2-28>28</a>
</span><span class=lnt id=hl-2-29><a class=lnlinks href=#hl-2-29>29</a>
</span><span class=lnt id=hl-2-30><a class=lnlinks href=#hl-2-30>30</a>
</span><span class=lnt id=hl-2-31><a class=lnlinks href=#hl-2-31>31</a>
</span><span class=lnt id=hl-2-32><a class=lnlinks href=#hl-2-32>32</a>
</span><span class=lnt id=hl-2-33><a class=lnlinks href=#hl-2-33>33</a>
</span><span class=lnt id=hl-2-34><a class=lnlinks href=#hl-2-34>34</a>
</span><span class=lnt id=hl-2-35><a class=lnlinks href=#hl-2-35>35</a>
</span><span class=lnt id=hl-2-36><a class=lnlinks href=#hl-2-36>36</a>
</span><span class=lnt id=hl-2-37><a class=lnlinks href=#hl-2-37>37</a>
</span><span class=lnt id=hl-2-38><a class=lnlinks href=#hl-2-38>38</a>
</span><span class=lnt id=hl-2-39><a class=lnlinks href=#hl-2-39>39</a>
</span><span class=lnt id=hl-2-40><a class=lnlinks href=#hl-2-40>40</a>
</span><span class=lnt id=hl-2-41><a class=lnlinks href=#hl-2-41>41</a>
</span><span class=lnt id=hl-2-42><a class=lnlinks href=#hl-2-42>42</a>
</span><span class=lnt id=hl-2-43><a class=lnlinks href=#hl-2-43>43</a>
</span><span class=lnt id=hl-2-44><a class=lnlinks href=#hl-2-44>44</a>
</span><span class=lnt id=hl-2-45><a class=lnlinks href=#hl-2-45>45</a>
</span><span class=lnt id=hl-2-46><a class=lnlinks href=#hl-2-46>46</a>
</span><span class=lnt id=hl-2-47><a class=lnlinks href=#hl-2-47>47</a>
</span><span class=lnt id=hl-2-48><a class=lnlinks href=#hl-2-48>48</a>
</span><span class=lnt id=hl-2-49><a class=lnlinks href=#hl-2-49>49</a>
</span><span class=lnt id=hl-2-50><a class=lnlinks href=#hl-2-50>50</a>
</span><span class=lnt id=hl-2-51><a class=lnlinks href=#hl-2-51>51</a>
</span><span class=lnt id=hl-2-52><a class=lnlinks href=#hl-2-52>52</a>
</span><span class=lnt id=hl-2-53><a class=lnlinks href=#hl-2-53>53</a>
</span><span class=lnt id=hl-2-54><a class=lnlinks href=#hl-2-54>54</a>
</span><span class=lnt id=hl-2-55><a class=lnlinks href=#hl-2-55>55</a>
</span><span class=lnt id=hl-2-56><a class=lnlinks href=#hl-2-56>56</a>
</span><span class=lnt id=hl-2-57><a class=lnlinks href=#hl-2-57>57</a>
</span><span class=lnt id=hl-2-58><a class=lnlinks href=#hl-2-58>58</a>
</span><span class=lnt id=hl-2-59><a class=lnlinks href=#hl-2-59>59</a>
</span><span class=lnt id=hl-2-60><a class=lnlinks href=#hl-2-60>60</a>
</span><span class=lnt id=hl-2-61><a class=lnlinks href=#hl-2-61>61</a>
</span><span class=lnt id=hl-2-62><a class=lnlinks href=#hl-2-62>62</a>
</span><span class=lnt id=hl-2-63><a class=lnlinks href=#hl-2-63>63</a>
</span><span class=lnt id=hl-2-64><a class=lnlinks href=#hl-2-64>64</a>
</span><span class=lnt id=hl-2-65><a class=lnlinks href=#hl-2-65>65</a>
</span><span class=lnt id=hl-2-66><a class=lnlinks href=#hl-2-66>66</a>
</span><span class=lnt id=hl-2-67><a class=lnlinks href=#hl-2-67>67</a>
</span><span class=lnt id=hl-2-68><a class=lnlinks href=#hl-2-68>68</a>
</span><span class=lnt id=hl-2-69><a class=lnlinks href=#hl-2-69>69</a>
</span><span class=lnt id=hl-2-70><a class=lnlinks href=#hl-2-70>70</a>
</span><span class=lnt id=hl-2-71><a class=lnlinks href=#hl-2-71>71</a>
</span><span class=lnt id=hl-2-72><a class=lnlinks href=#hl-2-72>72</a>
</span><span class=lnt id=hl-2-73><a class=lnlinks href=#hl-2-73>73</a>
</span><span class=lnt id=hl-2-74><a class=lnlinks href=#hl-2-74>74</a>
</span><span class=lnt id=hl-2-75><a class=lnlinks href=#hl-2-75>75</a>
</span><span class=lnt id=hl-2-76><a class=lnlinks href=#hl-2-76>76</a>
</span><span class=lnt id=hl-2-77><a class=lnlinks href=#hl-2-77>77</a>
</span><span class=lnt id=hl-2-78><a class=lnlinks href=#hl-2-78>78</a>
</span><span class=lnt id=hl-2-79><a class=lnlinks href=#hl-2-79>79</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// 옵저버 인터페이스</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>interface</span> <span class=nc>Observer</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>update</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>event</span><span class=p>,</span><span class=w> </span><span class=n>Object</span><span class=w> </span><span class=n>data</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 주제(Subject) 클래스</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>EventManager</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Map</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>List</span><span class=o>&lt;</span><span class=n>Observer</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>observers</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>HashMap</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>subscribe</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>eventType</span><span class=p>,</span><span class=w> </span><span class=n>Observer</span><span class=w> </span><span class=n>observer</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>observers</span><span class=p>.</span><span class=na>computeIfAbsent</span><span class=p>(</span><span class=n>eventType</span><span class=p>,</span><span class=w> </span><span class=n>k</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>()).</span><span class=na>add</span><span class=p>(</span><span class=n>observer</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>unsubscribe</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>eventType</span><span class=p>,</span><span class=w> </span><span class=n>Observer</span><span class=w> </span><span class=n>observer</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>observers</span><span class=p>.</span><span class=na>containsKey</span><span class=p>(</span><span class=n>eventType</span><span class=p>))</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>observers</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>eventType</span><span class=p>).</span><span class=na>remove</span><span class=p>(</span><span class=n>observer</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>notify</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>eventType</span><span class=p>,</span><span class=w> </span><span class=n>Object</span><span class=w> </span><span class=n>data</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>observers</span><span class=p>.</span><span class=na>containsKey</span><span class=p>(</span><span class=n>eventType</span><span class=p>))</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>Observer</span><span class=w> </span><span class=n>observer</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>observers</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>eventType</span><span class=p>))</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>observer</span><span class=p>.</span><span class=na>update</span><span class=p>(</span><span class=n>eventType</span><span class=p>,</span><span class=w> </span><span class=n>data</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 구체적인 주제</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>Editor</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>EventManager</span><span class=w> </span><span class=n>events</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>File</span><span class=w> </span><span class=n>file</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>Editor</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>events</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>EventManager</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>openFile</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>filePath</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>File</span><span class=p>(</span><span class=n>filePath</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>events</span><span class=p>.</span><span class=na>notify</span><span class=p>(</span><span class=s>&#34;open&#34;</span><span class=p>,</span><span class=w> </span><span class=n>file</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>saveFile</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 파일 저장 로직</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>events</span><span class=p>.</span><span class=na>notify</span><span class=p>(</span><span class=s>&#34;save&#34;</span><span class=p>,</span><span class=w> </span><span class=n>file</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>EventManager</span><span class=w> </span><span class=nf>getEventManager</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>events</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 구체적인 옵저버</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>LoggingListener</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>Observer</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>logFileName</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>LoggingListener</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>logFileName</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>logFileName</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>logFileName</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>update</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>eventType</span><span class=p>,</span><span class=w> </span><span class=n>Object</span><span class=w> </span><span class=n>data</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;로그 작성: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>eventType</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&#34;, 데이터: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>data</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&#34;, 로그 파일: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>logFileName</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 클라이언트 코드</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Main</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Editor</span><span class=w> </span><span class=n>editor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Editor</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>LoggingListener</span><span class=w> </span><span class=n>logger</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>LoggingListener</span><span class=p>(</span><span class=s>&#34;log.txt&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>editor</span><span class=p>.</span><span class=na>getEventManager</span><span class=p>().</span><span class=na>subscribe</span><span class=p>(</span><span class=s>&#34;open&#34;</span><span class=p>,</span><span class=w> </span><span class=n>logger</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>editor</span><span class=p>.</span><span class=na>getEventManager</span><span class=p>().</span><span class=na>subscribe</span><span class=p>(</span><span class=s>&#34;save&#34;</span><span class=p>,</span><span class=w> </span><span class=n>logger</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>editor</span><span class=p>.</span><span class=na>openFile</span><span class=p>(</span><span class=s>&#34;test.txt&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>editor</span><span class=p>.</span><span class=na>saveFile</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>이 예제에서 <code>Editor</code>(주제, 고수준 컴포넌트)는 파일 열기와 저장의 전체 흐름을 제어하고, <code>LoggingListener</code>(옵저버, 저수준 컴포넌트)는 이벤트가 발생했을 때 알림을 받아 로깅 작업을 수행한다. 옵저버는 주제에 등록되지만, 주제가 적절한 시점에 옵저버를 호출하는 방식으로 제어 흐름이 역전된다.</p><h4 id=의존성-주입dependency-injection>의존성 주입(Dependency Injection)<a hidden class=anchor aria-hidden=true href=#의존성-주입dependency-injection>#</a></h4><p>의존성 주입은 할리우드 원칙을 구현하는 현대적인 방법 중 하나로, 특히 Spring과 같은 프레임워크에서 널리 사용된다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span><span class=lnt id=hl-3-12><a class=lnlinks href=#hl-3-12>12</a>
</span><span class=lnt id=hl-3-13><a class=lnlinks href=#hl-3-13>13</a>
</span><span class=lnt id=hl-3-14><a class=lnlinks href=#hl-3-14>14</a>
</span><span class=lnt id=hl-3-15><a class=lnlinks href=#hl-3-15>15</a>
</span><span class=lnt id=hl-3-16><a class=lnlinks href=#hl-3-16>16</a>
</span><span class=lnt id=hl-3-17><a class=lnlinks href=#hl-3-17>17</a>
</span><span class=lnt id=hl-3-18><a class=lnlinks href=#hl-3-18>18</a>
</span><span class=lnt id=hl-3-19><a class=lnlinks href=#hl-3-19>19</a>
</span><span class=lnt id=hl-3-20><a class=lnlinks href=#hl-3-20>20</a>
</span><span class=lnt id=hl-3-21><a class=lnlinks href=#hl-3-21>21</a>
</span><span class=lnt id=hl-3-22><a class=lnlinks href=#hl-3-22>22</a>
</span><span class=lnt id=hl-3-23><a class=lnlinks href=#hl-3-23>23</a>
</span><span class=lnt id=hl-3-24><a class=lnlinks href=#hl-3-24>24</a>
</span><span class=lnt id=hl-3-25><a class=lnlinks href=#hl-3-25>25</a>
</span><span class=lnt id=hl-3-26><a class=lnlinks href=#hl-3-26>26</a>
</span><span class=lnt id=hl-3-27><a class=lnlinks href=#hl-3-27>27</a>
</span><span class=lnt id=hl-3-28><a class=lnlinks href=#hl-3-28>28</a>
</span><span class=lnt id=hl-3-29><a class=lnlinks href=#hl-3-29>29</a>
</span><span class=lnt id=hl-3-30><a class=lnlinks href=#hl-3-30>30</a>
</span><span class=lnt id=hl-3-31><a class=lnlinks href=#hl-3-31>31</a>
</span><span class=lnt id=hl-3-32><a class=lnlinks href=#hl-3-32>32</a>
</span><span class=lnt id=hl-3-33><a class=lnlinks href=#hl-3-33>33</a>
</span><span class=lnt id=hl-3-34><a class=lnlinks href=#hl-3-34>34</a>
</span><span class=lnt id=hl-3-35><a class=lnlinks href=#hl-3-35>35</a>
</span><span class=lnt id=hl-3-36><a class=lnlinks href=#hl-3-36>36</a>
</span><span class=lnt id=hl-3-37><a class=lnlinks href=#hl-3-37>37</a>
</span><span class=lnt id=hl-3-38><a class=lnlinks href=#hl-3-38>38</a>
</span><span class=lnt id=hl-3-39><a class=lnlinks href=#hl-3-39>39</a>
</span><span class=lnt id=hl-3-40><a class=lnlinks href=#hl-3-40>40</a>
</span><span class=lnt id=hl-3-41><a class=lnlinks href=#hl-3-41>41</a>
</span><span class=lnt id=hl-3-42><a class=lnlinks href=#hl-3-42>42</a>
</span><span class=lnt id=hl-3-43><a class=lnlinks href=#hl-3-43>43</a>
</span><span class=lnt id=hl-3-44><a class=lnlinks href=#hl-3-44>44</a>
</span><span class=lnt id=hl-3-45><a class=lnlinks href=#hl-3-45>45</a>
</span><span class=lnt id=hl-3-46><a class=lnlinks href=#hl-3-46>46</a>
</span><span class=lnt id=hl-3-47><a class=lnlinks href=#hl-3-47>47</a>
</span><span class=lnt id=hl-3-48><a class=lnlinks href=#hl-3-48>48</a>
</span><span class=lnt id=hl-3-49><a class=lnlinks href=#hl-3-49>49</a>
</span><span class=lnt id=hl-3-50><a class=lnlinks href=#hl-3-50>50</a>
</span><span class=lnt id=hl-3-51><a class=lnlinks href=#hl-3-51>51</a>
</span><span class=lnt id=hl-3-52><a class=lnlinks href=#hl-3-52>52</a>
</span><span class=lnt id=hl-3-53><a class=lnlinks href=#hl-3-53>53</a>
</span><span class=lnt id=hl-3-54><a class=lnlinks href=#hl-3-54>54</a>
</span><span class=lnt id=hl-3-55><a class=lnlinks href=#hl-3-55>55</a>
</span><span class=lnt id=hl-3-56><a class=lnlinks href=#hl-3-56>56</a>
</span><span class=lnt id=hl-3-57><a class=lnlinks href=#hl-3-57>57</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// 인터페이스</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>interface</span> <span class=nc>MessageService</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=nf>getMessage</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 구현체</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>EmailService</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>MessageService</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getMessage</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&#34;이메일 메시지&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>SMSService</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>MessageService</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getMessage</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&#34;SMS 메시지&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 클라이언트</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>MessageClient</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>MessageService</span><span class=w> </span><span class=n>service</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 의존성 주입</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>MessageClient</span><span class=p>(</span><span class=n>MessageService</span><span class=w> </span><span class=n>service</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>service</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>service</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>processMessage</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>String</span><span class=w> </span><span class=n>message</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>service</span><span class=p>.</span><span class=na>getMessage</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;처리된 메시지: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>message</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// Spring 설정 (Java 기반)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@Configuration</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>AppConfig</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Bean</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>MessageService</span><span class=w> </span><span class=nf>messageService</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>EmailService</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Bean</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>MessageClient</span><span class=w> </span><span class=nf>messageClient</span><span class=p>(</span><span class=n>MessageService</span><span class=w> </span><span class=n>service</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>MessageClient</span><span class=p>(</span><span class=n>service</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 메인 애플리케이션</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Main</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>ApplicationContext</span><span class=w> </span><span class=n>context</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>AnnotationConfigApplicationContext</span><span class=p>(</span><span class=n>AppConfig</span><span class=p>.</span><span class=na>class</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>MessageClient</span><span class=w> </span><span class=n>client</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>context</span><span class=p>.</span><span class=na>getBean</span><span class=p>(</span><span class=n>MessageClient</span><span class=p>.</span><span class=na>class</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>client</span><span class=p>.</span><span class=na>processMessage</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>이 예제에서 Spring 컨테이너(고수준 컴포넌트)는 <code>MessageService</code> 구현체를 생성하고 <code>MessageClient</code>에 주입하는 과정을 제어한다. 클라이언트 코드는 의존성을 직접 생성하거나 관리하지 않고, 컨테이너가 적절한 시점에 필요한 의존성을 제공한다.</p><h3 id=할리우드-원칙과-일반적인-디자인-패턴>할리우드 원칙과 일반적인 디자인 패턴<a hidden class=anchor aria-hidden=true href=#할리우드-원칙과-일반적인-디자인-패턴>#</a></h3><p>할리우드 원칙은 여러 디자인 패턴의 기반이 되며, 다음과 같은 패턴들과 밀접한 관련이 있다:</p><h4 id=템플릿-메서드-패턴template-method-pattern-1>템플릿 메서드 패턴(Template Method Pattern)<a hidden class=anchor aria-hidden=true href=#템플릿-메서드-패턴template-method-pattern-1>#</a></h4><p>앞서 설명한 대로, 템플릿 메서드 패턴은 할리우드 원칙의 전형적인 예.<br>알고리즘의 구조는 상위 클래스에서 정의하고, 특정 단계는 하위 클래스에서 구현하도록 한다.</p><h4 id=전략-패턴strategy-pattern>전략 패턴(Strategy Pattern)<a hidden class=anchor aria-hidden=true href=#전략-패턴strategy-pattern>#</a></h4><p>전략 패턴은 알고리즘을 캡슐화하고 런타임에 알고리즘을 교체할 수 있게 한다.<br>이 패턴에서 컨텍스트(고수준 컴포넌트)는 전략(저수준 컴포넌트)을 호출하지만, 전략이 컨텍스트를 직접 호출하지는 않는다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1> 1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2> 2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3> 3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4> 4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5> 5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6> 6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7> 7</a>
</span><span class=lnt id=hl-4-8><a class=lnlinks href=#hl-4-8> 8</a>
</span><span class=lnt id=hl-4-9><a class=lnlinks href=#hl-4-9> 9</a>
</span><span class=lnt id=hl-4-10><a class=lnlinks href=#hl-4-10>10</a>
</span><span class=lnt id=hl-4-11><a class=lnlinks href=#hl-4-11>11</a>
</span><span class=lnt id=hl-4-12><a class=lnlinks href=#hl-4-12>12</a>
</span><span class=lnt id=hl-4-13><a class=lnlinks href=#hl-4-13>13</a>
</span><span class=lnt id=hl-4-14><a class=lnlinks href=#hl-4-14>14</a>
</span><span class=lnt id=hl-4-15><a class=lnlinks href=#hl-4-15>15</a>
</span><span class=lnt id=hl-4-16><a class=lnlinks href=#hl-4-16>16</a>
</span><span class=lnt id=hl-4-17><a class=lnlinks href=#hl-4-17>17</a>
</span><span class=lnt id=hl-4-18><a class=lnlinks href=#hl-4-18>18</a>
</span><span class=lnt id=hl-4-19><a class=lnlinks href=#hl-4-19>19</a>
</span><span class=lnt id=hl-4-20><a class=lnlinks href=#hl-4-20>20</a>
</span><span class=lnt id=hl-4-21><a class=lnlinks href=#hl-4-21>21</a>
</span><span class=lnt id=hl-4-22><a class=lnlinks href=#hl-4-22>22</a>
</span><span class=lnt id=hl-4-23><a class=lnlinks href=#hl-4-23>23</a>
</span><span class=lnt id=hl-4-24><a class=lnlinks href=#hl-4-24>24</a>
</span><span class=lnt id=hl-4-25><a class=lnlinks href=#hl-4-25>25</a>
</span><span class=lnt id=hl-4-26><a class=lnlinks href=#hl-4-26>26</a>
</span><span class=lnt id=hl-4-27><a class=lnlinks href=#hl-4-27>27</a>
</span><span class=lnt id=hl-4-28><a class=lnlinks href=#hl-4-28>28</a>
</span><span class=lnt id=hl-4-29><a class=lnlinks href=#hl-4-29>29</a>
</span><span class=lnt id=hl-4-30><a class=lnlinks href=#hl-4-30>30</a>
</span><span class=lnt id=hl-4-31><a class=lnlinks href=#hl-4-31>31</a>
</span><span class=lnt id=hl-4-32><a class=lnlinks href=#hl-4-32>32</a>
</span><span class=lnt id=hl-4-33><a class=lnlinks href=#hl-4-33>33</a>
</span><span class=lnt id=hl-4-34><a class=lnlinks href=#hl-4-34>34</a>
</span><span class=lnt id=hl-4-35><a class=lnlinks href=#hl-4-35>35</a>
</span><span class=lnt id=hl-4-36><a class=lnlinks href=#hl-4-36>36</a>
</span><span class=lnt id=hl-4-37><a class=lnlinks href=#hl-4-37>37</a>
</span><span class=lnt id=hl-4-38><a class=lnlinks href=#hl-4-38>38</a>
</span><span class=lnt id=hl-4-39><a class=lnlinks href=#hl-4-39>39</a>
</span><span class=lnt id=hl-4-40><a class=lnlinks href=#hl-4-40>40</a>
</span><span class=lnt id=hl-4-41><a class=lnlinks href=#hl-4-41>41</a>
</span><span class=lnt id=hl-4-42><a class=lnlinks href=#hl-4-42>42</a>
</span><span class=lnt id=hl-4-43><a class=lnlinks href=#hl-4-43>43</a>
</span><span class=lnt id=hl-4-44><a class=lnlinks href=#hl-4-44>44</a>
</span><span class=lnt id=hl-4-45><a class=lnlinks href=#hl-4-45>45</a>
</span><span class=lnt id=hl-4-46><a class=lnlinks href=#hl-4-46>46</a>
</span><span class=lnt id=hl-4-47><a class=lnlinks href=#hl-4-47>47</a>
</span><span class=lnt id=hl-4-48><a class=lnlinks href=#hl-4-48>48</a>
</span><span class=lnt id=hl-4-49><a class=lnlinks href=#hl-4-49>49</a>
</span><span class=lnt id=hl-4-50><a class=lnlinks href=#hl-4-50>50</a>
</span><span class=lnt id=hl-4-51><a class=lnlinks href=#hl-4-51>51</a>
</span><span class=lnt id=hl-4-52><a class=lnlinks href=#hl-4-52>52</a>
</span><span class=lnt id=hl-4-53><a class=lnlinks href=#hl-4-53>53</a>
</span><span class=lnt id=hl-4-54><a class=lnlinks href=#hl-4-54>54</a>
</span><span class=lnt id=hl-4-55><a class=lnlinks href=#hl-4-55>55</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// 전략 인터페이스</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>interface</span> <span class=nc>SortStrategy</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>sort</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>array</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 구체적인 전략</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>QuickSort</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>SortStrategy</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>sort</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>array</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;퀵 정렬 수행&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 퀵 정렬 알고리즘 구현</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>MergeSort</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>SortStrategy</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>sort</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>array</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;병합 정렬 수행&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 병합 정렬 알고리즘 구현</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 컨텍스트</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>Sorter</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>SortStrategy</span><span class=w> </span><span class=n>strategy</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>setStrategy</span><span class=p>(</span><span class=n>SortStrategy</span><span class=w> </span><span class=n>strategy</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>strategy</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>strategy</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>sortArray</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>array</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 전처리</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;정렬 전 배열 검증&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 전략 실행 - 할리우드 원칙 적용</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>strategy</span><span class=p>.</span><span class=na>sort</span><span class=p>(</span><span class=n>array</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 후처리</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;정렬 후 검증&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 클라이언트 코드</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Main</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Sorter</span><span class=w> </span><span class=n>sorter</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Sorter</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>array</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=n>5</span><span class=p>,</span><span class=w> </span><span class=n>2</span><span class=p>,</span><span class=w> </span><span class=n>7</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>3</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>sorter</span><span class=p>.</span><span class=na>setStrategy</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>QuickSort</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>sorter</span><span class=p>.</span><span class=na>sortArray</span><span class=p>(</span><span class=n>array</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>sorter</span><span class=p>.</span><span class=na>setStrategy</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>MergeSort</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>sorter</span><span class=p>.</span><span class=na>sortArray</span><span class=p>(</span><span class=n>array</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=옵저버-패턴observer-pattern-1>옵저버 패턴(Observer Pattern)<a hidden class=anchor aria-hidden=true href=#옵저버-패턴observer-pattern-1>#</a></h4><p>앞서 설명한 옵저버 패턴도 할리우드 원칙의 좋은 예.<br>주제가 상태 변경 시 등록된 옵저버들을 호출하는 방식으로 제어 흐름이 역전된다.</p><h4 id=비지터-패턴visitor-pattern>비지터 패턴(Visitor Pattern)<a hidden class=anchor aria-hidden=true href=#비지터-패턴visitor-pattern>#</a></h4><p>비지터 패턴은 객체 구조와 연산을 분리하는 패턴으로, 객체가 방문자(visitor)를 받아들이고 적절한 메서드를 호출하도록 한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>  1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2>  2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3>  3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4>  4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5>  5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6>  6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7>  7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8>  8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9>  9</a>
</span><span class=lnt id=hl-5-10><a class=lnlinks href=#hl-5-10> 10</a>
</span><span class=lnt id=hl-5-11><a class=lnlinks href=#hl-5-11> 11</a>
</span><span class=lnt id=hl-5-12><a class=lnlinks href=#hl-5-12> 12</a>
</span><span class=lnt id=hl-5-13><a class=lnlinks href=#hl-5-13> 13</a>
</span><span class=lnt id=hl-5-14><a class=lnlinks href=#hl-5-14> 14</a>
</span><span class=lnt id=hl-5-15><a class=lnlinks href=#hl-5-15> 15</a>
</span><span class=lnt id=hl-5-16><a class=lnlinks href=#hl-5-16> 16</a>
</span><span class=lnt id=hl-5-17><a class=lnlinks href=#hl-5-17> 17</a>
</span><span class=lnt id=hl-5-18><a class=lnlinks href=#hl-5-18> 18</a>
</span><span class=lnt id=hl-5-19><a class=lnlinks href=#hl-5-19> 19</a>
</span><span class=lnt id=hl-5-20><a class=lnlinks href=#hl-5-20> 20</a>
</span><span class=lnt id=hl-5-21><a class=lnlinks href=#hl-5-21> 21</a>
</span><span class=lnt id=hl-5-22><a class=lnlinks href=#hl-5-22> 22</a>
</span><span class=lnt id=hl-5-23><a class=lnlinks href=#hl-5-23> 23</a>
</span><span class=lnt id=hl-5-24><a class=lnlinks href=#hl-5-24> 24</a>
</span><span class=lnt id=hl-5-25><a class=lnlinks href=#hl-5-25> 25</a>
</span><span class=lnt id=hl-5-26><a class=lnlinks href=#hl-5-26> 26</a>
</span><span class=lnt id=hl-5-27><a class=lnlinks href=#hl-5-27> 27</a>
</span><span class=lnt id=hl-5-28><a class=lnlinks href=#hl-5-28> 28</a>
</span><span class=lnt id=hl-5-29><a class=lnlinks href=#hl-5-29> 29</a>
</span><span class=lnt id=hl-5-30><a class=lnlinks href=#hl-5-30> 30</a>
</span><span class=lnt id=hl-5-31><a class=lnlinks href=#hl-5-31> 31</a>
</span><span class=lnt id=hl-5-32><a class=lnlinks href=#hl-5-32> 32</a>
</span><span class=lnt id=hl-5-33><a class=lnlinks href=#hl-5-33> 33</a>
</span><span class=lnt id=hl-5-34><a class=lnlinks href=#hl-5-34> 34</a>
</span><span class=lnt id=hl-5-35><a class=lnlinks href=#hl-5-35> 35</a>
</span><span class=lnt id=hl-5-36><a class=lnlinks href=#hl-5-36> 36</a>
</span><span class=lnt id=hl-5-37><a class=lnlinks href=#hl-5-37> 37</a>
</span><span class=lnt id=hl-5-38><a class=lnlinks href=#hl-5-38> 38</a>
</span><span class=lnt id=hl-5-39><a class=lnlinks href=#hl-5-39> 39</a>
</span><span class=lnt id=hl-5-40><a class=lnlinks href=#hl-5-40> 40</a>
</span><span class=lnt id=hl-5-41><a class=lnlinks href=#hl-5-41> 41</a>
</span><span class=lnt id=hl-5-42><a class=lnlinks href=#hl-5-42> 42</a>
</span><span class=lnt id=hl-5-43><a class=lnlinks href=#hl-5-43> 43</a>
</span><span class=lnt id=hl-5-44><a class=lnlinks href=#hl-5-44> 44</a>
</span><span class=lnt id=hl-5-45><a class=lnlinks href=#hl-5-45> 45</a>
</span><span class=lnt id=hl-5-46><a class=lnlinks href=#hl-5-46> 46</a>
</span><span class=lnt id=hl-5-47><a class=lnlinks href=#hl-5-47> 47</a>
</span><span class=lnt id=hl-5-48><a class=lnlinks href=#hl-5-48> 48</a>
</span><span class=lnt id=hl-5-49><a class=lnlinks href=#hl-5-49> 49</a>
</span><span class=lnt id=hl-5-50><a class=lnlinks href=#hl-5-50> 50</a>
</span><span class=lnt id=hl-5-51><a class=lnlinks href=#hl-5-51> 51</a>
</span><span class=lnt id=hl-5-52><a class=lnlinks href=#hl-5-52> 52</a>
</span><span class=lnt id=hl-5-53><a class=lnlinks href=#hl-5-53> 53</a>
</span><span class=lnt id=hl-5-54><a class=lnlinks href=#hl-5-54> 54</a>
</span><span class=lnt id=hl-5-55><a class=lnlinks href=#hl-5-55> 55</a>
</span><span class=lnt id=hl-5-56><a class=lnlinks href=#hl-5-56> 56</a>
</span><span class=lnt id=hl-5-57><a class=lnlinks href=#hl-5-57> 57</a>
</span><span class=lnt id=hl-5-58><a class=lnlinks href=#hl-5-58> 58</a>
</span><span class=lnt id=hl-5-59><a class=lnlinks href=#hl-5-59> 59</a>
</span><span class=lnt id=hl-5-60><a class=lnlinks href=#hl-5-60> 60</a>
</span><span class=lnt id=hl-5-61><a class=lnlinks href=#hl-5-61> 61</a>
</span><span class=lnt id=hl-5-62><a class=lnlinks href=#hl-5-62> 62</a>
</span><span class=lnt id=hl-5-63><a class=lnlinks href=#hl-5-63> 63</a>
</span><span class=lnt id=hl-5-64><a class=lnlinks href=#hl-5-64> 64</a>
</span><span class=lnt id=hl-5-65><a class=lnlinks href=#hl-5-65> 65</a>
</span><span class=lnt id=hl-5-66><a class=lnlinks href=#hl-5-66> 66</a>
</span><span class=lnt id=hl-5-67><a class=lnlinks href=#hl-5-67> 67</a>
</span><span class=lnt id=hl-5-68><a class=lnlinks href=#hl-5-68> 68</a>
</span><span class=lnt id=hl-5-69><a class=lnlinks href=#hl-5-69> 69</a>
</span><span class=lnt id=hl-5-70><a class=lnlinks href=#hl-5-70> 70</a>
</span><span class=lnt id=hl-5-71><a class=lnlinks href=#hl-5-71> 71</a>
</span><span class=lnt id=hl-5-72><a class=lnlinks href=#hl-5-72> 72</a>
</span><span class=lnt id=hl-5-73><a class=lnlinks href=#hl-5-73> 73</a>
</span><span class=lnt id=hl-5-74><a class=lnlinks href=#hl-5-74> 74</a>
</span><span class=lnt id=hl-5-75><a class=lnlinks href=#hl-5-75> 75</a>
</span><span class=lnt id=hl-5-76><a class=lnlinks href=#hl-5-76> 76</a>
</span><span class=lnt id=hl-5-77><a class=lnlinks href=#hl-5-77> 77</a>
</span><span class=lnt id=hl-5-78><a class=lnlinks href=#hl-5-78> 78</a>
</span><span class=lnt id=hl-5-79><a class=lnlinks href=#hl-5-79> 79</a>
</span><span class=lnt id=hl-5-80><a class=lnlinks href=#hl-5-80> 80</a>
</span><span class=lnt id=hl-5-81><a class=lnlinks href=#hl-5-81> 81</a>
</span><span class=lnt id=hl-5-82><a class=lnlinks href=#hl-5-82> 82</a>
</span><span class=lnt id=hl-5-83><a class=lnlinks href=#hl-5-83> 83</a>
</span><span class=lnt id=hl-5-84><a class=lnlinks href=#hl-5-84> 84</a>
</span><span class=lnt id=hl-5-85><a class=lnlinks href=#hl-5-85> 85</a>
</span><span class=lnt id=hl-5-86><a class=lnlinks href=#hl-5-86> 86</a>
</span><span class=lnt id=hl-5-87><a class=lnlinks href=#hl-5-87> 87</a>
</span><span class=lnt id=hl-5-88><a class=lnlinks href=#hl-5-88> 88</a>
</span><span class=lnt id=hl-5-89><a class=lnlinks href=#hl-5-89> 89</a>
</span><span class=lnt id=hl-5-90><a class=lnlinks href=#hl-5-90> 90</a>
</span><span class=lnt id=hl-5-91><a class=lnlinks href=#hl-5-91> 91</a>
</span><span class=lnt id=hl-5-92><a class=lnlinks href=#hl-5-92> 92</a>
</span><span class=lnt id=hl-5-93><a class=lnlinks href=#hl-5-93> 93</a>
</span><span class=lnt id=hl-5-94><a class=lnlinks href=#hl-5-94> 94</a>
</span><span class=lnt id=hl-5-95><a class=lnlinks href=#hl-5-95> 95</a>
</span><span class=lnt id=hl-5-96><a class=lnlinks href=#hl-5-96> 96</a>
</span><span class=lnt id=hl-5-97><a class=lnlinks href=#hl-5-97> 97</a>
</span><span class=lnt id=hl-5-98><a class=lnlinks href=#hl-5-98> 98</a>
</span><span class=lnt id=hl-5-99><a class=lnlinks href=#hl-5-99> 99</a>
</span><span class=lnt id=hl-5-100><a class=lnlinks href=#hl-5-100>100</a>
</span><span class=lnt id=hl-5-101><a class=lnlinks href=#hl-5-101>101</a>
</span><span class=lnt id=hl-5-102><a class=lnlinks href=#hl-5-102>102</a>
</span><span class=lnt id=hl-5-103><a class=lnlinks href=#hl-5-103>103</a>
</span><span class=lnt id=hl-5-104><a class=lnlinks href=#hl-5-104>104</a>
</span><span class=lnt id=hl-5-105><a class=lnlinks href=#hl-5-105>105</a>
</span><span class=lnt id=hl-5-106><a class=lnlinks href=#hl-5-106>106</a>
</span><span class=lnt id=hl-5-107><a class=lnlinks href=#hl-5-107>107</a>
</span><span class=lnt id=hl-5-108><a class=lnlinks href=#hl-5-108>108</a>
</span><span class=lnt id=hl-5-109><a class=lnlinks href=#hl-5-109>109</a>
</span><span class=lnt id=hl-5-110><a class=lnlinks href=#hl-5-110>110</a>
</span><span class=lnt id=hl-5-111><a class=lnlinks href=#hl-5-111>111</a>
</span><span class=lnt id=hl-5-112><a class=lnlinks href=#hl-5-112>112</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// 방문자 인터페이스</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>interface</span> <span class=nc>Visitor</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>visit</span><span class=p>(</span><span class=n>Circle</span><span class=w> </span><span class=n>circle</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>visit</span><span class=p>(</span><span class=n>Rectangle</span><span class=w> </span><span class=n>rectangle</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>visit</span><span class=p>(</span><span class=n>Triangle</span><span class=w> </span><span class=n>triangle</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 요소 인터페이스</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>interface</span> <span class=nc>Shape</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>accept</span><span class=p>(</span><span class=n>Visitor</span><span class=w> </span><span class=n>visitor</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 구체적인 요소</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>Circle</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>Shape</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=n>radius</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>Circle</span><span class=p>(</span><span class=kt>double</span><span class=w> </span><span class=n>radius</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>radius</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>radius</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=nf>getRadius</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>radius</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>accept</span><span class=p>(</span><span class=n>Visitor</span><span class=w> </span><span class=n>visitor</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>visitor</span><span class=p>.</span><span class=na>visit</span><span class=p>(</span><span class=k>this</span><span class=p>);</span><span class=w>  </span><span class=c1>// 할리우드 원칙 적용</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>Rectangle</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>Shape</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=n>width</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=n>height</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>Rectangle</span><span class=p>(</span><span class=kt>double</span><span class=w> </span><span class=n>width</span><span class=p>,</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=n>height</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>width</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>width</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>height</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=nf>getWidth</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>width</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=nf>getHeight</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>height</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>accept</span><span class=p>(</span><span class=n>Visitor</span><span class=w> </span><span class=n>visitor</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>visitor</span><span class=p>.</span><span class=na>visit</span><span class=p>(</span><span class=k>this</span><span class=p>);</span><span class=w>  </span><span class=c1>// 할리우드 원칙 적용</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>Triangle</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>Shape</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=n>base</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=n>height</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>Triangle</span><span class=p>(</span><span class=kt>double</span><span class=w> </span><span class=n>base</span><span class=p>,</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=n>height</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>base</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>base</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>height</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=nf>getBase</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>base</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=nf>getHeight</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>height</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>accept</span><span class=p>(</span><span class=n>Visitor</span><span class=w> </span><span class=n>visitor</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>visitor</span><span class=p>.</span><span class=na>visit</span><span class=p>(</span><span class=k>this</span><span class=p>);</span><span class=w>  </span><span class=c1>// 할리우드 원칙 적용</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 구체적인 방문자</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>AreaCalculator</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>Visitor</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>visit</span><span class=p>(</span><span class=n>Circle</span><span class=w> </span><span class=n>circle</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>double</span><span class=w> </span><span class=n>area</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Math</span><span class=p>.</span><span class=na>PI</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>circle</span><span class=p>.</span><span class=na>getRadius</span><span class=p>()</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>circle</span><span class=p>.</span><span class=na>getRadius</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;원의 면적: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>area</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>visit</span><span class=p>(</span><span class=n>Rectangle</span><span class=w> </span><span class=n>rectangle</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>double</span><span class=w> </span><span class=n>area</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rectangle</span><span class=p>.</span><span class=na>getWidth</span><span class=p>()</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>rectangle</span><span class=p>.</span><span class=na>getHeight</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;사각형의 면적: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>area</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>visit</span><span class=p>(</span><span class=n>Triangle</span><span class=w> </span><span class=n>triangle</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>double</span><span class=w> </span><span class=n>area</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>.</span><span class=na>5</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>triangle</span><span class=p>.</span><span class=na>getBase</span><span class=p>()</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>triangle</span><span class=p>.</span><span class=na>getHeight</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;삼각형의 면적: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>area</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 클라이언트 코드</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Main</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>List</span><span class=o>&lt;</span><span class=n>Shape</span><span class=o>&gt;</span><span class=w> </span><span class=n>shapes</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>shapes</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>Circle</span><span class=p>(</span><span class=n>5</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>shapes</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>Rectangle</span><span class=p>(</span><span class=n>4</span><span class=p>,</span><span class=w> </span><span class=n>6</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>shapes</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>Triangle</span><span class=p>(</span><span class=n>3</span><span class=p>,</span><span class=w> </span><span class=n>8</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Visitor</span><span class=w> </span><span class=n>areaCalculator</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>AreaCalculator</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>Shape</span><span class=w> </span><span class=n>shape</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>shapes</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>shape</span><span class=p>.</span><span class=na>accept</span><span class=p>(</span><span class=n>areaCalculator</span><span class=p>);</span><span class=w>  </span><span class=c1>// 요소가 방문자를 수용하고, 방문자가 적절한 메서드 호출</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=프레임워크와-라이브러리에서의-할리우드-원칙>프레임워크와 라이브러리에서의 할리우드 원칙<a hidden class=anchor aria-hidden=true href=#프레임워크와-라이브러리에서의-할리우드-원칙>#</a></h3><p>할리우드 원칙은 프레임워크와 라이브러리를 구분하는 중요한 특징 중 하나이다:</p><h4 id=프레임워크-할리우드-원칙-적용>프레임워크: 할리우드 원칙 적용<a hidden class=anchor aria-hidden=true href=#프레임워크-할리우드-원칙-적용>#</a></h4><p>프레임워크는 할리우드 원칙을 따른다.<br>개발자는 프레임워크에 자신의 코드를 등록하고, 프레임워크가 적절한 시점에 이 코드를 호출한다.</p><p>예를 들어, Spring 프레임워크에서는:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a>
</span><span class=lnt id=hl-6-13><a class=lnlinks href=#hl-6-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// Spring MVC 컨트롤러</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@Controller</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>UserController</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Autowired</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>UserService</span><span class=w> </span><span class=n>userService</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&#34;/users/{id}&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getUserProfile</span><span class=p>(</span><span class=nd>@PathVariable</span><span class=w> </span><span class=n>Long</span><span class=w> </span><span class=n>id</span><span class=p>,</span><span class=w> </span><span class=n>Model</span><span class=w> </span><span class=n>model</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>User</span><span class=w> </span><span class=n>user</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>userService</span><span class=p>.</span><span class=na>findById</span><span class=p>(</span><span class=n>id</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>model</span><span class=p>.</span><span class=na>addAttribute</span><span class=p>(</span><span class=s>&#34;user&#34;</span><span class=p>,</span><span class=w> </span><span class=n>user</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=s>&#34;userProfile&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>이 예제에서 개발자는 <code>UserController</code>를 구현하고 적절한 어노테이션으로 표시하면, Spring 프레임워크가 HTTP 요청이 들어오면 적절한 핸들러 메서드를 호출한다. 개발자는 프레임워크의 내부 동작을 알 필요가 없으며, 프레임워크가 적절한 시점에 자신의 코드를 호출할 것이라는 점만 알면 된다.</p><h4 id=라이브러리-전통적인-호출-방식>라이브러리: 전통적인 호출 방식<a hidden class=anchor aria-hidden=true href=#라이브러리-전통적인-호출-방식>#</a></h4><p>반면, 라이브러리는 전통적인 호출 방식을 따른다. 개발자가 라이브러리의 함수나 메서드를 직접 호출한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2>2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3>3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4>4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5>5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6>6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7>7</a>
</span><span class=lnt id=hl-7-8><a class=lnlinks href=#hl-7-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// Java의 Collections 라이브러리 사용</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>names</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>names</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=s>&#34;Alice&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>names</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=s>&#34;Bob&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>names</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=s>&#34;Charlie&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 개발자가 직접 라이브러리 메서드 호출</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Collections</span><span class=p>.</span><span class=na>sort</span><span class=p>(</span><span class=n>names</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>이 예제에서 개발자는 <code>Collections.sort()</code> 메서드를 직접 호출하여 리스트를 정렬한다. 라이브러리는 개발자의 코드를 호출하지 않습니다.</p><h3 id=할리우드-원칙의-장점>할리우드 원칙의 장점<a hidden class=anchor aria-hidden=true href=#할리우드-원칙의-장점>#</a></h3><p>할리우드 원칙을 적용하면 다양한 이점이 있다:</p><ol><li><p>의존성 감소<br>고수준 컴포넌트가 저수준 컴포넌트를 직접 호출하는 대신, 저수준 컴포넌트를 호출할 수 있는 방법을 제공함으로써 의존성을 줄인다. 이는 시스템의 결합도를 낮추고 유지보수성을 향상시킨다.</p></li><li><p>제어 흐름 중앙화<br>프로그램의 제어 흐름을 중앙화하여 전체 흐름을 더 쉽게 이해하고 관리할 수 있게 한다. 중앙화된 제어 흐름은 디버깅과 테스트가 더 쉽다.</p></li><li><p>확장성 향상<br>시스템의 핵심 구조를 변경하지 않고도 새로운 기능을 추가할 수 있어 확장성이 향상된다. 예를 들어, 템플릿 메서드 패턴에서는 새로운 알고리즘 변형을 추가하기 위해 새로운 하위 클래스만 추가하면 된다.</p></li><li><p>관심사 분리<br>고수준 정책(제어 흐름)과 저수준 세부사항(구체적인 구현)을 분리할 수 있어 각각을 독립적으로 발전시킬 수 있다. 이는 코드의 모듈성을 향상시키고 변경 사항의 영향 범위를 제한한다.</p></li><li><p>병렬 개발 촉진<br>인터페이스나 추상 클래스가 명확하게 정의되면, 여러 개발자가 고수준 컴포넌트와 저수준 컴포넌트를 동시에 개발할 수 있다. 이는 대규모 프로젝트에서 개발 효율성을 높인다.</p></li><li><p>코드 재사용성 향상<br>공통 로직은 고수준 컴포넌트에 한 번만 구현하고, 변화하는 부분만 저수준 컴포넌트에서 구현함으로써 코드 재사용성이 향상된다.</p></li></ol><h3 id=할리우드-원칙의-도전과-주의사항>할리우드 원칙의 도전과 주의사항<a hidden class=anchor aria-hidden=true href=#할리우드-원칙의-도전과-주의사항>#</a></h3><p>할리우드 원칙을 적용할 때는 몇 가지 도전과 주의사항이 있다:</p><ol><li><p>복잡성 증가<br>추상화 계층이 추가되면 시스템의 전체적인 복잡성이 증가할 수 있다. 특히 작은 프로젝트에서는 이러한 복잡성이 불필요할 수 있다.</p></li><li><p>디버깅 어려움<br>제어 흐름이 역전되면 코드의 실행 순서를 추적하기가 더 어려워질 수 있다. 이는 디버깅 과정을 복잡하게 만들 수 있다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span><span class=lnt id=hl-8-11><a class=lnlinks href=#hl-8-11>11</a>
</span><span class=lnt id=hl-8-12><a class=lnlinks href=#hl-8-12>12</a>
</span><span class=lnt id=hl-8-13><a class=lnlinks href=#hl-8-13>13</a>
</span><span class=lnt id=hl-8-14><a class=lnlinks href=#hl-8-14>14</a>
</span><span class=lnt id=hl-8-15><a class=lnlinks href=#hl-8-15>15</a>
</span><span class=lnt id=hl-8-16><a class=lnlinks href=#hl-8-16>16</a>
</span><span class=lnt id=hl-8-17><a class=lnlinks href=#hl-8-17>17</a>
</span><span class=lnt id=hl-8-18><a class=lnlinks href=#hl-8-18>18</a>
</span><span class=lnt id=hl-8-19><a class=lnlinks href=#hl-8-19>19</a>
</span><span class=lnt id=hl-8-20><a class=lnlinks href=#hl-8-20>20</a>
</span><span class=lnt id=hl-8-21><a class=lnlinks href=#hl-8-21>21</a>
</span><span class=lnt id=hl-8-22><a class=lnlinks href=#hl-8-22>22</a>
</span><span class=lnt id=hl-8-23><a class=lnlinks href=#hl-8-23>23</a>
</span><span class=lnt id=hl-8-24><a class=lnlinks href=#hl-8-24>24</a>
</span><span class=lnt id=hl-8-25><a class=lnlinks href=#hl-8-25>25</a>
</span><span class=lnt id=hl-8-26><a class=lnlinks href=#hl-8-26>26</a>
</span><span class=lnt id=hl-8-27><a class=lnlinks href=#hl-8-27>27</a>
</span><span class=lnt id=hl-8-28><a class=lnlinks href=#hl-8-28>28</a>
</span><span class=lnt id=hl-8-29><a class=lnlinks href=#hl-8-29>29</a>
</span><span class=lnt id=hl-8-30><a class=lnlinks href=#hl-8-30>30</a>
</span><span class=lnt id=hl-8-31><a class=lnlinks href=#hl-8-31>31</a>
</span><span class=lnt id=hl-8-32><a class=lnlinks href=#hl-8-32>32</a>
</span><span class=lnt id=hl-8-33><a class=lnlinks href=#hl-8-33>33</a>
</span><span class=lnt id=hl-8-34><a class=lnlinks href=#hl-8-34>34</a>
</span><span class=lnt id=hl-8-35><a class=lnlinks href=#hl-8-35>35</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// 디버깅이 어려울 수 있는 예</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>ComplexFramework</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>List</span><span class=o>&lt;</span><span class=n>Plugin</span><span class=o>&gt;</span><span class=w> </span><span class=n>plugins</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>registerPlugin</span><span class=p>(</span><span class=n>Plugin</span><span class=w> </span><span class=n>plugin</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>plugins</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>plugin</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>start</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 초기화 단계</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>Plugin</span><span class=w> </span><span class=n>plugin</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>plugins</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>plugin</span><span class=p>.</span><span class=na>initialize</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 실행 단계</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>Plugin</span><span class=w> </span><span class=n>plugin</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>plugins</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>plugin</span><span class=p>.</span><span class=na>isApplicable</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>plugin</span><span class=p>.</span><span class=na>execute</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 정리 단계</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>Plugin</span><span class=w> </span><span class=n>plugin</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>plugins</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>plugin</span><span class=p>.</span><span class=na>cleanup</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 플러그인 인터페이스</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>interface</span> <span class=nc>Plugin</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>initialize</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>boolean</span><span class=w> </span><span class=nf>isApplicable</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>execute</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>cleanup</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>이 예제에서 플러그인 메서드의 실행 순서와 맥락을 추적하기 어려울 수 있다. 특히 여러 플러그인이 서로 상호작용하는 경우 더욱 그렇다.</p></li><li><p>성능 오버헤드<br>추가적인 추상화 계층이나 간접 호출로 인해 성능 오버헤드가 발생할 수 있다. 대부분의 경우 이 오버헤드는 무시할 만하지만, 성능이 중요한 시스템에서는 고려해야 할 사항이다.</p></li><li><p>학습 곡선<br>할리우드 원칙과 관련 패턴을 효과적으로 사용하려면 일정한 학습 곡선이 필요하다. 팀 전체가 이러한 개념에 익숙하지 않다면, 초기에는 생산성이 저하될 수 있다.</p></li></ol><h3 id=실제-응용-사례-이벤트-기반-아키텍처>실제 응용 사례: 이벤트 기반 아키텍처<a hidden class=anchor aria-hidden=true href=#실제-응용-사례-이벤트-기반-아키텍처>#</a></h3><p>할리우드 원칙은 이벤트 기반 아키텍처에서 널리 사용된다.<br>이벤트 생산자는 이벤트를 발생시키고, 이벤트 소비자는 이벤트에 반응한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11>11</a>
</span><span class=lnt id=hl-9-12><a class=lnlinks href=#hl-9-12>12</a>
</span><span class=lnt id=hl-9-13><a class=lnlinks href=#hl-9-13>13</a>
</span><span class=lnt id=hl-9-14><a class=lnlinks href=#hl-9-14>14</a>
</span><span class=lnt id=hl-9-15><a class=lnlinks href=#hl-9-15>15</a>
</span><span class=lnt id=hl-9-16><a class=lnlinks href=#hl-9-16>16</a>
</span><span class=lnt id=hl-9-17><a class=lnlinks href=#hl-9-17>17</a>
</span><span class=lnt id=hl-9-18><a class=lnlinks href=#hl-9-18>18</a>
</span><span class=lnt id=hl-9-19><a class=lnlinks href=#hl-9-19>19</a>
</span><span class=lnt id=hl-9-20><a class=lnlinks href=#hl-9-20>20</a>
</span><span class=lnt id=hl-9-21><a class=lnlinks href=#hl-9-21>21</a>
</span><span class=lnt id=hl-9-22><a class=lnlinks href=#hl-9-22>22</a>
</span><span class=lnt id=hl-9-23><a class=lnlinks href=#hl-9-23>23</a>
</span><span class=lnt id=hl-9-24><a class=lnlinks href=#hl-9-24>24</a>
</span><span class=lnt id=hl-9-25><a class=lnlinks href=#hl-9-25>25</a>
</span><span class=lnt id=hl-9-26><a class=lnlinks href=#hl-9-26>26</a>
</span><span class=lnt id=hl-9-27><a class=lnlinks href=#hl-9-27>27</a>
</span><span class=lnt id=hl-9-28><a class=lnlinks href=#hl-9-28>28</a>
</span><span class=lnt id=hl-9-29><a class=lnlinks href=#hl-9-29>29</a>
</span><span class=lnt id=hl-9-30><a class=lnlinks href=#hl-9-30>30</a>
</span><span class=lnt id=hl-9-31><a class=lnlinks href=#hl-9-31>31</a>
</span><span class=lnt id=hl-9-32><a class=lnlinks href=#hl-9-32>32</a>
</span><span class=lnt id=hl-9-33><a class=lnlinks href=#hl-9-33>33</a>
</span><span class=lnt id=hl-9-34><a class=lnlinks href=#hl-9-34>34</a>
</span><span class=lnt id=hl-9-35><a class=lnlinks href=#hl-9-35>35</a>
</span><span class=lnt id=hl-9-36><a class=lnlinks href=#hl-9-36>36</a>
</span><span class=lnt id=hl-9-37><a class=lnlinks href=#hl-9-37>37</a>
</span><span class=lnt id=hl-9-38><a class=lnlinks href=#hl-9-38>38</a>
</span><span class=lnt id=hl-9-39><a class=lnlinks href=#hl-9-39>39</a>
</span><span class=lnt id=hl-9-40><a class=lnlinks href=#hl-9-40>40</a>
</span><span class=lnt id=hl-9-41><a class=lnlinks href=#hl-9-41>41</a>
</span><span class=lnt id=hl-9-42><a class=lnlinks href=#hl-9-42>42</a>
</span><span class=lnt id=hl-9-43><a class=lnlinks href=#hl-9-43>43</a>
</span><span class=lnt id=hl-9-44><a class=lnlinks href=#hl-9-44>44</a>
</span><span class=lnt id=hl-9-45><a class=lnlinks href=#hl-9-45>45</a>
</span><span class=lnt id=hl-9-46><a class=lnlinks href=#hl-9-46>46</a>
</span><span class=lnt id=hl-9-47><a class=lnlinks href=#hl-9-47>47</a>
</span><span class=lnt id=hl-9-48><a class=lnlinks href=#hl-9-48>48</a>
</span><span class=lnt id=hl-9-49><a class=lnlinks href=#hl-9-49>49</a>
</span><span class=lnt id=hl-9-50><a class=lnlinks href=#hl-9-50>50</a>
</span><span class=lnt id=hl-9-51><a class=lnlinks href=#hl-9-51>51</a>
</span><span class=lnt id=hl-9-52><a class=lnlinks href=#hl-9-52>52</a>
</span><span class=lnt id=hl-9-53><a class=lnlinks href=#hl-9-53>53</a>
</span><span class=lnt id=hl-9-54><a class=lnlinks href=#hl-9-54>54</a>
</span><span class=lnt id=hl-9-55><a class=lnlinks href=#hl-9-55>55</a>
</span><span class=lnt id=hl-9-56><a class=lnlinks href=#hl-9-56>56</a>
</span><span class=lnt id=hl-9-57><a class=lnlinks href=#hl-9-57>57</a>
</span><span class=lnt id=hl-9-58><a class=lnlinks href=#hl-9-58>58</a>
</span><span class=lnt id=hl-9-59><a class=lnlinks href=#hl-9-59>59</a>
</span><span class=lnt id=hl-9-60><a class=lnlinks href=#hl-9-60>60</a>
</span><span class=lnt id=hl-9-61><a class=lnlinks href=#hl-9-61>61</a>
</span><span class=lnt id=hl-9-62><a class=lnlinks href=#hl-9-62>62</a>
</span><span class=lnt id=hl-9-63><a class=lnlinks href=#hl-9-63>63</a>
</span><span class=lnt id=hl-9-64><a class=lnlinks href=#hl-9-64>64</a>
</span><span class=lnt id=hl-9-65><a class=lnlinks href=#hl-9-65>65</a>
</span><span class=lnt id=hl-9-66><a class=lnlinks href=#hl-9-66>66</a>
</span><span class=lnt id=hl-9-67><a class=lnlinks href=#hl-9-67>67</a>
</span><span class=lnt id=hl-9-68><a class=lnlinks href=#hl-9-68>68</a>
</span><span class=lnt id=hl-9-69><a class=lnlinks href=#hl-9-69>69</a>
</span><span class=lnt id=hl-9-70><a class=lnlinks href=#hl-9-70>70</a>
</span><span class=lnt id=hl-9-71><a class=lnlinks href=#hl-9-71>71</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// 이벤트 클래스</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>OrderEvent</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>orderId</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>status</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>OrderEvent</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>orderId</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=n>status</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>orderId</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>orderId</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>status</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getOrderId</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>orderId</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>getStatus</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>status</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 이벤트 버스</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>EventBus</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=n>Map</span><span class=o>&lt;</span><span class=n>Class</span><span class=o>&lt;?&gt;</span><span class=p>,</span><span class=w> </span><span class=n>List</span><span class=o>&lt;</span><span class=n>EventListener</span><span class=o>&lt;?&gt;&gt;&gt;</span><span class=w> </span><span class=n>listeners</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>HashMap</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>register</span><span class=p>(</span><span class=n>Class</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span><span class=w> </span><span class=n>eventType</span><span class=p>,</span><span class=w> </span><span class=n>EventListener</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span><span class=w> </span><span class=n>listener</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>listeners</span><span class=p>.</span><span class=na>computeIfAbsent</span><span class=p>(</span><span class=n>eventType</span><span class=p>,</span><span class=w> </span><span class=n>k</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>()).</span><span class=na>add</span><span class=p>(</span><span class=n>listener</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>post</span><span class=p>(</span><span class=n>T</span><span class=w> </span><span class=n>event</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>List</span><span class=o>&lt;</span><span class=n>EventListener</span><span class=o>&lt;?&gt;&gt;</span><span class=w> </span><span class=n>eventListeners</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>listeners</span><span class=p>.</span><span class=na>getOrDefault</span><span class=p>(</span><span class=n>event</span><span class=p>.</span><span class=na>getClass</span><span class=p>(),</span><span class=w> </span><span class=n>Collections</span><span class=p>.</span><span class=na>emptyList</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>EventListener</span><span class=o>&lt;?&gt;</span><span class=w> </span><span class=n>listener</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>eventListeners</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>((</span><span class=n>EventListener</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span><span class=p>)</span><span class=w> </span><span class=n>listener</span><span class=p>).</span><span class=na>onEvent</span><span class=p>(</span><span class=n>event</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 이벤트 리스너 인터페이스</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>interface</span> <span class=nc>EventListener</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>onEvent</span><span class=p>(</span><span class=n>T</span><span class=w> </span><span class=n>event</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 구체적인 이벤트 리스너</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>OrderProcessor</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>EventListener</span><span class=o>&lt;</span><span class=n>OrderEvent</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>onEvent</span><span class=p>(</span><span class=n>OrderEvent</span><span class=w> </span><span class=n>event</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;주문 처리: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>event</span><span class=p>.</span><span class=na>getOrderId</span><span class=p>()</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&#34;, 상태: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>event</span><span class=p>.</span><span class=na>getStatus</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 주문 처리 로직</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>class</span> <span class=nc>NotificationService</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>EventListener</span><span class=o>&lt;</span><span class=n>OrderEvent</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>onEvent</span><span class=p>(</span><span class=n>OrderEvent</span><span class=w> </span><span class=n>event</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;알림 전송: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>event</span><span class=p>.</span><span class=na>getOrderId</span><span class=p>()</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&#34;, 상태: &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>event</span><span class=p>.</span><span class=na>getStatus</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 알림 전송 로직</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 이벤트 발생</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Main</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>EventBus</span><span class=w> </span><span class=n>eventBus</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>EventBus</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 리스너 등록</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>eventBus</span><span class=p>.</span><span class=na>register</span><span class=p>(</span><span class=n>OrderEvent</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>OrderProcessor</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>eventBus</span><span class=p>.</span><span class=na>register</span><span class=p>(</span><span class=n>OrderEvent</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>NotificationService</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 이벤트 발생</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>eventBus</span><span class=p>.</span><span class=na>post</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>OrderEvent</span><span class=p>(</span><span class=s>&#34;ORD-123&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;CREATED&#34;</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>eventBus</span><span class=p>.</span><span class=na>post</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>OrderEvent</span><span class=p>(</span><span class=s>&#34;ORD-123&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;PAID&#34;</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>이 예제에서 <code>EventBus</code>(고수준 컴포넌트)는 이벤트 발생 시 적절한 리스너를 호출하는 제어 흐름을 관리한다. 리스너(저수준 컴포넌트)는 자신이 언제 호출될지 모르며, <code>EventBus</code>에 등록되어 적절한 이벤트가 발생했을 때 호출된다.</p><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/software-design-and-architecture/>Software-Design-and-Architecture</a></li><li><a href=https://buenhyden.github.io/tags/design-principles/>Design-Principles</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/backend/api-design/authentication-methods/jwt/rfc-7519/><span class=title>« Prev</span><br><span>RFC 7519</span>
</a><a class=next href=https://buenhyden.github.io/posts/software-design-and-architecture/design-principles/program-against-abstractions/><span class=title>Next »</span><br><span>Program Against Abstractions</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>