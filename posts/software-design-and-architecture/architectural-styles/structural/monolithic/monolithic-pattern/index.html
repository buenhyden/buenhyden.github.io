<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Monolithic Pattern | hyunyoun's Blog</title>
<meta name=keywords content="Software-Design-and-Architecture,Software-Architecture-Patterns,Monolithic"><meta name=description content="애플리케이션의 모든 구성 요소가 단일 코드베이스와 단일 실행 단위로 통합된 형태"><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/software-design-and-architecture/architectural-styles/structural/monolithic/monolithic-pattern/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.9a2bbe2d8b5afa9d4df22976abb7b72f1f7f1c467d2b30f03090108f9496ae6c.css integrity="sha256-miu+LYta+p1N8il2q7e3Lx9/HEZ9KzDwMJAQj5SWrmw=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/software-design-and-architecture/architectural-styles/structural/monolithic/monolithic-pattern/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/software-design-and-architecture/architectural-styles/structural/monolithic/monolithic-pattern/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Monolithic Pattern"><meta property="og:description" content="애플리케이션의 모든 구성 요소가 단일 코드베이스와 단일 실행 단위로 통합된 형태"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-09-27T11:14:00+00:00"><meta property="article:modified_time" content="2024-09-27T11:14:00+00:00"><meta property="article:tag" content="Software-Design-and-Architecture"><meta property="article:tag" content="Software-Architecture-Patterns"><meta property="article:tag" content="Monolithic"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Monolithic Pattern"><meta name=twitter:description content="애플리케이션의 모든 구성 요소가 단일 코드베이스와 단일 실행 단위로 통합된 형태"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"posts","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Software Design and Architecture","item":"https://buenhyden.github.io/posts/software-design-and-architecture/"},{"@type":"ListItem","position":3,"name":"Architectural Styles","item":"https://buenhyden.github.io/posts/software-design-and-architecture/architectural-styles/"},{"@type":"ListItem","position":4,"name":"Monolithic Pattern","item":"https://buenhyden.github.io/posts/software-design-and-architecture/architectural-styles/structural/monolithic/monolithic-pattern/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Monolithic Pattern","name":"Monolithic Pattern","description":"애플리케이션의 모든 구성 요소가 단일 코드베이스와 단일 실행 단위로 통합된 형태","keywords":["Software-Design-and-Architecture","Software-Architecture-Patterns","Monolithic"],"articleBody":"Monolithic Pattern 모놀리식 패턴(Monolithic Pattern)은 소프트웨어 아키텍처에서 가장 전통적이고 널리 사용되는 패턴 중 하나.\n이 패턴은 애플리케이션의 모든 구성 요소가 단일 코드베이스와 단일 실행 단위로 통합된 형태를 취한다.\n주요 특징 단일 코드베이스: 모든 기능과 모듈이 하나의 코드베이스에 통합되어 있습니다. 단일 배포 단위: 전체 애플리케이션이 하나의 단위로 빌드되고 배포됩니다. 공유 데이터베이스: 일반적으로 하나의 중앙 집중식 데이터베이스를 사용합니다. 통합된 구성 요소: UI, 비즈니스 로직, 데이터 접근 계층 등이 모두 하나의 애플리케이션 내에 포함됩니다. 주요 구성 요소 https://medium.com/design-microservices-architecture-with-patterns/monolithic-to-microservices-architecture-with-patterns-best-practices-a768272797b2\n계층형 구조: 모놀리식 애플리케이션은 일반적으로 여러 논리적 계층으로 구성됩니다: 프레젠테이션 계층 (API, UI) 비즈니스 로직 계층 (서비스) 데이터 접근 계층 (데이터베이스) 각 계층은 명확한 책임을 가지고 있으며, 상위 계층은 하위 계층에 의존합니다. 공유 자원: 데이터베이스, 캐시, 파일 시스템 등의 자원을 애플리케이션 전체가 공유합니다. 이는 자원 관리는 단순화하지만, 확장성에는 제약이 될 수 있습니다. 통합된 배포: 전체 애플리케이션이 하나의 단위로 배포됩니다. 이는 배포 프로세스를 단순화하지만, 작은 변경사항에도 전체를 재배포해야 합니다. 장점 개발 및 배포의 단순성: 초기 개발과 배포가 상대적으로 간단합니다. 쉬운 디버깅과 테스팅: 전체 시스템을 한 번에 테스트할 수 있어 엔드-투-엔드 테스트가 용이합니다. 성능 최적화: 단일 애플리케이션으로 구성되어 있어 성능 최적화가 쉽습니다. 팀 협업의 용이성: 하나의 코드베이스에서 작업하므로 초기 단계에서 팀 협업이 쉽습니다. 단점 확장성 문제: 애플리케이션의 일부만 확장하기 어렵고, 전체를 확장해야 합니다. 유연성 부족: 새로운 기술 도입이나 부분적인 업데이트가 어렵습니다. 배포의 복잡성: 작은 변경사항에도 전체 애플리케이션을 재배포해야 합니다. 유지보수의 어려움: 애플리케이션 규모가 커질수록 코드 이해와 유지보수가 어려워집니다. 기술 스택 제한: 전체 애플리케이션이 동일한 기술 스택을 사용해야 합니다. 적합한 상황 소규모 프로젝트: 초기 개발 단계나 작은 규모의 애플리케이션에 적합합니다. 빠른 프로토타이핑: 빠르게 제품을 개발하고 출시해야 하는 경우에 유용합니다. 단순한 비즈니스 로직: 복잡하지 않은 비즈니스 로직을 가진 애플리케이션에 적합합니다. 제한된 리소스: 개발 인력이나 인프라 리소스가 제한적인 경우에 효과적입니다. 구현 예시 온라인 쇼핑몰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 from datetime import datetime from typing import List, Optional import sqlite3 from dataclasses import dataclass from abc import ABC, abstractmethod # 도메인 모델 @dataclass class Product: id: Optional[int] name: str price: float stock: int @dataclass class User: id: Optional[int] username: str email: str password_hash: str @dataclass class Order: id: Optional[int] user_id: int total_amount: float status: str created_at: datetime @dataclass class OrderItem: id: Optional[int] order_id: int product_id: int quantity: int price: float # 데이터베이스 관리 class Database: def __init__(self, db_path: str): self.db_path = db_path self._init_db() def _init_db(self): \"\"\"데이터베이스 스키마 초기화\"\"\" with sqlite3.connect(self.db_path) as conn: conn.execute(\"\"\" CREATE TABLE IF NOT EXISTS users ( id INTEGER PRIMARY KEY AUTOINCREMENT, username TEXT NOT NULL, email TEXT UNIQUE NOT NULL, password_hash TEXT NOT NULL ) \"\"\") conn.execute(\"\"\" CREATE TABLE IF NOT EXISTS products ( id INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT NOT NULL, price REAL NOT NULL, stock INTEGER NOT NULL ) \"\"\") conn.execute(\"\"\" CREATE TABLE IF NOT EXISTS orders ( id INTEGER PRIMARY KEY AUTOINCREMENT, user_id INTEGER NOT NULL, total_amount REAL NOT NULL, status TEXT NOT NULL, created_at TEXT NOT NULL, FOREIGN KEY (user_id) REFERENCES users (id) ) \"\"\") conn.execute(\"\"\" CREATE TABLE IF NOT EXISTS order_items ( id INTEGER PRIMARY KEY AUTOINCREMENT, order_id INTEGER NOT NULL, product_id INTEGER NOT NULL, quantity INTEGER NOT NULL, price REAL NOT NULL, FOREIGN KEY (order_id) REFERENCES orders (id), FOREIGN KEY (product_id) REFERENCES products (id) ) \"\"\") def get_connection(self): return sqlite3.connect(self.db_path) # 서비스 계층 class UserService: def __init__(self, db: Database): self.db = db def register_user(self, username: str, email: str, password: str) -\u003e User: # 실제 구현에서는 비밀번호를 해시화해야 합니다 with self.db.get_connection() as conn: cursor = conn.execute( \"INSERT INTO users (username, email, password_hash) VALUES (?, ?, ?)\", (username, email, password) ) return User( id=cursor.lastrowid, username=username, email=email, password_hash=password ) def get_user(self, user_id: int) -\u003e Optional[User]: with self.db.get_connection() as conn: cursor = conn.execute( \"SELECT * FROM users WHERE id = ?\", (user_id,) ) row = cursor.fetchone() if row: return User( id=row[0], username=row[1], email=row[2], password_hash=row[3] ) return None class ProductService: def __init__(self, db: Database): self.db = db def add_product(self, name: str, price: float, stock: int) -\u003e Product: with self.db.get_connection() as conn: cursor = conn.execute( \"INSERT INTO products (name, price, stock) VALUES (?, ?, ?)\", (name, price, stock) ) return Product( id=cursor.lastrowid, name=name, price=price, stock=stock ) def update_stock(self, product_id: int, quantity_change: int) -\u003e bool: with self.db.get_connection() as conn: cursor = conn.execute( \"UPDATE products SET stock = stock + ? WHERE id = ? AND stock + ? \u003e= 0\", (quantity_change, product_id, quantity_change) ) return cursor.rowcount \u003e 0 class OrderService: def __init__(self, db: Database, product_service: ProductService): self.db = db self.product_service = product_service def create_order(self, user_id: int, items: List[tuple[int, int]]) -\u003e Optional[Order]: \"\"\"주문 생성 (product_id, quantity)의 리스트를 받음\"\"\" total_amount = 0 order_items = [] # 재고 확인 및 가격 계산 with self.db.get_connection() as conn: for product_id, quantity in items: cursor = conn.execute( \"SELECT price, stock FROM products WHERE id = ?\", (product_id,) ) row = cursor.fetchone() if not row or row[1] \u003c quantity: return None total_amount += row[0] * quantity order_items.append((product_id, quantity, row[0])) # 주문 생성 cursor = conn.execute( \"\"\" INSERT INTO orders (user_id, total_amount, status, created_at) VALUES (?, ?, ?, ?) \"\"\", (user_id, total_amount, \"PENDING\", datetime.now().isoformat()) ) order_id = cursor.lastrowid # 주문 아이템 생성 및 재고 감소 for product_id, quantity, price in order_items: conn.execute( \"\"\" INSERT INTO order_items (order_id, product_id, quantity, price) VALUES (?, ?, ?, ?) \"\"\", (order_id, product_id, quantity, price) ) self.product_service.update_stock(product_id, -quantity) return Order( id=order_id, user_id=user_id, total_amount=total_amount, status=\"PENDING\", created_at=datetime.now() ) # API 계층 class ShoppingAPI: def __init__(self): self.db = Database(\"shop.db\") self.user_service = UserService(self.db) self.product_service = ProductService(self.db) self.order_service = OrderService(self.db, self.product_service) def register_user(self, username: str, email: str, password: str) -\u003e dict: try: user = self.user_service.register_user(username, email, password) return {\"status\": \"success\", \"user_id\": user.id} except Exception as e: return {\"status\": \"error\", \"message\": str(e)} def create_order(self, user_id: int, items: List[tuple[int, int]]) -\u003e dict: try: order = self.order_service.create_order(user_id, items) if order: return { \"status\": \"success\", \"order_id\": order.id, \"total_amount\": order.total_amount } return {\"status\": \"error\", \"message\": \"Failed to create order\"} except Exception as e: return {\"status\": \"error\", \"message\": str(e)} # 애플리케이션 사용 예시 def main(): api = ShoppingAPI() # 사용자 등록 user_result = api.register_user( \"john_doe\", \"john@example.com\", \"password123\" ) print(f\"User registration: {user_result}\") # 제품 추가 product_service = api.product_service product1 = product_service.add_product(\"Laptop\", 1200.0, 10) product2 = product_service.add_product(\"Mouse\", 25.0, 50) # 주문 생성 order_result = api.create_order( user_result[\"user_id\"], [(product1.id, 1), (product2.id, 2)] ) print(f\"Order creation: {order_result}\") if __name__ == \"__main__\": main() 참고 및 출처 ","wordCount":"1252","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-09-27T11:14:00Z","dateModified":"2024-09-27T11:14:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/software-design-and-architecture/architectural-styles/structural/monolithic/monolithic-pattern/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>posts</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-design-and-architecture/>Software Design and Architecture</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-design-and-architecture/architectural-styles/>Architectural Styles</a></div><h1 class="post-title entry-hint-parent">Monolithic Pattern</h1><div class=post-description>애플리케이션의 모든 구성 요소가 단일 코드베이스와 단일 실행 단위로 통합된 형태</div><div class=post-meta><span title='2024-09-27 11:14:00 +0000 UTC'>September 27, 2024</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;1252 words&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Software%20Design%20and%20Architecture/Architectural%20Styles/Structural/Monolithic/Monolithic-Pattern.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#monolithic-pattern>Monolithic Pattern</a><ul><li><a href=#주요-특징>주요 특징</a></li><li><a href=#주요-구성-요소>주요 구성 요소</a></li><li><a href=#장점>장점</a></li><li><a href=#단점>단점</a></li><li><a href=#적합한-상황>적합한 상황</a></li><li><a href=#구현-예시>구현 예시</a></li></ul></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=monolithic-pattern>Monolithic Pattern<a hidden class=anchor aria-hidden=true href=#monolithic-pattern>#</a></h2><p>모놀리식 패턴(Monolithic Pattern)은 소프트웨어 아키텍처에서 가장 전통적이고 널리 사용되는 패턴 중 하나.<br>이 패턴은 애플리케이션의 모든 구성 요소가 단일 코드베이스와 단일 실행 단위로 통합된 형태를 취한다.</p><h3 id=주요-특징>주요 특징<a hidden class=anchor aria-hidden=true href=#주요-특징>#</a></h3><ol><li><strong>단일 코드베이스</strong>: 모든 기능과 모듈이 하나의 코드베이스에 통합되어 있습니다.</li><li><strong>단일 배포 단위</strong>: 전체 애플리케이션이 하나의 단위로 빌드되고 배포됩니다.</li><li><strong>공유 데이터베이스</strong>: 일반적으로 하나의 중앙 집중식 데이터베이스를 사용합니다.</li><li><strong>통합된 구성 요소</strong>: UI, 비즈니스 로직, 데이터 접근 계층 등이 모두 하나의 애플리케이션 내에 포함됩니다.</li></ol><h3 id=주요-구성-요소>주요 구성 요소<a hidden class=anchor aria-hidden=true href=#주요-구성-요소>#</a></h3><p><figure><img alt="Monolithic Architecture" loading=lazy src=/img/1_HuM5OTnmQNUC2oIwiOn22A.webp><figcaption>https://medium.com/design-microservices-architecture-with-patterns/monolithic-to-microservices-architecture-with-patterns-best-practices-a768272797b2</figcaption></figure></p><ol><li>계층형 구조: 모놀리식 애플리케이션은 일반적으로 여러 논리적 계층으로 구성됩니다:</li></ol><ul><li>프레젠테이션 계층 (API, UI)</li><li>비즈니스 로직 계층 (서비스)</li><li>데이터 접근 계층 (데이터베이스) 각 계층은 명확한 책임을 가지고 있으며, 상위 계층은 하위 계층에 의존합니다.</li></ul><ol start=2><li>공유 자원: 데이터베이스, 캐시, 파일 시스템 등의 자원을 애플리케이션 전체가 공유합니다. 이는 자원 관리는 단순화하지만, 확장성에는 제약이 될 수 있습니다.</li><li>통합된 배포: 전체 애플리케이션이 하나의 단위로 배포됩니다. 이는 배포 프로세스를 단순화하지만, 작은 변경사항에도 전체를 재배포해야 합니다.</li></ol><h3 id=장점>장점<a hidden class=anchor aria-hidden=true href=#장점>#</a></h3><ol><li><strong>개발 및 배포의 단순성</strong>: 초기 개발과 배포가 상대적으로 간단합니다.</li><li><strong>쉬운 디버깅과 테스팅</strong>: 전체 시스템을 한 번에 테스트할 수 있어 엔드-투-엔드 테스트가 용이합니다.</li><li><strong>성능 최적화</strong>: 단일 애플리케이션으로 구성되어 있어 성능 최적화가 쉽습니다.</li><li><strong>팀 협업의 용이성</strong>: 하나의 코드베이스에서 작업하므로 초기 단계에서 팀 협업이 쉽습니다.</li></ol><h3 id=단점>단점<a hidden class=anchor aria-hidden=true href=#단점>#</a></h3><ol><li><strong>확장성 문제</strong>: 애플리케이션의 일부만 확장하기 어렵고, 전체를 확장해야 합니다.</li><li><strong>유연성 부족</strong>: 새로운 기술 도입이나 부분적인 업데이트가 어렵습니다.</li><li><strong>배포의 복잡성</strong>: 작은 변경사항에도 전체 애플리케이션을 재배포해야 합니다.</li><li><strong>유지보수의 어려움</strong>: 애플리케이션 규모가 커질수록 코드 이해와 유지보수가 어려워집니다.</li><li><strong>기술 스택 제한</strong>: 전체 애플리케이션이 동일한 기술 스택을 사용해야 합니다.</li></ol><h3 id=적합한-상황>적합한 상황<a hidden class=anchor aria-hidden=true href=#적합한-상황>#</a></h3><ol><li><strong>소규모 프로젝트</strong>: 초기 개발 단계나 작은 규모의 애플리케이션에 적합합니다.</li><li><strong>빠른 프로토타이핑</strong>: 빠르게 제품을 개발하고 출시해야 하는 경우에 유용합니다.</li><li><strong>단순한 비즈니스 로직</strong>: 복잡하지 않은 비즈니스 로직을 가진 애플리케이션에 적합합니다.</li><li><strong>제한된 리소스</strong>: 개발 인력이나 인프라 리소스가 제한적인 경우에 효과적입니다.</li></ol><h3 id=구현-예시>구현 예시<a hidden class=anchor aria-hidden=true href=#구현-예시>#</a></h3><p>온라인 쇼핑몰</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>  1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>  2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3>  3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4>  4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5>  5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6>  6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7>  7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8>  8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9>  9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10> 10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11> 11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12> 12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13> 13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14> 14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15> 15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16> 16</a>
</span><span class=lnt id=hl-0-17><a class=lnlinks href=#hl-0-17> 17</a>
</span><span class=lnt id=hl-0-18><a class=lnlinks href=#hl-0-18> 18</a>
</span><span class=lnt id=hl-0-19><a class=lnlinks href=#hl-0-19> 19</a>
</span><span class=lnt id=hl-0-20><a class=lnlinks href=#hl-0-20> 20</a>
</span><span class=lnt id=hl-0-21><a class=lnlinks href=#hl-0-21> 21</a>
</span><span class=lnt id=hl-0-22><a class=lnlinks href=#hl-0-22> 22</a>
</span><span class=lnt id=hl-0-23><a class=lnlinks href=#hl-0-23> 23</a>
</span><span class=lnt id=hl-0-24><a class=lnlinks href=#hl-0-24> 24</a>
</span><span class=lnt id=hl-0-25><a class=lnlinks href=#hl-0-25> 25</a>
</span><span class=lnt id=hl-0-26><a class=lnlinks href=#hl-0-26> 26</a>
</span><span class=lnt id=hl-0-27><a class=lnlinks href=#hl-0-27> 27</a>
</span><span class=lnt id=hl-0-28><a class=lnlinks href=#hl-0-28> 28</a>
</span><span class=lnt id=hl-0-29><a class=lnlinks href=#hl-0-29> 29</a>
</span><span class=lnt id=hl-0-30><a class=lnlinks href=#hl-0-30> 30</a>
</span><span class=lnt id=hl-0-31><a class=lnlinks href=#hl-0-31> 31</a>
</span><span class=lnt id=hl-0-32><a class=lnlinks href=#hl-0-32> 32</a>
</span><span class=lnt id=hl-0-33><a class=lnlinks href=#hl-0-33> 33</a>
</span><span class=lnt id=hl-0-34><a class=lnlinks href=#hl-0-34> 34</a>
</span><span class=lnt id=hl-0-35><a class=lnlinks href=#hl-0-35> 35</a>
</span><span class=lnt id=hl-0-36><a class=lnlinks href=#hl-0-36> 36</a>
</span><span class=lnt id=hl-0-37><a class=lnlinks href=#hl-0-37> 37</a>
</span><span class=lnt id=hl-0-38><a class=lnlinks href=#hl-0-38> 38</a>
</span><span class=lnt id=hl-0-39><a class=lnlinks href=#hl-0-39> 39</a>
</span><span class=lnt id=hl-0-40><a class=lnlinks href=#hl-0-40> 40</a>
</span><span class=lnt id=hl-0-41><a class=lnlinks href=#hl-0-41> 41</a>
</span><span class=lnt id=hl-0-42><a class=lnlinks href=#hl-0-42> 42</a>
</span><span class=lnt id=hl-0-43><a class=lnlinks href=#hl-0-43> 43</a>
</span><span class=lnt id=hl-0-44><a class=lnlinks href=#hl-0-44> 44</a>
</span><span class=lnt id=hl-0-45><a class=lnlinks href=#hl-0-45> 45</a>
</span><span class=lnt id=hl-0-46><a class=lnlinks href=#hl-0-46> 46</a>
</span><span class=lnt id=hl-0-47><a class=lnlinks href=#hl-0-47> 47</a>
</span><span class=lnt id=hl-0-48><a class=lnlinks href=#hl-0-48> 48</a>
</span><span class=lnt id=hl-0-49><a class=lnlinks href=#hl-0-49> 49</a>
</span><span class=lnt id=hl-0-50><a class=lnlinks href=#hl-0-50> 50</a>
</span><span class=lnt id=hl-0-51><a class=lnlinks href=#hl-0-51> 51</a>
</span><span class=lnt id=hl-0-52><a class=lnlinks href=#hl-0-52> 52</a>
</span><span class=lnt id=hl-0-53><a class=lnlinks href=#hl-0-53> 53</a>
</span><span class=lnt id=hl-0-54><a class=lnlinks href=#hl-0-54> 54</a>
</span><span class=lnt id=hl-0-55><a class=lnlinks href=#hl-0-55> 55</a>
</span><span class=lnt id=hl-0-56><a class=lnlinks href=#hl-0-56> 56</a>
</span><span class=lnt id=hl-0-57><a class=lnlinks href=#hl-0-57> 57</a>
</span><span class=lnt id=hl-0-58><a class=lnlinks href=#hl-0-58> 58</a>
</span><span class=lnt id=hl-0-59><a class=lnlinks href=#hl-0-59> 59</a>
</span><span class=lnt id=hl-0-60><a class=lnlinks href=#hl-0-60> 60</a>
</span><span class=lnt id=hl-0-61><a class=lnlinks href=#hl-0-61> 61</a>
</span><span class=lnt id=hl-0-62><a class=lnlinks href=#hl-0-62> 62</a>
</span><span class=lnt id=hl-0-63><a class=lnlinks href=#hl-0-63> 63</a>
</span><span class=lnt id=hl-0-64><a class=lnlinks href=#hl-0-64> 64</a>
</span><span class=lnt id=hl-0-65><a class=lnlinks href=#hl-0-65> 65</a>
</span><span class=lnt id=hl-0-66><a class=lnlinks href=#hl-0-66> 66</a>
</span><span class=lnt id=hl-0-67><a class=lnlinks href=#hl-0-67> 67</a>
</span><span class=lnt id=hl-0-68><a class=lnlinks href=#hl-0-68> 68</a>
</span><span class=lnt id=hl-0-69><a class=lnlinks href=#hl-0-69> 69</a>
</span><span class=lnt id=hl-0-70><a class=lnlinks href=#hl-0-70> 70</a>
</span><span class=lnt id=hl-0-71><a class=lnlinks href=#hl-0-71> 71</a>
</span><span class=lnt id=hl-0-72><a class=lnlinks href=#hl-0-72> 72</a>
</span><span class=lnt id=hl-0-73><a class=lnlinks href=#hl-0-73> 73</a>
</span><span class=lnt id=hl-0-74><a class=lnlinks href=#hl-0-74> 74</a>
</span><span class=lnt id=hl-0-75><a class=lnlinks href=#hl-0-75> 75</a>
</span><span class=lnt id=hl-0-76><a class=lnlinks href=#hl-0-76> 76</a>
</span><span class=lnt id=hl-0-77><a class=lnlinks href=#hl-0-77> 77</a>
</span><span class=lnt id=hl-0-78><a class=lnlinks href=#hl-0-78> 78</a>
</span><span class=lnt id=hl-0-79><a class=lnlinks href=#hl-0-79> 79</a>
</span><span class=lnt id=hl-0-80><a class=lnlinks href=#hl-0-80> 80</a>
</span><span class=lnt id=hl-0-81><a class=lnlinks href=#hl-0-81> 81</a>
</span><span class=lnt id=hl-0-82><a class=lnlinks href=#hl-0-82> 82</a>
</span><span class=lnt id=hl-0-83><a class=lnlinks href=#hl-0-83> 83</a>
</span><span class=lnt id=hl-0-84><a class=lnlinks href=#hl-0-84> 84</a>
</span><span class=lnt id=hl-0-85><a class=lnlinks href=#hl-0-85> 85</a>
</span><span class=lnt id=hl-0-86><a class=lnlinks href=#hl-0-86> 86</a>
</span><span class=lnt id=hl-0-87><a class=lnlinks href=#hl-0-87> 87</a>
</span><span class=lnt id=hl-0-88><a class=lnlinks href=#hl-0-88> 88</a>
</span><span class=lnt id=hl-0-89><a class=lnlinks href=#hl-0-89> 89</a>
</span><span class=lnt id=hl-0-90><a class=lnlinks href=#hl-0-90> 90</a>
</span><span class=lnt id=hl-0-91><a class=lnlinks href=#hl-0-91> 91</a>
</span><span class=lnt id=hl-0-92><a class=lnlinks href=#hl-0-92> 92</a>
</span><span class=lnt id=hl-0-93><a class=lnlinks href=#hl-0-93> 93</a>
</span><span class=lnt id=hl-0-94><a class=lnlinks href=#hl-0-94> 94</a>
</span><span class=lnt id=hl-0-95><a class=lnlinks href=#hl-0-95> 95</a>
</span><span class=lnt id=hl-0-96><a class=lnlinks href=#hl-0-96> 96</a>
</span><span class=lnt id=hl-0-97><a class=lnlinks href=#hl-0-97> 97</a>
</span><span class=lnt id=hl-0-98><a class=lnlinks href=#hl-0-98> 98</a>
</span><span class=lnt id=hl-0-99><a class=lnlinks href=#hl-0-99> 99</a>
</span><span class=lnt id=hl-0-100><a class=lnlinks href=#hl-0-100>100</a>
</span><span class=lnt id=hl-0-101><a class=lnlinks href=#hl-0-101>101</a>
</span><span class=lnt id=hl-0-102><a class=lnlinks href=#hl-0-102>102</a>
</span><span class=lnt id=hl-0-103><a class=lnlinks href=#hl-0-103>103</a>
</span><span class=lnt id=hl-0-104><a class=lnlinks href=#hl-0-104>104</a>
</span><span class=lnt id=hl-0-105><a class=lnlinks href=#hl-0-105>105</a>
</span><span class=lnt id=hl-0-106><a class=lnlinks href=#hl-0-106>106</a>
</span><span class=lnt id=hl-0-107><a class=lnlinks href=#hl-0-107>107</a>
</span><span class=lnt id=hl-0-108><a class=lnlinks href=#hl-0-108>108</a>
</span><span class=lnt id=hl-0-109><a class=lnlinks href=#hl-0-109>109</a>
</span><span class=lnt id=hl-0-110><a class=lnlinks href=#hl-0-110>110</a>
</span><span class=lnt id=hl-0-111><a class=lnlinks href=#hl-0-111>111</a>
</span><span class=lnt id=hl-0-112><a class=lnlinks href=#hl-0-112>112</a>
</span><span class=lnt id=hl-0-113><a class=lnlinks href=#hl-0-113>113</a>
</span><span class=lnt id=hl-0-114><a class=lnlinks href=#hl-0-114>114</a>
</span><span class=lnt id=hl-0-115><a class=lnlinks href=#hl-0-115>115</a>
</span><span class=lnt id=hl-0-116><a class=lnlinks href=#hl-0-116>116</a>
</span><span class=lnt id=hl-0-117><a class=lnlinks href=#hl-0-117>117</a>
</span><span class=lnt id=hl-0-118><a class=lnlinks href=#hl-0-118>118</a>
</span><span class=lnt id=hl-0-119><a class=lnlinks href=#hl-0-119>119</a>
</span><span class=lnt id=hl-0-120><a class=lnlinks href=#hl-0-120>120</a>
</span><span class=lnt id=hl-0-121><a class=lnlinks href=#hl-0-121>121</a>
</span><span class=lnt id=hl-0-122><a class=lnlinks href=#hl-0-122>122</a>
</span><span class=lnt id=hl-0-123><a class=lnlinks href=#hl-0-123>123</a>
</span><span class=lnt id=hl-0-124><a class=lnlinks href=#hl-0-124>124</a>
</span><span class=lnt id=hl-0-125><a class=lnlinks href=#hl-0-125>125</a>
</span><span class=lnt id=hl-0-126><a class=lnlinks href=#hl-0-126>126</a>
</span><span class=lnt id=hl-0-127><a class=lnlinks href=#hl-0-127>127</a>
</span><span class=lnt id=hl-0-128><a class=lnlinks href=#hl-0-128>128</a>
</span><span class=lnt id=hl-0-129><a class=lnlinks href=#hl-0-129>129</a>
</span><span class=lnt id=hl-0-130><a class=lnlinks href=#hl-0-130>130</a>
</span><span class=lnt id=hl-0-131><a class=lnlinks href=#hl-0-131>131</a>
</span><span class=lnt id=hl-0-132><a class=lnlinks href=#hl-0-132>132</a>
</span><span class=lnt id=hl-0-133><a class=lnlinks href=#hl-0-133>133</a>
</span><span class=lnt id=hl-0-134><a class=lnlinks href=#hl-0-134>134</a>
</span><span class=lnt id=hl-0-135><a class=lnlinks href=#hl-0-135>135</a>
</span><span class=lnt id=hl-0-136><a class=lnlinks href=#hl-0-136>136</a>
</span><span class=lnt id=hl-0-137><a class=lnlinks href=#hl-0-137>137</a>
</span><span class=lnt id=hl-0-138><a class=lnlinks href=#hl-0-138>138</a>
</span><span class=lnt id=hl-0-139><a class=lnlinks href=#hl-0-139>139</a>
</span><span class=lnt id=hl-0-140><a class=lnlinks href=#hl-0-140>140</a>
</span><span class=lnt id=hl-0-141><a class=lnlinks href=#hl-0-141>141</a>
</span><span class=lnt id=hl-0-142><a class=lnlinks href=#hl-0-142>142</a>
</span><span class=lnt id=hl-0-143><a class=lnlinks href=#hl-0-143>143</a>
</span><span class=lnt id=hl-0-144><a class=lnlinks href=#hl-0-144>144</a>
</span><span class=lnt id=hl-0-145><a class=lnlinks href=#hl-0-145>145</a>
</span><span class=lnt id=hl-0-146><a class=lnlinks href=#hl-0-146>146</a>
</span><span class=lnt id=hl-0-147><a class=lnlinks href=#hl-0-147>147</a>
</span><span class=lnt id=hl-0-148><a class=lnlinks href=#hl-0-148>148</a>
</span><span class=lnt id=hl-0-149><a class=lnlinks href=#hl-0-149>149</a>
</span><span class=lnt id=hl-0-150><a class=lnlinks href=#hl-0-150>150</a>
</span><span class=lnt id=hl-0-151><a class=lnlinks href=#hl-0-151>151</a>
</span><span class=lnt id=hl-0-152><a class=lnlinks href=#hl-0-152>152</a>
</span><span class=lnt id=hl-0-153><a class=lnlinks href=#hl-0-153>153</a>
</span><span class=lnt id=hl-0-154><a class=lnlinks href=#hl-0-154>154</a>
</span><span class=lnt id=hl-0-155><a class=lnlinks href=#hl-0-155>155</a>
</span><span class=lnt id=hl-0-156><a class=lnlinks href=#hl-0-156>156</a>
</span><span class=lnt id=hl-0-157><a class=lnlinks href=#hl-0-157>157</a>
</span><span class=lnt id=hl-0-158><a class=lnlinks href=#hl-0-158>158</a>
</span><span class=lnt id=hl-0-159><a class=lnlinks href=#hl-0-159>159</a>
</span><span class=lnt id=hl-0-160><a class=lnlinks href=#hl-0-160>160</a>
</span><span class=lnt id=hl-0-161><a class=lnlinks href=#hl-0-161>161</a>
</span><span class=lnt id=hl-0-162><a class=lnlinks href=#hl-0-162>162</a>
</span><span class=lnt id=hl-0-163><a class=lnlinks href=#hl-0-163>163</a>
</span><span class=lnt id=hl-0-164><a class=lnlinks href=#hl-0-164>164</a>
</span><span class=lnt id=hl-0-165><a class=lnlinks href=#hl-0-165>165</a>
</span><span class=lnt id=hl-0-166><a class=lnlinks href=#hl-0-166>166</a>
</span><span class=lnt id=hl-0-167><a class=lnlinks href=#hl-0-167>167</a>
</span><span class=lnt id=hl-0-168><a class=lnlinks href=#hl-0-168>168</a>
</span><span class=lnt id=hl-0-169><a class=lnlinks href=#hl-0-169>169</a>
</span><span class=lnt id=hl-0-170><a class=lnlinks href=#hl-0-170>170</a>
</span><span class=lnt id=hl-0-171><a class=lnlinks href=#hl-0-171>171</a>
</span><span class=lnt id=hl-0-172><a class=lnlinks href=#hl-0-172>172</a>
</span><span class=lnt id=hl-0-173><a class=lnlinks href=#hl-0-173>173</a>
</span><span class=lnt id=hl-0-174><a class=lnlinks href=#hl-0-174>174</a>
</span><span class=lnt id=hl-0-175><a class=lnlinks href=#hl-0-175>175</a>
</span><span class=lnt id=hl-0-176><a class=lnlinks href=#hl-0-176>176</a>
</span><span class=lnt id=hl-0-177><a class=lnlinks href=#hl-0-177>177</a>
</span><span class=lnt id=hl-0-178><a class=lnlinks href=#hl-0-178>178</a>
</span><span class=lnt id=hl-0-179><a class=lnlinks href=#hl-0-179>179</a>
</span><span class=lnt id=hl-0-180><a class=lnlinks href=#hl-0-180>180</a>
</span><span class=lnt id=hl-0-181><a class=lnlinks href=#hl-0-181>181</a>
</span><span class=lnt id=hl-0-182><a class=lnlinks href=#hl-0-182>182</a>
</span><span class=lnt id=hl-0-183><a class=lnlinks href=#hl-0-183>183</a>
</span><span class=lnt id=hl-0-184><a class=lnlinks href=#hl-0-184>184</a>
</span><span class=lnt id=hl-0-185><a class=lnlinks href=#hl-0-185>185</a>
</span><span class=lnt id=hl-0-186><a class=lnlinks href=#hl-0-186>186</a>
</span><span class=lnt id=hl-0-187><a class=lnlinks href=#hl-0-187>187</a>
</span><span class=lnt id=hl-0-188><a class=lnlinks href=#hl-0-188>188</a>
</span><span class=lnt id=hl-0-189><a class=lnlinks href=#hl-0-189>189</a>
</span><span class=lnt id=hl-0-190><a class=lnlinks href=#hl-0-190>190</a>
</span><span class=lnt id=hl-0-191><a class=lnlinks href=#hl-0-191>191</a>
</span><span class=lnt id=hl-0-192><a class=lnlinks href=#hl-0-192>192</a>
</span><span class=lnt id=hl-0-193><a class=lnlinks href=#hl-0-193>193</a>
</span><span class=lnt id=hl-0-194><a class=lnlinks href=#hl-0-194>194</a>
</span><span class=lnt id=hl-0-195><a class=lnlinks href=#hl-0-195>195</a>
</span><span class=lnt id=hl-0-196><a class=lnlinks href=#hl-0-196>196</a>
</span><span class=lnt id=hl-0-197><a class=lnlinks href=#hl-0-197>197</a>
</span><span class=lnt id=hl-0-198><a class=lnlinks href=#hl-0-198>198</a>
</span><span class=lnt id=hl-0-199><a class=lnlinks href=#hl-0-199>199</a>
</span><span class=lnt id=hl-0-200><a class=lnlinks href=#hl-0-200>200</a>
</span><span class=lnt id=hl-0-201><a class=lnlinks href=#hl-0-201>201</a>
</span><span class=lnt id=hl-0-202><a class=lnlinks href=#hl-0-202>202</a>
</span><span class=lnt id=hl-0-203><a class=lnlinks href=#hl-0-203>203</a>
</span><span class=lnt id=hl-0-204><a class=lnlinks href=#hl-0-204>204</a>
</span><span class=lnt id=hl-0-205><a class=lnlinks href=#hl-0-205>205</a>
</span><span class=lnt id=hl-0-206><a class=lnlinks href=#hl-0-206>206</a>
</span><span class=lnt id=hl-0-207><a class=lnlinks href=#hl-0-207>207</a>
</span><span class=lnt id=hl-0-208><a class=lnlinks href=#hl-0-208>208</a>
</span><span class=lnt id=hl-0-209><a class=lnlinks href=#hl-0-209>209</a>
</span><span class=lnt id=hl-0-210><a class=lnlinks href=#hl-0-210>210</a>
</span><span class=lnt id=hl-0-211><a class=lnlinks href=#hl-0-211>211</a>
</span><span class=lnt id=hl-0-212><a class=lnlinks href=#hl-0-212>212</a>
</span><span class=lnt id=hl-0-213><a class=lnlinks href=#hl-0-213>213</a>
</span><span class=lnt id=hl-0-214><a class=lnlinks href=#hl-0-214>214</a>
</span><span class=lnt id=hl-0-215><a class=lnlinks href=#hl-0-215>215</a>
</span><span class=lnt id=hl-0-216><a class=lnlinks href=#hl-0-216>216</a>
</span><span class=lnt id=hl-0-217><a class=lnlinks href=#hl-0-217>217</a>
</span><span class=lnt id=hl-0-218><a class=lnlinks href=#hl-0-218>218</a>
</span><span class=lnt id=hl-0-219><a class=lnlinks href=#hl-0-219>219</a>
</span><span class=lnt id=hl-0-220><a class=lnlinks href=#hl-0-220>220</a>
</span><span class=lnt id=hl-0-221><a class=lnlinks href=#hl-0-221>221</a>
</span><span class=lnt id=hl-0-222><a class=lnlinks href=#hl-0-222>222</a>
</span><span class=lnt id=hl-0-223><a class=lnlinks href=#hl-0-223>223</a>
</span><span class=lnt id=hl-0-224><a class=lnlinks href=#hl-0-224>224</a>
</span><span class=lnt id=hl-0-225><a class=lnlinks href=#hl-0-225>225</a>
</span><span class=lnt id=hl-0-226><a class=lnlinks href=#hl-0-226>226</a>
</span><span class=lnt id=hl-0-227><a class=lnlinks href=#hl-0-227>227</a>
</span><span class=lnt id=hl-0-228><a class=lnlinks href=#hl-0-228>228</a>
</span><span class=lnt id=hl-0-229><a class=lnlinks href=#hl-0-229>229</a>
</span><span class=lnt id=hl-0-230><a class=lnlinks href=#hl-0-230>230</a>
</span><span class=lnt id=hl-0-231><a class=lnlinks href=#hl-0-231>231</a>
</span><span class=lnt id=hl-0-232><a class=lnlinks href=#hl-0-232>232</a>
</span><span class=lnt id=hl-0-233><a class=lnlinks href=#hl-0-233>233</a>
</span><span class=lnt id=hl-0-234><a class=lnlinks href=#hl-0-234>234</a>
</span><span class=lnt id=hl-0-235><a class=lnlinks href=#hl-0-235>235</a>
</span><span class=lnt id=hl-0-236><a class=lnlinks href=#hl-0-236>236</a>
</span><span class=lnt id=hl-0-237><a class=lnlinks href=#hl-0-237>237</a>
</span><span class=lnt id=hl-0-238><a class=lnlinks href=#hl-0-238>238</a>
</span><span class=lnt id=hl-0-239><a class=lnlinks href=#hl-0-239>239</a>
</span><span class=lnt id=hl-0-240><a class=lnlinks href=#hl-0-240>240</a>
</span><span class=lnt id=hl-0-241><a class=lnlinks href=#hl-0-241>241</a>
</span><span class=lnt id=hl-0-242><a class=lnlinks href=#hl-0-242>242</a>
</span><span class=lnt id=hl-0-243><a class=lnlinks href=#hl-0-243>243</a>
</span><span class=lnt id=hl-0-244><a class=lnlinks href=#hl-0-244>244</a>
</span><span class=lnt id=hl-0-245><a class=lnlinks href=#hl-0-245>245</a>
</span><span class=lnt id=hl-0-246><a class=lnlinks href=#hl-0-246>246</a>
</span><span class=lnt id=hl-0-247><a class=lnlinks href=#hl-0-247>247</a>
</span><span class=lnt id=hl-0-248><a class=lnlinks href=#hl-0-248>248</a>
</span><span class=lnt id=hl-0-249><a class=lnlinks href=#hl-0-249>249</a>
</span><span class=lnt id=hl-0-250><a class=lnlinks href=#hl-0-250>250</a>
</span><span class=lnt id=hl-0-251><a class=lnlinks href=#hl-0-251>251</a>
</span><span class=lnt id=hl-0-252><a class=lnlinks href=#hl-0-252>252</a>
</span><span class=lnt id=hl-0-253><a class=lnlinks href=#hl-0-253>253</a>
</span><span class=lnt id=hl-0-254><a class=lnlinks href=#hl-0-254>254</a>
</span><span class=lnt id=hl-0-255><a class=lnlinks href=#hl-0-255>255</a>
</span><span class=lnt id=hl-0-256><a class=lnlinks href=#hl-0-256>256</a>
</span><span class=lnt id=hl-0-257><a class=lnlinks href=#hl-0-257>257</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>datetime</span> <span class=kn>import</span> <span class=n>datetime</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>List</span><span class=p>,</span> <span class=n>Optional</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sqlite3</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>dataclasses</span> <span class=kn>import</span> <span class=n>dataclass</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>abc</span> <span class=kn>import</span> <span class=n>ABC</span><span class=p>,</span> <span class=n>abstractmethod</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 도메인 모델</span>
</span></span><span class=line><span class=cl><span class=nd>@dataclass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Product</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>id</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>name</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>price</span><span class=p>:</span> <span class=nb>float</span>
</span></span><span class=line><span class=cl>    <span class=n>stock</span><span class=p>:</span> <span class=nb>int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@dataclass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>User</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>id</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>username</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>email</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>password_hash</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@dataclass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Order</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>id</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>user_id</span><span class=p>:</span> <span class=nb>int</span>
</span></span><span class=line><span class=cl>    <span class=n>total_amount</span><span class=p>:</span> <span class=nb>float</span>
</span></span><span class=line><span class=cl>    <span class=n>status</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>created_at</span><span class=p>:</span> <span class=n>datetime</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@dataclass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>OrderItem</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>id</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>order_id</span><span class=p>:</span> <span class=nb>int</span>
</span></span><span class=line><span class=cl>    <span class=n>product_id</span><span class=p>:</span> <span class=nb>int</span>
</span></span><span class=line><span class=cl>    <span class=n>quantity</span><span class=p>:</span> <span class=nb>int</span>
</span></span><span class=line><span class=cl>    <span class=n>price</span><span class=p>:</span> <span class=nb>float</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 데이터베이스 관리</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Database</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>db_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>db_path</span> <span class=o>=</span> <span class=n>db_path</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_init_db</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_init_db</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;데이터베이스 스키마 초기화&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>with</span> <span class=n>sqlite3</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>db_path</span><span class=p>)</span> <span class=k>as</span> <span class=n>conn</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>conn</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>                CREATE TABLE IF NOT EXISTS users (
</span></span></span><span class=line><span class=cl><span class=s2>                    id INTEGER PRIMARY KEY AUTOINCREMENT,
</span></span></span><span class=line><span class=cl><span class=s2>                    username TEXT NOT NULL,
</span></span></span><span class=line><span class=cl><span class=s2>                    email TEXT UNIQUE NOT NULL,
</span></span></span><span class=line><span class=cl><span class=s2>                    password_hash TEXT NOT NULL
</span></span></span><span class=line><span class=cl><span class=s2>                )
</span></span></span><span class=line><span class=cl><span class=s2>            &#34;&#34;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=n>conn</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>                CREATE TABLE IF NOT EXISTS products (
</span></span></span><span class=line><span class=cl><span class=s2>                    id INTEGER PRIMARY KEY AUTOINCREMENT,
</span></span></span><span class=line><span class=cl><span class=s2>                    name TEXT NOT NULL,
</span></span></span><span class=line><span class=cl><span class=s2>                    price REAL NOT NULL,
</span></span></span><span class=line><span class=cl><span class=s2>                    stock INTEGER NOT NULL
</span></span></span><span class=line><span class=cl><span class=s2>                )
</span></span></span><span class=line><span class=cl><span class=s2>            &#34;&#34;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=n>conn</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>                CREATE TABLE IF NOT EXISTS orders (
</span></span></span><span class=line><span class=cl><span class=s2>                    id INTEGER PRIMARY KEY AUTOINCREMENT,
</span></span></span><span class=line><span class=cl><span class=s2>                    user_id INTEGER NOT NULL,
</span></span></span><span class=line><span class=cl><span class=s2>                    total_amount REAL NOT NULL,
</span></span></span><span class=line><span class=cl><span class=s2>                    status TEXT NOT NULL,
</span></span></span><span class=line><span class=cl><span class=s2>                    created_at TEXT NOT NULL,
</span></span></span><span class=line><span class=cl><span class=s2>                    FOREIGN KEY (user_id) REFERENCES users (id)
</span></span></span><span class=line><span class=cl><span class=s2>                )
</span></span></span><span class=line><span class=cl><span class=s2>            &#34;&#34;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=n>conn</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>                CREATE TABLE IF NOT EXISTS order_items (
</span></span></span><span class=line><span class=cl><span class=s2>                    id INTEGER PRIMARY KEY AUTOINCREMENT,
</span></span></span><span class=line><span class=cl><span class=s2>                    order_id INTEGER NOT NULL,
</span></span></span><span class=line><span class=cl><span class=s2>                    product_id INTEGER NOT NULL,
</span></span></span><span class=line><span class=cl><span class=s2>                    quantity INTEGER NOT NULL,
</span></span></span><span class=line><span class=cl><span class=s2>                    price REAL NOT NULL,
</span></span></span><span class=line><span class=cl><span class=s2>                    FOREIGN KEY (order_id) REFERENCES orders (id),
</span></span></span><span class=line><span class=cl><span class=s2>                    FOREIGN KEY (product_id) REFERENCES products (id)
</span></span></span><span class=line><span class=cl><span class=s2>                )
</span></span></span><span class=line><span class=cl><span class=s2>            &#34;&#34;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_connection</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>sqlite3</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>db_path</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 서비스 계층</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>UserService</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>db</span><span class=p>:</span> <span class=n>Database</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>db</span> <span class=o>=</span> <span class=n>db</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>register_user</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>username</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>email</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>password</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>User</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 실제 구현에서는 비밀번호를 해시화해야 합니다</span>
</span></span><span class=line><span class=cl>        <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>db</span><span class=o>.</span><span class=n>get_connection</span><span class=p>()</span> <span class=k>as</span> <span class=n>conn</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>cursor</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;INSERT INTO users (username, email, password_hash) VALUES (?, ?, ?)&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=p>(</span><span class=n>username</span><span class=p>,</span> <span class=n>email</span><span class=p>,</span> <span class=n>password</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>User</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=nb>id</span><span class=o>=</span><span class=n>cursor</span><span class=o>.</span><span class=n>lastrowid</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>username</span><span class=o>=</span><span class=n>username</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>email</span><span class=o>=</span><span class=n>email</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>password_hash</span><span class=o>=</span><span class=n>password</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_user</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>User</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>db</span><span class=o>.</span><span class=n>get_connection</span><span class=p>()</span> <span class=k>as</span> <span class=n>conn</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>cursor</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;SELECT * FROM users WHERE id = ?&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=p>(</span><span class=n>user_id</span><span class=p>,)</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>row</span> <span class=o>=</span> <span class=n>cursor</span><span class=o>.</span><span class=n>fetchone</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>row</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>User</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                    <span class=nb>id</span><span class=o>=</span><span class=n>row</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span>
</span></span><span class=line><span class=cl>                    <span class=n>username</span><span class=o>=</span><span class=n>row</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span>
</span></span><span class=line><span class=cl>                    <span class=n>email</span><span class=o>=</span><span class=n>row</span><span class=p>[</span><span class=mi>2</span><span class=p>],</span>
</span></span><span class=line><span class=cl>                    <span class=n>password_hash</span><span class=o>=</span><span class=n>row</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ProductService</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>db</span><span class=p>:</span> <span class=n>Database</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>db</span> <span class=o>=</span> <span class=n>db</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add_product</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>price</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>stock</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Product</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>db</span><span class=o>.</span><span class=n>get_connection</span><span class=p>()</span> <span class=k>as</span> <span class=n>conn</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>cursor</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;INSERT INTO products (name, price, stock) VALUES (?, ?, ?)&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>price</span><span class=p>,</span> <span class=n>stock</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>Product</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=nb>id</span><span class=o>=</span><span class=n>cursor</span><span class=o>.</span><span class=n>lastrowid</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>name</span><span class=o>=</span><span class=n>name</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>price</span><span class=o>=</span><span class=n>price</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>stock</span><span class=o>=</span><span class=n>stock</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>update_stock</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>product_id</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>quantity_change</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>db</span><span class=o>.</span><span class=n>get_connection</span><span class=p>()</span> <span class=k>as</span> <span class=n>conn</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>cursor</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;UPDATE products SET stock = stock + ? WHERE id = ? AND stock + ? &gt;= 0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=p>(</span><span class=n>quantity_change</span><span class=p>,</span> <span class=n>product_id</span><span class=p>,</span> <span class=n>quantity_change</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>cursor</span><span class=o>.</span><span class=n>rowcount</span> <span class=o>&gt;</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>OrderService</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>db</span><span class=p>:</span> <span class=n>Database</span><span class=p>,</span> <span class=n>product_service</span><span class=p>:</span> <span class=n>ProductService</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>db</span> <span class=o>=</span> <span class=n>db</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>product_service</span> <span class=o>=</span> <span class=n>product_service</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_order</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>items</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>tuple</span><span class=p>[</span><span class=nb>int</span><span class=p>,</span> <span class=nb>int</span><span class=p>]])</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Order</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;주문 생성 (product_id, quantity)의 리스트를 받음&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>total_amount</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=n>order_items</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># 재고 확인 및 가격 계산</span>
</span></span><span class=line><span class=cl>        <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>db</span><span class=o>.</span><span class=n>get_connection</span><span class=p>()</span> <span class=k>as</span> <span class=n>conn</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>product_id</span><span class=p>,</span> <span class=n>quantity</span> <span class=ow>in</span> <span class=n>items</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>cursor</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;SELECT price, stock FROM products WHERE id = ?&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=p>(</span><span class=n>product_id</span><span class=p>,)</span>
</span></span><span class=line><span class=cl>                <span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>row</span> <span class=o>=</span> <span class=n>cursor</span><span class=o>.</span><span class=n>fetchone</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=ow>not</span> <span class=n>row</span> <span class=ow>or</span> <span class=n>row</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>quantity</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=k>return</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>                    
</span></span><span class=line><span class=cl>                <span class=n>total_amount</span> <span class=o>+=</span> <span class=n>row</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>*</span> <span class=n>quantity</span>
</span></span><span class=line><span class=cl>                <span class=n>order_items</span><span class=o>.</span><span class=n>append</span><span class=p>((</span><span class=n>product_id</span><span class=p>,</span> <span class=n>quantity</span><span class=p>,</span> <span class=n>row</span><span class=p>[</span><span class=mi>0</span><span class=p>]))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=c1># 주문 생성</span>
</span></span><span class=line><span class=cl>            <span class=n>cursor</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>                INSERT INTO orders (user_id, total_amount, status, created_at)
</span></span></span><span class=line><span class=cl><span class=s2>                VALUES (?, ?, ?, ?)
</span></span></span><span class=line><span class=cl><span class=s2>                &#34;&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=p>(</span><span class=n>user_id</span><span class=p>,</span> <span class=n>total_amount</span><span class=p>,</span> <span class=s2>&#34;PENDING&#34;</span><span class=p>,</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span><span class=o>.</span><span class=n>isoformat</span><span class=p>())</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>order_id</span> <span class=o>=</span> <span class=n>cursor</span><span class=o>.</span><span class=n>lastrowid</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=c1># 주문 아이템 생성 및 재고 감소</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>product_id</span><span class=p>,</span> <span class=n>quantity</span><span class=p>,</span> <span class=n>price</span> <span class=ow>in</span> <span class=n>order_items</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>conn</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>                    INSERT INTO order_items (order_id, product_id, quantity, price)
</span></span></span><span class=line><span class=cl><span class=s2>                    VALUES (?, ?, ?, ?)
</span></span></span><span class=line><span class=cl><span class=s2>                    &#34;&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=p>(</span><span class=n>order_id</span><span class=p>,</span> <span class=n>product_id</span><span class=p>,</span> <span class=n>quantity</span><span class=p>,</span> <span class=n>price</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>product_service</span><span class=o>.</span><span class=n>update_stock</span><span class=p>(</span><span class=n>product_id</span><span class=p>,</span> <span class=o>-</span><span class=n>quantity</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>Order</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=nb>id</span><span class=o>=</span><span class=n>order_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>user_id</span><span class=o>=</span><span class=n>user_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>total_amount</span><span class=o>=</span><span class=n>total_amount</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>status</span><span class=o>=</span><span class=s2>&#34;PENDING&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>created_at</span><span class=o>=</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># API 계층</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ShoppingAPI</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>db</span> <span class=o>=</span> <span class=n>Database</span><span class=p>(</span><span class=s2>&#34;shop.db&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>user_service</span> <span class=o>=</span> <span class=n>UserService</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>db</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>product_service</span> <span class=o>=</span> <span class=n>ProductService</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>db</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>order_service</span> <span class=o>=</span> <span class=n>OrderService</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>db</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>product_service</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>register_user</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>username</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>email</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>password</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>user</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>user_service</span><span class=o>.</span><span class=n>register_user</span><span class=p>(</span><span class=n>username</span><span class=p>,</span> <span class=n>email</span><span class=p>,</span> <span class=n>password</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;success&#34;</span><span class=p>,</span> <span class=s2>&#34;user_id&#34;</span><span class=p>:</span> <span class=n>user</span><span class=o>.</span><span class=n>id</span><span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;error&#34;</span><span class=p>,</span> <span class=s2>&#34;message&#34;</span><span class=p>:</span> <span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>)}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>create_order</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>items</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>tuple</span><span class=p>[</span><span class=nb>int</span><span class=p>,</span> <span class=nb>int</span><span class=p>]])</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>order</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>order_service</span><span class=o>.</span><span class=n>create_order</span><span class=p>(</span><span class=n>user_id</span><span class=p>,</span> <span class=n>items</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>order</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;success&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;order_id&#34;</span><span class=p>:</span> <span class=n>order</span><span class=o>.</span><span class=n>id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;total_amount&#34;</span><span class=p>:</span> <span class=n>order</span><span class=o>.</span><span class=n>total_amount</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;error&#34;</span><span class=p>,</span> <span class=s2>&#34;message&#34;</span><span class=p>:</span> <span class=s2>&#34;Failed to create order&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;error&#34;</span><span class=p>,</span> <span class=s2>&#34;message&#34;</span><span class=p>:</span> <span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>)}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 애플리케이션 사용 예시</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>api</span> <span class=o>=</span> <span class=n>ShoppingAPI</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 사용자 등록</span>
</span></span><span class=line><span class=cl>    <span class=n>user_result</span> <span class=o>=</span> <span class=n>api</span><span class=o>.</span><span class=n>register_user</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;john_doe&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;john@example.com&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;password123&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;User registration: </span><span class=si>{</span><span class=n>user_result</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 제품 추가</span>
</span></span><span class=line><span class=cl>    <span class=n>product_service</span> <span class=o>=</span> <span class=n>api</span><span class=o>.</span><span class=n>product_service</span>
</span></span><span class=line><span class=cl>    <span class=n>product1</span> <span class=o>=</span> <span class=n>product_service</span><span class=o>.</span><span class=n>add_product</span><span class=p>(</span><span class=s2>&#34;Laptop&#34;</span><span class=p>,</span> <span class=mf>1200.0</span><span class=p>,</span> <span class=mi>10</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>product2</span> <span class=o>=</span> <span class=n>product_service</span><span class=o>.</span><span class=n>add_product</span><span class=p>(</span><span class=s2>&#34;Mouse&#34;</span><span class=p>,</span> <span class=mf>25.0</span><span class=p>,</span> <span class=mi>50</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 주문 생성</span>
</span></span><span class=line><span class=cl>    <span class=n>order_result</span> <span class=o>=</span> <span class=n>api</span><span class=o>.</span><span class=n>create_order</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>user_result</span><span class=p>[</span><span class=s2>&#34;user_id&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=p>[(</span><span class=n>product1</span><span class=o>.</span><span class=n>id</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=p>(</span><span class=n>product2</span><span class=o>.</span><span class=n>id</span><span class=p>,</span> <span class=mi>2</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Order creation: </span><span class=si>{</span><span class=n>order_result</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/software-design-and-architecture/>Software-Design-and-Architecture</a></li><li><a href=https://buenhyden.github.io/tags/software-architecture-patterns/>Software-Architecture-Patterns</a></li><li><a href=https://buenhyden.github.io/tags/monolithic/>Monolithic</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/software-design-and-architecture/software-architecture-patterns/model-view-viewmodel-pattern/><span class=title>« Prev</span><br><span>Model-View-ViewModel Pattern</span>
</a><a class=next href=https://buenhyden.github.io/posts/software-design-and-architecture/software-architecture-patterns/modelviewpresenter-pattern/><span class=title>Next »</span><br><span>Model–view–presenter Pattern</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>