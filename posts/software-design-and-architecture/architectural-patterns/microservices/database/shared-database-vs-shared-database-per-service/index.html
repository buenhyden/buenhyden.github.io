<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Shared Database vs Shared Database Per Service | hyunyoun's Blog</title><meta name=keywords content="Software-Design-and-Architecture,MSA-Patterns,Database,Shared-Database,Shared-Database-Per-Service"><meta name=description content="MSA(Microservices Architecture)에서 **Shared Database**와 **Shared Database Per Service** 패턴은 데이터 관리 전략의 일환으로 활용되며, 각각의 특징과 적용 시나리오가 뚜렷하게 구분된다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/software-design-and-architecture/architectural-patterns/microservices/database/shared-database-vs-shared-database-per-service/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/software-design-and-architecture/architectural-patterns/microservices/database/shared-database-vs-shared-database-per-service/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/software-design-and-architecture/architectural-patterns/microservices/database/shared-database-vs-shared-database-per-service/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Shared Database vs Shared Database Per Service"><meta property="og:description" content="MSA(Microservices Architecture)에서 **Shared Database**와 **Shared Database Per Service** 패턴은 데이터 관리 전략의 일환으로 활용되며, 각각의 특징과 적용 시나리오가 뚜렷하게 구분된다."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-11-12T08:02:00+00:00"><meta property="article:modified_time" content="2024-11-12T08:02:00+00:00"><meta property="article:tag" content="Software-Design-and-Architecture"><meta property="article:tag" content="MSA-Patterns"><meta property="article:tag" content="Database"><meta property="article:tag" content="Shared-Database"><meta property="article:tag" content="Shared-Database-per-Service"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Shared Database vs Shared Database Per Service"><meta name=twitter:description content="MSA(Microservices Architecture)에서 **Shared Database**와 **Shared Database Per Service** 패턴은 데이터 관리 전략의 일환으로 활용되며, 각각의 특징과 적용 시나리오가 뚜렷하게 구분된다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Shared Database vs Shared Database Per Service","item":"https://buenhyden.github.io/posts/software-design-and-architecture/architectural-patterns/microservices/database/shared-database-vs-shared-database-per-service/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Shared Database vs Shared Database Per Service","name":"Shared Database vs Shared Database Per Service","description":"MSA(Microservices Architecture)에서 **Shared Database**와 **Shared Database Per Service** 패턴은 데이터 관리 전략의 일환으로 활용되며, 각각의 특징과 적용 시나리오가 뚜렷하게 구분된다.","keywords":["Software-Design-and-Architecture","MSA-Patterns","Database","Shared-Database","Shared-Database-Per-Service"],"articleBody":"Shared Database vs. Shared Database Per Service MSA(Microservices Architecture)에서 Shared Database와 Shared Database Per Service 패턴은 데이터 관리 전략의 일환으로 활용되며, 각각의 특징과 적용 시나리오가 뚜렷하게 구분된다.\n두 패턴 모두 단일 데이터베이스 의존성으로 인한 리스크가 존재하므로, 장기적 관점에서는 Database Per Service로의 전환을 고려해야 한다. 특히 클라우드 환경(AWS RDS, Aurora)에서는 논리적 분리가 용이하나, 트랜잭션 격리와 확장성 측면에서 trade-off를 신중히 평가해야 한다.\nShared Database 패턴 정의 및 특징 여러 마이크로서비스가 단일 데이터베이스를 공유하며, 서비스 간 자유로운 테이블 접근 허용. 직접적인 ACID 트랜잭션을 통해 데이터 일관성 유지. 간단한 아키텍처로 시작 단계에서 빠른 개발 가능. 동작 방식 1 2 3 4 5 -- OrderService가 CustomerService의 테이블 직접 접근 예시 BEGIN TRANSACTION; SELECT CREDIT_LIMIT FROM CUSTOMERS WHERE CUSTOMER_ID = 123; INSERT INTO ORDERS (CUSTOMER_ID, AMOUNT) VALUES (123, 50000); COMMIT; 서비스 간 스키마 변경 시 협업 필요 (예: Customer 테이블 컬럼 추가 → OrderService 코드 수정). 장단점 장점 단점 - 복잡한 분산 트랜잭션 불필요 - 서비스 간 강한 결합성 발생 - 데이터 조인 및 통합 쿼리 용이 - 단일 데이터베이스 병목 현상 (SPOF) - 기존 모놀리식 시스템 전환 용이 - 스키마 변경 시 전체 서비스 영향도 검토 필요 적합한 시나리오 소규모 팀에서 신속한 프로토타이핑 필요 시. 레거시 시스템을 MSA로 점진적 전환하는 과정에서 임시 활용. 강한 ACID 트랜잭션 요구사항이 있는 금융/결제 시스템. Shared Database Per Service 패턴 정의 및 특징 단일 물리적 데이터베이스 인스턴스를 공유하지만, 서비스별 논리적 분리 (스키마/테이블 격리). 핫 테이블(Hot Table) 방지를 통해 성능 저하 최소화. 하위 호환성 유지가 필수적이며, 스키마 변경 시 모든 서비스 영향도 검토. 동작 방식 1 2 3 -- Sales 서비스: sales_db.sales_table -- Customer 서비스: sales_db.customer_table (논리적 분리) GRANT SELECT, INSERT ON sales_db.customer_table TO 'customer_service'@'%'; IAM 정책 또는 DB 권한 제어를 통해 서비스별 접근 범위 제한. 장단점 장점 단점 - 물리적 인프라 비용 절감 - 여전히 런타임 결합성 존재 - 부분적 스키마 독립성 보장 - 장기적 유지보수 복잡성 증가 - 데이터 중복 최소화 - 확장성 제약 (CPU/IO 리소스 경쟁) 적합한 시나리오 제한된 리소스 환경에서 다중 서비스 운영 필요 시. 기존 데이터 레이어 재설계 없이 MSA 도입 시. 규제 준수 요구사항으로 단일 데이터베이스 유지해야 하는 경우. 비교 분석표 항목 공유 데이터베이스 (Shared Database) 서비스별 전용 데이터베이스 (Database per Service) 데이터 격리 수준 테이블 수준 공유 스키마/테이블 논리적 분리 데이터 일관성 유지 ACID 트랜잭션을 통해 데이터 일관성을 쉽게 유지할 수 있습니다. 분산된 데이터로 인해 데이터 일관성 유지가 복잡해질 수 있으며, 이를 위해 사가(Saga) 패턴 등의 사용이 필요할 수 있습니다. 스키마 변경 영향도 모든 서비스 영향 관련 서비스만 영향 결합도 높음 (직접 테이블 접근) 중간 (권한 제어를 통한 제한적 접근) 서비스 독립성 데이터베이스 스키마 변경 시 여러 서비스 간 조율이 필요하여 서비스 간 결합도가 높아집니다. 각 서비스가 독립적인 데이터베이스를 소유하므로 서비스 간 결합도가 낮아 독립적인 개발, 배포, 확장이 가능합니다. 데이터베이스 선택 모든 서비스가 동일한 데이터베이스를 사용하므로 개별 서비스의 특수한 데이터 저장 요구 사항을 충족하기 어렵습니다. 각 서비스는 자신의 요구에 맞는 데이터베이스 유형을 선택할 수 있어 폴리글랏 퍼시스턴스(Polyglot Persistence)를 구현할 수 있습니다. 운영 복잡성 단일 데이터베이스를 관리하므로 운영이 단순합니다. 여러 개의 데이터베이스를 관리해야 하므로 운영 복잡성이 증가합니다. 트랜잭션 관리 로컬 ACID 트랜잭션 가능.\n단일 데이터베이스 내에서 트랜잭션을 관리하므로 구현이 용이합니다. 로컬 ACID 트랜잭션 가능.\n분산 트랜잭션 관리가 필요할 수 있으며, 이는 구현의 복잡성을 증가시킵니다. 확장성 단일 데이터베이스의 확장에 한계가 있을 수 있으며, 특정 서비스의 확장이 다른 서비스에 영향을 미칠 수 있습니다. 각 서비스가 독립적으로 확장 가능하므로 시스템 전체의 확장성이 향상됩니다. 보안 모든 서비스가 전체 데이터 접근 가능 권한 제어로 접근 범위 제한 패턴 선택 가이드 Shared Database 선택 시: 개발 초기 단계에서 빠른 출시를 목표로 할 때. 팀 규모가 작고 데이터 복잡도가 낮은 경우. Shared Database Per Service 선택 시: 기존 모놀리식 DB를 유지하며 MSA를 도입해야 할 때. 데이터 중복을 최소화해야 하지만 완전 분리가 어려운 경우. Database Per Service 권장 시: 대규모 시스템에서 완전한 독립성과 확장성이 필요할 때. 서비스별 폴리글랏 퍼시스턴스 적용이 필요한 경우. 참고 및 출처 ","wordCount":"612","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-11-12T08:02:00Z","dateModified":"2024-11-12T08:02:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/software-design-and-architecture/architectural-patterns/microservices/database/shared-database-vs-shared-database-per-service/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a></div><h1 class="post-title entry-hint-parent">Shared Database vs Shared Database Per Service</h1><div class=post-description>MSA(Microservices Architecture)에서 **Shared Database**와 **Shared Database Per Service** 패턴은 데이터 관리 전략의 일환으로 활용되며, 각각의 특징과 적용 시나리오가 뚜렷하게 구분된다.</div><div class=post-meta><span title='2024-11-12 08:02:00 +0000 UTC'>November 12, 2024</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Software%20Design%20and%20Architecture/Architectural%20Patterns/Microservices/Database/Shared-Database-vs-Shared-Database-Per-Service.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#shared-database-vs-shared-database-per-service>Shared Database vs. Shared Database Per Service</a><ul><li><a href=#shared-database-패턴>Shared Database 패턴</a></li><li><a href=#shared-database-per-service-패턴>Shared Database Per Service 패턴</a></li><li><a href=#비교-분석표>비교 분석표</a></li><li><a href=#패턴-선택-가이드>패턴 선택 가이드</a></li></ul></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=shared-database-vs-shared-database-per-service>Shared Database vs. Shared Database Per Service<a hidden class=anchor aria-hidden=true href=#shared-database-vs-shared-database-per-service>#</a></h2><p>MSA(Microservices Architecture)에서 <strong>Shared Database</strong>와 <strong>Shared Database Per Service</strong> 패턴은 데이터 관리 전략의 일환으로 활용되며, 각각의 특징과 적용 시나리오가 뚜렷하게 구분된다.</p><p>두 패턴 모두 <strong>단일 데이터베이스 의존성</strong>으로 인한 리스크가 존재하므로, 장기적 관점에서는 <strong>Database Per Service</strong>로의 전환을 고려해야 한다. 특히 클라우드 환경(AWS RDS, Aurora)에서는 논리적 분리가 용이하나, <strong>트랜잭션 격리</strong>와 <strong>확장성</strong> 측면에서 trade-off를 신중히 평가해야 한다.</p><h3 id=shared-database-패턴>Shared Database 패턴<a hidden class=anchor aria-hidden=true href=#shared-database-패턴>#</a></h3><h4 id=정의-및-특징>정의 및 특징<a hidden class=anchor aria-hidden=true href=#정의-및-특징>#</a></h4><ul><li><strong>여러 마이크로서비스가 단일 데이터베이스를 공유</strong>하며, 서비스 간 자유로운 테이블 접근 허용.</li><li><strong>직접적인 ACID 트랜잭션</strong>을 통해 데이터 일관성 유지.</li><li><strong>간단한 아키텍처</strong>로 시작 단계에서 빠른 개발 가능.</li></ul><h4 id=동작-방식>동작 방식<a hidden class=anchor aria-hidden=true href=#동작-방식>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3>3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4>4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- OrderService가 CustomerService의 테이블 직접 접근 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>BEGIN</span><span class=w> </span><span class=k>TRANSACTION</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=n>CREDIT_LIMIT</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>CUSTOMERS</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>CUSTOMER_ID</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>123</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>ORDERS</span><span class=w> </span><span class=p>(</span><span class=n>CUSTOMER_ID</span><span class=p>,</span><span class=w> </span><span class=n>AMOUNT</span><span class=p>)</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=mi>123</span><span class=p>,</span><span class=w> </span><span class=mi>50000</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>COMMIT</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li>서비스 간 <strong>스키마 변경 시 협업 필요</strong> (예: <code>Customer</code> 테이블 컬럼 추가 → <code>OrderService</code> 코드 수정).</li></ul><h4 id=장단점>장단점<a hidden class=anchor aria-hidden=true href=#장단점>#</a></h4><table><thead><tr><th><strong>장점</strong></th><th><strong>단점</strong></th></tr></thead><tbody><tr><td>- 복잡한 분산 트랜잭션 불필요</td><td>- 서비스 간 <strong>강한 결합성</strong> 발생</td></tr><tr><td>- 데이터 조인 및 통합 쿼리 용이</td><td>- 단일 데이터베이스 병목 현상 (SPOF)</td></tr><tr><td>- 기존 모놀리식 시스템 전환 용이</td><td>- 스키마 변경 시 전체 서비스 영향도 검토 필요</td></tr></tbody></table><h4 id=적합한-시나리오>적합한 시나리오<a hidden class=anchor aria-hidden=true href=#적합한-시나리오>#</a></h4><ul><li><strong>소규모 팀</strong>에서 신속한 프로토타이핑 필요 시.</li><li><strong>레거시 시스템</strong>을 MSA로 점진적 전환하는 과정에서 임시 활용.</li><li><strong>강한 ACID 트랜잭션</strong> 요구사항이 있는 금융/결제 시스템.</li></ul><h3 id=shared-database-per-service-패턴>Shared Database Per Service 패턴<a hidden class=anchor aria-hidden=true href=#shared-database-per-service-패턴>#</a></h3><h4 id=정의-및-특징-1>정의 및 특징<a hidden class=anchor aria-hidden=true href=#정의-및-특징-1>#</a></h4><ul><li><strong>단일 물리적 데이터베이스 인스턴스를 공유</strong>하지만, <strong>서비스별 논리적 분리</strong> (스키마/테이블 격리).</li><li><strong>핫 테이블(Hot Table) 방지</strong>를 통해 성능 저하 최소화.</li><li><strong>하위 호환성 유지</strong>가 필수적이며, 스키마 변경 시 모든 서비스 영향도 검토.</li></ul><h4 id=동작-방식-1>동작 방식<a hidden class=anchor aria-hidden=true href=#동작-방식-1>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2>2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- Sales 서비스: sales_db.sales_table
</span></span></span><span class=line><span class=cl><span class=c1>-- Customer 서비스: sales_db.customer_table (논리적 분리)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>GRANT</span><span class=w> </span><span class=k>SELECT</span><span class=p>,</span><span class=w> </span><span class=k>INSERT</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>sales_db</span><span class=p>.</span><span class=n>customer_table</span><span class=w> </span><span class=k>TO</span><span class=w> </span><span class=s1>&#39;customer_service&#39;</span><span class=o>@</span><span class=s1>&#39;%&#39;</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li><strong>IAM 정책</strong> 또는 <strong>DB 권한 제어</strong>를 통해 서비스별 접근 범위 제한.</li></ul><h4 id=장단점-1><strong>장단점</strong><a hidden class=anchor aria-hidden=true href=#장단점-1>#</a></h4><table><thead><tr><th><strong>장점</strong></th><th><strong>단점</strong></th></tr></thead><tbody><tr><td>- 물리적 인프라 비용 절감</td><td>- 여전히 <strong>런타임 결합성</strong> 존재</td></tr><tr><td>- 부분적 스키마 독립성 보장</td><td>- 장기적 유지보수 복잡성 증가</td></tr><tr><td>- 데이터 중복 최소화</td><td>- 확장성 제약 (CPU/IO 리소스 경쟁)</td></tr></tbody></table><h4 id=적합한-시나리오-1><strong>적합한 시나리오</strong><a hidden class=anchor aria-hidden=true href=#적합한-시나리오-1>#</a></h4><ul><li><strong>제한된 리소스</strong> 환경에서 다중 서비스 운영 필요 시.</li><li><strong>기존 데이터 레이어</strong> 재설계 없이 MSA 도입 시.</li><li><strong>규제 준수</strong> 요구사항으로 단일 데이터베이스 유지해야 하는 경우.</li></ul><h3 id=비교-분석표>비교 분석표<a hidden class=anchor aria-hidden=true href=#비교-분석표>#</a></h3><table><thead><tr><th>항목</th><th>공유 데이터베이스 (Shared Database)</th><th>서비스별 전용 데이터베이스 (Database per Service)</th></tr></thead><tbody><tr><td><strong>데이터 격리 수준</strong></td><td>테이블 수준 공유</td><td>스키마/테이블 논리적 분리</td></tr><tr><td><strong>데이터 일관성 유지</strong></td><td>ACID 트랜잭션을 통해 데이터 일관성을 쉽게 유지할 수 있습니다.</td><td>분산된 데이터로 인해 데이터 일관성 유지가 복잡해질 수 있으며, 이를 위해 사가(Saga) 패턴 등의 사용이 필요할 수 있습니다.</td></tr><tr><td><strong>스키마 변경 영향도</strong></td><td>모든 서비스 영향</td><td>관련 서비스만 영향</td></tr><tr><td><strong>결합도</strong></td><td>높음 (직접 테이블 접근)</td><td>중간 (권한 제어를 통한 제한적 접근)</td></tr><tr><td><strong>서비스 독립성</strong></td><td>데이터베이스 스키마 변경 시 여러 서비스 간 조율이 필요하여 서비스 간 결합도가 높아집니다.</td><td>각 서비스가 독립적인 데이터베이스를 소유하므로 서비스 간 결합도가 낮아 독립적인 개발, 배포, 확장이 가능합니다.</td></tr><tr><td><strong>데이터베이스 선택</strong></td><td>모든 서비스가 동일한 데이터베이스를 사용하므로 개별 서비스의 특수한 데이터 저장 요구 사항을 충족하기 어렵습니다.</td><td>각 서비스는 자신의 요구에 맞는 데이터베이스 유형을 선택할 수 있어 폴리글랏 퍼시스턴스(Polyglot Persistence)를 구현할 수 있습니다.</td></tr><tr><td><strong>운영 복잡성</strong></td><td>단일 데이터베이스를 관리하므로 운영이 단순합니다.</td><td>여러 개의 데이터베이스를 관리해야 하므로 운영 복잡성이 증가합니다.</td></tr><tr><td><strong>트랜잭션 관리</strong></td><td>로컬 ACID 트랜잭션 가능.<br>단일 데이터베이스 내에서 트랜잭션을 관리하므로 구현이 용이합니다.</td><td>로컬 ACID 트랜잭션 가능.<br>분산 트랜잭션 관리가 필요할 수 있으며, 이는 구현의 복잡성을 증가시킵니다.</td></tr><tr><td><strong>확장성</strong></td><td>단일 데이터베이스의 확장에 한계가 있을 수 있으며, 특정 서비스의 확장이 다른 서비스에 영향을 미칠 수 있습니다.</td><td>각 서비스가 독립적으로 확장 가능하므로 시스템 전체의 확장성이 향상됩니다.</td></tr><tr><td><strong>보안</strong></td><td>모든 서비스가 전체 데이터 접근 가능</td><td>권한 제어로 접근 범위 제한</td></tr></tbody></table><h3 id=패턴-선택-가이드>패턴 선택 가이드<a hidden class=anchor aria-hidden=true href=#패턴-선택-가이드>#</a></h3><ul><li><strong>Shared Database 선택 시</strong>:<ul><li>개발 초기 단계에서 빠른 출시를 목표로 할 때.</li><li>팀 규모가 작고 데이터 복잡도가 낮은 경우.</li></ul></li><li><strong>Shared Database Per Service 선택 시</strong>:<ul><li>기존 모놀리식 DB를 유지하며 MSA를 도입해야 할 때.</li><li>데이터 중복을 최소화해야 하지만 완전 분리가 어려운 경우.</li></ul></li><li><strong>Database Per Service 권장 시</strong>:<ul><li>대규모 시스템에서 <strong>완전한 독립성</strong>과 <strong>확장성</strong>이 필요할 때.</li><li>서비스별 <strong>폴리글랏 퍼시스턴스</strong> 적용이 필요한 경우.</li></ul></li></ul><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/software-design-and-architecture/>Software-Design-and-Architecture</a></li><li><a href=https://buenhyden.github.io/tags/msa-patterns/>MSA-Patterns</a></li><li><a href=https://buenhyden.github.io/tags/database/>Database</a></li><li><a href=https://buenhyden.github.io/tags/shared-database/>Shared-Database</a></li><li><a href=https://buenhyden.github.io/tags/shared-database-per-service/>Shared-Database-per-Service</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/devops-and-infrastructure/infrastructure/cloud/cloud-vs-on-premise/><span class=title>« Prev</span><br><span>Cloud vs. On-Premise</span>
</a><a class=next href=https://buenhyden.github.io/posts/security-engineering/security-attacks/security-vulnerability/management-frameworks/cce-vs-cve-vs-cwe/><span class=title>Next »</span><br><span>CCE vs CVE vs CWE</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>