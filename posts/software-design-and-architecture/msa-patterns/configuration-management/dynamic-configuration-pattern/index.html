<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Dynamic Configuration Pattern | hyunyoun's Blog</title>
<meta name=keywords content="Software-Design-and-Architecture,Software-Architecture,Software-Architecture-Patterns,MSA-Patterns,Configuration-Management-Patterns,Dynamic-Configuration-Pattern"><meta name=description content="Dynamic Configuration Pattern은 애플리케이션의 동작을 재배포 없이 실시간으로 변경할 수 있게 해주는 패턴"><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/software-design-and-architecture/msa-patterns/configuration-management/dynamic-configuration-pattern/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.9a2bbe2d8b5afa9d4df22976abb7b72f1f7f1c467d2b30f03090108f9496ae6c.css integrity="sha256-miu+LYta+p1N8il2q7e3Lx9/HEZ9KzDwMJAQj5SWrmw=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/software-design-and-architecture/msa-patterns/configuration-management/dynamic-configuration-pattern/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/software-design-and-architecture/msa-patterns/configuration-management/dynamic-configuration-pattern/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Dynamic Configuration Pattern"><meta property="og:description" content="Dynamic Configuration Pattern은 애플리케이션의 동작을 재배포 없이 실시간으로 변경할 수 있게 해주는 패턴"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-30T04:00:00+00:00"><meta property="article:modified_time" content="2024-12-30T04:00:00+00:00"><meta property="article:tag" content="Software-Design-and-Architecture"><meta property="article:tag" content="Software-Architecture"><meta property="article:tag" content="Software-Architecture-Patterns"><meta property="article:tag" content="MSA-Patterns"><meta property="article:tag" content="Configuration-Management-Patterns"><meta property="article:tag" content="Dynamic-Configuration-Pattern"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Dynamic Configuration Pattern"><meta name=twitter:description content="Dynamic Configuration Pattern은 애플리케이션의 동작을 재배포 없이 실시간으로 변경할 수 있게 해주는 패턴"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"posts","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Software Design and Architecture","item":"https://buenhyden.github.io/posts/software-design-and-architecture/"},{"@type":"ListItem","position":3,"name":"MSA Pattern","item":"https://buenhyden.github.io/posts/software-design-and-architecture/msa-patterns/"},{"@type":"ListItem","position":4,"name":"Configuration Management Patterns","item":"https://buenhyden.github.io/posts/software-design-and-architecture/msa-patterns/configuration-management/"},{"@type":"ListItem","position":5,"name":"Dynamic Configuration Pattern","item":"https://buenhyden.github.io/posts/software-design-and-architecture/msa-patterns/configuration-management/dynamic-configuration-pattern/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Dynamic Configuration Pattern","name":"Dynamic Configuration Pattern","description":"Dynamic Configuration Pattern은 애플리케이션의 동작을 재배포 없이 실시간으로 변경할 수 있게 해주는 패턴","keywords":["Software-Design-and-Architecture","Software-Architecture","Software-Architecture-Patterns","MSA-Patterns","Configuration-Management-Patterns","Dynamic-Configuration-Pattern"],"articleBody":"Dynamic Configuration Pattern Dynamic Configuration Pattern은 마이크로서비스 아키텍처(MSA)에서 구성 관리 패턴 중 하나이다.\n이 패턴은 애플리케이션의 구성을 런타임에 동적으로 변경할 수 있게 해주는 방식이다.\nDynamic Configuration Pattern은 애플리케이션의 동작을 재배포 없이 실시간으로 변경할 수 있게 해주는 패턴이다.\n주요 목적은 다음과 같다:\n시스템의 유연성 향상 다운타임 없는 구성 변경 가능 A/B 테스팅 및 기능 플래그 구현 용이성 운영 효율성 증대 핵심 원칙 Dynamic Configuration Pattern의 기본 원리는 다음과 같다:\n중앙 설정 저장소\n설정은 중앙화된 저장소에서 관리되며, 모든 서비스 인스턴스가 이 저장소를 참조한다.\n이를 통해 전체 시스템의 설정을 일관되게 관리할 수 있다.\n저장소는 다음과 같은 특징을 가진다:\n높은 가용성 보장 실시간 설정 변경 지원 버전 관리 기능 제공 접근 제어 및 보안 관리 실시간 설정 갱신\n서비스는 주기적으로 또는 이벤트 기반으로 설정을 갱신한다:\n폴링 방식: 정기적으로 설정 확인 푸시 방식: 설정 변경 시 통지 수신 캐시 관리: 로컬 캐시를 통한 성능 최적화 변경 감지 및 적용\n설정 변경이 감지되면 다음과 같은 프로세스가 진행된다:\n변경 검증: 새로운 설정의 유효성 검사 안전한 적용: 서비스 중단 없는 설정 적용 롤백 메커니즘: 문제 발생 시 이전 설정으로 복구 구성 데이터의 버전 관리\n구현 방법 외부 구성 저장소 사용 (예: etcd, Consul, ZooKeeper) 구성 변경 감지를 위한 폴링 또는 푸시 메커니즘 구현 구성 데이터 캐싱 및 갱신 전략 수립 구성 변경에 대한 애플리케이션 내 이벤트 핸들러 구현 장점 빠른 기능 롤아웃 및 롤백 가능 환경별 구성 관리 용이 운영 중 시스템 튜닝 가능 멀티 테넌트 시스템에서의 유연한 구성 관리 도전 과제 구성 데이터의 일관성 유지 보안 및 접근 제어 관리 구성 변경의 영향 범위 제어 분산 시스템에서의 구성 동기화 구현 시 고려사항 Dynamic Configuration Pattern을 구현할 때 다음 사항들을 고려해야 한다:\n성능 최적화\n로컬 캐시 사용으로 설정 서버 부하 감소 효율적인 설정 갱신 주기 설정 불필요한 네트워크 트래픽 최소화 장애 대응\n설정 서버 장애 시 폴백 메커니즘 설정 변경 실패 시 롤백 절차 네트워크 문제 대응 전략 보안 관리\n설정 접근 권한 제어 민감한 설정 정보 암호화 감사 로그 관리 사용 사례 기능 플래그 관리 서비스 엔드포인트 동적 변경 로깅 레벨 실시간 조정 성능 튜닝 파라미터 조정 도구와 기술 Spring Cloud Config: 분산 시스템을 위한 외부화된 구성 관리 제공 Azure App Configuration: 중앙 집중식 구성 관리 서비스 AWS AppConfig: 애플리케이션 구성 및 기능 플래그 관리 Kubernetes ConfigMaps: 컨테이너화된 애플리케이션을 위한 구성 관리 구현 모범 사례 효과적인 Dynamic Configuration Pattern 구현을 위한 모범 사례:\n설정 계층화\n기본 설정과 동적 설정 분리 환경별 설정 구조화 서비스별 설정 모듈화 변경 관리\n설정 변경 승인 프로세스 변경 이력 추적 영향도 분석 및 테스트 모니터링 및 알림\n설정 변경 감사 로그 문제 발생 시 알림 설정 적용 상태 모니터링 구성 데이터 암호화: 민감한 정보 보호\n점진적 롤아웃: 구성 변경의 영향을 제한적으로 테스트\n회복성 설계: 구성 서비스 장애에 대비한 폴백 메커니즘 구현\n참고 및 출처 ","wordCount":"442","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-12-30T04:00:00Z","dateModified":"2024-12-30T04:00:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/software-design-and-architecture/msa-patterns/configuration-management/dynamic-configuration-pattern/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>posts</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-design-and-architecture/>Software Design and Architecture</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-design-and-architecture/msa-patterns/>MSA Pattern</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-design-and-architecture/msa-patterns/configuration-management/>Configuration Management Patterns</a></div><h1 class="post-title entry-hint-parent">Dynamic Configuration Pattern</h1><div class=post-description>Dynamic Configuration Pattern은 애플리케이션의 동작을 재배포 없이 실시간으로 변경할 수 있게 해주는 패턴</div><div class=post-meta><span title='2024-12-30 04:00:00 +0000 UTC'>December 30, 2024</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;442 words&nbsp;·&nbsp;Me</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#dynamic-configuration-pattern>Dynamic Configuration Pattern</a><ul><li><a href=#핵심-원칙>핵심 원칙</a></li><li><a href=#구현-방법>구현 방법</a></li><li><a href=#장점>장점</a></li><li><a href=#도전-과제>도전 과제</a></li><li><a href=#구현-시-고려사항>구현 시 고려사항</a></li><li><a href=#사용-사례>사용 사례</a></li><li><a href=#도구와-기술>도구와 기술</a></li><li><a href=#구현-모범-사례>구현 모범 사례</a></li></ul></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=dynamic-configuration-pattern>Dynamic Configuration Pattern<a hidden class=anchor aria-hidden=true href=#dynamic-configuration-pattern>#</a></h2><p>Dynamic Configuration Pattern은 마이크로서비스 아키텍처(MSA)에서 구성 관리 패턴 중 하나이다.<br>이 패턴은 애플리케이션의 구성을 런타임에 동적으로 변경할 수 있게 해주는 방식이다.</p><p>Dynamic Configuration Pattern은 애플리케이션의 동작을 재배포 없이 실시간으로 변경할 수 있게 해주는 패턴이다.<br>주요 목적은 다음과 같다:</p><ol><li>시스템의 유연성 향상</li><li>다운타임 없는 구성 변경 가능</li><li>A/B 테스팅 및 기능 플래그 구현 용이성</li><li>운영 효율성 증대</li></ol><h3 id=핵심-원칙>핵심 원칙<a hidden class=anchor aria-hidden=true href=#핵심-원칙>#</a></h3><p>Dynamic Configuration Pattern의 기본 원리는 다음과 같다:</p><ol><li><p>중앙 설정 저장소<br>설정은 중앙화된 저장소에서 관리되며, 모든 서비스 인스턴스가 이 저장소를 참조한다.<br>이를 통해 전체 시스템의 설정을 일관되게 관리할 수 있다.<br>저장소는 다음과 같은 특징을 가진다:</p><ul><li>높은 가용성 보장</li><li>실시간 설정 변경 지원</li><li>버전 관리 기능 제공</li><li>접근 제어 및 보안 관리</li></ul></li><li><p>실시간 설정 갱신<br>서비스는 주기적으로 또는 이벤트 기반으로 설정을 갱신한다:</p><ul><li>폴링 방식: 정기적으로 설정 확인</li><li>푸시 방식: 설정 변경 시 통지 수신</li><li>캐시 관리: 로컬 캐시를 통한 성능 최적화</li></ul></li><li><p>변경 감지 및 적용<br>설정 변경이 감지되면 다음과 같은 프로세스가 진행된다:</p><ul><li>변경 검증: 새로운 설정의 유효성 검사</li><li>안전한 적용: 서비스 중단 없는 설정 적용</li><li>롤백 메커니즘: 문제 발생 시 이전 설정으로 복구</li></ul></li><li><p>구성 데이터의 버전 관리</p></li></ol><h3 id=구현-방법>구현 방법<a hidden class=anchor aria-hidden=true href=#구현-방법>#</a></h3><ol><li>외부 구성 저장소 사용 (예: etcd, Consul, ZooKeeper)</li><li>구성 변경 감지를 위한 폴링 또는 푸시 메커니즘 구현</li><li>구성 데이터 캐싱 및 갱신 전략 수립</li><li>구성 변경에 대한 애플리케이션 내 이벤트 핸들러 구현</li></ol><h3 id=장점>장점<a hidden class=anchor aria-hidden=true href=#장점>#</a></h3><ol><li>빠른 기능 롤아웃 및 롤백 가능</li><li>환경별 구성 관리 용이</li><li>운영 중 시스템 튜닝 가능</li><li>멀티 테넌트 시스템에서의 유연한 구성 관리</li></ol><h3 id=도전-과제>도전 과제<a hidden class=anchor aria-hidden=true href=#도전-과제>#</a></h3><ol><li>구성 데이터의 일관성 유지</li><li>보안 및 접근 제어 관리</li><li>구성 변경의 영향 범위 제어</li><li>분산 시스템에서의 구성 동기화</li></ol><h3 id=구현-시-고려사항>구현 시 고려사항<a hidden class=anchor aria-hidden=true href=#구현-시-고려사항>#</a></h3><p>Dynamic Configuration Pattern을 구현할 때 다음 사항들을 고려해야 한다:</p><ol><li><p>성능 최적화</p><ul><li>로컬 캐시 사용으로 설정 서버 부하 감소</li><li>효율적인 설정 갱신 주기 설정</li><li>불필요한 네트워크 트래픽 최소화</li></ul></li><li><p>장애 대응</p><ul><li>설정 서버 장애 시 폴백 메커니즘</li><li>설정 변경 실패 시 롤백 절차</li><li>네트워크 문제 대응 전략</li></ul></li><li><p>보안 관리</p><ul><li>설정 접근 권한 제어</li><li>민감한 설정 정보 암호화</li><li>감사 로그 관리</li></ul></li></ol><h3 id=사용-사례>사용 사례<a hidden class=anchor aria-hidden=true href=#사용-사례>#</a></h3><ol><li>기능 플래그 관리</li><li>서비스 엔드포인트 동적 변경</li><li>로깅 레벨 실시간 조정</li><li>성능 튜닝 파라미터 조정</li></ol><h3 id=도구와-기술>도구와 기술<a hidden class=anchor aria-hidden=true href=#도구와-기술>#</a></h3><ol><li>Spring Cloud Config: 분산 시스템을 위한 외부화된 구성 관리 제공</li><li>Azure App Configuration: 중앙 집중식 구성 관리 서비스</li><li>AWS AppConfig: 애플리케이션 구성 및 기능 플래그 관리</li><li>Kubernetes ConfigMaps: 컨테이너화된 애플리케이션을 위한 구성 관리</li></ol><h3 id=구현-모범-사례>구현 모범 사례<a hidden class=anchor aria-hidden=true href=#구현-모범-사례>#</a></h3><p>효과적인 Dynamic Configuration Pattern 구현을 위한 모범 사례:</p><ol><li><p>설정 계층화</p><ul><li>기본 설정과 동적 설정 분리</li><li>환경별 설정 구조화</li><li>서비스별 설정 모듈화</li></ul></li><li><p>변경 관리</p><ul><li>설정 변경 승인 프로세스</li><li>변경 이력 추적</li><li>영향도 분석 및 테스트</li></ul></li><li><p>모니터링 및 알림</p><ul><li>설정 변경 감사 로그</li><li>문제 발생 시 알림</li><li>설정 적용 상태 모니터링</li></ul></li><li><p>구성 데이터 암호화: 민감한 정보 보호</p></li><li><p>점진적 롤아웃: 구성 변경의 영향을 제한적으로 테스트</p></li><li><p>회복성 설계: 구성 서비스 장애에 대비한 폴백 메커니즘 구현</p></li></ol><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/software-design-and-architecture/>Software-Design-and-Architecture</a></li><li><a href=https://buenhyden.github.io/tags/software-architecture/>Software-Architecture</a></li><li><a href=https://buenhyden.github.io/tags/software-architecture-patterns/>Software-Architecture-Patterns</a></li><li><a href=https://buenhyden.github.io/tags/msa-patterns/>MSA-Patterns</a></li><li><a href=https://buenhyden.github.io/tags/configuration-management-patterns/>Configuration-Management-Patterns</a></li><li><a href=https://buenhyden.github.io/tags/dynamic-configuration-pattern/>Dynamic-Configuration-Pattern</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/software-design-and-architecture/msa-patterns/configuration-management/configuration-as-code-pattern/><span class=title>« Prev</span><br><span>Configuration-as-Code Pattern</span>
</a><a class=next href=https://buenhyden.github.io/posts/qa/qc/test/specialized-testing/performance-test/volume-test/><span class=title>Next »</span><br><span>용량 테스트 (Volume Test)</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>