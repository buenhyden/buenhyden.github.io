<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>발행/구독 패턴 (Publisher-Subscriber Pattern) | hyunyoun's Blog</title>
<meta name=keywords content="Software-Design-and-Architecture,Software-Architecture,Software-Architecture-Patterns,Application-Structure,MSA-Patterns,Communication,Publisher-Subscriber-Pattern"><meta name=description content="발행/구독 패턴은 메시지를 생성하는 발행자(Publisher)와 메시지를 수신하는 구독자(Subscriber) 사이의 비동기 통신 모델이다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/software-design-and-architecture/msa-patterns/communication/publisher-subscriber-pattern/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.9a2bbe2d8b5afa9d4df22976abb7b72f1f7f1c467d2b30f03090108f9496ae6c.css integrity="sha256-miu+LYta+p1N8il2q7e3Lx9/HEZ9KzDwMJAQj5SWrmw=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/software-design-and-architecture/msa-patterns/communication/publisher-subscriber-pattern/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/software-design-and-architecture/msa-patterns/communication/publisher-subscriber-pattern/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="발행/구독 패턴 (Publisher-Subscriber Pattern)"><meta property="og:description" content="발행/구독 패턴은 메시지를 생성하는 발행자(Publisher)와 메시지를 수신하는 구독자(Subscriber) 사이의 비동기 통신 모델이다."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-28T07:05:00+00:00"><meta property="article:modified_time" content="2024-12-28T07:05:00+00:00"><meta property="article:tag" content="Software-Design-and-Architecture"><meta property="article:tag" content="Software-Architecture"><meta property="article:tag" content="Software-Architecture-Patterns"><meta property="article:tag" content="Application-Structure"><meta property="article:tag" content="MSA-Patterns"><meta property="article:tag" content="Communication"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="발행/구독 패턴 (Publisher-Subscriber Pattern)"><meta name=twitter:description content="발행/구독 패턴은 메시지를 생성하는 발행자(Publisher)와 메시지를 수신하는 구독자(Subscriber) 사이의 비동기 통신 모델이다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"posts","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Software Design and Architecture","item":"https://buenhyden.github.io/posts/software-design-and-architecture/"},{"@type":"ListItem","position":3,"name":"MSA Pattern","item":"https://buenhyden.github.io/posts/software-design-and-architecture/msa-patterns/"},{"@type":"ListItem","position":4,"name":"Communication Patterns","item":"https://buenhyden.github.io/posts/software-design-and-architecture/msa-patterns/communication/"},{"@type":"ListItem","position":5,"name":"발행/구독 패턴 (Publisher-Subscriber Pattern)","item":"https://buenhyden.github.io/posts/software-design-and-architecture/msa-patterns/communication/publisher-subscriber-pattern/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"발행/구독 패턴 (Publisher-Subscriber Pattern)","name":"발행\/구독 패턴 (Publisher-Subscriber Pattern)","description":"발행/구독 패턴은 메시지를 생성하는 발행자(Publisher)와 메시지를 수신하는 구독자(Subscriber) 사이의 비동기 통신 모델이다.","keywords":["Software-Design-and-Architecture","Software-Architecture","Software-Architecture-Patterns","Application-Structure","MSA-Patterns","Communication","Publisher-Subscriber-Pattern"],"articleBody":"발행/구독 패턴 (Publisher-Subscriber Pattern) 발행/구독 패턴(Publisher-Subscriber Pattern)은 마이크로서비스 아키텍처(MSA)에서 통신 패턴 중 하나이다.\n이 패턴은 컴포넌트 간의 느슨한 결합을 가능하게 하며, 확장성과 유연성을 제공한다.\n발행/구독 패턴은 메시지를 생성하는 발행자(Publisher)와 메시지를 수신하는 구독자(Subscriber) 사이의 비동기 통신 모델이다.\n이 패턴에서 발행자는 특정 수신자를 지정하지 않고 메시지를 발행하며, 구독자는 관심 있는 메시지 유형을 구독한다.\nMSA에서의 활용 마이크로서비스 아키텍처에서 발행/구독 패턴은 다음과 같은 상황에서 유용하다:\n이벤트 기반 아키텍처: 서비스 간 이벤트 전파에 사용된다. 비동기 통신: 서비스 간 느슨한 결합을 유지하면서 비동기 통신을 구현한다. 확장성: 새로운 마이크로서비스를 쉽게 추가하고 기존 서비스에 영향을 주지 않고 기능을 확장할 수 있다. 장점 낮은 결합도: 발행자와 구독자는 서로의 존재를 알 필요가 없다. 확장성: 새로운 구독자나 발행자를 쉽게 추가할 수 있다. 유연성: 다양한 컴포넌트가 메시지를 다른 방식으로 처리할 수 있다. 비동기 통신: 시스템 컴포넌트 간의 비동기 통신을 가능하게 한다. 단점 복잡성: 브로커의 로직이 복잡해질 수 있으며, 디버깅이 어려울 수 있다. 메시지 전달 보장: 일부 시스템에서는 메시지 전달을 완전히 보장하기 어려울 수 있다. 일관성: 발행자와 구독자 간의 관계 파악이 어려울 수 있다. 주요 구성 요소 발행자(Publisher): 메시지나 이벤트를 생성하고 브로커에게 전송한다. 구독자(Subscriber): 특정 유형의 메시지나 이벤트를 수신하고 처리한다. 메시지 브로커(Message Broker): 발행자와 구독자 사이에서 메시지를 중개하는 역할을 한다. 작동 방식 구독자는 메시지 브로커를 통해 관심 있는 토픽이나 메시지 유형을 구독한다. 발행자는 메시지를 생성하고 브로커에게 전송한다. 브로커는 수신한 메시지를 해당 토픽이나 유형을 구독한 모든 구독자에게 전달한다. 구독자는 수신한 메시지를 처리한다. flowchart TD Publisher--\u003e|이벤트 발행|Topic[토픽/채널] Topic--\u003e|구독|Subscriber1 Topic--\u003e|구독|Subscriber2 Topic--\u003e|구독|Subscriber3 style Topic fill:#f9f,stroke:#333,stroke-width:4px style Publisher fill:#bbf style Subscriber1 fill:#bfb style Subscriber2 fill:#bfb style Subscriber3 fill:#bfb 메시지 필터링 발행/구독 패턴에서는 두 가지 주요 필터링 방식이 있다:\n토픽 기반(Topic-based): 메시지는 특정 토픽이나 채널로 발행되며, 구독자는 관심 있는 토픽을 구독한다. 내용 기반(Content-based): 구독자가 정의한 조건에 따라 메시지가 필터링된다. 토폴로지 발행/구독 시스템은 주로 두 가지 토폴로지를 사용한다:\n브로커 기반: 중앙 메시지 브로커나 이벤트 버스를 사용하여 메시지를 라우팅한다. 브로커리스: 발행자와 구독자가 직접 통신하며, IP 멀티캐스트를 통해 메타데이터를 공유한다. 메시지 전달 품질(QoS) 발행/구독 시스템은 다음과 같은 서비스 품질 수준을 제공할 수 있다:\n최대 한 번(At most once): 메시지가 전달되지 않을 수 있지만 중복 전달은 없다. 최소 한 번(At least once): 메시지가 반드시 전달되지만 중복 전달이 발생할 수 있다. 정확히 한 번(Exactly once): 메시지가 정확히 한 번만 전달된다. 구현 예시 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 from typing import Dict, List, Callable from dataclasses import dataclass, field from datetime import datetime import threading import queue import time @dataclass class Message: topic: str content: any timestamp: datetime = field(default_factory=datetime.now) class MessageBroker: def __init__(self): self.topics: Dict[str, List[Callable]] = {} self.message_queue = queue.Queue() self._start_dispatcher() def publish(self, topic: str, message: any): \"\"\"메시지를 특정 토픽으로 발행\"\"\" msg = Message(topic=topic, content=message) self.message_queue.put(msg) print(f\"Published: {topic} - {message}\") def subscribe(self, topic: str, callback: Callable): \"\"\"특정 토픽에 대한 구독자 등록\"\"\" if topic not in self.topics: self.topics[topic] = [] self.topics[topic].append(callback) print(f\"Subscribed to: {topic}\") def _start_dispatcher(self): \"\"\"메시지 디스패처 스레드 시작\"\"\" def dispatcher(): while True: msg = self.message_queue.get() if msg.topic in self.topics: for callback in self.topics[msg.topic]: callback(msg.content) self.message_queue.task_done() thread = threading.Thread(target=dispatcher, daemon=True) thread.start() # 사용 예시 def order_processor(order_data): print(f\"Processing order: {order_data}\") def inventory_manager(order_data): print(f\"Updating inventory for order: {order_data}\") def notification_sender(order_data): print(f\"Sending notification for order: {order_data}\") # 메시지 브로커 생성 broker = MessageBroker() # 구독자 등록 broker.subscribe(\"new_order\", order_processor) broker.subscribe(\"new_order\", inventory_manager) broker.subscribe(\"new_order\", notification_sender) # 주문 발행 order = { \"order_id\": \"12345\", \"product\": \"laptop\", \"quantity\": 1 } broker.publish(\"new_order\", order) # 메시지 처리 대기 time.sleep(1) 위 코드는 발행/구독 패턴의 핵심 컴포넌트들을 구현한 것이다.\n각 부분을 자세히 살펴보자:\nMessage 클래스 토픽, 컨텐츠, 타임스탬프를 포함하는 메시지 구조 정의 데이터의 일관성과 추적성 보장 MessageBroker 클래스 메시지의 발행과 구독을 관리하는 중앙 컴포넌트 토픽별 구독자 관리 및 메시지 큐 처리 비동기 메시지 처리를 위한 디스패처 스레드 운영 주요 메서드 publish(): 특정 토픽으로 메시지 발행 subscribe(): 토픽에 대한 구독자 등록 _start_dispatcher(): 백그라운드에서 메시지 처리 구현 기술 발행/구독 패턴을 구현하는 데 사용되는 기술들은 다음과 같다:\nApache Kafka RabbitMQ Redis Amazon SNS/SQS Google Cloud Pub/Sub Azure Service Bus 실제 구현 시 고려사항 메시지 신뢰성\n메시지 전달 보장 중복 메시지 처리 방지 실패 시 재시도 메커니즘 확장성\n다수의 발행자/구독자 처리 대용량 메시지 처리 능력 시스템 부하 분산 모니터링과 디버깅\n메시지 흐름 추적 시스템 상태 모니터링 문제 발생 시 빠른 대응 참고 및 출처 ","wordCount":"723","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-12-28T07:05:00Z","dateModified":"2024-12-28T07:05:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/software-design-and-architecture/msa-patterns/communication/publisher-subscriber-pattern/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>posts</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-design-and-architecture/>Software Design and Architecture</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-design-and-architecture/msa-patterns/>MSA Pattern</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/software-design-and-architecture/msa-patterns/communication/>Communication Patterns</a></div><h1 class="post-title entry-hint-parent">발행/구독 패턴 (Publisher-Subscriber Pattern)</h1><div class=post-description>발행/구독 패턴은 메시지를 생성하는 발행자(Publisher)와 메시지를 수신하는 구독자(Subscriber) 사이의 비동기 통신 모델이다.</div><div class=post-meta><span title='2024-12-28 07:05:00 +0000 UTC'>December 28, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;723 words&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Software%20Design%20and%20Architecture/MSA%20Patterns/Communication/Publisher-Subscriber-Pattern.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#발행구독-패턴-publisher-subscriber-pattern>발행/구독 패턴 (Publisher-Subscriber Pattern)</a><ul><li><a href=#msa에서의-활용>MSA에서의 활용</a></li><li><a href=#장점>장점</a></li><li><a href=#단점>단점</a></li><li><a href=#주요-구성-요소>주요 구성 요소</a></li><li><a href=#작동-방식>작동 방식</a></li><li><a href=#메시지-필터링>메시지 필터링</a></li><li><a href=#토폴로지>토폴로지</a></li><li><a href=#메시지-전달-품질qos>메시지 전달 품질(QoS)</a></li><li><a href=#구현-예시>구현 예시</a></li><li><a href=#구현-기술>구현 기술</a></li><li><a href=#실제-구현-시-고려사항>실제 구현 시 고려사항</a></li></ul></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=발행구독-패턴-publisher-subscriber-pattern>발행/구독 패턴 (Publisher-Subscriber Pattern)<a hidden class=anchor aria-hidden=true href=#발행구독-패턴-publisher-subscriber-pattern>#</a></h2><p>발행/구독 패턴(Publisher-Subscriber Pattern)은 마이크로서비스 아키텍처(MSA)에서 통신 패턴 중 하나이다.<br>이 패턴은 컴포넌트 간의 느슨한 결합을 가능하게 하며, 확장성과 유연성을 제공한다.</p><p>발행/구독 패턴은 메시지를 생성하는 발행자(Publisher)와 메시지를 수신하는 구독자(Subscriber) 사이의 비동기 통신 모델이다.<br>이 패턴에서 발행자는 특정 수신자를 지정하지 않고 메시지를 발행하며, 구독자는 관심 있는 메시지 유형을 구독한다.</p><h3 id=msa에서의-활용>MSA에서의 활용<a hidden class=anchor aria-hidden=true href=#msa에서의-활용>#</a></h3><p>마이크로서비스 아키텍처에서 발행/구독 패턴은 다음과 같은 상황에서 유용하다:</p><ol><li><strong>이벤트 기반 아키텍처</strong>: 서비스 간 이벤트 전파에 사용된다.</li><li><strong>비동기 통신</strong>: 서비스 간 느슨한 결합을 유지하면서 비동기 통신을 구현한다.</li><li><strong>확장성</strong>: 새로운 마이크로서비스를 쉽게 추가하고 기존 서비스에 영향을 주지 않고 기능을 확장할 수 있다.</li></ol><h3 id=장점>장점<a hidden class=anchor aria-hidden=true href=#장점>#</a></h3><ol><li><strong>낮은 결합도</strong>: 발행자와 구독자는 서로의 존재를 알 필요가 없다.</li><li><strong>확장성</strong>: 새로운 구독자나 발행자를 쉽게 추가할 수 있다.</li><li><strong>유연성</strong>: 다양한 컴포넌트가 메시지를 다른 방식으로 처리할 수 있다.</li><li><strong>비동기 통신</strong>: 시스템 컴포넌트 간의 비동기 통신을 가능하게 한다.</li></ol><h3 id=단점>단점<a hidden class=anchor aria-hidden=true href=#단점>#</a></h3><ol><li><strong>복잡성</strong>: 브로커의 로직이 복잡해질 수 있으며, 디버깅이 어려울 수 있다.</li><li><strong>메시지 전달 보장</strong>: 일부 시스템에서는 메시지 전달을 완전히 보장하기 어려울 수 있다.</li><li><strong>일관성</strong>: 발행자와 구독자 간의 관계 파악이 어려울 수 있다.</li></ol><h3 id=주요-구성-요소>주요 구성 요소<a hidden class=anchor aria-hidden=true href=#주요-구성-요소>#</a></h3><ol><li><strong>발행자(Publisher)</strong>: 메시지나 이벤트를 생성하고 브로커에게 전송한다.</li><li><strong>구독자(Subscriber)</strong>: 특정 유형의 메시지나 이벤트를 수신하고 처리한다.</li><li><strong>메시지 브로커(Message Broker)</strong>: 발행자와 구독자 사이에서 메시지를 중개하는 역할을 한다.</li></ol><h3 id=작동-방식>작동 방식<a hidden class=anchor aria-hidden=true href=#작동-방식>#</a></h3><ol><li>구독자는 메시지 브로커를 통해 관심 있는 토픽이나 메시지 유형을 구독한다.</li><li>발행자는 메시지를 생성하고 브로커에게 전송한다.</li><li>브로커는 수신한 메시지를 해당 토픽이나 유형을 구독한 모든 구독자에게 전달한다.</li><li>구독자는 수신한 메시지를 처리한다.</li></ol><pre class=mermaid>flowchart TD
    Publisher--&gt;|이벤트 발행|Topic[토픽/채널]
    Topic--&gt;|구독|Subscriber1
    Topic--&gt;|구독|Subscriber2
    Topic--&gt;|구독|Subscriber3
    
    style Topic fill:#f9f,stroke:#333,stroke-width:4px
    style Publisher fill:#bbf
    style Subscriber1 fill:#bfb
    style Subscriber2 fill:#bfb
    style Subscriber3 fill:#bfb
</pre><h3 id=메시지-필터링>메시지 필터링<a hidden class=anchor aria-hidden=true href=#메시지-필터링>#</a></h3><p>발행/구독 패턴에서는 두 가지 주요 필터링 방식이 있다:</p><ol><li><strong>토픽 기반(Topic-based)</strong>: 메시지는 특정 토픽이나 채널로 발행되며, 구독자는 관심 있는 토픽을 구독한다.</li><li><strong>내용 기반(Content-based)</strong>: 구독자가 정의한 조건에 따라 메시지가 필터링된다.</li></ol><h3 id=토폴로지>토폴로지<a hidden class=anchor aria-hidden=true href=#토폴로지>#</a></h3><p>발행/구독 시스템은 주로 두 가지 토폴로지를 사용한다:</p><ol><li><strong>브로커 기반</strong>: 중앙 메시지 브로커나 이벤트 버스를 사용하여 메시지를 라우팅한다.</li><li><strong>브로커리스</strong>: 발행자와 구독자가 직접 통신하며, IP 멀티캐스트를 통해 메타데이터를 공유한다.</li></ol><h3 id=메시지-전달-품질qos>메시지 전달 품질(QoS)<a hidden class=anchor aria-hidden=true href=#메시지-전달-품질qos>#</a></h3><p>발행/구독 시스템은 다음과 같은 서비스 품질 수준을 제공할 수 있다:</p><ol><li><strong>최대 한 번(At most once)</strong>: 메시지가 전달되지 않을 수 있지만 중복 전달은 없다.</li><li><strong>최소 한 번(At least once)</strong>: 메시지가 반드시 전달되지만 중복 전달이 발생할 수 있다.</li><li><strong>정확히 한 번(Exactly once)</strong>: 메시지가 정확히 한 번만 전달된다.</li></ol><h3 id=구현-예시>구현 예시<a hidden class=anchor aria-hidden=true href=#구현-예시>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11>11</a>
</span><span class=lnt id=hl-1-12><a class=lnlinks href=#hl-1-12>12</a>
</span><span class=lnt id=hl-1-13><a class=lnlinks href=#hl-1-13>13</a>
</span><span class=lnt id=hl-1-14><a class=lnlinks href=#hl-1-14>14</a>
</span><span class=lnt id=hl-1-15><a class=lnlinks href=#hl-1-15>15</a>
</span><span class=lnt id=hl-1-16><a class=lnlinks href=#hl-1-16>16</a>
</span><span class=lnt id=hl-1-17><a class=lnlinks href=#hl-1-17>17</a>
</span><span class=lnt id=hl-1-18><a class=lnlinks href=#hl-1-18>18</a>
</span><span class=lnt id=hl-1-19><a class=lnlinks href=#hl-1-19>19</a>
</span><span class=lnt id=hl-1-20><a class=lnlinks href=#hl-1-20>20</a>
</span><span class=lnt id=hl-1-21><a class=lnlinks href=#hl-1-21>21</a>
</span><span class=lnt id=hl-1-22><a class=lnlinks href=#hl-1-22>22</a>
</span><span class=lnt id=hl-1-23><a class=lnlinks href=#hl-1-23>23</a>
</span><span class=lnt id=hl-1-24><a class=lnlinks href=#hl-1-24>24</a>
</span><span class=lnt id=hl-1-25><a class=lnlinks href=#hl-1-25>25</a>
</span><span class=lnt id=hl-1-26><a class=lnlinks href=#hl-1-26>26</a>
</span><span class=lnt id=hl-1-27><a class=lnlinks href=#hl-1-27>27</a>
</span><span class=lnt id=hl-1-28><a class=lnlinks href=#hl-1-28>28</a>
</span><span class=lnt id=hl-1-29><a class=lnlinks href=#hl-1-29>29</a>
</span><span class=lnt id=hl-1-30><a class=lnlinks href=#hl-1-30>30</a>
</span><span class=lnt id=hl-1-31><a class=lnlinks href=#hl-1-31>31</a>
</span><span class=lnt id=hl-1-32><a class=lnlinks href=#hl-1-32>32</a>
</span><span class=lnt id=hl-1-33><a class=lnlinks href=#hl-1-33>33</a>
</span><span class=lnt id=hl-1-34><a class=lnlinks href=#hl-1-34>34</a>
</span><span class=lnt id=hl-1-35><a class=lnlinks href=#hl-1-35>35</a>
</span><span class=lnt id=hl-1-36><a class=lnlinks href=#hl-1-36>36</a>
</span><span class=lnt id=hl-1-37><a class=lnlinks href=#hl-1-37>37</a>
</span><span class=lnt id=hl-1-38><a class=lnlinks href=#hl-1-38>38</a>
</span><span class=lnt id=hl-1-39><a class=lnlinks href=#hl-1-39>39</a>
</span><span class=lnt id=hl-1-40><a class=lnlinks href=#hl-1-40>40</a>
</span><span class=lnt id=hl-1-41><a class=lnlinks href=#hl-1-41>41</a>
</span><span class=lnt id=hl-1-42><a class=lnlinks href=#hl-1-42>42</a>
</span><span class=lnt id=hl-1-43><a class=lnlinks href=#hl-1-43>43</a>
</span><span class=lnt id=hl-1-44><a class=lnlinks href=#hl-1-44>44</a>
</span><span class=lnt id=hl-1-45><a class=lnlinks href=#hl-1-45>45</a>
</span><span class=lnt id=hl-1-46><a class=lnlinks href=#hl-1-46>46</a>
</span><span class=lnt id=hl-1-47><a class=lnlinks href=#hl-1-47>47</a>
</span><span class=lnt id=hl-1-48><a class=lnlinks href=#hl-1-48>48</a>
</span><span class=lnt id=hl-1-49><a class=lnlinks href=#hl-1-49>49</a>
</span><span class=lnt id=hl-1-50><a class=lnlinks href=#hl-1-50>50</a>
</span><span class=lnt id=hl-1-51><a class=lnlinks href=#hl-1-51>51</a>
</span><span class=lnt id=hl-1-52><a class=lnlinks href=#hl-1-52>52</a>
</span><span class=lnt id=hl-1-53><a class=lnlinks href=#hl-1-53>53</a>
</span><span class=lnt id=hl-1-54><a class=lnlinks href=#hl-1-54>54</a>
</span><span class=lnt id=hl-1-55><a class=lnlinks href=#hl-1-55>55</a>
</span><span class=lnt id=hl-1-56><a class=lnlinks href=#hl-1-56>56</a>
</span><span class=lnt id=hl-1-57><a class=lnlinks href=#hl-1-57>57</a>
</span><span class=lnt id=hl-1-58><a class=lnlinks href=#hl-1-58>58</a>
</span><span class=lnt id=hl-1-59><a class=lnlinks href=#hl-1-59>59</a>
</span><span class=lnt id=hl-1-60><a class=lnlinks href=#hl-1-60>60</a>
</span><span class=lnt id=hl-1-61><a class=lnlinks href=#hl-1-61>61</a>
</span><span class=lnt id=hl-1-62><a class=lnlinks href=#hl-1-62>62</a>
</span><span class=lnt id=hl-1-63><a class=lnlinks href=#hl-1-63>63</a>
</span><span class=lnt id=hl-1-64><a class=lnlinks href=#hl-1-64>64</a>
</span><span class=lnt id=hl-1-65><a class=lnlinks href=#hl-1-65>65</a>
</span><span class=lnt id=hl-1-66><a class=lnlinks href=#hl-1-66>66</a>
</span><span class=lnt id=hl-1-67><a class=lnlinks href=#hl-1-67>67</a>
</span><span class=lnt id=hl-1-68><a class=lnlinks href=#hl-1-68>68</a>
</span><span class=lnt id=hl-1-69><a class=lnlinks href=#hl-1-69>69</a>
</span><span class=lnt id=hl-1-70><a class=lnlinks href=#hl-1-70>70</a>
</span><span class=lnt id=hl-1-71><a class=lnlinks href=#hl-1-71>71</a>
</span><span class=lnt id=hl-1-72><a class=lnlinks href=#hl-1-72>72</a>
</span><span class=lnt id=hl-1-73><a class=lnlinks href=#hl-1-73>73</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Dict</span><span class=p>,</span> <span class=n>List</span><span class=p>,</span> <span class=n>Callable</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>dataclasses</span> <span class=kn>import</span> <span class=n>dataclass</span><span class=p>,</span> <span class=n>field</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>datetime</span> <span class=kn>import</span> <span class=n>datetime</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>threading</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>queue</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@dataclass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Message</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>topic</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>content</span><span class=p>:</span> <span class=nb>any</span>
</span></span><span class=line><span class=cl>    <span class=n>timestamp</span><span class=p>:</span> <span class=n>datetime</span> <span class=o>=</span> <span class=n>field</span><span class=p>(</span><span class=n>default_factory</span><span class=o>=</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MessageBroker</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>topics</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>List</span><span class=p>[</span><span class=n>Callable</span><span class=p>]]</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>message_queue</span> <span class=o>=</span> <span class=n>queue</span><span class=o>.</span><span class=n>Queue</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_start_dispatcher</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>publish</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>topic</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>message</span><span class=p>:</span> <span class=nb>any</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;메시지를 특정 토픽으로 발행&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>msg</span> <span class=o>=</span> <span class=n>Message</span><span class=p>(</span><span class=n>topic</span><span class=o>=</span><span class=n>topic</span><span class=p>,</span> <span class=n>content</span><span class=o>=</span><span class=n>message</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>message_queue</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=n>msg</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Published: </span><span class=si>{</span><span class=n>topic</span><span class=si>}</span><span class=s2> - </span><span class=si>{</span><span class=n>message</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>subscribe</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>topic</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>callback</span><span class=p>:</span> <span class=n>Callable</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;특정 토픽에 대한 구독자 등록&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>topic</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>topics</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>topics</span><span class=p>[</span><span class=n>topic</span><span class=p>]</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>topics</span><span class=p>[</span><span class=n>topic</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>callback</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Subscribed to: </span><span class=si>{</span><span class=n>topic</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_start_dispatcher</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;메시지 디스패처 스레드 시작&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>dispatcher</span><span class=p>():</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>msg</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>message_queue</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>msg</span><span class=o>.</span><span class=n>topic</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>topics</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=k>for</span> <span class=n>callback</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>topics</span><span class=p>[</span><span class=n>msg</span><span class=o>.</span><span class=n>topic</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>                        <span class=n>callback</span><span class=p>(</span><span class=n>msg</span><span class=o>.</span><span class=n>content</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>message_queue</span><span class=o>.</span><span class=n>task_done</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>thread</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>dispatcher</span><span class=p>,</span> <span class=n>daemon</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>thread</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용 예시</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>order_processor</span><span class=p>(</span><span class=n>order_data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Processing order: </span><span class=si>{</span><span class=n>order_data</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>inventory_manager</span><span class=p>(</span><span class=n>order_data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Updating inventory for order: </span><span class=si>{</span><span class=n>order_data</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>notification_sender</span><span class=p>(</span><span class=n>order_data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Sending notification for order: </span><span class=si>{</span><span class=n>order_data</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 메시지 브로커 생성</span>
</span></span><span class=line><span class=cl><span class=n>broker</span> <span class=o>=</span> <span class=n>MessageBroker</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 구독자 등록</span>
</span></span><span class=line><span class=cl><span class=n>broker</span><span class=o>.</span><span class=n>subscribe</span><span class=p>(</span><span class=s2>&#34;new_order&#34;</span><span class=p>,</span> <span class=n>order_processor</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>broker</span><span class=o>.</span><span class=n>subscribe</span><span class=p>(</span><span class=s2>&#34;new_order&#34;</span><span class=p>,</span> <span class=n>inventory_manager</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>broker</span><span class=o>.</span><span class=n>subscribe</span><span class=p>(</span><span class=s2>&#34;new_order&#34;</span><span class=p>,</span> <span class=n>notification_sender</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 주문 발행</span>
</span></span><span class=line><span class=cl><span class=n>order</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;order_id&#34;</span><span class=p>:</span> <span class=s2>&#34;12345&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;product&#34;</span><span class=p>:</span> <span class=s2>&#34;laptop&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;quantity&#34;</span><span class=p>:</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>broker</span><span class=o>.</span><span class=n>publish</span><span class=p>(</span><span class=s2>&#34;new_order&#34;</span><span class=p>,</span> <span class=n>order</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 메시지 처리 대기</span>
</span></span><span class=line><span class=cl><span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>위 코드는 발행/구독 패턴의 핵심 컴포넌트들을 구현한 것이다.<br>각 부분을 자세히 살펴보자:</p><ol><li>Message 클래스<ul><li>토픽, 컨텐츠, 타임스탬프를 포함하는 메시지 구조 정의</li><li>데이터의 일관성과 추적성 보장</li></ul></li><li>MessageBroker 클래스<ul><li>메시지의 발행과 구독을 관리하는 중앙 컴포넌트</li><li>토픽별 구독자 관리 및 메시지 큐 처리</li><li>비동기 메시지 처리를 위한 디스패처 스레드 운영</li></ul></li><li>주요 메서드<ul><li>publish(): 특정 토픽으로 메시지 발행</li><li>subscribe(): 토픽에 대한 구독자 등록</li><li>_start_dispatcher(): 백그라운드에서 메시지 처리</li></ul></li></ol><h3 id=구현-기술>구현 기술<a hidden class=anchor aria-hidden=true href=#구현-기술>#</a></h3><p>발행/구독 패턴을 구현하는 데 사용되는 기술들은 다음과 같다:</p><ul><li>Apache Kafka</li><li>RabbitMQ</li><li>Redis</li><li>Amazon SNS/SQS</li><li>Google Cloud Pub/Sub</li><li>Azure Service Bus</li></ul><h3 id=실제-구현-시-고려사항>실제 구현 시 고려사항<a hidden class=anchor aria-hidden=true href=#실제-구현-시-고려사항>#</a></h3><ol><li><p>메시지 신뢰성</p><ul><li>메시지 전달 보장</li><li>중복 메시지 처리 방지</li><li>실패 시 재시도 메커니즘</li></ul></li><li><p>확장성</p><ul><li>다수의 발행자/구독자 처리</li><li>대용량 메시지 처리 능력</li><li>시스템 부하 분산</li></ul></li><li><p>모니터링과 디버깅</p><ul><li>메시지 흐름 추적</li><li>시스템 상태 모니터링</li><li>문제 발생 시 빠른 대응</li></ul></li></ol><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/software-design-and-architecture/>Software-Design-and-Architecture</a></li><li><a href=https://buenhyden.github.io/tags/software-architecture/>Software-Architecture</a></li><li><a href=https://buenhyden.github.io/tags/software-architecture-patterns/>Software-Architecture-Patterns</a></li><li><a href=https://buenhyden.github.io/tags/application-structure/>Application-Structure</a></li><li><a href=https://buenhyden.github.io/tags/msa-patterns/>MSA-Patterns</a></li><li><a href=https://buenhyden.github.io/tags/communication/>Communication</a></li><li><a href=https://buenhyden.github.io/tags/publisher-subscriber-pattern/>Publisher-Subscriber-Pattern</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/software-design-and-architecture/msa-patterns/communication/event-driven-pattern/><span class=title>« Prev</span><br><span>Event-Driven Pattern</span>
</a><a class=next href=https://buenhyden.github.io/posts/software-design-and-architecture/msa-patterns/communication/request-response-pattern/><span class=title>Next »</span><br><span>Request-Response Pattern</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>