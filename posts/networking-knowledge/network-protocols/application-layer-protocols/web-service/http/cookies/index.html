<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Cookies | hyunyoun's Blog</title>
<meta name=keywords content="Networking-Knowledge,Network-Protocols,Application-Layer-Protocols,Web-Service,HTTP,Cookies"><meta name=description content="웹사이트가 사용자의 브라우저에 저장하는 작은 텍스트 파일"><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/networking-knowledge/network-protocols/application-layer-protocols/web-service/http/cookies/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.9a2bbe2d8b5afa9d4df22976abb7b72f1f7f1c467d2b30f03090108f9496ae6c.css integrity="sha256-miu+LYta+p1N8il2q7e3Lx9/HEZ9KzDwMJAQj5SWrmw=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/networking-knowledge/network-protocols/application-layer-protocols/web-service/http/cookies/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/networking-knowledge/network-protocols/application-layer-protocols/web-service/http/cookies/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Cookies"><meta property="og:description" content="웹사이트가 사용자의 브라우저에 저장하는 작은 텍스트 파일"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-10-18T07:12:00+00:00"><meta property="article:modified_time" content="2024-10-18T07:12:00+00:00"><meta property="article:tag" content="Networking-Knowledge"><meta property="article:tag" content="Network-Protocols"><meta property="article:tag" content="Application-Layer-Protocols"><meta property="article:tag" content="Web-Service"><meta property="article:tag" content="HTTP"><meta property="article:tag" content="Cookies"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Cookies"><meta name=twitter:description content="웹사이트가 사용자의 브라우저에 저장하는 작은 텍스트 파일"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"posts","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Network","item":"https://buenhyden.github.io/posts/networking-knowledge/"},{"@type":"ListItem","position":3,"name":"Network Protocol","item":"https://buenhyden.github.io/posts/networking-knowledge/network-protocols/"},{"@type":"ListItem","position":5,"name":"Web Service","item":"https://buenhyden.github.io/posts/networking-knowledge/network-protocols/application-layer-protocols/web-service/"},{"@type":"ListItem","position":6,"name":"HTTP (HyperText Transfer Protocol)","item":"https://buenhyden.github.io/posts/networking-knowledge/network-protocols/application-layer-protocols/web-service/http/"},{"@type":"ListItem","position":7,"name":"Cookies","item":"https://buenhyden.github.io/posts/networking-knowledge/network-protocols/application-layer-protocols/web-service/http/cookies/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Cookies","name":"Cookies","description":"웹사이트가 사용자의 브라우저에 저장하는 작은 텍스트 파일","keywords":["Networking-Knowledge","Network-Protocols","Application-Layer-Protocols","Web-Service","HTTP","Cookies"],"articleBody":"Cookies HTTP 쿠키는 웹 서버가 사용자의 브라우저에 저장하는 작은 텍스트 데이터로, 사용자 세션 관리와 개인화된 경험 제공을 위해 설계되었다.\nHTTP의 무상태(Stateless) 특성을 보완하여 연속적인 요청 간 상태 유지가 가능하게 한다.\n정의 및 목적 데이터 저장 형식: 키=값 쌍으로 구성된 텍스트 파일. 동작 원리: 서버 → Set-Cookie 헤더로 브라우저에 전송. 브라우저 → 이후 요청 시 Cookie 헤더에 포함. 1 2 3 4 5 6 7 // 서버 응답 예시 HTTP/2.0 200 OK Set-Cookie: session_id=abc123; Secure; HttpOnly // 클라이언트 요청 예시 GET /dashboard HTTP/2.0 Cookie: session_id=abc123 주요 용도 용도 설명 예시 세션 관리 로그인 상태, 장바구니 정보 유지 온라인 쇼핑몰 결제 과정 개인화 언어 설정, 테마 저장 다크 모드 자동 적용 트래킹 사용자 행동 분석 및 광고 타겟팅 구글 애널리틱스 세션 관리: 1 2 3 4 5 6 7 8 9 10 // 로그인 세션 관리 app.post('/login', (req, res) =\u003e { // 사용자 인증 후 const sessionId = generateSessionId(); res.cookie('sessionId', sessionId, { httpOnly: true, secure: true, maxAge: 24 * 60 * 60 * 1000 // 24시간 }); }); 개인화: 1 2 3 4 // 사용자 선호도 저장 function saveUserPreference(theme) { document.cookie = `theme=${theme}; max-age=31536000; path=/`; } 트래킹: 1 2 3 4 5 6 // 방문자 추적 function trackPageVisit() { let visits = getCookie('visitCount') || 0; visits++; document.cookie = `visitCount=${visits}; max-age=31536000`; } 쿠키의 구성 요소 이름=값: 쿠키는 기본적으로 이름과 값의 쌍으로 이루어진 문자열. 만료 날짜(Expires) 또는 최대 수명(Max-Age): 쿠키의 유효 기간을 지정하며, 이 기간이 지나면 브라우저는 해당 쿠키를 삭제한다. 도메인(Domain)과 경로(Path): 쿠키가 적용될 도메인과 경로를 지정하여 특정 범위에서만 쿠키를 전송하도록 제한할 수 있다. 보안 속성: Secure 속성을 설정하면 쿠키는 HTTPS 연결에서만 전송되며, HttpOnly 속성을 설정하면 JavaScript와 같은 클라이언트 측 스크립트에서 쿠키에 접근할 수 없다. 주요 속성 속성 설명 예시 Name 쿠키의 이름 sessionId Value 쿠키의 값 abc123xyz Domain 쿠키가 유효한 도메인 .example.com Path 쿠키가 유효한 경로 / Expires/Max-Age 쿠키 만료 시간 Wed, 21 Oct 2024 Secure HTTPS에서만 전송 Secure HttpOnly JS에서 접근 불가 HttpOnly SameSite CSRF 방지 설정 Strict, Lax, None Name과 Value: 1 2 // 쿠키의 기본 구성 document.cookie = \"username=John Doe\"; // 이름=값 형태 Expires/Max-Age: 1 2 3 4 // 만료 시간 설정 document.cookie = \"username=John Doe; expires=Thu, 18 Dec 2025 12:00:00 UTC\"; // 또는 Max-Age 사용 document.cookie = \"username=John Doe; max-age=3600\"; // 1시간 후 만료 Domain과 Path: 1 2 // 특정 도메인과 경로에서만 사용 가능한 쿠키 document.cookie = \"user=John; domain=example.com; path=/blog\"; Secure와 HttpOnly: 1 2 3 4 // 보안 관련 설정 // Secure: HTTPS에서만 전송 // HttpOnly: JavaScript에서 접근 불가 response.setHeader('Set-Cookie', 'sessionId=abc123; Secure; HttpOnly'); 주요 유형별 특징 기본 분류 유형 저장 위치 수명 사용 사례 세션 쿠키 브라우저 메모리 브라우저 종료 시 삭제 로그인 세션 지속형 쿠키 디스크 Expires/Max-Age 지정 자동 로그인 서드파티 쿠키 타 도메인 설정 장기적 크로스 사이트 광고 트래킹 특수 쿠키 (보안 리스크) 슈퍼쿠키: 일반 삭제로 제거 불가능 플래시 쿠키: Adobe Flash 기반, 브라우저 외부 저장 좀비 쿠키: 삭제 후 자동 재생성 쿠키 작동 방식 쿠키 설정 과정 클라이언트가 웹사이트 방문 서버가 Set-Cookie 헤더로 쿠키 전송 브라우저가 쿠키 저장 이후 요청시 자동으로 쿠키 전송 쿠키 전송 과정 브라우저가 HTTP 요청 준비 유효한 쿠키 확인 Cookie 헤더에 쿠키 포함 서버로 요청 전송 쿠키 관리 및 보안 HTTP 쿠키의 보안 속성은 XSS(교차 사이트 스크립팅), CSRF(교차 사이트 요청 위조) 등 웹 공격을 방어하고 사용자 데이터를 보호하기 위해 설계되었다.\nHttpOnly 목적: 이 플래그가 설정된 쿠키는 JavaScript 등의 클라이언트 측 스크립트에서 접근할 수 없다 (XSS 공격 방지). 값: Boolean (true/false 또는 속성 존재 유무) 동작 예시: 1 Set-Cookie: session_id=abc123; HttpOnly 효과: document.cookie로 쿠키 조회/수정 불가능 주로 세션 ID, 인증 토큰 등 민감 정보에 적용 Secure .\n목적: HTTPS 전용 전송 (중간자 공격 방지) 값: Boolean (true/false 또는 속성 존재 유무) 동작 예시: 1 Set-Cookie: auth_token=xyz; Secure 효과: HTTP 요청 시 쿠키 전송 차단 SameSite=None 사용 시 반드시 필요 SameSite 목적: 크로스 사이트 요청 제한 (CSRF 방지) 값: 값 설명 적용 예시 Strict 동일 도메인 요청만 허용 금융 거래, 관리자 페이지 Lax 기본값. GET 요청 시 외부 도메인 허용 (예: 링크 클릭) 일반 웹 사이트 None 모든 크로스 사이트 요청 허용 (Secure 필수) 타사 위젯, SSO 통합 동작 예시: 1 Set-Cookie: tracking=123; SameSite=Lax; Secure 추가 속성 (보안 연계) 속성 설명 Domain 쿠키 전송 허용 도메인 지정 (예: .example.com → 서브도메인 포함) Path 특정 경로에서만 쿠키 전송 (예: /admin) Max-Age 쿠키 유효 시간 설정 (초 단위) Domain=example.com: 이 쿠키가 전송될 수 있는 도메인을 지정한다. 여기서는 example.com과 그 서브도메인에서만 쿠키가 사용될 수 있다. Path=/: 이 쿠키가 전송될 수 있는 URL 경로를 지정한다. ‘/‘는 도메인의 모든 경로에서 쿠키가 사용될 수 있음을 의미한다. Max-Age=3600: 쿠키의 유효 기간을 초 단위로 설정한다. 여기서는 쿠키가 생성된 후 3600초(1시간) 동안 유효하다. 속성 조합 및 권장 사례 최적 보안 설정 예시 1 2 3 4 5 6 7 Set-Cookie: __Secure-session=def456; Secure; HttpOnly; SameSite=Strict; Path=/; Max-Age=3600 __Secure- 접두사: Secure 속성 강제 적용 SameSite=Strict: CSRF 완전 차단 Max-Age=3600: 1시간 후 자동 삭제 주의사항 SameSite=None + Secure 필수: 크로스 사이트 허용 시 HTTPS 강제 도메인 범위 최소화: 불필요한 서브도메인 접근 차단 (예: Domain=api.example.com) 민감 정보 암호화: Secure만으로는 충분하지 않음 → HTTPS + 데이터 암호화 병행 보안 이슈 및 대응 주요 공격 유형 공격 유형 설명 예방 조치 XSS 악성 스크립트로 쿠키 탈취 HttpOnly 속성 사용 CSRF 사용자 권한 도용 요청 위조 SameSite=Strict 설정 세션 하이재킹 암호화되지 않은 쿠키 전송 시 가로채기 Secure 속성 강제 XSS 방지: 1 2 // HttpOnly 플래그 사용 response.setHeader('Set-Cookie', 'sessionId=abc123; HttpOnly'); CSRF 방지: 1 2 3 4 5 6 // CSRF 토큰 사용 const csrfToken = generateToken(); response.cookie('XSRF-TOKEN', csrfToken, { httpOnly: false, secure: true }); 쿠키 암호화: 1 2 3 4 5 // 민감한 데이터 암호화 function setEncryptedCookie(name, value) { const encryptedValue = encrypt(value); document.cookie = `${name}=${encryptedValue}; Secure`; } 보안 속성 비교 1 2 3 4 5 Set-Cookie: auth_token=xyz; Secure // HTTPS 전용 전송 HttpOnly // JavaScript 접근 차단 SameSite=Lax // 크로스 사이트 요청 제한 Max-Age=3600 // 1시간 유지 개인정보 보호 대책 사용자 측 조치 브라우저 설정: 서드파티 쿠키 차단 확장 프로그램: 트래커 차단 툴(예: uBlock Origin) 설치 수동 관리: 주기적 쿠키 삭제 법적 규제 GDPR(유럽): 명시적 동의 필요 CCPA(미국): 데이터 판매 거부권 보장 개발자 권장 사항 필수 최소화: 세션 ID 외 민감 정보 저장 금지. 암호화: HTTPS 전용 통신 + Secure 속성 병용. 주기적 갱신: 세션 토큰 주기 변경으로 하이재킹 리스크 감소. CSP 적용: 스크립트 출처 제한으로 XSS 방지. 실무 팁:\nAPI 요청 시 Authorization: Bearer 헤더 사용이 쿠키보다 보안성 높음. 로컬 스토리지 대신 sessionStorage로 임시 데이터 관리. 쿠키의 제한사항 크기 제한:\n대부분의 브라우저에서 쿠키 하나당 4KB로 제한 도메인당 총 쿠키 수도 제한됨 보안 위험:\nXSS, CSRF 등의 공격에 취약할 수 있음 적절한 보안 설정 필요 프라이버시 문제:\n사용자 추적에 사용될 수 있음 GDPR 등 개인정보보호 규정 준수 필요 참고 및 출처 ","wordCount":"1072","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-10-18T07:12:00Z","dateModified":"2024-10-18T07:12:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/networking-knowledge/network-protocols/application-layer-protocols/web-service/http/cookies/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>posts</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/networking-knowledge/>Network</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/networking-knowledge/network-protocols/>Network Protocol</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/networking-knowledge/network-protocols/application-layer-protocols/web-service/>Web Service</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/networking-knowledge/network-protocols/application-layer-protocols/web-service/http/>HTTP (HyperText Transfer Protocol)</a></div><h1 class="post-title entry-hint-parent">Cookies</h1><div class=post-description>웹사이트가 사용자의 브라우저에 저장하는 작은 텍스트 파일</div><div class=post-meta><span title='2024-10-18 07:12:00 +0000 UTC'>October 18, 2024</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;1072 words&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Networking%20Knowledge/Network%20Protocols/Application%20Layer%20Protocols/Web%20Service/HTTP/Cookies.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#cookies>Cookies</a><ul><li><a href=#정의-및-목적>정의 및 목적</a></li><li><a href=#주요-용도>주요 용도</a></li><li><a href=#쿠키의-구성-요소>쿠키의 구성 요소</a></li><li><a href=#주요-유형별-특징>주요 유형별 특징</a></li><li><a href=#쿠키-작동-방식><strong>쿠키 작동 방식</strong></a></li><li><a href=#쿠키-관리-및-보안>쿠키 관리 및 보안</a></li><li><a href=#보안-이슈-및-대응>보안 이슈 및 대응</a></li><li><a href=#보안-속성-비교><strong>보안 속성 비교</strong></a></li><li><a href=#개인정보-보호-대책>개인정보 보호 대책</a></li><li><a href=#쿠키의-제한사항>쿠키의 제한사항</a></li></ul></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=cookies>Cookies<a hidden class=anchor aria-hidden=true href=#cookies>#</a></h2><p>HTTP 쿠키는 웹 서버가 사용자의 브라우저에 저장하는 <strong>작은 텍스트 데이터</strong>로, 사용자 세션 관리와 개인화된 경험 제공을 위해 설계되었다.<br>HTTP의 무상태(Stateless) 특성을 보완하여 <strong>연속적인 요청 간 상태 유지</strong>가 가능하게 한다.</p><h3 id=정의-및-목적>정의 및 목적<a hidden class=anchor aria-hidden=true href=#정의-및-목적>#</a></h3><ul><li><strong>데이터 저장 형식</strong>: <code>키=값</code> 쌍으로 구성된 텍스트 파일.</li><li><strong>동작 원리</strong>:<ol><li>서버 → <code>Set-Cookie</code> 헤더로 브라우저에 전송.</li><li>브라우저 → 이후 요청 시 <code>Cookie</code> 헤더에 포함.</li></ol></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3>3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4>4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5>5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6>6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-http data-lang=http><span class=line><span class=cl><span class=err>// 서버 응답 예시
</span></span></span><span class=line><span class=cl><span class=err></span><span class=kr>HTTP</span><span class=o>/</span><span class=m>2.0</span> <span class=m>200</span> <span class=ne>OK</span>
</span></span><span class=line><span class=cl><span class=n>Set-Cookie</span><span class=o>:</span> <span class=l>session_id=abc123; Secure; HttpOnly</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=g>// 클라이언트 요청 예시
</span></span></span><span class=line><span class=cl><span class=g>GET /dashboard HTTP/2.0
</span></span></span><span class=line><span class=cl><span class=g>Cookie: session_id=abc123
</span></span></span></code></pre></td></tr></table></div></div><h3 id=주요-용도>주요 용도<a hidden class=anchor aria-hidden=true href=#주요-용도>#</a></h3><table><thead><tr><th>용도</th><th>설명</th><th>예시</th></tr></thead><tbody><tr><td><strong>세션 관리</strong></td><td>로그인 상태, 장바구니 정보 유지</td><td>온라인 쇼핑몰 결제 과정</td></tr><tr><td><strong>개인화</strong></td><td>언어 설정, 테마 저장</td><td>다크 모드 자동 적용</td></tr><tr><td><strong>트래킹</strong></td><td>사용자 행동 분석 및 광고 타겟팅</td><td>구글 애널리틱스</td></tr></tbody></table><ol><li>세션 관리:</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 로그인 세션 관리
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>app</span><span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=s1>&#39;/login&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 사용자 인증 후
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>sessionId</span> <span class=o>=</span> <span class=nx>generateSessionId</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>res</span><span class=p>.</span><span class=nx>cookie</span><span class=p>(</span><span class=s1>&#39;sessionId&#39;</span><span class=p>,</span> <span class=nx>sessionId</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>httpOnly</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>secure</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>maxAge</span><span class=o>:</span> <span class=mi>24</span> <span class=o>*</span> <span class=mi>60</span> <span class=o>*</span> <span class=mi>60</span> <span class=o>*</span> <span class=mi>1000</span> <span class=c1>// 24시간
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>개인화:</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3>3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 사용자 선호도 저장
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>saveUserPreference</span><span class=p>(</span><span class=nx>theme</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nb>document</span><span class=p>.</span><span class=nx>cookie</span> <span class=o>=</span> <span class=sb>`theme=</span><span class=si>${</span><span class=nx>theme</span><span class=si>}</span><span class=sb>; max-age=31536000; path=/`</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ol start=3><li>트래킹:</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2>2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3>3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4>4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5>5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 방문자 추적
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>trackPageVisit</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>visits</span> <span class=o>=</span> <span class=nx>getCookie</span><span class=p>(</span><span class=s1>&#39;visitCount&#39;</span><span class=p>)</span> <span class=o>||</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>visits</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nb>document</span><span class=p>.</span><span class=nx>cookie</span> <span class=o>=</span> <span class=sb>`visitCount=</span><span class=si>${</span><span class=nx>visits</span><span class=si>}</span><span class=sb>; max-age=31536000`</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=쿠키의-구성-요소>쿠키의 구성 요소<a hidden class=anchor aria-hidden=true href=#쿠키의-구성-요소>#</a></h3><ul><li><strong>이름=값:</strong> 쿠키는 기본적으로 이름과 값의 쌍으로 이루어진 문자열.</li><li><strong>만료 날짜(Expires) 또는 최대 수명(Max-Age):</strong> 쿠키의 유효 기간을 지정하며, 이 기간이 지나면 브라우저는 해당 쿠키를 삭제한다.</li><li><strong>도메인(Domain)과 경로(Path):</strong> 쿠키가 적용될 도메인과 경로를 지정하여 특정 범위에서만 쿠키를 전송하도록 제한할 수 있다.</li><li><strong>보안 속성:</strong> <code>Secure</code> 속성을 설정하면 쿠키는 HTTPS 연결에서만 전송되며, <code>HttpOnly</code> 속성을 설정하면 JavaScript와 같은 클라이언트 측 스크립트에서 쿠키에 접근할 수 없다.</li></ul><h4 id=주요-속성>주요 속성<a hidden class=anchor aria-hidden=true href=#주요-속성>#</a></h4><table><thead><tr><th>속성</th><th>설명</th><th>예시</th></tr></thead><tbody><tr><td>Name</td><td>쿠키의 이름</td><td>sessionId</td></tr><tr><td>Value</td><td>쿠키의 값</td><td>abc123xyz</td></tr><tr><td>Domain</td><td>쿠키가 유효한 도메인</td><td>.example.com</td></tr><tr><td>Path</td><td>쿠키가 유효한 경로</td><td>/</td></tr><tr><td>Expires/Max-Age</td><td>쿠키 만료 시간</td><td>Wed, 21 Oct 2024</td></tr><tr><td>Secure</td><td>HTTPS에서만 전송</td><td>Secure</td></tr><tr><td>HttpOnly</td><td>JS에서 접근 불가</td><td>HttpOnly</td></tr><tr><td>SameSite</td><td>CSRF 방지 설정</td><td>Strict, Lax, None</td></tr></tbody></table><ol><li>Name과 Value:</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 쿠키의 기본 구성
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>document</span><span class=p>.</span><span class=nx>cookie</span> <span class=o>=</span> <span class=s2>&#34;username=John Doe&#34;</span><span class=p>;</span> <span class=c1>// 이름=값 형태
</span></span></span></code></pre></td></tr></table></div></div><ol start=2><li>Expires/Max-Age:</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2>2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3>3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 만료 시간 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>document</span><span class=p>.</span><span class=nx>cookie</span> <span class=o>=</span> <span class=s2>&#34;username=John Doe; expires=Thu, 18 Dec 2025 12:00:00 UTC&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c1>// 또는 Max-Age 사용
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>document</span><span class=p>.</span><span class=nx>cookie</span> <span class=o>=</span> <span class=s2>&#34;username=John Doe; max-age=3600&#34;</span><span class=p>;</span> <span class=c1>// 1시간 후 만료
</span></span></span></code></pre></td></tr></table></div></div><ol start=3><li>Domain과 Path:</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1>1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 특정 도메인과 경로에서만 사용 가능한 쿠키
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>document</span><span class=p>.</span><span class=nx>cookie</span> <span class=o>=</span> <span class=s2>&#34;user=John; domain=example.com; path=/blog&#34;</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><ol start=4><li>Secure와 HttpOnly:</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2>2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3>3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 보안 관련 설정
</span></span></span><span class=line><span class=cl><span class=c1>// Secure: HTTPS에서만 전송
</span></span></span><span class=line><span class=cl><span class=c1>// HttpOnly: JavaScript에서 접근 불가
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>response</span><span class=p>.</span><span class=nx>setHeader</span><span class=p>(</span><span class=s1>&#39;Set-Cookie&#39;</span><span class=p>,</span> <span class=s1>&#39;sessionId=abc123; Secure; HttpOnly&#39;</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=주요-유형별-특징>주요 유형별 특징<a hidden class=anchor aria-hidden=true href=#주요-유형별-특징>#</a></h3><h4 id=기본-분류>기본 분류<a hidden class=anchor aria-hidden=true href=#기본-분류>#</a></h4><table><thead><tr><th>유형</th><th>저장 위치</th><th>수명</th><th>사용 사례</th></tr></thead><tbody><tr><td><strong>세션 쿠키</strong></td><td>브라우저 메모리</td><td>브라우저 종료 시 삭제</td><td>로그인 세션</td></tr><tr><td><strong>지속형 쿠키</strong></td><td>디스크</td><td>Expires/Max-Age 지정</td><td>자동 로그인</td></tr><tr><td><strong>서드파티 쿠키</strong></td><td>타 도메인 설정</td><td>장기적</td><td>크로스 사이트 광고 트래킹</td></tr></tbody></table><h4 id=특수-쿠키-보안-리스크>특수 쿠키 (보안 리스크)<a hidden class=anchor aria-hidden=true href=#특수-쿠키-보안-리스크>#</a></h4><ul><li><strong>슈퍼쿠키</strong>: 일반 삭제로 제거 불가능</li><li><strong>플래시 쿠키</strong>: Adobe Flash 기반, 브라우저 외부 저장</li><li><strong>좀비 쿠키</strong>: 삭제 후 자동 재생성</li></ul><h3 id=쿠키-작동-방식><strong>쿠키 작동 방식</strong><a hidden class=anchor aria-hidden=true href=#쿠키-작동-방식>#</a></h3><ol><li>쿠키 설정 과정<ol><li>클라이언트가 웹사이트 방문</li><li>서버가 Set-Cookie 헤더로 쿠키 전송</li><li>브라우저가 쿠키 저장</li><li>이후 요청시 자동으로 쿠키 전송</li></ol></li><li>쿠키 전송 과정<ol><li>브라우저가 HTTP 요청 준비</li><li>유효한 쿠키 확인</li><li>Cookie 헤더에 쿠키 포함</li><li>서버로 요청 전송</li></ol></li></ol><h3 id=쿠키-관리-및-보안>쿠키 관리 및 보안<a hidden class=anchor aria-hidden=true href=#쿠키-관리-및-보안>#</a></h3><p>HTTP 쿠키의 보안 속성은 <strong>XSS(교차 사이트 스크립팅)</strong>, <strong>CSRF(교차 사이트 요청 위조)</strong> 등 웹 공격을 방어하고 사용자 데이터를 보호하기 위해 설계되었다.</p><h4 id=httponly>HttpOnly<a hidden class=anchor aria-hidden=true href=#httponly>#</a></h4><ul><li><strong>목적</strong>: 이 플래그가 설정된 쿠키는 JavaScript 등의 클라이언트 측 스크립트에서 접근할 수 없다 (XSS 공격 방지).</li><li><strong>값</strong>: Boolean (<code>true</code>/<code>false</code> 또는 속성 존재 유무)</li><li><strong>동작 예시</strong>:</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-http data-lang=http><span class=line><span class=cl><span class=err>Set-Cookie: session_id=abc123; HttpOnly
</span></span></span></code></pre></td></tr></table></div></div><ul><li><strong>효과</strong>:<ul><li><code>document.cookie</code>로 쿠키 조회/수정 불가능</li><li>주로 세션 ID, 인증 토큰 등 민감 정보에 적용</li></ul></li></ul><h4 id=secure>Secure<a hidden class=anchor aria-hidden=true href=#secure>#</a></h4><p>.</p><ul><li><strong>목적</strong>: HTTPS 전용 전송 (중간자 공격 방지)</li><li><strong>값</strong>: Boolean (<code>true</code>/<code>false</code> 또는 속성 존재 유무)</li><li><strong>동작 예시</strong>:</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-http data-lang=http><span class=line><span class=cl><span class=err>Set-Cookie: auth_token=xyz; Secure
</span></span></span></code></pre></td></tr></table></div></div><ul><li><strong>효과</strong>:<ul><li>HTTP 요청 시 쿠키 전송 차단</li><li><strong>SameSite=None</strong> 사용 시 반드시 필요</li></ul></li></ul><h4 id=samesite>SameSite<a hidden class=anchor aria-hidden=true href=#samesite>#</a></h4><ul><li><strong>목적</strong>: 크로스 사이트 요청 제한 (CSRF 방지)</li><li><strong>값</strong>:</li></ul><table><thead><tr><th>값</th><th>설명</th><th>적용 예시</th></tr></thead><tbody><tr><td><strong>Strict</strong></td><td>동일 도메인 요청만 허용</td><td>금융 거래, 관리자 페이지</td></tr><tr><td><strong>Lax</strong></td><td>기본값. GET 요청 시 외부 도메인 허용 (예: 링크 클릭)</td><td>일반 웹 사이트</td></tr><tr><td><strong>None</strong></td><td>모든 크로스 사이트 요청 허용 (<strong>Secure</strong> 필수)</td><td>타사 위젯, SSO 통합</td></tr></tbody></table><ul><li><strong>동작 예시</strong>:</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-http data-lang=http><span class=line><span class=cl><span class=err>Set-Cookie: tracking=123; SameSite=Lax; Secure
</span></span></span></code></pre></td></tr></table></div></div><h4 id=추가-속성-보안-연계>추가 속성 (보안 연계)<a hidden class=anchor aria-hidden=true href=#추가-속성-보안-연계>#</a></h4><table><thead><tr><th>속성</th><th>설명</th></tr></thead><tbody><tr><td><strong>Domain</strong></td><td>쿠키 전송 허용 도메인 지정 (예: <code>.example.com</code> → 서브도메인 포함)</td></tr><tr><td><strong>Path</strong></td><td>특정 경로에서만 쿠키 전송 (예: <code>/admin</code>)</td></tr><tr><td><strong>Max-Age</strong></td><td>쿠키 유효 시간 설정 (초 단위)</td></tr></tbody></table><ol><li>Domain=example.com:<ul><li>이 쿠키가 전송될 수 있는 도메인을 지정한다.</li><li>여기서는 example.com과 그 서브도메인에서만 쿠키가 사용될 수 있다.</li></ul></li><li>Path=/:<ul><li>이 쿠키가 전송될 수 있는 URL 경로를 지정한다.</li><li>&lsquo;/&lsquo;는 도메인의 모든 경로에서 쿠키가 사용될 수 있음을 의미한다.</li></ul></li><li>Max-Age=3600:<ul><li>쿠키의 유효 기간을 초 단위로 설정한다.</li><li>여기서는 쿠키가 생성된 후 3600초(1시간) 동안 유효하다.</li></ul></li></ol><h4 id=속성-조합-및-권장-사례>속성 조합 및 권장 사례<a hidden class=anchor aria-hidden=true href=#속성-조합-및-권장-사례>#</a></h4><h5 id=최적-보안-설정-예시>최적 보안 설정 예시<a hidden class=anchor aria-hidden=true href=#최적-보안-설정-예시>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1>1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2>2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3>3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4>4</a>
</span><span class=lnt id=hl-11-5><a class=lnlinks href=#hl-11-5>5</a>
</span><span class=lnt id=hl-11-6><a class=lnlinks href=#hl-11-6>6</a>
</span><span class=lnt id=hl-11-7><a class=lnlinks href=#hl-11-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-http data-lang=http><span class=line><span class=cl><span class=err>Set-Cookie: 
</span></span></span><span class=line><span class=cl><span class=err>  __Secure-session=def456; 
</span></span></span><span class=line><span class=cl><span class=err>  Secure; 
</span></span></span><span class=line><span class=cl><span class=err>  HttpOnly; 
</span></span></span><span class=line><span class=cl><span class=err>  SameSite=Strict; 
</span></span></span><span class=line><span class=cl><span class=err>  Path=/; 
</span></span></span><span class=line><span class=cl><span class=err>  Max-Age=3600
</span></span></span></code></pre></td></tr></table></div></div><ul><li><strong><code>__Secure-</code> 접두사</strong>: Secure 속성 강제 적용</li><li><strong><code>SameSite=Strict</code></strong>: CSRF 완전 차단</li><li><strong><code>Max-Age=3600</code></strong>: 1시간 후 자동 삭제</li></ul><h5 id=주의사항>주의사항<a hidden class=anchor aria-hidden=true href=#주의사항>#</a></h5><ul><li><strong>SameSite=None + Secure 필수</strong>: 크로스 사이트 허용 시 HTTPS 강제</li><li><strong>도메인 범위 최소화</strong>: 불필요한 서브도메인 접근 차단 (예: <code>Domain=api.example.com</code>)</li><li><strong>민감 정보 암호화</strong>: Secure만으로는 충분하지 않음 → HTTPS + 데이터 암호화 병행</li></ul><h3 id=보안-이슈-및-대응>보안 이슈 및 대응<a hidden class=anchor aria-hidden=true href=#보안-이슈-및-대응>#</a></h3><h4 id=주요-공격-유형>주요 공격 유형<a hidden class=anchor aria-hidden=true href=#주요-공격-유형>#</a></h4><table><thead><tr><th>공격 유형</th><th>설명</th><th>예방 조치</th></tr></thead><tbody><tr><td><strong>XSS</strong></td><td>악성 스크립트로 쿠키 탈취</td><td><code>HttpOnly</code> 속성 사용</td></tr><tr><td><strong>CSRF</strong></td><td>사용자 권한 도용 요청 위조</td><td><code>SameSite=Strict</code> 설정</td></tr><tr><td><strong>세션 하이재킹</strong></td><td>암호화되지 않은 쿠키 전송 시 가로채기</td><td><code>Secure</code> 속성 강제</td></tr></tbody></table><ol><li>XSS 방지:</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1>1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// HttpOnly 플래그 사용
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>response</span><span class=p>.</span><span class=nx>setHeader</span><span class=p>(</span><span class=s1>&#39;Set-Cookie&#39;</span><span class=p>,</span> <span class=s1>&#39;sessionId=abc123; HttpOnly&#39;</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>CSRF 방지:</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1>1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2>2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3>3</a>
</span><span class=lnt id=hl-13-4><a class=lnlinks href=#hl-13-4>4</a>
</span><span class=lnt id=hl-13-5><a class=lnlinks href=#hl-13-5>5</a>
</span><span class=lnt id=hl-13-6><a class=lnlinks href=#hl-13-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// CSRF 토큰 사용
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>csrfToken</span> <span class=o>=</span> <span class=nx>generateToken</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>response</span><span class=p>.</span><span class=nx>cookie</span><span class=p>(</span><span class=s1>&#39;XSRF-TOKEN&#39;</span><span class=p>,</span> <span class=nx>csrfToken</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>httpOnly</span><span class=o>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>secure</span><span class=o>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><ol start=3><li>쿠키 암호화:</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1>1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2>2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3>3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4>4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 민감한 데이터 암호화
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>setEncryptedCookie</span><span class=p>(</span><span class=nx>name</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>encryptedValue</span> <span class=o>=</span> <span class=nx>encrypt</span><span class=p>(</span><span class=nx>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nb>document</span><span class=p>.</span><span class=nx>cookie</span> <span class=o>=</span> <span class=sb>`</span><span class=si>${</span><span class=nx>name</span><span class=si>}</span><span class=sb>=</span><span class=si>${</span><span class=nx>encryptedValue</span><span class=si>}</span><span class=sb>; Secure`</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=보안-속성-비교><strong>보안 속성 비교</strong><a hidden class=anchor aria-hidden=true href=#보안-속성-비교>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1>1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2>2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3>3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4>4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-http data-lang=http><span class=line><span class=cl><span class=err>Set-Cookie: auth_token=xyz; 
</span></span></span><span class=line><span class=cl><span class=err>  Secure     // HTTPS 전용 전송
</span></span></span><span class=line><span class=cl><span class=err>  HttpOnly   // JavaScript 접근 차단
</span></span></span><span class=line><span class=cl><span class=err>  SameSite=Lax // 크로스 사이트 요청 제한
</span></span></span><span class=line><span class=cl><span class=err>  Max-Age=3600 // 1시간 유지
</span></span></span></code></pre></td></tr></table></div></div><h3 id=개인정보-보호-대책>개인정보 보호 대책<a hidden class=anchor aria-hidden=true href=#개인정보-보호-대책>#</a></h3><h4 id=사용자-측-조치><strong>사용자 측 조치</strong><a hidden class=anchor aria-hidden=true href=#사용자-측-조치>#</a></h4><ul><li><strong>브라우저 설정</strong>: 서드파티 쿠키 차단</li><li><strong>확장 프로그램</strong>: 트래커 차단 툴(예: uBlock Origin) 설치</li><li><strong>수동 관리</strong>: 주기적 쿠키 삭제</li></ul><h4 id=법적-규제>법적 규제<a hidden class=anchor aria-hidden=true href=#법적-규제>#</a></h4><ul><li><strong>GDPR(유럽)</strong>: 명시적 동의 필요</li><li><strong>CCPA(미국)</strong>: 데이터 판매 거부권 보장</li></ul><h4 id=개발자-권장-사항>개발자 권장 사항<a hidden class=anchor aria-hidden=true href=#개발자-권장-사항>#</a></h4><ol><li><strong>필수 최소화</strong>: 세션 ID 외 민감 정보 저장 금지.</li><li><strong>암호화</strong>: HTTPS 전용 통신 + <code>Secure</code> 속성 병용.</li><li><strong>주기적 갱신</strong>: 세션 토큰 주기 변경으로 하이재킹 리스크 감소.</li><li><strong>CSP 적용</strong>: 스크립트 출처 제한으로 XSS 방지.</li></ol><blockquote><p><strong>실무 팁</strong>:</p><ul><li>API 요청 시 <code>Authorization: Bearer</code> 헤더 사용이 쿠키보다 보안성 높음.</li><li>로컬 스토리지 대신 <code>sessionStorage</code>로 임시 데이터 관리.</li></ul></blockquote><h3 id=쿠키의-제한사항>쿠키의 제한사항<a hidden class=anchor aria-hidden=true href=#쿠키의-제한사항>#</a></h3><ol start=5><li><p>크기 제한:</p><ul><li>대부분의 브라우저에서 쿠키 하나당 4KB로 제한</li><li>도메인당 총 쿠키 수도 제한됨</li></ul></li><li><p>보안 위험:</p><ul><li>XSS, CSRF 등의 공격에 취약할 수 있음</li><li>적절한 보안 설정 필요</li></ul></li><li><p>프라이버시 문제:</p><ul><li>사용자 추적에 사용될 수 있음</li><li>GDPR 등 개인정보보호 규정 준수 필요</li></ul></li></ol><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/networking-knowledge/>Networking-Knowledge</a></li><li><a href=https://buenhyden.github.io/tags/network-protocols/>Network-Protocols</a></li><li><a href=https://buenhyden.github.io/tags/application-layer-protocols/>Application-Layer-Protocols</a></li><li><a href=https://buenhyden.github.io/tags/web-service/>Web-Service</a></li><li><a href=https://buenhyden.github.io/tags/http/>HTTP</a></li><li><a href=https://buenhyden.github.io/tags/cookies/>Cookies</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/networking-knowledge/network-protocols/application-layer-protocols/web-service/http/cors/><span class=title>« Prev</span><br><span>CORS</span>
</a><a class=next href=https://buenhyden.github.io/posts/networking-knowledge/network-protocols/application-layer-protocols/web-service/http/http-cache/><span class=title>Next »</span><br><span>HTTP Cache</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>