<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>AMQP | hyunyoun's Blog</title>
<meta name=keywords content="Networking-Knowledge,Network-Protocols,Messaging-Protocol,AMQP"><meta name=description content="AMQP(Advanced Message Queuing Protocol)는 메시지 지향 미들웨어를 위한 개방형 표준 응용 계층 프로토콜이다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/networking-knowledge/network-protocols/messaging-protocol/amqp/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.9a2bbe2d8b5afa9d4df22976abb7b72f1f7f1c467d2b30f03090108f9496ae6c.css integrity="sha256-miu+LYta+p1N8il2q7e3Lx9/HEZ9KzDwMJAQj5SWrmw=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/networking-knowledge/network-protocols/messaging-protocol/amqp/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/networking-knowledge/network-protocols/messaging-protocol/amqp/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="AMQP"><meta property="og:description" content="AMQP(Advanced Message Queuing Protocol)는 메시지 지향 미들웨어를 위한 개방형 표준 응용 계층 프로토콜이다."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-10-20T05:01:00+00:00"><meta property="article:modified_time" content="2024-10-20T05:01:00+00:00"><meta property="article:tag" content="Networking-Knowledge"><meta property="article:tag" content="Network-Protocols"><meta property="article:tag" content="Messaging-Protocol"><meta property="article:tag" content="AMQP"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="AMQP"><meta name=twitter:description content="AMQP(Advanced Message Queuing Protocol)는 메시지 지향 미들웨어를 위한 개방형 표준 응용 계층 프로토콜이다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"posts","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Network","item":"https://buenhyden.github.io/posts/networking-knowledge/"},{"@type":"ListItem","position":3,"name":"Network Protocol","item":"https://buenhyden.github.io/posts/networking-knowledge/network-protocols/"},{"@type":"ListItem","position":4,"name":"Messaging Protocol","item":"https://buenhyden.github.io/posts/networking-knowledge/network-protocols/messaging-protocol/"},{"@type":"ListItem","position":5,"name":"AMQP","item":"https://buenhyden.github.io/posts/networking-knowledge/network-protocols/messaging-protocol/amqp/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"AMQP","name":"AMQP","description":"AMQP(Advanced Message Queuing Protocol)는 메시지 지향 미들웨어를 위한 개방형 표준 응용 계층 프로토콜이다.","keywords":["Networking-Knowledge","Network-Protocols","Messaging-Protocol","AMQP"],"articleBody":"AMQP(Advanced Message Queuing Protocol) AMQP(Advanced Message Queuing Protocol)는 메시지 지향 미들웨어를 위한 개방형 표준 응용 계층 프로토콜이다.\n이 프로토콜은 클라이언트와 미들웨어 브로커 간의 데이터 교환을 위해 설계되었다.\n주요 기능으로는 메시지 지향, 큐잉, 라우팅(포인트-투-포인트 및 발행-구독), 신뢰성, 보안 등을 포함한다.\nAMQP는 2003년 런던의 JP모간 체이스에서 John O’Hara에 의해 시작되었다. 메시지 지향 미들웨어의 표준화를 통해 시스템 간 통신을 개선하려는 목표로 개발되었으며, 이후 오픈 소스 프로젝트로 전환되어 다양한 시스템과 플랫폼에서 사용되고 있다.\nhttps://www.linkedin.com/pulse/advanced-message-queuing-protocol-amqp-%CA%8Cs%C6%95raf-%CA%8C%C9%AF%C9%AFa%C8%A1-/\nAMQP의 주요 특징 이기종 시스템 간 메시지 교환: 벤더에 종속되지 않는 표준화된 네트워크 프로토콜을 사용한다. 높은 속도와 응답성: 메시지 큐(MQ)를 사용하여 효율적인 메시지 교환을 지원한다. 신뢰성과 보안: 메시지의 안전한 전달을 보장한다. 유연성과 확장성: 다양한 메시징 패턴을 지원하며, 복잡한 라우팅 시나리오를 구현할 수 있다. AMQP의 기본 구성 요소 Publisher: 메시지를 생성하고 Broker에 송신한다. Broker: Subscriber에게 메시지를 전달하고 배포한다. Subscriber: Broker로부터 매칭된 메시지를 수신한다. AMQP Routing Model AMQP의 라우팅 모델은 다음과 같은 구성 요소로 이루어져 있다:\nExchange: Publisher로부터 수신한 메시지를 바인딩하고, 여러 exchange type 인스턴스를 보유한다. Queue: 메시지를 저장하고 Subscriber에게 전달한다. Binding: Exchange와 Queue의 관계를 정의하며, 1:N, N:1 등 다양한 방식으로 바인딩할 수 있다. Routing Key: 메시지 헤더에 포함된 가상 주소로, Exchange type이 이를 이용한다. Exchange Types AMQP는 다양한 Exchange type을 지원하여 유연한 메시지 라우팅을 가능하게 한다:\nFan-out: 모든 큐로 메시지를 라우팅한다. Direct: 라우팅 키를 큐에 1:N으로 매칭한다. Topic: 와일드카드를 이용하여 큐에 매칭한다. Headers: key-value로 정의된 헤더로 라우팅을 결정한다. AMQP의 메시지 전송 AMQP(Advanced Message Queuing Protocol)에서 메시지 전송은 다음과 같이 이루어진다:\n메시지 전송 단위:\nAMQP에서 데이터의 기본 단위는 ‘프레임(frame)‘이다.메시지는 이 프레임을 통해 전송된다. 메시지 형식:\nAMQP 메시지는 다음 구성요소로 이루어진다. 헤더(Header): 메시지의 속성 및 메타데이터를 포함하며, 전달 모드, 우선순위, 만료 시간 등의 정보를 담고 있다. 프로퍼티(Properties): 메시지 식별자, 생성 시간, 콘텐츠 유형 등과 같은 추가적인 속성을 정의한다. 바디(Body): 실제 전송하고자 하는 데이터(payload)를 포함한다. 메시지 전송 과정:\na. 생산자(Producer)가 메시지를 생성하여 특정 Exchange에 전달한다.\nb. Exchange는 라우팅 규칙에 따라 메시지를 적절한 Queue로 전달한다.\nc. 메시지는 프레임 단위로 분리되어 전송된다. 구체적으로 메서드 프레임, 헤더 프레임, 바디 프레임으로 나뉘어 전송된다.\nd. Queue에 저장된 메시지를 Consumer가 소비한다. 전송 보장:\nAMQP는 메시지 전달을 세 가지 방식 중 하나로 보장한다. at-most-once: 메시지는 한 번만 전달되거나 전혀 전달되지 않는다. at-least-once: 메시지는 최소 한 번 이상 전달되며, 여러 번 전달될 수 있다. exactly-once: 메시지는 정확히 한 번만 전달된다. AMQP의 활용 AMQP는 다양한 메시징 시스템에서 구현되어 사용되고 있다:\nRabbitMQ: Openstack의 메시지 큐로 사용되며, 다양한 언어와 OS를 지원한다. ActiveMQ: JVM 기반 애플리케이션에서 사용되는 자바 기반 오픈소스이다. ZeroMQ: 임베디드 네트워크 메시징에 사용되며, 단순하고 효율적인 프로토콜로 고속 전송을 지원한다. 참고 및 출처 ","wordCount":"398","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-10-20T05:01:00Z","dateModified":"2024-10-20T05:01:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/networking-knowledge/network-protocols/messaging-protocol/amqp/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>posts</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/networking-knowledge/>Network</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/networking-knowledge/network-protocols/>Network Protocol</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/networking-knowledge/network-protocols/messaging-protocol/>Messaging Protocol</a></div><h1 class="post-title entry-hint-parent">AMQP</h1><div class=post-description>AMQP(Advanced Message Queuing Protocol)는 메시지 지향 미들웨어를 위한 개방형 표준 응용 계층 프로토콜이다.</div><div class=post-meta><span title='2024-10-20 05:01:00 +0000 UTC'>October 20, 2024</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;398 words&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Networking%20Knowledge/Network%20Protocols/Messaging%20Protocol/amqp.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#amqpadvanced-message-queuing-protocol>AMQP(Advanced Message Queuing Protocol)</a><ul><li><a href=#amqp의-주요-특징>AMQP의 주요 특징</a></li><li><a href=#amqp의-기본-구성-요소>AMQP의 기본 구성 요소</a></li><li><a href=#amqp-routing-model>AMQP Routing Model</a></li><li><a href=#exchange-types>Exchange Types</a></li><li><a href=#amqp의-메시지-전송>AMQP의 메시지 전송</a></li><li><a href=#amqp의-활용>AMQP의 활용</a></li></ul></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=amqpadvanced-message-queuing-protocol>AMQP(Advanced Message Queuing Protocol)<a hidden class=anchor aria-hidden=true href=#amqpadvanced-message-queuing-protocol>#</a></h2><p>AMQP(Advanced Message Queuing Protocol)는 메시지 지향 미들웨어를 위한 개방형 표준 응용 계층 프로토콜이다.<br>이 프로토콜은 클라이언트와 미들웨어 브로커 간의 데이터 교환을 위해 설계되었다.<br>주요 기능으로는 메시지 지향, 큐잉, 라우팅(포인트-투-포인트 및 발행-구독), 신뢰성, 보안 등을 포함한다.</p><p>AMQP는 2003년 런던의 JP모간 체이스에서 John O&rsquo;Hara에 의해 시작되었다. 메시지 지향 미들웨어의 표준화를 통해 시스템 간 통신을 개선하려는 목표로 개발되었으며, 이후 오픈 소스 프로젝트로 전환되어 다양한 시스템과 플랫폼에서 사용되고 있다.</p><p><figure><img alt=AMQP loading=lazy src=/img/1521942243982.png><figcaption>https://www.linkedin.com/pulse/advanced-message-queuing-protocol-amqp-%CA%8Cs%C6%95raf-%CA%8C%C9%AF%C9%AFa%C8%A1-/</figcaption></figure></p><h3 id=amqp의-주요-특징>AMQP의 주요 특징<a hidden class=anchor aria-hidden=true href=#amqp의-주요-특징>#</a></h3><ol><li>이기종 시스템 간 메시지 교환: 벤더에 종속되지 않는 표준화된 네트워크 프로토콜을 사용한다.</li><li>높은 속도와 응답성: 메시지 큐(MQ)를 사용하여 효율적인 메시지 교환을 지원한다.</li><li>신뢰성과 보안: 메시지의 안전한 전달을 보장한다.</li><li>유연성과 확장성: 다양한 메시징 패턴을 지원하며, 복잡한 라우팅 시나리오를 구현할 수 있다.</li></ol><h3 id=amqp의-기본-구성-요소>AMQP의 기본 구성 요소<a hidden class=anchor aria-hidden=true href=#amqp의-기본-구성-요소>#</a></h3><ol><li>Publisher: 메시지를 생성하고 Broker에 송신한다.</li><li>Broker: Subscriber에게 메시지를 전달하고 배포한다.</li><li>Subscriber: Broker로부터 매칭된 메시지를 수신한다.</li></ol><h3 id=amqp-routing-model>AMQP Routing Model<a hidden class=anchor aria-hidden=true href=#amqp-routing-model>#</a></h3><p>AMQP의 라우팅 모델은 다음과 같은 구성 요소로 이루어져 있다:</p><ol><li>Exchange: Publisher로부터 수신한 메시지를 바인딩하고, 여러 exchange type 인스턴스를 보유한다.</li><li>Queue: 메시지를 저장하고 Subscriber에게 전달한다.</li><li>Binding: Exchange와 Queue의 관계를 정의하며, 1:N, N:1 등 다양한 방식으로 바인딩할 수 있다.</li><li>Routing Key: 메시지 헤더에 포함된 가상 주소로, Exchange type이 이를 이용한다.</li></ol><h3 id=exchange-types>Exchange Types<a hidden class=anchor aria-hidden=true href=#exchange-types>#</a></h3><p>AMQP는 다양한 Exchange type을 지원하여 유연한 메시지 라우팅을 가능하게 한다:</p><ol><li>Fan-out: 모든 큐로 메시지를 라우팅한다.</li><li>Direct: 라우팅 키를 큐에 1:N으로 매칭한다.</li><li>Topic: 와일드카드를 이용하여 큐에 매칭한다.</li><li>Headers: key-value로 정의된 헤더로 라우팅을 결정한다.</li></ol><h3 id=amqp의-메시지-전송>AMQP의 메시지 전송<a hidden class=anchor aria-hidden=true href=#amqp의-메시지-전송>#</a></h3><p>AMQP(Advanced Message Queuing Protocol)에서 메시지 전송은 다음과 같이 이루어진다:</p><ol><li>메시지 전송 단위:<br>AMQP에서 데이터의 기본 단위는 &lsquo;프레임(frame)&lsquo;이다.메시지는 이 프레임을 통해 전송된다.</li><li>메시지 형식:<br>AMQP 메시지는 다음 구성요소로 이루어진다.<ul><li><strong>헤더(Header)</strong>: 메시지의 속성 및 메타데이터를 포함하며, 전달 모드, 우선순위, 만료 시간 등의 정보를 담고 있다.</li><li><strong>프로퍼티(Properties)</strong>: 메시지 식별자, 생성 시간, 콘텐츠 유형 등과 같은 추가적인 속성을 정의한다.</li><li><strong>바디(Body)</strong>: 실제 전송하고자 하는 데이터(payload)를 포함한다.</li></ul></li><li>메시지 전송 과정:<br>a. 생산자(Producer)가 메시지를 생성하여 특정 Exchange에 전달한다.<br>b. Exchange는 라우팅 규칙에 따라 메시지를 적절한 Queue로 전달한다.<br>c. 메시지는 프레임 단위로 분리되어 전송된다. 구체적으로 메서드 프레임, 헤더 프레임, 바디 프레임으로 나뉘어 전송된다.<br>d. Queue에 저장된 메시지를 Consumer가 소비한다.</li><li>전송 보장:<br>AMQP는 메시지 전달을 세 가지 방식 중 하나로 보장한다.<ul><li>at-most-once: 메시지는 한 번만 전달되거나 전혀 전달되지 않는다.</li><li>at-least-once: 메시지는 최소 한 번 이상 전달되며, 여러 번 전달될 수 있다.</li><li>exactly-once: 메시지는 정확히 한 번만 전달된다.</li></ul></li></ol><h3 id=amqp의-활용>AMQP의 활용<a hidden class=anchor aria-hidden=true href=#amqp의-활용>#</a></h3><p>AMQP는 다양한 메시징 시스템에서 구현되어 사용되고 있다:</p><ol><li>RabbitMQ: Openstack의 메시지 큐로 사용되며, 다양한 언어와 OS를 지원한다.</li><li>ActiveMQ: JVM 기반 애플리케이션에서 사용되는 자바 기반 오픈소스이다.</li><li>ZeroMQ: 임베디드 네트워크 메시징에 사용되며, 단순하고 효율적인 프로토콜로 고속 전송을 지원한다.</li></ol><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/networking-knowledge/>Networking-Knowledge</a></li><li><a href=https://buenhyden.github.io/tags/network-protocols/>Network-Protocols</a></li><li><a href=https://buenhyden.github.io/tags/messaging-protocol/>Messaging-Protocol</a></li><li><a href=https://buenhyden.github.io/tags/amqp/>AMQP</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/backend/api-design/api-integration-patterns/webhooks-vs-polling/polling/><span class=title>« Prev</span><br><span>폴링(Polling)</span>
</a><a class=next href=https://buenhyden.github.io/posts/networking-knowledge/network-protocols/messaging-protocol/mqtt/><span class=title>Next »</span><br><span>MQTT</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>