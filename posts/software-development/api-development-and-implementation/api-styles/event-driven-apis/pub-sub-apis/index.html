<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Pub/Sub APIs | hyunyoun's Blog</title><meta name=keywords content="Backend-Development,API-Design-and-Implementation,Real-time-APIs,Types,Pub-and-Sub-APIs"><meta name=description content="Pub/Sub(Publish-Subscribe) 패턴은 메시지 기반 아키텍처의 핵심 패러다임으로, 데이터를 생성하는 발행자(Publisher)와 데이터를 소비하는 구독자(Subscriber) 사이의 느슨한 결합(loose coupling)을 제공한다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/software-development/api-development-and-implementation/api-styles/event-driven-apis/pub-sub-apis/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/software-development/api-development-and-implementation/api-styles/event-driven-apis/pub-sub-apis/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/software-development/api-development-and-implementation/api-styles/event-driven-apis/pub-sub-apis/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Pub/Sub APIs"><meta property="og:description" content="Pub/Sub(Publish-Subscribe) 패턴은 메시지 기반 아키텍처의 핵심 패러다임으로, 데이터를 생성하는 발행자(Publisher)와 데이터를 소비하는 구독자(Subscriber) 사이의 느슨한 결합(loose coupling)을 제공한다."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-02-28T03:40:00+00:00"><meta property="article:modified_time" content="2025-02-28T03:40:00+00:00"><meta property="article:tag" content="Backend-Development"><meta property="article:tag" content="API-Design-and-Implementation"><meta property="article:tag" content="Real-Time-APIs"><meta property="article:tag" content="Types"><meta property="article:tag" content="Pub-and-Sub-APIs"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Pub/Sub APIs"><meta name=twitter:description content="Pub/Sub(Publish-Subscribe) 패턴은 메시지 기반 아키텍처의 핵심 패러다임으로, 데이터를 생성하는 발행자(Publisher)와 데이터를 소비하는 구독자(Subscriber) 사이의 느슨한 결합(loose coupling)을 제공한다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Pub/Sub APIs","item":"https://buenhyden.github.io/posts/software-development/api-development-and-implementation/api-styles/event-driven-apis/pub-sub-apis/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Pub/Sub APIs","name":"Pub\/Sub APIs","description":"Pub/Sub(Publish-Subscribe) 패턴은 메시지 기반 아키텍처의 핵심 패러다임으로, 데이터를 생성하는 발행자(Publisher)와 데이터를 소비하는 구독자(Subscriber) 사이의 느슨한 결합(loose coupling)을 제공한다.","keywords":["Backend-Development","API-Design-and-Implementation","Real-time-APIs","Types","Pub-and-Sub-APIs"],"articleBody":"Pub/Sub APIs Pub/Sub 패턴의 기본 개념 Pub/Sub(Publish-Subscribe) 패턴은 메시지 기반 아키텍처의 핵심 패러다임으로, 데이터를 생성하는 발행자(Publisher)와 데이터를 소비하는 구독자(Subscriber) 사이의 느슨한 결합(loose coupling)을 제공한다. 이 패턴에서 발행자는 특정 주제(Topic)에 메시지를 발행하고, 해당 주제를 구독한 모든 구독자는 자동으로 그 메시지를 수신한다.\nPub/Sub 패턴의 가장 중요한 특징은 발행자와 구독자가 서로에 대해 직접적인 지식이 필요 없다는 점이다. 발행자는 단순히 주제에 메시지를 보내고, 시스템이 해당 주제의 모든 구독자에게 메시지를 전달한다. 이러한 분리는 시스템 구성 요소 간의 의존성을 줄이고 확장성을 크게 향상시킨다.\nPub/Sub API의 작동 원리 Pub/Sub API의 일반적인 작동 과정은 다음과 같다:\n주제 생성: 시스템 관리자나 애플리케이션이 메시지를 분류할 주제(Topic)를 생성한다. 구독 등록: 클라이언트는 관심 있는 주제에 구독을 등록한다. 이때 메시지 필터링 조건이나 메시지 처리 방식 등을 지정할 수 있다. 메시지 발행: 발행자는 특정 주제에 메시지를 발행한다. 메시지에는 데이터 페이로드와 메타데이터가 포함될 수 있다. 메시지 라우팅: Pub/Sub 시스템은 발행된 메시지를 해당 주제를 구독한 모든 구독자에게 전달한다. 메시지 처리: 구독자는 수신한 메시지를 처리하고, 필요에 따라 확인(ack)을 보낸다. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 // Node.js에서 Google Cloud Pub/Sub 사용 예시 const {PubSub} = require('@google-cloud/pubsub'); const pubsub = new PubSub(); // 주제 생성 async function createTopic(topicName) { const [topic] = await pubsub.createTopic(topicName); console.log(`주제 ${topic.name}가 생성되었습니다.`); return topic; } // 구독 생성 async function createSubscription(topicName, subscriptionName) { const [subscription] = await pubsub .topic(topicName) .createSubscription(subscriptionName); console.log(`구독 ${subscription.name}이 생성되었습니다.`); return subscription; } // 메시지 발행 async function publishMessage(topicName, data) { const dataBuffer = Buffer.from(JSON.stringify(data)); const messageId = await pubsub.topic(topicName).publish(dataBuffer); console.log(`메시지 ${messageId}가 발행되었습니다.`); return messageId; } // 메시지 구독 및 처리 function listenForMessages(subscriptionName) { const subscription = pubsub.subscription(subscriptionName); subscription.on('message', message =\u003e { console.log(`메시지 수신: ${message.id}`); console.log(`데이터: ${message.data}`); // 메시지 처리 후 확인(ack) message.ack(); }); console.log(`${subscriptionName} 구독 대기 중…`); } Pub/Sub API의 주요 특징 비동기 통신\nPub/Sub 시스템은 본질적으로 비동기적이다. 발행자는 메시지를 발행한 후 구독자의 응답을 기다리지 않고 작업을 계속할 수 있다. 이는 시스템 구성 요소 간의 타이밍 의존성을 제거하여 더 유연한 아키텍처를 가능하게 한다.\n메시지 내구성(Durability)\n대부분의 Pub/Sub 시스템은 메시지의 내구성을 보장한다. 구독자가 일시적으로 오프라인 상태여도 메시지는 저장되어 나중에 전달될 수 있다. 이는 시스템 구성 요소 간의 일시적인 연결 문제를 극복하는 데 도움이 된다.\n확장성(Scalability)\nPub/Sub 아키텍처는 높은 확장성을 제공한다:\n수평적 확장: 발행자와 구독자의 수를 독립적으로 증가시킬 수 있다. 부하 분산: 여러 구독자 간에 메시지 처리 부하를 분산할 수 있다. 탄력성: 트래픽 패턴에 따라 자원을 동적으로 할당할 수 있다. 필터링과 라우팅\n많은 Pub/Sub 시스템은 메시지 필터링과 고급 라우팅 기능을 제공한다:\n주제 기반 필터링: 구독자는 특정 주제만 구독할 수 있다. 콘텐츠 기반 필터링: 메시지 내용에 따라 선택적으로 수신할 수 있다. 와일드카드 구독: 패턴 매칭을 통해 여러 주제를 한 번에 구독할 수 있다. 메시지 전달 보장\nPub/Sub 시스템은 다양한 수준의 메시지 전달 보장을 제공한다:\nAt most once: 메시지가 최대 한 번 전달된다(일부 손실 가능). At least once: 메시지가 최소 한 번 전달된다(중복 가능). Exactly once: 메시지가 정확히 한 번 전달된다(이상적이지만 구현이 복잡). 주요 Pub/Sub API 서비스 비교 Apache Kafka Apache Kafka는 대규모 이벤트 스트리밍 플랫폼으로, 높은 처리량과 내구성을 제공한다.\n주요 특징:\n로그 기반 아키텍처로 메시지 순서 보장 파티션을 통한 병렬 처리와 확장성 장기간 메시지 저장 지원 강력한 복제 및 내결함성 기능 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 # Python에서 Kafka 사용 예시 from kafka import KafkaProducer, KafkaConsumer import json # 프로듀서 설정 producer = KafkaProducer( bootstrap_servers=['localhost:9092'], value_serializer=lambda v: json.dumps(v).encode('utf-8') ) # 메시지 발행 producer.send('my-topic', {'key': 'value'}) producer.flush() # 컨슈머 설정 consumer = KafkaConsumer( 'my-topic', bootstrap_servers=['localhost:9092'], auto_offset_reset='earliest', enable_auto_commit=True, group_id='my-group', value_deserializer=lambda x: json.loads(x.decode('utf-8')) ) # 메시지 소비 for message in consumer: print(f\"Topic: {message.topic}, Partition: {message.partition}\") print(f\"Key: {message.key}, Value: {message.value}\") Google Cloud Pub/Sub Google Cloud의 완전 관리형 메시징 서비스로, 글로벌 규모의 이벤트 스트리밍을 제공한다.\n주요 특징:\n글로벌 메시지 전달과 지역 간 복제 동적인 확장성과 로드 밸런싱 높은 내구성과 가용성(99.99% SLA) 인증 및 권한 부여를 위한 IAM 통합 AWS SNS/SQS Amazon Simple Notification Service(SNS)와 Simple Queue Service(SQS)는 함께 사용하여 Pub/Sub 패턴을 구현한다.\n주요 특징:\nSNS는 푸시 기반 배포를 제공 SQS는 메시지 버퍼링과 폴링 기반 소비를 지원 AWS 서비스와의 원활한 통합 메시지 필터링 및 중복 제거 기능 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 // Node.js에서 AWS SNS/SQS 사용 예시 const AWS = require('aws-sdk'); AWS.config.update({region: 'us-west-2'}); const sns = new AWS.SNS(); const sqs = new AWS.SQS(); // SNS 주제에 메시지 발행 async function publishToSNS(topicArn, message) { const params = { Message: JSON.stringify(message), TopicArn: topicArn }; try { const result = await sns.publish(params).promise(); console.log(`메시지가 발행되었습니다. MessageID: ${result.MessageId}`); return result; } catch (err) { console.error('SNS 발행 오류:', err); throw err; } } // SQS 대기열에서 메시지 수신 async function receiveFromSQS(queueUrl) { const params = { QueueUrl: queueUrl, MaxNumberOfMessages: 10, WaitTimeSeconds: 10 }; try { const data = await sqs.receiveMessage(params).promise(); if (data.Messages) { return data.Messages; } return []; } catch (err) { console.error('SQS 수신 오류:', err); throw err; } } RabbitMQ RabbitMQ는 AMQP(Advanced Message Queuing Protocol)를 구현한 메시지 브로커로, 다양한 메시징 패턴을 지원한다.\n주요 특징:\n유연한 라우팅과 교환(Exchange) 유형 다양한 프로그래밍 언어에 대한 클라이언트 라이브러리 플러그인을 통한 확장성 클러스터링 및 고가용성 구성 Redis Pub/Sub Redis의 Pub/Sub 기능은 간단하지만 효율적인 메시징 솔루션을 제공한다.\n주요 특징:\n메모리 내 작동으로 매우 빠른 성능 간단한 구현과 사용 방법 패턴 매칭 기반 구독 지원 기존 Redis 인프라를 활용할 수 있음 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 # Python에서 Redis Pub/Sub 사용 예시 import redis import threading import time import json r = redis.Redis(host='localhost', port=6379, db=0) # 발행자 함수 def publisher(): while True: message = { 'timestamp': time.time(), 'data': 'Hello, World!' } r.publish('my-channel', json.dumps(message)) print(f\"메시지 발행: {message}\") time.sleep(1) # 구독자 함수 def subscriber(): pubsub = r.pubsub() pubsub.subscribe('my-channel') for message in pubsub.listen(): if message['type'] == 'message': data = json.loads(message['data']) print(f\"메시지 수신: {data}\") # 스레드 시작 sub_thread = threading.Thread(target=subscriber) pub_thread = threading.Thread(target=publisher) sub_thread.start() pub_thread.start() Pub/Sub API의 주요 활용 사례 마이크로서비스 통신\n마이크로서비스 아키텍처에서 서비스 간 이벤트 기반 통신을 구현하는 데 Pub/Sub API가 널리 사용된다. 이는 서비스 간의 느슨한 결합을 제공하여 전체 시스템의 유연성과 확장성을 높인다.\n실시간 데이터 파이프라인\n데이터 수집, 변환, 처리를 위한 실시간 데이터 파이프라인에서 Pub/Sub API가 중요한 역할을 한다. IoT 디바이스에서 발생한 데이터를 수집하고 분석 시스템으로 전달하는 데 활용될 수 있다.\n알림 및 이벤트 시스템\n사용자 알림, 시스템 이벤트, 모니터링 알림 등을 분배하는 데 Pub/Sub 패턴이 효과적이다. 이벤트가 발생하면 관심 있는 모든 시스템이나 사용자에게 즉시 알림을 전송할 수 있다.\n분산 시스템 동기화\n분산 시스템에서 상태 변경을 동기화하거나 캐시 무효화를 관리하는 데 Pub/Sub 메커니즘이 유용하다. 한 시스템에서 변경이 발생하면 관련 시스템에 자동으로 알림이 전달된다.\n실시간 분석 및 대시보드\n실시간 데이터 분석 및 시각화를 위해 Pub/Sub API를 사용하여 데이터를 스트리밍하고 처리할 수 있다. 이는 비즈니스 인텔리전스 및 모니터링 대시보드에 활용된다.\nPub/Sub API 설계 시 고려사항 메시지 형식 및 스키마\n메시지의 구조와 형식을 신중하게 설계해야 한다. 스키마 정의 및 버전 관리를 통해 시스템 진화에 따른 호환성 문제를 방지할 수 있다.\n권장 사항:\nAvro, Protobuf 등의 스키마 정의 언어 사용 스키마 버전 관리 및 변경 전략 수립 메시지 크기 최적화를 위한 직렬화 방식 선택 메시지 전달 보장 수준\n애플리케이션 요구사항에 따라 적절한 메시지 전달 보장 수준을 선택해야 한다.\n권장 사항:\n중요한 데이터의 경우 “at least once” 또는 “exactly once” 전달 사용 중복 메시지 처리를 위한 멱등성(idempotency) 구현 전달 실패 시 재시도 전략 및 데드 레터 큐(DLQ) 설정 확장성 및 성능\n시스템 규모와 부하 증가에 대비한 확장성 계획이 필요하다.\n권장 사항:\n파티션 또는 샤딩을 통한 수평적 확장 지원 메시지 배치 처리를 통한 처리량 최적화 부하 테스트 및 성능 모니터링 구현 오류 처리 및 복원력\n네트워크 문제, 서비스 장애 등 다양한 오류 상황에 대한 견고한 처리 방안이 필요하다.\n권장 사항:\n장애 발생 시 메시지 지속성 보장 자동 재연결 및 재시도 메커니즘 구현 서킷 브레이커 패턴 적용으로 시스템 보호 보안\n메시지의 기밀성, 무결성, 인증 등 보안 요구사항을 고려해야 한다.\n권장 사항:\n전송 중 암호화(TLS/SSL) 적용 주제 및 구독에 대한 접근 제어 필요시 메시지 페이로드 암호화 Pub/Sub APIs와 다른 통신 패턴 비교 특성 Pub/Sub Request-Response Event Streaming Message Queue 통신 모드 비동기, 다대다 동기, 일대일 비동기, 일대다 비동기, 일대일 결합도 매우 낮음 높음 낮음 중간 확장성 매우 높음 제한적 높음 중간 메시지 흐름 브로드캐스트/멀티캐스트 직접 통신 스트림 기반 점대점 응답 처리 응답 없음 명시적 응답 응답 없음 응답 선택적 주요 사용 사례 이벤트 알림, 상태 변경 API 호출, 조회 로그, 센서 데이터 작업 배포, 부하 분산 구현 예시 Kafka, SNS, Cloud Pub/Sub REST, gRPC Kafka Streams, Kinesis SQS, RabbitMQ 최신 트렌드 및 미래 전망 서버리스 Pub/Sub\n서버리스 아키텍처와 Pub/Sub의 결합이 증가하고 있다. AWS Lambda, Google Cloud Functions, Azure Functions 등과 같은 서버리스 컴퓨팅 서비스를 Pub/Sub 이벤트로 트리거하여 이벤트 기반 아키텍처를 구현할 수 있다.\n엣지 컴퓨팅과의 통합\nIoT 및 엣지 컴퓨팅 환경에서의 Pub/Sub 적용이 늘고 있다. 제한된 리소스를 가진 디바이스에서도 효율적으로 작동할 수 있는 경량 Pub/Sub 프로토콜(예: MQTT)의 사용이 증가하고 있다.\n실시간 데이터 분석 통합\nPub/Sub 시스템과 실시간 데이터 처리 프레임워크(Apache Flink, Spark Streaming 등)의 통합이 강화되고 있다. 이는 스트리밍 데이터에 대한 실시간 분석 및 인사이트 도출을 가능하게 한다.\n멀티 클라우드 Pub/Sub 전략\n여러 클라우드 제공업체 간에 동작하는 통합 Pub/Sub 솔루션에 대한 수요가 증가하고 있다. 하이브리드 및 멀티 클라우드 아키텍처에서 일관된 메시징 인프라를 제공하는 솔루션이 발전하고 있다.\n이벤트 메시 아키텍처\n단일 중앙 집중식 브로커를 넘어, 분산된 이벤트 메시(Event Mesh) 아키텍처가 등장하고 있다. 이는 여러 지역과 환경에 걸쳐 이벤트를 동적으로 라우팅하고 관리할 수 있는 유연한 인프라를 제공한다.\n용어 정리 용어 설명 참고 및 출처 ","wordCount":"1581","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2025-02-28T03:40:00Z","dateModified":"2025-02-28T03:40:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/software-development/api-development-and-implementation/api-styles/event-driven-apis/pub-sub-apis/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a></div><h1 class="post-title entry-hint-parent">Pub/Sub APIs</h1><div class=post-description>Pub/Sub(Publish-Subscribe) 패턴은 메시지 기반 아키텍처의 핵심 패러다임으로, 데이터를 생성하는 발행자(Publisher)와 데이터를 소비하는 구독자(Subscriber) 사이의 느슨한 결합(loose coupling)을 제공한다.</div><div class=post-meta><span title='2025-02-28 03:40:00 +0000 UTC'>February 28, 2025</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Software%20Development/API%20Development%20and%20Implementation/API%20Styles/Event-Driven%20APIs/Pub-Sub-APIs.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#pubsub-apis>Pub/Sub APIs</a><ul><li><a href=#pubsub-패턴의-기본-개념>Pub/Sub 패턴의 기본 개념</a></li><li><a href=#pubsub-api의-작동-원리>Pub/Sub API의 작동 원리</a></li><li><a href=#pubsub-api의-주요-특징>Pub/Sub API의 주요 특징</a></li><li><a href=#주요-pubsub-api-서비스-비교>주요 Pub/Sub API 서비스 비교</a></li><li><a href=#pubsub-api의-주요-활용-사례>Pub/Sub API의 주요 활용 사례</a></li><li><a href=#pubsub-api-설계-시-고려사항>Pub/Sub API 설계 시 고려사항</a></li><li><a href=#pubsub-apis와-다른-통신-패턴-비교>Pub/Sub APIs와 다른 통신 패턴 비교</a></li><li><a href=#최신-트렌드-및-미래-전망>최신 트렌드 및 미래 전망</a></li></ul></li><li><a href=#용어-정리>용어 정리</a></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=pubsub-apis>Pub/Sub APIs<a hidden class=anchor aria-hidden=true href=#pubsub-apis>#</a></h2><h3 id=pubsub-패턴의-기본-개념>Pub/Sub 패턴의 기본 개념<a hidden class=anchor aria-hidden=true href=#pubsub-패턴의-기본-개념>#</a></h3><p>Pub/Sub(Publish-Subscribe) 패턴은 메시지 기반 아키텍처의 핵심 패러다임으로, 데이터를 생성하는 발행자(Publisher)와 데이터를 소비하는 구독자(Subscriber) 사이의 느슨한 결합(loose coupling)을 제공한다. 이 패턴에서 발행자는 특정 주제(Topic)에 메시지를 발행하고, 해당 주제를 구독한 모든 구독자는 자동으로 그 메시지를 수신한다.</p><p>Pub/Sub 패턴의 가장 중요한 특징은 발행자와 구독자가 서로에 대해 직접적인 지식이 필요 없다는 점이다. 발행자는 단순히 주제에 메시지를 보내고, 시스템이 해당 주제의 모든 구독자에게 메시지를 전달한다. 이러한 분리는 시스템 구성 요소 간의 의존성을 줄이고 확장성을 크게 향상시킨다.</p><h3 id=pubsub-api의-작동-원리>Pub/Sub API의 작동 원리<a hidden class=anchor aria-hidden=true href=#pubsub-api의-작동-원리>#</a></h3><p>Pub/Sub API의 일반적인 작동 과정은 다음과 같다:</p><ol><li><strong>주제 생성</strong>: 시스템 관리자나 애플리케이션이 메시지를 분류할 주제(Topic)를 생성한다.</li><li><strong>구독 등록</strong>: 클라이언트는 관심 있는 주제에 구독을 등록한다. 이때 메시지 필터링 조건이나 메시지 처리 방식 등을 지정할 수 있다.</li><li><strong>메시지 발행</strong>: 발행자는 특정 주제에 메시지를 발행한다. 메시지에는 데이터 페이로드와 메타데이터가 포함될 수 있다.</li><li><strong>메시지 라우팅</strong>: Pub/Sub 시스템은 발행된 메시지를 해당 주제를 구독한 모든 구독자에게 전달한다.</li><li><strong>메시지 처리</strong>: 구독자는 수신한 메시지를 처리하고, 필요에 따라 확인(ack)을 보낸다.</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14>14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15>15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16>16</a>
</span><span class=lnt id=hl-0-17><a class=lnlinks href=#hl-0-17>17</a>
</span><span class=lnt id=hl-0-18><a class=lnlinks href=#hl-0-18>18</a>
</span><span class=lnt id=hl-0-19><a class=lnlinks href=#hl-0-19>19</a>
</span><span class=lnt id=hl-0-20><a class=lnlinks href=#hl-0-20>20</a>
</span><span class=lnt id=hl-0-21><a class=lnlinks href=#hl-0-21>21</a>
</span><span class=lnt id=hl-0-22><a class=lnlinks href=#hl-0-22>22</a>
</span><span class=lnt id=hl-0-23><a class=lnlinks href=#hl-0-23>23</a>
</span><span class=lnt id=hl-0-24><a class=lnlinks href=#hl-0-24>24</a>
</span><span class=lnt id=hl-0-25><a class=lnlinks href=#hl-0-25>25</a>
</span><span class=lnt id=hl-0-26><a class=lnlinks href=#hl-0-26>26</a>
</span><span class=lnt id=hl-0-27><a class=lnlinks href=#hl-0-27>27</a>
</span><span class=lnt id=hl-0-28><a class=lnlinks href=#hl-0-28>28</a>
</span><span class=lnt id=hl-0-29><a class=lnlinks href=#hl-0-29>29</a>
</span><span class=lnt id=hl-0-30><a class=lnlinks href=#hl-0-30>30</a>
</span><span class=lnt id=hl-0-31><a class=lnlinks href=#hl-0-31>31</a>
</span><span class=lnt id=hl-0-32><a class=lnlinks href=#hl-0-32>32</a>
</span><span class=lnt id=hl-0-33><a class=lnlinks href=#hl-0-33>33</a>
</span><span class=lnt id=hl-0-34><a class=lnlinks href=#hl-0-34>34</a>
</span><span class=lnt id=hl-0-35><a class=lnlinks href=#hl-0-35>35</a>
</span><span class=lnt id=hl-0-36><a class=lnlinks href=#hl-0-36>36</a>
</span><span class=lnt id=hl-0-37><a class=lnlinks href=#hl-0-37>37</a>
</span><span class=lnt id=hl-0-38><a class=lnlinks href=#hl-0-38>38</a>
</span><span class=lnt id=hl-0-39><a class=lnlinks href=#hl-0-39>39</a>
</span><span class=lnt id=hl-0-40><a class=lnlinks href=#hl-0-40>40</a>
</span><span class=lnt id=hl-0-41><a class=lnlinks href=#hl-0-41>41</a>
</span><span class=lnt id=hl-0-42><a class=lnlinks href=#hl-0-42>42</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Node.js에서 Google Cloud Pub/Sub 사용 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=p>{</span><span class=nx>PubSub</span><span class=p>}</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;@google-cloud/pubsub&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>pubsub</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>PubSub</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 주제 생성
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>async</span> <span class=kd>function</span> <span class=nx>createTopic</span><span class=p>(</span><span class=nx>topicName</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=p>[</span><span class=nx>topic</span><span class=p>]</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>pubsub</span><span class=p>.</span><span class=nx>createTopic</span><span class=p>(</span><span class=nx>topicName</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`주제 </span><span class=si>${</span><span class=nx>topic</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>가 생성되었습니다.`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>topic</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 구독 생성
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>async</span> <span class=kd>function</span> <span class=nx>createSubscription</span><span class=p>(</span><span class=nx>topicName</span><span class=p>,</span> <span class=nx>subscriptionName</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=p>[</span><span class=nx>subscription</span><span class=p>]</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>pubsub</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>topic</span><span class=p>(</span><span class=nx>topicName</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>createSubscription</span><span class=p>(</span><span class=nx>subscriptionName</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`구독 </span><span class=si>${</span><span class=nx>subscription</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>이 생성되었습니다.`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>subscription</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 메시지 발행
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>async</span> <span class=kd>function</span> <span class=nx>publishMessage</span><span class=p>(</span><span class=nx>topicName</span><span class=p>,</span> <span class=nx>data</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>dataBuffer</span> <span class=o>=</span> <span class=nx>Buffer</span><span class=p>.</span><span class=nx>from</span><span class=p>(</span><span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>data</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>messageId</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>pubsub</span><span class=p>.</span><span class=nx>topic</span><span class=p>(</span><span class=nx>topicName</span><span class=p>).</span><span class=nx>publish</span><span class=p>(</span><span class=nx>dataBuffer</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`메시지 </span><span class=si>${</span><span class=nx>messageId</span><span class=si>}</span><span class=sb>가 발행되었습니다.`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>messageId</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 메시지 구독 및 처리
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>listenForMessages</span><span class=p>(</span><span class=nx>subscriptionName</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>subscription</span> <span class=o>=</span> <span class=nx>pubsub</span><span class=p>.</span><span class=nx>subscription</span><span class=p>(</span><span class=nx>subscriptionName</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>subscription</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;message&#39;</span><span class=p>,</span> <span class=nx>message</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`메시지 수신: </span><span class=si>${</span><span class=nx>message</span><span class=p>.</span><span class=nx>id</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`데이터: </span><span class=si>${</span><span class=nx>message</span><span class=p>.</span><span class=nx>data</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 메시지 처리 후 확인(ack)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>message</span><span class=p>.</span><span class=nx>ack</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=nx>subscriptionName</span><span class=si>}</span><span class=sb> 구독 대기 중…`</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=pubsub-api의-주요-특징>Pub/Sub API의 주요 특징<a hidden class=anchor aria-hidden=true href=#pubsub-api의-주요-특징>#</a></h3><ol><li><p>비동기 통신<br>Pub/Sub 시스템은 본질적으로 비동기적이다. 발행자는 메시지를 발행한 후 구독자의 응답을 기다리지 않고 작업을 계속할 수 있다. 이는 시스템 구성 요소 간의 타이밍 의존성을 제거하여 더 유연한 아키텍처를 가능하게 한다.</p></li><li><p>메시지 내구성(Durability)<br>대부분의 Pub/Sub 시스템은 메시지의 내구성을 보장한다. 구독자가 일시적으로 오프라인 상태여도 메시지는 저장되어 나중에 전달될 수 있다. 이는 시스템 구성 요소 간의 일시적인 연결 문제를 극복하는 데 도움이 된다.</p></li><li><p>확장성(Scalability)<br>Pub/Sub 아키텍처는 높은 확장성을 제공한다:</p><ul><li><strong>수평적 확장</strong>: 발행자와 구독자의 수를 독립적으로 증가시킬 수 있다.</li><li><strong>부하 분산</strong>: 여러 구독자 간에 메시지 처리 부하를 분산할 수 있다.</li><li><strong>탄력성</strong>: 트래픽 패턴에 따라 자원을 동적으로 할당할 수 있다.</li></ul></li><li><p>필터링과 라우팅<br>많은 Pub/Sub 시스템은 메시지 필터링과 고급 라우팅 기능을 제공한다:</p><ul><li><strong>주제 기반 필터링</strong>: 구독자는 특정 주제만 구독할 수 있다.</li><li><strong>콘텐츠 기반 필터링</strong>: 메시지 내용에 따라 선택적으로 수신할 수 있다.</li><li><strong>와일드카드 구독</strong>: 패턴 매칭을 통해 여러 주제를 한 번에 구독할 수 있다.</li></ul></li><li><p>메시지 전달 보장<br>Pub/Sub 시스템은 다양한 수준의 메시지 전달 보장을 제공한다:</p><ul><li><strong>At most once</strong>: 메시지가 최대 한 번 전달된다(일부 손실 가능).</li><li><strong>At least once</strong>: 메시지가 최소 한 번 전달된다(중복 가능).</li><li><strong>Exactly once</strong>: 메시지가 정확히 한 번 전달된다(이상적이지만 구현이 복잡).</li></ul></li></ol><h3 id=주요-pubsub-api-서비스-비교>주요 Pub/Sub API 서비스 비교<a hidden class=anchor aria-hidden=true href=#주요-pubsub-api-서비스-비교>#</a></h3><h4 id=apache-kafka>Apache Kafka<a hidden class=anchor aria-hidden=true href=#apache-kafka>#</a></h4><p>Apache Kafka는 대규모 이벤트 스트리밍 플랫폼으로, 높은 처리량과 내구성을 제공한다.</p><p><strong>주요 특징</strong>:</p><ul><li>로그 기반 아키텍처로 메시지 순서 보장</li><li>파티션을 통한 병렬 처리와 확장성</li><li>장기간 메시지 저장 지원</li><li>강력한 복제 및 내결함성 기능</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11>11</a>
</span><span class=lnt id=hl-1-12><a class=lnlinks href=#hl-1-12>12</a>
</span><span class=lnt id=hl-1-13><a class=lnlinks href=#hl-1-13>13</a>
</span><span class=lnt id=hl-1-14><a class=lnlinks href=#hl-1-14>14</a>
</span><span class=lnt id=hl-1-15><a class=lnlinks href=#hl-1-15>15</a>
</span><span class=lnt id=hl-1-16><a class=lnlinks href=#hl-1-16>16</a>
</span><span class=lnt id=hl-1-17><a class=lnlinks href=#hl-1-17>17</a>
</span><span class=lnt id=hl-1-18><a class=lnlinks href=#hl-1-18>18</a>
</span><span class=lnt id=hl-1-19><a class=lnlinks href=#hl-1-19>19</a>
</span><span class=lnt id=hl-1-20><a class=lnlinks href=#hl-1-20>20</a>
</span><span class=lnt id=hl-1-21><a class=lnlinks href=#hl-1-21>21</a>
</span><span class=lnt id=hl-1-22><a class=lnlinks href=#hl-1-22>22</a>
</span><span class=lnt id=hl-1-23><a class=lnlinks href=#hl-1-23>23</a>
</span><span class=lnt id=hl-1-24><a class=lnlinks href=#hl-1-24>24</a>
</span><span class=lnt id=hl-1-25><a class=lnlinks href=#hl-1-25>25</a>
</span><span class=lnt id=hl-1-26><a class=lnlinks href=#hl-1-26>26</a>
</span><span class=lnt id=hl-1-27><a class=lnlinks href=#hl-1-27>27</a>
</span><span class=lnt id=hl-1-28><a class=lnlinks href=#hl-1-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Python에서 Kafka 사용 예시</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>kafka</span> <span class=kn>import</span> <span class=n>KafkaProducer</span><span class=p>,</span> <span class=n>KafkaConsumer</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 프로듀서 설정</span>
</span></span><span class=line><span class=cl><span class=n>producer</span> <span class=o>=</span> <span class=n>KafkaProducer</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>bootstrap_servers</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;localhost:9092&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=n>value_serializer</span><span class=o>=</span><span class=k>lambda</span> <span class=n>v</span><span class=p>:</span> <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>v</span><span class=p>)</span><span class=o>.</span><span class=n>encode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 메시지 발행</span>
</span></span><span class=line><span class=cl><span class=n>producer</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=s1>&#39;my-topic&#39;</span><span class=p>,</span> <span class=p>{</span><span class=s1>&#39;key&#39;</span><span class=p>:</span> <span class=s1>&#39;value&#39;</span><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=n>producer</span><span class=o>.</span><span class=n>flush</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 컨슈머 설정</span>
</span></span><span class=line><span class=cl><span class=n>consumer</span> <span class=o>=</span> <span class=n>KafkaConsumer</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;my-topic&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>bootstrap_servers</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;localhost:9092&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=n>auto_offset_reset</span><span class=o>=</span><span class=s1>&#39;earliest&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>enable_auto_commit</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>group_id</span><span class=o>=</span><span class=s1>&#39;my-group&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>value_deserializer</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>x</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 메시지 소비</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>message</span> <span class=ow>in</span> <span class=n>consumer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Topic: </span><span class=si>{</span><span class=n>message</span><span class=o>.</span><span class=n>topic</span><span class=si>}</span><span class=s2>, Partition: </span><span class=si>{</span><span class=n>message</span><span class=o>.</span><span class=n>partition</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Key: </span><span class=si>{</span><span class=n>message</span><span class=o>.</span><span class=n>key</span><span class=si>}</span><span class=s2>, Value: </span><span class=si>{</span><span class=n>message</span><span class=o>.</span><span class=n>value</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=google-cloud-pubsub>Google Cloud Pub/Sub<a hidden class=anchor aria-hidden=true href=#google-cloud-pubsub>#</a></h4><p>Google Cloud의 완전 관리형 메시징 서비스로, 글로벌 규모의 이벤트 스트리밍을 제공한다.</p><p><strong>주요 특징</strong>:</p><ul><li>글로벌 메시지 전달과 지역 간 복제</li><li>동적인 확장성과 로드 밸런싱</li><li>높은 내구성과 가용성(99.99% SLA)</li><li>인증 및 권한 부여를 위한 IAM 통합</li></ul><h4 id=aws-snssqs>AWS SNS/SQS<a hidden class=anchor aria-hidden=true href=#aws-snssqs>#</a></h4><p>Amazon Simple Notification Service(SNS)와 Simple Queue Service(SQS)는 함께 사용하여 Pub/Sub 패턴을 구현한다.</p><p><strong>주요 특징</strong>:</p><ul><li>SNS는 푸시 기반 배포를 제공</li><li>SQS는 메시지 버퍼링과 폴링 기반 소비를 지원</li><li>AWS 서비스와의 원활한 통합</li><li>메시지 필터링 및 중복 제거 기능</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1> 1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2> 2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3> 3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4> 4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5> 5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6> 6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7> 7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8> 8</a>
</span><span class=lnt id=hl-2-9><a class=lnlinks href=#hl-2-9> 9</a>
</span><span class=lnt id=hl-2-10><a class=lnlinks href=#hl-2-10>10</a>
</span><span class=lnt id=hl-2-11><a class=lnlinks href=#hl-2-11>11</a>
</span><span class=lnt id=hl-2-12><a class=lnlinks href=#hl-2-12>12</a>
</span><span class=lnt id=hl-2-13><a class=lnlinks href=#hl-2-13>13</a>
</span><span class=lnt id=hl-2-14><a class=lnlinks href=#hl-2-14>14</a>
</span><span class=lnt id=hl-2-15><a class=lnlinks href=#hl-2-15>15</a>
</span><span class=lnt id=hl-2-16><a class=lnlinks href=#hl-2-16>16</a>
</span><span class=lnt id=hl-2-17><a class=lnlinks href=#hl-2-17>17</a>
</span><span class=lnt id=hl-2-18><a class=lnlinks href=#hl-2-18>18</a>
</span><span class=lnt id=hl-2-19><a class=lnlinks href=#hl-2-19>19</a>
</span><span class=lnt id=hl-2-20><a class=lnlinks href=#hl-2-20>20</a>
</span><span class=lnt id=hl-2-21><a class=lnlinks href=#hl-2-21>21</a>
</span><span class=lnt id=hl-2-22><a class=lnlinks href=#hl-2-22>22</a>
</span><span class=lnt id=hl-2-23><a class=lnlinks href=#hl-2-23>23</a>
</span><span class=lnt id=hl-2-24><a class=lnlinks href=#hl-2-24>24</a>
</span><span class=lnt id=hl-2-25><a class=lnlinks href=#hl-2-25>25</a>
</span><span class=lnt id=hl-2-26><a class=lnlinks href=#hl-2-26>26</a>
</span><span class=lnt id=hl-2-27><a class=lnlinks href=#hl-2-27>27</a>
</span><span class=lnt id=hl-2-28><a class=lnlinks href=#hl-2-28>28</a>
</span><span class=lnt id=hl-2-29><a class=lnlinks href=#hl-2-29>29</a>
</span><span class=lnt id=hl-2-30><a class=lnlinks href=#hl-2-30>30</a>
</span><span class=lnt id=hl-2-31><a class=lnlinks href=#hl-2-31>31</a>
</span><span class=lnt id=hl-2-32><a class=lnlinks href=#hl-2-32>32</a>
</span><span class=lnt id=hl-2-33><a class=lnlinks href=#hl-2-33>33</a>
</span><span class=lnt id=hl-2-34><a class=lnlinks href=#hl-2-34>34</a>
</span><span class=lnt id=hl-2-35><a class=lnlinks href=#hl-2-35>35</a>
</span><span class=lnt id=hl-2-36><a class=lnlinks href=#hl-2-36>36</a>
</span><span class=lnt id=hl-2-37><a class=lnlinks href=#hl-2-37>37</a>
</span><span class=lnt id=hl-2-38><a class=lnlinks href=#hl-2-38>38</a>
</span><span class=lnt id=hl-2-39><a class=lnlinks href=#hl-2-39>39</a>
</span><span class=lnt id=hl-2-40><a class=lnlinks href=#hl-2-40>40</a>
</span><span class=lnt id=hl-2-41><a class=lnlinks href=#hl-2-41>41</a>
</span><span class=lnt id=hl-2-42><a class=lnlinks href=#hl-2-42>42</a>
</span><span class=lnt id=hl-2-43><a class=lnlinks href=#hl-2-43>43</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// Node.js에서 AWS SNS/SQS 사용 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>AWS</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;aws-sdk&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>AWS</span><span class=p>.</span><span class=nx>config</span><span class=p>.</span><span class=nx>update</span><span class=p>({</span><span class=nx>region</span><span class=o>:</span> <span class=s1>&#39;us-west-2&#39;</span><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>sns</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>AWS</span><span class=p>.</span><span class=nx>SNS</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>sqs</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>AWS</span><span class=p>.</span><span class=nx>SQS</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// SNS 주제에 메시지 발행
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>async</span> <span class=kd>function</span> <span class=nx>publishToSNS</span><span class=p>(</span><span class=nx>topicArn</span><span class=p>,</span> <span class=nx>message</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>params</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>Message</span><span class=o>:</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>message</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=nx>TopicArn</span><span class=o>:</span> <span class=nx>topicArn</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>sns</span><span class=p>.</span><span class=nx>publish</span><span class=p>(</span><span class=nx>params</span><span class=p>).</span><span class=nx>promise</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`메시지가 발행되었습니다. MessageID: </span><span class=si>${</span><span class=nx>result</span><span class=p>.</span><span class=nx>MessageId</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;SNS 발행 오류:&#39;</span><span class=p>,</span> <span class=nx>err</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>throw</span> <span class=nx>err</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// SQS 대기열에서 메시지 수신
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>async</span> <span class=kd>function</span> <span class=nx>receiveFromSQS</span><span class=p>(</span><span class=nx>queueUrl</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>params</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>QueueUrl</span><span class=o>:</span> <span class=nx>queueUrl</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>MaxNumberOfMessages</span><span class=o>:</span> <span class=mi>10</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>WaitTimeSeconds</span><span class=o>:</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>data</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>sqs</span><span class=p>.</span><span class=nx>receiveMessage</span><span class=p>(</span><span class=nx>params</span><span class=p>).</span><span class=nx>promise</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>data</span><span class=p>.</span><span class=nx>Messages</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>data</span><span class=p>.</span><span class=nx>Messages</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;SQS 수신 오류:&#39;</span><span class=p>,</span> <span class=nx>err</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>throw</span> <span class=nx>err</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=rabbitmq>RabbitMQ<a hidden class=anchor aria-hidden=true href=#rabbitmq>#</a></h4><p>RabbitMQ는 AMQP(Advanced Message Queuing Protocol)를 구현한 메시지 브로커로, 다양한 메시징 패턴을 지원한다.</p><p><strong>주요 특징</strong>:</p><ul><li>유연한 라우팅과 교환(Exchange) 유형</li><li>다양한 프로그래밍 언어에 대한 클라이언트 라이브러리</li><li>플러그인을 통한 확장성</li><li>클러스터링 및 고가용성 구성</li></ul><h4 id=redis-pubsub>Redis Pub/Sub<a hidden class=anchor aria-hidden=true href=#redis-pubsub>#</a></h4><p>Redis의 Pub/Sub 기능은 간단하지만 효율적인 메시징 솔루션을 제공한다.</p><p><strong>주요 특징</strong>:</p><ul><li>메모리 내 작동으로 매우 빠른 성능</li><li>간단한 구현과 사용 방법</li><li>패턴 매칭 기반 구독 지원</li><li>기존 Redis 인프라를 활용할 수 있음</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span><span class=lnt id=hl-3-12><a class=lnlinks href=#hl-3-12>12</a>
</span><span class=lnt id=hl-3-13><a class=lnlinks href=#hl-3-13>13</a>
</span><span class=lnt id=hl-3-14><a class=lnlinks href=#hl-3-14>14</a>
</span><span class=lnt id=hl-3-15><a class=lnlinks href=#hl-3-15>15</a>
</span><span class=lnt id=hl-3-16><a class=lnlinks href=#hl-3-16>16</a>
</span><span class=lnt id=hl-3-17><a class=lnlinks href=#hl-3-17>17</a>
</span><span class=lnt id=hl-3-18><a class=lnlinks href=#hl-3-18>18</a>
</span><span class=lnt id=hl-3-19><a class=lnlinks href=#hl-3-19>19</a>
</span><span class=lnt id=hl-3-20><a class=lnlinks href=#hl-3-20>20</a>
</span><span class=lnt id=hl-3-21><a class=lnlinks href=#hl-3-21>21</a>
</span><span class=lnt id=hl-3-22><a class=lnlinks href=#hl-3-22>22</a>
</span><span class=lnt id=hl-3-23><a class=lnlinks href=#hl-3-23>23</a>
</span><span class=lnt id=hl-3-24><a class=lnlinks href=#hl-3-24>24</a>
</span><span class=lnt id=hl-3-25><a class=lnlinks href=#hl-3-25>25</a>
</span><span class=lnt id=hl-3-26><a class=lnlinks href=#hl-3-26>26</a>
</span><span class=lnt id=hl-3-27><a class=lnlinks href=#hl-3-27>27</a>
</span><span class=lnt id=hl-3-28><a class=lnlinks href=#hl-3-28>28</a>
</span><span class=lnt id=hl-3-29><a class=lnlinks href=#hl-3-29>29</a>
</span><span class=lnt id=hl-3-30><a class=lnlinks href=#hl-3-30>30</a>
</span><span class=lnt id=hl-3-31><a class=lnlinks href=#hl-3-31>31</a>
</span><span class=lnt id=hl-3-32><a class=lnlinks href=#hl-3-32>32</a>
</span><span class=lnt id=hl-3-33><a class=lnlinks href=#hl-3-33>33</a>
</span><span class=lnt id=hl-3-34><a class=lnlinks href=#hl-3-34>34</a>
</span><span class=lnt id=hl-3-35><a class=lnlinks href=#hl-3-35>35</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Python에서 Redis Pub/Sub 사용 예시</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>redis</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>threading</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>r</span> <span class=o>=</span> <span class=n>redis</span><span class=o>.</span><span class=n>Redis</span><span class=p>(</span><span class=n>host</span><span class=o>=</span><span class=s1>&#39;localhost&#39;</span><span class=p>,</span> <span class=n>port</span><span class=o>=</span><span class=mi>6379</span><span class=p>,</span> <span class=n>db</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 발행자 함수</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>publisher</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>message</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;timestamp&#39;</span><span class=p>:</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;data&#39;</span><span class=p>:</span> <span class=s1>&#39;Hello, World!&#39;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=n>r</span><span class=o>.</span><span class=n>publish</span><span class=p>(</span><span class=s1>&#39;my-channel&#39;</span><span class=p>,</span> <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>message</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;메시지 발행: </span><span class=si>{</span><span class=n>message</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 구독자 함수</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>subscriber</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>pubsub</span> <span class=o>=</span> <span class=n>r</span><span class=o>.</span><span class=n>pubsub</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>pubsub</span><span class=o>.</span><span class=n>subscribe</span><span class=p>(</span><span class=s1>&#39;my-channel&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>message</span> <span class=ow>in</span> <span class=n>pubsub</span><span class=o>.</span><span class=n>listen</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>message</span><span class=p>[</span><span class=s1>&#39;type&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;message&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>data</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>message</span><span class=p>[</span><span class=s1>&#39;data&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;메시지 수신: </span><span class=si>{</span><span class=n>data</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 스레드 시작</span>
</span></span><span class=line><span class=cl><span class=n>sub_thread</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>subscriber</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>pub_thread</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>publisher</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>sub_thread</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>pub_thread</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=pubsub-api의-주요-활용-사례>Pub/Sub API의 주요 활용 사례<a hidden class=anchor aria-hidden=true href=#pubsub-api의-주요-활용-사례>#</a></h3><ol><li><p>마이크로서비스 통신<br>마이크로서비스 아키텍처에서 서비스 간 이벤트 기반 통신을 구현하는 데 Pub/Sub API가 널리 사용된다. 이는 서비스 간의 느슨한 결합을 제공하여 전체 시스템의 유연성과 확장성을 높인다.</p></li><li><p>실시간 데이터 파이프라인<br>데이터 수집, 변환, 처리를 위한 실시간 데이터 파이프라인에서 Pub/Sub API가 중요한 역할을 한다. IoT 디바이스에서 발생한 데이터를 수집하고 분석 시스템으로 전달하는 데 활용될 수 있다.</p></li><li><p>알림 및 이벤트 시스템<br>사용자 알림, 시스템 이벤트, 모니터링 알림 등을 분배하는 데 Pub/Sub 패턴이 효과적이다. 이벤트가 발생하면 관심 있는 모든 시스템이나 사용자에게 즉시 알림을 전송할 수 있다.</p></li><li><p>분산 시스템 동기화<br>분산 시스템에서 상태 변경을 동기화하거나 캐시 무효화를 관리하는 데 Pub/Sub 메커니즘이 유용하다. 한 시스템에서 변경이 발생하면 관련 시스템에 자동으로 알림이 전달된다.</p></li><li><p>실시간 분석 및 대시보드<br>실시간 데이터 분석 및 시각화를 위해 Pub/Sub API를 사용하여 데이터를 스트리밍하고 처리할 수 있다. 이는 비즈니스 인텔리전스 및 모니터링 대시보드에 활용된다.</p></li></ol><h3 id=pubsub-api-설계-시-고려사항>Pub/Sub API 설계 시 고려사항<a hidden class=anchor aria-hidden=true href=#pubsub-api-설계-시-고려사항>#</a></h3><ol><li><p>메시지 형식 및 스키마<br>메시지의 구조와 형식을 신중하게 설계해야 한다. 스키마 정의 및 버전 관리를 통해 시스템 진화에 따른 호환성 문제를 방지할 수 있다.<br><strong>권장 사항</strong>:</p><ul><li>Avro, Protobuf 등의 스키마 정의 언어 사용</li><li>스키마 버전 관리 및 변경 전략 수립</li><li>메시지 크기 최적화를 위한 직렬화 방식 선택</li></ul></li><li><p>메시지 전달 보장 수준<br>애플리케이션 요구사항에 따라 적절한 메시지 전달 보장 수준을 선택해야 한다.<br><strong>권장 사항</strong>:</p><ul><li>중요한 데이터의 경우 &ldquo;at least once&rdquo; 또는 &ldquo;exactly once&rdquo; 전달 사용</li><li>중복 메시지 처리를 위한 멱등성(idempotency) 구현</li><li>전달 실패 시 재시도 전략 및 데드 레터 큐(DLQ) 설정</li></ul></li><li><p>확장성 및 성능<br>시스템 규모와 부하 증가에 대비한 확장성 계획이 필요하다.<br><strong>권장 사항</strong>:</p><ul><li>파티션 또는 샤딩을 통한 수평적 확장 지원</li><li>메시지 배치 처리를 통한 처리량 최적화</li><li>부하 테스트 및 성능 모니터링 구현</li></ul></li><li><p>오류 처리 및 복원력<br>네트워크 문제, 서비스 장애 등 다양한 오류 상황에 대한 견고한 처리 방안이 필요하다.<br><strong>권장 사항</strong>:</p><ul><li>장애 발생 시 메시지 지속성 보장</li><li>자동 재연결 및 재시도 메커니즘 구현</li><li>서킷 브레이커 패턴 적용으로 시스템 보호</li></ul></li><li><p>보안<br>메시지의 기밀성, 무결성, 인증 등 보안 요구사항을 고려해야 한다.<br><strong>권장 사항</strong>:</p><ul><li>전송 중 암호화(TLS/SSL) 적용</li><li>주제 및 구독에 대한 접근 제어</li><li>필요시 메시지 페이로드 암호화</li></ul></li></ol><h3 id=pubsub-apis와-다른-통신-패턴-비교>Pub/Sub APIs와 다른 통신 패턴 비교<a hidden class=anchor aria-hidden=true href=#pubsub-apis와-다른-통신-패턴-비교>#</a></h3><table><thead><tr><th>특성</th><th>Pub/Sub</th><th>Request-Response</th><th>Event Streaming</th><th>Message Queue</th></tr></thead><tbody><tr><td>통신 모드</td><td>비동기, 다대다</td><td>동기, 일대일</td><td>비동기, 일대다</td><td>비동기, 일대일</td></tr><tr><td>결합도</td><td>매우 낮음</td><td>높음</td><td>낮음</td><td>중간</td></tr><tr><td>확장성</td><td>매우 높음</td><td>제한적</td><td>높음</td><td>중간</td></tr><tr><td>메시지 흐름</td><td>브로드캐스트/멀티캐스트</td><td>직접 통신</td><td>스트림 기반</td><td>점대점</td></tr><tr><td>응답 처리</td><td>응답 없음</td><td>명시적 응답</td><td>응답 없음</td><td>응답 선택적</td></tr><tr><td>주요 사용 사례</td><td>이벤트 알림, 상태 변경</td><td>API 호출, 조회</td><td>로그, 센서 데이터</td><td>작업 배포, 부하 분산</td></tr><tr><td>구현 예시</td><td>Kafka, SNS, Cloud Pub/Sub</td><td>REST, gRPC</td><td>Kafka Streams, Kinesis</td><td>SQS, RabbitMQ</td></tr></tbody></table><h3 id=최신-트렌드-및-미래-전망>최신 트렌드 및 미래 전망<a hidden class=anchor aria-hidden=true href=#최신-트렌드-및-미래-전망>#</a></h3><ol><li><p>서버리스 Pub/Sub<br>서버리스 아키텍처와 Pub/Sub의 결합이 증가하고 있다. AWS Lambda, Google Cloud Functions, Azure Functions 등과 같은 서버리스 컴퓨팅 서비스를 Pub/Sub 이벤트로 트리거하여 이벤트 기반 아키텍처를 구현할 수 있다.</p></li><li><p>엣지 컴퓨팅과의 통합<br>IoT 및 엣지 컴퓨팅 환경에서의 Pub/Sub 적용이 늘고 있다. 제한된 리소스를 가진 디바이스에서도 효율적으로 작동할 수 있는 경량 Pub/Sub 프로토콜(예: MQTT)의 사용이 증가하고 있다.</p></li><li><p>실시간 데이터 분석 통합<br>Pub/Sub 시스템과 실시간 데이터 처리 프레임워크(Apache Flink, Spark Streaming 등)의 통합이 강화되고 있다. 이는 스트리밍 데이터에 대한 실시간 분석 및 인사이트 도출을 가능하게 한다.</p></li><li><p>멀티 클라우드 Pub/Sub 전략<br>여러 클라우드 제공업체 간에 동작하는 통합 Pub/Sub 솔루션에 대한 수요가 증가하고 있다. 하이브리드 및 멀티 클라우드 아키텍처에서 일관된 메시징 인프라를 제공하는 솔루션이 발전하고 있다.</p></li><li><p>이벤트 메시 아키텍처<br>단일 중앙 집중식 브로커를 넘어, 분산된 이벤트 메시(Event Mesh) 아키텍처가 등장하고 있다. 이는 여러 지역과 환경에 걸쳐 이벤트를 동적으로 라우팅하고 관리할 수 있는 유연한 인프라를 제공한다.</p></li></ol><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/backend-development/>Backend-Development</a></li><li><a href=https://buenhyden.github.io/tags/api-design-and-implementation/>API-Design-and-Implementation</a></li><li><a href=https://buenhyden.github.io/tags/real-time-apis/>Real-Time-APIs</a></li><li><a href=https://buenhyden.github.io/tags/types/>Types</a></li><li><a href=https://buenhyden.github.io/tags/pub-and-sub-apis/>Pub-and-Sub-APIs</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/networking-and-communication/fundamentals/streaming/streaming-apis/><span class=title>« Prev</span><br><span>Streaming APIs</span>
</a><a class=next href=https://buenhyden.github.io/posts/software-development/api-development-and-implementation/api-styles/event-driven-apis/websocket/websocket-api-vs-websocket/><span class=title>Next »</span><br><span>Websocket API vs. Websocket</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>