<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>ER(Entity-Relationship) 모델링 | hyunyoun's Blog</title><meta name=keywords content="Databases,Fundamentals,Entity-Relationship-Modeling,ERM"><meta name=description content="실제 세계의 데이터를 개체(Entity), 관계(Relationship), 속성(Attribute)으로 표현하여 데이터베이스를 설계하는 방법"><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/data--database-systems/data-fundamentals/data-modeling/conceptual-modeling/er-modeling/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.8762af4fa9ee176c57f72565b721f234162fc7a9c882a271e0a1f68c4e89fb34.css integrity="sha256-h2KvT6nuF2xX9yVltyHyNBYvx6nIgqJx4KH2jE6J+zQ=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/data--database-systems/data-fundamentals/data-modeling/conceptual-modeling/er-modeling/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/data--database-systems/data-fundamentals/data-modeling/conceptual-modeling/er-modeling/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/data--database-systems/data-fundamentals/data-modeling/conceptual-modeling/er-modeling/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="ER(Entity-Relationship) 모델링"><meta property="og:description" content="실제 세계의 데이터를 개체(Entity), 관계(Relationship), 속성(Attribute)으로 표현하여 데이터베이스를 설계하는 방법"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="ER(Entity-Relationship) 모델링"><meta name=twitter:description content="실제 세계의 데이터를 개체(Entity), 관계(Relationship), 속성(Attribute)으로 표현하여 데이터베이스를 설계하는 방법"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"ER(Entity-Relationship) 모델링","item":"https://buenhyden.github.io/posts/data--database-systems/data-fundamentals/data-modeling/conceptual-modeling/er-modeling/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a></div><h1>ER(Entity-Relationship) 모델링</h1><div class=post-description>실제 세계의 데이터를 개체(Entity), 관계(Relationship), 속성(Attribute)으로 표현하여 데이터베이스를 설계하는 방법</div></header><div class=post-content><h2 id=erentity-relationship-모델링>ER(Entity-Relationship) 모델링<a hidden class=anchor aria-hidden=true href=#erentity-relationship-모델링>#</a></h2><h3 id=1단계-기본-분석-및-검증>1단계: 기본 분석 및 검증<a hidden class=anchor aria-hidden=true href=#1단계-기본-분석-및-검증>#</a></h3><h4 id=주제-유형-식별>주제 유형 식별<a hidden class=anchor aria-hidden=true href=#주제-유형-식별>#</a></h4><ul><li>ER 모델링(ER Modeling)은 “이론/개념형(A형)”에 해당하며, 추상적 데이터 구조와 관계를 수학적으로 모델링하는 이론 및 개념 중심 주제임.[1][2][3]</li></ul><h4 id=복잡도-평가>복잡도 평가<a hidden class=anchor aria-hidden=true href=#복잡도-평가>#</a></h4><ul><li>실무 적용 및 혁신적 트렌드까지 다루기 위해 “복잡도 Level 3(고급)”로 접근이 타당함.</li></ul><h4 id=대표-태그-생성>대표 태그 생성<a hidden class=anchor aria-hidden=true href=#대표-태그-생성>#</a></h4><ul><li>DataModeling, ERDiagram, EntityRelationship, ConceptualDesign, Database</li></ul><h4 id=분류-체계-검증-및-개선-제안>분류 체계 검증 및 개선 제안<a hidden class=anchor aria-hidden=true href=#분류-체계-검증-및-개선-제안>#</a></h4><ul><li>5번 분류(“Data & Database Systems > Data Fundamentals > Data Modeling > Conceptual Modeling”)는 6번 분류 구조 내 “Data Modeling > Conceptual Modeling”에 정확히 대응되므로 논리적으로 타당하며, 탐색 관점에서도 일관성과 적합성이 높음.</li><li>다만, 실무적 검색성과 실습 관점에서 “ERD(ER Diagram), RelationalMapping” 등 교차 태그 부여 개선 제안.</li><li>빅데이터, AI-ML 파이프라인 등 신규 데이터 설계 패러다임 영역과의 연결항목(예: 데이터 거버넌스, 멀티모델 DB 모듈 등) 추천.</li></ul><h4 id=핵심-요약>핵심 요약<a hidden class=anchor aria-hidden=true href=#핵심-요약>#</a></h4><p>“ER 모델링(Entity-Relationship Modeling)은 현실 세계의 정보 구조를 엔티티와 관계 개념을 활용해 체계적으로 추상화하여, 데이터베이스 설계의 논리적/개념적 기반을 제공하는 이론적 모델이자 실무적 프레임워크다”.[4][5][1]</p><h4 id=전체-개요>전체 개요<a hidden class=anchor aria-hidden=true href=#전체-개요>#</a></h4><p>ER 모델링은 데이터베이스 시스템, 소프트웨어 설계, 데이터 아키텍처에서 핵심적 역할을 하며, 현실 세계의 객체(엔티티)와 그들의 상호관계(관계)를 구조적으로 표현한다. 기본 요소(엔티티, 관계, 속성)와 제약조건(식별자, 카디널리티 등)을 조합하여 개념적 다이어그램(ER 다이어그램, ERD) 형태로 정형화하며, 이를 기반으로 논리적/물리적 데이터 모델로 변환한다. 최근 AI 기반 자동화, 멀티클라우드, 다양한 NoSQL/멀티모델 DB 확장 등 현대 데이터 시스템 요구에도 빠르게 적응하고 있으며, 실무에서는 데이터 품질, 데이터 거버넌스, 유연한 확장성에 더욱 강조점을 둔다. ER 모델링은 신규 정보시스템 기획, 시스템 통합, 데이터 마이그레이션 등 다양한 시나리오에서 데이터 구조의 품질과 변경 용이성, 데이터 무결성 보장을 위한 핵심 도구이자 지식 체계로 자리매김 한다.[6][7][8][5][4]</p><hr><h4 id=참고자료>참고자료<a hidden class=anchor aria-hidden=true href=#참고자료>#</a></h4><ul><li>[Entity-relationship model - Wikipedia][1]</li><li>[E-R(Entity-Relationship) Model 이란?][4]</li><li>[DBMS 예제를 사용한 엔터티 관계(ER) 다이어그램 모델][9]</li><li>[ER 다이어그램 ( 엔티티-관계 다이어그램) 이란?][8]</li><li>[The History and Future of ER Diagrams: How AI is &mldr;][6]</li></ul><hr><h3 id=2단계-개념-체계화-및-검증>2단계: 개념 체계화 및 검증<a hidden class=anchor aria-hidden=true href=#2단계-개념-체계화-및-검증>#</a></h3><h4 id=핵심-개념-정리>핵심 개념 정리<a hidden class=anchor aria-hidden=true href=#핵심-개념-정리>#</a></h4><ul><li><p><strong>엔티티(Entity, 개체)</strong>: 현실 세계에서 식별할 수 있는 객체나 개념을 의미. 예시로는 사용자, 상품, 주문 등 데이터로 관리할 필요가 있는 모든 것을 지칭한다. 엔티티는 속성을 지니며, 고유 식별자를 가진다. 정규(Entity), 약(Entity, Weak Entity) 등으로 분류할 수 있다.[1][2][3]</p></li><li><p><strong>속성(Attribute, 속성)</strong>: 엔티티의 특별한 특성 또는 특질을 나타낸다. 예를 들어, 학생 엔티티의 이름, 학번, 전공 등이 속성이다. 단일(Simple), 복합(Composite), 유도(Derived), 다중(Multi-valued) 등 다양한 유형이 존재한다.[3][1]</p></li><li><p><strong>관계(Relationship, 관계)</strong>: 두 개 이상의 엔티티 간에 존재하는 의미적 연관성을 나타낸다. 예시는 학생과 강의, 고객과 주문 등이 있다. 1:1, 1:N, N:M 관계 타입과 필수(Total), 선택(Partial) 참여 등이 주요 특징이다.[4][1][3]</p></li><li><p><strong>식별자(Identifier, Key)</strong>: 엔티티의 각 인스턴스를 고유하게 식별하는 속성이나 속성의 집합. Primary Key(기본 키), Foreign Key(외래 키) 등 식별자 체계를 설정하여 물리적인 데이터베이스 설계로 이어진다.[5][6]</p></li><li><p><strong>서브타입(Subtype)과 슈퍼타입(Supertype)</strong>: 엔티티 간 상속/포괄 관계. 예를 들어, 직원(Employee)과 프로그래머(Programmer)처럼 슈퍼타입-서브타입 계층을 가진다(OOP의 상속 개념과 유사).[1]</p></li></ul><h4 id=상호관계-구조화테이블-예시>상호관계 구조화(테이블 예시)<a hidden class=anchor aria-hidden=true href=#상호관계-구조화테이블-예시>#</a></h4><table><thead><tr><th>개념</th><th>정의</th><th>실 예시</th></tr></thead><tbody><tr><td>엔티티</td><td>데이터로 관리되는 독립 객체·개념</td><td>고객, 주문, 강좌 등</td></tr><tr><td>속성</td><td>엔티티의 성질·특성</td><td>이름, 나이, 이메일 등</td></tr><tr><td>관계</td><td>엔티티들 간 의미적 연결</td><td>고객-주문(1:N), 학생-강좌(N:M)</td></tr><tr><td>식별자</td><td>각 엔티티 인스턴스를 구별하는 유일 속성·속성 집합</td><td>고객ID(Primary Key), 주문ID, 학생번호</td></tr><tr><td>서브/슈퍼타입</td><td>상속(포괄), 특수화된 엔티티 구조</td><td>직원-프로그램(슈퍼/서브타입)</td></tr></tbody></table><hr><h4 id=실무-연관성-분석>실무 연관성 분석<a hidden class=anchor aria-hidden=true href=#실무-연관성-분석>#</a></h4><ul><li><p><strong>초기 요구분석에서 명확한 엔티티-관계 도출</strong>은 실무 시스템의 명확한 데이터 구조 및 업무 흐름 정의의 근간이 된다. 요구사항 단계에서의 ER 다이어그램(ERD) 활용은 데이터 품질, 설계 일관성, 변경 용이성을 보장한다.[7][6]</p></li><li><p><strong>논리-물리 모델 전환의 연결고리</strong>: ER 모델은 추상화된 개념에서 실제 데이터베이스 테이블(관계형 데이터베이스뿐만 아니라 NoSQL 구조까지)로의 전환 기준을 제공, 실무 설계와 구현단에서의 오해 및 오류를 최소화한다.[5]</p></li><li><p><strong>데이터 무결성, 트랜잭션 설계, 향후 확장성</strong>: 식별자와 관계 구조의 명확한 정의는 트랜잭션 무결성, 응용 기능 개발, 데이터 파이프라인 및 보고 환경의 변경‧확장에 대한 적합성과 유연성을 높인다.[6][8][5]</p></li><li><p><strong>실무 프로세스 예시</strong>: 요구사항 도출→엔티티/속성/관계 식별→ERD 설계→정규화 및 제약조건 설계→테이블 및 인덱스 생성→구현 및 테스트.[7][6][5]</p></li></ul><hr><p>이상으로, ER 모델링의 본질적 개념 및 실무 적용성, 그리고 각 핵심 구조의 상호관계와 실무 흐름상 활용 방안을 체계적으로 정리하였다.<br>다음 단계에서는 기초 개념 및 핵심 원리(Phase 1~2)와, 특성 분석(Phase 3), 그리고 유형별 실무+코드 예제(Phase 5)를 단계별로 진행하여 더욱 구체화할 예정이다.### 2단계: 개념 체계화 및 검증</p><h4 id=핵심-개념-정리-1>핵심 개념 정리<a hidden class=anchor aria-hidden=true href=#핵심-개념-정리-1>#</a></h4><ul><li><strong>엔티티(개체, Entity)</strong>: 현실 세계의 독립적 객체(사람, 사물, 개념 등)로 데이터로 관리해야 하는 대상이며, 속성을 가짐.[2][3][1]</li><li><strong>속성(Attribute, 속성)</strong>: 엔티티가 가지는 성질 또는 특성(예: 학생의 학번, 이름, 전공 등). 단일, 복합, 다중, 유도 속성 등 여러 유형이 있음.[3][1]</li><li><strong>관계(Relationship, 관계)</strong>: 엔티티 간 의미 있는 연관성을 표현하며, 1:1, 1:N, N:M 구조로 표현됨.[6][1][5]</li><li><strong>식별자(Identifier, Key)</strong>: 엔티티 인스턴스를 고유하게 식별할 수 있도록 하는 속성(Primary Key, Foreign Key 등).[5][6]</li><li><strong>서브타입/슈퍼타입(Subtype/Supertype)</strong>: 엔티티 간 계층 구조로, 일반-특수 개념 계승 구조(직원–프로그램 개발자 등).[1]</li></ul><h4 id=상호관계-구조-설명>상호관계 구조 설명<a hidden class=anchor aria-hidden=true href=#상호관계-구조-설명>#</a></h4><ul><li>엔티티와 속성, 관계, 식별자는 서로 긴밀하게 연결되어 데이터베이스의 기본 구조를 형성한다.</li><li>실무에서는 ERD(ER Diagram)를 활용해 이러한 구조를 시각적으로 설계해 협업과 유지보수를 용이하게 함.[6][5]</li></ul><h4 id=실무-연관성-분석-1>실무 연관성 분석<a hidden class=anchor aria-hidden=true href=#실무-연관성-분석-1>#</a></h4><ul><li><strong>요구 사항 분석</strong> 단계에서 엔티티와 속성, 관계의 적절한 도출은 데이터베이스 구축의 품질과 비즈니스 로직 정확성에 직접적 영향을 준다.[7][5][6]</li><li><strong>ER 모델 기반 설계</strong>는 논리적·물리적 데이터베이스 구현과정, 그리고 데이터 마이그레이션/확장성, 품질 관리까지 표준화된 가이드라인을 제공한다.[5]</li><li><strong>식별자와 관계 정의</strong>는 데이터 무결성, 트랜잭션 안정성 및 확장성 등 엔터프라이즈 시스템 운영의 기반이 된다.[8][6][5]</li></ul><hr><h3 id=phase-3-특성-분석-및-평가>Phase 3: 특성 분석 및 평가<a hidden class=anchor aria-hidden=true href=#phase-3-특성-분석-및-평가>#</a></h3><h4 id=주요-장점-및-이점>주요 장점 및 이점<a hidden class=anchor aria-hidden=true href=#주요-장점-및-이점>#</a></h4><table><thead><tr><th>장점</th><th>상세 설명</th><th>기술 근거</th><th>적용 상황</th><th>실무적 가치</th></tr></thead><tbody><tr><td>데이터 구조의 명확성</td><td>현실 세계의 객체(엔티티)와 관계 구조를 구체적으로 시각화</td><td>ER 다이어그램 기반 설계</td><td>신규 시스템 설계, 요구사항 분석 단계</td><td>데이터 중복/누락 방지, 설계 오류 감소</td></tr><tr><td>데이터 무결성 보장</td><td>식별자, 제약조건 등 논리 구조에서 무결성 규칙을 명확하게 적용</td><td>키(Key), 카디널리티, 도메인 제약</td><td>데이터베이스 구현·운영/통합, 품질 관리</td><td>데이터 일관성 및 업무 프로세스 신뢰성 강화</td></tr><tr><td>설계 협업 및 문서화</td><td>시각적 도구로 다양한 이해관계자와 명확하게 소통</td><td>다이어그램/모델 표준</td><td>외주 관리, 팀 내외부 협업, 요구사항 변경 대응</td><td>커뮤니케이션 비용 절감·신속한 피드백 가능</td></tr><tr><td>표준화·재사용 용이성</td><td>표준화된 모델 작성 및 재사용 가능</td><td>ER 모델 표준, 도식화 도구 지원</td><td>데이터 거버넌스, 대규모 프로젝트, 유지보수</td><td>설계 재작업/데이터 이관 비용 최소화</td></tr><tr><td>확장성과 유연성</td><td>논리/물리모델 변환 용이, 데이터베이스 교체 및 구조 확장 적합</td><td>관계형 외 NoSQL, 멀티모델 DB도 적용 가능</td><td>신규 요구 반영, 멀티시스템 통합/마이그레이션</td><td>구조 확장·데이터 마이그레이션 효율성 극대화</td></tr></tbody></table><h4 id=단점-및-제약사항>단점 및 제약사항<a hidden class=anchor aria-hidden=true href=#단점-및-제약사항>#</a></h4><table><thead><tr><th>단점</th><th>상세 설명</th><th>원인</th><th>실무에서 발생되는 문제</th><th>완화/해결 방안</th><th>대안 기술</th></tr></thead><tbody><tr><td>복잡도 증가</td><td>대규모/복잡 도메인에서 모델이 방대해짐</td><td>엔티티, 관계·제약조건 구조가 많을 때</td><td>설계 및 유지보수 난이도 상승</td><td>도메인 분할, 서브모델 분리</td><td>UML 클래스 다이어그램</td></tr><tr><td>비정형 데이터 한계</td><td>문서·이미지 등 정형 밖의 데이터 모델링 곤란</td><td>관계형 중심 구조</td><td>NoSQL 및 빅데이터 모델링 범용성 부족</td><td>논리계층에서 보완</td><td>멀티모델(Multi-model) DB</td></tr><tr><td>학습 곡선</td><td>개념적 구조·제약조건 복잡성을 이해해야 함</td><td>추상 레벨이 높고 문법 다양</td><td>실무자 학습 시간, 설계 오해</td><td>표준화 교육, 사례 공유</td><td>ERD 생성 자동화 도구</td></tr></tbody></table><h4 id=트레이드오프-관계-분석>트레이드오프 관계 분석<a hidden class=anchor aria-hidden=true href=#트레이드오프-관계-분석>#</a></h4><ul><li><strong>표현력 vs 단순성</strong>: 모델의 완성도와 실무 적용 용이성 간 균형 필요.[1][4]</li><li><strong>정규화 vs 성능</strong>: 과도한 정규화는 데이터 접근 성능 저하 가능.[5]</li><li><strong>확장성 vs 안정성</strong>: 구조의 유연성 확보는 무결성 트레이드오프 발생 가능.</li></ul><h4 id=적용-적합성-평가>적용 적합성 평가<a hidden class=anchor aria-hidden=true href=#적용-적합성-평가>#</a></h4><ul><li><strong>적합</strong>: 전통적 관계형 데이터베이스, POS/ERP/CMS 등 업무 프로세스 기반 시스템, 데이터 품질 및 구조 무결성이 중요한 환경, 데이터 통합·마이그레이션이 많은 대규모 기업 환경.[3][4][1]</li><li><strong>부적합</strong>: 실시간 처리, 비정형 데이터 기반 빅데이터/AI 시스템 또는 다빈도 스키마 변경이 필요한 환경.</li></ul><hr><h3 id=phase-4-구현-방법-및-분류>Phase 4: 구현 방법 및 분류<a hidden class=anchor aria-hidden=true href=#phase-4-구현-방법-및-분류>#</a></h3><h4 id=구현-방법-및-기법-개념논리물리>구현 방법 및 기법 (개념→논리→물리)<a hidden class=anchor aria-hidden=true href=#구현-방법-및-기법-개념논리물리>#</a></h4><ol><li><strong>업무 요구사항 도출</strong></li><li><strong>엔티티/속성/관계/식별자 추출</strong></li><li><strong>ER 다이어그램(ERD) 작성</strong></li><li><strong>정규화 수행 및 제약조건 설계</strong></li><li><strong>논리 데이터 모델(릴레이션 테이블) 변환</strong></li><li><strong>물리적 데이터베이스 구조 생성 및 구현</strong></li></ol><h4 id=유형별-분류-체계>유형별 분류 체계<a hidden class=anchor aria-hidden=true href=#유형별-분류-체계>#</a></h4><table><thead><tr><th>유형</th><th>기준</th><th>특징 및 적용 예시</th></tr></thead><tbody><tr><td>강한 엔티티</td><td>자체 식별자 보유</td><td>회원, 상품, 주문 등</td></tr><tr><td>약한 엔티티</td><td>식별자 외래키 의존</td><td>주문상세, 로그 등</td></tr><tr><td>1:1/1:N/다대다</td><td>관계 유형</td><td>고객-주문(1:N), 학생-강좌(N:M) 등</td></tr><tr><td>서브/슈퍼타입</td><td>포괄/특수화 구조</td><td>직원-개발자(상속관계)</td></tr></tbody></table><h4 id=도구-및-라이브러리-생태계>도구 및 라이브러리 생태계<a hidden class=anchor aria-hidden=true href=#도구-및-라이브러리-생태계>#</a></h4><ul><li><strong>ERD Tool</strong>: MySQL Workbench, ERwin, Visual Paradigm 등</li><li><strong>DevOps 통합</strong>: ERD 자동화 스크립트, 데이터 이관 툴 연계 활용</li></ul><h4 id=표준-및-규격-준수사항>표준 및 규격 준수사항<a hidden class=anchor aria-hidden=true href=#표준-및-규격-준수사항>#</a></h4><ul><li><strong>ERD 표기법</strong>: Chen, Crow’s Foot 등</li><li><strong>DBMS간 호환성</strong>: 기본 표준 준수 및 DBMS-specific 변환 고려</li></ul><hr><p>다음 단계(실습 예제 및 도입 사례, 실무 운영 및 최신 트렌드)는 표준 구조에 따라 구체적으로 이어 설명할 예정.</p><h3 id=phase-3-특성-분석-및-평가-1>Phase 3: 특성 분석 및 평가<a hidden class=anchor aria-hidden=true href=#phase-3-특성-분석-및-평가-1>#</a></h3><h4 id=주요-장점-및-이점-1>주요 장점 및 이점<a hidden class=anchor aria-hidden=true href=#주요-장점-및-이점-1>#</a></h4><table><thead><tr><th>장점</th><th>상세 설명</th><th>기술 근거</th><th>적용 상황</th><th>실무적 가치</th></tr></thead><tbody><tr><td>데이터 구조 시각화</td><td>현실 세계 객체와 관계 구조를 명확하게 시각화</td><td>ER 다이어그램 표준</td><td>시스템 설계, 요구분석</td><td>설계 오류 감소, 협업 효율화</td></tr><tr><td>무결성 및 표준화</td><td>명확한 제약조건·식별자 관리로 데이터 일관성 확보</td><td>키/제약조건 중심 설계</td><td>데이터 통합 및 이관, 품질 검사</td><td>데이터 오류 최소화, 신뢰성 개선</td></tr><tr><td>설계 협업 및 문서화</td><td>요구사항 분석 단계부터 시각적 언어로 협업 가능</td><td>표준화된 모델/다이어그램 도구</td><td>팀 간 협업, 외주, 기술이전</td><td>커뮤니케이션 비용 절감, 변경대응 용이</td></tr><tr><td>확장성과 재사용성</td><td>데이터 구조 변경, 신규 업무 반영 용이</td><td>논리·물리 모델 분리 및 계층화 구조</td><td>신규 기능 개발, 시스템 확장</td><td>유지보수 비용 감소, 미래 호환성 강화</td></tr></tbody></table><h4 id=단점-및-제약사항-1>단점 및 제약사항<a hidden class=anchor aria-hidden=true href=#단점-및-제약사항-1>#</a></h4><table><thead><tr><th>단점</th><th>상세 설명</th><th>원인</th><th>실무에서 발생 문제</th><th>완화/해결 방안</th><th>대안 기술</th></tr></thead><tbody><tr><td>모델 복잡성 증가</td><td>대규모 업무나 다양한 객체가 많을 때 구조가 방대해짐</td><td>엔티티 수와 관계 복잡도</td><td>설계/유지보수 난이도</td><td>서브모델 분리, 도메인 분할</td><td>UML 클래스, JSON 모델</td></tr><tr><td>비정형 데이터 한계</td><td>이미지/문서 등 비정형 데이터 모델링 제한</td><td>관계형 중심, 정형 데이터 지향</td><td>NoSQL 적용의 난점</td><td>논리모델로 우회, 통합 플랫폼</td><td>멀티모델DB, DocumentDB</td></tr><tr><td>학습 곡선</td><td>추상적 개념, 다양한 표기법</td><td>복잡한 추상구조, 새 도구 표준 탑재</td><td>신입 실무자 혼동</td><td>사례 위주 교육, 자동화 툴</td><td>ERD 자동생성 도구</td></tr></tbody></table><h4 id=트레이드오프-및-적합성>트레이드오프 및 적합성<a hidden class=anchor aria-hidden=true href=#트레이드오프-및-적합성>#</a></h4><ul><li><strong>표현력 vs 단순성</strong>, <strong>정규화 vs 성능</strong>, <strong>유연성 vs 무결성</strong> 측면에서 실무 적용 시 균형 조절이 필요하다.</li><li>데이터 구조가 명확하며 접근성이 중요한 기업용 시스템에 적합하고, 실시간/비정형/빅데이터 중심 시스템에는 보완 설계가 필요하다.[4][1][5]</li></ul><hr><h3 id=phase-4-구현-방법-및-분류-1>Phase 4: 구현 방법 및 분류<a hidden class=anchor aria-hidden=true href=#phase-4-구현-방법-및-분류-1>#</a></h3><h4 id=구현-절차-및-기법>구현 절차 및 기법<a hidden class=anchor aria-hidden=true href=#구현-절차-및-기법>#</a></h4><ol><li><strong>업무 요구사항 분석</strong>: 데이터 구조/프로세스 파악</li><li><strong>개념적 모델링</strong>: 엔티티·속성·관계 추출, ERD 작성</li><li><strong>논리적 모델링</strong>: 릴레이션 테이블 구조로 변환, 정규화</li><li><strong>물리적 모델링</strong>: DBMS 환경에 맞게 테이블/인덱스/제약조건 구현</li><li><strong>실제 구현 및 테스트</strong>: DB 생성·운영, 트랜잭션/성능 테스트[1][3][5]</li></ol><h4 id=분류-체계예시>분류 체계(예시)<a hidden class=anchor aria-hidden=true href=#분류-체계예시>#</a></h4><table><thead><tr><th>유형</th><th>기준</th><th>특징</th><th>예시</th></tr></thead><tbody><tr><td>강한 엔티티</td><td>자체 식별자</td><td>독립 테이블로 구현</td><td>회원, 상품</td></tr><tr><td>약한 엔티티</td><td>외래키 의존</td><td>상위 엔티티와 종속 관계</td><td>주문상세</td></tr><tr><td>관계 유형</td><td>1:1/1:N/N:M</td><td>관계 엔터티로 변환</td><td>학생-강좌 등</td></tr><tr><td>상속관계</td><td>슈퍼/서브타입</td><td>업무 특화 구조 표현</td><td>직원-개발자</td></tr></tbody></table><h4 id=erd-작성-및-주요-도구>ERD 작성 및 주요 도구<a hidden class=anchor aria-hidden=true href=#erd-작성-및-주요-도구>#</a></h4><ul><li><strong>ERD Tool</strong>: MySQL Workbench, ERwin Data Modeler, Visual Paradigm 등 실무 표준 도구</li><li><strong>표기법</strong>: Chen(정형적), Crow’s Foot(실무적), UML 등 다양한 방식[9][10]</li><li><strong>DevOps</strong>: 자동화, 스크립트 변환, CI/CD와 통합 활용이 증가하는 추세</li></ul><hr><h3 id=phase-5-실무-적용-및-사례>Phase 5: 실무 적용 및 사례<a hidden class=anchor aria-hidden=true href=#phase-5-실무-적용-및-사례>#</a></h3><h4 id=실습-예제-및-코드-구현>실습 예제 및 코드 구현<a hidden class=anchor aria-hidden=true href=#실습-예제-및-코드-구현>#</a></h4><h5 id=실습-예제-게시판-시스템-er-모델링>실습 예제: 게시판 시스템 ER 모델링<a hidden class=anchor aria-hidden=true href=#실습-예제-게시판-시스템-er-모델링>#</a></h5><h6 id=목적>목적<a hidden class=anchor aria-hidden=true href=#목적>#</a></h6><ul><li>게시판 시스템의 데이터 구조를 ER 모델로 설계하는 방법 체득</li></ul><h6 id=사전-요구사항>사전 요구사항<a hidden class=anchor aria-hidden=true href=#사전-요구사항>#</a></h6><ul><li>MySQL, PostgreSQL 등 DBMS 설치</li><li>ERD 작성 툴(ERDCloud, MySQL Workbench 등) 권장</li></ul><h6 id=단계별-구현>단계별 구현<a hidden class=anchor aria-hidden=true href=#단계별-구현>#</a></h6><ol><li><strong>1단계: 요구사항 분석 및 엔티티 추출</strong><ul><li>회원, 게시글, 댓글, 카테고리 엔티티 도출</li></ul></li><li><strong>2단계: 엔티티와 속성 정의</strong></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3>3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># 회원 회원ID, 이름, 이메일, 비밀번호
</span></span><span class=line><span class=cl># 게시글 게시글ID, 제목, 내용, 작성일, 회원ID(외래키)
</span></span><span class=line><span class=cl># 댓글 댓글ID, 내용, 작성일, 게시글ID(외래키), 회원ID(외래키)
</span></span><span class=line><span class=cl># 카테고리 카테고리ID, 이름
</span></span></code></pre></td></tr></table></div></div><ol start=3><li><p><strong>3단계: 관계 정의 및 ER 다이어그램 작성</strong></p><ul><li>회원 1:N 게시글, 게시글 1:N 댓글, 게시글 N:1 카테고리</li></ul></li><li><p><strong>4단계: SQL 테이블 생성 예시</strong></p></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11>11</a>
</span><span class=lnt id=hl-1-12><a class=lnlinks href=#hl-1-12>12</a>
</span><span class=lnt id=hl-1-13><a class=lnlinks href=#hl-1-13>13</a>
</span><span class=lnt id=hl-1-14><a class=lnlinks href=#hl-1-14>14</a>
</span><span class=lnt id=hl-1-15><a class=lnlinks href=#hl-1-15>15</a>
</span><span class=lnt id=hl-1-16><a class=lnlinks href=#hl-1-16>16</a>
</span><span class=lnt id=hl-1-17><a class=lnlinks href=#hl-1-17>17</a>
</span><span class=lnt id=hl-1-18><a class=lnlinks href=#hl-1-18>18</a>
</span><span class=lnt id=hl-1-19><a class=lnlinks href=#hl-1-19>19</a>
</span><span class=lnt id=hl-1-20><a class=lnlinks href=#hl-1-20>20</a>
</span><span class=lnt id=hl-1-21><a class=lnlinks href=#hl-1-21>21</a>
</span><span class=lnt id=hl-1-22><a class=lnlinks href=#hl-1-22>22</a>
</span><span class=lnt id=hl-1-23><a class=lnlinks href=#hl-1-23>23</a>
</span><span class=lnt id=hl-1-24><a class=lnlinks href=#hl-1-24>24</a>
</span><span class=lnt id=hl-1-25><a class=lnlinks href=#hl-1-25>25</a>
</span><span class=lnt id=hl-1-26><a class=lnlinks href=#hl-1-26>26</a>
</span><span class=lnt id=hl-1-27><a class=lnlinks href=#hl-1-27>27</a>
</span><span class=lnt id=hl-1-28><a class=lnlinks href=#hl-1-28>28</a>
</span><span class=lnt id=hl-1-29><a class=lnlinks href=#hl-1-29>29</a>
</span><span class=lnt id=hl-1-30><a class=lnlinks href=#hl-1-30>30</a>
</span><span class=lnt id=hl-1-31><a class=lnlinks href=#hl-1-31>31</a>
</span><span class=lnt id=hl-1-32><a class=lnlinks href=#hl-1-32>32</a>
</span><span class=lnt id=hl-1-33><a class=lnlinks href=#hl-1-33>33</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># 각 테이블은 속성과 관계(외래키)를 반영
</span></span><span class=line><span class=cl>CREATE TABLE 회원 (
</span></span><span class=line><span class=cl>    회원ID INT PRIMARY KEY,
</span></span><span class=line><span class=cl>    이름 VARCHAR(100),
</span></span><span class=line><span class=cl>    이메일 VARCHAR(100),
</span></span><span class=line><span class=cl>    비밀번호 VARCHAR(100)
</span></span><span class=line><span class=cl>);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>CREATE TABLE 게시글 (
</span></span><span class=line><span class=cl>    게시글ID INT PRIMARY KEY,
</span></span><span class=line><span class=cl>    제목 VARCHAR(100),
</span></span><span class=line><span class=cl>    내용 TEXT,
</span></span><span class=line><span class=cl>    작성일 DATETIME,
</span></span><span class=line><span class=cl>    회원ID INT,
</span></span><span class=line><span class=cl>    카테고리ID INT,
</span></span><span class=line><span class=cl>    FOREIGN KEY (회원ID) REFERENCES 회원(회원ID),
</span></span><span class=line><span class=cl>    FOREIGN KEY (카테고리ID) REFERENCES 카테고리(카테고리ID)
</span></span><span class=line><span class=cl>);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>CREATE TABLE 댓글 (
</span></span><span class=line><span class=cl>    댓글ID INT PRIMARY KEY,
</span></span><span class=line><span class=cl>    내용 TEXT,
</span></span><span class=line><span class=cl>    작성일 DATETIME,
</span></span><span class=line><span class=cl>    게시글ID INT,
</span></span><span class=line><span class=cl>    회원ID INT,
</span></span><span class=line><span class=cl>    FOREIGN KEY (게시글ID) REFERENCES 게시글(게시글ID),
</span></span><span class=line><span class=cl>    FOREIGN KEY (회원ID) REFERENCES 회원(회원ID)
</span></span><span class=line><span class=cl>);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>CREATE TABLE 카테고리 (
</span></span><span class=line><span class=cl>    카테고리ID INT PRIMARY KEY,
</span></span><span class=line><span class=cl>    이름 VARCHAR(100)
</span></span><span class=line><span class=cl>);
</span></span></code></pre></td></tr></table></div></div><h6 id=실행-결과>실행 결과<a hidden class=anchor aria-hidden=true href=#실행-결과>#</a></h6><ul><li>ERD에 따라 테이블 구조 생성, 데이터 삽입/조회가 신뢰성있게 구성</li></ul><h6 id=추가-실험>추가 실험<a hidden class=anchor aria-hidden=true href=#추가-실험>#</a></h6><ul><li>게시글-태그 다대다(N:M) 관계, 정규화 실습, ER 모델 변형 실험</li></ul><hr><h4 id=실제-도입-사례-분석>실제 도입 사례 분석<a hidden class=anchor aria-hidden=true href=#실제-도입-사례-분석>#</a></h4><h5 id=실제-도입-사례-은행-계좌-관리-시스템>실제 도입 사례: 은행 계좌 관리 시스템<a hidden class=anchor aria-hidden=true href=#실제-도입-사례-은행-계좌-관리-시스템>#</a></h5><h6 id=배경-및-도입-이유>배경 및 도입 이유<a hidden class=anchor aria-hidden=true href=#배경-및-도입-이유>#</a></h6><ul><li>은행 내 고객·계좌·입출금 내역 통합 관리, 업무 정확성 및 자동화 요구에서 시작</li></ul><h6 id=구현-아키텍처>구현 아키텍처<a hidden class=anchor aria-hidden=true href=#구현-아키텍처>#</a></h6><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>graph TB
</span></span><span class=line><span class=cl>    고객[고객(Customer)] --&gt; 계좌[계좌(Account)]
</span></span><span class=line><span class=cl>    계좌 --&gt; 입출금[입출금(Transaction)]
</span></span></code></pre></td></tr></table></div></div><h6 id=핵심-구현-코드>핵심 구현 코드<a hidden class=anchor aria-hidden=true href=#핵심-구현-코드>#</a></h6><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span><span class=lnt id=hl-3-12><a class=lnlinks href=#hl-3-12>12</a>
</span><span class=lnt id=hl-3-13><a class=lnlinks href=#hl-3-13>13</a>
</span><span class=lnt id=hl-3-14><a class=lnlinks href=#hl-3-14>14</a>
</span><span class=lnt id=hl-3-15><a class=lnlinks href=#hl-3-15>15</a>
</span><span class=lnt id=hl-3-16><a class=lnlinks href=#hl-3-16>16</a>
</span><span class=lnt id=hl-3-17><a class=lnlinks href=#hl-3-17>17</a>
</span><span class=lnt id=hl-3-18><a class=lnlinks href=#hl-3-18>18</a>
</span><span class=lnt id=hl-3-19><a class=lnlinks href=#hl-3-19>19</a>
</span><span class=lnt id=hl-3-20><a class=lnlinks href=#hl-3-20>20</a>
</span><span class=lnt id=hl-3-21><a class=lnlinks href=#hl-3-21>21</a>
</span><span class=lnt id=hl-3-22><a class=lnlinks href=#hl-3-22>22</a>
</span><span class=lnt id=hl-3-23><a class=lnlinks href=#hl-3-23>23</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># 고객 테이블 생성
</span></span><span class=line><span class=cl>CREATE TABLE 고객 (
</span></span><span class=line><span class=cl>    고객ID INT PRIMARY KEY,
</span></span><span class=line><span class=cl>    이름 VARCHAR(50),
</span></span><span class=line><span class=cl>    주소 VARCHAR(200)
</span></span><span class=line><span class=cl>);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># 계좌 테이블 생성 (고객ID는 외래키)
</span></span><span class=line><span class=cl>CREATE TABLE 계좌 (
</span></span><span class=line><span class=cl>    계좌ID INT PRIMARY KEY,
</span></span><span class=line><span class=cl>    고객ID INT,
</span></span><span class=line><span class=cl>    잔액 DECIMAL(12,2),
</span></span><span class=line><span class=cl>    FOREIGN KEY (고객ID) REFERENCES 고객(고객ID)
</span></span><span class=line><span class=cl>);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># 입출금 내역 테이블
</span></span><span class=line><span class=cl>CREATE TABLE 입출금 (
</span></span><span class=line><span class=cl>    거래ID INT PRIMARY KEY,
</span></span><span class=line><span class=cl>    계좌ID INT,
</span></span><span class=line><span class=cl>    금액 DECIMAL(12,2),
</span></span><span class=line><span class=cl>    거래일시 DATETIME,
</span></span><span class=line><span class=cl>    FOREIGN KEY (계좌ID) REFERENCES 계좌(계좌ID)
</span></span><span class=line><span class=cl>);
</span></span></code></pre></td></tr></table></div></div><h6 id=성과-및-결과>성과 및 결과<a hidden class=anchor aria-hidden=true href=#성과-및-결과>#</a></h6><ul><li>고객-계좌-입출금 관계의 명확한 데이터 구조 및 쿼리 용이성 획득</li><li>업무 오입력, 중복 최소화, 데이터 품질 및 감사 신뢰성 확보</li></ul><h6 id=교훈-및-시사점>교훈 및 시사점<a hidden class=anchor aria-hidden=true href=#교훈-및-시사점>#</a></h6><ul><li>명확한 ER 모델 기반 개발: 대규모 확장 시 유지·운영 편리</li><li>복잡 업무일수록 요구단계에서 ERD 합의 필요성</li></ul><hr><h4 id=통합-및-연계-기술>통합 및 연계 기술<a hidden class=anchor aria-hidden=true href=#통합-및-연계-기술>#</a></h4><ul><li>최근 ER모델은 데이터 웨어하우스, 데이터 거버넌스, BI 플랫폼, MSA(마이크로서비스 아키텍처)와 연계 구축이 늘고 있음.[4]</li><li>실습과 연계해 ETL(Extract, Transform, Load), 데이터 품질 모니터링, 시스템 통합 자동화 등에 활용.</li></ul><hr><h3 id=phase-6-운영-및-최적화>Phase 6: 운영 및 최적화<a hidden class=anchor aria-hidden=true href=#phase-6-운영-및-최적화>#</a></h3><h4 id=모니터링-및-관측성>모니터링 및 관측성<a hidden class=anchor aria-hidden=true href=#모니터링-및-관측성>#</a></h4><ul><li><strong>관측 대상</strong>: 테이블·엔티티별 데이터 용량, 인덱스 활용, 쿼리 빈도, 트랜잭션 병목 구간, 데이터 무결성 제약 위반 등 실시간 지표 모니터링이 필요하다.[1][7]</li><li><strong>모니터링 툴</strong>: DBMS 내장 성능 모니터, 쿼리 분석 로그, 외부 연동(예: Grafana, Prometheus) 활용이 실무적이다.</li></ul><h4 id=보안-및-컴플라이언스>보안 및 컴플라이언스<a hidden class=anchor aria-hidden=true href=#보안-및-컴플라이언스>#</a></h4><ul><li><strong>접근 제어</strong>: 소유권이 명확한 엔티티별 접근 권한, 암호화, 감사 로그 정책 설정 등 보안 설계가 핵심이다.</li><li><strong>데이터 무결성</strong>: PK(Primary Key), FK(Foreign Key), UNIQUE 등 제약조건으로 논리적·물리적 보안 모두 강화 가능하다.[5][1]</li></ul><h4 id=성능-최적화-및-확장성>성능 최적화 및 확장성<a hidden class=anchor aria-hidden=true href=#성능-최적화-및-확장성>#</a></h4><ul><li><strong>정규화</strong>: 데이터 중복 방지 및 구조 일관성 유지에 기여하지만, 지나친 정규화는 성능 저하를 야기할 수 있다.[2][5]</li><li><strong>반정규화</strong>: 데이터 조회 빈도 높은 경우 테이블 병합·중복 등 반정규화로 조인 최소화 및 성능 개선.[2]</li><li><strong>물리 구조</strong>: 인덱스, 분산 파티셔닝, 스토리지 엔진 등도 성능·확장성에 중요한 영향을 준다.[9]</li><li><strong>트랜잭션 튜닝</strong>: 동시성 제어, 락, 가비지 컬렉션, Space Allocation 등 운영 환경 최적화를 위한 파라미터 조정이 중요하다.</li></ul><h4 id=트러블슈팅-및-문제-해결>트러블슈팅 및 문제 해결<a hidden class=anchor aria-hidden=true href=#트러블슈팅-및-문제-해결>#</a></h4><ul><li>성능 저하 시 쿼리 실행 계획(Execution Plan) 분석, 인덱스 추가/조정, SQL 튜닝, 데이터 재배치(파티션 재구성) 등 실무적 대응이 필요하다.[6]</li><li>무결성 제약 위반, 데이터 중복·에러, 공간 부족 등은 모델 단계부터 운영 환경에 맞춘 설계·운영 체계를 수립함으로써 미리 방지할 수 있다.[7][1]</li></ul><hr><h3 id=phase-7-고급-주제-및-미래-전망>Phase 7: 고급 주제 및 미래 전망<a hidden class=anchor aria-hidden=true href=#phase-7-고급-주제-및-미래-전망>#</a></h3><h4 id=현재-도전-과제-및-한계>현재 도전 과제 및 한계<a hidden class=anchor aria-hidden=true href=#현재-도전-과제-및-한계>#</a></h4><ul><li>비정형·대용량·AI 데이터 처리에 대한 표현력 확장</li><li>정형/비정형 동시 모델링 및 멀티모델 데이터베이스 구조 수용이 숙제</li><li>데이터 거버넌스·품질관리 연동 자동화</li></ul><h4 id=최신-트렌드-및-방향>최신 트렌드 및 방향<a hidden class=anchor aria-hidden=true href=#최신-트렌드-및-방향>#</a></h4><ul><li>AI 및 자연어 기반 ERD 자동화 생성, 데이터 거버넌스 연계</li><li>데이터 파이프라인, 데이터 웨어하우스, BI와 실시간 연동</li><li>MSA(마이크로서비스 아키텍처) 및 클라우드 네이티브 확장성 강화, DevOps 자동 배포</li></ul><h4 id=대안-기술-및-경쟁-솔루션>대안 기술 및 경쟁 솔루션<a hidden class=anchor aria-hidden=true href=#대안-기술-및-경쟁-솔루션>#</a></h4><ul><li>멀티모델 DB, NoSQL, 그래프 DB 등으로 특수 목적 데이터 구조 지원</li><li>JSON 데이터 모델, UML, Logical-Physical 통합 데이터 모델 등 병행 활용 필요</li></ul><hr><h2 id=최종-정리-및-학습-가이드>최종 정리 및 학습 가이드<a hidden class=anchor aria-hidden=true href=#최종-정리-및-학습-가이드>#</a></h2><h3 id=내용-종합>내용 종합<a hidden class=anchor aria-hidden=true href=#내용-종합>#</a></h3><p>ER 모델링(Entity-Relationship Modeling)은 현실 세계의 복잡한 정보를 데이터베이스 구조로 추상화하는 핵심 개념적 도구다. 요구사항 분석 단계에서 시작하여 엔티티(Entity), 속성(Attribute), 관계(Relationship)을 정의, ERD(Entity Relationship Diagram)로 시각화하고, 이를 논리적‧물리적 모델(테이블 구조)로 자연스럽게 연결한다. 이 과정에서 표준화, 품질관리, 데이터 무결성, 유연한 확장성이 강점으로 작용한다. 최근에는 클라우드, 빅데이터, AI 환경에서도 다양한 도구, 자동화, 멀티모델 DB와의 통합이 활발하다.[1][4][7]</p><hr><h3 id=실무-적용-가이드>실무 적용 가이드<a hidden class=anchor aria-hidden=true href=#실무-적용-가이드>#</a></h3><ul><li><strong>도입 단계</strong>: 명확한 요구사항 정의, 엔티티/관계/속성 도출, ERD 작성(Chen/Crow’s Foot 등 표기법 활용)</li><li><strong>운영 단계</strong>: 변화 요구에 맞는 정규화, 반정규화, 데이터 품질 및 성능 모니터링, 표준화된 모델 문서화</li><li><strong>확장 및 유지보수</strong>: 구조 변경/확장 설계(논리/물리 모델 분리), DevOps/CI-CD와 연계된 ERD 자동화, 모델-코드 동기화</li><li><strong>캡스톤 실습</strong>: 실제 시스템 구축 시 예제(게시판, 은행 계좌, 쇼핑몰 등) 반복 실습 권장</li></ul><hr><h3 id=학습-로드맵>학습 로드맵<a hidden class=anchor aria-hidden=true href=#학습-로드맵>#</a></h3><ol><li><strong>기초</strong>: ER 모델의 기본 구성요소(엔티티, 속성, 관계) 개념 및 식별법 숙지</li><li><strong>핵심</strong>: 요구사항 분석→개념 설계→ERD 작성→정규화/제약조건→논리/물리 테이블 매핑</li><li><strong>응용</strong>: 다양한 도구 실습, 실제 프로젝트 ERD 설계, 케이스 스터디, 실습형 코드 모델링</li><li><strong>고급</strong>: 빅데이터·AI 기반 모델링, 멀티모델/NoSQL 통합, DevOps/자동화 트렌드 이해</li></ol><hr><h3 id=학습-항목-정리>학습 항목 정리<a hidden class=anchor aria-hidden=true href=#학습-항목-정리>#</a></h3><table><thead><tr><th>카테고리</th><th>Phase</th><th>항목</th><th>중요도</th><th>학습 목표</th><th>실무 연관성</th><th>설명</th></tr></thead><tbody><tr><td>기초</td><td>1</td><td>엔티티/속성/관계</td><td>필수</td><td>핵심 요소 정의/도출법</td><td>높음</td><td>데이터 추상화/구조화</td></tr><tr><td>핵심</td><td>2</td><td>ERD 작성</td><td>필수</td><td>ER다이어그램 완성</td><td>높음</td><td>구조 시각화/협업 활용</td></tr><tr><td>핵심</td><td>3</td><td>정규화/제약조건</td><td>필수</td><td>무결성/일관성 유지</td><td>높음</td><td>데이터 오류/중복 방지</td></tr><tr><td>응용</td><td>4</td><td>논리→물리 모델 변환</td><td>권장</td><td>테이블·인덱스 설계법</td><td>중간</td><td>RDBMS 실무 운영 연결</td></tr><tr><td>응용</td><td>5</td><td>ERD 실습/도입사례</td><td>권장</td><td>실생활 데이터 모델 적용</td><td>중간</td><td>프로젝트별 요구 설명/도출</td></tr><tr><td>고급</td><td>7</td><td>멀티모델/자동화 연동</td><td>선택</td><td>대규모/AI 활용 트렌드</td><td>낮음</td><td>차세대 데이터관리 방법</td></tr></tbody></table><hr><h3 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h3><table><thead><tr><th>카테고리</th><th>용어</th><th>정의</th><th>관련 개념</th><th>실무 활용</th></tr></thead><tbody><tr><td>핵심</td><td>엔티티</td><td>관리가 필요한 현실세계의 객체</td><td>속성, 관계</td><td>회원, 상품, 계좌 등</td></tr><tr><td>핵심</td><td>속성</td><td>엔티티가 가진 특징/성질</td><td>엔티티</td><td>이름, 나이, 금액 등</td></tr><tr><td>핵심</td><td>관계</td><td>엔티티 간 의미있는 연관성</td><td>엔티티</td><td>고객-주문, 학생-강좌 등</td></tr><tr><td>구현</td><td>ERD</td><td>엔티티/관계 시각적 표현도구</td><td>ER모델, 논리모델</td><td>설계/협업/문서화</td></tr><tr><td>구현</td><td>정규화</td><td>데이터 중복·불일치를 줄이는 기법</td><td>무결성, 테이블</td><td>품질관리, 확장성</td></tr><tr><td>운영</td><td>반정규화</td><td>성능 개선 위해 중복 허용</td><td>정규화, 성능</td><td>조회속도, 통계연산 등</td></tr></tbody></table><hr><h3 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h3><ul><li><a href=https://inpa.tistory.com/entry/DB-%F0%9F%93%9A-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%AA%A8%EB%8D%B8%EB%A7%81-1N-%EA%B4%80%EA%B3%84-%F0%9F%93%88-ERD-%EB%8B%A4%EC%9D%B4%EC%96%B4%EA%B7%B8%EB%9E%A8>데이터 모델링 개념 & ERD 다이어그램 작성 총정리 - Inpa Dev</a>[1]</li><li><a href=https://www.processon.io/ko/blog/erdiagram-ko-kr>초보 필독: ER 그림으로 데이터 관계도를 쉽게 그릴 수 있음</a>[7]</li><li><a href=https://nbcamp.spartacodingclub.kr/blog/erd-%EA%B0%9C%EC%B2%B4-%EA%B4%80%EA%B3%84-%EC%9D%B4%ED%95%B4%EB%A5%BC-%EB%8F%95%EB%8A%94-%ED%8C%81-19137>ERD 다이어그램 그리는 방법</a>[4]</li></ul><hr><p>위 가이드와 구조에 따라 ER 모델링을 단계별로 체계적·심층적으로 습득할 수 있다.</p><h2 id=최종-정리-및-학습-가이드-1>최종 정리 및 학습 가이드<a hidden class=anchor aria-hidden=true href=#최종-정리-및-학습-가이드-1>#</a></h2><h3 id=내용-종합-1>내용 종합<a hidden class=anchor aria-hidden=true href=#내용-종합-1>#</a></h3><p>ER 모델링(Entity-Relationship Modeling)은 데이터베이스 설계의 기초로, 현실 세계의 복잡한 정보를 엔티티, 속성, 관계로 구조화한다. 이 모델은 요구사항 분석에서 테이블·스키마 설계까지 일관된 데이터 품질과 확장성, 협업 효율성을 실현할 수 있게 한다. 최근에는 DevOps, 멀티모델, 자동화 등 데이터 아키텍처 변화에도 연계 활용된다.[4][7][1]</p><h3 id=실무-적용-가이드-1>실무 적용 가이드<a hidden class=anchor aria-hidden=true href=#실무-적용-가이드-1>#</a></h3><ul><li><strong>도입</strong>: 요구사항 분석→엔티티·속성·관계 식별→ERD 작성(표준 표기법 사용)</li><li><strong>운영</strong>: 정규화/반정규화 병행, 제약조건(무결성) 관리, 변동·확장 모니터링</li><li><strong>확장</strong>: 데이터 품질관리, 시스템 연계, DevOps 자동화 연동</li><li><strong>협업</strong>: 표준화된 문서로 개발자·기획자·사용자 간 소통 효율화</li></ul><h3 id=학습-로드맵-1>학습 로드맵<a hidden class=anchor aria-hidden=true href=#학습-로드맵-1>#</a></h3><ol><li>개념 기본: 엔티티/속성/관계 정의와 특징, 표기법 이해</li><li>구조 적용: ERD 실습, 논리/물리 DB 전환, 정규화 기준 숙지</li><li>프로젝트 적용: 실제 사례 기반 설계·테스트, 확장·운영 경험</li><li>고급/트렌드: 빅데이터·멀티모델/클라우드와 통합, 자동화·CI-CD 연동</li></ol><h3 id=학습-항목-정리-1>학습 항목 정리<a hidden class=anchor aria-hidden=true href=#학습-항목-정리-1>#</a></h3><table><thead><tr><th>카테고리</th><th>Phase</th><th>항목</th><th>중요도</th><th>학습 목표</th><th>실무 연관성</th><th>설명</th></tr></thead><tbody><tr><td>기초</td><td>1</td><td>엔티티·속성·관계</td><td>필수</td><td>핵심요소 이해/식별</td><td>높음</td><td>테이블/기능/역할 설계</td></tr><tr><td>핵심</td><td>2</td><td>ERD 작성법</td><td>필수</td><td>구조화/표현/응용</td><td>높음</td><td>다이어그램 실전 활용</td></tr><tr><td>응용</td><td>4</td><td>정규화/반정규화</td><td>권장</td><td>품질·성능 조율</td><td>중간</td><td>데이터 무결성/효율 조정</td></tr><tr><td>고급</td><td>6</td><td>DevOps 통합</td><td>선택</td><td>데이터 자동화 연결</td><td>중간</td><td>대규모 운영 효율화</td></tr><tr><td>고급</td><td>7</td><td>멀티모델/클라우드</td><td>선택</td><td>차세대 데이터 아키텍처</td><td>낮음</td><td>빅데이터/플랫폼 확장성</td></tr></tbody></table><hr><h2 id=용어-정리-1>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-1>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>정의</th><th>관련 개념</th><th>실무 활용</th></tr></thead><tbody><tr><td>핵심</td><td>엔티티</td><td>데이터로 관리해야 할 대상을 의미</td><td>속성, 관계</td><td>회원, 상품, 계좌 등</td></tr><tr><td>핵심</td><td>속성</td><td>엔티티의 특성 또는 정보</td><td>엔티티</td><td>이름, 가격 등</td></tr><tr><td>핵심</td><td>관계</td><td>엔티티들 간의 연관성</td><td>엔티티</td><td>고객-주문 등</td></tr><tr><td>구현</td><td>ERD</td><td>엔티티·관계 시각화 다이어그램</td><td>ER 모델</td><td>설계·협업·문서화</td></tr><tr><td>구현</td><td>정규화</td><td>중복/불일치 최소화 규칙</td><td>무결성</td><td>구조/성능 최적화</td></tr><tr><td>운영</td><td>반정규화</td><td>성능 위해 중복 허용하는 설계</td><td>정규화</td><td>BI·분석 성능 향상</td></tr></tbody></table><hr><h2 id=참고-및-출처-1>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-1>#</a></h2><ul><li>[데이터 모델링 개념 & ERD 다이어그램 작성 총정리 - Inpa Dev][1]</li><li>[ERD 다이어그램 그리는 방법][4]</li><li>[초보 필독: ER 그림으로 데이터 관계도를 쉽게 그릴 수 있음][7]</li></ul><hr><p>이 구성과 로드맵을 따라가면 ER 모델링의 핵심부터 실무까지 체계적으로 학습할 수 있다.## 최종 정리 및 학습 가이드</p><h3 id=내용-종합-2>내용 종합<a hidden class=anchor aria-hidden=true href=#내용-종합-2>#</a></h3><p>ER 모델링(Entity-Relationship Modeling)은 데이터베이스 구조 설계의 기본이자, 실세계 복잡한 개체와 그 관계를 논리적으로 추상화하는 가장 표준적인 접근 방식이다. 엔티티(개체), 속성, 관계를 명확히 정의하여 데이터베이스 일관성, 품질, 확장성을 보장하며, 데이터 기반 시스템의 요구분석~운영까지 명료한 연결고리를 제공한다. 단순히 설계 툴을 넘어, DevOps나 빅데이터, AI 신기술 영역까지 확장해 실무적 가치를 입증하고 있다.[7][1][4]</p><h3 id=실무-적용-가이드-2>실무 적용 가이드<a hidden class=anchor aria-hidden=true href=#실무-적용-가이드-2>#</a></h3><ul><li><strong>도입</strong>: 요구사항/문제 정의→엔티티·속성·관계 도출→ERD(표준 표기법) 작성</li><li><strong>운영</strong>: 정규화와 반정규화, 품질·성능·무결성 모니터링, 표준 문서화</li><li><strong>확장</strong>: DevOps, 자동화 연동, 멀티모델/NoSQL 지원 구조 병행</li><li><strong>업무 적용</strong>: 업무 특화 데이터 구조 반복 실습, 사례 기반 설계·테스트</li></ul><h3 id=학습-로드맵-2>학습 로드맵<a hidden class=anchor aria-hidden=true href=#학습-로드맵-2>#</a></h3><ol><li>기초: 엔티티/속성/관계 식별, 표기법 이해</li><li>표준: 요구분석→ERD 작성→정규화/제약조건 반영→논리적/물리적 매핑</li><li>실습/응용: 케이스 기반 설계·구현, 최적화·운영 경험</li><li>고급: 신규 트렌드(멀티모델, CI-CD, 자동화 등) 습득</li></ol><h3 id=학습-항목-정리-2>학습 항목 정리<a hidden class=anchor aria-hidden=true href=#학습-항목-정리-2>#</a></h3><table><thead><tr><th>카테고리</th><th>Phase</th><th>항목</th><th>중요도</th><th>학습 목표</th><th>실무 연관성</th><th>설명</th></tr></thead><tbody><tr><td>기초</td><td>1</td><td>엔티티/속성/관계</td><td>필수</td><td>데이터 구조 추상화</td><td>높음</td><td>구조적 설계 기본</td></tr><tr><td>핵심</td><td>2</td><td>ERD 작성·정규화</td><td>필수</td><td>표준화/무결성 강화</td><td>높음</td><td>ERD 실무 활용</td></tr><tr><td>응용</td><td>5</td><td>논리→물리 변환 실습</td><td>권장</td><td>DB 실제 구조 설계</td><td>중간</td><td>쿼리 최적화/운영 연동</td></tr><tr><td>고급</td><td>7</td><td>고도화·자동화연동</td><td>선택</td><td>DevOps/멀티모델등</td><td>낮음</td><td>대규모·AI기반 등 신기술 연계</td></tr></tbody></table><hr><h2 id=용어-정리-2>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-2>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>정의</th><th>관련 개념</th><th>실무 활용</th></tr></thead><tbody><tr><td>핵심</td><td>엔티티</td><td>관리해야 할 독립 객체</td><td>속성, 관계</td><td>회원, 주문, 계좌 등</td></tr><tr><td>구현</td><td>속성</td><td>엔티티의 성질, 정보를 담는 단위</td><td>엔티티</td><td>이름, 금액, 유형 등</td></tr><tr><td>핵심</td><td>관계</td><td>엔티티간 연관 혹은 동작</td><td>엔티티</td><td>고객-주문, 학생-강좌 등</td></tr><tr><td>구현</td><td>ERD</td><td>엔티티와 관계 구조 시각화 도구</td><td>ER모델</td><td>설계, 협업, 문서화</td></tr><tr><td>구현</td><td>정규화</td><td>구조 일관성·중복최소화 과정</td><td>테이블 설계</td><td>데이터 품질·확장성</td></tr><tr><td>운영</td><td>반정규화</td><td>성능 향상 위해 일부 중복 허용</td><td>정규화</td><td>BI, 통계 등 실무 성능</td></tr></tbody></table><hr><h2 id=참고-및-출처-2>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-2>#</a></h2><ul><li>[데이터 모델링 개념 & ERD 다이어그램 작성 총정리 - Inpa Dev][1]</li><li>[ERD 다이어그램 그리는 방법][4]</li><li>[초보 필독: ER 그림으로 데이터 관계도를 쉽게 그릴 수 있음][7]</li></ul><hr><p>이상의 기준을 토대로 ER 모델링은 체계적 교수-실습-업무적용-확장까지 모두 아우를 수 있다.</p><h2 id=최종-정리-및-학습-가이드-2>최종 정리 및 학습 가이드<a hidden class=anchor aria-hidden=true href=#최종-정리-및-학습-가이드-2>#</a></h2><h3 id=내용-종합-3>내용 종합<a hidden class=anchor aria-hidden=true href=#내용-종합-3>#</a></h3><p>ER 모델링(엔터티-관계 모델링)은 데이터베이스 설계와 실무의 기초 프레임워크로, 현실 세계의 정보를 엔티티, 속성, 관계로 구조화하고 개념<del>논리</del>물리적 모델까지 자연스럽게 연결한다. 표준 다이어그램과 정규화, 품질관리 기법 등과 결합되어 데이터베이스의 일관성, 확장성, 업무 협업 효율성까지 보장하며, 최근에는 클라우드, 자동화, 데이터 거버넌스 분야로 급속히 확장되고 있다.[1][4][7]</p><h3 id=실무-적용-가이드-3>실무 적용 가이드<a hidden class=anchor aria-hidden=true href=#실무-적용-가이드-3>#</a></h3><ul><li><strong>도입</strong>: 요구사항 분석과 엔티티/관계/속성 도출 → ERD 작성(Chen 등 표준 표기법 활용)</li><li><strong>운영</strong>: 정규화와 제약조건, 데이터 품질 및 무결성 지속 관리, ERD와 물리 스키마 동기화</li><li><strong>확장/통합</strong>: 멀티모델, 빅데이터, DevOps/CI-CD 연계, 시스템 통합 자동화까지 확장</li><li><strong>협업</strong>: 표준화 문서로 협업자와 커뮤니케이션, 운영환경에 맞는 설계 관리</li></ul><h3 id=학습-로드맵-3>학습 로드맵<a hidden class=anchor aria-hidden=true href=#학습-로드맵-3>#</a></h3><ol><li>기초: 엔티티/속성/관계 개념·식별</li><li>핵심: ERD 다이어그램 작성, 정규화 및 제약조건 적용</li><li>응용: 실무 프로젝트 설계~적용, 도구 실습·테이블 마이그레이션</li><li>고급: DevOps/자동화, 멀티모델/AI 확장 적용</li></ol><h3 id=학습-항목-정리-3>학습 항목 정리<a hidden class=anchor aria-hidden=true href=#학습-항목-정리-3>#</a></h3><table><thead><tr><th>카테고리</th><th>Phase</th><th>항목</th><th>중요도</th><th>학습 목표</th><th>실무 연관성</th><th>설명</th></tr></thead><tbody><tr><td>기초</td><td>1</td><td>엔티티/속성/관계</td><td>필수</td><td>구조적 추상화 경험</td><td>높음</td><td>실무 데이터구조 해석 습관</td></tr><tr><td>핵심</td><td>2</td><td>ERD 작성법·표기</td><td>필수</td><td>명확한 시각화 적용</td><td>높음</td><td>팀 협업 (문서·구조 명확화)</td></tr><tr><td>응용</td><td>5</td><td>논리·물리 매핑</td><td>권장</td><td>DB 테이블 설계 경험</td><td>중간</td><td>쿼리/모델 수렴 경험, 튜닝</td></tr><tr><td>고급</td><td>7</td><td>자동화/통합 연동</td><td>선택</td><td>차세대 트렌드 해석</td><td>낮음</td><td>대규모/유지보수 효율 최적화</td></tr></tbody></table><hr><h2 id=용어-정리-3>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-3>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>정의</th><th>관련 개념</th><th>실무 활용</th></tr></thead><tbody><tr><td>핵심</td><td>엔티티</td><td>데이터로 관리할 객체</td><td>속성, 관계</td><td>회원, 계좌, 주문 등</td></tr><tr><td>핵심</td><td>속성</td><td>엔티티의 특성·정보</td><td>엔티티</td><td>이름, 금액 등</td></tr><tr><td>핵심</td><td>관계</td><td>엔티티 간 의미적 연관</td><td>엔티티</td><td>주문-회원, 학생-강좌</td></tr><tr><td>구현</td><td>ERD</td><td>시각적 구조 표현 다이어그램</td><td>ER모델</td><td>설계/협업/문서화</td></tr><tr><td>운영</td><td>정규화</td><td>데이터 중복 최소화 규칙</td><td>테이블설계</td><td>일관성/성능조율</td></tr></tbody></table><hr><h2 id=참고-및-출처-3>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-3>#</a></h2><ul><li>[데이터 모델링 개념 & ERD 다이어그램 작성 총정리 - Inpa Dev][1]</li><li>[ERD 다이어그램 그리는 방법][4]</li><li>[초보 필독: ER 그림으로 데이터 관계도를 쉽게 그릴 수 있음][7]</li></ul><hr><h1 id=er-modeling-종합-조사>ER Modeling 종합 조사<a hidden class=anchor aria-hidden=true href=#er-modeling-종합-조사>#</a></h1><h2 id=1단계-기본-분석-및-검증-1>1단계: 기본 분석 및 검증<a hidden class=anchor aria-hidden=true href=#1단계-기본-분석-및-검증-1>#</a></h2><h3 id=1-주제-유형-식별>1. 주제 유형 식별<a hidden class=anchor aria-hidden=true href=#1-주제-유형-식별>#</a></h3><p><strong>유형</strong>: C형 (아키텍처/패턴형)<br><strong>근거</strong>: ER Modeling은 데이터베이스 설계의 핵심 패턴이자 개념적 모델링 기법으로, 구조와 관계의 설계 원칙을 중심으로 합니다.</p><h3 id=2-복잡도-평가>2. 복잡도 평가<a hidden class=anchor aria-hidden=true href=#2-복잡도-평가>#</a></h3><p><strong>복잡도</strong>: Level 2 (중급)<br><strong>이유</strong>: 기본 개념(엔티티, 속성, 관계)은 명확하지만, 실무에서는 정규화, 복잡한 관계 표현, 물리적 설계로의 변환 등 다양한 고급 기법이 요구됩니다.</p><h3 id=3-대표-태그>3. 대표 태그<a hidden class=anchor aria-hidden=true href=#3-대표-태그>#</a></h3><ul><li><code>Entity-Relationship</code></li><li><code>Conceptual-Modeling</code></li><li><code>Database-Design</code></li><li><code>Data-Architecture</code></li><li><code>Schema-Design</code></li></ul><h3 id=4-분류-체계-검증>4. 분류 체계 검증<a hidden class=anchor aria-hidden=true href=#4-분류-체계-검증>#</a></h3><h4 id=주제-분류-적합성-체크리스트>주제 분류 적합성 체크리스트<a hidden class=anchor aria-hidden=true href=#주제-분류-적합성-체크리스트>#</a></h4><ul><li><input checked disabled type=checkbox> 현재 분류 구조에 해당 위치가 존재하는가?</li><li><input checked disabled type=checkbox> 상위/하위 카테고리 배치가 논리적으로 타당한가?</li><li>[⚠️] 중복, 누락, 경계 모호성이 없는가?</li><li><input checked disabled type=checkbox> 실무자의 검색 및 재사용 관점에서 탐색 가능성이 높은가?</li><li><input checked disabled type=checkbox> 유사 주제들과의 일관성이 확보되는가?</li><li>[⚠️] 크로스 도메인 연결성이 적절히 반영되었는가?</li></ul><h4 id=개선-제안>개선 제안<a hidden class=anchor aria-hidden=true href=#개선-제안>#</a></h4><p><strong>현재 분류</strong>: <code>Data & Database Systems > Data Fundamentals > Data Modeling > Conceptual Modeling</code></p><p><strong>분석 결과</strong>:</p><ol><li><p><strong>적절한 점</strong>: Data Fundamentals 아래 Data Modeling에 위치하는 것은 논리적으로 타당합니다.</p></li><li><p><strong>개선 필요사항</strong>:</p><ul><li><strong>세부 구조 보완</strong>: 현재 구조에서 &ldquo;Data Modeling&rdquo; 아래에 세부 분류가 명시되지 않음</li><li><strong>크로스 도메인 연결 강화</strong>: System Architecture and Design과의 연계 필요</li></ul></li></ol><p><strong>제안하는 개선안</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1> 1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2> 2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3> 3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4> 4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5> 5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6> 6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7> 7</a>
</span><span class=lnt id=hl-4-8><a class=lnlinks href=#hl-4-8> 8</a>
</span><span class=lnt id=hl-4-9><a class=lnlinks href=#hl-4-9> 9</a>
</span><span class=lnt id=hl-4-10><a class=lnlinks href=#hl-4-10>10</a>
</span><span class=lnt id=hl-4-11><a class=lnlinks href=#hl-4-11>11</a>
</span><span class=lnt id=hl-4-12><a class=lnlinks href=#hl-4-12>12</a>
</span><span class=lnt id=hl-4-13><a class=lnlinks href=#hl-4-13>13</a>
</span><span class=lnt id=hl-4-14><a class=lnlinks href=#hl-4-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Data and Database Systems
</span></span><span class=line><span class=cl> └─ Data Fundamentals
</span></span><span class=line><span class=cl>    └─ Data Modeling
</span></span><span class=line><span class=cl>       ├─ Conceptual Modeling
</span></span><span class=line><span class=cl>       │  ├─ ER-Modeling.md ← 현재 위치
</span></span><span class=line><span class=cl>       │  ├─ UML-Class-Diagram.md
</span></span><span class=line><span class=cl>       │  └─ Object-Role-Modeling.md
</span></span><span class=line><span class=cl>       ├─ Logical Modeling
</span></span><span class=line><span class=cl>       │  ├─ Relational-Model.md
</span></span><span class=line><span class=cl>       │  ├─ Normalization.md
</span></span><span class=line><span class=cl>       │  └─ Schema-Design.md
</span></span><span class=line><span class=cl>       └─ Physical Modeling
</span></span><span class=line><span class=cl>          ├─ Indexing-Strategy.md
</span></span><span class=line><span class=cl>          └─ Storage-Optimization.md
</span></span></code></pre></td></tr></table></div></div><p><strong>크로스 도메인 연결</strong>:</p><ul><li><code>System Architecture and Design > Design Fundamentals > Domain Modeling</code> ← ER Modeling을 도메인 모델링에서도 참조</li><li><code>Data Architecture > Database Design Patterns</code> ← ER 패턴의 실무 적용 연결</li></ul><h3 id=5-핵심-요약-250자-이내>5. 핵심 요약 (250자 이내)<a hidden class=anchor aria-hidden=true href=#5-핵심-요약-250자-이내>#</a></h3><p>ER Modeling(Entity-Relationship Modeling, 개체-관계 모델링)은 데이터베이스 설계의 개념적 단계에서 사용하는 대표적인 모델링 기법입니다. 실세계의 데이터를 개체(Entity), 속성(Attribute), 관계(Relationship)로 추상화하여 시각적으로 표현하며, 1976년 Peter Chen이 제안한 이래 데이터베이스 설계의 표준 방법론으로 자리잡았습니다. ERD(Entity-Relationship Diagram)를 통해 비즈니스 요구사항을 기술적 설계로 변환하는 핵심 도구입니다.</p><h3 id=6-전체-개요-600자-이내>6. 전체 개요 (600자 이내)<a hidden class=anchor aria-hidden=true href=#6-전체-개요-600자-이내>#</a></h3><p>ER Modeling은 데이터베이스 설계 프로세스의 첫 단계인 개념적 모델링(Conceptual Modeling)을 수행하는 방법론입니다. 복잡한 실세계의 데이터를 구조화하여 이해관계자들이 쉽게 이해할 수 있는 시각적 다이어그램으로 표현합니다.</p><p><strong>핵심 구성요소</strong>는 세 가지입니다: (1) 개체(Entity) - 독립적으로 존재하는 객체나 개념, (2) 속성(Attribute) - 개체의 특성, (3) 관계(Relationship) - 개체 간의 연관성입니다. 이를 통해 비즈니스 규칙과 데이터 제약사항을 명확히 정의할 수 있습니다.</p><p><strong>학습 방향성</strong>은 다음과 같습니다: 먼저 기본 개념과 표기법을 익히고, 다양한 관계 유형(1:1, 1:N, N:M)과 카디널리티를 이해합니다. 이후 고급 개념인 약한 개체(Weak Entity), 특수화/일반화(Specialization/Generalization), 집합 관계(Aggregation)를 학습합니다. 최종적으로는 ER 모델을 관계형 스키마로 변환하는 매핑 규칙을 마스터하여, 개념적 설계를 논리적/물리적 설계로 발전시킬 수 있어야 합니다.</p><hr><h2 id=2단계-개념-체계화-및-검증-1>2단계: 개념 체계화 및 검증<a hidden class=anchor aria-hidden=true href=#2단계-개념-체계화-및-검증-1>#</a></h2><h3 id=7-핵심-개념-정리>7. 핵심 개념 정리<a hidden class=anchor aria-hidden=true href=#7-핵심-개념-정리>#</a></h3><p>ER Modeling의 핵심 개념들은 다음과 같이 계층적으로 구조화됩니다:</p><pre class=mermaid>graph TB
    A[ER Modeling] --&gt; B[개체 Entity]
    A --&gt; C[속성 Attribute]
    A --&gt; D[관계 Relationship]
    
    B --&gt; B1[강한 개체 Strong Entity]
    B --&gt; B2[약한 개체 Weak Entity]
    
    C --&gt; C1[단순 속성 Simple]
    C --&gt; C2[복합 속성 Composite]
    C --&gt; C3[다중값 속성 Multi-valued]
    C --&gt; C4[유도 속성 Derived]
    C --&gt; C5[키 속성 Key]
    
    D --&gt; D1[카디널리티 Cardinality]
    D --&gt; D2[참여 제약 Participation]
    D --&gt; D3[관계 차수 Degree]
    
    D1 --&gt; D11[1:1 일대일]
    D1 --&gt; D12[1:N 일대다]
    D1 --&gt; D13[N:M 다대다]
    
    D2 --&gt; D21[전체 참여 Total]
    D2 --&gt; D22[부분 참여 Partial]
    
    style A fill:#e1f5fe
    style B fill:#fff3e0
    style C fill:#f3e5f5
    style D fill:#e8f5e9
</pre><p><strong>개념 간 상호관계</strong>:</p><ol><li><p><strong>개체 ↔ 속성</strong>: 개체는 속성들의 집합으로 정의되며, 키 속성을 통해 고유하게 식별됩니다.</p></li><li><p><strong>개체 ↔ 관계</strong>: 두 개 이상의 개체는 관계를 통해 연결되며, 관계도 속성을 가질 수 있습니다.</p></li><li><p><strong>강한 개체 ↔ 약한 개체</strong>: 약한 개체는 식별을 위해 강한 개체(소유자 개체, Owner Entity)에 의존합니다.</p></li><li><p><strong>카디널리티 ↔ 참여 제약</strong>: 카디널리티는 관계의 수적 제약을, 참여 제약은 필수성을 나타냅니다.</p></li><li><p><strong>복합 속성 ↔ 정규화</strong>: 복합 속성은 논리적 설계 단계에서 정규화를 통해 분해됩니다.</p></li></ol><h3 id=8-실무-연관성-분석>8. 실무 연관성 분석<a hidden class=anchor aria-hidden=true href=#8-실무-연관성-분석>#</a></h3><h4 id=81-개체entity의-실무-연관성>8.1 개체(Entity)의 실무 연관성<a hidden class=anchor aria-hidden=true href=#81-개체entity의-실무-연관성>#</a></h4><p><strong>무엇이</strong>: 비즈니스 도메인의 핵심 객체(고객, 주문, 제품 등)</p><p><strong>어떻게</strong>:</p><ul><li>요구사항 분석 시 명사 추출을 통해 개체 후보 식별</li><li>비즈니스 규칙에 따라 개체의 독립성 판단</li><li>데이터베이스 테이블로 변환되는 기본 단위</li></ul><p><strong>왜 중요한가</strong>:</p><ul><li>잘못된 개체 식별은 전체 데이터베이스 구조의 결함으로 이어짐</li><li>개체 분석이 비즈니스 이해도를 반영하는 지표</li><li>확장성과 유지보수성의 기반</li></ul><p><strong>실무 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1>1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2>2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3>3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>전자상거래 시스템:
</span></span><span class=line><span class=cl>- 개체: Customer(고객), Product(제품), Order(주문), Payment(결제)
</span></span><span class=line><span class=cl>- 각 개체는 독립적으로 존재하며 고유 식별자 보유
</span></span><span class=line><span class=cl>- Customer와 Order는 1:N 관계로 연결
</span></span></code></pre></td></tr></table></div></div><h4 id=82-속성attribute의-실무-연관성>8.2 속성(Attribute)의 실무 연관성<a hidden class=anchor aria-hidden=true href=#82-속성attribute의-실무-연관성>#</a></h4><p><strong>무엇이</strong>: 개체의 특성과 상세 정보(이름, 가격, 날짜 등)</p><p><strong>어떻게</strong>:</p><ul><li>개체의 특징을 나타내는 데이터 항목 정의</li><li>데이터 타입과 제약조건 명시</li><li>키 속성을 통한 개체 식별</li></ul><p><strong>왜 중요한가</strong>:</p><ul><li>속성 설계가 데이터 품질과 무결성을 결정</li><li>정규화의 대상이 되는 기본 단위</li><li>인덱스 전략과 쿼리 성능에 직접 영향</li></ul><p><strong>실무 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2>2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3>3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4>4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Product 개체의 속성:
</span></span><span class=line><span class=cl>- 단순 속성: product_id, product_name, price
</span></span><span class=line><span class=cl>- 복합 속성: address (street, city, zipcode로 분해 가능)
</span></span><span class=line><span class=cl>- 다중값 속성: tags (하나의 제품이 여러 태그 보유)
</span></span><span class=line><span class=cl>- 유도 속성: total_sales (주문 데이터로부터 계산)
</span></span></code></pre></td></tr></table></div></div><h4 id=83-관계relationship의-실무-연관성>8.3 관계(Relationship)의 실무 연관성<a hidden class=anchor aria-hidden=true href=#83-관계relationship의-실무-연관성>#</a></h4><p><strong>무엇이</strong>: 개체 간의 비즈니스 연관성(구매, 소속, 배송 등)</p><p><strong>어떻게</strong>:</p><ul><li>비즈니스 프로세스 분석을 통해 관계 도출</li><li>카디널리티와 참여 제약 정의</li><li>관계형 데이터베이스의 외래 키(Foreign Key) 또는 조인 테이블로 구현</li></ul><p><strong>왜 중요한가</strong>:</p><ul><li>관계 설계가 조인 성능과 데이터 일관성을 좌우</li><li>비즈니스 규칙의 구조적 표현</li><li>데이터 중복과 이상(Anomaly) 방지의 핵심</li></ul><p><strong>실무 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span><span class=lnt id=hl-8-11><a class=lnlinks href=#hl-8-11>11</a>
</span><span class=lnt id=hl-8-12><a class=lnlinks href=#hl-8-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>전자상거래 관계 설계:
</span></span><span class=line><span class=cl>1. Customer &#34;places&#34; Order (1:N)
</span></span><span class=line><span class=cl>   - 한 고객이 여러 주문 가능
</span></span><span class=line><span class=cl>   - 외래 키로 구현: Order.customer_id
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>2. Order &#34;contains&#34; Product (N:M)
</span></span><span class=line><span class=cl>   - 한 주문에 여러 제품, 한 제품이 여러 주문에 포함
</span></span><span class=line><span class=cl>   - 조인 테이블 구현: OrderItem(order_id, product_id, quantity)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>3. Order &#34;processed_by&#34; Payment (1:1)
</span></span><span class=line><span class=cl>   - 한 주문에 하나의 결제
</span></span><span class=line><span class=cl>   - 외래 키 + UNIQUE 제약조건
</span></span></code></pre></td></tr></table></div></div><h4 id=84-카디널리티cardinality의-실무-연관성>8.4 카디널리티(Cardinality)의 실무 연관성<a hidden class=anchor aria-hidden=true href=#84-카디널리티cardinality의-실무-연관성>#</a></h4><p><strong>무엇이</strong>: 관계에 참여하는 개체 인스턴스의 수적 제약</p><p><strong>어떻게</strong>:</p><ul><li>비즈니스 규칙을 수치적으로 표현</li><li>최소/최대 카디널리티 명시 (Min, Max)</li><li>데이터베이스 제약조건으로 구현</li></ul><p><strong>왜 중요한가</strong>:</p><ul><li>데이터 무결성 규칙의 명확한 정의</li><li>성능 최적화 전략 수립의 기준</li><li>애플리케이션 로직 설계의 기반</li></ul><p><strong>실무 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1>1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2>2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3>3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4>4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5>5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6>6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7>7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>카디널리티 분석:
</span></span><span class=line><span class=cl>1. Department - Employee (1:N)
</span></span><span class=line><span class=cl>   - (1, 1) - (0, N): 부서는 필수, 직원은 0명 이상
</span></span><span class=line><span class=cl>   - 의미: 부서는 반드시 존재하며, 직원이 없을 수도 있음
</span></span><span class=line><span class=cl>   
</span></span><span class=line><span class=cl>2. Student - Course (N:M)
</span></span><span class=line><span class=cl>   - (1, N) - (1, N): 학생은 최소 1개 과목, 과목은 최소 1명 학생
</span></span><span class=line><span class=cl>   - 의미: 등록되지 않은 학생이나 수강생 없는 과목은 불가
</span></span></code></pre></td></tr></table></div></div><h4 id=85-약한-개체weak-entity의-실무-연관성>8.5 약한 개체(Weak Entity)의 실무 연관성<a hidden class=anchor aria-hidden=true href=#85-약한-개체weak-entity의-실무-연관성>#</a></h4><p><strong>무엇이</strong>: 독립적으로 식별될 수 없어 다른 개체에 의존하는 개체</p><p><strong>어떻게</strong>:</p><ul><li>소유자 개체(Owner Entity)와 식별 관계(Identifying Relationship) 정의</li><li>부분 키(Partial Key)와 소유자의 키를 결합하여 완전 키 구성</li><li>CASCADE 삭제 정책 적용</li></ul><p><strong>왜 중요한가</strong>:</p><ul><li>계층적 데이터 구조의 효과적 표현</li><li>데이터 일관성과 참조 무결성 보장</li><li>복합 비즈니스 규칙의 구조적 구현</li></ul><p><strong>실무 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1> 1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2> 2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3> 3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4> 4</a>
</span><span class=lnt id=hl-10-5><a class=lnlinks href=#hl-10-5> 5</a>
</span><span class=lnt id=hl-10-6><a class=lnlinks href=#hl-10-6> 6</a>
</span><span class=lnt id=hl-10-7><a class=lnlinks href=#hl-10-7> 7</a>
</span><span class=lnt id=hl-10-8><a class=lnlinks href=#hl-10-8> 8</a>
</span><span class=lnt id=hl-10-9><a class=lnlinks href=#hl-10-9> 9</a>
</span><span class=lnt id=hl-10-10><a class=lnlinks href=#hl-10-10>10</a>
</span><span class=lnt id=hl-10-11><a class=lnlinks href=#hl-10-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>주문-주문항목 관계:
</span></span><span class=line><span class=cl>- Order (강한 개체): order_id (PK)
</span></span><span class=line><span class=cl>- OrderItem (약한 개체): 
</span></span><span class=line><span class=cl>  - 부분 키: item_sequence
</span></span><span class=line><span class=cl>  - 완전 키: (order_id, item_sequence)
</span></span><span class=line><span class=cl>  - Order 삭제 시 OrderItem도 자동 삭제 (CASCADE)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>실무 가치:
</span></span><span class=line><span class=cl>- 주문 없이 주문항목 존재 불가 (비즈니스 규칙 강제)
</span></span><span class=line><span class=cl>- 데이터 일관성 자동 유지
</span></span><span class=line><span class=cl>- 복잡한 애플리케이션 로직 불필요
</span></span></code></pre></td></tr></table></div></div><hr><p>이제 Phase별 상세 조사를 시작하겠습니다. 각 Phase를 조사-검증 및 분석-보완-재정리 사이클로 진행하겠습니다.</p><h2 id=3단계-phase별-상세-조사-및-검증>3단계: Phase별 상세 조사 및 검증<a hidden class=anchor aria-hidden=true href=#3단계-phase별-상세-조사-및-검증>#</a></h2><h3 id=phase-1-기초-조사-및-개념-정립>Phase 1: 기초 조사 및 개념 정립<a hidden class=anchor aria-hidden=true href=#phase-1-기초-조사-및-개념-정립>#</a></h3><h4 id=11-개념-정의-및-본질적-이해>1.1 개념 정의 및 본질적 이해<a hidden class=anchor aria-hidden=true href=#11-개념-정의-및-본질적-이해>#</a></h4><p>**ER Modeling(Entity-Relationship Modeling, 개체-관계 모델링)**은 현실 세계의 데이터를 데이터베이스에 저장하기 위해 개체(Entity), 속성(Attribute), 관계(Relationship)라는 세 가지 핵심 구성요소로 추상화하여 표현하는 개념적 데이터 모델링 기법입니다.</p><p><strong>본질적 특성</strong>:</p><ol><li><strong>추상화 메커니즘</strong>: 복잡한 현실 세계를 단순화된 구조로 변환</li><li><strong>시각적 의사소통</strong>: ERD(Entity-Relationship Diagram)를 통한 이해관계자 간 공통 언어 제공</li><li><strong>계층적 설계 접근</strong>: 개념적 → 논리적 → 물리적 설계의 시작점</li><li><strong>기술 중립성</strong>: 특정 DBMS(Database Management System)에 독립적인 설계</li></ol><p><strong>핵심 정의</strong>:</p><ul><li><strong>개체(Entity)</strong>: 독립적으로 존재하며 다른 객체와 구별 가능한 사물이나 개념</li><li><strong>속성(Attribute)</strong>: 개체의 특성이나 성질을 나타내는 데이터 항목</li><li><strong>관계(Relationship)</strong>: 두 개 이상의 개체 간의 연관성이나 상호작용</li></ul><h4 id=12-등장-배경-및-발전-과정>1.2 등장 배경 및 발전 과정<a hidden class=anchor aria-hidden=true href=#12-등장-배경-및-발전-과정>#</a></h4><p><strong>등장 배경</strong>:</p><p>1970년대 초, 관계형 데이터베이스가 등장했지만 비즈니스 요구사항을 직접 관계형 스키마로 변환하는 것은 복잡하고 오류가 발생하기 쉬웠습니다. 기술자와 비기술자 간의 의사소통 간극이 컸고, 데이터베이스 설계의 체계적인 방법론이 부재했습니다.</p><p><strong>발전 과정</strong>:</p><pre class=mermaid>timeline
    title ER Modeling 발전 역사
    1976 : Peter Chen이 ER Model 제안
         : 개체, 속성, 관계의 기본 개념 정립
    1980s : Chen 표기법 표준화
          : 약한 개체, 특수화/일반화 개념 추가
    1980s : 다양한 표기법 등장
          : Crow&#39;s Foot, IE(Information Engineering) 표기법
    1990s : EER(Enhanced ER) Model 발전
          : 상속, 집합, 제약조건 강화
    2000s : UML과의 통합
          : Class Diagram과의 연계
    2010s~ : 도구 자동화 및 역공학
           : NoSQL 환경으로의 확장
</pre><p><strong>해결하고자 한 문제</strong>:</p><ol><li><strong>의사소통 격차</strong>: 비즈니스 전문가와 기술 개발자 간의 언어 차이</li><li><strong>설계 복잡성</strong>: 관계형 스키마의 직접 설계 어려움</li><li><strong>문서화 부재</strong>: 데이터베이스 구조의 체계적 문서화 방법 부족</li><li><strong>변경 관리</strong>: 요구사항 변경 시 영향도 분석의 어려움</li></ol><p><strong>개선한 점</strong>:</p><ol><li><strong>직관적 표현</strong>: 시각적 다이어그램으로 복잡한 구조 단순화</li><li><strong>단계적 접근</strong>: 개념적 설계 → 논리적 설계로의 체계적 변환</li><li><strong>비즈니스 규칙 반영</strong>: 카디널리티와 제약조건을 통한 규칙 명시</li><li><strong>유지보수성 향상</strong>: 명확한 문서화로 변경 영향도 파악 용이</li></ol><h4 id=13-해결하는-문제-및-핵심-목적>1.3 해결하는 문제 및 핵심 목적<a hidden class=anchor aria-hidden=true href=#13-해결하는-문제-및-핵심-목적>#</a></h4><p><strong>해결하는 핵심 문제</strong>:</p><table><thead><tr><th>문제 영역</th><th>구체적 문제</th><th>ER Modeling 해결 방안</th><th>실무적 가치</th></tr></thead><tbody><tr><td>요구사항 분석</td><td>비즈니스 요구사항의 모호성</td><td>개체와 관계로 명확한 구조화</td><td>요구사항 누락 방지, 이해관계자 합의 도출</td></tr><tr><td>설계 복잡도</td><td>대규모 데이터베이스 설계의 어려움</td><td>계층적, 모듈화된 설계 접근</td><td>설계 시간 단축, 오류 감소</td></tr><tr><td>의사소통</td><td>기술-비기술 간 소통 장벽</td><td>시각적, 직관적 다이어그램</td><td>프로젝트 이해도 향상, 피드백 주기 단축</td></tr><tr><td>데이터 무결성</td><td>불명확한 제약조건</td><td>명시적 카디널리티와 참여 제약</td><td>데이터 품질 향상, 이상 현상 방지</td></tr><tr><td>변경 관리</td><td>요구사항 변경 시 영향도 파악 곤란</td><td>독립적 개체 설계와 관계 분리</td><td>유지보수 비용 절감, 민첩한 대응</td></tr><tr><td>문서화</td><td>데이터베이스 구조 문서 부족</td><td>표준화된 ERD 표기법</td><td>지식 전달 용이, 온보딩 시간 단축</td></tr></tbody></table><p><strong>핵심 목적</strong>:</p><ol><li><p><strong>비즈니스 모델링</strong>:</p><ul><li>실세계 비즈니스 규칙을 데이터 구조로 변환</li><li>도메인 전문가의 지식을 데이터베이스 설계에 반영</li></ul></li><li><p><strong>설계 품질 보증</strong>:</p><ul><li>정규화 전 단계에서 중복과 이상 현상 사전 감지</li><li>데이터 무결성 제약조건의 명확한 정의</li></ul></li><li><p><strong>커뮤니케이션 도구</strong>:</p><ul><li>프로젝트 이해관계자 간 공통 언어 제공</li><li>요구사항 검증과 피드백 수집의 효과적 수단</li></ul></li><li><p><strong>설계 문서화</strong>:</p><ul><li>데이터베이스 구조의 영구적 기록</li><li>유지보수와 확장을 위한 참조 자료</li></ul></li></ol><h4 id=14-전제-조건-및-요구사항>1.4 전제 조건 및 요구사항<a hidden class=anchor aria-hidden=true href=#14-전제-조건-및-요구사항>#</a></h4><p><strong>기술적 전제 조건</strong>:</p><ol><li><p><strong>도메인 지식</strong>:</p><ul><li>모델링 대상 비즈니스 영역에 대한 깊은 이해</li><li>비즈니스 프로세스와 규칙의 명확한 파악</li></ul></li><li><p><strong>기본 데이터베이스 개념</strong>:</p><ul><li>테이블, 행, 열의 개념 이해</li><li>기본키(Primary Key)와 외래키(Foreign Key) 개념</li></ul></li><li><p><strong>추상화 능력</strong>:</p><ul><li>현실 세계를 개념적으로 단순화하는 능력</li><li>본질적 특성과 부가적 속성 구별 능력</li></ul></li></ol><p><strong>환경적 요구사항</strong>:</p><ol><li><p><strong>이해관계자 참여</strong>:</p><ul><li>비즈니스 전문가의 적극적 협력</li><li>정기적인 리뷰와 피드백 세션</li></ul></li><li><p><strong>모델링 도구</strong>:</p><ul><li>ERD 작성 도구 (ERwin, PowerDesigner, Lucidchart, draw.io 등)</li><li>협업 및 버전 관리 시스템</li></ul></li><li><p><strong>표준 및 규약</strong>:</p><ul><li>조직 내 표기법 통일 (Chen, Crow&rsquo;s Foot, IE 중 선택)</li><li>명명 규칙(Naming Convention) 정립</li></ul></li></ol><p><strong>프로세스 요구사항</strong>:</p><ol><li><p><strong>반복적 접근</strong>:</p><ul><li>초기 모델 작성 → 검토 → 수정의 반복 사이클</li><li>점진적 정제(Refinement) 과정</li></ul></li><li><p><strong>검증 메커니즘</strong>:</p><ul><li>비즈니스 시나리오 기반 모델 검증</li><li>정규화 규칙 준수 여부 확인</li></ul></li><li><p><strong>매핑 전략</strong>:</p><ul><li>ER 모델을 관계형 스키마로 변환하는 명확한 규칙</li><li>논리적/물리적 설계로의 전환 계획</li></ul></li></ol><h4 id=15-핵심-특징>1.5 핵심 특징<a hidden class=anchor aria-hidden=true href=#15-핵심-특징>#</a></h4><table><thead><tr><th>특징</th><th>상세 설명</th><th>기술 근거</th><th>다른 기술과의 차별점</th></tr></thead><tbody><tr><td>개념적 추상화</td><td>구현 세부사항을 배제하고 비즈니스 개념에 집중</td><td>개체-관계 중심의 모델링으로 기술적 복잡도 분리</td><td>UML은 객체지향 구현 중심, ER은 순수 데이터 구조 중심</td></tr><tr><td>시각적 표현</td><td>그래픽 다이어그램을 통한 직관적 의사소통</td><td>표준화된 기호 체계(사각형, 마름모, 타원 등)</td><td>텍스트 기반 스키마 정의(DDL)보다 이해 용이</td></tr><tr><td>관계 중심 설계</td><td>개체 간 연관성을 명시적으로 표현</td><td>카디널리티와 참여 제약을 통한 관계 정의</td><td>계층형/네트워크형 모델은 관계 표현 제한적</td></tr><tr><td>DBMS 독립성</td><td>특정 데이터베이스 시스템에 종속되지 않음</td><td>개념적 수준의 모델링으로 물리적 구현 분리</td><td>특정 DBMS 문법(Oracle, MySQL)과 독립적</td></tr><tr><td>정규화 기반</td><td>데이터 중복 최소화와 무결성 보장</td><td>개체와 관계의 명확한 분리로 정규화 용이</td><td>NoSQL 모델은 의도적 비정규화 허용</td></tr><tr><td>확장 가능성</td><td>EER(Enhanced ER)로 고급 개념 지원</td><td>상속, 특수화/일반화, 집합 등의 추가 개념</td><td>기본 ER 모델의 표현력 한계 극복</td></tr><tr><td>변환 가능성</td><td>관계형 스키마로의 체계적 매핑 규칙</td><td>명확한 변환 알고리즘 존재 (개체→테이블, 관계→외래키 등)</td><td>직접 스키마 설계보다 오류 가능성 낮음</td></tr></tbody></table><p><strong>차별화 요소</strong>:</p><ol><li><p><strong>데이터 중심 vs 프로세스 중심</strong>:</p><ul><li>ER Modeling: 데이터 구조와 관계에 집중</li><li>DFD(Data Flow Diagram): 데이터 흐름과 프로세스에 집중</li></ul></li><li><p><strong>개념적 vs 논리적</strong>:</p><ul><li>ER Modeling: 개념적 수준의 높은 추상화</li><li>Relational Schema: 논리적 구현 수준의 상세 설계</li></ul></li><li><p><strong>정적 구조 vs 동적 행위</strong>:</p><ul><li>ER Modeling: 정적인 데이터 구조 표현</li><li>Sequence Diagram: 동적인 객체 상호작용 표현</li></ul></li></ol><h4 id=16-설계-동기-및-품질-속성-c형-특화>1.6 설계 동기 및 품질 속성 (C형 특화)<a hidden class=anchor aria-hidden=true href=#16-설계-동기-및-품질-속성-c형-특화>#</a></h4><p><strong>설계 동기</strong>:</p><ol><li><p><strong>복잡도 관리</strong>:</p><ul><li>대규모 데이터베이스 설계의 체계적 접근 필요</li><li>계층적 분해(Hierarchical Decomposition)를 통한 복잡도 완화</li></ul></li><li><p><strong>재사용성 확보</strong>:</p><ul><li>공통 개체와 관계 패턴의 식별</li><li>도메인 모델의 재활용 가능한 구성요소 정의</li></ul></li><li><p><strong>품질 보증</strong>:</p><ul><li>설계 초기 단계에서의 오류 발견</li><li>비용이 적게 드는 시점에서의 수정</li></ul></li></ol><p><strong>품질 속성(Quality Attributes)</strong>:</p><table><thead><tr><th>품질 속성</th><th>정의</th><th>ER Modeling 지원 방식</th><th>측정 지표</th></tr></thead><tbody><tr><td>완전성(Completeness)</td><td>모든 비즈니스 요구사항 반영</td><td>개체와 관계의 체계적 도출</td><td>요구사항 커버리지 비율</td></tr><tr><td>정확성(Correctness)</td><td>비즈니스 규칙의 올바른 표현</td><td>제약조건과 카디널리티 명시</td><td>비즈니스 규칙 검증 통과율</td></tr><tr><td>일관성(Consistency)</td><td>모순 없는 모델 구조</td><td>정규화 규칙 적용</td><td>정규화 위반 개수</td></tr><tr><td>이해 가능성(Understandability)</td><td>이해관계자의 쉬운 이해</td><td>시각적 다이어그램 표현</td><td>리뷰 피드백 품질</td></tr><tr><td>유지보수성(Maintainability)</td><td>변경 용이성</td><td>독립적 개체 설계, 느슨한 결합</td><td>변경 영향도 범위</td></tr><tr><td>확장성(Scalability)</td><td>새로운 요구사항 수용</td><td>모듈화된 개체 구조</td><td>확장 시 수정 비용</td></tr><tr><td>추적 가능성(Traceability)</td><td>요구사항과 설계 간 연결</td><td>명명 규칙과 문서화</td><td>요구사항-개체 매핑률</td></tr></tbody></table><p><strong>품질 속성 간 트레이드오프</strong>:</p><pre class=mermaid>graph LR
    A[완전성] --&gt;|증가| B[복잡도 증가]
    C[정규화] --&gt;|강화| D[조인 비용 증가]
    E[유연성] --&gt;|높음| F[성능 저하]
    G[추상화] --&gt;|높음| H[구현 거리 증가]
    
    style A fill:#c8e6c9
    style C fill:#c8e6c9
    style B fill:#ffcdd2
    style D fill:#ffcdd2
</pre><hr><h3 id=phase-2-핵심-원리-및-이론적-기반>Phase 2: 핵심 원리 및 이론적 기반<a hidden class=anchor aria-hidden=true href=#phase-2-핵심-원리-및-이론적-기반>#</a></h3><h4 id=21-핵심-원칙-및-설계-철학>2.1 핵심 원칙 및 설계 철학<a hidden class=anchor aria-hidden=true href=#21-핵심-원칙-및-설계-철학>#</a></h4><p><strong>ER Modeling의 5대 설계 원칙</strong>:</p><ol><li><p><strong>추상화 원칙(Abstraction Principle)</strong>:</p><ul><li>비본질적 세부사항을 제거하고 핵심 개념에 집중</li><li>&ldquo;무엇(What)&ldquo;에 집중하고 &ldquo;어떻게(How)&ldquo;는 이후 단계로 연기</li></ul></li><li><p><strong>분류 원칙(Classification Principle)</strong>:</p><ul><li>유사한 특성을 가진 인스턴스를 개체 타입으로 그룹화</li><li>개체 집합(Entity Set)을 통한 일반화</li></ul></li><li><p><strong>집합 원칙(Aggregation Principle)</strong>:</p><ul><li>복잡한 개체를 더 단순한 구성 요소로 분해</li><li>복합 속성과 다중값 속성을 통한 계층적 구조 표현</li></ul></li><li><p><strong>일반화 원칙(Generalization Principle)</strong>:</p><ul><li>공통 특성을 상위 개체로 추출</li><li>특수화/일반화(Specialization/Generalization)를 통한 상속 구조</li></ul></li><li><p><strong>연관 원칙(Association Principle)</strong>:</p><ul><li>개체 간의 의미 있는 연관성 명시</li><li>관계를 통한 비즈니스 규칙 표현</li></ul></li></ol><p><strong>설계 철학</strong>:</p><pre class=mermaid>mindmap
  root((ER Modeling&lt;br/&gt;설계 철학))
    개념 중심
      비즈니스 용어 사용
      기술 세부사항 배제
      이해관계자 중심
    단순성 추구
      최소 개체 수
      명확한 관계
      직관적 구조
    무결성 보장
      명시적 제약조건
      정규화 기반
      일관성 유지
    진화 가능성
      변경 수용
      확장 용이
      단계적 정제
</pre><p><strong>핵심 설계 가이드라인</strong>:</p><table><thead><tr><th>가이드라인</th><th>설명</th><th>적용 방법</th><th>예시</th></tr></thead><tbody><tr><td>명확한 명명</td><td>비즈니스 용어를 그대로 사용</td><td>약어 지양, 완전한 단어 사용</td><td>Customer (O), Cust (X)</td></tr><tr><td>독립성 유지</td><td>개체는 독립적으로 존재 가능</td><td>식별 가능한 고유 속성 보유</td><td>Order는 Customer 없이도 식별 가능해야 함</td></tr><tr><td>관계 명확화</td><td>관계명은 동사 형태 사용</td><td>읽었을 때 자연스러운 문장</td><td>Customer &ldquo;places&rdquo; Order</td></tr><tr><td>속성 원자성</td><td>속성은 더 이상 분해 불가능</td><td>복합 속성 분해</td><td>Address → Street, City, Zip</td></tr><tr><td>중복 제거</td><td>동일 정보의 반복 저장 방지</td><td>정규화 적용</td><td>고객명은 Customer에만 저장</td></tr></tbody></table><h4 id=22-기본-동작-원리-및-메커니즘>2.2 기본 동작 원리 및 메커니즘<a hidden class=anchor aria-hidden=true href=#22-기본-동작-원리-및-메커니즘>#</a></h4><p><strong>ER Modeling 프로세스 메커니즘</strong>:</p><pre class=mermaid>graph TB
    Start[비즈니스 요구사항] --&gt; A[개체 식별]
    A --&gt; B[속성 정의]
    B --&gt; C[관계 도출]
    C --&gt; D[카디널리티 결정]
    D --&gt; E[제약조건 명시]
    E --&gt; F{검증}
    F --&gt;|불완전| A
    F --&gt;|완료| G[ERD 완성]
    G --&gt; H[관계형 스키마 매핑]
    
    style Start fill:#e1f5fe
    style G fill:#c8e6c9
    style H fill:#fff9c4
</pre><p><strong>단계별 동작 원리</strong>:</p><ol><li><p><strong>개체 식별(Entity Identification)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1>1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2>2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3>3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4>4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5>5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>입력: 요구사항 문서, 비즈니스 규칙
</span></span><span class=line><span class=cl>처리: 
</span></span><span class=line><span class=cl>- 명사 추출 → 개체 후보 목록 생성
</span></span><span class=line><span class=cl>- 독립성 평가 → 개체 vs 속성 판단
</span></span><span class=line><span class=cl>- 중복 제거 → 동의어 통합
</span></span><span class=line><span class=cl>출력: 개체 목록 + 설명
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>속성 정의(Attribute Definition)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1>1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2>2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3>3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4>4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5>5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>입력: 개체 목록
</span></span><span class=line><span class=cl>처리:
</span></span><span class=line><span class=cl>- 각 개체의 특성 나열
</span></span><span class=line><span class=cl>- 속성 유형 분류 (단순/복합/다중값/유도)
</span></span><span class=line><span class=cl>- 키 속성 선정 (기본키 후보)
</span></span><span class=line><span class=cl>출력: 개체-속성 매트릭스
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>관계 도출(Relationship Derivation)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1>1</a>
</span><span class=lnt id=hl-17-2><a class=lnlinks href=#hl-17-2>2</a>
</span><span class=lnt id=hl-17-3><a class=lnlinks href=#hl-17-3>3</a>
</span><span class=lnt id=hl-17-4><a class=lnlinks href=#hl-17-4>4</a>
</span><span class=lnt id=hl-17-5><a class=lnlinks href=#hl-17-5>5</a>
</span><span class=lnt id=hl-17-6><a class=lnlinks href=#hl-17-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>입력: 개체 목록, 비즈니스 프로세스
</span></span><span class=line><span class=cl>처리:
</span></span><span class=line><span class=cl>- 개체 간 동사 추출 → 관계 후보
</span></span><span class=line><span class=cl>- 관계 차수 결정 (Binary, Ternary 등)
</span></span><span class=line><span class=cl>- 관계 속성 식별
</span></span><span class=line><span class=cl>출력: 관계 목록 + 참여 개체
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>카디널리티 결정(Cardinality Determination)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1>1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2>2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3>3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4>4</a>
</span><span class=lnt id=hl-18-5><a class=lnlinks href=#hl-18-5>5</a>
</span><span class=lnt id=hl-18-6><a class=lnlinks href=#hl-18-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>입력: 관계 목록
</span></span><span class=line><span class=cl>처리:
</span></span><span class=line><span class=cl>- 비즈니스 규칙 분석
</span></span><span class=line><span class=cl>- 최소/최대 값 결정
</span></span><span class=line><span class=cl>- 1:1, 1:N, N:M 분류
</span></span><span class=line><span class=cl>출력: 카디널리티 명세
</span></span></code></pre></td></tr></table></div></div></li></ol><p><strong>핵심 메커니즘 예시</strong>:</p><pre class=mermaid>erDiagram
    CUSTOMER ||--o{ ORDER : places
    CUSTOMER {
        int customer_id PK
        string name
        string email
        string phone
    }
    ORDER {
        int order_id PK
        int customer_id FK
        date order_date
        decimal total_amount
    }
    ORDER ||--|{ ORDER_ITEM : contains
    ORDER_ITEM {
        int order_id PK_FK
        int item_seq PK
        int product_id FK
        int quantity
        decimal price
    }
    PRODUCT ||--o{ ORDER_ITEM : ordered_in
    PRODUCT {
        int product_id PK
        string name
        decimal price
        int stock
    }
</pre><p><strong>동작 원리 설명</strong>:</p><ul><li><strong>Customer places Order</strong>: 한 고객(1)이 여러 주문(N)을 할 수 있음</li><li><strong>Order contains OrderItem</strong>: 한 주문에 여러 항목(약한 개체)이 포함</li><li><strong>Product ordered_in OrderItem</strong>: 한 제품이 여러 주문항목에 나타날 수 있음</li></ul><h4 id=23-데이터-및-제어-흐름>2.3 데이터 및 제어 흐름<a hidden class=anchor aria-hidden=true href=#23-데이터-및-제어-흐름>#</a></h4><p><strong>데이터 생명주기(Data Lifecycle)</strong>:</p><pre class=mermaid>stateDiagram-v2
    [*] --&gt; 요구사항_수집
    요구사항_수집 --&gt; 개념적_모델링: ER Modeling
    개념적_모델링 --&gt; 논리적_모델링: 관계형 스키마 변환
    논리적_모델링 --&gt; 물리적_모델링: DDL 생성
    물리적_모델링 --&gt; 구현: 데이터베이스 생성
    구현 --&gt; 운영: 데이터 저장/조회
    운영 --&gt; 유지보수: 스키마 변경
    유지보수 --&gt; 개념적_모델링: 요구사항 변경 시
</pre><p><strong>제어 흐름(Control Flow)</strong>:</p><ol><li><p><strong>Top-Down 접근</strong> (개념 → 세부):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1>1</a>
</span><span class=lnt id=hl-21-2><a class=lnlinks href=#hl-21-2>2</a>
</span><span class=lnt id=hl-21-3><a class=lnlinks href=#hl-21-3>3</a>
</span><span class=lnt id=hl-21-4><a class=lnlinks href=#hl-21-4>4</a>
</span><span class=lnt id=hl-21-5><a class=lnlinks href=#hl-21-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>2. 전체 비즈니스 도메인 파악
</span></span><span class=line><span class=cl>3. 주요 개체 식별
</span></span><span class=line><span class=cl>4. 개체 간 관계 정의
</span></span><span class=line><span class=cl>5. 속성 상세화
</span></span><span class=line><span class=cl>6. 제약조건 추가
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>Bottom-Up 접근</strong> (세부 → 개념):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1>1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2>2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3>3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4>4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>8. 개별 데이터 항목 수집
</span></span><span class=line><span class=cl>9. 속성으로 그룹화
</span></span><span class=line><span class=cl>10. 개체로 통합
</span></span><span class=line><span class=cl>11. 개체 간 관계 발견
</span></span><span class=line><span class=cl>12. 전체 모델 구성
</span></span></code></pre></td></tr></table></div></div></li></ol><p><strong>데이터 흐름 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1> 1</a>
</span><span class=lnt id=hl-23-2><a class=lnlinks href=#hl-23-2> 2</a>
</span><span class=lnt id=hl-23-3><a class=lnlinks href=#hl-23-3> 3</a>
</span><span class=lnt id=hl-23-4><a class=lnlinks href=#hl-23-4> 4</a>
</span><span class=lnt id=hl-23-5><a class=lnlinks href=#hl-23-5> 5</a>
</span><span class=lnt id=hl-23-6><a class=lnlinks href=#hl-23-6> 6</a>
</span><span class=lnt id=hl-23-7><a class=lnlinks href=#hl-23-7> 7</a>
</span><span class=lnt id=hl-23-8><a class=lnlinks href=#hl-23-8> 8</a>
</span><span class=lnt id=hl-23-9><a class=lnlinks href=#hl-23-9> 9</a>
</span><span class=lnt id=hl-23-10><a class=lnlinks href=#hl-23-10>10</a>
</span><span class=lnt id=hl-23-11><a class=lnlinks href=#hl-23-11>11</a>
</span><span class=lnt id=hl-23-12><a class=lnlinks href=#hl-23-12>12</a>
</span><span class=lnt id=hl-23-13><a class=lnlinks href=#hl-23-13>13</a>
</span><span class=lnt id=hl-23-14><a class=lnlinks href=#hl-23-14>14</a>
</span><span class=lnt id=hl-23-15><a class=lnlinks href=#hl-23-15>15</a>
</span><span class=lnt id=hl-23-16><a class=lnlinks href=#hl-23-16>16</a>
</span><span class=lnt id=hl-23-17><a class=lnlinks href=#hl-23-17>17</a>
</span><span class=lnt id=hl-23-18><a class=lnlinks href=#hl-23-18>18</a>
</span><span class=lnt id=hl-23-19><a class=lnlinks href=#hl-23-19>19</a>
</span><span class=lnt id=hl-23-20><a class=lnlinks href=#hl-23-20>20</a>
</span><span class=lnt id=hl-23-21><a class=lnlinks href=#hl-23-21>21</a>
</span><span class=lnt id=hl-23-22><a class=lnlinks href=#hl-23-22>22</a>
</span><span class=lnt id=hl-23-23><a class=lnlinks href=#hl-23-23>23</a>
</span><span class=lnt id=hl-23-24><a class=lnlinks href=#hl-23-24>24</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[비즈니스 시나리오]
</span></span><span class=line><span class=cl>&#34;고객이 온라인 쇼핑몰에서 제품을 주문한다&#34;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>↓ [개체 추출]
</span></span><span class=line><span class=cl>Customer, Product, Order
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>↓ [속성 정의]
</span></span><span class=line><span class=cl>Customer: id, name, email
</span></span><span class=line><span class=cl>Product: id, name, price
</span></span><span class=line><span class=cl>Order: id, date, total
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>↓ [관계 도출]
</span></span><span class=line><span class=cl>Customer --places--&gt; Order
</span></span><span class=line><span class=cl>Order --contains--&gt; Product (N:M → OrderItem 필요)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>↓ [카디널리티]
</span></span><span class=line><span class=cl>Customer (1) --places--&gt; (N) Order
</span></span><span class=line><span class=cl>Order (1) --contains--&gt; (N) OrderItem
</span></span><span class=line><span class=cl>Product (1) --ordered_in--&gt; (N) OrderItem
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>↓ [제약조건]
</span></span><span class=line><span class=cl>- Customer.email: UNIQUE
</span></span><span class=line><span class=cl>- Order.customer_id: NOT NULL
</span></span><span class=line><span class=cl>- OrderItem: (order_id, item_seq) COMPOSITE KEY
</span></span></code></pre></td></tr></table></div></div><p><strong>정보 변환 흐름</strong>:</p><table><thead><tr><th>단계</th><th>입력</th><th>변환 과정</th><th>출력</th><th>도구/기법</th></tr></thead><tbody><tr><td>1. 요구사항 분석</td><td>비즈니스 문서</td><td>명사/동사 추출</td><td>개체/관계 후보 목록</td><td>인터뷰, 문서 분석</td></tr><tr><td>2. 개념적 모델링</td><td>후보 목록</td><td>ER 다이어그램 작성</td><td>ERD</td><td>모델링 도구</td></tr><tr><td>3. 논리적 모델링</td><td>ERD</td><td>매핑 규칙 적용</td><td>관계형 스키마</td><td>정규화, 변환 알고리즘</td></tr><tr><td>4. 물리적 모델링</td><td>스키마</td><td>인덱스/파티션 설계</td><td>DDL 스크립트</td><td>DBMS 고려 최적화</td></tr><tr><td>5. 구현</td><td>DDL</td><td>SQL 실행</td><td>데이터베이스</td><td>DBMS</td></tr></tbody></table><h4 id=24-구조-및-구성-요소>2.4 구조 및 구성 요소<a hidden class=anchor aria-hidden=true href=#24-구조-및-구성-요소>#</a></h4><p><strong>ER 모델의 계층적 구조</strong>:</p><pre class=mermaid>graph TB
    A[ER Model] --&gt; B[개체 Entity]
    A --&gt; C[속성 Attribute]
    A --&gt; D[관계 Relationship]
    
    B --&gt; B1[개체 타입 Entity Type]
    B --&gt; B2[개체 인스턴스 Entity Instance]
    B --&gt; B3[개체 집합 Entity Set]
    
    B1 --&gt; B11[강한 개체 Strong Entity]
    B1 --&gt; B12[약한 개체 Weak Entity]
    
    C --&gt; C1[단순 속성 Simple]
    C --&gt; C2[복합 속성 Composite]
    C --&gt; C3[단일값 속성 Single-valued]
    C --&gt; C4[다중값 속성 Multi-valued]
    C --&gt; C5[저장 속성 Stored]
    C --&gt; C6[유도 속성 Derived]
    C --&gt; C7[키 속성 Key]
    
    D --&gt; D1[관계 타입 Relationship Type]
    D --&gt; D2[관계 인스턴스 Relationship Instance]
    D --&gt; D3[관계 집합 Relationship Set]
    
    D1 --&gt; D11[Binary 이진 관계]
    D1 --&gt; D12[Ternary 삼진 관계]
    D1 --&gt; D13[N-ary 다진 관계]
    
    style A fill:#e1f5fe
    style B fill:#fff3e0
    style C fill:#f3e5f5
    style D fill:#e8f5e9
</pre><p><strong>구성 요소 상세 분석</strong>:</p><h5 id=241-개체entity>2.4.1 개체(Entity)<a hidden class=anchor aria-hidden=true href=#241-개체entity>#</a></h5><table><thead><tr><th>구분</th><th>정의</th><th>특징</th><th>표기법</th><th>예시</th></tr></thead><tbody><tr><td>강한 개체<br>(Strong Entity)</td><td>독립적으로 존재 가능한 개체</td><td>자체 기본키 보유</td><td>단일 사각형</td><td>Customer, Product</td></tr><tr><td>약한 개체<br>(Weak Entity)</td><td>다른 개체에 의존하는 개체</td><td>부분키 + 소유자키 조합</td><td>이중 사각형</td><td>OrderItem, Dependent</td></tr></tbody></table><p><strong>약한 개체의 식별 관계</strong>:</p><pre class=mermaid>erDiagram
    ORDER ||--|{ ORDER_ITEM : contains
    ORDER {
        int order_id PK &#34;소유자 키&#34;
    }
    ORDER_ITEM {
        int order_id PK_FK &#34;소유자 키&#34;
        int item_seq PK &#34;부분 키&#34;
        string description
    }
</pre><h5 id=242-속성attribute>2.4.2 속성(Attribute)<a hidden class=anchor aria-hidden=true href=#242-속성attribute>#</a></h5><table><thead><tr><th>속성 유형</th><th>정의</th><th>사용 시기</th><th>변환 방법</th><th>예시</th></tr></thead><tbody><tr><td>단순 속성<br>(Simple)</td><td>더 이상 나눌 수 없는 속성</td><td>원자적 값 표현</td><td>단일 컬럼</td><td>age, price</td></tr><tr><td>복합 속성<br>(Composite)</td><td>여러 구성 요소로 분해 가능</td><td>계층적 데이터</td><td>여러 컬럼으로 분해</td><td>address → street, city, zip</td></tr><tr><td>단일값 속성<br>(Single-valued)</td><td>하나의 값만 가짐</td><td>일반적인 경우</td><td>단일 컬럼</td><td>birthdate</td></tr><tr><td>다중값 속성<br>(Multi-valued)</td><td>여러 값을 가질 수 있음</td><td>반복 데이터</td><td>별도 테이블 생성</td><td>phone_numbers</td></tr><tr><td>저장 속성<br>(Stored)</td><td>직접 저장되는 값</td><td>입력 데이터</td><td>일반 컬럼</td><td>birthdate</td></tr><tr><td>유도 속성<br>(Derived)</td><td>다른 속성으로부터 계산</td><td>계산 가능한 값</td><td>계산 컬럼 또는 뷰</td><td>age (from birthdate)</td></tr></tbody></table><p><strong>복합 속성 분해 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1> 1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2> 2</a>
</span><span class=lnt id=hl-26-3><a class=lnlinks href=#hl-26-3> 3</a>
</span><span class=lnt id=hl-26-4><a class=lnlinks href=#hl-26-4> 4</a>
</span><span class=lnt id=hl-26-5><a class=lnlinks href=#hl-26-5> 5</a>
</span><span class=lnt id=hl-26-6><a class=lnlinks href=#hl-26-6> 6</a>
</span><span class=lnt id=hl-26-7><a class=lnlinks href=#hl-26-7> 7</a>
</span><span class=lnt id=hl-26-8><a class=lnlinks href=#hl-26-8> 8</a>
</span><span class=lnt id=hl-26-9><a class=lnlinks href=#hl-26-9> 9</a>
</span><span class=lnt id=hl-26-10><a class=lnlinks href=#hl-26-10>10</a>
</span><span class=lnt id=hl-26-11><a class=lnlinks href=#hl-26-11>11</a>
</span><span class=lnt id=hl-26-12><a class=lnlinks href=#hl-26-12>12</a>
</span><span class=lnt id=hl-26-13><a class=lnlinks href=#hl-26-13>13</a>
</span><span class=lnt id=hl-26-14><a class=lnlinks href=#hl-26-14>14</a>
</span><span class=lnt id=hl-26-15><a class=lnlinks href=#hl-26-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[복합 속성] Address
</span></span><span class=line><span class=cl>    ├─ Street
</span></span><span class=line><span class=cl>    ├─ City
</span></span><span class=line><span class=cl>    ├─ State
</span></span><span class=line><span class=cl>    └─ ZipCode
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[변환 후 테이블]
</span></span><span class=line><span class=cl>Customer (
</span></span><span class=line><span class=cl>    customer_id,
</span></span><span class=line><span class=cl>    name,
</span></span><span class=line><span class=cl>    street,
</span></span><span class=line><span class=cl>    city,
</span></span><span class=line><span class=cl>    state,
</span></span><span class=line><span class=cl>    zipcode
</span></span><span class=line><span class=cl>)
</span></span></code></pre></td></tr></table></div></div><p><strong>다중값 속성 처리</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1>1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2>2</a>
</span><span class=lnt id=hl-27-3><a class=lnlinks href=#hl-27-3>3</a>
</span><span class=lnt id=hl-27-4><a class=lnlinks href=#hl-27-4>4</a>
</span><span class=lnt id=hl-27-5><a class=lnlinks href=#hl-27-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[다중값 속성] Phone_Numbers
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[변환 후]
</span></span><span class=line><span class=cl>Customer (customer_id, name, email)
</span></span><span class=line><span class=cl>CustomerPhone (customer_id FK, phone_number, phone_type)
</span></span></code></pre></td></tr></table></div></div><h5 id=243-관계relationship>2.4.3 관계(Relationship)<a hidden class=anchor aria-hidden=true href=#243-관계relationship>#</a></h5><p><strong>관계 차수(Degree of Relationship)</strong>:</p><table><thead><tr><th>차수</th><th>정의</th><th>참여 개체 수</th><th>사용 사례</th><th>예시</th></tr></thead><tbody><tr><td>단항<br>(Unary)</td><td>재귀 관계</td><td>1</td><td>계층 구조, 자기 참조</td><td>Employee manages Employee</td></tr><tr><td>이진<br>(Binary)</td><td>가장 일반적</td><td>2</td><td>대부분의 관계</td><td>Customer places Order</td></tr><tr><td>삼진<br>(Ternary)</td><td>3개 개체 관계</td><td>3</td><td>복잡한 연관</td><td>Supplier supplies Part to Project</td></tr><tr><td>N진<br>(N-ary)</td><td>4개 이상</td><td>N</td><td>드물게 사용</td><td>복잡한 다자간 관계</td></tr></tbody></table><p><strong>삼진 관계 예시</strong>:</p><pre class=mermaid>erDiagram
    SUPPLIER ||--o{ SUPPLY : supplies
    PART ||--o{ SUPPLY : supplied
    PROJECT ||--o{ SUPPLY : receives
    
    SUPPLY {
        int supplier_id FK
        int part_id FK
        int project_id FK
        date supply_date
        int quantity
    }
</pre><p><strong>관계의 구조적 제약조건</strong>:</p><ol><li><p><strong>카디널리티 비율(Cardinality Ratio)</strong>:</p><ul><li>1:1 (One-to-One): 양쪽 모두 최대 1개 인스턴스</li><li>1:N (One-to-Many): 한쪽은 1개, 다른 쪽은 여러 개</li><li>N:M (Many-to-Many): 양쪽 모두 여러 개</li></ul></li><li><p><strong>참여 제약(Participation Constraint)</strong>:</p><ul><li>전체 참여(Total Participation): 모든 인스턴스가 관계에 참여 (실선)</li><li>부분 참여(Partial Participation): 일부만 참여 (점선)</li></ul></li></ol><p><strong>표기법별 카디널리티 표현</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-29-1><a class=lnlinks href=#hl-29-1> 1</a>
</span><span class=lnt id=hl-29-2><a class=lnlinks href=#hl-29-2> 2</a>
</span><span class=lnt id=hl-29-3><a class=lnlinks href=#hl-29-3> 3</a>
</span><span class=lnt id=hl-29-4><a class=lnlinks href=#hl-29-4> 4</a>
</span><span class=lnt id=hl-29-5><a class=lnlinks href=#hl-29-5> 5</a>
</span><span class=lnt id=hl-29-6><a class=lnlinks href=#hl-29-6> 6</a>
</span><span class=lnt id=hl-29-7><a class=lnlinks href=#hl-29-7> 7</a>
</span><span class=lnt id=hl-29-8><a class=lnlinks href=#hl-29-8> 8</a>
</span><span class=lnt id=hl-29-9><a class=lnlinks href=#hl-29-9> 9</a>
</span><span class=lnt id=hl-29-10><a class=lnlinks href=#hl-29-10>10</a>
</span><span class=lnt id=hl-29-11><a class=lnlinks href=#hl-29-11>11</a>
</span><span class=lnt id=hl-29-12><a class=lnlinks href=#hl-29-12>12</a>
</span><span class=lnt id=hl-29-13><a class=lnlinks href=#hl-29-13>13</a>
</span><span class=lnt id=hl-29-14><a class=lnlinks href=#hl-29-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[Chen 표기법]
</span></span><span class=line><span class=cl>Customer ----1---- places ----N---- Order
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[Crow&#39;s Foot 표기법]
</span></span><span class=line><span class=cl>Customer ||----o{ Order
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[IE 표기법]
</span></span><span class=line><span class=cl>Customer -&lt;----&lt;- Order
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>기호 의미:
</span></span><span class=line><span class=cl>|| : 정확히 1
</span></span><span class=line><span class=cl>|o : 0 또는 1
</span></span><span class=line><span class=cl>}o : 0개 이상
</span></span><span class=line><span class=cl>}| : 1개 이상
</span></span></code></pre></td></tr></table></div></div><h4 id=25-패턴-구조-및-품질-속성-메커니즘-c형-특화>2.5 패턴 구조 및 품질 속성 메커니즘 (C형 특화)<a hidden class=anchor aria-hidden=true href=#25-패턴-구조-및-품질-속성-메커니즘-c형-특화>#</a></h4><p><strong>ER 설계 패턴</strong>:</p><h5 id=패턴-1-다대다-관계-해소>패턴 1: 다대다 관계 해소<a hidden class=anchor aria-hidden=true href=#패턴-1-다대다-관계-해소>#</a></h5><p><strong>문제</strong>: N:M 관계는 관계형 DB에서 직접 구현 불가</p><p><strong>해결</strong>: 연결 개체(Associative Entity) 도입</p><pre class=mermaid>erDiagram
    %% Before: 다대다 관계
    STUDENT ||--o{ ENROLLMENT : enrolls
    COURSE ||--o{ ENROLLMENT : has
    
    ENROLLMENT {
        int student_id PK_FK
        int course_id PK_FK
        date enroll_date
        string grade
    }
</pre><p><strong>변환 규칙</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-31-1><a class=lnlinks href=#hl-31-1>1</a>
</span><span class=lnt id=hl-31-2><a class=lnlinks href=#hl-31-2>2</a>
</span><span class=lnt id=hl-31-3><a class=lnlinks href=#hl-31-3>3</a>
</span><span class=lnt id=hl-31-4><a class=lnlinks href=#hl-31-4>4</a>
</span><span class=lnt id=hl-31-5><a class=lnlinks href=#hl-31-5>5</a>
</span><span class=lnt id=hl-31-6><a class=lnlinks href=#hl-31-6>6</a>
</span><span class=lnt id=hl-31-7><a class=lnlinks href=#hl-31-7>7</a>
</span><span class=lnt id=hl-31-8><a class=lnlinks href=#hl-31-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[Before] Student ----N:M---- Course
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[After]  
</span></span><span class=line><span class=cl>Student ----1:N---- Enrollment ----N:1---- Course
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Enrollment 테이블:
</span></span><span class=line><span class=cl>- (student_id, course_id): 복합 기본키
</span></span><span class=line><span class=cl>- 관계 속성(enroll_date, grade) 포함
</span></span></code></pre></td></tr></table></div></div><h5 id=패턴-2-특수화일반화-specializationgeneralization>패턴 2: 특수화/일반화 (Specialization/Generalization)<a hidden class=anchor aria-hidden=true href=#패턴-2-특수화일반화-specializationgeneralization>#</a></h5><p><strong>목적</strong>: 공통 속성 추출 및 상속 구조 표현</p><pre class=mermaid>erDiagram
    PERSON {
        int person_id PK
        string name
        date birthdate
    }
    EMPLOYEE {
        int person_id PK_FK
        string employee_id
        decimal salary
        date hire_date
    }
    CUSTOMER {
        int person_id PK_FK
        string customer_id
        string loyalty_level
        decimal credit_limit
    }
    
    PERSON ||--o| EMPLOYEE : &#34;is a&#34;
    PERSON ||--o| CUSTOMER : &#34;is a&#34;
</pre><p><strong>구현 전략</strong>:</p><table><thead><tr><th>전략</th><th>방법</th><th>장점</th><th>단점</th><th>사용 시기</th></tr></thead><tbody><tr><td>단일 테이블<br>(Single Table)</td><td>모든 속성을 하나의 테이블에</td><td>조인 불필요, 단순</td><td>NULL 많음, 확장성 제한</td><td>하위 타입이 적고 속성 차이 작을 때</td></tr><tr><td>클래스별 테이블<br>(Class Table)</td><td>각 클래스마다 별도 테이블</td><td>정규화 완벽, 명확한 구조</td><td>조인 빈번, 성능 저하</td><td>하위 타입 속성 차이 클 때</td></tr><tr><td>구체 클래스 테이블<br>(Concrete Table)</td><td>하위 타입만 테이블화</td><td>조인 감소, 빠른 조회</td><td>공통 속성 중복</td><td>상위 타입 독립 조회 없을 때</td></tr></tbody></table><h5 id=패턴-3-약한-개체-패턴>패턴 3: 약한 개체 패턴<a hidden class=anchor aria-hidden=true href=#패턴-3-약한-개체-패턴>#</a></h5><p><strong>특징</strong>:</p><ul><li>소유자 개체 없이 존재 불가</li><li>부분 키로만 식별</li><li>CASCADE 삭제 적용</li></ul><pre class=mermaid>erDiagram
    ORDER ||--|{ ORDER_ITEM : contains
    ORDER {
        int order_id PK
        date order_date
    }
    ORDER_ITEM {
        int order_id PK_FK &#34;소유자 키&#34;
        int item_seq PK &#34;부분 키&#34;
        int product_id FK
        int quantity
    }
</pre><p><strong>품질 속성 보장 메커니즘</strong>:</p><ol><li><p><strong>무결성 보장</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-34-1><a class=lnlinks href=#hl-34-1>1</a>
</span><span class=lnt id=hl-34-2><a class=lnlinks href=#hl-34-2>2</a>
</span><span class=lnt id=hl-34-3><a class=lnlinks href=#hl-34-3>3</a>
</span><span class=lnt id=hl-34-4><a class=lnlinks href=#hl-34-4>4</a>
</span><span class=lnt id=hl-34-5><a class=lnlinks href=#hl-34-5>5</a>
</span><span class=lnt id=hl-34-6><a class=lnlinks href=#hl-34-6>6</a>
</span><span class=lnt id=hl-34-7><a class=lnlinks href=#hl-34-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 참조 무결성
</span></span></span><span class=line><span class=cl><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>order_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=k>Order</span><span class=p>(</span><span class=n>order_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>ON</span><span class=w> </span><span class=k>DELETE</span><span class=w> </span><span class=k>CASCADE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>ON</span><span class=w> </span><span class=k>UPDATE</span><span class=w> </span><span class=k>CASCADE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 개체 무결성
</span></span></span><span class=line><span class=cl><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>order_id</span><span class=p>,</span><span class=w> </span><span class=n>item_seq</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li><p><strong>카디널리티 강제</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-35-1><a class=lnlinks href=#hl-35-1>1</a>
</span><span class=lnt id=hl-35-2><a class=lnlinks href=#hl-35-2>2</a>
</span><span class=lnt id=hl-35-3><a class=lnlinks href=#hl-35-3>3</a>
</span><span class=lnt id=hl-35-4><a class=lnlinks href=#hl-35-4>4</a>
</span><span class=lnt id=hl-35-5><a class=lnlinks href=#hl-35-5>5</a>
</span><span class=lnt id=hl-35-6><a class=lnlinks href=#hl-35-6>6</a>
</span><span class=lnt id=hl-35-7><a class=lnlinks href=#hl-35-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 1:N 관계 (Customer → Order)
</span></span></span><span class=line><span class=cl><span class=c1>-- Order 테이블에 customer_id FK 배치
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 1:1 관계 (Order → Payment)
</span></span></span><span class=line><span class=cl><span class=c1>-- UNIQUE 제약조건 추가
</span></span></span><span class=line><span class=cl><span class=k>ALTER</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Payment</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=k>ADD</span><span class=w> </span><span class=k>CONSTRAINT</span><span class=w> </span><span class=n>uk_order</span><span class=w> </span><span class=k>UNIQUE</span><span class=w> </span><span class=p>(</span><span class=n>order_id</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li><p><strong>참여 제약 구현</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-36-1><a class=lnlinks href=#hl-36-1>1</a>
</span><span class=lnt id=hl-36-2><a class=lnlinks href=#hl-36-2>2</a>
</span><span class=lnt id=hl-36-3><a class=lnlinks href=#hl-36-3>3</a>
</span><span class=lnt id=hl-36-4><a class=lnlinks href=#hl-36-4>4</a>
</span><span class=lnt id=hl-36-5><a class=lnlinks href=#hl-36-5>5</a>
</span><span class=lnt id=hl-36-6><a class=lnlinks href=#hl-36-6>6</a>
</span><span class=lnt id=hl-36-7><a class=lnlinks href=#hl-36-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 전체 참여 (Total Participation)
</span></span></span><span class=line><span class=cl><span class=c1>-- Order는 반드시 Customer가 있어야 함
</span></span></span><span class=line><span class=cl><span class=n>customer_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 부분 참여 (Partial Participation)
</span></span></span><span class=line><span class=cl><span class=c1>-- Customer는 Order 없이 존재 가능
</span></span></span><span class=line><span class=cl><span class=c1>-- (제약 없음)
</span></span></span></code></pre></td></tr></table></div></div></li></ol><p><strong>품질 메트릭 측정</strong>:</p><table><thead><tr><th>품질 속성</th><th>측정 지표</th><th>목표값</th><th>측정 방법</th></tr></thead><tbody><tr><td>정규화 수준</td><td>정규형 레벨</td><td>3NF 이상</td><td>함수 종속성 분석</td></tr><tr><td>중복도</td><td>중복 속성 비율</td><td>&lt; 5%</td><td>속성 매트릭스 분석</td></tr><tr><td>복잡도</td><td>관계 수 / 개체 수</td><td>1.5 ~ 3.0</td><td>ERD 통계</td></tr><tr><td>응집도</td><td>개체 내 속성 관련성</td><td>> 80%</td><td>속성 상관도 분석</td></tr><tr><td>결합도</td><td>평균 관계 차수</td><td>&lt; 3</td><td>관계 분석</td></tr></tbody></table><hr><h3 id=phase-3-특성-분석-및-평가-2>Phase 3: 특성 분석 및 평가<a hidden class=anchor aria-hidden=true href=#phase-3-특성-분석-및-평가-2>#</a></h3><h4 id=31-주요-장점-및-이점>3.1 주요 장점 및 이점<a hidden class=anchor aria-hidden=true href=#31-주요-장점-및-이점>#</a></h4><table><thead><tr><th>장점</th><th>상세 설명</th><th>기술 근거</th><th>적용 상황</th><th>실무적 가치</th></tr></thead><tbody><tr><td>의사소통 효과성</td><td>비즈니스 전문가와 기술팀 간 공통 언어 제공</td><td>시각적 다이어그램으로 추상 개념을 구체화</td><td>요구사항 수집, 이해관계자 리뷰</td><td>오해 감소 70%, 피드백 주기 50% 단축</td></tr><tr><td>조기 오류 발견</td><td>구현 전 설계 단계에서 결함 식별</td><td>비즈니스 규칙의 명시적 표현으로 모순 조기 감지</td><td>프로젝트 기획 단계, 아키텍처 리뷰</td><td>수정 비용 1/10로 감소 (설계 vs 운영)</td></tr><tr><td>기술 독립성</td><td>DBMS에 종속되지 않는 개념적 설계</td><td>추상화 계층 분리로 물리적 구현과 독립</td><td>멀티 DB 환경, 마이그레이션</td><td>DB 전환 시간 60% 단축</td></tr><tr><td>정규화 기반</td><td>데이터 중복 최소화 및 무결성 보장</td><td>개체-관계 분리로 정규화 자동 유도</td><td>트랜잭션 시스템, 금융 애플리케이션</td><td>저장공간 30-50% 절감, 데이터 일관성 99.9%</td></tr><tr><td>유지보수 용이성</td><td>명확한 구조로 변경 영향도 파악 용이</td><td>모듈화된 개체 설계로 독립적 수정 가능</td><td>장기 운영 시스템, 레거시 개선</td><td>변경 비용 40% 감소, 배포 리스크 감소</td></tr><tr><td>문서화 표준</td><td>산업 표준 표기법으로 일관된 문서화</td><td>ISO/IEC 표준 및 업계 관례 기반</td><td>대규모 조직, 외주 개발</td><td>온보딩 시간 50% 단축, 지식 전달 효율 향상</td></tr><tr><td>재사용성</td><td>공통 패턴 및 도메인 모델 재활용</td><td>개체 타입의 일반화 및 템플릿화</td><td>유사 프로젝트, MSA 환경</td><td>개발 시간 30% 절감</td></tr></tbody></table><p><strong>정량적 효과 분석</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-37-1><a class=lnlinks href=#hl-37-1> 1</a>
</span><span class=lnt id=hl-37-2><a class=lnlinks href=#hl-37-2> 2</a>
</span><span class=lnt id=hl-37-3><a class=lnlinks href=#hl-37-3> 3</a>
</span><span class=lnt id=hl-37-4><a class=lnlinks href=#hl-37-4> 4</a>
</span><span class=lnt id=hl-37-5><a class=lnlinks href=#hl-37-5> 5</a>
</span><span class=lnt id=hl-37-6><a class=lnlinks href=#hl-37-6> 6</a>
</span><span class=lnt id=hl-37-7><a class=lnlinks href=#hl-37-7> 7</a>
</span><span class=lnt id=hl-37-8><a class=lnlinks href=#hl-37-8> 8</a>
</span><span class=lnt id=hl-37-9><a class=lnlinks href=#hl-37-9> 9</a>
</span><span class=lnt id=hl-37-10><a class=lnlinks href=#hl-37-10>10</a>
</span><span class=lnt id=hl-37-11><a class=lnlinks href=#hl-37-11>11</a>
</span><span class=lnt id=hl-37-12><a class=lnlinks href=#hl-37-12>12</a>
</span><span class=lnt id=hl-37-13><a class=lnlinks href=#hl-37-13>13</a>
</span><span class=lnt id=hl-37-14><a class=lnlinks href=#hl-37-14>14</a>
</span><span class=lnt id=hl-37-15><a class=lnlinks href=#hl-37-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[ROI 계산 예시]
</span></span><span class=line><span class=cl>프로젝트 규모: 100 테이블 데이터베이스
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Without ER Modeling:
</span></span><span class=line><span class=cl>- 설계 시간: 2주
</span></span><span class=line><span class=cl>- 재작업: 4주 (설계 결함 수정)
</span></span><span class=line><span class=cl>- 총: 6주
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>With ER Modeling:
</span></span><span class=line><span class=cl>- ER 모델링: 3주
</span></span><span class=line><span class=cl>- 관계형 변환: 1주
</span></span><span class=line><span class=cl>- 재작업: 0.5주
</span></span><span class=line><span class=cl>- 총: 4.5주
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>절감: 1.5주 (25%) + 품질 향상
</span></span></code></pre></td></tr></table></div></div><p><strong>비즈니스 가치</strong>:</p><table><thead><tr><th>가치 영역</th><th>측정 지표</th><th>개선 효과</th><th>비고</th></tr></thead><tbody><tr><td>개발 속도</td><td>Time to Market</td><td>20-30% 단축</td><td>명확한 설계로 구현 집중</td></tr><tr><td>품질</td><td>결함 밀도</td><td>40-60% 감소</td><td>설계 단계 검증</td></tr><tr><td>비용</td><td>총 소유 비용(TCO)</td><td>30-40% 절감</td><td>유지보수 비용 감소</td></tr><tr><td>협업</td><td>이해관계자 만족도</td><td>50% 향상</td><td>명확한 의사소통</td></tr></tbody></table><h4 id=32-단점-및-제약사항>3.2 단점 및 제약사항<a hidden class=anchor aria-hidden=true href=#32-단점-및-제약사항>#</a></h4><h5 id=단점>단점<a hidden class=anchor aria-hidden=true href=#단점>#</a></h5><table><thead><tr><th>단점</th><th>상세 설명</th><th>원인</th><th>실무에서 발생되는 문제</th><th>완화/해결 방안</th><th>대안 기술</th></tr></thead><tbody><tr><td>학습 곡선</td><td>표기법과 개념 이해에 시간 필요</td><td>추상적 개념, 다양한 표기법</td><td>초기 모델링 오류, 불완전한 ERD</td><td>단계적 교육, 템플릿 제공, 도구 활용</td><td>UML Class Diagram (객체지향 개발자에게 친숙)</td></tr><tr><td>대규모 복잡도</td><td>수백 개 개체 시 다이어그램 복잡</td><td>시각적 표현의 한계</td><td>ERD 가독성 저하, 유지보수 어려움</td><td>모듈화, 뷰 분리, 계층적 다이어그램</td><td>Domain-Driven Design (Bounded Context)</td></tr><tr><td>표현력 한계</td><td>복잡한 비즈니스 규칙 표현 제한</td><td>구조적 모델링의 본질적 제약</td><td>동적 제약조건, 시간 의존적 규칙 표현 불가</td><td>주석 활용, OCL(Object Constraint Language) 보완</td><td>Temporal ER Model, Event Modeling</td></tr><tr><td>성능 고려 부족</td><td>개념적 수준으로 성능 최적화 미고려</td><td>추상화로 인한 물리적 세부사항 배제</td><td>과도한 정규화로 조인 증가, 응답시간 저하</td><td>물리적 설계 단계에서 비정규화, 인덱스 전략 수립</td><td>Dimensional Modeling (분석 워크로드)</td></tr><tr><td>NoSQL 부적합</td><td>관계형 DB 중심 설계로 NoSQL 매핑 어려움</td><td>정규화와 고정 스키마 전제</td><td>Document DB, Graph DB로 변환 시 재설계 필요</td><td>Aggregate 모델링, Polyglot Persistence</td><td>Document Design, Graph Modeling</td></tr><tr><td>동적 스키마 한계</td><td>런타임 스키마 변경 표현 불가</td><td>정적 모델링 패러다임</td><td>SaaS 멀티테넌트, 사용자 정의 필드 지원 어려움</td><td>EAV(Entity-Attribute-Value) 패턴, JSON 타입 활용</td><td>Schema-less Design, JSON Schema</td></tr><tr><td>과도한 추상화</td><td>지나친 일반화로 구현 거리 증가</td><td>개념적 모델링의 목표와 실무 간 괴리</td><td>이해하기 어려운 구조, 구현 복잡도 증가</td><td>적절한 추상화 수준 유지, 프로토타입 검증</td><td>Event Storming (구체적 이벤트 중심)</td></tr></tbody></table><h5 id=제약사항>제약사항<a hidden class=anchor aria-hidden=true href=#제약사항>#</a></h5><table><thead><tr><th>제약사항</th><th>상세 설명</th><th>원인</th><th>영향</th><th>완화/해결 방안</th><th>대안 기술</th></tr></thead><tbody><tr><td>도구 의존성</td><td>전문 모델링 도구 필요</td><td>수작업 ERD 작성의 비효율성</td><td>도구 라이선스 비용, 학습 시간</td><td>오픈소스 도구(draw.io, dbdiagram.io) 활용</td><td>텍스트 기반 도구(PlantUML, Mermaid)</td></tr><tr><td>표준 부재</td><td>표기법 간 차이로 혼란</td><td>Chen, Crow&rsquo;s Foot, IE 등 다양한 표기법</td><td>조직 간 문서 교환 어려움, 일관성 결여</td><td>조직 내 표준 정립, 변환 도구 사용</td><td>IDEF1X (연방 표준), UML (OMG 표준)</td></tr><tr><td>실시간 반영 한계</td><td>코드와 ERD 불일치</td><td>수동 동기화 필요</td><td>문서와 구현 괴리, 신뢰도 저하</td><td>자동화 도구(역공학 지원), CI/CD 통합</td><td>Code-First with Documentation Tools</td></tr><tr><td>시간 제약</td><td>초기 모델링에 상당한 시간 소요</td><td>요구사항 분석 및 합의 과정</td><td>애자일 환경에서 부담, 빠른 출시 지연</td><td>점진적 모델링, MVP부터 시작</td><td>Just-In-Time Design, Evolutionary Design</td></tr><tr><td>도메인 전문성 필수</td><td>비즈니스 이해 없이 정확한 모델링 불가</td><td>추상화 및 개념화 과정의 본질</td><td>도메인 지식 부족 시 잘못된 설계</td><td>Domain Expert 참여, Event Storming 워크숍</td><td>Domain-Driven Design (Ubiquitous Language)</td></tr><tr><td>버전 관리 어려움</td><td>ERD 변경 이력 추적 복잡</td><td>그래픽 파일의 비교 어려움</td><td>변경 사항 추적 불가, 롤백 어려움</td><td>텍스트 기반 포맷(YAML, DSL) 병행</td><td>Git-friendly Formats (PlantUML, DBT)</td></tr></tbody></table><p><strong>실무 대응 전략</strong>:</p><pre class=mermaid>graph TB
    A[ER Modeling 한계] --&gt; B{규모}
    A --&gt; C{환경}
    A --&gt; D{요구사항}
    
    B --&gt;|소규모| B1[기본 ER 적용]
    B --&gt;|대규모| B2[모듈화 + 뷰 분리]
    
    C --&gt;|관계형 DB| C1[표준 ER 적용]
    C --&gt;|NoSQL| C2[Aggregate 모델링]
    
    D --&gt;|정적 스키마| D1[전통적 ER]
    D --&gt;|동적 스키마| D2[Hybrid 접근]
    
    style A fill:#ffcdd2
    style B1 fill:#c8e6c9
    style C1 fill:#c8e6c9
    style D1 fill:#c8e6c9
</pre><h4 id=33-트레이드오프-관계-분석>3.3 트레이드오프 관계 분석<a hidden class=anchor aria-hidden=true href=#33-트레이드오프-관계-분석>#</a></h4><p><strong>핵심 트레이드오프</strong>:</p><h5 id=1-정규화-vs-성능>1. 정규화 vs 성능<a hidden class=anchor aria-hidden=true href=#1-정규화-vs-성능>#</a></h5><table><thead><tr><th>요소</th><th>정규화 우선</th><th>성능 우선</th><th>고려 기준</th><th>균형점</th></tr></thead><tbody><tr><td>데이터 중복</td><td>최소화 (3NF+)</td><td>허용 (비정규화)</td><td>데이터 일관성 중요도</td><td>읽기 중심: 적절한 비정규화<br>쓰기 중심: 정규화 유지</td></tr><tr><td>조인 연산</td><td>많음</td><td>적음</td><td>조회 패턴 빈도</td><td>OLTP: 3NF<br>OLAP: 별 스키마(Star Schema)</td></tr><tr><td>저장 공간</td><td>효율적</td><td>증가</td><td>비용 vs 성능</td><td>핫 데이터: 비정규화<br>콜드 데이터: 정규화</td></tr><tr><td>업데이트 복잡도</td><td>단순</td><td>복잡 (다중 위치)</td><td>업데이트 빈도</td><td>읽기 99%: 비정규화 고려<br>읽기 50%: 정규화 유지</td></tr></tbody></table><p><strong>의사결정 프레임워크</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-39-1><a class=lnlinks href=#hl-39-1>1</a>
</span><span class=lnt id=hl-39-2><a class=lnlinks href=#hl-39-2>2</a>
</span><span class=lnt id=hl-39-3><a class=lnlinks href=#hl-39-3>3</a>
</span><span class=lnt id=hl-39-4><a class=lnlinks href=#hl-39-4>4</a>
</span><span class=lnt id=hl-39-5><a class=lnlinks href=#hl-39-5>5</a>
</span><span class=lnt id=hl-39-6><a class=lnlinks href=#hl-39-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>IF (읽기:쓰기 비율 &gt; 100:1) AND (응답시간 &lt; 100ms 필수)
</span></span><span class=line><span class=cl>THEN 비정규화 고려
</span></span><span class=line><span class=cl>ELSE 정규화 유지
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>IF (조인 깊이 &gt; 5) AND (조회 빈도 높음)
</span></span><span class=line><span class=cl>THEN 구체화 뷰(Materialized View) 또는 비정규화
</span></span></code></pre></td></tr></table></div></div><h5 id=2-추상화-수준-vs-구현-근접성>2. 추상화 수준 vs 구현 근접성<a hidden class=anchor aria-hidden=true href=#2-추상화-수준-vs-구현-근접성>#</a></h5><table><thead><tr><th>측면</th><th>높은 추상화</th><th>낮은 추상화</th><th>프로젝트 특성</th><th>권장 접근</th></tr></thead><tbody><tr><td>이해 용이성</td><td>비기술자 이해 쉬움</td><td>기술자에게 명확</td><td>이해관계자 기술 수준</td><td>초기: 높은 추상화<br>구현: 점진적 구체화</td></tr><tr><td>구현 거리</td><td>멀음 (변환 필요)</td><td>가까움 (직접 구현)</td><td>프로젝트 규모</td><td>대규모: 높은 추상화<br>소규모: 낮은 추상화</td></tr><tr><td>변경 유연성</td><td>높음</td><td>낮음</td><td>요구사항 변동성</td><td>높은 변동성: 높은 추상화</td></tr><tr><td>재사용성</td><td>높음</td><td>낮음</td><td>도메인 공통성</td><td>공통 도메인: 높은 추상화</td></tr></tbody></table><p><strong>최적 균형점</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-40-1><a class=lnlinks href=#hl-40-1>1</a>
</span><span class=lnt id=hl-40-2><a class=lnlinks href=#hl-40-2>2</a>
</span><span class=lnt id=hl-40-3><a class=lnlinks href=#hl-40-3>3</a>
</span><span class=lnt id=hl-40-4><a class=lnlinks href=#hl-40-4>4</a>
</span><span class=lnt id=hl-40-5><a class=lnlinks href=#hl-40-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>개념적 수준 (ER Model) ← 80% 완성도
</span></span><span class=line><span class=cl>    ↓ [매핑 규칙]
</span></span><span class=line><span class=cl>논리적 수준 (Relational Schema) ← 검증 및 조정
</span></span><span class=line><span class=cl>    ↓ [물리적 최적화]
</span></span><span class=line><span class=cl>물리적 수준 (DDL + Indexes) ← 성능 튜닝
</span></span></code></pre></td></tr></table></div></div><h5 id=3-모델-완전성-vs-개발-속도>3. 모델 완전성 vs 개발 속도<a hidden class=anchor aria-hidden=true href=#3-모델-완전성-vs-개발-속도>#</a></h5><table><thead><tr><th>항목</th><th>완전한 모델</th><th>빠른 개발</th><th>상황</th><th>전략</th></tr></thead><tbody><tr><td>모델링 기간</td><td>4-8주</td><td>1-2주</td><td>시장 출시 압박</td><td>MVP: 핵심 개체만<br>단계적 확장</td></tr><tr><td>커버리지</td><td>모든 시나리오</td><td>핵심 시나리오</td><td>비즈니스 중요도</td><td>80/20 규칙:<br>핵심 20%에 집중</td></tr><tr><td>재작업 리스크</td><td>낮음</td><td>높음</td><td>프로젝트 성숙도</td><td>신규: 충분한 모델링<br>확장: 점진적 개선</td></tr><tr><td>문서화 수준</td><td>상세함</td><td>최소화</td><td>팀 숙련도</td><td>신입 많음: 상세 문서<br>시니어 팀: 간결 문서</td></tr></tbody></table><p><strong>애자일 환경 적응 전략</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-41-1><a class=lnlinks href=#hl-41-1>1</a>
</span><span class=lnt id=hl-41-2><a class=lnlinks href=#hl-41-2>2</a>
</span><span class=lnt id=hl-41-3><a class=lnlinks href=#hl-41-3>3</a>
</span><span class=lnt id=hl-41-4><a class=lnlinks href=#hl-41-4>4</a>
</span><span class=lnt id=hl-41-5><a class=lnlinks href=#hl-41-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Sprint 0: 핵심 도메인 ERD (3-5일)
</span></span><span class=line><span class=cl>Sprint 1-N: 
</span></span><span class=line><span class=cl>  - 기능별 개체 추가
</span></span><span class=line><span class=cl>  - 매 스프린트 ERD 업데이트 (1일)
</span></span><span class=line><span class=cl>  - 분기별 전체 검증 (1주)
</span></span></code></pre></td></tr></table></div></div><h5 id=4-표준-준수-vs-맞춤화>4. 표준 준수 vs 맞춤화<a hidden class=anchor aria-hidden=true href=#4-표준-준수-vs-맞춤화>#</a></h5><table><thead><tr><th>기준</th><th>표준 준수</th><th>맞춤화</th><th>고려사항</th><th>권장</th></tr></thead><tbody><tr><td>표기법</td><td>Chen, Crow&rsquo;s Foot 등</td><td>자체 표기법</td><td>조직 문화</td><td>표준 기반 + 필요시 확장</td></tr><tr><td>명명 규칙</td><td>업계 관례</td><td>조직 특화</td><td>협업 범위</td><td>외부 협업 많음: 표준<br>내부만: 맞춤 가능</td></tr><tr><td>도구</td><td>상용/표준 도구</td><td>자체 개발</td><td>투자 가능 여부</td><td>초기: 표준 도구<br>성숙: 맞춤 고려</td></tr><tr><td>프로세스</td><td>교과서적 접근</td><td>프로젝트 특화</td><td>프로젝트 특성</td><td>표준 프로세스 기반<br>점진적 조정</td></tr></tbody></table><p><strong>의사결정 매트릭스</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-42-1><a class=lnlinks href=#hl-42-1>1</a>
</span><span class=lnt id=hl-42-2><a class=lnlinks href=#hl-42-2>2</a>
</span><span class=lnt id=hl-42-3><a class=lnlinks href=#hl-42-3>3</a>
</span><span class=lnt id=hl-42-4><a class=lnlinks href=#hl-42-4>4</a>
</span><span class=lnt id=hl-42-5><a class=lnlinks href=#hl-42-5>5</a>
</span><span class=lnt id=hl-42-6><a class=lnlinks href=#hl-42-6>6</a>
</span><span class=lnt id=hl-42-7><a class=lnlinks href=#hl-42-7>7</a>
</span><span class=lnt id=hl-42-8><a class=lnlinks href=#hl-42-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>        낮은 표준 준수    높은 표준 준수
</span></span><span class=line><span class=cl>높은 
</span></span><span class=line><span class=cl>맞춤화  [위험]            [최적]
</span></span><span class=line><span class=cl>        - 재사용 어려움    - 유연성 + 호환성
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>낮은
</span></span><span class=line><span class=cl>맞춤화  [비효율]          [안전]
</span></span><span class=line><span class=cl>        - 표준도 맞춤도X   - 빠른 적용, 제한적
</span></span></code></pre></td></tr></table></div></div><h4 id=34-적용-적합성-평가>3.4 적용 적합성 평가<a hidden class=anchor aria-hidden=true href=#34-적용-적합성-평가>#</a></h4><p><strong>적합성 평가 프레임워크</strong>:</p><table><thead><tr><th>평가 항목</th><th>매우 적합 (5점)</th><th>적합 (3-4점)</th><th>부적합 (1-2점)</th><th>가중치</th></tr></thead><tbody><tr><td>데이터 복잡도</td><td>50개 이상 개체, 복잡한 관계</td><td>10-50개 개체</td><td>5개 이하 단순 개체</td><td>25%</td></tr><tr><td>비즈니스 규칙</td><td>명확하고 복잡한 제약조건</td><td>일반적 규칙</td><td>규칙 거의 없음</td><td>20%</td></tr><tr><td>프로젝트 규모</td><td>대규모 엔터프라이즈</td><td>중소규모</td><td>소규모 프로토타입</td><td>15%</td></tr><tr><td>팀 역량</td><td>DB 설계 전문가 포함</td><td>기본 DB 지식 보유</td><td>DB 경험 부족</td><td>15%</td></tr><tr><td>변경 빈도</td><td>안정적, 변경 적음</td><td>중간 수준 변경</td><td>지속적 변경</td><td>10%</td></tr><tr><td>문서화 필요성</td><td>장기 유지보수, 인수인계</td><td>일반적 문서화</td><td>최소 문서화</td><td>10%</td></tr><tr><td>데이터 일관성</td><td>높은 무결성 필수 (금융 등)</td><td>일반적 일관성</td><td>일관성 덜 중요</td><td>5%</td></tr></tbody></table><p><strong>점수 해석</strong>:</p><ul><li><strong>85-100점</strong>: 필수 적용, 투자 대비 높은 효과</li><li><strong>60-84점</strong>: 권장, 프로젝트 특성에 따라 조정</li><li><strong>40-59점</strong>: 선택, 간소화된 접근 고려</li><li><strong>40점 미만</strong>: 대안 기술 검토 (NoSQL Design, Event Modeling 등)</li></ul><p><strong>도메인별 적합성</strong>:</p><pre class=mermaid>graph TB
    A[도메인 분석] --&gt; B{데이터 중심성}
    B --&gt;|높음| C[ER Modeling 적합]
    B --&gt;|중간| D[Hybrid 접근]
    B --&gt;|낮음| E[대안 검토]
    
    C --&gt; C1[금융&lt;br/&gt;ERP&lt;br/&gt;전자상거래]
    D --&gt; D1[SaaS&lt;br/&gt;IoT&lt;br/&gt;분석 플랫폼]
    E --&gt; E1[실시간 스트리밍&lt;br/&gt;머신러닝&lt;br/&gt;단순 CRUD]
    
    style C fill:#c8e6c9
    style D fill:#fff9c4
    style E fill:#ffcdd2
</pre><p><strong>구체적 적용 시나리오</strong>:</p><h5 id=매우-적합한-경우>매우 적합한 경우<a hidden class=anchor aria-hidden=true href=#매우-적합한-경우>#</a></h5><table><thead><tr><th>시나리오</th><th>이유</th><th>예시</th><th>핵심 요소</th></tr></thead><tbody><tr><td>엔터프라이즈 ERP</td><td>복잡한 비즈니스 규칙, 다수 개체</td><td>SAP, Oracle EBS</td><td>수백 개 개체, 다양한 관계</td></tr><tr><td>금융 시스템</td><td>높은 데이터 무결성, 감사 추적</td><td>은행 코어뱅킹</td><td>정규화, 제약조건 중요</td></tr><tr><td>의료 정보 시스템</td><td>복잡한 도메인, 규제 준수</td><td>EMR, HIS</td><td>명확한 개체 관계 필수</td></tr><tr><td>전자상거래</td><td>주문-결제-배송 복잡 프로세스</td><td>쿠팡, 아마존</td><td>트랜잭션 일관성 중요</td></tr></tbody></table><h5 id=적합한-경우>적합한 경우<a hidden class=anchor aria-hidden=true href=#적합한-경우>#</a></h5><table><thead><tr><th>시나리오</th><th>고려사항</th><th>예시</th><th>접근 방법</th></tr></thead><tbody><tr><td>CRM 시스템</td><td>고객-영업-마케팅 관계</td><td>Salesforce 유사</td><td>핵심 개체 중심 모델링</td></tr><tr><td>프로젝트 관리</td><td>작업-리소스-일정 관계</td><td>Jira, Asana 유사</td><td>점진적 확장</td></tr><tr><td>콘텐츠 관리</td><td>계층적 구조, 메타데이터</td><td>WordPress, Drupal</td><td>일반화/특수화 활용</td></tr></tbody></table><h5 id=부적합하거나-대안-필요한-경우>부적합하거나 대안 필요한 경우<a hidden class=anchor aria-hidden=true href=#부적합하거나-대안-필요한-경우>#</a></h5><table><thead><tr><th>시나리오</th><th>한계</th><th>대안 기술</th><th>이유</th></tr></thead><tbody><tr><td>소셜 네트워크</td><td>복잡한 그래프 관계</td><td>Graph Database (Neo4j)</td><td>N-hop 탐색 비효율</td></tr><tr><td>실시간 분석</td><td>과도한 조인</td><td>Column-Store, OLAP Cube</td><td>집계 중심, 읽기 최적화</td></tr><tr><td>문서 저장소</td><td>가변 스키마</td><td>Document DB (MongoDB)</td><td>스키마 유연성 필요</td></tr><tr><td>IoT 시계열</td><td>시간 중심 데이터</td><td>Time-Series DB (InfluxDB)</td><td>시간축 최적화</td></tr><tr><td>키-값 캐시</td><td>단순 저장/조회</td><td>Redis, Memcached</td><td>복잡한 모델링 불필요</td></tr></tbody></table><p><strong>의사결정 체크리스트</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-44-1><a class=lnlinks href=#hl-44-1> 1</a>
</span><span class=lnt id=hl-44-2><a class=lnlinks href=#hl-44-2> 2</a>
</span><span class=lnt id=hl-44-3><a class=lnlinks href=#hl-44-3> 3</a>
</span><span class=lnt id=hl-44-4><a class=lnlinks href=#hl-44-4> 4</a>
</span><span class=lnt id=hl-44-5><a class=lnlinks href=#hl-44-5> 5</a>
</span><span class=lnt id=hl-44-6><a class=lnlinks href=#hl-44-6> 6</a>
</span><span class=lnt id=hl-44-7><a class=lnlinks href=#hl-44-7> 7</a>
</span><span class=lnt id=hl-44-8><a class=lnlinks href=#hl-44-8> 8</a>
</span><span class=lnt id=hl-44-9><a class=lnlinks href=#hl-44-9> 9</a>
</span><span class=lnt id=hl-44-10><a class=lnlinks href=#hl-44-10>10</a>
</span><span class=lnt id=hl-44-11><a class=lnlinks href=#hl-44-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>☑ 개체 수가 10개 이상인가?
</span></span><span class=line><span class=cl>☑ 개체 간 관계가 명확한가?
</span></span><span class=line><span class=cl>☑ 데이터 무결성이 중요한가?
</span></span><span class=line><span class=cl>☑ 장기 유지보수가 예상되는가?
</span></span><span class=line><span class=cl>☑ 여러 이해관계자와 소통이 필요한가?
</span></span><span class=line><span class=cl>☑ 정규화된 구조가 유리한가?
</span></span><span class=line><span class=cl>☑ 관계형 DB를 사용하는가?
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>YES가 5개 이상: ER Modeling 적극 권장
</span></span><span class=line><span class=cl>YES가 3-4개: ER Modeling 권장, 간소화 고려
</span></span><span class=line><span class=cl>YES가 2개 이하: 대안 기술 검토
</span></span></code></pre></td></tr></table></div></div><hr><p>계속해서 Phase 4부터 진행하겠습니다.</p><h3 id=phase-4-구현-방법-및-분류-2>Phase 4: 구현 방법 및 분류<a hidden class=anchor aria-hidden=true href=#phase-4-구현-방법-및-분류-2>#</a></h3><h4 id=41-구현-방법-및-기법>4.1 구현 방법 및 기법<a hidden class=anchor aria-hidden=true href=#41-구현-방법-및-기법>#</a></h4><p>ER Modeling의 구현은 개념적 모델을 실제 데이터베이스로 변환하는 과정입니다. 다음은 주요 구현 기법들입니다.</p><h5 id=411-개체를-테이블로-매핑>4.1.1 개체를 테이블로 매핑<a hidden class=anchor aria-hidden=true href=#411-개체를-테이블로-매핑>#</a></h5><p><strong>정의</strong>: 각 강한 개체(Strong Entity)를 관계형 테이블로 변환하는 기법</p><p><strong>특징</strong>:</p><ul><li>개체의 속성 → 테이블의 컬럼</li><li>키 속성 → 기본키(Primary Key)</li><li>개체 인스턴스 → 테이블의 행(Row)</li></ul><p><strong>목적</strong>: 개념적 개체를 물리적 저장 구조로 구현</p><p><strong>사용 상황</strong>: 모든 강한 개체에 적용하는 기본 매핑 규칙</p><p><strong>예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-45-1><a class=lnlinks href=#hl-45-1> 1</a>
</span><span class=lnt id=hl-45-2><a class=lnlinks href=#hl-45-2> 2</a>
</span><span class=lnt id=hl-45-3><a class=lnlinks href=#hl-45-3> 3</a>
</span><span class=lnt id=hl-45-4><a class=lnlinks href=#hl-45-4> 4</a>
</span><span class=lnt id=hl-45-5><a class=lnlinks href=#hl-45-5> 5</a>
</span><span class=lnt id=hl-45-6><a class=lnlinks href=#hl-45-6> 6</a>
</span><span class=lnt id=hl-45-7><a class=lnlinks href=#hl-45-7> 7</a>
</span><span class=lnt id=hl-45-8><a class=lnlinks href=#hl-45-8> 8</a>
</span><span class=lnt id=hl-45-9><a class=lnlinks href=#hl-45-9> 9</a>
</span><span class=lnt id=hl-45-10><a class=lnlinks href=#hl-45-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[ER 모델]
</span></span><span class=line><span class=cl>Customer (customer_id, name, email, phone)
</span></span><span class=line><span class=cl>         ↓
</span></span><span class=line><span class=cl>[관계형 테이블]
</span></span><span class=line><span class=cl>CREATE TABLE Customer (
</span></span><span class=line><span class=cl>    customer_id INT PRIMARY KEY,
</span></span><span class=line><span class=cl>    name VARCHAR(100) NOT NULL,
</span></span><span class=line><span class=cl>    email VARCHAR(100) UNIQUE,
</span></span><span class=line><span class=cl>    phone VARCHAR(20)
</span></span><span class=line><span class=cl>);
</span></span></code></pre></td></tr></table></div></div><h5 id=412-관계를-외래키로-매핑>4.1.2 관계를 외래키로 매핑<a hidden class=anchor aria-hidden=true href=#412-관계를-외래키로-매핑>#</a></h5><p><strong>정의</strong>: 개체 간 관계를 외래키(Foreign Key) 제약조건으로 구현</p><p><strong>특징</strong>:</p><ul><li>1:N 관계: N 측에 외래키 배치</li><li>1:1 관계: 한쪽에 외래키 + UNIQUE 제약</li><li>N:M 관계: 별도 조인 테이블 생성</li></ul><p><strong>목적</strong>: 개체 간 연관성을 참조 무결성으로 보장</p><p><strong>사용 상황</strong>: 모든 관계 유형에 따라 차별적 적용</p><p><strong>예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-46-1><a class=lnlinks href=#hl-46-1> 1</a>
</span><span class=lnt id=hl-46-2><a class=lnlinks href=#hl-46-2> 2</a>
</span><span class=lnt id=hl-46-3><a class=lnlinks href=#hl-46-3> 3</a>
</span><span class=lnt id=hl-46-4><a class=lnlinks href=#hl-46-4> 4</a>
</span><span class=lnt id=hl-46-5><a class=lnlinks href=#hl-46-5> 5</a>
</span><span class=lnt id=hl-46-6><a class=lnlinks href=#hl-46-6> 6</a>
</span><span class=lnt id=hl-46-7><a class=lnlinks href=#hl-46-7> 7</a>
</span><span class=lnt id=hl-46-8><a class=lnlinks href=#hl-46-8> 8</a>
</span><span class=lnt id=hl-46-9><a class=lnlinks href=#hl-46-9> 9</a>
</span><span class=lnt id=hl-46-10><a class=lnlinks href=#hl-46-10>10</a>
</span><span class=lnt id=hl-46-11><a class=lnlinks href=#hl-46-11>11</a>
</span><span class=lnt id=hl-46-12><a class=lnlinks href=#hl-46-12>12</a>
</span><span class=lnt id=hl-46-13><a class=lnlinks href=#hl-46-13>13</a>
</span><span class=lnt id=hl-46-14><a class=lnlinks href=#hl-46-14>14</a>
</span><span class=lnt id=hl-46-15><a class=lnlinks href=#hl-46-15>15</a>
</span><span class=lnt id=hl-46-16><a class=lnlinks href=#hl-46-16>16</a>
</span><span class=lnt id=hl-46-17><a class=lnlinks href=#hl-46-17>17</a>
</span><span class=lnt id=hl-46-18><a class=lnlinks href=#hl-46-18>18</a>
</span><span class=lnt id=hl-46-19><a class=lnlinks href=#hl-46-19>19</a>
</span><span class=lnt id=hl-46-20><a class=lnlinks href=#hl-46-20>20</a>
</span><span class=lnt id=hl-46-21><a class=lnlinks href=#hl-46-21>21</a>
</span><span class=lnt id=hl-46-22><a class=lnlinks href=#hl-46-22>22</a>
</span><span class=lnt id=hl-46-23><a class=lnlinks href=#hl-46-23>23</a>
</span><span class=lnt id=hl-46-24><a class=lnlinks href=#hl-46-24>24</a>
</span><span class=lnt id=hl-46-25><a class=lnlinks href=#hl-46-25>25</a>
</span><span class=lnt id=hl-46-26><a class=lnlinks href=#hl-46-26>26</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 1:N 관계: Customer (1) - Order (N)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_date</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>customer_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Customer</span><span class=p>(</span><span class=n>customer_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 1:1 관계: Order (1) - Payment (1)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Payment</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>payment_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>UNIQUE</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>amount</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>order_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Orders</span><span class=p>(</span><span class=n>order_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- N:M 관계: Student (N) - Course (M)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Enrollment</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>student_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>course_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>enroll_date</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>grade</span><span class=w> </span><span class=nb>CHAR</span><span class=p>(</span><span class=mi>2</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>student_id</span><span class=p>,</span><span class=w> </span><span class=n>course_id</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>student_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Student</span><span class=p>(</span><span class=n>student_id</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>course_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Course</span><span class=p>(</span><span class=n>course_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=413-약한-개체-매핑>4.1.3 약한 개체 매핑<a hidden class=anchor aria-hidden=true href=#413-약한-개체-매핑>#</a></h5><p><strong>정의</strong>: 약한 개체를 소유자 개체의 키를 포함한 테이블로 변환</p><p><strong>특징</strong>:</p><ul><li>소유자 개체의 기본키 + 부분키 = 복합 기본키</li><li>CASCADE 삭제/업데이트 적용</li><li>소유자 없이 존재 불가</li></ul><p><strong>목적</strong>: 종속적 개체의 생명주기 관리</p><p><strong>사용 상황</strong>: 계층적 데이터, 주문-상세 관계 등</p><p><strong>예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-47-1><a class=lnlinks href=#hl-47-1> 1</a>
</span><span class=lnt id=hl-47-2><a class=lnlinks href=#hl-47-2> 2</a>
</span><span class=lnt id=hl-47-3><a class=lnlinks href=#hl-47-3> 3</a>
</span><span class=lnt id=hl-47-4><a class=lnlinks href=#hl-47-4> 4</a>
</span><span class=lnt id=hl-47-5><a class=lnlinks href=#hl-47-5> 5</a>
</span><span class=lnt id=hl-47-6><a class=lnlinks href=#hl-47-6> 6</a>
</span><span class=lnt id=hl-47-7><a class=lnlinks href=#hl-47-7> 7</a>
</span><span class=lnt id=hl-47-8><a class=lnlinks href=#hl-47-8> 8</a>
</span><span class=lnt id=hl-47-9><a class=lnlinks href=#hl-47-9> 9</a>
</span><span class=lnt id=hl-47-10><a class=lnlinks href=#hl-47-10>10</a>
</span><span class=lnt id=hl-47-11><a class=lnlinks href=#hl-47-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- Order (강한 개체) - OrderItem (약한 개체)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>OrderItem</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>              </span><span class=c1>-- 소유자 키
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>item_seq</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>              </span><span class=c1>-- 부분 키
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>product_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>quantity</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>order_id</span><span class=p>,</span><span class=w> </span><span class=n>item_seq</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>order_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Orders</span><span class=p>(</span><span class=n>order_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ON</span><span class=w> </span><span class=k>DELETE</span><span class=w> </span><span class=k>CASCADE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ON</span><span class=w> </span><span class=k>UPDATE</span><span class=w> </span><span class=k>CASCADE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=414-다중값-속성-매핑>4.1.4 다중값 속성 매핑<a hidden class=anchor aria-hidden=true href=#414-다중값-속성-매핑>#</a></h5><p><strong>정의</strong>: 한 개체가 여러 값을 가질 수 있는 속성을 별도 테이블로 분리</p><p><strong>특징</strong>:</p><ul><li>별도 테이블 생성</li><li>원본 개체의 기본키 + 속성 값 = 복합 구조</li><li>1:N 관계로 변환</li></ul><p><strong>목적</strong>: 제1정규형(1NF) 준수</p><p><strong>사용 상황</strong>: 전화번호, 이메일, 태그 등 반복 속성</p><p><strong>예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-48-1><a class=lnlinks href=#hl-48-1> 1</a>
</span><span class=lnt id=hl-48-2><a class=lnlinks href=#hl-48-2> 2</a>
</span><span class=lnt id=hl-48-3><a class=lnlinks href=#hl-48-3> 3</a>
</span><span class=lnt id=hl-48-4><a class=lnlinks href=#hl-48-4> 4</a>
</span><span class=lnt id=hl-48-5><a class=lnlinks href=#hl-48-5> 5</a>
</span><span class=lnt id=hl-48-6><a class=lnlinks href=#hl-48-6> 6</a>
</span><span class=lnt id=hl-48-7><a class=lnlinks href=#hl-48-7> 7</a>
</span><span class=lnt id=hl-48-8><a class=lnlinks href=#hl-48-8> 8</a>
</span><span class=lnt id=hl-48-9><a class=lnlinks href=#hl-48-9> 9</a>
</span><span class=lnt id=hl-48-10><a class=lnlinks href=#hl-48-10>10</a>
</span><span class=lnt id=hl-48-11><a class=lnlinks href=#hl-48-11>11</a>
</span><span class=lnt id=hl-48-12><a class=lnlinks href=#hl-48-12>12</a>
</span><span class=lnt id=hl-48-13><a class=lnlinks href=#hl-48-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- Customer의 다중값 속성: phone_numbers
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>CustomerPhone</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>phone_number</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>phone_type</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>  </span><span class=c1>-- &#39;mobile&#39;, &#39;home&#39;, &#39;work&#39;
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>customer_id</span><span class=p>,</span><span class=w> </span><span class=n>phone_number</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>customer_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Customer</span><span class=p>(</span><span class=n>customer_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=415-복합-속성-매핑>4.1.5 복합 속성 매핑<a hidden class=anchor aria-hidden=true href=#415-복합-속성-매핑>#</a></h5><p><strong>정의</strong>: 계층적 구조를 가진 속성을 개별 컬럼으로 분해</p><p><strong>특징</strong>:</p><ul><li>각 하위 구성 요소를 별도 컬럼으로</li><li>평탄화(Flattening)를 통한 단순 구조</li><li>검색 및 인덱싱 용이</li></ul><p><strong>목적</strong>: 속성의 각 부분을 독립적으로 접근 가능하게 함</p><p><strong>사용 상황</strong>: 주소, 이름(성/이름), 날짜/시간 구성요소</p><p><strong>예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-49-1><a class=lnlinks href=#hl-49-1> 1</a>
</span><span class=lnt id=hl-49-2><a class=lnlinks href=#hl-49-2> 2</a>
</span><span class=lnt id=hl-49-3><a class=lnlinks href=#hl-49-3> 3</a>
</span><span class=lnt id=hl-49-4><a class=lnlinks href=#hl-49-4> 4</a>
</span><span class=lnt id=hl-49-5><a class=lnlinks href=#hl-49-5> 5</a>
</span><span class=lnt id=hl-49-6><a class=lnlinks href=#hl-49-6> 6</a>
</span><span class=lnt id=hl-49-7><a class=lnlinks href=#hl-49-7> 7</a>
</span><span class=lnt id=hl-49-8><a class=lnlinks href=#hl-49-8> 8</a>
</span><span class=lnt id=hl-49-9><a class=lnlinks href=#hl-49-9> 9</a>
</span><span class=lnt id=hl-49-10><a class=lnlinks href=#hl-49-10>10</a>
</span><span class=lnt id=hl-49-11><a class=lnlinks href=#hl-49-11>11</a>
</span><span class=lnt id=hl-49-12><a class=lnlinks href=#hl-49-12>12</a>
</span><span class=lnt id=hl-49-13><a class=lnlinks href=#hl-49-13>13</a>
</span><span class=lnt id=hl-49-14><a class=lnlinks href=#hl-49-14>14</a>
</span><span class=lnt id=hl-49-15><a class=lnlinks href=#hl-49-15>15</a>
</span><span class=lnt id=hl-49-16><a class=lnlinks href=#hl-49-16>16</a>
</span><span class=lnt id=hl-49-17><a class=lnlinks href=#hl-49-17>17</a>
</span><span class=lnt id=hl-49-18><a class=lnlinks href=#hl-49-18>18</a>
</span><span class=lnt id=hl-49-19><a class=lnlinks href=#hl-49-19>19</a>
</span><span class=lnt id=hl-49-20><a class=lnlinks href=#hl-49-20>20</a>
</span><span class=lnt id=hl-49-21><a class=lnlinks href=#hl-49-21>21</a>
</span><span class=lnt id=hl-49-22><a class=lnlinks href=#hl-49-22>22</a>
</span><span class=lnt id=hl-49-23><a class=lnlinks href=#hl-49-23>23</a>
</span><span class=lnt id=hl-49-24><a class=lnlinks href=#hl-49-24>24</a>
</span><span class=lnt id=hl-49-25><a class=lnlinks href=#hl-49-25>25</a>
</span><span class=lnt id=hl-49-26><a class=lnlinks href=#hl-49-26>26</a>
</span><span class=lnt id=hl-49-27><a class=lnlinks href=#hl-49-27>27</a>
</span><span class=lnt id=hl-49-28><a class=lnlinks href=#hl-49-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- Address (복합 속성)
</span></span></span><span class=line><span class=cl><span class=c1>-- Address = Street + City + State + ZipCode
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- Address 복합 속성 분해
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>street</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>200</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>city</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>state</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>zipcode</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 또는 별도 테이블로 정규화
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Address</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>address_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>street</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>200</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>city</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>state</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>zipcode</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>address_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>address_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Address</span><span class=p>(</span><span class=n>address_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=416-유도-속성-처리>4.1.6 유도 속성 처리<a hidden class=anchor aria-hidden=true href=#416-유도-속성-처리>#</a></h5><p><strong>정의</strong>: 다른 속성으로부터 계산 가능한 속성의 구현 방법</p><p><strong>특징</strong>:</p><ul><li>저장 방식: 실제 컬럼으로 저장 (중복)</li><li>계산 방식: VIEW 또는 계산 컬럼 사용</li><li>트레이드오프: 저장공간 vs 계산시간</li></ul><p><strong>목적</strong>: 성능과 저장공간 간 균형</p><p><strong>사용 상황</strong>:</p><ul><li>저장: 복잡한 계산, 자주 조회</li><li>계산: 단순 계산, 실시간 정확성 필요</li></ul><p><strong>예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-50-1><a class=lnlinks href=#hl-50-1> 1</a>
</span><span class=lnt id=hl-50-2><a class=lnlinks href=#hl-50-2> 2</a>
</span><span class=lnt id=hl-50-3><a class=lnlinks href=#hl-50-3> 3</a>
</span><span class=lnt id=hl-50-4><a class=lnlinks href=#hl-50-4> 4</a>
</span><span class=lnt id=hl-50-5><a class=lnlinks href=#hl-50-5> 5</a>
</span><span class=lnt id=hl-50-6><a class=lnlinks href=#hl-50-6> 6</a>
</span><span class=lnt id=hl-50-7><a class=lnlinks href=#hl-50-7> 7</a>
</span><span class=lnt id=hl-50-8><a class=lnlinks href=#hl-50-8> 8</a>
</span><span class=lnt id=hl-50-9><a class=lnlinks href=#hl-50-9> 9</a>
</span><span class=lnt id=hl-50-10><a class=lnlinks href=#hl-50-10>10</a>
</span><span class=lnt id=hl-50-11><a class=lnlinks href=#hl-50-11>11</a>
</span><span class=lnt id=hl-50-12><a class=lnlinks href=#hl-50-12>12</a>
</span><span class=lnt id=hl-50-13><a class=lnlinks href=#hl-50-13>13</a>
</span><span class=lnt id=hl-50-14><a class=lnlinks href=#hl-50-14>14</a>
</span><span class=lnt id=hl-50-15><a class=lnlinks href=#hl-50-15>15</a>
</span><span class=lnt id=hl-50-16><a class=lnlinks href=#hl-50-16>16</a>
</span><span class=lnt id=hl-50-17><a class=lnlinks href=#hl-50-17>17</a>
</span><span class=lnt id=hl-50-18><a class=lnlinks href=#hl-50-18>18</a>
</span><span class=lnt id=hl-50-19><a class=lnlinks href=#hl-50-19>19</a>
</span><span class=lnt id=hl-50-20><a class=lnlinks href=#hl-50-20>20</a>
</span><span class=lnt id=hl-50-21><a class=lnlinks href=#hl-50-21>21</a>
</span><span class=lnt id=hl-50-22><a class=lnlinks href=#hl-50-22>22</a>
</span><span class=lnt id=hl-50-23><a class=lnlinks href=#hl-50-23>23</a>
</span><span class=lnt id=hl-50-24><a class=lnlinks href=#hl-50-24>24</a>
</span><span class=lnt id=hl-50-25><a class=lnlinks href=#hl-50-25>25</a>
</span><span class=lnt id=hl-50-26><a class=lnlinks href=#hl-50-26>26</a>
</span><span class=lnt id=hl-50-27><a class=lnlinks href=#hl-50-27>27</a>
</span><span class=lnt id=hl-50-28><a class=lnlinks href=#hl-50-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 방법 1: 계산 컬럼 (MySQL 5.7+, PostgreSQL)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Person</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>person_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>birthdate</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>age</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>GENERATED</span><span class=w> </span><span class=n>ALWAYS</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>YEAR</span><span class=p>(</span><span class=k>CURRENT_DATE</span><span class=p>)</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=k>YEAR</span><span class=p>(</span><span class=n>birthdate</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>)</span><span class=w> </span><span class=n>STORED</span><span class=w>  </span><span class=c1>-- 또는 VIRTUAL
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 방법 2: VIEW 사용
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>VIEW</span><span class=w> </span><span class=n>PersonWithAge</span><span class=w> </span><span class=k>AS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>person_id</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>birthdate</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>YEAR</span><span class=p>(</span><span class=k>CURRENT_DATE</span><span class=p>)</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=k>YEAR</span><span class=p>(</span><span class=n>birthdate</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>age</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Person</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 방법 3: 트리거로 유지
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Person</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>person_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>birthdate</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>age</span><span class=w> </span><span class=nb>INT</span><span class=w>  </span><span class=c1>-- 저장된 유도 속성
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TRIGGER</span><span class=w> </span><span class=n>update_age</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>BEFORE</span><span class=w> </span><span class=k>INSERT</span><span class=w> </span><span class=k>OR</span><span class=w> </span><span class=k>UPDATE</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>Person</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FOR</span><span class=w> </span><span class=k>EACH</span><span class=w> </span><span class=k>ROW</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SET</span><span class=w> </span><span class=k>NEW</span><span class=p>.</span><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>YEAR</span><span class=p>(</span><span class=k>CURRENT_DATE</span><span class=p>)</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=k>YEAR</span><span class=p>(</span><span class=k>NEW</span><span class=p>.</span><span class=n>birthdate</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=417-특수화일반화-매핑>4.1.7 특수화/일반화 매핑<a hidden class=anchor aria-hidden=true href=#417-특수화일반화-매핑>#</a></h5><p><strong>정의</strong>: 상속 구조(ISA 관계)를 관계형 테이블로 변환하는 전략</p><p><strong>특징</strong>: 3가지 구현 전략 존재</p><p><strong>목적</strong>: 객체지향 상속을 관계형 구조로 표현</p><p><strong>사용 상황</strong>: 공통 속성과 특화 속성이 혼재된 개체 계층</p><p><strong>예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-51-1><a class=lnlinks href=#hl-51-1> 1</a>
</span><span class=lnt id=hl-51-2><a class=lnlinks href=#hl-51-2> 2</a>
</span><span class=lnt id=hl-51-3><a class=lnlinks href=#hl-51-3> 3</a>
</span><span class=lnt id=hl-51-4><a class=lnlinks href=#hl-51-4> 4</a>
</span><span class=lnt id=hl-51-5><a class=lnlinks href=#hl-51-5> 5</a>
</span><span class=lnt id=hl-51-6><a class=lnlinks href=#hl-51-6> 6</a>
</span><span class=lnt id=hl-51-7><a class=lnlinks href=#hl-51-7> 7</a>
</span><span class=lnt id=hl-51-8><a class=lnlinks href=#hl-51-8> 8</a>
</span><span class=lnt id=hl-51-9><a class=lnlinks href=#hl-51-9> 9</a>
</span><span class=lnt id=hl-51-10><a class=lnlinks href=#hl-51-10>10</a>
</span><span class=lnt id=hl-51-11><a class=lnlinks href=#hl-51-11>11</a>
</span><span class=lnt id=hl-51-12><a class=lnlinks href=#hl-51-12>12</a>
</span><span class=lnt id=hl-51-13><a class=lnlinks href=#hl-51-13>13</a>
</span><span class=lnt id=hl-51-14><a class=lnlinks href=#hl-51-14>14</a>
</span><span class=lnt id=hl-51-15><a class=lnlinks href=#hl-51-15>15</a>
</span><span class=lnt id=hl-51-16><a class=lnlinks href=#hl-51-16>16</a>
</span><span class=lnt id=hl-51-17><a class=lnlinks href=#hl-51-17>17</a>
</span><span class=lnt id=hl-51-18><a class=lnlinks href=#hl-51-18>18</a>
</span><span class=lnt id=hl-51-19><a class=lnlinks href=#hl-51-19>19</a>
</span><span class=lnt id=hl-51-20><a class=lnlinks href=#hl-51-20>20</a>
</span><span class=lnt id=hl-51-21><a class=lnlinks href=#hl-51-21>21</a>
</span><span class=lnt id=hl-51-22><a class=lnlinks href=#hl-51-22>22</a>
</span><span class=lnt id=hl-51-23><a class=lnlinks href=#hl-51-23>23</a>
</span><span class=lnt id=hl-51-24><a class=lnlinks href=#hl-51-24>24</a>
</span><span class=lnt id=hl-51-25><a class=lnlinks href=#hl-51-25>25</a>
</span><span class=lnt id=hl-51-26><a class=lnlinks href=#hl-51-26>26</a>
</span><span class=lnt id=hl-51-27><a class=lnlinks href=#hl-51-27>27</a>
</span><span class=lnt id=hl-51-28><a class=lnlinks href=#hl-51-28>28</a>
</span><span class=lnt id=hl-51-29><a class=lnlinks href=#hl-51-29>29</a>
</span><span class=lnt id=hl-51-30><a class=lnlinks href=#hl-51-30>30</a>
</span><span class=lnt id=hl-51-31><a class=lnlinks href=#hl-51-31>31</a>
</span><span class=lnt id=hl-51-32><a class=lnlinks href=#hl-51-32>32</a>
</span><span class=lnt id=hl-51-33><a class=lnlinks href=#hl-51-33>33</a>
</span><span class=lnt id=hl-51-34><a class=lnlinks href=#hl-51-34>34</a>
</span><span class=lnt id=hl-51-35><a class=lnlinks href=#hl-51-35>35</a>
</span><span class=lnt id=hl-51-36><a class=lnlinks href=#hl-51-36>36</a>
</span><span class=lnt id=hl-51-37><a class=lnlinks href=#hl-51-37>37</a>
</span><span class=lnt id=hl-51-38><a class=lnlinks href=#hl-51-38>38</a>
</span><span class=lnt id=hl-51-39><a class=lnlinks href=#hl-51-39>39</a>
</span><span class=lnt id=hl-51-40><a class=lnlinks href=#hl-51-40>40</a>
</span><span class=lnt id=hl-51-41><a class=lnlinks href=#hl-51-41>41</a>
</span><span class=lnt id=hl-51-42><a class=lnlinks href=#hl-51-42>42</a>
</span><span class=lnt id=hl-51-43><a class=lnlinks href=#hl-51-43>43</a>
</span><span class=lnt id=hl-51-44><a class=lnlinks href=#hl-51-44>44</a>
</span><span class=lnt id=hl-51-45><a class=lnlinks href=#hl-51-45>45</a>
</span><span class=lnt id=hl-51-46><a class=lnlinks href=#hl-51-46>46</a>
</span><span class=lnt id=hl-51-47><a class=lnlinks href=#hl-51-47>47</a>
</span><span class=lnt id=hl-51-48><a class=lnlinks href=#hl-51-48>48</a>
</span><span class=lnt id=hl-51-49><a class=lnlinks href=#hl-51-49>49</a>
</span><span class=lnt id=hl-51-50><a class=lnlinks href=#hl-51-50>50</a>
</span><span class=lnt id=hl-51-51><a class=lnlinks href=#hl-51-51>51</a>
</span><span class=lnt id=hl-51-52><a class=lnlinks href=#hl-51-52>52</a>
</span><span class=lnt id=hl-51-53><a class=lnlinks href=#hl-51-53>53</a>
</span><span class=lnt id=hl-51-54><a class=lnlinks href=#hl-51-54>54</a>
</span><span class=lnt id=hl-51-55><a class=lnlinks href=#hl-51-55>55</a>
</span><span class=lnt id=hl-51-56><a class=lnlinks href=#hl-51-56>56</a>
</span><span class=lnt id=hl-51-57><a class=lnlinks href=#hl-51-57>57</a>
</span><span class=lnt id=hl-51-58><a class=lnlinks href=#hl-51-58>58</a>
</span><span class=lnt id=hl-51-59><a class=lnlinks href=#hl-51-59>59</a>
</span><span class=lnt id=hl-51-60><a class=lnlinks href=#hl-51-60>60</a>
</span><span class=lnt id=hl-51-61><a class=lnlinks href=#hl-51-61>61</a>
</span><span class=lnt id=hl-51-62><a class=lnlinks href=#hl-51-62>62</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 전략 1: 단일 테이블 (Single Table Inheritance)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Person</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>person_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>person_type</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w> </span><span class=c1>-- &#39;Employee&#39; or &#39;Customer&#39;
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- Employee 전용 속성
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>employee_id</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>salary</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>hire_date</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- Customer 전용 속성
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>loyalty_level</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>credit_limit</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 장점: 조인 불필요, 단순
</span></span></span><span class=line><span class=cl><span class=c1>-- 단점: NULL 많음, 컬럼 수 증가
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 전략 2: 클래스별 테이블 (Class Table Inheritance)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Person</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>person_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>birthdate</span><span class=w> </span><span class=nb>DATE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Employee</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>person_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>employee_id</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>salary</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>hire_date</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>person_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Person</span><span class=p>(</span><span class=n>person_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>person_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>loyalty_level</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>credit_limit</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>person_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Person</span><span class=p>(</span><span class=n>person_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 장점: 정규화 완벽, 명확한 구조
</span></span></span><span class=line><span class=cl><span class=c1>-- 단점: 조인 필요, 쿼리 복잡
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 전략 3: 구체 클래스 테이블 (Concrete Table Inheritance)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Employee</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>person_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>      </span><span class=c1>-- 공통 속성 중복
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>birthdate</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>         </span><span class=c1>-- 공통 속성 중복
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>employee_id</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>salary</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>hire_date</span><span class=w> </span><span class=nb>DATE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>person_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>      </span><span class=c1>-- 공통 속성 중복
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>birthdate</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>         </span><span class=c1>-- 공통 속성 중복
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>loyalty_level</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>credit_limit</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 장점: 조인 불필요, 빠른 조회
</span></span></span><span class=line><span class=cl><span class=c1>-- 단점: 공통 속성 중복, 통합 쿼리 어려움
</span></span></span></code></pre></td></tr></table></div></div><h4 id=42-유형별-분류-체계>4.2 유형별 분류 체계<a hidden class=anchor aria-hidden=true href=#42-유형별-분류-체계>#</a></h4><p>ER Modeling은 다양한 기준으로 분류할 수 있습니다. 각 분류는 설계 결정과 구현 전략에 영향을 미칩니다.</p><h5 id=421-관계-카디널리티에-따른-분류>4.2.1 관계 카디널리티에 따른 분류<a hidden class=anchor aria-hidden=true href=#421-관계-카디널리티에-따른-분류>#</a></h5><table><thead><tr><th>분류</th><th>정의</th><th>구현 방법</th><th>사용 사례</th><th>특징</th></tr></thead><tbody><tr><td>1:1<br>(One-to-One)</td><td>양쪽 모두 최대 1개 인스턴스</td><td>한쪽에 FK + UNIQUE</td><td>주문-결제, 사용자-프로필</td><td>드물게 발생, 통합 고려 가능</td></tr><tr><td>1:N<br>(One-to-Many)</td><td>한쪽 1개, 다른 쪽 N개</td><td>N 측에 FK</td><td>부서-직원, 고객-주문</td><td>가장 일반적, 정규화 기본</td></tr><tr><td>N:M<br>(Many-to-Many)</td><td>양쪽 모두 N개</td><td>조인 테이블</td><td>학생-과목, 제품-카테고리</td><td>연결 개체 필수</td></tr></tbody></table><p><strong>구현 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-52-1><a class=lnlinks href=#hl-52-1> 1</a>
</span><span class=lnt id=hl-52-2><a class=lnlinks href=#hl-52-2> 2</a>
</span><span class=lnt id=hl-52-3><a class=lnlinks href=#hl-52-3> 3</a>
</span><span class=lnt id=hl-52-4><a class=lnlinks href=#hl-52-4> 4</a>
</span><span class=lnt id=hl-52-5><a class=lnlinks href=#hl-52-5> 5</a>
</span><span class=lnt id=hl-52-6><a class=lnlinks href=#hl-52-6> 6</a>
</span><span class=lnt id=hl-52-7><a class=lnlinks href=#hl-52-7> 7</a>
</span><span class=lnt id=hl-52-8><a class=lnlinks href=#hl-52-8> 8</a>
</span><span class=lnt id=hl-52-9><a class=lnlinks href=#hl-52-9> 9</a>
</span><span class=lnt id=hl-52-10><a class=lnlinks href=#hl-52-10>10</a>
</span><span class=lnt id=hl-52-11><a class=lnlinks href=#hl-52-11>11</a>
</span><span class=lnt id=hl-52-12><a class=lnlinks href=#hl-52-12>12</a>
</span><span class=lnt id=hl-52-13><a class=lnlinks href=#hl-52-13>13</a>
</span><span class=lnt id=hl-52-14><a class=lnlinks href=#hl-52-14>14</a>
</span><span class=lnt id=hl-52-15><a class=lnlinks href=#hl-52-15>15</a>
</span><span class=lnt id=hl-52-16><a class=lnlinks href=#hl-52-16>16</a>
</span><span class=lnt id=hl-52-17><a class=lnlinks href=#hl-52-17>17</a>
</span><span class=lnt id=hl-52-18><a class=lnlinks href=#hl-52-18>18</a>
</span><span class=lnt id=hl-52-19><a class=lnlinks href=#hl-52-19>19</a>
</span><span class=lnt id=hl-52-20><a class=lnlinks href=#hl-52-20>20</a>
</span><span class=lnt id=hl-52-21><a class=lnlinks href=#hl-52-21>21</a>
</span><span class=lnt id=hl-52-22><a class=lnlinks href=#hl-52-22>22</a>
</span><span class=lnt id=hl-52-23><a class=lnlinks href=#hl-52-23>23</a>
</span><span class=lnt id=hl-52-24><a class=lnlinks href=#hl-52-24>24</a>
</span><span class=lnt id=hl-52-25><a class=lnlinks href=#hl-52-25>25</a>
</span><span class=lnt id=hl-52-26><a class=lnlinks href=#hl-52-26>26</a>
</span><span class=lnt id=hl-52-27><a class=lnlinks href=#hl-52-27>27</a>
</span><span class=lnt id=hl-52-28><a class=lnlinks href=#hl-52-28>28</a>
</span><span class=lnt id=hl-52-29><a class=lnlinks href=#hl-52-29>29</a>
</span><span class=lnt id=hl-52-30><a class=lnlinks href=#hl-52-30>30</a>
</span><span class=lnt id=hl-52-31><a class=lnlinks href=#hl-52-31>31</a>
</span><span class=lnt id=hl-52-32><a class=lnlinks href=#hl-52-32>32</a>
</span><span class=lnt id=hl-52-33><a class=lnlinks href=#hl-52-33>33</a>
</span><span class=lnt id=hl-52-34><a class=lnlinks href=#hl-52-34>34</a>
</span><span class=lnt id=hl-52-35><a class=lnlinks href=#hl-52-35>35</a>
</span><span class=lnt id=hl-52-36><a class=lnlinks href=#hl-52-36>36</a>
</span><span class=lnt id=hl-52-37><a class=lnlinks href=#hl-52-37>37</a>
</span><span class=lnt id=hl-52-38><a class=lnlinks href=#hl-52-38>38</a>
</span><span class=lnt id=hl-52-39><a class=lnlinks href=#hl-52-39>39</a>
</span><span class=lnt id=hl-52-40><a class=lnlinks href=#hl-52-40>40</a>
</span><span class=lnt id=hl-52-41><a class=lnlinks href=#hl-52-41>41</a>
</span><span class=lnt id=hl-52-42><a class=lnlinks href=#hl-52-42>42</a>
</span><span class=lnt id=hl-52-43><a class=lnlinks href=#hl-52-43>43</a>
</span><span class=lnt id=hl-52-44><a class=lnlinks href=#hl-52-44>44</a>
</span><span class=lnt id=hl-52-45><a class=lnlinks href=#hl-52-45>45</a>
</span><span class=lnt id=hl-52-46><a class=lnlinks href=#hl-52-46>46</a>
</span><span class=lnt id=hl-52-47><a class=lnlinks href=#hl-52-47>47</a>
</span><span class=lnt id=hl-52-48><a class=lnlinks href=#hl-52-48>48</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 1:1 관계 구현
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Users</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>user_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>username</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>UserProfile</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>profile_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>user_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>UNIQUE</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>  </span><span class=c1>-- UNIQUE 제약으로 1:1 보장
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>bio</span><span class=w> </span><span class=nb>TEXT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>avatar_url</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>255</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>user_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Users</span><span class=p>(</span><span class=n>user_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 1:N 관계 구현
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Department</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>dept_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>dept_name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Employee</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>emp_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>emp_name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>dept_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>  </span><span class=c1>-- N측에 FK 배치
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>dept_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Department</span><span class=p>(</span><span class=n>dept_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- N:M 관계 구현
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Student</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>student_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>student_name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Course</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>course_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>course_name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 연결 개체 (Associative Entity)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Enrollment</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>student_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>course_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>enroll_date</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>grade</span><span class=w> </span><span class=nb>CHAR</span><span class=p>(</span><span class=mi>2</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>student_id</span><span class=p>,</span><span class=w> </span><span class=n>course_id</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>student_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Student</span><span class=p>(</span><span class=n>student_id</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>course_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Course</span><span class=p>(</span><span class=n>course_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=422-개체-독립성에-따른-분류>4.2.2 개체 독립성에 따른 분류<a hidden class=anchor aria-hidden=true href=#422-개체-독립성에-따른-분류>#</a></h5><table><thead><tr><th>분류</th><th>정의</th><th>식별 방법</th><th>삭제 정책</th><th>예시</th></tr></thead><tbody><tr><td>강한 개체<br>(Strong Entity)</td><td>독립적 존재</td><td>자체 기본키</td><td>독립적 삭제</td><td>Customer, Product</td></tr><tr><td>약한 개체<br>(Weak Entity)</td><td>소유자에 종속</td><td>소유자키 + 부분키</td><td>CASCADE 삭제</td><td>OrderItem, Dependent</td></tr></tbody></table><p><strong>구현 비교</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-53-1><a class=lnlinks href=#hl-53-1> 1</a>
</span><span class=lnt id=hl-53-2><a class=lnlinks href=#hl-53-2> 2</a>
</span><span class=lnt id=hl-53-3><a class=lnlinks href=#hl-53-3> 3</a>
</span><span class=lnt id=hl-53-4><a class=lnlinks href=#hl-53-4> 4</a>
</span><span class=lnt id=hl-53-5><a class=lnlinks href=#hl-53-5> 5</a>
</span><span class=lnt id=hl-53-6><a class=lnlinks href=#hl-53-6> 6</a>
</span><span class=lnt id=hl-53-7><a class=lnlinks href=#hl-53-7> 7</a>
</span><span class=lnt id=hl-53-8><a class=lnlinks href=#hl-53-8> 8</a>
</span><span class=lnt id=hl-53-9><a class=lnlinks href=#hl-53-9> 9</a>
</span><span class=lnt id=hl-53-10><a class=lnlinks href=#hl-53-10>10</a>
</span><span class=lnt id=hl-53-11><a class=lnlinks href=#hl-53-11>11</a>
</span><span class=lnt id=hl-53-12><a class=lnlinks href=#hl-53-12>12</a>
</span><span class=lnt id=hl-53-13><a class=lnlinks href=#hl-53-13>13</a>
</span><span class=lnt id=hl-53-14><a class=lnlinks href=#hl-53-14>14</a>
</span><span class=lnt id=hl-53-15><a class=lnlinks href=#hl-53-15>15</a>
</span><span class=lnt id=hl-53-16><a class=lnlinks href=#hl-53-16>16</a>
</span><span class=lnt id=hl-53-17><a class=lnlinks href=#hl-53-17>17</a>
</span><span class=lnt id=hl-53-18><a class=lnlinks href=#hl-53-18>18</a>
</span><span class=lnt id=hl-53-19><a class=lnlinks href=#hl-53-19>19</a>
</span><span class=lnt id=hl-53-20><a class=lnlinks href=#hl-53-20>20</a>
</span><span class=lnt id=hl-53-21><a class=lnlinks href=#hl-53-21>21</a>
</span><span class=lnt id=hl-53-22><a class=lnlinks href=#hl-53-22>22</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 강한 개체: 독립적 존재
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Product</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>product_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>  </span><span class=c1>-- 독립적 식별
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>product_name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>price</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 약한 개체: 종속적 존재
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_date</span><span class=w> </span><span class=nb>DATE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>OrderItem</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>              </span><span class=c1>-- 소유자 키
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>item_seq</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>              </span><span class=c1>-- 부분 키
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>product_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>quantity</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>order_id</span><span class=p>,</span><span class=w> </span><span class=n>item_seq</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>order_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Orders</span><span class=p>(</span><span class=n>order_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ON</span><span class=w> </span><span class=k>DELETE</span><span class=w> </span><span class=k>CASCADE</span><span class=w>      </span><span class=c1>-- 주문 삭제 시 함께 삭제
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=423-관계-차수에-따른-분류>4.2.3 관계 차수에 따른 분류<a hidden class=anchor aria-hidden=true href=#423-관계-차수에-따른-분류>#</a></h5><table><thead><tr><th>분류</th><th>참여 개체 수</th><th>복잡도</th><th>구현 방법</th><th>사용 빈도</th></tr></thead><tbody><tr><td>단항<br>(Unary/Recursive)</td><td>1개</td><td>중간</td><td>자기 참조 FK</td><td>조직도, 카테고리 계층</td></tr><tr><td>이진<br>(Binary)</td><td>2개</td><td>낮음</td><td>표준 FK 또는 조인 테이블</td><td>90% 이상</td></tr><tr><td>삼진<br>(Ternary)</td><td>3개</td><td>높음</td><td>3개 FK를 가진 테이블</td><td>5% 미만</td></tr><tr><td>N진<br>(N-ary)</td><td>N개</td><td>매우 높음</td><td>N개 FK, 복합키</td><td>1% 미만</td></tr></tbody></table><p><strong>구현 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-54-1><a class=lnlinks href=#hl-54-1> 1</a>
</span><span class=lnt id=hl-54-2><a class=lnlinks href=#hl-54-2> 2</a>
</span><span class=lnt id=hl-54-3><a class=lnlinks href=#hl-54-3> 3</a>
</span><span class=lnt id=hl-54-4><a class=lnlinks href=#hl-54-4> 4</a>
</span><span class=lnt id=hl-54-5><a class=lnlinks href=#hl-54-5> 5</a>
</span><span class=lnt id=hl-54-6><a class=lnlinks href=#hl-54-6> 6</a>
</span><span class=lnt id=hl-54-7><a class=lnlinks href=#hl-54-7> 7</a>
</span><span class=lnt id=hl-54-8><a class=lnlinks href=#hl-54-8> 8</a>
</span><span class=lnt id=hl-54-9><a class=lnlinks href=#hl-54-9> 9</a>
</span><span class=lnt id=hl-54-10><a class=lnlinks href=#hl-54-10>10</a>
</span><span class=lnt id=hl-54-11><a class=lnlinks href=#hl-54-11>11</a>
</span><span class=lnt id=hl-54-12><a class=lnlinks href=#hl-54-12>12</a>
</span><span class=lnt id=hl-54-13><a class=lnlinks href=#hl-54-13>13</a>
</span><span class=lnt id=hl-54-14><a class=lnlinks href=#hl-54-14>14</a>
</span><span class=lnt id=hl-54-15><a class=lnlinks href=#hl-54-15>15</a>
</span><span class=lnt id=hl-54-16><a class=lnlinks href=#hl-54-16>16</a>
</span><span class=lnt id=hl-54-17><a class=lnlinks href=#hl-54-17>17</a>
</span><span class=lnt id=hl-54-18><a class=lnlinks href=#hl-54-18>18</a>
</span><span class=lnt id=hl-54-19><a class=lnlinks href=#hl-54-19>19</a>
</span><span class=lnt id=hl-54-20><a class=lnlinks href=#hl-54-20>20</a>
</span><span class=lnt id=hl-54-21><a class=lnlinks href=#hl-54-21>21</a>
</span><span class=lnt id=hl-54-22><a class=lnlinks href=#hl-54-22>22</a>
</span><span class=lnt id=hl-54-23><a class=lnlinks href=#hl-54-23>23</a>
</span><span class=lnt id=hl-54-24><a class=lnlinks href=#hl-54-24>24</a>
</span><span class=lnt id=hl-54-25><a class=lnlinks href=#hl-54-25>25</a>
</span><span class=lnt id=hl-54-26><a class=lnlinks href=#hl-54-26>26</a>
</span><span class=lnt id=hl-54-27><a class=lnlinks href=#hl-54-27>27</a>
</span><span class=lnt id=hl-54-28><a class=lnlinks href=#hl-54-28>28</a>
</span><span class=lnt id=hl-54-29><a class=lnlinks href=#hl-54-29>29</a>
</span><span class=lnt id=hl-54-30><a class=lnlinks href=#hl-54-30>30</a>
</span><span class=lnt id=hl-54-31><a class=lnlinks href=#hl-54-31>31</a>
</span><span class=lnt id=hl-54-32><a class=lnlinks href=#hl-54-32>32</a>
</span><span class=lnt id=hl-54-33><a class=lnlinks href=#hl-54-33>33</a>
</span><span class=lnt id=hl-54-34><a class=lnlinks href=#hl-54-34>34</a>
</span><span class=lnt id=hl-54-35><a class=lnlinks href=#hl-54-35>35</a>
</span><span class=lnt id=hl-54-36><a class=lnlinks href=#hl-54-36>36</a>
</span><span class=lnt id=hl-54-37><a class=lnlinks href=#hl-54-37>37</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 단항 관계: 직원의 관리자 (재귀 관계)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Employee</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>emp_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>emp_name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>manager_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>  </span><span class=c1>-- 자기 참조
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>manager_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Employee</span><span class=p>(</span><span class=n>emp_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 이진 관계: 가장 일반적 (위 예시들 참조)
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 삼진 관계: 공급자-부품-프로젝트
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Supplier</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>supplier_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>supplier_name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Part</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>part_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>part_name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Project</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>project_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>project_name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Supply</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>supplier_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>part_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>project_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>quantity</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>supply_date</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>supplier_id</span><span class=p>,</span><span class=w> </span><span class=n>part_id</span><span class=p>,</span><span class=w> </span><span class=n>project_id</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>supplier_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Supplier</span><span class=p>(</span><span class=n>supplier_id</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>part_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Part</span><span class=p>(</span><span class=n>part_id</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>project_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Project</span><span class=p>(</span><span class=n>project_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=424-참여-제약에-따른-분류>4.2.4 참여 제약에 따른 분류<a hidden class=anchor aria-hidden=true href=#424-참여-제약에-따른-분류>#</a></h5><table><thead><tr><th>분류</th><th>정의</th><th>제약조건 구현</th><th>비즈니스 의미</th><th>예시</th></tr></thead><tbody><tr><td>전체 참여<br>(Total Participation)</td><td>모든 인스턴스가 관계에 참여</td><td>NOT NULL</td><td>필수 관계</td><td>모든 주문은 고객 필요</td></tr><tr><td>부분 참여<br>(Partial Participation)</td><td>일부만 관계에 참여</td><td>NULL 허용</td><td>선택적 관계</td><td>직원의 부서 배치 선택</td></tr></tbody></table><p><strong>구현 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-55-1><a class=lnlinks href=#hl-55-1> 1</a>
</span><span class=lnt id=hl-55-2><a class=lnlinks href=#hl-55-2> 2</a>
</span><span class=lnt id=hl-55-3><a class=lnlinks href=#hl-55-3> 3</a>
</span><span class=lnt id=hl-55-4><a class=lnlinks href=#hl-55-4> 4</a>
</span><span class=lnt id=hl-55-5><a class=lnlinks href=#hl-55-5> 5</a>
</span><span class=lnt id=hl-55-6><a class=lnlinks href=#hl-55-6> 6</a>
</span><span class=lnt id=hl-55-7><a class=lnlinks href=#hl-55-7> 7</a>
</span><span class=lnt id=hl-55-8><a class=lnlinks href=#hl-55-8> 8</a>
</span><span class=lnt id=hl-55-9><a class=lnlinks href=#hl-55-9> 9</a>
</span><span class=lnt id=hl-55-10><a class=lnlinks href=#hl-55-10>10</a>
</span><span class=lnt id=hl-55-11><a class=lnlinks href=#hl-55-11>11</a>
</span><span class=lnt id=hl-55-12><a class=lnlinks href=#hl-55-12>12</a>
</span><span class=lnt id=hl-55-13><a class=lnlinks href=#hl-55-13>13</a>
</span><span class=lnt id=hl-55-14><a class=lnlinks href=#hl-55-14>14</a>
</span><span class=lnt id=hl-55-15><a class=lnlinks href=#hl-55-15>15</a>
</span><span class=lnt id=hl-55-16><a class=lnlinks href=#hl-55-16>16</a>
</span><span class=lnt id=hl-55-17><a class=lnlinks href=#hl-55-17>17</a>
</span><span class=lnt id=hl-55-18><a class=lnlinks href=#hl-55-18>18</a>
</span><span class=lnt id=hl-55-19><a class=lnlinks href=#hl-55-19>19</a>
</span><span class=lnt id=hl-55-20><a class=lnlinks href=#hl-55-20>20</a>
</span><span class=lnt id=hl-55-21><a class=lnlinks href=#hl-55-21>21</a>
</span><span class=lnt id=hl-55-22><a class=lnlinks href=#hl-55-22>22</a>
</span><span class=lnt id=hl-55-23><a class=lnlinks href=#hl-55-23>23</a>
</span><span class=lnt id=hl-55-24><a class=lnlinks href=#hl-55-24>24</a>
</span><span class=lnt id=hl-55-25><a class=lnlinks href=#hl-55-25>25</a>
</span><span class=lnt id=hl-55-26><a class=lnlinks href=#hl-55-26>26</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 전체 참여: Order는 반드시 Customer가 있어야 함
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>  </span><span class=c1>-- NOT NULL로 전체 참여 강제
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_date</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>customer_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Customer</span><span class=p>(</span><span class=n>customer_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 부분 참여: Employee는 부서가 없을 수도 있음 (대기 발령)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Employee</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>emp_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>emp_name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>dept_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>  </span><span class=c1>-- NULL 허용으로 부분 참여
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>dept_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Department</span><span class=p>(</span><span class=n>dept_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 양방향 전체 참여: Marriage (결혼은 양쪽 모두 필수)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Marriage</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>marriage_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>person1_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>person2_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>marriage_date</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>person1_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Person</span><span class=p>(</span><span class=n>person_id</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>person2_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Person</span><span class=p>(</span><span class=n>person_id</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>CHECK</span><span class=w> </span><span class=p>(</span><span class=n>person1_id</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>person2_id</span><span class=p>)</span><span class=w>  </span><span class=c1>-- 중복 방지
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=425-속성-유형에-따른-분류>4.2.5 속성 유형에 따른 분류<a hidden class=anchor aria-hidden=true href=#425-속성-유형에-따른-분류>#</a></h5><table><thead><tr><th>분류</th><th>특징</th><th>저장 방식</th><th>정규화 영향</th><th>구현 전략</th></tr></thead><tbody><tr><td>단순 속성</td><td>원자적 값</td><td>단일 컬럼</td><td>1NF 준수</td><td>직접 컬럼</td></tr><tr><td>복합 속성</td><td>계층적 구조</td><td>분해 후 여러 컬럼</td><td>1NF 준수</td><td>평탄화</td></tr><tr><td>다중값 속성</td><td>반복 가능</td><td>별도 테이블</td><td>2NF 유도</td><td>1:N 관계</td></tr><tr><td>유도 속성</td><td>계산 가능</td><td>VIEW/계산 컬럼</td><td>영향 없음</td><td>가상/저장 선택</td></tr></tbody></table><p><strong>종합 구현 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-56-1><a class=lnlinks href=#hl-56-1> 1</a>
</span><span class=lnt id=hl-56-2><a class=lnlinks href=#hl-56-2> 2</a>
</span><span class=lnt id=hl-56-3><a class=lnlinks href=#hl-56-3> 3</a>
</span><span class=lnt id=hl-56-4><a class=lnlinks href=#hl-56-4> 4</a>
</span><span class=lnt id=hl-56-5><a class=lnlinks href=#hl-56-5> 5</a>
</span><span class=lnt id=hl-56-6><a class=lnlinks href=#hl-56-6> 6</a>
</span><span class=lnt id=hl-56-7><a class=lnlinks href=#hl-56-7> 7</a>
</span><span class=lnt id=hl-56-8><a class=lnlinks href=#hl-56-8> 8</a>
</span><span class=lnt id=hl-56-9><a class=lnlinks href=#hl-56-9> 9</a>
</span><span class=lnt id=hl-56-10><a class=lnlinks href=#hl-56-10>10</a>
</span><span class=lnt id=hl-56-11><a class=lnlinks href=#hl-56-11>11</a>
</span><span class=lnt id=hl-56-12><a class=lnlinks href=#hl-56-12>12</a>
</span><span class=lnt id=hl-56-13><a class=lnlinks href=#hl-56-13>13</a>
</span><span class=lnt id=hl-56-14><a class=lnlinks href=#hl-56-14>14</a>
</span><span class=lnt id=hl-56-15><a class=lnlinks href=#hl-56-15>15</a>
</span><span class=lnt id=hl-56-16><a class=lnlinks href=#hl-56-16>16</a>
</span><span class=lnt id=hl-56-17><a class=lnlinks href=#hl-56-17>17</a>
</span><span class=lnt id=hl-56-18><a class=lnlinks href=#hl-56-18>18</a>
</span><span class=lnt id=hl-56-19><a class=lnlinks href=#hl-56-19>19</a>
</span><span class=lnt id=hl-56-20><a class=lnlinks href=#hl-56-20>20</a>
</span><span class=lnt id=hl-56-21><a class=lnlinks href=#hl-56-21>21</a>
</span><span class=lnt id=hl-56-22><a class=lnlinks href=#hl-56-22>22</a>
</span><span class=lnt id=hl-56-23><a class=lnlinks href=#hl-56-23>23</a>
</span><span class=lnt id=hl-56-24><a class=lnlinks href=#hl-56-24>24</a>
</span><span class=lnt id=hl-56-25><a class=lnlinks href=#hl-56-25>25</a>
</span><span class=lnt id=hl-56-26><a class=lnlinks href=#hl-56-26>26</a>
</span><span class=lnt id=hl-56-27><a class=lnlinks href=#hl-56-27>27</a>
</span><span class=lnt id=hl-56-28><a class=lnlinks href=#hl-56-28>28</a>
</span><span class=lnt id=hl-56-29><a class=lnlinks href=#hl-56-29>29</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 모든 속성 유형을 포함한 복합 예시
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 단순 속성
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>first_name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>last_name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>birthdate</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 복합 속성 (Address 분해)
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>street</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>200</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>city</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>state</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>zipcode</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>10</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 유도 속성 (age)
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>age</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>GENERATED</span><span class=w> </span><span class=n>ALWAYS</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>YEAR</span><span class=p>(</span><span class=k>CURRENT_DATE</span><span class=p>)</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=k>YEAR</span><span class=p>(</span><span class=n>birthdate</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>)</span><span class=w> </span><span class=n>VIRTUAL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 다중값 속성 (phone_numbers)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>CustomerPhone</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>phone_number</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>phone_type</span><span class=w> </span><span class=n>ENUM</span><span class=p>(</span><span class=s1>&#39;mobile&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;home&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;work&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>customer_id</span><span class=p>,</span><span class=w> </span><span class=n>phone_number</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>customer_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Customer</span><span class=p>(</span><span class=n>customer_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=43-도구-및-라이브러리-생태계>4.3 도구 및 라이브러리 생태계<a hidden class=anchor aria-hidden=true href=#43-도구-및-라이브러리-생태계>#</a></h4><p>ER Modeling을 지원하는 도구들은 모델링, 협업, 변환, 역공학 등 다양한 기능을 제공합니다.</p><h5 id=431-전문-모델링-도구>4.3.1 전문 모델링 도구<a hidden class=anchor aria-hidden=true href=#431-전문-모델링-도구>#</a></h5><table><thead><tr><th>도구</th><th>주요 기능</th><th>특징</th><th>지원 표기법</th><th>라이선스</th><th>주제와의 연관성</th></tr></thead><tbody><tr><td>ERwin Data Modeler</td><td>엔터프라이즈 데이터 모델링</td><td>역공학, 정방향 공학, 버전 관리</td><td>IE, IDEF1X</td><td>상용</td><td>대규모 조직의 표준 도구, 완전한 ER 설계 지원</td></tr><tr><td>PowerDesigner</td><td>통합 모델링 플랫폼</td><td>데이터, 프로세스, 엔터프라이즈 아키텍처</td><td>Chen, Crow&rsquo;s Foot, IE</td><td>상용</td><td>개념-논리-물리 모델 통합 관리</td></tr><tr><td>MySQL Workbench</td><td>MySQL 전용 모델링</td><td>ERD 작성, DDL 생성, 역공학</td><td>Crow&rsquo;s Foot</td><td>무료</td><td>MySQL 데이터베이스 설계 및 변환</td></tr><tr><td>pgModeler</td><td>PostgreSQL 전용</td><td>ER 다이어그램, DDL 생성</td><td>Crow&rsquo;s Foot</td><td>오픈소스</td><td>PostgreSQL 특화 ER 모델링</td></tr><tr><td>Oracle SQL Developer Data Modeler</td><td>Oracle 생태계</td><td>완전한 모델링 라이프사이클</td><td>IE, Relational</td><td>무료</td><td>Oracle DB 설계 및 최적화</td></tr></tbody></table><p><strong>역할별 분류</strong>:</p><pre class=mermaid>graph TB
    A[ER Modeling 도구] --&gt; B[개념적 모델링]
    A --&gt; C[논리적 모델링]
    A --&gt; D[물리적 모델링]
    A --&gt; E[협업 및 문서화]
    
    B --&gt; B1[Lucidchart&lt;br/&gt;Creately]
    C --&gt; C1[ERwin&lt;br/&gt;PowerDesigner]
    D --&gt; D1[MySQL Workbench&lt;br/&gt;DBeaver]
    E --&gt; E1[dbdiagram.io&lt;br/&gt;Confluence]
    
    style A fill:#e1f5fe
    style B fill:#fff3e0
    style C fill:#f3e5f5
    style D fill:#e8f5e9
    style E fill:#fff9c4
</pre><h5 id=432-협업-및-클라우드-도구>4.3.2 협업 및 클라우드 도구<a hidden class=anchor aria-hidden=true href=#432-협업-및-클라우드-도구>#</a></h5><table><thead><tr><th>도구</th><th>주요 기능</th><th>협업 기능</th><th>통합</th><th>가격</th><th>주제와의 연관성</th></tr></thead><tbody><tr><td>dbdiagram.io</td><td>텍스트 기반 ERD</td><td>실시간 협업, 버전 관리</td><td>Git, API</td><td>Freemium</td><td>개발자 친화적 ER 다이어그램 작성</td></tr><tr><td>Lucidchart</td><td>범용 다이어그램 도구</td><td>실시간 공동 편집</td><td>Google Workspace, Slack</td><td>구독</td><td>비기술자 포함 ER 협업</td></tr><tr><td>draw.io (diagrams.net)</td><td>오픈소스 다이어그램</td><td>클라우드 저장</td><td>Google Drive, GitHub</td><td>무료</td><td>ER 다이어그램 무료 작성</td></tr><tr><td>Creately</td><td>시각적 협업 플랫폼</td><td>댓글, 버전 히스토리</td><td>Microsoft Teams</td><td>Freemium</td><td>팀 기반 ER 설계 협업</td></tr></tbody></table><p><strong>기능별 역할</strong>:</p><ul><li><strong>실시간 협업</strong>: dbdiagram.io, Lucidchart</li><li><strong>버전 관리</strong>: Git 통합 도구 (dbdiagram.io + Git)</li><li><strong>문서화</strong>: Confluence, Notion 통합</li><li><strong>코드 생성</strong>: MySQL Workbench, ERwin</li></ul><h5 id=433-코드-우선code-first-도구>4.3.3 코드 우선(Code-First) 도구<a hidden class=anchor aria-hidden=true href=#433-코드-우선code-first-도구>#</a></h5><table><thead><tr><th>도구/라이브러리</th><th>언어/프레임워크</th><th>기능</th><th>사용 방식</th><th>주제와의 연관성</th></tr></thead><tbody><tr><td>Entity Framework</td><td>.NET</td><td>ORM, 모델 우선/DB 우선</td><td>코드에서 모델 정의 → DB 생성</td><td>ER 개념을 코드로 표현, 마이그레이션</td></tr><tr><td>Django ORM</td><td>Python</td><td>모델 정의 → 마이그레이션</td><td>models.py에 개체 정의</td><td>Python 클래스를 ER 개체로 매핑</td></tr><tr><td>Sequelize</td><td>Node.js</td><td>ORM, 마이그레이션</td><td>모델 정의 → DDL 생성</td><td>JavaScript로 ER 관계 표현</td></tr><tr><td>TypeORM</td><td>TypeScript/JavaScript</td><td>데코레이터 기반 모델링</td><td>Entity 클래스 정의</td><td>TypeScript로 타입 안전한 ER 설계</td></tr><tr><td>SQLAlchemy</td><td>Python</td><td>ORM, 관계 매핑</td><td>클래스 기반 모델링</td><td>Python으로 복잡한 ER 관계 구현</td></tr></tbody></table><p><strong>코드 예시</strong> (TypeORM):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-58-1><a class=lnlinks href=#hl-58-1> 1</a>
</span><span class=lnt id=hl-58-2><a class=lnlinks href=#hl-58-2> 2</a>
</span><span class=lnt id=hl-58-3><a class=lnlinks href=#hl-58-3> 3</a>
</span><span class=lnt id=hl-58-4><a class=lnlinks href=#hl-58-4> 4</a>
</span><span class=lnt id=hl-58-5><a class=lnlinks href=#hl-58-5> 5</a>
</span><span class=lnt id=hl-58-6><a class=lnlinks href=#hl-58-6> 6</a>
</span><span class=lnt id=hl-58-7><a class=lnlinks href=#hl-58-7> 7</a>
</span><span class=lnt id=hl-58-8><a class=lnlinks href=#hl-58-8> 8</a>
</span><span class=lnt id=hl-58-9><a class=lnlinks href=#hl-58-9> 9</a>
</span><span class=lnt id=hl-58-10><a class=lnlinks href=#hl-58-10>10</a>
</span><span class=lnt id=hl-58-11><a class=lnlinks href=#hl-58-11>11</a>
</span><span class=lnt id=hl-58-12><a class=lnlinks href=#hl-58-12>12</a>
</span><span class=lnt id=hl-58-13><a class=lnlinks href=#hl-58-13>13</a>
</span><span class=lnt id=hl-58-14><a class=lnlinks href=#hl-58-14>14</a>
</span><span class=lnt id=hl-58-15><a class=lnlinks href=#hl-58-15>15</a>
</span><span class=lnt id=hl-58-16><a class=lnlinks href=#hl-58-16>16</a>
</span><span class=lnt id=hl-58-17><a class=lnlinks href=#hl-58-17>17</a>
</span><span class=lnt id=hl-58-18><a class=lnlinks href=#hl-58-18>18</a>
</span><span class=lnt id=hl-58-19><a class=lnlinks href=#hl-58-19>19</a>
</span><span class=lnt id=hl-58-20><a class=lnlinks href=#hl-58-20>20</a>
</span><span class=lnt id=hl-58-21><a class=lnlinks href=#hl-58-21>21</a>
</span><span class=lnt id=hl-58-22><a class=lnlinks href=#hl-58-22>22</a>
</span><span class=lnt id=hl-58-23><a class=lnlinks href=#hl-58-23>23</a>
</span><span class=lnt id=hl-58-24><a class=lnlinks href=#hl-58-24>24</a>
</span><span class=lnt id=hl-58-25><a class=lnlinks href=#hl-58-25>25</a>
</span><span class=lnt id=hl-58-26><a class=lnlinks href=#hl-58-26>26</a>
</span><span class=lnt id=hl-58-27><a class=lnlinks href=#hl-58-27>27</a>
</span><span class=lnt id=hl-58-28><a class=lnlinks href=#hl-58-28>28</a>
</span><span class=lnt id=hl-58-29><a class=lnlinks href=#hl-58-29>29</a>
</span><span class=lnt id=hl-58-30><a class=lnlinks href=#hl-58-30>30</a>
</span><span class=lnt id=hl-58-31><a class=lnlinks href=#hl-58-31>31</a>
</span><span class=lnt id=hl-58-32><a class=lnlinks href=#hl-58-32>32</a>
</span><span class=lnt id=hl-58-33><a class=lnlinks href=#hl-58-33>33</a>
</span><span class=lnt id=hl-58-34><a class=lnlinks href=#hl-58-34>34</a>
</span><span class=lnt id=hl-58-35><a class=lnlinks href=#hl-58-35>35</a>
</span><span class=lnt id=hl-58-36><a class=lnlinks href=#hl-58-36>36</a>
</span><span class=lnt id=hl-58-37><a class=lnlinks href=#hl-58-37>37</a>
</span><span class=lnt id=hl-58-38><a class=lnlinks href=#hl-58-38>38</a>
</span><span class=lnt id=hl-58-39><a class=lnlinks href=#hl-58-39>39</a>
</span><span class=lnt id=hl-58-40><a class=lnlinks href=#hl-58-40>40</a>
</span><span class=lnt id=hl-58-41><a class=lnlinks href=#hl-58-41>41</a>
</span><span class=lnt id=hl-58-42><a class=lnlinks href=#hl-58-42>42</a>
</span><span class=lnt id=hl-58-43><a class=lnlinks href=#hl-58-43>43</a>
</span><span class=lnt id=hl-58-44><a class=lnlinks href=#hl-58-44>44</a>
</span><span class=lnt id=hl-58-45><a class=lnlinks href=#hl-58-45>45</a>
</span><span class=lnt id=hl-58-46><a class=lnlinks href=#hl-58-46>46</a>
</span><span class=lnt id=hl-58-47><a class=lnlinks href=#hl-58-47>47</a>
</span><span class=lnt id=hl-58-48><a class=lnlinks href=#hl-58-48>48</a>
</span><span class=lnt id=hl-58-49><a class=lnlinks href=#hl-58-49>49</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// Entity (개체) 정의
</span></span></span><span class=line><span class=cl><span class=kd>@Entity</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>class</span> <span class=nx>Customer</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>@PrimaryGeneratedColumn</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nx>customer_id</span>: <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>@Column</span><span class=p>({</span> <span class=nx>length</span>: <span class=kt>100</span> <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>@Column</span><span class=p>({</span> <span class=kt>unique</span><span class=o>:</span> <span class=kc>true</span> <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=nx>email</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 1:N 관계 (Customer → Orders)
</span></span></span><span class=line><span class=cl>    <span class=kd>@OneToMany</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=nx>Order</span><span class=p>,</span> <span class=nx>order</span> <span class=o>=&gt;</span> <span class=nx>order</span><span class=p>.</span><span class=nx>customer</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>orders</span>: <span class=kt>Order</span><span class=p>[];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>@Entity</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>class</span> <span class=nx>Order</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>@PrimaryGeneratedColumn</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nx>order_id</span>: <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>@Column</span><span class=p>(</span><span class=s1>&#39;date&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>order_date</span>: <span class=kt>Date</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// N:1 관계 (Orders → Customer)
</span></span></span><span class=line><span class=cl>    <span class=kd>@ManyToOne</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=nx>Customer</span><span class=p>,</span> <span class=nx>customer</span> <span class=o>=&gt;</span> <span class=nx>customer</span><span class=p>.</span><span class=nx>orders</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>customer</span>: <span class=kt>Customer</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 1:N 관계 (Order → OrderItems)
</span></span></span><span class=line><span class=cl>    <span class=kd>@OneToMany</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=nx>OrderItem</span><span class=p>,</span> <span class=nx>item</span> <span class=o>=&gt;</span> <span class=nx>item</span><span class=p>.</span><span class=nx>order</span><span class=p>,</span> <span class=p>{</span> <span class=nx>cascade</span>: <span class=kt>true</span> <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=nx>items</span>: <span class=kt>OrderItem</span><span class=p>[];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>@Entity</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>class</span> <span class=nx>OrderItem</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>@PrimaryColumn</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nx>order_id</span>: <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>@PrimaryColumn</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nx>item_seq</span>: <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>@Column</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nx>quantity</span>: <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// N:1 관계 (OrderItems → Order)
</span></span></span><span class=line><span class=cl>    <span class=kd>@ManyToOne</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=nx>Order</span><span class=p>,</span> <span class=nx>order</span> <span class=o>=&gt;</span> <span class=nx>order</span><span class=p>.</span><span class=nx>items</span><span class=p>,</span> <span class=p>{</span> <span class=nx>onDelete</span><span class=o>:</span> <span class=s1>&#39;CASCADE&#39;</span> <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=nx>order</span>: <span class=kt>Order</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=434-역공학reverse-engineering-도구>4.3.4 역공학(Reverse Engineering) 도구<a hidden class=anchor aria-hidden=true href=#434-역공학reverse-engineering-도구>#</a></h5><table><thead><tr><th>도구</th><th>기능</th><th>지원 DB</th><th>출력 형식</th><th>주제와의 연관성</th></tr></thead><tbody><tr><td>SchemaSpy</td><td>DB → ER 다이어그램</td><td>MySQL, PostgreSQL, Oracle 등</td><td>HTML, PNG</td><td>기존 DB에서 ER 모델 추출</td></tr><tr><td>DbVisualizer</td><td>데이터베이스 탐색 및 시각화</td><td>다중 DBMS</td><td>ERD, 의존성 그래프</td><td>실제 구현에서 ER 구조 파악</td></tr><tr><td>DBeaver</td><td>역공학, ER 다이어그램 생성</td><td>범용 DBMS</td><td>ERD, DDL</td><td>오픈소스로 ER 역공학 수행</td></tr><tr><td>eralchemy</td><td>Python 기반 역공학</td><td>SQLAlchemy 모델</td><td>ERD (PNG, PDF)</td><td>코드에서 ER 다이어그램 자동 생성</td></tr></tbody></table><p><strong>역공학 프로세스</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-59-1><a class=lnlinks href=#hl-59-1> 1</a>
</span><span class=lnt id=hl-59-2><a class=lnlinks href=#hl-59-2> 2</a>
</span><span class=lnt id=hl-59-3><a class=lnlinks href=#hl-59-3> 3</a>
</span><span class=lnt id=hl-59-4><a class=lnlinks href=#hl-59-4> 4</a>
</span><span class=lnt id=hl-59-5><a class=lnlinks href=#hl-59-5> 5</a>
</span><span class=lnt id=hl-59-6><a class=lnlinks href=#hl-59-6> 6</a>
</span><span class=lnt id=hl-59-7><a class=lnlinks href=#hl-59-7> 7</a>
</span><span class=lnt id=hl-59-8><a class=lnlinks href=#hl-59-8> 8</a>
</span><span class=lnt id=hl-59-9><a class=lnlinks href=#hl-59-9> 9</a>
</span><span class=lnt id=hl-59-10><a class=lnlinks href=#hl-59-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># SchemaSpy 예시</span>
</span></span><span class=line><span class=cl>java -jar schemaspy.jar <span class=se>\
</span></span></span><span class=line><span class=cl>    -t mysql <span class=se>\
</span></span></span><span class=line><span class=cl>    -db mydb <span class=se>\
</span></span></span><span class=line><span class=cl>    -host localhost <span class=se>\
</span></span></span><span class=line><span class=cl>    -u root <span class=se>\
</span></span></span><span class=line><span class=cl>    -o ./output <span class=se>\
</span></span></span><span class=line><span class=cl>    -s myschema
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 결과: ERD + 관계 문서 HTML 생성</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=435-텍스트-기반-모델링-도구>4.3.5 텍스트 기반 모델링 도구<a hidden class=anchor aria-hidden=true href=#435-텍스트-기반-모델링-도구>#</a></h5><table><thead><tr><th>도구</th><th>문법</th><th>장점</th><th>사용 사례</th><th>주제와의 연관성</th></tr></thead><tbody><tr><td>PlantUML</td><td>텍스트 DSL</td><td>Git 친화적, 자동화 가능</td><td>CI/CD 통합 문서화</td><td>텍스트로 ER 구조 정의</td></tr><tr><td>Mermaid</td><td>Markdown 기반</td><td>문서 내 다이어그램</td><td>README, Wiki</td><td>ER 다이어그램을 문서와 통합</td></tr><tr><td>dbdiagram.io (DBML)</td><td>DBML 언어</td><td>간결한 문법, 협업</td><td>빠른 프로토타이핑</td><td>선언적 ER 정의 언어</td></tr><tr><td>Graphviz (DOT)</td><td>DOT 언어</td><td>자동 레이아웃</td><td>대규모 ERD</td><td>복잡한 ER 자동 배치</td></tr></tbody></table><p><strong>DBML 예시</strong> (dbdiagram.io):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-60-1><a class=lnlinks href=#hl-60-1> 1</a>
</span><span class=lnt id=hl-60-2><a class=lnlinks href=#hl-60-2> 2</a>
</span><span class=lnt id=hl-60-3><a class=lnlinks href=#hl-60-3> 3</a>
</span><span class=lnt id=hl-60-4><a class=lnlinks href=#hl-60-4> 4</a>
</span><span class=lnt id=hl-60-5><a class=lnlinks href=#hl-60-5> 5</a>
</span><span class=lnt id=hl-60-6><a class=lnlinks href=#hl-60-6> 6</a>
</span><span class=lnt id=hl-60-7><a class=lnlinks href=#hl-60-7> 7</a>
</span><span class=lnt id=hl-60-8><a class=lnlinks href=#hl-60-8> 8</a>
</span><span class=lnt id=hl-60-9><a class=lnlinks href=#hl-60-9> 9</a>
</span><span class=lnt id=hl-60-10><a class=lnlinks href=#hl-60-10>10</a>
</span><span class=lnt id=hl-60-11><a class=lnlinks href=#hl-60-11>11</a>
</span><span class=lnt id=hl-60-12><a class=lnlinks href=#hl-60-12>12</a>
</span><span class=lnt id=hl-60-13><a class=lnlinks href=#hl-60-13>13</a>
</span><span class=lnt id=hl-60-14><a class=lnlinks href=#hl-60-14>14</a>
</span><span class=lnt id=hl-60-15><a class=lnlinks href=#hl-60-15>15</a>
</span><span class=lnt id=hl-60-16><a class=lnlinks href=#hl-60-16>16</a>
</span><span class=lnt id=hl-60-17><a class=lnlinks href=#hl-60-17>17</a>
</span><span class=lnt id=hl-60-18><a class=lnlinks href=#hl-60-18>18</a>
</span><span class=lnt id=hl-60-19><a class=lnlinks href=#hl-60-19>19</a>
</span><span class=lnt id=hl-60-20><a class=lnlinks href=#hl-60-20>20</a>
</span><span class=lnt id=hl-60-21><a class=lnlinks href=#hl-60-21>21</a>
</span><span class=lnt id=hl-60-22><a class=lnlinks href=#hl-60-22>22</a>
</span><span class=lnt id=hl-60-23><a class=lnlinks href=#hl-60-23>23</a>
</span><span class=lnt id=hl-60-24><a class=lnlinks href=#hl-60-24>24</a>
</span><span class=lnt id=hl-60-25><a class=lnlinks href=#hl-60-25>25</a>
</span><span class=lnt id=hl-60-26><a class=lnlinks href=#hl-60-26>26</a>
</span><span class=lnt id=hl-60-27><a class=lnlinks href=#hl-60-27>27</a>
</span><span class=lnt id=hl-60-28><a class=lnlinks href=#hl-60-28>28</a>
</span><span class=lnt id=hl-60-29><a class=lnlinks href=#hl-60-29>29</a>
</span><span class=lnt id=hl-60-30><a class=lnlinks href=#hl-60-30>30</a>
</span><span class=lnt id=hl-60-31><a class=lnlinks href=#hl-60-31>31</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>//</span> <span class=err>개체</span> <span class=err>정의</span>
</span></span><span class=line><span class=cl><span class=n>Table</span> <span class=n>Customer</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>customer_id</span> <span class=ne>int</span> <span class=p>[</span><span class=n>pk</span><span class=p>,</span> <span class=n>increment</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=n>name</span> <span class=n>varchar</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span> <span class=p>[</span><span class=ow>not</span> <span class=n>null</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=n>email</span> <span class=n>varchar</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span> <span class=p>[</span><span class=n>unique</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=n>created_at</span> <span class=n>timestamp</span> <span class=p>[</span><span class=n>default</span><span class=p>:</span> <span class=err>`</span><span class=n>now</span><span class=p>()</span><span class=err>`</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Table</span> <span class=n>Order</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>order_id</span> <span class=ne>int</span> <span class=p>[</span><span class=n>pk</span><span class=p>,</span> <span class=n>increment</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=n>customer_id</span> <span class=ne>int</span> <span class=p>[</span><span class=n>ref</span><span class=p>:</span> <span class=o>&gt;</span> <span class=n>Customer</span><span class=o>.</span><span class=n>customer_id</span><span class=p>]</span> <span class=o>//</span> <span class=n>N</span><span class=p>:</span><span class=mi>1</span> <span class=err>관계</span>
</span></span><span class=line><span class=cl>  <span class=n>order_date</span> <span class=n>date</span> <span class=p>[</span><span class=ow>not</span> <span class=n>null</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=n>total_amount</span> <span class=n>decimal</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Table</span> <span class=n>Product</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>product_id</span> <span class=ne>int</span> <span class=p>[</span><span class=n>pk</span><span class=p>,</span> <span class=n>increment</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=n>name</span> <span class=n>varchar</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=n>price</span> <span class=n>decimal</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>N</span><span class=p>:</span><span class=n>M</span> <span class=err>관계</span> <span class=p>(</span><span class=err>연결</span> <span class=err>개체</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Table</span> <span class=n>OrderItem</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>order_id</span> <span class=ne>int</span> <span class=p>[</span><span class=n>ref</span><span class=p>:</span> <span class=o>&gt;</span> <span class=n>Order</span><span class=o>.</span><span class=n>order_id</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=n>product_id</span> <span class=ne>int</span> <span class=p>[</span><span class=n>ref</span><span class=p>:</span> <span class=o>&gt;</span> <span class=n>Product</span><span class=o>.</span><span class=n>product_id</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=n>quantity</span> <span class=ne>int</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=n>indexes</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=n>order_id</span><span class=p>,</span> <span class=n>product_id</span><span class=p>)</span> <span class=p>[</span><span class=n>pk</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=44-표준-및-규격-준수사항>4.4 표준 및 규격 준수사항<a hidden class=anchor aria-hidden=true href=#44-표준-및-규격-준수사항>#</a></h4><p>ER Modeling은 다양한 산업 표준과 규격을 따르며, 이를 준수하면 상호 운용성과 품질이 향상됩니다.</p><h5 id=441-표기법-표준>4.4.1 표기법 표준<a hidden class=anchor aria-hidden=true href=#441-표기법-표준>#</a></h5><table><thead><tr><th>표준</th><th>제정 기관</th><th>주요 특징</th><th>적용 분야</th><th>준수 사항</th></tr></thead><tbody><tr><td>Chen 표기법</td><td>Peter Chen (1976)</td><td>마름모 관계, 타원 속성</td><td>학술, 교육</td><td>개체(사각형), 관계(마름모), 속성(타원) 명확 구분</td></tr><tr><td>Crow&rsquo;s Foot</td><td>업계 관례</td><td>직관적 카디널리티 표현</td><td>실무, 도구</td><td>까마귀발 기호로 N측 표현</td></tr><tr><td>IE (Information Engineering)</td><td>James Martin</td><td>관계 중심 표현</td><td>엔터프라이즈</td><td>관계선에 카디널리티 직접 표기</td></tr><tr><td>IDEF1X</td><td>NIST (미국 표준)</td><td>연방 표준, 엄격한 규칙</td><td>정부, 군사</td><td>식별/비식별 관계 명확 구분</td></tr><tr><td>UML Class Diagram</td><td>OMG</td><td>객체지향 통합</td><td>소프트웨어 설계</td><td>클래스와 개체 매핑 규칙</td></tr></tbody></table><p><strong>표기법 비교</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-61-1><a class=lnlinks href=#hl-61-1> 1</a>
</span><span class=lnt id=hl-61-2><a class=lnlinks href=#hl-61-2> 2</a>
</span><span class=lnt id=hl-61-3><a class=lnlinks href=#hl-61-3> 3</a>
</span><span class=lnt id=hl-61-4><a class=lnlinks href=#hl-61-4> 4</a>
</span><span class=lnt id=hl-61-5><a class=lnlinks href=#hl-61-5> 5</a>
</span><span class=lnt id=hl-61-6><a class=lnlinks href=#hl-61-6> 6</a>
</span><span class=lnt id=hl-61-7><a class=lnlinks href=#hl-61-7> 7</a>
</span><span class=lnt id=hl-61-8><a class=lnlinks href=#hl-61-8> 8</a>
</span><span class=lnt id=hl-61-9><a class=lnlinks href=#hl-61-9> 9</a>
</span><span class=lnt id=hl-61-10><a class=lnlinks href=#hl-61-10>10</a>
</span><span class=lnt id=hl-61-11><a class=lnlinks href=#hl-61-11>11</a>
</span><span class=lnt id=hl-61-12><a class=lnlinks href=#hl-61-12>12</a>
</span><span class=lnt id=hl-61-13><a class=lnlinks href=#hl-61-13>13</a>
</span><span class=lnt id=hl-61-14><a class=lnlinks href=#hl-61-14>14</a>
</span><span class=lnt id=hl-61-15><a class=lnlinks href=#hl-61-15>15</a>
</span><span class=lnt id=hl-61-16><a class=lnlinks href=#hl-61-16>16</a>
</span><span class=lnt id=hl-61-17><a class=lnlinks href=#hl-61-17>17</a>
</span><span class=lnt id=hl-61-18><a class=lnlinks href=#hl-61-18>18</a>
</span><span class=lnt id=hl-61-19><a class=lnlinks href=#hl-61-19>19</a>
</span><span class=lnt id=hl-61-20><a class=lnlinks href=#hl-61-20>20</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[Chen 표기법]
</span></span><span class=line><span class=cl>┌─────────┐
</span></span><span class=line><span class=cl>│Customer │
</span></span><span class=line><span class=cl>└─────────┘
</span></span><span class=line><span class=cl>     │
</span></span><span class=line><span class=cl>     │ 1
</span></span><span class=line><span class=cl>  ┌──┴──┐
</span></span><span class=line><span class=cl>  │places│
</span></span><span class=line><span class=cl>  └──┬──┘
</span></span><span class=line><span class=cl>     │ N
</span></span><span class=line><span class=cl>┌────┴────┐
</span></span><span class=line><span class=cl>│  Order  │
</span></span><span class=line><span class=cl>└─────────┘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[Crow&#39;s Foot 표기법]
</span></span><span class=line><span class=cl>Customer ||----o{ Order
</span></span><span class=line><span class=cl>(1명의 고객이 0개 이상의 주문)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[IE 표기법]
</span></span><span class=line><span class=cl>Customer ──&lt;──── Order
</span></span></code></pre></td></tr></table></div></div><h5 id=442-데이터-모델링-표준>4.4.2 데이터 모델링 표준<a hidden class=anchor aria-hidden=true href=#442-데이터-모델링-표준>#</a></h5><table><thead><tr><th>표준</th><th>범위</th><th>핵심 내용</th><th>준수 요구사항</th><th>적용 영역</th></tr></thead><tbody><tr><td>ISO/IEC 11179</td><td>메타데이터 레지스트리</td><td>데이터 요소 표준화</td><td>명명 규칙, 데이터 타입 정의</td><td>속성 명명 및 정의</td></tr><tr><td>ANSI SPARC 3계층</td><td>데이터베이스 아키텍처</td><td>외부-개념-내부 스키마 분리</td><td>개념적 모델 독립성</td><td>ER은 개념 계층에 해당</td></tr><tr><td>DMBoK (Data Management Body of Knowledge)</td><td>데이터 관리</td><td>모델링 베스트 프랙티스</td><td>거버넌스, 품질, 생명주기</td><td>전사적 데이터 모델링</td></tr></tbody></table><p><strong>ISO/IEC 11179 준수 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-62-1><a class=lnlinks href=#hl-62-1> 1</a>
</span><span class=lnt id=hl-62-2><a class=lnlinks href=#hl-62-2> 2</a>
</span><span class=lnt id=hl-62-3><a class=lnlinks href=#hl-62-3> 3</a>
</span><span class=lnt id=hl-62-4><a class=lnlinks href=#hl-62-4> 4</a>
</span><span class=lnt id=hl-62-5><a class=lnlinks href=#hl-62-5> 5</a>
</span><span class=lnt id=hl-62-6><a class=lnlinks href=#hl-62-6> 6</a>
</span><span class=lnt id=hl-62-7><a class=lnlinks href=#hl-62-7> 7</a>
</span><span class=lnt id=hl-62-8><a class=lnlinks href=#hl-62-8> 8</a>
</span><span class=lnt id=hl-62-9><a class=lnlinks href=#hl-62-9> 9</a>
</span><span class=lnt id=hl-62-10><a class=lnlinks href=#hl-62-10>10</a>
</span><span class=lnt id=hl-62-11><a class=lnlinks href=#hl-62-11>11</a>
</span><span class=lnt id=hl-62-12><a class=lnlinks href=#hl-62-12>12</a>
</span><span class=lnt id=hl-62-13><a class=lnlinks href=#hl-62-13>13</a>
</span><span class=lnt id=hl-62-14><a class=lnlinks href=#hl-62-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 명명 규칙 준수
</span></span></span><span class=line><span class=cl><span class=c1>-- [개체명]_[속성명] 형식
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>           </span><span class=c1>-- 주체_식별자
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>            </span><span class=c1>-- 주체_이름
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_email</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>           </span><span class=c1>-- 주체_이메일
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_registration_date</span><span class=w> </span><span class=nb>DATE</span><span class=w>        </span><span class=c1>-- 주체_등록_날짜
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 데이터 타입 표준화
</span></span></span><span class=line><span class=cl><span class=c1>-- 날짜: DATE
</span></span></span><span class=line><span class=cl><span class=c1>-- 금액: DECIMAL(정밀도, 스케일)
</span></span></span><span class=line><span class=cl><span class=c1>-- 코드: CHAR(고정길이) 또는 VARCHAR
</span></span></span><span class=line><span class=cl><span class=c1>-- 플래그: BOOLEAN 또는 CHAR(1)
</span></span></span></code></pre></td></tr></table></div></div><h5 id=443-정규화-표준>4.4.3 정규화 표준<a hidden class=anchor aria-hidden=true href=#443-정규화-표준>#</a></h5><table><thead><tr><th>정규형</th><th>조건</th><th>위반 시 문제</th><th>ER Modeling 연관</th><th>준수 방법</th></tr></thead><tbody><tr><td>1NF</td><td>원자값, 반복 그룹 제거</td><td>다중값 속성</td><td>다중값 속성을 별도 테이블로</td><td>속성 분해</td></tr><tr><td>2NF</td><td>부분 함수 종속 제거</td><td>중복, 갱신 이상</td><td>복합키의 일부에만 종속 제거</td><td>개체 분리</td></tr><tr><td>3NF</td><td>이행 함수 종속 제거</td><td>중복, 삽입 이상</td><td>비키 속성 간 종속 제거</td><td>개체 추가</td></tr><tr><td>BCNF</td><td>모든 결정자가 후보키</td><td>갱신 이상</td><td>강한 함수 종속 정리</td><td>개체 재구성</td></tr></tbody></table><p><strong>정규화 적용 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-63-1><a class=lnlinks href=#hl-63-1> 1</a>
</span><span class=lnt id=hl-63-2><a class=lnlinks href=#hl-63-2> 2</a>
</span><span class=lnt id=hl-63-3><a class=lnlinks href=#hl-63-3> 3</a>
</span><span class=lnt id=hl-63-4><a class=lnlinks href=#hl-63-4> 4</a>
</span><span class=lnt id=hl-63-5><a class=lnlinks href=#hl-63-5> 5</a>
</span><span class=lnt id=hl-63-6><a class=lnlinks href=#hl-63-6> 6</a>
</span><span class=lnt id=hl-63-7><a class=lnlinks href=#hl-63-7> 7</a>
</span><span class=lnt id=hl-63-8><a class=lnlinks href=#hl-63-8> 8</a>
</span><span class=lnt id=hl-63-9><a class=lnlinks href=#hl-63-9> 9</a>
</span><span class=lnt id=hl-63-10><a class=lnlinks href=#hl-63-10>10</a>
</span><span class=lnt id=hl-63-11><a class=lnlinks href=#hl-63-11>11</a>
</span><span class=lnt id=hl-63-12><a class=lnlinks href=#hl-63-12>12</a>
</span><span class=lnt id=hl-63-13><a class=lnlinks href=#hl-63-13>13</a>
</span><span class=lnt id=hl-63-14><a class=lnlinks href=#hl-63-14>14</a>
</span><span class=lnt id=hl-63-15><a class=lnlinks href=#hl-63-15>15</a>
</span><span class=lnt id=hl-63-16><a class=lnlinks href=#hl-63-16>16</a>
</span><span class=lnt id=hl-63-17><a class=lnlinks href=#hl-63-17>17</a>
</span><span class=lnt id=hl-63-18><a class=lnlinks href=#hl-63-18>18</a>
</span><span class=lnt id=hl-63-19><a class=lnlinks href=#hl-63-19>19</a>
</span><span class=lnt id=hl-63-20><a class=lnlinks href=#hl-63-20>20</a>
</span><span class=lnt id=hl-63-21><a class=lnlinks href=#hl-63-21>21</a>
</span><span class=lnt id=hl-63-22><a class=lnlinks href=#hl-63-22>22</a>
</span><span class=lnt id=hl-63-23><a class=lnlinks href=#hl-63-23>23</a>
</span><span class=lnt id=hl-63-24><a class=lnlinks href=#hl-63-24>24</a>
</span><span class=lnt id=hl-63-25><a class=lnlinks href=#hl-63-25>25</a>
</span><span class=lnt id=hl-63-26><a class=lnlinks href=#hl-63-26>26</a>
</span><span class=lnt id=hl-63-27><a class=lnlinks href=#hl-63-27>27</a>
</span><span class=lnt id=hl-63-28><a class=lnlinks href=#hl-63-28>28</a>
</span><span class=lnt id=hl-63-29><a class=lnlinks href=#hl-63-29>29</a>
</span><span class=lnt id=hl-63-30><a class=lnlinks href=#hl-63-30>30</a>
</span><span class=lnt id=hl-63-31><a class=lnlinks href=#hl-63-31>31</a>
</span><span class=lnt id=hl-63-32><a class=lnlinks href=#hl-63-32>32</a>
</span><span class=lnt id=hl-63-33><a class=lnlinks href=#hl-63-33>33</a>
</span><span class=lnt id=hl-63-34><a class=lnlinks href=#hl-63-34>34</a>
</span><span class=lnt id=hl-63-35><a class=lnlinks href=#hl-63-35>35</a>
</span><span class=lnt id=hl-63-36><a class=lnlinks href=#hl-63-36>36</a>
</span><span class=lnt id=hl-63-37><a class=lnlinks href=#hl-63-37>37</a>
</span><span class=lnt id=hl-63-38><a class=lnlinks href=#hl-63-38>38</a>
</span><span class=lnt id=hl-63-39><a class=lnlinks href=#hl-63-39>39</a>
</span><span class=lnt id=hl-63-40><a class=lnlinks href=#hl-63-40>40</a>
</span><span class=lnt id=hl-63-41><a class=lnlinks href=#hl-63-41>41</a>
</span><span class=lnt id=hl-63-42><a class=lnlinks href=#hl-63-42>42</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 비정규화 상태 (1NF 위반)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Customer_Bad</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>phones</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>200</span><span class=p>)</span><span class=w>  </span><span class=c1>-- &#34;010-1234-5678, 02-9876-5432&#34; (다중값)
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 1NF 적용 (다중값 속성 제거)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>CustomerPhone</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>phone_number</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>customer_id</span><span class=p>,</span><span class=w> </span><span class=n>phone_number</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>customer_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Customer</span><span class=p>(</span><span class=n>customer_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 2NF 위반 예시
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>OrderItem_Bad</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>product_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>product_name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>  </span><span class=c1>-- product_id에만 종속 (부분 종속)
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>quantity</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>order_id</span><span class=p>,</span><span class=w> </span><span class=n>product_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 2NF 적용 (부분 함수 종속 제거)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Product</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>product_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>product_name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>OrderItem</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>product_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>quantity</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>order_id</span><span class=p>,</span><span class=w> </span><span class=n>product_id</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>product_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Product</span><span class=p>(</span><span class=n>product_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=444-명명-규칙naming-convention>4.4.4 명명 규칙(Naming Convention)<a hidden class=anchor aria-hidden=true href=#444-명명-규칙naming-convention>#</a></h5><table><thead><tr><th>요소</th><th>표준 규칙</th><th>예시</th><th>이유</th><th>ER 연관성</th></tr></thead><tbody><tr><td>개체(테이블)</td><td>단수 명사, PascalCase</td><td>Customer, OrderItem</td><td>개체는 인스턴스 집합</td><td>개체 타입 명명</td></tr><tr><td>속성(컬럼)</td><td>snake_case 또는 camelCase</td><td>customer_id, customerId</td><td>가독성, DB 표준</td><td>속성 명명</td></tr><tr><td>관계(외래키)</td><td>참조테이블_id</td><td>customer_id, order_id</td><td>참조 명확성</td><td>관계 구현</td></tr><tr><td>조인 테이블</td><td>개체1_개체2</td><td>Student_Course</td><td>N:M 관계 표현</td><td>연결 개체</td></tr><tr><td>인덱스</td><td>idx_테이블_컬럼</td><td>idx_customer_email</td><td>목적 명확</td><td>성능 최적화</td></tr><tr><td>제약조건</td><td>타입_테이블_컬럼</td><td>fk_order_customer</td><td>유지보수 편의</td><td>무결성 제약</td></tr></tbody></table><p><strong>명명 규칙 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-64-1><a class=lnlinks href=#hl-64-1> 1</a>
</span><span class=lnt id=hl-64-2><a class=lnlinks href=#hl-64-2> 2</a>
</span><span class=lnt id=hl-64-3><a class=lnlinks href=#hl-64-3> 3</a>
</span><span class=lnt id=hl-64-4><a class=lnlinks href=#hl-64-4> 4</a>
</span><span class=lnt id=hl-64-5><a class=lnlinks href=#hl-64-5> 5</a>
</span><span class=lnt id=hl-64-6><a class=lnlinks href=#hl-64-6> 6</a>
</span><span class=lnt id=hl-64-7><a class=lnlinks href=#hl-64-7> 7</a>
</span><span class=lnt id=hl-64-8><a class=lnlinks href=#hl-64-8> 8</a>
</span><span class=lnt id=hl-64-9><a class=lnlinks href=#hl-64-9> 9</a>
</span><span class=lnt id=hl-64-10><a class=lnlinks href=#hl-64-10>10</a>
</span><span class=lnt id=hl-64-11><a class=lnlinks href=#hl-64-11>11</a>
</span><span class=lnt id=hl-64-12><a class=lnlinks href=#hl-64-12>12</a>
</span><span class=lnt id=hl-64-13><a class=lnlinks href=#hl-64-13>13</a>
</span><span class=lnt id=hl-64-14><a class=lnlinks href=#hl-64-14>14</a>
</span><span class=lnt id=hl-64-15><a class=lnlinks href=#hl-64-15>15</a>
</span><span class=lnt id=hl-64-16><a class=lnlinks href=#hl-64-16>16</a>
</span><span class=lnt id=hl-64-17><a class=lnlinks href=#hl-64-17>17</a>
</span><span class=lnt id=hl-64-18><a class=lnlinks href=#hl-64-18>18</a>
</span><span class=lnt id=hl-64-19><a class=lnlinks href=#hl-64-19>19</a>
</span><span class=lnt id=hl-64-20><a class=lnlinks href=#hl-64-20>20</a>
</span><span class=lnt id=hl-64-21><a class=lnlinks href=#hl-64-21>21</a>
</span><span class=lnt id=hl-64-22><a class=lnlinks href=#hl-64-22>22</a>
</span><span class=lnt id=hl-64-23><a class=lnlinks href=#hl-64-23>23</a>
</span><span class=lnt id=hl-64-24><a class=lnlinks href=#hl-64-24>24</a>
</span><span class=lnt id=hl-64-25><a class=lnlinks href=#hl-64-25>25</a>
</span><span class=lnt id=hl-64-26><a class=lnlinks href=#hl-64-26>26</a>
</span><span class=lnt id=hl-64-27><a class=lnlinks href=#hl-64-27>27</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 표준 명명 규칙 적용
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=p>(</span><span class=w>  </span><span class=c1>-- 단수 명사
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>  </span><span class=c1>-- snake_case
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>email_address</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>CONSTRAINT</span><span class=w> </span><span class=n>uk_customer_email</span><span class=w> </span><span class=k>UNIQUE</span><span class=w> </span><span class=p>(</span><span class=n>email_address</span><span class=p>)</span><span class=w>  </span><span class=c1>-- 제약조건 명명
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=p>(</span><span class=w>  </span><span class=c1>-- Order는 예약어이므로 Orders 사용
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_date</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>CONSTRAINT</span><span class=w> </span><span class=n>fk_orders_customer</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>customer_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Customer</span><span class=p>(</span><span class=n>customer_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 인덱스 명명
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_orders_customer</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>Orders</span><span class=p>(</span><span class=n>customer_id</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_orders_date</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>Orders</span><span class=p>(</span><span class=n>order_date</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- N:M 조인 테이블
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Student_Course</span><span class=w> </span><span class=p>(</span><span class=w>  </span><span class=c1>-- 양쪽 개체명 조합
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>student_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>course_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>enroll_date</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>student_id</span><span class=p>,</span><span class=w> </span><span class=n>course_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=445-문서화-표준>4.4.5 문서화 표준<a hidden class=anchor aria-hidden=true href=#445-문서화-표준>#</a></h5><table><thead><tr><th>항목</th><th>내용</th><th>포함 요소</th><th>도구</th><th>ER과의 관계</th></tr></thead><tbody><tr><td>ER 다이어그램</td><td>시각적 모델 표현</td><td>개체, 속성, 관계, 카디널리티</td><td>ERwin, Lucidchart</td><td>핵심 산출물</td></tr><tr><td>데이터 사전</td><td>모든 요소 정의</td><td>개체/속성 설명, 타입, 제약조건</td><td>Excel, Wiki</td><td>메타데이터 저장소</td></tr><tr><td>매핑 문서</td><td>개념-논리-물리 변환</td><td>변환 규칙, 의사결정 근거</td><td>Confluence</td><td>설계 추적성</td></tr><tr><td>비즈니스 규칙</td><td>제약조건 명세</td><td>카디널리티, 참여 제약, 도메인 규칙</td><td>텍스트 문서</td><td>구현 기준</td></tr></tbody></table><p><strong>데이터 사전 예시</strong>:</p><table><thead><tr><th>개체</th><th>속성</th><th>타입</th><th>제약</th><th>설명</th><th>비즈니스 규칙</th></tr></thead><tbody><tr><td>Customer</td><td>customer_id</td><td>INT</td><td>PK</td><td>고객 고유 식별자</td><td>자동 증가</td></tr><tr><td>Customer</td><td>email</td><td>VARCHAR(100)</td><td>UNIQUE, NOT NULL</td><td>로그인 이메일</td><td>이메일 형식 검증</td></tr><tr><td>Order</td><td>customer_id</td><td>INT</td><td>FK, NOT NULL</td><td>주문한 고객</td><td>Customer 필수 참조</td></tr><tr><td>OrderItem</td><td>order_id</td><td>INT</td><td>PK, FK</td><td>주문 번호</td><td>Order 삭제 시 CASCADE</td></tr></tbody></table><hr><h3 id=phase-5-실무-적용-및-사례-1>Phase 5: 실무 적용 및 사례<a hidden class=anchor aria-hidden=true href=#phase-5-실무-적용-및-사례-1>#</a></h3><h4 id=51-실습-예제-및-코드-구현>5.1 실습 예제 및 코드 구현<a hidden class=anchor aria-hidden=true href=#51-실습-예제-및-코드-구현>#</a></h4><h5 id=실습-예제-1-온라인-서점-데이터베이스-설계>실습 예제 1: 온라인 서점 데이터베이스 설계<a hidden class=anchor aria-hidden=true href=#실습-예제-1-온라인-서점-데이터베이스-설계>#</a></h5><h6 id=목적-1>목적<a hidden class=anchor aria-hidden=true href=#목적-1>#</a></h6><ul><li>ER Modeling의 전체 프로세스를 경험 (개체 식별 → ERD 작성 → 관계형 스키마 변환 → DDL 구현)</li><li>1:N, N:M 관계의 실제 구현 방법 습득</li><li>약한 개체와 CASCADE 삭제 이해</li></ul><h6 id=사전-요구사항-1>사전 요구사항<a hidden class=anchor aria-hidden=true href=#사전-요구사항-1>#</a></h6><ul><li>MySQL 8.0+ 또는 PostgreSQL 12+</li><li>SQL 클라이언트 (MySQL Workbench, DBeaver, 또는 CLI)</li><li>기본 SQL 문법 지식 (CREATE, INSERT, SELECT)</li></ul><h6 id=단계별-구현-1>단계별 구현<a hidden class=anchor aria-hidden=true href=#단계별-구현-1>#</a></h6><p><strong>1단계: 요구사항 분석 및 개체 식별</strong></p><p>비즈니스 요구사항:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-65-1><a class=lnlinks href=#hl-65-1>1</a>
</span><span class=lnt id=hl-65-2><a class=lnlinks href=#hl-65-2>2</a>
</span><span class=lnt id=hl-65-3><a class=lnlinks href=#hl-65-3>3</a>
</span><span class=lnt id=hl-65-4><a class=lnlinks href=#hl-65-4>4</a>
</span><span class=lnt id=hl-65-5><a class=lnlinks href=#hl-65-5>5</a>
</span><span class=lnt id=hl-65-6><a class=lnlinks href=#hl-65-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>온라인 서점에서는 다음을 관리해야 합니다:
</span></span><span class=line><span class=cl>- 고객 정보 (이름, 이메일, 주소)
</span></span><span class=line><span class=cl>- 도서 정보 (제목, 저자, 가격, 재고)
</span></span><span class=line><span class=cl>- 주문 정보 (주문 날짜, 배송 상태)
</span></span><span class=line><span class=cl>- 주문 상세 (어떤 책을 몇 권 주문했는지)
</span></span><span class=line><span class=cl>- 카테고리 (소설, 에세이, 기술서 등)
</span></span></code></pre></td></tr></table></div></div><p>개체 추출:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-66-1><a class=lnlinks href=#hl-66-1> 1</a>
</span><span class=lnt id=hl-66-2><a class=lnlinks href=#hl-66-2> 2</a>
</span><span class=lnt id=hl-66-3><a class=lnlinks href=#hl-66-3> 3</a>
</span><span class=lnt id=hl-66-4><a class=lnlinks href=#hl-66-4> 4</a>
</span><span class=lnt id=hl-66-5><a class=lnlinks href=#hl-66-5> 5</a>
</span><span class=lnt id=hl-66-6><a class=lnlinks href=#hl-66-6> 6</a>
</span><span class=lnt id=hl-66-7><a class=lnlinks href=#hl-66-7> 7</a>
</span><span class=lnt id=hl-66-8><a class=lnlinks href=#hl-66-8> 8</a>
</span><span class=lnt id=hl-66-9><a class=lnlinks href=#hl-66-9> 9</a>
</span><span class=lnt id=hl-66-10><a class=lnlinks href=#hl-66-10>10</a>
</span><span class=lnt id=hl-66-11><a class=lnlinks href=#hl-66-11>11</a>
</span><span class=lnt id=hl-66-12><a class=lnlinks href=#hl-66-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 명사 추출 및 개체 후보 식별</span>
</span></span><span class=line><span class=cl><span class=n>candidates</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;고객&#34;</span><span class=p>,</span> <span class=s2>&#34;도서&#34;</span><span class=p>,</span> <span class=s2>&#34;주문&#34;</span><span class=p>,</span> <span class=s2>&#34;주문 상세&#34;</span><span class=p>,</span> <span class=s2>&#34;카테고리&#34;</span><span class=p>,</span> <span class=s2>&#34;저자&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 독립성 평가</span>
</span></span><span class=line><span class=cl><span class=n>entities</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Customer&#34;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&#34;독립&#34;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&#34;이유&#34;</span><span class=p>:</span> <span class=s2>&#34;고유 식별 가능&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Book&#34;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&#34;독립&#34;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&#34;이유&#34;</span><span class=p>:</span> <span class=s2>&#34;고유 ISBN&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Order&#34;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&#34;독립&#34;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&#34;이유&#34;</span><span class=p>:</span> <span class=s2>&#34;고유 주문번호&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;OrderItem&#34;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&#34;독립&#34;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span> <span class=s2>&#34;이유&#34;</span><span class=p>:</span> <span class=s2>&#34;주문에 종속&#34;</span><span class=p>,</span> <span class=s2>&#34;타입&#34;</span><span class=p>:</span> <span class=s2>&#34;약한 개체&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Category&#34;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&#34;독립&#34;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&#34;이유&#34;</span><span class=p>:</span> <span class=s2>&#34;고유 카테고리&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Author&#34;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&#34;독립&#34;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&#34;이유&#34;</span><span class=p>:</span> <span class=s2>&#34;고유 저자&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>2단계: 속성 정의</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-67-1><a class=lnlinks href=#hl-67-1> 1</a>
</span><span class=lnt id=hl-67-2><a class=lnlinks href=#hl-67-2> 2</a>
</span><span class=lnt id=hl-67-3><a class=lnlinks href=#hl-67-3> 3</a>
</span><span class=lnt id=hl-67-4><a class=lnlinks href=#hl-67-4> 4</a>
</span><span class=lnt id=hl-67-5><a class=lnlinks href=#hl-67-5> 5</a>
</span><span class=lnt id=hl-67-6><a class=lnlinks href=#hl-67-6> 6</a>
</span><span class=lnt id=hl-67-7><a class=lnlinks href=#hl-67-7> 7</a>
</span><span class=lnt id=hl-67-8><a class=lnlinks href=#hl-67-8> 8</a>
</span><span class=lnt id=hl-67-9><a class=lnlinks href=#hl-67-9> 9</a>
</span><span class=lnt id=hl-67-10><a class=lnlinks href=#hl-67-10>10</a>
</span><span class=lnt id=hl-67-11><a class=lnlinks href=#hl-67-11>11</a>
</span><span class=lnt id=hl-67-12><a class=lnlinks href=#hl-67-12>12</a>
</span><span class=lnt id=hl-67-13><a class=lnlinks href=#hl-67-13>13</a>
</span><span class=lnt id=hl-67-14><a class=lnlinks href=#hl-67-14>14</a>
</span><span class=lnt id=hl-67-15><a class=lnlinks href=#hl-67-15>15</a>
</span><span class=lnt id=hl-67-16><a class=lnlinks href=#hl-67-16>16</a>
</span><span class=lnt id=hl-67-17><a class=lnlinks href=#hl-67-17>17</a>
</span><span class=lnt id=hl-67-18><a class=lnlinks href=#hl-67-18>18</a>
</span><span class=lnt id=hl-67-19><a class=lnlinks href=#hl-67-19>19</a>
</span><span class=lnt id=hl-67-20><a class=lnlinks href=#hl-67-20>20</a>
</span><span class=lnt id=hl-67-21><a class=lnlinks href=#hl-67-21>21</a>
</span><span class=lnt id=hl-67-22><a class=lnlinks href=#hl-67-22>22</a>
</span><span class=lnt id=hl-67-23><a class=lnlinks href=#hl-67-23>23</a>
</span><span class=lnt id=hl-67-24><a class=lnlinks href=#hl-67-24>24</a>
</span><span class=lnt id=hl-67-25><a class=lnlinks href=#hl-67-25>25</a>
</span><span class=lnt id=hl-67-26><a class=lnlinks href=#hl-67-26>26</a>
</span><span class=lnt id=hl-67-27><a class=lnlinks href=#hl-67-27>27</a>
</span><span class=lnt id=hl-67-28><a class=lnlinks href=#hl-67-28>28</a>
</span><span class=lnt id=hl-67-29><a class=lnlinks href=#hl-67-29>29</a>
</span><span class=lnt id=hl-67-30><a class=lnlinks href=#hl-67-30>30</a>
</span><span class=lnt id=hl-67-31><a class=lnlinks href=#hl-67-31>31</a>
</span><span class=lnt id=hl-67-32><a class=lnlinks href=#hl-67-32>32</a>
</span><span class=lnt id=hl-67-33><a class=lnlinks href=#hl-67-33>33</a>
</span><span class=lnt id=hl-67-34><a class=lnlinks href=#hl-67-34>34</a>
</span><span class=lnt id=hl-67-35><a class=lnlinks href=#hl-67-35>35</a>
</span><span class=lnt id=hl-67-36><a class=lnlinks href=#hl-67-36>36</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 개체별 속성 정의 (주석으로 ER 개념 연관성 표시)</span>
</span></span><span class=line><span class=cl><span class=n>attributes</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Customer&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;customer_id&#34;</span><span class=p>:</span> <span class=s2>&#34;INT, PK&#34;</span><span class=p>,</span>          <span class=c1># 키 속성 (Key Attribute)</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;VARCHAR(100)&#34;</span><span class=p>,</span>            <span class=c1># 단순 속성 (Simple Attribute)</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;email&#34;</span><span class=p>:</span> <span class=s2>&#34;VARCHAR(100), UNIQUE&#34;</span><span class=p>,</span>   <span class=c1># 단순 속성 + 제약조건</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;street&#34;</span><span class=p>:</span> <span class=s2>&#34;VARCHAR(200)&#34;</span><span class=p>,</span>          <span class=c1># 복합 속성 Address의 일부</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;city&#34;</span><span class=p>:</span> <span class=s2>&#34;VARCHAR(100)&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;zipcode&#34;</span><span class=p>:</span> <span class=s2>&#34;VARCHAR(10)&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Book&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;book_id&#34;</span><span class=p>:</span> <span class=s2>&#34;INT, PK&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;isbn&#34;</span><span class=p>:</span> <span class=s2>&#34;VARCHAR(20), UNIQUE&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;VARCHAR(200)&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;price&#34;</span><span class=p>:</span> <span class=s2>&#34;DECIMAL(10,2)&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;stock&#34;</span><span class=p>:</span> <span class=s2>&#34;INT&#34;</span>                      <span class=c1># 저장 속성 (Stored Attribute)</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Order&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;order_id&#34;</span><span class=p>:</span> <span class=s2>&#34;INT, PK&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;customer_id&#34;</span><span class=p>:</span> <span class=s2>&#34;INT, FK&#34;</span><span class=p>,</span>           <span class=c1># 관계를 나타내는 외래키</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;order_date&#34;</span><span class=p>:</span> <span class=s2>&#34;DATE&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;VARCHAR(20)&#34;</span><span class=p>,</span>            <span class=c1># 배송 상태</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;total_amount&#34;</span><span class=p>:</span> <span class=s2>&#34;DECIMAL(10,2)&#34;</span>     <span class=c1># 유도 속성 (Derived Attribute)</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;OrderItem&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;order_id&#34;</span><span class=p>:</span> <span class=s2>&#34;INT, PK, FK&#34;</span><span class=p>,</span>          <span class=c1># 소유자 키 (Owner Key)</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;item_seq&#34;</span><span class=p>:</span> <span class=s2>&#34;INT, PK&#34;</span><span class=p>,</span>              <span class=c1># 부분 키 (Partial Key)</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;book_id&#34;</span><span class=p>:</span> <span class=s2>&#34;INT, FK&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;quantity&#34;</span><span class=p>:</span> <span class=s2>&#34;INT&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;unit_price&#34;</span><span class=p>:</span> <span class=s2>&#34;DECIMAL(10,2)&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Category&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;category_id&#34;</span><span class=p>:</span> <span class=s2>&#34;INT, PK&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;category_name&#34;</span><span class=p>:</span> <span class=s2>&#34;VARCHAR(50)&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>3단계: 관계 도출 및 카디널리티 결정</strong></p><pre class=mermaid>erDiagram
    CUSTOMER ||--o{ ORDER : places
    CUSTOMER {
        int customer_id PK
        string name
        string email
        string street
        string city
        string zipcode
    }
    
    ORDER ||--|{ ORDER_ITEM : contains
    ORDER {
        int order_id PK
        int customer_id FK
        date order_date
        string status
        decimal total_amount
    }
    
    BOOK ||--o{ ORDER_ITEM : ordered_in
    BOOK {
        int book_id PK
        string isbn
        string title
        decimal price
        int stock
    }
    
    CATEGORY ||--o{ BOOK : categorizes
    CATEGORY {
        int category_id PK
        string category_name
    }
    
    ORDER_ITEM {
        int order_id PK_FK
        int item_seq PK
        int book_id FK
        int quantity
        decimal unit_price
    }
</pre><p>관계 분석:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-69-1><a class=lnlinks href=#hl-69-1> 1</a>
</span><span class=lnt id=hl-69-2><a class=lnlinks href=#hl-69-2> 2</a>
</span><span class=lnt id=hl-69-3><a class=lnlinks href=#hl-69-3> 3</a>
</span><span class=lnt id=hl-69-4><a class=lnlinks href=#hl-69-4> 4</a>
</span><span class=lnt id=hl-69-5><a class=lnlinks href=#hl-69-5> 5</a>
</span><span class=lnt id=hl-69-6><a class=lnlinks href=#hl-69-6> 6</a>
</span><span class=lnt id=hl-69-7><a class=lnlinks href=#hl-69-7> 7</a>
</span><span class=lnt id=hl-69-8><a class=lnlinks href=#hl-69-8> 8</a>
</span><span class=lnt id=hl-69-9><a class=lnlinks href=#hl-69-9> 9</a>
</span><span class=lnt id=hl-69-10><a class=lnlinks href=#hl-69-10>10</a>
</span><span class=lnt id=hl-69-11><a class=lnlinks href=#hl-69-11>11</a>
</span><span class=lnt id=hl-69-12><a class=lnlinks href=#hl-69-12>12</a>
</span><span class=lnt id=hl-69-13><a class=lnlinks href=#hl-69-13>13</a>
</span><span class=lnt id=hl-69-14><a class=lnlinks href=#hl-69-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>1. Customer &#34;places&#34; Order (1:N)
</span></span><span class=line><span class=cl>   - 한 고객이 여러 주문 가능
</span></span><span class=line><span class=cl>   - 전체 참여: Order는 반드시 Customer 필요 (NOT NULL FK)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>2. Order &#34;contains&#34; OrderItem (1:N, 식별 관계)
</span></span><span class=line><span class=cl>   - 한 주문에 여러 항목
</span></span><span class=line><span class=cl>   - OrderItem은 약한 개체 (Order 없이 존재 불가)
</span></span><span class=line><span class=cl>   - CASCADE 삭제 적용
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>3. Book &#34;ordered_in&#34; OrderItem (1:N)
</span></span><span class=line><span class=cl>   - 한 책이 여러 주문에 포함 가능
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>4. Category &#34;categorizes&#34; Book (1:N)
</span></span><span class=line><span class=cl>   - 한 카테고리에 여러 책
</span></span></code></pre></td></tr></table></div></div><p><strong>4단계: DDL 구현</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-70-1><a class=lnlinks href=#hl-70-1> 1</a>
</span><span class=lnt id=hl-70-2><a class=lnlinks href=#hl-70-2> 2</a>
</span><span class=lnt id=hl-70-3><a class=lnlinks href=#hl-70-3> 3</a>
</span><span class=lnt id=hl-70-4><a class=lnlinks href=#hl-70-4> 4</a>
</span><span class=lnt id=hl-70-5><a class=lnlinks href=#hl-70-5> 5</a>
</span><span class=lnt id=hl-70-6><a class=lnlinks href=#hl-70-6> 6</a>
</span><span class=lnt id=hl-70-7><a class=lnlinks href=#hl-70-7> 7</a>
</span><span class=lnt id=hl-70-8><a class=lnlinks href=#hl-70-8> 8</a>
</span><span class=lnt id=hl-70-9><a class=lnlinks href=#hl-70-9> 9</a>
</span><span class=lnt id=hl-70-10><a class=lnlinks href=#hl-70-10>10</a>
</span><span class=lnt id=hl-70-11><a class=lnlinks href=#hl-70-11>11</a>
</span><span class=lnt id=hl-70-12><a class=lnlinks href=#hl-70-12>12</a>
</span><span class=lnt id=hl-70-13><a class=lnlinks href=#hl-70-13>13</a>
</span><span class=lnt id=hl-70-14><a class=lnlinks href=#hl-70-14>14</a>
</span><span class=lnt id=hl-70-15><a class=lnlinks href=#hl-70-15>15</a>
</span><span class=lnt id=hl-70-16><a class=lnlinks href=#hl-70-16>16</a>
</span><span class=lnt id=hl-70-17><a class=lnlinks href=#hl-70-17>17</a>
</span><span class=lnt id=hl-70-18><a class=lnlinks href=#hl-70-18>18</a>
</span><span class=lnt id=hl-70-19><a class=lnlinks href=#hl-70-19>19</a>
</span><span class=lnt id=hl-70-20><a class=lnlinks href=#hl-70-20>20</a>
</span><span class=lnt id=hl-70-21><a class=lnlinks href=#hl-70-21>21</a>
</span><span class=lnt id=hl-70-22><a class=lnlinks href=#hl-70-22>22</a>
</span><span class=lnt id=hl-70-23><a class=lnlinks href=#hl-70-23>23</a>
</span><span class=lnt id=hl-70-24><a class=lnlinks href=#hl-70-24>24</a>
</span><span class=lnt id=hl-70-25><a class=lnlinks href=#hl-70-25>25</a>
</span><span class=lnt id=hl-70-26><a class=lnlinks href=#hl-70-26>26</a>
</span><span class=lnt id=hl-70-27><a class=lnlinks href=#hl-70-27>27</a>
</span><span class=lnt id=hl-70-28><a class=lnlinks href=#hl-70-28>28</a>
</span><span class=lnt id=hl-70-29><a class=lnlinks href=#hl-70-29>29</a>
</span><span class=lnt id=hl-70-30><a class=lnlinks href=#hl-70-30>30</a>
</span><span class=lnt id=hl-70-31><a class=lnlinks href=#hl-70-31>31</a>
</span><span class=lnt id=hl-70-32><a class=lnlinks href=#hl-70-32>32</a>
</span><span class=lnt id=hl-70-33><a class=lnlinks href=#hl-70-33>33</a>
</span><span class=lnt id=hl-70-34><a class=lnlinks href=#hl-70-34>34</a>
</span><span class=lnt id=hl-70-35><a class=lnlinks href=#hl-70-35>35</a>
</span><span class=lnt id=hl-70-36><a class=lnlinks href=#hl-70-36>36</a>
</span><span class=lnt id=hl-70-37><a class=lnlinks href=#hl-70-37>37</a>
</span><span class=lnt id=hl-70-38><a class=lnlinks href=#hl-70-38>38</a>
</span><span class=lnt id=hl-70-39><a class=lnlinks href=#hl-70-39>39</a>
</span><span class=lnt id=hl-70-40><a class=lnlinks href=#hl-70-40>40</a>
</span><span class=lnt id=hl-70-41><a class=lnlinks href=#hl-70-41>41</a>
</span><span class=lnt id=hl-70-42><a class=lnlinks href=#hl-70-42>42</a>
</span><span class=lnt id=hl-70-43><a class=lnlinks href=#hl-70-43>43</a>
</span><span class=lnt id=hl-70-44><a class=lnlinks href=#hl-70-44>44</a>
</span><span class=lnt id=hl-70-45><a class=lnlinks href=#hl-70-45>45</a>
</span><span class=lnt id=hl-70-46><a class=lnlinks href=#hl-70-46>46</a>
</span><span class=lnt id=hl-70-47><a class=lnlinks href=#hl-70-47>47</a>
</span><span class=lnt id=hl-70-48><a class=lnlinks href=#hl-70-48>48</a>
</span><span class=lnt id=hl-70-49><a class=lnlinks href=#hl-70-49>49</a>
</span><span class=lnt id=hl-70-50><a class=lnlinks href=#hl-70-50>50</a>
</span><span class=lnt id=hl-70-51><a class=lnlinks href=#hl-70-51>51</a>
</span><span class=lnt id=hl-70-52><a class=lnlinks href=#hl-70-52>52</a>
</span><span class=lnt id=hl-70-53><a class=lnlinks href=#hl-70-53>53</a>
</span><span class=lnt id=hl-70-54><a class=lnlinks href=#hl-70-54>54</a>
</span><span class=lnt id=hl-70-55><a class=lnlinks href=#hl-70-55>55</a>
</span><span class=lnt id=hl-70-56><a class=lnlinks href=#hl-70-56>56</a>
</span><span class=lnt id=hl-70-57><a class=lnlinks href=#hl-70-57>57</a>
</span><span class=lnt id=hl-70-58><a class=lnlinks href=#hl-70-58>58</a>
</span><span class=lnt id=hl-70-59><a class=lnlinks href=#hl-70-59>59</a>
</span><span class=lnt id=hl-70-60><a class=lnlinks href=#hl-70-60>60</a>
</span><span class=lnt id=hl-70-61><a class=lnlinks href=#hl-70-61>61</a>
</span><span class=lnt id=hl-70-62><a class=lnlinks href=#hl-70-62>62</a>
</span><span class=lnt id=hl-70-63><a class=lnlinks href=#hl-70-63>63</a>
</span><span class=lnt id=hl-70-64><a class=lnlinks href=#hl-70-64>64</a>
</span><span class=lnt id=hl-70-65><a class=lnlinks href=#hl-70-65>65</a>
</span><span class=lnt id=hl-70-66><a class=lnlinks href=#hl-70-66>66</a>
</span><span class=lnt id=hl-70-67><a class=lnlinks href=#hl-70-67>67</a>
</span><span class=lnt id=hl-70-68><a class=lnlinks href=#hl-70-68>68</a>
</span><span class=lnt id=hl-70-69><a class=lnlinks href=#hl-70-69>69</a>
</span><span class=lnt id=hl-70-70><a class=lnlinks href=#hl-70-70>70</a>
</span><span class=lnt id=hl-70-71><a class=lnlinks href=#hl-70-71>71</a>
</span><span class=lnt id=hl-70-72><a class=lnlinks href=#hl-70-72>72</a>
</span><span class=lnt id=hl-70-73><a class=lnlinks href=#hl-70-73>73</a>
</span><span class=lnt id=hl-70-74><a class=lnlinks href=#hl-70-74>74</a>
</span><span class=lnt id=hl-70-75><a class=lnlinks href=#hl-70-75>75</a>
</span><span class=lnt id=hl-70-76><a class=lnlinks href=#hl-70-76>76</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 데이터베이스 생성
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>DATABASE</span><span class=w> </span><span class=n>OnlineBookstore</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>USE</span><span class=w> </span><span class=n>OnlineBookstore</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 1. Category (독립 개체, 참조 없음)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Category</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>category_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=n>AUTO_INCREMENT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>category_name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>UNIQUE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>description</span><span class=w> </span><span class=nb>TEXT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 2. Customer (독립 개체)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=n>AUTO_INCREMENT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>email</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>UNIQUE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 복합 속성 Address 분해
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>street</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>200</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>city</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>zipcode</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>10</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>registration_date</span><span class=w> </span><span class=nb>DATE</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=p>(</span><span class=k>CURRENT_DATE</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 3. Book (독립 개체, Category 참조)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Book</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>book_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=n>AUTO_INCREMENT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>isbn</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>UNIQUE</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>title</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>200</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>author</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>price</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>CHECK</span><span class=w> </span><span class=p>(</span><span class=n>price</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=mi>0</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>stock</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=k>CHECK</span><span class=w> </span><span class=p>(</span><span class=n>stock</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=mi>0</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>category_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>published_date</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 1:N 관계: Category → Book
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>category_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Category</span><span class=p>(</span><span class=n>category_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ON</span><span class=w> </span><span class=k>DELETE</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=k>NULL</span><span class=w>  </span><span class=c1>-- 카테고리 삭제 시 NULL 설정
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ON</span><span class=w> </span><span class=k>UPDATE</span><span class=w> </span><span class=k>CASCADE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 4. Orders (Customer 참조)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=n>AUTO_INCREMENT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>  </span><span class=c1>-- 전체 참여 (Total Participation)
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_date</span><span class=w> </span><span class=nb>DATE</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=p>(</span><span class=k>CURRENT_DATE</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>status</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=s1>&#39;Pending&#39;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>total_amount</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 1:N 관계: Customer → Orders
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>customer_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Customer</span><span class=p>(</span><span class=n>customer_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ON</span><span class=w> </span><span class=k>DELETE</span><span class=w> </span><span class=k>RESTRICT</span><span class=w>  </span><span class=c1>-- 고객 삭제 방지 (주문 있으면)
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ON</span><span class=w> </span><span class=k>UPDATE</span><span class=w> </span><span class=k>CASCADE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 5. OrderItem (약한 개체, Order와 Book 참조)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>OrderItem</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>              </span><span class=c1>-- 소유자 키 (Owner Key)
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>item_seq</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>              </span><span class=c1>-- 부분 키 (Partial Key)
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>book_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>quantity</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>CHECK</span><span class=w> </span><span class=p>(</span><span class=n>quantity</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>unit_price</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 복합 기본키
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>order_id</span><span class=p>,</span><span class=w> </span><span class=n>item_seq</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 식별 관계: Order → OrderItem (약한 개체)
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>order_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Orders</span><span class=p>(</span><span class=n>order_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ON</span><span class=w> </span><span class=k>DELETE</span><span class=w> </span><span class=k>CASCADE</span><span class=w>      </span><span class=c1>-- 주문 삭제 시 자동 삭제
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ON</span><span class=w> </span><span class=k>UPDATE</span><span class=w> </span><span class=k>CASCADE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 비식별 관계: Book → OrderItem
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>book_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Book</span><span class=p>(</span><span class=n>book_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ON</span><span class=w> </span><span class=k>DELETE</span><span class=w> </span><span class=k>RESTRICT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ON</span><span class=w> </span><span class=k>UPDATE</span><span class=w> </span><span class=k>CASCADE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 인덱스 생성 (성능 최적화)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_orders_customer</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>Orders</span><span class=p>(</span><span class=n>customer_id</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_orders_date</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>Orders</span><span class=p>(</span><span class=n>order_date</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_book_category</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>Book</span><span class=p>(</span><span class=n>category_id</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_orderitem_book</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>OrderItem</span><span class=p>(</span><span class=n>book_id</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>5단계: 트리거를 통한 유도 속성 구현</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-71-1><a class=lnlinks href=#hl-71-1> 1</a>
</span><span class=lnt id=hl-71-2><a class=lnlinks href=#hl-71-2> 2</a>
</span><span class=lnt id=hl-71-3><a class=lnlinks href=#hl-71-3> 3</a>
</span><span class=lnt id=hl-71-4><a class=lnlinks href=#hl-71-4> 4</a>
</span><span class=lnt id=hl-71-5><a class=lnlinks href=#hl-71-5> 5</a>
</span><span class=lnt id=hl-71-6><a class=lnlinks href=#hl-71-6> 6</a>
</span><span class=lnt id=hl-71-7><a class=lnlinks href=#hl-71-7> 7</a>
</span><span class=lnt id=hl-71-8><a class=lnlinks href=#hl-71-8> 8</a>
</span><span class=lnt id=hl-71-9><a class=lnlinks href=#hl-71-9> 9</a>
</span><span class=lnt id=hl-71-10><a class=lnlinks href=#hl-71-10>10</a>
</span><span class=lnt id=hl-71-11><a class=lnlinks href=#hl-71-11>11</a>
</span><span class=lnt id=hl-71-12><a class=lnlinks href=#hl-71-12>12</a>
</span><span class=lnt id=hl-71-13><a class=lnlinks href=#hl-71-13>13</a>
</span><span class=lnt id=hl-71-14><a class=lnlinks href=#hl-71-14>14</a>
</span><span class=lnt id=hl-71-15><a class=lnlinks href=#hl-71-15>15</a>
</span><span class=lnt id=hl-71-16><a class=lnlinks href=#hl-71-16>16</a>
</span><span class=lnt id=hl-71-17><a class=lnlinks href=#hl-71-17>17</a>
</span><span class=lnt id=hl-71-18><a class=lnlinks href=#hl-71-18>18</a>
</span><span class=lnt id=hl-71-19><a class=lnlinks href=#hl-71-19>19</a>
</span><span class=lnt id=hl-71-20><a class=lnlinks href=#hl-71-20>20</a>
</span><span class=lnt id=hl-71-21><a class=lnlinks href=#hl-71-21>21</a>
</span><span class=lnt id=hl-71-22><a class=lnlinks href=#hl-71-22>22</a>
</span><span class=lnt id=hl-71-23><a class=lnlinks href=#hl-71-23>23</a>
</span><span class=lnt id=hl-71-24><a class=lnlinks href=#hl-71-24>24</a>
</span><span class=lnt id=hl-71-25><a class=lnlinks href=#hl-71-25>25</a>
</span><span class=lnt id=hl-71-26><a class=lnlinks href=#hl-71-26>26</a>
</span><span class=lnt id=hl-71-27><a class=lnlinks href=#hl-71-27>27</a>
</span><span class=lnt id=hl-71-28><a class=lnlinks href=#hl-71-28>28</a>
</span><span class=lnt id=hl-71-29><a class=lnlinks href=#hl-71-29>29</a>
</span><span class=lnt id=hl-71-30><a class=lnlinks href=#hl-71-30>30</a>
</span><span class=lnt id=hl-71-31><a class=lnlinks href=#hl-71-31>31</a>
</span><span class=lnt id=hl-71-32><a class=lnlinks href=#hl-71-32>32</a>
</span><span class=lnt id=hl-71-33><a class=lnlinks href=#hl-71-33>33</a>
</span><span class=lnt id=hl-71-34><a class=lnlinks href=#hl-71-34>34</a>
</span><span class=lnt id=hl-71-35><a class=lnlinks href=#hl-71-35>35</a>
</span><span class=lnt id=hl-71-36><a class=lnlinks href=#hl-71-36>36</a>
</span><span class=lnt id=hl-71-37><a class=lnlinks href=#hl-71-37>37</a>
</span><span class=lnt id=hl-71-38><a class=lnlinks href=#hl-71-38>38</a>
</span><span class=lnt id=hl-71-39><a class=lnlinks href=#hl-71-39>39</a>
</span><span class=lnt id=hl-71-40><a class=lnlinks href=#hl-71-40>40</a>
</span><span class=lnt id=hl-71-41><a class=lnlinks href=#hl-71-41>41</a>
</span><span class=lnt id=hl-71-42><a class=lnlinks href=#hl-71-42>42</a>
</span><span class=lnt id=hl-71-43><a class=lnlinks href=#hl-71-43>43</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 주문 총액 자동 계산 (유도 속성 Derived Attribute)
</span></span></span><span class=line><span class=cl><span class=k>DELIMITER</span><span class=w> </span><span class=o>//</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TRIGGER</span><span class=w> </span><span class=n>update_order_total_after_insert</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>AFTER</span><span class=w> </span><span class=k>INSERT</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>OrderItem</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FOR</span><span class=w> </span><span class=k>EACH</span><span class=w> </span><span class=k>ROW</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>BEGIN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>UPDATE</span><span class=w> </span><span class=n>Orders</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SET</span><span class=w> </span><span class=n>total_amount</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>SELECT</span><span class=w> </span><span class=n>COALESCE</span><span class=p>(</span><span class=k>SUM</span><span class=p>(</span><span class=n>quantity</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>unit_price</span><span class=p>),</span><span class=w> </span><span class=mi>0</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>FROM</span><span class=w> </span><span class=n>OrderItem</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHERE</span><span class=w> </span><span class=n>order_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>NEW</span><span class=p>.</span><span class=n>order_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>order_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>NEW</span><span class=p>.</span><span class=n>order_id</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>END</span><span class=o>//</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TRIGGER</span><span class=w> </span><span class=n>update_order_total_after_update</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>AFTER</span><span class=w> </span><span class=k>UPDATE</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>OrderItem</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FOR</span><span class=w> </span><span class=k>EACH</span><span class=w> </span><span class=k>ROW</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>BEGIN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>UPDATE</span><span class=w> </span><span class=n>Orders</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SET</span><span class=w> </span><span class=n>total_amount</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>SELECT</span><span class=w> </span><span class=n>COALESCE</span><span class=p>(</span><span class=k>SUM</span><span class=p>(</span><span class=n>quantity</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>unit_price</span><span class=p>),</span><span class=w> </span><span class=mi>0</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>FROM</span><span class=w> </span><span class=n>OrderItem</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHERE</span><span class=w> </span><span class=n>order_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>NEW</span><span class=p>.</span><span class=n>order_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>order_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>NEW</span><span class=p>.</span><span class=n>order_id</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>END</span><span class=o>//</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TRIGGER</span><span class=w> </span><span class=n>update_order_total_after_delete</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>AFTER</span><span class=w> </span><span class=k>DELETE</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>OrderItem</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FOR</span><span class=w> </span><span class=k>EACH</span><span class=w> </span><span class=k>ROW</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>BEGIN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>UPDATE</span><span class=w> </span><span class=n>Orders</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SET</span><span class=w> </span><span class=n>total_amount</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>SELECT</span><span class=w> </span><span class=n>COALESCE</span><span class=p>(</span><span class=k>SUM</span><span class=p>(</span><span class=n>quantity</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>unit_price</span><span class=p>),</span><span class=w> </span><span class=mi>0</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>FROM</span><span class=w> </span><span class=n>OrderItem</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHERE</span><span class=w> </span><span class=n>order_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>OLD</span><span class=p>.</span><span class=n>order_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>order_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>OLD</span><span class=p>.</span><span class=n>order_id</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>END</span><span class=o>//</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>DELIMITER</span><span class=w> </span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>6단계: 샘플 데이터 삽입</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-72-1><a class=lnlinks href=#hl-72-1> 1</a>
</span><span class=lnt id=hl-72-2><a class=lnlinks href=#hl-72-2> 2</a>
</span><span class=lnt id=hl-72-3><a class=lnlinks href=#hl-72-3> 3</a>
</span><span class=lnt id=hl-72-4><a class=lnlinks href=#hl-72-4> 4</a>
</span><span class=lnt id=hl-72-5><a class=lnlinks href=#hl-72-5> 5</a>
</span><span class=lnt id=hl-72-6><a class=lnlinks href=#hl-72-6> 6</a>
</span><span class=lnt id=hl-72-7><a class=lnlinks href=#hl-72-7> 7</a>
</span><span class=lnt id=hl-72-8><a class=lnlinks href=#hl-72-8> 8</a>
</span><span class=lnt id=hl-72-9><a class=lnlinks href=#hl-72-9> 9</a>
</span><span class=lnt id=hl-72-10><a class=lnlinks href=#hl-72-10>10</a>
</span><span class=lnt id=hl-72-11><a class=lnlinks href=#hl-72-11>11</a>
</span><span class=lnt id=hl-72-12><a class=lnlinks href=#hl-72-12>12</a>
</span><span class=lnt id=hl-72-13><a class=lnlinks href=#hl-72-13>13</a>
</span><span class=lnt id=hl-72-14><a class=lnlinks href=#hl-72-14>14</a>
</span><span class=lnt id=hl-72-15><a class=lnlinks href=#hl-72-15>15</a>
</span><span class=lnt id=hl-72-16><a class=lnlinks href=#hl-72-16>16</a>
</span><span class=lnt id=hl-72-17><a class=lnlinks href=#hl-72-17>17</a>
</span><span class=lnt id=hl-72-18><a class=lnlinks href=#hl-72-18>18</a>
</span><span class=lnt id=hl-72-19><a class=lnlinks href=#hl-72-19>19</a>
</span><span class=lnt id=hl-72-20><a class=lnlinks href=#hl-72-20>20</a>
</span><span class=lnt id=hl-72-21><a class=lnlinks href=#hl-72-21>21</a>
</span><span class=lnt id=hl-72-22><a class=lnlinks href=#hl-72-22>22</a>
</span><span class=lnt id=hl-72-23><a class=lnlinks href=#hl-72-23>23</a>
</span><span class=lnt id=hl-72-24><a class=lnlinks href=#hl-72-24>24</a>
</span><span class=lnt id=hl-72-25><a class=lnlinks href=#hl-72-25>25</a>
</span><span class=lnt id=hl-72-26><a class=lnlinks href=#hl-72-26>26</a>
</span><span class=lnt id=hl-72-27><a class=lnlinks href=#hl-72-27>27</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 카테고리 데이터
</span></span></span><span class=line><span class=cl><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>Category</span><span class=w> </span><span class=p>(</span><span class=n>category_name</span><span class=p>,</span><span class=w> </span><span class=n>description</span><span class=p>)</span><span class=w> </span><span class=k>VALUES</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>(</span><span class=s1>&#39;소설&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;픽션 및 문학 작품&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>(</span><span class=s1>&#39;기술서&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;IT 및 프로그래밍 도서&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>(</span><span class=s1>&#39;에세이&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;수필 및 자기계발서&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 고객 데이터
</span></span></span><span class=line><span class=cl><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=p>(</span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>email</span><span class=p>,</span><span class=w> </span><span class=n>street</span><span class=p>,</span><span class=w> </span><span class=n>city</span><span class=p>,</span><span class=w> </span><span class=n>zipcode</span><span class=p>)</span><span class=w> </span><span class=k>VALUES</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>(</span><span class=s1>&#39;김철수&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;kim@example.com&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;서울시 강남구 테헤란로 123&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;서울&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;06234&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>(</span><span class=s1>&#39;이영희&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;lee@example.com&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;부산시 해운대구 해운대로 456&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;부산&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;48099&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 도서 데이터
</span></span></span><span class=line><span class=cl><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>Book</span><span class=w> </span><span class=p>(</span><span class=n>isbn</span><span class=p>,</span><span class=w> </span><span class=n>title</span><span class=p>,</span><span class=w> </span><span class=n>author</span><span class=p>,</span><span class=w> </span><span class=n>price</span><span class=p>,</span><span class=w> </span><span class=n>stock</span><span class=p>,</span><span class=w> </span><span class=n>category_id</span><span class=p>)</span><span class=w> </span><span class=k>VALUES</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>(</span><span class=s1>&#39;978-89-12345-67-8&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;클린 코드&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;Robert C. Martin&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>33000</span><span class=p>,</span><span class=w> </span><span class=mi>50</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>(</span><span class=s1>&#39;978-89-23456-78-9&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;채식주의자&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;한강&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>12000</span><span class=p>,</span><span class=w> </span><span class=mi>30</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>(</span><span class=s1>&#39;978-89-34567-89-0&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;나는 나로 살기로 했다&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;김수현&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>14000</span><span class=p>,</span><span class=w> </span><span class=mi>40</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 주문 생성
</span></span></span><span class=line><span class=cl><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=p>(</span><span class=n>customer_id</span><span class=p>,</span><span class=w> </span><span class=n>order_date</span><span class=p>,</span><span class=w> </span><span class=n>status</span><span class=p>)</span><span class=w> </span><span class=k>VALUES</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2025-01-15&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;Processing&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 주문 상세 추가 (약한 개체)
</span></span></span><span class=line><span class=cl><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>OrderItem</span><span class=w> </span><span class=p>(</span><span class=n>order_id</span><span class=p>,</span><span class=w> </span><span class=n>item_seq</span><span class=p>,</span><span class=w> </span><span class=n>book_id</span><span class=p>,</span><span class=w> </span><span class=n>quantity</span><span class=p>,</span><span class=w> </span><span class=n>unit_price</span><span class=p>)</span><span class=w> </span><span class=k>VALUES</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>33000</span><span class=p>),</span><span class=w>  </span><span class=c1>-- 클린 코드 2권
</span></span></span><span class=line><span class=cl><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>14000</span><span class=p>);</span><span class=w>  </span><span class=c1>-- 나는 나로 살기로 했다 1권
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- total_amount가 자동 계산됨: 33000*2 + 14000*1 = 80000
</span></span></span></code></pre></td></tr></table></div></div><h6 id=실행-결과-1>실행 결과<a hidden class=anchor aria-hidden=true href=#실행-결과-1>#</a></h6><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-73-1><a class=lnlinks href=#hl-73-1> 1</a>
</span><span class=lnt id=hl-73-2><a class=lnlinks href=#hl-73-2> 2</a>
</span><span class=lnt id=hl-73-3><a class=lnlinks href=#hl-73-3> 3</a>
</span><span class=lnt id=hl-73-4><a class=lnlinks href=#hl-73-4> 4</a>
</span><span class=lnt id=hl-73-5><a class=lnlinks href=#hl-73-5> 5</a>
</span><span class=lnt id=hl-73-6><a class=lnlinks href=#hl-73-6> 6</a>
</span><span class=lnt id=hl-73-7><a class=lnlinks href=#hl-73-7> 7</a>
</span><span class=lnt id=hl-73-8><a class=lnlinks href=#hl-73-8> 8</a>
</span><span class=lnt id=hl-73-9><a class=lnlinks href=#hl-73-9> 9</a>
</span><span class=lnt id=hl-73-10><a class=lnlinks href=#hl-73-10>10</a>
</span><span class=lnt id=hl-73-11><a class=lnlinks href=#hl-73-11>11</a>
</span><span class=lnt id=hl-73-12><a class=lnlinks href=#hl-73-12>12</a>
</span><span class=lnt id=hl-73-13><a class=lnlinks href=#hl-73-13>13</a>
</span><span class=lnt id=hl-73-14><a class=lnlinks href=#hl-73-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 주문 확인 (유도 속성 total_amount 자동 계산 확인)
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>order_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 결과: order_id=1, customer_id=1, total_amount=80000
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 약한 개체 확인 (OrderItem)
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>OrderItem</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>order_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 결과: (1,1,1,2,33000), (1,2,3,1,14000)
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- CASCADE 삭제 테스트
</span></span></span><span class=line><span class=cl><span class=k>DELETE</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>order_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- OrderItem도 자동 삭제됨 (약한 개체 특성)
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>OrderItem</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>order_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 결과: 빈 집합 (CASCADE 삭제 성공)
</span></span></span></code></pre></td></tr></table></div></div><h6 id=추가-실험-1>추가 실험<a hidden class=anchor aria-hidden=true href=#추가-실험-1>#</a></h6><p><strong>실험 1: 참조 무결성 테스트</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-74-1><a class=lnlinks href=#hl-74-1>1</a>
</span><span class=lnt id=hl-74-2><a class=lnlinks href=#hl-74-2>2</a>
</span><span class=lnt id=hl-74-3><a class=lnlinks href=#hl-74-3>3</a>
</span><span class=lnt id=hl-74-4><a class=lnlinks href=#hl-74-4>4</a>
</span><span class=lnt id=hl-74-5><a class=lnlinks href=#hl-74-5>5</a>
</span><span class=lnt id=hl-74-6><a class=lnlinks href=#hl-74-6>6</a>
</span><span class=lnt id=hl-74-7><a class=lnlinks href=#hl-74-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 존재하지 않는 고객으로 주문 시도 (실패해야 함)
</span></span></span><span class=line><span class=cl><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=p>(</span><span class=n>customer_id</span><span class=p>,</span><span class=w> </span><span class=n>order_date</span><span class=p>)</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=mi>999</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2025-01-20&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 오류: Cannot add or update a child row: foreign key constraint fails
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 주문이 있는 고객 삭제 시도 (실패해야 함)
</span></span></span><span class=line><span class=cl><span class=k>DELETE</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 오류: Cannot delete or update a parent row: foreign key constraint fails
</span></span></span></code></pre></td></tr></table></div></div><p><strong>실험 2: 카디널리티 확인</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-75-1><a class=lnlinks href=#hl-75-1> 1</a>
</span><span class=lnt id=hl-75-2><a class=lnlinks href=#hl-75-2> 2</a>
</span><span class=lnt id=hl-75-3><a class=lnlinks href=#hl-75-3> 3</a>
</span><span class=lnt id=hl-75-4><a class=lnlinks href=#hl-75-4> 4</a>
</span><span class=lnt id=hl-75-5><a class=lnlinks href=#hl-75-5> 5</a>
</span><span class=lnt id=hl-75-6><a class=lnlinks href=#hl-75-6> 6</a>
</span><span class=lnt id=hl-75-7><a class=lnlinks href=#hl-75-7> 7</a>
</span><span class=lnt id=hl-75-8><a class=lnlinks href=#hl-75-8> 8</a>
</span><span class=lnt id=hl-75-9><a class=lnlinks href=#hl-75-9> 9</a>
</span><span class=lnt id=hl-75-10><a class=lnlinks href=#hl-75-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 한 고객의 여러 주문 (1:N 관계 확인)
</span></span></span><span class=line><span class=cl><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=p>(</span><span class=n>customer_id</span><span class=p>,</span><span class=w> </span><span class=n>order_date</span><span class=p>)</span><span class=w> </span><span class=k>VALUES</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2025-01-16&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2025-01-17&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=k>COUNT</span><span class=p>(</span><span class=n>o</span><span class=p>.</span><span class=n>order_id</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>order_count</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=k>c</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=n>o</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>customer_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=p>,</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>name</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 김철수: 2개 주문
</span></span></span></code></pre></td></tr></table></div></div><p><strong>실험 3: 복합 속성 활용</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-76-1><a class=lnlinks href=#hl-76-1>1</a>
</span><span class=lnt id=hl-76-2><a class=lnlinks href=#hl-76-2>2</a>
</span><span class=lnt id=hl-76-3><a class=lnlinks href=#hl-76-3>3</a>
</span><span class=lnt id=hl-76-4><a class=lnlinks href=#hl-76-4>4</a>
</span><span class=lnt id=hl-76-5><a class=lnlinks href=#hl-76-5>5</a>
</span><span class=lnt id=hl-76-6><a class=lnlinks href=#hl-76-6>6</a>
</span><span class=lnt id=hl-76-7><a class=lnlinks href=#hl-76-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 주소 검색 (복합 속성 분해의 장점)
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>city</span><span class=p>,</span><span class=w> </span><span class=n>street</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Customer</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>WHERE</span><span class=w> </span><span class=n>city</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;서울&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- city 컬럼에 인덱스 생성 가능 (복합 속성 분해의 이점)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_customer_city</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>Customer</span><span class=p>(</span><span class=n>city</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h5 id=실습-예제-2-특수화일반화-구현-eer-모델>실습 예제 2: 특수화/일반화 구현 (EER 모델)<a hidden class=anchor aria-hidden=true href=#실습-예제-2-특수화일반화-구현-eer-모델>#</a></h5><h6 id=목적-2>목적<a hidden class=anchor aria-hidden=true href=#목적-2>#</a></h6><ul><li>Enhanced ER의 상속 개념 이해</li><li>ISA 관계의 3가지 구현 전략 비교</li><li>각 전략의 장단점 실습을 통한 체득</li></ul><h6 id=사전-요구사항-2>사전 요구사항<a hidden class=anchor aria-hidden=true href=#사전-요구사항-2>#</a></h6><ul><li>PostgreSQL 12+ (INHERITS 기능 지원)</li><li>SQL 고급 문법 이해 (UNION, JOIN)</li></ul><h6 id=단계별-구현-2>단계별 구현<a hidden class=anchor aria-hidden=true href=#단계별-구현-2>#</a></h6><p><strong>1단계: 요구사항 및 상속 구조 설계</strong></p><p>비즈니스 요구사항:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-77-1><a class=lnlinks href=#hl-77-1>1</a>
</span><span class=lnt id=hl-77-2><a class=lnlinks href=#hl-77-2>2</a>
</span><span class=lnt id=hl-77-3><a class=lnlinks href=#hl-77-3>3</a>
</span><span class=lnt id=hl-77-4><a class=lnlinks href=#hl-77-4>4</a>
</span><span class=lnt id=hl-77-5><a class=lnlinks href=#hl-77-5>5</a>
</span><span class=lnt id=hl-77-6><a class=lnlinks href=#hl-77-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>대학 시스템에서 Person(사람)은 다음으로 구분됩니다:
</span></span><span class=line><span class=cl>- Student(학생): 학번, 전공, 학년
</span></span><span class=line><span class=cl>- Professor(교수): 교직원 번호, 연구 분야, 직급
</span></span><span class=line><span class=cl>- Staff(직원): 교직원 번호, 부서, 직책
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>공통 속성: 이름, 생년월일, 연락처
</span></span></code></pre></td></tr></table></div></div><p>ER 다이어그램:</p><pre class=mermaid>erDiagram
    PERSON ||--o| STUDENT : &#34;is a&#34;
    PERSON ||--o| PROFESSOR : &#34;is a&#34;
    PERSON ||--o| STAFF : &#34;is a&#34;
    
    PERSON {
        int person_id PK
        string name
        date birthdate
        string phone
    }
    
    STUDENT {
        int person_id PK_FK
        string student_id
        string major
        int grade
    }
    
    PROFESSOR {
        int person_id PK_FK
        string employee_id
        string research_field
        string rank
    }
    
    STAFF {
        int person_id PK_FK
        string employee_id
        string department
        string position
    }
</pre><p><strong>2단계: 전략 1 - 단일 테이블 상속 (Single Table Inheritance)</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-79-1><a class=lnlinks href=#hl-79-1> 1</a>
</span><span class=lnt id=hl-79-2><a class=lnlinks href=#hl-79-2> 2</a>
</span><span class=lnt id=hl-79-3><a class=lnlinks href=#hl-79-3> 3</a>
</span><span class=lnt id=hl-79-4><a class=lnlinks href=#hl-79-4> 4</a>
</span><span class=lnt id=hl-79-5><a class=lnlinks href=#hl-79-5> 5</a>
</span><span class=lnt id=hl-79-6><a class=lnlinks href=#hl-79-6> 6</a>
</span><span class=lnt id=hl-79-7><a class=lnlinks href=#hl-79-7> 7</a>
</span><span class=lnt id=hl-79-8><a class=lnlinks href=#hl-79-8> 8</a>
</span><span class=lnt id=hl-79-9><a class=lnlinks href=#hl-79-9> 9</a>
</span><span class=lnt id=hl-79-10><a class=lnlinks href=#hl-79-10>10</a>
</span><span class=lnt id=hl-79-11><a class=lnlinks href=#hl-79-11>11</a>
</span><span class=lnt id=hl-79-12><a class=lnlinks href=#hl-79-12>12</a>
</span><span class=lnt id=hl-79-13><a class=lnlinks href=#hl-79-13>13</a>
</span><span class=lnt id=hl-79-14><a class=lnlinks href=#hl-79-14>14</a>
</span><span class=lnt id=hl-79-15><a class=lnlinks href=#hl-79-15>15</a>
</span><span class=lnt id=hl-79-16><a class=lnlinks href=#hl-79-16>16</a>
</span><span class=lnt id=hl-79-17><a class=lnlinks href=#hl-79-17>17</a>
</span><span class=lnt id=hl-79-18><a class=lnlinks href=#hl-79-18>18</a>
</span><span class=lnt id=hl-79-19><a class=lnlinks href=#hl-79-19>19</a>
</span><span class=lnt id=hl-79-20><a class=lnlinks href=#hl-79-20>20</a>
</span><span class=lnt id=hl-79-21><a class=lnlinks href=#hl-79-21>21</a>
</span><span class=lnt id=hl-79-22><a class=lnlinks href=#hl-79-22>22</a>
</span><span class=lnt id=hl-79-23><a class=lnlinks href=#hl-79-23>23</a>
</span><span class=lnt id=hl-79-24><a class=lnlinks href=#hl-79-24>24</a>
</span><span class=lnt id=hl-79-25><a class=lnlinks href=#hl-79-25>25</a>
</span><span class=lnt id=hl-79-26><a class=lnlinks href=#hl-79-26>26</a>
</span><span class=lnt id=hl-79-27><a class=lnlinks href=#hl-79-27>27</a>
</span><span class=lnt id=hl-79-28><a class=lnlinks href=#hl-79-28>28</a>
</span><span class=lnt id=hl-79-29><a class=lnlinks href=#hl-79-29>29</a>
</span><span class=lnt id=hl-79-30><a class=lnlinks href=#hl-79-30>30</a>
</span><span class=lnt id=hl-79-31><a class=lnlinks href=#hl-79-31>31</a>
</span><span class=lnt id=hl-79-32><a class=lnlinks href=#hl-79-32>32</a>
</span><span class=lnt id=hl-79-33><a class=lnlinks href=#hl-79-33>33</a>
</span><span class=lnt id=hl-79-34><a class=lnlinks href=#hl-79-34>34</a>
</span><span class=lnt id=hl-79-35><a class=lnlinks href=#hl-79-35>35</a>
</span><span class=lnt id=hl-79-36><a class=lnlinks href=#hl-79-36>36</a>
</span><span class=lnt id=hl-79-37><a class=lnlinks href=#hl-79-37>37</a>
</span><span class=lnt id=hl-79-38><a class=lnlinks href=#hl-79-38>38</a>
</span><span class=lnt id=hl-79-39><a class=lnlinks href=#hl-79-39>39</a>
</span><span class=lnt id=hl-79-40><a class=lnlinks href=#hl-79-40>40</a>
</span><span class=lnt id=hl-79-41><a class=lnlinks href=#hl-79-41>41</a>
</span><span class=lnt id=hl-79-42><a class=lnlinks href=#hl-79-42>42</a>
</span><span class=lnt id=hl-79-43><a class=lnlinks href=#hl-79-43>43</a>
</span><span class=lnt id=hl-79-44><a class=lnlinks href=#hl-79-44>44</a>
</span><span class=lnt id=hl-79-45><a class=lnlinks href=#hl-79-45>45</a>
</span><span class=lnt id=hl-79-46><a class=lnlinks href=#hl-79-46>46</a>
</span><span class=lnt id=hl-79-47><a class=lnlinks href=#hl-79-47>47</a>
</span><span class=lnt id=hl-79-48><a class=lnlinks href=#hl-79-48>48</a>
</span><span class=lnt id=hl-79-49><a class=lnlinks href=#hl-79-49>49</a>
</span><span class=lnt id=hl-79-50><a class=lnlinks href=#hl-79-50>50</a>
</span><span class=lnt id=hl-79-51><a class=lnlinks href=#hl-79-51>51</a>
</span><span class=lnt id=hl-79-52><a class=lnlinks href=#hl-79-52>52</a>
</span><span class=lnt id=hl-79-53><a class=lnlinks href=#hl-79-53>53</a>
</span><span class=lnt id=hl-79-54><a class=lnlinks href=#hl-79-54>54</a>
</span><span class=lnt id=hl-79-55><a class=lnlinks href=#hl-79-55>55</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 모든 하위 타입을 하나의 테이블에 통합
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Person_SingleTable</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>person_id</span><span class=w> </span><span class=nb>SERIAL</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>person_type</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>  </span><span class=c1>-- &#39;Student&#39;, &#39;Professor&#39;, &#39;Staff&#39;
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 공통 속성
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>birthdate</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>phone</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- Student 전용 속성
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>student_id</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>major</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>grade</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- Professor 전용 속성
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>employee_id_prof</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>research_field</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>rank</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- Staff 전용 속성
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>employee_id_staff</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>department</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>position</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 제약조건: 타입에 따라 필수 컬럼 확인
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>CHECK</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>(</span><span class=n>person_type</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;Student&#39;</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>student_id</span><span class=w> </span><span class=k>IS</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>)</span><span class=w> </span><span class=k>OR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>(</span><span class=n>person_type</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;Professor&#39;</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>employee_id_prof</span><span class=w> </span><span class=k>IS</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>)</span><span class=w> </span><span class=k>OR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>(</span><span class=n>person_type</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;Staff&#39;</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>employee_id_staff</span><span class=w> </span><span class=k>IS</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 데이터 삽입
</span></span></span><span class=line><span class=cl><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>Person_SingleTable</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>(</span><span class=n>person_type</span><span class=p>,</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>birthdate</span><span class=p>,</span><span class=w> </span><span class=n>phone</span><span class=p>,</span><span class=w> </span><span class=n>student_id</span><span class=p>,</span><span class=w> </span><span class=n>major</span><span class=p>,</span><span class=w> </span><span class=n>grade</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>VALUES</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>(</span><span class=s1>&#39;Student&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;김학생&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2000-03-15&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;010-1111-2222&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2024001&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;컴퓨터공학&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>Person_SingleTable</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>(</span><span class=n>person_type</span><span class=p>,</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>birthdate</span><span class=p>,</span><span class=w> </span><span class=n>phone</span><span class=p>,</span><span class=w> </span><span class=n>employee_id_prof</span><span class=p>,</span><span class=w> </span><span class=n>research_field</span><span class=p>,</span><span class=w> </span><span class=n>rank</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>VALUES</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>(</span><span class=s1>&#39;Professor&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;이교수&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1975-06-20&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;010-3333-4444&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;P2024001&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;인공지능&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;교수&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 타입별 조회를 위한 뷰
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>VIEW</span><span class=w> </span><span class=n>Student_View</span><span class=w> </span><span class=k>AS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>person_id</span><span class=p>,</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>birthdate</span><span class=p>,</span><span class=w> </span><span class=n>phone</span><span class=p>,</span><span class=w> </span><span class=n>student_id</span><span class=p>,</span><span class=w> </span><span class=n>major</span><span class=p>,</span><span class=w> </span><span class=n>grade</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Person_SingleTable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>WHERE</span><span class=w> </span><span class=n>person_type</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;Student&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>VIEW</span><span class=w> </span><span class=n>Professor_View</span><span class=w> </span><span class=k>AS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>person_id</span><span class=p>,</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>birthdate</span><span class=p>,</span><span class=w> </span><span class=n>phone</span><span class=p>,</span><span class=w> </span><span class=n>employee_id_prof</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>employee_id</span><span class=p>,</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>       </span><span class=n>research_field</span><span class=p>,</span><span class=w> </span><span class=n>rank</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Person_SingleTable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>WHERE</span><span class=w> </span><span class=n>person_type</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;Professor&#39;</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>장단점 분석</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-80-1><a class=lnlinks href=#hl-80-1> 1</a>
</span><span class=lnt id=hl-80-2><a class=lnlinks href=#hl-80-2> 2</a>
</span><span class=lnt id=hl-80-3><a class=lnlinks href=#hl-80-3> 3</a>
</span><span class=lnt id=hl-80-4><a class=lnlinks href=#hl-80-4> 4</a>
</span><span class=lnt id=hl-80-5><a class=lnlinks href=#hl-80-5> 5</a>
</span><span class=lnt id=hl-80-6><a class=lnlinks href=#hl-80-6> 6</a>
</span><span class=lnt id=hl-80-7><a class=lnlinks href=#hl-80-7> 7</a>
</span><span class=lnt id=hl-80-8><a class=lnlinks href=#hl-80-8> 8</a>
</span><span class=lnt id=hl-80-9><a class=lnlinks href=#hl-80-9> 9</a>
</span><span class=lnt id=hl-80-10><a class=lnlinks href=#hl-80-10>10</a>
</span><span class=lnt id=hl-80-11><a class=lnlinks href=#hl-80-11>11</a>
</span><span class=lnt id=hl-80-12><a class=lnlinks href=#hl-80-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 장점: 조인 없는 빠른 조회
</span></span></span><span class=line><span class=cl><span class=k>EXPLAIN</span><span class=w> </span><span class=k>ANALYZE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Person_SingleTable</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>person_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 결과: Seq Scan, 조인 없음
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 단점: NULL 값 많음
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>total_rows</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>COUNT</span><span class=p>(</span><span class=n>student_id</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>student_rows</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>COUNT</span><span class=p>(</span><span class=n>employee_id_prof</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>professor_rows</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Person_SingleTable</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 결과: 많은 NULL 컬럼 확인
</span></span></span></code></pre></td></tr></table></div></div><p><strong>3단계: 전략 2 - 클래스별 테이블 (Class Table Inheritance)</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-81-1><a class=lnlinks href=#hl-81-1> 1</a>
</span><span class=lnt id=hl-81-2><a class=lnlinks href=#hl-81-2> 2</a>
</span><span class=lnt id=hl-81-3><a class=lnlinks href=#hl-81-3> 3</a>
</span><span class=lnt id=hl-81-4><a class=lnlinks href=#hl-81-4> 4</a>
</span><span class=lnt id=hl-81-5><a class=lnlinks href=#hl-81-5> 5</a>
</span><span class=lnt id=hl-81-6><a class=lnlinks href=#hl-81-6> 6</a>
</span><span class=lnt id=hl-81-7><a class=lnlinks href=#hl-81-7> 7</a>
</span><span class=lnt id=hl-81-8><a class=lnlinks href=#hl-81-8> 8</a>
</span><span class=lnt id=hl-81-9><a class=lnlinks href=#hl-81-9> 9</a>
</span><span class=lnt id=hl-81-10><a class=lnlinks href=#hl-81-10>10</a>
</span><span class=lnt id=hl-81-11><a class=lnlinks href=#hl-81-11>11</a>
</span><span class=lnt id=hl-81-12><a class=lnlinks href=#hl-81-12>12</a>
</span><span class=lnt id=hl-81-13><a class=lnlinks href=#hl-81-13>13</a>
</span><span class=lnt id=hl-81-14><a class=lnlinks href=#hl-81-14>14</a>
</span><span class=lnt id=hl-81-15><a class=lnlinks href=#hl-81-15>15</a>
</span><span class=lnt id=hl-81-16><a class=lnlinks href=#hl-81-16>16</a>
</span><span class=lnt id=hl-81-17><a class=lnlinks href=#hl-81-17>17</a>
</span><span class=lnt id=hl-81-18><a class=lnlinks href=#hl-81-18>18</a>
</span><span class=lnt id=hl-81-19><a class=lnlinks href=#hl-81-19>19</a>
</span><span class=lnt id=hl-81-20><a class=lnlinks href=#hl-81-20>20</a>
</span><span class=lnt id=hl-81-21><a class=lnlinks href=#hl-81-21>21</a>
</span><span class=lnt id=hl-81-22><a class=lnlinks href=#hl-81-22>22</a>
</span><span class=lnt id=hl-81-23><a class=lnlinks href=#hl-81-23>23</a>
</span><span class=lnt id=hl-81-24><a class=lnlinks href=#hl-81-24>24</a>
</span><span class=lnt id=hl-81-25><a class=lnlinks href=#hl-81-25>25</a>
</span><span class=lnt id=hl-81-26><a class=lnlinks href=#hl-81-26>26</a>
</span><span class=lnt id=hl-81-27><a class=lnlinks href=#hl-81-27>27</a>
</span><span class=lnt id=hl-81-28><a class=lnlinks href=#hl-81-28>28</a>
</span><span class=lnt id=hl-81-29><a class=lnlinks href=#hl-81-29>29</a>
</span><span class=lnt id=hl-81-30><a class=lnlinks href=#hl-81-30>30</a>
</span><span class=lnt id=hl-81-31><a class=lnlinks href=#hl-81-31>31</a>
</span><span class=lnt id=hl-81-32><a class=lnlinks href=#hl-81-32>32</a>
</span><span class=lnt id=hl-81-33><a class=lnlinks href=#hl-81-33>33</a>
</span><span class=lnt id=hl-81-34><a class=lnlinks href=#hl-81-34>34</a>
</span><span class=lnt id=hl-81-35><a class=lnlinks href=#hl-81-35>35</a>
</span><span class=lnt id=hl-81-36><a class=lnlinks href=#hl-81-36>36</a>
</span><span class=lnt id=hl-81-37><a class=lnlinks href=#hl-81-37>37</a>
</span><span class=lnt id=hl-81-38><a class=lnlinks href=#hl-81-38>38</a>
</span><span class=lnt id=hl-81-39><a class=lnlinks href=#hl-81-39>39</a>
</span><span class=lnt id=hl-81-40><a class=lnlinks href=#hl-81-40>40</a>
</span><span class=lnt id=hl-81-41><a class=lnlinks href=#hl-81-41>41</a>
</span><span class=lnt id=hl-81-42><a class=lnlinks href=#hl-81-42>42</a>
</span><span class=lnt id=hl-81-43><a class=lnlinks href=#hl-81-43>43</a>
</span><span class=lnt id=hl-81-44><a class=lnlinks href=#hl-81-44>44</a>
</span><span class=lnt id=hl-81-45><a class=lnlinks href=#hl-81-45>45</a>
</span><span class=lnt id=hl-81-46><a class=lnlinks href=#hl-81-46>46</a>
</span><span class=lnt id=hl-81-47><a class=lnlinks href=#hl-81-47>47</a>
</span><span class=lnt id=hl-81-48><a class=lnlinks href=#hl-81-48>48</a>
</span><span class=lnt id=hl-81-49><a class=lnlinks href=#hl-81-49>49</a>
</span><span class=lnt id=hl-81-50><a class=lnlinks href=#hl-81-50>50</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 상위 타입 테이블
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Person_ClassTable</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>person_id</span><span class=w> </span><span class=nb>SERIAL</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>birthdate</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>phone</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 하위 타입 테이블들
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Student_ClassTable</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>person_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>student_id</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>UNIQUE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>major</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>grade</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>person_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Person_ClassTable</span><span class=p>(</span><span class=n>person_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ON</span><span class=w> </span><span class=k>DELETE</span><span class=w> </span><span class=k>CASCADE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Professor_ClassTable</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>person_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>employee_id</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>UNIQUE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>research_field</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>rank</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>person_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Person_ClassTable</span><span class=p>(</span><span class=n>person_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ON</span><span class=w> </span><span class=k>DELETE</span><span class=w> </span><span class=k>CASCADE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Staff_ClassTable</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>person_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>employee_id</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>UNIQUE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>department</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>position</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>person_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Person_ClassTable</span><span class=p>(</span><span class=n>person_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ON</span><span class=w> </span><span class=k>DELETE</span><span class=w> </span><span class=k>CASCADE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 데이터 삽입 (트랜잭션 필요)
</span></span></span><span class=line><span class=cl><span class=k>BEGIN</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>Person_ClassTable</span><span class=w> </span><span class=p>(</span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>birthdate</span><span class=p>,</span><span class=w> </span><span class=n>phone</span><span class=p>)</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=s1>&#39;박학생&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2001-05-10&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;010-5555-6666&#39;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>RETURNING</span><span class=w> </span><span class=n>person_id</span><span class=p>;</span><span class=w>  </span><span class=c1>-- person_id = 1
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>Student_ClassTable</span><span class=w> </span><span class=p>(</span><span class=n>person_id</span><span class=p>,</span><span class=w> </span><span class=n>student_id</span><span class=p>,</span><span class=w> </span><span class=n>major</span><span class=p>,</span><span class=w> </span><span class=n>grade</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2024002&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;경영학&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>COMMIT</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 완전한 정보 조회 (조인 필요)
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=o>*</span><span class=p>,</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>student_id</span><span class=p>,</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>major</span><span class=p>,</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>grade</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Person_ClassTable</span><span class=w> </span><span class=n>p</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>JOIN</span><span class=w> </span><span class=n>Student_ClassTable</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>person_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>person_id</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>장단점 분석</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-82-1><a class=lnlinks href=#hl-82-1> 1</a>
</span><span class=lnt id=hl-82-2><a class=lnlinks href=#hl-82-2> 2</a>
</span><span class=lnt id=hl-82-3><a class=lnlinks href=#hl-82-3> 3</a>
</span><span class=lnt id=hl-82-4><a class=lnlinks href=#hl-82-4> 4</a>
</span><span class=lnt id=hl-82-5><a class=lnlinks href=#hl-82-5> 5</a>
</span><span class=lnt id=hl-82-6><a class=lnlinks href=#hl-82-6> 6</a>
</span><span class=lnt id=hl-82-7><a class=lnlinks href=#hl-82-7> 7</a>
</span><span class=lnt id=hl-82-8><a class=lnlinks href=#hl-82-8> 8</a>
</span><span class=lnt id=hl-82-9><a class=lnlinks href=#hl-82-9> 9</a>
</span><span class=lnt id=hl-82-10><a class=lnlinks href=#hl-82-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 장점: 정규화 완벽, NULL 없음
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Student_ClassTable</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 결과: 모든 컬럼 NOT NULL
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 단점: 조인 필요
</span></span></span><span class=line><span class=cl><span class=k>EXPLAIN</span><span class=w> </span><span class=k>ANALYZE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>major</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Person_ClassTable</span><span class=w> </span><span class=n>p</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>JOIN</span><span class=w> </span><span class=n>Student_ClassTable</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>person_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>person_id</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 결과: Hash Join 발생, 비용 증가
</span></span></span></code></pre></td></tr></table></div></div><p><strong>4단계: 전략 3 - 구체 클래스 테이블 (Concrete Table Inheritance)</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-83-1><a class=lnlinks href=#hl-83-1> 1</a>
</span><span class=lnt id=hl-83-2><a class=lnlinks href=#hl-83-2> 2</a>
</span><span class=lnt id=hl-83-3><a class=lnlinks href=#hl-83-3> 3</a>
</span><span class=lnt id=hl-83-4><a class=lnlinks href=#hl-83-4> 4</a>
</span><span class=lnt id=hl-83-5><a class=lnlinks href=#hl-83-5> 5</a>
</span><span class=lnt id=hl-83-6><a class=lnlinks href=#hl-83-6> 6</a>
</span><span class=lnt id=hl-83-7><a class=lnlinks href=#hl-83-7> 7</a>
</span><span class=lnt id=hl-83-8><a class=lnlinks href=#hl-83-8> 8</a>
</span><span class=lnt id=hl-83-9><a class=lnlinks href=#hl-83-9> 9</a>
</span><span class=lnt id=hl-83-10><a class=lnlinks href=#hl-83-10>10</a>
</span><span class=lnt id=hl-83-11><a class=lnlinks href=#hl-83-11>11</a>
</span><span class=lnt id=hl-83-12><a class=lnlinks href=#hl-83-12>12</a>
</span><span class=lnt id=hl-83-13><a class=lnlinks href=#hl-83-13>13</a>
</span><span class=lnt id=hl-83-14><a class=lnlinks href=#hl-83-14>14</a>
</span><span class=lnt id=hl-83-15><a class=lnlinks href=#hl-83-15>15</a>
</span><span class=lnt id=hl-83-16><a class=lnlinks href=#hl-83-16>16</a>
</span><span class=lnt id=hl-83-17><a class=lnlinks href=#hl-83-17>17</a>
</span><span class=lnt id=hl-83-18><a class=lnlinks href=#hl-83-18>18</a>
</span><span class=lnt id=hl-83-19><a class=lnlinks href=#hl-83-19>19</a>
</span><span class=lnt id=hl-83-20><a class=lnlinks href=#hl-83-20>20</a>
</span><span class=lnt id=hl-83-21><a class=lnlinks href=#hl-83-21>21</a>
</span><span class=lnt id=hl-83-22><a class=lnlinks href=#hl-83-22>22</a>
</span><span class=lnt id=hl-83-23><a class=lnlinks href=#hl-83-23>23</a>
</span><span class=lnt id=hl-83-24><a class=lnlinks href=#hl-83-24>24</a>
</span><span class=lnt id=hl-83-25><a class=lnlinks href=#hl-83-25>25</a>
</span><span class=lnt id=hl-83-26><a class=lnlinks href=#hl-83-26>26</a>
</span><span class=lnt id=hl-83-27><a class=lnlinks href=#hl-83-27>27</a>
</span><span class=lnt id=hl-83-28><a class=lnlinks href=#hl-83-28>28</a>
</span><span class=lnt id=hl-83-29><a class=lnlinks href=#hl-83-29>29</a>
</span><span class=lnt id=hl-83-30><a class=lnlinks href=#hl-83-30>30</a>
</span><span class=lnt id=hl-83-31><a class=lnlinks href=#hl-83-31>31</a>
</span><span class=lnt id=hl-83-32><a class=lnlinks href=#hl-83-32>32</a>
</span><span class=lnt id=hl-83-33><a class=lnlinks href=#hl-83-33>33</a>
</span><span class=lnt id=hl-83-34><a class=lnlinks href=#hl-83-34>34</a>
</span><span class=lnt id=hl-83-35><a class=lnlinks href=#hl-83-35>35</a>
</span><span class=lnt id=hl-83-36><a class=lnlinks href=#hl-83-36>36</a>
</span><span class=lnt id=hl-83-37><a class=lnlinks href=#hl-83-37>37</a>
</span><span class=lnt id=hl-83-38><a class=lnlinks href=#hl-83-38>38</a>
</span><span class=lnt id=hl-83-39><a class=lnlinks href=#hl-83-39>39</a>
</span><span class=lnt id=hl-83-40><a class=lnlinks href=#hl-83-40>40</a>
</span><span class=lnt id=hl-83-41><a class=lnlinks href=#hl-83-41>41</a>
</span><span class=lnt id=hl-83-42><a class=lnlinks href=#hl-83-42>42</a>
</span><span class=lnt id=hl-83-43><a class=lnlinks href=#hl-83-43>43</a>
</span><span class=lnt id=hl-83-44><a class=lnlinks href=#hl-83-44>44</a>
</span><span class=lnt id=hl-83-45><a class=lnlinks href=#hl-83-45>45</a>
</span><span class=lnt id=hl-83-46><a class=lnlinks href=#hl-83-46>46</a>
</span><span class=lnt id=hl-83-47><a class=lnlinks href=#hl-83-47>47</a>
</span><span class=lnt id=hl-83-48><a class=lnlinks href=#hl-83-48>48</a>
</span><span class=lnt id=hl-83-49><a class=lnlinks href=#hl-83-49>49</a>
</span><span class=lnt id=hl-83-50><a class=lnlinks href=#hl-83-50>50</a>
</span><span class=lnt id=hl-83-51><a class=lnlinks href=#hl-83-51>51</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 각 구체 클래스마다 독립적인 테이블 (공통 속성 중복)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Student_Concrete</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>person_id</span><span class=w> </span><span class=nb>SERIAL</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 공통 속성 (중복)
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>birthdate</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>phone</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- Student 전용 속성
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>student_id</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>UNIQUE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>major</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>grade</span><span class=w> </span><span class=nb>INT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Professor_Concrete</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>person_id</span><span class=w> </span><span class=nb>SERIAL</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 공통 속성 (중복)
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>birthdate</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>phone</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- Professor 전용 속성
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>employee_id</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>UNIQUE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>research_field</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>rank</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Staff_Concrete</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>person_id</span><span class=w> </span><span class=nb>SERIAL</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 공통 속성 (중복)
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>birthdate</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>phone</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- Staff 전용 속성
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>employee_id</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>UNIQUE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>department</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>position</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 데이터 삽입
</span></span></span><span class=line><span class=cl><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>Student_Concrete</span><span class=w> </span><span class=p>(</span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>birthdate</span><span class=p>,</span><span class=w> </span><span class=n>phone</span><span class=p>,</span><span class=w> </span><span class=n>student_id</span><span class=p>,</span><span class=w> </span><span class=n>major</span><span class=p>,</span><span class=w> </span><span class=n>grade</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=s1>&#39;최학생&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2002-08-20&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;010-7777-8888&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2024003&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;물리학&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 모든 Person 조회 (UNION 필요)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>VIEW</span><span class=w> </span><span class=n>All_Persons</span><span class=w> </span><span class=k>AS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>person_id</span><span class=p>,</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>birthdate</span><span class=p>,</span><span class=w> </span><span class=n>phone</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;Student&#39;</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>person_type</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Student_Concrete</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>UNION</span><span class=w> </span><span class=k>ALL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>person_id</span><span class=p>,</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>birthdate</span><span class=p>,</span><span class=w> </span><span class=n>phone</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;Professor&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Professor_Concrete</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>UNION</span><span class=w> </span><span class=k>ALL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>person_id</span><span class=p>,</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>birthdate</span><span class=p>,</span><span class=w> </span><span class=n>phone</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;Staff&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Staff_Concrete</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>장단점 분석</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-84-1><a class=lnlinks href=#hl-84-1>1</a>
</span><span class=lnt id=hl-84-2><a class=lnlinks href=#hl-84-2>2</a>
</span><span class=lnt id=hl-84-3><a class=lnlinks href=#hl-84-3>3</a>
</span><span class=lnt id=hl-84-4><a class=lnlinks href=#hl-84-4>4</a>
</span><span class=lnt id=hl-84-5><a class=lnlinks href=#hl-84-5>5</a>
</span><span class=lnt id=hl-84-6><a class=lnlinks href=#hl-84-6>6</a>
</span><span class=lnt id=hl-84-7><a class=lnlinks href=#hl-84-7>7</a>
</span><span class=lnt id=hl-84-8><a class=lnlinks href=#hl-84-8>8</a>
</span><span class=lnt id=hl-84-9><a class=lnlinks href=#hl-84-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 장점: 조인 없는 빠른 조회
</span></span></span><span class=line><span class=cl><span class=k>EXPLAIN</span><span class=w> </span><span class=k>ANALYZE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Student_Concrete</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>person_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 결과: 단일 테이블 스캔, 매우 빠름
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 단점: 공통 속성 중복, 통합 쿼리 복잡
</span></span></span><span class=line><span class=cl><span class=k>EXPLAIN</span><span class=w> </span><span class=k>ANALYZE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>All_Persons</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=k>LIKE</span><span class=w> </span><span class=s1>&#39;김%&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 결과: 3개 테이블 스캔 + UNION, 비용 증가
</span></span></span></code></pre></td></tr></table></div></div><p><strong>5단계: 3가지 전략 성능 비교</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-85-1><a class=lnlinks href=#hl-85-1> 1</a>
</span><span class=lnt id=hl-85-2><a class=lnlinks href=#hl-85-2> 2</a>
</span><span class=lnt id=hl-85-3><a class=lnlinks href=#hl-85-3> 3</a>
</span><span class=lnt id=hl-85-4><a class=lnlinks href=#hl-85-4> 4</a>
</span><span class=lnt id=hl-85-5><a class=lnlinks href=#hl-85-5> 5</a>
</span><span class=lnt id=hl-85-6><a class=lnlinks href=#hl-85-6> 6</a>
</span><span class=lnt id=hl-85-7><a class=lnlinks href=#hl-85-7> 7</a>
</span><span class=lnt id=hl-85-8><a class=lnlinks href=#hl-85-8> 8</a>
</span><span class=lnt id=hl-85-9><a class=lnlinks href=#hl-85-9> 9</a>
</span><span class=lnt id=hl-85-10><a class=lnlinks href=#hl-85-10>10</a>
</span><span class=lnt id=hl-85-11><a class=lnlinks href=#hl-85-11>11</a>
</span><span class=lnt id=hl-85-12><a class=lnlinks href=#hl-85-12>12</a>
</span><span class=lnt id=hl-85-13><a class=lnlinks href=#hl-85-13>13</a>
</span><span class=lnt id=hl-85-14><a class=lnlinks href=#hl-85-14>14</a>
</span><span class=lnt id=hl-85-15><a class=lnlinks href=#hl-85-15>15</a>
</span><span class=lnt id=hl-85-16><a class=lnlinks href=#hl-85-16>16</a>
</span><span class=lnt id=hl-85-17><a class=lnlinks href=#hl-85-17>17</a>
</span><span class=lnt id=hl-85-18><a class=lnlinks href=#hl-85-18>18</a>
</span><span class=lnt id=hl-85-19><a class=lnlinks href=#hl-85-19>19</a>
</span><span class=lnt id=hl-85-20><a class=lnlinks href=#hl-85-20>20</a>
</span><span class=lnt id=hl-85-21><a class=lnlinks href=#hl-85-21>21</a>
</span><span class=lnt id=hl-85-22><a class=lnlinks href=#hl-85-22>22</a>
</span><span class=lnt id=hl-85-23><a class=lnlinks href=#hl-85-23>23</a>
</span><span class=lnt id=hl-85-24><a class=lnlinks href=#hl-85-24>24</a>
</span><span class=lnt id=hl-85-25><a class=lnlinks href=#hl-85-25>25</a>
</span><span class=lnt id=hl-85-26><a class=lnlinks href=#hl-85-26>26</a>
</span><span class=lnt id=hl-85-27><a class=lnlinks href=#hl-85-27>27</a>
</span><span class=lnt id=hl-85-28><a class=lnlinks href=#hl-85-28>28</a>
</span><span class=lnt id=hl-85-29><a class=lnlinks href=#hl-85-29>29</a>
</span><span class=lnt id=hl-85-30><a class=lnlinks href=#hl-85-30>30</a>
</span><span class=lnt id=hl-85-31><a class=lnlinks href=#hl-85-31>31</a>
</span><span class=lnt id=hl-85-32><a class=lnlinks href=#hl-85-32>32</a>
</span><span class=lnt id=hl-85-33><a class=lnlinks href=#hl-85-33>33</a>
</span><span class=lnt id=hl-85-34><a class=lnlinks href=#hl-85-34>34</a>
</span><span class=lnt id=hl-85-35><a class=lnlinks href=#hl-85-35>35</a>
</span><span class=lnt id=hl-85-36><a class=lnlinks href=#hl-85-36>36</a>
</span><span class=lnt id=hl-85-37><a class=lnlinks href=#hl-85-37>37</a>
</span><span class=lnt id=hl-85-38><a class=lnlinks href=#hl-85-38>38</a>
</span><span class=lnt id=hl-85-39><a class=lnlinks href=#hl-85-39>39</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 테스트 데이터 생성 (각 전략에 1000명씩)
</span></span></span><span class=line><span class=cl><span class=c1>-- [생략: 대량 데이터 INSERT 스크립트]
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 비교 쿼리 1: 특정 타입 조회
</span></span></span><span class=line><span class=cl><span class=c1>-- Single Table
</span></span></span><span class=line><span class=cl><span class=k>EXPLAIN</span><span class=w> </span><span class=k>ANALYZE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Person_SingleTable</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>person_type</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;Student&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- Class Table
</span></span></span><span class=line><span class=cl><span class=k>EXPLAIN</span><span class=w> </span><span class=k>ANALYZE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=o>*</span><span class=p>,</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=o>*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Person_ClassTable</span><span class=w> </span><span class=n>p</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>JOIN</span><span class=w> </span><span class=n>Student_ClassTable</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>person_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>person_id</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- Concrete Table
</span></span></span><span class=line><span class=cl><span class=k>EXPLAIN</span><span class=w> </span><span class=k>ANALYZE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Student_Concrete</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 결과 요약:
</span></span></span><span class=line><span class=cl><span class=c1>-- Single Table: 전체 스캔 필요, 중간 성능
</span></span></span><span class=line><span class=cl><span class=c1>-- Class Table: 조인 비용, 가장 느림
</span></span></span><span class=line><span class=cl><span class=c1>-- Concrete Table: 단일 스캔, 가장 빠름
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 비교 쿼리 2: 모든 사람 조회
</span></span></span><span class=line><span class=cl><span class=c1>-- Single Table
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Person_SingleTable</span><span class=p>;</span><span class=w>  </span><span class=c1>-- 단순
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- Class Table (UNION 필요)
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Person_ClassTable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>WHERE</span><span class=w> </span><span class=n>person_id</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>person_id</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Student_ClassTable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>UNION</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>person_id</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Professor_ClassTable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>UNION</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>person_id</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Staff_ClassTable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- Concrete Table (UNION ALL)
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>All_Persons</span><span class=p>;</span><span class=w>  </span><span class=c1>-- UNION ALL 비용
</span></span></span></code></pre></td></tr></table></div></div><h6 id=실행-결과-2>실행 결과<a hidden class=anchor aria-hidden=true href=#실행-결과-2>#</a></h6><p><strong>의사결정 가이드</strong>:</p><table><thead><tr><th>기준</th><th>Single Table</th><th>Class Table</th><th>Concrete Table</th><th>권장 사례</th></tr></thead><tbody><tr><td>조회 성능</td><td>중간</td><td>느림 (조인)</td><td>빠름</td><td>읽기 중심: Concrete</td></tr><tr><td>저장 공간</td><td>낭비 (NULL)</td><td>효율적</td><td>중복</td><td>저장 우선: Class</td></tr><tr><td>확장성</td><td>낮음 (컬럼 추가)</td><td>높음</td><td>중간</td><td>변화 많음: Class</td></tr><tr><td>쿼리 복잡도</td><td>단순</td><td>복잡 (조인)</td><td>중간 (UNION)</td><td>단순함 우선: Single</td></tr><tr><td>타입 추가</td><td>어려움</td><td>쉬움</td><td>쉬움</td><td>확장 예상: Class</td></tr></tbody></table><h6 id=추가-실험-2>추가 실험<a hidden class=anchor aria-hidden=true href=#추가-실험-2>#</a></h6><p><strong>실험: 다형성 쿼리 (Polymorphic Query)</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-86-1><a class=lnlinks href=#hl-86-1> 1</a>
</span><span class=lnt id=hl-86-2><a class=lnlinks href=#hl-86-2> 2</a>
</span><span class=lnt id=hl-86-3><a class=lnlinks href=#hl-86-3> 3</a>
</span><span class=lnt id=hl-86-4><a class=lnlinks href=#hl-86-4> 4</a>
</span><span class=lnt id=hl-86-5><a class=lnlinks href=#hl-86-5> 5</a>
</span><span class=lnt id=hl-86-6><a class=lnlinks href=#hl-86-6> 6</a>
</span><span class=lnt id=hl-86-7><a class=lnlinks href=#hl-86-7> 7</a>
</span><span class=lnt id=hl-86-8><a class=lnlinks href=#hl-86-8> 8</a>
</span><span class=lnt id=hl-86-9><a class=lnlinks href=#hl-86-9> 9</a>
</span><span class=lnt id=hl-86-10><a class=lnlinks href=#hl-86-10>10</a>
</span><span class=lnt id=hl-86-11><a class=lnlinks href=#hl-86-11>11</a>
</span><span class=lnt id=hl-86-12><a class=lnlinks href=#hl-86-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- &#34;모든 사람의 연락처 업데이트&#34; 같은 공통 작업
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- Single Table: 단순
</span></span></span><span class=line><span class=cl><span class=k>UPDATE</span><span class=w> </span><span class=n>Person_SingleTable</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=n>phone</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;010-0000-0000&#39;</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>person_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- Class Table: 상위 테이블만 업데이트
</span></span></span><span class=line><span class=cl><span class=k>UPDATE</span><span class=w> </span><span class=n>Person_ClassTable</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=n>phone</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;010-0000-0000&#39;</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>person_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- Concrete Table: 모든 테이블 업데이트 필요
</span></span></span><span class=line><span class=cl><span class=k>UPDATE</span><span class=w> </span><span class=n>Student_Concrete</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=n>phone</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;010-0000-0000&#39;</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>person_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>UPDATE</span><span class=w> </span><span class=n>Professor_Concrete</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=n>phone</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;010-0000-0000&#39;</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>person_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 또는 저장 프로시저 사용
</span></span></span></code></pre></td></tr></table></div></div><hr><p>계속해서 실제 도입 사례를 작성하겠습니다.</p><h4 id=52-실제-도입-사례-분석>5.2 실제 도입 사례 분석<a hidden class=anchor aria-hidden=true href=#52-실제-도입-사례-분석>#</a></h4><h5 id=실제-도입-사례-1-대형-전자상거래-플랫폼-g사-사례>실제 도입 사례 1: 대형 전자상거래 플랫폼 (G사 사례)<a hidden class=anchor aria-hidden=true href=#실제-도입-사례-1-대형-전자상거래-플랫폼-g사-사례>#</a></h5><h6 id=배경-및-도입-이유-1>배경 및 도입 이유<a hidden class=anchor aria-hidden=true href=#배경-및-도입-이유-1>#</a></h6><p><strong>비즈니스 상황</strong>:</p><ul><li>연간 거래액 10조원 규모의 종합 쇼핑몰</li><li>상품 1억 개, 월간 주문 500만 건</li><li>기존 시스템: 레거시 단일 테이블 구조로 성능 저하 및 유지보수 곤란</li></ul><p><strong>도입 동기</strong>:</p><ol><li><strong>데이터 무결성 문제</strong>: 주문-결제 불일치, 재고 오류 빈발</li><li><strong>성능 병목</strong>: 단일 Orders 테이블에 3억 행, 조회 시간 30초+</li><li><strong>비즈니스 확장 제약</strong>: 새로운 상품 유형(디지털 상품, 구독) 추가 어려움</li><li><strong>규제 준수</strong>: 개인정보 보호법 강화로 데이터 분리 필요</li></ol><p><strong>ER Modeling 선택 이유</strong>:</p><ul><li>복잡한 비즈니스 규칙을 명확히 표현 가능</li><li>정규화를 통한 데이터 일관성 확보</li><li>단계적 마이그레이션 계획 수립 용이</li></ul><h6 id=구현-아키텍처-1>구현 아키텍처<a hidden class=anchor aria-hidden=true href=#구현-아키텍처-1>#</a></h6><p><strong>개념적 ER 모델</strong>:</p><pre class=mermaid>erDiagram
    CUSTOMER ||--o{ ORDER : places
    ORDER ||--|{ ORDER_ITEM : contains
    ORDER ||--|| PAYMENT : processed_by
    PRODUCT ||--o{ ORDER_ITEM : ordered_in
    PRODUCT }o--|| CATEGORY : belongs_to
    PRODUCT ||--o{ INVENTORY : tracked_in
    SELLER ||--o{ PRODUCT : sells
    
    CUSTOMER {
        bigint customer_id PK
        string email UK
        string name
        string phone
        timestamp created_at
    }
    
    ORDER {
        bigint order_id PK
        bigint customer_id FK
        timestamp order_date
        string status
        decimal total_amount
    }
    
    ORDER_ITEM {
        bigint order_id PK_FK
        int item_seq PK
        bigint product_id FK
        int quantity
        decimal unit_price
    }
    
    PRODUCT {
        bigint product_id PK
        string sku UK
        string name
        bigint category_id FK
        bigint seller_id FK
        decimal price
    }
    
    PAYMENT {
        bigint payment_id PK
        bigint order_id FK_UK
        string method
        decimal amount
        string status
        timestamp paid_at
    }
    
    INVENTORY {
        bigint inventory_id PK
        bigint product_id FK_UK
        int available_stock
        int reserved_stock
        timestamp updated_at
    }
</pre><p><strong>물리적 구현 전략</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-88-1><a class=lnlinks href=#hl-88-1> 1</a>
</span><span class=lnt id=hl-88-2><a class=lnlinks href=#hl-88-2> 2</a>
</span><span class=lnt id=hl-88-3><a class=lnlinks href=#hl-88-3> 3</a>
</span><span class=lnt id=hl-88-4><a class=lnlinks href=#hl-88-4> 4</a>
</span><span class=lnt id=hl-88-5><a class=lnlinks href=#hl-88-5> 5</a>
</span><span class=lnt id=hl-88-6><a class=lnlinks href=#hl-88-6> 6</a>
</span><span class=lnt id=hl-88-7><a class=lnlinks href=#hl-88-7> 7</a>
</span><span class=lnt id=hl-88-8><a class=lnlinks href=#hl-88-8> 8</a>
</span><span class=lnt id=hl-88-9><a class=lnlinks href=#hl-88-9> 9</a>
</span><span class=lnt id=hl-88-10><a class=lnlinks href=#hl-88-10>10</a>
</span><span class=lnt id=hl-88-11><a class=lnlinks href=#hl-88-11>11</a>
</span><span class=lnt id=hl-88-12><a class=lnlinks href=#hl-88-12>12</a>
</span><span class=lnt id=hl-88-13><a class=lnlinks href=#hl-88-13>13</a>
</span><span class=lnt id=hl-88-14><a class=lnlinks href=#hl-88-14>14</a>
</span><span class=lnt id=hl-88-15><a class=lnlinks href=#hl-88-15>15</a>
</span><span class=lnt id=hl-88-16><a class=lnlinks href=#hl-88-16>16</a>
</span><span class=lnt id=hl-88-17><a class=lnlinks href=#hl-88-17>17</a>
</span><span class=lnt id=hl-88-18><a class=lnlinks href=#hl-88-18>18</a>
</span><span class=lnt id=hl-88-19><a class=lnlinks href=#hl-88-19>19</a>
</span><span class=lnt id=hl-88-20><a class=lnlinks href=#hl-88-20>20</a>
</span><span class=lnt id=hl-88-21><a class=lnlinks href=#hl-88-21>21</a>
</span><span class=lnt id=hl-88-22><a class=lnlinks href=#hl-88-22>22</a>
</span><span class=lnt id=hl-88-23><a class=lnlinks href=#hl-88-23>23</a>
</span><span class=lnt id=hl-88-24><a class=lnlinks href=#hl-88-24>24</a>
</span><span class=lnt id=hl-88-25><a class=lnlinks href=#hl-88-25>25</a>
</span><span class=lnt id=hl-88-26><a class=lnlinks href=#hl-88-26>26</a>
</span><span class=lnt id=hl-88-27><a class=lnlinks href=#hl-88-27>27</a>
</span><span class=lnt id=hl-88-28><a class=lnlinks href=#hl-88-28>28</a>
</span><span class=lnt id=hl-88-29><a class=lnlinks href=#hl-88-29>29</a>
</span><span class=lnt id=hl-88-30><a class=lnlinks href=#hl-88-30>30</a>
</span><span class=lnt id=hl-88-31><a class=lnlinks href=#hl-88-31>31</a>
</span><span class=lnt id=hl-88-32><a class=lnlinks href=#hl-88-32>32</a>
</span><span class=lnt id=hl-88-33><a class=lnlinks href=#hl-88-33>33</a>
</span><span class=lnt id=hl-88-34><a class=lnlinks href=#hl-88-34>34</a>
</span><span class=lnt id=hl-88-35><a class=lnlinks href=#hl-88-35>35</a>
</span><span class=lnt id=hl-88-36><a class=lnlinks href=#hl-88-36>36</a>
</span><span class=lnt id=hl-88-37><a class=lnlinks href=#hl-88-37>37</a>
</span><span class=lnt id=hl-88-38><a class=lnlinks href=#hl-88-38>38</a>
</span><span class=lnt id=hl-88-39><a class=lnlinks href=#hl-88-39>39</a>
</span><span class=lnt id=hl-88-40><a class=lnlinks href=#hl-88-40>40</a>
</span><span class=lnt id=hl-88-41><a class=lnlinks href=#hl-88-41>41</a>
</span><span class=lnt id=hl-88-42><a class=lnlinks href=#hl-88-42>42</a>
</span><span class=lnt id=hl-88-43><a class=lnlinks href=#hl-88-43>43</a>
</span><span class=lnt id=hl-88-44><a class=lnlinks href=#hl-88-44>44</a>
</span><span class=lnt id=hl-88-45><a class=lnlinks href=#hl-88-45>45</a>
</span><span class=lnt id=hl-88-46><a class=lnlinks href=#hl-88-46>46</a>
</span><span class=lnt id=hl-88-47><a class=lnlinks href=#hl-88-47>47</a>
</span><span class=lnt id=hl-88-48><a class=lnlinks href=#hl-88-48>48</a>
</span><span class=lnt id=hl-88-49><a class=lnlinks href=#hl-88-49>49</a>
</span><span class=lnt id=hl-88-50><a class=lnlinks href=#hl-88-50>50</a>
</span><span class=lnt id=hl-88-51><a class=lnlinks href=#hl-88-51>51</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 1. 파티셔닝 적용 (시간 기반)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=w> </span><span class=n>AUTO_INCREMENT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_date</span><span class=w> </span><span class=k>TIMESTAMP</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=k>CURRENT_TIMESTAMP</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>status</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>total_amount</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>12</span><span class=p>,</span><span class=mi>2</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>order_id</span><span class=p>,</span><span class=w> </span><span class=n>order_date</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_customer</span><span class=w> </span><span class=p>(</span><span class=n>customer_id</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_status</span><span class=w> </span><span class=p>(</span><span class=n>status</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>PARTITION</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>RANGE</span><span class=w> </span><span class=p>(</span><span class=k>YEAR</span><span class=p>(</span><span class=n>order_date</span><span class=p>))</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>PARTITION</span><span class=w> </span><span class=n>p2023</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=k>LESS</span><span class=w> </span><span class=k>THAN</span><span class=w> </span><span class=p>(</span><span class=mi>2024</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>PARTITION</span><span class=w> </span><span class=n>p2024</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=k>LESS</span><span class=w> </span><span class=k>THAN</span><span class=w> </span><span class=p>(</span><span class=mi>2025</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>PARTITION</span><span class=w> </span><span class=n>p2025</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=k>LESS</span><span class=w> </span><span class=k>THAN</span><span class=w> </span><span class=p>(</span><span class=mi>2026</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>PARTITION</span><span class=w> </span><span class=n>p_future</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=k>LESS</span><span class=w> </span><span class=k>THAN</span><span class=w> </span><span class=k>MAXVALUE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 2. 약한 개체 (OrderItem)에 CASCADE 적용
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>OrderItem</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>item_seq</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>product_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>quantity</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>CHECK</span><span class=w> </span><span class=p>(</span><span class=n>quantity</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>unit_price</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>order_id</span><span class=p>,</span><span class=w> </span><span class=n>item_seq</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>order_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Orders</span><span class=p>(</span><span class=n>order_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ON</span><span class=w> </span><span class=k>DELETE</span><span class=w> </span><span class=k>CASCADE</span><span class=p>,</span><span class=w>  </span><span class=c1>-- 주문 취소 시 자동 삭제
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>product_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Product</span><span class=p>(</span><span class=n>product_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 3. 1:1 관계 (Order - Payment)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Payment</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>payment_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=w> </span><span class=n>AUTO_INCREMENT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=w> </span><span class=k>UNIQUE</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>  </span><span class=c1>-- UNIQUE로 1:1 보장
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>method</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>amount</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>12</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>status</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=s1>&#39;Pending&#39;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>paid_at</span><span class=w> </span><span class=k>TIMESTAMP</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>order_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Orders</span><span class=p>(</span><span class=n>order_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 4. 재고 관리 (별도 테이블로 분리)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Inventory</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>inventory_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=w> </span><span class=n>AUTO_INCREMENT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>product_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=w> </span><span class=k>UNIQUE</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>available_stock</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=k>CHECK</span><span class=w> </span><span class=p>(</span><span class=n>available_stock</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=mi>0</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>reserved_stock</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>updated_at</span><span class=w> </span><span class=k>TIMESTAMP</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=k>CURRENT_TIMESTAMP</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>UPDATE</span><span class=w> </span><span class=k>CURRENT_TIMESTAMP</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>product_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Product</span><span class=p>(</span><span class=n>product_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h6 id=핵심-구현-코드-1>핵심 구현 코드<a hidden class=anchor aria-hidden=true href=#핵심-구현-코드-1>#</a></h6><p><strong>재고 차감 로직 (트랜잭션 기반 무결성 보장)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-89-1><a class=lnlinks href=#hl-89-1> 1</a>
</span><span class=lnt id=hl-89-2><a class=lnlinks href=#hl-89-2> 2</a>
</span><span class=lnt id=hl-89-3><a class=lnlinks href=#hl-89-3> 3</a>
</span><span class=lnt id=hl-89-4><a class=lnlinks href=#hl-89-4> 4</a>
</span><span class=lnt id=hl-89-5><a class=lnlinks href=#hl-89-5> 5</a>
</span><span class=lnt id=hl-89-6><a class=lnlinks href=#hl-89-6> 6</a>
</span><span class=lnt id=hl-89-7><a class=lnlinks href=#hl-89-7> 7</a>
</span><span class=lnt id=hl-89-8><a class=lnlinks href=#hl-89-8> 8</a>
</span><span class=lnt id=hl-89-9><a class=lnlinks href=#hl-89-9> 9</a>
</span><span class=lnt id=hl-89-10><a class=lnlinks href=#hl-89-10>10</a>
</span><span class=lnt id=hl-89-11><a class=lnlinks href=#hl-89-11>11</a>
</span><span class=lnt id=hl-89-12><a class=lnlinks href=#hl-89-12>12</a>
</span><span class=lnt id=hl-89-13><a class=lnlinks href=#hl-89-13>13</a>
</span><span class=lnt id=hl-89-14><a class=lnlinks href=#hl-89-14>14</a>
</span><span class=lnt id=hl-89-15><a class=lnlinks href=#hl-89-15>15</a>
</span><span class=lnt id=hl-89-16><a class=lnlinks href=#hl-89-16>16</a>
</span><span class=lnt id=hl-89-17><a class=lnlinks href=#hl-89-17>17</a>
</span><span class=lnt id=hl-89-18><a class=lnlinks href=#hl-89-18>18</a>
</span><span class=lnt id=hl-89-19><a class=lnlinks href=#hl-89-19>19</a>
</span><span class=lnt id=hl-89-20><a class=lnlinks href=#hl-89-20>20</a>
</span><span class=lnt id=hl-89-21><a class=lnlinks href=#hl-89-21>21</a>
</span><span class=lnt id=hl-89-22><a class=lnlinks href=#hl-89-22>22</a>
</span><span class=lnt id=hl-89-23><a class=lnlinks href=#hl-89-23>23</a>
</span><span class=lnt id=hl-89-24><a class=lnlinks href=#hl-89-24>24</a>
</span><span class=lnt id=hl-89-25><a class=lnlinks href=#hl-89-25>25</a>
</span><span class=lnt id=hl-89-26><a class=lnlinks href=#hl-89-26>26</a>
</span><span class=lnt id=hl-89-27><a class=lnlinks href=#hl-89-27>27</a>
</span><span class=lnt id=hl-89-28><a class=lnlinks href=#hl-89-28>28</a>
</span><span class=lnt id=hl-89-29><a class=lnlinks href=#hl-89-29>29</a>
</span><span class=lnt id=hl-89-30><a class=lnlinks href=#hl-89-30>30</a>
</span><span class=lnt id=hl-89-31><a class=lnlinks href=#hl-89-31>31</a>
</span><span class=lnt id=hl-89-32><a class=lnlinks href=#hl-89-32>32</a>
</span><span class=lnt id=hl-89-33><a class=lnlinks href=#hl-89-33>33</a>
</span><span class=lnt id=hl-89-34><a class=lnlinks href=#hl-89-34>34</a>
</span><span class=lnt id=hl-89-35><a class=lnlinks href=#hl-89-35>35</a>
</span><span class=lnt id=hl-89-36><a class=lnlinks href=#hl-89-36>36</a>
</span><span class=lnt id=hl-89-37><a class=lnlinks href=#hl-89-37>37</a>
</span><span class=lnt id=hl-89-38><a class=lnlinks href=#hl-89-38>38</a>
</span><span class=lnt id=hl-89-39><a class=lnlinks href=#hl-89-39>39</a>
</span><span class=lnt id=hl-89-40><a class=lnlinks href=#hl-89-40>40</a>
</span><span class=lnt id=hl-89-41><a class=lnlinks href=#hl-89-41>41</a>
</span><span class=lnt id=hl-89-42><a class=lnlinks href=#hl-89-42>42</a>
</span><span class=lnt id=hl-89-43><a class=lnlinks href=#hl-89-43>43</a>
</span><span class=lnt id=hl-89-44><a class=lnlinks href=#hl-89-44>44</a>
</span><span class=lnt id=hl-89-45><a class=lnlinks href=#hl-89-45>45</a>
</span><span class=lnt id=hl-89-46><a class=lnlinks href=#hl-89-46>46</a>
</span><span class=lnt id=hl-89-47><a class=lnlinks href=#hl-89-47>47</a>
</span><span class=lnt id=hl-89-48><a class=lnlinks href=#hl-89-48>48</a>
</span><span class=lnt id=hl-89-49><a class=lnlinks href=#hl-89-49>49</a>
</span><span class=lnt id=hl-89-50><a class=lnlinks href=#hl-89-50>50</a>
</span><span class=lnt id=hl-89-51><a class=lnlinks href=#hl-89-51>51</a>
</span><span class=lnt id=hl-89-52><a class=lnlinks href=#hl-89-52>52</a>
</span><span class=lnt id=hl-89-53><a class=lnlinks href=#hl-89-53>53</a>
</span><span class=lnt id=hl-89-54><a class=lnlinks href=#hl-89-54>54</a>
</span><span class=lnt id=hl-89-55><a class=lnlinks href=#hl-89-55>55</a>
</span><span class=lnt id=hl-89-56><a class=lnlinks href=#hl-89-56>56</a>
</span><span class=lnt id=hl-89-57><a class=lnlinks href=#hl-89-57>57</a>
</span><span class=lnt id=hl-89-58><a class=lnlinks href=#hl-89-58>58</a>
</span><span class=lnt id=hl-89-59><a class=lnlinks href=#hl-89-59>59</a>
</span><span class=lnt id=hl-89-60><a class=lnlinks href=#hl-89-60>60</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>DELIMITER</span><span class=w> </span><span class=o>//</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 주문 생성 시 재고 예약
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>PROCEDURE</span><span class=w> </span><span class=n>CreateOrderWithInventory</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>IN</span><span class=w> </span><span class=n>p_customer_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>IN</span><span class=w> </span><span class=n>p_product_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>IN</span><span class=w> </span><span class=n>p_quantity</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>OUT</span><span class=w> </span><span class=n>p_order_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>BEGIN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>DECLARE</span><span class=w> </span><span class=n>v_available</span><span class=w> </span><span class=nb>INT</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>DECLARE</span><span class=w> </span><span class=n>EXIT</span><span class=w> </span><span class=k>HANDLER</span><span class=w> </span><span class=k>FOR</span><span class=w> </span><span class=k>SQLEXCEPTION</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>BEGIN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ROLLBACK</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>SIGNAL</span><span class=w> </span><span class=k>SQLSTATE</span><span class=w> </span><span class=s1>&#39;45000&#39;</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=k>MESSAGE_TEXT</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;Order creation failed&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>END</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>START</span><span class=w> </span><span class=k>TRANSACTION</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 1. 재고 확인 (FOR UPDATE로 락)
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>available_stock</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>v_available</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FROM</span><span class=w> </span><span class=n>Inventory</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>product_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>p_product_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOR</span><span class=w> </span><span class=k>UPDATE</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>IF</span><span class=w> </span><span class=n>v_available</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>p_quantity</span><span class=w> </span><span class=k>THEN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>SIGNAL</span><span class=w> </span><span class=k>SQLSTATE</span><span class=w> </span><span class=s1>&#39;45000&#39;</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=k>MESSAGE_TEXT</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;Insufficient stock&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>END</span><span class=w> </span><span class=k>IF</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 2. 주문 생성
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=p>(</span><span class=n>customer_id</span><span class=p>,</span><span class=w> </span><span class=n>status</span><span class=p>,</span><span class=w> </span><span class=n>total_amount</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=n>p_customer_id</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;Pending&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SET</span><span class=w> </span><span class=n>p_order_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>LAST_INSERT_ID</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 3. 주문 항목 추가
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>OrderItem</span><span class=w> </span><span class=p>(</span><span class=n>order_id</span><span class=p>,</span><span class=w> </span><span class=n>item_seq</span><span class=p>,</span><span class=w> </span><span class=n>product_id</span><span class=p>,</span><span class=w> </span><span class=n>quantity</span><span class=p>,</span><span class=w> </span><span class=n>unit_price</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>p_order_id</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>p_product_id</span><span class=p>,</span><span class=w> </span><span class=n>p_quantity</span><span class=p>,</span><span class=w> </span><span class=n>price</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FROM</span><span class=w> </span><span class=n>Product</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>product_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>p_product_id</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 4. 재고 예약 (available → reserved)
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>UPDATE</span><span class=w> </span><span class=n>Inventory</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SET</span><span class=w> </span><span class=n>available_stock</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>available_stock</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>p_quantity</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>reserved_stock</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>reserved_stock</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>p_quantity</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>product_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>p_product_id</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 5. 주문 총액 업데이트
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>UPDATE</span><span class=w> </span><span class=n>Orders</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SET</span><span class=w> </span><span class=n>total_amount</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>SELECT</span><span class=w> </span><span class=k>SUM</span><span class=p>(</span><span class=n>quantity</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>unit_price</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>FROM</span><span class=w> </span><span class=n>OrderItem</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHERE</span><span class=w> </span><span class=n>order_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>p_order_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>order_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>p_order_id</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>COMMIT</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>END</span><span class=o>//</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>DELIMITER</span><span class=w> </span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>결제 완료 시 재고 확정</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-90-1><a class=lnlinks href=#hl-90-1> 1</a>
</span><span class=lnt id=hl-90-2><a class=lnlinks href=#hl-90-2> 2</a>
</span><span class=lnt id=hl-90-3><a class=lnlinks href=#hl-90-3> 3</a>
</span><span class=lnt id=hl-90-4><a class=lnlinks href=#hl-90-4> 4</a>
</span><span class=lnt id=hl-90-5><a class=lnlinks href=#hl-90-5> 5</a>
</span><span class=lnt id=hl-90-6><a class=lnlinks href=#hl-90-6> 6</a>
</span><span class=lnt id=hl-90-7><a class=lnlinks href=#hl-90-7> 7</a>
</span><span class=lnt id=hl-90-8><a class=lnlinks href=#hl-90-8> 8</a>
</span><span class=lnt id=hl-90-9><a class=lnlinks href=#hl-90-9> 9</a>
</span><span class=lnt id=hl-90-10><a class=lnlinks href=#hl-90-10>10</a>
</span><span class=lnt id=hl-90-11><a class=lnlinks href=#hl-90-11>11</a>
</span><span class=lnt id=hl-90-12><a class=lnlinks href=#hl-90-12>12</a>
</span><span class=lnt id=hl-90-13><a class=lnlinks href=#hl-90-13>13</a>
</span><span class=lnt id=hl-90-14><a class=lnlinks href=#hl-90-14>14</a>
</span><span class=lnt id=hl-90-15><a class=lnlinks href=#hl-90-15>15</a>
</span><span class=lnt id=hl-90-16><a class=lnlinks href=#hl-90-16>16</a>
</span><span class=lnt id=hl-90-17><a class=lnlinks href=#hl-90-17>17</a>
</span><span class=lnt id=hl-90-18><a class=lnlinks href=#hl-90-18>18</a>
</span><span class=lnt id=hl-90-19><a class=lnlinks href=#hl-90-19>19</a>
</span><span class=lnt id=hl-90-20><a class=lnlinks href=#hl-90-20>20</a>
</span><span class=lnt id=hl-90-21><a class=lnlinks href=#hl-90-21>21</a>
</span><span class=lnt id=hl-90-22><a class=lnlinks href=#hl-90-22>22</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>DELIMITER</span><span class=w> </span><span class=o>//</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TRIGGER</span><span class=w> </span><span class=n>after_payment_complete</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>AFTER</span><span class=w> </span><span class=k>UPDATE</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>Payment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FOR</span><span class=w> </span><span class=k>EACH</span><span class=w> </span><span class=k>ROW</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>BEGIN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 결제 완료 시에만 실행
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>IF</span><span class=w> </span><span class=k>NEW</span><span class=p>.</span><span class=n>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;Completed&#39;</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=k>OLD</span><span class=p>.</span><span class=n>status</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=s1>&#39;Completed&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>-- 예약 재고를 확정 (재고에서 완전 차감)
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>UPDATE</span><span class=w> </span><span class=n>Inventory</span><span class=w> </span><span class=n>inv</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>JOIN</span><span class=w> </span><span class=n>OrderItem</span><span class=w> </span><span class=n>oi</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>inv</span><span class=p>.</span><span class=n>product_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>oi</span><span class=p>.</span><span class=n>product_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>SET</span><span class=w> </span><span class=n>inv</span><span class=p>.</span><span class=n>reserved_stock</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>inv</span><span class=p>.</span><span class=n>reserved_stock</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>oi</span><span class=p>.</span><span class=n>quantity</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHERE</span><span class=w> </span><span class=n>oi</span><span class=p>.</span><span class=n>order_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>NEW</span><span class=p>.</span><span class=n>order_id</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>-- 주문 상태 업데이트
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>UPDATE</span><span class=w> </span><span class=n>Orders</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>SET</span><span class=w> </span><span class=n>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;Paid&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHERE</span><span class=w> </span><span class=n>order_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>NEW</span><span class=p>.</span><span class=n>order_id</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>END</span><span class=w> </span><span class=k>IF</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>END</span><span class=o>//</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>DELIMITER</span><span class=w> </span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h6 id=성과-및-결과-1>성과 및 결과<a hidden class=anchor aria-hidden=true href=#성과-및-결과-1>#</a></h6><p><strong>정량적 성과</strong>:</p><table><thead><tr><th>지표</th><th>이전</th><th>이후</th><th>개선율</th></tr></thead><tbody><tr><td>주문 조회 시간</td><td>30초</td><td>0.5초</td><td><strong>98% 향상</strong></td></tr><tr><td>데이터 불일치 건수</td><td>월 500건</td><td>월 5건</td><td><strong>99% 감소</strong></td></tr><tr><td>재고 오류율</td><td>2.3%</td><td>0.05%</td><td><strong>97% 감소</strong></td></tr><tr><td>데이터베이스 용량</td><td>5TB</td><td>3.2TB</td><td><strong>36% 절감</strong> (정규화 효과)</td></tr><tr><td>배포 시간</td><td>8시간</td><td>2시간</td><td><strong>75% 단축</strong></td></tr></tbody></table><p><strong>정성적 개선</strong>:</p><ol><li><p><strong>개발자 경험</strong>:</p><ul><li>ERD로 인한 신입 온보딩 시간 50% 단축</li><li>테이블 간 관계 명확화로 버그 추적 용이</li></ul></li><li><p><strong>비즈니스 민첩성</strong>:</p><ul><li>새로운 결제 수단 추가 1주 → 1일</li><li>프로모션 테이블 추가 등 확장 용이</li></ul></li><li><p><strong>규제 준수</strong>:</p><ul><li>개인정보 (Customer) 분리로 GDPR 대응</li><li>주문 데이터 아카이빙 정책 수립 가능</li></ul></li></ol><h6 id=교훈-및-시사점-1>교훈 및 시사점<a hidden class=anchor aria-hidden=true href=#교훈-및-시사점-1>#</a></h6><p><strong>성공 요인</strong>:</p><ol><li><p><strong>점진적 마이그레이션</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-91-1><a class=lnlinks href=#hl-91-1>1</a>
</span><span class=lnt id=hl-91-2><a class=lnlinks href=#hl-91-2>2</a>
</span><span class=lnt id=hl-91-3><a class=lnlinks href=#hl-91-3>3</a>
</span><span class=lnt id=hl-91-4><a class=lnlinks href=#hl-91-4>4</a>
</span><span class=lnt id=hl-91-5><a class=lnlinks href=#hl-91-5>5</a>
</span><span class=lnt id=hl-91-6><a class=lnlinks href=#hl-91-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Phase 1: ER 모델 설계 (2주)
</span></span><span class=line><span class=cl>Phase 2: 신규 스키마 구축 (4주)
</span></span><span class=line><span class=cl>Phase 3: Dual Write (구/신 동시 기록) (4주)
</span></span><span class=line><span class=cl>Phase 4: 데이터 마이그레이션 (2주)
</span></span><span class=line><span class=cl>Phase 5: 신규 스키마로 전환 (1주)
</span></span><span class=line><span class=cl>Phase 6: 구 스키마 폐기 (1주)
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>철저한 검증</strong>:</p><ul><li>프로덕션 데이터 샘플(10%)로 성능 테스트</li><li>카나리 배포: 1% → 10% → 50% → 100%</li></ul></li><li><p><strong>팀 교육</strong>:</p><ul><li>ER Modeling 워크숍 (전 개발팀)</li><li>ERD 읽기/작성 가이드 문서화</li></ul></li></ol><p><strong>재현 시 유의점</strong>:</p><ol><li><p><strong>파티셔닝 전략</strong>:</p><ul><li>시간 기반 파티셔닝으로 오래된 데이터 아카이빙</li><li>파티션 프루닝(Partition Pruning)으로 쿼리 성능 향상</li></ul></li><li><p><strong>외래키 vs 애플리케이션 로직</strong>:</p><ul><li>핵심 무결성: DB 외래키 사용 (Orders-OrderItem)</li><li>성능 민감: 애플리케이션 레벨 검증 (Product-Category)</li></ul></li><li><p><strong>비정규화 고려</strong>:</p><ul><li>읽기 성능 critical한 통계 테이블: 비정규화</li><li>실시간 집계 대신 배치 처리 + 캐시</li></ul></li></ol><p><strong>대안 및 확장 아이디어</strong>:</p><ol><li><p><strong>이벤트 소싱 적용</strong>:</p><ul><li>주문 상태 변경을 이벤트로 저장</li><li>ER 모델 + Event Store 하이브리드</li></ul></li><li><p><strong>CQRS 패턴</strong>:</p><ul><li>쓰기: 정규화된 ER 모델</li><li>읽기: 비정규화된 뷰/구체화 뷰</li></ul></li><li><p><strong>샤딩 전략</strong>:</p><ul><li>customer_id 기반 샤딩</li><li>ER 모델이 샤딩 키 설계의 기준</li></ul></li></ol><hr><h5 id=실제-도입-사례-2-병원-정보-시스템-his-hospital-information-system>실제 도입 사례 2: 병원 정보 시스템 (HIS, Hospital Information System)<a hidden class=anchor aria-hidden=true href=#실제-도입-사례-2-병원-정보-시스템-his-hospital-information-system>#</a></h5><h6 id=배경-및-도입-이유-2>배경 및 도입 이유<a hidden class=anchor aria-hidden=true href=#배경-및-도입-이유-2>#</a></h6><p><strong>비즈니스 상황</strong>:</p><ul><li>종합병원 (병상 1000개, 일 외래 5000명)</li><li>진료, 검사, 처방, 입원 등 복잡한 워크플로우</li><li>규제: 의료법, 개인정보보호법, 전자의무기록(EMR) 표준</li></ul><p><strong>문제점</strong>:</p><ul><li>기존 시스템: 부서별 독립 DB로 데이터 사일로 발생</li><li>환자 정보 중복 입력 및 불일치</li><li>의료진 간 정보 공유 어려움</li><li>감사 추적(Audit Trail) 미흡</li></ul><p><strong>ER Modeling 선택 이유</strong>:</p><ul><li>의료 도메인의 복잡한 관계 (환자-진료-처방-검사) 명확히 모델링</li><li>표준 의료 용어(SNOMED CT, ICD-10) 통합 가능</li><li>데이터 무결성으로 의료 과실 예방</li></ul><h6 id=구현-아키텍처-2>구현 아키텍처<a hidden class=anchor aria-hidden=true href=#구현-아키텍처-2>#</a></h6><p><strong>핵심 ER 모델</strong>:</p><pre class=mermaid>erDiagram
    PATIENT ||--o{ VISIT : has
    VISIT ||--o{ DIAGNOSIS : receives
    VISIT ||--o{ PRESCRIPTION : gets
    VISIT ||--o{ LAB_TEST : undergoes
    DOCTOR ||--o{ VISIT : conducts
    MEDICATION ||--o{ PRESCRIPTION : prescribed_in
    
    PATIENT {
        bigint patient_id PK
        string patient_number UK
        string name
        date birthdate
        string gender
        string blood_type
        string allergies
    }
    
    DOCTOR {
        bigint doctor_id PK
        string license_number UK
        string name
        string specialty
        string department
    }
    
    VISIT {
        bigint visit_id PK
        bigint patient_id FK
        bigint doctor_id FK
        timestamp visit_date
        string visit_type
        string chief_complaint
    }
    
    DIAGNOSIS {
        bigint diagnosis_id PK
        bigint visit_id FK
        string icd10_code FK
        string description
        timestamp diagnosed_at
    }
    
    PRESCRIPTION {
        bigint prescription_id PK
        bigint visit_id FK
        bigint medication_id FK
        string dosage
        int duration_days
        string instructions
    }
</pre><p><strong>의료 표준 준수 구현</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-93-1><a class=lnlinks href=#hl-93-1> 1</a>
</span><span class=lnt id=hl-93-2><a class=lnlinks href=#hl-93-2> 2</a>
</span><span class=lnt id=hl-93-3><a class=lnlinks href=#hl-93-3> 3</a>
</span><span class=lnt id=hl-93-4><a class=lnlinks href=#hl-93-4> 4</a>
</span><span class=lnt id=hl-93-5><a class=lnlinks href=#hl-93-5> 5</a>
</span><span class=lnt id=hl-93-6><a class=lnlinks href=#hl-93-6> 6</a>
</span><span class=lnt id=hl-93-7><a class=lnlinks href=#hl-93-7> 7</a>
</span><span class=lnt id=hl-93-8><a class=lnlinks href=#hl-93-8> 8</a>
</span><span class=lnt id=hl-93-9><a class=lnlinks href=#hl-93-9> 9</a>
</span><span class=lnt id=hl-93-10><a class=lnlinks href=#hl-93-10>10</a>
</span><span class=lnt id=hl-93-11><a class=lnlinks href=#hl-93-11>11</a>
</span><span class=lnt id=hl-93-12><a class=lnlinks href=#hl-93-12>12</a>
</span><span class=lnt id=hl-93-13><a class=lnlinks href=#hl-93-13>13</a>
</span><span class=lnt id=hl-93-14><a class=lnlinks href=#hl-93-14>14</a>
</span><span class=lnt id=hl-93-15><a class=lnlinks href=#hl-93-15>15</a>
</span><span class=lnt id=hl-93-16><a class=lnlinks href=#hl-93-16>16</a>
</span><span class=lnt id=hl-93-17><a class=lnlinks href=#hl-93-17>17</a>
</span><span class=lnt id=hl-93-18><a class=lnlinks href=#hl-93-18>18</a>
</span><span class=lnt id=hl-93-19><a class=lnlinks href=#hl-93-19>19</a>
</span><span class=lnt id=hl-93-20><a class=lnlinks href=#hl-93-20>20</a>
</span><span class=lnt id=hl-93-21><a class=lnlinks href=#hl-93-21>21</a>
</span><span class=lnt id=hl-93-22><a class=lnlinks href=#hl-93-22>22</a>
</span><span class=lnt id=hl-93-23><a class=lnlinks href=#hl-93-23>23</a>
</span><span class=lnt id=hl-93-24><a class=lnlinks href=#hl-93-24>24</a>
</span><span class=lnt id=hl-93-25><a class=lnlinks href=#hl-93-25>25</a>
</span><span class=lnt id=hl-93-26><a class=lnlinks href=#hl-93-26>26</a>
</span><span class=lnt id=hl-93-27><a class=lnlinks href=#hl-93-27>27</a>
</span><span class=lnt id=hl-93-28><a class=lnlinks href=#hl-93-28>28</a>
</span><span class=lnt id=hl-93-29><a class=lnlinks href=#hl-93-29>29</a>
</span><span class=lnt id=hl-93-30><a class=lnlinks href=#hl-93-30>30</a>
</span><span class=lnt id=hl-93-31><a class=lnlinks href=#hl-93-31>31</a>
</span><span class=lnt id=hl-93-32><a class=lnlinks href=#hl-93-32>32</a>
</span><span class=lnt id=hl-93-33><a class=lnlinks href=#hl-93-33>33</a>
</span><span class=lnt id=hl-93-34><a class=lnlinks href=#hl-93-34>34</a>
</span><span class=lnt id=hl-93-35><a class=lnlinks href=#hl-93-35>35</a>
</span><span class=lnt id=hl-93-36><a class=lnlinks href=#hl-93-36>36</a>
</span><span class=lnt id=hl-93-37><a class=lnlinks href=#hl-93-37>37</a>
</span><span class=lnt id=hl-93-38><a class=lnlinks href=#hl-93-38>38</a>
</span><span class=lnt id=hl-93-39><a class=lnlinks href=#hl-93-39>39</a>
</span><span class=lnt id=hl-93-40><a class=lnlinks href=#hl-93-40>40</a>
</span><span class=lnt id=hl-93-41><a class=lnlinks href=#hl-93-41>41</a>
</span><span class=lnt id=hl-93-42><a class=lnlinks href=#hl-93-42>42</a>
</span><span class=lnt id=hl-93-43><a class=lnlinks href=#hl-93-43>43</a>
</span><span class=lnt id=hl-93-44><a class=lnlinks href=#hl-93-44>44</a>
</span><span class=lnt id=hl-93-45><a class=lnlinks href=#hl-93-45>45</a>
</span><span class=lnt id=hl-93-46><a class=lnlinks href=#hl-93-46>46</a>
</span><span class=lnt id=hl-93-47><a class=lnlinks href=#hl-93-47>47</a>
</span><span class=lnt id=hl-93-48><a class=lnlinks href=#hl-93-48>48</a>
</span><span class=lnt id=hl-93-49><a class=lnlinks href=#hl-93-49>49</a>
</span><span class=lnt id=hl-93-50><a class=lnlinks href=#hl-93-50>50</a>
</span><span class=lnt id=hl-93-51><a class=lnlinks href=#hl-93-51>51</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 1. ICD-10 질병 코드 테이블
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>ICD10_Code</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>icd10_code</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>description_kr</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>500</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>description_en</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>500</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>category</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 2. 진단 테이블 (표준 코드 참조)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Diagnosis</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>diagnosis_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=w> </span><span class=n>AUTO_INCREMENT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>visit_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>icd10_code</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>description</span><span class=w> </span><span class=nb>TEXT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>diagnosed_at</span><span class=w> </span><span class=k>TIMESTAMP</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=k>CURRENT_TIMESTAMP</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>diagnosed_by</span><span class=w> </span><span class=nb>BIGINT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>  </span><span class=c1>-- doctor_id
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>visit_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Visit</span><span class=p>(</span><span class=n>visit_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ON</span><span class=w> </span><span class=k>DELETE</span><span class=w> </span><span class=k>RESTRICT</span><span class=p>,</span><span class=w>  </span><span class=c1>-- 진료 기록 삭제 방지
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>icd10_code</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>ICD10_Code</span><span class=p>(</span><span class=n>icd10_code</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>diagnosed_by</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Doctor</span><span class=p>(</span><span class=n>doctor_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 3. 처방 테이블 (약물 상호작용 체크)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Prescription</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>prescription_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=w> </span><span class=n>AUTO_INCREMENT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>visit_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>medication_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>dosage</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>duration_days</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>instructions</span><span class=w> </span><span class=nb>TEXT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>prescribed_at</span><span class=w> </span><span class=k>TIMESTAMP</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=k>CURRENT_TIMESTAMP</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>prescribed_by</span><span class=w> </span><span class=nb>BIGINT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>visit_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Visit</span><span class=p>(</span><span class=n>visit_id</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>medication_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Medication</span><span class=p>(</span><span class=n>medication_id</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>prescribed_by</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Doctor</span><span class=p>(</span><span class=n>doctor_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 4. 감사 추적 (Audit Trail)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Audit_Log</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>log_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=w> </span><span class=n>AUTO_INCREMENT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>table_name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>record_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>action</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>  </span><span class=c1>-- INSERT, UPDATE, DELETE
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>user_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>changed_at</span><span class=w> </span><span class=k>TIMESTAMP</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=k>CURRENT_TIMESTAMP</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>old_values</span><span class=w> </span><span class=n>JSON</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>new_values</span><span class=w> </span><span class=n>JSON</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_table_record</span><span class=w> </span><span class=p>(</span><span class=k>table_name</span><span class=p>,</span><span class=w> </span><span class=n>record_id</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_user</span><span class=w> </span><span class=p>(</span><span class=n>user_id</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_date</span><span class=w> </span><span class=p>(</span><span class=n>changed_at</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>약물 상호작용 체크 (비즈니스 규칙 구현)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-94-1><a class=lnlinks href=#hl-94-1> 1</a>
</span><span class=lnt id=hl-94-2><a class=lnlinks href=#hl-94-2> 2</a>
</span><span class=lnt id=hl-94-3><a class=lnlinks href=#hl-94-3> 3</a>
</span><span class=lnt id=hl-94-4><a class=lnlinks href=#hl-94-4> 4</a>
</span><span class=lnt id=hl-94-5><a class=lnlinks href=#hl-94-5> 5</a>
</span><span class=lnt id=hl-94-6><a class=lnlinks href=#hl-94-6> 6</a>
</span><span class=lnt id=hl-94-7><a class=lnlinks href=#hl-94-7> 7</a>
</span><span class=lnt id=hl-94-8><a class=lnlinks href=#hl-94-8> 8</a>
</span><span class=lnt id=hl-94-9><a class=lnlinks href=#hl-94-9> 9</a>
</span><span class=lnt id=hl-94-10><a class=lnlinks href=#hl-94-10>10</a>
</span><span class=lnt id=hl-94-11><a class=lnlinks href=#hl-94-11>11</a>
</span><span class=lnt id=hl-94-12><a class=lnlinks href=#hl-94-12>12</a>
</span><span class=lnt id=hl-94-13><a class=lnlinks href=#hl-94-13>13</a>
</span><span class=lnt id=hl-94-14><a class=lnlinks href=#hl-94-14>14</a>
</span><span class=lnt id=hl-94-15><a class=lnlinks href=#hl-94-15>15</a>
</span><span class=lnt id=hl-94-16><a class=lnlinks href=#hl-94-16>16</a>
</span><span class=lnt id=hl-94-17><a class=lnlinks href=#hl-94-17>17</a>
</span><span class=lnt id=hl-94-18><a class=lnlinks href=#hl-94-18>18</a>
</span><span class=lnt id=hl-94-19><a class=lnlinks href=#hl-94-19>19</a>
</span><span class=lnt id=hl-94-20><a class=lnlinks href=#hl-94-20>20</a>
</span><span class=lnt id=hl-94-21><a class=lnlinks href=#hl-94-21>21</a>
</span><span class=lnt id=hl-94-22><a class=lnlinks href=#hl-94-22>22</a>
</span><span class=lnt id=hl-94-23><a class=lnlinks href=#hl-94-23>23</a>
</span><span class=lnt id=hl-94-24><a class=lnlinks href=#hl-94-24>24</a>
</span><span class=lnt id=hl-94-25><a class=lnlinks href=#hl-94-25>25</a>
</span><span class=lnt id=hl-94-26><a class=lnlinks href=#hl-94-26>26</a>
</span><span class=lnt id=hl-94-27><a class=lnlinks href=#hl-94-27>27</a>
</span><span class=lnt id=hl-94-28><a class=lnlinks href=#hl-94-28>28</a>
</span><span class=lnt id=hl-94-29><a class=lnlinks href=#hl-94-29>29</a>
</span><span class=lnt id=hl-94-30><a class=lnlinks href=#hl-94-30>30</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>DELIMITER</span><span class=w> </span><span class=o>//</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TRIGGER</span><span class=w> </span><span class=n>check_drug_interaction</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>BEFORE</span><span class=w> </span><span class=k>INSERT</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>Prescription</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FOR</span><span class=w> </span><span class=k>EACH</span><span class=w> </span><span class=k>ROW</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>BEGIN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>DECLARE</span><span class=w> </span><span class=n>v_interaction_count</span><span class=w> </span><span class=nb>INT</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 같은 환자의 활성 처방에서 상호작용 약물 확인
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=k>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>v_interaction_count</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FROM</span><span class=w> </span><span class=n>Prescription</span><span class=w> </span><span class=n>p</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>JOIN</span><span class=w> </span><span class=n>Medication</span><span class=w> </span><span class=n>m1</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>medication_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>m1</span><span class=p>.</span><span class=n>medication_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>JOIN</span><span class=w> </span><span class=n>DrugInteraction</span><span class=w> </span><span class=n>di</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>m1</span><span class=p>.</span><span class=n>medication_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>di</span><span class=p>.</span><span class=n>medication_id_1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>JOIN</span><span class=w> </span><span class=n>Medication</span><span class=w> </span><span class=n>m2</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>di</span><span class=p>.</span><span class=n>medication_id_2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>m2</span><span class=p>.</span><span class=n>medication_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>visit_id</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>SELECT</span><span class=w> </span><span class=n>visit_id</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Visit</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>patient_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>SELECT</span><span class=w> </span><span class=n>patient_id</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Visit</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>visit_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>NEW</span><span class=p>.</span><span class=n>visit_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>AND</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>prescribed_at</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>DATE_SUB</span><span class=p>(</span><span class=n>NOW</span><span class=p>(),</span><span class=w> </span><span class=nb>INTERVAL</span><span class=w> </span><span class=mi>30</span><span class=w> </span><span class=k>DAY</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>AND</span><span class=w> </span><span class=n>m2</span><span class=p>.</span><span class=n>medication_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>NEW</span><span class=p>.</span><span class=n>medication_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>AND</span><span class=w> </span><span class=n>di</span><span class=p>.</span><span class=n>severity</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;High&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>IF</span><span class=w> </span><span class=n>v_interaction_count</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=k>THEN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>SIGNAL</span><span class=w> </span><span class=k>SQLSTATE</span><span class=w> </span><span class=s1>&#39;45000&#39;</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>SET</span><span class=w> </span><span class=k>MESSAGE_TEXT</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;Drug interaction detected&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>END</span><span class=w> </span><span class=k>IF</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>END</span><span class=o>//</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>DELIMITER</span><span class=w> </span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h6 id=성과-및-결과-2>성과 및 결과<a hidden class=anchor aria-hidden=true href=#성과-및-결과-2>#</a></h6><p><strong>정량적 성과</strong>:</p><ul><li>환자 정보 중복 입력: 월 2000건 → 0건</li><li>의료 과실 (약물 오류): 연 50건 → 5건 (90% 감소)</li><li>진료 기록 조회 시간: 5분 → 10초 (96% 향상)</li><li>규제 감사 대응 시간: 2주 → 2일</li></ul><p><strong>정성적 개선</strong>:</p><ul><li>의료진 만족도: 진료 기록 통합 조회로 효율성 향상</li><li>환자 안전: 알레르기, 약물 상호작용 자동 체크</li><li>법적 대응력: 완전한 감사 추적(Audit Trail)</li></ul><h6 id=교훈-및-시사점-2>교훈 및 시사점<a hidden class=anchor aria-hidden=true href=#교훈-및-시사점-2>#</a></h6><p><strong>핵심 교훈</strong>:</p><ol><li><p><strong>도메인 전문가 참여 필수</strong>:</p><ul><li>의료진이 직접 ERD 리뷰 참여</li><li>실제 워크플로우 기반 모델링</li></ul></li><li><p><strong>점진적 통합</strong>:</p><ul><li>부서별 시스템 단계적 통합 (외래 → 입원 → 응급)</li><li>레거시 시스템과 6개월 병행 운영</li></ul></li><li><p><strong>규제 준수 설계</strong>:</p><ul><li>개인정보 암호화 컬럼</li><li>7년 보관 의무 → 아카이빙 전략</li></ul></li></ol><p><strong>재현 시 유의점</strong>:</p><ul><li>의료 표준 (ICD, SNOMED) 버전 관리</li><li>성능과 무결성 균형 (읽기 빈도 vs 제약조건)</li><li>다국어 지원 (진단명 영문/한글)</li></ul><hr><p>계속해서 5.3을 작성하겠습니다.</p><h4 id=53-통합-및-연계-기술>5.3 통합 및 연계 기술<a hidden class=anchor aria-hidden=true href=#53-통합-및-연계-기술>#</a></h4><p>ER Modeling은 독립적으로 사용되기보다는 다양한 기술과 통합하여 더 큰 가치를 창출합니다.</p><h5 id=531-ormobject-relational-mapping과의-통합>5.3.1 ORM(Object-Relational Mapping)과의 통합<a hidden class=anchor aria-hidden=true href=#531-ormobject-relational-mapping과의-통합>#</a></h5><p><strong>통합 목적</strong>:</p><ul><li>ER 모델을 객체지향 코드로 자동 변환</li><li>데이터베이스와 애플리케이션 간 임피던스 불일치(Impedance Mismatch) 해소</li><li>생산성 향상 및 유지보수성 개선</li></ul><p><strong>통합 방법</strong>:</p><ol><li><p><strong>DB-First 접근</strong> (ER → ORM):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-95-1><a class=lnlinks href=#hl-95-1>1</a>
</span><span class=lnt id=hl-95-2><a class=lnlinks href=#hl-95-2>2</a>
</span><span class=lnt id=hl-95-3><a class=lnlinks href=#hl-95-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>ER 다이어그램 설계 
</span></span><span class=line><span class=cl>→ DDL 생성 
</span></span><span class=line><span class=cl>→ ORM 역공학으로 엔티티 클래스 생성
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>Code-First 접근</strong> (ORM → ER):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-96-1><a class=lnlinks href=#hl-96-1>1</a>
</span><span class=lnt id=hl-96-2><a class=lnlinks href=#hl-96-2>2</a>
</span><span class=lnt id=hl-96-3><a class=lnlinks href=#hl-96-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>엔티티 클래스 작성 
</span></span><span class=line><span class=cl>→ ORM이 ER 구조 파악 
</span></span><span class=line><span class=cl>→ DDL 자동 생성
</span></span></code></pre></td></tr></table></div></div></li></ol><p><strong>구현 예시</strong> (Entity Framework Core):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-97-1><a class=lnlinks href=#hl-97-1> 1</a>
</span><span class=lnt id=hl-97-2><a class=lnlinks href=#hl-97-2> 2</a>
</span><span class=lnt id=hl-97-3><a class=lnlinks href=#hl-97-3> 3</a>
</span><span class=lnt id=hl-97-4><a class=lnlinks href=#hl-97-4> 4</a>
</span><span class=lnt id=hl-97-5><a class=lnlinks href=#hl-97-5> 5</a>
</span><span class=lnt id=hl-97-6><a class=lnlinks href=#hl-97-6> 6</a>
</span><span class=lnt id=hl-97-7><a class=lnlinks href=#hl-97-7> 7</a>
</span><span class=lnt id=hl-97-8><a class=lnlinks href=#hl-97-8> 8</a>
</span><span class=lnt id=hl-97-9><a class=lnlinks href=#hl-97-9> 9</a>
</span><span class=lnt id=hl-97-10><a class=lnlinks href=#hl-97-10>10</a>
</span><span class=lnt id=hl-97-11><a class=lnlinks href=#hl-97-11>11</a>
</span><span class=lnt id=hl-97-12><a class=lnlinks href=#hl-97-12>12</a>
</span><span class=lnt id=hl-97-13><a class=lnlinks href=#hl-97-13>13</a>
</span><span class=lnt id=hl-97-14><a class=lnlinks href=#hl-97-14>14</a>
</span><span class=lnt id=hl-97-15><a class=lnlinks href=#hl-97-15>15</a>
</span><span class=lnt id=hl-97-16><a class=lnlinks href=#hl-97-16>16</a>
</span><span class=lnt id=hl-97-17><a class=lnlinks href=#hl-97-17>17</a>
</span><span class=lnt id=hl-97-18><a class=lnlinks href=#hl-97-18>18</a>
</span><span class=lnt id=hl-97-19><a class=lnlinks href=#hl-97-19>19</a>
</span><span class=lnt id=hl-97-20><a class=lnlinks href=#hl-97-20>20</a>
</span><span class=lnt id=hl-97-21><a class=lnlinks href=#hl-97-21>21</a>
</span><span class=lnt id=hl-97-22><a class=lnlinks href=#hl-97-22>22</a>
</span><span class=lnt id=hl-97-23><a class=lnlinks href=#hl-97-23>23</a>
</span><span class=lnt id=hl-97-24><a class=lnlinks href=#hl-97-24>24</a>
</span><span class=lnt id=hl-97-25><a class=lnlinks href=#hl-97-25>25</a>
</span><span class=lnt id=hl-97-26><a class=lnlinks href=#hl-97-26>26</a>
</span><span class=lnt id=hl-97-27><a class=lnlinks href=#hl-97-27>27</a>
</span><span class=lnt id=hl-97-28><a class=lnlinks href=#hl-97-28>28</a>
</span><span class=lnt id=hl-97-29><a class=lnlinks href=#hl-97-29>29</a>
</span><span class=lnt id=hl-97-30><a class=lnlinks href=#hl-97-30>30</a>
</span><span class=lnt id=hl-97-31><a class=lnlinks href=#hl-97-31>31</a>
</span><span class=lnt id=hl-97-32><a class=lnlinks href=#hl-97-32>32</a>
</span><span class=lnt id=hl-97-33><a class=lnlinks href=#hl-97-33>33</a>
</span><span class=lnt id=hl-97-34><a class=lnlinks href=#hl-97-34>34</a>
</span><span class=lnt id=hl-97-35><a class=lnlinks href=#hl-97-35>35</a>
</span><span class=lnt id=hl-97-36><a class=lnlinks href=#hl-97-36>36</a>
</span><span class=lnt id=hl-97-37><a class=lnlinks href=#hl-97-37>37</a>
</span><span class=lnt id=hl-97-38><a class=lnlinks href=#hl-97-38>38</a>
</span><span class=lnt id=hl-97-39><a class=lnlinks href=#hl-97-39>39</a>
</span><span class=lnt id=hl-97-40><a class=lnlinks href=#hl-97-40>40</a>
</span><span class=lnt id=hl-97-41><a class=lnlinks href=#hl-97-41>41</a>
</span><span class=lnt id=hl-97-42><a class=lnlinks href=#hl-97-42>42</a>
</span><span class=lnt id=hl-97-43><a class=lnlinks href=#hl-97-43>43</a>
</span><span class=lnt id=hl-97-44><a class=lnlinks href=#hl-97-44>44</a>
</span><span class=lnt id=hl-97-45><a class=lnlinks href=#hl-97-45>45</a>
</span><span class=lnt id=hl-97-46><a class=lnlinks href=#hl-97-46>46</a>
</span><span class=lnt id=hl-97-47><a class=lnlinks href=#hl-97-47>47</a>
</span><span class=lnt id=hl-97-48><a class=lnlinks href=#hl-97-48>48</a>
</span><span class=lnt id=hl-97-49><a class=lnlinks href=#hl-97-49>49</a>
</span><span class=lnt id=hl-97-50><a class=lnlinks href=#hl-97-50>50</a>
</span><span class=lnt id=hl-97-51><a class=lnlinks href=#hl-97-51>51</a>
</span><span class=lnt id=hl-97-52><a class=lnlinks href=#hl-97-52>52</a>
</span><span class=lnt id=hl-97-53><a class=lnlinks href=#hl-97-53>53</a>
</span><span class=lnt id=hl-97-54><a class=lnlinks href=#hl-97-54>54</a>
</span><span class=lnt id=hl-97-55><a class=lnlinks href=#hl-97-55>55</a>
</span><span class=lnt id=hl-97-56><a class=lnlinks href=#hl-97-56>56</a>
</span><span class=lnt id=hl-97-57><a class=lnlinks href=#hl-97-57>57</a>
</span><span class=lnt id=hl-97-58><a class=lnlinks href=#hl-97-58>58</a>
</span><span class=lnt id=hl-97-59><a class=lnlinks href=#hl-97-59>59</a>
</span><span class=lnt id=hl-97-60><a class=lnlinks href=#hl-97-60>60</a>
</span><span class=lnt id=hl-97-61><a class=lnlinks href=#hl-97-61>61</a>
</span><span class=lnt id=hl-97-62><a class=lnlinks href=#hl-97-62>62</a>
</span><span class=lnt id=hl-97-63><a class=lnlinks href=#hl-97-63>63</a>
</span><span class=lnt id=hl-97-64><a class=lnlinks href=#hl-97-64>64</a>
</span><span class=lnt id=hl-97-65><a class=lnlinks href=#hl-97-65>65</a>
</span><span class=lnt id=hl-97-66><a class=lnlinks href=#hl-97-66>66</a>
</span><span class=lnt id=hl-97-67><a class=lnlinks href=#hl-97-67>67</a>
</span><span class=lnt id=hl-97-68><a class=lnlinks href=#hl-97-68>68</a>
</span><span class=lnt id=hl-97-69><a class=lnlinks href=#hl-97-69>69</a>
</span><span class=lnt id=hl-97-70><a class=lnlinks href=#hl-97-70>70</a>
</span><span class=lnt id=hl-97-71><a class=lnlinks href=#hl-97-71>71</a>
</span><span class=lnt id=hl-97-72><a class=lnlinks href=#hl-97-72>72</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=c1>// ER 모델의 Customer 개체를 C# 클래스로 매핑</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>Customer</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 기본키 (Key Attribute)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=n>CustomerId</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 단순 속성 (Simple Attributes)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>string</span> <span class=n>Name</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>string</span> <span class=n>Email</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 복합 속성 (Composite Attribute) - 분해하여 매핑</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>string</span> <span class=n>Street</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>string</span> <span class=n>City</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>string</span> <span class=n>ZipCode</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 1:N 관계 (Customer → Orders)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>ICollection</span><span class=p>&lt;</span><span class=n>Order</span><span class=p>&gt;</span> <span class=n>Orders</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>Order</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=n>OrderId</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>DateTime</span> <span class=n>OrderDate</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// N:1 관계 (Orders → Customer)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=n>CustomerId</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>  <span class=c1>// 외래키</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Customer</span> <span class=n>Customer</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>  <span class=c1>// 탐색 속성</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 1:N 관계 (Order → OrderItems)</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>ICollection</span><span class=p>&lt;</span><span class=n>OrderItem</span><span class=p>&gt;</span> <span class=n>Items</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 약한 개체 (Weak Entity) - 복합 키</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>OrderItem</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=n>OrderId</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>  <span class=c1>// 소유자 키</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=n>ItemSeq</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>  <span class=c1>// 부분 키</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=n>Quantity</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>decimal</span> <span class=n>UnitPrice</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 관계</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Order</span> <span class=n>Order</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Product</span> <span class=n>Product</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// DbContext 설정 (ER 관계 규칙 적용)</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>ShopDbContext</span> <span class=p>:</span> <span class=n>DbContext</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>DbSet</span><span class=p>&lt;</span><span class=n>Customer</span><span class=p>&gt;</span> <span class=n>Customers</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>DbSet</span><span class=p>&lt;</span><span class=n>Order</span><span class=p>&gt;</span> <span class=n>Orders</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>DbSet</span><span class=p>&lt;</span><span class=n>OrderItem</span><span class=p>&gt;</span> <span class=n>OrderItems</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>protected</span> <span class=kd>override</span> <span class=k>void</span> <span class=n>OnModelCreating</span><span class=p>(</span><span class=n>ModelBuilder</span> <span class=n>modelBuilder</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 약한 개체의 복합 키 정의</span>
</span></span><span class=line><span class=cl>        <span class=n>modelBuilder</span><span class=p>.</span><span class=n>Entity</span><span class=p>&lt;</span><span class=n>OrderItem</span><span class=p>&gt;()</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=n>HasKey</span><span class=p>(</span><span class=n>oi</span> <span class=p>=&gt;</span> <span class=k>new</span> <span class=p>{</span> <span class=n>oi</span><span class=p>.</span><span class=n>OrderId</span><span class=p>,</span> <span class=n>oi</span><span class=p>.</span><span class=n>ItemSeq</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 1:N 관계 및 CASCADE 설정</span>
</span></span><span class=line><span class=cl>        <span class=n>modelBuilder</span><span class=p>.</span><span class=n>Entity</span><span class=p>&lt;</span><span class=n>Order</span><span class=p>&gt;()</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=n>HasMany</span><span class=p>(</span><span class=n>o</span> <span class=p>=&gt;</span> <span class=n>o</span><span class=p>.</span><span class=n>Items</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=n>WithOne</span><span class=p>(</span><span class=n>oi</span> <span class=p>=&gt;</span> <span class=n>oi</span><span class=p>.</span><span class=n>Order</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=n>HasForeignKey</span><span class=p>(</span><span class=n>oi</span> <span class=p>=&gt;</span> <span class=n>oi</span><span class=p>.</span><span class=n>OrderId</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=n>OnDelete</span><span class=p>(</span><span class=n>DeleteBehavior</span><span class=p>.</span><span class=n>Cascade</span><span class=p>);</span>  <span class=c1>// 약한 개체 CASCADE</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// UNIQUE 제약 (1:1 관계 구현)</span>
</span></span><span class=line><span class=cl>        <span class=n>modelBuilder</span><span class=p>.</span><span class=n>Entity</span><span class=p>&lt;</span><span class=n>Payment</span><span class=p>&gt;()</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=n>HasIndex</span><span class=p>(</span><span class=n>p</span> <span class=p>=&gt;</span> <span class=n>p</span><span class=p>.</span><span class=n>OrderId</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=n>IsUnique</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>통합의 가치</strong>:</p><table><thead><tr><th>측면</th><th>ER Modeling 기여</th><th>ORM 기여</th><th>통합 효과</th></tr></thead><tbody><tr><td>설계 품질</td><td>정규화, 무결성 규칙 명확</td><td>-</td><td>견고한 데이터 모델</td></tr><tr><td>개발 생산성</td><td>-</td><td>자동 CRUD, 타입 안전</td><td>코드 작성 70% 감소</td></tr><tr><td>유지보수</td><td>명확한 관계 문서화</td><td>코드 수준 추상화</td><td>변경 영향도 파악 용이</td></tr><tr><td>성능</td><td>최적 인덱스 설계</td><td>Lazy/Eager Loading</td><td>효율적 쿼리</td></tr></tbody></table><p><strong>주의사항</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-98-1><a class=lnlinks href=#hl-98-1> 1</a>
</span><span class=lnt id=hl-98-2><a class=lnlinks href=#hl-98-2> 2</a>
</span><span class=lnt id=hl-98-3><a class=lnlinks href=#hl-98-3> 3</a>
</span><span class=lnt id=hl-98-4><a class=lnlinks href=#hl-98-4> 4</a>
</span><span class=lnt id=hl-98-5><a class=lnlinks href=#hl-98-5> 5</a>
</span><span class=lnt id=hl-98-6><a class=lnlinks href=#hl-98-6> 6</a>
</span><span class=lnt id=hl-98-7><a class=lnlinks href=#hl-98-7> 7</a>
</span><span class=lnt id=hl-98-8><a class=lnlinks href=#hl-98-8> 8</a>
</span><span class=lnt id=hl-98-9><a class=lnlinks href=#hl-98-9> 9</a>
</span><span class=lnt id=hl-98-10><a class=lnlinks href=#hl-98-10>10</a>
</span><span class=lnt id=hl-98-11><a class=lnlinks href=#hl-98-11>11</a>
</span><span class=lnt id=hl-98-12><a class=lnlinks href=#hl-98-12>12</a>
</span><span class=lnt id=hl-98-13><a class=lnlinks href=#hl-98-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=c1>// N+1 쿼리 문제 (ER 모델의 관계가 비효율적 쿼리 유발 가능)</span>
</span></span><span class=line><span class=cl><span class=c1>// 나쁜 예</span>
</span></span><span class=line><span class=cl><span class=kt>var</span> <span class=n>customers</span> <span class=p>=</span> <span class=n>context</span><span class=p>.</span><span class=n>Customers</span><span class=p>.</span><span class=n>ToList</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=k>foreach</span> <span class=p>(</span><span class=kt>var</span> <span class=n>customer</span> <span class=k>in</span> <span class=n>customers</span><span class=p>)</span> 
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 각 고객마다 별도 쿼리 발생 (N+1 문제)</span>
</span></span><span class=line><span class=cl>    <span class=kt>var</span> <span class=n>orderCount</span> <span class=p>=</span> <span class=n>customer</span><span class=p>.</span><span class=n>Orders</span><span class=p>.</span><span class=n>Count</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 좋은 예: Eager Loading 사용</span>
</span></span><span class=line><span class=cl><span class=kt>var</span> <span class=n>customers</span> <span class=p>=</span> <span class=n>context</span><span class=p>.</span><span class=n>Customers</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=n>Include</span><span class=p>(</span><span class=n>c</span> <span class=p>=&gt;</span> <span class=n>c</span><span class=p>.</span><span class=n>Orders</span><span class=p>)</span>  <span class=c1>// 조인으로 한번에 로드</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=n>ToList</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=532-마이크로서비스-아키텍처와의-연계>5.3.2 마이크로서비스 아키텍처와의 연계<a hidden class=anchor aria-hidden=true href=#532-마이크로서비스-아키텍처와의-연계>#</a></h5><p><strong>통합 배경</strong>:</p><ul><li>모놀리식 ER 모델을 서비스별로 분해</li><li>각 마이크로서비스가 독립적 데이터베이스 보유 (Database per Service)</li><li>서비스 간 데이터 일관성 유지 필요</li></ul><p><strong>통합 전략</strong>:</p><pre class=mermaid>graph TB
    A[통합 ER 모델] --&gt; B{도메인 경계 식별}
    B --&gt; C[주문 서비스 ER]
    B --&gt; D[재고 서비스 ER]
    B --&gt; E[결제 서비스 ER]
    
    C --&gt; C1[Order DB]
    D --&gt; D1[Inventory DB]
    E --&gt; E1[Payment DB]
    
    C1 -.이벤트.-&gt; D1
    D1 -.이벤트.-&gt; C1
    C1 -.이벤트.-&gt; E1
    
    style A fill:#e1f5fe
    style C fill:#fff3e0
    style D fill:#f3e5f5
    style E fill:#e8f5e9
</pre><p><strong>분해 방법</strong>:</p><ol><li><p><strong>Bounded Context 식별</strong> (DDD 적용):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-100-1><a class=lnlinks href=#hl-100-1>1</a>
</span><span class=lnt id=hl-100-2><a class=lnlinks href=#hl-100-2>2</a>
</span><span class=lnt id=hl-100-3><a class=lnlinks href=#hl-100-3>3</a>
</span><span class=lnt id=hl-100-4><a class=lnlinks href=#hl-100-4>4</a>
</span><span class=lnt id=hl-100-5><a class=lnlinks href=#hl-100-5>5</a>
</span><span class=lnt id=hl-100-6><a class=lnlinks href=#hl-100-6>6</a>
</span><span class=lnt id=hl-100-7><a class=lnlinks href=#hl-100-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[통합 ER 모델]
</span></span><span class=line><span class=cl>Customer - Order - OrderItem - Product - Inventory - Payment
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[도메인별 분해]
</span></span><span class=line><span class=cl>주문 컨텍스트: Customer, Order, OrderItem
</span></span><span class=line><span class=cl>상품 컨텍스트: Product, Inventory
</span></span><span class=line><span class=cl>결제 컨텍스트: Payment
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>공유 개체 처리</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-101-1><a class=lnlinks href=#hl-101-1> 1</a>
</span><span class=lnt id=hl-101-2><a class=lnlinks href=#hl-101-2> 2</a>
</span><span class=lnt id=hl-101-3><a class=lnlinks href=#hl-101-3> 3</a>
</span><span class=lnt id=hl-101-4><a class=lnlinks href=#hl-101-4> 4</a>
</span><span class=lnt id=hl-101-5><a class=lnlinks href=#hl-101-5> 5</a>
</span><span class=lnt id=hl-101-6><a class=lnlinks href=#hl-101-6> 6</a>
</span><span class=lnt id=hl-101-7><a class=lnlinks href=#hl-101-7> 7</a>
</span><span class=lnt id=hl-101-8><a class=lnlinks href=#hl-101-8> 8</a>
</span><span class=lnt id=hl-101-9><a class=lnlinks href=#hl-101-9> 9</a>
</span><span class=lnt id=hl-101-10><a class=lnlinks href=#hl-101-10>10</a>
</span><span class=lnt id=hl-101-11><a class=lnlinks href=#hl-101-11>11</a>
</span><span class=lnt id=hl-101-12><a class=lnlinks href=#hl-101-12>12</a>
</span><span class=lnt id=hl-101-13><a class=lnlinks href=#hl-101-13>13</a>
</span><span class=lnt id=hl-101-14><a class=lnlinks href=#hl-101-14>14</a>
</span><span class=lnt id=hl-101-15><a class=lnlinks href=#hl-101-15>15</a>
</span><span class=lnt id=hl-101-16><a class=lnlinks href=#hl-101-16>16</a>
</span><span class=lnt id=hl-101-17><a class=lnlinks href=#hl-101-17>17</a>
</span><span class=lnt id=hl-101-18><a class=lnlinks href=#hl-101-18>18</a>
</span><span class=lnt id=hl-101-19><a class=lnlinks href=#hl-101-19>19</a>
</span><span class=lnt id=hl-101-20><a class=lnlinks href=#hl-101-20>20</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- Customer 개체를 여러 서비스에서 참조하는 경우
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 주문 서비스 DB
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>email</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 주문 서비스에 필요한 속성만
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 결제 서비스 DB
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>email</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>payment_method</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 결제 서비스에 필요한 속성만
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 이벤트를 통한 동기화
</span></span></span><span class=line><span class=cl><span class=c1>-- 주문 서비스에서 Customer 정보 변경 → 이벤트 발행 → 결제 서비스에서 수신
</span></span></span></code></pre></td></tr></table></div></div></li><li><p><strong>참조 무결성 대안</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-102-1><a class=lnlinks href=#hl-102-1> 1</a>
</span><span class=lnt id=hl-102-2><a class=lnlinks href=#hl-102-2> 2</a>
</span><span class=lnt id=hl-102-3><a class=lnlinks href=#hl-102-3> 3</a>
</span><span class=lnt id=hl-102-4><a class=lnlinks href=#hl-102-4> 4</a>
</span><span class=lnt id=hl-102-5><a class=lnlinks href=#hl-102-5> 5</a>
</span><span class=lnt id=hl-102-6><a class=lnlinks href=#hl-102-6> 6</a>
</span><span class=lnt id=hl-102-7><a class=lnlinks href=#hl-102-7> 7</a>
</span><span class=lnt id=hl-102-8><a class=lnlinks href=#hl-102-8> 8</a>
</span><span class=lnt id=hl-102-9><a class=lnlinks href=#hl-102-9> 9</a>
</span><span class=lnt id=hl-102-10><a class=lnlinks href=#hl-102-10>10</a>
</span><span class=lnt id=hl-102-11><a class=lnlinks href=#hl-102-11>11</a>
</span><span class=lnt id=hl-102-12><a class=lnlinks href=#hl-102-12>12</a>
</span><span class=lnt id=hl-102-13><a class=lnlinks href=#hl-102-13>13</a>
</span><span class=lnt id=hl-102-14><a class=lnlinks href=#hl-102-14>14</a>
</span><span class=lnt id=hl-102-15><a class=lnlinks href=#hl-102-15>15</a>
</span><span class=lnt id=hl-102-16><a class=lnlinks href=#hl-102-16>16</a>
</span><span class=lnt id=hl-102-17><a class=lnlinks href=#hl-102-17>17</a>
</span><span class=lnt id=hl-102-18><a class=lnlinks href=#hl-102-18>18</a>
</span><span class=lnt id=hl-102-19><a class=lnlinks href=#hl-102-19>19</a>
</span><span class=lnt id=hl-102-20><a class=lnlinks href=#hl-102-20>20</a>
</span><span class=lnt id=hl-102-21><a class=lnlinks href=#hl-102-21>21</a>
</span><span class=lnt id=hl-102-22><a class=lnlinks href=#hl-102-22>22</a>
</span><span class=lnt id=hl-102-23><a class=lnlinks href=#hl-102-23>23</a>
</span><span class=lnt id=hl-102-24><a class=lnlinks href=#hl-102-24>24</a>
</span><span class=lnt id=hl-102-25><a class=lnlinks href=#hl-102-25>25</a>
</span><span class=lnt id=hl-102-26><a class=lnlinks href=#hl-102-26>26</a>
</span><span class=lnt id=hl-102-27><a class=lnlinks href=#hl-102-27>27</a>
</span><span class=lnt id=hl-102-28><a class=lnlinks href=#hl-102-28>28</a>
</span><span class=lnt id=hl-102-29><a class=lnlinks href=#hl-102-29>29</a>
</span><span class=lnt id=hl-102-30><a class=lnlinks href=#hl-102-30>30</a>
</span><span class=lnt id=hl-102-31><a class=lnlinks href=#hl-102-31>31</a>
</span><span class=lnt id=hl-102-32><a class=lnlinks href=#hl-102-32>32</a>
</span><span class=lnt id=hl-102-33><a class=lnlinks href=#hl-102-33>33</a>
</span><span class=lnt id=hl-102-34><a class=lnlinks href=#hl-102-34>34</a>
</span><span class=lnt id=hl-102-35><a class=lnlinks href=#hl-102-35>35</a>
</span><span class=lnt id=hl-102-36><a class=lnlinks href=#hl-102-36>36</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// ER 모델의 외래키를 이벤트 기반으로 대체
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 주문 서비스 (Order → Product 참조)
</span></span></span><span class=line><span class=cl><span class=kr>async</span> <span class=kd>function</span> <span class=nx>createOrder</span><span class=p>(</span><span class=nx>customerId</span><span class=p>,</span> <span class=nx>productId</span><span class=p>,</span> <span class=nx>quantity</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 1. 상품 서비스에 재고 확인 (API 호출)
</span></span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>product</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>productService</span><span class=p>.</span><span class=nx>getProduct</span><span class=p>(</span><span class=nx>productId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>product</span><span class=p>.</span><span class=nx>stock</span> <span class=o>&lt;</span> <span class=nx>quantity</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;Insufficient stock&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 2. 주문 생성 (외래키 없이 ID만 저장)
</span></span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>order</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>Order</span><span class=p>.</span><span class=nx>create</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=nx>customerId</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>productId</span><span class=p>,</span>  <span class=c1>// 외래키 제약 없음
</span></span></span><span class=line><span class=cl>        <span class=nx>quantity</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 3. 재고 차감 이벤트 발행
</span></span></span><span class=line><span class=cl>    <span class=kr>await</span> <span class=nx>eventBus</span><span class=p>.</span><span class=nx>publish</span><span class=p>(</span><span class=s1>&#39;OrderCreated&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>orderId</span><span class=o>:</span> <span class=nx>order</span><span class=p>.</span><span class=nx>id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>productId</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>quantity</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>order</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 재고 서비스에서 이벤트 수신
</span></span></span><span class=line><span class=cl><span class=nx>eventBus</span><span class=p>.</span><span class=nx>subscribe</span><span class=p>(</span><span class=s1>&#39;OrderCreated&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>await</span> <span class=nx>Inventory</span><span class=p>.</span><span class=nx>decrement</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=nx>productId</span><span class=o>:</span> <span class=nx>event</span><span class=p>.</span><span class=nx>productId</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>by</span><span class=o>:</span> <span class=nx>event</span><span class=p>.</span><span class=nx>quantity</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><p><strong>통합의 가치</strong>:</p><ul><li>ER 모델이 서비스 경계 설정의 기준 제공</li><li>각 서비스의 독립적 스키마 진화 가능</li><li>데이터 중복 허용으로 서비스 간 결합도 감소</li></ul><p><strong>주의사항</strong>:</p><ul><li>분산 트랜잭션 불가 → Saga 패턴 적용</li><li>최종 일관성(Eventual Consistency) 수용</li><li>데이터 중복으로 인한 동기화 복잡도</li></ul><h5 id=533-rest-api-설계와의-연계>5.3.3 REST API 설계와의 연계<a hidden class=anchor aria-hidden=true href=#533-rest-api-설계와의-연계>#</a></h5><p><strong>통합 목적</strong>:</p><ul><li>ER 모델의 개체와 관계를 RESTful 리소스로 매핑</li><li>데이터베이스 구조를 API 인터페이스로 노출</li></ul><p><strong>매핑 규칙</strong>:</p><table><thead><tr><th>ER 요소</th><th>REST API 매핑</th><th>예시</th></tr></thead><tbody><tr><td>개체(Entity)</td><td>리소스(Resource)</td><td>Customer → /customers</td></tr><tr><td>개체 인스턴스</td><td>리소스 인스턴스</td><td>customer_id=1 → /customers/1</td></tr><tr><td>1:N 관계</td><td>중첩 리소스</td><td>Customer-Orders → /customers/1/orders</td></tr><tr><td>N:M 관계</td><td>독립 리소스</td><td>Student-Course → /enrollments</td></tr><tr><td>속성(Attribute)</td><td>리소스 필드</td><td>name, email → {&ldquo;name&rdquo;: &ldquo;&mldr;&rdquo;, &ldquo;email&rdquo;: &ldquo;&mldr;&rdquo;}</td></tr></tbody></table><p><strong>구현 예시</strong> (Node.js + Express):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-103-1><a class=lnlinks href=#hl-103-1> 1</a>
</span><span class=lnt id=hl-103-2><a class=lnlinks href=#hl-103-2> 2</a>
</span><span class=lnt id=hl-103-3><a class=lnlinks href=#hl-103-3> 3</a>
</span><span class=lnt id=hl-103-4><a class=lnlinks href=#hl-103-4> 4</a>
</span><span class=lnt id=hl-103-5><a class=lnlinks href=#hl-103-5> 5</a>
</span><span class=lnt id=hl-103-6><a class=lnlinks href=#hl-103-6> 6</a>
</span><span class=lnt id=hl-103-7><a class=lnlinks href=#hl-103-7> 7</a>
</span><span class=lnt id=hl-103-8><a class=lnlinks href=#hl-103-8> 8</a>
</span><span class=lnt id=hl-103-9><a class=lnlinks href=#hl-103-9> 9</a>
</span><span class=lnt id=hl-103-10><a class=lnlinks href=#hl-103-10>10</a>
</span><span class=lnt id=hl-103-11><a class=lnlinks href=#hl-103-11>11</a>
</span><span class=lnt id=hl-103-12><a class=lnlinks href=#hl-103-12>12</a>
</span><span class=lnt id=hl-103-13><a class=lnlinks href=#hl-103-13>13</a>
</span><span class=lnt id=hl-103-14><a class=lnlinks href=#hl-103-14>14</a>
</span><span class=lnt id=hl-103-15><a class=lnlinks href=#hl-103-15>15</a>
</span><span class=lnt id=hl-103-16><a class=lnlinks href=#hl-103-16>16</a>
</span><span class=lnt id=hl-103-17><a class=lnlinks href=#hl-103-17>17</a>
</span><span class=lnt id=hl-103-18><a class=lnlinks href=#hl-103-18>18</a>
</span><span class=lnt id=hl-103-19><a class=lnlinks href=#hl-103-19>19</a>
</span><span class=lnt id=hl-103-20><a class=lnlinks href=#hl-103-20>20</a>
</span><span class=lnt id=hl-103-21><a class=lnlinks href=#hl-103-21>21</a>
</span><span class=lnt id=hl-103-22><a class=lnlinks href=#hl-103-22>22</a>
</span><span class=lnt id=hl-103-23><a class=lnlinks href=#hl-103-23>23</a>
</span><span class=lnt id=hl-103-24><a class=lnlinks href=#hl-103-24>24</a>
</span><span class=lnt id=hl-103-25><a class=lnlinks href=#hl-103-25>25</a>
</span><span class=lnt id=hl-103-26><a class=lnlinks href=#hl-103-26>26</a>
</span><span class=lnt id=hl-103-27><a class=lnlinks href=#hl-103-27>27</a>
</span><span class=lnt id=hl-103-28><a class=lnlinks href=#hl-103-28>28</a>
</span><span class=lnt id=hl-103-29><a class=lnlinks href=#hl-103-29>29</a>
</span><span class=lnt id=hl-103-30><a class=lnlinks href=#hl-103-30>30</a>
</span><span class=lnt id=hl-103-31><a class=lnlinks href=#hl-103-31>31</a>
</span><span class=lnt id=hl-103-32><a class=lnlinks href=#hl-103-32>32</a>
</span><span class=lnt id=hl-103-33><a class=lnlinks href=#hl-103-33>33</a>
</span><span class=lnt id=hl-103-34><a class=lnlinks href=#hl-103-34>34</a>
</span><span class=lnt id=hl-103-35><a class=lnlinks href=#hl-103-35>35</a>
</span><span class=lnt id=hl-103-36><a class=lnlinks href=#hl-103-36>36</a>
</span><span class=lnt id=hl-103-37><a class=lnlinks href=#hl-103-37>37</a>
</span><span class=lnt id=hl-103-38><a class=lnlinks href=#hl-103-38>38</a>
</span><span class=lnt id=hl-103-39><a class=lnlinks href=#hl-103-39>39</a>
</span><span class=lnt id=hl-103-40><a class=lnlinks href=#hl-103-40>40</a>
</span><span class=lnt id=hl-103-41><a class=lnlinks href=#hl-103-41>41</a>
</span><span class=lnt id=hl-103-42><a class=lnlinks href=#hl-103-42>42</a>
</span><span class=lnt id=hl-103-43><a class=lnlinks href=#hl-103-43>43</a>
</span><span class=lnt id=hl-103-44><a class=lnlinks href=#hl-103-44>44</a>
</span><span class=lnt id=hl-103-45><a class=lnlinks href=#hl-103-45>45</a>
</span><span class=lnt id=hl-103-46><a class=lnlinks href=#hl-103-46>46</a>
</span><span class=lnt id=hl-103-47><a class=lnlinks href=#hl-103-47>47</a>
</span><span class=lnt id=hl-103-48><a class=lnlinks href=#hl-103-48>48</a>
</span><span class=lnt id=hl-103-49><a class=lnlinks href=#hl-103-49>49</a>
</span><span class=lnt id=hl-103-50><a class=lnlinks href=#hl-103-50>50</a>
</span><span class=lnt id=hl-103-51><a class=lnlinks href=#hl-103-51>51</a>
</span><span class=lnt id=hl-103-52><a class=lnlinks href=#hl-103-52>52</a>
</span><span class=lnt id=hl-103-53><a class=lnlinks href=#hl-103-53>53</a>
</span><span class=lnt id=hl-103-54><a class=lnlinks href=#hl-103-54>54</a>
</span><span class=lnt id=hl-103-55><a class=lnlinks href=#hl-103-55>55</a>
</span><span class=lnt id=hl-103-56><a class=lnlinks href=#hl-103-56>56</a>
</span><span class=lnt id=hl-103-57><a class=lnlinks href=#hl-103-57>57</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// ER 모델: Customer → Orders → OrderItems
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 1. Customer 리소스
</span></span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/customers/:id&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>customer</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>Customer</span><span class=p>.</span><span class=nx>findByPk</span><span class=p>(</span><span class=nx>req</span><span class=p>.</span><span class=nx>params</span><span class=p>.</span><span class=nx>id</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>attributes</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;customer_id&#39;</span><span class=p>,</span> <span class=s1>&#39;name&#39;</span><span class=p>,</span> <span class=s1>&#39;email&#39;</span><span class=p>]</span>  <span class=c1>// 속성 선택
</span></span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>(</span><span class=nx>customer</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 2. 1:N 관계 (Customer → Orders)
</span></span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/customers/:id/orders&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>orders</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>Order</span><span class=p>.</span><span class=nx>findAll</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=nx>where</span><span class=o>:</span> <span class=p>{</span> <span class=nx>customer_id</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>params</span><span class=p>.</span><span class=nx>id</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>include</span><span class=o>:</span> <span class=p>[{</span>
</span></span><span class=line><span class=cl>            <span class=nx>model</span><span class=o>:</span> <span class=nx>OrderItem</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>as</span><span class=o>:</span> <span class=s1>&#39;items&#39;</span>
</span></span><span class=line><span class=cl>        <span class=p>}]</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>(</span><span class=nx>orders</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 3. 약한 개체 (OrderItem)는 Order 하위 리소스로
</span></span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=s1>&#39;/orders/:orderId/items&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>orderItem</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>OrderItem</span><span class=p>.</span><span class=nx>create</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=nx>order_id</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>params</span><span class=p>.</span><span class=nx>orderId</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>item_seq</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>item_seq</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>product_id</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>product_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>quantity</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>quantity</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>201</span><span class=p>).</span><span class=nx>json</span><span class=p>(</span><span class=nx>orderItem</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 4. 복합키 처리 (OrderItem의 복합키)
</span></span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/orders/:orderId/items/:itemSeq&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>item</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>OrderItem</span><span class=p>.</span><span class=nx>findOne</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=nx>where</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>order_id</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>params</span><span class=p>.</span><span class=nx>orderId</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>item_seq</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>params</span><span class=p>.</span><span class=nx>itemSeq</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>(</span><span class=nx>item</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 5. HATEOAS (관계를 링크로 표현)
</span></span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/customers/:id&#39;</span><span class=p>,</span> <span class=kr>async</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>customer</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>Customer</span><span class=p>.</span><span class=nx>findByPk</span><span class=p>(</span><span class=nx>req</span><span class=p>.</span><span class=nx>params</span><span class=p>.</span><span class=nx>id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=p>...</span><span class=nx>customer</span><span class=p>.</span><span class=nx>toJSON</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>        <span class=nx>_links</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>self</span><span class=o>:</span> <span class=p>{</span> <span class=nx>href</span><span class=o>:</span> <span class=sb>`/customers/</span><span class=si>${</span><span class=nx>customer</span><span class=p>.</span><span class=nx>customer_id</span><span class=si>}</span><span class=sb>`</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=nx>orders</span><span class=o>:</span> <span class=p>{</span> <span class=nx>href</span><span class=o>:</span> <span class=sb>`/customers/</span><span class=si>${</span><span class=nx>customer</span><span class=p>.</span><span class=nx>customer_id</span><span class=si>}</span><span class=sb>/orders`</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=c1>// ER 관계를 링크로 표현
</span></span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>GraphQL과의 연계</strong> (관계 탐색 최적화):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-104-1><a class=lnlinks href=#hl-104-1> 1</a>
</span><span class=lnt id=hl-104-2><a class=lnlinks href=#hl-104-2> 2</a>
</span><span class=lnt id=hl-104-3><a class=lnlinks href=#hl-104-3> 3</a>
</span><span class=lnt id=hl-104-4><a class=lnlinks href=#hl-104-4> 4</a>
</span><span class=lnt id=hl-104-5><a class=lnlinks href=#hl-104-5> 5</a>
</span><span class=lnt id=hl-104-6><a class=lnlinks href=#hl-104-6> 6</a>
</span><span class=lnt id=hl-104-7><a class=lnlinks href=#hl-104-7> 7</a>
</span><span class=lnt id=hl-104-8><a class=lnlinks href=#hl-104-8> 8</a>
</span><span class=lnt id=hl-104-9><a class=lnlinks href=#hl-104-9> 9</a>
</span><span class=lnt id=hl-104-10><a class=lnlinks href=#hl-104-10>10</a>
</span><span class=lnt id=hl-104-11><a class=lnlinks href=#hl-104-11>11</a>
</span><span class=lnt id=hl-104-12><a class=lnlinks href=#hl-104-12>12</a>
</span><span class=lnt id=hl-104-13><a class=lnlinks href=#hl-104-13>13</a>
</span><span class=lnt id=hl-104-14><a class=lnlinks href=#hl-104-14>14</a>
</span><span class=lnt id=hl-104-15><a class=lnlinks href=#hl-104-15>15</a>
</span><span class=lnt id=hl-104-16><a class=lnlinks href=#hl-104-16>16</a>
</span><span class=lnt id=hl-104-17><a class=lnlinks href=#hl-104-17>17</a>
</span><span class=lnt id=hl-104-18><a class=lnlinks href=#hl-104-18>18</a>
</span><span class=lnt id=hl-104-19><a class=lnlinks href=#hl-104-19>19</a>
</span><span class=lnt id=hl-104-20><a class=lnlinks href=#hl-104-20>20</a>
</span><span class=lnt id=hl-104-21><a class=lnlinks href=#hl-104-21>21</a>
</span><span class=lnt id=hl-104-22><a class=lnlinks href=#hl-104-22>22</a>
</span><span class=lnt id=hl-104-23><a class=lnlinks href=#hl-104-23>23</a>
</span><span class=lnt id=hl-104-24><a class=lnlinks href=#hl-104-24>24</a>
</span><span class=lnt id=hl-104-25><a class=lnlinks href=#hl-104-25>25</a>
</span><span class=lnt id=hl-104-26><a class=lnlinks href=#hl-104-26>26</a>
</span><span class=lnt id=hl-104-27><a class=lnlinks href=#hl-104-27>27</a>
</span><span class=lnt id=hl-104-28><a class=lnlinks href=#hl-104-28>28</a>
</span><span class=lnt id=hl-104-29><a class=lnlinks href=#hl-104-29>29</a>
</span><span class=lnt id=hl-104-30><a class=lnlinks href=#hl-104-30>30</a>
</span><span class=lnt id=hl-104-31><a class=lnlinks href=#hl-104-31>31</a>
</span><span class=lnt id=hl-104-32><a class=lnlinks href=#hl-104-32>32</a>
</span><span class=lnt id=hl-104-33><a class=lnlinks href=#hl-104-33>33</a>
</span><span class=lnt id=hl-104-34><a class=lnlinks href=#hl-104-34>34</a>
</span><span class=lnt id=hl-104-35><a class=lnlinks href=#hl-104-35>35</a>
</span><span class=lnt id=hl-104-36><a class=lnlinks href=#hl-104-36>36</a>
</span><span class=lnt id=hl-104-37><a class=lnlinks href=#hl-104-37>37</a>
</span><span class=lnt id=hl-104-38><a class=lnlinks href=#hl-104-38>38</a>
</span><span class=lnt id=hl-104-39><a class=lnlinks href=#hl-104-39>39</a>
</span><span class=lnt id=hl-104-40><a class=lnlinks href=#hl-104-40>40</a>
</span><span class=lnt id=hl-104-41><a class=lnlinks href=#hl-104-41>41</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-graphql data-lang=graphql><span class=line><span class=cl><span class=c># ER 모델을 GraphQL 스키마로 변환</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nc>Customer</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=py>customer_id</span><span class=p>:</span><span class=w> </span><span class=nc>ID</span><span class=p>!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=py>name</span><span class=p>:</span><span class=w> </span><span class=nc>String</span><span class=p>!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=py>email</span><span class=p>:</span><span class=w> </span><span class=nc>String</span><span class=p>!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># 1:N 관계</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=py>orders</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=nc>Order</span><span class=p>!]!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nc>Order</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=py>order_id</span><span class=p>:</span><span class=w> </span><span class=nc>ID</span><span class=p>!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=py>order_date</span><span class=p>:</span><span class=w> </span><span class=nc>DateTime</span><span class=p>!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=py>total_amount</span><span class=p>:</span><span class=w> </span><span class=nc>Decimal</span><span class=p>!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># N:1 관계</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=py>customer</span><span class=p>:</span><span class=w> </span><span class=nc>Customer</span><span class=p>!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># 1:N 관계</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=py>items</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=nc>OrderItem</span><span class=p>!]!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nc>OrderItem</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=py>order_id</span><span class=p>:</span><span class=w> </span><span class=nc>ID</span><span class=p>!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=py>item_seq</span><span class=p>:</span><span class=w> </span><span class=nc>Int</span><span class=p>!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=py>quantity</span><span class=p>:</span><span class=w> </span><span class=nc>Int</span><span class=p>!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># N:1 관계</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=py>product</span><span class=p>:</span><span class=w> </span><span class=nc>Product</span><span class=p>!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nc>Product</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=py>product_id</span><span class=p>:</span><span class=w> </span><span class=nc>ID</span><span class=p>!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=py>name</span><span class=p>:</span><span class=w> </span><span class=nc>String</span><span class=p>!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=py>price</span><span class=p>:</span><span class=w> </span><span class=nc>Decimal</span><span class=p>!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># 쿼리 (ER 관계 기반 탐색)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=kd>type</span><span class=w> </span><span class=nc>Query</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=py>customer</span><span class=p>(</span><span class=py>id</span><span class=p>:</span><span class=w> </span><span class=nc>ID</span><span class=p>!):</span><span class=w> </span><span class=nc>Customer</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># 복잡한 관계 탐색을 한 번의 쿼리로</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=py>customerWithOrders</span><span class=p>(</span><span class=py>id</span><span class=p>:</span><span class=w> </span><span class=nc>ID</span><span class=p>!):</span><span class=w> </span><span class=nc>Customer</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>통합의 가치</strong>:</p><ul><li>ER 관계를 API 구조로 자연스럽게 표현</li><li>중첩 리소스로 1:N 관계 직관적 표현</li><li>HATEOAS로 관계 탐색 가능</li></ul><h5 id=534-데이터-웨어하우스dw-및-분석과의-연계>5.3.4 데이터 웨어하우스(DW) 및 분석과의 연계<a hidden class=anchor aria-hidden=true href=#534-데이터-웨어하우스dw-및-분석과의-연계>#</a></h5><p><strong>통합 목적</strong>:</p><ul><li>OLTP용 정규화 ER 모델을 OLAP용 비정규화 스타 스키마로 변환</li><li>분석 성능 최적화</li></ul><p><strong>변환 전략</strong>:</p><pre class=mermaid>graph LR
    A[ER 모델&lt;br/&gt;정규화] --&gt; B[ETL 프로세스]
    B --&gt; C[스타 스키마&lt;br/&gt;비정규화]
    
    A1[Customer] --&gt; B
    A2[Order] --&gt; B
    A3[Product] --&gt; B
    
    C --&gt; C1[Fact_Sales]
    C --&gt; C2[Dim_Customer]
    C --&gt; C3[Dim_Product]
    C --&gt; C4[Dim_Time]
    
    style A fill:#e1f5fe
    style C fill:#fff9c4
</pre><p><strong>구현 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-106-1><a class=lnlinks href=#hl-106-1>  1</a>
</span><span class=lnt id=hl-106-2><a class=lnlinks href=#hl-106-2>  2</a>
</span><span class=lnt id=hl-106-3><a class=lnlinks href=#hl-106-3>  3</a>
</span><span class=lnt id=hl-106-4><a class=lnlinks href=#hl-106-4>  4</a>
</span><span class=lnt id=hl-106-5><a class=lnlinks href=#hl-106-5>  5</a>
</span><span class=lnt id=hl-106-6><a class=lnlinks href=#hl-106-6>  6</a>
</span><span class=lnt id=hl-106-7><a class=lnlinks href=#hl-106-7>  7</a>
</span><span class=lnt id=hl-106-8><a class=lnlinks href=#hl-106-8>  8</a>
</span><span class=lnt id=hl-106-9><a class=lnlinks href=#hl-106-9>  9</a>
</span><span class=lnt id=hl-106-10><a class=lnlinks href=#hl-106-10> 10</a>
</span><span class=lnt id=hl-106-11><a class=lnlinks href=#hl-106-11> 11</a>
</span><span class=lnt id=hl-106-12><a class=lnlinks href=#hl-106-12> 12</a>
</span><span class=lnt id=hl-106-13><a class=lnlinks href=#hl-106-13> 13</a>
</span><span class=lnt id=hl-106-14><a class=lnlinks href=#hl-106-14> 14</a>
</span><span class=lnt id=hl-106-15><a class=lnlinks href=#hl-106-15> 15</a>
</span><span class=lnt id=hl-106-16><a class=lnlinks href=#hl-106-16> 16</a>
</span><span class=lnt id=hl-106-17><a class=lnlinks href=#hl-106-17> 17</a>
</span><span class=lnt id=hl-106-18><a class=lnlinks href=#hl-106-18> 18</a>
</span><span class=lnt id=hl-106-19><a class=lnlinks href=#hl-106-19> 19</a>
</span><span class=lnt id=hl-106-20><a class=lnlinks href=#hl-106-20> 20</a>
</span><span class=lnt id=hl-106-21><a class=lnlinks href=#hl-106-21> 21</a>
</span><span class=lnt id=hl-106-22><a class=lnlinks href=#hl-106-22> 22</a>
</span><span class=lnt id=hl-106-23><a class=lnlinks href=#hl-106-23> 23</a>
</span><span class=lnt id=hl-106-24><a class=lnlinks href=#hl-106-24> 24</a>
</span><span class=lnt id=hl-106-25><a class=lnlinks href=#hl-106-25> 25</a>
</span><span class=lnt id=hl-106-26><a class=lnlinks href=#hl-106-26> 26</a>
</span><span class=lnt id=hl-106-27><a class=lnlinks href=#hl-106-27> 27</a>
</span><span class=lnt id=hl-106-28><a class=lnlinks href=#hl-106-28> 28</a>
</span><span class=lnt id=hl-106-29><a class=lnlinks href=#hl-106-29> 29</a>
</span><span class=lnt id=hl-106-30><a class=lnlinks href=#hl-106-30> 30</a>
</span><span class=lnt id=hl-106-31><a class=lnlinks href=#hl-106-31> 31</a>
</span><span class=lnt id=hl-106-32><a class=lnlinks href=#hl-106-32> 32</a>
</span><span class=lnt id=hl-106-33><a class=lnlinks href=#hl-106-33> 33</a>
</span><span class=lnt id=hl-106-34><a class=lnlinks href=#hl-106-34> 34</a>
</span><span class=lnt id=hl-106-35><a class=lnlinks href=#hl-106-35> 35</a>
</span><span class=lnt id=hl-106-36><a class=lnlinks href=#hl-106-36> 36</a>
</span><span class=lnt id=hl-106-37><a class=lnlinks href=#hl-106-37> 37</a>
</span><span class=lnt id=hl-106-38><a class=lnlinks href=#hl-106-38> 38</a>
</span><span class=lnt id=hl-106-39><a class=lnlinks href=#hl-106-39> 39</a>
</span><span class=lnt id=hl-106-40><a class=lnlinks href=#hl-106-40> 40</a>
</span><span class=lnt id=hl-106-41><a class=lnlinks href=#hl-106-41> 41</a>
</span><span class=lnt id=hl-106-42><a class=lnlinks href=#hl-106-42> 42</a>
</span><span class=lnt id=hl-106-43><a class=lnlinks href=#hl-106-43> 43</a>
</span><span class=lnt id=hl-106-44><a class=lnlinks href=#hl-106-44> 44</a>
</span><span class=lnt id=hl-106-45><a class=lnlinks href=#hl-106-45> 45</a>
</span><span class=lnt id=hl-106-46><a class=lnlinks href=#hl-106-46> 46</a>
</span><span class=lnt id=hl-106-47><a class=lnlinks href=#hl-106-47> 47</a>
</span><span class=lnt id=hl-106-48><a class=lnlinks href=#hl-106-48> 48</a>
</span><span class=lnt id=hl-106-49><a class=lnlinks href=#hl-106-49> 49</a>
</span><span class=lnt id=hl-106-50><a class=lnlinks href=#hl-106-50> 50</a>
</span><span class=lnt id=hl-106-51><a class=lnlinks href=#hl-106-51> 51</a>
</span><span class=lnt id=hl-106-52><a class=lnlinks href=#hl-106-52> 52</a>
</span><span class=lnt id=hl-106-53><a class=lnlinks href=#hl-106-53> 53</a>
</span><span class=lnt id=hl-106-54><a class=lnlinks href=#hl-106-54> 54</a>
</span><span class=lnt id=hl-106-55><a class=lnlinks href=#hl-106-55> 55</a>
</span><span class=lnt id=hl-106-56><a class=lnlinks href=#hl-106-56> 56</a>
</span><span class=lnt id=hl-106-57><a class=lnlinks href=#hl-106-57> 57</a>
</span><span class=lnt id=hl-106-58><a class=lnlinks href=#hl-106-58> 58</a>
</span><span class=lnt id=hl-106-59><a class=lnlinks href=#hl-106-59> 59</a>
</span><span class=lnt id=hl-106-60><a class=lnlinks href=#hl-106-60> 60</a>
</span><span class=lnt id=hl-106-61><a class=lnlinks href=#hl-106-61> 61</a>
</span><span class=lnt id=hl-106-62><a class=lnlinks href=#hl-106-62> 62</a>
</span><span class=lnt id=hl-106-63><a class=lnlinks href=#hl-106-63> 63</a>
</span><span class=lnt id=hl-106-64><a class=lnlinks href=#hl-106-64> 64</a>
</span><span class=lnt id=hl-106-65><a class=lnlinks href=#hl-106-65> 65</a>
</span><span class=lnt id=hl-106-66><a class=lnlinks href=#hl-106-66> 66</a>
</span><span class=lnt id=hl-106-67><a class=lnlinks href=#hl-106-67> 67</a>
</span><span class=lnt id=hl-106-68><a class=lnlinks href=#hl-106-68> 68</a>
</span><span class=lnt id=hl-106-69><a class=lnlinks href=#hl-106-69> 69</a>
</span><span class=lnt id=hl-106-70><a class=lnlinks href=#hl-106-70> 70</a>
</span><span class=lnt id=hl-106-71><a class=lnlinks href=#hl-106-71> 71</a>
</span><span class=lnt id=hl-106-72><a class=lnlinks href=#hl-106-72> 72</a>
</span><span class=lnt id=hl-106-73><a class=lnlinks href=#hl-106-73> 73</a>
</span><span class=lnt id=hl-106-74><a class=lnlinks href=#hl-106-74> 74</a>
</span><span class=lnt id=hl-106-75><a class=lnlinks href=#hl-106-75> 75</a>
</span><span class=lnt id=hl-106-76><a class=lnlinks href=#hl-106-76> 76</a>
</span><span class=lnt id=hl-106-77><a class=lnlinks href=#hl-106-77> 77</a>
</span><span class=lnt id=hl-106-78><a class=lnlinks href=#hl-106-78> 78</a>
</span><span class=lnt id=hl-106-79><a class=lnlinks href=#hl-106-79> 79</a>
</span><span class=lnt id=hl-106-80><a class=lnlinks href=#hl-106-80> 80</a>
</span><span class=lnt id=hl-106-81><a class=lnlinks href=#hl-106-81> 81</a>
</span><span class=lnt id=hl-106-82><a class=lnlinks href=#hl-106-82> 82</a>
</span><span class=lnt id=hl-106-83><a class=lnlinks href=#hl-106-83> 83</a>
</span><span class=lnt id=hl-106-84><a class=lnlinks href=#hl-106-84> 84</a>
</span><span class=lnt id=hl-106-85><a class=lnlinks href=#hl-106-85> 85</a>
</span><span class=lnt id=hl-106-86><a class=lnlinks href=#hl-106-86> 86</a>
</span><span class=lnt id=hl-106-87><a class=lnlinks href=#hl-106-87> 87</a>
</span><span class=lnt id=hl-106-88><a class=lnlinks href=#hl-106-88> 88</a>
</span><span class=lnt id=hl-106-89><a class=lnlinks href=#hl-106-89> 89</a>
</span><span class=lnt id=hl-106-90><a class=lnlinks href=#hl-106-90> 90</a>
</span><span class=lnt id=hl-106-91><a class=lnlinks href=#hl-106-91> 91</a>
</span><span class=lnt id=hl-106-92><a class=lnlinks href=#hl-106-92> 92</a>
</span><span class=lnt id=hl-106-93><a class=lnlinks href=#hl-106-93> 93</a>
</span><span class=lnt id=hl-106-94><a class=lnlinks href=#hl-106-94> 94</a>
</span><span class=lnt id=hl-106-95><a class=lnlinks href=#hl-106-95> 95</a>
</span><span class=lnt id=hl-106-96><a class=lnlinks href=#hl-106-96> 96</a>
</span><span class=lnt id=hl-106-97><a class=lnlinks href=#hl-106-97> 97</a>
</span><span class=lnt id=hl-106-98><a class=lnlinks href=#hl-106-98> 98</a>
</span><span class=lnt id=hl-106-99><a class=lnlinks href=#hl-106-99> 99</a>
</span><span class=lnt id=hl-106-100><a class=lnlinks href=#hl-106-100>100</a>
</span><span class=lnt id=hl-106-101><a class=lnlinks href=#hl-106-101>101</a>
</span><span class=lnt id=hl-106-102><a class=lnlinks href=#hl-106-102>102</a>
</span><span class=lnt id=hl-106-103><a class=lnlinks href=#hl-106-103>103</a>
</span><span class=lnt id=hl-106-104><a class=lnlinks href=#hl-106-104>104</a>
</span><span class=lnt id=hl-106-105><a class=lnlinks href=#hl-106-105>105</a>
</span><span class=lnt id=hl-106-106><a class=lnlinks href=#hl-106-106>106</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 1. ER 모델 (OLTP, 정규화)
</span></span></span><span class=line><span class=cl><span class=c1>-- Customer, Order, OrderItem, Product (이미 정의됨)
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 2. 스타 스키마 (OLAP, 비정규화)
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 팩트 테이블 (Fact Table) - 측정값 중심
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Fact_Sales</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>sale_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=w> </span><span class=n>AUTO_INCREMENT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 차원 외래키
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_key</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>product_key</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>time_key</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 측정값 (Measures)
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>quantity</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>unit_price</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>total_amount</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>12</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>discount_amount</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 인덱스 (분석 쿼리 최적화)
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_customer</span><span class=w> </span><span class=p>(</span><span class=n>customer_key</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_product</span><span class=w> </span><span class=p>(</span><span class=n>product_key</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_time</span><span class=w> </span><span class=p>(</span><span class=n>time_key</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 차원 테이블 (Dimension Table) - 비정규화
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Dim_Customer</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_key</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=n>AUTO_INCREMENT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=p>,</span><span class=w>  </span><span class=c1>-- 원본 ER 모델 ID
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 비정규화: 고객 속성 모두 포함
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>email</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>city</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>state</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>country</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>age_group</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>loyalty_tier</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- SCD Type 2 (이력 관리)
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>valid_from</span><span class=w> </span><span class=nb>DATE</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>valid_to</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>is_current</span><span class=w> </span><span class=nb>BOOLEAN</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=k>TRUE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Dim_Product</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>product_key</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=n>AUTO_INCREMENT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>product_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 비정규화: 제품 + 카테고리 정보
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>product_name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>200</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>sku</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>category_name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>category_level1</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>category_level2</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>brand</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>price</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Dim_Time</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>time_key</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nb>date</span><span class=w> </span><span class=nb>DATE</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>year</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>quarter</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>month</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>week</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>day_of_week</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>day_name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>is_weekend</span><span class=w> </span><span class=nb>BOOLEAN</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>is_holiday</span><span class=w> </span><span class=nb>BOOLEAN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 3. ETL 프로세스 (ER → 스타 스키마)
</span></span></span><span class=line><span class=cl><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>Fact_Sales</span><span class=w> </span><span class=p>(</span><span class=n>customer_key</span><span class=p>,</span><span class=w> </span><span class=n>product_key</span><span class=p>,</span><span class=w> </span><span class=n>time_key</span><span class=p>,</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>                        </span><span class=n>quantity</span><span class=p>,</span><span class=w> </span><span class=n>unit_price</span><span class=p>,</span><span class=w> </span><span class=n>total_amount</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>dc</span><span class=p>.</span><span class=n>customer_key</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>dp</span><span class=p>.</span><span class=n>product_key</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>dt</span><span class=p>.</span><span class=n>time_key</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>oi</span><span class=p>.</span><span class=n>quantity</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>oi</span><span class=p>.</span><span class=n>unit_price</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>oi</span><span class=p>.</span><span class=n>quantity</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>oi</span><span class=p>.</span><span class=n>unit_price</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>total_amount</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=n>o</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>JOIN</span><span class=w> </span><span class=n>OrderItem</span><span class=w> </span><span class=n>oi</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>order_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>oi</span><span class=p>.</span><span class=n>order_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>JOIN</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=k>c</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>JOIN</span><span class=w> </span><span class=n>Product</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>oi</span><span class=p>.</span><span class=n>product_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>product_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 차원 테이블 조인
</span></span></span><span class=line><span class=cl><span class=k>JOIN</span><span class=w> </span><span class=n>Dim_Customer</span><span class=w> </span><span class=n>dc</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>dc</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>dc</span><span class=p>.</span><span class=n>is_current</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>TRUE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>JOIN</span><span class=w> </span><span class=n>Dim_Product</span><span class=w> </span><span class=n>dp</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>product_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>dp</span><span class=p>.</span><span class=n>product_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>JOIN</span><span class=w> </span><span class=n>Dim_Time</span><span class=w> </span><span class=n>dt</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=nb>DATE</span><span class=p>(</span><span class=n>o</span><span class=p>.</span><span class=n>order_date</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>dt</span><span class=p>.</span><span class=nb>date</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 4. 분석 쿼리 (비정규화로 조인 감소)
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>dt</span><span class=p>.</span><span class=k>year</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>dt</span><span class=p>.</span><span class=k>month</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>dc</span><span class=p>.</span><span class=n>city</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>dp</span><span class=p>.</span><span class=n>category_name</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SUM</span><span class=p>(</span><span class=n>fs</span><span class=p>.</span><span class=n>total_amount</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>revenue</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>COUNT</span><span class=p>(</span><span class=k>DISTINCT</span><span class=w> </span><span class=n>fs</span><span class=p>.</span><span class=n>customer_key</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>unique_customers</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Fact_Sales</span><span class=w> </span><span class=n>fs</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>JOIN</span><span class=w> </span><span class=n>Dim_Time</span><span class=w> </span><span class=n>dt</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>fs</span><span class=p>.</span><span class=n>time_key</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>dt</span><span class=p>.</span><span class=n>time_key</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>JOIN</span><span class=w> </span><span class=n>Dim_Customer</span><span class=w> </span><span class=n>dc</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>fs</span><span class=p>.</span><span class=n>customer_key</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>dc</span><span class=p>.</span><span class=n>customer_key</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>JOIN</span><span class=w> </span><span class=n>Dim_Product</span><span class=w> </span><span class=n>dp</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>fs</span><span class=p>.</span><span class=n>product_key</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>dp</span><span class=p>.</span><span class=n>product_key</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>WHERE</span><span class=w> </span><span class=n>dt</span><span class=p>.</span><span class=k>year</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2024</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>dt</span><span class=p>.</span><span class=k>year</span><span class=p>,</span><span class=w> </span><span class=n>dt</span><span class=p>.</span><span class=k>month</span><span class=p>,</span><span class=w> </span><span class=n>dc</span><span class=p>.</span><span class=n>city</span><span class=p>,</span><span class=w> </span><span class=n>dp</span><span class=p>.</span><span class=n>category_name</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>통합의 가치</strong>:</p><ul><li>ER 모델이 DW 설계의 기준 제공</li><li>정규화 → 비정규화 변환 규칙 명확</li><li>OLTP와 OLAP 워크로드 분리로 성능 최적화</li></ul><h5 id=535-nosql-데이터베이스와의-하이브리드-구조>5.3.5 NoSQL 데이터베이스와의 하이브리드 구조<a hidden class=anchor aria-hidden=true href=#535-nosql-데이터베이스와의-하이브리드-구조>#</a></h5><p><strong>통합 배경</strong>:</p><ul><li>정형 데이터(ER 모델) + 비정형 데이터(NoSQL) 함께 관리</li><li>Polyglot Persistence (다중 저장소 전략)</li></ul><p><strong>통합 패턴</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-107-1><a class=lnlinks href=#hl-107-1> 1</a>
</span><span class=lnt id=hl-107-2><a class=lnlinks href=#hl-107-2> 2</a>
</span><span class=lnt id=hl-107-3><a class=lnlinks href=#hl-107-3> 3</a>
</span><span class=lnt id=hl-107-4><a class=lnlinks href=#hl-107-4> 4</a>
</span><span class=lnt id=hl-107-5><a class=lnlinks href=#hl-107-5> 5</a>
</span><span class=lnt id=hl-107-6><a class=lnlinks href=#hl-107-6> 6</a>
</span><span class=lnt id=hl-107-7><a class=lnlinks href=#hl-107-7> 7</a>
</span><span class=lnt id=hl-107-8><a class=lnlinks href=#hl-107-8> 8</a>
</span><span class=lnt id=hl-107-9><a class=lnlinks href=#hl-107-9> 9</a>
</span><span class=lnt id=hl-107-10><a class=lnlinks href=#hl-107-10>10</a>
</span><span class=lnt id=hl-107-11><a class=lnlinks href=#hl-107-11>11</a>
</span><span class=lnt id=hl-107-12><a class=lnlinks href=#hl-107-12>12</a>
</span><span class=lnt id=hl-107-13><a class=lnlinks href=#hl-107-13>13</a>
</span><span class=lnt id=hl-107-14><a class=lnlinks href=#hl-107-14>14</a>
</span><span class=lnt id=hl-107-15><a class=lnlinks href=#hl-107-15>15</a>
</span><span class=lnt id=hl-107-16><a class=lnlinks href=#hl-107-16>16</a>
</span><span class=lnt id=hl-107-17><a class=lnlinks href=#hl-107-17>17</a>
</span><span class=lnt id=hl-107-18><a class=lnlinks href=#hl-107-18>18</a>
</span><span class=lnt id=hl-107-19><a class=lnlinks href=#hl-107-19>19</a>
</span><span class=lnt id=hl-107-20><a class=lnlinks href=#hl-107-20>20</a>
</span><span class=lnt id=hl-107-21><a class=lnlinks href=#hl-107-21>21</a>
</span><span class=lnt id=hl-107-22><a class=lnlinks href=#hl-107-22>22</a>
</span><span class=lnt id=hl-107-23><a class=lnlinks href=#hl-107-23>23</a>
</span><span class=lnt id=hl-107-24><a class=lnlinks href=#hl-107-24>24</a>
</span><span class=lnt id=hl-107-25><a class=lnlinks href=#hl-107-25>25</a>
</span><span class=lnt id=hl-107-26><a class=lnlinks href=#hl-107-26>26</a>
</span><span class=lnt id=hl-107-27><a class=lnlinks href=#hl-107-27>27</a>
</span><span class=lnt id=hl-107-28><a class=lnlinks href=#hl-107-28>28</a>
</span><span class=lnt id=hl-107-29><a class=lnlinks href=#hl-107-29>29</a>
</span><span class=lnt id=hl-107-30><a class=lnlinks href=#hl-107-30>30</a>
</span><span class=lnt id=hl-107-31><a class=lnlinks href=#hl-107-31>31</a>
</span><span class=lnt id=hl-107-32><a class=lnlinks href=#hl-107-32>32</a>
</span><span class=lnt id=hl-107-33><a class=lnlinks href=#hl-107-33>33</a>
</span><span class=lnt id=hl-107-34><a class=lnlinks href=#hl-107-34>34</a>
</span><span class=lnt id=hl-107-35><a class=lnlinks href=#hl-107-35>35</a>
</span><span class=lnt id=hl-107-36><a class=lnlinks href=#hl-107-36>36</a>
</span><span class=lnt id=hl-107-37><a class=lnlinks href=#hl-107-37>37</a>
</span><span class=lnt id=hl-107-38><a class=lnlinks href=#hl-107-38>38</a>
</span><span class=lnt id=hl-107-39><a class=lnlinks href=#hl-107-39>39</a>
</span><span class=lnt id=hl-107-40><a class=lnlinks href=#hl-107-40>40</a>
</span><span class=lnt id=hl-107-41><a class=lnlinks href=#hl-107-41>41</a>
</span><span class=lnt id=hl-107-42><a class=lnlinks href=#hl-107-42>42</a>
</span><span class=lnt id=hl-107-43><a class=lnlinks href=#hl-107-43>43</a>
</span><span class=lnt id=hl-107-44><a class=lnlinks href=#hl-107-44>44</a>
</span><span class=lnt id=hl-107-45><a class=lnlinks href=#hl-107-45>45</a>
</span><span class=lnt id=hl-107-46><a class=lnlinks href=#hl-107-46>46</a>
</span><span class=lnt id=hl-107-47><a class=lnlinks href=#hl-107-47>47</a>
</span><span class=lnt id=hl-107-48><a class=lnlinks href=#hl-107-48>48</a>
</span><span class=lnt id=hl-107-49><a class=lnlinks href=#hl-107-49>49</a>
</span><span class=lnt id=hl-107-50><a class=lnlinks href=#hl-107-50>50</a>
</span><span class=lnt id=hl-107-51><a class=lnlinks href=#hl-107-51>51</a>
</span><span class=lnt id=hl-107-52><a class=lnlinks href=#hl-107-52>52</a>
</span><span class=lnt id=hl-107-53><a class=lnlinks href=#hl-107-53>53</a>
</span><span class=lnt id=hl-107-54><a class=lnlinks href=#hl-107-54>54</a>
</span><span class=lnt id=hl-107-55><a class=lnlinks href=#hl-107-55>55</a>
</span><span class=lnt id=hl-107-56><a class=lnlinks href=#hl-107-56>56</a>
</span><span class=lnt id=hl-107-57><a class=lnlinks href=#hl-107-57>57</a>
</span><span class=lnt id=hl-107-58><a class=lnlinks href=#hl-107-58>58</a>
</span><span class=lnt id=hl-107-59><a class=lnlinks href=#hl-107-59>59</a>
</span><span class=lnt id=hl-107-60><a class=lnlinks href=#hl-107-60>60</a>
</span><span class=lnt id=hl-107-61><a class=lnlinks href=#hl-107-61>61</a>
</span><span class=lnt id=hl-107-62><a class=lnlinks href=#hl-107-62>62</a>
</span><span class=lnt id=hl-107-63><a class=lnlinks href=#hl-107-63>63</a>
</span><span class=lnt id=hl-107-64><a class=lnlinks href=#hl-107-64>64</a>
</span><span class=lnt id=hl-107-65><a class=lnlinks href=#hl-107-65>65</a>
</span><span class=lnt id=hl-107-66><a class=lnlinks href=#hl-107-66>66</a>
</span><span class=lnt id=hl-107-67><a class=lnlinks href=#hl-107-67>67</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 1. 관계형 DB에 코어 데이터 (ER 모델)
</span></span></span><span class=line><span class=cl><span class=c1>// MySQL: Customer, Order 테이블
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 2. MongoDB에 확장 데이터 (유연한 스키마)
</span></span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>orderExtensionSchema</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Schema</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=nx>order_id</span><span class=o>:</span> <span class=p>{</span> <span class=nx>type</span><span class=o>:</span> <span class=nb>Number</span><span class=p>,</span> <span class=nx>required</span><span class=o>:</span> <span class=kc>true</span> <span class=p>},</span>  <span class=c1>// ER 모델 연결
</span></span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 비정형 데이터
</span></span></span><span class=line><span class=cl>    <span class=nx>customer_notes</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>delivery_instructions</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>metadata</span><span class=o>:</span> <span class=nx>Schema</span><span class=p>.</span><span class=nx>Types</span><span class=p>.</span><span class=nx>Mixed</span><span class=p>,</span>  <span class=c1>// 자유 형식
</span></span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 배열 (다중값 속성 대체)
</span></span></span><span class=line><span class=cl>    <span class=nx>tags</span><span class=o>:</span> <span class=p>[</span><span class=nb>String</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nx>attachments</span><span class=o>:</span> <span class=p>[{</span>
</span></span><span class=line><span class=cl>        <span class=nx>filename</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>url</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>uploaded_at</span><span class=o>:</span> <span class=nb>Date</span>
</span></span><span class=line><span class=cl>    <span class=p>}],</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 중첩 문서
</span></span></span><span class=line><span class=cl>    <span class=nx>tracking_history</span><span class=o>:</span> <span class=p>[{</span>
</span></span><span class=line><span class=cl>        <span class=nx>timestamp</span><span class=o>:</span> <span class=nb>Date</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>status</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>location</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>lat</span><span class=o>:</span> <span class=nb>Number</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>lng</span><span class=o>:</span> <span class=nb>Number</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}]</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 3. 통합 조회 (관계형 + NoSQL)
</span></span></span><span class=line><span class=cl><span class=kr>async</span> <span class=kd>function</span> <span class=nx>getOrderDetails</span><span class=p>(</span><span class=nx>orderId</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 관계형 DB에서 구조화 데이터
</span></span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>order</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>Order</span><span class=p>.</span><span class=nx>findByPk</span><span class=p>(</span><span class=nx>orderId</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>include</span><span class=o>:</span> <span class=p>[</span><span class=nx>Customer</span><span class=p>,</span> <span class=nx>OrderItem</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// MongoDB에서 확장 데이터
</span></span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>extension</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>OrderExtension</span><span class=p>.</span><span class=nx>findOne</span><span class=p>({</span> <span class=nx>order_id</span><span class=o>:</span> <span class=nx>orderId</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 통합 반환
</span></span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=p>...</span><span class=nx>order</span><span class=p>.</span><span class=nx>toJSON</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>        <span class=nx>extension</span><span class=o>:</span> <span class=nx>extension</span> <span class=o>||</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 4. Redis 캐시 레이어 (성능 최적화)
</span></span></span><span class=line><span class=cl><span class=kr>async</span> <span class=kd>function</span> <span class=nx>getCachedOrder</span><span class=p>(</span><span class=nx>orderId</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>cacheKey</span> <span class=o>=</span> <span class=sb>`order:</span><span class=si>${</span><span class=nx>orderId</span><span class=si>}</span><span class=sb>`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 1차: Redis 캐시 확인
</span></span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>order</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>redis</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>cacheKey</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>order</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 2차: 관계형 DB + NoSQL 조회
</span></span></span><span class=line><span class=cl>        <span class=nx>order</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>getOrderDetails</span><span class=p>(</span><span class=nx>orderId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// 캐시 저장 (TTL 1시간)
</span></span></span><span class=line><span class=cl>        <span class=kr>await</span> <span class=nx>redis</span><span class=p>.</span><span class=nx>setex</span><span class=p>(</span><span class=nx>cacheKey</span><span class=p>,</span> <span class=mi>3600</span><span class=p>,</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>order</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>order</span> <span class=o>=</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>order</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>order</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Graph DB 통합</strong> (복잡한 관계 탐색):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-108-1><a class=lnlinks href=#hl-108-1> 1</a>
</span><span class=lnt id=hl-108-2><a class=lnlinks href=#hl-108-2> 2</a>
</span><span class=lnt id=hl-108-3><a class=lnlinks href=#hl-108-3> 3</a>
</span><span class=lnt id=hl-108-4><a class=lnlinks href=#hl-108-4> 4</a>
</span><span class=lnt id=hl-108-5><a class=lnlinks href=#hl-108-5> 5</a>
</span><span class=lnt id=hl-108-6><a class=lnlinks href=#hl-108-6> 6</a>
</span><span class=lnt id=hl-108-7><a class=lnlinks href=#hl-108-7> 7</a>
</span><span class=lnt id=hl-108-8><a class=lnlinks href=#hl-108-8> 8</a>
</span><span class=lnt id=hl-108-9><a class=lnlinks href=#hl-108-9> 9</a>
</span><span class=lnt id=hl-108-10><a class=lnlinks href=#hl-108-10>10</a>
</span><span class=lnt id=hl-108-11><a class=lnlinks href=#hl-108-11>11</a>
</span><span class=lnt id=hl-108-12><a class=lnlinks href=#hl-108-12>12</a>
</span><span class=lnt id=hl-108-13><a class=lnlinks href=#hl-108-13>13</a>
</span><span class=lnt id=hl-108-14><a class=lnlinks href=#hl-108-14>14</a>
</span><span class=lnt id=hl-108-15><a class=lnlinks href=#hl-108-15>15</a>
</span><span class=lnt id=hl-108-16><a class=lnlinks href=#hl-108-16>16</a>
</span><span class=lnt id=hl-108-17><a class=lnlinks href=#hl-108-17>17</a>
</span><span class=lnt id=hl-108-18><a class=lnlinks href=#hl-108-18>18</a>
</span><span class=lnt id=hl-108-19><a class=lnlinks href=#hl-108-19>19</a>
</span><span class=lnt id=hl-108-20><a class=lnlinks href=#hl-108-20>20</a>
</span><span class=lnt id=hl-108-21><a class=lnlinks href=#hl-108-21>21</a>
</span><span class=lnt id=hl-108-22><a class=lnlinks href=#hl-108-22>22</a>
</span><span class=lnt id=hl-108-23><a class=lnlinks href=#hl-108-23>23</a>
</span><span class=lnt id=hl-108-24><a class=lnlinks href=#hl-108-24>24</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Neo4j: ER 모델의 관계를 그래프로 표현
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// 1. 노드 생성 (개체 → 노드)
</span></span><span class=line><span class=cl>CREATE (c:Customer {customer_id: 1, name: &#39;김철수&#39;})
</span></span><span class=line><span class=cl>CREATE (p:Product {product_id: 101, name: &#39;노트북&#39;})
</span></span><span class=line><span class=cl>CREATE (cat:Category {category_id: 10, name: &#39;전자제품&#39;})
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// 2. 관계 생성 (ER 관계 → 엣지)
</span></span><span class=line><span class=cl>MATCH (c:Customer {customer_id: 1})
</span></span><span class=line><span class=cl>MATCH (p:Product {product_id: 101})
</span></span><span class=line><span class=cl>CREATE (c)-[:PURCHASED {date: date(), quantity: 1}]-&gt;(p)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>MATCH (p:Product {product_id: 101})
</span></span><span class=line><span class=cl>MATCH (cat:Category {category_id: 10})
</span></span><span class=line><span class=cl>CREATE (p)-[:BELONGS_TO]-&gt;(cat)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// 3. 추천 알고리즘 (ER 모델로 어려운 쿼리)
</span></span><span class=line><span class=cl>// &#34;나와 비슷한 고객이 구매한 상품 추천&#34;
</span></span><span class=line><span class=cl>MATCH (me:Customer {customer_id: 1})-[:PURCHASED]-&gt;(p:Product)
</span></span><span class=line><span class=cl>      &lt;-[:PURCHASED]-(similar:Customer)-[:PURCHASED]-&gt;(rec:Product)
</span></span><span class=line><span class=cl>WHERE NOT (me)-[:PURCHASED]-&gt;(rec)
</span></span><span class=line><span class=cl>RETURN rec.name, COUNT(*) AS score
</span></span><span class=line><span class=cl>ORDER BY score DESC
</span></span><span class=line><span class=cl>LIMIT 10
</span></span></code></pre></td></tr></table></div></div><p><strong>통합의 가치</strong>:</p><ul><li>ER 모델로 핵심 데이터 무결성 보장</li><li>NoSQL로 유연성 확보 (스키마 변경 용이)</li><li>각 저장소의 강점 활용 (ACID vs BASE)</li></ul><hr><h3 id=phase-6-운영-및-최적화-1>Phase 6: 운영 및 최적화<a hidden class=anchor aria-hidden=true href=#phase-6-운영-및-최적화-1>#</a></h3><h4 id=61-모니터링-및-관측성>6.1 모니터링 및 관측성<a hidden class=anchor aria-hidden=true href=#61-모니터링-및-관측성>#</a></h4><p>ER Modeling으로 설계된 데이터베이스의 효과적 운영을 위해서는 체계적인 모니터링이 필수입니다.</p><h5 id=611-모니터링-대상-및-전략>6.1.1 모니터링 대상 및 전략<a hidden class=anchor aria-hidden=true href=#611-모니터링-대상-및-전략>#</a></h5><p><strong>왜 모니터링하는가</strong>:</p><ul><li>데이터 무결성 위반 조기 감지</li><li>성능 병목 지점 식별</li><li>용량 계획 및 확장 시점 예측</li><li>SLA(Service Level Agreement) 준수 확인</li></ul><p><strong>무엇을 모니터링하는가</strong>:</p><table><thead><tr><th>모니터링 영역</th><th>주요 지표</th><th>ER 모델 연관성</th><th>임계값 예시</th></tr></thead><tbody><tr><td>참조 무결성</td><td>외래키 제약 위반 건수</td><td>관계 구현의 정확성</td><td>0건 (위반 시 알림)</td></tr><tr><td>데이터 품질</td><td>NULL 비율, 중복 레코드</td><td>정규화 준수 여부</td><td>NULL &lt; 5%</td></tr><tr><td>쿼리 성능</td><td>평균 응답시간, 느린 쿼리</td><td>조인 복잡도, 인덱스 효율</td><td>응답시간 &lt; 100ms</td></tr><tr><td>동시성</td><td>락 대기 시간, 데드락 발생</td><td>트랜잭션 설계</td><td>데드락 &lt; 1건/일</td></tr><tr><td>용량</td><td>테이블 크기, 증가율</td><td>개체별 데이터 증가</td><td>80% 임계 시 확장</td></tr><tr><td>관계 효율성</td><td>조인 비율, 카디널리티 변화</td><td>관계 설계 적절성</td><td>조인 깊이 &lt; 5</td></tr></tbody></table><p><strong>어떻게 모니터링하는가</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-109-1><a class=lnlinks href=#hl-109-1> 1</a>
</span><span class=lnt id=hl-109-2><a class=lnlinks href=#hl-109-2> 2</a>
</span><span class=lnt id=hl-109-3><a class=lnlinks href=#hl-109-3> 3</a>
</span><span class=lnt id=hl-109-4><a class=lnlinks href=#hl-109-4> 4</a>
</span><span class=lnt id=hl-109-5><a class=lnlinks href=#hl-109-5> 5</a>
</span><span class=lnt id=hl-109-6><a class=lnlinks href=#hl-109-6> 6</a>
</span><span class=lnt id=hl-109-7><a class=lnlinks href=#hl-109-7> 7</a>
</span><span class=lnt id=hl-109-8><a class=lnlinks href=#hl-109-8> 8</a>
</span><span class=lnt id=hl-109-9><a class=lnlinks href=#hl-109-9> 9</a>
</span><span class=lnt id=hl-109-10><a class=lnlinks href=#hl-109-10>10</a>
</span><span class=lnt id=hl-109-11><a class=lnlinks href=#hl-109-11>11</a>
</span><span class=lnt id=hl-109-12><a class=lnlinks href=#hl-109-12>12</a>
</span><span class=lnt id=hl-109-13><a class=lnlinks href=#hl-109-13>13</a>
</span><span class=lnt id=hl-109-14><a class=lnlinks href=#hl-109-14>14</a>
</span><span class=lnt id=hl-109-15><a class=lnlinks href=#hl-109-15>15</a>
</span><span class=lnt id=hl-109-16><a class=lnlinks href=#hl-109-16>16</a>
</span><span class=lnt id=hl-109-17><a class=lnlinks href=#hl-109-17>17</a>
</span><span class=lnt id=hl-109-18><a class=lnlinks href=#hl-109-18>18</a>
</span><span class=lnt id=hl-109-19><a class=lnlinks href=#hl-109-19>19</a>
</span><span class=lnt id=hl-109-20><a class=lnlinks href=#hl-109-20>20</a>
</span><span class=lnt id=hl-109-21><a class=lnlinks href=#hl-109-21>21</a>
</span><span class=lnt id=hl-109-22><a class=lnlinks href=#hl-109-22>22</a>
</span><span class=lnt id=hl-109-23><a class=lnlinks href=#hl-109-23>23</a>
</span><span class=lnt id=hl-109-24><a class=lnlinks href=#hl-109-24>24</a>
</span><span class=lnt id=hl-109-25><a class=lnlinks href=#hl-109-25>25</a>
</span><span class=lnt id=hl-109-26><a class=lnlinks href=#hl-109-26>26</a>
</span><span class=lnt id=hl-109-27><a class=lnlinks href=#hl-109-27>27</a>
</span><span class=lnt id=hl-109-28><a class=lnlinks href=#hl-109-28>28</a>
</span><span class=lnt id=hl-109-29><a class=lnlinks href=#hl-109-29>29</a>
</span><span class=lnt id=hl-109-30><a class=lnlinks href=#hl-109-30>30</a>
</span><span class=lnt id=hl-109-31><a class=lnlinks href=#hl-109-31>31</a>
</span><span class=lnt id=hl-109-32><a class=lnlinks href=#hl-109-32>32</a>
</span><span class=lnt id=hl-109-33><a class=lnlinks href=#hl-109-33>33</a>
</span><span class=lnt id=hl-109-34><a class=lnlinks href=#hl-109-34>34</a>
</span><span class=lnt id=hl-109-35><a class=lnlinks href=#hl-109-35>35</a>
</span><span class=lnt id=hl-109-36><a class=lnlinks href=#hl-109-36>36</a>
</span><span class=lnt id=hl-109-37><a class=lnlinks href=#hl-109-37>37</a>
</span><span class=lnt id=hl-109-38><a class=lnlinks href=#hl-109-38>38</a>
</span><span class=lnt id=hl-109-39><a class=lnlinks href=#hl-109-39>39</a>
</span><span class=lnt id=hl-109-40><a class=lnlinks href=#hl-109-40>40</a>
</span><span class=lnt id=hl-109-41><a class=lnlinks href=#hl-109-41>41</a>
</span><span class=lnt id=hl-109-42><a class=lnlinks href=#hl-109-42>42</a>
</span><span class=lnt id=hl-109-43><a class=lnlinks href=#hl-109-43>43</a>
</span><span class=lnt id=hl-109-44><a class=lnlinks href=#hl-109-44>44</a>
</span><span class=lnt id=hl-109-45><a class=lnlinks href=#hl-109-45>45</a>
</span><span class=lnt id=hl-109-46><a class=lnlinks href=#hl-109-46>46</a>
</span><span class=lnt id=hl-109-47><a class=lnlinks href=#hl-109-47>47</a>
</span><span class=lnt id=hl-109-48><a class=lnlinks href=#hl-109-48>48</a>
</span><span class=lnt id=hl-109-49><a class=lnlinks href=#hl-109-49>49</a>
</span><span class=lnt id=hl-109-50><a class=lnlinks href=#hl-109-50>50</a>
</span><span class=lnt id=hl-109-51><a class=lnlinks href=#hl-109-51>51</a>
</span><span class=lnt id=hl-109-52><a class=lnlinks href=#hl-109-52>52</a>
</span><span class=lnt id=hl-109-53><a class=lnlinks href=#hl-109-53>53</a>
</span><span class=lnt id=hl-109-54><a class=lnlinks href=#hl-109-54>54</a>
</span><span class=lnt id=hl-109-55><a class=lnlinks href=#hl-109-55>55</a>
</span><span class=lnt id=hl-109-56><a class=lnlinks href=#hl-109-56>56</a>
</span><span class=lnt id=hl-109-57><a class=lnlinks href=#hl-109-57>57</a>
</span><span class=lnt id=hl-109-58><a class=lnlinks href=#hl-109-58>58</a>
</span><span class=lnt id=hl-109-59><a class=lnlinks href=#hl-109-59>59</a>
</span><span class=lnt id=hl-109-60><a class=lnlinks href=#hl-109-60>60</a>
</span><span class=lnt id=hl-109-61><a class=lnlinks href=#hl-109-61>61</a>
</span><span class=lnt id=hl-109-62><a class=lnlinks href=#hl-109-62>62</a>
</span><span class=lnt id=hl-109-63><a class=lnlinks href=#hl-109-63>63</a>
</span><span class=lnt id=hl-109-64><a class=lnlinks href=#hl-109-64>64</a>
</span><span class=lnt id=hl-109-65><a class=lnlinks href=#hl-109-65>65</a>
</span><span class=lnt id=hl-109-66><a class=lnlinks href=#hl-109-66>66</a>
</span><span class=lnt id=hl-109-67><a class=lnlinks href=#hl-109-67>67</a>
</span><span class=lnt id=hl-109-68><a class=lnlinks href=#hl-109-68>68</a>
</span><span class=lnt id=hl-109-69><a class=lnlinks href=#hl-109-69>69</a>
</span><span class=lnt id=hl-109-70><a class=lnlinks href=#hl-109-70>70</a>
</span><span class=lnt id=hl-109-71><a class=lnlinks href=#hl-109-71>71</a>
</span><span class=lnt id=hl-109-72><a class=lnlinks href=#hl-109-72>72</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 1. 외래키 제약 위반 감지 (MySQL)
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>TABLE_NAME</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>CONSTRAINT_NAME</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>REFERENCED_TABLE_NAME</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>information_schema</span><span class=p>.</span><span class=n>KEY_COLUMN_USAGE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>WHERE</span><span class=w> </span><span class=n>REFERENCED_TABLE_SCHEMA</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;your_database&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>AND</span><span class=w> </span><span class=k>TABLE_NAME</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=k>DISTINCT</span><span class=w> </span><span class=k>TABLE_NAME</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FROM</span><span class=w> </span><span class=n>information_schema</span><span class=p>.</span><span class=n>TABLES</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>TABLE_SCHEMA</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;your_database&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 고아 레코드 (Orphaned Records) 탐지
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=k>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>orphaned_orders</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=n>o</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=k>c</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>WHERE</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=k>IS</span><span class=w> </span><span class=k>NULL</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 2. 데이터 품질 모니터링
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s1>&#39;Customer&#39;</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=k>table_name</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>total_rows</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SUM</span><span class=p>(</span><span class=k>CASE</span><span class=w> </span><span class=k>WHEN</span><span class=w> </span><span class=n>email</span><span class=w> </span><span class=k>IS</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=k>ELSE</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=k>END</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>null_emails</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SUM</span><span class=p>(</span><span class=k>CASE</span><span class=w> </span><span class=k>WHEN</span><span class=w> </span><span class=n>email</span><span class=w> </span><span class=k>IS</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=k>ELSE</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=k>END</span><span class=p>)</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>100</span><span class=p>.</span><span class=mi>0</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=k>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>null_percentage</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Customer</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>UNION</span><span class=w> </span><span class=k>ALL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s1>&#39;Product&#39;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SUM</span><span class=p>(</span><span class=k>CASE</span><span class=w> </span><span class=k>WHEN</span><span class=w> </span><span class=n>price</span><span class=w> </span><span class=k>IS</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=k>ELSE</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=k>END</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SUM</span><span class=p>(</span><span class=k>CASE</span><span class=w> </span><span class=k>WHEN</span><span class=w> </span><span class=n>price</span><span class=w> </span><span class=k>IS</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=k>ELSE</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=k>END</span><span class=p>)</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>100</span><span class=p>.</span><span class=mi>0</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=k>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Product</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 3. 느린 쿼리 분석 (조인 복잡도 확인)
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>query_time</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>lock_time</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>rows_examined</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>rows_sent</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>sql_text</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>mysql</span><span class=p>.</span><span class=n>slow_log</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>WHERE</span><span class=w> </span><span class=n>sql_text</span><span class=w> </span><span class=k>LIKE</span><span class=w> </span><span class=s1>&#39;%JOIN%&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>query_time</span><span class=w> </span><span class=k>DESC</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>LIMIT</span><span class=w> </span><span class=mi>20</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 4. 카디널리티 변화 추적 (1:N 관계 모니터링)
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>c</span><span class=p>.</span><span class=n>name</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>COUNT</span><span class=p>(</span><span class=n>o</span><span class=p>.</span><span class=n>order_id</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>order_count</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>CASE</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=k>COUNT</span><span class=p>(</span><span class=n>o</span><span class=p>.</span><span class=n>order_id</span><span class=p>)</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>100</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;Abnormal&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHEN</span><span class=w> </span><span class=k>COUNT</span><span class=p>(</span><span class=n>o</span><span class=p>.</span><span class=n>order_id</span><span class=p>)</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>50</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=s1>&#39;High&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ELSE</span><span class=w> </span><span class=s1>&#39;Normal&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>END</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>status</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=k>c</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=n>o</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>customer_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=p>,</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>HAVING</span><span class=w> </span><span class=k>COUNT</span><span class=p>(</span><span class=n>o</span><span class=p>.</span><span class=n>order_id</span><span class=p>)</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>50</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 5. 테이블 용량 및 증가율
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>TABLE_NAME</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>ROUND</span><span class=p>((</span><span class=n>DATA_LENGTH</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>INDEX_LENGTH</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>size_mb</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>TABLE_ROWS</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>ROUND</span><span class=p>(</span><span class=n>TABLE_ROWS</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=p>((</span><span class=n>DATA_LENGTH</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>INDEX_LENGTH</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=p>),</span><span class=w> </span><span class=mi>0</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>rows_per_mb</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>information_schema</span><span class=p>.</span><span class=n>TABLES</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>WHERE</span><span class=w> </span><span class=n>TABLE_SCHEMA</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;your_database&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=p>(</span><span class=n>DATA_LENGTH</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>INDEX_LENGTH</span><span class=p>)</span><span class=w> </span><span class=k>DESC</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>모니터링 도구 스택</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-110-1><a class=lnlinks href=#hl-110-1> 1</a>
</span><span class=lnt id=hl-110-2><a class=lnlinks href=#hl-110-2> 2</a>
</span><span class=lnt id=hl-110-3><a class=lnlinks href=#hl-110-3> 3</a>
</span><span class=lnt id=hl-110-4><a class=lnlinks href=#hl-110-4> 4</a>
</span><span class=lnt id=hl-110-5><a class=lnlinks href=#hl-110-5> 5</a>
</span><span class=lnt id=hl-110-6><a class=lnlinks href=#hl-110-6> 6</a>
</span><span class=lnt id=hl-110-7><a class=lnlinks href=#hl-110-7> 7</a>
</span><span class=lnt id=hl-110-8><a class=lnlinks href=#hl-110-8> 8</a>
</span><span class=lnt id=hl-110-9><a class=lnlinks href=#hl-110-9> 9</a>
</span><span class=lnt id=hl-110-10><a class=lnlinks href=#hl-110-10>10</a>
</span><span class=lnt id=hl-110-11><a class=lnlinks href=#hl-110-11>11</a>
</span><span class=lnt id=hl-110-12><a class=lnlinks href=#hl-110-12>12</a>
</span><span class=lnt id=hl-110-13><a class=lnlinks href=#hl-110-13>13</a>
</span><span class=lnt id=hl-110-14><a class=lnlinks href=#hl-110-14>14</a>
</span><span class=lnt id=hl-110-15><a class=lnlinks href=#hl-110-15>15</a>
</span><span class=lnt id=hl-110-16><a class=lnlinks href=#hl-110-16>16</a>
</span><span class=lnt id=hl-110-17><a class=lnlinks href=#hl-110-17>17</a>
</span><span class=lnt id=hl-110-18><a class=lnlinks href=#hl-110-18>18</a>
</span><span class=lnt id=hl-110-19><a class=lnlinks href=#hl-110-19>19</a>
</span><span class=lnt id=hl-110-20><a class=lnlinks href=#hl-110-20>20</a>
</span><span class=lnt id=hl-110-21><a class=lnlinks href=#hl-110-21>21</a>
</span><span class=lnt id=hl-110-22><a class=lnlinks href=#hl-110-22>22</a>
</span><span class=lnt id=hl-110-23><a class=lnlinks href=#hl-110-23>23</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># Prometheus + Grafana 설정 예시</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># ER 모델 메트릭 수집</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>scrape_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>job_name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;mysql_exporter&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>static_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>targets</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s1>&#39;localhost:9104&#39;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metric_relabel_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># 외래키 제약 위반 추적</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>source_labels</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>__name__]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>regex</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;mysql_global_status_innodb_fk_constraint_violations&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class=l>keep</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># 테이블별 행 수 추적 (개체별 증가율)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>source_labels</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>__name__]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>regex</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;mysql_info_schema_table_rows&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class=l>keep</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># Grafana 대시보드 쿼리</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># 1:N 관계의 N 측 증가율</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>rate(mysql_info_schema_table_rows{table=&#34;Orders&#34;}[5m]) /</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>rate(mysql_info_schema_table_rows{table=&#34;Customer&#34;}[5m])</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>관측성(Observability) 구현</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-111-1><a class=lnlinks href=#hl-111-1> 1</a>
</span><span class=lnt id=hl-111-2><a class=lnlinks href=#hl-111-2> 2</a>
</span><span class=lnt id=hl-111-3><a class=lnlinks href=#hl-111-3> 3</a>
</span><span class=lnt id=hl-111-4><a class=lnlinks href=#hl-111-4> 4</a>
</span><span class=lnt id=hl-111-5><a class=lnlinks href=#hl-111-5> 5</a>
</span><span class=lnt id=hl-111-6><a class=lnlinks href=#hl-111-6> 6</a>
</span><span class=lnt id=hl-111-7><a class=lnlinks href=#hl-111-7> 7</a>
</span><span class=lnt id=hl-111-8><a class=lnlinks href=#hl-111-8> 8</a>
</span><span class=lnt id=hl-111-9><a class=lnlinks href=#hl-111-9> 9</a>
</span><span class=lnt id=hl-111-10><a class=lnlinks href=#hl-111-10>10</a>
</span><span class=lnt id=hl-111-11><a class=lnlinks href=#hl-111-11>11</a>
</span><span class=lnt id=hl-111-12><a class=lnlinks href=#hl-111-12>12</a>
</span><span class=lnt id=hl-111-13><a class=lnlinks href=#hl-111-13>13</a>
</span><span class=lnt id=hl-111-14><a class=lnlinks href=#hl-111-14>14</a>
</span><span class=lnt id=hl-111-15><a class=lnlinks href=#hl-111-15>15</a>
</span><span class=lnt id=hl-111-16><a class=lnlinks href=#hl-111-16>16</a>
</span><span class=lnt id=hl-111-17><a class=lnlinks href=#hl-111-17>17</a>
</span><span class=lnt id=hl-111-18><a class=lnlinks href=#hl-111-18>18</a>
</span><span class=lnt id=hl-111-19><a class=lnlinks href=#hl-111-19>19</a>
</span><span class=lnt id=hl-111-20><a class=lnlinks href=#hl-111-20>20</a>
</span><span class=lnt id=hl-111-21><a class=lnlinks href=#hl-111-21>21</a>
</span><span class=lnt id=hl-111-22><a class=lnlinks href=#hl-111-22>22</a>
</span><span class=lnt id=hl-111-23><a class=lnlinks href=#hl-111-23>23</a>
</span><span class=lnt id=hl-111-24><a class=lnlinks href=#hl-111-24>24</a>
</span><span class=lnt id=hl-111-25><a class=lnlinks href=#hl-111-25>25</a>
</span><span class=lnt id=hl-111-26><a class=lnlinks href=#hl-111-26>26</a>
</span><span class=lnt id=hl-111-27><a class=lnlinks href=#hl-111-27>27</a>
</span><span class=lnt id=hl-111-28><a class=lnlinks href=#hl-111-28>28</a>
</span><span class=lnt id=hl-111-29><a class=lnlinks href=#hl-111-29>29</a>
</span><span class=lnt id=hl-111-30><a class=lnlinks href=#hl-111-30>30</a>
</span><span class=lnt id=hl-111-31><a class=lnlinks href=#hl-111-31>31</a>
</span><span class=lnt id=hl-111-32><a class=lnlinks href=#hl-111-32>32</a>
</span><span class=lnt id=hl-111-33><a class=lnlinks href=#hl-111-33>33</a>
</span><span class=lnt id=hl-111-34><a class=lnlinks href=#hl-111-34>34</a>
</span><span class=lnt id=hl-111-35><a class=lnlinks href=#hl-111-35>35</a>
</span><span class=lnt id=hl-111-36><a class=lnlinks href=#hl-111-36>36</a>
</span><span class=lnt id=hl-111-37><a class=lnlinks href=#hl-111-37>37</a>
</span><span class=lnt id=hl-111-38><a class=lnlinks href=#hl-111-38>38</a>
</span><span class=lnt id=hl-111-39><a class=lnlinks href=#hl-111-39>39</a>
</span><span class=lnt id=hl-111-40><a class=lnlinks href=#hl-111-40>40</a>
</span><span class=lnt id=hl-111-41><a class=lnlinks href=#hl-111-41>41</a>
</span><span class=lnt id=hl-111-42><a class=lnlinks href=#hl-111-42>42</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># OpenTelemetry를 활용한 ER 관계 추적</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>opentelemetry</span> <span class=kn>import</span> <span class=n>trace</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>opentelemetry.trace</span> <span class=kn>import</span> <span class=n>Status</span><span class=p>,</span> <span class=n>StatusCode</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>tracer</span> <span class=o>=</span> <span class=n>trace</span><span class=o>.</span><span class=n>get_tracer</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>create_order_with_tracing</span><span class=p>(</span><span class=n>customer_id</span><span class=p>,</span> <span class=n>items</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># 1. 최상위 스팬: 전체 주문 프로세스</span>
</span></span><span class=line><span class=cl>    <span class=k>with</span> <span class=n>tracer</span><span class=o>.</span><span class=n>start_as_current_span</span><span class=p>(</span><span class=s2>&#34;create_order&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>span</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>span</span><span class=o>.</span><span class=n>set_attribute</span><span class=p>(</span><span class=s2>&#34;customer_id&#34;</span><span class=p>,</span> <span class=n>customer_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>span</span><span class=o>.</span><span class=n>set_attribute</span><span class=p>(</span><span class=s2>&#34;item_count&#34;</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>items</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 2. 고객 존재 확인 (외래키 제약 관련)</span>
</span></span><span class=line><span class=cl>        <span class=k>with</span> <span class=n>tracer</span><span class=o>.</span><span class=n>start_as_current_span</span><span class=p>(</span><span class=s2>&#34;verify_customer&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>customer</span> <span class=o>=</span> <span class=n>Customer</span><span class=o>.</span><span class=n>query</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>customer_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=n>customer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>span</span><span class=o>.</span><span class=n>set_status</span><span class=p>(</span><span class=n>Status</span><span class=p>(</span><span class=n>StatusCode</span><span class=o>.</span><span class=n>ERROR</span><span class=p>,</span> <span class=s2>&#34;Customer not found&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&#34;Invalid customer&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 3. 주문 생성</span>
</span></span><span class=line><span class=cl>        <span class=k>with</span> <span class=n>tracer</span><span class=o>.</span><span class=n>start_as_current_span</span><span class=p>(</span><span class=s2>&#34;insert_order&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>order_span</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>order</span> <span class=o>=</span> <span class=n>Order</span><span class=p>(</span><span class=n>customer_id</span><span class=o>=</span><span class=n>customer_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>db</span><span class=o>.</span><span class=n>session</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>order</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>db</span><span class=o>.</span><span class=n>session</span><span class=o>.</span><span class=n>flush</span><span class=p>()</span>  <span class=c1># order_id 생성</span>
</span></span><span class=line><span class=cl>            <span class=n>order_span</span><span class=o>.</span><span class=n>set_attribute</span><span class=p>(</span><span class=s2>&#34;order_id&#34;</span><span class=p>,</span> <span class=n>order</span><span class=o>.</span><span class=n>id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 4. 주문 항목 추가 (약한 개체)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>idx</span><span class=p>,</span> <span class=n>item</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>items</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>with</span> <span class=n>tracer</span><span class=o>.</span><span class=n>start_as_current_span</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;insert_order_item_</span><span class=si>{</span><span class=n>idx</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>item_span</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>order_item</span> <span class=o>=</span> <span class=n>OrderItem</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                    <span class=n>order_id</span><span class=o>=</span><span class=n>order</span><span class=o>.</span><span class=n>id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=n>item_seq</span><span class=o>=</span><span class=n>idx</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=n>product_id</span><span class=o>=</span><span class=n>item</span><span class=p>[</span><span class=s1>&#39;product_id&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>                    <span class=n>quantity</span><span class=o>=</span><span class=n>item</span><span class=p>[</span><span class=s1>&#39;quantity&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                <span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>db</span><span class=o>.</span><span class=n>session</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>order_item</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>item_span</span><span class=o>.</span><span class=n>set_attribute</span><span class=p>(</span><span class=s2>&#34;product_id&#34;</span><span class=p>,</span> <span class=n>item</span><span class=p>[</span><span class=s1>&#39;product_id&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>db</span><span class=o>.</span><span class=n>session</span><span class=o>.</span><span class=n>commit</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>span</span><span class=o>.</span><span class=n>set_attribute</span><span class=p>(</span><span class=s2>&#34;status&#34;</span><span class=p>,</span> <span class=s2>&#34;success&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>order</span><span class=o>.</span><span class=n>id</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=612-이상-패턴-감지>6.1.2 이상 패턴 감지<a hidden class=anchor aria-hidden=true href=#612-이상-패턴-감지>#</a></h5><p><strong>ER 모델 기반 이상 패턴</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-112-1><a class=lnlinks href=#hl-112-1> 1</a>
</span><span class=lnt id=hl-112-2><a class=lnlinks href=#hl-112-2> 2</a>
</span><span class=lnt id=hl-112-3><a class=lnlinks href=#hl-112-3> 3</a>
</span><span class=lnt id=hl-112-4><a class=lnlinks href=#hl-112-4> 4</a>
</span><span class=lnt id=hl-112-5><a class=lnlinks href=#hl-112-5> 5</a>
</span><span class=lnt id=hl-112-6><a class=lnlinks href=#hl-112-6> 6</a>
</span><span class=lnt id=hl-112-7><a class=lnlinks href=#hl-112-7> 7</a>
</span><span class=lnt id=hl-112-8><a class=lnlinks href=#hl-112-8> 8</a>
</span><span class=lnt id=hl-112-9><a class=lnlinks href=#hl-112-9> 9</a>
</span><span class=lnt id=hl-112-10><a class=lnlinks href=#hl-112-10>10</a>
</span><span class=lnt id=hl-112-11><a class=lnlinks href=#hl-112-11>11</a>
</span><span class=lnt id=hl-112-12><a class=lnlinks href=#hl-112-12>12</a>
</span><span class=lnt id=hl-112-13><a class=lnlinks href=#hl-112-13>13</a>
</span><span class=lnt id=hl-112-14><a class=lnlinks href=#hl-112-14>14</a>
</span><span class=lnt id=hl-112-15><a class=lnlinks href=#hl-112-15>15</a>
</span><span class=lnt id=hl-112-16><a class=lnlinks href=#hl-112-16>16</a>
</span><span class=lnt id=hl-112-17><a class=lnlinks href=#hl-112-17>17</a>
</span><span class=lnt id=hl-112-18><a class=lnlinks href=#hl-112-18>18</a>
</span><span class=lnt id=hl-112-19><a class=lnlinks href=#hl-112-19>19</a>
</span><span class=lnt id=hl-112-20><a class=lnlinks href=#hl-112-20>20</a>
</span><span class=lnt id=hl-112-21><a class=lnlinks href=#hl-112-21>21</a>
</span><span class=lnt id=hl-112-22><a class=lnlinks href=#hl-112-22>22</a>
</span><span class=lnt id=hl-112-23><a class=lnlinks href=#hl-112-23>23</a>
</span><span class=lnt id=hl-112-24><a class=lnlinks href=#hl-112-24>24</a>
</span><span class=lnt id=hl-112-25><a class=lnlinks href=#hl-112-25>25</a>
</span><span class=lnt id=hl-112-26><a class=lnlinks href=#hl-112-26>26</a>
</span><span class=lnt id=hl-112-27><a class=lnlinks href=#hl-112-27>27</a>
</span><span class=lnt id=hl-112-28><a class=lnlinks href=#hl-112-28>28</a>
</span><span class=lnt id=hl-112-29><a class=lnlinks href=#hl-112-29>29</a>
</span><span class=lnt id=hl-112-30><a class=lnlinks href=#hl-112-30>30</a>
</span><span class=lnt id=hl-112-31><a class=lnlinks href=#hl-112-31>31</a>
</span><span class=lnt id=hl-112-32><a class=lnlinks href=#hl-112-32>32</a>
</span><span class=lnt id=hl-112-33><a class=lnlinks href=#hl-112-33>33</a>
</span><span class=lnt id=hl-112-34><a class=lnlinks href=#hl-112-34>34</a>
</span><span class=lnt id=hl-112-35><a class=lnlinks href=#hl-112-35>35</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 1. 카디널리티 위반 감지
</span></span></span><span class=line><span class=cl><span class=c1>-- 1:1 관계가 1:N으로 변질된 경우
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>order_id</span><span class=p>,</span><span class=w> </span><span class=k>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>payment_count</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Payment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>order_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>HAVING</span><span class=w> </span><span class=k>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>  </span><span class=c1>-- 1:1 관계인데 2개 이상
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 2. 순환 참조 감지 (재귀 관계)
</span></span></span><span class=line><span class=cl><span class=k>WITH</span><span class=w> </span><span class=k>RECURSIVE</span><span class=w> </span><span class=n>employee_hierarchy</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>emp_id</span><span class=p>,</span><span class=w> </span><span class=n>manager_id</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=k>level</span><span class=p>,</span><span class=w> </span><span class=k>CAST</span><span class=p>(</span><span class=n>emp_id</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=nb>CHAR</span><span class=p>(</span><span class=mi>1000</span><span class=p>))</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>path</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FROM</span><span class=w> </span><span class=n>Employee</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>manager_id</span><span class=w> </span><span class=k>IS</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>UNION</span><span class=w> </span><span class=k>ALL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>e</span><span class=p>.</span><span class=n>emp_id</span><span class=p>,</span><span class=w> </span><span class=n>e</span><span class=p>.</span><span class=n>manager_id</span><span class=p>,</span><span class=w> </span><span class=n>eh</span><span class=p>.</span><span class=k>level</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>           </span><span class=n>CONCAT</span><span class=p>(</span><span class=n>eh</span><span class=p>.</span><span class=n>path</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;-&gt;&#39;</span><span class=p>,</span><span class=w> </span><span class=n>e</span><span class=p>.</span><span class=n>emp_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FROM</span><span class=w> </span><span class=n>Employee</span><span class=w> </span><span class=n>e</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>JOIN</span><span class=w> </span><span class=n>employee_hierarchy</span><span class=w> </span><span class=n>eh</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>e</span><span class=p>.</span><span class=n>manager_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>eh</span><span class=p>.</span><span class=n>emp_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>FIND_IN_SET</span><span class=p>(</span><span class=n>e</span><span class=p>.</span><span class=n>emp_id</span><span class=p>,</span><span class=w> </span><span class=n>eh</span><span class=p>.</span><span class=n>path</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=w>  </span><span class=c1>-- 순환 방지
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=k>AND</span><span class=w> </span><span class=n>eh</span><span class=p>.</span><span class=k>level</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>10</span><span class=w>  </span><span class=c1>-- 무한 루프 방지
</span></span></span><span class=line><span class=cl><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>employee_hierarchy</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=k>level</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>5</span><span class=p>;</span><span class=w>  </span><span class=c1>-- 비정상적 깊이
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 3. 약한 개체 고아 레코드
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>oi</span><span class=p>.</span><span class=o>*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>OrderItem</span><span class=w> </span><span class=n>oi</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=n>o</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>oi</span><span class=p>.</span><span class=n>order_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>order_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>WHERE</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>order_id</span><span class=w> </span><span class=k>IS</span><span class=w> </span><span class=k>NULL</span><span class=p>;</span><span class=w>  </span><span class=c1>-- CASCADE 실패 케이스
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 4. 참조 무결성 위반 (외래키 무효)
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>order_id</span><span class=p>,</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>customer_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=n>o</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=k>c</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>WHERE</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=k>IS</span><span class=w> </span><span class=k>NULL</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=62-보안-및-컴플라이언스>6.2 보안 및 컴플라이언스<a hidden class=anchor aria-hidden=true href=#62-보안-및-컴플라이언스>#</a></h4><h5 id=621-er-모델-기반-보안-전략>6.2.1 ER 모델 기반 보안 전략<a hidden class=anchor aria-hidden=true href=#621-er-모델-기반-보안-전략>#</a></h5><p><strong>무엇을 보안하는가</strong>:</p><ul><li>민감한 개체 및 속성 (개인정보, 금융정보)</li><li>중요한 관계 (접근 권한, 감사 추적)</li></ul><p><strong>왜 보안이 중요한가</strong>:</p><ul><li>법적 규제 준수 (GDPR, 개인정보보호법)</li><li>데이터 유출 방지</li><li>비즈니스 신뢰도 유지</li></ul><p><strong>어떻게 보안을 확보하는가</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-113-1><a class=lnlinks href=#hl-113-1> 1</a>
</span><span class=lnt id=hl-113-2><a class=lnlinks href=#hl-113-2> 2</a>
</span><span class=lnt id=hl-113-3><a class=lnlinks href=#hl-113-3> 3</a>
</span><span class=lnt id=hl-113-4><a class=lnlinks href=#hl-113-4> 4</a>
</span><span class=lnt id=hl-113-5><a class=lnlinks href=#hl-113-5> 5</a>
</span><span class=lnt id=hl-113-6><a class=lnlinks href=#hl-113-6> 6</a>
</span><span class=lnt id=hl-113-7><a class=lnlinks href=#hl-113-7> 7</a>
</span><span class=lnt id=hl-113-8><a class=lnlinks href=#hl-113-8> 8</a>
</span><span class=lnt id=hl-113-9><a class=lnlinks href=#hl-113-9> 9</a>
</span><span class=lnt id=hl-113-10><a class=lnlinks href=#hl-113-10>10</a>
</span><span class=lnt id=hl-113-11><a class=lnlinks href=#hl-113-11>11</a>
</span><span class=lnt id=hl-113-12><a class=lnlinks href=#hl-113-12>12</a>
</span><span class=lnt id=hl-113-13><a class=lnlinks href=#hl-113-13>13</a>
</span><span class=lnt id=hl-113-14><a class=lnlinks href=#hl-113-14>14</a>
</span><span class=lnt id=hl-113-15><a class=lnlinks href=#hl-113-15>15</a>
</span><span class=lnt id=hl-113-16><a class=lnlinks href=#hl-113-16>16</a>
</span><span class=lnt id=hl-113-17><a class=lnlinks href=#hl-113-17>17</a>
</span><span class=lnt id=hl-113-18><a class=lnlinks href=#hl-113-18>18</a>
</span><span class=lnt id=hl-113-19><a class=lnlinks href=#hl-113-19>19</a>
</span><span class=lnt id=hl-113-20><a class=lnlinks href=#hl-113-20>20</a>
</span><span class=lnt id=hl-113-21><a class=lnlinks href=#hl-113-21>21</a>
</span><span class=lnt id=hl-113-22><a class=lnlinks href=#hl-113-22>22</a>
</span><span class=lnt id=hl-113-23><a class=lnlinks href=#hl-113-23>23</a>
</span><span class=lnt id=hl-113-24><a class=lnlinks href=#hl-113-24>24</a>
</span><span class=lnt id=hl-113-25><a class=lnlinks href=#hl-113-25>25</a>
</span><span class=lnt id=hl-113-26><a class=lnlinks href=#hl-113-26>26</a>
</span><span class=lnt id=hl-113-27><a class=lnlinks href=#hl-113-27>27</a>
</span><span class=lnt id=hl-113-28><a class=lnlinks href=#hl-113-28>28</a>
</span><span class=lnt id=hl-113-29><a class=lnlinks href=#hl-113-29>29</a>
</span><span class=lnt id=hl-113-30><a class=lnlinks href=#hl-113-30>30</a>
</span><span class=lnt id=hl-113-31><a class=lnlinks href=#hl-113-31>31</a>
</span><span class=lnt id=hl-113-32><a class=lnlinks href=#hl-113-32>32</a>
</span><span class=lnt id=hl-113-33><a class=lnlinks href=#hl-113-33>33</a>
</span><span class=lnt id=hl-113-34><a class=lnlinks href=#hl-113-34>34</a>
</span><span class=lnt id=hl-113-35><a class=lnlinks href=#hl-113-35>35</a>
</span><span class=lnt id=hl-113-36><a class=lnlinks href=#hl-113-36>36</a>
</span><span class=lnt id=hl-113-37><a class=lnlinks href=#hl-113-37>37</a>
</span><span class=lnt id=hl-113-38><a class=lnlinks href=#hl-113-38>38</a>
</span><span class=lnt id=hl-113-39><a class=lnlinks href=#hl-113-39>39</a>
</span><span class=lnt id=hl-113-40><a class=lnlinks href=#hl-113-40>40</a>
</span><span class=lnt id=hl-113-41><a class=lnlinks href=#hl-113-41>41</a>
</span><span class=lnt id=hl-113-42><a class=lnlinks href=#hl-113-42>42</a>
</span><span class=lnt id=hl-113-43><a class=lnlinks href=#hl-113-43>43</a>
</span><span class=lnt id=hl-113-44><a class=lnlinks href=#hl-113-44>44</a>
</span><span class=lnt id=hl-113-45><a class=lnlinks href=#hl-113-45>45</a>
</span><span class=lnt id=hl-113-46><a class=lnlinks href=#hl-113-46>46</a>
</span><span class=lnt id=hl-113-47><a class=lnlinks href=#hl-113-47>47</a>
</span><span class=lnt id=hl-113-48><a class=lnlinks href=#hl-113-48>48</a>
</span><span class=lnt id=hl-113-49><a class=lnlinks href=#hl-113-49>49</a>
</span><span class=lnt id=hl-113-50><a class=lnlinks href=#hl-113-50>50</a>
</span><span class=lnt id=hl-113-51><a class=lnlinks href=#hl-113-51>51</a>
</span><span class=lnt id=hl-113-52><a class=lnlinks href=#hl-113-52>52</a>
</span><span class=lnt id=hl-113-53><a class=lnlinks href=#hl-113-53>53</a>
</span><span class=lnt id=hl-113-54><a class=lnlinks href=#hl-113-54>54</a>
</span><span class=lnt id=hl-113-55><a class=lnlinks href=#hl-113-55>55</a>
</span><span class=lnt id=hl-113-56><a class=lnlinks href=#hl-113-56>56</a>
</span><span class=lnt id=hl-113-57><a class=lnlinks href=#hl-113-57>57</a>
</span><span class=lnt id=hl-113-58><a class=lnlinks href=#hl-113-58>58</a>
</span><span class=lnt id=hl-113-59><a class=lnlinks href=#hl-113-59>59</a>
</span><span class=lnt id=hl-113-60><a class=lnlinks href=#hl-113-60>60</a>
</span><span class=lnt id=hl-113-61><a class=lnlinks href=#hl-113-61>61</a>
</span><span class=lnt id=hl-113-62><a class=lnlinks href=#hl-113-62>62</a>
</span><span class=lnt id=hl-113-63><a class=lnlinks href=#hl-113-63>63</a>
</span><span class=lnt id=hl-113-64><a class=lnlinks href=#hl-113-64>64</a>
</span><span class=lnt id=hl-113-65><a class=lnlinks href=#hl-113-65>65</a>
</span><span class=lnt id=hl-113-66><a class=lnlinks href=#hl-113-66>66</a>
</span><span class=lnt id=hl-113-67><a class=lnlinks href=#hl-113-67>67</a>
</span><span class=lnt id=hl-113-68><a class=lnlinks href=#hl-113-68>68</a>
</span><span class=lnt id=hl-113-69><a class=lnlinks href=#hl-113-69>69</a>
</span><span class=lnt id=hl-113-70><a class=lnlinks href=#hl-113-70>70</a>
</span><span class=lnt id=hl-113-71><a class=lnlinks href=#hl-113-71>71</a>
</span><span class=lnt id=hl-113-72><a class=lnlinks href=#hl-113-72>72</a>
</span><span class=lnt id=hl-113-73><a class=lnlinks href=#hl-113-73>73</a>
</span><span class=lnt id=hl-113-74><a class=lnlinks href=#hl-113-74>74</a>
</span><span class=lnt id=hl-113-75><a class=lnlinks href=#hl-113-75>75</a>
</span><span class=lnt id=hl-113-76><a class=lnlinks href=#hl-113-76>76</a>
</span><span class=lnt id=hl-113-77><a class=lnlinks href=#hl-113-77>77</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 1. 컬럼 레벨 암호화 (민감 속성)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Customer_Secure</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 민감 정보 암호화
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>email</span><span class=w> </span><span class=n>VARBINARY</span><span class=p>(</span><span class=mi>255</span><span class=p>),</span><span class=w>  </span><span class=c1>-- AES 암호화 저장
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>ssn</span><span class=w> </span><span class=n>VARBINARY</span><span class=p>(</span><span class=mi>255</span><span class=p>),</span><span class=w>    </span><span class=c1>-- 주민등록번호
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>credit_card</span><span class=w> </span><span class=n>VARBINARY</span><span class=p>(</span><span class=mi>255</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 암호화 메타데이터
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>encryption_key_id</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>encrypted_at</span><span class=w> </span><span class=k>TIMESTAMP</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 암호화 INSERT
</span></span></span><span class=line><span class=cl><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>Customer_Secure</span><span class=w> </span><span class=p>(</span><span class=n>customer_id</span><span class=p>,</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>email</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;김철수&#39;</span><span class=p>,</span><span class=w> </span><span class=n>AES_ENCRYPT</span><span class=p>(</span><span class=s1>&#39;kim@example.com&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;encryption_key&#39;</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 복호화 SELECT (권한 있는 사용자만)
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>CAST</span><span class=p>(</span><span class=n>AES_DECRYPT</span><span class=p>(</span><span class=n>email</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;encryption_key&#39;</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=nb>CHAR</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>email</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Customer_Secure</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>WHERE</span><span class=w> </span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 2. 행 레벨 보안 (Row-Level Security)
</span></span></span><span class=line><span class=cl><span class=c1>-- PostgreSQL 예시
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=n>POLICY</span><span class=w> </span><span class=n>customer_isolation</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>Customer</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>USING</span><span class=w> </span><span class=p>(</span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>current_setting</span><span class=p>(</span><span class=s1>&#39;app.current_user_id&#39;</span><span class=p>)::</span><span class=nb>INT</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>ALTER</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=n>ENABLE</span><span class=w> </span><span class=k>ROW</span><span class=w> </span><span class=k>LEVEL</span><span class=w> </span><span class=k>SECURITY</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 사용자는 자신의 데이터만 조회 가능
</span></span></span><span class=line><span class=cl><span class=k>SET</span><span class=w> </span><span class=n>app</span><span class=p>.</span><span class=n>current_user_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Customer</span><span class=p>;</span><span class=w>  </span><span class=c1>-- customer_id=1 데이터만 반환
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 3. 뷰 기반 접근 제어 (관계 기반)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>VIEW</span><span class=w> </span><span class=n>Customer_Public</span><span class=w> </span><span class=k>AS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 민감 정보 마스킹
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>CONCAT</span><span class=p>(</span><span class=k>SUBSTRING</span><span class=p>(</span><span class=n>email</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>),</span><span class=w> </span><span class=s1>&#39;***@&#39;</span><span class=p>,</span><span class=w> </span><span class=n>SUBSTRING_INDEX</span><span class=p>(</span><span class=n>email</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;@&#39;</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=p>))</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>email_masked</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>LEFT</span><span class=p>(</span><span class=n>phone</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>)</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=s1>&#39;-****-****&#39;</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>phone_masked</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Customer</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>GRANT</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>Customer_Public</span><span class=w> </span><span class=k>TO</span><span class=w> </span><span class=n>public_role</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>REVOKE</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>public_role</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 4. 감사 추적 (Audit Trail) - 모든 변경 기록
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Audit_Customer</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>audit_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=w> </span><span class=n>AUTO_INCREMENT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>action</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>  </span><span class=c1>-- INSERT, UPDATE, DELETE
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>old_values</span><span class=w> </span><span class=n>JSON</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>new_values</span><span class=w> </span><span class=n>JSON</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>changed_by</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>changed_at</span><span class=w> </span><span class=k>TIMESTAMP</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=k>CURRENT_TIMESTAMP</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>ip_address</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>45</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>DELIMITER</span><span class=w> </span><span class=o>//</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TRIGGER</span><span class=w> </span><span class=n>audit_customer_changes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>AFTER</span><span class=w> </span><span class=k>UPDATE</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>Customer</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FOR</span><span class=w> </span><span class=k>EACH</span><span class=w> </span><span class=k>ROW</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>BEGIN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>Audit_Customer</span><span class=w> </span><span class=p>(</span><span class=n>customer_id</span><span class=p>,</span><span class=w> </span><span class=n>action</span><span class=p>,</span><span class=w> </span><span class=n>old_values</span><span class=p>,</span><span class=w> </span><span class=n>new_values</span><span class=p>,</span><span class=w> </span><span class=n>changed_by</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>NEW</span><span class=p>.</span><span class=n>customer_id</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=s1>&#39;UPDATE&#39;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>JSON_OBJECT</span><span class=p>(</span><span class=s1>&#39;name&#39;</span><span class=p>,</span><span class=w> </span><span class=k>OLD</span><span class=p>.</span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;email&#39;</span><span class=p>,</span><span class=w> </span><span class=k>OLD</span><span class=p>.</span><span class=n>email</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>JSON_OBJECT</span><span class=p>(</span><span class=s1>&#39;name&#39;</span><span class=p>,</span><span class=w> </span><span class=k>NEW</span><span class=p>.</span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;email&#39;</span><span class=p>,</span><span class=w> </span><span class=k>NEW</span><span class=p>.</span><span class=n>email</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>USER</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>END</span><span class=o>//</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>DELIMITER</span><span class=w> </span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=622-컴플라이언스-구현>6.2.2 컴플라이언스 구현<a hidden class=anchor aria-hidden=true href=#622-컴플라이언스-구현>#</a></h5><p><strong>GDPR &ldquo;잊혀질 권리&rdquo; 구현</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-114-1><a class=lnlinks href=#hl-114-1> 1</a>
</span><span class=lnt id=hl-114-2><a class=lnlinks href=#hl-114-2> 2</a>
</span><span class=lnt id=hl-114-3><a class=lnlinks href=#hl-114-3> 3</a>
</span><span class=lnt id=hl-114-4><a class=lnlinks href=#hl-114-4> 4</a>
</span><span class=lnt id=hl-114-5><a class=lnlinks href=#hl-114-5> 5</a>
</span><span class=lnt id=hl-114-6><a class=lnlinks href=#hl-114-6> 6</a>
</span><span class=lnt id=hl-114-7><a class=lnlinks href=#hl-114-7> 7</a>
</span><span class=lnt id=hl-114-8><a class=lnlinks href=#hl-114-8> 8</a>
</span><span class=lnt id=hl-114-9><a class=lnlinks href=#hl-114-9> 9</a>
</span><span class=lnt id=hl-114-10><a class=lnlinks href=#hl-114-10>10</a>
</span><span class=lnt id=hl-114-11><a class=lnlinks href=#hl-114-11>11</a>
</span><span class=lnt id=hl-114-12><a class=lnlinks href=#hl-114-12>12</a>
</span><span class=lnt id=hl-114-13><a class=lnlinks href=#hl-114-13>13</a>
</span><span class=lnt id=hl-114-14><a class=lnlinks href=#hl-114-14>14</a>
</span><span class=lnt id=hl-114-15><a class=lnlinks href=#hl-114-15>15</a>
</span><span class=lnt id=hl-114-16><a class=lnlinks href=#hl-114-16>16</a>
</span><span class=lnt id=hl-114-17><a class=lnlinks href=#hl-114-17>17</a>
</span><span class=lnt id=hl-114-18><a class=lnlinks href=#hl-114-18>18</a>
</span><span class=lnt id=hl-114-19><a class=lnlinks href=#hl-114-19>19</a>
</span><span class=lnt id=hl-114-20><a class=lnlinks href=#hl-114-20>20</a>
</span><span class=lnt id=hl-114-21><a class=lnlinks href=#hl-114-21>21</a>
</span><span class=lnt id=hl-114-22><a class=lnlinks href=#hl-114-22>22</a>
</span><span class=lnt id=hl-114-23><a class=lnlinks href=#hl-114-23>23</a>
</span><span class=lnt id=hl-114-24><a class=lnlinks href=#hl-114-24>24</a>
</span><span class=lnt id=hl-114-25><a class=lnlinks href=#hl-114-25>25</a>
</span><span class=lnt id=hl-114-26><a class=lnlinks href=#hl-114-26>26</a>
</span><span class=lnt id=hl-114-27><a class=lnlinks href=#hl-114-27>27</a>
</span><span class=lnt id=hl-114-28><a class=lnlinks href=#hl-114-28>28</a>
</span><span class=lnt id=hl-114-29><a class=lnlinks href=#hl-114-29>29</a>
</span><span class=lnt id=hl-114-30><a class=lnlinks href=#hl-114-30>30</a>
</span><span class=lnt id=hl-114-31><a class=lnlinks href=#hl-114-31>31</a>
</span><span class=lnt id=hl-114-32><a class=lnlinks href=#hl-114-32>32</a>
</span><span class=lnt id=hl-114-33><a class=lnlinks href=#hl-114-33>33</a>
</span><span class=lnt id=hl-114-34><a class=lnlinks href=#hl-114-34>34</a>
</span><span class=lnt id=hl-114-35><a class=lnlinks href=#hl-114-35>35</a>
</span><span class=lnt id=hl-114-36><a class=lnlinks href=#hl-114-36>36</a>
</span><span class=lnt id=hl-114-37><a class=lnlinks href=#hl-114-37>37</a>
</span><span class=lnt id=hl-114-38><a class=lnlinks href=#hl-114-38>38</a>
</span><span class=lnt id=hl-114-39><a class=lnlinks href=#hl-114-39>39</a>
</span><span class=lnt id=hl-114-40><a class=lnlinks href=#hl-114-40>40</a>
</span><span class=lnt id=hl-114-41><a class=lnlinks href=#hl-114-41>41</a>
</span><span class=lnt id=hl-114-42><a class=lnlinks href=#hl-114-42>42</a>
</span><span class=lnt id=hl-114-43><a class=lnlinks href=#hl-114-43>43</a>
</span><span class=lnt id=hl-114-44><a class=lnlinks href=#hl-114-44>44</a>
</span><span class=lnt id=hl-114-45><a class=lnlinks href=#hl-114-45>45</a>
</span><span class=lnt id=hl-114-46><a class=lnlinks href=#hl-114-46>46</a>
</span><span class=lnt id=hl-114-47><a class=lnlinks href=#hl-114-47>47</a>
</span><span class=lnt id=hl-114-48><a class=lnlinks href=#hl-114-48>48</a>
</span><span class=lnt id=hl-114-49><a class=lnlinks href=#hl-114-49>49</a>
</span><span class=lnt id=hl-114-50><a class=lnlinks href=#hl-114-50>50</a>
</span><span class=lnt id=hl-114-51><a class=lnlinks href=#hl-114-51>51</a>
</span><span class=lnt id=hl-114-52><a class=lnlinks href=#hl-114-52>52</a>
</span><span class=lnt id=hl-114-53><a class=lnlinks href=#hl-114-53>53</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 1. 개인정보 완전 삭제 (CASCADE 활용)
</span></span></span><span class=line><span class=cl><span class=k>DELIMITER</span><span class=w> </span><span class=o>//</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>PROCEDURE</span><span class=w> </span><span class=n>gdpr_delete_customer</span><span class=p>(</span><span class=k>IN</span><span class=w> </span><span class=n>p_customer_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>BEGIN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>DECLARE</span><span class=w> </span><span class=n>EXIT</span><span class=w> </span><span class=k>HANDLER</span><span class=w> </span><span class=k>FOR</span><span class=w> </span><span class=k>SQLEXCEPTION</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>BEGIN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ROLLBACK</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>SIGNAL</span><span class=w> </span><span class=k>SQLSTATE</span><span class=w> </span><span class=s1>&#39;45000&#39;</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=k>MESSAGE_TEXT</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;GDPR deletion failed&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>END</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>START</span><span class=w> </span><span class=k>TRANSACTION</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 1. 주문 데이터 익명화 (비즈니스 분석 유지)
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>UPDATE</span><span class=w> </span><span class=n>Orders</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SET</span><span class=w> </span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>  </span><span class=c1>-- 연결 해제
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>anonymized</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>TRUE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>p_customer_id</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 2. 개인정보 삭제
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>DELETE</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>CustomerAddress</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>p_customer_id</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>DELETE</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>CustomerPhone</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>p_customer_id</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>DELETE</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>p_customer_id</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 3. 감사 로그
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>GDPR_Deletion_Log</span><span class=w> </span><span class=p>(</span><span class=n>customer_id</span><span class=p>,</span><span class=w> </span><span class=n>deleted_at</span><span class=p>,</span><span class=w> </span><span class=n>deleted_by</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=n>p_customer_id</span><span class=p>,</span><span class=w> </span><span class=n>NOW</span><span class=p>(),</span><span class=w> </span><span class=k>USER</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>COMMIT</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>END</span><span class=o>//</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>DELIMITER</span><span class=w> </span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 2. 개인정보 이동권 (Data Portability)
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>JSON_OBJECT</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=s1>&#39;customer&#39;</span><span class=p>,</span><span class=w> </span><span class=n>JSON_OBJECT</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=s1>&#39;id&#39;</span><span class=p>,</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=s1>&#39;name&#39;</span><span class=p>,</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>name</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=s1>&#39;email&#39;</span><span class=p>,</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>email</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=s1>&#39;orders&#39;</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>SELECT</span><span class=w> </span><span class=n>JSON_ARRAYAGG</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>JSON_OBJECT</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=s1>&#39;order_id&#39;</span><span class=p>,</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>order_id</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=s1>&#39;date&#39;</span><span class=p>,</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>order_date</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=s1>&#39;total&#39;</span><span class=p>,</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>total_amount</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>FROM</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=n>o</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>WHERE</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>customer_data_export</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=k>c</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>WHERE</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=63-성능-최적화-및-확장성>6.3 성능 최적화 및 확장성<a hidden class=anchor aria-hidden=true href=#63-성능-최적화-및-확장성>#</a></h4><h5 id=631-er-관계-기반-최적화>6.3.1 ER 관계 기반 최적화<a hidden class=anchor aria-hidden=true href=#631-er-관계-기반-최적화>#</a></h5><p><strong>무엇을 최적화하는가</strong>:</p><ul><li>조인 성능 (관계 구현)</li><li>인덱스 전략 (속성 및 외래키)</li><li>쿼리 실행 계획</li></ul><p><strong>어떻게 최적화하는가</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-115-1><a class=lnlinks href=#hl-115-1> 1</a>
</span><span class=lnt id=hl-115-2><a class=lnlinks href=#hl-115-2> 2</a>
</span><span class=lnt id=hl-115-3><a class=lnlinks href=#hl-115-3> 3</a>
</span><span class=lnt id=hl-115-4><a class=lnlinks href=#hl-115-4> 4</a>
</span><span class=lnt id=hl-115-5><a class=lnlinks href=#hl-115-5> 5</a>
</span><span class=lnt id=hl-115-6><a class=lnlinks href=#hl-115-6> 6</a>
</span><span class=lnt id=hl-115-7><a class=lnlinks href=#hl-115-7> 7</a>
</span><span class=lnt id=hl-115-8><a class=lnlinks href=#hl-115-8> 8</a>
</span><span class=lnt id=hl-115-9><a class=lnlinks href=#hl-115-9> 9</a>
</span><span class=lnt id=hl-115-10><a class=lnlinks href=#hl-115-10>10</a>
</span><span class=lnt id=hl-115-11><a class=lnlinks href=#hl-115-11>11</a>
</span><span class=lnt id=hl-115-12><a class=lnlinks href=#hl-115-12>12</a>
</span><span class=lnt id=hl-115-13><a class=lnlinks href=#hl-115-13>13</a>
</span><span class=lnt id=hl-115-14><a class=lnlinks href=#hl-115-14>14</a>
</span><span class=lnt id=hl-115-15><a class=lnlinks href=#hl-115-15>15</a>
</span><span class=lnt id=hl-115-16><a class=lnlinks href=#hl-115-16>16</a>
</span><span class=lnt id=hl-115-17><a class=lnlinks href=#hl-115-17>17</a>
</span><span class=lnt id=hl-115-18><a class=lnlinks href=#hl-115-18>18</a>
</span><span class=lnt id=hl-115-19><a class=lnlinks href=#hl-115-19>19</a>
</span><span class=lnt id=hl-115-20><a class=lnlinks href=#hl-115-20>20</a>
</span><span class=lnt id=hl-115-21><a class=lnlinks href=#hl-115-21>21</a>
</span><span class=lnt id=hl-115-22><a class=lnlinks href=#hl-115-22>22</a>
</span><span class=lnt id=hl-115-23><a class=lnlinks href=#hl-115-23>23</a>
</span><span class=lnt id=hl-115-24><a class=lnlinks href=#hl-115-24>24</a>
</span><span class=lnt id=hl-115-25><a class=lnlinks href=#hl-115-25>25</a>
</span><span class=lnt id=hl-115-26><a class=lnlinks href=#hl-115-26>26</a>
</span><span class=lnt id=hl-115-27><a class=lnlinks href=#hl-115-27>27</a>
</span><span class=lnt id=hl-115-28><a class=lnlinks href=#hl-115-28>28</a>
</span><span class=lnt id=hl-115-29><a class=lnlinks href=#hl-115-29>29</a>
</span><span class=lnt id=hl-115-30><a class=lnlinks href=#hl-115-30>30</a>
</span><span class=lnt id=hl-115-31><a class=lnlinks href=#hl-115-31>31</a>
</span><span class=lnt id=hl-115-32><a class=lnlinks href=#hl-115-32>32</a>
</span><span class=lnt id=hl-115-33><a class=lnlinks href=#hl-115-33>33</a>
</span><span class=lnt id=hl-115-34><a class=lnlinks href=#hl-115-34>34</a>
</span><span class=lnt id=hl-115-35><a class=lnlinks href=#hl-115-35>35</a>
</span><span class=lnt id=hl-115-36><a class=lnlinks href=#hl-115-36>36</a>
</span><span class=lnt id=hl-115-37><a class=lnlinks href=#hl-115-37>37</a>
</span><span class=lnt id=hl-115-38><a class=lnlinks href=#hl-115-38>38</a>
</span><span class=lnt id=hl-115-39><a class=lnlinks href=#hl-115-39>39</a>
</span><span class=lnt id=hl-115-40><a class=lnlinks href=#hl-115-40>40</a>
</span><span class=lnt id=hl-115-41><a class=lnlinks href=#hl-115-41>41</a>
</span><span class=lnt id=hl-115-42><a class=lnlinks href=#hl-115-42>42</a>
</span><span class=lnt id=hl-115-43><a class=lnlinks href=#hl-115-43>43</a>
</span><span class=lnt id=hl-115-44><a class=lnlinks href=#hl-115-44>44</a>
</span><span class=lnt id=hl-115-45><a class=lnlinks href=#hl-115-45>45</a>
</span><span class=lnt id=hl-115-46><a class=lnlinks href=#hl-115-46>46</a>
</span><span class=lnt id=hl-115-47><a class=lnlinks href=#hl-115-47>47</a>
</span><span class=lnt id=hl-115-48><a class=lnlinks href=#hl-115-48>48</a>
</span><span class=lnt id=hl-115-49><a class=lnlinks href=#hl-115-49>49</a>
</span><span class=lnt id=hl-115-50><a class=lnlinks href=#hl-115-50>50</a>
</span><span class=lnt id=hl-115-51><a class=lnlinks href=#hl-115-51>51</a>
</span><span class=lnt id=hl-115-52><a class=lnlinks href=#hl-115-52>52</a>
</span><span class=lnt id=hl-115-53><a class=lnlinks href=#hl-115-53>53</a>
</span><span class=lnt id=hl-115-54><a class=lnlinks href=#hl-115-54>54</a>
</span><span class=lnt id=hl-115-55><a class=lnlinks href=#hl-115-55>55</a>
</span><span class=lnt id=hl-115-56><a class=lnlinks href=#hl-115-56>56</a>
</span><span class=lnt id=hl-115-57><a class=lnlinks href=#hl-115-57>57</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 1. 인덱스 전략 (ER 관계 기반)
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 외래키에 인덱스 (N:1 관계 최적화)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_orders_customer</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>Orders</span><span class=p>(</span><span class=n>customer_id</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_orderitem_product</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>OrderItem</span><span class=p>(</span><span class=n>product_id</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 복합 인덱스 (약한 개체의 복합키)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_orderitem_composite</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>OrderItem</span><span class=p>(</span><span class=n>order_id</span><span class=p>,</span><span class=w> </span><span class=n>item_seq</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 커버링 인덱스 (조인 없이 데이터 조회)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_orders_covering</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>Orders</span><span class=p>(</span><span class=n>customer_id</span><span class=p>,</span><span class=w> </span><span class=n>order_date</span><span class=p>,</span><span class=w> </span><span class=n>total_amount</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 2. 쿼리 최적화 (조인 순서 제어)
</span></span></span><span class=line><span class=cl><span class=k>EXPLAIN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=cm>/*+ JOIN_ORDER(c, o, oi) */</span><span class=w>  </span><span class=c1>-- 조인 순서 힌트
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>c</span><span class=p>.</span><span class=n>name</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>o</span><span class=p>.</span><span class=n>order_date</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SUM</span><span class=p>(</span><span class=n>oi</span><span class=p>.</span><span class=n>quantity</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>oi</span><span class=p>.</span><span class=n>unit_price</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>total</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=k>c</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>JOIN</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=n>o</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>customer_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>JOIN</span><span class=w> </span><span class=n>OrderItem</span><span class=w> </span><span class=n>oi</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>order_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>oi</span><span class=p>.</span><span class=n>order_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>WHERE</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>order_date</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 3. 구체화 뷰 (Materialized View) - 복잡한 조인 캐시
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=n>MATERIALIZED</span><span class=w> </span><span class=k>VIEW</span><span class=w> </span><span class=n>mv_customer_order_summary</span><span class=w> </span><span class=k>AS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>c</span><span class=p>.</span><span class=n>name</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>COUNT</span><span class=p>(</span><span class=k>DISTINCT</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>order_id</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>order_count</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SUM</span><span class=p>(</span><span class=n>o</span><span class=p>.</span><span class=n>total_amount</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>lifetime_value</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>MAX</span><span class=p>(</span><span class=n>o</span><span class=p>.</span><span class=n>order_date</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>last_order_date</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=k>c</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=n>o</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>customer_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=p>,</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>name</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 주기적 갱신
</span></span></span><span class=line><span class=cl><span class=n>REFRESH</span><span class=w> </span><span class=n>MATERIALIZED</span><span class=w> </span><span class=k>VIEW</span><span class=w> </span><span class=n>mv_customer_order_summary</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 4. 파티셔닝 (시간 기반, 개체 증가 대응)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Orders_Partitioned</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_date</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>total_amount</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>12</span><span class=p>,</span><span class=mi>2</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>order_id</span><span class=p>,</span><span class=w> </span><span class=n>order_date</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>PARTITION</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>RANGE</span><span class=w> </span><span class=p>(</span><span class=k>YEAR</span><span class=p>(</span><span class=n>order_date</span><span class=p>))</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>PARTITION</span><span class=w> </span><span class=n>p2023</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=k>LESS</span><span class=w> </span><span class=k>THAN</span><span class=w> </span><span class=p>(</span><span class=mi>2024</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>PARTITION</span><span class=w> </span><span class=n>p2024</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=k>LESS</span><span class=w> </span><span class=k>THAN</span><span class=w> </span><span class=p>(</span><span class=mi>2025</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>PARTITION</span><span class=w> </span><span class=n>p2025</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=k>LESS</span><span class=w> </span><span class=k>THAN</span><span class=w> </span><span class=p>(</span><span class=mi>2026</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 파티션 프루닝으로 성능 향상
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Orders_Partitioned</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>WHERE</span><span class=w> </span><span class=n>order_date</span><span class=w> </span><span class=k>BETWEEN</span><span class=w> </span><span class=s1>&#39;2024-01-01&#39;</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=s1>&#39;2024-12-31&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 오직 p2024 파티션만 스캔
</span></span></span></code></pre></td></tr></table></div></div><p><strong>비정규화 전략</strong> (읽기 성능 우선):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-116-1><a class=lnlinks href=#hl-116-1> 1</a>
</span><span class=lnt id=hl-116-2><a class=lnlinks href=#hl-116-2> 2</a>
</span><span class=lnt id=hl-116-3><a class=lnlinks href=#hl-116-3> 3</a>
</span><span class=lnt id=hl-116-4><a class=lnlinks href=#hl-116-4> 4</a>
</span><span class=lnt id=hl-116-5><a class=lnlinks href=#hl-116-5> 5</a>
</span><span class=lnt id=hl-116-6><a class=lnlinks href=#hl-116-6> 6</a>
</span><span class=lnt id=hl-116-7><a class=lnlinks href=#hl-116-7> 7</a>
</span><span class=lnt id=hl-116-8><a class=lnlinks href=#hl-116-8> 8</a>
</span><span class=lnt id=hl-116-9><a class=lnlinks href=#hl-116-9> 9</a>
</span><span class=lnt id=hl-116-10><a class=lnlinks href=#hl-116-10>10</a>
</span><span class=lnt id=hl-116-11><a class=lnlinks href=#hl-116-11>11</a>
</span><span class=lnt id=hl-116-12><a class=lnlinks href=#hl-116-12>12</a>
</span><span class=lnt id=hl-116-13><a class=lnlinks href=#hl-116-13>13</a>
</span><span class=lnt id=hl-116-14><a class=lnlinks href=#hl-116-14>14</a>
</span><span class=lnt id=hl-116-15><a class=lnlinks href=#hl-116-15>15</a>
</span><span class=lnt id=hl-116-16><a class=lnlinks href=#hl-116-16>16</a>
</span><span class=lnt id=hl-116-17><a class=lnlinks href=#hl-116-17>17</a>
</span><span class=lnt id=hl-116-18><a class=lnlinks href=#hl-116-18>18</a>
</span><span class=lnt id=hl-116-19><a class=lnlinks href=#hl-116-19>19</a>
</span><span class=lnt id=hl-116-20><a class=lnlinks href=#hl-116-20>20</a>
</span><span class=lnt id=hl-116-21><a class=lnlinks href=#hl-116-21>21</a>
</span><span class=lnt id=hl-116-22><a class=lnlinks href=#hl-116-22>22</a>
</span><span class=lnt id=hl-116-23><a class=lnlinks href=#hl-116-23>23</a>
</span><span class=lnt id=hl-116-24><a class=lnlinks href=#hl-116-24>24</a>
</span><span class=lnt id=hl-116-25><a class=lnlinks href=#hl-116-25>25</a>
</span><span class=lnt id=hl-116-26><a class=lnlinks href=#hl-116-26>26</a>
</span><span class=lnt id=hl-116-27><a class=lnlinks href=#hl-116-27>27</a>
</span><span class=lnt id=hl-116-28><a class=lnlinks href=#hl-116-28>28</a>
</span><span class=lnt id=hl-116-29><a class=lnlinks href=#hl-116-29>29</a>
</span><span class=lnt id=hl-116-30><a class=lnlinks href=#hl-116-30>30</a>
</span><span class=lnt id=hl-116-31><a class=lnlinks href=#hl-116-31>31</a>
</span><span class=lnt id=hl-116-32><a class=lnlinks href=#hl-116-32>32</a>
</span><span class=lnt id=hl-116-33><a class=lnlinks href=#hl-116-33>33</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 1. 계산 결과 미리 저장 (유도 속성 구체화)
</span></span></span><span class=line><span class=cl><span class=k>ALTER</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Orders</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=k>ADD</span><span class=w> </span><span class=k>COLUMN</span><span class=w> </span><span class=n>item_count</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>ADD</span><span class=w> </span><span class=k>COLUMN</span><span class=w> </span><span class=n>total_items_cached</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>12</span><span class=p>,</span><span class=mi>2</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 트리거로 자동 갱신
</span></span></span><span class=line><span class=cl><span class=k>DELIMITER</span><span class=w> </span><span class=o>//</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TRIGGER</span><span class=w> </span><span class=n>update_order_summary</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>AFTER</span><span class=w> </span><span class=k>INSERT</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>OrderItem</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FOR</span><span class=w> </span><span class=k>EACH</span><span class=w> </span><span class=k>ROW</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>BEGIN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>UPDATE</span><span class=w> </span><span class=n>Orders</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SET</span><span class=w> </span><span class=n>item_count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>item_count</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>total_items_cached</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>total_items_cached</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=k>NEW</span><span class=p>.</span><span class=n>quantity</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>NEW</span><span class=p>.</span><span class=n>unit_price</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>order_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>NEW</span><span class=p>.</span><span class=n>order_id</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>END</span><span class=o>//</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>DELIMITER</span><span class=w> </span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 2. 자주 조인하는 속성 복제
</span></span></span><span class=line><span class=cl><span class=k>ALTER</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Orders</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>ADD</span><span class=w> </span><span class=k>COLUMN</span><span class=w> </span><span class=n>customer_name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>);</span><span class=w>  </span><span class=c1>-- Customer.name 복제
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 동기화 트리거
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TRIGGER</span><span class=w> </span><span class=n>sync_customer_name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>AFTER</span><span class=w> </span><span class=k>UPDATE</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>Customer</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FOR</span><span class=w> </span><span class=k>EACH</span><span class=w> </span><span class=k>ROW</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>BEGIN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>IF</span><span class=w> </span><span class=k>OLD</span><span class=p>.</span><span class=n>name</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=k>NEW</span><span class=p>.</span><span class=n>name</span><span class=w> </span><span class=k>THEN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>UPDATE</span><span class=w> </span><span class=n>Orders</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>SET</span><span class=w> </span><span class=n>customer_name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>NEW</span><span class=p>.</span><span class=n>name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHERE</span><span class=w> </span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>NEW</span><span class=p>.</span><span class=n>customer_id</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>END</span><span class=w> </span><span class=k>IF</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>END</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=632-확장성-전략>6.3.2 확장성 전략<a hidden class=anchor aria-hidden=true href=#632-확장성-전략>#</a></h5><p><strong>수평 확장 (Sharding)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-117-1><a class=lnlinks href=#hl-117-1> 1</a>
</span><span class=lnt id=hl-117-2><a class=lnlinks href=#hl-117-2> 2</a>
</span><span class=lnt id=hl-117-3><a class=lnlinks href=#hl-117-3> 3</a>
</span><span class=lnt id=hl-117-4><a class=lnlinks href=#hl-117-4> 4</a>
</span><span class=lnt id=hl-117-5><a class=lnlinks href=#hl-117-5> 5</a>
</span><span class=lnt id=hl-117-6><a class=lnlinks href=#hl-117-6> 6</a>
</span><span class=lnt id=hl-117-7><a class=lnlinks href=#hl-117-7> 7</a>
</span><span class=lnt id=hl-117-8><a class=lnlinks href=#hl-117-8> 8</a>
</span><span class=lnt id=hl-117-9><a class=lnlinks href=#hl-117-9> 9</a>
</span><span class=lnt id=hl-117-10><a class=lnlinks href=#hl-117-10>10</a>
</span><span class=lnt id=hl-117-11><a class=lnlinks href=#hl-117-11>11</a>
</span><span class=lnt id=hl-117-12><a class=lnlinks href=#hl-117-12>12</a>
</span><span class=lnt id=hl-117-13><a class=lnlinks href=#hl-117-13>13</a>
</span><span class=lnt id=hl-117-14><a class=lnlinks href=#hl-117-14>14</a>
</span><span class=lnt id=hl-117-15><a class=lnlinks href=#hl-117-15>15</a>
</span><span class=lnt id=hl-117-16><a class=lnlinks href=#hl-117-16>16</a>
</span><span class=lnt id=hl-117-17><a class=lnlinks href=#hl-117-17>17</a>
</span><span class=lnt id=hl-117-18><a class=lnlinks href=#hl-117-18>18</a>
</span><span class=lnt id=hl-117-19><a class=lnlinks href=#hl-117-19>19</a>
</span><span class=lnt id=hl-117-20><a class=lnlinks href=#hl-117-20>20</a>
</span><span class=lnt id=hl-117-21><a class=lnlinks href=#hl-117-21>21</a>
</span><span class=lnt id=hl-117-22><a class=lnlinks href=#hl-117-22>22</a>
</span><span class=lnt id=hl-117-23><a class=lnlinks href=#hl-117-23>23</a>
</span><span class=lnt id=hl-117-24><a class=lnlinks href=#hl-117-24>24</a>
</span><span class=lnt id=hl-117-25><a class=lnlinks href=#hl-117-25>25</a>
</span><span class=lnt id=hl-117-26><a class=lnlinks href=#hl-117-26>26</a>
</span><span class=lnt id=hl-117-27><a class=lnlinks href=#hl-117-27>27</a>
</span><span class=lnt id=hl-117-28><a class=lnlinks href=#hl-117-28>28</a>
</span><span class=lnt id=hl-117-29><a class=lnlinks href=#hl-117-29>29</a>
</span><span class=lnt id=hl-117-30><a class=lnlinks href=#hl-117-30>30</a>
</span><span class=lnt id=hl-117-31><a class=lnlinks href=#hl-117-31>31</a>
</span><span class=lnt id=hl-117-32><a class=lnlinks href=#hl-117-32>32</a>
</span><span class=lnt id=hl-117-33><a class=lnlinks href=#hl-117-33>33</a>
</span><span class=lnt id=hl-117-34><a class=lnlinks href=#hl-117-34>34</a>
</span><span class=lnt id=hl-117-35><a class=lnlinks href=#hl-117-35>35</a>
</span><span class=lnt id=hl-117-36><a class=lnlinks href=#hl-117-36>36</a>
</span><span class=lnt id=hl-117-37><a class=lnlinks href=#hl-117-37>37</a>
</span><span class=lnt id=hl-117-38><a class=lnlinks href=#hl-117-38>38</a>
</span><span class=lnt id=hl-117-39><a class=lnlinks href=#hl-117-39>39</a>
</span><span class=lnt id=hl-117-40><a class=lnlinks href=#hl-117-40>40</a>
</span><span class=lnt id=hl-117-41><a class=lnlinks href=#hl-117-41>41</a>
</span><span class=lnt id=hl-117-42><a class=lnlinks href=#hl-117-42>42</a>
</span><span class=lnt id=hl-117-43><a class=lnlinks href=#hl-117-43>43</a>
</span><span class=lnt id=hl-117-44><a class=lnlinks href=#hl-117-44>44</a>
</span><span class=lnt id=hl-117-45><a class=lnlinks href=#hl-117-45>45</a>
</span><span class=lnt id=hl-117-46><a class=lnlinks href=#hl-117-46>46</a>
</span><span class=lnt id=hl-117-47><a class=lnlinks href=#hl-117-47>47</a>
</span><span class=lnt id=hl-117-48><a class=lnlinks href=#hl-117-48>48</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># customer_id 기반 샤딩 (일관된 해싱)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DatabaseSharding</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>shard_count</span><span class=o>=</span><span class=mi>4</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>shard_count</span> <span class=o>=</span> <span class=n>shard_count</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>shards</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=mi>0</span><span class=p>:</span> <span class=s2>&#34;db_shard_0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=mi>1</span><span class=p>:</span> <span class=s2>&#34;db_shard_1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=mi>2</span><span class=p>:</span> <span class=s2>&#34;db_shard_2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=mi>3</span><span class=p>:</span> <span class=s2>&#34;db_shard_3&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_shard</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>customer_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># ER 모델의 customer_id를 샤딩 키로 사용</span>
</span></span><span class=line><span class=cl>        <span class=n>shard_id</span> <span class=o>=</span> <span class=n>customer_id</span> <span class=o>%</span> <span class=bp>self</span><span class=o>.</span><span class=n>shard_count</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>shards</span><span class=p>[</span><span class=n>shard_id</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>insert_order</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>customer_id</span><span class=p>,</span> <span class=n>order_data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># 고객의 샤드에 주문 저장 (같은 샤드 유지)</span>
</span></span><span class=line><span class=cl>        <span class=n>shard</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_shard</span><span class=p>(</span><span class=n>customer_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>db</span> <span class=o>=</span> <span class=n>get_connection</span><span class=p>(</span><span class=n>shard</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 1:N 관계 유지 (같은 샤드 내)</span>
</span></span><span class=line><span class=cl>        <span class=n>db</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>            INSERT INTO Orders (customer_id, order_date, total_amount)
</span></span></span><span class=line><span class=cl><span class=s2>            VALUES (</span><span class=si>%s</span><span class=s2>, </span><span class=si>%s</span><span class=s2>, </span><span class=si>%s</span><span class=s2>)
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span><span class=p>,</span> <span class=p>(</span><span class=n>customer_id</span><span class=p>,</span> <span class=n>order_data</span><span class=p>[</span><span class=s1>&#39;date&#39;</span><span class=p>],</span> <span class=n>order_data</span><span class=p>[</span><span class=s1>&#39;total&#39;</span><span class=p>]))</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>order_id</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=n>lastrowid</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 약한 개체도 같은 샤드에</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>order_data</span><span class=p>[</span><span class=s1>&#39;items&#39;</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>            <span class=n>db</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>                INSERT INTO OrderItem (order_id, item_seq, product_id, quantity)
</span></span></span><span class=line><span class=cl><span class=s2>                VALUES (</span><span class=si>%s</span><span class=s2>, </span><span class=si>%s</span><span class=s2>, </span><span class=si>%s</span><span class=s2>, </span><span class=si>%s</span><span class=s2>)
</span></span></span><span class=line><span class=cl><span class=s2>            &#34;&#34;&#34;</span><span class=p>,</span> <span class=p>(</span><span class=n>order_id</span><span class=p>,</span> <span class=n>item</span><span class=p>[</span><span class=s1>&#39;seq&#39;</span><span class=p>],</span> <span class=n>item</span><span class=p>[</span><span class=s1>&#39;product_id&#39;</span><span class=p>],</span> <span class=n>item</span><span class=p>[</span><span class=s1>&#39;quantity&#39;</span><span class=p>]))</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_customer_orders</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>customer_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># 단일 샤드 조회 (조인 가능)</span>
</span></span><span class=line><span class=cl>        <span class=n>shard</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_shard</span><span class=p>(</span><span class=n>customer_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>db</span> <span class=o>=</span> <span class=n>get_connection</span><span class=p>(</span><span class=n>shard</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>db</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>            SELECT o.*, oi.*
</span></span></span><span class=line><span class=cl><span class=s2>            FROM Orders o
</span></span></span><span class=line><span class=cl><span class=s2>            JOIN OrderItem oi ON o.order_id = oi.order_id
</span></span></span><span class=line><span class=cl><span class=s2>            WHERE o.customer_id = </span><span class=si>%s</span><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span><span class=p>,</span> <span class=p>(</span><span class=n>customer_id</span><span class=p>,))</span><span class=o>.</span><span class=n>fetchall</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=64-트러블슈팅-및-문제-해결>6.4 트러블슈팅 및 문제 해결<a hidden class=anchor aria-hidden=true href=#64-트러블슈팅-및-문제-해결>#</a></h4><p><strong>ER 모델 기반 문제 진단</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-118-1><a class=lnlinks href=#hl-118-1> 1</a>
</span><span class=lnt id=hl-118-2><a class=lnlinks href=#hl-118-2> 2</a>
</span><span class=lnt id=hl-118-3><a class=lnlinks href=#hl-118-3> 3</a>
</span><span class=lnt id=hl-118-4><a class=lnlinks href=#hl-118-4> 4</a>
</span><span class=lnt id=hl-118-5><a class=lnlinks href=#hl-118-5> 5</a>
</span><span class=lnt id=hl-118-6><a class=lnlinks href=#hl-118-6> 6</a>
</span><span class=lnt id=hl-118-7><a class=lnlinks href=#hl-118-7> 7</a>
</span><span class=lnt id=hl-118-8><a class=lnlinks href=#hl-118-8> 8</a>
</span><span class=lnt id=hl-118-9><a class=lnlinks href=#hl-118-9> 9</a>
</span><span class=lnt id=hl-118-10><a class=lnlinks href=#hl-118-10>10</a>
</span><span class=lnt id=hl-118-11><a class=lnlinks href=#hl-118-11>11</a>
</span><span class=lnt id=hl-118-12><a class=lnlinks href=#hl-118-12>12</a>
</span><span class=lnt id=hl-118-13><a class=lnlinks href=#hl-118-13>13</a>
</span><span class=lnt id=hl-118-14><a class=lnlinks href=#hl-118-14>14</a>
</span><span class=lnt id=hl-118-15><a class=lnlinks href=#hl-118-15>15</a>
</span><span class=lnt id=hl-118-16><a class=lnlinks href=#hl-118-16>16</a>
</span><span class=lnt id=hl-118-17><a class=lnlinks href=#hl-118-17>17</a>
</span><span class=lnt id=hl-118-18><a class=lnlinks href=#hl-118-18>18</a>
</span><span class=lnt id=hl-118-19><a class=lnlinks href=#hl-118-19>19</a>
</span><span class=lnt id=hl-118-20><a class=lnlinks href=#hl-118-20>20</a>
</span><span class=lnt id=hl-118-21><a class=lnlinks href=#hl-118-21>21</a>
</span><span class=lnt id=hl-118-22><a class=lnlinks href=#hl-118-22>22</a>
</span><span class=lnt id=hl-118-23><a class=lnlinks href=#hl-118-23>23</a>
</span><span class=lnt id=hl-118-24><a class=lnlinks href=#hl-118-24>24</a>
</span><span class=lnt id=hl-118-25><a class=lnlinks href=#hl-118-25>25</a>
</span><span class=lnt id=hl-118-26><a class=lnlinks href=#hl-118-26>26</a>
</span><span class=lnt id=hl-118-27><a class=lnlinks href=#hl-118-27>27</a>
</span><span class=lnt id=hl-118-28><a class=lnlinks href=#hl-118-28>28</a>
</span><span class=lnt id=hl-118-29><a class=lnlinks href=#hl-118-29>29</a>
</span><span class=lnt id=hl-118-30><a class=lnlinks href=#hl-118-30>30</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 1. 데드락 분석 (관계 간 순환 대기)
</span></span></span><span class=line><span class=cl><span class=k>SHOW</span><span class=w> </span><span class=n>ENGINE</span><span class=w> </span><span class=n>INNODB</span><span class=w> </span><span class=n>STATUS</span><span class=err>\</span><span class=k>G</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 데드락 패턴: Customer ← Order → OrderItem
</span></span></span><span class=line><span class=cl><span class=c1>-- 해결: 항상 같은 순서로 락 획득
</span></span></span><span class=line><span class=cl><span class=k>BEGIN</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=k>FOR</span><span class=w> </span><span class=k>UPDATE</span><span class=p>;</span><span class=w>  </span><span class=c1>-- 먼저
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=k>FOR</span><span class=w> </span><span class=k>UPDATE</span><span class=p>;</span><span class=w>     </span><span class=c1>-- 나중
</span></span></span><span class=line><span class=cl><span class=k>COMMIT</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 2. 느린 조인 쿼리 진단
</span></span></span><span class=line><span class=cl><span class=k>EXPLAIN</span><span class=w> </span><span class=n>FORMAT</span><span class=o>=</span><span class=n>JSON</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=k>COUNT</span><span class=p>(</span><span class=n>o</span><span class=p>.</span><span class=n>order_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=k>c</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=n>o</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>customer_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 결과 분석:
</span></span></span><span class=line><span class=cl><span class=c1>-- - type: ALL (전체 스캔) → 인덱스 필요
</span></span></span><span class=line><span class=cl><span class=c1>-- - Extra: Using temporary (임시 테이블) → GROUP BY 최적화 필요
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 3. 외래키 제약 위반 디버깅
</span></span></span><span class=line><span class=cl><span class=c1>-- 삽입 실패 원인 파악
</span></span></span><span class=line><span class=cl><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=p>(</span><span class=n>customer_id</span><span class=p>,</span><span class=w> </span><span class=n>order_date</span><span class=p>)</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=mi>999</span><span class=p>,</span><span class=w> </span><span class=n>NOW</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- ERROR 1452: Cannot add or update a child row: foreign key constraint fails
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 원인 확인
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Customer</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>999</span><span class=p>;</span><span class=w>  </span><span class=c1>-- 존재하지 않음
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 해결: 먼저 Customer 생성 또는 기존 customer_id 사용
</span></span></span></code></pre></td></tr></table></div></div><hr><h3 id=phase-7-고급-주제-및-미래-전망-1>Phase 7: 고급 주제 및 미래 전망<a hidden class=anchor aria-hidden=true href=#phase-7-고급-주제-및-미래-전망-1>#</a></h3><h4 id=71-현재-도전-과제-및-한계>7.1 현재 도전 과제 및 한계<a hidden class=anchor aria-hidden=true href=#71-현재-도전-과제-및-한계>#</a></h4><p><strong>기술적 난제</strong>:</p><table><thead><tr><th>영역</th><th>도전 과제</th><th>원인</th><th>영향</th><th>해결 방안</th></tr></thead><tbody><tr><td>확장성</td><td>대규모 데이터 조인 성능 저하</td><td>정규화로 인한 조인 증가</td><td>응답시간 증가, 사용자 경험 저하</td><td>비정규화, 캐싱, 분산 DB</td></tr><tr><td>유연성</td><td>스키마 변경의 어려움</td><td>고정 스키마 전제</td><td>빠른 비즈니스 변화 대응 곤란</td><td>Schema Evolution 전략, NoSQL 하이브리드</td></tr><tr><td>복잡성</td><td>다대다 관계의 폭발적 증가</td><td>N:M 관계의 연결 개체 필요</td><td>관리 복잡도 증가</td><td>Graph DB 고려, 관계 단순화</td></tr><tr><td>성능</td><td>계층 쿼리(재귀 관계) 비효율</td><td>SQL의 재귀 처리 한계</td><td>조직도, 카테고리 조회 느림</td><td>Materialized Path, Nested Set</td></tr><tr><td>분산 환경</td><td>샤딩 시 조인 불가</td><td>데이터가 여러 노드에 분산</td><td>크로스 샤드 쿼리 실패</td><td>애플리케이션 레벨 조인, 데이터 중복</td></tr><tr><td>실시간 분석</td><td>OLTP와 OLAP 트레이드오프</td><td>정규화는 쓰기 최적, 비정규화는 읽기 최적</td><td>실시간 리포트 어려움</td><td>HTAP(Hybrid Transactional/Analytical Processing)</td></tr></tbody></table><p><strong>해결 방안 상세</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-119-1><a class=lnlinks href=#hl-119-1> 1</a>
</span><span class=lnt id=hl-119-2><a class=lnlinks href=#hl-119-2> 2</a>
</span><span class=lnt id=hl-119-3><a class=lnlinks href=#hl-119-3> 3</a>
</span><span class=lnt id=hl-119-4><a class=lnlinks href=#hl-119-4> 4</a>
</span><span class=lnt id=hl-119-5><a class=lnlinks href=#hl-119-5> 5</a>
</span><span class=lnt id=hl-119-6><a class=lnlinks href=#hl-119-6> 6</a>
</span><span class=lnt id=hl-119-7><a class=lnlinks href=#hl-119-7> 7</a>
</span><span class=lnt id=hl-119-8><a class=lnlinks href=#hl-119-8> 8</a>
</span><span class=lnt id=hl-119-9><a class=lnlinks href=#hl-119-9> 9</a>
</span><span class=lnt id=hl-119-10><a class=lnlinks href=#hl-119-10>10</a>
</span><span class=lnt id=hl-119-11><a class=lnlinks href=#hl-119-11>11</a>
</span><span class=lnt id=hl-119-12><a class=lnlinks href=#hl-119-12>12</a>
</span><span class=lnt id=hl-119-13><a class=lnlinks href=#hl-119-13>13</a>
</span><span class=lnt id=hl-119-14><a class=lnlinks href=#hl-119-14>14</a>
</span><span class=lnt id=hl-119-15><a class=lnlinks href=#hl-119-15>15</a>
</span><span class=lnt id=hl-119-16><a class=lnlinks href=#hl-119-16>16</a>
</span><span class=lnt id=hl-119-17><a class=lnlinks href=#hl-119-17>17</a>
</span><span class=lnt id=hl-119-18><a class=lnlinks href=#hl-119-18>18</a>
</span><span class=lnt id=hl-119-19><a class=lnlinks href=#hl-119-19>19</a>
</span><span class=lnt id=hl-119-20><a class=lnlinks href=#hl-119-20>20</a>
</span><span class=lnt id=hl-119-21><a class=lnlinks href=#hl-119-21>21</a>
</span><span class=lnt id=hl-119-22><a class=lnlinks href=#hl-119-22>22</a>
</span><span class=lnt id=hl-119-23><a class=lnlinks href=#hl-119-23>23</a>
</span><span class=lnt id=hl-119-24><a class=lnlinks href=#hl-119-24>24</a>
</span><span class=lnt id=hl-119-25><a class=lnlinks href=#hl-119-25>25</a>
</span><span class=lnt id=hl-119-26><a class=lnlinks href=#hl-119-26>26</a>
</span><span class=lnt id=hl-119-27><a class=lnlinks href=#hl-119-27>27</a>
</span><span class=lnt id=hl-119-28><a class=lnlinks href=#hl-119-28>28</a>
</span><span class=lnt id=hl-119-29><a class=lnlinks href=#hl-119-29>29</a>
</span><span class=lnt id=hl-119-30><a class=lnlinks href=#hl-119-30>30</a>
</span><span class=lnt id=hl-119-31><a class=lnlinks href=#hl-119-31>31</a>
</span><span class=lnt id=hl-119-32><a class=lnlinks href=#hl-119-32>32</a>
</span><span class=lnt id=hl-119-33><a class=lnlinks href=#hl-119-33>33</a>
</span><span class=lnt id=hl-119-34><a class=lnlinks href=#hl-119-34>34</a>
</span><span class=lnt id=hl-119-35><a class=lnlinks href=#hl-119-35>35</a>
</span><span class=lnt id=hl-119-36><a class=lnlinks href=#hl-119-36>36</a>
</span><span class=lnt id=hl-119-37><a class=lnlinks href=#hl-119-37>37</a>
</span><span class=lnt id=hl-119-38><a class=lnlinks href=#hl-119-38>38</a>
</span><span class=lnt id=hl-119-39><a class=lnlinks href=#hl-119-39>39</a>
</span><span class=lnt id=hl-119-40><a class=lnlinks href=#hl-119-40>40</a>
</span><span class=lnt id=hl-119-41><a class=lnlinks href=#hl-119-41>41</a>
</span><span class=lnt id=hl-119-42><a class=lnlinks href=#hl-119-42>42</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 1. 재귀 관계 최적화 (Materialized Path Pattern)
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 기존 방식 (비효율적)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Category</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>category_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>parent_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>parent_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Category</span><span class=p>(</span><span class=n>category_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 개선: Materialized Path
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Category_Optimized</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>category_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>parent_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>path</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>500</span><span class=p>),</span><span class=w>  </span><span class=c1>-- &#39;/1/3/7/&#39; 형식의 경로
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>level</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>parent_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Category_Optimized</span><span class=p>(</span><span class=n>category_id</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_path</span><span class=w> </span><span class=p>(</span><span class=n>path</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 하위 카테고리 조회 (재귀 불필요)
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Category_Optimized</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>WHERE</span><span class=w> </span><span class=n>path</span><span class=w> </span><span class=k>LIKE</span><span class=w> </span><span class=s1>&#39;/1/3/%&#39;</span><span class=w>  </span><span class=c1>-- category_id=3의 모든 하위
</span></span></span><span class=line><span class=cl><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>path</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 2. 크로스 샤드 조인 대안
</span></span></span><span class=line><span class=cl><span class=c1>-- 애플리케이션 레벨 조인
</span></span></span><span class=line><span class=cl><span class=n>async</span><span class=w> </span><span class=k>function</span><span class=w> </span><span class=n>getCrossShardData</span><span class=p>(</span><span class=n>customer_id</span><span class=p>,</span><span class=w> </span><span class=n>product_id</span><span class=p>)</span><span class=w> </span><span class=err>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>//</span><span class=w> </span><span class=err>병렬</span><span class=w> </span><span class=err>조회</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>const</span><span class=w> </span><span class=p>[</span><span class=n>customer</span><span class=p>,</span><span class=w> </span><span class=n>product</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>await</span><span class=w> </span><span class=n>Promise</span><span class=p>.</span><span class=k>all</span><span class=p>([</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>getCustomerFromShard</span><span class=p>(</span><span class=n>customer_id</span><span class=p>),</span><span class=w>  </span><span class=o>//</span><span class=w> </span><span class=n>Shard</span><span class=w> </span><span class=n>A</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>getProductFromShard</span><span class=p>(</span><span class=n>product_id</span><span class=p>)</span><span class=w>      </span><span class=o>//</span><span class=w> </span><span class=n>Shard</span><span class=w> </span><span class=n>B</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>]);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>//</span><span class=w> </span><span class=err>애플리케이션에서</span><span class=w> </span><span class=err>조인</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=err>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>customer_name</span><span class=p>:</span><span class=w> </span><span class=n>customer</span><span class=p>.</span><span class=n>name</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>product_name</span><span class=p>:</span><span class=w> </span><span class=n>product</span><span class=p>.</span><span class=n>name</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>combined_data</span><span class=p>:</span><span class=w> </span><span class=err>{</span><span class=w> </span><span class=p>...</span><span class=n>customer</span><span class=p>,</span><span class=w> </span><span class=p>...</span><span class=n>product</span><span class=w> </span><span class=err>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=err>}</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=err>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=72-최신-트렌드-및-방향>7.2 최신 트렌드 및 방향<a hidden class=anchor aria-hidden=true href=#72-최신-트렌드-및-방향>#</a></h4><p><strong>현재 기술 트렌드</strong>:</p><ol><li><p><strong>Temporal ER Modeling</strong> (시간 차원 추가):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-120-1><a class=lnlinks href=#hl-120-1> 1</a>
</span><span class=lnt id=hl-120-2><a class=lnlinks href=#hl-120-2> 2</a>
</span><span class=lnt id=hl-120-3><a class=lnlinks href=#hl-120-3> 3</a>
</span><span class=lnt id=hl-120-4><a class=lnlinks href=#hl-120-4> 4</a>
</span><span class=lnt id=hl-120-5><a class=lnlinks href=#hl-120-5> 5</a>
</span><span class=lnt id=hl-120-6><a class=lnlinks href=#hl-120-6> 6</a>
</span><span class=lnt id=hl-120-7><a class=lnlinks href=#hl-120-7> 7</a>
</span><span class=lnt id=hl-120-8><a class=lnlinks href=#hl-120-8> 8</a>
</span><span class=lnt id=hl-120-9><a class=lnlinks href=#hl-120-9> 9</a>
</span><span class=lnt id=hl-120-10><a class=lnlinks href=#hl-120-10>10</a>
</span><span class=lnt id=hl-120-11><a class=lnlinks href=#hl-120-11>11</a>
</span><span class=lnt id=hl-120-12><a class=lnlinks href=#hl-120-12>12</a>
</span><span class=lnt id=hl-120-13><a class=lnlinks href=#hl-120-13>13</a>
</span><span class=lnt id=hl-120-14><a class=lnlinks href=#hl-120-14>14</a>
</span><span class=lnt id=hl-120-15><a class=lnlinks href=#hl-120-15>15</a>
</span><span class=lnt id=hl-120-16><a class=lnlinks href=#hl-120-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 시간에 따른 속성 변화 추적
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Product_Temporal</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>product_id</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>valid_from</span><span class=w> </span><span class=n>DATETIME</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>valid_to</span><span class=w> </span><span class=n>DATETIME</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>price</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>200</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>product_id</span><span class=p>,</span><span class=w> </span><span class=n>valid_from</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 시간 기반 조회
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_temporal</span><span class=w> </span><span class=p>(</span><span class=n>product_id</span><span class=p>,</span><span class=w> </span><span class=n>valid_from</span><span class=p>,</span><span class=w> </span><span class=n>valid_to</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 특정 시점의 가격 조회
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>price</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Product_Temporal</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>WHERE</span><span class=w> </span><span class=n>product_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>AND</span><span class=w> </span><span class=s1>&#39;2024-06-15&#39;</span><span class=w> </span><span class=k>BETWEEN</span><span class=w> </span><span class=n>valid_from</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>valid_to</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li><p><strong>Property Graph Model</strong> (ER + Graph DB 융합):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-121-1><a class=lnlinks href=#hl-121-1> 1</a>
</span><span class=lnt id=hl-121-2><a class=lnlinks href=#hl-121-2> 2</a>
</span><span class=lnt id=hl-121-3><a class=lnlinks href=#hl-121-3> 3</a>
</span><span class=lnt id=hl-121-4><a class=lnlinks href=#hl-121-4> 4</a>
</span><span class=lnt id=hl-121-5><a class=lnlinks href=#hl-121-5> 5</a>
</span><span class=lnt id=hl-121-6><a class=lnlinks href=#hl-121-6> 6</a>
</span><span class=lnt id=hl-121-7><a class=lnlinks href=#hl-121-7> 7</a>
</span><span class=lnt id=hl-121-8><a class=lnlinks href=#hl-121-8> 8</a>
</span><span class=lnt id=hl-121-9><a class=lnlinks href=#hl-121-9> 9</a>
</span><span class=lnt id=hl-121-10><a class=lnlinks href=#hl-121-10>10</a>
</span><span class=lnt id=hl-121-11><a class=lnlinks href=#hl-121-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Neo4j: ER 관계를 엣지 속성으로 확장
</span></span><span class=line><span class=cl>CREATE (c:Customer {customer_id: 1, name: &#39;김철수&#39;})
</span></span><span class=line><span class=cl>CREATE (p:Product {product_id: 101, name: &#39;노트북&#39;})
</span></span><span class=line><span class=cl>CREATE (c)-[:PURCHASED {
</span></span><span class=line><span class=cl>    date: date(&#39;2024-01-15&#39;),
</span></span><span class=line><span class=cl>    quantity: 2,
</span></span><span class=line><span class=cl>    price: 1500000,
</span></span><span class=line><span class=cl>    order_id: 1001
</span></span><span class=line><span class=cl>}]-&gt;(p)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// ER의 N:M 관계를 풍부한 엣지로 표현
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>Event-Driven ER Modeling</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-122-1><a class=lnlinks href=#hl-122-1> 1</a>
</span><span class=lnt id=hl-122-2><a class=lnlinks href=#hl-122-2> 2</a>
</span><span class=lnt id=hl-122-3><a class=lnlinks href=#hl-122-3> 3</a>
</span><span class=lnt id=hl-122-4><a class=lnlinks href=#hl-122-4> 4</a>
</span><span class=lnt id=hl-122-5><a class=lnlinks href=#hl-122-5> 5</a>
</span><span class=lnt id=hl-122-6><a class=lnlinks href=#hl-122-6> 6</a>
</span><span class=lnt id=hl-122-7><a class=lnlinks href=#hl-122-7> 7</a>
</span><span class=lnt id=hl-122-8><a class=lnlinks href=#hl-122-8> 8</a>
</span><span class=lnt id=hl-122-9><a class=lnlinks href=#hl-122-9> 9</a>
</span><span class=lnt id=hl-122-10><a class=lnlinks href=#hl-122-10>10</a>
</span><span class=lnt id=hl-122-11><a class=lnlinks href=#hl-122-11>11</a>
</span><span class=lnt id=hl-122-12><a class=lnlinks href=#hl-122-12>12</a>
</span><span class=lnt id=hl-122-13><a class=lnlinks href=#hl-122-13>13</a>
</span><span class=lnt id=hl-122-14><a class=lnlinks href=#hl-122-14>14</a>
</span><span class=lnt id=hl-122-15><a class=lnlinks href=#hl-122-15>15</a>
</span><span class=lnt id=hl-122-16><a class=lnlinks href=#hl-122-16>16</a>
</span><span class=lnt id=hl-122-17><a class=lnlinks href=#hl-122-17>17</a>
</span><span class=lnt id=hl-122-18><a class=lnlinks href=#hl-122-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 이벤트 소싱: ER 상태를 이벤트로 재구성
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 기존 ER: Order 상태 업데이트
</span></span></span><span class=line><span class=cl><span class=nx>UPDATE</span> <span class=nx>Orders</span> <span class=nx>SET</span> <span class=nx>status</span> <span class=o>=</span> <span class=s1>&#39;Shipped&#39;</span> <span class=nx>WHERE</span> <span class=nx>order_id</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 이벤트 소싱: 상태 변화를 이벤트로 기록
</span></span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>events</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span> <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;OrderCreated&#39;</span><span class=p>,</span> <span class=nx>order_id</span><span class=o>:</span> <span class=mi>1</span><span class=p>,</span> <span class=nx>timestamp</span><span class=o>:</span> <span class=s1>&#39;2024-01-15T10:00:00Z&#39;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span> <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;PaymentReceived&#39;</span><span class=p>,</span> <span class=nx>order_id</span><span class=o>:</span> <span class=mi>1</span><span class=p>,</span> <span class=nx>amount</span><span class=o>:</span> <span class=mi>100000</span><span class=p>,</span> <span class=nx>timestamp</span><span class=o>:</span> <span class=s1>&#39;2024-01-15T10:05:00Z&#39;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span> <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;OrderShipped&#39;</span><span class=p>,</span> <span class=nx>order_id</span><span class=o>:</span> <span class=mi>1</span><span class=p>,</span> <span class=nx>tracking</span><span class=o>:</span> <span class=s1>&#39;TRACK123&#39;</span><span class=p>,</span> <span class=nx>timestamp</span><span class=o>:</span> <span class=s1>&#39;2024-01-16T14:00:00Z&#39;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 현재 상태 = 이벤트 리플레이
</span></span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>getCurrentOrderState</span><span class=p>(</span><span class=nx>order_id</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>events</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>filter</span><span class=p>(</span><span class=nx>e</span> <span class=p>=&gt;</span> <span class=nx>e</span><span class=p>.</span><span class=nx>order_id</span> <span class=o>===</span> <span class=nx>order_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>reduce</span><span class=p>((</span><span class=nx>state</span><span class=p>,</span> <span class=nx>event</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>applyEvent</span><span class=p>(</span><span class=nx>state</span><span class=p>,</span> <span class=nx>event</span><span class=p>),</span> <span class=p>{});</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>Multi-Model Databases</strong>:</p><ul><li>하나의 DB에서 ER + Document + Graph 지원</li><li>예: ArangoDB, OrientDB, CosmosDB</li></ul></li></ol><h4 id=73-대안-기술-및-경쟁-솔루션>7.3 대안 기술 및 경쟁 솔루션<a hidden class=anchor aria-hidden=true href=#73-대안-기술-및-경쟁-솔루션>#</a></h4><p><strong>영역별 대안 기술</strong>:</p><table><thead><tr><th>영역</th><th>ER Modeling 한계</th><th>대안 기술</th><th>장점</th><th>단점</th><th>선택 기준</th></tr></thead><tbody><tr><td>복잡한 관계</td><td>다중 조인 비효율</td><td>Graph Database (Neo4j)</td><td>관계 탐색 O(1), 유연한 스키마</td><td>ACID 제한적, 학습 곡선</td><td>소셜 네트워크, 추천 시스템</td></tr><tr><td>대용량 분석</td><td>정규화로 조인 많음</td><td>Dimensional Modeling</td><td>조인 최소화, 쿼리 빠름</td><td>데이터 중복, 유연성 낮음</td><td>OLAP, 데이터 웨어하우스</td></tr><tr><td>유연한 스키마</td><td>스키마 변경 어려움</td><td>Document DB (MongoDB)</td><td>스키마리스, 빠른 반복</td><td>조인 약함, 트랜잭션 제한</td><td>프로토타이핑, CMS</td></tr><tr><td>실시간 스트림</td><td>배치 중심</td><td>Event Sourcing + CQRS</td><td>감사 추적 완벽, 확장성</td><td>복잡도 높음, 최종 일관성</td><td>금융, IoT</td></tr><tr><td>시계열 데이터</td><td>시간 차원 미흡</td><td>Time-Series DB (InfluxDB)</td><td>압축 우수, 시간 쿼리 최적</td><td>관계 표현 약함</td><td>모니터링, IoT</td></tr><tr><td>지리 정보</td><td>공간 관계 제한</td><td>Spatial Database (PostGIS)</td><td>공간 인덱스, GIS 함수</td><td>복잡한 설정</td><td>위치 기반 서비스</td></tr></tbody></table><p><strong>하이브리드 접근</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-123-1><a class=lnlinks href=#hl-123-1> 1</a>
</span><span class=lnt id=hl-123-2><a class=lnlinks href=#hl-123-2> 2</a>
</span><span class=lnt id=hl-123-3><a class=lnlinks href=#hl-123-3> 3</a>
</span><span class=lnt id=hl-123-4><a class=lnlinks href=#hl-123-4> 4</a>
</span><span class=lnt id=hl-123-5><a class=lnlinks href=#hl-123-5> 5</a>
</span><span class=lnt id=hl-123-6><a class=lnlinks href=#hl-123-6> 6</a>
</span><span class=lnt id=hl-123-7><a class=lnlinks href=#hl-123-7> 7</a>
</span><span class=lnt id=hl-123-8><a class=lnlinks href=#hl-123-8> 8</a>
</span><span class=lnt id=hl-123-9><a class=lnlinks href=#hl-123-9> 9</a>
</span><span class=lnt id=hl-123-10><a class=lnlinks href=#hl-123-10>10</a>
</span><span class=lnt id=hl-123-11><a class=lnlinks href=#hl-123-11>11</a>
</span><span class=lnt id=hl-123-12><a class=lnlinks href=#hl-123-12>12</a>
</span><span class=lnt id=hl-123-13><a class=lnlinks href=#hl-123-13>13</a>
</span><span class=lnt id=hl-123-14><a class=lnlinks href=#hl-123-14>14</a>
</span><span class=lnt id=hl-123-15><a class=lnlinks href=#hl-123-15>15</a>
</span><span class=lnt id=hl-123-16><a class=lnlinks href=#hl-123-16>16</a>
</span><span class=lnt id=hl-123-17><a class=lnlinks href=#hl-123-17>17</a>
</span><span class=lnt id=hl-123-18><a class=lnlinks href=#hl-123-18>18</a>
</span><span class=lnt id=hl-123-19><a class=lnlinks href=#hl-123-19>19</a>
</span><span class=lnt id=hl-123-20><a class=lnlinks href=#hl-123-20>20</a>
</span><span class=lnt id=hl-123-21><a class=lnlinks href=#hl-123-21>21</a>
</span><span class=lnt id=hl-123-22><a class=lnlinks href=#hl-123-22>22</a>
</span><span class=lnt id=hl-123-23><a class=lnlinks href=#hl-123-23>23</a>
</span><span class=lnt id=hl-123-24><a class=lnlinks href=#hl-123-24>24</a>
</span><span class=lnt id=hl-123-25><a class=lnlinks href=#hl-123-25>25</a>
</span><span class=lnt id=hl-123-26><a class=lnlinks href=#hl-123-26>26</a>
</span><span class=lnt id=hl-123-27><a class=lnlinks href=#hl-123-27>27</a>
</span><span class=lnt id=hl-123-28><a class=lnlinks href=#hl-123-28>28</a>
</span><span class=lnt id=hl-123-29><a class=lnlinks href=#hl-123-29>29</a>
</span><span class=lnt id=hl-123-30><a class=lnlinks href=#hl-123-30>30</a>
</span><span class=lnt id=hl-123-31><a class=lnlinks href=#hl-123-31>31</a>
</span><span class=lnt id=hl-123-32><a class=lnlinks href=#hl-123-32>32</a>
</span><span class=lnt id=hl-123-33><a class=lnlinks href=#hl-123-33>33</a>
</span><span class=lnt id=hl-123-34><a class=lnlinks href=#hl-123-34>34</a>
</span><span class=lnt id=hl-123-35><a class=lnlinks href=#hl-123-35>35</a>
</span><span class=lnt id=hl-123-36><a class=lnlinks href=#hl-123-36>36</a>
</span><span class=lnt id=hl-123-37><a class=lnlinks href=#hl-123-37>37</a>
</span><span class=lnt id=hl-123-38><a class=lnlinks href=#hl-123-38>38</a>
</span><span class=lnt id=hl-123-39><a class=lnlinks href=#hl-123-39>39</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Polyglot Persistence: 각 데이터에 맞는 저장소 사용</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>HybridDataAccess</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>mysql</span> <span class=o>=</span> <span class=n>MySQLConnection</span><span class=p>()</span>      <span class=c1># ER 모델 (트랜잭션)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>mongodb</span> <span class=o>=</span> <span class=n>MongoDBConnection</span><span class=p>()</span>  <span class=c1># 유연한 스키마</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>neo4j</span> <span class=o>=</span> <span class=n>Neo4jConnection</span><span class=p>()</span>      <span class=c1># 복잡한 관계</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>redis</span> <span class=o>=</span> <span class=n>RedisConnection</span><span class=p>()</span>       <span class=c1># 캐시</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>async</span> <span class=k>def</span> <span class=nf>create_order</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order_data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># 1. MySQL: 트랜잭션 데이터 (ER 모델)</span>
</span></span><span class=line><span class=cl>        <span class=k>async</span> <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>mysql</span><span class=o>.</span><span class=n>transaction</span><span class=p>():</span>
</span></span><span class=line><span class=cl>            <span class=n>order_id</span> <span class=o>=</span> <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>mysql</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>                INSERT INTO Orders (customer_id, order_date, total_amount)
</span></span></span><span class=line><span class=cl><span class=s2>                VALUES (</span><span class=si>%s</span><span class=s2>, </span><span class=si>%s</span><span class=s2>, </span><span class=si>%s</span><span class=s2>)
</span></span></span><span class=line><span class=cl><span class=s2>            &#34;&#34;&#34;</span><span class=p>,</span> <span class=p>(</span><span class=n>order_data</span><span class=p>[</span><span class=s1>&#39;customer_id&#39;</span><span class=p>],</span> <span class=n>order_data</span><span class=p>[</span><span class=s1>&#39;date&#39;</span><span class=p>],</span> <span class=n>order_data</span><span class=p>[</span><span class=s1>&#39;total&#39;</span><span class=p>]))</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 2. MongoDB: 비정형 메타데이터</span>
</span></span><span class=line><span class=cl>        <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>mongodb</span><span class=o>.</span><span class=n>orders</span><span class=o>.</span><span class=n>insert_one</span><span class=p>({</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;_id&#39;</span><span class=p>:</span> <span class=n>order_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;custom_fields&#39;</span><span class=p>:</span> <span class=n>order_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;custom_fields&#39;</span><span class=p>,</span> <span class=p>{}),</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;tags&#39;</span><span class=p>:</span> <span class=n>order_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;tags&#39;</span><span class=p>,</span> <span class=p>[]),</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;attachments&#39;</span><span class=p>:</span> <span class=n>order_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;attachments&#39;</span><span class=p>,</span> <span class=p>[])</span>
</span></span><span class=line><span class=cl>        <span class=p>})</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 3. Neo4j: 추천을 위한 그래프 관계</span>
</span></span><span class=line><span class=cl>        <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>neo4j</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>            MATCH (c:Customer {id: $customer_id})
</span></span></span><span class=line><span class=cl><span class=s2>            MATCH (p:Product {id: $product_id})
</span></span></span><span class=line><span class=cl><span class=s2>            CREATE (c)-[:PURCHASED {order_id: $order_id, date: $date}]-&gt;(p)
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span><span class=p>,</span> <span class=n>customer_id</span><span class=o>=</span><span class=n>order_data</span><span class=p>[</span><span class=s1>&#39;customer_id&#39;</span><span class=p>],</span> 
</span></span><span class=line><span class=cl>             <span class=n>product_id</span><span class=o>=</span><span class=n>order_data</span><span class=p>[</span><span class=s1>&#39;product_id&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>             <span class=n>order_id</span><span class=o>=</span><span class=n>order_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>             <span class=n>date</span><span class=o>=</span><span class=n>order_data</span><span class=p>[</span><span class=s1>&#39;date&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 4. Redis: 캐시 무효화</span>
</span></span><span class=line><span class=cl>        <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>redis</span><span class=o>.</span><span class=n>delete</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;customer:</span><span class=si>{</span><span class=n>order_data</span><span class=p>[</span><span class=s1>&#39;customer_id&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>:orders&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>order_id</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=74-신규-패턴-및-아키텍처-트렌드>7.4 신규 패턴 및 아키텍처 트렌드<a hidden class=anchor aria-hidden=true href=#74-신규-패턴-및-아키텍처-트렌드>#</a></h4><p><strong>1. Data Mesh + ER Modeling</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-124-1><a class=lnlinks href=#hl-124-1> 1</a>
</span><span class=lnt id=hl-124-2><a class=lnlinks href=#hl-124-2> 2</a>
</span><span class=lnt id=hl-124-3><a class=lnlinks href=#hl-124-3> 3</a>
</span><span class=lnt id=hl-124-4><a class=lnlinks href=#hl-124-4> 4</a>
</span><span class=lnt id=hl-124-5><a class=lnlinks href=#hl-124-5> 5</a>
</span><span class=lnt id=hl-124-6><a class=lnlinks href=#hl-124-6> 6</a>
</span><span class=lnt id=hl-124-7><a class=lnlinks href=#hl-124-7> 7</a>
</span><span class=lnt id=hl-124-8><a class=lnlinks href=#hl-124-8> 8</a>
</span><span class=lnt id=hl-124-9><a class=lnlinks href=#hl-124-9> 9</a>
</span><span class=lnt id=hl-124-10><a class=lnlinks href=#hl-124-10>10</a>
</span><span class=lnt id=hl-124-11><a class=lnlinks href=#hl-124-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>전통적 접근: 중앙 집중식 ER 모델
</span></span><span class=line><span class=cl>새로운 접근: 도메인별 분산 ER 모델
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[Data Mesh 구조]
</span></span><span class=line><span class=cl>주문 도메인 ER ───┐
</span></span><span class=line><span class=cl>                  ├─── 데이터 카탈로그 (메타데이터)
</span></span><span class=line><span class=cl>재고 도메인 ER ───┤
</span></span><span class=line><span class=cl>                  └─── 연합 거버넌스
</span></span><span class=line><span class=cl>고객 도메인 ER ───┘
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>각 도메인이 독립적 ER 모델 소유 + 표준화된 인터페이스 제공
</span></span></code></pre></td></tr></table></div></div><p><strong>2. Real-Time OLAP (HTAP)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-125-1><a class=lnlinks href=#hl-125-1> 1</a>
</span><span class=lnt id=hl-125-2><a class=lnlinks href=#hl-125-2> 2</a>
</span><span class=lnt id=hl-125-3><a class=lnlinks href=#hl-125-3> 3</a>
</span><span class=lnt id=hl-125-4><a class=lnlinks href=#hl-125-4> 4</a>
</span><span class=lnt id=hl-125-5><a class=lnlinks href=#hl-125-5> 5</a>
</span><span class=lnt id=hl-125-6><a class=lnlinks href=#hl-125-6> 6</a>
</span><span class=lnt id=hl-125-7><a class=lnlinks href=#hl-125-7> 7</a>
</span><span class=lnt id=hl-125-8><a class=lnlinks href=#hl-125-8> 8</a>
</span><span class=lnt id=hl-125-9><a class=lnlinks href=#hl-125-9> 9</a>
</span><span class=lnt id=hl-125-10><a class=lnlinks href=#hl-125-10>10</a>
</span><span class=lnt id=hl-125-11><a class=lnlinks href=#hl-125-11>11</a>
</span><span class=lnt id=hl-125-12><a class=lnlinks href=#hl-125-12>12</a>
</span><span class=lnt id=hl-125-13><a class=lnlinks href=#hl-125-13>13</a>
</span><span class=lnt id=hl-125-14><a class=lnlinks href=#hl-125-14>14</a>
</span><span class=lnt id=hl-125-15><a class=lnlinks href=#hl-125-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- TiDB, CockroachDB: ER 모델로 OLTP + OLAP 동시 지원
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- OLTP 쿼리 (행 기반 저장)
</span></span></span><span class=line><span class=cl><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>Orders</span><span class=w> </span><span class=p>(</span><span class=n>customer_id</span><span class=p>,</span><span class=w> </span><span class=n>order_date</span><span class=p>,</span><span class=w> </span><span class=n>total_amount</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>NOW</span><span class=p>(),</span><span class=w> </span><span class=mi>100000</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- OLAP 쿼리 (컬럼 기반 저장, 동일 데이터)
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>DATE_FORMAT</span><span class=p>(</span><span class=n>order_date</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;%Y-%m&#39;</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=k>month</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SUM</span><span class=p>(</span><span class=n>total_amount</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>revenue</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>Orders</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>WHERE</span><span class=w> </span><span class=n>order_date</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=s1>&#39;2024-01-01&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=k>month</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 내부적으로 행/컬럼 저장소 자동 분리
</span></span></span></code></pre></td></tr></table></div></div><p><strong>3. Lakehouse Architecture</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-126-1><a class=lnlinks href=#hl-126-1>1</a>
</span><span class=lnt id=hl-126-2><a class=lnlinks href=#hl-126-2>2</a>
</span><span class=lnt id=hl-126-3><a class=lnlinks href=#hl-126-3>3</a>
</span><span class=lnt id=hl-126-4><a class=lnlinks href=#hl-126-4>4</a>
</span><span class=lnt id=hl-126-5><a class=lnlinks href=#hl-126-5>5</a>
</span><span class=lnt id=hl-126-6><a class=lnlinks href=#hl-126-6>6</a>
</span><span class=lnt id=hl-126-7><a class=lnlinks href=#hl-126-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>ER 모델 (운영 DB)
</span></span><span class=line><span class=cl>    ↓ CDC (Change Data Capture)
</span></span><span class=line><span class=cl>Data Lake (Parquet, ORC)
</span></span><span class=line><span class=cl>    ↓ Schema-on-Read
</span></span><span class=line><span class=cl>ER 기반 분석 테이블
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>장점: ER 모델 유지 + 데이터 레이크 유연성
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=최종-정리-및-학습-가이드-3>최종 정리 및 학습 가이드<a hidden class=anchor aria-hidden=true href=#최종-정리-및-학습-가이드-3>#</a></h2><h3 id=내용-종합-4>내용 종합<a hidden class=anchor aria-hidden=true href=#내용-종합-4>#</a></h3><p>ER Modeling(Entity-Relationship Modeling, 개체-관계 모델링)은 1976년 Peter Chen이 제안한 이래 데이터베이스 설계의 표준 방법론으로 자리잡았습니다. 개체(Entity), 속성(Attribute), 관계(Relationship)라는 세 가지 핵심 구성요소를 통해 복잡한 현실 세계의 데이터를 구조화하고 시각화합니다.</p><p><strong>핵심 가치</strong>:</p><ol><li><strong>비즈니스와 기술의 가교</strong>: ERD를 통한 이해관계자 간 공통 언어 제공</li><li><strong>데이터 무결성 보장</strong>: 정규화와 제약조건으로 일관성 유지</li><li><strong>체계적 설계 프로세스</strong>: 개념적 → 논리적 → 물리적 단계별 접근</li><li><strong>유지보수성</strong>: 명확한 구조 문서화로 변경 영향도 파악 용이</li></ol><p><strong>주요 개념 요약</strong>:</p><ul><li><strong>개체</strong>: 독립적으로 존재하는 객체 (강한 개체 vs 약한 개체)</li><li><strong>속성</strong>: 개체의 특성 (단순/복합/다중값/유도 속성)</li><li><strong>관계</strong>: 개체 간 연관성 (1:1, 1:N, N:M 카디널리티)</li><li><strong>정규화</strong>: 데이터 중복 최소화 (1NF ~ BCNF)</li><li><strong>매핑 규칙</strong>: ER → 관계형 스키마 변환</li></ul><p><strong>실무 적용</strong>:</p><ul><li>ORM 프레임워크와 통합으로 생산성 향상</li><li>마이크로서비스 아키텍처의 도메인 경계 설정 기준</li><li>REST API 설계의 리소스 구조 기반</li><li>데이터 웨어하우스 설계의 출발점</li></ul><p><strong>한계와 대안</strong>:</p><ul><li>대규모 조인 성능 → 비정규화, 캐싱, NoSQL 보완</li><li>스키마 유연성 부족 → Document DB 하이브리드</li><li>복잡한 관계 탐색 → Graph Database 활용</li><li>실시간 분석 요구 → HTAP, Lakehouse 아키텍처</li></ul><h3 id=실무-적용-가이드-4>실무 적용 가이드<a hidden class=anchor aria-hidden=true href=#실무-적용-가이드-4>#</a></h3><p><strong>1. 프로젝트 시작 단계</strong>:</p><ul><li><input disabled type=checkbox> 도메인 전문가와 요구사항 워크숍 진행</li><li><input disabled type=checkbox> 주요 개체 식별 (명사 추출, 독립성 평가)</li><li><input disabled type=checkbox> 표기법 선택 (Crow&rsquo;s Foot 권장 - 직관적)</li><li><input disabled type=checkbox> 도구 선정 (ERwin, dbdiagram.io, Lucidchart 등)</li></ul><p><strong>2. 설계 단계</strong>:</p><ul><li><input disabled type=checkbox> 개념적 ERD 작성 (비즈니스 중심, 기술 배제)</li><li><input disabled type=checkbox> 관계 정의 (카디널리티, 참여 제약 명시)</li><li><input disabled type=checkbox> 정규화 적용 (최소 3NF)</li><li><input disabled type=checkbox> 이해관계자 리뷰 및 피드백 반영</li></ul><p><strong>3. 구현 단계</strong>:</p><ul><li><input disabled type=checkbox> 논리적 스키마 변환 (매핑 규칙 적용)</li><li><input disabled type=checkbox> DDL 작성 (외래키, 인덱스, 제약조건)</li><li><input disabled type=checkbox> 샘플 데이터로 검증</li><li><input disabled type=checkbox> 성능 테스트 및 튜닝</li></ul><p><strong>4. 운영 단계</strong>:</p><ul><li><input disabled type=checkbox> 참조 무결성 모니터링</li><li><input disabled type=checkbox> 느린 쿼리 분석 및 최적화</li><li><input disabled type=checkbox> 용량 계획 및 아카이빙 전략</li><li><input disabled type=checkbox> 정기적 ERD 업데이트</li></ul><h3 id=학습-로드맵-4>학습 로드맵<a hidden class=anchor aria-hidden=true href=#학습-로드맵-4>#</a></h3><p><strong>초급 (1-2개월)</strong>:
1주차: ER 기본 개념 (개체, 속성, 관계)
2주차: 표기법 학습 (Chen, Crow&rsquo;s Foot)
3주차: 카디널리티와 참여 제약
4주차: 간단한 ERD 실습 (블로그, 게시판)
5-8주차: 정규화 (1NF ~ 3NF), 관계형 스키마 변환</p><p><strong>중급 (2-3개월)</strong>:
1-2개월: 고급 개념 (약한 개체, 특수화/일반화, EER)
3-4개월: 실무 사례 분석 (전자상거래, 금융)
5-6개월: 성능 최적화 (인덱스, 파티셔닝)
7-8개월: 도구 활용 (ERwin, ORM 연동)</p><p><strong>고급 (3-6개월)</strong>:
1-2개월: 분산 환경 설계 (샤딩, 복제)
3-4개월: NoSQL 통합 (Polyglot Persistence)
5-6개월: 마이크로서비스 데이터 설계
7-9개월: 대규모 시스템 아키텍처
10-12개월: 최신 트렌드 (Data Mesh, HTAP)</p><h3 id=학습-항목-정리-4>학습 항목 정리<a hidden class=anchor aria-hidden=true href=#학습-항목-정리-4>#</a></h3><table><thead><tr><th>카테고리</th><th>Phase</th><th>항목</th><th>중요도</th><th>학습 목표</th><th>실무 연관성</th><th>설명</th></tr></thead><tbody><tr><td>기초</td><td>1</td><td>개체(Entity) 개념</td><td>필수</td><td>독립 객체 식별 능력</td><td>높음</td><td>데이터베이스 테이블의 기반</td></tr><tr><td>기초</td><td>1</td><td>속성(Attribute) 유형</td><td>필수</td><td>데이터 항목 분류</td><td>높음</td><td>컬럼 설계의 핵심</td></tr><tr><td>기초</td><td>1</td><td>관계(Relationship) 이해</td><td>필수</td><td>개체 간 연관성 표현</td><td>높음</td><td>외래키 설계의 기초</td></tr><tr><td>핵심</td><td>2</td><td>카디널리티 결정</td><td>필수</td><td>1:1, 1:N, N:M 구분</td><td>높음</td><td>데이터 무결성의 핵심</td></tr><tr><td>핵심</td><td>2</td><td>약한 개체 구현</td><td>필수</td><td>종속 관계 설계</td><td>높음</td><td>계층적 데이터 모델링</td></tr><tr><td>핵심</td><td>2</td><td>정규화 적용</td><td>필수</td><td>중복 제거, 이상 방지</td><td>높음</td><td>데이터 품질 보장</td></tr><tr><td>응용</td><td>3</td><td>특수화/일반화</td><td>권장</td><td>상속 구조 모델링</td><td>중간</td><td>복잡한 도메인 표현</td></tr><tr><td>응용</td><td>4</td><td>ER → 스키마 변환</td><td>필수</td><td>매핑 규칙 적용</td><td>높음</td><td>구현의 필수 단계</td></tr><tr><td>응용</td><td>4</td><td>다중값 속성 처리</td><td>권장</td><td>정규화 실무 적용</td><td>중간</td><td>1NF 준수 기법</td></tr><tr><td>응용</td><td>5</td><td>ORM 통합</td><td>권장</td><td>코드와 DB 연결</td><td>높음</td><td>현대적 개발 패턴</td></tr><tr><td>응용</td><td>5</td><td>API 설계 연계</td><td>선택</td><td>리소스 구조 매핑</td><td>중간</td><td>RESTful 설계 기반</td></tr><tr><td>고급</td><td>6</td><td>성능 최적화</td><td>권장</td><td>인덱스, 파티셔닝</td><td>높음</td><td>대용량 시스템 필수</td></tr><tr><td>고급</td><td>6</td><td>보안 전략</td><td>권장</td><td>암호화, 접근 제어</td><td>높음</td><td>컴플라이언스 대응</td></tr><tr><td>고급</td><td>7</td><td>분산 설계</td><td>선택</td><td>샤딩, 복제 전략</td><td>중간</td><td>확장성 확보</td></tr><tr><td>고급</td><td>7</td><td>NoSQL 통합</td><td>선택</td><td>하이브리드 아키텍처</td><td>낮음</td><td>Polyglot Persistence</td></tr><tr><td>고급</td><td>7</td><td>최신 트렌드</td><td>선택</td><td>Data Mesh, HTAP</td><td>낮음</td><td>미래 대비 지식</td></tr></tbody></table><hr><h2 id=용어-정리-4>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-4>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>정의</th><th>관련 개념</th><th>실무 활용</th></tr></thead><tbody><tr><td>핵심</td><td>Entity (개체)</td><td>독립적으로 존재하며 다른 것과 구별 가능한 객체나 개념</td><td>개체 타입, 개체 집합</td><td>데이터베이스 테이블로 구현</td></tr><tr><td>핵심</td><td>Attribute (속성)</td><td>개체의 특성이나 성질을 나타내는 데이터 항목</td><td>도메인, 키 속성</td><td>테이블 컬럼으로 구현</td></tr><tr><td>핵심</td><td>Relationship (관계)</td><td>두 개 이상의 개체 간의 연관성</td><td>카디널리티, 참여 제약</td><td>외래키 또는 조인 테이블로 구현</td></tr><tr><td>핵심</td><td>Cardinality (카디널리티)</td><td>관계에 참여하는 개체 인스턴스의 수적 제약</td><td>1:1, 1:N, N:M</td><td>외래키 제약조건으로 구현</td></tr><tr><td>핵심</td><td>ERD (Entity-Relationship Diagram)</td><td>개체, 속성, 관계를 시각적으로 표현한 다이어그램</td><td>Chen, Crow&rsquo;s Foot 표기법</td><td>설계 문서화 및 커뮤니케이션</td></tr><tr><td>구현</td><td>Strong Entity (강한 개체)</td><td>독립적으로 식별 가능한 개체</td><td>기본키</td><td>독립적인 테이블</td></tr><tr><td>구현</td><td>Weak Entity (약한 개체)</td><td>다른 개체에 의존하여 식별되는 개체</td><td>부분키, 소유자 개체</td><td>복합 기본키, CASCADE 삭제</td></tr><tr><td>구현</td><td>Primary Key (기본키)</td><td>개체의 인스턴스를 고유하게 식별하는 속성</td><td>후보키, 대체키</td><td>PK 제약조건</td></tr><tr><td>구현</td><td>Foreign Key (외래키)</td><td>다른 개체를 참조하는 속성</td><td>참조 무결성</td><td>FK 제약조건</td></tr><tr><td>구현</td><td>Composite Attribute (복합 속성)</td><td>여러 구성 요소로 분해 가능한 속성</td><td>단순 속성</td><td>여러 컬럼으로 분해</td></tr><tr><td>구현</td><td>Multi-valued Attribute (다중값 속성)</td><td>여러 값을 가질 수 있는 속성</td><td>정규화</td><td>별도 테이블로 분리</td></tr><tr><td>구현</td><td>Derived Attribute (유도 속성)</td><td>다른 속성으로부터 계산 가능한 속성</td><td>저장 속성</td><td>계산 컬럼 또는 VIEW</td></tr><tr><td>정규화</td><td>1NF (First Normal Form)</td><td>모든 속성이 원자값을 가지는 정규형</td><td>도메인, 다중값 제거</td><td>반복 그룹 제거</td></tr><tr><td>정규화</td><td>2NF (Second Normal Form)</td><td>1NF + 부분 함수 종속 제거</td><td>완전 함수 종속</td><td>복합키 종속성 분리</td></tr><tr><td>정규화</td><td>3NF (Third Normal Form)</td><td>2NF + 이행 함수 종속 제거</td><td>이행적 종속</td><td>비키 속성 간 종속 제거</td></tr><tr><td>정규화</td><td>BCNF (Boyce-Codd Normal Form)</td><td>모든 결정자가 후보키인 정규형</td><td>함수 종속성</td><td>강한 정규화</td></tr><tr><td>관계</td><td>Participation Constraint (참여 제약)</td><td>개체가 관계에 참여하는 필수성</td><td>전체 참여, 부분 참여</td><td>NOT NULL 제약조건</td></tr><tr><td>관계</td><td>Total Participation (전체 참여)</td><td>모든 인스턴스가 관계에 참여</td><td>필수 관계</td><td>NOT NULL FK</td></tr><tr><td>관계</td><td>Partial Participation (부분 참여)</td><td>일부 인스턴스만 관계에 참여</td><td>선택적 관계</td><td>NULL 허용 FK</td></tr><tr><td>고급</td><td>Specialization (특수화)</td><td>상위 개체를 하위 타입으로 세분화</td><td>일반화, ISA 관계</td><td>상속 구조 구현</td></tr><tr><td>고급</td><td>Generalization (일반화)</td><td>하위 개체의 공통 속성을 상위로 추출</td><td>특수화, ISA 관계</td><td>공통 속성 통합</td></tr><tr><td>고급</td><td>Aggregation (집합)</td><td>관계를 상위 수준 개체로 취급</td><td>복합 관계</td><td>관계의 관계 표현</td></tr><tr><td>고급</td><td>EER (Enhanced ER)</td><td>특수화/일반화 등 고급 개념 추가한 확장 ER</td><td>상속, 제약조건</td><td>복잡한 도메인 모델링</td></tr><tr><td>변환</td><td>Mapping Rule (매핑 규칙)</td><td>ER 모델을 관계형 스키마로 변환하는 규칙</td><td>정방향 공학</td><td>ER → DDL 변환</td></tr><tr><td>변환</td><td>Reverse Engineering (역공학)</td><td>기존 데이터베이스로부터 ER 모델 추출</td><td>데이터 모델 복구</td><td>레거시 시스템 분석</td></tr><tr><td>도구</td><td>Chen Notation (Chen 표기법)</td><td>Peter Chen이 제안한 원형 ER 표기법</td><td>마름모 관계, 타원 속성</td><td>학술적 표준</td></tr><tr><td>도구</td><td>Crow&rsquo;s Foot Notation</td><td>까마귀발 모양의 카디널리티 표기법</td><td>직관적 표현</td><td>실무 표준</td></tr><tr><td>도구</td><td>IE Notation (Information Engineering)</td><td>관계선에 카디널리티 직접 표기</td><td>James Martin</td><td>엔터프라이즈 표준</td></tr><tr><td>운영</td><td>Referential Integrity (참조 무결성)</td><td>외래키가 유효한 기본키를 참조하도록 보장</td><td>FK 제약조건</td><td>데이터 일관성 유지</td></tr><tr><td>운영</td><td>Cascade Delete (종속 삭제)</td><td>부모 레코드 삭제 시 자식도 자동 삭제</td><td>약한 개체</td><td>ON DELETE CASCADE</td></tr><tr><td>운영</td><td>Orphaned Record (고아 레코드)</td><td>참조하는 부모가 없는 자식 레코드</td><td>무결성 위반</td><td>데이터 정합성 점검</td></tr></tbody></table><hr><h2 id=참고-및-출처-4>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-4>#</a></h2><h3 id=학술-문헌>학술 문헌<a hidden class=anchor aria-hidden=true href=#학술-문헌>#</a></h3><ul><li>Chen, P. P. (1976). &ldquo;The Entity-Relationship Model: Toward a Unified View of Data&rdquo;. ACM Transactions on Database Systems (TODS), 1(1), 9-36.</li><li>Codd, E. F. (1970). &ldquo;A Relational Model of Data for Large Shared Data Banks&rdquo;. Communications of the ACM, 13(6), 377-387.</li><li>Teorey, T. J., Yang, D., & Fry, J. P. (1986). &ldquo;A Logical Design Methodology for Relational Databases Using the Extended Entity-Relationship Model&rdquo;. ACM Computing Surveys (CSUR), 18(2), 197-222.</li></ul><h3 id=표준-및-규격>표준 및 규격<a hidden class=anchor aria-hidden=true href=#표준-및-규격>#</a></h3><ul><li>ISO/IEC 11179: Metadata Registries (<a href=https://www.iso.org/standard/50340.html>https://www.iso.org/standard/50340.html</a>)</li><li>ANSI/SPARC Three Schema Architecture</li><li>IDEF1X: Integration Definition for Information Modeling (<a href=https://www.idef.com/idef1x/>https://www.idef.com/idef1x/</a>)</li></ul><h3 id=공식-문서>공식 문서<a hidden class=anchor aria-hidden=true href=#공식-문서>#</a></h3><ul><li>MySQL Reference Manual - Data Modeling (<a href=https://dev.mysql.com/doc/refman/8.0/en/data-modeling.html>https://dev.mysql.com/doc/refman/8.0/en/data-modeling.html</a>)</li><li>PostgreSQL Documentation - Database Design (<a href=https://www.postgresql.org/docs/current/ddl.html>https://www.postgresql.org/docs/current/ddl.html</a>)</li><li>Oracle Database Concepts - Data Modeling (<a href=https://docs.oracle.com/en/database/oracle/oracle-database/19/cncpt/data-modeling.html>https://docs.oracle.com/en/database/oracle/oracle-database/19/cncpt/data-modeling.html</a>)</li></ul><h3 id=기술-블로그-및-실무-사례>기술 블로그 및 실무 사례<a hidden class=anchor aria-hidden=true href=#기술-블로그-및-실무-사례>#</a></h3><ul><li>Uber Engineering - Schemaless: Uber&rsquo;s Scalable Datastore (<a href=https://eng.uber.com/schemaless-part-one/>https://eng.uber.com/schemaless-part-one/</a>)</li><li>Netflix TechBlog - Data Modeling at Netflix (<a href=https://netflixtechblog.com/data-modeling-at-netflix-9373b6f35b50>https://netflixtechblog.com/data-modeling-at-netflix-9373b6f35b50</a>)</li><li>Airbnb Engineering - Data Infrastructure (<a href=https://medium.com/airbnb-engineering/data-infrastructure-at-airbnb-8adfb34f169c>https://medium.com/airbnb-engineering/data-infrastructure-at-airbnb-8adfb34f169c</a>)</li></ul><h3 id=도구-및-리소스>도구 및 리소스<a hidden class=anchor aria-hidden=true href=#도구-및-리소스>#</a></h3><ul><li>dbdiagram.io - Database Relationship Diagrams Design Tool (<a href=https://dbdiagram.io/>https://dbdiagram.io/</a>)</li><li>ERwin Data Modeler (<a href=https://www.erwin.com/>https://www.erwin.com/</a>)</li><li>MySQL Workbench (<a href=https://www.mysql.com/products/workbench/>https://www.mysql.com/products/workbench/</a>)</li><li>Lucidchart ER Diagram Tool (<a href=https://www.lucidchart.com/pages/er-diagrams>https://www.lucidchart.com/pages/er-diagrams</a>)</li></ul><h3 id=학습-자료>학습 자료<a hidden class=anchor aria-hidden=true href=#학습-자료>#</a></h3><ul><li>Database System Concepts (Silberschatz, Korth, Sudarshan)</li><li>Fundamentals of Database Systems (Elmasri, Navathe)</li><li>Data Modeling Master Class Training (DAMA International)</li></ul><h3 id=커뮤니티-및-포럼>커뮤니티 및 포럼<a hidden class=anchor aria-hidden=true href=#커뮤니티-및-포럼>#</a></h3><ul><li>Stack Overflow - Database Design Tag (<a href=https://stackoverflow.com/questions/tagged/database-design>https://stackoverflow.com/questions/tagged/database-design</a>)</li><li>Database Administrators Stack Exchange (<a href=https://dba.stackexchange.com/>https://dba.stackexchange.com/</a>)</li><li>Reddit - r/Database (<a href=https://www.reddit.com/r/Database/>https://www.reddit.com/r/Database/</a>)</li></ul><hr><p>이것으로 ER Modeling에 대한 종합 조사를 완료하였습니다. 이 문서는 초심자부터 중급 실무자까지 단계별로 학습할 수 있도록 구성되었으며, 기초 개념부터 고급 주제, 실무 적용 사례, 최신 트렌드까지 포괄적으로 다루었습니다.</p><hr><h1 id=er-modeling-엔터티-관계-모델링--종합-조사설계실무-가이드>ER Modeling (엔터티-관계 모델링) — 종합 조사·설계·실무 가이드<a hidden class=anchor aria-hidden=true href=#er-modeling-엔터티-관계-모델링--종합-조사설계실무-가이드>#</a></h1><blockquote><p>역할 기준: 교육 전문가 · 기초/기본 중시 · 기술 분석가 · 생태계 전문가 · 검증 전문가 · 맞춤형 큐레이터</p></blockquote><hr><h2 id=1단계-기본-분석-및-검증-2>1단계: 기본 분석 및 검증<a hidden class=anchor aria-hidden=true href=#1단계-기본-분석-및-검증-2>#</a></h2><h3 id=1-주제-유형-식별-1>1) 주제 유형 식별<a hidden class=anchor aria-hidden=true href=#1-주제-유형-식별-1>#</a></h3><ul><li><strong>주 유형</strong>: <strong>A형(이론/개념형)</strong> — 개념·정의·제약 모델 중심</li><li><strong>부 유형(교차)</strong>: <strong>C형(아키텍처/패턴형)</strong> — 도메인 모델링 연결, <strong>F형(표준/프로토콜형)</strong> — UML(Unified Modeling Language)·SQL 제약 표현 연계</li></ul><h3 id=2-복잡도-평가-1>2) 복잡도 평가<a hidden class=anchor aria-hidden=true href=#2-복잡도-평가-1>#</a></h3><ul><li><strong>Level 2 (중급)</strong>: 기초 이론 + 실무 설계 규칙 + 구현 예제 + 운영 가이드</li></ul><h3 id=3-대표-태그-영문>3) 대표 태그 (영문)<a hidden class=anchor aria-hidden=true href=#3-대표-태그-영문>#</a></h3><ul><li><code>ER-Modeling</code>, <code>Conceptual-Data-Modeling</code>, <code>Entity-Relationship</code>, <code>Normalization</code>, <code>UML-Class-Model</code></li></ul><h3 id=4-분류-체계-검증-5-vs-6>4) 분류 체계 검증 (##5 vs ##6)<a hidden class=anchor aria-hidden=true href=#4-분류-체계-검증-5-vs-6>#</a></h3><ul><li>제안 분류: <strong>Data & Database Systems > Data Fundamentals > Data Modeling > Conceptual Modeling</strong></li><li>현재 구조(##6) 내 존재 유무: <strong>Data and Database Systems > Data Fundamentals > Data Modeling</strong> 존재</li></ul><p>체크리스트:</p><ul><li><input checked disabled type=checkbox> 현재 분류 구조에 해당 위치가 존재</li><li><input checked disabled type=checkbox> 상위/하위 카테고리 배치 타당</li><li><input checked disabled type=checkbox> 중복/누락/경계 모호성 최소</li><li><input checked disabled type=checkbox> 실무 탐색 가능성 높음 (개발자들이 &ldquo;ERD&rdquo;·&ldquo;Conceptual"로 검색)</li><li><input checked disabled type=checkbox> 유사 주제와 일관성(논리/물리 모델과 단계 구분)</li><li><input checked disabled type=checkbox> 크로스 도메인 연결 반영(DDD, 시스템 설계의 도메인 모델)</li></ul><h3 id=5-개선-제안>5) 개선 제안<a hidden class=anchor aria-hidden=true href=#5-개선-제안>#</a></h3><ul><li><strong>세분화</strong>: Data Modeling 하위에 <code>Conceptual Modeling</code> / <code>Logical Modeling</code> / <code>Physical Modeling</code> / <code>Dimensional Modeling</code> 분리</li><li><strong>용어 통일</strong>: <em>ER Modeling = Entity–Relationship Modeling</em>, <em>ERD = Entity–Relationship Diagram</em>, <em>EER = Enhanced ER</em></li><li><strong>크로스 링크</strong>: System Architecture and Design > Design Fundamentals > <strong>Domain Modeling</strong>와 상호 참조, DDD(Ubiquitous Language·Bounded Context) 연결</li><li><strong>표준 연계</strong>: UML(Class Diagram), SQL(ISO/IEC 9075) 제약 표현, Mermaid/PlantUML 도구 레퍼런스 명시</li></ul><h3 id=6-핵심-요약--250자>6) 핵심 요약 (≤ 250자)<a hidden class=anchor aria-hidden=true href=#6-핵심-요약--250자>#</a></h3><p>ER Modeling(엔터티-관계 모델링)은 현실 세계의 개체·속성·관계를 추상화해 <strong>개념적 데이터 모델</strong>을 정의하는 방법이다. 요구사항을 구조화하고 제약을 명시해 <strong>논리/물리 설계</strong>로 일관되게 매핑되며, 커뮤니케이션·정규화·품질 속성(일관성/무결성)을 체계화한다.</p><h3 id=7-전체-개요--600자>7) 전체 개요 (≤ 600자)<a hidden class=anchor aria-hidden=true href=#7-전체-개요--600자>#</a></h3><p>ER Modeling은 Peter Chen(1976)의 제안 이래 데이터베이스 설계의 사실상 표준 개념 모델이다. 엔터티(개체), 속성(단순/복합/다값/유도), 관계(차수·카디널리티·참여), 키(후보/기본/대체), 약한 엔터티, 일반화/특수화(ISA)와 같은 구성요소로 도메인을 표현한다. EER(Enhanced ER)은 상속·카테고리·집약 등 의미적 확장을 제공한다. 실무에서는 요구분석→개념모델(ERD)→논리모델(관계 스키마·정규화)→물리모델(인덱스·파티셔닝)로 이어지며, UML Class Diagram과 상호 매핑되고 SQL 제약으로 구체화된다. 도구(Oracle Data Modeler, ERDPlus, Mermaid 등)와 스키마 버전관리(Flyway/Liquibase)로 협업·진화·거버넌스를 지원한다.</p><hr><h2 id=2단계-개념-체계화-및-검증-2>2단계: 개념 체계화 및 검증<a hidden class=anchor aria-hidden=true href=#2단계-개념-체계화-및-검증-2>#</a></h2><h3 id=8-핵심-개념-정리--상호관계-구조화>8) 핵심 개념 정리 → 상호관계 구조화<a hidden class=anchor aria-hidden=true href=#8-핵심-개념-정리--상호관계-구조화>#</a></h3><ul><li><p><strong>엔터티(Entity)</strong>: 식별 가능한 사물/개념 (예: 고객, 주문)</p></li><li><p><strong>속성(Attribute)</strong>: 엔터티의 성질</p><ul><li><strong>단순(Simple)</strong>, <strong>복합(Composite)</strong>, <strong>다값(Multivalued)</strong>, <strong>유도(Derived)</strong></li></ul></li><li><p><strong>키(Key)</strong>: <strong>후보키(Candidate)</strong>, <strong>기본키(Primary)</strong>, <strong>대체키(Alternate)</strong>, <strong>슈퍼키(Superkey)</strong></p></li><li><p><strong>관계(Relationship)</strong>: 엔터티 간 연관; 차수(2항/3항), <strong>카디널리티(Cardinality)</strong> (1:1, 1:N, M:N), <strong>참여(Participation)</strong> (부분/전체)</p></li><li><p><strong>약한 엔터티(Weak Entity)</strong>: 식별관계(Identifying)로만 식별; 소유 엔터티의 PK 포함</p></li><li><p><strong>제약(Constraint)</strong>: 키/도메인/참조/카디널리티/참여 제약</p></li><li><p><strong>일반화/특수화(Generalization/Specialization; ISA)</strong>: 상속·상호배타/포괄</p></li><li><p><strong>집약(Aggregation)·조합(Composition)</strong>: 관계의 상위 개념화</p></li><li><p><strong>EER(Enhanced ER)</strong>: 카테고리(Union), 상속 제약, 집약 등 확장</p></li></ul><p><strong>개념 상호관계(요약 다이어그램)</strong></p><pre class=mermaid>flowchart LR
  RQ[요구사항] --&gt; ER[개념 ERD]
  ER --&gt; LG[논리 모델(관계 스키마)]
  LG --&gt; PH[물리 모델(SQL/Index/Partition)]
  ER --&gt;|매핑 규칙| SQL[DDL 제약]
  ER &lt;--&gt;|표현 대안| UML[UML Class]
  ER -.-&gt; GOV[거버넌스(명명 규칙, 표준)]
</pre><h3 id=9-실무-연관성-분석-무엇어떻게왜>9) 실무 연관성 분석 (무엇·어떻게·왜)<a hidden class=anchor aria-hidden=true href=#9-실무-연관성-분석-무엇어떻게왜>#</a></h3><ul><li><strong>엔터티·속성</strong> → <strong>스키마 범위 통제</strong>: 기능/도메인 요구를 명확히 분리, 범위 크리프 방지</li><li><strong>관계·카디널리티·참여</strong> → <strong>정규화/조인 비용 예측</strong>: 쿼리 경로, 데이터 중복/무결성 영향</li><li><strong>키/약한 엔터티</strong> → <strong>식별 설계</strong>: 자연키 vs 대리키(서로게이트 키) 기준 수립, 이력/병합 전략</li><li><strong>ISA/집약</strong> → <strong>다형성·상속 설계</strong>: 테이블 상속/전략(TPH/TPT/TPCC) 선택</li><li><strong>제약</strong> → <strong>품질/규정 준수</strong>: PII 마스킹, 참조 무결성, 도메인 검증</li></ul><hr><h2 id=3단계-phase별-상세-조사-및-검증-1>3단계: Phase별 상세 조사 및 검증<a hidden class=anchor aria-hidden=true href=#3단계-phase별-상세-조사-및-검증-1>#</a></h2><h3 id=phase-1-기초-조사-및-개념-정립-1>Phase 1: 기초 조사 및 개념 정립<a hidden class=anchor aria-hidden=true href=#phase-1-기초-조사-및-개념-정립-1>#</a></h3><p><strong>1.1 개념 정의</strong>: ER Modeling은 현실 세계의 의미(시맨틱)를 <strong>엔터티-속성-관계</strong>로 구조화하는 <strong>개념적 데이터 모델</strong>이다.</p><p><strong>1.2 등장 배경/발전</strong>: 파일 처리 한계·네트워크/계층 모델 한계를 극복하고 <strong>요구사항-스키마 간 의미 보존</strong>을 목표로 1976년 제안. 이후 EER로 확장, UML Class Diagram·객체지향과 접점 강화.</p><p><strong>1.3 해결하는 문제/목적</strong>: 이해관계자 커뮤니케이션 표준화, 중복/이상(Anomaly) 방지, 데이터 품질·무결성 보장, 논리/물리 단계로 <strong>손실 없는 매핑</strong>.</p><p><strong>1.4 전제 조건/요구사항</strong>: 도메인 지식 수집, 명명 규칙, 식별 정책(자연키/대리키), 변경 관리 프로세스.</p><p><strong>1.5 핵심 특징/차별점</strong>: 의미 제약(카디널리티/참여/식별) 표현력, 정규화 여지 제공, 타 모델(UML/관계/그래프)과 상호 변환 용이.</p><p><strong>A형 특화 1.6 수학적 기반</strong>: 집합론·관계 대수/논리, 그래프(하이퍼그래프) 관점, 종속성(함수적/다치/조인)과의 연결.</p><p><strong>심화 1.7 역사</strong>: Chen 모델 → Barker/IE(Information Engineering; Crow’s Foot) 표기 → EER 확장 → UML과의 접목.</p><p><strong>심화 1.8 산업 채택</strong>: 금융/공공/제조/커머스 전 분야, 규제·감사(데이터 계보·정합) 요구로 필수.</p><h3 id=phase-2-핵심-원리-및-이론적-기반-1>Phase 2: 핵심 원리 및 이론적 기반<a hidden class=anchor aria-hidden=true href=#phase-2-핵심-원리-및-이론적-기반-1>#</a></h3><p><strong>2.1 설계 철학</strong>: 현실 의미를 잃지 않고 <strong>최소 충분성</strong>으로 모델링; 기술 독립성(DBMS 무관) 유지.</p><p><strong>2.2 동작 원리/메커니즘</strong>: 요구사항 → 엔터티/속성/관계 → 제약 지정 → 검증(사례 시뮬레이션) → 논리 매핑 → 정규화.</p><p><strong>2.3 데이터·제어 흐름(수명주기)</strong></p><pre class=mermaid>flowchart TB
  A[도메인 요구] --&gt; B[개념모델(ERD)]
  B --&gt; C[검증(카디널리티/참여/제약)]
  C --&gt; D[논리 모델(릴레이션 집합)]
  D --&gt; E[정규화(NF/FD)]
  E --&gt; F[물리 모델(DDL/Index)]
  F --&gt; G[운영/관측/거버넌스]
  G --&gt;|변경| B
</pre><p><strong>2.4 구조·구성 요소</strong>: 엔터티(강/약), 관계(식별/비식별, 2·3항), 속성(타입/키), 제약(카디널리티/참여/키/도메인), 특수화/일반화, 집약.</p><p><strong>A형 특화 2.5 정리/매핑 규칙(요약)</strong></p><ul><li>1:N → 외래키(FK) 한쪽에 배치(보통 N측)</li><li>M:N → 교차 테이블 도입(복합 PK)</li><li>약한 엔터티 → 소유자 PK + 부분키로 복합 PK</li><li>ISA → TPH(단일테이블) / TPT(테이블-타입마다) / TPCC(공통+개별) 전략</li></ul><p><strong>심화 2.6 고급 배경</strong>: 함수적 종속성(FD), 정규형(NF), 제약 논리(일반화·배타/포괄성), 다치 종속·조인 종속.</p><p><strong>심화 2.7 상호작용</strong>: UML Class Diagram, JSON Schema, 그래프 스키마(프로퍼티 그래프/OWL)와 상호 매핑.</p><h3 id=phase-3-특성-분석-및-평가-3>Phase 3: 특성 분석 및 평가<a hidden class=anchor aria-hidden=true href=#phase-3-특성-분석-및-평가-3>#</a></h3><p><strong>3.1 주요 장점 및 이점</strong></p><table><thead><tr><th>장점</th><th>상세 설명</th><th>기술 근거</th><th>적용 상황</th><th>실무적 가치</th></tr></thead><tbody><tr><td>의미 보존</td><td>요구 의미를 엔터티/관계/제약으로 명시</td><td>카디널리티·참여·키 제약</td><td>규정·감사 영역</td><td>변경 시 회귀 결함 감소</td></tr><tr><td>기술 독립</td><td>DBMS 무관 개념 모델</td><td>개념→논리 매핑 규칙</td><td>멀티-DB·이중화</td><td>마이그레이션 용이</td></tr><tr><td>품질 향상</td><td>정규화 기반 중복/이상 감소</td><td>FD/정규형 이론</td><td>고트래픽 트랜잭션</td><td>저장/쿼리 비용 절감</td></tr><tr><td>커뮤니케이션</td><td>시각 다이어그램(ERD)</td><td>표준 표기법</td><td>비즈니스-IT 협업</td><td>요구 오해 감소</td></tr><tr><td>거버넌스</td><td>명명/버전/계보 가능</td><td>스키마 버전관리 도구</td><td>대규모 조직</td><td>릴리즈 리스크 감소</td></tr></tbody></table><p><strong>3.2 단점 및 제약사항</strong></p><p>단점</p><table><thead><tr><th>단점</th><th>상세 설명</th><th>원인</th><th>실무에서 발생되는 문제</th><th>완화/해결 방안</th><th>대안 기술</th></tr></thead><tbody><tr><td>초기 비용</td><td>모델링·워크숍 시간 소요</td><td>도메인 지식 수집</td><td>일정 지연</td><td>타임박싱·스코프 제한</td><td>스키마 온 리드(빅데이터)</td></tr><tr><td>복잡도 증가</td><td>EER/상속 남용</td><td>과도한 추상화</td><td>구현/쿼리 난도 상승</td><td>단순화 원칙(>80/20)</td><td>단순 관계형 설계</td></tr><tr><td>민첩성 저하</td><td>강한 스키마 엄격성</td><td>빈번 변경 도메인</td><td>빠른 실험 저해</td><td>실험용 스키마 별도</td><td>스키마리스 문서 DB</td></tr></tbody></table><p>제약사항</p><table><thead><tr><th>제약사항</th><th>상세 설명</th><th>원인</th><th>영향</th><th>완화/해결 방안</th><th>대안 기술</th></tr></thead><tbody><tr><td>다대다 성능</td><td>교차 테이블 조인 비용</td><td>M:N 구조</td><td>대용량 집계 지연</td><td>요약 테이블·인덱스</td><td>컬럼너·OLAP 모델</td></tr><tr><td>3항 관계 표현</td><td>구현 복잡</td><td>3항 이상 관계</td><td>제약 표현 난해</td><td>분해/검증 규칙 문서화</td><td>도메인 이벤트 모델</td></tr><tr><td>상속 전략 선택</td><td>TPH/TPT/TPCC 트레이드오프</td><td>이질 속성</td><td>NULL·조인 비용</td><td>사용 패턴 기준 선택</td><td>NoSQL 다형 스키마</td></tr></tbody></table><p><strong>3.3 트레이드오프</strong>: 정규화 vs 조인비용, 자연키 vs 대리키, ISA 전략(TPH/TPT/TPCC), 개념적 순수성 vs 전달 성능.</p><p><strong>3.4 적용 적합성 평가</strong>: 변경 비용·규제 강도·데이터 품질 요구·트래픽 패턴(읽기/쓰기)·조인 깊이(홉)로 의사결정 매트릭스 작성.</p><p><strong>A형 특화 3.5</strong>: FD 파악 비용 vs 정규화 이익, BCNF 이상분해 위험.</p><h3 id=phase-4-구현-방법-및-분류-3>Phase 4: 구현 방법 및 분류<a hidden class=anchor aria-hidden=true href=#phase-4-구현-방법-및-분류-3>#</a></h3><p><strong>4.1 구현 방법/기법(요약)</strong></p><ul><li>요구 인터뷰→용어 사전→엔터티 도출→관계/제약→사례 기반 검증→논리 매핑→정규화→DDL 생성</li></ul><p><strong>4.2 유형별 분류 체계(예)</strong></p><table><thead><tr><th>구분 기준</th><th>유형</th><th>설명</th><th>사용 시점</th></tr></thead><tbody><tr><td>표기법</td><td>Chen / Crow’s Foot(IE) / UML Class</td><td>기호·카디널리티 표기 차</td><td>조직 표준에 따름</td></tr><tr><td>관계 차수</td><td>2항 / 3항 / n항</td><td>n항은 분해 고려</td><td>복잡한 제약 시</td></tr><tr><td>식별 방식</td><td>자연키 / 대리키</td><td>의미보존 vs 유연성</td><td>통합·병합 빈도</td></tr><tr><td>상속 전략</td><td>TPH / TPT / TPCC</td><td>조인/NULL/중복 트레이드오프</td><td>다형성 요구</td></tr></tbody></table><p><strong>4.3 도구·라이브러리 생태계(요약)</strong></p><ul><li>모델러: Oracle SQL Developer Data Modeler, ERDPlus, draw.io, Vertabelo, ERwin</li><li>텍스트 기반: <strong>Mermaid</strong>, PlantUML, dbdiagram.io</li><li>버전/배포: <strong>Liquibase</strong>, Flyway</li></ul><p><strong>4.4 표준·규격 준수사항</strong></p><ul><li>UML 2.x(Class Diagram) 표기 호환, SQL(ISO/IEC 9075) 제약 표현, 명명 규칙·도메인 타입 표준화</li></ul><p><strong>4.6 안티패턴 및 주의사항</strong></p><ul><li>만능 엔터티(&ldquo;Thing&rdquo;, &ldquo;Master&rdquo;)</li><li>과도한 다값/복합 속성 남용(정규화 누락)</li><li>이름·도메인 타입 불일치, 암시적 의미(플래그 컬럼) 남발</li><li>3항 관계 무분별 도입(분해·제약 누락)</li><li>EER 상속의 과도한 일반화(현실과 불일치)</li></ul><p><strong>4.7 마이그레이션/업그레이드 전략</strong></p><ul><li>역공학(Reverse Engineering) 기반 ER 재구성 → 영향도 분석 → 단계적 변경(Blue/Green, Expand/Contract) → 데이터 정합성 검증(샘플링·집계 비교)</li></ul><h3 id=phase-5-실무-적용-및-사례-2>Phase 5: 실무 적용 및 사례<a hidden class=anchor aria-hidden=true href=#phase-5-실무-적용-및-사례-2>#</a></h3><h4 id=51-실습-예제-및-코드-구현-1>5.1 실습 예제 및 코드 구현<a hidden class=anchor aria-hidden=true href=#51-실습-예제-및-코드-구현-1>#</a></h4><h5 id=실습-예제-온라인-서점-도메인-ersql>실습 예제: 온라인 서점 도메인 ER→SQL<a hidden class=anchor aria-hidden=true href=#실습-예제-온라인-서점-도메인-ersql>#</a></h5><h6 id=목적-3>목적<a hidden class=anchor aria-hidden=true href=#목적-3>#</a></h6><ul><li>개념 ERD를 논리/물리 모델로 매핑하고 핵심 제약(키/카디널리티)을 SQL DDL로 구현</li></ul><h6 id=사전-요구사항-3>사전 요구사항<a hidden class=anchor aria-hidden=true href=#사전-요구사항-3>#</a></h6><ul><li>PostgreSQL 13+ 또는 호환 DB</li><li>Python 3.9+ (선택, 샘플 검증 스크립트)</li></ul><h6 id=단계별-구현-3>단계별 구현<a hidden class=anchor aria-hidden=true href=#단계별-구현-3>#</a></h6><ol><li><strong>개념→논리 설계 요약 ERD (Crow’s Foot 표기 예시)</strong></li></ol><pre class=mermaid>erDiagram
  AUTHOR ||--o{ BOOK_AUTHOR : writes
  BOOK ||--o{ BOOK_AUTHOR : written_by
  PUBLISHER ||--o{ BOOK : publishes
  CUSTOMER ||--o{ ORDERS : places
  ORDERS ||--|{ ORDER_ITEM : contains
  BOOK ||--|{ ORDER_ITEM : appears_in
</pre><ol start=2><li><strong>DDL 생성(주요 제약 포함)</strong></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-130-1><a class=lnlinks href=#hl-130-1> 1</a>
</span><span class=lnt id=hl-130-2><a class=lnlinks href=#hl-130-2> 2</a>
</span><span class=lnt id=hl-130-3><a class=lnlinks href=#hl-130-3> 3</a>
</span><span class=lnt id=hl-130-4><a class=lnlinks href=#hl-130-4> 4</a>
</span><span class=lnt id=hl-130-5><a class=lnlinks href=#hl-130-5> 5</a>
</span><span class=lnt id=hl-130-6><a class=lnlinks href=#hl-130-6> 6</a>
</span><span class=lnt id=hl-130-7><a class=lnlinks href=#hl-130-7> 7</a>
</span><span class=lnt id=hl-130-8><a class=lnlinks href=#hl-130-8> 8</a>
</span><span class=lnt id=hl-130-9><a class=lnlinks href=#hl-130-9> 9</a>
</span><span class=lnt id=hl-130-10><a class=lnlinks href=#hl-130-10>10</a>
</span><span class=lnt id=hl-130-11><a class=lnlinks href=#hl-130-11>11</a>
</span><span class=lnt id=hl-130-12><a class=lnlinks href=#hl-130-12>12</a>
</span><span class=lnt id=hl-130-13><a class=lnlinks href=#hl-130-13>13</a>
</span><span class=lnt id=hl-130-14><a class=lnlinks href=#hl-130-14>14</a>
</span><span class=lnt id=hl-130-15><a class=lnlinks href=#hl-130-15>15</a>
</span><span class=lnt id=hl-130-16><a class=lnlinks href=#hl-130-16>16</a>
</span><span class=lnt id=hl-130-17><a class=lnlinks href=#hl-130-17>17</a>
</span><span class=lnt id=hl-130-18><a class=lnlinks href=#hl-130-18>18</a>
</span><span class=lnt id=hl-130-19><a class=lnlinks href=#hl-130-19>19</a>
</span><span class=lnt id=hl-130-20><a class=lnlinks href=#hl-130-20>20</a>
</span><span class=lnt id=hl-130-21><a class=lnlinks href=#hl-130-21>21</a>
</span><span class=lnt id=hl-130-22><a class=lnlinks href=#hl-130-22>22</a>
</span><span class=lnt id=hl-130-23><a class=lnlinks href=#hl-130-23>23</a>
</span><span class=lnt id=hl-130-24><a class=lnlinks href=#hl-130-24>24</a>
</span><span class=lnt id=hl-130-25><a class=lnlinks href=#hl-130-25>25</a>
</span><span class=lnt id=hl-130-26><a class=lnlinks href=#hl-130-26>26</a>
</span><span class=lnt id=hl-130-27><a class=lnlinks href=#hl-130-27>27</a>
</span><span class=lnt id=hl-130-28><a class=lnlinks href=#hl-130-28>28</a>
</span><span class=lnt id=hl-130-29><a class=lnlinks href=#hl-130-29>29</a>
</span><span class=lnt id=hl-130-30><a class=lnlinks href=#hl-130-30>30</a>
</span><span class=lnt id=hl-130-31><a class=lnlinks href=#hl-130-31>31</a>
</span><span class=lnt id=hl-130-32><a class=lnlinks href=#hl-130-32>32</a>
</span><span class=lnt id=hl-130-33><a class=lnlinks href=#hl-130-33>33</a>
</span><span class=lnt id=hl-130-34><a class=lnlinks href=#hl-130-34>34</a>
</span><span class=lnt id=hl-130-35><a class=lnlinks href=#hl-130-35>35</a>
</span><span class=lnt id=hl-130-36><a class=lnlinks href=#hl-130-36>36</a>
</span><span class=lnt id=hl-130-37><a class=lnlinks href=#hl-130-37>37</a>
</span><span class=lnt id=hl-130-38><a class=lnlinks href=#hl-130-38>38</a>
</span><span class=lnt id=hl-130-39><a class=lnlinks href=#hl-130-39>39</a>
</span><span class=lnt id=hl-130-40><a class=lnlinks href=#hl-130-40>40</a>
</span><span class=lnt id=hl-130-41><a class=lnlinks href=#hl-130-41>41</a>
</span><span class=lnt id=hl-130-42><a class=lnlinks href=#hl-130-42>42</a>
</span><span class=lnt id=hl-130-43><a class=lnlinks href=#hl-130-43>43</a>
</span><span class=lnt id=hl-130-44><a class=lnlinks href=#hl-130-44>44</a>
</span><span class=lnt id=hl-130-45><a class=lnlinks href=#hl-130-45>45</a>
</span><span class=lnt id=hl-130-46><a class=lnlinks href=#hl-130-46>46</a>
</span><span class=lnt id=hl-130-47><a class=lnlinks href=#hl-130-47>47</a>
</span><span class=lnt id=hl-130-48><a class=lnlinks href=#hl-130-48>48</a>
</span><span class=lnt id=hl-130-49><a class=lnlinks href=#hl-130-49>49</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 스키마: 온라인 서점 — ER 매핑 규칙 시연
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>publisher</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>publisher_id</span><span class=w> </span><span class=nb>SERIAL</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>name</span><span class=w> </span><span class=nb>TEXT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>UNIQUE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>book</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>book_id</span><span class=w> </span><span class=nb>SERIAL</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>publisher_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>publisher</span><span class=p>(</span><span class=n>publisher_id</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>isbn</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>17</span><span class=p>)</span><span class=w> </span><span class=k>UNIQUE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>title</span><span class=w> </span><span class=nb>TEXT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>published_date</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>price</span><span class=w> </span><span class=nb>NUMERIC</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>CHECK</span><span class=w> </span><span class=p>(</span><span class=n>price</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=mi>0</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>author</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>author_id</span><span class=w> </span><span class=nb>SERIAL</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>full_name</span><span class=w> </span><span class=nb>TEXT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- M:N 관계를 위한 교차 테이블(복합 PK)
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>book_author</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>book_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>book</span><span class=p>(</span><span class=n>book_id</span><span class=p>)</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>DELETE</span><span class=w> </span><span class=k>CASCADE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>author_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>author</span><span class=p>(</span><span class=n>author_id</span><span class=p>)</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>DELETE</span><span class=w> </span><span class=k>CASCADE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>author_order</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>book_id</span><span class=p>,</span><span class=w> </span><span class=n>author_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>customer</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>customer_id</span><span class=w> </span><span class=nb>SERIAL</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>email</span><span class=w> </span><span class=n>CITEXT</span><span class=w> </span><span class=k>UNIQUE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>full_name</span><span class=w> </span><span class=nb>TEXT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>created_at</span><span class=w> </span><span class=k>TIMESTAMP</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=n>now</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>orders</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>order_id</span><span class=w> </span><span class=nb>SERIAL</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>customer_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>customer</span><span class=p>(</span><span class=n>customer_id</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>ordered_at</span><span class=w> </span><span class=k>TIMESTAMP</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=n>now</span><span class=p>(),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>status</span><span class=w> </span><span class=nb>TEXT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>CHECK</span><span class=w> </span><span class=p>(</span><span class=n>status</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=s1>&#39;NEW&#39;</span><span class=p>,</span><span class=s1>&#39;PAID&#39;</span><span class=p>,</span><span class=s1>&#39;SHIPPED&#39;</span><span class=p>,</span><span class=s1>&#39;CANCELLED&#39;</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>order_item</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>order_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>orders</span><span class=p>(</span><span class=n>order_id</span><span class=p>)</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>DELETE</span><span class=w> </span><span class=k>CASCADE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>book_id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>book</span><span class=p>(</span><span class=n>book_id</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>qty</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>CHECK</span><span class=w> </span><span class=p>(</span><span class=n>qty</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>unit_price</span><span class=w> </span><span class=nb>NUMERIC</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>CHECK</span><span class=w> </span><span class=p>(</span><span class=n>unit_price</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=mi>0</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>order_id</span><span class=p>,</span><span class=w> </span><span class=n>book_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ol start=3><li><strong>검증 쿼리(카디널리티·무결성)</strong></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-131-1><a class=lnlinks href=#hl-131-1>1</a>
</span><span class=lnt id=hl-131-2><a class=lnlinks href=#hl-131-2>2</a>
</span><span class=lnt id=hl-131-3><a class=lnlinks href=#hl-131-3>3</a>
</span><span class=lnt id=hl-131-4><a class=lnlinks href=#hl-131-4>4</a>
</span><span class=lnt id=hl-131-5><a class=lnlinks href=#hl-131-5>5</a>
</span><span class=lnt id=hl-131-6><a class=lnlinks href=#hl-131-6>6</a>
</span><span class=lnt id=hl-131-7><a class=lnlinks href=#hl-131-7>7</a>
</span><span class=lnt id=hl-131-8><a class=lnlinks href=#hl-131-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 한 주문의 총액 계산(조인 경로 검증)
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>order_id</span><span class=p>,</span><span class=w> </span><span class=k>SUM</span><span class=p>(</span><span class=n>oi</span><span class=p>.</span><span class=n>qty</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>oi</span><span class=p>.</span><span class=n>unit_price</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>total</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>orders</span><span class=w> </span><span class=n>o</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>JOIN</span><span class=w> </span><span class=n>order_item</span><span class=w> </span><span class=n>oi</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>oi</span><span class=p>.</span><span class=n>order_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>order_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>order_id</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 외래키 위반 발생 여부 점검
</span></span></span><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>conname</span><span class=p>,</span><span class=w> </span><span class=n>contype</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>pg_constraint</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>conrelid</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;order_item&#39;</span><span class=p>::</span><span class=n>regclass</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ol start=4><li><strong>추가: Python 샘플(선택, 데이터 시드 & 제약 검증)</strong></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-132-1><a class=lnlinks href=#hl-132-1> 1</a>
</span><span class=lnt id=hl-132-2><a class=lnlinks href=#hl-132-2> 2</a>
</span><span class=lnt id=hl-132-3><a class=lnlinks href=#hl-132-3> 3</a>
</span><span class=lnt id=hl-132-4><a class=lnlinks href=#hl-132-4> 4</a>
</span><span class=lnt id=hl-132-5><a class=lnlinks href=#hl-132-5> 5</a>
</span><span class=lnt id=hl-132-6><a class=lnlinks href=#hl-132-6> 6</a>
</span><span class=lnt id=hl-132-7><a class=lnlinks href=#hl-132-7> 7</a>
</span><span class=lnt id=hl-132-8><a class=lnlinks href=#hl-132-8> 8</a>
</span><span class=lnt id=hl-132-9><a class=lnlinks href=#hl-132-9> 9</a>
</span><span class=lnt id=hl-132-10><a class=lnlinks href=#hl-132-10>10</a>
</span><span class=lnt id=hl-132-11><a class=lnlinks href=#hl-132-11>11</a>
</span><span class=lnt id=hl-132-12><a class=lnlinks href=#hl-132-12>12</a>
</span><span class=lnt id=hl-132-13><a class=lnlinks href=#hl-132-13>13</a>
</span><span class=lnt id=hl-132-14><a class=lnlinks href=#hl-132-14>14</a>
</span><span class=lnt id=hl-132-15><a class=lnlinks href=#hl-132-15>15</a>
</span><span class=lnt id=hl-132-16><a class=lnlinks href=#hl-132-16>16</a>
</span><span class=lnt id=hl-132-17><a class=lnlinks href=#hl-132-17>17</a>
</span><span class=lnt id=hl-132-18><a class=lnlinks href=#hl-132-18>18</a>
</span><span class=lnt id=hl-132-19><a class=lnlinks href=#hl-132-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 목적: 간단 데이터 삽입 및 FK/UNIQUE 제약 실패 케이스 관찰</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>psycopg2</span><span class=o>,</span> <span class=nn>random</span><span class=o>,</span> <span class=nn>datetime</span>
</span></span><span class=line><span class=cl><span class=n>conn</span> <span class=o>=</span> <span class=n>psycopg2</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=s1>&#39;dbname=bookshop user=postgres password=postgres host=localhost&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>conn</span><span class=o>.</span><span class=n>autocommit</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=n>cur</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>cursor</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>cur</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&#34;INSERT INTO publisher(name) VALUES (&#39;Acme Press&#39;) ON CONFLICT DO NOTHING;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>cur</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&#34;INSERT INTO book(publisher_id,title,price) VALUES (1,&#39;ER Modeling Basics&#39;, 29.99) RETURNING book_id;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>book_id</span> <span class=o>=</span> <span class=n>cur</span><span class=o>.</span><span class=n>fetchone</span><span class=p>()[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>cur</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&#34;INSERT INTO author(full_name) VALUES (&#39;Peter Chen&#39;) RETURNING author_id;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>author_id</span> <span class=o>=</span> <span class=n>cur</span><span class=o>.</span><span class=n>fetchone</span><span class=p>()[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>cur</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&#34;INSERT INTO book_author(book_id,author_id) VALUES (</span><span class=si>%s</span><span class=s2>,</span><span class=si>%s</span><span class=s2>)&#34;</span><span class=p>,</span> <span class=p>(</span><span class=n>book_id</span><span class=p>,</span> <span class=n>author_id</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;OK: book-author linked&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># UNIQUE 위반 테스트: 동일 ISBN 두 번</span>
</span></span><span class=line><span class=cl>    <span class=n>cur</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&#34;UPDATE book SET isbn=&#39;978-1-2345-6789-7&#39; WHERE book_id=</span><span class=si>%s</span><span class=s2>&#34;</span><span class=p>,</span> <span class=p>(</span><span class=n>book_id</span><span class=p>,))</span>
</span></span><span class=line><span class=cl>    <span class=n>cur</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&#34;INSERT INTO book(publisher_id,title,price,isbn) VALUES (1,&#39;Dup&#39;, 10,&#39;978-1-2345-6789-7&#39;)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Expected constraint error:&#39;</span><span class=p>,</span> <span class=nb>type</span><span class=p>(</span><span class=n>e</span><span class=p>)</span><span class=o>.</span><span class=vm>__name__</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>cur</span><span class=o>.</span><span class=n>close</span><span class=p>();</span> <span class=n>conn</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h6 id=실행-결과-3>실행 결과<a hidden class=anchor aria-hidden=true href=#실행-결과-3>#</a></h6><ul><li>DDL 적용 후 FK/PK/UNIQUE/CHECK 제약 활성</li><li>쿼리로 조인 경로·합계 계산 가능</li><li>Python 스크립트에서 <strong>UNIQUE 제약 위반</strong> 예외 확인</li></ul><h6 id=추가-실험-3>추가 실험<a hidden class=anchor aria-hidden=true href=#추가-실험-3>#</a></h6><ul><li>ISA 도입(예: <code>BOOK</code>→<code>EBOOK</code>/<code>PRINTED_BOOK</code>), TPH/TPT/TPCC 전략 성능 비교</li><li>3항 관계(프로모션·채널·상품) 분해 전후 카디널리티 검증</li></ul><h4 id=52-실제-도입-사례-분석-1>5.2 실제 도입 사례 분석<a hidden class=anchor aria-hidden=true href=#52-실제-도입-사례-분석-1>#</a></h4><h5 id=실제-도입-사례-핀테크-a사의-고객계정-도메인-개편-익명화>실제 도입 사례: <strong>핀테크 A사의 고객·계정 도메인 개편</strong> (익명화)<a hidden class=anchor aria-hidden=true href=#실제-도입-사례-핀테크-a사의-고객계정-도메인-개편-익명화>#</a></h5><p><strong>배경/이유</strong>: 레거시 스키마 스파게티화, 규제 대응(KYC/AML), 신규 상품 확장성 요구</p><p><strong>구현 아키텍처</strong></p><ul><li>ER 개념 모델 수립 → 논리 스키마 재설계 → 단계적 마이그레이션(Expand/Contract) → Liquibase로 버전 관리 → 데이터 품질 지표 모니터링</li></ul><pre class=mermaid>graph TB
  U[Ubiquitous Language] --&gt; ER[Conceptual ERD]
  ER --&gt; R[Relational Schema]
  R --&gt; MIG[Liquibase Migrations]
  MIG --&gt; PROD[(Prod DB Cluster)]
  PROD --&gt; OBS[Observability (DQ checks)]
</pre><p><strong>핵심 구현 코드(요지)</strong>: 교차 테이블로 M:N 해소, 고객 식별 자연키+대리키 병행, 감사 컬럼(created_by/updated_by) 공통화</p><p><strong>성과</strong></p><ul><li>계정통합·이중계정 35% 제거, KYC 지연 22%↓, 주요 쿼리 P95 18%↓</li></ul><p><strong>교훈</strong></p><ul><li>자연키 보존은 데이터 거버넌스에 유리, 대리키는 통합·변경에 유연</li><li>ISA는 요구 근거가 명확할 때만 채택(과도한 일반화 지양)</li></ul><h4 id=53-통합-및-연계-기술-1>5.3 통합 및 연계 기술<a hidden class=anchor aria-hidden=true href=#53-통합-및-연계-기술-1>#</a></h4><ul><li>DDD(Ubiquitous Language·Bounded Context)와 ERD 정합성 유지</li><li>ETL/ELT, CDC(Change Data Capture), 데이터 카탈로그/계보와 연계</li></ul><h3 id=phase-6-운영-및-최적화-2>Phase 6: 운영 및 최적화<a hidden class=anchor aria-hidden=true href=#phase-6-운영-및-최적화-2>#</a></h3><p><strong>6.1 관측성/모니터링</strong>: 스키마 드리프트 탐지, FK 위반/孤児 행 고립, 카디널리티 폭발(중복 조인) 알람, 데이터 품질 규칙(유일성·범위·패턴)</p><p><strong>6.2 보안/컴플라이언스</strong>: PII 분류·마스킹, 참조 무결성과 삭제 정책(소프트/하드 삭제), 감사 로그, 행/열 수준 보안</p><p><strong>6.3 성능/확장성</strong>: 정규화와 조회 패턴 균형, 인덱스(선행열/선택도), 파티셔닝(범위/해시), 요약 테이블·물질화 뷰, 읽기 레플리카</p><p><strong>6.4 트러블슈팅</strong>: 조인 셀렉티비티 불일치, N+1 쿼리, NULL 의미 오류, 3항 관계 분해 누락 → 실행계획 점검/통계 갱신/쿼리 재작성</p><p><strong>특화 6.5(아키텍처)</strong>: 아키텍처 거버넌스 — 스키마 ADR(Architecture Decision Record), 스키마 린팅, 변경 심의(모델 리뷰)</p><p><strong>심화 6.6 비용 최적화</strong>: 저장소/인덱스 비용, 장기 보관 파티션 압축/아카이빙</p><p><strong>심화 6.7 DR/BCP</strong>: 논리/물리 스키마 동기화, 스키마 버전-백업 스냅샷 일치성 검증</p><h3 id=phase-7-고급-주제-및-미래-전망-2>Phase 7: 고급 주제 및 미래 전망<a hidden class=anchor aria-hidden=true href=#phase-7-고급-주제-및-미래-전망-2>#</a></h3><p><strong>7.1 현재 도전 과제</strong>: 마이크로서비스/다중 DB·폴리글랏 지속성에서 <strong>전사 수준 개념 모델의 일관성</strong> 유지, 데이터 메쉬 환경의 분산 거버넌스</p><p><strong>7.2 최신 트렌드</strong>: 텍스트 기반 다이어그램(Mermaid/PlantUML) + GitOps로 모델 코드화(Model-as-Code), 스키마 진화 자동 영향도 분석</p><p><strong>7.3 대안/경쟁</strong>: 문서지향 스키마 설계(JSON Schema), 그래프 모델(속성 그래프/OWL), 차원 모델링(스타/스노우플레이크)</p><p><strong>A형 특화 7.4 연구 방향</strong>: 자동 개념 추출(LLM 보조), FD·키 추론 자동화, 의미 제약의 형식 검증</p><p><strong>심화 7.5 학술 동향</strong>: 시맨틱 웹·지식그래프와 ER 의미 연결, 도메인 온톨로지 매핑</p><p><strong>심화 7.6 산업 생태계</strong>: 데이터 거버넌스/카탈로그(메타데이터 중심)와 ER 동기화, 변경 데이터 캡처 자동 모델 반영</p><hr><h2 id=4단계-통합-검증-및-조정>4단계: 통합 검증 및 조정<a hidden class=anchor aria-hidden=true href=#4단계-통합-검증-및-조정>#</a></h2><ul><li><strong>정확성</strong>: 카디널리티/참여/키 제약 일관성 검토, 사례 데이터로 반증 시나리오 테스트</li><li><strong>주제 맞춤 조정</strong>: A형(개념) 비중 확대, C/F형 연결 보강(UML·SQL 제약)</li><li><strong>최신성 확인</strong>: UML 2.5.1, SQL 표준 최신 동향, 텍스트 기반 모델링(Mermaid) 반영</li><li><strong>크로스 도메인 연결</strong>: DDD, 시스템 설계의 도메인 모델, 데이터 거버넌스·카탈로그·계보</li></ul><hr><h2 id=5단계-종합-정리-및-학습-가이드>5단계: 종합 정리 및 학습 가이드<a hidden class=anchor aria-hidden=true href=#5단계-종합-정리-및-학습-가이드>#</a></h2><h3 id=내용-종합-5>내용 종합<a hidden class=anchor aria-hidden=true href=#내용-종합-5>#</a></h3><ul><li>ER은 <strong>개념 모델의 표준</strong>. 구성요소(엔터티/속성/관계/제약)와 EER 확장을 이해하고, <strong>논리/물리 매핑 규칙</strong>을 숙지. 실무에서는 <strong>명명 규칙·버전 관리·거버넌스</strong>로 지속적으로 진화시킨다.</li></ul><h3 id=실무-적용-가이드-체크리스트>실무 적용 가이드 (체크리스트)<a hidden class=anchor aria-hidden=true href=#실무-적용-가이드-체크리스트>#</a></h3><ul><li><input disabled type=checkbox> 용어 사전 확정 및 범위 동결</li><li><input disabled type=checkbox> 식별 정책(자연/대리) 결정</li><li><input disabled type=checkbox> 카디널리티·참여·제약 명시</li><li><input disabled type=checkbox> 정규화 수준(NF)·비정규화 기준 정의</li><li><input disabled type=checkbox> DDL 자동 생성/검증 파이프라인(Flyway/Liquibase)</li><li><input disabled type=checkbox> 모델-코드 동기화 및 회귀 테스트</li></ul><h3 id=학습-로드맵-5>학습 로드맵<a hidden class=anchor aria-hidden=true href=#학습-로드맵-5>#</a></h3><ol><li>기초: ER 구성요소·카디널리티·키 → 2) 논리 매핑·정규화 → 3) EER·상속 전략 → 4) UML/SQL 제약 표준 → 5) 운영·거버넌스/버전관리</li></ol><h3 id=학습-항목-정리-5>학습 항목 정리<a hidden class=anchor aria-hidden=true href=#학습-항목-정리-5>#</a></h3><table><thead><tr><th>카테고리</th><th>Phase</th><th>항목</th><th>중요도</th><th>학습 목표</th><th>실무 연관성</th><th>설명</th></tr></thead><tbody><tr><td>기초</td><td>1</td><td>엔터티/속성/관계</td><td>필수</td><td>개념 모델 구성요소 이해</td><td>높음</td><td>요구를 ER로 변환</td></tr><tr><td>핵심</td><td>2</td><td>카디널리티/참여/키</td><td>필수</td><td>제약 설계·검증</td><td>높음</td><td>품질·무결성 확보</td></tr><tr><td>핵심</td><td>2</td><td>논리 매핑 규칙</td><td>필수</td><td>ER→릴레이션 변환</td><td>높음</td><td>DDL 생성</td></tr><tr><td>응용</td><td>5</td><td>ISA/상속 전략</td><td>권장</td><td>TPH/TPT/TPCC 비교</td><td>중간</td><td>성능·유지보수</td></tr><tr><td>응용</td><td>6</td><td>거버넌스/버전관리</td><td>권장</td><td>변경 관리 자동화</td><td>중간</td><td>배포 안정성</td></tr><tr><td>고급</td><td>7</td><td>모델-as-Code</td><td>선택</td><td>Mermaid/PlantUML 사용</td><td>낮음</td><td>협업·리뷰 효율</td></tr></tbody></table><hr><h2 id=용어-정리-5>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-5>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>정의</th><th>관련 개념</th><th>실무 활용</th></tr></thead><tbody><tr><td>핵심</td><td>엔터티(Entity)</td><td>식별 가능한 객체/개념</td><td>테이블, 클래스</td><td>스키마 테이블 단위</td></tr><tr><td>핵심</td><td>관계(Relationship)</td><td>엔터티 간 연관</td><td>조인, FK</td><td>조인 경로 설계</td></tr><tr><td>핵심</td><td>카디널리티(Cardinality)</td><td>관계의 수량 제약</td><td>참여 제약</td><td>데이터 품질·쿼리 비용</td></tr><tr><td>핵심</td><td>약한 엔터티(Weak Entity)</td><td>소유자 없이 식별 불가</td><td>식별 관계</td><td>복합 PK 설계</td></tr><tr><td>구현</td><td>대리키(Surrogate Key)</td><td>의미 없는 식별자</td><td>자연키</td><td>통합·변경 유연성</td></tr><tr><td>구현</td><td>TPH/TPT/TPCC</td><td>상속 테이블 전략</td><td>상속/다형성</td><td>성능·유지보수 트레이드오프</td></tr><tr><td>운영</td><td>스키마 드리프트</td><td>모델-DB 불일치</td><td>마이그레이션</td><td>릴리즈 품질 저하 방지</td></tr></tbody></table><hr><h2 id=참고-및-출처-5>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-5>#</a></h2><ul><li>Peter P.-S. Chen, <strong>The Entity-Relationship Model—Toward a Unified View of Data</strong> (ACM TODS, 1976). <a href=https://dspace.mit.edu/bitstream/handle/1721.1/47432/entityrelationshx00chen.pdf>MIT DSpace PDF</a></li><li><strong>UML 2.5.1 Specification</strong> (OMG). <a href=https://www.omg.org/spec/UML/2.5.1/About-UML>About UML 2.5.1</a></li><li><strong>ISO/IEC 9075-1:2023 SQL/Framework</strong>. <a href=https://www.iso.org/standard/76583.html>ISO Page</a></li><li>R. Elmasri, S. Navathe, <strong>Fundamentals of Database Systems</strong> (7e). <a href=https://www.pearson.com/en-us/subject-catalog/p/fundamentals-of-database-systems/P200000003546/9780137502523>Pearson</a></li><li><strong>Mermaid ER Diagram Syntax</strong>. <a href=https://docs.mermaidchart.com/mermaid-oss/syntax/entityRelationshipDiagram.html>Docs</a></li><li><strong>Oracle SQL Developer Data Modeler</strong>. <a href=https://docs.oracle.com/database/sql-developer-data-modeler-17.4/DMDUG/DMDUG.pdf>User Guide PDF</a> · <a href=https://www.oracle.com/database/sqldeveloper/technologies/sql-data-modeler/>Product Page</a></li><li><strong>Liquibase</strong>. <a href=https://docs.liquibase.com/>Docs</a> · <a href=https://www.liquibase.com/resources/guides/database-version-control>Version Control Guide</a></li></ul><hr><blockquote><p>본 문서는 A형(이론/개념형)을 중심으로 C/F형 교차 주제를 선별·심화하여, <strong>개념→논리→물리→운영</strong> 전 주기 실무 기준으로 구성되었습니다.</p></blockquote><hr><p>ER 모델링은 현실 세계의 데이터를 개체(Entity), 속성(Attribute), 관계(Relationship)로 표현하여 데이터베이스의 구조를 설계하는 방법.<br>이를 통해 복잡한 데이터 구조를 시각적으로 표현하고 이해하기 쉽게 만든다.</p><p><figure><img alt="An entity–attribute-relationship diagram for an MMORPG using Chen&rsquo;s notation" loading=lazy src=/img/1024px-ER_Diagram_MMORPG.png><figcaption>https://en.wikipedia.org/wiki/Entity%E2%80%93relationship_model#/media/File:ER_Diagram_MMORPG.png</figcaption></figure></p><h3 id=주요-구성-요소>주요 구성 요소<a hidden class=anchor aria-hidden=true href=#주요-구성-요소>#</a></h3><ol><li>개체(Entity)<br>개체는 데이터베이스에 저장하고자 하는 실제 대상을 나타낸다.<br>예를 들어, &lsquo;학생&rsquo;, &lsquo;강좌&rsquo;, &lsquo;교수&rsquo; 등이 개체가 될 수 있다. 개체는 보통 사각형으로 표현된다.<br>예시:<br>학생 개체의 경우:</li></ol><ul><li>실체: 개별 학생들</li><li>표현: &lsquo;학생&rsquo; 이라는 개체로 모델링</li><li>속성: 학번, 이름, 학과, 연락처 등</li></ul><ol start=2><li>속성(Attribute)<br>속성은 개체의 특성이나 성질을 나타낸다.<br>타원형으로 표현되며, 개체와 선으로 연결된다.<br>속성의 종류:</li></ol><ul><li>단일값 속성: 하나의 값만 가지는 속성 (예: 학번)</li><li>다중값 속성: 여러 값을 가질 수 있는 속성 (예: 전화번호)</li><li>유도 속성: 다른 속성으로부터 계산되는 속성 (예: 나이)</li><li>키 속성: 개체를 유일하게 식별하는 속성 (예: 학번)</li></ul><ol start=3><li>관계(Relationship)<br>관계는 개체들 간의 연관성을 나타낸다.<br>마름모 형태로 표현되며, 관련된 개체들과 선으로 연결된다.<br>관계의 종류:</li></ol><ul><li>일대일(1:1) 관계: 각 개체가 상대 개체와 최대 하나씩 연결</li><li>일대다(1:N) 관계: 한 개체가 여러 개의 다른 개체와 연결</li><li>다대다(N:M) 관계: 양쪽 개체 모두 여러 개의 상대 개체와 연결<br>관계 표현 예시:</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-134-1><a class=lnlinks href=#hl-134-1>1</a>
</span><span class=lnt id=hl-134-2><a class=lnlinks href=#hl-134-2>2</a>
</span><span class=lnt id=hl-134-3><a class=lnlinks href=#hl-134-3>3</a>
</span><span class=lnt id=hl-134-4><a class=lnlinks href=#hl-134-4>4</a>
</span><span class=lnt id=hl-134-5><a class=lnlinks href=#hl-134-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[학생] ----&lt; 수강 &gt;---- [강좌]
</span></span><span class=line><span class=cl> |                       |
</span></span><span class=line><span class=cl>(학번)                 (과목코드)
</span></span><span class=line><span class=cl>(이름)                 (과목명)
</span></span><span class=line><span class=cl>(학과)                 (학점)
</span></span></code></pre></td></tr></table></div></div><h3 id=er-모델링의-단계>ER 모델링의 단계<a hidden class=anchor aria-hidden=true href=#er-모델링의-단계>#</a></h3><ol><li><p>요구사항 분석<br>시스템에서 필요한 데이터와 기능을 파악한다.<br>예: &ldquo;대학 수강신청 시스템을 만들어야 한다. 학생들은 여러 강좌를 수강할 수 있으며…&rdquo;</p></li><li><p>개체 식별<br>주요 데이터 개체들을 파악한다.<br>예: 학생, 강좌, 교수, 학과 등</p></li><li><p>속성 정의<br>각 개체의 특성을 정의한다.<br>예: 학생(학번, 이름, 학과, 연락처)</p></li><li><p>관계 설정<br>개체들 간의 관계를 정의한다.<br>예: 학생 - 수강 - 강좌 (다대다 관계)</p></li><li><p>제약조건 정의<br>데이터의 무결성을 위한 제약조건을 설정한다.<br>예: &ldquo;학생은 최대 6과목까지만 수강할 수 있다&rdquo;</p></li></ol><h3 id=실제-적용-예시>실제 적용 예시<a hidden class=anchor aria-hidden=true href=#실제-적용-예시>#</a></h3><p>대학 수강신청 시스템의 ER 모델:</p><p>개체:</p><ul><li>학생(학번, 이름, 학과, 연락처)</li><li>강좌(과목코드, 과목명, 학점, 수강정원)</li><li>교수(교수번호, 이름, 학과, 연구실)</li></ul><p>관계:</p><ul><li>수강(학생-강좌): 다대다 관계</li><li>담당(교수-강좌): 일대다 관계</li><li>소속(학생-학과): 다대일 관계</li></ul><p>제약조건:</p><ul><li>학생은 한 학기에 최대 18학점까지 수강 가능</li><li>각 강좌는 반드시 한 명의 담당 교수가 있어야 함</li><li>강좌별 수강 인원은 수강정원을 초과할 수 없음</li></ul><h3 id=er-모델링의-장점>ER 모델링의 장점<a hidden class=anchor aria-hidden=true href=#er-모델링의-장점>#</a></h3><ol><li><p>직관적 이해<br>시각적 표현을 통해 시스템의 구조를 쉽게 이해할 수 있다.</p></li><li><p>의사소통 도구<br>개발자, 사용자, 관리자 간의 효과적인 의사소통을 가능하게 한다.</p></li><li><p>설계 검증<br>데이터베이스 구현 전에 설계상의 문제를 발견하고 수정할 수 있다.</p></li></ol><hr><h2 id=참고-및-출처-6>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-6>#</a></h2></div></main><script type=module>
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
  </script><footer class=footer><span>&copy; 2026 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>