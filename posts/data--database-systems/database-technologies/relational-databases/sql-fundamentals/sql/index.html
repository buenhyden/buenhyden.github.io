<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>SQL (Structured Query Language) | hyunyoun's Blog</title><meta name=keywords content="Databases,RDBMS,SQL"><meta name=description content="SQL(Structured Query Language)은 관계형 데이터베이스 관리 시스템(RDBMS)에서 데이터를 관리하고 조작하기 위한 표준 프로그래밍 언어이다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/data--database-systems/database-technologies/relational-databases/sql-fundamentals/sql/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/data--database-systems/database-technologies/relational-databases/sql-fundamentals/sql/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/data--database-systems/database-technologies/relational-databases/sql-fundamentals/sql/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/data--database-systems/database-technologies/relational-databases/sql-fundamentals/sql/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="SQL (Structured Query Language)"><meta property="og:description" content="SQL(Structured Query Language)은 관계형 데이터베이스 관리 시스템(RDBMS)에서 데이터를 관리하고 조작하기 위한 표준 프로그래밍 언어이다."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="SQL (Structured Query Language)"><meta name=twitter:description content="SQL(Structured Query Language)은 관계형 데이터베이스 관리 시스템(RDBMS)에서 데이터를 관리하고 조작하기 위한 표준 프로그래밍 언어이다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"HY's Blog","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":3,"name":"SQL (Structured Query Language)","item":"https://buenhyden.github.io/posts/data--database-systems/database-technologies/relational-databases/sql-fundamentals/sql/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>HY's Blog</a></div><h1>SQL (Structured Query Language)</h1><div class=post-description>SQL(Structured Query Language)은 관계형 데이터베이스 관리 시스템(RDBMS)에서 데이터를 관리하고 조작하기 위한 표준 프로그래밍 언어이다.</div></header><div class=post-content><h2 id=sql-structured-query-language>SQL (Structured Query Language)<a hidden class=anchor aria-hidden=true href=#sql-structured-query-language>#</a></h2><p>SQL(Structured Query Language)은 관계형 데이터베이스 관리 시스템(RDBMS)에서 데이터를 관리하고 조작하기 위한 표준 프로그래밍 언어이다. 1970년대에 IBM에서 개발된 이후, SQL은 데이터 관리의 핵심 도구로 자리 잡았으며, 오늘날 대부분의 데이터베이스 시스템에서 사용되고 있다.</p><p>SQL은 관계형 데이터베이스 관리의 기초이자 데이터 분석, 웹 개발, 기업 시스템 등 다양한 분야에서 핵심적인 역할을 하는 언어이다. 새로운 기술이 등장하고 데이터 처리 패러다임이 진화함에 따라 SQL도 함께 발전해 왔으며, 앞으로도 계속해서 데이터 관리의 중요한 도구로 남을 것이다.</p><p>SQL의 기본 원칙과 개념을 이해하는 것은 데이터를 다루는 모든 기술 전문가에게 필수적인 역량이다. 단순한 쿼리부터 복잡한 데이터 처리 파이프라인까지, SQL은 효율적인 데이터 관리와 분석의 기반이 된다.</p><h3 id=sql의-역사와-발전>SQL의 역사와 발전<a hidden class=anchor aria-hidden=true href=#sql의-역사와-발전>#</a></h3><h4 id=탄생과-초기-발전>탄생과 초기 발전<a hidden class=anchor aria-hidden=true href=#탄생과-초기-발전>#</a></h4><p>SQL의 기원은 1970년 E.F. Codd가 발표한 관계형 데이터 모델에서 시작된다.<br>이 혁신적인 모델을 바탕으로 IBM의 연구원들은 1974년 SEQUEL(Structured English Query Language)이라는 언어를 개발했다. 법적 문제로 이름이 SQL로 변경되었고, 1979년 Oracle이 최초의 상용 SQL 구현을 출시했다.</p><h4 id=sql-표준화>SQL 표준화<a hidden class=anchor aria-hidden=true href=#sql-표준화>#</a></h4><p>SQL은 여러 차례 표준화 과정을 거쳤다:</p><ul><li><strong>SQL-86 (SQL1)</strong>: 1986년 ANSI와 ISO에 의해 첫 표준이 제정되었다.</li><li><strong>SQL-89</strong>: 1989년 소소한 개정이 이루어졌다.</li><li><strong>SQL-92 (SQL2)</strong>: 가장 널리 구현된 표준으로, 많은 핵심 기능이 추가되었다.</li><li><strong>SQL:1999 (SQL3)</strong>: 객체 지향 기능과 재귀적 쿼리 등이 도입되었다.</li><li><strong>SQL:2003</strong>: XML 지원과 윈도우 함수가 추가되었다.</li><li><strong>SQL:2008/2011/2016/2019</strong>: 점진적인 개선과 새로운 기능들이 계속 추가되었다.</li></ul><h4 id=sql-방언>SQL 방언<a hidden class=anchor aria-hidden=true href=#sql-방언>#</a></h4><p>표준이 존재함에도 불구하고, 다양한 데이터베이스 시스템은 고유한 SQL 방언을 발전시켰다:</p><ul><li><strong>MySQL</strong>: 오픈 소스 RDBMS로, 웹 애플리케이션에서 널리 사용된다.</li><li><strong>PostgreSQL</strong>: 고급 기능과 표준 준수를 강조하는 오픈 소스 RDBMS이다.</li><li><strong>Oracle Database</strong>: 엔터프라이즈급 기능을 갖춘 상용 RDBMS로, PL/SQL이라는 확장 언어를 사용한다.</li><li><strong>Microsoft SQL Server</strong>: 윈도우 환경에 최적화된 상용 RDBMS로, T-SQL이라는 확장을 사용한다.</li><li><strong>SQLite</strong>: 경량 파일 기반 데이터베이스로, 모바일 앱과 임베디드 시스템에서 인기가 있다.</li></ul><h3 id=sql의-기본-개념과-구조>SQL의 기본 개념과 구조<a hidden class=anchor aria-hidden=true href=#sql의-기본-개념과-구조>#</a></h3><h4 id=관계형-데이터베이스-모델>관계형 데이터베이스 모델<a hidden class=anchor aria-hidden=true href=#관계형-데이터베이스-모델>#</a></h4><p>SQL은 관계형 데이터 모델을 기반으로 한다.</p><p>이 모델의 핵심 요소는 다음과 같다:</p><ul><li><strong>테이블(Table)</strong>: 행(레코드)과 열(필드)로 구성된 2차원 구조로, 데이터를 저장한다.</li><li><strong>관계(Relationship)</strong>: 테이블 간의 논리적 연결로, 외래 키를 통해 구현된다.</li><li><strong>키(Key)</strong>: 레코드를 고유하게 식별하는 기본 키와 다른 테이블을 참조하는 외래 키가 있다.</li><li><strong>스키마(Schema)</strong>: 데이터베이스의 구조와 제약 조건을 정의한다.</li></ul><h4 id=sql-언어-구성-요소>SQL 언어 구성 요소<a hidden class=anchor aria-hidden=true href=#sql-언어-구성-요소>#</a></h4><p>SQL은 크게 다음 하위 언어로 구성된다:</p><h5 id=데이터-정의-언어ddl>데이터 정의 언어(DDL)<a hidden class=anchor aria-hidden=true href=#데이터-정의-언어ddl>#</a></h5><p>데이터베이스 구조를 정의하고 수정하는 명령어:</p><ul><li><strong>CREATE</strong>: 테이블, 인덱스, 뷰 등의 데이터베이스 객체를 생성한다.</li><li><strong>ALTER</strong>: 기존 객체의 구조를 수정한다.</li><li><strong>DROP</strong>: 객체를 삭제한다.</li><li><strong>TRUNCATE</strong>: 테이블의 모든 데이터를 빠르게 삭제한다.</li></ul><h5 id=데이터-조작-언어dml>데이터 조작 언어(DML)<a hidden class=anchor aria-hidden=true href=#데이터-조작-언어dml>#</a></h5><p>데이터를 조작하는 명령어:</p><ul><li><strong>SELECT</strong>: 데이터베이스에서 데이터를 조회한다.</li><li><strong>INSERT</strong>: 테이블에 새 레코드를 추가한다.</li><li><strong>UPDATE</strong>: 기존 레코드를 수정한다.</li><li><strong>DELETE</strong>: 레코드를 삭제한다.</li></ul><h5 id=데이터-제어-언어dcl>데이터 제어 언어(DCL)<a hidden class=anchor aria-hidden=true href=#데이터-제어-언어dcl>#</a></h5><p>데이터베이스 접근 권한을 관리하는 명령어:</p><ul><li><strong>GRANT</strong>: 사용자에게 특정 권한을 부여한다.</li><li><strong>REVOKE</strong>: 부여된 권한을 회수한다.</li></ul><h5 id=트랜잭션-제어-언어tcl>트랜잭션 제어 언어(TCL)<a hidden class=anchor aria-hidden=true href=#트랜잭션-제어-언어tcl>#</a></h5><p>트랜잭션을 관리하는 명령어:</p><ul><li><strong>COMMIT</strong>: 트랜잭션을 완료하고 변경사항을 확정한다.</li><li><strong>ROLLBACK</strong>: 트랜잭션을 취소하고 변경사항을 되돌린다.</li><li><strong>SAVEPOINT</strong>: 트랜잭션 내에 복원 지점을 설정한다.</li></ul><h4 id=데이터-타입>데이터 타입<a hidden class=anchor aria-hidden=true href=#데이터-타입>#</a></h4><p>SQL은 다양한 데이터 타입을 지원한다:</p><ul><li><strong>수치 타입</strong>: INTEGER, SMALLINT, DECIMAL, NUMERIC, FLOAT, REAL</li><li><strong>문자열 타입</strong>: CHAR, VARCHAR, TEXT</li><li><strong>날짜/시간 타입</strong>: DATE, TIME, TIMESTAMP, INTERVAL</li><li><strong>불리언 타입</strong>: BOOLEAN</li><li><strong>바이너리 타입</strong>: BLOB, BINARY, VARBINARY</li><li><strong>특수 타입</strong>: XML, JSON, ARRAY, UUID 등 (데이터베이스별로 다름)</li></ul><h3 id=sql-기본-문법과-연산>SQL 기본 문법과 연산<a hidden class=anchor aria-hidden=true href=#sql-기본-문법과-연산>#</a></h3><h4 id=select-문---데이터-조회의-기본>SELECT 문 - 데이터 조회의 기본<a hidden class=anchor aria-hidden=true href=#select-문---데이터-조회의-기본>#</a></h4><p>SQL의 가장 기본적이고 중요한 명령어는 SELECT:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3>3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4>4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>column1</span><span class=p>,</span><span class=w> </span><span class=n>column2</span><span class=p>,</span><span class=w> </span><span class=err>…</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=k>table_name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>condition</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>column1</span><span class=w> </span><span class=p>[</span><span class=k>ASC</span><span class=o>|</span><span class=k>DESC</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>LIMIT</span><span class=w> </span><span class=n>n</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>주요 구성 요소:</p><ul><li><strong>SELECT 절</strong>: 조회할 열을 지정한다.</li><li><strong>FROM 절</strong>: 데이터를 조회할 테이블을 지정한다.</li><li><strong>WHERE 절</strong>: 조건에 맞는 행만 필터링한다.</li><li><strong>ORDER BY 절</strong>: 결과를 정렬한다.</li><li><strong>LIMIT 절</strong>: 반환할 행의 수를 제한한다.</li></ul><h4 id=데이터-필터링과-조건식>데이터 필터링과 조건식<a hidden class=anchor aria-hidden=true href=#데이터-필터링과-조건식>#</a></h4><p>WHERE 절에서 사용되는 다양한 연산자:</p><ul><li><strong>비교 연산자</strong>: =, &lt;>, &lt;, >, &lt;=, >=</li><li><strong>논리 연산자</strong>: AND, OR, NOT</li><li><strong>특수 연산자</strong>: IN, BETWEEN, LIKE, IS NULL</li></ul><p>예시:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>customers</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>country</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;USA&#39;</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=p>(</span><span class=n>age</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>25</span><span class=w> </span><span class=k>OR</span><span class=w> </span><span class=n>referred_by</span><span class=w> </span><span class=k>IS</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=함수와-표현식>함수와 표현식<a hidden class=anchor aria-hidden=true href=#함수와-표현식>#</a></h4><p>SQL은 다양한 내장 함수를 제공한다:</p><h5 id=집계-함수>집계 함수<a hidden class=anchor aria-hidden=true href=#집계-함수>#</a></h5><ul><li><strong>COUNT()</strong>: 행의 수를 계산한다.</li><li><strong>SUM()</strong>: 숫자 열의 합계를 계산한다.</li><li><strong>AVG()</strong>: 숫자 열의 평균을 계산한다.</li><li><strong>MIN()</strong> / <strong>MAX()</strong>: 최소값과 최대값을 찾는다.</li></ul><h5 id=문자열-함수>문자열 함수<a hidden class=anchor aria-hidden=true href=#문자열-함수>#</a></h5><ul><li><strong>CONCAT()</strong>: 문자열을 연결한다.</li><li><strong>LENGTH()</strong>: 문자열의 길이를 반환한다.</li><li><strong>SUBSTRING()</strong>: 부분 문자열을 추출한다.</li><li><strong>UPPER()</strong> / <strong>LOWER()</strong>: 대소문자 변환한다.</li></ul><h5 id=날짜시간-함수>날짜/시간 함수<a hidden class=anchor aria-hidden=true href=#날짜시간-함수>#</a></h5><ul><li><strong>NOW()</strong>: 현재 날짜와 시간을 반환한다.</li><li><strong>DATE_ADD()</strong>: 날짜에 시간 간격을 더한다.</li><li><strong>DATEDIFF()</strong>: 두 날짜 간의 차이를 계산한다.</li><li><strong>EXTRACT()</strong>: 날짜/시간에서 특정 부분을 추출한다.</li></ul><h4 id=데이터-그룹화와-집계>데이터 그룹화와 집계<a hidden class=anchor aria-hidden=true href=#데이터-그룹화와-집계>#</a></h4><p>GROUP BY 절을 사용하여 데이터를 그룹화하고 집계 함수를 적용할 수 있다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3>3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4>4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>department</span><span class=p>,</span><span class=w> </span><span class=k>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>employee_count</span><span class=p>,</span><span class=w> </span><span class=k>AVG</span><span class=p>(</span><span class=n>salary</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>avg_salary</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>employees</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>department</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>HAVING</span><span class=w> </span><span class=k>AVG</span><span class=p>(</span><span class=n>salary</span><span class=p>)</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>50000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>avg_salary</span><span class=w> </span><span class=k>DESC</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li><strong>GROUP BY</strong>: 지정된 열을 기준으로 행을 그룹화한다.</li><li><strong>HAVING</strong>: 그룹에 대한 필터 조건을 지정한다 (WHERE와 유사하지만 그룹에 적용).</li></ul><h3 id=테이블-간의-관계와-조인>테이블 간의 관계와 조인<a hidden class=anchor aria-hidden=true href=#테이블-간의-관계와-조인>#</a></h3><h4 id=관계-유형>관계 유형<a hidden class=anchor aria-hidden=true href=#관계-유형>#</a></h4><p>관계형 데이터베이스에서 테이블 간의 관계 유형:</p><ul><li><strong>일대일(1:1)</strong>: 양쪽 테이블의 각 레코드가 상대 테이블의 최대 한 레코드와 연결된다.</li><li><strong>일대다(1:N)</strong>: 한 테이블의 레코드가 다른 테이블의 여러 레코드와 연결될 수 있다.</li><li><strong>다대다(N:M)</strong>: 양쪽 테이블의 레코드가 상대 테이블의 여러 레코드와 연결될 수 있으며, 일반적으로 연결 테이블을 통해 구현된다.</li></ul><h4 id=sql-조인-타입>SQL 조인 타입<a hidden class=anchor aria-hidden=true href=#sql-조인-타입>#</a></h4><p>테이블을 연결하는 다양한 JOIN 유형:</p><h5 id=inner-join>INNER JOIN<a hidden class=anchor aria-hidden=true href=#inner-join>#</a></h5><p>두 테이블에서 일치하는 행만 반환한다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2>2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>order_id</span><span class=p>,</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>orders</span><span class=w> </span><span class=n>o</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INNER</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>customers</span><span class=w> </span><span class=k>c</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=left-join-left-outer-join>LEFT JOIN (LEFT OUTER JOIN)<a hidden class=anchor aria-hidden=true href=#left-join-left-outer-join>#</a></h5><p>왼쪽 테이블의 모든 행과 오른쪽 테이블에서 일치하는 행을 반환한다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2>2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_name</span><span class=p>,</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>order_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>customers</span><span class=w> </span><span class=k>c</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>orders</span><span class=w> </span><span class=n>o</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>customer_id</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=right-join-right-outer-join>RIGHT JOIN (RIGHT OUTER JOIN)<a hidden class=anchor aria-hidden=true href=#right-join-right-outer-join>#</a></h5><p>오른쪽 테이블의 모든 행과 왼쪽 테이블에서 일치하는 행을 반환한다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2>2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_name</span><span class=p>,</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>order_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>orders</span><span class=w> </span><span class=n>o</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>RIGHT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>customers</span><span class=w> </span><span class=k>c</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=full-join-full-outer-join>FULL JOIN (FULL OUTER JOIN)<a hidden class=anchor aria-hidden=true href=#full-join-full-outer-join>#</a></h5><p>양쪽 테이블의 모든 행을 반환한다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1>1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2>2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_name</span><span class=p>,</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>order_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>customers</span><span class=w> </span><span class=k>c</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FULL</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>orders</span><span class=w> </span><span class=n>o</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>customer_id</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=cross-join>CROSS JOIN<a hidden class=anchor aria-hidden=true href=#cross-join>#</a></h5><p>두 테이블의 모든 가능한 조합을 반환한다 (카테시안 곱):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2>2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_name</span><span class=p>,</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>product_name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>customers</span><span class=w> </span><span class=k>c</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>CROSS</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>products</span><span class=w> </span><span class=n>p</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=자기-조인self-join>자기 조인(Self Join)<a hidden class=anchor aria-hidden=true href=#자기-조인self-join>#</a></h4><p>같은 테이블을 자기 자신과 조인하는 기법:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1>1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2>2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>e1</span><span class=p>.</span><span class=n>employee_name</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>employee</span><span class=p>,</span><span class=w> </span><span class=n>e2</span><span class=p>.</span><span class=n>employee_name</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>manager</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>employees</span><span class=w> </span><span class=n>e1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>JOIN</span><span class=w> </span><span class=n>employees</span><span class=w> </span><span class=n>e2</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>e1</span><span class=p>.</span><span class=n>manager_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>e2</span><span class=p>.</span><span class=n>employee_id</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=서브쿼리와-조인>서브쿼리와 조인<a hidden class=anchor aria-hidden=true href=#서브쿼리와-조인>#</a></h4><p>서브쿼리(중첩 쿼리)는 다른 쿼리 내에 포함된 쿼리이다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1>1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2>2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3>3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4>4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5>5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6>6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>customer_name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>customers</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>customer_id</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=k>DISTINCT</span><span class=w> </span><span class=n>customer_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FROM</span><span class=w> </span><span class=n>orders</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>total_amount</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>1000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>조인으로도 동일한 결과를 얻을 수 있는 경우가 많다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1>1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2>2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3>3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=k>DISTINCT</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>customers</span><span class=w> </span><span class=k>c</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>JOIN</span><span class=w> </span><span class=n>orders</span><span class=w> </span><span class=n>o</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>customer_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>total_amount</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>1000</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>성능 측면에서는 상황에 따라 다르지만, 일반적으로 조인이 서브쿼리보다 효율적인 경우가 많다.</p><h3 id=고급-sql-기능>고급 SQL 기능<a hidden class=anchor aria-hidden=true href=#고급-sql-기능>#</a></h3><h4 id=윈도우-함수>윈도우 함수<a hidden class=anchor aria-hidden=true href=#윈도우-함수>#</a></h4><p>윈도우 함수는 결과 집합의 행 그룹에 대한 계산을 수행한다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1>1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2>2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3>3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4>4</a>
</span><span class=lnt id=hl-11-5><a class=lnlinks href=#hl-11-5>5</a>
</span><span class=lnt id=hl-11-6><a class=lnlinks href=#hl-11-6>6</a>
</span><span class=lnt id=hl-11-7><a class=lnlinks href=#hl-11-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>employee_name</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>department</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>salary</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>AVG</span><span class=p>(</span><span class=n>salary</span><span class=p>)</span><span class=w> </span><span class=n>OVER</span><span class=w> </span><span class=p>(</span><span class=n>PARTITION</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>department</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>dept_avg</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>RANK</span><span class=p>()</span><span class=w> </span><span class=n>OVER</span><span class=w> </span><span class=p>(</span><span class=n>PARTITION</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>department</span><span class=w> </span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>salary</span><span class=w> </span><span class=k>DESC</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>salary_rank</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>employees</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>주요 윈도우 함수:</p><ul><li><strong>순위 함수</strong>: RANK(), DENSE_RANK(), ROW_NUMBER()</li><li><strong>집계 함수</strong>: SUM(), AVG(), COUNT(), MIN(), MAX()</li><li><strong>분석 함수</strong>: LAG(), LEAD(), FIRST_VALUE(), LAST_VALUE()</li></ul><h4 id=공통-테이블-표현식cte>공통 테이블 표현식(CTE)<a hidden class=anchor aria-hidden=true href=#공통-테이블-표현식cte>#</a></h4><p>CTE는 복잡한 쿼리를 더 읽기 쉽고 관리하기 쉽게 만든다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1> 1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2> 2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3> 3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4> 4</a>
</span><span class=lnt id=hl-12-5><a class=lnlinks href=#hl-12-5> 5</a>
</span><span class=lnt id=hl-12-6><a class=lnlinks href=#hl-12-6> 6</a>
</span><span class=lnt id=hl-12-7><a class=lnlinks href=#hl-12-7> 7</a>
</span><span class=lnt id=hl-12-8><a class=lnlinks href=#hl-12-8> 8</a>
</span><span class=lnt id=hl-12-9><a class=lnlinks href=#hl-12-9> 9</a>
</span><span class=lnt id=hl-12-10><a class=lnlinks href=#hl-12-10>10</a>
</span><span class=lnt id=hl-12-11><a class=lnlinks href=#hl-12-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>WITH</span><span class=w> </span><span class=n>high_value_orders</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>customer_id</span><span class=p>,</span><span class=w> </span><span class=k>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>order_count</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FROM</span><span class=w> </span><span class=n>orders</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>total_amount</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>1000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>customer_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>HAVING</span><span class=w> </span><span class=k>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>5</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_name</span><span class=p>,</span><span class=w> </span><span class=n>h</span><span class=p>.</span><span class=n>order_count</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>customers</span><span class=w> </span><span class=k>c</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>JOIN</span><span class=w> </span><span class=n>high_value_orders</span><span class=w> </span><span class=n>h</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>h</span><span class=p>.</span><span class=n>customer_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>h</span><span class=p>.</span><span class=n>order_count</span><span class=w> </span><span class=k>DESC</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=재귀-쿼리>재귀 쿼리<a hidden class=anchor aria-hidden=true href=#재귀-쿼리>#</a></h4><p>재귀 CTE를 사용하여 계층적 데이터를 쿼리할 수 있다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1> 1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2> 2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3> 3</a>
</span><span class=lnt id=hl-13-4><a class=lnlinks href=#hl-13-4> 4</a>
</span><span class=lnt id=hl-13-5><a class=lnlinks href=#hl-13-5> 5</a>
</span><span class=lnt id=hl-13-6><a class=lnlinks href=#hl-13-6> 6</a>
</span><span class=lnt id=hl-13-7><a class=lnlinks href=#hl-13-7> 7</a>
</span><span class=lnt id=hl-13-8><a class=lnlinks href=#hl-13-8> 8</a>
</span><span class=lnt id=hl-13-9><a class=lnlinks href=#hl-13-9> 9</a>
</span><span class=lnt id=hl-13-10><a class=lnlinks href=#hl-13-10>10</a>
</span><span class=lnt id=hl-13-11><a class=lnlinks href=#hl-13-11>11</a>
</span><span class=lnt id=hl-13-12><a class=lnlinks href=#hl-13-12>12</a>
</span><span class=lnt id=hl-13-13><a class=lnlinks href=#hl-13-13>13</a>
</span><span class=lnt id=hl-13-14><a class=lnlinks href=#hl-13-14>14</a>
</span><span class=lnt id=hl-13-15><a class=lnlinks href=#hl-13-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>WITH</span><span class=w> </span><span class=k>RECURSIVE</span><span class=w> </span><span class=n>org_hierarchy</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 기본 케이스: 최상위 관리자
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>employee_id</span><span class=p>,</span><span class=w> </span><span class=n>employee_name</span><span class=p>,</span><span class=w> </span><span class=n>manager_id</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=k>level</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FROM</span><span class=w> </span><span class=n>employees</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>manager_id</span><span class=w> </span><span class=k>IS</span><span class=w> </span><span class=k>NULL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>UNION</span><span class=w> </span><span class=k>ALL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 재귀 케이스: 하위 직원
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>e</span><span class=p>.</span><span class=n>employee_id</span><span class=p>,</span><span class=w> </span><span class=n>e</span><span class=p>.</span><span class=n>employee_name</span><span class=p>,</span><span class=w> </span><span class=n>e</span><span class=p>.</span><span class=n>manager_id</span><span class=p>,</span><span class=w> </span><span class=n>h</span><span class=p>.</span><span class=k>level</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FROM</span><span class=w> </span><span class=n>employees</span><span class=w> </span><span class=n>e</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>JOIN</span><span class=w> </span><span class=n>org_hierarchy</span><span class=w> </span><span class=n>h</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>e</span><span class=p>.</span><span class=n>manager_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>h</span><span class=p>.</span><span class=n>employee_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>org_hierarchy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=k>level</span><span class=p>,</span><span class=w> </span><span class=n>employee_name</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=pivot-및-unpivot>PIVOT 및 UNPIVOT<a hidden class=anchor aria-hidden=true href=#pivot-및-unpivot>#</a></h4><p>일부 데이터베이스 시스템은 행-열 변환을 위한 PIVOT 및 UNPIVOT 기능을 제공한다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1> 1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2> 2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3> 3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4> 4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5> 5</a>
</span><span class=lnt id=hl-14-6><a class=lnlinks href=#hl-14-6> 6</a>
</span><span class=lnt id=hl-14-7><a class=lnlinks href=#hl-14-7> 7</a>
</span><span class=lnt id=hl-14-8><a class=lnlinks href=#hl-14-8> 8</a>
</span><span class=lnt id=hl-14-9><a class=lnlinks href=#hl-14-9> 9</a>
</span><span class=lnt id=hl-14-10><a class=lnlinks href=#hl-14-10>10</a>
</span><span class=lnt id=hl-14-11><a class=lnlinks href=#hl-14-11>11</a>
</span><span class=lnt id=hl-14-12><a class=lnlinks href=#hl-14-12>12</a>
</span><span class=lnt id=hl-14-13><a class=lnlinks href=#hl-14-13>13</a>
</span><span class=lnt id=hl-14-14><a class=lnlinks href=#hl-14-14>14</a>
</span><span class=lnt id=hl-14-15><a class=lnlinks href=#hl-14-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- SQL Server PIVOT 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>product_category</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>[</span><span class=mi>2021</span><span class=p>],</span><span class=w> </span><span class=p>[</span><span class=mi>2022</span><span class=p>],</span><span class=w> </span><span class=p>[</span><span class=mi>2023</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>product_category</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>YEAR</span><span class=p>(</span><span class=n>sale_date</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>sale_year</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>sale_amount</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FROM</span><span class=w> </span><span class=n>sales</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>source_data</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>PIVOT</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SUM</span><span class=p>(</span><span class=n>sale_amount</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOR</span><span class=w> </span><span class=n>sale_year</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>([</span><span class=mi>2021</span><span class=p>],</span><span class=w> </span><span class=p>[</span><span class=mi>2022</span><span class=p>],</span><span class=w> </span><span class=p>[</span><span class=mi>2023</span><span class=p>])</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>pivot_table</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=json-및-xml-지원>JSON 및 XML 지원<a hidden class=anchor aria-hidden=true href=#json-및-xml-지원>#</a></h4><p>현대 데이터베이스는 반구조화된 데이터 형식을 지원한다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1>1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2>2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3>3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4>4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5>5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6>6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- PostgreSQL JSON 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>data</span><span class=o>-&gt;</span><span class=s1>&#39;address&#39;</span><span class=o>-&gt;&gt;</span><span class=s1>&#39;city&#39;</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>city</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>data</span><span class=o>-&gt;</span><span class=s1>&#39;preferences&#39;</span><span class=o>-&gt;&gt;</span><span class=s1>&#39;language&#39;</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=k>language</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>customer_profiles</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=k>data</span><span class=o>-&gt;</span><span class=s1>&#39;preferences&#39;</span><span class=o>-&gt;&gt;</span><span class=s1>&#39;theme&#39;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;dark&#39;</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=sql의-성능-최적화>SQL의 성능 최적화<a hidden class=anchor aria-hidden=true href=#sql의-성능-최적화>#</a></h3><h4 id=인덱스-설계>인덱스 설계<a hidden class=anchor aria-hidden=true href=#인덱스-설계>#</a></h4><p>인덱스는 쿼리 성능을 크게 향상시킬 수 있다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1>1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2>2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3>3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4>4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5>5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6>6</a>
</span><span class=lnt id=hl-16-7><a class=lnlinks href=#hl-16-7>7</a>
</span><span class=lnt id=hl-16-8><a class=lnlinks href=#hl-16-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 단일 열 인덱스
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_customers_email</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>customers</span><span class=p>(</span><span class=n>email</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 복합 인덱스
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_orders_customer_date</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>orders</span><span class=p>(</span><span class=n>customer_id</span><span class=p>,</span><span class=w> </span><span class=n>order_date</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 부분 인덱스 (PostgreSQL)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_active_users</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>users</span><span class=p>(</span><span class=n>user_id</span><span class=p>)</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>active</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>TRUE</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>인덱스 타입:</p><ul><li><strong>B-tree 인덱스</strong>: 가장 일반적인 인덱스 유형</li><li><strong>해시 인덱스</strong>: 등가 검색에 최적화</li><li><strong>전문 인덱스</strong>: 전체 텍스트 검색용</li><li><strong>공간 인덱스</strong>: 지리 데이터용</li></ul><h4 id=쿼리-최적화-기법>쿼리 최적화 기법<a hidden class=anchor aria-hidden=true href=#쿼리-최적화-기법>#</a></h4><p>효율적인 쿼리 작성을 위한 팁:</p><ol><li><strong>필요한 열만 선택하기</strong>: <code>SELECT *</code> 대신 필요한 열만 지정</li><li><strong>WHERE 절 최적화</strong>: 인덱스된 열을 사용하고, 불필요한 함수 호출 피하기</li><li><strong>조인 순서 고려</strong>: 작은 테이블을 먼저 조인하고, 필요한 조인만 사용</li><li><strong>서브쿼리 대신 조인 사용</strong>: 가능한 경우 서브쿼리보다 조인 선호</li><li><strong>LIMIT 사용</strong>: 필요한 행만 검색</li><li><strong>EXPLAIN 활용</strong>: 쿼리 실행 계획 분석</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1>1</a>
</span><span class=lnt id=hl-17-2><a class=lnlinks href=#hl-17-2>2</a>
</span><span class=lnt id=hl-17-3><a class=lnlinks href=#hl-17-3>3</a>
</span><span class=lnt id=hl-17-4><a class=lnlinks href=#hl-17-4>4</a>
</span><span class=lnt id=hl-17-5><a class=lnlinks href=#hl-17-5>5</a>
</span><span class=lnt id=hl-17-6><a class=lnlinks href=#hl-17-6>6</a>
</span><span class=lnt id=hl-17-7><a class=lnlinks href=#hl-17-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>EXPLAIN</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_name</span><span class=p>,</span><span class=w> </span><span class=k>SUM</span><span class=p>(</span><span class=n>o</span><span class=p>.</span><span class=n>total_amount</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>total_spent</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>customers</span><span class=w> </span><span class=k>c</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>JOIN</span><span class=w> </span><span class=n>orders</span><span class=w> </span><span class=n>o</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>customer_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>join_date</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=s1>&#39;2020-01-01&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>HAVING</span><span class=w> </span><span class=k>SUM</span><span class=p>(</span><span class=n>o</span><span class=p>.</span><span class=n>total_amount</span><span class=p>)</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>5000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>total_spent</span><span class=w> </span><span class=k>DESC</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=정규화와-비정규화>정규화와 비정규화<a hidden class=anchor aria-hidden=true href=#정규화와-비정규화>#</a></h4><ul><li><strong>정규화</strong>: 데이터 중복을 줄이고 일관성을 유지하는 설계 기법<ul><li>1NF, 2NF, 3NF, BCNF, 4NF, 5NF 등의 정규화 단계가 있음</li></ul></li><li><strong>비정규화</strong>: 성능 향상을 위해 의도적으로 중복을 허용하는 기법<ul><li>읽기 작업이 많은 경우에 효과적</li><li>물리적 저장소를 더 사용하고 데이터 일관성 관리가 복잡해짐</li></ul></li></ul><h4 id=파티셔닝과-샤딩>파티셔닝과 샤딩<a hidden class=anchor aria-hidden=true href=#파티셔닝과-샤딩>#</a></h4><p>대규모 데이터베이스의 성능 향상 전략:</p><ul><li><p><strong>파티셔닝</strong>: 단일 테이블을 여러 물리적 부분으로 나누는 기법</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1> 1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2> 2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3> 3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4> 4</a>
</span><span class=lnt id=hl-18-5><a class=lnlinks href=#hl-18-5> 5</a>
</span><span class=lnt id=hl-18-6><a class=lnlinks href=#hl-18-6> 6</a>
</span><span class=lnt id=hl-18-7><a class=lnlinks href=#hl-18-7> 7</a>
</span><span class=lnt id=hl-18-8><a class=lnlinks href=#hl-18-8> 8</a>
</span><span class=lnt id=hl-18-9><a class=lnlinks href=#hl-18-9> 9</a>
</span><span class=lnt id=hl-18-10><a class=lnlinks href=#hl-18-10>10</a>
</span><span class=lnt id=hl-18-11><a class=lnlinks href=#hl-18-11>11</a>
</span><span class=lnt id=hl-18-12><a class=lnlinks href=#hl-18-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- PostgreSQL에서 범위 파티셔닝
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>sales</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>sale_id</span><span class=w> </span><span class=nb>SERIAL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>sale_date</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>amount</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w> </span><span class=n>PARTITION</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>RANGE</span><span class=w> </span><span class=p>(</span><span class=n>sale_date</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>sales_2021</span><span class=w> </span><span class=n>PARTITION</span><span class=w> </span><span class=k>OF</span><span class=w> </span><span class=n>sales</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOR</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=p>(</span><span class=s1>&#39;2021-01-01&#39;</span><span class=p>)</span><span class=w> </span><span class=k>TO</span><span class=w> </span><span class=p>(</span><span class=s1>&#39;2022-01-01&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>sales_2022</span><span class=w> </span><span class=n>PARTITION</span><span class=w> </span><span class=k>OF</span><span class=w> </span><span class=n>sales</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOR</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=p>(</span><span class=s1>&#39;2022-01-01&#39;</span><span class=p>)</span><span class=w> </span><span class=k>TO</span><span class=w> </span><span class=p>(</span><span class=s1>&#39;2023-01-01&#39;</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li><p><strong>샤딩</strong>: 데이터를 여러 독립적인 데이터베이스 인스턴스에 분산하는 기법</p></li></ul><h3 id=트랜잭션과-동시성-제어>트랜잭션과 동시성 제어<a hidden class=anchor aria-hidden=true href=#트랜잭션과-동시성-제어>#</a></h3><h4 id=트랜잭션의-acid-속성>트랜잭션의 ACID 속성<a hidden class=anchor aria-hidden=true href=#트랜잭션의-acid-속성>#</a></h4><p>트랜잭션은 다음 ACID 속성을 보장한다:</p><ul><li><strong>원자성(Atomicity)</strong>: 트랜잭션의 모든 작업이 완료되거나 모두 롤백됨</li><li><strong>일관성(Consistency)</strong>: 트랜잭션 전후에 데이터베이스는 일관된 상태를 유지</li><li><strong>격리성(Isolation)</strong>: 동시 실행되는 트랜잭션은 서로 격리됨</li><li><strong>지속성(Durability)</strong>: 완료된 트랜잭션은 영구적으로 저장됨</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1> 1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2> 2</a>
</span><span class=lnt id=hl-19-3><a class=lnlinks href=#hl-19-3> 3</a>
</span><span class=lnt id=hl-19-4><a class=lnlinks href=#hl-19-4> 4</a>
</span><span class=lnt id=hl-19-5><a class=lnlinks href=#hl-19-5> 5</a>
</span><span class=lnt id=hl-19-6><a class=lnlinks href=#hl-19-6> 6</a>
</span><span class=lnt id=hl-19-7><a class=lnlinks href=#hl-19-7> 7</a>
</span><span class=lnt id=hl-19-8><a class=lnlinks href=#hl-19-8> 8</a>
</span><span class=lnt id=hl-19-9><a class=lnlinks href=#hl-19-9> 9</a>
</span><span class=lnt id=hl-19-10><a class=lnlinks href=#hl-19-10>10</a>
</span><span class=lnt id=hl-19-11><a class=lnlinks href=#hl-19-11>11</a>
</span><span class=lnt id=hl-19-12><a class=lnlinks href=#hl-19-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 트랜잭션 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>BEGIN</span><span class=w> </span><span class=k>TRANSACTION</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>UPDATE</span><span class=w> </span><span class=n>accounts</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=n>balance</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>balance</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>100</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>account_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>UPDATE</span><span class=w> </span><span class=n>accounts</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=n>balance</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>balance</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>100</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>account_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 검증 로직
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>IF</span><span class=w> </span><span class=p>(</span><span class=k>SELECT</span><span class=w> </span><span class=n>balance</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>accounts</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>account_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=k>THEN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>ROLLBACK</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>ELSE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>COMMIT</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>END</span><span class=w> </span><span class=k>IF</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=트랜잭션-격리-수준>트랜잭션 격리 수준<a hidden class=anchor aria-hidden=true href=#트랜잭션-격리-수준>#</a></h4><p>SQL 표준은 네 가지 격리 수준을 정의한다:</p><ol><li><strong>READ UNCOMMITTED</strong>: 다른 트랜잭션의 커밋되지 않은 변경사항도 읽을 수 있음</li><li><strong>READ COMMITTED</strong>: 커밋된 변경사항만 읽을 수 있음</li><li><strong>REPEATABLE READ</strong>: 트랜잭션 내에서 같은 쿼리는 항상 같은 결과를 반환</li><li><strong>SERIALIZABLE</strong>: 가장 엄격한 격리 수준으로, 동시성 문제 없음</li></ol><p>각 수준은 다양한 문제를 방지한다:</p><ul><li><strong>Dirty Read</strong>: 커밋되지 않은 데이터 읽기</li><li><strong>Non-repeatable Read</strong>: 같은 쿼리가 다른 결과 반환</li><li><strong>Phantom Read</strong>: 조건에 맞는 새 행이 나타남</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-20-1><a class=lnlinks href=#hl-20-1>1</a>
</span><span class=lnt id=hl-20-2><a class=lnlinks href=#hl-20-2>2</a>
</span><span class=lnt id=hl-20-3><a class=lnlinks href=#hl-20-3>3</a>
</span><span class=lnt id=hl-20-4><a class=lnlinks href=#hl-20-4>4</a>
</span><span class=lnt id=hl-20-5><a class=lnlinks href=#hl-20-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- PostgreSQL에서 트랜잭션 격리 수준 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>BEGIN</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SET</span><span class=w> </span><span class=k>TRANSACTION</span><span class=w> </span><span class=k>ISOLATION</span><span class=w> </span><span class=k>LEVEL</span><span class=w> </span><span class=k>SERIALIZABLE</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 쿼리 수행
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>COMMIT</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=락킹과-동시성-제어>락킹과 동시성 제어<a hidden class=anchor aria-hidden=true href=#락킹과-동시성-제어>#</a></h4><p>데이터베이스 시스템은 여러 동시성 제어 메커니즘을 사용한다:</p><ul><li><strong>락(Lock)</strong>: 리소스에 대한 접근을 통제하는 메커니즘<ul><li>공유 락(Shared Lock): 여러 트랜잭션이 읽기 가능</li><li>배타적 락(Exclusive Lock): 한 트랜잭션만 읽기/쓰기 가능</li></ul></li><li><strong>다중 버전 동시성 제어(MVCC)</strong>: 각 트랜잭션에 데이터의 스냅샷 제공</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1>1</a>
</span><span class=lnt id=hl-21-2><a class=lnlinks href=#hl-21-2>2</a>
</span><span class=lnt id=hl-21-3><a class=lnlinks href=#hl-21-3>3</a>
</span><span class=lnt id=hl-21-4><a class=lnlinks href=#hl-21-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 명시적 락 예시 (PostgreSQL)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>accounts</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>account_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FOR</span><span class=w> </span><span class=k>UPDATE</span><span class=p>;</span><span class=w>  </span><span class=c1>-- 배타적 락 획득
</span></span></span></code></pre></td></tr></table></div></div><h3 id=sql-보안-및-권한-관리>SQL 보안 및 권한 관리<a hidden class=anchor aria-hidden=true href=#sql-보안-및-권한-관리>#</a></h3><ol><li>사용자 및 역할 관리</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1> 1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2> 2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3> 3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4> 4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5> 5</a>
</span><span class=lnt id=hl-22-6><a class=lnlinks href=#hl-22-6> 6</a>
</span><span class=lnt id=hl-22-7><a class=lnlinks href=#hl-22-7> 7</a>
</span><span class=lnt id=hl-22-8><a class=lnlinks href=#hl-22-8> 8</a>
</span><span class=lnt id=hl-22-9><a class=lnlinks href=#hl-22-9> 9</a>
</span><span class=lnt id=hl-22-10><a class=lnlinks href=#hl-22-10>10</a>
</span><span class=lnt id=hl-22-11><a class=lnlinks href=#hl-22-11>11</a>
</span><span class=lnt id=hl-22-12><a class=lnlinks href=#hl-22-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 사용자 생성
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>CREATE</span><span class=w> </span><span class=k>USER</span><span class=w> </span><span class=s1>&#39;appuser&#39;</span><span class=o>@</span><span class=s1>&#39;localhost&#39;</span><span class=w> </span><span class=n>IDENTIFIED</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=s1>&#39;password&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 역할 생성 (MySQL 8.0+)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>CREATE</span><span class=w> </span><span class=k>ROLE</span><span class=w> </span><span class=s1>&#39;read_role&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;write_role&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 역할에 권한 부여
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>GRANT</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>database</span><span class=p>.</span><span class=o>*</span><span class=w> </span><span class=k>TO</span><span class=w> </span><span class=s1>&#39;read_role&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GRANT</span><span class=w> </span><span class=k>INSERT</span><span class=p>,</span><span class=w> </span><span class=k>UPDATE</span><span class=p>,</span><span class=w> </span><span class=k>DELETE</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>database</span><span class=p>.</span><span class=o>*</span><span class=w> </span><span class=k>TO</span><span class=w> </span><span class=s1>&#39;write_role&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 사용자에게 역할 할당
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>GRANT</span><span class=w> </span><span class=s1>&#39;read_role&#39;</span><span class=w> </span><span class=k>TO</span><span class=w> </span><span class=s1>&#39;appuser&#39;</span><span class=o>@</span><span class=s1>&#39;localhost&#39;</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ol start=2><li>권한 관리</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1>1</a>
</span><span class=lnt id=hl-23-2><a class=lnlinks href=#hl-23-2>2</a>
</span><span class=lnt id=hl-23-3><a class=lnlinks href=#hl-23-3>3</a>
</span><span class=lnt id=hl-23-4><a class=lnlinks href=#hl-23-4>4</a>
</span><span class=lnt id=hl-23-5><a class=lnlinks href=#hl-23-5>5</a>
</span><span class=lnt id=hl-23-6><a class=lnlinks href=#hl-23-6>6</a>
</span><span class=lnt id=hl-23-7><a class=lnlinks href=#hl-23-7>7</a>
</span><span class=lnt id=hl-23-8><a class=lnlinks href=#hl-23-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 특정 테이블에 대한 권한 부여
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>GRANT</span><span class=w> </span><span class=k>SELECT</span><span class=p>,</span><span class=w> </span><span class=k>INSERT</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>database</span><span class=p>.</span><span class=n>customers</span><span class=w> </span><span class=k>TO</span><span class=w> </span><span class=s1>&#39;appuser&#39;</span><span class=o>@</span><span class=s1>&#39;localhost&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 모든 권한 부여
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>GRANT</span><span class=w> </span><span class=k>ALL</span><span class=w> </span><span class=k>PRIVILEGES</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>database</span><span class=p>.</span><span class=o>*</span><span class=w> </span><span class=k>TO</span><span class=w> </span><span class=s1>&#39;admin&#39;</span><span class=o>@</span><span class=s1>&#39;localhost&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 권한 회수
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>REVOKE</span><span class=w> </span><span class=k>DELETE</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>database</span><span class=p>.</span><span class=n>critical_table</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=s1>&#39;appuser&#39;</span><span class=o>@</span><span class=s1>&#39;localhost&#39;</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ol start=3><li>SQL 인젝션 방지<br>SQL 인젝션은 심각한 보안 위협이다:</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1>1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2>2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3>3</a>
</span><span class=lnt id=hl-24-4><a class=lnlinks href=#hl-24-4>4</a>
</span><span class=lnt id=hl-24-5><a class=lnlinks href=#hl-24-5>5</a>
</span><span class=lnt id=hl-24-6><a class=lnlinks href=#hl-24-6>6</a>
</span><span class=lnt id=hl-24-7><a class=lnlinks href=#hl-24-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 취약한 코드 (예시적 목적)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=s2>&#34;SELECT * FROM users WHERE username = &#39;&#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>username</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s2>&#34;&#39; AND password = &#39;&#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>password</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s2>&#34;&#39;&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 공격자가 username에 &#34;admin&#39; --&#34;를 입력하면 패스워드 검증 우회
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 방어 방법: 준비된 문장(Prepared Statements) 사용
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=s2>&#34;SELECT * FROM users WHERE username = ? AND password = ?&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 파라미터는 안전하게 바인딩됨
</span></span></span></code></pre></td></tr></table></div></div><p>SQL 인젝션 방지를 위한 추가 방법:</p><ul><li>저장 프로시저 사용</li><li>ORM(Object-Relational Mapping) 라이브러리 활용</li><li>입력 검증 및 이스케이핑</li><li>최소 권한 원칙 적용</li></ul><h3 id=현대-sql-환경과-생태계>현대 SQL 환경과 생태계<a hidden class=anchor aria-hidden=true href=#현대-sql-환경과-생태계>#</a></h3><ol><li><p>NoSQL과의 통합<br>많은 NoSQL 데이터베이스가 SQL 인터페이스를 제공하기 시작했다:</p><ul><li><strong>Amazon DynamoDB</strong>: PartiQL이라는 SQL 호환 쿼리 언어 제공</li><li><strong>MongoDB</strong>: MongoDB Query API 외에도 SQL 호환 커넥터 제공</li><li><strong>Cassandra</strong>: CQL(Cassandra Query Language)는 SQL과 유사한 구문 사용</li><li><strong>Couchbase</strong>: N1QL이라는 SQL 호환 쿼리 언어 제공</li></ul></li><li><p>클라우드 기반 SQL 서비스<br>클라우드 제공업체들은 관리형 SQL 서비스를 제공한다:</p><ul><li><strong>Amazon RDS/Aurora</strong>: MySQL, PostgreSQL, SQL Server 등을 관리형 서비스로 제공</li><li><strong>Google Cloud SQL</strong>: MySQL, PostgreSQL, SQL Server의 완전 관리형 버전</li><li><strong>Azure SQL Database</strong>: Microsoft의 관리형 SQL Server 서비스</li><li><strong>Snowflake</strong>: 클라우드 기반 데이터 웨어하우스 솔루션</li></ul></li><li><p>최신 SQL 도구 및 유틸리티</p></li></ol><ul><li><strong>ORM 프레임워크</strong>: Hibernate, Entity Framework, SQLAlchemy, Sequelize</li><li><strong>쿼리 빌더</strong>: jOOQ, LINQ, Knex.js</li><li><strong>마이그레이션 도구</strong>: Flyway, Liquibase, Alembic</li><li><strong>시각화 및 관리 도구</strong>: DBeaver, DataGrip, MySQL Workbench, pgAdmin</li></ul><ol start=4><li>SQL과 빅데이터<br>SQL은 빅데이터 생태계에서도 중요한 역할을 한다:<ul><li><strong>Apache Hive</strong>: Hadoop 위에서 SQL과 유사한 HiveQL 사용</li><li><strong>Apache Spark SQL</strong>: 분산 데이터 처리를 위한 SQL 인터페이스</li><li><strong>Presto/Trino</strong>: 다양한 데이터 소스에 대한 분산 SQL 쿼리 엔진</li><li><strong>Google BigQuery</strong>: 서버리스 SQL 데이터 웨어하우스</li></ul></li></ol><h3 id=sql의-미래-동향>SQL의 미래 동향<a hidden class=anchor aria-hidden=true href=#sql의-미래-동향>#</a></h3><ol><li>SQL과 인공지능</li></ol><ul><li><strong>자연어에서 SQL 생성</strong>: NL2SQL과 같은 AI 솔루션이 자연어 질문을 SQL로 변환</li><li><strong>자동 쿼리 최적화</strong>: AI를 활용한 인덱스 추천 및 쿼리 튜닝</li><li><strong>이상 탐지</strong>: SQL 데이터에 대한 자동 이상 탐지 및 패턴 인식</li></ul><ol start=2><li>시계열 및 스트림 처리</li></ol><ul><li><strong>시계열 확장</strong>: PostgreSQL의 TimescaleDB, InfluxDB의 SQL 인터페이스</li><li><strong>스트림 처리</strong>: Apache Flink SQL, Kafka SQL, Amazon Kinesis Analytics</li></ul><ol start=3><li>공간 데이터 처리</li></ol><ul><li><strong>공간 데이터 타입 및 연산자</strong>: 점, 선, 다각형 등의 데이터 타입</li><li><strong>공간 인덱싱</strong>: 공간 쿼리 성능 향상을 위한 전문 인덱스</li><li><strong>OGC 표준 준수</strong>: 지리 정보 시스템(GIS) 표준 준수</li></ul><ol start=4><li>그래프 쿼리 통합</li></ol><ul><li><strong>SQL/PGQ</strong>: SQL 표준에 그래프 패턴 매칭 기능을 추가하는 새로운 제안</li><li><strong>RDBMS의 그래프 확장</strong>: Oracle Graph, SQL Server Graph, AgensGraph(PostgreSQL 확장)</li><li><strong>하이브리드 쿼리</strong>: 관계형 데이터와 그래프 데이터를 단일 쿼리에서 조합</li></ul><ol start=5><li>폴리글랏 영속성</li></ol><ul><li><strong>멀티 모델 데이터베이스</strong>: 단일 데이터베이스 시스템에서 관계형, 문서, 그래프, 키-값 모델 지원</li><li><strong>연합 쿼리</strong>: 여러 데이터 소스에 걸친 통합 SQL 쿼리</li><li><strong>데이터 가상화</strong>: 물리적 이동 없이 이기종 데이터 소스를 통합 SQL 인터페이스로 노출</li></ul><h3 id=sql-응용-사례>SQL 응용 사례<a hidden class=anchor aria-hidden=true href=#sql-응용-사례>#</a></h3><ol><li><p>데이터 분석 및 비즈니스 인텔리전스<br>SQL은 데이터 분석의 핵심 도구로, 복잡한 비즈니스 질문에 답하는 데 사용된다.</p></li><li><p>웹 개발<br>SQL은 대부분의 웹 애플리케이션의 백엔드에서 필수적이다.</p></li><li><p>데이터 마이그레이션 및 ETL<br>SQL은 데이터 변환 및 마이그레이션 파이프라인에서 중요한 역할을 한다.</p></li><li><p>IoT 및 센서 데이터 관리<br>SQL은 IoT 장치 및 센서 데이터를 저장하고 분석하는 데도 사용된다.</p></li></ol><h3 id=sql과-관련-기술-비교>SQL과 관련 기술 비교<a hidden class=anchor aria-hidden=true href=#sql과-관련-기술-비교>#</a></h3><h4 id=sql-vs-nosql>SQL vs. NoSQL<a hidden class=anchor aria-hidden=true href=#sql-vs-nosql>#</a></h4><table><thead><tr><th>특성</th><th>SQL (관계형)</th><th>NoSQL</th></tr></thead><tbody><tr><td>데이터 모델</td><td>테이블, 행과 열의 구조화된 형식</td><td>다양한 모델(문서, 키-값, 그래프, 컬럼 계열)</td></tr><tr><td>스키마</td><td>사전 정의된 스키마 필요</td><td>유연한 스키마 또는 스키마리스</td></tr><tr><td>확장성</td><td>주로 수직적 확장(더 강력한 하드웨어)</td><td>주로 수평적 확장(더 많은 서버)</td></tr><tr><td>트랜잭션</td><td>ACID 트랜잭션 지원</td><td>일부는 BASE 모델 채택(기본적인 가용성, 소프트 상태, 최종 일관성)</td></tr><tr><td>복잡한 쿼리</td><td>복잡한 조인과 집계 지원</td><td>일반적으로 조인에 제한적 (일부 NoSQL은 SQL 유사 언어 제공)</td></tr><tr><td>사용 사례</td><td>구조화된 데이터, 복잡한 쿼리, 트랜잭션이 중요한 경우</td><td>대규모 분산 데이터, 유연한 스키마, 높은 쓰기 처리량</td></tr></tbody></table><h4 id=sql-vs-프로그래밍-언어의-데이터-조작>SQL vs. 프로그래밍 언어의 데이터 조작<a hidden class=anchor aria-hidden=true href=#sql-vs-프로그래밍-언어의-데이터-조작>#</a></h4><p>SQL은 선언적 언어로, 무엇을 원하는지 지정하지만 어떻게 달성할지는 지정하지 않는다.<br>반면, 절차적 언어는 단계별 실행 과정을 정의한다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1>1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2>2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3>3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4>4</a>
</span><span class=lnt id=hl-25-5><a class=lnlinks href=#hl-25-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- SQL 방식 (선언적)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>department</span><span class=p>,</span><span class=w> </span><span class=k>AVG</span><span class=p>(</span><span class=n>salary</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>avg_salary</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>employees</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>department</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>HAVING</span><span class=w> </span><span class=k>AVG</span><span class=p>(</span><span class=n>salary</span><span class=p>)</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>50000</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1> 1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2> 2</a>
</span><span class=lnt id=hl-26-3><a class=lnlinks href=#hl-26-3> 3</a>
</span><span class=lnt id=hl-26-4><a class=lnlinks href=#hl-26-4> 4</a>
</span><span class=lnt id=hl-26-5><a class=lnlinks href=#hl-26-5> 5</a>
</span><span class=lnt id=hl-26-6><a class=lnlinks href=#hl-26-6> 6</a>
</span><span class=lnt id=hl-26-7><a class=lnlinks href=#hl-26-7> 7</a>
</span><span class=lnt id=hl-26-8><a class=lnlinks href=#hl-26-8> 8</a>
</span><span class=lnt id=hl-26-9><a class=lnlinks href=#hl-26-9> 9</a>
</span><span class=lnt id=hl-26-10><a class=lnlinks href=#hl-26-10>10</a>
</span><span class=lnt id=hl-26-11><a class=lnlinks href=#hl-26-11>11</a>
</span><span class=lnt id=hl-26-12><a class=lnlinks href=#hl-26-12>12</a>
</span><span class=lnt id=hl-26-13><a class=lnlinks href=#hl-26-13>13</a>
</span><span class=lnt id=hl-26-14><a class=lnlinks href=#hl-26-14>14</a>
</span><span class=lnt id=hl-26-15><a class=lnlinks href=#hl-26-15>15</a>
</span><span class=lnt id=hl-26-16><a class=lnlinks href=#hl-26-16>16</a>
</span><span class=lnt id=hl-26-17><a class=lnlinks href=#hl-26-17>17</a>
</span><span class=lnt id=hl-26-18><a class=lnlinks href=#hl-26-18>18</a>
</span><span class=lnt id=hl-26-19><a class=lnlinks href=#hl-26-19>19</a>
</span><span class=lnt id=hl-26-20><a class=lnlinks href=#hl-26-20>20</a>
</span><span class=lnt id=hl-26-21><a class=lnlinks href=#hl-26-21>21</a>
</span><span class=lnt id=hl-26-22><a class=lnlinks href=#hl-26-22>22</a>
</span><span class=lnt id=hl-26-23><a class=lnlinks href=#hl-26-23>23</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// JavaScript 방식 (절차적)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>employees</span> <span class=o>=</span> <span class=nx>getEmployees</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>departments</span> <span class=o>=</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 각 부서별로 직원 그룹화
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>employees</span><span class=p>.</span><span class=nx>forEach</span><span class=p>(</span><span class=nx>emp</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>departments</span><span class=p>[</span><span class=nx>emp</span><span class=p>.</span><span class=nx>department</span><span class=p>])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>departments</span><span class=p>[</span><span class=nx>emp</span><span class=p>.</span><span class=nx>department</span><span class=p>]</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=nx>departments</span><span class=p>[</span><span class=nx>emp</span><span class=p>.</span><span class=nx>department</span><span class=p>].</span><span class=nx>push</span><span class=p>(</span><span class=nx>emp</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 각 부서별 평균 급여 계산
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>results</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=kr>const</span> <span class=p>[</span><span class=nx>dept</span><span class=p>,</span> <span class=nx>emps</span><span class=p>]</span> <span class=k>of</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>entries</span><span class=p>(</span><span class=nx>departments</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>totalSalary</span> <span class=o>=</span> <span class=nx>emps</span><span class=p>.</span><span class=nx>reduce</span><span class=p>((</span><span class=nx>sum</span><span class=p>,</span> <span class=nx>emp</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>sum</span> <span class=o>+</span> <span class=nx>emp</span><span class=p>.</span><span class=nx>salary</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>avgSalary</span> <span class=o>=</span> <span class=nx>totalSalary</span> <span class=o>/</span> <span class=nx>emps</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 평균 급여가 50,000 이상인 부서만 필터링
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>if</span> <span class=p>(</span><span class=nx>avgSalary</span> <span class=o>&gt;</span> <span class=mi>50000</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>results</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span> <span class=nx>department</span><span class=o>:</span> <span class=nx>dept</span><span class=p>,</span> <span class=nx>avg_salary</span><span class=o>:</span> <span class=nx>avgSalary</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=sql과-데이터-과학-도구>SQL과 데이터 과학 도구<a hidden class=anchor aria-hidden=true href=#sql과-데이터-과학-도구>#</a></h4><p>SQL은 종종 Python, R, Jupyter Notebooks 등의 데이터 과학 도구와 함께 사용된다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1> 1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2> 2</a>
</span><span class=lnt id=hl-27-3><a class=lnlinks href=#hl-27-3> 3</a>
</span><span class=lnt id=hl-27-4><a class=lnlinks href=#hl-27-4> 4</a>
</span><span class=lnt id=hl-27-5><a class=lnlinks href=#hl-27-5> 5</a>
</span><span class=lnt id=hl-27-6><a class=lnlinks href=#hl-27-6> 6</a>
</span><span class=lnt id=hl-27-7><a class=lnlinks href=#hl-27-7> 7</a>
</span><span class=lnt id=hl-27-8><a class=lnlinks href=#hl-27-8> 8</a>
</span><span class=lnt id=hl-27-9><a class=lnlinks href=#hl-27-9> 9</a>
</span><span class=lnt id=hl-27-10><a class=lnlinks href=#hl-27-10>10</a>
</span><span class=lnt id=hl-27-11><a class=lnlinks href=#hl-27-11>11</a>
</span><span class=lnt id=hl-27-12><a class=lnlinks href=#hl-27-12>12</a>
</span><span class=lnt id=hl-27-13><a class=lnlinks href=#hl-27-13>13</a>
</span><span class=lnt id=hl-27-14><a class=lnlinks href=#hl-27-14>14</a>
</span><span class=lnt id=hl-27-15><a class=lnlinks href=#hl-27-15>15</a>
</span><span class=lnt id=hl-27-16><a class=lnlinks href=#hl-27-16>16</a>
</span><span class=lnt id=hl-27-17><a class=lnlinks href=#hl-27-17>17</a>
</span><span class=lnt id=hl-27-18><a class=lnlinks href=#hl-27-18>18</a>
</span><span class=lnt id=hl-27-19><a class=lnlinks href=#hl-27-19>19</a>
</span><span class=lnt id=hl-27-20><a class=lnlinks href=#hl-27-20>20</a>
</span><span class=lnt id=hl-27-21><a class=lnlinks href=#hl-27-21>21</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Python과 SQL 통합 (pandas와 SQLAlchemy 사용)</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>sqlalchemy</span> <span class=kn>import</span> <span class=n>create_engine</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 데이터베이스 연결</span>
</span></span><span class=line><span class=cl><span class=n>engine</span> <span class=o>=</span> <span class=n>create_engine</span><span class=p>(</span><span class=s1>&#39;postgresql://username:password@localhost/database&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># SQL 쿼리 실행 및 pandas DataFrame으로 결과 가져오기</span>
</span></span><span class=line><span class=cl><span class=n>df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_sql</span><span class=p>(</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    SELECT 
</span></span></span><span class=line><span class=cl><span class=s2>        product_category,
</span></span></span><span class=line><span class=cl><span class=s2>        SUM(sales_amount) as total_sales,
</span></span></span><span class=line><span class=cl><span class=s2>        COUNT(DISTINCT customer_id) as unique_customers
</span></span></span><span class=line><span class=cl><span class=s2>    FROM sales
</span></span></span><span class=line><span class=cl><span class=s2>    WHERE sale_date &gt;= &#39;2023-01-01&#39;
</span></span></span><span class=line><span class=cl><span class=s2>    GROUP BY product_category
</span></span></span><span class=line><span class=cl><span class=s2>    ORDER BY total_sales DESC
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span><span class=p>,</span> <span class=n>engine</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># pandas로 추가 분석</span>
</span></span><span class=line><span class=cl><span class=n>df</span><span class=p>[</span><span class=s1>&#39;avg_sale_per_customer&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;total_sales&#39;</span><span class=p>]</span> <span class=o>/</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;unique_customers&#39;</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>용어</th><th>설명</th><th></th></tr></thead><tbody><tr><td>폴리글랏 영속성 (Polyglot Persistence)</td><td>한 시스템 내에서 여러 종류의 데이터베이스를 함께 사용하는 아키텍처 패턴을 말한다.</td><td></td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><hr><h2 id=roadmap>Roadmap<a hidden class=anchor aria-hidden=true href=#roadmap>#</a></h2><p><a href=https://roadmap.sh/sql>Roadmap - SQL</a></p><hr></div></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>