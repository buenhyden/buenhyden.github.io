<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Nginx | hyunyoun's Blog</title><meta name=keywords content="System-Design,System-Components,Access-and-Network-Entry,Web-Server,Implementations,Nginx"><meta name=description content="Nginx는 고성능의 오픈 소스 웹 서버 소프트웨어로, 웹 서버, 리버스 프록시, 로드 밸런서 등 다양한 기능을 제공한다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/tools-reference/reverse-proxies-and-load-balancers/nginx/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/tools-reference/reverse-proxies-and-load-balancers/nginx/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/tools-reference/reverse-proxies-and-load-balancers/nginx/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/tools-reference/reverse-proxies-and-load-balancers/nginx/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Nginx"><meta property="og:description" content="Nginx는 고성능의 오픈 소스 웹 서버 소프트웨어로, 웹 서버, 리버스 프록시, 로드 밸런서 등 다양한 기능을 제공한다."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Nginx"><meta name=twitter:description content="Nginx는 고성능의 오픈 소스 웹 서버 소프트웨어로, 웹 서버, 리버스 프록시, 로드 밸런서 등 다양한 기능을 제공한다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"기록하고 기억하고 활용하자.","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Nginx","item":"https://buenhyden.github.io/posts/tools-reference/reverse-proxies-and-load-balancers/nginx/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>기록하고 기억하고 활용하자.</a></div><h1>Nginx</h1><div class=post-description>Nginx는 고성능의 오픈 소스 웹 서버 소프트웨어로, 웹 서버, 리버스 프록시, 로드 밸런서 등 다양한 기능을 제공한다.</div></header><div class=post-content><h2 id=nginx>Nginx<a hidden class=anchor aria-hidden=true href=#nginx>#</a></h2><h3 id=1-적절한-태그-영어-대시로-구분>1. 적절한 태그 (영어, 대시로 구분)<a hidden class=anchor aria-hidden=true href=#1-적절한-태그-영어-대시로-구분>#</a></h3><p>Web-Server, Reverse-Proxy, Load-Balancer, HTTP-Server</p><h2 id=1-태그-제안>1. 태그 제안<a hidden class=anchor aria-hidden=true href=#1-태그-제안>#</a></h2><ul><li>Web-Server</li><li>Reverse-Proxy</li><li>Load-Balancing</li><li>Event-Driven-Architecture</li></ul><h3 id=적절한-태그-34-개>적절한 태그 (3~4 개)<a hidden class=anchor aria-hidden=true href=#적절한-태그-34-개>#</a></h3><ul><li><strong>Web-Server</strong></li><li><strong>Reverse-Proxy</strong></li><li><strong>Load-Balancer</strong></li><li><strong>Event-Driven-Architecture</strong></li></ul><h3 id=분류-구조-검증>분류 구조 검증<a hidden class=anchor aria-hidden=true href=#분류-구조-검증>#</a></h3><p>현재 제시된 분류: <code>Computer Science and Engineering > Systems Design > System Components > Access and Network Entry > Web Server > Implementations</code></p><p><strong>검증 결과</strong>: 적절하나 일부 개선 필요</p><p><strong>근거 및 개선안</strong>:</p><ul><li>현재 분류는 기본적으로 적절하지만, Nginx 의 다양한 역할을 고려할 때 보다 포괄적인 분류가 필요함</li><li>개선된 분류: <code>Computer Science and Engineering > System Design > System Components > [Web Infrastructure, Load Balancing, Reverse Proxy] > Web Server > High-Performance Implementations</code></li><li>Nginx 는 단순한 웹 서버를 넘어 리버스 프록시, 로드 밸런서, API 게이트웨이 등 다중 역할을 수행하므로 &ldquo;Web Infrastructure&rdquo; 라는 상위 개념이 더 적합함</li></ul><h2 id=2-분류-구조-적절성-검토--4-주제의-분류->2. 분류 구조 적절성 검토 ("## 4. 주제의 분류 &ldquo;)<a hidden class=anchor aria-hidden=true href=#2-분류-구조-적절성-검토--4-주제의-분류->#</a></h2><p>&ldquo;Computer Science and Engineering > Systems Design > System Components > Access and Network Entry > Web Serve > Implementations&rdquo; 는 Nginx 를 <strong>웹 서버 및 리버스 프록시 구현체</strong>로 적절히 위치시킨 구조입니다.<br>웹 서비스 진입점 (접속 및 네트워크 수준) 을 담당하는 구성 요소로서, <strong>웹 서버 구현체 (Web Server Implementations)</strong> 하위에 속하는 분류가 타당합니다.</p><hr><h3 id=2-분류-구조-타당성-분석>2. 분류 구조 타당성 분석<a hidden class=anchor aria-hidden=true href=#2-분류-구조-타당성-분석>#</a></h3><ul><li>Nginx(엔진엑스) 는 웹 서버 (Web Server) 이자 리버스 프록시 (Reverse Proxy)·로드밸런서 (Load Balancer) 역할을 수행하며, 시스템 진입점 (Access and Network Entry) 역할로도 널리 쓰임.</li><li>&ldquo;System Design > System Components > Access and Network Entry > Web Serve > Implementations&rdquo; 는 웹 서버 구현체들의 계층적 구조를 명확히 반영하며, Nginx 의 특성과 실제 운영 위치 (네트워크 진입점) 에 부합함.</li><li>따라서 분류 구조는 이론적·실무적 맥락 모두에서 타당함.</li></ul><h3 id=3-200-자-내외-요약>3. 200 자 내외 요약<a hidden class=anchor aria-hidden=true href=#3-200-자-내외-요약>#</a></h3><p>Nginx(엔진엑스) 는 높은 성능의 웹 서버·리버스 프록시·로드밸런서로, 비동기 이벤트 기반 구조로 대량의 HTTP, HTTPS 트래픽을 효율적으로 처리한다. 정적·동적 콘텐츠 서비스, 보안, 트래픽 분산 등 광범위한 활용성과 확장성을 제공하며, 실무 환경에서 웹 서비스의 핵심 진입점 역할을 담당한다.</p><h2 id=3-요약-200-자>3. 요약 (≈200 자)<a hidden class=anchor aria-hidden=true href=#3-요약-200-자>#</a></h2><p>Nginx 는 Igor Sysoev 가 2004 년 공개한 고성능 오픈소스 웹 서버이자 리버스 프록시, 로드 밸런서, HTTP 캐시입니다. 비동기 이벤트 기반 아키텍처 덕분에 수만 개 동시 연결을 적은 메모리와 CPU 로 효율 처리하며, TLS 종료, 정적 파일 제공, 마이크로서비스 프록시 등 다양한 실무 기능을 지원합니다 (<a href="https://nginx.org/en/security_advisories.html?utm_source=chatgpt.com" title="nginx security advisories">위키백과</a>).</p><h3 id=주제-요약-200-자-내외>주제 요약 (200 자 내외)<a hidden class=anchor aria-hidden=true href=#주제-요약-200-자-내외>#</a></h3><p>Nginx 는 이벤트 기반 비동기 아키텍처를 기반으로 한 고성능 웹 서버로, 웹 서버, 리버스 프록시, 로드 밸런서, 캐시 서버 등 다양한 역할을 수행합니다. C10K 문제 해결을 목표로 개발되어 최소한의 리소스로 수만 개의 동시 연결을 처리할 수 있으며, 현대 웹 인프라에서 핵심적인 구성 요소로 활용되고 있습니다.</p><h3 id=전체-개요-250-자-내외>전체 개요 (250 자 내외)<a hidden class=anchor aria-hidden=true href=#전체-개요-250-자-내외>#</a></h3><p>이 분석에서는 Nginx 의 등장 배경부터 아키텍처, 핵심 기능, 성능 최적화 기법까지 체계적으로 다룹니다. 특히 마스터 - 워커 프로세스 모델, 이벤트 루프 기반 처리 방식, 모듈러 구조 등 고성능을 실현하는 핵심 원리를 분석하고, 실무에서의 효과적인 적용 방안과 최적화 전략을 제시합니다. 또한 실제 시스템 구성 사례와 설정 예시를 통해 실무 적용 가능한 지식을 제공합니다.</p><h2 id=4-개요-250-자>4. 개요 (≈250 자)<a hidden class=anchor aria-hidden=true href=#4-개요-250-자>#</a></h2><p>Nginx 는 C 로 작성된 고성능 HTTP 서버이며 리버스 프록시, 로드 밸런싱, 메일 프록시, HTTP/3 지원이 가능한 범용 엔진입니다. 이벤트 기반 단일 스레드 (worker) 를 사용해 <strong>C10K 문제</strong>를 해결하고, 낮은 메모리로도 수만 연결을 안정적으로 관리합니다. Open Source 와 상용 Nginx Plus 로 분리되며, Kubernetes 환경에서는 Ingress Controller 형태로도 널리 사용됩니다. F5 인수 이후 API 관리, 보안 (WAF), 관측 솔루션들과 통합되는 플랫폼으로 확장되고 있습니다 (<a href="https://nginx.org/en/security_advisories.html?utm_source=chatgpt.com" title="nginx security advisories">위키백과</a>, <a href="https://gorbe.io/posts/nginx/common-issues-and-misconfigurations/?utm_source=chatgpt.com" title="Nginx Common Issues and Misconfigurations - G RBE">blog.nginx.org</a>, <a href="https://www.solo.io/topics/nginx/nginx-configuration?utm_source=chatgpt.com" title="NGINX Configuration: Directives, Examples, and 4 Mistakes to Avoid">위키백과</a>, <a href="https://serverfault.com/questions/787919/optimal-value-for-nginx-worker-connections?utm_source=chatgpt.com" title="Optimal value for Nginx worker_connections - Server Fault">Hostinger</a>, <a href="https://www.solo.io/topics/nginx/kubernetes-ingress-controller?utm_source=chatgpt.com" title="Kubernetes Ingress Controller: A Practical Guide | Solo.io">Solo</a>, <a href="https://www.f5.com/company/blog/nginx/nginx-plus-ingress-controller-kubernetes-load-balancing?utm_source=chatgpt.com" title="NGINX and NGINX Plus Ingress Controllers for Kubernetes Load …">F5, Inc.</a>).</p><h3 id=4-개요-250-자-내외>4. 개요 (250 자 내외)<a hidden class=anchor aria-hidden=true href=#4-개요-250-자-내외>#</a></h3><p>Nginx 는 2004 년 러시아에서 처음 등장한 고성능 오픈 소스 웹 서버 및 리버스 프록시 솔루션이다. 이벤트 기반 아키텍처로 동시 처리와 리소스 효율을 극대화하고, 정적 파일 제공, 동적 요청 프록시, SSL(TLS) 오프로딩, 로드밸런싱, 캐싱, 보안과 같은 다양한 역할을 수행한다. 구축·운영의 편의성과 가벼운 리소스 소모, 광범위한 확장 옵션으로 대규모 서비스 인프라의 표준이 되었다.</p><h2 id=5-핵심-개념>5. 핵심 개념<a hidden class=anchor aria-hidden=true href=#5-핵심-개념>#</a></h2><ul><li><strong>Nginx(엔진엑스)</strong>: 오픈 소스 HTTP/HTTPS 웹 서버, 리버스 프록시 (Reverse Proxy), 로드밸런서 (Load Balancer), 메일 프록시 (Mail Proxy) 로 사용 가능.</li><li><strong>비동기 이벤트 기반 구조</strong>: worker 프로세스가 비동기적으로 여러 연결을 병렬 처리해 높은 성능과 낮은 메모리 소모를 실현.</li><li><strong>정적/동적 콘텐츠 서비스</strong>: 정적 파일 서빙 및 언어별 동적 웹 요청 (예: PHP, Python) 백엔드로 프록시 연동.</li><li><strong>리버스 프록시 및 로드밸런싱</strong>: 백엔드 애플리케이션 트래픽 분산, SSL 해제, 트래픽 제어, 보안 (IP 제한, 인증 등) 제공.</li><li><strong>확장성 및 플러그인 아키텍처</strong>: 다양한 모듈 조합 및 커스텀 확장 가능.</li></ul><h3 id=3-핵심-개념-상세>3) 핵심 개념 (상세)<a hidden class=anchor aria-hidden=true href=#3-핵심-개념-상세>#</a></h3><ul><li><strong>비동기적 이벤트 루프 (Event Loop):</strong> 최소 프로세스로 수천~수만 연결 제어.</li><li><strong>리버스 프록시:</strong> 외부 요청을 안전 · 효율적으로 백엔드 서비스에 연결.</li><li><strong>로드밸런싱:</strong> 무중단 서비스, 확장성 보장을 위한 기본 정책.</li><li><strong>정적/동적 파일 서빙:</strong> 이미지, JS, CSS 등 정적자원에서부터 동적 웹 요청까지 모두 지원.</li></ul><h3 id=51-실무-구현-연관성>5.1 실무 구현 연관성<a hidden class=anchor aria-hidden=true href=#51-실무-구현-연관성>#</a></h3><ul><li><strong>현대 웹 서비스 인프라의 핵심 진입점</strong>: 프론트엔드와 애플리케이션 사이의 트래픽, 보안, 캐싱, 로드밸런싱 정책을 적용.</li><li><strong>클라우드 · 쿠버네티스 등 자동화환경에서도 표준</strong>: Ingress Controller, CDN(Content Delivery Network) 전진 배치, 서비스 분산 환경에서 주요 진입점 역할 수행.</li><li><strong>DevOps, 보안팀 협업</strong>: 구성 자동화, 보안 정책 일원화 (SSL, 인증), 모니터링 등 정책 편의성 제공.</li><li><strong>유연성</strong>: HTTP/2, gRPC, WebSocket 등 다양한 프로토콜 지원.</li></ul><h2 id=5-핵심-개념-1>5. 핵심 개념<a hidden class=anchor aria-hidden=true href=#5-핵심-개념-1>#</a></h2><h3 id=51-필수-개념>5.1 필수 개념<a hidden class=anchor aria-hidden=true href=#51-필수-개념>#</a></h3><ul><li><strong>C10K 문제</strong>: 2000 년대 초 동시 접속 수 제한 (<a href="https://en.wikipedia.org/wiki/Nginx?utm_source=chatgpt.com" title=Nginx>DataScientest</a>)</li><li><strong>이벤트 기반 비동기 구조 (Event‑Driven Architecture)</strong>: 단일 또는 다수 워커 프로세스에서 non‑blocking I/O 로 고동시성 처리 (<a href="https://www.youtube.com/watch?v=6caVlIWohH0&amp;utm_source=chatgpt.com" title="Life of a CVE with Ingress-Nginx - YouTube">Medium</a>)</li><li><strong>Master/Worker 프로세스 모델</strong>: master 가 설정 로드 및 worker 제어, worker 는 요청 처리 및 이벤트 루프 관리 (<a href="https://www.youtube.com/watch?v=6caVlIWohH0&amp;utm_source=chatgpt.com" title="Life of a CVE with Ingress-Nginx - YouTube">Medium</a>)</li><li><strong>모듈러 구조 (Modularity)</strong>: 코어 + 다양한 모듈 (프록시, 캐시, 로드 밸런싱 등) (<a href="https://www.solo.io/topics/nginx/nginx-kubernetes?utm_source=chatgpt.com" title="NGINX Kubernetes Ingress Controller - Solo.io">위키백과</a>)</li><li><strong>역할 분리: 웹 서버, 리버스 프록시, 로드 밸런서, 캐시, TLS 종료 등</strong> (<a href="https://nginx.org/en/security_advisories.html?utm_source=chatgpt.com" title="nginx security advisories">위키백과</a>, <a href="https://serverfault.com/questions/787919/optimal-value-for-nginx-worker-connections?utm_source=chatgpt.com" title="Optimal value for Nginx worker_connections - Server Fault">Hostinger</a>)</li><li><strong>HTTP/2, HTTP/3 그리고 QUIC 지원</strong>: 최신 프로토콜 대응으로 성능 향상 (<a href="https://www.solo.io/topics/nginx/nginx-configuration?utm_source=chatgpt.com" title="NGINX Configuration: Directives, Examples, and 4 Mistakes to Avoid">위키백과</a>)</li></ul><h3 id=52-실무-연관성>5.2 실무 연관성<a hidden class=anchor aria-hidden=true href=#52-실무-연관성>#</a></h3><ul><li>이벤트 루프와 non‑blocking I/O 는 동시 요청 처리와 리소스 (메모리/CPU) 최소화와 직결됨.</li><li>Master/Worker 모델은 프로세스 단위 격리와 멀티코어 확장성 보장을 위해 필수.</li><li>모듈러 구조는 필요 기능만 활성화, 확장성 및 보안 유지.</li><li>TLS 종료, 캐싱, 로드 밸런싱 기능은 마이크로서비스 및 클라우드 기반 인프라에서 핵심 컴포넌트로 실무 적용됨.</li></ul><h3 id=핵심-개념>핵심 개념<a hidden class=anchor aria-hidden=true href=#핵심-개념>#</a></h3><p><strong>1. 이벤트 기반 아키텍처 (Event-Driven Architecture)</strong></p><ul><li>블로킹 I/O 대신 논블로킹 I/O 사용</li><li>이벤트 루프를 통한 효율적인 연결 관리</li><li>컨텍스트 스위칭 오버헤드 최소화</li></ul><p><strong>2. 마스터 - 워커 프로세스 모델 (Master-Worker Process Model)</strong></p><ul><li>마스터 프로세스: 설정 관리, 포트 바인딩, 워커 프로세스 관리</li><li>워커 프로세스: 실제 요청 처리, CPU 코어당 1 개 권장</li><li>캐시 로더/매니저 프로세스: 캐시 관리 전담</li></ul><p><strong>3. 모듈러 아키텍처 (Modular Architecture)</strong></p><ul><li>코어 모듈: 기본 기능 제공</li><li>HTTP/Mail 모듈: 프로토콜별 추상화</li><li>기능별 모듈: 압축, 캐싱, 보안 등 특화 기능</li></ul><p><strong>실무 구현을 위한 연관성</strong></p><ul><li><strong>시스템 설계</strong>: 이벤트 기반 모델 이해를 통한 적절한 워커 프로세스 수 결정</li><li><strong>성능 최적화</strong>: 모듈별 기능 이해를 통한 필요 모듈만 선택적 활성화</li><li><strong>확장성 계획</strong>: 마스터 - 워커 모델 특성을 고려한 스케일링 전략 수립</li></ul><h3 id=61-등장-및-발전-배경>6.1 등장 및 발전 배경<a hidden class=anchor aria-hidden=true href=#61-등장-및-발전-배경>#</a></h3><ul><li>Igor Sysoev 가 2002 년 Apache 의 동시 연결 부족 (C10K) 을 해결하기 위해 개발 시작 (<a href="https://www.youtube.com/watch?v=6caVlIWohH0&amp;utm_source=chatgpt.com" title="Life of a CVE with Ingress-Nginx - YouTube">Medium</a>, <a href="https://www.f5.com/company/blog/nginx/avoiding-top-10-nginx-configuration-mistakes?utm_source=chatgpt.com" title="Avoiding the Top 10 NGINX Configuration Mistakes - F5 Networks">nginx.org</a>, <a href="https://en.wikipedia.org/wiki/Nginx?utm_source=chatgpt.com" title=Nginx>DataScientest</a>)</li><li>2004 년 공개, 이후 WordPress/Cloudflare 등 대형 사이트 채택 (<a href="https://blog.detectify.com/industry-insights/common-nginx-misconfigurations-that-leave-your-web-server-ope-to-attack/?utm_source=chatgpt.com" title="Common Nginx misconfigurations - Detectify Blog">WIRED</a>, <a href="https://www.scalahosting.com/blog/the-evolution-of-nginx/?utm_source=chatgpt.com" title="The Evolution of Nginx | ScalaHosting Blog">ScalaHosting</a>)</li><li>2011 년 Nginx, Inc. 설립, 2013 년 상용 Nginx Plus 출시, 2019 년 F5 인수 (<a href="https://nginx.org/en/security_advisories.html?utm_source=chatgpt.com" title="nginx security advisories">위키백과</a>)</li></ul><h3 id=1-등장-및-발전-배경>1) 등장 및 발전 배경<a hidden class=anchor aria-hidden=true href=#1-등장-및-발전-배경>#</a></h3><ul><li>가변적 대용량 트래픽, &ldquo;C10K(C10K Problem: 10,000 concurrent connections)&rdquo; 문제 해결 위해 개발 (2002~2004).</li><li>Apache HTTP Server 의 프로세스 기반 한계 해결을 목표.</li><li>오픈소스 커뮤니티 기반으로 글로벌 시장에 빠르게 확산, 엔터프라이즈 에디션 제공.</li></ul><h3 id=등장-배경-및-발전-과정>등장 배경 및 발전 과정<a hidden class=anchor aria-hidden=true href=#등장-배경-및-발전-과정>#</a></h3><p><strong>C10K 문제와 Nginx 의 탄생</strong></p><ul><li>2000 년대 초, 인터넷 사용자 급증으로 인한 동시 연결 처리 문제 대두</li><li>기존 Apache 의 프로세스/스레드 기반 모델의 한계 노출</li><li>2004 년 Igor Sysoev 가 러시아 Rambler 포털의 트래픽 처리를 위해 개발 시작</li><li>2002 년 Daniel Kegel 의 &ldquo;C10K 문제 " 제기에 대한 실질적 해결책 제시</li></ul><p><strong>주요 발전 단계</strong></p><ul><li>2004 년: 최초 개발 시작</li><li>2006 년: 오픈소스로 공개</li><li>2011 년: Nginx Inc. 설립, 상용 버전 Nginx Plus 출시</li><li>2019 년: F5 Networks 에 인수, 엔터프라이즈 지원 강화</li><li>2020 년대: 클라우드 네이티브, 마이크로서비스 아키텍처의 핵심 구성 요소로 자리매김</li></ul><h3 id=목적-및-필요성>목적 및 필요성<a hidden class=anchor aria-hidden=true href=#목적-및-필요성>#</a></h3><p><strong>핵심 목적</strong></p><ol><li><strong>고성능 웹 서빙</strong>: 최소한의 리소스로 최대 처리량 달성</li><li><strong>확장성 제공</strong>: 수평/수직 확장을 통한 트래픽 증가 대응</li><li><strong>안정성 보장</strong>: 무중단 서비스 제공 및 장애 격리</li><li><strong>다용도성 실현</strong>: 단일 솔루션으로 다양한 웹 인프라 요구사항 충족</li></ol><p><strong>필요성</strong></p><ul><li><strong>비용 효율성</strong>: 적은 하드웨어 리소스로 높은 성능 달성</li><li><strong>운영 단순화</strong>: 통합된 솔루션으로 관리 복잡성 감소</li><li><strong>현대적 요구사항</strong>: 마이크로서비스, API 게이트웨이, CDN 등 현대 아키텍처 지원</li></ul><h3 id=2-목적-및-필요성>2) 목적 및 필요성<a hidden class=anchor aria-hidden=true href=#2-목적-및-필요성>#</a></h3><ul><li><strong>목적:</strong> 효율적 웹 트래픽 처리, 리소스 소모 감소, 보안·확장성·트래픽 제어 등 현대적 웹 인프라 요구 대응.</li><li><strong>필요성:</strong> 대용량 연결·실시간 응답성 요구, 다수 서비스 및 복잡한 트래픽 분산, 서비스 보호 (SSL, 인증, DDOS 방어 등).</li></ul><h3 id=62-목적-및-필요성>6.2 목적 및 필요성<a hidden class=anchor aria-hidden=true href=#62-목적-및-필요성>#</a></h3><ul><li>수만 개 동시 연결을 효율적으로 처리 → 빠른 성능, 낮은 메모리/CPU 사용</li><li>정적 파일 제공과 프로토콜 오프로드, 로드 밸런싱 기능 제공 필요성 충족</li></ul><h3 id=64-주요-기능-및-역할>6.4 주요 기능 및 역할<a hidden class=anchor aria-hidden=true href=#64-주요-기능-및-역할>#</a></h3><ul><li><strong>기능</strong>: 정적 파일 제공, TLS 종료, Reverse proxy, Load balancing, Caching, FastCGI/SCGI/uWSGI, Mail proxy, HTTP/3 등</li><li><strong>역할</strong>: 외부 클라이언트 요청을 받아 정적/동적 콘텐츠 처리 또는 백엔드 전달, 부하 분산, 암호화 연결 종료</li><li>기능과 역할은 서로 결합: 예를 들어 Reverse Proxy 기능이 Load Balancing 역할을 수행</li></ul><h3 id=4-주요-기능-및-역할>4) 주요 기능 및 역할<a hidden class=anchor aria-hidden=true href=#4-주요-기능-및-역할>#</a></h3><table><thead><tr><th>구분</th><th>기능</th><th>역할</th></tr></thead><tbody><tr><td>웹 서버</td><td>정적 파일 서비스</td><td>HTTP/HTTPS 요청 응답</td></tr><tr><td>리버스 프록시</td><td>요청 중계, SSL Offload</td><td>백엔드 (애플리케이션) 보호, HTTPS 처리</td></tr><tr><td>로드밸런서</td><td>부하 분산</td><td>트래픽 균등화, 장애 시 Failover</td></tr><tr><td>캐싱</td><td>콘텐츠/파일 캐싱</td><td>성능 향상 및 트래픽 절감</td></tr><tr><td>보안</td><td>제한, 인증, 방화벽</td><td>IP, 인증, 웹 방화벽 (WAF)</td></tr><tr><td>확장성</td><td>모듈/동적 확장</td><td>gRPC/WebSocket 등 신기술 지원</td></tr></tbody></table><h3 id=주요-기능-및-역할>주요 기능 및 역할<a hidden class=anchor aria-hidden=true href=#주요-기능-및-역할>#</a></h3><p><strong>기능 분류</strong></p><table><thead><tr><th>구분</th><th>기능</th><th>역할</th><th>관계성</th></tr></thead><tbody><tr><td>웹 서버</td><td>정적 파일 서빙</td><td>HTTP 요청 처리 및 응답</td><td>기본 역할, 다른 기능의 기반</td></tr><tr><td>리버스 프록시</td><td>백엔드 서버 중계</td><td>클라이언트 - 서버 간 중개</td><td>웹 서버 기능을 확장한 형태</td></tr><tr><td>로드 밸런서</td><td>트래픽 분산</td><td>다중 서버 간 부하 분산</td><td>리버스 프록시 기능 위에 구현</td></tr><tr><td>캐시 서버</td><td>응답 캐싱</td><td>성능 향상 및 백엔드 부하 감소</td><td>모든 기능과 상호 연동</td></tr><tr><td>API 게이트웨이</td><td>API 관리</td><td>인증, 라우팅, 변환 등</td><td>리버스 프록시 + 추가 모듈 조합</td></tr></tbody></table><h3 id=특징>특징<a hidden class=anchor aria-hidden=true href=#특징>#</a></h3><p><strong>1. 고성능 (High Performance)</strong></p><ul><li><strong>달성 메커니즘</strong>: 이벤트 기반 아키텍처를 통한 논블로킹 I/O 처리</li><li><strong>결과</strong>: 동일 하드웨어에서 Apache 대비 2-5 배 높은 처리량</li></ul><p><strong>2. 낮은 메모리 사용량 (Low Memory Footprint)</strong></p><ul><li><strong>달성 메커니즘</strong>: 단일 스레드 이벤트 루프 및 효율적인 메모리 관리</li><li><strong>결과</strong>: 1 만 개 비활성 연결당 2.5MB 메모리 사용 (Apache: 256MB)</li></ul><p><strong>3. 높은 동시 연결 처리 능력 (High Concurrency)</strong></p><ul><li><strong>달성 메커니즘</strong>: epoll/kqueue 등 고급 이벤트 알림 메커니즘 활용</li><li><strong>결과</strong>: 단일 서버에서 50 만 + 동시 연결 처리 가능</li></ul><p><strong>4. 구성의 단순성 (Configuration Simplicity)</strong></p><ul><li><strong>달성 메커니즘</strong>: 선언적 설정 파일 구조 및 직관적 지시어</li><li><strong>결과</strong>: 복잡한 설정도 가독성 있게 관리 가능</li></ul><h3 id=5-특징>5) 특징<a hidden class=anchor aria-hidden=true href=#5-특징>#</a></h3><ul><li><strong>고성능, 저자원</strong>: 수만 동시연결에도 저메모리·저 CPU.</li><li><strong>모듈기반 확장성</strong>: 동적 로딩, 커뮤니티/상용 모듈 확장 가능.</li><li><strong>범용성</strong>: 리눅스, 윈도우, 유닉스 등 다양한 OS 지원.</li><li><strong>배포·이중화 용이성</strong>: 클러스터, CDN, 엣지 (Edge) 인프라에서 손쉽게 도입 및 확장.</li></ul><h3 id=65-특징>6.5 특징<a hidden class=anchor aria-hidden=true href=#65-특징>#</a></h3><ul><li>높은 동시성 처리능력: 이벤트 기반 구조</li><li>낮은 메모리/CPU 사용</li><li>모듈러 설계로 최소 구성 가능</li></ul><h3 id=주요-특징>주요 특징<a hidden class=anchor aria-hidden=true href=#주요-특징>#</a></h3><ol><li>비동기 이벤트 기반 아키텍처로 높은 동시성 처리 능력</li><li>낮은 메모리 사용량</li><li>정적 파일 서빙에 최적화</li><li>리버스 프록시 및 로드 밸런싱 기능</li><li>HTTP/2 및 HTTPS 지원</li></ol><h4 id=nginx-의-비동기-이벤트-기반-구조>Nginx 의 비동기 이벤트 기반 구조<a hidden class=anchor aria-hidden=true href=#nginx-의-비동기-이벤트-기반-구조>#</a></h4><ol><li>마스터 프로세스와 워커 프로세스로 구성된다. 마스터 프로세스는 워커 프로세스를 관리하고, 워커 프로세스는 실제 요청을 처리한다.</li><li>각 워커 프로세스는 단일 스레드로 동작하며, 이벤트 루프를 실행한다.</li><li>워커 프로세스는 비동기적으로 여러 연결을 동시에 처리할 수 있다. 새로운 연결이 들어오면 이벤트로 처리되어 워커 프로세스에 할당된다.</li><li>요청은 상태 머신 (주로 HTTP 상태 머신) 에 할당되어 처리된다. 이 상태 머신은 요청을 어떻게 처리할지 지시한다.</li><li>워커 프로세스는 요청을 차단하지 않고 비동기적으로 처리한다. 이를 통해 한 워커 프로세스가 수천 개의 연결을 동시에 처리할 수 있다.</li><li>이벤트 기반 모델을 사용하여 새로운 클라이언트 요청과 같은 이벤트가 발생할 때까지 대기하다가, 이벤트가 발생하면 처리한다.</li></ol><h3 id=66-핵심-원칙>6.6 핵심 원칙<a hidden class=anchor aria-hidden=true href=#66-핵심-원칙>#</a></h3><ul><li>non‑blocking I/O 및 이벤트 루프</li><li>master/worker 프로세스 분리</li><li>계속 고가용성을 위한 설정 재시작 없이 reload 가능</li></ul><h3 id=6-핵심-원칙>6) 핵심 원칙<a hidden class=anchor aria-hidden=true href=#6-핵심-원칙>#</a></h3><ul><li>비동기 구조, 효율적 자원사용, 모듈화, 확장성, 보안</li></ul><h3 id=핵심-원칙>핵심 원칙<a hidden class=anchor aria-hidden=true href=#핵심-원칙>#</a></h3><p><strong>1. 비동기 논블로킹 원칙 (Asynchronous Non-blocking Principle)</strong></p><ul><li>모든 I/O 작업은 논블로킹으로 처리</li><li>이벤트 기반 처리로 CPU 효율성 극대화</li></ul><p><strong>2. 단일 책임 원칙 (Single Responsibility Principle)</strong></p><ul><li>각 워커 프로세스는 독립적으로 요청 처리</li><li>장애 격리 및 안정성 보장</li></ul><p><strong>3. 모듈화 원칙 (Modularity Principle)</strong></p><ul><li>기능별 모듈 분리로 유연성 확보</li><li>필요한 기능만 선택적 활성화</li></ul><p><strong>4. 무상태 원칙 (Stateless Principle)</strong></p><ul><li>각 요청은 독립적으로 처리</li><li>확장성 및 로드 밸런싱 지원</li></ul><h3 id=주요-원리-및-작동-원리>주요 원리 및 작동 원리<a hidden class=anchor aria-hidden=true href=#주요-원리-및-작동-원리>#</a></h3><p><strong>Nginx 작동 원리 다이어그램</strong></p><pre class=mermaid>graph TB
    Client[클라이언트] --&gt; LB[로드 밸런서/리버스 프록시&lt;br/&gt;Nginx]
    LB --&gt; Master[마스터 프로세스&lt;br/&gt;설정 관리, 포트 바인딩]
    Master --&gt; W1[워커 프로세스 1&lt;br/&gt;이벤트 루프]
    Master --&gt; W2[워커 프로세스 2&lt;br/&gt;이벤트 루프]
    Master --&gt; WN[워커 프로세스 N&lt;br/&gt;이벤트 루프]
    Master --&gt; CL[캐시 로더&lt;br/&gt;디스크 캐시 로딩]
    Master --&gt; CM[캐시 매니저&lt;br/&gt;캐시 관리]
    
    W1 --&gt; Backend1[백엔드 서버 1]
    W2 --&gt; Backend2[백엔드 서버 2]
    WN --&gt; BackendN[백엔드 서버 N]
    
    subgraph &#34;이벤트 처리&#34;
        E1[연결 수락]
        E2[읽기 이벤트]
        E3[쓰기 이벤트]
        E4[타이머 이벤트]
    end
    
    W1 -.-&gt; E1
    W1 -.-&gt; E2
    W1 -.-&gt; E3
    W1 -.-&gt; E4
</pre><p><strong>이벤트 처리 메커니즘</strong></p><ol><li><strong>연결 수락</strong>: 클라이언트 연결을 논블로킹으로 수락</li><li><strong>이벤트 큐잉</strong>: 모든 I/O 이벤트를 큐에 등록</li><li><strong>이벤트 루프</strong>: 단일 스레드에서 이벤트를 순차적으로 처리</li><li><strong>상태 관리</strong>: 각 연결의 상태를 메모리에서 효율적으로 관리</li></ol><h3 id=67-주요-원리--작동-원리-및-방식>6.7 주요 원리 / 작동 원리 및 방식<a hidden class=anchor aria-hidden=true href=#67-주요-원리--작동-원리-및-방식>#</a></h3><ul><li><strong>이벤트 루프 + epoll/kqueue 사용</strong></li><li>master 프로세스에서 worker fork, 설정 및 리로드 관리</li><li>worker 프로세스는 다수의 클라이언트 소켓을 non-blocking 방식으로 처리</li></ul><p>아래 이미지로 구조 설명드립니다:</p><p><a href=https://mungfali.com/explore/Nginx-Architecture-Diagram><figure><img alt="Nginx Architecture Diagram" loading=lazy src="https://tse3.mm.bing.net/th/id/OIP.8nuQl8sNJ6kD327lQ_D8-AHaFk?r=0\\&pid=Api"></figure></a></p><p><strong>설명</strong>: 중앙의 Master process 와 여러 Worker, 이벤트 루프 기반 비동기 처리 모델을 보여주는 아키텍처입니다.</p><h3 id=7-주요-원리-및-작동-원리-다이어그램-mermaid>7) 주요 원리 및 작동 원리 다이어그램 (Mermaid)<a hidden class=anchor aria-hidden=true href=#7-주요-원리-및-작동-원리-다이어그램-mermaid>#</a></h3><pre class=mermaid>sequenceDiagram
    participant Client
    participant Nginx
    participant Backend
    Client-&gt;&gt;Nginx: HTTP/HTTPS 요청
    Nginx-&gt;&gt;Nginx: 프록시/로드밸런싱/캐싱/보안 정책 적용
    Nginx-&gt;&gt;Backend: 필요한 요청만 전달
    Backend--&gt;&gt;Nginx: 응답
    Nginx--&gt;&gt;Client: 최종 응답
</pre><h2 id=-67-변경-전-주요-원리-및-작동-원리--작동-원리-및-방식>☁️ 6.7 (변경 전: 주요 원리 및 작동 원리) → <strong>작동 원리 및 방식</strong><a hidden class=anchor aria-hidden=true href=#-67-변경-전-주요-원리-및-작동-원리--작동-원리-및-방식>#</a></h2><h3 id=67-작동-원리-및-방식>6.7 작동 원리 및 방식<a hidden class=anchor aria-hidden=true href=#67-작동-원리-및-방식>#</a></h3><ul><li><strong>Reactor 패턴 기반 이벤트 루프</strong><br>Nginx 의 워커 (worker) 프로세스는 Reactor 패턴 기반의 이벤트 루프 구조를 갖고, epoll/kqueue/select 기반 non‑blocking I/O 로 연결을 감시하고 처리합니다 (<a href="https://nginx.org/en/security_advisories.html?utm_source=chatgpt.com" title="nginx security advisories">위키백과</a>, <a href="https://gorbe.io/posts/nginx/common-issues-and-misconfigurations/?utm_source=chatgpt.com" title="Nginx Common Issues and Misconfigurations - G RBE">codedamn.com</a>).</li><li><strong>Master / Worker 구조</strong><br>마스터 (master) 프로세스는 설정 로딩, 워커 프로세스 제어 및 시그널 처리, 재시작 (reload) 을 관리하고, 워커는 이벤트 루프를 돌아가며 요청을 처리합니다 (<a href="https://www.solo.io/topics/nginx/nginx-configuration?utm_source=chatgpt.com" title="NGINX Configuration: Directives, Examples, and 4 Mistakes to Avoid">Medium</a>).</li><li><strong>비동기 I/O 처리 파이프라인</strong><br>워커는 Accept → Read → Process → Write → Close 순서의 파이프라인으로 요청을 처리하며, SSL/TLS, HTTP 파싱, 프록시 전달, 응답 렌더링 등을 non‑blocking 흐름으로 수행 (<a href="https://gorbe.io/posts/nginx/common-issues-and-misconfigurations/?utm_source=chatgpt.com" title="Nginx Common Issues and Misconfigurations - G RBE">codedamn.com</a>).</li><li><strong>메모리 및 버퍼 관리</strong><br>Short‑lived allocations 는 pool allocator, 버퍼 체인 구조를 이용한 유연한 요청/응답 처리로 메모리 낭비 최소화 (<a href="https://serverfault.com/questions/787919/optimal-value-for-nginx-worker-connections?utm_source=chatgpt.com" title="Optimal value for Nginx worker_connections - Server Fault">accuweb.cloud</a>, <a href="https://www.solo.io/topics/nginx/kubernetes-ingress-controller?utm_source=chatgpt.com" title="Kubernetes Ingress Controller: A Practical Guide | Solo.io">mohitmishra786.github.io</a>).</li><li><strong>오류 복원력 및 프로세스 격리</strong><br>워커 프로세스 오류 시 마스터가 감지 후 자동 재시작. 다른 워커에 영향 없음 (<a href="https://www.solo.io/topics/nginx/nginx-configuration?utm_source=chatgpt.com" title="NGINX Configuration: Directives, Examples, and 4 Mistakes to Avoid">Medium</a>).</li></ul><hr><h2 id=-68-구조-및-아키텍처-구성-요소-포함>☁️ 6.8 구조 및 아키텍처 (구성 요소 포함)<a hidden class=anchor aria-hidden=true href=#-68-구조-및-아키텍처-구성-요소-포함>#</a></h2><h3 id=구성-요소>구성 요소<a hidden class=anchor aria-hidden=true href=#구성-요소>#</a></h3><table><thead><tr><th>구분</th><th>구성 요소</th><th>기능 및 역할</th></tr></thead><tbody><tr><td>필수</td><td>Master Process</td><td>설정 로딩, 워커 생성/제어, 시그널 관리, graceful reload</td></tr><tr><td>필수</td><td>Worker Process (다수)</td><td>이벤트 루프 기반 요청 처리, epoll/kqueue 사용, SSL 종료, HTTP 파싱/응답</td></tr><tr><td>필수</td><td>Event Module</td><td>워커 내 이벤트 감지, ready 이벤트 dispatch, Reactor 패턴 구현</td></tr><tr><td>필수</td><td>Memory/Buffers</td><td>pool allocator, buffer chain 으로 효율적인 I/O 처리</td></tr><tr><td>선택</td><td>Cache Manager & Loader</td><td>디스크 기반 캐시 관리 및 로딩</td></tr><tr><td>선택</td><td>HTTP Proxy Modules</td><td>proxy_pass, fastcgi_pass 등 다양한 백엔드 프로토콜 지원 모듈</td></tr><tr><td>선택</td><td>Load‑Balancing Modules</td><td>upstream 블록 기반 로드 분산 (round‑robin, least_conn, ip_hash 등) (<a href="https://gorbe.io/posts/nginx/common-issues-and-misconfigurations/?utm_source=chatgpt.com" title="Nginx Common Issues and Misconfigurations - G RBE">codedamn.com</a>, <a href="https://www.solo.io/topics/nginx/kubernetes-ingress-controller?utm_source=chatgpt.com" title="Kubernetes Ingress Controller: A Practical Guide | Solo.io">mohitmishra786.github.io</a>, <a href="https://www.f5.com/company/blog/nginx/nginx-plus-ingress-controller-kubernetes-load-balancing?utm_source=chatgpt.com" title="NGINX and NGINX Plus Ingress Controllers for Kubernetes Load …">Medium</a>, <a href="https://en.wikipedia.org/wiki/Nginx?utm_source=chatgpt.com" title=Nginx>CloudSigma</a>, <a href="https://www.youtube.com/watch?v=6caVlIWohH0&amp;utm_source=chatgpt.com" title="Life of a CVE with Ingress-Nginx - YouTube">docs.nginx.com</a>)</td></tr><tr><td>선택</td><td>TLS 모듈</td><td>SNI, OCSP stapling, HTTP/2·HTTP/3 지원</td></tr><tr><td>선택</td><td>Logging / Monitoring Modules</td><td>access_log, status, Plus API 등을 통한 실시간 모니터링</td></tr></tbody></table><h3 id=아키텍처-도식>아키텍처 도식<a hidden class=anchor aria-hidden=true href=#아키텍처-도식>#</a></h3><pre class=mermaid>graph TD
  M[Master Process]
  subgraph Cores
    W1[Worker Process 1]
    W2[Worker Process 2]
    W3[Worker Process N]
  end
  M --&gt;|fork| W1
  M --&gt; W2
  M --&gt; W3

  subgraph W1_mod
    E1[Event Loop / Reactor]
    B1[Buffer/Memory]
    EM1[Proxy/Cache/SSL Modules]
  end
  W1 --&gt; E1
  E1 --&gt; EM1
  EM1 --&gt; B1
</pre><p><strong>설명</strong>:</p><ul><li>Master 가 다수 Worker 를 fork 하며, 각 Worker 는 CPU 코어에 고정될 수 있음.</li><li>Worker 내부에는 이벤트 루프 (event module), 모듈 (proxy, cache, SSL 등) 및 메모리/버퍼 구성 요소가 포함됨.</li><li>구성 요소 간 흐름: Event → Module 처리 → Buffer → 응답.</li></ul><h3 id=8-구조-및-아키텍처-구성-요소>8) 구조 및 아키텍처, 구성 요소<a hidden class=anchor aria-hidden=true href=#8-구조-및-아키텍처-구성-요소>#</a></h3><table><thead><tr><th>구분</th><th>구성요소</th><th>기능</th><th>역할</th><th>특징</th></tr></thead><tbody><tr><td>필수</td><td>master process</td><td>프로세스 관리/리로드/worker fork</td><td>전체 Nginx 인스턴스 제어</td><td>유일한 상위 프로세스</td></tr><tr><td>필수</td><td>worker process</td><td>실제 요청 처리</td><td>다중 요청 병렬 분산처리</td><td>이벤트 기반, 비동기</td></tr><tr><td>필수</td><td>configuration</td><td>모든 정책 및 라우팅 정의</td><td>서버, 프록시, 보안, 캐싱 등 설정</td><td>.conf 파일</td></tr><tr><td>선택</td><td>모듈 (동적/정적)</td><td>커스텀 기능 추가 (보안, 로깅 등)</td><td>표준 이외 기능 확장</td><td>3rd-party 가능</td></tr><tr><td>선택</td><td>캐시/세션 저장소</td><td>임시 데이터 저장 (파일, 메모리, Key-Value)</td><td>캐싱, 세션, 인증 정보</td><td>여러 스토리지 지원</td></tr></tbody></table><h4 id=구조-다이어그램-mermaid>구조 다이어그램 (Mermaid)<a hidden class=anchor aria-hidden=true href=#구조-다이어그램-mermaid>#</a></h4><pre class=mermaid>graph TD
    Client --&gt; Nginx_Master
    Nginx_Master --&gt; Nginx_Worker
    Nginx_Worker --&gt;|정책 적용| Config[(Config File)]
    Nginx_Worker --&gt;|정적 요청| Static[Static Files]
    Nginx_Worker --&gt;|프록시| Backend[(Backend Servers)]
    Nginx_Worker -.-&gt;|확장| Module[Plug-in Modules]
    Nginx_Worker -.-&gt;|캐싱| Cache[Cache Storage]
</pre><p>설명: master process 가 worker process 를 관리하며, 각각의 워커는 설정에 따라 정적 파일 제공, 백엔드 프록시, 정책 적용, 확장모듈/캐시 등 다양한 역할을 담당함.</p><h3 id=구조-및-아키텍처>구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#구조-및-아키텍처>#</a></h3><p><strong>전체 아키텍처 다이어그램</strong></p><pre class=mermaid>graph TB
    subgraph &#34;Nginx 아키텍처&#34;
        subgraph &#34;프로세스 계층&#34;
            Master[마스터 프로세스]
            Worker1[워커 프로세스 1]
            Worker2[워커 프로세스 2]
            Cache[캐시 프로세스들]
        end
        
        subgraph &#34;모듈 계층&#34;
            Core[코어 모듈]
            HTTP[HTTP 모듈]
            Mail[Mail 모듈]
            Stream[Stream 모듈]
        end
        
        subgraph &#34;기능 모듈&#34;
            Static[정적 파일 서빙]
            Proxy[프록시]
            LoadBal[로드 밸런싱]
            Compress[압축]
            SSL[SSL/TLS]
            Auth[인증]
        end
    end
    
    Master --&gt; Worker1
    Master --&gt; Worker2
    Master --&gt; Cache
    
    Core --&gt; HTTP
    Core --&gt; Mail
    Core --&gt; Stream
    
    HTTP --&gt; Static
    HTTP --&gt; Proxy
    HTTP --&gt; LoadBal
    HTTP --&gt; Compress
    HTTP --&gt; SSL
    HTTP --&gt; Auth
</pre><h3 id=구성-요소-1>구성 요소<a hidden class=anchor aria-hidden=true href=#구성-요소-1>#</a></h3><p><strong>필수 구성 요소</strong></p><table><thead><tr><th>구성 요소</th><th>기능</th><th>역할</th><th>특징</th></tr></thead><tbody><tr><td>마스터 프로세스</td><td>프로세스 관리</td><td>워커 프로세스 생성/관리, 설정 로딩</td><td>권한 있는 작업 수행</td></tr><tr><td>워커 프로세스</td><td>요청 처리</td><td>실제 클라이언트 요청 처리</td><td>CPU 코어당 1 개 권장</td></tr><tr><td>코어 모듈</td><td>기본 기능</td><td>네트워크 I/O, 메모리 관리</td><td>모든 기능의 기반</td></tr><tr><td>HTTP 모듈</td><td>HTTP 처리</td><td>HTTP 프로토콜 처리 및 추상화</td><td>웹 서버 기능의 핵심</td></tr></tbody></table><p><strong>선택 구성 요소</strong></p><table><thead><tr><th>구성 요소</th><th>기능</th><th>역할</th><th>특징</th></tr></thead><tbody><tr><td>캐시 로더</td><td>캐시 초기화</td><td>시작 시 디스크 캐시를 메모리로 로딩</td><td>시작 시에만 실행</td></tr><tr><td>캐시 매니저</td><td>캐시 관리</td><td>캐시 만료, 크기 관리</td><td>주기적으로 실행</td></tr><tr><td>Stream 모듈</td><td>TCP/UDP 프록시</td><td>L4 로드 밸런싱</td><td>Nginx Plus 에서 주로 사용</td></tr><tr><td>Mail 모듈</td><td>메일 프록시</td><td>IMAP/POP3/SMTP 프록시</td><td>특수 용도</td></tr></tbody></table><h3 id=구현-기법-및-방법>구현 기법 및 방법<a hidden class=anchor aria-hidden=true href=#구현-기법-및-방법>#</a></h3><p><strong>1. 이벤트 기반 I/O 모델</strong></p><p><strong>정의</strong>: 블로킹 I/O 대신 이벤트 알림을 통한 비동기 처리 방식</p><p><strong>구성</strong>:</p><ul><li>이벤트 루프 (Event Loop)</li><li>이벤트 큐 (Event Queue)</li><li>이벤트 핸들러 (Event Handler)</li></ul><p><strong>목적</strong>: CPU 사용률 최적화 및 높은 동시성 처리</p><p><strong>실제 예시 (의사 코드)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1> 1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2> 2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3> 3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4> 4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5> 5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6> 6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7> 7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8> 8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9> 9</a>
</span><span class=lnt id=hl-5-10><a class=lnlinks href=#hl-5-10>10</a>
</span><span class=lnt id=hl-5-11><a class=lnlinks href=#hl-5-11>11</a>
</span><span class=lnt id=hl-5-12><a class=lnlinks href=#hl-5-12>12</a>
</span><span class=lnt id=hl-5-13><a class=lnlinks href=#hl-5-13>13</a>
</span><span class=lnt id=hl-5-14><a class=lnlinks href=#hl-5-14>14</a>
</span><span class=lnt id=hl-5-15><a class=lnlinks href=#hl-5-15>15</a>
</span><span class=lnt id=hl-5-16><a class=lnlinks href=#hl-5-16>16</a>
</span><span class=lnt id=hl-5-17><a class=lnlinks href=#hl-5-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=c1>// 이벤트 루프 구현 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>while</span> <span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 이벤트 대기 (epoll_wait, kqueue 등)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>int</span> <span class=n>events_count</span> <span class=o>=</span> <span class=nf>epoll_wait</span><span class=p>(</span><span class=n>epfd</span><span class=p>,</span> <span class=n>events</span><span class=p>,</span> <span class=n>MAX_EVENTS</span><span class=p>,</span> <span class=n>timeout</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>events_count</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 이벤트 타입에 따른 처리
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=n>events</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>events</span> <span class=o>&amp;</span> <span class=n>EPOLLIN</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// 읽기 이벤트 처리
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nf>handle_read_event</span><span class=p>(</span><span class=n>events</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>data</span><span class=p>.</span><span class=n>fd</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>events</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>events</span> <span class=o>&amp;</span> <span class=n>EPOLLOUT</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// 쓰기 이벤트 처리
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nf>handle_write_event</span><span class=p>(</span><span class=n>events</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>data</span><span class=p>.</span><span class=n>fd</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>2. 메모리 풀 관리</strong></p><p><strong>정의</strong>: 메모리 할당/해제 오버헤드 최소화를 위한 메모리 관리 기법</p><p><strong>구성</strong>:</p><ul><li>연결별 메모리 풀</li><li>요청별 메모리 풀</li><li>임시 메모리 풀</li></ul><p><strong>목적</strong>: 메모리 단편화 방지 및 할당 성능 향상</p><p><strong>3. 상태 머신 (State Machine)</strong></p><p><strong>정의</strong>: HTTP 요청 처리 과정을 상태 전이로 모델링한 처리 방식</p><p><strong>구성</strong>:</p><ul><li>연결 상태 관리</li><li>요청 파싱 상태</li><li>응답 생성 상태</li></ul><p><strong>목적</strong>: 복잡한 HTTP 처리 과정의 체계적 관리</p><h3 id=9-구현-기법-및-방법>9) 구현 기법 및 방법<a hidden class=anchor aria-hidden=true href=#9-구현-기법-및-방법>#</a></h3><ul><li><strong>설정 파일 기반 선언적 구성</strong>: nginx.conf, sites-available 등으로 서버 블록, 프록시/로드밸런서/캐싱/보안 정책 세분화 적용</li><li><strong>동적 리로드 및 무중단 배포</strong>: 설정 변경 시 서비스 중단 없이 reload</li><li><strong>모듈화 확장</strong>: 공식 모듈, 3rd-party 모듈 포함 가능 (정적/동적 빌드)</li><li><strong>자동화</strong>: Ansible, Terraform 등과 연계한 IaC(Infrastructure as Code) 운영</li></ul><h2 id=69-구현-기법-및-방법>6.9 구현 기법 및 방법<a hidden class=anchor aria-hidden=true href=#69-구현-기법-및-방법>#</a></h2><ul><li><strong>역할 분리 기반 구성</strong><br>Master/Worker 분리, 동시성 확보 및 안정성 보장. worker_processes = CPU 코어 수 또는 설정 값</li><li><strong>로드 밸런싱 구현</strong><br><code>upstream { }</code> 블록으로 백엔드 서버 그룹 정의, Open Source 는 4 가지 방식 (round_robin, least_conn, ip_hash, generic_hash), Plus 는 least_time, random 등 확장 (<a href="https://www.solo.io/topics/nginx/nginx-kubernetes?utm_source=chatgpt.com" title="NGINX Kubernetes Ingress Controller - Solo.io">위키백과</a>, <a href="https://gorbe.io/posts/nginx/common-issues-and-misconfigurations/?utm_source=chatgpt.com" title="Nginx Common Issues and Misconfigurations - G RBE">codedamn.com</a>, <a href="https://www.youtube.com/watch?v=6caVlIWohH0&amp;utm_source=chatgpt.com" title="Life of a CVE with Ingress-Nginx - YouTube">docs.nginx.com</a>)</li><li><strong>캐싱 구성</strong><br><code>proxy_cache_path</code> 으로 저장소 지정, <code>proxy_cache</code>, <code>proxy_cache_valid</code>, <code>proxy_cache_bypass/no_cache</code>, <code>proxy_cache_purge</code> 등으로 조절 가능 (<a href="https://www.f5.com/company/blog/nginx/avoiding-top-10-nginx-configuration-mistakes?utm_source=chatgpt.com" title="Avoiding the Top 10 NGINX Configuration Mistakes - F5 Networks">docs.nginx.com</a>)</li><li><strong>TLS 종료 및 HTTP/2, HTTP/3 지원</strong><br>SSL 모듈 설정 및 최신 프로토콜 선택 가능 (nginx 1.25.x 이상 HTTP/3 experimental) (<a href="https://blog.detectify.com/industry-insights/common-nginx-misconfigurations-that-leave-your-web-server-ope-to-attack/?utm_source=chatgpt.com" title="Common Nginx misconfigurations - Detectify Blog">nginx.org</a>, <a href="https://www.solo.io/topics/nginx/nginx-kubernetes?utm_source=chatgpt.com" title="NGINX Kubernetes Ingress Controller - Solo.io">위키백과</a>)</li><li><strong>동적 리로드 및 무중단 재시작</strong><br><code>nginx -s reload</code> 명령으로 연결을 끊지 않고 설정 변경 적용. usable worker graceful shutdown</li></ul><h3 id=설치-방법>설치 방법<a hidden class=anchor aria-hidden=true href=#설치-방법>#</a></h3><p>Ubuntu/Debian 기반:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1>1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install nginx
</span></span></code></pre></td></tr></table></div></div><h3 id=기본-사용법>기본 사용법<a hidden class=anchor aria-hidden=true href=#기본-사용법>#</a></h3><ol><li>시작: <code>sudo systemctl start nginx</code></li><li>중지: <code>sudo systemctl stop nginx</code></li><li>재시작: <code>sudo systemctl restart nginx</code></li><li>설정 리로드: <code>sudo systemctl reload nginx</code></li></ol><h3 id=주요-설정-파일>주요 설정 파일<a hidden class=anchor aria-hidden=true href=#주요-설정-파일>#</a></h3><ul><li>메인 설정 파일: <code>/etc/nginx/nginx.conf</code></li><li>사이트 설정: <code>/etc/nginx/sites-available/</code> 및 <code>/etc/nginx/sites-enabled/</code></li></ul><h3 id=기본-설정-예시>기본 설정 예시<a hidden class=anchor aria-hidden=true href=#기본-설정-예시>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1> 1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2> 2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3> 3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4> 4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5> 5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6> 6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7> 7</a>
</span><span class=lnt id=hl-7-8><a class=lnlinks href=#hl-7-8> 8</a>
</span><span class=lnt id=hl-7-9><a class=lnlinks href=#hl-7-9> 9</a>
</span><span class=lnt id=hl-7-10><a class=lnlinks href=#hl-7-10>10</a>
</span><span class=lnt id=hl-7-11><a class=lnlinks href=#hl-7-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>http</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>listen</span> <span class=mi>80</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>server_name</span> <span class=s>example.com</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>root</span> <span class=s>/var/www/example.com</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=kn>try_files</span> <span class=nv>$uri</span> <span class=nv>$uri/</span> <span class=p>=</span><span class=mi>404</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>이 설정은 example.com 도메인에 대해 80 번 포트로 들어오는 요청을 처리하고, /var/www/example.com 디렉토리의 파일을 서빙한다.</p><h3 id=주요-설정-옵션>주요 설정 옵션<a hidden class=anchor aria-hidden=true href=#주요-설정-옵션>#</a></h3><h4 id=기본-설정-구조>기본 설정 구조<a hidden class=anchor aria-hidden=true href=#기본-설정-구조>#</a></h4><p>Nginx 의 설정은 계층적인 구조를 가지고 있다.<br>주요 설정 파일은 /etc/nginx/nginx.conf 이며, 개별 사이트 설정은 /etc/nginx/sites-available/ 디렉토리에 저장된다.</p><p>기본 설정 파일의 구조:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span><span class=lnt id=hl-8-11><a class=lnlinks href=#hl-8-11>11</a>
</span><span class=lnt id=hl-8-12><a class=lnlinks href=#hl-8-12>12</a>
</span><span class=lnt id=hl-8-13><a class=lnlinks href=#hl-8-13>13</a>
</span><span class=lnt id=hl-8-14><a class=lnlinks href=#hl-8-14>14</a>
</span><span class=lnt id=hl-8-15><a class=lnlinks href=#hl-8-15>15</a>
</span><span class=lnt id=hl-8-16><a class=lnlinks href=#hl-8-16>16</a>
</span><span class=lnt id=hl-8-17><a class=lnlinks href=#hl-8-17>17</a>
</span><span class=lnt id=hl-8-18><a class=lnlinks href=#hl-8-18>18</a>
</span><span class=lnt id=hl-8-19><a class=lnlinks href=#hl-8-19>19</a>
</span><span class=lnt id=hl-8-20><a class=lnlinks href=#hl-8-20>20</a>
</span><span class=lnt id=hl-8-21><a class=lnlinks href=#hl-8-21>21</a>
</span><span class=lnt id=hl-8-22><a class=lnlinks href=#hl-8-22>22</a>
</span><span class=lnt id=hl-8-23><a class=lnlinks href=#hl-8-23>23</a>
</span><span class=lnt id=hl-8-24><a class=lnlinks href=#hl-8-24>24</a>
</span><span class=lnt id=hl-8-25><a class=lnlinks href=#hl-8-25>25</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=c1># 전역 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>user</span> <span class=s>www-data</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>worker_processes</span> <span class=s>auto</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>pid</span> <span class=s>/run/nginx.pid</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>include</span> <span class=n>/etc/nginx/modules-enabled/*.conf</span>;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>events</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1># 연결 처리 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>worker_connections</span> <span class=mi>1024</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>multi_accept</span> <span class=no>on</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>http</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1># HTTP 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>include</span> <span class=s>/etc/nginx/mime.types</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>default_type</span> <span class=s>application/octet-stream</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 로깅 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>access_log</span> <span class=s>/var/log/nginx/access.log</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>error_log</span> <span class=s>/var/log/nginx/error.log</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 기본 서버 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>include</span> <span class=s>/etc/nginx/conf.d/*.conf</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>include</span> <span class=s>/etc/nginx/sites-enabled/*</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=가상-호스트-설정>가상 호스트 설정<a hidden class=anchor aria-hidden=true href=#가상-호스트-설정>#</a></h4><p>웹사이트 호스팅을 위한 가상 호스트 설정:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11>11</a>
</span><span class=lnt id=hl-9-12><a class=lnlinks href=#hl-9-12>12</a>
</span><span class=lnt id=hl-9-13><a class=lnlinks href=#hl-9-13>13</a>
</span><span class=lnt id=hl-9-14><a class=lnlinks href=#hl-9-14>14</a>
</span><span class=lnt id=hl-9-15><a class=lnlinks href=#hl-9-15>15</a>
</span><span class=lnt id=hl-9-16><a class=lnlinks href=#hl-9-16>16</a>
</span><span class=lnt id=hl-9-17><a class=lnlinks href=#hl-9-17>17</a>
</span><span class=lnt id=hl-9-18><a class=lnlinks href=#hl-9-18>18</a>
</span><span class=lnt id=hl-9-19><a class=lnlinks href=#hl-9-19>19</a>
</span><span class=lnt id=hl-9-20><a class=lnlinks href=#hl-9-20>20</a>
</span><span class=lnt id=hl-9-21><a class=lnlinks href=#hl-9-21>21</a>
</span><span class=lnt id=hl-9-22><a class=lnlinks href=#hl-9-22>22</a>
</span><span class=lnt id=hl-9-23><a class=lnlinks href=#hl-9-23>23</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=c1># /etc/nginx/sites-available/example.com
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>listen</span> <span class=mi>80</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server_name</span> <span class=s>example.com</span> <span class=s>www.example.com</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>root</span> <span class=s>/var/www/example.com</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 로그 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>access_log</span> <span class=s>/var/log/nginx/example.com-access.log</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>error_log</span> <span class=s>/var/log/nginx/example.com-error.log</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 기본 페이지 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>index</span> <span class=s>index.html</span> <span class=s>index.php</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>try_files</span> <span class=nv>$uri</span> <span class=nv>$uri/</span> <span class=s>/index.php?</span><span class=nv>$query_string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># PHP 처리 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>location</span> <span class=p>~</span> <span class=sr>\.php$</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>include</span> <span class=s>snippets/fastcgi-php.conf</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>fastcgi_pass</span> <span class=s>unix:/var/run/php/php7.4-fpm.sock</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=ssltls-설정>SSL/TLS 설정<a hidden class=anchor aria-hidden=true href=#ssltls-설정>#</a></h4><p>HTTPS 를 위한 보안 설정:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1> 1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2> 2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3> 3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4> 4</a>
</span><span class=lnt id=hl-10-5><a class=lnlinks href=#hl-10-5> 5</a>
</span><span class=lnt id=hl-10-6><a class=lnlinks href=#hl-10-6> 6</a>
</span><span class=lnt id=hl-10-7><a class=lnlinks href=#hl-10-7> 7</a>
</span><span class=lnt id=hl-10-8><a class=lnlinks href=#hl-10-8> 8</a>
</span><span class=lnt id=hl-10-9><a class=lnlinks href=#hl-10-9> 9</a>
</span><span class=lnt id=hl-10-10><a class=lnlinks href=#hl-10-10>10</a>
</span><span class=lnt id=hl-10-11><a class=lnlinks href=#hl-10-11>11</a>
</span><span class=lnt id=hl-10-12><a class=lnlinks href=#hl-10-12>12</a>
</span><span class=lnt id=hl-10-13><a class=lnlinks href=#hl-10-13>13</a>
</span><span class=lnt id=hl-10-14><a class=lnlinks href=#hl-10-14>14</a>
</span><span class=lnt id=hl-10-15><a class=lnlinks href=#hl-10-15>15</a>
</span><span class=lnt id=hl-10-16><a class=lnlinks href=#hl-10-16>16</a>
</span><span class=lnt id=hl-10-17><a class=lnlinks href=#hl-10-17>17</a>
</span><span class=lnt id=hl-10-18><a class=lnlinks href=#hl-10-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>listen</span> <span class=mi>443</span> <span class=s>ssl</span> <span class=s>http2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server_name</span> <span class=s>example.com</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kn>ssl_certificate</span> <span class=s>/etc/nginx/ssl/example.com.crt</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>ssl_certificate_key</span> <span class=s>/etc/nginx/ssl/example.com.key</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># SSL 프로토콜 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>ssl_protocols</span> <span class=s>TLSv1.2</span> <span class=s>TLSv1.3</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>ssl_prefer_server_ciphers</span> <span class=no>off</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># SSL 세션 캐시
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>ssl_session_cache</span> <span class=s>shared:SSL:10m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>ssl_session_timeout</span> <span class=mi>10m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># HSTS 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>add_header</span> <span class=s>Strict-Transport-Security</span> <span class=s>&#34;max-age=31536000&#34;</span> <span class=s>always</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=리버스-프록시-설정>리버스 프록시 설정<a hidden class=anchor aria-hidden=true href=#리버스-프록시-설정>#</a></h4><p>백엔드 서버로 요청을 전달하는 설정:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1> 1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2> 2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3> 3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4> 4</a>
</span><span class=lnt id=hl-11-5><a class=lnlinks href=#hl-11-5> 5</a>
</span><span class=lnt id=hl-11-6><a class=lnlinks href=#hl-11-6> 6</a>
</span><span class=lnt id=hl-11-7><a class=lnlinks href=#hl-11-7> 7</a>
</span><span class=lnt id=hl-11-8><a class=lnlinks href=#hl-11-8> 8</a>
</span><span class=lnt id=hl-11-9><a class=lnlinks href=#hl-11-9> 9</a>
</span><span class=lnt id=hl-11-10><a class=lnlinks href=#hl-11-10>10</a>
</span><span class=lnt id=hl-11-11><a class=lnlinks href=#hl-11-11>11</a>
</span><span class=lnt id=hl-11-12><a class=lnlinks href=#hl-11-12>12</a>
</span><span class=lnt id=hl-11-13><a class=lnlinks href=#hl-11-13>13</a>
</span><span class=lnt id=hl-11-14><a class=lnlinks href=#hl-11-14>14</a>
</span><span class=lnt id=hl-11-15><a class=lnlinks href=#hl-11-15>15</a>
</span><span class=lnt id=hl-11-16><a class=lnlinks href=#hl-11-16>16</a>
</span><span class=lnt id=hl-11-17><a class=lnlinks href=#hl-11-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>listen</span> <span class=mi>80</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server_name</span> <span class=s>api.example.com</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span> <span class=s>http://localhost:3000</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_set_header</span> <span class=s>Host</span> <span class=nv>$host</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_set_header</span> <span class=s>X-Real-IP</span> <span class=nv>$remote_addr</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_set_header</span> <span class=s>X-Forwarded-For</span> <span class=nv>$proxy_add_x_forwarded_for</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_set_header</span> <span class=s>X-Forwarded-Proto</span> <span class=nv>$scheme</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># WebSocket 지원
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kn>proxy_http_version</span> <span class=mi>1</span><span class=s>.1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_set_header</span> <span class=s>Upgrade</span> <span class=nv>$http_upgrade</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_set_header</span> <span class=s>Connection</span> <span class=s>&#39;upgrade&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=캐싱-설정>캐싱 설정<a hidden class=anchor aria-hidden=true href=#캐싱-설정>#</a></h4><p>성능 향상을 위한 캐시 설정:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1> 1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2> 2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3> 3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4> 4</a>
</span><span class=lnt id=hl-12-5><a class=lnlinks href=#hl-12-5> 5</a>
</span><span class=lnt id=hl-12-6><a class=lnlinks href=#hl-12-6> 6</a>
</span><span class=lnt id=hl-12-7><a class=lnlinks href=#hl-12-7> 7</a>
</span><span class=lnt id=hl-12-8><a class=lnlinks href=#hl-12-8> 8</a>
</span><span class=lnt id=hl-12-9><a class=lnlinks href=#hl-12-9> 9</a>
</span><span class=lnt id=hl-12-10><a class=lnlinks href=#hl-12-10>10</a>
</span><span class=lnt id=hl-12-11><a class=lnlinks href=#hl-12-11>11</a>
</span><span class=lnt id=hl-12-12><a class=lnlinks href=#hl-12-12>12</a>
</span><span class=lnt id=hl-12-13><a class=lnlinks href=#hl-12-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>http</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1># 캐시 영역 정의
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>proxy_cache_path</span> <span class=s>/var/cache/nginx</span> <span class=s>levels=1:2</span> <span class=s>keys_zone=my_cache:10m</span> <span class=s>max_size=10g</span> <span class=s>inactive=60m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kn>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=kn>proxy_cache</span> <span class=s>my_cache</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=kn>proxy_cache_use_stale</span> <span class=s>error</span> <span class=s>timeout</span> <span class=s>http_500</span> <span class=s>http_502</span> <span class=s>http_503</span> <span class=s>http_504</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=kn>proxy_cache_valid</span> <span class=mi>200</span> <span class=mi>60m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=kn>add_header</span> <span class=s>X-Cache-Status</span> <span class=nv>$upstream_cache_status</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=로드-밸런싱-설정>로드 밸런싱 설정<a hidden class=anchor aria-hidden=true href=#로드-밸런싱-설정>#</a></h4><p>여러 서버로 부하 분산하는 설정:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1> 1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2> 2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3> 3</a>
</span><span class=lnt id=hl-13-4><a class=lnlinks href=#hl-13-4> 4</a>
</span><span class=lnt id=hl-13-5><a class=lnlinks href=#hl-13-5> 5</a>
</span><span class=lnt id=hl-13-6><a class=lnlinks href=#hl-13-6> 6</a>
</span><span class=lnt id=hl-13-7><a class=lnlinks href=#hl-13-7> 7</a>
</span><span class=lnt id=hl-13-8><a class=lnlinks href=#hl-13-8> 8</a>
</span><span class=lnt id=hl-13-9><a class=lnlinks href=#hl-13-9> 9</a>
</span><span class=lnt id=hl-13-10><a class=lnlinks href=#hl-13-10>10</a>
</span><span class=lnt id=hl-13-11><a class=lnlinks href=#hl-13-11>11</a>
</span><span class=lnt id=hl-13-12><a class=lnlinks href=#hl-13-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>upstream</span> <span class=s>backend</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>least_conn</span><span class=p>;</span>  <span class=c1># 최소 연결 수 기반 분산
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>server</span> <span class=n>backend1.example.com</span><span class=p>:</span><span class=mi>8080</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server</span> <span class=n>backend2.example.com</span><span class=p>:</span><span class=mi>8080</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server</span> <span class=n>backend3.example.com</span><span class=p>:</span><span class=mi>8080</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span> <span class=s>http://backend</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=로드밸런싱-기능>로드밸런싱 기능<a hidden class=anchor aria-hidden=true href=#로드밸런싱-기능>#</a></h5><p>Nginx 의 로드 밸런싱 기능은 다음과 같이 작동한다:</p><ol><li>업스트림 정의:</li></ol><ul><li>nginx.conf 파일에 &lsquo;upstream&rsquo; 블록을 정의하여 백엔드 서버들의 그룹을 지정한다.</li><li>각 서버는 IP 주소와 포트 또는 도메인 이름으로 정의된다.</li></ul><ol><li>로드 밸런싱 알고리즘:</li></ol><ul><li>기본적으로 라운드 로빈 방식을 사용한다.</li><li>least_conn (최소 연결), ip_hash, 가중치 기반 등 다양한 알고리즘을 선택할 수 있다.</li></ul><ol><li>프록시 설정:</li></ol><ul><li>&lsquo;server&rsquo; 블록 내에 &lsquo;proxy_pass&rsquo; 지시어를 사용하여 요청을 업스트림 그룹으로 전달한다.</li></ul><ol><li><p>요청 분배:</p><ul><li>클라이언트 요청이 들어오면 선택된 알고리즘에 따라 적절한 백엔드 서버로 요청을 전달한다.</li></ul></li><li><p>헬스 체크:</p><ul><li>백엔드 서버의 상태를 모니터링하고, 문제가 있는 서버를 자동으로 제외할 수 있다.</li></ul></li><li><p>가중치 설정:</p><ul><li>서버마다 다른 가중치를 부여하여 트래픽 분배 비율을 조정할 수 있다.</li></ul></li></ol><h4 id=보안-설정>보안 설정<a hidden class=anchor aria-hidden=true href=#보안-설정>#</a></h4><p>웹 애플리케이션 보호를 위한 설정:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1> 1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2> 2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3> 3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4> 4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5> 5</a>
</span><span class=lnt id=hl-14-6><a class=lnlinks href=#hl-14-6> 6</a>
</span><span class=lnt id=hl-14-7><a class=lnlinks href=#hl-14-7> 7</a>
</span><span class=lnt id=hl-14-8><a class=lnlinks href=#hl-14-8> 8</a>
</span><span class=lnt id=hl-14-9><a class=lnlinks href=#hl-14-9> 9</a>
</span><span class=lnt id=hl-14-10><a class=lnlinks href=#hl-14-10>10</a>
</span><span class=lnt id=hl-14-11><a class=lnlinks href=#hl-14-11>11</a>
</span><span class=lnt id=hl-14-12><a class=lnlinks href=#hl-14-12>12</a>
</span><span class=lnt id=hl-14-13><a class=lnlinks href=#hl-14-13>13</a>
</span><span class=lnt id=hl-14-14><a class=lnlinks href=#hl-14-14>14</a>
</span><span class=lnt id=hl-14-15><a class=lnlinks href=#hl-14-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1># 기본 보안 헤더
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>add_header</span> <span class=s>X-Frame-Options</span> <span class=s>&#34;SAMEORIGIN&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>add_header</span> <span class=s>X-XSS-Protection</span> <span class=s>&#34;1</span><span class=p>;</span> <span class=kn>mode=block&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>add_header</span> <span class=s>X-Content-Type-Options</span> <span class=s>&#34;nosniff&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>add_header</span> <span class=s>Referrer-Policy</span> <span class=s>&#34;no-referrer-when-downgrade&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 파일 업로드 제한
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>client_max_body_size</span> <span class=s>10M</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 민감한 파일 접근 제한
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>location</span> <span class=p>~</span> <span class=sr>/\.(?!well-known)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>deny</span> <span class=s>all</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=최적화>최적화<a hidden class=anchor aria-hidden=true href=#최적화>#</a></h4><p>웹 서버 성능 향상을 위한 설정:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1> 1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2> 2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3> 3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4> 4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5> 5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6> 6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7> 7</a>
</span><span class=lnt id=hl-15-8><a class=lnlinks href=#hl-15-8> 8</a>
</span><span class=lnt id=hl-15-9><a class=lnlinks href=#hl-15-9> 9</a>
</span><span class=lnt id=hl-15-10><a class=lnlinks href=#hl-15-10>10</a>
</span><span class=lnt id=hl-15-11><a class=lnlinks href=#hl-15-11>11</a>
</span><span class=lnt id=hl-15-12><a class=lnlinks href=#hl-15-12>12</a>
</span><span class=lnt id=hl-15-13><a class=lnlinks href=#hl-15-13>13</a>
</span><span class=lnt id=hl-15-14><a class=lnlinks href=#hl-15-14>14</a>
</span><span class=lnt id=hl-15-15><a class=lnlinks href=#hl-15-15>15</a>
</span><span class=lnt id=hl-15-16><a class=lnlinks href=#hl-15-16>16</a>
</span><span class=lnt id=hl-15-17><a class=lnlinks href=#hl-15-17>17</a>
</span><span class=lnt id=hl-15-18><a class=lnlinks href=#hl-15-18>18</a>
</span><span class=lnt id=hl-15-19><a class=lnlinks href=#hl-15-19>19</a>
</span><span class=lnt id=hl-15-20><a class=lnlinks href=#hl-15-20>20</a>
</span><span class=lnt id=hl-15-21><a class=lnlinks href=#hl-15-21>21</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>http</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1># Gzip 압축
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>gzip</span> <span class=no>on</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>gzip_vary</span> <span class=no>on</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>gzip_min_length</span> <span class=mi>10240</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>gzip_proxied</span> <span class=s>expired</span> <span class=s>no-cache</span> <span class=s>no-store</span> <span class=s>private</span> <span class=s>auth</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>gzip_types</span> <span class=s>text/plain</span> <span class=s>text/css</span> <span class=s>text/xml</span> <span class=s>application/json</span> <span class=s>application/javascript</span> <span class=s>application/xml</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>gzip_disable</span> <span class=s>&#34;MSIE</span> <span class=s>[1-6]\.&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 버퍼 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>client_body_buffer_size</span> <span class=s>10K</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>client_header_buffer_size</span> <span class=mi>1k</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>client_max_body_size</span> <span class=mi>8m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>large_client_header_buffers</span> <span class=mi>2</span> <span class=mi>1k</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 타임아웃 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>client_body_timeout</span> <span class=mi>12</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>client_header_timeout</span> <span class=mi>12</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>keepalive_timeout</span> <span class=mi>15</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>send_timeout</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=캐시-설정>캐시 설정<a hidden class=anchor aria-hidden=true href=#캐시-설정>#</a></h4><p>Nginx 의 HTTP 캐시 설정 방법은 다음과 같다:</p><ol><li><p>proxy_cache_path 지시어 설정:<br>nginx.conf 파일에 캐시 저장 경로와 옵션을 지정한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>proxy_cache_path</span> <span class=s>/var/cache/nginx</span> <span class=s>levels=1:2</span> <span class=s>keys_zone=my_cache:10m</span> <span class=s>max_size=10g</span> <span class=s>inactive=60m</span> <span class=s>use_temp_path=off</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>server 블록 내 location 설정:</p><ul><li>proxy_cache 지시어로 사용할 캐시 영역 지정</li><li>proxy_cache_valid 로 응답 코드별 캐시 유효 기간 설정</li><li>proxy_cache_use_stale 로 오류 발생 시 캐시 사용 조건 지정</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1>1</a>
</span><span class=lnt id=hl-17-2><a class=lnlinks href=#hl-17-2>2</a>
</span><span class=lnt id=hl-17-3><a class=lnlinks href=#hl-17-3>3</a>
</span><span class=lnt id=hl-17-4><a class=lnlinks href=#hl-17-4>4</a>
</span><span class=lnt id=hl-17-5><a class=lnlinks href=#hl-17-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kn>proxy_cache</span> <span class=s>my_cache</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kn>proxy_cache_valid</span> <span class=mi>200</span> <span class=s>1d</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kn>proxy_cache_use_stale</span> <span class=s>error</span> <span class=s>timeout</span> <span class=s>updating</span> <span class=s>http_500</span> <span class=s>http_502</span> <span class=s>http_503</span> <span class=s>http_504</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>캐시 상태 확인을 위한 헤더 추가:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>add_header</span> <span class=s>X-Cache-Status</span> <span class=nv>$upstream_cache_status</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>특정 파일 유형별 캐시 설정:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1>1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2>2</a>
</span><span class=lnt id=hl-19-3><a class=lnlinks href=#hl-19-3>3</a>
</span><span class=lnt id=hl-19-4><a class=lnlinks href=#hl-19-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>location</span> <span class=p>~</span><span class=sr>*</span> <span class=s>\.(jpg|jpeg|png|gif)</span>$ <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kn>expires</span> <span class=s>30d</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kn>add_header</span> <span class=s>Cache-Control</span> <span class=s>&#34;public&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>캐시 우회 설정 (필요시):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-20-1><a class=lnlinks href=#hl-20-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>proxy_cache_bypass</span> <span class=nv>$http_cache_control</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><p>이러한 설정을 통해 Nginx 의 HTTP 캐시를 효과적으로 구성하여 서버 성능을 향상시킬 수 있다.</p><h2 id=610-장점>6.10 장점<a hidden class=anchor aria-hidden=true href=#610-장점>#</a></h2><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>장점</td><td>고동시성 처리</td><td>이벤트 기반으로 워커 하나당 수만 연결 처리 가능 (Reactor 패턴) (<a href="https://www.solo.io/topics/nginx/nginx-configuration?utm_source=chatgpt.com" title="NGINX Configuration: Directives, Examples, and 4 Mistakes to Avoid">Medium</a>, <a href="https://www.scalahosting.com/blog/the-evolution-of-nginx/?utm_source=chatgpt.com" title="The Evolution of Nginx | ScalaHosting Blog">blog.nginx.org</a>)</td></tr><tr><td></td><td>낮은 리소스 사용</td><td>non‑blocking I/O 및 buffer chain 으로 메모리/CPU 효율 극대화 (<a href="https://www.solo.io/topics/nginx/nginx-configuration?utm_source=chatgpt.com" title="NGINX Configuration: Directives, Examples, and 4 Mistakes to Avoid">Medium</a>, <a href="https://www.solo.io/topics/nginx/kubernetes-ingress-controller?utm_source=chatgpt.com" title="Kubernetes Ingress Controller: A Practical Guide | Solo.io">mohitmishra786.github.io</a>)</td></tr><tr><td></td><td>모듈러 설계</td><td>필요한 기능만 활성화, 확장성 및 보안 유지 (<a href="https://blog.detectify.com/industry-insights/common-nginx-misconfigurations-that-leave-your-web-server-ope-to-attack/?utm_source=chatgpt.com" title="Common Nginx misconfigurations - Detectify Blog">nginx.org</a>, <a href="https://docs.nginx.com/nginx-instance-manager/nginx-app-protect/overview-nap-waf-config-management/?utm_source=chatgpt.com" title="How WAF policy management works | NGINX Documentation">Solo</a>)</td></tr><tr><td></td><td>무중단 재시작</td><td>마스터‑워커 구조로 설정 reload 시 서비스 중단 없이 적용 가능</td></tr><tr><td></td><td>다목적 활용</td><td>웹서버, 리버스 프록시, 로드밸런서, 캐시, TLS 종료 등 다양한 역할 수행 가능 (<a href="https://docs.nginx.com/nginx-instance-manager/nginx-app-protect/overview-nap-waf-config-management/?utm_source=chatgpt.com" title="How WAF policy management works | NGINX Documentation">Solo</a>, <a href="https://en.wikipedia.org/wiki/Nginx?utm_source=chatgpt.com" title=Nginx>CloudSigma</a>)</td></tr></tbody></table><h3 id=10-장점>10) 장점<a hidden class=anchor aria-hidden=true href=#10-장점>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>장점</td><td>고성능/저자원</td><td>비동기 이벤트 루프 구조, 낮은 리소스 소모</td></tr><tr><td></td><td>다기능/확장성</td><td>프록시/로드밸런싱/캐싱/보안 등 다양한 역할</td></tr><tr><td></td><td>운영 편의성</td><td>간단한 설정 (구조화된 conf 파일), 핫 리로드</td></tr><tr><td></td><td>범용 플랫폼 지원</td><td>리눅스/유닉스/윈도우 등 다양한 조합</td></tr><tr><td></td><td>생태계/커뮤니티</td><td>수백 개의 확장 모듈, 풍부한 문서, 글로벌 커뮤니티</td></tr></tbody></table><h3 id=장점>장점<a hidden class=anchor aria-hidden=true href=#장점>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>장점</td><td>고성능</td><td>이벤트 기반 아키텍처를 통해 적은 리소스로 높은 처리량 달성</td></tr><tr><td></td><td>낮은 메모리 사용량</td><td>단일 스레드 이벤트 루프로 메모리 효율성 극대화</td></tr><tr><td></td><td>높은 동시성</td><td>epoll/kqueue 를 활용한 대규모 동시 연결 처리</td></tr><tr><td></td><td>안정성</td><td>프로세스 분리를 통한 장애 격리 및 무중단 재시작 지원</td></tr><tr><td></td><td>확장성</td><td>수평/수직 확장 모두 지원하는 유연한 아키텍처</td></tr><tr><td></td><td>다용도성</td><td>웹 서버, 프록시, 로드 밸런서 등 다중 역할 수행</td></tr></tbody></table><h3 id=단점과-문제점-그리고-해결방안>단점과 문제점 그리고 해결방안<a hidden class=anchor aria-hidden=true href=#단점과-문제점-그리고-해결방안>#</a></h3><p><strong>단점</strong></p><table><thead><tr><th>구분</th><th>항목</th><th>설명</th><th>해결책</th></tr></thead><tbody><tr><td>단점</td><td>설정 복잡성</td><td>다양한 기능으로 인한 설정 복잡도 증가</td><td>설정 템플릿 활용, 자동화 도구 사용</td></tr><tr><td></td><td>동적 설정 제한</td><td>일부 설정 변경 시 재시작 필요</td><td>Nginx Plus 의 동적 설정 기능 활용</td></tr><tr><td></td><td>디버깅 어려움</td><td>이벤트 기반 처리로 인한 디버깅 복잡성</td><td>상세 로깅 활용, 전용 디버깅 도구 사용</td></tr><tr><td></td><td>학습 곡선</td><td>전통적인 서버와 다른 아키텍처 이해 필요</td><td>체계적인 교육 및 문서화</td></tr></tbody></table><p><strong>문제점</strong></p><table><thead><tr><th>구분</th><th>항목</th><th>원인</th><th>영향</th><th>탐지 및 진단</th><th>예방 방법</th><th>해결 방법 및 기법</th></tr></thead><tbody><tr><td>문제점</td><td>메모리 누수</td><td>잘못된 모듈 구현</td><td>시스템 불안정성</td><td>메모리 모니터링 도구</td><td>코드 리뷰, 테스트</td><td>워커 프로세스 재시작</td></tr><tr><td></td><td>설정 오류</td><td>문법 오류, 잘못된 지시어</td><td>서비스 중단</td><td>nginx -t 명령어</td><td>설정 검증 자동화</td><td>백업 설정 복원</td></tr><tr><td></td><td>성능 저하</td><td>부적절한 워커 설정</td><td>응답 시간 증가</td><td>성능 모니터링</td><td>적절한 튜닝</td><td>워커 프로세스 수 조정</td></tr><tr><td></td><td>SSL 인증서 만료</td><td>인증서 갱신 누락</td><td>HTTPS 서비스 중단</td><td>만료일 모니터링</td><td>자동 갱신 설정</td><td>새 인증서 적용</td></tr></tbody></table><h3 id=11-단점과-문제점-그리고-해결방안>11) 단점과 문제점 그리고 해결방안<a hidden class=anchor aria-hidden=true href=#11-단점과-문제점-그리고-해결방안>#</a></h3><h4 id=단점>단점<a hidden class=anchor aria-hidden=true href=#단점>#</a></h4><table><thead><tr><th>구분</th><th>항목</th><th>설명</th><th>해결책</th></tr></thead><tbody><tr><td>단점</td><td>복잡한 설정 구조</td><td>대규모/복잡 환경 (멀티사이트, 다중 백엔드) 관리 시 난잡</td><td>템플릿 활용, 설정파일 분할, 버전관리</td></tr><tr><td></td><td>동적 구성 한계</td><td>런타임에 동적으로 백엔드 추가 한계, 설정 reload 필요</td><td>자동화 배포툴 연동, Ingress 로 보완</td></tr><tr><td></td><td>보안 이슈</td><td>초기설정 미흡시 디폴트 보안취약</td><td>CIS 가이드라인, 보안정책 적용</td></tr><tr><td></td><td>실시간 관측성 약점</td><td>기본 제공하는 로깅/메트릭 한계</td><td>외부 모니터링·로그 시스템 연동</td></tr></tbody></table><h4 id=문제점>문제점<a hidden class=anchor aria-hidden=true href=#문제점>#</a></h4><table><thead><tr><th>구분</th><th>항목</th><th>원인</th><th>영향</th><th>탐지 및 진단</th><th>예방 방법</th><th>해결 방법 및 기법</th></tr></thead><tbody><tr><td>문제점</td><td>Worker Hang</td><td>무한 루프/커넥션 폭주</td><td>서비스 지연/다운</td><td>모니터링</td><td>설정 최적화 / rate limit</td><td>워커 수 조정, 포스 킬릭</td></tr><tr><td>문제점</td><td>설정 오류</td><td>오타, 잘못된 conf 구성</td><td>서비스 장애</td><td>Linter, Dry-Run</td><td>CI 검증, 테스트 환경 적용</td><td>staging 테스트, 자동화 배포</td></tr><tr><td>문제점</td><td>해킹/공격</td><td>오픈포트, 잘못된 인증</td><td>데이터 유출/서비스 마비</td><td>보안센서/로그분석</td><td>최소 서비스 오픈/계정 강화</td><td>Web Application Firewall</td></tr><tr><td>문제점</td><td>캐싱 오류</td><td>캐시 만료/불일치 설정</td><td>최신정보 미제공</td><td>캐시모니터링</td><td>cache key 정책 일관성</td><td>캐시 무효화 정책 강화</td></tr></tbody></table><h2 id=611-단점과-문제점-그리고-해결방안>6.11 단점과 문제점 그리고 해결방안<a hidden class=anchor aria-hidden=true href=#611-단점과-문제점-그리고-해결방안>#</a></h2><h3 id=단점-1>단점<a hidden class=anchor aria-hidden=true href=#단점-1>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th><th>해결책</th></tr></thead><tbody><tr><td>단점</td><td>단일 쓰레드 워커</td><td>한 워커 내에서 CPU‑bound 작업 시 병목 발생</td><td>CPU 집약 작업은 별도 리버킹 (worker off‑load) 또는 백엔드 서비스로 분리</td></tr><tr><td></td><td>모듈 빌드 복잡도</td><td>동적 모듈 일부는 컴파일 시 함께 빌드 필요</td><td>공식 패키지 이용하거나 dynamic module 구조 설계 철저히 추천</td></tr><tr><td></td><td>설정 오류 위험</td><td>config 문법 오류 시 reload 실패</td><td>CI lint, staging 환경에서 테스트 & 자동화 lint 수행</td></tr></tbody></table><h3 id=문제점-1>문제점<a hidden class=anchor aria-hidden=true href=#문제점-1>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>원인</th><th>영향</th><th>탐지 및 진단</th><th>예방 방법</th><th>해결 방법 및 기법</th></tr></thead><tbody><tr><td>문제점</td><td>메모리 누수</td><td>buffer pool 또는 모듈 오류</td><td>오래 실행 시 메모리 증가 및 OOM 가능</td><td>모니터링 툴 (metric, 프로세스 메모리 모니터링)</td><td>적절한 버퍼 설정, 최신 버전 유지</td><td>교체 또는 프로파일링 툴 사용, 워커 자동 재시작</td></tr><tr><td>문제점</td><td>로드 밸런싱 불균형</td><td>weight 미조절, health check 없음</td><td>스케일링 실패 또는 일부 서버 과부하</td><td>로그 및 health status 모니터</td><td>health checks 설정, weight 조정</td><td>Nginx Plus health checks 또는 별도 상태 모니터링 적용</td></tr><tr><td>문제점</td><td>캐시 갱신 지연</td><td>proxy_cache_purge 설정 미흡</td><td>오래된 콘텐츠 제공</td><td>캐시 히트/미스 분석</td><td>정확한 invalidation 정책 설계</td><td>수동 purge 나 purge API 사용</td></tr></tbody></table><h3 id=12-실무-사용-예시>12) 실무 사용 예시<a hidden class=anchor aria-hidden=true href=#12-실무-사용-예시>#</a></h3><table><thead><tr><th>사용 환경</th><th>주요 연동 대상</th><th>목적</th><th>효과</th></tr></thead><tbody><tr><td>대규모 웹서비스</td><td>정적/동적 백엔드</td><td>HTTP 트래픽 처리, 보안 연동</td><td>빠른 처리, 안정성, 확장성</td></tr><tr><td>분산 시스템</td><td>여러 마이크로서비스</td><td>리버스 프록시, 로드밸런서 역할</td><td>장애 예방, 트래픽 균형</td></tr><tr><td>CDN 연동</td><td>Edge 서버, 오리진 서버</td><td>전세계 정적 컨텐츠 캐싱/배포</td><td>대기시간 단축, 글로벌 서비스</td></tr><tr><td>클라우드/쿠버네티스</td><td>Ingress Controller</td><td>API/웹 진입점 (Endpoint) 통일관리</td><td>자동화, 중앙 보안정책 적용</td></tr></tbody></table><h3 id=613-실무-사용-예시>6.13 실무 사용 예시<a hidden class=anchor aria-hidden=true href=#613-실무-사용-예시>#</a></h3><table><thead><tr><th>실무 사용 예시</th><th>함께 사용하는 기술</th><th>목적</th><th>효과</th></tr></thead><tbody><tr><td>Kubernetes NGINX Ingress Controller</td><td>Kubernetes, 서비스 디스커버리, TLS 인증서</td><td>HTTP(S) 트래픽 라우팅 및 SSL 종료</td><td>클러스터 외부 진입점 통합, path‑based routing, certificate termination 자동화 (<a href="https://www.solo.io/topics/nginx/kubernetes-ingress-controller?utm_source=chatgpt.com" title="Kubernetes Ingress Controller: A Practical Guide | Solo.io">Solo</a>, <a href="https://www.f5.com/company/blog/nginx/nginx-plus-ingress-controller-kubernetes-load-balancing?utm_source=chatgpt.com" title="NGINX and NGINX Plus Ingress Controllers for Kubernetes Load …">F5, Inc.</a>)</td></tr><tr><td>리버스 프록시 + 로드밸런싱</td><td>로드밸런스 upstream 설정</td><td>백엔드 서버 간 부하 분산</td><td>트래픽 균형 유지, 장애 허용성 확보 (<a href="https://www.f5.com/company/blog/nginx/nginx-plus-ingress-controller-kubernetes-load-balancing?utm_source=chatgpt.com" title="NGINX and NGINX Plus Ingress Controllers for Kubernetes Load …">F5, Inc.</a>, <a href="https://en.wikipedia.org/wiki/Nginx?utm_source=chatgpt.com" title=Nginx>위키백과</a>)</td></tr></tbody></table><h3 id=실무-사용-예시>실무 사용 예시<a hidden class=anchor aria-hidden=true href=#실무-사용-예시>#</a></h3><table><thead><tr><th>사용 사례</th><th>함께 사용되는 기술</th><th>목적</th><th>효과</th></tr></thead><tbody><tr><td>웹 애플리케이션 서버</td><td>Node.js, Python Django</td><td>정적 파일 서빙 및 API 프록시</td><td>성능 향상, 서버 부하 분산</td></tr><tr><td>마이크로서비스 게이트웨이</td><td>Kubernetes, Docker</td><td>API 라우팅 및 로드 밸런싱</td><td>서비스 간 통신 최적화</td></tr><tr><td>CDN 구축</td><td>Redis, Memcached</td><td>콘텐츠 캐싱 및 전송</td><td>사용자 경험 개선, 대역폭 절약</td></tr><tr><td>스트리밍 서비스</td><td>FFmpeg, HLS</td><td>미디어 스트리밍</td><td>실시간 스트리밍, 적응형 비트레이트</td></tr><tr><td>로드 밸런서</td><td>HAProxy, Keepalived</td><td>고가용성 구성</td><td>무중단 서비스, 장애 복구</td></tr></tbody></table><h3 id=활용-사례>활용 사례<a hidden class=anchor aria-hidden=true href=#활용-사례>#</a></h3><p><strong>시나리오</strong>: 대규모 전자상거래 웹사이트의 트래픽 처리 및 성능 최적화</p><p><strong>시스템 구성</strong>:</p><ul><li>Nginx: 리버스 프록시 및 정적 파일 서버</li><li>애플리케이션 서버: Node.js 클러스터 (3 대)</li><li>데이터베이스: MongoDB 클러스터</li><li>캐시: Redis 클러스터</li><li>CDN: Cloudflare (글로벌 캐싱)</li></ul><p><strong>시스템 구성 다이어그램</strong>:</p><pre class=mermaid>graph TB
    Users[사용자들] --&gt; CDN[CDN&lt;br/&gt;Cloudflare]
    CDN --&gt; LB[로드 밸런서&lt;br/&gt;Nginx]
    
    LB --&gt; App1[애플리케이션 서버 1&lt;br/&gt;Node.js]
    LB --&gt; App2[애플리케이션 서버 2&lt;br/&gt;Node.js]
    LB --&gt; App3[애플리케이션 서버 3&lt;br/&gt;Node.js]
    
    App1 --&gt; Redis[Redis 클러스터&lt;br/&gt;세션 &amp; 캐시]
    App2 --&gt; Redis
    App3 --&gt; Redis
    
    App1 --&gt; DB[MongoDB 클러스터&lt;br/&gt;Primary/Secondary]
    App2 --&gt; DB
    App3 --&gt; DB
    
    LB --&gt; Static[정적 파일 저장소&lt;br/&gt;이미지, CSS, JS]
</pre><p><strong>Workflow</strong>:</p><ol><li>사용자 요청이 CDN 을 통해 Nginx 로드 밸런서에 도달</li><li>Nginx 가 요청 유형을 분석하여 정적/동적 콘텐츠 구분</li><li>정적 콘텐츠는 직접 서빙, 동적 요청은 애플리케이션 서버로 프록시</li><li>애플리케이션 서버는 Redis 에서 세션 확인 후 MongoDB 에서 데이터 조회</li><li>응답을 Nginx 를 통해 사용자에게 전달, 필요시 캐싱 수행</li></ol><p><strong>역할</strong>:</p><ul><li><strong>Nginx</strong>: SSL 터미네이션, 로드 밸런싱, 정적 파일 서빙, 압축, 캐싱</li><li><strong>애플리케이션 서버</strong>: 비즈니스 로직 처리, API 제공</li><li><strong>Redis</strong>: 세션 저장, 쿼리 결과 캐싱</li><li><strong>MongoDB</strong>: 영구 데이터 저장</li></ul><p><strong>유무에 따른 차이점</strong>:</p><ul><li><strong>Nginx 적용 전</strong>: 애플리케이션 서버 직접 접근, 정적 파일도 애플리케이션에서 처리</li><li><strong>Nginx 적용 후</strong>: 30% 성능 향상, 50% 서버 리소스 절약, 99.9% 가용성 달성</li></ul><p><strong>구현 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1> 1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2> 2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3> 3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4> 4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5> 5</a>
</span><span class=lnt id=hl-22-6><a class=lnlinks href=#hl-22-6> 6</a>
</span><span class=lnt id=hl-22-7><a class=lnlinks href=#hl-22-7> 7</a>
</span><span class=lnt id=hl-22-8><a class=lnlinks href=#hl-22-8> 8</a>
</span><span class=lnt id=hl-22-9><a class=lnlinks href=#hl-22-9> 9</a>
</span><span class=lnt id=hl-22-10><a class=lnlinks href=#hl-22-10>10</a>
</span><span class=lnt id=hl-22-11><a class=lnlinks href=#hl-22-11>11</a>
</span><span class=lnt id=hl-22-12><a class=lnlinks href=#hl-22-12>12</a>
</span><span class=lnt id=hl-22-13><a class=lnlinks href=#hl-22-13>13</a>
</span><span class=lnt id=hl-22-14><a class=lnlinks href=#hl-22-14>14</a>
</span><span class=lnt id=hl-22-15><a class=lnlinks href=#hl-22-15>15</a>
</span><span class=lnt id=hl-22-16><a class=lnlinks href=#hl-22-16>16</a>
</span><span class=lnt id=hl-22-17><a class=lnlinks href=#hl-22-17>17</a>
</span><span class=lnt id=hl-22-18><a class=lnlinks href=#hl-22-18>18</a>
</span><span class=lnt id=hl-22-19><a class=lnlinks href=#hl-22-19>19</a>
</span><span class=lnt id=hl-22-20><a class=lnlinks href=#hl-22-20>20</a>
</span><span class=lnt id=hl-22-21><a class=lnlinks href=#hl-22-21>21</a>
</span><span class=lnt id=hl-22-22><a class=lnlinks href=#hl-22-22>22</a>
</span><span class=lnt id=hl-22-23><a class=lnlinks href=#hl-22-23>23</a>
</span><span class=lnt id=hl-22-24><a class=lnlinks href=#hl-22-24>24</a>
</span><span class=lnt id=hl-22-25><a class=lnlinks href=#hl-22-25>25</a>
</span><span class=lnt id=hl-22-26><a class=lnlinks href=#hl-22-26>26</a>
</span><span class=lnt id=hl-22-27><a class=lnlinks href=#hl-22-27>27</a>
</span><span class=lnt id=hl-22-28><a class=lnlinks href=#hl-22-28>28</a>
</span><span class=lnt id=hl-22-29><a class=lnlinks href=#hl-22-29>29</a>
</span><span class=lnt id=hl-22-30><a class=lnlinks href=#hl-22-30>30</a>
</span><span class=lnt id=hl-22-31><a class=lnlinks href=#hl-22-31>31</a>
</span><span class=lnt id=hl-22-32><a class=lnlinks href=#hl-22-32>32</a>
</span><span class=lnt id=hl-22-33><a class=lnlinks href=#hl-22-33>33</a>
</span><span class=lnt id=hl-22-34><a class=lnlinks href=#hl-22-34>34</a>
</span><span class=lnt id=hl-22-35><a class=lnlinks href=#hl-22-35>35</a>
</span><span class=lnt id=hl-22-36><a class=lnlinks href=#hl-22-36>36</a>
</span><span class=lnt id=hl-22-37><a class=lnlinks href=#hl-22-37>37</a>
</span><span class=lnt id=hl-22-38><a class=lnlinks href=#hl-22-38>38</a>
</span><span class=lnt id=hl-22-39><a class=lnlinks href=#hl-22-39>39</a>
</span><span class=lnt id=hl-22-40><a class=lnlinks href=#hl-22-40>40</a>
</span><span class=lnt id=hl-22-41><a class=lnlinks href=#hl-22-41>41</a>
</span><span class=lnt id=hl-22-42><a class=lnlinks href=#hl-22-42>42</a>
</span><span class=lnt id=hl-22-43><a class=lnlinks href=#hl-22-43>43</a>
</span><span class=lnt id=hl-22-44><a class=lnlinks href=#hl-22-44>44</a>
</span><span class=lnt id=hl-22-45><a class=lnlinks href=#hl-22-45>45</a>
</span><span class=lnt id=hl-22-46><a class=lnlinks href=#hl-22-46>46</a>
</span><span class=lnt id=hl-22-47><a class=lnlinks href=#hl-22-47>47</a>
</span><span class=lnt id=hl-22-48><a class=lnlinks href=#hl-22-48>48</a>
</span><span class=lnt id=hl-22-49><a class=lnlinks href=#hl-22-49>49</a>
</span><span class=lnt id=hl-22-50><a class=lnlinks href=#hl-22-50>50</a>
</span><span class=lnt id=hl-22-51><a class=lnlinks href=#hl-22-51>51</a>
</span><span class=lnt id=hl-22-52><a class=lnlinks href=#hl-22-52>52</a>
</span><span class=lnt id=hl-22-53><a class=lnlinks href=#hl-22-53>53</a>
</span><span class=lnt id=hl-22-54><a class=lnlinks href=#hl-22-54>54</a>
</span><span class=lnt id=hl-22-55><a class=lnlinks href=#hl-22-55>55</a>
</span><span class=lnt id=hl-22-56><a class=lnlinks href=#hl-22-56>56</a>
</span><span class=lnt id=hl-22-57><a class=lnlinks href=#hl-22-57>57</a>
</span><span class=lnt id=hl-22-58><a class=lnlinks href=#hl-22-58>58</a>
</span><span class=lnt id=hl-22-59><a class=lnlinks href=#hl-22-59>59</a>
</span><span class=lnt id=hl-22-60><a class=lnlinks href=#hl-22-60>60</a>
</span><span class=lnt id=hl-22-61><a class=lnlinks href=#hl-22-61>61</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=c1># nginx.conf 설정 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>upstream</span> <span class=s>app_servers</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>least_conn</span><span class=p>;</span>  <span class=c1># 최소 연결 수 기반 로드 밸런싱
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>server</span> <span class=n>10.0.1.10</span><span class=p>:</span><span class=mi>3000</span> <span class=s>weight=3</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server</span> <span class=n>10.0.1.11</span><span class=p>:</span><span class=mi>3000</span> <span class=s>weight=3</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server</span> <span class=n>10.0.1.12</span><span class=p>:</span><span class=mi>3000</span> <span class=s>weight=2</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>listen</span> <span class=mi>443</span> <span class=s>ssl</span> <span class=s>http2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server_name</span> <span class=s>shop.example.com</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># SSL 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>ssl_certificate</span> <span class=s>/etc/ssl/certs/shop.crt</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>ssl_certificate_key</span> <span class=s>/etc/ssl/private/shop.key</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>ssl_protocols</span> <span class=s>TLSv1.2</span> <span class=s>TLSv1.3</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>ssl_ciphers</span> <span class=s>ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 정적 파일 처리
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>location</span> <span class=p>~</span><span class=sr>*</span> <span class=s>\.(jpg|jpeg|png|gif|ico|css|js)</span>$ <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>root</span> <span class=s>/var/www/static</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>expires</span> <span class=s>1y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>add_header</span> <span class=s>Cache-Control</span> <span class=s>&#34;public,</span> <span class=s>immutable&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>gzip</span> <span class=no>on</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>gzip_types</span> <span class=s>text/css</span> <span class=s>application/javascript</span> <span class=s>image/svg+xml</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># API 요청 프록시
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>location</span> <span class=s>/api/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span> <span class=s>http://app_servers</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_set_header</span> <span class=s>Host</span> <span class=nv>$host</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_set_header</span> <span class=s>X-Real-IP</span> <span class=nv>$remote_addr</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_set_header</span> <span class=s>X-Forwarded-For</span> <span class=nv>$proxy_add_x_forwarded_for</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_set_header</span> <span class=s>X-Forwarded-Proto</span> <span class=nv>$scheme</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 캐싱 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kn>proxy_cache</span> <span class=s>api_cache</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_cache_valid</span> <span class=mi>200</span> <span class=mi>5m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_cache_use_stale</span> <span class=s>error</span> <span class=s>timeout</span> <span class=s>updating</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 메인 애플리케이션 프록시
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span> <span class=s>http://app_servers</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_set_header</span> <span class=s>Host</span> <span class=nv>$host</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_set_header</span> <span class=s>X-Real-IP</span> <span class=nv>$remote_addr</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_set_header</span> <span class=s>X-Forwarded-For</span> <span class=nv>$proxy_add_x_forwarded_for</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Rate limiting (DDoS 방어)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>location</span> <span class=s>/login</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>limit_req</span> <span class=s>zone=login_limit</span> <span class=s>burst=5</span> <span class=s>nodelay</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span> <span class=s>http://app_servers</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 캐시 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>proxy_cache_path</span> <span class=s>/var/cache/nginx/api</span> <span class=s>levels=1:2</span> <span class=s>keys_zone=api_cache:10m</span> <span class=s>max_size=1g</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Rate limiting 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>limit_req_zone</span> <span class=nv>$binary_remote_addr</span> <span class=s>zone=login_limit:10m</span> <span class=s>rate=1r/s</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=6131-활용-사례-kubernetes-ingress-적용>6.13.1 활용 사례: Kubernetes Ingress 적용<a hidden class=anchor aria-hidden=true href=#6131-활용-사례-kubernetes-ingress-적용>#</a></h3><p><strong>시나리오</strong>: Kubernetes 기반 마이크로서비스 클러스터에서 외부 접속을 하나의 NGINX Ingress Controller 로 관리.<br><strong>시스템 구성</strong>:</p><ul><li>Kubernetes cluster</li><li><code>ingress-nginx-controller</code> Deployment + Service (LoadBalancer 타입)</li><li>Ingress 리소스로 서비스 라우팅, TLS 인증 설정</li></ul><p><strong>시스템 구성 다이어그램</strong>:</p><pre class=mermaid>graph TD
  User --&gt; LB[LoadBalancer Service]
  LB --&gt; IC[NGINX Ingress Controller Pod]
  IC --&gt; SVC1[Service tea]
  IC --&gt; SVC2[Service coffee]
</pre><p><strong>Workflow</strong>:</p><ol><li>사용자가 HTTPS 요청을 LoadBalancer IP 로 보냄</li><li>Ingress Controller 가 rules 확인하고 서비스로 라우팅</li><li>백엔드 서비스 응답 후 Controller 가 사용자에게 응답 제공</li></ol><p><strong>역할</strong>:</p><ul><li><strong>Ingress Controller</strong>: Reverse proxy 역할 수행, SSL 종료, 라우팅 및 rate-limit 담당</li><li><strong>Kubernetes Ingress 자원</strong>: URI 기반 path routing, 인증서 (Secret) 등 구성 저장</li></ul><p><strong>유무에 따른 차이점</strong>:</p><ul><li><strong>NGINX Ingress 미사용 시</strong>: 각 서비스마다 개별 LoadBalancer required, 인증서 관리 복잡, 외부 엔드포인트 산발적</li><li><strong>사용 시</strong>: 단일 접근점, 중앙 컨트롤된 인증서 관리, 유연한 라우팅</li></ul><p><strong>구현 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1> 1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2> 2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3> 3</a>
</span><span class=lnt id=hl-24-4><a class=lnlinks href=#hl-24-4> 4</a>
</span><span class=lnt id=hl-24-5><a class=lnlinks href=#hl-24-5> 5</a>
</span><span class=lnt id=hl-24-6><a class=lnlinks href=#hl-24-6> 6</a>
</span><span class=lnt id=hl-24-7><a class=lnlinks href=#hl-24-7> 7</a>
</span><span class=lnt id=hl-24-8><a class=lnlinks href=#hl-24-8> 8</a>
</span><span class=lnt id=hl-24-9><a class=lnlinks href=#hl-24-9> 9</a>
</span><span class=lnt id=hl-24-10><a class=lnlinks href=#hl-24-10>10</a>
</span><span class=lnt id=hl-24-11><a class=lnlinks href=#hl-24-11>11</a>
</span><span class=lnt id=hl-24-12><a class=lnlinks href=#hl-24-12>12</a>
</span><span class=lnt id=hl-24-13><a class=lnlinks href=#hl-24-13>13</a>
</span><span class=lnt id=hl-24-14><a class=lnlinks href=#hl-24-14>14</a>
</span><span class=lnt id=hl-24-15><a class=lnlinks href=#hl-24-15>15</a>
</span><span class=lnt id=hl-24-16><a class=lnlinks href=#hl-24-16>16</a>
</span><span class=lnt id=hl-24-17><a class=lnlinks href=#hl-24-17>17</a>
</span><span class=lnt id=hl-24-18><a class=lnlinks href=#hl-24-18>18</a>
</span><span class=lnt id=hl-24-19><a class=lnlinks href=#hl-24-19>19</a>
</span><span class=lnt id=hl-24-20><a class=lnlinks href=#hl-24-20>20</a>
</span><span class=lnt id=hl-24-21><a class=lnlinks href=#hl-24-21>21</a>
</span><span class=lnt id=hl-24-22><a class=lnlinks href=#hl-24-22>22</a>
</span><span class=lnt id=hl-24-23><a class=lnlinks href=#hl-24-23>23</a>
</span><span class=lnt id=hl-24-24><a class=lnlinks href=#hl-24-24>24</a>
</span><span class=lnt id=hl-24-25><a class=lnlinks href=#hl-24-25>25</a>
</span><span class=lnt id=hl-24-26><a class=lnlinks href=#hl-24-26>26</a>
</span><span class=lnt id=hl-24-27><a class=lnlinks href=#hl-24-27>27</a>
</span><span class=lnt id=hl-24-28><a class=lnlinks href=#hl-24-28>28</a>
</span><span class=lnt id=hl-24-29><a class=lnlinks href=#hl-24-29>29</a>
</span><span class=lnt id=hl-24-30><a class=lnlinks href=#hl-24-30>30</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>cafe-ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>nginx.ingress.kubernetes.io/rewrite-target</span><span class=p>:</span><span class=w> </span><span class=l>/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>nginx.ingress.kubernetes.io/limit-conn</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;20&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>nginx.ingress.kubernetes.io/limit-rate</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;128k&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>tls</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;cafe.example.com&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>secretName</span><span class=p>:</span><span class=w> </span><span class=l>cafe-tls</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>cafe.example.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/tea</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class=l>Prefix</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>tea-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/coffee</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class=l>Prefix</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>coffee-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=활용-사례-1>활용 사례<a hidden class=anchor aria-hidden=true href=#활용-사례-1>#</a></h2><p><strong>시나리오:</strong><br>여러 마이크로서비스가 운영되는 대규모 전자상거래 플랫폼에서, 고객의 웹/모바일 요청을 Nginx 리버스 프록시가 받아 내부 서비스로 분배·캐싱·보안을 일괄 적용해 서비스 품질과 운영 효율을 극대화</p><p><strong>시스템 구성:</strong></p><ul><li>Nginx 리버스 프록시, 여러 백엔드 애플리케이션 서버 (상품·주문·사용자), DB 서버, 캐시 서버 (Redis/Memcached)</li></ul><p><strong>시스템 구성 다이어그램:</strong></p><pre class=mermaid>graph TD
    Client -- HTTP/HTTPS --&gt; Nginx
    Nginx -- Load Balancing --&gt; App1[Product Service]
    Nginx -- Load Balancing --&gt; App2[Order Service]
    Nginx -- Load Balancing --&gt; App3[User Service]
    Nginx -- Cache(Static, Redis) --&gt; CacheServer
    App1--&gt;|DB| DB[(DB Server)]
    App2--&gt;|DB| DB
    App3--&gt;|DB| DB
</pre><p><strong>Workflow:</strong></p><ul><li>클라이언트가 요청 → Nginx 가 보안/캐싱/로드밸런싱/인증 등을 실행하며 서비스에 트래픽 분산</li><li>각 백엔드는 내부 데이터·비즈니스 처리 후 응답 제공</li></ul><p><strong>역할:</strong></p><ul><li>Nginx: 트래픽 게이트웨이, 로드밸런싱, 정적캐싱·SSL·보안 적용</li><li>App 서버: 비즈니스 로직, 데이터 연동</li></ul><p><strong>유무에 따른 차이점:</strong></p><ul><li>Nginx 사용 시: 트래픽 급증에도 빠르고 안전한 서비스 제공, 중단 없는 배포 및 확장 관리</li><li>미사용 시: 트래픽 병목, 수동 운영/배포, 보안 취약, 인프라 확장 어려움</li></ul><p><strong>구현 예시 (reverse proxy, SSL, 캐싱 config):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1> 1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2> 2</a>
</span><span class=lnt id=hl-26-3><a class=lnlinks href=#hl-26-3> 3</a>
</span><span class=lnt id=hl-26-4><a class=lnlinks href=#hl-26-4> 4</a>
</span><span class=lnt id=hl-26-5><a class=lnlinks href=#hl-26-5> 5</a>
</span><span class=lnt id=hl-26-6><a class=lnlinks href=#hl-26-6> 6</a>
</span><span class=lnt id=hl-26-7><a class=lnlinks href=#hl-26-7> 7</a>
</span><span class=lnt id=hl-26-8><a class=lnlinks href=#hl-26-8> 8</a>
</span><span class=lnt id=hl-26-9><a class=lnlinks href=#hl-26-9> 9</a>
</span><span class=lnt id=hl-26-10><a class=lnlinks href=#hl-26-10>10</a>
</span><span class=lnt id=hl-26-11><a class=lnlinks href=#hl-26-11>11</a>
</span><span class=lnt id=hl-26-12><a class=lnlinks href=#hl-26-12>12</a>
</span><span class=lnt id=hl-26-13><a class=lnlinks href=#hl-26-13>13</a>
</span><span class=lnt id=hl-26-14><a class=lnlinks href=#hl-26-14>14</a>
</span><span class=lnt id=hl-26-15><a class=lnlinks href=#hl-26-15>15</a>
</span><span class=lnt id=hl-26-16><a class=lnlinks href=#hl-26-16>16</a>
</span><span class=lnt id=hl-26-17><a class=lnlinks href=#hl-26-17>17</a>
</span><span class=lnt id=hl-26-18><a class=lnlinks href=#hl-26-18>18</a>
</span><span class=lnt id=hl-26-19><a class=lnlinks href=#hl-26-19>19</a>
</span><span class=lnt id=hl-26-20><a class=lnlinks href=#hl-26-20>20</a>
</span><span class=lnt id=hl-26-21><a class=lnlinks href=#hl-26-21>21</a>
</span><span class=lnt id=hl-26-22><a class=lnlinks href=#hl-26-22>22</a>
</span><span class=lnt id=hl-26-23><a class=lnlinks href=#hl-26-23>23</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=c1># nginx.conf 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>http</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kn>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>listen</span> <span class=mi>443</span> <span class=s>ssl</span><span class=p>;</span> <span class=c1># SSL 활성화
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>server_name</span> <span class=s>shop.example.com</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>ssl_certificate</span>     <span class=s>/etc/ssl/certs/fullchain.pem</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>ssl_certificate_key</span> <span class=s>/etc/ssl/private/privkey.pem</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kn>proxy_pass</span> <span class=s>http://backend_upstream</span><span class=p>;</span> <span class=c1># 리버스 프록시 백엔드
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kn>proxy_set_header</span> <span class=s>Host</span> <span class=nv>$host</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=kn>proxy_cache</span> <span class=s>cache_zone</span><span class=p>;</span> <span class=c1># 캐시 적용
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kn>proxy_cache_valid</span> <span class=mi>200</span> <span class=mi>1m</span><span class=p>;</span> <span class=c1># 200응답 1분 캐싱
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=c1># 인증 등 추가정책 가능
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kn>upstream</span> <span class=s>backend_upstream</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>server</span> <span class=n>10.0.0.2</span><span class=p>:</span><span class=mi>8081</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server</span> <span class=n>10.0.0.3</span><span class=p>:</span><span class=mi>8081</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server</span> <span class=n>10.0.0.4</span><span class=p>:</span><span class=mi>8082</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kn>proxy_cache_path</span> <span class=s>/var/nginx/cache</span> <span class=s>levels=1:2</span> <span class=s>keys_zone=cache_zone:10m</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>주석</strong></p><ul><li>ssl_certificate/ssl_certificate_key: SSL 인증서 설정</li><li>proxy_pass: 내부 백엔드 서비스 분산</li><li>proxy_cache_path: 캐시 저장 영역 정의 및 적용</li></ul><h2 id=612-도전-과제>6.12 도전 과제<a hidden class=anchor aria-hidden=true href=#612-도전-과제>#</a></h2><p>다음은 Nginx 도입 및 운영 시 남아 있는 주요 과제들입니다.</p><h3 id=보안-및-취약점-관리>보안 및 취약점 관리<a hidden class=anchor aria-hidden=true href=#보안-및-취약점-관리>#</a></h3><ul><li><strong>CVE 관리 자동화 부족</strong>: 악의적 이슈 예: HTTP/3 모듈 buffer overwrite (CVE‑2024‑32760), SSL session reuse (CVE‑2025‑23419) (<a href="https://nginx.org/en/security_advisories.html?utm_source=chatgpt.com" title="nginx security advisories">nginx.org</a>)</li><li><strong>TLS 설정 오류</strong>: 암호 스위트, 프로토콜 설정 부적절 시 MITM 공격 위험 (<a href="https://gorbe.io/posts/nginx/common-issues-and-misconfigurations/?utm_source=chatgpt.com" title="Nginx Common Issues and Misconfigurations - G RBE">G⌬RBE</a>)</li></ul><p><strong>탐지</strong>: 보안 스캐너 및 로그 모니터링 사용<br><strong>예방</strong>: 최신 버전 유지, 보안 가이드라인 적용<br><strong>해결</strong>: 패치 적용, 고가용성 컨트롤러 사용</p><h3 id=설정-오류-및-misconfiguration>설정 오류 및 Misconfiguration<a hidden class=anchor aria-hidden=true href=#설정-오류-및-misconfiguration>#</a></h3><ul><li><strong>proxy_buffering off 설정</strong>: 대용량 응답 시 타임아웃/메모리 과다 소모 (<a href="https://www.solo.io/topics/nginx/nginx-configuration?utm_source=chatgpt.com" title="NGINX Configuration: Directives, Examples, and 4 Mistakes to Avoid">Solo</a>)</li><li><strong><code>if</code> 디렉티브 오용</strong>: 예기치 않은 동작이나 segmentation fault 발생 (<a href="https://www.solo.io/topics/nginx/nginx-configuration?utm_source=chatgpt.com" title="NGINX Configuration: Directives, Examples, and 4 Mistakes to Avoid">Solo</a>)</li></ul><p><strong>탐지</strong>: 구성 린트 (CI), 테스트 환경 검증<br><strong>예방</strong>: 문법 규칙 준수, lint 자동화<br><strong>해결</strong>: <code>rewrite</code> 또는 <code>return</code> 사용으로 설계 수정</p><h3 id=리소스-튜닝>리소스 튜닝<a hidden class=anchor aria-hidden=true href=#리소스-튜닝>#</a></h3><ul><li><strong>worker_connections / file descriptors 제한</strong>: default 상태로는 동시성 한계 (<a href="https://serverfault.com/questions/787919/optimal-value-for-nginx-worker-connections?utm_source=chatgpt.com" title="Optimal value for Nginx worker_connections - Server Fault">Server Fault</a>)</li><li><strong>부적절한 버퍼/타임아웃 값</strong>: <code>client_body_buffer_size</code>, <code>keepalive_timeout</code> 등이 과소/과다 설정된 경우 성능 저하 및 DoS 공격 가능성 (<a href="https://gorbe.io/posts/nginx/common-issues-and-misconfigurations/?utm_source=chatgpt.com" title="Nginx Common Issues and Misconfigurations - G RBE">G⌬RBE</a>)</li></ul><p><strong>예방</strong>: 모니터링 기반 튜닝, 시스템 한계 조정<br><strong>해결</strong>: benchmark 와 실시간 메트릭 기반 설정 조정</p><h3 id=13-도전-과제>13) 도전 과제<a hidden class=anchor aria-hidden=true href=#13-도전-과제>#</a></h3><ul><li><strong>실시간 동적 오케스트레이션 한계</strong>: 설정 리로드, 서비스 오토스케일 대응 자동화</li><li><strong>관측성 강화</strong>: 실시간 트레이싱, 이벤트 기반 모니터링·알람 한계</li><li><strong>보안 공격 다양화 대응</strong>: 최신 DDOS, 웹 취약점급증 대응력 높이기</li><li><strong>멀티프로토콜/신기술 연동</strong>: gRPC, HTTP/3, WebAssembly 등 신기술 통합</li></ul><h3 id=도전-과제>도전 과제<a hidden class=anchor aria-hidden=true href=#도전-과제>#</a></h3><p><strong>성능 관련 과제</strong></p><ul><li><strong>원인</strong>: HTTP/2, HTTP/3 등 새로운 프로토콜 지원 요구</li><li><strong>영향</strong>: 기존 최적화 설정의 효과 감소</li><li><strong>해결 방법</strong>: 프로토콜별 최적화 설정 적용, 성능 테스트 반복</li></ul><p><strong>보안 관련 과제</strong></p><ul><li><strong>원인</strong>: 증가하는 DDoS 공격 및 보안 위협</li><li><strong>영향</strong>: 서비스 가용성 저하 및 데이터 유출 위험</li><li><strong>해결 방법</strong>: WAF 통합, rate limiting 강화, 보안 헤더 설정</li></ul><p><strong>클라우드 네이티브 과제</strong></p><ul><li><strong>원인</strong>: 컨테이너 환경에서의 동적 스케일링 요구</li><li><strong>영향</strong>: 전통적인 설정 방식의 한계</li><li><strong>해결 방법</strong>: Kubernetes Ingress Controller 활용, 서비스 메시 통합</li></ul><h3 id=분류-기준에-따른-종류-및-유형>분류 기준에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#분류-기준에-따른-종류-및-유형>#</a></h3><table><thead><tr><th>분류 기준</th><th>종류/유형</th><th>설명</th><th>특징</th></tr></thead><tbody><tr><td>라이선스</td><td>Nginx Open Source</td><td>무료 오픈소스 버전</td><td>기본 기능, 커뮤니티 지원</td></tr><tr><td></td><td>Nginx Plus</td><td>상용 버전</td><td>고급 기능, 기술 지원, 동적 설정</td></tr><tr><td>배포 방식</td><td>바이너리 패키지</td><td>OS 패키지 매니저 설치</td><td>간편 설치, 자동 업데이트</td></tr><tr><td></td><td>소스 컴파일</td><td>소스코드 직접 컴파일</td><td>커스터마이징 가능, 최적화</td></tr><tr><td></td><td>컨테이너 이미지</td><td>Docker/Container 배포</td><td>클라우드 네이티브, 확장성</td></tr><tr><td>사용 목적</td><td>웹 서버</td><td>정적 파일 서빙</td><td>고성능, 낮은 리소스 사용</td></tr><tr><td></td><td>리버스 프록시</td><td>백엔드 서버 중계</td><td>로드 밸런싱, 캐싱</td></tr><tr><td></td><td>API 게이트웨이</td><td>API 관리 및 보안</td><td>인증, 변환, 모니터링</td></tr><tr><td></td><td>CDN 엣지</td><td>콘텐츠 전송 최적화</td><td>글로벌 캐싱, 지연시간 단축</td></tr></tbody></table><h2 id=614-분류-기준에-따른-종류-및-유형>6.14 분류 기준에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#614-분류-기준에-따른-종류-및-유형>#</a></h2><table><thead><tr><th>분류 기준</th><th>유형</th><th>설명</th></tr></thead><tbody><tr><td>배포 형태</td><td>Open Source vs NGINX Plus</td><td>기본 기능 vs health check, API 게이트웨이 등 확장 기능</td></tr><tr><td>플랫폼 통합</td><td>독립 웹 서버 vs Kubernetes Ingress</td><td>단독 사용 vs 클러스터 내부 통합</td></tr><tr><td>구성 방식</td><td>Static 모듈 링크 vs Dynamic module</td><td>모듈 추가시 재컴파일 필요 여부</td></tr><tr><td>프로토콜 지원</td><td>HTTP/1.1·2·3, gRPC, TCP Proxy, Mail Proxy</td><td>다양한 레이어 지원</td></tr></tbody></table><h3 id=14-분류-기준에-따른-종류-및-유형>14) 분류 기준에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#14-분류-기준에-따른-종류-및-유형>#</a></h3><table><thead><tr><th>기준</th><th>유형</th><th>설명</th></tr></thead><tbody><tr><td>배포 형태</td><td>단일/이중/클러스터</td><td>단일 서버, Active-Standby, 다중노드</td></tr><tr><td>역할</td><td>웹 서버/리버스 프록시/로드밸런서</td><td>정적서비스, 프록시, 분산처리</td></tr><tr><td>확장 방식</td><td>모듈 기반/3rd-party</td><td>내장 모듈 확장/외부 모듈 연동</td></tr><tr><td>운영 환경</td><td>온프레미스/클라우드/컨테이너</td><td>물리/가상/클라우드/K8s 환경 지원</td></tr></tbody></table><h2 id=616-기타-사항>6.16 기타 사항<a hidden class=anchor aria-hidden=true href=#616-기타-사항>#</a></h2><h3 id=상용-버전-nginx-plus-차이점>상용 버전 NGINX Plus 차이점<a hidden class=anchor aria-hidden=true href=#상용-버전-nginx-plus-차이점>#</a></h3><table><thead><tr><th>항목</th><th>Open Source</th><th>NGINX Plus</th></tr></thead><tbody><tr><td>상태 모니터링</td><td>없음</td><td>실시간 상태 API 및 대시보드 지원</td></tr><tr><td>로드 밸런싱 알고리즘</td><td>기본 4 종</td><td>고급 알고리즘 (least_time, random with weights 등)</td></tr><tr><td>Health Check</td><td>단순 TCP 연결</td><td>Layer 7 기반 Active/Passive Health Check</td></tr><tr><td>Session Persistence</td><td>제한적</td><td>Cookie 기반 세션 유지 기능</td></tr><tr><td>지원 정책</td><td>커뮤니티 기반</td><td>F5 공식 기술지원 포함</td></tr></tbody></table><h3 id=확장-가능-아키텍처>확장 가능 아키텍처<a hidden class=anchor aria-hidden=true href=#확장-가능-아키텍처>#</a></h3><ul><li><strong>NGINX Unit</strong>: 동적 애플리케이션 서버로 Go, Python, PHP 등 지원하는 NGINX 의 애플리케이션 레이어 구성요소 (<a href="https://unit.nginx.org/?utm_source=chatgpt.com">unit.nginx.org</a>)</li><li><strong>NGINX Service Mesh</strong>: Istio 와 같은 사이드카 기반 서비스 메시 솔루션에 대한 경량 대안으로 설계됨</li><li><strong>NGINX Amplify</strong>: SaaS 기반의 성능/보안 분석 도구로 메트릭 수집, 알림, 설정 최적화 제안 기능 제공</li></ul><h3 id=15-실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>15) 실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#15-실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>항목</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>설정관리</td><td>conf 파일 복잡성/구조화 필수</td><td>분리·템플릿·버전관리 활용</td></tr><tr><td>보안정책</td><td>최소 오픈 포트, 인증/SSL 적용</td><td>CIS 권고, WAF 도입</td></tr><tr><td>장애대응</td><td>무중단 리로드, 자동 페일오버 구성</td><td>HA, 클러스터링</td></tr><tr><td>모니터링</td><td>액세스 로그/에러로그 수집</td><td>외부 로깅, 모니터링툴 연동</td></tr><tr><td>자동화연계</td><td>IaC, GitOps, 배포툴과 통합</td><td>Ansible, CI/CD 등 적용</td></tr></tbody></table><h3 id=적용-고려사항>적용 고려사항<a hidden class=anchor aria-hidden=true href=#적용-고려사항>#</a></h3><table><thead><tr><th>항목</th><th>고려사항</th><th>권장사항</th></tr></thead><tbody><tr><td>TLS 설정</td><td>최신 프로토콜 (TLS1.2/1.3), 강력한 cipher 설정</td><td>Mozilla TLS 가이드라인 참조, ssl_protocols & ciphers 구성</td></tr><tr><td>rate limiting 및 보안 설정</td><td>brute-force, DoS 보호 필요</td><td><code>limit_req</code>, <code>limit_conn</code>, IP 블록, WAF 도입 권장</td></tr><tr><td>설정 관리 및 배포</td><td>구성 오류로 인한 서비스 중단 리스크</td><td>CI/CD 에 <code>nginx -t</code> lint 포함, staging 검증 환경 활용</td></tr><tr><td>리소스 할당</td><td>worker_processes, worker_connections, file descriptors 제한</td><td>시스템 한계 설정 /proc 및 sysctl 조정</td></tr></tbody></table><h3 id=실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>구분</th><th>고려사항</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>성능</td><td>워커 프로세스 수</td><td>CPU 코어 수와 일치시켜 최적 성능 확보</td><td><code>worker_processes auto;</code> 사용</td></tr><tr><td>보안</td><td>SSL/TLS 설정</td><td>최신 암호화 표준 적용</td><td>TLS 1.2+ 사용, 취약한 암호화 방식 비활성화</td></tr><tr><td>모니터링</td><td>로그 관리</td><td>성능과 보안을 고려한 로깅 레벨 설정</td><td>필요한 정보만 로깅, 로그 로테이션 설정</td></tr><tr><td>확장성</td><td>로드 밸런싱 전략</td><td>애플리케이션 특성에 맞는 알고리즘 선택</td><td>least_conn 또는 ip_hash 활용</td></tr><tr><td>가용성</td><td>헬스 체크</td><td>백엔드 서버 상태 모니터링</td><td>passive/active 헬스 체크 조합</td></tr></tbody></table><h3 id=최적화하기-위한-고려사항-및-주의할-점>최적화하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#최적화하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>구분</th><th>고려사항</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>캐싱</td><td>캐시 전략</td><td>콘텐츠 유형별 적절한 캐싱 정책 수립</td><td>정적 파일: 장기 캐싱, API: 단기 캐싱</td></tr><tr><td>압축</td><td>Gzip 설정</td><td>CPU 사용량과 전송량의 균형</td><td>gzip_comp_level 6, 텍스트 파일만 압축</td></tr><tr><td>연결 관리</td><td>Keep-alive 설정</td><td>연결 재사용을 통한 성능 향상</td><td>keepalive_timeout 65 초, keepalive_requests 100</td></tr><tr><td>버퍼링</td><td>버퍼 크기 조정</td><td>메모리 사용량과 성능의 균형</td><td>클라이언트 요청 크기에 맞는 버퍼 설정</td></tr><tr><td>시스템</td><td>파일 디스크립터</td><td>동시 연결 수에 맞는 시스템 한계 설정</td><td>ulimit 조정, worker_rlimit_nofile 설정</td></tr></tbody></table><h3 id=최적화-고려사항>최적화 고려사항<a hidden class=anchor aria-hidden=true href=#최적화-고려사항>#</a></h3><table><thead><tr><th>항목</th><th>주의점</th><th>권장사항</th></tr></thead><tbody><tr><td>proxy_buffering</td><td>off 시 타임아웃 및 메모리 과다 사용</td><td>기본 <code>on</code> 유지, 버퍼 크기 조정 (<code>proxy_buffers</code>) (<a href="https://www.youtube.com/watch?v=6caVlIWohH0&amp;utm_source=chatgpt.com" title="Life of a CVE with Ingress-Nginx - YouTube">유튜브</a>, <a href="https://www.f5.com/company/blog/nginx/nginx-plus-ingress-controller-kubernetes-load-balancing?utm_source=chatgpt.com" title="NGINX and NGINX Plus Ingress Controllers for Kubernetes Load …">F5, Inc.</a>, <a href="https://www.solo.io/topics/nginx/nginx-configuration?utm_source=chatgpt.com" title="NGINX Configuration: Directives, Examples, and 4 Mistakes to Avoid">Solo</a>, <a href="https://en.wikipedia.org/wiki/Nginx?utm_source=chatgpt.com" title=Nginx>위키백과</a>, <a href="https://gorbe.io/posts/nginx/common-issues-and-misconfigurations/?utm_source=chatgpt.com" title="Nginx Common Issues and Misconfigurations - G RBE">G⌬RBE</a>, <a href="https://www.solo.io/topics/nginx/nginx-kubernetes?utm_source=chatgpt.com" title="NGINX Kubernetes Ingress Controller - Solo.io">Solo</a>, <a href="https://www.f5.com/company/blog/nginx/avoiding-top-10-nginx-configuration-mistakes?utm_source=chatgpt.com" title="Avoiding the Top 10 NGINX Configuration Mistakes - F5 Networks">F5, Inc.</a>)</td></tr><tr><td>keepalive_timeout</td><td>너무 짧거나 길면 효율성 문제</td><td>실서비스 관측 기반 적절 값 설정</td></tr><tr><td>캐싱 설정</td><td>느슨한 invalidation 시 stale 응답 제공</td><td><code>proxy_cache_valid</code>, purge 정책 엄격하게 구성</td></tr><tr><td>Ingress Controller 확장</td><td>트래픽 급증 시 성능 병목 가능</td><td>HPA (Horizontal Pod Autoscaler) 적용 권장 (<a href="https://www.solo.io/topics/nginx/kubernetes-ingress-controller?utm_source=chatgpt.com" title="Kubernetes Ingress Controller: A Practical Guide | Solo.io">Solo</a>)</td></tr></tbody></table><h3 id=16-최적화하기-위한-고려사항-및-주의할-점>16) 최적화하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#16-최적화하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>항목</th><th>설명</th><th>권장사항</th></tr></thead><tbody><tr><td>worker 수</td><td>CPU 코어 최적치 맞춤</td><td>benchmark 후 조정</td></tr><tr><td>캐싱</td><td>정적캐싱/proxy 캐시 적절 설정</td><td>cache key 튜닝</td></tr><tr><td>keepalive</td><td>연결 지속시간/최대값 설정</td><td>최소·최대값 테스트</td></tr><tr><td>리소스</td><td>메모리·스레드 제한 모니터링</td><td>Prometheus 연동 등</td></tr><tr><td>보안</td><td>TLS 버전, cipher suite 최적화</td><td>최신 가이드 준수</td></tr></tbody></table><h4 id=각각-권장사항-정리>각각 권장사항 정리<a hidden class=anchor aria-hidden=true href=#각각-권장사항-정리>#</a></h4><ul><li>설정은 분리·템플릿·VCS 관리, 보안은 최신 가이드 준수 및 최소원칙, 장애 대응은 HA·핫 리로드, 자동화 연계/IaC 적극 활용, 리소스·캐시 등 튜닝값은 실측 후 맞춤화</li></ul><h3 id=17-주목할-내용>17) 주목할 내용<a hidden class=anchor aria-hidden=true href=#17-주목할-내용>#</a></h3><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>인프라</td><td>웹서버/진입점</td><td>Static/Dynamic</td><td>정적/동적 파일 모두 지원, 서비스 전체 진입점 역할</td></tr><tr><td>성능</td><td>비동기 이벤트</td><td>Worker 구조</td><td>대량 동시연결·저자원 고성능 구조</td></tr><tr><td>확장성</td><td>모듈/플러그인</td><td>동적 확장</td><td>3rd-party, 커스텀 보안/로깅 등 다양한 확장</td></tr><tr><td>운영</td><td>핫 리로드</td><td>설정 무중단 적용</td><td>서비스 중단 없는 정책 변경</td></tr><tr><td>보안</td><td>통합관리</td><td>SSL, 인증, 제한</td><td>HTTP→HTTPS, 인증, ACL 등 다양한 보안 정책 일원화</td></tr><tr><td>클라우드</td><td>Ingress 등</td><td>쿠버네티스 연동</td><td>k8s/클라우드 인프라 트래픽 진입점, 자동화 연동</td></tr></tbody></table><h2 id=9-주제와-관련하여-주목할-내용>9. 주제와 관련하여 주목할 내용<a hidden class=anchor aria-hidden=true href=#9-주제와-관련하여-주목할-내용>#</a></h2><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>성능</td><td>이벤트 기반 아키텍처</td><td>non-blocking I/O</td><td>높은 동시성 처리 성능을 제공하는 구조적 핵심</td></tr><tr><td>보안</td><td>TLS 종료</td><td>SSL termination</td><td>백엔드 서버의 SSL 부담을 오프로드하여 성능 향상</td></tr><tr><td>운영</td><td>Zero-downtime reload</td><td>Graceful reload</td><td>설정 변경 시 연결 끊김 없이 업데이트 가능</td></tr><tr><td>구성</td><td>Reverse Proxy 모드</td><td>proxy_pass</td><td>백엔드 서비스로 요청을 전달하여 보안 및 분산 처리</td></tr><tr><td>확장성</td><td>NGINX Plus</td><td>상용 기능</td><td>고급 모니터링, 고급 로드밸런싱, 액티브 헬스체크 등 포함</td></tr><tr><td>배포</td><td>Ingress Controller</td><td>Kubernetes</td><td>클라우드 네이티브 환경에서 NGINX 사용 확대 방식</td></tr><tr><td>캐시</td><td>Content Caching</td><td>proxy_cache</td><td>리소스 요청 캐싱을 통한 성능 최적화 및 부하 분산</td></tr><tr><td>모듈</td><td>동적 모듈</td><td>load_module</td><td>런타임에 기능을 확장하거나 제거 가능</td></tr></tbody></table><h3 id=주제와-관련하여-주목할-내용>주제와 관련하여 주목할 내용<a hidden class=anchor aria-hidden=true href=#주제와-관련하여-주목할-내용>#</a></h3><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>성능 최적화</td><td>HTTP/2</td><td>멀티플렉싱</td><td>단일 연결로 다중 요청 처리, 성능 크게 향상</td></tr><tr><td>보안</td><td>ModSecurity</td><td>WAF 통합</td><td>웹 애플리케이션 방화벽으로 보안 강화</td></tr><tr><td>클라우드</td><td>Kubernetes</td><td>Ingress Controller</td><td>K8s 환경에서 Nginx 기반 트래픽 관리</td></tr><tr><td>모니터링</td><td>Prometheus</td><td>메트릭 수집</td><td>nginx-prometheus-exporter 를 통한 모니터링</td></tr><tr><td>확장성</td><td>Auto Scaling</td><td>동적 확장</td><td>트래픽에 따른 자동 스케일링 구성</td></tr></tbody></table><h3 id=반드시-학습해야할-내용>반드시 학습해야할 내용<a hidden class=anchor aria-hidden=true href=#반드시-학습해야할-내용>#</a></h3><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>기본 개념</td><td>웹 서버</td><td>HTTP 프로토콜</td><td>HTTP/1.1, HTTP/2, HTTP/3 동작 원리</td></tr><tr><td>네트워킹</td><td>TCP/IP</td><td>소켓 프로그래밍</td><td>네트워크 통신 기초 및 성능 최적화</td></tr><tr><td>운영체제</td><td>Linux</td><td>epoll/kqueue</td><td>고성능 I/O 처리 메커니즘</td></tr><tr><td>보안</td><td>SSL/TLS</td><td>암호화</td><td>인증서 관리 및 보안 설정</td></tr><tr><td>모니터링</td><td>로그 분석</td><td>성능 분석</td><td>액세스 로그, 에러 로그 분석 기법</td></tr><tr><td>자동화</td><td>설정 관리</td><td>Infrastructure as Code</td><td>Ansible, Terraform 을 통한 자동화</td></tr></tbody></table><h2 id=10-반드시-학습해야-할-내용>10. 반드시 학습해야 할 내용<a hidden class=anchor aria-hidden=true href=#10-반드시-학습해야-할-내용>#</a></h2><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>아키텍처</td><td>프로세스 구조</td><td>Master-Worker 구조</td><td>설정 로딩과 요청 처리의 분리, 안정성 확보</td></tr><tr><td>성능</td><td>비동기 이벤트 처리</td><td>Reactor 패턴</td><td>동시 요청 처리를 효율화하는 핵심 처리 모델</td></tr><tr><td>보안</td><td>TLS/SSL 설정</td><td>Cipher suite, OCSP</td><td>최신 보안 요구사항 충족을 위한 암호화 구성 기술</td></tr><tr><td>운영</td><td>무중단 배포</td><td>Graceful reload</td><td>요청 중단 없이 설정 변경/업데이트 수행</td></tr><tr><td>설정</td><td>로드밸런싱 설정</td><td>upstream 블록</td><td>요청을 백엔드로 분산하는 핵심 설정 방식</td></tr><tr><td>Kubernetes</td><td>Ingress 구조</td><td>Ingress Controller</td><td>클라우드 환경에서 외부 트래픽을 제어하는 방법</td></tr><tr><td>프로그래밍</td><td>정규표현식 라우팅</td><td>location 블록</td><td>URI 경로 매칭을 위한 고급 설정 기법</td></tr><tr><td>모니터링</td><td>상태 수집</td><td>status 모듈, Prometheus exporter</td><td>트래픽과 에러 모니터링 기반 운영 전략 수립 가능</td></tr></tbody></table><h3 id=18-반드시-학습해야할-내용>18) 반드시 학습해야할 내용<a hidden class=anchor aria-hidden=true href=#18-반드시-학습해야할-내용>#</a></h3><table><thead><tr><th>카테고리</th><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>웹 서버</td><td>Nginx 구조/운영</td><td>마스터/워커/설정</td><td>Nginx 핵심 구조와 설정파일 관리 방식</td></tr><tr><td>프록시/로드밸런싱</td><td>리버스 프록시/부하분산</td><td>설정, 정책, 보안</td><td>다양한 트래픽 분산 및 정책 구현, 운영 사례</td></tr><tr><td>확장성</td><td>모듈/플러그인 관리</td><td>공식/외부 모듈</td><td>보안, 로깅, 인증 등 확장모듈 사용법</td></tr><tr><td>자동화/보안</td><td>배포 자동화/IaC</td><td>Ansible/CI/CD/Ingress</td><td>자동화 연동, 보안 자동화, 클라우드 접목 적용법</td></tr><tr><td>관측성</td><td>모니터링/로깅</td><td>로그 수집/외부 연동</td><td>실시간 트래픽/오류 추적, 외부 모니터링 통합</td></tr></tbody></table><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>웹 서버</td><td>정적/동적 파일 서비스</td><td>이미지, JS, 미디어 등 파일 직접 제공/애플리케이션 프록시</td></tr><tr><td>프록시</td><td>리버스 프록시</td><td>외부요청을 내부 서비스로 중계, 정책 적용, 보안 강화</td></tr><tr><td>부하분산</td><td>로드밸런서</td><td>여러 백엔드에 트래픽 자동 분산, 장애 복구, failover 지원</td></tr><tr><td>아키텍처</td><td>마스터 프로세스</td><td>전체 Nginx 인스턴스를 관리, 워커 프로세스 실행/제어</td></tr><tr><td>아키텍처</td><td>워커 프로세스</td><td>실제 네트워크 요청 처리 담당</td></tr><tr><td>보안</td><td>SSL Offload</td><td>HTTPS 암호화 해제를 서버 앞단에서 대행해 백엔드 부담 완화</td></tr><tr><td>운영</td><td>핫 리로드</td><td>실시간 설정 반영, 서비스 중단 없는 정책/구성 변경</td></tr><tr><td>캐시</td><td>proxy_cache</td><td>프록시 서버에서 지정 기간 동안 응답을 캐싱, 트래픽·백엔드 부하 저감</td></tr><tr><td>클라우드</td><td>Ingress Controller</td><td>클라우드 네이티브·쿠버네티스 환경에서 HTTP(S) 진입점 역할 수행</td></tr></tbody></table><h2 id=용어-정리-1>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-1>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>보안</td><td>CVE</td><td>공개된 취약점 데이터베이스를 기반으로 한 보안 공지</td></tr><tr><td>설정</td><td>proxy_buffering</td><td>proxy 응답을 버퍼링할지 여부 설정</td></tr><tr><td>Kubernetes</td><td>Ingress Controller</td><td>Ingress 리소스를 기반으로 트래픽을 라우팅하는 Nginx 역할 pod</td></tr><tr><td>성능</td><td>rate limit</td><td>클라이언트 요청 수 또는 대역폭 제한 설정</td></tr></tbody></table><h2 id=용어-정리-2>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-2>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>아키텍처</td><td>이벤트 루프 (Event Loop)</td><td>비동기 I/O 를 반복 처리하는 핵심 루프</td></tr><tr><td>아키텍처</td><td>Master / Worker 모델</td><td>master 는 설정 관리, worker 는 요청 처리</td></tr><tr><td>성능</td><td>C10K 문제</td><td>동시 1 만 연결을 처리하는 성능 문제</td></tr><tr><td>기능</td><td>리버스 프록시 (Reverse Proxy)</td><td>클라이언트 대신 백엔드 서버에 요청 전달</td></tr><tr><td>기능</td><td>로드 밸런싱 (Load Balancing)</td><td>여러 서버로 부하 분산</td></tr></tbody></table><h2 id=용어-정리-3>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-3>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>운영</td><td>Graceful reload</td><td>연결을 끊지 않고 설정을 적용하는 재시작 방식</td></tr><tr><td>보안</td><td>OCSP Stapling</td><td>인증서의 폐기 상태를 서버가 직접 제공</td></tr><tr><td>성능</td><td>Reactor Pattern</td><td>이벤트 기반 비동기 I/O 처리 설계 패턴</td></tr><tr><td>구성</td><td>proxy_pass</td><td>프록시 요청을 백엔드로 전달하는 NGINX 디렉티브</td></tr><tr><td>확장</td><td>Ingress Controller</td><td>Kubernetes 에서 외부 요청을 내부로 라우팅하는 컨트롤러</td></tr></tbody></table><h2 id=용어-정리-4>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-4>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>아키텍처</td><td>이벤트 루프 (Event Loop)</td><td>이벤트를 순차적으로 처리하는 프로그래밍 구조</td></tr><tr><td>아키텍처</td><td>논블로킹 I/O (Non-blocking I/O)</td><td>I/O 작업 완료를 기다리지 않고 다른 작업을 수행하는 방식</td></tr><tr><td>성능</td><td>epoll</td><td>Linux 에서 다수의 파일 디스크립터를 효율적으로 모니터링하는 시스템 콜</td></tr><tr><td>성능</td><td>워커 프로세스 (Worker Process)</td><td>실제 클라이언트 요청을 처리하는 Nginx 프로세스</td></tr><tr><td>기능</td><td>업스트림 (Upstream)</td><td>백엔드 서버 그룹을 정의하는 Nginx 지시어</td></tr><tr><td>기능</td><td>프록시 패스 (Proxy Pass)</td><td>요청을 백엔드 서버로 전달하는 지시어</td></tr><tr><td>보안</td><td>SSL 터미네이션 (SSL Termination)</td><td>SSL/TLS 암호화를 종료하고 평문으로 백엔드에 전달하는 방식</td></tr><tr><td>보안</td><td>Rate Limiting</td><td>특정 시간 동안 허용되는 요청 수를 제한하는 기능</td></tr><tr><td>캐싱</td><td>프록시 캐시 (Proxy Cache)</td><td>백엔드 응답을 임시 저장하여 성능을 향상시키는 기능</td></tr><tr><td>네트워킹</td><td>Keep-Alive</td><td>HTTP 연결을 재사용하여 성능을 향상시키는 기능</td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><ul><li><a href=https://nginx.org/>Nginx 공식 웹사이트</a></li><li><a href=https://aosabook.org/en/v2/nginx.html>Nginx 아키텍처 분석 - The Architecture of Open Source Applications</a></li><li><a href=https://www.cloudpanel.io/blog/nginx-performance/>Nginx 성능 최적화 가이드 - CloudPanel</a></li><li><a href=https://bloggerpilot.com/en/nginx-vs-apache/>Nginx vs Apache 비교 분석 - BloggerPilot</a></li><li><a href=https://medium.com/@soulaimaneyh/nginx-internal-architecture-b94b013bc365>Nginx 내부 아키텍처 분석 - Medium</a></li><li><a href=https://blog.nginx.org/blog/performance-tuning-tips-tricks>Nginx 성능 튜닝 팁 - NGINX Community Blog</a></li><li><a href=https://www.digitalocean.com/community/tutorials/how-to-optimize-nginx-configuration>Nginx 설정 최적화 가이드 - DigitalOcean</a></li></ul><h2 id=참고자료>참고자료:<a hidden class=anchor aria-hidden=true href=#참고자료>#</a></h2><ul><li>NGINX 공식 문서: <a href=https://nginx.org/en/docs/>https://nginx.org/en/docs/</a></li><li>NGINX 블로그: <a href=https://www.nginx.com/blog/>https://www.nginx.com/blog/</a></li><li>NGINX 성능 튜닝: <a href=https://www.nginx.com/blog/tuning-nginx/>https://www.nginx.com/blog/tuning-nginx/</a></li></ul><h2 id=참고-및-출처-1>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-1>#</a></h2><ul><li><a href=https://en.wikipedia.org/wiki/Nginx>Nginx 공식 위키</a></li><li><a href=https://nginx.org/en/>Nginx 공식 문서</a></li><li><a href=https://www.solo.io/topics/nginx/kubernetes-ingress-controller>Solo.io: Ingress Controller 설명</a></li><li><a href=https://www.f5.com/company/blog/nginx/nginx-plus-ingress-controller-kubernetes-load-balancing>F5 공식 블로그</a></li><li><a href=https://www.nginx.com/products/nginx/>NGINX Plus 기능 비교</a></li><li><a href=https://blog.detectify.com/industry-insights/common-nginx-misconfigurations-that-leave-your-web-server-ope-to-attack>Detectify: Nginx 설정 보안 실수</a></li><li><a href=https://infosec.mozilla.org/guidelines/web_security#https>Mozilla TLS Guide</a></li></ul><h2 id=참고-및-출처-2>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-2>#</a></h2><ul><li>Solo.io: NGINX Ingress Controller 구조 및 설정 (<a href="https://www.solo.io/topics/nginx/kubernetes-ingress-controller?utm_source=chatgpt.com" title="Kubernetes Ingress Controller: A Practical Guide | Solo.io">Solo</a>)</li><li>F5 블로그: Ingress Controller 구성 및 TLS 종료 사례 (<a href="https://www.f5.com/company/blog/nginx/nginx-plus-ingress-controller-kubernetes-load-balancing?utm_source=chatgpt.com" title="NGINX and NGINX Plus Ingress Controllers for Kubernetes Load …">F5, Inc.</a>)</li><li>Detectify, Solo.io: Nginx 설정 오류 및 보안 오용 사례 (<a href="https://blog.detectify.com/industry-insights/common-nginx-misconfigurations-that-leave-your-web-server-ope-to-attack/?utm_source=chatgpt.com" title="Common Nginx misconfigurations - Detectify Blog">Blog Detectify</a>)</li><li>자료: proxy_buffering 오류, <code>if</code> directive 문제점 (<a href="https://www.solo.io/topics/nginx/nginx-configuration?utm_source=chatgpt.com" title="NGINX Configuration: Directives, Examples, and 4 Mistakes to Avoid">Solo</a>)</li><li>ServerFault: worker_connections 최적값 조정 고려 (<a href="https://serverfault.com/questions/787919/optimal-value-for-nginx-worker-connections?utm_source=chatgpt.com" title="Optimal value for Nginx worker_connections - Server Fault">Server Fault</a>)</li><li>Nginx security advisories: CVE 사례 (<a href="https://nginx.org/en/security_advisories.html?utm_source=chatgpt.com" title="nginx security advisories">nginx.org</a>)</li></ul><hr><h2 id=참고-및-출처-3>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-3>#</a></h2><ul><li><a href=http://en.wikipedia.org/wiki/Nginx>Nginx 위키피디아 요약 및 주요 기능</a>(<a href="https://www.youtube.com/watch?v=6caVlIWohH0&amp;utm_source=chatgpt.com" title="Life of a CVE with Ingress-Nginx - YouTube">Medium</a>)</li><li><a href=https://blog.nginx.org/blog/inside-nginx-how-we-designed-for-performance-scale>Inside NGINX: 설계 원리 및 이벤트 기반 아키텍처</a>(<a href="https://gorbe.io/posts/nginx/common-issues-and-misconfigurations/?utm_source=chatgpt.com" title="Nginx Common Issues and Misconfigurations - G RBE">blog.nginx.org</a>)</li><li><a href=https://www.datascientest.com/en/nginx-everything-you-need-to-know-about-this-open-source-web-server>C10K 문제와 Nginx 역사</a>(<a href="https://en.wikipedia.org/wiki/Nginx?utm_source=chatgpt.com" title=Nginx>DataScientest</a>)</li><li><a href=https://en.wikipedia.org/wiki/HTTP/3>HTTP/3 지원 정보</a>(<a href="https://www.solo.io/topics/nginx/nginx-configuration?utm_source=chatgpt.com" title="NGINX Configuration: Directives, Examples, and 4 Mistakes to Avoid">위키백과</a>)</li></ul><h2 id=참고-및-출처-4>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-4>#</a></h2><ul><li><a href=https://nginx.org/>Nginx 공식 홈페이지</a></li><li><a href=https://nginx.org/en/docs/>Nginx documentation (영문)</a></li><li><a href=https://www.nginx.com/blog/inside-nginx-how-we-designed-for-performance-scale/>Nginx의 비동기 이벤트 기반 아키텍처 설명</a></li><li><a href=https://docs.nginx.com/nginx/admin-guide/web-server/web-server/>Best Practices: NGINX as a Web Server</a></li><li><a href=https://www.digitalocean.com/community/tutorials/understanding-nginx-server-and-location-block-selection-algorithms>nginx.conf Best Practice</a></li><li><a href=https://www.kegel.com/c10k.html>C10K Problem(동시 연결수 문제)</a></li><li><a href=https://www.nginx.com/resources/wiki/start/topics/tutorials/overview/>NGINX와 다른 웹 서버/게이트웨이 비교</a></li></ul><hr><hr><hr><hr><hr><h3 id=2-nginx-의-아키텍처와-핵심-기술>2. NGINX 의 아키텍처와 핵심 기술<a hidden class=anchor aria-hidden=true href=#2-nginx-의-아키텍처와-핵심-기술>#</a></h3><h4 id=21-이벤트-기반-비동기-아키텍처>2.1 이벤트 기반 비동기 아키텍처<a hidden class=anchor aria-hidden=true href=#21-이벤트-기반-비동기-아키텍처>#</a></h4><p>NGINX 의 가장 큰 특징은 이벤트 기반 비동기 (Event-driven, asynchronous) 아키텍처입니다. 기존의 Apache 와 같은 웹 서버가 요청마다 새로운 프로세스나 스레드를 생성하는 방식과 달리, NGINX 는 이벤트 루프 (Event Loop) 방식을 사용합니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[클라이언트 요청들] → [이벤트 루프] → [워커 프로세스들]
</span></span></code></pre></td></tr></table></div></div><p>이러한 아키텍처 덕분에 NGINX 는 적은 리소스로 수많은 동시 연결을 처리할 수 있습니다.</p><h4 id=22-마스터---워커-프로세스-모델>2.2 마스터 - 워커 프로세스 모델<a hidden class=anchor aria-hidden=true href=#22-마스터---워커-프로세스-모델>#</a></h4><p>NGINX 는 하나의 마스터 프로세스와 여러 워커 프로세스로 구성됩니다:</p><ul><li><strong>마스터 프로세스</strong>: 설정 파일 읽기, 포트 바인딩, 워커 프로세스 생성 및 관리</li><li><strong>워커 프로세스</strong>: 실제 요청 처리, 보통 CPU 코어 수만큼 생성됨</li></ul><p>이 구조는 시스템 자원을 효율적으로 사용하고 안정성을 높이는 데 기여합니다.</p><h3 id=3-nginx-의-주요-기능과-활용-사례>3. NGINX 의 주요 기능과 활용 사례<a hidden class=anchor aria-hidden=true href=#3-nginx-의-주요-기능과-활용-사례>#</a></h3><h4 id=31-웹-서버-web-server>3.1 웹 서버 (Web Server)<a hidden class=anchor aria-hidden=true href=#31-웹-서버-web-server>#</a></h4><p>정적 파일 (HTML, CSS, JavaScript, 이미지 등) 을 효율적으로 제공합니다. 기본 설정:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-28-1><a class=lnlinks href=#hl-28-1>1</a>
</span><span class=lnt id=hl-28-2><a class=lnlinks href=#hl-28-2>2</a>
</span><span class=lnt id=hl-28-3><a class=lnlinks href=#hl-28-3>3</a>
</span><span class=lnt id=hl-28-4><a class=lnlinks href=#hl-28-4>4</a>
</span><span class=lnt id=hl-28-5><a class=lnlinks href=#hl-28-5>5</a>
</span><span class=lnt id=hl-28-6><a class=lnlinks href=#hl-28-6>6</a>
</span><span class=lnt id=hl-28-7><a class=lnlinks href=#hl-28-7>7</a>
</span><span class=lnt id=hl-28-8><a class=lnlinks href=#hl-28-8>8</a>
</span><span class=lnt id=hl-28-9><a class=lnlinks href=#hl-28-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>listen</span> <span class=mi>80</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server_name</span> <span class=s>example.com</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>root</span> <span class=s>/var/www/html</span><span class=p>;</span>  <span class=c1># 정적 파일이 위치한 디렉토리
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kn>index</span> <span class=s>index.html</span><span class=p>;</span>    <span class=c1># 기본 파일
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=32-리버스-프록시-reverse-proxy>3.2 리버스 프록시 (Reverse Proxy)<a hidden class=anchor aria-hidden=true href=#32-리버스-프록시-reverse-proxy>#</a></h4><p>클라이언트의 요청을 백엔드 서버로 전달하고 응답을 반환합니다. 이를 통해 로드 밸런싱, 캐싱, SSL 종료 등이 가능합니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-29-1><a class=lnlinks href=#hl-29-1> 1</a>
</span><span class=lnt id=hl-29-2><a class=lnlinks href=#hl-29-2> 2</a>
</span><span class=lnt id=hl-29-3><a class=lnlinks href=#hl-29-3> 3</a>
</span><span class=lnt id=hl-29-4><a class=lnlinks href=#hl-29-4> 4</a>
</span><span class=lnt id=hl-29-5><a class=lnlinks href=#hl-29-5> 5</a>
</span><span class=lnt id=hl-29-6><a class=lnlinks href=#hl-29-6> 6</a>
</span><span class=lnt id=hl-29-7><a class=lnlinks href=#hl-29-7> 7</a>
</span><span class=lnt id=hl-29-8><a class=lnlinks href=#hl-29-8> 8</a>
</span><span class=lnt id=hl-29-9><a class=lnlinks href=#hl-29-9> 9</a>
</span><span class=lnt id=hl-29-10><a class=lnlinks href=#hl-29-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>listen</span> <span class=mi>80</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server_name</span> <span class=s>example.com</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span> <span class=s>http://backend_server</span><span class=p>;</span>  <span class=c1># 백엔드 서버 주소
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kn>proxy_set_header</span> <span class=s>Host</span> <span class=nv>$host</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_set_header</span> <span class=s>X-Real-IP</span> <span class=nv>$remote_addr</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=33-로드-밸런서-load-balancer>3.3 로드 밸런서 (Load Balancer)<a hidden class=anchor aria-hidden=true href=#33-로드-밸런서-load-balancer>#</a></h4><p>여러 서버에 트래픽을 분산하여 시스템의 부하를 균등하게 분배합니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-30-1><a class=lnlinks href=#hl-30-1> 1</a>
</span><span class=lnt id=hl-30-2><a class=lnlinks href=#hl-30-2> 2</a>
</span><span class=lnt id=hl-30-3><a class=lnlinks href=#hl-30-3> 3</a>
</span><span class=lnt id=hl-30-4><a class=lnlinks href=#hl-30-4> 4</a>
</span><span class=lnt id=hl-30-5><a class=lnlinks href=#hl-30-5> 5</a>
</span><span class=lnt id=hl-30-6><a class=lnlinks href=#hl-30-6> 6</a>
</span><span class=lnt id=hl-30-7><a class=lnlinks href=#hl-30-7> 7</a>
</span><span class=lnt id=hl-30-8><a class=lnlinks href=#hl-30-8> 8</a>
</span><span class=lnt id=hl-30-9><a class=lnlinks href=#hl-30-9> 9</a>
</span><span class=lnt id=hl-30-10><a class=lnlinks href=#hl-30-10>10</a>
</span><span class=lnt id=hl-30-11><a class=lnlinks href=#hl-30-11>11</a>
</span><span class=lnt id=hl-30-12><a class=lnlinks href=#hl-30-12>12</a>
</span><span class=lnt id=hl-30-13><a class=lnlinks href=#hl-30-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>upstream</span> <span class=s>backend</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>server</span> <span class=s>backend1.example.com</span> <span class=s>weight=3</span><span class=p>;</span>  <span class=c1># 가중치 부여
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>server</span> <span class=s>backend2.example.com</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server</span> <span class=s>backend3.example.com</span> <span class=s>backup</span><span class=p>;</span>    <span class=c1># 백업 서버
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>listen</span> <span class=mi>80</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span> <span class=s>http://backend</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>로드 밸런싱 알고리즘:</p><ul><li>round-robin(기본): 순차적으로 요청 분배</li><li>least_conn: 연결 수가 가장 적은 서버에 요청 분배</li><li>ip_hash: 클라이언트 IP 를 해시하여 특정 서버에 고정</li></ul><h4 id=34-컨텐츠-캐싱-content-caching>3.4 컨텐츠 캐싱 (Content Caching)<a hidden class=anchor aria-hidden=true href=#34-컨텐츠-캐싱-content-caching>#</a></h4><p>자주 요청되는 콘텐츠를 메모리에 저장하여 응답 시간을 단축합니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-31-1><a class=lnlinks href=#hl-31-1> 1</a>
</span><span class=lnt id=hl-31-2><a class=lnlinks href=#hl-31-2> 2</a>
</span><span class=lnt id=hl-31-3><a class=lnlinks href=#hl-31-3> 3</a>
</span><span class=lnt id=hl-31-4><a class=lnlinks href=#hl-31-4> 4</a>
</span><span class=lnt id=hl-31-5><a class=lnlinks href=#hl-31-5> 5</a>
</span><span class=lnt id=hl-31-6><a class=lnlinks href=#hl-31-6> 6</a>
</span><span class=lnt id=hl-31-7><a class=lnlinks href=#hl-31-7> 7</a>
</span><span class=lnt id=hl-31-8><a class=lnlinks href=#hl-31-8> 8</a>
</span><span class=lnt id=hl-31-9><a class=lnlinks href=#hl-31-9> 9</a>
</span><span class=lnt id=hl-31-10><a class=lnlinks href=#hl-31-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>proxy_cache_path</span> <span class=s>/path/to/cache</span> <span class=s>levels=1:2</span> <span class=s>keys_zone=my_cache:10m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_cache</span> <span class=s>my_cache</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_cache_valid</span> <span class=mi>200</span> <span class=mi>302</span> <span class=mi>10m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_cache_valid</span> <span class=mi>404</span> <span class=mi>1m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span> <span class=s>http://backend</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=35-ssltls-종료-termination>3.5 SSL/TLS 종료 (Termination)<a hidden class=anchor aria-hidden=true href=#35-ssltls-종료-termination>#</a></h4><p>암호화된 HTTPS 트래픽을 처리하고 필요에 따라 백엔드로 암호화되지 않은 트래픽을 전달합니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-32-1><a class=lnlinks href=#hl-32-1> 1</a>
</span><span class=lnt id=hl-32-2><a class=lnlinks href=#hl-32-2> 2</a>
</span><span class=lnt id=hl-32-3><a class=lnlinks href=#hl-32-3> 3</a>
</span><span class=lnt id=hl-32-4><a class=lnlinks href=#hl-32-4> 4</a>
</span><span class=lnt id=hl-32-5><a class=lnlinks href=#hl-32-5> 5</a>
</span><span class=lnt id=hl-32-6><a class=lnlinks href=#hl-32-6> 6</a>
</span><span class=lnt id=hl-32-7><a class=lnlinks href=#hl-32-7> 7</a>
</span><span class=lnt id=hl-32-8><a class=lnlinks href=#hl-32-8> 8</a>
</span><span class=lnt id=hl-32-9><a class=lnlinks href=#hl-32-9> 9</a>
</span><span class=lnt id=hl-32-10><a class=lnlinks href=#hl-32-10>10</a>
</span><span class=lnt id=hl-32-11><a class=lnlinks href=#hl-32-11>11</a>
</span><span class=lnt id=hl-32-12><a class=lnlinks href=#hl-32-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>listen</span> <span class=mi>443</span> <span class=s>ssl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server_name</span> <span class=s>example.com</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kn>ssl_certificate</span> <span class=s>/path/to/cert.pem</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>ssl_certificate_key</span> <span class=s>/path/to/key.pem</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>ssl_protocols</span> <span class=s>TLSv1.2</span> <span class=s>TLSv1.3</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span> <span class=s>http://backend</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=4-nginx-설정-구조와-문법>4. NGINX 설정 구조와 문법<a hidden class=anchor aria-hidden=true href=#4-nginx-설정-구조와-문법>#</a></h3><p>NGINX 설정은 계층적 구조로, 지시어 (directives) 와 블록 (blocks) 으로 구성됩니다.</p><h4 id=41-기본-설정-파일-구조>4.1 기본 설정 파일 구조<a hidden class=anchor aria-hidden=true href=#41-기본-설정-파일-구조>#</a></h4><ul><li><strong>/etc/nginx/nginx.conf</strong>: 메인 설정 파일</li><li><strong>/etc/nginx/conf.d/*.conf</strong>: 추가 설정 파일들</li><li><strong>/etc/nginx/sites-available/</strong>: 사이트 설정 파일들</li><li><strong>/etc/nginx/sites-enabled/</strong>: 활성화된 사이트 설정 (심볼릭 링크)</li></ul><h4 id=42-주요-설정-블록>4.2 주요 설정 블록<a hidden class=anchor aria-hidden=true href=#42-주요-설정-블록>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-33-1><a class=lnlinks href=#hl-33-1> 1</a>
</span><span class=lnt id=hl-33-2><a class=lnlinks href=#hl-33-2> 2</a>
</span><span class=lnt id=hl-33-3><a class=lnlinks href=#hl-33-3> 3</a>
</span><span class=lnt id=hl-33-4><a class=lnlinks href=#hl-33-4> 4</a>
</span><span class=lnt id=hl-33-5><a class=lnlinks href=#hl-33-5> 5</a>
</span><span class=lnt id=hl-33-6><a class=lnlinks href=#hl-33-6> 6</a>
</span><span class=lnt id=hl-33-7><a class=lnlinks href=#hl-33-7> 7</a>
</span><span class=lnt id=hl-33-8><a class=lnlinks href=#hl-33-8> 8</a>
</span><span class=lnt id=hl-33-9><a class=lnlinks href=#hl-33-9> 9</a>
</span><span class=lnt id=hl-33-10><a class=lnlinks href=#hl-33-10>10</a>
</span><span class=lnt id=hl-33-11><a class=lnlinks href=#hl-33-11>11</a>
</span><span class=lnt id=hl-33-12><a class=lnlinks href=#hl-33-12>12</a>
</span><span class=lnt id=hl-33-13><a class=lnlinks href=#hl-33-13>13</a>
</span><span class=lnt id=hl-33-14><a class=lnlinks href=#hl-33-14>14</a>
</span><span class=lnt id=hl-33-15><a class=lnlinks href=#hl-33-15>15</a>
</span><span class=lnt id=hl-33-16><a class=lnlinks href=#hl-33-16>16</a>
</span><span class=lnt id=hl-33-17><a class=lnlinks href=#hl-33-17>17</a>
</span><span class=lnt id=hl-33-18><a class=lnlinks href=#hl-33-18>18</a>
</span><span class=lnt id=hl-33-19><a class=lnlinks href=#hl-33-19>19</a>
</span><span class=lnt id=hl-33-20><a class=lnlinks href=#hl-33-20>20</a>
</span><span class=lnt id=hl-33-21><a class=lnlinks href=#hl-33-21>21</a>
</span><span class=lnt id=hl-33-22><a class=lnlinks href=#hl-33-22>22</a>
</span><span class=lnt id=hl-33-23><a class=lnlinks href=#hl-33-23>23</a>
</span><span class=lnt id=hl-33-24><a class=lnlinks href=#hl-33-24>24</a>
</span><span class=lnt id=hl-33-25><a class=lnlinks href=#hl-33-25>25</a>
</span><span class=lnt id=hl-33-26><a class=lnlinks href=#hl-33-26>26</a>
</span><span class=lnt id=hl-33-27><a class=lnlinks href=#hl-33-27>27</a>
</span><span class=lnt id=hl-33-28><a class=lnlinks href=#hl-33-28>28</a>
</span><span class=lnt id=hl-33-29><a class=lnlinks href=#hl-33-29>29</a>
</span><span class=lnt id=hl-33-30><a class=lnlinks href=#hl-33-30>30</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=c1># 전역 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>user</span> <span class=s>nginx</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>worker_processes</span> <span class=s>auto</span><span class=p>;</span>  <span class=c1># 자동으로 CPU 코어 수에 맞춤
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>error_log</span> <span class=s>/var/log/nginx/error.log</span> <span class=s>warn</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>events</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>worker_connections</span> <span class=mi>1024</span><span class=p>;</span>  <span class=c1># 워커 프로세스당 연결 수
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>http</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>include</span> <span class=s>mime.types</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>default_type</span> <span class=s>application/octet-stream</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 로깅 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>log_format</span> <span class=s>main</span> <span class=s>&#39;</span><span class=nv>$remote_addr</span> <span class=s>-</span> <span class=nv>$remote_user</span> <span class=s>[</span><span class=nv>$time_local]</span> <span class=s>&#34;</span><span class=nv>$request&#34;</span> <span class=s>&#39;</span>
</span></span><span class=line><span class=cl>                     <span class=s>&#39;</span><span class=nv>$status</span> <span class=nv>$body_bytes_sent</span> <span class=s>&#34;</span><span class=nv>$http_referer&#34;</span> <span class=s>&#39;</span>
</span></span><span class=line><span class=cl>                     <span class=s>&#39;&#34;</span><span class=nv>$http_user_agent&#34;</span> <span class=s>&#34;</span><span class=nv>$http_x_forwarded_for&#34;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>access_log</span> <span class=s>/var/log/nginx/access.log</span> <span class=s>main</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 성능 최적화 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>sendfile</span> <span class=no>on</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>tcp_nopush</span> <span class=no>on</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>tcp_nodelay</span> <span class=no>on</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>keepalive_timeout</span> <span class=mi>65</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 서버 블록
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1># 서버 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=5-nginx-의-성능-최적화>5. NGINX 의 성능 최적화<a hidden class=anchor aria-hidden=true href=#5-nginx-의-성능-최적화>#</a></h3><h4 id=51-워커-프로세스-최적화>5.1 워커 프로세스 최적화<a hidden class=anchor aria-hidden=true href=#51-워커-프로세스-최적화>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-34-1><a class=lnlinks href=#hl-34-1> 1</a>
</span><span class=lnt id=hl-34-2><a class=lnlinks href=#hl-34-2> 2</a>
</span><span class=lnt id=hl-34-3><a class=lnlinks href=#hl-34-3> 3</a>
</span><span class=lnt id=hl-34-4><a class=lnlinks href=#hl-34-4> 4</a>
</span><span class=lnt id=hl-34-5><a class=lnlinks href=#hl-34-5> 5</a>
</span><span class=lnt id=hl-34-6><a class=lnlinks href=#hl-34-6> 6</a>
</span><span class=lnt id=hl-34-7><a class=lnlinks href=#hl-34-7> 7</a>
</span><span class=lnt id=hl-34-8><a class=lnlinks href=#hl-34-8> 8</a>
</span><span class=lnt id=hl-34-9><a class=lnlinks href=#hl-34-9> 9</a>
</span><span class=lnt id=hl-34-10><a class=lnlinks href=#hl-34-10>10</a>
</span><span class=lnt id=hl-34-11><a class=lnlinks href=#hl-34-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=c1># CPU 코어 수에 맞게 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>worker_processes</span> <span class=s>auto</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 작업자 프로세스 친화성 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>worker_cpu_affinity</span> <span class=s>auto</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 작업자 연결 수 증가
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>events</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>worker_connections</span> <span class=mi>10000</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>multi_accept</span> <span class=no>on</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=52-버퍼-및-타임아웃-설정>5.2 버퍼 및 타임아웃 설정<a hidden class=anchor aria-hidden=true href=#52-버퍼-및-타임아웃-설정>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-35-1><a class=lnlinks href=#hl-35-1> 1</a>
</span><span class=lnt id=hl-35-2><a class=lnlinks href=#hl-35-2> 2</a>
</span><span class=lnt id=hl-35-3><a class=lnlinks href=#hl-35-3> 3</a>
</span><span class=lnt id=hl-35-4><a class=lnlinks href=#hl-35-4> 4</a>
</span><span class=lnt id=hl-35-5><a class=lnlinks href=#hl-35-5> 5</a>
</span><span class=lnt id=hl-35-6><a class=lnlinks href=#hl-35-6> 6</a>
</span><span class=lnt id=hl-35-7><a class=lnlinks href=#hl-35-7> 7</a>
</span><span class=lnt id=hl-35-8><a class=lnlinks href=#hl-35-8> 8</a>
</span><span class=lnt id=hl-35-9><a class=lnlinks href=#hl-35-9> 9</a>
</span><span class=lnt id=hl-35-10><a class=lnlinks href=#hl-35-10>10</a>
</span><span class=lnt id=hl-35-11><a class=lnlinks href=#hl-35-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=c1># 버퍼 크기 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>client_body_buffer_size</span> <span class=s>10K</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>client_header_buffer_size</span> <span class=mi>1k</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>client_max_body_size</span> <span class=mi>8m</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>large_client_header_buffers</span> <span class=mi>2</span> <span class=mi>1k</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 타임아웃 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>client_body_timeout</span> <span class=mi>12</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>client_header_timeout</span> <span class=mi>12</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>keepalive_timeout</span> <span class=mi>15</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>send_timeout</span> <span class=mi>10</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=53-gzip-압축>5.3 Gzip 압축<a hidden class=anchor aria-hidden=true href=#53-gzip-압축>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-36-1><a class=lnlinks href=#hl-36-1> 1</a>
</span><span class=lnt id=hl-36-2><a class=lnlinks href=#hl-36-2> 2</a>
</span><span class=lnt id=hl-36-3><a class=lnlinks href=#hl-36-3> 3</a>
</span><span class=lnt id=hl-36-4><a class=lnlinks href=#hl-36-4> 4</a>
</span><span class=lnt id=hl-36-5><a class=lnlinks href=#hl-36-5> 5</a>
</span><span class=lnt id=hl-36-6><a class=lnlinks href=#hl-36-6> 6</a>
</span><span class=lnt id=hl-36-7><a class=lnlinks href=#hl-36-7> 7</a>
</span><span class=lnt id=hl-36-8><a class=lnlinks href=#hl-36-8> 8</a>
</span><span class=lnt id=hl-36-9><a class=lnlinks href=#hl-36-9> 9</a>
</span><span class=lnt id=hl-36-10><a class=lnlinks href=#hl-36-10>10</a>
</span><span class=lnt id=hl-36-11><a class=lnlinks href=#hl-36-11>11</a>
</span><span class=lnt id=hl-36-12><a class=lnlinks href=#hl-36-12>12</a>
</span><span class=lnt id=hl-36-13><a class=lnlinks href=#hl-36-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=c1># Gzip 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>gzip</span> <span class=no>on</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>gzip_comp_level</span> <span class=mi>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>gzip_min_length</span> <span class=mi>256</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>gzip_proxied</span> <span class=s>any</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>gzip_vary</span> <span class=no>on</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>gzip_types</span>
</span></span><span class=line><span class=cl>  <span class=s>application/javascript</span>
</span></span><span class=line><span class=cl>  <span class=s>application/json</span>
</span></span><span class=line><span class=cl>  <span class=s>application/xml</span>
</span></span><span class=line><span class=cl>  <span class=s>text/css</span>
</span></span><span class=line><span class=cl>  <span class=s>text/plain</span>
</span></span><span class=line><span class=cl>  <span class=s>text/xml</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=54-파일-캐싱-최적화>5.4 파일 캐싱 최적화<a hidden class=anchor aria-hidden=true href=#54-파일-캐싱-최적화>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-37-1><a class=lnlinks href=#hl-37-1>1</a>
</span><span class=lnt id=hl-37-2><a class=lnlinks href=#hl-37-2>2</a>
</span><span class=lnt id=hl-37-3><a class=lnlinks href=#hl-37-3>3</a>
</span><span class=lnt id=hl-37-4><a class=lnlinks href=#hl-37-4>4</a>
</span><span class=lnt id=hl-37-5><a class=lnlinks href=#hl-37-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=c1># 정적 파일 캐싱 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>location</span> <span class=p>~</span><span class=sr>*</span> <span class=s>\.(jpg|jpeg|png|gif|ico|css|js)</span>$ <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>expires</span> <span class=s>30d</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>add_header</span> <span class=s>Cache-Control</span> <span class=s>&#34;public,</span> <span class=s>no-transform&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=6-nginx-vs-apache-주요-차이점>6. NGINX Vs Apache: 주요 차이점<a hidden class=anchor aria-hidden=true href=#6-nginx-vs-apache-주요-차이점>#</a></h3><table><thead><tr><th>특성</th><th>NGINX</th><th>Apache</th></tr></thead><tbody><tr><td>아키텍처</td><td>이벤트 기반, 비동기</td><td>프로세스/스레드 기반</td></tr><tr><td>동시성 처리</td><td>단일 프로세스로 여러 연결 처리</td><td>연결당 프로세스/스레드 생성</td></tr><tr><td>리소스 사용</td><td>메모리 및 CPU 사용량 적음</td><td>높은 부하에서 리소스 사용량 증가</td></tr><tr><td>정적 컨텐츠</td><td>매우 효율적</td><td>효율적</td></tr><tr><td>동적 컨텐츠</td><td>프록시 통해 처리</td><td>직접 처리 가능 (모듈)</td></tr><tr><td>설정 구조</td><td>중앙 집중식, 모듈 선택적</td><td>.htaccess 파일로 분산 가능</td></tr><tr><td>확장성</td><td>모듈 추가 필요</td><td>다양한 내장 모듈</td></tr></tbody></table><h3 id=7-nginx-plus-상용-버전>7. NGINX Plus (상용 버전)<a hidden class=anchor aria-hidden=true href=#7-nginx-plus-상용-버전>#</a></h3><p>NGINX Plus 는 오픈소스 NGINX 에 추가 기능을 제공하는 상용 제품입니다.</p><h4 id=주요-추가-기능>주요 추가 기능<a hidden class=anchor aria-hidden=true href=#주요-추가-기능>#</a></h4><ul><li>고급 로드 밸런싱 (세션 지속성, 상태 확인)</li><li>실시간 모니터링 및 메트릭 대시보드</li><li>고급 HTTP/TCP/UDP 로드 밸런싱</li><li>활성/활성 고가용성 설정</li><li>구성 가능한 애플리케이션 상태 확인</li><li>JWT 검증 및 OAuth 2.0 지원</li><li>고급 캐싱 및 미디어 스트리밍</li></ul><h3 id=8-nginx-의-실제-활용-사례>8. NGINX 의 실제 활용 사례<a hidden class=anchor aria-hidden=true href=#8-nginx-의-실제-활용-사례>#</a></h3><h4 id=81-마이크로서비스-아키텍처>8.1 마이크로서비스 아키텍처<a hidden class=anchor aria-hidden=true href=#81-마이크로서비스-아키텍처>#</a></h4><p>마이크로서비스 간의 API 게이트웨이 역할, 라우팅, 로드 밸런싱, 인증 등 처리</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-38-1><a class=lnlinks href=#hl-38-1> 1</a>
</span><span class=lnt id=hl-38-2><a class=lnlinks href=#hl-38-2> 2</a>
</span><span class=lnt id=hl-38-3><a class=lnlinks href=#hl-38-3> 3</a>
</span><span class=lnt id=hl-38-4><a class=lnlinks href=#hl-38-4> 4</a>
</span><span class=lnt id=hl-38-5><a class=lnlinks href=#hl-38-5> 5</a>
</span><span class=lnt id=hl-38-6><a class=lnlinks href=#hl-38-6> 6</a>
</span><span class=lnt id=hl-38-7><a class=lnlinks href=#hl-38-7> 7</a>
</span><span class=lnt id=hl-38-8><a class=lnlinks href=#hl-38-8> 8</a>
</span><span class=lnt id=hl-38-9><a class=lnlinks href=#hl-38-9> 9</a>
</span><span class=lnt id=hl-38-10><a class=lnlinks href=#hl-38-10>10</a>
</span><span class=lnt id=hl-38-11><a class=lnlinks href=#hl-38-11>11</a>
</span><span class=lnt id=hl-38-12><a class=lnlinks href=#hl-38-12>12</a>
</span><span class=lnt id=hl-38-13><a class=lnlinks href=#hl-38-13>13</a>
</span><span class=lnt id=hl-38-14><a class=lnlinks href=#hl-38-14>14</a>
</span><span class=lnt id=hl-38-15><a class=lnlinks href=#hl-38-15>15</a>
</span><span class=lnt id=hl-38-16><a class=lnlinks href=#hl-38-16>16</a>
</span><span class=lnt id=hl-38-17><a class=lnlinks href=#hl-38-17>17</a>
</span><span class=lnt id=hl-38-18><a class=lnlinks href=#hl-38-18>18</a>
</span><span class=lnt id=hl-38-19><a class=lnlinks href=#hl-38-19>19</a>
</span><span class=lnt id=hl-38-20><a class=lnlinks href=#hl-38-20>20</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=c1># API 게이트웨이 예시
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>listen</span> <span class=mi>80</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server_name</span> <span class=s>api.example.com</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 사용자 서비스
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>location</span> <span class=s>/users</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span> <span class=s>http://users-service</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 제품 서비스
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>location</span> <span class=s>/products</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span> <span class=s>http://products-service</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 인증 서비스
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>location</span> <span class=s>/auth</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span> <span class=s>http://auth-service</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=82-컨테이너-환경-docker-kubernetes>8.2 컨테이너 환경 (Docker, Kubernetes)<a hidden class=anchor aria-hidden=true href=#82-컨테이너-환경-docker-kubernetes>#</a></h4><p>컨테이너화된 애플리케이션의 진입점으로 활용, Ingress 컨트롤러 구현</p><h4 id=83-cdncontent-delivery-network>8.3 CDN(Content Delivery Network)<a hidden class=anchor aria-hidden=true href=#83-cdncontent-delivery-network>#</a></h4><p>정적 콘텐츠 캐싱 및 분산 처리에 활용</p><h4 id=84-고트래픽-웹사이트>8.4 고트래픽 웹사이트<a hidden class=anchor aria-hidden=true href=#84-고트래픽-웹사이트>#</a></h4><p>Netflix, Dropbox, GitHub, WordPress.com 등 대규모 웹사이트에서 활용</p><h3 id=9-nginx-모니터링-및-로깅>9. NGINX 모니터링 및 로깅<a hidden class=anchor aria-hidden=true href=#9-nginx-모니터링-및-로깅>#</a></h3><h4 id=91-기본-로깅>9.1 기본 로깅<a hidden class=anchor aria-hidden=true href=#91-기본-로깅>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-39-1><a class=lnlinks href=#hl-39-1> 1</a>
</span><span class=lnt id=hl-39-2><a class=lnlinks href=#hl-39-2> 2</a>
</span><span class=lnt id=hl-39-3><a class=lnlinks href=#hl-39-3> 3</a>
</span><span class=lnt id=hl-39-4><a class=lnlinks href=#hl-39-4> 4</a>
</span><span class=lnt id=hl-39-5><a class=lnlinks href=#hl-39-5> 5</a>
</span><span class=lnt id=hl-39-6><a class=lnlinks href=#hl-39-6> 6</a>
</span><span class=lnt id=hl-39-7><a class=lnlinks href=#hl-39-7> 7</a>
</span><span class=lnt id=hl-39-8><a class=lnlinks href=#hl-39-8> 8</a>
</span><span class=lnt id=hl-39-9><a class=lnlinks href=#hl-39-9> 9</a>
</span><span class=lnt id=hl-39-10><a class=lnlinks href=#hl-39-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=c1># 로그 형식 정의
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>log_format</span> <span class=s>main</span> <span class=s>&#39;</span><span class=nv>$remote_addr</span> <span class=s>-</span> <span class=nv>$remote_user</span> <span class=s>[</span><span class=nv>$time_local]</span> <span class=s>&#34;</span><span class=nv>$request&#34;</span> <span class=s>&#39;</span>
</span></span><span class=line><span class=cl>                 <span class=s>&#39;</span><span class=nv>$status</span> <span class=nv>$body_bytes_sent</span> <span class=s>&#34;</span><span class=nv>$http_referer&#34;</span> <span class=s>&#39;</span>
</span></span><span class=line><span class=cl>                 <span class=s>&#39;&#34;</span><span class=nv>$http_user_agent&#34;</span> <span class=s>&#34;</span><span class=nv>$http_x_forwarded_for&#34;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 액세스 로그 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>access_log</span> <span class=s>/var/log/nginx/access.log</span> <span class=s>main</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 에러 로그 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>error_log</span> <span class=s>/var/log/nginx/error.log</span> <span class=s>warn</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=92-상태-모니터링>9.2 상태 모니터링<a hidden class=anchor aria-hidden=true href=#92-상태-모니터링>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-40-1><a class=lnlinks href=#hl-40-1>1</a>
</span><span class=lnt id=hl-40-2><a class=lnlinks href=#hl-40-2>2</a>
</span><span class=lnt id=hl-40-3><a class=lnlinks href=#hl-40-3>3</a>
</span><span class=lnt id=hl-40-4><a class=lnlinks href=#hl-40-4>4</a>
</span><span class=lnt id=hl-40-5><a class=lnlinks href=#hl-40-5>5</a>
</span><span class=lnt id=hl-40-6><a class=lnlinks href=#hl-40-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=c1># 기본 상태 페이지 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>location</span> <span class=s>/nginx_status</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>stub_status</span> <span class=no>on</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>allow</span> <span class=n>127.0.0.1</span><span class=p>;</span>  <span class=c1># 내부 접근만 허용
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>deny</span> <span class=s>all</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=93-prometheus-를-통한-메트릭-수집>9.3 Prometheus 를 통한 메트릭 수집<a hidden class=anchor aria-hidden=true href=#93-prometheus-를-통한-메트릭-수집>#</a></h4><p>NGINX Prometheus Exporter 를 사용하여 메트릭 수집</p><h3 id=10-nginx-보안-강화>10. NGINX 보안 강화<a hidden class=anchor aria-hidden=true href=#10-nginx-보안-강화>#</a></h3><h4 id=101-http-보안-헤더>10.1 HTTP 보안 헤더<a hidden class=anchor aria-hidden=true href=#101-http-보안-헤더>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-41-1><a class=lnlinks href=#hl-41-1>1</a>
</span><span class=lnt id=hl-41-2><a class=lnlinks href=#hl-41-2>2</a>
</span><span class=lnt id=hl-41-3><a class=lnlinks href=#hl-41-3>3</a>
</span><span class=lnt id=hl-41-4><a class=lnlinks href=#hl-41-4>4</a>
</span><span class=lnt id=hl-41-5><a class=lnlinks href=#hl-41-5>5</a>
</span><span class=lnt id=hl-41-6><a class=lnlinks href=#hl-41-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=c1># 보안 헤더 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>add_header</span> <span class=s>X-Content-Type-Options</span> <span class=s>nosniff</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>add_header</span> <span class=s>X-Frame-Options</span> <span class=s>SAMEORIGIN</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>add_header</span> <span class=s>X-XSS-Protection</span> <span class=s>&#34;1</span><span class=p>;</span> <span class=k>mode=block&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>add_header</span> <span class=s>Content-Security-Policy</span> <span class=s>&#34;default-src</span> <span class=s>&#39;self&#39;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>add_header</span> <span class=s>Strict-Transport-Security</span> <span class=s>&#34;max-age=31536000</span><span class=p>;</span> <span class=k>includeSubDomains&#34;</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=102-ssltls-보안-설정>10.2 SSL/TLS 보안 설정<a hidden class=anchor aria-hidden=true href=#102-ssltls-보안-설정>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-42-1><a class=lnlinks href=#hl-42-1> 1</a>
</span><span class=lnt id=hl-42-2><a class=lnlinks href=#hl-42-2> 2</a>
</span><span class=lnt id=hl-42-3><a class=lnlinks href=#hl-42-3> 3</a>
</span><span class=lnt id=hl-42-4><a class=lnlinks href=#hl-42-4> 4</a>
</span><span class=lnt id=hl-42-5><a class=lnlinks href=#hl-42-5> 5</a>
</span><span class=lnt id=hl-42-6><a class=lnlinks href=#hl-42-6> 6</a>
</span><span class=lnt id=hl-42-7><a class=lnlinks href=#hl-42-7> 7</a>
</span><span class=lnt id=hl-42-8><a class=lnlinks href=#hl-42-8> 8</a>
</span><span class=lnt id=hl-42-9><a class=lnlinks href=#hl-42-9> 9</a>
</span><span class=lnt id=hl-42-10><a class=lnlinks href=#hl-42-10>10</a>
</span><span class=lnt id=hl-42-11><a class=lnlinks href=#hl-42-11>11</a>
</span><span class=lnt id=hl-42-12><a class=lnlinks href=#hl-42-12>12</a>
</span><span class=lnt id=hl-42-13><a class=lnlinks href=#hl-42-13>13</a>
</span><span class=lnt id=hl-42-14><a class=lnlinks href=#hl-42-14>14</a>
</span><span class=lnt id=hl-42-15><a class=lnlinks href=#hl-42-15>15</a>
</span><span class=lnt id=hl-42-16><a class=lnlinks href=#hl-42-16>16</a>
</span><span class=lnt id=hl-42-17><a class=lnlinks href=#hl-42-17>17</a>
</span><span class=lnt id=hl-42-18><a class=lnlinks href=#hl-42-18>18</a>
</span><span class=lnt id=hl-42-19><a class=lnlinks href=#hl-42-19>19</a>
</span><span class=lnt id=hl-42-20><a class=lnlinks href=#hl-42-20>20</a>
</span><span class=lnt id=hl-42-21><a class=lnlinks href=#hl-42-21>21</a>
</span><span class=lnt id=hl-42-22><a class=lnlinks href=#hl-42-22>22</a>
</span><span class=lnt id=hl-42-23><a class=lnlinks href=#hl-42-23>23</a>
</span><span class=lnt id=hl-42-24><a class=lnlinks href=#hl-42-24>24</a>
</span><span class=lnt id=hl-42-25><a class=lnlinks href=#hl-42-25>25</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>listen</span> <span class=mi>443</span> <span class=s>ssl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 인증서 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>ssl_certificate</span> <span class=s>/path/to/cert.pem</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>ssl_certificate_key</span> <span class=s>/path/to/key.pem</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 프로토콜 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>ssl_protocols</span> <span class=s>TLSv1.2</span> <span class=s>TLSv1.3</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 암호화 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>ssl_ciphers</span> <span class=s>&#39;ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>ssl_prefer_server_ciphers</span> <span class=no>on</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># OCSP Stapling
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>ssl_stapling</span> <span class=no>on</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>ssl_stapling_verify</span> <span class=no>on</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># DH 파라미터
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>ssl_dhparam</span> <span class=s>/path/to/dhparam.pem</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 세션 재사용
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>ssl_session_cache</span> <span class=s>shared:SSL:10m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>ssl_session_timeout</span> <span class=mi>10m</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=103-dos-공격-방어>10.3 DoS 공격 방어<a hidden class=anchor aria-hidden=true href=#103-dos-공격-방어>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-43-1><a class=lnlinks href=#hl-43-1>1</a>
</span><span class=lnt id=hl-43-2><a class=lnlinks href=#hl-43-2>2</a>
</span><span class=lnt id=hl-43-3><a class=lnlinks href=#hl-43-3>3</a>
</span><span class=lnt id=hl-43-4><a class=lnlinks href=#hl-43-4>4</a>
</span><span class=lnt id=hl-43-5><a class=lnlinks href=#hl-43-5>5</a>
</span><span class=lnt id=hl-43-6><a class=lnlinks href=#hl-43-6>6</a>
</span><span class=lnt id=hl-43-7><a class=lnlinks href=#hl-43-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=c1># 연결 제한
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>limit_conn_zone</span> <span class=nv>$binary_remote_addr</span> <span class=s>zone=conn_limit_per_ip:10m</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>limit_conn</span> <span class=s>conn_limit_per_ip</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 요청 속도 제한
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>limit_req_zone</span> <span class=nv>$binary_remote_addr</span> <span class=s>zone=req_limit_per_ip:10m</span> <span class=s>rate=5r/s</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>limit_req</span> <span class=s>zone=req_limit_per_ip</span> <span class=s>burst=10</span> <span class=s>nodelay</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=11-nginx-트렌드-및-미래-전망>11. NGINX 트렌드 및 미래 전망<a hidden class=anchor aria-hidden=true href=#11-nginx-트렌드-및-미래-전망>#</a></h3><ul><li><strong>HTTP/3 및 QUIC 지원</strong>: 차세대 웹 프로토콜 지원 확대</li><li><strong>서비스 메시 통합</strong>: Istio, Linkerd 등과의 통합</li><li><strong>Edge Computing</strong>: 엣지에서의 NGINX 활용 증가</li><li><strong>WebAssembly 모듈</strong>: WASM 을 통한 확장성 향상</li><li><strong>AI/ML 기반 로드 밸런싱</strong>: 트래픽 패턴 학습을 통한 최적화</li></ul><h3 id=12-결론>12. 결론<a hidden class=anchor aria-hidden=true href=#12-결론>#</a></h3><p>NGINX 는 그 효율성, 유연성, 확장성 덕분에 현대 웹 인프라에서 필수적인 구성 요소가 되었습니다. 단순한 웹 서버에서 출발하여 복잡한 마이크로서비스 아키텍처, 컨테이너 환경, CDN 등 다양한 환경에서 핵심적인 역할을 수행하고 있습니다. 이벤트 기반 아키텍처, 모듈식 설계, 다양한 기능을 통해 고성능 웹 애플리케이션 배포에 이상적인 솔루션을 제공합니다.</p><h2 id=-11-실무-적용을-위한-자동화-및-실습-구성>🔧 11. 실무 적용을 위한 자동화 및 실습 구성<a hidden class=anchor aria-hidden=true href=#-11-실무-적용을-위한-자동화-및-실습-구성>#</a></h2><h3 id=111-실습-환경-구성-예시-docker-compose-기반>11.1 실습 환경 구성 예시 (Docker Compose 기반)<a hidden class=anchor aria-hidden=true href=#111-실습-환경-구성-예시-docker-compose-기반>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-44-1><a class=lnlinks href=#hl-44-1> 1</a>
</span><span class=lnt id=hl-44-2><a class=lnlinks href=#hl-44-2> 2</a>
</span><span class=lnt id=hl-44-3><a class=lnlinks href=#hl-44-3> 3</a>
</span><span class=lnt id=hl-44-4><a class=lnlinks href=#hl-44-4> 4</a>
</span><span class=lnt id=hl-44-5><a class=lnlinks href=#hl-44-5> 5</a>
</span><span class=lnt id=hl-44-6><a class=lnlinks href=#hl-44-6> 6</a>
</span><span class=lnt id=hl-44-7><a class=lnlinks href=#hl-44-7> 7</a>
</span><span class=lnt id=hl-44-8><a class=lnlinks href=#hl-44-8> 8</a>
</span><span class=lnt id=hl-44-9><a class=lnlinks href=#hl-44-9> 9</a>
</span><span class=lnt id=hl-44-10><a class=lnlinks href=#hl-44-10>10</a>
</span><span class=lnt id=hl-44-11><a class=lnlinks href=#hl-44-11>11</a>
</span><span class=lnt id=hl-44-12><a class=lnlinks href=#hl-44-12>12</a>
</span><span class=lnt id=hl-44-13><a class=lnlinks href=#hl-44-13>13</a>
</span><span class=lnt id=hl-44-14><a class=lnlinks href=#hl-44-14>14</a>
</span><span class=lnt id=hl-44-15><a class=lnlinks href=#hl-44-15>15</a>
</span><span class=lnt id=hl-44-16><a class=lnlinks href=#hl-44-16>16</a>
</span><span class=lnt id=hl-44-17><a class=lnlinks href=#hl-44-17>17</a>
</span><span class=lnt id=hl-44-18><a class=lnlinks href=#hl-44-18>18</a>
</span><span class=lnt id=hl-44-19><a class=lnlinks href=#hl-44-19>19</a>
</span><span class=lnt id=hl-44-20><a class=lnlinks href=#hl-44-20>20</a>
</span><span class=lnt id=hl-44-21><a class=lnlinks href=#hl-44-21>21</a>
</span><span class=lnt id=hl-44-22><a class=lnlinks href=#hl-44-22>22</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;3&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>services</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>nginx</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>nginx:stable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>container_name</span><span class=p>:</span><span class=w> </span><span class=l>nginx-proxy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;80:80&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;443:443&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>volumes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>./nginx.conf:/etc/nginx/nginx.conf:ro</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>./conf.d:/etc/nginx/conf.d:ro</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>./certs:/etc/nginx/certs:ro</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>./html:/usr/share/nginx/html:ro</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>depends_on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>backend</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>httpd</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>container_name</span><span class=p>:</span><span class=w> </span><span class=l>backend-server</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;8080:80&#34;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=confddefaultconf>conf.d/default.conf<a hidden class=anchor aria-hidden=true href=#confddefaultconf>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-45-1><a class=lnlinks href=#hl-45-1> 1</a>
</span><span class=lnt id=hl-45-2><a class=lnlinks href=#hl-45-2> 2</a>
</span><span class=lnt id=hl-45-3><a class=lnlinks href=#hl-45-3> 3</a>
</span><span class=lnt id=hl-45-4><a class=lnlinks href=#hl-45-4> 4</a>
</span><span class=lnt id=hl-45-5><a class=lnlinks href=#hl-45-5> 5</a>
</span><span class=lnt id=hl-45-6><a class=lnlinks href=#hl-45-6> 6</a>
</span><span class=lnt id=hl-45-7><a class=lnlinks href=#hl-45-7> 7</a>
</span><span class=lnt id=hl-45-8><a class=lnlinks href=#hl-45-8> 8</a>
</span><span class=lnt id=hl-45-9><a class=lnlinks href=#hl-45-9> 9</a>
</span><span class=lnt id=hl-45-10><a class=lnlinks href=#hl-45-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kn>listen</span> <span class=mi>80</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kn>server_name</span> <span class=s>localhost</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>proxy_pass</span> <span class=s>http://backend:80</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>proxy_set_header</span> <span class=s>Host</span> <span class=nv>$host</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>proxy_set_header</span> <span class=s>X-Real-IP</span> <span class=nv>$remote_addr</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=-12-성능-모니터링-및-운영-도구>🔁 12. 성능 모니터링 및 운영 도구<a hidden class=anchor aria-hidden=true href=#-12-성능-모니터링-및-운영-도구>#</a></h2><table><thead><tr><th>도구</th><th>목적</th><th>설명</th></tr></thead><tbody><tr><td><code>nginx -t</code></td><td>설정 검증</td><td>구성 오류 사전 검출 가능</td></tr><tr><td>NGINX Amplify</td><td>SaaS 모니터링 도구</td><td>대시보드, 설정 제안, 메트릭 수집</td></tr><tr><td>Prometheus + Grafana</td><td>성능 시각화</td><td>exporter 를 통해 HTTP 요청, 상태코드, connection 수 시각화</td></tr><tr><td><code>stub_status</code> 모듈</td><td>경량 상태 노출</td><td>연결 수, 수신/응답 수 실시간 추적</td></tr><tr><td>Datadog NGINX 통합</td><td>APM 연동</td><td>백엔드 latency 추적, path 단위 분석</td></tr></tbody></table><h3 id=예시-stub_status-설정>예시: stub_status 설정<a hidden class=anchor aria-hidden=true href=#예시-stub_status-설정>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-46-1><a class=lnlinks href=#hl-46-1>1</a>
</span><span class=lnt id=hl-46-2><a class=lnlinks href=#hl-46-2>2</a>
</span><span class=lnt id=hl-46-3><a class=lnlinks href=#hl-46-3>3</a>
</span><span class=lnt id=hl-46-4><a class=lnlinks href=#hl-46-4>4</a>
</span><span class=lnt id=hl-46-5><a class=lnlinks href=#hl-46-5>5</a>
</span><span class=lnt id=hl-46-6><a class=lnlinks href=#hl-46-6>6</a>
</span><span class=lnt id=hl-46-7><a class=lnlinks href=#hl-46-7>7</a>
</span><span class=lnt id=hl-46-8><a class=lnlinks href=#hl-46-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kn>listen</span> <span class=mi>8080</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kn>location</span> <span class=s>/nginx_status</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>stub_status</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>allow</span> <span class=n>127.0.0.1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>deny</span> <span class=s>all</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=-13-벤치마킹-및-부하-테스트-도구>📈 13. 벤치마킹 및 부하 테스트 도구<a hidden class=anchor aria-hidden=true href=#-13-벤치마킹-및-부하-테스트-도구>#</a></h2><table><thead><tr><th>도구</th><th>목적</th><th>설명</th></tr></thead><tbody><tr><td>wrk</td><td>고성능 부하 생성기</td><td>multi-threaded, multi-core 부하 테스트 가능</td></tr><tr><td>ab (Apache Bench)</td><td>간단한 HTTP 벤치마크</td><td>동시 요청 수 조정 가능</td></tr><tr><td>vegeta</td><td>레이트 기반 부하 도구</td><td>JSON 기반 스크립팅, 시각화 가능</td></tr><tr><td>k6</td><td>개발자 친화 부하테스트</td><td>JS 기반, CI 통합 쉬움</td></tr></tbody></table><h3 id=wrk-예시>Wrk 예시<a hidden class=anchor aria-hidden=true href=#wrk-예시>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-47-1><a class=lnlinks href=#hl-47-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>wrk -t4 -c400 -d30s http://localhost/
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=-14-helm-기반-kubernetes-배포-예시>🧩 14. Helm 기반 Kubernetes 배포 예시<a hidden class=anchor aria-hidden=true href=#-14-helm-기반-kubernetes-배포-예시>#</a></h2><h3 id=helm-chart-설치>Helm Chart 설치<a hidden class=anchor aria-hidden=true href=#helm-chart-설치>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-48-1><a class=lnlinks href=#hl-48-1>1</a>
</span><span class=lnt id=hl-48-2><a class=lnlinks href=#hl-48-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx
</span></span><span class=line><span class=cl>helm install nginx ingress-nginx/ingress-nginx
</span></span></code></pre></td></tr></table></div></div><h3 id=custom-valuesyaml-예시>Custom values.yaml 예시<a hidden class=anchor aria-hidden=true href=#custom-valuesyaml-예시>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-49-1><a class=lnlinks href=#hl-49-1> 1</a>
</span><span class=lnt id=hl-49-2><a class=lnlinks href=#hl-49-2> 2</a>
</span><span class=lnt id=hl-49-3><a class=lnlinks href=#hl-49-3> 3</a>
</span><span class=lnt id=hl-49-4><a class=lnlinks href=#hl-49-4> 4</a>
</span><span class=lnt id=hl-49-5><a class=lnlinks href=#hl-49-5> 5</a>
</span><span class=lnt id=hl-49-6><a class=lnlinks href=#hl-49-6> 6</a>
</span><span class=lnt id=hl-49-7><a class=lnlinks href=#hl-49-7> 7</a>
</span><span class=lnt id=hl-49-8><a class=lnlinks href=#hl-49-8> 8</a>
</span><span class=lnt id=hl-49-9><a class=lnlinks href=#hl-49-9> 9</a>
</span><span class=lnt id=hl-49-10><a class=lnlinks href=#hl-49-10>10</a>
</span><span class=lnt id=hl-49-11><a class=lnlinks href=#hl-49-11>11</a>
</span><span class=lnt id=hl-49-12><a class=lnlinks href=#hl-49-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>controller</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>replicaCount</span><span class=p>:</span><span class=w> </span><span class=m>2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>metrics</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serviceMonitor</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>config</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>proxy-body-size</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;4m&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enable-vts-status</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>LoadBalancer</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>externalTrafficPolicy</span><span class=p>:</span><span class=w> </span><span class=l>Local</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h2 id=-15-추천-학습-자료-및-공식-가이드>🧠 15. 추천 학습 자료 및 공식 가이드<a hidden class=anchor aria-hidden=true href=#-15-추천-학습-자료-및-공식-가이드>#</a></h2><table><thead><tr><th>목적</th><th>자료</th><th>링크</th></tr></thead><tbody><tr><td>공식문서</td><td>NGINX Configuration Guide</td><td><a href=https://nginx.org/en/docs/>nginx.org</a></td></tr><tr><td>Kubernetes</td><td>Ingress Controller 설명</td><td><a href=https://kubernetes.io/docs/concepts/services-networking/ingress-controllers/>kubernetes.io</a></td></tr><tr><td>고급 성능</td><td>Performance Tuning with NGINX</td><td><a href="https://blog.nginx.org/blog/tag/performance/?utm_source=chatgpt.com">blog.nginx.org</a></td></tr><tr><td>보안</td><td>TLS & Hardening 설정 가이드</td><td><a href=https://infosec.mozilla.org/guidelines/web_security#https>infosec.mozilla.org</a></td></tr><tr><td>모니터링</td><td>Prometheus Exporter 설정</td><td><a href=https://github.com/nginxinc/nginx-prometheus-exporter>github.com/nginxinc/nginx-prometheus-exporter</a></td></tr></tbody></table><hr><h2 id=-정리>✅ 정리<a hidden class=anchor aria-hidden=true href=#-정리>#</a></h2><ul><li><strong>Nginx 는 단순한 웹 서버 이상의 기능을 제공하며</strong>, 리버스 프록시, 로드밸런서, TLS 종료, 캐시 등 복합적인 트래픽 제어 역할을 수행합니다.</li><li><strong>Kubernetes 와 결합할 경우</strong>, Ingress Controller 형태로 API Gateway 역할까지 확장되며, Helm, Prometheus, k6 등과 통합할 수 있습니다.</li><li>실무에서는 <strong>구성 오류, 보안 취약점, 성능 병목</strong> 등을 예방하기 위해 자동화된 CI/CD 및 모니터링 환경 구축이 매우 중요합니다.</li></ul><hr><p>다음은 요청하신 세 가지 주제에 대해 <strong>구성 예제</strong>, <strong>차이점 분석</strong>, <strong>자동화 구성</strong>, <strong>IaC 예시</strong> 등을 정리한 내용입니다.</p><hr><h2 id=1-nginx--grpc--http3-구성-예제-및-차이점-분석>1. NGINX + gRPC + HTTP/3 구성 예제 및 차이점 분석<a hidden class=anchor aria-hidden=true href=#1-nginx--grpc--http3-구성-예제-및-차이점-분석>#</a></h2><h3 id=-구성-및-예제>🧩 구성 및 예제<a hidden class=anchor aria-hidden=true href=#-구성-및-예제>#</a></h3><h4 id=grpc-리버스-프록시-설정-http2-기반>gRPC 리버스 프록시 설정 (HTTP/2 기반)<a hidden class=anchor aria-hidden=true href=#grpc-리버스-프록시-설정-http2-기반>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-50-1><a class=lnlinks href=#hl-50-1> 1</a>
</span><span class=lnt id=hl-50-2><a class=lnlinks href=#hl-50-2> 2</a>
</span><span class=lnt id=hl-50-3><a class=lnlinks href=#hl-50-3> 3</a>
</span><span class=lnt id=hl-50-4><a class=lnlinks href=#hl-50-4> 4</a>
</span><span class=lnt id=hl-50-5><a class=lnlinks href=#hl-50-5> 5</a>
</span><span class=lnt id=hl-50-6><a class=lnlinks href=#hl-50-6> 6</a>
</span><span class=lnt id=hl-50-7><a class=lnlinks href=#hl-50-7> 7</a>
</span><span class=lnt id=hl-50-8><a class=lnlinks href=#hl-50-8> 8</a>
</span><span class=lnt id=hl-50-9><a class=lnlinks href=#hl-50-9> 9</a>
</span><span class=lnt id=hl-50-10><a class=lnlinks href=#hl-50-10>10</a>
</span><span class=lnt id=hl-50-11><a class=lnlinks href=#hl-50-11>11</a>
</span><span class=lnt id=hl-50-12><a class=lnlinks href=#hl-50-12>12</a>
</span><span class=lnt id=hl-50-13><a class=lnlinks href=#hl-50-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>http</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kn>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>listen</span> <span class=mi>443</span> <span class=s>ssl</span> <span class=s>http2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>ssl_certificate</span> <span class=s>/etc/letsencrypt/live/example.com/fullchain.pem</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>ssl_certificate_key</span> <span class=s>/etc/letsencrypt/live/example.com/privkey.pem</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kn>grpc_pass</span> <span class=s>grpcs://localhost:50051</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=kn>grpc_ssl_protocols</span> <span class=s>TLSv1.2</span> <span class=s>TLSv1.3</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=kn>grpc_set_header</span> <span class=s>Host</span> <span class=nv>$host</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>–<code>grpc_pass</code> 는 백엔드 gRPC 서버로 요청을 전달하며, HTTP/2 기반 전송이 필요합니다 (<a href="https://nginx.org/en/security_advisories.html?utm_source=chatgpt.com" title="nginx security advisories">nginx.org</a>).</p><h4 id=http3--quic-설정-nginx--125-실험-기능>HTTP/3 + QUIC 설정 (NGINX ≥ 1.25, 실험 기능)<a hidden class=anchor aria-hidden=true href=#http3--quic-설정-nginx--125-실험-기능>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-51-1><a class=lnlinks href=#hl-51-1> 1</a>
</span><span class=lnt id=hl-51-2><a class=lnlinks href=#hl-51-2> 2</a>
</span><span class=lnt id=hl-51-3><a class=lnlinks href=#hl-51-3> 3</a>
</span><span class=lnt id=hl-51-4><a class=lnlinks href=#hl-51-4> 4</a>
</span><span class=lnt id=hl-51-5><a class=lnlinks href=#hl-51-5> 5</a>
</span><span class=lnt id=hl-51-6><a class=lnlinks href=#hl-51-6> 6</a>
</span><span class=lnt id=hl-51-7><a class=lnlinks href=#hl-51-7> 7</a>
</span><span class=lnt id=hl-51-8><a class=lnlinks href=#hl-51-8> 8</a>
</span><span class=lnt id=hl-51-9><a class=lnlinks href=#hl-51-9> 9</a>
</span><span class=lnt id=hl-51-10><a class=lnlinks href=#hl-51-10>10</a>
</span><span class=lnt id=hl-51-11><a class=lnlinks href=#hl-51-11>11</a>
</span><span class=lnt id=hl-51-12><a class=lnlinks href=#hl-51-12>12</a>
</span><span class=lnt id=hl-51-13><a class=lnlinks href=#hl-51-13>13</a>
</span><span class=lnt id=hl-51-14><a class=lnlinks href=#hl-51-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kn>listen</span> <span class=mi>443</span> <span class=s>ssl</span> <span class=s>http2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kn>listen</span> <span class=s>[::]:443</span> <span class=s>ssl</span> <span class=s>http2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kn>listen</span> <span class=mi>443</span> <span class=s>quic</span> <span class=s>reuseport</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kn>listen</span> <span class=s>[::]:443</span> <span class=s>quic</span> <span class=s>reuseport</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kn>ssl_certificate</span> <span class=s>/.../fullchain.pem</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kn>ssl_certificate_key</span> <span class=s>/.../privkey.pem</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kn>ssl_protocols</span> <span class=s>TLSv1.3</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kn>ssl_quic</span> <span class=no>on</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kn>ssl_early_data</span> <span class=no>on</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kn>add_header</span> <span class=s>Alt-Svc</span> <span class=s>&#39;h3=&#34;:443&#34;</span><span class=p>;</span> <span class=kn>ma=86400&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>–UDP 기반 QUIC 을 통해 HTTP/3 를 제공하며, 초기 연결 지연 감소 및 multiplexing 성능 향상을 기대할 수 있습니다 (<a href="https://gorbe.io/posts/nginx/common-issues-and-misconfigurations/?utm_source=chatgpt.com" title="Nginx Common Issues and Misconfigurations - G RBE">catchpoint.com</a>).</p><h4 id=grpc-over-http3-구성-전략>gRPC over HTTP/3 구성 전략<a hidden class=anchor aria-hidden=true href=#grpc-over-http3-구성-전략>#</a></h4><ul><li>HTTP/3 는 UDP 이며 gRPC 기본은 HTTP/2/TCP 기반</li><li>NGINX 는 HTTP/3 수신 후 내부적으로 HTTP/2 로 변환하거나 기존 서비스로 전달 가능 (<a href="https://www.solo.io/topics/nginx/nginx-configuration?utm_source=chatgpt.com" title="NGINX Configuration: Directives, Examples, and 4 Mistakes to Avoid">Medium</a>, <a href="https://serverfault.com/questions/787919/optimal-value-for-nginx-worker-connections?utm_source=chatgpt.com" title="Optimal value for Nginx worker_connections - Server Fault">DEV Community</a>).</li></ul><hr><h3 id=-차이점-요약>📊 차이점 요약<a hidden class=anchor aria-hidden=true href=#-차이점-요약>#</a></h3><table><thead><tr><th>항목</th><th>gRPC (HTTP/2 via NGINX)</th><th>HTTP/3 (QUIC, UDP 기반)</th></tr></thead><tbody><tr><td>전송 프로토콜</td><td>HTTP/2 over TCP</td><td>HTTP/3 over QUIC (UDP)</td></tr><tr><td>고전적인 gRPC 지원</td><td>Direct via <code>grpc_pass</code> 모듈</td><td>NGINX 가 QUIC 를 HTTP/2 로 변환하거나 별도 핸들</td></tr><tr><td>TLS 연결 방식</td><td>TLS1.2/1.3 지원</td><td>TLS1.3 필수, SSL QUIC 설정 필요</td></tr><tr><td>성능 특성</td><td>안정된 지원, HTTP multiplex 지원</td><td>낮은 지연, 헤드 - 오브 - 라인 (Block) 없음</td></tr><tr><td>사용 시 고려사항</td><td>기본 기능, 오버헤드 낮음</td><td>실험 기능, 방화벽 UDP 포트 허용 필요</td></tr></tbody></table><hr><h2 id=2-nginx--lets-encrypt-인증서-자동화-certbot--ansible>2. NGINX + Let&rsquo;s Encrypt 인증서 자동화 (Certbot + Ansible)<a hidden class=anchor aria-hidden=true href=#2-nginx--lets-encrypt-인증서-자동화-certbot--ansible>#</a></h2><h3 id=-ansible-역할-예시-geerlingguycertbot>🔧 Ansible 역할 예시 (<code>geerlingguy.certbot</code>)<a hidden class=anchor aria-hidden=true href=#-ansible-역할-예시-geerlingguycertbot>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-52-1><a class=lnlinks href=#hl-52-1> 1</a>
</span><span class=lnt id=hl-52-2><a class=lnlinks href=#hl-52-2> 2</a>
</span><span class=lnt id=hl-52-3><a class=lnlinks href=#hl-52-3> 3</a>
</span><span class=lnt id=hl-52-4><a class=lnlinks href=#hl-52-4> 4</a>
</span><span class=lnt id=hl-52-5><a class=lnlinks href=#hl-52-5> 5</a>
</span><span class=lnt id=hl-52-6><a class=lnlinks href=#hl-52-6> 6</a>
</span><span class=lnt id=hl-52-7><a class=lnlinks href=#hl-52-7> 7</a>
</span><span class=lnt id=hl-52-8><a class=lnlinks href=#hl-52-8> 8</a>
</span><span class=lnt id=hl-52-9><a class=lnlinks href=#hl-52-9> 9</a>
</span><span class=lnt id=hl-52-10><a class=lnlinks href=#hl-52-10>10</a>
</span><span class=lnt id=hl-52-11><a class=lnlinks href=#hl-52-11>11</a>
</span><span class=lnt id=hl-52-12><a class=lnlinks href=#hl-52-12>12</a>
</span><span class=lnt id=hl-52-13><a class=lnlinks href=#hl-52-13>13</a>
</span><span class=lnt id=hl-52-14><a class=lnlinks href=#hl-52-14>14</a>
</span><span class=lnt id=hl-52-15><a class=lnlinks href=#hl-52-15>15</a>
</span><span class=lnt id=hl-52-16><a class=lnlinks href=#hl-52-16>16</a>
</span><span class=lnt id=hl-52-17><a class=lnlinks href=#hl-52-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl>- <span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class=l>webservers</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>become</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>roles</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>geerlingguy.certbot</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Obtain and install cert</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>certbot</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>domains</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;example.com&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>register</span><span class=p>:</span><span class=w> </span><span class=l>cert</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>nginx</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Reload NGINX</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ansible.builtin.service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class=l>reloaded</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>when</span><span class=p>:</span><span class=w> </span><span class=l>cert.changed</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>–<code>geerlingguy.certbot</code> 플레이북을 이용하면 Certbot 연동 및 NGINX 자동 구성까지 자동화할 수 있습니다 (<a href="https://www.solo.io/topics/nginx/kubernetes-ingress-controller?utm_source=chatgpt.com" title="Kubernetes Ingress Controller: A Practical Guide | Solo.io">F5, Inc.</a>, <a href="https://www.f5.com/company/blog/nginx/nginx-plus-ingress-controller-kubernetes-load-balancing?utm_source=chatgpt.com" title="NGINX and NGINX Plus Ingress Controllers for Kubernetes Load …">Server Fault</a>, <a href="https://en.wikipedia.org/wiki/Nginx?utm_source=chatgpt.com" title=Nginx>NGINX STORE</a>, <a href="https://www.youtube.com/watch?v=6caVlIWohH0&amp;utm_source=chatgpt.com" title="Life of a CVE with Ingress-Nginx - YouTube">catchpoint.com</a>, <a href="https://serverfault.com/questions/787919/optimal-value-for-nginx-worker-connections?utm_source=chatgpt.com" title="Optimal value for Nginx worker_connections - Server Fault">DEV Community</a>).</p><h3 id=-수동-설치--인증서-발급-예시>📝 수동 설치 + 인증서 발급 예시<a hidden class=anchor aria-hidden=true href=#-수동-설치--인증서-발급-예시>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-53-1><a class=lnlinks href=#hl-53-1>1</a>
</span><span class=lnt id=hl-53-2><a class=lnlinks href=#hl-53-2>2</a>
</span><span class=lnt id=hl-53-3><a class=lnlinks href=#hl-53-3>3</a>
</span><span class=lnt id=hl-53-4><a class=lnlinks href=#hl-53-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt install certbot python3-certbot-nginx
</span></span><span class=line><span class=cl>sudo certbot --nginx -d example.com -d www.example.com
</span></span><span class=line><span class=cl>crontab:
</span></span><span class=line><span class=cl><span class=m>0</span> <span class=m>3</span> * * * certbot renew --quiet --deploy-hook <span class=s2>&#34;nginx -s reload&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>–Certbot 은 웹루트 또는 nginx 플러그인을 통해 자동 구성 지원, 서버 블록을 생성한 후 인증서 발급하면 자동으로 SSL 설정 프록시 포함됨 (<a href="https://www.solo.io/topics/nginx/nginx-kubernetes?utm_source=chatgpt.com" title="NGINX Kubernetes Ingress Controller - Solo.io">Velog</a>).</p><hr><h2 id=3-terraform-및-ansible-기반-nginx-인프라-iac-예시>3. Terraform 및 Ansible 기반 NGINX 인프라 IaC 예시<a hidden class=anchor aria-hidden=true href=#3-terraform-및-ansible-기반-nginx-인프라-iac-예시>#</a></h2><h3 id=-terraform-예시-aws-ec2--security-group--nginx-설치>🛠️ Terraform 예시 (AWS EC2 + Security Group + NGINX 설치)<a hidden class=anchor aria-hidden=true href=#-terraform-예시-aws-ec2--security-group--nginx-설치>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-54-1><a class=lnlinks href=#hl-54-1> 1</a>
</span><span class=lnt id=hl-54-2><a class=lnlinks href=#hl-54-2> 2</a>
</span><span class=lnt id=hl-54-3><a class=lnlinks href=#hl-54-3> 3</a>
</span><span class=lnt id=hl-54-4><a class=lnlinks href=#hl-54-4> 4</a>
</span><span class=lnt id=hl-54-5><a class=lnlinks href=#hl-54-5> 5</a>
</span><span class=lnt id=hl-54-6><a class=lnlinks href=#hl-54-6> 6</a>
</span><span class=lnt id=hl-54-7><a class=lnlinks href=#hl-54-7> 7</a>
</span><span class=lnt id=hl-54-8><a class=lnlinks href=#hl-54-8> 8</a>
</span><span class=lnt id=hl-54-9><a class=lnlinks href=#hl-54-9> 9</a>
</span><span class=lnt id=hl-54-10><a class=lnlinks href=#hl-54-10>10</a>
</span><span class=lnt id=hl-54-11><a class=lnlinks href=#hl-54-11>11</a>
</span><span class=lnt id=hl-54-12><a class=lnlinks href=#hl-54-12>12</a>
</span><span class=lnt id=hl-54-13><a class=lnlinks href=#hl-54-13>13</a>
</span><span class=lnt id=hl-54-14><a class=lnlinks href=#hl-54-14>14</a>
</span><span class=lnt id=hl-54-15><a class=lnlinks href=#hl-54-15>15</a>
</span><span class=lnt id=hl-54-16><a class=lnlinks href=#hl-54-16>16</a>
</span><span class=lnt id=hl-54-17><a class=lnlinks href=#hl-54-17>17</a>
</span><span class=lnt id=hl-54-18><a class=lnlinks href=#hl-54-18>18</a>
</span><span class=lnt id=hl-54-19><a class=lnlinks href=#hl-54-19>19</a>
</span><span class=lnt id=hl-54-20><a class=lnlinks href=#hl-54-20>20</a>
</span><span class=lnt id=hl-54-21><a class=lnlinks href=#hl-54-21>21</a>
</span><span class=lnt id=hl-54-22><a class=lnlinks href=#hl-54-22>22</a>
</span><span class=lnt id=hl-54-23><a class=lnlinks href=#hl-54-23>23</a>
</span><span class=lnt id=hl-54-24><a class=lnlinks href=#hl-54-24>24</a>
</span><span class=lnt id=hl-54-25><a class=lnlinks href=#hl-54-25>25</a>
</span><span class=lnt id=hl-54-26><a class=lnlinks href=#hl-54-26>26</a>
</span><span class=lnt id=hl-54-27><a class=lnlinks href=#hl-54-27>27</a>
</span><span class=lnt id=hl-54-28><a class=lnlinks href=#hl-54-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_instance&#34; &#34;nginx&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  ami</span>           <span class=o>=</span> <span class=s2>&#34;ami-...&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  instance_type</span> <span class=o>=</span> <span class=s2>&#34;t3.micro&#34;</span>
</span></span><span class=line><span class=cl><span class=n>  user_data</span>     <span class=o>=</span> <span class=k>file</span><span class=p>(</span><span class=s2>&#34;${path.module}/install_nginx.sh&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>  tags</span> <span class=o>=</span> {
</span></span><span class=line><span class=cl><span class=n>    Name</span> <span class=o>=</span> <span class=s2>&#34;nginx-proxy&#34;</span>
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>resource</span> <span class=s2>&#34;aws_security_group&#34; &#34;nginx_sg&#34;</span> {
</span></span><span class=line><span class=cl><span class=n>  name</span> <span class=o>=</span> <span class=s2>&#34;nginx_sg&#34;</span>
</span></span><span class=line><span class=cl>  <span class=k>ingress</span> {
</span></span><span class=line><span class=cl><span class=n>    from_port</span>   <span class=o>=</span> <span class=m>80</span>
</span></span><span class=line><span class=cl><span class=n>    to_port</span>     <span class=o>=</span> <span class=m>80</span>
</span></span><span class=line><span class=cl><span class=n>    protocol</span>    <span class=o>=</span> <span class=s2>&#34;tcp&#34;</span>
</span></span><span class=line><span class=cl><span class=n>    cidr_blocks</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;0.0.0.0/0&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>  <span class=k>ingress</span> {
</span></span><span class=line><span class=cl><span class=n>    from_port</span>   <span class=o>=</span> <span class=m>443</span>
</span></span><span class=line><span class=cl><span class=n>    to_port</span>     <span class=o>=</span> <span class=m>443</span>
</span></span><span class=line><span class=cl><span class=n>    protocol</span>    <span class=o>=</span> <span class=s2>&#34;tcp&#34;</span>
</span></span><span class=line><span class=cl><span class=n>    cidr_blocks</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;0.0.0.0/0&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl><span class=n>  tags</span> <span class=o>=</span> {
</span></span><span class=line><span class=cl><span class=n>    Name</span> <span class=o>=</span> <span class=s2>&#34;nginx-sg&#34;</span>
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><p><code>install_nginx.sh</code> 예시:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-55-1><a class=lnlinks href=#hl-55-1>1</a>
</span><span class=lnt id=hl-55-2><a class=lnlinks href=#hl-55-2>2</a>
</span><span class=lnt id=hl-55-3><a class=lnlinks href=#hl-55-3>3</a>
</span><span class=lnt id=hl-55-4><a class=lnlinks href=#hl-55-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>apt update
</span></span><span class=line><span class=cl>apt install -y nginx certbot python3-certbot-nginx
</span></span><span class=line><span class=cl>certbot --nginx -d <span class=s2>&#34;</span><span class=si>${</span><span class=nv>nginx_domain</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=-ansible-플레인북-terraform-후-구성>🔄 Ansible 플레인북 (Terraform 후 구성)<a hidden class=anchor aria-hidden=true href=#-ansible-플레인북-terraform-후-구성>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-56-1><a class=lnlinks href=#hl-56-1> 1</a>
</span><span class=lnt id=hl-56-2><a class=lnlinks href=#hl-56-2> 2</a>
</span><span class=lnt id=hl-56-3><a class=lnlinks href=#hl-56-3> 3</a>
</span><span class=lnt id=hl-56-4><a class=lnlinks href=#hl-56-4> 4</a>
</span><span class=lnt id=hl-56-5><a class=lnlinks href=#hl-56-5> 5</a>
</span><span class=lnt id=hl-56-6><a class=lnlinks href=#hl-56-6> 6</a>
</span><span class=lnt id=hl-56-7><a class=lnlinks href=#hl-56-7> 7</a>
</span><span class=lnt id=hl-56-8><a class=lnlinks href=#hl-56-8> 8</a>
</span><span class=lnt id=hl-56-9><a class=lnlinks href=#hl-56-9> 9</a>
</span><span class=lnt id=hl-56-10><a class=lnlinks href=#hl-56-10>10</a>
</span><span class=lnt id=hl-56-11><a class=lnlinks href=#hl-56-11>11</a>
</span><span class=lnt id=hl-56-12><a class=lnlinks href=#hl-56-12>12</a>
</span><span class=lnt id=hl-56-13><a class=lnlinks href=#hl-56-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl>- <span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class=l>nginx_servers</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>become</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>vars</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>domains</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;example.com&#34;</span><span class=p>,</span><span class=s2>&#34;www.example.com&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>roles</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>role</span><span class=p>:</span><span class=w> </span><span class=l>geerlingguy.nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>role</span><span class=p>:</span><span class=w> </span><span class=l>geerlingguy.certbot</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>tasks</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Ensure NGINX is started</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class=l>started</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>–Terraform 으로 인스턴스와 네트워크를 프로비저닝한 후, Ansible 로 NGINX 설치 및 Certbot 자동화까지 연계 가능 (<a href="https://serverfault.com/questions/787919/optimal-value-for-nginx-worker-connections?utm_source=chatgpt.com" title="Optimal value for Nginx worker_connections - Server Fault">DEV Community</a>, <a href="https://www.f5.com/company/blog/nginx/avoiding-top-10-nginx-configuration-mistakes?utm_source=chatgpt.com" title="Avoiding the Top 10 NGINX Configuration Mistakes - F5 Networks">TWpower&rsquo;s Tech Blog</a>).</p><hr><h2 id=-요약-정리>✅ 요약 정리<a hidden class=anchor aria-hidden=true href=#-요약-정리>#</a></h2><ul><li><strong>gRPC + HTTP/3 구성</strong>: HTTP/2 기반 <code>grpc_pass</code> 설정과 HTTP/3(QUIC) 수신을 병행할 수 있으며, 핸드오프 구조에 따라 구성 방식이 달라집니다.</li><li><strong>Let&rsquo;s Encrypt 자동화</strong>: <code>geerlingguy.certbot</code> Ansible 역할이 NGINX 연계 자동 SSL 설정을 간편하게 지원.</li><li><strong>IaC (Terraform + Ansible)</strong>: 인프라부터 인증서 발급, NGINX 설정까지 통합 워크플로우로 구성 가능.</li></ul><p>필요하시면 코드 주석 설명, 보안 강화 추가 옵션, CI/CD 연동 예시까지 제공 가능합니다. 원하는 항목을 말씀해 주세요!</p></div></main><script type=module>
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
  </script><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>