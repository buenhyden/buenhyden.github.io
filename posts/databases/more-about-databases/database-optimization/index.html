<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>데이터베이스 최적화 (Database Optimization) | hyunyoun's Blog</title>
<meta name=keywords content="Backend,Database-Systems,Database-Optimization"><meta name=description content="데이터베이스 시스템의 성능을 향상시키고 효율성을 높이기 위한 다양한 기법과 프로세스를 의미한다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/databases/more-about-databases/database-optimization/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.9a2bbe2d8b5afa9d4df22976abb7b72f1f7f1c467d2b30f03090108f9496ae6c.css integrity="sha256-miu+LYta+p1N8il2q7e3Lx9/HEZ9KzDwMJAQj5SWrmw=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/databases/more-about-databases/database-optimization/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/databases/more-about-databases/database-optimization/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="데이터베이스 최적화 (Database Optimization)"><meta property="og:description" content="데이터베이스 시스템의 성능을 향상시키고 효율성을 높이기 위한 다양한 기법과 프로세스를 의미한다."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-10-22T06:12:00+00:00"><meta property="article:modified_time" content="2024-10-22T06:12:00+00:00"><meta property="article:tag" content="Backend"><meta property="article:tag" content="Database-Systems"><meta property="article:tag" content="Database-Optimization"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="데이터베이스 최적화 (Database Optimization)"><meta name=twitter:description content="데이터베이스 시스템의 성능을 향상시키고 효율성을 높이기 위한 다양한 기법과 프로세스를 의미한다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"posts","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"데이터베이스 (Database)","item":"https://buenhyden.github.io/posts/databases/"},{"@type":"ListItem","position":3,"name":"데이터베이스 최적화 (Database Optimization)","item":"https://buenhyden.github.io/posts/databases/more-about-databases/database-optimization/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"데이터베이스 최적화 (Database Optimization)","name":"데이터베이스 최적화 (Database Optimization)","description":"데이터베이스 시스템의 성능을 향상시키고 효율성을 높이기 위한 다양한 기법과 프로세스를 의미한다.","keywords":["Backend","Database-Systems","Database-Optimization"],"articleBody":"데이터베이스 최적화 (Database Optimization) 데이터베이스 최적화(Database Optimization)는 데이터베이스 시스템의 성능을 향상시키고 효율성을 높이기 위한 다양한 기법과 프로세스를 의미한다.\n데이터베이스 최적화의 목적 쿼리 응답 시간 단축 시스템 자원 사용 효율성 증대 데이터베이스의 전반적인 성능 향상 사용자 경험 개선 주요 최적화 기법 인덱스 최적화 적절한 인덱스 생성으로 데이터 검색 속도 향상 자주 사용되는 컬럼에 인덱스 적용 불필요한 인덱스 제거로 오버헤드 감소 1 2 3 4 5 -- 카디널리티가 높은 컬럼에 인덱스 생성 CREATE INDEX idx_orders_customer_date ON orders(customer_id, order_date); -- 조건절에 자주 사용되는 컬럼 조합에 대한 인덱스 CREATE INDEX idx_products_category_price ON products(category_id, price); 불필요한 인덱스 제거도 중요하다.\n1 2 3 4 5 6 7 -- 사용되지 않는 인덱스 식별 SELECT index_name, index_size, last_used FROM index_statistics WHERE last_used \u003c DATEADD(month, -3, GETDATE()); -- 불필요한 인덱스 제거 DROP INDEX idx_unused ON table_name; 쿼리 최적화 효율적인 SQL 쿼리 작성 실행 계획 분석을 통한 쿼리 성능 개선 불필요한 조인 및 서브쿼리 최소화 실행 계획 분석과 최적화:\n1 2 3 4 5 6 7 -- 실행 계획 확인 EXPLAIN ANALYZE SELECT c.customer_name, SUM(o.total_amount) FROM customers c JOIN orders o ON c.id = o.customer_id WHERE o.order_date \u003e= '2024-01-01' GROUP BY c.id; 이 쿼리의 실행 계획을 분석하면, 테이블 스캔이나 비효율적인 조인이 발생하는지 확인할 수 있다.\n문제가 발견되면 다음과 같이 개선할 수 있다:\n1 2 3 4 5 6 7 8 -- 최적화된 쿼리 SELECT /*+ INDEX(orders idx_order_date) */ c.customer_name, SUM(o.total_amount) FROM customers c JOIN orders o ON c.id = o.customer_id WHERE o.order_date \u003e= '2024-01-01' GROUP BY c.id, c.customer_name; 스키마 설계 최적화 정규화를 통한 데이터 중복 최소화 적절한 데이터 타입 선택 효율적인 테이블 구조 설계 캐싱 활용 자주 사용되는 데이터를 메모리에 저장 데이터베이스 부하 감소 및 응답 시간 단축 파티셔닝 대용량 테이블을 smaller, more manageable 단위로 분할 쿼리 성능 향상 및 관리 용이성 증대 메모리 및 캐시 관리 버퍼 풀 크기 조정 쿼리 결과 캐싱 메모리 사용량 모니터링 및 최적화 버퍼 풀 크기 조정:\n1 2 3 4 5 -- MySQL의 경우 SET GLOBAL innodb_buffer_pool_size = 4294967296; -- 4GB -- 버퍼 풀 모니터링 SHOW ENGINE INNODB STATUS; 쿼리 캐시 설정:\n1 2 3 4 5 -- 쿼리 캐시 크기 설정 SET GLOBAL query_cache_size = 268435456; -- 256MB -- 캐시 히트율 모니터링 SHOW STATUS LIKE 'Qcache%'; I/O 최적화 디스크 I/O 최소화 RAID 구성 최적화 저장 장치 선택 (예: SSD 활용) 파일 시스템 최적화:\n1 2 # 데이터베이스 파일 시스템 최적화 mount -o noatime,barrier=0 /dev/sda1 /database RAID 구성 최적화:\n1 2 # RAID 설정 예시 mdadm --create /dev/md0 --level=10 --raid-devices=4 /dev/sd[abcd]1 병렬 처리 활용 쿼리의 병렬 실행 구현 다중 CPU 활용 최적화 통계 정보 관리 데이터베이스 통계 정보 주기적 업데이트 옵티마이저 힌트 활용 1 2 3 4 5 6 -- 통계 정보 업데이트 ANALYZE TABLE customers; ANALYZE TABLE orders; -- 통계 정보 확인 SHOW TABLE STATUS; 최적화 프로세스 성능 문제 식별 병목 지점 분석 최적화 전략 수립 최적화 기법 적용 성능 테스트 및 모니터링 결과 분석 및 추가 최적화 주의사항 과도한 인덱스 생성은 오히려 성능 저하를 초래할 수 있음 정규화와 비정규화 사이의 적절한 균형 필요 데이터베이스 크기와 복잡성에 따라 최적화 전략 조정 필요 참고 및 출처 ","wordCount":"493","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-10-22T06:12:00Z","dateModified":"2024-10-22T06:12:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/databases/more-about-databases/database-optimization/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>posts</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/databases/>데이터베이스 (Database)</a></div><h1 class="post-title entry-hint-parent">데이터베이스 최적화 (Database Optimization)</h1><div class=post-description>데이터베이스 시스템의 성능을 향상시키고 효율성을 높이기 위한 다양한 기법과 프로세스를 의미한다.</div><div class=post-meta><span title='2024-10-22 06:12:00 +0000 UTC'>October 22, 2024</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;493 words&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Databases/More%20about%20Databases/Database-Optimization.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#데이터베이스-최적화-database-optimization>데이터베이스 최적화 (Database Optimization)</a><ul><li><a href=#데이터베이스-최적화의-목적>데이터베이스 최적화의 목적</a></li><li><a href=#주요-최적화-기법>주요 최적화 기법</a></li><li><a href=#최적화-프로세스>최적화 프로세스</a></li><li><a href=#주의사항>주의사항</a></li></ul></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=데이터베이스-최적화-database-optimization>데이터베이스 최적화 (Database Optimization)<a hidden class=anchor aria-hidden=true href=#데이터베이스-최적화-database-optimization>#</a></h2><p>데이터베이스 최적화(Database Optimization)는 데이터베이스 시스템의 성능을 향상시키고 효율성을 높이기 위한 다양한 기법과 프로세스를 의미한다.</p><h3 id=데이터베이스-최적화의-목적>데이터베이스 최적화의 목적<a hidden class=anchor aria-hidden=true href=#데이터베이스-최적화의-목적>#</a></h3><ul><li>쿼리 응답 시간 단축</li><li>시스템 자원 사용 효율성 증대</li><li>데이터베이스의 전반적인 성능 향상</li><li>사용자 경험 개선</li></ul><h3 id=주요-최적화-기법>주요 최적화 기법<a hidden class=anchor aria-hidden=true href=#주요-최적화-기법>#</a></h3><h4 id=인덱스-최적화>인덱스 최적화<a hidden class=anchor aria-hidden=true href=#인덱스-최적화>#</a></h4><ul><li>적절한 인덱스 생성으로 데이터 검색 속도 향상</li><li>자주 사용되는 컬럼에 인덱스 적용</li><li>불필요한 인덱스 제거로 오버헤드 감소</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3>3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4>4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 카디널리티가 높은 컬럼에 인덱스 생성
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_orders_customer_date</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>orders</span><span class=p>(</span><span class=n>customer_id</span><span class=p>,</span><span class=w> </span><span class=n>order_date</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 조건절에 자주 사용되는 컬럼 조합에 대한 인덱스
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_products_category_price</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>products</span><span class=p>(</span><span class=n>category_id</span><span class=p>,</span><span class=w> </span><span class=n>price</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>불필요한 인덱스 제거도 중요하다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2>2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3>3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4>4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5>5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6>6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 사용되지 않는 인덱스 식별
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>index_name</span><span class=p>,</span><span class=w> </span><span class=n>index_size</span><span class=p>,</span><span class=w> </span><span class=n>last_used</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>index_statistics</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>last_used</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>DATEADD</span><span class=p>(</span><span class=k>month</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=n>GETDATE</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 불필요한 인덱스 제거
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>DROP</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_unused</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>table_name</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=쿼리-최적화>쿼리 최적화<a hidden class=anchor aria-hidden=true href=#쿼리-최적화>#</a></h4><ul><li>효율적인 SQL 쿼리 작성</li><li>실행 계획 분석을 통한 쿼리 성능 개선</li><li>불필요한 조인 및 서브쿼리 최소화</li></ul><p>실행 계획 분석과 최적화:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3>3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4>4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5>5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6>6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 실행 계획 확인
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>EXPLAIN</span><span class=w> </span><span class=k>ANALYZE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_name</span><span class=p>,</span><span class=w> </span><span class=k>SUM</span><span class=p>(</span><span class=n>o</span><span class=p>.</span><span class=n>total_amount</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>customers</span><span class=w> </span><span class=k>c</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>JOIN</span><span class=w> </span><span class=n>orders</span><span class=w> </span><span class=n>o</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>customer_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>order_date</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=s1>&#39;2024-01-01&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>id</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>이 쿼리의 실행 계획을 분석하면, 테이블 스캔이나 비효율적인 조인이 발생하는지 확인할 수 있다.<br>문제가 발견되면 다음과 같이 개선할 수 있다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2>2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3>3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4>4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5>5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6>6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7>7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 최적화된 쿼리
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=cm>/*+ INDEX(orders idx_order_date) */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>c</span><span class=p>.</span><span class=n>customer_name</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SUM</span><span class=p>(</span><span class=n>o</span><span class=p>.</span><span class=n>total_amount</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>customers</span><span class=w> </span><span class=k>c</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>JOIN</span><span class=w> </span><span class=n>orders</span><span class=w> </span><span class=n>o</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>customer_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>o</span><span class=p>.</span><span class=n>order_date</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=s1>&#39;2024-01-01&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>id</span><span class=p>,</span><span class=w> </span><span class=k>c</span><span class=p>.</span><span class=n>customer_name</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=스키마-설계-최적화>스키마 설계 최적화<a hidden class=anchor aria-hidden=true href=#스키마-설계-최적화>#</a></h4><ul><li>정규화를 통한 데이터 중복 최소화</li><li>적절한 데이터 타입 선택</li><li>효율적인 테이블 구조 설계</li></ul><h4 id=캐싱-활용>캐싱 활용<a hidden class=anchor aria-hidden=true href=#캐싱-활용>#</a></h4><ul><li>자주 사용되는 데이터를 메모리에 저장</li><li>데이터베이스 부하 감소 및 응답 시간 단축</li></ul><h4 id=파티셔닝>파티셔닝<a hidden class=anchor aria-hidden=true href=#파티셔닝>#</a></h4><ul><li>대용량 테이블을 smaller, more manageable 단위로 분할</li><li>쿼리 성능 향상 및 관리 용이성 증대</li></ul><h4 id=메모리-및-캐시-관리>메모리 및 캐시 관리<a hidden class=anchor aria-hidden=true href=#메모리-및-캐시-관리>#</a></h4><ul><li>버퍼 풀 크기 조정</li><li>쿼리 결과 캐싱</li><li>메모리 사용량 모니터링 및 최적화</li></ul><p>버퍼 풀 크기 조정:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2>2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3>3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4>4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- MySQL의 경우
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SET</span><span class=w> </span><span class=k>GLOBAL</span><span class=w> </span><span class=n>innodb_buffer_pool_size</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>4294967296</span><span class=p>;</span><span class=w> </span><span class=c1>-- 4GB
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 버퍼 풀 모니터링
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SHOW</span><span class=w> </span><span class=n>ENGINE</span><span class=w> </span><span class=n>INNODB</span><span class=w> </span><span class=n>STATUS</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>쿼리 캐시 설정:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2>2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3>3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4>4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 쿼리 캐시 크기 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SET</span><span class=w> </span><span class=k>GLOBAL</span><span class=w> </span><span class=n>query_cache_size</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>268435456</span><span class=p>;</span><span class=w> </span><span class=c1>-- 256MB
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 캐시 히트율 모니터링
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SHOW</span><span class=w> </span><span class=n>STATUS</span><span class=w> </span><span class=k>LIKE</span><span class=w> </span><span class=s1>&#39;Qcache%&#39;</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=io-최적화>I/O 최적화<a hidden class=anchor aria-hidden=true href=#io-최적화>#</a></h4><ul><li>디스크 I/O 최소화</li><li>RAID 구성 최적화</li><li>저장 장치 선택 (예: SSD 활용)</li></ul><p>파일 시스템 최적화:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1>1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 데이터베이스 파일 시스템 최적화</span>
</span></span><span class=line><span class=cl>mount -o noatime,barrier<span class=o>=</span><span class=m>0</span> /dev/sda1 /database
</span></span></code></pre></td></tr></table></div></div><p>RAID 구성 최적화:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># RAID 설정 예시</span>
</span></span><span class=line><span class=cl>mdadm --create /dev/md0 --level<span class=o>=</span><span class=m>10</span> --raid-devices<span class=o>=</span><span class=m>4</span> /dev/sd<span class=o>[</span>abcd<span class=o>]</span><span class=m>1</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=병렬-처리-활용>병렬 처리 활용<a hidden class=anchor aria-hidden=true href=#병렬-처리-활용>#</a></h4><ul><li>쿼리의 병렬 실행 구현</li><li>다중 CPU 활용 최적화</li></ul><h4 id=통계-정보-관리>통계 정보 관리<a hidden class=anchor aria-hidden=true href=#통계-정보-관리>#</a></h4><ul><li>데이터베이스 통계 정보 주기적 업데이트</li><li>옵티마이저 힌트 활용</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1>1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2>2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3>3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4>4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5>5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 통계 정보 업데이트
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>ANALYZE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>customers</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>ANALYZE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>orders</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 통계 정보 확인
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SHOW</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>STATUS</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=최적화-프로세스>최적화 프로세스<a hidden class=anchor aria-hidden=true href=#최적화-프로세스>#</a></h3><ol><li>성능 문제 식별</li><li>병목 지점 분석</li><li>최적화 전략 수립</li><li>최적화 기법 적용</li><li>성능 테스트 및 모니터링</li><li>결과 분석 및 추가 최적화</li></ol><h3 id=주의사항>주의사항<a hidden class=anchor aria-hidden=true href=#주의사항>#</a></h3><ul><li>과도한 인덱스 생성은 오히려 성능 저하를 초래할 수 있음</li><li>정규화와 비정규화 사이의 적절한 균형 필요</li><li>데이터베이스 크기와 복잡성에 따라 최적화 전략 조정 필요</li></ul><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/backend/>Backend</a></li><li><a href=https://buenhyden.github.io/tags/database-systems/>Database-Systems</a></li><li><a href=https://buenhyden.github.io/tags/database-optimization/>Database-Optimization</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/databases/rdbms/sql/indexes/query-optimization/><span class=title>« Prev</span><br><span>쿼리 최적화 (Query Optimization)</span>
</a><a class=next href=https://buenhyden.github.io/posts/databases/rdbms/singlestore/><span class=title>Next »</span><br><span>SingleStore</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>