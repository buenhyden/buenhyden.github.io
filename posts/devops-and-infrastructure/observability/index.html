<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Observability | hyunyoun's Blog</title>
<meta name=keywords content="DevOps-and-Infrastructure,Observability,Log,Metric,Trace"><meta name=description content="현대 소프트웨어 개발과 운영에서 필수적인 개념으로, 시스템의 외부 출력(메트릭, 로그, 트레이스 등)을 통해 내부 상태를 이해하고 모니터링하는 능력을 의미한다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/devops-and-infrastructure/observability/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.8762af4fa9ee176c57f72565b721f234162fc7a9c882a271e0a1f68c4e89fb34.css integrity="sha256-h2KvT6nuF2xX9yVltyHyNBYvx6nIgqJx4KH2jE6J+zQ=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/devops-and-infrastructure/observability/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/devops-and-infrastructure/observability/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/devops-and-infrastructure/observability/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Observability"><meta property="og:description" content="현대 소프트웨어 개발과 운영에서 필수적인 개념으로, 시스템의 외부 출력(메트릭, 로그, 트레이스 등)을 통해 내부 상태를 이해하고 모니터링하는 능력을 의미한다."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Observability"><meta name=twitter:description content="현대 소프트웨어 개발과 운영에서 필수적인 개념으로, 시스템의 외부 출력(메트릭, 로그, 트레이스 등)을 통해 내부 상태를 이해하고 모니터링하는 능력을 의미한다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Observability","item":"https://buenhyden.github.io/posts/devops-and-infrastructure/observability/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a></div><h1>Observability</h1><div class=post-description>현대 소프트웨어 개발과 운영에서 필수적인 개념으로, 시스템의 외부 출력(메트릭, 로그, 트레이스 등)을 통해 내부 상태를 이해하고 모니터링하는 능력을 의미한다.</div></header><div class=post-content><h2 id=observability>Observability<a hidden class=anchor aria-hidden=true href=#observability>#</a></h2><p><strong>Observability(관측 가능성)</strong> 은 현대 소프트웨어 개발과 운영에서 필수적인 개념으로, 시스템의 외부 출력 (메트릭, 로그, 트레이스 등) 을 통해 내부 상태를 이해하고 모니터링하는 능력을 의미한다. 이는 단순한 모니터링을 넘어, 복잡한 시스템의 성능을 분석하고 문제를 예측하며 해결할 수 있는 깊은 통찰력을 제공한다.</p><p>옵저버빌리티와 모니터링의 차이는 다음과 같다:</p><ul><li><strong>모니터링</strong>: 알고 있는 문제와 예상된 실패 모드를 추적한다.</li><li><strong>옵저버빌리티</strong>: 예상하지 못한 문제와 새로운 실패 모드를 발견하고 이해하는 데 중점을 둔다.</li></ul><h3 id=observability-의-필요성>Observability 의 필요성<a hidden class=anchor aria-hidden=true href=#observability-의-필요성>#</a></h3><p>현대 소프트웨어 시스템은 마이크로서비스 아키텍처와 클라우드 네이티브 환경으로 인해 점점 더 복잡해지고 있다.</p><p>이러한 환경에서 Observability 는 다음과 같은 이유로 필수적이다:</p><ul><li><strong>문제 예측 및 예방:</strong><ul><li>메트릭과 로그를 분석하여 이상 징후를 조기에 감지하고 문제 발생 전에 대응할 수 있다.</li></ul></li><li><strong>빠른 문제 해결:</strong><ul><li>트레이스를 통해 문제의 근본 원인을 신속히 파악하여 MTTR(Mean Time to Resolution) 을 단축한다.</li></ul></li><li><strong>시스템 신뢰성 향상:</strong><ul><li>지속적인 성능 모니터링과 자동화된 알림을 통해 다운타임을 줄이고 사용자 경험을 개선한다.</li></ul></li></ul><h3 id=옵저버빌리티의-세-가지-핵심-요소>옵저버빌리티의 세 가지 핵심 요소<a hidden class=anchor aria-hidden=true href=#옵저버빌리티의-세-가지-핵심-요소>#</a></h3><p>옵저버빌리티는 일반적으로 세 가지 주요 데이터 유형 (흔히 " 세 가지 기둥 " 이라고 불림) 을 중심으로 구축된다:</p><h4 id=메트릭-metrics>메트릭 (Metrics)<a hidden class=anchor aria-hidden=true href=#메트릭-metrics>#</a></h4><ul><li><strong>정의</strong>: 시간 경과에 따른 시스템의 수치적 측정값.</li><li><strong>특징</strong>: 집계하기 쉽고, 저장 공간이 적게 필요하며, 실시간 대시보드 및 알림에 적합하다.</li><li><strong>예시</strong>: CPU 사용률, 메모리 소비, 요청 처리 시간, 오류율 등</li><li><strong>도구</strong>: Prometheus, Grafana, AWS CloudWatch, Datadog</li></ul><p>메트릭은 다음과 같은 유형으로 분류될 수 있다:</p><ul><li><strong>카운터 (Counters)</strong>: 증가하기만 하는 누적 측정값 (예: 처리된 총 요청 수)</li><li><strong>게이지 (Gauges)</strong>: 시간에 따라 증가하거나 감소할 수 있는 값 (예: 현재 메모리 사용량)</li><li><strong>히스토그램 (Histograms)</strong>: 값의 분포를 측정 (예: 응답 시간의 분포)</li><li><strong>요약 (Summaries)</strong>: 히스토그램과 유사하지만 서버 측에서 계산된 백분위수 포함</li></ul><h4 id=로그-logs>로그 (Logs)<a hidden class=anchor aria-hidden=true href=#로그-logs>#</a></h4><ul><li><strong>정의</strong>: 시스템 이벤트의 시간순 기록.</li><li><strong>특징</strong>: 상세한 컨텍스트 정보를 제공하며, 문제 진단에 필수적이다.</li><li><strong>유형</strong>: 구조화된 로그 (JSON 형식), 비구조화된 로그 (텍스트 파일)</li><li><strong>도구</strong>: ELK Stack(Elasticsearch, Logstash, Kibana), Splunk, Datadog, AWS CloudWatch Logs</li></ul><p>효과적인 로깅을 위한 핵심 사항:</p><ul><li>구조화된 로그 형식 사용 (JSON 등)</li><li>일관된 로그 레벨 적용 (DEBUG, INFO, WARN, ERROR, FATAL)</li><li>상관관계 ID 포함 (트랜잭션 또는 요청 ID)</li><li>민감한 정보 제외</li></ul><h4 id=트레이스-traces>트레이스 (Traces)<a hidden class=anchor aria-hidden=true href=#트레이스-traces>#</a></h4><ul><li><strong>정의</strong>: 분산 시스템을 통과하는 요청의 전체 경로를 추적한다.</li><li><strong>특징</strong>: 여러 서비스와 시스템에 걸친 요청 흐름을 시각화한다.</li><li><strong>구성요소</strong>: 스팬 (span - 작업의 단위), 트레이스 ID, 스팬 ID, 부모 스팬 ID</li><li><strong>도구</strong>: Jaeger, Zipkin, AWS X-Ray, Datadog APM, New Relic</li></ul><p>분산 트레이싱의 주요 이점:</p><ul><li>서비스 간 통신의 병목 현상 식별</li><li>오류가 발생한 특정 지점 파악</li><li>엔드 - 투 - 엔드 성능 분석</li><li>서비스 의존성 맵 생성</li></ul><h3 id=옵저버빌리티-구현-방법>옵저버빌리티 구현 방법<a hidden class=anchor aria-hidden=true href=#옵저버빌리티-구현-방법>#</a></h3><h4 id=1-계측-instrumentation>1. 계측 (Instrumentation)<a hidden class=anchor aria-hidden=true href=#1-계측-instrumentation>#</a></h4><p>계측은 애플리케이션 코드에 모니터링 기능을 추가하는 과정이다. 이는 옵저버빌리티의 기초가 된다.</p><p><strong>계측 유형</strong>:</p><ul><li><strong>수동 계측</strong>: 개발자가 직접 코드에 모니터링 로직을 추가한다.</li><li><strong>자동 계측</strong>: 에이전트나 라이브러리가 자동으로 데이터를 수집한다.</li></ul><p><strong>효과적인 계측을 위한 접근 방식</strong>:</p><ul><li>OpenTelemetry 와 같은 표준화된 프레임워크 사용</li><li>중요한 비즈니스 트랜잭션 우선 계측</li><li>코드 경로의 시작과 끝 표시</li><li>중요한 외부 서비스 호출 계측</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14>14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15>15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16>16</a>
</span><span class=lnt id=hl-0-17><a class=lnlinks href=#hl-0-17>17</a>
</span><span class=lnt id=hl-0-18><a class=lnlinks href=#hl-0-18>18</a>
</span><span class=lnt id=hl-0-19><a class=lnlinks href=#hl-0-19>19</a>
</span><span class=lnt id=hl-0-20><a class=lnlinks href=#hl-0-20>20</a>
</span><span class=lnt id=hl-0-21><a class=lnlinks href=#hl-0-21>21</a>
</span><span class=lnt id=hl-0-22><a class=lnlinks href=#hl-0-22>22</a>
</span><span class=lnt id=hl-0-23><a class=lnlinks href=#hl-0-23>23</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># OpenTelemetry를 사용한 Python 계측 예시</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>opentelemetry</span> <span class=kn>import</span> <span class=n>trace</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>opentelemetry.sdk.trace</span> <span class=kn>import</span> <span class=n>TracerProvider</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>opentelemetry.sdk.trace.export</span> <span class=kn>import</span> <span class=n>ConsoleSpanExporter</span><span class=p>,</span> <span class=n>BatchSpanProcessor</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 트레이서 설정</span>
</span></span><span class=line><span class=cl><span class=n>trace</span><span class=o>.</span><span class=n>set_tracer_provider</span><span class=p>(</span><span class=n>TracerProvider</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=n>tracer</span> <span class=o>=</span> <span class=n>trace</span><span class=o>.</span><span class=n>get_tracer</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>span_processor</span> <span class=o>=</span> <span class=n>BatchSpanProcessor</span><span class=p>(</span><span class=n>ConsoleSpanExporter</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=n>trace</span><span class=o>.</span><span class=n>get_tracer_provider</span><span class=p>()</span><span class=o>.</span><span class=n>add_span_processor</span><span class=p>(</span><span class=n>span_processor</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 함수 계측</span>
</span></span><span class=line><span class=cl><span class=nd>@tracer.start_as_current_span</span><span class=p>(</span><span class=s2>&#34;process_request&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>process_request</span><span class=p>(</span><span class=n>request_data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># 비즈니스 로직</span>
</span></span><span class=line><span class=cl>    <span class=n>result</span> <span class=o>=</span> <span class=n>do_something</span><span class=p>(</span><span class=n>request_data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 사용자 정의 속성 추가</span>
</span></span><span class=line><span class=cl>    <span class=n>current_span</span> <span class=o>=</span> <span class=n>trace</span><span class=o>.</span><span class=n>get_current_span</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>current_span</span><span class=o>.</span><span class=n>set_attribute</span><span class=p>(</span><span class=s2>&#34;request.size&#34;</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>request_data</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=n>current_span</span><span class=o>.</span><span class=n>set_attribute</span><span class=p>(</span><span class=s2>&#34;processing.result&#34;</span><span class=p>,</span> <span class=s2>&#34;success&#34;</span> <span class=k>if</span> <span class=n>result</span> <span class=k>else</span> <span class=s2>&#34;failure&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>result</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=데이터-수집-및-저장>데이터 수집 및 저장<a hidden class=anchor aria-hidden=true href=#데이터-수집-및-저장>#</a></h4><p>수집된 텔레메트리 데이터를 효율적으로 저장하고 처리하는 인프라를 구축해야 한다.</p><p><strong>주요 고려사항</strong>:</p><ul><li>확장성 있는 스토리지 솔루션 선택</li><li>데이터 보존 정책 설정</li><li>샘플링 전략 구현 (필요한 경우)</li><li>보안 및 개인정보 보호 고려</li></ul><h4 id=시각화-및-분석>시각화 및 분석<a hidden class=anchor aria-hidden=true href=#시각화-및-분석>#</a></h4><p>수집된 데이터를 의미 있는 인사이트로 변환하는 도구와 대시보드를 구축한다.</p><p><strong>효과적인 대시보드 설계 원칙</strong>:</p><ul><li>RED 방법론 (Rate, Error, Duration) 또는 USE 방법론 (Utilization, Saturation, Errors) 적용</li><li>비즈니스 KPI 와 기술 메트릭 모두 표시</li><li>관련 정보 그룹화</li><li>이상치를 빠르게 식별할 수 있는 시각화</li></ul><h4 id=알림-및-이상-탐지>알림 및 이상 탐지<a hidden class=anchor aria-hidden=true href=#알림-및-이상-탐지>#</a></h4><p>문제가 발생하면 적시에 알림을 받고 가능한 경우 자동으로 대응하는 시스템을 구축한다.</p><p><strong>알림 설계의 모범 사례</strong>:</p><ul><li>알림 피로를 줄이기 위한 우선순위 지정</li><li>경고에 문제 해결 가이드 연결</li><li>정적 임계값보다 동적 임계값 선호</li><li>상관관계 알림 구현 (관련 알림 그룹화)</li></ul><h3 id=observability-도구>Observability 도구<a hidden class=anchor aria-hidden=true href=#observability-도구>#</a></h3><p>다양한 Observability 도구가 있으며, 각 도구는 특정 목적에 최적화되어 있다.</p><h4 id=datadog>Datadog<a hidden class=anchor aria-hidden=true href=#datadog>#</a></h4><p>Datadog 은 통합된 모니터링 및 보안 플랫폼으로, 인프라, 애플리케이션, 로그를 단일 플랫폼에서 관리할 수 있다.</p><p><strong>주요 기능</strong>:</p><ul><li>200 개 이상의 기술과의 즉시 통합</li><li>맞춤형 대시보드</li><li>분산 트레이싱</li><li>로그 관리 및 분석</li><li>인프라 모니터링</li><li>실시간 알림</li></ul><h4 id=aws-cloudwatch>AWS CloudWatch<a hidden class=anchor aria-hidden=true href=#aws-cloudwatch>#</a></h4><p>AWS 서비스를 위한 모니터링 및 관찰 서비스로, AWS 리소스와 애플리케이션의 메트릭을 수집하고 추적한다.</p><p><strong>주요 기능</strong>:</p><ul><li>자동화된 대시보드</li><li>이상 탐지</li><li>CloudWatch Logs</li><li>CloudWatch Events</li><li>AWS X-Ray 와의 통합</li></ul><h4 id=sentry>Sentry<a hidden class=anchor aria-hidden=true href=#sentry>#</a></h4><p>주로 애플리케이션 오류 추적 및 성능 모니터링에 중점을 둔 도구이다.</p><p><strong>주요 기능</strong>:</p><ul><li>실시간 오류 추적</li><li>릴리스 건전성 모니터링</li><li>성능 모니터링</li><li>이슈 그룹화 및 우선순위 지정</li><li>다양한 프로그래밍 언어 지원</li></ul><h4 id=new-relic>New Relic<a hidden class=anchor aria-hidden=true href=#new-relic>#</a></h4><p>종합적인 옵저버빌리티 플랫폼으로, 애플리케이션 성능 모니터링부터 인프라 모니터링까지 폭넓은 기능을 제공한다.</p><p><strong>주요 기능</strong>:</p><ul><li>APM(애플리케이션 성능 모니터링)</li><li>분산 트레이싱</li><li>인프라 모니터링</li><li>로그 관리</li><li>사용자 경험 모니터링</li></ul><h4 id=오픈소스-솔루션>오픈소스 솔루션<a hidden class=anchor aria-hidden=true href=#오픈소스-솔루션>#</a></h4><p><strong>Prometheus + Grafana</strong>:</p><ul><li>Prometheus: 메트릭 수집 및 알림</li><li>Grafana: 시각화 및 대시보드</li></ul><p><strong>ELK Stack</strong>:</p><ul><li>Elasticsearch: 로그 및 메트릭 저장 및 검색</li><li>Logstash: 데이터 수집 및 변환</li><li>Kibana: 데이터 시각화</li></ul><p><strong>OpenTelemetry</strong>:</p><ul><li>여러 벤더에 구애받지 않는 계측을 위한 표준 API, 라이브러리 및 에이전트</li><li>단일 도구로 메트릭, 로그, 트레이스 수집</li></ul><h3 id=효과적인-옵저버빌리티-구현을-위한-모범-사례>효과적인 옵저버빌리티 구현을 위한 모범 사례<a hidden class=anchor aria-hidden=true href=#효과적인-옵저버빌리티-구현을-위한-모범-사례>#</a></h3><ol><li><p>비즈니스 컨텍스트 포함<br>기술적 메트릭을 비즈니스 성과와 연결한다.<br><strong>예시</strong>:</p><ul><li>트랜잭션당 수익과 API 응답 시간 상관 관계</li><li>사용자 경험 메트릭과 고객 이탈률 연결</li></ul></li><li><p>확장성 있는 아키텍처 설계<br>시스템 성장에 따라 확장될 수 있는 옵저버빌리티 인프라를 구축한다.<br><strong>전략</strong>:</p><ul><li>샘플링 구현</li><li>데이터 압축</li><li>데이터 보존 정책 정의</li><li>클라우드 네이티브 스토리지 솔루션 활용</li></ul></li><li><p>개발자 경험 최적화<br>개발자가 쉽게 코드를 계측하고 옵저버빌리티 데이터를 활용할 수 있도록 한다.<br><strong>접근 방식</strong>:</p><ul><li>표준화된 라이브러리 및 SDK 제공</li><li>자동 계측 활용</li><li>개발 환경에서의 로컬 텔레메트리 시각화</li><li>옵저버빌리티 교육 및 문서화</li></ul></li><li><p>실제 사용자 모니터링 (RUM) 구현<br>최종 사용자 관점에서 애플리케이션 성능을 측정한다.<br><strong>측정 항목</strong>:</p><ul><li>페이지 로드 시간</li><li>첫 번째 콘텐츠가 있는 페인트 (FCP)</li><li>상호 작용까지의 시간 (TTI)</li><li>누적 레이아웃 시프트 (CLS)</li></ul></li></ol><h3 id=옵저버빌리티의-미래-동향>옵저버빌리티의 미래 동향<a hidden class=anchor aria-hidden=true href=#옵저버빌리티의-미래-동향>#</a></h3><ol><li><p>AIOps(인공지능 운영)<br>기계 학습 및 AI 기술을 활용하여 옵저버빌리티 데이터에서 인사이트를 도출하고 자동화된 대응을 제공한다.<br><strong>핵심 기능</strong>:</p><ul><li>이상 탐지</li><li>근본 원인 분석</li><li>자동화된 문제 해결</li><li>예측 분석</li></ul></li><li><p>서비스 수준 목표 (SLO) 중심 접근 방식<br>기술적 메트릭보다는 비즈니스 성과와 사용자 경험에 초점을 맞춘 모니터링.<br><strong>구성 요소</strong>:</p><ul><li>서비스 수준 지표 (SLI)</li><li>서비스 수준 목표 (SLO)</li><li>오류 예산</li></ul></li><li><p>eBPF(Extended Berkeley Packet Filter)<br>커널 수준에서 성능 데이터를 안전하게 수집하는 Linux 기술.<br><strong>이점</strong>:</p><ul><li>낮은 오버헤드</li><li>심층적인 시스템 인사이트</li><li>애플리케이션 코드 수정 없이 관찰 가능</li></ul></li><li><p>옵저버빌리티 메시 (Mesh)<br>마이크로서비스 환경에서 일관된 텔레메트리 데이터 수집을 제공하는 인프라 레이어이다.<br><strong>특징</strong>:</p><ul><li>서비스 간 통신의 자동 계측</li><li>표준화된 메트릭 및 트레이싱</li><li>정책 기반 트래픽 관리</li></ul></li></ol><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><hr><h2 id=1-주제-분류-적절성-검토>1. 주제 분류 적절성 검토<a hidden class=anchor aria-hidden=true href=#1-주제-분류-적절성-검토>#</a></h2><p><strong>분류</strong>: &ldquo;Computer Science and Engineering > DevOps and Infrastructure&rdquo;<br><strong>적절성</strong>: Observability는 DevOps 생태계의 핵심 요소로, 분산 시스템과 클라우드 네이티브 환경의 복잡성을 관리하기 위해 필수적입니다. 인프라 및 애플리케이션의 상태를 실시간으로 파악하는 데 중점을 두므로 분류는 타당합니다.</p><hr><h2 id=2-전체-개요>2. 전체 개요<a hidden class=anchor aria-hidden=true href=#2-전체-개요>#</a></h2><p>Observability는 로그(logs), 메트릭(metrics), 트레이스(traces)를 기반으로 시스템의 내부 상태를 추론하는 능력입니다. 2025년 기준 <strong>AI 통합</strong>, <strong>OpenTelemetry 표준화</strong>, <strong>보안 강화</strong>가 주요 트렌드로 부상하며, DevOps 팀의 문제 해결 및 의사결정 효율성을 혁신적으로 개선합니다.</p><pre class=mermaid>graph TD
  A[애플리케이션] --&gt;|로그 생성| B[Observability 플랫폼]
  B --&gt;|메트릭 수집| C[대시보드]
  B --&gt;|트레이스 분석| D[근본 원인 분석]
  C --&gt;|실시간 모니터링| E[자동 알림]
  D --&gt;|문제 해결| E
</pre><hr><h2 id=3-핵심-내용-조사>3. 핵심 내용 조사<a hidden class=anchor aria-hidden=true href=#3-핵심-내용-조사>#</a></h2><h3 id=31-핵심-개념>3.1 핵심 개념<a hidden class=anchor aria-hidden=true href=#31-핵심-개념>#</a></h3><ul><li><strong>정의</strong>: 시스템의 외부 출력(로그, 메트릭, 트레이스)을 통해 내부 상태를 추론하는 능력.</li><li><strong>목적</strong>: 장애 예측, 근본 원인 분석, 사용자 경험 최적화.</li><li><strong>3대 핵심 요소</strong>:<ol><li><strong>로그</strong>: 이벤트 기록 (예: 에러 로그).</li><li><strong>메트릭</strong>: 성능 지표 (예: CPU 사용률).</li><li><strong>트레이스</strong>: 요청 경로 추적 (예: 분산 시스템 내 이동 경로).</li></ol></li></ul><h3 id=32-구성-요소>3.2 구성 요소<a hidden class=anchor aria-hidden=true href=#32-구성-요소>#</a></h3><table><thead><tr><th>구성 요소</th><th>기능</th><th>도구 예시</th></tr></thead><tbody><tr><td><strong>데이터 수집기</strong></td><td>로그/메트릭 수집</td><td>Fluentd, Prometheus</td></tr><tr><td><strong>저장소</strong></td><td>데이터 저장</td><td>Elasticsearch, InfluxDB</td></tr><tr><td><strong>시각화</strong></td><td>대시보드 구축</td><td>Grafana, Kibana</td></tr><tr><td><strong>분석 엔진</strong></td><td>이상 감지/예측</td><td>Splunk, Datadog</td></tr></tbody></table><h3 id=33-장단점-비교>3.3 장단점 비교<a hidden class=anchor aria-hidden=true href=#33-장단점-비교>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>✅ 장점</td><td><strong>실시간 문제 감지</strong></td><td>AI 기반 이상 탐지로 장애 예측[1][12]</td></tr><tr><td></td><td><strong>MTTR 감소</strong></td><td>근본 원인 분석 시간 70% 단축[4][11]</td></tr><tr><td>⚠ 단점</td><td><strong>데이터 과부하</strong></td><td>불필요한 메트릭 70% 수집[2][12]</td></tr><tr><td></td><td><strong>학습 곡선</strong></td><td>OpenTelemetry 설정 복잡성[19]</td></tr></tbody></table><hr><h2 id=4-분류에-따른-종류-및-유형>4. 분류에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#4-분류에-따른-종류-및-유형>#</a></h2><table><thead><tr><th>유형</th><th>설명</th><th>사용 사례</th></tr></thead><tbody><tr><td><strong>인프라 관측</strong></td><td>서버/네트워크 상태 모니터링</td><td>CPU/Memory 사용량 추적</td></tr><tr><td><strong>애플리케이션 관측</strong></td><td>마이크로서비스 트레이싱</td><td>API 응답 시간 분석</td></tr><tr><td><strong>사용자 경험 관측</strong></td><td>실시간 사용자 행동 분석</td><td>웹 페이지 로딩 속도 최적화</td></tr></tbody></table><hr><h2 id=5-실무-적용-예시>5. 실무 적용 예시<a hidden class=anchor aria-hidden=true href=#5-실무-적용-예시>#</a></h2><table><thead><tr><th>시나리오</th><th>구현 방식</th><th>효과</th></tr></thead><tbody><tr><td>이커머스 대량 트래픽 대비</td><td>AI 기반 자동 스케일링</td><td>피크 시간 장애 90% 감소[12]</td></tr><tr><td>금융 서비스 보안 강화</td><td>로그 기반 이상 접근 탐지</td><td>해킹 시도 탐지 시간 5분 → 30초[12]</td></tr><tr><td>CI/CD 파이프라인 최적화</td><td>빌드 실패 근본 원인 분석</td><td>배포 주기 2시간 단축[11]</td></tr></tbody></table><hr><h2 id=6-2025년-최신-동향>6. 2025년 최신 동향<a hidden class=anchor aria-hidden=true href=#6-2025년-최신-동향>#</a></h2><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>AIOps</strong></td><td>예측 유지보수</td><td>ML 모델이 장애 24시간 전 예측[12][18]</td></tr><tr><td><strong>OpenTelemetry</strong></td><td>표준화 확대</td><td>80% 기업 OTel 도입 계획[19]</td></tr><tr><td><strong>Green Observability</strong></td><td>에너지 효율 모니터링</td><td>클라우드 탄소 배출량 30% 감소[14]</td></tr><tr><td><strong>SecOps 통합</strong></td><td>보안 로그 실시간 분석</td><td>위협 탐지 정확도 95% 개선[12]</td></tr></tbody></table><hr><h2 id=7-주목할-기술>7. 주목할 기술<a hidden class=anchor aria-hidden=true href=#7-주목할-기술>#</a></h2><table><thead><tr><th>기술</th><th>설명</th></tr></thead><tbody><tr><td><strong>eBPF</strong></td><td>커널 수준 모니터링[12]</td></tr><tr><td><strong>WasmEdge</strong></td><td>웹어셈블리 기반 경량 에이전트[10]</td></tr><tr><td><strong>Nephio</strong></td><td>Kubernetes 기반 5G 네트워크 관리[12]</td></tr></tbody></table><hr><h2 id=8-전망>8. 전망<a hidden class=anchor aria-hidden=true href=#8-전망>#</a></h2><table><thead><tr><th>분야</th><th>전망</th></tr></thead><tbody><tr><td><strong>자동화</strong></td><td>AI 기반 자가 치유 시스템 보편화[14]</td></tr><tr><td><strong>규제 대응</strong></td><td>GDPR/CCPA 준수 모니터링 의무화[11]</td></tr><tr><td><strong>엣지 컴퓨팅</strong></td><td>50ms 미만 지연 시간 모니터링[18]</td></tr></tbody></table><hr><h2 id=9-추가-학습-주제>9. 추가 학습 주제<a hidden class=anchor aria-hidden=true href=#9-추가-학습-주제>#</a></h2><table><thead><tr><th>분야</th><th>주제</th><th>설명</th></tr></thead><tbody><tr><td><strong>보안</strong></td><td>Zero Trust 모델 연동</td><td>접근 제어 로그 실시간 분석</td></tr><tr><td><strong>데이터 관리</strong></td><td>Observability 파이프라인 최적화</td><td>불필요 데이터 80% 필터링[2]</td></tr></tbody></table><hr><h2 id=용어-정리-1>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-1>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td><strong>MTTD</strong></td><td>평균 장애 감지 시간</td></tr><tr><td><strong>SLO</strong></td><td>서비스 수준 목표(Service Level Objective)</td></tr><tr><td><strong>Cardinality</strong></td><td>메트릭 고유 값 조합 수</td></tr></tbody></table><hr><h2 id=참고-및-출처-1>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-1>#</a></h2><ul><li>[Observability 정의 - IBM][20]</li><li>[2025 트렌드 분석 - Dynatrace][14]</li><li>[OpenTelemetry 표준화 - CNCF][19]</li></ul><hr><p><strong>요약</strong>: 2025년 Observability는 AI와의 융합으로 예측 정확도가 혁신적으로 향상되며, OpenTelemetry가 산업 표준으로 자리잡을 전망입니다. 보안 통합(SecOps)과 에너지 효율 모니터링(Green Observability)이 핵심 트렌드로 부상하며, WasmEdge와 같은 경량 기술이 엣지 컴퓨팅 지원을 확대합니다. DevOps 팀은 MTTD/MTTR 단축을 통해 시스템 신뢰성을 극대화할 수 있습니다.</p><p>Citations:
[1] <a href=https://www.motadata.com/blog/observability-in-devops/>https://www.motadata.com/blog/observability-in-devops/</a>
[2] <a href=https://www.cncf.io/blog/2025/03/05/observability-trends-in-2025-whats-driving-change/>https://www.cncf.io/blog/2025/03/05/observability-trends-in-2025-whats-driving-change/</a>
[3] <a href=https://lumigo.io/what-is-observability-concepts-use-cases-and-technologies/>https://lumigo.io/what-is-observability-concepts-use-cases-and-technologies/</a>
[4] <a href=https://www.bugsnag.com/blog/what-is-observability/>https://www.bugsnag.com/blog/what-is-observability/</a>
[5] <a href=https://middleware.io/blog/observability/best-practices/>https://middleware.io/blog/observability/best-practices/</a>
[6] <a href=https://grafana.com/blog/2025/03/25/observability-survey-takeaways/>https://grafana.com/blog/2025/03/25/observability-survey-takeaways/</a>
[7] <a href=https://middleware.io/blog/observability/>https://middleware.io/blog/observability/</a>
[8] <a href=https://baselime.io/glossary>https://baselime.io/glossary</a>
[9] <a href=https://www.simform.com/blog/three-types-of-observability/>https://www.simform.com/blog/three-types-of-observability/</a>
[10] <a href=https://edgedelta.com/company/blog/observability-principles>https://edgedelta.com/company/blog/observability-principles</a>
[11] <a href=https://www.honeycomb.io/blog/what-is-observability-key-components-best-practices>https://www.honeycomb.io/blog/what-is-observability-key-components-best-practices</a>
[12] <a href=https://www.motadata.com/blog/observability-trends/>https://www.motadata.com/blog/observability-trends/</a>
[13] <a href=https://uptrace.dev/tools/top-observability-tools>https://uptrace.dev/tools/top-observability-tools</a>
[14] <a href=https://www.dynatrace.com/news/blog/observability-predictions-for-2025/>https://www.dynatrace.com/news/blog/observability-predictions-for-2025/</a>
[15] <a href=https://www.honeycomb.io/getting-started/observability-glossary>https://www.honeycomb.io/getting-started/observability-glossary</a>
[16] <a href=https://www.strongdm.com/blog/three-pillars-of-observability>https://www.strongdm.com/blog/three-pillars-of-observability</a>
[17] <a href=https://coralogix.com/guides/observability/>https://coralogix.com/guides/observability/</a>
[18] <a href=https://www.apica.io/blog/top-5-observability-trends-to-look-out-for-2025/>https://www.apica.io/blog/top-5-observability-trends-to-look-out-for-2025/</a>
[19] <a href=https://www.dash0.com/blog/observability-predictions-for-2025-trends-shaping-the-future-of-observability>https://www.dash0.com/blog/observability-predictions-for-2025-trends-shaping-the-future-of-observability</a>
[20] <a href=https://www.ibm.com/think/topics/observability>https://www.ibm.com/think/topics/observability</a>
[21] <a href=https://www.techtarget.com/searchitoperations/tip/Top-observability-tools>https://www.techtarget.com/searchitoperations/tip/Top-observability-tools</a>
[22] <a href=https://grafana.com/blog/2024/12/16/2025-observability-predictions-and-trends-from-grafana-labs/>https://grafana.com/blog/2024/12/16/2025-observability-predictions-and-trends-from-grafana-labs/</a>
[23] <a href=https://docs.zeet.co/glossary/observability/>https://docs.zeet.co/glossary/observability/</a>
[24] <a href=https://newrelic.com/blog/best-practices/what-is-observability>https://newrelic.com/blog/best-practices/what-is-observability</a>
[25] <a href=https://www.centraldatatech.com/blog-news/beyond-monitoring-9-observability-predictions-for-2025-every-business-must-know/>https://www.centraldatatech.com/blog-news/beyond-monitoring-9-observability-predictions-for-2025-every-business-must-know/</a>
[26] <a href=https://docs.lightstep.com/docs/glossary>https://docs.lightstep.com/docs/glossary</a>
[27] <a href=https://www.skedler.com/blog/the-future-of-observability-trends-to-watch-in-2025/>https://www.skedler.com/blog/the-future-of-observability-trends-to-watch-in-2025/</a>
[28] <a href=https://www.bigdatawire.com/2025/01/06/2025-observability-predictions-and-observations/>https://www.bigdatawire.com/2025/01/06/2025-observability-predictions-and-observations/</a>
[29] <a href=https://voltainc.com/observability-trends-in-2025-every-it-leader-should-know/>https://voltainc.com/observability-trends-in-2025-every-it-leader-should-know/</a>
[30] <a href=https://www.groundcover.com/blog/observability-tools>https://www.groundcover.com/blog/observability-tools</a>
[31] <a href=https://uptrace.dev/glossary/o11y>https://uptrace.dev/glossary/o11y</a>
[32] <a href=https://www.opentext.com/what-is/observability>https://www.opentext.com/what-is/observability</a>
[33] <a href=https://www.netreo.com/blog/observability-examples/>https://www.netreo.com/blog/observability-examples/</a>
[34] <a href=https://www.cigniti.com/blog/maximizing-performance-role-observability-modern-systems/>https://www.cigniti.com/blog/maximizing-performance-role-observability-modern-systems/</a>
[35] <a href=https://www.linkedin.com/pulse/observability-ai-trends-store-2025-dynatrace-qgjle>https://www.linkedin.com/pulse/observability-ai-trends-store-2025-dynatrace-qgjle</a>
[36] <a href=https://www.secoda.co/blog/key-data-observability-trends>https://www.secoda.co/blog/key-data-observability-trends</a>
[37] <a href=https://www.psychologytoday.com/intl/blog/how-we-learn/202503/observable-behavior-the-essential-key-to-assessing-student-learning>https://www.psychologytoday.com/intl/blog/how-we-learn/202503/observable-behavior-the-essential-key-to-assessing-student-learning</a>
[38] <a href=https://cribl.io/glossary/>https://cribl.io/glossary/</a>
[39] <a href=https://www.devopsinstitute.com/wp-content/uploads/2023/02/OBSF-v1.0-English-Exam-Study-Guide.pdf>https://www.devopsinstitute.com/wp-content/uploads/2023/02/OBSF-v1.0-English-Exam-Study-Guide.pdf</a>
[40] <a href=https://www.opentext.com/ko-kr/products/core-infrastructure-observability>https://www.opentext.com/ko-kr/products/core-infrastructure-observability</a>
[41] <a href=https://www.diva-portal.org/smash/get/diva2:1690165/FULLTEXT01.pdf>https://www.diva-portal.org/smash/get/diva2:1690165/FULLTEXT01.pdf</a>
[42] <a href=https://www.sciencedirect.com/science/article/pii/S0164121223003011>https://www.sciencedirect.com/science/article/pii/S0164121223003011</a>
[43] <a href=https://logz.io/blog/open-source-observability-history/>https://logz.io/blog/open-source-observability-history/</a>
[44] <a href=https://dev.to/leapcell/the-future-of-observability-trends-shaping-2025-om8>https://dev.to/leapcell/the-future-of-observability-trends-shaping-2025-om8</a>
[45] <a href=https://www.apmdigest.com/2025-observability-predictions-part-1>https://www.apmdigest.com/2025-observability-predictions-part-1</a>
[46] <a href=https://devops.com/the-future-of-devops-key-trends-innovations-and-best-practices-in-2025/>https://devops.com/the-future-of-devops-key-trends-innovations-and-best-practices-in-2025/</a>
[47] <a href=https://middleware.io/blog/observability/tools/>https://middleware.io/blog/observability/tools/</a>
[48] <a href=https://blogs.oracle.com/oracleuniversity/post/announcing-oci-2025-observability-professional-certification>https://blogs.oracle.com/oracleuniversity/post/announcing-oci-2025-observability-professional-certification</a>
[49] <a href=https://www.devopsdigest.com/2025-devops-predictions-part-1>https://www.devopsdigest.com/2025-devops-predictions-part-1</a>
[50] <a href=https://newrelic.com/kr/blog/best-practices/principles-of-observability-modern-software-development>https://newrelic.com/kr/blog/best-practices/principles-of-observability-modern-software-development</a>
[51] <a href=https://www.getorchestra.io/guides/data-observability-architecture-key-concepts-and-implementation>https://www.getorchestra.io/guides/data-observability-architecture-key-concepts-and-implementation</a>
[52] <a href=https://www.techtarget.com/searchitoperations/definition/observability>https://www.techtarget.com/searchitoperations/definition/observability</a>
[53] <a href=https://onum.com/resources/security-observability>https://onum.com/resources/security-observability</a>
[54] <a href=https://www.datadoghq.com/knowledge-center/observability/>https://www.datadoghq.com/knowledge-center/observability/</a>
[55] <a href=https://maddevs.io/blog/observability-cases-benefits-and-tools/>https://maddevs.io/blog/observability-cases-benefits-and-tools/</a>
[56] <a href=https://edgedelta.com/company/blog/what-is-observability-architecture>https://edgedelta.com/company/blog/what-is-observability-architecture</a>
[57] <a href=https://blog.brq.com/en/observability-what-it-is-challenges-and-tools/>https://blog.brq.com/en/observability-what-it-is-challenges-and-tools/</a>
[58] <a href=https://observelite.com/blog/performance-optimization-through-observability-best-practices-and-tools/>https://observelite.com/blog/performance-optimization-through-observability-best-practices-and-tools/</a>
[59] <a href=https://www.apmdigest.com/5-best-practices-for-application-performance-monitoring-and-observability>https://www.apmdigest.com/5-best-practices-for-application-performance-monitoring-and-observability</a>
[60] <a href=https://specialone.io/en/10-best-practices-for-observability-and-monitoring-digital-experience/>https://specialone.io/en/10-best-practices-for-observability-and-monitoring-digital-experience/</a>
[61] <a href=https://last9.io/blog/observability-best-practices/>https://last9.io/blog/observability-best-practices/</a>
[62] <a href=https://docs.aws.amazon.com/prescriptive-guidance/latest/amazon-eks-observability-best-practices/monitoring-best-practices.html>https://docs.aws.amazon.com/prescriptive-guidance/latest/amazon-eks-observability-best-practices/monitoring-best-practices.html</a>
[63] <a href=https://efficientip.com/blog/2025-top-5-cybersecurity-automation-trends/>https://efficientip.com/blog/2025-top-5-cybersecurity-automation-trends/</a>
[64] <a href=https://www.apica.io/blog/top-5-observability-trends-to-look-out-for-2025/>https://www.apica.io/blog/top-5-observability-trends-to-look-out-for-2025/</a>
[65] <a href=https://dev.to/ssojet/enhancing-ux-and-ai-initiatives-through-observability-trends-2025-2199>https://dev.to/ssojet/enhancing-ux-and-ai-initiatives-through-observability-trends-2025-2199</a>
[66] <a href=https://trainingportal.linuxfoundation.org/courses/observability-trends-in-2025-whats-driving-change>https://trainingportal.linuxfoundation.org/courses/observability-trends-in-2025-whats-driving-change</a>
[67] <a href=https://www.precisely.com/press-release/new-global-research-reveals-key-observability-trends-and-challenges-for-ai-innovation>https://www.precisely.com/press-release/new-global-research-reveals-key-observability-trends-and-challenges-for-ai-innovation</a>
[68] <a href=https://www.elastic.co/observability-labs/blog/emerging-trends-in-observability-2025>https://www.elastic.co/observability-labs/blog/emerging-trends-in-observability-2025</a>
[69] <a href=https://apptad.com/blogs/what-is-data-observability-5-key-pillars-to-know-in-2025/>https://apptad.com/blogs/what-is-data-observability-5-key-pillars-to-know-in-2025/</a>
[70] <a href=https://grafana.com/blog/2025/03/25/observability-survey-takeaways/>https://grafana.com/blog/2025/03/25/observability-survey-takeaways/</a>
[71] <a href=https://techdocs.broadcom.com/us/en/symantec-security-software/identity-security/vip-authentication-hub/2-2/operating/managing-observability.html>https://techdocs.broadcom.com/us/en/symantec-security-software/identity-security/vip-authentication-hub/2-2/operating/managing-observability.html</a>
[72] <a href=https://arxiv.org/abs/2206.11708>https://arxiv.org/abs/2206.11708</a>
[73] <a href=https://www.servicenow.com/docs/bundle/yokohama-it-operations-management/page/product/service-observability/concept/exploring-service-observability.html>https://www.servicenow.com/docs/bundle/yokohama-it-operations-management/page/product/service-observability/concept/exploring-service-observability.html</a>
[74] <a href=https://arxiv.org/abs/2211.01991>https://arxiv.org/abs/2211.01991</a>
[75] <a href=https://www.gartner.com/en/articles/monetizing-observable-data-will-separate-the-winners-and-losers>https://www.gartner.com/en/articles/monetizing-observable-data-will-separate-the-winners-and-losers</a>
[76] <a href=https://techdocs.broadcom.com/us/en/symantec-security-software/identity-security/vip-authentication-hub/3-4/operating/managing-observability.html>https://techdocs.broadcom.com/us/en/symantec-security-software/identity-security/vip-authentication-hub/3-4/operating/managing-observability.html</a>
[77] <a href=https://cloud.google.com/blog/products/management-tools/observability-on-google-cloud>https://cloud.google.com/blog/products/management-tools/observability-on-google-cloud</a>
[78] <a href=https://embrace.io/guides/mobile-observability-glossary/>https://embrace.io/guides/mobile-observability-glossary/</a>
[79] <a href=https://docs.splunk.com/observability/references/glossary.html>https://docs.splunk.com/observability/references/glossary.html</a>
[80] <a href=https://www.collibra.com/resources/must-know-terms-for-data-quality-and-observability>https://www.collibra.com/resources/must-know-terms-for-data-quality-and-observability</a></p><hr><p>Perplexity로부터의 답변: pplx.ai/share</p><p>**&ldquo;Observability(가시성)&rdquo;**에 대한 조사 결과를 다음과 같이 정리했습니다.</p><hr><h2 id=1-주제의-분류-적절성>1. 주제의 분류 적절성<a hidden class=anchor aria-hidden=true href=#1-주제의-분류-적절성>#</a></h2><ul><li><strong>분류 평가:</strong><br>**“Computer Science and Engineering > DevOps and Infrastructure”**는 매우 적절합니다.<br>Observability는 <strong>DevOps, SRE(Site Reliability Engineering), 운영 자동화, 성능 분석</strong>의 필수 구성요소로, 시스템 내부 상태를 외부에서 정량적으로 이해할 수 있게 해주는 핵심 기술입니다.</li></ul><hr><h2 id=2-개요>2. 개요<a hidden class=anchor aria-hidden=true href=#2-개요>#</a></h2><p>**Observability(가시성)**는 시스템의 내부 상태를 외부에서 수집 가능한 데이터를 통해 추론할 수 있도록 하는 능력을 의미합니다. 기존의 단순 모니터링을 넘어, <strong>로그(Log), 메트릭(Metric), 트레이스(Trace)</strong> 세 가지 축을 중심으로 시스템의 전체적인 상태를 실시간으로 파악하고, 문제 원인을 분석하고, 자동화된 대응을 가능하게 합니다. DevOps와 클라우드 네이티브 환경에서 <strong>고가용성, 성능 최적화, 문제 예측 및 대응</strong>을 위한 핵심 요소로 자리 잡고 있습니다.</p><hr><h2 id=3-세부-정리>3. 세부 정리<a hidden class=anchor aria-hidden=true href=#3-세부-정리>#</a></h2><h3 id=-핵심-개념>✅ 핵심 개념<a hidden class=anchor aria-hidden=true href=#-핵심-개념>#</a></h3><ul><li>시스템이 <strong>어떤 상태에 있는지</strong>, <strong>왜 그런 상태가 되었는지</strong>를 관찰 가능한 데이터로 파악하는 능력</li></ul><hr><h3 id=-목적>✅ 목적<a hidden class=anchor aria-hidden=true href=#-목적>#</a></h3><ul><li><p><strong>문제 조기 탐지 및 근본 원인 분석</strong></p></li><li><p><strong>서비스 수준 보장(SLA, SLO 준수)</strong></p></li><li><p><strong>지속적인 개선 및 자동화 대응</strong></p></li></ul><hr><h3 id=-필요성>✅ 필요성<a hidden class=anchor aria-hidden=true href=#-필요성>#</a></h3><ul><li><p>분산 시스템 및 마이크로서비스 환경에서 <strong>가시성 없이는 오류 추적이 어려움</strong></p></li><li><p>DevOps 및 CI/CD에서 실시간 피드백 루프 필수</p></li><li><p>빠른 장애 감지 및 자율 복구 기반 마련</p></li></ul><hr><h3 id=-주요-기능>✅ 주요 기능<a hidden class=anchor aria-hidden=true href=#-주요-기능>#</a></h3><table><thead><tr><th>기능</th><th>설명</th></tr></thead><tbody><tr><td>로그 수집</td><td>이벤트 흐름과 예외 상황 추적</td></tr><tr><td>메트릭 수집</td><td>성능 지표 수집 (CPU, 메모리, 요청 수 등)</td></tr><tr><td>트레이싱</td><td>요청 흐름 및 병목 구간 시각화</td></tr><tr><td>대시보드 및 경보</td><td>실시간 시각화 및 알림 발송</td></tr><tr><td>예측 분석</td><td>AI/ML 기반 이상 탐지 및 예측 경고</td></tr></tbody></table><hr><h3 id=-역할>✅ 역할<a hidden class=anchor aria-hidden=true href=#-역할>#</a></h3><ul><li><p><strong>SRE</strong>: 운영 효율성 향상 및 자동 복구 설계</p></li><li><p><strong>DevOps</strong>: 배포 상태 및 성능 영향 관찰</p></li><li><p><strong>개발자</strong>: 디버깅 및 성능 분석</p></li></ul><hr><h3 id=-특징>✅ 특징<a hidden class=anchor aria-hidden=true href=#-특징>#</a></h3><ul><li><p>실시간성과 데이터 다양성</p></li><li><p>분산 시스템 기반에서 효과 발휘</p></li><li><p><strong>“문제가 일어나기 전 인지”가 가능한 구조</strong></p></li></ul><hr><h3 id=-핵심-원칙>✅ 핵심 원칙<a hidden class=anchor aria-hidden=true href=#-핵심-원칙>#</a></h3><table><thead><tr><th>원칙</th><th>설명</th></tr></thead><tbody><tr><td>세 축(3 Pillars)</td><td>Logs, Metrics, Traces</td></tr><tr><td>분석 가능성</td><td>수집 데이터로 시스템 원인 분석 가능</td></tr><tr><td>자동 대응</td><td>알람 또는 조건 기반으로 대응</td></tr><tr><td>통합성</td><td>다양한 소스 통합 및 시각화 지원</td></tr></tbody></table><hr><h3 id=-주요-원리--작동-원리>✅ 주요 원리 & 작동 원리<a hidden class=anchor aria-hidden=true href=#-주요-원리--작동-원리>#</a></h3><p><strong>이미지:</strong><br><figure><img alt="Observability 작동 원리" loading=lazy src=https://d33wubrfki0l68.cloudfront.net/e1e64513d8aef84950d4a6f452d60b9d8a10a013/d3f0e/images/blog/what-is-observability/observability-diagram.png></figure><br>출처: <a href=https://www.datadoghq.com/blog/what-is-observability/>Datadog - What is Observability</a></p><ol><li><strong>데이터 수집</strong> → 2. <strong>중앙 집계 및 처리</strong> → 3. <strong>시각화 및 경보</strong> → 4. <strong>분석 및 대응</strong></li></ol><hr><h3 id=-구성-요소-및-아키텍처>✅ 구성 요소 및 아키텍처<a hidden class=anchor aria-hidden=true href=#-구성-요소-및-아키텍처>#</a></h3><table><thead><tr><th>구성 요소</th><th>역할</th></tr></thead><tbody><tr><td>Agent/Exporter</td><td>노드 또는 애플리케이션에서 데이터 수집</td></tr><tr><td>Collector</td><td>다양한 포맷을 중앙화된 데이터로 통합</td></tr><tr><td>Storage</td><td>시간별 로그/메트릭 저장소 (예: Prometheus, Elasticsearch)</td></tr><tr><td>Dashboard</td><td>시각화 및 분석을 위한 UI (예: Grafana, Kibana)</td></tr><tr><td>Alerting System</td><td>조건 기반 알림 생성 및 자동화 처리</td></tr></tbody></table><p><strong>아키텍처 예시 도식은 요청 시 생성 가능</strong></p><hr><h3 id=-장점과-단점>✅ 장점과 단점<a hidden class=anchor aria-hidden=true href=#-장점과-단점>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>✅ 장점</td><td>빠른 문제 감지</td><td>실시간 이상 탐지 및 경고 가능</td></tr><tr><td></td><td>근본 원인 분석</td><td>로그-메트릭-트레이스 연계 분석</td></tr><tr><td></td><td>자동화 연동</td><td>알람 → 대응 자동화로 확장 가능</td></tr><tr><td>⚠ 단점</td><td>복잡성</td><td>다양한 도구 및 연계 시스템 필요</td></tr><tr><td></td><td>비용 부담</td><td>고용량 데이터 저장 및 처리 비용 증가</td></tr><tr><td></td><td>노이즈</td><td>불필요한 경보로 운영 리소스 소모 가능성</td></tr></tbody></table><hr><h3 id=-분류에-따른-종류-및-유형>✅ 분류에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#-분류에-따른-종류-및-유형>#</a></h3><table><thead><tr><th>기준</th><th>유형</th><th>설명</th></tr></thead><tbody><tr><td>데이터 유형</td><td>로그 기반</td><td>텍스트 기반 이벤트 데이터 수집</td></tr><tr><td></td><td>메트릭 기반</td><td>수치 기반 상태 지표 수집</td></tr><tr><td></td><td>트레이스 기반</td><td>요청의 흐름 추적</td></tr><tr><td>적용 범위</td><td>인프라 수준</td><td>CPU, 디스크, 네트워크 등</td></tr><tr><td></td><td>애플리케이션 수준</td><td>코드 수준 상태 및 API 추적</td></tr><tr><td>통합 형태</td><td>단일 툴</td><td>Datadog, New Relic 등</td></tr><tr><td></td><td>오픈소스 조합</td><td>Prometheus + Grafana + Loki 등</td></tr></tbody></table><hr><h3 id=-실무-적용-예시>✅ 실무 적용 예시<a hidden class=anchor aria-hidden=true href=#-실무-적용-예시>#</a></h3><table><thead><tr><th>사례</th><th>설명</th></tr></thead><tbody><tr><td>Prometheus + Grafana</td><td>K8s 기반 메트릭 수집 및 시각화</td></tr><tr><td>ELK Stack</td><td>로그 분석 및 Kibana 시각화</td></tr><tr><td>Jaeger + OpenTelemetry</td><td>마이크로서비스 간 분산 트레이싱</td></tr><tr><td>Datadog</td><td>통합 관제 및 AI 기반 이상 탐지</td></tr></tbody></table><hr><h3 id=-활용-예시-시나리오>✅ 활용 예시 (시나리오)<a hidden class=anchor aria-hidden=true href=#-활용-예시-시나리오>#</a></h3><p><strong>시나리오:</strong><br>Kubernetes 클러스터 운영 중 Pod의 응답 속도 급증 → Prometheus가 알림 생성 → Grafana에서 대시보드 확인 → 로그 확인 후 트레이스를 통해 DB 쿼리 병목 확인</p><p><strong>다이어그램 요청 시 생성 가능</strong></p><hr><h3 id=-실무-적용-고려사항-및-성능-최적화>✅ 실무 적용 고려사항 및 성능 최적화<a hidden class=anchor aria-hidden=true href=#-실무-적용-고려사항-및-성능-최적화>#</a></h3><table><thead><tr><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>데이터 필터링</td><td>불필요한 로그 제외로 저장 공간 절약</td></tr><tr><td>샘플링</td><td>트레이스는 필요 시에만 수집</td></tr><tr><td>데이터 보안</td><td>로그에 민감 정보 포함 여부 필터링</td></tr><tr><td>통합 대시보드</td><td>단일 뷰로 모든 지표 확인 가능해야 함</td></tr><tr><td>자동화 연계</td><td>경보 → 슬랙 알림/자동 롤백 등 자동 처리 설계</td></tr></tbody></table><hr><h2 id=5-2025년-기준-최신-동향>5. 2025년 기준 최신 동향<a hidden class=anchor aria-hidden=true href=#5-2025년-기준-최신-동향>#</a></h2><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>통합 플랫폼</td><td>eBPF 기반 Deep Telemetry</td><td>커널 수준에서 모든 레벨의 가시성 확보</td></tr><tr><td>AI 기반 분석</td><td>AIOps 연계</td><td>자동 이상 감지 및 Root Cause 분석</td></tr><tr><td>오픈 표준</td><td>OpenTelemetry 성장</td><td>벤더 종속 없는 통합 추적 시스템 확산</td></tr><tr><td>서비스 수준 중심</td><td>SLO 중심의 관측</td><td>알림 기준을 서비스 SLA에 기반 설정</td></tr><tr><td>경량화</td><td>Edge/IoT 환경 적용</td><td>경량 에이전트 및 분산 처리 기술 성장</td></tr></tbody></table><hr><h2 id=6-주목해야-할-기술>6. 주목해야 할 기술<a hidden class=anchor aria-hidden=true href=#6-주목해야-할-기술>#</a></h2><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>OpenTelemetry</td><td>표준화된 로그, 메트릭, 트레이스 수집 프레임워크</td><td></td></tr><tr><td>Prometheus</td><td>타임시리즈 메트릭 수집 및 경보 도구</td><td></td></tr><tr><td>Grafana</td><td>시각화 대시보드 통합 플랫폼</td><td></td></tr><tr><td>Datadog</td><td>SaaS형 통합 Observability 솔루션</td><td></td></tr><tr><td>Jaeger</td><td>분산 트레이싱 도구 (OpenTelemetry 연계 가능)</td><td></td></tr></tbody></table><hr><h2 id=7-앞으로의-전망>7. 앞으로의 전망<a hidden class=anchor aria-hidden=true href=#7-앞으로의-전망>#</a></h2><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>자동화 확대</td><td>Observability → 자동 복구</td><td>장애 감지 후 무중단 자동 처리 확대</td></tr><tr><td>클라우드 네이티브</td><td>K8s 통합 심화</td><td>kube-state-metrics 등과 연동 심화</td></tr><tr><td>AI 통합</td><td>AI 기반 로그 해석</td><td>이상 탐지 자동화 및 예측 분석</td></tr><tr><td>경량화</td><td>엣지 장비까지 확장</td><td>IoT, 5G 시스템까지 적용 영역 확대</td></tr></tbody></table><hr><h2 id=8-하위-주제-및-학습-항목>8. 하위 주제 및 학습 항목<a hidden class=anchor aria-hidden=true href=#8-하위-주제-및-학습-항목>#</a></h2><table><thead><tr><th>카테고리</th><th>주제</th><th>설명</th></tr></thead><tbody><tr><td>기술 스택</td><td>Prometheus, Grafana, Loki</td><td>메트릭 + 로그 기반 통합 구축</td></tr><tr><td>트레이싱</td><td>OpenTelemetry, Jaeger</td><td>트랜잭션 추적 기술 실습</td></tr><tr><td>데이터 최적화</td><td>샘플링 전략</td><td>고효율 트레이스 수집 방안</td></tr><tr><td>AIOps</td><td>이상 탐지 모델링</td><td>ML 기반 경보 자동화 구성 실습</td></tr></tbody></table><hr><h2 id=9-관련-추가-학습-주제>9. 관련 추가 학습 주제<a hidden class=anchor aria-hidden=true href=#9-관련-추가-학습-주제>#</a></h2><table><thead><tr><th>카테고리</th><th>주제</th><th>설명</th></tr></thead><tbody><tr><td>DevOps</td><td>CI/CD와 연동된 모니터링</td><td>배포 영향 추적</td></tr><tr><td>보안</td><td>로그 기반 보안 분석</td><td>보안 이벤트 실시간 수집 및 대응</td></tr><tr><td>비즈니스 연계</td><td>SLO 중심의 관측 설계</td><td>SLA 기반의 서비스 중심 관측 체계</td></tr><tr><td>대시보드 디자인</td><td>관측용 UX/UI 구성</td><td>효율적인 모니터링 UX 설계 기법</td></tr></tbody></table><hr><h2 id=용어-정리-2>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리-2>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>Observability</td><td>시스템의 상태를 외부에서 이해할 수 있는 능력</td></tr><tr><td>Metrics</td><td>시간 기반 수치 지표 (예: CPU 사용률)</td></tr><tr><td>Logs</td><td>텍스트 기반 이벤트 기록</td></tr><tr><td>Traces</td><td>요청의 흐름 추적 정보</td></tr><tr><td>OpenTelemetry</td><td>통합된 관측 데이터를 수집하는 오픈 표준 프레임워크</td></tr></tbody></table><hr><h2 id=참고-및-출처-2>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처-2>#</a></h2><ul><li><p><a href=https://www.datadoghq.com/blog/what-is-observability/>Datadog - What is Observability</a></p></li><li><p><a href=https://prometheus.io/docs/introduction/overview/>Prometheus 공식 문서</a></p></li><li><p><a href=https://opentelemetry.io/>OpenTelemetry 공식 문서</a></p></li><li><p><a href=https://grafana.com/solutions/observability/>Grafana Labs Observability 소개</a></p></li></ul><hr><h2 id=요약-문장-300자-내외>요약 문장 (300자 내외)<a hidden class=anchor aria-hidden=true href=#요약-문장-300자-내외>#</a></h2><p>Observability는 로그, 메트릭, 트레이스 기반으로 시스템의 내부 상태를 실시간 분석할 수 있도록 하여, 장애 감지, 근본 원인 분석, 자동화된 대응을 가능하게 한다. 클라우드 네이티브 환경과 DevOps에서 핵심 운영 지표로 자리 잡으며 OpenTelemetry, Prometheus, Grafana 등의 도구와 함께 사용된다.</p><hr><p>다음으로 시나리오 기반 다이어그램 또는 OpenTelemetry 기반 실습 예제를 제공해드릴까요?</p><p>다음은 <strong>OpenTelemetry를 활용한 Observability 시나리오 기반 다이어그램</strong>입니다.</p><p><figure><img alt="Observability 시나리오 다이어그램" loading=lazy src=sandbox:/mnt/data/observability_scenario_diagram.png></figure></p><hr><h2 id=-opentelemetry-기반-실습-예제-python-fastapi--otel-collector--prometheus--grafana>✅ OpenTelemetry 기반 실습 예제 (Python FastAPI + OTEL Collector + Prometheus + Grafana)<a hidden class=anchor aria-hidden=true href=#-opentelemetry-기반-실습-예제-python-fastapi--otel-collector--prometheus--grafana>#</a></h2><h3 id=-디렉터리-구성>📁 디렉터리 구성<a hidden class=anchor aria-hidden=true href=#-디렉터리-구성>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3>3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4>4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>/otel-fastapi-demo
</span></span><span class=line><span class=cl>├── main.py
</span></span><span class=line><span class=cl>├── requirements.txt
</span></span><span class=line><span class=cl>├── docker-compose.yml
</span></span><span class=line><span class=cl>├── otel-collector-config.yaml
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=-mainpy-fastapi-애플리케이션-트레이싱--메트릭-수집>✅ <code>main.py</code>: FastAPI 애플리케이션 (트레이싱 + 메트릭 수집)<a hidden class=anchor aria-hidden=true href=#-mainpy-fastapi-애플리케이션-트레이싱--메트릭-수집>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span><span class=lnt id=hl-3-12><a class=lnlinks href=#hl-3-12>12</a>
</span><span class=lnt id=hl-3-13><a class=lnlinks href=#hl-3-13>13</a>
</span><span class=lnt id=hl-3-14><a class=lnlinks href=#hl-3-14>14</a>
</span><span class=lnt id=hl-3-15><a class=lnlinks href=#hl-3-15>15</a>
</span><span class=lnt id=hl-3-16><a class=lnlinks href=#hl-3-16>16</a>
</span><span class=lnt id=hl-3-17><a class=lnlinks href=#hl-3-17>17</a>
</span><span class=lnt id=hl-3-18><a class=lnlinks href=#hl-3-18>18</a>
</span><span class=lnt id=hl-3-19><a class=lnlinks href=#hl-3-19>19</a>
</span><span class=lnt id=hl-3-20><a class=lnlinks href=#hl-3-20>20</a>
</span><span class=lnt id=hl-3-21><a class=lnlinks href=#hl-3-21>21</a>
</span><span class=lnt id=hl-3-22><a class=lnlinks href=#hl-3-22>22</a>
</span><span class=lnt id=hl-3-23><a class=lnlinks href=#hl-3-23>23</a>
</span><span class=lnt id=hl-3-24><a class=lnlinks href=#hl-3-24>24</a>
</span><span class=lnt id=hl-3-25><a class=lnlinks href=#hl-3-25>25</a>
</span><span class=lnt id=hl-3-26><a class=lnlinks href=#hl-3-26>26</a>
</span><span class=lnt id=hl-3-27><a class=lnlinks href=#hl-3-27>27</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>fastapi</span> <span class=kn>import</span> <span class=n>FastAPI</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>opentelemetry</span> <span class=kn>import</span> <span class=n>trace</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>opentelemetry.instrumentation.fastapi</span> <span class=kn>import</span> <span class=n>FastAPIInstrumentor</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>opentelemetry.sdk.resources</span> <span class=kn>import</span> <span class=n>SERVICE_NAME</span><span class=p>,</span> <span class=n>Resource</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>opentelemetry.sdk.trace</span> <span class=kn>import</span> <span class=n>TracerProvider</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>opentelemetry.sdk.trace.export</span> <span class=kn>import</span> <span class=n>BatchSpanProcessor</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>opentelemetry.exporter.otlp.proto.http.trace_exporter</span> <span class=kn>import</span> <span class=n>OTLPSpanExporter</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>FastAPI</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 트레이서 설정</span>
</span></span><span class=line><span class=cl><span class=n>trace</span><span class=o>.</span><span class=n>set_tracer_provider</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>TracerProvider</span><span class=p>(</span><span class=n>resource</span><span class=o>=</span><span class=n>Resource</span><span class=o>.</span><span class=n>create</span><span class=p>({</span><span class=n>SERVICE_NAME</span><span class=p>:</span> <span class=s2>&#34;demo-fastapi&#34;</span><span class=p>}))</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>tracer</span> <span class=o>=</span> <span class=n>trace</span><span class=o>.</span><span class=n>get_tracer</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># OTLP Exporter 설정</span>
</span></span><span class=line><span class=cl><span class=n>otlp_exporter</span> <span class=o>=</span> <span class=n>OTLPSpanExporter</span><span class=p>(</span><span class=n>endpoint</span><span class=o>=</span><span class=s2>&#34;http://otel-collector:4318/v1/traces&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>span_processor</span> <span class=o>=</span> <span class=n>BatchSpanProcessor</span><span class=p>(</span><span class=n>otlp_exporter</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>trace</span><span class=o>.</span><span class=n>get_tracer_provider</span><span class=p>()</span><span class=o>.</span><span class=n>add_span_processor</span><span class=p>(</span><span class=n>span_processor</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>FastAPIInstrumentor</span><span class=p>()</span><span class=o>.</span><span class=n>instrument_app</span><span class=p>(</span><span class=n>app</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.get</span><span class=p>(</span><span class=s2>&#34;/ping&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>ping</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>with</span> <span class=n>tracer</span><span class=o>.</span><span class=n>start_as_current_span</span><span class=p>(</span><span class=s2>&#34;ping-endpoint&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;message&#34;</span><span class=p>:</span> <span class=s2>&#34;pong&#34;</span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=-requirementstxt>✅ <code>requirements.txt</code><a hidden class=anchor aria-hidden=true href=#-requirementstxt>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2>2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3>3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4>4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5>5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>fastapi
</span></span><span class=line><span class=cl>uvicorn
</span></span><span class=line><span class=cl>opentelemetry-api
</span></span><span class=line><span class=cl>opentelemetry-sdk
</span></span><span class=line><span class=cl>opentelemetry-instrumentation-fastapi
</span></span><span class=line><span class=cl>opentelemetry-exporter-otlp
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=-otel-collector-configyaml>✅ <code>otel-collector-config.yaml</code><a hidden class=anchor aria-hidden=true href=#-otel-collector-configyaml>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1> 1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2> 2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3> 3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4> 4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5> 5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6> 6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7> 7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8> 8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9> 9</a>
</span><span class=lnt id=hl-5-10><a class=lnlinks href=#hl-5-10>10</a>
</span><span class=lnt id=hl-5-11><a class=lnlinks href=#hl-5-11>11</a>
</span><span class=lnt id=hl-5-12><a class=lnlinks href=#hl-5-12>12</a>
</span><span class=lnt id=hl-5-13><a class=lnlinks href=#hl-5-13>13</a>
</span><span class=lnt id=hl-5-14><a class=lnlinks href=#hl-5-14>14</a>
</span><span class=lnt id=hl-5-15><a class=lnlinks href=#hl-5-15>15</a>
</span><span class=lnt id=hl-5-16><a class=lnlinks href=#hl-5-16>16</a>
</span><span class=lnt id=hl-5-17><a class=lnlinks href=#hl-5-17>17</a>
</span><span class=lnt id=hl-5-18><a class=lnlinks href=#hl-5-18>18</a>
</span><span class=lnt id=hl-5-19><a class=lnlinks href=#hl-5-19>19</a>
</span><span class=lnt id=hl-5-20><a class=lnlinks href=#hl-5-20>20</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>receivers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>otlp</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>protocols</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>grpc</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>exporters</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>prometheus</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>endpoint</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0.0.0.0:9464&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>logging</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>loglevel</span><span class=p>:</span><span class=w> </span><span class=l>debug</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>pipelines</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>traces</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>receivers</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>otlp]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>exporters</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>logging]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metrics</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>receivers</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>otlp]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>exporters</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>prometheus]</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h3 id=-docker-composeyml>✅ <code>docker-compose.yml</code><a hidden class=anchor aria-hidden=true href=#-docker-composeyml>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a>
</span><span class=lnt id=hl-6-13><a class=lnlinks href=#hl-6-13>13</a>
</span><span class=lnt id=hl-6-14><a class=lnlinks href=#hl-6-14>14</a>
</span><span class=lnt id=hl-6-15><a class=lnlinks href=#hl-6-15>15</a>
</span><span class=lnt id=hl-6-16><a class=lnlinks href=#hl-6-16>16</a>
</span><span class=lnt id=hl-6-17><a class=lnlinks href=#hl-6-17>17</a>
</span><span class=lnt id=hl-6-18><a class=lnlinks href=#hl-6-18>18</a>
</span><span class=lnt id=hl-6-19><a class=lnlinks href=#hl-6-19>19</a>
</span><span class=lnt id=hl-6-20><a class=lnlinks href=#hl-6-20>20</a>
</span><span class=lnt id=hl-6-21><a class=lnlinks href=#hl-6-21>21</a>
</span><span class=lnt id=hl-6-22><a class=lnlinks href=#hl-6-22>22</a>
</span><span class=lnt id=hl-6-23><a class=lnlinks href=#hl-6-23>23</a>
</span><span class=lnt id=hl-6-24><a class=lnlinks href=#hl-6-24>24</a>
</span><span class=lnt id=hl-6-25><a class=lnlinks href=#hl-6-25>25</a>
</span><span class=lnt id=hl-6-26><a class=lnlinks href=#hl-6-26>26</a>
</span><span class=lnt id=hl-6-27><a class=lnlinks href=#hl-6-27>27</a>
</span><span class=lnt id=hl-6-28><a class=lnlinks href=#hl-6-28>28</a>
</span><span class=lnt id=hl-6-29><a class=lnlinks href=#hl-6-29>29</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;3.8&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>services</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>app</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>build</span><span class=p>:</span><span class=w> </span><span class=l>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;8000:8000&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>depends_on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>otel-collector</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>otel-collector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>otel/opentelemetry-collector:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>command</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;--config=/etc/otel/config.yaml&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>volumes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>./otel-collector-config.yaml:/etc/otel/config.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;4318:4318&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;9464:9464&#34;</span><span class=w> </span><span class=c># Prometheus metrics</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>prometheus</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>prom/prometheus</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;9090:9090&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>volumes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>./prometheus.yml:/etc/prometheus/prometheus.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>grafana</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>grafana/grafana</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;3000:3000&#34;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><p>이 실습 구성은 OpenTelemetry SDK로 애플리케이션 데이터를 수집하고 OTEL Collector를 통해 Prometheus 및 Grafana로 시각화할 수 있도록 구성된 엔드 투 엔드 관측 환경입니다.</p><p>원한다면 이 환경을 Kubernetes 기반으로 확장하거나 Jaeger, Loki 등의 로그/트레이스 백엔드 추가 방법도 알려드릴 수 있습니다. 다음으로 어떤 구성에 대해 확장해볼까요?</p><p>아래는 요청하신 두 가지 사항에 대한 상세 가이드입니다.</p><hr><h2 id=-1-kubernetes-기반으로-opentelemetry-observability-확장>✅ 1. Kubernetes 기반으로 OpenTelemetry Observability 확장<a hidden class=anchor aria-hidden=true href=#-1-kubernetes-기반으로-opentelemetry-observability-확장>#</a></h2><h3 id=-목표>📌 목표<a hidden class=anchor aria-hidden=true href=#-목표>#</a></h3><p>OpenTelemetry Collector, Jaeger, Prometheus, Grafana를 <strong>Kubernetes 환경에서 배포</strong>하고, 애플리케이션이 <strong>Trace, Metric, Log</strong>를 수집/분석하도록 구성합니다.</p><hr><h3 id=-핵심-구성-요소>📁 핵심 구성 요소<a hidden class=anchor aria-hidden=true href=#-핵심-구성-요소>#</a></h3><table><thead><tr><th>구성 요소</th><th>설명</th></tr></thead><tbody><tr><td>OpenTelemetry Collector</td><td>수집/변환/전송 파이프라인 구성</td></tr><tr><td>Jaeger</td><td>Trace 시각화 백엔드</td></tr><tr><td>Loki</td><td>로그 저장소</td></tr><tr><td>Prometheus</td><td>메트릭 수집 및 저장</td></tr><tr><td>Grafana</td><td>대시보드 통합 시각화 도구</td></tr><tr><td>Instrumented App</td><td>OTEL SDK 적용된 앱 (예: FastAPI)</td></tr></tbody></table><hr><h3 id=-helm으로-배포하는-주요-컴포넌트>📄 Helm으로 배포하는 주요 컴포넌트<a hidden class=anchor aria-hidden=true href=#-helm으로-배포하는-주요-컴포넌트>#</a></h3><h4 id=1-opentelemetry-collector-helm>1. OpenTelemetry Collector (Helm)<a hidden class=anchor aria-hidden=true href=#1-opentelemetry-collector-helm>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2>2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3>3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4>4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5>5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm repo add open-telemetry https://open-telemetry.github.io/opentelemetry-helm-charts
</span></span><span class=line><span class=cl>helm install otel-collector open-telemetry/opentelemetry-collector <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --set <span class=nv>mode</span><span class=o>=</span>deployment <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --set configMap.create<span class=o>=</span><span class=nb>true</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --set configMap.name<span class=o>=</span>otel-config <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --set configMap.data<span class=o>=</span><span class=s2>&#34;otel-collector-config.yaml&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>예시 OTEL Collector ConfigMap (<code>otel-collector-config.yaml</code>)</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span><span class=lnt id=hl-8-11><a class=lnlinks href=#hl-8-11>11</a>
</span><span class=lnt id=hl-8-12><a class=lnlinks href=#hl-8-12>12</a>
</span><span class=lnt id=hl-8-13><a class=lnlinks href=#hl-8-13>13</a>
</span><span class=lnt id=hl-8-14><a class=lnlinks href=#hl-8-14>14</a>
</span><span class=lnt id=hl-8-15><a class=lnlinks href=#hl-8-15>15</a>
</span><span class=lnt id=hl-8-16><a class=lnlinks href=#hl-8-16>16</a>
</span><span class=lnt id=hl-8-17><a class=lnlinks href=#hl-8-17>17</a>
</span><span class=lnt id=hl-8-18><a class=lnlinks href=#hl-8-18>18</a>
</span><span class=lnt id=hl-8-19><a class=lnlinks href=#hl-8-19>19</a>
</span><span class=lnt id=hl-8-20><a class=lnlinks href=#hl-8-20>20</a>
</span><span class=lnt id=hl-8-21><a class=lnlinks href=#hl-8-21>21</a>
</span><span class=lnt id=hl-8-22><a class=lnlinks href=#hl-8-22>22</a>
</span><span class=lnt id=hl-8-23><a class=lnlinks href=#hl-8-23>23</a>
</span><span class=lnt id=hl-8-24><a class=lnlinks href=#hl-8-24>24</a>
</span><span class=lnt id=hl-8-25><a class=lnlinks href=#hl-8-25>25</a>
</span><span class=lnt id=hl-8-26><a class=lnlinks href=#hl-8-26>26</a>
</span><span class=lnt id=hl-8-27><a class=lnlinks href=#hl-8-27>27</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>receivers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>otlp</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>protocols</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>grpc</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>exporters</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>jaeger</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>endpoint</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;jaeger-collector.default.svc.cluster.local:14250&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>tls</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>insecure</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>prometheus</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>endpoint</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0.0.0.0:8889&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>processors</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>batch</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>pipelines</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>traces</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>receivers</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>otlp]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>processors</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>batch]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>exporters</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>jaeger]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metrics</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>receivers</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>otlp]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>processors</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>batch]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>exporters</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>prometheus]</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h4 id=2-jaeger-설치>2. Jaeger 설치<a hidden class=anchor aria-hidden=true href=#2-jaeger-설치>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1>1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2>2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl create namespace observability
</span></span><span class=line><span class=cl>helm repo add jaegertracing https://jaegertracing.github.io/helm-charts
</span></span><span class=line><span class=cl>helm install jaeger jaegertracing/jaeger --namespace observability
</span></span></code></pre></td></tr></table></div></div><blockquote><p>Jaeger UI: <code>http://&lt;NodeIP>:&lt;NodePort></code> (보통 16686 포트)</p></blockquote><hr><h4 id=3-prometheus--grafana-설치>3. Prometheus + Grafana 설치<a hidden class=anchor aria-hidden=true href=#3-prometheus--grafana-설치>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1>1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm repo add prometheus-community https://prometheus-community.github.io/helm-charts
</span></span><span class=line><span class=cl>helm install kube-prometheus prometheus-community/kube-prometheus-stack --namespace observability
</span></span></code></pre></td></tr></table></div></div><ul><li><p>Prometheus는 OTEL Collector에서 수집한 메트릭을 저장</p></li><li><p>Grafana는 Prometheus와 Jaeger/Loki를 연동해 시각화</p></li></ul><hr><h4 id=4-loki-설치-및-grafana-연동>4. Loki 설치 및 Grafana 연동<a hidden class=anchor aria-hidden=true href=#4-loki-설치-및-grafana-연동>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1>1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm repo add grafana https://grafana.github.io/helm-charts
</span></span><span class=line><span class=cl>helm install loki grafana/loki-stack --namespace observability
</span></span></code></pre></td></tr></table></div></div><ul><li>Grafana Data Source에서 Loki 추가 필요 (<code>http://loki:3100</code>)</li></ul><hr><h2 id=-2-jaeger-loki-등을-opentelemetry-collector에-연동하기>✅ 2. Jaeger, Loki 등을 OpenTelemetry Collector에 연동하기<a hidden class=anchor aria-hidden=true href=#-2-jaeger-loki-등을-opentelemetry-collector에-연동하기>#</a></h2><h3 id=-collector에-jaeger--loki-추가-설정-예시>📌 Collector에 Jaeger & Loki 추가 설정 예시<a hidden class=anchor aria-hidden=true href=#-collector에-jaeger--loki-추가-설정-예시>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1> 1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2> 2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3> 3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4> 4</a>
</span><span class=lnt id=hl-12-5><a class=lnlinks href=#hl-12-5> 5</a>
</span><span class=lnt id=hl-12-6><a class=lnlinks href=#hl-12-6> 6</a>
</span><span class=lnt id=hl-12-7><a class=lnlinks href=#hl-12-7> 7</a>
</span><span class=lnt id=hl-12-8><a class=lnlinks href=#hl-12-8> 8</a>
</span><span class=lnt id=hl-12-9><a class=lnlinks href=#hl-12-9> 9</a>
</span><span class=lnt id=hl-12-10><a class=lnlinks href=#hl-12-10>10</a>
</span><span class=lnt id=hl-12-11><a class=lnlinks href=#hl-12-11>11</a>
</span><span class=lnt id=hl-12-12><a class=lnlinks href=#hl-12-12>12</a>
</span><span class=lnt id=hl-12-13><a class=lnlinks href=#hl-12-13>13</a>
</span><span class=lnt id=hl-12-14><a class=lnlinks href=#hl-12-14>14</a>
</span><span class=lnt id=hl-12-15><a class=lnlinks href=#hl-12-15>15</a>
</span><span class=lnt id=hl-12-16><a class=lnlinks href=#hl-12-16>16</a>
</span><span class=lnt id=hl-12-17><a class=lnlinks href=#hl-12-17>17</a>
</span><span class=lnt id=hl-12-18><a class=lnlinks href=#hl-12-18>18</a>
</span><span class=lnt id=hl-12-19><a class=lnlinks href=#hl-12-19>19</a>
</span><span class=lnt id=hl-12-20><a class=lnlinks href=#hl-12-20>20</a>
</span><span class=lnt id=hl-12-21><a class=lnlinks href=#hl-12-21>21</a>
</span><span class=lnt id=hl-12-22><a class=lnlinks href=#hl-12-22>22</a>
</span><span class=lnt id=hl-12-23><a class=lnlinks href=#hl-12-23>23</a>
</span><span class=lnt id=hl-12-24><a class=lnlinks href=#hl-12-24>24</a>
</span><span class=lnt id=hl-12-25><a class=lnlinks href=#hl-12-25>25</a>
</span><span class=lnt id=hl-12-26><a class=lnlinks href=#hl-12-26>26</a>
</span><span class=lnt id=hl-12-27><a class=lnlinks href=#hl-12-27>27</a>
</span><span class=lnt id=hl-12-28><a class=lnlinks href=#hl-12-28>28</a>
</span><span class=lnt id=hl-12-29><a class=lnlinks href=#hl-12-29>29</a>
</span><span class=lnt id=hl-12-30><a class=lnlinks href=#hl-12-30>30</a>
</span><span class=lnt id=hl-12-31><a class=lnlinks href=#hl-12-31>31</a>
</span><span class=lnt id=hl-12-32><a class=lnlinks href=#hl-12-32>32</a>
</span><span class=lnt id=hl-12-33><a class=lnlinks href=#hl-12-33>33</a>
</span><span class=lnt id=hl-12-34><a class=lnlinks href=#hl-12-34>34</a>
</span><span class=lnt id=hl-12-35><a class=lnlinks href=#hl-12-35>35</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>receivers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>otlp</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>protocols</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>grpc</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>exporters</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>jaeger</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>endpoint</span><span class=p>:</span><span class=w> </span><span class=l>jaeger-collector.default.svc.cluster.local:14250</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>tls</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>insecure</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>loki</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>endpoint</span><span class=p>:</span><span class=w> </span><span class=l>http://loki.default.svc.cluster.local:3100/loki/api/v1/push</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>prometheus</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>endpoint</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0.0.0.0:8889&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>processors</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>batch</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>pipelines</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>traces</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>receivers</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>otlp]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>processors</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>batch]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>exporters</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>jaeger]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metrics</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>receivers</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>otlp]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>processors</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>batch]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>exporters</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>prometheus]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>logs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>receivers</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>otlp]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>processors</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>batch]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>exporters</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>loki]</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>🚨 Loki 로그 수집을 위해 OTEL 로그 exporter 기능이 <strong>Beta 이상 버전</strong>에서 활성화되어야 하며, 애플리케이션도 <code>OpenTelemetry SDK</code>에서 로그 수집이 설정되어 있어야 합니다.</p></blockquote><hr><h2 id=-최종-통합-아키텍처-요약-도식>✅ 최종 통합 아키텍처 (요약 도식)<a hidden class=anchor aria-hidden=true href=#-최종-통합-아키텍처-요약-도식>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1>1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2>2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3>3</a>
</span><span class=lnt id=hl-13-4><a class=lnlinks href=#hl-13-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[App Pod w/ OTEL SDK] ──→ [OTEL Collector]
</span></span><span class=line><span class=cl>     └── Logs/Traces/Metrics → Loki / Jaeger / Prometheus
</span></span><span class=line><span class=cl>                                ↓         ↓         ↓
</span></span><span class=line><span class=cl>                             Grafana 대시보드에서 통합 시각화
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=참고-helm-charts>참고 Helm Charts<a hidden class=anchor aria-hidden=true href=#참고-helm-charts>#</a></h2><ul><li><p>OpenTelemetry Collector: <a href=https://github.com/open-telemetry/opentelemetry-helm-charts>https://github.com/open-telemetry/opentelemetry-helm-charts</a></p></li><li><p>Jaeger: <a href=https://github.com/jaegertracing/helm-charts>https://github.com/jaegertracing/helm-charts</a></p></li><li><p>Loki Stack: <a href=https://github.com/grafana/helm-charts>https://github.com/grafana/helm-charts</a></p></li><li><p>Prometheus Stack: <a href=https://github.com/prometheus-community/helm-charts>https://github.com/prometheus-community/helm-charts</a></p></li></ul><hr><p>다음으로 <code>Grafana 대시보드 구성</code> 또는 <code>OpenTelemetry SDK 로그 수집 설정</code> 예제가 필요하신가요?</p><p>다음은 <strong>Grafana 대시보드 구성 방법</strong>과 <strong>OpenTelemetry SDK 로그 수집 설정 예제</strong>를 상세히 설명한 내용입니다.</p><hr><h2 id=-1-grafana-대시보드-구성>✅ 1. Grafana 대시보드 구성<a hidden class=anchor aria-hidden=true href=#-1-grafana-대시보드-구성>#</a></h2><h3 id=-목적-1>🎯 목적<a hidden class=anchor aria-hidden=true href=#-목적-1>#</a></h3><p>Prometheus, Loki, Jaeger 등으로 수집된 데이터를 <strong>Grafana를 통해 시각화</strong>하는 구성입니다.</p><hr><h3 id=-a-데이터-소스-연결>📁 A. 데이터 소스 연결<a hidden class=anchor aria-hidden=true href=#-a-데이터-소스-연결>#</a></h3><h4 id=-prometheus-연결>① Prometheus 연결<a hidden class=anchor aria-hidden=true href=#-prometheus-연결>#</a></h4><ol><li><p>Grafana 접속 (<code>http://&lt;NodeIP>:3000</code>)</p></li><li><p>좌측 메뉴 → ⚙️ <strong>&ldquo;Configuration&rdquo; > &ldquo;Data Sources&rdquo;</strong></p></li><li><p>→ <strong>Add data source</strong></p></li><li><p>Prometheus 선택</p></li><li><p>URL: <code>http://&lt;prometheus-service>:9090</code></p></li><li><p>Save & Test</p></li></ol><h4 id=-loki-연결>② Loki 연결<a hidden class=anchor aria-hidden=true href=#-loki-연결>#</a></h4><ul><li>URL: <code>http://loki:3100</code></li></ul><h4 id=-jaeger-연결>③ Jaeger 연결<a hidden class=anchor aria-hidden=true href=#-jaeger-연결>#</a></h4><ul><li>URL: <code>http://jaeger-query:16686</code></li></ul><hr><h3 id=-b-대시보드-템플릿-가져오기-빠른-구성>📁 B. 대시보드 템플릿 가져오기 (빠른 구성)<a hidden class=anchor aria-hidden=true href=#-b-대시보드-템플릿-가져오기-빠른-구성>#</a></h3><p>Grafana의 공식 템플릿 사용:</p><ul><li><p>Prometheus 기본 시스템 메트릭: <a href=https://grafana.com/grafana/dashboards/1860>ID: 1860</a></p></li><li><p>Kubernetes Pod 상태: <a href=https://grafana.com/grafana/dashboards/315>ID: 315</a></p></li><li><p>Loki 로그: <a href=https://grafana.com/grafana/dashboards/13639>ID: 13639</a></p></li></ul><h4 id=-가져오는-방법>📌 가져오는 방법<a hidden class=anchor aria-hidden=true href=#-가져오는-방법>#</a></h4><ol><li><p>좌측 메뉴 → &ldquo;+&rdquo; → <strong>Import</strong></p></li><li><p>Dashboard ID 입력</p></li><li><p>Prometheus/Loki 등 해당 데이터 소스 지정</p></li><li><p>Import</p></li></ol><hr><h3 id=-c-커스텀-패널-예시>📁 C. 커스텀 패널 예시<a hidden class=anchor aria-hidden=true href=#-c-커스텀-패널-예시>#</a></h3><p><strong>메트릭 쿼리 (Prometheus):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-promql data-lang=promql><span class=line><span class=cl><span class=kr>rate</span><span class=o>(</span><span class=nv>http_server_requests_total</span><span class=p>[</span><span class=s>1m</span><span class=p>]</span><span class=o>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>로그 쿼리 (Loki):</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{job=&#34;demo-app&#34;} |= &#34;error&#34;
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=-2-opentelemetry-sdk-로그-수집-설정-예제-python-기준>✅ 2. OpenTelemetry SDK 로그 수집 설정 예제 (Python 기준)<a hidden class=anchor aria-hidden=true href=#-2-opentelemetry-sdk-로그-수집-설정-예제-python-기준>#</a></h2><h3 id=-a-설치-패키지>📁 A. 설치 패키지<a hidden class=anchor aria-hidden=true href=#-a-설치-패키지>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1>1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2>2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3>3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>pip install opentelemetry-api <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>            opentelemetry-sdk <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>            opentelemetry-exporter-otlp <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>            opentelemetry-logs
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=-b-python-예제-코드-mainpy>📁 B. Python 예제 코드 (<code>main.py</code>)<a hidden class=anchor aria-hidden=true href=#-b-python-예제-코드-mainpy>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1> 1</a>
</span><span class=lnt id=hl-17-2><a class=lnlinks href=#hl-17-2> 2</a>
</span><span class=lnt id=hl-17-3><a class=lnlinks href=#hl-17-3> 3</a>
</span><span class=lnt id=hl-17-4><a class=lnlinks href=#hl-17-4> 4</a>
</span><span class=lnt id=hl-17-5><a class=lnlinks href=#hl-17-5> 5</a>
</span><span class=lnt id=hl-17-6><a class=lnlinks href=#hl-17-6> 6</a>
</span><span class=lnt id=hl-17-7><a class=lnlinks href=#hl-17-7> 7</a>
</span><span class=lnt id=hl-17-8><a class=lnlinks href=#hl-17-8> 8</a>
</span><span class=lnt id=hl-17-9><a class=lnlinks href=#hl-17-9> 9</a>
</span><span class=lnt id=hl-17-10><a class=lnlinks href=#hl-17-10>10</a>
</span><span class=lnt id=hl-17-11><a class=lnlinks href=#hl-17-11>11</a>
</span><span class=lnt id=hl-17-12><a class=lnlinks href=#hl-17-12>12</a>
</span><span class=lnt id=hl-17-13><a class=lnlinks href=#hl-17-13>13</a>
</span><span class=lnt id=hl-17-14><a class=lnlinks href=#hl-17-14>14</a>
</span><span class=lnt id=hl-17-15><a class=lnlinks href=#hl-17-15>15</a>
</span><span class=lnt id=hl-17-16><a class=lnlinks href=#hl-17-16>16</a>
</span><span class=lnt id=hl-17-17><a class=lnlinks href=#hl-17-17>17</a>
</span><span class=lnt id=hl-17-18><a class=lnlinks href=#hl-17-18>18</a>
</span><span class=lnt id=hl-17-19><a class=lnlinks href=#hl-17-19>19</a>
</span><span class=lnt id=hl-17-20><a class=lnlinks href=#hl-17-20>20</a>
</span><span class=lnt id=hl-17-21><a class=lnlinks href=#hl-17-21>21</a>
</span><span class=lnt id=hl-17-22><a class=lnlinks href=#hl-17-22>22</a>
</span><span class=lnt id=hl-17-23><a class=lnlinks href=#hl-17-23>23</a>
</span><span class=lnt id=hl-17-24><a class=lnlinks href=#hl-17-24>24</a>
</span><span class=lnt id=hl-17-25><a class=lnlinks href=#hl-17-25>25</a>
</span><span class=lnt id=hl-17-26><a class=lnlinks href=#hl-17-26>26</a>
</span><span class=lnt id=hl-17-27><a class=lnlinks href=#hl-17-27>27</a>
</span><span class=lnt id=hl-17-28><a class=lnlinks href=#hl-17-28>28</a>
</span><span class=lnt id=hl-17-29><a class=lnlinks href=#hl-17-29>29</a>
</span><span class=lnt id=hl-17-30><a class=lnlinks href=#hl-17-30>30</a>
</span><span class=lnt id=hl-17-31><a class=lnlinks href=#hl-17-31>31</a>
</span><span class=lnt id=hl-17-32><a class=lnlinks href=#hl-17-32>32</a>
</span><span class=lnt id=hl-17-33><a class=lnlinks href=#hl-17-33>33</a>
</span><span class=lnt id=hl-17-34><a class=lnlinks href=#hl-17-34>34</a>
</span><span class=lnt id=hl-17-35><a class=lnlinks href=#hl-17-35>35</a>
</span><span class=lnt id=hl-17-36><a class=lnlinks href=#hl-17-36>36</a>
</span><span class=lnt id=hl-17-37><a class=lnlinks href=#hl-17-37>37</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>logging</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>fastapi</span> <span class=kn>import</span> <span class=n>FastAPI</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>opentelemetry.sdk.logs</span> <span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>LoggerProvider</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>LoggingHandler</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>BatchLogProcessor</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>opentelemetry.exporter.otlp.proto.http.log_exporter</span> <span class=kn>import</span> <span class=n>OTLPLogExporter</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>opentelemetry.sdk.resources</span> <span class=kn>import</span> <span class=n>Resource</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Logger 초기화</span>
</span></span><span class=line><span class=cl><span class=n>resource</span> <span class=o>=</span> <span class=n>Resource</span><span class=o>.</span><span class=n>create</span><span class=p>({</span><span class=s2>&#34;service.name&#34;</span><span class=p>:</span> <span class=s2>&#34;demo-fastapi-log&#34;</span><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=n>logger_provider</span> <span class=o>=</span> <span class=n>LoggerProvider</span><span class=p>(</span><span class=n>resource</span><span class=o>=</span><span class=n>resource</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>log_exporter</span> <span class=o>=</span> <span class=n>OTLPLogExporter</span><span class=p>(</span><span class=n>endpoint</span><span class=o>=</span><span class=s2>&#34;http://otel-collector:4318/v1/logs&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 로그 처리기 등록</span>
</span></span><span class=line><span class=cl><span class=n>logger_provider</span><span class=o>.</span><span class=n>add_log_processor</span><span class=p>(</span><span class=n>BatchLogProcessor</span><span class=p>(</span><span class=n>log_exporter</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>handler</span> <span class=o>=</span> <span class=n>LoggingHandler</span><span class=p>(</span><span class=n>level</span><span class=o>=</span><span class=n>logging</span><span class=o>.</span><span class=n>INFO</span><span class=p>,</span> <span class=n>logger_provider</span><span class=o>=</span><span class=n>logger_provider</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 기본 로거 구성</span>
</span></span><span class=line><span class=cl><span class=n>logging</span><span class=o>.</span><span class=n>basicConfig</span><span class=p>(</span><span class=n>level</span><span class=o>=</span><span class=n>logging</span><span class=o>.</span><span class=n>INFO</span><span class=p>,</span> <span class=n>handlers</span><span class=o>=</span><span class=p>[</span><span class=n>handler</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>FastAPI</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.get</span><span class=p>(</span><span class=s2>&#34;/health&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>health_check</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&#34;Health check called&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;ok&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.get</span><span class=p>(</span><span class=s2>&#34;/error&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>error_route</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=mi>1</span> <span class=o>/</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Exception occurred: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;error&#34;</span><span class=p>:</span> <span class=s2>&#34;Internal error&#34;</span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=-c-otel-collector-로그-파이프라인-설정>📁 C. OTEL Collector 로그 파이프라인 설정<a hidden class=anchor aria-hidden=true href=#-c-otel-collector-로그-파이프라인-설정>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1> 1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2> 2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3> 3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4> 4</a>
</span><span class=lnt id=hl-18-5><a class=lnlinks href=#hl-18-5> 5</a>
</span><span class=lnt id=hl-18-6><a class=lnlinks href=#hl-18-6> 6</a>
</span><span class=lnt id=hl-18-7><a class=lnlinks href=#hl-18-7> 7</a>
</span><span class=lnt id=hl-18-8><a class=lnlinks href=#hl-18-8> 8</a>
</span><span class=lnt id=hl-18-9><a class=lnlinks href=#hl-18-9> 9</a>
</span><span class=lnt id=hl-18-10><a class=lnlinks href=#hl-18-10>10</a>
</span><span class=lnt id=hl-18-11><a class=lnlinks href=#hl-18-11>11</a>
</span><span class=lnt id=hl-18-12><a class=lnlinks href=#hl-18-12>12</a>
</span><span class=lnt id=hl-18-13><a class=lnlinks href=#hl-18-13>13</a>
</span><span class=lnt id=hl-18-14><a class=lnlinks href=#hl-18-14>14</a>
</span><span class=lnt id=hl-18-15><a class=lnlinks href=#hl-18-15>15</a>
</span><span class=lnt id=hl-18-16><a class=lnlinks href=#hl-18-16>16</a>
</span><span class=lnt id=hl-18-17><a class=lnlinks href=#hl-18-17>17</a>
</span><span class=lnt id=hl-18-18><a class=lnlinks href=#hl-18-18>18</a>
</span><span class=lnt id=hl-18-19><a class=lnlinks href=#hl-18-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>receivers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>otlp</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>protocols</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>grpc</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>exporters</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>loki</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>endpoint</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;http://loki.default.svc.cluster.local:3100/loki/api/v1/push&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>processors</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>batch</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>pipelines</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>logs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>receivers</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>otlp]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>processors</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>batch]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>exporters</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>loki]</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h2 id=-결과-확인>🔍 결과 확인<a hidden class=anchor aria-hidden=true href=#-결과-확인>#</a></h2><table><thead><tr><th>도구</th><th>확인 내용</th></tr></thead><tbody><tr><td><strong>Grafana</strong></td><td>메트릭 대시보드, 로그 검색 패널 생성</td></tr><tr><td><strong>Jaeger</strong></td><td><code>/health</code>, <code>/error</code> 호출 트레이스 추적</td></tr><tr><td><strong>Loki</strong></td><td><code>"Exception occurred"</code> 로그 필터링 검색 가능</td></tr></tbody></table><hr><p>다음으로 Jaeger 트레이스 시각화 구성, 로그 필터링 쿼리 고급 활용법, 또는 Kubernetes 환경 자동 배포 구성에 대해 알아보시겠어요?</p><p>아래는 요청하신 3가지 주제에 대해 실무 적용 중심으로 상세히 정리한 내용입니다.</p><hr><h2 id=-1-jaeger-트레이스-시각화-구성>✅ 1. <strong>Jaeger 트레이스 시각화 구성</strong><a hidden class=anchor aria-hidden=true href=#-1-jaeger-트레이스-시각화-구성>#</a></h2><h3 id=-목적-2>📌 목적<a hidden class=anchor aria-hidden=true href=#-목적-2>#</a></h3><p>서비스 간 요청 흐름을 트레이스로 시각화하여 <strong>병목 구간, 장애 지점, 호출 관계 분석</strong>에 활용</p><hr><h3 id=-구성-요소>📁 구성 요소<a hidden class=anchor aria-hidden=true href=#-구성-요소>#</a></h3><table><thead><tr><th>구성 요소</th><th>설명</th></tr></thead><tbody><tr><td>OpenTelemetry SDK</td><td>Trace 생성 및 수집 (Span 단위로 구성)</td></tr><tr><td>OTEL Collector</td><td>수집된 Trace를 Jaeger로 전달</td></tr><tr><td>Jaeger Collector</td><td>수신한 Trace 저장</td></tr><tr><td>Jaeger UI</td><td>Trace 데이터 시각화 대시보드 (<code>http://&lt;jaeger-host>:16686</code>)</td></tr></tbody></table><hr><h3 id=-서비스-코드-예시-python--fastapi>✅ 서비스 코드 예시 (Python + FastAPI)<a hidden class=anchor aria-hidden=true href=#-서비스-코드-예시-python--fastapi>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1> 1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2> 2</a>
</span><span class=lnt id=hl-19-3><a class=lnlinks href=#hl-19-3> 3</a>
</span><span class=lnt id=hl-19-4><a class=lnlinks href=#hl-19-4> 4</a>
</span><span class=lnt id=hl-19-5><a class=lnlinks href=#hl-19-5> 5</a>
</span><span class=lnt id=hl-19-6><a class=lnlinks href=#hl-19-6> 6</a>
</span><span class=lnt id=hl-19-7><a class=lnlinks href=#hl-19-7> 7</a>
</span><span class=lnt id=hl-19-8><a class=lnlinks href=#hl-19-8> 8</a>
</span><span class=lnt id=hl-19-9><a class=lnlinks href=#hl-19-9> 9</a>
</span><span class=lnt id=hl-19-10><a class=lnlinks href=#hl-19-10>10</a>
</span><span class=lnt id=hl-19-11><a class=lnlinks href=#hl-19-11>11</a>
</span><span class=lnt id=hl-19-12><a class=lnlinks href=#hl-19-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>opentelemetry</span> <span class=kn>import</span> <span class=n>trace</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>opentelemetry.instrumentation.fastapi</span> <span class=kn>import</span> <span class=n>FastAPIInstrumentor</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>tracer</span> <span class=o>=</span> <span class=n>trace</span><span class=o>.</span><span class=n>get_tracer</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.get</span><span class=p>(</span><span class=s2>&#34;/process&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>process_task</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>with</span> <span class=n>tracer</span><span class=o>.</span><span class=n>start_as_current_span</span><span class=p>(</span><span class=s2>&#34;process-task&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>span</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 서브 태스크도 트레이스로 추적 가능</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=n>some_db_query</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>span</span><span class=o>.</span><span class=n>set_attribute</span><span class=p>(</span><span class=s2>&#34;db.result_length&#34;</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>result</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=n>result</span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=-jaeger-ui-구성-방법>✅ Jaeger UI 구성 방법<a hidden class=anchor aria-hidden=true href=#-jaeger-ui-구성-방법>#</a></h3><ol><li><p>Jaeger UI 접속 (<code>http://&lt;IP>:16686</code>)</p></li><li><p><strong>Service</strong> 선택 (예: <code>demo-fastapi</code>)</p></li><li><p><strong>Operation</strong> 선택 (예: <code>GET /process</code>)</p></li><li><p>시간 범위 및 필터 설정 후 <strong>Find Traces</strong></p></li><li><p>Trace 세부 정보에서 호출 트리와 타임라인 분석 가능</p></li></ol><hr><h2 id=-2-loki-로그-필터링-고급-쿼리-활용법-logql>✅ 2. <strong>Loki 로그 필터링 고급 쿼리 활용법 (LogQL)</strong><a hidden class=anchor aria-hidden=true href=#-2-loki-로그-필터링-고급-쿼리-활용법-logql>#</a></h2><h3 id=-기본-문법>📌 기본 문법<a hidden class=anchor aria-hidden=true href=#-기본-문법>#</a></h3><h4 id=-로그-필터-예시>📁 로그 필터 예시<a hidden class=anchor aria-hidden=true href=#-로그-필터-예시>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-20-1><a class=lnlinks href=#hl-20-1>1</a>
</span><span class=lnt id=hl-20-2><a class=lnlinks href=#hl-20-2>2</a>
</span><span class=lnt id=hl-20-3><a class=lnlinks href=#hl-20-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{app=&#34;demo&#34;} |= &#34;error&#34;            # &#34;error&#34; 문자열 포함
</span></span><span class=line><span class=cl>{app=&#34;demo&#34;} != &#34;debug&#34;            # &#34;debug&#34; 문자열 제외
</span></span><span class=line><span class=cl>{app=&#34;demo&#34;} |~ &#34;timeout|503&#34;      # 정규표현식 OR
</span></span></code></pre></td></tr></table></div></div><h4 id=-메트릭-파생-로그를-수치화>📁 메트릭 파생 (로그를 수치화)<a hidden class=anchor aria-hidden=true href=#-메트릭-파생-로그를-수치화>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>count_over_time({app=&#34;api&#34;} |= &#34;500&#34;[5m])
</span></span></code></pre></td></tr></table></div></div><h4 id=-라벨별-통계-집계>📁 라벨별 통계 집계<a hidden class=anchor aria-hidden=true href=#-라벨별-통계-집계>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sum by (job) (rate({job=~&#34;.*&#34;}[1m]))
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=-실전-활용-팁>📁 실전 활용 팁<a hidden class=anchor aria-hidden=true href=#-실전-활용-팁>#</a></h3><table><thead><tr><th>목적</th><th>쿼리 예시</th><th>설명</th></tr></thead><tbody><tr><td>에러 수 추적</td><td>`count_over_time({job=&ldquo;web&rdquo;}</td><td>= &ldquo;ERROR&rdquo;[5m])`</td></tr><tr><td>특정 사용자 추적</td><td>`{user_id=&ldquo;123&rdquo;}</td><td>= &ldquo;login&rdquo;`</td></tr><tr><td>응답 시간 추적</td><td>`</td><td>json</td></tr></tbody></table><blockquote><p>JSON 로그는 Loki + <code>| json</code> 파서를 통해 Key-Value 필터링 가능</p></blockquote><hr><h2 id=-3-kubernetes-환경-자동-배포-구성-gitops--helm--argocd>✅ 3. <strong>Kubernetes 환경 자동 배포 구성 (GitOps + Helm + ArgoCD)</strong><a hidden class=anchor aria-hidden=true href=#-3-kubernetes-환경-자동-배포-구성-gitops--helm--argocd>#</a></h2><h3 id=-목표-1>📌 목표<a hidden class=anchor aria-hidden=true href=#-목표-1>#</a></h3><p>코드 변경 시 자동으로 K8s 클러스터에 배포되도록 구성</p><hr><h3 id=-구성-요소-1>📁 구성 요소<a hidden class=anchor aria-hidden=true href=#-구성-요소-1>#</a></h3><table><thead><tr><th>구성 요소</th><th>설명</th></tr></thead><tbody><tr><td>GitHub</td><td>Helm Chart, K8s manifest 버전 관리</td></tr><tr><td>ArgoCD</td><td>Git 변경 감지 후 자동 배포 수행</td></tr><tr><td>Helm</td><td>파라미터화된 템플릿으로 YAML 생성</td></tr><tr><td>CI 도구 (선택)</td><td>YAML 생성 후 Git 푸시 자동화 (예: GitHub Actions)</td></tr></tbody></table><hr><h3 id=-argocd-설치>📁 ArgoCD 설치<a hidden class=anchor aria-hidden=true href=#-argocd-설치>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1>1</a>
</span><span class=lnt id=hl-23-2><a class=lnlinks href=#hl-23-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl create namespace argocd
</span></span><span class=line><span class=cl>kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml
</span></span></code></pre></td></tr></table></div></div><p>ArgoCD UI 접속: <code>kubectl port-forward svc/argocd-server -n argocd 8080:443</code></p><hr><h3 id=-app-배포-선언-argocd-appyaml>📁 App 배포 선언 (<code>argocd-app.yaml</code>)<a hidden class=anchor aria-hidden=true href=#-app-배포-선언-argocd-appyaml>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1> 1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2> 2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3> 3</a>
</span><span class=lnt id=hl-24-4><a class=lnlinks href=#hl-24-4> 4</a>
</span><span class=lnt id=hl-24-5><a class=lnlinks href=#hl-24-5> 5</a>
</span><span class=lnt id=hl-24-6><a class=lnlinks href=#hl-24-6> 6</a>
</span><span class=lnt id=hl-24-7><a class=lnlinks href=#hl-24-7> 7</a>
</span><span class=lnt id=hl-24-8><a class=lnlinks href=#hl-24-8> 8</a>
</span><span class=lnt id=hl-24-9><a class=lnlinks href=#hl-24-9> 9</a>
</span><span class=lnt id=hl-24-10><a class=lnlinks href=#hl-24-10>10</a>
</span><span class=lnt id=hl-24-11><a class=lnlinks href=#hl-24-11>11</a>
</span><span class=lnt id=hl-24-12><a class=lnlinks href=#hl-24-12>12</a>
</span><span class=lnt id=hl-24-13><a class=lnlinks href=#hl-24-13>13</a>
</span><span class=lnt id=hl-24-14><a class=lnlinks href=#hl-24-14>14</a>
</span><span class=lnt id=hl-24-15><a class=lnlinks href=#hl-24-15>15</a>
</span><span class=lnt id=hl-24-16><a class=lnlinks href=#hl-24-16>16</a>
</span><span class=lnt id=hl-24-17><a class=lnlinks href=#hl-24-17>17</a>
</span><span class=lnt id=hl-24-18><a class=lnlinks href=#hl-24-18>18</a>
</span><span class=lnt id=hl-24-19><a class=lnlinks href=#hl-24-19>19</a>
</span><span class=lnt id=hl-24-20><a class=lnlinks href=#hl-24-20>20</a>
</span><span class=lnt id=hl-24-21><a class=lnlinks href=#hl-24-21>21</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>argoproj.io/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Application</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>demo-app</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>argocd</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>destination</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>server</span><span class=p>:</span><span class=w> </span><span class=l>https://kubernetes.default.svc</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>project</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>source</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>repoURL</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/user/observability-k8s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>targetRevision</span><span class=p>:</span><span class=w> </span><span class=l>HEAD</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>helm/demo-app</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>helm</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>valueFiles</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>values-prod.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>syncPolicy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>automated</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>prune</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>selfHeal</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h3 id=-github-actions-ci-선택>📁 GitHub Actions CI (선택)<a hidden class=anchor aria-hidden=true href=#-github-actions-ci-선택>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1> 1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2> 2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3> 3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4> 4</a>
</span><span class=lnt id=hl-25-5><a class=lnlinks href=#hl-25-5> 5</a>
</span><span class=lnt id=hl-25-6><a class=lnlinks href=#hl-25-6> 6</a>
</span><span class=lnt id=hl-25-7><a class=lnlinks href=#hl-25-7> 7</a>
</span><span class=lnt id=hl-25-8><a class=lnlinks href=#hl-25-8> 8</a>
</span><span class=lnt id=hl-25-9><a class=lnlinks href=#hl-25-9> 9</a>
</span><span class=lnt id=hl-25-10><a class=lnlinks href=#hl-25-10>10</a>
</span><span class=lnt id=hl-25-11><a class=lnlinks href=#hl-25-11>11</a>
</span><span class=lnt id=hl-25-12><a class=lnlinks href=#hl-25-12>12</a>
</span><span class=lnt id=hl-25-13><a class=lnlinks href=#hl-25-13>13</a>
</span><span class=lnt id=hl-25-14><a class=lnlinks href=#hl-25-14>14</a>
</span><span class=lnt id=hl-25-15><a class=lnlinks href=#hl-25-15>15</a>
</span><span class=lnt id=hl-25-16><a class=lnlinks href=#hl-25-16>16</a>
</span><span class=lnt id=hl-25-17><a class=lnlinks href=#hl-25-17>17</a>
</span><span class=lnt id=hl-25-18><a class=lnlinks href=#hl-25-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy on Commit</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>main]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>deploy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Commit changes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          helm template ./helm/demo-app &gt; ./manifests/deployment.yaml
</span></span></span><span class=line><span class=cl><span class=sd>          git add .
</span></span></span><span class=line><span class=cl><span class=sd>          git commit -m &#34;Update deployment from Helm&#34;
</span></span></span><span class=line><span class=cl><span class=sd>          git push</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h2 id=-통합-활용-예시-시나리오>✅ 통합 활용 예시 시나리오<a hidden class=anchor aria-hidden=true href=#-통합-활용-예시-시나리오>#</a></h2><ol><li><p>개발자가 FastAPI 코드 수정 → GitHub Push</p></li><li><p>GitOps (ArgoCD)가 자동으로 K8s 클러스터에 반영</p></li><li><p>서비스 동작 중 로그/트레이스/메트릭 수집</p></li><li><p>Grafana에서 시각화 + 이상 감지</p></li></ol><hr><p>필요하시면 위 구성의 GitOps 레포 구조, Prometheus Rule 설정, 또는 Loki Alertmanager 연동까지도 이어서 정리해드릴 수 있습니다. 어떤 주제로 확장해볼까요?</p><p>좋습니다. 아래는 요청하신 세 가지 항목에 대해 실무 중심으로 정리한 내용입니다:</p><hr><h2 id=-1-gitops-레포-구조-helm-기반>✅ 1. GitOps 레포 구조 (Helm 기반)<a hidden class=anchor aria-hidden=true href=#-1-gitops-레포-구조-helm-기반>#</a></h2><h3 id=-git-repository-구조-예시>📁 Git Repository 구조 예시<a hidden class=anchor aria-hidden=true href=#-git-repository-구조-예시>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1> 1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2> 2</a>
</span><span class=lnt id=hl-26-3><a class=lnlinks href=#hl-26-3> 3</a>
</span><span class=lnt id=hl-26-4><a class=lnlinks href=#hl-26-4> 4</a>
</span><span class=lnt id=hl-26-5><a class=lnlinks href=#hl-26-5> 5</a>
</span><span class=lnt id=hl-26-6><a class=lnlinks href=#hl-26-6> 6</a>
</span><span class=lnt id=hl-26-7><a class=lnlinks href=#hl-26-7> 7</a>
</span><span class=lnt id=hl-26-8><a class=lnlinks href=#hl-26-8> 8</a>
</span><span class=lnt id=hl-26-9><a class=lnlinks href=#hl-26-9> 9</a>
</span><span class=lnt id=hl-26-10><a class=lnlinks href=#hl-26-10>10</a>
</span><span class=lnt id=hl-26-11><a class=lnlinks href=#hl-26-11>11</a>
</span><span class=lnt id=hl-26-12><a class=lnlinks href=#hl-26-12>12</a>
</span><span class=lnt id=hl-26-13><a class=lnlinks href=#hl-26-13>13</a>
</span><span class=lnt id=hl-26-14><a class=lnlinks href=#hl-26-14>14</a>
</span><span class=lnt id=hl-26-15><a class=lnlinks href=#hl-26-15>15</a>
</span><span class=lnt id=hl-26-16><a class=lnlinks href=#hl-26-16>16</a>
</span><span class=lnt id=hl-26-17><a class=lnlinks href=#hl-26-17>17</a>
</span><span class=lnt id=hl-26-18><a class=lnlinks href=#hl-26-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>observability-k8s/
</span></span><span class=line><span class=cl>├── helm/
</span></span><span class=line><span class=cl>│   └── demo-app/
</span></span><span class=line><span class=cl>│       ├── charts/
</span></span><span class=line><span class=cl>│       ├── templates/
</span></span><span class=line><span class=cl>│       │   ├── deployment.yaml
</span></span><span class=line><span class=cl>│       │   └── service.yaml
</span></span><span class=line><span class=cl>│       ├── values.yaml
</span></span><span class=line><span class=cl>│       └── Chart.yaml
</span></span><span class=line><span class=cl>├── manifests/
</span></span><span class=line><span class=cl>│   └── argocd-app.yaml
</span></span><span class=line><span class=cl>├── rules/
</span></span><span class=line><span class=cl>│   └── prometheus-rules.yaml
</span></span><span class=line><span class=cl>├── dashboards/
</span></span><span class=line><span class=cl>│   └── grafana-dashboard.json
</span></span><span class=line><span class=cl>├── logs/
</span></span><span class=line><span class=cl>│   └── loki-alerts.yaml
</span></span><span class=line><span class=cl>└── README.md
</span></span></code></pre></td></tr></table></div></div><h3 id=-포인트>📌 포인트<a hidden class=anchor aria-hidden=true href=#-포인트>#</a></h3><ul><li><p><code>helm/</code>: 애플리케이션의 Helm 차트 (재사용 가능)</p></li><li><p><code>manifests/</code>: ArgoCD나 Kustomize에서 배포할 앱 정의</p></li><li><p><code>rules/</code>, <code>logs/</code>: 관측 도구에 적용할 알림 규칙</p></li></ul><hr><h2 id=-2-prometheus-rule-설정-custom-alerts>✅ 2. Prometheus Rule 설정 (Custom Alerts)<a hidden class=anchor aria-hidden=true href=#-2-prometheus-rule-설정-custom-alerts>#</a></h2><h3 id=-prometheus-rulesyaml-예시>📄 <code>prometheus-rules.yaml</code> 예시<a hidden class=anchor aria-hidden=true href=#-prometheus-rulesyaml-예시>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1> 1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2> 2</a>
</span><span class=lnt id=hl-27-3><a class=lnlinks href=#hl-27-3> 3</a>
</span><span class=lnt id=hl-27-4><a class=lnlinks href=#hl-27-4> 4</a>
</span><span class=lnt id=hl-27-5><a class=lnlinks href=#hl-27-5> 5</a>
</span><span class=lnt id=hl-27-6><a class=lnlinks href=#hl-27-6> 6</a>
</span><span class=lnt id=hl-27-7><a class=lnlinks href=#hl-27-7> 7</a>
</span><span class=lnt id=hl-27-8><a class=lnlinks href=#hl-27-8> 8</a>
</span><span class=lnt id=hl-27-9><a class=lnlinks href=#hl-27-9> 9</a>
</span><span class=lnt id=hl-27-10><a class=lnlinks href=#hl-27-10>10</a>
</span><span class=lnt id=hl-27-11><a class=lnlinks href=#hl-27-11>11</a>
</span><span class=lnt id=hl-27-12><a class=lnlinks href=#hl-27-12>12</a>
</span><span class=lnt id=hl-27-13><a class=lnlinks href=#hl-27-13>13</a>
</span><span class=lnt id=hl-27-14><a class=lnlinks href=#hl-27-14>14</a>
</span><span class=lnt id=hl-27-15><a class=lnlinks href=#hl-27-15>15</a>
</span><span class=lnt id=hl-27-16><a class=lnlinks href=#hl-27-16>16</a>
</span><span class=lnt id=hl-27-17><a class=lnlinks href=#hl-27-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>monitoring.coreos.com/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>PrometheusRule</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>demo-app-rules</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>monitoring</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>http.rules</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>alert</span><span class=p>:</span><span class=w> </span><span class=l>HighErrorRate</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class=l>rate(http_requests_total{status=~&#34;5..&#34;}[5m]) &gt; 0.05</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>for</span><span class=p>:</span><span class=w> </span><span class=l>1m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class=l>warning</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;High error rate detected&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;More than 5% of requests are failing in the last 5 minutes.&#34;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=-적용-방법>📌 적용 방법<a hidden class=anchor aria-hidden=true href=#-적용-방법>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-28-1><a class=lnlinks href=#hl-28-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl apply -f rules/prometheus-rules.yaml
</span></span></code></pre></td></tr></table></div></div><blockquote><p>주의: Prometheus Operator를 사용 중이어야 합니다.</p></blockquote><hr><h2 id=-3-loki--alertmanager-연동-로그-기반-알림>✅ 3. Loki + Alertmanager 연동 (로그 기반 알림)<a hidden class=anchor aria-hidden=true href=#-3-loki--alertmanager-연동-로그-기반-알림>#</a></h2><h3 id=-a-loki-log-rule-예시-logql-기반>📄 A. Loki Log Rule 예시 (LogQL 기반)<a hidden class=anchor aria-hidden=true href=#-a-loki-log-rule-예시-logql-기반>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-29-1><a class=lnlinks href=#hl-29-1> 1</a>
</span><span class=lnt id=hl-29-2><a class=lnlinks href=#hl-29-2> 2</a>
</span><span class=lnt id=hl-29-3><a class=lnlinks href=#hl-29-3> 3</a>
</span><span class=lnt id=hl-29-4><a class=lnlinks href=#hl-29-4> 4</a>
</span><span class=lnt id=hl-29-5><a class=lnlinks href=#hl-29-5> 5</a>
</span><span class=lnt id=hl-29-6><a class=lnlinks href=#hl-29-6> 6</a>
</span><span class=lnt id=hl-29-7><a class=lnlinks href=#hl-29-7> 7</a>
</span><span class=lnt id=hl-29-8><a class=lnlinks href=#hl-29-8> 8</a>
</span><span class=lnt id=hl-29-9><a class=lnlinks href=#hl-29-9> 9</a>
</span><span class=lnt id=hl-29-10><a class=lnlinks href=#hl-29-10>10</a>
</span><span class=lnt id=hl-29-11><a class=lnlinks href=#hl-29-11>11</a>
</span><span class=lnt id=hl-29-12><a class=lnlinks href=#hl-29-12>12</a>
</span><span class=lnt id=hl-29-13><a class=lnlinks href=#hl-29-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>groups</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>demo-loki-alerts</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>interval</span><span class=p>:</span><span class=w> </span><span class=l>1m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>alert</span><span class=p>:</span><span class=w> </span><span class=l>HighErrorLogs</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          count_over_time({app=&#34;demo&#34;} |= &#34;ERROR&#34;[5m]) &gt; 10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>for</span><span class=p>:</span><span class=w> </span><span class=l>2m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class=l>critical</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Excessive error logs detected&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Over 10 ERROR logs found in the past 5 minutes.&#34;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h3 id=-b-alertmanager-설정-alertmanageryaml>📄 B. Alertmanager 설정 (<code>alertmanager.yaml</code>)<a hidden class=anchor aria-hidden=true href=#-b-alertmanager-설정-alertmanageryaml>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-30-1><a class=lnlinks href=#hl-30-1> 1</a>
</span><span class=lnt id=hl-30-2><a class=lnlinks href=#hl-30-2> 2</a>
</span><span class=lnt id=hl-30-3><a class=lnlinks href=#hl-30-3> 3</a>
</span><span class=lnt id=hl-30-4><a class=lnlinks href=#hl-30-4> 4</a>
</span><span class=lnt id=hl-30-5><a class=lnlinks href=#hl-30-5> 5</a>
</span><span class=lnt id=hl-30-6><a class=lnlinks href=#hl-30-6> 6</a>
</span><span class=lnt id=hl-30-7><a class=lnlinks href=#hl-30-7> 7</a>
</span><span class=lnt id=hl-30-8><a class=lnlinks href=#hl-30-8> 8</a>
</span><span class=lnt id=hl-30-9><a class=lnlinks href=#hl-30-9> 9</a>
</span><span class=lnt id=hl-30-10><a class=lnlinks href=#hl-30-10>10</a>
</span><span class=lnt id=hl-30-11><a class=lnlinks href=#hl-30-11>11</a>
</span><span class=lnt id=hl-30-12><a class=lnlinks href=#hl-30-12>12</a>
</span><span class=lnt id=hl-30-13><a class=lnlinks href=#hl-30-13>13</a>
</span><span class=lnt id=hl-30-14><a class=lnlinks href=#hl-30-14>14</a>
</span><span class=lnt id=hl-30-15><a class=lnlinks href=#hl-30-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>global</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>resolve_timeout</span><span class=p>:</span><span class=w> </span><span class=l>5m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>receivers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;slack-alert&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>slack_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>channel</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;#alerts&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>send_resolved</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>text</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ .CommonAnnotations.description }}&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>route</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>receiver</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;slack-alert&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>group_wait</span><span class=p>:</span><span class=w> </span><span class=l>10s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>group_interval</span><span class=p>:</span><span class=w> </span><span class=l>30s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>repeat_interval</span><span class=p>:</span><span class=w> </span><span class=l>30m</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=-연결-순서>📌 연결 순서<a hidden class=anchor aria-hidden=true href=#-연결-순서>#</a></h3><ol><li><p>Prometheus → Alertmanager: 메트릭 기반 알림 전송</p></li><li><p>Loki Ruler → Alertmanager: 로그 기반 알림 전송</p></li><li><p>Alertmanager → Slack/Webhook 등: 사용자 알림 발송</p></li></ol><hr><h2 id=-전체-구성-요약-다이어그램>✅ 전체 구성 요약 다이어그램<a hidden class=anchor aria-hidden=true href=#-전체-구성-요약-다이어그램>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-31-1><a class=lnlinks href=#hl-31-1> 1</a>
</span><span class=lnt id=hl-31-2><a class=lnlinks href=#hl-31-2> 2</a>
</span><span class=lnt id=hl-31-3><a class=lnlinks href=#hl-31-3> 3</a>
</span><span class=lnt id=hl-31-4><a class=lnlinks href=#hl-31-4> 4</a>
</span><span class=lnt id=hl-31-5><a class=lnlinks href=#hl-31-5> 5</a>
</span><span class=lnt id=hl-31-6><a class=lnlinks href=#hl-31-6> 6</a>
</span><span class=lnt id=hl-31-7><a class=lnlinks href=#hl-31-7> 7</a>
</span><span class=lnt id=hl-31-8><a class=lnlinks href=#hl-31-8> 8</a>
</span><span class=lnt id=hl-31-9><a class=lnlinks href=#hl-31-9> 9</a>
</span><span class=lnt id=hl-31-10><a class=lnlinks href=#hl-31-10>10</a>
</span><span class=lnt id=hl-31-11><a class=lnlinks href=#hl-31-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[GitHub]
</span></span><span class=line><span class=cl>   │
</span></span><span class=line><span class=cl>   └──→ [ArgoCD] ──→ [Kubernetes Deploy]
</span></span><span class=line><span class=cl>                           │
</span></span><span class=line><span class=cl>               ┌───────────┴────────────┐
</span></span><span class=line><span class=cl>               ▼                        ▼
</span></span><span class=line><span class=cl>         [Prometheus]             [Loki + Ruler]
</span></span><span class=line><span class=cl>               │                        │
</span></span><span class=line><span class=cl>               └────→ [Alertmanager] ←──┘
</span></span><span class=line><span class=cl>                           │
</span></span><span class=line><span class=cl>                      [Slack / Email]
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=-실무-팁>🔧 실무 팁<a hidden class=anchor aria-hidden=true href=#-실무-팁>#</a></h2><table><thead><tr><th>항목</th><th>권장 사항</th></tr></thead><tbody><tr><td>Alert Routing</td><td>팀/서비스 별로 <code>receiver</code> 분리</td></tr><tr><td>Noise 감소</td><td><code>for</code> 조건과 <code>severity</code> 레벨 설정</td></tr><tr><td>GitOps 유지</td><td>알림 설정도 Git에서 관리/버전관리</td></tr><tr><td>시각화 연결</td><td>경보 관련 메트릭/로그를 Grafana와 연결</td></tr></tbody></table><hr><p>필요하시면 <strong>실제 Slack 연동 예시</strong>, <strong>Webhook 연동 구성</strong>, <strong>Alert 테스트 시나리오</strong>까지도 제공해드릴 수 있습니다. 어떤 항목을 더 보고 싶으신가요?</p><p>다음은 <strong>실제 Slack 연동</strong>, <strong>Webhook 연동 구성</strong>, <strong>Alert 테스트 시나리오</strong>에 대한 실무 예제입니다.</p><hr><h2 id=-1-slack-연동-예시-alertmanager-연동>✅ 1. Slack 연동 예시 (Alertmanager 연동)<a hidden class=anchor aria-hidden=true href=#-1-slack-연동-예시-alertmanager-연동>#</a></h2><h3 id=-준비-slack-webhook-url-발급>📌 준비: Slack Webhook URL 발급<a hidden class=anchor aria-hidden=true href=#-준비-slack-webhook-url-발급>#</a></h3><ol><li><p><a href=https://api.slack.com/apps>Slack App 설정</a></p></li><li><p><strong>Incoming Webhooks</strong> 기능 활성화</p></li><li><p>채널 선택 후 Webhook URL 복사<br>→ 예: <code>https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXX</code></p></li></ol><hr><h3 id=-alertmanager-설정-alertmanageryaml>📄 Alertmanager 설정 (<code>alertmanager.yaml</code>)<a hidden class=anchor aria-hidden=true href=#-alertmanager-설정-alertmanageryaml>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-32-1><a class=lnlinks href=#hl-32-1> 1</a>
</span><span class=lnt id=hl-32-2><a class=lnlinks href=#hl-32-2> 2</a>
</span><span class=lnt id=hl-32-3><a class=lnlinks href=#hl-32-3> 3</a>
</span><span class=lnt id=hl-32-4><a class=lnlinks href=#hl-32-4> 4</a>
</span><span class=lnt id=hl-32-5><a class=lnlinks href=#hl-32-5> 5</a>
</span><span class=lnt id=hl-32-6><a class=lnlinks href=#hl-32-6> 6</a>
</span><span class=lnt id=hl-32-7><a class=lnlinks href=#hl-32-7> 7</a>
</span><span class=lnt id=hl-32-8><a class=lnlinks href=#hl-32-8> 8</a>
</span><span class=lnt id=hl-32-9><a class=lnlinks href=#hl-32-9> 9</a>
</span><span class=lnt id=hl-32-10><a class=lnlinks href=#hl-32-10>10</a>
</span><span class=lnt id=hl-32-11><a class=lnlinks href=#hl-32-11>11</a>
</span><span class=lnt id=hl-32-12><a class=lnlinks href=#hl-32-12>12</a>
</span><span class=lnt id=hl-32-13><a class=lnlinks href=#hl-32-13>13</a>
</span><span class=lnt id=hl-32-14><a class=lnlinks href=#hl-32-14>14</a>
</span><span class=lnt id=hl-32-15><a class=lnlinks href=#hl-32-15>15</a>
</span><span class=lnt id=hl-32-16><a class=lnlinks href=#hl-32-16>16</a>
</span><span class=lnt id=hl-32-17><a class=lnlinks href=#hl-32-17>17</a>
</span><span class=lnt id=hl-32-18><a class=lnlinks href=#hl-32-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>global</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>resolve_timeout</span><span class=p>:</span><span class=w> </span><span class=l>5m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>receivers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;slack-notifications&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>slack_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>channel</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;#alerts&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>send_resolved</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;Prometheus Alert&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>icon_emoji</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;:rotating_light:&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>webhook_url</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXX&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>route</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>group_by</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s1>&#39;alertname&#39;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>group_wait</span><span class=p>:</span><span class=w> </span><span class=l>10s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>group_interval</span><span class=p>:</span><span class=w> </span><span class=l>30s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>repeat_interval</span><span class=p>:</span><span class=w> </span><span class=l>1h</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>receiver</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;slack-notifications&#39;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>⚠️ 보안상 <code>webhook_url</code>은 Kubernetes Secret으로 분리하는 것을 권장합니다.</p></blockquote><hr><h2 id=-2-webhook-연동-구성>✅ 2. Webhook 연동 구성<a hidden class=anchor aria-hidden=true href=#-2-webhook-연동-구성>#</a></h2><h3 id=-목적-3>📌 목적<a hidden class=anchor aria-hidden=true href=#-목적-3>#</a></h3><p>Slack 외에 <strong>사내 시스템</strong>, <strong>알림 시스템</strong>, <strong>메신저 봇</strong> 등으로 경보를 전송</p><hr><h3 id=-alertmanager-설정-webhook-receiver-예시>📄 Alertmanager 설정 (Webhook Receiver 예시)<a hidden class=anchor aria-hidden=true href=#-alertmanager-설정-webhook-receiver-예시>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-33-1><a class=lnlinks href=#hl-33-1>1</a>
</span><span class=lnt id=hl-33-2><a class=lnlinks href=#hl-33-2>2</a>
</span><span class=lnt id=hl-33-3><a class=lnlinks href=#hl-33-3>3</a>
</span><span class=lnt id=hl-33-4><a class=lnlinks href=#hl-33-4>4</a>
</span><span class=lnt id=hl-33-5><a class=lnlinks href=#hl-33-5>5</a>
</span><span class=lnt id=hl-33-6><a class=lnlinks href=#hl-33-6>6</a>
</span><span class=lnt id=hl-33-7><a class=lnlinks href=#hl-33-7>7</a>
</span><span class=lnt id=hl-33-8><a class=lnlinks href=#hl-33-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>receivers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;webhook-alert&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>webhook_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;http://webhook-listener.default.svc.cluster.local:5000/alerts&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>send_resolved</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>route</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>receiver</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;webhook-alert&#39;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=-webhook-수신-서버-예시-flask-기반>📄 Webhook 수신 서버 예시 (Flask 기반)<a hidden class=anchor aria-hidden=true href=#-webhook-수신-서버-예시-flask-기반>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-34-1><a class=lnlinks href=#hl-34-1> 1</a>
</span><span class=lnt id=hl-34-2><a class=lnlinks href=#hl-34-2> 2</a>
</span><span class=lnt id=hl-34-3><a class=lnlinks href=#hl-34-3> 3</a>
</span><span class=lnt id=hl-34-4><a class=lnlinks href=#hl-34-4> 4</a>
</span><span class=lnt id=hl-34-5><a class=lnlinks href=#hl-34-5> 5</a>
</span><span class=lnt id=hl-34-6><a class=lnlinks href=#hl-34-6> 6</a>
</span><span class=lnt id=hl-34-7><a class=lnlinks href=#hl-34-7> 7</a>
</span><span class=lnt id=hl-34-8><a class=lnlinks href=#hl-34-8> 8</a>
</span><span class=lnt id=hl-34-9><a class=lnlinks href=#hl-34-9> 9</a>
</span><span class=lnt id=hl-34-10><a class=lnlinks href=#hl-34-10>10</a>
</span><span class=lnt id=hl-34-11><a class=lnlinks href=#hl-34-11>11</a>
</span><span class=lnt id=hl-34-12><a class=lnlinks href=#hl-34-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>flask</span> <span class=kn>import</span> <span class=n>Flask</span><span class=p>,</span> <span class=n>request</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>Flask</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.route</span><span class=p>(</span><span class=s2>&#34;/alerts&#34;</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s2>&#34;POST&#34;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>alerts</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>alert</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>json</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;📢 Alert Received:&#34;</span><span class=p>,</span> <span class=n>alert</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># 알림 분석 후 저장/Slack 발송 등 추가 로직 가능</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s2>&#34;OK&#34;</span><span class=p>,</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>host</span><span class=o>=</span><span class=s1>&#39;0.0.0.0&#39;</span><span class=p>,</span> <span class=n>port</span><span class=o>=</span><span class=mi>5000</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>Kubernetes 내부 서비스로 배포하면 <code>alertmanager → webhook</code> 연동이 실시간으로 동작</p></blockquote><hr><h2 id=-3-alert-테스트-시나리오>✅ 3. Alert 테스트 시나리오<a hidden class=anchor aria-hidden=true href=#-3-alert-테스트-시나리오>#</a></h2><h3 id=-a-prometheus-테스트-규칙-추가>📄 A. Prometheus 테스트 규칙 추가<a hidden class=anchor aria-hidden=true href=#-a-prometheus-테스트-규칙-추가>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-35-1><a class=lnlinks href=#hl-35-1>1</a>
</span><span class=lnt id=hl-35-2><a class=lnlinks href=#hl-35-2>2</a>
</span><span class=lnt id=hl-35-3><a class=lnlinks href=#hl-35-3>3</a>
</span><span class=lnt id=hl-35-4><a class=lnlinks href=#hl-35-4>4</a>
</span><span class=lnt id=hl-35-5><a class=lnlinks href=#hl-35-5>5</a>
</span><span class=lnt id=hl-35-6><a class=lnlinks href=#hl-35-6>6</a>
</span><span class=lnt id=hl-35-7><a class=lnlinks href=#hl-35-7>7</a>
</span><span class=lnt id=hl-35-8><a class=lnlinks href=#hl-35-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl>- <span class=nt>alert</span><span class=p>:</span><span class=w> </span><span class=l>CPUHighUsageTest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class=l>vector(1) </span><span class=w> </span><span class=c># 항상 true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>for</span><span class=p>:</span><span class=w> </span><span class=l>10s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class=l>critical</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Test Alert&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;This is a test alert for validating Slack/Webhook integration.&#34;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p><code>vector(1)</code>은 조건 없이 항상 true를 반환하여 테스트용으로 자주 사용됨</p></blockquote><hr><h3 id=-b-테스트-절차>📄 B. 테스트 절차<a hidden class=anchor aria-hidden=true href=#-b-테스트-절차>#</a></h3><table><thead><tr><th>단계</th><th>내용</th></tr></thead><tbody><tr><td>① 설정 적용</td><td><code>kubectl apply -f prometheus-rules.yaml</code></td></tr><tr><td>② Alert 발생</td><td>10초 이내 Slack 또는 Webhook으로 메시지 발송</td></tr><tr><td>③ 확인</td><td>Slack 채널 / Webhook 로그 확인</td></tr><tr><td>④ 삭제</td><td>테스트 알림은 수동 제거 권장 (<code>kubectl delete -f</code>)</td></tr></tbody></table><hr><h3 id=-slack-메시지-예시>📎 Slack 메시지 예시<a hidden class=anchor aria-hidden=true href=#-slack-메시지-예시>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-36-1><a class=lnlinks href=#hl-36-1>1</a>
</span><span class=lnt id=hl-36-2><a class=lnlinks href=#hl-36-2>2</a>
</span><span class=lnt id=hl-36-3><a class=lnlinks href=#hl-36-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>🚨 [FIRING] Test Alert
</span></span><span class=line><span class=cl>Summary: Test Alert
</span></span><span class=line><span class=cl>Description: This is a test alert for validating Slack/Webhook integration.
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=-보안-팁>🔐 보안 팁<a hidden class=anchor aria-hidden=true href=#-보안-팁>#</a></h2><ul><li><p><code>webhook_url</code>은 Kubernetes <code>Secret</code>로 분리 → Alertmanager ConfigMap에 <code>${SLACK_URL}</code>로 참조</p></li><li><p><code>receiver</code> 조건 분기 설정: <code>severity</code>, <code>team</code>, <code>region</code> 기준으로 알림 채널 분기 가능</p></li></ul><hr><h2 id=-종합-정리>📦 종합 정리<a hidden class=anchor aria-hidden=true href=#-종합-정리>#</a></h2><table><thead><tr><th>구성 요소</th><th>기능</th><th>비고</th></tr></thead><tbody><tr><td>Slack</td><td>실시간 운영팀 알림</td><td>채널 별 Alert 분기 가능</td></tr><tr><td>Webhook</td><td>외부 시스템 연계</td><td>사내 관제 시스템, 인시던트 관리 등</td></tr><tr><td>Alert Rule</td><td>테스트 가능 구성</td><td><code>vector(1)</code> 사용한 모의 알림</td></tr></tbody></table><hr><p>원하신다면 GitOps 구조에서 <strong>Secret 자동 주입</strong>, <strong>Slack 템플릿 커스터마이징</strong>, 또는 <strong>Alert 분기 전략 설계 (예: 팀별 routing)</strong> 도 함께 제공해드릴 수 있습니다. 다음으로 어떤 부분을 확장하시겠어요?</p></div><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Observability vs. Monitoring</h2></header><div class=entry-content><p>Observability vs. Monitoring 비교 항목 Observability Monitoring 정의 시스템의 내부 상태를 외부 출력을 통해 이해하고 추론할 수 있는 능력 시스템의 동작과 성능을 지속적으로 관찰하고 추적하는 활동 목적 예측하지 못한 문제의 근본 원인을 파악하고 시스템의 동작을 심층적으로 이해 알려진 문제와 패턴을 감지하고 사전 정의된 임계값을 모니터링 데이터 수집 방식 이벤트, 로그, 트레이스, 메트릭스 등 다양한 형태의 원시 데이터 수집 주로 미리 정의된 메트릭과 상태 정보 수집 데이터 분석 방식 동적이고 탐색적인 분석, 실시간 질의 및 상관관계 분석 사전 정의된 대시보드와 알림 규칙 기반 분석 문제 해결 접근법 귀납적 접근 - 데이터를 통해 문제의 패턴과 원인을 발견 연역적 접근 - 알려진 문제 패턴에 기반한 탐지 도구의 특성 유연하고 탐색적인 도구 (예: Jaeger, OpenTelemetry) 고정된 대시보드와 알림 시스템 (예: Nagios, Prometheus) 데이터 저장 기간 일반적으로 더 긴 기간 (문제 패턴 분석을 위해) 상대적으로 짧은 기간 (실시간 모니터링 중심) 사용자 관점 개발자, SRE, 운영팀의 심층 분석 도구 운영팀의 일상적인 모니터링 도구 비용 구조 상대적으로 높은 초기 비용과 운영 비용 상대적으로 낮은 초기 비용과 예측 가능한 운영 비용 구현 복잡도 높음 (다양한 데이터 소스와 분석 도구 통합 필요) 중간 (표준화된 메트릭 수집과 알림 구성) 확장성 매우 유연한 확장성 (새로운 데이터 소스와 분석 방법 추가 가능) 제한된 확장성 (미리 정의된 메트릭과 알림 중심) 필요한 기술 수준 높은 수준의 기술적 이해와 분석 능력 필요 중간 수준의 운영 지식으로 충분 문제 감지 범위 알려지지 않은 문제까지 포함한 광범위한 감지 알려진 문제와 패턴 중심의 감지 응답 시간 상대적으로 길음 (심층 분석 필요) 즉각적 (사전 정의된 알림 기반) 주요 사용 사례 복잡한 분산 시스템의 문제 해결, 성능 최적화 시스템 상태 모니터링, SLA 준수 확인 이러한 차이점들은 각각이 서로 다른 목적과 상황에서 중요한 역할을 한다는 것을 보여준다.
Monitoring이 시스템의 기본적인 건강 상태를 확인하는 데 중점을 둔다면, Observability는 더 심층적인 시스템 이해와 문제 해결을 가능하게 한다.
...</p></div><footer class=entry-footer><span title='2024-09-28 08:23:00 +0000 UTC'>September 28, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Observability vs. Monitoring" href=https://buenhyden.github.io/posts/devops-and-infrastructure/observability/observability-vs-monitoring/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Metric</h2></header><div class=entry-content><p>Metric Metric는 시스템의 상태와 성능을 수치화하여 측정하는 중요한 관측 도구이다.
Metric는 시스템의 상태, 동작, 성능 등을 나타내는 수치화된 측정값이다.
예를 들어, 웹 서버의 응답 시간, CPU 사용률, 메모리 사용량 등이 Metric가 될 수 있다.
장점 효율적인 저장: 숫자 데이터는 저장 공간을 적게 차지한다. 빠른 쿼리: 시계열 데이터베이스를 사용하여 빠른 검색과 분석이 가능하다. 장기 추세 분석: 오랜 기간 동안의 데이터를 저장하고 분석할 수 있다. 시각화 용이성: 그래프나 대시보드로 쉽게 표현할 수 있다. 단점 초기 설정에 시간과 노력이 필요하다 너무 많은 Metric는 오히려 혼란을 줄 수 있다 저장 공간과 처리 리소스가 필요하다 Metric의 중요성 성능 모니터링: 시스템의 전반적인 성능을 지속적으로 모니터링할 수 있다. 문제 감지: 비정상적인 패턴이나 임계값 초과를 빠르게 감지할 수 있다. 용량 계획: 리소스 사용량 추세를 분석하여 미래의 용량을 계획할 수 있다. 최적화: 성능 병목 현상을 식별하고 최적화할 수 있는 기회를 제공한다. Metric의 구성 요소 일반적인 Metric는 다음 요소로 구성된다:
...</p></div><footer class=entry-footer><span title='2024-09-28 02:27:00 +0000 UTC'>September 28, 2024</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Metric" href=https://buenhyden.github.io/posts/devops-and-infrastructure/observability/fundamentals/three-pillars-of-observability/metrics/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Trace</h2></header><div class=entry-content><p>Trace Trace는 분산 시스템에서 요청의 흐름을 추적하고 시각화하는 데 사용된다.
Trace는 분산 시스템에서 요청이나 트랜잭션이 여러 서비스와 컴포넌트를 통과하는 전체 여정을 기록한 것이다.
각 Trace는 하나 이상의 span으로 구성되며, 첫 번째 span은 root span이라고 한다.
Trace의 목적 분산 시스템에서의 요청 흐름 이해 성능 병목 지점 식별 서비스 간 의존성 파악 오류 및 지연의 근본 원인 분석 Trace의 구성 요소 트레이스는 다음과 같은 구성 요소들로 이루어진다:
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 // 트레이스 시작 Span rootSpan = tracer.spanBuilder("checkout-process") .setSpanKind(SpanKind.SERVER) .startSpan(); try (Scope scope = rootSpan.makeCurrent()) { // 자식 스팬 생성 Span paymentSpan = tracer.spanBuilder("process-payment") .setParent(Context.current().with(rootSpan)) .startSpan(); try { processPayment(); paymentSpan.setStatus(StatusCode.OK); } catch (Exception e) { paymentSpan.setStatus(StatusCode.ERROR, e.getMessage()); throw e; } finally { paymentSpan.end(); } } finally { rootSpan.end(); } 트레이스 구성의 핵심 요소들:
...</p></div><footer class=entry-footer><span title='2024-09-28 02:27:00 +0000 UTC'>September 28, 2024</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Trace" href=https://buenhyden.github.io/posts/devops-and-infrastructure/observability/fundamentals/three-pillars-of-observability/tracing/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Log</h2></header><div class=entry-content><p>Log Log는 애플리케이션 실행 시 생성되는 텍스트 기반의 기록이다. 이는 구조화된 형식(예: JSON)이나 비구조화된 텍스트 형식으로 제공될 수 있다.
문제가 발생했을 때 무슨 일이 있었는지 추적할 수 있게 해주며, 시스템의 동작을 이해하는 데 필수적인 정보를 제공한다.
로그 구조를 설계할 때는 다음과 같은 원칙들을 고려해야 한다:
일관성(Consistency): 모든 로그 항목은 동일한 구조와 형식을 따라야 한다. 이는 로그 파싱과 분석을 용이하게 만든다. 검색 가능성(Searchability): 주요 필드들은 쉽게 검색하고 필터링할 수 있는 형태여야 한다. 확장성(Extensibility): 새로운 정보를 추가할 필요가 생겼을 때 기존 구조를 해치지 않고 확장할 수 있어야 한다. 상세도 조절(Verbosity Control): 로그 레벨을 통해 필요한 상세도를 조절할 수 있어야 한다. 로그 구조를 효과적으로 설계하면 다음과 같은 이점을 얻을 수 있다:
...</p></div><footer class=entry-footer><span title='2024-09-28 02:26:00 +0000 UTC'>September 28, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Log" href=https://buenhyden.github.io/posts/devops-and-infrastructure/observability/fundamentals/three-pillars-of-observability/logging/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Instrumentation</h2></header><div class=entry-content><p>Instrumentation **Instrumentation(계측)**은 애플리케이션 코드에 특정 로직을 추가하여 메트릭, 로그, 트레이스와 같은 데이터를 수집하고 분석할 수 있도록 만드는 과정이다. 이를 통해 애플리케이션의 성능, 동작, 문제점을 실시간으로 모니터링하고 최적화할 수 있다. Instrumentation은 **Observability(관측 가능성)**의 핵심 요소로, 시스템의 내부 상태를 이해하고 문제를 해결하는 데 필수적이다.
인스트루멘테이션의 기본 개념 인스트루멘테이션(Instrumentation)은 애플리케이션에 코드나 도구를 삽입하여 핵심 메트릭, 로그, 트레이스 등을 수집하는 과정을 의미합니다. 이는 마치 자동차에 속도계, 연료 게이지, 엔진 온도계 등의 계측 장치를 장착하는 것과 유사합니다. 이러한 계측 도구들은 자동차의 상태를 실시간으로 모니터링하고 문제가 발생했을 때 진단하는 데 도움을 주는 것처럼, 소프트웨어 인스트루멘테이션은 애플리케이션의 상태와 성능을 모니터링하고 문제를 진단하는 데 도움을 줍니다.
...</p></div><footer class=entry-footer><span title='2025-03-22 14:35:00 +0000 UTC'>March 22, 2025</span>&nbsp;·&nbsp;9 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Instrumentation" href=https://buenhyden.github.io/posts/devops-and-infrastructure/observability/fundamentals/instrumentation/></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>