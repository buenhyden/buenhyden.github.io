<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Git Submodule | hyunyoun's Blog</title><meta name=keywords content="DevOps-and-Infrastructure,Version-Control-Systems,Git-Workflow,submodule"><meta name=description content="Git Submodule 은 외부 Git 저장소를 현재 프로젝트에 하위 모듈로 포함시켜 관리하는 방식이다. 현대 소프트웨어 개발에서 필수적인 모듈화 도구로 진화했다. 이를 통해 개발자는 코드 재사용, 외부 의존성 관리, 모듈식 개발을 효과적으로 구현할 수 있다. 서브모듈은 부모 저장소에서 자식 저장소의 특정 커밋을 참조하는 방식으로 작동하며, 이를 통해 의존성 버전을 고정하여 안정성을 확보할 수 있다. 코드 재사용, 독립적 이력 관리, 모듈식 구조 등의 장점이 있지만, 복잡한 워크플로우와 추가 학습이 필요하다는 단점도 있다. 최근에는 서브모듈과 모노레포의 장점을 결합한 하이브리드 접근법과 성능 최적화 기술이 발전하고 있으며, 향후 AI 기반의 자동화와 클라우드 환경 최적화가 더욱 진전될 것으로 전망된다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/devops-and-infrastructure/version-control-systems/git-workflow/git-submodule/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/devops-and-infrastructure/version-control-systems/git-workflow/git-submodule/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/devops-and-infrastructure/version-control-systems/git-workflow/git-submodule/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Git Submodule"><meta property="og:description" content="Git Submodule 은 외부 Git 저장소를 현재 프로젝트에 하위 모듈로 포함시켜 관리하는 방식이다. 현대 소프트웨어 개발에서 필수적인 모듈화 도구로 진화했다. 이를 통해 개발자는 코드 재사용, 외부 의존성 관리, 모듈식 개발을 효과적으로 구현할 수 있다. 서브모듈은 부모 저장소에서 자식 저장소의 특정 커밋을 참조하는 방식으로 작동하며, 이를 통해 의존성 버전을 고정하여 안정성을 확보할 수 있다. 코드 재사용, 독립적 이력 관리, 모듈식 구조 등의 장점이 있지만, 복잡한 워크플로우와 추가 학습이 필요하다는 단점도 있다. 최근에는 서브모듈과 모노레포의 장점을 결합한 하이브리드 접근법과 성능 최적화 기술이 발전하고 있으며, 향후 AI 기반의 자동화와 클라우드 환경 최적화가 더욱 진전될 것으로 전망된다."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-09-28T07:28:00+00:00"><meta property="article:modified_time" content="2024-09-28T07:28:00+00:00"><meta property="article:tag" content="DevOps-and-Infrastructure"><meta property="article:tag" content="Version-Control-Systems"><meta property="article:tag" content="Git-Workflow"><meta property="article:tag" content="Submodule"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Git Submodule"><meta name=twitter:description content="Git Submodule 은 외부 Git 저장소를 현재 프로젝트에 하위 모듈로 포함시켜 관리하는 방식이다. 현대 소프트웨어 개발에서 필수적인 모듈화 도구로 진화했다. 이를 통해 개발자는 코드 재사용, 외부 의존성 관리, 모듈식 개발을 효과적으로 구현할 수 있다. 서브모듈은 부모 저장소에서 자식 저장소의 특정 커밋을 참조하는 방식으로 작동하며, 이를 통해 의존성 버전을 고정하여 안정성을 확보할 수 있다. 코드 재사용, 독립적 이력 관리, 모듈식 구조 등의 장점이 있지만, 복잡한 워크플로우와 추가 학습이 필요하다는 단점도 있다. 최근에는 서브모듈과 모노레포의 장점을 결합한 하이브리드 접근법과 성능 최적화 기술이 발전하고 있으며, 향후 AI 기반의 자동화와 클라우드 환경 최적화가 더욱 진전될 것으로 전망된다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"기술 블로그","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"DevOps and Infrastructure","item":""},{"@type":"ListItem","position":3,"name":"Version Control Systems","item":"https://buenhyden.github.io/posts/devops-and-infrastructure/version-control-systems/"},{"@type":"ListItem","position":4,"name":"Git Workflow","item":"https://buenhyden.github.io/posts/devops-and-infrastructure/version-control-systems/git-workflow/"},{"@type":"ListItem","position":5,"name":"Git Submodule","item":"https://buenhyden.github.io/posts/devops-and-infrastructure/version-control-systems/git-workflow/git-submodule/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Git Submodule","name":"Git Submodule","description":"Git Submodule 은 외부 Git 저장소를 현재 프로젝트에 하위 모듈로 포함시켜 관리하는 방식이다. 현대 소프트웨어 개발에서 필수적인 모듈화 도구로 진화했다. 이를 통해 개발자는 코드 재사용, 외부 의존성 관리, 모듈식 개발을 효과적으로 구현할 수 있다. 서브모듈은 부모 저장소에서 자식 저장소의 특정 커밋을 참조하는 방식으로 작동하며, 이를 통해 의존성 버전을 고정하여 안정성을 확보할 수 있다. 코드 재사용, 독립적 이력 관리, 모듈식 구조 등의 장점이 있지만, 복잡한 워크플로우와 추가 학습이 필요하다는 단점도 있다. 최근에는 서브모듈과 모노레포의 장점을 결합한 하이브리드 접근법과 성능 최적화 기술이 발전하고 있으며, 향후 AI 기반의 자동화와 클라우드 환경 최적화가 더욱 진전될 것으로 전망된다.","keywords":["DevOps-and-Infrastructure","Version-Control-Systems","Git-Workflow","submodule"],"articleBody":"Git Submodule Git Submodule 은 하나의 Git 저장소 안에 또 다른 Git 저장소를 포함시킬 수 있도록 하는 기능이다. 이는 외부 라이브러리, 공통 모듈, 또는 서드파티 코드 등을 독립적으로 유지하며 주 저장소와 연동하여 사용하는 데 활용된다.\n서브모듈은 특정 커밋을 참조하는 방식으로 작동하며, 주 저장소 (부모 저장소) 와 서브모듈 저장소 (자식 저장소) 간의 명확한 경계를 유지한다.\n복잡한 프로젝트 구조에서 모듈화를 실현하고, 공통 코드의 버전 동기화 및 유지관리를 용이하게 한다.\n핵심 개념 Git Submodule은 한 Git 저장소 (부모 저장소) 내에 다른 Git 저장소 (자식 저장소) 를 현재 저장소의 하위 디렉토리로 포함시키는 방식이다. 서브모듈은 다른 외부 저장소의 특정 커밋을 가리키는 주 저장소 내의 기록이다. 서브모듈은 매우 정적이며 특정 커밋만 추적한다.\n목적 Git 서브모듈의 주요 목적은 다음과 같다:\n코드 재사용: Git 서브모듈은 참조를 통해 다른 Git 저장소를 포함할 수 있게 해준다. 공유 코드가 필요한 일반적인 사용 사례에 적합하다. 외부 의존성 관리: 코드 저장소는 종종 외부 코드에 의존합니다. 서브모듈은 외부 코드의 버전 기록을 통합하고 추적할 수 있게 해준다. 모듈식 개발: 서브모듈을 사용하면 코드베이스를 더 작고 관리하기 쉬운 부분으로 나눌 수 있다. 필요성 Git 서브모듈은 다음과 같은 상황에서 특히 필요하다:\n외부 구성 요소나 하위 프로젝트가 너무 빠르게 변경되거나 향후 변경 사항이 API 를 손상시킬 수 있을 때, 안전을 위해 코드를 특정 커밋에 고정할 수 있다. 코드 중복을 피하면서 여러 프로젝트에서 동일한 코드베이스를 사용할 때 다른 원격 저장소에 저장된 여러 프로젝트와 라이브러리에 의존하는 프로젝트를 복제할 때, 단일 로컬 저장소에 이러한 모든 의존성을 포함해야 할 필요가 있다. 주요 기능 특정 커밋 참조: 서브모듈은 부모 프로젝트에 지정된 정확한 커밋에 의해 추적되며, 브랜치나 참조, 또는 다른 심볼릭 참조가 아니다. 독립적 이력 유지: 서브모듈은 자체 Git 저장소로서 자신만의 이력을 가지며, 부모 저장소와는 별개로 관리된다. 버전 고정: 서브모듈은 부모 저장소에서 특정 커밋을 가리켜 의존성 버전을 고정한다. 선택적 업데이트: 서브모듈은 부모 저장소에서 명시적으로 업데이트 명령을 실행할 때만 업데이트된다. 역할 Git 서브모듈은 다음과 같은 역할을 수행한다:\n의존성 관리자: 외부 코드 의존성을 효과적으로 관리한다. 모듈 통합자: 여러 독립적인 코드베이스를 단일 프로젝트로 통합한다. 버전 컨트롤러: 외부 의존성의 특정 버전을 고정하여 안정성을 보장한다. 코드 공유 촉진자: 여러 프로젝트 간에 코드 재사용을 용이하게 한다. 특징 정적 참조: 서브모듈은 매우 정적이다. 서브모듈을 이용해 특정 커밋을 추적하며, 브랜치나 참조가 아닌 단일 커밋을 가리킨다. 독립적인 저장소: Git 서브모듈은 기술적으로 완전한 기능을 갖춘 표준 Git 저장소이다. 다른 부모 Git 저장소 내에 위치한다는 것만이 차이점이다. .gitmodules 파일: 저장소에 서브모듈을 추가하면 새로운.gitmodules 파일이 생성된다. 이 파일은 서브모듈 프로젝트의 URL 과 로컬 디렉토리 간의 매핑에 대한 메타데이터를 포함한다. 명시적 초기화 및 업데이트: 서브모듈은 git clone 후 명시적으로 초기화하고 업데이트해야 한다. 핵심 원칙 및 작동 원리 핵심 원칙 분리된 이력: 서브모듈과 부모 저장소는 각각 독립적인 커밋 이력을 유지한다. 명시적 참조: 부모 저장소는 서브모듈의 특정 커밋을 명시적으로 참조한다. 수동 동기화: 서브모듈의 변경사항은 부모 저장소에 수동으로 동기화해야 한다. 최소 침해: git-meta 의 배후에 있는 원칙 중 하나는 \" 일반 \" Git 에서 가능한 한 적게 벗어나는 것이다. 가능한 경우 바닐라 Git 명령어를 사용하고, Git 의 기본 분산 모델을 유지하고자 했다. 작동 원리 Git 서브모듈의 작동 원리는 다음과 같다:\n서브모듈 추가: git submodule add 명령어로 서브모듈을 추가하면, Git 은 지정된 URL 에서 저장소를 클론하고 지정된 경로에 배치한다. 프로젝트 폴더에 .gitmodules 파일이 생성된다. 참조 저장: 부모 저장소는 서브모듈의 현재 커밋 ID 를 저장하며, 이 정보는 부모 저장소의 커밋에 포함된다. 클론 및 초기화: 서브모듈이 있는 저장소를 클론할 때, 서브모듈 코드는 자동으로 함께 클론되지 않는다. ‘git submodule init’ 과 ‘git submodule update’ 명령어를 사용하여 서브모듈을 초기화하고 코드를 가져와야 한다. 상태 추적: 부모 저장소의 관점에서, Git 은 ‘src/common’ 과 같은 마운트 포인트 경로가 가상 파일인 것처럼 취급하며, 이 파일의 내용은 체크아웃되어야 하는 서브모듈의 커밋 해시이다. 업데이트 메커니즘: 서브모듈이 업데이트되면, 부모 저장소는 새로운 커밋 ID 를 가리키도록 업데이트되어야 한다. 1 2 3 4 5 6 7 8 9 10 # 서브모듈 추가 git submodule add https://github.com/example/repo.git lib/SubmoduleRepo/ MainRepo/ ├── .gitmodules ├── lib/ │ └── SubmoduleRepo/ (Git repo) # 초기화 및 업데이트 git submodule update --init --recursive .gitmodules 에 Submodule 경로와 URL 기록 Submodule 은 해당 커밋을 기준으로 checkout 됨 git submodule update, git submodule init, git submodule sync 등 명령어로 관리 구성 요소 Git 서브모듈 시스템의 주요 구성 요소는 다음과 같다:\n부모 저장소 (Parent Repository): 다른 Git 저장소를 포함하는 주 저장소이다. 서브모듈 저장소 (Submodule Repository): 부모 저장소 내에 포함된 독립적인 Git 저장소이다. .gitmodules 파일:.gitmodules 파일은 부모 저장소의 서브모듈에 대한 정보를 포함하는 설정 파일이다. 각 서브모듈에 대해 부모 저장소 내의 상대적인 \" 마운트 포인트 \" 경로와 Git 원격 URL 을 포함한다. 커밋 참조 (Commit Reference): 부모 저장소에 저장된 서브모듈의 특정 커밋을 가리키는 참조이다. Git 명령어 및 도구: git submodule 명령어와 그 하위 명령어들 (add, init, update, foreach 등) graph TD A[부모 저장소] --\u003e B[.gitmodules 파일] B --\u003e C[서브모듈 경로] C --\u003e D[외부 저장소 커밋 참조] 아키텍처 Git 서브모듈의 아키텍처는 계층적 저장소 구조를 기반으로 한다:\n1 2 3 4 5 6 7 8 부모_저장소/ ├── .git/ # 부모 저장소의 Git 디렉토리 │ ├── config # 로컬에서 Submodule 의 Git 설정이 저장되는 위치 ├── .gitmodules # 서브모듈 설정 파일 ├── 일반_파일들/ # 부모 저장소의 파일들 └── 서브모듈_디렉토리/ # 서브모듈의 경로 ├── .git # 서브모듈의 Git 디렉토리 (실제로는 참조 파일) └── 서브모듈_파일들/ # 서브모듈의 파일들 서브모듈의 .git 디렉토리는 실제로는 부모 저장소의 .git/modules/ 디렉토리 내 해당 서브모듈의 Git 데이터를 가리키는 참조 파일이다. 이렇게 함으로써 서브모듈이 부모 저장소 내에 존재하면서도 독립적인 Git 저장소로 기능할 수 있다.\nSubmodule 명령어 Submodule 생성 및 추가 1 2 3 4 # Submodule 추가 $ git submodule add \u003c저장소 URL\u003e \u003c경로\u003e # 특정 브랜치를 submodule로 추가 $ git submodule add -b [path] Submodule 이 있는 프로젝트 클론 1 2 3 4 5 6 7 # Submodule이 있는 프로젝트 클론 $ git clone \u003c저장소 URL\u003e $ git submodule init $ git submodule update # 또는 한번에 클론 $ git clone --recurse-submodules \u003c저장소 URL\u003e Submodule 상태 및 정보 확인 1 2 3 4 5 6 7 8 # 상태 확인 $ git submodule status # 변경사항 확인 $ git diff --submodule # 상세 로그 확인 $ git diff --submodule=log Submodule 업데이트 1 2 3 4 5 6 7 8 9 10 11 # 기본 업데이트 $ git submodule update --remote # 병합 옵션 포함 업데이트 $ git submodule update --remote --merge # 특정 서브모듈만 업데이트 $ git submodule update --remote --merge # 재귀적 업데이트 $ git submodule update --init --recursive Submodule 일괄 명령 실행 1 2 3 4 5 6 7 8 # 기본 형식 $ git submodule foreach '' # 예시: 새 브랜치 생성 $ git submodule foreach 'git checkout -b featureA' # 예시: 상태 확인 $ git submodule foreach 'git status' Submodule 설정관리 1 2 3 4 5 6 7 # URL 동기화 $ git submodule sync $ git submodule sync --recursive # URL 변경 후 업데이트 $ git submodule sync $ git submodule update --remote --merge Submodule 제거 1 2 3 # 서브모듈 제거 과정 $ git submodule deinit $ git rm .gitmodules 파일 Git 서브모듈 설정을 저장하는 설정 파일로 프로젝트 루트 디렉토리에 위치한다.\n서브모듈이 저장될 경로를 지정하여 주 저장소의 어느 위치에 서브모듈이 있는지 명확히 하고, 서브모듈이 참조할 원격 저장소의 URL 을 지정하여, 서브모듈을 업데이트하거나 클론할 때 올바른 원격 저장소와 연결되도록 한다. 또한, 주 저장소와 서브모듈의 설정이 일관되도록 하여 git submodule sync 와 같은 명령어로 서브모듈의 원격 URL 을 쉽게 업데이트할 수 있다.\n.gitmodules 파일은 다음 명령어를 통해 Submodule 을 추가할 때 자동으로 생성된다:\n1 git submodule add https://github.com/example/my-lib.git libs/my-lib 옵션 없이 기본적으로 커밋 기준으로 Submodule 이 참조되며, 위 명령 실행 시 .gitmodules 파일과 함께 .git/config 에도 설정이 복사된다.\nSubmodule 설정 변경 시 주의할 점 .gitmodules 변경 후에는 반드시 다음을 수행해야 한다:\n1 git submodule sync 이후 로컬 설정도 갱신해야 동기화된다:\n1 git submodule update --init --recursive 브랜치를 따라가도록 설정한 경우에도 --remote 를 명시적으로 사용해야 최신 상태를 가져온다:\n1 git submodule update --remote Private 저장소인 경우에는 url 에 SSH 주소 (git@github.com:…) 사용을 권장한다.\n.gitmodules 와 .git/config 간 동기화 상태를 수시로 점검해야 한다.\n추적 브랜치 + CI/CD 자동화를 함께 구성하는 것이 효율적이다.\n주요 설정 항목 1 2 3 4 5 6 7 # 기본 형식 [submodule \"\"] path = \u003c로컬 경로\u003e url = \u003c원격 저장소 URL\u003e branch = \u003c추적할 브랜치\u003e update = \u003c업데이트 전략\u003e ignore = \u003c무시 설정\u003e [submodule \"\"]: Submodule 의 식별자\n프로젝트 내에서 고유한 이름이어야 한다. path: Submodule 이 저장될 경로.\n주 저장소의 루트에서 상대 경로로 지정되며, Submodule 이 이 위치에 체크아웃된다.\n기존 경로와 충돌하지 않도록 주의한다. url: Submodule 의 원격 저장소 주소\nHTTPS / SSH URL 사용 가능\n접근 권한 있는 URL 사용 branch: Submodule 이 추적할 원격 브랜치 지정\n생략 시 기본값은 master/main\n접근 권한 있는 URL 사용 update: Submodule 업데이트 시 사용할 전략 지정.\n팀의 작업 방식에 맞는 전략 선택 1 2 3 4 5 # 가능한 값들: update = merge # merge 전략 사용 (로컬 변경사항 유지) update = rebase # rebase 전략 사용 update = checkout # 강제로 원격 버전으로 체크아웃 (기본값) update = none # 자동 업데이트 하지 않음 ignore: Submodule 의 변경사항 추적 방식 설정\n프로젝트 요구사항에 따라 신중히 선택 1 2 3 4 5 # 가능한 값들: ignore = none # 모든 변경사항 추적 (기본값) ignore = dirty # 수정된 내용 무시 ignore = untracked # 추적되지 않는 파일 무시 ignore = all # 모든 변경사항 무시 여러 Submodule 설정 예시 (.gitmodules) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 [submodule \"libs/auth-lib\"] path = libs/auth-lib url = git@github.com:example/auth-lib.git branch = develop [submodule \"libs/ui-lib\"] path = libs/ui-lib url = https://github.com/example/ui-lib.git branch = main [submodule \"tools/ci-utils\"] path = tools/ci-utils url = https://github.com/example/ci-utils.git branch = release 설정 파일 구조 저장소 디렉토리 구조 예시 1 2 3 4 5 6 7 root/ ├── .gitmodules ├── libs/ │ ├── auth-lib/ # develop 브랜치 추적 │ └── ui-lib/ # main 브랜치 추적 └── tools/ └── ci-utils/ # release 브랜치 추적 클론 및 동기화 명령어 1 2 3 4 5 6 7 8 # 초기 Submodule 초기화 git submodule init # 모든 서브모듈을 지정된 커밋으로 체크아웃 git submodule update # 브랜치 추적을 위한 원격 상태로 업데이트 (필요시) git submodule update --remote --merge .git/config 내 동기화 확인 .git/config 에서 각 Submodule 이 추적할 브랜치를 반영해야 한다:\n1 2 3 4 5 6 7 8 9 10 11 [submodule \"libs/auth-lib\"] url = git@github.com:example/auth-lib.git branch = develop [submodule \"libs/ui-lib\"] url = https://github.com/example/ui-lib.git branch = main [submodule \"tools/ci-utils\"] url = https://github.com/example/ci-utils.git branch = release git submodule sync 명령어로 .gitmodules 와 .git/config 간 설정 불일치를 해결한다.\n자동 업데이트 스크립트 예시 (CI/CD 또는 로컬용) 1 2 3 4 5 6 7 8 9 #!/bin/bash echo \"[INFO] 모든 서브모듈 최신화 및 병합\" git submodule foreach ' echo \"[INFO] 업데이트 중: $name\" git checkout $(git config -f $toplevel/.gitmodules submodule.$name.branch || echo main) git fetch origin git merge origin/$(git config -f $toplevel/.gitmodules submodule.$name.branch || echo main) ' 실무 적용 시 고려사항 항목 설명 브랜치 동기화 명시적 관리 Submodule 은 기본적으로 특정 커밋을 고정하므로 자동 추적이 되지 않음. --remote 플래그 필요. 의존 모듈 변경 시 정책 Submodule 변경사항 커밋 후 상위 저장소에도 해당 SHA 커밋을 반드시 반영해야 함. 충돌 해결 전략 Submodule 충돌 시에는 해당 디렉토리로 진입하여 직접 해결 후, 다시 상위 저장소에서 git add 및 커밋. 추가 옵션 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 [submodule \"complete-example\"] path = lib/complete url = https://github.com/org/complete-lib.git branch = main update = merge ignore = dirty fetchRecurseSubmodules = on-demand shallow = true registered = true template = path/to/template remote = origin pushRemote = push-origin fetchJobs = 4 active = true 성능 최적화가 필요할 때\nfetchRecurseSubmodules: 서브모듈의 재귀적 페치 (fetched recursively) 설정을 제어하는 옵션으로 필요한 서브모듈만 페치하여 페치 속도를 최적화할 수 있다. true: 항상 서브모듈까지 fetch false: 서브모듈 fetch 하지 않음 on-demand: 필요할 때만 fetch shallow: 서브모듈을 얕은 클론 (최소 커밋만 가져오는 방식) 으로 클론할 때 설정으로 전체 히스토리가 아닌 최신 커밋만 클론하여, 네트워크 트래픽을 줄이고 속도를 높인다. fetchJobs: 페치 작업에 사용할 병렬 작업 (job) 수를 설정하는 옵션으로 여러 병렬 작업을 통해 페치 속도를 높이며, 특히 대규모 리포지토리에서 네트워크 성능과 페치 효율성을 높이는 데 유리하다. 복잡한 워크플로우 관리\ntemplate: Submodule 디렉토리에 대한 템플릿 디렉토리를 지정하는 옵션으로, Submodule 초기화 시 이 템플릿의 파일들이 복사된다. 특정 디렉토리와 파일을 템플릿으로 적용하여 새로운 프로젝트 초기화 시 일관성을 유지할 수 있다. remote: Submodule 의 원격 저장소 URL 을 지정한다. 복수의 원격이 있을 때 각 서브모듈이 연결할 원격을 명확히 설정한다. pushRemote: push 할 원격 저장소를 지정한다. 서브모듈이나 리포지토리에서 기본 push 원격을 변경할 수 있어, 배포용 또는 협업용 원격을 명확히 구분할 수 있다. 보안 설정\nregistered: 현재 Submodule 이 Git 에 등록되어 있는지 나타내는 옵션으로 Submodule 의 관리 상태를 확인할 때 사용한다. 서브모듈이 Git 에 등록되어 있는지 표시하여, 프로젝트 관리자가 서브모듈의 상태를 확인할 수 있다. active: Submodule 의 활성화 여부로, 서브모듈이 활성화 상태인지 표시하여, 필요한 서브모듈만 활성화할 수 있게 해준다. 대규모 프로젝트\nfetchRecurseSubmodulesMaxCount: 재귀적으로 서브모듈을 가져올 때 최대 깊이를 지정하는 옵션으로 서브모듈 깊이를 제한하여 페치 속도와 성능을 최적화할 수 있다. 장점과 단점 구분 항목 설명 ✅ 장점 코드 재사용 여러 프로젝트에서 동일한 코드를 중복 없이 사용할 수 있습니다. 버전 고정 컴포넌트나 하위 프로젝트가 너무 빠르게 변경되거나 향후 변경 사항이 API 를 깨뜨릴 경우, 안전을 위해 코드를 특정 커밋에 고정할 수 있습니다. 독립적 이력 각 서브모듈은 자체 커밋 이력을 유지하므로, 복잡한 기능을 모듈식으로 개발할 수 있습니다. 모듈식 구조 대규모 프로젝트를 더 작은 구성 요소로 분리하여 관리할 수 있습니다. 보안 강화 모노레포에 비해 더 안전하며, 서브모듈에 대한 접근을 특정 사용자나 팀으로 제한할 수 있습니다. ⚠ 단점 복잡한 워크플로우 서브모듈 사용은 표준 Git 워크플로우보다 추가적인 명령어와 단계가 필요합니다. 학습 곡선 팀원들이 서브모듈 개념과 작업 방식을 이해하는 데 시간이 필요합니다. 명시적 업데이트 필요 Git 은 서브모듈 콘텐츠를 기본적으로 다운로드하지 않으므로, 팀원들이 ‘git submodule update’ 와 같은 명령어를 실행해야 합니다. 충돌 해결 복잡성 서브모듈 충돌은 해결하기 어려울 수 있으며, 특히 양쪽 저장소 모두에서 동일한 파일이 수정된 경우 더욱 그렇습니다. 디버깅 어려움 오류가 부모 저장소에서 발생했는지 서브모듈에서 발생했는지 파악하기 어려울 수 있습니다. 실무 적용 예시 상황 적용 방법 이점 클라이언트 - 서버 아키텍처 클라이언트와 서버가 모두 필요로 하는 데이터 모델을 별도의 ‘common’ 저장소로 분리하여 서브모듈로 포함 코드 중복 방지 및 모델 변경 시 동기화 용이 프레임워크 통합 자주 사용하는 프레임워크나 라이브러리를 서브모듈로 추가 특정 버전 고정으로 안정성 확보 및 필요 시 커스터마이징 가능 마이크로서비스 아키텍처 각 마이크로서비스를 서브모듈로 관리 개별 서비스의 독립성 유지하면서 전체 시스템 통합 관리 플러그인 시스템 플러그인을 서브모듈로 관리 코어 시스템과 플러그인 간 명확한 경계 설정 다중 언어 프로젝트 언어별 코드베이스를 별도 서브모듈로 관리 언어별 개발 환경 최적화 및 팀 분업 용이 모노리포 대안 메인 저장소는 모든 코드를 관리하고 패키지는 각 서브모듈로 관리하여 변경 추적 용이 모노리포의 복잡성 없이 모듈식 구조 유지 실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점 고려 사항 설명 .gitmodules 관리 철저 서브모듈 경로, URL 변경 시 설정 파일과 로컬 설정 동기화 필요 CI/CD 파이프라인 반영 서브모듈 초기화 (init) 및 갱신 (update) 절차 자동화 필요 접근 권한 및 인증 문제 처리 Private 저장소인 경우 SSH 키 또는 PAT 토큰 사용 고려 CI/CD 워크플로우 서브모듈 통합 방법 필수 조건:\n서브모듈 저장소에 대한 읽기 권한 보유 .gitmodules 파일에 HTTPS URL 사용 권장 GitHub 에서는 persist-credentials: true 설정 필요 📌 중요 팁:\nGitHub Actions 에서 서브모듈 활용 GitHub Actions 에서 서브모듈을 사용하는 워크플로우는 다음과 같이 구성할 수 있다:\nGitHub Actions 에서 actions/checkout@v3 는 submodules: true 옵션으로 Submodule 을 자동 초기화한다. .github/workflows/build.yml\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 name: CI with Submodules on: push: branches: [ main ] pull_request: branches: [ main ] jobs: build: runs-on: ubuntu-latest steps: - name: Checkout repository with submodules uses: actions/checkout@v4 with: submodules: true # ✅ 공개 서브모듈 체크아웃 가능 token: ${{ secrets.GITHUB_TOKEN }} # ⚠️ 필수 아님 (자동 적용됨) # 빌드 단계 - name: Build project run: | mkdir build \u0026\u0026 cd build cmake .. make # 테스트 단계 - name: Run tests run: | cd build ctest # 배포 단계 - name: Deploy if: github.ref == 'refs/heads/main' run: | echo \"Deploying to production…\" 주요 옵션 설명\n옵션 설명 필수 여부 submodules: true 1 단계 깊이의 서브모듈 체크아웃 필수 submodules: recursive 중첩된 모든 서브모듈 체크아웃 선택 token 상위 저장소와 다른 조직의 서브모듈 접근 시 필요 조건부 주의 사항\nSSH 키 충돌: ssh-key 와 token 을 동시에 사용 시 오류 발생 가능 퍼포먼스 저하: 불필요한 token 지정 시 실행 시간 15~20% 증가 히스토리 관리: fetch-depth: 0 추가 시 전체 커밋 내역 다운로드 GitLab CI/CD 에서 서브모듈 활용 GitLab CI/CD 에서는 다양한 환경 변수를 통해 서브모듈을 구성할 수 있다:\nGitLab 에서는 수동으로 init 과 update 를 해줘야 한다.\n.gitlab-ci.yml\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 image: alpine:latest variables: # 서브모듈 전략 설정 (normal 또는 recursive) GIT_SUBMODULE_STRATEGY: recursive # HTTPS 강제 사용 (GitLab 서버에 있는 서브모듈에 유용) GIT_SUBMODULE_FORCE_HTTPS: \"true\" # 서브모듈 클로닝 깊이 제어 GIT_SUBMODULE_DEPTH: 1 stages: - build - test - deploy build: stage: build script: - echo \"Building with submodules…\" - ls -la # 서브모듈 디렉토리 확인 - ls -la submodule-dir/ # 빌드 명령 실행 - ./build.sh artifacts: paths: - dist/ test: stage: test script: - echo \"Running tests…\" - ./run-tests.sh deploy: stage: deploy script: - echo \"Deploying application…\" only: - main GitLab CI/CD 에서는 GIT_SUBMODULE_STRATEGY 변수를 normal 또는 recursive 로 설정하여 서브모듈을 가져오도록 러너에 지시할 수 있다.\nCI/CD 파이프라인에서 서브모듈 최적화 전략 캐싱 활용:\n1 2 3 4 5 6 7 8 # GitHub Actions 예시 - name: Cache submodules uses: actions/cache@v3 with: path: | .git/modules path/to/submodule key: ${{ runner.os }}-submodules-${{ hashFiles('.gitmodules') }} 얕은 클론 사용:\n1 2 3 4 5 6 # GitHub Actions 예시 - name: Checkout with shallow submodules uses: actions/checkout@v3 with: submodules: 'recursive' fetch-depth: 1 선택적 서브모듈 업데이트:\n1 2 3 # GitLab CI 예시 variables: GIT_SUBMODULE_PATHS: \"submodule1 submodule2\" # 특정 서브모듈만 동기화 Private Submodule 인증 전략 방식 설명 설정 예시 SSH 키 Git 서버에 SSH 공개 키를 등록하고, git@github.com:… 형식 사용 .ssh/config 에 호스트 등록 Personal Access Token (PAT) HTTPS 사용 시 사용자 이름 대신 토큰 사용 https://@github.com/owner/repo.git Deploy Key 특정 저장소만 접근 가능한 공개키 (주로 read-only) 공개키를 Submodule 저장소에 배포 SSH 키 기반 접근 SSH 키 생성:\n1 ssh-keygen -t ed25519 -f submodule-key 생성된 키는 기본적으로 ~/.ssh/id_ed25519 와 ~/.ssh/id_ed25519.pub 로 저장된다.\n공개키 내용을 복사\n1 cat ~/.ssh/id_ed25519.pub 이 값을 복사해서 GitHub 에 등록해야 한다.\n공개키 (.pub 파일 내용) 등록:\nGitHub GitHub 접속 후 우측 상단 프로필 \u003e Settings 왼쪽 메뉴에서 SSH and GPG keys 클릭 New SSH key 클릭 제목 (Title) 입력 후, 위에서 복사한 공개키를 Key 입력란에 붙여넣기 Add SSH key 클릭 GitLab 서브모듈 저장소 Deploy Keys 에 추가 GitLab: 프로젝트 설정 → 저장소 → Deploy Keys Git Submodule 주소를 SSH 형태로 설정\n1 git submodule add git@github.com:your-org/private-repo.git path/to/submodule HTTPS 주소로 추가할 경우 인증 문제 발생 반드시 git@github.com:… 형태의 SSH 주소 사용해야 함 CI/CD 환경 설정:\n1 2 3 4 5 - name: Checkout with submodules uses: actions/checkout@v4 with: submodules: recursive ssh-key: ${{ secrets.SUBMODULE_SSH_KEY }} # 프라이빗 키 등록\tSSH Agent 에 개인키 등록\n1 2 eval \"$(ssh-agent -s)\" ssh-add ~/.ssh/id_ed25519 자동으로 Agent 에 등록해두면 Git 명령어 실행 시 자동 인증된다.\n또는, ~/.ssh/config 파일을 사용해 호스트별 키 지정이 가능하다.\n1 2 3 4 5 6 # ~/.ssh/config Host github-submodule HostName github.com User git IdentityFile ~/.ssh/id_rsa_submodule IdentitiesOnly yes GitHub Actions, CI/CD 등 자동화 환경에서 사용할 때\nRepository secrets 또는 Deploy Key 등록이 필요하다. Repository secrets 프라이빗 키 (Private Key) 전체를 GitHub 저장소의 Settings \u003e Secrets and variables \u003e Actions에서 시크릿 (Secret) 으로 등록한다. 워크플로에서 ${{ secrets.시크릿이름 }} 형태로 참조해 사용한다. 보통 여러 저장소를 다루거나, 다양한 환경에서 자동화가 필요한 경우 사용한다. Deploy Key 공개키 (Public Key) 를 GitHub 저장소의 Settings \u003e Deploy Keys에 등록한다. 프라이빗 키 (Private Key) 는 CI/CD 서버 또는 Actions 런너에 저장해 사용한다. Deploy Key 는 저장소 단위로 접근 권한을 부여하며, 읽기 또는 쓰기 권한을 선택할 수 있다. 한 Deploy Key 는 하나의 저장소에만 사용할 수 있다 (여러 저장소에 중복 등록 불가). Personal Access Token(PAT) 활용 PAT 생성:\nGitHub/GitLab 설정에서 적절한 권한을 가진 토큰 생성 최소 repo 범위 권한 필요 (비공개 저장소 접근용) GitHub Actions 워크플로우 예시:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 name: CI with Private Submodules (PAT) on: push: branches: [ main ] jobs: build: runs-on: ubuntu-latest steps: - name: Checkout code with submodules uses: actions/checkout@v3 with: submodules: 'recursive' token: ${{ secrets.ACCESS_TOKEN }} # PAT를 사용 - name: Build and test run: | # 빌드 및 테스트 명령 서브모듈 URL 구성 예시:\n1 2 3 [submodule \"lib/component\"] path = lib/component url = https://github.com/organization/private-repo.git 주의 사항:\nPAT 는 환경 변수로 관리 (절대 코드 내 노출 금지) GitHub Actions 에서는 secrets.GITHUB_TOKEN 자동 인증 지원 여러 서브모듈에 대한 개별 인증 전략 각 서브모듈마다 별도의 SSH 키를 사용해야 하는 경우, 다음과 같은 방식으로 접근할 수 있다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 steps: - name: Checkout main repo uses: actions/checkout@v3 with: submodules: false # 서브모듈 체크아웃 안 함 # 서브모듈 A 체크아웃 - name: Checkout submodule A env: SSHK: ${{ secrets.SUBMODULE_A_KEY }} run: | mkdir -p $HOME/.ssh echo \"$SSHK\" \u003e $HOME/.ssh/ssh.key chmod 600 $HOME/.ssh/ssh.key export GIT_SSH_COMMAND=\"ssh -i $HOME/.ssh/ssh.key\" git submodule update --init -- path/to/submodule_a # 서브모듈 B 체크아웃 - name: Checkout submodule B env: SSHK: ${{ secrets.SUBMODULE_B_KEY }} run: | mkdir -p $HOME/.ssh echo \"$SSHK\" \u003e $HOME/.ssh/ssh.key chmod 600 $HOME/.ssh/ssh.key export GIT_SSH_COMMAND=\"ssh -i $HOME/.ssh/ssh.key\" git submodule update --init -- path/to/submodule_b 최적화하기 위한 고려사항 및 주의할 점 Git 서브모듈을 사용할 때 성능 최적화를 위한 고려사항은 다음과 같다:\n서브모듈 깊이 제한: 서브모듈 내에 서브모듈이 중첩된 깊은 계층 구조는 초기화 및 업데이트 시간을 크게 늘릴 수 있으므로 가능한 한 얕은 계층 구조를 유지한다.\n선택적 서브모듈 사용: 모든 서브모듈을 항상 업데이트하는 대신, 필요한 서브모듈만 초기화하여 시간을 절약한다.\n1 2 git submodule init path/to/needed/submodule git submodule update path/to/needed/submodule 병렬 처리 활용: 여러 서브모듈을 동시에 업데이트하여 시간을 절약한다.\n1 git submodule update --init --recursive --jobs=8 얕은 클론 고려: 거대한 이력이 있는 서브모듈의 경우 얕은 클론으로 다운로드 크기와 시간을 줄인다.\n1 git submodule update --init --depth=1 캐시 활용: Git 의 캐시 기능을 활용하여 반복적인 작업 속도를 향상시킨다.\n1 git config --global core.preloadindex true 대규모 모노레포 성능 개선: 인덱스 버전을 4 로 업그레이드하면 경로 이름을 압축하여 인덱스 크기를 30%~50% 줄이고 작업 속도를 향상시킬 수 있다.\n파일 시스템 모니터링: 파일 시스템 모니터 (FSMonitor) 는 전체 작업 디렉토리를 검색하지 않고 검색 크기를 줄여 git status 와 같은 명령어의 속도를 높일 수 있다.\n서브모듈 대신 다른 대안 고려: 특정 상황에서는 서브모듈 대신 패키지 관리자나 모노레포 도구가 더 나은 성능을 제공할 수 있다.\n최신 동향 주제 항목 설명 AI 통합 AutoMerge LLM 기반 충돌 자동 해결 서브모듈 간소화 향상된 명령어 Git 2.42.0 이상 버전에서는 서브모듈 작업을 간소화하는 새로운 기능들이 도입되어 작업 복잡성이 줄어들었습니다. 모노레포 통합 혼합 접근법 대규모 프로젝트 관리에서 Git 서브모듈과 모노레포를 함께 사용하는 혼합 접근법이 인기를 얻고 있습니다. 성능 최적화 파일 시스템 모니터링 Git 의 내장 파일 시스템 모니터 도구가 모노레포 및 서브모듈 성능을 크게 향상시킵니다. 자동화 도구 CI/CD 통합 서브모듈 초기화, 업데이트, 동기화를 자동으로 처리하는 CI/CD 파이프라인 플러그인이 표준화되고 있습니다. 보안 강화 접근 제어 서브모듈에 대한 세분화된 접근 제어를 지원하는 도구들이 늘어나고 있습니다. 주목해야 할 기술 주제 항목 설명 서브모듈 오케스트레이션 통합 관리 도구 여러 서브모듈을 통합적으로 관리하고 동기화하는 고급 도구들이 개발되고 있습니다. 인텔리전트 업데이트 선택적 서브모듈 업데이트 변경된 서브모듈만 지능적으로 감지하고 업데이트하는 도구가 등장하고 있습니다. IDE 통합 시각적 서브모듈 관리 주요 IDE 들이 Git 서브모듈을 시각적으로 관리할 수 있는 고급 기능을 제공하여 복잡한 명령어 사용 없이도 서브모듈 관리가 가능해지고 있습니다. 충돌 해결 자동화 AI 기반 서브모듈 충돌 해결 머신러닝과 AI 를 활용하여 서브모듈 충돌을 자동으로 감지하고 해결 방안을 제안하는 도구들이 개발되고 있습니다. 분산 서브모듈 P2P 서브모듈 동기화 피어 투 피어 방식으로 서브모듈을 동기화하여 중앙 서버 의존성을 줄이는 기술이 발전하고 있습니다. 앞으로의 전망 주제 항목 설명 하이브리드 모델 서브모듈 - 모노레포 통합 서브모듈과 모노레포의 장점을 결합한 하이브리드 접근 방식이 주류가 될 것으로 예상됩니다. 자동화 발전 지능형 서브모듈 관리 AI 와 자동화 기술을 활용한 더욱 스마트한 서브모듈 관리 도구가 등장할 것입니다. Git 확장성 개선 대규모 서브모듈 성능 향상 GitHub 의 Project Cyclops 와 같은 프로젝트를 통해 대규모 서브모듈 및 모노레포 성능이 크게 향상될 것입니다. 분산 개발 최적화 원격 작업 효율성 글로벌 분산 팀에서 서브모듈을 효율적으로 사용할 수 있는 도구와 프로세스가 발전할 것입니다. 클라우드 네이티브 통합 클라우드 환경 최적화 클라우드 네이티브 환경에서 서브모듈을 더욱 효율적으로 활용할 수 있는 도구들이 등장할 것입니다. 추가 학습 하위 주제 카테고리 주제 설명 고급 서브모듈 기술 서브모듈 브랜치 추적 Git 1.8.2 이상에서 서브모듈이 특정 브랜치를 추적하도록 설정하는 방법 서브모듈 내부 작동 원리 Git 서브모듈의 내부 구현 및 작동 원리에 대한 깊은 이해 충돌 해결 전략 서브모듈 충돌 발생 시 효과적인 해결 전략 및 도구 통합 및 자동화 CI/CD 파이프라인 통합 지속적 통합 및 배포 환경에서 서브모듈을 효율적으로 관리하는 방법 자동화 스크립트 개발 서브모듈 작업을 간소화하는 맞춤형 스크립트 및 도구 개발 서브모듈 후크 활용 Git 훅을 사용하여 서브모듈 작업을 자동화하는 방법 소프트웨어 아키텍처 모듈 단위 설계 및 저장소 구조화 저장소 구조화 전략으로 Submodule 을 활용한 모듈화 방법론 학습 마이크로서비스 마이크로서비스 아키텍처에서 서브모듈 활용 모노레포 설계 대규모 코드베이스의 효과적인 구조화 전략 실무 패턴 서브모듈 패턴 및 안티패턴 실무에서 효과적인 서브모듈 사용 패턴과 피해야 할 안티패턴 마이그레이션 전략 기존 저장소를 서브모듈 구조로 마이그레이션하는 전략 대규모 프로젝트 관리 수십, 수백 개의 서브모듈을 가진 대규모 프로젝트 관리 방법 대안 및 비교 서브모듈 vs 모노레포 서브모듈과 모노레포 접근 방식의 심층 비교 및 적절한 선택 기준 서브모듈 vs 패키지 관리자 서브모듈과 언어별 패키지 관리자 (npm, pip 등) 비교 서브트리 vs 서브모듈 Git 서브트리와 서브모듈의 비교 및 적절한 사용 상황 인증 및 접근 제어 Private Submodule 인증 방식 토큰, SSH, OAuth 등 접근 인증 방식 학습 보안 (Security) 인증 키 관리 및 노출 방지 .gitmodules 에 포함된 인증 정보 보안 관리 필요성 협업 개발 코드 리뷰 서브모듈이 포함된 프로젝트의 효과적인 코드 리뷰 전략 팀 구성 및 역할 서브모듈 기반 프로젝트에서의 팀 구성 및 역할 분담 문서화 서브모듈 구조와 워크플로우의 효과적인 문서화 방법 성능 최적화 Git 성능 튜닝 대규모 저장소와 서브모듈의 Git 성능 최적화 기법 분산 환경 최적화 글로벌 분산 팀에서 서브모듈 사용 최적화 클라이언트 성능 Git 클라이언트 도구의 서브모듈 성능 최적화 용어 정리 용어 설명 Fast-Forward 병합 없이 브랜치 포인터 이동 .git/modules 서브모듈 메타데이터 저장 위치 .gitmodules Submodule 의 경로 및 URL 정보를 저장하는 구성 파일 Subtree Submodule 의 대안으로, 하위 프로젝트를 통합하여 히스토리 유지가 쉬운 방식 git-subrepo Submodule 보다 유연하게 외부 저장소를 통합할 수 있는 도구 부모 저장소 (Parent Repository) 서브모듈을 포함하는 주 Git 저장소 서브모듈 (Submodule) 다른 Git 저장소 내에 포함된 독립적인 Git 저장소 분리된 HEAD(Detached HEAD) 브랜치가 아닌 특정 커밋을 직접 가리키는 상태로, 서브모듈은 기본적으로 이 상태로 체크아웃됨 서브모듈 참조 부모 저장소가 서브모듈의 특정 커밋을 가리키는 참조 모노레포 (Monorepo) 여러 프로젝트가 단일 저장소 내에 함께 있는 구조 브랜치 추적 Git 1.8.2 부터 지원되는 서브모듈이 특정 브랜치를 추적하는 기능 shallow clone 전체 이력이 아닌 최신 커밋만 가져오는 얕은 클론 방식 재귀적 업데이트 –recursive 플래그를 사용하여 중첩된 서브모듈까지 모두 업데이트하는 방식 Deploy Key 특정 저장소 전용으로 등록한 SSH 공개 키 (보통 read-only) PAT (Personal Access Token) GitHub 등의 API 인증을 위한 토큰, HTTPS 로 인증할 때 사용 submodules: recursive GitHub Actions 에서 모든 하위 서브모듈까지 자동 clone 하는 옵션 Subtree Git 저장소 통합 방식 중 하나로, 외부 저장소 내용을 직접 포함하여 사용 참고 및 출처 Git 공식 문서 Atlassian 서브모듈 가이드 GitHub Actions 서브모듈 설정 Git 공식 Submodule 문서 GitHub Docs: About submodules Atlassian Git Submodule 개요 Atlassian Git 튜토리얼: 서브모듈 핵심 개념 Git 서브모듈 명령어 문서 서브모듈 튜토리얼: 기초부터 마스터까지 GitHub 블로그: 서브모듈 작업하기 Git 서브모듈 사용 방법 – 예제와 함께 설명 Git 서브모듈 vs 모노레포 비교 대규모 모노레포 성능 개선 Git 파일 시스템 모니터를 통한 모노레포 성능 개선 Git 모노레포 성능 개선 방법 Git 서브모듈과 모노레포: 대규모 프로젝트 관리 Git 서브모듈로 저장소 관리하기 ","wordCount":"4497","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-09-28T07:28:00Z","dateModified":"2024-09-28T07:28:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/devops-and-infrastructure/version-control-systems/git-workflow/git-submodule/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>기술 블로그</a>&nbsp;»&nbsp;<a href>DevOps and Infrastructure</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/devops-and-infrastructure/version-control-systems/>Version Control Systems</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/devops-and-infrastructure/version-control-systems/git-workflow/>Git Workflow</a></div><h1 class="post-title entry-hint-parent">Git Submodule</h1><div class=post-description>Git Submodule 은 외부 Git 저장소를 현재 프로젝트에 하위 모듈로 포함시켜 관리하는 방식이다. 현대 소프트웨어 개발에서 필수적인 모듈화 도구로 진화했다. 이를 통해 개발자는 코드 재사용, 외부 의존성 관리, 모듈식 개발을 효과적으로 구현할 수 있다. 서브모듈은 부모 저장소에서 자식 저장소의 특정 커밋을 참조하는 방식으로 작동하며, 이를 통해 의존성 버전을 고정하여 안정성을 확보할 수 있다. 코드 재사용, 독립적 이력 관리, 모듈식 구조 등의 장점이 있지만, 복잡한 워크플로우와 추가 학습이 필요하다는 단점도 있다. 최근에는 서브모듈과 모노레포의 장점을 결합한 하이브리드 접근법과 성능 최적화 기술이 발전하고 있으며, 향후 AI 기반의 자동화와 클라우드 환경 최적화가 더욱 진전될 것으로 전망된다.</div><div class=post-meta><span title='2024-09-28 07:28:00 +0000 UTC'>September 28, 2024</span>&nbsp;·&nbsp;22 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/DevOps%20and%20Infrastructure/Version%20Control%20Systems/Git%20Workflow/Git-Submodule.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#git-submodule>Git Submodule</a><ul><li><a href=#핵심-개념>핵심 개념</a></li><li><a href=#목적>목적</a></li><li><a href=#필요성>필요성</a></li><li><a href=#주요-기능>주요 기능</a></li><li><a href=#역할>역할</a></li><li><a href=#특징>특징</a></li><li><a href=#핵심-원칙-및-작동-원리>핵심 원칙 및 작동 원리</a></li><li><a href=#핵심-원칙>핵심 원칙</a></li><li><a href=#작동-원리>작동 원리</a></li><li><a href=#submodule-명령어>Submodule 명령어</a></li><li><a href=#gitmodules-파일><code>.gitmodules</code> 파일</a></li><li><a href=#장점과-단점>장점과 단점</a></li><li><a href=#실무-적용-예시>실무 적용 예시</a></li><li><a href=#실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점</a></li><li><a href=#private-submodule-인증-전략>Private Submodule 인증 전략</a></li><li><a href=#최적화하기-위한-고려사항-및-주의할-점>최적화하기 위한 고려사항 및 주의할 점</a></li><li><a href=#최신-동향>최신 동향</a></li><li><a href=#주목해야-할-기술>주목해야 할 기술</a></li><li><a href=#앞으로의-전망>앞으로의 전망</a></li><li><a href=#추가-학습-하위-주제>추가 학습 하위 주제</a></li></ul></li><li><a href=#용어-정리>용어 정리</a></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=git-submodule>Git Submodule<a hidden class=anchor aria-hidden=true href=#git-submodule>#</a></h2><p><code>Git Submodule</code> 은 하나의 Git 저장소 안에 또 다른 Git 저장소를 포함시킬 수 있도록 하는 기능이다. 이는 외부 라이브러리, 공통 모듈, 또는 서드파티 코드 등을 독립적으로 유지하며 주 저장소와 연동하여 사용하는 데 활용된다.</p><p>서브모듈은 특정 커밋을 참조하는 방식으로 작동하며, 주 저장소 (부모 저장소) 와 서브모듈 저장소 (자식 저장소) 간의 명확한 경계를 유지한다.</p><p>복잡한 프로젝트 구조에서 모듈화를 실현하고, 공통 코드의 버전 동기화 및 유지관리를 용이하게 한다.</p><h3 id=핵심-개념>핵심 개념<a hidden class=anchor aria-hidden=true href=#핵심-개념>#</a></h3><p><strong>Git Submodule</strong>은 한 Git 저장소 (부모 저장소) 내에 다른 Git 저장소 (자식 저장소) 를 현재 저장소의 하위 디렉토리로 포함시키는 방식이다. 서브모듈은 다른 외부 저장소의 특정 커밋을 가리키는 주 저장소 내의 기록이다. 서브모듈은 매우 정적이며 특정 커밋만 추적한다.</p><h3 id=목적>목적<a hidden class=anchor aria-hidden=true href=#목적>#</a></h3><p>Git 서브모듈의 주요 목적은 다음과 같다:</p><ol><li><strong>코드 재사용</strong>: Git 서브모듈은 참조를 통해 다른 Git 저장소를 포함할 수 있게 해준다. 공유 코드가 필요한 일반적인 사용 사례에 적합하다.</li><li><strong>외부 의존성 관리</strong>: 코드 저장소는 종종 외부 코드에 의존합니다. 서브모듈은 외부 코드의 버전 기록을 통합하고 추적할 수 있게 해준다.</li><li><strong>모듈식 개발</strong>: 서브모듈을 사용하면 코드베이스를 더 작고 관리하기 쉬운 부분으로 나눌 수 있다.</li></ol><h3 id=필요성>필요성<a hidden class=anchor aria-hidden=true href=#필요성>#</a></h3><p>Git 서브모듈은 다음과 같은 상황에서 특히 필요하다:</p><ol><li>외부 구성 요소나 하위 프로젝트가 너무 빠르게 변경되거나 향후 변경 사항이 API 를 손상시킬 수 있을 때, 안전을 위해 코드를 특정 커밋에 고정할 수 있다.</li><li>코드 중복을 피하면서 여러 프로젝트에서 동일한 코드베이스를 사용할 때</li><li>다른 원격 저장소에 저장된 여러 프로젝트와 라이브러리에 의존하는 프로젝트를 복제할 때, 단일 로컬 저장소에 이러한 모든 의존성을 포함해야 할 필요가 있다.</li></ol><h3 id=주요-기능>주요 기능<a hidden class=anchor aria-hidden=true href=#주요-기능>#</a></h3><ol><li><strong>특정 커밋 참조</strong>: 서브모듈은 부모 프로젝트에 지정된 정확한 커밋에 의해 추적되며, 브랜치나 참조, 또는 다른 심볼릭 참조가 아니다.</li><li><strong>독립적 이력 유지</strong>: 서브모듈은 자체 Git 저장소로서 자신만의 이력을 가지며, 부모 저장소와는 별개로 관리된다.</li><li><strong>버전 고정</strong>: 서브모듈은 부모 저장소에서 특정 커밋을 가리켜 의존성 버전을 고정한다.</li><li><strong>선택적 업데이트</strong>: 서브모듈은 부모 저장소에서 명시적으로 업데이트 명령을 실행할 때만 업데이트된다.</li></ol><h3 id=역할>역할<a hidden class=anchor aria-hidden=true href=#역할>#</a></h3><p>Git 서브모듈은 다음과 같은 역할을 수행한다:</p><ol><li><strong>의존성 관리자</strong>: 외부 코드 의존성을 효과적으로 관리한다.</li><li><strong>모듈 통합자</strong>: 여러 독립적인 코드베이스를 단일 프로젝트로 통합한다.</li><li><strong>버전 컨트롤러</strong>: 외부 의존성의 특정 버전을 고정하여 안정성을 보장한다.</li><li><strong>코드 공유 촉진자</strong>: 여러 프로젝트 간에 코드 재사용을 용이하게 한다.</li></ol><h3 id=특징>특징<a hidden class=anchor aria-hidden=true href=#특징>#</a></h3><ol><li><strong>정적 참조</strong>: 서브모듈은 매우 정적이다. 서브모듈을 이용해 특정 커밋을 추적하며, 브랜치나 참조가 아닌 단일 커밋을 가리킨다.</li><li><strong>독립적인 저장소</strong>: Git 서브모듈은 기술적으로 완전한 기능을 갖춘 표준 Git 저장소이다. 다른 부모 Git 저장소 내에 위치한다는 것만이 차이점이다.</li><li><strong>.gitmodules 파일</strong>: 저장소에 서브모듈을 추가하면 새로운.gitmodules 파일이 생성된다. 이 파일은 서브모듈 프로젝트의 URL 과 로컬 디렉토리 간의 매핑에 대한 메타데이터를 포함한다.</li><li><strong>명시적 초기화 및 업데이트</strong>: 서브모듈은 git clone 후 명시적으로 초기화하고 업데이트해야 한다.</li></ol><h3 id=핵심-원칙-및-작동-원리>핵심 원칙 및 작동 원리<a hidden class=anchor aria-hidden=true href=#핵심-원칙-및-작동-원리>#</a></h3><h3 id=핵심-원칙>핵심 원칙<a hidden class=anchor aria-hidden=true href=#핵심-원칙>#</a></h3><ol><li><strong>분리된 이력</strong>: 서브모듈과 부모 저장소는 각각 독립적인 커밋 이력을 유지한다.</li><li><strong>명시적 참조</strong>: 부모 저장소는 서브모듈의 특정 커밋을 명시적으로 참조한다.</li><li><strong>수동 동기화</strong>: 서브모듈의 변경사항은 부모 저장소에 수동으로 동기화해야 한다.</li><li><strong>최소 침해</strong>: git-meta 의 배후에 있는 원칙 중 하나는 " 일반 " Git 에서 가능한 한 적게 벗어나는 것이다. 가능한 경우 바닐라 Git 명령어를 사용하고, Git 의 기본 분산 모델을 유지하고자 했다.</li></ol><h3 id=작동-원리>작동 원리<a hidden class=anchor aria-hidden=true href=#작동-원리>#</a></h3><p>Git 서브모듈의 작동 원리는 다음과 같다:</p><ol><li><strong>서브모듈 추가</strong>: <code>git submodule add &lt;url> &lt;path></code> 명령어로 서브모듈을 추가하면, Git 은 지정된 URL 에서 저장소를 클론하고 지정된 경로에 배치한다.</li><li>프로젝트 폴더에 <code>.gitmodules</code> 파일이 생성된다.</li><li><strong>참조 저장</strong>: 부모 저장소는 서브모듈의 현재 커밋 ID 를 저장하며, 이 정보는 부모 저장소의 커밋에 포함된다.</li><li><strong>클론 및 초기화</strong>: 서브모듈이 있는 저장소를 클론할 때, 서브모듈 코드는 자동으로 함께 클론되지 않는다. &lsquo;git submodule init&rsquo; 과 &lsquo;git submodule update&rsquo; 명령어를 사용하여 서브모듈을 초기화하고 코드를 가져와야 한다.</li><li><strong>상태 추적</strong>: 부모 저장소의 관점에서, Git 은 &lsquo;src/common&rsquo; 과 같은 마운트 포인트 경로가 가상 파일인 것처럼 취급하며, 이 파일의 내용은 체크아웃되어야 하는 서브모듈의 커밋 해시이다.</li><li><strong>업데이트 메커니즘</strong>: 서브모듈이 업데이트되면, 부모 저장소는 새로운 커밋 ID 를 가리키도록 업데이트되어야 한다.</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 서브모듈 추가 </span>
</span></span><span class=line><span class=cl>git submodule add https://github.com/example/repo.git lib/SubmoduleRepo/
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>MainRepo/
</span></span><span class=line><span class=cl> ├── .gitmodules
</span></span><span class=line><span class=cl> ├── lib/
</span></span><span class=line><span class=cl> │    └── SubmoduleRepo/ <span class=o>(</span>Git repo<span class=o>)</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1># 초기화 및 업데이트 </span>
</span></span><span class=line><span class=cl>git submodule update --init --recursive
</span></span></code></pre></td></tr></table></div></div><ul><li><code>.gitmodules</code> 에 Submodule 경로와 URL 기록</li><li>Submodule 은 해당 커밋을 기준으로 checkout 됨</li><li><code>git submodule update</code>, <code>git submodule init</code>, <code>git submodule sync</code> 등 명령어로 관리</li></ul><h4 id=구성-요소>구성 요소<a hidden class=anchor aria-hidden=true href=#구성-요소>#</a></h4><p>Git 서브모듈 시스템의 주요 구성 요소는 다음과 같다:</p><ol><li><strong>부모 저장소 (Parent Repository)</strong>: 다른 Git 저장소를 포함하는 주 저장소이다.</li><li><strong>서브모듈 저장소 (Submodule Repository)</strong>: 부모 저장소 내에 포함된 독립적인 Git 저장소이다.</li><li><strong>.gitmodules 파일</strong>:.gitmodules 파일은 부모 저장소의 서브모듈에 대한 정보를 포함하는 설정 파일이다. 각 서브모듈에 대해 부모 저장소 내의 상대적인 " 마운트 포인트 " 경로와 Git 원격 URL 을 포함한다.</li><li><strong>커밋 참조 (Commit Reference)</strong>: 부모 저장소에 저장된 서브모듈의 특정 커밋을 가리키는 참조이다.</li><li><strong>Git 명령어 및 도구</strong>: <code>git submodule</code> 명령어와 그 하위 명령어들 (add, init, update, foreach 등)</li></ol><pre class=mermaid>graph TD
A[부모 저장소] --&gt; B[.gitmodules 파일]
B --&gt; C[서브모듈 경로]
C --&gt; D[외부 저장소 커밋 참조]
</pre><h4 id=아키텍처>아키텍처<a hidden class=anchor aria-hidden=true href=#아키텍처>#</a></h4><p>Git 서브모듈의 아키텍처는 계층적 저장소 구조를 기반으로 한다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3>3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4>4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5>5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6>6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7>7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>부모_저장소/
</span></span><span class=line><span class=cl>├── .git/               # 부모 저장소의 Git 디렉토리
</span></span><span class=line><span class=cl>│   ├── config          # 로컬에서 Submodule 의 Git 설정이 저장되는 위치    
</span></span><span class=line><span class=cl>├── .gitmodules         # 서브모듈 설정 파일
</span></span><span class=line><span class=cl>├── 일반_파일들/         # 부모 저장소의 파일들
</span></span><span class=line><span class=cl>└── 서브모듈_디렉토리/    # 서브모듈의 경로
</span></span><span class=line><span class=cl>    ├── .git            # 서브모듈의 Git 디렉토리 (실제로는 참조 파일)
</span></span><span class=line><span class=cl>    └── 서브모듈_파일들/  # 서브모듈의 파일들
</span></span></code></pre></td></tr></table></div></div><p>서브모듈의 <code>.git</code> 디렉토리는 실제로는 부모 저장소의 <code>.git/modules/</code> 디렉토리 내 해당 서브모듈의 Git 데이터를 가리키는 참조 파일이다. 이렇게 함으로써 서브모듈이 부모 저장소 내에 존재하면서도 독립적인 Git 저장소로 기능할 수 있다.</p><h3 id=submodule-명령어>Submodule 명령어<a hidden class=anchor aria-hidden=true href=#submodule-명령어>#</a></h3><h4 id=submodule-생성-및-추가>Submodule 생성 및 추가<a hidden class=anchor aria-hidden=true href=#submodule-생성-및-추가>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2>2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3>3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Submodule 추가</span>
</span></span><span class=line><span class=cl>$ git submodule add &lt;저장소 URL&gt; &lt;경로&gt;
</span></span><span class=line><span class=cl><span class=c1># 특정 브랜치를 submodule로 추가</span>
</span></span><span class=line><span class=cl>$ git submodule add -b &lt;branch_name&gt; &lt;repository_url&gt; <span class=o>[</span>path<span class=o>]</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=submodule-이-있는-프로젝트-클론>Submodule 이 있는 프로젝트 클론<a hidden class=anchor aria-hidden=true href=#submodule-이-있는-프로젝트-클론>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2>2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3>3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4>4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5>5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6>6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Submodule이 있는 프로젝트 클론</span>
</span></span><span class=line><span class=cl>$ git clone &lt;저장소 URL&gt;
</span></span><span class=line><span class=cl>$ git submodule init
</span></span><span class=line><span class=cl>$ git submodule update
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 또는 한번에 클론</span>
</span></span><span class=line><span class=cl>$ git clone --recurse-submodules &lt;저장소 URL&gt;
</span></span></code></pre></td></tr></table></div></div><h4 id=submodule-상태-및-정보-확인>Submodule 상태 및 정보 확인<a hidden class=anchor aria-hidden=true href=#submodule-상태-및-정보-확인>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2>2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3>3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4>4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5>5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6>6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7>7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 상태 확인</span>
</span></span><span class=line><span class=cl>$ git submodule status
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 변경사항 확인</span>
</span></span><span class=line><span class=cl>$ git diff --submodule
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 상세 로그 확인</span>
</span></span><span class=line><span class=cl>$ git diff --submodule<span class=o>=</span>log
</span></span></code></pre></td></tr></table></div></div><h4 id=submodule-업데이트>Submodule 업데이트<a hidden class=anchor aria-hidden=true href=#submodule-업데이트>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 기본 업데이트</span>
</span></span><span class=line><span class=cl>$ git submodule update --remote
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 병합 옵션 포함 업데이트</span>
</span></span><span class=line><span class=cl>$ git submodule update --remote --merge
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 특정 서브모듈만 업데이트</span>
</span></span><span class=line><span class=cl>$ git submodule update --remote --merge &lt;path&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 재귀적 업데이트</span>
</span></span><span class=line><span class=cl>$ git submodule update --init --recursive
</span></span></code></pre></td></tr></table></div></div><h4 id=submodule-일괄-명령-실행>Submodule 일괄 명령 실행<a hidden class=anchor aria-hidden=true href=#submodule-일괄-명령-실행>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2>2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3>3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4>4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5>5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6>6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7>7</a>
</span><span class=lnt id=hl-7-8><a class=lnlinks href=#hl-7-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 기본 형식</span>
</span></span><span class=line><span class=cl>$ git submodule foreach <span class=s1>&#39;&lt;git command&gt;&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 예시: 새 브랜치 생성</span>
</span></span><span class=line><span class=cl>$ git submodule foreach <span class=s1>&#39;git checkout -b featureA&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 예시: 상태 확인</span>
</span></span><span class=line><span class=cl>$ git submodule foreach <span class=s1>&#39;git status&#39;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=submodule-설정관리>Submodule 설정관리<a hidden class=anchor aria-hidden=true href=#submodule-설정관리>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1>1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2>2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3>3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4>4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5>5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6>6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># URL 동기화</span>
</span></span><span class=line><span class=cl>$ git submodule sync
</span></span><span class=line><span class=cl>$ git submodule sync --recursive
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># URL 변경 후 업데이트</span>
</span></span><span class=line><span class=cl>$ git submodule sync
</span></span><span class=line><span class=cl>$ git submodule update --remote --merge
</span></span></code></pre></td></tr></table></div></div><h4 id=submodule-제거>Submodule 제거<a hidden class=anchor aria-hidden=true href=#submodule-제거>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1>1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2>2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 서브모듈 제거 과정</span>
</span></span><span class=line><span class=cl>$ git submodule deinit &lt;path&gt;
</span></span><span class=line><span class=cl>$ git rm &lt;path&gt;
</span></span></code></pre></td></tr></table></div></div><h3 id=gitmodules-파일><code>.gitmodules</code> 파일<a hidden class=anchor aria-hidden=true href=#gitmodules-파일>#</a></h3><p>Git 서브모듈 설정을 저장하는 설정 파일로 프로젝트 루트 디렉토리에 위치한다.<br>서브모듈이 저장될 경로를 지정하여 주 저장소의 어느 위치에 서브모듈이 있는지 명확히 하고, 서브모듈이 참조할 원격 저장소의 URL 을 지정하여, 서브모듈을 업데이트하거나 클론할 때 올바른 원격 저장소와 연결되도록 한다. 또한, 주 저장소와 서브모듈의 설정이 일관되도록 하여 <code>git submodule sync</code> 와 같은 명령어로 서브모듈의 원격 URL 을 쉽게 업데이트할 수 있다.</p><p><code>.gitmodules</code> 파일은 다음 명령어를 통해 Submodule 을 추가할 때 자동으로 생성된다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git submodule add https://github.com/example/my-lib.git libs/my-lib
</span></span></code></pre></td></tr></table></div></div><p>옵션 없이 기본적으로 커밋 기준으로 Submodule 이 참조되며, 위 명령 실행 시 <code>.gitmodules</code> 파일과 함께 <code>.git/config</code> 에도 설정이 복사된다.</p><h4 id=submodule-설정-변경-시-주의할-점>Submodule 설정 변경 시 주의할 점<a hidden class=anchor aria-hidden=true href=#submodule-설정-변경-시-주의할-점>#</a></h4><ol><li><p><code>.gitmodules</code> 변경 후에는 반드시 다음을 수행해야 한다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git submodule sync
</span></span></code></pre></td></tr></table></div></div></li><li><p>이후 로컬 설정도 갱신해야 동기화된다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git submodule update --init --recursive
</span></span></code></pre></td></tr></table></div></div></li><li><p>브랜치를 따라가도록 설정한 경우에도 <code>--remote</code> 를 명시적으로 사용해야 최신 상태를 가져온다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git submodule update --remote
</span></span></code></pre></td></tr></table></div></div></li><li><p>Private 저장소인 경우에는 <code>url</code> 에 SSH 주소 (<code>git@github.com:…</code>) 사용을 권장한다.</p></li><li><p><code>.gitmodules</code> 와 <code>.git/config</code> 간 동기화 상태를 수시로 점검해야 한다.</p></li><li><p>추적 브랜치 + CI/CD 자동화를 함께 구성하는 것이 효율적이다.</p></li></ol><h4 id=주요-설정-항목>주요 설정 항목<a hidden class=anchor aria-hidden=true href=#주요-설정-항목>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1>1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2>2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3>3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4>4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5>5</a>
</span><span class=lnt id=hl-14-6><a class=lnlinks href=#hl-14-6>6</a>
</span><span class=lnt id=hl-14-7><a class=lnlinks href=#hl-14-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl># 기본 형식
</span></span><span class=line><span class=cl>[submodule &#34;&lt;name&gt;&#34;]
</span></span><span class=line><span class=cl>    path = &lt;로컬 경로&gt;
</span></span><span class=line><span class=cl>    url = &lt;원격 저장소 URL&gt;
</span></span><span class=line><span class=cl>    branch = &lt;추적할 브랜치&gt;
</span></span><span class=line><span class=cl>    update = &lt;업데이트 전략&gt;
</span></span><span class=line><span class=cl>    ignore = &lt;무시 설정&gt;
</span></span></code></pre></td></tr></table></div></div><ul><li><code>[submodule "&lt;name>"]</code>: Submodule 의 식별자<br>프로젝트 내에서 고유한 이름이어야 한다.</li><li><code>path</code>: Submodule 이 저장될 경로.<br>주 저장소의 루트에서 상대 경로로 지정되며, Submodule 이 이 위치에 체크아웃된다.<br>기존 경로와 충돌하지 않도록 주의한다.</li><li><code>url</code>: Submodule 의 원격 저장소 주소<br>HTTPS / SSH URL 사용 가능<br>접근 권한 있는 URL 사용</li><li><code>branch</code>: Submodule 이 추적할 원격 브랜치 지정<br>생략 시 기본값은 <code>master</code>/<code>main</code><br>접근 권한 있는 URL 사용</li><li><code>update</code>: Submodule 업데이트 시 사용할 전략 지정.<br>팀의 작업 방식에 맞는 전략 선택</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1>1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2>2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3>3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4>4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl>	<span class=c1># 가능한 값들: </span>
</span></span><span class=line><span class=cl>	<span class=na>update</span> <span class=o>=</span> <span class=s>merge # merge 전략 사용 (로컬 변경사항 유지) 
</span></span></span><span class=line><span class=cl><span class=s>	update = rebase # rebase 전략 사용 
</span></span></span><span class=line><span class=cl><span class=s>	update = checkout # 강제로 원격 버전으로 체크아웃 (기본값) 
</span></span></span><span class=line><span class=cl><span class=s>	update = none # 자동 업데이트 하지 않음</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><code>ignore</code>: Submodule 의 변경사항 추적 방식 설정<br>프로젝트 요구사항에 따라 신중히 선택</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1>1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2>2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3>3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4>4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl>	<span class=c1># 가능한 값들:</span>
</span></span><span class=line><span class=cl>	<span class=na>ignore</span> <span class=o>=</span> <span class=s>none           # 모든 변경사항 추적 (기본값)
</span></span></span><span class=line><span class=cl><span class=s>	ignore = dirty          # 수정된 내용 무시
</span></span></span><span class=line><span class=cl><span class=s>	ignore = untracked     # 추적되지 않는 파일 무시
</span></span></span><span class=line><span class=cl><span class=s>	ignore = all           # 모든 변경사항 무시</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=여러-submodule-설정-예시-gitmodules>여러 Submodule 설정 예시 (<code>.gitmodules</code>)<a hidden class=anchor aria-hidden=true href=#여러-submodule-설정-예시-gitmodules>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1> 1</a>
</span><span class=lnt id=hl-17-2><a class=lnlinks href=#hl-17-2> 2</a>
</span><span class=lnt id=hl-17-3><a class=lnlinks href=#hl-17-3> 3</a>
</span><span class=lnt id=hl-17-4><a class=lnlinks href=#hl-17-4> 4</a>
</span><span class=lnt id=hl-17-5><a class=lnlinks href=#hl-17-5> 5</a>
</span><span class=lnt id=hl-17-6><a class=lnlinks href=#hl-17-6> 6</a>
</span><span class=lnt id=hl-17-7><a class=lnlinks href=#hl-17-7> 7</a>
</span><span class=lnt id=hl-17-8><a class=lnlinks href=#hl-17-8> 8</a>
</span><span class=lnt id=hl-17-9><a class=lnlinks href=#hl-17-9> 9</a>
</span><span class=lnt id=hl-17-10><a class=lnlinks href=#hl-17-10>10</a>
</span><span class=lnt id=hl-17-11><a class=lnlinks href=#hl-17-11>11</a>
</span><span class=lnt id=hl-17-12><a class=lnlinks href=#hl-17-12>12</a>
</span><span class=lnt id=hl-17-13><a class=lnlinks href=#hl-17-13>13</a>
</span><span class=lnt id=hl-17-14><a class=lnlinks href=#hl-17-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=k>[submodule &#34;libs/auth-lib&#34;]</span>
</span></span><span class=line><span class=cl>    <span class=na>path</span> <span class=o>=</span> <span class=s>libs/auth-lib
</span></span></span><span class=line><span class=cl><span class=s>    url = git@github.com:example/auth-lib.git
</span></span></span><span class=line><span class=cl><span class=s>    branch = develop</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>[submodule &#34;libs/ui-lib&#34;]</span>
</span></span><span class=line><span class=cl>    <span class=na>path</span> <span class=o>=</span> <span class=s>libs/ui-lib
</span></span></span><span class=line><span class=cl><span class=s>    url = https://github.com/example/ui-lib.git
</span></span></span><span class=line><span class=cl><span class=s>    branch = main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>[submodule &#34;tools/ci-utils&#34;]</span>
</span></span><span class=line><span class=cl>    <span class=na>path</span> <span class=o>=</span> <span class=s>tools/ci-utils
</span></span></span><span class=line><span class=cl><span class=s>    url = https://github.com/example/ci-utils.git
</span></span></span><span class=line><span class=cl><span class=s>    branch = release</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=설정-파일-구조>설정 파일 구조<a hidden class=anchor aria-hidden=true href=#설정-파일-구조>#</a></h4><h5 id=저장소-디렉토리-구조-예시>저장소 디렉토리 구조 예시<a hidden class=anchor aria-hidden=true href=#저장소-디렉토리-구조-예시>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1>1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2>2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3>3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4>4</a>
</span><span class=lnt id=hl-18-5><a class=lnlinks href=#hl-18-5>5</a>
</span><span class=lnt id=hl-18-6><a class=lnlinks href=#hl-18-6>6</a>
</span><span class=lnt id=hl-18-7><a class=lnlinks href=#hl-18-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>root</span><span class=o>/</span>
</span></span><span class=line><span class=cl><span class=err>├──</span> <span class=o>.</span><span class=n>gitmodules</span>
</span></span><span class=line><span class=cl><span class=err>├──</span> <span class=n>libs</span><span class=o>/</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>├──</span> <span class=n>auth</span><span class=o>-</span><span class=n>lib</span><span class=o>/</span>       <span class=c1># develop 브랜치 추적</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>└──</span> <span class=n>ui</span><span class=o>-</span><span class=n>lib</span><span class=o>/</span>         <span class=c1># main 브랜치 추적</span>
</span></span><span class=line><span class=cl><span class=err>└──</span> <span class=n>tools</span><span class=o>/</span>
</span></span><span class=line><span class=cl>    <span class=err>└──</span> <span class=n>ci</span><span class=o>-</span><span class=n>utils</span><span class=o>/</span>       <span class=c1># release 브랜치 추적</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=클론-및-동기화-명령어>클론 및 동기화 명령어<a hidden class=anchor aria-hidden=true href=#클론-및-동기화-명령어>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1>1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2>2</a>
</span><span class=lnt id=hl-19-3><a class=lnlinks href=#hl-19-3>3</a>
</span><span class=lnt id=hl-19-4><a class=lnlinks href=#hl-19-4>4</a>
</span><span class=lnt id=hl-19-5><a class=lnlinks href=#hl-19-5>5</a>
</span><span class=lnt id=hl-19-6><a class=lnlinks href=#hl-19-6>6</a>
</span><span class=lnt id=hl-19-7><a class=lnlinks href=#hl-19-7>7</a>
</span><span class=lnt id=hl-19-8><a class=lnlinks href=#hl-19-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 초기 Submodule 초기화</span>
</span></span><span class=line><span class=cl>git submodule init
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 모든 서브모듈을 지정된 커밋으로 체크아웃</span>
</span></span><span class=line><span class=cl>git submodule update
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 브랜치 추적을 위한 원격 상태로 업데이트 (필요시)</span>
</span></span><span class=line><span class=cl>git submodule update --remote --merge
</span></span></code></pre></td></tr></table></div></div><h4 id=gitconfig-내-동기화-확인><code>.git/config</code> 내 동기화 확인<a hidden class=anchor aria-hidden=true href=#gitconfig-내-동기화-확인>#</a></h4><p><code>.git/config</code> 에서 각 Submodule 이 추적할 브랜치를 반영해야 한다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-20-1><a class=lnlinks href=#hl-20-1> 1</a>
</span><span class=lnt id=hl-20-2><a class=lnlinks href=#hl-20-2> 2</a>
</span><span class=lnt id=hl-20-3><a class=lnlinks href=#hl-20-3> 3</a>
</span><span class=lnt id=hl-20-4><a class=lnlinks href=#hl-20-4> 4</a>
</span><span class=lnt id=hl-20-5><a class=lnlinks href=#hl-20-5> 5</a>
</span><span class=lnt id=hl-20-6><a class=lnlinks href=#hl-20-6> 6</a>
</span><span class=lnt id=hl-20-7><a class=lnlinks href=#hl-20-7> 7</a>
</span><span class=lnt id=hl-20-8><a class=lnlinks href=#hl-20-8> 8</a>
</span><span class=lnt id=hl-20-9><a class=lnlinks href=#hl-20-9> 9</a>
</span><span class=lnt id=hl-20-10><a class=lnlinks href=#hl-20-10>10</a>
</span><span class=lnt id=hl-20-11><a class=lnlinks href=#hl-20-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=k>[submodule &#34;libs/auth-lib&#34;]</span>
</span></span><span class=line><span class=cl>    <span class=na>url</span> <span class=o>=</span> <span class=s>git@github.com:example/auth-lib.git
</span></span></span><span class=line><span class=cl><span class=s>    branch = develop</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>[submodule &#34;libs/ui-lib&#34;]</span>
</span></span><span class=line><span class=cl>    <span class=na>url</span> <span class=o>=</span> <span class=s>https://github.com/example/ui-lib.git
</span></span></span><span class=line><span class=cl><span class=s>    branch = main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>[submodule &#34;tools/ci-utils&#34;]</span>
</span></span><span class=line><span class=cl>    <span class=na>url</span> <span class=o>=</span> <span class=s>https://github.com/example/ci-utils.git
</span></span></span><span class=line><span class=cl><span class=s>    branch = release</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p><code>git submodule sync</code> 명령어로 <code>.gitmodules</code> 와 <code>.git/config</code> 간 설정 불일치를 해결한다.</p></blockquote><h4 id=자동-업데이트-스크립트-예시-cicd-또는-로컬용>자동 업데이트 스크립트 예시 (CI/CD 또는 로컬용)<a hidden class=anchor aria-hidden=true href=#자동-업데이트-스크립트-예시-cicd-또는-로컬용>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1>1</a>
</span><span class=lnt id=hl-21-2><a class=lnlinks href=#hl-21-2>2</a>
</span><span class=lnt id=hl-21-3><a class=lnlinks href=#hl-21-3>3</a>
</span><span class=lnt id=hl-21-4><a class=lnlinks href=#hl-21-4>4</a>
</span><span class=lnt id=hl-21-5><a class=lnlinks href=#hl-21-5>5</a>
</span><span class=lnt id=hl-21-6><a class=lnlinks href=#hl-21-6>6</a>
</span><span class=lnt id=hl-21-7><a class=lnlinks href=#hl-21-7>7</a>
</span><span class=lnt id=hl-21-8><a class=lnlinks href=#hl-21-8>8</a>
</span><span class=lnt id=hl-21-9><a class=lnlinks href=#hl-21-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;[INFO] 모든 서브모듈 최신화 및 병합&#34;</span>
</span></span><span class=line><span class=cl>git submodule foreach <span class=s1>&#39;
</span></span></span><span class=line><span class=cl><span class=s1>  echo &#34;[INFO] 업데이트 중: $name&#34;
</span></span></span><span class=line><span class=cl><span class=s1>  git checkout $(git config -f $toplevel/.gitmodules submodule.$name.branch || echo main)
</span></span></span><span class=line><span class=cl><span class=s1>  git fetch origin
</span></span></span><span class=line><span class=cl><span class=s1>  git merge origin/$(git config -f $toplevel/.gitmodules submodule.$name.branch || echo main)
</span></span></span><span class=line><span class=cl><span class=s1>&#39;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=실무-적용-시-고려사항>실무 적용 시 고려사항<a hidden class=anchor aria-hidden=true href=#실무-적용-시-고려사항>#</a></h4><table><thead><tr><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>브랜치 동기화 명시적 관리</td><td>Submodule 은 기본적으로 특정 커밋을 고정하므로 자동 추적이 되지 않음. <code>--remote</code> 플래그 필요.</td></tr><tr><td>의존 모듈 변경 시 정책</td><td>Submodule 변경사항 커밋 후 상위 저장소에도 해당 SHA 커밋을 반드시 반영해야 함.</td></tr><tr><td>충돌 해결 전략</td><td>Submodule 충돌 시에는 해당 디렉토리로 진입하여 직접 해결 후, 다시 상위 저장소에서 <code>git add</code> 및 커밋.</td></tr></tbody></table><h4 id=추가-옵션>추가 옵션<a hidden class=anchor aria-hidden=true href=#추가-옵션>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1> 1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2> 2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3> 3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4> 4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5> 5</a>
</span><span class=lnt id=hl-22-6><a class=lnlinks href=#hl-22-6> 6</a>
</span><span class=lnt id=hl-22-7><a class=lnlinks href=#hl-22-7> 7</a>
</span><span class=lnt id=hl-22-8><a class=lnlinks href=#hl-22-8> 8</a>
</span><span class=lnt id=hl-22-9><a class=lnlinks href=#hl-22-9> 9</a>
</span><span class=lnt id=hl-22-10><a class=lnlinks href=#hl-22-10>10</a>
</span><span class=lnt id=hl-22-11><a class=lnlinks href=#hl-22-11>11</a>
</span><span class=lnt id=hl-22-12><a class=lnlinks href=#hl-22-12>12</a>
</span><span class=lnt id=hl-22-13><a class=lnlinks href=#hl-22-13>13</a>
</span><span class=lnt id=hl-22-14><a class=lnlinks href=#hl-22-14>14</a>
</span><span class=lnt id=hl-22-15><a class=lnlinks href=#hl-22-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=k>[submodule &#34;complete-example&#34;]</span>
</span></span><span class=line><span class=cl>    <span class=na>path</span> <span class=o>=</span> <span class=s>lib/complete
</span></span></span><span class=line><span class=cl><span class=s>    url = https://github.com/org/complete-lib.git
</span></span></span><span class=line><span class=cl><span class=s>    branch = main
</span></span></span><span class=line><span class=cl><span class=s>    update = merge
</span></span></span><span class=line><span class=cl><span class=s>    ignore = dirty
</span></span></span><span class=line><span class=cl><span class=s>    
</span></span></span><span class=line><span class=cl><span class=s>    fetchRecurseSubmodules = on-demand
</span></span></span><span class=line><span class=cl><span class=s>    shallow = true
</span></span></span><span class=line><span class=cl><span class=s>    registered = true
</span></span></span><span class=line><span class=cl><span class=s>    template = path/to/template
</span></span></span><span class=line><span class=cl><span class=s>    remote = origin
</span></span></span><span class=line><span class=cl><span class=s>    pushRemote = push-origin
</span></span></span><span class=line><span class=cl><span class=s>    fetchJobs = 4
</span></span></span><span class=line><span class=cl><span class=s>    active = true</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>성능 최적화가 필요할 때</strong></p><ul><li>fetchRecurseSubmodules: 서브모듈의 재귀적 페치 (fetched recursively) 설정을 제어하는 옵션으로 필요한 서브모듈만 페치하여 페치 속도를 최적화할 수 있다.<ul><li>true: 항상 서브모듈까지 fetch</li><li>false: 서브모듈 fetch 하지 않음</li><li>on-demand: 필요할 때만 fetch</li></ul></li><li>shallow: 서브모듈을 얕은 클론 (최소 커밋만 가져오는 방식) 으로 클론할 때 설정으로 전체 히스토리가 아닌 최신 커밋만 클론하여, 네트워크 트래픽을 줄이고 속도를 높인다.</li><li>fetchJobs: 페치 작업에 사용할 병렬 작업 (job) 수를 설정하는 옵션으로 여러 병렬 작업을 통해 페치 속도를 높이며, 특히 대규모 리포지토리에서 네트워크 성능과 페치 효율성을 높이는 데 유리하다.</li></ul><p><strong>복잡한 워크플로우 관리</strong></p><ul><li>template: Submodule 디렉토리에 대한 템플릿 디렉토리를 지정하는 옵션으로, Submodule 초기화 시 이 템플릿의 파일들이 복사된다. 특정 디렉토리와 파일을 템플릿으로 적용하여 새로운 프로젝트 초기화 시 일관성을 유지할 수 있다.</li><li>remote: Submodule 의 원격 저장소 URL 을 지정한다. 복수의 원격이 있을 때 각 서브모듈이 연결할 원격을 명확히 설정한다.</li><li>pushRemote: <code>push</code> 할 원격 저장소를 지정한다. 서브모듈이나 리포지토리에서 기본 <code>push</code> 원격을 변경할 수 있어, 배포용 또는 협업용 원격을 명확히 구분할 수 있다.</li></ul><p><strong>보안 설정</strong></p><ul><li>registered: 현재 Submodule 이 Git 에 등록되어 있는지 나타내는 옵션으로 Submodule 의 관리 상태를 확인할 때 사용한다. 서브모듈이 Git 에 등록되어 있는지 표시하여, 프로젝트 관리자가 서브모듈의 상태를 확인할 수 있다.</li><li>active: Submodule 의 활성화 여부로, 서브모듈이 활성화 상태인지 표시하여, 필요한 서브모듈만 활성화할 수 있게 해준다.</li></ul><p><strong>대규모 프로젝트</strong></p><ul><li>fetchRecurseSubmodulesMaxCount: 재귀적으로 서브모듈을 가져올 때 최대 깊이를 지정하는 옵션으로 서브모듈 깊이를 제한하여 페치 속도와 성능을 최적화할 수 있다.</li></ul><h3 id=장점과-단점>장점과 단점<a hidden class=anchor aria-hidden=true href=#장점과-단점>#</a></h3><table><thead><tr><th>구분</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>✅ 장점</td><td>코드 재사용</td><td>여러 프로젝트에서 동일한 코드를 중복 없이 사용할 수 있습니다.</td></tr><tr><td></td><td>버전 고정</td><td>컴포넌트나 하위 프로젝트가 너무 빠르게 변경되거나 향후 변경 사항이 API 를 깨뜨릴 경우, 안전을 위해 코드를 특정 커밋에 고정할 수 있습니다.</td></tr><tr><td></td><td>독립적 이력</td><td>각 서브모듈은 자체 커밋 이력을 유지하므로, 복잡한 기능을 모듈식으로 개발할 수 있습니다.</td></tr><tr><td></td><td>모듈식 구조</td><td>대규모 프로젝트를 더 작은 구성 요소로 분리하여 관리할 수 있습니다.</td></tr><tr><td></td><td>보안 강화</td><td>모노레포에 비해 더 안전하며, 서브모듈에 대한 접근을 특정 사용자나 팀으로 제한할 수 있습니다.</td></tr><tr><td>⚠ 단점</td><td>복잡한 워크플로우</td><td>서브모듈 사용은 표준 Git 워크플로우보다 추가적인 명령어와 단계가 필요합니다.</td></tr><tr><td></td><td>학습 곡선</td><td>팀원들이 서브모듈 개념과 작업 방식을 이해하는 데 시간이 필요합니다.</td></tr><tr><td></td><td>명시적 업데이트 필요</td><td>Git 은 서브모듈 콘텐츠를 기본적으로 다운로드하지 않으므로, 팀원들이 &lsquo;git submodule update&rsquo; 와 같은 명령어를 실행해야 합니다.</td></tr><tr><td></td><td>충돌 해결 복잡성</td><td>서브모듈 충돌은 해결하기 어려울 수 있으며, 특히 양쪽 저장소 모두에서 동일한 파일이 수정된 경우 더욱 그렇습니다.</td></tr><tr><td></td><td>디버깅 어려움</td><td>오류가 부모 저장소에서 발생했는지 서브모듈에서 발생했는지 파악하기 어려울 수 있습니다.</td></tr></tbody></table><h3 id=실무-적용-예시>실무 적용 예시<a hidden class=anchor aria-hidden=true href=#실무-적용-예시>#</a></h3><table><thead><tr><th>상황</th><th>적용 방법</th><th>이점</th></tr></thead><tbody><tr><td>클라이언트 - 서버 아키텍처</td><td>클라이언트와 서버가 모두 필요로 하는 데이터 모델을 별도의 &lsquo;common&rsquo; 저장소로 분리하여 서브모듈로 포함</td><td>코드 중복 방지 및 모델 변경 시 동기화 용이</td></tr><tr><td>프레임워크 통합</td><td>자주 사용하는 프레임워크나 라이브러리를 서브모듈로 추가</td><td>특정 버전 고정으로 안정성 확보 및 필요 시 커스터마이징 가능</td></tr><tr><td>마이크로서비스 아키텍처</td><td>각 마이크로서비스를 서브모듈로 관리</td><td>개별 서비스의 독립성 유지하면서 전체 시스템 통합 관리</td></tr><tr><td>플러그인 시스템</td><td>플러그인을 서브모듈로 관리</td><td>코어 시스템과 플러그인 간 명확한 경계 설정</td></tr><tr><td>다중 언어 프로젝트</td><td>언어별 코드베이스를 별도 서브모듈로 관리</td><td>언어별 개발 환경 최적화 및 팀 분업 용이</td></tr><tr><td>모노리포 대안</td><td>메인 저장소는 모든 코드를 관리하고 패키지는 각 서브모듈로 관리하여 변경 추적 용이</td><td>모노리포의 복잡성 없이 모듈식 구조 유지</td></tr></tbody></table><h3 id=실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>고려 사항</th><th>설명</th></tr></thead><tbody><tr><td><code>.gitmodules</code> 관리 철저</td><td>서브모듈 경로, URL 변경 시 설정 파일과 로컬 설정 동기화 필요</td></tr><tr><td>CI/CD 파이프라인 반영</td><td>서브모듈 초기화 (<code>init</code>) 및 갱신 (<code>update</code>) 절차 자동화 필요</td></tr><tr><td>접근 권한 및 인증 문제 처리</td><td>Private 저장소인 경우 SSH 키 또는 PAT 토큰 사용 고려</td></tr></tbody></table><h4 id=cicd-워크플로우-서브모듈-통합-방법>CI/CD 워크플로우 서브모듈 통합 방법<a hidden class=anchor aria-hidden=true href=#cicd-워크플로우-서브모듈-통합-방법>#</a></h4><p><strong>필수 조건</strong>:</p><ul><li>서브모듈 저장소에 대한 <strong>읽기 권한</strong> 보유</li><li><code>.gitmodules</code> 파일에 <strong>HTTPS URL</strong> 사용 권장</li><li>GitHub 에서는 <code>persist-credentials: true</code> 설정 필요</li></ul><p>📌 <strong>중요 팁</strong>:</p><h5 id=github-actions-에서-서브모듈-활용>GitHub Actions 에서 서브모듈 활용<a hidden class=anchor aria-hidden=true href=#github-actions-에서-서브모듈-활용>#</a></h5><p>GitHub Actions 에서 서브모듈을 사용하는 워크플로우는 다음과 같이 구성할 수 있다:</p><ul><li>GitHub Actions 에서 <code>actions/checkout@v3</code> 는 <code>submodules: true</code> 옵션으로 Submodule 을 자동 초기화한다.</li></ul><p><code>.github/workflows/build.yml</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1> 1</a>
</span><span class=lnt id=hl-23-2><a class=lnlinks href=#hl-23-2> 2</a>
</span><span class=lnt id=hl-23-3><a class=lnlinks href=#hl-23-3> 3</a>
</span><span class=lnt id=hl-23-4><a class=lnlinks href=#hl-23-4> 4</a>
</span><span class=lnt id=hl-23-5><a class=lnlinks href=#hl-23-5> 5</a>
</span><span class=lnt id=hl-23-6><a class=lnlinks href=#hl-23-6> 6</a>
</span><span class=lnt id=hl-23-7><a class=lnlinks href=#hl-23-7> 7</a>
</span><span class=lnt id=hl-23-8><a class=lnlinks href=#hl-23-8> 8</a>
</span><span class=lnt id=hl-23-9><a class=lnlinks href=#hl-23-9> 9</a>
</span><span class=lnt id=hl-23-10><a class=lnlinks href=#hl-23-10>10</a>
</span><span class=lnt id=hl-23-11><a class=lnlinks href=#hl-23-11>11</a>
</span><span class=lnt id=hl-23-12><a class=lnlinks href=#hl-23-12>12</a>
</span><span class=lnt id=hl-23-13><a class=lnlinks href=#hl-23-13>13</a>
</span><span class=lnt id=hl-23-14><a class=lnlinks href=#hl-23-14>14</a>
</span><span class=lnt id=hl-23-15><a class=lnlinks href=#hl-23-15>15</a>
</span><span class=lnt id=hl-23-16><a class=lnlinks href=#hl-23-16>16</a>
</span><span class=lnt id=hl-23-17><a class=lnlinks href=#hl-23-17>17</a>
</span><span class=lnt id=hl-23-18><a class=lnlinks href=#hl-23-18>18</a>
</span><span class=lnt id=hl-23-19><a class=lnlinks href=#hl-23-19>19</a>
</span><span class=lnt id=hl-23-20><a class=lnlinks href=#hl-23-20>20</a>
</span><span class=lnt id=hl-23-21><a class=lnlinks href=#hl-23-21>21</a>
</span><span class=lnt id=hl-23-22><a class=lnlinks href=#hl-23-22>22</a>
</span><span class=lnt id=hl-23-23><a class=lnlinks href=#hl-23-23>23</a>
</span><span class=lnt id=hl-23-24><a class=lnlinks href=#hl-23-24>24</a>
</span><span class=lnt id=hl-23-25><a class=lnlinks href=#hl-23-25>25</a>
</span><span class=lnt id=hl-23-26><a class=lnlinks href=#hl-23-26>26</a>
</span><span class=lnt id=hl-23-27><a class=lnlinks href=#hl-23-27>27</a>
</span><span class=lnt id=hl-23-28><a class=lnlinks href=#hl-23-28>28</a>
</span><span class=lnt id=hl-23-29><a class=lnlinks href=#hl-23-29>29</a>
</span><span class=lnt id=hl-23-30><a class=lnlinks href=#hl-23-30>30</a>
</span><span class=lnt id=hl-23-31><a class=lnlinks href=#hl-23-31>31</a>
</span><span class=lnt id=hl-23-32><a class=lnlinks href=#hl-23-32>32</a>
</span><span class=lnt id=hl-23-33><a class=lnlinks href=#hl-23-33>33</a>
</span><span class=lnt id=hl-23-34><a class=lnlinks href=#hl-23-34>34</a>
</span><span class=lnt id=hl-23-35><a class=lnlinks href=#hl-23-35>35</a>
</span><span class=lnt id=hl-23-36><a class=lnlinks href=#hl-23-36>36</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>CI with Submodules</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=l>main ]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>pull_request</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=l>main ]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>build</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout repository with submodules</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>  </span><span class=c># ✅ 공개 서브모듈 체크아웃 가능</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	    </span><span class=nt>token</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GITHUB_TOKEN }} </span><span class=w> </span><span class=c># ⚠️ 필수 아님 (자동 적용됨)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># 빌드 단계</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build project</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>        mkdir build &amp;&amp; cd build
</span></span></span><span class=line><span class=cl><span class=sd>        cmake ..
</span></span></span><span class=line><span class=cl><span class=sd>        make
</span></span></span><span class=line><span class=cl><span class=sd>        </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># 테스트 단계</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Run tests</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>        cd build
</span></span></span><span class=line><span class=cl><span class=sd>        ctest
</span></span></span><span class=line><span class=cl><span class=sd>        </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># 배포 단계</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=l>github.ref == &#39;refs/heads/main&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>        echo &#34;Deploying to production…&#34;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>주요 옵션 설명</strong></p><table><thead><tr><th>옵션</th><th>설명</th><th>필수 여부</th></tr></thead><tbody><tr><td><strong><code>submodules: true</code></strong></td><td>1 단계 깊이의 서브모듈 체크아웃</td><td>필수</td></tr><tr><td><strong><code>submodules: recursive</code></strong></td><td>중첩된 모든 서브모듈 체크아웃</td><td>선택</td></tr><tr><td><strong><code>token</code></strong></td><td>상위 저장소와 다른 조직의 서브모듈 접근 시 필요</td><td>조건부</td></tr></tbody></table><p><strong>주의 사항</strong></p><ul><li><strong>SSH 키 충돌</strong>: <code>ssh-key</code> 와 <code>token</code> 을 동시에 사용 시 오류 발생 가능</li><li><strong>퍼포먼스 저하</strong>: 불필요한 <code>token</code> 지정 시 실행 시간 15~20% 증가</li><li><strong>히스토리 관리</strong>: <code>fetch-depth: 0</code> 추가 시 전체 커밋 내역 다운로드</li></ul><h5 id=gitlab-cicd-에서-서브모듈-활용>GitLab CI/CD 에서 서브모듈 활용<a hidden class=anchor aria-hidden=true href=#gitlab-cicd-에서-서브모듈-활용>#</a></h5><p>GitLab CI/CD 에서는 다양한 환경 변수를 통해 서브모듈을 구성할 수 있다:<br>GitLab 에서는 수동으로 <code>init</code> 과 <code>update</code> 를 해줘야 한다.</p><p><code>.gitlab-ci.yml</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1> 1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2> 2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3> 3</a>
</span><span class=lnt id=hl-24-4><a class=lnlinks href=#hl-24-4> 4</a>
</span><span class=lnt id=hl-24-5><a class=lnlinks href=#hl-24-5> 5</a>
</span><span class=lnt id=hl-24-6><a class=lnlinks href=#hl-24-6> 6</a>
</span><span class=lnt id=hl-24-7><a class=lnlinks href=#hl-24-7> 7</a>
</span><span class=lnt id=hl-24-8><a class=lnlinks href=#hl-24-8> 8</a>
</span><span class=lnt id=hl-24-9><a class=lnlinks href=#hl-24-9> 9</a>
</span><span class=lnt id=hl-24-10><a class=lnlinks href=#hl-24-10>10</a>
</span><span class=lnt id=hl-24-11><a class=lnlinks href=#hl-24-11>11</a>
</span><span class=lnt id=hl-24-12><a class=lnlinks href=#hl-24-12>12</a>
</span><span class=lnt id=hl-24-13><a class=lnlinks href=#hl-24-13>13</a>
</span><span class=lnt id=hl-24-14><a class=lnlinks href=#hl-24-14>14</a>
</span><span class=lnt id=hl-24-15><a class=lnlinks href=#hl-24-15>15</a>
</span><span class=lnt id=hl-24-16><a class=lnlinks href=#hl-24-16>16</a>
</span><span class=lnt id=hl-24-17><a class=lnlinks href=#hl-24-17>17</a>
</span><span class=lnt id=hl-24-18><a class=lnlinks href=#hl-24-18>18</a>
</span><span class=lnt id=hl-24-19><a class=lnlinks href=#hl-24-19>19</a>
</span><span class=lnt id=hl-24-20><a class=lnlinks href=#hl-24-20>20</a>
</span><span class=lnt id=hl-24-21><a class=lnlinks href=#hl-24-21>21</a>
</span><span class=lnt id=hl-24-22><a class=lnlinks href=#hl-24-22>22</a>
</span><span class=lnt id=hl-24-23><a class=lnlinks href=#hl-24-23>23</a>
</span><span class=lnt id=hl-24-24><a class=lnlinks href=#hl-24-24>24</a>
</span><span class=lnt id=hl-24-25><a class=lnlinks href=#hl-24-25>25</a>
</span><span class=lnt id=hl-24-26><a class=lnlinks href=#hl-24-26>26</a>
</span><span class=lnt id=hl-24-27><a class=lnlinks href=#hl-24-27>27</a>
</span><span class=lnt id=hl-24-28><a class=lnlinks href=#hl-24-28>28</a>
</span><span class=lnt id=hl-24-29><a class=lnlinks href=#hl-24-29>29</a>
</span><span class=lnt id=hl-24-30><a class=lnlinks href=#hl-24-30>30</a>
</span><span class=lnt id=hl-24-31><a class=lnlinks href=#hl-24-31>31</a>
</span><span class=lnt id=hl-24-32><a class=lnlinks href=#hl-24-32>32</a>
</span><span class=lnt id=hl-24-33><a class=lnlinks href=#hl-24-33>33</a>
</span><span class=lnt id=hl-24-34><a class=lnlinks href=#hl-24-34>34</a>
</span><span class=lnt id=hl-24-35><a class=lnlinks href=#hl-24-35>35</a>
</span><span class=lnt id=hl-24-36><a class=lnlinks href=#hl-24-36>36</a>
</span><span class=lnt id=hl-24-37><a class=lnlinks href=#hl-24-37>37</a>
</span><span class=lnt id=hl-24-38><a class=lnlinks href=#hl-24-38>38</a>
</span><span class=lnt id=hl-24-39><a class=lnlinks href=#hl-24-39>39</a>
</span><span class=lnt id=hl-24-40><a class=lnlinks href=#hl-24-40>40</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>alpine:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>variables</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># 서브모듈 전략 설정 (normal 또는 recursive)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>GIT_SUBMODULE_STRATEGY</span><span class=p>:</span><span class=w> </span><span class=l>recursive</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># HTTPS 강제 사용 (GitLab 서버에 있는 서브모듈에 유용)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>GIT_SUBMODULE_FORCE_HTTPS</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># 서브모듈 클로닝 깊이 제어</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>GIT_SUBMODULE_DEPTH</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>stages</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>build</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>test</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>build</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>stage</span><span class=p>:</span><span class=w> </span><span class=l>build</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>echo &#34;Building with submodules…&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>ls -la</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># 서브모듈 디렉토리 확인</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>ls -la submodule-dir/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># 빌드 명령 실행</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>./build.sh</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>artifacts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>dist/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>test</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>stage</span><span class=p>:</span><span class=w> </span><span class=l>test</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>echo &#34;Running tests…&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>./run-tests.sh</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>deploy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>stage</span><span class=p>:</span><span class=w> </span><span class=l>deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>echo &#34;Deploying application…&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>only</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>main</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>GitLab CI/CD 에서는 <code>GIT_SUBMODULE_STRATEGY</code> 변수를 <code>normal</code> 또는 <code>recursive</code> 로 설정하여 서브모듈을 가져오도록 러너에 지시할 수 있다.</p><h5 id=cicd-파이프라인에서-서브모듈-최적화-전략>CI/CD 파이프라인에서 서브모듈 최적화 전략<a hidden class=anchor aria-hidden=true href=#cicd-파이프라인에서-서브모듈-최적화-전략>#</a></h5><ol><li><p><strong>캐싱 활용</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1>1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2>2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3>3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4>4</a>
</span><span class=lnt id=hl-25-5><a class=lnlinks href=#hl-25-5>5</a>
</span><span class=lnt id=hl-25-6><a class=lnlinks href=#hl-25-6>6</a>
</span><span class=lnt id=hl-25-7><a class=lnlinks href=#hl-25-7>7</a>
</span><span class=lnt id=hl-25-8><a class=lnlinks href=#hl-25-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># GitHub Actions 예시</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Cache submodules</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/cache@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      .git/modules
</span></span></span><span class=line><span class=cl><span class=sd>      path/to/submodule</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class=l>${{ runner.os }}-submodules-${{ hashFiles(&#39;.gitmodules&#39;) }}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li><p><strong>얕은 클론 사용</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1>1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2>2</a>
</span><span class=lnt id=hl-26-3><a class=lnlinks href=#hl-26-3>3</a>
</span><span class=lnt id=hl-26-4><a class=lnlinks href=#hl-26-4>4</a>
</span><span class=lnt id=hl-26-5><a class=lnlinks href=#hl-26-5>5</a>
</span><span class=lnt id=hl-26-6><a class=lnlinks href=#hl-26-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># GitHub Actions 예시</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout with shallow submodules</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;recursive&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li><p><strong>선택적 서브모듈 업데이트</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1>1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2>2</a>
</span><span class=lnt id=hl-27-3><a class=lnlinks href=#hl-27-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># GitLab CI 예시</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>variables</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>GIT_SUBMODULE_PATHS</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;submodule1 submodule2&#34;</span><span class=w>  </span><span class=c># 특정 서브모듈만 동기화</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=private-submodule-인증-전략>Private Submodule 인증 전략<a hidden class=anchor aria-hidden=true href=#private-submodule-인증-전략>#</a></h3><table><thead><tr><th>방식</th><th>설명</th><th>설정 예시</th></tr></thead><tbody><tr><td>SSH 키</td><td>Git 서버에 SSH 공개 키를 등록하고, <code>git@github.com:…</code> 형식 사용</td><td><code>.ssh/config</code> 에 호스트 등록</td></tr><tr><td>Personal Access Token (PAT)</td><td>HTTPS 사용 시 사용자 이름 대신 토큰 사용</td><td><code>https://&lt;TOKEN>@github.com/owner/repo.git</code></td></tr><tr><td>Deploy Key</td><td>특정 저장소만 접근 가능한 공개키 (주로 read-only)</td><td>공개키를 Submodule 저장소에 배포</td></tr></tbody></table><h4 id=ssh-키-기반-접근>SSH 키 기반 접근<a hidden class=anchor aria-hidden=true href=#ssh-키-기반-접근>#</a></h4><ol><li><p><strong>SSH 키 생성</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-28-1><a class=lnlinks href=#hl-28-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh-keygen -t ed25519 -f submodule-key
</span></span></code></pre></td></tr></table></div></div><p>생성된 키는 기본적으로 <code>~/.ssh/id_ed25519</code> 와 <code>~/.ssh/id_ed25519.pub</code> 로 저장된다.</p></li><li><p><strong>공개키 내용을 복사</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-29-1><a class=lnlinks href=#hl-29-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat ~/.ssh/id_ed25519.pub
</span></span></code></pre></td></tr></table></div></div><p>이 값을 복사해서 GitHub 에 등록해야 한다.</p></li><li><p><strong>공개키 (<code>.pub</code> 파일 내용) 등록</strong>:</p><ol><li>GitHub<ul><li>GitHub 접속 후 우측 상단 프로필 > <strong>Settings</strong></li><li>왼쪽 메뉴에서 <strong>SSH and GPG keys</strong> 클릭</li><li><strong>New SSH key</strong> 클릭</li><li>제목 (Title) 입력 후, 위에서 복사한 공개키를 <strong>Key</strong> 입력란에 붙여넣기</li><li><strong>Add SSH key</strong> 클릭</li></ul></li><li>GitLab<ul><li>서브모듈 저장소 Deploy Keys 에 추가</li><li>GitLab: 프로젝트 설정 → 저장소 → Deploy Keys</li></ul></li></ol></li><li><p>Git Submodule 주소를 SSH 형태로 설정</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-30-1><a class=lnlinks href=#hl-30-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git submodule add git@github.com:your-org/private-repo.git path/to/submodule
</span></span></code></pre></td></tr></table></div></div><ul><li><strong>HTTPS 주소로 추가할 경우 인증 문제 발생</strong></li><li><strong>반드시 <code>git@github.com:…</code> 형태의 SSH 주소 사용해야 함</strong></li></ul></li><li><p>CI/CD 환경 설정:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-31-1><a class=lnlinks href=#hl-31-1>1</a>
</span><span class=lnt id=hl-31-2><a class=lnlinks href=#hl-31-2>2</a>
</span><span class=lnt id=hl-31-3><a class=lnlinks href=#hl-31-3>3</a>
</span><span class=lnt id=hl-31-4><a class=lnlinks href=#hl-31-4>4</a>
</span><span class=lnt id=hl-31-5><a class=lnlinks href=#hl-31-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout with submodules</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=l>recursive</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ssh-key</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.SUBMODULE_SSH_KEY }} </span><span class=w> </span><span class=c># 프라이빗 키 등록	    </span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li><p>SSH Agent 에 개인키 등록</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-32-1><a class=lnlinks href=#hl-32-1>1</a>
</span><span class=lnt id=hl-32-2><a class=lnlinks href=#hl-32-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>eval</span> <span class=s2>&#34;</span><span class=k>$(</span>ssh-agent -s<span class=k>)</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>ssh-add ~/.ssh/id_ed25519
</span></span></code></pre></td></tr></table></div></div><p>자동으로 Agent 에 등록해두면 Git 명령어 실행 시 자동 인증된다.<br>또는, <code>~/.ssh/config</code> 파일을 사용해 호스트별 키 지정이 가능하다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-33-1><a class=lnlinks href=#hl-33-1>1</a>
</span><span class=lnt id=hl-33-2><a class=lnlinks href=#hl-33-2>2</a>
</span><span class=lnt id=hl-33-3><a class=lnlinks href=#hl-33-3>3</a>
</span><span class=lnt id=hl-33-4><a class=lnlinks href=#hl-33-4>4</a>
</span><span class=lnt id=hl-33-5><a class=lnlinks href=#hl-33-5>5</a>
</span><span class=lnt id=hl-33-6><a class=lnlinks href=#hl-33-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># ~/.ssh/config</span>
</span></span><span class=line><span class=cl>Host github-submodule
</span></span><span class=line><span class=cl>  HostName github.com
</span></span><span class=line><span class=cl>  User git
</span></span><span class=line><span class=cl>  IdentityFile ~/.ssh/id_rsa_submodule
</span></span><span class=line><span class=cl>  IdentitiesOnly yes
</span></span></code></pre></td></tr></table></div></div></li></ol><p>GitHub Actions, CI/CD 등 자동화 환경에서 사용할 때</p><ul><li><strong>Repository secrets</strong> 또는 <strong>Deploy Key</strong> 등록이 필요하다.</li><li>Repository secrets<ul><li>프라이빗 키 (Private Key) 전체를 GitHub 저장소의 <strong>Settings > Secrets and variables > Actions</strong>에서 시크릿 (Secret) 으로 등록한다.</li><li>워크플로에서 <code>${{ secrets.시크릿이름 }}</code> 형태로 참조해 사용한다.</li><li>보통 여러 저장소를 다루거나, 다양한 환경에서 자동화가 필요한 경우 사용한다.</li></ul></li><li>Deploy Key<ul><li>공개키 (Public Key) 를 GitHub 저장소의 <strong>Settings > Deploy Keys</strong>에 등록한다.</li><li>프라이빗 키 (Private Key) 는 CI/CD 서버 또는 Actions 런너에 저장해 사용한다.</li><li>Deploy Key 는 <strong>저장소 단위</strong>로 접근 권한을 부여하며, 읽기 또는 쓰기 권한을 선택할 수 있다.</li><li>한 Deploy Key 는 하나의 저장소에만 사용할 수 있다 (여러 저장소에 중복 등록 불가).</li></ul></li></ul><h4 id=personal-access-tokenpat-활용>Personal Access Token(PAT) 활용<a hidden class=anchor aria-hidden=true href=#personal-access-tokenpat-활용>#</a></h4><ol><li><p><strong>PAT 생성</strong>:</p><ul><li>GitHub/GitLab 설정에서 적절한 권한을 가진 토큰 생성</li><li>최소 <code>repo</code> 범위 권한 필요 (비공개 저장소 접근용)</li></ul></li><li><p><strong>GitHub Actions 워크플로우 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-34-1><a class=lnlinks href=#hl-34-1> 1</a>
</span><span class=lnt id=hl-34-2><a class=lnlinks href=#hl-34-2> 2</a>
</span><span class=lnt id=hl-34-3><a class=lnlinks href=#hl-34-3> 3</a>
</span><span class=lnt id=hl-34-4><a class=lnlinks href=#hl-34-4> 4</a>
</span><span class=lnt id=hl-34-5><a class=lnlinks href=#hl-34-5> 5</a>
</span><span class=lnt id=hl-34-6><a class=lnlinks href=#hl-34-6> 6</a>
</span><span class=lnt id=hl-34-7><a class=lnlinks href=#hl-34-7> 7</a>
</span><span class=lnt id=hl-34-8><a class=lnlinks href=#hl-34-8> 8</a>
</span><span class=lnt id=hl-34-9><a class=lnlinks href=#hl-34-9> 9</a>
</span><span class=lnt id=hl-34-10><a class=lnlinks href=#hl-34-10>10</a>
</span><span class=lnt id=hl-34-11><a class=lnlinks href=#hl-34-11>11</a>
</span><span class=lnt id=hl-34-12><a class=lnlinks href=#hl-34-12>12</a>
</span><span class=lnt id=hl-34-13><a class=lnlinks href=#hl-34-13>13</a>
</span><span class=lnt id=hl-34-14><a class=lnlinks href=#hl-34-14>14</a>
</span><span class=lnt id=hl-34-15><a class=lnlinks href=#hl-34-15>15</a>
</span><span class=lnt id=hl-34-16><a class=lnlinks href=#hl-34-16>16</a>
</span><span class=lnt id=hl-34-17><a class=lnlinks href=#hl-34-17>17</a>
</span><span class=lnt id=hl-34-18><a class=lnlinks href=#hl-34-18>18</a>
</span><span class=lnt id=hl-34-19><a class=lnlinks href=#hl-34-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>CI with Private Submodules (PAT)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=l>main ]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>build</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout code with submodules</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;recursive&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>token</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.ACCESS_TOKEN }} </span><span class=w> </span><span class=c># PAT를 사용</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build and test</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>        # 빌드 및 테스트 명령</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li><p><strong>서브모듈 URL 구성 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-35-1><a class=lnlinks href=#hl-35-1>1</a>
</span><span class=lnt id=hl-35-2><a class=lnlinks href=#hl-35-2>2</a>
</span><span class=lnt id=hl-35-3><a class=lnlinks href=#hl-35-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[submodule &#34;lib/component&#34;]
</span></span><span class=line><span class=cl>    path = lib/component
</span></span><span class=line><span class=cl>    url = https://github.com/organization/private-repo.git
</span></span></code></pre></td></tr></table></div></div></li></ol><p><strong>주의 사항</strong>:</p><ul><li>PAT 는 <strong>환경 변수</strong>로 관리 (절대 코드 내 노출 금지)</li><li>GitHub Actions 에서는 <code>secrets.GITHUB_TOKEN</code> 자동 인증 지원</li></ul><h4 id=여러-서브모듈에-대한-개별-인증-전략>여러 서브모듈에 대한 개별 인증 전략<a hidden class=anchor aria-hidden=true href=#여러-서브모듈에-대한-개별-인증-전략>#</a></h4><p>각 서브모듈마다 별도의 SSH 키를 사용해야 하는 경우, 다음과 같은 방식으로 접근할 수 있다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-36-1><a class=lnlinks href=#hl-36-1> 1</a>
</span><span class=lnt id=hl-36-2><a class=lnlinks href=#hl-36-2> 2</a>
</span><span class=lnt id=hl-36-3><a class=lnlinks href=#hl-36-3> 3</a>
</span><span class=lnt id=hl-36-4><a class=lnlinks href=#hl-36-4> 4</a>
</span><span class=lnt id=hl-36-5><a class=lnlinks href=#hl-36-5> 5</a>
</span><span class=lnt id=hl-36-6><a class=lnlinks href=#hl-36-6> 6</a>
</span><span class=lnt id=hl-36-7><a class=lnlinks href=#hl-36-7> 7</a>
</span><span class=lnt id=hl-36-8><a class=lnlinks href=#hl-36-8> 8</a>
</span><span class=lnt id=hl-36-9><a class=lnlinks href=#hl-36-9> 9</a>
</span><span class=lnt id=hl-36-10><a class=lnlinks href=#hl-36-10>10</a>
</span><span class=lnt id=hl-36-11><a class=lnlinks href=#hl-36-11>11</a>
</span><span class=lnt id=hl-36-12><a class=lnlinks href=#hl-36-12>12</a>
</span><span class=lnt id=hl-36-13><a class=lnlinks href=#hl-36-13>13</a>
</span><span class=lnt id=hl-36-14><a class=lnlinks href=#hl-36-14>14</a>
</span><span class=lnt id=hl-36-15><a class=lnlinks href=#hl-36-15>15</a>
</span><span class=lnt id=hl-36-16><a class=lnlinks href=#hl-36-16>16</a>
</span><span class=lnt id=hl-36-17><a class=lnlinks href=#hl-36-17>17</a>
</span><span class=lnt id=hl-36-18><a class=lnlinks href=#hl-36-18>18</a>
</span><span class=lnt id=hl-36-19><a class=lnlinks href=#hl-36-19>19</a>
</span><span class=lnt id=hl-36-20><a class=lnlinks href=#hl-36-20>20</a>
</span><span class=lnt id=hl-36-21><a class=lnlinks href=#hl-36-21>21</a>
</span><span class=lnt id=hl-36-22><a class=lnlinks href=#hl-36-22>22</a>
</span><span class=lnt id=hl-36-23><a class=lnlinks href=#hl-36-23>23</a>
</span><span class=lnt id=hl-36-24><a class=lnlinks href=#hl-36-24>24</a>
</span><span class=lnt id=hl-36-25><a class=lnlinks href=#hl-36-25>25</a>
</span><span class=lnt id=hl-36-26><a class=lnlinks href=#hl-36-26>26</a>
</span><span class=lnt id=hl-36-27><a class=lnlinks href=#hl-36-27>27</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout main repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>  </span><span class=c># 서브모듈 체크아웃 안 함</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># 서브모듈 A 체크아웃</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout submodule A</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SSHK</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.SUBMODULE_A_KEY }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      mkdir -p $HOME/.ssh
</span></span></span><span class=line><span class=cl><span class=sd>      echo &#34;$SSHK&#34; &gt; $HOME/.ssh/ssh.key
</span></span></span><span class=line><span class=cl><span class=sd>      chmod 600 $HOME/.ssh/ssh.key
</span></span></span><span class=line><span class=cl><span class=sd>      export GIT_SSH_COMMAND=&#34;ssh -i $HOME/.ssh/ssh.key&#34;
</span></span></span><span class=line><span class=cl><span class=sd>      git submodule update --init -- path/to/submodule_a
</span></span></span><span class=line><span class=cl><span class=sd>      </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># 서브모듈 B 체크아웃</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout submodule B</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SSHK</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.SUBMODULE_B_KEY }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      mkdir -p $HOME/.ssh
</span></span></span><span class=line><span class=cl><span class=sd>      echo &#34;$SSHK&#34; &gt; $HOME/.ssh/ssh.key
</span></span></span><span class=line><span class=cl><span class=sd>      chmod 600 $HOME/.ssh/ssh.key
</span></span></span><span class=line><span class=cl><span class=sd>      export GIT_SSH_COMMAND=&#34;ssh -i $HOME/.ssh/ssh.key&#34;
</span></span></span><span class=line><span class=cl><span class=sd>      git submodule update --init -- path/to/submodule_b</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=최적화하기-위한-고려사항-및-주의할-점>최적화하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#최적화하기-위한-고려사항-및-주의할-점>#</a></h3><p>Git 서브모듈을 사용할 때 성능 최적화를 위한 고려사항은 다음과 같다:</p><ol><li><p><strong>서브모듈 깊이 제한</strong>: 서브모듈 내에 서브모듈이 중첩된 깊은 계층 구조는 초기화 및 업데이트 시간을 크게 늘릴 수 있으므로 가능한 한 얕은 계층 구조를 유지한다.</p></li><li><p><strong>선택적 서브모듈 사용</strong>: 모든 서브모듈을 항상 업데이트하는 대신, 필요한 서브모듈만 초기화하여 시간을 절약한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-37-1><a class=lnlinks href=#hl-37-1>1</a>
</span><span class=lnt id=hl-37-2><a class=lnlinks href=#hl-37-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git submodule init path/to/needed/submodule
</span></span><span class=line><span class=cl>git submodule update path/to/needed/submodule
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>병렬 처리 활용</strong>: 여러 서브모듈을 동시에 업데이트하여 시간을 절약한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-38-1><a class=lnlinks href=#hl-38-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git submodule update --init --recursive --jobs<span class=o>=</span><span class=m>8</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>얕은 클론 고려</strong>: 거대한 이력이 있는 서브모듈의 경우 얕은 클론으로 다운로드 크기와 시간을 줄인다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-39-1><a class=lnlinks href=#hl-39-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git submodule update --init --depth<span class=o>=</span><span class=m>1</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>캐시 활용</strong>: Git 의 캐시 기능을 활용하여 반복적인 작업 속도를 향상시킨다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-40-1><a class=lnlinks href=#hl-40-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git config --global core.preloadindex <span class=nb>true</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>대규모 모노레포 성능 개선</strong>: 인덱스 버전을 4 로 업그레이드하면 경로 이름을 압축하여 인덱스 크기를 30%~50% 줄이고 작업 속도를 향상시킬 수 있다.</p></li><li><p><strong>파일 시스템 모니터링</strong>: 파일 시스템 모니터 (FSMonitor) 는 전체 작업 디렉토리를 검색하지 않고 검색 크기를 줄여 git status 와 같은 명령어의 속도를 높일 수 있다.</p></li><li><p><strong>서브모듈 대신 다른 대안 고려</strong>: 특정 상황에서는 서브모듈 대신 패키지 관리자나 모노레포 도구가 더 나은 성능을 제공할 수 있다.</p></li></ol><h3 id=최신-동향>최신 동향<a hidden class=anchor aria-hidden=true href=#최신-동향>#</a></h3><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>AI 통합</td><td>AutoMerge</td><td>LLM 기반 충돌 자동 해결</td></tr><tr><td>서브모듈 간소화</td><td>향상된 명령어</td><td>Git 2.42.0 이상 버전에서는 서브모듈 작업을 간소화하는 새로운 기능들이 도입되어 작업 복잡성이 줄어들었습니다.</td></tr><tr><td>모노레포 통합</td><td>혼합 접근법</td><td>대규모 프로젝트 관리에서 Git 서브모듈과 모노레포를 함께 사용하는 혼합 접근법이 인기를 얻고 있습니다.</td></tr><tr><td>성능 최적화</td><td>파일 시스템 모니터링</td><td>Git 의 내장 파일 시스템 모니터 도구가 모노레포 및 서브모듈 성능을 크게 향상시킵니다.</td></tr><tr><td>자동화 도구</td><td>CI/CD 통합</td><td>서브모듈 초기화, 업데이트, 동기화를 자동으로 처리하는 CI/CD 파이프라인 플러그인이 표준화되고 있습니다.</td></tr><tr><td>보안 강화</td><td>접근 제어</td><td>서브모듈에 대한 세분화된 접근 제어를 지원하는 도구들이 늘어나고 있습니다.</td></tr></tbody></table><h3 id=주목해야-할-기술>주목해야 할 기술<a hidden class=anchor aria-hidden=true href=#주목해야-할-기술>#</a></h3><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>서브모듈 오케스트레이션</td><td>통합 관리 도구</td><td>여러 서브모듈을 통합적으로 관리하고 동기화하는 고급 도구들이 개발되고 있습니다.</td></tr><tr><td>인텔리전트 업데이트</td><td>선택적 서브모듈 업데이트</td><td>변경된 서브모듈만 지능적으로 감지하고 업데이트하는 도구가 등장하고 있습니다.</td></tr><tr><td>IDE 통합</td><td>시각적 서브모듈 관리</td><td>주요 IDE 들이 Git 서브모듈을 시각적으로 관리할 수 있는 고급 기능을 제공하여 복잡한 명령어 사용 없이도 서브모듈 관리가 가능해지고 있습니다.</td></tr><tr><td>충돌 해결 자동화</td><td>AI 기반 서브모듈 충돌 해결</td><td>머신러닝과 AI 를 활용하여 서브모듈 충돌을 자동으로 감지하고 해결 방안을 제안하는 도구들이 개발되고 있습니다.</td></tr><tr><td>분산 서브모듈</td><td>P2P 서브모듈 동기화</td><td>피어 투 피어 방식으로 서브모듈을 동기화하여 중앙 서버 의존성을 줄이는 기술이 발전하고 있습니다.</td></tr></tbody></table><h3 id=앞으로의-전망>앞으로의 전망<a hidden class=anchor aria-hidden=true href=#앞으로의-전망>#</a></h3><table><thead><tr><th>주제</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>하이브리드 모델</td><td>서브모듈 - 모노레포 통합</td><td>서브모듈과 모노레포의 장점을 결합한 하이브리드 접근 방식이 주류가 될 것으로 예상됩니다.</td></tr><tr><td>자동화 발전</td><td>지능형 서브모듈 관리</td><td>AI 와 자동화 기술을 활용한 더욱 스마트한 서브모듈 관리 도구가 등장할 것입니다.</td></tr><tr><td>Git 확장성 개선</td><td>대규모 서브모듈 성능 향상</td><td>GitHub 의 Project Cyclops 와 같은 프로젝트를 통해 대규모 서브모듈 및 모노레포 성능이 크게 향상될 것입니다.</td></tr><tr><td>분산 개발 최적화</td><td>원격 작업 효율성</td><td>글로벌 분산 팀에서 서브모듈을 효율적으로 사용할 수 있는 도구와 프로세스가 발전할 것입니다.</td></tr><tr><td>클라우드 네이티브 통합</td><td>클라우드 환경 최적화</td><td>클라우드 네이티브 환경에서 서브모듈을 더욱 효율적으로 활용할 수 있는 도구들이 등장할 것입니다.</td></tr></tbody></table><h3 id=추가-학습-하위-주제>추가 학습 하위 주제<a hidden class=anchor aria-hidden=true href=#추가-학습-하위-주제>#</a></h3><table><thead><tr><th>카테고리</th><th>주제</th><th>설명</th></tr></thead><tbody><tr><td>고급 서브모듈 기술</td><td>서브모듈 브랜치 추적</td><td>Git 1.8.2 이상에서 서브모듈이 특정 브랜치를 추적하도록 설정하는 방법</td></tr><tr><td></td><td>서브모듈 내부 작동 원리</td><td>Git 서브모듈의 내부 구현 및 작동 원리에 대한 깊은 이해</td></tr><tr><td></td><td>충돌 해결 전략</td><td>서브모듈 충돌 발생 시 효과적인 해결 전략 및 도구</td></tr><tr><td>통합 및 자동화</td><td>CI/CD 파이프라인 통합</td><td>지속적 통합 및 배포 환경에서 서브모듈을 효율적으로 관리하는 방법</td></tr><tr><td></td><td>자동화 스크립트 개발</td><td>서브모듈 작업을 간소화하는 맞춤형 스크립트 및 도구 개발</td></tr><tr><td></td><td>서브모듈 후크 활용</td><td>Git 훅을 사용하여 서브모듈 작업을 자동화하는 방법</td></tr><tr><td>소프트웨어 아키텍처</td><td>모듈 단위 설계 및 저장소 구조화</td><td>저장소 구조화 전략으로 Submodule 을 활용한 모듈화 방법론 학습</td></tr><tr><td></td><td>마이크로서비스</td><td>마이크로서비스 아키텍처에서 서브모듈 활용</td></tr><tr><td></td><td>모노레포 설계</td><td>대규모 코드베이스의 효과적인 구조화 전략</td></tr><tr><td>실무 패턴</td><td>서브모듈 패턴 및 안티패턴</td><td>실무에서 효과적인 서브모듈 사용 패턴과 피해야 할 안티패턴</td></tr><tr><td></td><td>마이그레이션 전략</td><td>기존 저장소를 서브모듈 구조로 마이그레이션하는 전략</td></tr><tr><td></td><td>대규모 프로젝트 관리</td><td>수십, 수백 개의 서브모듈을 가진 대규모 프로젝트 관리 방법</td></tr><tr><td>대안 및 비교</td><td>서브모듈 vs 모노레포</td><td>서브모듈과 모노레포 접근 방식의 심층 비교 및 적절한 선택 기준</td></tr><tr><td></td><td>서브모듈 vs 패키지 관리자</td><td>서브모듈과 언어별 패키지 관리자 (npm, pip 등) 비교</td></tr><tr><td></td><td>서브트리 vs 서브모듈</td><td>Git 서브트리와 서브모듈의 비교 및 적절한 사용 상황</td></tr><tr><td>인증 및 접근 제어</td><td>Private Submodule 인증 방식</td><td>토큰, SSH, OAuth 등 접근 인증 방식 학습</td></tr><tr><td>보안 (Security)</td><td>인증 키 관리 및 노출 방지</td><td><code>.gitmodules</code> 에 포함된 인증 정보 보안 관리 필요성</td></tr><tr><td>협업 개발</td><td>코드 리뷰</td><td>서브모듈이 포함된 프로젝트의 효과적인 코드 리뷰 전략</td></tr><tr><td></td><td>팀 구성 및 역할</td><td>서브모듈 기반 프로젝트에서의 팀 구성 및 역할 분담</td></tr><tr><td></td><td>문서화</td><td>서브모듈 구조와 워크플로우의 효과적인 문서화 방법</td></tr><tr><td>성능 최적화</td><td>Git 성능 튜닝</td><td>대규모 저장소와 서브모듈의 Git 성능 최적화 기법</td></tr><tr><td></td><td>분산 환경 최적화</td><td>글로벌 분산 팀에서 서브모듈 사용 최적화</td></tr><tr><td></td><td>클라이언트 성능</td><td>Git 클라이언트 도구의 서브모듈 성능 최적화</td></tr></tbody></table><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>용어</th><th>설명</th></tr></thead><tbody><tr><td>Fast-Forward</td><td>병합 없이 브랜치 포인터 이동</td></tr><tr><td>.git/modules</td><td>서브모듈 메타데이터 저장 위치</td></tr><tr><td><code>.gitmodules</code></td><td>Submodule 의 경로 및 URL 정보를 저장하는 구성 파일</td></tr><tr><td>Subtree</td><td>Submodule 의 대안으로, 하위 프로젝트를 통합하여 히스토리 유지가 쉬운 방식</td></tr><tr><td><code>git-subrepo</code></td><td>Submodule 보다 유연하게 외부 저장소를 통합할 수 있는 도구</td></tr><tr><td>부모 저장소 (Parent Repository)</td><td>서브모듈을 포함하는 주 Git 저장소</td></tr><tr><td>서브모듈 (Submodule)</td><td>다른 Git 저장소 내에 포함된 독립적인 Git 저장소</td></tr><tr><td>분리된 HEAD(Detached HEAD)</td><td>브랜치가 아닌 특정 커밋을 직접 가리키는 상태로, 서브모듈은 기본적으로 이 상태로 체크아웃됨</td></tr><tr><td>서브모듈 참조</td><td>부모 저장소가 서브모듈의 특정 커밋을 가리키는 참조</td></tr><tr><td>모노레포 (Monorepo)</td><td>여러 프로젝트가 단일 저장소 내에 함께 있는 구조</td></tr><tr><td>브랜치 추적</td><td>Git 1.8.2 부터 지원되는 서브모듈이 특정 브랜치를 추적하는 기능</td></tr><tr><td>shallow clone</td><td>전체 이력이 아닌 최신 커밋만 가져오는 얕은 클론 방식</td></tr><tr><td>재귀적 업데이트</td><td>&ndash;recursive 플래그를 사용하여 중첩된 서브모듈까지 모두 업데이트하는 방식</td></tr><tr><td>Deploy Key</td><td>특정 저장소 전용으로 등록한 SSH 공개 키 (보통 read-only)</td></tr><tr><td>PAT (Personal Access Token)</td><td>GitHub 등의 API 인증을 위한 토큰, HTTPS 로 인증할 때 사용</td></tr><tr><td><code>submodules: recursive</code></td><td>GitHub Actions 에서 모든 하위 서브모듈까지 자동 clone 하는 옵션</td></tr><tr><td>Subtree</td><td>Git 저장소 통합 방식 중 하나로, 외부 저장소 내용을 직접 포함하여 사용</td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><ul><li><a href=https://git-scm.com/book/en/v2/Git-Tools-Submodules>Git 공식 문서</a></li><li><a href=https://www.atlassian.com/ko/git/tutorials/git-submodule>Atlassian 서브모듈 가이드</a></li><li><a href=https://docs.github.com/actions>GitHub Actions 서브모듈 설정</a></li><li><a href=https://git-scm.com/book/en/v2/Git-Tools-Submodules>Git 공식 Submodule 문서</a></li><li><a href=https://docs.github.com/en/get-started/working-with-submodules>GitHub Docs: About submodules</a></li><li><a href=https://www.atlassian.com/git/tutorials/git-submodule>Atlassian Git Submodule 개요</a></li><li><a href=https://www.atlassian.com/git/articles/core-concept-workflows-and-tips>Atlassian Git 튜토리얼: 서브모듈 핵심 개념</a></li><li><a href=https://git-scm.com/docs/git-submodule>Git 서브모듈 명령어 문서</a></li><li><a href=https://www.augmentedmind.de/2020/06/07/git-submodule-tutorial/>서브모듈 튜토리얼: 기초부터 마스터까지</a></li><li><a href=https://github.blog/open-source/git/working-with-submodules/>GitHub 블로그: 서브모듈 작업하기</a></li><li><a href=https://www.freecodecamp.org/news/how-to-use-git-submodules/>Git 서브모듈 사용 방법 – 예제와 함께 설명</a></li><li><a href=https://dev.to/davidarmendariz/git-submodules-vs-monorepos-14h8>Git 서브모듈 vs 모노레포 비교</a></li><li><a href=https://github.blog/2021-03-16-improving-large-monorepo-performance-on-github/>대규모 모노레포 성능 개선</a></li><li><a href=https://github.blog/engineering/infrastructure/improve-git-monorepo-performance-with-a-file-system-monitor/>Git 파일 시스템 모니터를 통한 모노레포 성능 개선</a></li><li><a href=https://www.anthonygonzales.dev/blog/how-to-improve-git-monorepo-performance.html>Git 모노레포 성능 개선 방법</a></li><li><a href=https://www.teamcoherence.com/git-submodules-monorepos-managing-large/>Git 서브모듈과 모노레포: 대규모 프로젝트 관리</a></li><li><a href=https://www.aviator.co/blog/managing-repositories-with-git-submodules/>Git 서브모듈로 저장소 관리하기</a></li></ul><hr></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/devops-and-infrastructure/>DevOps-and-Infrastructure</a></li><li><a href=https://buenhyden.github.io/tags/version-control-systems/>Version-Control-Systems</a></li><li><a href=https://buenhyden.github.io/tags/git-workflow/>Git-Workflow</a></li><li><a href=https://buenhyden.github.io/tags/submodule/>Submodule</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/devops-and-infrastructure/version-control-systems/vcs-theory/snapshot-vs-delta/><span class=title>« Prev</span><br><span>Snapshot vs. Delta</span>
</a><a class=next href=https://buenhyden.github.io/posts/quality-assurance/sdlc/3-design/><span class=title>Next »</span><br><span>3. 설계 (Design)</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>