<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Feature Flags | hyunyoun's Blog</title><meta name=keywords content="DevOps-and-Infrastructure,CI-CD,Deployment-Strategies,A/B-Testing,Feature-Flags,feature-toggles"><meta name=description content="Feature flags는 조건문을 사용하여 코드의 특정 부분을 동적으로 제어하는 소프트웨어 개발 기법"><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/devops-and-infrastructure/ci-cd/deployment-strategies/feature-flags/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/devops-and-infrastructure/ci-cd/deployment-strategies/feature-flags/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/devops-and-infrastructure/ci-cd/deployment-strategies/feature-flags/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Feature Flags"><meta property="og:description" content="Feature flags는 조건문을 사용하여 코드의 특정 부분을 동적으로 제어하는 소프트웨어 개발 기법"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-09-23T12:36:00+00:00"><meta property="article:modified_time" content="2024-09-23T12:36:00+00:00"><meta property="article:tag" content="DevOps-and-Infrastructure"><meta property="article:tag" content="CI-CD"><meta property="article:tag" content="Deployment-Strategies"><meta property="article:tag" content="A/B-Testing"><meta property="article:tag" content="Feature-Flags"><meta property="article:tag" content="Feature-Toggles"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Feature Flags"><meta name=twitter:description content="Feature flags는 조건문을 사용하여 코드의 특정 부분을 동적으로 제어하는 소프트웨어 개발 기법"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Computer Science and Engineering","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"DevOps and Infrastructure","item":"https://buenhyden.github.io/posts/devops-and-infrastructure/"},{"@type":"ListItem","position":3,"name":"CI/CD","item":"https://buenhyden.github.io/posts/devops-and-infrastructure/ci-cd/"},{"@type":"ListItem","position":4,"name":"Deployment Strategies","item":"https://buenhyden.github.io/posts/devops-and-infrastructure/ci-cd/deployment-strategies/"},{"@type":"ListItem","position":5,"name":"Feature Flags","item":"https://buenhyden.github.io/posts/devops-and-infrastructure/ci-cd/deployment-strategies/feature-flags/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Feature Flags","name":"Feature Flags","description":"Feature flags는 조건문을 사용하여 코드의 특정 부분을 동적으로 제어하는 소프트웨어 개발 기법","keywords":["DevOps-and-Infrastructure","CI-CD","Deployment-Strategies","A/B-Testing","Feature-Flags","feature-toggles"],"articleBody":"Feature Flags Feature flags(또는 feature toggles)는 소프트웨어 개발에서 중요한 배포 전략 중 하나이다.\n이 기술을 통해 개발자는 코드 변경 없이 런타임에 특정 기능을 활성화하거나 비활성화할 수 있다.\nFeature flags는 조건문을 사용하여 코드의 특정 부분을 동적으로 제어하는 소프트웨어 개발 기법이다.\n이를 통해 배포와 릴리스를 분리하고, 위험을 최소화하며 유연한 기능 관리가 가능해진다.\nFeature flags는 현대적인 소프트웨어 개발에서 중요한 도구이다. 이를 효과적으로 사용하면 더 안전하고 유연한 배포 프로세스를 구축할 수 있다. 하지만 적절한 관리와 주의가 필요하며, 팀의 요구사항과 프로젝트의 특성에 맞게 사용해야 한다.\nFeature flags와 feature toggles는 종종 같은 의미로 사용되지만, 일부 전문가들은 약간의 차이를 두고 있다:\u003e\n기능의 범위:\nFeature toggles: 주로 단순한 on/off 기능에 초점을 맞춘다. Feature flags: 더 복잡한 기능 관리와 다양한 상태를 포함할 수 있다. 복잡성:\nFeature toggles: 비교적 단순하고 이해하기 쉽다. Feature flags: 더 복잡하고 고급 사용 사례를 지원할 수 있다. 제어 세분성:\nFeature toggles: 주로 이진(on/off) 상태를 가진다. Feature flags: 다중 상태, 백분율 롤아웃, 사용자 타겟팅 등 더 세밀한 제어가 가능하다. 수명 주기:\nFeature toggles: 일반적으로 일시적으로 사용된다. Feature flags: 장기적인 사용이 가능하며, 기능의 전체 수명 주기를 관리할 수 있다. 사용 사례:\nFeature toggles: 기본적인 기능 숨김, 간단한 롤아웃에 사용된다. Feature flags: A/B 테스팅, 카나리 릴리스, 실험 등 더 다양한 사용 사례를 지원한다. 그러나 많은 경우에 이 두 용어는 상호 교환적으로 사용되며, 실제 구현에서는 큰 차이가 없을 수 있다. 중요한 것은 이러한 기술을 사용하여 코드 변경 없이 런타임에 기능을 제어하고 관리할 수 있다는 점이다.\n주요 특징 런타임 제어: 코드 재배포 없이 기능을 켜고 끌 수 있다. 점진적 롤아웃: 특정 사용자 그룹에 새 기능을 점진적으로 공개할 수 있다. A/B 테스팅: 다양한 버전의 기능을 동시에 테스트할 수 있다. 리스크 관리: 문제 발생 시 빠르게 기능을 비활성화할 수 있다. 롤아웃 전략 다크 론치(Dark Launch): 기능을 코드에 포함하되, 초기에는 비활성화 상태로 배포합니다. 이후 필요에 따라 특정 사용자 그룹에게만 기능을 활성화하여 테스트한다. 퍼센트 롤아웃(Percentage Rollout): 기능을 일정 비율의 사용자에게만 활성화하고, 점진적으로 그 비율을 늘려가며 모니터링한다. A/B 테스트: 두 가지 이상의 기능 버전을 서로 다른 사용자 그룹에게 제공하여, 어떤 버전이 더 나은지 비교한다. 피처 플래그 유형 릴리스 토글: 새 기능의 배포 제어 실험 토글: A/B 테스트용 운영 토글: 시스템 부하 제어 권한 토글: 사용자별 기능 제어 구현 방법 조건문 사용: 코드에 if/else 문을 추가하여 기능을 제어한다. 설정 관리: 외부 설정 파일이나 데이터베이스를 통해 플래그 상태를 관리한다. 사용자 타겟팅: 특정 사용자 그룹에 대해 기능을 활성화/비활성화한다. 사용 사례 점진적 기능 출시: 새로운 기능을 일부 사용자에게만 공개하여 피드백을 수집한다. 카나리 릴리스: 소수의 사용자를 대상으로 새 버전을 테스트한다. 성능 최적화: 부하가 높을 때 특정 기능을 비활성화하여 성능을 개선한다. 실험 및 A/B 테스팅: 다양한 기능 변형을 테스트하여 최적의 버전을 선택한다. 장점 배포 위험 감소: 문제 발생 시 빠르게 롤백할 수 있다. 개발 속도 향상: 완성되지 않은 기능을 안전하게 프로덕션에 배포할 수 있다. 유연한 기능 관리: 특정 사용자 그룹이나 지역에 맞춤형 기능을 제공할 수 있다. 주의사항 코드 복잡성 증가: 과도한 플래그 사용은 코드를 복잡하게 만들 수 있다. 기술 부채: 사용하지 않는 플래그를 제거하지 않으면 기술 부채가 쌓일 수 있다. 테스트 복잡성: 다양한 플래그 조합에 대한 테스트가 필요하다. 구현 예시 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 // 더 복잡한 피처 플래그 시스템 class FeatureToggleService { constructor(config) { this.toggles = new Map(); this.initialize(config); } initialize(config) { // 설정 로드 및 초기화 config.forEach(toggle =\u003e { this.toggles.set(toggle.name, { enabled: toggle.enabled, rules: toggle.rules || [], rolloutPercentage: toggle.rolloutPercentage || 100 }); }); } isEnabled(featureName, context = {}) { const toggle = this.toggles.get(featureName); if (!toggle) return false; // 기본 활성화 상태 확인 if (!toggle.enabled) return false; // 규칙 평가 return this.evaluateRules(toggle.rules, context) \u0026\u0026 this.isInRolloutPercentage(context.userId, toggle.rolloutPercentage); } evaluateRules(rules, context) { return rules.every(rule =\u003e rule.evaluate(context)); } isInRolloutPercentage(userId, percentage) { const hash = this.hashString(userId); return (hash % 100) \u003c percentage; } } 참고 및 출처 ","wordCount":"618","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-09-23T12:36:00Z","dateModified":"2024-09-23T12:36:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/devops-and-infrastructure/ci-cd/deployment-strategies/feature-flags/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>Computer Science and Engineering</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/devops-and-infrastructure/>DevOps and Infrastructure</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/devops-and-infrastructure/ci-cd/>CI/CD</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/devops-and-infrastructure/ci-cd/deployment-strategies/>Deployment Strategies</a></div><h1 class="post-title entry-hint-parent">Feature Flags</h1><div class=post-description>Feature flags는 조건문을 사용하여 코드의 특정 부분을 동적으로 제어하는 소프트웨어 개발 기법</div><div class=post-meta><span title='2024-09-23 12:36:00 +0000 UTC'>September 23, 2024</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/DevOps%20and%20Infrastructure/CI-CD/Deployment%20Strategies/feature-Flags.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#feature-flags>Feature Flags</a><ul><li><a href=#주요-특징>주요 특징</a></li><li><a href=#피처-플래그-유형>피처 플래그 유형</a></li><li><a href=#구현-방법>구현 방법</a></li><li><a href=#사용-사례>사용 사례</a></li><li><a href=#장점>장점</a></li><li><a href=#주의사항>주의사항</a></li><li><a href=#구현-예시>구현 예시</a></li></ul></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=feature-flags>Feature Flags<a hidden class=anchor aria-hidden=true href=#feature-flags>#</a></h2><p>Feature flags(또는 feature toggles)는 소프트웨어 개발에서 중요한 배포 전략 중 하나이다.<br>이 기술을 통해 개발자는 코드 변경 없이 런타임에 특정 기능을 활성화하거나 비활성화할 수 있다.</p><p>Feature flags는 조건문을 사용하여 코드의 특정 부분을 동적으로 제어하는 소프트웨어 개발 기법이다.<br>이를 통해 배포와 릴리스를 분리하고, 위험을 최소화하며 유연한 기능 관리가 가능해진다.</p><p>Feature flags는 현대적인 소프트웨어 개발에서 중요한 도구이다. 이를 효과적으로 사용하면 더 안전하고 유연한 배포 프로세스를 구축할 수 있다. 하지만 적절한 관리와 주의가 필요하며, 팀의 요구사항과 프로젝트의 특성에 맞게 사용해야 한다.</p><blockquote><p>Feature flags와 feature toggles는 종종 같은 의미로 사용되지만, 일부 전문가들은 약간의 차이를 두고 있다:></p><ol><li><p>기능의 범위:</p><ul><li>Feature toggles: 주로 단순한 on/off 기능에 초점을 맞춘다.</li><li>Feature flags: 더 복잡한 기능 관리와 다양한 상태를 포함할 수 있다.</li></ul></li><li><p>복잡성:</p><ul><li>Feature toggles: 비교적 단순하고 이해하기 쉽다.</li><li>Feature flags: 더 복잡하고 고급 사용 사례를 지원할 수 있다.</li></ul></li><li><p>제어 세분성:</p><ul><li>Feature toggles: 주로 이진(on/off) 상태를 가진다.</li><li>Feature flags: 다중 상태, 백분율 롤아웃, 사용자 타겟팅 등 더 세밀한 제어가 가능하다.</li></ul></li><li><p>수명 주기:</p><ul><li>Feature toggles: 일반적으로 일시적으로 사용된다.</li><li>Feature flags: 장기적인 사용이 가능하며, 기능의 전체 수명 주기를 관리할 수 있다.</li></ul></li><li><p>사용 사례:</p><ul><li>Feature toggles: 기본적인 기능 숨김, 간단한 롤아웃에 사용된다.</li><li>Feature flags: A/B 테스팅, 카나리 릴리스, 실험 등 더 다양한 사용 사례를 지원한다.</li></ul></li></ol><p>그러나 많은 경우에 이 두 용어는 상호 교환적으로 사용되며, 실제 구현에서는 큰 차이가 없을 수 있다. 중요한 것은 이러한 기술을 사용하여 코드 변경 없이 런타임에 기능을 제어하고 관리할 수 있다는 점이다.</p></blockquote><h3 id=주요-특징>주요 특징<a hidden class=anchor aria-hidden=true href=#주요-특징>#</a></h3><ol><li>런타임 제어: 코드 재배포 없이 기능을 켜고 끌 수 있다.</li><li>점진적 롤아웃: 특정 사용자 그룹에 새 기능을 점진적으로 공개할 수 있다.</li><li>A/B 테스팅: 다양한 버전의 기능을 동시에 테스트할 수 있다.</li><li>리스크 관리: 문제 발생 시 빠르게 기능을 비활성화할 수 있다.</li></ol><h4 id=롤아웃-전략>롤아웃 전략<a hidden class=anchor aria-hidden=true href=#롤아웃-전략>#</a></h4><ol><li><strong>다크 론치(Dark Launch):</strong> 기능을 코드에 포함하되, 초기에는 비활성화 상태로 배포합니다. 이후 필요에 따라 특정 사용자 그룹에게만 기능을 활성화하여 테스트한다.</li><li><strong>퍼센트 롤아웃(Percentage Rollout):</strong> 기능을 일정 비율의 사용자에게만 활성화하고, 점진적으로 그 비율을 늘려가며 모니터링한다.</li><li><strong>A/B 테스트:</strong> 두 가지 이상의 기능 버전을 서로 다른 사용자 그룹에게 제공하여, 어떤 버전이 더 나은지 비교한다.</li></ol><h3 id=피처-플래그-유형>피처 플래그 유형<a hidden class=anchor aria-hidden=true href=#피처-플래그-유형>#</a></h3><ul><li>릴리스 토글: 새 기능의 배포 제어</li><li>실험 토글: A/B 테스트용</li><li>운영 토글: 시스템 부하 제어</li><li>권한 토글: 사용자별 기능 제어</li></ul><h3 id=구현-방법>구현 방법<a hidden class=anchor aria-hidden=true href=#구현-방법>#</a></h3><ol><li>조건문 사용: 코드에 if/else 문을 추가하여 기능을 제어한다.</li><li>설정 관리: 외부 설정 파일이나 데이터베이스를 통해 플래그 상태를 관리한다.</li><li>사용자 타겟팅: 특정 사용자 그룹에 대해 기능을 활성화/비활성화한다.</li></ol><h3 id=사용-사례>사용 사례<a hidden class=anchor aria-hidden=true href=#사용-사례>#</a></h3><ol><li>점진적 기능 출시: 새로운 기능을 일부 사용자에게만 공개하여 피드백을 수집한다.</li><li>카나리 릴리스: 소수의 사용자를 대상으로 새 버전을 테스트한다.</li><li>성능 최적화: 부하가 높을 때 특정 기능을 비활성화하여 성능을 개선한다.</li><li>실험 및 A/B 테스팅: 다양한 기능 변형을 테스트하여 최적의 버전을 선택한다.</li></ol><h3 id=장점>장점<a hidden class=anchor aria-hidden=true href=#장점>#</a></h3><ol><li>배포 위험 감소: 문제 발생 시 빠르게 롤백할 수 있다.</li><li>개발 속도 향상: 완성되지 않은 기능을 안전하게 프로덕션에 배포할 수 있다.</li><li>유연한 기능 관리: 특정 사용자 그룹이나 지역에 맞춤형 기능을 제공할 수 있다.</li></ol><h3 id=주의사항>주의사항<a hidden class=anchor aria-hidden=true href=#주의사항>#</a></h3><ol><li>코드 복잡성 증가: 과도한 플래그 사용은 코드를 복잡하게 만들 수 있다.</li><li>기술 부채: 사용하지 않는 플래그를 제거하지 않으면 기술 부채가 쌓일 수 있다.</li><li>테스트 복잡성: 다양한 플래그 조합에 대한 테스트가 필요하다.</li></ol><h3 id=구현-예시>구현 예시<a hidden class=anchor aria-hidden=true href=#구현-예시>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14>14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15>15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16>16</a>
</span><span class=lnt id=hl-0-17><a class=lnlinks href=#hl-0-17>17</a>
</span><span class=lnt id=hl-0-18><a class=lnlinks href=#hl-0-18>18</a>
</span><span class=lnt id=hl-0-19><a class=lnlinks href=#hl-0-19>19</a>
</span><span class=lnt id=hl-0-20><a class=lnlinks href=#hl-0-20>20</a>
</span><span class=lnt id=hl-0-21><a class=lnlinks href=#hl-0-21>21</a>
</span><span class=lnt id=hl-0-22><a class=lnlinks href=#hl-0-22>22</a>
</span><span class=lnt id=hl-0-23><a class=lnlinks href=#hl-0-23>23</a>
</span><span class=lnt id=hl-0-24><a class=lnlinks href=#hl-0-24>24</a>
</span><span class=lnt id=hl-0-25><a class=lnlinks href=#hl-0-25>25</a>
</span><span class=lnt id=hl-0-26><a class=lnlinks href=#hl-0-26>26</a>
</span><span class=lnt id=hl-0-27><a class=lnlinks href=#hl-0-27>27</a>
</span><span class=lnt id=hl-0-28><a class=lnlinks href=#hl-0-28>28</a>
</span><span class=lnt id=hl-0-29><a class=lnlinks href=#hl-0-29>29</a>
</span><span class=lnt id=hl-0-30><a class=lnlinks href=#hl-0-30>30</a>
</span><span class=lnt id=hl-0-31><a class=lnlinks href=#hl-0-31>31</a>
</span><span class=lnt id=hl-0-32><a class=lnlinks href=#hl-0-32>32</a>
</span><span class=lnt id=hl-0-33><a class=lnlinks href=#hl-0-33>33</a>
</span><span class=lnt id=hl-0-34><a class=lnlinks href=#hl-0-34>34</a>
</span><span class=lnt id=hl-0-35><a class=lnlinks href=#hl-0-35>35</a>
</span><span class=lnt id=hl-0-36><a class=lnlinks href=#hl-0-36>36</a>
</span><span class=lnt id=hl-0-37><a class=lnlinks href=#hl-0-37>37</a>
</span><span class=lnt id=hl-0-38><a class=lnlinks href=#hl-0-38>38</a>
</span><span class=lnt id=hl-0-39><a class=lnlinks href=#hl-0-39>39</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 더 복잡한 피처 플래그 시스템
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>FeatureToggleService</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>(</span><span class=nx>config</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>toggles</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Map</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>initialize</span><span class=p>(</span><span class=nx>config</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>initialize</span><span class=p>(</span><span class=nx>config</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 설정 로드 및 초기화
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>config</span><span class=p>.</span><span class=nx>forEach</span><span class=p>(</span><span class=nx>toggle</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=nx>toggles</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=nx>toggle</span><span class=p>.</span><span class=nx>name</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>enabled</span><span class=o>:</span> <span class=nx>toggle</span><span class=p>.</span><span class=nx>enabled</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>rules</span><span class=o>:</span> <span class=nx>toggle</span><span class=p>.</span><span class=nx>rules</span> <span class=o>||</span> <span class=p>[],</span>
</span></span><span class=line><span class=cl>                <span class=nx>rolloutPercentage</span><span class=o>:</span> <span class=nx>toggle</span><span class=p>.</span><span class=nx>rolloutPercentage</span> <span class=o>||</span> <span class=mi>100</span>
</span></span><span class=line><span class=cl>            <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>isEnabled</span><span class=p>(</span><span class=nx>featureName</span><span class=p>,</span> <span class=nx>context</span> <span class=o>=</span> <span class=p>{})</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>toggle</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>toggles</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>featureName</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>toggle</span><span class=p>)</span> <span class=k>return</span> <span class=kc>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// 기본 활성화 상태 확인
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>toggle</span><span class=p>.</span><span class=nx>enabled</span><span class=p>)</span> <span class=k>return</span> <span class=kc>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// 규칙 평가
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>evaluateRules</span><span class=p>(</span><span class=nx>toggle</span><span class=p>.</span><span class=nx>rules</span><span class=p>,</span> <span class=nx>context</span><span class=p>)</span> <span class=o>&amp;&amp;</span> 
</span></span><span class=line><span class=cl>               <span class=k>this</span><span class=p>.</span><span class=nx>isInRolloutPercentage</span><span class=p>(</span><span class=nx>context</span><span class=p>.</span><span class=nx>userId</span><span class=p>,</span> <span class=nx>toggle</span><span class=p>.</span><span class=nx>rolloutPercentage</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>evaluateRules</span><span class=p>(</span><span class=nx>rules</span><span class=p>,</span> <span class=nx>context</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>rules</span><span class=p>.</span><span class=nx>every</span><span class=p>(</span><span class=nx>rule</span> <span class=p>=&gt;</span> <span class=nx>rule</span><span class=p>.</span><span class=nx>evaluate</span><span class=p>(</span><span class=nx>context</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>isInRolloutPercentage</span><span class=p>(</span><span class=nx>userId</span><span class=p>,</span> <span class=nx>percentage</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>hash</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>hashString</span><span class=p>(</span><span class=nx>userId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>(</span><span class=nx>hash</span> <span class=o>%</span> <span class=mi>100</span><span class=p>)</span> <span class=o>&lt;</span> <span class=nx>percentage</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/devops-and-infrastructure/>DevOps-and-Infrastructure</a></li><li><a href=https://buenhyden.github.io/tags/ci-cd/>CI-CD</a></li><li><a href=https://buenhyden.github.io/tags/deployment-strategies/>Deployment-Strategies</a></li><li><a href=https://buenhyden.github.io/tags/a/b-testing/>A/B-Testing</a></li><li><a href=https://buenhyden.github.io/tags/feature-flags/>Feature-Flags</a></li><li><a href=https://buenhyden.github.io/tags/feature-toggles/>Feature-Toggles</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/devops-and-infrastructure/ci-cd/deployment-strategies/shadow-deployment/><span class=title>« Prev</span><br><span>Shadow Deployment</span>
</a><a class=next href=https://buenhyden.github.io/posts/software-engineering/programming-paradigms/object-oriented-programming/access-modifiers/><span class=title>Next »</span><br><span>Access Modifiers</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>