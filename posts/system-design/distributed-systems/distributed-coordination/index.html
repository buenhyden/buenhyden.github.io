<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Distributed Coordination | hyunyoun's Blog</title><meta name=keywords content="Software-Engineering,System-Design,Distributed-Systems,Distributed-Coordination"><meta name=description content="Distributed Coordination ì€ ë‹¤ì¤‘ ë…¸ë“œ í™˜ê²½ì—ì„œ **í•©ì˜ (consensus)**, **ë¦¬ë” ì„ ì¶œ (leader election)**, **ë½ (locking)**, **ìƒíƒœ ë™ê¸°í™” (state synchronization)** ë“±ì„ í†µí•´ **ì¼ê´€ì„±ê³¼ ì•ˆì •ì„±**ì„ ë³´ì¥í•˜ëŠ” í•„ìˆ˜ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ, PaxosÂ·RaftÂ·2PC ê°™ì€ í”„ë¡œí† ì½œì„ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì„±ëœë‹¤."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/system-design/distributed-systems/distributed-coordination/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/system-design/distributed-systems/distributed-coordination/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/system-design/distributed-systems/distributed-coordination/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/system-design/distributed-systems/distributed-coordination/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Distributed Coordination"><meta property="og:description" content="Distributed Coordination ì€ ë‹¤ì¤‘ ë…¸ë“œ í™˜ê²½ì—ì„œ **í•©ì˜ (consensus)**, **ë¦¬ë” ì„ ì¶œ (leader election)**, **ë½ (locking)**, **ìƒíƒœ ë™ê¸°í™” (state synchronization)** ë“±ì„ í†µí•´ **ì¼ê´€ì„±ê³¼ ì•ˆì •ì„±**ì„ ë³´ì¥í•˜ëŠ” í•„ìˆ˜ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ, PaxosÂ·RaftÂ·2PC ê°™ì€ í”„ë¡œí† ì½œì„ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì„±ëœë‹¤."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Distributed Coordination"><meta name=twitter:description content="Distributed Coordination ì€ ë‹¤ì¤‘ ë…¸ë“œ í™˜ê²½ì—ì„œ **í•©ì˜ (consensus)**, **ë¦¬ë” ì„ ì¶œ (leader election)**, **ë½ (locking)**, **ìƒíƒœ ë™ê¸°í™” (state synchronization)** ë“±ì„ í†µí•´ **ì¼ê´€ì„±ê³¼ ì•ˆì •ì„±**ì„ ë³´ì¥í•˜ëŠ” í•„ìˆ˜ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ, PaxosÂ·RaftÂ·2PC ê°™ì€ í”„ë¡œí† ì½œì„ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì„±ëœë‹¤."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"ê¸°ë¡í•˜ê³  ê¸°ì–µí•˜ê³  í™œìš©í•˜ì.","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"System Design","item":"https://buenhyden.github.io/posts/system-design/"},{"@type":"ListItem","position":3,"name":"ë¶„ì‚° ì‹œìŠ¤í…œ(Distributed Systems)","item":"https://buenhyden.github.io/posts/system-design/distributed-systems/"},{"@type":"ListItem","position":4,"name":"Distributed Coordination","item":"https://buenhyden.github.io/posts/system-design/distributed-systems/distributed-coordination/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;Â»&nbsp;<a href=https://buenhyden.github.io/posts/>ê¸°ë¡í•˜ê³  ê¸°ì–µí•˜ê³  í™œìš©í•˜ì.</a>&nbsp;Â»&nbsp;<a href=https://buenhyden.github.io/posts/system-design/>System Design</a>&nbsp;Â»&nbsp;<a href=https://buenhyden.github.io/posts/system-design/distributed-systems/>ë¶„ì‚° ì‹œìŠ¤í…œ(Distributed Systems)</a></div><h1>Distributed Coordination</h1><div class=post-description>Distributed Coordination ì€ ë‹¤ì¤‘ ë…¸ë“œ í™˜ê²½ì—ì„œ <strong>í•©ì˜ (consensus)</strong>, <strong>ë¦¬ë” ì„ ì¶œ (leader election)</strong>, <strong>ë½ (locking)</strong>, <strong>ìƒíƒœ ë™ê¸°í™” (state synchronization)</strong> ë“±ì„ í†µí•´ <strong>ì¼ê´€ì„±ê³¼ ì•ˆì •ì„±</strong>ì„ ë³´ì¥í•˜ëŠ” í•„ìˆ˜ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ, PaxosÂ·RaftÂ·2PC ê°™ì€ í”„ë¡œí† ì½œì„ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì„±ëœë‹¤.</div></header><div class=post-content><h2 id=distributed-coordination>Distributed Coordination<a hidden class=anchor aria-hidden=true href=#distributed-coordination>#</a></h2><h3 id=4-ì „ì²´-ê°œìš”-250-ì-ë‚´ì™¸>4. ì „ì²´ ê°œìš” (250 ì ë‚´ì™¸)<a hidden class=anchor aria-hidden=true href=#4-ì „ì²´-ê°œìš”-250-ì-ë‚´ì™¸>#</a></h3><p>ë¶„ì‚° ì¡°ì • (Distributed Coordination) ì€ <strong>ë¶„ì‚° ì‹œìŠ¤í…œì˜ í•µì‹¬ êµ¬ì¡°</strong>ë¡œ, ë…¸ë“œ ê°„ í˜‘ì—…ì„ ìœ„í•´ <strong>í•©ì˜</strong>, <strong>ë¦¬ë” ì„ ì¶œ</strong>, <strong>ë½</strong>, <strong>ì´ë²¤íŠ¸ í†µì§€</strong> ë“±ì„ ê´€ë¦¬í•œë‹¤. ZooKeeper ë˜ëŠ” etcd ì™€ ê°™ì€ ë¶„ì‚° ì¡°ì • ì„œë¹„ìŠ¤ëŠ” íŠ¸ë¦¬ ê¸°ë°˜ì˜ ë°ì´í„° ëª¨ë¸, ê°ì‹œ (watches), ìˆœì°¨ Znode, ì¿¼ëŸ¼ì„ í†µí•´ ì¼ê´€ì ì´ê³  ë‚´ê²°í•¨ì„± ìˆëŠ” ìš´ì˜ì„ ì§€ì›í•œë‹¤. PaxosÂ·RaftÂ·2PC ë° gossip ë°©ì‹ ë“± ë‹¤ì–‘í•œ ì•Œê³ ë¦¬ì¦˜ì´ ì‚¬ìš©ë˜ë©°, ì‹œìŠ¤í…œ ì„¤ê³„ ì‹œ CAP ì •ë¦¬, ì¥ì•  ëŒ€ì‘, ì„±ëŠ¥ ìµœì í™”ê°€ ì£¼ìš” ê³ ë ¤ ìš”ì†Œë‹¤.</p><h2 id=-ì‘ì—…-5-í•µì‹¬-ê°œë…>âœ… ì‘ì—… 5: í•µì‹¬ ê°œë…<a hidden class=anchor aria-hidden=true href=#-ì‘ì—…-5-í•µì‹¬-ê°œë…>#</a></h2><ul><li><strong>Consensus (í•©ì˜)</strong>: Paxos, Raft ê¸°ë°˜ìœ¼ë¡œ ë‹¤ìˆ˜ ë…¸ë“œê°€ í•˜ë‚˜ì˜ ìƒíƒœì— ë™ì˜</li><li><strong>Leader Election (ë¦¬ë” ì„ ì¶œ)</strong>: ì¿¼ëŸ¼ ê¸°ë°˜ í”„ë¡œí† ì½œë¡œ ì—­í•  ìœ„ì„</li><li><strong>Distributed Lock (ë¶„ì‚° ë½)</strong>: ìƒí˜¸ ë°°ì œ ë° ë™ì‹œ ìˆ˜ì • ë°©ì§€</li><li><strong>Configuration Management</strong>: ZooKeeper, etcd ì˜ íŠ¸ë¦¬ ê¸°ë°˜ í‚¤ - ê°’ ë°ì´í„°</li><li><strong>Event Notification (ê°ì‹œ/watches)</strong>: ìƒíƒœ ë³€ê²½ ì•Œë¦¼ ì„œë¹„ìŠ¤</li><li><strong>Quorum (ì¿¼ëŸ¼)</strong>: ë‹¤ìˆ˜ ë…¸ë“œ í—ˆìš©ì„ ìœ„í•œ í•©ì˜ ê¸°ì¤€</li><li><strong>Atomic Transactions (2PC, 3PC)</strong>: ë¶„ì‚° í™˜ê²½ì—ì„œ ì›ìì„± ë³´ì¥</li><li><strong>CAP Theorem</strong>: ì¼ê´€ì„±Â·ê°€ìš©ì„±Â·ë¶„í•  ë‚´ì„±ì„ ì´í•´í•˜ê³  ì„¤ê³„ ì‹œ ê· í˜• í•„ìš”</li></ul><h3 id=51-ì‹¤ë¬´-ì—°ê´€ì„±>5.1 ì‹¤ë¬´ ì—°ê´€ì„±<a hidden class=anchor aria-hidden=true href=#51-ì‹¤ë¬´-ì—°ê´€ì„±>#</a></h3><ul><li><strong>Paxos/Raft</strong>: ë¦¬ë” ì„ ì¶œ, ìƒíƒœ ë³µì œ êµ¬í˜„</li><li><strong>ZooKeeper/etcd</strong>: ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬, ì„¤ì • ì €ì¥ì†Œ êµ¬í˜„</li><li><strong>2PC/3PC</strong>: ë¶„ì‚° íŠ¸ëœì­ì…˜ ì²˜ë¦¬</li><li><strong>Gossip Protocol</strong>: ìºì‹œ ë¬´ê²°ì„±, ìƒíƒœ ë³µì œ í™•ì‚°</li><li><strong>CAP ì„¤ê³„ ì „ëµ</strong>: ë¶„í• Â·ê°€ìš©Â·ì¼ê´€ì„± ê°„ ê· í˜•</li></ul><h3 id=5-í•µì‹¬-ê°œë…>5. í•µì‹¬ ê°œë…<a hidden class=anchor aria-hidden=true href=#5-í•µì‹¬-ê°œë…>#</a></h3><ul><li><strong>ë¶„ì‚° ì½”ë””ë„¤ì´ì…˜ (Distributed Coordination)</strong>: ì—¬ëŸ¬ ë…¸ë“œê°€ ë„¤íŠ¸ì›Œí¬ í™˜ê²½ì—ì„œ ê³µë™ì˜ ìƒíƒœë‚˜ ë¦¬ì†ŒìŠ¤ë¥¼ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•˜ê³ , ì¼ê´€ì„± ìˆê²Œ ë™ì‘í•˜ë„ë¡ ì¡°ìœ¨í•˜ëŠ” ê¸°ìˆ .</li><li><strong>í•©ì˜ (Consensus)</strong>: ì—¬ëŸ¬ ë…¸ë“œê°€ ë™ì¼í•œ ê²°ì •ì„ ë‚´ë¦¬ë„ë¡ ë³´ì¥í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜. ì˜ˆ: Paxos, Raft, Zab(ZooKeeper Atomic Broadcast).</li><li><strong>ë¶„ì‚° ë½ (Distributed Lock)</strong>: ì—¬ëŸ¬ ë…¸ë“œê°€ ë™ì¼ ë¦¬ì†ŒìŠ¤ì— ë™ì‹œ ì ‘ê·¼í•˜ì§€ ì•Šë„ë¡ ì œì–´í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜.</li><li><strong>ë¦¬ë” ì„ ì¶œ (Leader Election)</strong>: ì‹œìŠ¤í…œ ë‚´ì—ì„œ ëŒ€í‘œ ë…¸ë“œë¥¼ ì„ ì •í•˜ì—¬ ì‘ì—…ì„ ìœ„ì„í•˜ê±°ë‚˜ ì¡°ìœ¨í•˜ë„ë¡ í•˜ëŠ” ê³¼ì •.</li><li><strong>ì¥ì•  ê°ì§€ (Failure Detection)</strong>: ë…¸ë“œì˜ ì¥ì• ë¥¼ ì‹ ì†í•˜ê²Œ ê°ì§€í•˜ì—¬ ì‹œìŠ¤í…œì˜ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ëŠ” ê¸°ëŠ¥.</li></ul><h4 id=51-ì‹¤ë¬´-êµ¬í˜„-ì—°ê´€ì„±>5.1 ì‹¤ë¬´ êµ¬í˜„ ì—°ê´€ì„±<a hidden class=anchor aria-hidden=true href=#51-ì‹¤ë¬´-êµ¬í˜„-ì—°ê´€ì„±>#</a></h4><ul><li><strong>API/ì„œë¹„ìŠ¤ ë™ê¸°í™”</strong>: ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í™˜ê²½ì—ì„œ ì„œë¹„ìŠ¤ ë“±ë¡/í•´ì œ, êµ¬ì„± ë³€ê²½ ì‹œ ì¼ê´€ì„± ë³´ì¥.</li><li><strong>ë¶„ì‚° ë½ í™œìš©</strong>: í¬ë¡ ì¡, ìì› í• ë‹¹ ë“±ì—ì„œ ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€.</li><li><strong>ì¥ì•  ë³µêµ¬</strong>: ë…¸ë“œ ì¥ì•  ì‹œ ìë™ìœ¼ë¡œ ë¦¬ë”ë¥¼ ì¬ì„ ì¶œí•˜ì—¬ ë¬´ì¤‘ë‹¨ ì„œë¹„ìŠ¤ ì œê³µ.</li><li><strong>ë°ì´í„° ì¼ê´€ì„±</strong>: ë¶„ì‚° DB, ìºì‹œ ë“±ì—ì„œ ë°ì´í„° ë™ê¸°í™” ë° ì¼ê´€ì„± ìœ ì§€.</li></ul><h3 id=5-í•µì‹¬-ê°œë…-1>5. í•µì‹¬ ê°œë…<a hidden class=anchor aria-hidden=true href=#5-í•µì‹¬-ê°œë…-1>#</a></h3><h4 id=51-ê¸°ë³¸-ê°œë…ë“¤>5.1 ê¸°ë³¸ ê°œë…ë“¤<a hidden class=anchor aria-hidden=true href=#51-ê¸°ë³¸-ê°œë…ë“¤>#</a></h4><p><strong>ë¶„ì‚° í•©ì˜ (Distributed Consensus)</strong></p><ul><li>ì—¬ëŸ¬ ë…¸ë“œê°€ ê³µí†µëœ ê°’ì´ë‚˜ ê²°ì •ì— ë„ë‹¬í•˜ëŠ” ê³¼ì •</li><li>ì•ˆì „ì„± (Safety) ê³¼ í™œì„± (Liveness) ë³´ì¥ í•„ìš”</li><li>Byzantine Fault Tolerance (BFT) ì™€ Crash Fault Tolerance (CFT) êµ¬ë¶„</li></ul><p><strong>ë…¼ë¦¬ì  ì‹œê³„ (Logical Clocks)</strong></p><ul><li>ë¬¼ë¦¬ì  ì‹œê³„ ë™ê¸°í™” ì—†ì´ ì´ë²¤íŠ¸ ìˆœì„œ ê²°ì •</li><li>ë¨í¬íŠ¸ íƒ€ì„ìŠ¤íƒ¬í”„ì™€ ë²¡í„° í´ëŸ­ìœ¼ë¡œ êµ¬í˜„</li><li>ì¸ê³¼ê´€ê³„ (Causality) ì¶”ì  ê°€ëŠ¥</li></ul><p><strong>ë¦¬ë” ì„ ì¶œ (Leader Election)</strong></p><ul><li>ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ ë‹¨ì¼ ì¡°ì •ì ì„ íƒ</li><li>Bully Algorithm, Ring Algorithm ë“± ë‹¤ì–‘í•œ ê¸°ë²•</li><li>ì¥ì•  íƒì§€ì™€ ì¬ì„ ì¶œ ë©”ì»¤ë‹ˆì¦˜ í¬í•¨</li></ul><p><strong>ìƒí˜¸ ë°°ì œ (Mutual Exclusion)</strong></p><ul><li>ê³µìœ  ìì›ì— ëŒ€í•œ ë…ì ì  ì ‘ê·¼ ë³´ì¥</li><li>í† í° ê¸°ë°˜ê³¼ ê¶Œí•œ ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜</li><li>ë°ë“œë½ê³¼ ê¸°ì•„ ìƒíƒœ ë°©ì§€ í•„ìš”</li></ul><h4 id=52-ì‹¤ë¬´-êµ¬í˜„-ì—°ê´€ì„±>5.2 ì‹¤ë¬´ êµ¬í˜„ ì—°ê´€ì„±<a hidden class=anchor aria-hidden=true href=#52-ì‹¤ë¬´-êµ¬í˜„-ì—°ê´€ì„±>#</a></h4><p><strong>í•©ì˜ ë©”ì»¤ë‹ˆì¦˜ì˜ ì‹¤ë¬´ êµ¬í˜„</strong></p><ul><li>ë¶„ì‚° ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ íŠ¸ëœì­ì…˜ ì¼ê´€ì„± ë³´ì¥</li><li>ë¸”ë¡ì²´ì¸ ë„¤íŠ¸ì›Œí¬ì˜ ë¸”ë¡ ìƒì„±ê³¼ ê²€ì¦</li><li>ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê°„ ìƒíƒœ ë™ê¸°í™”</li></ul><p><strong>ì‹œê³„ ë™ê¸°í™”ì˜ ì‹¤ë¬´ ì ìš©</strong></p><ul><li>ë¶„ì‚° ë¡œê¹… ì‹œìŠ¤í…œì˜ ì´ë²¤íŠ¸ ìˆœì„œ ê²°ì •</li><li>ë¶„ì‚° íŠ¸ëœì­ì…˜ì˜ íƒ€ì„ìŠ¤íƒ¬í”„ ê¸°ë°˜ ì¶©ëŒ í•´ê²°</li><li>ì‹¤ì‹œê°„ í˜‘ì—… ë„êµ¬ì˜ ë™ì‹œ í¸ì§‘ ì²˜ë¦¬</li></ul><p><strong>ë¦¬ë” ì„ ì¶œì˜ ì‹¤ë¬´ í™œìš©</strong></p><ul><li>Apache Kafka ì˜ íŒŒí‹°ì…˜ ë¦¬ë” ê´€ë¦¬</li><li>Kubernetes ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ë¦¬ë” ì„ ì¶œ</li><li>ë¶„ì‚° ìºì‹œ ì‹œìŠ¤í…œì˜ ë§ˆìŠ¤í„° ë…¸ë“œ ê²°ì •</li></ul><h3 id=6-ì‹¬ì¸µ-ì¡°ì‚¬-ë°-ë¶„ì„>6. ì‹¬ì¸µ ì¡°ì‚¬ ë° ë¶„ì„<a hidden class=anchor aria-hidden=true href=#6-ì‹¬ì¸µ-ì¡°ì‚¬-ë°-ë¶„ì„>#</a></h3><h4 id=61-ë°°ê²½>6.1 ë°°ê²½<a hidden class=anchor aria-hidden=true href=#61-ë°°ê²½>#</a></h4><ul><li>ë¶„ì‚° ì‹œìŠ¤í…œì€ ë„¤íŠ¸ì›Œí¬ ì§€ì—°, ë…¸ë“œ ì¥ì• , ë©”ì‹œì§€ ì†ì‹¤ ë“± ë‹¤ì–‘í•œ ë¬¸ì œì— ì§ë©´í•¨.</li><li>ë‹¨ì¼ ì¥ì• ì  (SPOF, Single Point of Failure) ì œê±° ë° í™•ì¥ì„± í™•ë³´ë¥¼ ìœ„í•´ ë¶„ì‚° ì½”ë””ë„¤ì´ì…˜ì´ í•„ìš”.</li></ul><h4 id=62-ëª©ì -ë°-í•„ìš”ì„±>6.2 ëª©ì  ë° í•„ìš”ì„±<a hidden class=anchor aria-hidden=true href=#62-ëª©ì -ë°-í•„ìš”ì„±>#</a></h4><ul><li>ì‹œìŠ¤í…œ ì‹ ë¢°ì„±, ì¼ê´€ì„±, ê°€ìš©ì„± í™•ë³´.</li><li>ë…¸ë“œ ê°„ í˜‘ë ¥ ë° ìƒíƒœ ê³µìœ ì˜ ì•ˆì „ì„± ë³´ì¥.</li><li>ì¥ì•  ë°œìƒ ì‹œ ë¹ ë¥¸ ë³µêµ¬ ë° ì„œë¹„ìŠ¤ ì§€ì†ì„± ì§€ì›.</li></ul><h4 id=61-ë°°ê²½-ë°-í•„ìš”ì„±>6.1 ë°°ê²½ ë° í•„ìš”ì„±<a hidden class=anchor aria-hidden=true href=#61-ë°°ê²½-ë°-í•„ìš”ì„±>#</a></h4><p>ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œëŠ” ë…¸ë“œ ê°„ì˜ ë¬¼ë¦¬ì  ë¶„ë¦¬, ë„¤íŠ¸ì›Œí¬ ì§€ì—°, ë¶€ë¶„ì  ì¥ì•  ë“±ìœ¼ë¡œ ì¸í•´ ì „í†µì ì¸ ì¤‘ì•™ ì§‘ì¤‘ì‹ ì¡°ì • ë°©ì‹ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì€ ê·¼ë³¸ì  ë¬¸ì œë“¤ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ë¶„ì‚° ì¡°ì •ì´ í•„ìš”í•©ë‹ˆë‹¤:</p><ul><li><strong>CAP ì •ë¦¬ (CAP Theorem)</strong>: ì¼ê´€ì„± (Consistency), ê°€ìš©ì„± (Availability), ë¶„í•  ë‚´ì„± (Partition Tolerance) ì¤‘ ìµœëŒ€ 2 ê°œë§Œ ë™ì‹œì— ë³´ì¥ ê°€ëŠ¥</li><li><strong>FLP ë¶ˆê°€ëŠ¥ì„± (FLP Impossibility)</strong>: ë¹„ë™ê¸° í™˜ê²½ì—ì„œ ë‹¨ì¼ ë…¸ë“œ ì¥ì•  ì‹œì—ë„ í•©ì˜ ë¶ˆê°€ëŠ¥</li><li><strong>ë¹„ì”í‹´ ì¥êµ° ë¬¸ì œ</strong>: ì•…ì˜ì  ë…¸ë“œ ì¡´ì¬ ì‹œ í•©ì˜ì˜ ì–´ë ¤ì›€</li></ul><h4 id=62-ì£¼ìš”-ê¸°ëŠ¥-ë°-ì—­í• >6.2 ì£¼ìš” ê¸°ëŠ¥ ë° ì—­í• <a hidden class=anchor aria-hidden=true href=#62-ì£¼ìš”-ê¸°ëŠ¥-ë°-ì—­í• >#</a></h4><p><strong>ì¡°ì • ê¸°ëŠ¥</strong></p><ul><li>ë…¸ë“œ ê°„ ì¼ê´€ëœ ìƒíƒœ ìœ ì§€</li><li>ì¶©ëŒí•˜ëŠ” ì—°ì‚°ì˜ ìˆœì„œ ê²°ì •</li><li>ì¥ì•  ë…¸ë“œ íƒì§€ ë° ë³µêµ¬</li></ul><p><strong>ë™ê¸°í™” ì—­í• </strong></p><ul><li>ë¶„ì‚° íŠ¸ëœì­ì…˜ ê´€ë¦¬</li><li>ê³µìœ  ìì› ì ‘ê·¼ ì œì–´</li><li>ì´ë²¤íŠ¸ ìˆœì„œ ë³´ì¥</li></ul><h4 id=63-ì£¼ìš”-ê¸°ëŠ¥-ë°-ì—­í• >6.3 ì£¼ìš” ê¸°ëŠ¥ ë° ì—­í• <a hidden class=anchor aria-hidden=true href=#63-ì£¼ìš”-ê¸°ëŠ¥-ë°-ì—­í• >#</a></h4><ul><li>ë¶„ì‚° ë½, ë¦¬ë” ì„ ì¶œ, ì¥ì•  ê°ì§€, ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬, ì„¤ì • ê´€ë¦¬, ë¶„ì‚° í ë“±.</li></ul><h4 id=64-íŠ¹ì§•>6.4 íŠ¹ì§•<a hidden class=anchor aria-hidden=true href=#64-íŠ¹ì§•>#</a></h4><ul><li>ë†’ì€ ì‹ ë¢°ì„±, ë‚´ê²°í•¨ì„± (Fault Tolerance), í™•ì¥ì„±, ê°•í•œ ì¼ê´€ì„± (Strong Consistency) ì œê³µ.</li></ul><h4 id=63-íŠ¹ì§•>6.3 íŠ¹ì§•<a hidden class=anchor aria-hidden=true href=#63-íŠ¹ì§•>#</a></h4><p><strong>ë¶„ì‚°ì„± (Distribution)</strong></p><ul><li>ì¤‘ì•™ ì¡°ì •ì ì—†ì´ ë™ì‘</li><li>ë…¸ë“œ ê°„ P2P í†µì‹  ê¸°ë°˜</li><li>í™•ì¥ì„±ê³¼ ì¥ì•  ë‚´ì„± ì œê³µ</li></ul><p><strong>ë¹„ë™ê¸°ì„± (Asynchrony)</strong></p><ul><li>ë©”ì‹œì§€ ì „ë‹¬ ì‹œê°„ ë³´ì¥ ì—†ìŒ</li><li>ë…¸ë“œ ê°„ ì‹œê³„ ë™ê¸°í™” ë¶ˆí•„ìš”</li><li>ë„¤íŠ¸ì›Œí¬ ì§€ì—° í—ˆìš©</li></ul><p><strong>ì¥ì•  ë‚´ì„± (Fault Tolerance)</strong></p><ul><li>ì¼ë¶€ ë…¸ë“œ ì¥ì•  ì‹œì—ë„ ë™ì‘ ì§€ì†</li><li>ë„¤íŠ¸ì›Œí¬ ë¶„í•  ìƒí™© ì²˜ë¦¬</li><li>ì•…ì˜ì  ë…¸ë“œ ëŒ€ì‘ ê°€ëŠ¥</li></ul><h4 id=64-í•µì‹¬-ì›ì¹™>6.4 í•µì‹¬ ì›ì¹™<a hidden class=anchor aria-hidden=true href=#64-í•µì‹¬-ì›ì¹™>#</a></h4><p><strong>ì•ˆì „ì„± ì›ì¹™ (Safety)</strong></p><ul><li>ì˜ëª»ëœ ê²°ê³¼ ì ˆëŒ€ ìƒì„± ê¸ˆì§€</li><li>ì¼ê´€ì„± ì†ì„± í•­ìƒ ìœ ì§€</li><li>ë¬´ê²°ì„± ë³´ì¥</li></ul><p><strong>í™œì„± ì›ì¹™ (Liveness)</strong></p><ul><li>ì§„í–‰ ìƒí™© ë³´ì¥</li><li>ìµœì¢…ì  í•©ì˜ ë„ë‹¬</li><li>êµì°© ìƒíƒœ ë°©ì§€</li></ul><p><strong>ê³µì •ì„± ì›ì¹™ (Fairness)</strong></p><ul><li>ëª¨ë“  ë…¸ë“œì— ê· ë“±í•œ ê¸°íšŒ ì œê³µ</li><li>ê¸°ì•„ ìƒíƒœ ë°©ì§€</li><li>ìš°ì„ ìˆœìœ„ ê³µì • ë¶„ë°°</li></ul><h4 id=65-í•µì‹¬-ì›ì¹™>6.5 í•µì‹¬ ì›ì¹™<a hidden class=anchor aria-hidden=true href=#65-í•µì‹¬-ì›ì¹™>#</a></h4><ul><li>CAP ì´ë¡  (Consistency, Availability, Partition tolerance) ì—ì„œ ì¼ê´€ì„± ë° íŒŒí‹°ì…˜ í—ˆìš©ì„±ì„ ì¤‘ì‹œ.</li><li>í•©ì˜ ì•Œê³ ë¦¬ì¦˜ ê¸°ë°˜ì˜ ìƒíƒœ ë™ê¸°í™”.</li></ul><h4 id=66-ì£¼ìš”-ì›ë¦¬>6.6 ì£¼ìš” ì›ë¦¬<a hidden class=anchor aria-hidden=true href=#66-ì£¼ìš”-ì›ë¦¬>#</a></h4><ul><li>Paxos, Raft, Zab ë“± ë¶„ì‚° í•©ì˜ ì•Œê³ ë¦¬ì¦˜ í™œìš©.</li><li>ë…¸ë“œ ê°„ ìƒíƒœ ë³µì œ ë° ë¡œê·¸ ë™ê¸°í™”.</li></ul><h4 id=67-ì‘ë™-ì›ë¦¬-ë°-ë°©ì‹>6.7 ì‘ë™ ì›ë¦¬ ë° ë°©ì‹<a hidden class=anchor aria-hidden=true href=#67-ì‘ë™-ì›ë¦¬-ë°-ë°©ì‹>#</a></h4><pre class=mermaid>sequenceDiagram
    participant NodeA
    participant NodeB
    participant NodeC
    NodeA-&gt;&gt;NodeB: Lock ìš”ì²­
    NodeB-&gt;&gt;NodeC: Lock ìƒíƒœ í™•ì¸
    NodeC--&gt;&gt;NodeB: ìƒíƒœ ë°˜í™˜
    NodeB--&gt;&gt;NodeA: Lock í—ˆìš©/ê±°ë¶€ ì‘ë‹µ
</pre><ul><li>ê° ë…¸ë“œëŠ” ìƒíƒœë¥¼ ê³µìœ í•˜ë©°, í•©ì˜ ì•Œê³ ë¦¬ì¦˜ì„ í†µí•´ ê²°ì •ëœ ë¦¬ë”ê°€ ì½”ë””ë„¤ì´ì…˜ ì—­í• ì„ ìˆ˜í–‰.</li></ul><h4 id=65-ì£¼ìš”-ì›ë¦¬ì™€-ì‘ë™-ë°©ì‹>6.5 ì£¼ìš” ì›ë¦¬ì™€ ì‘ë™ ë°©ì‹<a hidden class=anchor aria-hidden=true href=#65-ì£¼ìš”-ì›ë¦¬ì™€-ì‘ë™-ë°©ì‹>#</a></h4><h5 id=í•©ì˜-ì•Œê³ ë¦¬ì¦˜-ì›ë¦¬>í•©ì˜ ì•Œê³ ë¦¬ì¦˜ ì›ë¦¬<a hidden class=anchor aria-hidden=true href=#í•©ì˜-ì•Œê³ ë¦¬ì¦˜-ì›ë¦¬>#</a></h5><pre class=mermaid>sequenceDiagram
    participant P1 as Proposer
    participant A1 as Acceptor 1
    participant A2 as Acceptor 2
    participant A3 as Acceptor 3
    participant L as Learner

    Note over P1,L: Paxos í•©ì˜ í”„ë¡œí† ì½œ
    
    P1-&gt;&gt;A1: Prepare(n)
    P1-&gt;&gt;A2: Prepare(n)
    P1-&gt;&gt;A3: Prepare(n)
    
    A1-&gt;&gt;P1: Promise(n, v1)
    A2-&gt;&gt;P1: Promise(n, v2)
    A3-&gt;&gt;P1: Promise(n, null)
    
    P1-&gt;&gt;A1: Accept(n, v)
    P1-&gt;&gt;A2: Accept(n, v)
    P1-&gt;&gt;A3: Accept(n, v)
    
    A1-&gt;&gt;L: Accepted(n, v)
    A2-&gt;&gt;L: Accepted(n, v)
    A3-&gt;&gt;L: Accepted(n, v)
    
    Note over L: í•©ì˜ ì™„ë£Œ
</pre><h5 id=ë…¼ë¦¬ì -ì‹œê³„-ë™ì‘-ì›ë¦¬>ë…¼ë¦¬ì  ì‹œê³„ ë™ì‘ ì›ë¦¬<a hidden class=anchor aria-hidden=true href=#ë…¼ë¦¬ì -ì‹œê³„-ë™ì‘-ì›ë¦¬>#</a></h5><pre class=mermaid>graph TD
    A[Process A&lt;br/&gt;Clock: 1] --&gt;|Event| B[Process A&lt;br/&gt;Clock: 2]
    B --&gt;|Send Msg&lt;br/&gt;T=3| D[Process B&lt;br/&gt;Clock: max(1,3)+1=4]
    C[Process B&lt;br/&gt;Clock: 1] --&gt; D
    D --&gt;|Event| E[Process B&lt;br/&gt;Clock: 5]
    
    F[Process C&lt;br/&gt;Clock: 1] --&gt;|Event| G[Process C&lt;br/&gt;Clock: 2]
    G --&gt;|Send Msg&lt;br/&gt;T=3| H[Process A&lt;br/&gt;Clock: max(2,3)+1=4]
    B --&gt; H
</pre><h2 id=2-ì£¼ìš”-ì›ë¦¬-ë°-ì‘ë™-ë°©ì‹>2. ì£¼ìš” ì›ë¦¬ ë° ì‘ë™ ë°©ì‹<a hidden class=anchor aria-hidden=true href=#2-ì£¼ìš”-ì›ë¦¬-ë°-ì‘ë™-ë°©ì‹>#</a></h2><h3 id=ì›ë¦¬-ìš”ì•½>ì›ë¦¬ ìš”ì•½<a hidden class=anchor aria-hidden=true href=#ì›ë¦¬-ìš”ì•½>#</a></h3><ol><li><strong>Leader Election</strong>: ZAB ë‚˜ Paxos/Raft ìŠ¤íƒ€ì¼ë¡œ ì¿¼ëŸ¼ ê¸°ë°˜ leader ì„ ì¶œ</li><li><strong>Atomic Broadcast</strong>: write ìš”ì²­ ì‹œ leaderâ†’followers ì— ì „íŒŒ, ë‹¤ìˆ˜ ì‘ë‹µ í›„ commit</li><li><strong>Log Ordering</strong>: zxid(ê¸€ë¡œë²Œ íŠ¸ëœì­ì…˜ ID) ë¡œ ëª¨ë“  ë³€ê²½ ìˆœì„œ ë³´ì¥ (<a href="https://medium.com/%40vinciabhinav7/apache-zookeeper-but-why-part-1-distributed-coordination-overview-65c7cebb6c79?utm_source=chatgpt.com" title="Apache ZooKeeper: But Why??â€”Part 1: Distributed Coordination â€¦">nofluffjuststuff.com</a>)</li><li><strong>Watch Mechanism</strong>: ìƒíƒœ ë³€ê²½ ì‹œ ì´ë²¤íŠ¸ ì•Œë¦¼ â†’ client ê°€ ì¬ë“±ë¡ í•„ìš” (<a href="https://restate.dev/blog/every-system-is-a-log-avoiding-coordination-in-distributed-applications/?utm_source=chatgpt.com" title="Every System is a Log: Avoiding coordination in distributed â€¦ - Restate">tutorialspoint.com</a>)</li><li><strong>Quorum ê¸°ë°˜</strong>: read ì—” ê°€ìš©ì„±, write ì—” consistency ë³´ì¥ â†’ CAP ì •ë¦¬ì— ë”°ë¥¸ ì„¤ê³„ ê· í˜• (<a href="https://en.wikipedia.org/wiki/Distributed_coordination_function?utm_source=chatgpt.com" title="Distributed coordination function">en.wikipedia.org</a>)</li></ol><h3 id=ì‘ë™-íë¦„>ì‘ë™ íë¦„<a hidden class=anchor aria-hidden=true href=#ì‘ë™-íë¦„>#</a></h3><pre class=mermaid>sequenceDiagram
  Client-&gt;&gt;ZooKeeper: write /app/config, register watch
  ZooKeeper Leader-&gt;&gt;Followers: AppendEntry(zxid, data)
  Followers--&gt;&gt;Leader: ACK
  alt ì¿¼ëŸ¼ ì‘ë‹µ ë„ë‹¬
    Leader-&gt;&gt;Client: Commit OK
    Leader-&gt;&gt;Followers: Commit broadcast
  end
  Note right of Client: Client receives watch events on changes
</pre><h4 id=68-êµ¬ì¡°-ë°-ì•„í‚¤í…ì²˜>6.8 êµ¬ì¡° ë° ì•„í‚¤í…ì²˜<a hidden class=anchor aria-hidden=true href=#68-êµ¬ì¡°-ë°-ì•„í‚¤í…ì²˜>#</a></h4><h5 id=ì•„í‚¤í…ì²˜-ë‹¤ì´ì–´ê·¸ë¨>ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨<a hidden class=anchor aria-hidden=true href=#ì•„í‚¤í…ì²˜-ë‹¤ì´ì–´ê·¸ë¨>#</a></h5><pre class=mermaid>graph TD
    Client1 -- Request --&gt; Coordination-Service
    Client2 -- Request --&gt; Coordination-Service
    Coordination-Service -- Sync --&gt; Node1
    Coordination-Service -- Sync --&gt; Node2
    Coordination-Service -- Sync --&gt; Node3
    Node1 -- Heartbeat --&gt; Coordination-Service
    Node2 -- Heartbeat --&gt; Coordination-Service
    Node3 -- Heartbeat --&gt; Coordination-Service
</pre><h5 id=êµ¬ì„±-ìš”ì†Œ-ë°-ì—­í• >êµ¬ì„± ìš”ì†Œ ë° ì—­í• <a hidden class=anchor aria-hidden=true href=#êµ¬ì„±-ìš”ì†Œ-ë°-ì—­í• >#</a></h5><table><thead><tr><th>êµ¬ì„± ìš”ì†Œ</th><th>ê¸°ëŠ¥/ì—­í• </th></tr></thead><tbody><tr><td>í´ë¼ì´ì–¸íŠ¸ (Client)</td><td>ì½”ë””ë„¤ì´ì…˜ ì„œë¹„ìŠ¤ì— ìš”ì²­ (ë½, ë¦¬ë” ì„ ì¶œ ë“±) ì„ ë³´ëƒ„</td></tr><tr><td>ì½”ë””ë„¤ì´ì…˜ ì„œë¹„ìŠ¤ (Coordination Service)</td><td>í•©ì˜ ì•Œê³ ë¦¬ì¦˜ ì‹¤í–‰, ìƒíƒœ ë™ê¸°í™”, ì¥ì•  ê°ì§€</td></tr><tr><td>ë…¸ë“œ (Node)</td><td>ë¶„ì‚° ì‹œìŠ¤í…œì˜ ê° êµ¬ì„±ì›, ìƒíƒœ ë³µì œ ë° Heartbeat ì „ì†¡</td></tr></tbody></table><h5 id=í•„ìˆ˜ì„ íƒ-êµ¬ì„±-ìš”ì†Œ>í•„ìˆ˜/ì„ íƒ êµ¬ì„± ìš”ì†Œ<a hidden class=anchor aria-hidden=true href=#í•„ìˆ˜ì„ íƒ-êµ¬ì„±-ìš”ì†Œ>#</a></h5><table><thead><tr><th>êµ¬ë¶„</th><th>êµ¬ì„± ìš”ì†Œ</th><th>ê¸°ëŠ¥</th><th>íŠ¹ì§•</th></tr></thead><tbody><tr><td>í•„ìˆ˜</td><td>í•©ì˜ ì•Œê³ ë¦¬ì¦˜</td><td>ìƒíƒœ ì¼ê´€ì„± ë³´ì¥</td><td>Paxos, Raft ë“±</td></tr><tr><td>í•„ìˆ˜</td><td>ë…¸ë“œ ìƒíƒœ ë³µì œ</td><td>ë°ì´í„° ë™ê¸°í™”</td><td>ë¡œê·¸ ë³µì œ</td></tr><tr><td>ì„ íƒ</td><td>Watch/Notification</td><td>ìƒíƒœ ë³€í™” ê°ì§€</td><td>ì´ë²¤íŠ¸ ê¸°ë°˜</td></tr><tr><td>ì„ íƒ</td><td>Access Control</td><td>ê¶Œí•œ ê´€ë¦¬</td><td>ACL, ì¸ì¦</td></tr></tbody></table><h4 id=66-êµ¬ì¡°-ë°-ì•„í‚¤í…ì²˜>6.6 êµ¬ì¡° ë° ì•„í‚¤í…ì²˜<a hidden class=anchor aria-hidden=true href=#66-êµ¬ì¡°-ë°-ì•„í‚¤í…ì²˜>#</a></h4><h5 id=í•„ìˆ˜-êµ¬ì„±ìš”ì†Œ>í•„ìˆ˜ êµ¬ì„±ìš”ì†Œ<a hidden class=anchor aria-hidden=true href=#í•„ìˆ˜-êµ¬ì„±ìš”ì†Œ>#</a></h5><table><thead><tr><th>êµ¬ì„±ìš”ì†Œ</th><th>ê¸°ëŠ¥</th><th>ì—­í• </th></tr></thead><tbody><tr><td><strong>í•©ì˜ ì—”ì§„ (Consensus Engine)</strong></td><td>ë¶„ì‚° í•©ì˜ ìˆ˜í–‰</td><td>ë…¸ë“œ ê°„ ì¼ì¹˜ëœ ê²°ì • ë„ì¶œ</td></tr><tr><td><strong>ì¥ì•  íƒì§€ê¸° (Failure Detector)</strong></td><td>ë…¸ë“œ ìƒíƒœ ëª¨ë‹ˆí„°ë§</td><td>ì¥ì•  ë…¸ë“œ ì‹ë³„ ë° ì•Œë¦¼</td></tr><tr><td><strong>ë©”ì‹œì§€ ì „ë‹¬ ê³„ì¸µ (Message Passing Layer)</strong></td><td>ë…¸ë“œ ê°„ í†µì‹ </td><td>ì‹ ë¢°ì„± ìˆëŠ” ë©”ì‹œì§€ ì „ì†¡</td></tr><tr><td><strong>ë…¼ë¦¬ì  ì‹œê³„ (Logical Clock)</strong></td><td>ì´ë²¤íŠ¸ ìˆœì„œ ê´€ë¦¬</td><td>ì¸ê³¼ê´€ê³„ ì¶”ì  ë° ìˆœì„œ ê²°ì •</td></tr></tbody></table><h5 id=ì„ íƒ-êµ¬ì„±ìš”ì†Œ>ì„ íƒ êµ¬ì„±ìš”ì†Œ<a hidden class=anchor aria-hidden=true href=#ì„ íƒ-êµ¬ì„±ìš”ì†Œ>#</a></h5><table><thead><tr><th>êµ¬ì„±ìš”ì†Œ</th><th>ê¸°ëŠ¥</th><th>íŠ¹ì§•</th></tr></thead><tbody><tr><td><strong>ë¦¬ë” ì„ ì¶œê¸° (Leader Elector)</strong></td><td>ì¡°ì •ì ì„ íƒ</td><td>ì„±ëŠ¥ ìµœì í™” ë° ì¤‘ì•™ ì¡°ì •</td></tr><tr><td><strong>ìƒíƒœ ë¨¸ì‹  (State Machine)</strong></td><td>ì¼ê´€ëœ ìƒíƒœ ìœ ì§€</td><td>ë³µì œëœ ìƒíƒœ ê´€ë¦¬</td></tr><tr><td><strong>ì²´í¬í¬ì¸íŠ¸ ê´€ë¦¬ì</strong></td><td>ìƒíƒœ ì €ì¥/ë³µêµ¬</td><td>ì¥ì•  ë³µêµ¬ ì§€ì›</td></tr></tbody></table><h5 id=ì „ì²´-ì•„í‚¤í…ì²˜>ì „ì²´ ì•„í‚¤í…ì²˜<a hidden class=anchor aria-hidden=true href=#ì „ì²´-ì•„í‚¤í…ì²˜>#</a></h5><pre class=mermaid>graph TB
    subgraph &#34;ë¶„ì‚° ì¡°ì • ì•„í‚¤í…ì²˜&#34;
        subgraph &#34;ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µ&#34;
            APP[ì• í”Œë¦¬ì¼€ì´ì…˜]
        end
        
        subgraph &#34;ì¡°ì • ê³„ì¸µ&#34;
            CON[í•©ì˜ ì—”ì§„]
            LE[ë¦¬ë” ì„ ì¶œê¸°]
            ME[ìƒí˜¸ ë°°ì œ ê´€ë¦¬ì]
            LC[ë…¼ë¦¬ì  ì‹œê³„]
        end
        
        subgraph &#34;í†µì‹  ê³„ì¸µ&#34;
            MP[ë©”ì‹œì§€ ì „ë‹¬]
            FD[ì¥ì•  íƒì§€ê¸°]
            NT[ë„¤íŠ¸ì›Œí¬ í† í´ë¡œì§€]
        end
        
        subgraph &#34;ì €ì¥ ê³„ì¸µ&#34;
            LOG[í•©ì˜ ë¡œê·¸]
            STATE[ìƒíƒœ ì €ì¥ì†Œ]
        end
    end
    
    APP --&gt; CON
    APP --&gt; LE
    APP --&gt; ME
    CON --&gt; LC
    CON --&gt; MP
    LE --&gt; FD
    ME --&gt; MP
    MP --&gt; NT
    CON --&gt; LOG
    CON --&gt; STATE
</pre><h2 id=1-êµ¬ì¡°-ë°-ì•„í‚¤í…ì²˜--êµ¬ì„±-ìš”ì†Œ>1. êµ¬ì¡° ë° ì•„í‚¤í…ì²˜ + êµ¬ì„± ìš”ì†Œ<a hidden class=anchor aria-hidden=true href=#1-êµ¬ì¡°-ë°-ì•„í‚¤í…ì²˜--êµ¬ì„±-ìš”ì†Œ>#</a></h2><h3 id=-zookeeper-ì•„í‚¤í…ì²˜-ë‹¤ì´ì–´ê·¸ë¨>ğŸ§© ZooKeeper ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨<a hidden class=anchor aria-hidden=true href=#-zookeeper-ì•„í‚¤í…ì²˜-ë‹¤ì´ì–´ê·¸ë¨>#</a></h3><pre class=mermaid>graph LR
  subgraph Ensemble
    Leader
    Follower1
    Follower2
  end
  Client--&gt;Leader
  Client--&gt;Follower1
  Client--&gt;Follower2
  Leader--&gt;Follower1
  Leader--&gt;Follower2
  Follower1--&gt;Leader
  Follower2--&gt;Leader
</pre><h3 id=êµ¬ì„±-ìš”ì†Œ-ë°-ì—­í• -1>êµ¬ì„± ìš”ì†Œ ë° ì—­í• <a hidden class=anchor aria-hidden=true href=#êµ¬ì„±-ìš”ì†Œ-ë°-ì—­í• -1>#</a></h3><ul><li><strong>Ensemble</strong>: ìµœì†Œ 3 ê°œì˜ ì„œë²„ë¡œ êµ¬ì„±ëœ í´ëŸ¬ìŠ¤í„°, ì¼ê´€ì„±ê³¼ ë‚´ê²°í•¨ì„± ë³´ì¥ (<a href="https://www.cs.umbc.edu/courses/undergraduate/421/spring03/slides/ch17.pdf?utm_source=chatgpt.com" title="[PDF] Chapter 17 Distributed Coordination">en.wikipedia.org</a>, <a href="https://restate.dev/blog/every-system-is-a-log-avoiding-coordination-in-distributed-applications/?utm_source=chatgpt.com" title="Every System is a Log: Avoiding coordination in distributed â€¦ - Restate">tutorialspoint.com</a>)</li><li><strong>Leader</strong>: ì“°ê¸° ìš”ì²­ ì²˜ë¦¬, ë¡œê·¸ ìˆœì°¨ì  ë°°í¬ (ZAB/ZAB Atomic Broadcast)</li><li><strong>Followers</strong>: ì½ê¸° ìš”ì²­ ìˆ˜í–‰, leader ì™€ ë™ê¸°í™”, ì¿¼ëŸ¼ í˜•ì„±ì— ì°¸ì—¬</li><li><strong>Client</strong>: ì„¸ì…˜ ìœ ì§€ (heartbeat), ìš”ì²­ (ì½ê¸°Â·ì“° ê¸°), watch ë“±ë¡ ê¸°ëŠ¥ ï¿½ï¿½citeîˆ‚turn0search16îˆ‚turn0search22îˆ</li><li><strong>ZNode</strong>: ê³„ì¸µì  ìƒíƒœ ì €ì¥ì†Œ, persistent/ephemeral/sequence íƒ€ì… ì¡´ì¬ (<a href="https://www.geeksforgeeks.org/distributed-coordination-services-zookeeper-system-design/?utm_source=chatgpt.com" title="Distributed Coordination services (ZooKeeper) - System design â€¦">numberanalytics.com</a>)</li><li><strong>Watch</strong>: ë³€ê²½ ì•Œë¦¼ ë©”ì»¤ë‹ˆì¦˜, ì¼íšŒì„±ì´ë©° ì¬ë“±ë¡ í•„ìš”</li><li><strong>ZAB í”„ë¡œí† ì½œ</strong>: ì›ì ë¸Œë¡œë“œìºìŠ¤íŠ¸, ì“°ê¸° ì¼ê´€ì„± ë° leader fail-over ì‹œ ë³µêµ¬ ì§€ì› (<a href="https://www.cs.umbc.edu/courses/undergraduate/421/spring03/slides/ch17.pdf?utm_source=chatgpt.com" title="[PDF] Chapter 17 Distributed Coordination">en.wikipedia.org</a>)</li></ul><hr><h2 id=3-êµ¬í˜„-ê¸°ë²•>3. êµ¬í˜„ ê¸°ë²•<a hidden class=anchor aria-hidden=true href=#3-êµ¬í˜„-ê¸°ë²•>#</a></h2><ul><li><strong>ZAB (ZooKeeper Atomic Broadcast)</strong>: leader ì„ ì¶œ + ìˆœì°¨ì  ë¡œê·¸ ë³µì œ</li><li><strong>ZNode ê³„ì¸µ êµ¬ì¡°</strong>: ì„¤ì •, ë½, ë…¸ë“œ ë“±ë¡ ë“±ì— í™œìš©</li><li><strong>Watch ë“±ë¡ ë° ì´ë²¤íŠ¸ ì²˜ë¦¬</strong>: Pub/sub ìŠ¤íƒ€ì¼ì˜ ìƒíƒœ ë³€ê²½ í†µë³´</li><li><strong>Ephemeral ZNode</strong>: client ì—°ê²° ê¸°ë°˜ ì„ì‹œ ë…¸ë“œ í™œìš© â†’ ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬, ë¦¬ë” election êµ¬í˜„</li><li><strong>Sequential ZNode</strong>: ìˆœì°¨ì  ìˆœë²ˆ ìƒì„± â†’ ë¶„ì‚° ë½, barrier êµ¬í˜„ì— ì‚¬ìš©</li></ul><h3 id=69-êµ¬í˜„-ê¸°ë²•>6.9 êµ¬í˜„ ê¸°ë²•<a hidden class=anchor aria-hidden=true href=#69-êµ¬í˜„-ê¸°ë²•>#</a></h3><table><thead><tr><th>ê¸°ë²•</th><th>ì •ì˜</th><th>êµ¬ì„±</th><th>ëª©ì </th><th>ì‹¤ì œ ì˜ˆì‹œ</th></tr></thead><tbody><tr><td>Paxos</td><td>í•©ì˜ ì•Œê³ ë¦¬ì¦˜</td><td>Proposer, Acceptor, Learner</td><td>ì¼ê´€ì„± ë³´ì¥</td><td>ZooKeeper ë‚´ë¶€</td></tr><tr><td>Raft</td><td>í•©ì˜ ì•Œê³ ë¦¬ì¦˜</td><td>Leader, Follower, Candidate</td><td>ì´í•´ ìš©ì´, êµ¬í˜„ ë‹¨ìˆœí™”</td><td>etcd, Consul</td></tr><tr><td>Distributed Lock</td><td>ë¶„ì‚° ë½</td><td>Lock Node, Client</td><td>ë™ì‹œì„± ì œì–´</td><td>ZooKeeper Lock Recipe</td></tr><tr><td>Leader Election</td><td>ë¦¬ë” ì„ ì¶œ</td><td>Candidate, Voter</td><td>ëŒ€í‘œ ë…¸ë“œ ì„ ì •</td><td>ZooKeeper, etcd</td></tr><tr><td>Failure Detection</td><td>ì¥ì•  ê°ì§€</td><td>Heartbeat, Timeout</td><td>ì‹ ì†í•œ ì¥ì•  ëŒ€ì‘</td><td>Consul Health Check</td></tr></tbody></table><h4 id=67-êµ¬í˜„-ê¸°ë²•>6.7 êµ¬í˜„ ê¸°ë²•<a hidden class=anchor aria-hidden=true href=#67-êµ¬í˜„-ê¸°ë²•>#</a></h4><h5 id=paxos-ì•Œê³ ë¦¬ì¦˜-êµ¬í˜„>Paxos ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„<a hidden class=anchor aria-hidden=true href=#paxos-ì•Œê³ ë¦¬ì¦˜-êµ¬í˜„>#</a></h5><ul><li><strong>ì •ì˜</strong>: ë¹„ë™ê¸° í™˜ê²½ì—ì„œ ë…¸ë“œ ì¥ì• ë¥¼ í—ˆìš©í•˜ëŠ” í•©ì˜ ì•Œê³ ë¦¬ì¦˜</li><li><strong>êµ¬ì„±</strong>: Proposer, Acceptor, Learner ì—­í•  ë¶„ë¦¬</li><li><strong>ëª©ì </strong>: ì•ˆì „ì„± ë³´ì¥í•˜ë©° ë‹¨ì¼ ê°’ì— ëŒ€í•œ í•©ì˜ ë‹¬ì„±</li><li><strong>ì‹¤ì œ ì˜ˆì‹œ</strong>: Google Chubby, Apache Cassandra</li></ul><h5 id=raft-ì•Œê³ ë¦¬ì¦˜-êµ¬í˜„>Raft ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„<a hidden class=anchor aria-hidden=true href=#raft-ì•Œê³ ë¦¬ì¦˜-êµ¬í˜„>#</a></h5><ul><li><strong>ì •ì˜</strong>: ì´í•´í•˜ê¸° ì‰¬ìš´ ë¦¬ë” ê¸°ë°˜ í•©ì˜ ì•Œê³ ë¦¬ì¦˜</li><li><strong>êµ¬ì„±</strong>: Leader, Follower, Candidate ìƒíƒœ ê¸°ê³„</li><li><strong>ëª©ì </strong>: Paxos ëŒ€ë¹„ êµ¬í˜„ ë³µì¡ë„ ê°ì†Œ</li><li><strong>ì‹¤ì œ ì˜ˆì‹œ</strong>: etcd, Consul, TiKV</li></ul><h5 id=ë²¡í„°-í´ëŸ­-êµ¬í˜„>ë²¡í„° í´ëŸ­ êµ¬í˜„<a hidden class=anchor aria-hidden=true href=#ë²¡í„°-í´ëŸ­-êµ¬í˜„>#</a></h5><ul><li><strong>ì •ì˜</strong>: ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ ì¸ê³¼ê´€ê³„ ì¶”ì í•˜ëŠ” ë…¼ë¦¬ì  ì‹œê³„</li><li><strong>êµ¬ì„±</strong>: ê° í”„ë¡œì„¸ìŠ¤ë³„ ì¹´ìš´í„° ë²¡í„°</li><li><strong>ëª©ì </strong>: ë™ì‹œ ì´ë²¤íŠ¸ íƒì§€ ë° ì¸ê³¼ê´€ê³„ ë³´ì¡´</li><li><strong>ì‹¤ì œ ì˜ˆì‹œ</strong>: Amazon DynamoDB, Riak</li></ul><h5 id=í† í°-ê¸°ë°˜-ìƒí˜¸-ë°°ì œ>í† í° ê¸°ë°˜ ìƒí˜¸ ë°°ì œ<a hidden class=anchor aria-hidden=true href=#í† í°-ê¸°ë°˜-ìƒí˜¸-ë°°ì œ>#</a></h5><ul><li><strong>ì •ì˜</strong>: í† í° ì†Œìœ ìë§Œ ì„ê³„ ì˜ì—­ ì ‘ê·¼ í—ˆìš©</li><li><strong>êµ¬ì„±</strong>: í† í° ìˆœí™˜ ë©”ì»¤ë‹ˆì¦˜</li><li><strong>ëª©ì </strong>: ë°ë“œë½ ì—†ëŠ” ìƒí˜¸ ë°°ì œ ë³´ì¥</li><li><strong>ì‹¤ì œ ì˜ˆì‹œ</strong>: Raymond&rsquo;s Algorithm, Suzuki-Kasami Algorithm</li></ul><h2 id=12-paxos-vs-raft-vs-zab-ë¹„êµ>12. Paxos Vs Raft Vs ZAB ë¹„êµ<a hidden class=anchor aria-hidden=true href=#12-paxos-vs-raft-vs-zab-ë¹„êµ>#</a></h2><h3 id=-ë¹„êµí‘œ>ğŸ“Š ë¹„êµí‘œ<a hidden class=anchor aria-hidden=true href=#-ë¹„êµí‘œ>#</a></h3><table><thead><tr><th>í•­ëª©</th><th>Paxos</th><th>Raft</th><th>ZAB</th></tr></thead><tbody><tr><td>ì„¤ê³„ ëª©ì </td><td>ì´ë¡ ì  ì•ˆì „ì„± ì¤‘ì‹¬</td><td>ì‹¤ìš©ì„±ê³¼ ì´í•´ ìš©ì´ì„± ì¤‘ì‹¬</td><td>ZooKeeper ì „ìš© Atomic Broadcast</td></tr><tr><td>ë¦¬ë” ì„ ì¶œ ë°©ì‹</td><td>Prepare/Promise</td><td>Leader election via term íˆ¬í‘œ</td><td>Leader-Quorum ê¸°ë°˜</td></tr><tr><td>ë¡œê·¸ ë³µì œ</td><td>Multi-decree ì¤€ë¹„/ì œì•ˆ</td><td>AppendEntries RPC</td><td>writeâ†’ACK ê¸°ë°˜</td></tr><tr><td>ì´í•´ ë‚œì´ë„</td><td>ë³µì¡, ìˆ˜í•™ ì¤‘ì‹¬</td><td>ë‹¨ìˆœí•˜ë©° ì‹¤ìš©ì </td><td>Raft ì™€ ìœ ì‚¬í•˜ì§€ë§Œ ZK ìµœì í™”</td></tr><tr><td>êµ¬í˜„ì„±</td><td>êµ¬í˜„ ì–´ë ¤ì›€</td><td>ë‹¤ì–‘í•œ ì–¸ì–´ë¡œ êµ¬í˜„ ì œê³µ</td><td>ZooKeeper ë‚´ë¶€ êµ¬í˜„</td></tr><tr><td>ì‚¬ìš© ì‚¬ë¡€</td><td>Google/ì•„ì¹´ì‹œâ„¢ ì—°êµ¬ìš©</td><td>etcd, Consul, RethinkDB ë“±</td><td>ZooKeeper</td></tr><tr><td>ì ì¬ ë¬¸ì œ</td><td>liveness ë³´ì¥ ì–´ë µ</td><td>ìŠ¤ëƒ…ìƒ·/ë¡œê·¸ ì••ì¶• í•„ìš”</td><td>ZooKeeper íŠ¹ì„± ì¢…ì†</td></tr></tbody></table><h3 id=-ë¶„ì„-ìš”ì•½>ğŸ“Œ ë¶„ì„ ìš”ì•½<a hidden class=anchor aria-hidden=true href=#-ë¶„ì„-ìš”ì•½>#</a></h3><ul><li><strong>Paxos</strong>ëŠ” ì´ë¡ ì ìœ¼ë¡œ ì•ˆì „í•˜ì§€ë§Œ êµ¬í˜„ ë° ì´í•´ê°€ ì–´ë ¤ì›€.</li><li><strong>Raft</strong>ëŠ” ì‹¤ë¬´ ì ìš©ì— ì¸ê¸° ë†’ì€ ëŒ€ì²´ì¬ë¡œ, í›„ë³´ ì„ ì¶œ (term), AppendEntries ë“±ì„ ë‹¨ìˆœí™”í•˜ì—¬ ë¶€ë‹´ ìµœì†Œí™”.</li><li><strong>ZAB</strong>ëŠ” ZooKeeper ìš©ìœ¼ë¡œ ì„¤ê³„ë¼ Raft ì™€ ìœ ì‚¬í•˜ë‚˜ ZNode ê¸°ë°˜ íŠ¸ë¦¬ êµ¬ì¡°ì— ìµœì í™”ë¨.</li></ul><hr><h2 id=13-2pc-ë°-3pc-ë¶„ì‚°-íŠ¸ëœì­ì…˜-í”„ë¡œí† ì½œ>13. 2PC ë° 3PC ë¶„ì‚° íŠ¸ëœì­ì…˜ í”„ë¡œí† ì½œ<a hidden class=anchor aria-hidden=true href=#13-2pc-ë°-3pc-ë¶„ì‚°-íŠ¸ëœì­ì…˜-í”„ë¡œí† ì½œ>#</a></h2><h3 id=-2-ë‹¨ê³„-ì»¤ë°‹-2pc>ğŸ§© 2 ë‹¨ê³„ ì»¤ë°‹ (2PC)<a hidden class=anchor aria-hidden=true href=#-2-ë‹¨ê³„-ì»¤ë°‹-2pc>#</a></h3><ol><li><strong>prepare ë‹¨ê³„</strong>: coordinator -> ì°¸ê°€ìë“¤, ì¤€ë¹„ ì—¬ë¶€ ìš”ì²­</li><li><strong>commit ë‹¨ê³„</strong>: ëª¨ë‘ OK ë©´ commit, ì•„ë‹ˆë©´ rollback</li><li>ì¥ì•  ì‹œ <strong>blocking ë¬¸ì œ</strong>: í•œ ì°¸ê°€ì ì‹¤íŒ¨ ì‹œ ì „ì²´ ì •ì§€</li></ol><h3 id=-3-ë‹¨ê³„-ì»¤ë°‹-3pc>ğŸ›¡ 3 ë‹¨ê³„ ì»¤ë°‹ (3PC)<a hidden class=anchor aria-hidden=true href=#-3-ë‹¨ê³„-ì»¤ë°‹-3pc>#</a></h3><ul><li><strong>pre-commit ë‹¨ê³„</strong> ì¶”ê°€: commit í™•ì‹  ë‹¨ê³„ë¡œ non-blocking ëª©í‘œ</li><li>ë„¤íŠ¸ì›Œí¬ íŒŒí‹°ì…˜ ëŒ€ì‘ ê°•í™”</li><li>í•˜ì§€ë§Œ ì—¬ì „íˆ ë³µì¡í•˜ë©° ì‹¤ì œ ë„ì…ì€ ì ìŒ</li></ul><hr><h2 id=14-cap-íŠ¸ë ˆì´ë“œì˜¤í”„-ì„¤ê³„>14. CAP íŠ¸ë ˆì´ë“œì˜¤í”„ ì„¤ê³„<a hidden class=anchor aria-hidden=true href=#14-cap-íŠ¸ë ˆì´ë“œì˜¤í”„-ì„¤ê³„>#</a></h2><p>ë¶„ì‚° ì¡°ì •ì—ì„œ CAP ì¼ê´€ì„± (Consistency), ê°€ìš©ì„± (Availability), íŒŒí‹°ì…˜ ë‚´ì„± (Partition Tolerance) ê°„ ê· í˜•ì„ ë§ì¶”ëŠ” ì„¤ê³„ ì „ëµì…ë‹ˆë‹¤.</p><h3 id=-ì„ íƒ-ê¸°ì¤€>ğŸ” ì„ íƒ ê¸°ì¤€<a hidden class=anchor aria-hidden=true href=#-ì„ íƒ-ê¸°ì¤€>#</a></h3><table><thead><tr><th>ëª©í‘œ ìš”ì†Œ</th><th>ì„ íƒ ë°©í–¥</th><th>ì„¤ëª…</th><th>ì‚¬ë¡€</th></tr></thead><tbody><tr><td>ê°•í•œ ì¼ê´€ì„±</td><td>CP</td><td>íŒŒí‹°ì…˜ ë°œìƒ ì‹œ ê°€ìš©ì„± í¬ìƒ</td><td>ZooKeeper, etcd</td></tr><tr><td>ë†’ì€ ê°€ìš©ì„±</td><td>AP (Eventual)</td><td>ì¼ë¶€ ì¼ê´€ì„± í¬ìƒ</td><td>DNS, CDN</td></tr><tr><td>ê· í˜• ì„ íƒ</td><td>CA (ë‹¨ì¼ ì¥ì•  ì—†ëŠ” í™˜ê²½)</td><td>íŒŒí‹°ì…˜ ê³ ë ¤ ì•ˆ ë¨</td><td>ì „í†µ RDBMS</td></tr></tbody></table><h3 id=ì„¤ê³„-ì‹œ-ê³ ë ¤ì‚¬í•­>ì„¤ê³„ ì‹œ ê³ ë ¤ì‚¬í•­<a hidden class=anchor aria-hidden=true href=#ì„¤ê³„-ì‹œ-ê³ ë ¤ì‚¬í•­>#</a></h3><ul><li>ì‚¬ìš© íŒ¨í„´: ì½ê¸° ì¤‘ì‹¬ vs ì“°ê¸° ì¤‘ì‹¬</li><li>ì¥ì•  ìœ í˜•: ì¥ì•  ë¹ˆë„, ì˜í–¥ ë²”ìœ„</li><li>ì¼ê´€ì„± ëª¨ë¸: linearizability â†’ CP, eventual consistency â†’ AP</li></ul><hr><h3 id=-ë‹¤ìŒ-ë‹¨ê³„-ì•ˆë‚´>âœ… ë‹¤ìŒ ë‹¨ê³„ ì•ˆë‚´<a hidden class=anchor aria-hidden=true href=#-ë‹¤ìŒ-ë‹¨ê³„-ì•ˆë‚´>#</a></h3><p>ì´ì œ ì£¼ìš” ì£¼ì œì¸ ë¶„ì‚° ì¡°ì • ë‚´ë¶€ ë©”ì»¤ë‹ˆì¦˜ (Paxos/Raft/ZAB), ë¶„ì‚° íŠ¸ëœì­ì…˜ (2PC/3PC), CAP ì´ë¡  ì„¤ê³„ê¹Œì§€ ì •ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.<br>í•„ìš”í•˜ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì‹¬í™” ë‚´ìš©ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p><ul><li>Java/Python ê¸°ë°˜ PaxosÂ·Raft ì‹¤ì „ êµ¬í˜„ ì½”ë“œ</li><li>2PC/3PC íŠ¸ëœì­ì…˜ ì‹œë®¬ë ˆì´ì…˜ ë° ì¥ì•  ë³µêµ¬ ë¡œì§</li><li>íŠ¹ì • í™˜ê²½ (CI/CD, ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤) ì—ì„œ CAP íŠ¸ë ˆì´ë“œì˜¤í”„ ë¬¸ì„œ ì˜ˆì œ</li></ul><p>í•„ìš”í•œ ì£¼ì œë‚˜ ì¶”ê°€ í•­ëª©ì„ ë§ì”€í•´ ì£¼ì„¸ìš”.</p><p>ì´ë²ˆì—ëŠ” <strong>Paxos ì˜ êµ¬ì¡° ë° ì½”ë“œ êµ¬í˜„ ì˜ˆì‹œ</strong>, <strong>Raft êµ¬í˜„ ê°„ëµ ì†Œê°œ</strong>, ê·¸ë¦¬ê³  <strong>ë¶„ì‚° íŠ¸ëœì­ì…˜ (2PC/3PC) ì˜ Java ê¸°ë°˜ ì‹œë®¬ë ˆì´ì…˜ ê°œë… ì½”ë“œ</strong>ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì‹¬ì¸µ ë¶„ì„í•©ë‹ˆë‹¤.</p><hr><h2 id=15-paxos-êµ¬í˜„-ì˜ˆì‹œ-python>15. Paxos êµ¬í˜„ ì˜ˆì‹œ (Python)<a hidden class=anchor aria-hidden=true href=#15-paxos-êµ¬í˜„-ì˜ˆì‹œ-python>#</a></h2><h3 id=-êµ¬ì„±-ìš”ì†Œ>ğŸ§© êµ¬ì„± ìš”ì†Œ<a hidden class=anchor aria-hidden=true href=#-êµ¬ì„±-ìš”ì†Œ>#</a></h3><ul><li><strong>Proposer</strong>: ì œì•ˆì, ê°’ì„ ì œì•ˆí•˜ê³  ë‹¤ìˆ˜ ì‘ë‹µì„ ê¸°ë‹¤ë¦¼</li><li><strong>Acceptor</strong>: ìŠ¹ë‚™ì, ì œì•ˆì„ ì €ì¥í•˜ê³  ì‘ë‹µ</li><li><strong>Learner</strong>: í•™ìŠµì, í•©ì˜ ê²°ê³¼ë¥¼ ìˆ˜ì‹ </li></ul><h3 id=-ë©”ì‹œì§€-íë¦„-ë‹¤ì´ì–´ê·¸ë¨-mermaid>ğŸ§­ ë©”ì‹œì§€ íë¦„ ë‹¤ì´ì–´ê·¸ë¨ (mermaid)<a hidden class=anchor aria-hidden=true href=#-ë©”ì‹œì§€-íë¦„-ë‹¤ì´ì–´ê·¸ë¨-mermaid>#</a></h3><pre class=mermaid>sequenceDiagram
  Proposer-&gt;&gt;Acceptor: PREPARE(n)
  Acceptor--&gt;&gt;Proposer: PROMISE(n, last_accepted)
  Proposer-&gt;&gt;Acceptor: ACCEPT(n, value)
  Acceptor--&gt;&gt;Proposer: ACCEPTED(n)
  Proposer-&gt;&gt;Learner: COMMIT(value)
</pre><h3 id=-python-ì½”ë“œ-ì˜ˆì‹œ-ë‹¨ìˆœ-ë²„ì „>ğŸ§‘â€ğŸ’» Python ì½”ë“œ ì˜ˆì‹œ (ë‹¨ìˆœ ë²„ì „)<a hidden class=anchor aria-hidden=true href=#-python-ì½”ë“œ-ì˜ˆì‹œ-ë‹¨ìˆœ-ë²„ì „>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span><span class=lnt id=hl-8-11><a class=lnlinks href=#hl-8-11>11</a>
</span><span class=lnt id=hl-8-12><a class=lnlinks href=#hl-8-12>12</a>
</span><span class=lnt id=hl-8-13><a class=lnlinks href=#hl-8-13>13</a>
</span><span class=lnt id=hl-8-14><a class=lnlinks href=#hl-8-14>14</a>
</span><span class=lnt id=hl-8-15><a class=lnlinks href=#hl-8-15>15</a>
</span><span class=lnt id=hl-8-16><a class=lnlinks href=#hl-8-16>16</a>
</span><span class=lnt id=hl-8-17><a class=lnlinks href=#hl-8-17>17</a>
</span><span class=lnt id=hl-8-18><a class=lnlinks href=#hl-8-18>18</a>
</span><span class=lnt id=hl-8-19><a class=lnlinks href=#hl-8-19>19</a>
</span><span class=lnt id=hl-8-20><a class=lnlinks href=#hl-8-20>20</a>
</span><span class=lnt id=hl-8-21><a class=lnlinks href=#hl-8-21>21</a>
</span><span class=lnt id=hl-8-22><a class=lnlinks href=#hl-8-22>22</a>
</span><span class=lnt id=hl-8-23><a class=lnlinks href=#hl-8-23>23</a>
</span><span class=lnt id=hl-8-24><a class=lnlinks href=#hl-8-24>24</a>
</span><span class=lnt id=hl-8-25><a class=lnlinks href=#hl-8-25>25</a>
</span><span class=lnt id=hl-8-26><a class=lnlinks href=#hl-8-26>26</a>
</span><span class=lnt id=hl-8-27><a class=lnlinks href=#hl-8-27>27</a>
</span><span class=lnt id=hl-8-28><a class=lnlinks href=#hl-8-28>28</a>
</span><span class=lnt id=hl-8-29><a class=lnlinks href=#hl-8-29>29</a>
</span><span class=lnt id=hl-8-30><a class=lnlinks href=#hl-8-30>30</a>
</span><span class=lnt id=hl-8-31><a class=lnlinks href=#hl-8-31>31</a>
</span><span class=lnt id=hl-8-32><a class=lnlinks href=#hl-8-32>32</a>
</span><span class=lnt id=hl-8-33><a class=lnlinks href=#hl-8-33>33</a>
</span><span class=lnt id=hl-8-34><a class=lnlinks href=#hl-8-34>34</a>
</span><span class=lnt id=hl-8-35><a class=lnlinks href=#hl-8-35>35</a>
</span><span class=lnt id=hl-8-36><a class=lnlinks href=#hl-8-36>36</a>
</span><span class=lnt id=hl-8-37><a class=lnlinks href=#hl-8-37>37</a>
</span><span class=lnt id=hl-8-38><a class=lnlinks href=#hl-8-38>38</a>
</span><span class=lnt id=hl-8-39><a class=lnlinks href=#hl-8-39>39</a>
</span><span class=lnt id=hl-8-40><a class=lnlinks href=#hl-8-40>40</a>
</span><span class=lnt id=hl-8-41><a class=lnlinks href=#hl-8-41>41</a>
</span><span class=lnt id=hl-8-42><a class=lnlinks href=#hl-8-42>42</a>
</span><span class=lnt id=hl-8-43><a class=lnlinks href=#hl-8-43>43</a>
</span><span class=lnt id=hl-8-44><a class=lnlinks href=#hl-8-44>44</a>
</span><span class=lnt id=hl-8-45><a class=lnlinks href=#hl-8-45>45</a>
</span><span class=lnt id=hl-8-46><a class=lnlinks href=#hl-8-46>46</a>
</span><span class=lnt id=hl-8-47><a class=lnlinks href=#hl-8-47>47</a>
</span><span class=lnt id=hl-8-48><a class=lnlinks href=#hl-8-48>48</a>
</span><span class=lnt id=hl-8-49><a class=lnlinks href=#hl-8-49>49</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>threading</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>random</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Acceptor</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>promised_n</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>accepted</span> <span class=o>=</span> <span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>  <span class=c1># (n, value)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>on_prepare</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>n</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>n</span> <span class=o>&gt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>promised_n</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>promised_n</span> <span class=o>=</span> <span class=n>n</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=kc>True</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>accepted</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>False</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>accepted</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>on_accept</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>n</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>promised_n</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>promised_n</span> <span class=o>=</span> <span class=n>n</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>accepted</span> <span class=o>=</span> <span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Proposer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>proposer_id</span><span class=p>,</span> <span class=n>acceptors</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>n</span> <span class=o>=</span> <span class=n>proposer_id</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>acceptors</span> <span class=o>=</span> <span class=n>acceptors</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>majority</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>acceptors</span><span class=p>)</span><span class=o>//</span><span class=mi>2</span> <span class=o>+</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>propose</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>promises</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=n>highest</span> <span class=o>=</span> <span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>a</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>acceptors</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>ok</span><span class=p>,</span> <span class=p>(</span><span class=n>n2</span><span class=p>,</span> <span class=n>v2</span><span class=p>)</span> <span class=o>=</span> <span class=n>a</span><span class=o>.</span><span class=n>on_prepare</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>n</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>ok</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>promises</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>v2</span> <span class=ow>and</span> <span class=n>v2</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>highest</span><span class=p>[</span><span class=mi>0</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>                    <span class=n>highest</span> <span class=o>=</span> <span class=n>v2</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>promises</span><span class=p>)</span> <span class=o>&lt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>majority</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>        <span class=n>chosen</span> <span class=o>=</span> <span class=n>highest</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=ow>or</span> <span class=n>value</span>
</span></span><span class=line><span class=cl>        <span class=n>accepts</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span><span class=n>a</span><span class=o>.</span><span class=n>on_accept</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>n</span><span class=p>,</span> <span class=n>chosen</span><span class=p>)</span> <span class=k>for</span> <span class=n>a</span> <span class=ow>in</span> <span class=n>promises</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>accepts</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>majority</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>a</span> <span class=ow>in</span> <span class=n>promises</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>pass</span>  <span class=c1># learner í†µë³´ ìƒëµ</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Value chosen: </span><span class=si>{</span><span class=n>chosen</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># í…ŒìŠ¤íŠ¸ ì½”ë“œ</span>
</span></span><span class=line><span class=cl><span class=n>acceptors</span> <span class=o>=</span> <span class=p>[</span><span class=n>Acceptor</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;A</span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>)]</span>
</span></span><span class=line><span class=cl><span class=n>p</span> <span class=o>=</span> <span class=n>Proposer</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>acceptors</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>p</span><span class=o>.</span><span class=n>propose</span><span class=p>(</span><span class=s2>&#34;Alpha&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>ì„¤ëª…</strong>:</p><ul><li><code>prepare</code> ë‹¨ê³„ì—ì„œ ë‹¤ìˆ˜ ì‘ë‹µ í™•ë³´</li><li><code>accept</code> ë‹¨ê³„ì—ì„œ ê°’ ìŠ¹ì¸ í›„ ë‹¤ìˆ˜ì—ê²Œ commit</li></ul><p>ì‹¤ë¬´ì—ì„œëŠ” ë„¤íŠ¸ì›Œí¬ í†µì‹ , ì¥ì•  ì²˜ë¦¬, ì¬ì „ì†¡, QoS ë¡œì§ ë“±ì„ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.</p><hr><h2 id=16-raft-êµ¬í˜„-ê°œìš”>16. Raft êµ¬í˜„ ê°œìš”<a hidden class=anchor aria-hidden=true href=#16-raft-êµ¬í˜„-ê°œìš”>#</a></h2><ul><li><strong>Leader election via term & Vote RPC</strong></li><li><strong>AppendEntries RPC</strong>ë¡œ ë¡œê·¸ ë³µì œ</li><li><strong>Commit index ê´€ë¦¬</strong> ë° <strong>Snapshot ê³¼ ì••ì¶•</strong> ê¸°ëŠ¥</li><li><code>etcd</code>, <code>Consul</code> ë“±ì—ì„œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì œê³µ</li></ul><p>ì§ì ‘ êµ¬í˜„ë³´ë‹¤ <code>hashicorp/raft</code> (Go), <code>raftos</code> (Python) ê³¼ ê°™ì€ ì˜¤í”ˆì†ŒìŠ¤ í™œìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤.</p><hr><h2 id=17-2pc3pc-java-ê¸°ë°˜-ì‹œë®¬ë ˆì´ì…˜-ê°œë…-ì½”ë“œ>17. 2PC/3PC Java ê¸°ë°˜ ì‹œë®¬ë ˆì´ì…˜ ê°œë… ì½”ë“œ<a hidden class=anchor aria-hidden=true href=#17-2pc3pc-java-ê¸°ë°˜-ì‹œë®¬ë ˆì´ì…˜-ê°œë…-ì½”ë“œ>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11>11</a>
</span><span class=lnt id=hl-9-12><a class=lnlinks href=#hl-9-12>12</a>
</span><span class=lnt id=hl-9-13><a class=lnlinks href=#hl-9-13>13</a>
</span><span class=lnt id=hl-9-14><a class=lnlinks href=#hl-9-14>14</a>
</span><span class=lnt id=hl-9-15><a class=lnlinks href=#hl-9-15>15</a>
</span><span class=lnt id=hl-9-16><a class=lnlinks href=#hl-9-16>16</a>
</span><span class=lnt id=hl-9-17><a class=lnlinks href=#hl-9-17>17</a>
</span><span class=lnt id=hl-9-18><a class=lnlinks href=#hl-9-18>18</a>
</span><span class=lnt id=hl-9-19><a class=lnlinks href=#hl-9-19>19</a>
</span><span class=lnt id=hl-9-20><a class=lnlinks href=#hl-9-20>20</a>
</span><span class=lnt id=hl-9-21><a class=lnlinks href=#hl-9-21>21</a>
</span><span class=lnt id=hl-9-22><a class=lnlinks href=#hl-9-22>22</a>
</span><span class=lnt id=hl-9-23><a class=lnlinks href=#hl-9-23>23</a>
</span><span class=lnt id=hl-9-24><a class=lnlinks href=#hl-9-24>24</a>
</span><span class=lnt id=hl-9-25><a class=lnlinks href=#hl-9-25>25</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// Coordinator ì—­í• : Prepare, Commit/Abort</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Coordinator</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>List</span><span class=o>&lt;</span><span class=n>Participant</span><span class=o>&gt;</span><span class=w> </span><span class=n>parts</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>twoPhaseCommit</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>boolean</span><span class=w> </span><span class=n>allOk</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>parts</span><span class=p>.</span><span class=na>stream</span><span class=p>().</span><span class=na>allMatch</span><span class=p>(</span><span class=n>p</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=na>prepare</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>parts</span><span class=p>.</span><span class=na>forEach</span><span class=p>(</span><span class=n>p</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=k>if</span><span class=p>(</span><span class=n>allOk</span><span class=p>)</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=na>commit</span><span class=p>();</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=na>abort</span><span class=p>();</span><span class=w> </span><span class=p>});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>allOk</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// Participant ì—­í• : ë¶„ì‚° íŠ¸ëœì­ì…˜ ì°¸ê°€ì</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Participant</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>String</span><span class=w> </span><span class=n>name</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>prepare</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Random</span><span class=p>().</span><span class=na>nextBoolean</span><span class=p>();</span><span class=w>  </span><span class=c1>// ëœë¤ ì¤€ë¹„ ìƒíƒœ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>commit</span><span class=p>(){</span><span class=w> </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>name</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&#34; commit&#34;</span><span class=p>);</span><span class=w> </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>abort</span><span class=p>(){</span><span class=w> </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>name</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&#34; abort&#34;</span><span class=p>);</span><span class=w> </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ì‹¤í–‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>){</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>Coordinator</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Coordinator</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>c</span><span class=p>.</span><span class=na>parts</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>Participant</span><span class=p>(</span><span class=s>&#34;P1&#34;</span><span class=p>),</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Participant</span><span class=p>(</span><span class=s>&#34;P2&#34;</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>boolean</span><span class=w> </span><span class=n>ok</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>c</span><span class=p>.</span><span class=na>twoPhaseCommit</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;Global &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=n>ok</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s>&#34;Commit&#34;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=s>&#34;Abort&#34;</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>3PC ëŠ” ì—¬ê¸°ì— <strong>pre-commit</strong> ë‹¨ê³„ë¥¼ ì¶”ê°€í•´ ë¹„ì°¨ë‹¨ì„±ì„ ëª©í‘œë¡œ í™•ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><hr><h2 id=18-cap-ì„¤ê³„-ë¬¸ì„œí™”-ì˜ˆì‹œ>18. CAP ì„¤ê³„ ë¬¸ì„œí™” ì˜ˆì‹œ<a hidden class=anchor aria-hidden=true href=#18-cap-ì„¤ê³„-ë¬¸ì„œí™”-ì˜ˆì‹œ>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1>1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2>2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3>3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4>4</a>
</span><span class=lnt id=hl-10-5><a class=lnlinks href=#hl-10-5>5</a>
</span><span class=lnt id=hl-10-6><a class=lnlinks href=#hl-10-6>6</a>
</span><span class=lnt id=hl-10-7><a class=lnlinks href=#hl-10-7>7</a>
</span><span class=lnt id=hl-10-8><a class=lnlinks href=#hl-10-8>8</a>
</span><span class=lnt id=hl-10-9><a class=lnlinks href=#hl-10-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl><span class=gu>### [ì„œë¹„ìŠ¤ X]ì˜ CAP íŠ¸ë ˆì´ë“œì˜¤í”„ ë¶„ì„
</span></span></span><span class=line><span class=cl><span class=gu></span>
</span></span><span class=line><span class=cl>| ìš”êµ¬ì‚¬í•­         | ì„ íƒ ìš”ì†Œ | ì´ìœ  |
</span></span><span class=line><span class=cl>|------------------|----------|------|
</span></span><span class=line><span class=cl>| ë°ì´í„° ì¼ê´€ì„± í•„ìš” | C (Consistency) | ê¸ˆìœµ ê±°ë˜ ë¡œê·¸ ì •í™•ì„± ë•Œë¬¸ |
</span></span><span class=line><span class=cl>| ë¶„ì‚° í™˜ê²½ ìš´ì˜ | P (Partition tolerance) | ë©€í‹° ë¦¬ì „ êµ¬ì„± ì‹œ ê°€ìš©ì„± ìœ ì§€ |
</span></span><span class=line><span class=cl>| ê°€ìš©ì„± | ì•½ê°„ í¬ìƒ | ë„¤íŠ¸ì›Œí¬ ë¶„í•  ì‹œ ì¼ê´€ì„± ìš°ì„  ë³´ì¥ |
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>â†’ ì„¤ê³„: CP ì‹œìŠ¤í…œ ì±„íƒ (ì˜ˆ: etcd, ZooKeeper), ë¶„í•  ë³µì œ, leader ì½ê¸° ì¤‘ì‹¬ ë°©ì‹
</span></span></code></pre></td></tr></table></div></div><hr><p>ì´ë¡œì¨ <strong>Paxos êµ¬í˜„</strong>, <strong>Raft ê°œìš”</strong>, <strong>Java ê¸°ë°˜ 2PC ì˜ˆì‹œ</strong>, <strong>CAP ì„¤ê³„ ë¬¸ì„œí™”</strong>ê¹Œì§€ ë§ˆë¬´ë¦¬í–ˆìŠµë‹ˆë‹¤. ë” ì•Œê³  ì‹¶ì€ ë‚´ìš© (ì˜ˆ: log compaction, ì¥ì•  íšŒë³µ, í”„ë¡œí† ì½œ ì‹œë®¬ë ˆì´ì…˜ ë„êµ¬, Java Curator ë ˆì‹œí”¼ ë“±) ì´ ìˆë‹¤ë©´ ë§ì”€í•´ì£¼ì„¸ìš”!</p><hr><h3 id=68-ì¥ì >6.8 ì¥ì <a hidden class=anchor aria-hidden=true href=#68-ì¥ì >#</a></h3><table><thead><tr><th>êµ¬ë¶„</th><th>í•­ëª©</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>ì¥ì </td><td><strong>í™•ì¥ì„±</strong></td><td>ë…¸ë“œ ìˆ˜ ì¦ê°€ì— ë”°ë¥¸ ì„ í˜•ì  ì„±ëŠ¥ í™•ì¥ ê°€ëŠ¥</td></tr><tr><td>ì¥ì </td><td><strong>ê°€ìš©ì„±</strong></td><td>ì¼ë¶€ ë…¸ë“œ ì¥ì•  ì‹œì—ë„ ì„œë¹„ìŠ¤ ì§€ì† ì œê³µ</td></tr><tr><td>ì¥ì </td><td><strong>ì¼ê´€ì„±</strong></td><td>ëª¨ë“  ë…¸ë“œì—ì„œ ë™ì¼í•œ ë°ì´í„° ìƒíƒœ ë³´ì¥</td></tr><tr><td>ì¥ì </td><td><strong>ì¥ì•  ë‚´ì„±</strong></td><td>ë„¤íŠ¸ì›Œí¬ ë¶„í• ì´ë‚˜ ë…¸ë“œ ì¥ì•  ìƒí™© ê·¹ë³µ</td></tr><tr><td>ì¥ì </td><td><strong>ë¶„ì‚°ì„±</strong></td><td>ë‹¨ì¼ ì¥ì•  ì§€ì  (SPOF) ì œê±°</td></tr></tbody></table><h2 id=7-ì¥ì >7. ì¥ì <a hidden class=anchor aria-hidden=true href=#7-ì¥ì >#</a></h2><table><thead><tr><th>êµ¬ë¶„</th><th>í•­ëª©</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>ì¥ì </td><td>ë°ì´í„° ì¼ê´€ì„±</td><td>í•©ì˜ ì•Œê³ ë¦¬ì¦˜ì„ í†µí•´ ê°•í•œ ì¼ê´€ì„± ë³´ì¥</td></tr><tr><td>ì¥ì </td><td>ì¥ì•  ë‚´ì„±</td><td>ë…¸ë“œ ì¥ì•  ì‹œ ìë™ ë³µêµ¬ ë° ì„œë¹„ìŠ¤ ì§€ì†ì„±</td></tr><tr><td>ì¥ì </td><td>í™•ì¥ì„±</td><td>ë…¸ë“œ ì¶”ê°€/ì œê±°ì— ìœ ì—°í•˜ê²Œ ëŒ€ì‘</td></tr><tr><td>ì¥ì </td><td>ìë™í™”</td><td>ë¦¬ë” ì„ ì¶œ, ë½ ê´€ë¦¬ ë“± ìë™í™” ì§€ì›</td></tr></tbody></table><h2 id=ì¥ì >ì¥ì <a hidden class=anchor aria-hidden=true href=#ì¥ì >#</a></h2><table><thead><tr><th>êµ¬ë¶„</th><th>í•­ëª©</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>ì¥ì </td><td>ì¼ê´€ì„±</td><td>Atomic broadcast + ì¿¼ëŸ¼ì„ í†µí•´ linearizability ë³´ì¥</td></tr><tr><td></td><td>ë‚´ê²°í•¨ì„±</td><td>Leader ì¥ì•  ì‹œ ë¹ ë¥¸ ì¬ì„ ì¶œ, ì¿¼ëŸ¼ ê¸°ë°˜ ìš´ì˜</td></tr><tr><td></td><td>ë‹¨ìˆœ API</td><td>ê³„ì¸µì  í‚¤, watch, ë½ ë“± ë‹¨ìˆœ êµ¬ì¡°ë¡œ ì‚¬ìš© ìš©ì´</td></tr><tr><td></td><td>ê³ ì„±ëŠ¥</td><td>ì½ê¸° ì¤‘ì‹¬ ì›Œí¬ë¡œë“œì—ì„œ ë‚®ì€ ì§€ì—° ë° ë†’ì€ ì²˜ë¦¬ëŸ‰</td></tr></tbody></table><h2 id=ë‹¨ì -ë°-ë¬¸ì œì >ë‹¨ì  ë° ë¬¸ì œì <a hidden class=anchor aria-hidden=true href=#ë‹¨ì -ë°-ë¬¸ì œì >#</a></h2><table><thead><tr><th>êµ¬ë¶„</th><th>í•­ëª©</th><th>ì„¤ëª…</th><th>í•´ê²°ì±…</th></tr></thead><tbody><tr><td>ë‹¨ì </td><td>ì“°ê¸° ë³‘ëª©</td><td>Leader ì¤‘ì‹¬ êµ¬ì¡° â†’ ì“°ê¸° í™•ì¥ ì œí•œ</td><td>ì“°ê¸° ë¶„í• , leader ìˆ˜í‰ í™•ì¥</td></tr><tr><td></td><td>watch miss</td><td>ì¬ë“±ë¡ ê°„ ì´ë²¤íŠ¸ ì†ì‹¤</td><td>ì´ë²¤íŠ¸ ì¬ì¡°íšŒ íŒ¨í„´, ì£¼ê¸°ì  ìƒíƒœ ê²€ì‚¬</td></tr><tr><td>ë¬¸ì œì </td><td>Leader Split</td><td>ë„¤íŠ¸ì›Œí¬ íŒŒí‹°ì…˜ìœ¼ë¡œ ë³µìˆ˜ leader ë°œìƒ</td><td>ZAB ê¸°ë°˜ ì•ˆì „í•œ ë¦¬ë” election</td></tr><tr><td></td><td>Client stale reads</td><td>Followers lagging read stale state</td><td>ì½ê¸° - ìµœì‹ ì„± ì„¤ì •, leader affinity</td></tr><tr><td></td><td>ZooKeeper turtle</td><td>ì¥ì•  ì‹œ ì§€ì—° ë°œìƒ</td><td>tiered architecture, ìºì‹œ í™œìš©</td></tr></tbody></table><h2 id=8-ë‹¨ì ê³¼-ë¬¸ì œì -ê·¸ë¦¬ê³ -í•´ê²°ë°©ì•ˆ>8. ë‹¨ì ê³¼ ë¬¸ì œì  ê·¸ë¦¬ê³  í•´ê²°ë°©ì•ˆ<a hidden class=anchor aria-hidden=true href=#8-ë‹¨ì ê³¼-ë¬¸ì œì -ê·¸ë¦¬ê³ -í•´ê²°ë°©ì•ˆ>#</a></h2><h3 id=ë‹¨ì >ë‹¨ì <a hidden class=anchor aria-hidden=true href=#ë‹¨ì >#</a></h3><table><thead><tr><th>êµ¬ë¶„</th><th>í•­ëª©</th><th>ì„¤ëª…</th><th>í•´ê²°ì±…</th></tr></thead><tbody><tr><td>ë‹¨ì </td><td>ì„±ëŠ¥ ì €í•˜</td><td>í•©ì˜ ê³¼ì •ì—ì„œ ë„¤íŠ¸ì›Œí¬ ì˜¤ë²„í—¤ë“œ ë°œìƒ</td><td>ìµœì í™”ëœ ì•Œê³ ë¦¬ì¦˜, ë„¤íŠ¸ì›Œí¬ íŠœë‹</td></tr><tr><td>ë‹¨ì </td><td>ë³µì¡ì„±</td><td>ì‹œìŠ¤í…œ ì„¤ê³„ ë° ìš´ì˜ ë³µì¡</td><td>ê´€ë¦¬ ë„êµ¬ ì‚¬ìš©, ìë™í™”</td></tr><tr><td>ë‹¨ì </td><td>ì¥ì•  ì „íŒŒ</td><td>ì¼ë¶€ ë…¸ë“œ ì¥ì• ê°€ ì „ì²´ì— ì˜í–¥</td><td>ì¥ì•  ê²©ë¦¬, ë¹ ë¥¸ ì¥ì•  ê°ì§€</td></tr></tbody></table><h3 id=ë¬¸ì œì >ë¬¸ì œì <a hidden class=anchor aria-hidden=true href=#ë¬¸ì œì >#</a></h3><table><thead><tr><th>êµ¬ë¶„</th><th>í•­ëª©</th><th>ì›ì¸</th><th>ì˜í–¥</th><th>íƒì§€ ë° ì§„ë‹¨</th><th>ì˜ˆë°© ë°©ë²•</th><th>í•´ê²° ë°©ë²• ë° ê¸°ë²•</th></tr></thead><tbody><tr><td>ë¬¸ì œì </td><td>ìŠ¤í”Œë¦¿ ë¸Œë ˆì¸</td><td>ë„¤íŠ¸ì›Œí¬ ë¶„í• </td><td>ë°ì´í„° ë¶ˆì¼ì¹˜</td><td>ë¡œê·¸ ë¶„ì„, ëª¨ë‹ˆí„°ë§</td><td>ë„¤íŠ¸ì›Œí¬ ì´ì¤‘í™”</td><td>Quorum ê¸°ë°˜ í•©ì˜</td></tr><tr><td>ë¬¸ì œì </td><td>ë¦¬ë” ì¥ì• </td><td>ë¦¬ë” ë…¸ë“œ ë‹¤ìš´</td><td>ì„œë¹„ìŠ¤ ì¤‘ë‹¨</td><td>í—¬ìŠ¤ ì²´í¬</td><td>ë¦¬ë” ìë™ ì„ ì¶œ</td><td>ë¦¬ë” ì¬ì„ ì¶œ ì•Œê³ ë¦¬ì¦˜</td></tr><tr><td>ë¬¸ì œì </td><td>ë½ ê²½í•©</td><td>ë™ì‹œì„± ë†’ì€ í™˜ê²½</td><td>ì„±ëŠ¥ ì €í•˜</td><td>ì§€í‘œ ëª¨ë‹ˆí„°ë§</td><td>ë½ ë¶„ì‚°</td><td>ë½ ìƒ¤ë”©, ëŒ€ê¸°ì—´ ì ìš©</td></tr></tbody></table><h4 id=69-ë‹¨ì ê³¼-ë¬¸ì œì -ê·¸ë¦¬ê³ -í•´ê²°ë°©ì•ˆ>6.9 ë‹¨ì ê³¼ ë¬¸ì œì  ê·¸ë¦¬ê³  í•´ê²°ë°©ì•ˆ<a hidden class=anchor aria-hidden=true href=#69-ë‹¨ì ê³¼-ë¬¸ì œì -ê·¸ë¦¬ê³ -í•´ê²°ë°©ì•ˆ>#</a></h4><h5 id=ë‹¨ì -1>ë‹¨ì <a hidden class=anchor aria-hidden=true href=#ë‹¨ì -1>#</a></h5><table><thead><tr><th>êµ¬ë¶„</th><th>í•­ëª©</th><th>ì„¤ëª…</th><th>í•´ê²°ì±…</th></tr></thead><tbody><tr><td>ë‹¨ì </td><td><strong>ì„±ëŠ¥ ì˜¤ë²„í—¤ë“œ</strong></td><td>í•©ì˜ ê³¼ì •ìœ¼ë¡œ ì¸í•œ ì§€ì—° ì¦ê°€</td><td>íŒŒì´í”„ë¼ì´ë‹, ë°°ì¹­ ê¸°ë²• ì ìš©</td></tr><tr><td>ë‹¨ì </td><td><strong>ë³µì¡ì„± ì¦ê°€</strong></td><td>ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„ê³¼ ë””ë²„ê¹…ì˜ ì–´ë ¤ì›€</td><td>ê²€ì¦ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©, ë‹¨ê³„ì  êµ¬í˜„</td></tr><tr><td>ë‹¨ì </td><td><strong>ë„¤íŠ¸ì›Œí¬ ì˜ì¡´ì„±</strong></td><td>ë„¤íŠ¸ì›Œí¬ í’ˆì§ˆì— ë”°ë¥¸ ì„±ëŠ¥ ë³€í™”</td><td>ì ì‘ì  íƒ€ì„ì•„ì›ƒ, ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜</td></tr></tbody></table><h5 id=ë¬¸ì œì -1>ë¬¸ì œì <a hidden class=anchor aria-hidden=true href=#ë¬¸ì œì -1>#</a></h5><table><thead><tr><th>êµ¬ë¶„</th><th>í•­ëª©</th><th>ì›ì¸</th><th>ì˜í–¥</th><th>íƒì§€ ë° ì§„ë‹¨</th><th>ì˜ˆë°© ë°©ë²•</th><th>í•´ê²° ë°©ë²• ë° ê¸°ë²•</th></tr></thead><tbody><tr><td>ë¬¸ì œì </td><td><strong>Split Brain</strong></td><td>ë„¤íŠ¸ì›Œí¬ ë¶„í• ë¡œ ì¸í•œ ë‹¤ì¤‘ ë¦¬ë”</td><td>ë°ì´í„° ë¶ˆì¼ì¹˜</td><td>í•˜íŠ¸ë¹„íŠ¸ ì‹¤íŒ¨ ê°ì§€</td><td>ì¿¼ëŸ¼ ê¸°ë°˜ ì˜ì‚¬ê²°ì •</td><td>ë¦¬ë” ë¦¬ìŠ¤ (Lease) ë©”ì»¤ë‹ˆì¦˜</td></tr><tr><td>ë¬¸ì œì </td><td><strong>ë¼ì´ë¸Œë½</strong></td><td>ë¬´í•œ ì¬ì‹œë„ë¡œ ì¸í•œ ì§„í–‰ ë¶ˆê°€</td><td>ì‹œìŠ¤í…œ ì •ì§€</td><td>ì§„í–‰ë¥  ëª¨ë‹ˆí„°ë§</td><td>ì§€ìˆ˜ì  ë°±ì˜¤í”„</td><td>ëœë¤ ì§€ì—° ë„ì…</td></tr><tr><td>ë¬¸ì œì </td><td><strong>ë©”ì‹œì§€ ìˆœì„œ ì—­ì „</strong></td><td>ë„¤íŠ¸ì›Œí¬ ì§€ì—° ì°¨ì´</td><td>ì¸ê³¼ê´€ê³„ ìœ„ë°˜</td><td>ë…¼ë¦¬ì  ì‹œê³„ ë¹„êµ</td><td>ë©”ì‹œì§€ ì‹œí€€ì‹±</td><td>ë²¡í„° í´ëŸ­ ì‚¬ìš©</td></tr></tbody></table><h2 id=7-ë„ì „-ê³¼ì œ>7. ë„ì „ ê³¼ì œ<a hidden class=anchor aria-hidden=true href=#7-ë„ì „-ê³¼ì œ>#</a></h2><p>ì‹¤ë¬´ í™˜ê²½ ë° ê¸°ìˆ  íŠ¸ë Œë“œë¥¼ ë°˜ì˜í•´ ë‹¤ìŒê³¼ ê°™ì´ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.</p><table><thead><tr><th>ì¹´í…Œê³ ë¦¬</th><th>ë„ì „ ê³¼ì œ</th><th>ì›ì¸</th><th>ì˜í–¥</th><th>íƒì§€ ë° ì§„ë‹¨</th><th>ì˜ˆë°© / í•´ê²°</th></tr></thead><tbody><tr><td>í™•ì¥ì„±</td><td>ì“°ê¸° í™•ì¥ í•œê³„</td><td>Leader ì¤‘ì‹¬ êµ¬ì¡°</td><td>Write throughput bottleneck</td><td>ëª¨ë‹ˆí„°ë§ ì§€í‘œ (QPS, latency)</td><td>ìƒ¤ë”©, ë©€í‹° ë¦¬ë” êµ¬ì¡° ë„ì…</td></tr><tr><td>ë„¤íŠ¸ì›Œí¬ ì¥ì• </td><td>íŒ”ë¼ì´ì–´ì…˜ (split brain)</td><td>íŒŒí‹°ì…˜ í›„ ë³µìˆ˜ leader</td><td>ë°ì´í„° ë¶ˆì¼ì¹˜</td><td>í—¬ìŠ¤ ì²´í¬ ì‹¤íŒ¨, ë¦¬ë” ë¶ˆì¼ì¹˜ ê°ì§€</td><td>ê°•ë ¥í•œ election ì•Œê³ ë¦¬ì¦˜, ìºì‹œ ê¸°ë°˜ ì¥ì•  ëŒ€ì‘</td></tr><tr><td>ì¼ê´€ì„± ìš”êµ¬</td><td>stale read</td><td>follower lag</td><td>ì˜ëª»ëœ ì‘ë‹µ</td><td>Latency / sync ì§€ì—° ë¡œê·¸</td><td>leader-centric read ë˜ëŠ” sync API ì‚¬ìš©</td></tr><tr><td>ì´ë²¤íŠ¸ ì‹ ë¢°ì„±</td><td>watch ëˆ„ë½ or over-notify</td><td>ì¼íšŒì„±/ë¹„ì—°ì† ì•Œë¦¼</td><td>ìƒíƒœ ëˆ„ë½ ë˜ëŠ” ê³¼ë„í•œ ì²˜ë¦¬</td><td>ëª¨ë‹ˆí„°ë§/ê²½ê³ </td><td>ì¬ë“±ë¡ ë£¨í”„, ìˆœì°¨ ë²„ì „ ì½ê¸°</td></tr><tr><td>ìš´ì˜ ë³µì¡ì„±</td><td>ìŠ¤ëƒ…ìƒ· ë° ë¡œê·¸ ê´€ë¦¬</td><td>ë¡œê·¸ ëˆ„ì , ë””ìŠ¤í¬ ì••ë°•</td><td>ë³µêµ¬ ì§€ì—°, ìŠ¤í† ë¦¬ì§€ ë‚­ë¹„</td><td>ë””ìŠ¤í¬ IO / ìŠ¤ëƒ…ìƒ· ì§€ì—° ëª¨ë‹ˆí„°ë§</td><td>ì£¼ê¸° ìŠ¤ëƒ…ìƒ·, ë°±ì—… ì£¼ê¸° ì„¤ì •</td></tr><tr><td>ì¥ì•  ë³µêµ¬</td><td>ì„¸ì…˜ ë° ephemeral ë…¸ë“œ ë¬¸ì œ</td><td>Leader ì¬ì„ ì¶œ ì‹œ ephemeral ë…¸ë“œ ì‚­ì œ</td><td>ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ë˜ëŠ” ë…¸ë“œ ìƒíƒœ ì†Œì‹¤</td><td>Session expiry ì´ë²¤íŠ¸</td><td>ì„¸ì…˜ ì—°ì¥ ì „ëµ, ephemeral ZNode êµ¬ì¡° ì •ë¹„</td></tr></tbody></table><h3 id=12-ë„ì „-ê³¼ì œ>12. ë„ì „ ê³¼ì œ<a hidden class=anchor aria-hidden=true href=#12-ë„ì „-ê³¼ì œ>#</a></h3><table><thead><tr><th>ì¹´í…Œê³ ë¦¬</th><th>í•­ëª©</th><th>ì›ì¸</th><th>ì˜í–¥</th><th>íƒì§€ ë° ì§„ë‹¨</th><th>ì˜ˆë°© ë°©ë²•</th><th>í•´ê²° ë°©ë²• ë° ê¸°ë²•</th></tr></thead><tbody><tr><td>í™•ì¥ì„±</td><td>ë…¸ë“œ ì¦ê°€ì— ë”°ë¥¸ ì„±ëŠ¥ ì €í•˜</td><td>í•©ì˜ ë©”ì‹œì§€ ì¦ê°€</td><td>ì‘ë‹µ ì§€ì—°</td><td>ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§</td><td>ë…¸ë“œ ê·¸ë£¹í™”</td><td>Sharding, Hierarchical Coordination</td></tr><tr><td>ë³´ì•ˆ</td><td>ì¸ì¦/ê¶Œí•œ ë¯¸ë¹„</td><td>ë¹„ì¸ê°€ ì ‘ê·¼</td><td>ë°ì´í„° ìœ ì¶œ</td><td>ì ‘ê·¼ ë¡œê·¸</td><td>ACL, ì¸ì¦ ì ìš©</td><td>TLS, RBAC</td></tr><tr><td>ìš´ì˜</td><td>ë³µì¡í•œ ì¥ì•  ëŒ€ì‘</td><td>ë‹¤ì–‘í•œ ì¥ì•  ìœ í˜•</td><td>ìš´ì˜ ë¹„ìš© ì¦ê°€</td><td>ì¥ì•  ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸</td><td>ìë™í™” ë„êµ¬</td><td>Self-healing, ìë™í™”</td></tr></tbody></table><h4 id=610-ë„ì „-ê³¼ì œ>6.10 ë„ì „ ê³¼ì œ<a hidden class=anchor aria-hidden=true href=#610-ë„ì „-ê³¼ì œ>#</a></h4><h5 id=ì„±ëŠ¥-ìµœì í™”-ê³¼ì œ>ì„±ëŠ¥ ìµœì í™” ê³¼ì œ<a hidden class=anchor aria-hidden=true href=#ì„±ëŠ¥-ìµœì í™”-ê³¼ì œ>#</a></h5><ul><li><strong>ì›ì¸</strong>: í•©ì˜ ê³¼ì •ì˜ ë„¤íŠ¸ì›Œí¬ ë¼ìš´ë“œíŠ¸ë¦½ ì˜¤ë²„í—¤ë“œ</li><li><strong>ì˜í–¥</strong>: ì‹œìŠ¤í…œ ì‘ë‹µ ì‹œê°„ ì¦ê°€, ì²˜ë¦¬ëŸ‰ ê°ì†Œ</li><li><strong>í•´ê²° ë°©ë²•</strong>: Multi-Paxos, ë°°ì¹­, íŒŒì´í”„ë¼ì´ë‹ ê¸°ë²•</li></ul><h5 id=í™•ì¥ì„±-ê³¼ì œ>í™•ì¥ì„± ê³¼ì œ<a hidden class=anchor aria-hidden=true href=#í™•ì¥ì„±-ê³¼ì œ>#</a></h5><ul><li><strong>ì›ì¸</strong>: ë…¸ë“œ ìˆ˜ ì¦ê°€ì— ë”°ë¥¸ í†µì‹  ë³µì¡ë„ O(nÂ²) ì¦ê°€</li><li><strong>ì˜í–¥</strong>: ëŒ€ê·œëª¨ ì‹œìŠ¤í…œì—ì„œ ì„±ëŠ¥ ì €í•˜</li><li><strong>í•´ê²° ë°©ë²•</strong>: ê³„ì¸µì  í•©ì˜, ìœ„ì›íšŒ ê¸°ë°˜ í”„ë¡œí† ì½œ</li></ul><h5 id=ë³´ì•ˆ-ê³¼ì œ>ë³´ì•ˆ ê³¼ì œ<a hidden class=anchor aria-hidden=true href=#ë³´ì•ˆ-ê³¼ì œ>#</a></h5><ul><li><strong>ì›ì¸</strong>: ì•…ì˜ì  ë…¸ë“œë‚˜ ë„¤íŠ¸ì›Œí¬ ê³µê²© ìœ„í˜‘</li><li><strong>ì˜í–¥</strong>: ì‹œìŠ¤í…œ ë¬´ê²°ì„± ì¹¨í•´ ê°€ëŠ¥ì„±</li><li><strong>í•´ê²° ë°©ë²•</strong>: BFT ì•Œê³ ë¦¬ì¦˜, ì•”í˜¸í•™ì  ì„œëª…</li></ul><h2 id=6-ë¶„ë¥˜-ê¸°ì¤€ì—-ë”°ë¥¸-ì¢…ë¥˜-ë°-ìœ í˜•>6. ë¶„ë¥˜ ê¸°ì¤€ì— ë”°ë¥¸ ì¢…ë¥˜ ë° ìœ í˜•<a hidden class=anchor aria-hidden=true href=#6-ë¶„ë¥˜-ê¸°ì¤€ì—-ë”°ë¥¸-ì¢…ë¥˜-ë°-ìœ í˜•>#</a></h2><p>(ì œëª© ë³€ê²½: " ë¶„ë¥˜ ê¸°ì¤€ì— ë”°ë¥¸ ì¢…ë¥˜ ë° ìœ í˜• " (ê¸°ì¡´: " ë¶„ë¥˜ ê¸°ì¤€ì— ë”°ë¥¸ ì¢…ë¥˜ ë° ìœ í˜• &ldquo;))</p><table><thead><tr><th>ë¶„ë¥˜ ê¸°ì¤€</th><th>ìœ í˜•</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>í•©ì˜ í”„ë¡œí† ì½œ</td><td>Paxos, Raft, ZAB</td><td>ë¡œê·¸ ë³µì œ ë° ìƒíƒœ ì¼ê´€ì„± ìœ ì§€</td></tr><tr><td>Transaction ë°©ì‹</td><td>2PC, 3PC</td><td>ê¸€ë¡œë²Œ íŠ¸ëœì­ì…˜ì˜ ì›ìì  ì»¤ë°‹</td></tr><tr><td>ë™ê¸°í™” ë©”ì»¤ë‹ˆì¦˜</td><td>ë¶„ì‚° ë½, Barrier, Leader Election</td><td>ë™ì‹œì„± ì œì–´ ë° ìˆœì„œ ë³´ì¥</td></tr><tr><td>ìƒíƒœ ì „íŒŒ ë°©ì‹</td><td>Gossip vs BroadCast</td><td>íš¨ìœ¨ì  ìƒíƒœ í™•ì‚°ê³¼ ì´ë²¤íŠ¸ ë³´ì¥</td></tr><tr><td>ìŠ¤í† ë¦¬ì§€ ëª¨ë¸</td><td>ZNode- íŠ¸ë¦¬, Key-Value</td><td>ê³„ì¸µì  vs í‰íƒ„ êµ¬ì¡° ë°ì´í„° ì €ì¥</td></tr><tr><td>ì´ë²¤íŠ¸ & Watch ë°©ì‹</td><td>Pull vs Push ì´ë²¤íŠ¸ í†µì§€</td><td>í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ ê°ì§€ ë©”ì»¤ë‹ˆì¦˜</td></tr></tbody></table><h3 id=13-ë¶„ë¥˜-ê¸°ì¤€ì—-ë”°ë¥¸-ì¢…ë¥˜-ë°-ìœ í˜•>13. ë¶„ë¥˜ ê¸°ì¤€ì— ë”°ë¥¸ ì¢…ë¥˜ ë° ìœ í˜•<a hidden class=anchor aria-hidden=true href=#13-ë¶„ë¥˜-ê¸°ì¤€ì—-ë”°ë¥¸-ì¢…ë¥˜-ë°-ìœ í˜•>#</a></h3><table><thead><tr><th>ê¸°ì¤€</th><th>ìœ í˜•</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>í•©ì˜ ì•Œê³ ë¦¬ì¦˜</td><td>Paxos, Raft, Zab</td><td>í•©ì˜ ë°©ì‹ì— ë”°ë¼ êµ¬ë¶„</td></tr><tr><td>êµ¬í˜„ ë°©ì‹</td><td>ì¤‘ì•™ ì§‘ì¤‘í˜•, ë¶„ì‚°í˜•</td><td>ì„œë¹„ìŠ¤ êµ¬ì¡°ì— ë”°ë¼ êµ¬ë¶„</td></tr><tr><td>ì‚¬ìš© ëª©ì </td><td>ë½, ë¦¬ë” ì„ ì¶œ, ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬</td><td>ì£¼ìš” ê¸°ëŠ¥ì— ë”°ë¼ êµ¬ë¶„</td></tr></tbody></table><h4 id=611-ë¶„ë¥˜-ê¸°ì¤€ì—-ë”°ë¥¸-ì¢…ë¥˜-ë°-ìœ í˜•>6.11 ë¶„ë¥˜ ê¸°ì¤€ì— ë”°ë¥¸ ì¢…ë¥˜ ë° ìœ í˜•<a hidden class=anchor aria-hidden=true href=#611-ë¶„ë¥˜-ê¸°ì¤€ì—-ë”°ë¥¸-ì¢…ë¥˜-ë°-ìœ í˜•>#</a></h4><table><thead><tr><th>ë¶„ë¥˜ ê¸°ì¤€</th><th>ìœ í˜•</th><th>íŠ¹ì§•</th><th>ëŒ€í‘œ ì•Œê³ ë¦¬ì¦˜</th></tr></thead><tbody><tr><td><strong>ì¥ì•  ëª¨ë¸</strong></td><td>CFT (Crash Fault Tolerant)</td><td>ë…¸ë“œ ì •ì§€ ì¥ì• ë§Œ ê³ ë ¤</td><td>Paxos, Raft</td></tr><tr><td><strong>ì¥ì•  ëª¨ë¸</strong></td><td>BFT (Byzantine Fault Tolerant)</td><td>ì•…ì˜ì  í–‰ë™ ê³ ë ¤</td><td>PBFT, Tendermint</td></tr><tr><td><strong>ë™ê¸°í™” ëª¨ë¸</strong></td><td>ë™ê¸°ì‹</td><td>ë©”ì‹œì§€ ì „ë‹¬ ì‹œê°„ ìƒí•œ ë³´ì¥</td><td>Synchronous Consensus</td></tr><tr><td><strong>ë™ê¸°í™” ëª¨ë¸</strong></td><td>ë¹„ë™ê¸°ì‹</td><td>ë©”ì‹œì§€ ì „ë‹¬ ì‹œê°„ ë³´ì¥ ì—†ìŒ</td><td>FLP Impossibility ì ìš©</td></tr><tr><td><strong>ë¦¬ë”ì‹­</strong></td><td>ë¦¬ë” ê¸°ë°˜</td><td>ë‹¨ì¼ ë¦¬ë”ê°€ ì¡°ì • ë‹´ë‹¹</td><td>Raft, Multi-Paxos</td></tr><tr><td><strong>ë¦¬ë”ì‹­</strong></td><td>ë¦¬ë”ë¦¬ìŠ¤</td><td>ëª¨ë“  ë…¸ë“œê°€ ë™ë“±í•œ ì—­í• </td><td>Basic Paxos, PBFT</td></tr></tbody></table><h4 id=612-ì‹¤ë¬´-ì‚¬ìš©-ì˜ˆì‹œ>6.12 ì‹¤ë¬´ ì‚¬ìš© ì˜ˆì‹œ<a hidden class=anchor aria-hidden=true href=#612-ì‹¤ë¬´-ì‚¬ìš©-ì˜ˆì‹œ>#</a></h4><table><thead><tr><th>ì‚¬ìš© ë¶„ì•¼</th><th>ëª©ì </th><th>í•¨ê»˜ ì‚¬ìš©ë˜ëŠ” ê¸°ìˆ </th><th>íš¨ê³¼</th></tr></thead><tbody><tr><td><strong>ë¶„ì‚° ë°ì´í„°ë² ì´ìŠ¤</strong></td><td>íŠ¸ëœì­ì…˜ ì¼ê´€ì„± ë³´ì¥</td><td>ACID ì†ì„±, 2PC</td><td>ë°ì´í„° ë¬´ê²°ì„± ìœ ì§€</td></tr><tr><td><strong>ë¸”ë¡ì²´ì¸</strong></td><td>ë¸”ë¡ í•©ì˜ ë° ê²€ì¦</td><td>ì•”í˜¸í™”, í•´ì‹œ í•¨ìˆ˜</td><td>íƒˆì¤‘ì•™í™”ëœ ì‹ ë¢°</td></tr><tr><td><strong>ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤</strong></td><td>ì„œë¹„ìŠ¤ ê°„ ìƒíƒœ ë™ê¸°í™”</td><td>API Gateway, ë¡œë“œë°¸ëŸ°ì„œ</td><td>ì¼ê´€ëœ ì„œë¹„ìŠ¤ ì œê³µ</td></tr><tr><td><strong>ë¶„ì‚° íŒŒì¼ ì‹œìŠ¤í…œ</strong></td><td>ë©”íƒ€ë°ì´í„° ì¼ê´€ì„±</td><td>ë³µì œ, ìƒ¤ë”©</td><td>ê³ ê°€ìš©ì„± ìŠ¤í† ë¦¬ì§€</td></tr></tbody></table><h2 id=9-ì‹¤ë¬´-ì‚¬ìš©-ì˜ˆì‹œ>9. ì‹¤ë¬´ ì‚¬ìš© ì˜ˆì‹œ<a hidden class=anchor aria-hidden=true href=#9-ì‹¤ë¬´-ì‚¬ìš©-ì˜ˆì‹œ>#</a></h2><table><thead><tr><th>ì‹œìŠ¤í…œ</th><th>í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ê¸°ìˆ </th><th>ëª©ì </th><th>íš¨ê³¼</th></tr></thead><tbody><tr><td>ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤</td><td>ZooKeeper, etcd</td><td>ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬, ì„¤ì • ê´€ë¦¬</td><td>ë¬´ì¤‘ë‹¨ ë°°í¬, ìë™ ì¥ì•  ë³µêµ¬</td></tr><tr><td>ë¶„ì‚° DB</td><td>ZooKeeper</td><td>ë¦¬ë” ì„ ì¶œ, ë½ ê´€ë¦¬</td><td>ë°ì´í„° ì¼ê´€ì„±, ì¥ì•  ë‚´ì„±</td></tr><tr><td>í´ëŸ¬ìŠ¤í„° ê´€ë¦¬</td><td>Consul</td><td>ë…¸ë“œ ìƒíƒœ ê°ì‹œ, ì„œë¹„ìŠ¤ ë“±ë¡</td><td>ìë™ ìŠ¤ì¼€ì¼ë§, ì¥ì•  ëŒ€ì‘</td></tr></tbody></table><h2 id=8-ì‹¤ë¬´-ì‚¬ìš©-ì˜ˆì‹œ>8. ì‹¤ë¬´ ì‚¬ìš© ì˜ˆì‹œ<a hidden class=anchor aria-hidden=true href=#8-ì‹¤ë¬´-ì‚¬ìš©-ì˜ˆì‹œ>#</a></h2><table><thead><tr><th>ì„œë¹„ìŠ¤ ëª©ì </th><th>êµ¬ì„± ìš”ì†Œ</th><th>ëª©í‘œ</th><th>íš¨ê³¼</th></tr></thead><tbody><tr><td>ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬</td><td>etcd/ZooKeeper + Ephemeral ZNode</td><td>ë™ì  ì„œë¹„ìŠ¤ ë“±ë¡/í•´ì œ ê°ì§€</td><td>ìë™ ì¬ì—°ê²°/ë¡œë“œë°¸ëŸ°ì„œ ì—…ë°ì´íŠ¸</td></tr><tr><td>ë¶„ì‚° ë½</td><td>ZNode sequence + watch</td><td>ë¦¬ì†ŒìŠ¤ ìƒí˜¸ ë°°ì œ ë™ì‹œ ì ‘ê·¼ ì œì–´</td><td>ê²½í•© ìµœì†Œí™”, ì•ˆì „í•œ ë½ í•´ì œ</td></tr><tr><td>ì„¤ì • ì¤‘ì•™ê´€ë¦¬</td><td>ZooKeeper íŠ¸ë¦¬ ì €ì¥ + watch</td><td>ì‹¤ì‹œê°„ ì„¤ì • ë³€ê²½ ë°˜ì˜</td><td>ë¹ ë¥¸ ë¡¤ì•„ì›ƒ, ì„¤ì • ì¼ê´€ì„± ìœ ì§€</td></tr><tr><td>ë¦¬ë” ì„ ì¶œ ë° ì¥ì•  ë³µêµ¬</td><td>Paxos/Raft ê¸°ë°˜ Coordination</td><td>ë¶„ì‚° ì¤‘ leader ìë™ ì„ ì¶œ</td><td>ê°€ìš©ì„± ë° ì¥ì•  ì‹œ ìë™ ì—­í•  ì¬ì¡°ì •</td></tr></tbody></table><hr><h2 id=9-í™œìš©-ì‚¬ë¡€-ì„œë¹„ìŠ¤-ë””ìŠ¤ì»¤ë²„ë¦¬-zookeeper-ê¸°ë°˜>9. í™œìš© ì‚¬ë¡€: ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬ (ZooKeeper ê¸°ë°˜)<a hidden class=anchor aria-hidden=true href=#9-í™œìš©-ì‚¬ë¡€-ì„œë¹„ìŠ¤-ë””ìŠ¤ì»¤ë²„ë¦¬-zookeeper-ê¸°ë°˜>#</a></h2><h3 id=ì‹œë‚˜ë¦¬ì˜¤>ì‹œë‚˜ë¦¬ì˜¤<a hidden class=anchor aria-hidden=true href=#ì‹œë‚˜ë¦¬ì˜¤>#</a></h3><p>ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ A, B, C ê°€ ZooKeeper ë¥¼ í†µí•´ ì„œë¡œë¥¼ ë°œê²¬ (Discover) í•˜ê³  í†µì‹ .</p><h3 id=êµ¬ì„±ë„-mermaid>êµ¬ì„±ë„ (mermaid)<a hidden class=anchor aria-hidden=true href=#êµ¬ì„±ë„-mermaid>#</a></h3><pre class=mermaid>flowchart LR
  subgraph ZooKeeper-Ensemble
    Z1[Leader]
    Z2[Follower]
    Z3[Follower]
  end
  ServiceA --&gt; Zk(creates /services/A/1)
  ServiceB --&gt; Zk(creates /services/B/1)
  ServiceC --&gt; Zk(watches /services)
  Z2 -- Notify --&gt; ServiceC
</pre><h3 id=workflow>Workflow<a hidden class=anchor aria-hidden=true href=#workflow>#</a></h3><ol><li>A, B ê°€ <code>/services/A/1</code>, <code>/services/B/1</code> Ephemeral ZNode ë“±ë¡</li><li>C ëŠ” <code>/services</code> ë””ë ‰í† ë¦¬ë¥¼ watch</li><li>A ë˜ëŠ” B ì‹œì‘/ì¢…ë£Œ ì‹œ C ëŠ” ì´ë²¤íŠ¸ ìˆ˜ì‹ </li><li>C ëŠ” ì„œë¹„ìŠ¤ ì£¼ì†Œë¥¼ ì—…ë°ì´íŠ¸í•˜ê³  consumer or router ì— ë°˜ì˜</li></ol><h3 id=ì—­í• >ì—­í• <a hidden class=anchor aria-hidden=true href=#ì—­í• >#</a></h3><ul><li><strong>Ephemeral ZNode</strong>: ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ registry</li><li><strong>Watcher</strong>: ë™ì  ì„œë¹„ìŠ¤ íƒìƒ‰</li><li><strong>ì¿¼ëŸ¼ Root</strong>: ì¥ì•  ë°œìƒ ì‹œ ensemble ì—ì„œ ì„œë¹„ìŠ¤ ë³€ê²½ ê°€ìš© ë³´ì¥</li></ul><h3 id=ì°¨ì´>ì°¨ì´<a hidden class=anchor aria-hidden=true href=#ì°¨ì´>#</a></h3><ul><li>ë””ìŠ¤ì»¤ë²„ë¦¬ ê¸°ëŠ¥ ì œì™¸ ì‹œ C ëŠ” ìˆ˜ë™ ì¡°íšŒ í•„ìš” â†’ ìë™í™” ë¯¸ì§€ì›, ì¥ì•  ê°ì§€ ì§€ì—°</li></ul><h3 id=10-í™œìš©-ì‚¬ë¡€>10. í™œìš© ì‚¬ë¡€<a hidden class=anchor aria-hidden=true href=#10-í™œìš©-ì‚¬ë¡€>#</a></h3><h4 id=ì‚¬ë¡€-ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤-í™˜ê²½ì—ì„œ-zookeeper-ë¥¼-í†µí•œ-ì„œë¹„ìŠ¤-ë””ìŠ¤ì»¤ë²„ë¦¬-ë°-ë¦¬ë”-ì„ ì¶œ>ì‚¬ë¡€: ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í™˜ê²½ì—ì„œ ZooKeeper ë¥¼ í†µí•œ ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬ ë° ë¦¬ë” ì„ ì¶œ<a hidden class=anchor aria-hidden=true href=#ì‚¬ë¡€-ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤-í™˜ê²½ì—ì„œ-zookeeper-ë¥¼-í†µí•œ-ì„œë¹„ìŠ¤-ë””ìŠ¤ì»¤ë²„ë¦¬-ë°-ë¦¬ë”-ì„ ì¶œ>#</a></h4><ul><li><strong>ì‹œìŠ¤í…œ êµ¬ì„±</strong>: ì—¬ëŸ¬ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì¸ìŠ¤í„´ìŠ¤, ZooKeeper í´ëŸ¬ìŠ¤í„°, í´ë¼ì´ì–¸íŠ¸</li><li><strong>ì›Œí¬í”Œë¡œìš°</strong>:<ol><li>ê° ì„œë¹„ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ê°€ ZooKeeper ì— ìì‹ ì˜ ìƒíƒœ ë“±ë¡</li><li>ZooKeeper ê°€ ì„œë¹„ìŠ¤ ìƒíƒœë¥¼ ëª¨ë‹ˆí„°ë§í•˜ë©°, ì¥ì•  ë°œìƒ ì‹œ ìë™ìœ¼ë¡œ ë¦¬ë” ì„ ì¶œ</li><li>í´ë¼ì´ì–¸íŠ¸ëŠ” ZooKeeper ë¥¼ í†µí•´ í˜„ì¬ ê°€ìš©í•œ ì„œë¹„ìŠ¤ ëª©ë¡ì„ ì¡°íšŒ</li></ol></li><li><strong>ë‹¤ì´ì–´ê·¸ë¨</strong>:</li></ul><pre class=mermaid>graph LR
    S1[Service 1] --&gt; ZK[ZooKeeper]
    S2[Service 2] --&gt; ZK
    S3[Service 3] --&gt; ZK
    ZK --&gt; C[Client]
</pre><ul><li><strong>ì£¼ì œì˜ ì—­í• </strong>: ì„œë¹„ìŠ¤ ìƒíƒœ ë™ê¸°í™”, ì¥ì•  ì‹œ ë¦¬ë” ìë™ ì„ ì¶œ, ì„œë¹„ìŠ¤ ëª©ë¡ ì œê³µ</li><li><strong>ìœ ë¬´ ì°¨ì´</strong>: ë¶„ì‚° ì½”ë””ë„¤ì´ì…˜ì´ ì—†ìœ¼ë©´ ì„œë¹„ìŠ¤ ì¥ì•  ì‹œ ìˆ˜ë™ ë³µêµ¬ í•„ìš”, ì¼ê´€ì„± ì €í•˜</li></ul><h4 id=613-í™œìš©-ì‚¬ë¡€>6.13 í™œìš© ì‚¬ë¡€<a hidden class=anchor aria-hidden=true href=#613-í™œìš©-ì‚¬ë¡€>#</a></h4><p><strong>Apache Kafka ì˜ ë¶„ì‚° ì¡°ì • í™œìš©</strong></p><p>Kafka ëŠ” ëŒ€ê·œëª¨ ì‹¤ì‹œê°„ ë°ì´í„° ìŠ¤íŠ¸ë¦¬ë°ì„ ìœ„í•´ ë¶„ì‚° ì¡°ì •ì„ í•µì‹¬ì ìœ¼ë¡œ í™œìš©í•©ë‹ˆë‹¤.</p><p><strong>ì‹œìŠ¤í…œ êµ¬ì„±:</strong></p><ul><li>Kafka Cluster: ì—¬ëŸ¬ ë¸Œë¡œì»¤ ë…¸ë“œë¡œ êµ¬ì„±</li><li>Zookeeper Ensemble: ë©”íƒ€ë°ì´í„° ê´€ë¦¬ ë° ì¡°ì • ì„œë¹„ìŠ¤</li><li>Producer/Consumer: ë°ì´í„° ìƒì‚°/ì†Œë¹„ í´ë¼ì´ì–¸íŠ¸</li></ul><p><strong>ì‹œìŠ¤í…œ êµ¬ì„± ë‹¤ì´ì–´ê·¸ë¨:</strong></p><pre class=mermaid>graph TB
    subgraph &#34;Kafka í´ëŸ¬ìŠ¤í„°&#34;
        B1[Broker 1&lt;br/&gt;Leader for P1]
        B2[Broker 2&lt;br/&gt;Leader for P2]
        B3[Broker 3&lt;br/&gt;Follower]
    end
    
    subgraph &#34;Zookeeper ì•™ìƒë¸”&#34;
        Z1[Zookeeper 1]
        Z2[Zookeeper 2] 
        Z3[Zookeeper 3]
    end
    
    subgraph &#34;í´ë¼ì´ì–¸íŠ¸&#34;
        P[Producer]
        C[Consumer]
    end
    
    B1 &lt;--&gt; Z1
    B2 &lt;--&gt; Z2
    B3 &lt;--&gt; Z3
    Z1 &lt;--&gt; Z2
    Z2 &lt;--&gt; Z3
    Z3 &lt;--&gt; Z1
    
    P --&gt; B1
    P --&gt; B2
    B1 --&gt; C
    B2 --&gt; C
</pre><p><strong>í™œìš© ì‚¬ë¡€ Workflow:</strong></p><pre class=mermaid>sequenceDiagram
    participant P as Producer
    participant B1 as Broker 1 (Leader)
    participant B2 as Broker 2 (Follower)
    participant Z as Zookeeper
    participant C as Consumer

    Note over P,C: Kafka ë¶„ì‚° ì¡°ì • ì›Œí¬í”Œë¡œìš°
    
    P-&gt;&gt;Z: ë©”íƒ€ë°ì´í„° ìš”ì²­
    Z-&gt;&gt;P: íŒŒí‹°ì…˜ ë¦¬ë” ì •ë³´ ë°˜í™˜
    
    P-&gt;&gt;B1: ë©”ì‹œì§€ ì „ì†¡
    B1-&gt;&gt;B2: ë³µì œ ë™ê¸°í™”
    B2-&gt;&gt;B1: ACK
    B1-&gt;&gt;P: ì „ì†¡ ì™„ë£Œ
    
    Note over B1,B2: ë¦¬ë” ì¥ì•  ì‹œ
    B1--XB2: ì—°ê²° ëŠì–´ì§
    B2-&gt;&gt;Z: ë¦¬ë” ì¥ì•  ê°ì§€
    Z-&gt;&gt;B2: ìƒˆ ë¦¬ë”ë¡œ ì„ ì¶œ
    
    C-&gt;&gt;Z: ìƒˆ ë¦¬ë” ì •ë³´ ìš”ì²­
    Z-&gt;&gt;C: ì—…ë°ì´íŠ¸ëœ ë©”íƒ€ë°ì´í„°
    C-&gt;&gt;B2: ë©”ì‹œì§€ ì†Œë¹„
</pre><p><strong>ë¶„ì‚° ì¡°ì •ì˜ ì—­í• :</strong></p><ol><li><strong>ë¦¬ë” ì„ ì¶œ</strong>: ê° íŒŒí‹°ì…˜ì˜ ë¦¬ë” ë¸Œë¡œì»¤ ê²°ì •</li><li><strong>ë©”íƒ€ë°ì´í„° ì¼ê´€ì„±</strong>: í† í”½, íŒŒí‹°ì…˜ ì •ë³´ ë™ê¸°í™”</li><li><strong>ì¥ì•  ë³µêµ¬</strong>: ë¸Œë¡œì»¤ ì¥ì•  ì‹œ ìë™ failover</li><li><strong>ë¶€í•˜ ë¶„ì‚°</strong>: íŒŒí‹°ì…˜ ì¬ë¶„ë°°ë¥¼ í†µí•œ ê· ë“± ë¶„ì‚°</li></ol><p><strong>ë¶„ì‚° ì¡°ì • ìœ ë¬´ì— ë”°ë¥¸ ì°¨ì´ì :</strong></p><table><thead><tr><th>êµ¬ë¶„</th><th>ë¶„ì‚° ì¡°ì • ì ìš©</th><th>ë¶„ì‚° ì¡°ì • ë¯¸ì ìš©</th></tr></thead><tbody><tr><td><strong>ê°€ìš©ì„±</strong></td><td>ë¸Œë¡œì»¤ ì¥ì•  ì‹œ ìë™ ë³µêµ¬</td><td>ìˆ˜ë™ ê°œì… í•„ìš”, ì„œë¹„ìŠ¤ ì¤‘ë‹¨</td></tr><tr><td><strong>ì¼ê´€ì„±</strong></td><td>ë©”íƒ€ë°ì´í„° ìë™ ë™ê¸°í™”</td><td>ë°ì´í„° ë¶ˆì¼ì¹˜ ê°€ëŠ¥ì„±</td></tr><tr><td><strong>í™•ì¥ì„±</strong></td><td>ë™ì  ë¸Œë¡œì»¤ ì¶”ê°€/ì œê±°</td><td>ì •ì  êµ¬ì„±ë§Œ ì§€ì›</td></tr><tr><td><strong>ì„±ëŠ¥</strong></td><td>ìµœì í™”ëœ íŒŒí‹°ì…˜ ë¶„ë°°</td><td>ìˆ˜ë™ íŠœë‹ í•„ìš”</td></tr></tbody></table><h4 id=614-êµ¬í˜„-ì˜ˆì‹œ>6.14 êµ¬í˜„ ì˜ˆì‹œ<a hidden class=anchor aria-hidden=true href=#614-êµ¬í˜„-ì˜ˆì‹œ>#</a></h4><p>ë‹¤ìŒì€ Kafka ì™€ ìœ ì‚¬í•œ ë¶„ì‚° ë©”ì‹œì§€ ë¸Œë¡œì»¤ì—ì„œ ë¦¬ë” ì„ ì¶œì„ êµ¬í˜„í•˜ëŠ” Python ì˜ˆì œì…ë‹ˆë‹¤:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1>  1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2>  2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3>  3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4>  4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5>  5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6>  6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7>  7</a>
</span><span class=lnt id=hl-15-8><a class=lnlinks href=#hl-15-8>  8</a>
</span><span class=lnt id=hl-15-9><a class=lnlinks href=#hl-15-9>  9</a>
</span><span class=lnt id=hl-15-10><a class=lnlinks href=#hl-15-10> 10</a>
</span><span class=lnt id=hl-15-11><a class=lnlinks href=#hl-15-11> 11</a>
</span><span class=lnt id=hl-15-12><a class=lnlinks href=#hl-15-12> 12</a>
</span><span class=lnt id=hl-15-13><a class=lnlinks href=#hl-15-13> 13</a>
</span><span class=lnt id=hl-15-14><a class=lnlinks href=#hl-15-14> 14</a>
</span><span class=lnt id=hl-15-15><a class=lnlinks href=#hl-15-15> 15</a>
</span><span class=lnt id=hl-15-16><a class=lnlinks href=#hl-15-16> 16</a>
</span><span class=lnt id=hl-15-17><a class=lnlinks href=#hl-15-17> 17</a>
</span><span class=lnt id=hl-15-18><a class=lnlinks href=#hl-15-18> 18</a>
</span><span class=lnt id=hl-15-19><a class=lnlinks href=#hl-15-19> 19</a>
</span><span class=lnt id=hl-15-20><a class=lnlinks href=#hl-15-20> 20</a>
</span><span class=lnt id=hl-15-21><a class=lnlinks href=#hl-15-21> 21</a>
</span><span class=lnt id=hl-15-22><a class=lnlinks href=#hl-15-22> 22</a>
</span><span class=lnt id=hl-15-23><a class=lnlinks href=#hl-15-23> 23</a>
</span><span class=lnt id=hl-15-24><a class=lnlinks href=#hl-15-24> 24</a>
</span><span class=lnt id=hl-15-25><a class=lnlinks href=#hl-15-25> 25</a>
</span><span class=lnt id=hl-15-26><a class=lnlinks href=#hl-15-26> 26</a>
</span><span class=lnt id=hl-15-27><a class=lnlinks href=#hl-15-27> 27</a>
</span><span class=lnt id=hl-15-28><a class=lnlinks href=#hl-15-28> 28</a>
</span><span class=lnt id=hl-15-29><a class=lnlinks href=#hl-15-29> 29</a>
</span><span class=lnt id=hl-15-30><a class=lnlinks href=#hl-15-30> 30</a>
</span><span class=lnt id=hl-15-31><a class=lnlinks href=#hl-15-31> 31</a>
</span><span class=lnt id=hl-15-32><a class=lnlinks href=#hl-15-32> 32</a>
</span><span class=lnt id=hl-15-33><a class=lnlinks href=#hl-15-33> 33</a>
</span><span class=lnt id=hl-15-34><a class=lnlinks href=#hl-15-34> 34</a>
</span><span class=lnt id=hl-15-35><a class=lnlinks href=#hl-15-35> 35</a>
</span><span class=lnt id=hl-15-36><a class=lnlinks href=#hl-15-36> 36</a>
</span><span class=lnt id=hl-15-37><a class=lnlinks href=#hl-15-37> 37</a>
</span><span class=lnt id=hl-15-38><a class=lnlinks href=#hl-15-38> 38</a>
</span><span class=lnt id=hl-15-39><a class=lnlinks href=#hl-15-39> 39</a>
</span><span class=lnt id=hl-15-40><a class=lnlinks href=#hl-15-40> 40</a>
</span><span class=lnt id=hl-15-41><a class=lnlinks href=#hl-15-41> 41</a>
</span><span class=lnt id=hl-15-42><a class=lnlinks href=#hl-15-42> 42</a>
</span><span class=lnt id=hl-15-43><a class=lnlinks href=#hl-15-43> 43</a>
</span><span class=lnt id=hl-15-44><a class=lnlinks href=#hl-15-44> 44</a>
</span><span class=lnt id=hl-15-45><a class=lnlinks href=#hl-15-45> 45</a>
</span><span class=lnt id=hl-15-46><a class=lnlinks href=#hl-15-46> 46</a>
</span><span class=lnt id=hl-15-47><a class=lnlinks href=#hl-15-47> 47</a>
</span><span class=lnt id=hl-15-48><a class=lnlinks href=#hl-15-48> 48</a>
</span><span class=lnt id=hl-15-49><a class=lnlinks href=#hl-15-49> 49</a>
</span><span class=lnt id=hl-15-50><a class=lnlinks href=#hl-15-50> 50</a>
</span><span class=lnt id=hl-15-51><a class=lnlinks href=#hl-15-51> 51</a>
</span><span class=lnt id=hl-15-52><a class=lnlinks href=#hl-15-52> 52</a>
</span><span class=lnt id=hl-15-53><a class=lnlinks href=#hl-15-53> 53</a>
</span><span class=lnt id=hl-15-54><a class=lnlinks href=#hl-15-54> 54</a>
</span><span class=lnt id=hl-15-55><a class=lnlinks href=#hl-15-55> 55</a>
</span><span class=lnt id=hl-15-56><a class=lnlinks href=#hl-15-56> 56</a>
</span><span class=lnt id=hl-15-57><a class=lnlinks href=#hl-15-57> 57</a>
</span><span class=lnt id=hl-15-58><a class=lnlinks href=#hl-15-58> 58</a>
</span><span class=lnt id=hl-15-59><a class=lnlinks href=#hl-15-59> 59</a>
</span><span class=lnt id=hl-15-60><a class=lnlinks href=#hl-15-60> 60</a>
</span><span class=lnt id=hl-15-61><a class=lnlinks href=#hl-15-61> 61</a>
</span><span class=lnt id=hl-15-62><a class=lnlinks href=#hl-15-62> 62</a>
</span><span class=lnt id=hl-15-63><a class=lnlinks href=#hl-15-63> 63</a>
</span><span class=lnt id=hl-15-64><a class=lnlinks href=#hl-15-64> 64</a>
</span><span class=lnt id=hl-15-65><a class=lnlinks href=#hl-15-65> 65</a>
</span><span class=lnt id=hl-15-66><a class=lnlinks href=#hl-15-66> 66</a>
</span><span class=lnt id=hl-15-67><a class=lnlinks href=#hl-15-67> 67</a>
</span><span class=lnt id=hl-15-68><a class=lnlinks href=#hl-15-68> 68</a>
</span><span class=lnt id=hl-15-69><a class=lnlinks href=#hl-15-69> 69</a>
</span><span class=lnt id=hl-15-70><a class=lnlinks href=#hl-15-70> 70</a>
</span><span class=lnt id=hl-15-71><a class=lnlinks href=#hl-15-71> 71</a>
</span><span class=lnt id=hl-15-72><a class=lnlinks href=#hl-15-72> 72</a>
</span><span class=lnt id=hl-15-73><a class=lnlinks href=#hl-15-73> 73</a>
</span><span class=lnt id=hl-15-74><a class=lnlinks href=#hl-15-74> 74</a>
</span><span class=lnt id=hl-15-75><a class=lnlinks href=#hl-15-75> 75</a>
</span><span class=lnt id=hl-15-76><a class=lnlinks href=#hl-15-76> 76</a>
</span><span class=lnt id=hl-15-77><a class=lnlinks href=#hl-15-77> 77</a>
</span><span class=lnt id=hl-15-78><a class=lnlinks href=#hl-15-78> 78</a>
</span><span class=lnt id=hl-15-79><a class=lnlinks href=#hl-15-79> 79</a>
</span><span class=lnt id=hl-15-80><a class=lnlinks href=#hl-15-80> 80</a>
</span><span class=lnt id=hl-15-81><a class=lnlinks href=#hl-15-81> 81</a>
</span><span class=lnt id=hl-15-82><a class=lnlinks href=#hl-15-82> 82</a>
</span><span class=lnt id=hl-15-83><a class=lnlinks href=#hl-15-83> 83</a>
</span><span class=lnt id=hl-15-84><a class=lnlinks href=#hl-15-84> 84</a>
</span><span class=lnt id=hl-15-85><a class=lnlinks href=#hl-15-85> 85</a>
</span><span class=lnt id=hl-15-86><a class=lnlinks href=#hl-15-86> 86</a>
</span><span class=lnt id=hl-15-87><a class=lnlinks href=#hl-15-87> 87</a>
</span><span class=lnt id=hl-15-88><a class=lnlinks href=#hl-15-88> 88</a>
</span><span class=lnt id=hl-15-89><a class=lnlinks href=#hl-15-89> 89</a>
</span><span class=lnt id=hl-15-90><a class=lnlinks href=#hl-15-90> 90</a>
</span><span class=lnt id=hl-15-91><a class=lnlinks href=#hl-15-91> 91</a>
</span><span class=lnt id=hl-15-92><a class=lnlinks href=#hl-15-92> 92</a>
</span><span class=lnt id=hl-15-93><a class=lnlinks href=#hl-15-93> 93</a>
</span><span class=lnt id=hl-15-94><a class=lnlinks href=#hl-15-94> 94</a>
</span><span class=lnt id=hl-15-95><a class=lnlinks href=#hl-15-95> 95</a>
</span><span class=lnt id=hl-15-96><a class=lnlinks href=#hl-15-96> 96</a>
</span><span class=lnt id=hl-15-97><a class=lnlinks href=#hl-15-97> 97</a>
</span><span class=lnt id=hl-15-98><a class=lnlinks href=#hl-15-98> 98</a>
</span><span class=lnt id=hl-15-99><a class=lnlinks href=#hl-15-99> 99</a>
</span><span class=lnt id=hl-15-100><a class=lnlinks href=#hl-15-100>100</a>
</span><span class=lnt id=hl-15-101><a class=lnlinks href=#hl-15-101>101</a>
</span><span class=lnt id=hl-15-102><a class=lnlinks href=#hl-15-102>102</a>
</span><span class=lnt id=hl-15-103><a class=lnlinks href=#hl-15-103>103</a>
</span><span class=lnt id=hl-15-104><a class=lnlinks href=#hl-15-104>104</a>
</span><span class=lnt id=hl-15-105><a class=lnlinks href=#hl-15-105>105</a>
</span><span class=lnt id=hl-15-106><a class=lnlinks href=#hl-15-106>106</a>
</span><span class=lnt id=hl-15-107><a class=lnlinks href=#hl-15-107>107</a>
</span><span class=lnt id=hl-15-108><a class=lnlinks href=#hl-15-108>108</a>
</span><span class=lnt id=hl-15-109><a class=lnlinks href=#hl-15-109>109</a>
</span><span class=lnt id=hl-15-110><a class=lnlinks href=#hl-15-110>110</a>
</span><span class=lnt id=hl-15-111><a class=lnlinks href=#hl-15-111>111</a>
</span><span class=lnt id=hl-15-112><a class=lnlinks href=#hl-15-112>112</a>
</span><span class=lnt id=hl-15-113><a class=lnlinks href=#hl-15-113>113</a>
</span><span class=lnt id=hl-15-114><a class=lnlinks href=#hl-15-114>114</a>
</span><span class=lnt id=hl-15-115><a class=lnlinks href=#hl-15-115>115</a>
</span><span class=lnt id=hl-15-116><a class=lnlinks href=#hl-15-116>116</a>
</span><span class=lnt id=hl-15-117><a class=lnlinks href=#hl-15-117>117</a>
</span><span class=lnt id=hl-15-118><a class=lnlinks href=#hl-15-118>118</a>
</span><span class=lnt id=hl-15-119><a class=lnlinks href=#hl-15-119>119</a>
</span><span class=lnt id=hl-15-120><a class=lnlinks href=#hl-15-120>120</a>
</span><span class=lnt id=hl-15-121><a class=lnlinks href=#hl-15-121>121</a>
</span><span class=lnt id=hl-15-122><a class=lnlinks href=#hl-15-122>122</a>
</span><span class=lnt id=hl-15-123><a class=lnlinks href=#hl-15-123>123</a>
</span><span class=lnt id=hl-15-124><a class=lnlinks href=#hl-15-124>124</a>
</span><span class=lnt id=hl-15-125><a class=lnlinks href=#hl-15-125>125</a>
</span><span class=lnt id=hl-15-126><a class=lnlinks href=#hl-15-126>126</a>
</span><span class=lnt id=hl-15-127><a class=lnlinks href=#hl-15-127>127</a>
</span><span class=lnt id=hl-15-128><a class=lnlinks href=#hl-15-128>128</a>
</span><span class=lnt id=hl-15-129><a class=lnlinks href=#hl-15-129>129</a>
</span><span class=lnt id=hl-15-130><a class=lnlinks href=#hl-15-130>130</a>
</span><span class=lnt id=hl-15-131><a class=lnlinks href=#hl-15-131>131</a>
</span><span class=lnt id=hl-15-132><a class=lnlinks href=#hl-15-132>132</a>
</span><span class=lnt id=hl-15-133><a class=lnlinks href=#hl-15-133>133</a>
</span><span class=lnt id=hl-15-134><a class=lnlinks href=#hl-15-134>134</a>
</span><span class=lnt id=hl-15-135><a class=lnlinks href=#hl-15-135>135</a>
</span><span class=lnt id=hl-15-136><a class=lnlinks href=#hl-15-136>136</a>
</span><span class=lnt id=hl-15-137><a class=lnlinks href=#hl-15-137>137</a>
</span><span class=lnt id=hl-15-138><a class=lnlinks href=#hl-15-138>138</a>
</span><span class=lnt id=hl-15-139><a class=lnlinks href=#hl-15-139>139</a>
</span><span class=lnt id=hl-15-140><a class=lnlinks href=#hl-15-140>140</a>
</span><span class=lnt id=hl-15-141><a class=lnlinks href=#hl-15-141>141</a>
</span><span class=lnt id=hl-15-142><a class=lnlinks href=#hl-15-142>142</a>
</span><span class=lnt id=hl-15-143><a class=lnlinks href=#hl-15-143>143</a>
</span><span class=lnt id=hl-15-144><a class=lnlinks href=#hl-15-144>144</a>
</span><span class=lnt id=hl-15-145><a class=lnlinks href=#hl-15-145>145</a>
</span><span class=lnt id=hl-15-146><a class=lnlinks href=#hl-15-146>146</a>
</span><span class=lnt id=hl-15-147><a class=lnlinks href=#hl-15-147>147</a>
</span><span class=lnt id=hl-15-148><a class=lnlinks href=#hl-15-148>148</a>
</span><span class=lnt id=hl-15-149><a class=lnlinks href=#hl-15-149>149</a>
</span><span class=lnt id=hl-15-150><a class=lnlinks href=#hl-15-150>150</a>
</span><span class=lnt id=hl-15-151><a class=lnlinks href=#hl-15-151>151</a>
</span><span class=lnt id=hl-15-152><a class=lnlinks href=#hl-15-152>152</a>
</span><span class=lnt id=hl-15-153><a class=lnlinks href=#hl-15-153>153</a>
</span><span class=lnt id=hl-15-154><a class=lnlinks href=#hl-15-154>154</a>
</span><span class=lnt id=hl-15-155><a class=lnlinks href=#hl-15-155>155</a>
</span><span class=lnt id=hl-15-156><a class=lnlinks href=#hl-15-156>156</a>
</span><span class=lnt id=hl-15-157><a class=lnlinks href=#hl-15-157>157</a>
</span><span class=lnt id=hl-15-158><a class=lnlinks href=#hl-15-158>158</a>
</span><span class=lnt id=hl-15-159><a class=lnlinks href=#hl-15-159>159</a>
</span><span class=lnt id=hl-15-160><a class=lnlinks href=#hl-15-160>160</a>
</span><span class=lnt id=hl-15-161><a class=lnlinks href=#hl-15-161>161</a>
</span><span class=lnt id=hl-15-162><a class=lnlinks href=#hl-15-162>162</a>
</span><span class=lnt id=hl-15-163><a class=lnlinks href=#hl-15-163>163</a>
</span><span class=lnt id=hl-15-164><a class=lnlinks href=#hl-15-164>164</a>
</span><span class=lnt id=hl-15-165><a class=lnlinks href=#hl-15-165>165</a>
</span><span class=lnt id=hl-15-166><a class=lnlinks href=#hl-15-166>166</a>
</span><span class=lnt id=hl-15-167><a class=lnlinks href=#hl-15-167>167</a>
</span><span class=lnt id=hl-15-168><a class=lnlinks href=#hl-15-168>168</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>threading</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>random</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>enum</span> <span class=kn>import</span> <span class=n>Enum</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Dict</span><span class=p>,</span> <span class=n>List</span><span class=p>,</span> <span class=n>Optional</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>NodeState</span><span class=p>(</span><span class=n>Enum</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;ë…¸ë“œ ìƒíƒœ ì •ì˜&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>FOLLOWER</span> <span class=o>=</span> <span class=s2>&#34;follower&#34;</span>      <span class=c1># íŒ”ë¡œì›Œ ìƒíƒœ</span>
</span></span><span class=line><span class=cl>    <span class=n>CANDIDATE</span> <span class=o>=</span> <span class=s2>&#34;candidate&#34;</span>    <span class=c1># í›„ë³´ì ìƒíƒœ  </span>
</span></span><span class=line><span class=cl>    <span class=n>LEADER</span> <span class=o>=</span> <span class=s2>&#34;leader&#34;</span>         <span class=c1># ë¦¬ë” ìƒíƒœ</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DistributedBroker</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;ë¶„ì‚° ë©”ì‹œì§€ ë¸Œë¡œì»¤ì˜ ë¶„ì‚° ì¡°ì • êµ¬í˜„&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>node_id</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>cluster_nodes</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>node_id</span> <span class=o>=</span> <span class=n>node_id</span>                    <span class=c1># í˜„ì¬ ë…¸ë“œ ID</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>cluster_nodes</span> <span class=o>=</span> <span class=n>cluster_nodes</span>        <span class=c1># í´ëŸ¬ìŠ¤í„° ë‚´ ëª¨ë“  ë…¸ë“œ ID</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>state</span> <span class=o>=</span> <span class=n>NodeState</span><span class=o>.</span><span class=n>FOLLOWER</span>          <span class=c1># ì´ˆê¸° ìƒíƒœëŠ” íŒ”ë¡œì›Œ</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>current_term</span> <span class=o>=</span> <span class=mi>0</span>                    <span class=c1># í˜„ì¬ ì„ ì¶œ ì£¼ê¸°</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>voted_for</span> <span class=o>=</span> <span class=kc>None</span>                    <span class=c1># íˆ¬í‘œí•œ í›„ë³´</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>leader_id</span> <span class=o>=</span> <span class=kc>None</span>                    <span class=c1># í˜„ì¬ ë¦¬ë” ID</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>last_heartbeat</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>        <span class=c1># ë§ˆì§€ë§‰ í•˜íŠ¸ë¹„íŠ¸ ì‹œê°„</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>election_timeout</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>uniform</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>10</span><span class=p>)</span>  <span class=c1># ì„ ì¶œ íƒ€ì„ì•„ì›ƒ (ì´ˆ)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>heartbeat_interval</span> <span class=o>=</span> <span class=mi>2</span>              <span class=c1># í•˜íŠ¸ë¹„íŠ¸ ê°„ê²© (ì´ˆ)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>votes_received</span> <span class=o>=</span> <span class=mi>0</span>                  <span class=c1># ë°›ì€ íˆ¬í‘œ ìˆ˜</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>running</span> <span class=o>=</span> <span class=kc>False</span>                     <span class=c1># ì‹¤í–‰ ìƒíƒœ</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>start</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;ë¸Œë¡œì»¤ ë…¸ë“œ ì‹œì‘&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>running</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>last_heartbeat</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì—ì„œ ì„ ì¶œ íƒ€ì´ë¨¸ ì‹¤í–‰</span>
</span></span><span class=line><span class=cl>        <span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>_election_timer</span><span class=p>,</span> <span class=n>daemon</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[Node </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>node_id</span><span class=si>}</span><span class=s2>] ë¸Œë¡œì»¤ ì‹œì‘ë¨ - ìƒíƒœ: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>state</span><span class=o>.</span><span class=n>value</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_election_timer</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;ì„ ì¶œ íƒ€ì´ë¨¸ - ë¦¬ë” ë¶€ì¬ ì‹œ ìƒˆ ì„ ì¶œ ì‹œì‘&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=bp>self</span><span class=o>.</span><span class=n>running</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># íŒ”ë¡œì›Œì´ê³  í•˜íŠ¸ë¹„íŠ¸ íƒ€ì„ì•„ì›ƒ ë°œìƒ ì‹œ ì„ ì¶œ ì‹œì‘</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>state</span> <span class=o>==</span> <span class=n>NodeState</span><span class=o>.</span><span class=n>FOLLOWER</span> <span class=ow>and</span> 
</span></span><span class=line><span class=cl>                <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=bp>self</span><span class=o>.</span><span class=n>last_heartbeat</span> <span class=o>&gt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>election_timeout</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>_start_election</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_start_election</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;ìƒˆë¡œìš´ ë¦¬ë” ì„ ì¶œ ì‹œì‘&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>state</span> <span class=o>=</span> <span class=n>NodeState</span><span class=o>.</span><span class=n>CANDIDATE</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>current_term</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>voted_for</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>node_id</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>votes_received</span> <span class=o>=</span> <span class=mi>1</span>  <span class=c1># ìì‹ ì—ê²Œ íˆ¬í‘œ</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[Node </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>node_id</span><span class=si>}</span><span class=s2>] ì„ ì¶œ ì‹œì‘ - Term: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>current_term</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># ë‹¤ë¥¸ ë…¸ë“œë“¤ì—ê²Œ íˆ¬í‘œ ìš”ì²­</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>node_id</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>cluster_nodes</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>node_id</span> <span class=o>!=</span> <span class=bp>self</span><span class=o>.</span><span class=n>node_id</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>_request_vote</span><span class=p>(</span><span class=n>node_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># ê³¼ë°˜ìˆ˜ ë“í‘œ ì‹œ ë¦¬ë”ê°€ ë¨</span>
</span></span><span class=line><span class=cl>        <span class=n>majority</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>cluster_nodes</span><span class=p>)</span> <span class=o>//</span> <span class=mi>2</span> <span class=o>+</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>votes_received</span> <span class=o>&gt;=</span> <span class=n>majority</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>_become_leader</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_request_vote</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>target_node</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;ë‹¤ë¥¸ ë…¸ë“œì—ê²Œ íˆ¬í‘œ ìš”ì²­ (ì‹¤ì œë¡œëŠ” ë„¤íŠ¸ì›Œí¬ í†µì‹ )&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ íˆ¬í‘œ ìš”ì²­ ë©”ì‹œì§€ ì „ì†¡</span>
</span></span><span class=line><span class=cl>        <span class=c1># ì—¬ê¸°ì„œëŠ” ì‹œë®¬ë ˆì´ì…˜ì„ ìœ„í•´ í™•ë¥ ì ìœ¼ë¡œ íˆ¬í‘œ ìŠ¹ì¸</span>
</span></span><span class=line><span class=cl>        <span class=n>vote_granted</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>choice</span><span class=p>([</span><span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>vote_granted</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>votes_received</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[Node </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>node_id</span><span class=si>}</span><span class=s2>] Node </span><span class=si>{</span><span class=n>target_node</span><span class=si>}</span><span class=s2>ë¡œë¶€í„° íˆ¬í‘œ íšë“&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_become_leader</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;ë¦¬ë”ë¡œ ìƒíƒœ ë³€ê²½&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>state</span> <span class=o>=</span> <span class=n>NodeState</span><span class=o>.</span><span class=n>LEADER</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>leader_id</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>node_id</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[Node </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>node_id</span><span class=si>}</span><span class=s2>] ë¦¬ë”ë¡œ ì„ ì¶œë¨! Term: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>current_term</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># ë¦¬ë”ëŠ” ì£¼ê¸°ì ìœ¼ë¡œ í•˜íŠ¸ë¹„íŠ¸ ì „ì†¡</span>
</span></span><span class=line><span class=cl>        <span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>_send_heartbeat</span><span class=p>,</span> <span class=n>daemon</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_send_heartbeat</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;ë¦¬ë”ê°€ íŒ”ë¡œì›Œë“¤ì—ê²Œ í•˜íŠ¸ë¹„íŠ¸ ì „ì†¡&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=bp>self</span><span class=o>.</span><span class=n>running</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>state</span> <span class=o>==</span> <span class=n>NodeState</span><span class=o>.</span><span class=n>LEADER</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># ëª¨ë“  íŒ”ë¡œì›Œì—ê²Œ í•˜íŠ¸ë¹„íŠ¸ ì „ì†¡</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>node_id</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>cluster_nodes</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>node_id</span> <span class=o>!=</span> <span class=bp>self</span><span class=o>.</span><span class=n>node_id</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=bp>self</span><span class=o>.</span><span class=n>_send_heartbeat_to_node</span><span class=p>(</span><span class=n>node_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>heartbeat_interval</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_send_heartbeat_to_node</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>target_node</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;íŠ¹ì • ë…¸ë“œì—ê²Œ í•˜íŠ¸ë¹„íŠ¸ ì „ì†¡&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[Node </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>node_id</span><span class=si>}</span><span class=s2>] í•˜íŠ¸ë¹„íŠ¸ ì „ì†¡ -&gt; Node </span><span class=si>{</span><span class=n>target_node</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># ì‹¤ì œë¡œëŠ” ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ í•˜íŠ¸ë¹„íŠ¸ ë©”ì‹œì§€ ì „ì†¡</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>receive_heartbeat</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>leader_id</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>term</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;ë‹¤ë¥¸ ë…¸ë“œë¡œë¶€í„° í•˜íŠ¸ë¹„íŠ¸ ìˆ˜ì‹ &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>term</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>current_term</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>current_term</span> <span class=o>=</span> <span class=n>term</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>state</span> <span class=o>=</span> <span class=n>NodeState</span><span class=o>.</span><span class=n>FOLLOWER</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>leader_id</span> <span class=o>=</span> <span class=n>leader_id</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>last_heartbeat</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>voted_for</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[Node </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>node_id</span><span class=si>}</span><span class=s2>] ë¦¬ë” </span><span class=si>{</span><span class=n>leader_id</span><span class=si>}</span><span class=s2>ë¡œë¶€í„° í•˜íŠ¸ë¹„íŠ¸ ìˆ˜ì‹ &#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>handle_partition_request</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>topic</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>partition</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>message</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;íŒŒí‹°ì…˜ ë©”ì‹œì§€ ì²˜ë¦¬ (ë¦¬ë”ë§Œ ì²˜ë¦¬ ê°€ëŠ¥)&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>state</span> <span class=o>!=</span> <span class=n>NodeState</span><span class=o>.</span><span class=n>LEADER</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;error&#34;</span><span class=p>:</span> <span class=s2>&#34;Not a leader&#34;</span><span class=p>,</span> <span class=s2>&#34;leader_id&#34;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>leader_id</span><span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># ë¦¬ë”ë§Œ ë©”ì‹œì§€ ì²˜ë¦¬ ë° íŒ”ë¡œì›Œë“¤ì—ê²Œ ë³µì œ</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[Node </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>node_id</span><span class=si>}</span><span class=s2>] ë©”ì‹œì§€ ì²˜ë¦¬: </span><span class=si>{</span><span class=n>topic</span><span class=si>}</span><span class=s2>:</span><span class=si>{</span><span class=n>partition</span><span class=si>}</span><span class=s2> -&gt; </span><span class=si>{</span><span class=n>message</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># íŒ”ë¡œì›Œë“¤ì—ê²Œ ë³µì œ ìš”ì²­</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_replicate_to_followers</span><span class=p>(</span><span class=n>topic</span><span class=p>,</span> <span class=n>partition</span><span class=p>,</span> <span class=n>message</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=s2>&#34;success&#34;</span><span class=p>,</span> <span class=s2>&#34;leader_id&#34;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>node_id</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_replicate_to_followers</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>topic</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>partition</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>message</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;íŒ”ë¡œì›Œ ë…¸ë“œë“¤ì—ê²Œ ë©”ì‹œì§€ ë³µì œ&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>node_id</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>cluster_nodes</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>node_id</span> <span class=o>!=</span> <span class=bp>self</span><span class=o>.</span><span class=n>node_id</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;[Node </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>node_id</span><span class=si>}</span><span class=s2>] ë³µì œ ì „ì†¡ -&gt; Node </span><span class=si>{</span><span class=n>node_id</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>message</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=c1># ì‹¤ì œë¡œëŠ” ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ë³µì œ ë©”ì‹œì§€ ì „ì†¡</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_cluster_status</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;í´ëŸ¬ìŠ¤í„° ìƒíƒœ ì •ë³´ ë°˜í™˜&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;node_id&#34;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>node_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;state&#34;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>state</span><span class=o>.</span><span class=n>value</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;term&#34;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>current_term</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;leader_id&#34;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>leader_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;cluster_size&#34;</span><span class=p>:</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>cluster_nodes</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ì‚¬ìš© ì˜ˆì‹œ</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># 3ë…¸ë“œ í´ëŸ¬ìŠ¤í„° ìƒì„±</span>
</span></span><span class=line><span class=cl>    <span class=n>cluster_nodes</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># ê° ë…¸ë“œ ìƒì„± ë° ì‹œì‘</span>
</span></span><span class=line><span class=cl>    <span class=n>brokers</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>node_id</span> <span class=ow>in</span> <span class=n>cluster_nodes</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>broker</span> <span class=o>=</span> <span class=n>DistributedBroker</span><span class=p>(</span><span class=n>node_id</span><span class=p>,</span> <span class=n>cluster_nodes</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>broker</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>brokers</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>broker</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰</span>
</span></span><span class=line><span class=cl>    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>15</span><span class=p>)</span>  <span class=c1># 15ì´ˆ ë™ì•ˆ ì‹¤í–‰</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># í´ëŸ¬ìŠ¤í„° ìƒíƒœ ì¶œë ¥</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>broker</span> <span class=ow>in</span> <span class=n>brokers</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>status</span> <span class=o>=</span> <span class=n>broker</span><span class=o>.</span><span class=n>get_cluster_status</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;ë…¸ë“œ </span><span class=si>{</span><span class=n>status</span><span class=p>[</span><span class=s1>&#39;node_id&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>status</span><span class=p>[</span><span class=s1>&#39;state&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2> (Term: </span><span class=si>{</span><span class=n>status</span><span class=p>[</span><span class=s1>&#39;term&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>, Leader: </span><span class=si>{</span><span class=n>status</span><span class=p>[</span><span class=s1>&#39;leader_id&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>)&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># ë¦¬ë”ì—ê²Œ ë©”ì‹œì§€ ì „ì†¡ í…ŒìŠ¤íŠ¸</span>
</span></span><span class=line><span class=cl>    <span class=n>leader_broker</span> <span class=o>=</span> <span class=nb>next</span><span class=p>((</span><span class=n>b</span> <span class=k>for</span> <span class=n>b</span> <span class=ow>in</span> <span class=n>brokers</span> <span class=k>if</span> <span class=n>b</span><span class=o>.</span><span class=n>state</span> <span class=o>==</span> <span class=n>NodeState</span><span class=o>.</span><span class=n>LEADER</span><span class=p>),</span> <span class=kc>None</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>leader_broker</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=n>leader_broker</span><span class=o>.</span><span class=n>handle_partition_request</span><span class=p>(</span><span class=s2>&#34;user-events&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=s2>&#34;User login event&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;ë©”ì‹œì§€ ì²˜ë¦¬ ê²°ê³¼: </span><span class=si>{</span><span class=n>result</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=10-êµ¬í˜„-ì˜ˆì‹œ-python>10. êµ¬í˜„ ì˜ˆì‹œ (Python)<a hidden class=anchor aria-hidden=true href=#10-êµ¬í˜„-ì˜ˆì‹œ-python>#</a></h2><p>ZooKeeper ê¸°ë°˜ ë¶„ì‚° ë½ ì˜ˆì‹œâ€”<code>kazoo</code> ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1> 1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2> 2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3> 3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4> 4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5> 5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6> 6</a>
</span><span class=lnt id=hl-16-7><a class=lnlinks href=#hl-16-7> 7</a>
</span><span class=lnt id=hl-16-8><a class=lnlinks href=#hl-16-8> 8</a>
</span><span class=lnt id=hl-16-9><a class=lnlinks href=#hl-16-9> 9</a>
</span><span class=lnt id=hl-16-10><a class=lnlinks href=#hl-16-10>10</a>
</span><span class=lnt id=hl-16-11><a class=lnlinks href=#hl-16-11>11</a>
</span><span class=lnt id=hl-16-12><a class=lnlinks href=#hl-16-12>12</a>
</span><span class=lnt id=hl-16-13><a class=lnlinks href=#hl-16-13>13</a>
</span><span class=lnt id=hl-16-14><a class=lnlinks href=#hl-16-14>14</a>
</span><span class=lnt id=hl-16-15><a class=lnlinks href=#hl-16-15>15</a>
</span><span class=lnt id=hl-16-16><a class=lnlinks href=#hl-16-16>16</a>
</span><span class=lnt id=hl-16-17><a class=lnlinks href=#hl-16-17>17</a>
</span><span class=lnt id=hl-16-18><a class=lnlinks href=#hl-16-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>kazoo.client</span> <span class=kn>import</span> <span class=n>KazooClient</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>kazoo.recipe.lock</span> <span class=kn>import</span> <span class=n>Lock</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>zk</span> <span class=o>=</span> <span class=n>KazooClient</span><span class=p>(</span><span class=n>hosts</span><span class=o>=</span><span class=s1>&#39;127.0.0.1:2181&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>zk</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>lock</span> <span class=o>=</span> <span class=n>Lock</span><span class=p>(</span><span class=n>zk</span><span class=p>,</span> <span class=s2>&#34;/distributed_lock/mylock&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>lock</span><span class=o>.</span><span class=n>acquire</span><span class=p>(</span><span class=n>timeout</span><span class=o>=</span><span class=mi>10</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># ì„ê³„ ì˜ì—­ ì‘ì—… ìˆ˜í–‰</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Lock acquired, critical task executing&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>finally</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>lock</span><span class=o>.</span><span class=n>release</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Lock released&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Timeout: Could not acquire lock&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>zk</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><code>kazoo</code> ì˜ <code>Lock</code> ì€ ë‚´ë¶€ì ìœ¼ë¡œ sequence znode ì™€ watch ë¥¼ ì‚¬ìš©í•˜ì—¬ <strong>fair, deadlock-free</strong> ë½ ì œê³µ</li><li>ì‹¤ë¬´ì—ì„œëŠ” ì¬ì‹œë„ ë¡œì§, íƒ€ì„ì•„ì›ƒ, ì˜ˆì™¸ ì²˜ë¦¬, ì„¸ì…˜ìœ ì§€/ì¬ì—°ê²° ê´€ë¦¬ë¥¼ ì¶”ê°€í•  ê²ƒì„ ê¶Œì¥</li></ul><h3 id=11-êµ¬í˜„-ì˜ˆì‹œ-python>11. êµ¬í˜„ ì˜ˆì‹œ (Python)<a hidden class=anchor aria-hidden=true href=#11-êµ¬í˜„-ì˜ˆì‹œ-python>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1> 1</a>
</span><span class=lnt id=hl-17-2><a class=lnlinks href=#hl-17-2> 2</a>
</span><span class=lnt id=hl-17-3><a class=lnlinks href=#hl-17-3> 3</a>
</span><span class=lnt id=hl-17-4><a class=lnlinks href=#hl-17-4> 4</a>
</span><span class=lnt id=hl-17-5><a class=lnlinks href=#hl-17-5> 5</a>
</span><span class=lnt id=hl-17-6><a class=lnlinks href=#hl-17-6> 6</a>
</span><span class=lnt id=hl-17-7><a class=lnlinks href=#hl-17-7> 7</a>
</span><span class=lnt id=hl-17-8><a class=lnlinks href=#hl-17-8> 8</a>
</span><span class=lnt id=hl-17-9><a class=lnlinks href=#hl-17-9> 9</a>
</span><span class=lnt id=hl-17-10><a class=lnlinks href=#hl-17-10>10</a>
</span><span class=lnt id=hl-17-11><a class=lnlinks href=#hl-17-11>11</a>
</span><span class=lnt id=hl-17-12><a class=lnlinks href=#hl-17-12>12</a>
</span><span class=lnt id=hl-17-13><a class=lnlinks href=#hl-17-13>13</a>
</span><span class=lnt id=hl-17-14><a class=lnlinks href=#hl-17-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># ZooKeeperë¥¼ ì´ìš©í•œ ë¶„ì‚° ë½ êµ¬í˜„ ì˜ˆì‹œ</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>kazoo.client</span> <span class=kn>import</span> <span class=n>KazooClient</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ZooKeeper ì„œë²„ ì—°ê²°</span>
</span></span><span class=line><span class=cl><span class=n>zk</span> <span class=o>=</span> <span class=n>KazooClient</span><span class=p>(</span><span class=n>hosts</span><span class=o>=</span><span class=s1>&#39;127.0.0.1:2181&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>zk</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ë¶„ì‚° ë½ íšë“</span>
</span></span><span class=line><span class=cl><span class=n>lock</span> <span class=o>=</span> <span class=n>zk</span><span class=o>.</span><span class=n>Lock</span><span class=p>(</span><span class=s2>&#34;/mylockpath&#34;</span><span class=p>,</span> <span class=s2>&#34;my-identifier&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=n>lock</span><span class=p>:</span>  <span class=c1># ë½ íšë“ ë° ìë™ í•´ì œ</span>
</span></span><span class=line><span class=cl>    <span class=c1># ë½ì´ ì¡íŒ ìƒíƒœì—ì„œ ì‹¤í–‰í•  ì½”ë“œ</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ì„ê³„êµ¬ì—­ ì§„ì…&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>zk</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p><em>ì„¤ëª…: Kazoo ëŠ” Python ìš© ZooKeeper í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬. ìœ„ ì½”ë“œëŠ” ë¶„ì‚° ë½ì„ íšë“í•˜ì—¬ ì„ê³„êµ¬ì—­ì„ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬í•˜ëŠ” ì˜ˆì‹œ.</em></p><h2 id=5-ì‹¤ë¬´-ì ìš©-ì‹œ-ì£¼ì˜ì‚¬í•­>5. ì‹¤ë¬´ ì ìš© ì‹œ ì£¼ì˜ì‚¬í•­<a hidden class=anchor aria-hidden=true href=#5-ì‹¤ë¬´-ì ìš©-ì‹œ-ì£¼ì˜ì‚¬í•­>#</a></h2><ul><li><strong>Ensemble í¬ê¸°</strong>: odd-number ìµœì†Œ 3, ì¥ì•  í—ˆìš© í•„ìš” ë…¸ë“œ ìˆ˜ â‰¥ quorum</li><li><strong>Client ì¬ì—°ê²° ëŒ€ì‘</strong>: ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ/ì¬ì—°ê²° ì‹œ ephemeral ZNode ì‚­ì œ ì£¼ì˜</li><li><strong>Watch ì²˜ë¦¬</strong>: ì¬ë“±ë¡ ë¡œì§ê³¼ ëˆ„ë½ ëŒ€ì‘ ì„¤ê³„ í•„ìˆ˜</li><li><strong>ë¹„ì¦ˆë‹ˆìŠ¤ ëª©ì ì— ì ì ˆí•œ consistency ì„¤ì •</strong>: ì½ê¸° ì¼ê´€ì„± ìš”êµ¬ ì‹œ leader í”½</li><li><strong>ë¡œê·¸ ìŠ¤ëƒ…ìƒ· ì£¼ê¸° ê´€ë¦¬</strong>: ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ ìµœì í™”, ë³µêµ¬ ì„±ëŠ¥ í™•ë³´</li></ul><h3 id=14-ì‹¤ë¬´ì—ì„œ-íš¨ê³¼ì ìœ¼ë¡œ-ì ìš©í•˜ê¸°-ìœ„í•œ-ê³ ë ¤ì‚¬í•­-ë°-ì£¼ì˜í• -ì >14. ì‹¤ë¬´ì—ì„œ íš¨ê³¼ì ìœ¼ë¡œ ì ìš©í•˜ê¸° ìœ„í•œ ê³ ë ¤ì‚¬í•­ ë° ì£¼ì˜í•  ì <a hidden class=anchor aria-hidden=true href=#14-ì‹¤ë¬´ì—ì„œ-íš¨ê³¼ì ìœ¼ë¡œ-ì ìš©í•˜ê¸°-ìœ„í•œ-ê³ ë ¤ì‚¬í•­-ë°-ì£¼ì˜í• -ì >#</a></h3><table><thead><tr><th>í•­ëª©</th><th>ì„¤ëª…</th><th>ê¶Œì¥ì‚¬í•­</th></tr></thead><tbody><tr><td>ë…¸ë“œ ìˆ˜</td><td>ê³¼ë„í•œ ë…¸ë“œ ì¦ê°€ëŠ” ì„±ëŠ¥ ì €í•˜</td><td>ìµœì  ë…¸ë“œ ìˆ˜ ìœ ì§€</td></tr><tr><td>ë„¤íŠ¸ì›Œí¬ í’ˆì§ˆ</td><td>ì§€ì—° ë° íŒ¨í‚· ì†ì‹¤ ìµœì†Œí™”</td><td>ì „ìš© ë„¤íŠ¸ì›Œí¬ ì‚¬ìš©</td></tr><tr><td>ì¥ì•  ëŒ€ì‘</td><td>ìë™í™”ëœ ì¥ì•  ê°ì§€ ë° ë³µêµ¬</td><td>í—¬ìŠ¤ ì²´í¬, ìë™ ë¦¬ë” ì„ ì¶œ</td></tr></tbody></table><h3 id=a-ì ìš©-ê³ ë ¤ì‚¬í•­>A. ì ìš© ê³ ë ¤ì‚¬í•­<a hidden class=anchor aria-hidden=true href=#a-ì ìš©-ê³ ë ¤ì‚¬í•­>#</a></h3><table><thead><tr><th>í•­ëª©</th><th>ì„¤ëª…</th><th>ê¶Œì¥ì‚¬í•­</th></tr></thead><tbody><tr><td>ZNode êµ¬ì¡° ì„¤ê³„</td><td>Ephemeral, Sequential í™œìš©</td><td>ì§ê´€ì  ë””ë ‰í† ë¦¬ êµ¬ì¡° ì„¤ê³„</td></tr><tr><td>Watch ê´€ë¦¬</td><td>ì¬ë“±ë¡, ëˆ„ë½ ëŒ€ì‘</td><td>ì¬ë“±ë¡ ë£¨í”„ êµ¬í˜„, ë°±ì˜¤í”„ ì „ëµ</td></tr><tr><td>Leader affinity</td><td>ì½ê¸° consistency</td><td>Leader ì½ê¸° API ì‚¬ìš© ìœ ë„</td></tr><tr><td>Session timeout</td><td>Ephemeral ë…¸ë“œ ì•ˆì •</td><td>ìœ ì§€ idle heartbeat, timeout ë³´ì •</td></tr><tr><td>ì¥ì•  ëŒ€ì‘</td><td>Split-brain, leader fail-over</td><td>Health monitoring, election tuning</td></tr></tbody></table><h4 id=615-ì‹¤ë¬´ì—ì„œ-íš¨ê³¼ì ìœ¼ë¡œ-ì ìš©í•˜ê¸°-ìœ„í•œ-ê³ ë ¤ì‚¬í•­-ë°-ì£¼ì˜í• -ì >6.15 ì‹¤ë¬´ì—ì„œ íš¨ê³¼ì ìœ¼ë¡œ ì ìš©í•˜ê¸° ìœ„í•œ ê³ ë ¤ì‚¬í•­ ë° ì£¼ì˜í•  ì <a hidden class=anchor aria-hidden=true href=#615-ì‹¤ë¬´ì—ì„œ-íš¨ê³¼ì ìœ¼ë¡œ-ì ìš©í•˜ê¸°-ìœ„í•œ-ê³ ë ¤ì‚¬í•­-ë°-ì£¼ì˜í• -ì >#</a></h4><table><thead><tr><th>êµ¬ë¶„</th><th>ê³ ë ¤ì‚¬í•­</th><th>ì„¤ëª…</th><th>ê¶Œì¥ì‚¬í•­</th></tr></thead><tbody><tr><td><strong>ì„±ëŠ¥</strong></td><td>ë„¤íŠ¸ì›Œí¬ ìµœì í™”</td><td>í•©ì˜ ì§€ì—° ìµœì†Œí™” í•„ìš”</td><td>ì§€ì—­ë³„ í´ëŸ¬ìŠ¤í„°ë§, ë°°ì¹­ ì²˜ë¦¬</td></tr><tr><td><strong>ê°€ìš©ì„±</strong></td><td>ì¥ì•  ë³µêµ¬ ì‹œê°„</td><td>ë¹ ë¥¸ ì¥ì•  íƒì§€ì™€ ë³µêµ¬</td><td>ì ì‘ì  íƒ€ì„ì•„ì›ƒ, ë‹¤ì¤‘ ë°±ì—…</td></tr><tr><td><strong>ì¼ê´€ì„±</strong></td><td>ë°ì´í„° ì •í•©ì„±</td><td>ìŠ¤í”Œë¦¿ ë¸Œë ˆì¸ ë°©ì§€</td><td>ì¿¼ëŸ¼ ê¸°ë°˜ ì˜ì‚¬ê²°ì •</td></tr><tr><td><strong>ë³´ì•ˆ</strong></td><td>ì¸ì¦ê³¼ ì•”í˜¸í™”</td><td>ì•…ì˜ì  ë…¸ë“œ ëŒ€ì‘</td><td>ìƒí˜¸ ì¸ì¦, ë©”ì‹œì§€ ì„œëª…</td></tr><tr><td><strong>ëª¨ë‹ˆí„°ë§</strong></td><td>ìƒíƒœ ì¶”ì </td><td>ì‹¤ì‹œê°„ í´ëŸ¬ìŠ¤í„° ìƒíƒœ íŒŒì•…</td><td>ë©”íŠ¸ë¦­ ìˆ˜ì§‘, ëŒ€ì‹œë³´ë“œ êµ¬ì¶•</td></tr></tbody></table><h4 id=616-ìµœì í™”í•˜ê¸°-ìœ„í•œ-ê³ ë ¤ì‚¬í•­-ë°-ì£¼ì˜í• -ì >6.16 ìµœì í™”í•˜ê¸° ìœ„í•œ ê³ ë ¤ì‚¬í•­ ë° ì£¼ì˜í•  ì <a hidden class=anchor aria-hidden=true href=#616-ìµœì í™”í•˜ê¸°-ìœ„í•œ-ê³ ë ¤ì‚¬í•­-ë°-ì£¼ì˜í• -ì >#</a></h4><table><thead><tr><th>êµ¬ë¶„</th><th>ìµœì í™” ì˜ì—­</th><th>ì„¤ëª…</th><th>ê¶Œì¥ì‚¬í•­</th></tr></thead><tbody><tr><td><strong>ì²˜ë¦¬ëŸ‰</strong></td><td>ë°°ì¹­ ë° íŒŒì´í”„ë¼ì´ë‹</td><td>í•©ì˜ ê³¼ì • ìµœì í™”</td><td>ìš”ì²­ ê·¸ë£¹í™”, ë¹„ë™ê¸° ì²˜ë¦¬</td></tr><tr><td><strong>ì§€ì—°ì‹œê°„</strong></td><td>ë„¤íŠ¸ì›Œí¬ í† í´ë¡œì§€</td><td>ë¬¼ë¦¬ì  ê±°ë¦¬ ìµœì†Œí™”</td><td>ì§€ì—­ë³„ í´ëŸ¬ìŠ¤í„°, CDN í™œìš©</td></tr><tr><td><strong>ë©”ëª¨ë¦¬</strong></td><td>ìƒíƒœ ê´€ë¦¬</td><td>í•©ì˜ ë¡œê·¸ í¬ê¸° ì œí•œ</td><td>ìŠ¤ëƒ…ìƒ·, ê°€ë¹„ì§€ ì»¬ë ‰ì…˜</td></tr><tr><td><strong>CPU</strong></td><td>ì•Œê³ ë¦¬ì¦˜ íš¨ìœ¨ì„±</td><td>ê³„ì‚° ë³µì¡ë„ ê°ì†Œ</td><td>ê°„ì†Œí™”ëœ í”„ë¡œí† ì½œ ì‚¬ìš©</td></tr><tr><td><strong>í™•ì¥ì„±</strong></td><td>ìˆ˜í‰ í™•ì¥</td><td>ë…¸ë“œ ì¶”ê°€/ì œê±° ì§€ì›</td><td>ë™ì  ë©¤ë²„ì‹­ ê´€ë¦¬</td></tr></tbody></table><h3 id=b-ìµœì í™”-ê³ ë ¤ì‚¬í•­>B. ìµœì í™” ê³ ë ¤ì‚¬í•­<a hidden class=anchor aria-hidden=true href=#b-ìµœì í™”-ê³ ë ¤ì‚¬í•­>#</a></h3><table><thead><tr><th>í•­ëª©</th><th>ì„¤ëª…</th><th>ê¶Œì¥ì‚¬í•­</th></tr></thead><tbody><tr><td>Ensemble ì‚¬ì´ì¦ˆ</td><td>odd-number ì„±ëŠ¥/ê°€ìš©ì„± ìµœì í™”</td><td>ìµœì†Œ 3, ìµœëŒ€ 7-9 ë…¸ë“œ</td></tr><tr><td>ìŠ¤ëƒ…ìƒ· ì£¼ê¸°</td><td>ë””ìŠ¤í¬ IO ë° ë³µêµ¬ ì‹œê°„</td><td>HDD/SSD ê¸°ë°˜ ì£¼ê¸° ì¡°ì •</td></tr><tr><td>ì›Œì¹˜ íŒ¨í„´</td><td>ê³¼ë‹¤ ì•Œë¦¼ vs ëˆ„ë½ ë¦¬ìŠ¤í¬</td><td>EventDebounce, batching</td></tr><tr><td>ë„¤íŠ¸ì›Œí¬ ë¹„ìš©</td><td>ì“°ê¸°/ì½ê¸° ë ˆì´í„´ì‹œ ìµœì í™”</td><td>ë¦¬ë” - íŒ”ë¡œì–´ ì§€ë¦¬ì  ê³ ë ¤</td></tr><tr><td>ë¡¤ë§ ë¦¬í”Œë ˆì´</td><td>ì¥ì•  ì‹œ ë¹ ë¥¸ ê°€ë™</td><td>ì¤€ë¹„ëœ ë¦¬í”Œë ˆì´ ìŠ¤ëƒ…ìƒ· ì‚¬ìš©</td></tr></tbody></table><h3 id=15-ìµœì í™”í•˜ê¸°-ìœ„í•œ-ê³ ë ¤ì‚¬í•­-ë°-ì£¼ì˜í• -ì >15. ìµœì í™”í•˜ê¸° ìœ„í•œ ê³ ë ¤ì‚¬í•­ ë° ì£¼ì˜í•  ì <a hidden class=anchor aria-hidden=true href=#15-ìµœì í™”í•˜ê¸°-ìœ„í•œ-ê³ ë ¤ì‚¬í•­-ë°-ì£¼ì˜í• -ì >#</a></h3><table><thead><tr><th>í•­ëª©</th><th>ì„¤ëª…</th><th>ê¶Œì¥ì‚¬í•­</th></tr></thead><tbody><tr><td>í•©ì˜ ë©”ì‹œì§€ ìµœì†Œí™”</td><td>ë„¤íŠ¸ì›Œí¬ ì˜¤ë²„í—¤ë“œ ê°ì†Œ</td><td>Batching, ì••ì¶•</td></tr><tr><td>ë°ì´í„° ë³µì œ ìµœì í™”</td><td>ë³µì œ ì§€ì—° ìµœì†Œí™”</td><td>ë¹„ë™ê¸° ë³µì œ</td></tr><tr><td>ë¦¬ë” ì„ ì¶œ ìµœì í™”</td><td>ë¹ ë¥¸ ì¥ì•  ë³µêµ¬</td><td>íƒ€ì„ì•„ì›ƒ ì¡°ì •</td></tr></tbody></table><h3 id=16-ê¸°íƒ€-ì‚¬í•­>16. ê¸°íƒ€ ì‚¬í•­<a hidden class=anchor aria-hidden=true href=#16-ê¸°íƒ€-ì‚¬í•­>#</a></h3><ul><li>ìµœì‹  íŠ¸ë Œë“œë¡œëŠ” í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ í™˜ê²½ì—ì„œ etcd, Consul, ZooKeeper ì˜ í™œìš©ì´ ì¦ê°€.</li><li>ì„œë¹„ìŠ¤ ë©”ì‹œ (Service Mesh) ì™€ì˜ ì—°ê³„, ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ (Kubernetes ë“±) ì—ì„œì˜ í•„ìˆ˜ ìš”ì†Œë¡œ ìë¦¬ì¡ìŒ.</li></ul><h3 id=ì£¼ì œì™€-ê´€ë ¨í•˜ì—¬-ì£¼ëª©í• -ë‚´ìš©>ì£¼ì œì™€ ê´€ë ¨í•˜ì—¬ ì£¼ëª©í•  ë‚´ìš©<a hidden class=anchor aria-hidden=true href=#ì£¼ì œì™€-ê´€ë ¨í•˜ì—¬-ì£¼ëª©í• -ë‚´ìš©>#</a></h3><table><thead><tr><th>ì¹´í…Œê³ ë¦¬</th><th>ì£¼ì œ</th><th>í•­ëª©</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>í•©ì˜ ì•Œê³ ë¦¬ì¦˜</td><td>Paxos</td><td>í•©ì˜</td><td>ë³µì¡í•˜ì§€ë§Œ ì´ë¡ ì ìœ¼ë¡œ ê²€ì¦ë¨</td></tr><tr><td>í•©ì˜ ì•Œê³ ë¦¬ì¦˜</td><td>Raft</td><td>í•©ì˜</td><td>êµ¬í˜„ì´ ì‰½ê³  ì‹¤ë¬´ì—ì„œ ë„ë¦¬ ì‚¬ìš©</td></tr><tr><td>ì„œë¹„ìŠ¤</td><td>ZooKeeper</td><td>ë¶„ì‚° ì½”ë””ë„¤ì´ì…˜</td><td>ëŒ€í‘œì ì¸ ì˜¤í”ˆì†ŒìŠ¤ ì†”ë£¨ì…˜</td></tr><tr><td>ì„œë¹„ìŠ¤</td><td>etcd</td><td>í‚¤ - ê°’ ì €ì¥ì†Œ</td><td>Kubernetes ì˜ í•µì‹¬ ì»´í¬ë„ŒíŠ¸</td></tr><tr><td>ì„œë¹„ìŠ¤</td><td>Consul</td><td>ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬</td><td>ë¶„ì‚° í™˜ê²½ì—ì„œ ì„œë¹„ìŠ¤ ë“±ë¡/íƒìƒ‰</td></tr></tbody></table><h2 id=-ì‘ì—…-9-ì£¼ëª©í• -ë‚´ìš©-ì •ë¦¬>âœ… ì‘ì—… 9: ì£¼ëª©í•  ë‚´ìš© ì •ë¦¬<a hidden class=anchor aria-hidden=true href=#-ì‘ì—…-9-ì£¼ëª©í• -ë‚´ìš©-ì •ë¦¬>#</a></h2><table><thead><tr><th>ì¹´í…Œê³ ë¦¬</th><th>ì£¼ì œ</th><th>í•­ëª©</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>Algorithms</td><td>Paxos</td><td>Phaseâ€‘1 Prepare/Promise</td><td>í•©ì˜ ì „ ë‹¨ê³„</td></tr><tr><td>Algorithms</td><td>Raft</td><td>Leader AppendEntries</td><td>ë¡œê·¸ ë³µì œ ë° ì•ˆì • ë¦¬ë”</td></tr><tr><td>Coordinationâ„¢</td><td>ZooKeeper</td><td>Watches & Znodes</td><td>ë³€ê²½ ê°ì‹œ ë° íŠ¸ë¦¬ êµ¬ì¡°</td></tr><tr><td>Transactions</td><td>2PC/3PC</td><td>Commit phases</td><td>ê¸€ë¡œë²Œ íŠ¸ëœì­ì…˜ ì¡°ì •</td></tr><tr><td>Networking</td><td>Gossip</td><td>Epidemic style</td><td>ë¶„ì‚° ìƒíƒœ í™•ì‚°</td></tr></tbody></table><h3 id=7-ì£¼ì œì™€-ê´€ë ¨í•˜ì—¬-ì£¼ëª©í• -ë‚´ìš©>7. ì£¼ì œì™€ ê´€ë ¨í•˜ì—¬ ì£¼ëª©í•  ë‚´ìš©<a hidden class=anchor aria-hidden=true href=#7-ì£¼ì œì™€-ê´€ë ¨í•˜ì—¬-ì£¼ëª©í• -ë‚´ìš©>#</a></h3><table><thead><tr><th>ì¹´í…Œê³ ë¦¬</th><th>ì£¼ì œ</th><th>í•­ëª©</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td><strong>ì´ë¡  ê¸°ë°˜</strong></td><td>FLP ë¶ˆê°€ëŠ¥ì„±</td><td>FLP Impossibility</td><td>ë¹„ë™ê¸° í™˜ê²½ì—ì„œ í•©ì˜ì˜ ê·¼ë³¸ì  í•œê³„</td></tr><tr><td><strong>ì´ë¡  ê¸°ë°˜</strong></td><td>CAP ì •ë¦¬</td><td>CAP Theorem</td><td>ë¶„ì‚° ì‹œìŠ¤í…œ ì„¤ê³„ì˜ ê¸°ë³¸ ì œì•½ ì‚¬í•­</td></tr><tr><td><strong>ì•Œê³ ë¦¬ì¦˜</strong></td><td>Paxos</td><td>ê¸°ë³¸ Paxos</td><td>ì•ˆì „ì„± ìš°ì„ ì˜ ê³ ì „ì  í•©ì˜ ì•Œê³ ë¦¬ì¦˜</td></tr><tr><td><strong>ì•Œê³ ë¦¬ì¦˜</strong></td><td>Raft</td><td>ë¦¬ë” ê¸°ë°˜ í•©ì˜</td><td>ì´í•´í•˜ê¸° ì‰¬ìš´ ì‹¤ìš©ì  í•©ì˜ ì•Œê³ ë¦¬ì¦˜</td></tr><tr><td><strong>ì‹œê³„ ë™ê¸°í™”</strong></td><td>Lamport Clock</td><td>ë…¼ë¦¬ì  ì‹œê³„</td><td>ë‹¨ìˆœí•œ ì¸ê³¼ê´€ê³„ ì¶”ì </td></tr><tr><td><strong>ì‹œê³„ ë™ê¸°í™”</strong></td><td>Vector Clock</td><td>ë²¡í„° ì‹œê³„</td><td>ë™ì‹œì„± íƒì§€ ê°€ëŠ¥í•œ ë…¼ë¦¬ì  ì‹œê³„</td></tr><tr><td><strong>ìƒí˜¸ ë°°ì œ</strong></td><td>Token Ring</td><td>í† í° ê¸°ë°˜</td><td>ìˆœí™˜ í† í°ì„ í†µí•œ ìƒí˜¸ ë°°ì œ</td></tr><tr><td><strong>ìƒí˜¸ ë°°ì œ</strong></td><td>Lamport&rsquo;s Algorithm</td><td>ê¶Œí•œ ê¸°ë°˜</td><td>íƒ€ì„ìŠ¤íƒ¬í”„ ê¸°ë°˜ ìƒí˜¸ ë°°ì œ</td></tr><tr><td><strong>ë¦¬ë” ì„ ì¶œ</strong></td><td>Bully Algorithm</td><td>ìš°ì„ ìˆœìœ„ ê¸°ë°˜</td><td>ID ê¸°ë°˜ ë¦¬ë” ì„ ì¶œ ì•Œê³ ë¦¬ì¦˜</td></tr><tr><td><strong>ì‹¤ë¬´ ì ìš©</strong></td><td>Apache Kafka</td><td>ë©”ì‹œì§€ ë¸Œë¡œì»¤</td><td>ë¶„ì‚° ìŠ¤íŠ¸ë¦¬ë° í”Œë«í¼</td></tr><tr><td><strong>ì‹¤ë¬´ ì ìš©</strong></td><td>etcd</td><td>ë¶„ì‚° KV ì €ì¥ì†Œ</td><td>Kubernetes ë©”íƒ€ë°ì´í„° ì €ì¥</td></tr><tr><td><strong>ì‹¤ë¬´ ì ìš©</strong></td><td>Consul</td><td>ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬</td><td>ë¶„ì‚° ì„œë¹„ìŠ¤ ì¡°ì • í”Œë«í¼</td></tr></tbody></table><h3 id=8-ë°˜ë“œì‹œ-í•™ìŠµí•´ì•¼í• -ë‚´ìš©>8. ë°˜ë“œì‹œ í•™ìŠµí•´ì•¼í•  ë‚´ìš©<a hidden class=anchor aria-hidden=true href=#8-ë°˜ë“œì‹œ-í•™ìŠµí•´ì•¼í• -ë‚´ìš©>#</a></h3><table><thead><tr><th>ì¹´í…Œê³ ë¦¬</th><th>ì£¼ì œ</th><th>í•­ëª©</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td><strong>ê¸°ì´ˆ ì´ë¡ </strong></td><td>ë¶„ì‚° ì‹œìŠ¤í…œ ê¸°ë³¸</td><td>ë„¤íŠ¸ì›Œí¬ ëª¨ë¸</td><td>ë™ê¸°/ë¹„ë™ê¸°, ì‹ ë¢°ì„± ìˆëŠ”/ì—†ëŠ” ì±„ë„</td></tr><tr><td><strong>ê¸°ì´ˆ ì´ë¡ </strong></td><td>ì¥ì•  ëª¨ë¸</td><td>Crash vs Byzantine</td><td>ì¥ì•  ìœ í˜•ê³¼ ëŒ€ì‘ ë°©ë²•</td></tr><tr><td><strong>í•©ì˜ ì•Œê³ ë¦¬ì¦˜</strong></td><td>Paxos ê³„ì—´</td><td>Multi-Paxos, Fast Paxos</td><td>ì„±ëŠ¥ ìµœì í™”ëœ Paxos ë³€í˜•</td></tr><tr><td><strong>í•©ì˜ ì•Œê³ ë¦¬ì¦˜</strong></td><td>BFT ê³„ì—´</td><td>PBFT, Tendermint</td><td>ë¹„ì”í‹´ ì¥ì•  ë‚´ì„± ì•Œê³ ë¦¬ì¦˜</td></tr><tr><td><strong>ë…¼ë¦¬ì  ì‹œê³„</strong></td><td>ì´ë²¤íŠ¸ ìˆœì„œ</td><td>Happens-before ê´€ê³„</td><td>ë¶„ì‚° ì´ë²¤íŠ¸ ì¸ê³¼ê´€ê³„</td></tr><tr><td><strong>ë…¼ë¦¬ì  ì‹œê³„</strong></td><td>ë™ì‹œì„± íƒì§€</td><td>Concurrent Events</td><td>ë…ë¦½ì  ì´ë²¤íŠ¸ ì‹ë³„</td></tr><tr><td><strong>ìƒí˜¸ ë°°ì œ</strong></td><td>ë¶„ì‚° ë½</td><td>Distributed Locking</td><td>ê³µìœ  ìì› ì ‘ê·¼ ì œì–´</td></tr><tr><td><strong>ìƒí˜¸ ë°°ì œ</strong></td><td>êµì°© ìƒíƒœ</td><td>Deadlock Prevention</td><td>ìˆœí™˜ ëŒ€ê¸° ë°©ì§€ ê¸°ë²•</td></tr><tr><td><strong>ë¦¬ë” ì„ ì¶œ</strong></td><td>ì„ ì¶œ ì•Œê³ ë¦¬ì¦˜</td><td>Election Algorithms</td><td>ë‹¤ì–‘í•œ ì„ ì¶œ ë°©ì‹ ë¹„êµ</td></tr><tr><td><strong>ë¦¬ë” ì„ ì¶œ</strong></td><td>ì¥ì•  ë³µêµ¬</td><td>Failure Recovery</td><td>ë¦¬ë” ì¥ì•  ì‹œ ë³µêµ¬ ê³¼ì •</td></tr><tr><td><strong>ì‹¤ë¬´ ë„êµ¬</strong></td><td>ë¶„ì‚° ì¡°ì • ë„êµ¬</td><td>Zookeeper, etcd</td><td>ìƒìš© ë¶„ì‚° ì¡°ì • ì„œë¹„ìŠ¤</td></tr><tr><td><strong>ì„±ëŠ¥ ìµœì í™”</strong></td><td>ë°°ì¹­ ê¸°ë²•</td><td>Batching</td><td>ì—¬ëŸ¬ ìš”ì²­ ê·¸ë£¹í™” ì²˜ë¦¬</td></tr><tr><td><strong>ì„±ëŠ¥ ìµœì í™”</strong></td><td>íŒŒì´í”„ë¼ì´ë‹</td><td>Pipelining</td><td>ë³‘ë ¬ ì²˜ë¦¬ë¥¼ í†µí•œ ì„±ëŠ¥ í–¥ìƒ</td></tr></tbody></table><h2 id=-ì‘ì—…-10-ë°˜ë“œì‹œ-í•™ìŠµí• -ë‚´ìš©>âœ… ì‘ì—… 10: ë°˜ë“œì‹œ í•™ìŠµí•  ë‚´ìš©<a hidden class=anchor aria-hidden=true href=#-ì‘ì—…-10-ë°˜ë“œì‹œ-í•™ìŠµí• -ë‚´ìš©>#</a></h2><table><thead><tr><th>ì¹´í…Œê³ ë¦¬</th><th>ì£¼ì œ</th><th>í•­ëª©</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>Protocols</td><td>Raft vs Paxos</td><td>ì¥ë‹¨ì  ë¹„êµ</td><td>ì‹¤ë¬´ ì ìš© ì‹œ ì„ íƒ ê¸°ì¤€</td></tr><tr><td>Storage</td><td>etcd/ZooKeeper</td><td>ë°ì´í„° ëª¨ë¸</td><td>êµ¬ì¡° ë° API ì´í•´</td></tr><tr><td>Transactions</td><td>2PC/3PC</td><td>Failure handling</td><td>íŠ¸ëœì­ì…˜ íšŒë³µ, íƒ€ì„ì•„ì›ƒ</td></tr><tr><td>CAP</td><td>CAP Theorem</td><td>KA ë˜ëŠ” CA ì„ íƒ</td><td>ì‹œìŠ¤í…œ ì„¤ê³„ ì² í•™</td></tr><tr><td>Consistency</td><td>Linearizability vs Eventual</td><td>ì¼ê´€ì„± ëª¨ë¸</td><td>ìš”êµ¬ì‚¬í•­ì— ë”°ë¥¸ ì„ íƒ</td></tr></tbody></table><h3 id=ë°˜ë“œì‹œ-í•™ìŠµí•´ì•¼í• -ë‚´ìš©>ë°˜ë“œì‹œ í•™ìŠµí•´ì•¼í•  ë‚´ìš©<a hidden class=anchor aria-hidden=true href=#ë°˜ë“œì‹œ-í•™ìŠµí•´ì•¼í• -ë‚´ìš©>#</a></h3><table><thead><tr><th>ì¹´í…Œê³ ë¦¬</th><th>ì£¼ì œ</th><th>í•­ëª©</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>í•©ì˜ ì•Œê³ ë¦¬ì¦˜</td><td>Paxos, Raft, Zab</td><td>í•©ì˜</td><td>ë¶„ì‚° ì½”ë””ë„¤ì´ì…˜ì˜ í•µì‹¬ ì›ë¦¬</td></tr><tr><td>ë¶„ì‚° ë½</td><td>ZooKeeper Lock, Redlock</td><td>ë¶„ì‚° ë½</td><td>ë™ì‹œì„± ì œì–´</td></tr><tr><td>ë¦¬ë” ì„ ì¶œ</td><td>ZooKeeper, etcd</td><td>ë¦¬ë” ì„ ì¶œ</td><td>ëŒ€í‘œ ë…¸ë“œ ì„ ì •</td></tr><tr><td>ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬</td><td>Consul, etcd</td><td>ì„œë¹„ìŠ¤ ë“±ë¡/íƒìƒ‰</td><td>ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í•„ìˆ˜ ê¸°ëŠ¥</td></tr><tr><td>ì¥ì•  ê°ì§€</td><td>Heartbeat, Health Check</td><td>ì¥ì•  ê°ì§€</td><td>ìë™í™”ëœ ì¥ì•  ëŒ€ì‘</td></tr></tbody></table><hr><h3 id=ìš©ì–´-ì •ë¦¬>ìš©ì–´ ì •ë¦¬<a hidden class=anchor aria-hidden=true href=#ìš©ì–´-ì •ë¦¬>#</a></h3><table><thead><tr><th>ì¹´í…Œê³ ë¦¬</th><th>ìš©ì–´</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>í•©ì˜ ì•Œê³ ë¦¬ì¦˜</td><td>Paxos</td><td>ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ í•©ì˜ë¥¼ ì´ë£¨ëŠ” ì•Œê³ ë¦¬ì¦˜</td></tr><tr><td>í•©ì˜ ì•Œê³ ë¦¬ì¦˜</td><td>Raft</td><td>ì´í•´ì™€ êµ¬í˜„ì´ ì‰¬ìš´ í•©ì˜ ì•Œê³ ë¦¬ì¦˜</td></tr><tr><td>í•©ì˜ ì•Œê³ ë¦¬ì¦˜</td><td>Zab</td><td>ZooKeeper ì—ì„œ ì‚¬ìš©í•˜ëŠ” í•©ì˜ í”„ë¡œí† ì½œ</td></tr><tr><td>ë¶„ì‚° ì½”ë””ë„¤ì´ì…˜</td><td>Distributed Lock</td><td>ì—¬ëŸ¬ ë…¸ë“œê°€ ë¦¬ì†ŒìŠ¤ ì ‘ê·¼ì„ ì¡°ìœ¨í•˜ëŠ” ë½</td></tr><tr><td>ë¶„ì‚° ì½”ë””ë„¤ì´ì…˜</td><td>Leader Election</td><td>ëŒ€í‘œ ë…¸ë“œë¥¼ ì„ ì¶œí•˜ëŠ” ê³¼ì •</td></tr><tr><td>ë¶„ì‚° ì½”ë””ë„¤ì´ì…˜</td><td>Service Discovery</td><td>ì„œë¹„ìŠ¤ ìœ„ì¹˜ë¥¼ ë™ì ìœ¼ë¡œ ì°¾ëŠ” ê¸°ëŠ¥</td></tr><tr><td>ë¶„ì‚° ì½”ë””ë„¤ì´ì…˜</td><td>Failure Detection</td><td>ë…¸ë“œ ì¥ì• ë¥¼ ê°ì§€í•˜ëŠ” ê¸°ëŠ¥</td></tr><tr><td>ì„œë¹„ìŠ¤</td><td>ZooKeeper</td><td>ë¶„ì‚° ì½”ë””ë„¤ì´ì…˜ì„ ìœ„í•œ ì˜¤í”ˆì†ŒìŠ¤ ì„œë¹„ìŠ¤</td></tr><tr><td>ì„œë¹„ìŠ¤</td><td>etcd</td><td>Kubernetes ë“±ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë¶„ì‚° í‚¤ - ê°’ ì €ì¥ì†Œ</td></tr><tr><td>ì„œë¹„ìŠ¤</td><td>Consul</td><td>ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬ ë° ìƒíƒœ ê´€ë¦¬ ì†”ë£¨ì…˜</td></tr></tbody></table><h2 id=ìš©ì–´-ì •ë¦¬-1>ìš©ì–´ ì •ë¦¬<a hidden class=anchor aria-hidden=true href=#ìš©ì–´-ì •ë¦¬-1>#</a></h2><table><thead><tr><th>ì¹´í…Œê³ ë¦¬</th><th>ìš©ì–´</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>Consensus</td><td>Paxos/Raft</td><td>ë¶„ì‚° í™˜ê²½ì—ì„œ ìƒíƒœ í•©ì˜ë¥¼ í†µí•œ ì¼ê´€ì„± í™•ë³´</td></tr><tr><td>Coordination</td><td>Watcher/Watch</td><td>ZooKeeper ì˜ ë³€ê²½ ì•Œë¦¼ ë©”ì»¤ë‹ˆì¦˜</td></tr><tr><td>Locking</td><td>Distributed Lock</td><td>ë¶„ì‚° í™˜ê²½ì—ì„œ ìƒí˜¸ ë°°ì œë¥¼ ìœ„í•œ ë½ êµ¬í˜„</td></tr><tr><td>Transaction</td><td>Twoâ€‘Phase Commit (2PC)</td><td>ì›ìì„± ë³´ì¥ì„ ìœ„í•œ ë¶„ì‚° íŠ¸ëœì­ì…˜ í”„ë¡œí† ì½œ</td></tr><tr><td>Consistency</td><td>Quorum</td><td>í•©ì˜í˜•ì„±ì„ ìœ„í•œ ìµœì†Œ ë…¸ë“œ ìˆ˜ (ê³¼ë°˜ìˆ˜)</td></tr></tbody></table><h3 id=ìš©ì–´-ì •ë¦¬-2>ìš©ì–´ ì •ë¦¬<a hidden class=anchor aria-hidden=true href=#ìš©ì–´-ì •ë¦¬-2>#</a></h3><table><thead><tr><th>ì¹´í…Œê³ ë¦¬</th><th>ìš©ì–´</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td><strong>ê¸°ë³¸ ê°œë…</strong></td><td>ë¶„ì‚° í•©ì˜ (Distributed Consensus)</td><td>ì—¬ëŸ¬ ë…¸ë“œê°€ ê³µí†µ ê²°ì •ì— ë„ë‹¬í•˜ëŠ” ê³¼ì •</td></tr><tr><td><strong>ê¸°ë³¸ ê°œë…</strong></td><td>ë…¼ë¦¬ì  ì‹œê³„ (Logical Clock)</td><td>ë¬¼ë¦¬ì  ì‹œê°„ ì—†ì´ ì´ë²¤íŠ¸ ìˆœì„œë¥¼ ê²°ì •í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜</td></tr><tr><td><strong>ê¸°ë³¸ ê°œë…</strong></td><td>ìƒí˜¸ ë°°ì œ (Mutual Exclusion)</td><td>ê³µìœ  ìì›ì— ëŒ€í•œ ë…ì ì  ì ‘ê·¼ ë³´ì¥</td></tr><tr><td><strong>ì•Œê³ ë¦¬ì¦˜</strong></td><td>Paxos</td><td>ë¹„ë™ê¸° í™˜ê²½ì—ì„œ ì•ˆì „ì„±ì„ ë³´ì¥í•˜ëŠ” í•©ì˜ ì•Œê³ ë¦¬ì¦˜</td></tr><tr><td><strong>ì•Œê³ ë¦¬ì¦˜</strong></td><td>Raft</td><td>ë¦¬ë” ê¸°ë°˜ì˜ ì´í•´í•˜ê¸° ì‰¬ìš´ í•©ì˜ ì•Œê³ ë¦¬ì¦˜</td></tr><tr><td><strong>ì‹œê³„</strong></td><td>ë¨í¬íŠ¸ íƒ€ì„ìŠ¤íƒ¬í”„ (Lamport Timestamp)</td><td>ë‹¨ìˆœí•œ ë…¼ë¦¬ì  ì‹œê³„ë¡œ ë¶€ë¶„ ìˆœì„œ ì œê³µ</td></tr><tr><td><strong>ì‹œê³„</strong></td><td>ë²¡í„° í´ëŸ­ (Vector Clock)</td><td>ë™ì‹œì„± íƒì§€ê°€ ê°€ëŠ¥í•œ ë…¼ë¦¬ì  ì‹œê³„</td></tr><tr><td><strong>ì¥ì•  ëª¨ë¸</strong></td><td>CFT (Crash Fault Tolerance)</td><td>ë…¸ë“œ ì •ì§€ ì¥ì• ë§Œ ê³ ë ¤í•˜ëŠ” ëª¨ë¸</td></tr><tr><td><strong>ì¥ì•  ëª¨ë¸</strong></td><td>BFT (Byzantine Fault Tolerance)</td><td>ì•…ì˜ì  í–‰ë™ì„ í¬í•¨í•œ ëª¨ë“  ì¥ì•  ê³ ë ¤</td></tr><tr><td><strong>ì„ ì¶œ</strong></td><td>ë¦¬ë” ì„ ì¶œ (Leader Election)</td><td>ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ ì¡°ì •ìë¥¼ ì„ íƒí•˜ëŠ” ê³¼ì •</td></tr><tr><td><strong>ì„ ì¶œ</strong></td><td>Bully Algorithm</td><td>ID ê¸°ë°˜ ìš°ì„ ìˆœìœ„ë¡œ ë¦¬ë”ë¥¼ ì„ ì¶œí•˜ëŠ” ì•Œê³ ë¦¬ì¦˜</td></tr><tr><td><strong>ì´ë¡ </strong></td><td>FLP ë¶ˆê°€ëŠ¥ì„± (FLP Impossibility)</td><td>ë¹„ë™ê¸° í™˜ê²½ì—ì„œ í•©ì˜ì˜ ê·¼ë³¸ì  í•œê³„</td></tr><tr><td><strong>ì´ë¡ </strong></td><td>CAP ì •ë¦¬ (CAP Theorem)</td><td>ì¼ê´€ì„±, ê°€ìš©ì„±, ë¶„í•  ë‚´ì„± ì¤‘ 2 ê°œë§Œ ë³´ì¥ ê°€ëŠ¥</td></tr><tr><td><strong>ì„±ì§ˆ</strong></td><td>ì•ˆì „ì„± (Safety)</td><td>ë‚˜ìœ ì¼ì´ ì ˆëŒ€ ì¼ì–´ë‚˜ì§€ ì•ŠìŒì„ ë³´ì¥</td></tr><tr><td><strong>ì„±ì§ˆ</strong></td><td>í™œì„± (Liveness)</td><td>ì¢‹ì€ ì¼ì´ ê²°êµ­ ì¼ì–´ë‚¨ì„ ë³´ì¥</td></tr><tr><td><strong>í†µì‹ </strong></td><td>ì¿¼ëŸ¼ (Quorum)</td><td>ì˜ì‚¬ê²°ì •ì— í•„ìš”í•œ ìµœì†Œ ë…¸ë“œ ìˆ˜</td></tr><tr><td><strong>ìƒíƒœ</strong></td><td>ìŠ¤í”Œë¦¿ ë¸Œë ˆì¸ (Split Brain)</td><td>ë„¤íŠ¸ì›Œí¬ ë¶„í• ë¡œ ì¸í•œ ë‹¤ì¤‘ ë¦¬ë” ìƒí™©</td></tr></tbody></table><hr><h3 id=ì°¸ê³ -ë°-ì¶œì²˜>ì°¸ê³  ë° ì¶œì²˜<a hidden class=anchor aria-hidden=true href=#ì°¸ê³ -ë°-ì¶œì²˜>#</a></h3><ul><li><a href=https://www.geeksforgeeks.org/distributed-consensus-in-distributed-systems/>Distributed Consensus in Distributed Systems - GeeksforGeeks</a></li><li><a href=https://github.com/heidihoward/distributed-consensus-reading-list>GitHub - Distributed Consensus Reading List</a></li><li><a href=https://ar5iv.labs.arxiv.org/html/1904.04098>A Survey of Distributed Consensus Protocols for Blockchain Networks</a></li><li><a href=https://medium.com/@mani.saksham12/raft-and-paxos-consensus-algorithms-for-distributed-systems-138cd7c2d35a>Raft and Paxos: Consensus Algorithms for Distributed Systems - Medium</a></li><li><a href=https://aws.amazon.com/builders-library/leader-election-in-distributed-systems/>Leader Election in Distributed Systems - Amazon Builders&rsquo; Library</a></li><li><a href=https://www.geeksforgeeks.org/clock-synchronization-in-distributed-system/>Clock Synchronization in Distributed Systems - GeeksforGeeks</a></li><li><a href=https://www.geeksforgeeks.org/vector-clocks-in-distributed-systems/>Vector Clocks in Distributed Systems - GeeksforGeeks</a></li><li><a href=https://www.geeksforgeeks.org/lamports-logical-clock/>Lamport&rsquo;s Logical Clock - GeeksforGeeks</a></li><li><a href=https://ethereum.org/en/developers/docs/consensus-mechanisms/>Consensus Mechanisms - Ethereum.org</a></li><li><a href=https://eax360.com/distributed-coordination-algorithms/>Distributed Coordination Algorithms - Eax360</a></li></ul><h2 id=ì°¸ê³ -ë°-ì¶œì²˜-1>ì°¸ê³  ë° ì¶œì²˜<a hidden class=anchor aria-hidden=true href=#ì°¸ê³ -ë°-ì¶œì²˜-1>#</a></h2><ul><li>Paxos (computer science) (<a href="https://www.cs.umbc.edu/courses/undergraduate/421/spring03/slides/ch17.pdf?utm_source=chatgpt.com" title="[PDF] Chapter 17 Distributed Coordination">cs.umbc.edu</a>, <a href="https://restate.dev/blog/every-system-is-a-log-avoiding-coordination-in-distributed-applications/?utm_source=chatgpt.com" title="Every System is a Log: Avoiding coordination in distributed â€¦ - Restate">restate.dev</a>, <a href="https://www.geeksforgeeks.org/distributed-coordination-services-zookeeper-system-design/?utm_source=chatgpt.com" title="Distributed Coordination services (ZooKeeper) - System design â€¦">geeksforgeeks.org</a>, <a href="https://medium.com/%40vinciabhinav7/apache-zookeeper-but-why-part-1-distributed-coordination-overview-65c7cebb6c79?utm_source=chatgpt.com" title="Apache ZooKeeper: But Why??â€”Part 1: Distributed Coordination â€¦">medium.com</a>, <a href="https://en.wikipedia.org/wiki/Distributed_coordination_function?utm_source=chatgpt.com" title="Distributed coordination function">en.wikipedia.org</a>, <a href="https://en.wikipedia.org/wiki/Paxos_%28computer_science%29?utm_source=chatgpt.com" title="Paxos (computer science)">en.wikipedia.org</a>)</li><li>CAP theorem</li><li>Gossip protocol</li><li>Distributed Coordination-Based Systems (GeeksforGeeks) (<a href="https://www.geeksforgeeks.org/system-design/distributed-coordination-based-systems/?utm_source=chatgpt.com" title="Distributed Coordination-Based Systems - GeeksforGeeks">geeksforgeeks.org</a>)</li></ul><h3 id=ì°¸ê³ -ë°-ì¶œì²˜-2>ì°¸ê³  ë° ì¶œì²˜<a hidden class=anchor aria-hidden=true href=#ì°¸ê³ -ë°-ì¶œì²˜-2>#</a></h3><ul><li><a href=https://zookeeper.apache.org/doc/>ZooKeeper ê³µì‹ ë¬¸ì„œ</a></li><li><a href=https://etcd.io/docs/>etcd ê³µì‹ ë¬¸ì„œ</a></li><li><a href=https://www.consul.io/docs>Consul ê³µì‹ ë¬¸ì„œ</a></li><li><a href=https://lamport.azurewebsites.net/pubs/paxos-simple.pdf>Paxos Algorithm ì„¤ëª…</a></li><li><a href=https://raft.github.io/>Raft Consensus Algorithm</a></li><li><a href=https://en.wikipedia.org/wiki/CAP_theorem>CAP Theorem ì„¤ëª…</a></li></ul><hr><hr><hr></div></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>