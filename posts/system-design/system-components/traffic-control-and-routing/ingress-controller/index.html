<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Ingress Controller | hyunyoun's Blog</title><meta name=keywords content="System-Design,System-Components,Traffic-Control-and-Routing,Ingress-Controller,Kubernetes-Networking,Traffic-Routing,Load-Balancing"><meta name=description content="인그레스 컨트롤러 (Ingress Controller) 는 쿠버네티스를 포함한 클라우드 네이티브 환경에서 외부 트래픽을 클러스터 내부 서비스로 안전하고 효율적으로 라우팅하는 핵심 컴포넌트다. 다양한 라우팅 규칙, 인증, SSL 종료 등 고급 트래픽 관리 기능도 함께 제공한다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/system-design/system-components/traffic-control-and-routing/ingress-controller/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/system-design/system-components/traffic-control-and-routing/ingress-controller/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/system-design/system-components/traffic-control-and-routing/ingress-controller/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/system-design/system-components/traffic-control-and-routing/ingress-controller/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Ingress Controller"><meta property="og:description" content="인그레스 컨트롤러 (Ingress Controller) 는 쿠버네티스를 포함한 클라우드 네이티브 환경에서 외부 트래픽을 클러스터 내부 서비스로 안전하고 효율적으로 라우팅하는 핵심 컴포넌트다. 다양한 라우팅 규칙, 인증, SSL 종료 등 고급 트래픽 관리 기능도 함께 제공한다."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Ingress Controller"><meta name=twitter:description content="인그레스 컨트롤러 (Ingress Controller) 는 쿠버네티스를 포함한 클라우드 네이티브 환경에서 외부 트래픽을 클러스터 내부 서비스로 안전하고 효율적으로 라우팅하는 핵심 컴포넌트다. 다양한 라우팅 규칙, 인증, SSL 종료 등 고급 트래픽 관리 기능도 함께 제공한다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"기록하고 기억하고 활용하자.","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"System Design","item":"https://buenhyden.github.io/posts/system-design/"},{"@type":"ListItem","position":3,"name":"System Components","item":""},{"@type":"ListItem","position":4,"name":"Traffic Control and Routing","item":"https://buenhyden.github.io/posts/system-design/system-components/traffic-control-and-routing/"},{"@type":"ListItem","position":5,"name":"Ingress Controller","item":"https://buenhyden.github.io/posts/system-design/system-components/traffic-control-and-routing/ingress-controller/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>기록하고 기억하고 활용하자.</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/system-design/>System Design</a>&nbsp;»&nbsp;<a href>System Components</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/system-design/system-components/traffic-control-and-routing/>Traffic Control and Routing</a></div><h1>Ingress Controller</h1><div class=post-description>인그레스 컨트롤러 (Ingress Controller) 는 쿠버네티스를 포함한 클라우드 네이티브 환경에서 외부 트래픽을 클러스터 내부 서비스로 안전하고 효율적으로 라우팅하는 핵심 컴포넌트다. 다양한 라우팅 규칙, 인증, SSL 종료 등 고급 트래픽 관리 기능도 함께 제공한다.</div></header><div class=post-content><h2 id=ingress-controller>Ingress Controller<a hidden class=anchor aria-hidden=true href=#ingress-controller>#</a></h2><p>인그레스 컨트롤러 (Ingress Controller) 는 클러스터 외부에서 들어오는 HTTP/HTTPS 등 애플리케이션 트래픽을 내부 서비스로 라우팅하고, 다양한 라우팅 정책을 적용하는 네트워크 구성요소다. 특히, Kubernetes 환경에서 외부 요청을 내부 서비스로 전달하는 진입점 역할을 하는데 사용된다.</p><p>쿠버네티스 환경의 확장성과 보안을 유지하며, 네임 기반, 경로 기반, TLS 종료, 인증·인가, 부하 분산 등 많은 기능을 프록시 및 리버스 프록시 (Reverse Proxy) 구조로 제공한다. 고가용성 (High Availability) 과 자동화, 그리고 다양한 백엔드 서비스 지원이 특징이다.</p><h3 id=등장-및-발전-배경>등장 및 발전 배경<a hidden class=anchor aria-hidden=true href=#등장-및-발전-배경>#</a></h3><p>마이크로서비스, 클라우드 네이티브로의 전환에 따라 서비스 경계가 복잡해졌다.</p><p>Kubernetes 는 내부적으로 Pod 간 통신을 ClusterIP 또는 NodePort 를 통해 지원하지만, <strong>클러스터 외부에서 HTTP(S) 요청을 서비스로 라우팅하는 표준 메커니즘</strong>이 필요했다. 이에 따라 <strong>Ingress API</strong>가 도입되었고, 이를 실제로 처리하는 <strong>Ingress Controller</strong>가 등장했다.</p><ul><li>초창기에는 <code>kubectl port-forward</code> 또는 <code>NodePort</code> 로 외부 노출</li><li>복잡한 URL 패턴, 도메인 기반 라우팅이 불가능 → Ingress 리소스 정의 도입</li><li>쿠버네티스 1.1(2015) 에서 공식 인그레스 리소스 지원 시작, 엔터프라이즈 네트워크 환경에서 프로덕션 표준이 됨.</li><li>다양한 Controller 구현체가 오픈소스로 발전: <code>NGINX</code>, <code>Traefik</code>, <code>HAProxy</code>, <code>Contour</code>, <code>Istio Gateway</code> 등</li></ul><h3 id=목적-및-필요성>목적 및 필요성<a hidden class=anchor aria-hidden=true href=#목적-및-필요성>#</a></h3><table><thead><tr><th>세부 목표</th><th>필요성</th></tr></thead><tbody><tr><td>트래픽 진입점 집중 관리</td><td>외부에서 클러스터로의 엔트리포인트 일원화·보안 강화</td></tr><tr><td>동적 라우팅 정책</td><td>애플리케이션 이나 API 의 버전·경로별 트래픽 유연 제어 필요</td></tr><tr><td>SSL/TLS 종료, 인증, 권한 관리</td><td>통신 보안 및 접근 제어 자동화</td></tr><tr><td>운영/배포 효율성</td><td>서비스 배포·확장 시 엔드포인트 관리 단순화</td></tr></tbody></table><p>→ 복잡한 마이크로서비스 환경에서 <strong>도메인 - 기반 라우팅, 보안, 트래픽 제어, 관측성</strong>까지 포함한 <strong>네트워크 진입 제어의 핵심 요소</strong>로 기능</p><h3 id=핵심-개념>핵심 개념<a hidden class=anchor aria-hidden=true href=#핵심-개념>#</a></h3><h4 id=기본-개념>기본 개념<a hidden class=anchor aria-hidden=true href=#기본-개념>#</a></h4><table><thead><tr><th>구분</th><th>개념</th><th>설명</th></tr></thead><tbody><tr><td>리소스 정의</td><td><strong>Ingress</strong></td><td>외부 HTTP/HTTPS 요청을 클러스터 내부 서비스로 라우팅하는 Kubernetes 리소스 선언</td></tr><tr><td>제어 컴포넌트</td><td><strong>Ingress Controller</strong></td><td>Ingress 리소스를 감시하고, 실제 프록시 구성 (L7 트래픽 처리) 을 수행하는 구현체</td></tr><tr><td>구현체</td><td><strong>NGINX, Traefik, HAProxy 등</strong></td><td>대표적인 Ingress Controller 구현. 로드 밸런서 혹은 프록시 기반으로 동작함</td></tr><tr><td>트래픽 처리</td><td><strong>Reverse Proxy</strong></td><td>외부 요청을 내부로 프록시하여 인증, TLS 종료, 경로 기반 라우팅 등 수행</td></tr><tr><td>확장성 지원</td><td><strong>Load Balancer</strong></td><td>외부에서 다수의 Ingress Controller 인스턴스로 분산 처리 가능</td></tr><tr><td>기능 지원</td><td><strong>Path/Host 기반 라우팅, TLS 종료, 인증, L7 Load Balancing</strong></td><td>주요 기능 요소</td></tr><tr><td>선언적 연결</td><td><strong>IngressClass</strong></td><td>여러 Ingress Controller 간 역할 분리 및 설정 매핑</td></tr></tbody></table><h4 id=심화-개념>심화 개념<a hidden class=anchor aria-hidden=true href=#심화-개념>#</a></h4><h5 id=ingress-resource>Ingress Resource<a hidden class=anchor aria-hidden=true href=#ingress-resource>#</a></h5><p><strong>역할</strong>: 클러스터 외부 요청 (HTTP/HTTPS) 을 내부 서비스로 라우팅하는 규칙 선언.</p><p><strong>구성</strong>:</p><ul><li><code>host</code>: 도메인 기반 구분 (<code>example.com</code>)</li><li><code>path</code>: 경로 기반 라우팅 (<code>/api</code>, <code>/admin</code>)</li><li><code>backend</code>: 요청을 전달할 내부 서비스 (<code>serviceName</code>, <code>servicePort</code>)</li></ul><p><strong>예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14>14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15>15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16>16</a>
</span><span class=lnt id=hl-0-17><a class=lnlinks href=#hl-0-17>17</a>
</span><span class=lnt id=hl-0-18><a class=lnlinks href=#hl-0-18>18</a>
</span><span class=lnt id=hl-0-19><a class=lnlinks href=#hl-0-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>example-ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nt>nginx.ingress.kubernetes.io/rewrite-target</span><span class=p>:</span><span class=w> </span><span class=l>/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ingressClassName</span><span class=p>:</span><span class=w> </span><span class=l>nginx </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>example.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/web</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class=l>Prefix</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>web-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li><code>ingressClassName</code>: 이 Ingress 는 <code>nginx</code> IngressClass 에 의해 처리됨.</li><li><code>rewrite-target</code>: URL 경로 재작성 (예: <code>/web/foo</code> → <code>/foo</code>)</li><li><code>rules</code>: <code>host</code> 와 <code>path</code> 에 따라 요청을 특정 서비스로 라우팅</li></ul><h5 id=ingress-controller-1>Ingress Controller<a hidden class=anchor aria-hidden=true href=#ingress-controller-1>#</a></h5><p><strong>설명</strong>: Ingress 리소스를 감시 (watch) 하고, 이를 기반으로 실제 프록시 (L7) 설정을 구성.</p><p><strong>동작 방식</strong>: Deployment 로 실행되며, 각 클러스터 노드에서 ingress 트래픽을 처리.</p><p><strong>역할</strong>:</p><ul><li>리버스 프록시로 외부 요청 수신</li><li>TLS 인증서 적용</li><li>인증 헤더 삽입, CORS 등 보안 기능 적용</li><li>로깅, 레이트 리밋, 서킷 브레이커 등 고급 기능 포함 (Controller 마다 다름)</li></ul><h5 id=ingressclass>IngressClass<a hidden class=anchor aria-hidden=true href=#ingressclass>#</a></h5><p><strong>도입 목적</strong>: 멀티 Ingress Controller 환경에서 각 리소스를 어떤 Controller 가 처리할지 명시</p><p><strong>구성 요소</strong>:</p><ul><li><code>controller</code>: 예: <code>k8s.io/ingress-nginx</code></li><li><code>parameters</code>: 커스텀 리소스 사용 가능</li></ul><p><strong>예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2>2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3>3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4>4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5>5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>IngressClass</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>controller</span><span class=p>:</span><span class=w> </span><span class=l>k8s.io/ingress-nginx</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li><code>IngressClass</code> 는 특정 Ingress 리소스를 어떤 Ingress Controller 가 처리할지 결정한다.</li><li><code>controller</code>: 해당 클래스가 어떤 컨트롤러에 의해 처리되는지를 지정한다.<ul><li><code>k8s.io/ingress-nginx</code> 는 NGINX Ingress Controller 의 기본값.</li></ul></li><li>여러 Ingress Controller 를 병렬로 운영할 때 클래스 단위로 구분해 제어할 수 있다.</li></ul><h5 id=트래픽-라우팅-전략>트래픽 라우팅 전략<a hidden class=anchor aria-hidden=true href=#트래픽-라우팅-전략>#</a></h5><table><thead><tr><th>기준</th><th>설명</th></tr></thead><tbody><tr><td>호스트 기반</td><td>도메인에 따라 트래픽을 분리: <code>api.example.com</code>, <code>web.example.com</code></td></tr><tr><td>경로 기반</td><td><code>/api</code>, <code>/user</code> 등 URL 경로에 따라 라우팅</td></tr><tr><td>헤더 기반</td><td>요청 헤더를 기반으로 특정 백엔드 선택</td></tr><tr><td>쿠키 기반</td><td>세션 스티키 적용을 위한 쿠키 라우팅</td></tr></tbody></table><h5 id=tls-종료-ssl-termination>TLS 종료 (SSL Termination)<a hidden class=anchor aria-hidden=true href=#tls-종료-ssl-termination>#</a></h5><p><strong>기능</strong>: HTTPS 요청을 Ingress Controller 에서 해제 후 내부에 HTTP 로 전달.</p><p><strong>이점</strong>:</p><ul><li>백엔드 서비스에서 인증서 처리 불필요</li><li>인증서 중앙 관리</li></ul><p><strong>구성</strong>: <code>tls</code> 필드를 통해 Secret 정의.</p><h5 id=인증인가-기능-연계>인증/인가 기능 연계<a hidden class=anchor aria-hidden=true href=#인증인가-기능-연계>#</a></h5><p><strong>기본 지원</strong>:</p><ul><li>HTTP Basic Auth</li><li>OAuth2 Proxy 연동</li><li>인증 헤더 삽입 (e.g., <code>X-Forwarded-User</code>)</li></ul><p><strong>외부 인증 시스템 연동</strong>: OIDC, LDAP, 인증 미들웨어와 통합 가능</p><h4 id=실무-구현과의-연관성>실무 구현과의 연관성<a hidden class=anchor aria-hidden=true href=#실무-구현과의-연관성>#</a></h4><table><thead><tr><th>실무 요구사항</th><th>연관 핵심 기능</th><th>설명</th></tr></thead><tbody><tr><td><strong>도메인/경로 기반 라우팅</strong></td><td>Host/Path 기반 라우팅</td><td>다수의 서비스에 대해 하나의 IP 로 요청을 분기하여 멀티 도메인 운영 혹은 다중 API Gateway 구성 가능</td></tr><tr><td><strong>보안 통신 요구사항</strong></td><td>TLS 종료</td><td>인증서 중앙관리, 자동 갱신 (cert-manager) 로 인프라 보안 단순화 및 HTTPS 적용 비용 감소</td></tr><tr><td><strong>제로 트러스트 아키텍처</strong></td><td>인증·인가, IP 제한, 헤더 기반 필터링</td><td>외부 요청을 식별하여 서비스 접근 제한. OAuth2 Proxy, JWT 인증, RBAC 정책 연계 가능</td></tr><tr><td><strong>트래픽 안정화</strong></td><td>L7 Load Balancing, Health Check</td><td>백엔드 상태 감지 및 장애 자동 우회로 고가용성 확보. Traefik/NGINX 에서 커스텀 정책 가능</td></tr><tr><td><strong>운영 효율성</strong></td><td>선언형 구성 + 모니터링 연계</td><td>YAML 로 라우팅 정책 명시 + Prometheus, Grafana 와 연계한 메트릭 수집 및 알림</td></tr><tr><td><strong>서비스 스케일링</strong></td><td>Ingress 규칙 기반 자동 확장</td><td>새 서비스 추가 시 라우팅 규칙만 수정하면 배포 완료. 프록시 설정 재시작 없이 실시간 반영 가능</td></tr><tr><td><strong>비용 최적화</strong></td><td>클라우드 외부 LB 대체</td><td>퍼블릭 클라우드 비용이 높은 외부 LB 대신 Ingress Controller 사용으로 비용 절감</td></tr></tbody></table><h3 id=주요-기능-및-역할>주요 기능 및 역할<a hidden class=anchor aria-hidden=true href=#주요-기능-및-역할>#</a></h3><h4 id=주요-기능>주요 기능<a hidden class=anchor aria-hidden=true href=#주요-기능>#</a></h4><table><thead><tr><th>기능 범주</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>트래픽 제어</td><td><strong>Path/Host 기반 라우팅</strong></td><td>URL 경로 (<code>/api</code>, <code>/admin</code>) 또는 도메인 (<code>app.example.com</code>) 기준 분기</td></tr><tr><td>보안 처리</td><td><strong>TLS 종료 (SSL Termination)</strong></td><td>HTTPS 트래픽을 Ingress 레이어에서 복호화하고 인증서를 중앙 관리</td></tr><tr><td>인증/인가 통합</td><td><strong>AuthN/AuthZ</strong></td><td>외부 인증 시스템 (OAuth2, OIDC, Basic Auth 등) 과 연동하여 인증/인가 처리</td></tr><tr><td>부하 분산</td><td><strong>Load Balancing</strong></td><td>다중 백엔드 인스턴스로 트래픽을 분산 (Round Robin, IP Hash 등 지원)</td></tr><tr><td>URL 조작</td><td><strong>Rewrite / Redirect</strong></td><td>클라이언트 요청 URL 을 수정하거나 리다이렉션 (경로 정규화, 리디렉션 전략 등)</td></tr><tr><td>고급 제어</td><td><strong>Rate Limiting / CORS / WAF</strong></td><td>요청 속도 제한, CORS 허용/차단, Web Application Firewall 연동 등 보안 제어</td></tr><tr><td>관찰 가능성 확보</td><td><strong>Metrics / Logs / Tracing</strong></td><td>Prometheus, Fluentd, Jaeger 등과 연계하여 성능/보안/오류 모니터링 지원</td></tr></tbody></table><h4 id=주요-역할>주요 역할<a hidden class=anchor aria-hidden=true href=#주요-역할>#</a></h4><table><thead><tr><th>역할 범주</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>프록시 역할</td><td><strong>Reverse Proxy (L7)</strong></td><td>외부 클라이언트 요청을 내부 서비스로 전달하고 응답 반환 (L7 프록시로 동작)</td></tr><tr><td>트래픽 제어 지점</td><td><strong>Cluster Entry Gateway</strong></td><td>클러스터 외부 요청을 수용하는 단일 진입점 역할 수행</td></tr><tr><td>정책 해석기</td><td><strong>Ingress 리소스 감시 및 적용</strong></td><td>YAML 로 정의된 Ingress 리소스를 감시하고 실시간으로 정책을 구성 요소에 반영</td></tr><tr><td>보안 경계 제공자</td><td><strong>Security Boundary Enforcer</strong></td><td>TLS, 인증/인가, 접근제어 등의 보안 정책을 가장 앞단에서 시행</td></tr><tr><td>운영 가시성 제공자</td><td><strong>Observability Integrator</strong></td><td>APM, 메트릭 수집, 로그 추적 등 운영 관찰 가능성 확보에 핵심 위치</td></tr><tr><td>DevOps 연계 지점</td><td><strong>CI/CD 및 GitOps 진입점</strong></td><td>Git 기반 YAML 선언을 통해 지속적 배포와 정책 자동화를 가능하게 함</td></tr></tbody></table><h4 id=기능--역할-관계-매핑>기능 ↔ 역할 관계 매핑<a hidden class=anchor aria-hidden=true href=#기능--역할-관계-매핑>#</a></h4><table><thead><tr><th>기능 항목</th><th>연결되는 역할 항목</th><th>기능 - 역할 매핑 설명</th></tr></thead><tbody><tr><td>Path/Host 기반 라우팅</td><td>Reverse Proxy, Entry Gateway</td><td>경로/도메인 기준 요청을 내부로 전달하는 핵심 기능과 이를 중계하는 게이트웨이 역할을 연결</td></tr><tr><td>TLS 종료</td><td>보안 경계 제공자</td><td>인증서를 중앙에서 관리하고 복호화하는 보안 게이트 처리 기능</td></tr><tr><td>인증/인가</td><td>보안 경계 제공자</td><td>외부 인증 연동 또는 요청 제어를 통해 보안 경계 및 트러스트 확보</td></tr><tr><td>Load Balancing</td><td>트래픽 제어 지점, 운영 가시성 제공자</td><td>요청을 다중 인스턴스로 효율적으로 분산함과 동시에 관찰 도구와 연계해 가용성 모니터링 가능</td></tr><tr><td>Metrics/Logs/Tracing</td><td>운영 가시성 제공자, DevOps 연계 지점</td><td>관찰성을 제공하며, 운영 자동화 도구와 통합해 배포 및 트래픽 정책을 최적화함</td></tr><tr><td>Rewrite / Redirect</td><td>Reverse Proxy</td><td>외부 요청 구조를 내부 API 스펙에 맞게 수정하거나 리다이렉션 처리</td></tr></tbody></table><h4 id=ingress-controller-역할-기반-구성>Ingress Controller 역할 기반 구성<a hidden class=anchor aria-hidden=true href=#ingress-controller-역할-기반-구성>#</a></h4><pre class=mermaid>flowchart TD
    %% 외부 사용자
    UA([&#34;사용자 (Client)&#34;])

    %% Ingress Controller
    IGW[[&#34;Ingress Controller&lt;br/&gt;(Reverse Proxy, Entry Gateway)&#34;]]

    %% 보안 정책 계층
    SEC[[&#34;보안 정책 계층&lt;br/&gt;(TLS 종료, 인증/인가, WAF)&#34;]]
    SEC --&gt;|TLS Termination&lt;br/&gt;JWT / OAuth2| IGW

    %% 트래픽 라우팅
    RTG[[&#34;트래픽 라우팅&lt;br/&gt;(Path/Host 기반)&#34;]]
    IGW --&gt; RTG

    %% 부하 분산 처리
    LBS[[&#34;부하 분산 처리&lt;br/&gt;(Load Balancer + Health Check)&#34;]]
    RTG --&gt; LBS

    %% 내부 백엔드 서비스
    SVC1([서비스 A])
    SVC2([서비스 B])
    LBS --&gt; SVC1
    LBS --&gt; SVC2

    %% 모니터링 / 로깅 / 트레이싱
    OBS[[&#34;관찰 가능성 계층&lt;br/&gt;(Metrics / Logs / Tracing)&#34;]]
    IGW --&gt;|Request Log| OBS
    SVC1 --&gt;|App Metrics| OBS
    SVC2 --&gt;|App Traces| OBS

    %% CI/CD와 선언형 정책 연계
    GIT[(GitOps / CI-CD)]
    GIT --&gt;|YAML 정책 배포| IGW

    UA --&gt;|HTTPS 요청| SEC
</pre><table><thead><tr><th>계층</th><th>역할 설명</th></tr></thead><tbody><tr><td>사용자 (Client)</td><td>클러스터 외부에서 HTTP/HTTPS 요청 발생</td></tr><tr><td>Ingress Controller</td><td>클러스터 진입 지점이자 L7 프록시 역할 수행 (경로 해석, 인증/인가, TLS 종료 등)</td></tr><tr><td>보안 정책 계층</td><td>TLS 종료, 인증 토큰 검증, WAF 규칙 적용 등 외부 트래픽의 검증 수행</td></tr><tr><td>라우팅/로드 밸런싱</td><td>Path/Host 기반 요청 분기 → Health Check 기반 백엔드 분산 처리</td></tr><tr><td>백엔드 서비스</td><td>실제 비즈니스 로직을 처리하는 서비스들. 마이크로서비스 구조 또는 단일 서비스 구조 모두 가능</td></tr><tr><td>관찰 가능성 계층</td><td>요청 로그, 지표, 트레이싱 등을 수집하여 Prometheus, Grafana, Jaeger 등과 연동 가능</td></tr><tr><td>GitOps/CI-CD 연계</td><td>선언형 YAML 로 Ingress 정책을 배포하고, 자동 재구성 및 일관된 정책 관리 실현</td></tr></tbody></table><h3 id=특징>특징<a hidden class=anchor aria-hidden=true href=#특징>#</a></h3><table><thead><tr><th>카테고리</th><th>핵심 특징</th><th>설명</th></tr></thead><tbody><tr><td><strong>확장성</strong></td><td>수평 확장 가능</td><td>여러 Ingress Controller 인스턴스를 동시에 배포하여 트래픽 증가 대응 (Stateless 방식)</td></tr><tr><td><strong>유연성</strong></td><td>다양한 라우팅 및 설정 지원</td><td>Host/Path 기반 라우팅 외에도 Header, Cookie 등 정교한 제어 가능. Annotation, CRD 기반 커스터마이징 가능.</td></tr><tr><td><strong>표준 기반 운영</strong></td><td>Kubernetes 리소스 기반 동작</td><td><code>Ingress</code> 리소스를 watch 하여 동적 구성 반영. GitOps 및 YAML 선언적 구성 방식과 자연스럽게 통합 가능.</td></tr><tr><td><strong>플랫폼 독립성</strong></td><td>클라우드/온프레미스 호환</td><td>표준 Kubernetes API 기반이므로 GKE, EKS, AKS, On-prem 등 모든 환경에서 동일 방식으로 동작 가능.</td></tr><tr><td><strong>보안 기능 내장</strong></td><td>TLS, 인증, IP 제한 등</td><td>TLS termination, Let&rsquo;s Encrypt 자동 갱신, OAuth2/JWT 연동, IP 화이트리스트 등 내장된 보안 정책 활용 가능.</td></tr><tr><td><strong>플러그인 아키텍처</strong></td><td>미들웨어 및 모듈 연동</td><td>인증, 인증서, 로깅, WAF 등 기능을 플러그인으로 확장 가능 (예: Traefik Middleware, NGINX ModSecurity)</td></tr><tr><td><strong>다양한 구현체</strong></td><td>오픈소스 및 상용 지원</td><td>NGINX, HAProxy, Traefik, Istio, Kong 등 다양한 컨트롤러 선택 가능. 성능, 보안, 확장성에 따라 선택적으로 사용 가능</td></tr></tbody></table><h3 id=핵심-설계-원칙>핵심 설계 원칙<a hidden class=anchor aria-hidden=true href=#핵심-설계-원칙>#</a></h3><table><thead><tr><th>범주</th><th>원칙</th><th>설명</th></tr></thead><tbody><tr><td>설계 철학</td><td><strong>단일 진입점 (Single Point of Entry)</strong></td><td>모든 외부 트래픽은 Ingress Controller 를 통해 들어오며, 트래픽 제어와 보안 정책 적용의 중심 역할 수행</td></tr><tr><td></td><td><strong>선언형 구성 (Declarative Configuration)</strong></td><td>Kubernetes Ingress 리소스를 통해 라우팅, 보안, 인증 정책 등을 코드로 정의하고 GitOps 기반 관리 가능</td></tr><tr><td></td><td><strong>상태 비저장 설계 (Stateless Architecture)</strong></td><td>확장성과 무중단 배포를 위해 요청 상태를 저장하지 않음. 세션 스티키가 필요한 경우에는 외부 세션 스토어 (예: Redis) 연동</td></tr><tr><td></td><td><strong>관심사의 분리 (Separation of Concerns)</strong></td><td>트래픽 라우팅, 보안, 인증은 Ingress Controller 에서, 비즈니스 로직은 백엔드 서비스에서 수행</td></tr><tr><td>보안 전략</td><td><strong>보안 우선 접근 (Security First)</strong></td><td>HTTPS 기본화, 인증/인가 필터, TLS 종료, WAF 연동, IP 제어 등 보안 강화 기능을 기본 제공</td></tr><tr><td></td><td><strong>최소 권한 원칙 (Least Privilege)</strong></td><td>컨트롤러는 필요한 네임스페이스와 리소스만 접근하도록 설정하여 보안 영역 최소화</td></tr><tr><td>운영 관점</td><td><strong>플러그형 아키텍처 (Pluggable Architecture)</strong></td><td>NGINX, Traefik, HAProxy, Envoy 등 다양한 Ingress Controller 로 교체 가능하며, 커스텀 CRD 및 모듈 확장 가능</td></tr><tr><td></td><td><strong>장애 안전성 (Fail-Safe Defaults)</strong></td><td>잘못된 설정이나 인증 실패 시 기본적으로 요청 차단 → 오작동 방지와 보안 보장</td></tr><tr><td></td><td><strong>가시성 확보 (Observability by Default)</strong></td><td>기본적으로 메트릭, 로그, 트레이싱 연동을 고려하여 운영상의 문제 추적이 용이하게 설계됨</td></tr><tr><td></td><td><strong>서비스 디스커버리 연동</strong></td><td>Kubernetes 의 서비스/엔드포인트 기반으로 동적으로 백엔드 라우팅 가능 (K8s-native)</td></tr></tbody></table><h4 id=ingress-설계-원칙별-설정-예시>Ingress 설계 원칙별 설정 예시<a hidden class=anchor aria-hidden=true href=#ingress-설계-원칙별-설정-예시>#</a></h4><h5 id=선언형-구성-declarative-configuration>선언형 구성 (Declarative Configuration)<a hidden class=anchor aria-hidden=true href=#선언형-구성-declarative-configuration>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span><span class=lnt id=hl-3-12><a class=lnlinks href=#hl-3-12>12</a>
</span><span class=lnt id=hl-3-13><a class=lnlinks href=#hl-3-13>13</a>
</span><span class=lnt id=hl-3-14><a class=lnlinks href=#hl-3-14>14</a>
</span><span class=lnt id=hl-3-15><a class=lnlinks href=#hl-3-15>15</a>
</span><span class=lnt id=hl-3-16><a class=lnlinks href=#hl-3-16>16</a>
</span><span class=lnt id=hl-3-17><a class=lnlinks href=#hl-3-17>17</a>
</span><span class=lnt id=hl-3-18><a class=lnlinks href=#hl-3-18>18</a>
</span><span class=lnt id=hl-3-19><a class=lnlinks href=#hl-3-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>my-service-ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>nginx.ingress.kubernetes.io/rewrite-target</span><span class=p>:</span><span class=w> </span><span class=l>/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ingressClassName</span><span class=p>:</span><span class=w> </span><span class=l>nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>example.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/web</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class=l>Prefix</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>web-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li><strong>목적</strong>: GitOps 등과 연계 가능한 코드 기반 정책 관리</li></ul><h5 id=단일-진입점-single-point-of-entry>단일 진입점 (Single Point of Entry)<a hidden class=anchor aria-hidden=true href=#단일-진입점-single-point-of-entry>#</a></h5><p>Ingress Controller 는 기본적으로 <strong>L7 Entry Point 역할</strong>을 수행하며, 클러스터 외부에서 진입하는 HTTP/HTTPS 트래픽의 유일한 관문으로 설정된다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2>2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3>3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4>4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Helm 설치 시 ingressClass 이름을 명시해 단일 진입점 구성</span>
</span></span><span class=line><span class=cl>helm install ingress-nginx ingress-nginx/ingress-nginx <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --set controller.ingressClass<span class=o>=</span>nginx <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --set controller.ingressClassResource.name<span class=o>=</span>nginx <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --set controller.watchIngressWithoutClass<span class=o>=</span><span class=nb>false</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><strong>목적</strong>: Ingress Controller 1 곳에서 모든 외부 요청을 제어</li></ul><h5 id=tls-종료-security-first>TLS 종료 (Security First)<a hidden class=anchor aria-hidden=true href=#tls-종료-security-first>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1> 1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2> 2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3> 3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4> 4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5> 5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6> 6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7> 7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8> 8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9> 9</a>
</span><span class=lnt id=hl-5-10><a class=lnlinks href=#hl-5-10>10</a>
</span><span class=lnt id=hl-5-11><a class=lnlinks href=#hl-5-11>11</a>
</span><span class=lnt id=hl-5-12><a class=lnlinks href=#hl-5-12>12</a>
</span><span class=lnt id=hl-5-13><a class=lnlinks href=#hl-5-13>13</a>
</span><span class=lnt id=hl-5-14><a class=lnlinks href=#hl-5-14>14</a>
</span><span class=lnt id=hl-5-15><a class=lnlinks href=#hl-5-15>15</a>
</span><span class=lnt id=hl-5-16><a class=lnlinks href=#hl-5-16>16</a>
</span><span class=lnt id=hl-5-17><a class=lnlinks href=#hl-5-17>17</a>
</span><span class=lnt id=hl-5-18><a class=lnlinks href=#hl-5-18>18</a>
</span><span class=lnt id=hl-5-19><a class=lnlinks href=#hl-5-19>19</a>
</span><span class=lnt id=hl-5-20><a class=lnlinks href=#hl-5-20>20</a>
</span><span class=lnt id=hl-5-21><a class=lnlinks href=#hl-5-21>21</a>
</span><span class=lnt id=hl-5-22><a class=lnlinks href=#hl-5-22>22</a>
</span><span class=lnt id=hl-5-23><a class=lnlinks href=#hl-5-23>23</a>
</span><span class=lnt id=hl-5-24><a class=lnlinks href=#hl-5-24>24</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>secure-ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>cert-manager.io/cluster-issuer</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;letsencrypt-prod&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>nginx.ingress.kubernetes.io/force-ssl-redirect</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ingressClassName</span><span class=p>:</span><span class=w> </span><span class=l>nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>tls</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>hosts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>secure.example.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>secretName</span><span class=p>:</span><span class=w> </span><span class=l>secure-tls-secret</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>secure.example.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class=l>Prefix</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>secure-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>443</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li><strong>목적</strong>: HTTPS 암호화, 인증서 자동 관리 (cert-manager 연동)</li></ul><h5 id=인증인가-authnauthz>인증/인가 (AuthN/AuthZ)<a hidden class=anchor aria-hidden=true href=#인증인가-authnauthz>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a>
</span><span class=lnt id=hl-6-13><a class=lnlinks href=#hl-6-13>13</a>
</span><span class=lnt id=hl-6-14><a class=lnlinks href=#hl-6-14>14</a>
</span><span class=lnt id=hl-6-15><a class=lnlinks href=#hl-6-15>15</a>
</span><span class=lnt id=hl-6-16><a class=lnlinks href=#hl-6-16>16</a>
</span><span class=lnt id=hl-6-17><a class=lnlinks href=#hl-6-17>17</a>
</span><span class=lnt id=hl-6-18><a class=lnlinks href=#hl-6-18>18</a>
</span><span class=lnt id=hl-6-19><a class=lnlinks href=#hl-6-19>19</a>
</span><span class=lnt id=hl-6-20><a class=lnlinks href=#hl-6-20>20</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>auth-ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>nginx.ingress.kubernetes.io/auth-url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;https://auth.example.com/oauth2/auth&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>nginx.ingress.kubernetes.io/auth-signin</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;https://auth.example.com/oauth2/start&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ingressClassName</span><span class=p>:</span><span class=w> </span><span class=l>nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>app.example.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class=l>Prefix</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>my-app</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li><strong>목적</strong>: OAuth2 Proxy 등 외부 인증 시스템과 연동</li></ul><h5 id=상태-비저장-설계-stateless-architecture>상태 비저장 설계 (Stateless Architecture)<a hidden class=anchor aria-hidden=true href=#상태-비저장-설계-stateless-architecture>#</a></h5><p>Ingress Controller 자체는 상태를 저장하지 않으므로, <strong>세션 스티키가 필요한 경우 외부 세션 스토리지</strong>(예: Redis) 를 이용한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2>2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3>3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4>4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5>5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6>6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7>7</a>
</span><span class=lnt id=hl-7-8><a class=lnlinks href=#hl-7-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>ConfigMap</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>nginx-configuration</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>ingress-nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>data</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>proxy-cookie-path</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;/ /; HttpOnly; Secure&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>enable-sticky-sessions</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li><strong>목적</strong>: 사용자 세션을 외부에 저장하고 Ingress 는 상태를 유지하지 않음</li></ul><h5 id=가시성-확보-observability>가시성 확보 (Observability)<a hidden class=anchor aria-hidden=true href=#가시성-확보-observability>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span><span class=lnt id=hl-8-11><a class=lnlinks href=#hl-8-11>11</a>
</span><span class=lnt id=hl-8-12><a class=lnlinks href=#hl-8-12>12</a>
</span><span class=lnt id=hl-8-13><a class=lnlinks href=#hl-8-13>13</a>
</span><span class=lnt id=hl-8-14><a class=lnlinks href=#hl-8-14>14</a>
</span><span class=lnt id=hl-8-15><a class=lnlinks href=#hl-8-15>15</a>
</span><span class=lnt id=hl-8-16><a class=lnlinks href=#hl-8-16>16</a>
</span><span class=lnt id=hl-8-17><a class=lnlinks href=#hl-8-17>17</a>
</span><span class=lnt id=hl-8-18><a class=lnlinks href=#hl-8-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># Prometheus와 연동하여 메트릭 노출</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ingress-nginx-metrics</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>app.kubernetes.io/name</span><span class=p>:</span><span class=w> </span><span class=l>ingress-nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>app.kubernetes.io/component</span><span class=p>:</span><span class=w> </span><span class=l>controller</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>prometheus.io/scrape</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>prometheus.io/port</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;10254&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>metrics</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>10254</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>targetPort</span><span class=p>:</span><span class=w> </span><span class=m>10254</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>app.kubernetes.io/name</span><span class=p>:</span><span class=w> </span><span class=l>ingress-nginx</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li><strong>목적</strong>: Ingress 메트릭을 Prometheus 로 수집하여 Grafana 대시보드 구성</li></ul><h5 id=최소-권한-설정-least-privilege>최소 권한 설정 (Least Privilege)<a hidden class=anchor aria-hidden=true href=#최소-권한-설정-least-privilege>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11>11</a>
</span><span class=lnt id=hl-9-12><a class=lnlinks href=#hl-9-12>12</a>
</span><span class=lnt id=hl-9-13><a class=lnlinks href=#hl-9-13>13</a>
</span><span class=lnt id=hl-9-14><a class=lnlinks href=#hl-9-14>14</a>
</span><span class=lnt id=hl-9-15><a class=lnlinks href=#hl-9-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># 예: ClusterRole 제한</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>rbac.authorization.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>ClusterRole</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ingress-nginx-controller</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>apiGroups</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>resources</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>configmaps</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>endpoints</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>services</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>verbs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>list</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>watch</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li><strong>목적</strong>: Ingress Controller 가 필요한 리소스만 접근하도록 제한</li></ul><h3 id=66-주요-원리-및-작동-원리>6.6 주요 원리 및 작동 원리<a hidden class=anchor aria-hidden=true href=#66-주요-원리-및-작동-원리>#</a></h3><p><strong>제어 루프 패턴 (Control Loop Pattern)</strong>:</p><pre class=mermaid>graph TD
    A[사용자가 Ingress 리소스 생성] --&gt; B[Kubernetes API Server]
    B --&gt; C[Ingress Controller가 변경 감지]
    C --&gt; D[현재 상태와 원하는 상태 비교]
    D --&gt; E[프록시 설정 업데이트]
    E --&gt; F[NGINX/HAProxy/Traefik 재로드]
    F --&gt; G[트래픽 라우팅 적용]
    G --&gt; H[상태 피드백]
    H --&gt; C
</pre><p><strong>트래픽 처리 흐름</strong>:</p><pre class=mermaid>graph LR
    A[🌐 외부 클라이언트] --&gt; B[&#34;LB 또는 NodePort (External Access)&#34;]
    B --&gt; C[&#34;Ingress Controller Pod (NGINX/Envoy)&#34;]
    C --&gt; D[&#34;Ingress 리소스 규칙 평가 (host/path)&#34;]
    D --&gt; E[&#34;ClusterIP Service (Backend Selector)&#34;]
    E --&gt; F[&#34;Pod (애플리케이션 컨테이너)&#34;]
</pre><p>작동 원리는 Kubernetes 의 Watch API 를 활용한 이벤트 기반 처리로, Ingress 리소스 변경을 실시간으로 감지하여 프록시 설정을 동적으로 업데이트한다.</p><p><strong>Ingress 작동 흐름:</strong></p><ol><li>사용자가 Ingress 리소스를 정의 (<code>host</code>, <code>path</code>, <code>backend</code> 포함)</li><li>Ingress Controller 는 API Server 를 통해 리소스를 감시</li><li>Controller 는 자신이 사용하는 로드 밸런서 (NGINX, Envoy 등) 의 설정을 업데이트</li><li>외부에서 도착한 요청을 보고 적절한 서비스로 전달</li></ol><pre class=mermaid>sequenceDiagram
    participant User
    participant K8sAPIServer
    participant IngressController
    participant Proxy
    participant BackendService

    %% 리소스 정의 및 처리 흐름
    User-&gt;&gt;K8sAPIServer: Ingress 리소스 생성 (host/path/backend)
    IngressController-&gt;&gt;K8sAPIServer: Watch Ingress Resource
    IngressController-&gt;&gt;IngressController: 프록시 설정 업데이트 (NGINX, Envoy)

    %% 실제 요청 처리 흐름
    User-&gt;&gt;Proxy: HTTP 요청 (Host/Path)
    Proxy-&gt;&gt;IngressController: 요청 전달 및 매칭
    IngressController-&gt;&gt;BackendService: 트래픽 전달 (서비스 선택 → Pod)
</pre><hr><h3 id=구조-및-아키텍처>구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#구조-및-아키텍처>#</a></h3><pre class=mermaid>flowchart TD

    %% 외부 요청 계층
    Client[사용자 클라이언트]
    DNS[DNS]
    LB[Cloud Load Balancer]

    %% Ingress Controller 구성
    subgraph Ingress_Controller[&#34;Ingress Controller (Cluster Internal)&#34;]
        APIWatcher[API Watcher]
        Controller[&#34;Controller Process&lt;br/&gt;(client-go)&#34;]
        Cache[&#34;Resource Cache&lt;br/&gt;(인메모리 상태)&#34;]
        Proxy[&#34;Proxy Engine&lt;br/&gt;(NGINX/HAProxy/Envoy)&#34;]
        CRD[&#34;Custom Resources&lt;br/&gt;e.g., VirtualServer, Middleware&#34;]
        Metrics[&#34;Metrics Exporter&lt;br/&gt;/metrics&#34;]
        Webhook[&#34;Admission Controller&lt;br/&gt;(Validating Webhook)&#34;]
    end

    %% 설정 리소스 계층
    IngressRes[Ingress Resources]
    Secret[TLS Secret]
    ConfigMap[ConfigMap]
    CRDDef[&#34;CRDs (VirtualServer, Policy 등)&#34;]

    %% Kubernetes 서비스/파드 계층
    SvcA[Service A]
    SvcB[Service B]
    PodA1[Pod A1]
    PodA2[Pod A2]
    PodB1[Pod B1]

    %% 모니터링 도구
    Prometheus[(Prometheus)]

    %% 요청 흐름
    Client --&gt; DNS --&gt; LB --&gt; Proxy

    %% 컨트롤러 구성 흐름
    IngressRes --&gt; APIWatcher --&gt; Controller
    APIWatcher --&gt; Webhook
    Controller --&gt; Cache
    Controller --&gt; CRD
    Controller --&gt; Proxy
    Controller --&gt; Metrics
    Controller --&gt; ConfigMap
    Controller --&gt; Secret
    CRDDef --&gt; CRD

    %% 서비스 연결
    Proxy --&gt; SvcA --&gt; PodA1
    SvcA --&gt; PodA2
    Proxy --&gt; SvcB --&gt; PodB1

    %% 메트릭 흐름
    Metrics --&gt; Prometheus
</pre><table><thead><tr><th>계층</th><th>설명</th></tr></thead><tbody><tr><td><strong>External 계층</strong></td><td>클라이언트 요청이 DNS 를 거쳐 클라우드 로드 밸런서에 도달</td></tr><tr><td><strong>Ingress Controller 계층</strong></td><td>요청을 받아 실제 라우팅을 처리하는 핵심 계층으로 Controller, Proxy, Webhook, Metrics Exporter 포함</td></tr><tr><td><strong>Kubernetes 설정 리소스</strong></td><td>Ingress Resource, Secret, ConfigMap, CRD 등으로 구성, 컨트롤러가 이를 감시하고 설정에 반영</td></tr><tr><td><strong>서비스 계층</strong></td><td>내부 Kubernetes 서비스 및 파드로 트래픽 전달</td></tr><tr><td><strong>관찰 가능성 계층</strong></td><td>메트릭을 Prometheus 로 수집하여 모니터링 가능</td></tr></tbody></table><h4 id=구성-요소>구성 요소<a hidden class=anchor aria-hidden=true href=#구성-요소>#</a></h4><table><thead><tr><th>구성 범주</th><th>구성 요소</th><th>기능</th><th>역할</th><th>특징</th></tr></thead><tbody><tr><td><strong>필수</strong></td><td><strong>Controller Process</strong></td><td>Kubernetes API 모니터링 및 설정 관리</td><td>Ingress 리소스 변경 감지 → 프록시 설정 반영</td><td>Go 기반, <code>client-go</code> 사용, 실시간 동기화</td></tr><tr><td></td><td><strong>Proxy Engine</strong></td><td>실제 HTTP/HTTPS 트래픽 처리 및 라우팅</td><td>요청 수신 → 백엔드 서비스 전달</td><td>NGINX, HAProxy, Envoy 등 pluggable 구현체</td></tr><tr><td></td><td><strong>Resource Cache</strong></td><td>클러스터 리소스 정보 로컬 저장</td><td>빠른 설정 참조 및 API 서버 부하 감소</td><td>인메모리 캐시, 컨트롤러 내부에서 실시간 갱신</td></tr><tr><td><strong>선택</strong></td><td><strong>Metrics Exporter</strong></td><td>Prometheus 형식의 메트릭 노출</td><td>트래픽/지연/오류율 등 모니터링 지표 제공</td><td><code>/metrics</code> 엔드포인트, Prometheus/Grafana 연동 가능</td></tr><tr><td></td><td><strong>Admission Controller</strong></td><td>Ingress 리소스 유효성 검증</td><td>잘못된 설정 차단 및 클러스터 안정성 확보</td><td>웹훅 기반, 설정 무결성 보장, Validation/Mutation 지원</td></tr><tr><td></td><td><strong>Custom Resource Definitions (CRD)</strong></td><td>벤더별 고급 기능 확장</td><td>표준 Ingress 외 고급 라우팅/보안 정책 구현</td><td><code>VirtualServer</code>, <code>Middleware</code>, <code>Policy</code> 등 컨트롤러별 CRD 정의 가능</td></tr></tbody></table><h3 id=구현-기법-및-방법>구현 기법 및 방법<a hidden class=anchor aria-hidden=true href=#구현-기법-및-방법>#</a></h3><table><thead><tr><th>카테고리</th><th>구현 방식/기법</th><th>설명</th><th>대표 예시 / 리소스 구성</th></tr></thead><tbody><tr><td><strong>배포 형태</strong></td><td>Deployment 패턴</td><td>Kubernetes Deployment 로 구성. ReplicaSet 기반 수평 확장 및 복구 가능</td><td><code>Deployment + Service</code> 구성</td></tr><tr><td></td><td>DaemonSet 패턴</td><td>각 노드에 하나씩 Ingress Controller 배포. 직접 NodePort 접근 시 활용</td><td><code>DaemonSet + NodePort</code>, 주로 로컬 트래픽에 유리</td></tr><tr><td></td><td>Helm Chart 배포</td><td>배포, 업그레이드 자동화. values.yaml 을 통한 커스터마이징 가능</td><td><code>helm install ingress-nginx</code>, <code>traefik/traefik</code> 등</td></tr><tr><td></td><td>Operator 기반 설치</td><td>CRD + Controller 로 구성된 설치 자동화 방식. 상태 기반 운영이 가능</td><td>Istio, cert-manager, Argo CD 등과 유사 방식</td></tr><tr><td><strong>리소스 구성</strong></td><td>Ingress 리소스 선언 (YAML)</td><td><code>Ingress</code> 오브젝트를 정의하여 라우팅 정책 설정</td><td><code>kind: Ingress</code>, <code>spec.rules</code> 등 구성</td></tr><tr><td></td><td>Annotation 기반 설정</td><td>구현체별 고유 기능을 어노테이션으로 설정. 주로 NGINX 등에서 활용</td><td><code>nginx.ingress.kubernetes.io/rewrite-target</code> 등</td></tr><tr><td></td><td>CRD 기반 확장</td><td>IngressClass, Gateway API, VirtualService 등으로 세밀한 정책 설정 가능</td><td>Istio 의 VirtualService, Gateway API 의 <code>HTTPRoute</code> 등</td></tr><tr><td><strong>보안 구성</strong></td><td>TLS Termination</td><td>HTTPS 종단 처리. 인증서 자동 갱신 및 TLS 설정 포함</td><td>cert-manager 연동, Let&rsquo;s Encrypt 사용</td></tr><tr><td></td><td>인증 및 접근 제어</td><td>JWT, OAuth2 Proxy, IP 화이트리스트 등 통합</td><td><code>auth-url</code>, <code>whitelist-source-range</code> 등</td></tr><tr><td><strong>운영 도구</strong></td><td>로깅 및 모니터링</td><td>Proxy 엔진의 메트릭을 Prometheus, Grafana 와 연동하여 모니터링</td><td><code>nginx_vts</code>, <code>traefik_metrics</code>, Prometheus Exporter 등</td></tr><tr><td></td><td>GitOps 연동</td><td>YAML 기반 선언적 관리 → GitOps 툴 (ArgoCD, Flux 등) 로 연동하여 자동 배포/추적 가능</td><td><code>values.yaml</code> 으로 Git 저장소에 구성 관리</td></tr></tbody></table><h4 id=요약-정리>요약 정리<a hidden class=anchor aria-hidden=true href=#요약-정리>#</a></h4><table><thead><tr><th>핵심 항목</th><th>요약 설명</th></tr></thead><tbody><tr><td><strong>배포 방식</strong></td><td>Deployment, DaemonSet, Helm, Operator 등 다양한 배포 전략이 존재</td></tr><tr><td><strong>설정 방식</strong></td><td>Ingress 리소스, Annotation, CRD 등을 통해 설정 가능 (표준/고급 라우팅 모두 지원)</td></tr><tr><td><strong>보안 및 인증</strong></td><td>TLS, 인증서 관리, 접근 제어 등의 기능이 내장되어 있음</td></tr><tr><td><strong>운영/관측 도구</strong></td><td>Prometheus/Grafana 연동, GitOps 기반 선언적 관리 가능</td></tr></tbody></table><h4 id=배포-형태>배포 형태<a hidden class=anchor aria-hidden=true href=#배포-형태>#</a></h4><table><thead><tr><th>구현 방식</th><th>특징</th><th>용도</th><th>자동화 연동</th></tr></thead><tbody><tr><td>Deployment</td><td>수평 확장 및 고가용성 보장</td><td>일반 클러스터 전반에 적합</td><td>GitOps, CI-CD</td></tr><tr><td>DaemonSet</td><td>노드별 배포, 지연 최소화</td><td>로컬 처리 또는 Bare Metal 환경</td><td>kubectl, ArgoCD</td></tr><tr><td>Helm Chart</td><td>배포 자동화 및 파라미터화된 설치</td><td>운영 효율성과 유지보수가 필요한 환경</td><td>Helm, GitOps</td></tr><tr><td>Operator 기반</td><td>상태 관리 및 선언적 리소스 처리 자동화</td><td>정책 중심 관리 및 플랫폼 서비스 운영환경</td><td>Operator SDK, GitOps</td></tr></tbody></table><h5 id=deployment-패턴>Deployment 패턴<a hidden class=anchor aria-hidden=true href=#deployment-패턴>#</a></h5><p><strong>특징</strong>: ReplicaSet 기반 수평 확장 가능</p><p><strong>장점</strong>: 롤링 업데이트, 자동 복구, 고가용성 확보</p><p><strong>적용</strong>: 대부분의 Ingress Controller 기본 배포 방식</p><p><strong>아키텍처 다이어그램</strong>:</p><pre class=mermaid>graph TD
  subgraph Kubernetes Cluster
    LB[External LoadBalancer]
    svc[&#34;Service (type=LoadBalancer)&#34;]
    dep[Deployment: Ingress Controller]
    pod1[Pod A]
    pod2[Pod B]
    pod3[Pod C]
  end

  LB --&gt; svc
  svc --&gt; pod1
  svc --&gt; pod2
  svc --&gt; pod3
</pre><p><strong>배포 파이프라인 예시 (GitOps 기반)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1> 1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2> 2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3> 3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4> 4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5> 5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6> 6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7> 7</a>
</span><span class=lnt id=hl-15-8><a class=lnlinks href=#hl-15-8> 8</a>
</span><span class=lnt id=hl-15-9><a class=lnlinks href=#hl-15-9> 9</a>
</span><span class=lnt id=hl-15-10><a class=lnlinks href=#hl-15-10>10</a>
</span><span class=lnt id=hl-15-11><a class=lnlinks href=#hl-15-11>11</a>
</span><span class=lnt id=hl-15-12><a class=lnlinks href=#hl-15-12>12</a>
</span><span class=lnt id=hl-15-13><a class=lnlinks href=#hl-15-13>13</a>
</span><span class=lnt id=hl-15-14><a class=lnlinks href=#hl-15-14>14</a>
</span><span class=lnt id=hl-15-15><a class=lnlinks href=#hl-15-15>15</a>
</span><span class=lnt id=hl-15-16><a class=lnlinks href=#hl-15-16>16</a>
</span><span class=lnt id=hl-15-17><a class=lnlinks href=#hl-15-17>17</a>
</span><span class=lnt id=hl-15-18><a class=lnlinks href=#hl-15-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># ArgoCD 앱 정의 예시</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>argoproj.io/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Application</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>nginx-ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>source</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>repoURL</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/my-org/infra-config</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>ingress/nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>targetRevision</span><span class=p>:</span><span class=w> </span><span class=l>HEAD</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>destination</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>server</span><span class=p>:</span><span class=w> </span><span class=l>https://kubernetes.default.svc</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>ingress-nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>project</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>syncPolicy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>automated</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>prune</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>selfHeal</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>구현 예시 (YAML)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1> 1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2> 2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3> 3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4> 4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5> 5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6> 6</a>
</span><span class=lnt id=hl-16-7><a class=lnlinks href=#hl-16-7> 7</a>
</span><span class=lnt id=hl-16-8><a class=lnlinks href=#hl-16-8> 8</a>
</span><span class=lnt id=hl-16-9><a class=lnlinks href=#hl-16-9> 9</a>
</span><span class=lnt id=hl-16-10><a class=lnlinks href=#hl-16-10>10</a>
</span><span class=lnt id=hl-16-11><a class=lnlinks href=#hl-16-11>11</a>
</span><span class=lnt id=hl-16-12><a class=lnlinks href=#hl-16-12>12</a>
</span><span class=lnt id=hl-16-13><a class=lnlinks href=#hl-16-13>13</a>
</span><span class=lnt id=hl-16-14><a class=lnlinks href=#hl-16-14>14</a>
</span><span class=lnt id=hl-16-15><a class=lnlinks href=#hl-16-15>15</a>
</span><span class=lnt id=hl-16-16><a class=lnlinks href=#hl-16-16>16</a>
</span><span class=lnt id=hl-16-17><a class=lnlinks href=#hl-16-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>apps/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Deployment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>nginx-ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>replicas</span><span class=p>:</span><span class=w> </span><span class=m>3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>matchLabels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>ingress-nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>template</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>ingress-nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>containers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>controller</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>k8s.gcr.io/ingress-nginx/controller:v1.12.4</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=daemonset-패턴>DaemonSet 패턴<a hidden class=anchor aria-hidden=true href=#daemonset-패턴>#</a></h5><p><strong>특징</strong>: 모든 노드에 하나의 Pod 을 배포</p><p><strong>장점</strong>: 노드 로컬 처리로 지연 최소화, 외부 NodePort 연동에 적합</p><p><strong>적용</strong>: 성능 중심 환경, Bare Metal 환경</p><p><strong>아키텍처 다이어그램</strong>:</p><pre class=mermaid>graph TD
  user[Client]
  user --&gt; node1[Node 1]
  user --&gt; node2[Node 2]
  user --&gt; node3[Node 3]

  subgraph Node 1
    D1[DaemonSet Pod]
  end

  subgraph Node 2
    D2[DaemonSet Pod]
  end

  subgraph Node 3
    D3[DaemonSet Pod]
  end
</pre><p><strong>배포 파이프라인 예시 (CI-CD 방식)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1>1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># CI 파이프라인에서 YAML 생성 → kubectl apply</span>
</span></span><span class=line><span class=cl>kubectl apply -f nginx-daemonset.yaml
</span></span></code></pre></td></tr></table></div></div><p><strong>구현 예시 (YAML)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1> 1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2> 2</a>
</span><span class=lnt id=hl-19-3><a class=lnlinks href=#hl-19-3> 3</a>
</span><span class=lnt id=hl-19-4><a class=lnlinks href=#hl-19-4> 4</a>
</span><span class=lnt id=hl-19-5><a class=lnlinks href=#hl-19-5> 5</a>
</span><span class=lnt id=hl-19-6><a class=lnlinks href=#hl-19-6> 6</a>
</span><span class=lnt id=hl-19-7><a class=lnlinks href=#hl-19-7> 7</a>
</span><span class=lnt id=hl-19-8><a class=lnlinks href=#hl-19-8> 8</a>
</span><span class=lnt id=hl-19-9><a class=lnlinks href=#hl-19-9> 9</a>
</span><span class=lnt id=hl-19-10><a class=lnlinks href=#hl-19-10>10</a>
</span><span class=lnt id=hl-19-11><a class=lnlinks href=#hl-19-11>11</a>
</span><span class=lnt id=hl-19-12><a class=lnlinks href=#hl-19-12>12</a>
</span><span class=lnt id=hl-19-13><a class=lnlinks href=#hl-19-13>13</a>
</span><span class=lnt id=hl-19-14><a class=lnlinks href=#hl-19-14>14</a>
</span><span class=lnt id=hl-19-15><a class=lnlinks href=#hl-19-15>15</a>
</span><span class=lnt id=hl-19-16><a class=lnlinks href=#hl-19-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>apps/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>DaemonSet</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>nginx-ingress-daemon</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>matchLabels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>ingress-daemon</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>template</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>ingress-daemon</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>containers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>nginx-ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>k8s.gcr.io/ingress-nginx/controller:v1.12.4</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=helm-chart-배포>Helm Chart 배포<a hidden class=anchor aria-hidden=true href=#helm-chart-배포>#</a></h5><p><strong>특징</strong>: values.yaml 을 기반으로 선언적 배포</p><p><strong>장점</strong>: 재사용성, 업그레이드 편의, 환경 분리 쉬움</p><p><strong>적용</strong>: 대부분 Helm 공식 Chart 제공 (NGINX, Traefik 등)</p><p><strong>아키텍처 다이어그램</strong>:</p><pre class=mermaid>flowchart TB
  Dev[DevOps Engineer] --&gt; GitHub[Helm Chart Repo]
  GitHub --&gt; CI[CI Pipeline]
  CI --&gt; K8s[Kubernetes Cluster]
  K8s --&gt; ingress[&#34;Ingress Controller (Helm Release)&#34;]
</pre><p><strong>배포 파이프라인 예시 (Helm + GitOps)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1>1</a>
</span><span class=lnt id=hl-21-2><a class=lnlinks href=#hl-21-2>2</a>
</span><span class=lnt id=hl-21-3><a class=lnlinks href=#hl-21-3>3</a>
</span><span class=lnt id=hl-21-4><a class=lnlinks href=#hl-21-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx
</span></span><span class=line><span class=cl>helm upgrade --install nginx-ingress ingress-nginx/ingress-nginx <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --namespace ingress-nginx --create-namespace <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --values ./values.yaml
</span></span></code></pre></td></tr></table></div></div><p><strong>구현 예시 (values.yaml)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1>1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2>2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3>3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>controller</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>replicaCount</span><span class=p>:</span><span class=w> </span><span class=m>2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>LoadBalancer</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=operator-기반-설치>Operator 기반 설치<a hidden class=anchor aria-hidden=true href=#operator-기반-설치>#</a></h5><p><strong>특징</strong>: CRD + 컨트롤러로 구성</p><p><strong>장점</strong>: 상태 기반 관리, 자동 복구 및 정책 중심 운영</p><p><strong>적용</strong>: Istio, cert-manager, ArgoCD 등에서 광범위 사용</p><p><strong>아키텍처 다이어그램</strong>:</p><pre class=mermaid>graph TD
  cr[Custom Resource: IngressPolicy] --&gt; op[Ingress Operator]
  op --&gt; k8sres[Kubernetes Resources: Deployment, Service]
</pre><p><strong>배포 파이프라인 예시 (Operator SDK + GitOps)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1>1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2>2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 예시: Operator 설치 → CR 생성</span>
</span></span><span class=line><span class=cl>kubectl apply -f operator.yaml
</span></span><span class=line><span class=cl>kubectl apply -f ingress-policy.yaml
</span></span></code></pre></td></tr></table></div></div><p><strong>구현 예시 (Custom Resource + CRD)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1> 1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2> 2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3> 3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4> 4</a>
</span><span class=lnt id=hl-25-5><a class=lnlinks href=#hl-25-5> 5</a>
</span><span class=lnt id=hl-25-6><a class=lnlinks href=#hl-25-6> 6</a>
</span><span class=lnt id=hl-25-7><a class=lnlinks href=#hl-25-7> 7</a>
</span><span class=lnt id=hl-25-8><a class=lnlinks href=#hl-25-8> 8</a>
</span><span class=lnt id=hl-25-9><a class=lnlinks href=#hl-25-9> 9</a>
</span><span class=lnt id=hl-25-10><a class=lnlinks href=#hl-25-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.example.com/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>IngressPolicy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>secure-policy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>tls</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>issuer</span><span class=p>:</span><span class=w> </span><span class=l>letsencrypt</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>access</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>whitelist</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=m>1.2.3.4</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=리소스-구성>리소스 구성<a hidden class=anchor aria-hidden=true href=#리소스-구성>#</a></h4><table><thead><tr><th>구현 방식</th><th>개념 요약</th><th>장점</th><th>한계/주의사항</th></tr></thead><tbody><tr><td>Ingress 선언</td><td>기본 Kubernetes 리소스</td><td>간단하고 빠르게 적용 가능</td><td>복잡한 정책 적용에는 한계</td></tr><tr><td>Annotation 설정</td><td>Ingress 에 구현체별 기능을 주입</td><td>인증/리다이렉트 등 특수 기능 지원</td><td>구현체 의존성 높음 (이식성 ↓)</td></tr><tr><td>CRD 기반 확장</td><td>Gateway API, VirtualService 등 사용</td><td>구조 분리, 고급 기능, 정책 제어 가능</td><td>복잡도 증가, CRD/컨트롤러 선 설치 필요</td></tr></tbody></table><h5 id=ingress-리소스-선언-yaml>Ingress 리소스 선언 (YAML)<a hidden class=anchor aria-hidden=true href=#ingress-리소스-선언-yaml>#</a></h5><ul><li>Kubernetes 기본 제공 리소스인 <code>Ingress</code> 를 선언하여 라우팅 규칙 설정</li><li>Host/Path 기반으로 트래픽을 백엔드 서비스로 전달</li></ul><p><strong>아키텍처 다이어그램</strong>:</p><pre class=mermaid>graph TD
  client[Client Request]
  ingress[Ingress Resource]
  svc[Backend Service]
  pod[&#34;Pod (App)&#34;]

  client --&gt; ingress
  ingress --&gt; svc
  svc --&gt; pod
</pre><p><strong>배포 파이프라인 예시 (GitOps 기반)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1> 1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2> 2</a>
</span><span class=lnt id=hl-27-3><a class=lnlinks href=#hl-27-3> 3</a>
</span><span class=lnt id=hl-27-4><a class=lnlinks href=#hl-27-4> 4</a>
</span><span class=lnt id=hl-27-5><a class=lnlinks href=#hl-27-5> 5</a>
</span><span class=lnt id=hl-27-6><a class=lnlinks href=#hl-27-6> 6</a>
</span><span class=lnt id=hl-27-7><a class=lnlinks href=#hl-27-7> 7</a>
</span><span class=lnt id=hl-27-8><a class=lnlinks href=#hl-27-8> 8</a>
</span><span class=lnt id=hl-27-9><a class=lnlinks href=#hl-27-9> 9</a>
</span><span class=lnt id=hl-27-10><a class=lnlinks href=#hl-27-10>10</a>
</span><span class=lnt id=hl-27-11><a class=lnlinks href=#hl-27-11>11</a>
</span><span class=lnt id=hl-27-12><a class=lnlinks href=#hl-27-12>12</a>
</span><span class=lnt id=hl-27-13><a class=lnlinks href=#hl-27-13>13</a>
</span><span class=lnt id=hl-27-14><a class=lnlinks href=#hl-27-14>14</a>
</span><span class=lnt id=hl-27-15><a class=lnlinks href=#hl-27-15>15</a>
</span><span class=lnt id=hl-27-16><a class=lnlinks href=#hl-27-16>16</a>
</span><span class=lnt id=hl-27-17><a class=lnlinks href=#hl-27-17>17</a>
</span><span class=lnt id=hl-27-18><a class=lnlinks href=#hl-27-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># ingress.yaml Git 저장소에 정의</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># ArgoCD or Flux가 감시하여 자동 반영</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>app-ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;app.example.com&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class=l>Prefix</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>app-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>구현 예시 (YAML)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-28-1><a class=lnlinks href=#hl-28-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=l>kubectl apply -f ingress.yaml</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=annotation-기반-설정>Annotation 기반 설정<a hidden class=anchor aria-hidden=true href=#annotation-기반-설정>#</a></h5><ul><li><code>Ingress</code> 메타데이터에 어노테이션을 추가하여 <strong>컨트롤러별 특수 기능</strong>을 선언적으로 설정</li><li>예: 리다이렉션, 인증, 캐싱 등</li></ul><p><strong>아키텍처 다이어그램</strong>:</p><pre class=mermaid>graph TD
  ingress[Ingress Resource w/ Annotation]
  ctrl[Ingress Controller]
  action[&#34;특수 기능 적용 (예: 리다이렉션, Auth)&#34;]
  svc[Backend Service]

  ingress --&gt; ctrl
  ctrl --&gt; action
  action --&gt; svc
</pre><p><strong>배포 파이프라인 예시 (Helm + values override)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-30-1><a class=lnlinks href=#hl-30-1>1</a>
</span><span class=lnt id=hl-30-2><a class=lnlinks href=#hl-30-2>2</a>
</span><span class=lnt id=hl-30-3><a class=lnlinks href=#hl-30-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>controller</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>config</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enable-rewrite-target</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>구현 예시 (YAML)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-31-1><a class=lnlinks href=#hl-31-1> 1</a>
</span><span class=lnt id=hl-31-2><a class=lnlinks href=#hl-31-2> 2</a>
</span><span class=lnt id=hl-31-3><a class=lnlinks href=#hl-31-3> 3</a>
</span><span class=lnt id=hl-31-4><a class=lnlinks href=#hl-31-4> 4</a>
</span><span class=lnt id=hl-31-5><a class=lnlinks href=#hl-31-5> 5</a>
</span><span class=lnt id=hl-31-6><a class=lnlinks href=#hl-31-6> 6</a>
</span><span class=lnt id=hl-31-7><a class=lnlinks href=#hl-31-7> 7</a>
</span><span class=lnt id=hl-31-8><a class=lnlinks href=#hl-31-8> 8</a>
</span><span class=lnt id=hl-31-9><a class=lnlinks href=#hl-31-9> 9</a>
</span><span class=lnt id=hl-31-10><a class=lnlinks href=#hl-31-10>10</a>
</span><span class=lnt id=hl-31-11><a class=lnlinks href=#hl-31-11>11</a>
</span><span class=lnt id=hl-31-12><a class=lnlinks href=#hl-31-12>12</a>
</span><span class=lnt id=hl-31-13><a class=lnlinks href=#hl-31-13>13</a>
</span><span class=lnt id=hl-31-14><a class=lnlinks href=#hl-31-14>14</a>
</span><span class=lnt id=hl-31-15><a class=lnlinks href=#hl-31-15>15</a>
</span><span class=lnt id=hl-31-16><a class=lnlinks href=#hl-31-16>16</a>
</span><span class=lnt id=hl-31-17><a class=lnlinks href=#hl-31-17>17</a>
</span><span class=lnt id=hl-31-18><a class=lnlinks href=#hl-31-18>18</a>
</span><span class=lnt id=hl-31-19><a class=lnlinks href=#hl-31-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>app-ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>nginx.ingress.kubernetes.io/rewrite-target</span><span class=p>:</span><span class=w> </span><span class=l>/$1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>nginx.ingress.kubernetes.io/ssl-redirect</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;app.example.com&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/api/(.*)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class=l>Prefix</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>app-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=crd-기반-확장-예-gateway-api-istio-virtualservice-등>CRD 기반 확장 (예: Gateway API, Istio VirtualService 등)<a hidden class=anchor aria-hidden=true href=#crd-기반-확장-예-gateway-api-istio-virtualservice-등>#</a></h5><ul><li>기본 Ingress 기능을 넘는 복잡한 라우팅, 정책, TLS, 인증 등의 기능을 위해 CRD(Custom Resource) 기반 확장</li><li>Gateway API, Istio, Traefik 등이 활용</li></ul><p><strong>아키텍처 다이어그램 (Gateway API 기반 예시)</strong>:</p><pre class=mermaid>graph TD
  client[Client]
  gw[&#34;Gateway (CRD)&#34;]
  route[&#34;HTTPRoute (CRD)&#34;]
  svc[Service]

  client --&gt; gw
  gw --&gt; route
  route --&gt; svc
</pre><p><strong>배포 파이프라인 예시 (Operator + CRD 등록 후 GitOps)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-33-1><a class=lnlinks href=#hl-33-1>1</a>
</span><span class=lnt id=hl-33-2><a class=lnlinks href=#hl-33-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Gateway API CRD 설치</span>
</span></span><span class=line><span class=cl>kubectl apply -f https://github.com/kubernetes-sigs/gateway-api/releases/download/v1.0.0/standard-install.yaml
</span></span></code></pre></td></tr></table></div></div><p><strong>구현 예시 (HTTPRoute + Gateway)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-34-1><a class=lnlinks href=#hl-34-1> 1</a>
</span><span class=lnt id=hl-34-2><a class=lnlinks href=#hl-34-2> 2</a>
</span><span class=lnt id=hl-34-3><a class=lnlinks href=#hl-34-3> 3</a>
</span><span class=lnt id=hl-34-4><a class=lnlinks href=#hl-34-4> 4</a>
</span><span class=lnt id=hl-34-5><a class=lnlinks href=#hl-34-5> 5</a>
</span><span class=lnt id=hl-34-6><a class=lnlinks href=#hl-34-6> 6</a>
</span><span class=lnt id=hl-34-7><a class=lnlinks href=#hl-34-7> 7</a>
</span><span class=lnt id=hl-34-8><a class=lnlinks href=#hl-34-8> 8</a>
</span><span class=lnt id=hl-34-9><a class=lnlinks href=#hl-34-9> 9</a>
</span><span class=lnt id=hl-34-10><a class=lnlinks href=#hl-34-10>10</a>
</span><span class=lnt id=hl-34-11><a class=lnlinks href=#hl-34-11>11</a>
</span><span class=lnt id=hl-34-12><a class=lnlinks href=#hl-34-12>12</a>
</span><span class=lnt id=hl-34-13><a class=lnlinks href=#hl-34-13>13</a>
</span><span class=lnt id=hl-34-14><a class=lnlinks href=#hl-34-14>14</a>
</span><span class=lnt id=hl-34-15><a class=lnlinks href=#hl-34-15>15</a>
</span><span class=lnt id=hl-34-16><a class=lnlinks href=#hl-34-16>16</a>
</span><span class=lnt id=hl-34-17><a class=lnlinks href=#hl-34-17>17</a>
</span><span class=lnt id=hl-34-18><a class=lnlinks href=#hl-34-18>18</a>
</span><span class=lnt id=hl-34-19><a class=lnlinks href=#hl-34-19>19</a>
</span><span class=lnt id=hl-34-20><a class=lnlinks href=#hl-34-20>20</a>
</span><span class=lnt id=hl-34-21><a class=lnlinks href=#hl-34-21>21</a>
</span><span class=lnt id=hl-34-22><a class=lnlinks href=#hl-34-22>22</a>
</span><span class=lnt id=hl-34-23><a class=lnlinks href=#hl-34-23>23</a>
</span><span class=lnt id=hl-34-24><a class=lnlinks href=#hl-34-24>24</a>
</span><span class=lnt id=hl-34-25><a class=lnlinks href=#hl-34-25>25</a>
</span><span class=lnt id=hl-34-26><a class=lnlinks href=#hl-34-26>26</a>
</span><span class=lnt id=hl-34-27><a class=lnlinks href=#hl-34-27>27</a>
</span><span class=lnt id=hl-34-28><a class=lnlinks href=#hl-34-28>28</a>
</span><span class=lnt id=hl-34-29><a class=lnlinks href=#hl-34-29>29</a>
</span><span class=lnt id=hl-34-30><a class=lnlinks href=#hl-34-30>30</a>
</span><span class=lnt id=hl-34-31><a class=lnlinks href=#hl-34-31>31</a>
</span><span class=lnt id=hl-34-32><a class=lnlinks href=#hl-34-32>32</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>gateway.networking.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Gateway</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>app-gateway</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>gatewayClassName</span><span class=p>:</span><span class=w> </span><span class=l>nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>listeners</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>http</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>HTTP</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>routes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>HTTPRoute</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>matchLabels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>http-route</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>gateway.networking.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>HTTPRoute</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>http-route</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>http-route</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>matches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>path</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>PathPrefix</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=l>/foo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>backendRefs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>app-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=보안-구성>보안 구성<a hidden class=anchor aria-hidden=true href=#보안-구성>#</a></h4><table><thead><tr><th>보안 구성 방식</th><th>개요</th><th>장점</th><th>한계 또는 고려사항</th></tr></thead><tbody><tr><td>TLS Termination</td><td>Ingress 에서 HTTPS 종료</td><td>HTTPS 보안 확보, 인증서 자동화</td><td>백엔드와의 통신 보안은 별도 고려 필요</td></tr><tr><td>OAuth2/JWT 인증</td><td>인증 프록시와 연동하여 사용자 인증 수행</td><td>외부 인증 시스템 통합, 인증 확장성 확보</td><td>인증 프록시 구성 필요, 리다이렉션 구성 필요</td></tr><tr><td>IP 화이트리스트</td><td>클라이언트 IP 기반 접근 제한</td><td>보안 강화, 내부망 제한 서비스에 적합</td><td>동적 IP 환경에서 불편, VPN 고려 필요</td></tr></tbody></table><h5 id=tls-termination>TLS Termination<a hidden class=anchor aria-hidden=true href=#tls-termination>#</a></h5><ul><li>Ingress Controller 에서 HTTPS 요청의 TLS 암호화를 해제하고, 백엔드에는 HTTP 로 전달하는 방식</li><li>인증서는 Ingress Controller 또는 cert-manager 를 통해 자동 관리 가능</li></ul><p><strong>아키텍처 다이어그램</strong>:</p><pre class=mermaid>sequenceDiagram
  participant Client
  participant Ingress
  participant Backend

  Client-&gt;&gt;Ingress: HTTPS Request (TLS)
  Ingress-&gt;&gt;Ingress: TLS Termination (SSL 해제)
  Ingress-&gt;&gt;Backend: HTTP Request (내부 통신)
</pre><p><strong>배포 파이프라인 예시 (cert-manager + GitOps)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-36-1><a class=lnlinks href=#hl-36-1>1</a>
</span><span class=lnt id=hl-36-2><a class=lnlinks href=#hl-36-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># cert-manager CRD 설치</span>
</span></span><span class=line><span class=cl>kubectl apply -f https://github.com/cert-manager/cert-manager/releases/latest/download/cert-manager.yaml
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-37-1><a class=lnlinks href=#hl-37-1> 1</a>
</span><span class=lnt id=hl-37-2><a class=lnlinks href=#hl-37-2> 2</a>
</span><span class=lnt id=hl-37-3><a class=lnlinks href=#hl-37-3> 3</a>
</span><span class=lnt id=hl-37-4><a class=lnlinks href=#hl-37-4> 4</a>
</span><span class=lnt id=hl-37-5><a class=lnlinks href=#hl-37-5> 5</a>
</span><span class=lnt id=hl-37-6><a class=lnlinks href=#hl-37-6> 6</a>
</span><span class=lnt id=hl-37-7><a class=lnlinks href=#hl-37-7> 7</a>
</span><span class=lnt id=hl-37-8><a class=lnlinks href=#hl-37-8> 8</a>
</span><span class=lnt id=hl-37-9><a class=lnlinks href=#hl-37-9> 9</a>
</span><span class=lnt id=hl-37-10><a class=lnlinks href=#hl-37-10>10</a>
</span><span class=lnt id=hl-37-11><a class=lnlinks href=#hl-37-11>11</a>
</span><span class=lnt id=hl-37-12><a class=lnlinks href=#hl-37-12>12</a>
</span><span class=lnt id=hl-37-13><a class=lnlinks href=#hl-37-13>13</a>
</span><span class=lnt id=hl-37-14><a class=lnlinks href=#hl-37-14>14</a>
</span><span class=lnt id=hl-37-15><a class=lnlinks href=#hl-37-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># ClusterIssuer 선언 (Let&#39;s Encrypt)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>cert-manager.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>ClusterIssuer</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>letsencrypt-prod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>acme</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>email</span><span class=p>:</span><span class=w> </span><span class=l>dev@example.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>server</span><span class=p>:</span><span class=w> </span><span class=l>https://acme-v02.api.letsencrypt.org/directory</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>privateKeySecretRef</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>letsencrypt-prod-key</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>solvers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>http01</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>ingress</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>class</span><span class=p>:</span><span class=w> </span><span class=l>nginx</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>구현 예시 (Ingress + 인증서 자동 적용)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-38-1><a class=lnlinks href=#hl-38-1> 1</a>
</span><span class=lnt id=hl-38-2><a class=lnlinks href=#hl-38-2> 2</a>
</span><span class=lnt id=hl-38-3><a class=lnlinks href=#hl-38-3> 3</a>
</span><span class=lnt id=hl-38-4><a class=lnlinks href=#hl-38-4> 4</a>
</span><span class=lnt id=hl-38-5><a class=lnlinks href=#hl-38-5> 5</a>
</span><span class=lnt id=hl-38-6><a class=lnlinks href=#hl-38-6> 6</a>
</span><span class=lnt id=hl-38-7><a class=lnlinks href=#hl-38-7> 7</a>
</span><span class=lnt id=hl-38-8><a class=lnlinks href=#hl-38-8> 8</a>
</span><span class=lnt id=hl-38-9><a class=lnlinks href=#hl-38-9> 9</a>
</span><span class=lnt id=hl-38-10><a class=lnlinks href=#hl-38-10>10</a>
</span><span class=lnt id=hl-38-11><a class=lnlinks href=#hl-38-11>11</a>
</span><span class=lnt id=hl-38-12><a class=lnlinks href=#hl-38-12>12</a>
</span><span class=lnt id=hl-38-13><a class=lnlinks href=#hl-38-13>13</a>
</span><span class=lnt id=hl-38-14><a class=lnlinks href=#hl-38-14>14</a>
</span><span class=lnt id=hl-38-15><a class=lnlinks href=#hl-38-15>15</a>
</span><span class=lnt id=hl-38-16><a class=lnlinks href=#hl-38-16>16</a>
</span><span class=lnt id=hl-38-17><a class=lnlinks href=#hl-38-17>17</a>
</span><span class=lnt id=hl-38-18><a class=lnlinks href=#hl-38-18>18</a>
</span><span class=lnt id=hl-38-19><a class=lnlinks href=#hl-38-19>19</a>
</span><span class=lnt id=hl-38-20><a class=lnlinks href=#hl-38-20>20</a>
</span><span class=lnt id=hl-38-21><a class=lnlinks href=#hl-38-21>21</a>
</span><span class=lnt id=hl-38-22><a class=lnlinks href=#hl-38-22>22</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>tls-app-ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>cert-manager.io/cluster-issuer</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;letsencrypt-prod&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>tls</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>hosts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>app.example.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>secretName</span><span class=p>:</span><span class=w> </span><span class=l>tls-secret</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>app.example.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class=l>Prefix</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>app-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=인증-및-접근-제어>인증 및 접근 제어<a hidden class=anchor aria-hidden=true href=#인증-및-접근-제어>#</a></h5><h6 id=jwt-또는-oauth2-인증-프록시>JWT 또는 OAuth2 인증 프록시<a hidden class=anchor aria-hidden=true href=#jwt-또는-oauth2-인증-프록시>#</a></h6><ul><li>인증은 Ingress 앞단 또는 사이드카 형태의 인증 프록시에서 수행 (예: oauth2-proxy)</li><li>사용자 인증 후 <code>Authorization</code> 또는 <code>ID Token</code> 전달</li></ul><p><strong>아키텍처 다이어그램 (oauth2-proxy 기반)</strong>:</p><pre class=mermaid>sequenceDiagram
  participant Client
  participant Ingress
  participant OAuth2-Proxy
  participant Backend

  Client-&gt;&gt;Ingress: HTTP Request
  Ingress-&gt;&gt;OAuth2-Proxy: 인증 요청
  OAuth2-Proxy-&gt;&gt;OAuth Server: Redirect + Token 요청
  OAuth Server--&gt;&gt;OAuth2-Proxy: JWT/Access Token
  OAuth2-Proxy--&gt;&gt;Ingress: 인증 완료
  Ingress-&gt;&gt;Backend: 요청 전달 (with Header)
</pre><p><strong>배포 파이프라인 예시 (Helm 으로 oauth2-proxy 설치)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-40-1><a class=lnlinks href=#hl-40-1>1</a>
</span><span class=lnt id=hl-40-2><a class=lnlinks href=#hl-40-2>2</a>
</span><span class=lnt id=hl-40-3><a class=lnlinks href=#hl-40-3>3</a>
</span><span class=lnt id=hl-40-4><a class=lnlinks href=#hl-40-4>4</a>
</span><span class=lnt id=hl-40-5><a class=lnlinks href=#hl-40-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm repo add oauth2-proxy https://oauth2-proxy.github.io/manifests
</span></span><span class=line><span class=cl>helm install oauth2 oauth2-proxy/oauth2-proxy <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --set config.clientID<span class=o>=</span><span class=nv>$CLIENT_ID</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --set config.clientSecret<span class=o>=</span><span class=nv>$CLIENT_SECRET</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --set config.cookieSecret<span class=o>=</span><span class=nv>$COOKIE_SECRET</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>구현 예시 (Ingress + External Auth)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-41-1><a class=lnlinks href=#hl-41-1> 1</a>
</span><span class=lnt id=hl-41-2><a class=lnlinks href=#hl-41-2> 2</a>
</span><span class=lnt id=hl-41-3><a class=lnlinks href=#hl-41-3> 3</a>
</span><span class=lnt id=hl-41-4><a class=lnlinks href=#hl-41-4> 4</a>
</span><span class=lnt id=hl-41-5><a class=lnlinks href=#hl-41-5> 5</a>
</span><span class=lnt id=hl-41-6><a class=lnlinks href=#hl-41-6> 6</a>
</span><span class=lnt id=hl-41-7><a class=lnlinks href=#hl-41-7> 7</a>
</span><span class=lnt id=hl-41-8><a class=lnlinks href=#hl-41-8> 8</a>
</span><span class=lnt id=hl-41-9><a class=lnlinks href=#hl-41-9> 9</a>
</span><span class=lnt id=hl-41-10><a class=lnlinks href=#hl-41-10>10</a>
</span><span class=lnt id=hl-41-11><a class=lnlinks href=#hl-41-11>11</a>
</span><span class=lnt id=hl-41-12><a class=lnlinks href=#hl-41-12>12</a>
</span><span class=lnt id=hl-41-13><a class=lnlinks href=#hl-41-13>13</a>
</span><span class=lnt id=hl-41-14><a class=lnlinks href=#hl-41-14>14</a>
</span><span class=lnt id=hl-41-15><a class=lnlinks href=#hl-41-15>15</a>
</span><span class=lnt id=hl-41-16><a class=lnlinks href=#hl-41-16>16</a>
</span><span class=lnt id=hl-41-17><a class=lnlinks href=#hl-41-17>17</a>
</span><span class=lnt id=hl-41-18><a class=lnlinks href=#hl-41-18>18</a>
</span><span class=lnt id=hl-41-19><a class=lnlinks href=#hl-41-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>secure-ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>nginx.ingress.kubernetes.io/auth-url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;https://oauth2-proxy.example.com/oauth2/auth&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>nginx.ingress.kubernetes.io/auth-signin</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;https://oauth2-proxy.example.com/oauth2/start&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>app.example.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class=l>Prefix</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>app-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=ip-화이트리스트-기반-접근-제어>IP 화이트리스트 기반 접근 제어<a hidden class=anchor aria-hidden=true href=#ip-화이트리스트-기반-접근-제어>#</a></h5><ul><li>특정 IP 만 접근 가능하도록 제한</li><li>주로 프라이빗 네트워크나 내부 시스템용으로 사용</li></ul><p><strong>아키텍처 다이어그램</strong>:</p><pre class=mermaid>flowchart TD
  Client1[Client IP: 1.2.3.4]
  Client2[Client IP: 5.6.7.8]
  ingress[Ingress Controller]
  svc[Backend Service]

  Client1 --&gt; ingress
  Client2 -. blocked .-&gt; ingress
  ingress --&gt; svc
</pre><p><strong>구현 예시 (YAML Annotation 방식)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-43-1><a class=lnlinks href=#hl-43-1> 1</a>
</span><span class=lnt id=hl-43-2><a class=lnlinks href=#hl-43-2> 2</a>
</span><span class=lnt id=hl-43-3><a class=lnlinks href=#hl-43-3> 3</a>
</span><span class=lnt id=hl-43-4><a class=lnlinks href=#hl-43-4> 4</a>
</span><span class=lnt id=hl-43-5><a class=lnlinks href=#hl-43-5> 5</a>
</span><span class=lnt id=hl-43-6><a class=lnlinks href=#hl-43-6> 6</a>
</span><span class=lnt id=hl-43-7><a class=lnlinks href=#hl-43-7> 7</a>
</span><span class=lnt id=hl-43-8><a class=lnlinks href=#hl-43-8> 8</a>
</span><span class=lnt id=hl-43-9><a class=lnlinks href=#hl-43-9> 9</a>
</span><span class=lnt id=hl-43-10><a class=lnlinks href=#hl-43-10>10</a>
</span><span class=lnt id=hl-43-11><a class=lnlinks href=#hl-43-11>11</a>
</span><span class=lnt id=hl-43-12><a class=lnlinks href=#hl-43-12>12</a>
</span><span class=lnt id=hl-43-13><a class=lnlinks href=#hl-43-13>13</a>
</span><span class=lnt id=hl-43-14><a class=lnlinks href=#hl-43-14>14</a>
</span><span class=lnt id=hl-43-15><a class=lnlinks href=#hl-43-15>15</a>
</span><span class=lnt id=hl-43-16><a class=lnlinks href=#hl-43-16>16</a>
</span><span class=lnt id=hl-43-17><a class=lnlinks href=#hl-43-17>17</a>
</span><span class=lnt id=hl-43-18><a class=lnlinks href=#hl-43-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>internal-app-ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>nginx.ingress.kubernetes.io/whitelist-source-range</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;192.168.0.0/16,203.0.113.0/24&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>internal.example.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class=l>Prefix</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>internal-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=운영-도구>운영 도구<a hidden class=anchor aria-hidden=true href=#운영-도구>#</a></h4><table><thead><tr><th>구현 방식</th><th>개요</th><th>장점</th><th>고려사항</th></tr></thead><tbody><tr><td>로깅 및 모니터링</td><td>메트릭 및 로그를 수집하여 관찰성 확보</td><td>성능/장애 모니터링, 알림, 추세 분석 가능</td><td>Prometheus Operator, Grafana 구성 필요</td></tr><tr><td>GitOps 연동</td><td>Git 저장소 기반 선언형 배포 자동화</td><td>실시간 동기화, 감사 이력 관리, 충돌 방지</td><td>Argo CD/Flux 설치 및 관리 필요, 브랜치 전략 관리 필요</td></tr></tbody></table><h5 id=로깅-및-모니터링>로깅 및 모니터링<a hidden class=anchor aria-hidden=true href=#로깅-및-모니터링>#</a></h5><ul><li>Ingress Controller(NGINX, Traefik 등) 의 메트릭과 로그를 수집하여 Prometheus, Grafana, Loki 등으로 시각화 및 경보 설정</li><li>주요 관찰 지표: 요청 수, 지연 시간, 에러율, 4xx/5xx 상태코드 등</li></ul><p><strong>아키텍처 다이어그램</strong>:</p><pre class=mermaid>flowchart TD
  client[Client Request] --&gt; ingress[Ingress Controller]
  ingress --&gt; backend[App Service]
  ingress --&gt; prometheus[&#34;Prometheus (Metrics Export)&#34;]
  ingress --&gt; loki[&#34;Loki (Log Export)&#34;]
  prometheus --&gt; grafana[Grafana Dashboard]
  loki --&gt; grafana
</pre><p><strong>배포 파이프라인 예시 (Helm + values.yaml)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-45-1><a class=lnlinks href=#hl-45-1>1</a>
</span><span class=lnt id=hl-45-2><a class=lnlinks href=#hl-45-2>2</a>
</span><span class=lnt id=hl-45-3><a class=lnlinks href=#hl-45-3>3</a>
</span><span class=lnt id=hl-45-4><a class=lnlinks href=#hl-45-4>4</a>
</span><span class=lnt id=hl-45-5><a class=lnlinks href=#hl-45-5>5</a>
</span><span class=lnt id=hl-45-6><a class=lnlinks href=#hl-45-6>6</a>
</span><span class=lnt id=hl-45-7><a class=lnlinks href=#hl-45-7>7</a>
</span><span class=lnt id=hl-45-8><a class=lnlinks href=#hl-45-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm install ingress-nginx ingress-nginx/ingress-nginx <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --namespace ingress-nginx --create-namespace <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --set controller.metrics.enabled<span class=o>=</span><span class=nb>true</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --set controller.metrics.serviceMonitor.enabled<span class=o>=</span><span class=nb>true</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --set controller.metrics.serviceMonitor.additionalLabels.release<span class=o>=</span>prometheus <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --set controller.config.enable-access-log<span class=o>=</span><span class=s2>&#34;true&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --set controller.config.log-format-escape-json<span class=o>=</span><span class=s2>&#34;true&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --set controller.logLevel<span class=o>=</span>info
</span></span></code></pre></td></tr></table></div></div><table><thead><tr><th>설정 키</th><th>의미</th><th>주요 대상</th><th>결과 효과</th></tr></thead><tbody><tr><td><code>metrics.enabled</code></td><td>메트릭 활성화</td><td>NGINX Exporter</td><td>Prometheus 수집 가능</td></tr><tr><td><code>serviceMonitor.enabled</code></td><td>ServiceMonitor CR 생성</td><td>Prometheus Operator</td><td>자동 수집 대상 등록</td></tr><tr><td><code>additionalLabels.release=prometheus</code></td><td>라벨 매칭</td><td>Prometheus Helm release</td><td>CR 자동 감지 조건 충족</td></tr><tr><td><code>enable-access-log</code></td><td>접근 로그 기록</td><td>NGINX</td><td>요청 로그 추적 가능</td></tr><tr><td><code>log-format-escape-json</code></td><td>JSON 로그 출력</td><td>Loki/FluentBit 등</td><td>파싱 최적화</td></tr><tr><td><code>logLevel=info</code></td><td>로그 레벨 설정</td><td>Ingress Controller</td><td>적절한 운영 로그 제공</td></tr></tbody></table><p><strong>구현 예시</strong>:</p><ul><li>values.yaml (모니터링 + 로깅)</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-46-1><a class=lnlinks href=#hl-46-1> 1</a>
</span><span class=lnt id=hl-46-2><a class=lnlinks href=#hl-46-2> 2</a>
</span><span class=lnt id=hl-46-3><a class=lnlinks href=#hl-46-3> 3</a>
</span><span class=lnt id=hl-46-4><a class=lnlinks href=#hl-46-4> 4</a>
</span><span class=lnt id=hl-46-5><a class=lnlinks href=#hl-46-5> 5</a>
</span><span class=lnt id=hl-46-6><a class=lnlinks href=#hl-46-6> 6</a>
</span><span class=lnt id=hl-46-7><a class=lnlinks href=#hl-46-7> 7</a>
</span><span class=lnt id=hl-46-8><a class=lnlinks href=#hl-46-8> 8</a>
</span><span class=lnt id=hl-46-9><a class=lnlinks href=#hl-46-9> 9</a>
</span><span class=lnt id=hl-46-10><a class=lnlinks href=#hl-46-10>10</a>
</span><span class=lnt id=hl-46-11><a class=lnlinks href=#hl-46-11>11</a>
</span><span class=lnt id=hl-46-12><a class=lnlinks href=#hl-46-12>12</a>
</span><span class=lnt id=hl-46-13><a class=lnlinks href=#hl-46-13>13</a>
</span><span class=lnt id=hl-46-14><a class=lnlinks href=#hl-46-14>14</a>
</span><span class=lnt id=hl-46-15><a class=lnlinks href=#hl-46-15>15</a>
</span><span class=lnt id=hl-46-16><a class=lnlinks href=#hl-46-16>16</a>
</span><span class=lnt id=hl-46-17><a class=lnlinks href=#hl-46-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>controller</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>metrics</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serviceMonitor</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>additionalLabels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>release</span><span class=p>:</span><span class=w> </span><span class=l>prometheus </span><span class=w> </span><span class=c># Prometheus Operator에서 자동 감지용</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>logLevel</span><span class=p>:</span><span class=w> </span><span class=l>info</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>config</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enable-access-log</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>             </span><span class=c># 접근 로그 활성화</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>log-format-escape-json</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>        </span><span class=c># JSON 형식 로그</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>access-log-format</span><span class=p>:</span><span class=w> </span><span class=p>&gt;-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>      {&#34;time&#34;: &#34;$time_iso8601&#34;, &#34;remote_addr&#34;: &#34;$proxy_protocol_addr&#34;, &#34;request&#34;: &#34;$request&#34;, 
</span></span></span><span class=line><span class=cl><span class=sd>       &#34;status&#34;: &#34;$status&#34;, &#34;body_bytes_sent&#34;: &#34;$body_bytes_sent&#34;, &#34;request_time&#34;: &#34;$request_time&#34;,
</span></span></span><span class=line><span class=cl><span class=sd>       &#34;upstream_response_time&#34;: &#34;$upstream_response_time&#34;, &#34;http_user_agent&#34;: &#34;$http_user_agent&#34;}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li><strong>Prometheus Operator 설치 시 자동 감지</strong></li><li>Grafana 에서 대시보드 템플릿: <code>NGINX Ingress Controller dashboard (ID: 9614)</code> 사용 가능</li></ul><h5 id=gitops-연동>GitOps 연동<a hidden class=anchor aria-hidden=true href=#gitops-연동>#</a></h5><ul><li>Ingress 리소스 및 관련 YAML 파일을 Git 저장소에 선언하고, Argo CD 또는 Flux 등 GitOps 툴을 통해 자동으로 Kubernetes 클러스터에 적</li><li>구성 변경 시 Git commit → 자동 동기화 → 변경 반영</li></ul><p><strong>아키텍처 다이어그램</strong>:</p><pre class=mermaid>flowchart TD
  dev[Developer Push] --&gt; git[Git Repository]
  git --&gt; argo[Argo CD Controller]
  argo --&gt; cluster[Kubernetes Cluster]
  cluster --&gt; ingress[Ingress + TLS + Policies]
</pre><p><strong>배포 파이프라인 예시 (Argo CD Application)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-48-1><a class=lnlinks href=#hl-48-1> 1</a>
</span><span class=lnt id=hl-48-2><a class=lnlinks href=#hl-48-2> 2</a>
</span><span class=lnt id=hl-48-3><a class=lnlinks href=#hl-48-3> 3</a>
</span><span class=lnt id=hl-48-4><a class=lnlinks href=#hl-48-4> 4</a>
</span><span class=lnt id=hl-48-5><a class=lnlinks href=#hl-48-5> 5</a>
</span><span class=lnt id=hl-48-6><a class=lnlinks href=#hl-48-6> 6</a>
</span><span class=lnt id=hl-48-7><a class=lnlinks href=#hl-48-7> 7</a>
</span><span class=lnt id=hl-48-8><a class=lnlinks href=#hl-48-8> 8</a>
</span><span class=lnt id=hl-48-9><a class=lnlinks href=#hl-48-9> 9</a>
</span><span class=lnt id=hl-48-10><a class=lnlinks href=#hl-48-10>10</a>
</span><span class=lnt id=hl-48-11><a class=lnlinks href=#hl-48-11>11</a>
</span><span class=lnt id=hl-48-12><a class=lnlinks href=#hl-48-12>12</a>
</span><span class=lnt id=hl-48-13><a class=lnlinks href=#hl-48-13>13</a>
</span><span class=lnt id=hl-48-14><a class=lnlinks href=#hl-48-14>14</a>
</span><span class=lnt id=hl-48-15><a class=lnlinks href=#hl-48-15>15</a>
</span><span class=lnt id=hl-48-16><a class=lnlinks href=#hl-48-16>16</a>
</span><span class=lnt id=hl-48-17><a class=lnlinks href=#hl-48-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>argoproj.io/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Application</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ingress-nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>project</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>source</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>repoURL</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;https://github.com/my-org/infra-config&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>targetRevision</span><span class=p>:</span><span class=w> </span><span class=l>HEAD</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>ingress/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>destination</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>server</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;https://kubernetes.default.svc&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>ingress-nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>syncPolicy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>automated</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>prune</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>selfHeal</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>구현 예시 (디렉토리 구조 예시)</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-49-1><a class=lnlinks href=#hl-49-1>1</a>
</span><span class=lnt id=hl-49-2><a class=lnlinks href=#hl-49-2>2</a>
</span><span class=lnt id=hl-49-3><a class=lnlinks href=#hl-49-3>3</a>
</span><span class=lnt id=hl-49-4><a class=lnlinks href=#hl-49-4>4</a>
</span><span class=lnt id=hl-49-5><a class=lnlinks href=#hl-49-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=cl>infra-config/
</span></span><span class=line><span class=cl>└── ingress/
</span></span><span class=line><span class=cl>    ├── ingress.yaml
</span></span><span class=line><span class=cl>    ├── cert-issuer.yaml
</span></span><span class=line><span class=cl>    └── values.yaml  # Helm 기반 구성
</span></span></code></pre></td></tr></table></div></div><ul><li>Git 저장소에 선언된 리소스를 기준으로 Argo CD 가 주기적으로 상태 감시</li><li><code>kubectl describe application ingress-nginx</code> 로 상태 점검 가능</li></ul><h3 id=장점>장점<a hidden class=anchor aria-hidden=true href=#장점>#</a></h3><table><thead><tr><th>카테고리</th><th>항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>트래픽 관리</strong></td><td>트래픽 라우팅 통제</td><td>Host, Path 기반의 세밀한 라우팅 제어 가능</td></tr><tr><td></td><td>트래픽 집약 관리</td><td>외부 요청 진입점을 단일화해 라우팅과 정책 적용을 중앙 집중화</td></tr><tr><td></td><td>중앙집중식 운영</td><td>모든 라우팅 정책을 Ingress 리소스로 선언하여 일괄 관리 가능</td></tr><tr><td><strong>보안</strong></td><td>TLS 종료/SSL 지원</td><td>HTTPS 요청을 Ingress 레벨에서 해제하여 백엔드 보안 및 성능 확보</td></tr><tr><td></td><td>보안 정책 적용</td><td>인증, IP 화이트리스트, WAF, JWT 등 다양한 보안 정책을 프록시 수준에서 통합 적용</td></tr><tr><td><strong>자동화 및 DevOps</strong></td><td>선언적 구성</td><td>YAML 기반 설정으로 GitOps 및 CI/CD 자동화에 최적화됨</td></tr><tr><td></td><td>DevOps 연계</td><td>파이프라인과 쉽게 통합 가능하여 배포/운영 자동화에 용이</td></tr><tr><td><strong>확장성 및 유연성</strong></td><td>수평 확장</td><td>Ingress Controller 는 여러 인스턴스로 확장 가능하며 트래픽 증가에 유연 대응</td></tr><tr><td></td><td>플랫폼 호환성</td><td>NGINX, Traefik, ALB 등 다양한 프록시/로드밸런서와 연동 가능</td></tr><tr><td><strong>비용 효율성</strong></td><td>클라우드 비용 절감</td><td>단일 외부 LoadBalancer 로 다수 서비스 연결 시 비용 절감 (특히 L4 대비)</td></tr><tr><td><strong>운영 단순화</strong></td><td>모니터링/로깅 일원화</td><td>진입점에서 모든 요청을 수집하고 관찰할 수 있어 운영 복잡성 감소</td></tr></tbody></table><h4 id=요약-정리-1>요약 정리<a hidden class=anchor aria-hidden=true href=#요약-정리-1>#</a></h4><table><thead><tr><th>항목</th><th>내용 요약</th></tr></thead><tbody><tr><td><strong>트래픽 제어</strong></td><td>경로 기반 정교한 라우팅과 중앙 집중식 트래픽 통제가 가능함</td></tr><tr><td><strong>보안 강화</strong></td><td>TLS 종료, 인증, WAF 등의 정책을 진입점에서 통합 적용</td></tr><tr><td><strong>자동화 최적화</strong></td><td>YAML 기반 선언형 구성으로 GitOps 및 DevOps 환경에 이상적</td></tr><tr><td><strong>확장성과 유연성</strong></td><td>다수 프록시 구현체와 호환되며, 수평 확장으로 트래픽 증가에도 안정 대응</td></tr><tr><td><strong>비용 절감 효과</strong></td><td>단일 LoadBalancer 구성으로 인프라 비용을 효율적으로 절감 가능</td></tr><tr><td><strong>운영 단순화</strong></td><td>단일 진입점에서의 모니터링/로깅은 운영 부담을 줄이고 문제 진단을 단순화함</td></tr></tbody></table><h3 id=단점과-문제점-그리고-해결방안>단점과 문제점 그리고 해결방안<a hidden class=anchor aria-hidden=true href=#단점과-문제점-그리고-해결방안>#</a></h3><h4 id=단점>단점<a hidden class=anchor aria-hidden=true href=#단점>#</a></h4><table><thead><tr><th>구분</th><th>항목</th><th>설명</th><th>해결책</th></tr></thead><tbody><tr><td><strong>구조적 한계</strong></td><td>단일 장애점</td><td>Ingress Controller 장애 시 전체 서비스 접근 차단</td><td>고가용성 구성, 다중 Zone/Replica 배포</td></tr><tr><td></td><td>L7 전용 한계</td><td>TCP/UDP 등의 L4 트래픽 미지원</td><td>LoadBalancer 서비스 사용, Gateway API 연동</td></tr><tr><td><strong>성능/확장</strong></td><td>성능 병목</td><td>모든 트래픽이 Ingress 를 거치며 부하 집중</td><td>수평적 확장 (HPA), 로드 밸런서 최적화</td></tr><tr><td></td><td>리소스 오버헤드</td><td>프록시 구성 자체가 CPU/메모리 리소스 사용 많음</td><td>요청 제한 설정, 자원 할당 최적화, 컨트롤러 수평 확장</td></tr><tr><td><strong>운영 복잡도</strong></td><td>설정 복잡성</td><td>다양한 어노테이션, 인증 정책, 라우팅 설정 등 YAML 구성 복잡</td><td>템플릿/툴링 기반 관리, Helm/Kustomize 활용</td></tr><tr><td></td><td>진단/디버깅 난이도</td><td>설정 오류나 라우팅 문제 발생 시 원인 파악이 어려움</td><td>접근 로그 활성화, 로깅/메트릭 도구 연계 (Loki, Prometheus, Grafana)</td></tr><tr><td><strong>표준화 문제</strong></td><td>구현체 간 설정 차이</td><td>NGINX, Traefik 등 컨트롤러마다 기능·어노테이션 상이</td><td>Gateway API 기반 구성으로 일관성 확보, 벤더 중립 설정 구조 사용</td></tr></tbody></table><ul><li>구조적 단점은 <strong>고가용성 미지원 및 L7 한계</strong>, 성능 단점은 <strong>병목/오버헤드</strong>, 운영 측면에서는 <strong>설정 복잡성과 진단 어려움</strong>, 플랫폼 측면에서는 <strong>벤더 종속성</strong>이 대표적이다.</li><li>해결방안은 <strong>수평 확장</strong>, <strong>템플릿화</strong>, <strong>표준 API 활용</strong>, <strong>관찰성 도구 연계</strong>를 통해 보완 가능하다.</li></ul><h4 id=문제점>문제점<a hidden class=anchor aria-hidden=true href=#문제점>#</a></h4><table><thead><tr><th>구분</th><th>항목</th><th>원인</th><th>영향</th><th>탐지 및 진단</th><th>예방 방법</th><th>해결 방법 및 기법</th></tr></thead><tbody><tr><td><strong>설정 충돌</strong></td><td>라우팅 설정 충돌</td><td>동일 host/path 중복 Ingress 정의</td><td>트래픽 라우팅 오류</td><td><code>kubectl describe</code>, 로그 확인, CI 정적 분석</td><td>네이밍 정책, 네임스페이스 분리</td><td>Admission Controller, GitOps 테스트</td></tr><tr><td><strong>보안 이슈</strong></td><td>인증서 만료</td><td>cert-manager 자동화 실패, 만료 주기 누락</td><td>HTTPS 통신 불가</td><td>Prometheus 알림, cert-manager 이벤트 로그</td><td>인증서 갱신 주기 점검</td><td>자동화 구성 점검, Let&rsquo;s Encrypt 연동</td></tr><tr><td><strong>신뢰성 저하</strong></td><td>라우팅 누락</td><td>Path 정의 누락, 오타 등 YAML 설정 실수</td><td>특정 서비스 접근 불가</td><td>Ingress 상태 확인 (<code>describe</code>), Canary 테스트</td><td>GitOps 배포 시 검증 단계 추가</td><td>Pre-deploy 테스트</td></tr><tr><td><strong>성능 문제</strong></td><td>자원 과다 사용</td><td>트래픽 증가, 다수 라우팅 규칙으로 컨트롤러 부하 증가</td><td>노드 자원 소진, 성능 저하</td><td>메트릭 수집 (Prometheus), HPA 트리거 확인</td><td>요청 수 제한, 리소스 할당 조정</td><td>수평 확장 (HPA), 캐시 최적화</td></tr><tr><td><strong>취약점 노출</strong></td><td>보안 취약점 노출</td><td>NGINX Ingress 취약점 (예: CVE-2025-1974) 등</td><td>권한 상승, 보안 침해 가능성</td><td>보안 취약점 스캐너, 이미지 정책 적용</td><td>최신 이미지 적용</td><td>패치 적용, 자동 업데이트 파이프라인 구축</td></tr></tbody></table><ul><li>주요 문제는 <strong>설정 충돌</strong>, <strong>인증서 자동화 실패</strong>, <strong>트래픽 누락</strong>, <strong>리소스 과다 사용</strong>, <strong>보안 취약점 노출</strong>로 나뉘며</li><li>예방은 <strong>CI 검증 파이프라인</strong>, <strong>모니터링/경보 시스템</strong>, <strong>최신 버전 유지</strong>, <strong>리소스 제한 설정</strong> 등으로 강화할 수 있다.</li><li>해결은 <strong>Admission Webhook</strong>, <strong>cert-manager 자동화</strong>, <strong>정적 분석</strong>, <strong>메트릭 기반 스케일링</strong> 등 실무 도구와 연계하여 진행해야 한다.</li></ul><h3 id=도전-과제>도전 과제<a hidden class=anchor aria-hidden=true href=#도전-과제>#</a></h3><table><thead><tr><th>카테고리</th><th>도전 과제</th><th>원인 또는 배경</th><th>주요 영향</th><th>해결 방안/기법</th></tr></thead><tbody><tr><td><strong>확장성</strong></td><td>수천 개 Ingress 처리 시 성능 저하</td><td>YAML 수 증가, Controller sync 부하 증가</td><td>Ingress 적용 지연, 라우팅 지연</td><td><code>IngressClass</code> 분리, <code>CRD</code> 스코핑, 캐시 최적화</td></tr><tr><td><strong>보안</strong></td><td>인증서/인증 설정 누락</td><td>인증서 자동화 실패, 인증 정책 누락</td><td>HTTPS 불가, 서비스 노출 위험</td><td><code>cert-manager</code> + Prometheus 알림, fallback 인증서 구성</td></tr><tr><td><strong>보안</strong></td><td>외부 노출로 인한 공격 표면 증가</td><td>공용 도메인 사용, 취약 컨트롤러 이미지</td><td>클러스터 침해, 민감 정보 유출</td><td>WAF 연계, 최신 패치 적용, 제로 트러스트 네트워크 적용</td></tr><tr><td><strong>운영 자동화</strong></td><td>멀티 클러스터 간 정책/설정 동기화</td><td>클러스터 분산에 따른 DNS/리소스 연계 어려움</td><td>정책 불일치, 트래픽 손실</td><td><code>ExternalDNS</code>, <code>Federated CRD</code>, <code>GitOps</code> 자동화 도입</td></tr><tr><td><strong>운영 자동화</strong></td><td>실시간 정책 반영 어려움</td><td>컨트롤러 재시작 필요, 동적 업데이트 미흡</td><td>다운타임 발생, 릴리스 속도 저하</td><td>Canary 배포, Gateway API 활용, Declarative Patch 적용</td></tr><tr><td><strong>가시성/디버깅</strong></td><td>라우팅 오류 디버깅 난이도</td><td>NGINX 기본 로그 부족, 설정 복잡</td><td>라우팅 실패 원인 파악 어려움</td><td>OpenTelemetry, JSON structured logging, Trace ID 삽입</td></tr><tr><td><strong>복잡도</strong></td><td>컨트롤러별 설정 차이</td><td>Traefik/NGINX/HAProxy 간 기능, 어노테이션 상이</td><td>설정 이식성 저하, 유지보수 복잡화</td><td>Gateway API 기반 추상화, 공통 Helm Chart/CRD 사용</td></tr><tr><td><strong>성능</strong></td><td>고속 트래픽 변화 대응 어려움</td><td>트래픽 급증에 대한 오토스케일 한계, 단일 엔트리 포인트 구성</td><td>요청 처리 지연, 서비스 지연 시간 증가</td><td>HPA(VPA), 캐싱 계층 추가, 분산 프록시 배포</td></tr><tr><td><strong>L4-L7 혼합</strong></td><td>TCP/UDP 라우팅 미지원</td><td>Ingress(L7 전용) 의 구조적 한계</td><td>WebSocket, DB 등 일부 서비스 사용 불가</td><td>L4 전용 Service/LoadBalancer, Gateway API 확장</td></tr><tr><td><strong>글로벌 라우팅</strong></td><td>리전/클러스터 간 분산 서비스 구성 어려움</td><td>글로벌 트래픽에 대한 정책 기반 라우팅 미흡</td><td>리전별 트래픽 불균형, DR 구성 복잡</td><td>글로벌 DNS, Geo-aware LB, External DNS + 정책 기반 라우팅 적용</td></tr></tbody></table><ul><li><strong>확장성과 성능 측면</strong>: Ingress 리소스 수가 많을 경우 컨트롤러의 성능 병목 발생 → <code>IngressClass</code>, CRD 분리, 수평 확장이 해법</li><li><strong>보안 측면</strong>: 인증서 자동화 실패, 외부 노출로 인한 공격 위험 → <code>cert-manager</code>, WAF, 패치 적용, 제로 트러스트 접근</li><li><strong>운영 자동화</strong>: 멀티 클러스터 환경, 정책 실시간 반영 어려움 → GitOps, ExternalDNS, Gateway API 기반 자동화 구조 필요</li><li><strong>가시성과 디버깅</strong>: 라우팅 문제 추적 어려움 → 로그 구조화 (JSON), OpenTelemetry, Trace 연계 필요</li><li><strong>복잡성과 이식성</strong>: 컨트롤러별 설정 편차 존재 → Gateway API 를 통한 표준화로 해결 가능</li><li><strong>하이브리드 트래픽 (L4/L7)</strong>: 기존 Ingress 로 처리 어려움 → LoadBalancer 서비스 또는 Gateway API 연동 필요</li></ul><h3 id=분류-기준에-따른-종류-및-유형>분류 기준에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#분류-기준에-따른-종류-및-유형>#</a></h3><table><thead><tr><th>분류 기준</th><th>유형</th><th>설명</th><th>대표 제품</th></tr></thead><tbody><tr><td><strong>프록시 엔진</strong></td><td>NGINX 기반</td><td>안정성과 성숙도 높음, L7 HTTP 중심 라우팅 지원</td><td>NGINX Ingress Controller, NGINX Plus</td></tr><tr><td></td><td>Envoy 기반</td><td>클라우드 네이티브, 고성능, Istio/Gateway API 와 연동 가능</td><td>Contour, Istio Gateway, Gloo Gateway</td></tr><tr><td></td><td>Traefik 기반</td><td>라이트한 라우팅 프록시, 미들웨어 내장, 빠른 동적 구성</td><td>Traefik Proxy</td></tr><tr><td></td><td>HAProxy 기반</td><td>고성능 L4/L7 하이브리드 프록시</td><td>HAProxy Ingress Controller</td></tr><tr><td><strong>배포 방식</strong></td><td>Deployment</td><td>중앙 집중식 컨트롤러 실행 방식, 확장성 용이</td><td>대부분의 Ingress Controller</td></tr><tr><td></td><td>DaemonSet</td><td>각 노드마다 실행, 호스트 네트워크 직접 접근 가능</td><td>고정 IP 라우팅, 저지연 환경에 적합</td></tr><tr><td><strong>플랫폼 연동</strong></td><td>클라우드 네이티브 (Managed)</td><td>퍼블릭 클라우드에서 제공하는 관리형 Ingress</td><td>AWS ALB, GCP Load Balancer, Azure AGIC</td></tr><tr><td></td><td>인클러스터 (Self-managed)</td><td>쿠버네티스 내부에서 직접 실행 및 구성</td><td>NGINX OSS, Traefik, Contour 등</td></tr><tr><td><strong>트래픽 프로토콜</strong></td><td>L7 (HTTP/HTTPS/gRPC) 지원</td><td>Path/Host 기반 고급 라우팅 가능</td><td>NGINX, Envoy, Traefik</td></tr><tr><td></td><td>L4 (TCP/TLS) 지원</td><td>L7 프록시보다 단순하지만 낮은 레벨의 트래픽 제어 가능</td><td>HAProxy, 일부 Envoy 구성</td></tr><tr><td><strong>설정 방식</strong></td><td>Annotation 기반</td><td>기본 Kubernetes Ingress 구조, 유연성은 낮지만 간단함</td><td>NGINX OSS, AWS ALB</td></tr><tr><td></td><td>CRD 기반</td><td>Gateway API, VirtualService 등 확장성과 명시성 높음</td><td>Istio, Gloo Gateway, Contour</td></tr></tbody></table><ul><li><p>배포 방식</p><ul><li><strong>Deployment</strong> 방식은 확장성과 배포 유연성에 좋으며, <strong>DaemonSet</strong>은 각 노드에 직접 배포되어 특정 네트워크 환경에서 성능적으로 유리함</li></ul></li><li><p>플랫폼 연동</p><ul><li><strong>클라우드 네이티브 Ingress Controller</strong>는 퍼블릭 클라우드에 최적화돼 있고, 보통 부하 분산기 (LB) 와 긴밀히 통합됨</li><li><strong>인클러스터 방식</strong>은 오픈소스 및 커뮤니티 기반으로 자율성과 커스터마이징에 강함</li></ul></li><li><p>트래픽 레벨</p><ul><li>대부분의 Ingress Controller 는 HTTP(S) 라우팅 중심이지만, 일부는 TCP/TLS 같은 <strong>L4 트래픽 처리</strong>도 지원하여 <strong>멀티 프로토콜 환경</strong>에 유리함</li></ul></li><li><p>설정 방식</p><ul><li>기본 Ingress 는 Annotation 방식이 많지만, 확장성과 구조적 관리에서는 **CRD 기반 (Gateway API, VirtualService)**가 우수함</li><li>특히 <strong>Gateway API</strong>는 현재 CNCF 에서 <strong>Ingress 의 차세대 표준</strong>으로 정립 중임</li></ul></li></ul><h4 id=프록시-엔진-기반-분류>프록시 엔진 기반 분류<a hidden class=anchor aria-hidden=true href=#프록시-엔진-기반-분류>#</a></h4><ul><li>NGINX, Envoy, HAProxy, Traefik 등 다양한 프록시가 Ingress Controller 의 기반 엔진으로 사용됨</li><li><strong>Envoy</strong>는 Service Mesh 와 연계하기 좋고, <strong>Traefik</strong>은 동적 구성과 미들웨어 내장으로 DevOps 에 최적화됨</li></ul><table><thead><tr><th>항목</th><th><strong>NGINX</strong></th><th><strong>Envoy</strong></th><th><strong>HAProxy</strong></th><th><strong>Traefik</strong></th></tr></thead><tbody><tr><td><strong>아키텍처</strong></td><td>이벤트 기반, 고성능 C 기반 단일 프로세스 구조</td><td>비동기 이벤트 기반, 모듈화된 C++ 구조</td><td>멀티 스레드, 성능 중심 구조</td><td>Go 기반, 내장형 Ingress Controller 로 설계됨</td></tr><tr><td><strong>Ingress 제품</strong></td><td><code>ingress-nginx</code>, <code>nginx-ingress</code> (F5)</td><td><code>Contour</code>, <code>Ambassador</code>, <code>Gloo</code>, Istio Gateway</td><td>커스텀 Ingress 가능, 직접 통합은 드묾</td><td><code>traefik/traefik</code> 직접 Ingress Controller 로 사용 가능</td></tr><tr><td><strong>성능/확장성</strong></td><td>우수 (대용량 처리에 강함), 단일 프로세스 한계 있음</td><td>매우 우수 (고성능, 멀티쓰레드 지원, 셀프 힐링 구조)</td><td>매우 빠름 (L4, L7 모두 최적화), 설정 복잡성 존재</td><td>자동 탐지 기반, 적은 설정으로도 수평 확장 가능</td></tr><tr><td><strong>L7 라우팅 유연성</strong></td><td>표준 Ingress + rich annotation 기반 커스텀 라우팅 가능</td><td>고급 라우팅 기능 (header, method, weight 등 지원)</td><td>라우팅은 설정 파일 기반, 유연성은 낮은 편</td><td>경량 라우팅 설정, path/host/header 기반 라우팅 지원</td></tr><tr><td><strong>보안 기능</strong></td><td>TLS 종료, mTLS, 인증/인가 연동, WAF 연동</td><td>mTLS, 인증 체인 구성, RBAC, 필터 기반 인증 정책</td><td>TLS, ACL, IP 제한 등 기본 제공</td><td>ACME 인증서 자동화, TLS 종료, 인증 미들웨어 연동 가능</td></tr><tr><td><strong>Observability</strong></td><td>기본 로그 + Prometheus 메트릭 + 접근 로그 설정 가능</td><td>메트릭, 로그, 트레이싱 (OpenTelemetry, Jaeger) 완비</td><td>메트릭/로그 우수하나 트레이싱 연동은 제한적</td><td>메트릭, 로깅, 트레이싱 내장 (구성 쉬움)</td></tr><tr><td><strong>Kubernetes 통합성</strong></td><td>Kubernetes-native 아님 (추가 설정 필요)</td><td>CRD 기반 완전 통합 (<code>Contour</code> 등)</td><td>통합 어려움, 직접 연동 사례는 제한적</td><td>K8s-native 설계, CRD 없이도 바로 사용 가능</td></tr><tr><td><strong>커뮤니티/생태계</strong></td><td>매우 크고 안정적, 기업/오픈소스 이중 구조 지원</td><td>CNCF 주도, 서비스 메시 표준 핵심 엔진</td><td>전통적이며 안정적, 기업용 네트워크에서 강세</td><td>Cloud-native 친화적, GitOps/DevOps 에 적합</td></tr><tr><td><strong>적합한 환경</strong></td><td>전통적 L7 라우팅, 보안 정책 세분화 필요 환경</td><td>고성능/마이크로서비스 + observability 중시 환경</td><td>L4/L7 혼합 라우팅, 고성능 TCP 처리 필요 환경</td><td>DevOps/경량 서비스, 자동화된 Ingress 구성에 최적</td></tr></tbody></table><h4 id=요약-정리-2>요약 정리<a hidden class=anchor aria-hidden=true href=#요약-정리-2>#</a></h4><table><thead><tr><th>구분</th><th>요약 평가</th></tr></thead><tbody><tr><td><strong>NGINX</strong></td><td>안정성과 성숙도 면에서 강력하며 다양한 설정이 가능하지만, K8s-native 가 아니어서 복잡도가 높음</td></tr><tr><td><strong>Envoy</strong></td><td>마이크로서비스, Observability, 고성능에 강점. 서비스 메시, Gateway API 기반 연동에 이상적</td></tr><tr><td><strong>HAProxy</strong></td><td>고성능 TCP/HTTP 처리에 특화. 단독 사용보다는 Gateway 나 고정 인프라 환경에서 유용</td></tr><tr><td><strong>Traefik</strong></td><td>DevOps 친화적, 설정 단순, 자동 감지 기능 탁월. 경량 환경에서 매우 적합</td></tr></tbody></table><h4 id=추천-사용-시나리오>추천 사용 시나리오<a hidden class=anchor aria-hidden=true href=#추천-사용-시나리오>#</a></h4><table><thead><tr><th>시나리오</th><th>추천 프록시</th></tr></thead><tbody><tr><td>대규모 서비스에서 안정적 TLS/라우팅 구성 필요</td><td><strong>NGINX</strong></td></tr><tr><td>서비스 메시, API Gateway, Istio 연동이 핵심인 아키텍처</td><td><strong>Envoy</strong></td></tr><tr><td>고성능 TCP 로드 밸런싱, L4/L7 통합 라우팅</td><td><strong>HAProxy</strong></td></tr><tr><td>간단한 마이크로서비스 배포, GitOps, 자동화 중심 환경</td><td><strong>Traefik</strong></td></tr></tbody></table><h3 id=gateway-api-vs-ingress-비교>Gateway API vs. Ingress 비교<a hidden class=anchor aria-hidden=true href=#gateway-api-vs-ingress-비교>#</a></h3><p>Kubernetes Ingress 는 오랜 기간 L7 트래픽 제어의 표준이었지만, <strong>확장성 부족</strong>, <strong>구성 일관성 부족</strong>, <strong>구현체별 차이</strong> 등의 문제로 인해 <strong>Gateway API</strong>가 등장했다.</p><h4 id=비교>비교<a hidden class=anchor aria-hidden=true href=#비교>#</a></h4><table><thead><tr><th>항목</th><th><strong>Ingress</strong></th><th><strong>Gateway API</strong></th></tr></thead><tbody><tr><td><strong>정체성</strong></td><td>Kubernetes 네트워크 리소스 (v1 정식 API)</td><td>Ingress 의 확장 대체를 목표로 한 Kubernetes 차세대 네트워크 API (CRD)</td></tr><tr><td><strong>출시 시점</strong></td><td>Kubernetes 1.1 (2015)</td><td>Kubernetes 1.18 이후 시작 (GA: 1.27 이상 일부 기능 기준)</td></tr><tr><td><strong>기능 범위</strong></td><td>L7 (HTTP, HTTPS) 트래픽 라우팅</td><td>L4 ~ L7 까지 지원 (HTTP, HTTPS, TCP, TLS, gRPC 등)</td></tr><tr><td><strong>구성 방식</strong></td><td>단일 리소스 (<code>Ingress</code>) 내에서 모든 설정 수행</td><td>역할 분리된 리소스 구성: <code>Gateway</code>, <code>GatewayClass</code>, <code>HTTPRoute</code>, <code>TLSRoute</code> 등</td></tr><tr><td><strong>라우팅 유연성</strong></td><td>제한적: 기본적으로 Host/Path 기반만 지원</td><td>고급 라우팅: Header, Method, Query, Host, Path, Weight 등 세밀한 매칭 지원</td></tr><tr><td><strong>TLS 처리</strong></td><td>주로 Annotation 기반 설정</td><td>리스너 레벨에서 TLS 구성 지원 (명시적이고 선언적)</td></tr><tr><td><strong>멀티리스너/포트 지원</strong></td><td>포트당 리스너 미지원 (보통 80, 443 고정)</td><td>Gateway 객체 내 여러 리스너 (포트/프로토콜) 정의 가능</td></tr><tr><td><strong>설정 방식</strong></td><td><code>Annotation</code> 중심 (컨트롤러 종속, 비표준적)</td><td><code>Spec</code> 필드 기반 선언적 YAML, API 표준화 진행 중</td></tr><tr><td><strong>컨트롤러 의존성</strong></td><td>Controller 마다 Annotation 해석이 다름</td><td>GatewayClass 로 컨트롤러 분리 및 기능 명시 가능</td></tr><tr><td><strong>확장성/표현력</strong></td><td>구조 단순하지만 기능 표현력 제한</td><td>역할 분리 구조로 복잡하지만 고급 기능 표현 가능</td></tr><tr><td><strong>CRD 기반 구성</strong></td><td>표준 리소스 (<code>Ingress</code>)</td><td>모두 CRD 로 구성 (<code>Gateway</code>, <code>Route</code> 등)</td></tr><tr><td><strong>권한 분리 (RBAC)</strong></td><td>불가능: Ingress 단일 객체로 모든 설정 포함</td><td>Gateway(플랫폼 팀), Route(앱 팀) 등 역할 기반 접근 분리 가능</td></tr><tr><td><strong>표준화 및 향후 방향</strong></td><td>안정화는 되었지만 기능 한계 있음</td><td>CNCF 주도 차세대 네트워크 API 로 점차 채택 증가 중</td></tr><tr><td><strong>대표 구현체</strong></td><td>NGINX Ingress Controller, Traefik, HAProxy 등</td><td>Istio Gateway, Contour, Gloo Gateway, Envoy Gateway 등</td></tr></tbody></table><h4 id=gateway-api-리소스-구성>Gateway API 리소스 구성<a hidden class=anchor aria-hidden=true href=#gateway-api-리소스-구성>#</a></h4><pre class=mermaid>flowchart TB
    GC[&#34;GatewayClass\n(클러스터 전체에서 공통 정책 정의)&#34;]
    GW[&#34;Gateway\n(리스너 정의 및 네트워크 진입점)&#34;]
    HR[&#34;HTTPRoute\n(어플리케이션 라우팅 정의)&#34;]
    TR[&#34;TLSRoute\n(HTTPS/TLS 라우팅)&#34;]
    SR[&#34;Service\n(Kubernetes 백엔드 서비스)&#34;]

    subgraph Cluster
        GC --&gt; GW
        GW --&gt; HR
        GW --&gt; TR
        HR --&gt; SR
        TR --&gt; SR
    end
</pre><table><thead><tr><th>리소스</th><th>역할 및 기능</th></tr></thead><tbody><tr><td><strong>GatewayClass</strong></td><td>클러스터 수준에서 Gateway 리소스가 사용할 구현체를 정의함 (예: <code>nginx</code>, <code>istio</code>, <code>gke-l7</code>)</td></tr><tr><td><strong>Gateway</strong></td><td>Listener (Port, TLS, Hostname 등) 를 정의하며 외부 트래픽의 진입점을 구성함</td></tr><tr><td><strong>HTTPRoute</strong></td><td>Host/Path/Method/Header 등 기반으로 트래픽을 특정 서비스로 라우팅함</td></tr><tr><td><strong>TLSRoute</strong></td><td>TLS SNI 기반으로 라우팅 정의, HTTPS 트래픽의 수신을 처리함</td></tr><tr><td><strong>Service</strong></td><td>실제 백엔드 Kubernetes 서비스 (LoadBalancer, ClusterIP 등)</td></tr></tbody></table><h5 id=구조적-특징-요약>구조적 특징 요약<a hidden class=anchor aria-hidden=true href=#구조적-특징-요약>#</a></h5><table><thead><tr><th>특징</th><th>설명</th></tr></thead><tbody><tr><td><strong>역할 분리</strong></td><td>Ingress 가 한 객체에 모든 정보를 담는 것과 달리, Gateway API 는 목적별 리소스로 역할을 분리</td></tr><tr><td><strong>보안 강화</strong></td><td>Gateway 와 Route 리소스에 서로 다른 <code>namespace</code> 및 <code>RBAC</code> 설정 가능</td></tr><tr><td><strong>확장성</strong></td><td><code>TCPRoute</code>, <code>UDPRoute</code>, <code>gRPCRoute</code> 등 다양한 L4/L7 확장 가능</td></tr><tr><td><strong>다중 라우팅 지원</strong></td><td>하나의 Gateway 에 여러 Route 를 연결하여 멀티 앱/서비스 대응 가능</td></tr></tbody></table><h4 id=yaml-예시>Yaml 예시<a hidden class=anchor aria-hidden=true href=#yaml-예시>#</a></h4><p><strong>목표</strong>: <code>example.com</code> 으로 오는 요청 중 <code>/app</code> 경로를 Kubernetes 의 <code>app-service</code> 로 라우팅</p><h5 id=ingress-예제-기존-방식>Ingress 예제 (기존 방식)<a hidden class=anchor aria-hidden=true href=#ingress-예제-기존-방식>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-51-1><a class=lnlinks href=#hl-51-1> 1</a>
</span><span class=lnt id=hl-51-2><a class=lnlinks href=#hl-51-2> 2</a>
</span><span class=lnt id=hl-51-3><a class=lnlinks href=#hl-51-3> 3</a>
</span><span class=lnt id=hl-51-4><a class=lnlinks href=#hl-51-4> 4</a>
</span><span class=lnt id=hl-51-5><a class=lnlinks href=#hl-51-5> 5</a>
</span><span class=lnt id=hl-51-6><a class=lnlinks href=#hl-51-6> 6</a>
</span><span class=lnt id=hl-51-7><a class=lnlinks href=#hl-51-7> 7</a>
</span><span class=lnt id=hl-51-8><a class=lnlinks href=#hl-51-8> 8</a>
</span><span class=lnt id=hl-51-9><a class=lnlinks href=#hl-51-9> 9</a>
</span><span class=lnt id=hl-51-10><a class=lnlinks href=#hl-51-10>10</a>
</span><span class=lnt id=hl-51-11><a class=lnlinks href=#hl-51-11>11</a>
</span><span class=lnt id=hl-51-12><a class=lnlinks href=#hl-51-12>12</a>
</span><span class=lnt id=hl-51-13><a class=lnlinks href=#hl-51-13>13</a>
</span><span class=lnt id=hl-51-14><a class=lnlinks href=#hl-51-14>14</a>
</span><span class=lnt id=hl-51-15><a class=lnlinks href=#hl-51-15>15</a>
</span><span class=lnt id=hl-51-16><a class=lnlinks href=#hl-51-16>16</a>
</span><span class=lnt id=hl-51-17><a class=lnlinks href=#hl-51-17>17</a>
</span><span class=lnt id=hl-51-18><a class=lnlinks href=#hl-51-18>18</a>
</span><span class=lnt id=hl-51-19><a class=lnlinks href=#hl-51-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>app-ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>nginx.ingress.kubernetes.io/rewrite-target</span><span class=p>:</span><span class=w> </span><span class=l>/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ingressClassName</span><span class=p>:</span><span class=w> </span><span class=l>nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>example.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/app</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class=l>Prefix</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>app-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=gateway-api-예제-gateway--httproute-방식>Gateway API 예제 (Gateway + HTTPRoute 방식)<a hidden class=anchor aria-hidden=true href=#gateway-api-예제-gateway--httproute-방식>#</a></h5><pre class=mermaid>[External Traffic]
        ↓
   [Gateway]           ← 클러스터 진입점 (Listener)
        ↓
   [HTTPRoute]         ← 어떤 조건으로 어떤 백엔드로 보낼지 정책 결정
        ↓
   [Kubernetes Service]
</pre><h6 id=gatewayclass-클러스터-전역에서-사용될-클래스>GatewayClass (클러스터 전역에서 사용될 클래스)<a hidden class=anchor aria-hidden=true href=#gatewayclass-클러스터-전역에서-사용될-클래스>#</a></h6><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-53-1><a class=lnlinks href=#hl-53-1>1</a>
</span><span class=lnt id=hl-53-2><a class=lnlinks href=#hl-53-2>2</a>
</span><span class=lnt id=hl-53-3><a class=lnlinks href=#hl-53-3>3</a>
</span><span class=lnt id=hl-53-4><a class=lnlinks href=#hl-53-4>4</a>
</span><span class=lnt id=hl-53-5><a class=lnlinks href=#hl-53-5>5</a>
</span><span class=lnt id=hl-53-6><a class=lnlinks href=#hl-53-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>gateway.networking.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>GatewayClass</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>nginx-gw-class</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>controllerName</span><span class=p>:</span><span class=w> </span><span class=l>k8s.io/nginx</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h6 id=gateway-진입점-정의-host-port-tls-등>Gateway (진입점 정의: Host, Port, TLS 등)<a hidden class=anchor aria-hidden=true href=#gateway-진입점-정의-host-port-tls-등>#</a></h6><table><thead><tr><th>항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>역할 정의</strong></td><td><strong>외부 트래픽의 클러스터 진입점</strong>을 정의하는 리소스</td></tr><tr><td><strong>구성 요소</strong></td><td>- <code>GatewayClass</code> 로 컨트롤러를 지정<br>- <code>Listeners</code> 로 포트, 프로토콜, 도메인 정의<br>- TLS 종료, 인증서, 호스트 이름 등을 설정</td></tr><tr><td><strong>위치</strong></td><td>보통 플랫폼팀 (Infra 팀) 이 소유 및 관리함</td></tr><tr><td><strong>예시 기능</strong></td><td>- <code>example.com:443</code> 에서 TLS 종료<br>- <code>http:80</code> 요청 수신<br>- 여러 Hostname 및 포트에 대해 Listener 다중 설정</td></tr><tr><td><strong>비유적으로 말하면</strong></td><td>진입로 (Gate) 와 도로 (포트) 를 만드는 작업 (차는 아직 안 다님)</td></tr></tbody></table><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-54-1><a class=lnlinks href=#hl-54-1> 1</a>
</span><span class=lnt id=hl-54-2><a class=lnlinks href=#hl-54-2> 2</a>
</span><span class=lnt id=hl-54-3><a class=lnlinks href=#hl-54-3> 3</a>
</span><span class=lnt id=hl-54-4><a class=lnlinks href=#hl-54-4> 4</a>
</span><span class=lnt id=hl-54-5><a class=lnlinks href=#hl-54-5> 5</a>
</span><span class=lnt id=hl-54-6><a class=lnlinks href=#hl-54-6> 6</a>
</span><span class=lnt id=hl-54-7><a class=lnlinks href=#hl-54-7> 7</a>
</span><span class=lnt id=hl-54-8><a class=lnlinks href=#hl-54-8> 8</a>
</span><span class=lnt id=hl-54-9><a class=lnlinks href=#hl-54-9> 9</a>
</span><span class=lnt id=hl-54-10><a class=lnlinks href=#hl-54-10>10</a>
</span><span class=lnt id=hl-54-11><a class=lnlinks href=#hl-54-11>11</a>
</span><span class=lnt id=hl-54-12><a class=lnlinks href=#hl-54-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>gateway.networking.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Gateway</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>my-gateway</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>gatewayClassName</span><span class=p>:</span><span class=w> </span><span class=l>nginx-gw-class</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>listeners</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>http</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>HTTP</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>hostname</span><span class=p>:</span><span class=w> </span><span class=l>example.com</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h6 id=httproute-라우팅-정책-정의>HTTPRoute (라우팅 정책 정의)<a hidden class=anchor aria-hidden=true href=#httproute-라우팅-정책-정의>#</a></h6><table><thead><tr><th>항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>역할 정의</strong></td><td><strong>Gateway 를 통해 들어온 트래픽을 특정 백엔드 서비스로 라우팅하는 정책</strong>을 정의</td></tr><tr><td><strong>구성 요소</strong></td><td>- <code>parentRefs</code> 로 어떤 Gateway 에 연결되는지 지정<br>- <code>rules</code> 로 어떤 조건에 따라 어떤 서비스로 라우팅할지 결정</td></tr><tr><td><strong>위치</strong></td><td>일반적으로 애플리케이션 팀 또는 서비스 오너가 관리</td></tr><tr><td><strong>예시 기능</strong></td><td>- <code>/api</code> 요청은 <code>api-service</code> 로<br>- <code>/web</code> 요청은 <code>web-service</code> 로<br>- Header 기반, Method 기반 조건 설정 가능</td></tr><tr><td><strong>비유적으로 말하면</strong></td><td>Gateway 가 만든 도로 위에서 " 어느 방향으로 차를 보내는지 " 결정하는 교차로 신호 시스템</td></tr></tbody></table><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-55-1><a class=lnlinks href=#hl-55-1> 1</a>
</span><span class=lnt id=hl-55-2><a class=lnlinks href=#hl-55-2> 2</a>
</span><span class=lnt id=hl-55-3><a class=lnlinks href=#hl-55-3> 3</a>
</span><span class=lnt id=hl-55-4><a class=lnlinks href=#hl-55-4> 4</a>
</span><span class=lnt id=hl-55-5><a class=lnlinks href=#hl-55-5> 5</a>
</span><span class=lnt id=hl-55-6><a class=lnlinks href=#hl-55-6> 6</a>
</span><span class=lnt id=hl-55-7><a class=lnlinks href=#hl-55-7> 7</a>
</span><span class=lnt id=hl-55-8><a class=lnlinks href=#hl-55-8> 8</a>
</span><span class=lnt id=hl-55-9><a class=lnlinks href=#hl-55-9> 9</a>
</span><span class=lnt id=hl-55-10><a class=lnlinks href=#hl-55-10>10</a>
</span><span class=lnt id=hl-55-11><a class=lnlinks href=#hl-55-11>11</a>
</span><span class=lnt id=hl-55-12><a class=lnlinks href=#hl-55-12>12</a>
</span><span class=lnt id=hl-55-13><a class=lnlinks href=#hl-55-13>13</a>
</span><span class=lnt id=hl-55-14><a class=lnlinks href=#hl-55-14>14</a>
</span><span class=lnt id=hl-55-15><a class=lnlinks href=#hl-55-15>15</a>
</span><span class=lnt id=hl-55-16><a class=lnlinks href=#hl-55-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>gateway.networking.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>HTTPRoute</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>app-route</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>parentRefs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>my-gateway</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>matches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>path</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>PathPrefix</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=l>/app</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>backendRefs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>app-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=비교-요약>비교 요약<a hidden class=anchor aria-hidden=true href=#비교-요약>#</a></h5><table><thead><tr><th>항목</th><th>Ingress 방식</th><th>Gateway API 방식</th></tr></thead><tbody><tr><td>구성 리소스</td><td>1 개 (<code>Ingress</code>)</td><td>최소 2~3 개 (<code>GatewayClass</code>, <code>Gateway</code>, <code>HTTPRoute</code>)</td></tr><tr><td>설정 방식</td><td>단일 리소스에 Host/Path/TLS 포함</td><td>리스너와 라우팅을 분리, 역할 기반 구성</td></tr><tr><td>선언적 명확성</td><td>일부는 Annotation 의존 (비표준)</td><td>모두 Spec 기반 선언형 구성</td></tr><tr><td>확장성</td><td>기능 제한 (L7 중심)</td><td>TCPRoute, gRPCRoute 등 L4~L7 확장 가능</td></tr><tr><td>권한 분리</td><td>단일 Ingress 에 전체 설정 포함</td><td>Gateway 와 Route 의 RBAC 분리가능</td></tr></tbody></table><h4 id=gateway-api-마이그레이션-시나리오-및-맵핑-가이드>Gateway API 마이그레이션 시나리오 및 맵핑 가이드<a hidden class=anchor aria-hidden=true href=#gateway-api-마이그레이션-시나리오-및-맵핑-가이드>#</a></h4><p>Kubernetes 의 기존 Ingress 리소스는 단일 리소스 모델에 의존하며, 복잡한 L7 라우팅 및 멀티 프로토콜 처리가 어려웠다.<br>→ 이를 보완하기 위해 Gateway API 는 <strong>역할 기반 리소스 분리</strong>, <strong>CRD 기반의 확장성</strong>, <strong>명시적 정책 구성</strong>을 제공한다.</p><h5 id=마이그레이션-전략-단계별-시나리오>마이그레이션 전략 단계별 시나리오<a hidden class=anchor aria-hidden=true href=#마이그레이션-전략-단계별-시나리오>#</a></h5><table><thead><tr><th>단계</th><th>설명</th><th>도구/기법</th></tr></thead><tbody><tr><td>1 단계</td><td>Gateway API CRD 설치</td><td><code>kubectl apply -f https://gateway-api.sigs.k8s.io/releases/latest/standard-install.yaml</code></td></tr><tr><td>2 단계</td><td>기존 Ingress 리소스 정리</td><td><code>kubectl get ingress -A</code> → 대상 서비스 식별</td></tr><tr><td>3 단계</td><td>GatewayClass 정의</td><td>NGINX, Istio 등 클래스에 맞춰 정의</td></tr><tr><td>4 단계</td><td>Gateway 생성</td><td>Listener(port), TLS 설정 등 포함</td></tr><tr><td>5 단계</td><td>HTTPRoute 변환</td><td>Host/Path → Match → backendRef 로 변환</td></tr><tr><td>6 단계</td><td>테스트 및 검증</td><td><code>curl</code>, <code>kubectl get gateway</code>, <code>describe</code> 등 활용</td></tr><tr><td>7 단계</td><td>Ingress 제거</td><td>Gradual → 완전 삭제 (blue/green 방식 권장)</td></tr></tbody></table><h5 id=리소스-매핑-가이드>리소스 매핑 가이드<a hidden class=anchor aria-hidden=true href=#리소스-매핑-가이드>#</a></h5><table><thead><tr><th>Ingress 요소</th><th>Gateway API 요소</th><th>변환 방식</th></tr></thead><tbody><tr><td><code>Ingress</code></td><td><code>Gateway</code> + <code>HTTPRoute</code></td><td>역할 분리</td></tr><tr><td><code>spec.rules.host</code></td><td><code>HTTPRoute.spec.hostnames</code></td><td>1:1 매핑</td></tr><tr><td><code>spec.rules.http.paths.path</code></td><td><code>HTTPRoute.spec.rules.matches.path.value</code></td><td>Prefix, Exact 등 명시 가능</td></tr><tr><td><code>backend.service.name</code></td><td><code>backendRefs.name</code></td><td>동일 서비스 참조</td></tr><tr><td><code>annotations</code></td><td>Filters, Policies, ExtensionRef</td><td>명시적 CRD 또는 필터 리소스로 분리</td></tr><tr><td><code>IngressClass</code></td><td><code>GatewayClass</code></td><td>LoadBalancer provider 정의 위치 변경됨</td></tr></tbody></table><h5 id=예시-기존-ingress--gateway-api>예시: 기존 Ingress → Gateway API<a hidden class=anchor aria-hidden=true href=#예시-기존-ingress--gateway-api>#</a></h5><h6 id=기존-ingress>기존 Ingress<a hidden class=anchor aria-hidden=true href=#기존-ingress>#</a></h6><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-56-1><a class=lnlinks href=#hl-56-1> 1</a>
</span><span class=lnt id=hl-56-2><a class=lnlinks href=#hl-56-2> 2</a>
</span><span class=lnt id=hl-56-3><a class=lnlinks href=#hl-56-3> 3</a>
</span><span class=lnt id=hl-56-4><a class=lnlinks href=#hl-56-4> 4</a>
</span><span class=lnt id=hl-56-5><a class=lnlinks href=#hl-56-5> 5</a>
</span><span class=lnt id=hl-56-6><a class=lnlinks href=#hl-56-6> 6</a>
</span><span class=lnt id=hl-56-7><a class=lnlinks href=#hl-56-7> 7</a>
</span><span class=lnt id=hl-56-8><a class=lnlinks href=#hl-56-8> 8</a>
</span><span class=lnt id=hl-56-9><a class=lnlinks href=#hl-56-9> 9</a>
</span><span class=lnt id=hl-56-10><a class=lnlinks href=#hl-56-10>10</a>
</span><span class=lnt id=hl-56-11><a class=lnlinks href=#hl-56-11>11</a>
</span><span class=lnt id=hl-56-12><a class=lnlinks href=#hl-56-12>12</a>
</span><span class=lnt id=hl-56-13><a class=lnlinks href=#hl-56-13>13</a>
</span><span class=lnt id=hl-56-14><a class=lnlinks href=#hl-56-14>14</a>
</span><span class=lnt id=hl-56-15><a class=lnlinks href=#hl-56-15>15</a>
</span><span class=lnt id=hl-56-16><a class=lnlinks href=#hl-56-16>16</a>
</span><span class=lnt id=hl-56-17><a class=lnlinks href=#hl-56-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>web-ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ingressClassName</span><span class=p>:</span><span class=w> </span><span class=l>nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>web.example.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/api</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class=l>Prefix</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>api-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>8080</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h6 id=gateway-api-gateway--httproute>Gateway API (Gateway + HTTPRoute)<a hidden class=anchor aria-hidden=true href=#gateway-api-gateway--httproute>#</a></h6><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-57-1><a class=lnlinks href=#hl-57-1> 1</a>
</span><span class=lnt id=hl-57-2><a class=lnlinks href=#hl-57-2> 2</a>
</span><span class=lnt id=hl-57-3><a class=lnlinks href=#hl-57-3> 3</a>
</span><span class=lnt id=hl-57-4><a class=lnlinks href=#hl-57-4> 4</a>
</span><span class=lnt id=hl-57-5><a class=lnlinks href=#hl-57-5> 5</a>
</span><span class=lnt id=hl-57-6><a class=lnlinks href=#hl-57-6> 6</a>
</span><span class=lnt id=hl-57-7><a class=lnlinks href=#hl-57-7> 7</a>
</span><span class=lnt id=hl-57-8><a class=lnlinks href=#hl-57-8> 8</a>
</span><span class=lnt id=hl-57-9><a class=lnlinks href=#hl-57-9> 9</a>
</span><span class=lnt id=hl-57-10><a class=lnlinks href=#hl-57-10>10</a>
</span><span class=lnt id=hl-57-11><a class=lnlinks href=#hl-57-11>11</a>
</span><span class=lnt id=hl-57-12><a class=lnlinks href=#hl-57-12>12</a>
</span><span class=lnt id=hl-57-13><a class=lnlinks href=#hl-57-13>13</a>
</span><span class=lnt id=hl-57-14><a class=lnlinks href=#hl-57-14>14</a>
</span><span class=lnt id=hl-57-15><a class=lnlinks href=#hl-57-15>15</a>
</span><span class=lnt id=hl-57-16><a class=lnlinks href=#hl-57-16>16</a>
</span><span class=lnt id=hl-57-17><a class=lnlinks href=#hl-57-17>17</a>
</span><span class=lnt id=hl-57-18><a class=lnlinks href=#hl-57-18>18</a>
</span><span class=lnt id=hl-57-19><a class=lnlinks href=#hl-57-19>19</a>
</span><span class=lnt id=hl-57-20><a class=lnlinks href=#hl-57-20>20</a>
</span><span class=lnt id=hl-57-21><a class=lnlinks href=#hl-57-21>21</a>
</span><span class=lnt id=hl-57-22><a class=lnlinks href=#hl-57-22>22</a>
</span><span class=lnt id=hl-57-23><a class=lnlinks href=#hl-57-23>23</a>
</span><span class=lnt id=hl-57-24><a class=lnlinks href=#hl-57-24>24</a>
</span><span class=lnt id=hl-57-25><a class=lnlinks href=#hl-57-25>25</a>
</span><span class=lnt id=hl-57-26><a class=lnlinks href=#hl-57-26>26</a>
</span><span class=lnt id=hl-57-27><a class=lnlinks href=#hl-57-27>27</a>
</span><span class=lnt id=hl-57-28><a class=lnlinks href=#hl-57-28>28</a>
</span><span class=lnt id=hl-57-29><a class=lnlinks href=#hl-57-29>29</a>
</span><span class=lnt id=hl-57-30><a class=lnlinks href=#hl-57-30>30</a>
</span><span class=lnt id=hl-57-31><a class=lnlinks href=#hl-57-31>31</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>gateway.networking.k8s.io/v1beta1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Gateway</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>web-gateway</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>gatewayClassName</span><span class=p>:</span><span class=w> </span><span class=l>nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>listeners</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>http</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>HTTP</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>allowedRoutes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>namespaces</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>from</span><span class=p>:</span><span class=w> </span><span class=l>All</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>gateway.networking.k8s.io/v1beta1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>HTTPRoute</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>web-api-route</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>parentRefs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>web-gateway</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>hostnames</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=s2>&#34;web.example.com&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>matches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>path</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>PathPrefix</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=l>/api</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>backendRefs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>api-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>8080</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=전환-시-주의사항>전환 시 주의사항<a hidden class=anchor aria-hidden=true href=#전환-시-주의사항>#</a></h5><table><thead><tr><th>항목</th><th>설명</th></tr></thead><tbody><tr><td>네임스페이스 정책</td><td>HTTPRoute → Gateway 연결 시 namespace scope 명확히 설정 필요</td></tr><tr><td>인증 및 TLS</td><td><code>cert-manager</code> 연동 시 Gateway 리스너의 TLS 구성과 통합 필수</td></tr><tr><td>구현체 호환성</td><td>Gateway API 지원 범위는 Controller 별로 다름 → 지원 여부 확인 필수</td></tr><tr><td>필터/리다이렉트</td><td>기존 annotation 기반 설정은 Filter CRD 로 변경 필요 (현재 일부 실험적)</td></tr></tbody></table><h3 id=실무-적용을-위한-고려사항-및-주의할-점>실무 적용을 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#실무-적용을-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>카테고리</th><th>항목</th><th>설명</th><th>권장 사항</th></tr></thead><tbody><tr><td><strong>보안</strong></td><td>TLS 설정 강화</td><td>약한 암호화, 만료 인증서, 인증서 누락으로 인한 위험 발생</td><td>TLS 1.2+ 이상 사용, <code>cert-manager</code> 기반 자동 갱신, fallback 인증서 구성</td></tr><tr><td></td><td>WAF 통합</td><td>웹 방화벽 도입 시 과도한 차단으로 정상 서비스에 영향 가능</td><td>점진적 정책 적용, 화이트리스트/로그 기반 필터 정제</td></tr><tr><td></td><td>인증 연동</td><td>OAuth2/OIDC 등 외부 인증 시스템과의 연동 필요</td><td>OAuth2 Proxy 등 사용, 외부 IdP 연결 및 세션 관리</td></tr><tr><td><strong>성능</strong></td><td>리소스 할당 최적화</td><td>과소 설정 시 성능 병목, 과대 설정 시 자원 낭비</td><td>requests/limits 명시, 수요 기반 리소스 프로파일링</td></tr><tr><td></td><td>캐싱 전략</td><td>과도한 캐싱으로 인한 메모리 낭비 및 오래된 응답 제공</td><td>TTL 기반 캐싱, 정적 파일 중심 적용</td></tr><tr><td><strong>가용성</strong></td><td>다중 인스턴스 구성</td><td>Controller 단일 구성 시 SPOF(Single Point of Failure) 발생</td><td>최소 2~3 개 이상의 Ingress Controller, Multi-AZ 배포, HPA/VPA 적용</td></tr><tr><td></td><td>헬스 체크 설정</td><td>잘못된 헬스 체크 구성은 비정상 종료 오판으로 서비스 중단 유발</td><td><code>liveness</code>, <code>readiness</code> probe 튜닝 (timeout, threshold 조정)</td></tr><tr><td></td><td>Pod 중단 방지 설정</td><td>노드 스케줄러나 롤링 업데이트 시 예기치 않은 다운타임 유발</td><td><code>PodDisruptionBudget</code>, <code>affinity</code>, <code>drain</code> 정책 적용</td></tr><tr><td><strong>운영/관리</strong></td><td>로그 및 관측성 확보</td><td>404/503 에러 진단 어려움, 경로 문제 추적 곤란</td><td>로그 레벨 확대, <code>Prometheus</code>, <code>Grafana</code>, <code>OpenTelemetry</code> 연계</td></tr><tr><td></td><td>설정 일관성</td><td>YAML 중복, 경로 충돌, path 우선순위로 오류 발생 가능</td><td>GitOps 기반 선언형 배포, prefix/rule 검증 자동화, 리뷰 프로세스 도입</td></tr><tr><td></td><td>네임스페이스 전략</td><td>리소스 혼재 시 설정 충돌 및 관리 혼란 발생</td><td>도메인 단위 또는 서비스 도메인 분리 운영, 네임스페이스 기반 분리</td></tr><tr><td></td><td>Helm/Kustomize 사용</td><td>수작업 배포 시 설정 누락, 실수 위험</td><td>Helm chart 또는 Kustomize 기반 템플릿화 및 GitOps 연동</td></tr></tbody></table><ul><li><strong>보안</strong>에서는 TLS 설정, 인증서 자동화, 외부 인증 연동, WAF 적용 시의 영향 분석이 중요하다. 특히 <code>cert-manager</code> 는 운영 필수 도구로 자리잡고 있다.</li><li><strong>성능 및 자원 관리</strong>에서는 CPU/메모리 limits, 캐싱 전략, 트래픽 규모에 따른 적절한 배포가 요구된다.</li><li><strong>가용성 확보</strong>를 위해 Controller 이중화, HPA/VPA, PDB, 헬스 체크 설정 등 복수 계층의 장애 대응 전략이 필요하다.</li><li><strong>운영 및 유지보수 관점</strong>에서는 선언형 구성과 GitOps, 경로 우선순위 충돌 방지, 관찰성 확보, 네임스페이스 설계 등이 실무 효율성과 안정성을 좌우한다.</li><li>다양한 구성요소 간 의존성을 고려하여 Helm/Kustomize 등의 도구로 설정을 템플릿화하고, 운영 자동화를 지속적으로 강화해야 한다.</li></ul><h4 id=실무-권장-시나리오>실무 권장 시나리오<a hidden class=anchor aria-hidden=true href=#실무-권장-시나리오>#</a></h4><table><thead><tr><th>환경</th><th>권장 Ingress Controller</th><th>이유</th></tr></thead><tbody><tr><td>단일 클러스터 웹 서비스</td><td>NGINX</td><td>안정성, 문서, 커뮤니티 풍부</td></tr><tr><td>실시간 구성 변경, DevOps 팀</td><td>Traefik</td><td>리로드 없는 동적 구성, 미들웨어</td></tr><tr><td>고성능 로우레벨 제어</td><td>HAProxy</td><td>TCP/UDP, 커넥션 최적화</td></tr><tr><td>Envoy-native 운영 환경</td><td>Contour</td><td>Envoy CRD 기반 정밀 제어</td></tr><tr><td>Istio Mesh 사용 중</td><td>Istio Gateway</td><td>Gateway + VirtualService 연동 필수</td></tr></tbody></table><h4 id=실무-활용을-위한-선택-가이드>실무 활용을 위한 선택 가이드<a hidden class=anchor aria-hidden=true href=#실무-활용을-위한-선택-가이드>#</a></h4><table><thead><tr><th>고려 항목</th><th>질문</th><th>선택 기준</th></tr></thead><tbody><tr><td>구성 복잡도</td><td>YAML 외 설정 요소가 필요한가?</td><td>NGINX 는 annotation 중심, Traefik/Contour 는 CRD 중심</td></tr><tr><td>인증/보안</td><td>인증서 자동화가 필요한가?</td><td>cert-manager 연동 또는 기본 TLS 지원 필요 여부</td></tr><tr><td>트래픽 특성</td><td>HTTP 외에 TCP/UDP 도 필요한가?</td><td>HAProxy, NGINX 에서 지원 가능</td></tr><tr><td>관측성</td><td>모니터링/로깅이 중요한가?</td><td>Traefik (Prometheus, OpenTelemetry 내장) 유리</td></tr><tr><td>확장성</td><td>수백 개 이상의 서비스 관리가 필요한가?</td><td>CRD 기반 구성 (Traefik, Contour, Istio) 이 유리</td></tr></tbody></table><h4 id=실무-적용을-위한-운영-체크리스트>실무 적용을 위한 운영 체크리스트<a hidden class=anchor aria-hidden=true href=#실무-적용을-위한-운영-체크리스트>#</a></h4><table><thead><tr><th>항목</th><th>질문</th><th>점검 포인트</th></tr></thead><tbody><tr><td>인증</td><td>TLS 인증서 만료 감지 가능한가?</td><td>cert-manager 알림 연계 여부 확인</td></tr><tr><td>관측성</td><td>요청 실패 시 라우팅 로그 확인 가능한가?</td><td>access log, error log 활성화 여부</td></tr><tr><td>트래픽 통제</td><td>잘못된 라우팅 규칙이 배포되지 않는가?</td><td>staging 배포 파이프라인, dry-run 테스트 적용</td></tr><tr><td>확장</td><td>서비스 증가에 따라 성능 저하가 있는가?</td><td>Ingress 수 기준 HPA 적용 여부</td></tr><tr><td>고가용성</td><td>Controller Pod 이중화 되어 있는가?</td><td>PodDisruptionBudget, replica=2 이상 적용</td></tr></tbody></table><h3 id=최적화-고려사항-및-주의할-점>최적화 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#최적화-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>분류</th><th>고려사항</th><th>설명</th><th>권장 사항</th></tr></thead><tbody><tr><td><strong>성능 최적화</strong></td><td>리소스 Watch 범위 제한</td><td>CRD 리소스 수 또는 네임스페이스 범위가 넓을수록 컨트롤러 부하 증가</td><td><code>--watch-namespace</code> 옵션 설정, 네임스페이스별 분리 운영</td></tr><tr><td></td><td>Worker 프로세스 수 조정</td><td>과도한 워커 수는 컨텍스트 스위칭 과잉 유발</td><td>CPU 코어 수에 맞춰 적절히 설정</td></tr><tr><td></td><td>Keep-Alive 설정</td><td>HTTP 연결 재사용 미적용 시 처리량 감소</td><td><code>keepalive</code> 활성화 및 타임아웃 조정</td></tr><tr><td></td><td>버퍼 크기 최적화</td><td>버퍼 사이즈가 작으면 패킷 조각화 및 성능 저하 발생</td><td>요청량/응답량 기준으로 <code>buffer_size</code> 튜닝</td></tr><tr><td></td><td>TLS 처리 최적화</td><td>TLS handshake 비용이 높고, 인증서 갱신도 리소스 소모</td><td>L4 LB 로 이전 고려, 경량 인증서 사용, <code>cert-manager</code> 사용 시 Pod 리소스 보장 필요</td></tr><tr><td></td><td>Connection Pooling</td><td>백엔드와의 연결을 매 요청마다 새로 열면 오버헤드 증가</td><td>풀 크기 제한 및 연결 재사용 활성화 (<code>proxy_http_version 1.1</code>)</td></tr><tr><td><strong>리소스 최적화</strong></td><td>HPA 적용</td><td>부하 급증 시 수동 대응 어렵고 자원 낭비 가능</td><td>CPU/Memory 기반 HPA, <code>requests/limits</code> 설정 병행</td></tr><tr><td></td><td>노드 어피니티 설정</td><td>트래픽 집중 노드에 모든 Pod 이 몰리면 비효율적</td><td>가용 영역별로 분산 배치, Topology Aware Routing</td></tr><tr><td><strong>설정/운영 최적화</strong></td><td>Annotation 남용</td><td>지나치게 많은 어노테이션은 설정 충돌 및 관리 복잡성 증가</td><td>Helm Chart 템플릿화, Gateway API 전환 고려</td></tr><tr><td></td><td>IngressRule 수 과다</td><td>컨트롤러 성능 저하 및 sync latency 증가</td><td>IngressClass 분리, 리소스 다중화 (e.g. RouteGroup)</td></tr><tr><td></td><td>프록시 오토스케일</td><td>수요 대비 스케일이 늦으면 SLA 저하 유발</td><td>VPA(Horizontal/Vertical), Cluster Autoscaler 연계</td></tr><tr><td><strong>보안 최적화</strong></td><td>Rate Limiting</td><td>과도한 제한 설정은 정상 요청도 차단</td><td>Burst 허용 + Gradual Backoff 설정 (<code>limit-req</code>)</td></tr><tr><td></td><td>TLS Offload</td><td>SSL 처리로 CPU 소모 과다 가능</td><td>프런트단 하드웨어 Offload 사용 고려 (L7 대신 L4 사용 등)</td></tr><tr><td></td><td>GZIP 압축 설정</td><td>대역폭 절약을 위해 압축 적용 필요</td><td><code>gzip on</code>, 레벨 최적화, 헤더 조건부 압축</td></tr></tbody></table><p>Ingress Controller 는 고성능, 고가용성, 운영 편의성을 모두 고려해야 하는 핵심 컴포넌트로, 설정 단순화뿐 아니라 리소스 사용량, 성능, 보안까지 다각도로 최적화가 필요하다.</p><p>특히 다음 사항들을 중심으로 최적화를 고려해야 한다:</p><ol><li><strong>성능 측면</strong>에서는 TLS 처리, Worker 수, Keep-Alive, Buffer 최적화 등 프록시 내부 처리 흐름 개선이 중요하다.</li><li><strong>리소스 측면</strong>에서는 HPA 설정, 노드 간 균형 배치, Auto Scaling 연동을 통해 안정성과 비용 효율을 확보해야 한다.</li><li><strong>운영 측면</strong>에서는 Annotation 남용 방지와 설정의 GitOps 화, Helm 템플릿화 등 <strong>구성 단순화</strong>가 유지보수성 향상에 핵심이다.</li><li><strong>보안 측면</strong>에서는 TLS Offload, Rate Limit 설정, 압축 적용 등으로 <strong>성능과 보호 수준을 동시에 고려</strong>해야 한다.</li></ol><h3 id=실무-사용-예시>실무 사용 예시<a hidden class=anchor aria-hidden=true href=#실무-사용-예시>#</a></h3><table><thead><tr><th>카테고리</th><th>사례</th><th>주요 기능/구성 요소</th><th>기대 효과</th></tr></thead><tbody><tr><td><strong>보안 및 인증</strong></td><td>OAuth2/OIDC 인증 게이트웨이</td><td>TLS 종료, OAuth2 Proxy, External Auth Plugin</td><td>SSO 연동, 인증 계층 분리, 민감 리소스 보호</td></tr><tr><td></td><td>Let&rsquo;s Encrypt 기반 인증서 자동화</td><td>cert-manager, ACME, ClusterIssuer</td><td>무중단 TLS 갱신, 자동화된 HTTPS 적용</td></tr><tr><td><strong>트래픽 라우팅</strong></td><td>서비스 도메인 분리 및 매핑</td><td>Host/Path 기반 Ingress Rule, 여러 Backend 정의</td><td>단일 도메인 내 서비스 분기, 마이크로서비스 구조 구현</td></tr><tr><td></td><td>Canary 배포 전략</td><td>Ingress Annotation (e.g., NGINX Canary 정책)</td><td>신규 버전 트래픽 일부만 배정, 점진적 배포로 리스크 최소화</td></tr><tr><td><strong>모니터링 및 관찰성</strong></td><td>트래픽 흐름 및 SLA 모니터링</td><td>Prometheus Exporter, Grafana 대시보드, 로그 분석</td><td>오류/지연 탐지, 응답 시간 확인, SLA 준수 확인</td></tr><tr><td><strong>인프라 연동</strong></td><td>Kubernetes Service 라우팅</td><td>LoadBalancer 타입 Service, ClusterIP 연계</td><td>외부 요청을 내부 Pod 로 안전하게 전달, 고가용성 확보</td></tr><tr><td></td><td>GitOps 기반 배포 자동화</td><td>Helm/Kustomize, ArgoCD, Ingress 리소스 버전 관리</td><td>일관된 설정 관리, 배포 자동화, 변경 이력 추적</td></tr></tbody></table><p>Ingress Controller 는 단순한 라우팅 컴포넌트를 넘어 <strong>보안, 인증, 배포 전략, 모니터링, 자동화</strong> 등 다양한 실무 요구사항을 해결하는 중심 요소로 기능한다.</p><p>특히 다음과 같은 관점에서 핵심적인 역할을 한다:</p><ul><li><strong>보안/인증 계층 분리</strong>: OAuth2 Proxy, cert-manager 등을 통한 인증 게이트웨이 역할 수행</li><li><strong>트래픽 제어 전략 강화</strong>: Canary 배포, 도메인 분리, 경로 기반 라우팅을 통한 서비스 유연성 확보</li><li><strong>운영 자동화/관찰성 향상</strong>: GitOps 와 모니터링 도구를 통한 가시성 확보 및 CI/CD 연동</li></ul><h3 id=활용-사례>활용 사례<a hidden class=anchor aria-hidden=true href=#활용-사례>#</a></h3><h4 id=사례-1-온라인-쇼핑몰>사례 1: 온라인 쇼핑몰<a hidden class=anchor aria-hidden=true href=#사례-1-온라인-쇼핑몰>#</a></h4><p><strong>시나리오:</strong> 대용량 온라인 쇼핑몰 쿠버네티스 클러스터에 NGINX Ingress Controller 를 적용하여 멀티 도메인 트래픽 관리와 인증, TLS 자동화를 구현.</p><p><strong>시스템 구성:</strong></p><ul><li>Kubernetes 클러스터</li><li>NGINX Ingress Controller</li><li>cert-manager(SSL 자동화)</li><li>Prometheus, Grafana(모니터링)</li><li>여러 백엔드 서비스</li></ul><pre class=mermaid>flowchart TD
    userA[User] --&gt; dns[DNS]
    dns --&gt; lb[External LB]
    lb --&gt; nginxIC[NGINX Ingress Controller]
    nginxIC --&gt; svcA[Service A]
    nginxIC --&gt; svcB[Service B]
    nginxIC --&gt; prom[Prometheus]
    nginxIC --&gt; cert[cert-manager]
    nginxIC --&gt; grafana[Grafana]
</pre><p><strong>Workflow:</strong></p><ul><li>사용자가 도메인으로 접속하면 DNS→외부 LB→NGINX Ingress Controller 로 트래픽 전달</li><li>인그레스 컨트롤러에서 라우팅 정책에 따라 각 서비스로 트래픽 분기</li><li>cert-manager 를 통해 SSL 인증서 자동 발급 및 갱신</li><li>모든 트래픽/에러/상태는 Prometheus, Grafana 로 실시간 모니터링</li></ul><p><strong>역할:</strong></p><ul><li>NGINX Ingress Controller: 정책 해석, 트래픽 라우팅, SSL/TLS 종료</li><li>cert-manager: 인증서 자동 관리</li><li>Prometheus/Grafana: 모니터링 및 알림</li></ul><p><strong>유무에 따른 차이점:</strong></p><ul><li>미도입: 서비스별 개별 외부 노출, 수동 인증서 관리, 운영 복잡성 상승</li><li>도입: 중앙화 관리, 자동 인증서 갱신, 서비스 확장/운영 효율 증가</li></ul><p><strong>구현 예시:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-59-1><a class=lnlinks href=#hl-59-1> 1</a>
</span><span class=lnt id=hl-59-2><a class=lnlinks href=#hl-59-2> 2</a>
</span><span class=lnt id=hl-59-3><a class=lnlinks href=#hl-59-3> 3</a>
</span><span class=lnt id=hl-59-4><a class=lnlinks href=#hl-59-4> 4</a>
</span><span class=lnt id=hl-59-5><a class=lnlinks href=#hl-59-5> 5</a>
</span><span class=lnt id=hl-59-6><a class=lnlinks href=#hl-59-6> 6</a>
</span><span class=lnt id=hl-59-7><a class=lnlinks href=#hl-59-7> 7</a>
</span><span class=lnt id=hl-59-8><a class=lnlinks href=#hl-59-8> 8</a>
</span><span class=lnt id=hl-59-9><a class=lnlinks href=#hl-59-9> 9</a>
</span><span class=lnt id=hl-59-10><a class=lnlinks href=#hl-59-10>10</a>
</span><span class=lnt id=hl-59-11><a class=lnlinks href=#hl-59-11>11</a>
</span><span class=lnt id=hl-59-12><a class=lnlinks href=#hl-59-12>12</a>
</span><span class=lnt id=hl-59-13><a class=lnlinks href=#hl-59-13>13</a>
</span><span class=lnt id=hl-59-14><a class=lnlinks href=#hl-59-14>14</a>
</span><span class=lnt id=hl-59-15><a class=lnlinks href=#hl-59-15>15</a>
</span><span class=lnt id=hl-59-16><a class=lnlinks href=#hl-59-16>16</a>
</span><span class=lnt id=hl-59-17><a class=lnlinks href=#hl-59-17>17</a>
</span><span class=lnt id=hl-59-18><a class=lnlinks href=#hl-59-18>18</a>
</span><span class=lnt id=hl-59-19><a class=lnlinks href=#hl-59-19>19</a>
</span><span class=lnt id=hl-59-20><a class=lnlinks href=#hl-59-20>20</a>
</span><span class=lnt id=hl-59-21><a class=lnlinks href=#hl-59-21>21</a>
</span><span class=lnt id=hl-59-22><a class=lnlinks href=#hl-59-22>22</a>
</span><span class=lnt id=hl-59-23><a class=lnlinks href=#hl-59-23>23</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># Ingress 리소스 예시 - NGINX 기반</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>shop-ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>kubernetes.io/ingress.class</span><span class=p>:</span><span class=w> </span><span class=l>nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>tls</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>hosts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>shop.example.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>secretName</span><span class=p>:</span><span class=w> </span><span class=l>shop-tls</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>shop.example.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/api</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class=l>Prefix</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>api-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>위 인그레스는 shop.example.com 도메인으로 들어오는 /api 경로의 트래픽을 api-service 로 라우팅하고, shop-tls 인증서로 SSL 종료</p></blockquote><h4 id=사례-2-쇼핑몰>사례 2: 쇼핑몰<a hidden class=anchor aria-hidden=true href=#사례-2-쇼핑몰>#</a></h4><p><strong>시나리오</strong>: 쇼핑몰 프론트엔드와 백엔드 서비스를 동일 도메인에서 라우팅하며 인증을 제공하는 Kubernetes 기반 환경 구성</p><p><strong>시스템 구성</strong>:</p><ul><li>Ingress-NGINX Controller</li><li>cert-manager</li><li>OAuth2-proxy</li><li>서비스: <code>frontend-service</code>, <code>api-service</code></li></ul><pre class=mermaid>graph TD
  user[User Browser] --&gt; https[https://shop.example.com]
  https --&gt; Ingress[&#34;Ingress Controller (NGINX)&#34;]
  Ingress --&gt; OAuthProxy
  OAuthProxy --&gt; AuthProvider[OAuth Provider]
  Ingress --&gt; FrontendService[Frontend]
  Ingress --&gt; APIService[Backend API]
  Ingress --&gt; certManager[&#34;cert-manager (TLS)&#34;]
</pre><p><strong>Workflow</strong>:</p><ul><li>사용자가 HTTPS 접속 → 인증 미완료 시 OAuth2-proxy 경유</li><li>인증 후 요청은 Host/Path 기반으로 Frontend 또는 API 에 라우팅</li><li>TLS 인증서는 cert-manager 가 자동으로 갱신</li></ul><p><strong>역할</strong>:</p><ul><li>Ingress Controller: TLS 종료, 요청 분기</li><li>OAuth2 Proxy: 인증 처리</li><li>cert-manager: TLS 인증서 자동화</li></ul><p><strong>유무에 따른 차이점</strong>:</p><ul><li>❌ Ingress 없음 → 모든 서비스 수동 노출 필요, 보안 구성 어려움</li><li>✅ Ingress 있음 → 중앙에서 인증 및 트래픽 제어 가능, 관리 일원화</li></ul><p><strong>구현 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-61-1><a class=lnlinks href=#hl-61-1> 1</a>
</span><span class=lnt id=hl-61-2><a class=lnlinks href=#hl-61-2> 2</a>
</span><span class=lnt id=hl-61-3><a class=lnlinks href=#hl-61-3> 3</a>
</span><span class=lnt id=hl-61-4><a class=lnlinks href=#hl-61-4> 4</a>
</span><span class=lnt id=hl-61-5><a class=lnlinks href=#hl-61-5> 5</a>
</span><span class=lnt id=hl-61-6><a class=lnlinks href=#hl-61-6> 6</a>
</span><span class=lnt id=hl-61-7><a class=lnlinks href=#hl-61-7> 7</a>
</span><span class=lnt id=hl-61-8><a class=lnlinks href=#hl-61-8> 8</a>
</span><span class=lnt id=hl-61-9><a class=lnlinks href=#hl-61-9> 9</a>
</span><span class=lnt id=hl-61-10><a class=lnlinks href=#hl-61-10>10</a>
</span><span class=lnt id=hl-61-11><a class=lnlinks href=#hl-61-11>11</a>
</span><span class=lnt id=hl-61-12><a class=lnlinks href=#hl-61-12>12</a>
</span><span class=lnt id=hl-61-13><a class=lnlinks href=#hl-61-13>13</a>
</span><span class=lnt id=hl-61-14><a class=lnlinks href=#hl-61-14>14</a>
</span><span class=lnt id=hl-61-15><a class=lnlinks href=#hl-61-15>15</a>
</span><span class=lnt id=hl-61-16><a class=lnlinks href=#hl-61-16>16</a>
</span><span class=lnt id=hl-61-17><a class=lnlinks href=#hl-61-17>17</a>
</span><span class=lnt id=hl-61-18><a class=lnlinks href=#hl-61-18>18</a>
</span><span class=lnt id=hl-61-19><a class=lnlinks href=#hl-61-19>19</a>
</span><span class=lnt id=hl-61-20><a class=lnlinks href=#hl-61-20>20</a>
</span><span class=lnt id=hl-61-21><a class=lnlinks href=#hl-61-21>21</a>
</span><span class=lnt id=hl-61-22><a class=lnlinks href=#hl-61-22>22</a>
</span><span class=lnt id=hl-61-23><a class=lnlinks href=#hl-61-23>23</a>
</span><span class=lnt id=hl-61-24><a class=lnlinks href=#hl-61-24>24</a>
</span><span class=lnt id=hl-61-25><a class=lnlinks href=#hl-61-25>25</a>
</span><span class=lnt id=hl-61-26><a class=lnlinks href=#hl-61-26>26</a>
</span><span class=lnt id=hl-61-27><a class=lnlinks href=#hl-61-27>27</a>
</span><span class=lnt id=hl-61-28><a class=lnlinks href=#hl-61-28>28</a>
</span><span class=lnt id=hl-61-29><a class=lnlinks href=#hl-61-29>29</a>
</span><span class=lnt id=hl-61-30><a class=lnlinks href=#hl-61-30>30</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>shop-ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>nginx.ingress.kubernetes.io/auth-url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;https://oauth2-proxy.shop.com/oauth2/auth&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>cert-manager.io/cluster-issuer</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;letsencrypt-prod&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>tls</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>hosts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>shop.example.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>secretName</span><span class=p>:</span><span class=w> </span><span class=l>shop-tls</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>shop.example.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class=l>Prefix</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>frontend-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class=l>Prefix</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>api-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>8080</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=사례-3-전자상거래-플랫폼>사례 3: 전자상거래 플랫폼<a hidden class=anchor aria-hidden=true href=#사례-3-전자상거래-플랫폼>#</a></h4><p><strong>시나리오</strong>: 전자상거래 플랫폼에서 마이크로서비스 기반 웹 애플리케이션 운영</p><p><strong>시스템 구성</strong>:</p><ul><li>NGINX Ingress Controller (고가용성 3 개 인스턴스)</li><li>Frontend 서비스 (React 기반 웹 애플리케이션)</li><li>API Gateway 서비스 (사용자 인증 및 API 라우팅)</li><li>Product 서비스 (상품 정보 관리)</li><li>Order 서비스 (주문 처리)</li><li>Payment 서비스 (결제 처리)</li></ul><pre class=mermaid>graph TB
    subgraph &#34;Internet&#34;
        User[사용자]
        CDN[CloudFlare CDN]
    end
    
    subgraph &#34;Load Balancer&#34;
        LB[Cloud Load Balancer]
    end
    
    subgraph &#34;Kubernetes Cluster&#34;
        subgraph &#34;Ingress Layer&#34;
            IC1[NGINX Ingress 1]
            IC2[NGINX Ingress 2]
            IC3[NGINX Ingress 3]
        end
        
        subgraph &#34;Application Services&#34;
            Frontend[Frontend Service]
            API[API Gateway Service]
            Product[Product Service]
            Order[Order Service]
            Payment[Payment Service]
        end
    end
    
    User --&gt; CDN
    CDN --&gt; LB
    LB --&gt; IC1
    LB --&gt; IC2
    LB --&gt; IC3
    IC1 --&gt; Frontend
    IC1 --&gt; API
    IC2 --&gt; Frontend
    IC2 --&gt; API
    IC3 --&gt; Frontend
    IC3 --&gt; API
    API --&gt; Product
    API --&gt; Order
    API --&gt; Payment
</pre><p><strong>Workflow</strong>:</p><ul><li>사용자가 ecommerce.example.com 접속</li><li>CloudFlare CDN 에서 정적 자산 캐싱 처리</li><li>Cloud Load Balancer 가 트래픽을 NGINX Ingress Controller 로 분배</li><li>Ingress Controller 가 경로 기반 라우팅 수행 (/api/* → API Gateway, /* → Frontend)</li><li>API Gateway 에서 JWT 토큰 검증 후 백엔드 마이크로서비스로 라우팅</li></ul><p><strong>역할</strong>:</p><ul><li>SSL 종료 및 TLS 1.3 암호화 적용</li><li>경로 기반 라우팅 (/api, /static, /admin)</li><li>레이트 리미팅 (IP 당 분당 100 요청)</li><li>WAF 규칙 적용 (SQL 인젝션, XSS 차단)</li></ul><p><strong>유무에 따른 차이점</strong>:</p><ul><li><strong>Ingress Controller 사용 시</strong>: 단일 진입점, 중앙집중식 보안 정책, 비용 효율적</li><li><strong>미사용 시</strong>: 서비스별 개별 LoadBalancer 필요, 관리 복잡성 증가, 인프라 비용 3-5 배 증가</li></ul><p><strong>구현 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-63-1><a class=lnlinks href=#hl-63-1> 1</a>
</span><span class=lnt id=hl-63-2><a class=lnlinks href=#hl-63-2> 2</a>
</span><span class=lnt id=hl-63-3><a class=lnlinks href=#hl-63-3> 3</a>
</span><span class=lnt id=hl-63-4><a class=lnlinks href=#hl-63-4> 4</a>
</span><span class=lnt id=hl-63-5><a class=lnlinks href=#hl-63-5> 5</a>
</span><span class=lnt id=hl-63-6><a class=lnlinks href=#hl-63-6> 6</a>
</span><span class=lnt id=hl-63-7><a class=lnlinks href=#hl-63-7> 7</a>
</span><span class=lnt id=hl-63-8><a class=lnlinks href=#hl-63-8> 8</a>
</span><span class=lnt id=hl-63-9><a class=lnlinks href=#hl-63-9> 9</a>
</span><span class=lnt id=hl-63-10><a class=lnlinks href=#hl-63-10>10</a>
</span><span class=lnt id=hl-63-11><a class=lnlinks href=#hl-63-11>11</a>
</span><span class=lnt id=hl-63-12><a class=lnlinks href=#hl-63-12>12</a>
</span><span class=lnt id=hl-63-13><a class=lnlinks href=#hl-63-13>13</a>
</span><span class=lnt id=hl-63-14><a class=lnlinks href=#hl-63-14>14</a>
</span><span class=lnt id=hl-63-15><a class=lnlinks href=#hl-63-15>15</a>
</span><span class=lnt id=hl-63-16><a class=lnlinks href=#hl-63-16>16</a>
</span><span class=lnt id=hl-63-17><a class=lnlinks href=#hl-63-17>17</a>
</span><span class=lnt id=hl-63-18><a class=lnlinks href=#hl-63-18>18</a>
</span><span class=lnt id=hl-63-19><a class=lnlinks href=#hl-63-19>19</a>
</span><span class=lnt id=hl-63-20><a class=lnlinks href=#hl-63-20>20</a>
</span><span class=lnt id=hl-63-21><a class=lnlinks href=#hl-63-21>21</a>
</span><span class=lnt id=hl-63-22><a class=lnlinks href=#hl-63-22>22</a>
</span><span class=lnt id=hl-63-23><a class=lnlinks href=#hl-63-23>23</a>
</span><span class=lnt id=hl-63-24><a class=lnlinks href=#hl-63-24>24</a>
</span><span class=lnt id=hl-63-25><a class=lnlinks href=#hl-63-25>25</a>
</span><span class=lnt id=hl-63-26><a class=lnlinks href=#hl-63-26>26</a>
</span><span class=lnt id=hl-63-27><a class=lnlinks href=#hl-63-27>27</a>
</span><span class=lnt id=hl-63-28><a class=lnlinks href=#hl-63-28>28</a>
</span><span class=lnt id=hl-63-29><a class=lnlinks href=#hl-63-29>29</a>
</span><span class=lnt id=hl-63-30><a class=lnlinks href=#hl-63-30>30</a>
</span><span class=lnt id=hl-63-31><a class=lnlinks href=#hl-63-31>31</a>
</span><span class=lnt id=hl-63-32><a class=lnlinks href=#hl-63-32>32</a>
</span><span class=lnt id=hl-63-33><a class=lnlinks href=#hl-63-33>33</a>
</span><span class=lnt id=hl-63-34><a class=lnlinks href=#hl-63-34>34</a>
</span><span class=lnt id=hl-63-35><a class=lnlinks href=#hl-63-35>35</a>
</span><span class=lnt id=hl-63-36><a class=lnlinks href=#hl-63-36>36</a>
</span><span class=lnt id=hl-63-37><a class=lnlinks href=#hl-63-37>37</a>
</span><span class=lnt id=hl-63-38><a class=lnlinks href=#hl-63-38>38</a>
</span><span class=lnt id=hl-63-39><a class=lnlinks href=#hl-63-39>39</a>
</span><span class=lnt id=hl-63-40><a class=lnlinks href=#hl-63-40>40</a>
</span><span class=lnt id=hl-63-41><a class=lnlinks href=#hl-63-41>41</a>
</span><span class=lnt id=hl-63-42><a class=lnlinks href=#hl-63-42>42</a>
</span><span class=lnt id=hl-63-43><a class=lnlinks href=#hl-63-43>43</a>
</span><span class=lnt id=hl-63-44><a class=lnlinks href=#hl-63-44>44</a>
</span><span class=lnt id=hl-63-45><a class=lnlinks href=#hl-63-45>45</a>
</span><span class=lnt id=hl-63-46><a class=lnlinks href=#hl-63-46>46</a>
</span><span class=lnt id=hl-63-47><a class=lnlinks href=#hl-63-47>47</a>
</span><span class=lnt id=hl-63-48><a class=lnlinks href=#hl-63-48>48</a>
</span><span class=lnt id=hl-63-49><a class=lnlinks href=#hl-63-49>49</a>
</span><span class=lnt id=hl-63-50><a class=lnlinks href=#hl-63-50>50</a>
</span><span class=lnt id=hl-63-51><a class=lnlinks href=#hl-63-51>51</a>
</span><span class=lnt id=hl-63-52><a class=lnlinks href=#hl-63-52>52</a>
</span><span class=lnt id=hl-63-53><a class=lnlinks href=#hl-63-53>53</a>
</span><span class=lnt id=hl-63-54><a class=lnlinks href=#hl-63-54>54</a>
</span><span class=lnt id=hl-63-55><a class=lnlinks href=#hl-63-55>55</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># NGINX Ingress Controller 설정</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ecommerce-ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>nginx.ingress.kubernetes.io/rewrite-target</span><span class=p>:</span><span class=w> </span><span class=l>/$2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>nginx.ingress.kubernetes.io/rate-limit</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;100&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>nginx.ingress.kubernetes.io/ssl-redirect</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>nginx.ingress.kubernetes.io/use-regex</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>cert-manager.io/cluster-issuer</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;letsencrypt-prod&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ingressClassName</span><span class=p>:</span><span class=w> </span><span class=l>nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>tls</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>hosts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>ecommerce.example.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>secretName</span><span class=p>:</span><span class=w> </span><span class=l>ecommerce-tls</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=l>ecommerce.example.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/api(/|$)(.*)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class=l>Prefix</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>api-gateway</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/admin(/|$)(.*)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class=l>Prefix</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>admin-panel</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/(.*)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class=l>Prefix</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>frontend</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># ConfigMap for additional NGINX configuration</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>ConfigMap</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>nginx-configuration</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>data</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>proxy-connect-timeout</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;15&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>proxy-send-timeout</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;600&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>proxy-read-timeout</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;600&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>client-max-body-size</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;50m&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>enable-modsecurity</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>enable-owasp-modsecurity-crs</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=주목할-내용>주목할 내용<a hidden class=anchor aria-hidden=true href=#주목할-내용>#</a></h3><table><thead><tr><th>카테고리</th><th>주제</th><th>항목/구현체</th><th>설명</th></tr></thead><tbody><tr><td><strong>프록시 엔진</strong></td><td>Ingress 구현체</td><td>NGINX, Traefik, Envoy</td><td>Ingress Controller 로 사용되는 주요 프록시 엔진. Traefik 은 동적 구성 및 미들웨어, Envoy 는 고성능과 관찰성에서 강점</td></tr><tr><td><strong>트래픽 관리</strong></td><td>API 확장</td><td>Gateway API</td><td>기존 Ingress 를 대체하는 차세대 Kubernetes API. 명시적이고 확장 가능한 트래픽 관리 구조 제공</td></tr><tr><td></td><td>고급 라우팅</td><td>Istio Gateway</td><td>서비스 메시 환경에서의 Ingress 동작 확장. L7 기반 고급 트래픽 정책 구현 가능</td></tr><tr><td></td><td>경량 캐싱/최적화</td><td>Edge Caching</td><td>CDN 연계 또는 L7 캐싱 구조를 통해 성능 향상</td></tr><tr><td><strong>보안</strong></td><td>인증서 관리</td><td>cert-manager, ACME</td><td>TLS 인증서 자동 발급/갱신 및 ACME 프로토콜 기반 관리 자동화</td></tr><tr><td></td><td>인증 처리</td><td>OAuth2 Proxy, mTLS</td><td>OAuth2 기반 외부 인증 통합, 또는 상호 TLS 를 통한 서비스 간 인증 보안 강화</td></tr><tr><td></td><td>보안 취약점</td><td>IngressNightmare (CVE-2025-1974 등)</td><td>Ingress Controller 관련 RCE 취약점, 주기적인 보안 패치 및 모니터링 필요</td></tr><tr><td><strong>운영 자동화</strong></td><td>선언적 정책 관리</td><td>Ingress 리소스 (YAML)</td><td>Ingress 설정을 Git 기반으로 관리 및 파이프라인 자동화 가능</td></tr><tr><td></td><td>GitOps</td><td>ArgoCD 등</td><td>Git 저장소 중심으로 선언적 리소스 관리 및 배포 자동화</td></tr><tr><td><strong>관찰성</strong></td><td>메트릭 및 모니터링</td><td>Prometheus, OpenTelemetry</td><td>실시간 모니터링 및 분산 추적, 표준화된 메트릭 수집 및 분석 가능</td></tr><tr><td><strong>도메인 관리</strong></td><td>DNS 자동 연동</td><td>ExternalDNS</td><td>Ingress 와 DNS 레코드를 자동으로 연동하여 외부 도메인 연결 자동화</td></tr><tr><td><strong>확장성</strong></td><td>부하 분산 구조</td><td>Load Balancer</td><td>클라우드 외부에서 다중 Ingress Controller 로 트래픽 분산</td></tr><tr><td></td><td>멀티 클러스터 확장</td><td>Gateway API + ExternalDNS</td><td>글로벌 환경에서도 유연한 트래픽 관리 구조 지원 가능</td></tr></tbody></table><h4 id=요약-정리-3>요약 정리<a hidden class=anchor aria-hidden=true href=#요약-정리-3>#</a></h4><table><thead><tr><th>항목</th><th>내용 요약</th></tr></thead><tbody><tr><td><strong>프록시 구현체</strong></td><td>NGINX, Envoy, Traefik 등 다양한 컨트롤러 지원. 기능별 차별점 명확</td></tr><tr><td><strong>차세대 API 확장</strong></td><td>Gateway API 는 Ingress 의 대체 표준으로 각광받고 있음</td></tr><tr><td><strong>보안 영역 강화</strong></td><td>cert-manager, mTLS, OAuth2 Proxy 등으로 TLS 인증과 사용자 인증을 자동화 및 강화</td></tr><tr><td><strong>운영 자동화 필수화</strong></td><td>GitOps, 선언적 YAML 관리, ExternalDNS 등은 효율적인 인프라 자동화에 기여</td></tr><tr><td><strong>관찰성과 안정성</strong></td><td>Prometheus, OpenTelemetry, Circuit Breaker 패턴 등으로 모니터링 및 장애 대응 강화</td></tr><tr><td><strong>보안 위협 존재</strong></td><td>Ingress 관련 취약점 발생 가능성 높음 → 지속적 패치와 버전 관리 필요</td></tr><tr><td><strong>확장성과 성능 고려 필요</strong></td><td>CDN 연계 캐싱, 멀티 클러스터 DNS 대응, L7 기반 고급 라우팅 등 적극 도입 필요</td></tr></tbody></table><h3 id=반드시-학습해야할-내용>반드시 학습해야할 내용<a hidden class=anchor aria-hidden=true href=#반드시-학습해야할-내용>#</a></h3><table><thead><tr><th>카테고리</th><th>주제</th><th>핵심 항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>기초</strong></td><td>Kubernetes 리소스 이해</td><td>Pod, Service, Ingress</td><td>Ingress 의 백엔드 연결 구조와 ClusterIP 기반 트래픽 흐름 이해</td></tr><tr><td><strong>기초</strong></td><td>네트워크 기본 지식</td><td>HTTP, HTTPS, TLS</td><td>L7 트래픽의 프로토콜 흐름과 인증서 기반 암호화 통신 구조 이해</td></tr><tr><td><strong>중급</strong></td><td>Reverse Proxy 동작 방식</td><td>NGINX, Traefik 등 Ingress Controller</td><td>설정 감지 및 반영 방식, 리로드 여부, 프록시 구성 처리 흐름 분석</td></tr><tr><td><strong>중급</strong></td><td>라우팅 및 로드밸런싱</td><td>Host/Path 기반 규칙, 알고리즘</td><td>정적/동적 라우팅, Round-Robin, IP Hash 등 분산 전략 이해</td></tr><tr><td><strong>중급</strong></td><td>선언형 리소스 구성</td><td>YAML, CRD</td><td>GitOps 및 CI/CD 통합을 위한 선언적 정책 관리 기초</td></tr><tr><td><strong>중급</strong></td><td>인증서 자동화</td><td>cert-manager, ACME</td><td>TLS 인증서 발급 자동화, 무중단 갱신 및 인증서 실패 대응 전략</td></tr><tr><td><strong>고급</strong></td><td>인증 연계</td><td>OAuth2 Proxy, OIDC</td><td>외부 인증 시스템 연계 (SSO, Identity Provider 등)</td></tr><tr><td><strong>고급</strong></td><td>모니터링 및 관찰성</td><td>Prometheus, Grafana, OpenTelemetry</td><td>메트릭/로그/트레이싱 수집, 요청 흐름 추적, SLA 측정</td></tr><tr><td><strong>고급</strong></td><td>보안 심화</td><td>WAF, DDoS 보호</td><td>웹 방화벽 구성 및 공격 방어, 서비스 앞단 방어 전략 수립</td></tr><tr><td><strong>고급</strong></td><td>자동화 및 배포 전략</td><td>Helm, Kustomize, ArgoCD, ExternalDNS</td><td>템플릿화된 설정 관리, GitOps 기반 배포, DNS/TLS 통합 자동화</td></tr><tr><td><strong>심화/미래 지향</strong></td><td>표준화 및 진화 방향</td><td>Gateway API</td><td>Ingress 의 기능적 한계를 개선한 명확한 역할 분리 구조 학습 (Route, Gateway, Listener 등)</td></tr><tr><td><strong>심화/통합 연계</strong></td><td>Service Mesh 와의 관계</td><td>Istio, Linkerd Gateway</td><td>사이드카 기반 메시와 L7 프록시의 통합 연계 구조 이해</td></tr></tbody></table><ul><li><strong>기초 지식</strong>은 Pod/Service/Ingress 간 구조 및 L7 프로토콜의 기본 이해에서 시작해야 함</li><li><strong>중급 수준</strong>에서는 Ingress Controller 구현체 (NGINX, Traefik 등) 의 구성 방식과 설정 처리 흐름, 인증서 자동화 및 선언형 리소스 구성을 학습</li><li><strong>고급/심화 수준</strong>에서는 보안 (인증/인가, WAF), 관찰성 (메트릭/트레이싱), 자동화 (GitOps, cert-manager), 인증 연계 (OIDC) 등을 학습</li><li><strong>미래 기술 방향</strong>은 Gateway API 로의 진화, Service Mesh 와의 역할 분리 및 통합 구조 이해가 핵심</li></ul><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td><strong>Kubernetes 리소스</strong></td><td><strong>Ingress</strong></td><td>클러스터 외부 트래픽을 서비스 내부로 라우팅하는 Kubernetes 리소스</td></tr><tr><td></td><td><strong>IngressClass</strong></td><td>Ingress 리소스를 처리할 Ingress Controller 를 지정하는 메타 리소스</td></tr><tr><td></td><td><strong>Backend</strong></td><td>Ingress 가 트래픽을 전달할 서비스 또는 엔드포인트</td></tr><tr><td></td><td><strong>PathType</strong></td><td>URL 경로 매칭 방식 (Exact, Prefix, ImplementationSpecific)</td></tr><tr><td></td><td><strong>CRD (Custom Resource Definition)</strong></td><td>쿠버네티스 API 를 확장하는 사용자 정의 리소스 구조</td></tr><tr><td><strong>Ingress Controller 관련 기술</strong></td><td><strong>Ingress Controller</strong></td><td>Ingress 리소스를 해석하여 실제 트래픽을 라우팅하는 컴포넌트 (예: NGINX, Istio, HAProxy 등)</td></tr><tr><td></td><td><strong>Gateway API</strong></td><td>Ingress 의 확장성과 역할을 대체하는 차세대 API, 표준화 진행 중</td></tr><tr><td></td><td><strong>Upstream</strong></td><td>프록시 서버가 요청을 전달하는 백엔드 서버 그룹 (보통 서비스 단위)</td></tr><tr><td><strong>네트워킹</strong></td><td><strong>Reverse Proxy</strong></td><td>클라이언트 요청을 받아 내부 서버로 전달하는 중간 계층 서버</td></tr><tr><td></td><td><strong>L7 (Layer 7)</strong></td><td>OSI 7 계층 중 애플리케이션 계층으로, HTTP, gRPC 등 콘텐츠 기반 라우팅 처리</td></tr><tr><td></td><td><strong>SNI (Server Name Indication)</strong></td><td>하나의 IP 주소에서 여러 TLS 인증서를 구분하기 위한 TLS 확장 기술</td></tr><tr><td><strong>보안 및 인증</strong></td><td><strong>TLS Termination (또는 Offload)</strong></td><td>Ingress Controller 에서 SSL/TLS 복호화를 처리해 백엔드는 평문 통신</td></tr><tr><td></td><td><strong>ACME (Automatic Certificate Management Environment)</strong></td><td>Let&rsquo;s Encrypt 등의 자동 인증서 발급 및 갱신 프로토콜</td></tr><tr><td></td><td><strong>cert-manager</strong></td><td>Kubernetes 에서 인증서 발급 및 갱신을 자동화하는 컨트롤러</td></tr><tr><td></td><td><strong>CORS (Cross-Origin Resource Sharing)</strong></td><td>브라우저에서 도메인 간 HTTP 요청을 제어하는 보안 정책</td></tr><tr><td></td><td><strong>OAuth / OIDC</strong></td><td>외부 인증 제공자와 연동해 사용자 인증 및 토큰 발급을 처리하는 표준 프로토콜</td></tr><tr><td></td><td><strong>OAuth2 Proxy</strong></td><td>OAuth2 기반 외부 인증과 Kubernetes Ingress 를 연결하는 인증 프록시</td></tr><tr><td><strong>운영 및 자동화</strong></td><td><strong>GitOps</strong></td><td>Git 저장소에 선언적으로 정의된 인프라와 애플리케이션을 자동으로 적용하는 운영 방식</td></tr><tr><td></td><td><strong>Horizontal Pod Autoscaler (HPA)</strong></td><td>CPU/메모리 사용량에 따라 자동으로 Pod 수를 확장/축소하는 Kubernetes 기능</td></tr><tr><td><strong>성능 및 안정성</strong></td><td><strong>Circuit Breaker</strong></td><td>장애 전파를 막기 위해 일정 조건에서 요청 차단하는 안정성 패턴</td></tr><tr><td></td><td><strong>Connection Pooling</strong></td><td>네트워크 연결을 재사용하여 성능과 자원 효율성을 개선하는 기술</td></tr></tbody></table><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><ul><li><a href=https://kubernetes.io/docs/concepts/services-networking/ingress-controllers/>Kubernetes Ingress Controllers 공식 문서</a></li><li><a href=https://kubernetes.io/docs/concepts/services-networking/ingress/>Kubernetes Ingress 공식 문서</a></li><li><a href=https://docs.nginx.com/nginx-ingress-controller/>NGINX Ingress Controller 공식 문서</a></li><li><a href=https://github.com/kubernetes/ingress-nginx>NGINX Ingress Controller GitHub 저장소</a></li><li><a href=https://doc.traefik.io/traefik/>Traefik Ingress Controller 공식 문서</a></li><li><a href=https://doc.traefik.io/traefik/providers/kubernetes-ingress/>Traefik Ingress Kubernetes Provider</a></li><li><a href=https://www.f5.com/glossary/kubernetes-ingress-controller>F5 Ingress Controller 개요</a></li><li><a href=https://www.wiz.io/blog/ingress-nginx-kubernetes-vulnerabilities>Ingress-Nightmare 보안 취약점 분석 (Wiz)</a></li><li><a href=https://cert-manager.io/docs/>cert-manager 공식 문서</a></li><li><a href=https://www.nginx.com/blog/ingress-controller-vs-api-gateway-vs-service-mesh/>Ingress Controller vs API Gateway vs Service Mesh</a></li><li><a href=https://gateway-api.sigs.k8s.io/>Gateway API 공식 소개</a></li><li><a href=https://www.pomerium.com/blog/best-ingress-controllers-for-kubernetes>2025년 최고의 Ingress Controller 비교 (Pomerium)</a></li><li><a href=https://engineering.linecorp.com/ko/blog/nginx-ingress-service-mesh/>LINE 엔지니어링 블로그 – 트래픽 관리와 고가용성 인그레스 진화</a></li></ul><hr></div></main><script type=module>
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
  </script><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>