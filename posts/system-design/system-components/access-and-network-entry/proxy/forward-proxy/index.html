<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Forward Proxy | hyunyoun's Blog</title><meta name=keywords content="System-Design,System-Components,Access-and-Network-Entry,Proxy,Forward-Proxy,Access-Control,Network-Security"><meta name=description content="순방향 프록시 (Forward Proxy) 는 클라이언트가 외부 인터넷에 직접 접근하지 않고 프록시 서버를 통해 요청을 중계하도록 하는 시스템 컴포넌트다. 이를 통해 보안 강화, 정책적 접근 통제, 캐싱, 익명성 등 다양한 네트워크 관리 및 보호 기능을 실현한다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/system-design/system-components/access-and-network-entry/proxy/forward-proxy/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/system-design/system-components/access-and-network-entry/proxy/forward-proxy/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/system-design/system-components/access-and-network-entry/proxy/forward-proxy/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/system-design/system-components/access-and-network-entry/proxy/forward-proxy/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Forward Proxy"><meta property="og:description" content="순방향 프록시 (Forward Proxy) 는 클라이언트가 외부 인터넷에 직접 접근하지 않고 프록시 서버를 통해 요청을 중계하도록 하는 시스템 컴포넌트다. 이를 통해 보안 강화, 정책적 접근 통제, 캐싱, 익명성 등 다양한 네트워크 관리 및 보호 기능을 실현한다."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Forward Proxy"><meta name=twitter:description content="순방향 프록시 (Forward Proxy) 는 클라이언트가 외부 인터넷에 직접 접근하지 않고 프록시 서버를 통해 요청을 중계하도록 하는 시스템 컴포넌트다. 이를 통해 보안 강화, 정책적 접근 통제, 캐싱, 익명성 등 다양한 네트워크 관리 및 보호 기능을 실현한다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Computer Science and Engineering","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"System Design","item":"https://buenhyden.github.io/posts/system-design/"},{"@type":"ListItem","position":3,"name":"System Components","item":""},{"@type":"ListItem","position":4,"name":"Access and Network Entry","item":"https://buenhyden.github.io/posts/system-design/system-components/access-and-network-entry/"},{"@type":"ListItem","position":5,"name":"프록시(Proxy)","item":"https://buenhyden.github.io/posts/system-design/system-components/access-and-network-entry/proxy/"},{"@type":"ListItem","position":6,"name":"Forward Proxy","item":"https://buenhyden.github.io/posts/system-design/system-components/access-and-network-entry/proxy/forward-proxy/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>Computer Science and Engineering</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/system-design/>System Design</a>&nbsp;»&nbsp;<a href>System Components</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/system-design/system-components/access-and-network-entry/>Access and Network Entry</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/system-design/system-components/access-and-network-entry/proxy/>프록시(Proxy)</a></div><h1>Forward Proxy</h1><div class=post-description>순방향 프록시 (Forward Proxy) 는 클라이언트가 외부 인터넷에 직접 접근하지 않고 프록시 서버를 통해 요청을 중계하도록 하는 시스템 컴포넌트다. 이를 통해 보안 강화, 정책적 접근 통제, 캐싱, 익명성 등 다양한 네트워크 관리 및 보호 기능을 실현한다.</div></header><div class=post-content><h2 id=forward-proxy>Forward Proxy<a hidden class=anchor aria-hidden=true href=#forward-proxy>#</a></h2><p>Forward Proxy(순방향 프록시) 는 내부 네트워크 사용자 (클라이언트) 가 인터넷이나 외부 네트워크 자원에 접근할 때, 모든 트래픽 및 요청을 중간 프록시 서버를 경유하도록 하는 네트워크 구성요소다. 이 방식은 접근 통제, 보안 정책 강제, 인터넷 사용 기록 및 감사, 캐싱과 대역폭 관리, 외부 노출 IP 의 통합·익명화 등 다목적으로 활용된다. 주로 기업/교육기관 등 내부망 보호에 필수적으로 적용되며, 다양한 프로토콜 (HTTP, HTTPS, SOCKS 등) 을 지원한다.</p><h3 id=등장-배경-및-발전-과정>등장 배경 및 발전 과정<a hidden class=anchor aria-hidden=true href=#등장-배경-및-발전-과정>#</a></h3><ul><li>인터넷 초기에는 사용자의 외부 접근이 직접적으로 이루어졌으나, 외부 위협 증가, 내부 정보 유출 방지, 인터넷 대역폭 제한, 직원의 무분별한 사이트 접근 통제 필요 등으로 인해 등장.</li><li>기업, 학교, 정부기관 등에서 보안, 구성원 모니터링, 비용 절감, 효율 관리 목적에 따라 필수적으로 도입.</li><li>이후 클라우드, 모바일까지 다양한 형태로 확장·진화됨.</li></ul><h3 id=목적-및-필요성>목적 및 필요성<a hidden class=anchor aria-hidden=true href=#목적-및-필요성>#</a></h3><p><strong>달성하고자 하는 목적</strong>:</p><ol><li><strong>네트워크 보안 강화</strong>: 내부 네트워크와 외부 인터넷 사이의 보안 경계 형성</li><li><strong>성능 최적화</strong>: 캐싱을 통한 응답 시간 단축 및 대역폭 절약</li><li><strong>접근 제어</strong>: 조직의 인터넷 사용 정책 시행 및 모니터링</li><li><strong>익명성 보장</strong>: 사용자 신원 보호와 프라이버시 강화</li></ol><p><strong>필요성</strong>:</p><ul><li>기업 환경에서 보안 정책 시행의 필수성</li><li>제한된 네트워크 자원의 효율적 활용 요구</li><li>규제 준수와 컴플라이언스 요구사항 충족</li><li>내부 네트워크 구조 은닉을 통한 보안 강화</li></ul><h3 id=핵심-개념>핵심 개념<a hidden class=anchor aria-hidden=true href=#핵심-개념>#</a></h3><p><strong>Forward Proxy (포워드 프록시)</strong> 는 클라이언트와 원격 서버 사이에서 중재자 역할을 수행하는 서버이다. 클라이언트가 인터넷 자원에 접근할 때 직접 연결하는 대신, Forward Proxy 를 통해 요청을 전달하고 응답을 받는 구조이다.</p><ul><li>주로 접근 통제, 사용자 익명성, 보안 필터링, 웹 캐싱, 트래픽 제어, 정책 실행 등에 사용된다.</li><li>프록시 서버는 요청자의 실주소 (IP) 를 외부에 노출하지 않고, 외부 리소스 접근을 통제하고, 모든 인터넷 사용 이력을 로깅할 수 있다.</li></ul><h4 id=실무-구현을-위한-연관성>실무 구현을 위한 연관성<a hidden class=anchor aria-hidden=true href=#실무-구현을-위한-연관성>#</a></h4><p><strong>네트워크 보안 측면</strong>: 방화벽, IDS/IPS 와 연동하여 멀티레이어 보안 체계 구축<br><strong>성능 최적화 측면</strong>: 로드 밸런서, CDN 과 연계한 트래픽 분산 및 캐싱 전략<br><strong>접근 제어 측면</strong>: 인증 시스템, LDAP/AD 와 통합한 사용자 권한 관리<br><strong>모니터링 측면</strong>: SIEM, 로그 분석 시스템과 연동한 실시간 트래픽 감시</p><h3 id=주요-기능-및-역할>주요 기능 및 역할<a hidden class=anchor aria-hidden=true href=#주요-기능-및-역할>#</a></h3><table><thead><tr><th>기능</th><th>설명 및 실질적 실행</th><th>역할</th></tr></thead><tbody><tr><td>요청 중계</td><td>클라이언트의 요청을 받아 외부 서버에 대신 요청</td><td>통신 흐름 제어, 네트워크 경계 보안</td></tr><tr><td>접근 통제</td><td>정책 (DB, 화이트/블랙리스트 등) 에 근거한 외부주소 허용/차단</td><td>IT 보안정책 집행, 기업규정 준수</td></tr><tr><td>캐싱</td><td>웹/데이터 요청 결과를 임시 저장, 동일 데이터 내에 응답 속도 향상</td><td>대역폭 절감, 응답 지연 최소화</td></tr><tr><td>로깅, 모니터링</td><td>요청, 응답 트래픽 기록 및 이상 징후 탐지</td><td>내부 사용 모니터링, 향후 감사/문제 추적</td></tr><tr><td>필터링</td><td>악성코드/위험 사이트 차단, 키워드·도메인 필터링</td><td>정보보안, 사전 위험 차단</td></tr><tr><td>인증/인가</td><td>사용자/시스템 인증, 그룹별 세분화 정책 반영</td><td>접근 제한, 사용자별/조직별 정책 적용</td></tr></tbody></table><ul><li>기능들이 개별적으로 작동하면서도, 역할은 그 기능들을 통해 실현된다.<br>예: 인증 기능은 역할인 " 사용자별 접근 제어 " 를 지원하며, 캐싱 기능은 역할인 " 대역폭 최적화 " 를 수행한다.</li></ul><h3 id=특징>특징<a hidden class=anchor aria-hidden=true href=#특징>#</a></h3><ul><li><strong>네트워크 경계 통제</strong>: 내부 사용자에서 외부로 나가는 모든 트래픽을 한 경로로 집중시켜 정책 집행 및 위협 대응이 용이</li><li><strong>정책 기반 운용</strong>: URL, IP, 시간대, 사용자/그룹 등 다양한 기준으로 세밀한 정책 적용</li><li><strong>고성능 캐싱</strong>: 빈번 트래픽을 캐싱해 네트워크 효율, 서버 부하 개선 효과</li><li><strong>확장성</strong>: 클러스터링 또는 로드 밸런싱을 통해 대규모 환경 대응</li><li><strong>실행 투명성</strong>: 사용자는 프록시를 직접 설정하거나 네트워크 자동 설정을 통해 사용 (투명·비투명 모두 가능)</li><li><strong>다중 프로토콜 지원</strong>: HTTP, HTTPS, SOCKS 등 다양한 네트워크 프로토콜 지원</li><li><strong>외부 정보 은닉</strong>: 사용자 실 IP 은닉, 내부 네트워크 구조 보호</li><li><strong>로깅과 감사</strong>: 모든 트래픽의 중앙집중화 기록 보관</li></ul><ul><li><strong>다기능 통합</strong>: 보안, 캐싱, 로깅, 인증 기능의 복합 제공</li></ul><h3 id=핵심-원칙>핵심 원칙<a hidden class=anchor aria-hidden=true href=#핵심-원칙>#</a></h3><ol><li><strong>정책 기반 처우</strong><ul><li>IP, 사용자, 시간, 애플리케이션에 따른 세부 정책 분리</li></ul></li><li><strong>최소 권한 원칙</strong> (Least Privilege)<ul><li>필요 기능만 활성화하며 접근 권한과 범위를 최소화</li></ul></li><li><strong>안전한 인증/암호화</strong><ul><li>인증 연동, SSL/TLS 적용 통한 데이터 보호</li></ul></li><li><strong>투명성과 가시성</strong><ul><li>모든 요청 및 응답 로깅, 필요 시 모니터링 강화</li></ul></li><li><strong>Fail-Safe</strong><ul><li>프록시 장애 시 기본 네트워크 연결 유지 또는 알림</li></ul></li></ol><h3 id=주요-원리-및-작동-원리>주요 원리 및 작동 원리<a hidden class=anchor aria-hidden=true href=#주요-원리-및-작동-원리>#</a></h3><ul><li><strong>요청 중계 (Relay)</strong>: 클라이언트 → 프록시, 프록시 → 목적지 서버</li><li><strong>응답 반환</strong>: 서버 응답 → 프록시 → 클라이언트</li><li><strong>캐싱 저장 및 조회</strong>: 동일한 객체 요청 시 직접 제공</li><li><strong>정책 적용</strong>: URL, 콘텐츠, 시간, 사용자별 정책 체크</li></ul><p><strong>기본 작동 원리</strong>:</p><pre class=mermaid>sequenceDiagram
    participant C as Client
    participant FP as Forward Proxy
    participant S as Target Server
    
    C-&gt;&gt;FP: HTTP/HTTPS Request
    Note over FP: 1. Request Validation
    Note over FP: 2. Access Control Check
    Note over FP: 3. Cache Lookup
    alt Cache Hit
        FP-&gt;&gt;C: Cached Response
    else Cache Miss
        FP-&gt;&gt;S: Forward Request
        S-&gt;&gt;FP: Server Response
        Note over FP: 4. Cache Storage
        FP-&gt;&gt;C: Forward Response
    end
</pre><p><strong>상세 처리 과정</strong>:</p><ol><li><strong>요청 수신</strong>: 클라이언트로부터 HTTP/HTTPS 요청 접수</li><li><strong>요청 검증</strong>: 요청 형식과 내용의 유효성 검사</li><li><strong>접근 제어</strong>: ACL(Access Control List) 기반 권한 확인</li><li><strong>캐시 확인</strong>: 요청된 자원의 캐시 존재 여부 점검</li><li><strong>요청 전달</strong>: 캐시 미스 시 대상 서버로 요청 전송</li><li><strong>응답 처리</strong>: 서버 응답을 받아 필터링 및 변환 적용</li><li><strong>캐시 저장</strong>: 설정된 정책에 따라 응답 내용 캐싱</li><li><strong>응답 전송</strong>: 최종 응답을 클라이언트에게 전달</li></ol><h3 id=구조-및-아키텍처>구조 및 아키텍처<a hidden class=anchor aria-hidden=true href=#구조-및-아키텍처>#</a></h3><pre class=mermaid>flowchart TB
  subgraph ProxyServer
    A[Listener] --&gt; B[Policy Engine]
    B --&gt; C{Cache?}
    C --&gt;|Hit| D[Cache Storage]
    C --&gt;|Miss| E[Upstream Connector]
    E --&gt; F[Internet Server]
    F --&gt; E --&gt; D
    D --&gt; G[Logger]
    B --&gt; G
    A --&gt; H[Authenticator]
    A --&gt; G
    B --&gt; I[Admin Console]
  end
</pre><ul><li>요청 흐름은 Listener → Policy 체크 → 캐시 발견 시 반환 또는 Upstream Connector 로 외부 요청 → 응답 저장 후 Logger 기록 → 클라이언트 응답.</li><li>관리자 콘솔 및 인증 컴포넌트는 추가로 통합 가능하다.</li></ul><h4 id=구성요소>구성요소<a hidden class=anchor aria-hidden=true href=#구성요소>#</a></h4><table><thead><tr><th>구성 요소</th><th>유형</th><th>기능 및 역할</th></tr></thead><tbody><tr><td>Listener/Interceptor</td><td>필수</td><td>클라이언트 연결 수신, 초기 요청 파싱</td></tr><tr><td>Policy Engine</td><td>필수</td><td>URL/사용자/시간 기준 정책 판단</td></tr><tr><td>Cache Storage</td><td>선택/필수</td><td>요청 결과 저장 및 재사용 (성능 향상)</td></tr><tr><td>Authenticator</td><td>선택</td><td>LDAP, OAuth 연동 통한 사용자 인증</td></tr><tr><td>Logger</td><td>필수</td><td>요청/응답/보안 이벤트 로그 기록</td></tr><tr><td>Upstream Connector</td><td>필수</td><td>외부 서버 연결, SSL/TLS 처리</td></tr><tr><td>Admin Console/Manager</td><td>선택</td><td>정책 구성 UI, 모니터링 대시보드</td></tr><tr><td>Cluster Manager</td><td>선택</td><td>클러스터 구성, 부하분산 지원</td></tr></tbody></table><h3 id=구현-기법-및-방법>구현 기법 및 방법<a hidden class=anchor aria-hidden=true href=#구현-기법-및-방법>#</a></h3><table><thead><tr><th>분류</th><th>구현 기법/방식</th><th>설명</th><th>활용 목적 및 사례</th></tr></thead><tbody><tr><td><strong>설정 방식</strong></td><td><strong>명시적 프록시 (Explicit Proxy)</strong></td><td>클라이언트가 직접 프록시 주소 설정 (브라우저, OS)</td><td>기업/기관의 정밀한 정책 적용, PAC/WPAD 활용</td></tr><tr><td></td><td><strong>투명 프록시 (Transparent Proxy)</strong></td><td>클라이언트 설정 없이 네트워크 레벨에서 트래픽 가로채기</td><td>학교/공공기관 등 사용자 개입 없이 감시</td></tr><tr><td><strong>기능 확장</strong></td><td><strong>인증 프록시</strong></td><td>사용자 인증을 거친 뒤 요청을 중계 (LDAP, AD 등과 연동)</td><td>계정 기반 정책 적용, 접근 통제</td></tr><tr><td></td><td><strong>캐싱 프록시</strong></td><td>웹 응답 콘텐츠를 TTL 기반 저장 및 재사용</td><td>빈번한 요청 처리 속도 향상, 트래픽 절감</td></tr><tr><td></td><td><strong>필터링 프록시</strong></td><td>콘텐츠, URL, 카테고리 기반 요청 차단/허용 (ICAP, SquidGuard 등 통합)</td><td>유해사이트 차단, 생산성 향상, DLP 기능 강화</td></tr><tr><td><strong>보안 및 감사</strong></td><td><strong>로깅/감사 프록시</strong></td><td>모든 요청/응답 로그 수집, 이상 행위 트리거 구성 가능</td><td>포렌식, 이상 징후 탐지, 내부 규정 감사 대응</td></tr><tr><td><strong>통신 프로토콜</strong></td><td><strong>SOCKS 프록시</strong></td><td>TCP/UDP 포함 모든 프로토콜 지원, 애플리케이션 레벨 독립적</td><td>P2P, 게임, VPN, Tor 등 다양한 네트워크 연계</td></tr><tr><td></td><td><strong>HTTP 프록시</strong></td><td>HTTP/HTTPS 기반으로 대중적 사용, 웹 콘텐츠 중심 트래픽 중계</td><td>웹 기반 인터넷 트래픽 제어</td></tr><tr><td><strong>하이브리드 구성</strong></td><td><strong>Forward + Reverse Proxy</strong></td><td>내부 네트워크에는 Forward Proxy, DMZ 에는 Reverse Proxy 배치</td><td>보안 경계 이중화, 암복호화 분리 처리</td></tr></tbody></table><ul><li><strong>Forward Proxy 는 설정 방식 (명시적/투명)</strong>, <strong>기능 목적 (인증, 캐싱, 필터링)</strong>, <strong>보안 연동 (감사, SOCKS)</strong>, <strong>하이브리드 구성</strong> 측면에서 구현 기법이 구분된다.</li><li><strong>명시적 프록시</strong>는 사용자 정의 제어에 유리하고, <strong>투명 프록시</strong>는 비개입 통제로 적합하다.</li><li><strong>인증 및 필터링 프록시</strong>는 조직 단위 정책 집행에 핵심이며, <strong>캐싱 프록시</strong>는 성능 최적화 수단으로 중요하다.</li><li><strong>SOCKS</strong>는 다양한 레벨의 트래픽 제어가 가능해 VPN 이나 고속 전송 네트워크에 활용된다.</li><li><strong>Forward-Reverse 조합 구조</strong>는 보안성과 성능을 동시에 확보하기 위한 고급 시나리오이다.</li></ul><h4 id=명시적-프록시-explicit-proxy>명시적 프록시 (Explicit Proxy)<a hidden class=anchor aria-hidden=true href=#명시적-프록시-explicit-proxy>#</a></h4><p><strong>정의</strong>: 클라이언트에서 프록시 서버를 명시적으로 설정하는 방식</p><p><strong>구성</strong>:</p><ul><li>클라이언트 브라우저/시스템 프록시 설정</li><li>PAC(Proxy Auto-Configuration) 파일 배포</li><li>WPAD(Web Proxy Autodiscovery Protocol) 활용</li></ul><p><strong>목적</strong>: 정밀한 제어, 사용자별 정책 적용</p><p><strong>구현 시나리오</strong>:</p><ul><li>사용자는 웹 브라우저에 프록시 주소를 직접 입력하거나 PAC 파일로 설정</li><li>프록시 서버는 요청을 받아 외부와 통신하고 응답을 반환</li></ul><p><strong>구성 요소</strong>:</p><ul><li>Squid (프록시 서버)</li><li>PAC 파일 (Proxy Auto Config)</li><li>브라우저 또는 OS 프록시 설정</li></ul><p><strong>실제 예시</strong>:</p><ul><li><p>PAC 파일 (<code>proxy.pac</code>)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3>3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4>4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5>5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>FindProxyForURL</span><span class=p>(</span><span class=nx>url</span><span class=p>,</span> <span class=nx>host</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>shExpMatch</span><span class=p>(</span><span class=nx>host</span><span class=p>,</span> <span class=s2>&#34;*.internal.company.com&#34;</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s2>&#34;DIRECT&#34;</span><span class=p>;</span> <span class=c1>// 사내망 직접 연결
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=s2>&#34;PROXY proxy.company.com:3128&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>Squid 설정 예시 (<code>/etc/squid/squid.conf</code>)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2>2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>http_port <span class=m>3128</span>
</span></span><span class=line><span class=cl>acl allowed_ips src 192.168.1.0/24
</span></span><span class=line><span class=cl>http_access allow allowed_ips
</span></span></code></pre></td></tr></table></div></div></li><li><p>브라우저 설정</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>프록시 서버: proxy.company.com
</span></span><span class=line><span class=cl>포트: 3128
</span></span></code></pre></td></tr></table></div></div></li></ul><h4 id=투명-프록시-transparent-proxy>투명 프록시 (Transparent Proxy)<a hidden class=anchor aria-hidden=true href=#투명-프록시-transparent-proxy>#</a></h4><p><strong>정의</strong>: 클라이언트 설정 변경 없이 네트워크 레벨에서 트래픽을 가로채는 방식</p><p><strong>구성</strong>:</p><ul><li>네트워크 게이트웨이에 프록시 배치</li><li>iptables/netfilter 를 이용한 트래픽 리다이렉션</li><li>WCCP(Web Cache Communication Protocol) 활용</li></ul><p><strong>목적</strong>: 사용자 경험 최소화, 중앙 집중식 관리</p><p><strong>시스템 구성</strong>:</p><ul><li>게이트웨이 서버에 프록시 소프트웨어 설치</li><li>방화벽 규칙을 통한 트래픽 리다이렉션</li><li>DNS 서버와 연동한 도메인 기반 필터링</li></ul><p><strong>구현 시나리오</strong>:</p><ul><li>클라이언트는 설정 없이 HTTP 요청을 보냄</li><li>네트워크 게이트웨이 또는 방화벽에서 트래픽을 프록시로 리디렉션</li></ul><p><strong>구성 요소</strong>:</p><ul><li>iptables/netfilter (Linux NAT 리디렉션)</li><li>Squid 프록시 서버 (transparent 모드)</li><li>DNS/라우터 또는 WCCP(Optional)</li></ul><p><strong>실제 예시</strong>:</p><ul><li><p>iptables 예시</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># HTTP 트래픽 리디렉션 (포트 80 → 프록시 포트 3128)</span>
</span></span><span class=line><span class=cl>iptables -t nat -A PREROUTING -i eth0 -p tcp --dport <span class=m>80</span> -j REDIRECT --to-port <span class=m>3128</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>Squid 설정 예시 (<code>squid.conf</code>)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1>1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2>2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>http_port <span class=m>3128</span> intercept
</span></span><span class=line><span class=cl>acl localnet src 192.168.1.0/24
</span></span><span class=line><span class=cl>http_access allow localnet
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>구성 흐름</strong>:</p></li></ul><pre class=mermaid>flowchart LR
  A[Client Request] --&gt; B[Gateway or Router]
  B --&gt; C[iptables REDIRECT]
  C --&gt; D[Squid Transparent Proxy]
  D --&gt; E[Internet]
  E --&gt; D --&gt; A
</pre><h4 id=하이브리드-구성-forward--reverse-proxy>하이브리드 구성 (Forward + Reverse Proxy)<a hidden class=anchor aria-hidden=true href=#하이브리드-구성-forward--reverse-proxy>#</a></h4><p><strong>정의</strong>: Forward Proxy 와 Reverse Proxy 를 조합한 하이브리드 구조</p><p><strong>구성</strong>:</p><ul><li>DMZ 에 역방향 프록시 배치</li><li>내부 네트워크에 포워드 프록시 설치</li><li>SSL 브릿징을 통한 암호화 트래픽 처리</li></ul><p><strong>목적</strong>: 양방향 보안 강화, 성능 최적화</p><p><strong>구현 시나리오</strong>:</p><ul><li>외부 요청은 <strong>Reverse Proxy</strong>를 통해 인증/SSL 종료 후 내부 서비스로 라우팅</li><li>내부 서비스들은 <strong>Forward Proxy</strong>를 통해 외부 API 또는 인터넷으로 접근</li></ul><p><strong>구성 요소</strong>:</p><ul><li>NGINX (Reverse Proxy)</li><li>Squid (Forward Proxy)</li><li>내부 서비스 (예: API 서버)</li><li>ACL 및 SSL 인증서</li></ul><p><strong>실제 예시</strong>:</p><ul><li><p>NGINX 설정 예시 (Reverse Proxy)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span><span class=lnt id=hl-8-11><a class=lnlinks href=#hl-8-11>11</a>
</span><span class=lnt id=hl-8-12><a class=lnlinks href=#hl-8-12>12</a>
</span><span class=lnt id=hl-8-13><a class=lnlinks href=#hl-8-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kn>listen</span> <span class=mi>443</span> <span class=s>ssl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kn>server_name</span> <span class=s>api.company.com</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kn>ssl_certificate</span> <span class=s>/etc/nginx/cert.pem</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kn>ssl_certificate_key</span> <span class=s>/etc/nginx/key.pem</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>proxy_pass</span> <span class=s>http://internal-api-server</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>proxy_set_header</span> <span class=s>Host</span> <span class=nv>$host</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>proxy_set_header</span> <span class=s>X-Real-IP</span> <span class=nv>$remote_addr</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>내부 서버에서 Squid 를 통한 아웃바운드 구성 예시</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1>1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2>2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># /etc/environment 또는 프로세스 환경 설정</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>http_proxy</span><span class=o>=</span>http://forward-proxy.company.com:3128
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>https_proxy</span><span class=o>=</span>http://forward-proxy.company.com:3128
</span></span></code></pre></td></tr></table></div></div></li><li><p>구성 흐름</p></li></ul><pre class=mermaid>flowchart TD
  subgraph DMZ
    A[Client] --&gt; B[NGINX Reverse Proxy]
  end
  B --&gt; C[Internal Service A]
  C --&gt; D[&#34;Forward Proxy (Squid)&#34;]
  D --&gt; E[External Internet / API]
</pre><h3 id=장점>장점<a hidden class=anchor aria-hidden=true href=#장점>#</a></h3><table><thead><tr><th><strong>카테고리</strong></th><th><strong>항목</strong></th><th><strong>설명</strong></th></tr></thead><tbody><tr><td><strong>보안 및 프라이버시 보호</strong></td><td>내부 IP 은닉 및 보안 강화</td><td>클라이언트의 실제 IP 를 외부에 노출하지 않아 내부망 구조 보호 및 추적 방지</td></tr><tr><td></td><td>외부 접속 차단 및 정책 적용</td><td>특정 도메인, 포트, 시간대 등에 따라 외부 접근을 차단하여 정책 기반 통제 가능</td></tr><tr><td></td><td>악성 트래픽 차단</td><td>미리 정의된 필터링 규칙이나 URL 블랙리스트를 통해 유해 사이트 및 악성 트래픽 차단</td></tr><tr><td><strong>접근 제어 및 익명성 보장</strong></td><td>사용자별 정책 기반 접근 통제</td><td>사용자 그룹, IP, URL 기반으로 접근 제한 설정 가능 (예: 학교/회사 네트워크 관리)</td></tr><tr><td></td><td>프라이버시 보호</td><td>사용자 익명화, IP 은닉 등 개인 정보 보호 기능 제공</td></tr><tr><td><strong>성능 최적화 및 자원 절약</strong></td><td>캐싱을 통한 응답 시간 단축</td><td>동일 요청에 대해 콘텐츠를 재전송하지 않고 프록시 서버에 저장된 캐시를 사용하여 응답 시간 감소</td></tr><tr><td></td><td>대역폭 절약</td><td>중복 콘텐츠를 캐싱하거나 압축하여 외부 네트워크 사용량 최소화</td></tr><tr><td><strong>중앙 집중 관리 및 모니터링</strong></td><td>중앙 정책 및 트래픽 통제</td><td>모든 아웃바운드 트래픽을 단일 지점에서 통제하고 정책 적용 가능</td></tr><tr><td></td><td>감사 및 로깅</td><td>접근 요청 이력과 응답 정보를 기록하여 이상 징후 탐지, 보안 감사, 사후 대응 가능</td></tr><tr><td></td><td>사용자 행동 분석</td><td>로그 데이터를 기반으로 트래픽 패턴, 방문 사이트 분석 가능</td></tr></tbody></table><h4 id=요약-정리>요약 정리<a hidden class=anchor aria-hidden=true href=#요약-정리>#</a></h4><table><thead><tr><th>구분</th><th>핵심 내용 요약</th></tr></thead><tbody><tr><td><strong>보안 강화</strong></td><td>클라이언트 IP 은닉, 외부 트래픽 제어, 악성 요청 차단 등 내부망 보호 기능 강화</td></tr><tr><td><strong>성능 최적화</strong></td><td>중복 콘텐츠 캐싱과 압축을 통한 응답 속도 개선, 대역폭 절약</td></tr><tr><td><strong>정책 제어</strong></td><td>사용자·그룹·시간·URL 기반 접근 제어를 통해 인터넷 사용을 세밀하게 통제 가능</td></tr><tr><td><strong>중앙 관리</strong></td><td>로그 기반 감사와 분석, 모든 요청을 단일 진입점에서 통합적으로 모니터링 및 정책 적용 가능</td></tr><tr><td><strong>프라이버시 보호</strong></td><td>사용자 신원 노출 최소화, GDPR 등 프라이버시 규정 대응에도 유리</td></tr></tbody></table><h3 id=단점과-문제점-그리고-해결방안>단점과 문제점 그리고 해결방안<a hidden class=anchor aria-hidden=true href=#단점과-문제점-그리고-해결방안>#</a></h3><h4 id=단점>단점<a hidden class=anchor aria-hidden=true href=#단점>#</a></h4><table><thead><tr><th>항목</th><th>설명</th><th>해결 방안</th></tr></thead><tbody><tr><td>네트워크 지연</td><td>모든 요청이 프록시를 거치므로 중간 대기 시간이 증가함</td><td>고성능 장비, 로드밸런싱, 콘텐츠 캐싱, 지리적 분산 클러스터</td></tr><tr><td>병목 현상</td><td>다수의 사용자 요청 집중으로 CPU/메모리 등 리소스 과부하 발생</td><td>스케일 아웃 아키텍처, 수평 확장, 요청 큐 분산</td></tr><tr><td>단일 실패점</td><td>단일 프록시 장애 시 전체 트래픽 차단 가능성 존재</td><td>이중화 구성, 헬스체크 기반 Failover, 자동 장애 조치 구성</td></tr><tr><td>관리 복잡성</td><td>설정, 인증, 필터링, 정책 적용 등 복잡하고 지속적인 유지보수 필요</td><td>자동화 도구 (Ansible, Chef), 템플릿 기반 구성, 중앙화 관리 플랫폼 도입</td></tr><tr><td>프라이버시 및 투명성 부족</td><td>로깅 및 감시 기능으로 사용자 프라이버시 침해 우려 / 일부 앱은 명시적 프록시 설정 필요</td><td>데이터 마스킹, 접근 제어 강화, 프록시 우회 방지 설정, SNI 기반 정책</td></tr><tr><td>확장성 한계</td><td>사용자가 급격히 증가하거나 서비스가 확장되면 성능 한계 도달</td><td>마이크로서비스 기반 분산 프록시 구성, Auto-Scaling, CDN 연계 구성</td></tr></tbody></table><ul><li><strong>성능 저하</strong>: 지연 및 병목은 캐싱과 확장 아키텍처로 완화 가능</li><li><strong>신뢰성 리스크</strong>: 장애 시 전체 시스템 영향 → 이중화 및 헬스체크 필수</li><li><strong>운영 부담</strong>: 정책·보안·프라이버시 관리가 복잡 → 자동화/중앙화로 단순화</li><li><strong>확장 어려움</strong>: 단일 노드 확장에는 한계 → 분산 및 스케일아웃 구조 필요</li></ul><h4 id=문제점>문제점<a hidden class=anchor aria-hidden=true href=#문제점>#</a></h4><table><thead><tr><th>항목</th><th>원인</th><th>영향</th><th>진단 방법</th><th>예방 방법</th><th>해결 방법 및 기법</th></tr></thead><tbody><tr><td>캐시 오류</td><td>TTL 설정 미흡, 캐시 무효화 정책 부재</td><td>오래된 데이터 제공, 응답 불일치</td><td>캐시 무결성 검사, TTL 모니터링</td><td>동적 캐싱, 짧은 TTL 적용</td><td>실시간 갱신, TTL 조정, 캐시 재생성</td></tr><tr><td>SSL/TLS 처리 실패</td><td>인증서 오류, 호환성 부족, 키 교환 실패 등</td><td>HTTPS 접속 불가, 보안 경고, 서비스 거부</td><td>SSL 핸드셰이크 로그, 인증서 체인 검증</td><td>호환 암호화 스위트 사용, 정기 인증서 검증</td><td>인증서 자동 갱신, SSL Bypass, SNI 우회 규칙 적용</td></tr><tr><td>정책 오류</td><td>ACL 설정 오류, 필터링 조건 과도</td><td>정상 요청 차단, 서비스 기능 장애</td><td>정책 시뮬레이션, 로그 기반 테스트</td><td>룰 테스트 자동화, 정책 리뷰 프로세스 도입</td><td>ACL 자동화, 조건 기반 QA 적용</td></tr><tr><td>인증 실패</td><td>인증 서버 불안정, 세션 만료</td><td>사용 불가, 사용자 경험 저하</td><td>인증 실패율 모니터링, 로그 분석</td><td>인증 서버 이중화, 토큰 기반 인증 시스템 적용</td><td>OAuth Refresh Token, 세션 재인증</td></tr><tr><td>프록시 우회 시도</td><td>수동 설정, VPN 사용 등</td><td>정책 회피, 로깅 무력화</td><td>DPI 기반 트래픽 분석, 사용자별 로그 감시</td><td>강력한 보안 정책 및 알림 시스템 도입</td><td>SNI 검사, VPN 탐지 및 차단</td></tr><tr><td>메모리 누수</td><td>연결 풀 관리 미흡, GC 문제, 프로세스 리소스 해제 실패</td><td>성능 저하, 장애, 자원 고갈</td><td>메모리 프로파일링, GC 로그 분석</td><td>메모리 최적화 코드, 주기적 재시작 스케줄링</td><td>코드 리팩토링, 누수 위치 핫스팟 제거</td></tr><tr><td>캐시 오염</td><td>악성 콘텐츠 캐싱, 정책 없이 무차별 저장</td><td>보안 위협 확산, 사용자 오염 콘텐츠 수신</td><td>콘텐츠 해시, 탐지 시그니처 기반 감시</td><td>신뢰 도메인 화이트리스트, 캐시 유효성 검증 시스템 구축</td><td>캐시 무효화, 위협 자동 감지 및 차단</td></tr></tbody></table><ul><li><strong>보안 위협</strong>: SSL 처리 실패, 캐시 오염 등은 신뢰 체계 구축으로 완화</li><li><strong>정책 신뢰성</strong>: 오류 정책은 ACL 자동화와 QA 강화로 방지 가능</li><li><strong>성능 문제</strong>: 캐시 오류와 메모리 누수는 실시간 모니터링 및 최적화로 해결</li><li><strong>인증/우회 대응</strong>: 인증 장애나 프록시 우회는 이중화 및 DPI 기반 탐지 필요</li></ul><h3 id=도전-과제>도전 과제<a hidden class=anchor aria-hidden=true href=#도전-과제>#</a></h3><table><thead><tr><th>분류</th><th>도전 과제</th><th>원인</th><th>영향</th><th>해결 방안 및 대응 전략</th></tr></thead><tbody><tr><td><strong>보안</strong></td><td>SSL 인터셉션과 프라이버시 충돌</td><td>HTTPS 트래픽 검사를 위한 SSL 종료 필요와 사용자 프라이버시 충돌</td><td>사용자 신뢰도 저하, 법적 리스크, 규제 위반 가능성</td><td>선택적 SSL 인터셉션, 사용자 동의, TLS 기반 메타데이터 분석, SNI 기반 정책 적용</td></tr><tr><td></td><td>민감정보 로깅 및 개인 정보 노출</td><td>요청/응답 로그에 개인정보 포함 가능</td><td>법적 문제, 개인정보 보호법 위반, 기업 신뢰도 하락</td><td>로그 마스킹, 익명화 처리, 민감 필드 필터링, 개인정보보호법 연동</td></tr><tr><td></td><td>신종 위협 방어</td><td>SSL 우회, 제로데이, 인증 우회 기법의 등장</td><td>프록시 우회로 인한 보안 실패, 침입 탐지 어려움</td><td>딥 패킷 검사 (DPI), AI 기반 이상 탐지, 행위 기반 정책 적용</td></tr><tr><td><strong>성능/확장성</strong></td><td>HTTP/2·HTTP/3 지원 복잡성</td><td>멀티플렉싱, 헤더 압축, QUIC 등 새로운 기술의 적용</td><td>성능 저하, 트래픽 처리 실패, 기능 비활성화</td><td>최신 프로토콜 대응 업그레이드, 커널 튜닝, 하이브리드 처리 구성</td></tr><tr><td></td><td>단일 노드 병목</td><td>프록시 서버 부하 집중, 스케일링 미지원</td><td>서비스 지연, 장애 발생, 확장성 한계</td><td>수평 확장 (컨테이너 기반), 로드밸런서 통합 (HAProxy, Envoy), Auto Scaling 연동</td></tr><tr><td></td><td>캐싱 성능 한계</td><td>정적 캐싱 정책만으로는 최신 데이터 대응 어려움</td><td>성능 저하, 불필요한 외부 요청 증가, 트래픽 낭비</td><td>AI 기반 동적 캐싱 정책, TTL 기반 적응형 캐싱, CDN 연계</td></tr><tr><td><strong>운영/관리</strong></td><td>실시간 정책 반영의 어려움</td><td>설정 변경 후 배포 지연, 수동 반영 필요</td><td>정책 적용 지연, 운영 실수 가능성</td><td>실시간 정책 API, Admin UI 연동, 자동 반영 트리거 구축</td></tr><tr><td></td><td>정책·사용자·로그 관리 복잡성</td><td>사용자별 정책·로그 관리 분산, 유지관리 비용 상승</td><td>관리 오류, 정책 누락, 비효율적 감사 로그 관리</td><td>중앙화 플랫폼 사용, 정책 관리 자동화, Role 기반 접근 제어 (RBAC)</td></tr><tr><td><strong>기술 환경</strong></td><td>클라우드 네이티브 환경 적응 어려움</td><td>기존 솔루션이 컨테이너, 서버리스, 동적 서비스 탐지 미지원</td><td>MSA 환경에서의 유연성 부족, 설정 누락, 장애 대응 어려움</td><td>서비스 메시 통합 (Istio), API 게이트웨이 연동, 클라우드 네이티브 프록시 도입 (Envoy, Caddy)</td></tr><tr><td></td><td>대규모 트래픽 실시간 중계</td><td>예상 이상 트래픽 증가, 병렬 처리 불충분</td><td>응답 지연, 요청 누락, 장애 확산</td><td>비동기 처리, 커넥션 풀링, 고성능 프록시 엔진 적용 (e.g., NGINX+, Envoy)</td></tr></tbody></table><ul><li><p><strong>보안 측면</strong>: SSL 인터셉션은 필수 기능이지만 프라이버시 이슈와 충돌하며, 로그 상 민감 정보 보호도 중요한 과제다. 이를 위해 사용자 동의, 정보 마스킹, TLS 메타데이터 분석이 필요하다.</p></li><li><p><strong>성능 및 확장성</strong>: HTTP/2, HTTP/3 등 신기술 도입에 따른 호환성과 병목 현상에 대응하기 위해 수평 확장, 하이브리드 처리, AI 기반 캐싱 전략이 요구된다.</p></li><li><p><strong>운영 관리</strong>: 실시간 정책 반영 및 통합 관리 시스템 구축이 핵심이다. 자동화된 정책 API, RBAC, 중앙화 플랫폼 도입이 효과적이다.</p></li><li><p><strong>기술 환경 변화 대응</strong>: 클라우드 네이티브 아키텍처에 유연하게 적응하려면 서비스 메시, API 게이트웨이, 동적 디스커버리 지원 프록시 도입이 필요하다.</p></li></ul><h3 id=분류-기준에-따른-종류-및-유형>분류 기준에 따른 종류 및 유형<a hidden class=anchor aria-hidden=true href=#분류-기준에-따른-종류-및-유형>#</a></h3><table><thead><tr><th>분류 기준</th><th>유형</th><th>설명</th><th>대표 적용 사례</th></tr></thead><tbody><tr><td><strong>설정 방식</strong></td><td>Explicit Proxy</td><td>클라이언트에 수동 설정 필요 (프록시 주소 명시)</td><td>개인 사용자, 보안 설정 환경</td></tr><tr><td></td><td>Transparent Proxy</td><td>클라이언트 설정 없이 네트워크 수준에서 강제 적용 (라우팅/포트 미러링 등)</td><td>기업, 학교, ISP 내부 통제</td></tr><tr><td><strong>프로토콜 지원</strong></td><td>HTTP Proxy</td><td>HTTP 요청만 중계</td><td>일반 웹 필터링 환경</td></tr><tr><td></td><td>HTTPS Proxy (SSL Bumping)</td><td>HTTPS 요청 가로채기 및 복호화 후 중계 (보안 위협 탐지 가능)</td><td>DLP, 내부 보안 모니터링</td></tr><tr><td></td><td>SOCKS Proxy</td><td>TCP/UDP 트래픽 전송 지원. 프로토콜 비의존적 구조</td><td>VPN, P2P, 게임 등 범용 전송 환경</td></tr><tr><td><strong>사용 목적</strong></td><td>Filtering Proxy</td><td>URL/키워드 기반 콘텐츠 접근 차단 및 정책 필터링</td><td>학교, 관공서, 기업 보안 정책</td></tr><tr><td></td><td>Caching Proxy</td><td>콘텐츠 캐싱을 통해 응답 속도 향상 및 대역폭 절감</td><td>CDN 프론트, 정적 리소스 서버</td></tr><tr><td></td><td>Authentication Proxy</td><td>사용자 인증 필수, 계정 기반 정책 적용 가능</td><td>기업 내부 인증 기반 접속 환경</td></tr><tr><td><strong>구성 방식</strong></td><td>Single Node Proxy</td><td>단일 서버 기반 구조. 관리 용이하나 SPOF 가능성 존재</td><td>테스트/개발 환경, 소규모 네트워크</td></tr><tr><td></td><td>Clustered Proxy</td><td>다수 노드 분산 구성, 부하 분산 및 장애 대응 용이</td><td>엔터프라이즈 환경, 대규모 기업망</td></tr><tr><td><strong>처리 방식</strong></td><td>Synchronous</td><td>순차적 요청 처리, 단순 구조</td><td>저트래픽 환경</td></tr><tr><td></td><td>Asynchronous</td><td>병렬 요청 처리, 큐 기반 고성능 구조</td><td>고트래픽 환경, 비동기 아키텍처 환경</td></tr><tr><td><strong>배포 형태</strong></td><td>On-Premise Proxy</td><td>자체 인프라에 설치되어 완전한 제어 가능</td><td>금융, 대기업, 정부 기관</td></tr><tr><td></td><td>Cloud-based Proxy</td><td>SaaS 형태로 클라우드에서 제공되며 유지보수 부담 낮음</td><td>중소기업, 원격 근무 환경</td></tr><tr><td></td><td>Hybrid Deployment</td><td>온프레미스 + 클라우드 혼합 구성</td><td>다국적 기업, 글로벌 하이브리드 네트워크</td></tr><tr><td><strong>기능 통합 범위</strong></td><td>Basic Proxy</td><td>단순 요청 중계 및 포워딩 기능만 제공</td><td>테스트 환경, 임시 구성</td></tr><tr><td></td><td>Secure/Integrated Proxy</td><td>방화벽, DLP, 바이러스 탐지 등 다양한 보안 기능 통합</td><td>통합 보안 게이트웨이, 엔터프라이즈 솔루션</td></tr></tbody></table><ul><li><strong>설정 방식</strong>: 클라이언트 직접 설정 필요 여부에 따라 명시적 / 투명 프록시로 구분</li><li><strong>프로토콜 지원</strong>: HTTP/HTTPS/SOCKS 에 따라 처리 가능한 요청 유형이 다름</li><li><strong>사용 목적</strong>: 필터링, 캐싱, 인증 등 정책 중심 목적에 따라 기능 구분</li><li><strong>구성 및 처리</strong>: 단일 vs 클러스터, 동기 vs 비동기 구성은 성능과 확장성에 영향</li><li><strong>배포 형태</strong>: 설치 위치에 따라 온프레미스, 클라우드, 하이브리드로 구분되며 보안/운영 요구에 따라 선택</li><li><strong>기능 범위</strong>: 단순 프록시 또는 보안 기능 통합 여부에 따라 차별화됨</li></ul><h3 id=실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>실무에서 효과적으로 적용하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#실무에서-효과적으로-적용하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>카테고리</th><th>고려사항</th><th>설명</th><th>권장 사항 및 실무 적용 전략</th></tr></thead><tbody><tr><td><strong>정책 관리</strong></td><td>정책 일관성 유지</td><td>사용자별, 시간대별, URL 별 정책이 일관되게 적용되어야 함</td><td>중앙 집중형 정책 관리 도구 사용, Policy-as-Code 적용, 실시간 정책 반영 API 활용</td></tr><tr><td></td><td>정기 정책 갱신</td><td>보안 규제, 조직 정책 변경에 따라 프록시 정책도 주기적 갱신 필요</td><td>자동화된 정책 배포 파이프라인 구축 (CI/CD 기반), 변경 이력 감사 로그 유지</td></tr><tr><td><strong>보안</strong></td><td>SSL/TLS 인증서 관리</td><td>SSL 인터셉션을 위한 인증서 관리 및 갱신 체계 필수</td><td>자동 인증서 배포 및 갱신 시스템 (e.g., Let&rsquo;s Encrypt + certbot), CA 체계 강화</td></tr><tr><td></td><td>사용자 프라이버시 보호</td><td>프록시 로그 또는 요청/응답에서 민감 정보 노출 방지 필요</td><td>마스킹, 익명화, 민감 필드 필터링, 접근 제어 정책 적용</td></tr><tr><td></td><td>인증 체계 연동</td><td>조직 인증 체계와 통합 필요 (LDAP, SAML, OAuth 등)</td><td>RBAC 기반 권한 제어, 표준 인증 프로토콜 연동</td></tr><tr><td><strong>성능/최적화</strong></td><td>대역폭 및 트래픽 계획</td><td>피크 시간 대비 충분한 대역폭 확보 및 QoS 고려 필요</td><td>예상 트래픽의 150% 이상 용량 확보, QoS 기반 트래픽 우선순위 설정</td></tr><tr><td></td><td>캐싱 전략</td><td>정적 리소스에 대한 캐싱으로 성능 최적화 가능</td><td>콘텐츠 유형별 TTL 차등 설정, 동적 캐싱 도입, 캐시 무효화 정책 관리</td></tr><tr><td></td><td>클라이언트 편의성</td><td>Explicit Proxy 의 경우 클라이언트 설정 부담 존재</td><td>자동 구성 스크립트 (PAC), WPAD 또는 DHCP 통한 자동화</td></tr><tr><td><strong>운영/모니터링</strong></td><td>장애 이중화</td><td>프록시 서버 단일 장애 시 전체 서비스 영향</td><td>Active-Active 또는 Active-Passive 구성, 로드밸런서 연동, 자동 Failover 구성</td></tr><tr><td></td><td>로그 저장 및 감사</td><td>보안 및 감사 목적의 로그 저장 필요</td><td>로그 중앙화 (ELK, Loki 등), 보존 정책 설정, 로그 암호화, SIEM 연동</td></tr><tr><td></td><td>시스템 모니터링</td><td>실시간 상태 모니터링 및 이상 탐지 필요</td><td>프록시 성능 모니터링 대시보드, 알림 시스템 구축 (Grafana + Prometheus + Alertmanager 등)</td></tr><tr><td></td><td>백업 및 복구</td><td>설정 파일, 인증서, 정책 등의 손실 대비 백업 체계 필수</td><td>자동 백업 스케줄링, Git 기반 설정 버전 관리, 복구 시나리오 및 테스트 구축</td></tr></tbody></table><ul><li><strong>정책 관리</strong>: 중앙 집중화와 자동화를 기반으로 정책을 코드처럼 관리하고, 규정 변화에 따라 정기적으로 업데이트해야 한다.</li><li><strong>보안</strong>: 인증 체계 연동, SSL 인증서 관리, 프라이버시 보호는 기본 요소이며, 로그 마스킹과 접근 제어가 병행되어야 한다.</li><li><strong>성능 최적화</strong>: 트래픽 예측 기반 대역폭 확보와 콘텐츠 기반 캐싱 전략, 클라이언트 자동 구성 설정이 성능 향상의 핵심이다.</li><li><strong>운영 안정성</strong>: 장애 복구, 실시간 모니터링, 감사 로그 저장, 백업 체계까지 포함한 전방위 운영 전략이 필수적이다.</li></ul><h3 id=최적화하기-위한-고려사항-및-주의할-점>최적화하기 위한 고려사항 및 주의할 점<a hidden class=anchor aria-hidden=true href=#최적화하기-위한-고려사항-및-주의할-점>#</a></h3><table><thead><tr><th>구분</th><th>최적화 항목</th><th>설명</th><th>권장 사항 및 적용 방안</th></tr></thead><tbody><tr><td><strong>하드웨어</strong></td><td>CPU 최적화</td><td>멀티스레드 기반 프록시 성능 향상을 위한 멀티코어 활용</td><td>워커 수를 CPU 코어 수에 맞게 설정, NUMA 최적화</td></tr><tr><td></td><td>메모리 최적화</td><td>캐시 및 버퍼가 메모리를 과도하게 사용하지 않도록 적절히 배분</td><td>전체 메모리의 50~70% 를 캐시용으로 할당, OOM 방지 구성</td></tr><tr><td></td><td>스토리지 최적화</td><td>고속 응답을 위한 캐시 디스크 I/O 성능 확보</td><td>SSD 또는 NVMe 기반 스토리지 구성, 디스크 캐시 계층 분리</td></tr><tr><td><strong>소프트웨어</strong></td><td>캐싱 정책 최적화</td><td>TTL, 캐시 교체 알고리즘, 키 전략 등을 통한 효율적 콘텐츠 저장</td><td>URL 패턴 기반 TTL 설정, LRU+LFU 하이브리드 알고리즘 적용</td></tr><tr><td></td><td>알고리즘 최적화</td><td>요청 처리와 연결 재사용, 캐시 정리에 대한 효율적 로직 구현</td><td>비동기 처리 기반 프록시, 연결 풀 재활용 (Keep-Alive), 캐시 만료 정렬 큐 구조 적용</td></tr><tr><td></td><td>네트워크 튜닝</td><td>TCP/IP 스택 및 커넥션 유지 전략</td><td>TCP Keep-Alive, 커넥션 재사용, 최대 커넥션 수 조정</td></tr><tr><td><strong>아키텍처</strong></td><td>수평 확장 (스케일링)</td><td>트래픽 증가 시 병목 없이 인스턴스 단위 확장</td><td>컨테이너화, K8s 기반 오토스케일링, 프록시 서버 분산 구조 구성</td></tr><tr><td></td><td>로드 밸런싱</td><td>다수의 프록시 노드에 트래픽을 균등 분산</td><td>L4/L7 로드밸서 (HAProxy, Envoy, NGINX), 라운드로빈/가중치 기반 정책 적용</td></tr><tr><td></td><td>장애 대응 및 이중화</td><td>프록시 장애 시 전체 통신 중단 방지</td><td>헬스체크 기반 Failover 구성, Active-Active 클러스터링, DNS 기반 장애 우회</td></tr><tr><td><strong>운영 관리</strong></td><td>로그 및 감사</td><td>고속 로그 처리 및 보안 감사 대응</td><td>Filebeat/Fluentd 로그 버퍼링, SIEM 연계, 실시간 분석 및 저장소 분리</td></tr><tr><td></td><td>자원 사용량 감시</td><td>CPU, 메모리, I/O 등 리소스의 지속적 모니터링 필요</td><td>Prometheus + Grafana 기반 모니터링, 임계치 기반 Alert 설정</td></tr><tr><td></td><td>병목 분석</td><td>고트래픽 구간에서의 지연 및 실패 원인 식별</td><td>APM 도입, 응답 시간 및 에러율 트레이싱, 캐시 적중률 추적</td></tr><tr><td><strong>정책 관리</strong></td><td>정책 자동 반영</td><td>정책 변경 시 프록시 재시작 없이 반영 가능해야 함</td><td>정책 API 도입, Hot Reload 기능 구성</td></tr><tr><td></td><td>중앙 정책 관리</td><td>분산 프록시 간 정책 통합 및 버전 관리</td><td>GitOps 기반 정책 저장소, 중앙 UI 콘솔 구성, 롤백/버전 추적 구조화</td></tr><tr><td></td><td>접근 제어 정책</td><td>사용자별 인증, 권한 설정 등을 효율적으로 운영</td><td>RBAC 적용, 인증 연동 (OAuth, LDAP), 정책 단위로 세분화된 룰 엔진 적용</td></tr></tbody></table><h4 id=요약-정리-1>요약 정리<a hidden class=anchor aria-hidden=true href=#요약-정리-1>#</a></h4><table><thead><tr><th>영역</th><th>핵심 고려 요소</th></tr></thead><tbody><tr><td><strong>하드웨어</strong></td><td>CPU 코어 기반 병렬화, 메모리 캐시 배분, 고속 SSD 로 응답 시간 최소화</td></tr><tr><td><strong>소프트웨어</strong></td><td>캐시 정책, Keep-Alive, 알고리즘 최적화로 프록시 서버 내부 처리 효율 극대화</td></tr><tr><td><strong>아키텍처</strong></td><td>수평 확장 및 로드밸런싱 구조로 확장성 확보, 이중화로 단일 실패 방지</td></tr><tr><td><strong>운영 관리</strong></td><td>로그/모니터링 체계화로 병목 식별 및 보안 감사 대응, 리소스 추적 및 알림 시스템 연계</td></tr><tr><td><strong>정책 및 보안 관리</strong></td><td>정책 변경 자동화, 접근 제어 정책 중앙 관리, 인증 시스템 연동 통한 보안 강화</td></tr></tbody></table><h3 id=실무-사용-예시>실무 사용 예시<a hidden class=anchor aria-hidden=true href=#실무-사용-예시>#</a></h3><table><thead><tr><th>활용 목적</th><th>주요 사용 환경</th><th>기술 스택 및 구성 요소</th><th>기대 효과</th></tr></thead><tbody><tr><td><strong>접근 제어 및 웹 필터링</strong></td><td>기업, 학교, 관공서 네트워크</td><td>Squid Proxy, ACL 룰셋, LDAP/SSO 인증, 방화벽, IDS/IPS 연계</td><td>유해 사이트 차단, 부적절 트래픽 차단, 시간·사용자 기반 정책 적용</td></tr><tr><td><strong>사용자 인증 및 구분</strong></td><td>사내망, 보안이 요구되는 내부 시스템</td><td>Kerberos, LDAP, AD, 인증 기반 Squid 구성</td><td>사용자 식별 기반 접근 제어, 권한별 정책 차별화</td></tr><tr><td><strong>응답 캐싱 및 성능 최적화</strong></td><td>뉴스/미디어 서비스, 대용량 정적 콘텐츠 제공 환경</td><td>Squid Cache, Nginx, LRU 기반 캐시 정책, CDN 연동</td><td>대역폭 절감, 응답 속도 향상, 서버 부하 분산</td></tr><tr><td><strong>프라이버시 보호 및 익명성</strong></td><td>기자 단체, 인권단체, 민감 정보 접속 환경</td><td>Tor, Privoxy, Proxy Chain, 암호화 터널링</td><td>실 IP 은닉, 추적 방지, 사용자 프라이버시 보호</td></tr><tr><td><strong>인터넷 사용 감사 및 로그 기록</strong></td><td>정부기관, 금융기관, 보안 민감 조직</td><td>Squid + Syslog, ELK Stack (Logstash + Elasticsearch + Kibana), SIEM 연계</td><td>접속 로그 감사, 위협 탐지, 법적 컴플라이언스 대응</td></tr><tr><td><strong>보안 위협 탐지 및 방어</strong></td><td>엔터프라이즈 네트워크, 금융보안 환경</td><td>DPI 기반 프록시, SSL Bumping, WAF 연계 구성</td><td>HTTPS 내 위협 탐지, 비인가 접근 차단, 보안 이벤트 실시간 대응</td></tr></tbody></table><h4 id=요약-정리-2>요약 정리<a hidden class=anchor aria-hidden=true href=#요약-정리-2>#</a></h4><table><thead><tr><th>분류 항목</th><th>주요 내용</th></tr></thead><tbody><tr><td><strong>보안 및 필터링</strong></td><td>접근 제어, 유해 트래픽 차단, 웹 필터링, IDS/IPS 연동 등 보안 강화 목적 사용</td></tr><tr><td><strong>인증 및 사용자 식별</strong></td><td>LDAP, Kerberos 등 인증 기반으로 사용자 단위 정책 차별화 가능</td></tr><tr><td><strong>성능 최적화</strong></td><td>정적 콘텐츠 캐싱, 캐시 적중률 향상, 응답 지연 최소화 → 미디어/포털 서비스에서 주로 활용</td></tr><tr><td><strong>프라이버시 보장</strong></td><td>Tor, Proxy Chain 등과 연계하여 실 사용자 IP 은닉 및 활동 추적 방지 환경 구성 가능</td></tr><tr><td><strong>감사 및 로깅</strong></td><td>SIEM, ELK 등을 통해 감사 대응 및 이상 탐지 체계화 → 정부기관, 금융기관에서 필수 적용</td></tr><tr><td><strong>보안 위협 대응</strong></td><td>SSL Bumping, WAF 연동, DPI 기반 분석 등 고급 보안 요구사항 대응 가능</td></tr></tbody></table><h3 id=활용-사례>활용 사례<a hidden class=anchor aria-hidden=true href=#활용-사례>#</a></h3><h4 id=사례-1-대기업의-내부-사용자들이-외부-인터넷에-접속>사례 1: 대기업의 내부 사용자들이 외부 인터넷에 접속<a hidden class=anchor aria-hidden=true href=#사례-1-대기업의-내부-사용자들이-외부-인터넷에-접속>#</a></h4><p><strong>시나리오</strong>: 대기업의 내부 사용자들이 외부 인터넷에 접속할 때, 회사 정책에 따라 특정 사이트 접근 제한, 로깅, 인증을 적용하고, 자주 사용하는 리소스는 캐싱하여 응답 속도를 높임.</p><p><strong>시스템 구성</strong>:</p><ul><li>클라이언트: 사내 PC (프록시 설정됨)</li><li>프록시 서버: Squid Proxy Server (Explicit Mode)</li><li>인증 서버: LDAP</li><li>로깅 시스템: ELK Stack</li><li>캐시 저장소: SSD 기반 파일 캐시</li></ul><pre class=mermaid>graph LR
  A[내부 사용자] --&gt; B[&#34;Forward Proxy (Squid)&#34;]
  B --&gt; C[&#34;Policy Engine (ACL)&#34;]
  B --&gt; D[Cache Storage]
  B --&gt; E[Upstream Server]
  B --&gt; F[LDAP 인증 서버]
  B --&gt; G[Log -&gt; Logstash -&gt; Elasticsearch -&gt; Kibana]
  E --&gt;|응답| B
  D --&gt;|캐시 응답| B
  F --&gt;|사용자 인증| B
</pre><p><strong>Workflow</strong>:</p><ol><li>사용자는 브라우저에 프록시 설정 후 외부 요청 수행</li><li>프록시 서버는 사용자의 인증을 LDAP 에 확인</li><li>정책 엔진은 접근 허용 여부 판단 (예: 유튜브 차단)</li><li>캐시에 요청 자원이 있으면 캐시에서 응답 반환</li><li>없다면 외부 서버로 요청 전송 → 응답 저장 후 사용자에 반환</li><li>모든 요청/응답은 로그로 수집되어 Kibana 에서 시각화</li></ol><p><strong>역할</strong>:</p><ul><li><strong>Forward Proxy</strong>: 요청 필터링, 인증, 캐싱, 로그 기록</li><li><strong>LDAP</strong>: 사용자 인증 및 그룹 식별</li><li><strong>ELK Stack</strong>: 모든 프록시 로그의 저장/분석/시각화</li><li><strong>Cache</strong>: 자주 요청되는 자원의 응답 속도 향상 및 대역폭 절감</li></ul><p><strong>유무에 따른 차이점</strong>:</p><table><thead><tr><th>비교 항목</th><th>Forward Proxy 적용</th><th>미적용</th></tr></thead><tbody><tr><td>보안</td><td>사용자 인증 및 접근 제한 가능</td><td>누구나 모든 사이트 접속 가능</td></tr><tr><td>성능</td><td>캐시된 응답으로 속도 향상</td><td>모든 요청 외부 송신으로 속도 저하</td></tr><tr><td>로그 및 감사</td><td>모든 요청/응답 기록 가능</td><td>사용자 추적 불가, 컴플라이언스 대응 불가</td></tr><tr><td>정책 관리</td><td>URL 및 시간 기반 접근 제어 가능</td><td>외부 접근에 대한 제어 불가</td></tr></tbody></table><p><strong>구현 예시</strong></p><ul><li>Python + Squid ACL 기반 정책 자동화</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1>1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2>2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3>3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4>4</a>
</span><span class=lnt id=hl-12-5><a class=lnlinks href=#hl-12-5>5</a>
</span><span class=lnt id=hl-12-6><a class=lnlinks href=#hl-12-6>6</a>
</span><span class=lnt id=hl-12-7><a class=lnlinks href=#hl-12-7>7</a>
</span><span class=lnt id=hl-12-8><a class=lnlinks href=#hl-12-8>8</a>
</span><span class=lnt id=hl-12-9><a class=lnlinks href=#hl-12-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Squid ACL 파일 자동 생성 스크립트 예시</span>
</span></span><span class=line><span class=cl><span class=n>block_sites</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;youtube.com&#34;</span><span class=p>,</span> <span class=s2>&#34;facebook.com&#34;</span><span class=p>,</span> <span class=s2>&#34;tiktok.com&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>output</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>output</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&#34;acl blocked_sites dstdomain &#34;</span> <span class=o>+</span> <span class=s2>&#34; &#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>block_sites</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>output</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&#34;http_access deny blocked_sites&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;/etc/squid/acl_block.conf&#34;</span><span class=p>,</span> <span class=s2>&#34;w&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>output</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1>1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># squid.conf 내 포함</span>
</span></span><span class=line><span class=cl>include /etc/squid/acl_block.conf
</span></span></code></pre></td></tr></table></div></div><p>이 코드를 통해 사이트 차단 리스트를 프로그램적으로 관리할 수 있으며, GitOps 로 연동 시 자동 배포도 가능함.</p><h4 id=사례-2-글로벌-제조업체의-본사---지사간-안전한-인터넷-접속-환경>사례 2: 글로벌 제조업체의 본사 - 지사간 안전한 인터넷 접속 환경<a hidden class=anchor aria-hidden=true href=#사례-2-글로벌-제조업체의-본사---지사간-안전한-인터넷-접속-환경>#</a></h4><p><strong>시나리오</strong>: 글로벌 제조업체의 본사 - 지사간 안전한 인터넷 접속 환경 구축</p><p><strong>시스템 구성</strong>:</p><ul><li>본사: 중앙 집중식 Forward Proxy 클러스터 (Squid + HAProxy)</li><li>지사: 로컬 캐싱 프록시 (NGINX)</li><li>클라우드: 백업 프록시 서비스 (AWS ALB + Lambda)</li><li>보안: 통합 위협 관리 시스템 (FortiGate)</li></ul><pre class=mermaid>graph TB
    subgraph &#34;본사 (HQ)&#34;
        HQ_Users[본사 사용자들]
        HQ_LB[HAProxy Load Balancer]
        HQ_Proxy1[Squid Proxy 1]
        HQ_Proxy2[Squid Proxy 2]
        HQ_Cache[Redis Cache Cluster]
        HQ_Auth[LDAP Authentication]
        HQ_FW[FortiGate Firewall]
    end
    
    subgraph &#34;지사 (Branch Office)&#34;
        Branch_Users[지사 사용자들]
        Branch_Proxy[NGINX Proxy]
        Branch_Cache[Local Cache]
    end
    
    subgraph &#34;클라우드 백업&#34;
        Cloud_Proxy[AWS ALB]
        Lambda[Lambda Functions]
    end
    
    subgraph &#34;인터넷&#34;
        Web_Servers[웹 서버들]
    end
    
    HQ_Users --&gt; HQ_LB
    HQ_LB --&gt; HQ_Proxy1
    HQ_LB --&gt; HQ_Proxy2
    HQ_Proxy1 --&gt; HQ_Cache
    HQ_Proxy2 --&gt; HQ_Cache
    HQ_Proxy1 --&gt; HQ_Auth
    HQ_Proxy2 --&gt; HQ_Auth
    
    Branch_Users --&gt; Branch_Proxy
    Branch_Proxy --&gt; Branch_Cache
    Branch_Proxy --&gt; HQ_LB
    
    HQ_Proxy1 --&gt; HQ_FW
    HQ_Proxy2 --&gt; HQ_FW
    HQ_FW --&gt; Web_Servers
    
    HQ_LB --&gt; Cloud_Proxy
    Cloud_Proxy --&gt; Lambda
    Lambda --&gt; Web_Servers
</pre><p><strong>Workflow</strong>:</p><ul><li>사용자가 웹 사이트 접속 요청</li><li>로컬 프록시에서 캐시 확인 후 캐시 미스 시 본사 프록시로 전달</li><li>본사 프록시에서 인증 및 정책 검사 수행</li><li>위협 관리 시스템을 통한 보안 검사</li><li>외부 웹 서버에서 콘텐츠 획득 후 캐싱</li><li>응답을 사용자에게 전달</li></ul><p><strong>역할</strong>:</p><ul><li><strong>본사 프록시</strong>: 중앙 집중식 정책 관리, 캐싱, 보안 검사</li><li><strong>지사 프록시</strong>: 로컬 캐싱, 트래픽 압축, 대역폭 최적화</li><li><strong>클라우드 백업</strong>: 장애 상황 시 대체 경로 제공</li></ul><p><strong>유무에 따른 차이점</strong>:</p><ul><li><strong>Forward Proxy 있음</strong>: 중앙화된 보안 정책, 30% 대역폭 절약, 99.9% 가용성</li><li><strong>Forward Proxy 없음</strong>: 개별 보안 관리, 높은 대역폭 사용량, 보안 일관성 부족</li></ul><p><strong>구현 예시</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1>  1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2>  2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3>  3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4>  4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5>  5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6>  6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7>  7</a>
</span><span class=lnt id=hl-15-8><a class=lnlinks href=#hl-15-8>  8</a>
</span><span class=lnt id=hl-15-9><a class=lnlinks href=#hl-15-9>  9</a>
</span><span class=lnt id=hl-15-10><a class=lnlinks href=#hl-15-10> 10</a>
</span><span class=lnt id=hl-15-11><a class=lnlinks href=#hl-15-11> 11</a>
</span><span class=lnt id=hl-15-12><a class=lnlinks href=#hl-15-12> 12</a>
</span><span class=lnt id=hl-15-13><a class=lnlinks href=#hl-15-13> 13</a>
</span><span class=lnt id=hl-15-14><a class=lnlinks href=#hl-15-14> 14</a>
</span><span class=lnt id=hl-15-15><a class=lnlinks href=#hl-15-15> 15</a>
</span><span class=lnt id=hl-15-16><a class=lnlinks href=#hl-15-16> 16</a>
</span><span class=lnt id=hl-15-17><a class=lnlinks href=#hl-15-17> 17</a>
</span><span class=lnt id=hl-15-18><a class=lnlinks href=#hl-15-18> 18</a>
</span><span class=lnt id=hl-15-19><a class=lnlinks href=#hl-15-19> 19</a>
</span><span class=lnt id=hl-15-20><a class=lnlinks href=#hl-15-20> 20</a>
</span><span class=lnt id=hl-15-21><a class=lnlinks href=#hl-15-21> 21</a>
</span><span class=lnt id=hl-15-22><a class=lnlinks href=#hl-15-22> 22</a>
</span><span class=lnt id=hl-15-23><a class=lnlinks href=#hl-15-23> 23</a>
</span><span class=lnt id=hl-15-24><a class=lnlinks href=#hl-15-24> 24</a>
</span><span class=lnt id=hl-15-25><a class=lnlinks href=#hl-15-25> 25</a>
</span><span class=lnt id=hl-15-26><a class=lnlinks href=#hl-15-26> 26</a>
</span><span class=lnt id=hl-15-27><a class=lnlinks href=#hl-15-27> 27</a>
</span><span class=lnt id=hl-15-28><a class=lnlinks href=#hl-15-28> 28</a>
</span><span class=lnt id=hl-15-29><a class=lnlinks href=#hl-15-29> 29</a>
</span><span class=lnt id=hl-15-30><a class=lnlinks href=#hl-15-30> 30</a>
</span><span class=lnt id=hl-15-31><a class=lnlinks href=#hl-15-31> 31</a>
</span><span class=lnt id=hl-15-32><a class=lnlinks href=#hl-15-32> 32</a>
</span><span class=lnt id=hl-15-33><a class=lnlinks href=#hl-15-33> 33</a>
</span><span class=lnt id=hl-15-34><a class=lnlinks href=#hl-15-34> 34</a>
</span><span class=lnt id=hl-15-35><a class=lnlinks href=#hl-15-35> 35</a>
</span><span class=lnt id=hl-15-36><a class=lnlinks href=#hl-15-36> 36</a>
</span><span class=lnt id=hl-15-37><a class=lnlinks href=#hl-15-37> 37</a>
</span><span class=lnt id=hl-15-38><a class=lnlinks href=#hl-15-38> 38</a>
</span><span class=lnt id=hl-15-39><a class=lnlinks href=#hl-15-39> 39</a>
</span><span class=lnt id=hl-15-40><a class=lnlinks href=#hl-15-40> 40</a>
</span><span class=lnt id=hl-15-41><a class=lnlinks href=#hl-15-41> 41</a>
</span><span class=lnt id=hl-15-42><a class=lnlinks href=#hl-15-42> 42</a>
</span><span class=lnt id=hl-15-43><a class=lnlinks href=#hl-15-43> 43</a>
</span><span class=lnt id=hl-15-44><a class=lnlinks href=#hl-15-44> 44</a>
</span><span class=lnt id=hl-15-45><a class=lnlinks href=#hl-15-45> 45</a>
</span><span class=lnt id=hl-15-46><a class=lnlinks href=#hl-15-46> 46</a>
</span><span class=lnt id=hl-15-47><a class=lnlinks href=#hl-15-47> 47</a>
</span><span class=lnt id=hl-15-48><a class=lnlinks href=#hl-15-48> 48</a>
</span><span class=lnt id=hl-15-49><a class=lnlinks href=#hl-15-49> 49</a>
</span><span class=lnt id=hl-15-50><a class=lnlinks href=#hl-15-50> 50</a>
</span><span class=lnt id=hl-15-51><a class=lnlinks href=#hl-15-51> 51</a>
</span><span class=lnt id=hl-15-52><a class=lnlinks href=#hl-15-52> 52</a>
</span><span class=lnt id=hl-15-53><a class=lnlinks href=#hl-15-53> 53</a>
</span><span class=lnt id=hl-15-54><a class=lnlinks href=#hl-15-54> 54</a>
</span><span class=lnt id=hl-15-55><a class=lnlinks href=#hl-15-55> 55</a>
</span><span class=lnt id=hl-15-56><a class=lnlinks href=#hl-15-56> 56</a>
</span><span class=lnt id=hl-15-57><a class=lnlinks href=#hl-15-57> 57</a>
</span><span class=lnt id=hl-15-58><a class=lnlinks href=#hl-15-58> 58</a>
</span><span class=lnt id=hl-15-59><a class=lnlinks href=#hl-15-59> 59</a>
</span><span class=lnt id=hl-15-60><a class=lnlinks href=#hl-15-60> 60</a>
</span><span class=lnt id=hl-15-61><a class=lnlinks href=#hl-15-61> 61</a>
</span><span class=lnt id=hl-15-62><a class=lnlinks href=#hl-15-62> 62</a>
</span><span class=lnt id=hl-15-63><a class=lnlinks href=#hl-15-63> 63</a>
</span><span class=lnt id=hl-15-64><a class=lnlinks href=#hl-15-64> 64</a>
</span><span class=lnt id=hl-15-65><a class=lnlinks href=#hl-15-65> 65</a>
</span><span class=lnt id=hl-15-66><a class=lnlinks href=#hl-15-66> 66</a>
</span><span class=lnt id=hl-15-67><a class=lnlinks href=#hl-15-67> 67</a>
</span><span class=lnt id=hl-15-68><a class=lnlinks href=#hl-15-68> 68</a>
</span><span class=lnt id=hl-15-69><a class=lnlinks href=#hl-15-69> 69</a>
</span><span class=lnt id=hl-15-70><a class=lnlinks href=#hl-15-70> 70</a>
</span><span class=lnt id=hl-15-71><a class=lnlinks href=#hl-15-71> 71</a>
</span><span class=lnt id=hl-15-72><a class=lnlinks href=#hl-15-72> 72</a>
</span><span class=lnt id=hl-15-73><a class=lnlinks href=#hl-15-73> 73</a>
</span><span class=lnt id=hl-15-74><a class=lnlinks href=#hl-15-74> 74</a>
</span><span class=lnt id=hl-15-75><a class=lnlinks href=#hl-15-75> 75</a>
</span><span class=lnt id=hl-15-76><a class=lnlinks href=#hl-15-76> 76</a>
</span><span class=lnt id=hl-15-77><a class=lnlinks href=#hl-15-77> 77</a>
</span><span class=lnt id=hl-15-78><a class=lnlinks href=#hl-15-78> 78</a>
</span><span class=lnt id=hl-15-79><a class=lnlinks href=#hl-15-79> 79</a>
</span><span class=lnt id=hl-15-80><a class=lnlinks href=#hl-15-80> 80</a>
</span><span class=lnt id=hl-15-81><a class=lnlinks href=#hl-15-81> 81</a>
</span><span class=lnt id=hl-15-82><a class=lnlinks href=#hl-15-82> 82</a>
</span><span class=lnt id=hl-15-83><a class=lnlinks href=#hl-15-83> 83</a>
</span><span class=lnt id=hl-15-84><a class=lnlinks href=#hl-15-84> 84</a>
</span><span class=lnt id=hl-15-85><a class=lnlinks href=#hl-15-85> 85</a>
</span><span class=lnt id=hl-15-86><a class=lnlinks href=#hl-15-86> 86</a>
</span><span class=lnt id=hl-15-87><a class=lnlinks href=#hl-15-87> 87</a>
</span><span class=lnt id=hl-15-88><a class=lnlinks href=#hl-15-88> 88</a>
</span><span class=lnt id=hl-15-89><a class=lnlinks href=#hl-15-89> 89</a>
</span><span class=lnt id=hl-15-90><a class=lnlinks href=#hl-15-90> 90</a>
</span><span class=lnt id=hl-15-91><a class=lnlinks href=#hl-15-91> 91</a>
</span><span class=lnt id=hl-15-92><a class=lnlinks href=#hl-15-92> 92</a>
</span><span class=lnt id=hl-15-93><a class=lnlinks href=#hl-15-93> 93</a>
</span><span class=lnt id=hl-15-94><a class=lnlinks href=#hl-15-94> 94</a>
</span><span class=lnt id=hl-15-95><a class=lnlinks href=#hl-15-95> 95</a>
</span><span class=lnt id=hl-15-96><a class=lnlinks href=#hl-15-96> 96</a>
</span><span class=lnt id=hl-15-97><a class=lnlinks href=#hl-15-97> 97</a>
</span><span class=lnt id=hl-15-98><a class=lnlinks href=#hl-15-98> 98</a>
</span><span class=lnt id=hl-15-99><a class=lnlinks href=#hl-15-99> 99</a>
</span><span class=lnt id=hl-15-100><a class=lnlinks href=#hl-15-100>100</a>
</span><span class=lnt id=hl-15-101><a class=lnlinks href=#hl-15-101>101</a>
</span><span class=lnt id=hl-15-102><a class=lnlinks href=#hl-15-102>102</a>
</span><span class=lnt id=hl-15-103><a class=lnlinks href=#hl-15-103>103</a>
</span><span class=lnt id=hl-15-104><a class=lnlinks href=#hl-15-104>104</a>
</span><span class=lnt id=hl-15-105><a class=lnlinks href=#hl-15-105>105</a>
</span><span class=lnt id=hl-15-106><a class=lnlinks href=#hl-15-106>106</a>
</span><span class=lnt id=hl-15-107><a class=lnlinks href=#hl-15-107>107</a>
</span><span class=lnt id=hl-15-108><a class=lnlinks href=#hl-15-108>108</a>
</span><span class=lnt id=hl-15-109><a class=lnlinks href=#hl-15-109>109</a>
</span><span class=lnt id=hl-15-110><a class=lnlinks href=#hl-15-110>110</a>
</span><span class=lnt id=hl-15-111><a class=lnlinks href=#hl-15-111>111</a>
</span><span class=lnt id=hl-15-112><a class=lnlinks href=#hl-15-112>112</a>
</span><span class=lnt id=hl-15-113><a class=lnlinks href=#hl-15-113>113</a>
</span><span class=lnt id=hl-15-114><a class=lnlinks href=#hl-15-114>114</a>
</span><span class=lnt id=hl-15-115><a class=lnlinks href=#hl-15-115>115</a>
</span><span class=lnt id=hl-15-116><a class=lnlinks href=#hl-15-116>116</a>
</span><span class=lnt id=hl-15-117><a class=lnlinks href=#hl-15-117>117</a>
</span><span class=lnt id=hl-15-118><a class=lnlinks href=#hl-15-118>118</a>
</span><span class=lnt id=hl-15-119><a class=lnlinks href=#hl-15-119>119</a>
</span><span class=lnt id=hl-15-120><a class=lnlinks href=#hl-15-120>120</a>
</span><span class=lnt id=hl-15-121><a class=lnlinks href=#hl-15-121>121</a>
</span><span class=lnt id=hl-15-122><a class=lnlinks href=#hl-15-122>122</a>
</span><span class=lnt id=hl-15-123><a class=lnlinks href=#hl-15-123>123</a>
</span><span class=lnt id=hl-15-124><a class=lnlinks href=#hl-15-124>124</a>
</span><span class=lnt id=hl-15-125><a class=lnlinks href=#hl-15-125>125</a>
</span><span class=lnt id=hl-15-126><a class=lnlinks href=#hl-15-126>126</a>
</span><span class=lnt id=hl-15-127><a class=lnlinks href=#hl-15-127>127</a>
</span><span class=lnt id=hl-15-128><a class=lnlinks href=#hl-15-128>128</a>
</span><span class=lnt id=hl-15-129><a class=lnlinks href=#hl-15-129>129</a>
</span><span class=lnt id=hl-15-130><a class=lnlinks href=#hl-15-130>130</a>
</span><span class=lnt id=hl-15-131><a class=lnlinks href=#hl-15-131>131</a>
</span><span class=lnt id=hl-15-132><a class=lnlinks href=#hl-15-132>132</a>
</span><span class=lnt id=hl-15-133><a class=lnlinks href=#hl-15-133>133</a>
</span><span class=lnt id=hl-15-134><a class=lnlinks href=#hl-15-134>134</a>
</span><span class=lnt id=hl-15-135><a class=lnlinks href=#hl-15-135>135</a>
</span><span class=lnt id=hl-15-136><a class=lnlinks href=#hl-15-136>136</a>
</span><span class=lnt id=hl-15-137><a class=lnlinks href=#hl-15-137>137</a>
</span><span class=lnt id=hl-15-138><a class=lnlinks href=#hl-15-138>138</a>
</span><span class=lnt id=hl-15-139><a class=lnlinks href=#hl-15-139>139</a>
</span><span class=lnt id=hl-15-140><a class=lnlinks href=#hl-15-140>140</a>
</span><span class=lnt id=hl-15-141><a class=lnlinks href=#hl-15-141>141</a>
</span><span class=lnt id=hl-15-142><a class=lnlinks href=#hl-15-142>142</a>
</span><span class=lnt id=hl-15-143><a class=lnlinks href=#hl-15-143>143</a>
</span><span class=lnt id=hl-15-144><a class=lnlinks href=#hl-15-144>144</a>
</span><span class=lnt id=hl-15-145><a class=lnlinks href=#hl-15-145>145</a>
</span><span class=lnt id=hl-15-146><a class=lnlinks href=#hl-15-146>146</a>
</span><span class=lnt id=hl-15-147><a class=lnlinks href=#hl-15-147>147</a>
</span><span class=lnt id=hl-15-148><a class=lnlinks href=#hl-15-148>148</a>
</span><span class=lnt id=hl-15-149><a class=lnlinks href=#hl-15-149>149</a>
</span><span class=lnt id=hl-15-150><a class=lnlinks href=#hl-15-150>150</a>
</span><span class=lnt id=hl-15-151><a class=lnlinks href=#hl-15-151>151</a>
</span><span class=lnt id=hl-15-152><a class=lnlinks href=#hl-15-152>152</a>
</span><span class=lnt id=hl-15-153><a class=lnlinks href=#hl-15-153>153</a>
</span><span class=lnt id=hl-15-154><a class=lnlinks href=#hl-15-154>154</a>
</span><span class=lnt id=hl-15-155><a class=lnlinks href=#hl-15-155>155</a>
</span><span class=lnt id=hl-15-156><a class=lnlinks href=#hl-15-156>156</a>
</span><span class=lnt id=hl-15-157><a class=lnlinks href=#hl-15-157>157</a>
</span><span class=lnt id=hl-15-158><a class=lnlinks href=#hl-15-158>158</a>
</span><span class=lnt id=hl-15-159><a class=lnlinks href=#hl-15-159>159</a>
</span><span class=lnt id=hl-15-160><a class=lnlinks href=#hl-15-160>160</a>
</span><span class=lnt id=hl-15-161><a class=lnlinks href=#hl-15-161>161</a>
</span><span class=lnt id=hl-15-162><a class=lnlinks href=#hl-15-162>162</a>
</span><span class=lnt id=hl-15-163><a class=lnlinks href=#hl-15-163>163</a>
</span><span class=lnt id=hl-15-164><a class=lnlinks href=#hl-15-164>164</a>
</span><span class=lnt id=hl-15-165><a class=lnlinks href=#hl-15-165>165</a>
</span><span class=lnt id=hl-15-166><a class=lnlinks href=#hl-15-166>166</a>
</span><span class=lnt id=hl-15-167><a class=lnlinks href=#hl-15-167>167</a>
</span><span class=lnt id=hl-15-168><a class=lnlinks href=#hl-15-168>168</a>
</span><span class=lnt id=hl-15-169><a class=lnlinks href=#hl-15-169>169</a>
</span><span class=lnt id=hl-15-170><a class=lnlinks href=#hl-15-170>170</a>
</span><span class=lnt id=hl-15-171><a class=lnlinks href=#hl-15-171>171</a>
</span><span class=lnt id=hl-15-172><a class=lnlinks href=#hl-15-172>172</a>
</span><span class=lnt id=hl-15-173><a class=lnlinks href=#hl-15-173>173</a>
</span><span class=lnt id=hl-15-174><a class=lnlinks href=#hl-15-174>174</a>
</span><span class=lnt id=hl-15-175><a class=lnlinks href=#hl-15-175>175</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Python을 이용한 Forward Proxy 구현 예시</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>socket</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>threading</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>select</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>ssl</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>urllib.parse</span> <span class=kn>import</span> <span class=n>urlparse</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ForwardProxy</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>host</span><span class=o>=</span><span class=s1>&#39;localhost&#39;</span><span class=p>,</span> <span class=n>port</span><span class=o>=</span><span class=mi>8080</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>host</span> <span class=o>=</span> <span class=n>host</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>port</span> <span class=o>=</span> <span class=n>port</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>cache</span> <span class=o>=</span> <span class=p>{}</span>  <span class=c1># 간단한 캐시 구현</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>blocked_domains</span> <span class=o>=</span> <span class=nb>set</span><span class=p>()</span>  <span class=c1># 차단 도메인 목록</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>start_server</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;프록시 서버 시작&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>server_socket</span> <span class=o>=</span> <span class=n>socket</span><span class=o>.</span><span class=n>socket</span><span class=p>(</span><span class=n>socket</span><span class=o>.</span><span class=n>AF_INET</span><span class=p>,</span> <span class=n>socket</span><span class=o>.</span><span class=n>SOCK_STREAM</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>server_socket</span><span class=o>.</span><span class=n>setsockopt</span><span class=p>(</span><span class=n>socket</span><span class=o>.</span><span class=n>SOL_SOCKET</span><span class=p>,</span> <span class=n>socket</span><span class=o>.</span><span class=n>SO_REUSEADDR</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>server_socket</span><span class=o>.</span><span class=n>bind</span><span class=p>((</span><span class=bp>self</span><span class=o>.</span><span class=n>host</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>port</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=n>server_socket</span><span class=o>.</span><span class=n>listen</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Forward Proxy 서버 시작: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>host</span><span class=si>}</span><span class=s2>:</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>port</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>client_socket</span><span class=p>,</span> <span class=n>addr</span> <span class=o>=</span> <span class=n>server_socket</span><span class=o>.</span><span class=n>accept</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=n>client_thread</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                    <span class=n>target</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>handle_client</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=n>client_socket</span><span class=p>,</span> <span class=n>addr</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>client_thread</span><span class=o>.</span><span class=n>daemon</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>                <span class=n>client_thread</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>except</span> <span class=ne>KeyboardInterrupt</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;서버 종료 중…&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>finally</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>server_socket</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>handle_client</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>client_socket</span><span class=p>,</span> <span class=n>addr</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;클라이언트 요청 처리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># HTTP 요청 읽기</span>
</span></span><span class=line><span class=cl>            <span class=n>request</span> <span class=o>=</span> <span class=n>client_socket</span><span class=o>.</span><span class=n>recv</span><span class=p>(</span><span class=mi>4096</span><span class=p>)</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=n>request</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>            <span class=c1># 요청 파싱</span>
</span></span><span class=line><span class=cl>            <span class=n>first_line</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=n>url</span> <span class=o>=</span> <span class=n>first_line</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>)[</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># URL 파싱</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>url</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s1>&#39;http://&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=n>parsed_url</span> <span class=o>=</span> <span class=n>urlparse</span><span class=p>(</span><span class=n>url</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>host</span> <span class=o>=</span> <span class=n>parsed_url</span><span class=o>.</span><span class=n>hostname</span>
</span></span><span class=line><span class=cl>                <span class=n>port</span> <span class=o>=</span> <span class=n>parsed_url</span><span class=o>.</span><span class=n>port</span> <span class=ow>or</span> <span class=mi>80</span>
</span></span><span class=line><span class=cl>                <span class=n>path</span> <span class=o>=</span> <span class=n>parsed_url</span><span class=o>.</span><span class=n>path</span> <span class=ow>or</span> <span class=s1>&#39;/&#39;</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=c1># CONNECT 메서드 처리 (HTTPS)</span>
</span></span><span class=line><span class=cl>                <span class=n>host</span><span class=p>,</span> <span class=n>port</span> <span class=o>=</span> <span class=n>url</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;:&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>port</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>port</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>path</span> <span class=o>=</span> <span class=s1>&#39;/&#39;</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 접근 제어 검사</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>is_blocked</span><span class=p>(</span><span class=n>host</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>send_blocked_response</span><span class=p>(</span><span class=n>client_socket</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 캐시 확인</span>
</span></span><span class=line><span class=cl>            <span class=n>cache_key</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>host</span><span class=si>}</span><span class=s2>:</span><span class=si>{</span><span class=n>port</span><span class=si>}{</span><span class=n>path</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>cache_key</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>cache</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;캐시 히트: </span><span class=si>{</span><span class=n>cache_key</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>client_socket</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>cache</span><span class=p>[</span><span class=n>cache_key</span><span class=p>])</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 대상 서버에 연결</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=s1>&#39;CONNECT&#39;</span> <span class=ow>in</span> <span class=n>first_line</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>handle_https_tunnel</span><span class=p>(</span><span class=n>client_socket</span><span class=p>,</span> <span class=n>host</span><span class=p>,</span> <span class=n>port</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>handle_http_request</span><span class=p>(</span><span class=n>client_socket</span><span class=p>,</span> <span class=n>host</span><span class=p>,</span> <span class=n>port</span><span class=p>,</span> <span class=n>request</span><span class=p>,</span> <span class=n>cache_key</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;클라이언트 처리 오류: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>finally</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>client_socket</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>handle_http_request</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>client_socket</span><span class=p>,</span> <span class=n>host</span><span class=p>,</span> <span class=n>port</span><span class=p>,</span> <span class=n>request</span><span class=p>,</span> <span class=n>cache_key</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;HTTP 요청 처리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># 대상 서버에 연결</span>
</span></span><span class=line><span class=cl>            <span class=n>server_socket</span> <span class=o>=</span> <span class=n>socket</span><span class=o>.</span><span class=n>socket</span><span class=p>(</span><span class=n>socket</span><span class=o>.</span><span class=n>AF_INET</span><span class=p>,</span> <span class=n>socket</span><span class=o>.</span><span class=n>SOCK_STREAM</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>server_socket</span><span class=o>.</span><span class=n>connect</span><span class=p>((</span><span class=n>host</span><span class=p>,</span> <span class=n>port</span><span class=p>))</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 요청 전달</span>
</span></span><span class=line><span class=cl>            <span class=n>server_socket</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=n>request</span><span class=o>.</span><span class=n>encode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 응답 받기 및 캐싱</span>
</span></span><span class=line><span class=cl>            <span class=n>response</span> <span class=o>=</span> <span class=sa>b</span><span class=s1>&#39;&#39;</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>data</span> <span class=o>=</span> <span class=n>server_socket</span><span class=o>.</span><span class=n>recv</span><span class=p>(</span><span class=mi>4096</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=ow>not</span> <span class=n>data</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=k>break</span>
</span></span><span class=line><span class=cl>                <span class=n>response</span> <span class=o>+=</span> <span class=n>data</span>
</span></span><span class=line><span class=cl>                <span class=n>client_socket</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 캐시에 저장 (간단한 구현)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>response</span><span class=p>)</span> <span class=o>&lt;</span> <span class=mi>1024</span> <span class=o>*</span> <span class=mi>1024</span><span class=p>:</span>  <span class=c1># 1MB 이하만 캐싱</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>cache</span><span class=p>[</span><span class=n>cache_key</span><span class=p>]</span> <span class=o>=</span> <span class=n>response</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;캐시에 저장: </span><span class=si>{</span><span class=n>cache_key</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=n>server_socket</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;HTTP 요청 처리 오류: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>handle_https_tunnel</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>client_socket</span><span class=p>,</span> <span class=n>host</span><span class=p>,</span> <span class=n>port</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;HTTPS CONNECT 터널 처리&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># 대상 서버에 연결</span>
</span></span><span class=line><span class=cl>            <span class=n>server_socket</span> <span class=o>=</span> <span class=n>socket</span><span class=o>.</span><span class=n>socket</span><span class=p>(</span><span class=n>socket</span><span class=o>.</span><span class=n>AF_INET</span><span class=p>,</span> <span class=n>socket</span><span class=o>.</span><span class=n>SOCK_STREAM</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>server_socket</span><span class=o>.</span><span class=n>connect</span><span class=p>((</span><span class=n>host</span><span class=p>,</span> <span class=n>port</span><span class=p>))</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 연결 성공 응답</span>
</span></span><span class=line><span class=cl>            <span class=n>client_socket</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=sa>b</span><span class=s1>&#39;HTTP/1.1 200 Connection established</span><span class=se>\r\n\r\n</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 터널링 시작</span>
</span></span><span class=line><span class=cl>            <span class=n>sockets</span> <span class=o>=</span> <span class=p>[</span><span class=n>client_socket</span><span class=p>,</span> <span class=n>server_socket</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>ready</span><span class=p>,</span> <span class=n>_</span><span class=p>,</span> <span class=n>_</span> <span class=o>=</span> <span class=n>select</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=n>sockets</span><span class=p>,</span> <span class=p>[],</span> <span class=p>[],</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=ow>not</span> <span class=n>ready</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=k>continue</span>
</span></span><span class=line><span class=cl>                    
</span></span><span class=line><span class=cl>                <span class=k>for</span> <span class=n>sock</span> <span class=ow>in</span> <span class=n>ready</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>data</span> <span class=o>=</span> <span class=n>sock</span><span class=o>.</span><span class=n>recv</span><span class=p>(</span><span class=mi>4096</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=k>if</span> <span class=ow>not</span> <span class=n>data</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                        <span class=k>return</span>
</span></span><span class=line><span class=cl>                    
</span></span><span class=line><span class=cl>                    <span class=k>if</span> <span class=n>sock</span> <span class=ow>is</span> <span class=n>client_socket</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                        <span class=n>server_socket</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                        <span class=n>client_socket</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                        
</span></span><span class=line><span class=cl>        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;HTTPS 터널 처리 오류: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>is_blocked</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>domain</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;도메인 차단 검사&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>domain</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>blocked_domains</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>send_blocked_response</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>client_socket</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;차단 페이지 전송&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>response</span> <span class=o>=</span> <span class=s2>&#34;&#34;&#34;HTTP/1.1 403 Forbidden</span><span class=se>\r</span><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>Content-Type: text/html</span><span class=se>\r</span><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2></span><span class=se>\r</span><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>&lt;html&gt;&lt;body&gt;&lt;h1&gt;접근이 차단되었습니다&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>client_socket</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=n>response</span><span class=o>.</span><span class=n>encode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add_blocked_domain</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>domain</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;차단 도메인 추가&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>blocked_domains</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>domain</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;차단 도메인 추가: </span><span class=si>{</span><span class=n>domain</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>clear_cache</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;캐시 초기화&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>cache</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;캐시 초기화 완료&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용 예시</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>proxy</span> <span class=o>=</span> <span class=n>ForwardProxy</span><span class=p>(</span><span class=s1>&#39;0.0.0.0&#39;</span><span class=p>,</span> <span class=mi>8080</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 차단 도메인 설정</span>
</span></span><span class=line><span class=cl>    <span class=n>proxy</span><span class=o>.</span><span class=n>add_blocked_domain</span><span class=p>(</span><span class=s1>&#39;malicious-site.com&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>proxy</span><span class=o>.</span><span class=n>add_blocked_domain</span><span class=p>(</span><span class=s1>&#39;blocked-content.org&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 서버 시작</span>
</span></span><span class=line><span class=cl>    <span class=n>proxy</span><span class=o>.</span><span class=n>start_server</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=주목할-내용>주목할 내용<a hidden class=anchor aria-hidden=true href=#주목할-내용>#</a></h3><table><thead><tr><th>카테고리</th><th>세부 주제</th><th>주요 항목</th><th>설명</th></tr></thead><tbody><tr><td><strong>보안 및 프라이버시</strong></td><td>접근 통제 정책</td><td>ACL (Access Control List)</td><td>사용자/IP/시간/URL 기반 세분화된 접근 제어 정책 적용 가능</td></tr><tr><td></td><td>SSL/TLS 인터셉션</td><td>중간자 검증 (MITM)</td><td>HTTPS 연결을 프록시에서 종료하여 암호화된 트래픽 검사 (SSL Bumping)</td></tr><tr><td></td><td>제로 트러스트</td><td>비신뢰 트래픽 기본 정책</td><td>모든 요청에 대해 검증 절차 적용 (권한/기기/컨텍스트 기반)</td></tr><tr><td></td><td>개인정보 보호</td><td>IP 마스킹, 로그 암호화</td><td>사용자 프라이버시 보장을 위한 추적 방지 및 민감정보 보호</td></tr><tr><td><strong>성능 최적화</strong></td><td>캐싱 전략</td><td>TTL 기반 + AI 캐시 최적화</td><td>정적 콘텐츠 응답 속도 향상, 스마트 캐시 교체 알고리즘 도입</td></tr><tr><td></td><td>HTTP/2 지원</td><td>멀티플렉싱 처리</td><td>하나의 연결로 여러 요청 동시 처리하여 병렬성 향상 및 지연 최소화</td></tr><tr><td><strong>아키텍처 및 확장성</strong></td><td>프록시 구성 구조</td><td>Transparent vs Explicit 설정</td><td>명시적 설정은 제어가 용이하고, 투명 프록시는 사용자 인지 없이 강제 적용 가능</td></tr><tr><td></td><td>수평 확장 및 클러스터링</td><td>다중 인스턴스 + 로드밸런싱</td><td>부하 분산 및 장애 대응을 위한 다중 프록시 구성</td></tr><tr><td></td><td>경계 통제형 아키텍처</td><td>외부 트래픽 강제 경유 구조</td><td>외부/내부 트래픽 흐름을 단일 경로로 통제, 보안 및 모니터링 효율화</td></tr><tr><td><strong>운영 및 컴플라이언스</strong></td><td>로깅/모니터링 시스템</td><td>실시간 로그 분석 + 자동화 대응</td><td>Fluentd, SIEM, ELK 기반 이상 트래픽 및 행위 분석</td></tr><tr><td></td><td>정책 자동화 및 관리</td><td>중앙화 관리 플랫폼</td><td>정책 버전관리, GitOps, API 기반 핫 리로드 가능</td></tr><tr><td><strong>규제 대응 및 법적 준수</strong></td><td>GDPR 대응</td><td>로그 보호, 민감정보 관리</td><td>유럽 개인정보보호법 준수를 위한 데이터 저장/접근/삭제/암호화 정책 필요</td></tr><tr><td></td><td>소버린 클라우드 전략</td><td>데이터 주권 보장</td><td>국가별 규제에 따른 데이터 저장 위치 제한 및 감사 체계 요구</td></tr><tr><td><strong>클라우드 환경 연계</strong></td><td>서비스 메시 통합</td><td>Istio, Linkerd 등과 연동</td><td>마이크로서비스 간 통신 통제 + 인증/정책/로깅 연동 가능</td></tr><tr><td></td><td>프록시의 컨테이너화 배포</td><td>Docker, Kubernetes 기반 운영</td><td>확장성, 유연성, 오토스케일링을 위한 클라우드 네이티브 프록시 구성 가능</td></tr></tbody></table><h4 id=요약-정리-3>요약 정리<a hidden class=anchor aria-hidden=true href=#요약-정리-3>#</a></h4><table><thead><tr><th>분류</th><th>주요 내용 요약</th></tr></thead><tbody><tr><td><strong>보안</strong></td><td>ACL, SSL 인터셉션, 제로 트러스트, 프라이버시 보호 등으로 접근 통제와 트래픽 검증을 강화함</td></tr><tr><td><strong>성능</strong></td><td>캐싱 및 HTTP/2 멀티플렉싱을 통해 트래픽 감소와 응답 속도 향상을 동시에 달성 가능</td></tr><tr><td><strong>아키텍처</strong></td><td>명시적/투명 프록시 설정에 따른 정책 제어, 수평 확장 및 경계 통제 구조로 확장성과 보안을 함께 확보</td></tr><tr><td><strong>운영</strong></td><td>로그 분석 자동화, 정책 핫 리로드, 중앙화된 관리 플랫폼으로 운영 복잡도 최소화 및 신속한 대응 가능</td></tr><tr><td><strong>규제 준수</strong></td><td>GDPR, 데이터 주권 대응을 위한 로그 보호 및 저장 정책 구성 필요</td></tr><tr><td><strong>클라우드 연계</strong></td><td>서비스 메시, Kubernetes 기반 구성으로 MSA 및 클라우드 네이티브 환경과의 통합 용이</td></tr></tbody></table><h3 id=반드시-학습해야할-내용>반드시 학습해야할 내용<a hidden class=anchor aria-hidden=true href=#반드시-학습해야할-내용>#</a></h3><table><thead><tr><th>카테고리</th><th>주제</th><th>항목 또는 기술 요소</th><th>설명</th></tr></thead><tbody><tr><td><strong>프록시 구조 이해</strong></td><td>프록시 동작 위치</td><td>OSI 7 계층, L7 프록시, 애플리케이션 계층</td><td>프록시의 계층별 동작 원리 및 Forward/Reverse 구분 이해</td></tr><tr><td></td><td>프록시 유형 비교</td><td>Forward vs Reverse Proxy</td><td>요청 방향성, 위치, 보안 적용점 등 실무 기준 구분</td></tr><tr><td><strong>네트워크 기초</strong></td><td>TCP/IP 구조</td><td>소켓 프로그래밍, 포트, IP</td><td>클라이언트 - 서버 간 통신 흐름 이해 및 트래픽 제어 역량 강화</td></tr><tr><td></td><td>프로토콜 이해</td><td>HTTP, HTTPS, SOCKS</td><td>프록시 동작 기반 프로토콜별 처리 방식 이해 (헤더 조작, 암호화 통신 포함)</td></tr><tr><td><strong>보안 및 인증</strong></td><td>암호화 통신 원리</td><td>SSL/TLS, 인증서 체계, CA, SNI</td><td>HTTPS 트래픽 처리, 인증서 발급/갱신/검증 체계 전체 흐름 이해</td></tr><tr><td></td><td>인증 시스템 연동</td><td>IAM, LDAP, SAML, Kerberos, OAuth2</td><td>프록시와 외부 인증 시스템 통합 시 필수 인증 흐름 이해 및 정책 연동</td></tr><tr><td><strong>정책 및 캐시 운영</strong></td><td>캐싱 전략</td><td>TTL, 조건부 캐시, ETag, Cache-Control</td><td>콘텐츠별 캐시 정책 수립과 캐시 무효화 처리 등 성능 최적화 핵심 전략</td></tr><tr><td></td><td>정책 자동화 관리</td><td>Policy-as-Code, 중앙화 정책 플랫폼</td><td>ACL 및 필터링 룰셋을 코드화하여 GitOps 기반 자동 배포 및 정책 일관성 유지</td></tr><tr><td></td><td>프록시 정책 설계</td><td>사용자/시간대/도메인별 ACL 정책</td><td>복합 조건 기반의 프록시 필터링 설계 및 운영 전략 학습</td></tr><tr><td><strong>운영 및 모니터링</strong></td><td>로깅 및 로그 분석</td><td>ELK Stack, Fluentd, SIEM</td><td>보안 분석 및 이상 탐지를 위한 로그 수집, 저장, 시각화 및 연동 기술</td></tr><tr><td></td><td>시스템 모니터링</td><td>Prometheus, Grafana, Alertmanager</td><td>프록시 서버의 성능 지표 및 이상 탐지를 위한 실시간 모니터링 구축</td></tr><tr><td></td><td>프록시 백업 및 이중화</td><td>설정 관리, 클러스터 구성, 자동 Failover</td><td>장애 대응 및 고가용성 확보를 위한 구성 필수 요소 학습</td></tr><tr><td><strong>클라우드/컨테이너 환경</strong></td><td>클라우드 프록시</td><td>AWS PrivateLink, Azure Application Gateway</td><td>퍼블릭/프라이빗 클라우드 환경에서의 프록시 서비스 활용 및 보안 구성</td></tr><tr><td></td><td>Kubernetes 연동</td><td>서비스 메시 (Istio, Linkerd), Envoy</td><td>프록시를 사이드카 또는 게이트웨이로 배치하고 클러스터 트래픽 라우팅에 활용하는 방식 학습</td></tr></tbody></table><ul><li><strong>기초 이해</strong>: OSI 7 계층과 TCP/IP 통신 원리, 프록시 동작 계층의 구조 이해가 필수이며, Forward/Reverse 역할 차이도 명확히 구분해야 한다.</li><li><strong>보안/인증 체계</strong>: HTTPS 처리의 핵심인 SSL/TLS 와 IAM, LDAP, OAuth 연동은 실제 프록시 적용 시 보안의 핵심이다.</li><li><strong>정책/캐시 운영</strong>: 조건부 캐시 전략, 정책 자동화 (PoC), 정밀 ACL 설계는 프록시의 성능과 보안성을 동시에 유지하는 데 중요하다.</li><li><strong>운영 기술</strong>: ELK 기반 로그 수집과 Prometheus 기반 모니터링, 자동화된 이중화 설정은 대규모 운영 환경에서의 안정성을 책임진다.</li><li><strong>클라우드 네이티브 연동</strong>: AWS, Azure, Kubernetes 와의 통합 능력은 프록시의 확장성과 유연성을 높이는 핵심 역량이다.</li></ul><hr><h2 id=용어-정리>용어 정리<a hidden class=anchor aria-hidden=true href=#용어-정리>#</a></h2><table><thead><tr><th>카테고리</th><th>용어</th><th>설명</th></tr></thead><tbody><tr><td><strong>프록시 구조</strong></td><td>Forward Proxy</td><td>클라이언트를 대신하여 서버에 요청을 전달하는 프록시 (클라이언트 측에 위치)</td></tr><tr><td></td><td>Reverse Proxy</td><td>서버 앞단에서 클라이언트 요청을 받아 백엔드 서버로 전달하는 구조</td></tr><tr><td></td><td>Transparent Proxy</td><td>사용자 설정 없이 트래픽을 중간에서 가로채는 방식 (주로 라우팅 기반 적용)</td></tr><tr><td></td><td>PAC (Proxy Auto-Config)</td><td>클라이언트가 자동으로 적절한 프록시를 선택할 수 있도록 하는 스크립트 파일</td></tr><tr><td></td><td>WPAD (Web Proxy Auto-Discovery)</td><td>네트워크 내에서 PAC 파일을 자동으로 찾는 프로토콜</td></tr><tr><td></td><td>CONNECT Method</td><td>HTTPS 터널링을 위한 HTTP 메서드, 주로 프록시에서 TLS 연결 시 사용</td></tr><tr><td><strong>보안 및 위협</strong></td><td>SSL/TLS</td><td>HTTPS 기반 암호화 통신의 핵심 프로토콜. 인증서 기반의 보안 연결 구성</td></tr><tr><td></td><td>SSL Interception / SSL Bumping</td><td>암호화된 트래픽을 복호화하여 검사 후 재암호화하는 기법</td></tr><tr><td></td><td>MITM (Man-in-the-Middle)</td><td>통신 당사자 사이에 개입하여 트래픽을 가로채거나 조작하는 공격 기법</td></tr><tr><td></td><td>Deep Packet Inspection (DPI)</td><td>패킷의 페이로드까지 분석하여 보안 위협이나 정책 위반 탐지하는 기술</td></tr><tr><td></td><td>ACL (Access Control List)</td><td>IP, URL, 시간 등 조건에 따라 요청을 허용 또는 차단하는 정책 규칙 목록</td></tr><tr><td><strong>정책/운영 관리</strong></td><td>화이트리스트 / 블랙리스트</td><td>접근 허용 (Whitelist) 또는 차단 (Blacklist) 대상 IP/도메인 목록</td></tr><tr><td></td><td>Policy-as-Code</td><td>정책을 코드 형태로 버전 관리하며 자동화된 정책 운영을 가능하게 하는 접근 방식</td></tr><tr><td></td><td>SIEM (Security Information and Event Management)</td><td>보안 이벤트와 로그를 통합 분석하고 모니터링하는 시스템</td></tr><tr><td><strong>로그/모니터링</strong></td><td>ELK Stack</td><td>Elasticsearch, Logstash, Kibana 로 구성된 로그 수집, 저장, 분석 플랫폼</td></tr><tr><td></td><td>Fluentd</td><td>다양한 로그 수집원을 통합하여 전송하는 로그 수집 에이전트</td></tr><tr><td><strong>성능/캐시</strong></td><td>TTL (Time To Live)</td><td>캐시 데이터의 유효 시간으로, 만료 후 새롭게 요청해야 함</td></tr><tr><td></td><td>Cache Hit Ratio</td><td>전체 요청 중 캐시에서 처리된 요청의 비율. 캐시 효율성 지표</td></tr><tr><td></td><td>LRU (Least Recently Used)</td><td>가장 오래 사용되지 않은 항목을 우선 제거하는 캐시 교체 알고리즘</td></tr><tr><td></td><td>WCCP (Web Cache Communication Protocol)</td><td>웹 캐시와 라우터 사이의 통신을 위한 Cisco 기반 프로토콜</td></tr><tr><td><strong>인증/디렉토리</strong></td><td>LDAP (Lightweight Directory Access Protocol)</td><td>사용자 인증 및 계정 정보를 중앙 디렉토리로 관리하는 프로토콜</td></tr><tr><td></td><td>IAM (Identity and Access Management)</td><td>사용자 식별, 인증, 권한 제어 등 전반적인 접근 관리 시스템</td></tr></tbody></table><ul><li><strong>프록시 구조 및 동작 원리</strong>: Forward/Reverse/Transparent 프록시는 각기 다른 위치와 목적을 가지며, PAC/WPAD/CONNECT 와 같은 보조 기술로 동작이 자동화된다.</li><li><strong>보안 및 인증</strong>: SSL 관련 용어 (Interception, MITM, 인증서 체계), ACL 과 DPI 는 프록시의 보안 필수 지식이며, LDAP/IAM 은 인증 연동에 핵심이다.</li><li><strong>정책과 운영 관리</strong>: 정책 자동화 (PoC), SIEM, 화이트리스트/블랙리스트는 보안 통제 및 운영 일관성을 위한 필수 구성 요소이다.</li><li><strong>성능 및 캐시 최적화</strong>: TTL, Cache Hit Ratio, LRU 는 프록시 성능 관리의 기본이며, WCCP 는 대규모 트래픽 최적화에 유용하다.</li><li><strong>로그 수집 및 분석</strong>: ELK 와 Fluentd 는 실시간 운영 및 이상 탐지에 필요한 로그 기반 인프라이다.</li></ul><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><h3 id=개념-및-아키텍처-이해>개념 및 아키텍처 이해<a hidden class=anchor aria-hidden=true href=#개념-및-아키텍처-이해>#</a></h3><ul><li><a href=https://www.cloudflare.com/learning/ddos/glossary/forward-proxy/>Cloudflare – Forward Proxy 설명</a></li><li><a href=https://www.cloudflare.com/learning/cdn/glossary/reverse-proxy/>Cloudflare – What is a reverse proxy?</a></li><li><a href=https://www.digitalguardian.com/blog/forward-vs-reverse-proxy-understanding-differences-and-use-cases>Digital Guardian – Forward vs. Reverse Proxy: Differences and Use Cases</a></li><li><a href=https://www.manageengine.com/log-management/casb-architecture.html>CASB Architecture – Forward Proxy, Reverse Proxy, and API Scanning</a></li><li><a href=https://architecture.arcgis.com/en/framework/architecture-practices/architectural-foundations/deployment-concepts/forward-proxies.html>ArcGIS Architecture Center – Forward Proxies</a></li><li><a href=https://www.computernetworkingnotes.com/network-security-access-control-tutorials/difference-between-forward-and-reverse-proxy-server.html>ComputerNetworkingNotes – Difference between Forward and Reverse Proxy</a></li><li><a href=https://www.geeksforgeeks.org/web-proxy-server-working-types-and-advantages/>GeeksforGeeks – Web Proxy Server: Working, Types, and Advantages</a></li></ul><h3 id=프록시-구현-및-설정-가이드>프록시 구현 및 설정 가이드<a hidden class=anchor aria-hidden=true href=#프록시-구현-및-설정-가이드>#</a></h3><ul><li><a href=https://dev.to/iaadidev/step-by-step-instructions-for-forward-proxy-setup-c22>Dev.to – Step-by-Step Instructions for Forward Proxy Setup</a></li><li><a href=https://www.alibabacloud.com/blog/how-to-use-nginx-as-an-https-forward-proxy-server_595799>Alibaba Cloud – How to Use NGINX as an HTTPS Forward Proxy</a></li><li><a href=https://www.juniper.net/documentation/us/en/software/nm-apps23.1/junos-space-security-director/topics/concept/junos-space-ssl-forward-proxy-overview.html>Juniper Networks – SSL Forward Proxy Overview</a></li><li><a href=https://docs.squid-cache.org/latest/squid.html>Squid 공식 문서 – Squid Proxy 구성 가이드</a></li><li><a href=https://docs.nginx.com/nginx/admin-guide/web-server/reverse-proxy/>Nginx 공식 문서 – Reverse Proxy 구성</a></li><li><a href=https://www.kaspersky.com/resource-center/definitions/socks5-proxy>Kaspersky – SOCKS5 Proxy 설명</a></li><li><a href=https://developer.mozilla.org/ko/docs/Web/HTTP/Proxy_servers_and_tunneling>MDN – Proxy Servers and Tunneling 개념</a></li></ul><h3 id=보안-및-컴플라이언스>보안 및 컴플라이언스<a hidden class=anchor aria-hidden=true href=#보안-및-컴플라이언스>#</a></h3><ul><li><a href=https://owasp.org/>OWASP – Proxy 기반 보안 가이드</a></li><li><a href=https://www.zscaler.com/resources/security-terms-glossary/what-is-forward-proxy>Zscaler – What is Forward Proxy?</a></li></ul><hr></div></main><script type=module>
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
  </script><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>