<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>MLOps | hyunyoun's Blog</title>
<meta name=keywords content="AI,AI-Engineering,MLOps"><meta name=description content="기계 학습(ML) 모델의 개발부터 배포, 모니터링, 관리까지의 전체 생명주기를 효율적으로 운영하기 위한 방법론과 실천 방식"><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/ai/ai-engineering/mlops/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.9a2bbe2d8b5afa9d4df22976abb7b72f1f7f1c467d2b30f03090108f9496ae6c.css integrity="sha256-miu+LYta+p1N8il2q7e3Lx9/HEZ9KzDwMJAQj5SWrmw=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://buenhyden.github.io/posts/ai/ai-engineering/mlops/index.xml><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/ai/ai-engineering/mlops/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/ai/ai-engineering/mlops/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="MLOps"><meta property="og:description" content="기계 학습(ML) 모델의 개발부터 배포, 모니터링, 관리까지의 전체 생명주기를 효율적으로 운영하기 위한 방법론과 실천 방식"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="MLOps"><meta name=twitter:description content="기계 학습(ML) 모델의 개발부터 배포, 모니터링, 관리까지의 전체 생명주기를 효율적으로 운영하기 위한 방법론과 실천 방식"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"posts","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"인공지능(Artificial Intelligence, AI)","item":"https://buenhyden.github.io/posts/ai/"},{"@type":"ListItem","position":3,"name":"AI Engineering","item":"https://buenhyden.github.io/posts/ai/ai-engineering/"},{"@type":"ListItem","position":4,"name":"MLOps","item":"https://buenhyden.github.io/posts/ai/ai-engineering/mlops/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>posts</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/ai/>인공지능(Artificial Intelligence, AI)</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/ai/ai-engineering/>AI Engineering</a></div><h1>MLOps</h1><div class=post-description>기계 학습(ML) 모델의 개발부터 배포, 모니터링, 관리까지의 전체 생명주기를 효율적으로 운영하기 위한 방법론과 실천 방식</div></header><div class=post-content><h2 id=mlops>MLOps<a hidden class=anchor aria-hidden=true href=#mlops>#</a></h2><h2 id=mlops-기계-학습-운영의-완벽-가이드>MLOps: 기계 학습 운영의 완벽 가이드<a hidden class=anchor aria-hidden=true href=#mlops-기계-학습-운영의-완벽-가이드>#</a></h2><h3 id=1-mlops란-무엇인가>1. MLOps란 무엇인가?<a hidden class=anchor aria-hidden=true href=#1-mlops란-무엇인가>#</a></h3><p>MLOps(Machine Learning Operations)는 기계 학습(ML) 모델의 개발부터 배포, 모니터링, 관리까지의 전체 생명주기를 효율적으로 운영하기 위한 방법론과 실천 방식을 말합니다. DevOps(개발과 운영의 통합)의 원칙을 기계 학습 시스템에 적용한 것으로, 데이터 과학팀과 운영팀 간의 협업을 촉진하고 기계 학습 시스템의 신뢰성, 확장성, 그리고 생산성을 향상시키는 것을 목표로 합니다.</p><p>기존의 소프트웨어 개발과 달리, 기계 학습 시스템은 코드뿐만 아니라 데이터, 모델, 파라미터 등 여러 구성 요소가 있어 복잡성이 높습니다. MLOps는 이러한 복잡성을 체계적으로 관리하면서 모델을 안정적으로 운영환경에 통합하고 지속적으로 개선하는 과정을 자동화하고 표준화합니다.</p><h3 id=2-mlops가-필요한-이유>2. MLOps가 필요한 이유<a hidden class=anchor aria-hidden=true href=#2-mlops가-필요한-이유>#</a></h3><h4 id=21-기계-학습-프로젝트의-복잡성>2.1. 기계 학습 프로젝트의 복잡성<a hidden class=anchor aria-hidden=true href=#21-기계-학습-프로젝트의-복잡성>#</a></h4><p>기계 학습 프로젝트는 다양한 단계와 요소를 포함합니다:</p><ul><li>데이터 수집 및 전처리</li><li>특성 엔지니어링</li><li>모델 학습 및 검증</li><li>모델 배포</li><li>모델 모니터링 및 재학습</li></ul><p>각 단계는 서로 다른 전문 지식을 필요로 하며, 이 모든 것을 수동으로 관리하는 것은 매우 어렵습니다.</p><h4 id=22-연구와-생산-환경의-격차>2.2. 연구와 생산 환경의 격차<a hidden class=anchor aria-hidden=true href=#22-연구와-생산-환경의-격차>#</a></h4><p>데이터 과학자들이 연구 환경(노트북, 로컬 컴퓨터)에서 개발한 모델을 실제 생산 환경으로 이전할 때 여러 문제가 발생합니다:</p><ul><li>환경 의존성(라이브러리, 버전 등)</li><li>확장성 문제</li><li>실시간 데이터 처리의 차이</li><li>보안 및 규정 준수 요구사항</li></ul><p>MLOps는 이 격차를 해소하여 모델이 연구 환경에서 생산 환경으로 원활하게 전환될 수 있도록 합니다.</p><h4 id=23-반복적인-모델-개선-필요성>2.3. 반복적인 모델 개선 필요성<a hidden class=anchor aria-hidden=true href=#23-반복적인-모델-개선-필요성>#</a></h4><p>기계 학습 모델은 데이터 분포의 변화(데이터 드리프트)나 비즈니스 요구사항의 변화에 따라 정기적으로 업데이트되어야 합니다. MLOps는 이러한 모델 업데이트 과정을 자동화하고 체계화하여 효율적인 반복 개발을 가능하게 합니다.</p><h4 id=24-실패-사례>2.4. 실패 사례<a hidden class=anchor aria-hidden=true href=#24-실패-사례>#</a></h4><p>MLOps가 없는 기계 학습 시스템에서 자주 발생하는 문제들:</p><ul><li>모델을 생산 환경에 배포하는데 수주 또는 수개월 소요</li><li>버전 관리 미흡으로 인한 재현성 문제</li><li>모델 성능 저하를 감지하지 못함</li><li>데이터 변화에 대응하지 못함</li><li>모델 동작에 대한 설명 부족</li></ul><p>이러한 문제들은 모델의 비즈니스 가치를 크게 감소시키고, 심한 경우 기계 학습 프로젝트의 실패로 이어질 수 있습니다.</p><h3 id=3-mlops의-핵심-구성-요소>3. MLOps의 핵심 구성 요소<a hidden class=anchor aria-hidden=true href=#3-mlops의-핵심-구성-요소>#</a></h3><h4 id=31-버전-관리>3.1. 버전 관리<a hidden class=anchor aria-hidden=true href=#31-버전-관리>#</a></h4><p>효과적인 MLOps의 첫 번째 단계는 모든 것에 대한 버전 관리입니다:</p><h5 id=311-코드-버전-관리>3.1.1. 코드 버전 관리<a hidden class=anchor aria-hidden=true href=#311-코드-버전-관리>#</a></h5><p>코드 변경 사항을 추적하고 관리하기 위해 Git과 같은 버전 관리 시스템을 사용합니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3>3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4>4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Git을 사용한 코드 버전 관리 예시</span>
</span></span><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;Initial model training code&#34;</span>
</span></span><span class=line><span class=cl>git push origin main
</span></span></code></pre></td></tr></table></div></div><h5 id=312-데이터-버전-관리>3.1.2. 데이터 버전 관리<a hidden class=anchor aria-hidden=true href=#312-데이터-버전-관리>#</a></h5><p>데이터의 변경 사항을 추적하는 것은 더 복잡하지만, DVC(Data Version Control)와 같은 도구를 사용할 수 있습니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2>2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3>3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4>4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># DVC를 사용한 데이터 버전 관리 예시</span>
</span></span><span class=line><span class=cl>dvc init
</span></span><span class=line><span class=cl>dvc add data/training_data.csv
</span></span><span class=line><span class=cl>git add data/training_data.csv.dvc
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;Add training data&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=313-모델-버전-관리>3.1.3. 모델 버전 관리<a hidden class=anchor aria-hidden=true href=#313-모델-버전-관리>#</a></h5><p>모델 파일, 하이퍼파라미터, 성능 메트릭 등을 추적합니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3>3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4>4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5>5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6>6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7>7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8>8</a>
</span><span class=lnt id=hl-2-9><a class=lnlinks href=#hl-2-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># MLflow를 사용한 모델 버전 관리 예시</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>mlflow</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>mlflow</span><span class=o>.</span><span class=n>start_run</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>mlflow</span><span class=o>.</span><span class=n>log_param</span><span class=p>(</span><span class=s2>&#34;learning_rate&#34;</span><span class=p>,</span> <span class=mf>0.01</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>mlflow</span><span class=o>.</span><span class=n>log_param</span><span class=p>(</span><span class=s2>&#34;epochs&#34;</span><span class=p>,</span> <span class=mi>100</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>mlflow</span><span class=o>.</span><span class=n>log_metric</span><span class=p>(</span><span class=s2>&#34;accuracy&#34;</span><span class=p>,</span> <span class=mf>0.92</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>mlflow</span><span class=o>.</span><span class=n>pytorch</span><span class=o>.</span><span class=n>log_model</span><span class=p>(</span><span class=n>model</span><span class=p>,</span> <span class=s2>&#34;models&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>mlflow</span><span class=o>.</span><span class=n>end_run</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=32-실험-추적-및-재현성>3.2. 실험 추적 및 재현성<a hidden class=anchor aria-hidden=true href=#32-실험-추적-및-재현성>#</a></h4><p>모델 개발 과정에서 여러 실험을 수행하고 비교하기 위한 도구와 방법:</p><h5 id=321-실험-추적-도구>3.2.1. 실험 추적 도구<a hidden class=anchor aria-hidden=true href=#321-실험-추적-도구>#</a></h5><p>MLflow, Weights & Biases, TensorBoard 등을 사용하여 실험 결과를 추적하고 시각화합니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span><span class=lnt id=hl-3-12><a class=lnlinks href=#hl-3-12>12</a>
</span><span class=lnt id=hl-3-13><a class=lnlinks href=#hl-3-13>13</a>
</span><span class=lnt id=hl-3-14><a class=lnlinks href=#hl-3-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># W&amp;B를 사용한 실험 추적 예시</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>wandb</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>wandb</span><span class=o>.</span><span class=n>init</span><span class=p>(</span><span class=n>project</span><span class=o>=</span><span class=s2>&#34;my-project&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>wandb</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;learning_rate&#34;</span><span class=p>:</span> <span class=mf>0.01</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;epochs&#34;</span><span class=p>:</span> <span class=mi>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;batch_size&#34;</span><span class=p>:</span> <span class=mi>32</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>epoch</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>100</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># 모델 학습 코드</span>
</span></span><span class=line><span class=cl>    <span class=n>accuracy</span> <span class=o>=</span> <span class=n>train_epoch</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>wandb</span><span class=o>.</span><span class=n>log</span><span class=p>({</span><span class=s2>&#34;accuracy&#34;</span><span class=p>:</span> <span class=n>accuracy</span><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=322-환경-관리>3.2.2. 환경 관리<a hidden class=anchor aria-hidden=true href=#322-환경-관리>#</a></h5><p>Conda, Docker 등을 사용하여 개발 및 배포 환경을 일관되게 유지합니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2>2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3>3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4>4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5>5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6>6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7>7</a>
</span><span class=lnt id=hl-4-8><a class=lnlinks href=#hl-4-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-dockerfile data-lang=dockerfile><span class=line><span class=cl><span class=c># Dockerfile을 사용한 환경 관리 예시</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>FROM</span><span class=s> python:3.9-slim</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>COPY</span> requirements.txt .<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> pip install -r requirements.txt<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>COPY</span> . .<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>ENTRYPOINT</span> <span class=p>[</span><span class=s2>&#34;python&#34;</span><span class=p>,</span> <span class=s2>&#34;train.py&#34;</span><span class=p>]</span><span class=err>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=33-자동화된-파이프라인>3.3. 자동화된 파이프라인<a hidden class=anchor aria-hidden=true href=#33-자동화된-파이프라인>#</a></h4><h5 id=331-cicd-파이프라인>3.3.1. CI/CD 파이프라인<a hidden class=anchor aria-hidden=true href=#331-cicd-파이프라인>#</a></h5><p>지속적 통합(CI)과 지속적 배포(CD)를 위한 자동화된 파이프라인을 구축합니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1> 1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2> 2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3> 3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4> 4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5> 5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6> 6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7> 7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8> 8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9> 9</a>
</span><span class=lnt id=hl-5-10><a class=lnlinks href=#hl-5-10>10</a>
</span><span class=lnt id=hl-5-11><a class=lnlinks href=#hl-5-11>11</a>
</span><span class=lnt id=hl-5-12><a class=lnlinks href=#hl-5-12>12</a>
</span><span class=lnt id=hl-5-13><a class=lnlinks href=#hl-5-13>13</a>
</span><span class=lnt id=hl-5-14><a class=lnlinks href=#hl-5-14>14</a>
</span><span class=lnt id=hl-5-15><a class=lnlinks href=#hl-5-15>15</a>
</span><span class=lnt id=hl-5-16><a class=lnlinks href=#hl-5-16>16</a>
</span><span class=lnt id=hl-5-17><a class=lnlinks href=#hl-5-17>17</a>
</span><span class=lnt id=hl-5-18><a class=lnlinks href=#hl-5-18>18</a>
</span><span class=lnt id=hl-5-19><a class=lnlinks href=#hl-5-19>19</a>
</span><span class=lnt id=hl-5-20><a class=lnlinks href=#hl-5-20>20</a>
</span><span class=lnt id=hl-5-21><a class=lnlinks href=#hl-5-21>21</a>
</span><span class=lnt id=hl-5-22><a class=lnlinks href=#hl-5-22>22</a>
</span><span class=lnt id=hl-5-23><a class=lnlinks href=#hl-5-23>23</a>
</span><span class=lnt id=hl-5-24><a class=lnlinks href=#hl-5-24>24</a>
</span><span class=lnt id=hl-5-25><a class=lnlinks href=#hl-5-25>25</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># GitHub Actions를 사용한 CI/CD 파이프라인 예시</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Model Training Pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>push]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>train</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Set up Python</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/setup-python@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>python-version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;3.9&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Install dependencies</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>        python -m pip install --upgrade pip
</span></span></span><span class=line><span class=cl><span class=sd>        pip install -r requirements.txt</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Train model</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>python train.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Test model</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>python test_model.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy model</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=l>success()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>python deploy.py</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=332-데이터-파이프라인>3.3.2. 데이터 파이프라인<a hidden class=anchor aria-hidden=true href=#332-데이터-파이프라인>#</a></h5><p>데이터 수집, 검증, 전처리를 자동화합니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a>
</span><span class=lnt id=hl-6-13><a class=lnlinks href=#hl-6-13>13</a>
</span><span class=lnt id=hl-6-14><a class=lnlinks href=#hl-6-14>14</a>
</span><span class=lnt id=hl-6-15><a class=lnlinks href=#hl-6-15>15</a>
</span><span class=lnt id=hl-6-16><a class=lnlinks href=#hl-6-16>16</a>
</span><span class=lnt id=hl-6-17><a class=lnlinks href=#hl-6-17>17</a>
</span><span class=lnt id=hl-6-18><a class=lnlinks href=#hl-6-18>18</a>
</span><span class=lnt id=hl-6-19><a class=lnlinks href=#hl-6-19>19</a>
</span><span class=lnt id=hl-6-20><a class=lnlinks href=#hl-6-20>20</a>
</span><span class=lnt id=hl-6-21><a class=lnlinks href=#hl-6-21>21</a>
</span><span class=lnt id=hl-6-22><a class=lnlinks href=#hl-6-22>22</a>
</span><span class=lnt id=hl-6-23><a class=lnlinks href=#hl-6-23>23</a>
</span><span class=lnt id=hl-6-24><a class=lnlinks href=#hl-6-24>24</a>
</span><span class=lnt id=hl-6-25><a class=lnlinks href=#hl-6-25>25</a>
</span><span class=lnt id=hl-6-26><a class=lnlinks href=#hl-6-26>26</a>
</span><span class=lnt id=hl-6-27><a class=lnlinks href=#hl-6-27>27</a>
</span><span class=lnt id=hl-6-28><a class=lnlinks href=#hl-6-28>28</a>
</span><span class=lnt id=hl-6-29><a class=lnlinks href=#hl-6-29>29</a>
</span><span class=lnt id=hl-6-30><a class=lnlinks href=#hl-6-30>30</a>
</span><span class=lnt id=hl-6-31><a class=lnlinks href=#hl-6-31>31</a>
</span><span class=lnt id=hl-6-32><a class=lnlinks href=#hl-6-32>32</a>
</span><span class=lnt id=hl-6-33><a class=lnlinks href=#hl-6-33>33</a>
</span><span class=lnt id=hl-6-34><a class=lnlinks href=#hl-6-34>34</a>
</span><span class=lnt id=hl-6-35><a class=lnlinks href=#hl-6-35>35</a>
</span><span class=lnt id=hl-6-36><a class=lnlinks href=#hl-6-36>36</a>
</span><span class=lnt id=hl-6-37><a class=lnlinks href=#hl-6-37>37</a>
</span><span class=lnt id=hl-6-38><a class=lnlinks href=#hl-6-38>38</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Apache Airflow를 사용한 데이터 파이프라인 예시</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>airflow</span> <span class=kn>import</span> <span class=n>DAG</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>airflow.operators.python_operator</span> <span class=kn>import</span> <span class=n>PythonOperator</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>datetime</span> <span class=kn>import</span> <span class=n>datetime</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>collect_data</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># 데이터 수집 코드</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>validate_data</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># 데이터 검증 코드</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>preprocess_data</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># 데이터 전처리 코드</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dag</span> <span class=o>=</span> <span class=n>DAG</span><span class=p>(</span><span class=s1>&#39;data_pipeline&#39;</span><span class=p>,</span> <span class=n>start_date</span><span class=o>=</span><span class=n>datetime</span><span class=p>(</span><span class=mi>2023</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=n>schedule_interval</span><span class=o>=</span><span class=s1>&#39;@daily&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>collect_task</span> <span class=o>=</span> <span class=n>PythonOperator</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>task_id</span><span class=o>=</span><span class=s1>&#39;collect_data&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>python_callable</span><span class=o>=</span><span class=n>collect_data</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>dag</span><span class=o>=</span><span class=n>dag</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>validate_task</span> <span class=o>=</span> <span class=n>PythonOperator</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>task_id</span><span class=o>=</span><span class=s1>&#39;validate_data&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>python_callable</span><span class=o>=</span><span class=n>validate_data</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>dag</span><span class=o>=</span><span class=n>dag</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>preprocess_task</span> <span class=o>=</span> <span class=n>PythonOperator</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>task_id</span><span class=o>=</span><span class=s1>&#39;preprocess_data&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>python_callable</span><span class=o>=</span><span class=n>preprocess_data</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>dag</span><span class=o>=</span><span class=n>dag</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>collect_task</span> <span class=o>&gt;&gt;</span> <span class=n>validate_task</span> <span class=o>&gt;&gt;</span> <span class=n>preprocess_task</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=333-모델-학습-자동화>3.3.3. 모델 학습 자동화<a hidden class=anchor aria-hidden=true href=#333-모델-학습-자동화>#</a></h5><p>데이터 변화나 정해진 일정에 따라 모델 재학습을 자동화합니다.</p><h4 id=34-모델-배포>3.4. 모델 배포<a hidden class=anchor aria-hidden=true href=#34-모델-배포>#</a></h4><h5 id=341-서빙-인프라>3.4.1. 서빙 인프라<a hidden class=anchor aria-hidden=true href=#341-서빙-인프라>#</a></h5><p>모델을 서비스로 배포하기 위한 다양한 방법:</p><ul><li>REST API (Flask, FastAPI)</li><li>컨테이너화 (Docker, Kubernetes)</li><li>서버리스 (AWS Lambda, Azure Functions)</li><li>특화된 서빙 플랫폼 (TensorFlow Serving, TorchServe)</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1> 1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2> 2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3> 3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4> 4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5> 5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6> 6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7> 7</a>
</span><span class=lnt id=hl-7-8><a class=lnlinks href=#hl-7-8> 8</a>
</span><span class=lnt id=hl-7-9><a class=lnlinks href=#hl-7-9> 9</a>
</span><span class=lnt id=hl-7-10><a class=lnlinks href=#hl-7-10>10</a>
</span><span class=lnt id=hl-7-11><a class=lnlinks href=#hl-7-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># FastAPI를 사용한 모델 서빙 예시</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>fastapi</span> <span class=kn>import</span> <span class=n>FastAPI</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>joblib</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>FastAPI</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>model</span> <span class=o>=</span> <span class=n>joblib</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=s2>&#34;model.joblib&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.post</span><span class=p>(</span><span class=s2>&#34;/predict&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>predict</span><span class=p>(</span><span class=n>data</span><span class=p>:</span> <span class=nb>dict</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>prediction</span> <span class=o>=</span> <span class=n>model</span><span class=o>.</span><span class=n>predict</span><span class=p>([</span><span class=n>data</span><span class=p>[</span><span class=s2>&#34;features&#34;</span><span class=p>]])</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;prediction&#34;</span><span class=p>:</span> <span class=n>prediction</span><span class=o>.</span><span class=n>tolist</span><span class=p>()}</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=342-배포-전략>3.4.2. 배포 전략<a hidden class=anchor aria-hidden=true href=#342-배포-전략>#</a></h5><p>다양한 배포 전략을 활용하여 위험을 최소화합니다:</p><ul><li>블루/그린 배포: 새 버전과 기존 버전을 동시에 운영하다가 전환</li><li>카나리 배포: 일부 트래픽만 새 버전으로 라우팅하여 점진적 전환</li><li>섀도우 모드: 실제 결과에 영향을 주지 않으면서 새 모델 테스트</li></ul><h4 id=35-모니터링-및-피드백-루프>3.5. 모니터링 및 피드백 루프<a hidden class=anchor aria-hidden=true href=#35-모니터링-및-피드백-루프>#</a></h4><h5 id=351-모델-성능-모니터링>3.5.1. 모델 성능 모니터링<a hidden class=anchor aria-hidden=true href=#351-모델-성능-모니터링>#</a></h5><p>모델 성능 지표를 지속적으로 추적하여 성능 저하를 감지합니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span><span class=lnt id=hl-8-11><a class=lnlinks href=#hl-8-11>11</a>
</span><span class=lnt id=hl-8-12><a class=lnlinks href=#hl-8-12>12</a>
</span><span class=lnt id=hl-8-13><a class=lnlinks href=#hl-8-13>13</a>
</span><span class=lnt id=hl-8-14><a class=lnlinks href=#hl-8-14>14</a>
</span><span class=lnt id=hl-8-15><a class=lnlinks href=#hl-8-15>15</a>
</span><span class=lnt id=hl-8-16><a class=lnlinks href=#hl-8-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Prometheus와 Grafana를 사용한 모니터링 설정 예시</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>prometheus_client</span> <span class=kn>import</span> <span class=n>Counter</span><span class=p>,</span> <span class=n>Histogram</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>PREDICTION_COUNT</span> <span class=o>=</span> <span class=n>Counter</span><span class=p>(</span><span class=s1>&#39;model_predictions_total&#39;</span><span class=p>,</span> <span class=s1>&#39;Total number of predictions&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>PREDICTION_LATENCY</span> <span class=o>=</span> <span class=n>Histogram</span><span class=p>(</span><span class=s1>&#39;model_prediction_latency_seconds&#39;</span><span class=p>,</span> <span class=s1>&#39;Prediction latency in seconds&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>predict</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>prediction</span> <span class=o>=</span> <span class=n>model</span><span class=o>.</span><span class=n>predict</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>latency</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start_time</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>PREDICTION_COUNT</span><span class=o>.</span><span class=n>inc</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>PREDICTION_LATENCY</span><span class=o>.</span><span class=n>observe</span><span class=p>(</span><span class=n>latency</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>prediction</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=352-데이터-드리프트-감지>3.5.2. 데이터 드리프트 감지<a hidden class=anchor aria-hidden=true href=#352-데이터-드리프트-감지>#</a></h5><p>입력 데이터의 분포 변화를 감지하여 모델 성능 저하를 예방합니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Alibi Detect를 사용한 데이터 드리프트 감지 예시</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>alibi_detect.cd</span> <span class=kn>import</span> <span class=n>KSDrift</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>reference_data</span> <span class=o>=</span> <span class=c1># 기준 데이터</span>
</span></span><span class=line><span class=cl><span class=n>drift_detector</span> <span class=o>=</span> <span class=n>KSDrift</span><span class=p>(</span><span class=n>reference_data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>check_drift</span><span class=p>(</span><span class=n>new_data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>drift_result</span> <span class=o>=</span> <span class=n>drift_detector</span><span class=o>.</span><span class=n>predict</span><span class=p>(</span><span class=n>new_data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>drift_result</span><span class=p>[</span><span class=s2>&#34;data&#34;</span><span class=p>][</span><span class=s2>&#34;is_drift&#34;</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 드리프트 감지 시 알림</span>
</span></span><span class=line><span class=cl>        <span class=n>send_alert</span><span class=p>(</span><span class=s2>&#34;Data drift detected!&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=353-자동-재학습-트리거>3.5.3. 자동 재학습 트리거<a hidden class=anchor aria-hidden=true href=#353-자동-재학습-트리거>#</a></h5><p>성능 저하나 데이터 드리프트가 감지되면 자동으로 모델 재학습을 시작합니다.</p><h3 id=4-mlops-성숙도-단계>4. MLOps 성숙도 단계<a hidden class=anchor aria-hidden=true href=#4-mlops-성숙도-단계>#</a></h3><p>MLOps의 구현은 조직의 규모, 도메인, 기술 성숙도에 따라 다양한 단계로 진행될 수 있습니다:</p><h4 id=41-레벨-0-수동-프로세스>4.1. 레벨 0: 수동 프로세스<a hidden class=anchor aria-hidden=true href=#41-레벨-0-수동-프로세스>#</a></h4><ul><li>데이터 준비, 모델 학습, 배포가 모두 수동으로 이루어짐</li><li>데이터 과학자와 엔지니어링 팀 간 협업이 제한적</li><li>모델 추적 및 문서화가 일관되지 않음</li><li>프로토타입에서 생산까지 오랜 시간 소요</li></ul><h4 id=42-레벨-1-ml-파이프라인-자동화>4.2. 레벨 1: ML 파이프라인 자동화<a hidden class=anchor aria-hidden=true href=#42-레벨-1-ml-파이프라인-자동화>#</a></h4><ul><li>데이터 준비 및 모델 학습 과정이 스크립트화됨</li><li>간단한 CI/CD 파이프라인 구축</li><li>실험 추적 및 모델 버전 관리 도입</li><li>배포 프로세스가 여전히 부분적으로 수동적</li></ul><h4 id=43-레벨-2-cicd-자동화>4.3. 레벨 2: CI/CD 자동화<a hidden class=anchor aria-hidden=true href=#43-레벨-2-cicd-자동화>#</a></h4><ul><li>코드, 데이터, 모델을 포함한 전체 파이프라인 자동화</li><li>테스트 자동화 (데이터 품질, 모델 성능, 통합 테스트)</li><li>지속적 학습 및 배포 구현</li><li>모니터링 및 알림 시스템 구축</li></ul><h4 id=44-레벨-3-완전-자동화된-mlops>4.4. 레벨 3: 완전 자동화된 MLOps<a hidden class=anchor aria-hidden=true href=#44-레벨-3-완전-자동화된-mlops>#</a></h4><ul><li>데이터 드리프트 감지 및 자동 재학습</li><li>A/B 테스트 및 다중 모델 서빙</li><li>고급 모니터링 및 설명 가능성</li><li>자동화된 롤백 메커니즘</li><li>복잡한 피처 스토어 및 모델 레지스트리 활용</li></ul><h3 id=5-주요-mlops-도구-및-플랫폼>5. 주요 MLOps 도구 및 플랫폼<a hidden class=anchor aria-hidden=true href=#5-주요-mlops-도구-및-플랫폼>#</a></h3><h4 id=51-오픈소스-도구>5.1. 오픈소스 도구<a hidden class=anchor aria-hidden=true href=#51-오픈소스-도구>#</a></h4><h5 id=511-실험-추적-및-모델-관리>5.1.1. 실험 추적 및 모델 관리<a hidden class=anchor aria-hidden=true href=#511-실험-추적-및-모델-관리>#</a></h5><ul><li><strong>MLflow</strong>: 실험 추적, 모델 패키징, 모델 레지스트리를 제공하는 종합 플랫폼</li><li><strong>DVC (Data Version Control)</strong>: Git 기반 데이터 및 모델 버전 관리 도구</li><li><strong>Weights & Biases</strong>: 실험 추적, 시각화, 협업 도구</li><li><strong>Sacred + Omniboard</strong>: 실험 구성 및 결과 추적</li></ul><h5 id=512-파이프라인-오케스트레이션>5.1.2. 파이프라인 오케스트레이션<a hidden class=anchor aria-hidden=true href=#512-파이프라인-오케스트레이션>#</a></h5><ul><li><strong>Apache Airflow</strong>: 워크플로우 오케스트레이션을 위한 플랫폼</li><li><strong>Kubeflow</strong>: Kubernetes 상에서 ML 워크플로우 구축 및 배포</li><li><strong>Metaflow</strong>: 데이터 과학 워크플로우를 위한 Netflix의 프레임워크</li><li><strong>Kedro</strong>: 데이터 과학 코드를 생산성 있는 파이프라인으로 변환</li></ul><h5 id=513-모델-서빙>5.1.3. 모델 서빙<a hidden class=anchor aria-hidden=true href=#513-모델-서빙>#</a></h5><ul><li><strong>TensorFlow Serving</strong>: TensorFlow 모델을 위한 서빙 시스템</li><li><strong>TorchServe</strong>: PyTorch 모델을 위한 서빙 프레임워크</li><li><strong>Seldon Core</strong>: Kubernetes 환경에서 모델 배포 및 모니터링</li><li><strong>BentoML</strong>: 모델 패키징과 서빙을 위한 프레임워크</li></ul><h5 id=514-모니터링-및-설명-가능성>5.1.4. 모니터링 및 설명 가능성<a hidden class=anchor aria-hidden=true href=#514-모니터링-및-설명-가능성>#</a></h5><ul><li><strong>Prometheus + Grafana</strong>: 메트릭 모니터링 및 시각화</li><li><strong>Alibi Detect</strong>: 데이터 드리프트 감지</li><li><strong>SHAP, LIME</strong>: 모델 설명을 위한 라이브러리</li><li><strong>WhyLabs</strong>: 데이터 및 모델 모니터링 플랫폼</li></ul><h4 id=52-클라우드-제공-서비스>5.2. 클라우드 제공 서비스<a hidden class=anchor aria-hidden=true href=#52-클라우드-제공-서비스>#</a></h4><h5 id=521-aws>5.2.1. AWS<a hidden class=anchor aria-hidden=true href=#521-aws>#</a></h5><ul><li><strong>SageMaker</strong>: 모델 개발, 학습, 배포를 위한 통합 서비스</li><li><strong>Step Functions</strong>: 워크플로우 오케스트레이션</li><li><strong>Lambda</strong>: 서버리스 모델 서빙</li></ul><h5 id=522-google-cloud>5.2.2. Google Cloud<a hidden class=anchor aria-hidden=true href=#522-google-cloud>#</a></h5><ul><li><strong>Vertex AI</strong>: 머신러닝 모델 개발 및 배포 플랫폼</li><li><strong>Dataflow</strong>: 데이터 처리 파이프라인</li><li><strong>Cloud Build</strong>: CI/CD 파이프라인</li></ul><h5 id=523-microsoft-azure>5.2.3. Microsoft Azure<a hidden class=anchor aria-hidden=true href=#523-microsoft-azure>#</a></h5><ul><li><strong>Azure Machine Learning</strong>: 모델 개발 및 배포</li><li><strong>Azure DevOps</strong>: CI/CD 및 협업</li><li><strong>Azure Functions</strong>: 서버리스 모델 서빙</li></ul><h5 id=524-기타-클라우드-서비스>5.2.4. 기타 클라우드 서비스<a hidden class=anchor aria-hidden=true href=#524-기타-클라우드-서비스>#</a></h5><ul><li><strong>Databricks</strong>: 데이터 분석 및 ML 협업 플랫폼</li><li><strong>Snowflake</strong>: 데이터 웨어하우스 및 ML 통합</li></ul><h3 id=6-mlops의-실제-구현-예시>6. MLOps의 실제 구현 예시<a hidden class=anchor aria-hidden=true href=#6-mlops의-실제-구현-예시>#</a></h3><h4 id=61-간단한-mlops-파이프라인-구축하기>6.1. 간단한 MLOps 파이프라인 구축하기<a hidden class=anchor aria-hidden=true href=#61-간단한-mlops-파이프라인-구축하기>#</a></h4><p>다음은 간단한 MLOps 파이프라인을 구축하는 과정입니다:</p><h5 id=611-프로젝트-구조-설정>6.1.1. 프로젝트 구조 설정<a hidden class=anchor aria-hidden=true href=#611-프로젝트-구조-설정>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1> 1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2> 2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3> 3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4> 4</a>
</span><span class=lnt id=hl-10-5><a class=lnlinks href=#hl-10-5> 5</a>
</span><span class=lnt id=hl-10-6><a class=lnlinks href=#hl-10-6> 6</a>
</span><span class=lnt id=hl-10-7><a class=lnlinks href=#hl-10-7> 7</a>
</span><span class=lnt id=hl-10-8><a class=lnlinks href=#hl-10-8> 8</a>
</span><span class=lnt id=hl-10-9><a class=lnlinks href=#hl-10-9> 9</a>
</span><span class=lnt id=hl-10-10><a class=lnlinks href=#hl-10-10>10</a>
</span><span class=lnt id=hl-10-11><a class=lnlinks href=#hl-10-11>11</a>
</span><span class=lnt id=hl-10-12><a class=lnlinks href=#hl-10-12>12</a>
</span><span class=lnt id=hl-10-13><a class=lnlinks href=#hl-10-13>13</a>
</span><span class=lnt id=hl-10-14><a class=lnlinks href=#hl-10-14>14</a>
</span><span class=lnt id=hl-10-15><a class=lnlinks href=#hl-10-15>15</a>
</span><span class=lnt id=hl-10-16><a class=lnlinks href=#hl-10-16>16</a>
</span><span class=lnt id=hl-10-17><a class=lnlinks href=#hl-10-17>17</a>
</span><span class=lnt id=hl-10-18><a class=lnlinks href=#hl-10-18>18</a>
</span><span class=lnt id=hl-10-19><a class=lnlinks href=#hl-10-19>19</a>
</span><span class=lnt id=hl-10-20><a class=lnlinks href=#hl-10-20>20</a>
</span><span class=lnt id=hl-10-21><a class=lnlinks href=#hl-10-21>21</a>
</span><span class=lnt id=hl-10-22><a class=lnlinks href=#hl-10-22>22</a>
</span><span class=lnt id=hl-10-23><a class=lnlinks href=#hl-10-23>23</a>
</span><span class=lnt id=hl-10-24><a class=lnlinks href=#hl-10-24>24</a>
</span><span class=lnt id=hl-10-25><a class=lnlinks href=#hl-10-25>25</a>
</span><span class=lnt id=hl-10-26><a class=lnlinks href=#hl-10-26>26</a>
</span><span class=lnt id=hl-10-27><a class=lnlinks href=#hl-10-27>27</a>
</span><span class=lnt id=hl-10-28><a class=lnlinks href=#hl-10-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>ml-project/
</span></span><span class=line><span class=cl>├── .github/
</span></span><span class=line><span class=cl>│   └── workflows/
</span></span><span class=line><span class=cl>│       └── pipeline.yml      # CI/CD 파이프라인 설정
</span></span><span class=line><span class=cl>├── data/
</span></span><span class=line><span class=cl>│   ├── raw/                  # 원본 데이터
</span></span><span class=line><span class=cl>│   └── processed/            # 전처리된 데이터
</span></span><span class=line><span class=cl>├── models/                   # 학습된 모델 저장
</span></span><span class=line><span class=cl>├── notebooks/                # 탐색적 분석 노트북
</span></span><span class=line><span class=cl>├── src/
</span></span><span class=line><span class=cl>│   ├── data/
</span></span><span class=line><span class=cl>│   │   ├── make_dataset.py   # 데이터 전처리
</span></span><span class=line><span class=cl>│   │   └── validate_data.py  # 데이터 검증
</span></span><span class=line><span class=cl>│   ├── features/
</span></span><span class=line><span class=cl>│   │   └── build_features.py # 특성 엔지니어링
</span></span><span class=line><span class=cl>│   ├── models/
</span></span><span class=line><span class=cl>│   │   ├── train_model.py    # 모델 학습
</span></span><span class=line><span class=cl>│   │   ├── predict_model.py  # 예측 함수
</span></span><span class=line><span class=cl>│   │   └── evaluate_model.py # 모델 평가
</span></span><span class=line><span class=cl>│   └── visualization/
</span></span><span class=line><span class=cl>│       └── visualize.py      # 데이터 시각화
</span></span><span class=line><span class=cl>├── app/
</span></span><span class=line><span class=cl>│   └── main.py               # API 서비스
</span></span><span class=line><span class=cl>├── tests/                    # 테스트 코드
</span></span><span class=line><span class=cl>├── Dockerfile                # 컨테이너화
</span></span><span class=line><span class=cl>├── requirements.txt          # 의존성
</span></span><span class=line><span class=cl>├── setup.py                  # 패키지 설정
</span></span><span class=line><span class=cl>└── README.md                 # 문서화
</span></span></code></pre></td></tr></table></div></div><h5 id=612-데이터-파이프라인-구현>6.1.2. 데이터 파이프라인 구현<a hidden class=anchor aria-hidden=true href=#612-데이터-파이프라인-구현>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1> 1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2> 2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3> 3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4> 4</a>
</span><span class=lnt id=hl-11-5><a class=lnlinks href=#hl-11-5> 5</a>
</span><span class=lnt id=hl-11-6><a class=lnlinks href=#hl-11-6> 6</a>
</span><span class=lnt id=hl-11-7><a class=lnlinks href=#hl-11-7> 7</a>
</span><span class=lnt id=hl-11-8><a class=lnlinks href=#hl-11-8> 8</a>
</span><span class=lnt id=hl-11-9><a class=lnlinks href=#hl-11-9> 9</a>
</span><span class=lnt id=hl-11-10><a class=lnlinks href=#hl-11-10>10</a>
</span><span class=lnt id=hl-11-11><a class=lnlinks href=#hl-11-11>11</a>
</span><span class=lnt id=hl-11-12><a class=lnlinks href=#hl-11-12>12</a>
</span><span class=lnt id=hl-11-13><a class=lnlinks href=#hl-11-13>13</a>
</span><span class=lnt id=hl-11-14><a class=lnlinks href=#hl-11-14>14</a>
</span><span class=lnt id=hl-11-15><a class=lnlinks href=#hl-11-15>15</a>
</span><span class=lnt id=hl-11-16><a class=lnlinks href=#hl-11-16>16</a>
</span><span class=lnt id=hl-11-17><a class=lnlinks href=#hl-11-17>17</a>
</span><span class=lnt id=hl-11-18><a class=lnlinks href=#hl-11-18>18</a>
</span><span class=lnt id=hl-11-19><a class=lnlinks href=#hl-11-19>19</a>
</span><span class=lnt id=hl-11-20><a class=lnlinks href=#hl-11-20>20</a>
</span><span class=lnt id=hl-11-21><a class=lnlinks href=#hl-11-21>21</a>
</span><span class=lnt id=hl-11-22><a class=lnlinks href=#hl-11-22>22</a>
</span><span class=lnt id=hl-11-23><a class=lnlinks href=#hl-11-23>23</a>
</span><span class=lnt id=hl-11-24><a class=lnlinks href=#hl-11-24>24</a>
</span><span class=lnt id=hl-11-25><a class=lnlinks href=#hl-11-25>25</a>
</span><span class=lnt id=hl-11-26><a class=lnlinks href=#hl-11-26>26</a>
</span><span class=lnt id=hl-11-27><a class=lnlinks href=#hl-11-27>27</a>
</span><span class=lnt id=hl-11-28><a class=lnlinks href=#hl-11-28>28</a>
</span><span class=lnt id=hl-11-29><a class=lnlinks href=#hl-11-29>29</a>
</span><span class=lnt id=hl-11-30><a class=lnlinks href=#hl-11-30>30</a>
</span><span class=lnt id=hl-11-31><a class=lnlinks href=#hl-11-31>31</a>
</span><span class=lnt id=hl-11-32><a class=lnlinks href=#hl-11-32>32</a>
</span><span class=lnt id=hl-11-33><a class=lnlinks href=#hl-11-33>33</a>
</span><span class=lnt id=hl-11-34><a class=lnlinks href=#hl-11-34>34</a>
</span><span class=lnt id=hl-11-35><a class=lnlinks href=#hl-11-35>35</a>
</span><span class=lnt id=hl-11-36><a class=lnlinks href=#hl-11-36>36</a>
</span><span class=lnt id=hl-11-37><a class=lnlinks href=#hl-11-37>37</a>
</span><span class=lnt id=hl-11-38><a class=lnlinks href=#hl-11-38>38</a>
</span><span class=lnt id=hl-11-39><a class=lnlinks href=#hl-11-39>39</a>
</span><span class=lnt id=hl-11-40><a class=lnlinks href=#hl-11-40>40</a>
</span><span class=lnt id=hl-11-41><a class=lnlinks href=#hl-11-41>41</a>
</span><span class=lnt id=hl-11-42><a class=lnlinks href=#hl-11-42>42</a>
</span><span class=lnt id=hl-11-43><a class=lnlinks href=#hl-11-43>43</a>
</span><span class=lnt id=hl-11-44><a class=lnlinks href=#hl-11-44>44</a>
</span><span class=lnt id=hl-11-45><a class=lnlinks href=#hl-11-45>45</a>
</span><span class=lnt id=hl-11-46><a class=lnlinks href=#hl-11-46>46</a>
</span><span class=lnt id=hl-11-47><a class=lnlinks href=#hl-11-47>47</a>
</span><span class=lnt id=hl-11-48><a class=lnlinks href=#hl-11-48>48</a>
</span><span class=lnt id=hl-11-49><a class=lnlinks href=#hl-11-49>49</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># src/data/make_dataset.py</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>sklearn.model_selection</span> <span class=kn>import</span> <span class=n>train_test_split</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>logging</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>load_data</span><span class=p>(</span><span class=n>input_path</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Load raw data from specified path&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>logging</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Loading data from </span><span class=si>{</span><span class=n>input_path</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=n>input_path</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>preprocess_data</span><span class=p>(</span><span class=n>df</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Preprocess raw data&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>logging</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&#34;Preprocessing data&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># 데이터 전처리 코드</span>
</span></span><span class=line><span class=cl>    <span class=n>df</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>dropna</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=c1># 기타 전처리 단계…</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>df</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>split_data</span><span class=p>(</span><span class=n>df</span><span class=p>,</span> <span class=n>test_size</span><span class=o>=</span><span class=mf>0.2</span><span class=p>,</span> <span class=n>random_state</span><span class=o>=</span><span class=mi>42</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Split data into training and test sets&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>logging</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Splitting data with test_size=</span><span class=si>{</span><span class=n>test_size</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>X</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>drop</span><span class=p>(</span><span class=s1>&#39;target&#39;</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>y</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;target&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>train_test_split</span><span class=p>(</span><span class=n>X</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>test_size</span><span class=o>=</span><span class=n>test_size</span><span class=p>,</span> <span class=n>random_state</span><span class=o>=</span><span class=n>random_state</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>(</span><span class=n>input_path</span><span class=p>,</span> <span class=n>output_path</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Main data processing function&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1># 데이터 로드</span>
</span></span><span class=line><span class=cl>    <span class=n>df</span> <span class=o>=</span> <span class=n>load_data</span><span class=p>(</span><span class=n>input_path</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 데이터 전처리</span>
</span></span><span class=line><span class=cl>    <span class=n>df</span> <span class=o>=</span> <span class=n>preprocess_data</span><span class=p>(</span><span class=n>df</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 데이터 분할</span>
</span></span><span class=line><span class=cl>    <span class=n>X_train</span><span class=p>,</span> <span class=n>X_test</span><span class=p>,</span> <span class=n>y_train</span><span class=p>,</span> <span class=n>y_test</span> <span class=o>=</span> <span class=n>split_data</span><span class=p>(</span><span class=n>df</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 처리된 데이터 저장</span>
</span></span><span class=line><span class=cl>    <span class=n>train_data</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>concat</span><span class=p>([</span><span class=n>X_train</span><span class=p>,</span> <span class=n>y_train</span><span class=p>],</span> <span class=n>axis</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>test_data</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>concat</span><span class=p>([</span><span class=n>X_test</span><span class=p>,</span> <span class=n>y_test</span><span class=p>],</span> <span class=n>axis</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>train_data</span><span class=o>.</span><span class=n>to_csv</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>output_path</span><span class=si>}</span><span class=s2>/train.csv&#34;</span><span class=p>,</span> <span class=n>index</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>test_data</span><span class=o>.</span><span class=n>to_csv</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>output_path</span><span class=si>}</span><span class=s2>/test.csv&#34;</span><span class=p>,</span> <span class=n>index</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>logging</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Processed data saved to </span><span class=si>{</span><span class=n>output_path</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>input_path</span> <span class=o>=</span> <span class=s2>&#34;data/raw/data.csv&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>output_path</span> <span class=o>=</span> <span class=s2>&#34;data/processed&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span><span class=p>(</span><span class=n>input_path</span><span class=p>,</span> <span class=n>output_path</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=613-모델-학습-및-평가>6.1.3. 모델 학습 및 평가<a hidden class=anchor aria-hidden=true href=#613-모델-학습-및-평가>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1> 1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2> 2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3> 3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4> 4</a>
</span><span class=lnt id=hl-12-5><a class=lnlinks href=#hl-12-5> 5</a>
</span><span class=lnt id=hl-12-6><a class=lnlinks href=#hl-12-6> 6</a>
</span><span class=lnt id=hl-12-7><a class=lnlinks href=#hl-12-7> 7</a>
</span><span class=lnt id=hl-12-8><a class=lnlinks href=#hl-12-8> 8</a>
</span><span class=lnt id=hl-12-9><a class=lnlinks href=#hl-12-9> 9</a>
</span><span class=lnt id=hl-12-10><a class=lnlinks href=#hl-12-10>10</a>
</span><span class=lnt id=hl-12-11><a class=lnlinks href=#hl-12-11>11</a>
</span><span class=lnt id=hl-12-12><a class=lnlinks href=#hl-12-12>12</a>
</span><span class=lnt id=hl-12-13><a class=lnlinks href=#hl-12-13>13</a>
</span><span class=lnt id=hl-12-14><a class=lnlinks href=#hl-12-14>14</a>
</span><span class=lnt id=hl-12-15><a class=lnlinks href=#hl-12-15>15</a>
</span><span class=lnt id=hl-12-16><a class=lnlinks href=#hl-12-16>16</a>
</span><span class=lnt id=hl-12-17><a class=lnlinks href=#hl-12-17>17</a>
</span><span class=lnt id=hl-12-18><a class=lnlinks href=#hl-12-18>18</a>
</span><span class=lnt id=hl-12-19><a class=lnlinks href=#hl-12-19>19</a>
</span><span class=lnt id=hl-12-20><a class=lnlinks href=#hl-12-20>20</a>
</span><span class=lnt id=hl-12-21><a class=lnlinks href=#hl-12-21>21</a>
</span><span class=lnt id=hl-12-22><a class=lnlinks href=#hl-12-22>22</a>
</span><span class=lnt id=hl-12-23><a class=lnlinks href=#hl-12-23>23</a>
</span><span class=lnt id=hl-12-24><a class=lnlinks href=#hl-12-24>24</a>
</span><span class=lnt id=hl-12-25><a class=lnlinks href=#hl-12-25>25</a>
</span><span class=lnt id=hl-12-26><a class=lnlinks href=#hl-12-26>26</a>
</span><span class=lnt id=hl-12-27><a class=lnlinks href=#hl-12-27>27</a>
</span><span class=lnt id=hl-12-28><a class=lnlinks href=#hl-12-28>28</a>
</span><span class=lnt id=hl-12-29><a class=lnlinks href=#hl-12-29>29</a>
</span><span class=lnt id=hl-12-30><a class=lnlinks href=#hl-12-30>30</a>
</span><span class=lnt id=hl-12-31><a class=lnlinks href=#hl-12-31>31</a>
</span><span class=lnt id=hl-12-32><a class=lnlinks href=#hl-12-32>32</a>
</span><span class=lnt id=hl-12-33><a class=lnlinks href=#hl-12-33>33</a>
</span><span class=lnt id=hl-12-34><a class=lnlinks href=#hl-12-34>34</a>
</span><span class=lnt id=hl-12-35><a class=lnlinks href=#hl-12-35>35</a>
</span><span class=lnt id=hl-12-36><a class=lnlinks href=#hl-12-36>36</a>
</span><span class=lnt id=hl-12-37><a class=lnlinks href=#hl-12-37>37</a>
</span><span class=lnt id=hl-12-38><a class=lnlinks href=#hl-12-38>38</a>
</span><span class=lnt id=hl-12-39><a class=lnlinks href=#hl-12-39>39</a>
</span><span class=lnt id=hl-12-40><a class=lnlinks href=#hl-12-40>40</a>
</span><span class=lnt id=hl-12-41><a class=lnlinks href=#hl-12-41>41</a>
</span><span class=lnt id=hl-12-42><a class=lnlinks href=#hl-12-42>42</a>
</span><span class=lnt id=hl-12-43><a class=lnlinks href=#hl-12-43>43</a>
</span><span class=lnt id=hl-12-44><a class=lnlinks href=#hl-12-44>44</a>
</span><span class=lnt id=hl-12-45><a class=lnlinks href=#hl-12-45>45</a>
</span><span class=lnt id=hl-12-46><a class=lnlinks href=#hl-12-46>46</a>
</span><span class=lnt id=hl-12-47><a class=lnlinks href=#hl-12-47>47</a>
</span><span class=lnt id=hl-12-48><a class=lnlinks href=#hl-12-48>48</a>
</span><span class=lnt id=hl-12-49><a class=lnlinks href=#hl-12-49>49</a>
</span><span class=lnt id=hl-12-50><a class=lnlinks href=#hl-12-50>50</a>
</span><span class=lnt id=hl-12-51><a class=lnlinks href=#hl-12-51>51</a>
</span><span class=lnt id=hl-12-52><a class=lnlinks href=#hl-12-52>52</a>
</span><span class=lnt id=hl-12-53><a class=lnlinks href=#hl-12-53>53</a>
</span><span class=lnt id=hl-12-54><a class=lnlinks href=#hl-12-54>54</a>
</span><span class=lnt id=hl-12-55><a class=lnlinks href=#hl-12-55>55</a>
</span><span class=lnt id=hl-12-56><a class=lnlinks href=#hl-12-56>56</a>
</span><span class=lnt id=hl-12-57><a class=lnlinks href=#hl-12-57>57</a>
</span><span class=lnt id=hl-12-58><a class=lnlinks href=#hl-12-58>58</a>
</span><span class=lnt id=hl-12-59><a class=lnlinks href=#hl-12-59>59</a>
</span><span class=lnt id=hl-12-60><a class=lnlinks href=#hl-12-60>60</a>
</span><span class=lnt id=hl-12-61><a class=lnlinks href=#hl-12-61>61</a>
</span><span class=lnt id=hl-12-62><a class=lnlinks href=#hl-12-62>62</a>
</span><span class=lnt id=hl-12-63><a class=lnlinks href=#hl-12-63>63</a>
</span><span class=lnt id=hl-12-64><a class=lnlinks href=#hl-12-64>64</a>
</span><span class=lnt id=hl-12-65><a class=lnlinks href=#hl-12-65>65</a>
</span><span class=lnt id=hl-12-66><a class=lnlinks href=#hl-12-66>66</a>
</span><span class=lnt id=hl-12-67><a class=lnlinks href=#hl-12-67>67</a>
</span><span class=lnt id=hl-12-68><a class=lnlinks href=#hl-12-68>68</a>
</span><span class=lnt id=hl-12-69><a class=lnlinks href=#hl-12-69>69</a>
</span><span class=lnt id=hl-12-70><a class=lnlinks href=#hl-12-70>70</a>
</span><span class=lnt id=hl-12-71><a class=lnlinks href=#hl-12-71>71</a>
</span><span class=lnt id=hl-12-72><a class=lnlinks href=#hl-12-72>72</a>
</span><span class=lnt id=hl-12-73><a class=lnlinks href=#hl-12-73>73</a>
</span><span class=lnt id=hl-12-74><a class=lnlinks href=#hl-12-74>74</a>
</span><span class=lnt id=hl-12-75><a class=lnlinks href=#hl-12-75>75</a>
</span><span class=lnt id=hl-12-76><a class=lnlinks href=#hl-12-76>76</a>
</span><span class=lnt id=hl-12-77><a class=lnlinks href=#hl-12-77>77</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># src/models/train_model.py</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>joblib</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>mlflow</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>logging</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>sklearn.ensemble</span> <span class=kn>import</span> <span class=n>RandomForestClassifier</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>sklearn.metrics</span> <span class=kn>import</span> <span class=n>accuracy_score</span><span class=p>,</span> <span class=n>precision_score</span><span class=p>,</span> <span class=n>recall_score</span><span class=p>,</span> <span class=n>f1_score</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>load_data</span><span class=p>(</span><span class=n>train_path</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Load training data&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=n>train_path</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>X</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>drop</span><span class=p>(</span><span class=s1>&#39;target&#39;</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>y</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;target&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>X</span><span class=p>,</span> <span class=n>y</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>train_model</span><span class=p>(</span><span class=n>X</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>params</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Train a model with given parameters&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>model</span> <span class=o>=</span> <span class=n>RandomForestClassifier</span><span class=p>(</span><span class=o>**</span><span class=n>params</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>model</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=n>X</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>model</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>evaluate_model</span><span class=p>(</span><span class=n>model</span><span class=p>,</span> <span class=n>X</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Evaluate model and return metrics&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>y_pred</span> <span class=o>=</span> <span class=n>model</span><span class=o>.</span><span class=n>predict</span><span class=p>(</span><span class=n>X</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>accuracy</span> <span class=o>=</span> <span class=n>accuracy_score</span><span class=p>(</span><span class=n>y</span><span class=p>,</span> <span class=n>y_pred</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>precision</span> <span class=o>=</span> <span class=n>precision_score</span><span class=p>(</span><span class=n>y</span><span class=p>,</span> <span class=n>y_pred</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>recall</span> <span class=o>=</span> <span class=n>recall_score</span><span class=p>(</span><span class=n>y</span><span class=p>,</span> <span class=n>y_pred</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>f1</span> <span class=o>=</span> <span class=n>f1_score</span><span class=p>(</span><span class=n>y</span><span class=p>,</span> <span class=n>y_pred</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>metrics</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;accuracy&#34;</span><span class=p>:</span> <span class=n>accuracy</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;precision&#34;</span><span class=p>:</span> <span class=n>precision</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;recall&#34;</span><span class=p>:</span> <span class=n>recall</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;f1_score&#34;</span><span class=p>:</span> <span class=n>f1</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>metrics</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># MLflow 실험 시작</span>
</span></span><span class=line><span class=cl>    <span class=n>mlflow</span><span class=o>.</span><span class=n>start_run</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 데이터 로드</span>
</span></span><span class=line><span class=cl>    <span class=n>X</span><span class=p>,</span> <span class=n>y</span> <span class=o>=</span> <span class=n>load_data</span><span class=p>(</span><span class=s2>&#34;data/processed/train.csv&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 모델 파라미터</span>
</span></span><span class=line><span class=cl>    <span class=n>params</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;n_estimators&#34;</span><span class=p>:</span> <span class=mi>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;max_depth&#34;</span><span class=p>:</span> <span class=mi>10</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;random_state&#34;</span><span class=p>:</span> <span class=mi>42</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 파라미터 로깅</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>param</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>params</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=n>mlflow</span><span class=o>.</span><span class=n>log_param</span><span class=p>(</span><span class=n>param</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 모델 학습</span>
</span></span><span class=line><span class=cl>    <span class=n>model</span> <span class=o>=</span> <span class=n>train_model</span><span class=p>(</span><span class=n>X</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>params</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 모델 평가</span>
</span></span><span class=line><span class=cl>    <span class=n>metrics</span> <span class=o>=</span> <span class=n>evaluate_model</span><span class=p>(</span><span class=n>model</span><span class=p>,</span> <span class=n>X</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 메트릭 로깅</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>metric_name</span><span class=p>,</span> <span class=n>metric_value</span> <span class=ow>in</span> <span class=n>metrics</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=n>mlflow</span><span class=o>.</span><span class=n>log_metric</span><span class=p>(</span><span class=n>metric_name</span><span class=p>,</span> <span class=n>metric_value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>logging</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>metric_name</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>metric_value</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 모델 저장</span>
</span></span><span class=line><span class=cl>    <span class=n>joblib</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>model</span><span class=p>,</span> <span class=s2>&#34;models/model.joblib&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>mlflow</span><span class=o>.</span><span class=n>sklearn</span><span class=o>.</span><span class=n>log_model</span><span class=p>(</span><span class=n>model</span><span class=p>,</span> <span class=s2>&#34;model&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># MLflow 실험 종료</span>
</span></span><span class=line><span class=cl>    <span class=n>mlflow</span><span class=o>.</span><span class=n>end_run</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=614-모델-서빙-api>6.1.4. 모델 서빙 API<a hidden class=anchor aria-hidden=true href=#614-모델-서빙-api>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1> 1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2> 2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3> 3</a>
</span><span class=lnt id=hl-13-4><a class=lnlinks href=#hl-13-4> 4</a>
</span><span class=lnt id=hl-13-5><a class=lnlinks href=#hl-13-5> 5</a>
</span><span class=lnt id=hl-13-6><a class=lnlinks href=#hl-13-6> 6</a>
</span><span class=lnt id=hl-13-7><a class=lnlinks href=#hl-13-7> 7</a>
</span><span class=lnt id=hl-13-8><a class=lnlinks href=#hl-13-8> 8</a>
</span><span class=lnt id=hl-13-9><a class=lnlinks href=#hl-13-9> 9</a>
</span><span class=lnt id=hl-13-10><a class=lnlinks href=#hl-13-10>10</a>
</span><span class=lnt id=hl-13-11><a class=lnlinks href=#hl-13-11>11</a>
</span><span class=lnt id=hl-13-12><a class=lnlinks href=#hl-13-12>12</a>
</span><span class=lnt id=hl-13-13><a class=lnlinks href=#hl-13-13>13</a>
</span><span class=lnt id=hl-13-14><a class=lnlinks href=#hl-13-14>14</a>
</span><span class=lnt id=hl-13-15><a class=lnlinks href=#hl-13-15>15</a>
</span><span class=lnt id=hl-13-16><a class=lnlinks href=#hl-13-16>16</a>
</span><span class=lnt id=hl-13-17><a class=lnlinks href=#hl-13-17>17</a>
</span><span class=lnt id=hl-13-18><a class=lnlinks href=#hl-13-18>18</a>
</span><span class=lnt id=hl-13-19><a class=lnlinks href=#hl-13-19>19</a>
</span><span class=lnt id=hl-13-20><a class=lnlinks href=#hl-13-20>20</a>
</span><span class=lnt id=hl-13-21><a class=lnlinks href=#hl-13-21>21</a>
</span><span class=lnt id=hl-13-22><a class=lnlinks href=#hl-13-22>22</a>
</span><span class=lnt id=hl-13-23><a class=lnlinks href=#hl-13-23>23</a>
</span><span class=lnt id=hl-13-24><a class=lnlinks href=#hl-13-24>24</a>
</span><span class=lnt id=hl-13-25><a class=lnlinks href=#hl-13-25>25</a>
</span><span class=lnt id=hl-13-26><a class=lnlinks href=#hl-13-26>26</a>
</span><span class=lnt id=hl-13-27><a class=lnlinks href=#hl-13-27>27</a>
</span><span class=lnt id=hl-13-28><a class=lnlinks href=#hl-13-28>28</a>
</span><span class=lnt id=hl-13-29><a class=lnlinks href=#hl-13-29>29</a>
</span><span class=lnt id=hl-13-30><a class=lnlinks href=#hl-13-30>30</a>
</span><span class=lnt id=hl-13-31><a class=lnlinks href=#hl-13-31>31</a>
</span><span class=lnt id=hl-13-32><a class=lnlinks href=#hl-13-32>32</a>
</span><span class=lnt id=hl-13-33><a class=lnlinks href=#hl-13-33>33</a>
</span><span class=lnt id=hl-13-34><a class=lnlinks href=#hl-13-34>34</a>
</span><span class=lnt id=hl-13-35><a class=lnlinks href=#hl-13-35>35</a>
</span><span class=lnt id=hl-13-36><a class=lnlinks href=#hl-13-36>36</a>
</span><span class=lnt id=hl-13-37><a class=lnlinks href=#hl-13-37>37</a>
</span><span class=lnt id=hl-13-38><a class=lnlinks href=#hl-13-38>38</a>
</span><span class=lnt id=hl-13-39><a class=lnlinks href=#hl-13-39>39</a>
</span><span class=lnt id=hl-13-40><a class=lnlinks href=#hl-13-40>40</a>
</span><span class=lnt id=hl-13-41><a class=lnlinks href=#hl-13-41>41</a>
</span><span class=lnt id=hl-13-42><a class=lnlinks href=#hl-13-42>42</a>
</span><span class=lnt id=hl-13-43><a class=lnlinks href=#hl-13-43>43</a>
</span><span class=lnt id=hl-13-44><a class=lnlinks href=#hl-13-44>44</a>
</span><span class=lnt id=hl-13-45><a class=lnlinks href=#hl-13-45>45</a>
</span><span class=lnt id=hl-13-46><a class=lnlinks href=#hl-13-46>46</a>
</span><span class=lnt id=hl-13-47><a class=lnlinks href=#hl-13-47>47</a>
</span><span class=lnt id=hl-13-48><a class=lnlinks href=#hl-13-48>48</a>
</span><span class=lnt id=hl-13-49><a class=lnlinks href=#hl-13-49>49</a>
</span><span class=lnt id=hl-13-50><a class=lnlinks href=#hl-13-50>50</a>
</span><span class=lnt id=hl-13-51><a class=lnlinks href=#hl-13-51>51</a>
</span><span class=lnt id=hl-13-52><a class=lnlinks href=#hl-13-52>52</a>
</span><span class=lnt id=hl-13-53><a class=lnlinks href=#hl-13-53>53</a>
</span><span class=lnt id=hl-13-54><a class=lnlinks href=#hl-13-54>54</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># app/main.py</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>fastapi</span> <span class=kn>import</span> <span class=n>FastAPI</span><span class=p>,</span> <span class=n>HTTPException</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pydantic</span> <span class=kn>import</span> <span class=n>BaseModel</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>joblib</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>List</span><span class=p>,</span> <span class=n>Dict</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>logging</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 앱 초기화</span>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>FastAPI</span><span class=p>(</span><span class=n>title</span><span class=o>=</span><span class=s2>&#34;ML Model API&#34;</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=s2>&#34;API for ML model predictions&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 요청 및 응답 모델</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PredictionRequest</span><span class=p>(</span><span class=n>BaseModel</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>features</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>float</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PredictionResponse</span><span class=p>(</span><span class=n>BaseModel</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>prediction</span><span class=p>:</span> <span class=nb>int</span>
</span></span><span class=line><span class=cl>    <span class=n>probability</span><span class=p>:</span> <span class=nb>float</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 모델 로드</span>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>model</span> <span class=o>=</span> <span class=n>joblib</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=s2>&#34;models/model.joblib&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>logging</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&#34;Model loaded successfully&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>logging</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Error loading model: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>model</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.get</span><span class=p>(</span><span class=s2>&#34;/&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>root</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;message&#34;</span><span class=p>:</span> <span class=s2>&#34;ML Model API&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.post</span><span class=p>(</span><span class=s2>&#34;/predict&#34;</span><span class=p>,</span> <span class=n>response_model</span><span class=o>=</span><span class=n>PredictionResponse</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>predict</span><span class=p>(</span><span class=n>request</span><span class=p>:</span> <span class=n>PredictionRequest</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>model</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=n>HTTPException</span><span class=p>(</span><span class=n>status_code</span><span class=o>=</span><span class=mi>503</span><span class=p>,</span> <span class=n>detail</span><span class=o>=</span><span class=s2>&#34;Model not available&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 입력 데이터 변환</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>features</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span><span class=n>request</span><span class=o>.</span><span class=n>features</span><span class=p>)</span><span class=o>.</span><span class=n>reshape</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 예측</span>
</span></span><span class=line><span class=cl>        <span class=n>prediction</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>model</span><span class=o>.</span><span class=n>predict</span><span class=p>(</span><span class=n>features</span><span class=p>)[</span><span class=mi>0</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=n>probability</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>model</span><span class=o>.</span><span class=n>predict_proba</span><span class=p>(</span><span class=n>features</span><span class=p>)[</span><span class=mi>0</span><span class=p>][</span><span class=n>prediction</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>PredictionResponse</span><span class=p>(</span><span class=n>prediction</span><span class=o>=</span><span class=n>prediction</span><span class=p>,</span> <span class=n>probability</span><span class=o>=</span><span class=n>probability</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>logging</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Prediction error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=n>HTTPException</span><span class=p>(</span><span class=n>status_code</span><span class=o>=</span><span class=mi>400</span><span class=p>,</span> <span class=n>detail</span><span class=o>=</span><span class=sa>f</span><span class=s2>&#34;Prediction error: </span><span class=si>{</span><span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=kn>import</span> <span class=nn>uvicorn</span>
</span></span><span class=line><span class=cl>    <span class=n>uvicorn</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>app</span><span class=p>,</span> <span class=n>host</span><span class=o>=</span><span class=s2>&#34;0.0.0.0&#34;</span><span class=p>,</span> <span class=n>port</span><span class=o>=</span><span class=mi>8000</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=615-cicd-파이프라인>6.1.5. CI/CD 파이프라인<a hidden class=anchor aria-hidden=true href=#615-cicd-파이프라인>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1>  1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2>  2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3>  3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4>  4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5>  5</a>
</span><span class=lnt id=hl-14-6><a class=lnlinks href=#hl-14-6>  6</a>
</span><span class=lnt id=hl-14-7><a class=lnlinks href=#hl-14-7>  7</a>
</span><span class=lnt id=hl-14-8><a class=lnlinks href=#hl-14-8>  8</a>
</span><span class=lnt id=hl-14-9><a class=lnlinks href=#hl-14-9>  9</a>
</span><span class=lnt id=hl-14-10><a class=lnlinks href=#hl-14-10> 10</a>
</span><span class=lnt id=hl-14-11><a class=lnlinks href=#hl-14-11> 11</a>
</span><span class=lnt id=hl-14-12><a class=lnlinks href=#hl-14-12> 12</a>
</span><span class=lnt id=hl-14-13><a class=lnlinks href=#hl-14-13> 13</a>
</span><span class=lnt id=hl-14-14><a class=lnlinks href=#hl-14-14> 14</a>
</span><span class=lnt id=hl-14-15><a class=lnlinks href=#hl-14-15> 15</a>
</span><span class=lnt id=hl-14-16><a class=lnlinks href=#hl-14-16> 16</a>
</span><span class=lnt id=hl-14-17><a class=lnlinks href=#hl-14-17> 17</a>
</span><span class=lnt id=hl-14-18><a class=lnlinks href=#hl-14-18> 18</a>
</span><span class=lnt id=hl-14-19><a class=lnlinks href=#hl-14-19> 19</a>
</span><span class=lnt id=hl-14-20><a class=lnlinks href=#hl-14-20> 20</a>
</span><span class=lnt id=hl-14-21><a class=lnlinks href=#hl-14-21> 21</a>
</span><span class=lnt id=hl-14-22><a class=lnlinks href=#hl-14-22> 22</a>
</span><span class=lnt id=hl-14-23><a class=lnlinks href=#hl-14-23> 23</a>
</span><span class=lnt id=hl-14-24><a class=lnlinks href=#hl-14-24> 24</a>
</span><span class=lnt id=hl-14-25><a class=lnlinks href=#hl-14-25> 25</a>
</span><span class=lnt id=hl-14-26><a class=lnlinks href=#hl-14-26> 26</a>
</span><span class=lnt id=hl-14-27><a class=lnlinks href=#hl-14-27> 27</a>
</span><span class=lnt id=hl-14-28><a class=lnlinks href=#hl-14-28> 28</a>
</span><span class=lnt id=hl-14-29><a class=lnlinks href=#hl-14-29> 29</a>
</span><span class=lnt id=hl-14-30><a class=lnlinks href=#hl-14-30> 30</a>
</span><span class=lnt id=hl-14-31><a class=lnlinks href=#hl-14-31> 31</a>
</span><span class=lnt id=hl-14-32><a class=lnlinks href=#hl-14-32> 32</a>
</span><span class=lnt id=hl-14-33><a class=lnlinks href=#hl-14-33> 33</a>
</span><span class=lnt id=hl-14-34><a class=lnlinks href=#hl-14-34> 34</a>
</span><span class=lnt id=hl-14-35><a class=lnlinks href=#hl-14-35> 35</a>
</span><span class=lnt id=hl-14-36><a class=lnlinks href=#hl-14-36> 36</a>
</span><span class=lnt id=hl-14-37><a class=lnlinks href=#hl-14-37> 37</a>
</span><span class=lnt id=hl-14-38><a class=lnlinks href=#hl-14-38> 38</a>
</span><span class=lnt id=hl-14-39><a class=lnlinks href=#hl-14-39> 39</a>
</span><span class=lnt id=hl-14-40><a class=lnlinks href=#hl-14-40> 40</a>
</span><span class=lnt id=hl-14-41><a class=lnlinks href=#hl-14-41> 41</a>
</span><span class=lnt id=hl-14-42><a class=lnlinks href=#hl-14-42> 42</a>
</span><span class=lnt id=hl-14-43><a class=lnlinks href=#hl-14-43> 43</a>
</span><span class=lnt id=hl-14-44><a class=lnlinks href=#hl-14-44> 44</a>
</span><span class=lnt id=hl-14-45><a class=lnlinks href=#hl-14-45> 45</a>
</span><span class=lnt id=hl-14-46><a class=lnlinks href=#hl-14-46> 46</a>
</span><span class=lnt id=hl-14-47><a class=lnlinks href=#hl-14-47> 47</a>
</span><span class=lnt id=hl-14-48><a class=lnlinks href=#hl-14-48> 48</a>
</span><span class=lnt id=hl-14-49><a class=lnlinks href=#hl-14-49> 49</a>
</span><span class=lnt id=hl-14-50><a class=lnlinks href=#hl-14-50> 50</a>
</span><span class=lnt id=hl-14-51><a class=lnlinks href=#hl-14-51> 51</a>
</span><span class=lnt id=hl-14-52><a class=lnlinks href=#hl-14-52> 52</a>
</span><span class=lnt id=hl-14-53><a class=lnlinks href=#hl-14-53> 53</a>
</span><span class=lnt id=hl-14-54><a class=lnlinks href=#hl-14-54> 54</a>
</span><span class=lnt id=hl-14-55><a class=lnlinks href=#hl-14-55> 55</a>
</span><span class=lnt id=hl-14-56><a class=lnlinks href=#hl-14-56> 56</a>
</span><span class=lnt id=hl-14-57><a class=lnlinks href=#hl-14-57> 57</a>
</span><span class=lnt id=hl-14-58><a class=lnlinks href=#hl-14-58> 58</a>
</span><span class=lnt id=hl-14-59><a class=lnlinks href=#hl-14-59> 59</a>
</span><span class=lnt id=hl-14-60><a class=lnlinks href=#hl-14-60> 60</a>
</span><span class=lnt id=hl-14-61><a class=lnlinks href=#hl-14-61> 61</a>
</span><span class=lnt id=hl-14-62><a class=lnlinks href=#hl-14-62> 62</a>
</span><span class=lnt id=hl-14-63><a class=lnlinks href=#hl-14-63> 63</a>
</span><span class=lnt id=hl-14-64><a class=lnlinks href=#hl-14-64> 64</a>
</span><span class=lnt id=hl-14-65><a class=lnlinks href=#hl-14-65> 65</a>
</span><span class=lnt id=hl-14-66><a class=lnlinks href=#hl-14-66> 66</a>
</span><span class=lnt id=hl-14-67><a class=lnlinks href=#hl-14-67> 67</a>
</span><span class=lnt id=hl-14-68><a class=lnlinks href=#hl-14-68> 68</a>
</span><span class=lnt id=hl-14-69><a class=lnlinks href=#hl-14-69> 69</a>
</span><span class=lnt id=hl-14-70><a class=lnlinks href=#hl-14-70> 70</a>
</span><span class=lnt id=hl-14-71><a class=lnlinks href=#hl-14-71> 71</a>
</span><span class=lnt id=hl-14-72><a class=lnlinks href=#hl-14-72> 72</a>
</span><span class=lnt id=hl-14-73><a class=lnlinks href=#hl-14-73> 73</a>
</span><span class=lnt id=hl-14-74><a class=lnlinks href=#hl-14-74> 74</a>
</span><span class=lnt id=hl-14-75><a class=lnlinks href=#hl-14-75> 75</a>
</span><span class=lnt id=hl-14-76><a class=lnlinks href=#hl-14-76> 76</a>
</span><span class=lnt id=hl-14-77><a class=lnlinks href=#hl-14-77> 77</a>
</span><span class=lnt id=hl-14-78><a class=lnlinks href=#hl-14-78> 78</a>
</span><span class=lnt id=hl-14-79><a class=lnlinks href=#hl-14-79> 79</a>
</span><span class=lnt id=hl-14-80><a class=lnlinks href=#hl-14-80> 80</a>
</span><span class=lnt id=hl-14-81><a class=lnlinks href=#hl-14-81> 81</a>
</span><span class=lnt id=hl-14-82><a class=lnlinks href=#hl-14-82> 82</a>
</span><span class=lnt id=hl-14-83><a class=lnlinks href=#hl-14-83> 83</a>
</span><span class=lnt id=hl-14-84><a class=lnlinks href=#hl-14-84> 84</a>
</span><span class=lnt id=hl-14-85><a class=lnlinks href=#hl-14-85> 85</a>
</span><span class=lnt id=hl-14-86><a class=lnlinks href=#hl-14-86> 86</a>
</span><span class=lnt id=hl-14-87><a class=lnlinks href=#hl-14-87> 87</a>
</span><span class=lnt id=hl-14-88><a class=lnlinks href=#hl-14-88> 88</a>
</span><span class=lnt id=hl-14-89><a class=lnlinks href=#hl-14-89> 89</a>
</span><span class=lnt id=hl-14-90><a class=lnlinks href=#hl-14-90> 90</a>
</span><span class=lnt id=hl-14-91><a class=lnlinks href=#hl-14-91> 91</a>
</span><span class=lnt id=hl-14-92><a class=lnlinks href=#hl-14-92> 92</a>
</span><span class=lnt id=hl-14-93><a class=lnlinks href=#hl-14-93> 93</a>
</span><span class=lnt id=hl-14-94><a class=lnlinks href=#hl-14-94> 94</a>
</span><span class=lnt id=hl-14-95><a class=lnlinks href=#hl-14-95> 95</a>
</span><span class=lnt id=hl-14-96><a class=lnlinks href=#hl-14-96> 96</a>
</span><span class=lnt id=hl-14-97><a class=lnlinks href=#hl-14-97> 97</a>
</span><span class=lnt id=hl-14-98><a class=lnlinks href=#hl-14-98> 98</a>
</span><span class=lnt id=hl-14-99><a class=lnlinks href=#hl-14-99> 99</a>
</span><span class=lnt id=hl-14-100><a class=lnlinks href=#hl-14-100>100</a>
</span><span class=lnt id=hl-14-101><a class=lnlinks href=#hl-14-101>101</a>
</span><span class=lnt id=hl-14-102><a class=lnlinks href=#hl-14-102>102</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># .github/workflows/pipeline.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ML Pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=l>main ]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>pull_request</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=l>main ]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>schedule</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>cron</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;0 0 * * 1&#39;</span><span class=w>  </span><span class=c># 매주 월요일 자정에 실행</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>test</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Set up Python</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/setup-python@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>python-version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;3.9&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Install dependencies</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>        python -m pip install --upgrade pip
</span></span></span><span class=line><span class=cl><span class=sd>        pip install -r requirements.txt
</span></span></span><span class=line><span class=cl><span class=sd>        pip install pytest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Run tests</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>        pytest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>data-pipeline</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>needs</span><span class=p>:</span><span class=w> </span><span class=l>test</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Set up Python</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/setup-python@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>python-version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;3.9&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Install dependencies</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>        python -m pip install --upgrade pip
</span></span></span><span class=line><span class=cl><span class=sd>        pip install -r requirements.txt</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Process data</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>        python src/data/make_dataset.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Upload processed data</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/upload-artifact@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>processed-data</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>data/processed/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>train-model</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>needs</span><span class=p>:</span><span class=w> </span><span class=l>data-pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Set up Python</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/setup-python@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>python-version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;3.9&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Install dependencies</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>        python -m pip install --upgrade pip
</span></span></span><span class=line><span class=cl><span class=sd>        pip install -r requirements.txt</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Download processed data</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/download-artifact@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>processed-data</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>data/processed/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Train model</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>        python src/models/train_model.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Upload model</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/upload-artifact@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>trained-model</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>models/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>deploy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>needs</span><span class=p>:</span><span class=w> </span><span class=l>train-model</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=l>github.ref == &#39;refs/heads/main&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Download model</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/download-artifact@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>trained-model</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>models/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Set up Docker Buildx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>docker/setup-buildx-action@v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Login to DockerHub</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>docker/login-action@v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.DOCKERHUB_USERNAME }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.DOCKERHUB_TOKEN }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build and push</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>docker/build-push-action@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>context</span><span class=p>:</span><span class=w> </span><span class=l>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>push</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>tags</span><span class=p>:</span><span class=w> </span><span class=l>username/ml-app:latest</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h5 id=616-dockerfile>6.1.6. Dockerfile<a hidden class=anchor aria-hidden=true href=#616-dockerfile>#</a></h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1> 1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2> 2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3> 3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4> 4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5> 5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6> 6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7> 7</a>
</span><span class=lnt id=hl-15-8><a class=lnlinks href=#hl-15-8> 8</a>
</span><span class=lnt id=hl-15-9><a class=lnlinks href=#hl-15-9> 9</a>
</span><span class=lnt id=hl-15-10><a class=lnlinks href=#hl-15-10>10</a>
</span><span class=lnt id=hl-15-11><a class=lnlinks href=#hl-15-11>11</a>
</span><span class=lnt id=hl-15-12><a class=lnlinks href=#hl-15-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-dockerfile data-lang=dockerfile><span class=line><span class=cl><span class=k>FROM</span><span class=s> python:3.9-slim</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>WORKDIR</span><span class=s> /app</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>COPY</span> requirements.txt .<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> pip install --no-cache-dir -r requirements.txt<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>COPY</span> . .<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>EXPOSE</span><span class=s> 8000</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>CMD</span> <span class=p>[</span><span class=s2>&#34;uvicorn&#34;</span><span class=p>,</span> <span class=s2>&#34;app.main:app&#34;</span><span class=p>,</span> <span class=s2>&#34;--host&#34;</span><span class=p>,</span> <span class=s2>&#34;0.0.0.0&#34;</span><span class=p>,</span> <span class=s2>&#34;--port&#34;</span><span class=p>,</span> <span class=s2>&#34;8000&#34;</span><span class=p>]</span><span class=err>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=62-실제-사례-연구-예측-유지보수-시스템>6.2. 실제 사례 연구: 예측 유지보수 시스템<a hidden class=anchor aria-hidden=true href=#62-실제-사례-연구-예측-유지보수-시스템>#</a></h4><p>산업 장비의 고장을 예측하는 유지보수 시스템을 구축하는 실제 MLOps 사례를 살펴보겠습니다.</p><h3 id=62-실제-사례-연구-예측-유지보수-시스템-1>6.2. 실제 사례 연구: 예측 유지보수 시스템<a hidden class=anchor aria-hidden=true href=#62-실제-사례-연구-예측-유지보수-시스템-1>#</a></h3><p>산업 장비의 고장을 예측하는 시스템은 MLOps의 실제적인 응용 사례입니다. 이 시스템은 센서 데이터를 분석하여 장비의 고장을 사전에 예측하고, 유지보수 일정을 최적화하여 다운타임과 비용을 줄이는 것을 목표로 합니다.</p><h4 id=621-비즈니스-문제-정의>6.2.1. 비즈니스 문제 정의<a hidden class=anchor aria-hidden=true href=#621-비즈니스-문제-정의>#</a></h4><ul><li>예상치 못한 장비 고장으로 인한 생산 중단은 매우 비용이 많이 듦</li><li>일정에 따른 정기 유지보수는 불필요한 부품 교체와 다운타임 발생</li><li>실시간 센서 데이터를 활용한 예측 유지보수로 문제를 사전에 감지하고 비용 효율적인 유지보수 일정 수립 필요</li></ul><h4 id=622-데이터-파이프라인>6.2.2. 데이터 파이프라인<a hidden class=anchor aria-hidden=true href=#622-데이터-파이프라인>#</a></h4><ol><li><p><strong>데이터 수집</strong>:</p><ul><li>장비에 부착된 센서에서 실시간 데이터 수집 (온도, 진동, 압력, 소음 등)</li><li>과거 유지보수 기록 및 고장 데이터 통합</li></ul></li><li><p><strong>데이터 처리</strong>:</p><ul><li>이상값 감지 및 처리</li><li>시계열 데이터 리샘플링 및 특성 추출</li><li>센서 데이터 정규화 및 표준화</li></ul></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1> 1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2> 2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3> 3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4> 4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5> 5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6> 6</a>
</span><span class=lnt id=hl-16-7><a class=lnlinks href=#hl-16-7> 7</a>
</span><span class=lnt id=hl-16-8><a class=lnlinks href=#hl-16-8> 8</a>
</span><span class=lnt id=hl-16-9><a class=lnlinks href=#hl-16-9> 9</a>
</span><span class=lnt id=hl-16-10><a class=lnlinks href=#hl-16-10>10</a>
</span><span class=lnt id=hl-16-11><a class=lnlinks href=#hl-16-11>11</a>
</span><span class=lnt id=hl-16-12><a class=lnlinks href=#hl-16-12>12</a>
</span><span class=lnt id=hl-16-13><a class=lnlinks href=#hl-16-13>13</a>
</span><span class=lnt id=hl-16-14><a class=lnlinks href=#hl-16-14>14</a>
</span><span class=lnt id=hl-16-15><a class=lnlinks href=#hl-16-15>15</a>
</span><span class=lnt id=hl-16-16><a class=lnlinks href=#hl-16-16>16</a>
</span><span class=lnt id=hl-16-17><a class=lnlinks href=#hl-16-17>17</a>
</span><span class=lnt id=hl-16-18><a class=lnlinks href=#hl-16-18>18</a>
</span><span class=lnt id=hl-16-19><a class=lnlinks href=#hl-16-19>19</a>
</span><span class=lnt id=hl-16-20><a class=lnlinks href=#hl-16-20>20</a>
</span><span class=lnt id=hl-16-21><a class=lnlinks href=#hl-16-21>21</a>
</span><span class=lnt id=hl-16-22><a class=lnlinks href=#hl-16-22>22</a>
</span><span class=lnt id=hl-16-23><a class=lnlinks href=#hl-16-23>23</a>
</span><span class=lnt id=hl-16-24><a class=lnlinks href=#hl-16-24>24</a>
</span><span class=lnt id=hl-16-25><a class=lnlinks href=#hl-16-25>25</a>
</span><span class=lnt id=hl-16-26><a class=lnlinks href=#hl-16-26>26</a>
</span><span class=lnt id=hl-16-27><a class=lnlinks href=#hl-16-27>27</a>
</span><span class=lnt id=hl-16-28><a class=lnlinks href=#hl-16-28>28</a>
</span><span class=lnt id=hl-16-29><a class=lnlinks href=#hl-16-29>29</a>
</span><span class=lnt id=hl-16-30><a class=lnlinks href=#hl-16-30>30</a>
</span><span class=lnt id=hl-16-31><a class=lnlinks href=#hl-16-31>31</a>
</span><span class=lnt id=hl-16-32><a class=lnlinks href=#hl-16-32>32</a>
</span><span class=lnt id=hl-16-33><a class=lnlinks href=#hl-16-33>33</a>
</span><span class=lnt id=hl-16-34><a class=lnlinks href=#hl-16-34>34</a>
</span><span class=lnt id=hl-16-35><a class=lnlinks href=#hl-16-35>35</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Apache Kafka를 사용한 실시간 센서 데이터 수집 예시</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>kafka</span> <span class=kn>import</span> <span class=n>KafkaConsumer</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>datetime</span> <span class=kn>import</span> <span class=n>datetime</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Kafka 소비자 설정</span>
</span></span><span class=line><span class=cl><span class=n>consumer</span> <span class=o>=</span> <span class=n>KafkaConsumer</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;equipment_sensors&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>bootstrap_servers</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;kafka:9092&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=n>auto_offset_reset</span><span class=o>=</span><span class=s1>&#39;latest&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>value_deserializer</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>x</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 데이터 프레임 생성</span>
</span></span><span class=line><span class=cl><span class=n>sensor_data</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 센서 데이터 수집</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>message</span> <span class=ow>in</span> <span class=n>consumer</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>data</span> <span class=o>=</span> <span class=n>message</span><span class=o>.</span><span class=n>value</span>
</span></span><span class=line><span class=cl>    <span class=n>data</span><span class=p>[</span><span class=s1>&#39;timestamp&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>fromtimestamp</span><span class=p>(</span><span class=n>data</span><span class=p>[</span><span class=s1>&#39;timestamp&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>    <span class=n>sensor_data</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 일정량의 데이터가 모이면 처리</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>sensor_data</span><span class=p>)</span> <span class=o>&gt;=</span> <span class=mi>1000</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>sensor_data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 데이터 전처리</span>
</span></span><span class=line><span class=cl>        <span class=n>df</span> <span class=o>=</span> <span class=n>preprocess_sensor_data</span><span class=p>(</span><span class=n>df</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 처리된 데이터 저장</span>
</span></span><span class=line><span class=cl>        <span class=n>save_to_feature_store</span><span class=p>(</span><span class=n>df</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 데이터 리셋</span>
</span></span><span class=line><span class=cl>        <span class=n>sensor_data</span> <span class=o>=</span> <span class=p>[]</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=623-모델-개발>6.2.3. 모델 개발<a hidden class=anchor aria-hidden=true href=#623-모델-개발>#</a></h4><ol><li><p><strong>특성 엔지니어링</strong>:</p><ul><li>시간 기반 특성 (이동 평균, 표준 편차, 변화율)</li><li>주파수 도메인 특성 (FFT 계수, 스펙트럼 분석)</li><li>장비 메타데이터 (설치 연도, 모델 유형, 이전 고장 이력)</li></ul></li><li><p><strong>모델 선택 및 학습</strong>:</p><ul><li>분류 모델 (고장 발생 가능성 예측)</li><li>시계열 예측 모델 (고장까지 남은 시간 예측)</li><li>이상 감지 모델 (비정상적인 동작 패턴 식별)</li></ul></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1> 1</a>
</span><span class=lnt id=hl-17-2><a class=lnlinks href=#hl-17-2> 2</a>
</span><span class=lnt id=hl-17-3><a class=lnlinks href=#hl-17-3> 3</a>
</span><span class=lnt id=hl-17-4><a class=lnlinks href=#hl-17-4> 4</a>
</span><span class=lnt id=hl-17-5><a class=lnlinks href=#hl-17-5> 5</a>
</span><span class=lnt id=hl-17-6><a class=lnlinks href=#hl-17-6> 6</a>
</span><span class=lnt id=hl-17-7><a class=lnlinks href=#hl-17-7> 7</a>
</span><span class=lnt id=hl-17-8><a class=lnlinks href=#hl-17-8> 8</a>
</span><span class=lnt id=hl-17-9><a class=lnlinks href=#hl-17-9> 9</a>
</span><span class=lnt id=hl-17-10><a class=lnlinks href=#hl-17-10>10</a>
</span><span class=lnt id=hl-17-11><a class=lnlinks href=#hl-17-11>11</a>
</span><span class=lnt id=hl-17-12><a class=lnlinks href=#hl-17-12>12</a>
</span><span class=lnt id=hl-17-13><a class=lnlinks href=#hl-17-13>13</a>
</span><span class=lnt id=hl-17-14><a class=lnlinks href=#hl-17-14>14</a>
</span><span class=lnt id=hl-17-15><a class=lnlinks href=#hl-17-15>15</a>
</span><span class=lnt id=hl-17-16><a class=lnlinks href=#hl-17-16>16</a>
</span><span class=lnt id=hl-17-17><a class=lnlinks href=#hl-17-17>17</a>
</span><span class=lnt id=hl-17-18><a class=lnlinks href=#hl-17-18>18</a>
</span><span class=lnt id=hl-17-19><a class=lnlinks href=#hl-17-19>19</a>
</span><span class=lnt id=hl-17-20><a class=lnlinks href=#hl-17-20>20</a>
</span><span class=lnt id=hl-17-21><a class=lnlinks href=#hl-17-21>21</a>
</span><span class=lnt id=hl-17-22><a class=lnlinks href=#hl-17-22>22</a>
</span><span class=lnt id=hl-17-23><a class=lnlinks href=#hl-17-23>23</a>
</span><span class=lnt id=hl-17-24><a class=lnlinks href=#hl-17-24>24</a>
</span><span class=lnt id=hl-17-25><a class=lnlinks href=#hl-17-25>25</a>
</span><span class=lnt id=hl-17-26><a class=lnlinks href=#hl-17-26>26</a>
</span><span class=lnt id=hl-17-27><a class=lnlinks href=#hl-17-27>27</a>
</span><span class=lnt id=hl-17-28><a class=lnlinks href=#hl-17-28>28</a>
</span><span class=lnt id=hl-17-29><a class=lnlinks href=#hl-17-29>29</a>
</span><span class=lnt id=hl-17-30><a class=lnlinks href=#hl-17-30>30</a>
</span><span class=lnt id=hl-17-31><a class=lnlinks href=#hl-17-31>31</a>
</span><span class=lnt id=hl-17-32><a class=lnlinks href=#hl-17-32>32</a>
</span><span class=lnt id=hl-17-33><a class=lnlinks href=#hl-17-33>33</a>
</span><span class=lnt id=hl-17-34><a class=lnlinks href=#hl-17-34>34</a>
</span><span class=lnt id=hl-17-35><a class=lnlinks href=#hl-17-35>35</a>
</span><span class=lnt id=hl-17-36><a class=lnlinks href=#hl-17-36>36</a>
</span><span class=lnt id=hl-17-37><a class=lnlinks href=#hl-17-37>37</a>
</span><span class=lnt id=hl-17-38><a class=lnlinks href=#hl-17-38>38</a>
</span><span class=lnt id=hl-17-39><a class=lnlinks href=#hl-17-39>39</a>
</span><span class=lnt id=hl-17-40><a class=lnlinks href=#hl-17-40>40</a>
</span><span class=lnt id=hl-17-41><a class=lnlinks href=#hl-17-41>41</a>
</span><span class=lnt id=hl-17-42><a class=lnlinks href=#hl-17-42>42</a>
</span><span class=lnt id=hl-17-43><a class=lnlinks href=#hl-17-43>43</a>
</span><span class=lnt id=hl-17-44><a class=lnlinks href=#hl-17-44>44</a>
</span><span class=lnt id=hl-17-45><a class=lnlinks href=#hl-17-45>45</a>
</span><span class=lnt id=hl-17-46><a class=lnlinks href=#hl-17-46>46</a>
</span><span class=lnt id=hl-17-47><a class=lnlinks href=#hl-17-47>47</a>
</span><span class=lnt id=hl-17-48><a class=lnlinks href=#hl-17-48>48</a>
</span><span class=lnt id=hl-17-49><a class=lnlinks href=#hl-17-49>49</a>
</span><span class=lnt id=hl-17-50><a class=lnlinks href=#hl-17-50>50</a>
</span><span class=lnt id=hl-17-51><a class=lnlinks href=#hl-17-51>51</a>
</span><span class=lnt id=hl-17-52><a class=lnlinks href=#hl-17-52>52</a>
</span><span class=lnt id=hl-17-53><a class=lnlinks href=#hl-17-53>53</a>
</span><span class=lnt id=hl-17-54><a class=lnlinks href=#hl-17-54>54</a>
</span><span class=lnt id=hl-17-55><a class=lnlinks href=#hl-17-55>55</a>
</span><span class=lnt id=hl-17-56><a class=lnlinks href=#hl-17-56>56</a>
</span><span class=lnt id=hl-17-57><a class=lnlinks href=#hl-17-57>57</a>
</span><span class=lnt id=hl-17-58><a class=lnlinks href=#hl-17-58>58</a>
</span><span class=lnt id=hl-17-59><a class=lnlinks href=#hl-17-59>59</a>
</span><span class=lnt id=hl-17-60><a class=lnlinks href=#hl-17-60>60</a>
</span><span class=lnt id=hl-17-61><a class=lnlinks href=#hl-17-61>61</a>
</span><span class=lnt id=hl-17-62><a class=lnlinks href=#hl-17-62>62</a>
</span><span class=lnt id=hl-17-63><a class=lnlinks href=#hl-17-63>63</a>
</span><span class=lnt id=hl-17-64><a class=lnlinks href=#hl-17-64>64</a>
</span><span class=lnt id=hl-17-65><a class=lnlinks href=#hl-17-65>65</a>
</span><span class=lnt id=hl-17-66><a class=lnlinks href=#hl-17-66>66</a>
</span><span class=lnt id=hl-17-67><a class=lnlinks href=#hl-17-67>67</a>
</span><span class=lnt id=hl-17-68><a class=lnlinks href=#hl-17-68>68</a>
</span><span class=lnt id=hl-17-69><a class=lnlinks href=#hl-17-69>69</a>
</span><span class=lnt id=hl-17-70><a class=lnlinks href=#hl-17-70>70</a>
</span><span class=lnt id=hl-17-71><a class=lnlinks href=#hl-17-71>71</a>
</span><span class=lnt id=hl-17-72><a class=lnlinks href=#hl-17-72>72</a>
</span><span class=lnt id=hl-17-73><a class=lnlinks href=#hl-17-73>73</a>
</span><span class=lnt id=hl-17-74><a class=lnlinks href=#hl-17-74>74</a>
</span><span class=lnt id=hl-17-75><a class=lnlinks href=#hl-17-75>75</a>
</span><span class=lnt id=hl-17-76><a class=lnlinks href=#hl-17-76>76</a>
</span><span class=lnt id=hl-17-77><a class=lnlinks href=#hl-17-77>77</a>
</span><span class=lnt id=hl-17-78><a class=lnlinks href=#hl-17-78>78</a>
</span><span class=lnt id=hl-17-79><a class=lnlinks href=#hl-17-79>79</a>
</span><span class=lnt id=hl-17-80><a class=lnlinks href=#hl-17-80>80</a>
</span><span class=lnt id=hl-17-81><a class=lnlinks href=#hl-17-81>81</a>
</span><span class=lnt id=hl-17-82><a class=lnlinks href=#hl-17-82>82</a>
</span><span class=lnt id=hl-17-83><a class=lnlinks href=#hl-17-83>83</a>
</span><span class=lnt id=hl-17-84><a class=lnlinks href=#hl-17-84>84</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 시계열 특성 엔지니어링 및 모델 학습 예시</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>sklearn.ensemble</span> <span class=kn>import</span> <span class=n>RandomForestClassifier</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>sklearn.model_selection</span> <span class=kn>import</span> <span class=n>train_test_split</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>mlflow</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>create_time_features</span><span class=p>(</span><span class=n>df</span><span class=p>,</span> <span class=n>window_sizes</span><span class=o>=</span><span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=mi>60</span><span class=p>]):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;시간 기반 특성 생성&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>features</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>index</span><span class=o>=</span><span class=n>df</span><span class=o>.</span><span class=n>index</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>sensor</span> <span class=ow>in</span> <span class=p>[</span><span class=s1>&#39;temperature&#39;</span><span class=p>,</span> <span class=s1>&#39;vibration&#39;</span><span class=p>,</span> <span class=s1>&#39;pressure&#39;</span><span class=p>,</span> <span class=s1>&#39;noise&#39;</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 기본 통계</span>
</span></span><span class=line><span class=cl>        <span class=n>features</span><span class=p>[</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>sensor</span><span class=si>}</span><span class=s1>_mean&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=n>sensor</span><span class=p>]</span><span class=o>.</span><span class=n>rolling</span><span class=p>(</span><span class=n>window</span><span class=o>=</span><span class=mi>10</span><span class=p>)</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>features</span><span class=p>[</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>sensor</span><span class=si>}</span><span class=s1>_std&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=n>sensor</span><span class=p>]</span><span class=o>.</span><span class=n>rolling</span><span class=p>(</span><span class=n>window</span><span class=o>=</span><span class=mi>10</span><span class=p>)</span><span class=o>.</span><span class=n>std</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 변화율</span>
</span></span><span class=line><span class=cl>        <span class=n>features</span><span class=p>[</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>sensor</span><span class=si>}</span><span class=s1>_rate&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=n>sensor</span><span class=p>]</span><span class=o>.</span><span class=n>diff</span><span class=p>()</span> <span class=o>/</span> <span class=n>df</span><span class=p>[</span><span class=n>sensor</span><span class=p>]</span><span class=o>.</span><span class=n>shift</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 다양한 윈도우 크기의 이동 평균</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>window</span> <span class=ow>in</span> <span class=n>window_sizes</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>features</span><span class=p>[</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>sensor</span><span class=si>}</span><span class=s1>_mean_</span><span class=si>{</span><span class=n>window</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=n>sensor</span><span class=p>]</span><span class=o>.</span><span class=n>rolling</span><span class=p>(</span><span class=n>window</span><span class=o>=</span><span class=n>window</span><span class=p>)</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=n>features</span><span class=p>[</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>sensor</span><span class=si>}</span><span class=s1>_std_</span><span class=si>{</span><span class=n>window</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=n>sensor</span><span class=p>]</span><span class=o>.</span><span class=n>rolling</span><span class=p>(</span><span class=n>window</span><span class=o>=</span><span class=n>window</span><span class=p>)</span><span class=o>.</span><span class=n>std</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>features</span><span class=o>.</span><span class=n>fillna</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 데이터 로드</span>
</span></span><span class=line><span class=cl><span class=n>equipment_data</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=s1>&#39;processed_sensor_data.csv&#39;</span><span class=p>,</span> <span class=n>parse_dates</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;timestamp&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>equipment_data</span><span class=o>.</span><span class=n>set_index</span><span class=p>(</span><span class=s1>&#39;timestamp&#39;</span><span class=p>,</span> <span class=n>inplace</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 특성 엔지니어링</span>
</span></span><span class=line><span class=cl><span class=n>features</span> <span class=o>=</span> <span class=n>create_time_features</span><span class=p>(</span><span class=n>equipment_data</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>features</span><span class=p>[</span><span class=s1>&#39;equipment_type&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>equipment_data</span><span class=p>[</span><span class=s1>&#39;equipment_type&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>features</span><span class=p>[</span><span class=s1>&#39;installation_year&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>equipment_data</span><span class=p>[</span><span class=s1>&#39;installation_year&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>features</span><span class=p>[</span><span class=s1>&#39;target&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>equipment_data</span><span class=p>[</span><span class=s1>&#39;failure&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>shift</span><span class=p>(</span><span class=o>-</span><span class=mi>24</span><span class=p>)</span>  <span class=c1># 24시간 이내 고장 예측</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 결측값 처리</span>
</span></span><span class=line><span class=cl><span class=n>features</span> <span class=o>=</span> <span class=n>features</span><span class=o>.</span><span class=n>dropna</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 훈련/테스트 분할</span>
</span></span><span class=line><span class=cl><span class=n>X</span> <span class=o>=</span> <span class=n>features</span><span class=o>.</span><span class=n>drop</span><span class=p>(</span><span class=s1>&#39;target&#39;</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>y</span> <span class=o>=</span> <span class=n>features</span><span class=p>[</span><span class=s1>&#39;target&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>X_train</span><span class=p>,</span> <span class=n>X_test</span><span class=p>,</span> <span class=n>y_train</span><span class=p>,</span> <span class=n>y_test</span> <span class=o>=</span> <span class=n>train_test_split</span><span class=p>(</span><span class=n>X</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>test_size</span><span class=o>=</span><span class=mf>0.2</span><span class=p>,</span> <span class=n>random_state</span><span class=o>=</span><span class=mi>42</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># MLflow 실험 추적</span>
</span></span><span class=line><span class=cl><span class=n>mlflow</span><span class=o>.</span><span class=n>start_run</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 모델 파라미터</span>
</span></span><span class=line><span class=cl><span class=n>params</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;n_estimators&#39;</span><span class=p>:</span> <span class=mi>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;max_depth&#39;</span><span class=p>:</span> <span class=mi>10</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;class_weight&#39;</span><span class=p>:</span> <span class=s1>&#39;balanced&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;random_state&#39;</span><span class=p>:</span> <span class=mi>42</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 파라미터 로깅</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>param</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>params</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>mlflow</span><span class=o>.</span><span class=n>log_param</span><span class=p>(</span><span class=n>param</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 모델 학습</span>
</span></span><span class=line><span class=cl><span class=n>model</span> <span class=o>=</span> <span class=n>RandomForestClassifier</span><span class=p>(</span><span class=o>**</span><span class=n>params</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>model</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=n>X_train</span><span class=p>,</span> <span class=n>y_train</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 모델 평가</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>sklearn.metrics</span> <span class=kn>import</span> <span class=n>accuracy_score</span><span class=p>,</span> <span class=n>precision_score</span><span class=p>,</span> <span class=n>recall_score</span><span class=p>,</span> <span class=n>f1_score</span><span class=p>,</span> <span class=n>roc_auc_score</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>y_pred</span> <span class=o>=</span> <span class=n>model</span><span class=o>.</span><span class=n>predict</span><span class=p>(</span><span class=n>X_test</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>y_proba</span> <span class=o>=</span> <span class=n>model</span><span class=o>.</span><span class=n>predict_proba</span><span class=p>(</span><span class=n>X_test</span><span class=p>)[:,</span> <span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>metrics</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;accuracy&#39;</span><span class=p>:</span> <span class=n>accuracy_score</span><span class=p>(</span><span class=n>y_test</span><span class=p>,</span> <span class=n>y_pred</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;precision&#39;</span><span class=p>:</span> <span class=n>precision_score</span><span class=p>(</span><span class=n>y_test</span><span class=p>,</span> <span class=n>y_pred</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;recall&#39;</span><span class=p>:</span> <span class=n>recall_score</span><span class=p>(</span><span class=n>y_test</span><span class=p>,</span> <span class=n>y_pred</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;f1&#39;</span><span class=p>:</span> <span class=n>f1_score</span><span class=p>(</span><span class=n>y_test</span><span class=p>,</span> <span class=n>y_pred</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;roc_auc&#39;</span><span class=p>:</span> <span class=n>roc_auc_score</span><span class=p>(</span><span class=n>y_test</span><span class=p>,</span> <span class=n>y_proba</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 메트릭 로깅</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>metric_name</span><span class=p>,</span> <span class=n>metric_value</span> <span class=ow>in</span> <span class=n>metrics</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>mlflow</span><span class=o>.</span><span class=n>log_metric</span><span class=p>(</span><span class=n>metric_name</span><span class=p>,</span> <span class=n>metric_value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 모델 저장</span>
</span></span><span class=line><span class=cl><span class=n>mlflow</span><span class=o>.</span><span class=n>sklearn</span><span class=o>.</span><span class=n>log_model</span><span class=p>(</span><span class=n>model</span><span class=p>,</span> <span class=s2>&#34;random_forest_failure_prediction&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>mlflow</span><span class=o>.</span><span class=n>end_run</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=624-모델-배포-및-서빙>6.2.4. 모델 배포 및 서빙<a hidden class=anchor aria-hidden=true href=#624-모델-배포-및-서빙>#</a></h4><ol><li><p><strong>서빙 아키텍처</strong>:</p><ul><li>실시간 예측을 위한 오프라인 및 온라인 서빙 경로 구축</li><li>엣지 컴퓨팅 배포 (예측을 장비 근처에서 수행하여 지연 시간 최소화)</li></ul></li><li><p><strong>통합</strong>:</p><ul><li>유지보수 관리 시스템과의 통합</li><li>알림 시스템 구축 (SMS, 이메일, 모바일 앱 푸시 알림)</li></ul></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1>  1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2>  2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3>  3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4>  4</a>
</span><span class=lnt id=hl-18-5><a class=lnlinks href=#hl-18-5>  5</a>
</span><span class=lnt id=hl-18-6><a class=lnlinks href=#hl-18-6>  6</a>
</span><span class=lnt id=hl-18-7><a class=lnlinks href=#hl-18-7>  7</a>
</span><span class=lnt id=hl-18-8><a class=lnlinks href=#hl-18-8>  8</a>
</span><span class=lnt id=hl-18-9><a class=lnlinks href=#hl-18-9>  9</a>
</span><span class=lnt id=hl-18-10><a class=lnlinks href=#hl-18-10> 10</a>
</span><span class=lnt id=hl-18-11><a class=lnlinks href=#hl-18-11> 11</a>
</span><span class=lnt id=hl-18-12><a class=lnlinks href=#hl-18-12> 12</a>
</span><span class=lnt id=hl-18-13><a class=lnlinks href=#hl-18-13> 13</a>
</span><span class=lnt id=hl-18-14><a class=lnlinks href=#hl-18-14> 14</a>
</span><span class=lnt id=hl-18-15><a class=lnlinks href=#hl-18-15> 15</a>
</span><span class=lnt id=hl-18-16><a class=lnlinks href=#hl-18-16> 16</a>
</span><span class=lnt id=hl-18-17><a class=lnlinks href=#hl-18-17> 17</a>
</span><span class=lnt id=hl-18-18><a class=lnlinks href=#hl-18-18> 18</a>
</span><span class=lnt id=hl-18-19><a class=lnlinks href=#hl-18-19> 19</a>
</span><span class=lnt id=hl-18-20><a class=lnlinks href=#hl-18-20> 20</a>
</span><span class=lnt id=hl-18-21><a class=lnlinks href=#hl-18-21> 21</a>
</span><span class=lnt id=hl-18-22><a class=lnlinks href=#hl-18-22> 22</a>
</span><span class=lnt id=hl-18-23><a class=lnlinks href=#hl-18-23> 23</a>
</span><span class=lnt id=hl-18-24><a class=lnlinks href=#hl-18-24> 24</a>
</span><span class=lnt id=hl-18-25><a class=lnlinks href=#hl-18-25> 25</a>
</span><span class=lnt id=hl-18-26><a class=lnlinks href=#hl-18-26> 26</a>
</span><span class=lnt id=hl-18-27><a class=lnlinks href=#hl-18-27> 27</a>
</span><span class=lnt id=hl-18-28><a class=lnlinks href=#hl-18-28> 28</a>
</span><span class=lnt id=hl-18-29><a class=lnlinks href=#hl-18-29> 29</a>
</span><span class=lnt id=hl-18-30><a class=lnlinks href=#hl-18-30> 30</a>
</span><span class=lnt id=hl-18-31><a class=lnlinks href=#hl-18-31> 31</a>
</span><span class=lnt id=hl-18-32><a class=lnlinks href=#hl-18-32> 32</a>
</span><span class=lnt id=hl-18-33><a class=lnlinks href=#hl-18-33> 33</a>
</span><span class=lnt id=hl-18-34><a class=lnlinks href=#hl-18-34> 34</a>
</span><span class=lnt id=hl-18-35><a class=lnlinks href=#hl-18-35> 35</a>
</span><span class=lnt id=hl-18-36><a class=lnlinks href=#hl-18-36> 36</a>
</span><span class=lnt id=hl-18-37><a class=lnlinks href=#hl-18-37> 37</a>
</span><span class=lnt id=hl-18-38><a class=lnlinks href=#hl-18-38> 38</a>
</span><span class=lnt id=hl-18-39><a class=lnlinks href=#hl-18-39> 39</a>
</span><span class=lnt id=hl-18-40><a class=lnlinks href=#hl-18-40> 40</a>
</span><span class=lnt id=hl-18-41><a class=lnlinks href=#hl-18-41> 41</a>
</span><span class=lnt id=hl-18-42><a class=lnlinks href=#hl-18-42> 42</a>
</span><span class=lnt id=hl-18-43><a class=lnlinks href=#hl-18-43> 43</a>
</span><span class=lnt id=hl-18-44><a class=lnlinks href=#hl-18-44> 44</a>
</span><span class=lnt id=hl-18-45><a class=lnlinks href=#hl-18-45> 45</a>
</span><span class=lnt id=hl-18-46><a class=lnlinks href=#hl-18-46> 46</a>
</span><span class=lnt id=hl-18-47><a class=lnlinks href=#hl-18-47> 47</a>
</span><span class=lnt id=hl-18-48><a class=lnlinks href=#hl-18-48> 48</a>
</span><span class=lnt id=hl-18-49><a class=lnlinks href=#hl-18-49> 49</a>
</span><span class=lnt id=hl-18-50><a class=lnlinks href=#hl-18-50> 50</a>
</span><span class=lnt id=hl-18-51><a class=lnlinks href=#hl-18-51> 51</a>
</span><span class=lnt id=hl-18-52><a class=lnlinks href=#hl-18-52> 52</a>
</span><span class=lnt id=hl-18-53><a class=lnlinks href=#hl-18-53> 53</a>
</span><span class=lnt id=hl-18-54><a class=lnlinks href=#hl-18-54> 54</a>
</span><span class=lnt id=hl-18-55><a class=lnlinks href=#hl-18-55> 55</a>
</span><span class=lnt id=hl-18-56><a class=lnlinks href=#hl-18-56> 56</a>
</span><span class=lnt id=hl-18-57><a class=lnlinks href=#hl-18-57> 57</a>
</span><span class=lnt id=hl-18-58><a class=lnlinks href=#hl-18-58> 58</a>
</span><span class=lnt id=hl-18-59><a class=lnlinks href=#hl-18-59> 59</a>
</span><span class=lnt id=hl-18-60><a class=lnlinks href=#hl-18-60> 60</a>
</span><span class=lnt id=hl-18-61><a class=lnlinks href=#hl-18-61> 61</a>
</span><span class=lnt id=hl-18-62><a class=lnlinks href=#hl-18-62> 62</a>
</span><span class=lnt id=hl-18-63><a class=lnlinks href=#hl-18-63> 63</a>
</span><span class=lnt id=hl-18-64><a class=lnlinks href=#hl-18-64> 64</a>
</span><span class=lnt id=hl-18-65><a class=lnlinks href=#hl-18-65> 65</a>
</span><span class=lnt id=hl-18-66><a class=lnlinks href=#hl-18-66> 66</a>
</span><span class=lnt id=hl-18-67><a class=lnlinks href=#hl-18-67> 67</a>
</span><span class=lnt id=hl-18-68><a class=lnlinks href=#hl-18-68> 68</a>
</span><span class=lnt id=hl-18-69><a class=lnlinks href=#hl-18-69> 69</a>
</span><span class=lnt id=hl-18-70><a class=lnlinks href=#hl-18-70> 70</a>
</span><span class=lnt id=hl-18-71><a class=lnlinks href=#hl-18-71> 71</a>
</span><span class=lnt id=hl-18-72><a class=lnlinks href=#hl-18-72> 72</a>
</span><span class=lnt id=hl-18-73><a class=lnlinks href=#hl-18-73> 73</a>
</span><span class=lnt id=hl-18-74><a class=lnlinks href=#hl-18-74> 74</a>
</span><span class=lnt id=hl-18-75><a class=lnlinks href=#hl-18-75> 75</a>
</span><span class=lnt id=hl-18-76><a class=lnlinks href=#hl-18-76> 76</a>
</span><span class=lnt id=hl-18-77><a class=lnlinks href=#hl-18-77> 77</a>
</span><span class=lnt id=hl-18-78><a class=lnlinks href=#hl-18-78> 78</a>
</span><span class=lnt id=hl-18-79><a class=lnlinks href=#hl-18-79> 79</a>
</span><span class=lnt id=hl-18-80><a class=lnlinks href=#hl-18-80> 80</a>
</span><span class=lnt id=hl-18-81><a class=lnlinks href=#hl-18-81> 81</a>
</span><span class=lnt id=hl-18-82><a class=lnlinks href=#hl-18-82> 82</a>
</span><span class=lnt id=hl-18-83><a class=lnlinks href=#hl-18-83> 83</a>
</span><span class=lnt id=hl-18-84><a class=lnlinks href=#hl-18-84> 84</a>
</span><span class=lnt id=hl-18-85><a class=lnlinks href=#hl-18-85> 85</a>
</span><span class=lnt id=hl-18-86><a class=lnlinks href=#hl-18-86> 86</a>
</span><span class=lnt id=hl-18-87><a class=lnlinks href=#hl-18-87> 87</a>
</span><span class=lnt id=hl-18-88><a class=lnlinks href=#hl-18-88> 88</a>
</span><span class=lnt id=hl-18-89><a class=lnlinks href=#hl-18-89> 89</a>
</span><span class=lnt id=hl-18-90><a class=lnlinks href=#hl-18-90> 90</a>
</span><span class=lnt id=hl-18-91><a class=lnlinks href=#hl-18-91> 91</a>
</span><span class=lnt id=hl-18-92><a class=lnlinks href=#hl-18-92> 92</a>
</span><span class=lnt id=hl-18-93><a class=lnlinks href=#hl-18-93> 93</a>
</span><span class=lnt id=hl-18-94><a class=lnlinks href=#hl-18-94> 94</a>
</span><span class=lnt id=hl-18-95><a class=lnlinks href=#hl-18-95> 95</a>
</span><span class=lnt id=hl-18-96><a class=lnlinks href=#hl-18-96> 96</a>
</span><span class=lnt id=hl-18-97><a class=lnlinks href=#hl-18-97> 97</a>
</span><span class=lnt id=hl-18-98><a class=lnlinks href=#hl-18-98> 98</a>
</span><span class=lnt id=hl-18-99><a class=lnlinks href=#hl-18-99> 99</a>
</span><span class=lnt id=hl-18-100><a class=lnlinks href=#hl-18-100>100</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 실시간 예측 서비스 예시 (FastAPI)</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>fastapi</span> <span class=kn>import</span> <span class=n>FastAPI</span><span class=p>,</span> <span class=n>HTTPException</span><span class=p>,</span> <span class=n>BackgroundTasks</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pydantic</span> <span class=kn>import</span> <span class=n>BaseModel</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>joblib</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>List</span><span class=p>,</span> <span class=n>Dict</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>FastAPI</span><span class=p>(</span><span class=n>title</span><span class=o>=</span><span class=s2>&#34;Predictive Maintenance API&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 모델 로드</span>
</span></span><span class=line><span class=cl><span class=n>model</span> <span class=o>=</span> <span class=n>joblib</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=s2>&#34;models/failure_prediction_model.joblib&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>feature_processor</span> <span class=o>=</span> <span class=n>joblib</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=s2>&#34;models/feature_processor.joblib&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SensorData</span><span class=p>(</span><span class=n>BaseModel</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>equipment_id</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>timestamp</span><span class=p>:</span> <span class=nb>int</span>
</span></span><span class=line><span class=cl>    <span class=n>temperature</span><span class=p>:</span> <span class=nb>float</span>
</span></span><span class=line><span class=cl>    <span class=n>vibration</span><span class=p>:</span> <span class=nb>float</span>
</span></span><span class=line><span class=cl>    <span class=n>pressure</span><span class=p>:</span> <span class=nb>float</span>
</span></span><span class=line><span class=cl>    <span class=n>noise</span><span class=p>:</span> <span class=nb>float</span>
</span></span><span class=line><span class=cl>    <span class=n>equipment_type</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>installation_year</span><span class=p>:</span> <span class=nb>int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PredictionResponse</span><span class=p>(</span><span class=n>BaseModel</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>equipment_id</span><span class=p>:</span> <span class=nb>str</span>
</span></span><span class=line><span class=cl>    <span class=n>failure_probability</span><span class=p>:</span> <span class=nb>float</span>
</span></span><span class=line><span class=cl>    <span class=n>predicted_failure</span><span class=p>:</span> <span class=nb>bool</span>
</span></span><span class=line><span class=cl>    <span class=n>estimated_time_to_failure</span><span class=p>:</span> <span class=nb>float</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 유지보수 시스템에 알림 전송</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>send_maintenance_alert</span><span class=p>(</span><span class=n>equipment_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>probability</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>estimated_ttf</span><span class=p>:</span> <span class=nb>float</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>alert_data</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;equipment_id&#34;</span><span class=p>:</span> <span class=n>equipment_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;failure_probability&#34;</span><span class=p>:</span> <span class=n>probability</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;estimated_time_to_failure&#34;</span><span class=p>:</span> <span class=n>estimated_ttf</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;alert_level&#34;</span><span class=p>:</span> <span class=s2>&#34;high&#34;</span> <span class=k>if</span> <span class=n>probability</span> <span class=o>&gt;</span> <span class=mf>0.7</span> <span class=k>else</span> <span class=s2>&#34;medium&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;recommended_action&#34;</span><span class=p>:</span> <span class=s2>&#34;Schedule maintenance within 24 hours&#34;</span> <span class=k>if</span> <span class=n>probability</span> <span class=o>&gt;</span> <span class=mf>0.7</span> <span class=k>else</span> <span class=s2>&#34;Monitor closely&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;https://maintenance-system.example.com/api/alerts&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>json</span><span class=o>=</span><span class=n>alert_data</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>headers</span><span class=o>=</span><span class=p>{</span><span class=s2>&#34;Authorization&#34;</span><span class=p>:</span> <span class=s2>&#34;Bearer &#34;</span> <span class=o>+</span> <span class=n>API_KEY</span><span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>response</span><span class=o>.</span><span class=n>raise_for_status</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Failed to send alert: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.post</span><span class=p>(</span><span class=s2>&#34;/predict&#34;</span><span class=p>,</span> <span class=n>response_model</span><span class=o>=</span><span class=n>PredictionResponse</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>async</span> <span class=k>def</span> <span class=nf>predict</span><span class=p>(</span><span class=n>data</span><span class=p>:</span> <span class=n>SensorData</span><span class=p>,</span> <span class=n>background_tasks</span><span class=p>:</span> <span class=n>BackgroundTasks</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 입력 데이터를 DataFrame으로 변환</span>
</span></span><span class=line><span class=cl>        <span class=n>input_df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>([</span><span class=n>data</span><span class=o>.</span><span class=n>dict</span><span class=p>()])</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 특성 처리</span>
</span></span><span class=line><span class=cl>        <span class=n>features</span> <span class=o>=</span> <span class=n>feature_processor</span><span class=o>.</span><span class=n>transform</span><span class=p>(</span><span class=n>input_df</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 예측</span>
</span></span><span class=line><span class=cl>        <span class=n>failure_probability</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>model</span><span class=o>.</span><span class=n>predict_proba</span><span class=p>(</span><span class=n>features</span><span class=p>)[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=n>predicted_failure</span> <span class=o>=</span> <span class=n>failure_probability</span> <span class=o>&gt;</span> <span class=mf>0.5</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 고장까지 남은 예상 시간 계산 (별도 모델 또는 휴리스틱)</span>
</span></span><span class=line><span class=cl>        <span class=n>estimated_ttf</span> <span class=o>=</span> <span class=n>calculate_time_to_failure</span><span class=p>(</span><span class=n>failure_probability</span><span class=p>,</span> <span class=n>input_df</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 결과</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;equipment_id&#34;</span><span class=p>:</span> <span class=n>data</span><span class=o>.</span><span class=n>equipment_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;failure_probability&#34;</span><span class=p>:</span> <span class=n>failure_probability</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;predicted_failure&#34;</span><span class=p>:</span> <span class=n>predicted_failure</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;estimated_time_to_failure&#34;</span><span class=p>:</span> <span class=n>estimated_ttf</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 실패 확률이 높으면 알림 전송 (백그라운드 작업)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>failure_probability</span> <span class=o>&gt;</span> <span class=mf>0.5</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>background_tasks</span><span class=o>.</span><span class=n>add_task</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=n>send_maintenance_alert</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>data</span><span class=o>.</span><span class=n>equipment_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>failure_probability</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>estimated_ttf</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=n>HTTPException</span><span class=p>(</span><span class=n>status_code</span><span class=o>=</span><span class=mi>500</span><span class=p>,</span> <span class=n>detail</span><span class=o>=</span><span class=sa>f</span><span class=s2>&#34;Prediction error: </span><span class=si>{</span><span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>calculate_time_to_failure</span><span class=p>(</span><span class=n>probability</span><span class=p>,</span> <span class=n>sensor_data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># 간단한 예시: 확률이 높을수록 고장까지 남은 시간이 짧음</span>
</span></span><span class=line><span class=cl>    <span class=c1># 실제로는 더 복잡한 모델이나 휴리스틱이 필요</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>probability</span> <span class=o>&gt;</span> <span class=mf>0.9</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=mi>24</span>  <span class=c1># 24시간 이내</span>
</span></span><span class=line><span class=cl>    <span class=k>elif</span> <span class=n>probability</span> <span class=o>&gt;</span> <span class=mf>0.7</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=mi>72</span>  <span class=c1># 3일 이내</span>
</span></span><span class=line><span class=cl>    <span class=k>elif</span> <span class=n>probability</span> <span class=o>&gt;</span> <span class=mf>0.5</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=mi>168</span>  <span class=c1># 1주일 이내</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=mi>720</span>  <span class=c1># 30일 이내</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=625-모니터링-및-피드백-루프>6.2.5. 모니터링 및 피드백 루프<a hidden class=anchor aria-hidden=true href=#625-모니터링-및-피드백-루프>#</a></h4><ol><li><p><strong>모델 모니터링</strong>:</p><ul><li>예측 정확도 및 지연 시간 추적</li><li>거짓 경보 및 놓친 고장 분석</li></ul></li><li><p><strong>피드백 루프</strong>:</p><ul><li>유지보수 결과 데이터 수집</li><li>모델 성능 평가 및 정기적 재학습</li></ul></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1> 1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2> 2</a>
</span><span class=lnt id=hl-19-3><a class=lnlinks href=#hl-19-3> 3</a>
</span><span class=lnt id=hl-19-4><a class=lnlinks href=#hl-19-4> 4</a>
</span><span class=lnt id=hl-19-5><a class=lnlinks href=#hl-19-5> 5</a>
</span><span class=lnt id=hl-19-6><a class=lnlinks href=#hl-19-6> 6</a>
</span><span class=lnt id=hl-19-7><a class=lnlinks href=#hl-19-7> 7</a>
</span><span class=lnt id=hl-19-8><a class=lnlinks href=#hl-19-8> 8</a>
</span><span class=lnt id=hl-19-9><a class=lnlinks href=#hl-19-9> 9</a>
</span><span class=lnt id=hl-19-10><a class=lnlinks href=#hl-19-10>10</a>
</span><span class=lnt id=hl-19-11><a class=lnlinks href=#hl-19-11>11</a>
</span><span class=lnt id=hl-19-12><a class=lnlinks href=#hl-19-12>12</a>
</span><span class=lnt id=hl-19-13><a class=lnlinks href=#hl-19-13>13</a>
</span><span class=lnt id=hl-19-14><a class=lnlinks href=#hl-19-14>14</a>
</span><span class=lnt id=hl-19-15><a class=lnlinks href=#hl-19-15>15</a>
</span><span class=lnt id=hl-19-16><a class=lnlinks href=#hl-19-16>16</a>
</span><span class=lnt id=hl-19-17><a class=lnlinks href=#hl-19-17>17</a>
</span><span class=lnt id=hl-19-18><a class=lnlinks href=#hl-19-18>18</a>
</span><span class=lnt id=hl-19-19><a class=lnlinks href=#hl-19-19>19</a>
</span><span class=lnt id=hl-19-20><a class=lnlinks href=#hl-19-20>20</a>
</span><span class=lnt id=hl-19-21><a class=lnlinks href=#hl-19-21>21</a>
</span><span class=lnt id=hl-19-22><a class=lnlinks href=#hl-19-22>22</a>
</span><span class=lnt id=hl-19-23><a class=lnlinks href=#hl-19-23>23</a>
</span><span class=lnt id=hl-19-24><a class=lnlinks href=#hl-19-24>24</a>
</span><span class=lnt id=hl-19-25><a class=lnlinks href=#hl-19-25>25</a>
</span><span class=lnt id=hl-19-26><a class=lnlinks href=#hl-19-26>26</a>
</span><span class=lnt id=hl-19-27><a class=lnlinks href=#hl-19-27>27</a>
</span><span class=lnt id=hl-19-28><a class=lnlinks href=#hl-19-28>28</a>
</span><span class=lnt id=hl-19-29><a class=lnlinks href=#hl-19-29>29</a>
</span><span class=lnt id=hl-19-30><a class=lnlinks href=#hl-19-30>30</a>
</span><span class=lnt id=hl-19-31><a class=lnlinks href=#hl-19-31>31</a>
</span><span class=lnt id=hl-19-32><a class=lnlinks href=#hl-19-32>32</a>
</span><span class=lnt id=hl-19-33><a class=lnlinks href=#hl-19-33>33</a>
</span><span class=lnt id=hl-19-34><a class=lnlinks href=#hl-19-34>34</a>
</span><span class=lnt id=hl-19-35><a class=lnlinks href=#hl-19-35>35</a>
</span><span class=lnt id=hl-19-36><a class=lnlinks href=#hl-19-36>36</a>
</span><span class=lnt id=hl-19-37><a class=lnlinks href=#hl-19-37>37</a>
</span><span class=lnt id=hl-19-38><a class=lnlinks href=#hl-19-38>38</a>
</span><span class=lnt id=hl-19-39><a class=lnlinks href=#hl-19-39>39</a>
</span><span class=lnt id=hl-19-40><a class=lnlinks href=#hl-19-40>40</a>
</span><span class=lnt id=hl-19-41><a class=lnlinks href=#hl-19-41>41</a>
</span><span class=lnt id=hl-19-42><a class=lnlinks href=#hl-19-42>42</a>
</span><span class=lnt id=hl-19-43><a class=lnlinks href=#hl-19-43>43</a>
</span><span class=lnt id=hl-19-44><a class=lnlinks href=#hl-19-44>44</a>
</span><span class=lnt id=hl-19-45><a class=lnlinks href=#hl-19-45>45</a>
</span><span class=lnt id=hl-19-46><a class=lnlinks href=#hl-19-46>46</a>
</span><span class=lnt id=hl-19-47><a class=lnlinks href=#hl-19-47>47</a>
</span><span class=lnt id=hl-19-48><a class=lnlinks href=#hl-19-48>48</a>
</span><span class=lnt id=hl-19-49><a class=lnlinks href=#hl-19-49>49</a>
</span><span class=lnt id=hl-19-50><a class=lnlinks href=#hl-19-50>50</a>
</span><span class=lnt id=hl-19-51><a class=lnlinks href=#hl-19-51>51</a>
</span><span class=lnt id=hl-19-52><a class=lnlinks href=#hl-19-52>52</a>
</span><span class=lnt id=hl-19-53><a class=lnlinks href=#hl-19-53>53</a>
</span><span class=lnt id=hl-19-54><a class=lnlinks href=#hl-19-54>54</a>
</span><span class=lnt id=hl-19-55><a class=lnlinks href=#hl-19-55>55</a>
</span><span class=lnt id=hl-19-56><a class=lnlinks href=#hl-19-56>56</a>
</span><span class=lnt id=hl-19-57><a class=lnlinks href=#hl-19-57>57</a>
</span><span class=lnt id=hl-19-58><a class=lnlinks href=#hl-19-58>58</a>
</span><span class=lnt id=hl-19-59><a class=lnlinks href=#hl-19-59>59</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Prometheus와 Grafana를 사용한 모델 모니터링 설정</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>prometheus_client</span> <span class=kn>import</span> <span class=n>Counter</span><span class=p>,</span> <span class=n>Histogram</span><span class=p>,</span> <span class=n>Gauge</span><span class=p>,</span> <span class=n>start_http_server</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>threading</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 메트릭 정의</span>
</span></span><span class=line><span class=cl><span class=n>PREDICTION_COUNT</span> <span class=o>=</span> <span class=n>Counter</span><span class=p>(</span><span class=s1>&#39;predictive_maintenance_predictions_total&#39;</span><span class=p>,</span> <span class=s1>&#39;Total number of predictions&#39;</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;equipment_type&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>FALSE_ALARMS</span> <span class=o>=</span> <span class=n>Counter</span><span class=p>(</span><span class=s1>&#39;predictive_maintenance_false_alarms_total&#39;</span><span class=p>,</span> <span class=s1>&#39;Total number of false alarms&#39;</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;equipment_type&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>MISSED_FAILURES</span> <span class=o>=</span> <span class=n>Counter</span><span class=p>(</span><span class=s1>&#39;predictive_maintenance_missed_failures_total&#39;</span><span class=p>,</span> <span class=s1>&#39;Total number of missed failures&#39;</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;equipment_type&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>PREDICTION_LATENCY</span> <span class=o>=</span> <span class=n>Histogram</span><span class=p>(</span><span class=s1>&#39;predictive_maintenance_prediction_latency_seconds&#39;</span><span class=p>,</span> <span class=s1>&#39;Prediction latency in seconds&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>MODEL_ACCURACY</span> <span class=o>=</span> <span class=n>Gauge</span><span class=p>(</span><span class=s1>&#39;predictive_maintenance_model_accuracy&#39;</span><span class=p>,</span> <span class=s1>&#39;Current model accuracy&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>MODEL_DRIFT</span> <span class=o>=</span> <span class=n>Gauge</span><span class=p>(</span><span class=s1>&#39;predictive_maintenance_model_drift&#39;</span><span class=p>,</span> <span class=s1>&#39;Model performance drift&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 모델 성능 모니터링 스레드</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>performance_monitoring</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># 최근 예측 결과와 실제 결과 로드</span>
</span></span><span class=line><span class=cl>            <span class=n>results</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=s1>&#39;recent_prediction_results.csv&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 정확도 계산</span>
</span></span><span class=line><span class=cl>            <span class=n>accuracy</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>mean</span><span class=p>(</span><span class=n>results</span><span class=p>[</span><span class=s1>&#39;predicted_failure&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=n>results</span><span class=p>[</span><span class=s1>&#39;actual_failure&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>            <span class=n>MODEL_ACCURACY</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=n>accuracy</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 드리프트 감지 (현재 성능 vs. 기준 성능)</span>
</span></span><span class=line><span class=cl>            <span class=n>baseline_accuracy</span> <span class=o>=</span> <span class=mf>0.85</span>  <span class=c1># 예시 값</span>
</span></span><span class=line><span class=cl>            <span class=n>drift</span> <span class=o>=</span> <span class=n>baseline_accuracy</span> <span class=o>-</span> <span class=n>accuracy</span>
</span></span><span class=line><span class=cl>            <span class=n>MODEL_DRIFT</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=n>drift</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 장비 유형별 거짓 경보 및 놓친 고장 계산</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>eq_type</span> <span class=ow>in</span> <span class=n>results</span><span class=p>[</span><span class=s1>&#39;equipment_type&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>unique</span><span class=p>():</span>
</span></span><span class=line><span class=cl>                <span class=n>type_results</span> <span class=o>=</span> <span class=n>results</span><span class=p>[</span><span class=n>results</span><span class=p>[</span><span class=s1>&#39;equipment_type&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=n>eq_type</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=c1># 거짓 경보 (실제로는 고장이 없었는데 고장이라고 예측)</span>
</span></span><span class=line><span class=cl>                <span class=n>false_alarms</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>((</span><span class=n>type_results</span><span class=p>[</span><span class=s1>&#39;predicted_failure&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=kc>True</span><span class=p>)</span> <span class=o>&amp;</span> 
</span></span><span class=line><span class=cl>                                    <span class=p>(</span><span class=n>type_results</span><span class=p>[</span><span class=s1>&#39;actual_failure&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=kc>False</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                <span class=n>FALSE_ALARMS</span><span class=o>.</span><span class=n>labels</span><span class=p>(</span><span class=n>equipment_type</span><span class=o>=</span><span class=n>eq_type</span><span class=p>)</span><span class=o>.</span><span class=n>inc</span><span class=p>(</span><span class=n>false_alarms</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=c1># 놓친 고장 (실제로는 고장이 있었는데 정상이라고 예측)</span>
</span></span><span class=line><span class=cl>                <span class=n>missed_failures</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>((</span><span class=n>type_results</span><span class=p>[</span><span class=s1>&#39;predicted_failure&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=kc>False</span><span class=p>)</span> <span class=o>&amp;</span> 
</span></span><span class=line><span class=cl>                                      <span class=p>(</span><span class=n>type_results</span><span class=p>[</span><span class=s1>&#39;actual_failure&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=kc>True</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                <span class=n>MISSED_FAILURES</span><span class=o>.</span><span class=n>labels</span><span class=p>(</span><span class=n>equipment_type</span><span class=o>=</span><span class=n>eq_type</span><span class=p>)</span><span class=o>.</span><span class=n>inc</span><span class=p>(</span><span class=n>missed_failures</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Monitoring error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 1시간마다 실행</span>
</span></span><span class=line><span class=cl>        <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>3600</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 모니터링 서버 시작</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>start_monitoring_server</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># Prometheus 메트릭 서버 시작</span>
</span></span><span class=line><span class=cl>    <span class=n>start_http_server</span><span class=p>(</span><span class=mi>8000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 성능 모니터링 스레드 시작</span>
</span></span><span class=line><span class=cl>    <span class=n>monitoring_thread</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>performance_monitoring</span><span class=p>,</span> <span class=n>daemon</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>monitoring_thread</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=626-자동화된-재학습-파이프라인>6.2.6. 자동화된 재학습 파이프라인<a hidden class=anchor aria-hidden=true href=#626-자동화된-재학습-파이프라인>#</a></h4><p>모델 성능이 일정 임계값 이하로 떨어지면 자동으로 재학습을 트리거하는 파이프라인:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-20-1><a class=lnlinks href=#hl-20-1>  1</a>
</span><span class=lnt id=hl-20-2><a class=lnlinks href=#hl-20-2>  2</a>
</span><span class=lnt id=hl-20-3><a class=lnlinks href=#hl-20-3>  3</a>
</span><span class=lnt id=hl-20-4><a class=lnlinks href=#hl-20-4>  4</a>
</span><span class=lnt id=hl-20-5><a class=lnlinks href=#hl-20-5>  5</a>
</span><span class=lnt id=hl-20-6><a class=lnlinks href=#hl-20-6>  6</a>
</span><span class=lnt id=hl-20-7><a class=lnlinks href=#hl-20-7>  7</a>
</span><span class=lnt id=hl-20-8><a class=lnlinks href=#hl-20-8>  8</a>
</span><span class=lnt id=hl-20-9><a class=lnlinks href=#hl-20-9>  9</a>
</span><span class=lnt id=hl-20-10><a class=lnlinks href=#hl-20-10> 10</a>
</span><span class=lnt id=hl-20-11><a class=lnlinks href=#hl-20-11> 11</a>
</span><span class=lnt id=hl-20-12><a class=lnlinks href=#hl-20-12> 12</a>
</span><span class=lnt id=hl-20-13><a class=lnlinks href=#hl-20-13> 13</a>
</span><span class=lnt id=hl-20-14><a class=lnlinks href=#hl-20-14> 14</a>
</span><span class=lnt id=hl-20-15><a class=lnlinks href=#hl-20-15> 15</a>
</span><span class=lnt id=hl-20-16><a class=lnlinks href=#hl-20-16> 16</a>
</span><span class=lnt id=hl-20-17><a class=lnlinks href=#hl-20-17> 17</a>
</span><span class=lnt id=hl-20-18><a class=lnlinks href=#hl-20-18> 18</a>
</span><span class=lnt id=hl-20-19><a class=lnlinks href=#hl-20-19> 19</a>
</span><span class=lnt id=hl-20-20><a class=lnlinks href=#hl-20-20> 20</a>
</span><span class=lnt id=hl-20-21><a class=lnlinks href=#hl-20-21> 21</a>
</span><span class=lnt id=hl-20-22><a class=lnlinks href=#hl-20-22> 22</a>
</span><span class=lnt id=hl-20-23><a class=lnlinks href=#hl-20-23> 23</a>
</span><span class=lnt id=hl-20-24><a class=lnlinks href=#hl-20-24> 24</a>
</span><span class=lnt id=hl-20-25><a class=lnlinks href=#hl-20-25> 25</a>
</span><span class=lnt id=hl-20-26><a class=lnlinks href=#hl-20-26> 26</a>
</span><span class=lnt id=hl-20-27><a class=lnlinks href=#hl-20-27> 27</a>
</span><span class=lnt id=hl-20-28><a class=lnlinks href=#hl-20-28> 28</a>
</span><span class=lnt id=hl-20-29><a class=lnlinks href=#hl-20-29> 29</a>
</span><span class=lnt id=hl-20-30><a class=lnlinks href=#hl-20-30> 30</a>
</span><span class=lnt id=hl-20-31><a class=lnlinks href=#hl-20-31> 31</a>
</span><span class=lnt id=hl-20-32><a class=lnlinks href=#hl-20-32> 32</a>
</span><span class=lnt id=hl-20-33><a class=lnlinks href=#hl-20-33> 33</a>
</span><span class=lnt id=hl-20-34><a class=lnlinks href=#hl-20-34> 34</a>
</span><span class=lnt id=hl-20-35><a class=lnlinks href=#hl-20-35> 35</a>
</span><span class=lnt id=hl-20-36><a class=lnlinks href=#hl-20-36> 36</a>
</span><span class=lnt id=hl-20-37><a class=lnlinks href=#hl-20-37> 37</a>
</span><span class=lnt id=hl-20-38><a class=lnlinks href=#hl-20-38> 38</a>
</span><span class=lnt id=hl-20-39><a class=lnlinks href=#hl-20-39> 39</a>
</span><span class=lnt id=hl-20-40><a class=lnlinks href=#hl-20-40> 40</a>
</span><span class=lnt id=hl-20-41><a class=lnlinks href=#hl-20-41> 41</a>
</span><span class=lnt id=hl-20-42><a class=lnlinks href=#hl-20-42> 42</a>
</span><span class=lnt id=hl-20-43><a class=lnlinks href=#hl-20-43> 43</a>
</span><span class=lnt id=hl-20-44><a class=lnlinks href=#hl-20-44> 44</a>
</span><span class=lnt id=hl-20-45><a class=lnlinks href=#hl-20-45> 45</a>
</span><span class=lnt id=hl-20-46><a class=lnlinks href=#hl-20-46> 46</a>
</span><span class=lnt id=hl-20-47><a class=lnlinks href=#hl-20-47> 47</a>
</span><span class=lnt id=hl-20-48><a class=lnlinks href=#hl-20-48> 48</a>
</span><span class=lnt id=hl-20-49><a class=lnlinks href=#hl-20-49> 49</a>
</span><span class=lnt id=hl-20-50><a class=lnlinks href=#hl-20-50> 50</a>
</span><span class=lnt id=hl-20-51><a class=lnlinks href=#hl-20-51> 51</a>
</span><span class=lnt id=hl-20-52><a class=lnlinks href=#hl-20-52> 52</a>
</span><span class=lnt id=hl-20-53><a class=lnlinks href=#hl-20-53> 53</a>
</span><span class=lnt id=hl-20-54><a class=lnlinks href=#hl-20-54> 54</a>
</span><span class=lnt id=hl-20-55><a class=lnlinks href=#hl-20-55> 55</a>
</span><span class=lnt id=hl-20-56><a class=lnlinks href=#hl-20-56> 56</a>
</span><span class=lnt id=hl-20-57><a class=lnlinks href=#hl-20-57> 57</a>
</span><span class=lnt id=hl-20-58><a class=lnlinks href=#hl-20-58> 58</a>
</span><span class=lnt id=hl-20-59><a class=lnlinks href=#hl-20-59> 59</a>
</span><span class=lnt id=hl-20-60><a class=lnlinks href=#hl-20-60> 60</a>
</span><span class=lnt id=hl-20-61><a class=lnlinks href=#hl-20-61> 61</a>
</span><span class=lnt id=hl-20-62><a class=lnlinks href=#hl-20-62> 62</a>
</span><span class=lnt id=hl-20-63><a class=lnlinks href=#hl-20-63> 63</a>
</span><span class=lnt id=hl-20-64><a class=lnlinks href=#hl-20-64> 64</a>
</span><span class=lnt id=hl-20-65><a class=lnlinks href=#hl-20-65> 65</a>
</span><span class=lnt id=hl-20-66><a class=lnlinks href=#hl-20-66> 66</a>
</span><span class=lnt id=hl-20-67><a class=lnlinks href=#hl-20-67> 67</a>
</span><span class=lnt id=hl-20-68><a class=lnlinks href=#hl-20-68> 68</a>
</span><span class=lnt id=hl-20-69><a class=lnlinks href=#hl-20-69> 69</a>
</span><span class=lnt id=hl-20-70><a class=lnlinks href=#hl-20-70> 70</a>
</span><span class=lnt id=hl-20-71><a class=lnlinks href=#hl-20-71> 71</a>
</span><span class=lnt id=hl-20-72><a class=lnlinks href=#hl-20-72> 72</a>
</span><span class=lnt id=hl-20-73><a class=lnlinks href=#hl-20-73> 73</a>
</span><span class=lnt id=hl-20-74><a class=lnlinks href=#hl-20-74> 74</a>
</span><span class=lnt id=hl-20-75><a class=lnlinks href=#hl-20-75> 75</a>
</span><span class=lnt id=hl-20-76><a class=lnlinks href=#hl-20-76> 76</a>
</span><span class=lnt id=hl-20-77><a class=lnlinks href=#hl-20-77> 77</a>
</span><span class=lnt id=hl-20-78><a class=lnlinks href=#hl-20-78> 78</a>
</span><span class=lnt id=hl-20-79><a class=lnlinks href=#hl-20-79> 79</a>
</span><span class=lnt id=hl-20-80><a class=lnlinks href=#hl-20-80> 80</a>
</span><span class=lnt id=hl-20-81><a class=lnlinks href=#hl-20-81> 81</a>
</span><span class=lnt id=hl-20-82><a class=lnlinks href=#hl-20-82> 82</a>
</span><span class=lnt id=hl-20-83><a class=lnlinks href=#hl-20-83> 83</a>
</span><span class=lnt id=hl-20-84><a class=lnlinks href=#hl-20-84> 84</a>
</span><span class=lnt id=hl-20-85><a class=lnlinks href=#hl-20-85> 85</a>
</span><span class=lnt id=hl-20-86><a class=lnlinks href=#hl-20-86> 86</a>
</span><span class=lnt id=hl-20-87><a class=lnlinks href=#hl-20-87> 87</a>
</span><span class=lnt id=hl-20-88><a class=lnlinks href=#hl-20-88> 88</a>
</span><span class=lnt id=hl-20-89><a class=lnlinks href=#hl-20-89> 89</a>
</span><span class=lnt id=hl-20-90><a class=lnlinks href=#hl-20-90> 90</a>
</span><span class=lnt id=hl-20-91><a class=lnlinks href=#hl-20-91> 91</a>
</span><span class=lnt id=hl-20-92><a class=lnlinks href=#hl-20-92> 92</a>
</span><span class=lnt id=hl-20-93><a class=lnlinks href=#hl-20-93> 93</a>
</span><span class=lnt id=hl-20-94><a class=lnlinks href=#hl-20-94> 94</a>
</span><span class=lnt id=hl-20-95><a class=lnlinks href=#hl-20-95> 95</a>
</span><span class=lnt id=hl-20-96><a class=lnlinks href=#hl-20-96> 96</a>
</span><span class=lnt id=hl-20-97><a class=lnlinks href=#hl-20-97> 97</a>
</span><span class=lnt id=hl-20-98><a class=lnlinks href=#hl-20-98> 98</a>
</span><span class=lnt id=hl-20-99><a class=lnlinks href=#hl-20-99> 99</a>
</span><span class=lnt id=hl-20-100><a class=lnlinks href=#hl-20-100>100</a>
</span><span class=lnt id=hl-20-101><a class=lnlinks href=#hl-20-101>101</a>
</span><span class=lnt id=hl-20-102><a class=lnlinks href=#hl-20-102>102</a>
</span><span class=lnt id=hl-20-103><a class=lnlinks href=#hl-20-103>103</a>
</span><span class=lnt id=hl-20-104><a class=lnlinks href=#hl-20-104>104</a>
</span><span class=lnt id=hl-20-105><a class=lnlinks href=#hl-20-105>105</a>
</span><span class=lnt id=hl-20-106><a class=lnlinks href=#hl-20-106>106</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Airflow DAG로 구현한 자동 재학습 파이프라인</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>airflow</span> <span class=kn>import</span> <span class=n>DAG</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>airflow.operators.python_operator</span> <span class=kn>import</span> <span class=n>PythonOperator</span><span class=p>,</span> <span class=n>BranchPythonOperator</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>airflow.operators.bash_operator</span> <span class=kn>import</span> <span class=n>BashOperator</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>airflow.sensors.external_task_sensor</span> <span class=kn>import</span> <span class=n>ExternalTaskSensor</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>airflow.utils.dates</span> <span class=kn>import</span> <span class=n>days_ago</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>check_model_performance</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;모델 성능 확인 및 재학습 필요 여부 결정&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 모니터링 시스템에서 현재 모델 정확도 가져오기</span>
</span></span><span class=line><span class=cl>        <span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;http://monitoring-service:8000/metrics&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>metrics</span> <span class=o>=</span> <span class=n>response</span><span class=o>.</span><span class=n>text</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>current_accuracy</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>metrics</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=s1>&#39;predictive_maintenance_model_accuracy&#39;</span> <span class=ow>in</span> <span class=n>line</span> <span class=ow>and</span> <span class=s1>&#39;#&#39;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>line</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>current_accuracy</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>line</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>)[</span><span class=mi>1</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>current_accuracy</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=s1>&#39;skip_retraining&#39;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 정확도가 임계값 이하면 재학습</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>current_accuracy</span> <span class=o>&lt;</span> <span class=mf>0.75</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=s1>&#39;start_retraining&#39;</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=s1>&#39;skip_retraining&#39;</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Error checking model performance: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s1>&#39;skip_retraining&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>prepare_training_data</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;재학습을 위한 데이터 준비&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1># 새로운 데이터 수집 및 전처리</span>
</span></span><span class=line><span class=cl>    <span class=c1># 여기서는 상세 구현 생략</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>train_new_model</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;새 모델 학습&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1># 모델 학습 코드</span>
</span></span><span class=line><span class=cl>    <span class=c1># 여기서는 상세 구현 생략</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>evaluate_new_model</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;새 모델 평가&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1># 모델 평가 코드</span>
</span></span><span class=line><span class=cl>    <span class=c1># 여기서는 상세 구현 생략</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>deploy_new_model</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;새 모델 배포&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1># 모델 배포 코드</span>
</span></span><span class=line><span class=cl>    <span class=c1># 여기서는 상세 구현 생략</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># DAG 정의</span>
</span></span><span class=line><span class=cl><span class=n>dag</span> <span class=o>=</span> <span class=n>DAG</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;predictive_maintenance_retraining&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>description</span><span class=o>=</span><span class=s1>&#39;Automated retraining pipeline for predictive maintenance model&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>schedule_interval</span><span class=o>=</span><span class=s1>&#39;0 0 * * *&#39;</span><span class=p>,</span>  <span class=c1># 매일 자정에 실행</span>
</span></span><span class=line><span class=cl>    <span class=n>start_date</span><span class=o>=</span><span class=n>days_ago</span><span class=p>(</span><span class=mi>1</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=n>catchup</span><span class=o>=</span><span class=kc>False</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>check_performance</span> <span class=o>=</span> <span class=n>BranchPythonOperator</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>task_id</span><span class=o>=</span><span class=s1>&#39;check_model_performance&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>python_callable</span><span class=o>=</span><span class=n>check_model_performance</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>dag</span><span class=o>=</span><span class=n>dag</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>skip_retraining</span> <span class=o>=</span> <span class=n>BashOperator</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>task_id</span><span class=o>=</span><span class=s1>&#39;skip_retraining&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>bash_command</span><span class=o>=</span><span class=s1>&#39;echo &#34;Skipping retraining, model performance is still good&#34;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>dag</span><span class=o>=</span><span class=n>dag</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>prepare_data</span> <span class=o>=</span> <span class=n>PythonOperator</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>task_id</span><span class=o>=</span><span class=s1>&#39;start_retraining&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>python_callable</span><span class=o>=</span><span class=n>prepare_training_data</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>dag</span><span class=o>=</span><span class=n>dag</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>train_model</span> <span class=o>=</span> <span class=n>PythonOperator</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>task_id</span><span class=o>=</span><span class=s1>&#39;train_new_model&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>python_callable</span><span class=o>=</span><span class=n>train_new_model</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>dag</span><span class=o>=</span><span class=n>dag</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>evaluate_model</span> <span class=o>=</span> <span class=n>PythonOperator</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>task_id</span><span class=o>=</span><span class=s1>&#39;evaluate_new_model&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>python_callable</span><span class=o>=</span><span class=n>evaluate_new_model</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>dag</span><span class=o>=</span><span class=n>dag</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>deploy_model</span> <span class=o>=</span> <span class=n>PythonOperator</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>task_id</span><span class=o>=</span><span class=s1>&#39;deploy_new_model&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>python_callable</span><span class=o>=</span><span class=n>deploy_new_model</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>dag</span><span class=o>=</span><span class=n>dag</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>check_performance</span> <span class=o>&gt;&gt;</span> <span class=p>[</span><span class=n>skip_retraining</span><span class=p>,</span> <span class=n>prepare_data</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>prepare_data</span> <span class=o>&gt;&gt;</span> <span class=n>train_model</span> <span class=o>&gt;&gt;</span> <span class=n>evaluate_model</span> <span class=o>&gt;&gt;</span> <span class=n>deploy_model</span>
</span></span></code></pre></td></tr></table></div></div><p>이 예측 유지보수 시스템 사례는 MLOps의 여러 구성 요소를 실제로 적용한 예시입니다. 실시간 데이터 파이프라인, 모델 개발 및 배포, 모니터링 및 자동 재학습을 통해 장비 고장을 예측하고 유지보수 비용을 최적화합니다.</p><h2 id=7-mlops-도입-시-고려사항-및-모범-사례>7. MLOps 도입 시 고려사항 및 모범 사례<a hidden class=anchor aria-hidden=true href=#7-mlops-도입-시-고려사항-및-모범-사례>#</a></h2><p>MLOps를 조직에 도입할 때 고려해야 할 사항과 모범 사례에 대해 알아보겠습니다.</p><h3 id=71-조직적-고려사항>7.1. 조직적 고려사항<a hidden class=anchor aria-hidden=true href=#71-조직적-고려사항>#</a></h3><h4 id=711-팀-구조-및-역할>7.1.1. 팀 구조 및 역할<a hidden class=anchor aria-hidden=true href=#711-팀-구조-및-역할>#</a></h4><p>MLOps는 여러 전문 분야의 협업이 필요합니다:</p><ul><li><strong>데이터 과학자</strong>: 모델 개발, 실험, 알고리즘 선택, 평가</li><li><strong>ML 엔지니어</strong>: 모델 최적화, 확장 가능한 학습 파이프라인 구축</li><li><strong>데이터 엔지니어</strong>: 데이터 파이프라인, 특성 스토어, 데이터 품질 관리</li><li><strong>DevOps 엔지니어</strong>: 인프라, CI/CD, 모니터링, 자동화</li><li><strong>도메인 전문가</strong>: 비즈니스 문제 정의, 평가 메트릭 선정</li></ul><p>이러한 역할들이 효과적으로 협업할 수 있는 팀 구조 설계가 중요합니다. 조직의 규모와 성숙도에 따라 한 사람이 여러 역할을 맡거나, 별도의 전담 팀을 구성할 수 있습니다.</p><h4 id=712-문화적-변화>7.1.2. 문화적 변화<a hidden class=anchor aria-hidden=true href=#712-문화적-변화>#</a></h4><p>MLOps 도입은 기술적 변화뿐만 아니라 문화적 변화도 필요합니다:</p><ul><li><strong>실험 문화</strong>: 실패를 두려워하지 않고 빠르게 실험하고 학습하는 문화</li><li><strong>협업 문화</strong>: 다양한 전문가 간의 원활한 협업과 지식 공유</li><li><strong>자동화 지향</strong>: 반복적인 작업을 자동화하는 것을 중요시하는 태도</li><li><strong>문서화 습관</strong>: 코드, 모델, 실험, 결정 사항에 대한 철저한 문서화</li></ul><h3 id=72-기술적-모범-사례>7.2. 기술적 모범 사례<a hidden class=anchor aria-hidden=true href=#72-기술적-모범-사례>#</a></h3><h4 id=721-코드-및-아키텍처>7.2.1. 코드 및 아키텍처<a hidden class=anchor aria-hidden=true href=#721-코드-및-아키텍처>#</a></h4><ul><li><strong>모듈화</strong>: 파이프라인의 각 단계를 독립적인 모듈로 구성</li><li><strong>설정 관리</strong>: 코드와 설정을 분리하여 환경별 설정 관리</li><li><strong>인터페이스 설계</strong>: 명확한 입출력 인터페이스로 구성 요소 간 통합 용이성 확보</li><li><strong>확장성 고려</strong>: 데이터 양과 모델 복잡성 증가에 대비한 설계</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1> 1</a>
</span><span class=lnt id=hl-21-2><a class=lnlinks href=#hl-21-2> 2</a>
</span><span class=lnt id=hl-21-3><a class=lnlinks href=#hl-21-3> 3</a>
</span><span class=lnt id=hl-21-4><a class=lnlinks href=#hl-21-4> 4</a>
</span><span class=lnt id=hl-21-5><a class=lnlinks href=#hl-21-5> 5</a>
</span><span class=lnt id=hl-21-6><a class=lnlinks href=#hl-21-6> 6</a>
</span><span class=lnt id=hl-21-7><a class=lnlinks href=#hl-21-7> 7</a>
</span><span class=lnt id=hl-21-8><a class=lnlinks href=#hl-21-8> 8</a>
</span><span class=lnt id=hl-21-9><a class=lnlinks href=#hl-21-9> 9</a>
</span><span class=lnt id=hl-21-10><a class=lnlinks href=#hl-21-10>10</a>
</span><span class=lnt id=hl-21-11><a class=lnlinks href=#hl-21-11>11</a>
</span><span class=lnt id=hl-21-12><a class=lnlinks href=#hl-21-12>12</a>
</span><span class=lnt id=hl-21-13><a class=lnlinks href=#hl-21-13>13</a>
</span><span class=lnt id=hl-21-14><a class=lnlinks href=#hl-21-14>14</a>
</span><span class=lnt id=hl-21-15><a class=lnlinks href=#hl-21-15>15</a>
</span><span class=lnt id=hl-21-16><a class=lnlinks href=#hl-21-16>16</a>
</span><span class=lnt id=hl-21-17><a class=lnlinks href=#hl-21-17>17</a>
</span><span class=lnt id=hl-21-18><a class=lnlinks href=#hl-21-18>18</a>
</span><span class=lnt id=hl-21-19><a class=lnlinks href=#hl-21-19>19</a>
</span><span class=lnt id=hl-21-20><a class=lnlinks href=#hl-21-20>20</a>
</span><span class=lnt id=hl-21-21><a class=lnlinks href=#hl-21-21>21</a>
</span><span class=lnt id=hl-21-22><a class=lnlinks href=#hl-21-22>22</a>
</span><span class=lnt id=hl-21-23><a class=lnlinks href=#hl-21-23>23</a>
</span><span class=lnt id=hl-21-24><a class=lnlinks href=#hl-21-24>24</a>
</span><span class=lnt id=hl-21-25><a class=lnlinks href=#hl-21-25>25</a>
</span><span class=lnt id=hl-21-26><a class=lnlinks href=#hl-21-26>26</a>
</span><span class=lnt id=hl-21-27><a class=lnlinks href=#hl-21-27>27</a>
</span><span class=lnt id=hl-21-28><a class=lnlinks href=#hl-21-28>28</a>
</span><span class=lnt id=hl-21-29><a class=lnlinks href=#hl-21-29>29</a>
</span><span class=lnt id=hl-21-30><a class=lnlinks href=#hl-21-30>30</a>
</span><span class=lnt id=hl-21-31><a class=lnlinks href=#hl-21-31>31</a>
</span><span class=lnt id=hl-21-32><a class=lnlinks href=#hl-21-32>32</a>
</span><span class=lnt id=hl-21-33><a class=lnlinks href=#hl-21-33>33</a>
</span><span class=lnt id=hl-21-34><a class=lnlinks href=#hl-21-34>34</a>
</span><span class=lnt id=hl-21-35><a class=lnlinks href=#hl-21-35>35</a>
</span><span class=lnt id=hl-21-36><a class=lnlinks href=#hl-21-36>36</a>
</span><span class=lnt id=hl-21-37><a class=lnlinks href=#hl-21-37>37</a>
</span><span class=lnt id=hl-21-38><a class=lnlinks href=#hl-21-38>38</a>
</span><span class=lnt id=hl-21-39><a class=lnlinks href=#hl-21-39>39</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 설정과 코드 분리 예시</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>yaml</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>load_config</span><span class=p>(</span><span class=n>config_path</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;환경에 따른 설정 로드&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1># 기본 설정 파일</span>
</span></span><span class=line><span class=cl>    <span class=n>config_path</span> <span class=o>=</span> <span class=n>config_path</span> <span class=ow>or</span> <span class=n>os</span><span class=o>.</span><span class=n>getenv</span><span class=p>(</span><span class=s2>&#34;MODEL_CONFIG_PATH&#34;</span><span class=p>,</span> <span class=s2>&#34;config/default.yaml&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>config_path</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>config</span> <span class=o>=</span> <span class=n>yaml</span><span class=o>.</span><span class=n>safe_load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 환경 변수로 설정 덮어쓰기</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>key</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>&#34;MODEL_&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>config_key</span> <span class=o>=</span> <span class=n>key</span><span class=p>[</span><span class=mi>6</span><span class=p>:]</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=n>nested_keys</span> <span class=o>=</span> <span class=n>config_key</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;_&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># 중첩된 설정 처리</span>
</span></span><span class=line><span class=cl>            <span class=n>current</span> <span class=o>=</span> <span class=n>config</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>k</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>nested_keys</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>i</span> <span class=o>==</span> <span class=nb>len</span><span class=p>(</span><span class=n>nested_keys</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=c1># 값 타입 변환 (문자열, 숫자, 불리언)</span>
</span></span><span class=line><span class=cl>                    <span class=k>if</span> <span class=n>value</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=ow>in</span> <span class=p>[</span><span class=s1>&#39;true&#39;</span><span class=p>,</span> <span class=s1>&#39;yes&#39;</span><span class=p>,</span> <span class=s1>&#39;1&#39;</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>                        <span class=n>current</span><span class=p>[</span><span class=n>k</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>                    <span class=k>elif</span> <span class=n>value</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=ow>in</span> <span class=p>[</span><span class=s1>&#39;false&#39;</span><span class=p>,</span> <span class=s1>&#39;no&#39;</span><span class=p>,</span> <span class=s1>&#39;0&#39;</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>                        <span class=n>current</span><span class=p>[</span><span class=n>k</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>                    <span class=k>elif</span> <span class=n>value</span><span class=o>.</span><span class=n>isdigit</span><span class=p>():</span>
</span></span><span class=line><span class=cl>                        <span class=n>current</span><span class=p>[</span><span class=n>k</span><span class=p>]</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=k>elif</span> <span class=n>value</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span><span class=o>.</span><span class=n>isdigit</span><span class=p>():</span>
</span></span><span class=line><span class=cl>                        <span class=n>current</span><span class=p>[</span><span class=n>k</span><span class=p>]</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                        <span class=n>current</span><span class=p>[</span><span class=n>k</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>
</span></span><span class=line><span class=cl>                <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=k>if</span> <span class=n>k</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>current</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                        <span class=n>current</span><span class=p>[</span><span class=n>k</span><span class=p>]</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>                    <span class=n>current</span> <span class=o>=</span> <span class=n>current</span><span class=p>[</span><span class=n>k</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>config</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=722-데이터-관리>7.2.2. 데이터 관리<a hidden class=anchor aria-hidden=true href=#722-데이터-관리>#</a></h4><ul><li><strong>데이터 버전 관리</strong>: 데이터 변화를 추적하고 재현 가능한 실험 보장</li><li><strong>데이터 검증</strong>: 데이터 품질, 스키마, 통계적 특성 검증</li><li><strong>데이터 리니지(Lineage)</strong>: 데이터의 출처와 변환 과정 추적</li><li><strong>특성 스토어(Feature Store)</strong>: 특성 계산 및 관리 중앙화</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1> 1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2> 2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3> 3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4> 4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5> 5</a>
</span><span class=lnt id=hl-22-6><a class=lnlinks href=#hl-22-6> 6</a>
</span><span class=lnt id=hl-22-7><a class=lnlinks href=#hl-22-7> 7</a>
</span><span class=lnt id=hl-22-8><a class=lnlinks href=#hl-22-8> 8</a>
</span><span class=lnt id=hl-22-9><a class=lnlinks href=#hl-22-9> 9</a>
</span><span class=lnt id=hl-22-10><a class=lnlinks href=#hl-22-10>10</a>
</span><span class=lnt id=hl-22-11><a class=lnlinks href=#hl-22-11>11</a>
</span><span class=lnt id=hl-22-12><a class=lnlinks href=#hl-22-12>12</a>
</span><span class=lnt id=hl-22-13><a class=lnlinks href=#hl-22-13>13</a>
</span><span class=lnt id=hl-22-14><a class=lnlinks href=#hl-22-14>14</a>
</span><span class=lnt id=hl-22-15><a class=lnlinks href=#hl-22-15>15</a>
</span><span class=lnt id=hl-22-16><a class=lnlinks href=#hl-22-16>16</a>
</span><span class=lnt id=hl-22-17><a class=lnlinks href=#hl-22-17>17</a>
</span><span class=lnt id=hl-22-18><a class=lnlinks href=#hl-22-18>18</a>
</span><span class=lnt id=hl-22-19><a class=lnlinks href=#hl-22-19>19</a>
</span><span class=lnt id=hl-22-20><a class=lnlinks href=#hl-22-20>20</a>
</span><span class=lnt id=hl-22-21><a class=lnlinks href=#hl-22-21>21</a>
</span><span class=lnt id=hl-22-22><a class=lnlinks href=#hl-22-22>22</a>
</span><span class=lnt id=hl-22-23><a class=lnlinks href=#hl-22-23>23</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Great Expectations를 사용한 데이터 검증 예시</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>great_expectations</span> <span class=k>as</span> <span class=nn>ge</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>validate_training_data</span><span class=p>(</span><span class=n>data_path</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;학습 데이터 검증&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1># 데이터 로드</span>
</span></span><span class=line><span class=cl>    <span class=n>df</span> <span class=o>=</span> <span class=n>ge</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=n>data_path</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 데이터 품질 기대치 설정</span>
</span></span><span class=line><span class=cl>    <span class=n>df</span><span class=o>.</span><span class=n>expect_column_values_to_not_be_null</span><span class=p>(</span><span class=s1>&#39;customer_id&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>df</span><span class=o>.</span><span class=n>expect_column_values_to_be_between</span><span class=p>(</span><span class=s1>&#39;age&#39;</span><span class=p>,</span> <span class=mi>18</span><span class=p>,</span> <span class=mi>120</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>df</span><span class=o>.</span><span class=n>expect_column_values_to_be_in_set</span><span class=p>(</span><span class=s1>&#39;gender&#39;</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;M&#39;</span><span class=p>,</span> <span class=s1>&#39;F&#39;</span><span class=p>,</span> <span class=s1>&#39;O&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>    <span class=n>df</span><span class=o>.</span><span class=n>expect_column_mean_to_be_between</span><span class=p>(</span><span class=s1>&#39;income&#39;</span><span class=p>,</span> <span class=mi>20000</span><span class=p>,</span> <span class=mi>200000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 검증 결과</span>
</span></span><span class=line><span class=cl>    <span class=n>validation_result</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>validate</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=ow>not</span> <span class=n>validation_result</span><span class=o>.</span><span class=n>success</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>result</span> <span class=ow>in</span> <span class=n>validation_result</span><span class=o>.</span><span class=n>results</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=n>result</span><span class=o>.</span><span class=n>success</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Validation error: </span><span class=si>{</span><span class=n>result</span><span class=o>.</span><span class=n>expectation_config</span><span class=o>.</span><span class=n>expectation_type</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>validation_result</span><span class=o>.</span><span class=n>success</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=723-모델-관리>7.2.3. 모델 관리<a hidden class=anchor aria-hidden=true href=#723-모델-관리>#</a></h4><ul><li><strong>모델 레지스트리</strong>: 모델 버전, 메타데이터, 성능 메트릭 중앙 관리</li><li><strong>모델 패키징</strong>: 모델과 의존성을 함께 패키징하여 환경 일관성 확보</li><li><strong>A/B 테스트</strong>: 새 모델 배포 시 점진적 출시 및 성능 비교</li><li><strong>모델 계보(Lineage) 추적</strong>: 모델의 데이터, 코드, 하이퍼파라미터 관계 추적</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1> 1</a>
</span><span class=lnt id=hl-23-2><a class=lnlinks href=#hl-23-2> 2</a>
</span><span class=lnt id=hl-23-3><a class=lnlinks href=#hl-23-3> 3</a>
</span><span class=lnt id=hl-23-4><a class=lnlinks href=#hl-23-4> 4</a>
</span><span class=lnt id=hl-23-5><a class=lnlinks href=#hl-23-5> 5</a>
</span><span class=lnt id=hl-23-6><a class=lnlinks href=#hl-23-6> 6</a>
</span><span class=lnt id=hl-23-7><a class=lnlinks href=#hl-23-7> 7</a>
</span><span class=lnt id=hl-23-8><a class=lnlinks href=#hl-23-8> 8</a>
</span><span class=lnt id=hl-23-9><a class=lnlinks href=#hl-23-9> 9</a>
</span><span class=lnt id=hl-23-10><a class=lnlinks href=#hl-23-10>10</a>
</span><span class=lnt id=hl-23-11><a class=lnlinks href=#hl-23-11>11</a>
</span><span class=lnt id=hl-23-12><a class=lnlinks href=#hl-23-12>12</a>
</span><span class=lnt id=hl-23-13><a class=lnlinks href=#hl-23-13>13</a>
</span><span class=lnt id=hl-23-14><a class=lnlinks href=#hl-23-14>14</a>
</span><span class=lnt id=hl-23-15><a class=lnlinks href=#hl-23-15>15</a>
</span><span class=lnt id=hl-23-16><a class=lnlinks href=#hl-23-16>16</a>
</span><span class=lnt id=hl-23-17><a class=lnlinks href=#hl-23-17>17</a>
</span><span class=lnt id=hl-23-18><a class=lnlinks href=#hl-23-18>18</a>
</span><span class=lnt id=hl-23-19><a class=lnlinks href=#hl-23-19>19</a>
</span><span class=lnt id=hl-23-20><a class=lnlinks href=#hl-23-20>20</a>
</span><span class=lnt id=hl-23-21><a class=lnlinks href=#hl-23-21>21</a>
</span><span class=lnt id=hl-23-22><a class=lnlinks href=#hl-23-22>22</a>
</span><span class=lnt id=hl-23-23><a class=lnlinks href=#hl-23-23>23</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># MLflow 모델 레지스트리 사용 예시</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>mlflow</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>mlflow.tracking</span> <span class=kn>import</span> <span class=n>MlflowClient</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>register_production_model</span><span class=p>(</span><span class=n>run_id</span><span class=p>,</span> <span class=n>model_name</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;학습된 모델을 프로덕션용으로 등록&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>client</span> <span class=o>=</span> <span class=n>MlflowClient</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 모델 레지스트리에 모델 등록</span>
</span></span><span class=line><span class=cl>    <span class=n>model_uri</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;runs:/</span><span class=si>{</span><span class=n>run_id</span><span class=si>}</span><span class=s2>/model&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>model_details</span> <span class=o>=</span> <span class=n>mlflow</span><span class=o>.</span><span class=n>register_model</span><span class=p>(</span><span class=n>model_uri</span><span class=p>,</span> <span class=n>model_name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 모델 버전 상태 업데이트</span>
</span></span><span class=line><span class=cl>    <span class=n>client</span><span class=o>.</span><span class=n>transition_model_version_stage</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>name</span><span class=o>=</span><span class=n>model_name</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>version</span><span class=o>=</span><span class=n>model_details</span><span class=o>.</span><span class=n>version</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>stage</span><span class=o>=</span><span class=s2>&#34;Staging&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Model </span><span class=si>{</span><span class=n>model_name</span><span class=si>}</span><span class=s2> version </span><span class=si>{</span><span class=n>model_details</span><span class=o>.</span><span class=n>version</span><span class=si>}</span><span class=s2> registered and set to Staging&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># A/B 테스트 후 승인되면 프로덕션 단계로 전환하는 로직 추가 가능</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>model_details</span><span class=o>.</span><span class=n>version</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=724-배포-및-서빙>7.2.4. 배포 및 서빙<a hidden class=anchor aria-hidden=true href=#724-배포-및-서빙>#</a></h4><ul><li><strong>점진적 배포</strong>: 카나리 배포, 블루/그린 배포 등의 안전한 배포 전략 사용</li><li><strong>서비스 메시</strong>: 고급 트래픽 관리, 로드 밸런싱, 장애 감지 및 복구</li><li><strong>엣지 배포</strong>: 필요에 따라 엣지 디바이스에 경량화된 모델 배포</li><li><strong>서빙 확장성</strong>: 트래픽 변화에 따른 자동 확장 및 축소</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1> 1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2> 2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3> 3</a>
</span><span class=lnt id=hl-24-4><a class=lnlinks href=#hl-24-4> 4</a>
</span><span class=lnt id=hl-24-5><a class=lnlinks href=#hl-24-5> 5</a>
</span><span class=lnt id=hl-24-6><a class=lnlinks href=#hl-24-6> 6</a>
</span><span class=lnt id=hl-24-7><a class=lnlinks href=#hl-24-7> 7</a>
</span><span class=lnt id=hl-24-8><a class=lnlinks href=#hl-24-8> 8</a>
</span><span class=lnt id=hl-24-9><a class=lnlinks href=#hl-24-9> 9</a>
</span><span class=lnt id=hl-24-10><a class=lnlinks href=#hl-24-10>10</a>
</span><span class=lnt id=hl-24-11><a class=lnlinks href=#hl-24-11>11</a>
</span><span class=lnt id=hl-24-12><a class=lnlinks href=#hl-24-12>12</a>
</span><span class=lnt id=hl-24-13><a class=lnlinks href=#hl-24-13>13</a>
</span><span class=lnt id=hl-24-14><a class=lnlinks href=#hl-24-14>14</a>
</span><span class=lnt id=hl-24-15><a class=lnlinks href=#hl-24-15>15</a>
</span><span class=lnt id=hl-24-16><a class=lnlinks href=#hl-24-16>16</a>
</span><span class=lnt id=hl-24-17><a class=lnlinks href=#hl-24-17>17</a>
</span><span class=lnt id=hl-24-18><a class=lnlinks href=#hl-24-18>18</a>
</span><span class=lnt id=hl-24-19><a class=lnlinks href=#hl-24-19>19</a>
</span><span class=lnt id=hl-24-20><a class=lnlinks href=#hl-24-20>20</a>
</span><span class=lnt id=hl-24-21><a class=lnlinks href=#hl-24-21>21</a>
</span><span class=lnt id=hl-24-22><a class=lnlinks href=#hl-24-22>22</a>
</span><span class=lnt id=hl-24-23><a class=lnlinks href=#hl-24-23>23</a>
</span><span class=lnt id=hl-24-24><a class=lnlinks href=#hl-24-24>24</a>
</span><span class=lnt id=hl-24-25><a class=lnlinks href=#hl-24-25>25</a>
</span><span class=lnt id=hl-24-26><a class=lnlinks href=#hl-24-26>26</a>
</span><span class=lnt id=hl-24-27><a class=lnlinks href=#hl-24-27>27</a>
</span><span class=lnt id=hl-24-28><a class=lnlinks href=#hl-24-28>28</a>
</span><span class=lnt id=hl-24-29><a class=lnlinks href=#hl-24-29>29</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># KFServing을 사용한 카나리 배포 예시 (YAML)</span>
</span></span><span class=line><span class=cl><span class=n>apiVersion</span><span class=p>:</span> <span class=n>serving</span><span class=o>.</span><span class=n>kubeflow</span><span class=o>.</span><span class=n>org</span><span class=o>/</span><span class=n>v1beta1</span>
</span></span><span class=line><span class=cl><span class=n>kind</span><span class=p>:</span> <span class=n>InferenceService</span>
</span></span><span class=line><span class=cl><span class=n>metadata</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=n>name</span><span class=p>:</span> <span class=n>customer</span><span class=o>-</span><span class=n>churn</span><span class=o>-</span><span class=n>predictor</span>
</span></span><span class=line><span class=cl><span class=n>spec</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=n>predictor</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>canaryTrafficPercent</span><span class=p>:</span> <span class=mi>20</span>  <span class=c1># 20%의 트래픽을 카나리 버전으로 라우팅</span>
</span></span><span class=line><span class=cl>    <span class=n>containers</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=n>name</span><span class=p>:</span> <span class=n>current</span>
</span></span><span class=line><span class=cl>        <span class=n>image</span><span class=p>:</span> <span class=n>models</span><span class=o>/</span><span class=n>churn</span><span class=o>-</span><span class=n>predictor</span><span class=p>:</span><span class=n>v1</span>
</span></span><span class=line><span class=cl>        <span class=n>resources</span><span class=p>:</span>
</span></span><span class=line><span class=cl>          <span class=n>requests</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>cpu</span><span class=p>:</span> <span class=mi>100</span><span class=n>m</span>
</span></span><span class=line><span class=cl>            <span class=n>memory</span><span class=p>:</span> <span class=mi>1</span><span class=n>Gi</span>
</span></span><span class=line><span class=cl>          <span class=n>limits</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>cpu</span><span class=p>:</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=n>memory</span><span class=p>:</span> <span class=mi>2</span><span class=n>Gi</span>
</span></span><span class=line><span class=cl>    <span class=n>canary</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=n>containers</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=o>-</span> <span class=n>name</span><span class=p>:</span> <span class=n>new</span>
</span></span><span class=line><span class=cl>          <span class=n>image</span><span class=p>:</span> <span class=n>models</span><span class=o>/</span><span class=n>churn</span><span class=o>-</span><span class=n>predictor</span><span class=p>:</span><span class=n>v2</span>
</span></span><span class=line><span class=cl>          <span class=n>resources</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>requests</span><span class=p>:</span>
</span></span><span class=line><span class=cl>              <span class=n>cpu</span><span class=p>:</span> <span class=mi>100</span><span class=n>m</span>
</span></span><span class=line><span class=cl>              <span class=n>memory</span><span class=p>:</span> <span class=mi>1</span><span class=n>Gi</span>
</span></span><span class=line><span class=cl>            <span class=n>limits</span><span class=p>:</span>
</span></span><span class=line><span class=cl>              <span class=n>cpu</span><span class=p>:</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>              <span class=n>memory</span><span class=p>:</span> <span class=mi>2</span><span class=n>Gi</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=725-모니터링-및-알림>7.2.5. 모니터링 및 알림<a hidden class=anchor aria-hidden=true href=#725-모니터링-및-알림>#</a></h4><ul><li><strong>다양한 메트릭 모니터링</strong>: 모델 성능, 데이터 품질, 시스템 성능 등</li><li><strong>알림 임계값 설정</strong>: 중요한 메트릭에 대한 알림 임계값 정의</li><li><strong>자동 롤백 메커니즘</strong>: 심각한 성능 저하 감지 시 자동 롤백</li><li><strong>종합 대시보드</strong>: 주요 메트릭을 한눈에 볼 수 있는 대시보드 구성</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1> 1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2> 2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3> 3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4> 4</a>
</span><span class=lnt id=hl-25-5><a class=lnlinks href=#hl-25-5> 5</a>
</span><span class=lnt id=hl-25-6><a class=lnlinks href=#hl-25-6> 6</a>
</span><span class=lnt id=hl-25-7><a class=lnlinks href=#hl-25-7> 7</a>
</span><span class=lnt id=hl-25-8><a class=lnlinks href=#hl-25-8> 8</a>
</span><span class=lnt id=hl-25-9><a class=lnlinks href=#hl-25-9> 9</a>
</span><span class=lnt id=hl-25-10><a class=lnlinks href=#hl-25-10>10</a>
</span><span class=lnt id=hl-25-11><a class=lnlinks href=#hl-25-11>11</a>
</span><span class=lnt id=hl-25-12><a class=lnlinks href=#hl-25-12>12</a>
</span><span class=lnt id=hl-25-13><a class=lnlinks href=#hl-25-13>13</a>
</span><span class=lnt id=hl-25-14><a class=lnlinks href=#hl-25-14>14</a>
</span><span class=lnt id=hl-25-15><a class=lnlinks href=#hl-25-15>15</a>
</span><span class=lnt id=hl-25-16><a class=lnlinks href=#hl-25-16>16</a>
</span><span class=lnt id=hl-25-17><a class=lnlinks href=#hl-25-17>17</a>
</span><span class=lnt id=hl-25-18><a class=lnlinks href=#hl-25-18>18</a>
</span><span class=lnt id=hl-25-19><a class=lnlinks href=#hl-25-19>19</a>
</span><span class=lnt id=hl-25-20><a class=lnlinks href=#hl-25-20>20</a>
</span><span class=lnt id=hl-25-21><a class=lnlinks href=#hl-25-21>21</a>
</span><span class=lnt id=hl-25-22><a class=lnlinks href=#hl-25-22>22</a>
</span><span class=lnt id=hl-25-23><a class=lnlinks href=#hl-25-23>23</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># Prometheus와 Grafana를 사용한 알림 설정 예시 (alertmanager.yml)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>route</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>group_by</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s1>&#39;alertname&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;model&#39;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>group_wait</span><span class=p>:</span><span class=w> </span><span class=l>30s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>group_interval</span><span class=p>:</span><span class=w> </span><span class=l>5m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>repeat_interval</span><span class=p>:</span><span class=w> </span><span class=l>4h</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>receiver</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;ml-team&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>routes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>match</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class=l>critical</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>receiver</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;ml-team-pager&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>repeat_interval</span><span class=p>:</span><span class=w> </span><span class=l>1h</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>receivers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;ml-team&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>email_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>to</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;ml-team@example.com&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>send_resolved</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;ml-team-pager&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>pagerduty_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>service_key</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;&lt;pagerduty-service-key&gt;&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>send_resolved</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1> 1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2> 2</a>
</span><span class=lnt id=hl-26-3><a class=lnlinks href=#hl-26-3> 3</a>
</span><span class=lnt id=hl-26-4><a class=lnlinks href=#hl-26-4> 4</a>
</span><span class=lnt id=hl-26-5><a class=lnlinks href=#hl-26-5> 5</a>
</span><span class=lnt id=hl-26-6><a class=lnlinks href=#hl-26-6> 6</a>
</span><span class=lnt id=hl-26-7><a class=lnlinks href=#hl-26-7> 7</a>
</span><span class=lnt id=hl-26-8><a class=lnlinks href=#hl-26-8> 8</a>
</span><span class=lnt id=hl-26-9><a class=lnlinks href=#hl-26-9> 9</a>
</span><span class=lnt id=hl-26-10><a class=lnlinks href=#hl-26-10>10</a>
</span><span class=lnt id=hl-26-11><a class=lnlinks href=#hl-26-11>11</a>
</span><span class=lnt id=hl-26-12><a class=lnlinks href=#hl-26-12>12</a>
</span><span class=lnt id=hl-26-13><a class=lnlinks href=#hl-26-13>13</a>
</span><span class=lnt id=hl-26-14><a class=lnlinks href=#hl-26-14>14</a>
</span><span class=lnt id=hl-26-15><a class=lnlinks href=#hl-26-15>15</a>
</span><span class=lnt id=hl-26-16><a class=lnlinks href=#hl-26-16>16</a>
</span><span class=lnt id=hl-26-17><a class=lnlinks href=#hl-26-17>17</a>
</span><span class=lnt id=hl-26-18><a class=lnlinks href=#hl-26-18>18</a>
</span><span class=lnt id=hl-26-19><a class=lnlinks href=#hl-26-19>19</a>
</span><span class=lnt id=hl-26-20><a class=lnlinks href=#hl-26-20>20</a>
</span><span class=lnt id=hl-26-21><a class=lnlinks href=#hl-26-21>21</a>
</span><span class=lnt id=hl-26-22><a class=lnlinks href=#hl-26-22>22</a>
</span><span class=lnt id=hl-26-23><a class=lnlinks href=#hl-26-23>23</a>
</span><span class=lnt id=hl-26-24><a class=lnlinks href=#hl-26-24>24</a>
</span><span class=lnt id=hl-26-25><a class=lnlinks href=#hl-26-25>25</a>
</span><span class=lnt id=hl-26-26><a class=lnlinks href=#hl-26-26>26</a>
</span><span class=lnt id=hl-26-27><a class=lnlinks href=#hl-26-27>27</a>
</span><span class=lnt id=hl-26-28><a class=lnlinks href=#hl-26-28>28</a>
</span><span class=lnt id=hl-26-29><a class=lnlinks href=#hl-26-29>29</a>
</span><span class=lnt id=hl-26-30><a class=lnlinks href=#hl-26-30>30</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># Prometheus 알림 규칙 예시 (prometheus.rules.yml)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ml-model-alerts</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>alert</span><span class=p>:</span><span class=w> </span><span class=l>ModelAccuracyDrop</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class=l>ml_model_accuracy &lt; 0.8</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>for</span><span class=p>:</span><span class=w> </span><span class=l>10m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class=l>warning</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Model accuracy has dropped below threshold&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Model {{ $labels.model }} accuracy is {{ $value }}, which is below the threshold of 0.8&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>alert</span><span class=p>:</span><span class=w> </span><span class=l>HighLatency</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class=l>avg_over_time(ml_prediction_latency_seconds[5m]) &gt; 0.5</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>for</span><span class=p>:</span><span class=w> </span><span class=l>5m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class=l>warning</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;High prediction latency detected&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Average prediction latency is {{ $value }}s, which is above the threshold of 0.5s&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>alert</span><span class=p>:</span><span class=w> </span><span class=l>DataDriftDetected</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class=l>ml_data_drift_score &gt; 0.1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>for</span><span class=p>:</span><span class=w> </span><span class=l>15m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class=l>critical</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Data drift detected in model inputs&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Data drift score for model {{ $labels.model }} is {{ $value }}, which indicates significant drift in input features&#34;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=73-확장성-고려사항>7.3. 확장성 고려사항<a hidden class=anchor aria-hidden=true href=#73-확장성-고려사항>#</a></h3><p>조직과 ML 프로젝트가 성장함에 따라 MLOps 시스템도 확장되어야 합니다:</p><h4 id=731-기술적-확장성>7.3.1. 기술적 확장성<a hidden class=anchor aria-hidden=true href=#731-기술적-확장성>#</a></h4><ul><li><strong>분산 학습</strong>: 대규모 데이터셋과 복잡한 모델을 위한 분산 학습 인프라</li><li><strong>하이브리드/멀티 클라우드</strong>: 여러 클라우드 환경에 걸친 워크로드 분산</li><li><strong>쿠버네티스 오케스트레이션</strong>: 컨테이너화된 ML 워크로드의 동적 관리</li><li><strong>마이크로서비스 아키텍처</strong>: 독립적으로 확장 가능한 컴포넌트로 시스템 분해</li></ul><h4 id=732-조직적-확장성>7.3.2. 조직적 확장성<a hidden class=anchor aria-hidden=true href=#732-조직적-확장성>#</a></h4><ul><li><strong>지식 공유 및 문서화</strong>: 모범 사례와 학습 내용 공유를 위한 체계</li><li><strong>재사용 가능한 컴포넌트</strong>: 공통 기능을 추상화하여 재사용성 향상</li><li><strong>자동화된 온보딩</strong>: 새로운 팀원이 MLOps 시스템을 쉽게 이해하고 사용할 수 있는 방법</li><li><strong>교육 및 인증</strong>: 팀원의 MLOps 역량 개발 및 인증 프로그램</li></ul><h3 id=74-보안-및-규정-준수>7.4. 보안 및 규정 준수<a hidden class=anchor aria-hidden=true href=#74-보안-및-규정-준수>#</a></h3><p>ML 시스템의 보안과 규정 준수는 MLOps의 중요한 측면입니다:</p><h4 id=741-데이터-보안>7.4.1. 데이터 보안<a hidden class=anchor aria-hidden=true href=#741-데이터-보안>#</a></h4><ul><li><strong>데이터 암호화</strong>: 저장 및 전송 중인 데이터 암호화</li><li><strong>접근 제어</strong>: 데이터에 대한 세분화된 접근 제어 정책</li><li><strong>데이터 익명화</strong>: 개인 식별 정보(PII) 보호를 위한 익명화 기법</li><li><strong>데이터 누출 방지</strong>: 민감한 데이터가 모델에 의도치 않게 노출되는 것 방지</li></ul><h4 id=742-모델-보안>7.4.2. 모델 보안<a hidden class=anchor aria-hidden=true href=#742-모델-보안>#</a></h4><ul><li><strong>모델 무결성</strong>: 승인된 모델만 배포 가능하도록 보장</li><li><strong>모델 접근 제어</strong>: 모델 API에 대한 인증 및 권한 부여</li><li><strong>적대적 공격 방어</strong>: 모델 추출, 회원 추론, 적대적 예제 등의 공격 방어</li><li><strong>모델 감사</strong>: 모델 동작 및 사용에 대한 감사 로그 유지</li></ul><h4 id=743-규정-준수>7.4.3. 규정 준수<a hidden class=anchor aria-hidden=true href=#743-규정-준수>#</a></h4><ul><li><strong>GDPR, CCPA 등 데이터 보호 규정 준수</strong></li><li><strong>설명 가능성</strong>: 규제 대상 산업에서 필요한 모델 결정의 설명 가능성 확보</li><li><strong>편향 감지 및 완화</strong>: 모델의 공정성 확보 및 편향 모니터링</li><li><strong>감사 기록</strong>: 모델 개발 및 배포 과정의 감사 추적 기록 유지</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1> 1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2> 2</a>
</span><span class=lnt id=hl-27-3><a class=lnlinks href=#hl-27-3> 3</a>
</span><span class=lnt id=hl-27-4><a class=lnlinks href=#hl-27-4> 4</a>
</span><span class=lnt id=hl-27-5><a class=lnlinks href=#hl-27-5> 5</a>
</span><span class=lnt id=hl-27-6><a class=lnlinks href=#hl-27-6> 6</a>
</span><span class=lnt id=hl-27-7><a class=lnlinks href=#hl-27-7> 7</a>
</span><span class=lnt id=hl-27-8><a class=lnlinks href=#hl-27-8> 8</a>
</span><span class=lnt id=hl-27-9><a class=lnlinks href=#hl-27-9> 9</a>
</span><span class=lnt id=hl-27-10><a class=lnlinks href=#hl-27-10>10</a>
</span><span class=lnt id=hl-27-11><a class=lnlinks href=#hl-27-11>11</a>
</span><span class=lnt id=hl-27-12><a class=lnlinks href=#hl-27-12>12</a>
</span><span class=lnt id=hl-27-13><a class=lnlinks href=#hl-27-13>13</a>
</span><span class=lnt id=hl-27-14><a class=lnlinks href=#hl-27-14>14</a>
</span><span class=lnt id=hl-27-15><a class=lnlinks href=#hl-27-15>15</a>
</span><span class=lnt id=hl-27-16><a class=lnlinks href=#hl-27-16>16</a>
</span><span class=lnt id=hl-27-17><a class=lnlinks href=#hl-27-17>17</a>
</span><span class=lnt id=hl-27-18><a class=lnlinks href=#hl-27-18>18</a>
</span><span class=lnt id=hl-27-19><a class=lnlinks href=#hl-27-19>19</a>
</span><span class=lnt id=hl-27-20><a class=lnlinks href=#hl-27-20>20</a>
</span><span class=lnt id=hl-27-21><a class=lnlinks href=#hl-27-21>21</a>
</span><span class=lnt id=hl-27-22><a class=lnlinks href=#hl-27-22>22</a>
</span><span class=lnt id=hl-27-23><a class=lnlinks href=#hl-27-23>23</a>
</span><span class=lnt id=hl-27-24><a class=lnlinks href=#hl-27-24>24</a>
</span><span class=lnt id=hl-27-25><a class=lnlinks href=#hl-27-25>25</a>
</span><span class=lnt id=hl-27-26><a class=lnlinks href=#hl-27-26>26</a>
</span><span class=lnt id=hl-27-27><a class=lnlinks href=#hl-27-27>27</a>
</span><span class=lnt id=hl-27-28><a class=lnlinks href=#hl-27-28>28</a>
</span><span class=lnt id=hl-27-29><a class=lnlinks href=#hl-27-29>29</a>
</span><span class=lnt id=hl-27-30><a class=lnlinks href=#hl-27-30>30</a>
</span><span class=lnt id=hl-27-31><a class=lnlinks href=#hl-27-31>31</a>
</span><span class=lnt id=hl-27-32><a class=lnlinks href=#hl-27-32>32</a>
</span><span class=lnt id=hl-27-33><a class=lnlinks href=#hl-27-33>33</a>
</span><span class=lnt id=hl-27-34><a class=lnlinks href=#hl-27-34>34</a>
</span><span class=lnt id=hl-27-35><a class=lnlinks href=#hl-27-35>35</a>
</span><span class=lnt id=hl-27-36><a class=lnlinks href=#hl-27-36>36</a>
</span><span class=lnt id=hl-27-37><a class=lnlinks href=#hl-27-37>37</a>
</span><span class=lnt id=hl-27-38><a class=lnlinks href=#hl-27-38>38</a>
</span><span class=lnt id=hl-27-39><a class=lnlinks href=#hl-27-39>39</a>
</span><span class=lnt id=hl-27-40><a class=lnlinks href=#hl-27-40>40</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 모델 편향 모니터링 예시</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>aequitas.group</span> <span class=kn>import</span> <span class=n>Group</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>aequitas.bias</span> <span class=kn>import</span> <span class=n>Bias</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>aequitas.fairness</span> <span class=kn>import</span> <span class=n>Fairness</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>monitor_model_fairness</span><span class=p>(</span><span class=n>predictions_df</span><span class=p>,</span> <span class=n>protected_attributes</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;gender&#39;</span><span class=p>,</span> <span class=s1>&#39;race&#39;</span><span class=p>]):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;모델 예측의 공정성 평가&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1># 예측 결과 준비</span>
</span></span><span class=line><span class=cl>    <span class=c1># predictions_df는 &#39;score&#39;, &#39;label_value&#39;(실제 레이블), protected_attributes 열을 포함해야 함</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># Aequitas 그룹 메트릭 계산</span>
</span></span><span class=line><span class=cl>    <span class=n>g</span> <span class=o>=</span> <span class=n>Group</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>group_metrics</span> <span class=o>=</span> <span class=n>g</span><span class=o>.</span><span class=n>get_group_metrics</span><span class=p>(</span><span class=n>predictions_df</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 편향 측정</span>
</span></span><span class=line><span class=cl>    <span class=n>b</span> <span class=o>=</span> <span class=n>Bias</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>bias_df</span> <span class=o>=</span> <span class=n>b</span><span class=o>.</span><span class=n>get_disparity_major_group</span><span class=p>(</span><span class=n>group_metrics</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                                          <span class=n>original_df</span><span class=o>=</span><span class=n>predictions_df</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 공정성 평가</span>
</span></span><span class=line><span class=cl>    <span class=n>f</span> <span class=o>=</span> <span class=n>Fairness</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>fairness_df</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>get_group_value_fairness</span><span class=p>(</span><span class=n>bias_df</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 공정성 이슈 감지</span>
</span></span><span class=line><span class=cl>    <span class=n>fairness_issues</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>attr</span> <span class=ow>in</span> <span class=n>protected_attributes</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>attr_fairness</span> <span class=o>=</span> <span class=n>fairness_df</span><span class=p>[</span><span class=n>fairness_df</span><span class=p>[</span><span class=s1>&#39;attribute_name&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=n>attr</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>attr_fairness</span><span class=p>[</span><span class=s1>&#39;Statistical Parity&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>all</span><span class=p>():</span>
</span></span><span class=line><span class=cl>            <span class=n>fairness_issues</span><span class=p>[</span><span class=n>attr</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;Statistical Parity 위반&#39;</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=ow>not</span> <span class=n>attr_fairness</span><span class=p>[</span><span class=s1>&#39;Impact Parity&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>all</span><span class=p>():</span>
</span></span><span class=line><span class=cl>            <span class=n>fairness_issues</span><span class=p>[</span><span class=n>attr</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;Impact Parity 위반&#39;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>fairness_issues</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 알림 또는 로깅 로직</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>attr</span><span class=p>,</span> <span class=n>issue</span> <span class=ow>in</span> <span class=n>fairness_issues</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;공정성 이슈 감지: </span><span class=si>{</span><span class=n>attr</span><span class=si>}</span><span class=s2> - </span><span class=si>{</span><span class=n>issue</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>fairness_df</span><span class=p>,</span> <span class=n>fairness_issues</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=8-mlops의-미래-동향>8. MLOps의 미래 동향<a hidden class=anchor aria-hidden=true href=#8-mlops의-미래-동향>#</a></h2><p>MLOps는 계속 발전하고 있는 분야로, 다음과 같은 주요 동향이 나타나고 있습니다:</p><h3 id=81-자동화-수준-향상>8.1. 자동화 수준 향상<a hidden class=anchor aria-hidden=true href=#81-자동화-수준-향상>#</a></h3><ul><li><strong>AutoML</strong>: 특성 선택, 모델 선택, 하이퍼파라미터 최적화의 자동화</li><li><strong>Neural Architecture Search (NAS)</strong>: 최적의 신경망 아키텍처 자동 탐색</li><li><strong>메타러닝(Meta-learning)</strong>: 이전 학습 경험을 활용한 더 빠른 모델 적응</li></ul><h3 id=82-분산-및-연합-학습>8.2. 분산 및 연합 학습<a hidden class=anchor aria-hidden=true href=#82-분산-및-연합-학습>#</a></h3><ul><li><strong>연합 학습(Federated Learning)</strong>: 데이터를 중앙 집중화하지 않고 분산된 환경에서 모델 학습</li><li><strong>엣지 ML</strong>: 엣지 디바이스에서의 ML 학습 및 추론</li><li><strong>분산 특성 저장소</strong>: 여러 데이터 소스와 계산 환경에 걸친 특성 공유</li></ul><h3 id=83-설명-가능한-ai와-책임-있는-ml>8.3. 설명 가능한 AI와 책임 있는 ML<a hidden class=anchor aria-hidden=true href=#83-설명-가능한-ai와-책임-있는-ml>#</a></h3><ul><li><strong>모델 해석 도구의 발전</strong>: SHAP, LIME 등의 도구와 통합된 워크플로우</li><li><strong>인과 추론(Causal Inference)</strong>: 예측뿐만 아니라 인과 관계를 이해하는 모델</li><li><strong>편향 감지 및 완화의 자동화</strong>: 학습 및 배포 파이프라인에 내장된 공정성 검사</li></ul><h3 id=84-mlops와-devops의-통합>8.4. MLOps와 DevOps의 통합<a hidden class=anchor aria-hidden=true href=#84-mlops와-devops의-통합>#</a></h3><ul><li><strong>통합 플랫폼</strong>: ML과 일반 소프트웨어 개발을 위한 통합 CI/CD 파이프라인</li><li><strong>GitOps for ML</strong>: Git 기반의 ML 인프라 및 배포 관리</li><li><strong>인프라스트럭처 as 코드(IaC)</strong>: ML 인프라의 코드화 및 버전 관리</li></ul><h2 id=9-mlops-학습-및-커리어-경로>9. MLOps 학습 및 커리어 경로<a hidden class=anchor aria-hidden=true href=#9-mlops-학습-및-커리어-경로>#</a></h2><p>MLOps 분야에서 경력을 쌓고자 하는 초보 개발자를 위한 학습 경로와 자원을 알아보겠습니다:</p><h3 id=91-필수-기술-및-지식>9.1. 필수 기술 및 지식<a hidden class=anchor aria-hidden=true href=#91-필수-기술-및-지식>#</a></h3><p>MLOps에 필요한 핵심 기술 영역:</p><ol><li><p><strong>프로그래밍 및 소프트웨어 엔지니어링</strong></p><ul><li>Python, SQL 등의 프로그래밍 언어</li><li>소프트웨어 설계 패턴 및 모범 사례</li><li>버전 관리(Git) 및 CI/CD</li></ul></li><li><p><strong>데이터 엔지니어링</strong></p><ul><li>데이터 파이프라인 구축</li><li>ETL 프로세스</li><li>데이터 스토리지 및 처리 시스템</li></ul></li><li><p><strong>머신러닝 및 데이터 과학</strong></p><ul><li>ML 알고리즘 및 프레임워크(TensorFlow, PyTorch 등)</li><li>특성 엔지니어링</li><li>모델 평가 및 선택</li></ul></li><li><p><strong>클라우드 컴퓨팅 및 인프라</strong></p><ul><li>클라우드 서비스(AWS, GCP, Azure)</li><li>컨테이너화(Docker) 및 오케스트레이션(Kubernetes)</li><li>서버리스 아키텍처</li></ul></li><li><p><strong>DevOps 및 SRE 실무</strong></p><ul><li>자동화 및 CI/CD 파이프라인</li><li>모니터링 및 로깅</li><li>인프라스트럭처 as 코드(IaC)</li></ul></li></ol><h3 id=92-추천-학습-자원>9.2. 추천 학습 자원<a hidden class=anchor aria-hidden=true href=#92-추천-학습-자원>#</a></h3><h4 id=921-온라인-강좌-및-교육-플랫폼>9.2.1. 온라인 강좌 및 교육 플랫폼<a hidden class=anchor aria-hidden=true href=#921-온라인-강좌-및-교육-플랫폼>#</a></h4><ul><li><strong>Coursera의 &ldquo;Machine Learning Engineering for Production (MLOps) Specialization&rdquo;</strong></li><li><strong>edX의 &ldquo;Data Science and Machine Learning Essentials&rdquo;</strong></li><li><strong>Udacity의 &ldquo;Machine Learning DevOps Engineer Nanodegree&rdquo;</strong></li><li><strong>DataCamp, Pluralsight 등의 MLOps 관련 코스</strong></li></ul><h4 id=922-도서-및-문서>9.2.2. 도서 및 문서<a hidden class=anchor aria-hidden=true href=#922-도서-및-문서>#</a></h4><ul><li><strong>&ldquo;Building Machine Learning Powered Applications&rdquo; by Emmanuel Ameisen</strong></li><li><strong>&ldquo;Introducing MLOps&rdquo; by Mark Treveil et al.</strong></li><li><strong>&ldquo;Machine Learning Design Patterns&rdquo; by Valliappa Lakshmanan, et al.</strong></li><li><strong>&ldquo;Designing Machine Learning Systems&rdquo; by Chip Huyen</strong></li></ul><h4 id=923-블로그-및-웹사이트>9.2.3. 블로그 및 웹사이트<a hidden class=anchor aria-hidden=true href=#923-블로그-및-웹사이트>#</a></h4><ul><li><strong>Google Cloud의 MLOps 가이드</strong></li><li><strong>AWS의 Machine Learning Best Practices</strong></li><li><strong>Microsoft Azure의 MLOps 가이드</strong></li><li><strong>Towards Data Science 블로그의 MLOps 관련 글</strong></li><li><strong>ML-Ops.org 커뮤니티 리소스</strong></li></ul><h4 id=924-오픈소스-프로젝트-및-github-저장소>9.2.4. 오픈소스 프로젝트 및 GitHub 저장소<a hidden class=anchor aria-hidden=true href=#924-오픈소스-프로젝트-및-github-저장소>#</a></h4><ul><li><strong>Kubeflow, MLflow, DVC 등의 공식 문서 및 튜토리얼</strong></li><li><strong>MLOps 관련 참조 아키텍처 및 샘플 프로젝트</strong></li><li><strong>각 도구의 GitHub 저장소 및 예제</strong></li></ul><h3 id=93-실무-경험-쌓기>9.3. 실무 경험 쌓기<a hidden class=anchor aria-hidden=true href=#93-실무-경험-쌓기>#</a></h3><h4 id=931-개인-프로젝트>9.3.1. 개인 프로젝트<a hidden class=anchor aria-hidden=true href=#931-개인-프로젝트>#</a></h4><ul><li><strong>간단한 ML 모델 개발 및 배포 파이프라인 구축</strong></li><li><strong>오픈소스 MLOps 도구를 활용한 포트폴리오 프로젝트</strong></li><li><strong>Kaggle 대회 참여 및 MLOps 적용</strong></li></ul><h4 id=932-인턴십-및-입문-수준-직무>9.3.2. 인턴십 및 입문 수준 직무<a hidden class=anchor aria-hidden=true href=#932-인턴십-및-입문-수준-직무>#</a></h4><ul><li><strong>ML 엔지니어 인턴</strong></li><li><strong>데이터 엔지니어링 역할</strong></li><li><strong>DevOps 엔지니어 (ML 중점)</strong></li></ul><h4 id=933-커뮤니티-참여>9.3.3. 커뮤니티 참여<a hidden class=anchor aria-hidden=true href=#933-커뮤니티-참여>#</a></h4><ul><li><strong>MLOps 관련 오픈소스 프로젝트 기여</strong></li><li><strong>ML/Data 커뮤니티 이벤트 및 모임 참석</strong></li><li><strong>관련 컨퍼런스(KubeCon, MLSys 등) 참여</strong></li></ul><h2 id=10-결론-mlops의-가치와-시작하기>10. 결론: MLOps의 가치와 시작하기<a hidden class=anchor aria-hidden=true href=#10-결론-mlops의-가치와-시작하기>#</a></h2><p>MLOps는 단순한 기술적 도구나 방법론이 아니라, 조직이 기계 학습의 가치를 지속적이고 확장 가능하게 실현하기 위한 전체적인 접근 방식입니다. 다음과 같은 핵심 가치를 제공합니다:</p><h3 id=101-mlops의-비즈니스-가치>10.1. MLOps의 비즈니스 가치<a hidden class=anchor aria-hidden=true href=#101-mlops의-비즈니스-가치>#</a></h3><ul><li><strong>시장 출시 시간 단축</strong>: 모델 개발에서 배포까지의 시간 단축</li><li><strong>운영 효율성 향상</strong>: 반복 작업 자동화 및 리소스 최적화</li><li><strong>리스크 감소</strong>: 품질 관리 및 모니터링을 통한 실패 위험 감소</li><li><strong>확장성 확보</strong>: 더 많은 모델과 사용 사례로 확장 가능한 시스템</li><li><strong>혁신 가속화</strong>: 더 빠른 실험과 반복을 통한 혁신 촉진</li></ul><h3 id=102-mlops-여정-시작하기>10.2. MLOps 여정 시작하기<a hidden class=anchor aria-hidden=true href=#102-mlops-여정-시작하기>#</a></h3><p>MLOps 구현은 점진적인 여정입니다. 다음은 시작을 위한 실용적인 단계입니다:</p><ol><li><strong>현재 상태 평가</strong>: 기존 ML 개발 및 배포 프로세스 평가</li><li><strong>우선순위 설정</strong>: 가장 큰 병목 현상이나 문제점 식별</li><li><strong>점진적 접근</strong>: 모든 것을 한 번에 구현하려 하지 말고, 단계적으로 접근</li><li><strong>작게 시작하여 확장</strong>: 작은 프로젝트로 시작하여 성공을 쌓아가기</li><li><strong>지속적 학습</strong>: MLOps는 계속 발전하는 분야이므로, 지속적인 학습 유지</li></ol><h3 id=103-mlops-성숙도-향상을-위한-다음-단계>10.3. MLOps 성숙도 향상을 위한 다음 단계<a hidden class=anchor aria-hidden=true href=#103-mlops-성숙도-향상을-위한-다음-단계>#</a></h3><p>현재 MLOps 수준에 따라 다음 단계로 나아가기 위한 제안:</p><ul><li><strong>초기 단계</strong>: 버전 관리 및 문서화에 집중, 간단한 CI/CD 파이프라인 구축</li><li><strong>기본 MLOps 실천 중</strong>: 모니터링 및 자동화된 테스트 강화, 데이터 파이프라인 개선</li><li><strong>중간 단계</strong>: 특성 스토어, 모델 레지스트리 도입, A/B 테스트 체계화</li><li><strong>고급 단계</strong>: 지속적 학습 및 자동화된 롤백, 분산 학습, 연합 학습 탐색</li></ul><p>MLOps의 궁극적인 목표는 기계 학습을 실험실의 프로토타입에서 안정적이고 확장 가능한 비즈니스 자산으로 전환하는 것입니다. 이는 기술적 도구뿐만 아니라 조직 문화, 프로세스, 그리고 사람의 변화를 필요로 합니다.</p><h2 id=초보-개발자로서-mlops를-시작하는-것은-도전적일-수-있지만-단계적으로-접근하고-필요한-기술을-하나씩-쌓아가면-이-분야에서-성공적인-경력을-쌓을-수-있습니다-mlops의-원칙과-실천-방법을-이해하고-적용함으로써-기계-학습-시스템의-전체-생명주기를-효과적으로-관리하고-최대의-가치를-창출할-수-있습니다>초보 개발자로서 MLOps를 시작하는 것은 도전적일 수 있지만, 단계적으로 접근하고 필요한 기술을 하나씩 쌓아가면 이 분야에서 성공적인 경력을 쌓을 수 있습니다. MLOps의 원칙과 실천 방법을 이해하고 적용함으로써, 기계 학습 시스템의 전체 생명주기를 효과적으로 관리하고 최대의 가치를 창출할 수 있습니다.<a hidden class=anchor aria-hidden=true href=#초보-개발자로서-mlops를-시작하는-것은-도전적일-수-있지만-단계적으로-접근하고-필요한-기술을-하나씩-쌓아가면-이-분야에서-성공적인-경력을-쌓을-수-있습니다-mlops의-원칙과-실천-방법을-이해하고-적용함으로써-기계-학습-시스템의-전체-생명주기를-효과적으로-관리하고-최대의-가치를-창출할-수-있습니다>#</a></h2><h3 id=roadmap>Roadmap<a hidden class=anchor aria-hidden=true href=#roadmap>#</a></h3><p><a href=https://roadmap.sh/mlops>Roadmap - MLOps</a></p><hr><h3 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h3></div></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>