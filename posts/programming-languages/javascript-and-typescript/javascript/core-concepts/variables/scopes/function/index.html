<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Function | hyunyoun's Blog</title><meta name=keywords content="Programming-Languages,Javascript,Basic-Syntax,Variables,scopes,Function"><meta name=description content="함수 스코프란 함수 내부에 선언된 변수와 함수가 해당 함수 내부에서만 접근 가능하다는 JavaScript의 특성을 의미한다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/javascript/core-concepts/variables/scopes/function/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/javascript/core-concepts/variables/scopes/function/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/javascript/core-concepts/variables/scopes/function/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Function"><meta property="og:description" content="함수 스코프란 함수 내부에 선언된 변수와 함수가 해당 함수 내부에서만 접근 가능하다는 JavaScript의 특성을 의미한다."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-25T14:18:00+00:00"><meta property="article:modified_time" content="2024-12-25T14:18:00+00:00"><meta property="article:tag" content="Programming-Languages"><meta property="article:tag" content="Javascript"><meta property="article:tag" content="Basic-Syntax"><meta property="article:tag" content="Variables"><meta property="article:tag" content="Scopes"><meta property="article:tag" content="Function"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Function"><meta name=twitter:description content="함수 스코프란 함수 내부에 선언된 변수와 함수가 해당 함수 내부에서만 접근 가능하다는 JavaScript의 특성을 의미한다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Computer Science and Engineering","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Programming Languages","item":""},{"@type":"ListItem","position":3,"name":"JavaScript and TypeScript","item":"https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/"},{"@type":"ListItem","position":4,"name":"자바스크립트(JavaScript)","item":""},{"@type":"ListItem","position":6,"name":"Variables","item":"https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/javascript/core-concepts/variables/"},{"@type":"ListItem","position":7,"name":"scopes","item":"https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/javascript/core-concepts/variables/scopes/"},{"@type":"ListItem","position":8,"name":"Function","item":"https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/javascript/core-concepts/variables/scopes/function/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Function","name":"Function","description":"함수 스코프란 함수 내부에 선언된 변수와 함수가 해당 함수 내부에서만 접근 가능하다는 JavaScript의 특성을 의미한다.","keywords":["Programming-Languages","Javascript","Basic-Syntax","Variables","scopes","Function"],"articleBody":"Function JavaScript의 함수 스코프(Function Scope)는 함수 내에서 선언된 변수의 가시성과 접근성을 정의하는 중요한 개념이다. 이 스코프는 JavaScript의 변수 관리 및 코드 구조에 큰 영향을 미친다.\n함수 스코프의 정의 함수 스코프란 함수 내부에 선언된 변수와 함수가 해당 함수 내부에서만 접근 가능하다는 JavaScript의 특성을 의미한다.\n이는 함수가 자신만의 독립적인 변수 환경을 가지고 있음을 뜻한다.\n함수가 실행될 때 생성되고, 함수가 종료되면 메모리에서 사라진다.\n1 2 3 4 5 6 7 8 9 function exampleFunction() { // 이 변수는 함수 내부에서만 접근 가능 var functionScopedVar = \"함수 스코프 내부 변수\"; console.log(functionScopedVar); // \"함수 스코프 내부 변수\" } exampleFunction(); // console.log(functionScopedVar); // ReferenceError: functionScopedVar is not defined 위 예시에서 functionScopedVar는 exampleFunction 내부에서만 존재하며, 함수 외부에서는 접근할 수 없다.\n함수 스코프와 전역 스코프의 관계 JavaScript에서 함수 외부에 선언된 변수는 전역 스코프(global scope)에 속한다. 전역 변수는 어떤 함수 내에서도 접근할 수 있다.\n1 2 3 4 5 6 7 8 9 // 전역 스코프에 선언된 변수 var globalVar = \"전역 변수\"; function accessGlobal() { console.log(globalVar); // \"전역 변수\" } accessGlobal(); console.log(globalVar); // \"전역 변수\" 함수 내부에서는 전역 변수와 동일한 이름의 지역 변수를 선언할 수 있으며, 이때 지역 변수는 전역 변수를 가린다(shadowing).\n1 2 3 4 5 6 7 8 9 var name = \"전역 이름\"; function showName() { var name = \"지역 이름\"; // 전역 변수 name을 가림 console.log(name); // \"지역 이름\" } showName(); console.log(name); // \"전역 이름\" (전역 변수는 변경되지 않음) 변수 선언 키워드와 함수 스코프 JavaScript에서는 변수를 선언하는 세 가지 키워드(var, let, const)가 있으며, 각각 다른 스코프 특성을 가진다.\nVar와 함수 스코프 var로 선언된 변수는 함수 스코프를 가진다. 즉, 변수는 선언된 함수 내부 전체에서 접근 가능하다.\n1 2 3 4 5 6 7 8 9 10 11 12 function varExample() { var x = 1; if (true) { var x = 2; // 같은 함수 내의 x를 재할당 console.log(x); // 2 } console.log(x); // 2 (if 블록 밖에서도 변경된 값이 유지됨) } varExample(); 이러한 특성으로 인해 var는 예상치 못한 동작을 일으킬 수 있다.\nLet, Const와 블록 스코프 ES6에서 도입된 let과 const는 블록 스코프를 가진다.\n이들은 함수 스코프보다 더 제한적인 스코프를 제공한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 function letConstExample() { let x = 1; const y = 2; if (true) { let x = 3; // 새로운 블록 스코프에 x 선언 const y = 4; // 새로운 블록 스코프에 y 선언 console.log(x, y); // 3, 4 } console.log(x, y); // 1, 2 (바깥쪽 변수는 영향받지 않음) } letConstExample(); 함수 스코프와 호이스팅(Hoisting) 호이스팅은 JavaScript 엔진이 실행 전에 변수와 함수 선언을 해당 스코프의 맨 위로 끌어올리는 것처럼 동작하는 메커니즘이다.\n변수 호이스팅 var로 선언된 변수는 함수 스코프의 최상단으로 호이스팅되지만, 초기화는 원래 위치에서 이루어진다.\n1 2 3 4 5 6 7 8 function hoistingExample() { console.log(hoistedVar); // undefined (오류는 발생하지 않음) var hoistedVar = \"초기화 후\"; console.log(hoistedVar); // \"초기화 후\" } hoistingExample(); 위 코드는 내부적으로 다음과 같이 해석된다:\n1 2 3 4 5 6 7 function hoistingExample() { var hoistedVar; // 선언이 최상단으로 호이스팅됨 console.log(hoistedVar); // undefined hoistedVar = \"초기화 후\"; // 초기화는 원래 위치에서 발생 console.log(hoistedVar); // \"초기화 후\" } 함수 호이스팅 함수 선언(function declaration)은 전체가 호이스팅되어 선언 전에도 호출할 수 있다.\n1 2 3 4 5 6 7 8 9 10 11 function functionHoistingExample() { // 함수 호출이 선언보다 앞에 있음 console.log(hoistedFunction()); // \"함수가 호이스팅됨\" // 함수 선언 function hoistedFunction() { return \"함수가 호이스팅됨\"; } } functionHoistingExample(); 반면, 함수 표현식(function expression)은 변수 호이스팅 규칙을 따른다.\n1 2 3 4 5 6 7 8 9 10 11 12 function functionExpressionExample() { // console.log(functionExpression()); // TypeError: functionExpression is not a function // 함수 표현식 var functionExpression = function() { return \"함수 표현식\"; }; console.log(functionExpression()); // \"함수 표현식\" } functionExpressionExample(); 중첩 함수와 스코프 체인 함수는 다른 함수 내부에 정의될 수 있으며, 이를 중첩 함수(nested functions)라고 한다.\n중첩 함수는 자신의 스코프, 바깥 함수의 스코프, 전역 스코프를 모두 접근할 수 있다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 function outerFunction() { var outerVar = \"외부 함수 변수\"; function innerFunction() { var innerVar = \"내부 함수 변수\"; console.log(outerVar); // \"외부 함수 변수\" console.log(innerVar); // \"내부 함수 변수\" } innerFunction(); // console.log(innerVar); // ReferenceError: innerVar is not defined } outerFunction(); JavaScript 엔진은 변수를 찾을 때 현재 스코프에서 시작하여 찾지 못하면 바깥쪽 스코프로 이동하며 검색을 계속한다.\n이 과정을 스코프 체인(scope chain)이라고 한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 var global = \"전역 변수\"; function firstLevel() { var first = \"첫 번째 레벨 변수\"; function secondLevel() { var second = \"두 번째 레벨 변수\"; function thirdLevel() { var third = \"세 번째 레벨 변수\"; console.log(third); // 현재 스코프에서 찾음 console.log(second); // 부모 스코프에서 찾음 console.log(first); // 조부모 스코프에서 찾음 console.log(global); // 전역 스코프에서 찾음 } thirdLevel(); } secondLevel(); } firstLevel(); 함수 스코프와 클로저(Closure) 클로저는 함수와 그 함수가 선언된 렉시컬 환경(lexical environment)의 조합이다.\n클로저는 함수가 자신이 생성된 스코프의 변수에 계속 접근할 수 있게 한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 function createCounter() { var count = 0; // 프라이빗 변수 return function() { count++; // 외부 함수의 변수에 접근 return count; }; } var counter = createCounter(); console.log(counter()); // 1 console.log(counter()); // 2 console.log(counter()); // 3 위 예시에서 createCounter 함수는 익명 함수를 반환한다. 이 익명 함수는 createCounter의 지역 변수 count에 접근할 수 있으며, createCounter의 실행이 종료된 후에도 해당 변수는 클로저를 통해 유지된다.\n클로저는 다음과 같은 상황에서 유용하다:\n데이터 캡슐화와 정보 은닉 이벤트 핸들러와 콜백 함수 팩토리 함수와 모듈 패턴 커링(currying)과 부분 적용(partial application) 클로저를 이용한 정보 은닉 예제 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 function createPerson(name, age) { // private 변수 var _name = name; var _age = age; // public 인터페이스를 포함한 객체 반환 return { getName: function() { return _name; }, getAge: function() { return _age; }, setAge: function(newAge) { if (newAge \u003e 0 \u0026\u0026 newAge \u003c 120) { _age = newAge; } } }; } var person = createPerson(\"홍길동\", 30); console.log(person.getName()); // \"홍길동\" console.log(person.getAge()); // 30 person.setAge(31); console.log(person.getAge()); // 31 // console.log(person._age); // undefined (직접 접근 불가) 즉시 실행 함수 표현식(IIFE) 즉시 실행 함수 표현식(Immediately Invoked Function Expression, IIFE)은 정의되자마자 실행되는 함수이다.\nIIFE는 독립적인 함수 스코프를 생성하여 변수 충돌을 방지하는 데 유용하다.\n1 2 3 4 5 6 7 (function() { // IIFE 내부의 변수는 외부에서 접근 불가 var privateVar = \"비공개 변수\"; console.log(privateVar); // \"비공개 변수\" })(); // console.log(privateVar); // ReferenceError: privateVar is not defined IIFE와 모듈 패턴 모듈 패턴은 IIFE와 클로저를 결합하여 프라이빗 변수와 메소드를 가진 모듈을 생성하는 패턴이다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 var calculator = (function() { // 프라이빗 변수 var result = 0; // 프라이빗 함수 function validate(n) { return typeof n === \"number\"; } // 퍼블릭 인터페이스 return { add: function(n) { if (validate(n)) { result += n; } return this; }, subtract: function(n) { if (validate(n)) { result -= n; } return this; }, getResult: function() { return result; } }; })(); calculator.add(5).subtract(2); console.log(calculator.getResult()); // 3 // console.log(calculator.result); // undefined (직접 접근 불가) 함수 스코프와 비동기 프로그래밍 비동기 프로그래밍에서 함수 스코프와 클로저는 중요한 역할을 한다.\n특히 for 루프 내에서 비동기 함수를 사용할 때 함수 스코프를 이해하는 것이 중요하다.\nVar와 비동기 함수의 문제점 1 2 3 4 5 6 7 8 9 10 function asyncVarProblem() { for (var i = 0; i \u003c 3; i++) { // 1초 후에 i를 출력하는 비동기 함수 setTimeout(function() { console.log(i); }, 1000); } } asyncVarProblem(); // 3, 3, 3 출력 (예상과 다름) 위 코드에서 var i는 함수 스코프를 가지므로, 모든 setTimeout 콜백은 같은 i 변수를 참조한다.\n루프가 완료될 때 i는 3이 되므로, 모든 콜백은 3을 출력한다.\nIIFE로 문제 해결하기 1 2 3 4 5 6 7 8 9 10 11 12 function asyncVarSolutionWithIIFE() { for (var i = 0; i \u003c 3; i++) { // IIFE로 각 반복마다 새로운 스코프 생성 (function(index) { setTimeout(function() { console.log(index); }, 1000); })(i); } } asyncVarSolutionWithIIFE(); // 0, 1, 2 출력 Let으로 문제 해결하기 ES6의 let은 블록 스코프를 가지므로 문제를 보다 간단하게 해결할 수 있다.\n1 2 3 4 5 6 7 8 9 10 function asyncLetSolution() { for (let i = 0; i \u003c 3; i++) { // let은 각 반복마다 새로운 i를 생성 setTimeout(function() { console.log(i); }, 1000); } } asyncLetSolution(); // 0, 1, 2 출력 Var, Let, Const의 함수 스코프 비교 세 가지 변수 선언 키워드의 스코프 특성\nVar: 함수 스코프 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 function varScopeExample() { var x = 1; function innerFunc() { var y = 2; console.log(x); // 1 (외부 함수의 변수에 접근 가능) } if (true) { var x = 3; // 같은 함수 내의 x를 재할당 var z = 4; // 함수 스코프에 z 추가 } console.log(x); // 3 (if 블록에서 변경됨) console.log(z); // 4 (if 블록 외부에서도 접근 가능) innerFunc(); } varScopeExample(); Let과 Const: 블록 스코프 + 함수 스코프 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 function letConstScopeExample() { let x = 1; const y = 2; function innerFunc() { let a = 3; const b = 4; console.log(x, y); // 1, 2 (외부 함수의 변수에 접근 가능) } if (true) { let x = 5; // 새로운 블록 스코프에 x 선언 const y = 6; // 새로운 블록 스코프에 y 선언 let z = 7; // 블록 스코프에 z 선언 console.log(x, y); // 5, 6 } console.log(x, y); // 1, 2 (if 블록의 변수는 이 스코프에 영향 없음) // console.log(z); // ReferenceError: z is not defined innerFunc(); } letConstScopeExample(); 화살표 함수와 This 바인딩 일반 함수와 달리, 화살표 함수(arrow function)는 자신만의 this 바인딩을 생성하지 않는다.\n대신, 화살표 함수는 정의된 함수 스코프의 this 값을 상속받는다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 function ThisBindingExample() { this.value = 42; // 일반 함수 - 자신의 this 바인딩을 가짐 this.regularMethod = function() { console.log(this.value); // undefined (메서드 호출 방식에 따라 다름) }; // 화살표 함수 - 외부 스코프의 this를 사용 this.arrowMethod = () =\u003e { console.log(this.value); // 42 }; // 비교 테스트 setTimeout(this.regularMethod, 1000); // undefined setTimeout(this.arrowMethod, 1000); // 42 } const example = new ThisBindingExample(); 이 차이는 setTimeout과 같은 비동기 함수나 이벤트 핸들러에서 특히 중요하다.\n함수 스코프와 매개변수 함수의 매개변수(parameters)는 함수 스코프 내에서 지역 변수처럼 작동한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 function parameterExample(a, b) { console.log(a, b); // 1, 2 // 매개변수를 가리는 지역 변수 선언 var a = 3; console.log(a, b); // 3, 2 function innerFunction() { // 외부 함수의 매개변수와 변수에 접근 가능 console.log(a, b); // 3, 2 } innerFunction(); } parameterExample(1, 2); ES6의 기본 매개변수(default parameters)와 나머지 매개변수(rest parameters)도 함수 스코프에서 사용 가능하다.\n1 2 3 4 5 6 7 8 9 10 11 12 function defaultParameterExample(a = 1, b = a + 1) { console.log(a, b); // 1, 2 } defaultParameterExample(); function restParameterExample(a,...rest) { console.log(a); // 1 console.log(rest); // [2, 3, 4] } restParameterExample(1, 2, 3, 4); 함수 스코프와 Arguments 객체 모든 함수(화살표 함수 제외)는 arguments 객체를 자동으로 가지고 있다. 이 객체는 함수에 전달된 모든 인수에 접근할 수 있게 해준다.\n1 2 3 4 5 6 7 8 9 10 11 function argumentsExample() { console.log(arguments); // Arguments 객체 console.log(arguments[0]); // 첫 번째 인수 console.log(arguments.length); // 인수의 개수 // 배열로 변환 const args = Array.from(arguments); args.forEach(arg =\u003e console.log(arg)); } argumentsExample(1, \"두번째\", true); arguments 객체는 함수 스코프 내에서만 존재하며, 내부 함수는 자신만의 arguments 객체를 가진다.\n1 2 3 4 5 6 7 8 9 10 11 function outerFunction(a, b) { console.log(\"외부 함수 arguments:\", arguments); // [1, 2] function innerFunction(c, d) { console.log(\"내부 함수 arguments:\", arguments); // [3, 4] } innerFunction(3, 4); } outerFunction(1, 2); 함수 스코프와 엄격 모드 엄격 모드(‘use strict’)는 함수 스코프에 영향을 미친다.\n특히, 엄격 모드에서는 선언되지 않은 변수에 할당하면 오류가 발생한다.\n1 2 3 4 5 6 7 8 9 10 11 12 function nonStrictFunction() { undeclaredVar = \"선언 없이 할당\"; // 문제 없음 (전역 객체에 속성 생성) console.log(undeclaredVar); } function strictFunction() { 'use strict'; // undeclaredVar = \"선언 없이 할당\"; // ReferenceError: undeclaredVar is not defined } nonStrictFunction(); strictFunction(); 엄격 모드는 함수 단위로 적용할 수 있으며, 특정 함수에만 엄격 모드를 적용하려면 함수 본문 시작 부분에 ‘use strict’ 지시어를 추가한다.\n함수 스코프의 실제 활용 예제 데이터 캡슐화와 은닉 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 const userManager = (function() { // 프라이빗 데이터 const users = []; let nextId = 1; // 프라이빗 함수 function validateUser(user) { return user \u0026\u0026 user.name \u0026\u0026 typeof user.name === \"string\"; } // 퍼블릭 API return { addUser: function(user) { if (validateUser(user)) { const newUser = { …user, id: nextId++ }; users.push(newUser); return newUser.id; } return null; }, getUserById: function(id) { const user = users.find(user =\u003e user.id === id); if (user) { // 복사본 반환하여 원본 보호 return { …user }; } return null; }, getAllUsers: function() { // 복사본 배열 반환하여 원본 보호 return users.map(user =\u003e ({ …user })); } }; })(); // 사용 예 const userId = userManager.addUser({ name: \"홍길동\", age: 30 }); console.log(userManager.getUserById(userId)); // { name: \"홍길동\", age: 30, id: 1 } console.log(userManager.getAllUsers()); // [{ name: \"홍길동\", age: 30, id: 1 }] 함수 팩토리 1 2 3 4 5 6 7 8 9 10 11 12 function createMultiplier(multiplier) { // 외부 함수의 매개변수를 내부 함수가 기억 return function(number) { return number * multiplier; }; } const double = createMultiplier(2); const triple = createMultiplier(3); console.log(double(5)); // 10 console.log(triple(5)); // 15 이벤트 핸들러와 클로저 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 function setupButtons() { const buttons = document.querySelectorAll('.button'); buttons.forEach(function(button, index) { // 각 버튼에 대한 데이터 설정 const buttonData = { id: `button-${index}`, clickCount: 0 }; // 이벤트 리스너 등록 button.addEventListener('click', function() { // 클로저를 통해 buttonData에 계속 접근 가능 buttonData.clickCount++; console.log(`${buttonData.id} 클릭 수: ${buttonData.clickCount}`); }); }); } 모듈 패턴으로 상태 관리 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 const counterModule = (function() { // 프라이빗 상태 let count = 0; let lastOperation = null; // 프라이빗 함수 function validateNumber(n) { return typeof n === \"number\" \u0026\u0026 !isNaN(n); } function updateLastOperation(operation, value) { lastOperation = { type: operation, value, timestamp: new Date() }; } // 퍼블릭 API return { increment: function(n = 1) { if (validateNumber(n)) { count += n; updateLastOperation(\"increment\", n); } return count; }, decrement: function(n = 1) { if (validateNumber(n)) { count -= n; updateLastOperation(\"decrement\", n); } return count; }, getCount: function() { return count; }, getLastOperation: function() { return lastOperation ? { …lastOperation } : null; }, reset: function() { count = 0; updateLastOperation(\"reset\", 0); return count; } }; })(); console.log(counterModule.increment(5)); // 5 console.log(counterModule.decrement(2)); // 3 console.log(counterModule.getLastOperation()); // { type: \"decrement\", value: 2, timestamp: Date } 함수 스코프 관련 일반적인 문제와 해결 방법 전역 네임스페이스 오염 문제: 전역 변수와 함수가 너무 많아 이름 충돌이 발생할 수 있다.\n해결: 네임스페이스 패턴이나 모듈 패턴을 사용한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 // 네임스페이스 패턴 var MyApp = MyApp || {}; MyApp.utils = { formatDate: function(date) { /* 구현 */ }, calculateAge: function(birthDate) { /* 구현 */ } }; MyApp.models = { User: function(name) { /* 구현 */ } }; // 사용 MyApp.utils.formatDate(new Date()); 반복문에서의 클로저 문제 문제: var를 사용한 반복문에서 비동기 함수를 생성할 때 예상치 못한 동작이 발생한다.\n해결: 즉시 실행 함수(IIFE)나 let을 사용한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 // IIFE 해결법 for (var i = 0; i \u003c 3; i++) { (function(index) { setTimeout(function() { console.log(index); }, 1000); })(i); } // let 해결법 for (let i = 0; i \u003c 3; i++) { setTimeout(function() { console.log(i); }, 1000); } This 컨텍스트 문제 문제: 함수 내에서 this가 예상과 다르게 바인딩된다.\n해결: 화살표 함수, bind(), var self = this 패턴을 사용한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 function ThisProblemExample() { this.value = 42; // 문제 setTimeout(function() { console.log(this.value); // undefined (this가 전역 객체를 가리킴) }, 1000); // 해결책 1: 화살표 함수 사용 setTimeout(() =\u003e { console.log(this.value); // 42 }, 1000); // 해결책 2: bind() 사용 setTimeout(function() { console.log(this.value); // 42 }.bind(this), 1000); // 해결책 3: self 패턴 사용 var self = this; setTimeout(function() { console.log(self.value); // 42 }, 1000); } new ThisProblemExample(); 함수 스코프와 메모리 관리 함수 스코프는 메모리 관리에도 중요한 영향을 미친다.\n함수가 종료되면 해당 함수 스코프의 변수들은 일반적으로 가비지 컬렉션의 대상이 된다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 function processLargeData() { // 대용량 데이터 생성 const largeArray = new Array(10000000).fill('데이터'); // 데이터 처리 const result = largeArray.reduce((acc, item) =\u003e acc + item.length, 0); // 함수가 종료되면 largeArray는 가비지 컬렉션 대상이 됨 return result; } const result = processLargeData(); // 이 시점에서 largeArray는 메모리에서 해제될 수 있음 하지만 클로저가 사용되면 해당 변수는 계속 유지된다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 function createDataManager() { // 대용량 데이터 생성 const largeArray = new Array(1000000).fill('데이터'); // 클로저가 largeArray를 참조하므로 메모리에서 해제되지 않음 return { getItem: function(index) { return largeArray[index]; }, getLength: function() { return largeArray.length; } }; } const manager = createDataManager(); // largeArray는 계속 메모리에 유지됨 메모리 누수 방지하기 클로저를 사용할 때 발생할 수 있는 메모리 누수를 방지하는 방법:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 function setupEventHandlers() { const button = document.getElementById('myButton'); const largeData = new Array(1000000).fill('데이터'); button.addEventListener('click', function() { console.log(largeData.length); }); // 해결책: 함수 종료 시 불필요한 참조 제거 return function cleanup() { button.removeEventListener('click', function() { console.log(largeData.length); }); // 참조 제거 largeData.length = 0; }; } const cleanup = setupEventHandlers(); // 나중에 정리가 필요할 때 // cleanup(); ES6 모듈과 함수 스코프 ES6 모듈 시스템은 파일 기반 스코프를 제공하며, 함수 스코프와 함께 사용하면 더욱 강력한 모듈화가 가능하다.\n1 2 3 4 5 6 7 8 9 // moduleA.js const privateData = \"private\"; export function publicFunction() { console.log(privateData); return \"public\"; } // privateData는 이 모듈 내에서만 접근 가능 1 2 3 4 5 // moduleB.js import { publicFunction } from './moduleA.js'; console.log(publicFunction()); // \"public\" // console.log(privateData); // ReferenceError: privateData is not defined 모듈 패턴과 ES6 모듈 비교 ES6 이전에는 IIFE와 클로저를 사용한 모듈 패턴이 널리 사용되었다:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 // 전통적인 모듈 패턴 var MyModule = (function() { // 프라이빗 변수 var privateVar = \"private\"; // 프라이빗 함수 function privateFunction() { return privateVar; } // 퍼블릭 API return { publicFunction: function() { return privateFunction(); } }; })(); console.log(MyModule.publicFunction()); // \"private\" // console.log(MyModule.privateVar); // undefined ES6 모듈은 이런 패턴을 더 깔끔하게 대체할 수 있다:\n1 2 3 4 5 6 7 8 9 10 11 12 // module.js // 프라이빗 변수와 함수 (export하지 않으면 모듈 외부에서 접근 불가) const privateVar = \"private\"; function privateFunction() { return privateVar; } // 퍼블릭 API (export한 것만 외부에서 접근 가능) export function publicFunction() { return privateFunction(); } 함수 스코프와 재귀 함수 재귀 함수는 자기 자신을 호출하는 함수로, 함수 스코프와 밀접한 관련이 있다.\n1 2 3 4 5 6 7 8 9 function factorial(n) { // 재귀 종료 조건 if (n \u003c= 1) return 1; // 자기 자신을 호출 (함수 스코프 내에서 자신을 참조) return n * factorial(n - 1); } console.log(factorial(5)); // 120 함수 표현식으로 정의된 재귀 함수는 함수 이름이 함수 스코프 내에만 존재한다:\n1 2 3 4 5 6 7 8 9 const factorial = function innerFactorial(n) { if (n \u003c= 1) return 1; // innerFactorial은 함수 내부에서만 접근 가능 return n * innerFactorial(n - 1); }; console.log(factorial(5)); // 120 // console.log(innerFactorial(5)); // ReferenceError: innerFactorial is not defined 함수 스코프와 디버깅 기법 함수 스코프 관련 문제를 디버깅하는 방법:\n콘솔 로깅 기법 1 2 3 4 5 6 7 8 9 10 11 12 13 function scopeDebugging() { const outerVar = \"외부 변수\"; function innerFunction() { const innerVar = \"내부 변수\"; console.log({ scope: \"innerFunction\", outerVar, innerVar }); } console.log({ scope: \"scopeDebugging\", outerVar }); innerFunction(); } scopeDebugging(); 크롬 개발자 도구에서의 스코프 확인 크롬 개발자 도구의 Sources 패널에서 디버거를 사용하면:\nScope 패널에서 현재 함수 스코프의 모든 변수 확인 가능 Call Stack 패널에서 중첩된 함수 호출 스택 확인 가능 중단점(breakpoint)을 설정하여 스코프 확인 가능 고급 함수 스코프 패턴 커링(Currying) 커링은 여러 개의 인수를 받는 함수를 하나의 인수만 받는 함수 여러 개로 분리하는 기법이다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 // 일반 함수 function multiply(a, b) { return a * b; } // 커링된 함수 function curryMultiply(a) { // 내부 함수가 외부 함수의 매개변수에 접근 return function(b) { return a * b; }; } const multiplyBy2 = curryMultiply(2); console.log(multiplyBy2(5)); // 10 console.log(multiplyBy2(10)); // 20 메모이제이션(Memoization) 메모이제이션은 함수의 결과를 캐싱하여 동일한 입력에 대해 계산을 반복하지 않는 최적화 기법이다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 function createMemoizedFunction(fn) { // 클로저를 사용하여 캐시 저장 const cache = {}; return function(...args) { const key = JSON.stringify(args); if (key in cache) { console.log('캐시에서 결과 반환'); return cache[key]; } console.log('계산 수행'); const result = fn.apply(this, args); cache[key] = result; return result; }; } const memoizedFactorial = createMemoizedFunction(function(n) { if (n \u003c= 1) return 1; return n * this(n - 1); }); console.log(memoizedFactorial(5)); // 계산 수행 (여러 번) + 결과 console.log(memoizedFactorial(5)); // 캐시에서 결과 반환 + 결과 함수 스코프 관련 모범 사례 전역 변수 최소화하기 전역 변수는 충돌과 예상치 못한 동작의 원인이 될 수 있다. 모듈 패턴, IIFE, ES6 모듈을 사용하여 전역 스코프 오염을 방지하는 것이 좋다. 즉시 실행 함수로 스코프 격리하기\n독립적인 기능을 IIFE로 감싸 스코프를 격리한다. 클로저 신중하게 사용하기\n클로저는 강력하지만 메모리 누수의 원인이 될 수 있다. 필요할 때만 클로저를 사용하고, 사용이 끝나면 참조를 제거한다. var 대신 let과 const 사용하기\nvar는 함수 스코프를, let과 const는 블록 스코프를 갖는다. 블록 스코프가 더 예측 가능한 동작을 제공한다. 함수는 필요한 만큼만 중첩하기\n과도한 함수 중첩은 디버깅을 어렵게 만들 수 있다. 일반적으로 3-4단계 이상의 중첩은 피하는 것이 좋다. 매개변수와 지역 변수 이름 충돌 피하기\n매개변수와 동일한 이름의 지역 변수를 선언하면 혼란을 야기할 수 있다. 함수 표현식에 이름 부여하기\n이름 있는 함수 표현식은 디버깅과 재귀에 유용하다. 모듈 패턴 활용하기\n관련 기능을 모듈로 그룹화하고 필요한 API만 노출한다. 참고 및 출처 ","wordCount":"3815","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-12-25T14:18:00Z","dateModified":"2024-12-25T14:18:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/javascript/core-concepts/variables/scopes/function/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>Computer Science and Engineering</a>&nbsp;»&nbsp;<a href>Programming Languages</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/>JavaScript and TypeScript</a>&nbsp;»&nbsp;<a href>자바스크립트(JavaScript)</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/javascript/core-concepts/variables/>Variables</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/javascript/core-concepts/variables/scopes/>scopes</a></div><h1 class="post-title entry-hint-parent">Function</h1><div class=post-description>함수 스코프란 함수 내부에 선언된 변수와 함수가 해당 함수 내부에서만 접근 가능하다는 JavaScript의 특성을 의미한다.</div><div class=post-meta><span title='2024-12-25 14:18:00 +0000 UTC'>December 25, 2024</span>&nbsp;·&nbsp;18 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Programming%20Languages/JavaScript%20and%20TypeScript/JavaScript/Core%20Concepts/Variables/scopes/function.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#function>Function</a><ul><li><a href=#함수-스코프의-정의>함수 스코프의 정의</a></li><li><a href=#함수-스코프와-전역-스코프의-관계>함수 스코프와 전역 스코프의 관계</a></li><li><a href=#변수-선언-키워드와-함수-스코프>변수 선언 키워드와 함수 스코프</a></li><li><a href=#중첩-함수와-스코프-체인>중첩 함수와 스코프 체인</a></li><li><a href=#함수-스코프와-클로저closure>함수 스코프와 클로저(Closure)</a></li><li><a href=#즉시-실행-함수-표현식iife>즉시 실행 함수 표현식(IIFE)</a></li><li><a href=#함수-스코프와-비동기-프로그래밍>함수 스코프와 비동기 프로그래밍</a></li><li><a href=#var-let-const의-함수-스코프-비교>Var, Let, Const의 함수 스코프 비교</a></li><li><a href=#화살표-함수와-this-바인딩>화살표 함수와 This 바인딩</a></li><li><a href=#함수-스코프와-매개변수>함수 스코프와 매개변수</a></li><li><a href=#함수-스코프와-arguments-객체>함수 스코프와 Arguments 객체</a></li><li><a href=#함수-스코프와-엄격-모드>함수 스코프와 엄격 모드</a></li><li><a href=#함수-스코프의-실제-활용-예제>함수 스코프의 실제 활용 예제</a></li><li><a href=#함수-스코프-관련-일반적인-문제와-해결-방법>함수 스코프 관련 일반적인 문제와 해결 방법</a></li><li><a href=#함수-스코프와-메모리-관리>함수 스코프와 메모리 관리</a></li><li><a href=#es6-모듈과-함수-스코프>ES6 모듈과 함수 스코프</a></li><li><a href=#함수-스코프와-재귀-함수>함수 스코프와 재귀 함수</a></li><li><a href=#함수-스코프와-디버깅-기법>함수 스코프와 디버깅 기법</a></li><li><a href=#고급-함수-스코프-패턴>고급 함수 스코프 패턴</a></li><li><a href=#함수-스코프-관련-모범-사례>함수 스코프 관련 모범 사례</a></li></ul></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=function>Function<a hidden class=anchor aria-hidden=true href=#function>#</a></h2><p>JavaScript의 함수 스코프(Function Scope)는 함수 내에서 선언된 변수의 가시성과 접근성을 정의하는 중요한 개념이다. 이 스코프는 JavaScript의 변수 관리 및 코드 구조에 큰 영향을 미친다.</p><h3 id=함수-스코프의-정의>함수 스코프의 정의<a hidden class=anchor aria-hidden=true href=#함수-스코프의-정의>#</a></h3><p>함수 스코프란 함수 내부에 선언된 변수와 함수가 해당 함수 내부에서만 접근 가능하다는 JavaScript의 특성을 의미한다.<br>이는 함수가 자신만의 독립적인 변수 환경을 가지고 있음을 뜻한다.<br>함수가 실행될 때 생성되고, 함수가 종료되면 메모리에서 사라진다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3>3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4>4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5>5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6>6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7>7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8>8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>exampleFunction</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 이 변수는 함수 내부에서만 접근 가능
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>var</span> <span class=nx>functionScopedVar</span> <span class=o>=</span> <span class=s2>&#34;함수 스코프 내부 변수&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>functionScopedVar</span><span class=p>);</span> <span class=c1>// &#34;함수 스코프 내부 변수&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>exampleFunction</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=c1>// console.log(functionScopedVar); // ReferenceError: functionScopedVar is not defined
</span></span></span></code></pre></td></tr></table></div></div><p>위 예시에서 <code>functionScopedVar</code>는 <code>exampleFunction</code> 내부에서만 존재하며, 함수 외부에서는 접근할 수 없다.</p><h3 id=함수-스코프와-전역-스코프의-관계>함수 스코프와 전역 스코프의 관계<a hidden class=anchor aria-hidden=true href=#함수-스코프와-전역-스코프의-관계>#</a></h3><p>JavaScript에서 함수 외부에 선언된 변수는 전역 스코프(global scope)에 속한다. 전역 변수는 어떤 함수 내에서도 접근할 수 있다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2>2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3>3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4>4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5>5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6>6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7>7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8>8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 전역 스코프에 선언된 변수
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>globalVar</span> <span class=o>=</span> <span class=s2>&#34;전역 변수&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>accessGlobal</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>globalVar</span><span class=p>);</span> <span class=c1>// &#34;전역 변수&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>accessGlobal</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>globalVar</span><span class=p>);</span> <span class=c1>// &#34;전역 변수&#34;
</span></span></span></code></pre></td></tr></table></div></div><p>함수 내부에서는 전역 변수와 동일한 이름의 지역 변수를 선언할 수 있으며, 이때 지역 변수는 전역 변수를 가린다(shadowing).</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3>3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4>4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5>5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6>6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7>7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8>8</a>
</span><span class=lnt id=hl-2-9><a class=lnlinks href=#hl-2-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>name</span> <span class=o>=</span> <span class=s2>&#34;전역 이름&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>showName</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>name</span> <span class=o>=</span> <span class=s2>&#34;지역 이름&#34;</span><span class=p>;</span> <span class=c1>// 전역 변수 name을 가림
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>name</span><span class=p>);</span> <span class=c1>// &#34;지역 이름&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>showName</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>name</span><span class=p>);</span> <span class=c1>// &#34;전역 이름&#34; (전역 변수는 변경되지 않음)
</span></span></span></code></pre></td></tr></table></div></div><h3 id=변수-선언-키워드와-함수-스코프>변수 선언 키워드와 함수 스코프<a hidden class=anchor aria-hidden=true href=#변수-선언-키워드와-함수-스코프>#</a></h3><p>JavaScript에서는 변수를 선언하는 세 가지 키워드(<code>var</code>, <code>let</code>, <code>const</code>)가 있으며, 각각 다른 스코프 특성을 가진다.</p><h4 id=var와-함수-스코프>Var와 함수 스코프<a hidden class=anchor aria-hidden=true href=#var와-함수-스코프>#</a></h4><p><code>var</code>로 선언된 변수는 함수 스코프를 가진다. 즉, 변수는 선언된 함수 내부 전체에서 접근 가능하다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span><span class=lnt id=hl-3-12><a class=lnlinks href=#hl-3-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>varExample</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>x</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=kc>true</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>x</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span> <span class=c1>// 같은 함수 내의 x를 재할당
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>x</span><span class=p>);</span> <span class=c1>// 2
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>x</span><span class=p>);</span> <span class=c1>// 2 (if 블록 밖에서도 변경된 값이 유지됨)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>varExample</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><p>이러한 특성으로 인해 <code>var</code>는 예상치 못한 동작을 일으킬 수 있다.</p><h4 id=let-const와-블록-스코프>Let, Const와 블록 스코프<a hidden class=anchor aria-hidden=true href=#let-const와-블록-스코프>#</a></h4><p>ES6에서 도입된 <code>let</code>과 <code>const</code>는 블록 스코프를 가진다.<br>이들은 함수 스코프보다 더 제한적인 스코프를 제공한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1> 1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2> 2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3> 3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4> 4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5> 5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6> 6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7> 7</a>
</span><span class=lnt id=hl-4-8><a class=lnlinks href=#hl-4-8> 8</a>
</span><span class=lnt id=hl-4-9><a class=lnlinks href=#hl-4-9> 9</a>
</span><span class=lnt id=hl-4-10><a class=lnlinks href=#hl-4-10>10</a>
</span><span class=lnt id=hl-4-11><a class=lnlinks href=#hl-4-11>11</a>
</span><span class=lnt id=hl-4-12><a class=lnlinks href=#hl-4-12>12</a>
</span><span class=lnt id=hl-4-13><a class=lnlinks href=#hl-4-13>13</a>
</span><span class=lnt id=hl-4-14><a class=lnlinks href=#hl-4-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>letConstExample</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>y</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=kc>true</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=mi>3</span><span class=p>;</span> <span class=c1>// 새로운 블록 스코프에 x 선언
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>y</span> <span class=o>=</span> <span class=mi>4</span><span class=p>;</span> <span class=c1>// 새로운 블록 스코프에 y 선언
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>);</span> <span class=c1>// 3, 4
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>);</span> <span class=c1>// 1, 2 (바깥쪽 변수는 영향받지 않음)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>letConstExample</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=함수-스코프와-호이스팅hoisting>함수 스코프와 호이스팅(Hoisting)<a hidden class=anchor aria-hidden=true href=#함수-스코프와-호이스팅hoisting>#</a></h4><p>호이스팅은 JavaScript 엔진이 실행 전에 변수와 함수 선언을 해당 스코프의 맨 위로 끌어올리는 것처럼 동작하는 메커니즘이다.</p><h4 id=변수-호이스팅>변수 호이스팅<a hidden class=anchor aria-hidden=true href=#변수-호이스팅>#</a></h4><p><code>var</code>로 선언된 변수는 함수 스코프의 최상단으로 호이스팅되지만, 초기화는 원래 위치에서 이루어진다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2>2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3>3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4>4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5>5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6>6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7>7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>hoistingExample</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>hoistedVar</span><span class=p>);</span> <span class=c1>// undefined (오류는 발생하지 않음)
</span></span></span><span class=line><span class=cl><span class=c1></span>  
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>hoistedVar</span> <span class=o>=</span> <span class=s2>&#34;초기화 후&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>hoistedVar</span><span class=p>);</span> <span class=c1>// &#34;초기화 후&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>hoistingExample</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><p>위 코드는 내부적으로 다음과 같이 해석된다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1>1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2>2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3>3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4>4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5>5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6>6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>hoistingExample</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>hoistedVar</span><span class=p>;</span> <span class=c1>// 선언이 최상단으로 호이스팅됨
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>hoistedVar</span><span class=p>);</span> <span class=c1>// undefined
</span></span></span><span class=line><span class=cl><span class=c1></span>  
</span></span><span class=line><span class=cl>  <span class=nx>hoistedVar</span> <span class=o>=</span> <span class=s2>&#34;초기화 후&#34;</span><span class=p>;</span> <span class=c1>// 초기화는 원래 위치에서 발생
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>hoistedVar</span><span class=p>);</span> <span class=c1>// &#34;초기화 후&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=함수-호이스팅>함수 호이스팅<a hidden class=anchor aria-hidden=true href=#함수-호이스팅>#</a></h4><p>함수 선언(function declaration)은 전체가 호이스팅되어 선언 전에도 호출할 수 있다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1> 1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2> 2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3> 3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4> 4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5> 5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6> 6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7> 7</a>
</span><span class=lnt id=hl-7-8><a class=lnlinks href=#hl-7-8> 8</a>
</span><span class=lnt id=hl-7-9><a class=lnlinks href=#hl-7-9> 9</a>
</span><span class=lnt id=hl-7-10><a class=lnlinks href=#hl-7-10>10</a>
</span><span class=lnt id=hl-7-11><a class=lnlinks href=#hl-7-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>functionHoistingExample</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 함수 호출이 선언보다 앞에 있음
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>hoistedFunction</span><span class=p>());</span> <span class=c1>// &#34;함수가 호이스팅됨&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>  
</span></span><span class=line><span class=cl>  <span class=c1>// 함수 선언
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>function</span> <span class=nx>hoistedFunction</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s2>&#34;함수가 호이스팅됨&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>functionHoistingExample</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><p>반면, 함수 표현식(function expression)은 변수 호이스팅 규칙을 따른다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span><span class=lnt id=hl-8-11><a class=lnlinks href=#hl-8-11>11</a>
</span><span class=lnt id=hl-8-12><a class=lnlinks href=#hl-8-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>functionExpressionExample</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// console.log(functionExpression()); // TypeError: functionExpression is not a function
</span></span></span><span class=line><span class=cl><span class=c1></span>  
</span></span><span class=line><span class=cl>  <span class=c1>// 함수 표현식
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>var</span> <span class=nx>functionExpression</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s2>&#34;함수 표현식&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>functionExpression</span><span class=p>());</span> <span class=c1>// &#34;함수 표현식&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>functionExpressionExample</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=중첩-함수와-스코프-체인>중첩 함수와 스코프 체인<a hidden class=anchor aria-hidden=true href=#중첩-함수와-스코프-체인>#</a></h3><p>함수는 다른 함수 내부에 정의될 수 있으며, 이를 중첩 함수(nested functions)라고 한다.<br>중첩 함수는 자신의 스코프, 바깥 함수의 스코프, 전역 스코프를 모두 접근할 수 있다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11>11</a>
</span><span class=lnt id=hl-9-12><a class=lnlinks href=#hl-9-12>12</a>
</span><span class=lnt id=hl-9-13><a class=lnlinks href=#hl-9-13>13</a>
</span><span class=lnt id=hl-9-14><a class=lnlinks href=#hl-9-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>outerFunction</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>outerVar</span> <span class=o>=</span> <span class=s2>&#34;외부 함수 변수&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=nx>innerFunction</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>innerVar</span> <span class=o>=</span> <span class=s2>&#34;내부 함수 변수&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>outerVar</span><span class=p>);</span> <span class=c1>// &#34;외부 함수 변수&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>innerVar</span><span class=p>);</span> <span class=c1>// &#34;내부 함수 변수&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>innerFunction</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=c1>// console.log(innerVar); // ReferenceError: innerVar is not defined
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>outerFunction</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><p>JavaScript 엔진은 변수를 찾을 때 현재 스코프에서 시작하여 찾지 못하면 바깥쪽 스코프로 이동하며 검색을 계속한다.<br>이 과정을 스코프 체인(scope chain)이라고 한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1> 1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2> 2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3> 3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4> 4</a>
</span><span class=lnt id=hl-10-5><a class=lnlinks href=#hl-10-5> 5</a>
</span><span class=lnt id=hl-10-6><a class=lnlinks href=#hl-10-6> 6</a>
</span><span class=lnt id=hl-10-7><a class=lnlinks href=#hl-10-7> 7</a>
</span><span class=lnt id=hl-10-8><a class=lnlinks href=#hl-10-8> 8</a>
</span><span class=lnt id=hl-10-9><a class=lnlinks href=#hl-10-9> 9</a>
</span><span class=lnt id=hl-10-10><a class=lnlinks href=#hl-10-10>10</a>
</span><span class=lnt id=hl-10-11><a class=lnlinks href=#hl-10-11>11</a>
</span><span class=lnt id=hl-10-12><a class=lnlinks href=#hl-10-12>12</a>
</span><span class=lnt id=hl-10-13><a class=lnlinks href=#hl-10-13>13</a>
</span><span class=lnt id=hl-10-14><a class=lnlinks href=#hl-10-14>14</a>
</span><span class=lnt id=hl-10-15><a class=lnlinks href=#hl-10-15>15</a>
</span><span class=lnt id=hl-10-16><a class=lnlinks href=#hl-10-16>16</a>
</span><span class=lnt id=hl-10-17><a class=lnlinks href=#hl-10-17>17</a>
</span><span class=lnt id=hl-10-18><a class=lnlinks href=#hl-10-18>18</a>
</span><span class=lnt id=hl-10-19><a class=lnlinks href=#hl-10-19>19</a>
</span><span class=lnt id=hl-10-20><a class=lnlinks href=#hl-10-20>20</a>
</span><span class=lnt id=hl-10-21><a class=lnlinks href=#hl-10-21>21</a>
</span><span class=lnt id=hl-10-22><a class=lnlinks href=#hl-10-22>22</a>
</span><span class=lnt id=hl-10-23><a class=lnlinks href=#hl-10-23>23</a>
</span><span class=lnt id=hl-10-24><a class=lnlinks href=#hl-10-24>24</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>global</span> <span class=o>=</span> <span class=s2>&#34;전역 변수&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>firstLevel</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>first</span> <span class=o>=</span> <span class=s2>&#34;첫 번째 레벨 변수&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=nx>secondLevel</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>second</span> <span class=o>=</span> <span class=s2>&#34;두 번째 레벨 변수&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>function</span> <span class=nx>thirdLevel</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>third</span> <span class=o>=</span> <span class=s2>&#34;세 번째 레벨 변수&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>third</span><span class=p>);</span>  <span class=c1>// 현재 스코프에서 찾음
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>second</span><span class=p>);</span> <span class=c1>// 부모 스코프에서 찾음
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>first</span><span class=p>);</span>  <span class=c1>// 조부모 스코프에서 찾음
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>global</span><span class=p>);</span> <span class=c1>// 전역 스코프에서 찾음
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>thirdLevel</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>secondLevel</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>firstLevel</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=함수-스코프와-클로저closure>함수 스코프와 클로저(Closure)<a hidden class=anchor aria-hidden=true href=#함수-스코프와-클로저closure>#</a></h3><p>클로저는 함수와 그 함수가 선언된 렉시컬 환경(lexical environment)의 조합이다.<br>클로저는 함수가 자신이 생성된 스코프의 변수에 계속 접근할 수 있게 한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1> 1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2> 2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3> 3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4> 4</a>
</span><span class=lnt id=hl-11-5><a class=lnlinks href=#hl-11-5> 5</a>
</span><span class=lnt id=hl-11-6><a class=lnlinks href=#hl-11-6> 6</a>
</span><span class=lnt id=hl-11-7><a class=lnlinks href=#hl-11-7> 7</a>
</span><span class=lnt id=hl-11-8><a class=lnlinks href=#hl-11-8> 8</a>
</span><span class=lnt id=hl-11-9><a class=lnlinks href=#hl-11-9> 9</a>
</span><span class=lnt id=hl-11-10><a class=lnlinks href=#hl-11-10>10</a>
</span><span class=lnt id=hl-11-11><a class=lnlinks href=#hl-11-11>11</a>
</span><span class=lnt id=hl-11-12><a class=lnlinks href=#hl-11-12>12</a>
</span><span class=lnt id=hl-11-13><a class=lnlinks href=#hl-11-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>createCounter</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=c1>// 프라이빗 변수
</span></span></span><span class=line><span class=cl><span class=c1></span>  
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>count</span><span class=o>++</span><span class=p>;</span> <span class=c1>// 외부 함수의 변수에 접근
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span> <span class=nx>count</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>counter</span> <span class=o>=</span> <span class=nx>createCounter</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>counter</span><span class=p>());</span> <span class=c1>// 1
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>counter</span><span class=p>());</span> <span class=c1>// 2
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>counter</span><span class=p>());</span> <span class=c1>// 3
</span></span></span></code></pre></td></tr></table></div></div><p>위 예시에서 <code>createCounter</code> 함수는 익명 함수를 반환한다. 이 익명 함수는 <code>createCounter</code>의 지역 변수 <code>count</code>에 접근할 수 있으며, <code>createCounter</code>의 실행이 종료된 후에도 해당 변수는 클로저를 통해 유지된다.</p><p>클로저는 다음과 같은 상황에서 유용하다:</p><ol><li>데이터 캡슐화와 정보 은닉</li><li>이벤트 핸들러와 콜백 함수</li><li>팩토리 함수와 모듈 패턴</li><li>커링(currying)과 부분 적용(partial application)</li></ol><h4 id=클로저를-이용한-정보-은닉-예제>클로저를 이용한 정보 은닉 예제<a hidden class=anchor aria-hidden=true href=#클로저를-이용한-정보-은닉-예제>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1> 1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2> 2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3> 3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4> 4</a>
</span><span class=lnt id=hl-12-5><a class=lnlinks href=#hl-12-5> 5</a>
</span><span class=lnt id=hl-12-6><a class=lnlinks href=#hl-12-6> 6</a>
</span><span class=lnt id=hl-12-7><a class=lnlinks href=#hl-12-7> 7</a>
</span><span class=lnt id=hl-12-8><a class=lnlinks href=#hl-12-8> 8</a>
</span><span class=lnt id=hl-12-9><a class=lnlinks href=#hl-12-9> 9</a>
</span><span class=lnt id=hl-12-10><a class=lnlinks href=#hl-12-10>10</a>
</span><span class=lnt id=hl-12-11><a class=lnlinks href=#hl-12-11>11</a>
</span><span class=lnt id=hl-12-12><a class=lnlinks href=#hl-12-12>12</a>
</span><span class=lnt id=hl-12-13><a class=lnlinks href=#hl-12-13>13</a>
</span><span class=lnt id=hl-12-14><a class=lnlinks href=#hl-12-14>14</a>
</span><span class=lnt id=hl-12-15><a class=lnlinks href=#hl-12-15>15</a>
</span><span class=lnt id=hl-12-16><a class=lnlinks href=#hl-12-16>16</a>
</span><span class=lnt id=hl-12-17><a class=lnlinks href=#hl-12-17>17</a>
</span><span class=lnt id=hl-12-18><a class=lnlinks href=#hl-12-18>18</a>
</span><span class=lnt id=hl-12-19><a class=lnlinks href=#hl-12-19>19</a>
</span><span class=lnt id=hl-12-20><a class=lnlinks href=#hl-12-20>20</a>
</span><span class=lnt id=hl-12-21><a class=lnlinks href=#hl-12-21>21</a>
</span><span class=lnt id=hl-12-22><a class=lnlinks href=#hl-12-22>22</a>
</span><span class=lnt id=hl-12-23><a class=lnlinks href=#hl-12-23>23</a>
</span><span class=lnt id=hl-12-24><a class=lnlinks href=#hl-12-24>24</a>
</span><span class=lnt id=hl-12-25><a class=lnlinks href=#hl-12-25>25</a>
</span><span class=lnt id=hl-12-26><a class=lnlinks href=#hl-12-26>26</a>
</span><span class=lnt id=hl-12-27><a class=lnlinks href=#hl-12-27>27</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>createPerson</span><span class=p>(</span><span class=nx>name</span><span class=p>,</span> <span class=nx>age</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// private 변수
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>var</span> <span class=nx>_name</span> <span class=o>=</span> <span class=nx>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>_age</span> <span class=o>=</span> <span class=nx>age</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// public 인터페이스를 포함한 객체 반환
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>getName</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>_name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>getAge</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>_age</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>setAge</span><span class=o>:</span> <span class=kd>function</span><span class=p>(</span><span class=nx>newAge</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>newAge</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=nx>newAge</span> <span class=o>&lt;</span> <span class=mi>120</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>_age</span> <span class=o>=</span> <span class=nx>newAge</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>person</span> <span class=o>=</span> <span class=nx>createPerson</span><span class=p>(</span><span class=s2>&#34;홍길동&#34;</span><span class=p>,</span> <span class=mi>30</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>person</span><span class=p>.</span><span class=nx>getName</span><span class=p>());</span> <span class=c1>// &#34;홍길동&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>person</span><span class=p>.</span><span class=nx>getAge</span><span class=p>());</span>  <span class=c1>// 30
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>person</span><span class=p>.</span><span class=nx>setAge</span><span class=p>(</span><span class=mi>31</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>person</span><span class=p>.</span><span class=nx>getAge</span><span class=p>());</span>  <span class=c1>// 31
</span></span></span><span class=line><span class=cl><span class=c1>// console.log(person._age);   // undefined (직접 접근 불가)
</span></span></span></code></pre></td></tr></table></div></div><h3 id=즉시-실행-함수-표현식iife>즉시 실행 함수 표현식(IIFE)<a hidden class=anchor aria-hidden=true href=#즉시-실행-함수-표현식iife>#</a></h3><p>즉시 실행 함수 표현식(Immediately Invoked Function Expression, IIFE)은 정의되자마자 실행되는 함수이다.<br>IIFE는 독립적인 함수 스코프를 생성하여 변수 충돌을 방지하는 데 유용하다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1>1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2>2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3>3</a>
</span><span class=lnt id=hl-13-4><a class=lnlinks href=#hl-13-4>4</a>
</span><span class=lnt id=hl-13-5><a class=lnlinks href=#hl-13-5>5</a>
</span><span class=lnt id=hl-13-6><a class=lnlinks href=#hl-13-6>6</a>
</span><span class=lnt id=hl-13-7><a class=lnlinks href=#hl-13-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// IIFE 내부의 변수는 외부에서 접근 불가
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>var</span> <span class=nx>privateVar</span> <span class=o>=</span> <span class=s2>&#34;비공개 변수&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>privateVar</span><span class=p>);</span> <span class=c1>// &#34;비공개 변수&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>})();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// console.log(privateVar); // ReferenceError: privateVar is not defined
</span></span></span></code></pre></td></tr></table></div></div><h4 id=iife와-모듈-패턴>IIFE와 모듈 패턴<a hidden class=anchor aria-hidden=true href=#iife와-모듈-패턴>#</a></h4><p>모듈 패턴은 IIFE와 클로저를 결합하여 프라이빗 변수와 메소드를 가진 모듈을 생성하는 패턴이다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1> 1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2> 2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3> 3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4> 4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5> 5</a>
</span><span class=lnt id=hl-14-6><a class=lnlinks href=#hl-14-6> 6</a>
</span><span class=lnt id=hl-14-7><a class=lnlinks href=#hl-14-7> 7</a>
</span><span class=lnt id=hl-14-8><a class=lnlinks href=#hl-14-8> 8</a>
</span><span class=lnt id=hl-14-9><a class=lnlinks href=#hl-14-9> 9</a>
</span><span class=lnt id=hl-14-10><a class=lnlinks href=#hl-14-10>10</a>
</span><span class=lnt id=hl-14-11><a class=lnlinks href=#hl-14-11>11</a>
</span><span class=lnt id=hl-14-12><a class=lnlinks href=#hl-14-12>12</a>
</span><span class=lnt id=hl-14-13><a class=lnlinks href=#hl-14-13>13</a>
</span><span class=lnt id=hl-14-14><a class=lnlinks href=#hl-14-14>14</a>
</span><span class=lnt id=hl-14-15><a class=lnlinks href=#hl-14-15>15</a>
</span><span class=lnt id=hl-14-16><a class=lnlinks href=#hl-14-16>16</a>
</span><span class=lnt id=hl-14-17><a class=lnlinks href=#hl-14-17>17</a>
</span><span class=lnt id=hl-14-18><a class=lnlinks href=#hl-14-18>18</a>
</span><span class=lnt id=hl-14-19><a class=lnlinks href=#hl-14-19>19</a>
</span><span class=lnt id=hl-14-20><a class=lnlinks href=#hl-14-20>20</a>
</span><span class=lnt id=hl-14-21><a class=lnlinks href=#hl-14-21>21</a>
</span><span class=lnt id=hl-14-22><a class=lnlinks href=#hl-14-22>22</a>
</span><span class=lnt id=hl-14-23><a class=lnlinks href=#hl-14-23>23</a>
</span><span class=lnt id=hl-14-24><a class=lnlinks href=#hl-14-24>24</a>
</span><span class=lnt id=hl-14-25><a class=lnlinks href=#hl-14-25>25</a>
</span><span class=lnt id=hl-14-26><a class=lnlinks href=#hl-14-26>26</a>
</span><span class=lnt id=hl-14-27><a class=lnlinks href=#hl-14-27>27</a>
</span><span class=lnt id=hl-14-28><a class=lnlinks href=#hl-14-28>28</a>
</span><span class=lnt id=hl-14-29><a class=lnlinks href=#hl-14-29>29</a>
</span><span class=lnt id=hl-14-30><a class=lnlinks href=#hl-14-30>30</a>
</span><span class=lnt id=hl-14-31><a class=lnlinks href=#hl-14-31>31</a>
</span><span class=lnt id=hl-14-32><a class=lnlinks href=#hl-14-32>32</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>calculator</span> <span class=o>=</span> <span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 프라이빗 변수
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>var</span> <span class=nx>result</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 프라이빗 함수
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>function</span> <span class=nx>validate</span><span class=p>(</span><span class=nx>n</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=k>typeof</span> <span class=nx>n</span> <span class=o>===</span> <span class=s2>&#34;number&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 퍼블릭 인터페이스
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>add</span><span class=o>:</span> <span class=kd>function</span><span class=p>(</span><span class=nx>n</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>validate</span><span class=p>(</span><span class=nx>n</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>result</span> <span class=o>+=</span> <span class=nx>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>subtract</span><span class=o>:</span> <span class=kd>function</span><span class=p>(</span><span class=nx>n</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>validate</span><span class=p>(</span><span class=nx>n</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>result</span> <span class=o>-=</span> <span class=nx>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>getResult</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>})();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>calculator</span><span class=p>.</span><span class=nx>add</span><span class=p>(</span><span class=mi>5</span><span class=p>).</span><span class=nx>subtract</span><span class=p>(</span><span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>calculator</span><span class=p>.</span><span class=nx>getResult</span><span class=p>());</span> <span class=c1>// 3
</span></span></span><span class=line><span class=cl><span class=c1>// console.log(calculator.result);   // undefined (직접 접근 불가)
</span></span></span></code></pre></td></tr></table></div></div><h3 id=함수-스코프와-비동기-프로그래밍>함수 스코프와 비동기 프로그래밍<a hidden class=anchor aria-hidden=true href=#함수-스코프와-비동기-프로그래밍>#</a></h3><p>비동기 프로그래밍에서 함수 스코프와 클로저는 중요한 역할을 한다.<br>특히 <code>for</code> 루프 내에서 비동기 함수를 사용할 때 함수 스코프를 이해하는 것이 중요하다.</p><h4 id=var와-비동기-함수의-문제점>Var와 비동기 함수의 문제점<a hidden class=anchor aria-hidden=true href=#var와-비동기-함수의-문제점>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1> 1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2> 2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3> 3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4> 4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5> 5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6> 6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7> 7</a>
</span><span class=lnt id=hl-15-8><a class=lnlinks href=#hl-15-8> 8</a>
</span><span class=lnt id=hl-15-9><a class=lnlinks href=#hl-15-9> 9</a>
</span><span class=lnt id=hl-15-10><a class=lnlinks href=#hl-15-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>asyncVarProblem</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kd>var</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=mi>3</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 1초 후에 i를 출력하는 비동기 함수
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>setTimeout</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>i</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span> <span class=mi>1000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>asyncVarProblem</span><span class=p>();</span> <span class=c1>// 3, 3, 3 출력 (예상과 다름)
</span></span></span></code></pre></td></tr></table></div></div><p>위 코드에서 <code>var i</code>는 함수 스코프를 가지므로, 모든 <code>setTimeout</code> 콜백은 같은 <code>i</code> 변수를 참조한다.<br>루프가 완료될 때 <code>i</code>는 3이 되므로, 모든 콜백은 3을 출력한다.</p><h4 id=iife로-문제-해결하기>IIFE로 문제 해결하기<a hidden class=anchor aria-hidden=true href=#iife로-문제-해결하기>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1> 1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2> 2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3> 3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4> 4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5> 5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6> 6</a>
</span><span class=lnt id=hl-16-7><a class=lnlinks href=#hl-16-7> 7</a>
</span><span class=lnt id=hl-16-8><a class=lnlinks href=#hl-16-8> 8</a>
</span><span class=lnt id=hl-16-9><a class=lnlinks href=#hl-16-9> 9</a>
</span><span class=lnt id=hl-16-10><a class=lnlinks href=#hl-16-10>10</a>
</span><span class=lnt id=hl-16-11><a class=lnlinks href=#hl-16-11>11</a>
</span><span class=lnt id=hl-16-12><a class=lnlinks href=#hl-16-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>asyncVarSolutionWithIIFE</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kd>var</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=mi>3</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// IIFE로 각 반복마다 새로운 스코프 생성
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>index</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>setTimeout</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>index</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span> <span class=mi>1000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>})(</span><span class=nx>i</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>asyncVarSolutionWithIIFE</span><span class=p>();</span> <span class=c1>// 0, 1, 2 출력
</span></span></span></code></pre></td></tr></table></div></div><h4 id=let으로-문제-해결하기>Let으로 문제 해결하기<a hidden class=anchor aria-hidden=true href=#let으로-문제-해결하기>#</a></h4><p>ES6의 <code>let</code>은 블록 스코프를 가지므로 문제를 보다 간단하게 해결할 수 있다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1> 1</a>
</span><span class=lnt id=hl-17-2><a class=lnlinks href=#hl-17-2> 2</a>
</span><span class=lnt id=hl-17-3><a class=lnlinks href=#hl-17-3> 3</a>
</span><span class=lnt id=hl-17-4><a class=lnlinks href=#hl-17-4> 4</a>
</span><span class=lnt id=hl-17-5><a class=lnlinks href=#hl-17-5> 5</a>
</span><span class=lnt id=hl-17-6><a class=lnlinks href=#hl-17-6> 6</a>
</span><span class=lnt id=hl-17-7><a class=lnlinks href=#hl-17-7> 7</a>
</span><span class=lnt id=hl-17-8><a class=lnlinks href=#hl-17-8> 8</a>
</span><span class=lnt id=hl-17-9><a class=lnlinks href=#hl-17-9> 9</a>
</span><span class=lnt id=hl-17-10><a class=lnlinks href=#hl-17-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>asyncLetSolution</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=mi>3</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// let은 각 반복마다 새로운 i를 생성
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>setTimeout</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>i</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span> <span class=mi>1000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>asyncLetSolution</span><span class=p>();</span> <span class=c1>// 0, 1, 2 출력
</span></span></span></code></pre></td></tr></table></div></div><h3 id=var-let-const의-함수-스코프-비교>Var, Let, Const의 함수 스코프 비교<a hidden class=anchor aria-hidden=true href=#var-let-const의-함수-스코프-비교>#</a></h3><p>세 가지 변수 선언 키워드의 스코프 특성</p><h4 id=var-함수-스코프>Var: 함수 스코프<a hidden class=anchor aria-hidden=true href=#var-함수-스코프>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1> 1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2> 2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3> 3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4> 4</a>
</span><span class=lnt id=hl-18-5><a class=lnlinks href=#hl-18-5> 5</a>
</span><span class=lnt id=hl-18-6><a class=lnlinks href=#hl-18-6> 6</a>
</span><span class=lnt id=hl-18-7><a class=lnlinks href=#hl-18-7> 7</a>
</span><span class=lnt id=hl-18-8><a class=lnlinks href=#hl-18-8> 8</a>
</span><span class=lnt id=hl-18-9><a class=lnlinks href=#hl-18-9> 9</a>
</span><span class=lnt id=hl-18-10><a class=lnlinks href=#hl-18-10>10</a>
</span><span class=lnt id=hl-18-11><a class=lnlinks href=#hl-18-11>11</a>
</span><span class=lnt id=hl-18-12><a class=lnlinks href=#hl-18-12>12</a>
</span><span class=lnt id=hl-18-13><a class=lnlinks href=#hl-18-13>13</a>
</span><span class=lnt id=hl-18-14><a class=lnlinks href=#hl-18-14>14</a>
</span><span class=lnt id=hl-18-15><a class=lnlinks href=#hl-18-15>15</a>
</span><span class=lnt id=hl-18-16><a class=lnlinks href=#hl-18-16>16</a>
</span><span class=lnt id=hl-18-17><a class=lnlinks href=#hl-18-17>17</a>
</span><span class=lnt id=hl-18-18><a class=lnlinks href=#hl-18-18>18</a>
</span><span class=lnt id=hl-18-19><a class=lnlinks href=#hl-18-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>varScopeExample</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>x</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=nx>innerFunc</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>y</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>x</span><span class=p>);</span> <span class=c1>// 1 (외부 함수의 변수에 접근 가능)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=kc>true</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>x</span> <span class=o>=</span> <span class=mi>3</span><span class=p>;</span> <span class=c1>// 같은 함수 내의 x를 재할당
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>var</span> <span class=nx>z</span> <span class=o>=</span> <span class=mi>4</span><span class=p>;</span> <span class=c1>// 함수 스코프에 z 추가
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>x</span><span class=p>);</span> <span class=c1>// 3 (if 블록에서 변경됨)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>z</span><span class=p>);</span> <span class=c1>// 4 (if 블록 외부에서도 접근 가능)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>innerFunc</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>varScopeExample</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=let과-const-블록-스코프--함수-스코프>Let과 Const: 블록 스코프 + 함수 스코프<a hidden class=anchor aria-hidden=true href=#let과-const-블록-스코프--함수-스코프>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1> 1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2> 2</a>
</span><span class=lnt id=hl-19-3><a class=lnlinks href=#hl-19-3> 3</a>
</span><span class=lnt id=hl-19-4><a class=lnlinks href=#hl-19-4> 4</a>
</span><span class=lnt id=hl-19-5><a class=lnlinks href=#hl-19-5> 5</a>
</span><span class=lnt id=hl-19-6><a class=lnlinks href=#hl-19-6> 6</a>
</span><span class=lnt id=hl-19-7><a class=lnlinks href=#hl-19-7> 7</a>
</span><span class=lnt id=hl-19-8><a class=lnlinks href=#hl-19-8> 8</a>
</span><span class=lnt id=hl-19-9><a class=lnlinks href=#hl-19-9> 9</a>
</span><span class=lnt id=hl-19-10><a class=lnlinks href=#hl-19-10>10</a>
</span><span class=lnt id=hl-19-11><a class=lnlinks href=#hl-19-11>11</a>
</span><span class=lnt id=hl-19-12><a class=lnlinks href=#hl-19-12>12</a>
</span><span class=lnt id=hl-19-13><a class=lnlinks href=#hl-19-13>13</a>
</span><span class=lnt id=hl-19-14><a class=lnlinks href=#hl-19-14>14</a>
</span><span class=lnt id=hl-19-15><a class=lnlinks href=#hl-19-15>15</a>
</span><span class=lnt id=hl-19-16><a class=lnlinks href=#hl-19-16>16</a>
</span><span class=lnt id=hl-19-17><a class=lnlinks href=#hl-19-17>17</a>
</span><span class=lnt id=hl-19-18><a class=lnlinks href=#hl-19-18>18</a>
</span><span class=lnt id=hl-19-19><a class=lnlinks href=#hl-19-19>19</a>
</span><span class=lnt id=hl-19-20><a class=lnlinks href=#hl-19-20>20</a>
</span><span class=lnt id=hl-19-21><a class=lnlinks href=#hl-19-21>21</a>
</span><span class=lnt id=hl-19-22><a class=lnlinks href=#hl-19-22>22</a>
</span><span class=lnt id=hl-19-23><a class=lnlinks href=#hl-19-23>23</a>
</span><span class=lnt id=hl-19-24><a class=lnlinks href=#hl-19-24>24</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>letConstScopeExample</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>y</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=nx>innerFunc</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>a</span> <span class=o>=</span> <span class=mi>3</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>b</span> <span class=o>=</span> <span class=mi>4</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>);</span> <span class=c1>// 1, 2 (외부 함수의 변수에 접근 가능)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=kc>true</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=mi>5</span><span class=p>;</span> <span class=c1>// 새로운 블록 스코프에 x 선언
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>y</span> <span class=o>=</span> <span class=mi>6</span><span class=p>;</span> <span class=c1>// 새로운 블록 스코프에 y 선언
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>z</span> <span class=o>=</span> <span class=mi>7</span><span class=p>;</span> <span class=c1>// 블록 스코프에 z 선언
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>);</span> <span class=c1>// 5, 6
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>);</span> <span class=c1>// 1, 2 (if 블록의 변수는 이 스코프에 영향 없음)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// console.log(z); // ReferenceError: z is not defined
</span></span></span><span class=line><span class=cl><span class=c1></span>  
</span></span><span class=line><span class=cl>  <span class=nx>innerFunc</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>letConstScopeExample</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=화살표-함수와-this-바인딩>화살표 함수와 This 바인딩<a hidden class=anchor aria-hidden=true href=#화살표-함수와-this-바인딩>#</a></h3><p>일반 함수와 달리, 화살표 함수(arrow function)는 자신만의 <code>this</code> 바인딩을 생성하지 않는다.<br>대신, 화살표 함수는 정의된 함수 스코프의 <code>this</code> 값을 상속받는다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-20-1><a class=lnlinks href=#hl-20-1> 1</a>
</span><span class=lnt id=hl-20-2><a class=lnlinks href=#hl-20-2> 2</a>
</span><span class=lnt id=hl-20-3><a class=lnlinks href=#hl-20-3> 3</a>
</span><span class=lnt id=hl-20-4><a class=lnlinks href=#hl-20-4> 4</a>
</span><span class=lnt id=hl-20-5><a class=lnlinks href=#hl-20-5> 5</a>
</span><span class=lnt id=hl-20-6><a class=lnlinks href=#hl-20-6> 6</a>
</span><span class=lnt id=hl-20-7><a class=lnlinks href=#hl-20-7> 7</a>
</span><span class=lnt id=hl-20-8><a class=lnlinks href=#hl-20-8> 8</a>
</span><span class=lnt id=hl-20-9><a class=lnlinks href=#hl-20-9> 9</a>
</span><span class=lnt id=hl-20-10><a class=lnlinks href=#hl-20-10>10</a>
</span><span class=lnt id=hl-20-11><a class=lnlinks href=#hl-20-11>11</a>
</span><span class=lnt id=hl-20-12><a class=lnlinks href=#hl-20-12>12</a>
</span><span class=lnt id=hl-20-13><a class=lnlinks href=#hl-20-13>13</a>
</span><span class=lnt id=hl-20-14><a class=lnlinks href=#hl-20-14>14</a>
</span><span class=lnt id=hl-20-15><a class=lnlinks href=#hl-20-15>15</a>
</span><span class=lnt id=hl-20-16><a class=lnlinks href=#hl-20-16>16</a>
</span><span class=lnt id=hl-20-17><a class=lnlinks href=#hl-20-17>17</a>
</span><span class=lnt id=hl-20-18><a class=lnlinks href=#hl-20-18>18</a>
</span><span class=lnt id=hl-20-19><a class=lnlinks href=#hl-20-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>ThisBindingExample</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>this</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=mi>42</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 일반 함수 - 자신의 this 바인딩을 가짐
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>this</span><span class=p>.</span><span class=nx>regularMethod</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>value</span><span class=p>);</span> <span class=c1>// undefined (메서드 호출 방식에 따라 다름)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 화살표 함수 - 외부 스코프의 this를 사용
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>this</span><span class=p>.</span><span class=nx>arrowMethod</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>value</span><span class=p>);</span> <span class=c1>// 42
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 비교 테스트
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>setTimeout</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>regularMethod</span><span class=p>,</span> <span class=mi>1000</span><span class=p>);</span> <span class=c1>// undefined
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>setTimeout</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>arrowMethod</span><span class=p>,</span> <span class=mi>1000</span><span class=p>);</span>   <span class=c1>// 42
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>example</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>ThisBindingExample</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><p>이 차이는 <code>setTimeout</code>과 같은 비동기 함수나 이벤트 핸들러에서 특히 중요하다.</p><h3 id=함수-스코프와-매개변수>함수 스코프와 매개변수<a hidden class=anchor aria-hidden=true href=#함수-스코프와-매개변수>#</a></h3><p>함수의 매개변수(parameters)는 함수 스코프 내에서 지역 변수처럼 작동한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1> 1</a>
</span><span class=lnt id=hl-21-2><a class=lnlinks href=#hl-21-2> 2</a>
</span><span class=lnt id=hl-21-3><a class=lnlinks href=#hl-21-3> 3</a>
</span><span class=lnt id=hl-21-4><a class=lnlinks href=#hl-21-4> 4</a>
</span><span class=lnt id=hl-21-5><a class=lnlinks href=#hl-21-5> 5</a>
</span><span class=lnt id=hl-21-6><a class=lnlinks href=#hl-21-6> 6</a>
</span><span class=lnt id=hl-21-7><a class=lnlinks href=#hl-21-7> 7</a>
</span><span class=lnt id=hl-21-8><a class=lnlinks href=#hl-21-8> 8</a>
</span><span class=lnt id=hl-21-9><a class=lnlinks href=#hl-21-9> 9</a>
</span><span class=lnt id=hl-21-10><a class=lnlinks href=#hl-21-10>10</a>
</span><span class=lnt id=hl-21-11><a class=lnlinks href=#hl-21-11>11</a>
</span><span class=lnt id=hl-21-12><a class=lnlinks href=#hl-21-12>12</a>
</span><span class=lnt id=hl-21-13><a class=lnlinks href=#hl-21-13>13</a>
</span><span class=lnt id=hl-21-14><a class=lnlinks href=#hl-21-14>14</a>
</span><span class=lnt id=hl-21-15><a class=lnlinks href=#hl-21-15>15</a>
</span><span class=lnt id=hl-21-16><a class=lnlinks href=#hl-21-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>parameterExample</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>);</span> <span class=c1>// 1, 2
</span></span></span><span class=line><span class=cl><span class=c1></span>  
</span></span><span class=line><span class=cl>  <span class=c1>// 매개변수를 가리는 지역 변수 선언
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>var</span> <span class=nx>a</span> <span class=o>=</span> <span class=mi>3</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>);</span> <span class=c1>// 3, 2
</span></span></span><span class=line><span class=cl><span class=c1></span>  
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=nx>innerFunction</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 외부 함수의 매개변수와 변수에 접근 가능
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>);</span> <span class=c1>// 3, 2
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>innerFunction</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>parameterExample</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><p>ES6의 기본 매개변수(default parameters)와 나머지 매개변수(rest parameters)도 함수 스코프에서 사용 가능하다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1> 1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2> 2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3> 3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4> 4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5> 5</a>
</span><span class=lnt id=hl-22-6><a class=lnlinks href=#hl-22-6> 6</a>
</span><span class=lnt id=hl-22-7><a class=lnlinks href=#hl-22-7> 7</a>
</span><span class=lnt id=hl-22-8><a class=lnlinks href=#hl-22-8> 8</a>
</span><span class=lnt id=hl-22-9><a class=lnlinks href=#hl-22-9> 9</a>
</span><span class=lnt id=hl-22-10><a class=lnlinks href=#hl-22-10>10</a>
</span><span class=lnt id=hl-22-11><a class=lnlinks href=#hl-22-11>11</a>
</span><span class=lnt id=hl-22-12><a class=lnlinks href=#hl-22-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>defaultParameterExample</span><span class=p>(</span><span class=nx>a</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=nx>b</span> <span class=o>=</span> <span class=nx>a</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>);</span> <span class=c1>// 1, 2
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>defaultParameterExample</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>restParameterExample</span><span class=p>(</span><span class=nx>a</span><span class=p>,...</span><span class=nx>rest</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>a</span><span class=p>);</span>    <span class=c1>// 1
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>rest</span><span class=p>);</span> <span class=c1>// [2, 3, 4]
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>restParameterExample</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=함수-스코프와-arguments-객체>함수 스코프와 Arguments 객체<a hidden class=anchor aria-hidden=true href=#함수-스코프와-arguments-객체>#</a></h3><p>모든 함수(화살표 함수 제외)는 <code>arguments</code> 객체를 자동으로 가지고 있다. 이 객체는 함수에 전달된 모든 인수에 접근할 수 있게 해준다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1> 1</a>
</span><span class=lnt id=hl-23-2><a class=lnlinks href=#hl-23-2> 2</a>
</span><span class=lnt id=hl-23-3><a class=lnlinks href=#hl-23-3> 3</a>
</span><span class=lnt id=hl-23-4><a class=lnlinks href=#hl-23-4> 4</a>
</span><span class=lnt id=hl-23-5><a class=lnlinks href=#hl-23-5> 5</a>
</span><span class=lnt id=hl-23-6><a class=lnlinks href=#hl-23-6> 6</a>
</span><span class=lnt id=hl-23-7><a class=lnlinks href=#hl-23-7> 7</a>
</span><span class=lnt id=hl-23-8><a class=lnlinks href=#hl-23-8> 8</a>
</span><span class=lnt id=hl-23-9><a class=lnlinks href=#hl-23-9> 9</a>
</span><span class=lnt id=hl-23-10><a class=lnlinks href=#hl-23-10>10</a>
</span><span class=lnt id=hl-23-11><a class=lnlinks href=#hl-23-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>argumentsExample</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>arguments</span><span class=p>);</span> <span class=c1>// Arguments 객체
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>arguments</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span> <span class=c1>// 첫 번째 인수
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>arguments</span><span class=p>.</span><span class=nx>length</span><span class=p>);</span> <span class=c1>// 인수의 개수
</span></span></span><span class=line><span class=cl><span class=c1></span>  
</span></span><span class=line><span class=cl>  <span class=c1>// 배열로 변환
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>args</span> <span class=o>=</span> <span class=nb>Array</span><span class=p>.</span><span class=nx>from</span><span class=p>(</span><span class=nx>arguments</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>args</span><span class=p>.</span><span class=nx>forEach</span><span class=p>(</span><span class=nx>arg</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>arg</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>argumentsExample</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;두번째&#34;</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><p><code>arguments</code> 객체는 함수 스코프 내에서만 존재하며, 내부 함수는 자신만의 <code>arguments</code> 객체를 가진다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1> 1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2> 2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3> 3</a>
</span><span class=lnt id=hl-24-4><a class=lnlinks href=#hl-24-4> 4</a>
</span><span class=lnt id=hl-24-5><a class=lnlinks href=#hl-24-5> 5</a>
</span><span class=lnt id=hl-24-6><a class=lnlinks href=#hl-24-6> 6</a>
</span><span class=lnt id=hl-24-7><a class=lnlinks href=#hl-24-7> 7</a>
</span><span class=lnt id=hl-24-8><a class=lnlinks href=#hl-24-8> 8</a>
</span><span class=lnt id=hl-24-9><a class=lnlinks href=#hl-24-9> 9</a>
</span><span class=lnt id=hl-24-10><a class=lnlinks href=#hl-24-10>10</a>
</span><span class=lnt id=hl-24-11><a class=lnlinks href=#hl-24-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>outerFunction</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;외부 함수 arguments:&#34;</span><span class=p>,</span> <span class=nx>arguments</span><span class=p>);</span> <span class=c1>// [1, 2]
</span></span></span><span class=line><span class=cl><span class=c1></span>  
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=nx>innerFunction</span><span class=p>(</span><span class=nx>c</span><span class=p>,</span> <span class=nx>d</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;내부 함수 arguments:&#34;</span><span class=p>,</span> <span class=nx>arguments</span><span class=p>);</span> <span class=c1>// [3, 4]
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>innerFunction</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>outerFunction</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=함수-스코프와-엄격-모드>함수 스코프와 엄격 모드<a hidden class=anchor aria-hidden=true href=#함수-스코프와-엄격-모드>#</a></h3><p>엄격 모드(&lsquo;use strict&rsquo;)는 함수 스코프에 영향을 미친다.<br>특히, 엄격 모드에서는 선언되지 않은 변수에 할당하면 오류가 발생한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1> 1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2> 2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3> 3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4> 4</a>
</span><span class=lnt id=hl-25-5><a class=lnlinks href=#hl-25-5> 5</a>
</span><span class=lnt id=hl-25-6><a class=lnlinks href=#hl-25-6> 6</a>
</span><span class=lnt id=hl-25-7><a class=lnlinks href=#hl-25-7> 7</a>
</span><span class=lnt id=hl-25-8><a class=lnlinks href=#hl-25-8> 8</a>
</span><span class=lnt id=hl-25-9><a class=lnlinks href=#hl-25-9> 9</a>
</span><span class=lnt id=hl-25-10><a class=lnlinks href=#hl-25-10>10</a>
</span><span class=lnt id=hl-25-11><a class=lnlinks href=#hl-25-11>11</a>
</span><span class=lnt id=hl-25-12><a class=lnlinks href=#hl-25-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>nonStrictFunction</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>undeclaredVar</span> <span class=o>=</span> <span class=s2>&#34;선언 없이 할당&#34;</span><span class=p>;</span> <span class=c1>// 문제 없음 (전역 객체에 속성 생성)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>undeclaredVar</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>strictFunction</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s1>&#39;use strict&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=c1>// undeclaredVar = &#34;선언 없이 할당&#34;; // ReferenceError: undeclaredVar is not defined
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>nonStrictFunction</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>strictFunction</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><p>엄격 모드는 함수 단위로 적용할 수 있으며, 특정 함수에만 엄격 모드를 적용하려면 함수 본문 시작 부분에 &lsquo;use strict&rsquo; 지시어를 추가한다.</p><h3 id=함수-스코프의-실제-활용-예제>함수 스코프의 실제 활용 예제<a hidden class=anchor aria-hidden=true href=#함수-스코프의-실제-활용-예제>#</a></h3><h4 id=데이터-캡슐화와-은닉>데이터 캡슐화와 은닉<a hidden class=anchor aria-hidden=true href=#데이터-캡슐화와-은닉>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1> 1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2> 2</a>
</span><span class=lnt id=hl-26-3><a class=lnlinks href=#hl-26-3> 3</a>
</span><span class=lnt id=hl-26-4><a class=lnlinks href=#hl-26-4> 4</a>
</span><span class=lnt id=hl-26-5><a class=lnlinks href=#hl-26-5> 5</a>
</span><span class=lnt id=hl-26-6><a class=lnlinks href=#hl-26-6> 6</a>
</span><span class=lnt id=hl-26-7><a class=lnlinks href=#hl-26-7> 7</a>
</span><span class=lnt id=hl-26-8><a class=lnlinks href=#hl-26-8> 8</a>
</span><span class=lnt id=hl-26-9><a class=lnlinks href=#hl-26-9> 9</a>
</span><span class=lnt id=hl-26-10><a class=lnlinks href=#hl-26-10>10</a>
</span><span class=lnt id=hl-26-11><a class=lnlinks href=#hl-26-11>11</a>
</span><span class=lnt id=hl-26-12><a class=lnlinks href=#hl-26-12>12</a>
</span><span class=lnt id=hl-26-13><a class=lnlinks href=#hl-26-13>13</a>
</span><span class=lnt id=hl-26-14><a class=lnlinks href=#hl-26-14>14</a>
</span><span class=lnt id=hl-26-15><a class=lnlinks href=#hl-26-15>15</a>
</span><span class=lnt id=hl-26-16><a class=lnlinks href=#hl-26-16>16</a>
</span><span class=lnt id=hl-26-17><a class=lnlinks href=#hl-26-17>17</a>
</span><span class=lnt id=hl-26-18><a class=lnlinks href=#hl-26-18>18</a>
</span><span class=lnt id=hl-26-19><a class=lnlinks href=#hl-26-19>19</a>
</span><span class=lnt id=hl-26-20><a class=lnlinks href=#hl-26-20>20</a>
</span><span class=lnt id=hl-26-21><a class=lnlinks href=#hl-26-21>21</a>
</span><span class=lnt id=hl-26-22><a class=lnlinks href=#hl-26-22>22</a>
</span><span class=lnt id=hl-26-23><a class=lnlinks href=#hl-26-23>23</a>
</span><span class=lnt id=hl-26-24><a class=lnlinks href=#hl-26-24>24</a>
</span><span class=lnt id=hl-26-25><a class=lnlinks href=#hl-26-25>25</a>
</span><span class=lnt id=hl-26-26><a class=lnlinks href=#hl-26-26>26</a>
</span><span class=lnt id=hl-26-27><a class=lnlinks href=#hl-26-27>27</a>
</span><span class=lnt id=hl-26-28><a class=lnlinks href=#hl-26-28>28</a>
</span><span class=lnt id=hl-26-29><a class=lnlinks href=#hl-26-29>29</a>
</span><span class=lnt id=hl-26-30><a class=lnlinks href=#hl-26-30>30</a>
</span><span class=lnt id=hl-26-31><a class=lnlinks href=#hl-26-31>31</a>
</span><span class=lnt id=hl-26-32><a class=lnlinks href=#hl-26-32>32</a>
</span><span class=lnt id=hl-26-33><a class=lnlinks href=#hl-26-33>33</a>
</span><span class=lnt id=hl-26-34><a class=lnlinks href=#hl-26-34>34</a>
</span><span class=lnt id=hl-26-35><a class=lnlinks href=#hl-26-35>35</a>
</span><span class=lnt id=hl-26-36><a class=lnlinks href=#hl-26-36>36</a>
</span><span class=lnt id=hl-26-37><a class=lnlinks href=#hl-26-37>37</a>
</span><span class=lnt id=hl-26-38><a class=lnlinks href=#hl-26-38>38</a>
</span><span class=lnt id=hl-26-39><a class=lnlinks href=#hl-26-39>39</a>
</span><span class=lnt id=hl-26-40><a class=lnlinks href=#hl-26-40>40</a>
</span><span class=lnt id=hl-26-41><a class=lnlinks href=#hl-26-41>41</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>userManager</span> <span class=o>=</span> <span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 프라이빗 데이터
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>users</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>nextId</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 프라이빗 함수
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>function</span> <span class=nx>validateUser</span><span class=p>(</span><span class=nx>user</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>user</span> <span class=o>&amp;&amp;</span> <span class=nx>user</span><span class=p>.</span><span class=nx>name</span> <span class=o>&amp;&amp;</span> <span class=k>typeof</span> <span class=nx>user</span><span class=p>.</span><span class=nx>name</span> <span class=o>===</span> <span class=s2>&#34;string&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 퍼블릭 API
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>addUser</span><span class=o>:</span> <span class=kd>function</span><span class=p>(</span><span class=nx>user</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>validateUser</span><span class=p>(</span><span class=nx>user</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>newUser</span> <span class=o>=</span> <span class=p>{</span> <span class=err>…</span><span class=nx>user</span><span class=p>,</span> <span class=nx>id</span><span class=o>:</span> <span class=nx>nextId</span><span class=o>++</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>        <span class=nx>users</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>newUser</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>newUser</span><span class=p>.</span><span class=nx>id</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>getUserById</span><span class=o>:</span> <span class=kd>function</span><span class=p>(</span><span class=nx>id</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=nx>users</span><span class=p>.</span><span class=nx>find</span><span class=p>(</span><span class=nx>user</span> <span class=p>=&gt;</span> <span class=nx>user</span><span class=p>.</span><span class=nx>id</span> <span class=o>===</span> <span class=nx>id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>user</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 복사본 반환하여 원본 보호
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=p>{</span> <span class=err>…</span><span class=nx>user</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>getAllUsers</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 복사본 배열 반환하여 원본 보호
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>return</span> <span class=nx>users</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=nx>user</span> <span class=p>=&gt;</span> <span class=p>({</span> <span class=err>…</span><span class=nx>user</span> <span class=p>}));</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>})();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 사용 예
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>userId</span> <span class=o>=</span> <span class=nx>userManager</span><span class=p>.</span><span class=nx>addUser</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;홍길동&#34;</span><span class=p>,</span> <span class=nx>age</span><span class=o>:</span> <span class=mi>30</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>userManager</span><span class=p>.</span><span class=nx>getUserById</span><span class=p>(</span><span class=nx>userId</span><span class=p>));</span> <span class=c1>// { name: &#34;홍길동&#34;, age: 30, id: 1 }
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>userManager</span><span class=p>.</span><span class=nx>getAllUsers</span><span class=p>());</span> <span class=c1>// [{ name: &#34;홍길동&#34;, age: 30, id: 1 }]
</span></span></span></code></pre></td></tr></table></div></div><h4 id=함수-팩토리>함수 팩토리<a hidden class=anchor aria-hidden=true href=#함수-팩토리>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1> 1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2> 2</a>
</span><span class=lnt id=hl-27-3><a class=lnlinks href=#hl-27-3> 3</a>
</span><span class=lnt id=hl-27-4><a class=lnlinks href=#hl-27-4> 4</a>
</span><span class=lnt id=hl-27-5><a class=lnlinks href=#hl-27-5> 5</a>
</span><span class=lnt id=hl-27-6><a class=lnlinks href=#hl-27-6> 6</a>
</span><span class=lnt id=hl-27-7><a class=lnlinks href=#hl-27-7> 7</a>
</span><span class=lnt id=hl-27-8><a class=lnlinks href=#hl-27-8> 8</a>
</span><span class=lnt id=hl-27-9><a class=lnlinks href=#hl-27-9> 9</a>
</span><span class=lnt id=hl-27-10><a class=lnlinks href=#hl-27-10>10</a>
</span><span class=lnt id=hl-27-11><a class=lnlinks href=#hl-27-11>11</a>
</span><span class=lnt id=hl-27-12><a class=lnlinks href=#hl-27-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>createMultiplier</span><span class=p>(</span><span class=nx>multiplier</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 외부 함수의 매개변수를 내부 함수가 기억
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>return</span> <span class=kd>function</span><span class=p>(</span><span class=nx>number</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>number</span> <span class=o>*</span> <span class=nx>multiplier</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=kr>double</span> <span class=o>=</span> <span class=nx>createMultiplier</span><span class=p>(</span><span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>triple</span> <span class=o>=</span> <span class=nx>createMultiplier</span><span class=p>(</span><span class=mi>3</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=kr>double</span><span class=p>(</span><span class=mi>5</span><span class=p>));</span> <span class=c1>// 10
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>triple</span><span class=p>(</span><span class=mi>5</span><span class=p>));</span> <span class=c1>// 15
</span></span></span></code></pre></td></tr></table></div></div><h4 id=이벤트-핸들러와-클로저>이벤트 핸들러와 클로저<a hidden class=anchor aria-hidden=true href=#이벤트-핸들러와-클로저>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-28-1><a class=lnlinks href=#hl-28-1> 1</a>
</span><span class=lnt id=hl-28-2><a class=lnlinks href=#hl-28-2> 2</a>
</span><span class=lnt id=hl-28-3><a class=lnlinks href=#hl-28-3> 3</a>
</span><span class=lnt id=hl-28-4><a class=lnlinks href=#hl-28-4> 4</a>
</span><span class=lnt id=hl-28-5><a class=lnlinks href=#hl-28-5> 5</a>
</span><span class=lnt id=hl-28-6><a class=lnlinks href=#hl-28-6> 6</a>
</span><span class=lnt id=hl-28-7><a class=lnlinks href=#hl-28-7> 7</a>
</span><span class=lnt id=hl-28-8><a class=lnlinks href=#hl-28-8> 8</a>
</span><span class=lnt id=hl-28-9><a class=lnlinks href=#hl-28-9> 9</a>
</span><span class=lnt id=hl-28-10><a class=lnlinks href=#hl-28-10>10</a>
</span><span class=lnt id=hl-28-11><a class=lnlinks href=#hl-28-11>11</a>
</span><span class=lnt id=hl-28-12><a class=lnlinks href=#hl-28-12>12</a>
</span><span class=lnt id=hl-28-13><a class=lnlinks href=#hl-28-13>13</a>
</span><span class=lnt id=hl-28-14><a class=lnlinks href=#hl-28-14>14</a>
</span><span class=lnt id=hl-28-15><a class=lnlinks href=#hl-28-15>15</a>
</span><span class=lnt id=hl-28-16><a class=lnlinks href=#hl-28-16>16</a>
</span><span class=lnt id=hl-28-17><a class=lnlinks href=#hl-28-17>17</a>
</span><span class=lnt id=hl-28-18><a class=lnlinks href=#hl-28-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>setupButtons</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>buttons</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>querySelectorAll</span><span class=p>(</span><span class=s1>&#39;.button&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>buttons</span><span class=p>.</span><span class=nx>forEach</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>button</span><span class=p>,</span> <span class=nx>index</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 각 버튼에 대한 데이터 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>buttonData</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>id</span><span class=o>:</span> <span class=sb>`button-</span><span class=si>${</span><span class=nx>index</span><span class=si>}</span><span class=sb>`</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>clickCount</span><span class=o>:</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 이벤트 리스너 등록
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>button</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;click&#39;</span><span class=p>,</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 클로저를 통해 buttonData에 계속 접근 가능
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nx>buttonData</span><span class=p>.</span><span class=nx>clickCount</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=nx>buttonData</span><span class=p>.</span><span class=nx>id</span><span class=si>}</span><span class=sb> 클릭 수: </span><span class=si>${</span><span class=nx>buttonData</span><span class=p>.</span><span class=nx>clickCount</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=모듈-패턴으로-상태-관리>모듈 패턴으로 상태 관리<a hidden class=anchor aria-hidden=true href=#모듈-패턴으로-상태-관리>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-29-1><a class=lnlinks href=#hl-29-1> 1</a>
</span><span class=lnt id=hl-29-2><a class=lnlinks href=#hl-29-2> 2</a>
</span><span class=lnt id=hl-29-3><a class=lnlinks href=#hl-29-3> 3</a>
</span><span class=lnt id=hl-29-4><a class=lnlinks href=#hl-29-4> 4</a>
</span><span class=lnt id=hl-29-5><a class=lnlinks href=#hl-29-5> 5</a>
</span><span class=lnt id=hl-29-6><a class=lnlinks href=#hl-29-6> 6</a>
</span><span class=lnt id=hl-29-7><a class=lnlinks href=#hl-29-7> 7</a>
</span><span class=lnt id=hl-29-8><a class=lnlinks href=#hl-29-8> 8</a>
</span><span class=lnt id=hl-29-9><a class=lnlinks href=#hl-29-9> 9</a>
</span><span class=lnt id=hl-29-10><a class=lnlinks href=#hl-29-10>10</a>
</span><span class=lnt id=hl-29-11><a class=lnlinks href=#hl-29-11>11</a>
</span><span class=lnt id=hl-29-12><a class=lnlinks href=#hl-29-12>12</a>
</span><span class=lnt id=hl-29-13><a class=lnlinks href=#hl-29-13>13</a>
</span><span class=lnt id=hl-29-14><a class=lnlinks href=#hl-29-14>14</a>
</span><span class=lnt id=hl-29-15><a class=lnlinks href=#hl-29-15>15</a>
</span><span class=lnt id=hl-29-16><a class=lnlinks href=#hl-29-16>16</a>
</span><span class=lnt id=hl-29-17><a class=lnlinks href=#hl-29-17>17</a>
</span><span class=lnt id=hl-29-18><a class=lnlinks href=#hl-29-18>18</a>
</span><span class=lnt id=hl-29-19><a class=lnlinks href=#hl-29-19>19</a>
</span><span class=lnt id=hl-29-20><a class=lnlinks href=#hl-29-20>20</a>
</span><span class=lnt id=hl-29-21><a class=lnlinks href=#hl-29-21>21</a>
</span><span class=lnt id=hl-29-22><a class=lnlinks href=#hl-29-22>22</a>
</span><span class=lnt id=hl-29-23><a class=lnlinks href=#hl-29-23>23</a>
</span><span class=lnt id=hl-29-24><a class=lnlinks href=#hl-29-24>24</a>
</span><span class=lnt id=hl-29-25><a class=lnlinks href=#hl-29-25>25</a>
</span><span class=lnt id=hl-29-26><a class=lnlinks href=#hl-29-26>26</a>
</span><span class=lnt id=hl-29-27><a class=lnlinks href=#hl-29-27>27</a>
</span><span class=lnt id=hl-29-28><a class=lnlinks href=#hl-29-28>28</a>
</span><span class=lnt id=hl-29-29><a class=lnlinks href=#hl-29-29>29</a>
</span><span class=lnt id=hl-29-30><a class=lnlinks href=#hl-29-30>30</a>
</span><span class=lnt id=hl-29-31><a class=lnlinks href=#hl-29-31>31</a>
</span><span class=lnt id=hl-29-32><a class=lnlinks href=#hl-29-32>32</a>
</span><span class=lnt id=hl-29-33><a class=lnlinks href=#hl-29-33>33</a>
</span><span class=lnt id=hl-29-34><a class=lnlinks href=#hl-29-34>34</a>
</span><span class=lnt id=hl-29-35><a class=lnlinks href=#hl-29-35>35</a>
</span><span class=lnt id=hl-29-36><a class=lnlinks href=#hl-29-36>36</a>
</span><span class=lnt id=hl-29-37><a class=lnlinks href=#hl-29-37>37</a>
</span><span class=lnt id=hl-29-38><a class=lnlinks href=#hl-29-38>38</a>
</span><span class=lnt id=hl-29-39><a class=lnlinks href=#hl-29-39>39</a>
</span><span class=lnt id=hl-29-40><a class=lnlinks href=#hl-29-40>40</a>
</span><span class=lnt id=hl-29-41><a class=lnlinks href=#hl-29-41>41</a>
</span><span class=lnt id=hl-29-42><a class=lnlinks href=#hl-29-42>42</a>
</span><span class=lnt id=hl-29-43><a class=lnlinks href=#hl-29-43>43</a>
</span><span class=lnt id=hl-29-44><a class=lnlinks href=#hl-29-44>44</a>
</span><span class=lnt id=hl-29-45><a class=lnlinks href=#hl-29-45>45</a>
</span><span class=lnt id=hl-29-46><a class=lnlinks href=#hl-29-46>46</a>
</span><span class=lnt id=hl-29-47><a class=lnlinks href=#hl-29-47>47</a>
</span><span class=lnt id=hl-29-48><a class=lnlinks href=#hl-29-48>48</a>
</span><span class=lnt id=hl-29-49><a class=lnlinks href=#hl-29-49>49</a>
</span><span class=lnt id=hl-29-50><a class=lnlinks href=#hl-29-50>50</a>
</span><span class=lnt id=hl-29-51><a class=lnlinks href=#hl-29-51>51</a>
</span><span class=lnt id=hl-29-52><a class=lnlinks href=#hl-29-52>52</a>
</span><span class=lnt id=hl-29-53><a class=lnlinks href=#hl-29-53>53</a>
</span><span class=lnt id=hl-29-54><a class=lnlinks href=#hl-29-54>54</a>
</span><span class=lnt id=hl-29-55><a class=lnlinks href=#hl-29-55>55</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>counterModule</span> <span class=o>=</span> <span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 프라이빗 상태
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>let</span> <span class=nx>count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>lastOperation</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 프라이빗 함수
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>function</span> <span class=nx>validateNumber</span><span class=p>(</span><span class=nx>n</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=k>typeof</span> <span class=nx>n</span> <span class=o>===</span> <span class=s2>&#34;number&#34;</span> <span class=o>&amp;&amp;</span> <span class=o>!</span><span class=nb>isNaN</span><span class=p>(</span><span class=nx>n</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=nx>updateLastOperation</span><span class=p>(</span><span class=nx>operation</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>lastOperation</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>type</span><span class=o>:</span> <span class=nx>operation</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>value</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>timestamp</span><span class=o>:</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 퍼블릭 API
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>increment</span><span class=o>:</span> <span class=kd>function</span><span class=p>(</span><span class=nx>n</span> <span class=o>=</span> <span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>validateNumber</span><span class=p>(</span><span class=nx>n</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>count</span> <span class=o>+=</span> <span class=nx>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nx>updateLastOperation</span><span class=p>(</span><span class=s2>&#34;increment&#34;</span><span class=p>,</span> <span class=nx>n</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>count</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>decrement</span><span class=o>:</span> <span class=kd>function</span><span class=p>(</span><span class=nx>n</span> <span class=o>=</span> <span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>validateNumber</span><span class=p>(</span><span class=nx>n</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>count</span> <span class=o>-=</span> <span class=nx>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nx>updateLastOperation</span><span class=p>(</span><span class=s2>&#34;decrement&#34;</span><span class=p>,</span> <span class=nx>n</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>count</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>getCount</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>count</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>getLastOperation</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>lastOperation</span> <span class=o>?</span> <span class=p>{</span> <span class=err>…</span><span class=nx>lastOperation</span> <span class=p>}</span> <span class=o>:</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>reset</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nx>updateLastOperation</span><span class=p>(</span><span class=s2>&#34;reset&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>count</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>})();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>counterModule</span><span class=p>.</span><span class=nx>increment</span><span class=p>(</span><span class=mi>5</span><span class=p>));</span> <span class=c1>// 5
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>counterModule</span><span class=p>.</span><span class=nx>decrement</span><span class=p>(</span><span class=mi>2</span><span class=p>));</span> <span class=c1>// 3
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>counterModule</span><span class=p>.</span><span class=nx>getLastOperation</span><span class=p>());</span> <span class=c1>// { type: &#34;decrement&#34;, value: 2, timestamp: Date }
</span></span></span></code></pre></td></tr></table></div></div><h3 id=함수-스코프-관련-일반적인-문제와-해결-방법>함수 스코프 관련 일반적인 문제와 해결 방법<a hidden class=anchor aria-hidden=true href=#함수-스코프-관련-일반적인-문제와-해결-방법>#</a></h3><h4 id=전역-네임스페이스-오염>전역 네임스페이스 오염<a hidden class=anchor aria-hidden=true href=#전역-네임스페이스-오염>#</a></h4><p>문제: 전역 변수와 함수가 너무 많아 이름 충돌이 발생할 수 있다.<br>해결: 네임스페이스 패턴이나 모듈 패턴을 사용한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-30-1><a class=lnlinks href=#hl-30-1> 1</a>
</span><span class=lnt id=hl-30-2><a class=lnlinks href=#hl-30-2> 2</a>
</span><span class=lnt id=hl-30-3><a class=lnlinks href=#hl-30-3> 3</a>
</span><span class=lnt id=hl-30-4><a class=lnlinks href=#hl-30-4> 4</a>
</span><span class=lnt id=hl-30-5><a class=lnlinks href=#hl-30-5> 5</a>
</span><span class=lnt id=hl-30-6><a class=lnlinks href=#hl-30-6> 6</a>
</span><span class=lnt id=hl-30-7><a class=lnlinks href=#hl-30-7> 7</a>
</span><span class=lnt id=hl-30-8><a class=lnlinks href=#hl-30-8> 8</a>
</span><span class=lnt id=hl-30-9><a class=lnlinks href=#hl-30-9> 9</a>
</span><span class=lnt id=hl-30-10><a class=lnlinks href=#hl-30-10>10</a>
</span><span class=lnt id=hl-30-11><a class=lnlinks href=#hl-30-11>11</a>
</span><span class=lnt id=hl-30-12><a class=lnlinks href=#hl-30-12>12</a>
</span><span class=lnt id=hl-30-13><a class=lnlinks href=#hl-30-13>13</a>
</span><span class=lnt id=hl-30-14><a class=lnlinks href=#hl-30-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 네임스페이스 패턴
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>MyApp</span> <span class=o>=</span> <span class=nx>MyApp</span> <span class=o>||</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>MyApp</span><span class=p>.</span><span class=nx>utils</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>formatDate</span><span class=o>:</span> <span class=kd>function</span><span class=p>(</span><span class=nx>date</span><span class=p>)</span> <span class=p>{</span> <span class=cm>/* 구현 */</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>calculateAge</span><span class=o>:</span> <span class=kd>function</span><span class=p>(</span><span class=nx>birthDate</span><span class=p>)</span> <span class=p>{</span> <span class=cm>/* 구현 */</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>MyApp</span><span class=p>.</span><span class=nx>models</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>User</span><span class=o>:</span> <span class=kd>function</span><span class=p>(</span><span class=nx>name</span><span class=p>)</span> <span class=p>{</span> <span class=cm>/* 구현 */</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 사용
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>MyApp</span><span class=p>.</span><span class=nx>utils</span><span class=p>.</span><span class=nx>formatDate</span><span class=p>(</span><span class=k>new</span> <span class=nb>Date</span><span class=p>());</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=반복문에서의-클로저-문제>반복문에서의 클로저 문제<a hidden class=anchor aria-hidden=true href=#반복문에서의-클로저-문제>#</a></h4><p>문제: <code>var</code>를 사용한 반복문에서 비동기 함수를 생성할 때 예상치 못한 동작이 발생한다.<br>해결: 즉시 실행 함수(IIFE)나 <code>let</code>을 사용한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-31-1><a class=lnlinks href=#hl-31-1> 1</a>
</span><span class=lnt id=hl-31-2><a class=lnlinks href=#hl-31-2> 2</a>
</span><span class=lnt id=hl-31-3><a class=lnlinks href=#hl-31-3> 3</a>
</span><span class=lnt id=hl-31-4><a class=lnlinks href=#hl-31-4> 4</a>
</span><span class=lnt id=hl-31-5><a class=lnlinks href=#hl-31-5> 5</a>
</span><span class=lnt id=hl-31-6><a class=lnlinks href=#hl-31-6> 6</a>
</span><span class=lnt id=hl-31-7><a class=lnlinks href=#hl-31-7> 7</a>
</span><span class=lnt id=hl-31-8><a class=lnlinks href=#hl-31-8> 8</a>
</span><span class=lnt id=hl-31-9><a class=lnlinks href=#hl-31-9> 9</a>
</span><span class=lnt id=hl-31-10><a class=lnlinks href=#hl-31-10>10</a>
</span><span class=lnt id=hl-31-11><a class=lnlinks href=#hl-31-11>11</a>
</span><span class=lnt id=hl-31-12><a class=lnlinks href=#hl-31-12>12</a>
</span><span class=lnt id=hl-31-13><a class=lnlinks href=#hl-31-13>13</a>
</span><span class=lnt id=hl-31-14><a class=lnlinks href=#hl-31-14>14</a>
</span><span class=lnt id=hl-31-15><a class=lnlinks href=#hl-31-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// IIFE 해결법
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>for</span> <span class=p>(</span><span class=kd>var</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=mi>3</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>index</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>setTimeout</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>index</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span> <span class=mi>1000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>})(</span><span class=nx>i</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// let 해결법
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=mi>3</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>setTimeout</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>i</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=mi>1000</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=this-컨텍스트-문제>This 컨텍스트 문제<a hidden class=anchor aria-hidden=true href=#this-컨텍스트-문제>#</a></h4><p>문제: 함수 내에서 <code>this</code>가 예상과 다르게 바인딩된다.<br>해결: 화살표 함수, <code>bind()</code>, <code>var self = this</code> 패턴을 사용한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-32-1><a class=lnlinks href=#hl-32-1> 1</a>
</span><span class=lnt id=hl-32-2><a class=lnlinks href=#hl-32-2> 2</a>
</span><span class=lnt id=hl-32-3><a class=lnlinks href=#hl-32-3> 3</a>
</span><span class=lnt id=hl-32-4><a class=lnlinks href=#hl-32-4> 4</a>
</span><span class=lnt id=hl-32-5><a class=lnlinks href=#hl-32-5> 5</a>
</span><span class=lnt id=hl-32-6><a class=lnlinks href=#hl-32-6> 6</a>
</span><span class=lnt id=hl-32-7><a class=lnlinks href=#hl-32-7> 7</a>
</span><span class=lnt id=hl-32-8><a class=lnlinks href=#hl-32-8> 8</a>
</span><span class=lnt id=hl-32-9><a class=lnlinks href=#hl-32-9> 9</a>
</span><span class=lnt id=hl-32-10><a class=lnlinks href=#hl-32-10>10</a>
</span><span class=lnt id=hl-32-11><a class=lnlinks href=#hl-32-11>11</a>
</span><span class=lnt id=hl-32-12><a class=lnlinks href=#hl-32-12>12</a>
</span><span class=lnt id=hl-32-13><a class=lnlinks href=#hl-32-13>13</a>
</span><span class=lnt id=hl-32-14><a class=lnlinks href=#hl-32-14>14</a>
</span><span class=lnt id=hl-32-15><a class=lnlinks href=#hl-32-15>15</a>
</span><span class=lnt id=hl-32-16><a class=lnlinks href=#hl-32-16>16</a>
</span><span class=lnt id=hl-32-17><a class=lnlinks href=#hl-32-17>17</a>
</span><span class=lnt id=hl-32-18><a class=lnlinks href=#hl-32-18>18</a>
</span><span class=lnt id=hl-32-19><a class=lnlinks href=#hl-32-19>19</a>
</span><span class=lnt id=hl-32-20><a class=lnlinks href=#hl-32-20>20</a>
</span><span class=lnt id=hl-32-21><a class=lnlinks href=#hl-32-21>21</a>
</span><span class=lnt id=hl-32-22><a class=lnlinks href=#hl-32-22>22</a>
</span><span class=lnt id=hl-32-23><a class=lnlinks href=#hl-32-23>23</a>
</span><span class=lnt id=hl-32-24><a class=lnlinks href=#hl-32-24>24</a>
</span><span class=lnt id=hl-32-25><a class=lnlinks href=#hl-32-25>25</a>
</span><span class=lnt id=hl-32-26><a class=lnlinks href=#hl-32-26>26</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>ThisProblemExample</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>this</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=mi>42</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 문제
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>setTimeout</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>value</span><span class=p>);</span> <span class=c1>// undefined (this가 전역 객체를 가리킴)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>},</span> <span class=mi>1000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 해결책 1: 화살표 함수 사용
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>value</span><span class=p>);</span> <span class=c1>// 42
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>},</span> <span class=mi>1000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 해결책 2: bind() 사용
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>setTimeout</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>value</span><span class=p>);</span> <span class=c1>// 42
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>),</span> <span class=mi>1000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 해결책 3: self 패턴 사용
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>var</span> <span class=nx>self</span> <span class=o>=</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>setTimeout</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>self</span><span class=p>.</span><span class=nx>value</span><span class=p>);</span> <span class=c1>// 42
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>},</span> <span class=mi>1000</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>new</span> <span class=nx>ThisProblemExample</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=함수-스코프와-메모리-관리>함수 스코프와 메모리 관리<a hidden class=anchor aria-hidden=true href=#함수-스코프와-메모리-관리>#</a></h3><p>함수 스코프는 메모리 관리에도 중요한 영향을 미친다.<br>함수가 종료되면 해당 함수 스코프의 변수들은 일반적으로 가비지 컬렉션의 대상이 된다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-33-1><a class=lnlinks href=#hl-33-1> 1</a>
</span><span class=lnt id=hl-33-2><a class=lnlinks href=#hl-33-2> 2</a>
</span><span class=lnt id=hl-33-3><a class=lnlinks href=#hl-33-3> 3</a>
</span><span class=lnt id=hl-33-4><a class=lnlinks href=#hl-33-4> 4</a>
</span><span class=lnt id=hl-33-5><a class=lnlinks href=#hl-33-5> 5</a>
</span><span class=lnt id=hl-33-6><a class=lnlinks href=#hl-33-6> 6</a>
</span><span class=lnt id=hl-33-7><a class=lnlinks href=#hl-33-7> 7</a>
</span><span class=lnt id=hl-33-8><a class=lnlinks href=#hl-33-8> 8</a>
</span><span class=lnt id=hl-33-9><a class=lnlinks href=#hl-33-9> 9</a>
</span><span class=lnt id=hl-33-10><a class=lnlinks href=#hl-33-10>10</a>
</span><span class=lnt id=hl-33-11><a class=lnlinks href=#hl-33-11>11</a>
</span><span class=lnt id=hl-33-12><a class=lnlinks href=#hl-33-12>12</a>
</span><span class=lnt id=hl-33-13><a class=lnlinks href=#hl-33-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>processLargeData</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 대용량 데이터 생성
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>largeArray</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Array</span><span class=p>(</span><span class=mi>10000000</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=s1>&#39;데이터&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 데이터 처리
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>largeArray</span><span class=p>.</span><span class=nx>reduce</span><span class=p>((</span><span class=nx>acc</span><span class=p>,</span> <span class=nx>item</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>acc</span> <span class=o>+</span> <span class=nx>item</span><span class=p>.</span><span class=nx>length</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 함수가 종료되면 largeArray는 가비지 컬렉션 대상이 됨
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>return</span> <span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>processLargeData</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=c1>// 이 시점에서 largeArray는 메모리에서 해제될 수 있음
</span></span></span></code></pre></td></tr></table></div></div><p>하지만 클로저가 사용되면 해당 변수는 계속 유지된다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-34-1><a class=lnlinks href=#hl-34-1> 1</a>
</span><span class=lnt id=hl-34-2><a class=lnlinks href=#hl-34-2> 2</a>
</span><span class=lnt id=hl-34-3><a class=lnlinks href=#hl-34-3> 3</a>
</span><span class=lnt id=hl-34-4><a class=lnlinks href=#hl-34-4> 4</a>
</span><span class=lnt id=hl-34-5><a class=lnlinks href=#hl-34-5> 5</a>
</span><span class=lnt id=hl-34-6><a class=lnlinks href=#hl-34-6> 6</a>
</span><span class=lnt id=hl-34-7><a class=lnlinks href=#hl-34-7> 7</a>
</span><span class=lnt id=hl-34-8><a class=lnlinks href=#hl-34-8> 8</a>
</span><span class=lnt id=hl-34-9><a class=lnlinks href=#hl-34-9> 9</a>
</span><span class=lnt id=hl-34-10><a class=lnlinks href=#hl-34-10>10</a>
</span><span class=lnt id=hl-34-11><a class=lnlinks href=#hl-34-11>11</a>
</span><span class=lnt id=hl-34-12><a class=lnlinks href=#hl-34-12>12</a>
</span><span class=lnt id=hl-34-13><a class=lnlinks href=#hl-34-13>13</a>
</span><span class=lnt id=hl-34-14><a class=lnlinks href=#hl-34-14>14</a>
</span><span class=lnt id=hl-34-15><a class=lnlinks href=#hl-34-15>15</a>
</span><span class=lnt id=hl-34-16><a class=lnlinks href=#hl-34-16>16</a>
</span><span class=lnt id=hl-34-17><a class=lnlinks href=#hl-34-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>createDataManager</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 대용량 데이터 생성
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>largeArray</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Array</span><span class=p>(</span><span class=mi>1000000</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=s1>&#39;데이터&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 클로저가 largeArray를 참조하므로 메모리에서 해제되지 않음
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>getItem</span><span class=o>:</span> <span class=kd>function</span><span class=p>(</span><span class=nx>index</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>largeArray</span><span class=p>[</span><span class=nx>index</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>getLength</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>largeArray</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>manager</span> <span class=o>=</span> <span class=nx>createDataManager</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=c1>// largeArray는 계속 메모리에 유지됨
</span></span></span></code></pre></td></tr></table></div></div><h4 id=메모리-누수-방지하기>메모리 누수 방지하기<a hidden class=anchor aria-hidden=true href=#메모리-누수-방지하기>#</a></h4><p>클로저를 사용할 때 발생할 수 있는 메모리 누수를 방지하는 방법:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-35-1><a class=lnlinks href=#hl-35-1> 1</a>
</span><span class=lnt id=hl-35-2><a class=lnlinks href=#hl-35-2> 2</a>
</span><span class=lnt id=hl-35-3><a class=lnlinks href=#hl-35-3> 3</a>
</span><span class=lnt id=hl-35-4><a class=lnlinks href=#hl-35-4> 4</a>
</span><span class=lnt id=hl-35-5><a class=lnlinks href=#hl-35-5> 5</a>
</span><span class=lnt id=hl-35-6><a class=lnlinks href=#hl-35-6> 6</a>
</span><span class=lnt id=hl-35-7><a class=lnlinks href=#hl-35-7> 7</a>
</span><span class=lnt id=hl-35-8><a class=lnlinks href=#hl-35-8> 8</a>
</span><span class=lnt id=hl-35-9><a class=lnlinks href=#hl-35-9> 9</a>
</span><span class=lnt id=hl-35-10><a class=lnlinks href=#hl-35-10>10</a>
</span><span class=lnt id=hl-35-11><a class=lnlinks href=#hl-35-11>11</a>
</span><span class=lnt id=hl-35-12><a class=lnlinks href=#hl-35-12>12</a>
</span><span class=lnt id=hl-35-13><a class=lnlinks href=#hl-35-13>13</a>
</span><span class=lnt id=hl-35-14><a class=lnlinks href=#hl-35-14>14</a>
</span><span class=lnt id=hl-35-15><a class=lnlinks href=#hl-35-15>15</a>
</span><span class=lnt id=hl-35-16><a class=lnlinks href=#hl-35-16>16</a>
</span><span class=lnt id=hl-35-17><a class=lnlinks href=#hl-35-17>17</a>
</span><span class=lnt id=hl-35-18><a class=lnlinks href=#hl-35-18>18</a>
</span><span class=lnt id=hl-35-19><a class=lnlinks href=#hl-35-19>19</a>
</span><span class=lnt id=hl-35-20><a class=lnlinks href=#hl-35-20>20</a>
</span><span class=lnt id=hl-35-21><a class=lnlinks href=#hl-35-21>21</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>setupEventHandlers</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>button</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s1>&#39;myButton&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>largeData</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Array</span><span class=p>(</span><span class=mi>1000000</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=s1>&#39;데이터&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>button</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;click&#39;</span><span class=p>,</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>largeData</span><span class=p>.</span><span class=nx>length</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 해결책: 함수 종료 시 불필요한 참조 제거
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>return</span> <span class=kd>function</span> <span class=nx>cleanup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>button</span><span class=p>.</span><span class=nx>removeEventListener</span><span class=p>(</span><span class=s1>&#39;click&#39;</span><span class=p>,</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>largeData</span><span class=p>.</span><span class=nx>length</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 참조 제거
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>largeData</span><span class=p>.</span><span class=nx>length</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>cleanup</span> <span class=o>=</span> <span class=nx>setupEventHandlers</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=c1>// 나중에 정리가 필요할 때
</span></span></span><span class=line><span class=cl><span class=c1>// cleanup();
</span></span></span></code></pre></td></tr></table></div></div><h3 id=es6-모듈과-함수-스코프>ES6 모듈과 함수 스코프<a hidden class=anchor aria-hidden=true href=#es6-모듈과-함수-스코프>#</a></h3><p>ES6 모듈 시스템은 파일 기반 스코프를 제공하며, 함수 스코프와 함께 사용하면 더욱 강력한 모듈화가 가능하다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-36-1><a class=lnlinks href=#hl-36-1>1</a>
</span><span class=lnt id=hl-36-2><a class=lnlinks href=#hl-36-2>2</a>
</span><span class=lnt id=hl-36-3><a class=lnlinks href=#hl-36-3>3</a>
</span><span class=lnt id=hl-36-4><a class=lnlinks href=#hl-36-4>4</a>
</span><span class=lnt id=hl-36-5><a class=lnlinks href=#hl-36-5>5</a>
</span><span class=lnt id=hl-36-6><a class=lnlinks href=#hl-36-6>6</a>
</span><span class=lnt id=hl-36-7><a class=lnlinks href=#hl-36-7>7</a>
</span><span class=lnt id=hl-36-8><a class=lnlinks href=#hl-36-8>8</a>
</span><span class=lnt id=hl-36-9><a class=lnlinks href=#hl-36-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// moduleA.js
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>privateData</span> <span class=o>=</span> <span class=s2>&#34;private&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kd>function</span> <span class=nx>publicFunction</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>privateData</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=s2>&#34;public&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// privateData는 이 모듈 내에서만 접근 가능
</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-37-1><a class=lnlinks href=#hl-37-1>1</a>
</span><span class=lnt id=hl-37-2><a class=lnlinks href=#hl-37-2>2</a>
</span><span class=lnt id=hl-37-3><a class=lnlinks href=#hl-37-3>3</a>
</span><span class=lnt id=hl-37-4><a class=lnlinks href=#hl-37-4>4</a>
</span><span class=lnt id=hl-37-5><a class=lnlinks href=#hl-37-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// moduleB.js
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>publicFunction</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;./moduleA.js&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>publicFunction</span><span class=p>());</span> <span class=c1>// &#34;public&#34;
</span></span></span><span class=line><span class=cl><span class=c1>// console.log(privateData); // ReferenceError: privateData is not defined
</span></span></span></code></pre></td></tr></table></div></div><h4 id=모듈-패턴과-es6-모듈-비교>모듈 패턴과 ES6 모듈 비교<a hidden class=anchor aria-hidden=true href=#모듈-패턴과-es6-모듈-비교>#</a></h4><p>ES6 이전에는 IIFE와 클로저를 사용한 모듈 패턴이 널리 사용되었다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-38-1><a class=lnlinks href=#hl-38-1> 1</a>
</span><span class=lnt id=hl-38-2><a class=lnlinks href=#hl-38-2> 2</a>
</span><span class=lnt id=hl-38-3><a class=lnlinks href=#hl-38-3> 3</a>
</span><span class=lnt id=hl-38-4><a class=lnlinks href=#hl-38-4> 4</a>
</span><span class=lnt id=hl-38-5><a class=lnlinks href=#hl-38-5> 5</a>
</span><span class=lnt id=hl-38-6><a class=lnlinks href=#hl-38-6> 6</a>
</span><span class=lnt id=hl-38-7><a class=lnlinks href=#hl-38-7> 7</a>
</span><span class=lnt id=hl-38-8><a class=lnlinks href=#hl-38-8> 8</a>
</span><span class=lnt id=hl-38-9><a class=lnlinks href=#hl-38-9> 9</a>
</span><span class=lnt id=hl-38-10><a class=lnlinks href=#hl-38-10>10</a>
</span><span class=lnt id=hl-38-11><a class=lnlinks href=#hl-38-11>11</a>
</span><span class=lnt id=hl-38-12><a class=lnlinks href=#hl-38-12>12</a>
</span><span class=lnt id=hl-38-13><a class=lnlinks href=#hl-38-13>13</a>
</span><span class=lnt id=hl-38-14><a class=lnlinks href=#hl-38-14>14</a>
</span><span class=lnt id=hl-38-15><a class=lnlinks href=#hl-38-15>15</a>
</span><span class=lnt id=hl-38-16><a class=lnlinks href=#hl-38-16>16</a>
</span><span class=lnt id=hl-38-17><a class=lnlinks href=#hl-38-17>17</a>
</span><span class=lnt id=hl-38-18><a class=lnlinks href=#hl-38-18>18</a>
</span><span class=lnt id=hl-38-19><a class=lnlinks href=#hl-38-19>19</a>
</span><span class=lnt id=hl-38-20><a class=lnlinks href=#hl-38-20>20</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 전통적인 모듈 패턴
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>MyModule</span> <span class=o>=</span> <span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 프라이빗 변수
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>var</span> <span class=nx>privateVar</span> <span class=o>=</span> <span class=s2>&#34;private&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 프라이빗 함수
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>function</span> <span class=nx>privateFunction</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>privateVar</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 퍼블릭 API
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>publicFunction</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>privateFunction</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>})();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>MyModule</span><span class=p>.</span><span class=nx>publicFunction</span><span class=p>());</span> <span class=c1>// &#34;private&#34;
</span></span></span><span class=line><span class=cl><span class=c1>// console.log(MyModule.privateVar); // undefined
</span></span></span></code></pre></td></tr></table></div></div><p>ES6 모듈은 이런 패턴을 더 깔끔하게 대체할 수 있다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-39-1><a class=lnlinks href=#hl-39-1> 1</a>
</span><span class=lnt id=hl-39-2><a class=lnlinks href=#hl-39-2> 2</a>
</span><span class=lnt id=hl-39-3><a class=lnlinks href=#hl-39-3> 3</a>
</span><span class=lnt id=hl-39-4><a class=lnlinks href=#hl-39-4> 4</a>
</span><span class=lnt id=hl-39-5><a class=lnlinks href=#hl-39-5> 5</a>
</span><span class=lnt id=hl-39-6><a class=lnlinks href=#hl-39-6> 6</a>
</span><span class=lnt id=hl-39-7><a class=lnlinks href=#hl-39-7> 7</a>
</span><span class=lnt id=hl-39-8><a class=lnlinks href=#hl-39-8> 8</a>
</span><span class=lnt id=hl-39-9><a class=lnlinks href=#hl-39-9> 9</a>
</span><span class=lnt id=hl-39-10><a class=lnlinks href=#hl-39-10>10</a>
</span><span class=lnt id=hl-39-11><a class=lnlinks href=#hl-39-11>11</a>
</span><span class=lnt id=hl-39-12><a class=lnlinks href=#hl-39-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// module.js
</span></span></span><span class=line><span class=cl><span class=c1>// 프라이빗 변수와 함수 (export하지 않으면 모듈 외부에서 접근 불가)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>privateVar</span> <span class=o>=</span> <span class=s2>&#34;private&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>privateFunction</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>privateVar</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 퍼블릭 API (export한 것만 외부에서 접근 가능)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=kd>function</span> <span class=nx>publicFunction</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>privateFunction</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=함수-스코프와-재귀-함수>함수 스코프와 재귀 함수<a hidden class=anchor aria-hidden=true href=#함수-스코프와-재귀-함수>#</a></h3><p>재귀 함수는 자기 자신을 호출하는 함수로, 함수 스코프와 밀접한 관련이 있다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-40-1><a class=lnlinks href=#hl-40-1>1</a>
</span><span class=lnt id=hl-40-2><a class=lnlinks href=#hl-40-2>2</a>
</span><span class=lnt id=hl-40-3><a class=lnlinks href=#hl-40-3>3</a>
</span><span class=lnt id=hl-40-4><a class=lnlinks href=#hl-40-4>4</a>
</span><span class=lnt id=hl-40-5><a class=lnlinks href=#hl-40-5>5</a>
</span><span class=lnt id=hl-40-6><a class=lnlinks href=#hl-40-6>6</a>
</span><span class=lnt id=hl-40-7><a class=lnlinks href=#hl-40-7>7</a>
</span><span class=lnt id=hl-40-8><a class=lnlinks href=#hl-40-8>8</a>
</span><span class=lnt id=hl-40-9><a class=lnlinks href=#hl-40-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>factorial</span><span class=p>(</span><span class=nx>n</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 재귀 종료 조건
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>if</span> <span class=p>(</span><span class=nx>n</span> <span class=o>&lt;=</span> <span class=mi>1</span><span class=p>)</span> <span class=k>return</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 자기 자신을 호출 (함수 스코프 내에서 자신을 참조)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>return</span> <span class=nx>n</span> <span class=o>*</span> <span class=nx>factorial</span><span class=p>(</span><span class=nx>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>factorial</span><span class=p>(</span><span class=mi>5</span><span class=p>));</span> <span class=c1>// 120
</span></span></span></code></pre></td></tr></table></div></div><p>함수 표현식으로 정의된 재귀 함수는 함수 이름이 함수 스코프 내에만 존재한다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-41-1><a class=lnlinks href=#hl-41-1>1</a>
</span><span class=lnt id=hl-41-2><a class=lnlinks href=#hl-41-2>2</a>
</span><span class=lnt id=hl-41-3><a class=lnlinks href=#hl-41-3>3</a>
</span><span class=lnt id=hl-41-4><a class=lnlinks href=#hl-41-4>4</a>
</span><span class=lnt id=hl-41-5><a class=lnlinks href=#hl-41-5>5</a>
</span><span class=lnt id=hl-41-6><a class=lnlinks href=#hl-41-6>6</a>
</span><span class=lnt id=hl-41-7><a class=lnlinks href=#hl-41-7>7</a>
</span><span class=lnt id=hl-41-8><a class=lnlinks href=#hl-41-8>8</a>
</span><span class=lnt id=hl-41-9><a class=lnlinks href=#hl-41-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>factorial</span> <span class=o>=</span> <span class=kd>function</span> <span class=nx>innerFactorial</span><span class=p>(</span><span class=nx>n</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>n</span> <span class=o>&lt;=</span> <span class=mi>1</span><span class=p>)</span> <span class=k>return</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// innerFactorial은 함수 내부에서만 접근 가능
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>return</span> <span class=nx>n</span> <span class=o>*</span> <span class=nx>innerFactorial</span><span class=p>(</span><span class=nx>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>factorial</span><span class=p>(</span><span class=mi>5</span><span class=p>));</span> <span class=c1>// 120
</span></span></span><span class=line><span class=cl><span class=c1>// console.log(innerFactorial(5)); // ReferenceError: innerFactorial is not defined
</span></span></span></code></pre></td></tr></table></div></div><h3 id=함수-스코프와-디버깅-기법>함수 스코프와 디버깅 기법<a hidden class=anchor aria-hidden=true href=#함수-스코프와-디버깅-기법>#</a></h3><p>함수 스코프 관련 문제를 디버깅하는 방법:</p><h4 id=콘솔-로깅-기법>콘솔 로깅 기법<a hidden class=anchor aria-hidden=true href=#콘솔-로깅-기법>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-42-1><a class=lnlinks href=#hl-42-1> 1</a>
</span><span class=lnt id=hl-42-2><a class=lnlinks href=#hl-42-2> 2</a>
</span><span class=lnt id=hl-42-3><a class=lnlinks href=#hl-42-3> 3</a>
</span><span class=lnt id=hl-42-4><a class=lnlinks href=#hl-42-4> 4</a>
</span><span class=lnt id=hl-42-5><a class=lnlinks href=#hl-42-5> 5</a>
</span><span class=lnt id=hl-42-6><a class=lnlinks href=#hl-42-6> 6</a>
</span><span class=lnt id=hl-42-7><a class=lnlinks href=#hl-42-7> 7</a>
</span><span class=lnt id=hl-42-8><a class=lnlinks href=#hl-42-8> 8</a>
</span><span class=lnt id=hl-42-9><a class=lnlinks href=#hl-42-9> 9</a>
</span><span class=lnt id=hl-42-10><a class=lnlinks href=#hl-42-10>10</a>
</span><span class=lnt id=hl-42-11><a class=lnlinks href=#hl-42-11>11</a>
</span><span class=lnt id=hl-42-12><a class=lnlinks href=#hl-42-12>12</a>
</span><span class=lnt id=hl-42-13><a class=lnlinks href=#hl-42-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>scopeDebugging</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>outerVar</span> <span class=o>=</span> <span class=s2>&#34;외부 변수&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=nx>innerFunction</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>innerVar</span> <span class=o>=</span> <span class=s2>&#34;내부 변수&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>({</span> <span class=nx>scope</span><span class=o>:</span> <span class=s2>&#34;innerFunction&#34;</span><span class=p>,</span> <span class=nx>outerVar</span><span class=p>,</span> <span class=nx>innerVar</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>({</span> <span class=nx>scope</span><span class=o>:</span> <span class=s2>&#34;scopeDebugging&#34;</span><span class=p>,</span> <span class=nx>outerVar</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=nx>innerFunction</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>scopeDebugging</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=크롬-개발자-도구에서의-스코프-확인>크롬 개발자 도구에서의 스코프 확인<a hidden class=anchor aria-hidden=true href=#크롬-개발자-도구에서의-스코프-확인>#</a></h4><p>크롬 개발자 도구의 Sources 패널에서 디버거를 사용하면:</p><ul><li>Scope 패널에서 현재 함수 스코프의 모든 변수 확인 가능</li><li>Call Stack 패널에서 중첩된 함수 호출 스택 확인 가능</li><li>중단점(breakpoint)을 설정하여 스코프 확인 가능</li></ul><h3 id=고급-함수-스코프-패턴>고급 함수 스코프 패턴<a hidden class=anchor aria-hidden=true href=#고급-함수-스코프-패턴>#</a></h3><h4 id=커링currying>커링(Currying)<a hidden class=anchor aria-hidden=true href=#커링currying>#</a></h4><p>커링은 여러 개의 인수를 받는 함수를 하나의 인수만 받는 함수 여러 개로 분리하는 기법이다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-43-1><a class=lnlinks href=#hl-43-1> 1</a>
</span><span class=lnt id=hl-43-2><a class=lnlinks href=#hl-43-2> 2</a>
</span><span class=lnt id=hl-43-3><a class=lnlinks href=#hl-43-3> 3</a>
</span><span class=lnt id=hl-43-4><a class=lnlinks href=#hl-43-4> 4</a>
</span><span class=lnt id=hl-43-5><a class=lnlinks href=#hl-43-5> 5</a>
</span><span class=lnt id=hl-43-6><a class=lnlinks href=#hl-43-6> 6</a>
</span><span class=lnt id=hl-43-7><a class=lnlinks href=#hl-43-7> 7</a>
</span><span class=lnt id=hl-43-8><a class=lnlinks href=#hl-43-8> 8</a>
</span><span class=lnt id=hl-43-9><a class=lnlinks href=#hl-43-9> 9</a>
</span><span class=lnt id=hl-43-10><a class=lnlinks href=#hl-43-10>10</a>
</span><span class=lnt id=hl-43-11><a class=lnlinks href=#hl-43-11>11</a>
</span><span class=lnt id=hl-43-12><a class=lnlinks href=#hl-43-12>12</a>
</span><span class=lnt id=hl-43-13><a class=lnlinks href=#hl-43-13>13</a>
</span><span class=lnt id=hl-43-14><a class=lnlinks href=#hl-43-14>14</a>
</span><span class=lnt id=hl-43-15><a class=lnlinks href=#hl-43-15>15</a>
</span><span class=lnt id=hl-43-16><a class=lnlinks href=#hl-43-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 일반 함수
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>multiply</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>a</span> <span class=o>*</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 커링된 함수
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>curryMultiply</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 내부 함수가 외부 함수의 매개변수에 접근
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>return</span> <span class=kd>function</span><span class=p>(</span><span class=nx>b</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>a</span> <span class=o>*</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>multiplyBy2</span> <span class=o>=</span> <span class=nx>curryMultiply</span><span class=p>(</span><span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>multiplyBy2</span><span class=p>(</span><span class=mi>5</span><span class=p>));</span> <span class=c1>// 10
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>multiplyBy2</span><span class=p>(</span><span class=mi>10</span><span class=p>));</span> <span class=c1>// 20
</span></span></span></code></pre></td></tr></table></div></div><h4 id=메모이제이션memoization>메모이제이션(Memoization)<a hidden class=anchor aria-hidden=true href=#메모이제이션memoization>#</a></h4><p>메모이제이션은 함수의 결과를 캐싱하여 동일한 입력에 대해 계산을 반복하지 않는 최적화 기법이다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-44-1><a class=lnlinks href=#hl-44-1> 1</a>
</span><span class=lnt id=hl-44-2><a class=lnlinks href=#hl-44-2> 2</a>
</span><span class=lnt id=hl-44-3><a class=lnlinks href=#hl-44-3> 3</a>
</span><span class=lnt id=hl-44-4><a class=lnlinks href=#hl-44-4> 4</a>
</span><span class=lnt id=hl-44-5><a class=lnlinks href=#hl-44-5> 5</a>
</span><span class=lnt id=hl-44-6><a class=lnlinks href=#hl-44-6> 6</a>
</span><span class=lnt id=hl-44-7><a class=lnlinks href=#hl-44-7> 7</a>
</span><span class=lnt id=hl-44-8><a class=lnlinks href=#hl-44-8> 8</a>
</span><span class=lnt id=hl-44-9><a class=lnlinks href=#hl-44-9> 9</a>
</span><span class=lnt id=hl-44-10><a class=lnlinks href=#hl-44-10>10</a>
</span><span class=lnt id=hl-44-11><a class=lnlinks href=#hl-44-11>11</a>
</span><span class=lnt id=hl-44-12><a class=lnlinks href=#hl-44-12>12</a>
</span><span class=lnt id=hl-44-13><a class=lnlinks href=#hl-44-13>13</a>
</span><span class=lnt id=hl-44-14><a class=lnlinks href=#hl-44-14>14</a>
</span><span class=lnt id=hl-44-15><a class=lnlinks href=#hl-44-15>15</a>
</span><span class=lnt id=hl-44-16><a class=lnlinks href=#hl-44-16>16</a>
</span><span class=lnt id=hl-44-17><a class=lnlinks href=#hl-44-17>17</a>
</span><span class=lnt id=hl-44-18><a class=lnlinks href=#hl-44-18>18</a>
</span><span class=lnt id=hl-44-19><a class=lnlinks href=#hl-44-19>19</a>
</span><span class=lnt id=hl-44-20><a class=lnlinks href=#hl-44-20>20</a>
</span><span class=lnt id=hl-44-21><a class=lnlinks href=#hl-44-21>21</a>
</span><span class=lnt id=hl-44-22><a class=lnlinks href=#hl-44-22>22</a>
</span><span class=lnt id=hl-44-23><a class=lnlinks href=#hl-44-23>23</a>
</span><span class=lnt id=hl-44-24><a class=lnlinks href=#hl-44-24>24</a>
</span><span class=lnt id=hl-44-25><a class=lnlinks href=#hl-44-25>25</a>
</span><span class=lnt id=hl-44-26><a class=lnlinks href=#hl-44-26>26</a>
</span><span class=lnt id=hl-44-27><a class=lnlinks href=#hl-44-27>27</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>createMemoizedFunction</span><span class=p>(</span><span class=nx>fn</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 클로저를 사용하여 캐시 저장
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>cache</span> <span class=o>=</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=kd>function</span><span class=p>(...</span><span class=nx>args</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>key</span> <span class=o>=</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>args</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>key</span> <span class=k>in</span> <span class=nx>cache</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;캐시에서 결과 반환&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>cache</span><span class=p>[</span><span class=nx>key</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;계산 수행&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>fn</span><span class=p>.</span><span class=nx>apply</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=nx>args</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>cache</span><span class=p>[</span><span class=nx>key</span><span class=p>]</span> <span class=o>=</span> <span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>memoizedFactorial</span> <span class=o>=</span> <span class=nx>createMemoizedFunction</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>n</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>n</span> <span class=o>&lt;=</span> <span class=mi>1</span><span class=p>)</span> <span class=k>return</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>n</span> <span class=o>*</span> <span class=k>this</span><span class=p>(</span><span class=nx>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>memoizedFactorial</span><span class=p>(</span><span class=mi>5</span><span class=p>));</span> <span class=c1>// 계산 수행 (여러 번) + 결과
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>memoizedFactorial</span><span class=p>(</span><span class=mi>5</span><span class=p>));</span> <span class=c1>// 캐시에서 결과 반환 + 결과
</span></span></span></code></pre></td></tr></table></div></div><h3 id=함수-스코프-관련-모범-사례>함수 스코프 관련 모범 사례<a hidden class=anchor aria-hidden=true href=#함수-스코프-관련-모범-사례>#</a></h3><ol><li><strong>전역 변수 최소화하기</strong></li></ol><blockquote><ul><li>전역 변수는 충돌과 예상치 못한 동작의 원인이 될 수 있다.</li><li>모듈 패턴, IIFE, ES6 모듈을 사용하여 전역 스코프 오염을 방지하는 것이 좋다.</li></ul><ol><li><p><strong>즉시 실행 함수로 스코프 격리하기</strong></p><ul><li>독립적인 기능을 IIFE로 감싸 스코프를 격리한다.</li></ul></li><li><p><strong>클로저 신중하게 사용하기</strong></p><ul><li>클로저는 강력하지만 메모리 누수의 원인이 될 수 있다.</li><li>필요할 때만 클로저를 사용하고, 사용이 끝나면 참조를 제거한다.</li></ul></li><li><p><strong>var 대신 let과 const 사용하기</strong></p><ul><li><code>var</code>는 함수 스코프를, <code>let</code>과 <code>const</code>는 블록 스코프를 갖는다.</li><li>블록 스코프가 더 예측 가능한 동작을 제공한다.</li></ul></li><li><p><strong>함수는 필요한 만큼만 중첩하기</strong></p><ul><li>과도한 함수 중첩은 디버깅을 어렵게 만들 수 있다.</li><li>일반적으로 3-4단계 이상의 중첩은 피하는 것이 좋다.</li></ul></li><li><p><strong>매개변수와 지역 변수 이름 충돌 피하기</strong></p><ul><li>매개변수와 동일한 이름의 지역 변수를 선언하면 혼란을 야기할 수 있다.</li></ul></li><li><p><strong>함수 표현식에 이름 부여하기</strong></p><ul><li>이름 있는 함수 표현식은 디버깅과 재귀에 유용하다.</li></ul></li><li><p><strong>모듈 패턴 활용하기</strong></p><ul><li>관련 기능을 모듈로 그룹화하고 필요한 API만 노출한다.</li></ul></li></ol></blockquote><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/programming-languages/>Programming-Languages</a></li><li><a href=https://buenhyden.github.io/tags/javascript/>Javascript</a></li><li><a href=https://buenhyden.github.io/tags/basic-syntax/>Basic-Syntax</a></li><li><a href=https://buenhyden.github.io/tags/variables/>Variables</a></li><li><a href=https://buenhyden.github.io/tags/scopes/>Scopes</a></li><li><a href=https://buenhyden.github.io/tags/function/>Function</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/javascript/core-concepts/variables/scopes/block/><span class=title>« Prev</span><br><span>Block</span>
</a><a class=next href=https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/javascript/core-concepts/variables/scopes/global/><span class=title>Next »</span><br><span>Global</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>