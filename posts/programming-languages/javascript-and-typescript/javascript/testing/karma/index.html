<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Karma | hyunyoun's Blog</title><meta name=keywords content="Programming-Languages,Javascript,Advanced,Testing,Karma"><meta name=description content="Karma는 모든 브라우저에서 JavaScript 코드를 테스트할 수 있게 해주는 테스트 러너이다."><meta name=author content="Me"><link rel=canonical href=https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/javascript/testing/karma/><meta name=google-site-verification content="googlee06938ebbfcbac49.html"><link crossorigin=anonymous href=/assets/css/stylesheet.a9863521b3bd3c240bc506f46b95e3c06ccef2ae37f529d5f99bdaef442bccce.css integrity="sha256-qYY1IbO9PCQLxQb0a5XjwGzO8q439SnV+Zva70QrzM4=" rel="preload stylesheet" as=style><link rel=icon href=https://buenhyden.github.io/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://buenhyden.github.io/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://buenhyden.github.io/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><link rel=mask-icon href=https://buenhyden.github.io/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/javascript/testing/karma/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3156423099418350" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W8XTMYPTLC"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W8XTMYPTLC")}</script><meta property="og:url" content="https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/javascript/testing/karma/"><meta property="og:site_name" content="hyunyoun's Blog"><meta property="og:title" content="Karma"><meta property="og:description" content="Karma는 모든 브라우저에서 JavaScript 코드를 테스트할 수 있게 해주는 테스트 러너이다."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-11-22T06:17:00+00:00"><meta property="article:modified_time" content="2024-11-22T06:17:00+00:00"><meta property="article:tag" content="Programming-Languages"><meta property="article:tag" content="Javascript"><meta property="article:tag" content="Advanced"><meta property="article:tag" content="Testing"><meta property="article:tag" content="Karma"><meta property="og:image" content="https://buenhyden.github.io/images"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://buenhyden.github.io/images"><meta name=twitter:title content="Karma"><meta name=twitter:description content="Karma는 모든 브라우저에서 JavaScript 코드를 테스트할 수 있게 해주는 테스트 러너이다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"기술 블로그","item":"https://buenhyden.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Programming Languages","item":"https://buenhyden.github.io/posts/programming-languages/"},{"@type":"ListItem","position":3,"name":"JavaScript and TypeScript","item":"https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/"},{"@type":"ListItem","position":4,"name":"자바스크립트(JavaScript)","item":""},{"@type":"ListItem","position":5,"name":"Javascript Testing","item":"https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/javascript/testing/"},{"@type":"ListItem","position":6,"name":"Karma","item":"https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/javascript/testing/karma/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Karma","name":"Karma","description":"Karma는 모든 브라우저에서 JavaScript 코드를 테스트할 수 있게 해주는 테스트 러너이다.","keywords":["Programming-Languages","Javascript","Advanced","Testing","Karma"],"articleBody":"Karma Karma는 모든 브라우저에서 JavaScript 코드를 테스트할 수 있게 해주는 테스트 러너이다.\nGoogle의 AngularJS 팀이 개발했으며, 특히 브라우저 기반의 자동화된 테스트 실행에 특화되어 있다.\n여러 브라우저에서 동시에 테스트를 실행하고, 실시간으로 결과를 확인할 수 있다는 점이 큰 특징이다.\n정의와 목적 JavaScript 코드를 실제 브라우저에서 테스트할 수 있게 해주는 도구 개발자에게 생산적인 테스팅 환경을 제공하는 것이 주요 목적 설정과 기본 구조 Karma의 설정은 karma.conf.js 파일을 통해 이루어진다.\n기본적인 설정 파일은 다음과 같은 구조를 가진다:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 // karma.conf.js module.exports = function(config) { config.set({ // 기본 설정 basePath: '', frameworks: ['jasmine'], // 사용할 테스트 프레임워크 // 테스트할 파일들 files: [ 'src/**/*.js', 'test/**/*.spec.js' ], // 사용할 브라우저 browsers: ['Chrome', 'Firefox'], // 리포터 설정 reporters: ['progress', 'coverage'], // 포트 설정 port: 9876, // 색상 활성화 colors: true, // 로그 레벨 logLevel: config.LOG_INFO, // 자동 테스트 실행 autoWatch: true, // 한 번 실행 후 종료 singleRun: false }); }; 테스트 작성 예시 Karma는 다른 테스트 프레임워크(예: Jasmine, Mocha)와 함께 사용된다.\nJasmine을 사용한 테스트 예시:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 // calculator.spec.js describe('Calculator', () =\u003e { let calculator; beforeEach(() =\u003e { calculator = new Calculator(); }); it('should add two numbers correctly', () =\u003e { expect(calculator.add(2, 3)).toBe(5); }); it('should handle negative numbers', () =\u003e { expect(calculator.add(-1, 1)).toBe(0); }); }); Karma의 주요 기능과 특징 멀티 브라우저 지원\n다양한 브라우저에서 동시에 테스트를 실행할 수 있다:\n1 browsers: ['Chrome', 'Firefox', 'Safari', 'IE'], 실시간 테스트 실행\n파일이 변경될 때마다 자동으로 테스트를 실행한다:\n1 2 autoWatch: true, singleRun: false, 코드 커버리지 리포팅\nistanbul과 같은 도구를 통해 코드 커버리지를 측정할 수 있다:\n1 2 3 4 5 coverageReporter: { type: 'html', dir: 'coverage/' }, reporters: ['coverage'], 디버깅 지원\n브라우저의 개발자 도구를 사용하여 테스트를 디버깅할 수 있다:\n1 2 3 4 5 6 7 // 디버깅을 위한 설정 client: { captureConsole: true, mocha: { bail: true } } Karma의 고급 기능 프리프로세서 설정\n테스트 전에 파일을 전처리할 수 있다:\n1 2 3 4 preprocessors: { 'src/**/*.js': ['babel'], 'test/**/*.js': ['babel'] }, 플러그인 시스템\n다양한 플러그인을 통해 기능을 확장할 수 있다:\n1 2 3 4 5 plugins: [ 'karma-chrome-launcher', 'karma-jasmine', 'karma-coverage' ], CI/CD 통합\n지속적 통합 환경에서 사용하기 위한 설정:\n1 2 3 4 5 6 7 // CI 환경용 설정 if (process.env.CI) { config.set({ singleRun: true, browsers: ['ChromeHeadless'] }); } 작동 방식 웹 서버를 생성하여 소스 코드와 테스트 코드를 실행 브라우저에 테스트 결과를 전송하고 결과를 수집하여 개발자에게 보고 장점 실제 브라우저 환경에서 테스트하여 신뢰성 높은 결과 제공 다양한 브라우저와 디바이스 지원으로 크로스 브라우저 테스팅 가능 파일 변경 시 자동 테스트로 개발 생산성 향상 설정이 간단하고 유연함 사용 방법 Node.js와 npm을 이용해 설치 karma.conf.js 파일로 설정 커맨드 라인이나 IDE에서 테스트 실행 및 결과 확인 주의사항과 모범 사례 효율적인 파일 감시 설정:\n1 2 3 4 5 // 불필요한 파일 제외 exclude: [ 'node_modules/', 'dist/' ], 브라우저 선택 최적화:\n1 2 3 4 // 개발 환경과 CI 환경에서 다른 브라우저 사용 browsers: process.env.CI ? ['ChromeHeadless'] : ['Chrome', 'Firefox'], 성능 최적화:\n1 2 3 4 // 병렬 실행 설정 concurrency: Infinity, // 타임아웃 설정 captureTimeout: 60000, 참고 및 출처 Karma - Spectacular Test Runner for Javascript\n","wordCount":"541","inLanguage":"en","image":"https://buenhyden.github.io/images","datePublished":"2024-11-22T06:17:00Z","dateModified":"2024-11-22T06:17:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/javascript/testing/karma/"},"publisher":{"@type":"Organization","name":"hyunyoun's Blog","logo":{"@type":"ImageObject","url":"https://buenhyden.github.io/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://buenhyden.github.io/ accesskey=h title="Hy's Blog (Alt + H)"><img src=https://buenhyden.github.io/favicons/apple-touch-icon.png alt aria-label=logo height=35>Hy's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buenhyden.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://buenhyden.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://buenhyden.github.io/til/ title="Today I Learned"><span>Today I Learned</span></a></li><li><a href=https://buenhyden.github.io/coding-test/ title="Coding Test"><span>Coding Test</span></a></li><li><a href=https://buenhyden.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://buenhyden.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://buenhyden.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://buenhyden.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/>기술 블로그</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/programming-languages/>Programming Languages</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/>JavaScript and TypeScript</a>&nbsp;»&nbsp;<a href>자바스크립트(JavaScript)</a>&nbsp;»&nbsp;<a href=https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/javascript/testing/>Javascript Testing</a></div><h1 class="post-title entry-hint-parent">Karma</h1><div class=post-description>Karma는 모든 브라우저에서 JavaScript 코드를 테스트할 수 있게 해주는 테스트 러너이다.</div><div class=post-meta><span title='2024-11-22 06:17:00 +0000 UTC'>November 22, 2024</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/buenhyden/blog-data/main/content/posts/Programming%20Languages/JavaScript%20and%20TypeScript/JavaScript/Testing/Karma.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#karma>Karma</a><ul><li><a href=#정의와-목적>정의와 목적</a></li><li><a href=#설정과-기본-구조>설정과 기본 구조</a></li><li><a href=#테스트-작성-예시>테스트 작성 예시</a></li><li><a href=#karma의-주요-기능과-특징>Karma의 주요 기능과 특징</a></li><li><a href=#karma의-고급-기능>Karma의 고급 기능</a></li><li><a href=#작동-방식>작동 방식</a></li><li><a href=#장점>장점</a></li><li><a href=#사용-방법>사용 방법</a></li><li><a href=#주의사항과-모범-사례>주의사항과 모범 사례</a></li></ul></li><li><a href=#참고-및-출처>참고 및 출처</a></li></ul></nav></div></details></div><div class=post-content><h2 id=karma>Karma<a hidden class=anchor aria-hidden=true href=#karma>#</a></h2><p>Karma는 모든 브라우저에서 JavaScript 코드를 테스트할 수 있게 해주는 테스트 러너이다.<br>Google의 AngularJS 팀이 개발했으며, 특히 브라우저 기반의 자동화된 테스트 실행에 특화되어 있다.<br>여러 브라우저에서 동시에 테스트를 실행하고, 실시간으로 결과를 확인할 수 있다는 점이 큰 특징이다.</p><h3 id=정의와-목적>정의와 목적<a hidden class=anchor aria-hidden=true href=#정의와-목적>#</a></h3><ul><li>JavaScript 코드를 실제 브라우저에서 테스트할 수 있게 해주는 도구</li><li>개발자에게 생산적인 테스팅 환경을 제공하는 것이 주요 목적</li></ul><h3 id=설정과-기본-구조>설정과 기본 구조<a hidden class=anchor aria-hidden=true href=#설정과-기본-구조>#</a></h3><p>Karma의 설정은 karma.conf.js 파일을 통해 이루어진다.<br>기본적인 설정 파일은 다음과 같은 구조를 가진다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14>14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15>15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16>16</a>
</span><span class=lnt id=hl-0-17><a class=lnlinks href=#hl-0-17>17</a>
</span><span class=lnt id=hl-0-18><a class=lnlinks href=#hl-0-18>18</a>
</span><span class=lnt id=hl-0-19><a class=lnlinks href=#hl-0-19>19</a>
</span><span class=lnt id=hl-0-20><a class=lnlinks href=#hl-0-20>20</a>
</span><span class=lnt id=hl-0-21><a class=lnlinks href=#hl-0-21>21</a>
</span><span class=lnt id=hl-0-22><a class=lnlinks href=#hl-0-22>22</a>
</span><span class=lnt id=hl-0-23><a class=lnlinks href=#hl-0-23>23</a>
</span><span class=lnt id=hl-0-24><a class=lnlinks href=#hl-0-24>24</a>
</span><span class=lnt id=hl-0-25><a class=lnlinks href=#hl-0-25>25</a>
</span><span class=lnt id=hl-0-26><a class=lnlinks href=#hl-0-26>26</a>
</span><span class=lnt id=hl-0-27><a class=lnlinks href=#hl-0-27>27</a>
</span><span class=lnt id=hl-0-28><a class=lnlinks href=#hl-0-28>28</a>
</span><span class=lnt id=hl-0-29><a class=lnlinks href=#hl-0-29>29</a>
</span><span class=lnt id=hl-0-30><a class=lnlinks href=#hl-0-30>30</a>
</span><span class=lnt id=hl-0-31><a class=lnlinks href=#hl-0-31>31</a>
</span><span class=lnt id=hl-0-32><a class=lnlinks href=#hl-0-32>32</a>
</span><span class=lnt id=hl-0-33><a class=lnlinks href=#hl-0-33>33</a>
</span><span class=lnt id=hl-0-34><a class=lnlinks href=#hl-0-34>34</a>
</span><span class=lnt id=hl-0-35><a class=lnlinks href=#hl-0-35>35</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// karma.conf.js
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>config</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>config</span><span class=p>.</span><span class=nx>set</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 기본 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>basePath</span><span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>frameworks</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;jasmine&#39;</span><span class=p>],</span> <span class=c1>// 사용할 테스트 프레임워크
</span></span></span><span class=line><span class=cl><span class=c1></span>    
</span></span><span class=line><span class=cl>    <span class=c1>// 테스트할 파일들
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>files</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;src/**/*.js&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;test/**/*.spec.js&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 사용할 브라우저
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>browsers</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;Chrome&#39;</span><span class=p>,</span> <span class=s1>&#39;Firefox&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 리포터 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>reporters</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;progress&#39;</span><span class=p>,</span> <span class=s1>&#39;coverage&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 포트 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>port</span><span class=o>:</span> <span class=mi>9876</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 색상 활성화
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>colors</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 로그 레벨
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>logLevel</span><span class=o>:</span> <span class=nx>config</span><span class=p>.</span><span class=nx>LOG_INFO</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 자동 테스트 실행
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>autoWatch</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// 한 번 실행 후 종료
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>singleRun</span><span class=o>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=테스트-작성-예시>테스트 작성 예시<a hidden class=anchor aria-hidden=true href=#테스트-작성-예시>#</a></h3><p>Karma는 다른 테스트 프레임워크(예: Jasmine, Mocha)와 함께 사용된다.<br>Jasmine을 사용한 테스트 예시:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11>11</a>
</span><span class=lnt id=hl-1-12><a class=lnlinks href=#hl-1-12>12</a>
</span><span class=lnt id=hl-1-13><a class=lnlinks href=#hl-1-13>13</a>
</span><span class=lnt id=hl-1-14><a class=lnlinks href=#hl-1-14>14</a>
</span><span class=lnt id=hl-1-15><a class=lnlinks href=#hl-1-15>15</a>
</span><span class=lnt id=hl-1-16><a class=lnlinks href=#hl-1-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// calculator.spec.js
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>describe</span><span class=p>(</span><span class=s1>&#39;Calculator&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>calculator</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>beforeEach</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>calculator</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Calculator</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should add two numbers correctly&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>calculator</span><span class=p>.</span><span class=nx>add</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)).</span><span class=nx>toBe</span><span class=p>(</span><span class=mi>5</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s1>&#39;should handle negative numbers&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>calculator</span><span class=p>.</span><span class=nx>add</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>)).</span><span class=nx>toBe</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=karma의-주요-기능과-특징>Karma의 주요 기능과 특징<a hidden class=anchor aria-hidden=true href=#karma의-주요-기능과-특징>#</a></h3><ol><li><p>멀티 브라우저 지원<br>다양한 브라우저에서 동시에 테스트를 실행할 수 있다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>browsers</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;Chrome&#39;</span><span class=p>,</span> <span class=s1>&#39;Firefox&#39;</span><span class=p>,</span> <span class=s1>&#39;Safari&#39;</span><span class=p>,</span> <span class=s1>&#39;IE&#39;</span><span class=p>],</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>실시간 테스트 실행<br>파일이 변경될 때마다 자동으로 테스트를 실행한다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>autoWatch</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=nx>singleRun</span><span class=o>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>코드 커버리지 리포팅<br>istanbul과 같은 도구를 통해 코드 커버리지를 측정할 수 있다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2>2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3>3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4>4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>coverageReporter</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;html&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>dir</span><span class=o>:</span> <span class=s1>&#39;coverage/&#39;</span>
</span></span><span class=line><span class=cl><span class=p>},</span>
</span></span><span class=line><span class=cl><span class=nx>reporters</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;coverage&#39;</span><span class=p>],</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>디버깅 지원<br>브라우저의 개발자 도구를 사용하여 테스트를 디버깅할 수 있다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2>2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3>3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4>4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5>5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6>6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 디버깅을 위한 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>client</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>captureConsole</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>mocha</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>bail</span><span class=o>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=karma의-고급-기능>Karma의 고급 기능<a hidden class=anchor aria-hidden=true href=#karma의-고급-기능>#</a></h3><ol><li><p>프리프로세서 설정<br>테스트 전에 파일을 전처리할 수 있다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1>1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2>2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3>3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>preprocessors</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s1>&#39;src/**/*.js&#39;</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;babel&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=s1>&#39;test/**/*.js&#39;</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;babel&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>},</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>플러그인 시스템<br>다양한 플러그인을 통해 기능을 확장할 수 있다:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2>2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3>3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4>4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>plugins</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=s1>&#39;karma-chrome-launcher&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s1>&#39;karma-jasmine&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s1>&#39;karma-coverage&#39;</span>
</span></span><span class=line><span class=cl><span class=p>],</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>CI/CD 통합<br>지속적 통합 환경에서 사용하기 위한 설정:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1>1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2>2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3>3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4>4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5>5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6>6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// CI 환경용 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>if</span> <span class=p>(</span><span class=nx>process</span><span class=p>.</span><span class=nx>env</span><span class=p>.</span><span class=nx>CI</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>config</span><span class=p>.</span><span class=nx>set</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=nx>singleRun</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>browsers</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;ChromeHeadless&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=작동-방식>작동 방식<a hidden class=anchor aria-hidden=true href=#작동-방식>#</a></h3><ul><li>웹 서버를 생성하여 소스 코드와 테스트 코드를 실행</li><li>브라우저에 테스트 결과를 전송하고 결과를 수집하여 개발자에게 보고</li></ul><h3 id=장점>장점<a hidden class=anchor aria-hidden=true href=#장점>#</a></h3><ul><li>실제 브라우저 환경에서 테스트하여 신뢰성 높은 결과 제공</li><li>다양한 브라우저와 디바이스 지원으로 크로스 브라우저 테스팅 가능</li><li>파일 변경 시 자동 테스트로 개발 생산성 향상</li><li>설정이 간단하고 유연함</li></ul><h3 id=사용-방법>사용 방법<a hidden class=anchor aria-hidden=true href=#사용-방법>#</a></h3><ul><li>Node.js와 npm을 이용해 설치</li><li>karma.conf.js 파일로 설정</li><li>커맨드 라인이나 IDE에서 테스트 실행 및 결과 확인</li></ul><h3 id=주의사항과-모범-사례>주의사항과 모범 사례<a hidden class=anchor aria-hidden=true href=#주의사항과-모범-사례>#</a></h3><ol><li><p>효율적인 파일 감시 설정:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1>1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2>2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3>3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4>4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 불필요한 파일 제외
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>exclude</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=s1>&#39;node_modules/&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s1>&#39;dist/&#39;</span>
</span></span><span class=line><span class=cl><span class=p>],</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>브라우저 선택 최적화:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1>1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2>2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3>3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 개발 환경과 CI 환경에서 다른 브라우저 사용
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>browsers</span><span class=o>:</span> <span class=nx>process</span><span class=p>.</span><span class=nx>env</span><span class=p>.</span><span class=nx>CI</span> 
</span></span><span class=line><span class=cl>  <span class=o>?</span> <span class=p>[</span><span class=s1>&#39;ChromeHeadless&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=o>:</span> <span class=p>[</span><span class=s1>&#39;Chrome&#39;</span><span class=p>,</span> <span class=s1>&#39;Firefox&#39;</span><span class=p>],</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>성능 최적화:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1>1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2>2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3>3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// 병렬 실행 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>concurrency</span><span class=o>:</span> <span class=kc>Infinity</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=c1>// 타임아웃 설정
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>captureTimeout</span><span class=o>:</span> <span class=mi>60000</span><span class=p>,</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><hr><h2 id=참고-및-출처>참고 및 출처<a hidden class=anchor aria-hidden=true href=#참고-및-출처>#</a></h2><p><a href=https://karma-runner.github.io/6.4/index.html>Karma - Spectacular Test Runner for Javascript</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://buenhyden.github.io/tags/programming-languages/>Programming-Languages</a></li><li><a href=https://buenhyden.github.io/tags/javascript/>Javascript</a></li><li><a href=https://buenhyden.github.io/tags/advanced/>Advanced</a></li><li><a href=https://buenhyden.github.io/tags/testing/>Testing</a></li><li><a href=https://buenhyden.github.io/tags/karma/>Karma</a></li></ul><nav class=paginav><a class=prev href=https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/javascript/testing/jasmine/><span class=title>« Prev</span><br><span>jasmine</span>
</a><a class=next href=https://buenhyden.github.io/posts/programming-languages/javascript-and-typescript/runtime-environments/nodejs/library/logging/winston/><span class=title>Next »</span><br><span>winston</span></a></nav></footer><div class=comments><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const n={src:"https://giscus.app/client.js","data-repo":"buenhyden/buenhyden.github.io","data-repo-id":"R_kgDONsSnFQ","data-category":"General","data-category-id":"DIC_kwDONsSnFc4CmK-R","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":getStoredTheme(),"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(n).forEach(([t,n])=>e.setAttribute(t,n)),console.log(e),document.querySelector(".comments").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme)})</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://buenhyden.github.io/>hyunyoun's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>